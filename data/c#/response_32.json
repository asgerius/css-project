[{"tags": ["c#", "simple-injector"], "comments": [{"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1440050031, "post_id": 32107492, "comment_id": 52114534, "body": "Can you update your code and show a complete reproducible example? I&#39;m unable to reproduce your issue. What the exception message says is that you have a second registration somewhere: a closed one. Did you have an <code>RegisterManyForOpenGeneric</code> registration in there that you changed to <code>Register(typeof(IProducerQueue&lt;,,&gt;), assemblies)</code>?"}, {"owner": {"reputation": 43, "user_id": 5245394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba2b5f13307047ff3afc6eb3a4fb6fa?s=128&d=identicon&r=PG&f=1", "display_name": "Brian L.", "link": "https://stackoverflow.com/users/5245394/brian-l"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 1, "creation_date": 1440082391, "post_id": 32107492, "comment_id": 52135403, "body": "Ah, now I understand what&#39;s going on.  In this particular case, the registration for IProducerQueue is being overridden.  I&#39;m pretty sure that i need to change how that is done for this to work with 3.0.  -Thanks!"}, {"owner": {"reputation": 43, "user_id": 5245394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba2b5f13307047ff3afc6eb3a4fb6fa?s=128&d=identicon&r=PG&f=1", "display_name": "Brian L.", "link": "https://stackoverflow.com/users/5245394/brian-l"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1440084802, "post_id": 32107492, "comment_id": 52137170, "body": "In case anyone else upgrading runs into the same problem I did, here&#39;s what I was doing in 2.8, and what I had to change in 3.0."}, {"owner": {"reputation": 43, "user_id": 5245394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba2b5f13307047ff3afc6eb3a4fb6fa?s=128&d=identicon&r=PG&f=1", "display_name": "Brian L.", "link": "https://stackoverflow.com/users/5245394/brian-l"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1440085143, "post_id": 32107492, "comment_id": 52137381, "body": "This is a library project that allows consumers of the library to inject overridden replacements for various interfaces.  The way open generic&#39;s worked in 2.8, the injected overrides for those where found first, and applied.  In 3.0, since the open generic are treated more standard, that no longer worked.  So - in the base setup of the container, i register all open generics last <b>after</b> any user overrides have been applied, using RegisterConditional"}], "owner": {"reputation": 43, "user_id": 5245394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba2b5f13307047ff3afc6eb3a4fb6fa?s=128&d=identicon&r=PG&f=1", "display_name": "Brian L.", "link": "https://stackoverflow.com/users/5245394/brian-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1440049556, "creation_date": 1440028515, "last_edit_date": 1440049556, "question_id": 32107492, "link": "https://stackoverflow.com/questions/32107492/simple-injector-3-0-generics-registration", "title": "Simple injector 3.0 - generics registration", "body": "<p>I've upgraded to 3.0, and I'm having a little bit of trouble.  The following registration worked in 2.8, but is throwing an error in 3.0.  I'm thinking I'm not registering it correctly in 3.0, but I'm not sure what I've done wrong.</p>\n\n<p><strong>2.8</strong></p>\n\n<pre><code>container.RegisterOpenGeneric(typeof (IProducerQueue&lt;,,&gt;), typeof (ProducerQueue&lt;,,&gt;));\n</code></pre>\n\n<p><strong>3.0</strong></p>\n\n<pre><code>container.Register(typeof (IProducerQueue&lt;,,&gt;), typeof (ProducerQueue&lt;,,&gt;));\n</code></pre>\n\n<p>This worked in 2.8.  However, in 3.0 I am getting an error indicating that there are two possible registrations</p>\n\n<p><strong>Error:</strong></p>\n\n<blockquote>\n  <p>{\"Multiple applicable registrations found for <code>IProducerQueue&lt;FakeMessage, RedisQueueTransportConfigurationSend&lt;RedisQueueAdditionalMessageData&gt;, RedisQueueAdditionalMessageData&gt;</code>. The applicable registrations are </p>\n  \n  <p>(1) the unconditional open generic registration for <code>IProducerQueue&lt;TMessage, TTransport, TMessageData&gt;</code> using <code>ProducerQueue&lt;T, TTransport, TMessageData&gt;</code> and </p>\n  \n  <p>(2) the unconditional closed generic registration for <code>IProducerQueue&lt;FakeMessage, RedisQueueTransportConfigurationSend&lt;RedisQueueAdditionalMessageData&gt;, RedisQueueAdditionalMessageData&gt;</code> using <code>IProducerQueue&lt;FakeMessage, RedisQueueTransportConfigurationSend&lt;RedisQueueAdditionalMessageData&gt;, RedisQueueAdditionalMessageData&gt;</code>. </p>\n  \n  <p>If your goal is to make one registration a fallback in case another registration is not applicable, make the fallback registration last and check the Handled property in the predicate.\"}</p>\n</blockquote>\n\n<p>I've tried calling the <code>RegisterConditional</code> method instead - that gives the same error, which makes sense, as the above is the only registration call for this type.</p>\n"}, {"tags": ["c#", "asp.net", "wpf", "asp.net-web-api", "owin"], "comments": [{"owner": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "edited": false, "score": 1, "creation_date": 1440028222, "post_id": 32107423, "comment_id": 52109176, "body": "Does your controller constructor get called for every request?"}, {"owner": {"reputation": 121, "user_id": 3023990, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7dd147475c47ebe80fdd72abd4a6555a?s=128&d=identicon&r=PG&f=1", "display_name": "Aces_Charles", "link": "https://stackoverflow.com/users/3023990/aces-charles"}, "reply_to_user": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "edited": false, "score": 0, "creation_date": 1440028606, "post_id": 32107423, "comment_id": 52109285, "body": "@Brendan Yes the constructor is being called every request, which makes sense now you mentioned it. I changed the way I was initializing the list and it is working now. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "is_accepted": true, "score": 2, "last_activity_date": 1440029657, "creation_date": 1440029657, "answer_id": 32107641, "question_id": 32107423, "link": "https://stackoverflow.com/questions/32107423/asp-net-web-api-not-getting-newly-posted-item/32107641#32107641", "title": "ASP.NET Web API not getting newly posted item", "body": "<p>Your controller constructor is likely being called for every request (remember, HTTP is stateless).</p>\n\n<p>Use a persistent store for your <code>List&lt;Product&gt;</code>.</p>\n"}], "owner": {"reputation": 121, "user_id": 3023990, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7dd147475c47ebe80fdd72abd4a6555a?s=128&d=identicon&r=PG&f=1", "display_name": "Aces_Charles", "link": "https://stackoverflow.com/users/3023990/aces-charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 32107641, "answer_count": 1, "score": 0, "last_activity_date": 1440029657, "creation_date": 1440027970, "question_id": 32107423, "link": "https://stackoverflow.com/questions/32107423/asp-net-web-api-not-getting-newly-posted-item", "title": "ASP.NET Web API not getting newly posted item", "body": "<p>I am learning how the ASP.NET Web API works because I need it for a project I am working on. I am using OWIN to host the Web API inside a WPF application.</p>\n\n<p>I am having trouble getting my POST method to work. When I POST a new product it is being added to the products list but when I try to GET all products, it does not show up.</p>\n\n<p>This is a class I am using to test it out:</p>\n\n<pre><code>class Program\n    {\n        const string baseAddress = \"http://localhost:9000/\";\n\n        static void Main(string[] args)\n        {\n\n\n            // Start OWIN host \n            using (WebApp.Start&lt;Startup&gt;(url: baseAddress))\n            {\n                RunAsync().Wait();\n            }\n\n            Console.ReadLine();\n        }\n\n        static async Task RunAsync()\n        {\n            using(var client = new HttpClient())\n            {\n                client.BaseAddress = new Uri(baseAddress);\n                client.DefaultRequestHeaders.Accept.Clear();\n                client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n\n                //GET initial products\n                HttpResponseMessage response = await client.GetAsync(\"api/products/\");\n                if (response.IsSuccessStatusCode)\n                {\n                    Console.WriteLine(await response.Content.ReadAsStringAsync() + \"\\n\");\n                }\n\n                //POST new product\n                Product gizmo = new Product() { Id = 4, Name = \"Gizmo\", Price = 50, Category = \"Widget\"};\n                try\n                {\n                    response = await client.PostAsJsonAsync(\"api/products\", gizmo);\n                    response.EnsureSuccessStatusCode();\n                }\n                catch (HttpRequestException e)\n                {\n                    Console.WriteLine(e.Message);\n                }\n\n                //GET all products (should contain gizmo product)\n                response = await client.GetAsync(\"api/products/\");\n                if (response.IsSuccessStatusCode)\n                {\n                    Console.WriteLine(await response.Content.ReadAsStringAsync() + \"\\n\");\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>And here is my Controller class:</p>\n\n<pre><code>public class ProductsController : ApiController\n    {\n        List&lt;Product&gt; products = new List&lt;Product&gt;();\n\n        public ProductsController()\n        {\n            products.Add(new Product { Id = 1, Name = \"Tomato Soup\", Category = \"Groceries\", Price = 1 });\n            products.Add(new Product { Id = 2, Name = \"Yo-yo\", Category = \"Toys\", Price = 3.75M });\n            products.Add(new Product { Id = 3, Name = \"Hammer\", Category = \"Hardware\", Price = 16.99M });\n        }\n\n        public IEnumerable&lt;Product&gt; Get()\n        {\n            return products;\n        }\n\n        public IHttpActionResult Get(int id)\n        {\n            var product = products.FirstOrDefault((p) =&gt; p.Id == id);\n            if (product == null)\n            {\n                return NotFound();\n            }\n            return Ok(product);\n        }\n\n        public void Post(Product product) {\n            products.Add(product);\n            Console.WriteLine(\"Product Added: \" + products[products.Count - 1].Name + \"\\n\");\n        }\n    }\n</code></pre>\n\n<p>The output is showing that the new Gizmo item is added to the list:</p>\n\n<pre><code>[{\"Id\":1,\"Name\":\"Tomato Soup\",\"Category\":\"Groceries\",\"Price\":1.0},{\"Id\":2,\"Name\":\"Yo-yo\",\"Category\":\"Toys\",\"Price\":3.75},{\"Id\":3,\"Name\":\"Hammer\",\"Category\":\"Hardware\",\"Price\":16.99}]\n\nProduct Added: Gizmo\n\n[{\"Id\":1,\"Name\":\"Tomato Soup\",\"Category\":\"Groceries\",\"Price\":1.0},{\"Id\":2,\"Name\":\"Yo-yo\",\"Category\":\"Toys\",\"Price\":3.75},{\"Id\":3,\"Name\":\"Hammer\",\"Category\":\"Hardware\",\"Price\":16.99}]\n</code></pre>\n"}, {"tags": ["c#", "sharepoint", "sharepoint-2010", "timer-jobs"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6935794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2GsZd.jpg?s=128&g=1", "display_name": "RDar", "link": "https://stackoverflow.com/users/6935794/rdar"}, "is_accepted": false, "score": 0, "last_activity_date": 1501227989, "creation_date": 1501227989, "answer_id": 45367747, "question_id": 32107418, "link": "https://stackoverflow.com/questions/32107418/unexpected-exception-when-installing-timer-job-failed-to-create-receiver-objec/45367747#45367747", "title": "Unexpected exception when installing timer job - Failed to create receiver object from assembly", "body": "<p>Have you renamed your namespace?\nSharePoint is trying to create an object in namespace MundoNetElements.Features.NotificacionesContratosJob.\nThe event receiver you've included has namespace \nMundoNetElements.Features.MundoNetJob</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 700, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1501227989, "creation_date": 1440027936, "question_id": 32107418, "link": "https://stackoverflow.com/questions/32107418/unexpected-exception-when-installing-timer-job-failed-to-create-receiver-objec", "title": "Unexpected exception when installing timer job - Failed to create receiver object from assembly", "body": "<p>I have the following error when activating a feature, this feature is supposed to install a timer job.</p>\n\n<blockquote>\n  <p>Failed to create receiver object from assembly \"MundoNetElements,\n  Version=1.0.0.0, Culture=neutral, PublicKeyToken=9922d1e7c40d98f8\",\n  class\n  \"MundoNetElements.Features.NotificacionesContratosJob.NotificacionesContratosJobEventReceiver\"\n  for feature \"MundoNetElements_NotificacionesContratosJob\" (ID:\n  33578802-a775-4777-9317-518bcdaceb06).: System.ArgumentNullException:\n  Value cannot be null.  Parameter name: type     at\n  System.Activator.CreateInstance(Type type, Boolean nonPublic)     at\n  Microsoft.SharePoint.Administration.SPFeatureDefinition.get_ReceiverObject()</p>\n</blockquote>\n\n<p>This is my code,which doesnt have anything special and used several sample codes from other websites.</p>\n\n<p>.feature</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;feature xmlns:dm0=\"http://schemas.microsoft.com/VisualStudio/2008/DslTools/Core\" dslVersion=\"1.0.0.0\" Id=\"e67975ff-4d4f-4f6a-9349-e46cc0398745\" alwaysForceInstall=\"true\" description=\"This job executes periodically the notification process and the cleaning for the Mundo Net application\" featureId=\"e67975ff-4d4f-4f6a-9349-e46cc0398745\" imageUrl=\"\" receiverAssembly=\"$SharePoint.Project.AssemblyFullName$\" receiverClass=\"$SharePoint.Type.5de345c1-6a4c-48d8-8a8f-f80c531b438a.FullName$\" scope=\"Site\" solutionId=\"00000000-0000-0000-0000-000000000000\" title=\"MundoNetJob\" version=\"\" deploymentPath=\"$SharePoint.Project.FileNameWithoutExtension$_$SharePoint.Feature.FileNameWithoutExtension$\" xmlns=\"http://schemas.microsoft.com/VisualStudio/2008/SharePointTools/FeatureModel\" /&gt;\n</code></pre>\n\n<p>template.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;Feature xmlns=\"http://schemas.microsoft.com/sharepoint/\"&gt;\n&lt;/Feature&gt;\n</code></pre>\n\n<p>Event Receiver</p>\n\n<pre><code>using System;\nusing System.Runtime.InteropServices;\nusing System.Security.Permissions;\nusing Microsoft.SharePoint;\nusing Microsoft.SharePoint.Administration;\nusing Microsoft.SharePoint.Security;\n\nnamespace MundoNetElements.Features.MundoNetJob\n{\n    /// &lt;summary&gt;\n    /// Esta clase controla los eventos generados durante la activaci\u00f3n, desactivaci\u00f3n, instalaci\u00f3n, desinstalaci\u00f3n y actualizaci\u00f3n de caracter\u00edsticas.\n    /// &lt;/summary&gt;\n    /// &lt;remarks&gt;\n    /// El GUID asociado a esta clase se puede usar durante el empaquetado y no se debe modificar.\n    /// &lt;/remarks&gt;\n\n    [Guid(\"5de345c1-6a4c-48d8-8a8f-f80c531b438a\")]\n    public class MundoNetJobEventReceiver : SPFeatureReceiver\n    {\n        const string List_JOB_NAME = \"MundoNetJob\";\n\n        public override void FeatureActivated(SPFeatureReceiverProperties properties)\n        {\n            SPSite site = properties.Feature.Parent as SPSite;\n\n            foreach (SPJobDefinition job in site.WebApplication.JobDefinitions)\n            {\n                if (job.Name == List_JOB_NAME)\n                    job.Delete();\n            }\n\n            // install the job\n            MundoNetElements.MundoNetJob listLoggerJob = new MundoNetElements.MundoNetJob(List_JOB_NAME, site.WebApplication);\n            SPDailySchedule schedule = new SPDailySchedule();\n            schedule.BeginHour = 23;\n            schedule.BeginMinute = 0;\n            schedule.BeginSecond = 0;                        \n            schedule.EndHour = 23;\n            schedule.EndMinute = 15;\n            schedule.EndSecond = 0;\n            listLoggerJob.Schedule = schedule;\n            listLoggerJob.Update();\n        }\n\n        public override void FeatureDeactivating(SPFeatureReceiverProperties properties)\n        {\n            SPSite site = properties.Feature.Parent as SPSite;\n\n            foreach (SPJobDefinition job in site.WebApplication.JobDefinitions)\n            {\n                if (job.Name == List_JOB_NAME)\n                    job.Delete();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And the timer job</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing Microsoft.SharePoint;\nusing Microsoft.SharePoint.Administration;\n\nnamespace MundoNetElements\n{\n    public class MundoNetJob : SPJobDefinition\n    {\n        public MundoNetJob() : base()\n        {\n\n        }\n\n        public MundoNetJob(string jobName, SPService service, SPServer server, SPJobLockType targetType) : base(jobName, service, server, targetType)\n        {\n\n        }\n\n        public MundoNetJob(string jobName, SPWebApplication webApplication) : base(jobName, webApplication, null, SPJobLockType.ContentDatabase)\n        { \n            this.Title = \"Mundo Net job\"; \n        }\n\n        public override void Execute(Guid contentDbId)\n        {\n            // get a reference to the current site collection's content database\n\n            //SPWebApplication webApplication = this.Parent as SPWebApplication;\n\n            //SPContentDatabase contentDb = webApplication.ContentDatabases[contentDbId];\n\n            //// get a reference to the \"ListTimerJob\" list in the RootWeb of the first site collection in the content database\n\n            //SPList Listjob = contentDb.Sites[0].RootWeb.Lists[\"ListTimerJob\"];\n\n            //// create a new list Item, set the Title to the current day/time, and update the item\n\n            //SPListItem newList = Listjob.Items.Add();\n\n            //newList[\"Title\"] = DateTime.Now.ToString();\n\n            //newList.Update();\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "https"], "comments": [{"owner": {"reputation": 1635, "user_id": 4089404, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100007444487425/picture?type=large", "display_name": "Stuart Smith", "link": "https://stackoverflow.com/users/4089404/stuart-smith"}, "edited": false, "score": 1, "creation_date": 1440028407, "post_id": 32107372, "comment_id": 52109222, "body": "You are receiving back the directory structure of your IIS shouldn&#39;t you be doing a get with the following URL <a href=\"https://192.168.30.15/cgi-bin/connstatus?202\" rel=\"nofollow noreferrer\">192.168.30.15/cgi-bin/connstatus?202</a>"}, {"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 0, "creation_date": 1440028687, "post_id": 32107372, "comment_id": 52109306, "body": "You&#39;re making a POST request to a URL that is clearly a GET request. Just change the URL to <code>https:&#47;&#47;192.168.30.15&#47;cgi-bin&#47;connstatus?202</code>, don&#39;t write anything to the request stream, and set the method to <code>GET</code>. Done."}, {"owner": {"reputation": 233, "user_id": 1567310, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0781114262f404f5ab9ec41d20a0d3c5?s=128&d=identicon&r=PG", "display_name": "Chuck Bland", "link": "https://stackoverflow.com/users/1567310/chuck-bland"}, "edited": false, "score": 0, "creation_date": 1440042995, "post_id": 32107372, "comment_id": 52112511, "body": "Rob, I made your suggested changes and I&#39;m getting a new exception, as noted in the updated code at the bottom of my original posting: &quot;Cannot send a content-body with this verb-type.&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 10923, "user_id": 371, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e74e7299da165db42a5a461e150b82ff?s=128&d=identicon&r=PG", "display_name": "Dave Anderson", "link": "https://stackoverflow.com/users/371/dave-anderson"}, "is_accepted": false, "score": 2, "last_activity_date": 1440028362, "creation_date": 1440028362, "answer_id": 32107472, "question_id": 32107372, "link": "https://stackoverflow.com/questions/32107372/proper-way-to-open-this-url-in-a-c-app/32107472#32107472", "title": "Proper Way to open this URL in a C# app", "body": "<p>You are using http method POST but the url you have in the comment looks more like GET so then you probably need <code>WebRequest.Create(url + data)</code>.</p>\n\n<p>The incorrect response is the index page for <code>https://192.168.30.15/cgi-bin/</code> which if you put into Chrome will give you the same \"wrong\" response.</p>\n\n<p>You might not need to write any data to the request stream and can change the <code>Method</code> and <code>ContentType</code> for the request.</p>\n"}, {"tags": [], "owner": {"reputation": 233, "user_id": 1567310, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0781114262f404f5ab9ec41d20a0d3c5?s=128&d=identicon&r=PG", "display_name": "Chuck Bland", "link": "https://stackoverflow.com/users/1567310/chuck-bland"}, "is_accepted": false, "score": 0, "last_activity_date": 1440089908, "creation_date": 1440089908, "answer_id": 32124086, "question_id": 32107372, "link": "https://stackoverflow.com/questions/32107372/proper-way-to-open-this-url-in-a-c-app/32124086#32124086", "title": "Proper Way to open this URL in a C# app", "body": "<p>The solution required two parts.</p>\n\n<p>First, doing the proper things, thus a total code rework.</p>\n\n<p>I had the dreaded \"The server committed a protocol violation. Section=ResponseHeader Detail=Header name is invalid\". I tried to make the programatic solution for this work, but it is a .NET 2.0 solution and I was not able to figure it out in .NET4+. So, I edited the .config file and went on.</p>\n\n<p>Here's the final code:</p>\n\n<pre><code>        //Initialization\n        HttpWebRequest WebReq = (HttpWebRequest)WebRequest.Create(@\"https://192.168.30.15/cgi-bin/connstatus?202\");\n\n        //method is GET.\n        WebReq.Method = \"GET\";\n\n        //Get the response handle\n        HttpWebResponse WebResp = (HttpWebResponse)WebReq.GetResponse();\n\n        //read the response\n        Stream Answer = WebResp.GetResponseStream();\n        StreamReader _Answer = new StreamReader(Answer);\n\n        //display it\n        Console.WriteLine(_Answer.ReadToEnd());\n\n        //pause for the ENTER key\n        Console.ReadLine();\n</code></pre>\n\n<p>This was added to the .config file in the debug folder (and would be added in the Release folder also..... using VS2013)</p>\n\n<pre><code>&lt;system.net&gt;\n&lt;settings&gt;\n&lt;httpWebRequest useUnsafeHeaderParsing = \"true\"/&gt;\n&lt;/settings&gt;\n&lt;/system.net&gt;\n</code></pre>\n\n<p>Thank-you to everyone that replied. The inspiration helped me get to the solution.</p>\n"}], "owner": {"reputation": 233, "user_id": 1567310, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0781114262f404f5ab9ec41d20a0d3c5?s=128&d=identicon&r=PG", "display_name": "Chuck Bland", "link": "https://stackoverflow.com/users/1567310/chuck-bland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1440089908, "creation_date": 1440027668, "last_edit_date": 1440042894, "question_id": 32107372, "link": "https://stackoverflow.com/questions/32107372/proper-way-to-open-this-url-in-a-c-app", "title": "Proper Way to open this URL in a C# app", "body": "<p>I have a URL that I want to open in my C# app. This URL is used to talk to a communications device, not an internet web site. I have gotten by (I think) all the cert stuff. But the text I get back in the program IS NOT the same thing that CORRECTLY displays when I use a web browser.</p>\n\n<p>Here's the code.</p>\n\n<pre><code>using System;\nusing System.IO;\nusing System.Net;\nusing System.Text;\nusing System.Net.Security;\nusing System.Security.Cryptography.X509Certificates;\nusing System.Web;\n\nnamespace VMLConnStatus\n    {\n    class Program\n        {\n        static void Main(string[] args)\n            {\n            System.Net.ServicePointManager.CertificatePolicy = new MyPolicy();\n\n            // Create a request for the URL: https://192.168.30.15/cgi-bin/connstatus?202\n            String url = \"https://192.168.30.15/cgi-bin/\";\n            String data = \"connstatus?202\";\n\n            // Create a request using a URL that can receive a post. \n            WebRequest request = WebRequest.Create(url);\n\n            // Set the Method property of the request to POST.\n            request.Method = \"POST\";\n\n            // Create POST data and convert it to a byte array.\n            string postData = data;\n            byte[] byteArray = Encoding.UTF8.GetBytes(postData);\n\n            // Set the ContentType property of the WebRequest.\n            request.ContentType = \"application/x-www-form-urlencoded\";\n\n            // Set the ContentLength property of the WebRequest.\n            request.ContentLength = byteArray.Length;\n\n            // Get the request stream.\n            Stream dataStream = request.GetRequestStream();\n\n            // Write the data to the request stream.\n            dataStream.Write(byteArray, 0, byteArray.Length);\n\n            // Close the Stream object.\n            dataStream.Close();\n\n            // Get the response.\n            WebResponse response = request.GetResponse();\n\n            // Display the status.\n            Console.WriteLine(((HttpWebResponse)response).StatusDescription);\n\n            // Get the stream containing content returned by the server.\n            dataStream = response.GetResponseStream();\n\n            // Open the stream using a StreamReader for easy access.\n            StreamReader reader = new StreamReader(dataStream);\n\n            // Read the content.\n            string responseFromServer = reader.ReadToEnd();\n\n            // Display the content.\n            Console.WriteLine(responseFromServer);\n\n            // Clean up the streams.\n            reader.Close();\n            dataStream.Close();\n            response.Close();\n            Console.ReadLine();\n            }\n        }\n\n    public class MyPolicy : ICertificatePolicy\n        {\n        public bool CheckValidationResult(ServicePoint srvPoint,\n          X509Certificate certificate, WebRequest request,\n          int certificateProblem)\n            {\n            //Return True to force the certificate to be accepted.\n            return true;\n            }\n        }\n    }\n</code></pre>\n\n<p>The result, though not perfectly displayed in Chrome, should be:</p>\n\n<p>NA <BR> NA <BR> NA <BR> NA <BR> 4c:cc:34:02:6d:26 <BR> 00:23:A7:24:A3:B6 <BR></p>\n\n<p>But the text I get in the console window is:</p>\n\n<pre><code>Ok\n&lt;HTML&gt;\n&lt;HEAD&gt;&lt;TITLE&gt;Index of cgi-bin/&lt;/TITLE&gt;&lt;/HEAD&gt;\n&lt;BODY BGCOLOR=\"#99cc99\" TEXT=\"#000000\" LINK=\"#2020ff\" VLINK=\"#4040cc\"&gt;\n&lt;H4&gt;Index of cgi-bin/&lt;/H4&gt;\n&lt;PRE&gt;\n&lt;A HREF=\".\"&gt;.                               &lt;/A&gt;    15Jun2014 09:48\n 0\n&lt;A HREF=\"..\"&gt;..                              &lt;/A&gt;    15Jun2014 09:48\n  0\n&lt;A HREF=\"connstatus\"&gt;connstatus                      &lt;/A&gt;    15Jun2014 09:48\n      19580\n&lt;A HREF=\"firmwarecfg\"&gt;firmwarecfg                     &lt;/A&gt;    15Jun2014 09:48\n       45736\n&lt;A HREF=\"webcm\"&gt;webcm                           &lt;/A&gt;    15Jun2014 09:48\n 23836\n&lt;/PRE&gt;\n&lt;HR&gt;\n&lt;ADDRESS&gt;&lt;A HREF=\"http://www.acme.com/software/mini_httpd/\"&gt;mini_httpd/1.19 19de\nc2003&lt;/A&gt;&lt;/ADDRESS&gt;\n&lt;/BODY&gt;\n&lt;/HTML&gt;\n</code></pre>\n\n<p>Not EVEN close to the same thing.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>Chuck</p>\n\n<p>UPDATE: Code changed. URL, GET, and request writing (presuming I understood the directions). New code is:</p>\n\n<pre><code>static void Main(string[] args)\n    {\n    System.Net.ServicePointManager.CertificatePolicy = new MyPolicy();\n\n    // Create a request for the URL: https://192.168.30.15/cgi-bin/connstatus?202\n    String url = \"https://192.168.30.15/cgi-bin/connstatus?202\";\n\n    // Create a request using a URL that can receive a post. \n    WebRequest request = WebRequest.Create(url);\n\n    // Set the Method property of the request to POST.\n    request.Method = \"GET\";\n\n    // Set the ContentType property of the WebRequest.\n    request.ContentType = \"application/x-www-form-urlencoded\";\n\n    // Get the request stream.\n    //Now it throws an exception here--------------------------------\n    //\"Cannot send a content-body with this verb-type.\"\n    Stream dataStream = request.GetRequestStream();\n\n    // Close the Stream object.\n    dataStream.Close();\n\n    // Get the response.\n    WebResponse response = request.GetResponse();\n\n    // Display the status.\n    Console.WriteLine(((HttpWebResponse)response).StatusDescription);\n\n    // Get the stream containing content returned by the server.\n    dataStream = response.GetResponseStream();\n\n    // Open the stream using a StreamReader for easy access.\n    StreamReader reader = new StreamReader(dataStream);\n\n    // Read the content.\n    string responseFromServer = reader.ReadToEnd();\n\n    // Display the content.\n    Console.WriteLine(responseFromServer);\n\n    // Clean up the streams.\n    reader.Close();\n    dataStream.Close();\n    response.Close();\n    Console.ReadLine();\n    }\n</code></pre>\n"}, {"tags": ["c#", "delegates"], "comments": [{"owner": {"reputation": 1067, "user_id": 3133454, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IPrS4.jpg?s=128&g=1", "display_name": "ThisHandleNotInUse", "link": "https://stackoverflow.com/users/3133454/thishandlenotinuse"}, "edited": false, "score": 2, "creation_date": 1440027627, "post_id": 32107308, "comment_id": 52109011, "body": "The first is easier to type."}], "answers": [{"tags": [], "owner": {"reputation": 506, "user_id": 2267991, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b48a56fa7008bc6d00cb6ca0f81063d?s=128&d=identicon&r=PG&f=1", "display_name": "Whatever Man", "link": "https://stackoverflow.com/users/2267991/whatever-man"}, "is_accepted": false, "score": 0, "last_activity_date": 1440027622, "creation_date": 1440027622, "answer_id": 32107360, "question_id": 32107308, "link": "https://stackoverflow.com/questions/32107308/use-delegate-c/32107360#32107360", "title": "Use Delegate C#", "body": "<p>The first example uses what's called a \"lambda\" expression (introduced in .Net 3.5) which is a simpler, more succinct (and I think) more elegant way to express anonymous delegates. The second code is the older, more verbose way of doing the same thing. </p>\n"}, {"comments": [{"owner": {"reputation": 1067, "user_id": 3133454, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IPrS4.jpg?s=128&g=1", "display_name": "ThisHandleNotInUse", "link": "https://stackoverflow.com/users/3133454/thishandlenotinuse"}, "edited": false, "score": 0, "creation_date": 1440027718, "post_id": 32107368, "comment_id": 52109031, "body": "&quot;Delegates are very rarely used nowadays.&quot;  What?"}, {"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "reply_to_user": {"reputation": 1067, "user_id": 3133454, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IPrS4.jpg?s=128&g=1", "display_name": "ThisHandleNotInUse", "link": "https://stackoverflow.com/users/3133454/thishandlenotinuse"}, "edited": false, "score": 1, "creation_date": 1440027836, "post_id": 32107368, "comment_id": 52109066, "body": "@ThisHandleNotInUse I am speaking in terms of the keyword <code>delegate</code>, rather than the general meaning of a delegate, which anonymous methods are. I have only ever seen delegates used in conjunction with events. Other than that, anonymous methods with lambda syntax have pretty much replaced it."}], "tags": [], "owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "is_accepted": false, "score": 0, "last_activity_date": 1440027655, "creation_date": 1440027655, "answer_id": 32107368, "question_id": 32107308, "link": "https://stackoverflow.com/questions/32107308/use-delegate-c/32107368#32107368", "title": "Use Delegate C#", "body": "<p>They are identical in terms of the <code>IL</code> code generated. The first one is a lot nicer to read and write, though - and is generally more common. Delegates are very rarely used nowadays.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 2639926, "user_type": "registered", "profile_image": "https://graph.facebook.com/699237011/picture?type=large", "display_name": "Halex G&#243;mez", "link": "https://stackoverflow.com/users/2639926/halex-g%c3%b3mez"}, "edited": false, "score": 0, "creation_date": 1440436951, "post_id": 32107391, "comment_id": 52261429, "body": "Thank you very much , your answer me this question resolved"}], "tags": [], "owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "is_accepted": true, "score": 8, "last_activity_date": 1440028802, "last_edit_date": 1495542655, "creation_date": 1440027783, "answer_id": 32107391, "question_id": 32107308, "link": "https://stackoverflow.com/questions/32107308/use-delegate-c/32107391#32107391", "title": "Use Delegate C#", "body": "<p>It's essentially the same thing.</p>\n\n<p>The <code>delegate() { }</code> syntax was introduced in C#\u00a02.0, while the lambda syntax was introduced in C#\u00a03.0. They were designed with different goals in mind, but serve the same purpose.</p>\n\n<p>Let me quote <a href=\"http://www.informit.com/articles/article.aspx?p=2425867\" rel=\"nofollow noreferrer\">Eric Lippert</a> (it's #7 on his top 10 worst C# features):</p>\n\n<blockquote>\n  <p>I think all concerned would agree that it's unfortunate to have two inconsistent syntaxes for what is basically the same thing. C# is stuck with it, though, because existing C# 2.0 code still uses the old syntax.</p>\n  \n  <p>The \"heaviness\" of the C# 2.0 syntax was seen at the time as a benefit. The thought was that users might be confused by this new feature of nested methods, and the design team wanted a clear keyword in there calling out that a nested method was being converted to a delegate. No one could see into the future to know that a much lighter-weight syntax would be needed in a couple of years.</p>\n</blockquote>\n\n<p>You won't see the <code>delegate() { }</code> syntax being used much in new code nowadays, as virtually everyone prefers the lighter lambda <code>=&gt;</code> syntax.</p>\n\n<p><code>new Predicate&lt;FindPerson&gt;</code> just types the delegate explicitly and isn't needed anymore. It used to be mandatory in C# 1 IIRC. It can be inferred in most cases so it can be omitted (see <a href=\"https://stackoverflow.com/a/31866280/3764814\">here</a> for an example case when it's needed).</p>\n\n<p>Its existence is due to the fact that a lambda is represented by a class instance under the hood, and in this particular case <code>Predicate&lt;T&gt;</code> is that class. A \"raw\" lambda is untyped per se, but it can be implicitly converted to any compatible delegate type.</p>\n\n<p>For instance, <code>Predicate&lt;FindPerson&gt;</code> is a compatible delegate type in this example, but so is <code>Func&lt;FindPerson, bool&gt;</code>. The same lambda would also be convertible to <code>Expression&lt;Func&lt;FindPerson, bool&gt;&gt;</code>, but this is an <em>entirely</em> different matter. This is why you can't write <code>var fn = (int x) =&gt; x;</code> in C#, as \nthe type of <code>fn</code> cannot be inferred from this expression alone.</p>\n\n<p>As a recap, these are all equivalents:</p>\n\n<pre><code>// Compact lambda\nlst.Find(a =&gt; a.Name.Equals(\"Alex\"))\n\n// Explicitly typed parameter\nlst.Find((FindPerson a) =&gt; a.Name.Equals(\"Alex\"))\n\n// Explicit delegate type\nlst.Find(new Predicate&lt;FindPerson&gt;(a =&gt; a.Name.Equals(\"Alex\")))\n\n// Combination of the two above\nlst.Find(new Predicate&lt;FindPerson&gt;((FindPerson a) =&gt; a.Name.Equals(\"Alex\")))\n\n// Explicit delegate type through casting\nlst.Find((Predicate&lt;FindPerson&gt;)(a =&gt; a.Name.Equals(\"Alex\")))\n\n// Lambda block\nlst.Find(a =&gt; { return a.Name.Equals(\"Alex\"); })\n\n// Delegate block\nlst.Find((Predicate&lt;FindPerson&gt;)(delegate(FindPerson a) { return a.Name.Equals(\"Alex\"); }))\n\n// ... etc\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 196, "user_id": 4403858, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1599506345/picture?type=large", "display_name": "Vladimir Djurdjevic", "link": "https://stackoverflow.com/users/4403858/vladimir-djurdjevic"}, "is_accepted": false, "score": 0, "last_activity_date": 1440027985, "creation_date": 1440027985, "answer_id": 32107427, "question_id": 32107308, "link": "https://stackoverflow.com/questions/32107308/use-delegate-c/32107427#32107427", "title": "Use Delegate C#", "body": "<p>There is no difference except for syntax. <code>Find</code> method expects <code>Predicate&lt;T&gt;</code> as an argument, and it's on you to decide weather you are gonna create it on your own with <code>new</code> keyword, or pass a lambda expression and let compiler do that for you.</p>\n"}], "owner": {"reputation": 13, "user_id": 2639926, "user_type": "registered", "profile_image": "https://graph.facebook.com/699237011/picture?type=large", "display_name": "Halex G&#243;mez", "link": "https://stackoverflow.com/users/2639926/halex-g%c3%b3mez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 32107391, "answer_count": 4, "score": 1, "last_activity_date": 1440030681, "creation_date": 1440027230, "last_edit_date": 1440030681, "question_id": 32107308, "link": "https://stackoverflow.com/questions/32107308/use-delegate-c", "title": "Use Delegate C#", "body": "<p>I am new to delegates , I would like to know the diference between the first code and second code</p>\n\n<p>I have a class</p>\n\n<pre><code>public class FindPerson\n{\n    public int Age;\n    public string Name;\n    public string Surname;\n\n    public FindPerson(string name, string surname, int age)\n    {\n        this.Age = age;\n        this.Surname = surname;\n        this.Name = name;\n    }\n\n    public override string ToString()\n    {\n        return \"Name=\" + this.Name + \" Surname=\" + this.Surname + \", Age=\" + this.Age.ToString();\n    }\n}\n</code></pre>\n\n<p>First code</p>\n\n<pre><code>public void Test2()\n{\n    List&lt;FindPerson&gt; lst = new List&lt;FindPerson&gt;();\n\n    lst.Add(new FindPerson(\"Alex\",\"Sweit\",31));\n    lst.Add(new FindPerson(\"Alex2\", \"Sweit\", 30));\n    lst.Add(new FindPerson(\"Alex3\", \"Sweit\", 34));\n\n    FindPerson iam = lst.Find(a =&gt; a.Name.Equals(\"Alex\"));\n}\n</code></pre>\n\n<p>Second code:</p>\n\n<pre><code>public void Test2()\n{\n    List&lt;FindPerson&gt; lst = new List&lt;FindPerson&gt;();\n\n    lst.Add(new FindPerson(\"Alex\",\"Sweit\",31));\n    lst.Add(new FindPerson(\"Alex2\", \"Sweit\", 30));\n    lst.Add(new FindPerson(\"Alex3\", \"Sweit\", 34));\n\n    FindPerson iam2 = lst.Find(new Predicate&lt;FindPerson&gt;(delegate(FindPerson find)\n    {\n        return find.Name.Equals(\"Alex\");\n    }));\n}\n</code></pre>\n\n<p>I am learning to use delegates but it is not clear.</p>\n"}, {"tags": ["c#", "adfs", "prefix"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5242024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857f6e4956aac5b048c1553812699e5e?s=128&d=identicon&r=PG&f=1", "display_name": "Zubair", "link": "https://stackoverflow.com/users/5242024/zubair"}, "edited": false, "score": 0, "creation_date": 1440114803, "post_id": 32108087, "comment_id": 52151433, "body": "Thank you for reply, but I want &lt;KeyInfo&gt; as &lt;ds:KeyInfo&gt; in SAML Object. Do I need to write any code [Working in C#] or There would be any configuration required at ADFS server?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "reply_to_user": {"reputation": 11, "user_id": 5242024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857f6e4956aac5b048c1553812699e5e?s=128&d=identicon&r=PG&f=1", "display_name": "Zubair", "link": "https://stackoverflow.com/users/5242024/zubair"}, "edited": false, "score": 0, "creation_date": 1440118678, "post_id": 32108087, "comment_id": 52152387, "body": "You should be able to just add the ds to the opening and closing tags.  I copied the KeyInfo from a webpage and forgot to manually add the ds."}], "tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": false, "score": 0, "last_activity_date": 1440033656, "creation_date": 1440033656, "answer_id": 32108087, "question_id": 32107297, "link": "https://stackoverflow.com/questions/32107297/adfs-saml-prefix-ds-missing-in-keyinfo/32108087#32108087", "title": "ADFS SAML prefix ds missing in &lt;KeyInfo&gt;", "body": "<p>Try this</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;samlp:Response ID=\"_00ca83c9-aad0-4210-9174-87ec874c5103\" Version=\"2.0\" xmlns:samlp=\"urn:oasis:names:tc:SAML:2.0:protocol\"&gt;\n  &lt;Issuer xmlns=\"urn:oasis:names:tc:SAML:2.0:assertion\"&gt;*******&lt;/Issuer&gt;\n  &lt;samlp:Status&gt;\n    &lt;samlp:StatusCode Value=\"urn:oasis:names:tc:SAML:2.0:status:Success\" /&gt;\n  &lt;/samlp:Status&gt;\n  &lt;Assertion ID=\"_bac09d77-c98e-48f6-bf62-8bbbbd1756d9\" IssueInstant=\"2015-08-19T23:07:32.659Z\" Version=\"2.0\" xmlns=\"urn:oasis:names:tc:SAML:2.0:assertion\"&gt;\n    &lt;Issuer&gt;http://ADFS.*******.com.au/adfs/services/tru&lt;/Issuer&gt;\n    &lt;ds:Signature xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n      &lt;ds:SignedInfo&gt;\n        &lt;ds:CanonicalizationMethod Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\"/&gt;\n        &lt;ds:SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#dsa-sha1\"/&gt;\n        &lt;ds:Reference URI=\"http://www.w3.org/TR/2000/REC-xhtml1-20000126/\"&gt;\n          &lt;ds:Transforms&gt;\n            &lt;ds:Transform Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\"/&gt;\n          &lt;/ds:Transforms&gt;\n          &lt;ds:DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"/&gt;\n          &lt;ds:DigestValue&gt;j6lwx3rvEPO0vKtMup4NbeVu8nk=&lt;/ds:DigestValue&gt;\n        &lt;/ds:Reference&gt;\n      &lt;/ds:SignedInfo&gt;\n      &lt;ds:SignatureValue&gt;&lt;/ds:SignatureValue&gt;\n      &lt;KeyInfo xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n        &lt;ds:X509Data&gt;\n          &lt;ds:X509Certificate&gt;MIICXTCCA..&lt;/ds:X509Certificate&gt;\n        &lt;/ds:X509Data&gt;\n      &lt;/KeyInfo&gt;\n    &lt;/ds:Signature&gt;\n    &lt;Attribute Name=\"LastName\"&gt;\n      &lt;AttributeValue&gt;FFFF&lt;/AttributeValue&gt;\n    &lt;/Attribute&gt;\n    &lt;Attribute Name=\"Username\"&gt;\n      &lt;AttributeValue&gt;fdfdgf&lt;/AttributeValue&gt;\n    &lt;/Attribute&gt;\n    &lt;Attribute Name=\"VAL6\"&gt;\n      &lt;AttributeValue&gt;AAAAA&lt;/AttributeValue&gt;\n    &lt;/Attribute&gt;\n    &lt;AuthnStatement AuthnInstant=\"2015-08-19T23:07:32.549Z\"&gt;\n      &lt;AuthnContext&gt;\n        &lt;AuthnContextClassRef&gt;urn:federation:authentication:windows&lt;/AuthnContextClassRef&gt;\n      &lt;/AuthnContext&gt;\n    &lt;/AuthnStatement&gt;\n  &lt;/Assertion&gt;\n&lt;/samlp:Response&gt;\u200b\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5242024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857f6e4956aac5b048c1553812699e5e?s=128&d=identicon&r=PG&f=1", "display_name": "Zubair", "link": "https://stackoverflow.com/users/5242024/zubair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 454, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440112599, "creation_date": 1440027153, "last_edit_date": 1440112599, "question_id": 32107297, "link": "https://stackoverflow.com/questions/32107297/adfs-saml-prefix-ds-missing-in-keyinfo", "title": "ADFS SAML prefix ds missing in &lt;KeyInfo&gt;", "body": "<p>I wanted to integrated Token Certificate with SAML object coming through ADFS. I can parse [Using C#] every item except value of certification due to KeyInfo format. I think \"KeyInfo\" is missing 'ds' prefix. I don't know where I am doing mistake.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;samlp:Response ID=\\\"_00ca83c9-aad0-4210-9174-87ec874c5103\\\" Version=\\\"2.0\\\" xmlns:samlp=\\\"urn:oasis:names:tc:SAML:2.0:protocol\\\"&gt;\r\n\r\n &lt;Issuer xmlns=\\\"urn:oasis:names:tc:SAML:2.0:assertion\\\"&gt;*******&lt;/Issuer&gt;&lt;samlp:Status&gt;&lt;samlp:StatusCode Value=\\\"urn:oasis:names:tc:SAML:2.0:status:Success\\\" /&gt;&lt;/samlp:Status&gt;\r\n &lt;Assertion ID=\\\"_bac09d77-c98e-48f6-bf62-8bbbbd1756d9\\\" IssueInstant=\\\"2015-08-19T23:07:32.659Z\\\" Version=\\\"2.0\\\" xmlns=\\\"urn:oasis:names:tc:SAML:2.0:assertion\\\"&gt;&lt;Issuer&gt;http://ADFS.*******.com.au/adfs/services/tru&lt;/Issuer&gt;\r\n \r\n &lt;ds:Signature xmlns:ds=\\\"http://www.w3.org/2000/09/xmldsig#\\\"&gt;\r\n &lt;ds:SignedInfo&gt;&lt;/ds:SignedInfo&gt;\r\n &lt;ds:SignatureValue&gt;some value&lt;/ds:SignatureValue&gt;\r\n \r\n &lt;KeyInfo xmlns=\\\"http://www.w3.org/2000/09/xmldsig#\\\"&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;some value&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/KeyInfo&gt; \r\n \r\n &lt;/ds:Signature&gt;\r\n \r\n &lt;Attribute Name=\\\"LastName\\\"&gt;&lt;AttributeValue&gt;FFFF&lt;/AttributeValue&gt;&lt;/Attribute&gt;\r\n &lt;Attribute Name=\\\"Username\\\"&gt;&lt;AttributeValue&gt;fdfdgf&lt;/AttributeValue&gt;&lt;/Attribute&gt;\r\n &lt;Attribute Name=\\\"VAL6\\\"&gt;&lt;AttributeValue&gt;AAAAA&lt;/AttributeValue&gt;&lt;/Attribute&gt;\r\n &lt;AuthnStatement AuthnInstant=\\\"2015-08-19T23:07:32.549Z\\\"&gt;&lt;AuthnContext&gt;\r\n &lt;AuthnContextClassRef&gt;urn:federation:authentication:windows&lt;/AuthnContextClassRef&gt;&lt;/AuthnContext&gt;&lt;/AuthnStatement&gt;\r\n &lt;/Assertion&gt;\r\n &lt;/samlp:Response&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["c#", "asp.net-mvc", "partial-views"], "comments": [{"owner": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "edited": false, "score": 0, "creation_date": 1440032073, "post_id": 32107241, "comment_id": 52109999, "body": "Please show the entire (parent) view.  How does the user create a client?  Is it using AJAX forms?"}, {"owner": {"reputation": 25, "user_id": 4586726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f962a7730b2c053255a1241b27654b?s=128&d=identicon&r=PG&f=1", "display_name": "JorgeEspinoza", "link": "https://stackoverflow.com/users/4586726/jorgeespinoza"}, "reply_to_user": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "edited": false, "score": 0, "creation_date": 1440174664, "post_id": 32107241, "comment_id": 52179921, "body": "i&#39;m not using ajax forms, just a regular form in my view and a regular controller. I already solve it, i just wrote the answer. Thanks anyway."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 4586726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f962a7730b2c053255a1241b27654b?s=128&d=identicon&r=PG&f=1", "display_name": "JorgeEspinoza", "link": "https://stackoverflow.com/users/4586726/jorgeespinoza"}, "edited": false, "score": 0, "creation_date": 1440173131, "post_id": 32109360, "comment_id": 52179001, "body": "i tried this solution, but it didn&#39;t work. I suppose because i&#39;m using identity 2.0. But i solved it, it is not a elegant solution but it works. In my controller just after i add the user in session  to the &quot;HasClients&quot; role and save changes, i sing out / sing in the user and then redirect him to another action."}], "tags": [], "owner": {"reputation": 795, "user_id": 2473167, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7886d0e989c3e62a815cb6ba30923697?s=128&d=identicon&r=PG", "display_name": "Tchaps", "link": "https://stackoverflow.com/users/2473167/tchaps"}, "is_accepted": false, "score": 0, "last_activity_date": 1440043421, "last_edit_date": 1495541678, "creation_date": 1440043421, "answer_id": 32109360, "question_id": 32107241, "link": "https://stackoverflow.com/questions/32107241/how-to-reload-security-principal-user-info-or-a-partial-view/32109360#32109360", "title": "How to reload security principal user info or a partial view", "body": "<p>The roles are cached in a cookie , so you can force them to refresh by deleting the cookie. You need to refresh users role. Here is a ways\n you can call this <code>Roles.DeleteCookie();</code> and it will clear roles and reload it in the next request.<br />\nThis is taken from this question page <a href=\"https://stackoverflow.com/questions/2008618/refresh-asp-net-role-provider\">Refresh ASP.NET Role Provider</a></p>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 4586726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f962a7730b2c053255a1241b27654b?s=128&d=identicon&r=PG&f=1", "display_name": "JorgeEspinoza", "link": "https://stackoverflow.com/users/4586726/jorgeespinoza"}, "is_accepted": true, "score": 0, "last_activity_date": 1440174232, "creation_date": 1440174232, "answer_id": 32145142, "question_id": 32107241, "link": "https://stackoverflow.com/questions/32107241/how-to-reload-security-principal-user-info-or-a-partial-view/32145142#32145142", "title": "How to reload security principal user info or a partial view", "body": "<p>Just to clarify my comment to the answer provided by Tchaps. This is the code (not my original code, but make my point) to my solution, like i wrote in the comment, it's not elegant but i works, at least in my case.</p>\n\n<pre><code>// Add to role, save changes\nawait _userManager.AddToRoleAsync(userInSession.Id, roleHaveClients.Name);\nawait _userManager.UpdateAsync(userInSession);\n// Sign out / Sing in\n_registerManager.AuthenticationManager.SignOut();\nawait __registerManager.SignInAsync(userInSession, false, false);\n// Redirect to another action\nreturn RedirectToAction(\"someAction\",\"someController\");\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 4586726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f962a7730b2c053255a1241b27654b?s=128&d=identicon&r=PG&f=1", "display_name": "JorgeEspinoza", "link": "https://stackoverflow.com/users/4586726/jorgeespinoza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 32145142, "answer_count": 2, "score": 0, "last_activity_date": 1440174232, "creation_date": 1440026759, "question_id": 32107241, "link": "https://stackoverflow.com/questions/32107241/how-to-reload-security-principal-user-info-or-a-partial-view", "title": "How to reload security principal user info or a partial view", "body": "<p>I'm developing an aspnet mvc application and i have a problem to reload some data, i don't know if the problem is in the security principal info that every view contains or in my partial view that doesn't reload when some other view is shown.</p>\n\n<p>I have a layout page that is used in my whole application, and inside this layout page i have this partial view code fragment:</p>\n\n<pre><code>@Html.Partial(\"_PartialActiveClient\")\n</code></pre>\n\n<p>this partial view contains the next lines:</p>\n\n<pre><code>@if (User.IsInRole(\"HasClients\"))\n{\n    &lt;p&gt;An Active Client&lt;/p&gt;\n    &lt;a href=\"@Url.Action(\"Activate\", \"Client\")\"&gt;Change active client&lt;/a&gt;\n\n}\nelse\n{\n    &lt;p&gt;You don't have any clients&lt;p&gt;\n    &lt;a href=\"@Url.Action(\"Create\", \"Client\")\"&gt;Create client&lt;/a&gt;\n}\n</code></pre>\n\n<p>So when a user creates an account for the first time, this user has 0 clients and doesn't belong to the \"HasClients\" role and the \"you don't have any clients\" message is shown, but when this user creates his first client, the user is added to the \"HasClients\" role by default in my controller. The problem is that the \"you don't have any clients\" is still there even if i change the views. In order for the other message to show, this user has to log out and then log in again.</p>\n\n<p>So my question is, how can my users see the \"An Active Client\" message immediately after they create a client?</p>\n"}, {"tags": ["c#", "linq"], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 1289621, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c97c160d66e603442e1ddf3c72f743f9?s=128&d=identicon&r=PG", "display_name": "RazorSharp", "link": "https://stackoverflow.com/users/1289621/razorsharp"}, "edited": false, "score": 0, "creation_date": 1440027821, "post_id": 32107366, "comment_id": 52109059, "body": "Exactly what I needed.. Thank you very much!"}, {"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 1, "creation_date": 1440028127, "post_id": 32107366, "comment_id": 52109145, "body": "Just make sure your search term doesn&#39;t include a line break ;)"}], "tags": [], "owner": {"reputation": 77031, "user_id": 44743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9af6bab469df2f4e1486c3a608446f3b?s=128&d=identicon&r=PG", "display_name": "recursive", "link": "https://stackoverflow.com/users/44743/recursive"}, "is_accepted": true, "score": 3, "last_activity_date": 1440027649, "creation_date": 1440027649, "answer_id": 32107366, "question_id": 32107226, "link": "https://stackoverflow.com/questions/32107226/an-unhandled-exception-of-type-system-outofmemoryexception-occurred-in-mscorli/32107366#32107366", "title": "An unhandled exception of type &#39;System.OutOfMemoryException&#39; occurred in mscorlib.dll in LINQ Search", "body": "<p>The problem you're having is based on trying to load multiple gigabytes of text at the same time.  If they're text files, you can stream them and just compare one line at a time.</p>\n\n<pre><code>var queryMatchingFiles =\n    from file in fileList\n    where file.Extension == \".htm\" \n    let fileLines = File.ReadLines(file.FullName) // lazy IEnumerable&lt;string&gt;\n    where fileLines.Any(line =&gt; line.Contains(searchTerm))\n    select file.FullName;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 77031, "user_id": 44743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9af6bab469df2f4e1486c3a608446f3b?s=128&d=identicon&r=PG", "display_name": "recursive", "link": "https://stackoverflow.com/users/44743/recursive"}, "edited": false, "score": 0, "creation_date": 1440028543, "post_id": 32107396, "comment_id": 52109262, "body": "Objects used from previous iterations of linq queries are eligible for GC.  But the stream approach is certainly reasonable."}], "tags": [], "owner": {"reputation": 194, "user_id": 4472177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TUeki.jpg?s=128&g=1", "display_name": "Drawaes", "link": "https://stackoverflow.com/users/4472177/drawaes"}, "is_accepted": false, "score": 0, "last_activity_date": 1440027801, "last_edit_date": 1495541177, "creation_date": 1440027801, "answer_id": 32107396, "question_id": 32107226, "link": "https://stackoverflow.com/questions/32107226/an-unhandled-exception-of-type-system-outofmemoryexception-occurred-in-mscorli/32107396#32107396", "title": "An unhandled exception of type &#39;System.OutOfMemoryException&#39; occurred in mscorlib.dll in LINQ Search", "body": "<p>I would suggest that you are getting an out of memory error because the way the query is written I believe that you will need to load the entire text of every file into memory and none of the objects can be released until the entire file set has been loaded. Could you not check for the search term in the GetFileText function and then just return a true or false? </p>\n\n<p>If you did that the file text at least falls out of scope at the end of the function and the GC can recover the memory. It would actually be better to rewrite as a streaming function if you are dealing with large files/amounts then you could exit your reading early if you come across the search term and you wouldn't need the entire file in memory all the time.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/6949997/efficient-way-to-find-string-with-streamreader\">Previous question on finding a term in an HTML file using a stream</a></p>\n"}], "owner": {"reputation": 183, "user_id": 1289621, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c97c160d66e603442e1ddf3c72f743f9?s=128&d=identicon&r=PG", "display_name": "RazorSharp", "link": "https://stackoverflow.com/users/1289621/razorsharp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 898, "favorite_count": 0, "accepted_answer_id": 32107366, "answer_count": 2, "score": 1, "last_activity_date": 1440027801, "creation_date": 1440026693, "last_edit_date": 1440027134, "question_id": 32107226, "link": "https://stackoverflow.com/questions/32107226/an-unhandled-exception-of-type-system-outofmemoryexception-occurred-in-mscorli", "title": "An unhandled exception of type &#39;System.OutOfMemoryException&#39; occurred in mscorlib.dll in LINQ Search", "body": "<p>Using <a href=\"https://msdn.microsoft.com/en-us/library/Bb882649.aspx\" rel=\"nofollow\">this</a> article from MSDN, I'm trying to search through files in a directory. The problem is, every time I execute the program, I get:</p>\n\n<blockquote>\n  <p>\"An unhandled exception of type 'System.OutOfMemoryException' occurred in mscorlib.dll\". </p>\n</blockquote>\n\n<p>I have tried to some other options like <code>StreamReader</code>, but I can't get it to work. These files are HUGE. Some of them range in upwards to 1.5-2GB each and there could be 5 or more files per day. </p>\n\n<p>This code fails:</p>\n\n<pre><code>private static string GetFileText(string name)\n{\n    var fileContents = string.Empty;\n    // If the file has been deleted since we took  \n    // the snapshot, ignore it and return the empty string. \n    if (File.Exists(name))\n    {\n        fileContents = File.ReadAllText(name);\n    }\n    return fileContents;\n}\n</code></pre>\n\n<p>Any ideas what could be happening or how to make it read without memory errors?</p>\n\n<p>Entire code (in case you don't want to open the MSDN article)</p>\n\n<pre><code>class QueryContents {\npublic static void Main()\n{\n    // Modify this path as necessary. \n    string startFolder = @\"c:\\program files\\Microsoft Visual Studio 9.0\\\";\n\n    // Take a snapshot of the file system.\n    System.IO.DirectoryInfo dir = new System.IO.DirectoryInfo(startFolder);\n\n    // This method assumes that the application has discovery permissions \n    // for all folders under the specified path.\n    IEnumerable&lt;System.IO.FileInfo&gt; fileList = dir.GetFiles(\"*.*\", System.IO.SearchOption.AllDirectories);\n\n    string searchTerm = @\"Visual Studio\";\n\n    // Search the contents of each file. \n    // A regular expression created with the RegEx class \n    // could be used instead of the Contains method. \n    // queryMatchingFiles is an IEnumerable&lt;string&gt;. \n    var queryMatchingFiles =\n        from file in fileList\n        where file.Extension == \".htm\" \n        let fileText = GetFileText(file.FullName)\n        where fileText.Contains(searchTerm)\n        select file.FullName;\n\n    // Execute the query.\n    Console.WriteLine(\"The term \\\"{0}\\\" was found in:\", searchTerm);\n    foreach (string filename in queryMatchingFiles)\n    {\n        Console.WriteLine(filename);\n    }\n\n    // Keep the console window open in debug mode.\n    Console.WriteLine(\"Press any key to exit\");\n    Console.ReadKey();\n}\n\n// Read the contents of the file. \nstatic string GetFileText(string name)\n{\n    string fileContents = String.Empty;\n\n    // If the file has been deleted since we took  \n    // the snapshot, ignore it and return the empty string. \n    if (System.IO.File.Exists(name))\n    {\n        fileContents = System.IO.File.ReadAllText(name);\n    }\n    return fileContents;\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "event-handling", "dicom", "in-memory"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6523593, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/9f894736ca9e37bcc01adf34bb2abebb?s=128&d=identicon&r=PG", "display_name": "roni", "link": "https://stackoverflow.com/users/6523593/roni"}, "is_accepted": false, "score": 0, "last_activity_date": 1467121730, "creation_date": 1467121730, "answer_id": 38078061, "question_id": 32107115, "link": "https://stackoverflow.com/questions/32107115/event-to-return-null-in-order-to-specify-a-storage-option/38078061#38078061", "title": "Event to return null in order to specify a storage option", "body": "<p>A a.\nThe right way to do it is:</p>\n\n<pre><code>// When your program starts\nDCXAPP app = new DCXAPP();\napp.EnableInMemoryStorageSCP = true;\n\n//...\n\nprivate void OnStoreSetupEventHandler(ref string filename)\n{\n     filename = null;\n}\n\n// ..\n\n// and inside OnStoreDoneEventHandler(string filename, bool status ref bool accept)\n{\n   DCXOBJ obj = accepter.TakeStoredObject();\n// ... do stuff with it\n}\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 3874781, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9f4feac3150e3ce7c0fc5ca12c02bff8?s=128&d=identicon&r=PG&f=1", "display_name": "TCulos", "link": "https://stackoverflow.com/users/3874781/tculos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1467121730, "creation_date": 1440025989, "question_id": 32107115, "link": "https://stackoverflow.com/questions/32107115/event-to-return-null-in-order-to-specify-a-storage-option", "title": "Event to return null in order to specify a storage option", "body": "<p>I am trying to receive a DICOM file and save it in memory. The libary I'm using (<a href=\"http://rzdcx.roniza.com/index.html\" rel=\"nofollow\">RZDCX</a>) allows for this by setting <code>app.EnableInMemoryStorageSCP</code> true:</p>\n\n<pre><code>DCXAPP app = new DCXAPP();\n</code></pre>\n\n<hr>\n\n<pre><code>acc.OnStoreSetup += new IDCXACCEvents_OnStoreSetupEventHandler(OnStoreSetupEventHandler);\n</code></pre>\n\n<hr>\n\n<pre><code>private void OnStoreSetupEventHandler(ref string filename)\n{\n     app.EnableInMemoryStorageSCP = true;\n}\n</code></pre>\n\n<p>This is when I run into trouble the documentation (<a href=\"http://rzdcx.roniza.com/group___storage_s_c_p.html\" rel=\"nofollow\">Found Here</a>) says that EnableInMemoryStorageSCP must be true and the event <code>acc.OnStoreSetup</code> return a null or zero length value. However if I change the event it seems no matter the return type the <code>OnStoreEventHandler(ref string filename)</code> has the wrong return type.</p>\n\n<p>Is there a way to avoid this error and return a null value? </p>\n\n<p>P.S. I thought it might mean setting <code>filename</code> null or to the zero length, but if null it continues saving as regular and for a zero length string it gets stuck trying to store the file.</p>\n"}, {"tags": ["c#", "wpf", "data-binding"], "comments": [{"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "edited": false, "score": 1, "creation_date": 1440025549, "post_id": 32106936, "comment_id": 52108470, "body": "Aren&#39;t you overwriting it? Text = this.Provider.ToDisplayString();? SetText() method, etc?"}, {"owner": {"reputation": 2787, "user_id": 1568604, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/784464f537c84d21930c129e975f0b53?s=128&d=identicon&r=PG", "display_name": "ericpap", "link": "https://stackoverflow.com/users/1568604/ericpap"}, "reply_to_user": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "edited": false, "score": 0, "creation_date": 1440026654, "post_id": 32106936, "comment_id": 52108750, "body": "Wow. That seems to be right! I&#39;ll test it and comment. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1440027558, "last_edit_date": 1440027558, "creation_date": 1440026717, "answer_id": 32107232, "question_id": 32106936, "link": "https://stackoverflow.com/questions/32106936/binding-not-working-with-wpf-usercontrol/32107232#32107232", "title": "Binding not working with WPF UserControl", "body": "<p>In the <code>SetText</code> method you are setting the <code>Text</code> property of the <code>TextBox</code>, this will replace the <code>Binding</code> with a string value.</p>\n\n<p>You could update it like this, but I don't know if it is <em>the best</em> way:</p>\n\n<pre><code>var binding = BindingOperations.GetBindingExpression(this, TextBox.TextProperty);\nPropertyInfo property = binding.DataItem.GetType().GetProperty(binding.ParentBinding.Path.Path);\nif (property != null)\n    property.SetValue(binding.DataItem, String.IsNullOrWhiteSpace(text) ? null : text, null);\nbinding.UpdateTarget();\n</code></pre>\n"}], "owner": {"reputation": 2787, "user_id": 1568604, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/784464f537c84d21930c129e975f0b53?s=128&d=identicon&r=PG", "display_name": "ericpap", "link": "https://stackoverflow.com/users/1568604/ericpap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440027558, "creation_date": 1440024892, "last_edit_date": 1440026531, "question_id": 32106936, "link": "https://stackoverflow.com/questions/32106936/binding-not-working-with-wpf-usercontrol", "title": "Binding not working with WPF UserControl", "body": "<p>I have a Little problem and don't know where to start looking for the solution.\nI have this WPF UserControl derived from a TextBox:</p>\n\n<pre><code>public class MaskedTextBox : TextBox\n{\n    #region DependencyProperties\n\n    public string UnmaskedText\n    {\n        get { return (string)GetValue(UnmaskedTextProperty); }\n        set\n        {\n            SetValue(UnmaskedTextProperty, value);\n        }\n    }\n\n    public static readonly DependencyProperty UnmaskedTextProperty =\n     DependencyProperty.Register(\"UnmaskedText\", typeof(string),\n     typeof(MaskedTextBox), new UIPropertyMetadata(\"\"));\n\n    public static readonly DependencyProperty InputMaskProperty =\n     DependencyProperty.Register(\"InputMask\", typeof(string), typeof(MaskedTextBox), null);\n\n    public string InputMask\n    {\n        get { return (string)GetValue(InputMaskProperty); }\n        set { SetValue(InputMaskProperty, value); }\n    }\n\n    public static readonly DependencyProperty PromptCharProperty =\n     DependencyProperty.Register(\"PromptChar\", typeof(char), typeof(MaskedTextBox),\n     new PropertyMetadata('_'));\n\n    public char PromptChar\n    {\n        get { return (char)GetValue(PromptCharProperty); }\n        set { SetValue(PromptCharProperty, value); }\n    }\n\n    #endregion\n\n    private MaskedTextProvider Provider;\n\n    public MaskedTextBox()\n    {\n        Loaded += new RoutedEventHandler(MaskedTextBox_Loaded);\n        PreviewTextInput += new TextCompositionEventHandler(MaskedTextBox_PreviewTextInput);\n        PreviewKeyDown += new KeyEventHandler(MaskedTextBox_PreviewKeyDown);            \n    }        \n\n    void MaskedTextBox_PreviewKeyDown(object sender, KeyEventArgs e)\n    {\n        if (e.Key == Key.Space)\n        {\n            this.TreatSelectedText();\n\n            var position = this.GetNextCharacterPosition(SelectionStart, true);\n\n            if (this.Provider.InsertAt(\" \", position))\n                this.RefreshText(position);\n\n            e.Handled = true;\n        }\n\n        if (e.Key == Key.Back)\n        {\n            this.TreatSelectedText();\n\n            var position = this.GetNextCharacterPosition(SelectionStart, false);\n\n            //e.Handled = true;\n\n            if (position &gt; 0)\n            {\n                if (position + 1 != SelectionStart)\n                    if (SelectionLength == 0)\n                        position = this.GetNextCharacterPosition(position - 1, false);\n\n                if (this.Provider.RemoveAt(position))\n                {\n                    if (position &gt; 0)\n                        position = this.GetNextCharacterPosition(position, false);\n                }\n            }\n\n            this.RefreshText(position);\n\n            e.Handled = true;\n        }\n\n        if (e.Key == Key.Delete)\n        {\n            if (this.TreatSelectedText())\n            {\n                this.RefreshText(SelectionStart);\n            }\n            else\n            {\n\n                if (this.Provider.RemoveAt(SelectionStart))\n                    this.RefreshText(SelectionStart);\n\n            }\n\n            e.Handled = true;\n        }\n    }\n\n    void MaskedTextBox_PreviewTextInput(object sender, TextCompositionEventArgs e)\n    {\n        this.TreatSelectedText();\n\n        var position = this.GetNextCharacterPosition(SelectionStart, true);\n\n        if (Keyboard.IsKeyToggled(Key.Insert))\n        {\n            if (this.Provider.Replace(e.Text, position))\n                position++;\n        }\n        else\n        {\n            if (this.Provider.InsertAt(e.Text, position))\n                position++;\n        }\n\n        position = this.GetNextCharacterPosition(position, true);\n\n        this.RefreshText(position);\n\n        e.Handled = true;\n    }\n\n    void MaskedTextBox_Loaded(object sender, RoutedEventArgs e)\n    {\n        this.Provider = new MaskedTextProvider(InputMask, CultureInfo.CurrentCulture);\n\n        if (String.IsNullOrWhiteSpace(UnmaskedText))\n            this.Provider.Set(String.Empty);\n        else\n            this.Provider.Set(UnmaskedText);\n\n        this.Provider.PromptChar = PromptChar;\n        Text = this.Provider.ToDisplayString();\n\n        var textProp = DependencyPropertyDescriptor.FromProperty(MaskedTextBox.TextProperty, typeof(MaskedTextBox));\n        if (textProp != null)\n        {\n            textProp.AddValueChanged(this, (s, args) =&gt; this.UpdateText());                \n        }\n        DataObject.AddPastingHandler(this, Pasting);\n    }\n\n    private void Pasting(object sender, DataObjectPastingEventArgs e)\n    {\n        if (e.DataObject.GetDataPresent(typeof(string)))\n        {\n            var pastedText = (string)e.DataObject.GetData(typeof(string));\n\n            this.TreatSelectedText();\n\n            var position = GetNextCharacterPosition(SelectionStart, true);\n\n            if (this.Provider.InsertAt(pastedText, position))\n            {\n                this.RefreshText(position);\n            }\n        }\n\n        e.CancelCommand();\n    }\n\n    private void UpdateText()\n    {\n        if (this.Provider.ToDisplayString().Equals(Text))\n            return;\n\n        var success = this.Provider.Set(Text);\n\n        this.SetText(success ? this.Provider.ToDisplayString() : Text, this.Provider.ToString(false, false));\n    }\n\n    private bool TreatSelectedText()\n    {\n        if (SelectionLength &gt; 0)\n        {\n            return this.Provider.RemoveAt(SelectionStart,\n            SelectionStart + SelectionLength - 1);\n        }\n        return false;\n    }\n\n    private void RefreshText(int position)\n    {\n        SetText(this.Provider.ToDisplayString(), this.Provider.ToString(false, false));\n        SelectionStart = position;\n    }\n\n    private void SetText(string text, string unmaskedText)\n    {\n        UnmaskedText = String.IsNullOrWhiteSpace(unmaskedText) ? null : unmaskedText;\n        Text = String.IsNullOrWhiteSpace(text) ? null : text;\n    }\n\n    private int GetNextCharacterPosition(int startPosition, bool goForward)\n    {\n        var position = this.Provider.FindEditPositionFrom(startPosition, goForward);\n\n        if (position == -1)\n            return startPosition;\n        else\n            return position;\n    }\n}\n</code></pre>\n\n<p>Is a textbox with a input mask. It Works fine. The only thing that is not working is the bindings. I use this control like this:</p>\n\n<pre><code>&lt;local:MaskedTextBox Text=\"{Binding Path=myProp}\" PromptChar=\" \" InputMask=\"0000000\"&gt;&lt;/local:MaskedTextBox&gt;\n</code></pre>\n\n<p>But the value from the property is not show. If I change my control with a normal textbox like this:</p>\n\n<pre><code>&lt;TextBox Text=\"{Binding Path=myProp}\"&gt;&lt;/TextBox&gt;\n</code></pre>\n\n<p>It Works just fine. I'm obviously missing something here. I'm not getting bindings erroros.</p>\n"}, {"tags": ["c#", "wpf", "contenttemplateselector"], "answers": [{"tags": [], "owner": {"reputation": 12607, "user_id": 573082, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b497db0e7109deccad7e124f120024ad?s=128&d=identicon&r=PG", "display_name": "theateist", "link": "https://stackoverflow.com/users/573082/theateist"}, "is_accepted": false, "score": 0, "last_activity_date": 1440101112, "last_edit_date": 1495540681, "creation_date": 1440101112, "answer_id": 32127357, "question_id": 32106912, "link": "https://stackoverflow.com/questions/32106912/how-to-pass-parameter-to-contenttemplateselector/32127357#32127357", "title": "How to pass parameter to ContentTemplateSelector?", "body": "<p>I've found an answer in 3 years old <a href=\"https://stackoverflow.com/questions/10751419/contentcontrol-with-datatemplateselector-help-needed\">post</a> from Victor. Thanks Victor.\nI just need to add <code>DataContext=\"{Binding RelativeSource={RelativeSource AncestorType=ContentControl},Path=DataContext}\"</code> in each <code>DataTemplate</code>.</p>\n"}], "owner": {"reputation": 12607, "user_id": 573082, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b497db0e7109deccad7e124f120024ad?s=128&d=identicon&r=PG", "display_name": "theateist", "link": "https://stackoverflow.com/users/573082/theateist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1017, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440101112, "creation_date": 1440024750, "last_edit_date": 1440096973, "question_id": 32106912, "link": "https://stackoverflow.com/questions/32106912/how-to-pass-parameter-to-contenttemplateselector", "title": "How to pass parameter to ContentTemplateSelector?", "body": "<p>I want the <code>TemplateSelector</code> to select a template based on the country. \nSo, for <code>MyDataTemplateSelector:SelectTemplate</code> to receive the country I bind <code>Content</code> of <code>ContentPresenter</code> to <code>CountriesComboBox</code>.\nThe problem is that the returned template is not bound to <code>City</code> or <code>Streets</code>. I think it happens because <code>DataContext</code> of the selected template is not bound to the ViewModel, and thus, bounded properties of the tamplate are not accessible.</p>\n\n<p>I tried the code below, but in my opinion, it doesn't work since the <code>Content</code> of <code>ContentPresenter</code> is bound to <code>CountriesComboBox</code> and not to <code>{Binding}</code> as it should be. But, if I bind <code>Content</code> to <code>{Binding}</code>, I won't have access to the selected item of <code>CountriesComboBox</code> from TemplatrSelector.</p>\n\n<p>So, how do I do this?</p>\n\n<pre><code>&lt;DataGrid&gt;\n    &lt;DataGrid.Resources&gt;\n        &lt;DataTemplate x:Key=\"Readonly_CellEditingTemplate\"&gt;\n            &lt;TextBlock Text=\"{Binding City}\"/&gt;\n        &lt;/DataTemplate&gt;\n        &lt;DataTemplate x:Key=\"Editable_CellEditingTemplate\"&gt;\n            &lt;ComboBox ItemsSource=\"{Binding Streets}\" /&gt;\n        &lt;/DataTemplate&gt;\n        &lt;local:MyDataTemplateSelector ReadonlyTemplate=\"{StaticResource Readonly_CellEditingTemplate}\" EditableTemplate=\"{StaticResource Editable_CellEditingTemplate}\" x:Key=\"MyDataTemplateSelector\"/&gt;\n    &lt;/DataGrid.Resources&gt;\n    &lt;DataGrid.Columns&gt;\n        &lt;DataGridTemplateColumn Header=\"City\"&gt;\n            &lt;DataGridTemplateColumn.CellTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;TextBlock Text=\"{Binding City}\"/&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/DataGridTemplateColumn.CellTemplate&gt;\n            &lt;DataGridTemplateColumn.CellEditingTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;ContentPresenter x:Name=\"Presenter\" Content=\"{Binding ElementName=CountriesComboBox, Path=SelectedIndex}\" ContentTemplateSelector=\"{StaticResource MyDataTemplateSelector}\" /&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/DataGridTemplateColumn.CellEditingTemplate&gt;\n        &lt;/DataGridTemplateColumn&gt;\n        &lt;/DataGrid.Columns&gt;\n    &lt;/DataGrid&gt;\n\n    &lt;ComboBox Name=\"CountriesComboBox\" ItemsSource=\"{Binding Countries}\" /&gt;\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml"], "comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 1, "creation_date": 1440024639, "post_id": 32106839, "comment_id": 52108252, "body": "What is <code>RangeObsevableCollection</code>? It isn&#39;t a built-in .NET collection type. Also, what is the exact type of <code>MyCollection</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 196, "user_id": 4403858, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1599506345/picture?type=large", "display_name": "Vladimir Djurdjevic", "link": "https://stackoverflow.com/users/4403858/vladimir-djurdjevic"}, "is_accepted": true, "score": 2, "last_activity_date": 1440028624, "creation_date": 1440028624, "answer_id": 32107508, "question_id": 32106839, "link": "https://stackoverflow.com/questions/32106839/rangeobsevablecollection-in-wpf/32107508#32107508", "title": "RangeObsevableCollection in WPF", "body": "<p>Based on line where you subscribe to <code>CollectionChanged</code> event, i am gonna assume that you are using <code>ObservableCollection</code>. Event is not getting fired because collection isn't changed when you edit one of it's items. Event is raised when you add or delete but not if you change data in you <code>MyProduct</code> item. \nFor example: </p>\n\n<pre><code>ObservableCollection&lt;MyProduct&gt; MyCollection = new ObservableCollection&lt;MyProduct&gt;();\nMyCollection.Add(new MyProduct()); //Event is raised, becouse you changed collection\nMyCollection.First().Id = 1; //Event is not raised, collection is same, nothing changed\n</code></pre>\n\n<p>So, you need to implement your own mechanism if you wanna get notified about changes within collection item.</p>\n"}], "owner": {"reputation": 145, "user_id": 5245301, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/ac7dd9f7e686062ed9f50cb9747af074?s=128&d=identicon&r=PG&f=1", "display_name": "Vineet v", "link": "https://stackoverflow.com/users/5245301/vineet-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 32107508, "answer_count": 1, "score": 0, "last_activity_date": 1440028624, "creation_date": 1440024319, "last_edit_date": 1440027829, "question_id": 32106839, "link": "https://stackoverflow.com/questions/32106839/rangeobsevablecollection-in-wpf", "title": "RangeObsevableCollection in WPF", "body": "<p>I'm working on a C#/WPF application.In one of the xaml screens, I've a windows datagrid and I'm binding my custome listview collection to it.\nThis listview collection(i.e. MyCollection) contains prices for various products.The collection is of type MyProduct:</p>\n\n<pre><code>public class MyProduct\n{\npublic Int32 Id {get;set;}\npublic string Name {get;set;}\npublic Decimal Price {get;set;} \n}\n</code></pre>\n\n<p>Users can edit the prices in the grid and save them back to the database.\nI need to update only those prices which user modified in the UI.</p>\n\n<p>I tried using delegate like below:</p>\n\n<pre><code>MyCollection.CollectionChanged += System.Specialized.NotifiyCollectionChangedEventHandler(myMethod);\n</code></pre>\n\n<p>But this event is not getting triggered somehow and hence myMethod is not getting invoked.How do I fix this please?</p>\n\n<p>Is there any other way of achieving this?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "svg", "graphics"], "comments": [{"owner": {"reputation": 15799, "user_id": 1195273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/392b9a49e8a308036d37c9d07e9c7d9b?s=128&d=identicon&r=PG", "display_name": "crush", "link": "https://stackoverflow.com/users/1195273/crush"}, "edited": false, "score": 0, "creation_date": 1440024290, "post_id": 32106791, "comment_id": 52108140, "body": "<code>SVG</code> = <code>Scalable Vector Graphic</code> &lt;-- that&#39;s why they appear &quot;thinner&quot; when the canvas is larger, and &quot;thicker&quot; when it is smaller."}, {"owner": {"reputation": 587, "user_id": 413517, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f7aabf32b45514415389ab0a52163a06?s=128&d=identicon&r=PG", "display_name": "Braden", "link": "https://stackoverflow.com/users/413517/braden"}, "reply_to_user": {"reputation": 15799, "user_id": 1195273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/392b9a49e8a308036d37c9d07e9c7d9b?s=128&d=identicon&r=PG", "display_name": "crush", "link": "https://stackoverflow.com/users/1195273/crush"}, "edited": false, "score": 0, "creation_date": 1440024603, "post_id": 32106791, "comment_id": 52108239, "body": "I know this... I&#39;m just trying to fulfill requirements... They want to crop the white space and scale the image but they don&#39;t like how thin the lines are when you use the whole canvas.  I need to figure out a way to make the line sizes consistent no matter how much of the canvas a user uses"}], "answers": [{"comments": [{"owner": {"reputation": 587, "user_id": 413517, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f7aabf32b45514415389ab0a52163a06?s=128&d=identicon&r=PG", "display_name": "Braden", "link": "https://stackoverflow.com/users/413517/braden"}, "edited": false, "score": 0, "creation_date": 1440043690, "post_id": 32108948, "comment_id": 52112694, "body": "The scaling is done after the image has been converted to a bitmap. I&#39;ll see if I can figure out how to scale it as an svg"}, {"owner": {"reputation": 15799, "user_id": 1195273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/392b9a49e8a308036d37c9d07e9c7d9b?s=128&d=identicon&r=PG", "display_name": "crush", "link": "https://stackoverflow.com/users/1195273/crush"}, "reply_to_user": {"reputation": 587, "user_id": 413517, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f7aabf32b45514415389ab0a52163a06?s=128&d=identicon&r=PG", "display_name": "Braden", "link": "https://stackoverflow.com/users/413517/braden"}, "edited": false, "score": 0, "creation_date": 1440076061, "post_id": 32108948, "comment_id": 52130567, "body": "@Tbonebrad If you crop it before the stroke is applied, then when you do apply the wider stroke, part of it would be clipped anyways. What you probably want to do is find out how large of a reduction would be made with the current stroke. Increase the stroke, then recalculate the crop dimensions and apply them."}], "tags": [], "owner": {"reputation": 80101, "user_id": 1292848, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd043aba9d97059108cbc719f73fc4a8?s=128&d=identicon&r=PG", "display_name": "Paul LeBeau", "link": "https://stackoverflow.com/users/1292848/paul-lebeau"}, "is_accepted": true, "score": 1, "last_activity_date": 1440040343, "creation_date": 1440040343, "answer_id": 32108948, "question_id": 32106791, "link": "https://stackoverflow.com/questions/32106791/how-to-trace-a-line-and-make-it-thicker/32108948#32108948", "title": "How to trace a line and make it thicker", "body": "<p>You don't need to retrace the signature.  Just rescale the <code>stroke-width</code> attribute based on the new cropped width.</p>\n\n<p>For example, if the user uses the whole box, leave the <code>stroke-width</code> alone.  If they only use half the box, then when you do the crop, halve the value of the <code>stroke-width</code>. So when it is scaled up, the lines look the same.</p>\n\n<p>You don't say how the signatures are stored on the server.  Are they kept as SVG, or converted to bitmap?</p>\n"}], "owner": {"reputation": 587, "user_id": 413517, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f7aabf32b45514415389ab0a52163a06?s=128&d=identicon&r=PG", "display_name": "Braden", "link": "https://stackoverflow.com/users/413517/braden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 32108948, "answer_count": 1, "score": -1, "last_activity_date": 1440040343, "creation_date": 1440024025, "question_id": 32106791, "link": "https://stackoverflow.com/questions/32106791/how-to-trace-a-line-and-make-it-thicker", "title": "How to trace a line and make it thicker", "body": "<p>I have an app that has the user write their signature.  This is saved as an svg in javascript and sent back to the server.  The server then crops the whitespace outside the actual signature.  If someone signs a small signature then when the white space is cropped the image is scaled and the lines become thicker.  If someone uses the whole signature box then the lines are very thin.  Is there a way to trace the signature if someone uses the whole signature box and make the lines thicker?</p>\n\n<p>Maybe there's a whole different way of looking at this problem that I don't see right now.  I have inherited this code and I am not very familiar with graphics especially in javascript.  The signature is using paper.js to allow the user to sign and maybe there is something that can be done there?</p>\n"}, {"tags": ["c#", "algorithm"], "comments": [{"owner": {"reputation": 2076, "user_id": 2860193, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0793dc8385ef6af35cebe31c1ecc10ba?s=128&d=identicon&r=PG&f=1", "display_name": "deathismyfriend", "link": "https://stackoverflow.com/users/2860193/deathismyfriend"}, "edited": false, "score": 2, "creation_date": 1440023342, "post_id": 32106663, "comment_id": 52107858, "body": "Optimizing working code is off topic on here. This site is for fixing broken code. You can try codereview.stackexchange for optimizing code."}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1440023410, "post_id": 32106663, "comment_id": 52107885, "body": "<a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a> seems to be a better place for this."}, {"owner": {"reputation": 1189, "user_id": 1121812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3e8bc9a884c2ebbb6c1e029382f1e850?s=128&d=identicon&r=PG", "display_name": "PushCode", "link": "https://stackoverflow.com/users/1121812/pushcode"}, "edited": false, "score": 0, "creation_date": 1440023432, "post_id": 32106663, "comment_id": 52107892, "body": "Sure, thq. I&#39;ll repost it there and close it here."}, {"owner": {"reputation": 9484, "user_id": 1327235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e92c96d4ad697e78400e312fe40b23dc?s=128&d=identicon&r=PG", "display_name": "Juan Lopes", "link": "https://stackoverflow.com/users/1327235/juan-lopes"}, "edited": false, "score": 3, "creation_date": 1440023613, "post_id": 32106663, "comment_id": 52107944, "body": "Sometimes optimization means using a completely different algorithm, which is in the scope of this site. This may not be so common in the [c#] tag, but is one of the main purposes of the [algorithm] tag."}, {"owner": {"reputation": 1189, "user_id": 1121812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3e8bc9a884c2ebbb6c1e029382f1e850?s=128&d=identicon&r=PG", "display_name": "PushCode", "link": "https://stackoverflow.com/users/1121812/pushcode"}, "edited": false, "score": 0, "creation_date": 1440024060, "post_id": 32106663, "comment_id": 52108070, "body": "I&#39;m voting to close this question as off-topic because this is advised to post in codereview.stackexchange.com"}, {"owner": {"reputation": 8893, "user_id": 2150749, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YQ97m.png?s=128&g=1", "display_name": "Jashaszun", "link": "https://stackoverflow.com/users/2150749/jashaszun"}, "reply_to_user": {"reputation": 2076, "user_id": 2860193, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0793dc8385ef6af35cebe31c1ecc10ba?s=128&d=identicon&r=PG&f=1", "display_name": "deathismyfriend", "link": "https://stackoverflow.com/users/2860193/deathismyfriend"}, "edited": false, "score": 2, "creation_date": 1440024657, "post_id": 32106663, "comment_id": 52108256, "body": "@deathismyfriend This site is not only for fixing broken code."}, {"owner": {"reputation": 2185, "user_id": 2661801, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Mp7cr.jpg?s=128&g=1", "display_name": "Carlos Rodriguez", "link": "https://stackoverflow.com/users/2661801/carlos-rodriguez"}, "edited": false, "score": 2, "creation_date": 1440024817, "post_id": 32106663, "comment_id": 52108288, "body": "I honestly think this question is fine right where it is."}, {"owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 0, "creation_date": 1440024920, "post_id": 32106663, "comment_id": 52108320, "body": "Are you allowed to sort the input?"}, {"owner": {"reputation": 1189, "user_id": 1121812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3e8bc9a884c2ebbb6c1e029382f1e850?s=128&d=identicon&r=PG", "display_name": "PushCode", "link": "https://stackoverflow.com/users/1121812/pushcode"}, "reply_to_user": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 0, "creation_date": 1440025057, "post_id": 32106663, "comment_id": 52108346, "body": "@\u05d2\u05dc\u05e2\u05d3\u05d1\u05e8\u05e7\u05df Yes. I tried that using List&lt;long&gt; instead of HashSet&lt;long&gt;. But, I couldn&#39;t get a better running time."}, {"owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 0, "creation_date": 1440025317, "post_id": 32106663, "comment_id": 52108410, "body": "Ok. Are you allowed to hash different sums that can be generated from the sorted list?"}, {"owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 0, "creation_date": 1440027238, "post_id": 32106663, "comment_id": 52108905, "body": "are there any bounds on the input? positive, negative, signed 64 bit integer?"}, {"owner": {"reputation": 1189, "user_id": 1121812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3e8bc9a884c2ebbb6c1e029382f1e850?s=128&d=identicon&r=PG", "display_name": "PushCode", "link": "https://stackoverflow.com/users/1121812/pushcode"}, "reply_to_user": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 0, "creation_date": 1440027886, "post_id": 32106663, "comment_id": 52109079, "body": "@\u05d2\u05dc\u05e2\u05d3\u05d1\u05e8\u05e7\u05df Input numbers are both positive, negative and include duplicate entries."}, {"owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 0, "creation_date": 1440028286, "post_id": 32106663, "comment_id": 52109195, "body": "another question :) are you supposed to count only distinct sums between <code>start</code> and <code>finish</code> that are achievable with <code>numbers</code> or do <code>2 + 3</code> and <code>1 + 4</code> get counted twice?"}, {"owner": {"reputation": 1189, "user_id": 1121812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3e8bc9a884c2ebbb6c1e029382f1e850?s=128&d=identicon&r=PG", "display_name": "PushCode", "link": "https://stackoverflow.com/users/1121812/pushcode"}, "reply_to_user": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 0, "creation_date": 1440028350, "post_id": 32106663, "comment_id": 52109207, "body": "@\u05d2\u05dc\u05e2\u05d3\u05d1\u05e8\u05e7\u05df Yes, we&#39;ll add 5 only once. I added that constrain to the question for more clarity."}, {"owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 0, "creation_date": 1440028415, "post_id": 32106663, "comment_id": 52109224, "body": "then how did you get full marks for it ? :) Isn&#39;t it counting duplicate sums?"}, {"owner": {"reputation": 1189, "user_id": 1121812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3e8bc9a884c2ebbb6c1e029382f1e850?s=128&d=identicon&r=PG", "display_name": "PushCode", "link": "https://stackoverflow.com/users/1121812/pushcode"}, "reply_to_user": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 0, "creation_date": 1440028827, "post_id": 32106663, "comment_id": 52109345, "body": "@\u05d2\u05dc\u05e2\u05d3\u05d1\u05e8\u05e7\u05df My first <b>for</b> loop will keep track of the sum (t) value I am verifying for and once I find that, the inner llop will break out of the loop and the sum value will be incremented making sure that I only increment the result once for each sum value, t."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1440029617, "post_id": 32106663, "comment_id": 52109518, "body": "you said the input includes <b>duplicate</b> entries, but the function declares numbers to be <code>HashSet&lt;long&gt;</code>, i.e. no duplicates. how that could be? or you are eliminating them while populating that set before calling the function? also, when you say 1M numbers, do you mean <code>numbers.Count</code>?"}, {"owner": {"reputation": 1189, "user_id": 1121812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3e8bc9a884c2ebbb6c1e029382f1e850?s=128&d=identicon&r=PG", "display_name": "PushCode", "link": "https://stackoverflow.com/users/1121812/pushcode"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1440037279, "post_id": 32106663, "comment_id": 52111218, "body": "@IvanStoev Yes, I removed duplicates before populating the <code>HashSet&lt;long&gt;</code> and 1M numbers is the input size. My input size after removing duplicates is just couple of hundreds less than 1M."}, {"owner": {"reputation": 813, "user_id": 1645490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91a33a935424e51018b67431cffc5e47?s=128&d=identicon&r=PG", "display_name": "Bert te Velde", "link": "https://stackoverflow.com/users/1645490/bert-te-velde"}, "edited": false, "score": 0, "creation_date": 1440063498, "post_id": 32106663, "comment_id": 52122216, "body": "I&#39;m puzzled: before trying to implement and test a more efficient algorithm, I first simply used the implementation stated in the problem. On my PC this takes about 20 seconds (in debugmode, C#) for 1M (10^6) random input-numbers in the range -int.MaxValue .. + int.MaxValue, and searching sums in [-10k..+10k]. I varied various &quot;bounds&quot; for number generation and sum searches and always get results back in seconds, not minutes. What am I missing in the problem where you say it takes 30 MINUTES."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "reply_to_user": {"reputation": 813, "user_id": 1645490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91a33a935424e51018b67431cffc5e47?s=128&d=identicon&r=PG", "display_name": "Bert te Velde", "link": "https://stackoverflow.com/users/1645490/bert-te-velde"}, "edited": false, "score": 0, "creation_date": 1440090190, "post_id": 32106663, "comment_id": 52140157, "body": "@BertteVelde I did the same test and got ~6sec (release mode). However, then I tried getting 1M longs from a binary file (any file with size &gt; 8MB), and the algorithm didn&#39;t complete (at least I had no nervous to wait more than a few minutes :-)  I guess this is happening when the algorithm hits the worst case (no early exit from the inner loop). For comparison, the algorithm I posted takes 75ms in the first case and 24ms in the second."}, {"owner": {"reputation": 813, "user_id": 1645490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91a33a935424e51018b67431cffc5e47?s=128&d=identicon&r=PG", "display_name": "Bert te Velde", "link": "https://stackoverflow.com/users/1645490/bert-te-velde"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1440173275, "post_id": 32106663, "comment_id": 52179089, "body": "@IvanStoev Thanks, I see.  You provided an elegant approach with recursion. However, I believe it can be done even faster. I&#39;ll put up an alternative &quot;answer&quot; shortly."}, {"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 0, "creation_date": 1490826637, "post_id": 32106663, "comment_id": 73292011, "body": "Review of functional code is off-topic for Stack Overflow. Such questions belong on <a href=\"https://codereview.stackexchange.com\">Code Review</a>."}], "answers": [{"comments": [{"owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 0, "creation_date": 1440027613, "post_id": 32107318, "comment_id": 52109004, "body": "I&#39;m not versed in C# - how is this code avoiding counting duplicate target sums? I think the question asks for the number of distinct sums achievable between <code>start</code> and <code>finish</code>."}, {"owner": {"reputation": 12925, "user_id": 4668606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9l7Y.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/4668606/paul"}, "reply_to_user": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 0, "creation_date": 1440027753, "post_id": 32107318, "comment_id": 52109043, "body": "in <code>x + y = t</code> only <code>x</code> and <code>y</code> must be distinct. or atleast that&#39;s how i understood the question, but i couldn&#39;t find anything that prohibits multiple appeareances of the same <code>t</code>. If you mean &quot;how does this code avoid <code>x = y</code>, this is ensured by ` - (sub.Contains(l) ? 1 : 0)`"}, {"owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 0, "creation_date": 1440027825, "post_id": 32107318, "comment_id": 52109062, "body": "<code>the number of target values t in the interval [-10000,10000]</code> means if I see 55 twice as an achievable sum, I only count it once. Does it not?"}, {"owner": {"reputation": 1189, "user_id": 1121812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3e8bc9a884c2ebbb6c1e029382f1e850?s=128&d=identicon&r=PG", "display_name": "PushCode", "link": "https://stackoverflow.com/users/1121812/pushcode"}, "reply_to_user": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 0, "creation_date": 1440027946, "post_id": 32107318, "comment_id": 52109092, "body": "@\u05d2\u05dc\u05e2\u05d3\u05d1\u05e8\u05e7\u05df yes, you should count 55 only once."}, {"owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 0, "creation_date": 1440027977, "post_id": 32107318, "comment_id": 52109100, "body": "so how does your code guarantee that the next <code>l</code> won&#39;t count another 55?"}, {"owner": {"reputation": 12925, "user_id": 4668606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9l7Y.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/4668606/paul"}, "edited": false, "score": 0, "creation_date": 1440027980, "post_id": 32107318, "comment_id": 52109101, "body": "mathematically it doesn&#39;t, since there&#39;s nothing mentioned like &quot;unique target-values&quot;, but maybe op implied this"}, {"owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 0, "creation_date": 1440028082, "post_id": 32107318, "comment_id": 52109128, "body": "op&#39;s code, which he said he received full marks for, is only counting distinct sums"}, {"owner": {"reputation": 12925, "user_id": 4668606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9l7Y.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/4668606/paul"}, "reply_to_user": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 0, "creation_date": 1440028102, "post_id": 32107318, "comment_id": 52109137, "body": "@\u05d2\u05dc\u05e2\u05d3\u05d1\u05e8\u05e7\u05df it doesn&#39;t at all, since this was not a constraint in the question, but just mentioned by OP in a comment."}, {"owner": {"reputation": 12925, "user_id": 4668606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9l7Y.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/4668606/paul"}, "reply_to_user": {"reputation": 1189, "user_id": 1121812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3e8bc9a884c2ebbb6c1e029382f1e850?s=128&d=identicon&r=PG", "display_name": "PushCode", "link": "https://stackoverflow.com/users/1121812/pushcode"}, "edited": false, "score": 1, "creation_date": 1440028107, "post_id": 32107318, "comment_id": 52109140, "body": "@PushCode, you should add this constraint to the question, so far this is <b>not</b> clear"}], "tags": [], "owner": {"reputation": 12925, "user_id": 4668606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9l7Y.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/4668606/paul"}, "is_accepted": false, "score": 0, "last_activity_date": 1440027312, "creation_date": 1440027312, "answer_id": 32107318, "question_id": 32106663, "link": "https://stackoverflow.com/questions/32106663/two-sum-algorithm-variant-optimization/32107318#32107318", "title": "Two sum algorithm variant - Optimization", "body": "<p>This code can be optimized a lot simply by using a better datastructure. Use a <code>SortedSet</code> instead of a <code>HashSet</code>. Now the code can easily be optimized:</p>\n\n<pre><code>public static int calculate(int start , int finish , SortedSet&lt;long&gt; numbers){\n    int count = 0;\n\n    for(long l in numbers){\n        SortedSet&lt;long&gt; sub = numbers.GetViewBetween(l - start , l - finish);\n        count += sub.Count() - (sub.Contains(l) ? 1 : 0);\n    }\n\n    return count;\n}\n</code></pre>\n\n<p>Note that this code might not compile, since i haven't used c# since quite some time. You can even further optimize this code by simply ignoring values, which fulfill <code>number.min() + n &gt; finish</code> or <code>number.max() + n &lt; start</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 427, "user_id": 2788187, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/61fe7faa48b92de02b9c8142b8a02b0a?s=128&d=identicon&r=PG", "display_name": "Connor Clark", "link": "https://stackoverflow.com/users/2788187/connor-clark"}, "edited": false, "score": 0, "creation_date": 1440173828, "post_id": 32107375, "comment_id": 52179432, "body": "What is the name of this algorithm?"}, {"owner": {"reputation": 51837, "user_id": 2144669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e7393f439028063515255b63ed94cfd?s=128&d=identicon&r=PG", "display_name": "David Eisenstat", "link": "https://stackoverflow.com/users/2144669/david-eisenstat"}, "reply_to_user": {"reputation": 427, "user_id": 2788187, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/61fe7faa48b92de02b9c8142b8a02b0a?s=128&d=identicon&r=PG", "display_name": "Connor Clark", "link": "https://stackoverflow.com/users/2788187/connor-clark"}, "edited": false, "score": 1, "creation_date": 1440174238, "post_id": 32107375, "comment_id": 52179662, "body": "@Hoten I think it&#39;s folklore."}], "tags": [], "owner": {"reputation": 51837, "user_id": 2144669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e7393f439028063515255b63ed94cfd?s=128&d=identicon&r=PG", "display_name": "David Eisenstat", "link": "https://stackoverflow.com/users/2144669/david-eisenstat"}, "is_accepted": false, "score": 2, "last_activity_date": 1440028171, "last_edit_date": 1440028171, "creation_date": 1440027706, "answer_id": 32107375, "question_id": 32106663, "link": "https://stackoverflow.com/questions/32106663/two-sum-algorithm-variant-optimization/32107375#32107375", "title": "Two sum algorithm variant - Optimization", "body": "<p>There's a classic linear-time algorithm for finding two numbers in a sorted array <code>A</code> that sum to a specified target. Initialize <code>i</code> to the first index and <code>j</code> to the last. If <code>A[i] + A[j]</code> is less than the target, increase <code>i</code>. If it's less than the target, decrease <code>j</code>. Stop when <code>i &gt;= j</code>.</p>\n\n<p>Sorting the array with a comparison sort is asymptotically costlier than hashing, but this setup cost is negligible, and the improved memory layout of the array will yield a significant performance increase.</p>\n\n<p>To optimize further, you can invert the loop structure and, for each number in the array, figure out what combinations it makes.</p>\n\n<p>To optimize further still (at least asymptotically), use a Fourier transform to convolve (sections of) the array with each other. Since your numbers are distinct, I'm not convinced that this will be an improvement in practice.</p>\n"}, {"comments": [{"owner": {"reputation": 41117, "user_id": 1864167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/WalEV.jpg?s=128&g=1", "display_name": "Jeroen Vannevel", "link": "https://stackoverflow.com/users/1864167/jeroen-vannevel"}, "edited": false, "score": 0, "creation_date": 1440029646, "post_id": 32107625, "comment_id": 52109525, "body": "Can you explain what you do differently, why you do it and what effect it has?"}, {"owner": {"reputation": 76, "user_id": 4999918, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EFoJOW6FOjw/AAAAAAAAAAI/AAAAAAAAAKU/z0WbBF44osk/photo.jpg?sz=128", "display_name": "Vitali Donghvani", "link": "https://stackoverflow.com/users/4999918/vitali-donghvani"}, "reply_to_user": {"reputation": 41117, "user_id": 1864167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/WalEV.jpg?s=128&g=1", "display_name": "Jeroen Vannevel", "link": "https://stackoverflow.com/users/1864167/jeroen-vannevel"}, "edited": false, "score": 0, "creation_date": 1440029985, "post_id": 32107625, "comment_id": 52109590, "body": "Yes, idea is finding x and y in a set of numbers which must be equal to the number <b>t</b>.  Number <b>t</b> is any number between <b>start</b> and <b>finish</b>. In order to avoid duplicate target sums I use <b>HashSet</b>"}, {"owner": {"reputation": 76, "user_id": 4999918, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EFoJOW6FOjw/AAAAAAAAAAI/AAAAAAAAAKU/z0WbBF44osk/photo.jpg?sz=128", "display_name": "Vitali Donghvani", "link": "https://stackoverflow.com/users/4999918/vitali-donghvani"}, "reply_to_user": {"reputation": 41117, "user_id": 1864167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/WalEV.jpg?s=128&g=1", "display_name": "Jeroen Vannevel", "link": "https://stackoverflow.com/users/1864167/jeroen-vannevel"}, "edited": false, "score": 0, "creation_date": 1440030603, "post_id": 32107625, "comment_id": 52109714, "body": "Big O notation of that logic is less than: O(n^2)"}, {"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 0, "creation_date": 1440031604, "post_id": 32107625, "comment_id": 52109912, "body": "The logic is slightly off. This is assuming that <code>start</code> and <code>finish</code> are indexes of <code>numbers</code> - which is not the case."}, {"owner": {"reputation": 76, "user_id": 4999918, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EFoJOW6FOjw/AAAAAAAAAAI/AAAAAAAAAKU/z0WbBF44osk/photo.jpg?sz=128", "display_name": "Vitali Donghvani", "link": "https://stackoverflow.com/users/4999918/vitali-donghvani"}, "edited": false, "score": 1, "creation_date": 1440032055, "post_id": 32107625, "comment_id": 52109995, "body": "Noo, no no... :) Please read code carefully...  <b>Start</b> and <b>finish</b> are not indexes. They are possible <b>t</b> values.  <b>t</b> might be: <b>Start</b>, <b>Start+1</b>,  <b>...</b>, <b>Start+n</b>, <b>...</b>, <b>finish-1</b>, <b>finish</b>"}, {"owner": {"reputation": 76, "user_id": 4999918, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EFoJOW6FOjw/AAAAAAAAAAI/AAAAAAAAAKU/z0WbBF44osk/photo.jpg?sz=128", "display_name": "Vitali Donghvani", "link": "https://stackoverflow.com/users/4999918/vitali-donghvani"}, "edited": false, "score": 1, "creation_date": 1440032763, "post_id": 32107625, "comment_id": 52110147, "body": "Intel <b>Core i5-2500K</b> (Quad core) does <b>83,000 MIPS</b> (million instructions per second) Logic&#39;s <b>Big O</b> is: <b>O(n^2);</b> <b>Big O</b> equals 1 trillion If <b>n</b> (quantity of numbers in the list) is 1 million; So <b>Core i5</b> requires: 1000000000000 <b>/</b> 83000000000 = <b>12.05 Seconds</b>"}, {"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 0, "creation_date": 1440033101, "post_id": 32107625, "comment_id": 52110212, "body": "I think you have it backwards - <code>numbers</code> contains the possible results. <code>start</code> and <code>finish</code> are a contiguous block of numbers that we need to check. So, if <code>start=1</code>, <code>finish=4</code>, and <code>numbers = [3,4,5]</code>, the result would be <code>3,4,5</code> (1 + 2, 1+3, 1+4) [and ignored: 2+1, 2+2, 2+3]"}, {"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 0, "creation_date": 1440033448, "post_id": 32107625, "comment_id": 52110278, "body": "Actually - I think the OP&#39;s code is <i>slightly</i> broken. The number he generates for <code>sum</code> (x) is taken from start &lt;= x &lt;= finish (which supports my comment above). However, then we check for <code>y</code> by checking if it&#39;s within <code>numbers</code> - which supports your solution. However, doing <i>both</i> might not always give the correct result, but it seems for the test case he used, it did work. However, it is not <i>always</i> the case. @PushCode can you verify this? Are (x,y) taken from <code>start</code> - <code>finish</code>, or from <code>numbers</code> ?"}, {"owner": {"reputation": 76, "user_id": 4999918, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EFoJOW6FOjw/AAAAAAAAAAI/AAAAAAAAAKU/z0WbBF44osk/photo.jpg?sz=128", "display_name": "Vitali Donghvani", "link": "https://stackoverflow.com/users/4999918/vitali-donghvani"}, "edited": false, "score": 1, "creation_date": 1440033777, "post_id": 32107625, "comment_id": 52110360, "body": "1) <b>Start</b> &lt;= <b>t</b> &lt;= <b>finish</b>; 2) <b>t</b> = <b>x</b> + <b>y</b>; 3) <b>x</b> and <b>y</b> are distinct numbers from the list;"}, {"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 0, "creation_date": 1440033865, "post_id": 32107625, "comment_id": 52110386, "body": "@VitaliDonghvani Sorry - you&#39;re right - I had a brain fart.. <code>t</code> is indeed taken from the <code>start</code> and <code>finish</code> - I read the question completely opposite."}, {"owner": {"reputation": 1189, "user_id": 1121812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3e8bc9a884c2ebbb6c1e029382f1e850?s=128&d=identicon&r=PG", "display_name": "PushCode", "link": "https://stackoverflow.com/users/1121812/pushcode"}, "edited": false, "score": 0, "creation_date": 1440074067, "post_id": 32107625, "comment_id": 52129111, "body": "@VitaliDonghvani Running time is <b>O(n^2)</b> which is almost same as what I have."}, {"owner": {"reputation": 76, "user_id": 4999918, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EFoJOW6FOjw/AAAAAAAAAAI/AAAAAAAAAKU/z0WbBF44osk/photo.jpg?sz=128", "display_name": "Vitali Donghvani", "link": "https://stackoverflow.com/users/4999918/vitali-donghvani"}, "edited": false, "score": 0, "creation_date": 1440074560, "post_id": 32107625, "comment_id": 52129476, "body": "You use <b>HashSet&lt;T&gt;.Contains Method</b>, whenever you perform a lookup, the Comparer code would have to be executed on every key to check if there is a match. This would be extra O(n) in your logic"}], "tags": [], "owner": {"reputation": 76, "user_id": 4999918, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EFoJOW6FOjw/AAAAAAAAAAI/AAAAAAAAAKU/z0WbBF44osk/photo.jpg?sz=128", "display_name": "Vitali Donghvani", "link": "https://stackoverflow.com/users/4999918/vitali-donghvani"}, "is_accepted": false, "score": 1, "last_activity_date": 1440029527, "creation_date": 1440029527, "answer_id": 32107625, "question_id": 32106663, "link": "https://stackoverflow.com/questions/32106663/two-sum-algorithm-variant-optimization/32107625#32107625", "title": "Two sum algorithm variant - Optimization", "body": "<p>Please have a look following solution:</p>\n\n<pre><code>    public static int Calculate(int start, int finish, List&lt;long&gt; numbers)\n    {\n        HashSet&lt;long&gt; resultSet = new HashSet&lt;long&gt;();            \n        for (int indexA = 0; indexA &lt; numbers.Count - 1; indexA++)\n        {\n            for (int indexB = indexA+1; indexB &lt; numbers.Count; indexB++)\n            {\n                long tempSum = numbers[indexA] + numbers[indexB];\n                if ((tempSum &gt;= start) &amp;&amp; (tempSum &lt;= finish))\n                {\n                    resultSet.Add(tempSum);\n                }\n            }\n        }\n        return resultSet.Count();\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1189, "user_id": 1121812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3e8bc9a884c2ebbb6c1e029382f1e850?s=128&d=identicon&r=PG", "display_name": "PushCode", "link": "https://stackoverflow.com/users/1121812/pushcode"}, "edited": false, "score": 0, "creation_date": 1440074701, "post_id": 32118116, "comment_id": 52129581, "body": "Isn&#39;t the running time still <b>O(n^2)</b>?"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "reply_to_user": {"reputation": 1189, "user_id": 1121812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3e8bc9a884c2ebbb6c1e029382f1e850?s=128&d=identicon&r=PG", "display_name": "PushCode", "link": "https://stackoverflow.com/users/1121812/pushcode"}, "edited": false, "score": 0, "creation_date": 1440077755, "post_id": 32118116, "comment_id": 52131912, "body": "@PushCode  I think it is <b>O(N*M)</b>"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "reply_to_user": {"reputation": 1189, "user_id": 1121812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3e8bc9a884c2ebbb6c1e029382f1e850?s=128&d=identicon&r=PG", "display_name": "PushCode", "link": "https://stackoverflow.com/users/1121812/pushcode"}, "edited": false, "score": 0, "creation_date": 1440088036, "post_id": 32118116, "comment_id": 52139080, "body": "On my laptop (of course build in release mode and run outside VS) it completes for less than a second for 1M numbers"}], "tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": false, "score": 0, "last_activity_date": 1440086092, "last_edit_date": 1440086092, "creation_date": 1440073187, "answer_id": 32118116, "question_id": 32106663, "link": "https://stackoverflow.com/questions/32106663/two-sum-algorithm-variant-optimization/32118116#32118116", "title": "Two sum algorithm variant - Optimization", "body": "<p>With credits to David Eisenstat, putting it all together into action for the concrete case:  </p>\n\n<pre><code>public static int Calculate(this IEnumerable&lt;long&gt; input, int minSum, int maxSum)\n{\n    var sortedSet = input.AsParallel().Distinct().OrderBy(n =&gt; n).ToArray();\n    for (int lo = 0, hi = sortedSet.Length - 1; lo &lt; hi;)\n    {\n        var sum = sortedSet[lo] + sortedSet[hi];\n        if (sum &lt; minSum) lo++;\n        else if (sum &gt; maxSum) hi--;\n        else return 1 + Calculate(sortedSet, lo, hi, minSum, (int)sum - 1) + Calculate(sortedSet, lo, hi, (int)sum + 1, maxSum);\n    }\n    return 0;\n}\nprivate static int Calculate(long[] sortedSet, int lo, int hi, int minSum, int maxSum)\n{\n    int count = 0;\n    for (int targetSum = minSum; targetSum &lt;= maxSum; targetSum++)\n    {\n        for (int i = lo, j = hi; i &lt; j;)\n        {\n            var sum = sortedSet[i] + sortedSet[j];\n            if (sum &lt; targetSum) i++;\n            else if (sum &gt; targetSum) j--;\n            else { count++; break; }\n        }\n    }\n    return count;\n}\n</code></pre>\n\n<p><strong>EDIT</strong> even better:  </p>\n\n<pre><code>public static int Calculate(this IEnumerable&lt;long&gt; input, int minSum, int maxSum)\n{\n    if (minSum &gt; maxSum) return 0;\n    var sortedSet = input.AsParallel().Distinct().OrderBy(n =&gt; n).ToArray();\n    return CalculateCore(sortedSet, 0, sortedSet.Length - 1, minSum, maxSum);\n}\nprivate static int CalculateCore(long[] sortedSet, int lo, int hi, int minSum, int maxSum)\n{\n    if (minSum &gt; maxSum) return 0;\n    int count = 0;\n    while (lo &lt; hi)\n    {\n        var sum = sortedSet[lo] + sortedSet[hi];\n        if (sum &lt; minSum) lo++;\n        else if (sum &gt; maxSum) hi--;\n        else\n        {\n            count++;\n            if (minSum == maxSum) break;\n            if (sum - minSum &lt;= maxSum - sum)\n            {\n                count += CalculateCore(sortedSet, lo, hi - 1, minSum, (int)sum - 1);\n                minSum = (int)sum + 1;\n                lo++;\n            }\n            else\n            {\n                count += CalculateCore(sortedSet, lo + 1, hi, (int)sum + 1, maxSum);\n                maxSum = (int)sum - 1;\n                hi--;\n            }\n        };\n    }\n    return count;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 813, "user_id": 1645490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91a33a935424e51018b67431cffc5e47?s=128&d=identicon&r=PG", "display_name": "Bert te Velde", "link": "https://stackoverflow.com/users/1645490/bert-te-velde"}, "is_accepted": false, "score": 0, "last_activity_date": 1440173474, "creation_date": 1440173474, "answer_id": 32144947, "question_id": 32106663, "link": "https://stackoverflow.com/questions/32106663/two-sum-algorithm-variant-optimization/32144947#32144947", "title": "Two sum algorithm variant - Optimization", "body": "<p>I believe it can essentially be done in O(NlogN), where N is the number of points to construct the sums with, and assuming M, the range of sums-to-find is small in comparison.</p>\n\n<pre><code>private int CalcSlide(int first, int last, HashSet&lt;long&gt; numbers)\n{\n  if (last &lt; first)\n    return 0;\n\n  // Strategy:\n  // running over the input numbers, in ordered fashion from below, we'll scan an \"appropriate\" sliding window\n  // in that same collection to see if we find any sums that we didn't find before.\n  // We start out with the lowest number as an \"anchor\" and determine the HIGHEST number that might be relevant,\n  // i.e. that will not sum to beyond \"last\".\n  // Saving that separately, for later use, we scan down until we sum (always with the \"anchor\") to below \"first\".\n  //\n  // We maintain the sums-to-be-found in a hash.\n  // As soon as our scan hits a yet-to-be-found sum, we remove it from the hash and update first/last as appropriate.\n  // Having completed this cycle we increase the anchor, redetermine the hightest relevant number to start a new scan,\n  // (this redetermination starts at the saved previous value, walking down), and then we scan again.\n  // Exits occur whever the obvious conditions are fullfilled: there's nothing left to search for, we've nothing left to scan.\n  //\n  // Time-complexity:\n  // Given an input hash set we first construct a sorted array from that: O(nLogn)\n  // The subsequent sliding-window-scan procedure is O(N) if we look at scnario's with N (the number of input points) being much larger\n  // than the range of sums-to-find. More precisely the worst-case behaviour is O(N M logM), where M is the range of sums to find.\n  // (It would be somewhat difficult to construct an scenario where we really have such \"worst case behaviour\").\n  // 1. Obviously, the \"outer loop\" over the anchor is just \"from 1 to N\".\n  // 2. Computing the upperbound of the scan, for each anchor again, is also linear: it just runs from N-1 down to the anchor\n  //    (in separate strides for each anchor).\n  // 3. The scan, at each round, is somewhat more complicated. It is potentially long - over all numbers down to the anchor.\n  //    However, since all numbers are different (coming from a hashset), the scanwindow can never be larger than the range of sums (yet) to find.\n  //    The worst-case behaviour is then O(N*MlogM), where the logM factor arises from having to search for a sum in the hashSet of sums.\n  //    Of course, as we find \"some\" sums on the way, both the search-in-sumHashSet diminishes and the scanwindow gets smaller whenever we find\n  //    the current \"first\" or \"last\".\n\n  int sumCountOriginal = last - first + 1;\n\n  // Get a sorted array from the provided numbers.\n  long[] sortedSet = new long[this.HNumbers.Count];\n  int j = 0;\n  foreach (long value in HNumbers)\n    sortedSet[j++] = value;\n  Array.Sort(sortedSet);\n\n  // Create a (relatively small) HashSet from the sums sought.\n  // This serves to easily remove items that we find, and then verify if there are any left.\n  HashSet&lt;int&gt; HSums = new HashSet&lt;int&gt;();\n  for (int sum = first; sum &lt;= last; ++sum)\n    HSums.Add(sum);\n\n  int N = sortedSet.Length;\n\n  int jLow = 0;\n  int jScanStart = sortedSet.Length - 1;\n\n  while (HSums.Count &gt; 0)\n  {\n    long xLow = sortedSet[jLow];\n    long xScan = sortedSet[jScanStart];\n\n    // decrease jScanStart to get maxSum or less.\n    while (jScanStart &gt; jLow + 1 &amp;&amp; xScan + xLow &gt; last)\n      xScan = sortedSet[--jScanStart];\n\n    // scan until we get below minSum.\n    int jScan = jScanStart;\n    while (jScan &gt; jLow &amp;&amp; xLow + xScan &gt;= first)\n    {\n      int sum = (int)(xLow + xScan);\n      if (HSums.Contains(sum))\n      {\n        HSums.Remove(sum);\n\n        if (sum == last)\n          while (last &gt;= first &amp;&amp; !HSums.Contains(last))\n            last--;\n\n        if (sum == first)\n          while (first &lt;= last &amp;&amp; !HSums.Contains(first))\n            first++;\n\n        if (last &lt; first)\n          return sumCountOriginal;\n      }\n\n      xScan = sortedSet[--jScan];\n    } // scan\n\n    // next xLow.\n    if (++jLow == N - 1 || jScanStart &lt;= jLow)\n      return sumCountOriginal - HSums.Count;\n\n  } // there are still unresolved sums.\n\n  // unexpected fall-thru - we should never get here.\n  return sumCountOriginal - HSums.Count;\n}\n</code></pre>\n"}], "owner": {"reputation": 1189, "user_id": 1121812, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3e8bc9a884c2ebbb6c1e029382f1e850?s=128&d=identicon&r=PG", "display_name": "PushCode", "link": "https://stackoverflow.com/users/1121812/pushcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1074, "favorite_count": 2, "closed_date": 1490831619, "answer_count": 5, "score": 4, "last_activity_date": 1440173474, "creation_date": 1440023190, "last_edit_date": 1440074264, "question_id": 32106663, "link": "https://stackoverflow.com/questions/32106663/two-sum-algorithm-variant-optimization", "closed_reason": "Needs more focus", "title": "Two sum algorithm variant - Optimization", "body": "<p>I need to compute the number of target values t in the interval [-10000,10000] (inclusive) such that there are distinct numbers x,y in the input file that satisfy x+y=t. I have the code which does work and would like to optimize it to run it faster.</p>\n\n<p>Also, we'll count the sum <strong>t</strong> only once. If there are two x,y pairs that add to 55, you will only increment the result once. Input numbers could be both positive and negative integers.</p>\n\n<pre><code>public static int Calculate(int start, int finish, HashSet&lt;long&gt; numbers)\n{\n    int result = 0;\n    for (int sum = start; sum &lt;= finish; sum++)\n    {\n        foreach (long n in numbers)\n        {\n            if (numbers.Contains(sum - n) &amp;&amp; n != (sum - n))\n            {\n                result++;\n                break;\n            }\n        }\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>This is an assignment and I completed it with full marks. My code is taking like 30 minutes to run against the data set of 1 Million numbers. I tried to think a way to optimize my code, but couldn't get to the right thought and would appreciate some help. </p>\n"}, {"tags": ["c#", "wpf"], "answers": [{"tags": [], "owner": {"reputation": 196, "user_id": 4403858, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1599506345/picture?type=large", "display_name": "Vladimir Djurdjevic", "link": "https://stackoverflow.com/users/4403858/vladimir-djurdjevic"}, "is_accepted": false, "score": 0, "last_activity_date": 1440029353, "creation_date": 1440029353, "answer_id": 32107599, "question_id": 32106635, "link": "https://stackoverflow.com/questions/32106635/c-wpf-read-listbox-item-without-system-windows-controls/32107599#32107599", "title": "C# WPF Read Listbox item without System.Windows.Controls", "body": "<p><code>ListBox.Items</code> is <code>ItemCollection</code> type, so when you use <code>ListBox.Items[0]</code> you get <code>Item</code> and <code>ToString()</code> method gives you full name of type. What you need is <code>ListBox.ItemsSource[0]</code>, that will give you value of that item, it represents object like <code>string</code> or <code>int</code> that is bound to particular <code>ListBox item</code>.</p>\n"}], "owner": {"reputation": 7, "user_id": 4916449, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4fa21ebd6cdc156312967e183d4fb7f?s=128&d=identicon&r=PG&f=1", "display_name": "Vishera", "link": "https://stackoverflow.com/users/4916449/vishera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 354, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440029353, "creation_date": 1440023020, "last_edit_date": 1440023437, "question_id": 32106635, "link": "https://stackoverflow.com/questions/32106635/c-wpf-read-listbox-item-without-system-windows-controls", "title": "C# WPF Read Listbox item without System.Windows.Controls", "body": "<p>When I try to read ListBox items to XML file \u0130 read the name but with System.Windows.Controls always add in listbox items. How can I get the name?</p>\n\n<pre><code>private void Window_Closed(object sender, EventArgs e)\n    {\n        List&lt;string&gt; dosyaAdlari = new List&lt;string&gt;();\n\n        for (int i = 0; i &lt; listbox1.Items.Count; i++)\n        {\n            dosyaAdlari.Add(listbox1.Items[i].ToString());\n        }\n\n        using (System.IO.StreamWriter yazici = new System.IO.StreamWriter(dosyaYolu))\n        {\n            XmlSerializer serilestirici = new XmlSerializer(typeof(List&lt;string&gt;));\n            serilestirici.Serialize(yazici, dosyaAdlari);\n        }\n    }\n\n    private void Window_Loaded(object sender, RoutedEventArgs e)\n    {\n        try\n        {\n            List&lt;string&gt; dosya\u0130simleri = new List&lt;string&gt;();\n\n            using (StreamReader yazici = new StreamReader(dosyaYolu))\n            {\n                XmlSerializer deSerilestirici = new XmlSerializer(typeof(List&lt;string&gt;));\n                dosya\u0130simleri = (List&lt;string&gt;)deSerilestirici.Deserialize(yazici);\n\n            }\n            for (int i = 0; i &lt; dosya\u0130simleri.Count; i++)\n            {\n                listbox1.Items.Add(dosya\u0130simleri[i]);\n            }\n        }\n            catch\n            {\n            }\n        }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"reputation": 11504, "user_id": 1148153, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PnJGH.jpg?s=128&g=1", "display_name": "Fabio Luz", "link": "https://stackoverflow.com/users/1148153/fabio-luz"}, "edited": false, "score": 0, "creation_date": 1440037522, "post_id": 32106625, "comment_id": 52111291, "body": "Please, provide the structure of your entity. It seems that you are missing a rowversion property in your view."}, {"owner": {"reputation": 165, "user_id": 1732834, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Pl8P6.jpg?s=128&g=1", "display_name": "Diego Flores", "link": "https://stackoverflow.com/users/1732834/diego-flores"}, "reply_to_user": {"reputation": 11504, "user_id": 1148153, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PnJGH.jpg?s=128&g=1", "display_name": "Fabio Luz", "link": "https://stackoverflow.com/users/1148153/fabio-luz"}, "edited": false, "score": 0, "creation_date": 1440075049, "post_id": 32106625, "comment_id": 52129855, "body": "Hi @FabioLuz, i just added the structure, thanks!"}, {"owner": {"reputation": 11504, "user_id": 1148153, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PnJGH.jpg?s=128&g=1", "display_name": "Fabio Luz", "link": "https://stackoverflow.com/users/1148153/fabio-luz"}, "edited": false, "score": 0, "creation_date": 1440078815, "post_id": 32106625, "comment_id": 52132735, "body": "Are you sure that your model does not have a row version column?  Take a look at the table in your database; GRUPO_HERRAMIENTA is a partial class. Are you sure there is no other properties in the original class?"}, {"owner": {"reputation": 165, "user_id": 1732834, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Pl8P6.jpg?s=128&g=1", "display_name": "Diego Flores", "link": "https://stackoverflow.com/users/1732834/diego-flores"}, "reply_to_user": {"reputation": 11504, "user_id": 1148153, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PnJGH.jpg?s=128&g=1", "display_name": "Fabio Luz", "link": "https://stackoverflow.com/users/1148153/fabio-luz"}, "edited": false, "score": 0, "creation_date": 1440078998, "post_id": 32106625, "comment_id": 52132896, "body": "Yes, only those rows.COP_CORRELATIVO (PK) (FK) - GHE_CORRELATIVO(PK) (INDENTITY(1,1)) - AND GHE_DESCRIPCION"}], "answers": [{"tags": [], "owner": {"reputation": 11504, "user_id": 1148153, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PnJGH.jpg?s=128&g=1", "display_name": "Fabio Luz", "link": "https://stackoverflow.com/users/1148153/fabio-luz"}, "is_accepted": false, "score": 0, "last_activity_date": 1440088935, "last_edit_date": 1440088935, "creation_date": 1440088635, "answer_id": 32123710, "question_id": 32106625, "link": "https://stackoverflow.com/questions/32106625/dbupdateconcurrencyexception-when-try-update-a-table-with-composed-key/32123710#32123710", "title": "DbUpdateConcurrencyException when try update a table with composed key", "body": "<p>In debug, make sure that all parameters are being set in the post action, specially <code>COP_CORRELATIVO</code>, which is the primary key.</p>\n\n<p>For testing puposes, instead of <code>db.Entry(gRUPO_HERRAMIENTA).State = EntityState.Modified;</code> use this:</p>\n\n<pre><code>db.GRUPO_HERRAMIENTAS.Attach(gRUPO_HERRAMIENTA); \n\ndb.Entry(gRUPO_HERRAMIENTA).Property(i =&gt; i.COP_CORRELATIVO ).IsModified = true;\ndb.Entry(gRUPO_HERRAMIENTA).Property(i =&gt; i.GHE_CORRELATIVO ).IsModified = true;\ndb.Entry(gRUPO_HERRAMIENTA).Property(i =&gt; i.GHE_DESCRIPCION ).IsModified = true;\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 1732834, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Pl8P6.jpg?s=128&g=1", "display_name": "Diego Flores", "link": "https://stackoverflow.com/users/1732834/diego-flores"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440088935, "creation_date": 1440022962, "last_edit_date": 1440074971, "question_id": 32106625, "link": "https://stackoverflow.com/questions/32106625/dbupdateconcurrencyexception-when-try-update-a-table-with-composed-key", "title": "DbUpdateConcurrencyException when try update a table with composed key", "body": "<p>Im using Visual Studio 2015 with MVC5.</p>\n\n<p>I try build a edit view to a table with this code, and i get a error that I can\u00b4t solve</p>\n\n<pre><code>        @Html.HiddenFor(model =&gt; model.GHE_CORRELATIVO)*@\n\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model=&gt; model.COP_CORRELATIVO,\"COP_CORRELATIVO\")\n        @Html.DropDownList(\"COP_CORRELATIVO\", null, htmlAttributes: new { @class = \"form-control\" })\n\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt; model.GHE_DESCRIPCION, htmlAttributes: new { @class = \"control-label col-md-2\" })\n        &lt;div class=\"col-md-10\"&gt;\n            @Html.EditorFor(model =&gt; model.GHE_DESCRIPCION, new { htmlAttributes = new { @class = \"form-control\" } })\n            @Html.ValidationMessageFor(model =&gt; model.GHE_DESCRIPCION, \"\", new { @class = \"text-danger\" })\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p><strong>DbUpdateConcurrencyExcepcion</strong> when the data is received by the controller.</p>\n\n<pre><code>[HttpPost]\n[ValidateAntiForgeryToken]\npublic ActionResult Edit([Bind(Include = \"COP_CORRELATIVO,GHE_CORRELATIVO,GHE_DESCRIPCION\")] GRUPO_HERRAMIENTA gRUPO_HERRAMIENTA)\n{\n    if (ModelState.IsValid)\n    {\n        db.Entry(gRUPO_HERRAMIENTA).State = EntityState.Modified;\n        db.SaveChanges();\n        return RedirectToAction(\"Index\");\n    }\n    ViewBag.COP_CORRELATIVO = new SelectList(db.CLASIFICACION_OPCION, \"COP_CORRELATIVO\", \"COP_DESCRIPCION\", gRUPO_HERRAMIENTA.COP_CORRELATIVO);\n    return View(gRUPO_HERRAMIENTA);\n}\n</code></pre>\n\n<p>My table is composed by two pk, ghe_correlativo (own) and cop_correlativo (FK), the scaffold only generate the text input but I need editing the cop_correlativo field with a dropdown fiel.</p>\n\n<p>The structure of model :</p>\n\n<pre><code>   public partial class GRUPO_HERRAMIENTA\n    {\n        [System.Diagnostics.CodeAnalysis.SuppressMessage(\"Microsoft.Usage\", \"CA2214:DoNotCallOverridableMethodsInConstructors\")]\n        public GRUPO_HERRAMIENTA()\n        {\n            this.PERFIL_INTRANET = new HashSet&lt;PERFIL_INTRANET&gt;();\n        }\n\n        public int COP_CORRELATIVO { get; set; }\n        public int GHE_CORRELATIVO { get; set; }\n        public string GHE_DESCRIPCION { get; set; }\n\n        public virtual CLASIFICACION_OPCION CLASIFICACION_OPCION { get; set; }\n        [System.Diagnostics.CodeAnalysis.SuppressMessage(\"Microsoft.Usage\", \"CA2227:CollectionPropertiesShouldBeReadOnly\")]\n        public virtual ICollection&lt;PERFIL_INTRANET&gt; PERFIL_INTRANET { get; set; }\n    }\n</code></pre>\n\n<p>what am I doing wrong?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework-6"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1440022816, "post_id": 32106576, "comment_id": 52107697, "body": "Extend it to do what?"}, {"owner": {"reputation": 5291, "user_id": 1471604, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/dad335a0b8a96783cf047f17ea2488dd?s=128&d=identicon&r=PG", "display_name": "Peter Smith", "link": "https://stackoverflow.com/users/1471604/peter-smith"}, "edited": false, "score": 0, "creation_date": 1440023387, "post_id": 32106576, "comment_id": 52107875, "body": "Bad title; updated to clarify hopefully"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1440023784, "post_id": 32106576, "comment_id": 52107985, "body": "Are you writing your own html helper extension methods to render an <code>&lt;select&gt;</code> with additional attributes in each of its options?"}, {"owner": {"reputation": 5291, "user_id": 1471604, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/dad335a0b8a96783cf047f17ea2488dd?s=128&d=identicon&r=PG", "display_name": "Peter Smith", "link": "https://stackoverflow.com/users/1471604/peter-smith"}, "edited": false, "score": 0, "creation_date": 1440024524, "post_id": 32106576, "comment_id": 52108218, "body": "Yes, that&#39;s correct. I want to add an HTML class to each item in the list which will be different depending on the item type."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 2, "creation_date": 1440024964, "post_id": 32106576, "comment_id": 52108327, "body": "Eriks answer would be easier, but you could also write your own <code>SelectList</code> method that accepts an additional parameter(s)"}], "answers": [{"comments": [{"owner": {"reputation": 5291, "user_id": 1471604, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/dad335a0b8a96783cf047f17ea2488dd?s=128&d=identicon&r=PG", "display_name": "Peter Smith", "link": "https://stackoverflow.com/users/1471604/peter-smith"}, "edited": false, "score": 0, "creation_date": 1440024614, "post_id": 32106606, "comment_id": 52108241, "body": "Thanks for this, see comment above for answer to consuming the object"}], "tags": [], "owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "is_accepted": true, "score": 1, "last_activity_date": 1440022907, "creation_date": 1440022907, "answer_id": 32106606, "question_id": 32106576, "link": "https://stackoverflow.com/questions/32106576/how-to-read-a-list-into-an-extended-selectlistitem-class-with-entity-framework/32106606#32106606", "title": "How to read a list into an Extended SelectListItem class with Entity Framework", "body": "<p>I'm not aware of any requirement to make a <code>SelectList</code> so you could:</p>\n\n<pre><code>vars list = dbContext.UserCategories\n  .Where(x =&gt; x.DisplayOrder &gt; 0)\n  .OrderBy(x =&gt; x.UserCategoryType)\n  .ThenBy(x =&gt; x.DisplayOrder)\n  .ToList()\n  .Select(uc =&gt; new ExtendedSelectListItem()\n    {\n      HtmlAttribute = \"form-control\",\n      Value = uc.UserCategoryID.ToString(),\n      Text = uc.UserCategoryType\n    })\n  .ToList()\n</code></pre>\n\n<p>Something like that works for <code>Html.DropDownListFor()</code> etc.  (Not however, that <code>HtmlAttribute</code> is unknown to <code>DropDownListFor</code> and other built in methods, so it won't render anything unless you wrote your own methods that know how to consume <code>ExtendedSelectListItem</code>).</p>\n"}], "owner": {"reputation": 5291, "user_id": 1471604, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/dad335a0b8a96783cf047f17ea2488dd?s=128&d=identicon&r=PG", "display_name": "Peter Smith", "link": "https://stackoverflow.com/users/1471604/peter-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 471, "favorite_count": 0, "accepted_answer_id": 32106606, "answer_count": 1, "score": 0, "last_activity_date": 1440022977, "creation_date": 1440022720, "last_edit_date": 1440022977, "question_id": 32106576, "link": "https://stackoverflow.com/questions/32106576/how-to-read-a-list-into-an-extended-selectlistitem-class-with-entity-framework", "title": "How to read a list into an Extended SelectListItem class with Entity Framework", "body": "<p>I am developing in VS 2015 using C#, MVC and EF6. I currently generate select list content using the following:</p>\n\n<pre><code>IEnumerable&lt;SelectListItem&gt; slist = new SelectList(dbContext.UserCategories\n            .Where(x =&gt; x.DisplayOrder &gt; 0)\n            .OrderBy(x =&gt; x.UserCategoryType)\n            .ThenBy(x =&gt; x.DisplayOrder)\n            .ToList(), \"UserCategoryID\", \"Category\");\n</code></pre>\n\n<p>I need to extend the <code>SelectListItem</code> class as follows:</p>\n\n<pre><code>public class ExtendedSelectListItem : SelectListItem\n{\n    public string HtmlAttribute { get; set; }\n\n    public ExtendedSelectListItem()\n    {\n    }        \n}\n</code></pre>\n\n<p>My questions is, how do I modify the EF expression to generate a suitable result for the new class. (Please note that field <code>UserCategoryID</code> is an <code>int</code>)</p>\n"}, {"tags": ["c#", "asp.net"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5112948, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0b6d035c1beb60cfc1a0b6ba60726af1?s=128&d=identicon&r=PG&f=1", "display_name": "bridgette", "link": "https://stackoverflow.com/users/5112948/bridgette"}, "edited": false, "score": 0, "creation_date": 1440023800, "post_id": 32106673, "comment_id": 52107990, "body": "Can you expound on how to retrieve the parameter in the login&#39;s cs page? Or point me to a good post for explaining it?"}, {"owner": {"reputation": 12353, "user_id": 64157, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/05c464e1200aa91a096c4667f9b59609?s=128&d=identicon&r=PG", "display_name": "HaukurHaf", "link": "https://stackoverflow.com/users/64157/haukurhaf"}, "edited": false, "score": 0, "creation_date": 1440024198, "post_id": 32106673, "comment_id": 52108110, "body": "To retrieve the from parameter, do this:  string from = Page.Request.QueryString[&quot;from&quot;];  Then before you redirect to &quot;my_account.aspx&quot;, first check if the variable from is empty, if not, redirect to from instead of to &quot;my_account.aspx&quot;"}], "tags": [], "owner": {"reputation": 1207, "user_id": 1979107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdc30d9a3ef8fddfae985a73239e85eb?s=128&d=identicon&r=PG", "display_name": "Hernan Guzman", "link": "https://stackoverflow.com/users/1979107/hernan-guzman"}, "is_accepted": true, "score": 0, "last_activity_date": 1440023220, "creation_date": 1440023220, "answer_id": 32106673, "question_id": 32106554, "link": "https://stackoverflow.com/questions/32106554/go-back-to-page-that-needed-authentication-after-successful-login/32106673#32106673", "title": "Go back to page that needed authentication after successful login", "body": "<p>Add a parameter when redirecting to the login page:</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n{\n    if (Session[\"user\"] == null)\n    {\n        Response.Redirect(\"~/login.aspx?from=ORIGINGPAGE\"); //Set parameter here\n    }\n}\n</code></pre>\n\n<p>Then, retrieve this parameter in the login page and you will know where you have to come back!</p>\n"}, {"tags": [], "owner": {"reputation": 127, "user_id": 778401, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0D5L1.png?s=128&g=1", "display_name": "Mark Tomlinson", "link": "https://stackoverflow.com/users/778401/mark-tomlinson"}, "is_accepted": false, "score": 0, "last_activity_date": 1440024647, "creation_date": 1440024647, "answer_id": 32106892, "question_id": 32106554, "link": "https://stackoverflow.com/questions/32106554/go-back-to-page-that-needed-authentication-after-successful-login/32106892#32106892", "title": "Go back to page that needed authentication after successful login", "body": "<p>You could use the Request.UrlReferrer to get the previous page in page load and redirect to it after a successful login.</p>\n"}], "owner": {"reputation": 23, "user_id": 5112948, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0b6d035c1beb60cfc1a0b6ba60726af1?s=128&d=identicon&r=PG&f=1", "display_name": "bridgette", "link": "https://stackoverflow.com/users/5112948/bridgette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 32106673, "answer_count": 2, "score": 0, "last_activity_date": 1440024647, "creation_date": 1440022627, "question_id": 32106554, "link": "https://stackoverflow.com/questions/32106554/go-back-to-page-that-needed-authentication-after-successful-login", "title": "Go back to page that needed authentication after successful login", "body": "<p>I've got a web site that has a couple of pages that require a login to view (<code>deals.aspx</code> and <code>settings.aspx</code>) and the page that the login currently redirects to after a successful login (<code>my_account.aspx</code>). How can I set it so that if the login page was called from <code>deals.aspx</code> or <code>settings.aspx</code> that when it authenticates the user it goes back to the page it called from instead of <code>my_account.aspx</code>? </p>\n\n<p><code>login.aspx.cs</code></p>\n\n<pre><code>protected void login_Click(object sender, EventArgs e)\n{\n    string loginUser = user.Text;\n    string loginPassword = password.Text;\n    bool success = false;\n\n    System.Diagnostics.Debug.WriteLine(loginUser);\n    System.Diagnostics.Debug.WriteLine(loginPassword);\n\n    MySqlConnection conn = Database.getConnection();\n    try\n    {\n        conn.Open();\n        MySqlCommand cmd = new MySqlCommand(queryUsers);\n        cmd.Connection = conn;\n        cmd.Parameters.AddWithValue(\"@email\", loginUser);\n        cmd.Parameters.AddWithValue(\"@password\", loginPassword);\n        cmd.Prepare();\n\n        if (success)\n        {\n            Session[\"user\"] = user.ToString();\n            Response.Redirect(\"~/my_account.aspx\");\n        }\n\n    }\n    catch (MySqlException ex)\n    {\n        System.Diagnostics.Debug.WriteLine(ex.Message);\n    }\n    catch (System.InvalidOperationException ex)\n    {\n        System.Diagnostics.Debug.WriteLine(ex.Message);\n    }\n    finally\n    {\n        conn.Close();\n    }\n}\n</code></pre>\n\n<p><code>deals.aspx.cs</code> and <code>settings.aspx.cs</code></p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n{\n    if (Session[\"user\"] == null)\n    {\n        Response.Redirect(\"~/login.aspx\");\n    }\n}\n</code></pre>\n\n<p>and there isn't anything in the <code>my_account.aspx.cs</code> page right now. </p>\n"}, {"tags": ["c#", "sql-server", "nhibernate", "fluent-nhibernate"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 5240928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5ba566b21ff2f15041e6ca136350a4f?s=128&d=identicon&r=PG&f=1", "display_name": "M. Tipping", "link": "https://stackoverflow.com/users/5240928/m-tipping"}, "edited": false, "score": 1, "creation_date": 1440097502, "post_id": 32107868, "comment_id": 52144115, "body": "Yeah, I can&#39;t change the schema otherwise I would. I will add the 3 properties for each object.  Thank you for your help"}], "tags": [], "owner": {"reputation": 615, "user_id": 1495067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/919c92af54e281830a860719d22aebf8?s=128&d=identicon&r=PG", "display_name": "Colin Grealy", "link": "https://stackoverflow.com/users/1495067/colin-grealy"}, "is_accepted": true, "score": 0, "last_activity_date": 1440031720, "creation_date": 1440031720, "answer_id": 32107868, "question_id": 32106482, "link": "https://stackoverflow.com/questions/32106482/fluent-nhibernate-map-collection-of-objects-from-single-table-row-with-differe/32107868#32107868", "title": "(Fluent) Nhibernate Map collection of objects from single table row with different column names per object C#", "body": "<p>Well, the best solution is to refactor your schema so that you have a seperate Address table. </p>\n\n<p>But assuming you can't do that, you could map the Address class as a component to separate MainAddress, ShipAddress and EnglishAddress properties and then simply expose them via the list for iteration. </p>\n\n<pre><code>public class Customer\n{\n    // other properties\n\n    protected virtual Address MainAddress { get; set; }\n    protected virtual Address ShipAddress { get; set; }\n    protected virtual Address EnglishAddress { get; set; }\n\n    private IEnumerable&lt;Address&gt; _addresses = null;\n    public virtual IEnumerable&lt;Address&gt; Addresses\n    { \n        get \n        {\n            if (_addresses == null)\n            {\n                MainAddress.AddressType = AddressType.Main;\n                ShipAddress.AddressType = AddressType.Ship;                                     \n                EnglishAddress.AddressType = AddressType.English;\n               _addresses = new[] { MainAddress, ShipAddress, EnglishAddress };\n            }\n            return _addresses;\n        }\n    }\n}\n</code></pre>\n\n<p>Then map as follows </p>\n\n<pre><code>public class CustomerMap : ClassMap&lt;Customer&gt;\n{\n     public CustomerMap()\n     {\n         // map customer properties\n\n         Component(Reveal.Member&lt;Customer&gt;(\"MainAddress\"), m =&gt;\n         {\n             m.Map(x =&gt; x.Address1, \"MainAddress1\");\n             m.Map(x =&gt; x.Address2, \"MainAddress2\");\n             // other address properties\n         };\n\n         Component(Reveal.Member&lt;Customer&gt;(\"ShipAddress\"), m =&gt;\n         {\n             m.Map(x =&gt; x.Address1, \"ShipAddress1\");\n             m.Map(x =&gt; x.Address2, \"ShipAddress2\");\n             // other address properties\n         };\n\n         // same for english address\n    }\n}\n</code></pre>\n\n<p>You won't be able to add additional addresses, but you couldn't really add them with your schema as it is anyway.</p>\n"}], "owner": {"reputation": 105, "user_id": 5240928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5ba566b21ff2f15041e6ca136350a4f?s=128&d=identicon&r=PG&f=1", "display_name": "M. Tipping", "link": "https://stackoverflow.com/users/5240928/m-tipping"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 0, "accepted_answer_id": 32107868, "answer_count": 1, "score": 1, "last_activity_date": 1440031720, "creation_date": 1440022271, "question_id": 32106482, "link": "https://stackoverflow.com/questions/32106482/fluent-nhibernate-map-collection-of-objects-from-single-table-row-with-differe", "title": "(Fluent) Nhibernate Map collection of objects from single table row with different column names per object C#", "body": "<p>I have a Customer class that has a list of Address class as a property. The problem I am running into is when trying to map the Address class with Fluent Nhibernate when the source is a single record in a single database table.</p>\n\n<p>My classes are as follows:</p>\n\n<pre><code>public class Customer\n{\n    public virtual int Id { get; set; }\n    public virtual string FirstName { get; set; }\n    public virtual string LastName { get; set; }\n    public virtual string Name { get; set; }\n    public virtual string ContactName { get; set; }\n    public virtual List&lt;Address&gt; Addresses { get; set; }\n}\n\npublic class Address\n{\n    public virtual string Address1 { get; set; }\n    public virtual string Address2 { get; set; }\n    public virtual string City { get; set; }\n    public virtual string State { get; set; }\n    public virtual string Country { get; set; }\n    public virtual string PostalCode { get; set; }\n    public virtual AddressType Type { get; set; }\n}\n</code></pre>\n\n<p>The database schema is as follows:</p>\n\n<pre><code>TABLE [dbo].[CUSTOMER](\n    [CUSTID] [int] NOT NULL,\n    [NAME] [nvarchar](100) NULL,\n    [FIRSTNAME] [nvarchar](100) NULL,\n    [LASTNAME] [nvarchar](100) NULL,\n    [CONTACTNAME] [nvarchar](100) NULL,\n    [MAINADDRESS1] [nvarchar](100) NULL,\n    [MAINADDRESS2] [nvarchar](100) NULL,\n    [MAINCITY] [nvarchar](100) NULL,\n    [MAINSTATE] [nvarchar](20) NULL,\n    [MAINZIP] [nvarchar](100) NULL,\n    [MAINCOUNTRY] [nvarchar](100) NULL,\n    [SHIPADDRESS1] [nvarchar](100) NULL,\n    [SHIPADDRESS2] [nvarchar](100) NULL,\n    [SHIPCITY] [nvarchar](100) NULL,\n    [SHIPSTATE] [nvarchar](20) NULL,\n    [SHIPZIP] [nvarchar](40) NULL,\n    [SHIPCOUNTRY] [nvarchar](100) NULL,\n    [EnglishAddress1] [nvarchar](100) NULL,\n    [EnglishAddress2] [nvarchar](100) NULL,\n    [EnglishCity] [nvarchar](100) NULL,\n    [EnglishState] [nvarchar](20) NULL,\n    [EnglishZip] [nvarchar](40) NULL,\n    [EnglishCountry] [nvarchar](50) NULL,\n)\n</code></pre>\n\n<p>I would like to map each address in the single customer record to an individual Address Class in the list with a different address type.</p>\n\n<p>Does anyone know how to properly do this?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["c#", "entity-framework"], "answers": [{"tags": [], "owner": {"reputation": 1207, "user_id": 1979107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdc30d9a3ef8fddfae985a73239e85eb?s=128&d=identicon&r=PG", "display_name": "Hernan Guzman", "link": "https://stackoverflow.com/users/1979107/hernan-guzman"}, "is_accepted": false, "score": 0, "last_activity_date": 1440022737, "creation_date": 1440022737, "answer_id": 32106580, "question_id": 32106405, "link": "https://stackoverflow.com/questions/32106405/how-to-add-related-object-to-the-context-in-ef6/32106580#32106580", "title": "How to Add related object to the context in EF6", "body": "<p>I suggest you to use a foreign key property in your classes:</p>\n\n<pre><code>public class A\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public ICollection&lt;B&gt; { get; set; }\n}\n\npublic class B\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n\n    [ForeignKey(\"A\")]\n    public int AId { get; set; }    \n    public virtual A A { get; set; }\n}\n</code></pre>\n\n<p>In this way, you can set the reference key ID instead of the whole object when creating a B type.</p>\n\n<pre><code>B objB = new B() \n{ \n    Name = \"Object B\",\n    AId = objA.Id // Set object ID here\n};\n\nAdd&lt;B&gt;(objB);\n</code></pre>\n\n<p>Hope it can help you!</p>\n"}, {"tags": [], "owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "is_accepted": true, "score": 1, "last_activity_date": 1440025767, "creation_date": 1440025767, "answer_id": 32107080, "question_id": 32106405, "link": "https://stackoverflow.com/questions/32106405/how-to-add-related-object-to-the-context-in-ef6/32107080#32107080", "title": "How to Add related object to the context in EF6", "body": "<p>This is exactly why it's hardly ever helpful to have this layer of wrappers around <code>DbContext</code> and <code>DbSet</code>.</p>\n\n<p>The only thing your <code>Add</code> method can do well is, add a <em>single</em> <code>A</code> entity to the database, <em>and any entity that's connected to it</em> (also called an <em>object graph</em>). The method <code>DbSet.Add</code> that's used inside of it marks every entity as <code>Added</code> that is (1) reachable from the <code>A</code> instance and (2) that's not yet attached to the context. Well, you create the context inside the method, so there's no way for nested entities to get attached before <code>A</code> is added.</p>\n\n<p>But this isn't your only problem. You also can't add more entities (not even more than one <code>A</code> entity) to the database in one transaction unless you wrap all <code>Add</code> calls in a <code>TransactionScope</code>. No way to use one <code>SaveChanges</code> call to commit one complete unit of work.</p>\n\n<p>I don't know where this <code>Add</code> method resides, but you should somehow refactor your code so as to have more freedom to manipulate the object graph before saving changes.</p>\n\n<p>Without any wrappers this task would be done like so:</p>\n\n<pre><code>using(var context = new MyContext())\n{\n    A objA = context.As.Find(id); // id is a variable holding an existing A's Id\n\n    // Now objA is attached to the context and won't be added.\n    B objB = new B() { Name = \"Object B\", A = objA };\n    context.Bs.Add(objB);\n    context.SaveChanges();\n}\n</code></pre>\n"}], "owner": {"reputation": 642, "user_id": 3530012, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/5f201c552066c56aa83f6018cfa93d14?s=128&d=identicon&r=PG&f=1", "display_name": "user3530012", "link": "https://stackoverflow.com/users/3530012/user3530012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1677, "favorite_count": 0, "accepted_answer_id": 32107080, "answer_count": 2, "score": 2, "last_activity_date": 1440025767, "creation_date": 1440021911, "last_edit_date": 1440023171, "question_id": 32106405, "link": "https://stackoverflow.com/questions/32106405/how-to-add-related-object-to-the-context-in-ef6", "title": "How to Add related object to the context in EF6", "body": "<p>I have two classes</p>\n\n<pre><code>public class A\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public ICollection&lt;B&gt; { get; set; }\n}\n\npublic class B\n{\n    public int Id { get; set; }\n    public A A { get; set; }\n    public string Name { get; set; }\n}\n</code></pre>\n\n<p>the ICollection could be null so first I create and add objects of type A in the following way. First of all I have a generic method for adding items:</p>\n\n<pre><code>public void Add&lt;T&gt;(T item)\n{\n    using ( var context = new DbContext())\n    {\n        context.Set&lt;T&gt;().Add(obj);\n        context.SaveChanges();\n    }\n}\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>A objA = new A() { Name = \"Object A\" };\nAdd&lt;A&gt;(objA);\n</code></pre>\n\n<p>So far everything works fine. My problem comes when adding related object of type B.</p>\n\n<pre><code>B objB = new B() { Name = \"Object B\", A = objA }\nAdd&lt;B&gt;(objB);\n</code></pre>\n\n<p>Adding objB results in duplicating objA (with different Id). I'm not sure where I'm wrong. Please help.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "stream", "streamreader"], "answers": [{"tags": [], "owner": {"reputation": 183, "user_id": 5236431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kvOXG.png?s=128&g=1", "display_name": "Ryfang", "link": "https://stackoverflow.com/users/5236431/ryfang"}, "is_accepted": false, "score": 0, "last_activity_date": 1440027910, "creation_date": 1440027910, "answer_id": 32107410, "question_id": 32106282, "link": "https://stackoverflow.com/questions/32106282/trying-to-record-the-position-of-reader-in-an-array/32107410#32107410", "title": "Trying to record the position of reader in an array", "body": "<p>with the stream reader position, this is a heavily task</p>\n\n<p>here some other way to do this:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Text;\n\npublic partial class test\n{\n    // temp string\n    String temp = string.Empty;\n\n    // array of readed text\n    char[] chars;\n\n    // helper variable\n    int found = 0;\n\n    // compare list\n    List&lt;String&gt; compare = new List&lt;string&gt;() { \",\", \";\", \".\" };\n\n    // Stream Reader\n    StreamReader reader = new StreamReader(\"file.txt\");\n\n    public string increaseText()\n    {\n        // Read next line if end of this line\n        if (chars == null || (found &gt; 0 &amp;&amp; temp.Length &gt;= chars.Length))\n        {\n            // read whole line\n            chars = reader.ReadLine().ToCharArray();\n        }\n\n        // check every char\n        for (int i = found; i &lt; chars.Length; i++)\n        {\n            temp += chars[i].ToString();\n\n            // if stop sign found, exit and return our string\n            if (compare.Contains(chars[i].ToString()))\n            {\n                found = i + 1;\n                break;\n            }\n        }\n        return temp;\n    }\n\n    public string decreaseText()\n    {\n        // get all chars\n        char[] compChars = temp.ToCharArray();\n\n        // check every char\n        for (int i = temp.Length-1; i &gt; 0; i--)\n        {\n            // if stop sign found, decrease text\n            if (compare.Contains(compChars[i-1].ToString()))\n            {\n                found = i;\n                temp = temp.Substring(0, i);\n                break;\n            }\n        }\n        return temp;\n    }\n}\n</code></pre>\n\n<p>read every line of code works fine too, hope this helps :)</p>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 1843030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7cbf85328d55739f6c12569bcc4fc8f?s=128&d=identicon&r=PG", "display_name": "Damien Jones", "link": "https://stackoverflow.com/users/1843030/damien-jones"}, "is_accepted": false, "score": 0, "last_activity_date": 1440028696, "creation_date": 1440028696, "answer_id": 32107517, "question_id": 32106282, "link": "https://stackoverflow.com/questions/32106282/trying-to-record-the-position-of-reader-in-an-array/32107517#32107517", "title": "Trying to record the position of reader in an array", "body": "<p>Basically reader.BaseStream.Position doesn't contain what you think.</p>\n\n<p>From the documentation:\n    <a href=\"https://msdn.microsoft.com/query/dev14.query?appId=Dev14IDEF1&amp;l=EN-US&amp;k=k(System.IO.Stream.Position);k(TargetFrameworkMoniker-.NETFramework,Version%3Dv4.5.2);k(DevLang-csharp)&amp;rd=true\" rel=\"nofollow\">The Position property does not keep track of the number of bytes from the stream that have been consumed, skipped, or both.</a></p>\n\n<p>If you want to use a stream for this you will have to count the consumed characters yourself.</p>\n"}], "owner": {"reputation": 23, "user_id": 5245179, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/197c572448e0045bbbdccdaf9167a229?s=128&d=identicon&r=PG&f=1", "display_name": "Jay Bean", "link": "https://stackoverflow.com/users/5245179/jay-bean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1440028696, "creation_date": 1440021259, "question_id": 32106282, "link": "https://stackoverflow.com/questions/32106282/trying-to-record-the-position-of-reader-in-an-array", "title": "Trying to record the position of reader in an array", "body": "<p>This program displays chunks of text to help the user memorize. Each time the user presses a button another chunk of text is displayed.\nI'm trying to record the positions of the punctuation marks. When the user presses a 'less text' button a chunk of text is removed... i.e..</p>\n\n<p>User presses retrieve text 3 times</p>\n\n<p>A label displays....I went, to the house, it was good.</p>\n\n<p>user presses 'less text' once;</p>\n\n<p>The label displays.....I went, to the house,</p>\n\n<p>My problem is with the 'less text' button. I would like that button to be able to check the reader positions that have been stored in an array, and then display the text up till the second last punctuation mark recorded in the array. I feel that the way I'm using BaseStream.Position is not correct. I can't seem to find clarity on how to record the position of a reader object.  thank you.</p>\n\n<p>public partial class frmMainWindow : Form\n    {\n        public frmMainWindow()\n        {\n            InitializeComponent();\n        }</p>\n\n<pre><code>    // Creates an object that we can append values to and create a string\n    StringBuilder textToMemorize = new StringBuilder();\n\n    // Reads in text from a file. This is the text that the user will memorize\n    StreamReader reader = new StreamReader(@\"C:\\Users\\Jason\\Desktop\\MemorizerTestApplication\\WindowsFormsApplication1\\bin\\Debug\\Test Document.txt\");\n\n\n    // The point where the character is beig read by the input stream\n    int readPoint;\n\n    // And Array to contain all the places where the a puctuation mark has already stopped the displaying of more text\n    long[] stopPoint = new long[20];\n\n    // Integer to move the element in the stop point array\n    int p = 0;\n\n    // The return value for the skipPunctuation method\n    bool doAppend;\n\n    /// &lt;summary&gt;\n    /// Handles the Click event of the retrieve text button\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"sender\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"e\"&gt;&lt;/param&gt;\n    private void button1_Click(object sender, EventArgs e)\n    {\n        bool flag = true;\n\n        // Collects each character from the text file and checks for punctuation    \n        while((readPoint = reader.Read()) &gt; 0 &amp;&amp; flag == true)\n        {\n            // Casts the current letter into a character\n            char c = (char)readPoint;\n\n            // Checks for punctuation\n            if (c == ',' || c == ';' || c == '.')\n            {\n                    // Stores the readPoint where there is a punctuation mark\n                    stopPoint[p] = reader.BaseStream.Position;\n\n                    textToMemorize.Append((char)c);\n                    p++;\n                    flag = false;\n            }\n\n            else\n            {\n                // Appends the character to the text\n                textToMemorize.Append((char)c);\n            }\n        }\n        // Displays text from the string building to the label\n        lblTextToLearn.Text = textToMemorize.ToString();\n\n     }\n\n            private void btnLessText_Click(object sender, EventArgs e)\n    {\n        // Clear the label\n        lblTextToLearn.Text = string.Empty;\n\n        //Clears the String Builder object\n        textToMemorize.Clear();\n\n        // Sets the internal stream back to zero\n        reader.DiscardBufferedData();\n\n        // Sets the stream back to zero\n        reader.BaseStream.Seek(0, SeekOrigin.Begin);\n\n        bool stopLoop = true;\n\n        // Loop the reader\n        while ((readPoint = reader.Read()) &gt; 0 &amp;&amp; stopLoop == true)\n        {\n\n            // Cast the read point to a char\n           char d = (char)readPoint;\n\n            // Append the char to the string builder objecy\n            textToMemorize.Append(d);\n\n            // Display the string to the label\n            lblTextToLearn.Text = textToMemorize.ToString();\n\n            // CHeck the second last element of the array to know how many char's to print to the screen\n            if (reader.BaseStream.Position == stopPoint[p-1])\n            {\n                stopLoop = false;\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "xml", "xml-deserialization"], "answers": [{"comments": [{"owner": {"reputation": 1374, "user_id": 313978, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8aad4ae563c653cf1032fb566634f0b5?s=128&d=identicon&r=PG", "display_name": "John_Sheares", "link": "https://stackoverflow.com/users/313978/john-sheares"}, "edited": false, "score": 0, "creation_date": 1440026992, "post_id": 32107031, "comment_id": 52108832, "body": "Thanks, this works. But, instead I used the XmlRootAttribute with the Namespace property and removed the nzb class attribute."}], "tags": [], "owner": {"reputation": 1577, "user_id": 4065182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df3e28abd04df5a6679c79907d42ba91?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisC73", "link": "https://stackoverflow.com/users/4065182/chrisc73"}, "is_accepted": true, "score": 1, "last_activity_date": 1440025477, "creation_date": 1440025477, "answer_id": 32107031, "question_id": 32106190, "link": "https://stackoverflow.com/questions/32106190/how-to-deserialize-xml-with-xmlns/32107031#32107031", "title": "How to deserialize xml with xmlns?", "body": "<p>Your XML root attribute overrides are causing the problem in XmlSerialiser. This is already defined in the XmlRoot attribute of class Nzb. So the following will work:</p>\n\n<pre><code>        XmlReader xmlReader = XmlReader.Create(tr, settings);\n        XmlSerializer xmlSerializer = new XmlSerializer(typeof(Nzb));\n        Nzb nzbFile = (Nzb)xmlSerializer.Deserialize(xmlReader);\n        xmlReader.Close();            \n</code></pre>\n\n<p>However, you will need to change the Nzb XMLRoot attribute's namespace to:</p>\n\n<pre><code>[XmlRoot(\"nzb\", Namespace = \"http://www.nzb.com\")]\n</code></pre>\n"}], "owner": {"reputation": 1374, "user_id": 313978, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8aad4ae563c653cf1032fb566634f0b5?s=128&d=identicon&r=PG", "display_name": "John_Sheares", "link": "https://stackoverflow.com/users/313978/john-sheares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 844, "favorite_count": 0, "accepted_answer_id": 32107031, "answer_count": 1, "score": 0, "last_activity_date": 1440025477, "creation_date": 1440020807, "last_edit_date": 1440021251, "question_id": 32106190, "link": "https://stackoverflow.com/questions/32106190/how-to-deserialize-xml-with-xmlns", "title": "How to deserialize xml with xmlns?", "body": "<p>Ho do you deserialze xml with a xmlns?  Below is the simplified xml containing the xmlns attribute and it fails to deserialize with the code below.  The inner exception that I keep getting is:</p>\n\n<pre><code>{\"&lt;nzb xmlns='http://www.nzb.com'&gt; was not expected.\"}\n</code></pre>\n\n<p>Code</p>\n\n<pre><code>TextReader tr = new StreamReader(\"nzb.xml\");\nXmlReaderSettings settings = new XmlReaderSettings { DtdProcessing = DtdProcessing.Ignore };\nXmlReader xmlReader = XmlReader.Create(tr, settings);                \nXmlRootAttribute xRoot = new XmlRootAttribute();\nxRoot.ElementName = \"nzb\";\nxRoot.IsNullable = true;\nXmlSerializer xmlSerializer = new XmlSerializer(typeof(Nzb), xRoot);\nNzb nzbFile = (Nzb)xmlSerializer.Deserialize(xmlReader);\nxmlReader.Close();\n</code></pre>\n\n<p>Nzb Class</p>\n\n<pre><code>[XmlRoot(\"nzb\", Namespace = \"urn:http://www.nzb.com\")]\npublic class Nzb\n{\n\n}\n</code></pre>\n\n<p>nzb.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"iso-8859-1\" ?&gt;\n&lt;!DOCTYPE nzb&gt;\n&lt;nzb xmlns=\"http://www.nzb.com\"&gt;\n&lt;/nzb&gt;\n</code></pre>\n"}, {"tags": ["c#", "visual-studio-2013", "nuget", "restsharp"], "comments": [{"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 2, "creation_date": 1440021410, "post_id": 32106160, "comment_id": 52107178, "body": "RestSharp <a href=\"https://github.com/restsharp/RestSharp/issues/530\" rel=\"nofollow noreferrer\">isn&#39;t supported in Universal Apps</a>, and there are no plans to rectify this.  You can install the Portable Port if all you need is RestSharp, but if your package requires the full RestSharp Package, you&#39;ll have to use workarounds to get it to even install, and if you manage to get it to compile, you&#39;ll likely fail validation checks if you submit your app to the Windows App Store;  In short, this isn&#39;t possible."}, {"owner": {"reputation": 101, "user_id": 4714137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a829d900e4ee5aaaebd1cf7c6f998100?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/4714137/patrick"}, "reply_to_user": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1441044014, "post_id": 32106160, "comment_id": 52509388, "body": "Gotcha, thanks for the response."}], "owner": {"reputation": 101, "user_id": 4714137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a829d900e4ee5aaaebd1cf7c6f998100?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/4714137/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 483, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1440020644, "creation_date": 1440020644, "question_id": 32106160, "link": "https://stackoverflow.com/questions/32106160/i-want-to-use-restsharp-for-my-universal-windows-app-project-in-visual-studio-20", "title": "I want to use RestSharp for my Universal Windows App project in Visual Studio 2013 for Smartsheet API, but I get these errors", "body": "<p><strong>Error Message (Universal App - Windows):</strong></p>\n\n<pre><code>PM&gt; install-package restsharp\nInstalling 'RestSharp 105.2.2'.\nSuccessfully installed 'RestSharp 105.2.2'.\nAdding 'RestSharp 105.2.2' to UniversalCSharpAppSmartsheet.Windows.\nUninstalling 'RestSharp 105.2.2'.\nSuccessfully uninstalled 'RestSharp 105.2.2'.\nInstall failed. Rolling back...\ninstall-package : Could not install package 'RestSharp 105.2.2'. You are trying to install this package into a project that targets '.NETCore,Version=v4.5.1', but the package \ndoes not contain any assembly references or content files that are compatible with that framework. For more information, contact the package author.\nAt line:1 char:1\n+ install-package restsharp\n+ ~~~~~~~~~~~~~~~~~~~~~~~~~\n+ CategoryInfo          : NotSpecified: (:) [Install-Package], InvalidOperationException\n+ FullyQualifiedErrorId : NuGetCmdletUnhandledException,NuGet.PowerShell.Commands.InstallPackageCommand\n</code></pre>\n\n<p>I'm trying to use the Smartsheet API and that actually installs a version of RestSharp v105....something.  Any ways, I get the error message above only when I'm trying to set this up in a Universal Windows App.  I'm trying to get up-to-speed on this new universal thing MS is pushing.  Of all the nuget packages I've been testing out this is the only one that I'm having issues installing.  I'm not an expert with Nuget so i'm all sure what i need to do to get this to install.  I just want to use this awesome tool in my project. </p>\n\n<p><strong>Error Message (Universal App - Windows Phone):</strong></p>\n\n<p>I get a similiar error when i direct my package installer to the windows phone portion of the universal app solution.</p>\n\n<pre><code>PM&gt; install-package restsharp\nInstalling 'RestSharp 105.2.2'.\nSuccessfully installed 'RestSharp 105.2.2'.\nAdding 'RestSharp 105.2.2' to UniversalCSharpAppSmartsheet.WindowsPhone.\nUninstalling 'RestSharp 105.2.2'.\nSuccessfully uninstalled 'RestSharp 105.2.2'.\nInstall failed. Rolling back...\ninstall-package : Could not install package 'RestSharp 105.2.2'. You are trying to install this package into a project that targets 'WindowsPhoneApp,Version=v8.1', but the \npackage does not contain any assembly references or content files that are compatible with that framework. For more information, contact the package author.\nAt line:1 char:1\n+ install-package restsharp\n+ ~~~~~~~~~~~~~~~~~~~~~~~~~\n+ CategoryInfo          : NotSpecified: (:) [Install-Package], InvalidOperationException\n+ FullyQualifiedErrorId : NuGetCmdletUnhandledException,NuGet.PowerShell.Commands.InstallPackageCommand\n</code></pre>\n\n<p>The same Nuget package works just fine in any other project as long as it's not a Windows Universal App, but I don't want to make any other project like a console app, please any help would be most appreciated, thanks.</p>\n"}, {"tags": ["c#", "performance", "performancecounter"], "comments": [{"owner": {"reputation": 2496, "user_id": 1195188, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e34939fca34ba2f25ff4d783ac83fcc6?s=128&d=identicon&r=PG", "display_name": "sumeet kumar", "link": "https://stackoverflow.com/users/1195188/sumeet-kumar"}, "edited": false, "score": 0, "creation_date": 1440020877, "post_id": 32106107, "comment_id": 52106960, "body": "are you running this in a while(1) or how often this is called CallNextValue()? When i had same problem i used threads to divide it using  tpm. another solution is which is not very good but works for reducing the CPU % is put a Thread.sleep(5) after each iteration don&#39;t run the loop as fast as it can"}, {"owner": {"reputation": 21, "user_id": 196302, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d04310d92defc4a55eba2052666f193c?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/196302/scott"}, "reply_to_user": {"reputation": 2496, "user_id": 1195188, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e34939fca34ba2f25ff4d783ac83fcc6?s=128&d=identicon&r=PG", "display_name": "sumeet kumar", "link": "https://stackoverflow.com/users/1195188/sumeet-kumar"}, "edited": false, "score": 0, "creation_date": 1440021090, "post_id": 32106107, "comment_id": 52107043, "body": "In our monitoring app we pull the counters every 5 seconds.  In this test app i just hooked a button up to call CallNextValue and it always has the same result, 16% cpu or so."}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 6201283, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qOcJx.jpg?s=128&g=1", "display_name": "Doug Cook - MSFT", "link": "https://stackoverflow.com/users/6201283/doug-cook-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1464930972, "creation_date": 1464930972, "answer_id": 37606417, "question_id": 32106107, "link": "https://stackoverflow.com/questions/32106107/high-cpu-when-using-performancecounter-nextvalue/37606417#37606417", "title": "High cpu when using PerformanceCounter.NextValue", "body": "<p>I'm not very familiar with the .NET performance counter API, but I have a guess about the issue.</p>\n\n<p>The Windows kernel doesn't actually have an API to get detailed information about just one process. Instead, it has an API that can be called to \"get all the information about all the processes\". It's a fairly expensive API call. Every time you do c.NextValue() for one of your counters, the system makes that API call, throws away 99% of the data, and returns the data about the single process you asked about.</p>\n\n<p>PerfMon.exe uses the same PDH APIs, but it uses a wildcard query -- it creates a single query that gets data for all of the processes at once, so it essentially only calls c.NextValue() once every second instead of calling it N times (where N is the number of processes). It gets a huge chunk of data back (data for all of the processes), but it's relatively cheap to scan through that data.</p>\n\n<p>I'm not sure that the .NET performance counter API supports wildcard queries. The PDH API does, and it would be much cheaper to perform one wildcard query than to perform a whole bunch of single-instance queries.</p>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 5551005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e0baade3d9c3b4e013bcd72a9eb3a8b?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Krylov", "link": "https://stackoverflow.com/users/5551005/roman-krylov"}, "is_accepted": false, "score": 0, "last_activity_date": 1524059724, "creation_date": 1524059724, "answer_id": 49901572, "question_id": 32106107, "link": "https://stackoverflow.com/questions/32106107/high-cpu-when-using-performancecounter-nextvalue/49901572#49901572", "title": "High cpu when using PerformanceCounter.NextValue", "body": "<p>Sorry for a long response, but I've found your question only now. Anyway, if anyone will need additional help, I have a solution:</p>\n\n<p>I've made a little research on my custom process and I've understood that when we have a code snippet like</p>\n\n<pre><code>    PerformanceCounter ourPC = new PerformanceCounter(\"Process\", \"% Processor time\", \"processname\", true);\n    ourPC.NextValue();\n</code></pre>\n\n<p>Then our performance counter's NextValue() will show you the (number of logical cores * task manager cpu load of the process) value which is kind of logical thing, I suppose.</p>\n\n<p>So, your problem may be that you have a slight CPU load in the task manager because it understands that you have a multiple core CPU, although the performance counter counts it by the formula above.</p>\n\n<p>I see a one (kind of crutchy) possible solution for your problem so your code should be rewritten like this:</p>\n\n<pre><code>private void CallNextValue()\n{\n    foreach (var c in m_counters)\n    {\n        var x = c.NextValue() / Environment.ProcessorCount;              \n    }\n}\n</code></pre>\n\n<p>Anyway, I do not recommend you to use Environment.ProcessorCount although I've used it: I just didn't want to add too much code to my short snippet.</p>\n\n<p>You can see a good way to find out how much logical cores (yeah, if you have core i7, for example, you'll have to count logical cores, not physical) do you have in a system if you'll follow this link: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/1542213/how-to-find-the-number-of-cpu-cores-via-net-c\">How to find the Number of CPU Cores via .NET/C#?</a></p>\n\n<p>Good luck!</p>\n"}], "owner": {"reputation": 21, "user_id": 196302, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d04310d92defc4a55eba2052666f193c?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/196302/scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1292, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1524059724, "creation_date": 1440020425, "question_id": 32106107, "link": "https://stackoverflow.com/questions/32106107/high-cpu-when-using-performancecounter-nextvalue", "title": "High cpu when using PerformanceCounter.NextValue", "body": "<p>We have created a monitoring application for our enterprise app that will monitor our applications Performance counters.  We monitor a couple system counters (memory, cpu) and 10 or so of our own custom performance counters.  We have 7 or 8 exes that we monitor, so we check 80 counters every couple seconds.</p>\n\n<p>Everything works great except when we loop over the counters the cpu takes a hit, 15% or so on my pretty good machine but on other machines we have seen it much higher.  We are wanting our monitoring app to run discretely in the background looking for issues, not eating up a significant amount of the cpu.</p>\n\n<p>This can easily be reproduced by this simple c# class.  This loads all processes and gets Private Bytes for each.  My machine has 150 processes.  CallNextValue Takes 1.4 seconds or so and 16% cpu</p>\n\n<pre><code>class test\n{\n    List&lt;PerformanceCounter&gt; m_counters = new List&lt;PerformanceCounter&gt;();\n\n    public void Load()\n    {\n        var processes = System.Diagnostics.Process.GetProcesses();\n        foreach (var p in processes)\n        {\n            var Counter = new PerformanceCounter();\n            Counter.CategoryName = \"Process\";\n            Counter.CounterName = \"Private Bytes\";\n            Counter.InstanceName = p.ProcessName;\n\n            m_counters.Add(Counter);\n        }\n    }\n\n    private void CallNextValue()\n    {\n        foreach (var c in m_counters)\n        {\n            var x = c.NextValue();              \n        }\n    }\n}\n</code></pre>\n\n<p>Doing this same thing in Perfmon.exe in windows and adding the counter Process - Private Bytes with all processes selected I see virtually NO cpu taken up and it's also graphing all processes.</p>\n\n<p>So how is Perfmon getting the values?  Is there a better/different way to get these performance counters in c#?</p>\n\n<p>I've tried using RawValue instead of NextValue and i don't see any difference.</p>\n\n<p>I've played around with Pdh call in c++ (PdhOpenQuery, PdhCollectQueryData, ...).  My first tests don't seem like these are any easier on the cpu but i haven't created a good sample yet.</p>\n"}, {"tags": ["c#", "asp.net-web-api", "mediatypeformatter"], "owner": {"reputation": 12554, "user_id": 27581, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bd700cee01e8964b903e1fe8b0d4ba0a?s=128&d=identicon&r=PG", "display_name": "Michael Kropat", "link": "https://stackoverflow.com/users/27581/michael-kropat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 654, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1440020340, "creation_date": 1440020340, "question_id": 32106087, "link": "https://stackoverflow.com/questions/32106087/have-the-web-api-mediatypeformatter-for-x-www-form-urlencoded-honor-the-defaultv", "title": "Have the Web API MediaTypeFormatter for x-www-form-urlencoded honor the DefaultValue attribute", "body": "<p>Imagine I've got a model that looks like:</p>\n\n<pre><code>public class ToggleableResource\n{\n    [JsonProperty(DefaultValueHandling = DefaultValueHandling.Populate)]\n    [DefaultValue(true)]\n    public bool Enabled { get; set; }\n\n    public string Value { get; set; }\n}\n</code></pre>\n\n<p>And I've got a controller that looks like:</p>\n\n<pre><code>public class FormatterDefaultsController : ApiController\n{\n    public ToggleableResource Post([FromBody] ToggleableResource resource)\n    {\n        return resource;\n    }\n}\n</code></pre>\n\n<p>If I submit a <code>POST</code> to <code>/api/formatterDefaults/</code> with <code>Content-Type: application/json</code> and a body of:</p>\n\n<pre><code>{ \"Value\": \"some resource state\" }\n</code></pre>\n\n<p>The value I get back looks like:</p>\n\n<pre><code>{\n  \"Enabled\": true,\n  \"Value\": \"some resource state\"\n}\n</code></pre>\n\n<p>Which shows that <code>Enabled</code> is getting <code>true</code> from the <code>DefaultValue</code> attribute. However...</p>\n\n<hr>\n\n<p>If I submit a <code>POST</code> again to <code>/api/formatterDefaults/</code>, but with <code>Content-Type: application/x-www-form-urlencoded</code> and a body of:</p>\n\n<pre><code>value=some+resource+state\n</code></pre>\n\n<p>The value I get back is:</p>\n\n<pre><code>{\n  \"Enabled\": false,\n  \"Value\": \"some resource state\"\n}\n</code></pre>\n\n<p>Is there any way I can get the <a href=\"https://msdn.microsoft.com/en-us/library/system.net.http.formatting.formurlencodedmediatypeformatter(v=vs.118).aspx\" rel=\"nofollow\">FormUrlEncodedMediaTypeFormatter</a> (or whatever class is responsible) to honor the <code>DefaultValue</code> attribute and set <code>Enabled</code> to <code>true</code> when it is omitted from the request body?</p>\n"}, {"tags": ["c#", "xml", "linq", "xsd"], "answers": [{"tags": [], "owner": {"reputation": 326, "user_id": 3459672, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/UJKTf.jpg?s=128&g=1", "display_name": "ohioDeveloper", "link": "https://stackoverflow.com/users/3459672/ohiodeveloper"}, "is_accepted": false, "score": 0, "last_activity_date": 1440084563, "creation_date": 1440084563, "answer_id": 32122368, "question_id": 32106014, "link": "https://stackoverflow.com/questions/32106014/creating-class-from-xml-using-linq-but-targetinvocationexception-when-using-nam/32122368#32122368", "title": "Creating class from XML using LINQ, but TargetInvocationException when using namespace", "body": "<p>The problem ended up being every instances of XName used throughout my class (which was a lot).</p>\n\n<pre><code>// XName.Get is overloaded. If you pass two parameters, the second one is expected to be the namespace of the XML.\nXName.Get(\"Author\", \"\")));\n</code></pre>\n\n<p>Furthermore, my effort seems to be wasted! I just found the sample I was using is based on an open source project found <a href=\"https://linqtoxsd.codeplex.com/\" rel=\"nofollow\">here</a>, where they provide an executable to <em>generate</em> these classes for you. Done and done.</p>\n"}], "owner": {"reputation": 326, "user_id": 3459672, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/UJKTf.jpg?s=128&g=1", "display_name": "ohioDeveloper", "link": "https://stackoverflow.com/users/3459672/ohiodeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 252, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440084563, "creation_date": 1440019975, "question_id": 32106014, "link": "https://stackoverflow.com/questions/32106014/creating-class-from-xml-using-linq-but-targetinvocationexception-when-using-nam", "title": "Creating class from XML using LINQ, but TargetInvocationException when using namespace", "body": "<p>I'm not sure if this is the best way to do this, but I am following an example that worked on some other projects for importing an XML file and treating it like a class. So content like:</p>\n\n<pre><code>&lt;Book&gt;\n   &lt;Author&gt;Johnny Appleseed&lt;/Author&gt;\n&lt;/Book&gt;\n</code></pre>\n\n<p>Can be accessed in C# using:</p>\n\n<pre><code>Book.Author\n</code></pre>\n\n<p>The example I've used creates a public class that inherits XTypedElement, uses its .Load method to open an XML, and then uses LINQ to create properties. So for example,</p>\n\n<pre><code>public class Book: XTypedElement, IXMetaData\n{\n    private static readonly Dictionary&lt;XName, Type&gt; authorDictionary = new Dictionary&lt;XName, Type&gt;();\n    private static readonly ContentModelEntity authorContent;\n\n    static Book()\n    {\n        authorDictionary .Add(XName.Get(\"Author\", \"\"), typeof(string));\n        authorContent= new SequenceContentModelEntity(new NamedContentModelEntity(XName.Get(\"Author\", \"\")));\n    }\n\n    public string Author\n    {\n        get\n        {\n            var x = Element(XName.Get(\"Author\", \"\"));\n            return XTypedServices.ParseValue&lt;string&gt;(x, XmlSchemaType.GetBuiltInSimpleType(XmlTypeCode.String).Datatype);\n        }\n        set\n        {\n            SetElement(XName.Get(\"Author\", \"\"), value, XmlSchemaType.GetBuiltInSimpleType(XmlTypeCode.String).Datatype);\n        }\n    }\n\n    public static Book Load(string xmlFile)\n    {\n        return File.Exists(xmlFile) ? XTypedServices.Load&lt;Book&gt;(xmlFile) : null;\n    }\n}\n</code></pre>\n\n<p>This seems to work really well. Classes representing complex types can be nested using a similar structure. However, all of this breaks as soon as the root node of the XML has a namespace.</p>\n\n<pre><code>&lt;Book xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" &gt; THIS WORKS\n&lt;Book xmlns=\"ThisIsAValue\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" &gt; THIS DOESN'T\n</code></pre>\n\n<p>A TargetInvocationException is thrown, with the message \"Element is not an instance of Type Book\".\nThere is an XSD that maps to this class, maybe that isn't set up right. I'm not sure. It'd be nice to know where to start looking.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["c#", "login", "web-scraping", "html-agility-pack"], "comments": [{"owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "edited": false, "score": 0, "creation_date": 1486658899, "post_id": 32105991, "comment_id": 71450760, "body": "Why do you have AllowAutoRedirect set to False?"}], "owner": {"reputation": 13, "user_id": 5245113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a163e49c6be7fed90977c1635c6d6a8f?s=128&d=identicon&r=PG&f=1", "display_name": "user5245113", "link": "https://stackoverflow.com/users/5245113/user5245113"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 606, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1440019860, "creation_date": 1440019860, "question_id": 32105991, "link": "https://stackoverflow.com/questions/32105991/c-html-agility-pack-browsersession-csrf-verification-failed-request-aborted", "title": "C# Html Agility Pack, BrowserSession, CSRF verification failed. Request aborted. HTTP 403", "body": "<p>I am trying to display information for a vessel in my C# application. </p>\n\n<p>I am using the Html Agility Pack to scrape the web page. </p>\n\n<p>But, in order to this, I first have to login. In order to log in I am using a BrowserSession class that takes care of the HttpWebRequest.</p>\n\n<p>I then use a basic function to call the class. Unfortunately, the login does not work and I get a CSRF verification failed error. </p>\n\n<p>This is my code:</p>\n\n<pre><code>private void LocateVessel()\n{\nBrowserSession b = new BrowserSession();\nb.Get(\"https://www.fleetmon.com/users/login/\");\nstring strToken = b.FormElements[\"csrfmiddlewaretoken\"];\nb.FormElements[\"csrfmiddlewaretoken\"] = strToken;\nb.FormElements[\"next\"] = \"\";\nb.FormElements[\"username\"] = \"username\";\nb.FormElements[\"password\"] = \"password\";\nvar response = b.Post(\"https://www.fleetmon.com/users/login/\");\nMessageBox.Show(response);\n}\n\npublic class BrowserSession\n{\nprivate bool _isPost;\nprivate bool _isDownload;\nprivate HtmlAgilityPack.HtmlDocument _htmlDoc;\nprivate string _download;\npublic CookieContainer cookiePot;   //&lt;- This is the new CookieContainer\n\npublic CookieCollection Cookies { get; set; }\npublic FormElementCollection FormElements { get; set; }\npublic string Get(string url)\n{\n_isPost = false;\nCreateWebRequestObject().Load(url);\nreturn _htmlDoc.DocumentNode.InnerHtml;\n}\npublic string Get2(string url)\n{\nHtmlWeb web = new HtmlWeb();\nweb.UseCookies = true;\nweb.PreRequest = new HtmlWeb.PreRequestHandler(OnPreRequest2);\nweb.PostResponse = new HtmlWeb.PostResponseHandler(OnAfterResponse2);\nHtmlAgilityPack.HtmlDocument doc = web.Load(url);\nreturn doc.DocumentNode.InnerHtml;\n}\npublic string Post(string url)\n{\n_isPost = true;\nCreateWebRequestObject().Load(url, \"POST\");\nreturn _htmlDoc.DocumentNode.InnerHtml;\n}\npublic string GetDownload(string url)\n{\n_isPost = false;\n_isDownload = true;\nCreateWebRequestObject().Load(url);\nreturn _download;\n}\nprivate HtmlWeb CreateWebRequestObject()\n{\nHtmlWeb web = new HtmlWeb();\nweb.UseCookies = true;\nweb.PreRequest = new HtmlWeb.PreRequestHandler(OnPreRequest);\nweb.PostResponse = new HtmlWeb.PostResponseHandler(OnAfterResponse);\nweb.PreHandleDocument = new HtmlWeb.PreHandleDocumentHandler(OnPreHandleDocument);\nreturn web;\n}\nprotected bool OnPreRequest(HttpWebRequest request)\n{\nrequest.AllowAutoRedirect = false; \nAddCookiesTo(request);\nif (_isPost) AddPostDataTo(request);\nreturn true;\n}\npublic bool OnPreRequest2(HttpWebRequest request)\n{\nrequest.CookieContainer = cookiePot;\nreturn true;\n}\nprotected void OnAfterResponse(HttpWebRequest request, HttpWebResponse response)\n{\nSaveCookiesFrom(response); \n}\nprotected void OnAfterResponse2(HttpWebRequest request, HttpWebResponse response)\n{\n            //do nothing\n}\nprotected void OnPreHandleDocument(HtmlAgilityPack.HtmlDocument document)\n{\nSaveHtmlDocument(document);\n}\nprivate void AddPostDataTo(HttpWebRequest request){\nstring payload = FormElements.AssemblePostPayload();\nbyte[] buff = Encoding.UTF8.GetBytes(payload.ToCharArray());\nrequest.Headers[\"Accept-Language\"] = \"en-GB,en-US;q=0.8,en;q=0.6\";\nrequest.Headers[\"Upgrade-Insecure-Requests\"] = \"1\";\nrequest.Referer = \"http://www.fleetmon.com/\";\nrequest.UserAgent = \"www.fleetmon.com\";\nrequest.Accept = \"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\";\nrequest.ContentLength = buff.Length;\nrequest.ContentType = \"application/x-www-form-urlencoded\";\nSystem.IO.Stream reqStream = request.GetRequestStream();\nreqStream.Write(buff, 0, buff.Length);\n}\nprivate void AddCookiesTo(HttpWebRequest request)\n{\nif (Cookies != null &amp;&amp; Cookies.Count &gt; 0)\n{\nrequest.CookieContainer.Add(Cookies);\n}\n}\nCookieCollection object\nprivate void SaveCookiesFrom(HttpWebResponse response)\n{\nif ((response.Cookies.Count &gt; 0))\n{\nif (Cookies == null)\n{\nCookies = new CookieCollection();\n}\nCookies.Add(response.Cookies);\n}\n}\nprivate void SaveHtmlDocument(HtmlAgilityPack.HtmlDocument document)\n{\n_htmlDoc = document;\nFormElements = new FormElementCollection(_htmlDoc);\n}\n}\npublic class FormElementCollection : Dictionary&lt;string, string&gt;\n{\npublic FormElementCollection(HtmlAgilityPack.HtmlDocument htmlDoc)\n{\nvar inputs = htmlDoc.DocumentNode.Descendants(\"input\");\nforeach (var element in inputs)\n{\nstring name = element.GetAttributeValue(\"name\", \"undefined\");\nstring value = element.GetAttributeValue(\"value\", \"\");\nif (!this.ContainsKey(name))\n{\nif (!name.Equals(\"undefined\"))\n{\nAdd(name, value);\n}\n}\n}\n}\npublic string AssemblePostPayload()\n{\nStringBuilder sb = new StringBuilder();\nforeach (var element in this)\n{\nstring value = System.Web.HttpUtility.UrlEncode(element.Value);\nsb.Append(\"&amp;\" + element.Key + \"=\" + value);\n}\nreturn sb.ToString().Substring(1);\n}\n}\n</code></pre>\n"}, {"tags": ["c#", "contravariance"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 5, "creation_date": 1440019864, "post_id": 32105973, "comment_id": 52106529, "body": "What if <code>T</code> is <code>InvalidOperationException</code>?"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 2, "creation_date": 1440020093, "post_id": 32105973, "comment_id": 52106658, "body": "You&#39;re not switching to a <b>constrained</b> generic type; you&#39;re switching to a constrained <b>generic</b> type, if you take my meaning. Your first method is not generic. You can always pass any subclass of <code>Exception</code> to a func which wants an <code>Exception</code>. You can&#39;t pass any subclass of <code>Exception</code> to a func which wants a specific subclass of <code>Exception</code>."}, {"owner": {"reputation": 929, "user_id": 768207, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/51b2e512a30a4b2f9422213c1cb1f62a?s=128&d=identicon&r=PG", "display_name": "Phil Gref", "link": "https://stackoverflow.com/users/768207/phil-gref"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1440021063, "post_id": 32105973, "comment_id": 52107034, "body": "Well said. You first example was straight to the point. Don&#39;t hesitate to post an answer that&#39;s along these lines."}, {"owner": {"reputation": 929, "user_id": 768207, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/51b2e512a30a4b2f9422213c1cb1f62a?s=128&d=identicon&r=PG", "display_name": "Phil Gref", "link": "https://stackoverflow.com/users/768207/phil-gref"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1440021566, "post_id": 32105973, "comment_id": 52107243, "body": "I think that I was concentrating on the fact that the only thing we know about <code>T</code> is that it&#39;s an <code>Exception</code>, which led me to believe that the <code>Func </code> could take any exception type. I ignored the fact that I was imposing a concrete, specific constraint on what type was allowed."}], "answers": [{"tags": [], "owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "is_accepted": true, "score": 3, "last_activity_date": 1440020692, "creation_date": 1440020692, "answer_id": 32106168, "question_id": 32105973, "link": "https://stackoverflow.com/questions/32105973/difference-in-ability-to-use-contravariance-when-using-a-funct-parameter/32106168#32106168", "title": "Difference in ability to use contravariance when using a Func&lt;T&gt; parameter", "body": "<p>Your first function will compile, however due to contravariance of <code>Func</code> parameters, you can only pass a <code>Func</code> with a parameter which is a supertype of <code>Exception</code> e.g.</p>\n\n<pre><code>Func&lt;object, string&gt; f = o =&gt; o.ToString();\nFoo(f);\n</code></pre>\n\n<p>this is not the case in the second example, which would require you to pass a <code>Func</code> with a parameter which is a subtype of <code>Exception</code> e.g</p>\n\n<pre><code>Func&lt;InvalidOperationException&gt; f = o =&gt; ...\n</code></pre>\n\n<p>which would not be safe.</p>\n"}], "owner": {"reputation": 929, "user_id": 768207, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/51b2e512a30a4b2f9422213c1cb1f62a?s=128&d=identicon&r=PG", "display_name": "Phil Gref", "link": "https://stackoverflow.com/users/768207/phil-gref"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 32106168, "answer_count": 1, "score": 0, "last_activity_date": 1440023946, "creation_date": 1440019778, "last_edit_date": 1440023946, "question_id": 32105973, "link": "https://stackoverflow.com/questions/32105973/difference-in-ability-to-use-contravariance-when-using-a-funct-parameter", "title": "Difference in ability to use contravariance when using a Func&lt;T&gt; parameter", "body": "<p>I am curious as to why the following logic is allowed in C#</p>\n\n<pre><code>private static void Foo(Func&lt;Exception, string&gt; func)\n{\n    try\n    {\n        // ...  \n    }\n    catch (ArgumentException ex)\n    {\n        func(ex);\n    }\n}\n</code></pre>\n\n<p>whereas this is not</p>\n\n<pre><code>private static void Foo&lt;T&gt;(Func&lt;T, string&gt; func) where T : Exception\n{\n    try\n    {\n        // ...  \n    }\n    catch (ArgumentException ex)\n    {\n        func(ex);\n    }\n}\n</code></pre>\n\n<p>From what I understand, since the <code>Func&lt;in TArg1, out TResult&gt;</code> delegate has a contravariant parameter since .NET 4.0, the first scenario is not problem, but why does switching to a <strong>constrained</strong> generic type change the ability of the compiler to apply this contravariance ?</p>\n"}, {"tags": ["c#", "visual-studio", "datagridview", "filter"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1440020023, "post_id": 32105930, "comment_id": 52106621, "body": "where do you initially bind the datagridview..? use the debugger and step through the code.. tell us the exact line that you notice the datagridview is null.. also where are you binding it initially where do you assign the DataSource..? also your filter do shouldn&#39;t it be <code>Like</code> instead of <code>=</code>"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1440021813, "post_id": 32105930, "comment_id": 52107333, "body": "<code>dataGridView1.Rows.Add(row);</code> you are adding rows directly to the DGV and are not using a DataSource, so any attempt to use DS related ops such as a DataView or filter wont work...you could manually iterate rows and set <code>.Visible</code> for the non matching ones to false."}, {"owner": {"reputation": 4985, "user_id": 3773066, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/mPcCO.jpg?s=128&g=1", "display_name": "OhBeWise", "link": "https://stackoverflow.com/users/3773066/ohbewise"}, "edited": false, "score": 0, "creation_date": 1440105067, "post_id": 32105930, "comment_id": 52148179, "body": "You could either hide the <code>DataGridView</code> rows as suggested by Plutonix, or you change the way you set the grid up. Instead of creating columns and rows in the DGV, create them in a <code>DataTable</code>. Then set that as your source and your filtering code above should work. <a href=\"http://stackoverflow.com/a/31970528/3773066\">Here</a> I give an example of setting the <code>DataTable</code> up, and <a href=\"http://stackoverflow.com/a/31818204/3773066\">here</a> I give different filtering options like MethodMan mentioned."}, {"owner": {"reputation": 127, "user_id": 3967415, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100000442996646/picture?type=large", "display_name": "Daniel Halling", "link": "https://stackoverflow.com/users/3967415/daniel-halling"}, "edited": false, "score": 0, "creation_date": 1440434869, "post_id": 32105930, "comment_id": 52260332, "body": "Alright, Thank you guys. I just changed the way i fill my datagridview like OhBeWise did in his example. Thank you so much :)"}], "owner": {"reputation": 127, "user_id": 3967415, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100000442996646/picture?type=large", "display_name": "Daniel Halling", "link": "https://stackoverflow.com/users/3967415/daniel-halling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 464, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1440019545, "creation_date": 1440019545, "question_id": 32105930, "link": "https://stackoverflow.com/questions/32105930/filtering-my-datagridview-for-a-textbox-text", "title": "Filtering my Datagridview for a Textbox text", "body": "<p>I'm actually trying to filter my Datagridview for a text from my Textbox of a specific column. The thing is, I picked Code from another thread here, but it keeps telling me that the Datasource of my Datagridview is 'Null'</p>\n\n<p>My Datagridview Code </p>\n\n<pre><code>private void Icon_Picker_Load(object sender, EventArgs e)\n{\n    string[] first = {\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\"};\n\n    dataGridView1.Rows.Clear();\n    dataGridView1.Refresh();\n    //image directory\n    DirectoryInfo dir = new DirectoryInfo(@\"C:\\Users\\Daniel\\Documents\\Visual Studio 2013\\Projects\\WindowsFormsApplication1\\WindowsFormsApplication1\\images\");\n\n    //getting all files from the Directory\n    foreach(FileInfo file in dir.GetFiles())\n    {\n\n        try\n        {\n            this.img16x16.Images.Add(Image.FromFile(file.FullName));\n            this.img32x32.Images.Add(Image.FromFile(file.FullName));\n\n\n            for (int j = 0; j &lt; img16x16.Images.Count; j++)\n            {\n                var row = new DataGridViewRow();\n\n                dataGridView1.Rows.Add(row);\n                dataGridView1.Rows[j].Cells[0].Value = first[j];\n\n                //Resizing icons to 16x16 icons\n                img16x16.ImageSize = new Size(16, 16);\n\n                //adding icons to the datagridview\n                dataGridView1.Rows[j].Cells[1].Value = img16x16.Images[j];\n\n                //Resizing icons to 32x32 icons\n                img32x32.ImageSize = new Size(32, 32);\n\n                //adding icons to the datagridview\n                dataGridView1.Rows[j].Cells[2].Value = img32x32.Images[j];\n\n\n            }\n\n        }catch\n        {\n            Console.WriteLine(\"This is not an image file\");\n        }\n    }\n</code></pre>\n\n<p>My TextChanged Function</p>\n\n<pre><code> private void txtFilter_TextChanged(object sender, EventArgs e)\n    {\n\n         (dataGridView1.DataSource as DataTable).DefaultView.RowFilter = string.Format(\"Field = '{0}'\", txtFilter.Text);\n    }\n</code></pre>\n\n<p>Thanks for your help.</p>\n"}, {"tags": ["c#", "xamarin.ios", "xamarin.android", "xamarin.forms"], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 2158185, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7f090f73b568c3aae8097e6d0d3b788a?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/2158185/mike"}, "edited": false, "score": 0, "creation_date": 1440803684, "post_id": 32281060, "comment_id": 52440720, "body": "That is obviously just for the iOS version."}, {"owner": {"reputation": 1422, "user_id": 4793465, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/lBNJu.png?s=128&g=1", "display_name": "XTL", "link": "https://stackoverflow.com/users/4793465/xtl"}, "edited": false, "score": 0, "creation_date": 1444745929, "post_id": 32281060, "comment_id": 54025097, "body": "Unfortunately  did not helped me this trick. This snippet just hided separator."}], "tags": [], "owner": {"reputation": 319, "user_id": 2158185, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7f090f73b568c3aae8097e6d0d3b788a?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/2158185/mike"}, "is_accepted": false, "score": 0, "last_activity_date": 1440803570, "creation_date": 1440803570, "answer_id": 32281060, "question_id": 32105905, "link": "https://stackoverflow.com/questions/32105905/customize-cells-listview-on-xamarin-forms-via-custom-render/32281060#32281060", "title": "Customize Cells/ListView on Xamarin.Forms via Custom Render", "body": "<p>I think you will have to write a custom renderer for this unfortunately. In order to set the seperator line the full width of the screen, you will need to set the seperator inset to be zero as shown below.</p>\n\n<pre><code>[assembly: ExportRenderer(typeof(ListView), typeof(MyListViewRenderer))]\nnamespace myApp.iOS.Custom_Renderers\n{\n    public class MyListViewRenderer : ListViewRenderer\n    {\n        protected override void OnElementChanged(ElementChangedEventArgs&lt;ListView&gt; e)\n        {\n            base.OnElementChanged(e);\n            var table = (UITableView)this.Control;\n            table.SeperatorInset = UIEdgeInsets.Zero;\n        }\n    }\n}\n</code></pre>\n\n<p>Apologies if any of the syntax above is incorrect, I'm writing from memory but it should set you off on the correct path.</p>\n"}], "owner": {"reputation": 1422, "user_id": 4793465, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/lBNJu.png?s=128&g=1", "display_name": "XTL", "link": "https://stackoverflow.com/users/4793465/xtl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2166, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440803570, "creation_date": 1440019414, "question_id": 32105905, "link": "https://stackoverflow.com/questions/32105905/customize-cells-listview-on-xamarin-forms-via-custom-render", "title": "Customize Cells/ListView on Xamarin.Forms via Custom Render", "body": "<p>I have a native(Xamarin.Forms) listview. My data context have 3 property,like :  </p>\n\n<pre><code>public class MyDataContext :\n{\n  public string Name {get;set;}\n  public string ImageName {get;set;}\n  public bool isAvailable {get;set;}\n}  \n</code></pre>\n\n<p>Where <strong><em>Name</em></strong> is a property for <em>textLabel</em> , <strong><em>ImageName</em></strong> imagesource for ImageControl and <strong><em>isAvailable</em></strong> some kind a condition for the cell(true - cell is active,other wise <em>Cell</em> have another opacity/background and is not <strong>clickable</strong>,also will appear an image(in right corner)that will show image \"<strong><em>locked</em></strong>\" !).    </p>\n\n<p>My listview at current moment :</p>\n\n<pre><code> public class MyListView: ListView\n        {\n            public MyListView()\n            {\n                ItemTemplate = new DataTemplate(()=&gt;\n                {\n                    BackgroundColor = Color.FromHex(\"#f2f0e9\");\n                        var _Label = new Label() { FontSize = 13, TextColor = Color.FromHex(\"#979797\")};\n                    _Label.SetBinding(Label.TextProperty,\"Name\");\n\n                    RowHeight = 69;\n\n                     var _Img = new Image(){ WidthRequest = 35, HeightRequest = 42};\n                    _Img.SetBinding(Image.SourceProperty,\"ImageName\");\n\n                        return new ViewCell \n                        {\n                            View = new StackLayout\n                                {\n                                    Orientation = StackOrientation.Horizontal,\n                                    Padding = 10,\n                                    Children = \n                                        {\n                                            _Img,\n                                            new StackLayout\n                                            {\n                                                Padding = 10,\n                                                VerticalOptions = LayoutOptions.Center,\n                                                Spacing = 0,\n                                                Children = \n                                                    {\n                                                       _Label,\n                                                    }\n                                                }\n                                        }\n                                    }\n                        };\n\n                });\n            }\n        }\n    }  \n</code></pre>\n\n<p>For some reason i need to customize (both platforms iOs/Android) :  </p>\n\n<ul>\n<li><p>Divider of cell(need to implement some custom color and size,like on picture) <a href=\"https://i.stack.imgur.com/s6LpW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s6LpW.jpg\" alt=\"enter image description here\"></a> </p></li>\n<li><p>Cells disabling(similiar to property isEnabled) with another opacity/background of cell(and her controls label/image etc) :<a href=\"https://i.stack.imgur.com/pC7SB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pC7SB.jpg\" alt=\"enter image description here\"></a></p></li>\n</ul>\n\n<p>How i can achieve that?<br>\nAny help will be appreciated,thanks!<br>\nPS Sorry for my eng. skills!</p>\n"}, {"tags": ["c#", "linq", "entity-framework", "linq-to-sql"], "answers": [{"comments": [{"owner": {"reputation": 461, "user_id": 1473598, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8363a1519f60ea4acac76b2712b03a29?s=128&d=identicon&r=PG", "display_name": "Oak", "link": "https://stackoverflow.com/users/1473598/oak"}, "edited": false, "score": 0, "creation_date": 1440177124, "post_id": 32106303, "comment_id": 52181199, "body": "I see. Just read up on expressions and stuff and this all makes a lot more sense now. Thanks."}], "tags": [], "owner": {"reputation": 2410, "user_id": 453449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d7a26f0d1fbc17eb4209b5f4387e6b02?s=128&d=identicon&r=PG", "display_name": "kmc059000", "link": "https://stackoverflow.com/users/453449/kmc059000"}, "is_accepted": true, "score": 1, "last_activity_date": 1440021377, "creation_date": 1440021377, "answer_id": 32106303, "question_id": 32105902, "link": "https://stackoverflow.com/questions/32105902/passing-in-an-entitys-property-in-entity-framework-in-linq/32106303#32106303", "title": "Passing in an entity&#39;s property in Entity Framework in LINQ", "body": "<p>You're close. If <code>repository.Foobars</code> is of type <code>IQueryable&lt;Foobar&gt;</code> the expression needs to be of type <code>Expression&lt;Func&lt;Foobar, double&gt;&gt;</code>. </p>\n\n<p>However if <code>repository.Foobars</code> is of type <code>IEnumerable&lt;Foobar&gt;</code>, then it can ALSO be <code>Func&lt;Foobar, double&gt;</code> (it call also be <code>Expression&lt;Func&lt;Foobar, double&gt;&gt;</code></p>\n\n<p>Visual studio seems to like this:</p>\n\n<pre><code>public Expression&lt;Func&lt;Foobar, double&gt;&gt; FirstAmountExpr\n{\n    get\n    {\n        if (ShouldGetFirstAmount)\n        {\n            return x =&gt; x.AmountOne;\n        }\n        else\n        {\n            return x =&gt; x.AmountTwo;\n        }\n    }\n}\n\npublic double GetFirstAmount()\n{\n    return repository.Foobars.Select(FirstAmountExpr).First();\n}\n</code></pre>\n"}], "owner": {"reputation": 461, "user_id": 1473598, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8363a1519f60ea4acac76b2712b03a29?s=128&d=identicon&r=PG", "display_name": "Oak", "link": "https://stackoverflow.com/users/1473598/oak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 32106303, "answer_count": 1, "score": 2, "last_activity_date": 1440021377, "creation_date": 1440019399, "question_id": 32105902, "link": "https://stackoverflow.com/questions/32105902/passing-in-an-entitys-property-in-entity-framework-in-linq", "title": "Passing in an entity&#39;s property in Entity Framework in LINQ", "body": "<p>I'm not sure if my question makes sense but here we go. I have a very complicated query that gets translated into SQL from EF that relies on runtime variables.</p>\n\n<p>Example: Lets say I have an entity object.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class Foobar\n{\n    public int ID { get; set; }\n    public double AmountOne { get; set; } \n    public double AmountTwo { get; set; } \n}\n</code></pre>\n\n<p>And I want to query one of Foobar's amount fields based on a runtime property. Right now I know there is two ways to do this.</p>\n\n<p>Way #1: In code</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public bool ShouldGetFirstAmount {get; set;}\npublic double GetFirstAmount()\n{\n    if (ShouldGetFirstAmount)\n    {\n        return repository.Foobars.Select(c =&gt; c.AmountOne).First();\n    } else {\n        return repository.Foobars.Select(c =&gt; c.AmountTwo).First();\n    }\n}\n</code></pre>\n\n<p><strong>Pros</strong>: Smaller sql query, lower overhead\n<strong>Cons</strong>: Huge codechunck/ repetitive</p>\n\n<p>Way #2: Straight in the query and EF can transform it.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public bool ShouldGetFirstAmount {get; set;}\npublic double GetFirstAmount()\n{\n        return repository.Foobars.Select(c =&gt; ShouldGetFirstAmount ? c.AmountOne : c.AmountTwo).First();\n}\n</code></pre>\n\n<p><strong>Pros</strong>: Smaller code chunck. \n<strong>Cons</strong>: Query performance suffers due to the expression in the actuyal query</p>\n\n<p>So I'm looking for a 3rd way that allows me to get the best of both worlds. I want to be able to pass in the actual object property that should be computed. I'm just not sure how it should be done or if it can even be done. </p>\n\n<p>Something that works kind of like this. I know this code doesn't work but I think you guys get the idea I'm going for. </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public Expression&lt;double&gt; FirstAmountProperty {get; set;}\npublic double GetFirstAmount()\n{\n    return repository.Foobars.Select(FirstAmountProperty).First();\n}\n</code></pre>\n"}, {"tags": ["c#", "ios", "timestamp-with-timezone"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4013175, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ramell Lamar", "link": "https://stackoverflow.com/users/4013175/ramell-lamar"}, "is_accepted": false, "score": 0, "last_activity_date": 1440384266, "creation_date": 1440384266, "answer_id": 32173790, "question_id": 32105849, "link": "https://stackoverflow.com/questions/32105849/how-do-i-return-the-current-time-in-c-when-the-time-zone-changes-using-the-nsti/32173790#32173790", "title": "How do I return the current time in c# when the time zone changes using the NSTimeZone in iOS", "body": "<p>I actually figured the answer to my own question. See code below...</p>\n\n<p>DateTimeOffset LocalTimeOffset = TimeZoneInfo.ConvertTime(DateTimeOffset.UtcNow, TimeZoneInfo.FindSystemTimeZoneById(NSTimeZone.SystemTimeZone.ToString()));</p>\n"}], "owner": {"reputation": 1, "user_id": 4013175, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ramell Lamar", "link": "https://stackoverflow.com/users/4013175/ramell-lamar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1440384266, "creation_date": 1440019171, "question_id": 32105849, "link": "https://stackoverflow.com/questions/32105849/how-do-i-return-the-current-time-in-c-when-the-time-zone-changes-using-the-nsti", "title": "How do I return the current time in c# when the time zone changes using the NSTimeZone in iOS", "body": "<p>I'm using xamarin to develop an iOS app, and need to be able to determine the actual time(FYI..12:00 AM) based on the timezone in C#. I'm using the NSTimeZone object to determine the time zone, but can't seem to figure out how to determine the actual time in the time zone. Remember, I need to be able to do this in c#. Everything that I find online is in objective c.</p>\n\n<p>Thanks in Advance! </p>\n"}, {"tags": ["c#", ".net", "reflection"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1440019239, "post_id": 32105781, "comment_id": 52106223, "body": "You could define the mapping from string to operation statically, and just pass the list of allowed operations/strings to the attribute?"}, {"owner": {"reputation": 21716, "user_id": 2401769, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wkEbw.jpg?s=128&g=1", "display_name": "Matias Cicero", "link": "https://stackoverflow.com/users/2401769/matias-cicero"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1440019333, "post_id": 32105781, "comment_id": 52106267, "body": "@Blorgbeard I thought of that, but what if each property wants to have a different string -&gt; operation mapping?"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1440019675, "post_id": 32105781, "comment_id": 52106437, "body": "Well, do they? You&#39;re writing the code.. It seems unlikely to be necessary to me, on the face of it."}], "answers": [{"tags": [], "owner": {"reputation": 1484, "user_id": 82812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab4cf131857f3496224ac57b3948c5f1?s=128&d=identicon&r=PG", "display_name": "Jerry Federspiel", "link": "https://stackoverflow.com/users/82812/jerry-federspiel"}, "is_accepted": false, "score": 0, "last_activity_date": 1440019986, "last_edit_date": 1440019986, "creation_date": 1440019445, "answer_id": 32105910, "question_id": 32105781, "link": "https://stackoverflow.com/questions/32105781/dictionary-in-attribute-workaround/32105910#32105910", "title": "Dictionary in Attribute workaround", "body": "<p>Define a separate attribute (say, OperationAttribute) with AttributeUsage such that AllowMultiple = true.  Then specify each key-value pair that you would have put in the dictionary with a separate OperationAttribute.  Like so:</p>\n\n<pre><code>[AttributeUsage(System.AttributeTargets.Property, AllowMultiple = true)]\npublic class OperationAttribute : Attribute \n{\n    public OperationAttribute(string name, QueryOperation op)\n    {\n        ...etc...\n    }\n}\n\npublic class SceneQueryData\n{\n    [PropertyFilter(\"Episode\")]\n    [Operation(\"le\", QueryOperation.LessThanOrEquals)]\n    [Operation(\"lt\", QueryOperation.LessThan)]\n    [Operation(\"ge\", QueryOperation.GreaterThanOrEquals)]\n    [Operation(\"gt\", QueryOperation.GreaterThan)]\n    public int? Episode { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 21716, "user_id": 2401769, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wkEbw.jpg?s=128&g=1", "display_name": "Matias Cicero", "link": "https://stackoverflow.com/users/2401769/matias-cicero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440019986, "creation_date": 1440018901, "last_edit_date": 1440019272, "question_id": 32105781, "link": "https://stackoverflow.com/questions/32105781/dictionary-in-attribute-workaround", "title": "Dictionary in Attribute workaround", "body": "<p>I have a REST Web Api endpoint, which can receive query parameters.</p>\n\n<p>Some of these query parameters are used to generate a LINQ expression with the inner model's properties. For instance:</p>\n\n<pre><code>http://api.example.com/scenes?episode=32\n</code></pre>\n\n<p>The query parameter <code>episode</code> generates a LINQ expression:</p>\n\n<pre><code>s =&gt; s.Episode == 32\n</code></pre>\n\n<p>Which property to use for the comparison is specified in an attribute that each query parameter has:</p>\n\n<pre><code>public class SceneQueryData\n{\n     [PropertyFilter(\"Episode\")]\n     public int? Episode { get; set; }\n}\n</code></pre>\n\n<p>I am saying: <code>\"Hey, use this \"episode\" query parameter as a filter for the \"Episode\" property of the model\"</code>.</p>\n\n<p>Now, the generated expression is a simple equality comparison (<code>=</code>), so I'm in need of more complex operations (<code>&lt;, &lt;=, &gt;, &gt;=</code>), for that I can set an additional member in the attribute:</p>\n\n<pre><code>[PropertyFilter(\"Episode\", QueryOperations = new Dictionary&lt;string, QueryOperation&gt;()\n{\n    { \"le\", QueryOperation.LessThanOrEquals },\n    { \"lt\", QueryOperation.LessThan },\n    { \"ge\", QueryOperation.GreaterThanOrEquals },\n    { \"gt\", QueryOperation.GreaterThan }\n}]\n</code></pre>\n\n<p>This will allow me to make queries such as <code>scenes?episode.le=20</code>, which would be translated to </p>\n\n<pre><code>e =&gt; e.Episode &lt;= 20.\n</code></pre>\n\n<p>However, I cannot pass in a dictionary as an attribute argument, so I need another way to accomplish this <strong>using attributes</strong>.</p>\n"}, {"tags": ["c#", "ms-word"], "comments": [{"owner": {"reputation": 18255, "user_id": 384808, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/533bb0d50b50ca57511dbe7051c0b0bd?s=128&d=identicon&r=PG", "display_name": "Brian Driscoll", "link": "https://stackoverflow.com/users/384808/brian-driscoll"}, "edited": false, "score": 1, "creation_date": 1440021724, "post_id": 32105775, "comment_id": 52107290, "body": "It would be pretty sweet if you could show us some code."}, {"owner": {"reputation": 17, "user_id": 5245124, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155958824105029/picture?type=large", "display_name": "Mohammed Jameel Abdulredha", "link": "https://stackoverflow.com/users/5245124/mohammed-jameel-abdulredha"}, "reply_to_user": {"reputation": 18255, "user_id": 384808, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/533bb0d50b50ca57511dbe7051c0b0bd?s=128&d=identicon&r=PG", "display_name": "Brian Driscoll", "link": "https://stackoverflow.com/users/384808/brian-driscoll"}, "edited": false, "score": 0, "creation_date": 1440057194, "post_id": 32105775, "comment_id": 52118203, "body": "there i added them thaniks :D"}], "answers": [{"tags": [], "owner": {"reputation": 174, "user_id": 1732411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VTJq.jpg?s=128&g=1", "display_name": "Telmo Gondar", "link": "https://stackoverflow.com/users/1732411/telmo-gondar"}, "is_accepted": false, "score": 0, "last_activity_date": 1480356022, "last_edit_date": 1495535367, "creation_date": 1480356022, "answer_id": 40850640, "question_id": 32105775, "link": "https://stackoverflow.com/questions/32105775/how-to-add-an-image-at-a-specific-location-in-msword-using-c/40850640#40850640", "title": "How to add an image at a specific location in MSWord Using C#?", "body": "<p>one way to do that is:</p>\n\n<ul>\n<li><p>open your word document > add a bookmark named: \"PicHere\"</p></li>\n<li><p>and then <a href=\"https://stackoverflow.com/questions/8483471/how-to-change-the-size-of-a-picture-after-inserting-it-into-a-word-document\">check this link</a></p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": false, "score": 1, "last_activity_date": 1480356679, "creation_date": 1480356679, "answer_id": 40850833, "question_id": 32105775, "link": "https://stackoverflow.com/questions/32105775/how-to-add-an-image-at-a-specific-location-in-msword-using-c/40850833#40850833", "title": "How to add an image at a specific location in MSWord Using C#?", "body": "<p>Instead of inserting a inline shape which is positioned within the text. You may want to insert as a normal shape, which can be positioned anywhere above the text:</p>\n\n<pre><code>oDoc.Application.ActiveDocument.Shapes.AddPicture(\n    @\"C:\\Users\\MHD\\Desktop\\retouche.bmp\",\n    null, null,\n    left, top, width, height)\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 5245124, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155958824105029/picture?type=large", "display_name": "Mohammed Jameel Abdulredha", "link": "https://stackoverflow.com/users/5245124/mohammed-jameel-abdulredha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2443, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1480356679, "creation_date": 1440018877, "last_edit_date": 1440061336, "question_id": 32105775, "link": "https://stackoverflow.com/questions/32105775/how-to-add-an-image-at-a-specific-location-in-msword-using-c", "title": "How to add an image at a specific location in MSWord Using C#?", "body": "<pre><code>using word = Microsoft.Office.Interop.Word;\n</code></pre>\n\n<p>How do I add an image at a specific co-ordinate of the Word documents.</p>\n\n<p>I have been searching for a while, but unsuccessful in finding a solution for this problem.</p>\n\n<p><strong>EDIT\nCurrently using :</strong></p>\n\n<pre><code>    oDoc.Application.Selection.InlineShapes.AddPicture(@\"C:\\Users\\MHD\\Desktop\\retouche.bmp\");\n    oDoc.Application.Selection.MoveDown(word.WdUnits.wdScreen, 2);\n</code></pre>\n\n<p><strong>Problem:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Vw179.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vw179.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>What is needed:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/aS3HU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aS3HU.png\" alt=\"enter image description here\"></a> </p>\n\n<p>So the image should be located at the bottom right corner of the last page in the document.</p>\n"}, {"tags": ["c#", "wpf", "xaml", "resourcedictionary"], "comments": [{"owner": {"reputation": 41499, "user_id": 643085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/svAcm.png?s=128&g=1", "display_name": "Federico Berasategui", "link": "https://stackoverflow.com/users/643085/federico-berasategui"}, "edited": false, "score": 1, "creation_date": 1440019033, "post_id": 32105736, "comment_id": 52106129, "body": "Never  seen anyone use Pack URIs for <code>StartupUri</code>. Better remove that and load  and show the window in the <code>app.xaml.cs</code> code behind."}, {"owner": {"reputation": 1189, "user_id": 1220653, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c19b58d15509c95c734ee560841fc133?s=128&d=identicon&r=PG", "display_name": "Bradley Odell", "link": "https://stackoverflow.com/users/1220653/bradley-odell"}, "reply_to_user": {"reputation": 41499, "user_id": 643085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/svAcm.png?s=128&g=1", "display_name": "Federico Berasategui", "link": "https://stackoverflow.com/users/643085/federico-berasategui"}, "edited": false, "score": 1, "creation_date": 1440019935, "post_id": 32105736, "comment_id": 52106572, "body": "I did this and it worked. There are tons of tutorials about how to load windows from another assembly and they all say to use Pack URIs. Sounds like a bug to me."}, {"owner": {"reputation": 41499, "user_id": 643085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/svAcm.png?s=128&g=1", "display_name": "Federico Berasategui", "link": "https://stackoverflow.com/users/643085/federico-berasategui"}, "edited": false, "score": 0, "creation_date": 1440020299, "post_id": 32105736, "comment_id": 52106742, "body": "Yeah. You&#39;d do us all a favor if you report  this  to Microsoft."}], "owner": {"reputation": 1189, "user_id": 1220653, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c19b58d15509c95c734ee560841fc133?s=128&d=identicon&r=PG", "display_name": "Bradley Odell", "link": "https://stackoverflow.com/users/1220653/bradley-odell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1038, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1440018674, "creation_date": 1440018674, "question_id": 32105736, "link": "https://stackoverflow.com/questions/32105736/c-wpf-xaml-item-has-already-been-added-key-in-dictionary-equalityconverter", "title": "C# WPF XAML Item has already been added. Key in dictionary: &#39;EqualityConverter&#39; Key being added: &#39;EqualityConverter&#39;", "body": "<p>I am getting the following error:</p>\n\n<pre><code>System.Windows.Markup.XamlParseException occurred\n  HResult=-2146233087\n  Message='Set property 'System.Windows.ResourceDictionary.DeferrableContent' threw an exception.' Line number '9' and line position '6'.\n  Source=PresentationFramework\n  LineNumber=9\n  LinePosition=6\n  StackTrace:\n       at System.Windows.Markup.WpfXamlLoader.Load(XamlReader xamlReader, IXamlObjectWriterFactory writerFactory, Boolean skipJournaledProperties, Object rootObject, XamlObjectWriterSettings settings, Uri baseUri)\n  InnerException: System.ArgumentException\n       HResult=-2147024809\n       Message=Item has already been added. Key in dictionary: 'EqualityConverter'  Key being added: 'EqualityConverter'\n       Source=mscorlib\n       StackTrace:\n            at System.Collections.Hashtable.Insert(Object key, Object nvalue, Boolean add)\n            at System.Collections.Hashtable.Add(Object key, Object value)\n            at System.Windows.ResourceDictionary.SetKeys(IList`1 keyCollection, IServiceProvider serviceProvider)\n            at System.Windows.ResourceDictionary.SetDeferrableContent(DeferrableContent deferrableContent)\n            at System.Windows.Baml2006.WpfSharedBamlSchemaContext.&lt;Create_BamlProperty_ResourceDictionary_DeferrableContent&gt;b__168(Object target, Object value)\n            at System.Windows.Baml2006.WpfKnownMemberInvoker.SetValue(Object instance, Object value)\n            at MS.Internal.Xaml.Runtime.ClrObjectRuntime.SetValue(XamlMember member, Object obj, Object value)\n            at MS.Internal.Xaml.Runtime.ClrObjectRuntime.SetValue(Object inst, XamlMember property, Object value)\n       InnerException: \n</code></pre>\n\n<p>I have a <strong><em>C# Class Library</em></strong>, called <strong>ABC</strong>, which contains some WPF (XAML) windows.\nI have another <strong><em>C# Windows Application</em></strong> project, called <strong>ABC Settings</strong>, which has an <strong>App.xaml</strong> with the <strong><em>StartupUri</em></strong> pointing to one of the windows in the class library using the correct Pack URI format. The window class is located in a class library because it needs to be accessible from another <strong><em>Windows Application</em></strong>, called <strong>ABC Client</strong>.</p>\n\n<pre><code>&lt;Application x:Class=\"CLASS_HERE\"\n             xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n             StartupUri=\"pack://application:,,,/ABC;component/ABCWindow.xaml\"&gt;\n    &lt;Application.Resources&gt;\n\n    &lt;/Application.Resources&gt;\n&lt;/Application&gt;\n</code></pre>\n\n<p>In the <strong>ABCWindow.xaml</strong>, I have a fully completed Window which I remember working a couple months ago (when launched from the <strong>ABC Settings</strong> project). <strong>When the window is launched from ABC Client there are no runtime errors!</strong></p>\n\n<p>At the top of the Window's XAML code, I have some converter definitions:</p>\n\n<pre><code>&lt;Window.Resources&gt;\n    &lt;ui:EqualityConverter x:Key=\"EqualityConverter\" /&gt;\n    &lt;ui:VisibilityConverter x:Key=\"VisibilityConverter\" /&gt;\n&lt;/Window.Resources&gt;\n</code></pre>\n\n<p>If I swap the ordering of the converters, so the <strong>VisibilityConverter</strong> comes first, then the error message says that the <strong>VisibilityConverter</strong> is the problem.</p>\n\n<p>I was able to get rid of this specific error by wrapping the converters in a <strong>ResourceDictionary</strong> but then I encountered another error:</p>\n\n<pre><code>System.Windows.Markup.XamlParseException occurred\n  HResult=-2146233087\n  Message='Could not register named object. Cannot register duplicate name 'addButton' in this scope.' Line number '65' and line position '26'.\n  Source=PresentationFramework\n  LineNumber=65\n  LinePosition=26\n  StackTrace:\n       at System.Windows.Markup.WpfXamlLoader.Load(XamlReader xamlReader, IXamlObjectWriterFactory writerFactory, Boolean skipJournaledProperties, Object rootObject, XamlObjectWriterSettings settings, Uri baseUri)\n  InnerException: System.ArgumentException\n       HResult=-2147024809\n       Message=Cannot register duplicate name 'addButton' in this scope.\n       Source=System.Xaml\n       StackTrace:\n            at System.Xaml.NameScope.RegisterName(String name, Object scopedElement)\n            at System.Xaml.XamlObjectWriter.RegisterName(ObjectWriterContext ctx, String name, Object inst, XamlType xamlType, INameScope nameScope, INameScope parentNameScope, Boolean isRoot)\n       InnerException: \n</code></pre>\n\n<p>I have the following code further down in the Window's XAML code:</p>\n\n<pre><code>&lt;Button x:Name=\"addButton\" Content=\"Add\" Click=\"addButton_Click\" /&gt;\n</code></pre>\n\n<p>It seems that the XAML parser/framework/whatever thinks that I have duplicated key and object names but I am positive that there aren't.\nLike I said above, this window runs fine when launched from the <strong>ABC Client</strong>.</p>\n\n<p>I have searched around on MSDN forums and random blogs. I have cleaned and rebuilt my entire solution. I have restarted Visual Studio and even manually deleted all of the temporary Visual Studio files.</p>\n\n<p>I have made sure all of the files have the correct build types:</p>\n\n<p><strong>ABCWindow.xaml</strong> is a <strong><em>Page</em></strong>.</p>\n\n<p><strong>App.xaml</strong> is a <strong><em>ApplicationDefinition</em></strong>.</p>\n\n<p>My guess is that there is something wrong with the <strong>ABC Settings</strong> project and the <strong>StartupUri</strong> and whatever internal mechanisms connect all of that together.</p>\n\n<p>Anyone have any suggestions on what's going wrong?\nThanks for reading.</p>\n"}, {"tags": ["c#", "linq", "readfile", "filehelpers"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1440018957, "post_id": 32105732, "comment_id": 52106103, "body": "<code>\\&quot;</code> is how the debugger displays a <code>&quot;</code> inside a string. Presumably <code>FileHelperEngine</code> (whatever that is) is not stripping quotes from your file."}, {"owner": {"reputation": 415, "user_id": 4707373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kDa90eSH1qA/AAAAAAAAAAI/AAAAAAAAABs/nxfLGtuIk4M/photo.jpg?sz=128", "display_name": "Malte R", "link": "https://stackoverflow.com/users/4707373/malte-r"}, "edited": false, "score": 1, "creation_date": 1440019674, "post_id": 32105732, "comment_id": 52106435, "body": "You can use <code>.Trim(&quot;\\&quot;&quot;)</code> on any string to remove the &quot;."}], "answers": [{"tags": [], "owner": {"reputation": 2230, "user_id": 1497128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QaOX5.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/1497128/tom"}, "is_accepted": false, "score": 1, "last_activity_date": 1440020199, "last_edit_date": 1440020199, "creation_date": 1440019060, "answer_id": 32105819, "question_id": 32105732, "link": "https://stackoverflow.com/questions/32105732/filehelpers-how-to-handle-quoted-fields-when-reading-file/32105819#32105819", "title": "FileHelpers: How to handle quoted fields when reading file", "body": "<p>This is happening because you are reading the file as a flat string. The file contains quotes and therefore they are also getting read in. This is standard CSV format.</p>\n\n<p>The slash is used as an escape character in C#. So \\\" is really just \". You need to either replace the quotes with empty, trim the quotes, or use a CSV library to properly read in the file. Personally, I've used CSVHelper before and it has been great. You can get it from nuget package manager.</p>\n\n<p>e.g. </p>\n\n<pre><code>var newstring = oldstring.Replace(\"\\\"\", string.Empty);\n</code></pre>\n\n<p>Do you have access to FileHelperEngine? If so, you should look at how it parses the file. Otherwise, you can iterate over the list and strip the quotes out or strip them out in the object's setters or whatever you think is appropriate for your solution.</p>\n"}, {"tags": [], "owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "is_accepted": false, "score": 2, "last_activity_date": 1466321755, "last_edit_date": 1466321755, "creation_date": 1440020450, "answer_id": 32106112, "question_id": 32105732, "link": "https://stackoverflow.com/questions/32105732/filehelpers-how-to-handle-quoted-fields-when-reading-file/32106112#32106112", "title": "FileHelpers: How to handle quoted fields when reading file", "body": "<p>A CSV parser is now a part of .NET Framework.</p>\n\n<p>Add a reference to <code>Microsoft.VisualBasic.dll</code> (works fine in C#, don't mind the name)</p>\n\n<pre><code>using (TextFieldParser parser = new TextFieldParser(@\"c:\\temp\\test.csv\"))\n{\n    parser.TextFieldType = FieldType.Delimited;\n    parser.SetDelimiters(\",\");\n    while (!parser.EndOfData) \n    {\n        //Process row\n        string[] fields = parser.ReadFields();\n        foreach (string field in fields) \n        {\n            //TODO: Process field\n       }\n    }\n    parser.Close();\n}\n</code></pre>\n\n<p>The docs are <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.visualbasic.fileio.textfieldparser.aspx\" rel=\"nofollow\">Here</a></p>\n"}, {"tags": [], "owner": {"reputation": 3318, "user_id": 203579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ceb54108b72d60713b1bd7f105e1f85?s=128&d=identicon&r=PG", "display_name": "Marcos Meli", "link": "https://stackoverflow.com/users/203579/marcos-meli"}, "is_accepted": true, "score": 11, "last_activity_date": 1440027004, "creation_date": 1440027004, "answer_id": 32107274, "question_id": 32105732, "link": "https://stackoverflow.com/questions/32105732/filehelpers-how-to-handle-quoted-fields-when-reading-file/32107274#32107274", "title": "FileHelpers: How to handle quoted fields when reading file", "body": "<p>You must add [FieldQuoted] to make the library auto remove them\n<a href=\"http://www.filehelpers.net/docs/html/T_FileHelpers_FieldQuotedAttribute.htm\" rel=\"noreferrer\">http://www.filehelpers.net/docs/html/T_FileHelpers_FieldQuotedAttribute.htm</a></p>\n\n<pre><code>[DelimitedRecord(\",\")]\npublic class Records\n{\n    [FieldQuoted]\n    public string Name;\n\n    [FieldQuoted]\n    public string Track;\n\n    [FieldQuoted]\n    public string worldPrice;\n}   \n</code></pre>\n"}], "owner": {"reputation": 440, "user_id": 5137592, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/x27jk.jpg?s=128&g=1", "display_name": "danny taki", "link": "https://stackoverflow.com/users/5137592/danny-taki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3138, "favorite_count": 0, "accepted_answer_id": 32107274, "answer_count": 3, "score": 2, "last_activity_date": 1466321755, "creation_date": 1440018642, "last_edit_date": 1440027105, "question_id": 32105732, "link": "https://stackoverflow.com/questions/32105732/filehelpers-how-to-handle-quoted-fields-when-reading-file", "title": "FileHelpers: How to handle quoted fields when reading file", "body": "<p>Here's the data I want to read:</p>\n\n<pre><code>\"Adam C. Emality\",\"1Z620Y1V034826\",\"14.40\"\n\"Ethel Baeron\",\"1Z620Y1V034604\",\"15.19\"\n\"Donna Lidt\",\"1Z620Y1V034650\",\"12.37\"\n</code></pre>\n\n<p>Then after reading the data in, I want to perform a Join on the two collections, one an array and one a list - my code below.  However after executing the read file line my strings are stored like this <code>\"\\\"Adam C. Emality\\\"\"</code>  <code>\"\\\"1Z620Y1V034826\\\"\"</code>  <code>\"\\\"14.40\\\"\"</code>...etc..  Why is this happening? I do not want to include the <code>\"</code> and I don't know why it is adding in a <code>\\</code>.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing FileHelpers;\nusing Parser;\n\nnamespace Amazon_File\n{\n    class SpreadSheet\n    {\n        public void create(IEnumerable&lt;SpreadList&gt; list)\n        {\n\n\n            var steamengine = new FileHelperEngine&lt;Records&gt;();\n            var records = steamengine.ReadFile(@\"C:\\Users\\Danny\\Documents\\Visual Studio 2013\\Projects\\Amazon File\\Amazon File\\Daniel.csv\");\n\n            var spreadlist = from x in list\n                             join y in records on x.Name equals y.Name\n                             select new { y.Name, y.Track, y.worldPrice, x.ItemPrice, x.Quantity };\n\n\n\n[DelimitedRecord(\",\")]\n    public class Records\n    {\n\n        public string Name;\n\n        public string Track;\n\n        public string worldPrice;\n    }   \n\npublic class SpreadList\n    {\n        public string Name { get; set; }\n        public string Title { get; set; }\n        public string ItemPrice { get; set; }\n        public string Quantity { get; set; }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-mvc-4"], "answers": [{"comments": [{"owner": {"reputation": 225, "user_id": 5187320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206181110600765/picture?type=large", "display_name": "John O&#39;Grady", "link": "https://stackoverflow.com/users/5187320/john-ogrady"}, "edited": false, "score": 0, "creation_date": 1440019132, "post_id": 32105777, "comment_id": 52106168, "body": "Thank you so much CoOl- that worked great. So simple and yet so elusive!7"}], "tags": [], "owner": {"reputation": 1937, "user_id": 2342406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28828fc5e6ed8f8818b9a130a2a30e7b?s=128&d=identicon&r=PG", "display_name": "CoOl", "link": "https://stackoverflow.com/users/2342406/cool"}, "is_accepted": true, "score": 3, "last_activity_date": 1440018886, "creation_date": 1440018886, "answer_id": 32105777, "question_id": 32105722, "link": "https://stackoverflow.com/questions/32105722/asp-net-mvc-4-viewmodel/32105777#32105777", "title": "ASP.NET MVC 4 ViewModel", "body": "<p>The issue is here: </p>\n\n<pre><code>viewModel.Colleges= db.Colleges\n    .Include(i =&gt; i.Address1)\n    .Include(i =&gt; i.Address2)\n    .Include(i =&gt; i.Address3)\n    .Include(i =&gt; i.County.CountyName)\n    .Include(i =&gt; i.CollegeStatus)\n    .Include(i =&gt; i.ContactMobilePhone)\n    .Include(i =&gt; i.ContactName)\n    .Include(i =&gt; i.Name)\n    .Include(i =&gt; i.Courses.Select(c =&gt; c.CourseID))\n    .OrderBy(i =&gt; i.Name);\n</code></pre>\n\n<p>.Include is for related tables (Navigation properties) here all these fields you are trying to include are table properties.</p>\n\n<p>Change it to:</p>\n\n<pre><code>viewModel.Colleges = db.Colleges.ToList();\n</code></pre>\n\n<p>or if you want it ordered by <code>Name</code> then: </p>\n\n<pre><code>viewModel.Colleges = db.Colleges.OrderBy(c =&gt; c.Name).ToList();\n</code></pre>\n"}], "owner": {"reputation": 225, "user_id": 5187320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206181110600765/picture?type=large", "display_name": "John O&#39;Grady", "link": "https://stackoverflow.com/users/5187320/john-ogrady"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 32105777, "answer_count": 1, "score": 1, "last_activity_date": 1440021631, "creation_date": 1440018600, "last_edit_date": 1440021631, "question_id": 32105722, "link": "https://stackoverflow.com/questions/32105722/asp-net-mvc-4-viewmodel", "title": "ASP.NET MVC 4 ViewModel", "body": "<p>Am new to ASP.NET MVC and have been looking to build out the standard ASP.NET MVC template with Identity 2.0 installed from Nuget</p>\n\n<p>I have a College class declared as follows</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\n\nnamespace Placementv2.Models\n{\n    public class College\n    {\n        public int CollegeID { get; set; }\n        public string Name { get; set; }\n        public string Address1 { get; set; }\n        public string Address2 { get; set; }\n        public string Address3 { get; set; }\n        public virtual County County { get; set; }\n        public int CountyID { get; set; }\n        public string MobilePhone { get; set; }\n        public string ContactName { get; set; }\n        public string ContactMobilePhone { get; set; }\n        public bool CollegeStatus { get; set; }\n        public virtual ICollection&lt;Course&gt; Courses { get; set; }\n        public double Latitude { get; set; }\n        public double Longtitude { get; set; }\n        public DateTime LastModified { get; set; }\n        public string UserLastModified { get; set; }\n\n    }\n}\n</code></pre>\n\n<p>I also have a Course class as follows:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Data.Entity;\nusing System.ComponentModel.DataAnnotations;\nnamespace Placementv2.Models\n{\n    public class Course\n    {\n        [Key]\n        public int CourseID { get; set; }\n        public string CourseName { get; set; }\n        public int CollegeID { get; set; }\n        public bool CourseStatus { get; set; }\n        public virtual College College { get; set; }\n\n\n    }\n\n}\n</code></pre>\n\n<p>I am then trying to follow the Contoso University ASP.NET MVC5 sample project (see <a href=\"https://www.asp.net/mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-a-more-complex-data-model-for-an-asp-net-mvc-application\" rel=\"nofollow\">https://www.asp.net/mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-a-more-complex-data-model-for-an-asp-net-mvc-application</a> )to achieve a similar approach taken with instructors and courses where on selecting a college you can drill in to see the specific courses (and their attributes) within the College index view</p>\n\n<p>I then adapted the College Controller</p>\n\n<p>adapting the simple </p>\n\n<pre><code>public ActionResult Index()\n        {\n            return View(db.Colleges.ToList());\n        }\n</code></pre>\n\n<p>and replacing this with </p>\n\n<pre><code>public ActionResult Index(int? id, int? courseID)\n{\n    var viewModel = new CollegeIndexData();\n\n    viewModel.Colleges= db.Colleges\n        .Include(i =&gt; i.Address1)\n        .Include(i =&gt; i.Address2)\n        .Include(i =&gt; i.Address3)\n        .Include(i =&gt; i.County.CountyName)\n        .Include(i =&gt; i.CollegeStatus)\n        .Include(i =&gt; i.ContactMobilePhone)\n        .Include(i =&gt; i.ContactName)\n        .Include(i =&gt; i.Name)\n        .Include(i =&gt; i.Courses.Select(c =&gt; c.CourseID))\n        .OrderBy(i =&gt; i.Name);\n\n    if (id != null)\n    {\n        ViewBag.CollegeID = id.Value;\n        viewModel.Courses = viewModel.Colleges.Where(\n            i =&gt; i.CollegeID == id.Value).Single().Courses;\n    }\n    return View(viewModel);\n}\n</code></pre>\n\n<p>Finally, I have updated the Index view of College as follows:</p>\n\n<pre><code>     @model Placementv2.ViewModels.CollegeIndexData\n\n@{\n    ViewBag.Title = \"Colleges\";\n}\n\n&lt;h2&gt;Instructors&lt;/h2&gt;\n\n&lt;p&gt;\n    @Html.ActionLink(\"Create New\", \"Create\")\n&lt;/p&gt;\n&lt;table class=\"table\"&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Name&lt;/th&gt;\n        &lt;th&gt;Address1&lt;/th&gt;\n        &lt;th&gt;Address2&lt;/th&gt;\n        &lt;th&gt;Address3/th&gt;\n        &lt;th&gt;County/th&gt;\n        &lt;th&gt;Courses&lt;/th&gt;\n        &lt;th&gt;&lt;/th&gt;\n    &lt;/tr&gt;\n\n    @foreach (var item in Model.Colleges)\n    {\n        string selectedRow = \"\";\n        if (item.CollegeID == ViewBag.CollegeID)\n        {\n            selectedRow = \"success\";\n        }\n        &lt;tr class=\"@selectedRow\"&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.Address1)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.Address2)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.Address3)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.County.CountyName)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @{\n        foreach (var course in item.Courses)\n        {\n            @course.CourseID @:  @course.CourseName&lt;br /&gt;\n                    }\n                }\n            &lt;/td&gt;\n\n            &lt;td&gt;\n                @Html.ActionLink(\"Select\", \"Index\", new { id = item.CollegeID}) |\n                @Html.ActionLink(\"Edit\", \"Edit\", new { id = item.CollegeID }) |\n                @Html.ActionLink(\"Details\", \"Details\", new { id = item.CollegeID }) |\n                @Html.ActionLink(\"Delete\", \"Delete\", new { id = item.CollegeID })\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    }\n\n&lt;/table&gt;\n\n@if (Model.Courses != null)\n{\n    &lt;h3&gt;Courses Offered by Selected College&lt;/h3&gt;\n    &lt;table class=\"table\"&gt;\n        &lt;tr&gt;\n            &lt;th&gt;&lt;/th&gt;\n            &lt;th&gt;Name&lt;/th&gt;\n            &lt;th&gt;Status&lt;/th&gt;\n            &lt;/tr&gt;\n\n        @foreach (var item in Model.Courses)\n        {\n            string selectedRow = \"\";\n            if (item.CourseID == ViewBag.CourseID)\n            {\n                selectedRow = \"success\";\n            }\n            &lt;tr class=\"@selectedRow\"&gt;\n                &lt;td&gt;\n                    @Html.ActionLink(\"Select\", \"Index\", new { courseID = item.CourseID })\n                &lt;/td&gt;\n                &lt;td&gt;\n                    @item.CourseName\n                &lt;/td&gt;\n                &lt;td&gt;\n                    @item.CourseStatus\n                &lt;/td&gt;\n            &lt;/tr&gt;\n        }\n\n    &lt;/table&gt;\n}\n}\n</code></pre>\n\n<p>However it throws an exception: </p>\n\n<blockquote>\n  <p>A specified Include path is not valid. The EntityType 'IdentitySample.Models.College' does not declare a navigation property with the name 'Address1'.</p>\n</blockquote>\n\n<p>INterestingly (and a little frustratingly, as I am totally confused here!) the College Model does not live in the IdentitySamples namespace but in the Placementv2 namespace.</p>\n\n<p>Could someone help me out here in pointing me in the right direction and also in highlighting suggestions on any other extant code errors in the code samples</p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["c#", "asp.net", "file-io"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1440018584, "post_id": 32105672, "comment_id": 52105933, "body": "Read the Remarks section in <a href=\"https://msdn.microsoft.com/en-us/library/dd383503(v=vs.110).aspx\" rel=\"nofollow noreferrer\">File.ReadLines</a>"}, {"owner": {"reputation": 18124, "user_id": 812970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Y5RQs.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/812970/sunil"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1440018764, "post_id": 32105672, "comment_id": 52106011, "body": "@Steve, Thanks for the tip. In my case I need to read all lines and not line by line. What I am really concerned about is whether these methods will be slower as number of files becomes large."}, {"owner": {"reputation": 2762, "user_id": 4508432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b484752ee826147fc4b35e1c6706bb?s=128&d=identicon&r=PG&f=1", "display_name": "dmeglio", "link": "https://stackoverflow.com/users/4508432/dmeglio"}, "edited": false, "score": 2, "creation_date": 1440018837, "post_id": 32105672, "comment_id": 52106045, "body": "The NTFS file system is pretty efficient and finding a file by filename. Honestly, this really comes down to a hardware question. If you have thousands of file requests going on at once, all to a single drive, and possibly fragmented, that&#39;s going to be your bottleneck, not C#."}, {"owner": {"reputation": 2762, "user_id": 4508432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b484752ee826147fc4b35e1c6706bb?s=128&d=identicon&r=PG&f=1", "display_name": "dmeglio", "link": "https://stackoverflow.com/users/4508432/dmeglio"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1440018896, "post_id": 32105672, "comment_id": 52106075, "body": "@Steve and concurrent access (if the read head is somewhere else on the platter, it takes time to physically move to the sector you want)"}, {"owner": {"reputation": 18124, "user_id": 812970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Y5RQs.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/812970/sunil"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1440018949, "post_id": 32105672, "comment_id": 52106098, "body": "@Steve, Both the methods that I have in my code, will need to first find an existing file, before writing or reading lines. So search is always going to be there when these methods are called."}, {"owner": {"reputation": 18124, "user_id": 812970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Y5RQs.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/812970/sunil"}, "reply_to_user": {"reputation": 2762, "user_id": 4508432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b484752ee826147fc4b35e1c6706bb?s=128&d=identicon&r=PG&f=1", "display_name": "dmeglio", "link": "https://stackoverflow.com/users/4508432/dmeglio"}, "edited": false, "score": 0, "creation_date": 1440019077, "post_id": 32105672, "comment_id": 52106148, "body": "@dman2306, But doesn&#39;t C# need to run some code to find a file, even though there are hardware factors like fragmentation etc. that can slow it down?"}, {"owner": {"reputation": 2762, "user_id": 4508432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b484752ee826147fc4b35e1c6706bb?s=128&d=identicon&r=PG&f=1", "display_name": "dmeglio", "link": "https://stackoverflow.com/users/4508432/dmeglio"}, "edited": false, "score": 1, "creation_date": 1440019377, "post_id": 32105672, "comment_id": 52106296, "body": "@Sunil it&#39;s not C# code, that&#39;s handled much lower level by the file system. It uses a tree based index. It&#39;s not iterating through the directory. I have directories with 1million+ files (don&#39;t ask) and opening a file and reading it is no slower than in directories with 2 files. See <a href=\"http://www.easeus.com/data-recovery-ebook/ntfs-index-record-and-contents.htm\" rel=\"nofollow noreferrer\">easeus.com/data-recovery-ebook/&hellip;</a> for how NTFS works."}, {"owner": {"reputation": 18124, "user_id": 812970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Y5RQs.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/812970/sunil"}, "reply_to_user": {"reputation": 2762, "user_id": 4508432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b484752ee826147fc4b35e1c6706bb?s=128&d=identicon&r=PG&f=1", "display_name": "dmeglio", "link": "https://stackoverflow.com/users/4508432/dmeglio"}, "edited": false, "score": 0, "creation_date": 1440019519, "post_id": 32105672, "comment_id": 52106369, "body": "@dman2306, Ok. So C# code may be calling some Windows OS API. That&#39;s great for my app since its going to be responsive. Could you please post this as an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 2762, "user_id": 4508432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b484752ee826147fc4b35e1c6706bb?s=128&d=identicon&r=PG&f=1", "display_name": "dmeglio", "link": "https://stackoverflow.com/users/4508432/dmeglio"}, "is_accepted": true, "score": 2, "last_activity_date": 1440019679, "creation_date": 1440019679, "answer_id": 32105952, "question_id": 32105672, "link": "https://stackoverflow.com/questions/32105672/how-is-search-done-when-reading-or-writing-a-file-in-c/32105952#32105952", "title": "How is search done when reading or writing a file in C#", "body": "<p>When you make file system calls in C#, under the covers, the .NET Framework is calling Windows OS API calls. Meaning, C# isn't \"searching\" for the file you're requesting, it's merely passing your request to native Windows API calls which in turn pass it to the File System. NTFS is very efficient at finding files. It does not iterate through a directory. Rather, it stores the files in a B-tree based index. This means finding the file you requested is almost instantaneous. Suffice it to say, a directory with a few thousand files in it is handled by NTFS very efficiently. You'll notice almost no difference between that and if it were the only file in the directory.</p>\n\n<p>For a little more in depth explanation of how NTFS does the indexing, see <a href=\"http://www.easeus.com/data-recovery-ebook/ntfs-index-record-and-contents.htm\" rel=\"nofollow\">this link</a>.</p>\n"}], "owner": {"reputation": 18124, "user_id": 812970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Y5RQs.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/812970/sunil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 32105952, "answer_count": 1, "score": 0, "last_activity_date": 1440019679, "creation_date": 1440018409, "last_edit_date": 1440018616, "question_id": 32105672, "link": "https://stackoverflow.com/questions/32105672/how-is-search-done-when-reading-or-writing-a-file-in-c", "title": "How is search done when reading or writing a file in C#", "body": "<p>I have following code in my app as given at end of this post.</p>\n\n<p>When the directory <code>C:\\xyz\\vb\\</code> is empty or has very few files, then the code is lightning fast, but I am not so sure if it will still be as fast in a high traffic website, where not only many users would access files under this folder, but also there could be many files under this folder.  No two users would access the same file at same time, but there could be thousands of these user files in above folder.</p>\n\n<p><strong>Question</strong>:</p>\n\n<p>How do each of these methods - <code>ReadAllText</code> and <code>WriteAllLines</code> in code below perform searching for the given file, and does reading and writing become slower as number of files goes up in the folder being accessed? My initial guess is that these methods would need to find the given file and therefore will become slower as number of files goes up.</p>\n\n<pre><code>//read a give file\nstring text = System.IO.File.ReadAllText(@\"C:\\xyz\\vb\\WriteText.txt\");\n//write to a given file\nSystem.IO.File.WriteAllLines(@\"C:xyz\\vb\\WriteLines.txt\", lines);\n</code></pre>\n"}, {"tags": ["c#", "winforms", "listbox"], "comments": [{"owner": {"reputation": 96748, "user_id": 74757, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/10331bb0b4eb995500acc85fb0d16aea?s=128&d=identicon&r=PG", "display_name": "C\u1d0f\u0280\u028f", "link": "https://stackoverflow.com/users/74757/c%e1%b4%8f%ca%80%ca%8f"}, "edited": false, "score": 0, "creation_date": 1440018310, "post_id": 32105616, "comment_id": 52105815, "body": "Hook a change event to the list, then set the text in the event handler. <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.combobox.selectedindexchanged%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">Example on MSDN</a>."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1440018939, "post_id": 32105616, "comment_id": 52106092, "body": "@DobisLT can you explain which form has the ListBox control in the future it would really help if you would show all relevant code because one cannot determine which form you are trying to update.. and if it crashes you whole program then you need to understand how to instantiate a form object meaning how to create an instance of <code>Form2</code> for example please edit the question and paste in all relevant code so others won&#39;t have to guess"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1440021345, "post_id": 32105616, "comment_id": 52107146, "body": "just curious what the data in the file looks like I would replace the while loop with a single line of code to read all the text in the file at once with <code>1</code> line of code..  <code>words = File.ReadAllLines(&quot;Data.txt&quot;).ToList();</code>"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1440021541, "post_id": 32105616, "comment_id": 52107235, "body": "in your method that hides or shows <code>private void hidetext()</code> I would create a method that utilizes the <code>Controls</code> class and do a <code>foreach(Control ctrl in Controls) then check it the type is </code>TextBox` then make visible true then in the next conditional check check if control is <code>Label</code> do the same for showtext method.."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5241299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558d6b461de449abce42dff39e3f9dbe?s=128&d=identicon&r=PG&f=1", "display_name": "DobisLT", "link": "https://stackoverflow.com/users/5241299/dobislt"}, "edited": false, "score": 0, "creation_date": 1440019390, "post_id": 32105728, "comment_id": 52106306, "body": "But if I add this code, my program crashes and no longer able to add new words, and blue mark stuck"}, {"owner": {"reputation": 25, "user_id": 5241299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558d6b461de449abce42dff39e3f9dbe?s=128&d=identicon&r=PG&f=1", "display_name": "DobisLT", "link": "https://stackoverflow.com/users/5241299/dobislt"}, "edited": false, "score": 0, "creation_date": 1440019475, "post_id": 32105728, "comment_id": 52106350, "body": "It stuck if I want to add new item"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "reply_to_user": {"reputation": 25, "user_id": 5241299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558d6b461de449abce42dff39e3f9dbe?s=128&d=identicon&r=PG&f=1", "display_name": "DobisLT", "link": "https://stackoverflow.com/users/5241299/dobislt"}, "edited": false, "score": 0, "creation_date": 1440019677, "post_id": 32105728, "comment_id": 52106438, "body": "you need to show your full code that pertains to the forms and how you are trying to assign labels based on selectedindex being changed,  this code should not cause your program to crash unless you are trying to access it from the wrong form. also you stated that you&#39;re trying to add new item.. but nowhere in the code that you have posted do you indicate that you add items to a Listbox control.. we are not mind readers .. please show all relevant code also start using the debugger don&#39;t just code and go.."}, {"owner": {"reputation": 1415, "user_id": 1531352, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/abWzB.png?s=128&g=1", "display_name": "Philip Borges", "link": "https://stackoverflow.com/users/1531352/philip-borges"}, "edited": false, "score": 0, "creation_date": 1553426463, "post_id": 32105728, "comment_id": 97372615, "body": "Super simple! But &#39;listBox1.SelectedValue&#39; gives you the numeric index value. Use &#39;listBox1.SelectedItem&#39; to get the actual text value from the selection."}], "tags": [], "owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "is_accepted": true, "score": 2, "last_activity_date": 1440018991, "last_edit_date": 1440018991, "creation_date": 1440018628, "answer_id": 32105728, "question_id": 32105616, "link": "https://stackoverflow.com/questions/32105616/c-how-to-make-that-selected-item-from-listbox-will-be-shown-in-label/32105728#32105728", "title": "c# How to make that selected item from listbox will be shown in label?", "body": "<p>you need to double click in the designer on the events tab for the ListBox1 control to have it automatically create the  <code>SelectedIndexChanged</code> \njust find that <code>SelectedIndexChanged</code> and double click it</p>\n\n<p>inside the event put the following code </p>\n\n<pre><code>private void listBox1_SelectedIndexChanged(object sender, System.EventArgs e)\n{\n    var selected = listBox1.GetItemText(listBox1.SelectedValue);\n    label4.Text = selected; \n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 5241299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558d6b461de449abce42dff39e3f9dbe?s=128&d=identicon&r=PG&f=1", "display_name": "DobisLT", "link": "https://stackoverflow.com/users/5241299/dobislt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2356, "favorite_count": 1, "accepted_answer_id": 32105728, "answer_count": 1, "score": 1, "last_activity_date": 1440020404, "creation_date": 1440018172, "last_edit_date": 1440020404, "question_id": 32105616, "link": "https://stackoverflow.com/questions/32105616/c-how-to-make-that-selected-item-from-listbox-will-be-shown-in-label", "title": "c# How to make that selected item from listbox will be shown in label?", "body": "<p>So I have a question, where to put that code in Windows Forms that it would be refreshed every time I select other item in listbox?\nI tried to put in listBox1, but it crash my whole program, I tried to put it in <code>public Form2()</code>  but it show just first selected item in label4, and do not refresh after I select other item in listBox1. Any solutions?</p>\n\n<pre><code>    var selected = listBox1.SelectedItem.ToString();\n    label4.Text = selected;\n</code></pre>\n\n<p>full code below </p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\nusing System.IO;`\n\nnamespace VocaFlash_Japanese\n{\n    public partial class Form2 : Form\n    {\n        public List&lt;string&gt; words = new List&lt;string&gt;();\n        public string Wor;\n        public int State = 0;\n\n\n        public Form2()\n        {\n            InitializeComponent();\n            loadfile();\n            listBox1.DataSource = words;\n            //var selected = listBox1.SelectedItem.ToString();\n          //  label4.Text = selected;\n\n            hidetext();\n\n        }\n        private void hidetext()\n        {\n            textBox1.Hide();\n            textBox2.Hide();\n            textBox3.Hide();\n            label1.Hide();\n            label2.Hide();\n            label3.Hide();\n        }\n        private void showtext()\n        {\n            textBox1.Show();\n            textBox2.Show();\n            textBox3.Show();\n            label1.Show();\n            label2.Show();\n            label3.Show();\n        }\n        public void Save()\n        {\n            const string sPath = \"Data.txt\";\n            System.IO.StreamWriter sw = new System.IO.StreamWriter(sPath);\n            foreach (string item in words)\n            {\n                sw.WriteLine(item);\n            }\n\n            sw.Close();\n        }\n        private void UpdateListBox(List&lt;string&gt; words)\n        {\n            //string contents = null;\n            List&lt;string&gt; itemAll = new List&lt;string&gt;();\n            foreach (string str in words)\n            {\n                itemAll.Add(str);\n            }\n        }\n        /*public void Save(List&lt;string&gt; words)\n        {\n            StringBuilder contents = new StringBuilder();\n            foreach (string s in words)\n            {\n                contents.AppendLine(s);\n            }\n            System.IO.File.WriteAllText(@\"Data.txt\", contents.ToString());\n        }*/\n        private void loadfile()\n        {\n            string line;\n            var file = new System.IO.StreamReader(\"Data.txt\");\n            while ((line = file.ReadLine()) != null)\n            {\n                words.Add(line);\n            }\n        }\n       /* private void Remove()\n        {\n            string contents = null;\n            List&lt;string&gt; itemAll = new List&lt;string&gt;();\n            foreach (string str in words)\n            {\n                itemAll.Add(str);\n            }\n            foreach (string lstitem in listBox1.SelectedItems)\n            {\n                itemAll.Remove(lstitem);\n                //File.AppendAllText(strFile + \"Currently In.txt\", strName + Environment.NewLine);\n            }\n            foreach (string s in itemAll)\n            { contents += s + Environment.NewLine; }\n            System.IO.File.WriteAllText(@\"Data.txt\", contents);\n\n        }*/\n        private void listBox1_SelectedIndexChanged(object sender, EventArgs e)\n        {\n           var selected = listBox1.SelectedItem.ToString();\n            label4.Text = selected;\n        }\n\n\n        private void button4_Click(object sender, EventArgs e)\n        {\n            Meniu men = new Meniu();\n            men.Show();\n            this.Hide();\n        }\n\n        private void button1_Click(object sender, EventArgs e)\n        {\n            State += 1;\n            switch (State)\n            {\n                case 1:\n                    showtext();\n                    break;\n                case 2:\n                    words.Add(textBox1.Text);\n\n                    listBox1.DataSource = null;\n                    listBox1.DataSource = words;\n\n                    Save();\n\n                    State = 0;\n                    textBox1.Text = \"\";\n\n                    hidetext();\n                    break;\n                default:\n                    Console.WriteLine(\"Default case\");\n                    break;\n            }\n        }\n\n        private void button2_Click(object sender, EventArgs e)\n        {\n           /* // The Remove button was clicked.\n            int selectedIndex = listBox1.SelectedIndex;\n\n            try\n            {\n                // Remove the item in the List.\n                words.RemoveAt(selectedIndex);\n            }\n            catch\n            {\n            }\n\n            listBox1.DataSource = null;\n            listBox1.DataSource = words;\n            Remove();*/\n            // The Remove button was clicked.\n            int selectedIndex = listBox1.SelectedIndex;\n\n            try\n            {\n                // Remove the item in the List.\n                words.RemoveAt(selectedIndex); //Remove item from words\n                UpdateListBox(words);//Update contents on GUI\n                Save(); //Save on IO\n                listBox1.DataSource = null;\n                listBox1.DataSource = words;\n\n            }\n            catch\n            {\n            }\n\n\n        }\n\n        private void Form2_FormClosing(object sender, FormClosingEventArgs e)\n        {\n            Environment.Exit(0);\n        }\n\n        private void button3_Click(object sender, EventArgs e)\n        {\n\n        }\n\n        private void label4_Click(object sender, EventArgs e)\n        {\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "mysql"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1440018219, "post_id": 32105612, "comment_id": 52105766, "body": "go to this site for examples on how to connect  <a href=\"http://www.connectionstrings.com\" rel=\"nofollow noreferrer\">ConnectStrings</a>"}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1440018259, "post_id": 32105612, "comment_id": 52105790, "body": "uh, you&#39;re talking sql server, phpmyadmin is for mysql..."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1440018412, "post_id": 32105612, "comment_id": 52105852, "body": "I bet that you are using a SqlConnection instead of a MySqlConnection class. Show the code that raises the exception"}, {"owner": {"reputation": 5065, "user_id": 757513, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ada17515bc669bb928bf1bf686026e52?s=128&d=identicon&r=PG", "display_name": "Juan M. Elosegui", "link": "https://stackoverflow.com/users/757513/juan-m-elosegui"}, "edited": false, "score": 0, "creation_date": 1440019492, "post_id": 32105612, "comment_id": 52106362, "body": "@MadsM see my updated answer."}], "answers": [{"comments": [{"owner": {"reputation": 581, "user_id": 1749891, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/EVJ8k.png?s=128&g=1", "display_name": "Mads M", "link": "https://stackoverflow.com/users/1749891/mads-m"}, "edited": false, "score": 0, "creation_date": 1440018752, "post_id": 32105708, "comment_id": 52106007, "body": "Thank you (and the other commenters). My bad, I used the wrong class. I downloaded the connector class and tried to connect, however I get a new error. Please see first post"}, {"owner": {"reputation": 5065, "user_id": 757513, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ada17515bc669bb928bf1bf686026e52?s=128&d=identicon&r=PG", "display_name": "Juan M. Elosegui", "link": "https://stackoverflow.com/users/757513/juan-m-elosegui"}, "reply_to_user": {"reputation": 581, "user_id": 1749891, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/EVJ8k.png?s=128&g=1", "display_name": "Mads M", "link": "https://stackoverflow.com/users/1749891/mads-m"}, "edited": false, "score": 0, "creation_date": 1440019057, "post_id": 32105708, "comment_id": 52106137, "body": "@MadsM I think you will need to open the MySql port (usually 3306) to the Ip you want to connect from."}, {"owner": {"reputation": 581, "user_id": 1749891, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/EVJ8k.png?s=128&g=1", "display_name": "Mads M", "link": "https://stackoverflow.com/users/1749891/mads-m"}, "edited": false, "score": 0, "creation_date": 1440019874, "post_id": 32105708, "comment_id": 52106535, "body": "I have updated my connectionstring so that it looks like this server=x.x.x.x;database=dbname;User Id=username@xx.xx.xx.xx;password=mypw, however I still get the same error as I edited in above"}, {"owner": {"reputation": 5065, "user_id": 757513, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ada17515bc669bb928bf1bf686026e52?s=128&d=identicon&r=PG", "display_name": "Juan M. Elosegui", "link": "https://stackoverflow.com/users/757513/juan-m-elosegui"}, "reply_to_user": {"reputation": 581, "user_id": 1749891, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/EVJ8k.png?s=128&g=1", "display_name": "Mads M", "link": "https://stackoverflow.com/users/1749891/mads-m"}, "edited": false, "score": 0, "creation_date": 1440019990, "post_id": 32105708, "comment_id": 52106595, "body": "You have to have that user in MySQL server"}, {"owner": {"reputation": 581, "user_id": 1749891, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/EVJ8k.png?s=128&g=1", "display_name": "Mads M", "link": "https://stackoverflow.com/users/1749891/mads-m"}, "edited": false, "score": 0, "creation_date": 1440020236, "post_id": 32105708, "comment_id": 52106723, "body": "the user does exist. I made it for this reason, and it has the permissions required."}], "tags": [], "owner": {"reputation": 5065, "user_id": 757513, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ada17515bc669bb928bf1bf686026e52?s=128&d=identicon&r=PG", "display_name": "Juan M. Elosegui", "link": "https://stackoverflow.com/users/757513/juan-m-elosegui"}, "is_accepted": false, "score": 1, "last_activity_date": 1440019431, "last_edit_date": 1440019431, "creation_date": 1440018535, "answer_id": 32105708, "question_id": 32105612, "link": "https://stackoverflow.com/questions/32105612/c-cant-connect-to-mysql-server/32105708#32105708", "title": "C# Can&#39;t connect to MySQL server", "body": "<p>You can't use <code>System.Data.SqlClient.SqlConnection</code> to connect to MySql server</p>\n\n<p>Try to use <code>MySql.Data.MySqlClient.MySqlConnection</code></p>\n\n<p>More info <a href=\"http://dev.mysql.com/doc/connector-net/en/connector-net-tutorials-connection.html\" rel=\"nofollow\">here</a></p>\n\n<p>You can download the MySql Connector <a href=\"https://www.mysql.com/products/connector/\" rel=\"nofollow\">here</a></p>\n\n<p>2nd Question</p>\n\n<p>In MySql a user is a combination of the username and the host that user is connecting from. So you need to add a user to your server like <code>user@x.x.x.x</code></p>\n\n<p>See more <a href=\"https://dev.mysql.com/doc/refman/5.1/en/adding-users.html\" rel=\"nofollow\">here</a></p>\n"}], "owner": {"reputation": 581, "user_id": 1749891, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/EVJ8k.png?s=128&g=1", "display_name": "Mads M", "link": "https://stackoverflow.com/users/1749891/mads-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2596, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440067982, "creation_date": 1440018148, "last_edit_date": 1440067982, "question_id": 32105612, "link": "https://stackoverflow.com/questions/32105612/c-cant-connect-to-mysql-server", "title": "C# Can&#39;t connect to MySQL server", "body": "<p>I am having problems connecting to my SQL (online) server from my program.</p>\n\n<p>I get the error</p>\n\n<blockquote>\n  <p>\u201cA network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections.\u201c</p>\n</blockquote>\n\n<p>I think my connectionstring is correct...</p>\n\n<pre><code>    myConnection.ConnectionString =\n    \"SERVER=\" + db_host + \";\" +\n    \"DATABASE=\" + db_name + \";\" +\n    \"UID=\" + db_username + \";\" +\n    \"PASSWORD=\" + db_password + \";\";\n</code></pre>\n\n<p>My router has forwarded the port that the sql server uses.\nThe db_host is the IP of the server.\nThe db_username is a user for the sql server (not root@localhost)</p>\n\n<p>I am not sure if I need to enable external connections to the DB?\nI heard they were open by default, and I can't find anywhere in phpmyadmin or cpanel to enable it.</p>\n\n<p>Been trying various solutions for this specific error, but no luck.\nThe program times out from trying to connect and throws the exception\n<em>System.Data.SqlClient.SqlException (0x80131904)</em></p>\n\n<p><strong>EDIT</strong>\nThanks for pointing me in the right direction.\nI am using MySQL .NET Connector class now, and I receive the error\nAuthentication to host 'x.x.x.x' for user 'myusername' using method 'mysql_native_password' failed with message: Access denied for user 'myusername'@'my_external_ip' (using password: YES) ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Access denied for user 'myusername'@'my_external_ip' (using password: YES)</p>\n\n<p>The IP x.x.x.x is the MySQL server's IP.\nmyusername is where my username is and my_external_ip is this PC's external IP.\nThe password is correct. So does this mean external connections are disallowed by the host?</p>\n"}, {"tags": ["c#", "hadoop", "avro", "azure-hdinsight"], "comments": [{"owner": {"reputation": 1311, "user_id": 1110615, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/SjAhO.jpg?s=128&g=1", "display_name": "lockwobr", "link": "https://stackoverflow.com/users/1110615/lockwobr"}, "edited": false, "score": 0, "creation_date": 1447381742, "post_id": 32105482, "comment_id": 55142612, "body": "Any news on this? I have was about to make It serialize it but the deserializing it does not work."}, {"owner": {"reputation": 5007, "user_id": 23059, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/28d1534c68a23bb158022f3d5f0985ad?s=128&d=identicon&r=PG", "display_name": "Cameron Taggart", "link": "https://stackoverflow.com/users/23059/cameron-taggart"}, "edited": false, "score": 0, "creation_date": 1452537262, "post_id": 32105482, "comment_id": 57203277, "body": "I got a similar error about <code>no known type</code> for a list. Turns out that each type used in a collection, needed an attribute. For me, I added <code>[KnownType(typeof(List&lt;MyCompany.TimedEvent&gt;))]</code> to the class, just under <code>[DataContract]</code>. I&#39;m guessing, but may be <code>[KnownType(typeof(IEnumerable&lt;string&gt;)]</code> would work. Weird that it wouldn&#39;t work out of the box for <code>string</code>s."}, {"owner": {"reputation": 701, "user_id": 1087565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c22122abbaddc94c506ead59a9f7999?s=128&d=identicon&r=PG", "display_name": "philippeback", "link": "https://stackoverflow.com/users/1087565/philippeback"}, "edited": false, "score": 0, "creation_date": 1464114861, "post_id": 32105482, "comment_id": 62348164, "body": "Same error, generator doesn&#39;t issue the full list of [KnownType(... for arrays (my type was two nested arrays, )."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 5604533, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-X5EkzMfAnBQ/AAAAAAAAAAI/AAAAAAAAAAA/HMrereNrkkg/photo.jpg?sz=128", "display_name": "Martin Packwood", "link": "https://stackoverflow.com/users/5604533/martin-packwood"}, "is_accepted": false, "score": 3, "last_activity_date": 1448461107, "creation_date": 1448461107, "answer_id": 33918872, "question_id": 32105482, "link": "https://stackoverflow.com/questions/32105482/microsoft-hadoop-avro-serializer-does-not-support-ienumerablestring/33918872#33918872", "title": "Microsoft Hadoop Avro Serializer does not support IEnumerable&lt;string&gt;", "body": "<p>IEnumerable type has not been enumerated, so the data within is not known.  It will only be known when it is enumerated.  This happens when you call, for example, ToArray() or ToList() on it.</p>\n\n<p>Since it has not been enumerated it makes no sense to serialize it, it may not be possible to be enumerated after it is  deserialized because no data will have been preserved.</p>\n\n<p>You will have to enumerate it before serializing, by converting to an Array or List or some other concrete collection type.</p>\n"}], "owner": {"reputation": 545, "user_id": 1171506, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8d9bb87109a749d5897855c88890ac54?s=128&d=identicon&r=PG", "display_name": "haltunbay", "link": "https://stackoverflow.com/users/1171506/haltunbay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1057, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1448461107, "creation_date": 1440017578, "question_id": 32105482, "link": "https://stackoverflow.com/questions/32105482/microsoft-hadoop-avro-serializer-does-not-support-ienumerablestring", "title": "Microsoft Hadoop Avro Serializer does not support IEnumerable&lt;string&gt;", "body": "<p>I have a simlpe class that has a property type of IEnumerable While trying to create a serializer with reflection (see <a href=\"http://hadoopsdk.codeplex.com/SourceControl/latest\" rel=\"nofollow\">Microsoft .NET SDK For Hadoop</a>) it fails with following exception.</p>\n\n<blockquote>\n  <p>Could not find any matching known type for\n  'System.Collections.Generic.IEnumerable`1[System.String]'.</p>\n</blockquote>\n\n<p>But it works when string[] is used instead IEnumerable</p>\n\n<p>Class used </p>\n\n<pre><code>[DataContract]\npublic class MyClass\n{\n    [DataMember]\n    public string Field1;\n\n    [DataMember]\n    //public string[] Array1; This works\n    public IEnumerable&lt;string&gt; Array1; //this doesn't\n}\n</code></pre>\n\n<p>Code </p>\n\n<pre><code>public void CreateSerializer()\n{\n    var serializer = AvroSerializer.Create&lt;MyClass&gt;();\n}\n</code></pre>\n\n<p>Any help is much appreciated. Why IEnumerable not supported or a workaround.</p>\n"}, {"tags": ["c#", "windows-phone-8", "mvvm", "windows-phone-8.1", "mvvmcross"], "comments": [{"owner": {"reputation": 3091, "user_id": 1332734, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aDwy0.png?s=128&g=1", "display_name": "Kristian Vukusic", "link": "https://stackoverflow.com/users/1332734/kristian-vukusic"}, "edited": false, "score": 0, "creation_date": 1440019856, "post_id": 32105383, "comment_id": 52106523, "body": "Have you tried setting <code>NavigationCacheMode = NavigationCacheMode.Required;</code> in your page constructor?"}, {"owner": {"reputation": 423, "user_id": 1214857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7597ec7ce0a666d6de98cf1f1a252c80?s=128&d=identicon&r=PG", "display_name": "iupchris10", "link": "https://stackoverflow.com/users/1214857/iupchris10"}, "reply_to_user": {"reputation": 3091, "user_id": 1332734, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aDwy0.png?s=128&g=1", "display_name": "Kristian Vukusic", "link": "https://stackoverflow.com/users/1332734/kristian-vukusic"}, "edited": false, "score": 0, "creation_date": 1440080652, "post_id": 32105383, "comment_id": 52134061, "body": "No - I will give this a try and report back."}, {"owner": {"reputation": 423, "user_id": 1214857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7597ec7ce0a666d6de98cf1f1a252c80?s=128&d=identicon&r=PG", "display_name": "iupchris10", "link": "https://stackoverflow.com/users/1214857/iupchris10"}, "reply_to_user": {"reputation": 3091, "user_id": 1332734, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aDwy0.png?s=128&g=1", "display_name": "Kristian Vukusic", "link": "https://stackoverflow.com/users/1332734/kristian-vukusic"}, "edited": false, "score": 1, "creation_date": 1440081716, "post_id": 32105383, "comment_id": 52134856, "body": "@KristianVukusic - This works great, thanks! I&#39;m used to iOS which caches everything automatically. I also discovered that if you want to remove the page from the cache (which I want to do when user heads to a different section of the app), you can change it back to NavigationCacheMode.Disabled.  Please go ahead and &quot;answer&quot; the question so I can give you the appropriate credit. Thanks again."}], "answers": [{"tags": [], "owner": {"reputation": 3091, "user_id": 1332734, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aDwy0.png?s=128&g=1", "display_name": "Kristian Vukusic", "link": "https://stackoverflow.com/users/1332734/kristian-vukusic"}, "is_accepted": true, "score": 3, "last_activity_date": 1440081927, "creation_date": 1440081927, "answer_id": 32121377, "question_id": 32105383, "link": "https://stackoverflow.com/questions/32105383/why-does-mvvmcross-create-a-new-viewmodel-when-back-button-is-pressed/32121377#32121377", "title": "Why does MvvmCross create a new ViewModel when back button is pressed", "body": "<p>You need to write the following line of code in your page constructor. This enables the caching of visited pages.</p>\n\n<p><code>NavigationCacheMode = NavigationCacheMode.Required;</code></p>\n"}], "owner": {"reputation": 423, "user_id": 1214857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7597ec7ce0a666d6de98cf1f1a252c80?s=128&d=identicon&r=PG", "display_name": "iupchris10", "link": "https://stackoverflow.com/users/1214857/iupchris10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 748, "favorite_count": 1, "accepted_answer_id": 32121377, "answer_count": 1, "score": 2, "last_activity_date": 1440081927, "creation_date": 1440017214, "question_id": 32105383, "link": "https://stackoverflow.com/questions/32105383/why-does-mvvmcross-create-a-new-viewmodel-when-back-button-is-pressed", "title": "Why does MvvmCross create a new ViewModel when back button is pressed", "body": "<p>I'm building a Windows 8.1 mobile app with MVVMCross and I noticed some strange behavior when navigating between viewmodels.</p>\n\n<p>I have 2 Viewmodels like so...</p>\n\n<pre><code>public class FirstViewModel : MvxViewModel\n{\n   public override void Start()\n   {\n      base.Start();\n   }\n\n   public void Init()\n   {\n      //init code here\n   }\n   ...\n   private void GoForward()\n   {\n        ShowViewModel&lt;SecondViewModel&gt;();\n   }\n}\n\npublic class SecondViewModel : MvxViewModel\n{\n   private void GoBack()\n   {\n      Close(this);\n   }\n}\n</code></pre>\n\n<p>When I call Close(this) on SecondViewModel, Mvvmcross calls Start() and Init() on FirstViewModel again, like it was tombstoned.</p>\n\n<p>Why does this happen? Even if I only leave FirstViewModel for a couple seconds, it seems to be tombstoned immediately. How do I stop this from happening? It's frustrating because I now have to maintain the state of FirstViewModel constantly.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "fluent"], "comments": [{"owner": {"reputation": 7185, "user_id": 1645737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0tr7.png?s=128&g=1", "display_name": "keenthinker", "link": "https://stackoverflow.com/users/1645737/keenthinker"}, "edited": false, "score": 0, "creation_date": 1440017440, "post_id": 32105350, "comment_id": 52105382, "body": "Can you elaborate a little more what exactly do you want to achieve? Currently it is not very clear what and where the problem is."}, {"owner": {"reputation": 75, "user_id": 4174972, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100000065816757/picture?type=large", "display_name": "Thamires Cunha", "link": "https://stackoverflow.com/users/4174972/thamires-cunha"}, "reply_to_user": {"reputation": 7185, "user_id": 1645737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0tr7.png?s=128&g=1", "display_name": "keenthinker", "link": "https://stackoverflow.com/users/1645737/keenthinker"}, "edited": false, "score": 0, "creation_date": 1440017800, "post_id": 32105350, "comment_id": 52105550, "body": "exacly.. about it. I wish he could go through the list of users and checks if the user exists, if any  not let create the order. That is validation that would"}], "answers": [{"tags": [], "owner": {"reputation": 7185, "user_id": 1645737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0tr7.png?s=128&g=1", "display_name": "keenthinker", "link": "https://stackoverflow.com/users/1645737/keenthinker"}, "is_accepted": true, "score": 0, "last_activity_date": 1440020004, "creation_date": 1440020004, "answer_id": 32106023, "question_id": 32105350, "link": "https://stackoverflow.com/questions/32105350/unique-key-constraint-validation-mvc-4-fluent-api/32106023#32106023", "title": "Unique Key Constraint Validation MVC 4 (Fluent API)", "body": "<p>I assume, that you want to remove the <code>foreach</code> loop and have a more succinct code. An equivalent, but shorter query could be written using the <a href=\"https://msdn.microsoft.com/en-us/library/bb549039%28v=vs.110%29.aspx\" rel=\"nofollow\">FirstOrDefault extension</a>:</p>\n\n<pre><code>var x = new ADMINEntities();\nvar usersExists = x.Users.FirstOrDefault(u =&gt; u.Username == username.ToString());\nreturn usersExists != null\n            ? new ValidationResult(\"Username is already choosen, please choose another one.\")\n            : ValidationResult.Success;\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 4174972, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100000065816757/picture?type=large", "display_name": "Thamires Cunha", "link": "https://stackoverflow.com/users/4174972/thamires-cunha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 32106023, "answer_count": 1, "score": 0, "last_activity_date": 1440020004, "creation_date": 1440017138, "question_id": 32105350, "link": "https://stackoverflow.com/questions/32105350/unique-key-constraint-validation-mvc-4-fluent-api", "title": "Unique Key Constraint Validation MVC 4 (Fluent API)", "body": "<p>My project is divided in Controller, Models, Services, Parameters and Views. <br>\nI don't use EF. \nI try use this code for validate Unique Key Constraint, but for the EF. <br></p>\n\n<pre><code>public static ValidationResult IsUserNameUnique(object username, ValidationContext context)\n{\n            ADMINEntities x = new ADMINEntities();\n            var users = from u in x.Users\n                        select u;\n            foreach (var item in users)\n            {\n                if (item.Username == username.ToString())\n                {\n                    return new ValidationResult(\"Username is already choosen, please choose another one.\");\n\n                }\n            }\n            return ValidationResult.Success;\n}\n</code></pre>\n\n<p>how to i change the code to suit fluent?<br>\nNo have edmx.<br>\nNo have Context.<br></p>\n"}, {"tags": ["c#", "json", "entity-framework", "odata", "breeze"], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 5251812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ae8461a3eb0907b1bdc97fb8ec1e3f2?s=128&d=identicon&r=PG&f=1", "display_name": "kcamp", "link": "https://stackoverflow.com/users/5251812/kcamp"}, "is_accepted": true, "score": 2, "last_activity_date": 1440178459, "last_edit_date": 1495542163, "creation_date": 1440177806, "answer_id": 32146045, "question_id": 32105349, "link": "https://stackoverflow.com/questions/32105349/trying-to-serialize-notmapped-entity-framework-property-for-use-by-breeze/32146045#32146045", "title": "Trying to serialize [NotMapped] Entity Framework property for use by Breeze", "body": "<p>In terms of serialization, what is hurting you is the intermediate EdmBuilder that is supplied by breeze.  See: <a href=\"https://github.com/Breeze/breeze.server.labs/blob/master/EdmBuilder.cs\" rel=\"nofollow noreferrer\">https://github.com/Breeze/breeze.server.labs/blob/master/EdmBuilder.cs</a></p>\n\n<p>Because of the limitations defined in the comments of the EdmBuilder.cs</p>\n\n<pre>\nWe need the EDM both to define the Web API OData route and as a source of metadata for the Breeze client.  The Web API OData literature recommends the System.Web.Http.OData.Builder.ODataConventionModelBuilder.\nThat component is suffient for route definition but fails as a source of metadata for Breeze because (as of this writing) it neglects to include the foreign key definitions Breeze requires to maintain navigation properties of client-side JavaScript entities.\nThis EDM Builder ask the EF DbContext to supply the metadata which satisfy both route definition and Breeze.\nYou're only getting the metadata the EntityFramework chooses to expose.  This prevents the OData formatters/serializers from including the property - it's not mapped in the model metadata.\n</pre>\n\n<p>You could attempt a solution with a custom serializer, similar to what is represented in this article.  <a href=\"https://stackoverflow.com/questions/17140614/using-odata-in-webapi-for-properties-known-only-at-runtime\">Using OData in webapi for properties known only at runtime</a></p>\n\n<p>A custom serializer would look roughly like this (Note: this DOES NOT work..  continue reading, below...)</p>\n\n<pre><code>public class CustomEntitySerializer : ODataEntityTypeSerializer\n{\n    public CustomEntitySerializer(ODataSerializerProvider serializerProvider) : base(serializerProvider) {    }\n\n    public override ODataEntry CreateEntry(SelectExpandNode selectExpandNode, EntityInstanceContext entityInstanceContext)\n    {\n        ODataEntry entry = base.CreateEntry(selectExpandNode, entityInstanceContext);           \n\n        Request item = entityInstanceContext.EntityInstance as Request;\n        if (entry != null &amp;&amp; item != null)\n        {\n            // add your \"NotMapped\" property here.\n            entry.Properties = new List&lt;ODataProperty&gt;(entry.Properties) { new ODataProperty { Name = \"UserName\", Value = item.UserName} };\n        }\n        return entry;\n    }\n}\n</code></pre>\n\n<p>The trouble with this is that the underlying ODataJsonLightPropertySerializer checks the model for the existence of the property as it's attempting to write.  It calls the ValidatePropertyDefined method in the Microsoft.Data.OData.WriterValidationUtils class.</p>\n\n<pre><code>internal static IEdmProperty ValidatePropertyDefined(string propertyName, IEdmStructuredType owningStructuredType)\n</code></pre>\n\n<p>This will fail you with the runtime exception:</p>\n\n<pre>\nThe property 'UserName' does not exist on type 'YourNamespace.Models.Request'\n. Make sure to only use property names that are defined by the type.\",\"type\":\"Microsoft.Data.OData.ODataException\"\n,\"stacktrace\":\" at Microsoft.Data.OData.WriterValidationUtils.ValidatePropertyDefined(String propertyName\n, IEdmStructuredType owningStructuredType)\\r\\n at Microsoft.Data.OData.JsonLight.ODataJsonLightPropertySerializer\n.WriteProperty(ODataProperty property, IEdmStructuredType owningType, Boolean isTopLevel, Boolean allowStreamProperty\n, DuplicatePropertyNamesChecker duplicatePropertyNamesChecker, ProjectedPropertiesAnnotation projectedProperties\n</pre>\n\n<p>Bottom line is that the property needs to be defined in the model in order to serialize it.  You could conceivably rewrite large portions of the serialization layer, but there are lots of internal/static/private/non-virtual bits in the OData framework that make that unpleasant.</p>\n\n<p>A solution is ultimately presented in the way Breeze is forcing you to generate the model, though.   Assuming a code-first implementation, you can inject additional model metadata directly into the XmlDocument produced by EntityFramework.   Take the method in the Breeze EdmBuilder, with some slight modifications:</p>\n\n<pre><code>static IEdmModel GetCodeFirstEdm&lt;T&gt;(this T dbContext)  where T : DbContext\n{\n    // create the XmlDoc from the EF metadata\n    XmlDocument metadataDocument = new XmlDocument();\n    using (var stream = new MemoryStream())\n    using (var writer = XmlWriter.Create(stream))\n    {\n        System.Data.Entity.Infrastructure.EdmxWriter.WriteEdmx(dbContext, writer);\n        stream.Position = 0;\n        metadataDocument.Load(stream);\n    }\n\n    // to support proper xpath queries\n    var nsm = new XmlNamespaceManager(metadataDocument.NameTable);\n    nsm.AddNamespace(\"ssdl\", \"http://schemas.microsoft.com/ado/2009/02/edm/ssdl\");\n    nsm.AddNamespace(\"edmx\", \"http://schemas.microsoft.com/ado/2009/11/edmx\");\n    nsm.AddNamespace(\"edm\", \"http://schemas.microsoft.com/ado/2009/11/edm\");\n\n    // find the node we want to work with &amp; add the 1..N property metadata\n    var typeElement = metadataDocument.SelectSingleNode(\"//edmx:Edmx/edmx:Runtime/edmx:ConceptualModels/edm:Schema/edm:EntityType[@Name=\\\"Request\\\"]\", nsm);\n\n    // effectively, we want to insert this.\n    // &lt;Property Name=\"UserName\" Type=\"String\" MaxLength=\"1000\" FixedLength=\"false\" Unicode=\"true\" Nullable=\"true\" /&gt;\n    var propElement = metadataDocument.CreateElement(null, \"Property\", \"http://schemas.microsoft.com/ado/2009/11/edm\");\n    propElement.SetAttribute(\"Name\", \"UserName\");\n    propElement.SetAttribute(\"Type\", \"String\");\n    propElement.SetAttribute(\"FixedLength\", \"false\");\n    propElement.SetAttribute(\"Unicode\", \"true\");\n    propElement.SetAttribute(\"Nullable\", \"true\");\n\n    // append the node to the type element\n    typeElement.AppendChild(propElement);\n\n    // now we're going to save the updated xml doc and parse it.\n    using (var stream = new MemoryStream())\n    {\n        metadataDocument.Save(stream);\n        stream.Position = 0;\n        using (var reader = XmlReader.Create(stream))\n        {\n            return EdmxReader.Parse(reader);\n        }\n    }\n}\n</code></pre>\n\n<p>This will place the property into the metadata to be consumed by the OData layer and make any additional steps to promote serialization unnecessary.  You will, however, need to be mindful of how you shape the model metadata, as any requirements/specs will be reflected in the client side validation in Breeze.</p>\n\n<p>I have validated the CRUD operations of this approach in the ODataBreezejs sample provided by Breeze.  <a href=\"https://github.com/Breeze/breeze.js.samples/tree/master/net/ODataBreezejsSample\" rel=\"nofollow noreferrer\">https://github.com/Breeze/breeze.js.samples/tree/master/net/ODataBreezejsSample</a></p>\n"}], "owner": {"reputation": 137, "user_id": 4556955, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8GtGd.jpg?s=128&g=1", "display_name": "BlueMaegi", "link": "https://stackoverflow.com/users/4556955/bluemaegi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1554, "favorite_count": 1, "accepted_answer_id": 32146045, "answer_count": 1, "score": 3, "last_activity_date": 1466339143, "creation_date": 1440017137, "last_edit_date": 1440017636, "question_id": 32105349, "link": "https://stackoverflow.com/questions/32105349/trying-to-serialize-notmapped-entity-framework-property-for-use-by-breeze", "title": "Trying to serialize [NotMapped] Entity Framework property for use by Breeze", "body": "<p>This is a bit of a convoluted problem, so bear with me. We are currently using Entity Framework 6.1.1 on our server with OData 5.6, and Breeze JS 1.5.4 on the client side. In short, we're having issues getting [NotMapped] properties on our Model to serialize into json and get passed to the client.</p>\n\n<p>Here is our Model:</p>\n\n<pre><code>public class Request \n{\n    ...\n    public int UserId { get; set; }\n\n    [NotMapped]\n    public string UserName {get; set; }\n}\n</code></pre>\n\n<p>Because we're using OData, rather than being serialized through the default <code>JsonMediaTypeFormatter</code>, it goes through the <code>OdataMediaTypeFormatter</code> which completely ignores anything with the <code>[NotMapped]</code> attribute.\nWe could work around this problem by manually adding the properties to the <code>modelBuilder</code>. However this becomes an issue when trying to integrate with Breeze, because they have their own custom EdmBuilder that must be used for things like navigable properties to be preserved, and we cannot use the standard <code>ODataConventionModelBuilder</code>. This custom builder doesn't seem to allow for any level of control over the models. Is it at all possible to force OData to properly serialize these properties and also keep metadata that's complaint with Breeze? Has anyone tried something similar before?</p>\n\n<p>Side note:\nWe're trying to avoid storing or just making dummy columns in the db for this data, seeing as we need 5 of these properties, but this may wind up being our course of action if we dump too much more time into this.</p>\n\n<p>Thanks in Advance</p>\n"}, {"tags": ["c#", "asp.net", "email"], "comments": [{"owner": {"reputation": 2289, "user_id": 263651, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ac074df80909eac5b2cf86054ad19f34?s=128&d=identicon&r=PG", "display_name": "Hammerstein", "link": "https://stackoverflow.com/users/263651/hammerstein"}, "edited": false, "score": 0, "creation_date": 1440017363, "post_id": 32105296, "comment_id": 52105337, "body": "The post that post links to seems to be more what you&#39;re after <a href=\"http://stackoverflow.com/questions/1113345/sending-mail-along-with-embedded-image-using-asp-net\" title=\"sending mail along with embedded image using asp net\">stackoverflow.com/questions/1113345/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1256, "user_id": 939080, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5b5ee51a4b7d3587555915255fb5ee7c?s=128&d=identicon&r=PG", "display_name": "Chris Disley", "link": "https://stackoverflow.com/users/939080/chris-disley"}, "is_accepted": false, "score": 0, "last_activity_date": 1440017294, "creation_date": 1440017294, "answer_id": 32105407, "question_id": 32105296, "link": "https://stackoverflow.com/questions/32105296/why-is-my-image-not-showing-in-the-email/32105407#32105407", "title": "Why is my image not showing in the email?", "body": "<p>You're setting the CID of the IMG tag's src to the result of <code>Server.MapPath(...)</code>.  This will be a full path on your machine.  I think what needs to go in there if you're referring to the attachment is the filename (<code>Path.GetFileName(Server.MapPath(...))</code>)</p>\n"}, {"comments": [{"owner": {"reputation": 2055, "user_id": 1800891, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/sGrbi.png?s=128&g=1", "display_name": "Skullomania", "link": "https://stackoverflow.com/users/1800891/skullomania"}, "edited": false, "score": 0, "creation_date": 1440017790, "post_id": 32105433, "comment_id": 52105546, "body": "I get the part about adding the picture name, but what would be <code>YourPictureId</code>. Also does this mean that I do not need to use <code>&lt;img src=cid: sImage &#47;&gt;&lt;&#47;p&gt;</code>?"}, {"owner": {"reputation": 2080, "user_id": 82054, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a696cc26b1dfbe09d61d02956d1d5633?s=128&d=identicon&r=PG", "display_name": "Dmitry Sadakov", "link": "https://stackoverflow.com/users/82054/dmitry-sadakov"}, "reply_to_user": {"reputation": 2055, "user_id": 1800891, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/sGrbi.png?s=128&g=1", "display_name": "Skullomania", "link": "https://stackoverflow.com/users/1800891/skullomania"}, "edited": false, "score": 0, "creation_date": 1440017853, "post_id": 32105433, "comment_id": 52105577, "body": "The id can be any text - try <code>img1</code> for example, or <code>YourPictureId</code> as in the linked example."}, {"owner": {"reputation": 2055, "user_id": 1800891, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/sGrbi.png?s=128&g=1", "display_name": "Skullomania", "link": "https://stackoverflow.com/users/1800891/skullomania"}, "edited": false, "score": 0, "creation_date": 1440018372, "post_id": 32105433, "comment_id": 52105833, "body": "I have edited my code above to reflect what you asked me to try. It is giving an error on the <code>altview</code> line."}], "tags": [], "owner": {"reputation": 2080, "user_id": 82054, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a696cc26b1dfbe09d61d02956d1d5633?s=128&d=identicon&r=PG", "display_name": "Dmitry Sadakov", "link": "https://stackoverflow.com/users/82054/dmitry-sadakov"}, "is_accepted": false, "score": 1, "last_activity_date": 1440017391, "last_edit_date": 1495540280, "creation_date": 1440017391, "answer_id": 32105433, "question_id": 32105296, "link": "https://stackoverflow.com/questions/32105296/why-is-my-image-not-showing-in-the-email/32105433#32105433", "title": "Why is my image not showing in the email?", "body": "<p>You need to add the <a href=\"https://stackoverflow.com/questions/1113345/sending-mail-along-with-embedded-image-using-asp-net\">embedded image to the email</a> , then you can use the <code>cid</code> id in the template:</p>\n\n<pre><code>LinkedResource yourPictureRes = new LinkedResource(\"yourPicture.jpg\", MediaTypeNames.Image.Jpeg);\nyourPictureRes.ContentId = \"YourPictureId\";\naltView.LinkedResources.Add(yourPictureRes);\n</code></pre>\n"}], "owner": {"reputation": 2055, "user_id": 1800891, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/sGrbi.png?s=128&g=1", "display_name": "Skullomania", "link": "https://stackoverflow.com/users/1800891/skullomania"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 977, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1440018326, "creation_date": 1440016946, "last_edit_date": 1495539841, "question_id": 32105296, "link": "https://stackoverflow.com/questions/32105296/why-is-my-image-not-showing-in-the-email", "title": "Why is my image not showing in the email?", "body": "<p>I have an ecard application that allows a user to pick an image and send an email. But I am not able to figure out how to send the email here is my code.</p>\n\n<pre><code>protected void SendEmail()\n{\n    StringBuilder message;\n    Attachment attachFile;\n    string sImage = System.Web.HttpContext.Current.Server.MapPath(\"~/DesktopModules/KDMC_EcardList/images/\" + txtCapture.Text);\n    LinkedResource yourPictureRes = new LinkedResource(txtCapture.Text, MediaTypeNames.Image.Jpeg);\n    yourPictureRes.ContentId = \"YourPictureId\";\n    altView.LinkedResources.Add(yourPictureRes);\n    //Internal Message\n    message = new StringBuilder();\n    message.AppendLine(@\"&lt;p&gt;&lt;img src=cid: sImage /&gt;&lt;/p&gt;\");\n    message.AppendLine(@\"&lt;pre&gt;&lt;table style='width:650px; word-break:break-word; height:auto;'&gt;\n                             &lt;/td&gt;&lt;tr&gt;&lt;td style='width:150px;'&gt;From: &lt;/td&gt;&lt;td style='width:500px;'&gt;\" + txtFName.Text + \" \" + txtLName.Text + @\"\n                            &lt;/td&gt;&lt;tr&gt;&lt;td&gt;To: &lt;/td&gt;&lt;td&gt;\" + txtFriendFName.Text + \" \" + txtFriendLName.Text + @\"\n                            &lt;/td&gt;&lt;tr&gt;&lt;td&gt;Room Number: &lt;/td&gt;&lt;td&gt;\" + txtRoom.Text + @\"\n                           &lt;/td&gt;&lt;tr&gt;&lt;td&gt;Message: &lt;/td&gt;&lt;td&gt;\" + txtMessage.Text + @\"                                 \n                           &lt;/td&gt;&lt;tr&gt;&lt;td&gt;Date Sent: &lt;/td&gt;&lt;td&gt;\" + DateTime.Now.ToString() + \"&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/pre&gt;\");\n\n    //attachFile = new Attachment(FileUploadVideo.PostedFile.InputStream, strFileName);\n    System.Threading.Thread.Sleep(1000);\n    // need to create new reference to attachment, cannot use same reference to send email twice\n    //attachment = new Attachment(theMemoryStream, strSubject);\n    Mail.SendMail(\"test@test.net\", \"test@test.net\", \"\", \"test@test.net\",\n            \"test@test.net\", MailPriority.Normal, \"A new Ecard has been submitted\", MailFormat.Html, Encoding.UTF8, message.ToString(),\n            new List&lt;Attachment&gt;() { }, null, null, null, null, Host.EnableSMTPSSL);  \n}\n</code></pre>\n\n<p>I tried to follow the example here <a href=\"https://stackoverflow.com/questions/25139157/c-sharp-add-image-to-email-body\">C# add image to email body</a> as well as other solutions in the community but I am still unable to find a solution.</p>\n"}, {"tags": ["c#", "file", "directory", "move"], "comments": [{"owner": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "edited": false, "score": 1, "creation_date": 1440017072, "post_id": 32105280, "comment_id": 52105168, "body": "cw your second parameter (path). Let&#39;s see what you&#39;re setting the path as"}, {"owner": {"reputation": 39, "user_id": 5241493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10152944168701338/picture?type=large", "display_name": "Code", "link": "https://stackoverflow.com/users/5241493/code"}, "reply_to_user": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "edited": false, "score": 0, "creation_date": 1440017253, "post_id": 32105280, "comment_id": 52105277, "body": "sorry i dont know what that means, right now the path is to my documents but i want it to my documents/ i. whenever i try fix it i get errors"}, {"owner": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "reply_to_user": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "edited": false, "score": 0, "creation_date": 1440017305, "post_id": 32105280, "comment_id": 52105310, "body": "@FirebladeDan -- yeah, I agree -- your comment makes no sense."}, {"owner": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "edited": false, "score": 0, "creation_date": 1440017317, "post_id": 32105280, "comment_id": 52105313, "body": "What I mean is print out the System.IO.Path... so you can see where it is moving it. it should read C:\\documents\\filename. I have a feeling its breaking on the combine maybe losing the backslash"}, {"owner": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "reply_to_user": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "edited": false, "score": 0, "creation_date": 1440017371, "post_id": 32105280, "comment_id": 52105341, "body": "@roryap - type cw then hit tab tab on your keyboard in vs. shortcut chief: cw +tab +tab = Console.Writeline()"}, {"owner": {"reputation": 39, "user_id": 5241493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10152944168701338/picture?type=large", "display_name": "Code", "link": "https://stackoverflow.com/users/5241493/code"}, "edited": false, "score": 0, "creation_date": 1440017430, "post_id": 32105280, "comment_id": 52105374, "body": "i can never run it to see the path. if i try make a variable as the correct path and use it, it will just give me errors"}, {"owner": {"reputation": 9572, "user_id": 2305826, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xRwWw.png?s=128&g=1", "display_name": "MarsAtomic", "link": "https://stackoverflow.com/users/2305826/marsatomic"}, "edited": false, "score": 0, "creation_date": 1440018550, "post_id": 32105280, "comment_id": 52105915, "body": "What does &quot;special folder&quot; mean? What&#39;s special about that folder, or is it just unfortunate phrasing?"}, {"owner": {"reputation": 39, "user_id": 5241493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10152944168701338/picture?type=large", "display_name": "Code", "link": "https://stackoverflow.com/users/5241493/code"}, "edited": false, "score": 0, "creation_date": 1440018700, "post_id": 32105280, "comment_id": 52105980, "body": "special folder is used to refer to windows folders such as my documents or my pictures without having to write out the whole path which might not work on different os or other peoples computers"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 5241493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10152944168701338/picture?type=large", "display_name": "Code", "link": "https://stackoverflow.com/users/5241493/code"}, "edited": false, "score": 0, "creation_date": 1440017197, "post_id": 32105336, "comment_id": 52105235, "body": "tried that, it says &quot;no overload for method ocmbine takes 3 arguments&quot;"}, {"owner": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "reply_to_user": {"reputation": 39, "user_id": 5241493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10152944168701338/picture?type=large", "display_name": "Code", "link": "https://stackoverflow.com/users/5241493/code"}, "edited": false, "score": 0, "creation_date": 1440017248, "post_id": 32105336, "comment_id": 52105275, "body": "What version of .NET?  If you&#39;re using 2.0, you&#39;re out of luck.  Anything later than that, it should work.  If you&#39;re using 2.0, you should definitely upgrade; it&#39;s seriously out of date."}, {"owner": {"reputation": 39, "user_id": 5241493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10152944168701338/picture?type=large", "display_name": "Code", "link": "https://stackoverflow.com/users/5241493/code"}, "edited": false, "score": 0, "creation_date": 1440017460, "post_id": 32105336, "comment_id": 52105392, "body": "im using 3.5 only because i want it to run on winxp."}], "tags": [], "owner": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "is_accepted": false, "score": 0, "last_activity_date": 1440017086, "creation_date": 1440017086, "answer_id": 32105336, "question_id": 32105280, "link": "https://stackoverflow.com/questions/32105280/move-a-file-to-another-directory-folder-within-a-special-folder-c/32105336#32105336", "title": "Move a file to another directory (folder within a special folder) C#", "body": "<p>Would this work?  If you want to have a folder named \"i\" beneath the current folder (e.g. your documents), just add it to the call to <code>Path.Combine()</code>.</p>\n\n<pre><code>File.Move(filename, System.IO.Path.Combine(\n    System.Environment.GetFolderPath(\n    Environment.SpecialFolder.MyDocuments), \"i\", info.Name));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 5241493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10152944168701338/picture?type=large", "display_name": "Code", "link": "https://stackoverflow.com/users/5241493/code"}, "edited": false, "score": 0, "creation_date": 1440017838, "post_id": 32105466, "comment_id": 52105567, "body": "oh now i see what you mean, but when i put that in and run it, the output box doesnt show anything. i also tried a messagebox and the same thing happens. i think its because its in a for loop"}, {"owner": {"reputation": 39, "user_id": 5241493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10152944168701338/picture?type=large", "display_name": "Code", "link": "https://stackoverflow.com/users/5241493/code"}, "edited": false, "score": 0, "creation_date": 1440018220, "post_id": 32105466, "comment_id": 52105767, "body": "i got it, it shows this C:\\Users\\William\\Documents\\IMG_1255.jpg"}], "tags": [], "owner": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "is_accepted": false, "score": 0, "last_activity_date": 1440017503, "creation_date": 1440017503, "answer_id": 32105466, "question_id": 32105280, "link": "https://stackoverflow.com/questions/32105280/move-a-file-to-another-directory-folder-within-a-special-folder-c/32105466#32105466", "title": "Move a file to another directory (folder within a special folder) C#", "body": "<pre><code>Console.WriteLine(System.IO.Path.Combine\n(System.Environment.GetFolderPath(Environment.SpecialFolder.MyDocuments),info.Name)));\n</code></pre>\n\n<p>What does this show?</p>\n"}], "owner": {"reputation": 39, "user_id": 5241493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10152944168701338/picture?type=large", "display_name": "Code", "link": "https://stackoverflow.com/users/5241493/code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1516119944, "creation_date": 1440016859, "last_edit_date": 1516119944, "question_id": 32105280, "link": "https://stackoverflow.com/questions/32105280/move-a-file-to-another-directory-folder-within-a-special-folder-c", "title": "Move a file to another directory (folder within a special folder) C#", "body": "<p>I am trying to move a file but I can only get it working when its to a special folder and not a folder within a special folder. </p>\n\n<p>In case I would like to move it to a folder call \"i\" located within my documents:</p>\n\n<pre><code>foreach (string filename in Directory.GetFiles(MainPath))\n        {\n\n            var info = new FileInfo(filename);\n            if (info.Length &lt; 1000000)\n            {\n                File.Move(filename, System.IO.Path.Combine(System.Environment.GetFolderPath(Environment.SpecialFolder.MyDocuments),info.Name));\n            }\n        }\n</code></pre>\n"}, {"tags": ["javascript", "c#", "jquery", "asp.net", "ajax"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1440016971, "post_id": 32105279, "comment_id": 52105115, "body": "What do you see in the Network tab?"}, {"owner": {"reputation": 1962, "user_id": 1529498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aa085c22959e3ea8530a53a28c6bf96?s=128&d=identicon&r=PG", "display_name": "bumpy", "link": "https://stackoverflow.com/users/1529498/bumpy"}, "edited": false, "score": 0, "creation_date": 1440016996, "post_id": 32105279, "comment_id": 52105126, "body": "Can you post to getModalInfo action code?"}, {"owner": {"reputation": 513, "user_id": 4797962, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ebedeae10f745b3689c0bb385ab914e4?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/4797962/justin"}, "edited": false, "score": 0, "creation_date": 1440017086, "post_id": 32105279, "comment_id": 52105175, "body": "The function is too large and contextually irrelevant to post all of it, but I&#39;ll add some code as to what getModalInfo() is returning."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1440017861, "post_id": 32105279, "comment_id": 52105578, "body": "Default Json() Sucks, espicially if you have dictionaries you try using newsoft json"}, {"owner": {"reputation": 513, "user_id": 4797962, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ebedeae10f745b3689c0bb385ab914e4?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/4797962/justin"}, "edited": false, "score": 0, "creation_date": 1440018803, "post_id": 32105279, "comment_id": 52106032, "body": "The problem is that&#39;s the same way I&#39;m returning data to other Ajax calls, using Json()."}, {"owner": {"reputation": 2778, "user_id": 4827151, "user_type": "registered", "accept_rate": 53, "profile_image": "https://lh6.googleusercontent.com/-5co1tbFK6P8/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucl1vK3QTTBU02raJKAU9cGndP9dxQ/photo.jpg?sz=128", "display_name": "DarkMakukudo", "link": "https://stackoverflow.com/users/4827151/darkmakukudo"}, "edited": false, "score": 0, "creation_date": 1440035503, "post_id": 32105279, "comment_id": 52110781, "body": "when im using ajax in the data property, my syntax is like this  <code>data: {&#39;machine&#39;: machine},</code>"}, {"owner": {"reputation": 513, "user_id": 4797962, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ebedeae10f745b3689c0bb385ab914e4?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/4797962/justin"}, "edited": false, "score": 0, "creation_date": 1440073370, "post_id": 32105279, "comment_id": 52128642, "body": "There&#39;s no concern really with the Ajax call as like I said the C# side is doing everything just fine, and the Ajax call is identical to the other ones I&#39;m using that are working properly."}], "answers": [{"tags": [], "owner": {"reputation": 1256, "user_id": 939080, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5b5ee51a4b7d3587555915255fb5ee7c?s=128&d=identicon&r=PG", "display_name": "Chris Disley", "link": "https://stackoverflow.com/users/939080/chris-disley"}, "is_accepted": false, "score": 0, "last_activity_date": 1440017065, "creation_date": 1440017065, "answer_id": 32105331, "question_id": 32105279, "link": "https://stackoverflow.com/questions/32105279/ajax-call-returning-empty-response-despite-code-behind-returning-correct-data/32105331#32105331", "title": "Ajax call returning empty response despite code behind returning correct data", "body": "<p>I've seen this in the past when the client-side fails to parse the JSON coming back from the server due to syntax errors, additional text in the response (e.g. HTML tags etc.).  Best bet is to use something like Fiddler (<a href=\"http://www.telerik.com/fiddler\" rel=\"nofollow\">http://www.telerik.com/fiddler</a>) or similar proxy to see exactly what's coming back in the response (not just what you're returning from the C# side as there may be additional filters, modules etc. affecting the output after it leaves your server-side method).</p>\n"}, {"tags": [], "owner": {"reputation": 513, "user_id": 4797962, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ebedeae10f745b3689c0bb385ab914e4?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/4797962/justin"}, "is_accepted": true, "score": 0, "last_activity_date": 1440077021, "creation_date": 1440077021, "answer_id": 32119479, "question_id": 32105279, "link": "https://stackoverflow.com/questions/32105279/ajax-call-returning-empty-response-despite-code-behind-returning-correct-data/32119479#32119479", "title": "Ajax call returning empty response despite code behind returning correct data", "body": "<p>The 5 different classes I'm using to create the final object I'm passing back to Ajax have getters and setters, one of the classes had their getters/setters marked like:</p>\n\n<pre><code>internal List&lt;PartsMade&gt; PList {\n        get { return pList; }\n        set { pList = value; }\n    }\n</code></pre>\n\n<p>and should have been marked:</p>\n\n<pre><code>public List&lt;PartsMade&gt; PList {\n        get { return pList; }\n        set { pList = value; }\n    }\n</code></pre>\n\n<p>This was causing the Json serializers in C# to be incapable of accessing the classes through their getters.</p>\n\n<p>The output was correct after changing the getter's access modifier to public.</p>\n"}], "owner": {"reputation": 513, "user_id": 4797962, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ebedeae10f745b3689c0bb385ab914e4?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/4797962/justin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1118, "favorite_count": 0, "accepted_answer_id": 32119479, "answer_count": 2, "score": 2, "last_activity_date": 1440077021, "creation_date": 1440016855, "last_edit_date": 1440020469, "question_id": 32105279, "link": "https://stackoverflow.com/questions/32105279/ajax-call-returning-empty-response-despite-code-behind-returning-correct-data", "title": "Ajax call returning empty response despite code behind returning correct data", "body": "<p>I'm doing something like:</p>\n\n<pre><code> $.ajax({\n    type: 'POST',\n    dataType: 'json',\n    contentType: 'application/json',\n    url: '/Modal/getModalInfo',\n    data: '{\"machine\":\"' + machine + '\"}',\n    success: function (response) {\n        modalData = response;\n        fillModal();\n    }\n});\n</code></pre>\n\n<p>If I debug the C# and check the response being sent back to the JS, the data looks completely correct.</p>\n\n<p>The reponse in the Ajax call is just:</p>\n\n<pre><code>response = Object {}\n</code></pre>\n\n<p>and completely empty. I am doing several other Ajax calls in the exact same way that are executing correctly.</p>\n\n<p>Edit:</p>\n\n<p>As far as what the C# is returning to Ajax:</p>\n\n<pre><code>        try {\n            return Json(allInfo, JsonRequestBehavior.AllowGet);\n        }\n        catch (Exception ex) {\n            return new JsonResult();\n        }\n</code></pre>\n\n<p>\"allinfo\" looks like:</p>\n\n<pre><code>    AllTheInfo allInfo = new AllTheInfo();\n\n\n    class AllTheInfo {\n    List&lt;DownTimes&gt; dList;\n\n    internal List&lt;DownTimes&gt; DList {\n        get { return dList; }\n        set { dList = value; }\n    }\n    List&lt;PartsMade&gt; pList;\n\n    internal List&lt;PartsMade&gt; PList {\n        get { return pList; }\n        set { pList = value; }\n    }\n\n    PartsTotals pTotal;\n\n    internal PartsTotals PTotal {\n        get { return pTotal; }\n        set { pTotal = value; }\n    }\n}\n</code></pre>\n\n<p>The classes that are referenced inside that class are other custom classes I've made.</p>\n\n<p>Edit: I also modified my Ajax call to catch errors and it doesn't seem to think there are any errors, again, just an empty success response.</p>\n\n<p>Edit again: I've now attempted to convert the object I'm returning to a Json string within C# using the following:</p>\n\n<pre><code>        string jsontext = \"\";\n        try {\n            jsontext = JsonConvert.SerializeObject(allInfo);\n\n            System.IO.File.WriteAllText(path, jsontext);\n        }\n        catch (Exception ex) {\n            Console.WriteLine(ex.Message);\n        }\n</code></pre>\n\n<p>The problem now is that the call to JsonConvert is completing successfully (no error being caught) but the string is equal to \"{}\" </p>\n\n<p>I'm not sure why this would be interpreted as successful.</p>\n"}, {"tags": ["c#", "dapper", "npgsql"], "comments": [{"owner": {"reputation": 11446, "user_id": 640325, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/018fc595a3e6b1ac5c18cb27e73a066d?s=128&d=identicon&r=PG", "display_name": "Shay Rojansky", "link": "https://stackoverflow.com/users/640325/shay-rojansky"}, "edited": false, "score": 0, "creation_date": 1440683451, "post_id": 32105274, "comment_id": 52382974, "body": "can you mark the question as answered?"}, {"owner": {"reputation": 3828, "user_id": 960115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oZ1UM.gif?s=128&g=1", "display_name": "Jeff G", "link": "https://stackoverflow.com/users/960115/jeff-g"}, "reply_to_user": {"reputation": 11446, "user_id": 640325, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/018fc595a3e6b1ac5c18cb27e73a066d?s=128&d=identicon&r=PG", "display_name": "Shay Rojansky", "link": "https://stackoverflow.com/users/640325/shay-rojansky"}, "edited": false, "score": 0, "creation_date": 1440689656, "post_id": 32105274, "comment_id": 52387543, "body": "I marked it as answered yesterday.  Is it not showing up as such?"}], "answers": [{"comments": [{"owner": {"reputation": 3828, "user_id": 960115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oZ1UM.gif?s=128&g=1", "display_name": "Jeff G", "link": "https://stackoverflow.com/users/960115/jeff-g"}, "edited": false, "score": 0, "creation_date": 1440516319, "post_id": 32131488, "comment_id": 52300062, "body": "DynamicParameters does not offer such a method, but I found out that I can get the NpgsqlParameter being passed to Npgsql by creating my own custom handler in Dapper.  This allows me to intercept and modify the parameter passed to Npgsql in the way you described."}], "tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": false, "score": 0, "last_activity_date": 1440124331, "creation_date": 1440124331, "answer_id": 32131488, "question_id": 32105274, "link": "https://stackoverflow.com/questions/32105274/dapper-ipaddress-physicaladdress-enum-parameter-support-over-npgsql-v3/32131488#32131488", "title": "Dapper IPAddress/PhysicalAddress/Enum Parameter Support Over Npgsql v3", "body": "<p>I have to admit, I'm not familiar with the DynamicParameters class...  using the native NpgSql libraries, however, I think you can accomplish the basic task you have listed above.</p>\n\n<p>This is an explicit parameter declaration:</p>\n\n<pre><code>List&lt;foo&gt; foos = new List&lt;AdLookup.foo&gt;();\n\nNpgsqlConnection conn = new NpgsqlConnection(ConnectionString);\nconn.Open();\n\nNpgsqlCommand cmd = new NpgsqlCommand(\n    \"select * from foo where macaddress = :macAddress\", conn);\ncmd.Parameters.Add(\"macAddress\", NpgsqlTypes.NpgsqlDbType.MacAddr);\ncmd.Parameters[0].Value = PhysicalAddress.Parse(\"FF-FF-FF-FF-FF-FF\");\n\nNpgsqlDataReader reader = cmd.ExecuteReader();\n\nwhile (reader.Read())\n{\n    foo f = new foo();\n    f.ipaddress = (IPAddress)reader.GetValue(0);\n    f.macaddress = (PhysicalAddress)reader.GetValue(1);\n    foos.Add(f);\n}\n\nreader.Close();\nconn.Close();\n</code></pre>\n\n<p>When you created your parameter, you were using the value of the parameter as your second argument.  Again, I'm not familiar with the <code>DynamicParameter</code> class, but in the NpgSqlParameter class, you would accomplish this with the <code>AddWithValue</code> method:</p>\n\n<pre><code>cmd.Parameters.AddWithValue(\"macAddress\", PhysicalAddress.Parse(\"FF-FF-FF-FF-FF-FF\"));\n</code></pre>\n\n<p>This could replace the <code>cmd.Parameters.Add</code> and <code>cmd.Parameters[0]</code> lines above.</p>\n\n<p>Again, I have no idea if this helps or not...  but I did want to address one way to send a parameter to a query.</p>\n\n<p>If <code>DynamicParameters</code> supports <code>AddWithValue</code>, your solution may be as simple as that.</p>\n"}, {"comments": [{"owner": {"reputation": 3828, "user_id": 960115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oZ1UM.gif?s=128&g=1", "display_name": "Jeff G", "link": "https://stackoverflow.com/users/960115/jeff-g"}, "edited": false, "score": 0, "creation_date": 1440467186, "post_id": 32166530, "comment_id": 52273757, "body": "Alright, so it sounds like the <code>IPAddress</code> and <code>PhysicalAddress</code> issue is one caused by going through Dapper.  Adding a <code>SqlMapper.TypeHandler&lt;T&gt;</code> for each of those types that simply sets the <code>NpgsqlDbType</code> value to <i>Inet</i> and <i>MacAddr</i>, respectively, resolved that issue.  However, I am still unable to use enumerated types as query parameters in v3.0.1 when I implement a Dapper type handler that sets the NpgsqlDbType to <i>Enum</i>.  Do you have a test that illustrates passing enumerated parameters to an Npgsql query?"}, {"owner": {"reputation": 3828, "user_id": 960115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oZ1UM.gif?s=128&g=1", "display_name": "Jeff G", "link": "https://stackoverflow.com/users/960115/jeff-g"}, "edited": false, "score": 0, "creation_date": 1440468462, "post_id": 32166530, "comment_id": 52274072, "body": "So I looked at your tests <a href=\"https://github.com/npgsql/npgsql/blob/develop/test/Npgsql.Tests/Types/EnumTests.cs\" rel=\"nofollow noreferrer\">here</a>, which appear to include a compile-time error since there is no <code>NpgsqlParameter.SpecificType</code> property.  When I set <code>parameter.EnumType = typeof(MyEnumType)</code>, and <code>parameter.NpgsqlDbType = NpgsqlDbType.Enum</code>, I am still getting the exception &quot;<i>42804: column &quot;SomeColumn&quot; is of type &quot;MyEnumType&quot; but expression is of type integer</i>&quot;."}, {"owner": {"reputation": 3828, "user_id": 960115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oZ1UM.gif?s=128&g=1", "display_name": "Jeff G", "link": "https://stackoverflow.com/users/960115/jeff-g"}, "edited": false, "score": 0, "creation_date": 1440469634, "post_id": 32166530, "comment_id": 52274335, "body": "I am unable to add a Dapper handler for an enumerated type, per <a href=\"https://github.com/StackExchange/dapper-dot-net/issues/259\" rel=\"nofollow noreferrer\">issue #259</a>.  Therefore, my previous comment may be incorrect, as setting both the <i>NpgsqlDbType</i> and <i>EnumType</i> properties on the parameter may in fact work.  However, <b>there is no way to currently do this through Dapper</b>, since enum handlers are completely ignored.  For now, the only solution I could come up with is to simply pass enum values to the database as text, and cast them to the appropriate type in the query."}, {"owner": {"reputation": 11446, "user_id": 640325, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/018fc595a3e6b1ac5c18cb27e73a066d?s=128&d=identicon&r=PG", "display_name": "Shay Rojansky", "link": "https://stackoverflow.com/users/640325/shay-rojansky"}, "reply_to_user": {"reputation": 3828, "user_id": 960115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oZ1UM.gif?s=128&g=1", "display_name": "Jeff G", "link": "https://stackoverflow.com/users/960115/jeff-g"}, "edited": false, "score": 0, "creation_date": 1440493443, "post_id": 32166530, "comment_id": 52284051, "body": "@JeffG, <code>NpgsqlParameter.SpecificType</code> is a new property in our develop branch, which is Npgsql 3.1. Npgsql 3.0 uses <code>EnumType</code> as you&#39;ve found out yourself. The tests for the latest 3.0 release (currently 3.0.1) can be seen at <a href=\"https://github.com/npgsql/npgsql/blob/master/test/Npgsql.Tests/Types/EnumTests.cs\" rel=\"nofollow noreferrer\">github.com/npgsql/npgsql/blob/master/test/Npgsql.Tests/Types&zwnj;&#8203;/&hellip;</a>."}, {"owner": {"reputation": 11446, "user_id": 640325, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/018fc595a3e6b1ac5c18cb27e73a066d?s=128&d=identicon&r=PG", "display_name": "Shay Rojansky", "link": "https://stackoverflow.com/users/640325/shay-rojansky"}, "reply_to_user": {"reputation": 3828, "user_id": 960115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oZ1UM.gif?s=128&g=1", "display_name": "Jeff G", "link": "https://stackoverflow.com/users/960115/jeff-g"}, "edited": false, "score": 0, "creation_date": 1440493627, "post_id": 32166530, "comment_id": 52284204, "body": "@JeffG, regarding the specific enum issue... You&#39;re not absolutely required to set the <code>EnumType</code> property on the parameter. If you&#39;ve properly registered your enum with Npgsql (via <code>RegisterEnumGlobally</code>) it&#39;s usually enough to just set the parameter&#39;s Value to the enum instance without touching either <code>NpgsqlDbType</code> or <code>EnumType</code>. Can you give this approach a try and report back here?"}, {"owner": {"reputation": 3828, "user_id": 960115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oZ1UM.gif?s=128&g=1", "display_name": "Jeff G", "link": "https://stackoverflow.com/users/960115/jeff-g"}, "edited": false, "score": 0, "creation_date": 1440515931, "post_id": 32166530, "comment_id": 52299789, "body": "Shay, can you confirm that the query &quot;SELECT &#39;Sad&#39;::MOOD = :p1&quot; works after calling <code>RegisterEnumGlobally</code>? When I try the above through Dapper (With <i>p1</i> of enumerated type Mood), I get the aforementioned exception about <i>p1</i> being an integer. It could be that Dapper is casting my enumerated type to int before sending it to Npgsql, or Npgsql doesn&#39;t gracefully handle the case where <code>parameter.DbType = DbType.Object</code> and <code>parameter.Value = Mood.Sad</code>. For now, I think I am just going to accept the fact that I have to send enums as strings, but hopefully this gets resolved in the near future."}, {"owner": {"reputation": 11446, "user_id": 640325, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/018fc595a3e6b1ac5c18cb27e73a066d?s=128&d=identicon&r=PG", "display_name": "Shay Rojansky", "link": "https://stackoverflow.com/users/640325/shay-rojansky"}, "reply_to_user": {"reputation": 3828, "user_id": 960115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oZ1UM.gif?s=128&g=1", "display_name": "Jeff G", "link": "https://stackoverflow.com/users/960115/jeff-g"}, "edited": false, "score": 1, "creation_date": 1440531321, "post_id": 32166530, "comment_id": 52308939, "body": "@JeffG, using Npgsql only (no Dapper) that query works as expected when simply setting the parameter.Value = Mood.Sad (no NpgsqlDbType, no EnumType being set). You&#39;re welcome to try it out based on EnumTests.GlobalRegistration. If this isn&#39;t working for you I guess it must be a Dapper issue..."}, {"owner": {"reputation": 3828, "user_id": 960115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oZ1UM.gif?s=128&g=1", "display_name": "Jeff G", "link": "https://stackoverflow.com/users/960115/jeff-g"}, "edited": false, "score": 0, "creation_date": 1440541188, "post_id": 32166530, "comment_id": 52313735, "body": "I have confirmed the same: bypassing Dapper works without specifying an <code>NpgsqlDbType</code>.  Dapper is converting enumerated parameters to integers before ever sending them to Npgsql."}, {"owner": {"reputation": 11446, "user_id": 640325, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/018fc595a3e6b1ac5c18cb27e73a066d?s=128&d=identicon&r=PG", "display_name": "Shay Rojansky", "link": "https://stackoverflow.com/users/640325/shay-rojansky"}, "reply_to_user": {"reputation": 3828, "user_id": 960115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oZ1UM.gif?s=128&g=1", "display_name": "Jeff G", "link": "https://stackoverflow.com/users/960115/jeff-g"}, "edited": false, "score": 0, "creation_date": 1440573462, "post_id": 32166530, "comment_id": 52323487, "body": "OK, good to know. I&#39;ll also follow dapper&#39;s issue #259 to see the status on this."}, {"owner": {"reputation": 3828, "user_id": 960115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oZ1UM.gif?s=128&g=1", "display_name": "Jeff G", "link": "https://stackoverflow.com/users/960115/jeff-g"}, "edited": false, "score": 0, "creation_date": 1440782826, "post_id": 32166530, "comment_id": 52431956, "body": "I also opened <a href=\"https://github.com/StackExchange/dapper-dot-net/issues/332\" rel=\"nofollow noreferrer\">Dapper issue #332</a>, requesting that a global setting be added that enables passing enumerated types directly to the underlying data provider.  This would still be a cleaner solution than having to add a type handler for each enumerated type (once issues <a href=\"https://github.com/StackExchange/dapper-dot-net/issues/259\" rel=\"nofollow noreferrer\">#259</a>/<a href=\"https://github.com/StackExchange/dapper-dot-net/issues/286\" rel=\"nofollow noreferrer\">#286</a> are resolved)."}], "tags": [], "owner": {"reputation": 11446, "user_id": 640325, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/018fc595a3e6b1ac5c18cb27e73a066d?s=128&d=identicon&r=PG", "display_name": "Shay Rojansky", "link": "https://stackoverflow.com/users/640325/shay-rojansky"}, "is_accepted": false, "score": 1, "last_activity_date": 1440332118, "creation_date": 1440332118, "answer_id": 32166530, "question_id": 32105274, "link": "https://stackoverflow.com/questions/32105274/dapper-ipaddress-physicaladdress-enum-parameter-support-over-npgsql-v3/32166530#32166530", "title": "Dapper IPAddress/PhysicalAddress/Enum Parameter Support Over Npgsql v3", "body": "<p>Npgsql 3.0's behavior is a bit different from previous versions when it comes to parameter handling, and in many cases it is somewhat stricter. In your examples above it's important to distinguish between Dapper-related issues (which have nothing to do with Npgsql) and Npgsql issues.</p>\n\n<p>In a nutshell, Npgsql can convert PhysicalAddress instances to the PostgreSQL binary representation of macaddr and vice versa. Unlike previous versions, it will no longer accept textual representations transparently, it's up to you to parse them and provide a PhysicalAddress instance.</p>\n\n<pre><code>var query = \"SELECT * FROM foo WHERE macaddress = :macAddress\";\nvar queryParams = new DynamicParameters();\nqueryParams.Add(\"macAddress\", PhysicalAddress.Parse(\"FF-FF-FF-FF-FF-FF\"));\nIDbConnection connection = new NpgsqlConnection(connectionString);\nvar foos = connection.Query&lt;foo&gt;(query, queryParams);\n</code></pre>\n\n<p>The problem here is probably Dapper not being aware of the PhysicalAddress type. Check out <a href=\"https://github.com/npgsql/npgsql/issues/694\" rel=\"nofollow\">this issue</a> we had with 3.0.0 where a Dapper type handler for jsonb is included, you'll have to do the same with PhysicalAddress.</p>\n\n<pre><code>// Code that tries to load a specific row from \"foo\"\n// The only change from above is the \"ToString()\" method called on PhysicalAddress\nvar query = \"SELECT * FROM foo WHERE macaddress = :macAddress\";\nvar queryParams = new DynamicParameters();\nqueryParams.Add(\"macAddress\", PhysicalAddress.Parse(\"FF-FF-FF-FF-FF-FF\").ToString());\nIDbConnection connection = new NpgsqlConnection(connectionString);\nvar foos = connection.Query&lt;foo&gt;(query, queryParams);\n</code></pre>\n\n<p>The problem here is that you're providing a string where a PhysicalAddress is expected, this is why PostgreSQL complains about you comparing a macaddr type to a text type.</p>\n\n<p>Regarding enums, Npgsql 3.0.0 includes support for writing and reading enums directly without going through the string representation. However, you do need to let Npgsql know about your enum type in advance, by calling NpgsqlConnection.RegisterEnumGlobally(\"pg_enum_type_name\") in advance. Unfortunately I haven't gotten around to documenting the new enum support yet, this will happen soon.</p>\n"}, {"tags": [], "owner": {"reputation": 3828, "user_id": 960115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oZ1UM.gif?s=128&g=1", "display_name": "Jeff G", "link": "https://stackoverflow.com/users/960115/jeff-g"}, "is_accepted": true, "score": 3, "last_activity_date": 1440544367, "last_edit_date": 1440544367, "creation_date": 1440517743, "answer_id": 32208484, "question_id": 32105274, "link": "https://stackoverflow.com/questions/32105274/dapper-ipaddress-physicaladdress-enum-parameter-support-over-npgsql-v3/32208484#32208484", "title": "Dapper IPAddress/PhysicalAddress/Enum Parameter Support Over Npgsql v3", "body": "<p>Thanks to the help from Hambone and Shay, I figured out a way to resolve this for <code>IPAddress</code> and <code>PhysicalAddress</code> types.  The issue is that <code>inet</code> and <code>macaddr</code> are Postgres-specific, and Dapper appears to be provider agnostic.  Therefore, the solution is to add a custom handler that sets the appropriate NpgsqlDbType prior to forwarding these parameter types to Npgsql.  The custom handler can be coded as:</p>\n\n<pre><code>using System;\nusing System.Data;\nusing Dapper;\nusing Npgsql;\nusing NpgsqlTypes;\n\nnamespace MyNamespace\n{\n    internal class PassThroughHandler&lt;T&gt; : SqlMapper.TypeHandler&lt;T&gt;\n    {\n\n        #region Fields\n\n        /// &lt;summary&gt;Npgsql database type being handled&lt;/summary&gt;\n        private readonly NpgsqlDbType _dbType;\n\n        #endregion\n\n        #region Constructors\n\n        /// &lt;summary&gt;Constructor&lt;/summary&gt;\n        /// &lt;param name=\"dbType\"&gt;Npgsql database type being handled&lt;/param&gt;\n        public PassThroughHandler(NpgsqlDbType dbType)\n        {\n            _dbType = dbType;\n        }\n\n        #endregion\n\n        #region Methods\n\n        public override void SetValue(IDbDataParameter parameter, T value)\n        {\n            parameter.Value = value;\n            parameter.DbType = DbType.Object;\n            var npgsqlParam = parameter as NpgsqlParameter;\n            if (npgsqlParam != null)\n            {\n                npgsqlParam.NpgsqlDbType = _dbType;\n            }\n        }\n\n        public override T Parse(object value)\n        {\n            if (value == null || value == DBNull.Value)\n            {\n                return default(T);\n            }\n            if (!(value is T))\n            {\n                throw new ArgumentException(string.Format(\n                    \"Unable to convert {0} to {1}\",\n                    value.GetType().FullName, typeof(T).FullName), \"value\");\n            }\n            var result = (T)value;\n            return result;\n        }\n\n        #endregion\n\n    }\n}\n</code></pre>\n\n<p>Then, in the static constructor of my data access layer (DAL) class, I simply add the lines:</p>\n\n<pre><code>var ipAddressHandler  =\n    new PassThroughHandler&lt;IPAddress&gt;(NpgsqlDbType.Inet);\nvar macAddressHandler =\n    new PassThroughHandler&lt;PhysicalAddress&gt;(NpgsqlDbType.MacAddr);\nSqlMapper.AddTypeHandler(ipAddressHandler);\nSqlMapper.AddTypeHandler(macAddressHandler);\n</code></pre>\n\n<p>Now I can send <code>PhysicalAddress</code> and <code>IPAddress</code> parameters through Dapper, without the need to stringify them.</p>\n\n<p>Enums, however, present another challenge since Dapper 1.42 doesn't support adding custom enum handlers (See Dapper issues <a href=\"https://github.com/StackExchange/dapper-dot-net/issues/259\" rel=\"nofollow\">#259</a>/<a href=\"https://github.com/StackExchange/dapper-dot-net/issues/286\" rel=\"nofollow\">#286</a>).  Even more unfortunate, is that Dapper by default sends enumerated values as integers to the underlying implementation. Therefore, <strong>it is currently impossible to send enumerated values to Npgsql without converting them to strings when using Dapper 1.42 (or earlier)</strong>.  I have contacted Marc Gravell about this issue, and hope to get some sort of resolution in the near future.  Until that time, the resolution is either:</p>\n\n<blockquote>\n  <p>1) Use Npgsql directly, bypassing Dapper<br>\n  2) Send all enum values as text, and cast to the appropriate type in the query</p>\n</blockquote>\n\n<p>I personally opted to continue with option #2.</p>\n\n<p><hr>\nBEGIN EDIT</p>\n\n<p>After looking through the Dapper source code, I realized there is a third option to make this work.  While it is not possible to create a custom handler for each enumerated type, it is possible to wrap an enumerated value in a <code>SqlMapper.ICustomQueryParameter</code> object.  Since the code only needs to pass the enumerated value to Npgsql, the implementation is simple:</p>\n\n<pre><code>using System;\nusing System.Data;\nusing Dapper;\n\nnamespace MyNamespace\n{\n    internal class EnumParameter : SqlMapper.ICustomQueryParameter\n    {\n\n        #region Fields\n\n        /// &lt;summary&gt;Enumerated parameter value&lt;/summary&gt;\n        private readonly Enum _val;\n\n        #endregion\n\n        #region Constructors\n\n        /// &lt;summary&gt;Constructor&lt;/summary&gt;\n        /// &lt;param name=\"val\"&gt;Enumerated parameter value&lt;/param&gt;\n        public EnumParameter(Enum val)\n        {\n            _val = val;\n        }\n\n        #endregion\n\n        #region Methods\n\n        public void AddParameter(IDbCommand command, string name)\n        {\n            var param = command.CreateParameter();\n            param.ParameterName = name;\n            param.DbType = DbType.Object;\n            param.Value = _val;\n            command.Parameters.Add(param);\n        }\n\n        #endregion\n\n    }\n}\n</code></pre>\n\n<p>My code was already set up such that each parameter is added to a <code>Dictionary&lt;string, object&gt;</code>, then converted to a <code>DynamicParameters</code> object in a single code path.  Because of this, I was able to add the following check to the loop that converts from one to the other:</p>\n\n<pre><code>var queryParams = new DynamicParameters();\nforeach (var kvp in paramDict)\n{\n    var enumParam = kvp.Value as Enum;\n    if (enumParam == null)\n    {\n        queryParams.Add(kvp.key, kvp.Value);\n    }\n    else\n    {\n        queryParams.Add(kvp.key, new EnumParameter(enumParam));\n    }\n}\n</code></pre>\n\n<p>By doing this, the enumerated values are passed to Npgsql without being converted to their numeric equivalent (and thus, without losing associated type information). This entire process still seems incredibly convoluted, but at least <strong>there is a way to pass enumerated value parameters through Dapper using the Npgsql v3 binary forms</strong>.</p>\n"}], "owner": {"reputation": 3828, "user_id": 960115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oZ1UM.gif?s=128&g=1", "display_name": "Jeff G", "link": "https://stackoverflow.com/users/960115/jeff-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1476, "favorite_count": 2, "accepted_answer_id": 32208484, "answer_count": 3, "score": 3, "last_activity_date": 1440545190, "creation_date": 1440016845, "last_edit_date": 1440545190, "question_id": 32105274, "link": "https://stackoverflow.com/questions/32105274/dapper-ipaddress-physicaladdress-enum-parameter-support-over-npgsql-v3", "title": "Dapper IPAddress/PhysicalAddress/Enum Parameter Support Over Npgsql v3", "body": "<p>Npgsql supports parsing <code>System.Net.NetworkInformation.PhysicalAddress</code> and  <code>System.Net.IPAddress</code> from query result sets of type <em>macaddr</em> and <em>inet</em>, respectively.  For example, the following class can be populated using Npgsql with Dapper:</p>\n\n<pre><code>-- Postgres CREATE TABLE command\nCREATE TABLE foo (\n    ipaddress inet,\n    macaddress macaddr\n);\n</code></pre>\n\n\n\n<pre><code>// C# class for type \"foo\"\npublic class foo\n{\n    public IPAddress ipaddress { get; set; }\n    public PhysicalAddress macaddress { get; set; }\n}\n\n// Code that loads all data from table \"foo\"\nIDbConnection connection = new NpgsqlConnection(connectionString);\nvar foos = connection.Query&lt;foo&gt;(\"SELECT * FROM foo\");\n</code></pre>\n\n<p>Since Npgsql v3.0.1 sends data in binary form, I assume this means there is some binary representation for types <em>inet</em> and <em>macaddr</em>.  However, when I run the following code using the same declarations above...</p>\n\n<pre><code>// Code that tries to load a specific row from \"foo\"\nvar query = \"SELECT * FROM foo WHERE macaddress = :macAddress\";\nvar queryParams = new DynamicParameters();\nqueryParams.Add(\"macAddress\", PhysicalAddress.Parse(\"FF-FF-FF-FF-FF-FF\"));\nIDbConnection connection = new NpgsqlConnection(connectionString);\nvar foos = connection.Query&lt;foo&gt;(query, queryParams);\n</code></pre>\n\n<p>I get the exception:</p>\n\n<blockquote>\n  <p>Problem with query: SELECT * FROM foo WHERE macaddress = :macAddress<br>\n  System.NotSupportedException : The member macAddress of type System.Net.NetworkInformation.PhysicalAddress cannot be used as a parameter value</p>\n</blockquote>\n\n<p>How is it that Dapper/Npgsql knows how to parse an <code>IPAddress</code> and <code>PhysicalAddress</code> from a column of type <em>inet</em> and <em>macaddr</em>, respectively, yet I am unable to use these types as parameters?  In previous versions of Npgsql, I simply sent the <code>ToString()</code> result as the parameter value, but in Npgsql v3.0.1 the following code...</p>\n\n<pre><code>// Code that tries to load a specific row from \"foo\"\n// The only change from above is the \"ToString()\" method called on PhysicalAddress\nvar query = \"SELECT * FROM foo WHERE macaddress = :macAddress\";\nvar queryParams = new DynamicParameters();\nqueryParams.Add(\"macAddress\", PhysicalAddress.Parse(\"FF-FF-FF-FF-FF-FF\").ToString());\nIDbConnection connection = new NpgsqlConnection(connectionString);\nvar foos = connection.Query&lt;foo&gt;(query, queryParams);\n</code></pre>\n\n<p>Generates the exception:</p>\n\n<blockquote>\n  <p>Problem with query: SELECT * FROM foo WHERE macaddress = :macAddress<br>\n  Npgsql.NpgsqlException : 42883: operator does not exist: macaddr = text</p>\n</blockquote>\n\n<p>I know I could change the query to be \"SELECT * FROM foo WHERE macaddress = :macAddress::macaddr\" instead, but am wondering if there is a cleaner way to go about this?  Is there any plan to add support for these types in the near future?</p>\n\n<p>-- BEGIN EDIT --</p>\n\n<p>I just realized that the same issue is plaguing enumerated types.  If I have an enumeration parameter, I can parse it from a query result, but am unable to pass the enumeration to Postgres.  For example:</p>\n\n<pre><code>CREATE TYPE bar AS ENUM (\n    val1,\n    val2\n);\n\nCREATE TABLE log (\n    mybar bar\n);\n</code></pre>\n\n\n\n<pre><code>public enum bar\n{\n    val1,\n    val2\n}\n\npublic class log\n{\n    public bar mybar { get; set; }\n}\n\n// Code that loads all data from table \"log\"\nNpgsqlConnection.RegisterEnumGlobally&lt;bar&gt;();\nIDbConnection connection = new NpgsqlConnection(connectionString);\nvar logs = connection.Query&lt;log&gt;(\"SELECT * FROM log\");\n\n// Code that attempts to get rows from log with a specific enum\nvar query = \"SELECT * FROM log WHERE mybar = :barParam\";\nvar queryParams = new DynamicParameters();\nqueryParams.Add(\"barParam\", bar.val1);\n// The following throws an exception\nlogs = connection.Query&lt;log&gt;(query, queryParams);\n</code></pre>\n\n<p>In the above, everything works until the last line which throws the following exception:</p>\n\n<blockquote>\n  <p>42883: operator does not exist: bar = integer</p>\n</blockquote>\n\n<p>If instead, I change the query to be:</p>\n\n<pre><code>SELECT * FROM log WHERE mybar = :barParam::bar\n</code></pre>\n\n<p>Then I get the exception:</p>\n\n<blockquote>\n  <p>42846: cannot cast type integer to bar</p>\n</blockquote>\n\n<p>The only way I can get enumerated values to be passed as parameters, is to pass them as text and cast the parameter in the query, as follows:</p>\n\n<pre><code>// Code that successfully performs the query\nvar query = \"SELECT * FROM log WHERE mybar = :barParam::bar\";\nvar queryParams = new DynamicParameters();\nqueryParams.Add(\"barParam\", bar.val1.ToString());\nlogs = connection.Query&lt;log&gt;(query, queryParams);\n</code></pre>\n\n<p>Surely there is a better way to go about this.  Can anyone shed some light as to what that is?</p>\n"}, {"tags": ["c#", "excel"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1440017072, "post_id": 32105252, "comment_id": 52105167, "body": "well the link example has this 3rd to the last param set to false you have yours set to true in this line <code>currentFind = xlRange.EntireColumn.Find(&quot;MT&quot;,         misValue, Excel.XlFindLookIn.xlValues, Excel.XlLookAt.xlPart,         Excel.XlSearchOrder.xlByColumns, Excel.XlSearchDirection.xlNext,         true, misValue, misValue);</code>"}, {"owner": {"reputation": 51, "user_id": 4991087, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/493077fcd0cabd70b9f17ca343132e50?s=128&d=identicon&r=PG&f=1", "display_name": "102263", "link": "https://stackoverflow.com/users/4991087/102263"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1440017303, "post_id": 32105252, "comment_id": 52105308, "body": "That&#39;s not it, I believe that true/false is whether to match case or not.  I did try it though, and it didn&#39;t work."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1440017390, "post_id": 32105252, "comment_id": 52105351, "body": "their example has the following <code>Excel.Range Fruits = Application.get_Range(&quot;A1&quot;, &quot;B3&quot;);</code> but you&#39;re trying to find it based on the workbook also you have entire column where the example doesn&#39;t <code>xlRange.EntireColumn.Find</code>"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1440017427, "post_id": 32105252, "comment_id": 52105372, "body": "why don&#39;t you try to get it to work using the example from the link first then extend it from there if you need to do more.."}, {"owner": {"reputation": 18008, "user_id": 241605, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/01175ac61664b22485bc5b4e46169ccc?s=128&d=identicon&r=PG", "display_name": "Matthew Strawbridge", "link": "https://stackoverflow.com/users/241605/matthew-strawbridge"}, "edited": false, "score": 0, "creation_date": 1440024719, "post_id": 32105252, "comment_id": 52108272, "body": "Try making sure you use the same range for both the <code>Find</code> and the <code>FindNext</code> (i.e. define <code>xlRange</code> to include the <code>EntireColumn</code> part)."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 4426084, "user_type": "registered", "profile_image": "https://graph.facebook.com/652132131/picture?type=large", "display_name": "Matthew Esler", "link": "https://stackoverflow.com/users/4426084/matthew-esler"}, "is_accepted": false, "score": 2, "last_activity_date": 1492906711, "creation_date": 1492906711, "answer_id": 43566057, "question_id": 32105252, "link": "https://stackoverflow.com/questions/32105252/findnext-method-of-range-class-failed-c-excel/43566057#43566057", "title": "FindNext Method of Range class failed (C#, Excel)", "body": "<p>This was fairly frustrating for me, but simply changing:</p>\n\n<pre><code>Excel.Range foundCell = nameColumnToSearch.Find(nameToFind);\nExcel.Range firstResult = foundCell;\n\nwhile (foundCell != null)\n{\n    // Snip: Do some stuff\n\n    foundCell = nameColumnToSearch.FindNext(foundCell);\n\n    if (foundCell.Address == firstResult.Address)\n        foundCell = null;\n}\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>Excel.Range foundCell = nameColumnToSearch.Find(nameToFind);\nExcel.Range firstResult = foundCell;\n\nwhile (foundCell != null)\n{\n    // Snip: Do some stuff\n\n    Excel.Range foundTemp = foundCell;\n    foundCell = nameColumnToSearch.Find(foundTemp);\n\n    if (foundCell.Address == firstResult.Address)\n        foundCell = null;\n}\n</code></pre>\n\n<p>I do not know WHY... but there it is.  I hope this helps! </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11476262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef7c63180f15d0684a34c91cd7c34932?s=128&d=identicon&r=PG&f=1", "display_name": "Zain Pan", "link": "https://stackoverflow.com/users/11476262/zain-pan"}, "is_accepted": false, "score": 0, "last_activity_date": 1557413343, "creation_date": 1557413343, "answer_id": 56062086, "question_id": 32105252, "link": "https://stackoverflow.com/questions/32105252/findnext-method-of-range-class-failed-c-excel/56062086#56062086", "title": "FindNext Method of Range class failed (C#, Excel)", "body": "<p>I faced the same problem. In my case I was running a Find inside another Find statement and I fixed following the same way that Matthew Esler has done.</p>\n\n<p>Instead using FindNext, change to Find and set the After: parameter to currentFind. It worked for me. I'm still don't know why FindNext has this behavior.</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n{\n    //New Excel App\n    Excel._Application oApp = new Excel.Application();\n    oApp.Visible = true;\n\n    //Opens Workbook with MT/MU's to be counted\n    Excel.Workbook oWorkbook = oApp.Workbooks.Open(\"C:\\\\Users\\\\sfrey\\\\Desktop\\\\Test22\");\n    Excel.Worksheet oWorksheet = oWorkbook.Worksheets[\"Sheet1\"];\n\n    Excel.Range currentFind = null;\n    Excel.Range firstFind = null;\n\n\n    object misValue = System.Reflection.Missing.Value;\n\n    Excel.Range xlRange = oWorksheet.get_Range(\"A1\");\n\n\n    currentFind = xlRange.EntireColumn.Find(\"MT\", misValue, Excel.XlFindLookIn.xlValues, Excel.XlLookAt.xlPart, Excel.XlSearchOrder.xlByColumns, Excel.XlSearchDirection.xlNext, true, misValue, misValue);\n\n    while (currentFind != null) \n    {\n        // Keep track of the first range you find.  \n        if (firstFind == null)\n        {\n            firstFind = currentFind;\n        }\n\n        // If you didn't move to a new range, you are done. \n        else if (currentFind.get_Address(Excel.XlReferenceStyle.xlA1) == firstFind.get_Address(Excel.XlReferenceStyle.xlA1))\n        {\n            break;\n        }\n\n\n        string cellText = currentFind.Value.ToString();\n        MessageBox.Show(cellText);\n\n        // currentFind = xlRange.FindNext(currentFind); \n        currentFind = xlRange.EntireColumn.Find(\"MT\", currentFind, Excel.XlFindLookIn.xlValues, Excel.XlLookAt.xlPart, Excel.XlSearchOrder.xlByColumns, Excel.XlSearchDirection.xlNext, true, misValue, misValue);\n\n    }\n\n}\n</code></pre>\n\n<p>See this link too: <a href=\"https://www.pcreview.co.uk/threads/why-is-my-findnext-not-working.4026685/\" rel=\"nofollow noreferrer\">https://www.pcreview.co.uk/threads/why-is-my-findnext-not-working.4026685/</a></p>\n"}], "owner": {"reputation": 51, "user_id": 4991087, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/493077fcd0cabd70b9f17ca343132e50?s=128&d=identicon&r=PG&f=1", "display_name": "102263", "link": "https://stackoverflow.com/users/4991087/102263"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1561, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1557413343, "creation_date": 1440016739, "question_id": 32105252, "link": "https://stackoverflow.com/questions/32105252/findnext-method-of-range-class-failed-c-excel", "title": "FindNext Method of Range class failed (C#, Excel)", "body": "<p>I am searching an excel column with the following items:</p>\n\n<p>MT1325\nMT0604\nMU3509\nMT0605\nMT0606\nMU3509\nMT0607\nMT0608</p>\n\n<p>And I want the following code to output each item that begins with an MT in a message box:</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n    {\n        //New Excel App\n        Excel._Application oApp = new Excel.Application();\n        oApp.Visible = true;\n\n        //Opens Workbook with MT/MU's to be counted\n        Excel.Workbook oWorkbook = oApp.Workbooks.Open(\"C:\\\\Users\\\\sfrey\\\\Desktop\\\\Test22\");\n        Excel.Worksheet oWorksheet = oWorkbook.Worksheets[\"Sheet1\"];\n\n        Excel.Range currentFind = null;\n        Excel.Range firstFind = null;\n\n\n        object misValue = System.Reflection.Missing.Value;\n\n        Excel.Range xlRange = oWorksheet.get_Range(\"A1\");\n\n\n        currentFind = xlRange.EntireColumn.Find(\"MT\",\n        misValue, Excel.XlFindLookIn.xlValues, Excel.XlLookAt.xlPart,\n        Excel.XlSearchOrder.xlByColumns, Excel.XlSearchDirection.xlNext,\n        true, misValue, misValue);\n\n        while (currentFind != null) \n        {\n            // Keep track of the first range you find.  \n            if (firstFind == null)\n            {\n                firstFind = currentFind;\n            }\n\n            // If you didn't move to a new range, you are done. \n            else if (currentFind.get_Address(Excel.XlReferenceStyle.xlA1)\n                  == firstFind.get_Address(Excel.XlReferenceStyle.xlA1))\n            {\n                break;\n            }\n\n\n            string cellText = currentFind.Value.ToString();\n            MessageBox.Show(cellText);\n\n            currentFind = xlRange.FindNext(currentFind); \n\n        }\n\n    }\n</code></pre>\n\n<p>The last line of code gives me an error (FindNext Method of Range class failed)..I have been using this for reference (<a href=\"https://msdn.microsoft.com/en-us/library/e4x1k99a.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/e4x1k99a.aspx</a>) and don't understand what could be going wrong.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 7275, "user_id": 3329836, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fc1f21187a572afe47d95587c32ce68f?s=128&d=identicon&r=PG", "display_name": "Jamie Rees", "link": "https://stackoverflow.com/users/3329836/jamie-rees"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1440016899, "post_id": 32105247, "comment_id": 52105073, "body": "@DanielA.White what does that mean?"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1440016921, "post_id": 32105247, "comment_id": 52105086, "body": "entity framework won&#39;t load anything unless you need it."}, {"owner": {"reputation": 7275, "user_id": 3329836, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fc1f21187a572afe47d95587c32ce68f?s=128&d=identicon&r=PG", "display_name": "Jamie Rees", "link": "https://stackoverflow.com/users/3329836/jamie-rees"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1440016951, "post_id": 32105247, "comment_id": 52105098, "body": "@DanielA.White so if I wanted the whole object what would I have to do?"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1440016979, "post_id": 32105247, "comment_id": 52105118, "body": "look around on here - there are plenty of questions concerning lazy loading in entity framework."}, {"owner": {"reputation": 91, "user_id": 4691620, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205990159374776/picture?type=large", "display_name": "Brandon Seydel", "link": "https://stackoverflow.com/users/4691620/brandon-seydel"}, "edited": false, "score": 0, "creation_date": 1440017031, "post_id": 32105247, "comment_id": 52105144, "body": "Do a .Includes before the .Find. Ex .include(&quot;propertyname&quot;) or .include(x=&gt;x.EmailConfiguration)"}], "answers": [{"comments": [{"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 1, "creation_date": 1440017478, "post_id": 32105351, "comment_id": 52105400, "body": "Lazy loading will only work if the context is still open so depending on where the property is accessed it may not solve this, the OP knows he needs something he should probably use an include"}], "tags": [], "owner": {"reputation": 166, "user_id": 3797558, "user_type": "registered", "profile_image": "https://graph.facebook.com/1269379394/picture?type=large", "display_name": "Anton K", "link": "https://stackoverflow.com/users/3797558/anton-k"}, "is_accepted": true, "score": 2, "last_activity_date": 1440017144, "creation_date": 1440017144, "answer_id": 32105351, "question_id": 32105247, "link": "https://stackoverflow.com/questions/32105247/entity-framework-model-issue/32105351#32105351", "title": "Entity Framework model issue", "body": "<p>Try to set navigation properties as virtual to enable lazy loading: </p>\n\n<pre><code>public virtual List&lt;ApplicationConfiguration&gt; ApplicationConfiguration { get; set; }\n</code></pre>\n\n<p>Please refer to <a href=\"https://msdn.microsoft.com/en-us/data/jj193542.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/data/jj193542.aspx</a></p>\n\n<blockquote>\n  <p>This enables the Lazy Loading feature of Entity Framework. Lazy\n  Loading means that the contents of these properties will be\n  automatically loaded from the database when you try to access them.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 1937, "user_id": 2342406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28828fc5e6ed8f8818b9a130a2a30e7b?s=128&d=identicon&r=PG", "display_name": "CoOl", "link": "https://stackoverflow.com/users/2342406/cool"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1440017646, "post_id": 32105458, "comment_id": 52105476, "body": "The OP said he has misunderstanding regarding the model setup, so I thought it will be helpful for him to know the better way to setup models."}, {"owner": {"reputation": 1937, "user_id": 2342406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28828fc5e6ed8f8818b9a130a2a30e7b?s=128&d=identicon&r=PG", "display_name": "CoOl", "link": "https://stackoverflow.com/users/2342406/cool"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1440017914, "post_id": 32105458, "comment_id": 52105606, "body": "Also it enables lazy loading, which is what causing the values of navigation properties to be null."}], "tags": [], "owner": {"reputation": 1937, "user_id": 2342406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28828fc5e6ed8f8818b9a130a2a30e7b?s=128&d=identicon&r=PG", "display_name": "CoOl", "link": "https://stackoverflow.com/users/2342406/cool"}, "is_accepted": false, "score": 1, "last_activity_date": 1440017822, "last_edit_date": 1440017822, "creation_date": 1440017473, "answer_id": 32105458, "question_id": 32105247, "link": "https://stackoverflow.com/questions/32105247/entity-framework-model-issue/32105458#32105458", "title": "Entity Framework model issue", "body": "<p>The best way to setup your model is:</p>\n\n<pre><code>public class AdminConfiguration : Entity // Entity is an abstract class containing an ID\n{\n    public AdminConfiguration()\n    {\n        this.ApplicationConfigurations = new HashSet&lt;ApplicationConfiguration&gt;();\n        this.LinksConfigurations = new HashSet&lt;LinksConfiguration&gt;();\n    }\n    public bool Authentication { get; set; }\n    public EmailConfiguration EmailConfiguration { get; set; }\n    public bool WakeOnLan { get; set; }\n\n    // Navigation properties\n    public virtual ICollection&lt;ApplicationConfiguration&gt; ApplicationConfigurations { get; set; }\n    public virtual ICollection&lt;LinksConfiguration&gt; LinksConfigurations { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 7275, "user_id": 3329836, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fc1f21187a572afe47d95587c32ce68f?s=128&d=identicon&r=PG", "display_name": "Jamie Rees", "link": "https://stackoverflow.com/users/3329836/jamie-rees"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 32105351, "answer_count": 2, "score": 0, "last_activity_date": 1440017822, "creation_date": 1440016721, "last_edit_date": 1440016793, "question_id": 32105247, "link": "https://stackoverflow.com/questions/32105247/entity-framework-model-issue", "title": "Entity Framework model issue", "body": "<p>I am having some strange issues, I am attempting to pull a record out of the database and it seems like most of it is <code>null</code> even know if I manually look in the DB it's populated.</p>\n\n<p><strong>Model</strong></p>\n\n<pre><code>public class AdminConfiguration : Entity // Entity is an abstract class containing an ID\n{\n    public bool Authentication { get; set; }\n    public List&lt;ApplicationConfiguration&gt; ApplicationConfiguration { get; set; }\n    public List&lt;LinksConfiguration&gt; LinksConfiguration { get; set; }\n    public EmailConfiguration EmailConfiguration { get; set; }\n    public bool WakeOnLan { get; set; }\n}\n</code></pre>\n\n<p>Basically any reference to another class is <code>null</code> The only thing that is populated is the <code>WakeOnLan</code> property.</p>\n\n<p><strong>Query</strong></p>\n\n<pre><code>    public AdminConfiguration Find(int id)\n    {\n        return Db.AdminConfiguration.Find(id);\n    }\n</code></pre>\n\n<p>I have a feeling I have a misunderstanding regarding how I set up the models. I am expecting the query to return me a fully populated <code>AdminConfiguration</code> object.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1440016719, "post_id": 32105176, "comment_id": 52104980, "body": "Declare <code>task</code> outside the switch using a concrete or base type. Do the <code>GetXXTaskById</code> return the same or a derivation of the same type? They would have to if you can call <code>.ToModel</code> on any one of the types..."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 5, "creation_date": 1440016955, "post_id": 32105176, "comment_id": 52105100, "body": "I think that your real problem is the sentence <i>I tried polymorphism, but...</i> you should show (a partial) implementation of the common part of these classes and how you failed with the polymorphism approach"}, {"owner": {"reputation": 1601, "user_id": 4667466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/033e7de807c8ea650a00fc036c89a597?s=128&d=identicon&r=PG&f=1", "display_name": "Frank J", "link": "https://stackoverflow.com/users/4667466/frank-j"}, "edited": false, "score": 2, "creation_date": 1440016960, "post_id": 32105176, "comment_id": 52105105, "body": "If you don&#39;t like inheritance then alternatively use an Interface. In you case it could contain the <code>.ToModel()</code> method and implement that on all 3 classes."}, {"owner": {"reputation": 7185, "user_id": 1645737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0tr7.png?s=128&g=1", "display_name": "keenthinker", "link": "https://stackoverflow.com/users/1645737/keenthinker"}, "edited": false, "score": 0, "creation_date": 1440017022, "post_id": 32105176, "comment_id": 52105139, "body": "Can you show the code for two of the classes? If they are <i>almost exact</i>, it should be possible to extract the same parts into one <i>model</i> (class, abstract class, interface)."}, {"owner": {"reputation": 6601, "user_id": 1672458, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/F1hky.png?s=128&g=1", "display_name": "vaindil", "link": "https://stackoverflow.com/users/1672458/vaindil"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1440075762, "post_id": 32105176, "comment_id": 52130348, "body": "@Steve I&#39;ve since overwritten the code, but it was checked in to TFS at some point so I can dig it up if necessary. Essentially, I had a parent class (<code>Task</code>) that the three subclasses implemented (<code>MS</code>, <code>TL</code>, <code>ET</code>). I kept running into problems because there&#39;s no way that I&#39;m aware of or could find to a) get a child&#39;s parameters when the parent was called, or b) get the type of entry when using EF TPH inheritance. That&#39;s why I gave up and moved to separate classes for each, resulting in the mess I have now."}], "answers": [{"tags": [], "owner": {"reputation": 3903, "user_id": 220068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9d5c08fe6fa0893bc8f46328e454a7b?s=128&d=identicon&r=PG", "display_name": "Russ", "link": "https://stackoverflow.com/users/220068/russ"}, "is_accepted": false, "score": 3, "last_activity_date": 1440017038, "creation_date": 1440017038, "answer_id": 32105325, "question_id": 32105176, "link": "https://stackoverflow.com/questions/32105176/working-with-multiple-classes/32105325#32105325", "title": "Working with multiple classes", "body": "<p>The best you are going to be able to hope for is to use inheritance or an interface.  Start with a base class that has all the functions that are similar, then have each of your three different classes inherit this class. Finally, instead of using \"var\" to define object task, use the base class, defined prior to the switch statement.</p>\n"}, {"comments": [{"owner": {"reputation": 143226, "user_id": 993547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOivq.jpg?s=128&g=1", "display_name": "Patrick Hofman", "link": "https://stackoverflow.com/users/993547/patrick-hofman"}, "edited": false, "score": 1, "creation_date": 1440017091, "post_id": 32105327, "comment_id": 52105177, "body": "Why not start with option 2, and use <code>dynamic</code> as a last resort?"}, {"owner": {"reputation": 9787, "user_id": 554397, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fe4f3ec6321893b7ed9902a6b70c9859?s=128&d=identicon&r=PG", "display_name": "Mehmet Ata\u015f", "link": "https://stackoverflow.com/users/554397/mehmet-ata%c5%9f"}, "reply_to_user": {"reputation": 143226, "user_id": 993547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOivq.jpg?s=128&g=1", "display_name": "Patrick Hofman", "link": "https://stackoverflow.com/users/993547/patrick-hofman"}, "edited": false, "score": 0, "creation_date": 1440017350, "post_id": 32105327, "comment_id": 52105330, "body": "Because OP said &quot;I tried polymorphism, but...&quot; so we are already at last resort"}, {"owner": {"reputation": 6601, "user_id": 1672458, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/F1hky.png?s=128&g=1", "display_name": "vaindil", "link": "https://stackoverflow.com/users/1672458/vaindil"}, "edited": false, "score": 0, "creation_date": 1440076125, "post_id": 32105327, "comment_id": 52130615, "body": "I didn&#39;t even know about <code>dynamic</code>, thank you for this. I have to initialize <code>task</code> to <code>null</code> for it to compile; I&#39;ll let you know about at runtime."}, {"owner": {"reputation": 9787, "user_id": 554397, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fe4f3ec6321893b7ed9902a6b70c9859?s=128&d=identicon&r=PG", "display_name": "Mehmet Ata\u015f", "link": "https://stackoverflow.com/users/554397/mehmet-ata%c5%9f"}, "edited": false, "score": 0, "creation_date": 1440076270, "post_id": 32105327, "comment_id": 52130711, "body": "If you write a throw statement in default, that error should disappear"}], "tags": [], "owner": {"reputation": 9787, "user_id": 554397, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fe4f3ec6321893b7ed9902a6b70c9859?s=128&d=identicon&r=PG", "display_name": "Mehmet Ata\u015f", "link": "https://stackoverflow.com/users/554397/mehmet-ata%c5%9f"}, "is_accepted": false, "score": 1, "last_activity_date": 1440076373, "last_edit_date": 1440076373, "creation_date": 1440017044, "answer_id": 32105327, "question_id": 32105176, "link": "https://stackoverflow.com/questions/32105176/working-with-multiple-classes/32105327#32105327", "title": "Working with multiple classes", "body": "<p>Right answer would be declaring a common base class or interface but you said \"I tried polymorphism, but\". I do not know what (or how) did you try but assuming,</p>\n\n<ol>\n<li>You are sure that all classes have a <code>ToModel()</code> method</li>\n<li>It is not practical to declare a common interface or base class for your classes</li>\n<li>You are using .NET 4.0 or above</li>\n</ol>\n\n<p>You can do</p>\n\n<pre><code>var type = _projectService.GetTaskTypeById(id);\n\ndynamic task;\n\nswitch (type)\n{\n    case \"MS\":\n        task = _projectService.GetMSTaskById(id);\n        break;\n    case \"TL\":\n        task = _projectService.GetTLTaskById(id);\n        break;\n    case \"ET\":\n        task = _projectService.GetETTaskById(id);\n        break;\n    default:\n        throw new NotSupportedException(\"Unsupported Task Type: \" + type);\n}\n\ntask.ToModel();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6601, "user_id": 1672458, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/F1hky.png?s=128&g=1", "display_name": "vaindil", "link": "https://stackoverflow.com/users/1672458/vaindil"}, "edited": false, "score": 0, "creation_date": 1440076395, "post_id": 32107299, "comment_id": 52130814, "body": "I&#39;m using enums for everything else, just forgot to add them for this once I went away from polymorphism. Thanks for the reminder!"}], "tags": [], "owner": {"reputation": 129, "user_id": 206859, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t25lH.jpg?s=128&g=1", "display_name": "Cwisking", "link": "https://stackoverflow.com/users/206859/cwisking"}, "is_accepted": false, "score": 1, "last_activity_date": 1440027166, "creation_date": 1440027166, "answer_id": 32107299, "question_id": 32105176, "link": "https://stackoverflow.com/questions/32105176/working-with-multiple-classes/32107299#32107299", "title": "Working with multiple classes", "body": "<p>Personally I'd do something along the lines of...</p>\n\n<pre><code>public interface IProjectTask\n{\n    Task GetTaskById(int id);\n}\n\npublic enum ProjectTaskTypes\n{\n    MS = 1,\n    TL = 2,\n    ET = 3\n}\npublic class ProjectTaskFactory\n{\n    public static IProjectTask GetInstance(ProjectTaskTypes projectTaskType,\n                                           int projectTaskId)\n    {\n        IProjectTask task;\n        switch(projectTaskType)\n        {\n            case ProjectTaskTypes.MS:\n                task = new MSProjectTask(projectTaskId);\n                break;\n            case ProjectTaskTypes.TL:\n                task = new TLProjectTask(projectTaskId);\n                break;\n            case ProjectTaskTypes.ET:\n                task = new ETProjectTask(projectTaskId);\n                break;\n            default:\n                // throw error\n        }       \n        return task;\n    }\n}\n\n//usage\nvar projectTask = ProjectTaskFactory.GetInstance(type);\nprojectTask.ToModel()\n</code></pre>\n\n<p>Just as a side note - creating a enum for the project types I feel is better, no magic strings in code, and better readability.</p>\n\n<p>Separating them out is not only part of the Single Responsibility Pattern, but also means writing unit tests may be easier.</p>\n"}], "owner": {"reputation": 6601, "user_id": 1672458, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/F1hky.png?s=128&g=1", "display_name": "vaindil", "link": "https://stackoverflow.com/users/1672458/vaindil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1440076373, "creation_date": 1440016476, "last_edit_date": 1440016916, "question_id": 32105176, "link": "https://stackoverflow.com/questions/32105176/working-with-multiple-classes", "title": "Working with multiple classes", "body": "<p>I have three classes in C# that I'm trying to work with. The classes are incredibly similar but have a few minor variations. Because each class is different and stored in a separate DB table, I need functions to return each class type, but because they're so similar they could almost be written with the same functions in my controller.</p>\n\n<p>I'd rather not write the exact same set of functions in my controller with no difference other than input/output classes, but I can't for the life of me figure out how. </p>\n\n<p>I tried polymorphism, but I'll be honest, it was downright confusing to the point where I separated the classes out because I can't access subclass properties within the parent class and it was just a mess. </p>\n\n<p><strong>How do I properly work with these three disparate yet similar classes?</strong></p>\n\n<p>This is what I have currently, but it <strong>doesn't work</strong> because <code>task</code> can't be declared inside the <code>switch</code> statement. (That would ideally fix my problems). I also can't declare a <em>generic</em> variable outside of the <code>switch</code> and give it a type inside the <code>switch</code>, because C# doesn't allow that.</p>\n\n<pre><code>var type = _projectService.GetTaskTypeById(id);\n/* object task; doesn't work. I can declare it inside the switch statement\n   but it doesn't \"become\" the new type (the last line throws an error: \n   \"object does not contain a definition for ToModel()\")\n*/\n\nswitch (type)\n{\n    case \"MS\":\n        var task = _projectService.GetMSTaskById(id);\n        break;\n    case \"TL\":\n        var task = _projectService.GetTLTaskById(id);\n        break;\n    case \"ET\":\n        var task = _projectService.GetETTaskById(id);\n        break;\n    default:\n        // throw error\n}\n\ntask.ToModel();\n</code></pre>\n"}, {"tags": ["c#", "css", ".net", "model-view-controller"], "comments": [{"owner": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 1, "creation_date": 1440018035, "post_id": 32105169, "comment_id": 52105677, "body": "For purely visual effect -- add a new css rule <code>.active_text_box:focus { }</code> and leave your Razor code alone. If you need to add this class for other reasons then you&#39;ll need to use javascript events."}], "answers": [{"tags": [], "owner": {"reputation": 353, "user_id": 1826459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PURf2.jpg?s=128&g=1", "display_name": "Josh Bula", "link": "https://stackoverflow.com/users/1826459/josh-bula"}, "is_accepted": false, "score": 1, "last_activity_date": 1440017251, "creation_date": 1440017251, "answer_id": 32105394, "question_id": 32105169, "link": "https://stackoverflow.com/questions/32105169/dynamic-css-class-for-mvc-textboxfor-passwordfor/32105394#32105394", "title": "Dynamic CSS class for MVC TextBoxFor &amp; PasswordFor", "body": "<p>I don't know of a built-in property, but you could easily do this with jQuery's .hover() or .mouseenter() and .mouseleave() events.</p>\n"}, {"comments": [{"owner": {"reputation": 353, "user_id": 1826459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PURf2.jpg?s=128&g=1", "display_name": "Josh Bula", "link": "https://stackoverflow.com/users/1826459/josh-bula"}, "edited": false, "score": 1, "creation_date": 1440103804, "post_id": 32120000, "comment_id": 52147538, "body": "For some reason I thought you were talking about when the mouse hovers over the textboxes rather than just when they have focus, maybe because you mentioned the mouse. I agree that for focus just use CSS so Jasen&#39;s answer is best."}], "tags": [], "owner": {"reputation": 2109, "user_id": 1038554, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d848e0ba9a156cce66a9cbbcbedf35c1?s=128&d=identicon&r=PG", "display_name": "Fylix", "link": "https://stackoverflow.com/users/1038554/fylix"}, "is_accepted": false, "score": 0, "last_activity_date": 1440078311, "creation_date": 1440078311, "answer_id": 32120000, "question_id": 32105169, "link": "https://stackoverflow.com/questions/32105169/dynamic-css-class-for-mvc-textboxfor-passwordfor/32120000#32120000", "title": "Dynamic CSS class for MVC TextBoxFor &amp; PasswordFor", "body": "<p>Thank you Josh &amp; Jasen for your answers.  </p>\n\n<p>I really like Jasen's recommendation(.active_text_box:focus { }) because it is very clean and require no scripting on the Razor view as pointed out.  Below is what I did in case someone will find this useful.</p>\n\n<pre><code>@Html.TextBoxFor(m =&gt; m.UserName, new { id = \"j_username\",@class = \"login_fields\", placeholder = \"UserName\" })\n@Html.PasswordFor(m =&gt; m.Password, new { id = \"j_password\", @class = \"login_fields\", placeholder = \"Password\" })\n</code></pre>\n\n<p>CSS Codes:</p>\n\n<pre><code>.login_fields:focus { \ncolor:#60b7c0;\nborder:1px solid #cfcfcf;\nfont-family: Arial;\nfont-size:16px ;\nfont-weight: bold;\nheight: 48px ;\nline-height:48px ;\nwidth: 500px ;\npadding: 5px 10px 5px 10px;\nbackground-color: #ffffff;\n\n}\n\n.login_fields {\ncolor:#7d7d7d;\nborder:1px solid #cfcfcf;\nfont-family: Arial;\nfont-size:16px ;\nfont-weight: bold;\nheight: 48px ;\nline-height:48px ;\nwidth: 500px ;\npadding: 5px 10px 5px 10px;\nbackground-color: #ebebeb;\n}\n</code></pre>\n"}], "owner": {"reputation": 2109, "user_id": 1038554, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d848e0ba9a156cce66a9cbbcbedf35c1?s=128&d=identicon&r=PG", "display_name": "Fylix", "link": "https://stackoverflow.com/users/1038554/fylix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 534, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1440078311, "creation_date": 1440016462, "question_id": 32105169, "link": "https://stackoverflow.com/questions/32105169/dynamic-css-class-for-mvc-textboxfor-passwordfor", "title": "Dynamic CSS class for MVC TextBoxFor &amp; PasswordFor", "body": "<p>I have the following code that works well in displaying the CSS style for the log in text boxes I have:</p>\n\n<pre><code>@Html.TextBoxFor(m =&gt; m.UserName, new { id = \"j_username\", @class = \"active_text_box\", placeholder=\"UserName\"})\n@Html.PasswordFor(m =&gt; m.Password, new { id = \"j_password\", @class = \"active_text_box\", placeholder = \"Password\" })\n</code></pre>\n\n<p>However, I want to apply the CSS class call \"inactive_text_box\" to these text field when they are not focused by the mouse.</p>\n\n<p>Is there a built in property for this?</p>\n"}, {"tags": ["c#", ".net", "f#"], "comments": [{"owner": {"reputation": 6647, "user_id": 550062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X5OLy.png?s=128&g=1", "display_name": "Becuzz", "link": "https://stackoverflow.com/users/550062/becuzz"}, "edited": false, "score": 1, "creation_date": 1440017038, "post_id": 32105114, "comment_id": 52105148, "body": "I don&#39;t have time to write a proper answer, but take a look <a href=\"http://stackoverflow.com/questions/294216/why-does-c-sharp-forbid-generic-attribute-types\">at this SO question</a>.  Granted that is a bit older question, but it doesn&#39;t appear that what you want is possible with generics.  The comments there also suggest that maybe you can do some things with <code>typeof</code>, etc.  But even with that I don&#39;t believe you will be able to get a compile error like you want."}], "answers": [{"tags": [], "owner": {"reputation": 5884, "user_id": 801189, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/gW9NS.jpg?s=128&g=1", "display_name": "V.B.", "link": "https://stackoverflow.com/users/801189/v-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1440017694, "last_edit_date": 1440017694, "creation_date": 1440017107, "answer_id": 32105341, "question_id": 32105114, "link": "https://stackoverflow.com/questions/32105114/using-attributes-to-constrain-types-net/32105341#32105341", "title": "Using attributes to constrain types - .NET", "body": "<p>I am not sure this is possible at compile time, but during runtime I convert numeric values between types, when it is possible, or convert all values to string. A snippet from a larger program:</p>\n\n<pre><code>// set default values and parameters from attributes\n    // this will override explicit calls to DefineParameters\n    let props = \n      ty\n          .GetProperties(BindingFlags.Public ||| BindingFlags.NonPublic ||| BindingFlags.Instance)\n          .Where(fun p -&gt; \n                  p.GetCustomAttributes&lt;ParameterAttribute&gt;(false) //.Count() &gt; 0)\n                    .SingleOrDefault(fun attr -&gt; attr.UnitPeriod = OptionalValue.Missing || attr.UnitPeriod = OptionalValue(this.BarUnitPeriod)) &lt;&gt; Unchecked.defaultof&lt;ParameterAttribute&gt;)\n\n    for p in props do\n      let attr = p.GetCustomAttributes&lt;ParameterAttribute&gt;(false).SingleOrDefault(fun attr -&gt; attr.UnitPeriod = OptionalValue.Missing || attr.UnitPeriod = OptionalValue(this.BarUnitPeriod)) //:?&gt; ParameterAttribute , typeof&lt;ParameterAttribute&gt;\n      if attr.IsString then\n        this.DefineParameter(attr.Code, attr.DefaultValue :?&gt; string, attr.Description)\n      else\n        this.DefineParameter(attr.Code, attr.DefaultValue :?&gt; float, attr.Min, attr.Max, attr.Step, attr.Description)\n        optPropInfos.Add(attr.Code, p)\n      let value = this.GetParam(attr.Code) // this function gets a value from an attribute\n      match p.PropertyType with\n      | x when x = typeof&lt;Int32&gt; -&gt; p.SetValue(this, Convert.ToInt32(value), null)\n      | x when x = typeof&lt;Int64&gt; -&gt; p.SetValue(this, Convert.ToInt64(value), null)\n      | x when x = typeof&lt;decimal&gt; -&gt; p.SetValue(this, Convert.ToDecimal(value), null)\n      | x when x = typeof&lt;float&gt; -&gt; p.SetValue(this, Convert.ToDouble(value), null)\n      | x when x = typeof&lt;string&gt; -&gt; p.SetValue(this, Convert.ToString(value), null)\n      | _ -&gt; failwith \"ParameterAttribute could be applied to Int32/64, decimal, float or string types only\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3324, "user_id": 1231925, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/87536e65cd08274bada37158cbcb0629?s=128&d=identicon&r=PG", "display_name": "Jwosty", "link": "https://stackoverflow.com/users/1231925/jwosty"}, "edited": false, "score": 0, "creation_date": 1440086009, "post_id": 32110419, "comment_id": 52137907, "body": "This was actually my first approach -- however, the main reason I&#39;m trying to use attributes is because it is eliminating duplication. Without a dynamically created record, I have to specify the name of each program option several times, and you have to add several lines to add another one. So I guess it comes down to deciding if I want type safety or less code duplication..."}], "tags": [], "owner": {"reputation": 208473, "user_id": 126014, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/33526616d4a11f1630d4939b769cfbf9?s=128&d=identicon&r=PG", "display_name": "Mark Seemann", "link": "https://stackoverflow.com/users/126014/mark-seemann"}, "is_accepted": false, "score": 4, "last_activity_date": 1440051472, "last_edit_date": 1440051472, "creation_date": 1440049645, "answer_id": 32110419, "question_id": 32105114, "link": "https://stackoverflow.com/questions/32105114/using-attributes-to-constrain-types-net/32110419#32110419", "title": "Using attributes to constrain types - .NET", "body": "<p>As far as I know, that's not possible, but even if it was, what would it gain you? You can only use literals in attributes, so you'd be constrained to <code>string</code>, <code>int</code>, <code>bool</code>, and a few other types.</p>\n\n<p>What if, at some day, you'd want to define a record with a <code>DateTimeOffset</code> value in it (not an unreasonable case)?</p>\n\n<pre><code>type myRecord = {\n    [&lt;ProgramOption(???)&gt;]Date : DateTimeOffset\n    [&lt;ProgramOption(\"foo\")&gt;]Text : string }\n</code></pre>\n\n<p>Which <code>ProgramOption</code> would you put on the <code>Date</code> element?</p>\n\n<p>That said, you don't necessarily have to come up with you own attribute. The BCL already defines a <a href=\"https://msdn.microsoft.com/en-us/library/system.componentmodel.defaultvalueattribute.aspx\" rel=\"nofollow\"><code>[&lt;DefaultValue&gt;]</code> attribute</a>, as well as lots of so-called <a href=\"https://msdn.microsoft.com/en-us/library/system.componentmodel.dataannotations.aspx\" rel=\"nofollow\">data annotations attributes</a>. None of them are, in my opinion, useful for anything. As an example, <a href=\"http://blog.ploeh.dk/2011/05/27/DesignSmellRedundantRequiredAttribute\" rel=\"nofollow\">here's an in-depth explanation of why the <code>Required</code> attribute is redundant</a>. That article is about Object-Oriented Design, but applies to Functional Programming as well.</p>\n\n<p>In a statically typed Functional language like F#, you should <a href=\"http://fsharpforfunandprofit.com/posts/designing-with-types-making-illegal-states-unrepresentable\" rel=\"nofollow\">make illegal states unrepresentable</a>.</p>\n\n<p>Ultimately, I think that <strong>a simpler approach</strong> would be to define a <em>default value</em> for each type, like this:</p>\n\n<pre><code>type ProgramOptions = {\n    Output: string\n    PrintOutput: bool\n    // several more\n    }\n\nlet defaultProgramOptions = { Output = \"render.pdf\"; PrintOutput = true }\n</code></pre>\n\n<p>This would let you easily create values based on the default value:</p>\n\n<pre><code>let myProgOps = { defaultProgramOptions with PrintOutput = false }\n</code></pre>\n\n<p>This is <strong>type-safe at compile-time</strong>, and produces a <code>ProgramOptions</code> value with these constituent elements:</p>\n\n<pre><code>{ Output = \"render.pdf\"; PrintOutput = false; }\n</code></pre>\n"}], "owner": {"reputation": 3324, "user_id": 1231925, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/87536e65cd08274bada37158cbcb0629?s=128&d=identicon&r=PG", "display_name": "Jwosty", "link": "https://stackoverflow.com/users/1231925/jwosty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1440051472, "creation_date": 1440016279, "question_id": 32105114, "link": "https://stackoverflow.com/questions/32105114/using-attributes-to-constrain-types-net", "title": "Using attributes to constrain types - .NET", "body": "<p>Before you leave: though my code is in F#, this question is applicable to any .NET langague.</p>\n\n<p>So here's my situation -- I have a simple ProgramOptions record in F# for holding command line option data. Each field represents a distinct option, and they can have default values, which are marked with a custom attribute.</p>\n\n<pre class=\"lang-fs prettyprint-override\"><code>type ProgramOptionAttribute(defaultValue: obj) =\n    inherit Attribute()\n\ntype ProgramOptions =\n    { [&lt;ProgramOption(\"render.pdf\")&gt;] output: string\n      [&lt;ProgramOption(true)&gt;] printOutput: bool\n      // several more\n      }\n</code></pre>\n\n<p>I've written a nice little function elsewhere to dynamically instantiate this record using the attribute data, given the raw command line options. That works great. But it's really easy to introduce a runtime type mismatch by providing an object to the attribute that is a different type from the field (since there's just a simple cast from obj -> field type later down the line). For example:</p>\n\n<pre class=\"lang-fs prettyprint-override\"><code>// Obviously wrong, but compiles without complaint, failing at runtime\n[&lt;ProgramOption(42)&gt;] myField: bool\n</code></pre>\n\n<p>Is there a way to make that type safe? Some kind of generic trickery? Or is what I want impossible?</p>\n"}, {"tags": ["c#", "linq"], "answers": [{"tags": [], "owner": {"reputation": 2410, "user_id": 453449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d7a26f0d1fbc17eb4209b5f4387e6b02?s=128&d=identicon&r=PG", "display_name": "kmc059000", "link": "https://stackoverflow.com/users/453449/kmc059000"}, "is_accepted": false, "score": 6, "last_activity_date": 1513264214, "last_edit_date": 1513264214, "creation_date": 1440016409, "answer_id": 32105157, "question_id": 32105099, "link": "https://stackoverflow.com/questions/32105099/linq-to-entities-does-not-recognize-the-method-system-string-getmonthnameint32/32105157#32105157", "title": "LINQ to Entities does not recognize the method &#39;System.String GetMonthName(Int32)&#39; method", "body": "<p>It is probably trying to convert that statement to a SQL expression, which it cannot do. Instead of trying to do that on the database, you should make that call on data that has already been retrieved from the database.</p>\n\n<p>Basically, you need to run <code>.ToList()</code> or something to force the fetching of the data, and then make a call to <code>GetMonthName()</code></p>\n"}, {"comments": [{"owner": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "edited": false, "score": 1, "creation_date": 1524675437, "post_id": 32105660, "comment_id": 87071372, "body": "This is the correct answer, with an example! This opened my eyes and made me realize the importance of where .ToList goes."}], "tags": [], "owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "is_accepted": false, "score": 2, "last_activity_date": 1440018334, "creation_date": 1440018334, "answer_id": 32105660, "question_id": 32105099, "link": "https://stackoverflow.com/questions/32105099/linq-to-entities-does-not-recognize-the-method-system-string-getmonthnameint32/32105660#32105660", "title": "LINQ to Entities does not recognize the method &#39;System.String GetMonthName(Int32)&#39; method", "body": "<p>since your not doing any filtering this should work but your pulling out all research articles into memory because SQL doesnt understand how to get month</p>\n\n<pre><code>var grouped = (from p in _researchArticleRepository.GetResearchArticles().ToList()\n                   group p by new { month = p.DatePublished.Month, year = p.DatePublished.Year } into d\n                   select new\n                   {\n                       dt = d.Key.month + \"-\" + d.Key.year,\n                       dtByMonthName = CultureInfo.CurrentCulture.DateTimeFormat.GetMonthName(d.Key.month) + \" \" + d.Key.year\n                   }//count = d.Count() }\n                   )\n                   .OrderByDescending(g =&gt; g.dt);\n    return grouped.ToDictionary(item =&gt; item.dt, item =&gt; item.dtByMonthName);\n</code></pre>\n"}], "owner": {"reputation": 2384, "user_id": 1744254, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/98aab7a3f842690589dfed234c145ce5?s=128&d=identicon&r=PG&f=1", "display_name": "Beau D&#39;Amore", "link": "https://stackoverflow.com/users/1744254/beau-damore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1513264214, "creation_date": 1440016223, "last_edit_date": 1472898213, "question_id": 32105099, "link": "https://stackoverflow.com/questions/32105099/linq-to-entities-does-not-recognize-the-method-system-string-getmonthnameint32", "title": "LINQ to Entities does not recognize the method &#39;System.String GetMonthName(Int32)&#39; method", "body": "<p>What am I doing wrong?\nFYI The repository method GetResearchArticles() returns an IQueryable.</p>\n\n<pre><code>var grouped = (from p in _researchArticleRepository.GetResearchArticles()\n               group p by new { month = p.DatePublished.Month, year = p.DatePublished.Year } into d\n               select new\n               {\n                   dt = d.Key.month + \"-\" + d.Key.year,\n                   dtByMonthName = CultureInfo.CurrentCulture.DateTimeFormat.GetMonthName(d.Key.month) + \" \" + d.Key.year\n               }//count = d.Count() }\n               )\n               .OrderByDescending(g =&gt; g.dt);\nreturn grouped.ToDictionary(item =&gt; item.dt, item =&gt; item.dtByMonthName);\n</code></pre>\n"}, {"tags": ["c#", "c++", "pinvoke"], "comments": [{"owner": {"reputation": 7770, "user_id": 857848, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f1ff99510ec45369e216ce549e442ddd?s=128&d=identicon&r=PG", "display_name": "citykid", "link": "https://stackoverflow.com/users/857848/citykid"}, "edited": false, "score": 0, "creation_date": 1440016356, "post_id": 32105089, "comment_id": 52104791, "body": "if C++/CLI  is no option, P/Invoke is the next thing to consider. refering to c# objects is not really possible though via P/invoke, and delegates might also be hard or impossible. but maybe you can get something out of it."}, {"owner": {"reputation": 1612, "user_id": 1195206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ab66abdb13bc2575a785248776ea7ee?s=128&d=identicon&r=PG&f=1", "display_name": "jbatez", "link": "https://stackoverflow.com/users/1195206/jbatez"}, "reply_to_user": {"reputation": 7770, "user_id": 857848, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f1ff99510ec45369e216ce549e442ddd?s=128&d=identicon&r=PG", "display_name": "citykid", "link": "https://stackoverflow.com/users/857848/citykid"}, "edited": false, "score": 0, "creation_date": 1440016958, "post_id": 32105089, "comment_id": 52105103, "body": "Yeah, P/Invoke is what I meant when I said &quot;native interop&quot;; I didn&#39;t realize it had a name. Passing C# delegates into C++ as function pointers is totally doable with P/Invoke, I just don&#39;t know what kind of overhead it has. <a href=\"https://msdn.microsoft.com/en-us/library/367eeye0.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/367eeye0.aspx</a>"}, {"owner": {"reputation": 1612, "user_id": 1195206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ab66abdb13bc2575a785248776ea7ee?s=128&d=identicon&r=PG&f=1", "display_name": "jbatez", "link": "https://stackoverflow.com/users/1195206/jbatez"}, "reply_to_user": {"reputation": 7770, "user_id": 857848, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f1ff99510ec45369e216ce549e442ddd?s=128&d=identicon&r=PG", "display_name": "citykid", "link": "https://stackoverflow.com/users/857848/citykid"}, "edited": false, "score": 0, "creation_date": 1440017751, "post_id": 32105089, "comment_id": 52105527, "body": "Found another answer describing some of the (perceived) performance characteristics of delegates. <a href=\"http://stackoverflow.com/a/2082975\">stackoverflow.com/a/2082975</a> Maybe using them is the best way to implement this. While iterating over the list of changed bodies in C++, just call one corresponding delegate for each to get the new data into C#-land."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1440024801, "post_id": 32105089, "comment_id": 52108284, "body": "Pinvoke is going the wrong way, helpful to call native code from C# but not the other way around.  Giving native C++ any idea what a foreign type system looks like in a cross-platform way is just not in the cards.  Microsoft does that pretty well with COM and C++/CX but the *nix people won&#39;t have anything to do with it.  Not invented there."}, {"owner": {"reputation": 1612, "user_id": 1195206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ab66abdb13bc2575a785248776ea7ee?s=128&d=identicon&r=PG&f=1", "display_name": "jbatez", "link": "https://stackoverflow.com/users/1195206/jbatez"}, "edited": false, "score": 0, "creation_date": 1440025406, "post_id": 32105089, "comment_id": 52108430, "body": "The C++ code doesn&#39;t really need to know anything about the C# type system; an opaque pointer that it could return back to C# would do the job in this case. Just something that says &quot;hey, you know that thing you told me about?&quot; I imagine it&#39;s only not available because of garbage collection and relocation."}], "answers": [{"comments": [{"owner": {"reputation": 1612, "user_id": 1195206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ab66abdb13bc2575a785248776ea7ee?s=128&d=identicon&r=PG&f=1", "display_name": "jbatez", "link": "https://stackoverflow.com/users/1195206/jbatez"}, "edited": false, "score": 0, "creation_date": 1440022702, "post_id": 32105888, "comment_id": 52107654, "body": "#4&#39;s pretty interesting. I had considered allocating a chunk of memory for each object, but quickly rejected the idea because there would be no way to have a &quot;fixed&quot; statement for each one. If they all shared one single chunk of memory, though..."}, {"owner": {"reputation": 5685, "user_id": 5240004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8eFV.jpg?s=128&g=1", "display_name": "theB", "link": "https://stackoverflow.com/users/5240004/theb"}, "reply_to_user": {"reputation": 1612, "user_id": 1195206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ab66abdb13bc2575a785248776ea7ee?s=128&d=identicon&r=PG&f=1", "display_name": "jbatez", "link": "https://stackoverflow.com/users/1195206/jbatez"}, "edited": false, "score": 0, "creation_date": 1440023560, "post_id": 32105888, "comment_id": 52107928, "body": "By allocate a chunk I was thinking something along the lines of <code>Marshal.AllocCoTaskMem</code> or <code>Marshal.AllocHGlobal</code>."}, {"owner": {"reputation": 1612, "user_id": 1195206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ab66abdb13bc2575a785248776ea7ee?s=128&d=identicon&r=PG&f=1", "display_name": "jbatez", "link": "https://stackoverflow.com/users/1195206/jbatez"}, "edited": false, "score": 0, "creation_date": 1440023937, "post_id": 32105888, "comment_id": 52108030, "body": "Whoa, I didn&#39;t know those methods existed. Thanks! I can think of a couple other places in my code where they&#39;d be useful. But now that I think about it, even if they weren&#39;t available, I could have easily implemented AllocHGlobal and FreeHGlobal myself."}, {"owner": {"reputation": 5685, "user_id": 5240004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8eFV.jpg?s=128&g=1", "display_name": "theB", "link": "https://stackoverflow.com/users/5240004/theb"}, "reply_to_user": {"reputation": 1612, "user_id": 1195206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ab66abdb13bc2575a785248776ea7ee?s=128&d=identicon&r=PG&f=1", "display_name": "jbatez", "link": "https://stackoverflow.com/users/1195206/jbatez"}, "edited": false, "score": 0, "creation_date": 1440024195, "post_id": 32105888, "comment_id": 52108109, "body": "If you&#39;re feeling really ambitious, you can also use any of the WinAPI <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa366781%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">Memory Management Functions</a> using p/Invoke."}], "tags": [], "owner": {"reputation": 5685, "user_id": 5240004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8eFV.jpg?s=128&g=1", "display_name": "theB", "link": "https://stackoverflow.com/users/5240004/theb"}, "is_accepted": false, "score": 2, "last_activity_date": 1466296752, "last_edit_date": 1466296752, "creation_date": 1440019353, "answer_id": 32105888, "question_id": 32105089, "link": "https://stackoverflow.com/questions/32105089/how-to-pass-c-object-references-to-and-from-c/32105888#32105888", "title": "How to pass C# object references to and from C++", "body": "<ol>\n<li>Mapping a unique identifier would allow you to isolate the managed from the unmanaged code. Its probably better if the unmanaged side isn't doing anything with your managed objects since you really can't control much of the object's lifecycle.</li>\n<li>Delegates as function pointers are possible. All you need to do is define your delegate type and create an instance. Then you can use <a href=\"https://msdn.microsoft.com/en-us/library/vstudio/at4fb09f%28v=VS.100%29.aspx\" rel=\"nofollow\"><code>Marshal.GetFunctionPointerForDelegate</code></a> to get an address to pass to the unmanaged side. The only thing to note is that you have to make sure that the callback is using <code>__stdcall</code>.</li>\n<li>It's probably possible to access class members and functions directly, but without a C++/CLI wrapper you're playing with fire.</li>\n<li>Allocate a chunk of memory on the C# side and pass that to C++. In the classes on the managed side use properties to access this memory with appropriate offsets.</li>\n<li>Make the object <a href=\"https://msdn.microsoft.com/en-us/library/ms182157.aspx\" rel=\"nofollow\">COM visible</a>.</li>\n</ol>\n\n<p>Also, remember that <code>AccessViolationException</code>s are generally not catchable in .NET.</p>\n"}, {"comments": [{"owner": {"reputation": 1612, "user_id": 1195206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ab66abdb13bc2575a785248776ea7ee?s=128&d=identicon&r=PG&f=1", "display_name": "jbatez", "link": "https://stackoverflow.com/users/1195206/jbatez"}, "edited": false, "score": 0, "creation_date": 1440079879, "post_id": 32108252, "comment_id": 52133525, "body": "In the delegate case, I could just call the delegate from C++ and use <code>this</code> on the C# side to get the object reference. But that&#39;s beside the point; the point of having an object reference in this case is so I can call a method on it. If I can just call the method directly, it gets the job done."}, {"owner": {"reputation": 1612, "user_id": 1195206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ab66abdb13bc2575a785248776ea7ee?s=128&d=identicon&r=PG&f=1", "display_name": "jbatez", "link": "https://stackoverflow.com/users/1195206/jbatez"}, "edited": false, "score": 0, "creation_date": 1440080000, "post_id": 32108252, "comment_id": 52133632, "body": "I didn&#39;t know about the GCHandle stuff. I&#39;ll look into those. Thanks!"}, {"owner": {"reputation": 1612, "user_id": 1195206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ab66abdb13bc2575a785248776ea7ee?s=128&d=identicon&r=PG&f=1", "display_name": "jbatez", "link": "https://stackoverflow.com/users/1195206/jbatez"}, "edited": false, "score": 0, "creation_date": 1440083463, "post_id": 32108252, "comment_id": 52136244, "body": "GCHandle seems to be exactly what I was looking for. If you get rid of the delegate part of your answer, I&#39;ll accept this answer."}, {"owner": {"reputation": 5470, "user_id": 454519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1a0559d260c859bfe44607a982f3003?s=128&d=identicon&r=PG", "display_name": "Paul Groke", "link": "https://stackoverflow.com/users/454519/paul-groke"}, "reply_to_user": {"reputation": 1612, "user_id": 1195206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ab66abdb13bc2575a785248776ea7ee?s=128&d=identicon&r=PG&f=1", "display_name": "jbatez", "link": "https://stackoverflow.com/users/1195206/jbatez"}, "edited": false, "score": 1, "creation_date": 1440085719, "post_id": 32108252, "comment_id": 52137730, "body": "@JoBates Done. I&#39;m not sure that removing that part improves my answer, but since I&#39;m a greedy bastard... :)"}, {"owner": {"reputation": 1612, "user_id": 1195206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ab66abdb13bc2575a785248776ea7ee?s=128&d=identicon&r=PG&f=1", "display_name": "jbatez", "link": "https://stackoverflow.com/users/1195206/jbatez"}, "edited": false, "score": 0, "creation_date": 1440097274, "post_id": 32108252, "comment_id": 52143969, "body": "Sorry for the conditional acceptance. I already had a way to use delegates that I know works; the real question was &quot;are there any more direct alternatives?&quot;, and GCHandle alone answers that perfectly."}], "tags": [], "owner": {"reputation": 5470, "user_id": 454519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1a0559d260c859bfe44607a982f3003?s=128&d=identicon&r=PG", "display_name": "Paul Groke", "link": "https://stackoverflow.com/users/454519/paul-groke"}, "is_accepted": true, "score": 5, "last_activity_date": 1440085567, "last_edit_date": 1440085567, "creation_date": 1440035015, "answer_id": 32108252, "question_id": 32105089, "link": "https://stackoverflow.com/questions/32105089/how-to-pass-c-object-references-to-and-from-c/32108252#32108252", "title": "How to pass C# object references to and from C++", "body": "<p>I would suggest using the tool that was specifically designed for situations like that, i.e. <code>System.Runtime.InteropServices.GCHandle</code>.</p>\n\n<p><strong>Usage</strong></p>\n\n<p>In:</p>\n\n<ol>\n<li>Allocate a <code>GCHandle</code> for your CLR object with <code>GCHandleType.Normal</code> or <code>GCHandleType.Weak</code>.</li>\n<li>Convert the <code>GCHandle</code> to an <code>IntPtr</code> via <code>GCHandle.ToIntPtr</code>.</li>\n<li>Pass that <code>IntPtr</code> to the C++ side as the userdata pointer that you mentioned.</li>\n</ol>\n\n<p>Out:</p>\n\n<ol>\n<li>Get <code>IntPtr</code> back from the C++ side.</li>\n<li>Convert the <code>IntPtr</code> back to a <code>GCHandle</code> via <code>GCHandle.FromIntPtr</code></li>\n<li>Use the <code>Target</code> Property of the <code>GCHandle</code> to get to the original CLR object.</li>\n</ol>\n\n<p>When the CLR object is no longer being referenced from the C++ side (either because the C++ object was destroyed or because you reset the userdata pointer to e.g. <code>IntPtr.Zero</code>), release the <code>GCHandle</code> by calling <code>GCHandle.Free</code>.</p>\n\n<p>What type of <code>GCHandle</code> you should allocate depends on whether you want the <code>GCHandle</code> to keep the object alive (<code>GCHandleType.Normal</code>) or not (<code>GCHandleType.Weak</code>).</p>\n"}], "owner": {"reputation": 1612, "user_id": 1195206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ab66abdb13bc2575a785248776ea7ee?s=128&d=identicon&r=PG&f=1", "display_name": "jbatez", "link": "https://stackoverflow.com/users/1195206/jbatez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3178, "favorite_count": 1, "accepted_answer_id": 32108252, "answer_count": 2, "score": 4, "last_activity_date": 1466296752, "creation_date": 1440016184, "last_edit_date": 1440016862, "question_id": 32105089, "link": "https://stackoverflow.com/questions/32105089/how-to-pass-c-object-references-to-and-from-c", "title": "How to pass C# object references to and from C++", "body": "<p>Is there any way to pass C# object references (class types, not structs) into and out of C++ via native interop?</p>\n\n<p>Here's my use case:</p>\n\n<p>I'm trying to write a game engine in C# but want to use a native (C++) physics library. The physics library maintains its own internal state of all the physical bodies and lets the user associate a small amount of data (a pointer) with each body. After a physics simulation tick, the library supplies a list of all physical bodies that moved. I want to iterate over this list and relay all the changes to the corresponding C# objects.</p>\n\n<p>The question is: what's the best way to associate objects in C# with the corresponding physical bodies in C++?</p>\n\n<p>I can think of a couple ways:</p>\n\n<ol>\n<li>Give each physical body an ID of some kind, associate the ID with the physical body in C++, and maintain a map of ID's to corresponding objects in C#. This seems unnecessarily indirect to me, even with an optimized mapping mechanism.</li>\n<li>Take advantage of the ability to marshal C# delegates (which can implicitly reference C# object instances) into C++ function pointers. This might be the best way to do it; I don't know how C# implements delegates and what type of overhead this would entail.</li>\n<li>Find some other way to refer to C# objects in C++ and associate that reference with each native physical body.</li>\n</ol>\n\n<p>Is there any mechanism like option 3 I don't know of? C++/CLI isn't an option since I want to support platforms without it.</p>\n"}, {"tags": ["c#", "sql-server", "entity-framework", "sql-server-2012", "entity-framework-5"], "comments": [{"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 0, "creation_date": 1440016057, "post_id": 32104972, "comment_id": 52104618, "body": "<code>Initial Catalog=</code> is a synonym for <code>database=</code> ....."}], "answers": [{"tags": [], "owner": {"reputation": 2325, "user_id": 680565, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5a63022e5b22c760bebe6c303315b679?s=128&d=identicon&r=PG", "display_name": "Jason Rae", "link": "https://stackoverflow.com/users/680565/jason-rae"}, "is_accepted": false, "score": 0, "last_activity_date": 1440016513, "last_edit_date": 1495535195, "creation_date": 1440016513, "answer_id": 32105187, "question_id": 32104972, "link": "https://stackoverflow.com/questions/32104972/database-property-not-set-in-entityconnection/32105187#32105187", "title": "Database property not set in EntityConnection", "body": "<p>I created a new project to see if that would help.  When I went to create a new ADO Data Model, I realized I could not make a connection to the database, which is why the connection was not working.  It turns out SQL Server service refused to start.  I managed to fix this problem with this answer: <a href=\"https://stackoverflow.com/questions/11390921/sql-server-2012-cant-start-because-of-a-login-failure\">SQL Server 2012 can&#39;t start because of a login failure</a></p>\n"}], "owner": {"reputation": 2325, "user_id": 680565, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5a63022e5b22c760bebe6c303315b679?s=128&d=identicon&r=PG", "display_name": "Jason Rae", "link": "https://stackoverflow.com/users/680565/jason-rae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440016583, "creation_date": 1440015768, "last_edit_date": 1440016583, "question_id": 32104972, "link": "https://stackoverflow.com/questions/32104972/database-property-not-set-in-entityconnection", "title": "Database property not set in EntityConnection", "body": "<p>I am attempting to create a new connection with the following code:</p>\n\n<pre><code>using (EntityConnection conn = new EntityConnection(\"name=SampleEntities\")) \n{\n    conn.Open();\n}\n</code></pre>\n\n<p>I get the following error:  </p>\n\n<blockquote>\n  <p>The underlying provider failed on Open.</p>\n</blockquote>\n\n<p>It appears this is not working because the Database property of the <code>EntityConnection</code> class is not being set, but the Initial Catalog is set in the named connection in the app.config.  </p>\n\n<p>The connection string is the following:</p>\n\n<pre><code>&lt;connectionStrings&gt;\n   &lt;add name=\"SampleEntities\" \n        connectionString=\"metadata=res://*/Model1.csdl|res://*/Model1.ssdl|res://*/Model1.msl;provider=System.Data.SqlClient;provider connection string=&amp;quot;data source=localhost;initial catalog=PROGRAMMINGEFDB1;integrated security=True;multipleactiveresultsets=True;App=EntityFramework&amp;quot;\" \n        providerName=\"System.Data.EntityClient\" /&gt;\n&lt;/connectionStrings&gt;\n</code></pre>\n\n<p>This matches what is in the <code>EntityConnection.StoredConnection</code> property. This string will set the source correctly in the <code>EntityConnection</code> but not the database.</p>\n"}, {"tags": ["c#", "winforms", "psexec", "redirectstandardoutput"], "answers": [{"comments": [{"owner": {"reputation": 4625, "user_id": 1478654, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BiUl3.png?s=128&g=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/1478654/clay"}, "edited": false, "score": 0, "creation_date": 1440022570, "post_id": 32106285, "comment_id": 52107602, "body": "BTW - be careful - in your <code>Tester</code>, you have static <code>StringBuilder</code> objects that you&#39;re using in an instance method.  That&#39;s a recipe for problems - better to declare them in the method.  Even then, why not just have your events wired to a stream over the log file?  With in-memory objects, and an install process gone wrong, you could end up with enormous memory consumption is no-time flat!"}, {"owner": {"reputation": 31, "user_id": 3731532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f94d7751e6a1980ae1cc89db3e7dd38b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Foley", "link": "https://stackoverflow.com/users/3731532/brendan-foley"}, "edited": false, "score": 0, "creation_date": 1440085880, "post_id": 32106285, "comment_id": 52137817, "body": "Tried it out and this works again in the console application version, but still doesn&#39;t give me the output beyond the first line in the Winform application. Changed up the way I was handling the stringbuilders either way as your way makes more sense."}, {"owner": {"reputation": 4625, "user_id": 1478654, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BiUl3.png?s=128&g=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/1478654/clay"}, "reply_to_user": {"reputation": 31, "user_id": 3731532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f94d7751e6a1980ae1cc89db3e7dd38b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Foley", "link": "https://stackoverflow.com/users/3731532/brendan-foley"}, "edited": false, "score": 0, "creation_date": 1440091856, "post_id": 32106285, "comment_id": 52141014, "body": "FWIW - I can get the same behavior by manually killing a process that never correctly terminates (I tested w/ command=&quot;cmd.exe&quot; and arguments=&quot;/s dir&quot;).  I get a couple of lines of output - followed by nothing.  In such a case, the ExitCode is not 0 and the errorText is empty.  Have you looked at the ExitCode and the content of your errorText object?"}, {"owner": {"reputation": 31, "user_id": 3731532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f94d7751e6a1980ae1cc89db3e7dd38b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Foley", "link": "https://stackoverflow.com/users/3731532/brendan-foley"}, "edited": false, "score": 1, "creation_date": 1440094676, "post_id": 32106285, "comment_id": 52142540, "body": "If I send errorText to the file, I seem to get all of the psexec startup and exit text  (version of psexec, copyright, connecting to server, exited with error code 0, etc) but none of the output that comes from running the process (such as ipconfig) on the remote machine which psexec otherwise provides. Checked ExitCode as well and it&#39;s 0."}, {"owner": {"reputation": 4625, "user_id": 1478654, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BiUl3.png?s=128&g=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/1478654/clay"}, "reply_to_user": {"reputation": 31, "user_id": 3731532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f94d7751e6a1980ae1cc89db3e7dd38b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Foley", "link": "https://stackoverflow.com/users/3731532/brendan-foley"}, "edited": false, "score": 0, "creation_date": 1440098131, "post_id": 32106285, "comment_id": 52144447, "body": "Grasping at this point - but maybe something like @&quot;psexec \\\\myserver ipconfig &gt; ps.log&quot;.  I&#39;m wondering if psexec &quot;knows&quot; it&#39;s running w/o a window.  Sorry I couldn&#39;t be more helpful."}, {"owner": {"reputation": 31, "user_id": 3731532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f94d7751e6a1980ae1cc89db3e7dd38b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Foley", "link": "https://stackoverflow.com/users/3731532/brendan-foley"}, "edited": false, "score": 0, "creation_date": 1440098442, "post_id": 32106285, "comment_id": 52144622, "body": "Yea, I tried that one before, and some variations. I think Process doesn&#39;t allow redirecting of output that way, which is why it has it&#39;s own redirect output properties. Not sure, but it didn&#39;t work when I tried anyway. Thanks for trying, this has been driving me nuts!"}], "tags": [], "owner": {"reputation": 4625, "user_id": 1478654, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BiUl3.png?s=128&g=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/1478654/clay"}, "is_accepted": false, "score": 0, "last_activity_date": 1440021263, "creation_date": 1440021263, "answer_id": 32106285, "question_id": 32104958, "link": "https://stackoverflow.com/questions/32104958/how-to-redirect-standard-output-to-a-file-from-psexec-process-in-c-within-a-win/32106285#32106285", "title": "How to redirect standard output to a file from psexec process in c# within a Windows Forms Application", "body": "<p>Seems like you're jumping the gun on starting the process.  It surprises me you're getting what you want in a console app.  But I think you want to create your process, hook the events, and then start:</p>\n\n<pre><code>public void Installer( string command, string arguments, string logFile )\n{\n  var outputText = new StringBuilder( );\n  var errorText = new StringBuilder( );\n\n  var startInfo = new ProcessStartInfo( command, arguments )\n  {\n    CreateNoWindow = true,\n    ErrorDialog = false,\n    RedirectStandardError = true,\n    RedirectStandardOutput = true,\n    UseShellExecute = false\n  };\n\n  using ( var psexec = new Process( ) )\n  {\n    psexec.StartInfo = startInfo;\n    psexec.OutputDataReceived += ( _, dat ) =&gt; outputText.AppendLine( dat.Data );\n    psexec.ErrorDataReceived += ( _, dat ) =&gt; errorText.AppendLine( dat.Data );\n    psexec.Start( );\n    psexec.BeginOutputReadLine( );\n    psexec.BeginErrorReadLine( );\n    psexec.WaitForExit( );\n\n    File.AppendAllText( logFile, outputText.ToString( ) );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 3731532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f94d7751e6a1980ae1cc89db3e7dd38b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Foley", "link": "https://stackoverflow.com/users/3731532/brendan-foley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 960, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1440021263, "creation_date": 1440015724, "last_edit_date": 1440017032, "question_id": 32104958, "link": "https://stackoverflow.com/questions/32104958/how-to-redirect-standard-output-to-a-file-from-psexec-process-in-c-within-a-win", "title": "How to redirect standard output to a file from psexec process in c# within a Windows Forms Application", "body": "<p>I've been trying to get the console output from running psexec as a process in a c# windows forms application. I've found I can redirect the standardoutput(and standard error) to a specified text file fine in a console application, and can redirect the output when the process used is something other than PsExec (ping for instance), but when I try to use psexec from a windows forms application I usually get an empty line in my logs, or at best I've been able to get the first line. I know psexec has had issues with synchronous redirected output, but even asychronous runs into this problem, but only when used within a Windows Forms Application.</p>\n\n<p>My code for the method called that runs the process:</p>\n\n<pre><code>class Tester\n    {\n\n        static readonly StringBuilder outputText = new StringBuilder();\n        static readonly StringBuilder errorText = new StringBuilder();\n\n        public void Installer(string command, string arguments)\n        {\n            using (var psexec = Process.Start(new ProcessStartInfo(\n               command,\n                arguments)\n            {\n                CreateNoWindow = true,\n                ErrorDialog = false,\n                RedirectStandardError = true,\n                RedirectStandardOutput = true,\n                UseShellExecute = false\n            }))\n            {\n\n                psexec.OutputDataReceived += (sendingProcess, outLine) =&gt;\n                    outputText.AppendLine(outLine.Data);\n\n                psexec.ErrorDataReceived += (sendingProcess, errorLine) =&gt;\n                    errorText.AppendLine(errorLine.Data);\n\n                psexec.BeginOutputReadLine();\n                psexec.BeginErrorReadLine();\n\n                psexec.WaitForExit();\n\n                string text = outputText.ToString();\n                File.AppendAllText(@\"C:\\test\\psexec-test.log\", text);\n\n            }\n\n        }\n    }\n</code></pre>\n\n<p>The above works (gives me the output from psexec I expect in a designated file) when called within a console application like this:</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        Tester test1 = new Tester();\n\n        test1.Installer(\"PsExec.exe\", @\"-h \\\\remoteserver ipconfig\");\n    }\n}\n</code></pre>\n\n<p>However, if I call it from an equivalent Windows Forms Application like so:</p>\n\n<pre><code>public partial class Form1 : Form\n{\n\n    Tester test = new Tester();\n\n    public Form1()\n    {\n        InitializeComponent();\n    }\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n        string sendAddress = Address.Text;\n        test.Installer(\"psexec.exe\", @\"-h \\\\remoteserver ipconfig\");\n    } }\n</code></pre>\n\n<p>I only get:</p>\n\n<blockquote>\n  <p>Windows IP Configuration</p>\n  \n  <p>Done!\n  Without the rest of the results from ipconfig.</p>\n</blockquote>\n\n<p>In the larger application I made everything else does work and I know real work is done (it runs an installer on the remote machine, or multiple remote machines), but I don't get the output from psexec. Is there something I'm missing with the Windows Forms Applications, and how to get the redirection to work with psexec? </p>\n"}, {"tags": ["c#", "sql"], "comments": [{"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1440015754, "post_id": 32104902, "comment_id": 52104432, "body": "One company I worked for had a decent solution (but nothing is fool proof) -- when saving a record, the record was first pulled from the database and then merged into the user&#39;s record leaving only the fields actually modified by the user. The untouched fields were updated from the database pull to get the most recent data. It&#39;s still last one in wins, but not much you can do without dirty checking every single field and only updating those specific columns."}, {"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 4, "creation_date": 1440015754, "post_id": 32104902, "comment_id": 52104434, "body": "Do a google search for &quot;sql server concurrency&quot;."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1440016460, "post_id": 32104902, "comment_id": 52104844, "body": "Another search term -&quot;three way merge&quot; -  <a href=\"https://www.bing.com/search?q=three%20way%20merge\" rel=\"nofollow noreferrer\">bing.com/search?q=three%20way%20merge</a> - which is very common operation in source control systems."}], "answers": [{"tags": [], "owner": {"reputation": 35013, "user_id": 626853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ILPj4.jpg?s=128&g=1", "display_name": "Aasmund Eldhuset", "link": "https://stackoverflow.com/users/626853/aasmund-eldhuset"}, "is_accepted": true, "score": 4, "last_activity_date": 1440015995, "creation_date": 1440015995, "answer_id": 32105031, "question_id": 32104902, "link": "https://stackoverflow.com/questions/32104902/how-do-i-ensure-that-users-dont-update-over-each-others-data/32105031#32105031", "title": "How do I ensure that users don&#39;t update over each other&#39;s data?", "body": "<p>A common way to solve your problem is called <em>optimistic concurrency</em>. The basic idea is that each table contains an extra column that is either a timestamp or a version number. When you read from the database, you keep track of the version number, and when updating the database, you check if the version number in the database is the same as when you read that row. If it isn't, it means that someone else has changed the row in the meantime, and you should now abort the update and inform the user (and if possible, elegantly present both the changed database data and the user's data).</p>\n\n<p>It is important that the \"read current row version and update row only if it hasn't changed\" operation is a part of the same transaction; otherwise, you'll run into race conditions. Some database servers contain built-in ways to handle this, such as SQL Server's <code>SNAPSHOT</code> isolation level.</p>\n"}, {"comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1440019348, "post_id": 32105147, "comment_id": 52106274, "body": "This is sometimes called &quot;exclusive checkout&quot; and is quite common alternative to merging. While generally easier to implement it may lead to problematic cases especially if checkout never expire."}, {"owner": {"reputation": 55, "user_id": 4505309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c44d4f1fdbab8583c9aaa8949d46fe?s=128&d=identicon&r=PG&f=1", "display_name": "Matty2", "link": "https://stackoverflow.com/users/4505309/matty2"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1440054912, "post_id": 32105147, "comment_id": 52116883, "body": "Time-outs can be implemented. To speed up the time-outs, END messages can be put after the data."}], "tags": [], "owner": {"reputation": 55, "user_id": 4505309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c44d4f1fdbab8583c9aaa8949d46fe?s=128&d=identicon&r=PG&f=1", "display_name": "Matty2", "link": "https://stackoverflow.com/users/4505309/matty2"}, "is_accepted": false, "score": 1, "last_activity_date": 1440016374, "creation_date": 1440016374, "answer_id": 32105147, "question_id": 32104902, "link": "https://stackoverflow.com/questions/32104902/how-do-i-ensure-that-users-dont-update-over-each-others-data/32105147#32105147", "title": "How do I ensure that users don&#39;t update over each other&#39;s data?", "body": "<p>You can make it in a way that there is a form for each user. When the user clicks on Save. The data is sent all at once.\nTo handle the problem of data overwriting from the collision, you can make it so that the the form has to tell the back-end to be ready while making it unavailable for other users. Until the data is sent, the back-end will then be ready for new data.</p>\n\n<p>For example when user1 is sending form data to the backend, the backend will ignore all ready messages from user2 until data is sent and user2 attempts to send the ready message again. If the backend receives 2 or more ready messages at the same time, it will choose to reply the ok message to one user randomly and begin the data transfer with that user.</p>\n"}], "owner": {"reputation": 192, "user_id": 4337589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UwWUt.png?s=128&g=1", "display_name": "Zach Allen", "link": "https://stackoverflow.com/users/4337589/zach-allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 32105031, "answer_count": 2, "score": 0, "last_activity_date": 1440019171, "creation_date": 1440015527, "question_id": 32104902, "link": "https://stackoverflow.com/questions/32104902/how-do-i-ensure-that-users-dont-update-over-each-others-data", "title": "How do I ensure that users don&#39;t update over each other&#39;s data?", "body": "<p>Assume we have a form where there are several text boxes and a button that saves the data to a database record when we click it.</p>\n\n<p>Let's say that User 1 opens the form, and around the same time, User 2 opens up the same form. User 1 changes the values in the email text box and saves the form while User 2 still has the form with--what is now--the old email. User 2 changes the values in the phone number text box and saves.</p>\n\n<p>Since the submit button's functionality is driven by a big update statement that updates all fields in the form to the record in the database, when User 1 goes back to the record, from their experience, there email was not saved to the database since User 2's submission updated over all fields in the record with whatever was in User 2's form at the time.</p>\n\n<p>At the company that I work for, users have reported instances where their saved data magically disappears when multiple users are updating fields in the same records, and I am starting to suspect that this is the cause.</p>\n\n<p>Can someone point me in the right direction in terms of dealing with this issue? I have had difficulty finding any articles/resources that discuss these issues.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 0, "creation_date": 1440015870, "post_id": 32104852, "comment_id": 52104491, "body": "If you pause the running application you can view the call stack to see where the application is currently executing."}, {"owner": {"reputation": 3052, "user_id": 2090341, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fq0KO.jpg?s=128&g=1", "display_name": "Matthias M&#252;ller", "link": "https://stackoverflow.com/users/2090341/matthias-m%c3%bcller"}, "reply_to_user": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "edited": false, "score": 0, "creation_date": 1440092957, "post_id": 32104852, "comment_id": 52141633, "body": "Thanks for the idea, see my edit, I can&#39;t see any code."}], "answers": [{"comments": [{"owner": {"reputation": 3052, "user_id": 2090341, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fq0KO.jpg?s=128&g=1", "display_name": "Matthias M&#252;ller", "link": "https://stackoverflow.com/users/2090341/matthias-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1440106692, "post_id": 32125312, "comment_id": 52148932, "body": "Wouldnt that mean the other Style-Setters would get ignored? And aren&#39;t MergedDictionaries only used, if I have more than one and want them, well, merged?"}, {"owner": {"reputation": 13698, "user_id": 162176, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/181c847347dc050f631552a1773a2522?s=128&d=identicon&r=PG", "display_name": "Yogesh", "link": "https://stackoverflow.com/users/162176/yogesh"}, "reply_to_user": {"reputation": 3052, "user_id": 2090341, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fq0KO.jpg?s=128&g=1", "display_name": "Matthias M&#252;ller", "link": "https://stackoverflow.com/users/2090341/matthias-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1440184201, "post_id": 32125312, "comment_id": 52184787, "body": "<code>ResourceDictionary</code> root with a source causes all kinds of issues in wpf apps. You should root MergedDictionaries for merging resource dictionaries."}], "tags": [], "owner": {"reputation": 13698, "user_id": 162176, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/181c847347dc050f631552a1773a2522?s=128&d=identicon&r=PG", "display_name": "Yogesh", "link": "https://stackoverflow.com/users/162176/yogesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1440093905, "creation_date": 1440093905, "answer_id": 32125312, "question_id": 32104852, "link": "https://stackoverflow.com/questions/32104852/vs-2015-wpf-dictionary-causes-window-to-freeze-namespaces-not-created/32125312#32125312", "title": "VS 2015 WPF: Dictionary causes Window to freeze / Namespaces not created", "body": "<p>Your information doesn't seem complete but It seems that you are not building the <code>Dictionaries\\AppDictionary.xaml</code> file. You need to set its Build Action to Resource.</p>\n\n<p>Also, your dictionary should look like this:</p>\n\n<pre><code>&lt;Application.Resources&gt;\n        &lt;ResourceDictionary&gt;\n            &lt;ResourceDictionary.MergedDictionaries&gt;\n                &lt;ResourceDictionary Source=\"Dictionaries\\AppDictionary.xaml\" /&gt;\n            &lt;/ResourceDictionary.MergedDictionaries&gt;\n        &lt;/ResourceDictionary&gt;\n&lt;/Application.Resources&gt;\n</code></pre>\n"}], "owner": {"reputation": 3052, "user_id": 2090341, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fq0KO.jpg?s=128&g=1", "display_name": "Matthias M&#252;ller", "link": "https://stackoverflow.com/users/2090341/matthias-m%c3%bcller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 287, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440093905, "creation_date": 1440015347, "last_edit_date": 1440092942, "question_id": 32104852, "link": "https://stackoverflow.com/questions/32104852/vs-2015-wpf-dictionary-causes-window-to-freeze-namespaces-not-created", "title": "VS 2015 WPF: Dictionary causes Window to freeze / Namespaces not created", "body": "<p>I'm toying arround a bit with the new VS 2015, and I found two strange behaviors, I really can't explain. Probably you can help me, if this are simple bugs or Im doing something generally wrong:\n\u00cd have a simple Project, the Mainwindow has just a Datagrid:</p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;DataGrid&gt;\n        &lt;DataGrid.Columns&gt;\n            &lt;DataGridTextColumn Header=\"Test\" /&gt;\n        &lt;/DataGrid.Columns&gt;\n    &lt;/DataGrid&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>In the App.XAML I load a Dictionary in a Subfolder:</p>\n\n<pre><code>&lt;Application.Resources&gt;\n        &lt;ResourceDictionary Source=\"Dictionaries\\AppDictionary.xaml\" /&gt;\n&lt;/Application.Resources&gt;\n</code></pre>\n\n<p>The Dictionary is looking like this:</p>\n\n<pre><code>&lt;Style TargetType=\"Grid\"&gt;\n    &lt;Setter Property=\"Margin\" Value=\"10\" /&gt;\n&lt;/Style&gt;\n</code></pre>\n\n<p>Now, as soon as I load the Window, it seems to be frozen forever. I tested some Grid-Properties, but this happens only, when I set the Margin it seems.\nI checked the Inheritance from DataGrid or DataGridTextColumn, but they don't seem to inherit from the Grid anyhow.</p>\n\n<p>They second exception:\nI need to create a Class in the Dictionaries-Subfolder, otherwise i keep getting the exception:</p>\n\n<blockquote>\n  <p>The type or\n  namespace name 'Dictionaries' does not exist in the namespace\n  'WpfApplication3' (are you missing an assembly\n  reference?)</p>\n</blockquote>\n\n<p>I didn't work with WPF for a while, but I'm almost certain, I didn't have such problems before, but I might be wrong on this case.</p>\n\n<p>Edit: When I break the Debugging I get the Message:\n\"Your app has entered a break state, but there is no code to show because all threads where executing external code\".</p>\n"}, {"tags": ["c#", "asynchronous", "download", "webclient"], "comments": [{"owner": {"reputation": 2080, "user_id": 82054, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a696cc26b1dfbe09d61d02956d1d5633?s=128&d=identicon&r=PG", "display_name": "Dmitry Sadakov", "link": "https://stackoverflow.com/users/82054/dmitry-sadakov"}, "edited": false, "score": 0, "creation_date": 1440015634, "post_id": 32104846, "comment_id": 52104373, "body": "Perhaps your app exists before the download is finished, try <code>Console.ReadLine()</code> after calling <code>DownloadFile</code>."}, {"owner": {"reputation": 1223, "user_id": 4170336, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/65b9db971cf25fa970f560029e0f77ff?s=128&d=identicon&r=PG&f=1", "display_name": "Loc Dai Le", "link": "https://stackoverflow.com/users/4170336/loc-dai-le"}, "reply_to_user": {"reputation": 2080, "user_id": 82054, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a696cc26b1dfbe09d61d02956d1d5633?s=128&d=identicon&r=PG", "display_name": "Dmitry Sadakov", "link": "https://stackoverflow.com/users/82054/dmitry-sadakov"}, "edited": false, "score": 0, "creation_date": 1440016066, "post_id": 32104846, "comment_id": 52104625, "body": "Thank for your respons @cDima, but I don&#39;t understand why this works? I only use a Console app to test it."}], "answers": [{"comments": [{"owner": {"reputation": 1223, "user_id": 4170336, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/65b9db971cf25fa970f560029e0f77ff?s=128&d=identicon&r=PG&f=1", "display_name": "Loc Dai Le", "link": "https://stackoverflow.com/users/4170336/loc-dai-le"}, "edited": false, "score": 0, "creation_date": 1440016467, "post_id": 32104961, "comment_id": 52104849, "body": "Thank you for your response @TomA. I&#39;m new with thread programming i C#. How do i block the current thread until download is finish - without using Console.ReadLine()?"}, {"owner": {"reputation": 1223, "user_id": 4170336, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/65b9db971cf25fa970f560029e0f77ff?s=128&d=identicon&r=PG&f=1", "display_name": "Loc Dai Le", "link": "https://stackoverflow.com/users/4170336/loc-dai-le"}, "edited": false, "score": 0, "creation_date": 1440017211, "post_id": 32104961, "comment_id": 52105247, "body": "Thank you very much. Now I get how this works  - thumbs up!"}, {"owner": {"reputation": 1223, "user_id": 4170336, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/65b9db971cf25fa970f560029e0f77ff?s=128&d=identicon&r=PG&f=1", "display_name": "Loc Dai Le", "link": "https://stackoverflow.com/users/4170336/loc-dai-le"}, "edited": false, "score": 0, "creation_date": 1440017436, "post_id": 32104961, "comment_id": 52105380, "body": "One last question @TomA. I want to make an WPF app that can download file form a server. Does this downloading code not freeze my GUI thread?"}, {"owner": {"reputation": 2230, "user_id": 1497128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QaOX5.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/1497128/tom"}, "reply_to_user": {"reputation": 1223, "user_id": 4170336, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/65b9db971cf25fa970f560029e0f77ff?s=128&d=identicon&r=PG&f=1", "display_name": "Loc Dai Le", "link": "https://stackoverflow.com/users/4170336/loc-dai-le"}, "edited": false, "score": 2, "creation_date": 1440018278, "post_id": 32104961, "comment_id": 52105799, "body": "Yes, this method for thread blocking should never be used in a UI application on the main thread. It will render the app useless until it stops calling Thread.Sleep. If you are going to implement this in WPF/WinForm, you do not need to do any thread blocking because, unlike a console app, a UI app will not try to exit until the user closes it. A console app exits when the main method is returned."}, {"owner": {"reputation": 2230, "user_id": 1497128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QaOX5.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/1497128/tom"}, "reply_to_user": {"reputation": 1223, "user_id": 4170336, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/65b9db971cf25fa970f560029e0f77ff?s=128&d=identicon&r=PG&f=1", "display_name": "Loc Dai Le", "link": "https://stackoverflow.com/users/4170336/loc-dai-le"}, "edited": false, "score": 2, "creation_date": 1440018470, "post_id": 32104961, "comment_id": 52105877, "body": "It is also worth looking into async/await, it is a great new feature that was added in .NET 4.5 and helps synchronize async operations with your UI. It eliminates the need for the Completed event as it will return from the current method and pick back up where it returned when the operation completes."}], "tags": [], "owner": {"reputation": 2230, "user_id": 1497128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QaOX5.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/1497128/tom"}, "is_accepted": true, "score": 8, "last_activity_date": 1440016747, "last_edit_date": 1440016747, "creation_date": 1440015736, "answer_id": 32104961, "question_id": 32104846, "link": "https://stackoverflow.com/questions/32104846/download-file-async-using-webclient-doenst-work/32104961#32104961", "title": "Download file async using WebClient doens&#39;t work", "body": "<p>Since Async calls do not block the current thread, my guess is that DownloadFileAsync (<a href=\"https://msdn.microsoft.com/en-us/library/ms144196(v=vs.110).aspx\" rel=\"noreferrer\">https://msdn.microsoft.com/en-us/library/ms144196(v=vs.110).aspx</a>) returns immediately causing your DownloadFile to also return immediately. This will end program execution before the file can finish downloading.</p>\n\n<p>You need to block the thread until the file has finished downloading. Have you considered using async/await from .NET 4.5 (<a href=\"https://msdn.microsoft.com/en-us/library/hh191443.aspx\" rel=\"noreferrer\">https://msdn.microsoft.com/en-us/library/hh191443.aspx</a>)? You can also use the Progress/Completed event to synchronize your thread so the app does not exit until the file has completed. Console.ReadLine() should also block the current thread until Enter is pressed.</p>\n\n<p>I extended your code to support thread blocking. This will sleep the main thread for 1s between checks until the file has completed. I use the keyword \"volatile\" (<a href=\"https://msdn.microsoft.com/en-us/library/x13ttww7.aspx\" rel=\"noreferrer\">https://msdn.microsoft.com/en-us/library/x13ttww7.aspx</a>) to ensure that the newest value is always grabbed. This is important for multi threading. _completed = true is on the outside of the if/else because we want it to exit even if it was canceled. You can extend this solution to handle canceled downloads if you want.</p>\n\n<pre><code>class DownloadGamefile\n{\n    private volatile bool _completed;\n\n    public void DownloadFile(string address, string location)\n    {\n        WebClient client = new WebClient();\n        Uri Uri = new Uri(address);\n        _completed = false;\n\n        client.DownloadFileCompleted += new AsyncCompletedEventHandler(Completed);\n\n        client.DownloadProgressChanged += new DownloadProgressChangedEventHandler(DownloadProgress);\n        client.DownloadFileAsync(Uri, location);\n\n    }\n\n    public bool DownloadCompleted { get { return _completed; } }\n\n    private void DownloadProgress(object sender, DownloadProgressChangedEventArgs e)\n    {\n        // Displays the operation identifier, and the transfer progress.\n        Console.WriteLine(\"{0}    downloaded {1} of {2} bytes. {3} % complete...\",\n            (string)e.UserState,\n            e.BytesReceived,\n            e.TotalBytesToReceive,\n            e.ProgressPercentage);\n    }\n\n    private void Completed(object sender, AsyncCompletedEventArgs e)\n    {\n        if (e.Cancelled == true)\n        {\n            Console.WriteLine(\"Download has been canceled.\");\n        }\n        else\n        {\n            Console.WriteLine(\"Download completed!\");\n        }\n\n        _completed = true;\n    }\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n\n        DownloadGamefile DGF = new DownloadGamefile();\n\n        DGF.DownloadFile(\"URL\", @\"C:\\Users\\LocDaiLe\\Desktop\\file.file\");\n\n        while (!DGF.DownloadCompleted)\n            Thread.Sleep(1000);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1223, "user_id": 4170336, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/65b9db971cf25fa970f560029e0f77ff?s=128&d=identicon&r=PG&f=1", "display_name": "Loc Dai Le", "link": "https://stackoverflow.com/users/4170336/loc-dai-le"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15526, "favorite_count": 2, "accepted_answer_id": 32104961, "answer_count": 1, "score": 3, "last_activity_date": 1440016747, "creation_date": 1440015333, "question_id": 32104846, "link": "https://stackoverflow.com/questions/32104846/download-file-async-using-webclient-doenst-work", "title": "Download file async using WebClient doens&#39;t work", "body": "<p>I'm making an Console application in VS15 using C#. \nHere is my downloading class:</p>\n\n<pre><code>class DownloadGamefile\n{\n    public  void DownloadFile(string address, string location)\n    {\n        WebClient client = new WebClient();\n        Uri Uri = new Uri(address);\n\n        client.DownloadFileCompleted += new AsyncCompletedEventHandler(Completed);\n\n        client.DownloadProgressChanged += new DownloadProgressChangedEventHandler(DownloadProgress);\n        client.DownloadFileAsync(Uri, location);\n\n    }\n\n    private void DownloadProgress(object sender, DownloadProgressChangedEventArgs e)\n    {\n        // Displays the operation identifier, and the transfer progress.\n        Console.WriteLine(\"{0}    downloaded {1} of {2} bytes. {3} % complete...\",\n            (string)e.UserState,\n            e.BytesReceived,\n            e.TotalBytesToReceive,\n            e.ProgressPercentage);\n    }\n\n    private void Completed(object sender, AsyncCompletedEventArgs e)\n    {\n        if (e.Cancelled == true)\n        {\n            Console.WriteLine(\"Download has been canceled.\");\n        }\n        else\n        {\n            Console.WriteLine(\"Download completed!\");\n        }\n    }\n}\n</code></pre>\n\n<p>and here is my main:</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n\n        DownloadGamefile DGF = new DownloadGamefile();\n\n        DGF.DownloadFile(\"URL\", @\"C:\\Users\\LocDaiLe\\Desktop\\file.file\");\n\n    }\n}\n</code></pre>\n\n<p>The file appear in the right folder, but the size is 0bytes and my Console don't show any downloading progress. </p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6", "naming-conventions"], "comments": [{"owner": {"reputation": 11998, "user_id": 59849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BZ6oY.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/59849/peter"}, "edited": false, "score": 0, "creation_date": 1440018566, "post_id": 32104831, "comment_id": 52105922, "body": "MSDN has an example of creating a custom ForeignKeyNamingConvention here: <a href=\"https://msdn.microsoft.com/en-us/data/dn469439.aspx#example2\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/data/dn469439.aspx#example2</a> ... I haven&#39;t tried this but it might be something you could build on."}, {"owner": {"reputation": 8415, "user_id": 505990, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/QaLn2.jpg?s=128&g=1", "display_name": "Leonardo", "link": "https://stackoverflow.com/users/505990/leonardo"}, "reply_to_user": {"reputation": 11998, "user_id": 59849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BZ6oY.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/59849/peter"}, "edited": false, "score": 0, "creation_date": 1440075138, "post_id": 32104831, "comment_id": 52129909, "body": "@Peter thank you! worked perfectly! would you mind posting as answer so I can accept it?"}, {"owner": {"reputation": 11998, "user_id": 59849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BZ6oY.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/59849/peter"}, "edited": false, "score": 0, "creation_date": 1440086161, "post_id": 32104831, "comment_id": 52138007, "body": "Great! Feel free to update my answer (or post and accept your own answer) with the code that worked for you. I&#39;m sure it would be useful for other users."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 2889230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26c89976d1f9d95f6c0afe6565016ff3?s=128&d=identicon&r=PG&f=1", "display_name": "JarekCz", "link": "https://stackoverflow.com/users/2889230/jarekcz"}, "is_accepted": false, "score": 1, "last_activity_date": 1440017366, "last_edit_date": 1440017366, "creation_date": 1440016199, "answer_id": 32105095, "question_id": 32104831, "link": "https://stackoverflow.com/questions/32104831/change-ef6-key-fk-convention/32105095#32105095", "title": "Change EF6 key FK convention", "body": "<p>I think that the best way is to use fluent mapping, for instance</p>\n\n<pre><code>.Map(m =&gt; m.MapKey(\"id_EntityName\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4114, "user_id": 77712, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2288494033cbbbe3de861f60bdf6934c?s=128&d=identicon&r=PG", "display_name": "DDiVita", "link": "https://stackoverflow.com/users/77712/ddivita"}, "is_accepted": false, "score": 0, "last_activity_date": 1440016372, "creation_date": 1440016372, "answer_id": 32105144, "question_id": 32104831, "link": "https://stackoverflow.com/questions/32104831/change-ef6-key-fk-convention/32105144#32105144", "title": "Change EF6 key FK convention", "body": "<p>You can do this through setting up the mappings for your entities.</p>\n\n<pre><code>public class User\n{\n     public int Id {get;set;}\n     public virtual Address Address {get;set;}\n\n\n}\n\npublic class Address\n{\n     public int Id {get;set;}\n     //Some other properties\n}\n\n\n\n\npublic class UserMapping: EntityTypeConfiguration&lt;User&gt;\n{\n    public UserMapping()\n    {\n         HasOptional(u =&gt; u.Address).WithMany()\n                                   .Map(m =&gt; m.MapKey(\"Id_Address\"));\n\n    }\n}\n\n//Override the OnModelCreating method in the DbContext\nprotected override void OnModelCreating(DbModelBuilder modelBuilder)\n{\n      modelBuild.Configurations.Add(new UserMapping());\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11998, "user_id": 59849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BZ6oY.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/59849/peter"}, "is_accepted": true, "score": 2, "last_activity_date": 1440087109, "last_edit_date": 1440087109, "creation_date": 1440085262, "answer_id": 32122604, "question_id": 32104831, "link": "https://stackoverflow.com/questions/32104831/change-ef6-key-fk-convention/32122604#32122604", "title": "Change EF6 key FK convention", "body": "<p><a href=\"http://msdn.microsoft.com/en-us/data/dn469439.aspx#example2\" rel=\"nofollow\">MSDN has an example of creating a custom ForeignKeyNamingConvention</a>. You could modify this example to name the Foreign Keys according to your convention.</p>\n\n<p>I haven't tested this, but here's some rough code that you might be able to build on:</p>\n\n<pre><code>public class ForeignKeyNamingConvention : IStoreModelConvention&lt;AssociationType&gt;\n{\n    public void Apply(AssociationType association, DbModel model)\n    {\n        if (association.IsForeignKey)\n        {\n            var constraint = association.Constraint;\n\n            for (int i = 0; i &lt; constraint.ToProperties.Count; ++i)\n            {\n                int underscoreIndex = constraint.ToProperties[i].Name.IndexOf('_');\n                if (underscoreIndex &gt; 0)\n                {\n                    // change from EntityName_Id to id_EntityName\n                    constraint.ToProperties[i].Name = \"id_\" + constraint.ToProperties[i].Name.Remove(underscoreIndex);\n                } \n            }\n        }\n    }\n}\n</code></pre>\n\n<p>You can then register your custom convention in your <code>DbContext's</code> <code>OnModelCreating()</code> method like this:</p>\n\n<pre><code>protected override void OnModelCreating(DbModelBuilder modelBuilder)  \n{  \n    modelBuilder.Conventions.Add&lt;ForeignKeyNamingConvention&gt;();  \n} \n</code></pre>\n"}], "owner": {"reputation": 8415, "user_id": 505990, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/QaLn2.jpg?s=128&g=1", "display_name": "Leonardo", "link": "https://stackoverflow.com/users/505990/leonardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 32122604, "answer_count": 3, "score": 0, "last_activity_date": 1440087109, "creation_date": 1440015276, "last_edit_date": 1440017654, "question_id": 32104831, "link": "https://stackoverflow.com/questions/32104831/change-ef6-key-fk-convention", "title": "Change EF6 key FK convention", "body": "<p>EF by default name my FKs as <code>EntityName_id</code> and I would like it to be named <code>id_EntityName</code>. How can I do that?</p>\n\n<p><strong>Edit1:</strong><br>\nThere are over 700 FKs here... automate this would be a lot faster I belive... Also intend to use the same answer to normalize composite PKs...</p>\n"}, {"tags": ["c#", "entity-framework", "migration"], "answers": [{"comments": [{"owner": {"reputation": 642, "user_id": 3530012, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/5f201c552066c56aa83f6018cfa93d14?s=128&d=identicon&r=PG&f=1", "display_name": "user3530012", "link": "https://stackoverflow.com/users/3530012/user3530012"}, "edited": false, "score": 0, "creation_date": 1440017595, "post_id": 32105319, "comment_id": 52105450, "body": "I&#39;ve seen in many sample codes that they&#39;ve set AutomaticMigrationsEnabled to false. Is it ok to leave the migration totally on the EF?"}, {"owner": {"reputation": 4114, "user_id": 77712, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2288494033cbbbe3de861f60bdf6934c?s=128&d=identicon&r=PG", "display_name": "DDiVita", "link": "https://stackoverflow.com/users/77712/ddivita"}, "reply_to_user": {"reputation": 642, "user_id": 3530012, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/5f201c552066c56aa83f6018cfa93d14?s=128&d=identicon&r=PG&f=1", "display_name": "user3530012", "link": "https://stackoverflow.com/users/3530012/user3530012"}, "edited": false, "score": 0, "creation_date": 1440034239, "post_id": 32105319, "comment_id": 52110479, "body": "@user3530012, it depends on the changes you make to your models over time and if you need to manually add migration code. Sometimes your model can change so much the the underlying data store needs to know how to perform the migrations. EF is decent at keeping track of the migrations for you if your model does not change drastically or your keys / indexes are not effected"}], "tags": [], "owner": {"reputation": 4114, "user_id": 77712, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2288494033cbbbe3de861f60bdf6934c?s=128&d=identicon&r=PG", "display_name": "DDiVita", "link": "https://stackoverflow.com/users/77712/ddivita"}, "is_accepted": false, "score": 1, "last_activity_date": 1440017020, "creation_date": 1440017020, "answer_id": 32105319, "question_id": 32104820, "link": "https://stackoverflow.com/questions/32104820/how-to-enable-migration-when-context-and-models-are-in-separate-assemblies/32105319#32105319", "title": "How to enable Migration when context and models are in separate assemblies", "body": "<p>You can setup initialization classes that can be called from your startup project.</p>\n\n<pre><code> public static class InitializeAndSeed\n        {\n            public static void InitializeContext()\n            {\n                Database.SetInitializer(new MigrateDatabaseToLatestVersion&lt;YourDbContext \n                                        ,YourDbContextMigrations&gt;());\n\n                using (var db = new YourDbContext())\n                {\n                    db.Database.Initialize(false);\n                }\n            }\n\n\n        }\n\n    public class YourDbContextMigrations : DbMigrationsConfiguration&lt;YourDbContext&gt;\n        {\n\n\n            public YourDbContextMigrations ()\n            {\n                AutomaticMigrationsEnabled = true;\n                AutomaticMigrationDataLossAllowed = true;   \n            }\n\n          //Your seeding and your migrations\n         }\n</code></pre>\n\n<p>Then, from your startup project you can call the <code>InitializeContext()</code> method to initialize the context from an application startup class or where ever you need. You just want to make sure you only initialize it once per application start. </p>\n"}], "owner": {"reputation": 642, "user_id": 3530012, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/5f201c552066c56aa83f6018cfa93d14?s=128&d=identicon&r=PG&f=1", "display_name": "user3530012", "link": "https://stackoverflow.com/users/3530012/user3530012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440017405, "creation_date": 1440015226, "last_edit_date": 1440017405, "question_id": 32104820, "link": "https://stackoverflow.com/questions/32104820/how-to-enable-migration-when-context-and-models-are-in-separate-assemblies", "title": "How to enable Migration when context and models are in separate assemblies", "body": "<p>I'm working on a c# windows desktop project using Entity Framework 6. There are 3 different project in the solution. Let's say <code>ProjectA</code> which is the startup project and includes the exe file; <code>ProjectB</code> which is the framework and includes the <code>DbContext</code>; and <code>ProjectC</code> which includes all the models.</p>\n\n<p>Now I really don't know how I should enable migration for these different projects since each one is going to be a separate assembly.</p>\n\n<p>I'm familiar with enable migration and add migration commands however I don't know how to use it when the context is in another assembly and the models in yet another assembly.</p>\n\n<p>Please help.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", ".net", "winforms", "datagridview"], "comments": [{"owner": {"reputation": 5921, "user_id": 1641556, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Etk7o.png?s=128&g=1", "display_name": "Elshan", "link": "https://stackoverflow.com/users/1641556/elshan"}, "edited": false, "score": 0, "creation_date": 1440056767, "post_id": 32104809, "comment_id": 52117958, "body": "The event is probably raised before the elements are fully loaded or the references are still unset, hence the exceptions"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5170408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d99cd6025f01d6f5cf1369bbe5987c2d?s=128&d=identicon&r=PG&f=1", "display_name": "Nuthssall", "link": "https://stackoverflow.com/users/5170408/nuthssall"}, "edited": false, "score": 0, "creation_date": 1440016078, "post_id": 32104879, "comment_id": 52104632, "body": "It makes sense.. But still does not working.. Same error again ."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "reply_to_user": {"reputation": 11, "user_id": 5170408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d99cd6025f01d6f5cf1369bbe5987c2d?s=128&d=identicon&r=PG&f=1", "display_name": "Nuthssall", "link": "https://stackoverflow.com/users/5170408/nuthssall"}, "edited": false, "score": 0, "creation_date": 1440016285, "post_id": 32104879, "comment_id": 52104756, "body": "Try to use RemoveAt instead of Remove"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "reply_to_user": {"reputation": 11, "user_id": 5170408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d99cd6025f01d6f5cf1369bbe5987c2d?s=128&d=identicon&r=PG&f=1", "display_name": "Nuthssall", "link": "https://stackoverflow.com/users/5170408/nuthssall"}, "edited": false, "score": 0, "creation_date": 1440054279, "post_id": 32104879, "comment_id": 52116512, "body": "Still same error? A different message now? As is this should work unless there is a situation of multithreading at work here. Did you call this code in the same thread of your main application?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "reply_to_user": {"reputation": 11, "user_id": 5170408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d99cd6025f01d6f5cf1369bbe5987c2d?s=128&d=identicon&r=PG&f=1", "display_name": "Nuthssall", "link": "https://stackoverflow.com/users/5170408/nuthssall"}, "edited": false, "score": 0, "creation_date": 1440055930, "post_id": 32104879, "comment_id": 52117479, "body": "Probably the source of your problem is something inside the LoadDataAsync method. Can you add that code?"}, {"owner": {"reputation": 11, "user_id": 5170408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d99cd6025f01d6f5cf1369bbe5987c2d?s=128&d=identicon&r=PG&f=1", "display_name": "Nuthssall", "link": "https://stackoverflow.com/users/5170408/nuthssall"}, "edited": false, "score": 0, "creation_date": 1440056548, "post_id": 32104879, "comment_id": 52117833, "body": "Sure.. Check now.. I&#39;ve deleted the query string because it&#39;s pretty long. Note that the function works fine when I display data on my form DataGridView."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "reply_to_user": {"reputation": 11, "user_id": 5170408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d99cd6025f01d6f5cf1369bbe5987c2d?s=128&d=identicon&r=PG&f=1", "display_name": "Nuthssall", "link": "https://stackoverflow.com/users/5170408/nuthssall"}, "edited": false, "score": 0, "creation_date": 1440057355, "post_id": 32104879, "comment_id": 52118293, "body": "Problem is probably the Async calls. Remove them and see if the code works"}], "tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": false, "score": 1, "last_activity_date": 1440016333, "last_edit_date": 1440016333, "creation_date": 1440015415, "answer_id": 32104879, "question_id": 32104809, "link": "https://stackoverflow.com/questions/32104809/error-when-removing-a-column-from-datagridview/32104879#32104879", "title": "Error when removing a column from DataGridView", "body": "<p>You should work on your gridview removing columns in descending order</p>\n\n<pre><code>   foreach (var columnIndex in columnsToRemove.OrderByDescending(x =&gt; x)\n   {\n        gridViewToExport.Columns.RemoveAt(columnIndex); \n   }\n</code></pre>\n\n<p>If you remove the columns following an increasing order you could end up with indexes pointing to columns no more existing </p>\n"}], "owner": {"reputation": 11, "user_id": 5170408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d99cd6025f01d6f5cf1369bbe5987c2d?s=128&d=identicon&r=PG&f=1", "display_name": "Nuthssall", "link": "https://stackoverflow.com/users/5170408/nuthssall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440056487, "creation_date": 1440015192, "last_edit_date": 1440056487, "question_id": 32104809, "link": "https://stackoverflow.com/questions/32104809/error-when-removing-a-column-from-datagridview", "title": "Error when removing a column from DataGridView", "body": "<p>I'm trying to export a <code>DataGridView</code> to PDF, based on user <code>CheckBox</code> selection. </p>\n\n<p>When I remove some columns from the 'copy' of the <code>DataGridView</code>, I get a general error: </p>\n\n<blockquote>\n  <p><b>An unhandled exception of type\n  'system.reflection.targetinvocationexception' occurred in mscorlib.dll</p>\n  \n  <p>Additional information: exception has been thrown by the target of an\n  invocation.</b></p>\n</blockquote>\n\n<p>This is my code:</p>\n\n<pre><code>var gridViewToExport = dataGridView1; \n\nforeach (var columnIndex in columnsToRemove) //columnsToRemove is a List of int\n{\n    gridViewToExport.Columns.Remove(gridViewToExport.Columns[columnIndex]); //This is the line where the error is thrown.\n}\n</code></pre>\n\n<p>More code:</p>\n\n<pre><code>var gridViewToExport = new DataGridView();\nawait Services.LoadDataAsync(gridViewToExport);\n\nforeach (var columnIndex in columnsToRemove.OrderByDescending(x =&gt; x))\n{\n    gridViewToExport.Columns.RemoveAt(columnIndex); \n}\ntry\n{\n    string contactInfo = metroTextBoxContact.Text;\n    Services.ContactInfo = contactInfo;\n    Services.ExportToPdf(gridViewToExport);\n}\ncatch (Exception ex)\n{\n    MessageBox.Show(ex.Message);\n}\n</code></pre>\n\n<p><code>LoadDataAsync Function</code></p>\n\n<pre><code>    public async static Task LoadDataAsync(DataGridView gridView)\n    {\n        const string getDataQuerySql = @\"My query string\";\n\n        using (var connection = new SqlConnection(ConnectionString))\n        {\n            if (connection.State == ConnectionState.Closed)\n                await connection.OpenAsync();\n\n            var command = new SqlCommand\n            {\n                Connection = connection, \n                CommandType = CommandType.Text, \n                CommandText = getDataQuerySql,\n                CommandTimeout = 20000\n            };\n\n            using (var adapter = new SqlDataAdapter(command))\n            {\n                var table = new DataTable();\n\n                adapter.Fill(table);\n                gridView.DataSource = table;\n                gridView.Update();\n                gridView.Refresh();\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["javascript", "c#", "asp.net"], "comments": [{"owner": {"reputation": 444, "user_id": 2452905, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/742fd6e9413741ed2f2357e6382618d3?s=128&d=identicon&r=PG", "display_name": "Vahlkron", "link": "https://stackoverflow.com/users/2452905/vahlkron"}, "edited": false, "score": 0, "creation_date": 1440015074, "post_id": 32104734, "comment_id": 52104057, "body": "when you tried using asp:Textbox, did you also include runat=&quot;server&quot;?"}, {"owner": {"reputation": 2080, "user_id": 82054, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a696cc26b1dfbe09d61d02956d1d5633?s=128&d=identicon&r=PG", "display_name": "Dmitry Sadakov", "link": "https://stackoverflow.com/users/82054/dmitry-sadakov"}, "edited": false, "score": 0, "creation_date": 1440015175, "post_id": 32104734, "comment_id": 52104133, "body": "Are you using C#  in ASP.net MVC or just ASP.Net?"}, {"owner": {"reputation": 566, "user_id": 343311, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da3722055d4beffcf55fb066dd10da85?s=128&d=identicon&r=PG", "display_name": "duckwizzle", "link": "https://stackoverflow.com/users/343311/duckwizzle"}, "edited": false, "score": 0, "creation_date": 1440015210, "post_id": 32104734, "comment_id": 52104156, "body": "Yes I did. I even manually put an asp:Textbox on the page just to see if I could access it and I could. Just the dynamic controls are eluding me."}], "answers": [{"comments": [{"owner": {"reputation": 566, "user_id": 343311, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da3722055d4beffcf55fb066dd10da85?s=128&d=identicon&r=PG", "display_name": "duckwizzle", "link": "https://stackoverflow.com/users/343311/duckwizzle"}, "edited": false, "score": 0, "creation_date": 1440015741, "post_id": 32104841, "comment_id": 52104427, "body": "There could be a point where this page will have over 100 textboxes - which I guess would I would have to create 100 update panels. Is this the most efficient way? Sorry - web programming is kind of new to me."}, {"owner": {"reputation": 2080, "user_id": 82054, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a696cc26b1dfbe09d61d02956d1d5633?s=128&d=identicon&r=PG", "display_name": "Dmitry Sadakov", "link": "https://stackoverflow.com/users/82054/dmitry-sadakov"}, "reply_to_user": {"reputation": 566, "user_id": 343311, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da3722055d4beffcf55fb066dd10da85?s=128&d=identicon&r=PG", "display_name": "duckwizzle", "link": "https://stackoverflow.com/users/343311/duckwizzle"}, "edited": false, "score": 0, "creation_date": 1440015818, "post_id": 32104841, "comment_id": 52104468, "body": "No, one update panel with 100&#39;s of dynamically created controls would work ok."}], "tags": [], "owner": {"reputation": 2080, "user_id": 82054, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a696cc26b1dfbe09d61d02956d1d5633?s=128&d=identicon&r=PG", "display_name": "Dmitry Sadakov", "link": "https://stackoverflow.com/users/82054/dmitry-sadakov"}, "is_accepted": true, "score": 1, "last_activity_date": 1440015310, "creation_date": 1440015310, "answer_id": 32104841, "question_id": 32104734, "link": "https://stackoverflow.com/questions/32104734/how-do-i-access-these-dynamically-created-controls-from-the-code-behind/32104841#32104841", "title": "How do I access these dynamically created controls from the code behind?", "body": "<p>C# backend will not have access to dynamically jquery-created input fields. You can create server controls in ASP.Net with the code behind and using an <a href=\"https://msdn.microsoft.com/en-us/library/bb386454.aspx\" rel=\"nofollow\">UpdatePanel as in the example</a>.</p>\n"}], "owner": {"reputation": 566, "user_id": 343311, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da3722055d4beffcf55fb066dd10da85?s=128&d=identicon&r=PG", "display_name": "duckwizzle", "link": "https://stackoverflow.com/users/343311/duckwizzle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1394, "favorite_count": 0, "accepted_answer_id": 32104841, "answer_count": 1, "score": 0, "last_activity_date": 1440015310, "creation_date": 1440014951, "question_id": 32104734, "link": "https://stackoverflow.com/questions/32104734/how-do-i-access-these-dynamically-created-controls-from-the-code-behind", "title": "How do I access these dynamically created controls from the code behind?", "body": "<p>I am trying to create a web page that starts off blank. With every button press new textboxes are added with a delete button to remove whatever row they want. That works great. The problem is I cannot access the dynamically created controls using C#.</p>\n\n<p>In the code below I have them set up as <code>&lt;input</code> I've also tried using <code>&lt;asp:Textbox</code> but it also did not work. <code>Request.Form[\"txtItemName1\"]</code> always returns a blank string and I cannot do <code>txtItemName1.Text</code> in the CS file because the textboxes don't exist yet.</p>\n\n<p>How am I suppose to access the textboxes from the C# side?</p>\n\n<p>Is there a better way to create controls dynamically?</p>\n\n<pre><code>&lt;!-- jQuery --&gt;\n&lt;script type=\"text/javascript\"&gt;\n    $(window).load(function () {\n        $(document).ready(function () {\n            var counter = 1;\n            $(document).on('click', '.removeButtonByID', function () {\n                var _name = this.name.replace(\"btnRemove\", \"\");\n                if (confirm('Are you sure you want to remove line ' + _name + '? This cannot be undone.')) {\n                    $(\"#TextBoxDiv\" + _name).remove();\n                }\n            });\n\n            $(\"#addButton\").click(function () {\n                $('&lt;div /&gt;', { 'id': 'TextBoxDiv' + counter }).html(\n                  $('&lt;label /&gt;').html('')\n                )\n                    .append($('&lt;div class=\"col-sm-1\" style=\"width: 200px; padding-left: 7px; padding-right: 0px;\"&gt;&lt;input type=\"text\" class=\"form-control\" placeholder=\"Item Name\" runat=\"server\"&gt;').attr({ 'id': 'txtItemName' + counter, 'name': 'txtItemName' + counter }))\n                    .append($('&lt;div class=\"col-sm-1\" style=\"width: 100px; padding-left: 7px; padding-right: 0px;\"&gt;&lt;input type=\"text\" class=\"form-control\" placeholder=\"D/I\" runat=\"server\"&gt;').attr({ 'id': 'txtDI' + counter, 'name': 'txtDI' + counter }))\n\n                    .append($('&lt;div class=\"col-sm-1\"&gt;&lt;label class=\"checkbox-inline\"&gt;&lt;input type=\"checkbox\" value=\"\"&gt;Subtotal&lt;/label&gt;').attr({ 'id': 'subtotal' + counter, 'name': 'chkSubTotal' + counter }))\n                    .append($('&lt;br /&gt;'))\n\n                .append($('&lt;button type=\"button\"&gt;&lt;span class=\"glyphicon glyphicon-minus\"&gt;&lt;/span&gt;&lt;/button&gt;').attr({ 'name': 'btnRemove' + counter, 'class': 'btn btn-danger removeButtonByID' }))\n\n                .appendTo('#TextBoxesGroup')\n\n                counter++;\n            });\n        });\n    });\n&lt;/script&gt;\n\n&lt;!-- HTML --&gt;\n\n&lt;div id='TextBoxesGroup'&gt;\n   &lt;!-- Dynamically added textboxes here --&gt;\n&lt;/div&gt;\n&lt;hr /&gt;\n&lt;button type=\"button\" class=\"btn btn-default\" id='addButton'&gt;\n   &lt;span class=\"glyphicon glyphicon-plus\"&gt;&lt;/span&gt;\n&lt;/button&gt;\n</code></pre>\n"}, {"tags": ["c#", "datetime", "packet"], "comments": [{"owner": {"reputation": 9950, "user_id": 1246870, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a3488ac45b71c2f0829a84d1f93a1d75?s=128&d=identicon&r=PG", "display_name": "avs099", "link": "https://stackoverflow.com/users/1246870/avs099"}, "edited": false, "score": 0, "creation_date": 1440015410, "post_id": 32104695, "comment_id": 52104262, "body": "what values are you getting in packet.Seconds? are you sure that&#39;s not a relative time?"}, {"owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "edited": false, "score": 0, "creation_date": 1440015914, "post_id": 32104695, "comment_id": 52104527, "body": "It sounds like you really need a <code>TimeSpan</code> for this data."}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 4318644, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6ff2f47e8733278c719090173394c0a7?s=128&d=identicon&r=PG&f=1", "display_name": "mot rer", "link": "https://stackoverflow.com/users/4318644/mot-rer"}, "edited": false, "score": 0, "creation_date": 1440015537, "post_id": 32104868, "comment_id": 52104327, "body": "And what about my Microseconds  ?"}, {"owner": {"reputation": 2410, "user_id": 453449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d7a26f0d1fbc17eb4209b5f4387e6b02?s=128&d=identicon&r=PG", "display_name": "kmc059000", "link": "https://stackoverflow.com/users/453449/kmc059000"}, "reply_to_user": {"reputation": 143, "user_id": 4318644, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6ff2f47e8733278c719090173394c0a7?s=128&d=identicon&r=PG&f=1", "display_name": "mot rer", "link": "https://stackoverflow.com/users/4318644/mot-rer"}, "edited": false, "score": 0, "creation_date": 1440015718, "post_id": 32104868, "comment_id": 52104418, "body": "Well microseconds are just a fraction of a second. You can use the same AddSeconds method to add microseconds, you just need to convert the microseconds to seconds. From googling, there are 1,000,000 microseconds in a second. So <code>dateTime.AddSeconds(packet.Microseconds &#47; 1000000.0);</code> should do the trick"}], "tags": [], "owner": {"reputation": 2410, "user_id": 453449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d7a26f0d1fbc17eb4209b5f4387e6b02?s=128&d=identicon&r=PG", "display_name": "kmc059000", "link": "https://stackoverflow.com/users/453449/kmc059000"}, "is_accepted": true, "score": 0, "last_activity_date": 1440015742, "last_edit_date": 1440015742, "creation_date": 1440015398, "answer_id": 32104868, "question_id": 32104695, "link": "https://stackoverflow.com/questions/32104695/datetime-of-packet-from-seconds-and-microseconds/32104868#32104868", "title": "DateTime of packet from Seconds and Microseconds", "body": "<p>The problem is that the seconds parameter in that constructor must be between 0 and 59 inclusively. What you really want is 1970-1-1 plus the number of seconds.</p>\n\n<pre><code>var dateTime = new DateTime(1970, 1, 1).AddSeconds(packet.Seconds).AddSeconds(packet.Microseconds / 1000000.0);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2849, "user_id": 4279704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yygmz.png?s=128&g=1", "display_name": "Riad Baghbanli", "link": "https://stackoverflow.com/users/4279704/riad-baghbanli"}, "is_accepted": false, "score": 1, "last_activity_date": 1440015617, "creation_date": 1440015617, "answer_id": 32104931, "question_id": 32104695, "link": "https://stackoverflow.com/questions/32104695/datetime-of-packet-from-seconds-and-microseconds/32104931#32104931", "title": "DateTime of packet from Seconds and Microseconds", "body": "<p>Code:</p>\n\n<pre><code>var dateTime = new DateTime(1970, 1, 1).AddSeconds(packet.Seconds).AddTicks(packet.Microseconds * 10);\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 4318644, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6ff2f47e8733278c719090173394c0a7?s=128&d=identicon&r=PG&f=1", "display_name": "mot rer", "link": "https://stackoverflow.com/users/4318644/mot-rer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 32104868, "answer_count": 2, "score": 0, "last_activity_date": 1440015742, "creation_date": 1440014823, "last_edit_date": 1440015138, "question_id": 32104695, "link": "https://stackoverflow.com/questions/32104695/datetime-of-packet-from-seconds-and-microseconds", "title": "DateTime of packet from Seconds and Microseconds", "body": "<p>I have class that open <code>Pcap file</code>and have this 2 members: <code>Seconds</code> and <code>Microseconds</code> (both int).\nHow can i create from this 2 fields <code>DateTime</code> ?</p>\n\n<p>This is what i have try:</p>\n\n<pre><code>DateTime dateTime = new DateTime(1970, 1, 1, 0, 0, packet.Seconds);\n</code></pre>\n\n<p>And got this error: </p>\n\n<blockquote>\n  <p>Hour, Minute, and Second parameters describe an un-representable\n  DateTime.</p>\n</blockquote>\n"}, {"tags": ["c#", "cookies", "login", "web-scraping", "web-crawler"], "comments": [{"owner": {"reputation": 2850, "user_id": 1258622, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/28f348f90f6643f75889291ddd1f346a?s=128&d=identicon&r=PG", "display_name": "yvesmancera", "link": "https://stackoverflow.com/users/1258622/yvesmancera"}, "edited": false, "score": 0, "creation_date": 1440015115, "post_id": 32104630, "comment_id": 52104087, "body": "What error do you get? Please add the stack trace."}], "answers": [{"comments": [{"owner": {"reputation": 2677, "user_id": 5244950, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/8iSIn.png?s=128&g=1", "display_name": "AJ_", "link": "https://stackoverflow.com/users/5244950/aj"}, "edited": false, "score": 0, "creation_date": 1440020574, "post_id": 32104718, "comment_id": 52106856, "body": "Im kinda confused on cookies. What code goes below the //your code here. i&#39;m using  WebRequest  for the login to handle the post method."}], "tags": [], "owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "is_accepted": false, "score": 0, "last_activity_date": 1440014887, "creation_date": 1440014887, "answer_id": 32104718, "question_id": 32104630, "link": "https://stackoverflow.com/questions/32104630/c-how-to-store-login-information-while-web-scraping/32104718#32104718", "title": "c# How to store login information while web scraping", "body": "<p>When you login to a website, the server will issue a cookie which must be re-sent on subsequent requests so the server knows you're logged-in (otherwise you get redirected to the login page or some other error).</p>\n\n<p>By default, <code>HttpWebRequest</code> does not preserve cookies between requests, you need to manage this yourself:</p>\n\n<pre><code>private CookieContainer sessionCookies = new CookieContainer();\n\npublic void MakeRequest() {\n    HttpWebRequest request = HttpWebRequest.Create();\n    request.CookieContainer = this.sessionCookies;\n    // your code here\n    request.GetResponse();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2677, "user_id": 5244950, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/8iSIn.png?s=128&g=1", "display_name": "AJ_", "link": "https://stackoverflow.com/users/5244950/aj"}, "edited": false, "score": 0, "creation_date": 1440117414, "post_id": 32111510, "comment_id": 52152114, "body": "There is no such thing as    this.sessionCookies = response.GetCoookies();"}, {"owner": {"reputation": 4346, "user_id": 1230477, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/26d474ef31982bd364a8e4b38bed9fe5?s=128&d=identicon&r=PG", "display_name": "Igor Savinkin", "link": "https://stackoverflow.com/users/1230477/igor-savinkin"}, "reply_to_user": {"reputation": 2677, "user_id": 5244950, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/8iSIn.png?s=128&g=1", "display_name": "AJ_", "link": "https://stackoverflow.com/users/5244950/aj"}, "edited": false, "score": 0, "creation_date": 1440141695, "post_id": 32111510, "comment_id": 52159592, "body": "@John, how can you be sure that incoming cookies are stored at your web crawler?"}], "tags": [], "owner": {"reputation": 4346, "user_id": 1230477, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/26d474ef31982bd364a8e4b38bed9fe5?s=128&d=identicon&r=PG", "display_name": "Igor Savinkin", "link": "https://stackoverflow.com/users/1230477/igor-savinkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1440053921, "creation_date": 1440053921, "answer_id": 32111510, "question_id": 32104630, "link": "https://stackoverflow.com/questions/32104630/c-how-to-store-login-information-while-web-scraping/32111510#32111510", "title": "c# How to store login information while web scraping", "body": "<p>Dai has rightly presented the way to leverage cookies. Yet, besides loading cookeis into request, you also need to store new arrived cookies into a CookieContainer variable:</p>\n\n<pre><code>private CookieContainer sessionCookies = new CookieContainer();\n\npublic static string GetWebText(string url) {\n   HttpWebRequest request = HttpWebRequest.Create();\n   request.CookieContainer = this.sessionCookies; // loading cookies in\n   WebResponse response = request.GetResponse();\n   // now we need to store cookies received from server into the sessionCookies variable\n   this.sessionCookies = response.GetCoookies(); // GetCoookies() method or similar, check C# specification\n   ...\n   return htmlText;\n}\n</code></pre>\n\n<p><code>// your code here</code> - might be just anything (nothing) in between request and response. I've removed it. </p>\n"}], "owner": {"reputation": 2677, "user_id": 5244950, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/8iSIn.png?s=128&g=1", "display_name": "AJ_", "link": "https://stackoverflow.com/users/5244950/aj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 948, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1440053921, "creation_date": 1440014556, "question_id": 32104630, "link": "https://stackoverflow.com/questions/32104630/c-how-to-store-login-information-while-web-scraping", "title": "c# How to store login information while web scraping", "body": "<p>Im writing a web-crawler in c#. So far in my pogram i can scan the websites source code. For my intended website i need to be logged in to access the a statics page. However with my code, i login just fine and can scan the source code, However when i navitged to the download page, i got an error. I think its because i need to somehow tell the website that im still login in. How do i do that? </p>\n\n<p>Current code . </p>\n\n<pre><code>using System;\nusing System.Net;\nusing System.IO;\nusing System.Text;\n\nnamespace WebCraler\n{\n    class MainClass\n    {\n        static string username = \"john\" ;\n        static string password = \"123\"; \n\n        public static void Main (string[] args)\n        {\n            Console.WriteLine (\"Test login\");\n            String Page = GetWebText(\"http://localhost/PHP/Login/userStats.php\");\n            Console.WriteLine (Page);\n\n            Console.WriteLine (\"Test Login\");\n            String response = loginResponse(); \n            Console.WriteLine (response);\n        }\n\n        public static string GetWebText(string url)\n        {\n            HttpWebRequest request = (HttpWebRequest)HttpWebRequest.Create(url);\n            request.UserAgent = \"A .NET Web Crawler\";\n            WebResponse response = request.GetResponse();\n            Stream stream = response.GetResponseStream();\n            StreamReader reader = new StreamReader(stream);\n            string htmlText=\"\";\n            string line;\n            while ((line = reader.ReadLine()) != null){\n                if(line.Contains(\"&lt;td&gt;\"))\n                {\n                    //htmlText += \"\\n *****Found Andrew Kralovec****** \\n\";\n                }\n                htmlText += line+\"\\n\";\n            }\n            //string htmlText = reader.ReadToEnd();\n            return htmlText;\n        }\n\n        private static String loginResponse()\n        {\n            try{\n\n                ASCIIEncoding encoding = new ASCIIEncoding();\n                string postData = \"myusername=\" + username + \"&amp;mypassword=\" + password;\n                byte[] data = encoding.GetBytes(postData);\n\n                WebRequest request = WebRequest.Create(\"http://localhost/PHP/Login/check_login.php\");\n                request.Method = \"POST\";\n                request.ContentType = \"application/x-www-form-urlencoded\";\n                request.ContentLength = data.Length;\n\n                Stream stream = request.GetRequestStream();\n                stream.Write(data, 0, data.Length);\n                stream.Close();\n\n                WebResponse response = request.GetResponse();\n                stream = response.GetResponseStream();\n\n                StreamReader steamReader = new StreamReader(stream);\n                String htmlRespones = steamReader.ReadToEnd();\n\n                steamReader.Close();\n                stream.Close();\n\n                return htmlRespones ; \n\n\n            }catch{\n                String htmlRespones = \"Catch Error\"; \n                return htmlRespones ; \n\n            }\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "jquery", "html", "asp.net", "ajax"], "comments": [{"owner": {"reputation": 2639, "user_id": 3072566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaZNV.png?s=128&g=1", "display_name": "litelite", "link": "https://stackoverflow.com/users/3072566/litelite"}, "edited": false, "score": 0, "creation_date": 1440014780, "post_id": 32104586, "comment_id": 52103885, "body": "The breakpoint is never hit because you js is canceling the event. so the form is never sent. What you are serching for is called <a href=\"http://www.w3schools.com/ajax/\" rel=\"nofollow noreferrer\">AJAX</a>"}, {"owner": {"reputation": 88017, "user_id": 201078, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/I7p2N.jpg?s=128&g=1", "display_name": "Gone Coding", "link": "https://stackoverflow.com/users/201078/gone-coding"}, "reply_to_user": {"reputation": 2639, "user_id": 3072566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaZNV.png?s=128&g=1", "display_name": "litelite", "link": "https://stackoverflow.com/users/3072566/litelite"}, "edited": false, "score": 0, "creation_date": 1440016332, "post_id": 32104586, "comment_id": 52104780, "body": "@litelite: Actually they have another mistake (<code>preventDefault</code> is not even <i>called</i>) so that is not the problem (yet) :)"}, {"owner": {"reputation": 88017, "user_id": 201078, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/I7p2N.jpg?s=128&g=1", "display_name": "Gone Coding", "link": "https://stackoverflow.com/users/201078/gone-coding"}, "edited": false, "score": 0, "creation_date": 1440016573, "post_id": 32104586, "comment_id": 52104897, "body": "It is best to never mix inline event handlers with jQuery event handlers. They do not play nice together. Use jQuery event handlers for both tasks and the problem will become obvious to you :)"}, {"owner": {"reputation": 1720, "user_id": 877129, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a49a3af70bfddf98a2897e23f633912?s=128&d=identicon&r=PG", "display_name": "Rich Hopkins", "link": "https://stackoverflow.com/users/877129/rich-hopkins"}, "edited": false, "score": 0, "creation_date": 1440018842, "post_id": 32104586, "comment_id": 52106046, "body": "Ok. How? I realize that I&#39;m looking for Ajax, but doing a search turns up mostly things from 6-8 years ago, and I&#39;m rather cautious about trying to use code so old since I know that much has changed. Can anyone point me to an example that does what I&#39;m trying to do? Send data to code behind without postback, and also call jQuery function. Both work on their own (with postback), but I can&#39;t get them to work together, and without postback."}, {"owner": {"reputation": 1720, "user_id": 877129, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a49a3af70bfddf98a2897e23f633912?s=128&d=identicon&r=PG", "display_name": "Rich Hopkins", "link": "https://stackoverflow.com/users/877129/rich-hopkins"}, "edited": false, "score": 0, "creation_date": 1440020020, "post_id": 32104586, "comment_id": 52106615, "body": "Oh - and then I need to return a pass/fail from the server to the web page. Ugh."}, {"owner": {"reputation": 1720, "user_id": 877129, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a49a3af70bfddf98a2897e23f633912?s=128&d=identicon&r=PG", "display_name": "Rich Hopkins", "link": "https://stackoverflow.com/users/877129/rich-hopkins"}, "edited": false, "score": 0, "creation_date": 1440021246, "post_id": 32104586, "comment_id": 52107104, "body": "Edited to put in the () after preventDefault. Thanks for pointing that error out."}], "answers": [{"comments": [{"owner": {"reputation": 1720, "user_id": 877129, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a49a3af70bfddf98a2897e23f633912?s=128&d=identicon&r=PG", "display_name": "Rich Hopkins", "link": "https://stackoverflow.com/users/877129/rich-hopkins"}, "edited": false, "score": 0, "creation_date": 1440021183, "post_id": 32105920, "comment_id": 52107078, "body": "Ok.... I&#39;m looking up what an updatepanel is now. But in the meantime, how would I get the jQuery effects like fadeIn and fadeOut? (This is my first go at a website). And I can&#39;t get divs inside an updatepanel. :/  I&#39;m looking at all this and wondering why anyone would use ASP? I did an example of this in class with php and it was so much easier. But I want to learn ASP, too, which is why I&#39;m doing this."}, {"owner": {"reputation": 56, "user_id": 5244484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UlJY.jpg?s=128&g=1", "display_name": "Felipe C Vieira", "link": "https://stackoverflow.com/users/5244484/felipe-c-vieira"}, "reply_to_user": {"reputation": 1720, "user_id": 877129, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a49a3af70bfddf98a2897e23f633912?s=128&d=identicon&r=PG", "display_name": "Rich Hopkins", "link": "https://stackoverflow.com/users/877129/rich-hopkins"}, "edited": false, "score": 0, "creation_date": 1440023770, "post_id": 32105920, "comment_id": 52107978, "body": "You can add client-side script from the server-side like this: Page.ClientScript.RegisterStartupScript(Me.GetType(), &quot;FadeInDiv&quot;, &quot;$(&quot;#sendSuccess&quot;).fadein();&quot;, True)"}, {"owner": {"reputation": 56, "user_id": 5244484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UlJY.jpg?s=128&g=1", "display_name": "Felipe C Vieira", "link": "https://stackoverflow.com/users/5244484/felipe-c-vieira"}, "reply_to_user": {"reputation": 1720, "user_id": 877129, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a49a3af70bfddf98a2897e23f633912?s=128&d=identicon&r=PG", "display_name": "Rich Hopkins", "link": "https://stackoverflow.com/users/877129/rich-hopkins"}, "edited": false, "score": 0, "creation_date": 1440024258, "post_id": 32105920, "comment_id": 52108128, "body": "To get anythig inside the updatepanel don&#39;t miss the ContentTemplate tag: &lt;asp:UpdatePanel ID=&quot;UpdatePanel1&quot; runat=&quot;server&quot;&gt;             &lt;ContentTemplate&gt;                 &lt;div &gt;&lt;/div&gt;              &lt;/ContentTemplate&gt;         &lt;/asp:UpdatePanel&gt;"}], "tags": [], "owner": {"reputation": 56, "user_id": 5244484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UlJY.jpg?s=128&g=1", "display_name": "Felipe C Vieira", "link": "https://stackoverflow.com/users/5244484/felipe-c-vieira"}, "is_accepted": false, "score": 0, "last_activity_date": 1440019486, "creation_date": 1440019486, "answer_id": 32105920, "question_id": 32104586, "link": "https://stackoverflow.com/questions/32104586/send-info-to-code-behind-without-postback/32105920#32105920", "title": "Send info to code behind without postback", "body": "<p>The jquery function runs before the C# code behind and interfere with it's result.\nTo do what you want you could do all the work on the server-side. \nYou can use ajax to do that.\nUse an updatepanel around the controls and an updateprogress with the \"sending...\" message. Capture the sendmessage() result and then show the #sendsuccess or #sendFailed according to it.</p>\n"}, {"comments": [{"owner": {"reputation": 1720, "user_id": 877129, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a49a3af70bfddf98a2897e23f633912?s=128&d=identicon&r=PG", "display_name": "Rich Hopkins", "link": "https://stackoverflow.com/users/877129/rich-hopkins"}, "edited": false, "score": 0, "creation_date": 1440046726, "post_id": 32109827, "comment_id": 52113485, "body": "Oh - the only thing I have yet to add is the validation to be sure the fields aren&#39;t empty. The email field is already automatically checked for valid email address if there is something there, but it doesn&#39;t seem to care if it is empty. I&#39;ll add that validation tomorrow. Thanks for the suggestions!"}, {"owner": {"reputation": 1720, "user_id": 877129, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a49a3af70bfddf98a2897e23f633912?s=128&d=identicon&r=PG", "display_name": "Rich Hopkins", "link": "https://stackoverflow.com/users/877129/rich-hopkins"}, "edited": false, "score": 0, "creation_date": 1440046928, "post_id": 32109827, "comment_id": 52113541, "body": "One more thing - the onSuccess and onError don&#39;t seem to work as intended, so that is why I check the value of result in the onSuccess function before doing any of the &quot;success&quot; tasks."}], "tags": [], "owner": {"reputation": 1720, "user_id": 877129, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a49a3af70bfddf98a2897e23f633912?s=128&d=identicon&r=PG", "display_name": "Rich Hopkins", "link": "https://stackoverflow.com/users/877129/rich-hopkins"}, "is_accepted": true, "score": 0, "last_activity_date": 1440046629, "last_edit_date": 1495541750, "creation_date": 1440046629, "answer_id": 32109827, "question_id": 32104586, "link": "https://stackoverflow.com/questions/32104586/send-info-to-code-behind-without-postback/32109827#32109827", "title": "Send info to code behind without postback", "body": "<p>I ended up using the answer in this post (<a href=\"https://stackoverflow.com/questions/18510749/how-to-call-code-behind-method-from-a-javascript-function\">How to call code behind method from a javascript function?</a>) to do what I wanted to do. Surely it could have been done with Filipe's answer, but at this point, I'm already drinking from a fire hose trying to learn what I can learn, so this was easier for me, since I already have a fair understanding of all of the pieces involved.</p>\n\n<p>Here's my HTML:</p>\n\n<pre><code>&lt;form runat=\"server\"&gt;\n\n                &lt;asp:ScriptManager ID=\"ScriptManager1\" runat=\"server\" EnablePageMethods=\"true\"&gt;&lt;/asp:ScriptManager&gt;\n\n                    &lt;div class=\"col-md-8 col-md-offset-2\" runat=\"server\"&gt;\n                        &lt;div class=\"form-group\"&gt;\n                            &lt;label for=\"userName\"&gt;Your name (requrired):&lt;/label&gt;\n                            &lt;input type=\"text\" class=\"form-control\" id=\"userName\" runat=\"server\" /&gt;\n                        &lt;/div&gt;\n\n                        &lt;div class=\"form-group\"&gt;\n                            &lt;label for=\"email\"&gt;Email address (required):&lt;/label&gt;\n                            &lt;input type=\"email\" class=\"form-control\" id=\"email\" runat=\"server\" /&gt;\n                        &lt;/div&gt;\n\n                        &lt;div class=\"form-group\"&gt;\n                            &lt;label for=\"message\"&gt;Message:&lt;/label&gt;\n                            &lt;textarea class=\"form-control\" id=\"message\" rows=\"5\" runat=\"server\"&gt;&lt;/textarea&gt;\n                        &lt;/div&gt;\n\n                        &lt;div class=\"form-group\"&gt;\n\n                            &lt;asp:Button class=\"btn btn-success\" ID=\"sendMail\" runat=\"server\" OnClientClick=\"sendMail(); return false;\" UseSubmitBehavior=\"false\" Text=\"Send Message\" /&gt;\n                        &lt;/div&gt;\n\n                    &lt;div id=\"sendSuccess\" runat=\"server\"&gt;Your message has been sent. Thank you for contacting First Pentecostal Church of Oakwood. You are important to us!&lt;/div&gt;\n                    &lt;div id=\"sendFailed\" runat=\"server\"&gt;Unable to send message. Please try again later. You are important to us!&lt;/div&gt;\n\n                    &lt;/div&gt;\n\n                &lt;/form&gt;\n</code></pre>\n\n<p>There is an error in the HTML, as the OnClientClick doesn't find the function, but without it and the return false, the page does a postback. I'm not sure how to fix it, as the preventDefault() in the JS doesn't solve it, and using the UseSubmitBehavior by itself doesn't do it, either. But this works, though it shows as an error in the developer tools in the browser.</p>\n\n<p>Here's the CSS:</p>\n\n<pre><code>#sendSuccess,\n#sendFailed {\n    display:none;\n    border: 1px solid black;\n    border-radius: 5px;\n    padding: 5px;\n}\n\n#sendSuccess {\n    background-color: rgba(147, 197, 75, .7);\n}\n\n#sendFailed {\n    background-color: rgba(201, 48, 44, .7);\n}\n</code></pre>\n\n<p>Here's the JavaScript:</p>\n\n<pre><code>    //Set up event handler for send message contact page button\n    $(\"#sendMail\").click(function (event) {\n        event.preventDefault();\n        sendMail();\n    });\n//above is in the $(document).ready function\n\n\nfunction sendMail() {\n    $(\"#sendSuccess\").fadeOut();\n    $(\"#sendFailed\").fadeOut();\n    $(\"#sendMail\").prop(\"value\", \"Sending...\");\n    $(\"#sendMail\").attr(\"disabled\", true);\n\n    var name = $(\"#userName\").val();\n    var email = $(\"#email\").val();\n    var msg = $(\"#message\").val();\n\n    PageMethods.SendMessage(name, email, msg, onSuccess, onError);\n\n}\n\nfunction onSuccess(result) {\n    if (result) {\n        $(\"#sendSuccess\").fadeIn();\n        $(\"#userName\").prop(\"value\", \"\");\n        $(\"#email\").prop(\"value\", \"\");\n        $(\"#message\").prop(\"value\", \"\");\n        $(\"#sendMail\").prop(\"value\", \"Send Message\");\n        $(\"#sendMail\").attr(\"disabled\", false);\n    }\n    else { onError(result); }\n}\n\nfunction onError(result) {\n    $(\"#sendFailed\").fadeIn();\n    $(\"#sendMail\").prop(\"value\", \"Try Again\");\n    $(\"#sendMail\").attr(\"disabled\", false);\n}\n</code></pre>\n\n<p>And here's the C#:</p>\n\n<pre><code>[System.Web.Services.WebMethod()]\npublic static bool SendMessage(string user, string email, string msg)\n{\n    string to = \"xxxxxxxxx@outlook.com\";\n    string from = \"xxxxxxxxxx@outlook.com\";\n    string subject = \"Message from OakwoodFPC.org Contact Page\";\n    string body = \"From: \" + user + \"\\n\";\n    body += \"Email: \" + email + \"\\n\";\n    body += msg;\n\n    MailMessage o = new MailMessage(from, to, subject, body);\n    NetworkCredential cred = new NetworkCredential(\"xxxxxxxxxx@outlook.com\", \"password\");\n    SmtpClient smtp = new SmtpClient(\"smtp.live.com\", 587);\n    smtp.EnableSsl = true;\n    smtp.Credentials = cred;\n\n    try\n    {\n        smtp.Send(o);\n        return true;\n    }\n    catch (Exception)\n    {\n        return false;\n    }           \n}       \n</code></pre>\n"}], "owner": {"reputation": 1720, "user_id": 877129, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a49a3af70bfddf98a2897e23f633912?s=128&d=identicon&r=PG", "display_name": "Rich Hopkins", "link": "https://stackoverflow.com/users/877129/rich-hopkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2234, "favorite_count": 0, "accepted_answer_id": 32109827, "answer_count": 2, "score": 0, "last_activity_date": 1440046629, "creation_date": 1440014410, "last_edit_date": 1440021214, "question_id": 32104586, "link": "https://stackoverflow.com/questions/32104586/send-info-to-code-behind-without-postback", "title": "Send info to code behind without postback", "body": "<p>First, I'm a student, though this is not for school. I'm trying to create a contact us page for my church's website (<a href=\"http://fpcoakwood.azurewebsites.net\" rel=\"nofollow\">http://fpcoakwood.azurewebsites.net</a>). I haven't published the contact page yet, as I'm trying to build it. I'm using Bootstrap/jQuery/ASP.NET to build the site. There is a videos page that uses ASP to get the list of videos from YouTube for our channel, and then populates the select html element from that, and I have it working so that selecting a different video loads that video into the player without a postback (though I do wish I could make the back button take me back to the prior page, rather than cycling through prior videos first).</p>\n\n<p>On this page, my challenge is that I'm trying to send an email. I have the code behind working so that I can send the email, but I'm also trying to disable the send button and fadeIn a result div, which would show either success or failure to send the email. The problem is that because the postback occurs, the page reloads, and I lose the disabling of the button and the showing of the status.\nHere's some of the code I have so far:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n&lt;asp:Button class=\"btn btn-success\" ID=\"sendMail\" OnClick=\"sendMail_Click\" OnClientClick=\"sendMail(); return false;\" runat=\"server\" UseSubmitBehavior=\"false\" Text=\"Send Message\" /&gt;\n&lt;/div&gt;\n\n&lt;div id=\"sendSuccess\" runat=\"server\"&gt;Success!&lt;/div&gt;\n&lt;div id=\"sendFailed\" runat=\"server\"&gt;Unable to send message. Please try again later.&lt;/div&gt;\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>$(\"#sendMail\").click(function (event) {\n        event.preventDefault();\n        $(\"#sendSuccess\").fadeOut();\n        $(\"#sendFailed\").fadeOut();\n        $(\"#sendMail\").attr(\"disabled\", true);\n        $(\"#sendMail\").attr(\"text\", \"Sending...\");\n        return true;\n    });\n</code></pre>\n\n<p>C#:</p>\n\n<pre><code>protected void sendMail_Click(object sender, EventArgs e)\n        {\n            //sendMail.Enabled = false;\n            //sendMail.Text = \"Sending...\";\n            SendMessage();\n        }\n</code></pre>\n\n<p>If I get rid of the javascript function, I can send the email. It goes through no problems. But with the javascript function, the breakpoint in the C# function is never hit, so it's not hitting the server. What I want is to be able to validate in js before sending to the server, then send to the server without a postback, and have the server send a message to the js allowing either the fail or the success message div to fadeIn().</p>\n\n<p>Any help will be VERY much appreciated. Thanks in advance!</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-web-api"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 4239451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oGPUl.jpg?s=128&g=1", "display_name": "Brendan Murphy", "link": "https://stackoverflow.com/users/4239451/brendan-murphy"}, "edited": false, "score": 0, "creation_date": 1440016316, "post_id": 32104708, "comment_id": 52104774, "body": "Thank you for you answer. I just tried that, but the application that is sending the request has an error because it receives a non 200 HTTP status code. The documentation for the application that I am trying to comply with says, &quot;Your service cannot send back a response to a SessionEndedRequest.&quot; That is why I am wondering if there is some way to sometimes not return anything from my controller."}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "reply_to_user": {"reputation": 93, "user_id": 4239451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oGPUl.jpg?s=128&g=1", "display_name": "Brendan Murphy", "link": "https://stackoverflow.com/users/4239451/brendan-murphy"}, "edited": false, "score": 0, "creation_date": 1440016418, "post_id": 32104708, "comment_id": 52104821, "body": "Ah, I see. Well, if the caller was a properly-behaving client this would be a good answer, but it looks like you have to do something a bit different."}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "reply_to_user": {"reputation": 93, "user_id": 4239451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oGPUl.jpg?s=128&g=1", "display_name": "Brendan Murphy", "link": "https://stackoverflow.com/users/4239451/brendan-murphy"}, "edited": false, "score": 0, "creation_date": 1440017051, "post_id": 32104708, "comment_id": 52105157, "body": "Added an alternate answer. It&#39;s not clear what&#39;s meant by &quot;cannot send back a response,&quot; but if that means to just end the response, it might work for you."}, {"owner": {"reputation": 93, "user_id": 4239451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oGPUl.jpg?s=128&g=1", "display_name": "Brendan Murphy", "link": "https://stackoverflow.com/users/4239451/brendan-murphy"}, "edited": false, "score": 0, "creation_date": 1440018249, "post_id": 32104708, "comment_id": 52105784, "body": "The real problem is that I don&#39;t know how to interrupt &quot;cannot send back a response&quot; as well. I thought your answer below would work, but the application throws another error saying there was a problem communicating with my error. This leads me to believe that the application is actually expecting a response of some sort. I think I&#39;ll have to ask around on the applications developer forum to get clarifications about what the protocol is. Thanks for you help."}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "reply_to_user": {"reputation": 93, "user_id": 4239451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oGPUl.jpg?s=128&g=1", "display_name": "Brendan Murphy", "link": "https://stackoverflow.com/users/4239451/brendan-murphy"}, "edited": false, "score": 0, "creation_date": 1440018352, "post_id": 32104708, "comment_id": 52105828, "body": "I agree. <code>SessionEndedRequest</code> probably has some sort of specific meaning. Good luck."}], "tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": false, "score": 4, "last_activity_date": 1440014850, "last_edit_date": 1592644375, "creation_date": 1440014850, "answer_id": 32104708, "question_id": 32104567, "link": "https://stackoverflow.com/questions/32104567/asp-net-web-api-conditionally-return-httpresponsemessage/32104708#32104708", "title": "ASP.NET Web API Conditionally return HttpResponseMessage", "body": "<p>You should always return a response. There's a status code <code>204</code> for when you don't want to send content in your response. From the spec:</p>\n<blockquote>\n<p>10.2.5 204 No Content</p>\n<p>The server has fulfilled the request but does not need to return an entity-body, and might want to return updated metainformation. The response MAY include new or updated metainformation in the form of entity-headers, which if present SHOULD be associated with the requested variant.</p>\n<p>If the client is a user agent, it SHOULD NOT change its document view from that which caused the request to be sent. This response is primarily intended to allow input for actions to take place without causing a change to the user agent's active document view, although any new or updated metainformation SHOULD be applied to the document currently in the user agent's active view.</p>\n<p>The 204 response MUST NOT include a message-body, and thus is always terminated by the first empty line after the header fields.</p>\n</blockquote>\n<p>So your code could be something like this:</p>\n<pre><code>[HttpPost]\npublic HttpResponseMessage SomeMethod()\n{\n    // Do things\n    return Request.CreateResponse(HttpStatusCode.NoContent);\n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1440016959, "creation_date": 1440016959, "answer_id": 32105303, "question_id": 32104567, "link": "https://stackoverflow.com/questions/32104567/asp-net-web-api-conditionally-return-httpresponsemessage/32105303#32105303", "title": "ASP.NET Web API Conditionally return HttpResponseMessage", "body": "<p>If you want to just terminate the request, try this:</p>\n\n<pre><code>HttpContext.Current.Response.End();\nthrow new Exception(\"Terminating request.\");\n</code></pre>\n\n<p>It seems like a strange thing for an HTTP server to do, but if that's what you <em>really</em> need, give that a shot. If you follow by throwing an exception, then an error won't be sent to the client because you've already ended the response.</p>\n"}, {"tags": [], "owner": {"reputation": 1207, "user_id": 1979107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdc30d9a3ef8fddfae985a73239e85eb?s=128&d=identicon&r=PG", "display_name": "Hernan Guzman", "link": "https://stackoverflow.com/users/1979107/hernan-guzman"}, "is_accepted": false, "score": 4, "last_activity_date": 1440038488, "last_edit_date": 1592644375, "creation_date": 1440038488, "answer_id": 32108719, "question_id": 32104567, "link": "https://stackoverflow.com/questions/32104567/asp-net-web-api-conditionally-return-httpresponsemessage/32108719#32108719", "title": "ASP.NET Web API Conditionally return HttpResponseMessage", "body": "<p>Even a void method will return an HTTP status code to the client invoking the API. See this <a href=\"http://www.asp.net/web-api/overview/getting-started-with-aspnet-web-api/action-results\" rel=\"nofollow noreferrer\">link</a></p>\n<p>You'll probably need to ask for changes or another alternative to your client.</p>\n"}], "owner": {"reputation": 93, "user_id": 4239451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oGPUl.jpg?s=128&g=1", "display_name": "Brendan Murphy", "link": "https://stackoverflow.com/users/4239451/brendan-murphy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 786, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1440038488, "creation_date": 1440014334, "question_id": 32104567, "link": "https://stackoverflow.com/questions/32104567/asp-net-web-api-conditionally-return-httpresponsemessage", "title": "ASP.NET Web API Conditionally return HttpResponseMessage", "body": "<p>I have a ASP.NET Web API, and I have been responding to request with this format,</p>\n\n<pre><code>    [HttpPost]\n    [Route(\"\")]\n    public HttpResponseMessage AlexaSkill()\n    {\n        HttpResponseMessage response = Request.CreateResponse(HttpStatusCode.OK, \"value\");\n        response.Content = new StringContent(\"put json here\", Encoding.UTF8);\n        response.Content.Headers.ContentType = new System.Net.Http.Headers.MediaTypeHeaderValue(\"application/json\"); \n\n        return response;\n    } \n</code></pre>\n\n<p>and that has been working great. The issue is that there are certain situation where the requester does not expect a response. I cannot figure out how to not give a response to the requester who is posting to the url. How can I be able to return a response like a have above and also have the option to have the function not give a respons essentially acting as a void function?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "angularjs", "viewmodel"], "comments": [{"owner": {"reputation": 16302, "user_id": 3314659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rD9RH.png?s=128&g=1", "display_name": "sylwester", "link": "https://stackoverflow.com/users/3314659/sylwester"}, "edited": false, "score": 1, "creation_date": 1440014336, "post_id": 32104490, "comment_id": 52103647, "body": "can you add please code from your MVC controller to question ?"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 1, "creation_date": 1440014408, "post_id": 32104490, "comment_id": 52103694, "body": "shouldn&#39;t you be using <code>angular-ui mask </code> instead of placeholder"}, {"owner": {"reputation": 708, "user_id": 312440, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/61e248e3f536e25c08658d205808b113?s=128&d=identicon&r=PG", "display_name": "Naomi", "link": "https://stackoverflow.com/users/312440/naomi"}, "reply_to_user": {"reputation": 16302, "user_id": 3314659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rD9RH.png?s=128&g=1", "display_name": "sylwester", "link": "https://stackoverflow.com/users/3314659/sylwester"}, "edited": false, "score": 0, "creation_date": 1440014894, "post_id": 32104490, "comment_id": 52103950, "body": "@sylwester It doesn&#39;t reach the controller code, the error is handled by the directive on the bad request. Right now I&#39;ve changed all the numbers to be nullable in the ViewModel and testing."}, {"owner": {"reputation": 708, "user_id": 312440, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/61e248e3f536e25c08658d205808b113?s=128&d=identicon&r=PG", "display_name": "Naomi", "link": "https://stackoverflow.com/users/312440/naomi"}, "edited": false, "score": 0, "creation_date": 1440014948, "post_id": 32104490, "comment_id": 52103982, "body": "MethodMan - I am not sure - do you think it&#39;s relevant?"}], "answers": [{"tags": [], "owner": {"reputation": 708, "user_id": 312440, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/61e248e3f536e25c08658d205808b113?s=128&d=identicon&r=PG", "display_name": "Naomi", "link": "https://stackoverflow.com/users/312440/naomi"}, "is_accepted": false, "score": 0, "last_activity_date": 1440015209, "creation_date": 1440015209, "answer_id": 32104813, "question_id": 32104490, "link": "https://stackoverflow.com/questions/32104490/clearing-an-input-type-number-field/32104813#32104813", "title": "Clearing an input type=&#39;number&#39; field", "body": "<p>Adding our own attribute NullableNumber(DefaultValue=0)] and making all numbers nullable in the ViewModel solved the problem.</p>\n"}], "owner": {"reputation": 708, "user_id": 312440, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/61e248e3f536e25c08658d205808b113?s=128&d=identicon&r=PG", "display_name": "Naomi", "link": "https://stackoverflow.com/users/312440/naomi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440015209, "creation_date": 1440014069, "question_id": 32104490, "link": "https://stackoverflow.com/questions/32104490/clearing-an-input-type-number-field", "title": "Clearing an input type=&#39;number&#39; field", "body": "<p>I am using AngularJS in the ASP.NET MVC application. I have input type='number' with this markup</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;input type=\"number\" name=\"number1\" id=\"number1\" class=\"form-control\" placeholder=\"@String.Format(Labels.numberX, \"1\")\"\r\n                       min=\"-2147483648\" max=\"2147483647\"\r\n                       ng-model=\"currentGuest.number1\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The number1 is defined as int in the ViewModel. The problem happens when the user clears the number from the field. It becomes NULL and I am getting bad request when I am trying to post data back. I see a following solution here - define these numbers as int? in the ViewModel and use AutoMapper to convert NULL to 0 when converting back to the model.</p>\n\n<p>Any other ideas with less code to implement?</p>\n"}, {"tags": ["c#", "encryption", "portable-class-library", "pcl-crypto"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 1, "creation_date": 1440035594, "post_id": 32104440, "comment_id": 52110808, "body": "It is an active GitHub project so you should report an issue there to reach its authors."}, {"owner": {"reputation": 916, "user_id": 2005204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/477b229d748952ddd7c36c08b6f86dd5?s=128&d=identicon&r=PG&f=1", "display_name": "WDS", "link": "https://stackoverflow.com/users/2005204/wds"}, "edited": false, "score": 0, "creation_date": 1440214262, "post_id": 32104440, "comment_id": 52192987, "body": "On the very bottom line of your posted code, I assume you meant to type plainTextBuffer, not plainText.  The difficulty here is that the GitHub project is just accessing other APIs and does not implement its own AES.  But having said that, I cannot find any reason for this behavior in the repository nor in your code.  Strange, you declare plainTextBuffer in a call to TransformFinalBlock, a function I thought never returned larger than the actual block size of the algorithm, yet you do have those extra bytes.  I am sorry to say I am stumped."}], "answers": [{"comments": [{"owner": {"reputation": 29745, "user_id": 171742, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/790d711e06a77facb217d46fbb1400c3?s=128&d=identicon&r=PG", "display_name": "Chris Kooken", "link": "https://stackoverflow.com/users/171742/chris-kooken"}, "edited": false, "score": 0, "creation_date": 1440770375, "post_id": 32262099, "comment_id": 52424520, "body": "You are my hero. Thank you so much."}], "tags": [], "owner": {"reputation": 276, "user_id": 5275091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8931c9effa2ae79b476b61a41b444d5e?s=128&d=identicon&r=PG&f=1", "display_name": "nemuca", "link": "https://stackoverflow.com/users/5275091/nemuca"}, "is_accepted": true, "score": 4, "last_activity_date": 1440729582, "last_edit_date": 1440729582, "creation_date": 1440726340, "answer_id": 32262099, "question_id": 32104440, "link": "https://stackoverflow.com/questions/32104440/system-security-cryptography-vs-pclcrypto/32262099#32262099", "title": "System.Security.Cryptography vs PCLCrypto", "body": "<p>This sounds like a padding issue.</p>\n\n<p>Looking at the source for the base class SymmetricAlgorithm in .NET, which is the base of the AesCryptoServiceProvider, the default padding is PaddingMode.PKCS7.  You don't appear to have defined a padding mode, so I would assume the default still applies.</p>\n\n<p>Whilst I haven't used the PCLCrypto library before, having a quick look at github there are a couple of AesEcb algorithms: AesEcb and AesEcbPkcs7.  The absence of a padding mode from the name of AesEcb would imply to me that it has no padding (and thus hasn't removed any padding), which would be the equivalent of PaddingMode.None in the .NET libraries.</p>\n\n<p>Try using the PCLCrypto.SymmetricAlgorithm.AesEcbPkcs7 algorithm in PCLCrypto and see if this removes the padding that you are seeing at the end of the output.</p>\n\n<p><strong><em>Update</em></strong></p>\n\n<p>I've just tested this, and it appears to work correctly and remove the padding you would be seeing:</p>\n\n<pre><code>public static string SymmetricDecrypt(this string cipherText, string key, SymmetricAlgorithm algorithm) {\n    byte[] keyBuffer = Convert.FromBase64String(key.Hash(HashAlgorithm.MD5));\n    byte[] cipherTextBuffer = Convert.FromBase64String(cipherText);\n\n    ISymmetricKeyAlgorithmProvider symmetricAlgorithm = WinRTCrypto.SymmetricKeyAlgorithmProvider.OpenAlgorithm(PCLCrypto.SymmetricAlgorithm.AesEcbPkcs7);\n\n    var symmetricKey = symmetricAlgorithm.CreateSymmetricKey(keyBuffer);\n    var decryptor = WinRTCrypto.CryptographicEngine.CreateDecryptor(symmetricKey);\n   byte[] plainTextBuffer = decryptor.TransformFinalBlock(cipherTextBuffer, 0, cipherTextBuffer.Length);\n    return UTF8Encoding.UTF8.GetString(plainTextBuffer, 0, plainTextBuffer.Length);\n}</code></pre>\n\n<p>The only change was changing the algorithm from PCLCrypto.SymmetricAlgorithm.AesEcb to PCLCrypto.SymmetricAlgorithm.AesEcbPkcs7</p>\n"}], "owner": {"reputation": 29745, "user_id": 171742, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/790d711e06a77facb217d46fbb1400c3?s=128&d=identicon&r=PG", "display_name": "Chris Kooken", "link": "https://stackoverflow.com/users/171742/chris-kooken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3866, "favorite_count": 0, "accepted_answer_id": 32262099, "answer_count": 1, "score": 7, "last_activity_date": 1440729582, "creation_date": 1440013883, "last_edit_date": 1440378870, "question_id": 32104440, "link": "https://stackoverflow.com/questions/32104440/system-security-cryptography-vs-pclcrypto", "title": "System.Security.Cryptography vs PCLCrypto", "body": "<p>We are in the process of gutting a lot of shared functionality in our system and porting it to PCL libraries. I am having an issue using PCLCrypto. I am taking some existing data in our database, and trying to decrypt it with the same algorithm. I get the value back, but there are 16 extra bytes at the end that are just garbage.</p>\n\n<p>See Code below:\n<strong>Old Algorithm using System.Security.Cryptography</strong></p>\n\n<pre><code>public static string SymmetricEncrypt(this string plaintext, string key, SymmetricAlgorithm algorithm)\n{\n    byte[] keyBuffer = Convert.FromBase64String(key.Hash(HashAlgorithm.MD5));\n    byte[] plainTextBuffer = Encoding.UTF8.GetBytes(plaintext);\n\n   var symmetricAlgorithm = new AesCryptoServiceProvider();\n    symmetricAlgorithm.Key = keyBuffer;\n    symmetricAlgorithm.Mode = CipherMode.ECB;\n\n    var encryptor = symmetricAlgorithm.CreateEncryptor();\n    byte[] cipherBuffer = encryptor.TransformFinalBlock(plainTextBuffer, 0, plainTextBuffer.Length);\n    symmetricAlgorithm.Clear();\n\n    return Convert.ToBase64String(cipherBuffer);\n}\n\n\n public static string SymmetricDecrypt(this string cipherText, string key, SymmetricAlgorithm algorithm)\n    {\n        byte[] keyBuffer = Convert.FromBase64String(key.Hash(HashAlgorithm.MD5));\n        byte[] cipherTextBuffer = Convert.FromBase64String(cipherText);\n        var symmetricAlgorithm = new AesCryptoServiceProvider();\n        symmetricAlgorithm.Key = keyBuffer;\n        symmetricAlgorithm.Mode = CipherMode.ECB;\n\n        var decryptor = symmetricAlgorithm.CreateDecryptor();\n        byte[] plainTextBuffer = decryptor.TransformFinalBlock(cipherTextBuffer, 0, cipherTextBuffer.Length);\n        symmetricAlgorithm.Clear();\n\n        return Encoding.Default.GetString(plainTextBuffer);\n    }\n</code></pre>\n\n<p><strong>Decryption using PCLCrypto</strong></p>\n\n<pre><code>public static string SymmetricDecrypt(this string cipherText, string key, SymmetricAlgorithm algorithm) {\n    byte[] keyBuffer = Convert.FromBase64String(key.Hash(HashAlgorithm.MD5));\n    byte[] cipherTextBuffer = Convert.FromBase64String(cipherText);\n\n    ISymmetricKeyAlgorithmProvider symmetricAlgorithm = WinRTCrypto.SymmetricKeyAlgorithmProvider.OpenAlgorithm(PCLCrypto.SymmetricAlgorithm.AesEcb);\n\n    var symmetricKey = symmetricAlgorithm.CreateSymmetricKey(keyBuffer);\n    var decryptor = WinRTCrypto.CryptographicEngine.CreateDecryptor(symmetricKey);\n   byte[] plainTextBuffer = decryptor.TransformFinalBlock(cipherTextBuffer, 0, cipherTextBuffer.Length);\n    return UTF8Encoding.UTF8.GetString(plainTextBuffer, 0, plainTextBuffer.Length);\n}\n</code></pre>\n\n<p>Using the old version: plainTextBuffer is 16 bytes, new version it is 32 bytes. </p>\n\n<p>Help!</p>\n"}, {"tags": ["c#", "wpf", "windows-10"], "comments": [{"owner": {"reputation": 625590, "user_id": 106224, "user_type": "moderator", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a2d818d801ce38a33807f68fdd92043a?s=128&d=identicon&r=PG", "display_name": "BoltClock", "link": "https://stackoverflow.com/users/106224/boltclock"}, "edited": false, "score": 1, "creation_date": 1440014015, "post_id": 32104367, "comment_id": 52103461, "body": "That&#39;s WPF for you. Though it is odd that the scrollbar on this GridView didn&#39;t adopt the Windows 8 style - the scrollbars on my WPF apps do. I can&#39;t explain why."}, {"owner": {"reputation": 1728, "user_id": 3630637, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/aad28ff725c539aff3e1004f863da15e?s=128&d=identicon&r=PG&f=1", "display_name": "learningcs", "link": "https://stackoverflow.com/users/3630637/learningcs"}, "edited": false, "score": 1, "creation_date": 1440021984, "post_id": 32104367, "comment_id": 52107400, "body": "It&#39;s probably not important but which .NET framework version are you targeting? Does anything change if you target 4.6?"}, {"owner": {"reputation": 9554, "user_id": 31782, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8ea4581df89970a5ba17daf4ad93041c?s=128&d=identicon&r=PG", "display_name": "n0rd", "link": "https://stackoverflow.com/users/31782/n0rd"}, "edited": false, "score": 0, "creation_date": 1440024461, "post_id": 32104367, "comment_id": 52108198, "body": "WPF has it&#39;s own control rendering that does not rely on Win32 API. It tries to match the native control looks though."}, {"owner": {"reputation": 1789, "user_id": 1732567, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/r9Qo2.png?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/1732567/vlad"}, "reply_to_user": {"reputation": 1728, "user_id": 3630637, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/aad28ff725c539aff3e1004f863da15e?s=128&d=identicon&r=PG&f=1", "display_name": "learningcs", "link": "https://stackoverflow.com/users/3630637/learningcs"}, "edited": false, "score": 0, "creation_date": 1440082698, "post_id": 32104367, "comment_id": 52135634, "body": "@rshepp Changing to 4.6 has no effect"}], "answers": [{"tags": [], "owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "is_accepted": false, "score": 0, "last_activity_date": 1440014173, "creation_date": 1440014173, "answer_id": 32104521, "question_id": 32104367, "link": "https://stackoverflow.com/questions/32104367/windows-10-gridview-style-still-looks-like-windows-7/32104521#32104521", "title": "Windows 10 GridView style still looks like Windows 7", "body": "<p>WPF doesn't match Explorer 100%. It never has. You'll notice your Windows 7 app looks different from the Windows 7 Explorer. The colors are different and the mouse &amp; keyboard behavior is slightly different. This is to be expected since Explorer isn't written in WPF. You have to be pretty nitpicky to notice the differences in Windows 7 though. I just happened to be picky, so I synced up the controls in my app. But... based on your screenshots, thats the WPF Aero skin. Windows 7 Explorer uses \"way\" different shades of blue.</p>\n"}], "owner": {"reputation": 1789, "user_id": 1732567, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/r9Qo2.png?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/1732567/vlad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 750, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1440014173, "creation_date": 1440013599, "question_id": 32104367, "link": "https://stackoverflow.com/questions/32104367/windows-10-gridview-style-still-looks-like-windows-7", "title": "Windows 10 GridView style still looks like Windows 7", "body": "<p>I recently upgraded to windows 10 and noticed that while some controls in my app such as buttons, combo boxes, scroll bars changed, the GridView remained the same \"bubbly\" look as it had previously in windows 7.</p>\n\n<p>How windows 10 apps look like with grid views (Control panel and Explorer):</p>\n\n<p><a href=\"https://i.stack.imgur.com/Dpq2J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dpq2J.png\" alt=\"Control Panel\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/cLj1X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cLj1X.png\" alt=\"Explorer\"></a></p>\n\n<p>How my applications look when I use a generic GridView:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4V7qa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4V7qa.png\" alt=\"How it looks now\"></a></p>\n\n<p>My question is how come these views are still the same as windows 7? Is there a way make it fit the Windows 10 theme while not changing anything for Windows 7 users?</p>\n"}, {"tags": ["c#", "for-loop", "datagridview"], "comments": [{"owner": {"reputation": 704, "user_id": 2367615, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8cc71f7d5dcdf46803a49518eed20ee7?s=128&d=identicon&r=PG", "display_name": "James R.", "link": "https://stackoverflow.com/users/2367615/james-r"}, "edited": false, "score": 1, "creation_date": 1440014079, "post_id": 32104337, "comment_id": 52103496, "body": "For one thing, your loop will get an exception at the end. &lt;= count should be &lt; count"}, {"owner": {"reputation": 127, "user_id": 3967415, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100000442996646/picture?type=large", "display_name": "Daniel Halling", "link": "https://stackoverflow.com/users/3967415/daniel-halling"}, "reply_to_user": {"reputation": 704, "user_id": 2367615, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8cc71f7d5dcdf46803a49518eed20ee7?s=128&d=identicon&r=PG", "display_name": "James R.", "link": "https://stackoverflow.com/users/2367615/james-r"}, "edited": false, "score": 0, "creation_date": 1440014952, "post_id": 32104337, "comment_id": 52103985, "body": "Oh yeah, thank you I didn&#39;t noticed"}], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 3967415, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100000442996646/picture?type=large", "display_name": "Daniel Halling", "link": "https://stackoverflow.com/users/3967415/daniel-halling"}, "edited": false, "score": 0, "creation_date": 1440014936, "post_id": 32104537, "comment_id": 52103976, "body": "Thanks for your help, i found the solution and edited it into my Thread :)"}], "tags": [], "owner": {"reputation": 65, "user_id": 535644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/363bb99861e1348157e1cf5c35e52b38?s=128&d=identicon&r=PG", "display_name": "DUBYATOO", "link": "https://stackoverflow.com/users/535644/dubyatoo"}, "is_accepted": true, "score": 1, "last_activity_date": 1440014230, "creation_date": 1440014230, "answer_id": 32104537, "question_id": 32104337, "link": "https://stackoverflow.com/questions/32104337/adding-stuff-into-a-gridview-with-a-for-loop/32104537#32104537", "title": "Adding Stuff into a Gridview with a For-Loop", "body": "<p>Looks like you've mixed up your row variable and the datagrid's rows.</p>\n\n<pre><code>for(int j = 0;  j &lt; this.img16x16.Images.Count; j++)\n{\n    row = new DataGridViewRow();\n    //Add first cell and its data to the variable \"row\"\n    //Size changes\n    //Add second cell and its data to the variable \"row\"\n\n    //Add \"row\" to the grid:\n    dataGridView1.Rows.Add(row);\n}\n</code></pre>\n\n<p>In your version you were writing straight to the grid without any reference to its size, and I'm guessing it was one or two rows large by some other settings you have, and you tried to write outside its bounds.</p>\n"}], "owner": {"reputation": 127, "user_id": 3967415, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100000442996646/picture?type=large", "display_name": "Daniel Halling", "link": "https://stackoverflow.com/users/3967415/daniel-halling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3381, "favorite_count": 0, "accepted_answer_id": 32104537, "answer_count": 1, "score": 1, "last_activity_date": 1440014230, "creation_date": 1440013498, "last_edit_date": 1440014157, "question_id": 32104337, "link": "https://stackoverflow.com/questions/32104337/adding-stuff-into-a-gridview-with-a-for-loop", "title": "Adding Stuff into a Gridview with a For-Loop", "body": "<p>I'm trying to get some Data into my Datagridview with a For-Loop</p>\n\n<p>But the thing is, my Loop jumps out if my counter is at 2 for no reason and I dont know why</p>\n\n<p>This is my Code:</p>\n\n<pre><code>var row = new DataGridViewRow();\n//image directory\nDirectoryInfo dir = new DirectoryInfo(@\"C:\\Users\\Daniel\\Pictures\");\n\n//getting all files from the Directory\nforeach(FileInfo file in dir.GetFiles())\n{\n\n    try\n    {\n         this.img16x16.Images.Add(Image.FromFile(file.FullName));\n\n    }catch\n    {\n         Console.WriteLine(\"This is not an image file\");\n    }\n}\nfor (int j = 0; j &lt;= this.img16x16.Images.Count; j++)\n{\n\n    dataGridView1.Rows[j].Cells[0].Value = img16x16.Images[j].ToString();\n    img16x16.ImageSize = new Size(16, 16);\n    dataGridView1.Rows[j].Cells[1].Value = img16x16.Images[j];\n    dataGridView1.Rows.Add(row);\n</code></pre>\n\n<p>Thanks for your help</p>\n\n<p>edit: I found the solution, i just had to put these 2:</p>\n\n<pre><code>var row = new DataGridViewRow();\ndataGridView1.Rows.Add(row);\n</code></pre>\n\n<p>in front of my code inside the for-loop</p>\n"}, {"tags": ["c#", "asp.net-mvc", "lambda"], "comments": [{"owner": {"reputation": 3578, "user_id": 982824, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/aupme.jpg?s=128&g=1", "display_name": "Rikard", "link": "https://stackoverflow.com/users/982824/rikard"}, "edited": false, "score": 0, "creation_date": 1440013594, "post_id": 32104313, "comment_id": 52103191, "body": "This question can maybe help you <a href=\"http://stackoverflow.com/questions/6365633/what-is-the-html-displayfor-syntax-for\" title=\"what is the html displayfor syntax for\">stackoverflow.com/questions/6365633/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "is_accepted": false, "score": 2, "last_activity_date": 1440014197, "creation_date": 1440014197, "answer_id": 32104531, "question_id": 32104313, "link": "https://stackoverflow.com/questions/32104313/lambda-expression-in-html-displaynamefor/32104531#32104531", "title": "Lambda expression in @Html.DisplayNameFor()", "body": "<p>use a for loop in razor, so you maintain a direct reference to your model:</p>\n\n<pre><code>@for(int i =0; i &lt; Model.Count(); i++)\n{\n   &lt;p&gt;\n    @Html.DisplayFor(model =&gt; model[i].Id) : @Html.DisplayFor(model =&gt; model[i].Name)\n   &lt;/p&gt;    \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": false, "score": 1, "last_activity_date": 1440014297, "creation_date": 1440014297, "answer_id": 32104561, "question_id": 32104313, "link": "https://stackoverflow.com/questions/32104313/lambda-expression-in-html-displaynamefor/32104561#32104561", "title": "Lambda expression in @Html.DisplayNameFor()", "body": "<blockquote>\n<pre><code>@Html.DisplayFor(ListOfPersons =&gt; item.Id) : @Html.DisplayFor(ListOfPersons =&gt;item.Name)\n</code></pre>\n</blockquote>\n\n<p>The view engine will examine the expression and determine that you want \"display\" controls for the <code>Id</code> and <code>Name</code> properties.  It ignores the \"input\" variable name (<code>ListOfPersons</code>* in this case) and the <code>item</code> variable and just parses the expression on the right.  You could just as well have done this:</p>\n\n<pre><code>@Html.DisplayFor(_ =&gt; item.Id) : @Html.DisplayFor(_ =&gt; item.Name)\n</code></pre>\n\n<p>*Note that <code>ListOfPersons</code> in your lambda does NOT reference a local variable - it just creates a <em>new</em> \"variable\" that you could reference in your lambda.  The fact that you seem to have a property or local variable named <code>ListOfPersons</code> is irrelevant.  </p>\n"}, {"comments": [{"owner": {"reputation": 5634, "user_id": 2517730, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Xojng.jpg?s=128&g=1", "display_name": "Yar", "link": "https://stackoverflow.com/users/2517730/yar"}, "edited": false, "score": 0, "creation_date": 1440014878, "post_id": 32104612, "comment_id": 52103942, "body": "Thanks for the complete answer. I was just confused why it&#39;s getting an argument that it&#39;s not gonna use"}], "tags": [], "owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "is_accepted": true, "score": 3, "last_activity_date": 1440014497, "last_edit_date": 1495535201, "creation_date": 1440014497, "answer_id": 32104612, "question_id": 32104313, "link": "https://stackoverflow.com/questions/32104313/lambda-expression-in-html-displaynamefor/32104612#32104612", "title": "Lambda expression in @Html.DisplayNameFor()", "body": "<p>As <code>ListOfPersons</code> is not a declared variable, and is just the parameter name for the expression, the expressions are valid.</p>\n\n<p>To briefly touch on expressions, they are composed of both a parameter set and a body.</p>\n\n<pre><code>(parameter set) =&gt; (body)\n</code></pre>\n\n<p>The parameter set can be empty <code>()</code> or include 1 or many parameters <code>(x)</code> or <code>(x,y)</code> for example. The body then can use those parameters similar to how a method body would use parameters passed in.</p>\n\n<p><code>@Html.DisplayFor(ListOfPersons =&gt; item.Id)</code> when used in the scope shown is ignoring the parameter. It doesn't use it, and is similar to something like this</p>\n\n<pre><code>public int Id = 5;\npublic string DisplayFor(Person ListOfPersons)\n{\n    return Id;\n}\n</code></pre>\n\n<p>So you can see from this aspect that the parameter is not used and the value returned is actually a value from a different scope.</p>\n\n<p>DisplayFor is scoped to use the page's model to bind to. So regardless of the parameter name, what is passed in to the parameter is going to be the model. As such, since the parameter is being completely ignored here, it doesn't particularly matter what it was named and could simply be <code>()</code> or <code>_</code>.</p>\n\n<p>The returned value is then the value from the body, in this case <code>item.Id</code> and <code>item.Name</code>. However, as a result of there being no use of the parameter, the html rendered will be incorrect even though the value shown will be what looks to be accurate.</p>\n\n<p>In order to remedy this, the model must be properly accessed or the rendered html will not be bound on post. This is typically done by iterating and using an index reference, as is shown in <a href=\"https://stackoverflow.com/a/32104531/1026459\">@Jonespolis' answer</a>.</p>\n"}], "owner": {"reputation": 5634, "user_id": 2517730, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Xojng.jpg?s=128&g=1", "display_name": "Yar", "link": "https://stackoverflow.com/users/2517730/yar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 691, "favorite_count": 1, "accepted_answer_id": 32104612, "answer_count": 3, "score": 3, "last_activity_date": 1440014497, "creation_date": 1440013414, "last_edit_date": 1440013623, "question_id": 32104313, "link": "https://stackoverflow.com/questions/32104313/lambda-expression-in-html-displaynamefor", "title": "Lambda expression in @Html.DisplayNameFor()", "body": "<p>Let's say I am passing a <code>List</code> of <code>Person</code> as the model to a view page:</p>\n\n<pre><code>@model IEnumerable&lt;Foo.Models.Person&gt;\n\n@foreach (var item in Model)\n{\n    &lt;p&gt;\n        @Html.DisplayFor(ListOfPersons =&gt; item.Id) : @Html.DisplayFor(ListOfPersons =&gt;item.Name)\n    &lt;/p&gt;    \n}\n</code></pre>\n\n<p>I just don't get how this Lambda expression works. Why we are passing a <code>IEnumerable</code> and get a single value of on its objects?</p>\n"}, {"tags": ["c#", "linq", "entity-framework", "parent-child"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 2690390, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/648688701/picture?type=large", "display_name": "Brian Davey", "link": "https://stackoverflow.com/users/2690390/brian-davey"}, "edited": false, "score": 0, "creation_date": 1440014972, "post_id": 32104572, "comment_id": 52103996, "body": "I should have been more specific. Yes, that does satisfy my question as I wrote it. The problem is, I don&#39;t want to include any of the EmailContact records that do have an EmailSendFailure record. In my data, I have an EmailQueue record that has two EmailContact record, one of which has an EmailSendFailure record. This code returns both."}, {"owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "reply_to_user": {"reputation": 93, "user_id": 2690390, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/648688701/picture?type=large", "display_name": "Brian Davey", "link": "https://stackoverflow.com/users/2690390/brian-davey"}, "edited": false, "score": 0, "creation_date": 1440016126, "post_id": 32104572, "comment_id": 52104663, "body": "&quot;This code returns both (EmailContact)&quot;, I don&#39;t understand, this query returns EmailQueue&#39;s not EmailContacts, this uses Lazy loading, if you navigate to the EmailContacts collection on each EmailQueue, Entity framework will perform a new call to the database and will retrieve the related EmailContacts"}], "tags": [], "owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "is_accepted": false, "score": 0, "last_activity_date": 1440014690, "last_edit_date": 1440014690, "creation_date": 1440014350, "answer_id": 32104572, "question_id": 32104274, "link": "https://stackoverflow.com/questions/32104274/entity-framework-populating-child-objects-filtering-on-a-child-of-child/32104572#32104572", "title": "Entity framework - populating child objects, filtering on a child of child", "body": "<p>\"I want to get each EmailQueue where there is at least one EmailEntity record, and at least one EmailContact record that does not have an EmailSendFailure record\"</p>\n\n<pre><code>List&lt;EmailQueue&gt; result = context.EmailQueues.Where(e=&gt;e.EmailEntities.Any() &amp;&amp;\ne.EmailContacts.Any(ec=&gt;!ec.EmailSendFailures.Any())).ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 270, "user_id": 1773119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df8c343cdcaaf6ad72ba2b2ea7aeed97?s=128&d=identicon&r=PG", "display_name": "craigvl", "link": "https://stackoverflow.com/users/1773119/craigvl"}, "is_accepted": false, "score": 2, "last_activity_date": 1440036956, "creation_date": 1440036956, "answer_id": 32108534, "question_id": 32104274, "link": "https://stackoverflow.com/questions/32104274/entity-framework-populating-child-objects-filtering-on-a-child-of-child/32108534#32108534", "title": "Entity framework - populating child objects, filtering on a child of child", "body": "<p>Try doing all the .includes first and then the where clause like:</p>\n\n<pre><code>context.Subjects.Include(r =&gt; r.RelatedSubjects).Include(t =&gt; t.Organisations).Include(y =&gt; y.Organisations.Select(i =&gt; i.Directories))\n            .Where(y =&gt; y.Organisations.Any(e =&gt; e.Status == \"Live\")); }\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 2690390, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/648688701/picture?type=large", "display_name": "Brian Davey", "link": "https://stackoverflow.com/users/2690390/brian-davey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2872, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1440036956, "creation_date": 1440013271, "last_edit_date": 1440015175, "question_id": 32104274, "link": "https://stackoverflow.com/questions/32104274/entity-framework-populating-child-objects-filtering-on-a-child-of-child", "title": "Entity framework - populating child objects, filtering on a child of child", "body": "<p>I'm trying to optimize some code, but I'm having a bit of a problem with it. I have a database, and the tables in question look like this in the EDMX...\n<a href=\"https://i.stack.imgur.com/njGua.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/njGua.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Each EmailQueue item can have multiple EmailContact and EmailEntity records, and each EmailContact could have multiple EmailSendFailures, though most will have none. </p>\n\n<p>I want to get each EmailQueue where there is at least one EmailEntity record, and at least one EmailContact record that does not have an EmailSendFailure record. *EDIT: Also, I do not want to include those EmailContact records in this query. *</p>\n\n<p>After some StackOverflowing and some trial and error, I was basically able to achieve something along these lines with this code:</p>\n\n<pre><code>var emails2 =\n    (from eqs in\n         this.context.EmailQueues\n         .Include(q =&gt; q.EmailContacts)\n         .Include(e =&gt; e.EmailEntities)\n     where eqs.EmailContacts.Count &gt; 0\n     &amp;&amp; eqs.EmailEntities.Count &gt; 0\n     &amp;&amp; eqs.SentFlag == false\n     select new\n     {\n         EmailQueue = eqs,\n         EmailContact = eqs.EmailContacts.Where(c =&gt; !c.EmailSendFailures.Any()),\n         EmailEntity = eqs.EmailEntities\n     }).ToList();\n</code></pre>\n\n<p>The problem with that is it then returns a System.Collections.Generic.List&lt;{EmailQueue:Tesa.DataModels.EmailQueue, EmailContact:System.Collections.Generic.IEnumerable, EmailEntity:System.Collections.Generic.IEnumerable}>. I really don't want that. I want a List. </p>\n\n<p>I tried this, which seems like it should work, but I get this error:</p>\n\n<blockquote>\n  <p>The Include path expression must refer to a navigation property\n  defined on the type. Use dotted paths for reference navigation\n  properties and the Select operator for collection navigation\n  properties.</p>\n</blockquote>\n\n<pre><code>List&lt;EmailQueue&gt; emails1 =\n    this.context.EmailQueues.Include(q =&gt; q.EmailContacts.Where(c =&gt; !c.EmailSendFailures.Any()))\n        .Include(e =&gt; e.EmailEntities)\n        .Where(eqs =&gt; eqs.EmailContacts.Count &gt; 0 &amp;&amp; eqs.EmailEntities.Count &gt; 0 &amp;&amp; eqs.SentFlag == false)\n        .ToList();\n</code></pre>\n\n<p>Anyone have any idea what I might be doing wrong here? My suspicion is it's somewhere in the navigation properties, due to some of the problems I had during my \"trial and error\" (more error than trial) phase, prior to entering the \"I give up, I'm posting to StackOverflow\" phase.</p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1440013278, "post_id": 32104229, "comment_id": 52102979, "body": "Why not to post exact error?"}, {"owner": {"reputation": 119223, "user_id": 5070879, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7534153a9cc70ad4e20680d6ca1b09ff?s=128&d=identicon&r=PG&f=1", "display_name": "Lukasz Szozda", "link": "https://stackoverflow.com/users/5070879/lukasz-szozda"}, "edited": false, "score": 3, "creation_date": 1440013392, "post_id": 32104229, "comment_id": 52103052, "body": "<code>db.Database.SqlQuery&lt;LocationsWithHierarchyViewModel&gt;(cmd)</code>"}, {"owner": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "reply_to_user": {"reputation": 119223, "user_id": 5070879, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7534153a9cc70ad4e20680d6ca1b09ff?s=128&d=identicon&r=PG&f=1", "display_name": "Lukasz Szozda", "link": "https://stackoverflow.com/users/5070879/lukasz-szozda"}, "edited": false, "score": 0, "creation_date": 1440013553, "post_id": 32104229, "comment_id": 52103161, "body": "@lad2025: post this as an answer."}, {"owner": {"reputation": 8910, "user_id": 4977957, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55ddc749972794b1664cbb5179f397b7?s=128&d=identicon&r=PG&f=1", "display_name": "VSO", "link": "https://stackoverflow.com/users/4977957/vso"}, "reply_to_user": {"reputation": 119223, "user_id": 5070879, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7534153a9cc70ad4e20680d6ca1b09ff?s=128&d=identicon&r=PG&f=1", "display_name": "Lukasz Szozda", "link": "https://stackoverflow.com/users/5070879/lukasz-szozda"}, "edited": false, "score": 0, "creation_date": 1440013558, "post_id": 32104229, "comment_id": 52103167, "body": "@lad2025: That did it: db.Database.SqlQuery&lt;LocationsWithHierarchyViewModel&gt;(cmd).T&zwnj;&#8203;oList(), thanks. And yea - if you post it as the answer, I will accept."}], "answers": [{"tags": [], "owner": {"reputation": 119223, "user_id": 5070879, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7534153a9cc70ad4e20680d6ca1b09ff?s=128&d=identicon&r=PG&f=1", "display_name": "Lukasz Szozda", "link": "https://stackoverflow.com/users/5070879/lukasz-szozda"}, "is_accepted": true, "score": 3, "last_activity_date": 1440013620, "creation_date": 1440013620, "answer_id": 32104375, "question_id": 32104229, "link": "https://stackoverflow.com/questions/32104229/what-am-i-doing-wrong-in-my-direct-sql-query/32104375#32104375", "title": "What am I Doing Wrong in my direct SQL Query?", "body": "<p>As error message says: Specify type arguments explicitly.</p>\n\n<pre><code>db.Database.SqlQuery&lt;LocationsWithHierarchyViewModel&gt;(cmd).ToList()\n</code></pre>\n"}], "owner": {"reputation": 8910, "user_id": 4977957, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55ddc749972794b1664cbb5179f397b7?s=128&d=identicon&r=PG&f=1", "display_name": "VSO", "link": "https://stackoverflow.com/users/4977957/vso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 501, "favorite_count": 0, "accepted_answer_id": 32104375, "answer_count": 1, "score": -2, "last_activity_date": 1440013620, "creation_date": 1440013114, "last_edit_date": 1440013416, "question_id": 32104229, "link": "https://stackoverflow.com/questions/32104229/what-am-i-doing-wrong-in-my-direct-sql-query", "title": "What am I Doing Wrong in my direct SQL Query?", "body": "<p>My view model:</p>\n\n<pre><code>public class LocationsWithHierarchyViewModel\n{\n    public long Id { get; set; }\n    public string Name { get; set; }\n    public string Lineage { get; set; }\n}\n</code></pre>\n\n<p>My query (tested in SQL, works):</p>\n\n<pre><code>        string cmd = string.Format(@\"\n            SELECT Locations.Id, Locations.Name, LocationHierarchy.Lineage\n            FROM Locations\n            LEFT JOIN LocationHierarchy\n            ON Locations.Id = LocationHierarchy.Id\n            WHERE OfficeId = {0}; \n            \", 1);\n</code></pre>\n\n<p>The part of the code that I am sure is causing the problem:</p>\n\n<pre><code>var locationsInOffice = db.Database.SqlQuery(cmd).ToList&lt;LocationsWithHierarchyViewModel&gt;();\n</code></pre>\n\n<p>The error is that I must specify the return type for the data, which is List. How do?</p>\n\n<p>P.S. - \"db\" is our db context, I can't use it with a normal EF query because we don't have a model for the LocationHierarchy table, long story. </p>\n\n<blockquote>\n  <p>The type argument for method\n  'System.Data.Entity.Database.SqlQuery(string,\n  parmsobject[]_' cannot be inferred from usage. Try specifying the type\n  arguments explicitly.</p>\n</blockquote>\n"}, {"tags": ["c#", "oop"], "comments": [{"owner": {"reputation": 8976, "user_id": 1991643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MYL32.jpg?s=128&g=1", "display_name": "beautifulcoder", "link": "https://stackoverflow.com/users/1991643/beautifulcoder"}, "edited": false, "score": 1, "creation_date": 1440013470, "post_id": 32104184, "comment_id": 52103105, "body": "Not clear what problem you are trying to solve here. You&#39;ve already narrowed the scope to a parent &quot;abstract class that raise an event&quot;, but why?"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5244874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55ece341fa8e941dabe01b88ea441df2?s=128&d=identicon&r=PG&f=1", "display_name": "OopMagik", "link": "https://stackoverflow.com/users/5244874/oopmagik"}, "edited": false, "score": 0, "creation_date": 1440015556, "post_id": 32104579, "comment_id": 52104340, "body": "Thank you ! Its what i was trying to do (in the wrong way obviously)"}], "tags": [], "owner": {"reputation": 58724, "user_id": 411632, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/41e7ea21270a6079bb14d6d60ec75d8a?s=128&d=identicon&r=PG", "display_name": "Mat&#237;as Fidemraizer", "link": "https://stackoverflow.com/users/411632/mat%c3%adas-fidemraizer"}, "is_accepted": true, "score": 2, "last_activity_date": 1440015198, "last_edit_date": 1440015198, "creation_date": 1440014394, "answer_id": 32104579, "question_id": 32104184, "link": "https://stackoverflow.com/questions/32104184/need-an-oop-trick/32104579#32104579", "title": "Need an OOP Trick", "body": "<p>First of all, you're not following regular event design in .NET.</p>\n\n<p>Instead of implementing your own delegate, use <code>EventHandler&lt;TArgs&gt;</code>, and create a derived class of <code>EventArgs</code>.</p>\n\n<p>Your <code>CustomEventArgs</code> should have a <code>T</code> generic parameter:</p>\n\n<pre><code>public class CustomEventArgs&lt;T&gt; where T : A\n{\n     private readonly T _instance;\n\n     public CustomEventArgs(T instance)\n     {\n          _instance = instance;\n     }\n\n     public T Instance { get { return _instance; } }\n}\n</code></pre>\n\n<p>Also, don't implement a custom way of registering events. If you want to encapsulate how handlers are added to the event, you need to use <em>event accessors</em>. </p>\n\n<p>Finally, you could implement your classes as follows:</p>\n\n<pre><code>public class A&lt;T&gt; where T : A\n{\n     private event EventHandler&lt;CustomEventArgs&lt;T&gt;&gt; _someEvent;\n\n     // An event accessor acts like the event but it can't be used\n     // to raise the event itself. It's just an accessor like an special\n     // event-oriented property (get/set)\n     public event EventHandler&lt;CustomEventArgs&lt;T&gt;&gt; SomeEvent\n     {\n          add { _someEvent += value; }\n          remove { _someEvent -= value; }\n     }\n\n     protected virtual void RaiseSomeEvent(CustomEventArgs&lt;T&gt; args)\n     {\n           // If C# &gt;= 6\n           _someEvent?.Invoke(this, args);\n\n           // Or in C# &lt; 6\n           // if(_someEvent != null) _someEvent(this, args);\n     }\n}\n\n\npublic class B : A&lt;B&gt; \n{ \n      public void DoStuff()\n      {\n           // It's just about raising the event accessing the whole\n           // protected method and give an instance of CustomEventArgs&lt;B&gt; \n           // passing current instance (i.e. this) to CustomEventArgs&lt;T&gt;\n           // constructor.\n           RaiseSomeEvent(new CustomEventArgs&lt;B&gt;(this));\n      }\n}\n</code></pre>\n\n<p>Now, if you try to handle <code>SomeEvent</code>, you'll get the <code>CustomEventArgs&lt;B&gt;</code> typed as <code>B</code> instead of <code>A</code>:</p>\n\n<pre><code>B b = new B();\nb.SomeEvent += (sender, args) =&gt;\n{\n    // args.Instance is B\n    B instance = args.Instance;\n};\nb.DoStuff(); // Raises SomeEvent internally\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5244874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55ece341fa8e941dabe01b88ea441df2?s=128&d=identicon&r=PG&f=1", "display_name": "OopMagik", "link": "https://stackoverflow.com/users/5244874/oopmagik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 32104579, "answer_count": 1, "score": 3, "last_activity_date": 1440015198, "creation_date": 1440012939, "last_edit_date": 1440015069, "question_id": 32104184, "link": "https://stackoverflow.com/questions/32104184/need-an-oop-trick", "title": "Need an OOP Trick", "body": "<p>I want an abstract class that raises an event, this event will be raised by the concrete class.</p>\n\n<p>What I want is when I use another class to listen to these events the signature of the delegate should have the concrete type not the abstract, I don't want to cast it.</p>\n\n<p>For the moment I have come up with this solution. It works but I don't find it particularly clever especially because of the \"STUPID, DOESN'T MAKE SENSE......\" part.</p>\n\n<p>Here is my solution :</p>\n\n<pre><code>public delegate void ClassAEventHandler&lt;TClassA&gt;(TClassA classA) where TClassA : ClassA;\n\n//Abstract class that raise Event\npublic abstract class ClassA&lt;TClassA&gt; : where TClassA : ClassA\n{\n    public event ClassAEventHandler&lt;TClassA&gt; onClassEventRaised;    \n    private TClassA eventClassA;\n\n    public void registerEventClass(TClassA classA)\n    {\n        this.eventClassA = classA;\n    }\n\n    public void raiseClassEvent()\n    {\n        this.onClassEventRaised(this.eventClassA);\n    }\n}\n\n// Exemple of concrete type\npublic class ClassB : ClassA&lt;ClassB&gt; // &lt;------ IT SEEMS DUMB\n{\n    public void action()\n    {\n        //Do something then raise event\n        this.raiseClassEvent();\n    }\n\n    public void saySomething() {};\n}\n\n// Exemple of concrete type\npublic class ClassC : ClassA&lt;ClassC&gt; // &lt;------ IT SEEMS DUMB\n{\n    public void command()\n    {\n        //Do something then raise event\n        this.raiseClassEvent();\n    }\n\n    public void destroySomething() {};\n}\n\n//Class that listen to the event raised\npublic class MyEventListener\n{\n    private ClassB classB;\n    private ClassC classC;\n\n    public MyEventListener()\n    {\n        this.classB = new ClassB();\n        this.classB.registerEventClass(this.classB); // &lt;------ STUPID, DOESN'T MAKE SENSE......\n        this.classB.onClassEventRaised += classB_onClassEventRaised;\n\n        this.classC = new ClassC();\n        this.classC.registerEventClass(this.classC); // &lt;------ STUPID, DOESN'T MAKE SENSE......\n        this.classC.onClassEventRaised += classC_onClassEventRaised;\n    }\n\n    public void classB_onClassEventRaised(ClassB classB)\n    {\n        classB.saySomething();\n    }\n\n    public void classC_onClassEventRaised(ClassC classC)\n    {\n        classC.destroySomething();\n    }\n\n    //What i don't want\n    /*\n    public void classB_onClassEventRaised(ClassA classA)\n    {\n        ((classB)classA).saySomething();\n    }   \n    */\n}\n</code></pre>\n"}, {"tags": ["c#", "string-formatting", "timespan"], "answers": [{"tags": [], "owner": {"reputation": 3578, "user_id": 982824, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/aupme.jpg?s=128&g=1", "display_name": "Rikard", "link": "https://stackoverflow.com/users/982824/rikard"}, "is_accepted": true, "score": 4, "last_activity_date": 1440012911, "creation_date": 1440012911, "answer_id": 32104173, "question_id": 32104136, "link": "https://stackoverflow.com/questions/32104136/string-format-timespan-vs-datetime/32104173#32104173", "title": "String.Format() TimeSpan vs DateTime", "body": "<p>You need to escape the \":\" character with a \"\\\" (which itself must be escaped unless you're using a verbatim string).</p>\n\n<blockquote>\n  <p>The custom TimeSpan format specifiers do not include placeholder\n  separator symbols, such as the symbols that separate days from hours,\n  hours from minutes, or seconds from fractional seconds. Instead, these\n  symbols must be included in the custom format string as string\n  literals. For example, \"dd.hh:mm\" defines a period (.) as the\n  separator between days and hours, and a colon (:) as the separator\n  between hours and minutes.</p>\n</blockquote>\n\n<p>You can read more <a href=\"http://msdn.microsoft.com/en-us/library/ee372287.aspx\" rel=\"nofollow\">here</a></p>\n"}], "owner": {"reputation": 366, "user_id": 3820148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0da767c1d0c40fd583c2536f8ad2c348?s=128&d=identicon&r=PG&f=1", "display_name": "F&#233;lix LD", "link": "https://stackoverflow.com/users/3820148/f%c3%a9lix-ld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 544, "favorite_count": 0, "closed_date": 1440013077, "accepted_answer_id": 32104173, "answer_count": 1, "score": 4, "last_activity_date": 1440013894, "creation_date": 1440012769, "last_edit_date": 1440013894, "question_id": 32104136, "link": "https://stackoverflow.com/questions/32104136/string-format-timespan-vs-datetime", "closed_reason": "Duplicate", "title": "String.Format() TimeSpan vs DateTime", "body": "<p>Why do I need to escape the delimiters when I format a <code>TimeSpan</code>, while it's not needed when I format a <code>DateTime</code>?</p>\n\n<p>Example: </p>\n\n<pre><code>void foo(TimeSpan elapsedTime)\n{\n    String.Format(\"Elapsed Time = {0:hh\\\\:mm\\\\:ss\\\\.fff}\", elapsedTime);\n    String.Format(\"Now = {0:hh:mm:ss.fff}\", DateTime.Now);\n}\n</code></pre>\n"}, {"tags": ["c#", "linq", "lambda"], "comments": [{"owner": {"reputation": 863, "user_id": 1590612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8a1971c48f6585dc0b0383bb4ecb45?s=128&d=identicon&r=PG", "display_name": "Gavin.Paolucci.Kleinow", "link": "https://stackoverflow.com/users/1590612/gavin-paolucci-kleinow"}, "edited": false, "score": 0, "creation_date": 1440013238, "post_id": 32104099, "comment_id": 52102953, "body": "I think the <a href=\"https://msdn.microsoft.com/en-us/library/vstudio/bb352880(v=vs.110).aspx\" rel=\"nofollow noreferrer\">.Contains</a> method might be what you&#39;re looking for."}, {"owner": {"reputation": 157, "user_id": 4066928, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cc5a8c7b2a9119877226321af757f176?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyCage", "link": "https://stackoverflow.com/users/4066928/johnnycage"}, "reply_to_user": {"reputation": 863, "user_id": 1590612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8a1971c48f6585dc0b0383bb4ecb45?s=128&d=identicon&r=PG", "display_name": "Gavin.Paolucci.Kleinow", "link": "https://stackoverflow.com/users/1590612/gavin-paolucci-kleinow"}, "edited": false, "score": 0, "creation_date": 1440013418, "post_id": 32104099, "comment_id": 52103068, "body": "query = query.Where(e =&gt; e.Country != e.eProfile.Documents.???); The Documents is an iCollection. So basically what I need to do is e.Country != e.eProfile.Documents.Document.Country and Document.Type = &#39;Passport&#39; And Document.Expiry is in future"}, {"owner": {"reputation": 863, "user_id": 1590612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8a1971c48f6585dc0b0383bb4ecb45?s=128&d=identicon&r=PG", "display_name": "Gavin.Paolucci.Kleinow", "link": "https://stackoverflow.com/users/1590612/gavin-paolucci-kleinow"}, "edited": false, "score": 0, "creation_date": 1440013653, "post_id": 32104099, "comment_id": 52103234, "body": "You can continue to use Linq expressions within the Where clause. So you&#39;d need to find the passport within the documents collection using the Where Linq extension method, then look at the ExpiryDate property."}, {"owner": {"reputation": 157, "user_id": 4066928, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cc5a8c7b2a9119877226321af757f176?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyCage", "link": "https://stackoverflow.com/users/4066928/johnnycage"}, "reply_to_user": {"reputation": 863, "user_id": 1590612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8a1971c48f6585dc0b0383bb4ecb45?s=128&d=identicon&r=PG", "display_name": "Gavin.Paolucci.Kleinow", "link": "https://stackoverflow.com/users/1590612/gavin-paolucci-kleinow"}, "edited": false, "score": 0, "creation_date": 1440013803, "post_id": 32104099, "comment_id": 52103349, "body": "But that is what I am trying to figure out. When I do e.eProfile.Documents. I am seeing the properties associated with a collection. I am not sure how I can access each document of type passport and a valid expiry date for that document and compare it&#39;s country with the trip country"}, {"owner": {"reputation": 157, "user_id": 4066928, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cc5a8c7b2a9119877226321af757f176?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyCage", "link": "https://stackoverflow.com/users/4066928/johnnycage"}, "reply_to_user": {"reputation": 863, "user_id": 1590612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8a1971c48f6585dc0b0383bb4ecb45?s=128&d=identicon&r=PG", "display_name": "Gavin.Paolucci.Kleinow", "link": "https://stackoverflow.com/users/1590612/gavin-paolucci-kleinow"}, "edited": false, "score": 0, "creation_date": 1440014891, "post_id": 32104099, "comment_id": 52103949, "body": "Updated my code to include what I just came up with. I just need to figure out how to only include those that satisfy the if condition in the foreach loop"}], "answers": [{"tags": [], "owner": {"reputation": 373, "user_id": 3930984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56a89fc1f78fade72ec7e271e226e7ee?s=128&d=identicon&r=PG", "display_name": "Xaver", "link": "https://stackoverflow.com/users/3930984/xaver"}, "is_accepted": true, "score": 1, "last_activity_date": 1440015202, "creation_date": 1440015202, "answer_id": 32104812, "question_id": 32104099, "link": "https://stackoverflow.com/questions/32104099/lambda-expression-for-not-in-a-collection/32104812#32104812", "title": "Lambda Expression for Not In a Collection", "body": "<p>you can extend your Where clause with an Any subquery on Documents</p>\n\n<pre><code>query = query.Where(e =&gt; e.validTrip == true &amp;&amp; e.eProfile.Documents.Any(a=&gt;a.DocumentTypeCode == \"Passport\" &amp;&amp; a.ExpiryDate.HasValue &amp;&amp; a.ExpiryDate.Value &gt; DateTime.Now &amp;&amp; e.Country!=d.Country));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 502, "user_id": 2493353, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c59e893140e8559312c6261670fc6332?s=128&d=identicon&r=PG", "display_name": "myroman", "link": "https://stackoverflow.com/users/2493353/myroman"}, "is_accepted": false, "score": 0, "last_activity_date": 1440015399, "creation_date": 1440015399, "answer_id": 32104869, "question_id": 32104099, "link": "https://stackoverflow.com/questions/32104099/lambda-expression-for-not-in-a-collection/32104869#32104869", "title": "Lambda Expression for Not In a Collection", "body": "<p>Try that:</p>\n\n<pre><code>        // your part\n        var query = context.eTrip.AsQueryable();\n        query = query.Where(e =&gt; e.validTrip == true);\n        var docs = query.Select(e =&gt; e.eProfile.Documents);\n\n        // get countries for which there are no documents with future date\n        var myCountryQuery = query.Where(x =&gt; !docs\n            .Where(d =&gt; d.DocumentTypeCode == \"Passport\" &amp;&amp; d.ExpiryDate != null &amp;&amp; d.ExpiryDate &gt; DateTime.Now)\n            .Any(d =&gt; d.Country != x.Country)\n            );\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 4066928, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cc5a8c7b2a9119877226321af757f176?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyCage", "link": "https://stackoverflow.com/users/4066928/johnnycage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 32104812, "answer_count": 2, "score": 0, "last_activity_date": 1440015474, "creation_date": 1440012659, "last_edit_date": 1440015474, "question_id": 32104099, "link": "https://stackoverflow.com/questions/32104099/lambda-expression-for-not-in-a-collection", "title": "Lambda Expression for Not In a Collection", "body": "<p>I have 3 tables</p>\n\n<h2>eTrip</h2>\n\n<p>Country | eProfile</p>\n\n<h2>eProfile</h2>\n\n<p>Documents (collection of Document)</p>\n\n<h2>Documents</h2>\n\n<p>Type | ExpiryDate | Country</p>\n\n<p>I am trying to get a collection of eTrips in a search api. There are several conditions that need to be met for an eTrip. </p>\n\n<p>Each employee can hold multiple documents (visas, passports, etc). For an eTrip to be valid we need to make sure the eTrip.Country != the country of a valid passport (future expiry date) document.</p>\n\n<p>How can we write a lambda expression to accomplish this? </p>\n\n<p>The code that I have so far is something like this</p>\n\n<pre><code>    var query = context.eTrip.AsQueryable();\n    query = query.Where(e =&gt; e.validTrip == true);\n    var docs = query.Select(e =&gt; e.eProfile.Documents);\n        foreach (Documents d in docs)\n        {\n            if (d.DocumentTypeCode == \"Passport\" &amp;&amp; d.ExpiryDate != null &amp;&amp; d.ExpiryDate &gt; DateTime.Now)\n            {\n               query = query.Where(e =&gt; e.Country != d.Country);\n            }\n        }\n</code></pre>\n\n<p>I need to write the filter for the country now and I am not sure how we can do it for a collection.</p>\n"}, {"tags": ["c#", "wpf", "datetime", "timezone", "weblogic"], "comments": [{"owner": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "edited": false, "score": 0, "creation_date": 1440013390, "post_id": 32104028, "comment_id": 52103050, "body": "Hi F.Rojas, I edited your question to clean up the grammar and formatting. If you feel that I changed the meaning of your question, feel free to roll back. Welcome to Stack Overflow!"}, {"owner": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "edited": false, "score": 0, "creation_date": 1440013604, "post_id": 32104028, "comment_id": 52103199, "body": "The SOAP response looks correct. Can you deserialize to a <code>DateTimeOffset</code> instead of <code>DateTime</code> and inspect what timezone data it thinks it has?"}, {"owner": {"reputation": 31, "user_id": 5244747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c26ab1d2bdff36712ffac869f8b5e1?s=128&d=identicon&r=PG&f=1", "display_name": "F.Rojas", "link": "https://stackoverflow.com/users/5244747/f-rojas"}, "reply_to_user": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "edited": false, "score": 0, "creation_date": 1440014222, "post_id": 32104028, "comment_id": 52103576, "body": "i change System.DateTime for System.DateTimeOffset  in ServiceReference setter. The returning data for all dates are as follows: 01-01-0001 0:00:00 +00:00"}, {"owner": {"reputation": 302, "user_id": 177812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18ff22942dc6050728aa7a579c58c8b8?s=128&d=identicon&r=PG", "display_name": "Stoffisimo", "link": "https://stackoverflow.com/users/177812/stoffisimo"}, "edited": false, "score": 0, "creation_date": 1440016169, "post_id": 32104028, "comment_id": 52104689, "body": "A blunt guess: Can it have something to do with daylight savings time? In 2008, Chile had DST until March 29. If you have the possibility to fast forward the date to, say April 1, and see if the problem still is there."}, {"owner": {"reputation": 31, "user_id": 5244747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c26ab1d2bdff36712ffac869f8b5e1?s=128&d=identicon&r=PG&f=1", "display_name": "F.Rojas", "link": "https://stackoverflow.com/users/5244747/f-rojas"}, "edited": false, "score": 0, "creation_date": 1440090844, "post_id": 32104028, "comment_id": 52140493, "body": "yes, the date is displayed correctly when changing from 26-03-2008 to 30-03-2008, which is what is causing this? thanks"}], "answers": [{"tags": [], "owner": {"reputation": 8395, "user_id": 5152001, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2TlSo.jpg?s=128&g=1", "display_name": "Glen Thomas", "link": "https://stackoverflow.com/users/5152001/glen-thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1440022169, "last_edit_date": 1440022169, "creation_date": 1440017818, "answer_id": 32105542, "question_id": 32104028, "link": "https://stackoverflow.com/questions/32104028/datetimes-changing-from-weblogic-soap-service-to-wcf-application/32105542#32105542", "title": "Datetimes changing from WebLogic SOAP service to WCF application", "body": "<p>I have had this problem before and it really puzzled me. .NET automatically changes <code>DateTime</code> values when serialising/deserializing XML based on the machine's time zone configuration. It is .NET trying to be helpful, but is not an expected behaviour so tends to cause a lot of confusion.</p>\n\n<p>The best way to handle <code>DateTime</code> in any application is to store UTC date times and then display them in local format on the client.</p>\n\n<p>But, a quicker fix that does not involve converting all of your date times to UTC would be this:</p>\n\n<p>Try changing your <code>DateTime</code>s so that <code>DateTimeKind</code> is unspecified, the XML serializer will NOT try to convert them. For example, this code will convert a date to <code>DateTimeKind.Unspecified</code>:</p>\n\n<pre><code>DateTime newDate = DateTime.SpecifyKind(oldDate, DateTimeKind.Unspecified);\n</code></pre>\n\n<p>You can see this long Microsoft guidance on <a href=\"https://msdn.microsoft.com/en-us/library/ms973825.aspx\" rel=\"nofollow\">Coding Best Practices Using DateTime in the .NET Framework</a> for more information.</p>\n"}], "owner": {"reputation": 31, "user_id": 5244747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c26ab1d2bdff36712ffac869f8b5e1?s=128&d=identicon&r=PG&f=1", "display_name": "F.Rojas", "link": "https://stackoverflow.com/users/5244747/f-rojas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1440022169, "creation_date": 1440012431, "last_edit_date": 1592644375, "question_id": 32104028, "link": "https://stackoverflow.com/questions/32104028/datetimes-changing-from-weblogic-soap-service-to-wcf-application", "title": "Datetimes changing from WebLogic SOAP service to WCF application", "body": "<p>I'm from Chile and the time zone is currently set to GMT -3:00. My platforms are configured with these timezone settings:</p>\n<blockquote>\n<p>Oracle database: GMT -3:00</p>\n<p>WebLogic server: GMT -3:00</p>\n<p>Windows 7 client: GMT -3:00</p>\n</blockquote>\n<p>I'm getting strange results when performing this query:</p>\n<blockquote>\n<p>1st query: Date = 26/03/08 06:10:00,000000000</p>\n<p>2nd query: Date = 24/05/13 18:48:00,000000000</p>\n</blockquote>\n<p>I can see (via SOAP UI) that WebLogic returns this result:</p>\n<pre><code> &lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n   &lt;S:Body&gt;\n      &lt;ns2:fobpgGestacionesPorFichaResponse xmlns:ns2=&quot;http://nucleo.alemana.cl/&quot;&gt;\n         &lt;fobpgGestacionesPorFichaResult&gt;\n            &lt;gestaciones&gt;\n               &lt;controles&gt;7&lt;/controles&gt;\n               &lt;esGestaTerminada&gt;1&lt;/esGestaTerminada&gt;\n               &lt;fechaPrimerControl&gt;2007-10-05T00:00:00-03:00&lt;/fechaPrimerControl&gt;\n               &lt;fechaTermino&gt;2008-03-26T06:10:00-03:00&lt;/fechaTermino&gt;\n               ..............^ date #1 is here\n\n               &lt;fur&gt;2007-08-05T00:00:00-03:00&lt;/fur&gt;\n               &lt;furOp&gt;2007-08-05T00:00:00-03:00&lt;/furOp&gt;\n               &lt;gesdaFechaCreacion&gt;2015-08-19T14:58:41.903-03:00&lt;/gesdaFechaCreacion&gt;\n               &lt;gesnuIdGesta&gt;45087&lt;/gesnuIdGesta&gt;\n               &lt;gesnuNroGesta&gt;1&lt;/gesnuNroGesta&gt;\n               &lt;rnMayorPeso&gt;0&lt;/rnMayorPeso&gt;\n            &lt;/gestaciones&gt;\n            &lt;gestaciones&gt;\n               &lt;controles&gt;12&lt;/controles&gt;\n               &lt;esGestaTerminada&gt;1&lt;/esGestaTerminada&gt;\n               &lt;fechaPrimerControl&gt;2012-10-11T00:00:00-03:00&lt;/fechaPrimerControl&gt;\n               &lt;fechaTermino&gt;2013-05-24T18:48:00-03:00&lt;/fechaTermino&gt;\n               ..............^ date #2  is here\n\n               &lt;fur&gt;2012-08-27T00:00:00-03:00&lt;/fur&gt;\n               &lt;furOp&gt;2012-08-27T00:00:00-03:00&lt;/furOp&gt;\n               &lt;gesdaFechaCreacion&gt;2015-08-19T14:58:28.071-03:00&lt;/gesdaFechaCreacion&gt;\n               &lt;gesnuIdGesta&gt;45086&lt;/gesnuIdGesta&gt;\n               &lt;gesnuNroGesta&gt;2&lt;/gesnuNroGesta&gt;\n               &lt;rnMayorPeso&gt;1980&lt;/rnMayorPeso&gt;\n            &lt;/gestaciones&gt;\n         &lt;/fobpgGestacionesPorFichaResult&gt;\n      &lt;/ns2:fobpgGestacionesPorFichaResponse&gt;\n   &lt;/S:Body&gt;\n&lt;/S:Envelope&gt;\n</code></pre>\n<p>However, when my client WPF application connects to the WebLogic service and retrieves the above data, I get these values (in debug mode):</p>\n<p><strong>1st date response</strong></p>\n<p><a href=\"https://i.stack.imgur.com/9z8DY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9z8DY.png\" alt=\"1st date response\" /></a></p>\n<p>This is one hour ahead (7:10) of what I'd expect (6:10).</p>\n<p><strong>2nd date response</strong></p>\n<p><a href=\"https://i.stack.imgur.com/y9jQD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y9jQD.png\" alt=\"2nd date response\" /></a></p>\n<p>This is as expected (18:48)!</p>\n<p>I'm not sure what's going on here. Why are these results inconsistent?</p>\n"}, {"tags": ["c#", "mysql", "sql-server"], "answers": [{"comments": [{"owner": {"reputation": 3400, "user_id": 1553115, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/db3e7dd90ca47f8b7b7582bb51ec707f?s=128&d=identicon&r=PG", "display_name": "Asif Iqbal", "link": "https://stackoverflow.com/users/1553115/asif-iqbal"}, "edited": false, "score": 0, "creation_date": 1440018400, "post_id": 32105587, "comment_id": 52105846, "body": "By the way, found something similar here: <a href=\"http://stackoverflow.com/questions/9126704/why-cannot-we-use-outer-joins-in-recursive-cte/9126833#9126833\" title=\"why cannot we use outer joins in recursive cte\">stackoverflow.com/questions/9126704/&hellip;</a> You can try replacing the LEFT JOIN with OUTER APPLY."}], "tags": [], "owner": {"reputation": 3400, "user_id": 1553115, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/db3e7dd90ca47f8b7b7582bb51ec707f?s=128&d=identicon&r=PG", "display_name": "Asif Iqbal", "link": "https://stackoverflow.com/users/1553115/asif-iqbal"}, "is_accepted": false, "score": 0, "last_activity_date": 1440018030, "creation_date": 1440018030, "answer_id": 32105587, "question_id": 32104015, "link": "https://stackoverflow.com/questions/32104015/sql-parent-child-query-not-working/32105587#32105587", "title": "Sql parent Child Query not working", "body": "<p>Actually it is by design, read <a href=\"http://msdn.microsoft.com/en-us/library/ms175972.aspx\" rel=\"nofollow\">Guidelines for Defining and Using Recursive Common Table Expressions</a></p>\n\n<blockquote>\n  <p>The following items are <em>not allowed</em> in the CTE_query_definition of a\n  recursive member:</p>\n  \n  <ul>\n  <li>SELECT DISTINCT</li>\n  <li>GROUP BY</li>\n  <li>HAVING</li>\n  <li>Scalar aggregation</li>\n  <li>TOP</li>\n  <li>LEFT, RIGHT, OUTER JOIN (INNER JOIN is allowed)</li>\n  <li>Subqueries</li>\n  </ul>\n</blockquote>\n\n<p>You have to move your LEFT JOINs and COUNT out of the CTE query, store those data somewhere else (like in a temp table) and then later use those with the result of your CTE query. Or you can avoid CTE query and do this step by step separately for each level of parent-child, store in separate temp tables and use the results. Hope that helps.</p>\n"}], "owner": {"reputation": 215, "user_id": 4406566, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/52abd6a240017645cdec3ee9e94932bb?s=128&d=identicon&r=PG&f=1", "display_name": "Brave Man", "link": "https://stackoverflow.com/users/4406566/brave-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1440018030, "creation_date": 1440012385, "question_id": 32104015, "link": "https://stackoverflow.com/questions/32104015/sql-parent-child-query-not-working", "title": "Sql parent Child Query not working", "body": "<p>I want to get parent and their child data,means first come parent then their childs,Below is query that i want to convert to parent and their child </p>\n\n<pre><code>SELECT a.FactorTitle,\n       a.FactorCode,\n       a.parentId,\n       c.FactorColumnCode,\n       c.FactorColumnTitle,\n       c.FactorColumnValue,\n       c.isFactorValue,\n       c.FieldType,\n\n  (SELECT count(*)\n   FROM FactorSetup\n   WHERE parentId=a.FactorCode) AS childCount\nFROM FactorSetup a\nINNER JOIN PDModelSetup b ON a.PDModelCode=b.PDModelCode\nLEFT JOIN FactorColumnSetup c ON a.FactorCode=c.FactorCode\nWHERE a.PDModelCode=2\n  AND c.isFactorValue &lt;&gt; 'Y'\n  AND a.FactorType='4'\n</code></pre>\n\n<p>I try below query</p>\n\n<pre><code>WITH EntityChildren AS\n  (\n   SELECT  a.FactorTitle,\n           a.FactorCode,\n           a.parentId,\n           c.FactorColumnCode,\n           c.FactorColumnTitle,\n           c.FactorColumnValue,\n           c.isFactorValue,\n           c.FieldType,\n\n  (SELECT count(*)\n   FROM FactorSetup\n   WHERE parentId=a.FactorCode) AS childCount\n   FROM FactorSetup a\n   LEFT JOIN FactorColumnSetup c ON a.FactorCode=c.FactorCode\n   UNION ALL \n   SELECT a.FactorTitle,\n           a.FactorCode,\n           a.parentId,\n           c.FactorColumnCode,\n           c.FactorColumnTitle,\n           c.FactorColumnValue,\n           c.isFactorValue,\n           c.FieldType,\n\n  (SELECT count(*)\n   FROM FactorSetup\n   WHERE parentId=a.FactorCode) AS childCount\n   FROM FactorSetup a\n\n   INNER JOIN EntityChildren e2 ON a.parentId = e2.FactorCode\n   LEFT JOIN FactorColumnSetup c ON a.FactorCode=c.FactorCode\n   )\n\nSELECT * FROM EntityChildren\n</code></pre>\n\n<p>after executing  these query i got this error</p>\n\n<pre><code>Msg 467, Level 16, State 1, Line 1\nGROUP BY, HAVING, or aggregate functions are not allowed in the recursive part of a recursive common table expression 'EntityChildren'.\nMsg 462, Level 16, State 1, Line 1\nOuter join is not allowed in the recursive part of a recursive common table expression 'EntityChildren'.\n</code></pre>\n\n<p>Then i change my query and remove count(*)</p>\n\n<pre><code>WITH EntityChildren AS\n  (\n   SELECT  a.FactorTitle,\n           a.FactorCode,\n           a.parentId,\n           c.FactorColumnCode,\n           c.FactorColumnTitle,\n           c.FactorColumnValue,\n           c.isFactorValue,\n           c.FieldType\n   FROM FactorSetup a\n   LEFT JOIN FactorColumnSetup c ON a.FactorCode=c.FactorCode\n   UNION ALL \n   SELECT a.FactorTitle,\n           a.FactorCode,\n           a.parentId,\n           c.FactorColumnCode,\n           c.FactorColumnTitle,\n           c.FactorColumnValue,\n           c.isFactorValue,\n           c.FieldType\n   FROM FactorSetup a\n\n   INNER JOIN EntityChildren e2 ON a.parentId = e2.FactorCode\n   LEFT JOIN FactorColumnSetup c ON a.FactorCode=c.FactorCode\n   )\n\nSELECT * FROM EntityChildren \n</code></pre>\n\n<p>then i got this error</p>\n\n<pre><code>Msg 462, Level 16, State 1, Line 1\nOuter join is not allowed in the recursive part of a recursive common table expression 'EntityChildren'.\n</code></pre>\n"}, {"tags": ["c#", "reflection", "properties"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 2, "creation_date": 1440012401, "post_id": 32103986, "comment_id": 52102447, "body": "<code>EmployeeCard</code>, without seeing the class definition of it, looks to be a single object. You can&#39;t assign an array to what would contain a single object, so you shouldn&#39;t need to examine it at runtime. How is it possible that could contain either a list or a single object?"}, {"owner": {"reputation": 1498, "user_id": 1697605, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/qOvIO.jpg?s=128&g=1", "display_name": "Mathieson", "link": "https://stackoverflow.com/users/1697605/mathieson"}, "edited": false, "score": 0, "creation_date": 1440012593, "post_id": 32103986, "comment_id": 52102574, "body": "Ron is completely right.  If it was a list, the type would be IList&lt;EmployeeCard&gt; or such.  One of the benefits of a strongly-typed language is being able to see at a glance such information."}, {"owner": {"reputation": 12353, "user_id": 64157, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/05c464e1200aa91a096c4667f9b59609?s=128&d=identicon&r=PG", "display_name": "HaukurHaf", "link": "https://stackoverflow.com/users/64157/haukurhaf"}, "edited": false, "score": 0, "creation_date": 1440012669, "post_id": 32103986, "comment_id": 52102630, "body": "Hmmm.  How can it ever become a list?  It&#39;s defined as a single object ...."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5243014"}, "edited": false, "score": 1, "creation_date": 1440012671, "post_id": 32103986, "comment_id": 52102633, "body": "I need it at runtime not to assign an array to it, but to create dynamic report of unknown object type(maybe Employee, EmployeeCard, ......)  so according to the type and relations between the classes I need to generate the report"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5243014"}, "edited": false, "score": 0, "creation_date": 1440013466, "post_id": 32104304, "comment_id": 52103101, "body": "does this give me if the property is a list of objects or an object??"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1440013559, "post_id": 32104304, "comment_id": 52103168, "body": "Like the answer says, yes, because <code>IList&lt;T&gt;</code> implements <code>IEnumerable</code>."}], "tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": true, "score": 1, "last_activity_date": 1440013388, "creation_date": 1440013388, "answer_id": 32104304, "question_id": 32103986, "link": "https://stackoverflow.com/questions/32103986/auto-detect-the-type-of-reference-property-of-a-given-class-object/32104304#32104304", "title": "Auto detect the type of reference property of a given class object", "body": "<p>Check to see if the type of the property implements <code>IEnumerable</code>:</p>\n\n<pre><code>bool isCollection = \n   typeof(Employee).GetProperty(\"EmployeeCard\")\n                   .PropertyType\n                   .GetInterface(\"IEnumerable\")\n     != null;\n</code></pre>\n\n<p>This should work for all generic and non-generic collection types, including <code>IList&lt;T&gt;</code></p>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 3324062, "user_type": "registered", "profile_image": "https://graph.facebook.com/666420445/picture?type=large", "display_name": "Keith", "link": "https://stackoverflow.com/users/3324062/keith"}, "is_accepted": false, "score": 0, "last_activity_date": 1440013597, "creation_date": 1440013597, "answer_id": 32104366, "question_id": 32103986, "link": "https://stackoverflow.com/questions/32103986/auto-detect-the-type-of-reference-property-of-a-given-class-object/32104366#32104366", "title": "Auto detect the type of reference property of a given class object", "body": "<p>As far as I can tell you are referring to this line of code in your example:\n <code>public virtual EmployeeCard EmployeeCard{ get; set; }</code></p>\n\n<p>First I should point out that using the same case on your method name and your class/struct name is not good practice and in some cases could cause problems with your compiler. Second, as far as I know, since you have it set to return a single object (EmployeeCard) you cannot have the non-virtual version of this method return an array of that type. What I recommend is that you go ahead and always return an array, and then check the length of the array, like this:</p>\n\n<pre><code>public virtual EmployeeCard[] _EmployeeCard { get; set; }\n</code></pre>\n\n<p>and declare your override using :</p>\n\n<pre><code>private EmployeeCard[] _employeeCards;\n\npublic override EmployeeCard[] _EmployeeCard\n{\n    get{\n        return _employeeCards;\n    }\n    set{\n        _employeeCards = (EmployeeCard[])value;\n    }\n}\n</code></pre>\n\n<p>When you reference it, and want to know if they have more than 1 you can do this:</p>\n\n<pre><code>if(myEmployee._EmployeeCard.Length &gt; 1)\n{\n    Console.WriteLine(string.Format(\"Employee has {0} cards.\", myEmployee._EmployeeCard\n}\n</code></pre>\n\n<p>I haven't tested this code yet because I'm at work but I think there is enough here that you can get the idea. Hopefully I haven't misunderstood what you are actually trying to do here, and I had to assume a few things since you didn't post your code for the class/struct named EmployeeCard.</p>\n\n<p>Cheers,</p>\n\n<p>Keith</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5243014"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 32104304, "answer_count": 2, "score": 1, "last_activity_date": 1440013597, "creation_date": 1440012262, "last_edit_date": 1440012445, "question_id": 32103986, "link": "https://stackoverflow.com/questions/32103986/auto-detect-the-type-of-reference-property-of-a-given-class-object", "title": "Auto detect the type of reference property of a given class object", "body": "<p>Given a class like this</p>\n\n<pre><code>public class Employee\n{\n   public Employee()\n   {\n       Children = new List&lt;Child&gt;();\n   }\n   public virtual string FirstName { get; set; }\n   public virtual string LastName { get; set; }\n   public virtual EmployeeCard EmployeeCard { get; set; }\n   public virtual IList&lt;Child&gt; Children { get; protected set; }\n}\n</code></pre>\n\n<p>If I have an object of the above class, how to determine if the <code>EmployeeCard</code> property is an object or a list of object at run time? Is this possible? </p>\n"}, {"tags": ["c#", ".net", "visual-studio", "visual-studio-2013"], "comments": [{"owner": {"reputation": 14322, "user_id": 50356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/1uhhm.png?s=128&g=1", "display_name": "Michael Bray", "link": "https://stackoverflow.com/users/50356/michael-bray"}, "edited": false, "score": 1, "creation_date": 1440012405, "post_id": 32103964, "comment_id": 52102449, "body": "Do you maybe have Errors filtered out?  (That is, only showing Warnings and/or Messages, or none at all)??"}, {"owner": {"reputation": 979, "user_id": 1629621, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/NvI7W.jpg?s=128&g=1", "display_name": "Lukesoft", "link": "https://stackoverflow.com/users/1629621/lukesoft"}, "reply_to_user": {"reputation": 14322, "user_id": 50356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/1uhhm.png?s=128&g=1", "display_name": "Michael Bray", "link": "https://stackoverflow.com/users/50356/michael-bray"}, "edited": false, "score": 1, "creation_date": 1440012477, "post_id": 32103964, "comment_id": 52102491, "body": "Nope..not filtered..."}, {"owner": {"reputation": 415, "user_id": 1570093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/01f035b57df122d980a84e826f64bbd3?s=128&d=identicon&r=PG", "display_name": "Tim Freese", "link": "https://stackoverflow.com/users/1570093/tim-freese"}, "edited": false, "score": 0, "creation_date": 1440012992, "post_id": 32103964, "comment_id": 52102819, "body": "maybe try a clean and rebuild"}, {"owner": {"reputation": 755, "user_id": 207683, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e980080aeed96b178c5c3f1ebb5fb1bc?s=128&d=identicon&r=PG", "display_name": "Cinaird", "link": "https://stackoverflow.com/users/207683/cinaird"}, "edited": false, "score": 1, "creation_date": 1445410894, "post_id": 32103964, "comment_id": 54307188, "body": "I have the same problem in VS2015 v14.0.23107 , did you find any solution?"}, {"owner": {"reputation": 1187, "user_id": 1256553, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c54860a949bf3a056106b5616e2f1520?s=128&d=identicon&r=PG", "display_name": "Arek", "link": "https://stackoverflow.com/users/1256553/arek"}, "edited": false, "score": 0, "creation_date": 1460735705, "post_id": 32103964, "comment_id": 60896623, "body": "Same problem here. It happened in Communit Edition after some time, then I installed Pro over it and it had the problem immediately."}, {"owner": {"reputation": 1934, "user_id": 1294318, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fLhZ0.jpg?s=128&g=1", "display_name": "OutstandingBill", "link": "https://stackoverflow.com/users/1294318/outstandingbill"}, "edited": false, "score": 0, "creation_date": 1494805614, "post_id": 32103964, "comment_id": 74969641, "body": "When you say &quot;wrongly showing only in my output window&quot;, you mean the error is genuine, and so it should also show in the Error List, right?"}, {"owner": {"reputation": 1, "user_id": 8153057, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/037cb3dd64f84b14459a8c7720f6a9b3?s=128&d=identicon&r=PG", "display_name": "Lasse", "link": "https://stackoverflow.com/users/8153057/lasse"}, "edited": false, "score": 1, "creation_date": 1497338638, "post_id": 32103964, "comment_id": 76033318, "body": "Talking from experience: Make sure the search field is empty."}], "answers": [{"comments": [{"owner": {"reputation": 979, "user_id": 1629621, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/NvI7W.jpg?s=128&g=1", "display_name": "Lukesoft", "link": "https://stackoverflow.com/users/1629621/lukesoft"}, "edited": false, "score": 0, "creation_date": 1440013429, "post_id": 32104276, "comment_id": 52103073, "body": "The window is there....but showing warning only.........and error filter not working"}, {"owner": {"reputation": 235, "user_id": 5179198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4438ec9d67a077b8c5ba509283b1e076?s=128&d=identicon&r=PG&f=1", "display_name": "Clay Sills", "link": "https://stackoverflow.com/users/5179198/clay-sills"}, "reply_to_user": {"reputation": 979, "user_id": 1629621, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/NvI7W.jpg?s=128&g=1", "display_name": "Lukesoft", "link": "https://stackoverflow.com/users/1629621/lukesoft"}, "edited": false, "score": 1, "creation_date": 1440013641, "post_id": 32104276, "comment_id": 52103226, "body": "check the filter (the funnel thingy at the top left corner of error list) and see if you&#39;ve got current project selected."}, {"owner": {"reputation": 525, "user_id": 875317, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/tQ8Th.jpg?s=128&g=1", "display_name": "B. Clay Shannon", "link": "https://stackoverflow.com/users/875317/b-clay-shannon"}, "edited": false, "score": 0, "creation_date": 1458927999, "post_id": 32104276, "comment_id": 60081311, "body": "I have no &quot;funnel thingy&quot; (in VS 2010). I&#39;d like to show Errors, then Warnings, then Messages, not them all scattered about willy-nilly."}], "tags": [], "owner": {"reputation": 235, "user_id": 5179198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4438ec9d67a077b8c5ba509283b1e076?s=128&d=identicon&r=PG&f=1", "display_name": "Clay Sills", "link": "https://stackoverflow.com/users/5179198/clay-sills"}, "is_accepted": false, "score": 0, "last_activity_date": 1440013276, "creation_date": 1440013276, "answer_id": 32104276, "question_id": 32103964, "link": "https://stackoverflow.com/questions/32103964/visual-studio-2013-error-list-not-showing-errors-on-failed-builds/32104276#32104276", "title": "Visual Studio 2013 Error List not showing errors on failed builds", "body": "<p>Go to the view menu and select Errors List.  That's what you're looking for.</p>\n"}, {"tags": [], "owner": {"reputation": 2064, "user_id": 1898688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cb15741a2864c82a70537e9b82a19780?s=128&d=identicon&r=PG", "display_name": "tic", "link": "https://stackoverflow.com/users/1898688/tic"}, "is_accepted": false, "score": 0, "last_activity_date": 1458321942, "creation_date": 1458321942, "answer_id": 36090649, "question_id": 32103964, "link": "https://stackoverflow.com/questions/32103964/visual-studio-2013-error-list-not-showing-errors-on-failed-builds/36090649#36090649", "title": "Visual Studio 2013 Error List not showing errors on failed builds", "body": "<p>Make sure that you have <code>Build + Intellisense</code> selected within the <code>Error List</code> pane. By default on VS2015 it is set to <code>Build Only</code></p>\n"}, {"tags": [], "owner": {"reputation": 36497, "user_id": 5302, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/36266269d477a10e9e34d6c32756d255?s=128&d=identicon&r=PG", "display_name": "johnc", "link": "https://stackoverflow.com/users/5302/johnc"}, "is_accepted": false, "score": 2, "last_activity_date": 1462233503, "creation_date": 1462233503, "answer_id": 36993465, "question_id": 32103964, "link": "https://stackoverflow.com/questions/32103964/visual-studio-2013-error-list-not-showing-errors-on-failed-builds/36993465#36993465", "title": "Visual Studio 2013 Error List not showing errors on failed builds", "body": "<p>Had this problem for ages, just worked it out.</p>\n\n<p>Your problem is over 6 months old, so I assume you've worked it out, but for others, make sure the dropdown list in the top left corner of the error window (next to the error count, under the text 'Error List') is set to 'Entire Solution'.</p>\n\n<p>Mine was set to 'Current Document'. </p>\n"}, {"comments": [{"owner": {"reputation": 33511, "user_id": 321013, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/256c9d534302a138d5d1fe3ed833e217?s=128&d=identicon&r=PG", "display_name": "Martin Ba", "link": "https://stackoverflow.com/users/321013/martin-ba"}, "edited": false, "score": 1, "creation_date": 1502446474, "post_id": 38119561, "comment_id": 78224121, "body": "Switching back to <code>Build Only</code> may then just keep the errors displayed."}], "tags": [], "owner": {"reputation": 51, "user_id": 5048713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07a24a079397de8a956c6ee4549b0145?s=128&d=identicon&r=PG&f=1", "display_name": "Vic", "link": "https://stackoverflow.com/users/5048713/vic"}, "is_accepted": false, "score": 5, "last_activity_date": 1467280178, "creation_date": 1467280178, "answer_id": 38119561, "question_id": 32103964, "link": "https://stackoverflow.com/questions/32103964/visual-studio-2013-error-list-not-showing-errors-on-failed-builds/38119561#38119561", "title": "Visual Studio 2013 Error List not showing errors on failed builds", "body": "<p>Right hand side of ErrorList, select <strong>Build + Intellisense</strong>. Worked for me </p>\n"}, {"tags": [], "owner": {"reputation": 1901, "user_id": 3849306, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c0d5d8e2926940dd3c1cc0310095a49f?s=128&d=identicon&r=PG&f=1", "display_name": "FredyWenger", "link": "https://stackoverflow.com/users/3849306/fredywenger"}, "is_accepted": false, "score": 1, "last_activity_date": 1480502349, "creation_date": 1480502349, "answer_id": 40886160, "question_id": 32103964, "link": "https://stackoverflow.com/questions/32103964/visual-studio-2013-error-list-not-showing-errors-on-failed-builds/40886160#40886160", "title": "Visual Studio 2013 Error List not showing errors on failed builds", "body": "<p>I had this problem with VS2015 Update 3 RC and Xamarin (.Forms shared project).<br>\nCompiler don't stop, errors were only showed in the output window.<br>\nThis only for Xamarin projects (with VB.NET projects all has worked as expected)...<br>\nTo try find the reason for the problem, I have changed the Build Output in VS: </p>\n\n<ul>\n<li>menu \"Tools - Options\"  </li>\n<li>from the left panel: \"Projects And Solutions: Build And Run\":  </li>\n<li>change \"MSBuild Output Verbosity\" from \"Minimal\" to \"Diagnostic\"</li>\n</ul>\n\n<p><strong>After doing that, the compiler has stopped and the error was showed..</strong><br>\nAfter that, I have set the option <strong>back from \"Diagnostic\" to \"Minimal\"</strong> (like it was before) and... it has worked also with \"Minimal\" (to be sure, I also have restarted VS)...  </p>\n\n<p><strong>So.. it seems that only to change (touch) the setting (MSBuild Output Verbosity\") has solved the problem and that this is a bug in VS and/or the Xamarin integration Software...</strong> </p>\n"}, {"comments": [{"owner": {"reputation": 33511, "user_id": 321013, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/256c9d534302a138d5d1fe3ed833e217?s=128&d=identicon&r=PG", "display_name": "Martin Ba", "link": "https://stackoverflow.com/users/321013/martin-ba"}, "edited": false, "score": 1, "creation_date": 1502446433, "post_id": 43814087, "comment_id": 78224097, "body": "On VS2015, for me too: <i>switching</i> between <code>B+Intelli</code> and <code>Build Only</code> made errors appear with <code>B. Only</code> that previously didn&#39;t show up when <code>B. Only</code> was selected."}], "tags": [], "owner": {"reputation": 31, "user_id": 7959679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea2bd871b8a38e6a659e53a6a1ffc2a?s=128&d=identicon&r=PG&f=1", "display_name": "GandalfThePlaid", "link": "https://stackoverflow.com/users/7959679/gandalftheplaid"}, "is_accepted": false, "score": 3, "last_activity_date": 1494020204, "creation_date": 1494020204, "answer_id": 43814087, "question_id": 32103964, "link": "https://stackoverflow.com/questions/32103964/visual-studio-2013-error-list-not-showing-errors-on-failed-builds/43814087#43814087", "title": "Visual Studio 2013 Error List not showing errors on failed builds", "body": "<p>I'm seeing this in 2015 every once and a while.  For me changing the \"Show issues generated\" drop down gets them to show up.  Even if I was already on \"Build + IntelliSense\", dropping it down to \"Build Only\" or \"IntelliSense Only\" can get them to display (without having to rebuild).  Sometimes I can take it back to B+I and keep the revealed errors, sometimes not.  Rather weird.</p>\n"}, {"tags": [], "owner": {"reputation": 1934, "user_id": 1294318, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fLhZ0.jpg?s=128&g=1", "display_name": "OutstandingBill", "link": "https://stackoverflow.com/users/1294318/outstandingbill"}, "is_accepted": false, "score": 1, "last_activity_date": 1494805460, "creation_date": 1494805460, "answer_id": 43969832, "question_id": 32103964, "link": "https://stackoverflow.com/questions/32103964/visual-studio-2013-error-list-not-showing-errors-on-failed-builds/43969832#43969832", "title": "Visual Studio 2013 Error List not showing errors on failed builds", "body": "<p>Restarting Visual Studio did the trick for me.  Seems to also have worked for one of the contributors to <a href=\"https://social.msdn.microsoft.com/Forums/en-US/49a72b3b-6b83-40a8-b8a1-8e1a82db5e3d/visual-studio-shows-build-failed-but-no-errors-are-displayed?forum=visualstudiogeneral\" rel=\"nofollow noreferrer\">this Microsoft Social post</a>.  I had tried all the answers on this page to no avail.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6323771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd89d4ce00233bf20b5ca1b19073ace5?s=128&d=identicon&r=PG&f=1", "display_name": "MattiR", "link": "https://stackoverflow.com/users/6323771/mattir"}, "is_accepted": false, "score": 0, "last_activity_date": 1521096938, "creation_date": 1521096938, "answer_id": 49293229, "question_id": 32103964, "link": "https://stackoverflow.com/questions/32103964/visual-studio-2013-error-list-not-showing-errors-on-failed-builds/49293229#49293229", "title": "Visual Studio 2013 Error List not showing errors on failed builds", "body": "<p>Had this problem with xamarin project in vs 2015. Opened a non Xamarin and the error list worked fine. Then reopened the xamarin project and now the error list was started to work in it also. So the solution for me was to open non xamarin related project.</p>\n"}, {"tags": [], "owner": {"reputation": 67, "user_id": 8570819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d21347722c78142a5392c0e76e5ee3be?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry", "link": "https://stackoverflow.com/users/8570819/jerry"}, "is_accepted": false, "score": 0, "last_activity_date": 1543596316, "creation_date": 1543596316, "answer_id": 53561639, "question_id": 32103964, "link": "https://stackoverflow.com/questions/32103964/visual-studio-2013-error-list-not-showing-errors-on-failed-builds/53561639#53561639", "title": "Visual Studio 2013 Error List not showing errors on failed builds", "body": "<p>If I select the Solution in the Solution Window, right click Solution and select either Build Solution or Rebuild Solution, the errors and warnings show up in the error list. </p>\n"}], "owner": {"reputation": 979, "user_id": 1629621, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/NvI7W.jpg?s=128&g=1", "display_name": "Lukesoft", "link": "https://stackoverflow.com/users/1629621/lukesoft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9882, "favorite_count": 0, "answer_count": 9, "score": 8, "last_activity_date": 1543596316, "creation_date": 1440012181, "question_id": 32103964, "link": "https://stackoverflow.com/questions/32103964/visual-studio-2013-error-list-not-showing-errors-on-failed-builds", "title": "Visual Studio 2013 Error List not showing errors on failed builds", "body": "<p>My VS2013 Professional just stopped showing build errors in my error list (which is more user friendly as i can click on errors and go straight to the offending line). Build errors e.g non-existent method on an object now only show up at build time in the Output window. This is proving to make my life harder as i now need to run the project every single time, to see errors which i should really get in the error list before runtime.</p>\n\n<p>I have tried</p>\n\n<ul>\n<li>Deleting suo files</li>\n<li>Checked, Always show error list if build finished with errors option</li>\n<li>Started a new project</li>\n</ul>\n\n<p>And nothing is working. </p>\n\n<p>Maybe iam just confusing VS2013 with another IDE, but iam pretty sure VS2013 is suppose to show errors <strong>in the Error List</strong> when build fails with errors such as </p>\n\n<blockquote>\n  <p>C:\\Users\\User\\Documents\\Visual Studio\n  2013\\Projects\\MyProj\\UI\\Main.cs(149,213,149,221): error CS1061:\n  'Helper.Track' does not contain a definition for 'location' and no\n  extension method 'location' accepting a first argument of type\n  'Helper.Track' could be found (are you missing a using directive or an\n  assembly reference?)</p>\n</blockquote>\n\n<p>which are wrongly showing only in my output window.</p>\n"}, {"tags": ["c#", "design-patterns", "workflow", "workflow-foundation-4", "workflow-foundation"], "comments": [{"owner": {"reputation": 415, "user_id": 1570093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/01f035b57df122d980a84e826f64bbd3?s=128&d=identicon&r=PG", "display_name": "Tim Freese", "link": "https://stackoverflow.com/users/1570093/tim-freese"}, "edited": false, "score": 0, "creation_date": 1440012322, "post_id": 32103810, "comment_id": 52102377, "body": "This is similar to your previously asked question that was closed."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 1, "creation_date": 1440017601, "post_id": 32103810, "comment_id": 52105455, "body": "It&#39;s barely on topic, but it&#39;s still too broad.  We can&#39;t answer this for you.  What you need to do is what we all do in this case: 1) research frameworks 2) select ones that appear to be good candidates 3) prototype these as well as a hand-written solution 4) use this practical experience to decide on one."}], "owner": {"reputation": 19, "user_id": 3934832, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/889046f2866af39791a4555a267378f9?s=128&d=identicon&r=PG&f=1", "display_name": "Xmare2", "link": "https://stackoverflow.com/users/3934832/xmare2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 629, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1440011623, "creation_date": 1440011623, "question_id": 32103810, "link": "https://stackoverflow.com/questions/32103810/what-workflow-design-pattern-should-i-use-for-a-sequence-of-process-that-require", "title": "What workflow design pattern should I use for a sequence of process that requires user input?", "body": "<p>I am developing an application where the users can execute tasks / workflows. Each task is made up of a sequence of of actions to be executed. I want to be able to be able to have user input after the workflow is started.</p>\n\n<p>Example:</p>\n\n<p>Task starts\nAction1 starts\nAction1 ends\nAction2 starts\nAction2 ends\nAction3 needs user input (UI opens window to get user input)\nAction3 gets user input\nAction3 starts\nAction3 ends\nTask ends\nI am developing this i C# and I am aware of Workflow Foundation and tasks in C#. They may have what I need, but I am also interested in hearing about a design pattern for doing this from scratch.</p>\n"}, {"tags": ["c#", "sockets", "tcp", "port", "p2p"], "comments": [{"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 1, "creation_date": 1440011882, "post_id": 32103790, "comment_id": 52102105, "body": "I don&#39;t get it. Why do you need local IP? Don&#39;t you need the remote address?"}, {"owner": {"reputation": 127444, "user_id": 492405, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/SSPGk.png?s=128&g=1", "display_name": "vcsjones", "link": "https://stackoverflow.com/users/492405/vcsjones"}, "reply_to_user": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1440011918, "post_id": 32103790, "comment_id": 52102125, "body": "@Eser they say local IP address<b>es</b> which to me means the local network."}, {"owner": {"reputation": 235, "user_id": 5179198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4438ec9d67a077b8c5ba509283b1e076?s=128&d=identicon&r=PG&f=1", "display_name": "Clay Sills", "link": "https://stackoverflow.com/users/5179198/clay-sills"}, "edited": false, "score": 0, "creation_date": 1440012071, "post_id": 32103790, "comment_id": 52102230, "body": "<a href=\"http://stackoverflow.com/questions/6668810/how-do-i-determine-the-local-host-s-ipv4-addresses\" title=\"how do i determine the local host s ipv4 addresses\">stackoverflow.com/questions/6668810/&hellip;</a>"}, {"owner": {"reputation": 14322, "user_id": 50356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/1uhhm.png?s=128&g=1", "display_name": "Michael Bray", "link": "https://stackoverflow.com/users/50356/michael-bray"}, "edited": false, "score": 0, "creation_date": 1440012076, "post_id": 32103790, "comment_id": 52102231, "body": "It sounds like what you are referring to is port scanning...  that&#39;s strongly frowned upon."}, {"owner": {"reputation": 127444, "user_id": 492405, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/SSPGk.png?s=128&g=1", "display_name": "vcsjones", "link": "https://stackoverflow.com/users/492405/vcsjones"}, "edited": false, "score": 5, "creation_date": 1440012128, "post_id": 32103790, "comment_id": 52102259, "body": "I would instead implement UDP broadcasting. Your application sends a UDP datagram to the 255.255.255.255 broadcast address. This datagram is then sent to every host in the local network (that&#39;s what happens when you send a datagram to 255.255.255.255). Your application also listens for these UDP broadcasts and responds accordingly. For every IP address that responds appropriately, you can assume that its your application and you can try connecting with TCP on your port. Take a look at <a href=\"https://msdn.microsoft.com/en-us/library/tst0kwb1(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/tst0kwb1(v=vs.110).aspx</a>"}, {"owner": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 0, "creation_date": 1440012158, "post_id": 32103790, "comment_id": 52102274, "body": "possible duplicate of <a href=\"http://stackoverflow.com/q/13761084/11683\">Find the IP address of Running Application over lan</a>"}, {"owner": {"reputation": 2496, "user_id": 1195188, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e34939fca34ba2f25ff4d783ac83fcc6?s=128&d=identicon&r=PG", "display_name": "sumeet kumar", "link": "https://stackoverflow.com/users/1195188/sumeet-kumar"}, "edited": false, "score": 0, "creation_date": 1440012185, "post_id": 32103790, "comment_id": 52102290, "body": "Best way to do in these cases is implement a UDP server which replies to specific port and client application can either broadcast or multicast and get the IP Address as a part of data from the UDP server"}, {"owner": {"reputation": 795, "user_id": 4279598, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-gUjrLyAWHAE/AAAAAAAAAAI/AAAAAAAAAEI/gTQv1d8e0y4/photo.jpg?sz=128", "display_name": "0014", "link": "https://stackoverflow.com/users/4279598/0014"}, "reply_to_user": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1440012223, "post_id": 32103790, "comment_id": 52102315, "body": "@Eser exactly as vcjones said. I`m trying to get the IP addresses that are connected to the same network and using the same application."}, {"owner": {"reputation": 795, "user_id": 4279598, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-gUjrLyAWHAE/AAAAAAAAAAI/AAAAAAAAAEI/gTQv1d8e0y4/photo.jpg?sz=128", "display_name": "0014", "link": "https://stackoverflow.com/users/4279598/0014"}, "reply_to_user": {"reputation": 127444, "user_id": 492405, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/SSPGk.png?s=128&g=1", "display_name": "vcsjones", "link": "https://stackoverflow.com/users/492405/vcsjones"}, "edited": false, "score": 0, "creation_date": 1440012400, "post_id": 32103790, "comment_id": 52102444, "body": "@vcsjones Do I have to implement a UDP server for what you suggest ?"}, {"owner": {"reputation": 1290, "user_id": 1187385, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d610de6b95fbfade11dc40de8fcee7fa?s=128&d=identicon&r=PG", "display_name": "Amit Shakya", "link": "https://stackoverflow.com/users/1187385/amit-shakya"}, "edited": false, "score": 0, "creation_date": 1440012531, "post_id": 32103790, "comment_id": 52102532, "body": "Actually no need for UDP, if you have an AD object with in same domain. You can easily find out IP address for given hostname and find out port is listening or not."}, {"owner": {"reputation": 795, "user_id": 4279598, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-gUjrLyAWHAE/AAAAAAAAAAI/AAAAAAAAAEI/gTQv1d8e0y4/photo.jpg?sz=128", "display_name": "0014", "link": "https://stackoverflow.com/users/4279598/0014"}, "reply_to_user": {"reputation": 2496, "user_id": 1195188, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e34939fca34ba2f25ff4d783ac83fcc6?s=128&d=identicon&r=PG", "display_name": "sumeet kumar", "link": "https://stackoverflow.com/users/1195188/sumeet-kumar"}, "edited": false, "score": 0, "creation_date": 1440012958, "post_id": 32103790, "comment_id": 52102806, "body": "@sumeetkumar did you mean an UDP server or UDP service ? because I dont think I need a server to do what I am trying to do..."}], "answers": [{"tags": [], "owner": {"reputation": 602, "user_id": 4463444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89289b508ee39e2d5b688e91fd4b7b5a?s=128&d=identicon&r=PG", "display_name": "Ismael", "link": "https://stackoverflow.com/users/4463444/ismael"}, "is_accepted": false, "score": 2, "last_activity_date": 1440015216, "creation_date": 1440015216, "answer_id": 32104817, "question_id": 32103790, "link": "https://stackoverflow.com/questions/32103790/how-to-get-ip-addresses-of-hosts-on-local-network-running-my-program/32104817#32104817", "title": "How to get IP addresses of hosts on local network running my program", "body": "<p>I believe if you are using a peer to peer application to exchange packets, when you need to know if someone \"Is Online and Ready for connection\", you need to send a broadcast. We can do it easily using an UDP connection.</p>\n\n<p>I'll post an example where you use two methods: one to ask the entire network for ready clients in a broadcast message, and the other will start a listener to answer back broadcast asking message, or start a connection if a response of type \"i am here\" comes.</p>\n\n<p>Hope it helps!</p>\n\n<pre><code>public sealed class UdpUtility\n{\n    // Our UDP Port\n    private const int broadcastPort = 11000;\n\n    // Our message to ask if anyone is ready for connection\n    private const string askMessage = \"ARE ANYONE OUT THERE?\";\n\n    // Our answer message\n    private const string responseMessage = \"I AM HERE!\";\n\n    // We use this method to look for a client to connect with us.\n    // It will send a broadcast to the network, asking if any client is ready for connection.\n    public void SendBroadcastMessage()\n    {\n        var udp = new UdpClient(broadcastPort);\n        var endpoint = new IPEndPoint(IPAddress.Broadcast, broadcastPort);\n\n        try\n        {\n            var bytes = Encoding.ASCII.GetBytes(askMessage);\n            udp.Send(bytes, bytes.Length, endpoint);\n        }\n        catch (Exception ex)\n        {\n            // Treat your connection exceptions here!\n        }\n    }\n\n    // This method will start a listener on the port.\n    // The client will listen for the ask message and the ready message.\n    // It can then, answer back with a ready response, or start the TCP connection.\n    public void ListenBroadcastMessage()\n    {\n        var udp = new UdpClient(broadcastPort);\n        var endpoint = new IPEndPoint(IPAddress.Broadcast, broadcastPort);\n\n        bool received = false;\n\n        try\n        {\n            while (!received)\n            {\n                // We start listening broadcast messages on the broadcast IP Address interface.\n                // When a message comes, the endpoing IP Address will be updated with the sender IP Address.\n                // Then we can answer back the response telling that we are here, ready for connection.\n                var bytes = udp.Receive(ref endpoint);\n                var message = Encoding.ASCII.GetString(bytes);\n\n                if (message == askMessage)\n                {\n                    // Our client received the ask message. We must answer back!\n                    // When the client receives our response, his endpoint will be updated with our IP Address.\n                    // The other client can, then, start the TCP connection and do the desired stuff.\n                    var responseBytes = Encoding.ASCII.GetBytes(responseMessage);\n                    udp.Send(responseBytes, responseBytes.Length, endpoint);\n                }\n                else if (message == responseMessage)\n                {\n                    // We received a connection ready message! We can stop listening.\n                    received = true;\n\n                    // We received a response message! \n                    // We can start our TCP connection here and do the desired stuff.\n                    // Remember: The other client IP Address (the thing you want) will be on the\n                    // endpoint object at this point. Just use it and start your TCP connection!\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            // Treat your connection exceptions here!\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 795, "user_id": 4279598, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-gUjrLyAWHAE/AAAAAAAAAAI/AAAAAAAAAEI/gTQv1d8e0y4/photo.jpg?sz=128", "display_name": "0014", "link": "https://stackoverflow.com/users/4279598/0014"}, "edited": false, "score": 0, "creation_date": 1440015958, "post_id": 32104923, "comment_id": 52104562, "body": "netstat -n will give me the ports I am using which I already know. I need the IP addresses of the devices using my application. How am I suppose to find the IP addresses with this information ?"}, {"owner": {"reputation": 55, "user_id": 4505309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c44d4f1fdbab8583c9aaa8949d46fe?s=128&d=identicon&r=PG&f=1", "display_name": "Matty2", "link": "https://stackoverflow.com/users/4505309/matty2"}, "reply_to_user": {"reputation": 795, "user_id": 4279598, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-gUjrLyAWHAE/AAAAAAAAAAI/AAAAAAAAAEI/gTQv1d8e0y4/photo.jpg?sz=128", "display_name": "0014", "link": "https://stackoverflow.com/users/4279598/0014"}, "edited": false, "score": 0, "creation_date": 1440016650, "post_id": 32104923, "comment_id": 52104941, "body": "If you do netstat -n on your command prompt now, you will know what to remove and filter. 1.Remove the header of the output(Reject the first line) 2.remove all lines that repeats 127.0.0.1 twice 3.Get lines that contains :17500 4.Only accept lines with the string &quot;TCP&quot; and &quot;ESTABLISHED&quot; 5.Remove the strings &quot;TCP&quot;, &quot;ESTABLISHED&quot;, &lt;Your IP address&gt;, &quot;:17500&quot;, and trim it"}, {"owner": {"reputation": 55, "user_id": 4505309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c44d4f1fdbab8583c9aaa8949d46fe?s=128&d=identicon&r=PG&f=1", "display_name": "Matty2", "link": "https://stackoverflow.com/users/4505309/matty2"}, "reply_to_user": {"reputation": 795, "user_id": 4279598, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-gUjrLyAWHAE/AAAAAAAAAAI/AAAAAAAAAEI/gTQv1d8e0y4/photo.jpg?sz=128", "display_name": "0014", "link": "https://stackoverflow.com/users/4279598/0014"}, "edited": false, "score": 0, "creation_date": 1440017330, "post_id": 32104923, "comment_id": 52105319, "body": "You have to run that code on your server. If you are using peer-to-peer(no server). You need to use port scanning, list out all the ip addresses in your subnet that you want to scan(some algorithm that can list all possible IP addresses in the subnet) and scan for open ports that is 17500. Those with the open ports are running your application. There is a port scanning tool you can invoke in your program <a href=\"https://nmap.org/\" rel=\"nofollow noreferrer\">nmap.org</a>"}, {"owner": {"reputation": 795, "user_id": 4279598, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-gUjrLyAWHAE/AAAAAAAAAAI/AAAAAAAAAEI/gTQv1d8e0y4/photo.jpg?sz=128", "display_name": "0014", "link": "https://stackoverflow.com/users/4279598/0014"}, "edited": false, "score": 0, "creation_date": 1440094909, "post_id": 32104923, "comment_id": 52142688, "body": "Sorry I got curious and tried what you have suggested, unfortunately it doesn&#39;t work. I opened my application on two different computers within same local network, then typed in command prompt netstat -n on both as well. There is no IP data of other computers other than itself..."}, {"owner": {"reputation": 55, "user_id": 4505309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c44d4f1fdbab8583c9aaa8949d46fe?s=128&d=identicon&r=PG&f=1", "display_name": "Matty2", "link": "https://stackoverflow.com/users/4505309/matty2"}, "reply_to_user": {"reputation": 795, "user_id": 4279598, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-gUjrLyAWHAE/AAAAAAAAAAI/AAAAAAAAAEI/gTQv1d8e0y4/photo.jpg?sz=128", "display_name": "0014", "link": "https://stackoverflow.com/users/4279598/0014"}, "edited": false, "score": 0, "creation_date": 1440155443, "post_id": 32104923, "comment_id": 52167373, "body": "IT works only when you have a server and you are doing it on the server"}], "tags": [], "owner": {"reputation": 55, "user_id": 4505309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c44d4f1fdbab8583c9aaa8949d46fe?s=128&d=identicon&r=PG&f=1", "display_name": "Matty2", "link": "https://stackoverflow.com/users/4505309/matty2"}, "is_accepted": false, "score": -4, "last_activity_date": 1440015601, "creation_date": 1440015601, "answer_id": 32104923, "question_id": 32103790, "link": "https://stackoverflow.com/questions/32103790/how-to-get-ip-addresses-of-hosts-on-local-network-running-my-program/32104923#32104923", "title": "How to get IP addresses of hosts on local network running my program", "body": "<p>Invoke your command prompt to do \"netstat -n\" and extract the output.</p>\n\n<p>Here is a piece of code taken from a program that I have wrote modified to fit your requirements. You will still need to further process the data to get the IP addresses</p>\n\n<pre><code>        Process netP = new Process();\n        ProcessStartInfo netPI = new ProcessStartInfo();\n        netPI.FileName = \"cmd\";\n        netPI.UseShellExecute = false;\n        netPI.RedirectStandardOutput = true;\n        netPI.RedirectStandardInput = true;\n        netPI.RedirectStandardError = true;\n        netPI.CreateNoWindow = true;\n        netP.StartInfo = NetPI;\n        netP.Start();\n        while (!netP.Start())\n            Thread.Sleep(100);\n        StreamWriter sW = netP.StandardInput;\n        StreamReader sR = netP.StandardOutput;\n        sW.WriteLine(\"netstat -n\")\n        sW.Close();\n        string data = sR.ReadToEnd();\n        sR.Close();\n        //Do some further processing to filter out the addresses and extract\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 795, "user_id": 4279598, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-gUjrLyAWHAE/AAAAAAAAAAI/AAAAAAAAAEI/gTQv1d8e0y4/photo.jpg?sz=128", "display_name": "0014", "link": "https://stackoverflow.com/users/4279598/0014"}, "edited": false, "score": 0, "creation_date": 1440092714, "post_id": 32105624, "comment_id": 52141496, "body": "This code works like a charm! Thank you. The only problem is when one side leaves, the IP address shown on console is not the leavers address its the remaining peers IP address."}, {"owner": {"reputation": 795, "user_id": 4279598, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-gUjrLyAWHAE/AAAAAAAAAAI/AAAAAAAAAEI/gTQv1d8e0y4/photo.jpg?sz=128", "display_name": "0014", "link": "https://stackoverflow.com/users/4279598/0014"}, "edited": false, "score": 0, "creation_date": 1440092778, "post_id": 32105624, "comment_id": 52141538, "body": "For those who wonder how to use the first code segment, run it once the application loads."}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "reply_to_user": {"reputation": 795, "user_id": 4279598, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-gUjrLyAWHAE/AAAAAAAAAAI/AAAAAAAAAEI/gTQv1d8e0y4/photo.jpg?sz=128", "display_name": "0014", "link": "https://stackoverflow.com/users/4279598/0014"}, "edited": false, "score": 0, "creation_date": 1440095525, "post_id": 32105624, "comment_id": 52143050, "body": "@0014 your are right about this minor bug. Instead of using the captured value (<code>from</code>) I should have used the argument of <code>RemovedCallback</code> while invoking <code>PeerLeft</code>. I leave it for future readers..."}, {"owner": {"reputation": 795, "user_id": 4279598, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-gUjrLyAWHAE/AAAAAAAAAAI/AAAAAAAAAEI/gTQv1d8e0y4/photo.jpg?sz=128", "display_name": "0014", "link": "https://stackoverflow.com/users/4279598/0014"}, "edited": false, "score": 0, "creation_date": 1440099790, "post_id": 32105624, "comment_id": 52145341, "body": "I tried applying what you mentioned but failed to do. Is there a chance that you might you may correct that minor bug you have mentioned ?"}], "tags": [], "owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "is_accepted": true, "score": 6, "last_activity_date": 1440100080, "last_edit_date": 1440100080, "creation_date": 1440018199, "answer_id": 32105624, "question_id": 32103790, "link": "https://stackoverflow.com/questions/32103790/how-to-get-ip-addresses-of-hosts-on-local-network-running-my-program/32105624#32105624", "title": "How to get IP addresses of hosts on local network running my program", "body": "<p>As mentioned in comments, you need some kind of peer-discovery protocol.  </p>\n\n<p>As many multimedia devices, routers etc. use  multicast based discovery protocols like <a href=\"https://en.wikipedia.org/wiki/Simple_Service_Discovery_Protocol\" rel=\"nofollow\">SSDP</a>, I created a similar <em>discovery service</em> sample .</p>\n\n<p>Usage is simple. Just use </p>\n\n<pre><code>Discoverer.PeerJoined = ip =&gt; Console.WriteLine(\"JOINED:\" + ip);\nDiscoverer.PeerLeft= ip =&gt; Console.WriteLine(\"LEFT:\" + ip);\n\nDiscoverer.Start();\n</code></pre>\n\n<p>All your clients will use the same code.</p>\n\n<hr>\n\n<pre><code>using System;\nusing System.Net;\nusing System.Net.Sockets;\nusing System.Runtime.Caching; // add this library from the reference tab\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace SO\n{\n    public class Discoverer\n    {\n        static string MULTICAST_IP = \"238.212.223.50\"; //Random between 224.X.X.X - 239.X.X.X\n        static int MULTICAST_PORT = 2015;    //Random\n\n        static UdpClient _UdpClient;\n        static MemoryCache _Peers = new MemoryCache(\"_PEERS_\");\n\n        public static Action&lt;string&gt; PeerJoined = null;\n        public static Action&lt;string&gt; PeerLeft = null;\n\n        public static void Start()\n        {\n            _UdpClient = new UdpClient();\n            _UdpClient.Client.Bind(new IPEndPoint(IPAddress.Any, MULTICAST_PORT));\n            _UdpClient.JoinMulticastGroup(IPAddress.Parse(MULTICAST_IP));\n\n\n            Task.Run(() =&gt; Receiver());\n            Task.Run(() =&gt; Sender());\n        }\n\n        static void Sender()\n        {\n            var IamHere = Encoding.UTF8.GetBytes(\"I AM ALIVE\");\n            IPEndPoint mcastEndPoint = new IPEndPoint(IPAddress.Parse(MULTICAST_IP), MULTICAST_PORT);\n\n            while (true)\n            {\n                _UdpClient.Send(IamHere, IamHere.Length, mcastEndPoint);\n                Task.Delay(1000).Wait();\n            }\n        }\n\n        static void Receiver()\n        {\n            var from = new IPEndPoint(0, 0);\n            while (true)\n            {\n                _UdpClient.Receive(ref from);\n                if (_Peers.Add(new CacheItem(from.Address.ToString(), from),\n                               new CacheItemPolicy() { \n                                    SlidingExpiration = TimeSpan.FromSeconds(20),\n                                    RemovedCallback = (x) =&gt; { if (PeerLeft != null) PeerLeft(x.CacheItem.Key); }\n                               }\n                             )\n                )\n                {\n                    if (PeerJoined != null) PeerJoined(from.Address.ToString());\n                }\n\n                Console.WriteLine(from.Address.ToString());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Now a little bit about the algorithm:</p>\n\n<ul>\n<li><p>Every client multicasts a packet every seconds.</p></li>\n<li><p>if the receiver(every client has it) gets a packet from an IP that isn't in its cache, it will fire <em>PeerJoined</em> method.</p></li>\n<li><p>Cache will expire in 20 seconds. If a client doesn't receive a packet within that duration from another client in cache, it will fire <em>PeerLeft</em> method.</p></li>\n</ul>\n"}], "owner": {"reputation": 795, "user_id": 4279598, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-gUjrLyAWHAE/AAAAAAAAAAI/AAAAAAAAAEI/gTQv1d8e0y4/photo.jpg?sz=128", "display_name": "0014", "link": "https://stackoverflow.com/users/4279598/0014"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2269, "favorite_count": 1, "accepted_answer_id": 32105624, "answer_count": 3, "score": 2, "last_activity_date": 1440100080, "creation_date": 1440011570, "last_edit_date": 1440012267, "question_id": 32103790, "link": "https://stackoverflow.com/questions/32103790/how-to-get-ip-addresses-of-hosts-on-local-network-running-my-program", "title": "How to get IP addresses of hosts on local network running my program", "body": "<p>I have built a peer to peer C# video conferencing application that uses a specific TCP port(17500) for audio communication. Currently, on my application interface, I enter the other IP address which has the program opened in order to communicate. What I want to do is to find the IP addresses automatically.</p>\n\n<p>So, I though the best way to achieve this is to obtain the local IP addresses that are using the same TCP port number, 17500. How can I do that ? or is there any other methods getting IP addresses using the same application ?</p>\n"}, {"tags": ["c#", "uwp"], "comments": [{"owner": {"reputation": 2949, "user_id": 1701563, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/df01797931e3b429edf890d1bae49679?s=128&d=identicon&r=PG", "display_name": "sibbl", "link": "https://stackoverflow.com/users/1701563/sibbl"}, "edited": false, "score": 0, "creation_date": 1440015975, "post_id": 32103787, "comment_id": 52104570, "body": "What do you mean with system colors? All available accent colors? All theme resources of type Color?"}], "answers": [{"comments": [{"owner": {"reputation": 551, "user_id": 393989, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/10bed320371a1cd5b293eeb1271c0254?s=128&d=identicon&r=PG", "display_name": "Paulustrious", "link": "https://stackoverflow.com/users/393989/paulustrious"}, "edited": false, "score": 1, "creation_date": 1491839822, "post_id": 32107312, "comment_id": 73719916, "body": "For the UWP beginner: You need &#39;using System.Reflection;&#39;"}], "tags": [], "owner": {"reputation": 21144, "user_id": 4068779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r0Hsj.png?s=128&g=1", "display_name": "Rob Caplan - MSFT", "link": "https://stackoverflow.com/users/4068779/rob-caplan-msft"}, "is_accepted": true, "score": 7, "last_activity_date": 1440027257, "creation_date": 1440027257, "answer_id": 32107312, "question_id": 32103787, "link": "https://stackoverflow.com/questions/32103787/how-to-get-list-of-system-colors-in-uwp/32107312#32107312", "title": "How to get list of system colors in uwp", "body": "<p>The <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.colors.aspx\" rel=\"noreferrer\">Windows.UI.Colors</a> class has properties for known colours from AliceBlue to YellowGreen. If you want a list of these colours you can use reflection to walk through the property names to build your own list to bind to.</p>\n\n<p>For example:</p>\n\n<p>A class to hold our color information</p>\n\n<pre><code>public class NamedColor\n{\n    public string Name { get; set; }\n    public Color Color { get; set; }\n}\n</code></pre>\n\n<p>And a property to bind to:</p>\n\n<pre><code>public ObservableCollection&lt;NamedColor&gt; Colors { get; set; }\n</code></pre>\n\n<p>Use reflection to build NamedColor list:</p>\n\n<pre><code>foreach (var color in typeof(Colors).GetRuntimeProperties())\n{\n    Colors.Add(new NamedColor() { Name = color.Name, Color = (Color)color.GetValue(null) });\n}\n</code></pre>\n\n<p>And some Xaml to bind to the color collection: </p>\n\n<pre><code>&lt;ComboBox ItemsSource=\"{Binding Colors}\"&gt;\n    &lt;ComboBox.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;Grid&gt;\n                &lt;Grid.ColumnDefinitions&gt;\n                    &lt;ColumnDefinition Width=\"auto\" /&gt;\n                    &lt;ColumnDefinition Width=\"*\" /&gt;\n                &lt;/Grid.ColumnDefinitions&gt;\n\n                &lt;Rectangle Grid.Column=\"0\" Height=\"30\" Width=\"30\" Margin=\"2\" VerticalAlignment=\"Center\" Stroke=\"{ThemeResource SystemControlForegroundBaseHighBrush }\" StrokeThickness=\"1\"&gt;\n                    &lt;Rectangle.Fill&gt;\n                        &lt;SolidColorBrush Color=\"{Binding Color}\" /&gt;\n                    &lt;/Rectangle.Fill&gt;\n                &lt;/Rectangle&gt;\n                &lt;TextBlock Text=\"{Binding Name}\" Grid.Column=\"1\" VerticalAlignment=\"Center\"/&gt;\n            &lt;/Grid&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/ComboBox.ItemTemplate&gt;\n&lt;/ComboBox&gt;\n</code></pre>\n"}], "owner": {"reputation": 1231, "user_id": 2810287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9cdae0b86a4fa4aaff6f2da0f6aa23e?s=128&d=identicon&r=PG&f=1", "display_name": "Ive", "link": "https://stackoverflow.com/users/2810287/ive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4031, "favorite_count": 2, "accepted_answer_id": 32107312, "answer_count": 1, "score": 4, "last_activity_date": 1440076624, "creation_date": 1440011560, "last_edit_date": 1440076624, "question_id": 32103787, "link": "https://stackoverflow.com/questions/32103787/how-to-get-list-of-system-colors-in-uwp", "title": "How to get list of system colors in uwp", "body": "<p>I would like to build simple ColorComboBox, but I don't know,\nhow do I get system colors(KnownColors) in Universal Windows Platform with c#. \nType KnownColors is not accessible.</p>\n"}, {"tags": ["c#", "perl"], "comments": [{"owner": {"reputation": 1361, "user_id": 4983713, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1300402182/picture?type=large", "display_name": "DrewB", "link": "https://stackoverflow.com/users/4983713/drewb"}, "edited": false, "score": 0, "creation_date": 1440012149, "post_id": 32103766, "comment_id": 52102268, "body": "I know that the RSACryptoServiceProvider in C# emits bytes in reverse order from any other library.  It&#39;s possible the HMCASHA1 has does as well."}, {"owner": {"reputation": 4571, "user_id": 14897, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b5c8015d480cc5148e39aa9eaa149577?s=128&d=identicon&r=PG", "display_name": "Devin Ceartas", "link": "https://stackoverflow.com/users/14897/devin-ceartas"}, "reply_to_user": {"reputation": 1361, "user_id": 4983713, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1300402182/picture?type=large", "display_name": "DrewB", "link": "https://stackoverflow.com/users/4983713/drewb"}, "edited": false, "score": 0, "creation_date": 1440012864, "post_id": 32103766, "comment_id": 52102744, "body": "that seems confusing. I&#39;ll post above (where the formatting will be better) what I tried to test this, which didn&#39;t seem to get me there, but again not sure if I&#39;m handling the bytes correctly."}, {"owner": {"reputation": 4571, "user_id": 14897, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b5c8015d480cc5148e39aa9eaa149577?s=128&d=identicon&r=PG", "display_name": "Devin Ceartas", "link": "https://stackoverflow.com/users/14897/devin-ceartas"}, "reply_to_user": {"reputation": 1361, "user_id": 4983713, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1300402182/picture?type=large", "display_name": "DrewB", "link": "https://stackoverflow.com/users/4983713/drewb"}, "edited": false, "score": 0, "creation_date": 1440019525, "post_id": 32103766, "comment_id": 52106373, "body": "why is my question being down-voted? Is there something I need to include? Did I mis-state something? I am completely baffled."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1440031026, "post_id": 32103766, "comment_id": 52109802, "body": "@DevinCeartas I can&#39;t speak for the people who down-voted your question, but you might want to make the title more specific. Also, it might help to get to the point more quickly and be more obvious about what the question is. Finally, if you have any sample output to compare, that could also be helpful."}, {"owner": {"reputation": 4571, "user_id": 14897, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b5c8015d480cc5148e39aa9eaa149577?s=128&d=identicon&r=PG", "display_name": "Devin Ceartas", "link": "https://stackoverflow.com/users/14897/devin-ceartas"}, "edited": false, "score": 0, "creation_date": 1440070087, "post_id": 32103766, "comment_id": 52126489, "body": "OK, thanks. I&#39;ve tried to make the title more descriptive and cut out most of my preamble. Unfortunately I have only real values (real passwords and salt) for the windows code, so I&#39;m not sure it would be wise to publish that output. It&#39;s base64 encoded SHA1 hashes, so it all looks a bit like wjA5+piE4zXBHlMReIBt3J4iLeo="}], "answers": [{"comments": [{"owner": {"reputation": 4571, "user_id": 14897, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b5c8015d480cc5148e39aa9eaa149577?s=128&d=identicon&r=PG", "display_name": "Devin Ceartas", "link": "https://stackoverflow.com/users/14897/devin-ceartas"}, "edited": false, "score": 0, "creation_date": 1440283942, "post_id": 32160644, "comment_id": 52210693, "body": "Bingo. Thanks. encodings are frustrating for me; thanks for helping me learn."}], "tags": [], "owner": {"reputation": 5778, "user_id": 5236003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I2KP9.jpg?s=128&g=1", "display_name": "Roman Pletnev", "link": "https://stackoverflow.com/users/5236003/roman-pletnev"}, "is_accepted": true, "score": 2, "last_activity_date": 1440276600, "creation_date": 1440276600, "answer_id": 32160644, "question_id": 32103766, "link": "https://stackoverflow.com/questions/32103766/trying-to-replicate-c-hashing-in-perl-on-linux/32160644#32160644", "title": "Trying to replicate C# hashing in Perl (on Linux)", "body": "<p>In the original C# code, in this line:</p>\n\n<pre><code>encodedPassword = Convert.ToBase64String(hash.ComputeHash(Encoding.Unicode.GetBytes(password)));\n</code></pre>\n\n<p>a call to <code>Encoding.Unicode.GetBytes</code> transforms the password to a byte array via a <code>UTF-16LE</code> encoder.</p>\n\n<p>You have to do the same transformation to get the same hash in Perl:</p>\n\n<pre><code>use Digest::SHA qw(hmac_sha1);\nuse MIME::Base64 qw(decode_base64 encode_base64);\nuse Encode qw(encode);\n\n$utf16LEPassword = encode(\"UTF-16LE\", $password);\nprint encode_base64(hmac_sha1($utf16LEPassword, decode_base64($salt)));\n</code></pre>\n"}], "owner": {"reputation": 4571, "user_id": 14897, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b5c8015d480cc5148e39aa9eaa149577?s=128&d=identicon&r=PG", "display_name": "Devin Ceartas", "link": "https://stackoverflow.com/users/14897/devin-ceartas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 32160644, "answer_count": 1, "score": 1, "last_activity_date": 1440276600, "creation_date": 1440011522, "last_edit_date": 1440070004, "question_id": 32103766, "link": "https://stackoverflow.com/questions/32103766/trying-to-replicate-c-hashing-in-perl-on-linux", "title": "Trying to replicate C# hashing in Perl (on Linux)", "body": "<p>I'm not coming up with the same values (using a known password). </p>\n\n<p>I suspect it may be something having to do with encodings, but all the things I've tried haven't worked thus far:</p>\n\n<p>windows code (c#?):</p>\n\n<pre><code>private static string EncodePassword(string password, string salt)\n{\n    string encodedPassword = password;\n    HMACSHA1 hash = new HMACSHA1 { Key = Convert.FromBase64String(salt) };\n    encodedPassword = Convert.ToBase64String(hash.ComputeHash(Encoding.Unicode.GetBytes(password)));\n\n    return encodedPassword;\n}\n</code></pre>\n\n<p>perl code run on linux:</p>\n\n<pre><code>use Modern::Perl '2015';\nuse Digest::SHA qw(hmac_sha1 hmac_sha1_base64);\nuse MIME::Base64 qw(decode_base64 encode_base64);\nuse Unicode::String qw(utf16be utf16le);\n\nsay encode_base64(hmac_sha1($password, decode_base64($salt)));\n# (or, equivalently)\nsay hmac_sha1_base64($password, decode_base64($salt));\n\nmy $le16 = utf16le($password);\nmy $be16 = utf16be($password);\nsay \"ok, try utf-16 (le, then be)...\";\nsay encode_base64(hmac_sha1($le16, decode_base64($salt)));\nsay encode_base64(hmac_sha1($be16, decode_base64($salt)));\n\n# try reversing the hmac output?                                                                                                                                          \nmy $hmac_bytes = hmac_sha1($password, decode_base64($salt));\nmy $rev_bytes = reverse $hmac_bytes;\nsay encode_base64($rev_bytes);\n</code></pre>\n"}, {"tags": ["c#", "directory"], "comments": [{"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 1, "creation_date": 1440011608, "post_id": 32103740, "comment_id": 52101960, "body": "what path do you end up with / what path do you want?"}, {"owner": {"reputation": 39, "user_id": 5241493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10152944168701338/picture?type=large", "display_name": "Code", "link": "https://stackoverflow.com/users/5241493/code"}, "reply_to_user": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 0, "creation_date": 1440011746, "post_id": 32103740, "comment_id": 52102032, "body": "the path i want = \\AppData\\Roaming\\MSPhone the path im getting = ApplicationData\\MSPhone i think i might have the wrong special folder"}], "answers": [{"tags": [], "owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "is_accepted": true, "score": 0, "last_activity_date": 1440011965, "creation_date": 1440011965, "answer_id": 32103899, "question_id": 32103740, "link": "https://stackoverflow.com/questions/32103740/make-folder-in-special-folder-hidden-c/32103899#32103899", "title": "Make folder in .special folder hidden C#", "body": "<p>you need to use <code>Environment.GetFolderPath</code> along with your <code>SpecialFolder</code>.  <code>Environment.SpecialFolder.ApplicationData</code> is just an <code>enum</code> value, not representative of the path without acting on it:</p>\n\n<pre><code>Path.Combine(\n       Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData),\n       \"MSPhone\");\n</code></pre>\n\n<p>this gives me <code>\"C:\\Users\\jonesopolis\\AppData\\Roaming\\MSPhone\"</code></p>\n\n<p>and of course, always use <code>Path.Combine</code> rather than building the path yourself.</p>\n"}], "owner": {"reputation": 39, "user_id": 5241493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10152944168701338/picture?type=large", "display_name": "Code", "link": "https://stackoverflow.com/users/5241493/code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 32103899, "answer_count": 1, "score": 0, "last_activity_date": 1440012037, "creation_date": 1440011426, "question_id": 32103740, "link": "https://stackoverflow.com/questions/32103740/make-folder-in-special-folder-hidden-c", "title": "Make folder in .special folder hidden C#", "body": "<p>i know im doing something small wrong im just braindead right now. The path is the problem, i tried to use path.combine and also put system.IO in front of it but nothing worked.</p>\n\n<pre><code>string path = (Environment.SpecialFolder.ApplicationData + @\"\\MSPhone\").ToString();\n        File.SetAttributes(path, FileAttributes.Hidden);\n</code></pre>\n"}, {"tags": ["c#", "asp.net"], "answers": [{"comments": [{"owner": {"reputation": 532, "user_id": 5080799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TsLdB.jpg?s=128&g=1", "display_name": "Santhakumar Munuswamy", "link": "https://stackoverflow.com/users/5080799/santhakumar-munuswamy"}, "edited": false, "score": 0, "creation_date": 1440011869, "post_id": 32103797, "comment_id": 52102094, "body": "did you checked .wav file support in ie 10 or 11"}], "tags": [], "owner": {"reputation": 235, "user_id": 5179198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4438ec9d67a077b8c5ba509283b1e076?s=128&d=identicon&r=PG&f=1", "display_name": "Clay Sills", "link": "https://stackoverflow.com/users/5179198/clay-sills"}, "is_accepted": false, "score": 0, "last_activity_date": 1440011579, "creation_date": 1440011579, "answer_id": 32103797, "question_id": 32103715, "link": "https://stackoverflow.com/questions/32103715/how-to-play-wav-file-in-ie-10-11/32103797#32103797", "title": "How to play wav file in IE 10/11", "body": "<p>What are you trying?</p>\n\n<pre><code>&lt;embed src=\"themesong.wav\" hidden=\"true\" autostart=\"true\" loop=\"1\"&gt; \n</code></pre>\n\n<p>for automatic</p>\n\n<p>and </p>\n\n<pre><code>&lt;a href=\"clicknoise.wav\"&gt;Play Sound&lt;/a&gt;\n</code></pre>\n\n<p>for click should work.</p>\n"}, {"comments": [{"owner": {"reputation": 532, "user_id": 5080799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TsLdB.jpg?s=128&g=1", "display_name": "Santhakumar Munuswamy", "link": "https://stackoverflow.com/users/5080799/santhakumar-munuswamy"}, "edited": false, "score": 0, "creation_date": 1443521154, "post_id": 32186655, "comment_id": 53516827, "body": "Thanks for your suggestion"}], "tags": [], "owner": {"reputation": 747, "user_id": 4777124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l41GR.png?s=128&g=1", "display_name": "Jibbow", "link": "https://stackoverflow.com/users/4777124/jibbow"}, "is_accepted": false, "score": 0, "last_activity_date": 1440431803, "creation_date": 1440431803, "answer_id": 32186655, "question_id": 32103715, "link": "https://stackoverflow.com/questions/32103715/how-to-play-wav-file-in-ie-10-11/32186655#32186655", "title": "How to play wav file in IE 10/11", "body": "<p>No, this is not possible :(<br>\nAccording to those sources (2015-08-24):</p>\n\n<p><a href=\"http://caniuse.com/#search=wav\" rel=\"nofollow\">caniuse.com</a> -> doesn't work (you have to use Edge)</p>\n\n<p><a href=\"http://www.w3schools.com/html/html5_audio.asp\" rel=\"nofollow\">w3schools.com</a> -> doesn't work</p>\n\n<p>Solution: You could convert it to MP3 which is supported by all browsers (more or less)</p>\n"}], "owner": {"reputation": 532, "user_id": 5080799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TsLdB.jpg?s=128&g=1", "display_name": "Santhakumar Munuswamy", "link": "https://stackoverflow.com/users/5080799/santhakumar-munuswamy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1440433728, "creation_date": 1440011367, "last_edit_date": 1440433728, "question_id": 32103715, "link": "https://stackoverflow.com/questions/32103715/how-to-play-wav-file-in-ie-10-11", "title": "How to play wav file in IE 10/11", "body": "<p>I want to play <code>.wav</code> file in IE 10/11. I have tried playing <code>.wav</code> files in IE 10/11 but it does not work properly. </p>\n\n<p>I am looking specificaly for <code>.wav</code> file support in IE 10 /11 and other IE versions.</p>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 1, "creation_date": 1440011397, "post_id": 32103690, "comment_id": 52101835, "body": "this  <a href=\"https://regex101.com/r/pY9rW8/3\" rel=\"nofollow noreferrer\">regex101.com/r/pY9rW8/3</a> ?"}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 4, "creation_date": 1440011405, "post_id": 32103690, "comment_id": 52101844, "body": "Why don&#39;t you simply use <code>string.Trim()</code> ?"}, {"owner": {"reputation": 1446, "user_id": 3825611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/543H3.jpg?s=128&g=1", "display_name": "Cory", "link": "https://stackoverflow.com/users/3825611/cory"}, "edited": false, "score": 1, "creation_date": 1440011557, "post_id": 32103690, "comment_id": 52101933, "body": "I&#39;m lazy. string.Replace(&quot; = &quot;,&quot;=&quot;);  :D"}], "answers": [{"tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 1, "last_activity_date": 1440011426, "creation_date": 1440011426, "answer_id": 32103739, "question_id": 32103690, "link": "https://stackoverflow.com/questions/32103690/trimming-whitespaces-in-regex/32103739#32103739", "title": "Trimming whitespaces in regex", "body": "<p>Just match the spaces in the value part with <code>[\\t ]*</code></p>\n\n<pre><code>^\\s*([^#]\\S+?)\\s*=[\\t ]*(.*)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>^\\s*([^#]\\S+?)\\s*=[\\t ]*(.*?)\\s*$\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/pY9rW8/4\" rel=\"nofollow\">DEMO</a></p>\n"}, {"comments": [{"owner": {"reputation": 1446, "user_id": 3825611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/543H3.jpg?s=128&g=1", "display_name": "Cory", "link": "https://stackoverflow.com/users/3825611/cory"}, "edited": false, "score": 0, "creation_date": 1440011630, "post_id": 32103801, "comment_id": 52101975, "body": "Of course, additional checks would need to be done if there is no value. But, solid solution."}, {"owner": {"reputation": 162, "user_id": 1873210, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/deb8056c9fe51035f99dd57b393a13d8?s=128&d=identicon&r=PG", "display_name": "Aleksei Zaitsev", "link": "https://stackoverflow.com/users/1873210/aleksei-zaitsev"}, "edited": false, "score": 1, "creation_date": 1440015053, "post_id": 32103801, "comment_id": 52104047, "body": "Nice solution, but the goal was use regex to make it"}], "tags": [], "owner": {"reputation": 30265, "user_id": 3246555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziIu9.png?s=128&g=1", "display_name": "AlexD", "link": "https://stackoverflow.com/users/3246555/alexd"}, "is_accepted": false, "score": 3, "last_activity_date": 1440011649, "last_edit_date": 1440011649, "creation_date": 1440011591, "answer_id": 32103801, "question_id": 32103690, "link": "https://stackoverflow.com/questions/32103690/trimming-whitespaces-in-regex/32103801#32103801", "title": "Trimming whitespaces in regex", "body": "<p>You could consider a variant without regular expressions:</p>\n\n<pre><code>string s = \"key=value\";\nvar a = s.Split('=');\nvar key = a[0].Trim();\nvar val = a[1].Trim();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 162, "user_id": 1873210, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/deb8056c9fe51035f99dd57b393a13d8?s=128&d=identicon&r=PG", "display_name": "Aleksei Zaitsev", "link": "https://stackoverflow.com/users/1873210/aleksei-zaitsev"}, "edited": false, "score": 0, "creation_date": 1440015873, "post_id": 32103859, "comment_id": 52104493, "body": "It doesn&#39;t work with an empty value, but thanks anyway."}], "tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": false, "score": 0, "last_activity_date": 1440011816, "creation_date": 1440011816, "answer_id": 32103859, "question_id": 32103690, "link": "https://stackoverflow.com/questions/32103690/trimming-whitespaces-in-regex/32103859#32103859", "title": "Trimming whitespaces in regex", "body": "<p>You can also use named group on the key and the value and throw away the blank space : </p>\n\n<blockquote>\n  <p><a href=\"https://regex101.com/r/pY9rW8/5\" rel=\"nofollow\"><code>^(?&lt;key&gt;.+)\\s*=\\s*(?&lt;value&gt;.+)$</code></a></p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 162, "user_id": 1873210, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/deb8056c9fe51035f99dd57b393a13d8?s=128&d=identicon&r=PG", "display_name": "Aleksei Zaitsev", "link": "https://stackoverflow.com/users/1873210/aleksei-zaitsev"}, "edited": false, "score": 0, "creation_date": 1440014797, "post_id": 32103862, "comment_id": 52103896, "body": "Your example doesn&#39;t work correctly when the value is empty. It considers next string as a value"}], "tags": [], "owner": {"reputation": 264295, "user_id": 24874, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b85169daf0d165b94ea4fa70f409686c?s=128&d=identicon&r=PG", "display_name": "Drew Noakes", "link": "https://stackoverflow.com/users/24874/drew-noakes"}, "is_accepted": false, "score": 0, "last_activity_date": 1440011846, "creation_date": 1440011846, "answer_id": 32103862, "question_id": 32103690, "link": "https://stackoverflow.com/questions/32103690/trimming-whitespaces-in-regex/32103862#32103862", "title": "Trimming whitespaces in regex", "body": "<p>You gave this regex:</p>\n\n<pre><code>^\\s*([^#]\\S+?)\\s*=(.*)\n</code></pre>\n\n<p>This doesn't take whitespace after the <code>=</code> into account. To do so, add another <code>\\s*</code>:</p>\n\n<pre><code>^\\s*([^#]\\S+?)\\s*=\\s*(.*)\n</code></pre>\n\n<p>Also, presumably you want to match the end of the string, seeing as you're matching the beginning via <code>^</code>, so add a <code>$</code> at the end:</p>\n\n<pre><code>^\\s*([^#]\\S+?)\\s*=\\s*(.*)$\n</code></pre>\n\n<p>Here's a live example:</p>\n\n<p><a href=\"https://regex101.com/r/pY9rW8/6\" rel=\"nofollow\">https://regex101.com/r/pY9rW8/6</a></p>\n"}], "owner": {"reputation": 162, "user_id": 1873210, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/deb8056c9fe51035f99dd57b393a13d8?s=128&d=identicon&r=PG", "display_name": "Aleksei Zaitsev", "link": "https://stackoverflow.com/users/1873210/aleksei-zaitsev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 32103739, "answer_count": 4, "score": 1, "last_activity_date": 1440011846, "creation_date": 1440011275, "question_id": 32103690, "link": "https://stackoverflow.com/questions/32103690/trimming-whitespaces-in-regex", "title": "Trimming whitespaces in regex", "body": "<p>I have a regex for parsing key/values pairs separated by the equal sign. There can be some whitespaces characters before and after the '=', but key and values should be without them. For example</p>\n\n<pre><code>key=value\nkey = value\n</code></pre>\n\n<p>must return the same result: 'key' and 'value', not 'key ' and ' value'.</p>\n\n<p>I have a little problem with parsing the value, because it can be empty and it's ok.</p>\n\n<pre><code>key=\n</code></pre>\n\n<p>Here is my version of regex, without trimming whitespaces of the value <a href=\"https://regex101.com/r/pY9rW8/2\" rel=\"nofollow\">https://regex101.com/r/pY9rW8/2</a></p>\n"}, {"tags": ["c#", "asp.net-web-api"], "comments": [{"owner": {"reputation": 21716, "user_id": 2401769, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wkEbw.jpg?s=128&g=1", "display_name": "Matias Cicero", "link": "https://stackoverflow.com/users/2401769/matias-cicero"}, "edited": false, "score": 2, "creation_date": 1440012050, "post_id": 32103669, "comment_id": 52102215, "body": "I hope this is useful: <a href=\"http://stackoverflow.com/questions/13489065/best-practice-to-call-configureawait-for-all-server-side-code\">Best practice to call ConfigureAwait for all server side code</a>. Quoting <a href=\"http://stackoverflow.com/users/263693/stephen-cleary\">@StephenCleary</a>: <code>[...] However, with ASP.NET Web Api, if your request is coming in on one thread, and you await some function and call ConfigureAwait(false) that could potentially put you on a different thread when you are returning the final result of your ApiController function.</code> Maybe that has something to do with your problem?"}, {"owner": {"reputation": 2410, "user_id": 453449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d7a26f0d1fbc17eb4209b5f4387e6b02?s=128&d=identicon&r=PG", "display_name": "kmc059000", "link": "https://stackoverflow.com/users/453449/kmc059000"}, "edited": false, "score": 1, "creation_date": 1440012353, "post_id": 32103669, "comment_id": 52102410, "body": "Are you sure that _repository.TestMethodAsync() returns Task&lt;bool&gt; ?"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 1, "creation_date": 1440013710, "post_id": 32103669, "comment_id": 52103278, "body": "It might be that the ResponseType is a primitive. It tries to serialize the data but there&#39;s no object, just a value."}, {"owner": {"reputation": 4830, "user_id": 1240933, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/XB368.jpg?s=128&g=1", "display_name": "Big Daddy", "link": "https://stackoverflow.com/users/1240933/big-daddy"}, "edited": false, "score": 0, "creation_date": 1440024302, "post_id": 32103669, "comment_id": 52108149, "body": "@MatiCicero...I am async all they way"}, {"owner": {"reputation": 4830, "user_id": 1240933, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/XB368.jpg?s=128&g=1", "display_name": "Big Daddy", "link": "https://stackoverflow.com/users/1240933/big-daddy"}, "edited": false, "score": 0, "creation_date": 1440024352, "post_id": 32103669, "comment_id": 52108164, "body": "@kmc059000...yes, the repo returns Task&lt;bool&gt;"}, {"owner": {"reputation": 4830, "user_id": 1240933, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/XB368.jpg?s=128&g=1", "display_name": "Big Daddy", "link": "https://stackoverflow.com/users/1240933/big-daddy"}, "edited": false, "score": 0, "creation_date": 1440024431, "post_id": 32103669, "comment_id": 52108185, "body": "@Crowcoder...I think you&#39;re on to something, but why does it throw?"}], "owner": {"reputation": 4830, "user_id": 1240933, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/XB368.jpg?s=128&g=1", "display_name": "Big Daddy", "link": "https://stackoverflow.com/users/1240933/big-daddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 467, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1440086618, "creation_date": 1440011199, "last_edit_date": 1440086618, "question_id": 32103669, "link": "https://stackoverflow.com/questions/32103669/error-converting-value-any-value-to-type-system-web-http-ihttpactionresult", "title": "Error converting value &quot;Any Value&quot; to type &#39;System.Web.Http.IHttpActionResult&#39;", "body": "<p>I'm getting this error when I call a <code>Web API</code> method that returns a <code>bool</code> (<em>EDIT - any object, the error comes from the Hub attribute</em>):</p>\n\n<blockquote>\n  <p>Error converting value True to type 'System.Web.Http.IHttpActionResult</p>\n</blockquote>\n\n<p>This is the method:</p>\n\n<pre><code>    [HttpGet]\n    [Hub(Name = \"ServiceLog\", IncomingMethod = \"logIncoming\", OutgoingMethod = \"logOutgoing\")]\n    [ResponseType(typeof(bool))]            \n    public async Task&lt;IHttpActionResult&gt; TestMethodAsync(int i)\n    {\n        var result = await _repository.TestMethodAsync(i).ConfigureAwait(false);\n        return Ok(result);\n    }\n</code></pre>\n\n<p>EDIT: This is the offending code in the Hub attribute:</p>\n\n<pre><code>public override async void OnActionExecuted(HttpActionExecutedContext actionExecutedContext)\n    {\n     ...    \n        if (hub != null)\n        {\n            // THIS LINE THROWS THE ERROR\n            var response = await actionExecutedContext.Response.Content.ReadAsAsync(actionExecutedContext.ActionContext.ActionDescriptor.ReturnType);\n            hub.Clients.All.Invoke(OutgoingMethod, new { Time = DateTime.Now.ToString(\"G\"), Data = response });\n         }\n    }\n</code></pre>\n\n<p>From Fiddler and browsers, I get back a 200 response and the correct return value, but Visual Studio throws an error.  What is causing this error?</p>\n"}, {"tags": ["c#", "asp.net"], "owner": {"reputation": 9, "user_id": 5244761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce243bcc332c915f3ff65111f9ea5a35?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Petersen", "link": "https://stackoverflow.com/users/5244761/jesper-petersen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1440010808, "creation_date": 1440010808, "question_id": 32103567, "link": "https://stackoverflow.com/questions/32103567/garden-label-into-repeater-to-find-my-label", "title": "Garden label into Repeater to find my label", "body": "<p>It is such that I have a Repeater with both label and Literal content, and that is how I got it into Repeater and I would like it being like shown at the side.</p>\n\n<p>It appears with the error that tells me that it can not find my label or Literal</p>\n\n<p>Repeater her:</p>\n\n<pre><code>&lt;asp:Repeater ID=\"RepeaterOpslag\" runat=\"server\"&gt;\n                &lt;ItemTemplate&gt;\n            &lt;div id=\"forslagbox\" runat=\"server\"&gt;\n                &lt;asp:Label ID=\"LabelBrugernavn\" runat=\"server\"&gt;&lt;/asp:Label&gt;\n                &lt;asp:Literal ID=\"LiteralLikesOpslag\" runat=\"server\"&gt;&lt;/asp:Literal&gt;\n                &lt;asp:Literal ID=\"LiteralDelete\" runat=\"server\"&gt;&lt;/asp:Literal&gt;\n                &lt;div style=\"margin-bottom: 5px; clear: both;\"&gt;&lt;/div&gt;\n                &lt;asp:Label ID=\"LabelText\" runat=\"server\"&gt;&lt;/asp:Label&gt;\n                &lt;div style=\"margin-top: 5px; clear: both;\"&gt;&lt;/div&gt;\n\n                &lt;div class=\"col-md-12\"&gt;\n                    &lt;hr class=\"tall\" style=\"margin: 7px 0;\"&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n                &lt;/ItemTemplate&gt;\n            &lt;/asp:Repeater&gt;\n</code></pre>\n\n<p>Default.aspx.cs here, It is in foreach which gives me problems that it will not print any of it at all.</p>\n\n<pre><code>RepeaterOpslag.DataSource = db.ForslagOpslags.ToList();\n    RepeaterOpslag.DataBind();\n\n    List&lt;ForslagOpslag&gt; forslagopslag = db.ForslagOpslags.ToList();\n    foreach (ForslagOpslag item in forslagopslag)\n    {\n\n        var likesFjern = db.ForslagOpslagLikes.Where(a =&gt; a.fk_brugerid == Helper.ReturnBrugerId()).Count();\n\n         LabelBrugernavn.Text = item.brugere.fornavn + \" \" + item.brugere.efternavn;\n\n        LabelText.Text = item.text;\n\n        if (likesFjern &gt;= 1)\n        {\n            LiteralLikesOpslag.Text = \"&lt;a href='fjernsynesgodtom.aspx?id=\" + item.Id + \"&amp;brugerid=\" + Helper.ReturnBrugerId() + \"' class='btn btn-danger btn-xs'&gt;Fjern synes godt om&lt;/a&gt;\";\n        }\n        else if (item.brugere.Id != Helper.ReturnBrugerId())\n        {\n            LiteralLikesOpslag.Text = \"&lt;a href='SynesGodtOm.aspx?id=\" + item.Id + \"' class='btn btn-success btn-xs'&gt;Like opslag - \" + item.ForslagOpslagLikes.Count() + \" synes godt om&lt;/a&gt;\";\n        }\n        else\n        {\n            LiteralLikesOpslag.Text = \"&lt;p class='label label-lg label-success'&gt;\" + item.ForslagOpslagLikes.Count() + \" synes godt om&lt;/p&gt;\";\n        }\n\n        if ((item.fk_brugerid == Helper.ReturnBrugerId() || Helper.BrugerRank(Helper.ReturnBrugerId()) == 1))\n        {\n            LiteralDelete.Text = \"&lt;a href='slet.aspx?id=\" + item.Id + \"' class='btn btn-danger btn-xs'&gt;Slet&lt;/a&gt;\";\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net", "sql-server", "reference", "ssis"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 4509043, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-3DbgXHrCQZA/AAAAAAAAAAI/AAAAAAAAGNY/6bNQk9RMtpc/photo.jpg?sz=128", "display_name": "tracer", "link": "https://stackoverflow.com/users/4509043/tracer"}, "edited": false, "score": 0, "creation_date": 1442862997, "post_id": 32103634, "comment_id": 53249082, "body": "not sure how to do that -- my web.config file has no reference to any sql dll. can you give me an example?"}], "tags": [], "owner": {"reputation": 101, "user_id": 5244681, "user_type": "registered", "profile_image": "https://graph.facebook.com/930805450291806/picture?type=large", "display_name": "Mudassir Dehghani", "link": "https://stackoverflow.com/users/5244681/mudassir-dehghani"}, "is_accepted": false, "score": 1, "last_activity_date": 1440011070, "creation_date": 1440011070, "answer_id": 32103634, "question_id": 32103564, "link": "https://stackoverflow.com/questions/32103564/how-can-i-reference-2-different-sqlserver-assemblies-to-call-ssis-from-net-4-5/32103634#32103634", "title": "How can I reference 2 different SQLServer assemblies to call SSIS from .net (4.5)", "body": "<p>Try using entity Framework to add two  connection strings with different datacontexts of each assembly reference in the web.config file.</p>\n"}], "owner": {"reputation": 45, "user_id": 4509043, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-3DbgXHrCQZA/AAAAAAAAAAI/AAAAAAAAGNY/6bNQk9RMtpc/photo.jpg?sz=128", "display_name": "tracer", "link": "https://stackoverflow.com/users/4509043/tracer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440011070, "creation_date": 1440010802, "last_edit_date": 1495541715, "question_id": 32103564, "link": "https://stackoverflow.com/questions/32103564/how-can-i-reference-2-different-sqlserver-assemblies-to-call-ssis-from-net-4-5", "title": "How can I reference 2 different SQLServer assemblies to call SSIS from .net (4.5)", "body": "<p>I have a web app that calls SSIS packages built in 2008. As we migrate to VS2013 and SQL2014 I've started upgrading my SSIS packages using 2013. </p>\n\n<p>I saw <a href=\"https://stackoverflow.com/questions/32093712/referencing-multiple-versions-of-the-same-assembly\">this post</a> (that I don't have enough rep to comment on) that talks about multiple assembly references, but I'm not sure where the code goes, as my Web.config file doesn't even have the current Microsoft.SQLServer.ManagedDTS that I added \n(right click, add reference, browse to C:\\Program Files (x86)\\Microsoft SQL Server\\100\\SDK\\Assemblies\\Microsoft.SQLServer.ManagedDTS.dll)</p>\n\n<p>So, I'm wondering if the 12.0.0.0 version could be used to call dts packages created in '08 AND the dtsx packages created in '10? (with special parameters?)</p>\n\n<p>Or, how do I have both referenced? (obviously if I try to have both VS says you can't have both, one already exists.) I'm looking at the reference paths section under the Project Properties, but it's empty ... </p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "wpf", "mvvm"], "comments": [{"owner": {"reputation": 34833, "user_id": 580053, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b8adc801f4e513c5e04d6f1084b9ec0?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/580053/dennis"}, "edited": false, "score": 0, "creation_date": 1440011196, "post_id": 32103530, "comment_id": 52101742, "body": "Of course you can. That&#39;s why view models exist. Wrap your contact items into view models."}], "answers": [{"comments": [{"owner": {"reputation": 284, "user_id": 3929942, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/53ec22e73e894255f530d7bffd1ff7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Lucaribou", "link": "https://stackoverflow.com/users/3929942/lucaribou"}, "edited": false, "score": 0, "creation_date": 1440013646, "post_id": 32103566, "comment_id": 52103228, "body": "The principal problem with the best solution is that I&#39;m getting all my <code>Contact</code> items from an API, so everytime my contacts are reloaded, I lost my <code>IsSelected</code> property value and my <code>ListBox</code> get emptied. I can&#39;t figure out a solution (simple or not) without breaking the MVVM pattern..."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 284, "user_id": 3929942, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/53ec22e73e894255f530d7bffd1ff7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Lucaribou", "link": "https://stackoverflow.com/users/3929942/lucaribou"}, "edited": false, "score": 1, "creation_date": 1440013983, "post_id": 32103566, "comment_id": 52103447, "body": "@Lucaribou Select those items into a seperate object, and reselect them back when you save. Does that make sense?"}, {"owner": {"reputation": 284, "user_id": 3929942, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/53ec22e73e894255f530d7bffd1ff7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Lucaribou", "link": "https://stackoverflow.com/users/3929942/lucaribou"}, "edited": false, "score": 0, "creation_date": 1440044472, "post_id": 32103566, "comment_id": 52112923, "body": "Thank you  @BradleyDotNET, it did the trick, I&#39;m still thinking that the <code>SelectedItems</code> is a flaw in the ListBox architecture, but well, I just didn&#39;t think that could do it."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 284, "user_id": 3929942, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/53ec22e73e894255f530d7bffd1ff7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Lucaribou", "link": "https://stackoverflow.com/users/3929942/lucaribou"}, "edited": false, "score": 0, "creation_date": 1440045113, "post_id": 32103566, "comment_id": 52113099, "body": "@Lucaribou It is a flaw, but there are several articles that explain why it is so hard to make that bindable (which is why they didn&#39;t do it)."}], "tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": true, "score": 3, "last_activity_date": 1440010806, "creation_date": 1440010806, "answer_id": 32103566, "question_id": 32103530, "link": "https://stackoverflow.com/questions/32103530/binding-observablecollection-to-selected-items-of-a-listbox/32103566#32103566", "title": "Binding ObservableCollection to selected items of a ListBox", "body": "<p>There <strong>is no simple solution</strong>. You can't bind <code>SelectedItems</code>.</p>\n\n<p>The <em>best</em> solution is to select your <code>Contact</code> items into a view model object with an <code>IsSelected</code> property, bind to that, and then run a query against the primary OC when you need to get the selected items collection.</p>\n\n<p>Since you said you can't/won't do that, the next best solution would likely be to handle <code>SelectionChanged</code> in your code-behind and manually update the VM collection from there.</p>\n"}, {"comments": [{"owner": {"reputation": 34833, "user_id": 580053, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b8adc801f4e513c5e04d6f1084b9ec0?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/580053/dennis"}, "edited": false, "score": 1, "creation_date": 1440011466, "post_id": 32103586, "comment_id": 52101879, "body": "Actually, this is the good example of attached properties overusing."}, {"owner": {"reputation": 284, "user_id": 3929942, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/53ec22e73e894255f530d7bffd1ff7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Lucaribou", "link": "https://stackoverflow.com/users/3929942/lucaribou"}, "edited": false, "score": 0, "creation_date": 1440012471, "post_id": 32103586, "comment_id": 52102488, "body": "I know about the <code>SelectedItems</code>, but I&#39;m looking for a similar solution as if it was a <code>DependencyProperty</code>, I&#39;m going to look this post. Thank you."}], "tags": [], "owner": {"reputation": 2903, "user_id": 1033938, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g2SV6.jpg?s=128&g=1", "display_name": "jcvegan", "link": "https://stackoverflow.com/users/1033938/jcvegan"}, "is_accepted": false, "score": 1, "last_activity_date": 1440010888, "creation_date": 1440010888, "answer_id": 32103586, "question_id": 32103530, "link": "https://stackoverflow.com/questions/32103530/binding-observablecollection-to-selected-items-of-a-listbox/32103586#32103586", "title": "Binding ObservableCollection to selected items of a ListBox", "body": "<p>Since <code>SelectedItems</code> is not a <code>DependencyProperty</code> you are not allowed to use Bindings</p>\n\n<p>But there is a solution, take a look at this post:\n<a href=\"http://blogs.microsoft.co.il/miziel/2014/05/02/wpf-binding-listbox-selecteditems-attached-property-vs-style/\" rel=\"nofollow\">http://blogs.microsoft.co.il/miziel/2014/05/02/wpf-binding-listbox-selecteditems-attached-property-vs-style/</a></p>\n"}, {"tags": [], "owner": {"reputation": 2893, "user_id": 815558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa03437714f1eee7f21f31c24b642775?s=128&d=identicon&r=PG", "display_name": "Lee O.", "link": "https://stackoverflow.com/users/815558/lee-o"}, "is_accepted": false, "score": 0, "last_activity_date": 1440023317, "creation_date": 1440023317, "answer_id": 32106690, "question_id": 32103530, "link": "https://stackoverflow.com/questions/32103530/binding-observablecollection-to-selected-items-of-a-listbox/32106690#32106690", "title": "Binding ObservableCollection to selected items of a ListBox", "body": "<p>Another option is to not keep track of the selected items in your ViewModel. Instead, pass them as a CommandParameter from the UI when you are trying to do some action.</p>\n\n<p>Example:</p>\n\n<pre><code>&lt;ListBox x:Name=\"MyListBox\" \n         ItemsSource=\"{Binding SomeCollection}\" /&gt;\n&lt;Button Command=\"{Binding SomeCommand}\" \n        CommandParameters=\"{Binding SelectedItems, ElementName=MyListBox}\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 284, "user_id": 3929942, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/53ec22e73e894255f530d7bffd1ff7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Lucaribou", "link": "https://stackoverflow.com/users/3929942/lucaribou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2425, "favorite_count": 0, "accepted_answer_id": 32103566, "answer_count": 3, "score": 3, "last_activity_date": 1440023317, "creation_date": 1440010683, "last_edit_date": 1440012739, "question_id": 32103530, "link": "https://stackoverflow.com/questions/32103530/binding-observablecollection-to-selected-items-of-a-listbox", "title": "Binding ObservableCollection to selected items of a ListBox", "body": "<p>After hours and hours of googling, I still can't find a simple solution for binding an <code>ObservableCollection</code> to the selected items of a <code>ListBox</code> in a <code>TwoWay</code> Mode...</p>\n\n<p>What I have is really simple : a <code>ListBox</code> with <code>SelectionMode=\"Multiple\"</code>, and an <code>ObservableCollection&lt;Contact&gt;</code> named <code>SelectedContacts</code>. I want this two to be bound. Of course my <code>ListBox</code> has <code>ItemsSource=\"{Binding Contacts}\"</code> which is another <code>ObservableCollection</code> of Contact.</p>\n\n<p>Now I really can't use a <code>IsSelected</code> bool on my <code>Contact</code> items, I just can't.</p>\n\n<p>Thank you !</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 11383, "user_id": 1753728, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dad2593d1ec5637c74e1057592f01c94?s=128&d=identicon&r=PG", "display_name": "Oluwafemi", "link": "https://stackoverflow.com/users/1753728/oluwafemi"}, "edited": false, "score": 0, "creation_date": 1440010774, "post_id": 32103475, "comment_id": 52101471, "body": "Where are you displaying the data?"}, {"owner": {"reputation": 99, "user_id": 5244760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f1ba30951d11b33e299bbdc59a9e525?s=128&d=identicon&r=PG&f=1", "display_name": "Unknown Person", "link": "https://stackoverflow.com/users/5244760/unknown-person"}, "reply_to_user": {"reputation": 11383, "user_id": 1753728, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dad2593d1ec5637c74e1057592f01c94?s=128&d=identicon&r=PG", "display_name": "Oluwafemi", "link": "https://stackoverflow.com/users/1753728/oluwafemi"}, "edited": false, "score": 0, "creation_date": 1440010927, "post_id": 32103475, "comment_id": 52101581, "body": "On the page @Oluwafemi"}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 5244760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f1ba30951d11b33e299bbdc59a9e525?s=128&d=identicon&r=PG&f=1", "display_name": "Unknown Person", "link": "https://stackoverflow.com/users/5244760/unknown-person"}, "edited": false, "score": 0, "creation_date": 1440011051, "post_id": 32103531, "comment_id": 52101656, "body": "I tried textwrap properties but none are giving the required output. Does label has a multiline property? I know textbox has. @Mudassir"}, {"owner": {"reputation": 101, "user_id": 5244681, "user_type": "registered", "profile_image": "https://graph.facebook.com/930805450291806/picture?type=large", "display_name": "Mudassir Dehghani", "link": "https://stackoverflow.com/users/5244681/mudassir-dehghani"}, "reply_to_user": {"reputation": 99, "user_id": 5244760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f1ba30951d11b33e299bbdc59a9e525?s=128&d=identicon&r=PG&f=1", "display_name": "Unknown Person", "link": "https://stackoverflow.com/users/5244760/unknown-person"}, "edited": false, "score": 0, "creation_date": 1440011281, "post_id": 32103531, "comment_id": 52101778, "body": "If not I&#39;m sure you can try adding the text as &quot;Hi \\n how are you&quot;"}], "tags": [], "owner": {"reputation": 101, "user_id": 5244681, "user_type": "registered", "profile_image": "https://graph.facebook.com/930805450291806/picture?type=large", "display_name": "Mudassir Dehghani", "link": "https://stackoverflow.com/users/5244681/mudassir-dehghani"}, "is_accepted": false, "score": 1, "last_activity_date": 1440010687, "creation_date": 1440010687, "answer_id": 32103531, "question_id": 32103475, "link": "https://stackoverflow.com/questions/32103475/how-to-display-new-lines-in-label-control/32103531#32103531", "title": "How to display new lines in label control", "body": "<p>Check the textwrap property  and the use multiline property of the label</p>\n"}, {"comments": [{"owner": {"reputation": 11383, "user_id": 1753728, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dad2593d1ec5637c74e1057592f01c94?s=128&d=identicon&r=PG", "display_name": "Oluwafemi", "link": "https://stackoverflow.com/users/1753728/oluwafemi"}, "edited": false, "score": 0, "creation_date": 1440011190, "post_id": 32103633, "comment_id": 52101736, "body": "This is about .Net control not javascript. Read the tags before you answer."}], "tags": [], "owner": {"reputation": 816, "user_id": 2359374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CLwl9.jpg?s=128&g=1", "display_name": "Stephen King", "link": "https://stackoverflow.com/users/2359374/stephen-king"}, "is_accepted": false, "score": -1, "last_activity_date": 1440011795, "last_edit_date": 1495540344, "creation_date": 1440011070, "answer_id": 32103633, "question_id": 32103475, "link": "https://stackoverflow.com/questions/32103475/how-to-display-new-lines-in-label-control/32103633#32103633", "title": "How to display new lines in label control", "body": "<p>Just add a <code>&lt;br/&gt;</code> in your comment. You can do a replace of \\n as well</p>\n\n<p>You can use <code>lblText.Text.Replace(\"\\n\", \"&lt;br /&gt;\");</code> after binding</p>\n\n<p><a href=\"https://stackoverflow.com/questions/13878347/display-label-text-with-line-breaks-in-c-sharp\">Display label text with line breaks in c#</a></p>\n\n<p>or before binding.</p>\n\n<pre><code>&lt;asp:Label ID=\"lblText\" runat=\"server\"&gt;&lt;/asp:Label&gt;\n\nlblText.Text = xml.Value.Replace(\"\\n\", \"&lt;br /&gt;\");\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 5244760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f1ba30951d11b33e299bbdc59a9e525?s=128&d=identicon&r=PG&f=1", "display_name": "Unknown Person", "link": "https://stackoverflow.com/users/5244760/unknown-person"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1178, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1440012445, "creation_date": 1440010522, "last_edit_date": 1440011869, "question_id": 32103475, "link": "https://stackoverflow.com/questions/32103475/how-to-display-new-lines-in-label-control", "title": "How to display new lines in label control", "body": "<p>I have a label control to which I am binding text property. My text contains new lines but when I am displaying the data it is showing it in one new line.</p>\n\n<pre><code>&lt;asp:Label ID=\"lblText\" runat=\"server\"&gt;&lt;/asp:Label&gt;\n\nlblText.Text = xml.Value;\n</code></pre>\n\n<p>My xml.Value contains the below mentioned text.</p>\n\n<pre><code>For ex:\n</code></pre>\n\n<p>My text is :</p>\n\n<pre><code>Hi!\nHow are you??\n</code></pre>\n\n<p>After binding it is showing as</p>\n\n<pre><code>Hi! How are you??\n</code></pre>\n\n<p>But I want to display as </p>\n\n<pre><code>Hi!\nHow are you??\n</code></pre>\n\n<p>Can the label display such text in new lines with <code>\\n</code> or <code>br</code>.</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6", "optimistic-concurrency"], "comments": [{"owner": {"reputation": 2525, "user_id": 1856294, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/lticy.jpg?s=128&g=1", "display_name": "Justin CI", "link": "https://stackoverflow.com/users/1856294/justin-ci"}, "edited": false, "score": 0, "creation_date": 1440059902, "post_id": 32103465, "comment_id": 52119808, "body": "can you show LaunchedSurvey class"}, {"owner": {"reputation": 1233, "user_id": 1208379, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9dfcc3303071000e84c0bfdd619c95ee?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/1208379/jonathan"}, "reply_to_user": {"reputation": 2525, "user_id": 1856294, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/lticy.jpg?s=128&g=1", "display_name": "Justin CI", "link": "https://stackoverflow.com/users/1856294/justin-ci"}, "edited": false, "score": 0, "creation_date": 1440101381, "post_id": 32103465, "comment_id": 52146221, "body": "It is over 1000 lines but it contains many properties, foreign keys and navigation properties. Is there any conceivable reason for an exception with no changes to any object? I didn&#39;t think so.but it happens!"}, {"owner": {"reputation": 6434, "user_id": 1943849, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/032941e928dde4d60ee11c9eef2abddd?s=128&d=identicon&r=PG", "display_name": "astef", "link": "https://stackoverflow.com/users/1943849/astef"}, "edited": false, "score": 0, "creation_date": 1440102590, "post_id": 32103465, "comment_id": 52146877, "body": "Is your code multithreaded?"}, {"owner": {"reputation": 1233, "user_id": 1208379, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9dfcc3303071000e84c0bfdd619c95ee?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/1208379/jonathan"}, "reply_to_user": {"reputation": 6434, "user_id": 1943849, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/032941e928dde4d60ee11c9eef2abddd?s=128&d=identicon&r=PG", "display_name": "astef", "link": "https://stackoverflow.com/users/1943849/astef"}, "edited": false, "score": 0, "creation_date": 1440104692, "post_id": 32103465, "comment_id": 52148011, "body": "@astef Multiple processes update the database. I updated my question. Thnx"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1440108141, "post_id": 32103465, "comment_id": 52149498, "body": "Can we at least see its  constructor?"}, {"owner": {"reputation": 1233, "user_id": 1208379, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9dfcc3303071000e84c0bfdd619c95ee?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/1208379/jonathan"}, "reply_to_user": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1440115655, "post_id": 32103465, "comment_id": 52151688, "body": "@GertArnold C-tor added to question. Thnx!"}, {"owner": {"reputation": 6434, "user_id": 1943849, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/032941e928dde4d60ee11c9eef2abddd?s=128&d=identicon&r=PG", "display_name": "astef", "link": "https://stackoverflow.com/users/1943849/astef"}, "edited": false, "score": 0, "creation_date": 1440140873, "post_id": 32103465, "comment_id": 52159095, "body": "Can you look at the <code>ChangeTracker</code> of the context where you get an exception? What changes are there?"}], "answers": [{"comments": [{"owner": {"reputation": 1233, "user_id": 1208379, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9dfcc3303071000e84c0bfdd619c95ee?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/1208379/jonathan"}, "edited": false, "score": 0, "creation_date": 1440528341, "post_id": 32134511, "comment_id": 52307262, "body": "thanks...I will let you know if it solved the problem, but am doubtful, since these properties were added for future use, but are never actually used / set anywhere in the code"}], "tags": [], "owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "is_accepted": true, "score": 1, "last_activity_date": 1440142080, "last_edit_date": 1495539868, "creation_date": 1440141506, "answer_id": 32134511, "question_id": 32103465, "link": "https://stackoverflow.com/questions/32103465/optimisticconcurrency-exception-when-no-changes-made/32134511#32134511", "title": "OptimisticConcurrency Exception when no changes made", "body": "<p>In your two lines of code...</p>\n\n<pre><code>var launchedSurvey = DB.Find&lt;LaunchedSurvey&gt;(id);\nDB.SaveChanges(); \n</code></pre>\n\n<p>...the only <em>application</em> code that runs is the constructor and code in property setters. That's why I asked to see the constructor (code in property setters is less common).</p>\n\n<p>Of course I don't know which properties are mapped, but the constructor reveals two possibly <em>storable</em> assignments:</p>\n\n<pre><code>WorkerSurveyStatisticAuto = new WorkerSurveyStatisticAuto();\nWorkerSurveyStatisticManual = new WorkerSurveyStatisticManual();\n</code></pre>\n\n<p>If these references are mapped, i.e if the involved objects are mapped entities, EF <em>won't set them again</em> when the <code>LaunchedSurvey</code> object is materialized. Now when you save the object, EF will try to assign 0 to the foreign key values. This may either -</p>\n\n<ul>\n<li>always throw an FK constraint exception, because I don't expect the records with Id = 0 to be present in the database</li>\n<li>throw validation exceptions because the new objects are not in a valid state.</li>\n<li>throw an optimistic concurrency exception if any of the referred objects were updated by a concurrent user in the short time span between fetching and saving the <code>LaunchedSurvey</code> object.</li>\n</ul>\n\n<p>The message is: don't set mapped reference properties in entity constructors. See also: <a href=\"https://stackoverflow.com/q/20757594/861716\">EF codefirst : Should I initialize navigation properties?</a></p>\n"}, {"tags": [], "owner": {"reputation": 458, "user_id": 2144491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b21038018f9cacb165e9c72b3d0a6007?s=128&d=identicon&r=PG", "display_name": "Mikal Schacht Jensen", "link": "https://stackoverflow.com/users/2144491/mikal-schacht-jensen"}, "is_accepted": false, "score": 0, "last_activity_date": 1554457388, "creation_date": 1554457388, "answer_id": 55532533, "question_id": 32103465, "link": "https://stackoverflow.com/questions/32103465/optimisticconcurrency-exception-when-no-changes-made/55532533#55532533", "title": "OptimisticConcurrency Exception when no changes made", "body": "<p>Be aware, that the optimistic concurency handling in EF, relies heavily on the number of  affected rows returned by queries to detect issues. So other reasons that cause an update/insert/delete to return an unexpected number of affected rows, might also result in an OptimisticConcurrencyException being thrown.</p>\n\n<p>In my case, I was inserting a duplicate row into a table with <code>IGNORE_DUB_KEY=ON</code>. This makes the SQL server return \"0 row(s) affected\" along with a warning, on primary key constraint violations, rather than throwing an error.</p>\n"}], "owner": {"reputation": 1233, "user_id": 1208379, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9dfcc3303071000e84c0bfdd619c95ee?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/1208379/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1468, "favorite_count": 1, "accepted_answer_id": 32134511, "answer_count": 2, "score": 1, "last_activity_date": 1554457388, "creation_date": 1440010492, "last_edit_date": 1440126555, "question_id": 32103465, "link": "https://stackoverflow.com/questions/32103465/optimisticconcurrency-exception-when-no-changes-made", "title": "OptimisticConcurrency Exception when no changes made", "body": "<p>I am occasionally receiving <code>OptimisticConcurrency</code> Exceptions when calling <code>SaveChanges()</code> using Entity Framework 6 within an MVC web application even though I made no change to any objects within this thread of execution. It is certainly possible that changes were made within a different thread/processs. It seems to be impossible for an <code>OptimisticConcurrency</code>exception to occur but, alas, it occurs with some frequency.</p>\n\n<pre><code>var launchedSurvey = DB.Find&lt;LaunchedSurvey&gt;(id);\nDB.SaveChanges(); // throws OptimisticConcurrencyException \n</code></pre>\n\n<p>I call <code>SaveChanges</code> even though no changes occurred simply as a test since I was receiving the same exception when records were added but no changes to existing objects occurred..which also seems should not throw an <code>OptimisticConcurrencyException</code>. </p>\n\n<p>This is the error message</p>\n\n<pre><code>System.Exception: TestSave Failed ---&gt; System.Data.Entity.Infrastructure.DbUpdateException: SaveChangesAndReload caught exception and attempted to handle it =&gt; attempts:5\n ---&gt; System.Data.Entity.Infrastructure.DbUpdateException: An error occurred while saving entities that do not expose foreign key properties for their relationships. The EntityEntries property will return null because a single entity cannot be identified as the source of the exception. Handling of exceptions while saving can be made easier by exposing foreign key properties in your entity types. See the InnerException for details. ---&gt; System.Data.Entity.Core.OptimisticConcurrencyException: Store update, insert, or delete statement affected an unexpected number of rows (0). Entities may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=472540 for information on understanding and handling optimistic concurrency exceptions.\n   at System.Data.Entity.Core.Mapping.Update.Internal.UpdateTranslator.ValidateRowsAffected(Int64 rowsAffected, UpdateCommand source)\n   at System.Data.Entity.Core.Mapping.Update.Internal.UpdateTranslator.Update()\n   at System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)\n   at System.Data.Entity.Core.Objects.ObjectContext.SaveChangesToStore(SaveOptions options, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction)\n   at System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)\n   at System.Data.Entity.Core.Objects.ObjectContext.SaveChangesInternal(SaveOptions options, Boolean executeInExistingTransaction)\n   at System.Data.Entity.Internal.InternalContext.SaveChanges()\n</code></pre>\n\n<p>Here is the c-tor for LaunchedSurvey</p>\n\n<pre><code>public LaunchedSurvey()\n{\n    CreationTime = DateTime.UtcNow;\n    WorkerLaunchedSurveys = new Collection&lt;WorkerLaunchedSurvey&gt;();\n    WorkerQualificationRequests = new Collection&lt;WorkerQualificationRequest&gt;();\n    _remainingDemographic = new DateTime(1900, 1, 1);\n    MinimumPercent = 0.10;\n    ExcludeList = new List&lt;LaunchedSurvey&gt;();\n    IncludeList = new List&lt;LaunchedSurvey&gt;();\n    ScreenedWorkers = new List&lt;ScreenedWorker&gt;();\n    EmailMessages = new List&lt;EmailMessage&gt;();\n    AssignmentsPendingWorkers = new HashSet&lt;AssignmentsPendingWorker&gt;();\n    ExcludedWorkersManual = new List&lt;AmazonWorkerExcluded&gt;();\n    IncludedWorkersManual = new List&lt;AmazonWorkerIncluded&gt;();\n    PendingWorkersQualificationsUnknown = new List&lt;AmazonWorkerPending&gt;();\n    Tags = new List&lt;Tag&gt;();\n    ManualQualificationTypeIdList = new List&lt;QualificationType&gt;();\n    WorkerSurveyStatisticAuto = new WorkerSurveyStatisticAuto();\n    WorkerSurveyStatisticManual = new WorkerSurveyStatisticManual();\n    WorkerUniqueIdentifierList = new List&lt;WorkerUniqueIdentifier&gt;();\n}\n</code></pre>\n\n<p>Any insight into this is greatly appreciated!</p>\n"}, {"tags": ["c#", "json", "json.net"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 2, "creation_date": 1440010589, "post_id": 32103448, "comment_id": 52101359, "body": "There are <i>lots</i> of questions on Stack Overflow about parsing JSON. You could parse it to an object where you&#39;ve created an appropriate class beforehand, or use Json.NET&#39;s &quot;LINQ to JSON&quot;, or any number of things. Please show what you&#39;ve tried so far."}, {"owner": {"reputation": 1498, "user_id": 1697605, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/qOvIO.jpg?s=128&g=1", "display_name": "Mathieson", "link": "https://stackoverflow.com/users/1697605/mathieson"}, "edited": false, "score": 0, "creation_date": 1440012636, "post_id": 32103448, "comment_id": 52102604, "body": "You can search in the string. The other alternative might be to deserialize to another object with only the data you care about, but that&#39;s not a great idea either.  Is there any reason you can&#39;t deserialize the JSON into a whole object, then just check the value on the object?"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 5237983, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/10206923566784648/picture?type=large", "display_name": "Fela Bird", "link": "https://stackoverflow.com/users/5237983/fela-bird"}, "edited": false, "score": 0, "creation_date": 1440012000, "post_id": 32103611, "comment_id": 52102185, "body": "Cannot implicitly convert type &#39;System.Collections.Generic.Dictionary&lt;string,dynamic&gt;&#39; to &#39;Newtonsoft.Json.Linq.JObject&#39;2013\\Projects\\ConsoleApplicati&zwnj;&#8203;on3\\ConsoleApplicati&zwnj;&#8203;on3\\Program.cs. Thats the error im getting in the Jobject obj line"}, {"owner": {"reputation": 1198, "user_id": 3221067, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sg0WJ.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3221067/aaron"}, "reply_to_user": {"reputation": 15, "user_id": 5237983, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/10206923566784648/picture?type=large", "display_name": "Fela Bird", "link": "https://stackoverflow.com/users/5237983/fela-bird"}, "edited": false, "score": 0, "creation_date": 1507058917, "post_id": 32103611, "comment_id": 80058390, "body": "sounds like your json is stored in a dictionary, not a string."}], "tags": [], "owner": {"reputation": 1198, "user_id": 3221067, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sg0WJ.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3221067/aaron"}, "is_accepted": false, "score": 1, "last_activity_date": 1440010991, "creation_date": 1440010991, "answer_id": 32103611, "question_id": 32103448, "link": "https://stackoverflow.com/questions/32103448/get-a-specific-value-from-a-json-structure/32103611#32103611", "title": "Get a specific value from a json structure", "body": "<p>I'm assuming this json is stored in a string, let's say called json... so try</p>\n\n<pre><code>string json = \"...\";\nJObject obj = JsonConvert.DeserializeObject&lt;JObject&gt;(json);\nJObject innerObj = obj[\"unashamedohio\"] as JObject;\nint lolSummorLvl = (int) innerObj[\"summonerLevel\"];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 5237983, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/10206923566784648/picture?type=large", "display_name": "Fela Bird", "link": "https://stackoverflow.com/users/5237983/fela-bird"}, "edited": false, "score": 0, "creation_date": 1440012317, "post_id": 32103631, "comment_id": 52102375, "body": "Thanks, this work quite ok. Might have to read more about dynamic objects. Thanks to all btw"}, {"owner": {"reputation": 7185, "user_id": 1645737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0tr7.png?s=128&g=1", "display_name": "keenthinker", "link": "https://stackoverflow.com/users/1645737/keenthinker"}, "edited": false, "score": 0, "creation_date": 1440012335, "post_id": 32103631, "comment_id": 52102392, "body": "I really like dynamic and there are situations where using it it&#39;s the only solution, but IMO it should be use with caution."}], "tags": [], "owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "is_accepted": false, "score": 5, "last_activity_date": 1440011060, "creation_date": 1440011060, "answer_id": 32103631, "question_id": 32103448, "link": "https://stackoverflow.com/questions/32103448/get-a-specific-value-from-a-json-structure/32103631#32103631", "title": "Get a specific value from a json structure", "body": "<p>You can use the <code>dynamic</code> keyword</p>\n\n<pre><code>dynamic obj = JsonConvert.DeserializeObject(json);\nConsole.WriteLine(obj.unashamedohio.summonerLevel);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7185, "user_id": 1645737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0tr7.png?s=128&g=1", "display_name": "keenthinker", "link": "https://stackoverflow.com/users/1645737/keenthinker"}, "is_accepted": false, "score": 0, "last_activity_date": 1440011878, "last_edit_date": 1440011878, "creation_date": 1440011513, "answer_id": 32103760, "question_id": 32103448, "link": "https://stackoverflow.com/questions/32103448/get-a-specific-value-from-a-json-structure/32103760#32103760", "title": "Get a specific value from a json structure", "body": "<p>You have a couple of possibilities (as already showed in the other answers). Another possibility would be to use the <code>JObject</code> and <code>JProperty</code> properties provided from Json.Net, in order to directly fetch the value like this:</p>\n\n<pre><code>var jsonObject = (JObject)JsonConvert.DeserializeObject(json);\nvar unashamedohio = (JObject)(jsonObject.Property(\"unashamedohio\").Value);\nvar summonerLevel = unashamedohio.Property(\"summonerLevel\");\nConsole.WriteLine(summonerLevel.Value);\n</code></pre>\n\n<p>Yet another possibility would be to create a typed model of the JSON structure:</p>\n\n<pre><code>public class AnonymousClass\n{\n    public UnashamedOhio unashamedohio { get; set; }    \n}\n\npublic class UnashamedOhio\n{\n    public int summonerLevel { get; set; }\n}\n</code></pre>\n\n<p>and use it to retrieve the value:</p>\n\n<pre><code>var ao = JsonConvert.DeserializeObject&lt;AnonymousClass&gt;(json);\nConsole.WriteLine(ao.unashamedohio.summonerLevel);\n</code></pre>\n\n<p>Both solutions print the same value: <code>30</code>. </p>\n\n<p>IMO you should use always typed models when possible and if you do a lot of value fetching from a JSON structures. It provides error checking in the IDE (as opposed to dynamic) which pay-offs at runtime. </p>\n"}], "owner": {"reputation": 15, "user_id": 5237983, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/10206923566784648/picture?type=large", "display_name": "Fela Bird", "link": "https://stackoverflow.com/users/5237983/fela-bird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12492, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1440011878, "creation_date": 1440010437, "last_edit_date": 1440010629, "question_id": 32103448, "link": "https://stackoverflow.com/questions/32103448/get-a-specific-value-from-a-json-structure", "title": "Get a specific value from a json structure", "body": "<p>I have this json:</p>\n\n<pre><code>{\n    \"unashamedohio\": \n        {\n            \"id\": 107537,\n            \"name\": \"UnashamedOhio\",\n            \"profileIconId\": 785,\n            \"revisionDate\": 1439997758000,\n            \"summonerLevel\": 30\n        }\n}\n</code></pre>\n\n<p>I want to get the field named <code>summonerLevel</code>.</p>\n\n<p>I have tried to convert this json to a string and then search for <code>summonerLevel</code>, but I know that this solution is not okay.</p>\n\n<p>I'm using Json.NET.</p>\n"}, {"tags": ["c#", "dynamics-crm-2011", "dynamics-crm"], "answers": [{"tags": [], "owner": {"reputation": 692, "user_id": 2390487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56eaa1ba807368192de221afabf944a6?s=128&d=identicon&r=PG", "display_name": "Joseph Duty", "link": "https://stackoverflow.com/users/2390487/joseph-duty"}, "is_accepted": false, "score": 0, "last_activity_date": 1441036961, "creation_date": 1441036961, "answer_id": 32315380, "question_id": 32103361, "link": "https://stackoverflow.com/questions/32103361/dynamics-crm-2011-transfer-security-roles-when-changing-user-business-unit/32315380#32315380", "title": "Dynamics CRM 2011 - Transfer Security Roles when changing User Business Unit", "body": "<p>Since I was unable to get an answer on this one I'll post my solution (which although I don't love, it does get the job done much more effectively than the usual process of having to go back in and re-add the roles manually).  </p>\n\n<p>It is a 2 step process instead of a more elegant 1 step process that I was looking for.\nI added 2 new fields on the user record, one bit field and one string field.  </p>\n\n<p>Step 1) I set up an on-demand workflow that only sets the bit field to yes (which is not on any forms).  A plugin fires on change of that field, queries the securityRoles table and gets all records associated with that user, copies down the name of the roles into a pipe delimited string and saves that string to the new string field.<br>\nStep 2) When the user changes BUs, that string field is used as the list of new roles to query for in combination with the new BU.  Then it is simply a matter of looping through and associating all the new roles with the user.</p>\n"}], "owner": {"reputation": 692, "user_id": 2390487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56eaa1ba807368192de221afabf944a6?s=128&d=identicon&r=PG", "display_name": "Joseph Duty", "link": "https://stackoverflow.com/users/2390487/joseph-duty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 522, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441036961, "creation_date": 1440010104, "last_edit_date": 1441026904, "question_id": 32103361, "link": "https://stackoverflow.com/questions/32103361/dynamics-crm-2011-transfer-security-roles-when-changing-user-business-unit", "title": "Dynamics CRM 2011 - Transfer Security Roles when changing User Business Unit", "body": "<p>I am attempting to eliminate the issue of Security Roles being dropped when changing a User's Business Unit in CRM 2011.  I have taken a few approaches with varying degrees of success, but none provide a seamless solution. So far a combination of plugins seems to be the best way.   </p>\n\n<p>The challenge is this:\nThe Security Roles are dropped after the pre-validation stage, but before the pre-operation stage.  I am able to capture the user's security roles in the original Business Unit when I register my plugin on the pre-validation stage if I execute an update other than changing the Business Unit, but the pre-validation plugin does not get triggered when running a Change Business Unit Update (the first stage that occurs is pre-operation).  I need to execute the pre-validation plugin when updating the user's Business Unit.  Once I get the name of the security role, I can store it in the PluginExecutionContext shared variables, then in my post-stage event plugin, I can query for the new security role with the correct name that is associated with my new Business Unit (that part of the code is working).  </p>\n\n<p>Has anyone either figured out how to: </p>\n\n<p>a) transfer a user's security roles from the original BU to a new one (using plugins or not)</p>\n\n<p>OR </p>\n\n<p>b) trigger a plugin registered on the pre-validation stage for a Change User's Business Unit action</p>\n"}, {"tags": ["c#", "dispose"], "comments": [{"owner": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "edited": false, "score": 0, "creation_date": 1440012700, "post_id": 32103353, "comment_id": 52102650, "body": "i think the only way to implicitly stop a thread is to disconnect power."}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 5244681, "user_type": "registered", "profile_image": "https://graph.facebook.com/930805450291806/picture?type=large", "display_name": "Mudassir Dehghani", "link": "https://stackoverflow.com/users/5244681/mudassir-dehghani"}, "is_accepted": false, "score": 1, "last_activity_date": 1440010280, "creation_date": 1440010280, "answer_id": 32103407, "question_id": 32103353, "link": "https://stackoverflow.com/questions/32103353/how-to-implicitly-stop-a-thread-in-an-object-in-c/32103407#32103407", "title": "How to implicitly stop a thread in an object in C#", "body": "<p>You could use exception handling and use the error displayed as the exception in the catch block</p>\n"}, {"comments": [{"owner": {"reputation": 262, "user_id": 1585043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b65c9d385f83e31a17e9ed1c8f4b51f8?s=128&d=identicon&r=PG", "display_name": "Michael McPherson", "link": "https://stackoverflow.com/users/1585043/michael-mcpherson"}, "edited": false, "score": 0, "creation_date": 1440010888, "post_id": 32103412, "comment_id": 52101552, "body": "Ye gods and little fishes, I love <code>using</code>. Remembering to call <code>Dispose</code> isn&#39;t any trouble, but <code>using</code> just looks so damn elegant in code."}, {"owner": {"reputation": 780, "user_id": 1464870, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/680cd344c37910e3631c2449583b818f?s=128&d=identicon&r=PG", "display_name": "Monster Hunter", "link": "https://stackoverflow.com/users/1464870/monster-hunter"}, "edited": false, "score": 0, "creation_date": 1440011086, "post_id": 32103412, "comment_id": 52101673, "body": "so if AnotherClass is a library, there&#39;s no way to ensure that the user closes / disposes AnotherClass properly?"}, {"owner": {"reputation": 1446, "user_id": 3825611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/543H3.jpg?s=128&g=1", "display_name": "Cory", "link": "https://stackoverflow.com/users/3825611/cory"}, "reply_to_user": {"reputation": 780, "user_id": 1464870, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/680cd344c37910e3631c2449583b818f?s=128&d=identicon&r=PG", "display_name": "Monster Hunter", "link": "https://stackoverflow.com/users/1464870/monster-hunter"}, "edited": false, "score": 0, "creation_date": 1440011287, "post_id": 32103412, "comment_id": 52101781, "body": "@MonsterHunter If it implements IDisposable then there is. If you do not have access to the logic in the other class and IT doesn&#39;t dispose properly, then you might look into another library."}, {"owner": {"reputation": 637210, "user_id": 69083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0cdfd3fe268e270ec481a73046c2f?s=128&d=identicon&r=PG", "display_name": "Guffa", "link": "https://stackoverflow.com/users/69083/guffa"}, "reply_to_user": {"reputation": 780, "user_id": 1464870, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/680cd344c37910e3631c2449583b818f?s=128&d=identicon&r=PG", "display_name": "Monster Hunter", "link": "https://stackoverflow.com/users/1464870/monster-hunter"}, "edited": false, "score": 1, "creation_date": 1440011736, "post_id": 32103412, "comment_id": 52102028, "body": "@MonsterHunter: Yes, that&#39;s right. There is no way to ensure that the programmer uses the class correctly. That is actually a quite common problem. The <code>IDisposable</code> pattern has a finalizer method (destructor) as a fallback to make the best of that situation. The garbage collector will call the finalizer before removing the object, which saves a lot of programs from leaking. I&#39;ve seen examples of code running for years without disposing objects properly, and then suddenly fail when the amount of objects waiting to be collected grew too big."}], "tags": [], "owner": {"reputation": 637210, "user_id": 69083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0cdfd3fe268e270ec481a73046c2f?s=128&d=identicon&r=PG", "display_name": "Guffa", "link": "https://stackoverflow.com/users/69083/guffa"}, "is_accepted": true, "score": 6, "last_activity_date": 1440011115, "last_edit_date": 1440011115, "creation_date": 1440010292, "answer_id": 32103412, "question_id": 32103353, "link": "https://stackoverflow.com/questions/32103353/how-to-implicitly-stop-a-thread-in-an-object-in-c/32103412#32103412", "title": "How to implicitly stop a thread in an object in C#", "body": "<p>No, that's not possible. There is no reference counting that can notice that the object has no more references, so there is no way to do anything when that happens.</p>\n\n<p>The <code>IDisposable</code> interface is used for classes that needs to do something when an instance is not going to be used any more, and calling the <code>Dispose</code> method is how you signal that you are done with the instance.</p>\n\n<p>The usual way to make sure that an object is disposed when you leave a scope is to wrap the code in a <code>using</code> block:</p>\n\n<pre><code>static void Main()\n{\n  using (AnotherClass a = new AnotherClass())\n  {\n    a.Say();\n  }\n}\n</code></pre>\n\n<p>The <code>using</code> block is syntactic sugar for a <code>try...finally</code> block:</p>\n\n<pre><code>static void Main()\n{\n  AnotherClass a = new AnotherClass();\n  try\n  {\n    a.Say();\n  }\n  finally\n  {\n    if (a != null)\n    {\n      ((Idisposable)a).Dispose();\n    }\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 780, "user_id": 1464870, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/680cd344c37910e3631c2449583b818f?s=128&d=identicon&r=PG", "display_name": "Monster Hunter", "link": "https://stackoverflow.com/users/1464870/monster-hunter"}, "edited": false, "score": 0, "creation_date": 1440011771, "post_id": 32103754, "comment_id": 52102048, "body": "Then how do I make sure that the AntherClass will not cause the program to hangup without touching the code in the Program Class?"}, {"owner": {"reputation": 32143, "user_id": 4955425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y0RDl.jpg?s=128&g=1", "display_name": "sstan", "link": "https://stackoverflow.com/users/4955425/sstan"}, "reply_to_user": {"reputation": 780, "user_id": 1464870, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/680cd344c37910e3631c2449583b818f?s=128&d=identicon&r=PG", "display_name": "Monster Hunter", "link": "https://stackoverflow.com/users/1464870/monster-hunter"}, "edited": false, "score": 1, "creation_date": 1440012299, "post_id": 32103754, "comment_id": 52102360, "body": "Based on the information available, using the <code>IDisposable</code> pattern as suggested by Guffa is the best way to go.  But you are also correct in that if the caller doesn&#39;t call <code>Dispose()</code>, then it won&#39;t work.  There are some workarounds that involve using the finalizer, but those options are rarely a good idea and can lead to other more serious problems.  If I was in your shoes, I would consider changing my class design.  But without knowing what your business requirements are, it&#39;s hard to suggest a better design alternative."}], "tags": [], "owner": {"reputation": 32143, "user_id": 4955425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y0RDl.jpg?s=128&g=1", "display_name": "sstan", "link": "https://stackoverflow.com/users/4955425/sstan"}, "is_accepted": false, "score": 2, "last_activity_date": 1440013048, "last_edit_date": 1440013048, "creation_date": 1440011494, "answer_id": 32103754, "question_id": 32103353, "link": "https://stackoverflow.com/questions/32103353/how-to-implicitly-stop-a-thread-in-an-object-in-c/32103754#32103754", "title": "How to implicitly stop a thread in an object in C#", "body": "<p>Adding to Guffa's answer, I think it's also important to note that <strong><em>even if</em></strong> you had a way to detect the precise moment that your <code>AnotherClass</code> instance went out out scope, in this case, it just never will. And that's why you noticed that your destructor never got called.</p>\n\n<p>The reason for that is that when you create and start your working thread, the thread is passed a delegate reference pointing to the instance method <code>wait()</code> which comes with an implicit reference to <code>this</code> (the <code>AnotherClass</code> instance).  So as long as your thread does not itself go out of scope, it will hold a strong reference to the <code>AnotherClass</code> instance and prevent it from getting garbage collected.</p>\n"}, {"tags": [], "owner": {"reputation": 69012, "user_id": 363751, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/135a97c4150691234931a93f3a27a52f?s=128&d=identicon&r=PG", "display_name": "supercat", "link": "https://stackoverflow.com/users/363751/supercat"}, "is_accepted": false, "score": 1, "last_activity_date": 1440516768, "creation_date": 1440516768, "answer_id": 32208179, "question_id": 32103353, "link": "https://stackoverflow.com/questions/32103353/how-to-implicitly-stop-a-thread-in-an-object-in-c/32208179#32208179", "title": "How to implicitly stop a thread in an object in C#", "body": "<p>If your thread exists for the purpose of serving an object for the benefit of other threads, you should have a public-facing wrapper object to which all threads that are \"interested\" in the service will hold strong references, and the service itself will hold a long weak reference.  That wrapper object should not hold any information that the service needs to read or manipulate, but should instead forward all requests for information to an object which both the wrapper and the service hold strong references.</p>\n\n<p>When the server thread is awake, it should periodically check whether the weak reference to the wrapper object is still alive.  If it isn't, the server thread should shut down in orderly fashion.  Note that the server never uses a strong reference to the wrapper object--even temporarily--so the wrapper object should evaporate as soon as nobody is interested in it.</p>\n\n<p>If the server thread may be blocked indefinitely waiting for various things to happen, the wrapper should hold the only reference anywhere in the universe to a finalizable object which holds a strong reference to the server object; when the finalizer fires, it should check whether the long weak reference held by the server object is still valid.  If it isn't, it should try to nudge the server thread (e.g. using a <code>Monitor.TryEnter/Monitor.Pulse</code>.  If the wrapper object is still alive (finalizers can occasionally false-trigger in some resurrection scenarios) or the finalizer wasn't able to nudge the server thread, the finalizable object should re-register for finalization.</p>\n\n<p>Using the finalizer object will complicate things; if the server thread can awaken itself periodically without needing to be nudged, that will simplify the design.  A finalizer used as described, however, should be relatively robust even in scenarios involving involuntary resurrection.</p>\n"}], "owner": {"reputation": 780, "user_id": 1464870, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/680cd344c37910e3631c2449583b818f?s=128&d=identicon&r=PG", "display_name": "Monster Hunter", "link": "https://stackoverflow.com/users/1464870/monster-hunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1630, "favorite_count": 0, "accepted_answer_id": 32103412, "answer_count": 4, "score": 6, "last_activity_date": 1440516768, "creation_date": 1440010086, "question_id": 32103353, "link": "https://stackoverflow.com/questions/32103353/how-to-implicitly-stop-a-thread-in-an-object-in-c", "title": "How to implicitly stop a thread in an object in C#", "body": "<p>I have an object that contains a working thread. I'd like to kill the thread when the object is out of scope. </p>\n\n<pre><code>using System.IO;\nusing System;\nusing System.Threading;\n\nnamespace tt {\n    class Program\n    {\n        static void Main()\n        {\n            AnotherClass a = new AnotherClass();\n            a.Say();\n        }\n\n    }\n\n    class AnotherClass:IDisposable {\n        private bool m_Disposed;\n        private readonly AutoResetEvent m_ResetEvent = new AutoResetEvent(false);\n\n        public AnotherClass() {\n            Thread t = new Thread(wait);\n            t.Start();\n        }\n\n        public void Dispose() {\n            Dispose(true);\n        }\n        private void Dispose(bool disposing) {\n            if (m_Disposed) {\n                return;\n            }\n\n            if (disposing) {\n                Console.WriteLine(\"inner disposing\");\n            }\n            m_ResetEvent.Set();\n            Console.WriteLine(\"Outer disposing\");\n            m_Disposed = true;\n        }\n\n        private void wait() {\n            m_ResetEvent.WaitOne();\n        }\n\n        ~AnotherClass() {\n            Dispose(false);\n        }\n\n        public void Say() {\n            Console.WriteLine(\"HellO\");\n        }\n    }\n}\n</code></pre>\n\n<p>The program will just hang in there because the destructor of AnotherClass is not called. I know I can call a.Dispose() to kill the thread. But is there a way to implicitly kill the thread when the object goes out of scope?</p>\n"}, {"tags": ["c#", "sql", "ssms"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1440010164, "post_id": 32103344, "comment_id": 52101121, "body": "what OTHER queries have you issued before the <code>go</code>? perhaps you have something like <code>insert ... (&#39;foo&#39;) go</code>, instead of <code>insert .. (&#39;foo&#39;); go</code>"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1440010192, "post_id": 32103344, "comment_id": 52101143, "body": "The syntax error is somewhere <i>before</i> your <code>GO</code>.  The parser apparently expects something else but encounters <code>GO</code> instead."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4671342"}, "edited": false, "score": 0, "creation_date": 1440010339, "post_id": 32103344, "comment_id": 52101230, "body": "but there are no &#39;;&#39; in the file. It was created by SSMS and worked fine. Could it be something going on with the split Operation above? And if it would be a char or something. Why does this happen with the counter?"}, {"owner": {"reputation": 7671, "user_id": 2686013, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kqJWO.jpg?s=128&g=1", "display_name": "HaveNoDisplayName", "link": "https://stackoverflow.com/users/2686013/havenodisplayname"}, "edited": false, "score": 0, "creation_date": 1440010506, "post_id": 32103344, "comment_id": 52101317, "body": "manually execute commandtext in sqlserver, and see what is breaking"}, {"owner": {"reputation": 262, "user_id": 1585043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b65c9d385f83e31a17e9ed1c8f4b51f8?s=128&d=identicon&r=PG", "display_name": "Michael McPherson", "link": "https://stackoverflow.com/users/1585043/michael-mcpherson"}, "edited": false, "score": 0, "creation_date": 1440010563, "post_id": 32103344, "comment_id": 52101343, "body": "Well, usually they&#39;re BEGIN...END...GO if you&#39;re generating the scripts. Are you leaving those logical blocks in when you&#39;re parsing the commands?"}, {"owner": {"reputation": 262, "user_id": 1585043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b65c9d385f83e31a17e9ed1c8f4b51f8?s=128&d=identicon&r=PG", "display_name": "Michael McPherson", "link": "https://stackoverflow.com/users/1585043/michael-mcpherson"}, "edited": false, "score": 1, "creation_date": 1440010610, "post_id": 32103344, "comment_id": 52101370, "body": "Also, try piping the output of your splits above to a file. Examining them, you should see what&#39;s causing SQL to break."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4671342"}, "edited": false, "score": 0, "creation_date": 1440010658, "post_id": 32103344, "comment_id": 52101396, "body": "He does not create BEGIN or END, just GO. Yes I leave it in to separate the commands at these points. I try to insert it into SSMS again"}, {"owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "edited": false, "score": 0, "creation_date": 1440011019, "post_id": 32103344, "comment_id": 52101636, "body": "Could there be other whitespace on the Lines with GO?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4671342"}, "edited": false, "score": 0, "creation_date": 1440011118, "post_id": 32103344, "comment_id": 52101690, "body": "I don&#39;t know. I&#39;m trying around now if I can find the error somehow with SSMS"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4671342"}, "edited": false, "score": 0, "creation_date": 1440011648, "post_id": 32103344, "comment_id": 52101980, "body": "Ok when I&#39;m executing it in SSMS everything is fine so I think it&#39;s something with the separator?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4671342"}, "edited": false, "score": 0, "creation_date": 1440011056, "post_id": 32103467, "comment_id": 52101659, "body": "Can you give an example? Didn&#39;t use this before"}, {"owner": {"reputation": 101, "user_id": 5244681, "user_type": "registered", "profile_image": "https://graph.facebook.com/930805450291806/picture?type=large", "display_name": "Mudassir Dehghani", "link": "https://stackoverflow.com/users/5244681/mudassir-dehghani"}, "edited": false, "score": 0, "creation_date": 1440011114, "post_id": 32103467, "comment_id": 52101687, "body": "Stringbuilder sb=new Stringbuilder()"}], "tags": [], "owner": {"reputation": 101, "user_id": 5244681, "user_type": "registered", "profile_image": "https://graph.facebook.com/930805450291806/picture?type=large", "display_name": "Mudassir Dehghani", "link": "https://stackoverflow.com/users/5244681/mudassir-dehghani"}, "is_accepted": false, "score": 0, "last_activity_date": 1440010495, "creation_date": 1440010495, "answer_id": 32103467, "question_id": 32103344, "link": "https://stackoverflow.com/questions/32103344/incorrect-syntax-near-go-when-inserting-values/32103467#32103467", "title": "&quot;Incorrect syntax near &#39;GO&#39;&quot; when inserting values", "body": "<p>It would be easier if you used a string builder instead.you could use the string builder.append class to add a new line of string  </p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4671342"}, "edited": false, "score": 0, "creation_date": 1440011863, "post_id": 32103476, "comment_id": 52102088, "body": "I&#39;m trying. Hope this helps... although it&#39;s a very large program. Is there something smaller?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4671342"}, "edited": false, "score": 0, "creation_date": 1440012653, "post_id": 32103476, "comment_id": 52102616, "body": "How do I run a script with the DbUtilSqlCmd? I mean... I don&#39;t know which method to call for just reading and running a script"}, {"owner": {"reputation": 272630, "user_id": 105929, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/414213a8181616151fe73334532746ab?s=128&d=identicon&r=PG", "display_name": "Remus Rusanu", "link": "https://stackoverflow.com/users/105929/remus-rusanu"}, "edited": false, "score": 0, "creation_date": 1440013790, "post_id": 32103476, "comment_id": 52103333, "body": "<code>SqlCmd.ExecuteFile(connection, path)</code>"}, {"owner": {"reputation": 272630, "user_id": 105929, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/414213a8181616151fe73334532746ab?s=128&d=identicon&r=PG", "display_name": "Remus Rusanu", "link": "https://stackoverflow.com/users/105929/remus-rusanu"}, "edited": false, "score": 0, "creation_date": 1440014383, "post_id": 32103476, "comment_id": 52103676, "body": "The thing of interest to you in there is the Regex used to delimit batches: <code>new Regex (@&quot;^\\b*GO\\b*(\\d*)&quot;, RegexOptions.IgnoreCase);</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4671342"}, "edited": false, "score": 0, "creation_date": 1440019328, "post_id": 32103476, "comment_id": 52106263, "body": "Thank you! I managed to solve the problem on another way but this program is good too. I simply added a string with a GO statement at the end of the file (cause this was the error) and in my loop I check if this string is my current commandText - if yes -&gt; break;"}], "tags": [], "owner": {"reputation": 272630, "user_id": 105929, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/414213a8181616151fe73334532746ab?s=128&d=identicon&r=PG", "display_name": "Remus Rusanu", "link": "https://stackoverflow.com/users/105929/remus-rusanu"}, "is_accepted": true, "score": 0, "last_activity_date": 1440010526, "creation_date": 1440010526, "answer_id": 32103476, "question_id": 32103344, "link": "https://stackoverflow.com/questions/32103344/incorrect-syntax-near-go-when-inserting-values/32103476#32103476", "title": "&quot;Incorrect syntax near &#39;GO&#39;&quot; when inserting values", "body": "<p>If the parser say 'syntax error before GO' it means you sent the GO to the server. It must be that your splitter does not correctly split. Is likely something like a space after the GO, making it not match the <code>\\r\\nGO\\r\\n</code> exactly.</p>\n\n<p>You can give <a href=\"https://github.com/rusanu/DbUtilSqlCmd\" rel=\"nofollow\">https://github.com/rusanu/DbUtilSqlCmd</a> a try.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4671342"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1135, "favorite_count": 0, "accepted_answer_id": 32103476, "answer_count": 2, "score": 0, "last_activity_date": 1440010526, "creation_date": 1440010058, "last_edit_date": 1440010182, "question_id": 32103344, "link": "https://stackoverflow.com/questions/32103344/incorrect-syntax-near-go-when-inserting-values", "title": "&quot;Incorrect syntax near &#39;GO&#39;&quot; when inserting values", "body": "<p>I'm getting the error above.\nI use this code:</p>\n\n<pre><code>  //split the script on \"GO\" commands\n                string[] splitter = new string[] { \"\\r\\nGO\\r\\n\" };\n                string[] commandTexts = data.Split(splitter,\n                  StringSplitOptions.RemoveEmptyEntries);\n\n  foreach (string commandText in commandTexts)\n  {\n    SqlCommand cmdScript = new SqlCommand(commandText, conn);\n    cmdScript.ExecuteNonQuery();               \n   }\n</code></pre>\n\n<p>I scripted the content of my tables with the SSMS so I got a file with lots of 'INSERT INTO' Statements and some 'GO' Statements between them. </p>\n\n<p>The last 'GO' statement isn't at the end of the file - after the last statement there are a few 'INSERT INTO' lines. This works fine when executing it in SSMS but not in C# with the construct above.</p>\n\n<p>I put a counter in to count the amount of 'commandText' int the loop. I had 3107. After I added a 'GO' at the end of the file, my counter shows 3108 and still get the error. In both cases all data gets completely inserted into my tables, so the error happens at the end.\nAny idead what this could be?</p>\n"}, {"tags": ["c#", "wpf", "xaml", "colors", "listbox"], "comments": [{"owner": {"reputation": 2537, "user_id": 1775528, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8b1e8208487331ce2ca04bd0024951f3?s=128&d=identicon&r=PG", "display_name": "Tyler Lee", "link": "https://stackoverflow.com/users/1775528/tyler-lee"}, "edited": false, "score": 0, "creation_date": 1440010447, "post_id": 32103342, "comment_id": 52101279, "body": "Binding with a bool to Brush converter?"}], "answers": [{"comments": [{"owner": {"reputation": 299, "user_id": 4111264, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6eNho.jpg?s=128&g=1", "display_name": "lucas.mdo", "link": "https://stackoverflow.com/users/4111264/lucas-mdo"}, "edited": false, "score": 0, "creation_date": 1440013139, "post_id": 32103621, "comment_id": 52102898, "body": "Thanks, I adapted your answer to my case and it worked as a charm!"}], "tags": [], "owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "is_accepted": true, "score": 1, "last_activity_date": 1440011028, "creation_date": 1440011028, "answer_id": 32103621, "question_id": 32103342, "link": "https://stackoverflow.com/questions/32103342/link-a-listbox-borderbrush-property-to-a-isenabled-button/32103621#32103621", "title": "Link a ListBox Borderbrush property to a IsEnabled button", "body": "<p>Here's a small example that changes the border brush of a listview based on the IsEnabled property of a button</p>\n\n<pre><code>&lt;StackPanel&gt;\n    &lt;ListBox Height=\"100\"&gt;\n        &lt;ListBox.Style&gt;\n            &lt;Style TargetType=\"ListBox\"&gt;\n                &lt;Style.Triggers&gt;\n                    &lt;DataTrigger Binding=\"{Binding ElementName=okButton, Path=IsEnabled}\" Value=\"false\"&gt;\n                        &lt;Setter Property=\"BorderBrush\" Value=\"Red\"/&gt;\n                    &lt;/DataTrigger&gt;\n                    &lt;DataTrigger Binding=\"{Binding ElementName=okButton, Path=IsEnabled}\" Value=\"true\"&gt;\n                        &lt;Setter Property=\"BorderBrush\" Value=\"Blue\"/&gt;\n                    &lt;/DataTrigger&gt;\n                &lt;/Style.Triggers&gt;\n            &lt;/Style&gt;\n        &lt;/ListBox.Style&gt;\n    &lt;/ListBox&gt;\n    &lt;Button IsEnabled=\"True\" Name=\"okButton\"&gt;true&lt;/Button&gt;\n&lt;/StackPanel&gt;\n</code></pre>\n\n<p>But I would set the availability of the button on the command and not in the XAML, also I would bind the color of the ListView to the IsValid property in the ViewModel instead.</p>\n"}], "owner": {"reputation": 299, "user_id": 4111264, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6eNho.jpg?s=128&g=1", "display_name": "lucas.mdo", "link": "https://stackoverflow.com/users/4111264/lucas-mdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 32103621, "answer_count": 1, "score": 0, "last_activity_date": 1440011028, "creation_date": 1440010052, "question_id": 32103342, "link": "https://stackoverflow.com/questions/32103342/link-a-listbox-borderbrush-property-to-a-isenabled-button", "title": "Link a ListBox Borderbrush property to a IsEnabled button", "body": "<p>I have two <code>TextBoxes</code>, two <code>ListBoxes</code>, a <code>Cancel</code> button and an <code>OK</code> button.</p>\n\n<p>Simplifying the problem, I would like to link the color of the <code>Borderbrush</code> of the second <code>ListBox</code> to the <code>IsEnabled</code> property of the <code>OK</code> button.</p>\n\n<p>An alternative would be link that color change to the <code>ListBoxItem</code> background instead of the <code>Listbox</code> border itself.</p>\n\n<p>Is it possible (maybe through <code>Triggers</code> or something)? If so, could you show me the way?</p>\n\n<p>The XAML of the window is as follows:</p>\n\n<pre><code>&lt;Window x:Class=\"Opt.ExpertSystem.View.WindowPasteRules\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n        mc:Ignorable=\"d\"\n        xmlns:scroll=\"clr-namespace:Opt.ExpertSystem.View\"\n        Title=\"Paste Rules Options\"  Width=\"400\" Height=\"300\"&gt;\n    &lt;Window.InputBindings&gt;\n        &lt;KeyBinding Key=\"Esc\" Command=\"{Binding CancelCommand}\" /&gt;\n    &lt;/Window.InputBindings&gt;\n    &lt;Grid&gt;\n        &lt;Grid.RowDefinitions&gt;\n            &lt;RowDefinition Height=\"28\"/&gt;\n            &lt;RowDefinition Height=\"100*\"/&gt;\n\n            &lt;RowDefinition Height=\"35\"/&gt;\n        &lt;/Grid.RowDefinitions&gt;\n        &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition Width=\"Auto\" /&gt;\n            &lt;ColumnDefinition Width=\"76*\" /&gt;\n        &lt;/Grid.ColumnDefinitions&gt;\n\n        &lt;Label Content=\"Select Rules to Paste: \" Grid.Column=\"0\" Grid.Row=\"0\" HorizontalAlignment=\"Right\" HorizontalContentAlignment=\"Right\" Margin=\"0,0,2,0\" Width=\"Auto\"/&gt;\n\n        &lt;Grid Grid.Row=\"1\" Grid.ColumnSpan=\"2\"  HorizontalAlignment=\"Stretch\" VerticalAlignment=\"Stretch\" &gt;\n            &lt;Grid.Resources&gt;\n                &lt;Style TargetType=\"ScrollViewer\"&gt;\n                    &lt;Setter Property=\"scroll:ScrollSynchronizer.ScrollGroup\" Value=\"Group1\" /&gt;\n                &lt;/Style&gt;\n            &lt;/Grid.Resources&gt;\n            &lt;Grid.RowDefinitions&gt;\n                &lt;RowDefinition Height=\"30\"/&gt;\n                &lt;RowDefinition Height=\"50*\"/&gt;\n            &lt;/Grid.RowDefinitions&gt;\n            &lt;Grid.ColumnDefinitions&gt;\n                &lt;ColumnDefinition Width=\"*\" /&gt;\n                &lt;ColumnDefinition Width=\"5\" /&gt;\n                &lt;ColumnDefinition Width=\"*\" /&gt;\n            &lt;/Grid.ColumnDefinitions&gt;\n\n            &lt;Label Content=\"Replace\" HorizontalAlignment=\"Stretch\" FontWeight=\"Bold\"/&gt;\n            &lt;TextBox Margin=\"55,2,2,2\" Text=\"{Binding CopyNameOrigin}\" ToolTip=\"Non-editable field. Represents the text you want to replace.\" Focusable=\"False\"/&gt;\n            &lt;Label Content=\"With\" Grid.Column=\"2\" HorizontalAlignment=\"Stretch\" FontWeight=\"Bold\"/&gt;\n            &lt;TextBox Grid.Column=\"2\" Margin=\"42,2,2,2\" Text=\"{Binding CopyNameNew, UpdateSourceTrigger=PropertyChanged}\" ToolTip=\"Represents the results of the changes to be made.\" /&gt;\n            &lt;ListBox ItemsSource=\"{Binding Path=CopiedRules}\" Grid.Row=\"1\" HorizontalAlignment=\"Stretch\" VerticalAlignment=\"Stretch\" Grid.Column=\"0\" BorderThickness=\"1\" BorderBrush=\"CornflowerBlue\" Grid.IsSharedSizeScope=\"True\" Margin=\"2,0,2,10\" &gt;\n                &lt;ListBox.ItemTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;Label Content=\"{Binding Name}\" /&gt;    \n                    &lt;/DataTemplate&gt;\n                &lt;/ListBox.ItemTemplate&gt;\n            &lt;/ListBox&gt;\n            &lt;ListBox ItemsSource=\"{Binding Path=PasteRules}\" Grid.Row=\"1\" HorizontalAlignment=\"Stretch\" VerticalAlignment=\"Stretch\" Grid.Column=\"2\" BorderThickness=\"1\" BorderBrush=\"CornflowerBlue\"  Margin=\"2,0,2,10\" &gt;\n                &lt;ListBox.ItemTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;CheckBox Content=\"{Binding Name}\" IsChecked=\"{Binding IsChecked}\" Margin=\"2,5,2,5\" /&gt;             \n                    &lt;/DataTemplate&gt;\n                &lt;/ListBox.ItemTemplate&gt;\n            &lt;/ListBox&gt;\n        &lt;/Grid&gt;\n\n        &lt;Grid Grid.Row=\"2\" Background=\"#FFECE9D8\" Grid.ColumnSpan=\"2\"&gt;\n            &lt;Button Content=\"OK\" x:Name=\"btnOK\" IsEnabled=\"{Binding IsValid, UpdateSourceTrigger=PropertyChanged}\" Margin=\"0,6,6,0\" Grid.Row=\"3\" Grid.Column=\"1\" HorizontalAlignment=\"Right\" VerticalAlignment=\"Top\" Width=\"75\" Height=\"23\" Click=\"btnOK_Click\" /&gt;\n            &lt;Button Content=\"Cancel\" x:Name=\"btnCancel\" IsCancel=\"True\" Margin=\"0,6,90,0\" Grid.Row=\"3\" Grid.Column=\"1\" HorizontalAlignment=\"Right\" VerticalAlignment=\"Top\" Width=\"75\" Height=\"23\" /&gt;\n        &lt;/Grid&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n"}]