[{"tags": ["c#", "asp.net-mvc", "linq", "tsql", "lambda"], "comments": [{"owner": {"reputation": 26090, "user_id": 1324345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a5646905e90183ecc762ff8ea35ca1?s=128&d=identicon&r=PG", "display_name": "alroc", "link": "https://stackoverflow.com/users/1324345/alroc"}, "edited": false, "score": 0, "creation_date": 1519872944, "post_id": 49040557, "comment_id": 85089048, "body": "If your query &quot;works perfectly&quot;, why are you attempting to re-implement it without (explicitly) using SQL?"}, {"owner": {"reputation": 1, "user_id": 9114935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GXtxw.png?s=128&g=1", "display_name": "BitByter", "link": "https://stackoverflow.com/users/9114935/bitbyter"}, "reply_to_user": {"reputation": 26090, "user_id": 1324345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a5646905e90183ecc762ff8ea35ca1?s=128&d=identicon&r=PG", "display_name": "alroc", "link": "https://stackoverflow.com/users/1324345/alroc"}, "edited": false, "score": 0, "creation_date": 1519920926, "post_id": 49040557, "comment_id": 85112635, "body": "The script is for the auto emailing and of course the warehouse people don&#39;t have access to the server except through our browser based application. My boss wants the managers to have the ability to get that information in a file at all times as well."}, {"owner": {"reputation": 26090, "user_id": 1324345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a5646905e90183ecc762ff8ea35ca1?s=128&d=identicon&r=PG", "display_name": "alroc", "link": "https://stackoverflow.com/users/1324345/alroc"}, "edited": false, "score": 0, "creation_date": 1519926823, "post_id": 49040557, "comment_id": 85116192, "body": "So why can&#39;t your application execute the query as-is? Or even execute a stored procedure which contains this query?"}, {"owner": {"reputation": 1, "user_id": 9114935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GXtxw.png?s=128&g=1", "display_name": "BitByter", "link": "https://stackoverflow.com/users/9114935/bitbyter"}, "reply_to_user": {"reputation": 26090, "user_id": 1324345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a5646905e90183ecc762ff8ea35ca1?s=128&d=identicon&r=PG", "display_name": "alroc", "link": "https://stackoverflow.com/users/1324345/alroc"}, "edited": false, "score": 0, "creation_date": 1519930190, "post_id": 49040557, "comment_id": 85117937, "body": "Is there no way to use Entity Framework MVC and lambda/LINQ to produce the results of the initial SQL script? Seems to me like writing a lambda or LINQ query would be easier than running the query as-is with our framework. As for the stored procedure, thank you for that suggestion, going forward I will absolutely use this. I still have to follow what my current lead developer asks and that&#39;s for lambda / LINQ to run the query."}], "answers": [{"tags": [], "owner": {"reputation": 320, "user_id": 4765437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/216da6fb5c280d548ddcc164d99118de?s=128&d=identicon&r=PG&f=1", "display_name": "Travis Manning", "link": "https://stackoverflow.com/users/4765437/travis-manning"}, "is_accepted": false, "score": 0, "last_activity_date": 1520954107, "creation_date": 1520954107, "answer_id": 49259722, "question_id": 49040557, "link": "https://stackoverflow.com/questions/49040557/mimic-sql-subquery-script-with-lambda-linq/49259722#49259722", "title": "Mimic SQL Subquery Script with Lambda / LINQ", "body": "<p>I enjoy doing this.</p>\n\n<pre><code>var p = boxes.GroupBy(x =&gt; x.ID).Where(grp =&gt; grp.Key != -1)\n            .Select(grp =&gt; new\n            {\n                ID = grp.Key,\n                ItemCount = grp.Count(),\n                DateUsed = grp.Max(x =&gt; x.DateUsed)\n            });\n\nvar q = from x in tracker\n        join y in p on x.ID equals y.ID\n        join z in boxes on y.ID equals z.ID\n        join a in headers on z.PickID equals a.PickID\n        select new\n        {\n            y.ID,\n            y.ItemCount,\n            DateUser = y.DateUsed,\n            a.CustNum,\n            a.OrdNum\n        };\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9114935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GXtxw.png?s=128&g=1", "display_name": "BitByter", "link": "https://stackoverflow.com/users/9114935/bitbyter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 1, "answer_count": 1, "score": -2, "last_activity_date": 1520954107, "creation_date": 1519862014, "last_edit_date": 1520016685, "question_id": 49040557, "link": "https://stackoverflow.com/questions/49040557/mimic-sql-subquery-script-with-lambda-linq", "title": "Mimic SQL Subquery Script with Lambda / LINQ", "body": "<p>I'm trying to mimic a T-SQL script with ASP.NET MVC (Entity Framework) that my lead developer created but then just recently gave resignation and is on other tasks now. </p>\n\n<p>The script is to gather all required information about an item by the last date used and also count how many times it was used. The SQL script groups the IDs, counts the PickIDs associated with that grouped ID, and gathers the latest date:</p>\n\n<pre><code>SELECT \n    s.ID, s.ItemCount, s.DateUsed, p.CustNum, p.OrdNum\nFROM \n    Tracker as t    \nINNER JOIN\n    (SELECT \n         ID, COUNT(PickID) ItemCount, MAX(DateUsed) DateUsed\n     FROM \n         Boxes \n     WHERE \n         NOT ID = '1'\n     GROUP BY \n         ID) s ON t.ID = s.ID\nINNER JOIN \n    Boxes as s2 ON s.ID = s2.ID AND s.DateUsed = s2.DateUsed\nINNER JOIN \n    Header as p ON s2.PickID = p.PickID;\n</code></pre>\n\n<p>The given script works perfectly for our auto emailing system, but we need our browser based application to create a file with that exact same information at any given time, not just weekly. I have the file creation and auto emailing, just having a hard time translating it to lambda expressions, LINQ is fine as well.</p>\n\n<p>I've been searching all over stackoverflow and Microsoft's tutorials with little help, so if anyone could point me in the right direction or show and explain how to do it that would be awesome.</p>\n"}, {"tags": ["c#", "c", "arrays", "dll", "pass-by-reference"], "comments": [{"owner": {"reputation": 2024, "user_id": 1268696, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9vs4D.jpg?s=128&g=1", "display_name": "FrankS101", "link": "https://stackoverflow.com/users/1268696/franks101"}, "edited": false, "score": 0, "creation_date": 1519861666, "post_id": 49040496, "comment_id": 85086341, "body": "we need to see your code to understand the problem and try to help you out"}, {"owner": {"reputation": 205, "user_id": 5208673, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fdeba0860110eefb55d921460b3d46b1?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Johnson", "link": "https://stackoverflow.com/users/5208673/eric-johnson"}, "reply_to_user": {"reputation": 2024, "user_id": 1268696, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9vs4D.jpg?s=128&g=1", "display_name": "FrankS101", "link": "https://stackoverflow.com/users/1268696/franks101"}, "edited": false, "score": 0, "creation_date": 1519861979, "post_id": 49040496, "comment_id": 85086424, "body": "Opps, I was still typing, and must have accidentally submitted it.  I am still typing the question on another tab.  Weird."}, {"owner": {"reputation": 2526, "user_id": 6218300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e998956e67bb176a9e00b8bb20bf4b58?s=128&d=identicon&r=PG&f=1", "display_name": "Florent DUGUET", "link": "https://stackoverflow.com/users/6218300/florent-duguet"}, "edited": false, "score": 1, "creation_date": 1519904382, "post_id": 49040496, "comment_id": 85101933, "body": "As a informational note, you can accelerate C# calculations on gpu using Hybridizer for example. Disclaimer : I work on the develop of that software."}], "answers": [{"tags": [], "owner": {"reputation": 205, "user_id": 5208673, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fdeba0860110eefb55d921460b3d46b1?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Johnson", "link": "https://stackoverflow.com/users/5208673/eric-johnson"}, "is_accepted": false, "score": 1, "last_activity_date": 1520263347, "creation_date": 1520263347, "answer_id": 49113738, "question_id": 49040496, "link": "https://stackoverflow.com/questions/49040496/passing-data-in-and-out-of-a-dll-from-c/49113738#49113738", "title": "Passing Data in and out of a DLL from C#", "body": "<p>I was able to solve the problem.  The line </p>\n\n<pre><code>items = (char**)malloc(itemCount);\n</code></pre>\n\n<p>should have been</p>\n\n<pre><code>items = (char**)malloc(itemCount*sizeof(char*));\n</code></pre>\n"}], "owner": {"reputation": 205, "user_id": 5208673, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/fdeba0860110eefb55d921460b3d46b1?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Johnson", "link": "https://stackoverflow.com/users/5208673/eric-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 805, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1520263347, "creation_date": 1519861567, "last_edit_date": 1519862747, "question_id": 49040496, "link": "https://stackoverflow.com/questions/49040496/passing-data-in-and-out-of-a-dll-from-c", "title": "Passing Data in and out of a DLL from C#", "body": "<p>I am attempting to create a C# program that can pass data into a C/C++ DLL, store the data, and complete calculations on it.  The result would then be returned to the C# program.  The reason for not using C# for the calculations is that I am planning to accelerate it with CUDA.  </p>\n\n<p>I currently declaring a byte array in C#, and passing that as an argument to the DLL to send data.</p>\n\n<p>I then declare a byte array of the same size in C# and pass it as an argument to receive the data.  The DLL should then write the results into that memory.</p>\n\n<p>When I run the program, the correct numbers get printed to the screen.  (As I am writing 1,2,3... to the array twice, the addition of these is 2,4,6...)  \"The cat chased the mouse\" is then printed.  When I press a key, \"The mouse chased the cat\" is displayed, and the program crashes before it exits displaying a vshost32.exe stopped working error.\nI was able to solve this error from <a href=\"https://stackoverflow.com/questions/735621/vshost32-exe-crash-when-calling-unmanaged-dll\">this question</a>.</p>\n\n<p>Now when I attempt to run the EXE directly from windows explorer, I get the number 36 printed as the first step, but then I get the following error on the compute function call: </p>\n\n<blockquote>\n  <p>\"Unhanded exception: System.AccessViolationException Attempted to read\n  or write protected memory.  This is often an indication that other\n  memory is corrupt\"</p>\n</blockquote>\n\n<p>I know the DLL loaded correctly because the init function returned the correct number.  I am not sure why it would only be crashing when I am running it as an EXE and not in the debugger.  What could be causing this?</p>\n\n<p>Is there a different way I should be handling the memory exchange between the DLL and the C# program?  My goal is to avoid copying it using a Marshal Copy as I need this to be high performance.  The end goal would be the DLL copying the memory to or from the GPU and the GPU doing the calculations, so I see no reason to have it copied a 2nd time in the DLL before going to the GPU.</p>\n\n<p>C++ DLL Code (written as C code)</p>\n\n<pre><code>#include \"stdafx.h\"  \n#include \"stdlib.h\"\nconst int CONSTANT = 3;\nchar** items;\nint itemCount = 0;\nint xcnt = -1;\nint ycnt = -1;\n\nextern \"C\" int __declspec(dllexport) __stdcall init(int itemcount_local, int xcnt_local, int ycnt_local){\n    itemCount = itemcount_local;\n    xcnt = xcnt_local;\n    ycnt = ycnt_local;\n    items = (char**)malloc(itemCount);\n    if (items == NULL){\n        return -1;\n    }\n    for (int i = 0; i &lt; itemCount; i++){\n        items[i] = (char*)malloc(CONSTANT*xcnt*ycnt);\n        if (items[i] == NULL){\n            return -1;\n        }\n        for (int d = 0; d &lt; CONSTANT*xcnt*ycnt; d++){\n            items[i][d] = 0;\n        }\n    }\n    return CONSTANT*xcnt*ycnt;\n}\n\n//frees the memory created in init\nextern \"C\" void __declspec(dllexport) __stdcall cleanup(){\n    for (int i = 0; i &lt; itemCount; i++){\n        free(items[i]);\n    }\n    free(items);\n    return;\n}\n\nextern \"C\" void __declspec(dllexport) __stdcall loadItem(int index, char* data){\n    memcpy(items[index], data, CONSTANT*xcnt*ycnt);\n    return;\n}\n\n//fills the buffer with the computed result.  Buffer needs to be the size of CONSTANT*xcnt*ycnt\nextern \"C\" void __declspec(dllexport) __stdcall compute(char* buffer){\n    for (int x = 0; x &lt; CONSTANT*xcnt*ycnt; x++){\n        int sum = 0;\n        for (int i = 0; i &lt; itemCount; i++){\n            sum += items[i][x];\n        }\n        if (sum &gt; 255){ //saturate at 255\n            buffer[x] = 255;\n        }\n        else {\n            buffer[x] = sum;\n        }\n    }\n    return;\n}\n</code></pre>\n\n<p>C# code</p>\n\n<pre><code>class Program\n{\n[DllImport(\"DllTest1.dll\", CallingConvention=CallingConvention.StdCall, SetLastError = true, CharSet = CharSet.Ansi)]\npublic static extern int  init(int imagecount_local, int xres_local, int yres_local);\n\n[DllImport(\"DllTest1.dll\", CallingConvention=CallingConvention.StdCall, SetLastError = true, CharSet = CharSet.Ansi)]\npublic static extern void cleanup();\n\n[DllImport(\"DllTest1.dll\", CallingConvention=CallingConvention.StdCall, SetLastError = true, CharSet = CharSet.Ansi)]\npublic static extern void loadItem(int index, byte[] data);\n\n[DllImport(\"DllTest1.dll\", CallingConvention=CallingConvention.StdCall, SetLastError = true, CharSet = CharSet.Ansi)]\npublic static extern void compute(byte[] buffer);\n\nstatic void Main(string[] args)\n{\n\n    int x = 4, y = 3;\n    int total = x * y * 3;\n    Console.WriteLine(init(5, x, y));\n\n    byte[] a = new byte[total];\n\n    compute(a);\n    for (int i = 0; i &lt; total; i++)\n    {\n        Console.WriteLine(a[i]);\n    }\n\n    byte[] b = new byte[total];\n    for (int i = 0; i &lt; total; i++)\n    {\n        b[i] = (byte)i;\n    }\n    loadItem(0, b);\n    loadItem(1, b);\n\n    compute(a);\n    for (int i = 0; i &lt; total; i++)\n    {\n        Console.WriteLine(a[i]);\n    }\n\n    //cleanup();\n    Console.WriteLine(\"The cat chased the mouse\");\n    Console.ReadKey();\n    Console.WriteLine(\"The mouse chased the cat\");\n    return;\n}\n}\n</code></pre>\n"}, {"tags": ["javascript", "c#", "angularjs", "http-status-code-504"], "comments": [{"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 0, "creation_date": 1519861190, "post_id": 49040409, "comment_id": 85086198, "body": "The errors msg implies that your cors config is not working, post your config code"}, {"owner": {"reputation": 31, "user_id": 2930512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec664406133095b694671ded7a94c29c?s=128&d=identicon&r=PG&f=1", "display_name": "Pelissonik", "link": "https://stackoverflow.com/users/2930512/pelissonik"}, "reply_to_user": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 0, "creation_date": 1519862297, "post_id": 49040409, "comment_id": 85086535, "body": "We had implemented just the config.EnableCors(), the weird point is that we have another angular page on the very same origin performing requests to the very same server"}, {"owner": {"reputation": 3161, "user_id": 279782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0681ad719a0cc84203a43691357bb41f?s=128&d=identicon&r=PG", "display_name": "roryhewitt", "link": "https://stackoverflow.com/users/279782/roryhewitt"}, "edited": false, "score": 0, "creation_date": 1519953170, "post_id": 49040409, "comment_id": 85127601, "body": "Can you post a full set of request/response headers for your failing POST request? Basically, if they show that there is no A-C-A-O response header, then maybe your code to add headers is incorrect."}], "answers": [{"tags": [], "owner": {"reputation": 3161, "user_id": 279782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0681ad719a0cc84203a43691357bb41f?s=128&d=identicon&r=PG", "display_name": "roryhewitt", "link": "https://stackoverflow.com/users/279782/roryhewitt"}, "is_accepted": false, "score": 0, "last_activity_date": 1519953303, "creation_date": 1519953303, "answer_id": 49061289, "question_id": 49040409, "link": "https://stackoverflow.com/questions/49040409/angularjs-c-webapi-works-locally-and-after-deploy-gives-no-access-control-allow/49061289#49061289", "title": "AngularJS C# webapi works locally and after deploy gives No Access-Control-Allow-Origin", "body": "<p>If you're getting a 504 Gateway Timeout, then your app is somehow not responding. Since the 504 response is just a basic error returned by the web server, it won't include all the CORS headers you've explicitly added, so you'll see the CORS error message.</p>\n\n<p>As soon as you resolve the underlying cause of the 504 error, you'll see the CORS headers in the response.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 2930512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec664406133095b694671ded7a94c29c?s=128&d=identicon&r=PG&f=1", "display_name": "Pelissonik", "link": "https://stackoverflow.com/users/2930512/pelissonik"}, "is_accepted": true, "score": 0, "last_activity_date": 1520186677, "creation_date": 1520186677, "answer_id": 49098589, "question_id": 49040409, "link": "https://stackoverflow.com/questions/49040409/angularjs-c-webapi-works-locally-and-after-deploy-gives-no-access-control-allow/49098589#49098589", "title": "AngularJS C# webapi works locally and after deploy gives No Access-Control-Allow-Origin", "body": "<p>Well, I've figured out what happened, there were a method throwing an exception then I was seeing a CORS exception. So I did change this method to and then no more exception.</p>\n\n<p>Thank you all </p>\n"}], "owner": {"reputation": 31, "user_id": 2930512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec664406133095b694671ded7a94c29c?s=128&d=identicon&r=PG&f=1", "display_name": "Pelissonik", "link": "https://stackoverflow.com/users/2930512/pelissonik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 49098589, "answer_count": 2, "score": -1, "last_activity_date": 1585620160, "creation_date": 1519860924, "last_edit_date": 1585620160, "question_id": 49040409, "link": "https://stackoverflow.com/questions/49040409/angularjs-c-webapi-works-locally-and-after-deploy-gives-no-access-control-allow", "title": "AngularJS C# webapi works locally and after deploy gives No Access-Control-Allow-Origin", "body": "<p>Folks, I am  an having this issue below, when I tested locally both angularjs and C# webapi, worked perfectly, after the deploy on the server, it doesn't work anymore.</p>\n\n<p>The Interest point is I do have another page, which points to the same server, basically, I made a copy of this working feature and just updated the values, I've checked the files closely to check if the main methods were changed and they were not.</p>\n\n<p>Note: Yes, CORS is already enabled and I tried a lot of different configurations</p>\n\n<p>Does anyone have an Idea what this can be?</p>\n\n<blockquote>\n  <p>POST  504 (GATEWAY_TIMEOUT)</p>\n  \n  <p>(index):1 Failed to load \n  [URL_ENDPOINT_C#_WEBAPI]\n  No 'Access-Control-Allow-Origin' header is present on the requested\n  resource. Origin [ANGULAR_WEBSITE] is therefore not allowed\n  access. The response had HTTP status code 504.</p>\n</blockquote>\n\n<p>EDIT: Forgot to mention we do have on web.config:</p>\n\n<pre><code> &lt;customHeaders&gt;\n        &lt;add name=\"Access-Control-Allow-Origin\" value=\"*\" /&gt;\n        &lt;add name=\"Access-Control-Allow-Headers\" value=\"Content-Type, Authorization, Accept, X-Requested-With\" /&gt;\n        &lt;add name=\"Access-Control-Allow-Methods\" value=\"OPTIONS, TRACE, GET, HEAD, POST, PUT\" /&gt;\n      &lt;/customHeaders&gt;\n</code></pre>\n\n<p>and on our WebApiConfig.cs on the Register Method</p>\n\n<pre><code>config.EnableCors();\n</code></pre>\n"}, {"tags": ["c#", "enums"], "comments": [{"owner": {"reputation": 688, "user_id": 4648586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/XlHgj.png?s=128&g=1", "display_name": "Bagus Tesa", "link": "https://stackoverflow.com/users/4648586/bagus-tesa"}, "edited": false, "score": 0, "creation_date": 1519860680, "post_id": 49040325, "comment_id": 85086065, "body": "<i>which uses a home-grown entity framework which comes as a referenced DLL</i> it sounds.. dangerous.. regarding the <code>enum</code> things, perhaps you could use static classes to store the string options.. since <a href=\"https://stackoverflow.com/questions/630803/associating-enums-with-strings-in-c-sharp\">c#&#39;s enum can&#39;t store string</a>.. which kind of sad.."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1519862980, "post_id": 49040325, "comment_id": 85086734, "body": "You can&#39;t overload setters in C# like that, can you? Or is this a C#7 thing? Even without the custom EF, you&#39;d get a compile error about &quot;Cannot implicitly convert <code>string</code> to <code>Things</code>&quot; if you tried to do <code>var foo = new MyClass { b = &quot;Something&quot; };</code>"}, {"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1519864874, "post_id": 49040325, "comment_id": 85087178, "body": "Maybe if you put the code in your setter instead of in a totally different function it may work..."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1519879382, "post_id": 49040325, "comment_id": 85090564, "body": "But why do you think &quot;set_b&quot; method has any relation to <code>b</code> property? It&#39;s completely separate one and has nothing to do with <code>b</code>."}, {"owner": {"reputation": 2352, "user_id": 2721750, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e1af0fe64ab102f3aa259675c114ac?s=128&d=identicon&r=PG&f=1", "display_name": "ajeh", "link": "https://stackoverflow.com/users/2721750/ajeh"}, "reply_to_user": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1519920016, "post_id": 49040325, "comment_id": 85112025, "body": "@Gusman Did you try to create a setter which would take a <code>string</code> value parameter for an <code>enum</code> field? And did that work?"}, {"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1519928180, "post_id": 49040325, "comment_id": 85116878, "body": "@ajeh Obviously it doesn&#39;t works just pasting your code in the setter, but a sepparate function which is never called will do nothing. The solution is to change the type of <code>b</code> from <code>Thing</code> to <code>string</code> or <code>object</code> and create another property called <code>bThing</code> of type <code>Thing</code> and set the value of <code>bThing</code> from the <code>b</code> setter."}, {"owner": {"reputation": 2352, "user_id": 2721750, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e1af0fe64ab102f3aa259675c114ac?s=128&d=identicon&r=PG&f=1", "display_name": "ajeh", "link": "https://stackoverflow.com/users/2721750/ajeh"}, "reply_to_user": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1519934953, "post_id": 49040325, "comment_id": 85120441, "body": "@Gusman I&#39;d rather not hack it that way as it would make code less readable than it is now, before my attempted change."}], "owner": {"reputation": 2352, "user_id": 2721750, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e1af0fe64ab102f3aa259675c114ac?s=128&d=identicon&r=PG&f=1", "display_name": "ajeh", "link": "https://stackoverflow.com/users/2721750/ajeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1519860315, "creation_date": 1519860315, "question_id": 49040325, "link": "https://stackoverflow.com/questions/49040325/an-overloaded-setter-not-called-for-assigning-a-string-to-an-enum-field", "title": "An overloaded setter not called for assigning a string to an enum field", "body": "<p>Working with an application which uses a home-grown entity framework which comes as a referenced DLL (no source code), I have to access SQL data using its methods, like:</p>\n\n<pre><code>var allMyClasses = EF.ReadTable&lt;MyClass&gt;(\"select a, b, c from myTable\")\n</code></pre>\n\n<p>This call returns <code>IList&lt;MyClass&gt;</code>. Whenever <code>MyClass</code> has a string member, which can take a value from a pre-defined list, I am tempted to refactor it into an <code>enum</code> as follows:</p>\n\n<pre><code>enum Things{ Something, Anotherthing }\n\nclass MyClass{\n  public int a {get; set;}\n  public Things b {get; set;}\n\n  public void set_b(string value)\n  {\n    if(Enum.TryParse(value, out Things th))\n    {\n      b = th;\n    }\n    else throw new ArgumentException(\"Unsupported thing: {}\", th);\n  }\n\n  public string c {get; set;}\n}\n</code></pre>\n\n<p>My assumption was that as long as there was an overloaded setter for <code>b</code> which took a <code>string</code> argument, conversion from the string retrieved from the DB to the <code>enum Things</code> should be automatic. Instead I keep getting a runtime exception:</p>\n\n<blockquote>\n  <p>System.ArgumentException: 'Object of type 'System.String' cannot be\n  converted to type 'Things'.'</p>\n</blockquote>\n\n<p>This is a shortcoming of the homegrown EF which does not know how to assign a <code>string</code> to an <code>enum</code>. Is there any way to work around that in my code without writing more than a few lines of code?</p>\n"}, {"tags": ["c#", ".net", "visual-studio"], "comments": [{"owner": {"reputation": 1090, "user_id": 7396598, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4b5d7500a00bd4aa5a9be5f61b032dfa?s=128&d=identicon&r=PG", "display_name": "user7396598", "link": "https://stackoverflow.com/users/7396598/user7396598"}, "edited": false, "score": 1, "creation_date": 1519860888, "post_id": 49040324, "comment_id": 85086120, "body": "You have a reference in the MBSA project to your AdministrativeAccount project?  Do you also have an entry point in MBSA?  A class that checks if MBSA is installed, if so do AdminAccount.xyz, else install MBSA then do AdminAccount.xyz?"}, {"owner": {"reputation": 99, "user_id": 7758460, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zi2k8wZUhmM/AAAAAAAAAAI/AAAAAAAAAEg/F-rScZ1d9vU/photo.jpg?sz=128", "display_name": "Ryan Essex", "link": "https://stackoverflow.com/users/7758460/ryan-essex"}, "reply_to_user": {"reputation": 1090, "user_id": 7396598, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4b5d7500a00bd4aa5a9be5f61b032dfa?s=128&d=identicon&r=PG", "display_name": "user7396598", "link": "https://stackoverflow.com/users/7396598/user7396598"}, "edited": false, "score": 0, "creation_date": 1519861597, "post_id": 49040324, "comment_id": 85086322, "body": "Firstly, I appreciate the fast response on this issue. when you say entry point are you talking about the line &quot;&#39;Administrator Account&#39; Admin = new &#39;Administrator Account&#39;&quot;? If so then yes, I have tried this and it doesn&#39;t recognize the &quot;administrator Account&quot; as something usable and redlines it. im not at my work terminal so I can&#39;t give you the specific error currently but will be more than happy to provide it tomorrow morning."}], "owner": {"reputation": 99, "user_id": 7758460, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zi2k8wZUhmM/AAAAAAAAAAI/AAAAAAAAAEg/F-rScZ1d9vU/photo.jpg?sz=128", "display_name": "Ryan Essex", "link": "https://stackoverflow.com/users/7758460/ryan-essex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519862722, "creation_date": 1519860314, "question_id": 49040324, "link": "https://stackoverflow.com/questions/49040324/invoke-multiple-projects-from-a-single-solution-visual-studio", "title": "invoke multiple projects from a single solution Visual Studio", "body": "<p>OK, I'm going to try this question again because there seemed to be alot of confusion from people before.</p>\n\n<p>To give an example of my issue. I have one project that is named \"MBSA\", and Another project that is named \"Administrative Account\". </p>\n\n<p>So \"MBSA\" runs first and is a windows form that asks the user if they want the MBSA tool downloaded and installed. </p>\n\n<p>After the answer is given on \"MBSA\" I want that answer to output to my INI file which i've done and then move on to opening \"Administrative Account\" (which is a console collecting information).</p>\n\n<p>I can not get this to happen from the \"MBSA\" Project. </p>\n\n<p>I can add the reference but have not been able to add it to the \"using statements\" or the body of code as a final step in \"MBSA\"</p>\n\n<p>I've tried be as descriptive as possible with this question hopefully I have covered all the pertinent points. any assistance would be appreciated.</p>\n"}, {"tags": ["c#", "json", "asp.net-mvc", "alexa"], "comments": [{"owner": {"reputation": 1462, "user_id": 4623533, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/18ca3490d43119d6713e08b71fad0f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Syntax Error", "link": "https://stackoverflow.com/users/4623533/syntax-error"}, "edited": false, "score": 1, "creation_date": 1519862250, "post_id": 49040308, "comment_id": 85086523, "body": "Is this a dateformat issue? I think in Amazon json you need dates in this format: <code>yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;.0Z&#39;.</code> - so like this <code>&quot;updateDate&quot;: &quot;2017-04-13T21:15:11.0Z&quot;,</code>"}, {"owner": {"reputation": 23, "user_id": 6267892, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-mc7auQ5lYxw/AAAAAAAAAAI/AAAAAAAAIds/GPLaIE1TZkM/photo.jpg?sz=128", "display_name": "Jeremy T", "link": "https://stackoverflow.com/users/6267892/jeremy-t"}, "reply_to_user": {"reputation": 1462, "user_id": 4623533, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/18ca3490d43119d6713e08b71fad0f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Syntax Error", "link": "https://stackoverflow.com/users/4623533/syntax-error"}, "edited": false, "score": 0, "creation_date": 1519867887, "post_id": 49040308, "comment_id": 85087847, "body": "Thank you Mr JF, I&#39;ll try that right now I bet that is the issue."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6267892, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-mc7auQ5lYxw/AAAAAAAAAAI/AAAAAAAAIds/GPLaIE1TZkM/photo.jpg?sz=128", "display_name": "Jeremy T", "link": "https://stackoverflow.com/users/6267892/jeremy-t"}, "edited": false, "score": 0, "creation_date": 1519867917, "post_id": 49041073, "comment_id": 85087852, "body": "I&#39;ll try that. Thank you."}, {"owner": {"reputation": 23, "user_id": 6267892, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-mc7auQ5lYxw/AAAAAAAAAAI/AAAAAAAAIds/GPLaIE1TZkM/photo.jpg?sz=128", "display_name": "Jeremy T", "link": "https://stackoverflow.com/users/6267892/jeremy-t"}, "edited": false, "score": 0, "creation_date": 1519868880, "post_id": 49041073, "comment_id": 85088074, "body": "Worked, the date format was the only problem. Thank you so much mdemir!"}, {"owner": {"reputation": 90, "user_id": 4245000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72f80c0289616c419d09ee5b4a475da3?s=128&d=identicon&r=PG&f=1", "display_name": "mdemir", "link": "https://stackoverflow.com/users/4245000/mdemir"}, "reply_to_user": {"reputation": 23, "user_id": 6267892, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-mc7auQ5lYxw/AAAAAAAAAAI/AAAAAAAAIds/GPLaIE1TZkM/photo.jpg?sz=128", "display_name": "Jeremy T", "link": "https://stackoverflow.com/users/6267892/jeremy-t"}, "edited": false, "score": 0, "creation_date": 1519872602, "post_id": 49041073, "comment_id": 85088951, "body": "Glad to hear that :)"}, {"owner": {"reputation": 1462, "user_id": 4623533, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/18ca3490d43119d6713e08b71fad0f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Syntax Error", "link": "https://stackoverflow.com/users/4623533/syntax-error"}, "edited": false, "score": 0, "creation_date": 1519896167, "post_id": 49041073, "comment_id": 85097268, "body": "Nice steal @mdemir :)"}], "tags": [], "owner": {"reputation": 90, "user_id": 4245000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72f80c0289616c419d09ee5b4a475da3?s=128&d=identicon&r=PG&f=1", "display_name": "mdemir", "link": "https://stackoverflow.com/users/4245000/mdemir"}, "is_accepted": true, "score": 1, "last_activity_date": 1519866009, "creation_date": 1519866009, "answer_id": 49041073, "question_id": 49040308, "link": "https://stackoverflow.com/questions/49040308/amazon-alexa-says-my-json-is-invalid-and-i-dont-know-what-to-do-to-fix-it/49041073#49041073", "title": "Amazon Alexa says my json is invalid and I dont know what to do to fix it", "body": "<p>Your JSON is valid. Your issue might be related to date format.</p>\n\n<p>Try using <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> date format which is very common.</p>\n\n<blockquote>\n  <p>\"updateDate\" : \"2018-02-28T12:00:00.0Z\"</p>\n</blockquote>\n"}], "owner": {"reputation": 23, "user_id": 6267892, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-mc7auQ5lYxw/AAAAAAAAAAI/AAAAAAAAIds/GPLaIE1TZkM/photo.jpg?sz=128", "display_name": "Jeremy T", "link": "https://stackoverflow.com/users/6267892/jeremy-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 49041073, "answer_count": 1, "score": 0, "last_activity_date": 1519866009, "creation_date": 1519860194, "last_edit_date": 1519860667, "question_id": 49040308, "link": "https://stackoverflow.com/questions/49040308/amazon-alexa-says-my-json-is-invalid-and-i-dont-know-what-to-do-to-fix-it", "title": "Amazon Alexa says my json is invalid and I dont know what to do to fix it", "body": "<p>I'm making an Alexa flash briefing skill and need to return json from my URL. I have the following in my homecontroller</p>\n\n<pre><code>[HttpGet]\npublic ActionResult Feed(string id)\n{\n    Helper.TodaysWord help = new Helper.TodaysWord();\n    return Content(help.jsonBuilder(id), \"application/json\");\n}\n</code></pre>\n\n<p>Going to the URL gives me the following json.</p>\n\n<pre><code>{\"uid\":\"7a257633-4032-4593-a1be-a354a395aced\",\"updateDate\":\"2/28/2018 12:00:00 AM\",\"titleText\":\"Today's Japanese\",\"mainText\":\"Test, put word and definition here\",\"redirectionUrl\":\"HTTP://www.LostDutchmanSoftware.com\"}\n</code></pre>\n\n<p>I get \"Error: There was an error parsing the feed. Please ensure that the feed is valid JSON or RSS.\" when amazon try's to validate the source. I'm really new to this please help.</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 1100, "user_id": 2180096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TQmOp.png?s=128&g=1", "display_name": "Aleksei Semidotskii", "link": "https://stackoverflow.com/users/2180096/aleksei-semidotskii"}, "edited": false, "score": 1, "creation_date": 1519879303, "post_id": 49040281, "comment_id": 85090538, "body": "could you provide the structure of the xml file you work with."}, {"owner": {"reputation": 997, "user_id": 3883460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7756add873beb7ea3448f86bda3591a?s=128&d=identicon&r=PG", "display_name": "Rojalin Sahoo", "link": "https://stackoverflow.com/users/3883460/rojalin-sahoo"}, "edited": false, "score": 0, "creation_date": 1519884004, "post_id": 49040281, "comment_id": 85091905, "body": "didn&#39;t get what is your issue? Are you saying while selecting Country dropdown selectedIndexchange of State is not hitting or from xml file you want to upload the selected data in form?"}, {"owner": {"reputation": 34313, "user_id": 121309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a620f1f95441b8bde0e6c2c5140581d?s=128&d=identicon&r=PG", "display_name": "Hans Ke\ufb06ing", "link": "https://stackoverflow.com/users/121309/hans-ke%ef%ac%86ing"}, "edited": false, "score": 0, "creation_date": 1519911569, "post_id": 49040281, "comment_id": 85106186, "body": "You may want to add a few more <code>.ToList()</code>. Then add breakpoints to your &quot;selectedIndexChanged&quot; methods and inspect the resulting lists - do they contain the values you expected?"}], "owner": {"reputation": 1, "user_id": 9420190, "user_type": "registered", "profile_image": "https://graph.facebook.com/860048554177281/picture?type=large", "display_name": "Akhil ", "link": "https://stackoverflow.com/users/9420190/akhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519900939, "creation_date": 1519859953, "last_edit_date": 1519900939, "question_id": 49040281, "link": "https://stackoverflow.com/questions/49040281/how-to-debug-my-countrystatescities-code-so-it-displays-states-and-cities", "title": "How to debug my country&gt;states&gt;cities code so it displays states and cities?", "body": "<pre><code>private void Form2_Load(object sender, EventArgs e)\n{\n    var countries = from country in xdoc.Descendants(\"countries\").Elements(\"country\").Attributes(\"name\")\n                    select country.Value;\n    comboBox_country.DataSource = countries.ToList()\n}\n\nprivate void comboBox_country_SelectedIndexChanged(object sender, EventArgs e)\n{\n    var states = from country in xdoc.Descendants(\"countries\").Elements(\"country\")\n                 where country.Attribute(\"name\").Value == comboBox_country.SelectedValue\n                 select country;\n\n    var s = from state in states.Elements(\"state\")\n            select state.Value;\n    comboBox_state.DataSource = s.ToList();\n}\n\nprivate void comboBox_state_SelectedIndexChanged(object sender, EventArgs e)\n{\n    var cities = from state in xdoc.Descendants(\"state\").Elements(\"state\")\n                 where state.Attribute(\"name\").Value == comboBox_state.SelectedValue\n                 select state;\n\n    var c = from city in cities.Elements(\"city\")\n            select city.Value;\n           comboBox_city.DataSource = c.ToList();\n}\n</code></pre>\n\n<p>Where do I need to do modifications?</p>\n\n<p>I am trying to select countries related to states and related cities. I've created an XML file and trying to read from that XML file into a win form layout which has countries state city as labels and corresponding combo boxes.</p>\n"}, {"tags": ["c#", "selenium", "xpath", "selenium-webdriver", "css-selectors"], "comments": [{"owner": {"reputation": 204, "user_id": 3471335, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/09d7f8f59467f032d1c68e4ee9335d20?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Garg", "link": "https://stackoverflow.com/users/3471335/saurabh-garg"}, "edited": false, "score": 0, "creation_date": 1519876998, "post_id": 49040148, "comment_id": 85089987, "body": "why can&#39;t you use findElements?"}, {"owner": {"reputation": 4194, "user_id": 8164333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lCAZ3.jpg?s=128&g=1", "display_name": "iamsankalp89", "link": "https://stackoverflow.com/users/8164333/iamsankalp89"}, "edited": false, "score": 0, "creation_date": 1519881989, "post_id": 49040148, "comment_id": 85091307, "body": "What exactly you want not gettable"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1519886026, "post_id": 49040148, "comment_id": 85092621, "body": "<code>items which are added to the cart</code> can&#39;t have the same <code>Text</code> as <b>TEXT</b> and <b>TEXT</b>. Update the question with relevant <i>HTML</i>."}], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 9175771, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/2cf347ab4bb80f5f6ed8054ab9a8609c?s=128&d=identicon&r=PG&f=1", "display_name": "shivam", "link": "https://stackoverflow.com/users/9175771/shivam"}, "is_accepted": false, "score": 0, "last_activity_date": 1519888518, "creation_date": 1519888518, "answer_id": 49044452, "question_id": 49040148, "link": "https://stackoverflow.com/questions/49040148/how-to-find-text-in-list-if-they-have-a-similar-path/49044452#49044452", "title": "How to find text in list, if they have a similar path", "body": "<p>use can use dynamic xpath such as in your case: //div[@id='cartList2']/div[3]/div/div/span, you can edit div index as you need</p>\n"}], "owner": {"reputation": 1, "user_id": 9419034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EZVmJ.jpg?s=128&g=1", "display_name": "AnnaStarling", "link": "https://stackoverflow.com/users/9419034/annastarling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519888518, "creation_date": 1519859181, "question_id": 49040148, "link": "https://stackoverflow.com/questions/49040148/how-to-find-text-in-list-if-they-have-a-similar-path", "title": "How to find text in list, if they have a similar path", "body": "<p>I recently started to learn selenium, c# </p>\n\n<p>Please, help me to resolve my problem.</p>\n\n<p>In my project, items are added to the cart.\nAnd I need to check that they're added.For this purpose I am trying to find the text use XPath, CssSelector or ClassName. But in result I have one Error, Driver finds first element, compares and show error: the text does not match</p>\n\n<p>How to get him to look further down the tree ? </p>\n\n<p>Or some shorter way? If imagine 30 items in the cart,this process will take a long time....</p>\n\n<p>Example, when I use Xpath:</p>\n\n<pre><code>Assert.AreEqual(\"text to search\",\n            driver.FindElement(By.XPath(\"//div[@id='cartList2']/div[3]/div/div/span\")).Text);\n</code></pre>\n\n<p>But, all items have the similar path, each item can be div[1]-2-3-4-5....(Depending on the order in which it was added)</p>\n\n<p>Example of my page:</p>\n\n<pre><code>&lt;div id=\"cartList2\" class=\"k-listview k-widget\"&gt;\n    &lt;div data-uid=\"c45003ff-536a-4293-b494-c6dde56c2d02\" class=\"card-view k-widget ng-scope\"&gt;\n        &lt;div class=\"row col-sm-12\"&gt;\n                &lt;span bs-tooltip=\"\" data-trigger=\"hover\" data-container=\"body\" data-placement=\"top\" data-title=\"TEXT\" class=\"col-xs-6 col-sm-6 description ng-scope ng-binding\"&gt;TEXT&lt;/span&gt;\n            &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div data-uid=\"91177f92-d790-47eb-8121-22eebe9e2610\" class=\"card-view k-widget ng-scope\"&gt;\n        &lt;div class=\"row col-sm-12\"&gt;\n                &lt;span bs-tooltip=\"\" data-trigger=\"hover\" data-container=\"body\" data-placement=\"top\" data-title=\"TEXT\" class=\"col-xs-6 col-sm-6 description ng-scope ng-binding\"&gt;TEXT&lt;/span&gt;\n            &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["c#", "winapi", "named-pipes"], "comments": [{"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1519860969, "post_id": 49040132, "comment_id": 85086139, "body": "<code>Pipe is broken</code> on write say about pipe handle has been closed already"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1519861566, "post_id": 49040132, "comment_id": 85086317, "body": "@RbMm Yes, I understand that, but why did it die? The problem is the original <code>All pipe instances are busy.</code> error message, which results in the pipe dying, but why is it an error to read from the pipe at all?"}], "answers": [{"comments": [{"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1519863509, "post_id": 49040703, "comment_id": 85086851, "body": "This is wrong. I can easily create named pipes using <a href=\"https://github.com/psmay/windows-named-pipe-utils\" rel=\"nofollow noreferrer\">tools which directly work with the Windows API</a>, and interact with them using <code>echo foo &gt; \\\\.\\pipe\\foo</code> or <code>type \\\\.\\pipe\\foo</code>. A demonstration: <a href=\"https://i.imgur.com/vq6gwBd.gifv\" rel=\"nofollow noreferrer\">i.imgur.com/vq6gwBd.gifv</a>"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1519863539, "post_id": 49040703, "comment_id": 85086856, "body": "On Windows, named pipes are connected to using the Win32 <code>CreateFile()</code> function, which is the most common way to open a file by name. It stands to reason that the <code>type</code> command of the Command Window would use <code>CreateFile()</code> to open a requested file, in which case it can also open a named pipe. This is also evident by the <code>busy</code> error message, which is an error that <code>CreateFile()</code> does report: &quot;<i>If there is at least one active pipe instance but there are no available listener pipes on the server, which means all pipe instances are currently connected, CreateFile fails with ERROR_PIPE_BUSY.</i>&quot;"}], "tags": [], "owner": {"reputation": 534, "user_id": 4638482, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DTtV7_0SQrE/AAAAAAAAAAI/AAAAAAAAAEY/tk7gR6Jgb4w/photo.jpg?sz=128", "display_name": "Sattar Imamov", "link": "https://stackoverflow.com/users/4638482/sattar-imamov"}, "is_accepted": false, "score": -2, "last_activity_date": 1519863087, "creation_date": 1519863087, "answer_id": 49040703, "question_id": 49040132, "link": "https://stackoverflow.com/questions/49040132/emulating-process-substitution-using-named-pipes/49040703#49040703", "title": "Emulating process substitution using named pipes", "body": "<p>You have no access through command line interface for Windows named pipes. See <a href=\"http://en.wikipedia.org/wiki/Named_pipe\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Named_pipe</a> for more info</p>\n"}, {"comments": [{"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1519866712, "post_id": 49041126, "comment_id": 85087602, "body": "Thanks for investigating this. Is the <code>GetFileAttributes</code> call also the underlying factor in the <code>ERROR_PIPE_BUSY</code> I&#39;m getting (perhaps both the <code>CreateFile</code> and <code>GetFileAttributes</code> are happening simultaneously)? I&#39;ll try setting up the server so it serves the file to an unlimited number of clients that connect within a timespan."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1519866812, "post_id": 49041126, "comment_id": 85087622, "body": "PS: could you please tell me what tool you used to trace the underlying windows API calls?"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "reply_to_user": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1519866938, "post_id": 49041126, "comment_id": 85087657, "body": "the error <code>STATUS_PIPE_NOT_AVAILABLE</code> is got <i>cmd.exe</i> on call <code>CreateFile</code>. it translate it to <code>ERROR_PIPE_BUSY</code>. I use debugger. callstack in cmd.exe"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "reply_to_user": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1519867130, "post_id": 49041126, "comment_id": 85087695, "body": "with 2 running pipe ends on testpipe (with close just after write and start listen again on disconnect event) cmd correct print message with I write, however this is random. cmd not design to work with named pipes via type."}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "reply_to_user": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1519867269, "post_id": 49041126, "comment_id": 85087730, "body": "@AsadSaeeduddin - however if you use redirected std handles instead <code>type</code> command - all worked well"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1519867432, "post_id": 49041126, "comment_id": 85087756, "body": "Yes, this is the behavior I&#39;m seeing as well. <code>cat &lt; \\\\.\\pipe\\foo</code> will work, but <code>cat \\\\.\\pipe\\foo</code> will not. This is unfortunate, because I&#39;m trying to make an equivalent for bash process substitution, and need this to work with all windows executables that can accept a filename. I guess this kind of thing simply won&#39;t work generally on windows without emitting to a file."}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "reply_to_user": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1519867970, "post_id": 49041126, "comment_id": 85087865, "body": "@AsadSaeeduddin - if executable design for work with std handles - you can use pipe here and all will be perfect worked if server code design well (enough single async pipe instance for both in-out). but if you pass <i>name</i> of pipe instead <i>handle</i> - here already can random work (for some programs) or not. pipe can be opened only once. first close - break connection (unlike usual file - not breaked on close). even query file attributes before open - break all."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1519869004, "post_id": 49041126, "comment_id": 85088105, "body": "If I follow the workaround I suggested above, where I simply start multiple pipe servers on different threads and replay the process output for all of them, it actually works. The problem is that I have another bug; doing <code>process.StandardOutput.BaseStream.CopyTo(pipeServer)</code> doesn&#39;t actually block threads in the child process that are trying to write to standard output, as I thought would be the case. I just get however much of the child process&#39;s output was available thus far emitted to the <code>type \\\\.\\pipe\\testpipe</code>."}], "tags": [], "owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "is_accepted": true, "score": 2, "last_activity_date": 1519866363, "creation_date": 1519866363, "answer_id": 49041126, "question_id": 49040132, "link": "https://stackoverflow.com/questions/49040132/emulating-process-substitution-using-named-pipes/49041126#49041126", "title": "Emulating process substitution using named pipes", "body": "<p>when you use <code>type &lt;some_file_name&gt;</code> in cmd - it first call <code>GetFileAttributes</code> for this <code>&lt;some_file_name&gt;</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/v1jvZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v1jvZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>the <code>GetFileAttributes</code> internal (inside kernel) temporary open file, for query it attributes (really - need query file-system device for this and for send query request - need open file).</p>\n\n<p>for named pipe file this have fatal side effect - server end was connected (on open file) and just disconnected (on close).</p>\n\n<p>only after this cmd (again) open file</p>\n\n<p><a href=\"https://i.stack.imgur.com/lMfYG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lMfYG.png\" alt=\"enter image description here\"></a></p>\n\n<p>but your pipe server already not listen (after disconnect). as result cmd usual receive <code>STATUS_PIPE_NOT_AVAILABLE</code> error - <em>An instance of a named pipe cannot be found in the listening state.</em> - it translated to win32 error <code>ERROR_PIPE_BUSY</code> - <em>All pipe instances are busy</em></p>\n\n<p>as separate note - 3 different status errors:</p>\n\n<p><code>STATUS_INSTANCE_NOT_AVAILABLE</code> (<em>The maximum named pipe instance count has been reached.</em>)</p>\n\n<p><code>STATUS_PIPE_NOT_AVAILABLE</code> (<em>An instance of a named pipe cannot be found in the listening state.</em>)</p>\n\n<p>and <code>STATUS_PIPE_BUSY</code> translated to the same single win32 error <code>ERROR_PIPE_BUSY</code>. but in your case original error was exactly <code>STATUS_PIPE_NOT_AVAILABLE</code></p>\n\n<p>conclusion - cmd <code>type</code> command not design to interact with pipes. or as alternative you need create how minimum 2 pipe ends on same pipe name.</p>\n"}], "owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 873, "favorite_count": 0, "accepted_answer_id": 49041126, "answer_count": 2, "score": 0, "last_activity_date": 1519866363, "creation_date": 1519859077, "last_edit_date": 1519861949, "question_id": 49040132, "link": "https://stackoverflow.com/questions/49040132/emulating-process-substitution-using-named-pipes", "title": "Emulating process substitution using named pipes", "body": "<p>I'm trying to start a child process in .NET and redirect its output to a named pipe. Attempts to write to stdout in the child process should block until a client actually reads from the named pipe.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>using System;\nusing System.Diagnostics;\nusing System.IO.Pipes;\n\nnamespace psub\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            var pipeName = \"testpipe\"; // Guid.NewGuid().ToString();\n            Console.WriteLine($@\"\\\\.\\pipe\\{pipeName}\");\n\n            var psi = new ProcessStartInfo()\n            {\n                FileName = \"ping\",\n                Arguments = \"google.com\",\n\n                UseShellExecute = false,\n                RedirectStandardOutput = true\n            };\n\n            using (var pipeServer = new NamedPipeServerStream(pipeName, PipeDirection.Out))\n            using (var process = new Process { StartInfo = psi })\n            {\n                pipeServer.WaitForConnection();\n                process.Start();\n                process.StandardOutput.BaseStream.CopyTo(pipeServer);\n                process.WaitForExit();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>When I start this executable, it blocks at <code>pipeServer.WaitForConnection();</code>, as expected. I then open a <code>cmd.exe</code> and run <code>type \\\\.\\pipe\\testpipe</code>, to attempt to read from the named pipe [1].</p>\n\n<p>This results in the following error (in the cmd session):</p>\n\n<pre><code>All pipe instances are busy.\n</code></pre>\n\n<p>Moreover, in the C# program, <code>pipeServer.WaitForConnection</code> finishes, and execution proceeds to <code>...CopyTo(pipeServer)</code>, which explodes with:</p>\n\n<pre><code>Unhandled Exception: System.IO.IOException: Pipe is broken.\n</code></pre>\n\n<p>I don't understand why the <code>All pipe instances are busy.</code> error is happening.</p>\n\n<p>From my understanding there is a single server (instantiated in the C# program) that will write to the named pipe. Data will be ferried to the named pipe server on the program's single, blocked thread as soon as execution reaches <code>CopyTo</code>.</p>\n\n<p>There is also a single named pipe client (the <code>type \\\\.\\pipe\\testpipe</code> process), which will relieve the named pipe of the data the server is trying to write.</p>\n\n<p>So why then does the \"All pipe instances are busy\" error occur?</p>\n\n<p>I've experimented unsuccessfully with adjusting <code>new NamedPipeServerStream(pipeName, PipeDirection.Out)</code> to <code>new NamedPipeServerStream(pipeName, PipeDirection.Out, 2)</code>, among other tweaks, but without any real understanding of what the problem is or how this would fix it. Could someone please explain it like I'm five?</p>\n\n<hr>\n\n<p>[1]: The goal is to emulate the <a href=\"https://en.wikipedia.org/wiki/Process_substitution\" rel=\"nofollow noreferrer\">process substitution</a> feature available in UNIX shells, so it is essential that I be able to read from <code>\\\\.\\pipe\\&lt;some file name&gt;</code>, rather than using C++ or .NET to instantiate a client for the pipe.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 1, "creation_date": 1519859281, "post_id": 49040114, "comment_id": 85085634, "body": "You&#39;re calling <code>ReadAllLines</code> twice...so that&#39;s potentially two million lines in memory for a period of time. Why not use <a href=\"https://msdn.microsoft.com/en-us/library/dd383503(v=vs.110).aspx\" rel=\"nofollow noreferrer\">ReadLines</a> instead?"}, {"owner": {"reputation": 141, "user_id": 1560029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d80385303de04adb51841d3dc298f1e0?s=128&d=identicon&r=PG&f=1", "display_name": "null", "link": "https://stackoverflow.com/users/1560029/null"}, "edited": false, "score": 0, "creation_date": 1519859319, "post_id": 49040114, "comment_id": 85085641, "body": "<a href=\"https://stackoverflow.com/questions/2161895/reading-large-text-files-with-streams-in-c-sharp#9643111\" title=\"reading large text files with streams in c sharp%239643111\">stackoverflow.com/questions/2161895/&hellip;</a>  The answer in this question might help."}, {"owner": {"reputation": 29909, "user_id": 347172, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8UvnG.jpg?s=128&g=1", "display_name": "myermian", "link": "https://stackoverflow.com/users/347172/myermian"}, "edited": false, "score": 0, "creation_date": 1519859327, "post_id": 49040114, "comment_id": 85085645, "body": "Unless you utilize asynchronous patterns (async/await recommended), your UI will be non-responsive until the operation is completed."}, {"owner": {"reputation": 949, "user_id": 5762874, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/446806655514681/picture?type=large", "display_name": "Sabir Hossain", "link": "https://stackoverflow.com/users/5762874/sabir-hossain"}, "edited": false, "score": 0, "creation_date": 1519859362, "post_id": 49040114, "comment_id": 85085654, "body": "when you running a loop with  lots of data your UI thread will hang, you have to use` async` <code>await</code> in order to make your UI work when your files are loading"}, {"owner": {"reputation": 31, "user_id": 9081409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YQPO8.jpg?s=128&g=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/9081409/denis"}, "reply_to_user": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1519859641, "post_id": 49040114, "comment_id": 85085738, "body": "@KennethK. It still crashes for some reason"}, {"owner": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "edited": false, "score": 0, "creation_date": 1519859650, "post_id": 49040114, "comment_id": 85085741, "body": "found word should be removed from the file?"}], "answers": [{"comments": [{"owner": {"reputation": 1090, "user_id": 7396598, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4b5d7500a00bd4aa5a9be5f61b032dfa?s=128&d=identicon&r=PG", "display_name": "user7396598", "link": "https://stackoverflow.com/users/7396598/user7396598"}, "edited": false, "score": 0, "creation_date": 1519859679, "post_id": 49040194, "comment_id": 85085752, "body": "This is cleanest and simplest to understand.  OP can also use it to count total number of lines, since OP also did that.  It also utilizes a using block to ensure his reader closes and disposes so he doesn&#39;t have potentially huge amounts of data sticking around in memory.  OP, your ui will still hang until this method finishes, but it will get you desired results without consuming all your memory"}, {"owner": {"reputation": 31, "user_id": 9081409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YQPO8.jpg?s=128&g=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/9081409/denis"}, "edited": false, "score": 0, "creation_date": 1519860077, "post_id": 49040194, "comment_id": 85085887, "body": "Thanks I&#39;ll work with streamreader"}, {"owner": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "edited": false, "score": 0, "creation_date": 1519996787, "post_id": 49040194, "comment_id": 85144930, "body": "I&#39;m not sure C# will handle a task as large as this.  Why not use R or Python, both of which rip through large files quickly and easily.   R:    inputFile &lt;- &quot;foo.txt&quot; con  &lt;- file(inputFile, open = &quot;r&quot;) while (length(oneLine &lt;- readLines(con, n = 1)) &gt; 0) {   myLine &lt;- unlist((strsplit(oneLine, &quot;,&quot;)))   print(myLine) }  close(con) ... or ... Python:  with open(&quot;log.txt&quot;) as infile:     for line in infile:         do_something_with(line)"}], "tags": [], "owner": {"reputation": 2461, "user_id": 1026123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qPZLr.png?s=128&g=1", "display_name": "Artak", "link": "https://stackoverflow.com/users/1026123/artak"}, "is_accepted": false, "score": 3, "last_activity_date": 1519860054, "last_edit_date": 1519860054, "creation_date": 1519859390, "answer_id": 49040194, "question_id": 49040114, "link": "https://stackoverflow.com/questions/49040114/c-how-to-handle-1-million-lines-without-crashing-the-program/49040194#49040194", "title": "C# how to handle 1 million lines without crashing the program?", "body": "<p>You should not really read all the text into memory. Instead change your program to read line-by-line.\nYou can then append each updated/fixed line into a temp file.\nAfter the processing is done, if necessary, overwrite the source file with the temp file.</p>\n\n<p>Here is how you can read file line-by-line:</p>\n\n<pre><code>using (StreamReader sr = new StreamReader(path)) \n{\n    while (sr.Peek() &gt;= 0) \n    {\n        Console.WriteLine(sr.ReadLine());\n    }\n}\n</code></pre>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.io.streamreader.readline(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Here</a> is documentation for StreamReader/StreamWriter classes.</p>\n\n<p>In addition to that, I'd suggest you to switch to <code>async</code> APIs. StreamReader has a <code>ReadLineAsync</code> API too, to satisfy that need. This will allow to avoid lengthy delays of the UI thread.</p>\n"}], "owner": {"reputation": 31, "user_id": 9081409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YQPO8.jpg?s=128&g=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/9081409/denis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 501, "favorite_count": 0, "closed_date": 1519868392, "answer_count": 1, "score": -2, "last_activity_date": 1519860054, "creation_date": 1519858988, "question_id": 49040114, "link": "https://stackoverflow.com/questions/49040114/c-how-to-handle-1-million-lines-without-crashing-the-program", "closed_reason": "Duplicate", "title": "C# how to handle 1 million lines without crashing the program?", "body": "<p>I have a file with 1 million lines. My program is made to check line by line if it contains one of the words that the user requests to be removed. If the line contains the word, it has to be removed and added into the list. Everytime I press Start, the program freezes and nothing shows up in the listbox. However if I add like 1k it will clean the file and display the new file in list. What's the best way to handle this?</p>\n\n<p>My code :</p>\n\n<pre><code>    using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\nusing System.IO;\n\nnamespace BoringAssComboTool\n{\n    public partial class Form2 : Form\n    {\n        List&lt;String&gt; list;\n        string myFile = null;\n        string[] line = null;\n        int linecount = 0;\n        public Form2()\n        {\n            InitializeComponent();\n        }\n\n        private void groupBox1_Enter(object sender, EventArgs e)\n        {\n\n        }\n\n        private void label1_Click(object sender, EventArgs e)\n        {\n\n        }\n\n        private void textBox1_TextChanged(object sender, EventArgs e)\n        {\n\n        }\n        public void button1_Click(object sender, EventArgs e)\n        {\n\n            OpenFileDialog openFileDialog = new OpenFileDialog();\n            openFileDialog.RestoreDirectory = true;\n            openFileDialog.Multiselect = false;\n            openFileDialog.Filter = \"Combo List (*.txt)|*.txt\";\n            openFileDialog.FilterIndex = 1;\n            if (openFileDialog.ShowDialog() == DialogResult.OK)\n            {\n                myFile = openFileDialog.FileName;\n                MessageBox.Show(\"You selected \" + openFileDialog.FileName);\n\n\n\n                linecount = File.ReadAllLines(myFile).Length;\n                label3.Text = \"Total loaded : \" + linecount;\n                line = File.ReadAllLines(myFile);\n                //MessageBox.Show(line[0]);\n                //MessageBox.Show(line[4]);\n                list = File.ReadAllLines(myFile).ToList();\n              //  StreamReader sr = new StreamReader(myFile);\n            }\n\n        }\n\n        private void button3_Click(object sender, EventArgs e)\n        {\n            int removedlines = 0;\n\n\n            string domainSplitted = textBox1.Text;\n            string[] splitDomain = domainSplitted.Split(',');\n            //MessageBox.Show(splitDomain[2]);\n            //MessageBox.Show(splitDomain[3]);\n            //MessageBox.Show(line[2]);\n            int sizeOfArray = splitDomain.Length;\n            // MessageBox.Show(\"Length is \" + sizeOfArray);\n            for (int x = 0; x &lt; sizeOfArray - 1; x++)\n            {\n              //  for (int i = 0; i &lt; linecount - 1; i++) \n              for ( int i = linecount - 1; i&gt;=0; i--)\n                {\n                    if (line[i].Contains(splitDomain[x]))\n                    {\n\n                        list.RemoveAt(i);\n                        string[] lines = list.ToArray();\n                        removedlines++;\n                        label4.Text = \"Total Removed = \" + removedlines;\n                        listBox1.DataSource = list;\n                        // MessageBox.Show(\"there is a match on \" + line[i]);\n                    }\n                }\n            }\n          // listBox1.DataSource = list;\n        }\n\n        private void pictureBox3_Click(object sender, EventArgs e)\n        {\n            this.WindowState = FormWindowState.Minimized;\n        }\n\n        private void pictureBox2_Click(object sender, EventArgs e)\n        {\n            Application.Exit();\n        }\n\n\n\n        private void label3_Click(object sender, EventArgs e)\n        {\n\n        }\n\n        private void button2_Click(object sender, EventArgs e)\n        {\n            // System.IO.File.WriteAllLines(\"Cleaned Combo File.txt\", list);\n            SaveFileDialog save = new SaveFileDialog();\n\n            save.FileName = \"Cleaned Combo File.txt\";\n\n            save.Filter = \"Text File | *.txt\";\n\n            if (save.ShowDialog() == DialogResult.OK)\n\n            {\n\n                StreamWriter writer = new StreamWriter(save.OpenFile());\n\n                for (int i = 0; i &lt; listBox1.Items.Count; i++)\n\n                {\n\n                    writer.WriteLine(listBox1.Items[i].ToString());\n\n                }\n\n                writer.Dispose();\n\n                writer.Close();\n\n                MessageBox.Show(\"Saved succesfully\");\n\n            }\n        }\n        // MessageBox.Show(\"==\" + line[27]);\n\n        protected override void WndProc(ref Message m)\n        {\n            base.WndProc(ref m);\n            if (m.Msg == WM_NCHITTEST)\n                m.Result = (IntPtr)(HT_CAPTION);\n        }\n\n        private const int WM_NCHITTEST = 0x84;\n        private const int HT_CLIENT = 0x1;\n        private const int HT_CAPTION = 0x2;\n\n        private void Form2_Load(object sender, EventArgs e)\n        {\n\n        }\n    }\n    }\n</code></pre>\n"}, {"tags": ["c#", "string", "trim"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 3, "creation_date": 1519858986, "post_id": 49040107, "comment_id": 85085530, "body": "How are you displaying the result string? Are you certain the quotes aren&#39;t just the ones added to indicate the value is a string?"}, {"owner": {"reputation": 3658, "user_id": 1285533, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2QR0F.jpg?s=128&g=1", "display_name": "Yuki Kutsuya", "link": "https://stackoverflow.com/users/1285533/yuki-kutsuya"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1519859089, "post_id": 49040107, "comment_id": 85085576, "body": "@JonathonChase The quotes are still showing up in my .ini file. I use <code>SharpConfig</code> and output it like this: <code>section[txtGame.Text].StringValue = path.Replace(&#39;&quot;&#39;, &#39; &#39;).Trim();</code> But this doesn&#39;t work either."}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1519859220, "post_id": 49040107, "comment_id": 85085615, "body": "And you are saving your changes after making them with <code>SaveToFile</code>?"}, {"owner": {"reputation": 3658, "user_id": 1285533, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2QR0F.jpg?s=128&g=1", "display_name": "Yuki Kutsuya", "link": "https://stackoverflow.com/users/1285533/yuki-kutsuya"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1519859247, "post_id": 49040107, "comment_id": 85085623, "body": "Yes, by using <code>config.SaveToFile(&quot;Config.ini&quot;);</code>"}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1519859359, "post_id": 49040107, "comment_id": 85085650, "body": "Doesn&#39;t <code>SaveToFile</code> add the quotes then?"}, {"owner": {"reputation": 3658, "user_id": 1285533, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2QR0F.jpg?s=128&g=1", "display_name": "Yuki Kutsuya", "link": "https://stackoverflow.com/users/1285533/yuki-kutsuya"}, "reply_to_user": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1519859390, "post_id": 49040107, "comment_id": 85085665, "body": "@SombreroChicken Why would it?"}, {"owner": {"reputation": 4846, "user_id": 2137382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9aa5ae803faa3cc187ecab7a9009fd7?s=128&d=identicon&r=PG", "display_name": "Joe Sewell", "link": "https://stackoverflow.com/users/2137382/joe-sewell"}, "edited": false, "score": 2, "creation_date": 1519859416, "post_id": 49040107, "comment_id": 85085671, "body": "Are these quotes actually the straight quotes you&#39;re using here, such as <code>&quot;</code>, instead of the so-called smart quotes, like <code>\u201c</code> and <code>\u201d</code>? Some operating systems and text editors convert a pair of the former into the latter."}, {"owner": {"reputation": 3658, "user_id": 1285533, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2QR0F.jpg?s=128&g=1", "display_name": "Yuki Kutsuya", "link": "https://stackoverflow.com/users/1285533/yuki-kutsuya"}, "reply_to_user": {"reputation": 4846, "user_id": 2137382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9aa5ae803faa3cc187ecab7a9009fd7?s=128&d=identicon&r=PG", "display_name": "Joe Sewell", "link": "https://stackoverflow.com/users/2137382/joe-sewell"}, "edited": false, "score": 0, "creation_date": 1519859494, "post_id": 49040107, "comment_id": 85085697, "body": "@JoeSewell I&#39;m talking about the straight ones"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1519859687, "post_id": 49040107, "comment_id": 85085757, "body": "My testing shows this looks like the current behavior of SharpConfig, although the github page makes it look like strings aren&#39;t stored with double quotes wrapping them. Reading the StringValue doesn&#39;t return the surrounding quotes."}, {"owner": {"reputation": 3658, "user_id": 1285533, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2QR0F.jpg?s=128&g=1", "display_name": "Yuki Kutsuya", "link": "https://stackoverflow.com/users/1285533/yuki-kutsuya"}, "edited": false, "score": 0, "creation_date": 1519859730, "post_id": 49040107, "comment_id": 85085774, "body": "Do you know how to resolve this?"}, {"owner": {"reputation": 1090, "user_id": 7396598, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4b5d7500a00bd4aa5a9be5f61b032dfa?s=128&d=identicon&r=PG", "display_name": "user7396598", "link": "https://stackoverflow.com/users/7396598/user7396598"}, "edited": false, "score": 1, "creation_date": 1519860047, "post_id": 49040107, "comment_id": 85085876, "body": "try saving a new file with your trimmed value in it as &quot;test.txt&quot; or something instead of the SharpConfig method you&#39;re currently using.  This will isolate whether it is something in SharpConfig, or your code not properly trimming the value.  If it is the SharpConfig write adding quotes, you&#39;ll just need to account for, and strip them, when you read the value back in.  Also, do you use their library to read the save file?  Maybe they already account for them..."}, {"owner": {"reputation": 3658, "user_id": 1285533, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2QR0F.jpg?s=128&g=1", "display_name": "Yuki Kutsuya", "link": "https://stackoverflow.com/users/1285533/yuki-kutsuya"}, "edited": false, "score": 0, "creation_date": 1519860094, "post_id": 49040107, "comment_id": 85085892, "body": "But that keeps me from using their library."}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1519860547, "post_id": 49040107, "comment_id": 85086033, "body": "Are you reading the values from the config from something other that SharpConfig? The quotes shouldn&#39;t change the normal expected behavior of the configuration file as they don&#39;t get added to the returned value."}, {"owner": {"reputation": 3658, "user_id": 1285533, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2QR0F.jpg?s=128&g=1", "display_name": "Yuki Kutsuya", "link": "https://stackoverflow.com/users/1285533/yuki-kutsuya"}, "edited": false, "score": 0, "creation_date": 1519860589, "post_id": 49040107, "comment_id": 85086044, "body": "I&#39;m reading it from the <code>FolderBrowserDialog</code>"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1519861338, "post_id": 49040107, "comment_id": 85086239, "body": "Looking into it further, it looks like SharpConfig will always wrap with quotes if the value has any spaces in it. You may also need to set <code>IgnoreInlineComments</code> to false. The function in play here is on line 548 of <a href=\"https://github.com/cemdervis/SharpConfig/blob/master/SharpConfig/Setting.cs\" rel=\"nofollow noreferrer\">github.com/cemdervis/SharpConfig/blob/master/SharpConfig/&hellip;</a>"}], "owner": {"reputation": 3658, "user_id": 1285533, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2QR0F.jpg?s=128&g=1", "display_name": "Yuki Kutsuya", "link": "https://stackoverflow.com/users/1285533/yuki-kutsuya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519858916, "creation_date": 1519858916, "question_id": 49040107, "link": "https://stackoverflow.com/questions/49040107/cannot-remove-double-quotations-from-string-in-c", "title": "Cannot remove double quotations from string in c#", "body": "<p>So, I've been trying to remove quotes from a string for over an hour now and I can't seem to get it to work. I'm selecting a folder with a <code>FolderBrowserDialog</code>, then I extract the path with <code>SelectedPath</code>. Now I'm trying to remove the quotes around the path but seem to be unable to do so.</p>\n\n<p>I've tried the following:</p>\n\n<pre><code>string path = folderDlg.SelectedPath.Replace('\"', ' ').Trim();\nstring path = folderDlg.SelectedPath.Replace(\"\\\"\", string.Empty).Trim();\n</code></pre>\n\n<p>Result:</p>\n\n<p>They both still have the \" around the string.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "unobtrusive-validation"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1519858998, "post_id": 49040065, "comment_id": 85085538, "body": "You need to give a bit more information, including the signature of the attribute and its constructor (what is <code>_relativePropertyName</code> and <code>_relativeValue</code> and how your setting them)"}, {"owner": {"reputation": 386, "user_id": 1483724, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dca74b85230823c6358eae4a3125a813?s=128&d=identicon&r=PG", "display_name": "jeff17237", "link": "https://stackoverflow.com/users/1483724/jeff17237"}, "edited": false, "score": 0, "creation_date": 1519859815, "post_id": 49040065, "comment_id": 85085803, "body": "They are set in the constructor of the attribute as demonstrated in the example class <code>TestObject</code> above."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1519859912, "post_id": 49040065, "comment_id": 85085832, "body": "No, I mean the code for the attribute - the signature of your <code>IsEqualAttribute</code> and its constructor"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1519860016, "post_id": 49040065, "comment_id": 85085868, "body": "It appears your trying to compare <code>enum</code> values but your have not cast the value to an enum (your comparing an <code>object</code>)"}, {"owner": {"reputation": 50853, "user_id": 181087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85700c2c160866ef6924fc491a3ce574?s=128&d=identicon&r=PG", "display_name": "NightOwl888", "link": "https://stackoverflow.com/users/181087/nightowl888"}, "edited": false, "score": 0, "creation_date": 1519885631, "post_id": 49040065, "comment_id": 85092438, "body": "You do realize that the name MVC 6 has been dead for a couple of years now, don&#39;t you? If you are talking about ASP.NET Core, then you have the wrong tags. If you are talking about MVC 5 then you have the wrong version."}], "answers": [{"comments": [{"owner": {"reputation": 386, "user_id": 1483724, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dca74b85230823c6358eae4a3125a813?s=128&d=identicon&r=PG", "display_name": "jeff17237", "link": "https://stackoverflow.com/users/1483724/jeff17237"}, "edited": false, "score": 0, "creation_date": 1519859944, "post_id": 49040134, "comment_id": 85085845, "body": "Thanks for this!  I assumed it was something along these lines.  Changed the code to use <code>.Equals()</code> and it works fine."}, {"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "reply_to_user": {"reputation": 386, "user_id": 1483724, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dca74b85230823c6358eae4a3125a813?s=128&d=identicon&r=PG", "display_name": "jeff17237", "link": "https://stackoverflow.com/users/1483724/jeff17237"}, "edited": false, "score": 0, "creation_date": 1519860013, "post_id": 49040134, "comment_id": 85085867, "body": "@jeff17237: See my update. You might want to use <code>object.Equals(x, y)</code> instead to avoid exceptions if you encounter a null value."}], "tags": [], "owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "is_accepted": true, "score": 5, "last_activity_date": 1519859979, "last_edit_date": 1519859979, "creation_date": 1519859083, "answer_id": 49040134, "question_id": 49040065, "link": "https://stackoverflow.com/questions/49040065/enum-failing-when-value-retrieved-via-reflection/49040134#49040134", "title": "Enum failing == when value retrieved via reflection", "body": "<p>Don't use <code>==</code> to evaluate equality for things that aren't strongly typed. Consider the following:</p>\n\n<pre><code>void Main()\n{\n    Console.WriteLine(((object)Result.Pass) == (object)Result.Pass);\n    // False\n\n    Console.WriteLine(((object)Result.Pass).Equals((object)Result.Pass));\n    // True\n\n    Console.WriteLine(object.Equals((object)Result.Pass,(object)Result.Pass));\n    // True\n}\n\npublic enum Result{\n    Pass, Fail\n}\n</code></pre>\n\n<p>In C#, the <code>==</code> operator can be overridden to make syntax easier when comparing certain types of objects, which has the advantage of providing compile-time errors if you try to <code>==</code> two incompatible types. And some people think it looks nicer.</p>\n\n<p>However, when values are down-cast to <code>object</code>s, the <code>object == object</code> operator performs an <code>Object.ReferenceEquals()</code> check. Since enums are Value Types, they have to get \"boxed\" into a new object in order to be cast as <code>objects</code>, and those new objects are going to exist in different memory locations. Hence, <code>ReferenceEquals()</code> will be false.</p>\n\n<p>Instead, use the <code>object.Equals()</code> method, which passes to the individual class's <code>.Equals()</code> override. In this case, the Enum type's override of <code>.Equals()</code> will check whether the value can be cast to a <code>Result</code>, and whether the resulting value is the same as <code>this</code> one's.</p>\n\n<p>The advantage to <code>object.Equals(value1, value2)</code> over <code>value1.Equals(value2)</code> is that you don't get a null exception if <code>value1</code> is null.</p>\n"}], "owner": {"reputation": 386, "user_id": 1483724, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dca74b85230823c6358eae4a3125a813?s=128&d=identicon&r=PG", "display_name": "jeff17237", "link": "https://stackoverflow.com/users/1483724/jeff17237"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "accepted_answer_id": 49040134, "answer_count": 1, "score": 1, "last_activity_date": 1519859979, "creation_date": 1519858706, "question_id": 49040065, "link": "https://stackoverflow.com/questions/49040065/enum-failing-when-value-retrieved-via-reflection", "title": "Enum failing == when value retrieved via reflection", "body": "<p>I am trying to implement a custom jQuery Unobtrusive Validation attribute for MVC 6.  Below is the <code>IsValid()</code> implementation for an attribute that looks at an adjacent property in a class and compares it to a compile-time constant.</p>\n\n<pre><code>protected override ValidationResult IsValid(object value, ValidationContext validationContext)\n{\n    ValidationResult result = ValidationResult.Success;\n\n    // Simplest case, there is something in this field\n    if (!string.IsNullOrEmpty(value?.ToString()))\n        return result;\n\n    // Check relative field\n    try\n    {\n        // Grab the property referenced via reflection\n        var relativeProperty = validationContext.ObjectType.GetProperty(this._relativePropertyName);\n\n        // Compare the runtime value of that property to the Attribute initialized value\n        if (relativeProperty.GetValue(validationContext.ObjectInstance) == this._relativeValue)\n        {\n            // Fail if those 2 values are equal\n            result = new ValidationResult(this.ErrorMessageString); \n        }\n\n    }\n    catch (Exception)\n    {\n        result = new ValidationResult(this.ErrorMessageString);\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>For the most part, this works exactly as expected.  The only issue I am having is when the property referenced and its value are a derivative of an Enum (for example, let's pretend our enum is <code>Result</code>).  Implementing this attribute would look like the following in a class:</p>\n\n<pre><code>public class TestObject\n{\n    public Result TestResult { get; set; }\n    [IsEqual(nameof(TestResult), Result.Pass)]\n    public string PassComment { get; set; }\n}\n</code></pre>\n\n<p>When the debugger gets to the line <code>if(relativeProperty.GetValue(validationContext.ObjectInstance) == this._relativeValue)</code> it fails, even if <code>relativeProperty.GetValue(validationContext.ObjectInstance)</code> resolves as <code>Result.Pass</code>.  Using the Immediate Window, <code>relativeProperty.GetValue(validationContext.ObjectInstance)</code> = <code>Result.Pass</code> and  also <code>this._relativeValue</code> = <code>Result.Pass</code></p>\n\n<p>Small side note, calling <code>.GetType()</code> on both values are also equal.</p>\n\n<p>I'm assuming this has something to do with boxing, but can't pinpoint it. Thanks in advance.</p>\n"}, {"tags": ["c#", "asp.net-web-api", "fiddler", "identityserver4", "openid-connect"], "comments": [{"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1520104314, "post_id": 49040040, "comment_id": 85181809, "body": "What about <code>http:&#47;&#47;localhost.fiddler:5000</code> in the first place?"}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "reply_to_user": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1520108479, "post_id": 49040040, "comment_id": 85183106, "body": "Does not work does not get to the api"}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1520108825, "post_id": 49040040, "comment_id": 85183210, "body": "What exactly does not work mean here? It throws an exception? or something else?"}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "reply_to_user": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1520115413, "post_id": 49040040, "comment_id": 85185093, "body": "We get this error :Error connecting to <a href=\"http://localhost.fiddler:5000/.well-known/openid-configuration\" rel=\"nofollow noreferrer\">localhost.fiddler:5000/.well-known/openid-configuration</a>: HTTPS required  (it&#39;s not setup with HTTPS, the error msg is slightly incorrect!!!)"}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1520141034, "post_id": 49040040, "comment_id": 85189807, "body": "I think that is an important error, you should figure out why this happening? Have you configured certbot/LetsEncrypt? Some how it may be kicking in for some reason"}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "reply_to_user": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1520174057, "post_id": 49040040, "comment_id": 85197979, "body": "where running on Windows, certbot is for linux/unix ?"}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "reply_to_user": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 0, "creation_date": 1520174833, "post_id": 49040040, "comment_id": 85198189, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/166191/discussion-between-tarun-lalwani-and-saj\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1417, "user_id": 6835380, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/D0iXZ.jpg?s=128&g=1", "display_name": "aaronR", "link": "https://stackoverflow.com/users/6835380/aaronr"}, "edited": false, "score": 0, "creation_date": 1520268601, "post_id": 49040040, "comment_id": 85236016, "body": "Can you share your startup class?"}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "reply_to_user": {"reputation": 1417, "user_id": 6835380, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/D0iXZ.jpg?s=128&g=1", "display_name": "aaronR", "link": "https://stackoverflow.com/users/6835380/aaronr"}, "edited": false, "score": 0, "creation_date": 1520269969, "post_id": 49040040, "comment_id": 85236975, "body": "@aaronR Sure added."}, {"owner": {"reputation": 1417, "user_id": 6835380, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/D0iXZ.jpg?s=128&g=1", "display_name": "aaronR", "link": "https://stackoverflow.com/users/6835380/aaronr"}, "edited": false, "score": 0, "creation_date": 1520270112, "post_id": 49040040, "comment_id": 85237066, "body": "Is this your own code or one from the IdentityServer4 quickstarts?<a href=\"https://github.com/IdentityServer/IdentityServer4.Samples/tree/release/Quickstarts\" rel=\"nofollow noreferrer\">github.com/IdentityServer/IdentityServer4.Sample&zwnj;&#8203;s/tree/release/&hellip;</a>"}, {"owner": {"reputation": 1417, "user_id": 6835380, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/D0iXZ.jpg?s=128&g=1", "display_name": "aaronR", "link": "https://stackoverflow.com/users/6835380/aaronr"}, "edited": false, "score": 0, "creation_date": 1520270197, "post_id": 49040040, "comment_id": 85237121, "body": "I don&#39;t see the following line: app.UseStaticFiles();             app.UseMvcWithDefaultRoute();"}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "reply_to_user": {"reputation": 1417, "user_id": 6835380, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/D0iXZ.jpg?s=128&g=1", "display_name": "aaronR", "link": "https://stackoverflow.com/users/6835380/aaronr"}, "edited": false, "score": 0, "creation_date": 1520281510, "post_id": 49040040, "comment_id": 85243100, "body": "@aaronR this is not webapi it&#39;s identity Server"}, {"owner": {"reputation": 1417, "user_id": 6835380, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/D0iXZ.jpg?s=128&g=1", "display_name": "aaronR", "link": "https://stackoverflow.com/users/6835380/aaronr"}, "edited": false, "score": 1, "creation_date": 1520281637, "post_id": 49040040, "comment_id": 85243165, "body": "@saj does your implementation of IdentityServer have a login screen? If so the solution normally uses MVC."}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "reply_to_user": {"reputation": 1417, "user_id": 6835380, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/D0iXZ.jpg?s=128&g=1", "display_name": "aaronR", "link": "https://stackoverflow.com/users/6835380/aaronr"}, "edited": false, "score": 0, "creation_date": 1520281779, "post_id": 49040040, "comment_id": 85243237, "body": "@aaronR correct they do, but the early examples don&#39;t see GIT repo <a href=\"https://github.com/IdentityServer/IdentityServer4.Samples/blob/release/Quickstarts/1_ClientCredentials/src/Api/Startup.cs\" rel=\"nofollow noreferrer\">github.com/IdentityServer/IdentityServer4.Samples/blob/relea&zwnj;&#8203;se/&hellip;</a>"}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "reply_to_user": {"reputation": 1417, "user_id": 6835380, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/D0iXZ.jpg?s=128&g=1", "display_name": "aaronR", "link": "https://stackoverflow.com/users/6835380/aaronr"}, "edited": false, "score": 0, "creation_date": 1520281889, "post_id": 49040040, "comment_id": 85243293, "body": "@aaronR, sorry didn&#39;t see you earlier comment asking if this is my own, nope just working with the examples.thx"}, {"owner": {"reputation": 1417, "user_id": 6835380, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/D0iXZ.jpg?s=128&g=1", "display_name": "aaronR", "link": "https://stackoverflow.com/users/6835380/aaronr"}, "edited": false, "score": 0, "creation_date": 1520281897, "post_id": 49040040, "comment_id": 85243297, "body": "the link you just shared was for an API protected by IdentityServer and it had the call to add MVC app.UseMvc(); line 31."}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "reply_to_user": {"reputation": 1417, "user_id": 6835380, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/D0iXZ.jpg?s=128&g=1", "display_name": "aaronR", "link": "https://stackoverflow.com/users/6835380/aaronr"}, "edited": false, "score": 1, "creation_date": 1520282041, "post_id": 49040040, "comment_id": 85243390, "body": "@aaronR, my bad duhh! posted link to the API and not the Id server, this should be correct link now <a href=\"https://github.com/IdentityServer/IdentityServer4.Samples/blob/release/Quickstarts/1_ClientCredentials/src/QuickstartIdentityServer/Startup.cs\" rel=\"nofollow noreferrer\">github.com/IdentityServer/IdentityServer4.Samples/blob/relea&zwnj;&#8203;se/&hellip;</a>"}, {"owner": {"reputation": 1417, "user_id": 6835380, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/D0iXZ.jpg?s=128&g=1", "display_name": "aaronR", "link": "https://stackoverflow.com/users/6835380/aaronr"}, "edited": false, "score": 0, "creation_date": 1520282349, "post_id": 49040040, "comment_id": 85243557, "body": "ok, that is the minimalist sample with no login screen, which is far from a typical install. But that clarifies why no App.UseMVS()."}], "answers": [{"comments": [{"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 0, "creation_date": 1520354623, "post_id": 49128624, "comment_id": 85276619, "body": "Hi this sounds very promising however i&#39;m not seeing .Policy...Error\t&#39;DiscoveryResponse&#39; does not contain a definition for &#39;Policy&#39; and no extension method &#39;Policy&#39;"}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "reply_to_user": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 0, "creation_date": 1520355257, "post_id": 49128624, "comment_id": 85277058, "body": "@saj are you sure you followed code in answer? You need to replace &#39;var disco = await DiscoveryClient.GetAsync(&quot;<a href=\"http://localhost:5000&quot;\" rel=\"nofollow noreferrer\">localhost:5000&quot;</a>);&#39; with code from answer. Your error message suggests you are trying to call Policy on &#39;disco&#39; variable, but that&#39;s not correct."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "reply_to_user": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 0, "creation_date": 1520356168, "post_id": 49128624, "comment_id": 85277628, "body": "@saj plus, I tested posted solution and quite sure it works."}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 0, "creation_date": 1520356393, "post_id": 49128624, "comment_id": 85277759, "body": "I don&#39;t doubt you, what you say makes perfect sense, which example are your working with must be missing a ref ?"}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "reply_to_user": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 0, "creation_date": 1520358107, "post_id": 49128624, "comment_id": 85278755, "body": "Well I downloaded sample project by your last link in comment and edited Client as described in answer. Maybe  you can add exact lines that produce error for you?"}], "tags": [], "owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "is_accepted": true, "score": 4, "last_activity_date": 1520332148, "creation_date": 1520332148, "answer_id": 49128624, "question_id": 49040040, "link": "https://stackoverflow.com/questions/49040040/identityserver-4-trying-to-capture-traffic-with-fiddler/49128624#49128624", "title": "IdentityServer 4, trying to capture traffic with fiddler?", "body": "<p>As you correctly figured out, you need to use, for example, <a href=\"http://localhost.fiddler\" rel=\"nofollow noreferrer\">http://localhost.fiddler</a>, to route localhost traffic through fiddler. However, using <code>DiscoveryClient.GetAsync</code> uses <code>DiscoveryClient</code> with default policy. That default policy has the following settings important for this case:</p>\n\n<ul>\n<li>RequireHttps = true</li>\n<li>AllowHttpOnLoopback = true</li>\n</ul>\n\n<p>So, it requires https unless you query loopback address. How it knows what is loopback address? There is <code>DiscoveryPolicy.LoopbackAddresses</code> property. By default it contains:</p>\n\n<ul>\n<li>\"localhost\"</li>\n<li>\"127.0.0.1\"</li>\n</ul>\n\n<p>For that reason you have \"HTTPS required\" error - \"localhost.fiddler\" is not considered a loopback address, and default policy requires https for non-loopback addresses.</p>\n\n<p>So to fix, you need to either set <code>RequireHttps</code> to false, or add \"localhost.fiddler` to loopback address list:</p>\n\n<pre><code>var discoClient = new DiscoveryClient(\"http://localhost.fiddler:5000\");\ndiscoClient.Policy.LoopbackAddresses.Add(\"localhost.fiddler\");\n//discoClient.Policy.RequireHttps = false;                        \nvar disco = await discoClient.GetAsync();\n</code></pre>\n\n<p>If you do this - you will see disovery request in fiddler, however it will fail (response will contain error), because server will report authority as \"<a href=\"http://localhost:5000\" rel=\"nofollow noreferrer\">http://localhost:5000</a>\" and you query \"<a href=\"http://localhost.fiddler:5000\" rel=\"nofollow noreferrer\">http://localhost.fiddler:5000</a>\". So you also need to override authority in your policy:</p>\n\n<pre><code>var discoClient = new DiscoveryClient(\"http://localhost.fiddler:5000\");\ndiscoClient.Policy.LoopbackAddresses.Add(\"localhost.fiddler\");\ndiscoClient.Policy.Authority = \"http://localhost:5000\";\nvar disco = await discoClient.GetAsync();\n</code></pre>\n\n<p>Now it will work as expected.</p>\n"}], "owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 570, "favorite_count": 3, "accepted_answer_id": 49128624, "answer_count": 1, "score": 3, "last_activity_date": 1520332148, "creation_date": 1519858613, "last_edit_date": 1520282285, "question_id": 49040040, "link": "https://stackoverflow.com/questions/49040040/identityserver-4-trying-to-capture-traffic-with-fiddler", "title": "IdentityServer 4, trying to capture traffic with fiddler?", "body": "<p>Console application trying to get discovery </p>\n\n<pre><code>var disco = await DiscoveryClient.GetAsync(\"http://localhost:5000\");\n</code></pre>\n\n<p>Works fine, however i'm trying to figure out how this thing works and I cant seem to capture the http traffic.</p>\n\n<p>if i use <a href=\"http://localhost.fiddler\" rel=\"nofollow noreferrer\">http://localhost.fiddler</a> to redirect to the local proxy Errors With:</p>\n\n<p><strong>Error connecting to localhost.fiddler:5000/.well-known/openid-configuration: HTTPS required (it's not setup with HTTPS, the error msg is misleading!)</strong></p>\n\n<p>Strangely later in the code when we try to authenticate to web-api with </p>\n\n<pre><code>var response = await client.GetAsync(\"http://localhost.fiddler:5001/identity\");\n</code></pre>\n\n<p>localhost.fiddler works fine, now this is running in the same console.app, in program.cs so the same file. This is driving me potty why on earth can't I capture traffic going to 5000 it's HTTP!!! so what mysteries are causing this ? is there another way to view the magic http traffic going to and from Identity Server ?</p>\n\n<p>Added Startup class</p>\n\n<pre><code>public class Startup\n{\n    public void ConfigureServices(IServiceCollection services)\n    {\n        // configure identity server with in-memory stores, keys, clients and scopes\n        services.AddIdentityServer()\n            .AddDeveloperSigningCredential()\n            .AddInMemoryApiResources(Config.GetApiResources())\n            .AddInMemoryClients(Config.GetClients())\n            .AddTestUsers(Config.GetUsers());\n    }\n\n    public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n    {\n        if (env.IsDevelopment())\n        {\n            app.UseDeveloperExceptionPage();\n        }\n\n        app.UseIdentityServer();\n    }\n}\n</code></pre>\n\n<p>added <a href=\"https://donetcore.blogspot.co.uk/2018/03/identityserver-4-discovery-token.html\" rel=\"nofollow noreferrer\">Blog</a>, will update it and credit if we can resolve this.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework", "ef-code-first"], "answers": [{"tags": [], "owner": {"reputation": 451, "user_id": 5213049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0RHk6.jpg?s=128&g=1", "display_name": "Adnan Niloy", "link": "https://stackoverflow.com/users/5213049/adnan-niloy"}, "is_accepted": true, "score": 2, "last_activity_date": 1519874261, "creation_date": 1519874261, "answer_id": 49042087, "question_id": 49039938, "link": "https://stackoverflow.com/questions/49039938/create-reference-data-only-when-ef-code-first-database-is-initially-created/49042087#49042087", "title": "Create reference data only when EF code first database is initially created", "body": "<p>You can override the seed method. In the <code>Configuration.cs</code> under <code>Migrations</code> folder:</p>\n\n<pre><code>protected override void Seed(YourDbContext context)\n{\n    context.PaymentType.AddOrUpdate(x =&gt; x.Id,\n        new PaymentType() { Id = 1, Description= \"Card\" },\n        new PaymentType() { Id = 2, Description= \"Cash\" },\n        new PaymentType() { Id = 3, Description= \"Cheque\" }\n        );    \n}\n</code></pre>\n\n<p>Don't forget to add the required namespaces. You can see <a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/data/using-web-api-with-entity-framework/part-3\" rel=\"nofollow noreferrer\">here</a> for details.</p>\n"}], "owner": {"reputation": 1024, "user_id": 2556818, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c9fa20d61c8736ada3483cbeb812aacb?s=128&d=identicon&r=PG", "display_name": "Noobie3001", "link": "https://stackoverflow.com/users/2556818/noobie3001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 49042087, "answer_count": 1, "score": 0, "last_activity_date": 1519874261, "creation_date": 1519858037, "last_edit_date": 1519860697, "question_id": 49039938, "link": "https://stackoverflow.com/questions/49039938/create-reference-data-only-when-ef-code-first-database-is-initially-created", "title": "Create reference data only when EF code first database is initially created", "body": "<p>I have a table called \"Invoice\" and that has a field called \"PaymentTypeId\" which points to another table called \"PaymentType\".</p>\n\n<p>Using EntityFramework code first, how do we add reference data such as:</p>\n\n<pre><code>PaymentTypeId: 1 | Description: Card\nPaymentTypeId: 2 | Description: Cash\nPaymentTypeId: 3 | Description: Cheque\n</code></pre>\n\n<p>But only when the database is first created?</p>\n\n<p>I'm aware of the OnModelCreating override and I could select from the table to see if data exists, however; I see that as an extra Db call. Is there something else I can hook into to only insert reference data after inital creating of the database?</p>\n\n<p>This is for an MVC5 application.</p>\n\n<p>PS: Apologies if this has already been answered. Perhaps I'm searching the wrong terms.</p>\n"}, {"tags": ["c#", "entity-framework-core"], "comments": [{"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1519857882, "post_id": 49039859, "comment_id": 85085090, "body": "then add a property to you database..."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1519858405, "post_id": 49039859, "comment_id": 85085306, "body": "Hint: avoid a maintenance nightmare and stop that <code>Repository</code> while you can. Also, EF Core should only be used with <code>async&#47;await</code>"}], "answers": [{"tags": [], "owner": {"reputation": 966, "user_id": 7782179, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3pQqo8SyAts/AAAAAAAAAAI/AAAAAAAAAFg/iceJc8eRThs/photo.jpg?sz=128", "display_name": "henoc salinas", "link": "https://stackoverflow.com/users/7782179/henoc-salinas"}, "is_accepted": false, "score": 0, "last_activity_date": 1519858151, "creation_date": 1519858151, "answer_id": 49039958, "question_id": 49039859, "link": "https://stackoverflow.com/questions/49039859/ef-core-entity-models/49039958#49039958", "title": "EF Core entity models", "body": "<p>try this:</p>\n\n<pre><code> public IEnumerable&lt;Grade&gt; GetGradesOfStudentFromSubject(Guid subjectId)\n {\n     var subject= _context.Subject.FirstOrDefault(g =&gt; g.SubjectId == subjectId);\n     return subject.Grades;\n }\n</code></pre>\n\n<p>find a subject with her Id, then call the navigation property \"Grades\", this contain an IEnumerable</p>\n"}, {"comments": [{"owner": {"reputation": 604, "user_id": 3217352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I3ssm.png?s=128&g=1", "display_name": "Kirlac", "link": "https://stackoverflow.com/users/3217352/kirlac"}, "edited": false, "score": 0, "creation_date": 1519858313, "post_id": 49039960, "comment_id": 85085266, "body": "I agree, this looks like a flaw in the model design. A grade should be linked to both a student and a subject, and the subject shouldn&#39;t be tied to a single student. You may need a joining table to create a many to many relationship between students and subjects as a subject can have a list of students, and a student can be enrolled in a list of subjects - the grades table could postentially serve this purpose if the value field is nullable"}, {"owner": {"reputation": 9, "user_id": 9425973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cfe2e821358a6ee0ebb8194d2bab188?s=128&d=identicon&r=PG&f=1", "display_name": "bobeq", "link": "https://stackoverflow.com/users/9425973/bobeq"}, "edited": false, "score": 0, "creation_date": 1520454820, "post_id": 49039960, "comment_id": 85326968, "body": "I am begginer, could you recommend me what I should learn to know more about this stuff like relationships or joining table etc.? Is it sql knowledge or entityframework?"}, {"owner": {"reputation": 11775, "user_id": 1735918, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/oo9j7.jpg?s=128&g=1", "display_name": "Z. Danev", "link": "https://stackoverflow.com/users/1735918/z-danev"}, "edited": false, "score": 0, "creation_date": 1520488243, "post_id": 49039960, "comment_id": 85337820, "body": "RDBMS concepts, relational algebra, schema normalization, etc.; EF - not so much"}], "tags": [], "owner": {"reputation": 11775, "user_id": 1735918, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/oo9j7.jpg?s=128&g=1", "display_name": "Z. Danev", "link": "https://stackoverflow.com/users/1735918/z-danev"}, "is_accepted": false, "score": 1, "last_activity_date": 1519858313, "last_edit_date": 1519858313, "creation_date": 1519858153, "answer_id": 49039960, "question_id": 49039859, "link": "https://stackoverflow.com/questions/49039859/ef-core-entity-models/49039960#49039960", "title": "EF Core entity models", "body": "<p>Subject (i.e. Math, Literature, ...) should not have student id if I understand the model correctly.</p>\n\n<p>Instead add both Subject Id and Student Id to the Grades table.</p>\n\n<p>So Subjects are Math, Literature; Students are John Smith, Jane Smith; and John's Math Grade is 4, John's Literature grade is 3, Mary's Math grade is 4 and Mary's Literature grade is 2;</p>\n\n<pre><code>SubjectId SubjectName\n--------- --------------\n1         Math\n2         Literature\n\nStudentId StudentName\n--------- -------------\n1         John\n2         Mary\n\nStudentId  SubjectId      Grade\n---------- -------------- -------\n1 (John)   1 (Math)        4\n2 (Mary)   2 (Literature)  2\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 9425973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cfe2e821358a6ee0ebb8194d2bab188?s=128&d=identicon&r=PG&f=1", "display_name": "bobeq", "link": "https://stackoverflow.com/users/9425973/bobeq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 2, "closed_date": 1519902521, "answer_count": 2, "score": 0, "last_activity_date": 1519858637, "creation_date": 1519857690, "last_edit_date": 1519858637, "question_id": 49039859, "link": "https://stackoverflow.com/questions/49039859/ef-core-entity-models", "closed_reason": "Not suitable for this site", "title": "EF Core entity models", "body": "<p>These are my entity models:</p>\n\n<pre><code>public class Student\n{\n    [Key]\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public Guid Id { get; set; }\n\n    public string FirstName { get; set; }\n\n    public string LastName { get; set; }\n\n    public string Password { get; set; }\n\n    public IEnumerable&lt;Subject&gt; Subjects { get; set; } = new List&lt;Subject&gt;();\n\n}\n\npublic class Subject\n{\n    [Key]\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public Guid Id { get; set; }\n\n    public string Name { get; set; }\n\n    public IEnumerable&lt;Grade&gt; Grades { get; set; } = new List&lt;Grade&gt;();\n\n    [ForeignKey(\"StudentId\")]\n\n    public Student Student { get; set; }\n\n    public Guid StudentId { get; set; }\n\n}\n\npublic class Grade\n{\n    [Key]\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public Guid Id { get; set; }\n\n    public double Value { get; set; }\n\n    [ForeignKey(\"SubjectId\")]\n\n    public Subject Subject { get; set; }\n\n    public Guid SubjectId { get; set; }\n\n}\n</code></pre>\n\n<p>And DBContext:</p>\n\n<pre><code>public class GradeBookContext : DbContext\n{\n    public GradeBookContext(DbContextOptions&lt;GradeBookContext&gt; options)\n        : base(options)\n    {\n        Database.Migrate();\n    }\n\n    public DbSet&lt;Student&gt; Students { get; set; }\n\n    public DbSet&lt;Subject&gt; Subjects { get; set; }\n\n    public DbSet&lt;Grade&gt; Grades { get; set; }\n\n}\n</code></pre>\n\n<p>In my Repository I want to create a method that will return a List of Grades of specified Subject, something like that: </p>\n\n<pre><code>public IEnumerable&lt;Grade&gt; GetGradesOfStudentFromSubject(Guid studentId, Guid subjectId)\n    {\n        return _context.Grades.Where( g =&gt; g.StudentId == studentId &amp;&amp; g.SubjectId == subjectId).ToList();\n\n    }\n</code></pre>\n\n<p>I don't know how to change my models to be able to get that List of Grade because in database Grade doesnt have a property \"StudentId\".  </p>\n"}, {"tags": ["c#", "performance", "wcf", "duplex"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 1, "creation_date": 1519866987, "post_id": 49039822, "comment_id": 85087664, "body": "It would be much easier to do so via SignalR by keeping long live connections. Using WCF for such tasks is too complex."}, {"owner": {"reputation": 639, "user_id": 5428728, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1392e535c90961540dbf2f4349b0e99e?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/5428728/mark"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1519883424, "post_id": 49039822, "comment_id": 85091727, "body": "SignalIR looks interesting and I&#39;ll take a look. However in our current case a lot of what we are doing is through tcp communication and later http. It looks like Signal IR is mainly http. Also the service runs surprisingly well and supports multiple clients."}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 1, "creation_date": 1519909840, "post_id": 49039822, "comment_id": 85105118, "body": "SignalR on .NET Core will eliminate the HTTP limitation to support other protocols. Do you often suffer timeout related issues in your WCF based solution? That&#39;s the typical trigger to migrate."}, {"owner": {"reputation": 639, "user_id": 5428728, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1392e535c90961540dbf2f4349b0e99e?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/5428728/mark"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1519918545, "post_id": 49039822, "comment_id": 85111010, "body": "How easy will it be to use my existing .net 4.7 libraries with it? And will the HTTP limitation be eliminated if communicating with a .net 4.7 client? Also we don&#39;t have many issues with the clients as this is all done on our local network. I&#39;m looking into it now and the groups look like they can be very useful."}], "owner": {"reputation": 639, "user_id": 5428728, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1392e535c90961540dbf2f4349b0e99e?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/5428728/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519857541, "creation_date": 1519857541, "question_id": 49039822, "link": "https://stackoverflow.com/questions/49039822/wcf-callback-to-multiple-clients-correctly", "title": "WCF callback to multiple clients correctly", "body": "<p>So I have a wcf service that is controlling a bunch of measurement instruments and a few cameras. I made it so the service callbacks the connected clients every time the camera readies its bitmap. The code all functions correctly however I am afraid of stability issues later on because I essentially just have a list of contracts that is updated with each new connection, and I remove old ones by catching exceptions... and I don't feel too confident in that.</p>\n\n<p>Anyway here is the code:</p>\n\n<pre><code>[ServiceBehavior(InstanceContextMode = InstanceContextMode.PerSession)]\npublic class ServiceCamera : IServiceCamera\n{\n    private static Dictionary&lt;string,ICamera&gt; Cameras = new Dictionary&lt;string, ICamera&gt;();\n    static List&lt;IMyContractCallback&gt; cblist = new List&lt;IMyContractCallback&gt;();\n    private void camera_ImageReady(object sender, Bitmap bitmap2)\n    {\n        for (var i = 0; i &lt; cblist.Count; i++)\n        {\n            try\n            {\n                if (cblist[i] != null)\n                {\n                    cblist[i].ServiceImageReady(bitmap2);\n                }\n            }\n            catch (Exception ex)\n            {\n                cblist.RemoveAt(i);\n            }\n        }\n    }\n    public void Connect()\n    {\n        callback = OperationContext.Current.GetCallbackChannel&lt;IMyContractCallback&gt;();\n        cblist.Add(OperationContext.Current.GetCallbackChannel&lt;IMyContractCallback&gt;());\n        ICamera camera;\n        if (Cameras.ContainsKey(OperationContext.Current.EndpointDispatcher.EndpointAddress.Uri.Segments.Last()))\n        {\n            camera = Cameras[OperationContext.Current.EndpointDispatcher.EndpointAddress.Uri.Segments.Last()];\n            if (!camera.IsConnected)\n            {\n                camera.ImageReady -= camera_ImageReady;\n                camera.Connect();\n                camera.ImageReady += camera_ImageReady;\n            }\n        }\n        else\n        {\n            camera = (ICamera)InstrumentLoader.Factory.GetNamed(OperationContext.Current.EndpointDispatcher.EndpointAddress.Uri.Segments.Last());\n            Cameras.Add(OperationContext.Current.EndpointDispatcher.EndpointAddress.Uri.Segments.Last(), camera);\n            camera.ImageReady -= camera_ImageReady;\n            camera.Connect();\n            camera.ImageReady += camera_ImageReady;\n        }\n    }\n}\n\npublic interface IMyContractCallback\n{        \n    [OperationContract(IsOneWay = true)]\n    void ServiceImageReady(Bitmap bitmap);        \n}\n</code></pre>\n\n<p>This is my first experience with a duplex wcf and feel that I can improve a lot on it. I have a feeling that most of what I am trying could probably be done by making changes to the InstanceContextMode.</p>\n"}, {"tags": ["c#", "unit-testing", "selenium", "automation"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1519870514, "post_id": 49039803, "comment_id": 85088494, "body": "These aren&#39;t unit tests then. They&#39;re integration tests. Integration tests will test a whole system behavior rather than specific chunks (though there may be multiple integration tests that cover different functionality, they will be much larger in scope than unit tests)."}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1519889853, "post_id": 49039803, "comment_id": 85094127, "body": "<i>... in 99.9% of situation a unit test with dependencies is not wanted</i> - this is so not true. I want have tests which will test whole &quot;pipe-line&quot; of my application (end to end tests) - Then I will have freedom to refactor things, adapt new approaches which can be discovered later after I start working on a software. But problem that this kind of tests are very slow (UI, web services, file systems)."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "reply_to_user": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1519913439, "post_id": 49039803, "comment_id": 85107379, "body": "@Fabio Then it&#39;s not a unit test. A unit test will test a specific piece of code in isolation. You would set up <i>all</i> the dependencies directly within the test, and the test would be completely isolated from the results of any other tests. If you have tests that are spanning multiple pieces of functionality and are dependent on each other, then those are integration tests."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1520015274, "post_id": 49039803, "comment_id": 85156312, "body": "Yes, they often uses unit testing tools. But when communicating with other developers on websites like Stack Overflow, it&#39;s important to use the correct terminology so that you aren&#39;t misunderstood."}, {"owner": {"reputation": 53, "user_id": 4062769, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/27ca32803b0c090c1f91bbd6619d0839?s=128&d=identicon&r=PG&f=1", "display_name": "ZeroScifer", "link": "https://stackoverflow.com/users/4062769/zeroscifer"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1520015674, "post_id": 49039803, "comment_id": 85156491, "body": "@mason, you are technically correct but what I am dealing with is a bit of a grey area between the two test types. I develop the framework that is used for the Integration tests, but the functions themselves need to be tested in isolation. So my tests are closer in nature to a unit test in nature, but in functionality look more like integration tests as they have no access to the underline code."}, {"owner": {"reputation": 53, "user_id": 4062769, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/27ca32803b0c090c1f91bbd6619d0839?s=128&d=identicon&r=PG&f=1", "display_name": "ZeroScifer", "link": "https://stackoverflow.com/users/4062769/zeroscifer"}, "edited": false, "score": 0, "creation_date": 1520015681, "post_id": 49039803, "comment_id": 85156496, "body": "The main thing is there is no test tools for integration tests (in practice what I am coding IS the testing tool). So one is still left with the underlying issue, I have to use the unit test library in which I am looking for a way to have dependence."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 4062769, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/27ca32803b0c090c1f91bbd6619d0839?s=128&d=identicon&r=PG&f=1", "display_name": "ZeroScifer", "link": "https://stackoverflow.com/users/4062769/zeroscifer"}, "edited": false, "score": 0, "creation_date": 1520015843, "post_id": 49040716, "comment_id": 85156565, "body": "That is a possibility.  Only concern is growing a large ugly list of variables as the number of tests and dependencies grow, but it would work."}, {"owner": {"reputation": 539, "user_id": 8206275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b90e7f22abd72ddc66a0f9551425a750?s=128&d=identicon&r=PG&f=1", "display_name": "Rescis", "link": "https://stackoverflow.com/users/8206275/rescis"}, "reply_to_user": {"reputation": 53, "user_id": 4062769, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/27ca32803b0c090c1f91bbd6619d0839?s=128&d=identicon&r=PG&f=1", "display_name": "ZeroScifer", "link": "https://stackoverflow.com/users/4062769/zeroscifer"}, "edited": false, "score": 0, "creation_date": 1520017848, "post_id": 49040716, "comment_id": 85157486, "body": "That is a risk.  If you have that many dependencies though I would suggest instead seeing if you really need to test the exact same feature that many times.  That is, instead of using the normal test framework, with a separate test Edit/Update/etc, create a single event test and then log to a console or an external file what all is working and not.  That would significantly reduce your test run time, and you could integrate much better logic if it were a real program."}, {"owner": {"reputation": 53, "user_id": 4062769, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/27ca32803b0c090c1f91bbd6619d0839?s=128&d=identicon&r=PG&f=1", "display_name": "ZeroScifer", "link": "https://stackoverflow.com/users/4062769/zeroscifer"}, "edited": false, "score": 0, "creation_date": 1520027300, "post_id": 49040716, "comment_id": 85161745, "body": "If this was the integration test itself that would be best, but these are tests for the functions themselves that others use to create test scripts for the integration tests.   ie. They have a test case that is to have someone register for the event. So they use this function to create the event, and then script booking someone into it."}, {"owner": {"reputation": 53, "user_id": 4062769, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/27ca32803b0c090c1f91bbd6619d0839?s=128&d=identicon&r=PG&f=1", "display_name": "ZeroScifer", "link": "https://stackoverflow.com/users/4062769/zeroscifer"}, "edited": false, "score": 0, "creation_date": 1520027480, "post_id": 49040716, "comment_id": 85161829, "body": "This is kind of a hybrid of unit testing and integration testing. It is a unit test for the functions I make, but because these functions span a number of actions that are taken on the site itself it&#39;s behavior is more in line with integration."}, {"owner": {"reputation": 539, "user_id": 8206275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b90e7f22abd72ddc66a0f9551425a750?s=128&d=identicon&r=PG&f=1", "display_name": "Rescis", "link": "https://stackoverflow.com/users/8206275/rescis"}, "reply_to_user": {"reputation": 53, "user_id": 4062769, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/27ca32803b0c090c1f91bbd6619d0839?s=128&d=identicon&r=PG&f=1", "display_name": "ZeroScifer", "link": "https://stackoverflow.com/users/4062769/zeroscifer"}, "edited": false, "score": 0, "creation_date": 1520298532, "post_id": 49040716, "comment_id": 85249327, "body": "@ZeroScifer Alright, sounds good.  You probably know your product better than I do :P"}], "tags": [], "owner": {"reputation": 539, "user_id": 8206275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b90e7f22abd72ddc66a0f9551425a750?s=128&d=identicon&r=PG&f=1", "display_name": "Rescis", "link": "https://stackoverflow.com/users/8206275/rescis"}, "is_accepted": false, "score": 1, "last_activity_date": 1519863154, "creation_date": 1519863154, "answer_id": 49040716, "question_id": 49039803, "link": "https://stackoverflow.com/questions/49039803/how-to-create-unit-tests-with-dependencies/49040716#49040716", "title": "How to create Unit Tests with dependencies", "body": "<p>You could create properties in your test class of <code>bool eventCanBeCreated</code>, and then <code>if (eventCanBeCreated)</code>, <code>Assert.Inconclusive(\"The dependent test \" + testName + \"failed.  Skipping this test\");</code>.</p>\n\n<p>This would look like:</p>\n\n<pre><code>public class TestClass\n{\n    public bool eventCanBeCreated = true;\n\n    [TestMethod]\n    public void CreateEvent()\n    {         \n        // Your code\n\n        // Before Assert.Fail():\n        eventCanBeCreated = false;\n    }\n\n    [TestMethod]\n    public void DeleteEvent()\n    {\n        if (!eventCanBeCreated)\n            Assert.Inconclusive(\"The dependent test \" + testName + \"failed.  Skipping this test\");\n\n        // Your code\n    }\n}\n</code></pre>\n\n<p>It may also be worthwhile from there to attempt to enforce that <code>CreateEvent()</code> is attempted before <code>DeleteEvent()</code>, as although this is bad practice, it would guarantee in this case that you don't waste time running tests that you don't need to.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 4062769, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/27ca32803b0c090c1f91bbd6619d0839?s=128&d=identicon&r=PG&f=1", "display_name": "ZeroScifer", "link": "https://stackoverflow.com/users/4062769/zeroscifer"}, "edited": false, "score": 0, "creation_date": 1520014980, "post_id": 49041541, "comment_id": 85156169, "body": "This might be my best option from your description. I will play around with it today and see how well it works out."}], "tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": true, "score": 1, "last_activity_date": 1519870026, "creation_date": 1519870026, "answer_id": 49041541, "question_id": 49039803, "link": "https://stackoverflow.com/questions/49039803/how-to-create-unit-tests-with-dependencies/49041541#49041541", "title": "How to create Unit Tests with dependencies", "body": "<p>There is a solution for this in Visual Studio. It's called an <a href=\"https://msdn.microsoft.com/en-us/library/ms182631.aspx\" rel=\"nofollow noreferrer\">Ordered test</a>. You create it by right-clicking on the test project and selecting Add > Ordered Test.</p>\n\n<p>The dialog that opens is intuitive. You can add tests to a list and order them, and determine whether test execution for the group should stop with a single failure. You can add one test to multiple groups. You can add a group of tests to another group.</p>\n\n<p>That would allow you to begin a test group with a test to verify that the site loads, and stop execution of the following tests if that one fails. You can a collection of test groups where each group will run even if a different group fails, but within a smaller group a failure stops execution. So testing of one feature could stop if a prerequisite test fails, but testing for other features continues.</p>\n\n<p>I've never used this, never seen it used, and I didn't know it existed. But it might be just what you're looking for. To me it would only be useful in a scenario like this where the tests might take longer and it could be beneficial to skip some if some precondition determines that a lot of them are guaranteed to fail. </p>\n"}], "owner": {"reputation": 53, "user_id": 4062769, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/27ca32803b0c090c1f91bbd6619d0839?s=128&d=identicon&r=PG&f=1", "display_name": "ZeroScifer", "link": "https://stackoverflow.com/users/4062769/zeroscifer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 1, "accepted_answer_id": 49041541, "answer_count": 2, "score": 2, "last_activity_date": 1519870026, "creation_date": 1519857474, "question_id": 49039803, "link": "https://stackoverflow.com/questions/49039803/how-to-create-unit-tests-with-dependencies", "title": "How to create Unit Tests with dependencies", "body": "<p>First off I want you to understand that I know in 99.9% of situation a unit test with dependencies is not wanted, however I think this is that 0.1%.</p>\n\n<p>The situation is I am working on a framework for selenium based automation tests for a website. I have methods to perform different actions ie. logIntoSite(usersname, pass), createEvent(eventName, eventTime), deleteEvent(eventName).</p>\n\n<p>And here is the issue the function obviously need the site to be running correctly, and a failure of the test could be an issue on my side OR it identified a site issue. When there is a site issue their may be a number of the tests we would not want to run as the core function of the site it depends on is not working.</p>\n\n<p>The example I am working on right now is, I have a function to create a event, I also have a function to delete an event.</p>\n\n<p>If there is a site issue where an event cannot be created the first test fails correctly, but so does the delete event function even thought there may not anything wrong with that feature.</p>\n\n<p>This is not an issue with having each test be self sustaining as the delete function does not depend on the create \"function\" to run, the delete function does create an event to delete itself.</p>\n\n<p>So I left with 2 failures, when what I want is 1 failure and one test skipped because of the failure. By itself that doesn't sound bad, but as the tests grow we end of with more and more, ie. editEventName, updateEventTime... etc. now I have 4 failures... I hope you can see my issue.</p>\n\n<p>I am currently using visual studio with TestTools.UnitTesting;</p>\n"}, {"tags": ["c#", "stored-procedures", "crystal-reports"], "comments": [{"owner": {"reputation": 1119, "user_id": 8697156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a45d90851e6a6e47d27eb78619101bb?s=128&d=identicon&r=PG&f=1", "display_name": "R. McMillan", "link": "https://stackoverflow.com/users/8697156/r-mcmillan"}, "edited": false, "score": 0, "creation_date": 1520022287, "post_id": 49039771, "comment_id": 85159431, "body": "Have you tested the stored procedure in a Query Analyzer so you can be sure it returns a value or data set?  Even if it does return a value, you should compare the values returned by both of your stored procedures and see if they differ in some way.  It might also be useful to update the question in some way that might help us see the returned values in some capacity, or at least how they may differ."}], "answers": [{"comments": [{"owner": {"reputation": 259, "user_id": 937618, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/605866348/picture?type=large", "display_name": "ivias", "link": "https://stackoverflow.com/users/937618/ivias"}, "edited": false, "score": 0, "creation_date": 1519858247, "post_id": 49039903, "comment_id": 85085241, "body": "@cropseason is never null as the value comes from drop down box, its either 1 or 2. I added this below the code but still no luck"}], "tags": [], "owner": {"reputation": 7, "user_id": 9426139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yRAZSlLWNeY/AAAAAAAAAAI/AAAAAAAAAOA/CfKhjFnZriA/photo.jpg?sz=128", "display_name": "tbean", "link": "https://stackoverflow.com/users/9426139/tbean"}, "is_accepted": false, "score": 0, "last_activity_date": 1519861104, "last_edit_date": 1519861104, "creation_date": 1519857866, "answer_id": 49039903, "question_id": 49039771, "link": "https://stackoverflow.com/questions/49039771/issue-with-stored-procedure-with-crystal-reports-and-c/49039903#49039903", "title": "Issue with Stored Procedure with Crystal Reports and C#", "body": "<pre><code>SET @cropseason = isnull(@cropseason,0)\n</code></pre>\n"}], "owner": {"reputation": 259, "user_id": 937618, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/605866348/picture?type=large", "display_name": "ivias", "link": "https://stackoverflow.com/users/937618/ivias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519885210, "creation_date": 1519857318, "last_edit_date": 1519885210, "question_id": 49039771, "link": "https://stackoverflow.com/questions/49039771/issue-with-stored-procedure-with-crystal-reports-and-c", "title": "Issue with Stored Procedure with Crystal Reports and C#", "body": "<p>I have an issue generating a crystal reports using a stored procedure.</p>\n\n<p>This doesn't work:</p>\n\n<pre><code>CREATE PROCEDURE [dbo].[GetPEBalDeliveryAssn] \n    @Assn VARCHAR(50), \n    @cropseason INT\n\nIF @Assn = 'ALL'  \nBEGIN\n    SELECT     \n        dbo.vDelFarReapGrpCodeBsiCode.farmer_pay_bsi, \n        dbo.vDelFarReapGrpCodeBsiCode.reaping_code, \n        dbo.vDelFarReapGrpCodeBsiCode.farmer_pay_name, \n        dbo.vDelFarReapGrpCodeBsiCode.delivered, \n        dbo.vDelFarReapGrpCodeBsiCode.number_deliveries, \n        dbo.FarmerGroups.PROD_EST,        \n        dbo.vDelFarReapGrpCodeBsiCode.CropSeasonsID\n    FROM  \n        dbo.FarmerGroups \n    INNER JOIN \n        dbo.vDelFarReapGrpCodeBsiCode ON dbo.FarmerGroups.BSI_CODE = dbo.vDelFarReapGrpCodeBsiCode.farmer_pay_bsi                   \n    WHERE\n        dbo.FarmerGroups.CROP_SEASON = @cropseason \n        AND dbo.vDelFarReapGrpCodeBsiCode.CropSeasonsID = @cropseason                \n    ORDER BY \n        dbo.vDelFarReapGrpCodeBsiCode.reaping_code\nEND\n</code></pre>\n\n<p>But this does</p>\n\n<pre><code>CREATE PROCEDURE [dbo].[GetPEBalDeliveryAssn] \n     @Assn VARCHAR(50), \n     @cropseason INT\n\n    IF @Assn = 'ALL' AND @cropseason = 1\n    BEGIN\n        SELECT     \n            dbo.vDelFarReapGrpCodeBsiCode.farmer_pay_bsi, \n            dbo.vDelFarReapGrpCodeBsiCode.reaping_code, \n            dbo.vDelFarReapGrpCodeBsiCode.farmer_pay_name, \n            dbo.vDelFarReapGrpCodeBsiCode.delivered, \n            dbo.vDelFarReapGrpCodeBsiCode.number_deliveries, \n            dbo.FarmerGroups.PROD_EST,       \n            dbo.vDelFarReapGrpCodeBsiCode.CropSeasonsID\n        FROM  \n            dbo.FarmerGroups \n        INNER JOIN \n            dbo.vDelFarReapGrpCodeBsiCode ON dbo.FarmerGroups.BSI_CODE = dbo.vDelFarReapGrpCodeBsiCode.farmer_pay_bsi                   \n        WHERE\n            dbo.FarmerGroups.CROP_SEASON = 1 \n            AND dbo.vDelFarReapGrpCodeBsiCode.CropSeasonsID = 1                \n        ORDER BY \n            dbo.vDelFarReapGrpCodeBsiCode.reaping_code\n    END\n</code></pre>\n\n<p>I am not sure why having <code>@cropseason</code> doesn't work and having an actual 1 does.</p>\n"}, {"tags": ["c#", "class", "return-type"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1519857296, "post_id": 49039739, "comment_id": 85084832, "body": "You could throw an exception. Or return a <code>NaN</code>."}, {"owner": {"reputation": 2230, "user_id": 1497128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QaOX5.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/1497128/tom"}, "edited": false, "score": 0, "creation_date": 1519857300, "post_id": 49039739, "comment_id": 85084834, "body": "You can use nullable double (double?) -- <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/nullable-types/\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 966, "user_id": 7782179, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3pQqo8SyAts/AAAAAAAAAAI/AAAAAAAAAFg/iceJc8eRThs/photo.jpg?sz=128", "display_name": "henoc salinas", "link": "https://stackoverflow.com/users/7782179/henoc-salinas"}, "is_accepted": false, "score": 0, "last_activity_date": 1519857497, "creation_date": 1519857497, "answer_id": 49039808, "question_id": 49039739, "link": "https://stackoverflow.com/questions/49039739/i-use-a-function-with-return-type-double-and-i-want-to-return-nothing-not-zero/49039808#49039808", "title": "I use a function with return type double and i want to return nothing (not zero)", "body": "<p>use this: </p>\n\n<pre><code>    public double? pop()\n    {\n        if (--position &lt; 0)\n        {\n            Console.WriteLine(\"There are no elements in Stack\");\n            //I should return something here but I only want error message\n            return null;\n        }\n        else\n            return Sztos[position];\n    }\n</code></pre>\n\n<p>now pop as nullable double, you can check if is null or not and try convert double? to double</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 9323140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89ee64e670385a0c96a309aa30752b01?s=128&d=identicon&r=PG&f=1", "display_name": "ThePigeon109", "link": "https://stackoverflow.com/users/9323140/thepigeon109"}, "edited": false, "score": 0, "creation_date": 1519858284, "post_id": 49039914, "comment_id": 85085252, "body": "As far as I comprehend the first part of your answer what does the &quot;IsEmpty&quot; field do ?"}, {"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "reply_to_user": {"reputation": 1, "user_id": 9323140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89ee64e670385a0c96a309aa30752b01?s=128&d=identicon&r=PG&f=1", "display_name": "ThePigeon109", "link": "https://stackoverflow.com/users/9323140/thepigeon109"}, "edited": false, "score": 0, "creation_date": 1519859388, "post_id": 49039914, "comment_id": 85085663, "body": "@ThePigeon109 - It allows the client to avoid an exception when calling <code>pop</code> by allowing them to check if the operation will succeed."}], "tags": [], "owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "is_accepted": true, "score": 1, "last_activity_date": 1519857913, "creation_date": 1519857913, "answer_id": 49039914, "question_id": 49039739, "link": "https://stackoverflow.com/questions/49039739/i-use-a-function-with-return-type-double-and-i-want-to-return-nothing-not-zero/49039914#49039914", "title": "I use a function with return type double and i want to return nothing (not zero)", "body": "<p>You should throw an exception if the precondition is violated e.g.</p>\n\n<pre><code>public double pop()\n{\n    if (--position&lt;0)\n    {\n        throw new InvalidOperationException(\"There are no elements in Stack\");\n    }\n    else\n    return Sztos[position];\n}\n</code></pre>\n\n<p>you should also give the client a way to check the operation is valid e.g.</p>\n\n<pre><code>public bool IsEmpty\n{\n    get { return position &lt;= 0; }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9323140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89ee64e670385a0c96a309aa30752b01?s=128&d=identicon&r=PG&f=1", "display_name": "ThePigeon109", "link": "https://stackoverflow.com/users/9323140/thepigeon109"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 49039914, "answer_count": 2, "score": -1, "last_activity_date": 1543579568, "creation_date": 1519857165, "last_edit_date": 1543579568, "question_id": 49039739, "link": "https://stackoverflow.com/questions/49039739/i-use-a-function-with-return-type-double-and-i-want-to-return-nothing-not-zero", "title": "I use a function with return type double and i want to return nothing (not zero)", "body": "<p>I use a function with a <strong>double</strong> as return type and I want to return nothing (not zero).</p>\n\n<p>In case of error I want the console to output the error message only (but it won't allow me as it requires value to be returned).</p>\n\n<p>My code looks like this:</p>\n\n<pre><code>class Stos\n{\n    public static double[] Sztos;\n    public int position = 0;\n\n    public Stos(int size)\n    {\n        Sztos = new double[size];\n    }\n\n    public void push(double value)\n    {\n        if (position &lt;= Sztos.Length - 1)\n        {\n            Sztos[position] = value;\n            position++;\n        }\n        else\n        {\n            Console.WriteLine(\"You are trying to insert a value to a stack that is full\");\n        }\n    }\n    public double pop()\n    {\n        if (--position&lt;0)\n        {\n            Console.WriteLine(\"There are no elements in Stack\");\n            //I should return something here but I only want error message\n        }\n        else\n        return Sztos[position];\n    }\n\n\n}\n</code></pre>\n"}, {"tags": ["c#", "mysql", "asp.net"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1519858579, "post_id": 49039697, "comment_id": 85085395, "body": "<b>WARNING</b>: This code is riddled with <a href=\"http://bobby-tables.com/\" rel=\"nofollow noreferrer\">SQL injection bugs</a> because the SQL statements inline raw content without proper escaping. Consider using <i>prepared statements with placeholder values</i> whenever possible."}, {"owner": {"reputation": 997, "user_id": 3883460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7756add873beb7ea3448f86bda3591a?s=128&d=identicon&r=PG", "display_name": "Rojalin Sahoo", "link": "https://stackoverflow.com/users/3883460/rojalin-sahoo"}, "edited": false, "score": 0, "creation_date": 1519884742, "post_id": 49039697, "comment_id": 85092138, "body": "which column is your datetime field in table? in which format is it?"}, {"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "edited": false, "score": 0, "creation_date": 1519891430, "post_id": 49039697, "comment_id": 85094771, "body": "DateTime variables do not have a format. Only when you use it somewhere or call ToString are they represented in a specific format. If you want to convert string to DateTime you have to make sure they are in the right format, and for that there are tons of exaples here on SO alone."}, {"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "edited": false, "score": 0, "creation_date": 1519891632, "post_id": 49039697, "comment_id": 85094886, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/919244/converting-a-string-to-datetime\">Converting a String to DateTime</a>"}, {"owner": {"reputation": 191, "user_id": 4591130, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ebcbc6200989709d8add5fe4af427848?s=128&d=identicon&r=PG&f=1", "display_name": "angel_neo", "link": "https://stackoverflow.com/users/4591130/angel-neo"}, "edited": false, "score": 0, "creation_date": 1519926936, "post_id": 49039697, "comment_id": 85116236, "body": "Thanks VDWWD, It&#39;s right, I must work on format"}], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 4591130, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ebcbc6200989709d8add5fe4af427848?s=128&d=identicon&r=PG&f=1", "display_name": "angel_neo", "link": "https://stackoverflow.com/users/4591130/angel-neo"}, "edited": false, "score": 0, "creation_date": 1519926981, "post_id": 49042840, "comment_id": 85116251, "body": "Thanks a lot Rojalin, works fine with a correct date format: var FechaAutorizacion = DateTime.ParseExact(                     grd_Row.Cells[5].Text.Remove(10,9),                     &quot;dd/M/yyyy&quot;, CultureInfo.InvariantCulture);"}], "tags": [], "owner": {"reputation": 227, "user_id": 7645527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd6d8859f31a8d88b0f06a32dcf98b80?s=128&d=identicon&r=PG&f=1", "display_name": "Oakar", "link": "https://stackoverflow.com/users/7645527/oakar"}, "is_accepted": true, "score": 3, "last_activity_date": 1519885648, "last_edit_date": 1519885648, "creation_date": 1519879967, "answer_id": 49042840, "question_id": 49039697, "link": "https://stackoverflow.com/questions/49039697/change-datatable-column-date-format/49042840#49042840", "title": "Change Datatable Column Date Format", "body": "<p>I suppose, you should change the type of your column because of it is a type of string.</p>\n\n<p><code>DateTime newDate= DateTime.Parse(stringDate);</code>---> <strong>You can use this to convert string to date,</strong></p>\n\n<p><strong>or</strong></p>\n\n<pre><code>string s = \"13/5/2014 12:00:00 AM\";    \nvar date = DateTime.ParseExact(s, \"dd/M/yyyy hh:mm:ss tt\",\n                                   CultureInfo.InvariantCulture); \n</code></pre>\n\n<p><strong>You can use above code block to change the format of the date time.</strong></p>\n\n<p>Also you can determine your data table column type before you create it like,</p>\n\n<pre><code>DataColumn colDateTime = new DataColumn(\"DateTimeCol\");   \ncolDateTime.DataType = System.Type.GetType(\"System.DateTime\");\n</code></pre>\n\n<p>All I mean, I think you have type problem so I hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 997, "user_id": 3883460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7756add873beb7ea3448f86bda3591a?s=128&d=identicon&r=PG", "display_name": "Rojalin Sahoo", "link": "https://stackoverflow.com/users/3883460/rojalin-sahoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1519889645, "creation_date": 1519889645, "answer_id": 49044730, "question_id": 49039697, "link": "https://stackoverflow.com/questions/49039697/change-datatable-column-date-format/49044730#49044730", "title": "Change Datatable Column Date Format", "body": "<blockquote>\n  <p>12/01/2018 no problem, but if I have 17/01/2018 not insert</p>\n</blockquote>\n\n<p>Your actual value is in DD/MM/YYYY but insert mysql taking the format as MM/DD/YYYY. So you can format that particular column value to MM/DD/YYYY. I am considering  identRecep is a Datetime field.</p>\n\n<pre><code>try\n {\n   using (MySqlConnection sqlCon = new MySqlConnection(conn))\n     {\n       using (MySqlCommand cmd = new MySqlCommand())\n        {\n          cmd.CommandText = \"Insert into autorizaciones \" +\n          \"(comprobante, Serie_Comprobante, Ruc_Emisor, RazonSoc_Emisor, \" +\n          \"Fecha_Emision, Fecha_Autorizacion, \" +\n          \"Tipo_Emision, Ident_Receptor, Clave_Acceso, Numero_Autorizacion) \" + \n \"values(@comprob,@serComprob,@rucEmisor,@razSocEmi,@FecEmisor,@FecAutoriz,@tipoEmision,@identRecep,@claveAcceso,@numAutoriz)\";\n     cmd.Parameters.AddWithValue(\"@comprob\", comprob);\n     cmd.Parameters.AddWithValue(\"@serComprob\", serComprob);\n     cmd.Parameters.AddWithValue(\"@razSocEmi\", razSocEmi);\n     cmd.Parameters.AddWithValue(\"@FecEmisor\", FecEmisor);\n     cmd.Parameters.AddWithValue(\"@FecAutoriz\", FecAutoriz);\n     cmd.Parameters.AddWithValue(\"@tipoEmision\", tipoEmision);\n     cmd.Parameters.AddWithValue(\"@identRecep\", DateTime.Parse(identRecep,\"MM/DD/YYYY\"));\n     cmd.Parameters.AddWithValue(\"@claveAcceso\", claveAcceso);\n     cmd.Parameters.AddWithValue(\"@numAutoriz\", numAutoriz);\n     cmd.Connection = sqlCon;\n     sqlCon.Open();\n     cmd.ExecuteNonQuery();\n     sqlCon.Close();\n  }\n }\n}\ncatch (MySqlException ex)\n    {\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 4591130, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ebcbc6200989709d8add5fe4af427848?s=128&d=identicon&r=PG&f=1", "display_name": "angel_neo", "link": "https://stackoverflow.com/users/4591130/angel-neo"}, "is_accepted": false, "score": 0, "last_activity_date": 1519927165, "creation_date": 1519927165, "answer_id": 49055927, "question_id": 49039697, "link": "https://stackoverflow.com/questions/49039697/change-datatable-column-date-format/49055927#49055927", "title": "Change Datatable Column Date Format", "body": "<p>Thanks a lot Rojalin, I changed this part of my code:</p>\n\n<pre><code>private void RegistrarAutorizacion()\n{\n    try\n    {\n        foreach (GridViewRow grd_Row in this.gvwAutorizaciones.Rows)\n        {\n            string Comprobante = Convert.ToString(grd_Row.Cells[0].Text.Replace(\"&amp;nbsp;\", \"\"));\n            string SerieComprobante = Convert.ToString(grd_Row.Cells[1].Text.Replace(\"&amp;nbsp;\", \"\"));\n            string RucEmisor = Convert.ToString(grd_Row.Cells[2].Text.Replace(\"&amp;nbsp;\", \"\"));\n            string RazSocEmisor = Convert.ToString(grd_Row.Cells[3].Text.Replace(\"&amp;nbsp;\", \"\"));\n            //DateTime FechaEmision = Convert.ToDateTime(grd_Row.Cells[4].Text.Replace(\"&amp;nbsp;\", \"\"));\n            //DateTime FechaAutorizacion = Convert.ToDateTime(grd_Row.Cells[5].Text.Replace(\"&amp;nbsp;\", \"\"));\n            var FechaEmision = DateTime.ParseExact(\n                grd_Row.Cells[4].Text.Replace(\"&amp;nbsp;\", \"\"), \n                \"dd/M/yyyy\", CultureInfo.InvariantCulture); \n            var FechaAutorizacion = DateTime.ParseExact(\n                grd_Row.Cells[5].Text.Remove(10,9),\n                \"dd/M/yyyy\", CultureInfo.InvariantCulture); //file text has time, but for my process is not important the hour\n\n\n            string TipoEmision = Convert.ToString(grd_Row.Cells[6].Text.Replace(\"&amp;nbsp;\", \"\"));\n            string IdentidadRecepetor = Convert.ToString(grd_Row.Cells[7].Text.Replace(\"&amp;nbsp;\", \"\"));\n            string ClaveAcceso = Convert.ToString(grd_Row.Cells[9].Text.Replace(\"&amp;nbsp;\", \"\"));\n            string NumeroAutorizacion = Convert.ToString(grd_Row.Cells[10].Text.Replace(\"&amp;nbsp;\", \"\"));\n\n\n            autorizDL.RegistrarAutorizacion(\n                Comprobante, SerieComprobante, RucEmisor, RazSocEmisor,\n                Convert.ToDateTime(FechaEmision),\n                Convert.ToDateTime(FechaAutorizacion),\n                TipoEmision, IdentidadRecepetor, ClaveAcceso, NumeroAutorizacion);\n\n        }\n    }\n    catch (System.FormatException sfex) { }\n    //catch (Exception ex) { }\n\n}\n</code></pre>\n\n<p>and I can insert new database entries.\nthank you again.</p>\n\n<p>best regards</p>\n"}], "owner": {"reputation": 191, "user_id": 4591130, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ebcbc6200989709d8add5fe4af427848?s=128&d=identicon&r=PG&f=1", "display_name": "angel_neo", "link": "https://stackoverflow.com/users/4591130/angel-neo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6592, "favorite_count": 0, "accepted_answer_id": 49042840, "answer_count": 3, "score": 1, "last_activity_date": 1519927165, "creation_date": 1519856956, "last_edit_date": 1519878591, "question_id": 49039697, "link": "https://stackoverflow.com/questions/49039697/change-datatable-column-date-format", "title": "Change Datatable Column Date Format", "body": "<p>I'm working with a txt files, I must insert that data in mysql database.\nSo I get that info in a <code>Datatable</code>, then I can get that data in my <code>gridview</code> and I must insert that data in database. I can do that, but I have problems with date columns.</p>\n\n<p>For example, When I try to insert, If I have this date in datagridview: 12/01/2018 no problem, but if I have 17/01/2018 not insert, I have manually changed and I've probed it.</p>\n\n<p>this is read txt:</p>\n\n<pre><code>string LogAutoriz_fileName = Server.MapPath(\"~/Files/\") + User.Identity.Name.ToString() + \"_\" + Path.GetFileName(fup_LogAutoriz_File.PostedFile.FileName);\n    fup_LogAutoriz_File.SaveAs(LogAutoriz_fileName);\n\n    DataTable dt = new DataTable();\n\n    List&lt;string[]&gt; list = new List&lt;string[]&gt;();\n    int maxItem = 0;\n    using (System.IO.TextReader tr = File.OpenText(LogAutoriz_fileName))\n    {\n        string line;\n        while ((line = tr.ReadLine()) != null)\n        {\n            string[] items = line.Trim().Split('    ');\n            if (maxItem &lt;= items.Count())\n            {\n                maxItem = items.Count();\n            }\n            list.Add(items);\n        }\n\n\n        //Crear las columnas del DataTable de Datos\n        dt.Columns.Add(\"Comprobante\", typeof(string));\n        dt.Columns.Add(\"Serie_Comprobante\", typeof(string));\n        dt.Columns.Add(\"Ruc_Emisor\", typeof(string));\n        dt.Columns.Add(\"RazonSoc_Emisor\", typeof(string));\n        dt.Columns.Add(\"Fecha_Emision\", typeof(string));\n        dt.Columns.Add(\"Fecha_Autoriz\", typeof(string));\n        dt.Columns.Add(\"Tipo_Emision\", typeof(string));\n        dt.Columns.Add(\"Ident_Receptor\", typeof(string));\n        dt.Columns.Add(\"Basura\", typeof(string));\n        dt.Columns.Add(\"Clave_Acceso\", typeof(string));\n        dt.Columns.Add(\"Numero_Autor\", typeof(string));\n        dt.Columns.Add(\"Importe_Total\", typeof(string));\n\n\n\n        foreach (var items in list)\n        {\n            dt.Rows.Add(items);\n        }\n\n\n        //cargar al grid\n        this.gvwAutorizaciones.DataSource = dt;\n        this.gvwAutorizaciones.DataBind();\n</code></pre>\n\n<p>And this is for insert every gridview record in data base:</p>\n\n<pre><code>try\n{\n    using (MySqlConnection sqlCon = new MySqlConnection(conn))\n    {\n        using (MySqlCommand cmd = new MySqlCommand())\n        {\n            cmd.CommandText = \"Insert into autorizaciones \" +\n                \"(comprobante, Serie_Comprobante, Ruc_Emisor, RazonSoc_Emisor, \" +\n                \"Fecha_Emision, Fecha_Autorizacion, \" +\n                \"Tipo_Emision, Ident_Receptor, Clave_Acceso, Numero_Autorizacion) \" +\n                \"values(\" +\n                \"'\" + comprob + \"', \" +\n                \"'\" + serComprob + \"', \" +\n                \"'\" + rucEmisor + \"', \" +\n                \"'\" + razSocEmi + \"', \" +\n                \"'\" + FecEmisor + \"', \" +\n                \"'\" + FecAutoriz + \"', \" +\n                \"'\" + tipoEmision + \"', \" +\n                \"'\" + identRecep + \"', \" +\n                \"'\" + claveAcceso + \"', \" +\n                \"'\" + numAutoriz + \"')\";\n            cmd.Connection = sqlCon;\n            sqlCon.Open();\n            cmd.ExecuteNonQuery();\n            sqlCon.Close();\n        }\n    }\n}\n\ncatch (MySqlException ex)\n{\n}\n</code></pre>\n\n<p>I call this in a foreach and I can insert records, but for dates, I have that problem.</p>\n\n<p>Is there any way to format the column datatable, for example \"yyyy-mm-dd\"?</p>\n\n<p>If please anyone can help me,</p>\n\n<p>thanks a lot\nbest regards</p>\n"}, {"tags": ["c#", "button", "programmatically-created"], "comments": [{"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1519857081, "post_id": 49039616, "comment_id": 85084749, "body": "Loop through the controls and find your button or hold onto the instance."}, {"owner": {"reputation": 136, "user_id": 2308273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jcw6k.png?s=128&g=1", "display_name": "Mr. Noob", "link": "https://stackoverflow.com/users/2308273/mr-noob"}, "edited": false, "score": 0, "creation_date": 1519857593, "post_id": 49039616, "comment_id": 85084955, "body": "You can just use 1 button and change its content on click instead, inside btn_Click() you check what is the content text is (or any other flag you set), if its &quot;contractButton&quot; then change it to &quot;infoButton&quot;, if its &quot;infoButton&quot; perform the task you need..."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 2892001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qlJR0.jpg?s=128&g=1", "display_name": "Fatos SYLAJ", "link": "https://stackoverflow.com/users/2892001/fatos-sylaj"}, "edited": false, "score": 0, "creation_date": 1519892627, "post_id": 49039745, "comment_id": 85095375, "body": "Hello Henoc, this example works perfectly for me, and it was easy to implement to my needs. thank you for your help."}], "tags": [], "owner": {"reputation": 966, "user_id": 7782179, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3pQqo8SyAts/AAAAAAAAAAI/AAAAAAAAAFg/iceJc8eRThs/photo.jpg?sz=128", "display_name": "henoc salinas", "link": "https://stackoverflow.com/users/7782179/henoc-salinas"}, "is_accepted": true, "score": 0, "last_activity_date": 1519857181, "creation_date": 1519857181, "answer_id": 49039745, "question_id": 49039616, "link": "https://stackoverflow.com/questions/49039616/c-show-hide-dynamic-created-button-from-dynamic-created-button/49039745#49039745", "title": "C# show/hide dynamic created button from dynamic created button", "body": "<p>Add Tag on contractButton, then when you clicked the button convert tag to button.</p>\n\n<pre><code>namespace DynamicButtons\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void Form1_Load(object sender, EventArgs e)\n        {\n            for (int i = 0; i &lt; 3; i++) //simple loop just to simulate the request\n            {\n                createContractButton();                    \n            }\n        }\n        private Button createInfoButton()\n        {\n            Button infoButton = infoButtonCreration(\"infoButton\");\n            flowLayoutPanel1.Controls.Add(infoButton);\n            infoButton.Click += new EventHandler(btnInfo_Click);\n            return infoButton;\n        }\n        private void createContractButton()\n        {\n            Button contractButton = contractButtonCreation(\"contractButton\");\n            flowLayoutPanel1.Controls.Add(contractButton);\n            contractButton.Click += new EventHandler(btn_Click);\n\n            contractButton.Tag=createInfoButton();\n\n        }\n        Button contractButtonCreation(string contract)\n        {\n            Button b = new Button();\n\n            b.FlatAppearance.BorderSize = 1;\n            b.FlatStyle = FlatStyle.Flat;\n            b.Name = contract;\n            b.Size = new Size(150, 80);\n            b.Text = contract;\n            b.UseVisualStyleBackColor = false;\n\n            return b;\n        }\n        Button infoButtonCreration(string info)\n        {\n            Button b = new Button();\n\n            b.FlatAppearance.BorderSize = 1;\n            b.FlatStyle = FlatStyle.Flat;\n            b.Name = info;\n            b.Size = new Size(70, 80);\n            b.Text = info;\n            b.UseVisualStyleBackColor = false;\n\n            b.Visible = false;         //this with make the button hidden\n\n            return b;\n        }\n        private void btn_Click(object sender, EventArgs e)\n        {\n            ((Button)((sender as Button)?.Tag)).Visible = true;            \n        }\n        private void btnInfo_Click(object sender, EventArgs e)\n        {\n            Button b = (sender as Button);\n            b.Text = \"name\"; //simple even when button gets visible so i can test it woeks\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 2892001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qlJR0.jpg?s=128&g=1", "display_name": "Fatos SYLAJ", "link": "https://stackoverflow.com/users/2892001/fatos-sylaj"}, "edited": false, "score": 0, "creation_date": 1519894103, "post_id": 49039950, "comment_id": 85096103, "body": "JayV, thank you for your support, this example works as well."}], "tags": [], "owner": {"reputation": 2688, "user_id": 9365244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b3b6d55137204d5a88f3ab1bebb826?s=128&d=identicon&r=PG&f=1", "display_name": "JayV", "link": "https://stackoverflow.com/users/9365244/jayv"}, "is_accepted": false, "score": 0, "last_activity_date": 1519858129, "creation_date": 1519858129, "answer_id": 49039950, "question_id": 49039616, "link": "https://stackoverflow.com/questions/49039616/c-show-hide-dynamic-created-button-from-dynamic-created-button/49039950#49039950", "title": "C# show/hide dynamic created button from dynamic created button", "body": "<p>When doing something like this, I prefer to create a custom class deriving from the <strong>System.Windows.Forms.Button</strong> class and add properties to it that help me to make subsequent calls easier.</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    public Form1()\n    {\n        InitializeComponent();\n    }\n\n    private void Form1_Load(object sender, EventArgs e)\n    {\n        for (int i = 0; i &lt; 3; i++) //simple loop just to simulate the request\n        {\n            createContractButton();  //will generate 3 contractButtons with Visible = true\n            // createInfoButton(); - Don't do this here\n        }\n    }\n    private Button createInfoButton()\n    {\n        Button infoButton = infoButtonCreration(\"infoButton\");\n        flowLayoutPanel1.Controls.Add(infoButton);\n        infoButton.Click += new EventHandler(btnInfo_Click);\n\n        return infoButton;\n    }\n    private void createContractButton()\n    {\n        MyCustomButton contractButton = contractButtonCreation(\"contractButton\");\n        flowLayoutPanel1.Controls.Add(contractButton);\n        contractButton.Click += new EventHandler(btn_Click);\n\n        // Create new infoButton here, tied directly to the ContractButton you have just created\n        contractButton.InfoButton = this.createInfoButton();\n    }\n    MyCustomButton contractButtonCreation(string contract)\n    {\n        MyCustomButton b = new MyCustomButton();\n\n        b.FlatAppearance.BorderSize = 1;\n        b.FlatStyle = FlatStyle.Flat;\n        b.Name = contract;\n        b.Size = new Size(150, 80);\n        b.Text = contract;\n        b.UseVisualStyleBackColor = false;\n\n        return b;\n    }\n    Button infoButtonCreration(string info)\n    {\n        Button b = new Button();\n\n        b.FlatAppearance.BorderSize = 1;\n        b.FlatStyle = FlatStyle.Flat;\n        b.Name = info;\n        b.Size = new Size(70, 80);\n        b.Text = info;\n        b.UseVisualStyleBackColor = false;\n\n        b.Visible = false;         //this with make the button hidden\n\n        return b;\n    }\n    private void btn_Click(object sender, EventArgs e)\n    {\n        //here i need the magic, on click i need the infoButton nect to me to be visible\n        MyCustomButton button = sender as MyCustomButton;\n        button.InfoButton.Visible = true;\n    }\n    private void btnInfo_Click(object sender, EventArgs e)\n    {\n        Button b = (sender as Button);\n        b.Text = \"name\"; //simple even when button gets visible so i can test it woeks\n    }\n}\n\npublic class MyCustomButton : Button\n{\n    public Button InfoButton { get; set; }\n}\n</code></pre>\n\n<p>The MyCustomButton class works exactly like a normal Button, but with the added benefit of having a nice custom property to access the InfoButton or any other property you want to add to it later.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 9425361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eaf79690dd7347eb0433fab5a8295b5?s=128&d=identicon&r=PG&f=1", "display_name": "Haqu", "link": "https://stackoverflow.com/users/9425361/haqu"}, "is_accepted": false, "score": 0, "last_activity_date": 1519859387, "creation_date": 1519859387, "answer_id": 49040193, "question_id": 49039616, "link": "https://stackoverflow.com/questions/49039616/c-show-hide-dynamic-created-button-from-dynamic-created-button/49040193#49040193", "title": "C# show/hide dynamic created button from dynamic created button", "body": "<p>Generally, you need reference for hidden buttons. If you do not want to do the buttons variables, you can add tag for contractButton  with position in flowLayoutPanel1.control. On event OnClick the contractButton get tag and add 1 and get button from flowLayoutPanel1.controls panel and change the Visible = true </p>\n\n<pre><code>private void btn_Click(object sender, EventArgs e)\n{\n    Button btn = sender as Button;\n    var hiddenBtn = flowLayoutPanel1.controls[btn.Tag + 1];\n    hiddenBtn.Visible = true;\n}\n\nprivate void Form1_Load(object sender, EventArgs e)\n{\n    for (int i = 0; i &lt; 3; i++) \n    {\n       createContractButton(i);  \n       createInfoButton();  \n    }\n}\n\nprivate void createContractButton(int i)\n{\n    Button contractButton = contractButtonCreation(\"contractButton\");\n    contractButton.Tag = i\n    flowLayoutPanel1.Controls.Add(contractButton);\n    contractButton.Click += new EventHandler(btn_Click);\n }\n</code></pre>\n\n<p><strong>One note: b.Name must be unique</strong></p>\n"}], "owner": {"reputation": 11, "user_id": 2892001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qlJR0.jpg?s=128&g=1", "display_name": "Fatos SYLAJ", "link": "https://stackoverflow.com/users/2892001/fatos-sylaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 49039745, "answer_count": 3, "score": 0, "last_activity_date": 1519859387, "creation_date": 1519856562, "question_id": 49039616, "link": "https://stackoverflow.com/questions/49039616/c-show-hide-dynamic-created-button-from-dynamic-created-button", "title": "C# show/hide dynamic created button from dynamic created button", "body": "<p>I have a simple C# Windows Form Application, where i create two set of buttons based on a specific loop. first set (called contractButton) are visible but the next set created beside them (called infoButton) is hidden. What I would like to achieve is bu clicking on contractButton to set visible to true for the corresponding infoButton generated beside him.\nHere is the code I have, </p>\n\n<pre><code>namespace DynamicButtons\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void Form1_Load(object sender, EventArgs e)\n        {\n            for (int i = 0; i &lt; 3; i++) //simple loop just to simulate the request\n            {\n                createContractButton();  //will generate 3 contractButtons with Visible = true\n                createInfoButton();  //will cgenerate 3 infoButtons with Visible = false\n            }\n        }\n        private void createInfoButton()\n        {\n            Button infoButton = infoButtonCreration(\"infoButton\");\n            flowLayoutPanel1.Controls.Add(infoButton);\n            infoButton.Click += new EventHandler(btnInfo_Click);\n        }\n        private void createContractButton()\n        {\n            Button contractButton = contractButtonCreation(\"contractButton\");\n            flowLayoutPanel1.Controls.Add(contractButton);\n            contractButton.Click += new EventHandler(btn_Click);\n        }\n        Button contractButtonCreation(string contract)\n        {\n            Button b = new Button();\n\n            b.FlatAppearance.BorderSize = 1;\n            b.FlatStyle = FlatStyle.Flat;\n            b.Name = contract;\n            b.Size = new Size(150, 80);\n            b.Text = contract;\n            b.UseVisualStyleBackColor = false;\n\n            return b;\n        }\n        Button infoButtonCreration(string info)\n        {\n            Button b = new Button();\n\n            b.FlatAppearance.BorderSize = 1;            \n            b.FlatStyle = FlatStyle.Flat;\n            b.Name = info;\n            b.Size = new Size(70, 80);\n            b.Text = info;\n            b.UseVisualStyleBackColor = false;\n\n            b.Visible = false;         //this with make the button hidden\n\n            return b;\n        }\n        private void btn_Click(object sender, EventArgs e)\n        {\n            //here i need the magic, on click i need the infoButton nect to me to be visible\n\n        }\n        private void btnInfo_Click(object sender, EventArgs e)\n        {\n            Button b = (sender as Button);\n            b.Text = \"name\"; //simple even when button gets visible so i can test it woeks\n        }\n    }\n}\n</code></pre>\n\n<p>I hope i explained my needs.<br>\nThank you very much for your support guys.<br>\nKind Regards<br><br>\n <a href=\"https://i.stack.imgur.com/mjz0l.png\" rel=\"nofollow noreferrer\">how it should look when working</a></p>\n"}, {"tags": ["c#", "winforms", "email", "gmail"], "comments": [{"owner": {"reputation": 7366, "user_id": 1958365, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/9eas5.png?s=128&g=1", "display_name": "Equalsk", "link": "https://stackoverflow.com/users/1958365/equalsk"}, "edited": false, "score": 0, "creation_date": 1519856724, "post_id": 49039600, "comment_id": 85084585, "body": "So put the signature at the end of the body?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9373061"}, "reply_to_user": {"reputation": 7366, "user_id": 1958365, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/9eas5.png?s=128&g=1", "display_name": "Equalsk", "link": "https://stackoverflow.com/users/1958365/equalsk"}, "edited": false, "score": 0, "creation_date": 1519856810, "post_id": 49039600, "comment_id": 85084622, "body": "So i have to configure it manually and make it a part of the body? How can i include for example a image?"}, {"owner": {"reputation": 7366, "user_id": 1958365, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/9eas5.png?s=128&g=1", "display_name": "Equalsk", "link": "https://stackoverflow.com/users/1958365/equalsk"}, "edited": false, "score": 0, "creation_date": 1519856886, "post_id": 49039600, "comment_id": 85084654, "body": "Search for <code>c# smtp inline image</code> and there are lots of examples <a href=\"https://stackoverflow.com/questions/18358534/send-inline-image-in-email\" title=\"send inline image in email\">stackoverflow.com/questions/18358534/send-inline-image-in-em&zwnj;&#8203;ail</a>"}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1519856905, "post_id": 49039600, "comment_id": 85084670, "body": "I see HTML, so HTML? ;)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9373061"}, "edited": false, "score": 0, "creation_date": 1519857117, "post_id": 49039600, "comment_id": 85084760, "body": "Hm i will try to expriment a bit, i thougt there was a option that i missed"}], "owner": {"user_type": "does_not_exist", "display_name": "user9373061"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "closed_date": 1519921471, "answer_count": 0, "score": 0, "last_activity_date": 1519856495, "creation_date": 1519856495, "question_id": 49039600, "link": "https://stackoverflow.com/questions/49039600/c-sending-email-with-signature", "closed_reason": "Duplicate", "title": "C# Sending Email with signature", "body": "<p>i have configured a signature on my gmail account. But when i send it from winforms, it seems that it does not include the signature. Here is my code:</p>\n\n<pre><code>               try\n            {\n                SmtpClient client = new SmtpClient(\"smtp.gmail.com\", 587);\n                client.DeliveryMethod = SmtpDeliveryMethod.Network;\n                client.UseDefaultCredentials = false;\n                NetworkCredential credential = new NetworkCredential(\"xxxxx@gmail.com\", \"xxxx\");\n                client.Timeout = 20000;\n\n                MailMessage mailMessage = new MailMessage();\n                mailMessage.From = new MailAddress(\"xxxxx@gmail.com\", \"Test Mail\");\n                mailMessage.Priority = MailPriority.High;\n                mailMessage.IsBodyHtml = true;\n\n                mailMessage.To.Add(\"xxxxx@gmail.com\");\n\n                mailMessage.Subject = \"Test Mail\"\n\n                mailMessage.Body = \"This is a &lt;b&gt;test&lt;/b&gt; av &lt;b&gt;{2}&lt;/b&gt; mail.\";\n\n                client.Credentials = credential;\n                client.EnableSsl = true;\n\n                client.Send(mailMessage);\n            }\n            catch (Exception ex)\n            {\n                MessageBox.Show(\"Error\" + ex, \"Message\", MessageBoxButtons.OK, MessageBoxIcon.Warning);\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "async-await", "task"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1519856556, "post_id": 49039580, "comment_id": 85084521, "body": "There are <i>very</i> few situations in which it makes sense to use <code>ContinueWith</code>.  You should almost always be using <i>await</i> to add continuations to async operations.  If you re-write your code to use <code>async</code> methods, rather than <code>ContinueWith</code>, you&#39;ll find that you don&#39;t end up with nested tasks that you have to worry about.  You could write the <code>ContinueWIth</code> code to fix that, but you&#39;d still have numerous other things to have to fix that <code>await</code> already handles for you."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1519856968, "post_id": 49039580, "comment_id": 85084697, "body": "Note that rather than your approach for handling tasks as they complete I&#39;d suggest <a href=\"https://stackoverflow.com/questions/36776546/waiting-for-a-single-task-to-fail-out-of-a-listtask-more-cleanly-possibly/36776706#36776706\">using a method to order the tasks by their completion time</a>, as that will come out a lot nicer."}], "owner": {"reputation": 486, "user_id": 2690556, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/Opqd2.jpg?s=128&g=1", "display_name": "lanierhall", "link": "https://stackoverflow.com/users/2690556/lanierhall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519856410, "creation_date": 1519856410, "question_id": 49039580, "link": "https://stackoverflow.com/questions/49039580/best-way-to-waitany-on-continued-async-methods", "title": "Best way to WaitAny on continued async methods", "body": "<p>I want to process async results as they finish but these async results are nested two layers deep.\nFor instance, take this block of code:</p>\n\n<pre><code>    var responseTaskList = new List&lt;Task&lt;HttpResponseMessage&gt;&gt;();\n    for (var i = 0; i &lt; 10; i++)\n    responseTaskList.Add(httpClient.GetAsync(uri));\n    while (responseTaskList.Any())\n    {\n        var responseTask = await Task.WhenAny(responseTaskList);\n        responseTaskList.Remove(responseTask);\n        //Do Something with responseTask.Result\n    }\n</code></pre>\n\n<p>We're creating a list of tasks and when any return we do something.\nI want to basically continue and do something when each continuation finishes.\nI want to do this for <code>response.Content</code>\nSo something like this:</p>\n\n<pre><code>    var contentTaskList = new List&lt;Task&lt;Task&lt;string&gt;&gt;&gt;();\n    for (var i = 0; i &lt; 10; i++)\n        contentTaskList.Add(httpClient.GetAsync(uri)\n            .ContinueWith(rt =&gt; rt.Result.Content.ReadAsStringAsync()));\n            while (contentTaskList.Any())\n            {\n                var contentTaskTask = await Task.WhenAny(contentTaskList);\n                contentTaskList.Remove(contentTaskTask);\n                context.WriteLine(contentTaskTask.Result.Result);\n            }\n</code></pre>\n\n<p>Is this the best way to write this code and will this effectively write a line to the context as soon as each response returns and reads its content?</p>\n"}, {"tags": ["c#", "c++", "linux", "mono", "mono-embedding"], "comments": [{"owner": {"reputation": 2099, "user_id": 6218092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kSB0h.png?s=128&g=1", "display_name": "muszeo", "link": "https://stackoverflow.com/users/6218092/muszeo"}, "edited": false, "score": 0, "creation_date": 1519973165, "post_id": 49039505, "comment_id": 85133033, "body": "Not solved this specifically but have you tried the --arch switch on the mono command to see if you can execute in 32 bit?"}, {"owner": {"reputation": 11, "user_id": 9109981, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NPW90RotBQk/AAAAAAAAAAI/AAAAAAAAPKY/BzkrlNaMNkY/photo.jpg?sz=128", "display_name": "TheLast Rar", "link": "https://stackoverflow.com/users/9109981/thelast-rar"}, "reply_to_user": {"reputation": 2099, "user_id": 6218092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kSB0h.png?s=128&g=1", "display_name": "muszeo", "link": "https://stackoverflow.com/users/6218092/muszeo"}, "edited": false, "score": 0, "creation_date": 1520015316, "post_id": 49039505, "comment_id": 85156330, "body": "According to <a href=\"https://stackoverflow.com/questions/47016012/running-32-bit-version-of-mono-embedded\">link</a>, the --arch command is not available when embedding, the issue is that on a 64bit system, mono does not provide 32bit libs to link/load and mono does not appear to have multiarch, preventing me from installing the 32bit version if the 64bit version is already installed."}, {"owner": {"reputation": 2099, "user_id": 6218092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kSB0h.png?s=128&g=1", "display_name": "muszeo", "link": "https://stackoverflow.com/users/6218092/muszeo"}, "edited": false, "score": 0, "creation_date": 1520035271, "post_id": 49039505, "comment_id": 85164328, "body": "Ah I see. So \u2014arch only useful if executing mono directly. :-/ hummm"}], "owner": {"reputation": 11, "user_id": 9109981, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NPW90RotBQk/AAAAAAAAAAI/AAAAAAAAPKY/BzkrlNaMNkY/photo.jpg?sz=128", "display_name": "TheLast Rar", "link": "https://stackoverflow.com/users/9109981/thelast-rar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 462, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1519856071, "creation_date": 1519856071, "question_id": 49039505, "link": "https://stackoverflow.com/questions/49039505/embedding-32bit-version-of-mono-when-running-on-64bit-linux", "title": "Embedding 32bit version of mono when running on 64bit Linux", "body": "<p>I'm currently porting a C# plugin from Windows to Linux. On Windows the plugin is loaded using a DllExport nuget package, on Linux I'm looking to use Mono embedding.</p>\n\n<p>The program that will use my plugin only has 32bit builds, so I would need to embed the 32bit version of Mono regardless of the OS.</p>\n\n<p>On 64bit Linux, the default install of Mono only provides x64 libs and does not appear to be multi-arch compatible.</p>\n\n<p>Is there an intended way to embed 32bit Mono on a 64bit system?</p>\n"}, {"tags": ["c#", "asp.net", "signalr"], "comments": [{"owner": {"reputation": 556, "user_id": 2207508, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/efd58545ae60582e56af85c58e9cb7a5?s=128&d=identicon&r=PG", "display_name": "David C", "link": "https://stackoverflow.com/users/2207508/david-c"}, "edited": false, "score": 0, "creation_date": 1519856789, "post_id": 49039498, "comment_id": 85084612, "body": "Can you post the bit where you bind this method to the SignalR event? I&#39;m not familiar with SignalR, but the method you&#39;re using might not have access to the UI elements."}, {"owner": {"reputation": 125, "user_id": 9296045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52de53368d014119408af0f6d101904?s=128&d=identicon&r=PG&f=1", "display_name": "Brian S", "link": "https://stackoverflow.com/users/9296045/brian-s"}, "reply_to_user": {"reputation": 556, "user_id": 2207508, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/efd58545ae60582e56af85c58e9cb7a5?s=128&d=identicon&r=PG", "display_name": "David C", "link": "https://stackoverflow.com/users/2207508/david-c"}, "edited": false, "score": 0, "creation_date": 1519857224, "post_id": 49039498, "comment_id": 85084805, "body": "@DavidC799 Yes, sorry I forgot to post that part. I&#39;ve update the post with where it&#39;s called by SignalR."}, {"owner": {"reputation": 556, "user_id": 2207508, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/efd58545ae60582e56af85c58e9cb7a5?s=128&d=identicon&r=PG", "display_name": "David C", "link": "https://stackoverflow.com/users/2207508/david-c"}, "edited": false, "score": 0, "creation_date": 1519857898, "post_id": 49039498, "comment_id": 85085094, "body": "So does loadDispatchViews() call initGrdAvail()? I think it will be something to do with the fact that the callback for <code>HubProxyRegister.On&lt;string, string&gt;(&quot;UpdateUnitStatus&quot;, (username, status) =&gt; { loadDispatchViews(); });</code> is a Task and will run on a separate thread. I would have thought there would be an error though!"}, {"owner": {"reputation": 556, "user_id": 2207508, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/efd58545ae60582e56af85c58e9cb7a5?s=128&d=identicon&r=PG", "display_name": "David C", "link": "https://stackoverflow.com/users/2207508/david-c"}, "edited": false, "score": 0, "creation_date": 1519857911, "post_id": 49039498, "comment_id": 85085102, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/dn433672(v=vs.118).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/dn433672(v=vs.118).aspx</a>"}, {"owner": {"reputation": 125, "user_id": 9296045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52de53368d014119408af0f6d101904?s=128&d=identicon&r=PG&f=1", "display_name": "Brian S", "link": "https://stackoverflow.com/users/9296045/brian-s"}, "reply_to_user": {"reputation": 556, "user_id": 2207508, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/efd58545ae60582e56af85c58e9cb7a5?s=128&d=identicon&r=PG", "display_name": "David C", "link": "https://stackoverflow.com/users/2207508/david-c"}, "edited": false, "score": 0, "creation_date": 1519858316, "post_id": 49039498, "comment_id": 85085267, "body": "Ah yes, loadDispatchViews() just calls initGrdAvail(), initGrdBusy), initGrdUnavail(). I think I understand what you&#39;re saying. Looking at the link you gave me, I&#39;m a bit confused on how to use it. If you don&#39;t mind, how would I format this?"}, {"owner": {"reputation": 125, "user_id": 9296045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52de53368d014119408af0f6d101904?s=128&d=identicon&r=PG&f=1", "display_name": "Brian S", "link": "https://stackoverflow.com/users/9296045/brian-s"}, "reply_to_user": {"reputation": 556, "user_id": 2207508, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/efd58545ae60582e56af85c58e9cb7a5?s=128&d=identicon&r=PG", "display_name": "David C", "link": "https://stackoverflow.com/users/2207508/david-c"}, "edited": false, "score": 0, "creation_date": 1519858522, "post_id": 49039498, "comment_id": 85085367, "body": "public static IDisposable On&lt;T1, T2&gt;(this IHubProxy HubProxyRegister, &quot;UpdateUnitStatus&quot; , Action&lt;T1, T2&gt; loadDispatchViews); Not fully understanding the syntax @DavidC799"}, {"owner": {"reputation": 125, "user_id": 9296045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52de53368d014119408af0f6d101904?s=128&d=identicon&r=PG&f=1", "display_name": "Brian S", "link": "https://stackoverflow.com/users/9296045/brian-s"}, "reply_to_user": {"reputation": 556, "user_id": 2207508, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/efd58545ae60582e56af85c58e9cb7a5?s=128&d=identicon&r=PG", "display_name": "David C", "link": "https://stackoverflow.com/users/2207508/david-c"}, "edited": false, "score": 0, "creation_date": 1519859167, "post_id": 49039498, "comment_id": 85085600, "body": "I tried changing the Signalr event call just initGrdAvail() instead of loadDispatchViews() that calls the initGrdAvail() and other methods, still no luck. It fully runs the method, but doesn&#39;t display the new data on the page."}, {"owner": {"reputation": 2744, "user_id": 4098052, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8cf60de4dccb4a7525e0d49f5b20a99f?s=128&d=identicon&r=PG", "display_name": "Stephu", "link": "https://stackoverflow.com/users/4098052/stephu"}, "edited": false, "score": 0, "creation_date": 1519976852, "post_id": 49039498, "comment_id": 85134408, "body": "Read first <a href=\"https://stackoverflow.com/questions/18143599/can-signalr-be-used-with-asp-net-webforms\" title=\"can signalr be used with asp net webforms\">stackoverflow.com/questions/18143599/&hellip;</a> befor you ask additional questons"}], "owner": {"reputation": 125, "user_id": 9296045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52de53368d014119408af0f6d101904?s=128&d=identicon&r=PG&f=1", "display_name": "Brian S", "link": "https://stackoverflow.com/users/9296045/brian-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1519859916, "creation_date": 1519856026, "last_edit_date": 1519859916, "question_id": 49039498, "link": "https://stackoverflow.com/questions/49039498/asp-net-method-wont-work-on-signalr-invoke-only-on-event", "title": "ASP.NET Method wont work on Signalr invoke, only on event", "body": "<p>I have a method initGrdAvail() that gets the latest info for a gridview from a MySQL database and updates the gridview</p>\n\n<pre><code>    private void initGrdAvail()\n    {\n        string selectedDept = drpLstDepts.SelectedItem.Text;\n        string query;\n        if (selectedDept == \"ALL\")\n            query = \"SELECT unitnum,department,rank,name FROM units WHERE status='Available'\";\n        else\n            query = \"SELECT unitnum,department,rank,name FROM units WHERE status='Available' AND department='\"+selectedDept+\"'\";\n        using (MySqlConnection con = new MySqlConnection(cnnStrData))\n        {\n            using (MySqlCommand cmd = new MySqlCommand(query))\n            {\n                cmd.Connection = con;\n                MySqlDataAdapter da = new MySqlDataAdapter(cmd);\n                DataSet ds = new DataSet();\n                da.Fill(ds);\n                grdViewDisAvailable.DataSource = ds;\n                grdViewDisAvailable.DataBind();\n            }\n        }\n    }\n</code></pre>\n\n<p>This method works fine when calling it on a button click event, or a selected index changed event on a drop down list.</p>\n\n<p>Here is where it's called from SignalR:</p>\n\n<pre><code>        HubProxyRegister.On&lt;string, string&gt;(\"UpdateUnitStatus\", (username, status) =&gt;\n        { initGrdAvail(); });\n</code></pre>\n\n<p>However, when calling this method from an incoming Signalr event it does not update the gridview. I can see that this method is being called and ran fully through debugging, but it only displays the updated gridview on the page when the method is called from some sort of button event.</p>\n\n<p>I am fairly new to ASP.NET, does this have something to do with Signalr not using a postback or something? I've tried searching around a bit but haven't had much luck yet.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "wpf", "observablecollection"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 1416072, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/03c736fefb5c17dabdb0db2413c64bac?s=128&d=identicon&r=PG", "display_name": "user1416072", "link": "https://stackoverflow.com/users/1416072/user1416072"}, "edited": false, "score": 0, "creation_date": 1519929494, "post_id": 49041782, "comment_id": 85117584, "body": "That&#39;s it! My mistake, I wasn&#39;t declaring it in the main thread... Thanks!"}], "tags": [], "owner": {"reputation": 187, "user_id": 3926621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/99be5.jpg?s=128&g=1", "display_name": "pengMiao", "link": "https://stackoverflow.com/users/3926621/pengmiao"}, "is_accepted": true, "score": 1, "last_activity_date": 1519871913, "creation_date": 1519871913, "answer_id": 49041782, "question_id": 49039496, "link": "https://stackoverflow.com/questions/49039496/adding-item-to-obsercablecollection-with-icollectionview-for-filtering-wpf/49041782#49041782", "title": "Adding item to ObsercableCollection with ICollectionView for filtering WPF", "body": "<p>It seems like</p>\n\n<pre><code>CategoriesView = CollectionViewSource.GetDefaultView(_mainViewModel.Categories );\n            CategoriesView .Filter = new Predicate&lt;object&gt;(o =&gt; Filter(o as Category));\n</code></pre>\n\n<p>is running on a non-ui thread. Try to run it by <strong>Dispatcher.Invoke</strong> to ensure it run on main-ui thread :</p>\n\n<pre><code>App.Current.Dispatcher.Invoke((Action)delegate\n        {\n            CategoriesView = CollectionViewSource.GetDefaultView(_mainViewModel.Categories );\n            CategoriesView .Filter = new Predicate&lt;object&gt;(o =&gt; Filter(o as Category));\n        });\n</code></pre>\n\n<p>I found a similar case in another post you may refer to it : <a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/ba22092e-ddb5-4cf9-95e3-8ecd61b0468d/listview-not-updating-white-copying-files-in-different-thread?forum=wpf\" rel=\"nofollow noreferrer\">https://social.msdn.microsoft.com/Forums/vstudio/en-US/ba22092e-ddb5-4cf9-95e3-8ecd61b0468d/listview-not-updating-white-copying-files-in-different-thread?forum=wpf</a></p>\n"}], "owner": {"reputation": 107, "user_id": 1416072, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/03c736fefb5c17dabdb0db2413c64bac?s=128&d=identicon&r=PG", "display_name": "user1416072", "link": "https://stackoverflow.com/users/1416072/user1416072"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 791, "favorite_count": 0, "accepted_answer_id": 49041782, "answer_count": 1, "score": 0, "last_activity_date": 1519871913, "creation_date": 1519856025, "question_id": 49039496, "link": "https://stackoverflow.com/questions/49039496/adding-item-to-obsercablecollection-with-icollectionview-for-filtering-wpf", "title": "Adding item to ObsercableCollection with ICollectionView for filtering WPF", "body": "<p>I have a MainViewModel and a CategoryViewModel</p>\n\n<p>MainViewmodel has the collection:</p>\n\n<pre><code> public ObservableCollection&lt;Category&gt; Categories { get; set; }\n</code></pre>\n\n<p>Inside CategoryViewModel I have the ICollectionView for filtering:</p>\n\n<pre><code>    public ICollectionView CategoriesView { get; set; }\n\nCategoriesView = CollectionViewSource.GetDefaultView(_mainViewModel.Categories );\n                CategoriesView .Filter = new Predicate&lt;object&gt;(o =&gt; Filter(o as Category));\n</code></pre>\n\n<p>The thing is that if I don't use CategoriesView I can modify (add, edit, remove) my Categories ObservableCollection, but when I implement the CategoriesView for filtering, I get a NotSupportedException when trying to add a new Category to the ObservableCollection:</p>\n\n<p><em>This type of CollectionView does not support changes to its SourceCollection from a thread different from the Dispatcher thread</em></p>\n\n<p>I already tried  <a href=\"https://stackoverflow.com/questions/18331723/this-type-of-collectionview-does-not-support-changes-to-its-sourcecollection-fro\">This type of CollectionView does not support changes to its SourceCollection from a thread different from the Dispatcher thread</a></p>\n\n<pre><code>App.Current.Dispatcher.Invoke((Action)delegate\n            {\n                _mainViewModel.Categories.Add(newCategory);\n            });\n</code></pre>\n\n<p>Also:</p>\n\n<pre><code>BindingOperations.EnableCollectionSynchronization(_matchObsCollection , _lock);\n</code></pre>\n\n<p>I already went to Debug --> Windows --> Threads\nThe method is indeed in the Main Thread</p>\n"}, {"tags": ["c#", "wpf", "mvvm"], "comments": [{"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 1, "creation_date": 1519856279, "post_id": 49039486, "comment_id": 85084421, "body": "Do not set <code>Stretch=&quot;Fill&quot;</code>. It&#39;s obviously not what you want. Setting <code>Panel.ZIndex=&quot;10&quot;</code> also doesn&#39;t seem to make much sense."}, {"owner": {"reputation": 399, "user_id": 4702773, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/aaara.png?s=128&g=1", "display_name": "Bukk94", "link": "https://stackoverflow.com/users/4702773/bukk94"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1519857243, "post_id": 49039486, "comment_id": 85084816, "body": "My idea behind the ZIndex was that I want the line below the nodes (not above them as seen on the picture)"}, {"owner": {"reputation": 399, "user_id": 4702773, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/aaara.png?s=128&g=1", "display_name": "Bukk94", "link": "https://stackoverflow.com/users/4702773/bukk94"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1519857374, "post_id": 49039486, "comment_id": 85084863, "body": "You&#39;re right! That fixed my issue! Thank you so much! (The position was still off but I managed to fix that by offseting the coordinates)."}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 1, "creation_date": 1519857403, "post_id": 49039486, "comment_id": 85084877, "body": "I guess the nodes are in a different ItemsControl and hence in a different Canvas. ZIndex however has an effect only on child elements of the same Canvas. For the placement of the nodes, apparently they are aligned at their top left corner, but you want them centered. Instead of an Ellipse you should use a Path with an EllipseGeometry."}, {"owner": {"reputation": 399, "user_id": 4702773, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/aaara.png?s=128&g=1", "display_name": "Bukk94", "link": "https://stackoverflow.com/users/4702773/bukk94"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1519857710, "post_id": 49039486, "comment_id": 85085023, "body": "Thanks a lot! You are correct, I&#39;ll try to put them into the same canvas. As for a centering the ellipses, I&#39;m setting top left corner and for the rest, I&#39;m calculating the center via the size. I&#39;ll take a loot on EllipseGeometry. Thank you for a tip and solving my problem. Do you wanna put it as an answer so I can mark it?"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 1, "creation_date": 1519857999, "post_id": 49039486, "comment_id": 85085136, "body": "This may also be helpful: <a href=\"https://stackoverflow.com/q/42246896/1136211\">stackoverflow.com/q/42246896/1136211</a>. For the ZIndex, just put the lines ItemsControl below the nodes ItemsControl."}], "owner": {"reputation": 399, "user_id": 4702773, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/aaara.png?s=128&g=1", "display_name": "Bukk94", "link": "https://stackoverflow.com/users/4702773/bukk94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519856001, "creation_date": 1519856001, "question_id": 49039486, "link": "https://stackoverflow.com/questions/49039486/wpf-line-position-in-itemscontrol-is-off", "title": "WPF Line position in ItemsControl is off", "body": "<p>I'm trying to draw lines on canvas using <code>ItemsControl</code>. I'm using MVVM architecture. I'm having a problem that every line is drawn at {0, 0} coordinates despite the start/end position binding (I double checked, the values are correct).</p>\n\n<pre><code>&lt;ItemsControl Name=\"ic2\" \n              ItemsSource=\"{Binding Edges}\" &gt;\n    &lt;ItemsControl.ItemsPanel&gt;\n        &lt;ItemsPanelTemplate&gt;\n             &lt;Canvas/&gt;\n        &lt;/ItemsPanelTemplate&gt;\n    &lt;/ItemsControl.ItemsPanel&gt;\n\n    &lt;ItemsControl.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;Line X1=\"{Binding X}\"\n                  Y1=\"{Binding Y}\"\n                  X2=\"{Binding DestinationX}\"\n                  Y2=\"{Binding DestinationY}\"\n                  Panel.ZIndex=\"10\"\n                  StrokeThickness=\"5\"\n                  Stroke=\"Black\"\n                  Stretch=\"Fill\"\n                  Fill=\"Black\" /&gt;\n         &lt;/DataTemplate&gt;\n      &lt;/ItemsControl.ItemTemplate&gt;\n    &lt;/ItemsControl&gt;\n</code></pre>\n\n<p>I'm setting DataContex of ItemsControl (ic2) in MainWindow <code>this.ic2.DataContext = new MapManagerVM();</code></p>\n\n<p>MVVM class <code>MapManagerVM</code> contains</p>\n\n<pre><code>public ObservableCollection&lt;Edge&gt; Edges { get; set; }\n</code></pre>\n\n<p>Class <code>Edge</code> contains <code>int</code> property for <code>X</code>, <code>Y</code>, <code>DestinationX</code> and <code>DestinationY</code>.</p>\n\n<p>Referring to the picture below, the black line should be between blue nodes. As you can see, length of the line is correct, but the position is off (object's <code>X</code> and <code>Y</code> are correct but they are incorrectly painted on canvas)\n<a href=\"https://i.stack.imgur.com/ywZ6l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ywZ6l.png\" alt=\"Wrong line position\"></a></p>\n"}, {"tags": ["javascript", "c#", "asp.net-mvc", "razor"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1519856204, "post_id": 49039478, "comment_id": 85084389, "body": "What <code>filter()</code> method? You have a <code>onclick=&quot;filterData()</code> in a button but have not even shown that script and how your making a call to your <code>filter()</code> in the controller"}, {"owner": {"reputation": 317, "user_id": 9114700, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/218d982722d64832734a858ba6e68748?s=128&d=identicon&r=PG&f=1", "display_name": "Max Boy", "link": "https://stackoverflow.com/users/9114700/max-boy"}, "edited": false, "score": 0, "creation_date": 1519856415, "post_id": 49039478, "comment_id": 85084465, "body": "Sorry, I forgot it. I just added the filterData()"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 2, "creation_date": 1519856697, "post_id": 49039478, "comment_id": 85084575, "body": "Your making an ajax call to a method that return html (your view) but you never do anything with it. You need to update the DOM in the success callback - e.g. <code>$(someElement).html(data);</code>"}, {"owner": {"reputation": 317, "user_id": 9114700, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/218d982722d64832734a858ba6e68748?s=128&d=identicon&r=PG&f=1", "display_name": "Max Boy", "link": "https://stackoverflow.com/users/9114700/max-boy"}, "edited": false, "score": 0, "creation_date": 1519858090, "post_id": 49039478, "comment_id": 85085176, "body": "I see... Is there a way to refresh the view from a ajax call?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1519858299, "post_id": 49039478, "comment_id": 85085258, "body": "Yes. But if you want to refresh the whole page, then just make a GET to redirect back to your view (by wrapping the form controls in a form with `FormMethod.Get). But if you want to just update the table in the existing view, then make an ajax call to a method that returns a partial view of just the table, and then replace the table in the success callback"}, {"owner": {"reputation": 317, "user_id": 9114700, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/218d982722d64832734a858ba6e68748?s=128&d=identicon&r=PG&f=1", "display_name": "Max Boy", "link": "https://stackoverflow.com/users/9114700/max-boy"}, "edited": false, "score": 0, "creation_date": 1519858459, "post_id": 49039478, "comment_id": 85085337, "body": "I want just to update the table, but I just start with asp.net mvc"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "reply_to_user": {"reputation": 317, "user_id": 9114700, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/218d982722d64832734a858ba6e68748?s=128&d=identicon&r=PG&f=1", "display_name": "Max Boy", "link": "https://stackoverflow.com/users/9114700/max-boy"}, "edited": false, "score": 0, "creation_date": 1519858475, "post_id": 49039478, "comment_id": 85085346, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/166004/discussion-between-stephen-muecke-and-max-boy\">continue this discussion in chat</a>."}], "owner": {"reputation": 317, "user_id": 9114700, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/218d982722d64832734a858ba6e68748?s=128&d=identicon&r=PG&f=1", "display_name": "Max Boy", "link": "https://stackoverflow.com/users/9114700/max-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519868865, "creation_date": 1519855959, "last_edit_date": 1519868865, "question_id": 49039478, "link": "https://stackoverflow.com/questions/49039478/asp-net-mvc-return-view-from-another-method-not-working", "title": "asp.net mvc return view from another method not working", "body": "<p>I build my MVC Index view when the page is loaded.\nMy view:</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n    &lt;br/&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;label for=\"dateRange\" style=\"margin-left: 240px;\"&gt;Date Range:&lt;/label&gt;&amp;nbsp;&amp;nbsp;\n        &lt;input class=\"form-control col-md-2\" type=\"text\" id=\"startDate\" value=\"@ViewBag.StartDate\" /&gt;&amp;nbsp;&amp;nbsp;\n        &lt;label for=\"dateRange\"&gt; - &lt;/label&gt;&amp;nbsp;&amp;nbsp;\n        &lt;input class=\"form-control col-md-2\" type=\"text\" id=\"endDate\" value=\"@ViewBag.EndDate\" /&gt;&amp;nbsp;&amp;nbsp;\n        &lt;button type=\"button\" class=\"btn btn-success\" onclick=\"filterData();\"&gt;Submit&lt;/button&gt;\n    &lt;/div&gt;\n    &lt;br/&gt;\n    &lt;table class=\"table table-bordered\"&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Payment Date&lt;/th&gt;\n                &lt;th&gt;Tenant&lt;/th&gt;\n                &lt;th&gt;Payment Amount&lt;/th&gt;\n                &lt;th&gt;Payment Category&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            @foreach (var item in Model)\n            {\n                &lt;tr&gt;\n                    &lt;td&gt;@item.PaymentDate.ToString(\"MM/dd/yyyy\")&lt;/td&gt;\n                    &lt;td&gt;@item.TenantFullName&lt;/td&gt;\n                    &lt;td&gt;@string.Format(\"{0:C}\", @item.PaymentAmount)&lt;/td&gt;\n                    &lt;td&gt;@Html.ActionLink(@item.PaymentCategory, \"Index\", \"AddEditCategory\", new { id = @item.CategoryID, tID = @item.TenantTransactionID }, null)&lt;/td&gt;\n                &lt;/tr&gt;\n            }\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n        // When the document is ready\n        $(document).ready(function () {\n            $('#startDate').datepicker({\n                format: \"mm/dd/yyyy\"\n            });\n            $('#endDate').datepicker({\n                format: \"mm/dd/yyyy\"\n            });\n        });\n&lt;/script&gt;\n</code></pre>\n\n<p>JavaScript for the filterData() method:</p>\n\n<pre><code>    function filterData() {\n    if ($(\"#startDate\").val() == \"\" || $(\"#endDate\").val() == \"\") {\n        $(\"#msgError\").html(\"Please enter the date range\")\n        $(\"#defaultErrors\").modal();\n    } else {\n        data = {\n            StartDate: $(\"#startDate\").val(),\n            EndDate: $(\"#endDate\").val()\n        }\n        $.ajax({\n            url: '/AllocateTenantPayments/filter',\n            type: 'POST',\n            data: JSON.stringify({\n                dateRange: data\n            }),\n            contentType: 'application/json; charset=utf-8',\n            success: function (data) {\n\n            },\n            error: function (erro) {\n                $(\"#msgError\").html(\"Error processing your request. We'll contact you shortly.\")\n                $(\"#defaultErrors\").modal();\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>My controller load the index data and the method filter refresh it with new date range:</p>\n\n<pre><code>    public ActionResult Index(int? id)\n{\n    if (id == null)\n        return new HttpStatusCodeResult(HttpStatusCode.BadRequest);\n\n    System.Web.HttpContext.Current.Session[\"PropertyID\"] = id;\n\n    // Query data and set the viewModel\n\n    ViewBag.StartDate = startDate.ToString(\"MM/dd/yyyy\");\n    ViewBag.EndDate = endDate.ToString(\"MM/dd/yyyy\");\n    return View(viewModel);\n}\n\npublic ActionResult filter(DateFilter dateRange)\n{\n    // query new data and set the viewModel\n\n    ViewBag.StartDate = dateRange.StartDate.ToString(\"MM/dd/yyyy\");\n    ViewBag.EndDate = dateRange.EndDate.ToString(\"MM/dd/yyyy\");\n    return View(\"~/Views/AllocateTenantPayments/Index.cshtml\", viewModel);\n}\n</code></pre>\n\n<p>When I debug the controller methods, it is correct which one returns the viewModel data that I want; however, the filter() method does not refresh the view in the browser. It stuck with the first data returned. \nDoes anyone know what I am doing wrong?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "datatable", "dataset", ".net-3.5"], "comments": [{"owner": {"reputation": 966, "user_id": 7782179, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3pQqo8SyAts/AAAAAAAAAAI/AAAAAAAAAFg/iceJc8eRThs/photo.jpg?sz=128", "display_name": "henoc salinas", "link": "https://stackoverflow.com/users/7782179/henoc-salinas"}, "edited": false, "score": 0, "creation_date": 1519856423, "post_id": 49039477, "comment_id": 85084469, "body": "Dataset have a property named Tables and Datatable have a property named TableName try access MyDataSet.Tables[&quot;TableName&quot;.Rows.Add(****);"}], "answers": [{"tags": [], "owner": {"reputation": 762, "user_id": 1980616, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/4wxpG.png?s=128&g=1", "display_name": "fanuc_bob", "link": "https://stackoverflow.com/users/1980616/fanuc-bob"}, "is_accepted": false, "score": 0, "last_activity_date": 1519856579, "creation_date": 1519856579, "answer_id": 49039618, "question_id": 49039477, "link": "https://stackoverflow.com/questions/49039477/how-add-row-to-existing-datatable-within-dataset-c/49039618#49039618", "title": "how add row to existing Datatable within dataset c#?", "body": "<p>The class DataSet directly supports merging data in the form of DataRow or DataTable. Query for your DataSet object and perform whatever operations you require.</p>\n\n<pre><code>public void Merge(DataRow[] rows, bool preserveChanges, MissingSchemaAction missingSchemaAction);\npublic void Merge(DataRow[] rows);\npublic void Merge(DataTable table, bool preserveChanges, MissingSchemaAction missingSchemaAction);\npublic void Merge(DataSet dataSet, bool preserveChanges, MissingSchemaAction missingSchemaAction);\npublic void Merge(DataSet dataSet);\npublic void Merge(DataSet dataSet, bool preserveChanges);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 957, "user_id": 3277813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b3b4a2ac530ee2f68419e3f58bec01?s=128&d=identicon&r=PG&f=1", "display_name": "trix", "link": "https://stackoverflow.com/users/3277813/trix"}, "is_accepted": false, "score": 0, "last_activity_date": 1519857247, "creation_date": 1519857247, "answer_id": 49039757, "question_id": 49039477, "link": "https://stackoverflow.com/questions/49039477/how-add-row-to-existing-datatable-within-dataset-c/49039757#49039757", "title": "how add row to existing Datatable within dataset c#?", "body": "<p>You could try something like this:</p>\n\n<pre><code>DataSet dataSet = new DataSet(\"DataSetName\");\ndataSet.Tables.Add(\"TableName\");\n\nvar tableIndex = dataSet.Tables.IndexOf(\"TableName\");\ndataSet.Tables[tableIndex].Rows.Add(someDataRow);\n</code></pre>\n"}], "owner": {"reputation": 2058, "user_id": 340277, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/cfb3b6dca4b9fa0bf831de9be191ff59?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/340277/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 247, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1519857247, "creation_date": 1519855958, "question_id": 49039477, "link": "https://stackoverflow.com/questions/49039477/how-add-row-to-existing-datatable-within-dataset-c", "title": "how add row to existing Datatable within dataset c#?", "body": "<p>I am adding row/s to multiple <code>Datatable</code> then through my program I am adding these <code>Datatable</code> to <code>Dataset</code> what I am trying to do and I need to know now is</p>\n\n<p>how to add row/s to one of these existing <code>Datatable</code> within existing <code>Dataset</code>? </p>\n"}, {"tags": ["c#", "mvvm"], "answers": [{"tags": [], "owner": {"reputation": 1097, "user_id": 1614637, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/be76f4aed915c9806fb20dbc5362e23b?s=128&d=identicon&r=PG", "display_name": "Shak Ham", "link": "https://stackoverflow.com/users/1614637/shak-ham"}, "is_accepted": false, "score": 1, "last_activity_date": 1519856031, "creation_date": 1519856031, "answer_id": 49039499, "question_id": 49039359, "link": "https://stackoverflow.com/questions/49039359/winforms-mvvm-databinding/49039499#49039499", "title": "Winforms MVVM Databinding", "body": "<p>The way I've done it in WinForms is by adding the data bindings inside the form itself:</p>\n\n<pre><code>textBox1.DataBindings.Add(\"Text\", _viewModel, \"PropertyName\");\n</code></pre>\n\n<p>There are several techniques you can use in order to avoid magic strings. </p>\n\n<p>I would also implement the interface <code>INotifyPropertyChanged</code> in the model: </p>\n\n<pre><code>public event PropertyChangedEventHandler PropertyChanged;\n\n        [NotifyPropertyChangedInvocator]\n        protected virtual void OnPropertyChanged([CallerMemberName] string propertyName = null)\n        {\n            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\n        }\n</code></pre>\n"}], "owner": {"reputation": 2603, "user_id": 4916174, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b1ad6903e99a73d262d4e50d64eb3b0e?s=128&d=identicon&r=PG&f=1", "display_name": "miechooy", "link": "https://stackoverflow.com/users/4916174/miechooy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1412, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519856031, "creation_date": 1519855418, "question_id": 49039359, "link": "https://stackoverflow.com/questions/49039359/winforms-mvvm-databinding", "title": "Winforms MVVM Databinding", "body": "<p>I am trying to create simple imitation of MVVM using Winforms. \nI have alreadt created binding from ViewModel to Form as below:</p>\n\n<pre><code>public class FirstViewModel : ViewModel\n{\n    private string _name;\n\n    [Bind(nameof(TextBox.Text), \"ExampleTextBox\", typeof(ExampleConverter))]\n    public string Name\n    {\n        get =&gt; _name;\n        set\n        {\n            _name = value;\n            RaisePropertyChanged();\n        }\n    }\n\n    public FirstViewModel()\n    {\n        Test();\n    }\n\n    private async void Test()\n    {\n        await Task.Delay(TimeSpan.FromSeconds(1));\n\n        Name = \"Binding working...\";\n    }\n}\n</code></pre>\n\n<p>In above example inside ViewModel class I am calling related Form then find control with given name and set the value. </p>\n\n<p>I am wondering how could I do this as 'generic' as there with return value back to property. </p>\n\n<p>The solution could be to listen TextChanged event for given \"ExampleTextBox\" but this is not best solution since I would have to know that Text property is realted with OnTextChanged event in this control. </p>\n\n<p>Maybe it is possible to listen for Text property changed and does not matter which one eventhandler will raise that, or maybe I'm going to wrong direction? Did somone faced with that?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1519856542, "post_id": 49039596, "comment_id": 85084517, "body": "Within seconds of each other!"}], "tags": [], "owner": {"reputation": 380, "user_id": 8360707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1ca936f8daa55f052043d17b7686cca?s=128&d=identicon&r=PG&f=1", "display_name": "Chik3r", "link": "https://stackoverflow.com/users/8360707/chik3r"}, "is_accepted": false, "score": 1, "last_activity_date": 1519856485, "creation_date": 1519856485, "answer_id": 49039596, "question_id": 49039335, "link": "https://stackoverflow.com/questions/49039335/cannot-convert-method-group-to-non-delegate-type-unityengine-vector3/49039596#49039596", "title": "Cannot convert method group &#39;###&#39; to non-delegate type UnityEngine.Vector3", "body": "<p>In <code>forceCalculation()</code> you are returning a the <code>forceCalculation()</code> method, what you should do instead: </p>\n\n<pre><code>...\npublic Vector3 forceCalculation(GameObject other){\n    Vector3 calculation = direction(other) * multiplier(other);\n    return calculation;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "is_accepted": true, "score": 1, "last_activity_date": 1519856499, "creation_date": 1519856499, "answer_id": 49039601, "question_id": 49039335, "link": "https://stackoverflow.com/questions/49039335/cannot-convert-method-group-to-non-delegate-type-unityengine-vector3/49039601#49039601", "title": "Cannot convert method group &#39;###&#39; to non-delegate type UnityEngine.Vector3", "body": "<pre><code>public Vector3 forceCalculation(GameObject other) {\n    forceCalculation = direction(other) * multiplier(other);\n    return forceCalculation;\n}\n</code></pre>\n\n<p>The first line declares a method with the name <code>forceCalculation</code>.</p>\n\n<p>The second line then attempts to assign a Vector3 to a previously registered name <code>forceCalculation</code> (which is a method).</p>\n\n<p>Fix this by <em>declaring a variable:</em></p>\n\n<pre><code>public Vector3 forceCalculation(GameObject other) {\n    Vector3 forceCalculation = direction(other) * multiplier(other);\n    return forceCalculation;\n}\n</code></pre>\n"}], "owner": {"reputation": 36, "user_id": 8069728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa487b1c67c7b223dbc3c1222466ff2d?s=128&d=identicon&r=PG&f=1", "display_name": "Isaac Manzi", "link": "https://stackoverflow.com/users/8069728/isaac-manzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 904, "favorite_count": 0, "accepted_answer_id": 49039601, "answer_count": 2, "score": -1, "last_activity_date": 1519856499, "creation_date": 1519855303, "last_edit_date": 1519855549, "question_id": 49039335, "link": "https://stackoverflow.com/questions/49039335/cannot-convert-method-group-to-non-delegate-type-unityengine-vector3", "title": "Cannot convert method group &#39;###&#39; to non-delegate type UnityEngine.Vector3", "body": "<p>I'm trying to simulate a gravity affect in unity for objects near an object with this script attached; to do this I try and add a force to the objects towards itself. However I am running into an issue with <code>other.attachedRigidbody.AddForce()</code> I get the following error: </p>\n\n<blockquote>\n  <p>Cannot convert method group 'forceCalculation' to non-delegate type 'UnityEngine.Vector3'. Consider using parentheses to invoke the method. </p>\n</blockquote>\n\n<pre><code>public class planetaryForce : MonoBehaviour {\n    public float gravityPower;\n    public GameObject planetaryCore;\n    public float range;\n\n    void OnTriggerEnter(Collider other){\n        if (distance (other.gameObject) &lt; range) {\n            other.attachedRigidbody.AddForce (forceCalculation(other.gameObject), ForceMode.Acceleration);\n        }\n    }\n\n    public float distance(GameObject other){\n        float distance = Vector3.Distance (other.transform.position, transform.position);\n        return distance;\n    }\n\n    public Vector3 direction(GameObject other){\n        Vector3 direction = transform.position - other.gameObject.transform.position;\n        return direction;\n    }\n\n    public float multiplier(GameObject other){\n        float multiplier = range - distance(other);\n        return multiplier;\n    }\n\n    public Vector3 forceCalculation(GameObject other){\n        forceCalculation = direction(other) * multiplier(other);\n        return forceCalculation;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 50853, "user_id": 181087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85700c2c160866ef6924fc491a3ce574?s=128&d=identicon&r=PG", "display_name": "NightOwl888", "link": "https://stackoverflow.com/users/181087/nightowl888"}, "edited": false, "score": 0, "creation_date": 1519887008, "post_id": 49039245, "comment_id": 85092934, "body": "And what have you tried?"}], "answers": [{"comments": [{"owner": {"reputation": 1620, "user_id": 6415828, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/uImwY.jpg?s=128&g=1", "display_name": "Diego Alves", "link": "https://stackoverflow.com/users/6415828/diego-alves"}, "edited": false, "score": 0, "creation_date": 1519856560, "post_id": 49039512, "comment_id": 85084525, "body": "that &quot;/&quot; is a regex delimiter? What is the &quot;gm&quot;. I am using C# it doesn&#39;t need delimiters."}, {"owner": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "reply_to_user": {"reputation": 1620, "user_id": 6415828, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/uImwY.jpg?s=128&g=1", "display_name": "Diego Alves", "link": "https://stackoverflow.com/users/6415828/diego-alves"}, "edited": false, "score": 0, "creation_date": 1519856735, "post_id": 49039512, "comment_id": 85084590, "body": "Those are called modifiers and are pretty standard. I&#39;m not too familiar with C# but a quick Google gives me <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-options\" rel=\"nofollow noreferrer\">this</a>."}, {"owner": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "reply_to_user": {"reputation": 1620, "user_id": 6415828, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/uImwY.jpg?s=128&g=1", "display_name": "Diego Alves", "link": "https://stackoverflow.com/users/6415828/diego-alves"}, "edited": false, "score": 0, "creation_date": 1519857036, "post_id": 49039512, "comment_id": 85084727, "body": "And yes <code>&#47;</code> is a delimiter and is not always needed depending on the language. This is really basic regular expression knowledge though."}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1519857934, "post_id": 49039512, "comment_id": 85085111, "body": "@Jeto you should clarify a language when answering regex questions unless they are general regex questions (not usually the case)"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "reply_to_user": {"reputation": 1620, "user_id": 6415828, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/uImwY.jpg?s=128&g=1", "display_name": "Diego Alves", "link": "https://stackoverflow.com/users/6415828/diego-alves"}, "edited": false, "score": 1, "creation_date": 1519857974, "post_id": 49039512, "comment_id": 85085122, "body": "@DiegoAlves <code>new Regex(&quot;regex here&quot;, RegexOptions.Multiline)</code>"}, {"owner": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "reply_to_user": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1519859184, "post_id": 49039512, "comment_id": 85085604, "body": "@ctwheels Right. I figured this one was straightforward enough to be &quot;portable&quot; to any language though."}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1519859690, "post_id": 49039512, "comment_id": 85085759, "body": "@Jeto it is, just post the raw regex and add a note to let the OP know to enable the multiline flag"}, {"owner": {"reputation": 1620, "user_id": 6415828, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/uImwY.jpg?s=128&g=1", "display_name": "Diego Alves", "link": "https://stackoverflow.com/users/6415828/diego-alves"}, "edited": false, "score": 0, "creation_date": 1520257118, "post_id": 49039512, "comment_id": 85228481, "body": "Even though it is not covering all the requirements I just wanted a temporary solution so I will mark it as an answer. Afterwards I decided to break the name into two fields, first name and last name, to make it easier to validate."}], "tags": [], "owner": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "is_accepted": true, "score": 0, "last_activity_date": 1519856527, "last_edit_date": 1519856527, "creation_date": 1519856109, "answer_id": 49039512, "question_id": 49039245, "link": "https://stackoverflow.com/questions/49039245/how-can-i-elaborate-this-fairly-complex-regex-to-validate-names/49039512#49039512", "title": "How can I elaborate this fairly complex regex to validate names", "body": "<p>Try this one:</p>\n\n<p><a href=\"https://regex101.com/r/BGwRnp/3/\" rel=\"nofollow noreferrer\"><code>/^[a-zA-Z]+(?: [a-zA-Z]{2,})*$/gm</code></a></p>\n\n<p>Note: these flags are not necessarily what you need (they're useful for the example though).</p>\n"}], "owner": {"reputation": 1620, "user_id": 6415828, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/uImwY.jpg?s=128&g=1", "display_name": "Diego Alves", "link": "https://stackoverflow.com/users/6415828/diego-alves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 49039512, "answer_count": 1, "score": -1, "last_activity_date": 1519885290, "creation_date": 1519854896, "last_edit_date": 1519885290, "question_id": 49039245, "link": "https://stackoverflow.com/questions/49039245/how-can-i-elaborate-this-fairly-complex-regex-to-validate-names", "title": "How can I elaborate this fairly complex regex to validate names", "body": "<p>I want to add a temporary regex to validate names. The rules are :only a-z A-z and spaces are allowed. The name must be more than 3 letters and have one space in this case. Also it cannot have two spaces in line (one after the other). I don't care about spaces in the beginning or end of the string because I can trim them. Only the first word can be a single letter, the others must be two or more. Excuse me if some rule contradicted another, it is very difficult to formulate this question. </p>\n\n<pre><code>ed_vu (valid)\n\nedd_v (invalid) the second word is one character (must be two or more)\n\ne_lui (valid)\n\ne_li (valid) \n\ne_ei_ed (valid) even though it has two spaces it has more than 4 letters\n</code></pre>\n\n<p>More examples</p>\n\n<pre><code>e_el_ed__uuu (invalid) two spaces in line\n\ne_el_elld_liid_eiii_idid (valid) \n</code></pre>\n"}, {"tags": ["c#", ".net", "asp.net-apicontroller"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1519855075, "post_id": 49039230, "comment_id": 85083881, "body": "Your question doesn&#39;t mention how you set the token endpoint up."}, {"owner": {"reputation": 1310, "user_id": 3261288, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/ecc611678dc1440fd3f3e0810135ccec?s=128&d=identicon&r=PG&f=1", "display_name": "Colonel Mustard", "link": "https://stackoverflow.com/users/3261288/colonel-mustard"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1519855210, "post_id": 49039230, "comment_id": 85083949, "body": "have added to the question"}, {"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1519858667, "post_id": 49039230, "comment_id": 85085435, "body": "<code>The response had HTTP status code 400</code> Are you sure you&#39;re calling the correct endpoint?"}, {"owner": {"reputation": 1310, "user_id": 3261288, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/ecc611678dc1440fd3f3e0810135ccec?s=128&d=identicon&r=PG&f=1", "display_name": "Colonel Mustard", "link": "https://stackoverflow.com/users/3261288/colonel-mustard"}, "edited": false, "score": 0, "creation_date": 1519862769, "post_id": 49039230, "comment_id": 85086680, "body": "Yes I&#39;m sure. I double checked"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1519923801, "post_id": 49039230, "comment_id": 85114537, "body": "This isn&#39;t answerable without the code that sets up the token endpoint.  Not every project template is the same.  You need to provide that code, even if you didn&#39;t create it yourself."}, {"owner": {"reputation": 1310, "user_id": 3261288, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/ecc611678dc1440fd3f3e0810135ccec?s=128&d=identicon&r=PG&f=1", "display_name": "Colonel Mustard", "link": "https://stackoverflow.com/users/3261288/colonel-mustard"}, "edited": false, "score": 0, "creation_date": 1519924667, "post_id": 49039230, "comment_id": 85115038, "body": "I can&#39;t find it. The only reference to the endpoint in the project is <code>Startup.Auth</code> and I&#39;ve added it to the question"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1519999935, "post_id": 49039230, "comment_id": 85146875, "body": "Okay, good, and where is <code>OAuthOptions</code> used?  Is this Owin?  Please provide more than the bare minimum of code.  You (probably) need to add CORS to your Owin pipeline, but I can&#39;t yet make that determination."}, {"owner": {"reputation": 1310, "user_id": 3261288, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/ecc611678dc1440fd3f3e0810135ccec?s=128&d=identicon&r=PG&f=1", "display_name": "Colonel Mustard", "link": "https://stackoverflow.com/users/3261288/colonel-mustard"}, "edited": false, "score": 0, "creation_date": 1520090502, "post_id": 49039230, "comment_id": 85176752, "body": "Yes, it would be to add CORS to the Owin pipleline. I don&#39;t know where /Token maps to by default so I can&#39;t add cors to the method"}], "owner": {"reputation": 1310, "user_id": 3261288, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/ecc611678dc1440fd3f3e0810135ccec?s=128&d=identicon&r=PG&f=1", "display_name": "Colonel Mustard", "link": "https://stackoverflow.com/users/3261288/colonel-mustard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520091534, "creation_date": 1519854825, "last_edit_date": 1520091534, "question_id": 49039230, "link": "https://stackoverflow.com/questions/49039230/net-api-enable-cors-for-login", "title": ".net API Enable CORS for login", "body": "<p>I have an api application in .net. I've enabled cors via:\n<code>Install-Package Microsoft.AspNet.WebApi.Cors</code> and adding </p>\n\n<pre><code>    var enableCorsAttribute = new EnableCorsAttribute(\"*\", \n                                       \"Origin, Content-Type, Accept\", \n                                       \"GET, PUT, POST, DELETE, OPTIONS\"); \n    config.EnableCors(enableCorsAttribute); \n</code></pre>\n\n<p>to the <code>WebApiConfig.cs</code>\nThis works for the most part, and once I've enbled CORS on my controller with <code>[EnableCors(origins: \"*\", headers: \"*\", methods: \"*\")]</code></p>\n\n<p>I can make cross origin requests via get and post. However, I get the following error when trying to login via the default <code>/Token</code> endpoint. How can I enable CORS for this endpoint as I can't find the actual method.</p>\n\n<pre><code>Failed to load http://localhost:64501/token: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://localhost:4200' is therefore not allowed access. The response had HTTP status code 400.\n</code></pre>\n\n<p>The <code>/Token</code> endpoint is the default one that was scaffolded when you create a .net api application with authentication. I didn't create it.</p>\n\n<p>The only reference to the <code>/Token</code> endpoint is in <code>Startup.Auth</code></p>\n\n<p>Here's the complete class</p>\n\n<pre><code>public partial class Startup\n    {\n        public static OAuthAuthorizationServerOptions OAuthOptions { get; private set; }\n\n        public static string PublicClientId { get; private set; }\n\n        // For more information on configuring authentication, please visit https://go.microsoft.com/fwlink/?LinkId=301864\n        public void ConfigureAuth(IAppBuilder app)\n    {\n        // Configure the db context and user manager to use a single instance per request\n        app.CreatePerOwinContext(ApplicationDbContext.Create);\n        app.CreatePerOwinContext&lt;ApplicationUserManager&gt;(ApplicationUserManager.Create);\n\n        // Enable the application to use a cookie to store information for the signed in user\n        // and to use a cookie to temporarily store information about a user logging in with a third party login provider\n        app.UseCookieAuthentication(new CookieAuthenticationOptions());\n        app.UseExternalSignInCookie(DefaultAuthenticationTypes.ExternalCookie);\n\n        // Configure the application for OAuth based flow\n        PublicClientId = \"self\";\n        OAuthOptions = new OAuthAuthorizationServerOptions\n        {\n            TokenEndpointPath = new PathString(\"/Token\"),\n            Provider = new ApplicationOAuthProvider(PublicClientId),\n            AuthorizeEndpointPath = new PathString(\"/api/Account/ExternalLogin\"),\n            AccessTokenExpireTimeSpan = TimeSpan.FromDays(14),\n            // In production mode set AllowInsecureHttp = false\n            AllowInsecureHttp = true\n        };\n\n        // Enable the application to use bearer tokens to authenticate users\n        app.UseOAuthBearerTokens(OAuthOptions);\n\n        // Uncomment the following lines to enable logging in with third party login providers\n        //app.UseMicrosoftAccountAuthentication(\n        //    clientId: \"\",\n        //    clientSecret: \"\");\n\n        //app.UseTwitterAuthentication(\n        //    consumerKey: \"\",\n        //    consumerSecret: \"\");\n\n        //app.UseFacebookAuthentication(\n        //    appId: \"\",\n        //    appSecret: \"\");\n\n        //app.UseGoogleAuthentication(new GoogleOAuth2AuthenticationOptions()\n        //{\n        //    ClientId = \"\",\n        //    ClientSecret = \"\"\n        //});\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "mongodb"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 3, "creation_date": 1519855077, "post_id": 49039211, "comment_id": 85083882, "body": "What is <code>_boardsCollection</code>? What is the type and the purpose of it? You need to show that in your question so you have a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. And what does your question have to do with IIS? Just because you&#39;re running in IIS doesn&#39;t mean the issue is IIS related, just like it&#39;s not Windows related or Intel related."}, {"owner": {"reputation": 21, "user_id": 9425892, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dlent", "link": "https://stackoverflow.com/users/9425892/dlent"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1519855320, "post_id": 49039211, "comment_id": 85083989, "body": "_db and _boardsCollection are both fields in MongoDb. I&#39;ve edited them in."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1519856497, "post_id": 49039211, "comment_id": 85084501, "body": "Which specific line throws the exception?"}, {"owner": {"reputation": 21, "user_id": 9425892, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dlent", "link": "https://stackoverflow.com/users/9425892/dlent"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1519857471, "post_id": 49039211, "comment_id": 85084896, "body": "Instantiating the new MongoDb in the MongoConverter constructor. System.ArgumentException: &#39;An item with the same key has already been added.&#39;"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1519864891, "post_id": 49039211, "comment_id": 85087184, "body": "That&#39;s not the root of where the exception is thrown. Your MongoDb contstructor contains no arguments, therefore it won&#39;t throw an ArgumentException (plus the obvious fact that you don&#39;t show any code that would throw an ArgumentException). Look again at your stack trace. Identify the first line of your code that throws the exception."}, {"owner": {"reputation": 21, "user_id": 9425892, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dlent", "link": "https://stackoverflow.com/users/9425892/dlent"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1519872462, "post_id": 49039211, "comment_id": 85088919, "body": "Stacktrace leads me to the first BsonClassMap.RegisterClassMap in the MongoDb constructor."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1519874028, "post_id": 49039211, "comment_id": 85089287, "body": "Did you read <a href=\"http://mongodb.github.io/mongo-csharp-driver/2.5/reference/bson/mapping/\" rel=\"nofollow noreferrer\">the documentation</a> for that method? That&#39;s the first thing you should do when you see an error coming from it. It quite clearly states: &quot;The best place to register them is at app startup prior to initializing a connection with MongoDB.&quot;. Since the constructor gets called more than once, that&#39;s not the correct place to do that. Since this is ASP.NET, the likely place to put those is in the Application_Start event of your global application class."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9425892, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dlent", "link": "https://stackoverflow.com/users/9425892/dlent"}, "edited": false, "score": 0, "creation_date": 1519875605, "post_id": 49042158, "comment_id": 85089642, "body": "Exactly what I was looking for. Thank you."}], "tags": [], "owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "is_accepted": true, "score": 0, "last_activity_date": 1519876415, "last_edit_date": 1519876415, "creation_date": 1519874828, "answer_id": 49042158, "question_id": 49039211, "link": "https://stackoverflow.com/questions/49039211/clearing-mongodb-keys-on-iis-website/49042158#49042158", "title": "Clearing MongoDb keys on IIS website", "body": "<p>Calling <code>BsonClassMap.RegisterClassMap&lt;T&gt;()</code> should only be done once per type. And it should be done at application startup, before opening any database connections according to <a href=\"http://mongodb.github.io/mongo-csharp-driver/2.5/reference/bson/mapping/\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n\n<p>Since you're in ASP.NET, put this in your Application_Start event in your global application class (global.asax)</p>\n\n<pre><code>void Application_Start(object sender, EventArgs e)\n{\n    BsonClassMap.RegisterClassMap&lt;CardStorageItem&gt;();\n    BsonClassMap.RegisterClassMap&lt;ColumnStorageItem&gt;();\n    BsonClassMap.RegisterClassMap&lt;BoardStorageItem&gt;();\n    BsonClassMap.RegisterClassMap&lt;EmployeeStorageItem&gt;();\n}\n</code></pre>\n\n<p>You can make another method that calls it so you don't pollute your global application class if you want. And of course, remove the registrations from your constructor.</p>\n"}], "owner": {"reputation": 21, "user_id": 9425892, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dlent", "link": "https://stackoverflow.com/users/9425892/dlent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 49042158, "answer_count": 1, "score": 1, "last_activity_date": 1519876415, "creation_date": 1519854740, "last_edit_date": 1519875089, "question_id": 49039211, "link": "https://stackoverflow.com/questions/49039211/clearing-mongodb-keys-on-iis-website", "title": "Clearing MongoDb keys on IIS website", "body": "<p>New to IIS and Mongo, and I'm trying to find a way to clear the keys from my server to avoid an \"item with the same key has already been added\" exception.</p>\n\n<pre><code>IMongoDatabase _db;\nIMongoCollection&lt;BoardStorageItem&gt; _boardsCollection;\npublic MongoDb()\n    {\n        var client = new MongoClient(\"mongodb://localhost\");\n        _db = client.GetDatabase(\"KanbanDemonstration\");\n\n        BsonClassMap.RegisterClassMap&lt;CardStorageItem&gt;();\n        BsonClassMap.RegisterClassMap&lt;ColumnStorageItem&gt;();\n        BsonClassMap.RegisterClassMap&lt;BoardStorageItem&gt;();\n        BsonClassMap.RegisterClassMap&lt;EmployeeStorageItem&gt;();\n\n\n        _boardsCollection = _db.GetCollection&lt;BoardStorageItem&gt;(\"Board\");\n    }\n\n    public BoardStorageItem GetBoardByName(string name)\n    {\n        var board = _boardsCollection.AsQueryable().FirstOrDefault(b =&gt; b.Name == name);\n        return board;\n    }\n\npublic class MongoConverter\n{\n    MongoDb _mongoDb;\n\n    public MongoConverter()\n    {\n        _mongoDb = new MongoDb();\n    }\n\n    public BoardStorageItem GetBoardByName(string name)\n    {\n        return _mongoDb.GetBoardByName(name);\n    }\n}\n</code></pre>\n\n<p>and then for the code on the web page itself</p>\n\n<pre><code>protected void Button1_Click(object sender, EventArgs e)\n{\n    _mongoConverter = new MongoConverter();\n    var board = _mongoConverter.GetBoardByName(TextBox1.Text);\n\n    BoardName = board.Name;\n    BoardId = board.Id;\n\n    Label3.Text = BoardName;\n    Label4.Text = BoardId;\n\n    Session.Clear();\n}\n</code></pre>\n\n<p>This works perfectly this first time I use the button to get a board, but if I try a second time, I get an exception \"item with the same key has already been added\" when attempting to new up MongoConverter. I had thought that clearing the session after would clear out the keys as well, but the only thing that seems to work is resetting the server itself.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "entity-framework"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5403003"}, "edited": false, "score": 0, "creation_date": 1519920623, "post_id": 49044113, "comment_id": 85112431, "body": "Thank you, this answer is very helpful. I understand what you are saying about different dev environments, I didn&#39;t think of that!"}], "tags": [], "owner": {"reputation": 1476, "user_id": 9405863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40cdcd740f2f6f607a21a66697131155?s=128&d=identicon&r=PG&f=1", "display_name": "user9405863", "link": "https://stackoverflow.com/users/9405863/user9405863"}, "is_accepted": true, "score": 0, "last_activity_date": 1519887153, "creation_date": 1519887153, "answer_id": 49044113, "question_id": 49039180, "link": "https://stackoverflow.com/questions/49039180/is-it-okay-to-use-the-id-property-outside-of-controllers-and-models/49044113#49044113", "title": "Is it okay to use the Id property outside of controllers and models?", "body": "<p>Its better to user Id only for database purposes. we can't dependent user Id. this user id may be different in different environments. </p>\n\n<p>for e.g.</p>\n\n<p>Customer 'Xyz' is stored in  Dev environment database with id 1.\nsame Customer 'Xyz' is stored in Test environment database with id 11.\nsame customer 'Xyz' is stored in Live environment database with id 21.</p>\n\n<p>Its preferable to use customer reference number which is unique across all environments. hope this helps!</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5403003"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "closed_date": 1519900132, "accepted_answer_id": 49044113, "answer_count": 1, "score": 1, "last_activity_date": 1519892776, "creation_date": 1519854617, "last_edit_date": 1519892776, "question_id": 49039180, "link": "https://stackoverflow.com/questions/49039180/is-it-okay-to-use-the-id-property-outside-of-controllers-and-models", "closed_reason": "Opinion-based", "title": "Is it okay to use the Id property outside of controllers and models?", "body": "<p><strong>Scenario: online booking system</strong></p>\n\n<p>Say we have an online booking system which contains a list of customers in a database, and the customer model looks something like this:</p>\n\n<pre><code>public class Customer\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public DateTime Birthdate { get; set; }\n    public string drivingLicence { get; set; }\n}\n</code></pre>\n\n<p>And we want to perform certain operations like:</p>\n\n<ul>\n<li>search for customers using a unique customer reference number</li>\n<li>search for any bookings a customer has made via a customer reference number</li>\n<li>amend/create a booking by providing the customer's Id in a textbox in a view</li>\n</ul>\n\n<p>Is it appropriate to use the Id property for this purpose? or is it preferred to create a new property for each object like <code>'CustomerReferenceNo'</code> and use the Id for querying the database only, keeping the Id property out of the view.</p>\n\n<p><strong>Example:</strong> </p>\n\n<p>So far I have only been using the Id property to query the database for things like this:</p>\n\n<pre><code>public ActionResult Edit(int id)\n        {\n            // gets the customer details by accessing it's id\n            var customerInDb = _context.Customers.SingleOrDefault(c =&gt; c.Id == id);\n</code></pre>\n\n<p>But was wondering if it's generally common to use it like this:</p>\n\n<p>Note 'Id' is referring to the Customer Id property, to make a booking of a particular customer to a selected hotel.</p>\n\n<p><a href=\"https://i.stack.imgur.com/adYJZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/adYJZ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "asp.net", ".net", "asp.net-core", ".net-core"], "comments": [{"owner": {"reputation": 50853, "user_id": 181087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85700c2c160866ef6924fc491a3ce574?s=128&d=identicon&r=PG", "display_name": "NightOwl888", "link": "https://stackoverflow.com/users/181087/nightowl888"}, "edited": false, "score": 0, "creation_date": 1519858259, "post_id": 49039001, "comment_id": 85085246, "body": "Do you want to rewrite or redirect? Using the words &quot;tiny url&quot; and &quot;alias&quot; sort of imply that you want a redirect, not a rewrite (i.e. user requests URL <code>localhost&#47;alias</code> and is redirected to URL <code>localhost&#47;some&#47;real&#47;url</code>)."}, {"owner": {"reputation": 4330, "user_id": 2610077, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/322c9f648188f8eaae7f20a4856c4b22?s=128&d=identicon&r=PG", "display_name": "Cooxkie", "link": "https://stackoverflow.com/users/2610077/cooxkie"}, "reply_to_user": {"reputation": 50853, "user_id": 181087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85700c2c160866ef6924fc491a3ce574?s=128&d=identicon&r=PG", "display_name": "NightOwl888", "link": "https://stackoverflow.com/users/181087/nightowl888"}, "edited": false, "score": 0, "creation_date": 1519860138, "post_id": 49039001, "comment_id": 85085911, "body": "In reality, it&#39;s a mix of both (rewrite and redirect). But I didn&#39;t find right combinaison :-("}, {"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "edited": false, "score": 0, "creation_date": 1519882828, "post_id": 49039001, "comment_id": 85091560, "body": "What do you mean by <code>this page</code> in your post? Is it the default view for alias Controller? Did <code>localhost&#47;pro&#47;details&#47;alias</code>, <code>localhost&#47;alias</code> and <code>localhost&#47;{controller}&#47;{action}&#47;id</code> point to the same page for <code>alias</code> controller? Is there any page for  <code>localhost&#47;pro&#47;details&#47;alias</code>, or you may want to redirect to <code>localhost&#47;alias</code> instead of only rewrite the URL"}, {"owner": {"reputation": 4330, "user_id": 2610077, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/322c9f648188f8eaae7f20a4856c4b22?s=128&d=identicon&r=PG", "display_name": "Cooxkie", "link": "https://stackoverflow.com/users/2610077/cooxkie"}, "edited": false, "score": 0, "creation_date": 1519893553, "post_id": 49039001, "comment_id": 85095834, "body": "In fact I have on controller &#39;pro&#39;, and one action &#39;details&#39;. When I hit /pro/details/{alias}, it works, and it&#39;s fine :) ! In this case {alias} can change /pro/details/bob, /pro/details/alice, and so on ..."}, {"owner": {"reputation": 4330, "user_id": 2610077, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/322c9f648188f8eaae7f20a4856c4b22?s=128&d=identicon&r=PG", "display_name": "Cooxkie", "link": "https://stackoverflow.com/users/2610077/cooxkie"}, "edited": false, "score": 0, "creation_date": 1519893726, "post_id": 49039001, "comment_id": 85095916, "body": "But I also would like to hit directly /bob or /alice. But if I use routes.MapRoute, I will be redirected and my final url will be /pro/details/bob. In every case, I want to have as final url /{alias}. How to achieve it please ?"}, {"owner": {"reputation": 4330, "user_id": 2610077, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/322c9f648188f8eaae7f20a4856c4b22?s=128&d=identicon&r=PG", "display_name": "Cooxkie", "link": "https://stackoverflow.com/users/2610077/cooxkie"}, "edited": false, "score": 0, "creation_date": 1519915192, "post_id": 49039001, "comment_id": 85108538, "body": "Sorry, if I haven&#39;t been very explicit ! By the way I found solution, I will post it below in new comment :) !"}], "answers": [{"comments": [{"owner": {"reputation": 4330, "user_id": 2610077, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/322c9f648188f8eaae7f20a4856c4b22?s=128&d=identicon&r=PG", "display_name": "Cooxkie", "link": "https://stackoverflow.com/users/2610077/cooxkie"}, "edited": false, "score": 0, "creation_date": 1519860060, "post_id": 49039763, "comment_id": 85085878, "body": "Yes, i tried but URL targeted is localhost/something and I haven&#39;t any controler and action for that ... =&gt; Not Found page :-("}, {"owner": {"reputation": 2957, "user_id": 4869329, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lAV1Z.jpg?s=128&g=1", "display_name": "madoxdev", "link": "https://stackoverflow.com/users/4869329/madoxdev"}, "edited": false, "score": 0, "creation_date": 1519975279, "post_id": 49039763, "comment_id": 85133821, "body": "please keep in mind you have AddRewrite and AddRedirect in that RewriteOptions object."}], "tags": [], "owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "is_accepted": false, "score": 1, "last_activity_date": 1519857286, "creation_date": 1519857286, "answer_id": 49039763, "question_id": 49039001, "link": "https://stackoverflow.com/questions/49039001/how-to-rewrite-url-in-net-core/49039763#49039763", "title": "How to rewrite URL in .net core?", "body": "<p>Could you try <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/url-rewriting#url-rewrite\" rel=\"nofollow noreferrer\">this</a> approach?</p>\n\n<pre><code> var rewrite = new RewriteOptions()\n     .AddRewrite(@\"(P|p)ro/(D|d)etails/(.*)\", \"$1\", skipRemainingRules: true);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4330, "user_id": 2610077, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/322c9f648188f8eaae7f20a4856c4b22?s=128&d=identicon&r=PG", "display_name": "Cooxkie", "link": "https://stackoverflow.com/users/2610077/cooxkie"}, "is_accepted": false, "score": 1, "last_activity_date": 1519915969, "creation_date": 1519915969, "answer_id": 49052336, "question_id": 49039001, "link": "https://stackoverflow.com/questions/49039001/how-to-rewrite-url-in-net-core/49052336#49052336", "title": "How to rewrite URL in .net core?", "body": "<p>In order to achieve my goal, I did following stuff :</p>\n\n<p>First I modify my startup.cs like :</p>\n\n<pre><code>app.UseMvc(routes =&gt;\n        {\n            routes.MapRoute(\n                name: \"default\",\n                template: \"{controller=Home}/{action=Index}/{id?}\");\n\n            routes.MapRoute(\n                name: \"ProfessionnalAlias\",\n                template: \"{id?}\",\n                defaults: new { controller = \"Professionnals\", action = \"DetailsAlias\" });\n\n        });\n</code></pre>\n\n<p>So I created a new route, <strong>after</strong> <em>default route</em> in order to target special action : DetailsAlias (see below)</p>\n\n<p>And I also modify my ProfessionnalsController like :</p>\n\n<pre><code>    /// &lt;summary&gt;\n    /// This action have an Integer parameter and redirect to action with alias\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"id\"&gt;&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    public async Task&lt;IActionResult&gt; Details(int? id)\n    {\n        if (id == null)\n        {\n            return NotFound();\n        }\n\n        var professional = await _context.professional \n            .SingleOrDefaultAsync(m =&gt; m.id == id);\n        if (professional == null)\n        {\n            return NotFound();\n        }\n\n        RedirectResult redirectResult = new RedirectResult(\"/\"+professional.alias);\n\n        return redirectResult;\n    }\n\n    /// &lt;summary&gt;\n    /// This action show detail view from alias parameter\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"id\"&gt;&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    public async Task&lt;IActionResult&gt; DetailsAlias(string id)\n    {\n        if (string.IsNullOrEmpty(id))\n        {\n            return NotFound();\n        }\n\n        var professional= await _context.professional.SingleOrDefaultAsync(m =&gt; m.alias == id);\n        if (professional== null)\n        {\n            return NotFound();\n        }\n\n        return View(\"Details\", professional);\n    }\n</code></pre>\n\n<p>Conclusion :</p>\n\n<ul>\n<li>If I tried to hit directly /bob => show 'Bob Detail page' with same URL</li>\n<li>If I tried to hit /professional/Details/1 => show 'Bob Detail page' with /bob Url</li>\n</ul>\n\n<p>Thanks for help</p>\n"}], "owner": {"reputation": 4330, "user_id": 2610077, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/322c9f648188f8eaae7f20a4856c4b22?s=128&d=identicon&r=PG", "display_name": "Cooxkie", "link": "https://stackoverflow.com/users/2610077/cooxkie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1519915969, "creation_date": 1519853822, "last_edit_date": 1519868796, "question_id": 49039001, "link": "https://stackoverflow.com/questions/49039001/how-to-rewrite-url-in-net-core", "title": "How to rewrite URL in .net core?", "body": "<p>I would like this mecanism:</p>\n\n<ul>\n<li>when user try to access to <em>localhost/pro/details/alias</em> => show this page but with tiny url <em>localhost/alias</em></li>\n<li>when user try to directly access to <em>localhost/alias</em> => show this page with same url <em>localhost/alias</em></li>\n<li>when user try to access to *localhost/{controller}/{action}/id => show this page as usual</li>\n</ul>\n\n<p>I tried to modify <code>startup.cs</code></p>\n\n<pre><code>public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n{\n    if (env.IsDevelopment())\n    {\n        app.UseBrowserLink();\n        app.UseDeveloperExceptionPage();\n    }\n    else\n    {\n        app.UseExceptionHandler(\"/Home/Error\");\n    }\n\n    var rewrite = new RewriteOptions()\n        .AddRewrite(@\"([a-zA-Z0-9\\-]*)\", \"pro/details/$1\", skipRemainingRules: true);\n\n    app.UseRewriter(rewrite);\n\n    app.UseStaticFiles();\n\n    app.UseMvc(routes =&gt;\n    {\n        routes.MapRoute(\n            name: \"default\",\n            template: \"{controller=Home}/{action=Index}/{id?}\");\n    });\n}\n</code></pre>\n\n<p>It works only for the second bullet.</p>\n\n<p>What's wrong with my code? And how to achieve my goal?</p>\n"}, {"tags": ["c#", "linq", "iqueryable"], "comments": [{"owner": {"reputation": 4191, "user_id": 604613, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/93s4s.png?s=128&g=1", "display_name": "UrbanEsc", "link": "https://stackoverflow.com/users/604613/urbanesc"}, "edited": false, "score": 2, "creation_date": 1519853511, "post_id": 49038885, "comment_id": 85083127, "body": "Have a look at SelectMany()"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1519857663, "post_id": 49038885, "comment_id": 85084997, "body": "Did you mean to leave out <code>ChildPropertyA</code> in your final example?"}, {"owner": {"reputation": 237, "user_id": 3520152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a115b884fad9d6445ded58f0cdb79f84?s=128&d=identicon&r=PG&f=1", "display_name": "DanW", "link": "https://stackoverflow.com/users/3520152/danw"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1519922526, "post_id": 49038885, "comment_id": 85113725, "body": "@NetMage Yes, purposely."}], "answers": [{"comments": [{"owner": {"reputation": 3298, "user_id": 3394884, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/LqQhR.png?s=128&g=1", "display_name": "kuskmen", "link": "https://stackoverflow.com/users/3394884/kuskmen"}, "edited": false, "score": 0, "creation_date": 1519854182, "post_id": 49039017, "comment_id": 85083481, "body": "Where is <code>ChildrenPropertyA</code> ? And this <code>DTO</code> does not look like OP&#39;s parent dto"}, {"owner": {"reputation": 3419, "user_id": 3715778, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ecfe74090d7f2a9ba912f65ae33f83be?s=128&d=identicon&r=PG&f=1", "display_name": "koryakinp", "link": "https://stackoverflow.com/users/3715778/koryakinp"}, "reply_to_user": {"reputation": 3298, "user_id": 3394884, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/LqQhR.png?s=128&g=1", "display_name": "kuskmen", "link": "https://stackoverflow.com/users/3394884/kuskmen"}, "edited": false, "score": 0, "creation_date": 1519854321, "post_id": 49039017, "comment_id": 85083559, "body": "<code>ChildrenPropertyA</code> is not used, according to the example provided by OP, so I did not include it in DTO."}], "tags": [], "owner": {"reputation": 3419, "user_id": 3715778, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ecfe74090d7f2a9ba912f65ae33f83be?s=128&d=identicon&r=PG&f=1", "display_name": "koryakinp", "link": "https://stackoverflow.com/users/3715778/koryakinp"}, "is_accepted": false, "score": 0, "last_activity_date": 1519853881, "creation_date": 1519853881, "answer_id": 49039017, "question_id": 49038885, "link": "https://stackoverflow.com/questions/49038885/c-linq-iqueryable-select-flattened-nested-object-list/49039017#49039017", "title": "C# Linq IQueryable select flattened nested object list", "body": "<p>DTO class:</p>\n\n<pre><code>public class DTO\n{\n   public int ParentId { get; set; }\n   public string ParentPropertyA { get; set; }\n   public string ParentPropertyB { get; set; }\n   public int ChildrenId { get; set; }\n   public string ChildrenPropertyB { get; set; }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>var parent = GetParent() //Get Parent instance\n\nList&lt;Dto&gt; dtos = parent.Childrens.Select(q =&gt; new DTO\n{\n    ParentId = parent.ParentId,\n    ParentPropertyA = parent.ParentPropertyA\n    ParentPropertyB = parent.ParentPropertyB,\n    ChildrenId = q.ChildrenId,\n    ChildrenPropertyB = q.ChildrenPropertyB\n})\n.ToList();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 237, "user_id": 3520152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a115b884fad9d6445ded58f0cdb79f84?s=128&d=identicon&r=PG&f=1", "display_name": "DanW", "link": "https://stackoverflow.com/users/3520152/danw"}, "edited": false, "score": 0, "creation_date": 1519922249, "post_id": 49039311, "comment_id": 85113535, "body": "It worked, thanks! However I&#39;m getting exception when calling flattenedList.Count() System.NotSupportedException There is a workaround for this?"}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "reply_to_user": {"reputation": 237, "user_id": 3520152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a115b884fad9d6445ded58f0cdb79f84?s=128&d=identicon&r=PG&f=1", "display_name": "DanW", "link": "https://stackoverflow.com/users/3520152/danw"}, "edited": false, "score": 0, "creation_date": 1519924278, "post_id": 49039311, "comment_id": 85114826, "body": "Perhaps <code>ToList().Count</code> ? Or start another question."}], "tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": true, "score": 4, "last_activity_date": 1519856464, "last_edit_date": 1519856464, "creation_date": 1519855201, "answer_id": 49039311, "question_id": 49038885, "link": "https://stackoverflow.com/questions/49038885/c-linq-iqueryable-select-flattened-nested-object-list/49039311#49039311", "title": "C# Linq IQueryable select flattened nested object list", "body": "<p>Use <code>SelectMany</code> over the parent collection. Within the SelectMany expression, select the children, and pair it with a copy of the parent.</p>\n\n<pre><code>var flattenedList = parents.SelectMany\n(\n    p =&gt; p.Children.Select\n    (\n        c =&gt; new { Parent = p, Child = c } \n    )\n);\n</code></pre>\n\n<p>This will give you one element per child, with parents duplicated as needed.</p>\n"}], "owner": {"reputation": 237, "user_id": 3520152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a115b884fad9d6445ded58f0cdb79f84?s=128&d=identicon&r=PG&f=1", "display_name": "DanW", "link": "https://stackoverflow.com/users/3520152/danw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 892, "favorite_count": 0, "accepted_answer_id": 49039311, "answer_count": 2, "score": 2, "last_activity_date": 1519856464, "creation_date": 1519853327, "last_edit_date": 1519855593, "question_id": 49038885, "link": "https://stackoverflow.com/questions/49038885/c-linq-iqueryable-select-flattened-nested-object-list", "title": "C# Linq IQueryable select flattened nested object list", "body": "<pre><code>public class Parent\n{\n    public int ParentId { get; set; }\n    public string ParentPropertyA { get; set; }\n    public string ParentPropertyA { get; set; }\n    public List&lt;Child&gt; Children{get; set;}\n\n}\n\npublic class Child\n{\n    public int ChildId { get; set; }\n    public string ChildPropertyA { get; set; }\n    public string ChildPropertyB { get; set; }\n}\n\nprivate static Expression&lt;Func&lt;Parent, dynamic&gt;&gt; BuildModel()\n{\n    return x =&gt; new\n    {\n        x.ParentId,\n        x.Children\n    };\n}\n</code></pre>\n\n<p>I use this expression on <code>IQueryable.Select(BuildModel())</code></p>\n\n<p>Let's say I have a <code>Parent</code> object with two <code>Children</code>... \nGiven that structure how can I achieve returning two records with all <code>Parent</code> properties and with specific <code>Children</code>, instead of just one <code>Parent</code> with two <code>Children</code>?</p>\n\n<p>Example:</p>\n\n<pre><code>{\n  ParentId: 1,\n  ParentPropertyA: \"parentA\",\n  ParentPropertyB: \"parentB\",\n  Children:\n  [\n    {\n      ChildId: 1,\n      ChildPropertyA: \"childA1\",\n      ChildPropertyB: \"childB1\"\n    },\n    {\n      ChildId: 2,\n      ChildPropertyA: \"childA2\",\n      ChildPropertyB: \"childB2\"\n    }\n  ]\n}\n</code></pre>\n\n<p>Instead, I want to have them returned as:</p>\n\n<pre><code>[\n  {\n    ParentId: 1,\n    ParentPropertyA: \"parentA\",\n    ParentPropertyB: \"parentB\",\n    ChildId: 1,\n    ChildPropertyB: \"childB1\"\n  },\n  {\n    ParentId: 1,\n    ParentPropertyA: \"parentA\",\n    ParentPropertyB: \"parentB\",\n    ChildId: 2,\n    ChildPropertyB: \"childB2\"\n  }\n]\n</code></pre>\n\n<p>Is this possible? Thanks!</p>\n"}, {"tags": ["c#", "datetime"], "comments": [{"owner": {"reputation": 18794, "user_id": 1220550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G1osH.jpg?s=128&g=1", "display_name": "Peter B", "link": "https://stackoverflow.com/users/1220550/peter-b"}, "edited": false, "score": 0, "creation_date": 1519853612, "post_id": 49038863, "comment_id": 85083175, "body": "The screenshot shows <code>12:00:00 AM</code> which <b>is</b> midnight. Note that in .NET, a DateTime <i>always</i> has a Time component."}, {"owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "reply_to_user": {"reputation": 18794, "user_id": 1220550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G1osH.jpg?s=128&g=1", "display_name": "Peter B", "link": "https://stackoverflow.com/users/1220550/peter-b"}, "edited": false, "score": 0, "creation_date": 1519853663, "post_id": 49038863, "comment_id": 85083211, "body": "But if you check <code>TimeOfDay</code> shows 05:00:00 am"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1519853752, "post_id": 49038863, "comment_id": 85083256, "body": "Why not just <code>.Select(w =&gt; w.EffectiveDate.Date)</code>? Or <code>.Select(w =&gt; GetDateZeroTime(w.EffectiveDate))</code>?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1519853825, "post_id": 49038863, "comment_id": 85083298, "body": "Note that the specific point in time is midnight UTC (note the Kind is Utc), and 5am in your timezone."}, {"owner": {"reputation": 191, "user_id": 3954696, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/3bF97.jpg?s=128&g=1", "display_name": "B Minster", "link": "https://stackoverflow.com/users/3954696/b-minster"}, "edited": false, "score": 0, "creation_date": 1519853863, "post_id": 49038863, "comment_id": 85083317, "body": "Where is the value for TimeOfDay being set?"}, {"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1519853890, "post_id": 49038863, "comment_id": 85083334, "body": "@MikeMcCaughan Because OP is trying to set the time back into <code>w.EffectiveDate</code> by invoking <code>s = GetDateZeroTime...</code> inside <code>ForEach</code>."}, {"owner": {"reputation": 34313, "user_id": 121309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a620f1f95441b8bde0e6c2c5140581d?s=128&d=identicon&r=PG", "display_name": "Hans Ke\ufb06ing", "link": "https://stackoverflow.com/users/121309/hans-ke%ef%ac%86ing"}, "edited": false, "score": 1, "creation_date": 1519853902, "post_id": 49038863, "comment_id": 85083342, "body": "Instead of your method, you can also use the .Date property of DateTime for the same result"}], "answers": [{"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": true, "score": 4, "last_activity_date": 1519854021, "last_edit_date": 1519854021, "creation_date": 1519853545, "answer_id": 49038939, "question_id": 49038863, "link": "https://stackoverflow.com/questions/49038863/change-datetime-to-midnight/49038939#49038939", "title": "Change DateTime to Midnight", "body": "<p>Doing <code>ForEach</code> with assignments after <code>ToList</code> are not going to help, because you are setting <code>s</code>, a parameter that is thrown away after each iteration.</p>\n\n<p>Use a normal <code>foreach</code> loop to do the assignment:</p>\n\n<pre><code>foreach (var w in ClassRoom.WorkOrders) {\n    w.EffectiveDate = w.EffectiveDate.Date;\n    // w.EffectiveDate = GetDateZeroTime(w.EffectiveDate); would also work\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "is_accepted": false, "score": 2, "last_activity_date": 1519854105, "last_edit_date": 1519854105, "creation_date": 1519853719, "answer_id": 49038978, "question_id": 49038863, "link": "https://stackoverflow.com/questions/49038863/change-datetime-to-midnight/49038978#49038978", "title": "Change DateTime to Midnight", "body": "<p>This should effectively remove the time from all WorkOrders by assigning the <code>EffectiveDate</code> property of each one to a new <code>DateTime</code> object that has no knowledge of any kind of time:</p>\n\n<pre><code>foreach (var workOrder in ClassRoom.WorkOrders)\n    workOrder.EffectiveDate = new DateTime(workOrder.EffectiveDate.Year, workOrder.EffectiveDate.Month, workOrder.EffectiveDate.Day, 0, 0, 0);\n</code></pre>\n\n<p>Setting <code>workOrder.EffectiveDate = workOrder.EffectiveDate.Date</code> in the loop should also work just fine.</p>\n"}], "owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1229, "favorite_count": 0, "accepted_answer_id": 49038939, "answer_count": 2, "score": 3, "last_activity_date": 1519854105, "creation_date": 1519853268, "question_id": 49038863, "link": "https://stackoverflow.com/questions/49038863/change-datetime-to-midnight", "title": "Change DateTime to Midnight", "body": "<p>I have the following <code>EffectiveDay</code> which I want to change datetime to the midnight.</p>\n\n<pre><code>public DateTime EffectiveDate { get; set; }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/qp3Aq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qp3Aq.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>In the screenshot, it shows <strong>02/28/2018 5:00:00 AM</strong>. </p>\n\n<p>I want to change it to <strong>02/28/2018 12:00:00 AM (midnight)</strong></p>\n\n<p>I tried the following approach, it did not work</p>\n\n<pre><code>ClassRoom.WorkOrders.Select(w =&gt; w.EffectiveDate).ToList().ForEach(s =&gt; s = s.Date);\n</code></pre>\n\n<p>I tried the following approach as well, it did not work.</p>\n\n<pre><code>ClassRoom.WorkOrders.Select(w =&gt; w.EffectiveDate).ToList().ForEach(s =&gt; s = GetDateZeroTime(s.Date));\n\npublic static DateTime GetDateZeroTime(DateTime date)\n{\n  return new DateTime(date.Year, date.Month, date.Day, 0, 0, 0);\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework", "razor"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1519856567, "post_id": 49038842, "comment_id": 85084527, "body": "What is your <code>VehicleDetailsViewModel</code>? That is the model is the view, so that is what the model in the POST method needs to be. And there are other issues with your code - for example, read <a href=\"https://stackoverflow.com/questions/37161202/can-the-viewbag-name-be-the-same-as-the-model-property-name-in-a-dropdownlist\">this answer</a>. And to correctly implement cascading dropdownlists, refer <a href=\"https://dotnetfiddle.net/1bPZym\" rel=\"nofollow noreferrer\">this DotNetFiddle</a>"}, {"owner": {"reputation": 569, "user_id": 747264, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e05b0b5fd1e3e754abe581d069b47554?s=128&d=identicon&r=PG", "display_name": "Jason Ebersey", "link": "https://stackoverflow.com/users/747264/jason-ebersey"}, "edited": false, "score": 0, "creation_date": 1520009709, "post_id": 49038842, "comment_id": 85153248, "body": "Thanks for telling me to put the VehicleDetailsViewModel into the POST But I don&#39;t know what the ViewModel should look like or how to implement it. Your first link is how to use ViewBag, but I don&#39;t want to use ViewBag I prefer to use Model. How do I rework your second link to use my Entity instead of hard-coding values in each dropdown?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1520018822, "post_id": 49038842, "comment_id": 85157885, "body": "I am not telling you to use <code>VIewBag</code> (I never use it and would never suggest it) - I am pointing out that you have the same name for the property your binding to - (<code>&quot;Make&quot;</code>) and the <code>SelectList</code> - <code>Model.Make</code> which can never bind correctly as explained in the link. The whole point of using a view model is to be able to bind to it, yet your creating `&lt;select&gt; that have no relationship to anything and then your POST method has an entirely different model anyway"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1520019363, "post_id": 49038842, "comment_id": 85158129, "body": "Your view model will contain <code>int Make</code> to bind to, <code>IEnumerable&lt;SelectListItem&gt; MakeList</code> for the options (ditto for <code>Model</code> and <code>Variant</code>) and properties <code>string PowerOutput</code> etc (and the POST method will contain a parameter for the view model (that is what you sent to the view so that is what you send back)"}], "answers": [{"tags": [], "owner": {"reputation": 451, "user_id": 6503034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d905b86d8e26779f9f0feda1510c6b0?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi Jordi", "link": "https://stackoverflow.com/users/6503034/jordi-jordi"}, "is_accepted": false, "score": 2, "last_activity_date": 1519853802, "creation_date": 1519853802, "answer_id": 49038996, "question_id": 49038842, "link": "https://stackoverflow.com/questions/49038842/mvc-cascading-dropdowns-using-entity-framework-and-viewmodel/49038996#49038996", "title": "MVC Cascading DropDowns using Entity Framework and ViewModel", "body": "<p>Usually i make the next:</p>\n\n<pre><code>public ActionResult Index()\n{\n   var vm = new VehicleDetailsViewController();\n   return View(vm);\n}\n\n[HttpPost]\npublic ActionResult Index(VehicleDetailsViewController vm)\n{\n   //Validation something wrong\n    if (!ModelState.IsValid) return View(vm);\n\n   //Make what you want with all OK\n    return View(\"AllOk\");\n}\n</code></pre>\n"}], "owner": {"reputation": 569, "user_id": 747264, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e05b0b5fd1e3e754abe581d069b47554?s=128&d=identicon&r=PG", "display_name": "Jason Ebersey", "link": "https://stackoverflow.com/users/747264/jason-ebersey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1351, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520088114, "creation_date": 1519853183, "last_edit_date": 1520088114, "question_id": 49038842, "link": "https://stackoverflow.com/questions/49038842/mvc-cascading-dropdowns-using-entity-framework-and-viewmodel", "title": "MVC Cascading DropDowns using Entity Framework and ViewModel", "body": "<p>I am trying to Create a page that has 3 cascading dropdowns for vehicle Make, Model and Variant.</p>\n\n<p>Clicking on Search button must post the page to another controller and view using the ViewModel which will show the details of the vehicle selected on the index page.</p>\n\n<p><strong>Models</strong></p>\n\n<pre><code>public class Vehicle\n{\n    public IEnumerable&lt;SelectListItem&gt; Make{ get; set; }\n    public IEnumerable&lt;SelectListItem&gt; Model { get; set; }\n    public IEnumerable&lt;SelectListItem&gt; Variant { get; set; }\n}\n\npublic class Details\n{\n    public string PowerOutput{ get; set; }\n    public string NumberOfDoors{ get; set; }\n    public string VariantName { get; set; }\n}\n</code></pre>\n\n<p><strong>HomeController</strong></p>\n\n<pre><code>VehicleEntities db = new VehicleEntities();\n\npublic ActionResult Index()\n{\n    var model = new Vehicle\n    {\n        BrandName = GetMakes()\n    };\n\n    return View(model);\n}\n\n\nprivate IEnumerable&lt;SelectListItem&gt; GetMakes()\n{\n    IEnumerable&lt;SelectListItem&gt; brandname = from s in db.prcGetMakes(null)\n                                            select new SelectListItem\n                                            {\n                                                Selected = s.Make.ToString() == \"Active\",\n                                                Text = s.Make,\n                                                Value = s.Make\n                                            };\n    return new SelectList(brandname, \"Value\", \"Text\");\n}\n\npublic JsonResult GetModels(string make)\n{\n    var list = db.prcGetModels(make);\n\n    return Json(new SelectList(list, \"Model\", \"Model\"), JsonRequestBehavior.AllowGet);\n}\n\npublic JsonResult GetVariants(string model)\n{\n    var list = db.prcGetVariants(model);\n\n    return Json(new SelectList(list, \"Variant\", \"Variant\"), JsonRequestBehavior.AllowGet);\n}\n</code></pre>\n\n<p><strong>View</strong></p>\n\n<pre><code>@model WebApplication7.ViewModels.VehicleDetailsViewModel**\n@using (Html.BeginForm(\"Index\", \"Vehicle\", FormMethod.Post))\n{\n    @Html.AntiForgeryToken()\n    @Html.ValidationSummary()\n\n&lt;div class=\"form-group\"&gt;\n    &lt;div class=\"col-md-3\"&gt;\n        @Html.Label(\"Make\", new { @class = \"col-md-2 control-label\" })\n        @Html.DropDownList(\"Make\", Model.Make as SelectList, htmlAttributes: new { @class = \"form-control minimal\", @onchange = \"refreshModelFromBrandName()\" })\n    &lt;/div&gt;\n    &lt;div class=\"col-md-3\"&gt;\n        @Html.LabelFor(model =&gt; model.Model, htmlAttributes: new { @class = \"control-label col-md-2\" })\n        @Html.DropDownList(\"Model\", Model.Model as SelectList, htmlAttributes: new { @class = \"form-control minimal\", @onchange = \"refreshVariantFromModel()\" })*@\n    &lt;/div&gt;\n    &lt;div class=\"col-md-3\"&gt;\n        @Html.LabelFor(model =&gt; model.Brand, htmlAttributes: new { @class = \"control-label col-md-2\" })\n        @Html.DropDownList(\"Variant\", Model.Variant as SelectList, htmlAttributes: new { @class = \"form-control minimal\", @onchange = \"\" })*@\n    &lt;/div&gt;\n    &lt;div class=\"col-md-3\"&gt;\n        &lt;input id=\"search\" type=\"submit\" value=\"Search\" /&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n}\n\n&lt;script type=\"text/javascript\"&gt;\n\n    function refreshBrandName() {\n        // get references to the source and target drop downs html controls\n        // These are jquery searches to find the drop down controls\n\n        // find a control with id=BrandName\n        src = $(\"#Make\");\n\n        // find a control with id=Model (you need to add this to your view)\n        tgt = $(\"#BrandName\");\n\n        // clear drop down\n        tgt.empty();\n\n        // Get new model dataset via ajax\n        // based on BrandName\n        // The url parameter points at your web method\n        $.ajax({\n            type: 'GET',\n            //url: 'GetMakes',\n            url: 'GetMakes',\n            dataType: 'json',\n            data: { brandName: src.val() },\n            // success is called when dataset returns\n            success: function (p) {\n                // Populate with each returned member\n                $.each(p, function (i, pr) {\n                    tgt.append(\n                        '&lt;option value=\"' + pr.Value + '\"&gt;' +\n                        pr.Text + '&lt;/option&gt;'\n                    );\n                })\n            }\n        });\n    }\n\n    function refreshModelFromBrandName() {\n        // get references to the source and target drop downs html controls\n        // These are jquery searches to find the drop down controls\n\n        // find a control with id=BrandName\n        src = $(\"#Make\");\n\n        // find a control with id=Model (you need to add this to your view)\n        tgt = $(\"#Model\");\n\n        // clear drop down\n        tgt.empty();\n\n        // Get new model dataset via ajax\n        // based on BrandName\n        // The url parameter points at your web method\n        $.ajax({\n            type: 'GET',\n            url: 'GetModels',\n            dataType: 'json',\n            data: { brandName: src.val() },\n            // success is called when dataset returns\n            success: function (p) {\n                // Populate with each returned member\n                $.each(p, function (i, pr) {\n                    tgt.append(\n                        '&lt;option value=\"' + pr.Value + '\"&gt;' +\n                        pr.Text + '&lt;/option&gt;'\n                    );\n                })\n            }\n        });\n    }\n\n    function refreshVariantFromModel() {\n        // get references to the source and target drop downs html controls\n        // These are jquery searches to find the drop down controls\n\n        // find a control with id=BrandName\n        src = $(\"#Model\");\n\n        // find a control with id=Model (you need to add this to your view)\n        tgt = $(\"#Variant\");\n\n        // clear drop down\n        tgt.empty();\n\n        // Get new model dataset via ajax\n        // based on BrandName\n        // The url parameter points at your web method\n        $.ajax({\n            type: 'GET',\n            url: 'GetVariants',\n            dataType: 'json',\n            data: { modelName: src.val() },\n            // success is called when dataset returns\n            success: function (p) {\n                // Populate with each returned member\n                $.each(p, function (i, pr) {\n                    tgt.append(\n                        '&lt;option value=\"' + pr.Value + '\"&gt;' +\n                        pr.Text + '&lt;/option&gt;'\n                    );\n                })\n            }\n        });\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>This works nicely and the cascading dropdowns do what they are expected to and the form posts to the correct Controller</p>\n\n<p><strong>VehicleController</strong></p>\n\n<pre><code>public ActionResult Index()\n{\n    return View();\n}\n\n[HttpPost]\npublic ActionResult Index(Details model)\n{\n\n    return View(model);\n}\n</code></pre>\n\n<p>But this is where I get stuck.  How do I get the Vehicle Controller to pass the VehicleDetailsViewModel to the View attached to the VehicleController?</p>\n\n<p>I know it has something to do with the fact that I am only using the Vehicle class in the HomeController but I have no idea how to create the implement the VehicleDetailsViewController so that ViewModel works on the <strong>HomeController</strong> view and on the <strong>VehicleController</strong> view.</p>\n\n<p>I think the <strong>ViewModel</strong> must be something like this</p>\n\n<pre><code>public class VehicleDetailsViewModel\n{\n    public IEnumerable&lt;SelectListItem&gt; Brands { get; set; }\n    public IEnumerable&lt;SelectListItem&gt; Models { get; set; }\n    public IEnumerable&lt;SelectListItem&gt; Variants { get; set; }\n\n    public string PowerOutput { get; set; }\n    public string NumberOfDoors { get; set; }\n    public string VariantName { get; set; }\n\n    public VehicleDetailsViewModel()\n    {\n        this.Brands = new List&lt;SelectListItem&gt;();\n        this.Models = new List&lt;SelectListItem&gt;();\n        this.Variants = new List&lt;SelectListItem&gt;();\n    }\n}\n</code></pre>\n\n<p>Any help will be much appreciated :)</p>\n"}, {"tags": ["c#", "signalr-hub", "asp.net-core-signalr"], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 2837991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44dca2033d7ad08579a4484f0687c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "user1337", "link": "https://stackoverflow.com/users/2837991/user1337"}, "edited": false, "score": 0, "creation_date": 1548761629, "post_id": 49048980, "comment_id": 95649869, "body": "Works like a charme :). Thx."}, {"owner": {"reputation": 452, "user_id": 844443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea8daba6e06b2efa8388f7b5736413c6?s=128&d=identicon&r=PG", "display_name": "waxingsatirical", "link": "https://stackoverflow.com/users/844443/waxingsatirical"}, "edited": false, "score": 0, "creation_date": 1597154351, "post_id": 49048980, "comment_id": 112037161, "body": "do you have to make some kind of change to the endpoint mapping for the MessageHub on the server? I&#39;m getting a 400 response"}], "tags": [], "owner": {"reputation": 1738, "user_id": 3813979, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1098428594/picture?type=large", "display_name": "Pedro Franco", "link": "https://stackoverflow.com/users/3813979/pedro-franco"}, "is_accepted": true, "score": 28, "last_activity_date": 1519904484, "creation_date": 1519904484, "answer_id": 49048980, "question_id": 49038762, "link": "https://stackoverflow.com/questions/49038762/how-to-send-parameter-query-in-hubconnection-signalr-core/49048980#49048980", "title": "How to send Parameter/Query in HubConnection SignalR Core", "body": "<p>I have found how to do this after much research:</p>\n\n<p>On my build i just send the token from url connection.\nLike this:</p>\n\n<pre><code>var connection = new HubConnectionBuilder()\n        .WithUrl($\"http://10.0.2.162:5002/connection?token={token}\")\n        .WithConsoleLogger()\n        .WithMessagePackProtocol()\n        .WithTransport(TransportType.WebSockets)\n        .Build();\n</code></pre>\n"}], "owner": {"reputation": 1738, "user_id": 3813979, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1098428594/picture?type=large", "display_name": "Pedro Franco", "link": "https://stackoverflow.com/users/3813979/pedro-franco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7772, "favorite_count": 5, "accepted_answer_id": 49048980, "answer_count": 1, "score": 20, "last_activity_date": 1602214573, "creation_date": 1519852862, "last_edit_date": 1519903532, "question_id": 49038762, "link": "https://stackoverflow.com/questions/49038762/how-to-send-parameter-query-in-hubconnection-signalr-core", "title": "How to send Parameter/Query in HubConnection SignalR Core", "body": "<p>I'm trying to add parameter into connection to signalr.</p>\n\n<p>I'm using Builder to create my Client connection and start it:</p>\n\n<pre><code>var connection = new HubConnectionBuilder()\n        .WithUrl(\"http://10.0.2.162:5002/connection\")\n        .WithConsoleLogger()\n        .WithMessagePackProtocol()\n        .WithTransport(TransportType.WebSockets)\n        .Build();\n\nawait connection.StartAsync();\n</code></pre>\n\n<p>I want to send a simple parameter in this connection:\nSomething Like:</p>\n\n<p>\"Token\": \"123\"</p>\n\n<p>In my server side i think i can take this parameter from HttpContext:</p>\n\n<pre><code>public override Task OnConnectedAsync()\n{\n    var httpContext = Context.Connection.GetHttpContext();\n    var token = httpContext.Request.Query[\"Token\"];\n    return base.OnConnectedAsync();\n}\n</code></pre>\n\n<p>Any idea of how to send this parameter?\nThanks.</p>\n"}, {"tags": ["c#", ".net", "asp.net-mvc", "razor"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5641024, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b39ce82ba39abca4d441cac5b36e1f67?s=128&d=identicon&r=PG&f=1", "display_name": "Waled.Nur74", "link": "https://stackoverflow.com/users/5641024/waled-nur74"}, "edited": false, "score": 1, "creation_date": 1519854232, "post_id": 49038904, "comment_id": 85083510, "body": "Your answer did not work however I added the Models before the Application User -     @model IEnumerable&lt;YourNamespace.Models.ApplicationUser&gt;    and now it works successfully"}, {"owner": {"reputation": 2687, "user_id": 91714, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1c147075cb809d0e3853cb0e77398fc7?s=128&d=identicon&r=PG", "display_name": "Boris Modylevsky", "link": "https://stackoverflow.com/users/91714/boris-modylevsky"}, "reply_to_user": {"reputation": 31, "user_id": 5641024, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b39ce82ba39abca4d441cac5b36e1f67?s=128&d=identicon&r=PG&f=1", "display_name": "Waled.Nur74", "link": "https://stackoverflow.com/users/5641024/waled-nur74"}, "edited": false, "score": 0, "creation_date": 1519854326, "post_id": 49038904, "comment_id": 85083561, "body": "I am glad to hear that. That was my intent to specify the namespace of the ApplicationUser class. So please accept this answer"}, {"owner": {"reputation": 31, "user_id": 5641024, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b39ce82ba39abca4d441cac5b36e1f67?s=128&d=identicon&r=PG&f=1", "display_name": "Waled.Nur74", "link": "https://stackoverflow.com/users/5641024/waled-nur74"}, "edited": false, "score": 0, "creation_date": 1519854533, "post_id": 49038904, "comment_id": 85083650, "body": "Also I have another quick question. I have another custom field in that model called PhotoUpload which saves uploaded images as byte (through controller). How would I be able to call that PhotoUpload to view the image and not the byte characters? Thanks"}, {"owner": {"reputation": 2687, "user_id": 91714, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1c147075cb809d0e3853cb0e77398fc7?s=128&d=identicon&r=PG", "display_name": "Boris Modylevsky", "link": "https://stackoverflow.com/users/91714/boris-modylevsky"}, "reply_to_user": {"reputation": 31, "user_id": 5641024, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b39ce82ba39abca4d441cac5b36e1f67?s=128&d=identicon&r=PG&f=1", "display_name": "Waled.Nur74", "link": "https://stackoverflow.com/users/5641024/waled-nur74"}, "edited": false, "score": 0, "creation_date": 1519854695, "post_id": 49038904, "comment_id": 85083722, "body": "You should convert the PhotoUpload property to URL and add a controller that would return the image when that URL hit. You may publish it as a separate question, if you need a detailed answer."}, {"owner": {"reputation": 31, "user_id": 5641024, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b39ce82ba39abca4d441cac5b36e1f67?s=128&d=identicon&r=PG&f=1", "display_name": "Waled.Nur74", "link": "https://stackoverflow.com/users/5641024/waled-nur74"}, "edited": false, "score": 0, "creation_date": 1519854856, "post_id": 49038904, "comment_id": 85083791, "body": "Yes I may publish as another question. Thanks for previous answer though"}], "tags": [], "owner": {"reputation": 2687, "user_id": 91714, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1c147075cb809d0e3853cb0e77398fc7?s=128&d=identicon&r=PG", "display_name": "Boris Modylevsky", "link": "https://stackoverflow.com/users/91714/boris-modylevsky"}, "is_accepted": true, "score": 0, "last_activity_date": 1519853382, "creation_date": 1519853382, "answer_id": 49038904, "question_id": 49038726, "link": "https://stackoverflow.com/questions/49038726/net-mvc-accessing-custom-identity-user-properties/49038904#49038904", "title": ".Net MVC - Accessing Custom Identity User Properties", "body": "<p>Try changing the model to your custom class:</p>\n\n<pre><code>@model IEnumerable&lt;YourNamespace.ApplicationUser&gt; \n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5641024, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b39ce82ba39abca4d441cac5b36e1f67?s=128&d=identicon&r=PG&f=1", "display_name": "Waled.Nur74", "link": "https://stackoverflow.com/users/5641024/waled-nur74"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 477, "favorite_count": 0, "accepted_answer_id": 49038904, "answer_count": 1, "score": 0, "last_activity_date": 1519867066, "creation_date": 1519852741, "last_edit_date": 1519867066, "question_id": 49038726, "link": "https://stackoverflow.com/questions/49038726/net-mvc-accessing-custom-identity-user-properties", "title": ".Net MVC - Accessing Custom Identity User Properties", "body": "<p>I have added some custom fields to IdentityUser in the IdentityModel (such as First Name) however I am having trouble accessing those fields in the view. They have been added to the database through migrations and I have put information in them.  </p>\n\n<p>This is my model -  </p>\n\n<pre><code>public class ApplicationUser : IdentityUser\n{\n    [Required]\n    [Display(Name = \"First Name\")]\n    public string FirstName { get; set; }\n\n    [Required]\n    [Display(Name = \"Surname\")]\n    public string Surname { get; set; }\n\n    public async Task&lt;ClaimsIdentity&gt; GenerateUserIdentityAsync(UserManager&lt;ApplicationUser&gt; manager)\n    {\n        // Note the authenticationType must match the one defined in CookieAuthenticationOptions.AuthenticationType\n        var userIdentity = await manager.CreateIdentityAsync(this, DefaultAuthenticationTypes.ApplicationCookie);\n        // Add custom user claims here\n        return userIdentity;\n    }\n}`\n</code></pre>\n\n<p>In the view I created a table to view this information  </p>\n\n<pre><code>&lt;table class=\" table table-bordered table-hover\"&gt;\n&lt;tr&gt;\n    &lt;th class=\"c\"&gt;\n        First Name\n    &lt;/th&gt;\n    &lt;th class=\"c\"&gt;\n        Surname\n    &lt;/th&gt;\n&lt;/tr&gt;\n@foreach (var item in Model)\n{\n    &lt;tr&gt;\n        &lt;td class=\"c\"&gt;\n            @item.FirstName\n        &lt;/td&gt;\n        &lt;td class=\"c\"&gt;\n            @item.Surname\n        &lt;/td&gt;   \n    &lt;/tr&gt;\n}\n</code></pre>\n\n<p>    </p>\n\n<p>I have called the model at the top of the view page   </p>\n\n<pre><code>@model IEnumerable&lt;Microsoft.AspNet.Identity.EntityFramework.IdentityUser&gt;    \n</code></pre>\n\n<p>However this is where I am getting errors. For the @item. it does not recognise my custom fields. The specific error im getting is -   </p>\n\n<p>'IdentityUser' does not contain a definition for 'FirstName' and no extension method 'FirstName' accepting a first argument of type 'IdentityUser' could be found.  </p>\n\n<p>Im not sure why this error is showing up and I would appreciate if anyone could help.   </p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "winforms", "timer"], "comments": [{"owner": {"reputation": 299, "user_id": 8703483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290da4be3d6762921c9b4501ea4f123c?s=128&d=identicon&r=PG&f=1", "display_name": "Stacking For Heap", "link": "https://stackoverflow.com/users/8703483/stacking-for-heap"}, "edited": false, "score": 0, "creation_date": 1519852832, "post_id": 49038713, "comment_id": 85082774, "body": "Aren&#39;t you stopping your timer right after starting it after your IF-block, in your button-code?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1519852920, "post_id": 49038713, "comment_id": 85082822, "body": "What kind of timer are you using?"}, {"owner": {"reputation": 777, "user_id": 1218959, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/37cdc38e927f8909e66e091d25282f41?s=128&d=identicon&r=PG", "display_name": "tempidope", "link": "https://stackoverflow.com/users/1218959/tempidope"}, "reply_to_user": {"reputation": 299, "user_id": 8703483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290da4be3d6762921c9b4501ea4f123c?s=128&d=identicon&r=PG&f=1", "display_name": "Stacking For Heap", "link": "https://stackoverflow.com/users/8703483/stacking-for-heap"}, "edited": false, "score": 0, "creation_date": 1519853139, "post_id": 49038713, "comment_id": 85082942, "body": "@StackingForHeap Yes - but it takes a while to get there. The connectDB(); takes about 2-3 minutes of processing time."}, {"owner": {"reputation": 777, "user_id": 1218959, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/37cdc38e927f8909e66e091d25282f41?s=128&d=identicon&r=PG", "display_name": "tempidope", "link": "https://stackoverflow.com/users/1218959/tempidope"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1519853172, "post_id": 49038713, "comment_id": 85082960, "body": "@Steve System.Windows.Forms.Timer"}, {"owner": {"reputation": 299, "user_id": 8703483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290da4be3d6762921c9b4501ea4f123c?s=128&d=identicon&r=PG&f=1", "display_name": "Stacking For Heap", "link": "https://stackoverflow.com/users/8703483/stacking-for-heap"}, "edited": false, "score": 0, "creation_date": 1519853225, "post_id": 49038713, "comment_id": 85083001, "body": "So you assume the db is not processing in the background so that the button just closes the timer as soon as the call to db has been made? What kind of timer are you using?"}, {"owner": {"reputation": 777, "user_id": 1218959, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/37cdc38e927f8909e66e091d25282f41?s=128&d=identicon&r=PG", "display_name": "tempidope", "link": "https://stackoverflow.com/users/1218959/tempidope"}, "reply_to_user": {"reputation": 299, "user_id": 8703483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290da4be3d6762921c9b4501ea4f123c?s=128&d=identicon&r=PG&f=1", "display_name": "Stacking For Heap", "link": "https://stackoverflow.com/users/8703483/stacking-for-heap"}, "edited": false, "score": 0, "creation_date": 1519853452, "post_id": 49038713, "comment_id": 85083100, "body": "@StackingForHeap Yes and No. The DB does take a good 2-3 minutes and I can see it. While this is happening, the UI is unresponsive and the timer doesn&#39;t change/tick at all. I use System.Windows.Forms.Timer"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1519853505, "post_id": 49038713, "comment_id": 85083126, "body": "Please add at least the definition for <code>connectDB</code>"}, {"owner": {"reputation": 299, "user_id": 8703483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290da4be3d6762921c9b4501ea4f123c?s=128&d=identicon&r=PG&f=1", "display_name": "Stacking For Heap", "link": "https://stackoverflow.com/users/8703483/stacking-for-heap"}, "edited": false, "score": 1, "creation_date": 1519853628, "post_id": 49038713, "comment_id": 85083184, "body": "Then you should use the  BackgroundWorker (class) and its ProgressChanged -event to update your timer/GUI."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1519853670, "post_id": 49038713, "comment_id": 85083215, "body": "Slow dbase queries must not hang the UI thread.  Use a worker thread instead, Task or BackgroundWorker classses."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1519854374, "post_id": 49038713, "comment_id": 85083581, "body": "Do you want to show a progress in your operation? Like a progress bar and not just the total time required by the long operation right?"}, {"owner": {"reputation": 777, "user_id": 1218959, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/37cdc38e927f8909e66e091d25282f41?s=128&d=identicon&r=PG", "display_name": "tempidope", "link": "https://stackoverflow.com/users/1218959/tempidope"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1519855653, "post_id": 49038713, "comment_id": 85084138, "body": "@CamiloTerevinto - added some comments. Believe those should satisfy understanding the nature of the issue. But if it helps I&#39;ll write the code for this method."}, {"owner": {"reputation": 777, "user_id": 1218959, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/37cdc38e927f8909e66e091d25282f41?s=128&d=identicon&r=PG", "display_name": "tempidope", "link": "https://stackoverflow.com/users/1218959/tempidope"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1519855702, "post_id": 49038713, "comment_id": 85084161, "body": "@Steve Yes, at least some sort of. It could take 2 minutes or 3 or 20, no way of knowing. I&#39;d want to see an elapsed time since the button click. Does that clarify?"}, {"owner": {"reputation": 777, "user_id": 1218959, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/37cdc38e927f8909e66e091d25282f41?s=128&d=identicon&r=PG", "display_name": "tempidope", "link": "https://stackoverflow.com/users/1218959/tempidope"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1519855725, "post_id": 49038713, "comment_id": 85084174, "body": "@HansPassant yes, and that was my understanding as well. Weird that it does block the UI"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1519855877, "post_id": 49038713, "comment_id": 85084249, "body": "@tempidope Why is it weird to you that running a bunch of long running operations in the UI thread blocks the UI thread?  What else could it do?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1519855996, "post_id": 49038713, "comment_id": 85084306, "body": "The CLR has workarounds for getting this wrong, blocking an STA thread is very troublesome.  But it is limited, your UI might paint but it is not going to respond to the mouse or keyboard and timers will not tick."}, {"owner": {"reputation": 17834, "user_id": 445303, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2807e279ada3bb19bad41a54af66114d?s=128&d=identicon&r=PG", "display_name": "The Muffin Man", "link": "https://stackoverflow.com/users/445303/the-muffin-man"}, "edited": false, "score": 1, "creation_date": 1519867557, "post_id": 49038713, "comment_id": 85087780, "body": "If you have an employee that can only do 1 thing at a time in the order it was given to them then it&#39;s natural that they cannot count from 1 to N while busy crunching away at a database. It&#39;s well known in windows programming that anything that cannot return quickly should not be on the main thread (because the UI shares it). If the long running process is just your application waiting on the response to something outside of your code base (such as a remote API call) you don&#39;t need a background thread, you can just use async programming."}], "answers": [{"comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 3, "creation_date": 1519853163, "post_id": 49038761, "comment_id": 85082955, "body": "Maybe a better answer would show how to use a Stopwatch in this context?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1519854186, "post_id": 49038761, "comment_id": 85083485, "body": "Well that&#39;s better, but I think that the OP wants to show some kind of timer progress with its code. You can&#39;t do it with a Stopwatch. Not my downvote though."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1519854559, "post_id": 49038761, "comment_id": 85083661, "body": "I didn&#39;t downvote either, but this will still block the UI thread (note this is happening in a <code>Click</code> event)"}], "tags": [], "owner": {"reputation": 137, "user_id": 5720797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7tKPb.jpg?s=128&g=1", "display_name": "Grzegorz Ochlik", "link": "https://stackoverflow.com/users/5720797/grzegorz-ochlik"}, "is_accepted": false, "score": -3, "last_activity_date": 1519853967, "last_edit_date": 1519853967, "creation_date": 1519852860, "answer_id": 49038761, "question_id": 49038713, "link": "https://stackoverflow.com/questions/49038713/timer-doesnt-work-due-to-unresponsive-ui/49038761#49038761", "title": "Timer doesn&#39;t work due to unresponsive UI", "body": "<p>Maybe better solution would be to use Stopwatch?\nCheck here: <a href=\"https://msdn.microsoft.com/en-us/library/system.diagnostics.stopwatch(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.diagnostics.stopwatch(v=vs.110).aspx</a></p>\n\n<p>EDIT:\nAfter Steve's comment - I added some usability for Stopwatch class</p>\n\n<pre><code>static void Main(string[] args)\n{\n    var sw = new Stopwatch();\n\n    sw.Start();\n    DoSomething();\n    sw.Stop();\n\n    Console.WriteLine($\"DoSomething() code took {sw.ElapsedMilliseconds}ms to run.\");\n\n    sw.Restart();\n    DoSomethingElse();\n    sw.Stop();\n\n    Console.WriteLine($\"DoSomethingElse() code took {sw.ElapsedMilliseconds}ms to run.\");\n}\n</code></pre>\n\n<p>Note - watch out for weird calculations while debugging - it will continue to count as you put a breakpoint at spots in your code.</p>\n"}, {"comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 2, "creation_date": 1519854292, "post_id": 49038917, "comment_id": 85083541, "body": "I don&#39;t think that this is what the OP really wants. I think that they want some kind of progress while the long operation runs. Something like a progress bar. In this way you give only the total time required by the operation."}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1519854614, "post_id": 49038917, "comment_id": 85083681, "body": "They can&#39;t report progress on a single query since they don&#39;t know how many records fetched and how many to go. In this case they can show an &quot;approximate&quot; progress bar, which is fake."}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 2, "creation_date": 1519854725, "post_id": 49038917, "comment_id": 85083731, "body": "No one&#39;s talking about reporting the number of records. I assumed from the question that he wants to continually see the timer tick up in the textbox. But because the DB call blocks the thread, he doesn&#39;t see the time increment."}, {"owner": {"reputation": 777, "user_id": 1218959, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/37cdc38e927f8909e66e091d25282f41?s=128&d=identicon&r=PG", "display_name": "tempidope", "link": "https://stackoverflow.com/users/1218959/tempidope"}, "reply_to_user": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1519855415, "post_id": 49038917, "comment_id": 85084032, "body": "Exactly @TyCobb"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "reply_to_user": {"reputation": 777, "user_id": 1218959, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/37cdc38e927f8909e66e091d25282f41?s=128&d=identicon&r=PG", "display_name": "tempidope", "link": "https://stackoverflow.com/users/1218959/tempidope"}, "edited": false, "score": 0, "creation_date": 1519855725, "post_id": 49038917, "comment_id": 85084173, "body": "@tempidope As explained by comments under your question (and here) your UI thread is busy doing the query. While inside that code the UI thread cannot execute updates of your label. You need to switch sides. The long operation runs in background while the UI thread updates the label."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1519857001, "post_id": 49038917, "comment_id": 85084714, "body": "<code>BackgroundWorker</code> died when <code>async&#47;await</code> was introduced, so downvote for deprecated practices"}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 1, "creation_date": 1519857206, "post_id": 49038917, "comment_id": 85084794, "body": "@CamiloTerevinto This is irrelevant to the question. Bottom line is, separate thread of execution and display. I could use <code>ThreadPool</code> if I had time to write it. BGWorker is the simple way to express what needs to be done. Besides, may be OP is still in FW3.5? In fact, I used existing project which is FW3.5 -) enjoy"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1519857267, "post_id": 49038917, "comment_id": 85084824, "body": "@T.S. The OP doesn&#39;t have CPU bound work to do, so no, that wouldn&#39;t be appropriate either.  You shouldn&#39;t be creating a background thread or thread pool thread just to have it sit around doing nothing any more than you should have the UI thread doing that."}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1519857516, "post_id": 49038917, "comment_id": 85084917, "body": "@Servy if you load huge chunk of data it is better to do on a different thread if you want to keep screen responsive"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1519857605, "post_id": 49038917, "comment_id": 85084965, "body": "@T.S. If you&#39;re doing a bunch of CPU bound processing of that data, sure, that should be done in a background thread.  The OP only indicates that there&#39;s executing a DB query.  If there is long running CPU bound processing on the results, a background thread should only be used for said processing, not to wait for the DB to do its work.  Loading the results into the UI <i>can&#39;t</i> be done in a background thread; only the UI thread can access UI elements.  That&#39;s...the whole point of the UI thread."}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1519857756, "post_id": 49038917, "comment_id": 85085043, "body": "@Servy This is matter of opinion. OP stated that data pool takes 2-3 minutes. Screen will be frozen without use of a different thread. Data can be loaded into Dataset or List and then bound. I rest my case"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1519857926, "post_id": 49038917, "comment_id": 85085109, "body": "@T.S. No, that&#39;s false.  The UI thread needs to not block.  That doesn&#39;t mean you need to create some other thread to do nothing that whole time.  The proper course of action is to do the work asynchronously, such that <i>no</i> thread is blocked.  It&#39;s trivially easy to solve this type of problem without <i>ever</i> using any non-UI thread.  That you don&#39;t understand that indicates you shouldn&#39;t be answering these kinds of questions."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1519858304, "post_id": 49038917, "comment_id": 85085260, "body": "So you think that&#39;s irrelevant to create threads that do nothing? I&#39;ll take it you don&#39;t care at all about performance either. I/O bound work should be done with TPL. Only because you are in .NET 3.5 doesn&#39;t mean the OP is tied to that extremely old version too"}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1519858362, "post_id": 49038917, "comment_id": 85085288, "body": "@Servy Ok, dude. This is free world. I can answer questions, you can downvote if you wish. You could post your answer and perhaps I could learn something."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1519858436, "post_id": 49038917, "comment_id": 85085325, "body": "The BackgroundThread you are creating that only waits for a DB to respond"}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1519858583, "post_id": 49038917, "comment_id": 85085399, "body": "@CamiloTerevinto It loads data for 2-3 minutes and once done - dies, and  user can check the grid (for example)."}], "tags": [], "owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "is_accepted": false, "score": 3, "last_activity_date": 1519856727, "last_edit_date": 1519856727, "creation_date": 1519853446, "answer_id": 49038917, "question_id": 49038713, "link": "https://stackoverflow.com/questions/49038713/timer-doesnt-work-due-to-unresponsive-ui/49038917#49038917", "title": "Timer doesn&#39;t work due to unresponsive UI", "body": "<p>Should do this</p>\n\n<pre><code>var sw = Stopwatch.StartNew();\n// here execute your DB call\nsw.Stop();\ntxtTimer.Text = string.Format(\"Time Elapsed : {0}\", sw);\n</code></pre>\n\n<p>Now, if you do this via background thread, your screen should be responsive. Just make sure to synchronize control (text box). You can start with <code>BackgroundWorker</code> and do this on <code>DoWork</code>. Then on complete, read data and set control value</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>If you want time of execution show on form, do this. This is all you need</p>\n\n<pre><code>public partial class Form1 : Form\n{\n\n    Timer _timer = new Timer();\n    private DateTime _startTime;\n\n    public Form1()\n    {\n        InitializeComponent();\n\n\n        _timer.Interval = 1000;\n        _timer.Tick += _timer_Tick;\n    }\n\n    void _timer_Tick(object sender, EventArgs e)\n    {\n        var span = (DateTime.Now - _startTime);\n        label1.Text = string.Format(\"Elapsed: {0}\", span);\n    }\n\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n        label1.Text = \"\";\n        _startTime = DateTime.Now;\n        _timer.Start();\n        var bgw = new BackgroundWorker();\n        bgw.RunWorkerCompleted += bgw_RunWorkerCompleted;\n        bgw.DoWork += bgw_DoWork;\n        bgw.RunWorkerAsync();\n\n\n    }\n\n    void bgw_RunWorkerCompleted(object sender, RunWorkerCompletedEventArgs e)\n    {\n        _timer.Stop();\n    }\n\n    void bgw_DoWork(object sender, DoWorkEventArgs e)\n    {\n        // run query here\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 777, "user_id": 1218959, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/37cdc38e927f8909e66e091d25282f41?s=128&d=identicon&r=PG", "display_name": "tempidope", "link": "https://stackoverflow.com/users/1218959/tempidope"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1519860960, "creation_date": 1519852671, "last_edit_date": 1519855582, "question_id": 49038713, "link": "https://stackoverflow.com/questions/49038713/timer-doesnt-work-due-to-unresponsive-ui", "title": "Timer doesn&#39;t work due to unresponsive UI", "body": "<p>The C# window which performs a data pull from SQL stored procedure, doesn't show 'Time Elapsed' because the Timer control doesn't seem to work.</p>\n\n<p>One of my applications, that uses Timer control - doesn't seem to keep the timer ticking when it's processing.</p>\n\n<p>If I perform <code>Timer.Start()</code> on Form_Load, it seems to work fine. However <code>Timer.Start()</code> prior to starting of a data pull (which takes about 2-3 minutes) seems to not-work.</p>\n\n<p>Timer is enabled.</p>\n\n<pre><code>private void btnCalculate_Click(object sender, EventArgs e)\n{\n    tmrTime.Start();\n    if (txtEmployeeNumber.Text.Trim() != \"\")\n    {\n        dtStart = DateTime.Now;\n        connectDB(); //Connects to Database, Executes a Stored Procedure, Prepares a response String, and assigns response to a Textbox. All of which takes 2-3 minutes.\n    }\n    else\n    {\n        MessageBox.Show(\"Please enter a value!\");\n    }\n     tmrTime.Stop();\n}\n\n\n\nprivate void tmrTime_Tick(object sender, EventArgs e)\n{\n    txtTimer.Text = \"Time Elapsed : \" + (DateTime.Now - dtStart).Seconds + \" second(s)\";\n}\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "asp.net-mvc", "datatable"], "comments": [{"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 5, "creation_date": 1519852348, "post_id": 49038591, "comment_id": 85082510, "body": "That is why you dont show the 10k items, you do pagination and add filter box. Who will watch 10k list anyway?"}, {"owner": {"reputation": 13, "user_id": 7092545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dddde2cdbed3b0a3b6226e16ffd4c45?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/7092545/james"}, "reply_to_user": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1519854861, "post_id": 49038591, "comment_id": 85083793, "body": "I have pagination on my datatable. But page is loading late at loading page at first."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 2, "creation_date": 1519862014, "post_id": 49038591, "comment_id": 85086438, "body": "You page it in the server, not the view!"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7092545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dddde2cdbed3b0a3b6226e16ffd4c45?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/7092545/james"}, "edited": false, "score": 0, "creation_date": 1519854868, "post_id": 49038663, "comment_id": 85083797, "body": "I have pagination on my datatable. But page is loading late at loading page at first."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "reply_to_user": {"reputation": 13, "user_id": 7092545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dddde2cdbed3b0a3b6226e16ffd4c45?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/7092545/james"}, "edited": false, "score": 1, "creation_date": 1519870862, "post_id": 49038663, "comment_id": 85088570, "body": "@james then you need to move the pagination earlier on. They need to be query parameters passed in to <code>public ActionResult ListData(int itemsPerPage, int pageNumber)</code> and the parameters used in a <code>obj.students = ent.Students.OrderBy(x=&gt; x.ParametreID).Skip(itemsPerPage * pageNumber).Take(itemsPerPage);</code> call."}], "tags": [], "owner": {"reputation": 249, "user_id": 1647183, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fa4be6efd0ef516c0d7c3f809ec4101?s=128&d=identicon&r=PG", "display_name": "chrislebaron", "link": "https://stackoverflow.com/users/1647183/chrislebaron"}, "is_accepted": false, "score": 1, "last_activity_date": 1519852421, "creation_date": 1519852421, "answer_id": 49038663, "question_id": 49038591, "link": "https://stackoverflow.com/questions/49038591/how-to-speed-up-to-list-large-data/49038663#49038663", "title": "How to speed up to list large data?", "body": "<p>I don't know specifics for your framework, but you should look into paginating your results. This way you only load a small number of items from your database instead of 10000 at a time. <a href=\"https://en.wikipedia.org/wiki/Pagination\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Pagination</a></p>\n"}], "owner": {"reputation": 13, "user_id": 7092545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dddde2cdbed3b0a3b6226e16ffd4c45?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/7092545/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "closed_date": 1519901526, "answer_count": 1, "score": 0, "last_activity_date": 1519861959, "creation_date": 1519852155, "last_edit_date": 1519861959, "question_id": 49038591, "link": "https://stackoverflow.com/questions/49038591/how-to-speed-up-to-list-large-data", "closed_reason": "Needs more focus", "title": "How to speed up to list large data?", "body": "<p>I am listing datas as below in my MVC project. But my datas are more than 10000. While filling datatable it freezes and takes too much time. I want to speed up for filling datatable.How can I do? </p>\n\n<p>Controller</p>\n\n<pre><code>  public ActionResult ListData()\n        {\n            frsDTO obj = new frsDTO();\n            obj.students = ent.Students.ToList();\n            return View(obj);\n        }\n</code></pre>\n\n<p>View</p>\n\n<pre><code>&lt;table class=\"table table-striped table-bordered table-hover\" id=\"sample_1\"&gt;\n\n                    @foreach (var item in Model.genelParametreler)\n                    {\n                        &lt;tr&gt;\n                            &lt;td&gt;@item.ParametreAdi&lt;/td&gt;\n                            &lt;td&gt;@item.Deger&lt;/td&gt;\n                            &lt;td&gt;@item.Aciklama&lt;/td&gt;\n                            &lt;td&gt;&lt;a onclick=\"location.href = '/Parametre/GenelParamDuzenle?ParametreID=@item.ParametreID';\" style=\"cursor:pointer\"&gt; &lt;span class=\"fa fa-pencil-square-o\"&gt;&lt;/span&gt; G\u00fcncelle&lt;/a&gt;&lt;/td&gt;\n                            &lt;td&gt;&lt;a id=\"@item.ParametreID\" onclick=\"parametreSil(@item.ParametreID)\" style=\"cursor:pointer; color:red\"&gt;&lt;span class=\"fa fa-times\" style=\"color:red\"&gt;&lt;/span&gt;Sil&lt;/a&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                    }\n\n            &lt;/table&gt;\n</code></pre>\n"}, {"tags": ["c#", "async-await", "asp.net-web-api2"], "comments": [{"owner": {"reputation": 8129, "user_id": 781366, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5c0e1561200995a99872fff2b7fb0a30?s=128&d=identicon&r=PG", "display_name": "ataravati", "link": "https://stackoverflow.com/users/781366/ataravati"}, "edited": false, "score": 0, "creation_date": 1519852016, "post_id": 49038548, "comment_id": 85082318, "body": "Can you explain why you downvoted?"}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1519852194, "post_id": 49038548, "comment_id": 85082412, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/34773533/why-does-await-not-appear-to-prevent-second-operation-on-ef-context\">Why Does Await Not Appear to Prevent Second Operation on EF Context</a>"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 1, "creation_date": 1519852215, "post_id": 49038548, "comment_id": 85082426, "body": "The code is far from complete. What other operations are part of the Action?  This could come from forgetting an await elsewhere."}, {"owner": {"reputation": 8129, "user_id": 781366, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5c0e1561200995a99872fff2b7fb0a30?s=128&d=identicon&r=PG", "display_name": "ataravati", "link": "https://stackoverflow.com/users/781366/ataravati"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1519852300, "post_id": 49038548, "comment_id": 85082472, "body": "@HenkHolterman, I&#39;ll add some more code."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 1, "creation_date": 1519852420, "post_id": 49038548, "comment_id": 85082554, "body": "The also include that <code>.All()</code> and tell us if lazy loading could be used. Like in the suggested duplicate, <code>booking.User</code> could be the culprit."}, {"owner": {"reputation": 8129, "user_id": 781366, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5c0e1561200995a99872fff2b7fb0a30?s=128&d=identicon&r=PG", "display_name": "ataravati", "link": "https://stackoverflow.com/users/781366/ataravati"}, "edited": false, "score": 0, "creation_date": 1519852754, "post_id": 49038548, "comment_id": 85082730, "body": "I edited the question to add more code."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1519852790, "post_id": 49038548, "comment_id": 85082750, "body": "On a side note I strongly recommend you do not create additional wrappers around EF. The type <code>DbContext</code> is an implementation of a UoW pattern and the type <code>DbSet&lt;T&gt;</code> is an implementation of a Repository pattern. Why re-wrap these types in your own implementation of the same pattern? You are adding nothing of value, just more code and a poor abstraction which results in code that is harder to read, debug, and use."}, {"owner": {"reputation": 8129, "user_id": 781366, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5c0e1561200995a99872fff2b7fb0a30?s=128&d=identicon&r=PG", "display_name": "ataravati", "link": "https://stackoverflow.com/users/781366/ataravati"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1519852867, "post_id": 49038548, "comment_id": 85082798, "body": "@Igor, ok, thanks for the recommendation!"}, {"owner": {"reputation": 8129, "user_id": 781366, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5c0e1561200995a99872fff2b7fb0a30?s=128&d=identicon&r=PG", "display_name": "ataravati", "link": "https://stackoverflow.com/users/781366/ataravati"}, "edited": false, "score": 0, "creation_date": 1519852889, "post_id": 49038548, "comment_id": 85082808, "body": "By the way, I have a similar code in my Post action, but don&#39;t have any issues with it."}], "answers": [{"comments": [{"owner": {"reputation": 8129, "user_id": 781366, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5c0e1561200995a99872fff2b7fb0a30?s=128&d=identicon&r=PG", "display_name": "ataravati", "link": "https://stackoverflow.com/users/781366/ataravati"}, "edited": false, "score": 0, "creation_date": 1519853885, "post_id": 49038931, "comment_id": 85083330, "body": "I disabled lazy loading, and now the error was replaced with this one: &quot;&quot;Non-static method requires a target.&quot;. So, it has something to do with the expression. I&#39;ll have to move it outside of the query. Thanks for your help!"}, {"owner": {"reputation": 8129, "user_id": 781366, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5c0e1561200995a99872fff2b7fb0a30?s=128&d=identicon&r=PG", "display_name": "ataravati", "link": "https://stackoverflow.com/users/781366/ataravati"}, "edited": false, "score": 0, "creation_date": 1519854399, "post_id": 49038931, "comment_id": 85083593, "body": "Apparently, the problem is the FindAsync() on the first query, because it does not include the User."}], "tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": true, "score": 4, "last_activity_date": 1519853737, "last_edit_date": 1519853737, "creation_date": 1519853512, "answer_id": 49038931, "question_id": 49038548, "link": "https://stackoverflow.com/questions/49038548/error-on-anyasync/49038931#49038931", "title": "Error on AnyAsync()", "body": "<p>I am going to go out on a limb and guess that you have lazy loading enabled. This would cause a call like <code>booking.User.UserName</code> to go to the database to retrieve the value and putting that inside of a call like <code>AnyAsync</code> could cause the <code>DbContext</code> to try to open a second connection to retrieve that value after it already opened one for the <code>AnyAsync</code> statement.</p>\n\n<p>The quick fix in this case is to retrieve the user name before the call to <code>AnyAsync</code>.</p>\n\n<pre><code>var bookingUserName = booking.User.UserName;\nvar dateExists = await _unitOfWork.GetRepository&lt;Booking&gt;().All()\n                .AnyAsync(b =&gt; b.User.UserName == bookingUserName &amp;&amp; b.Date == model.Date);\n</code></pre>\n\n<p>A better fix would be to retrieve this information in advance in the call where you get the <code>booking</code> instance so you do not have to make an additional round trip.</p>\n\n<p><em>Personally I always disable lazy loading on my <code>DbContext</code> types and use <code>Include</code> statements to explicitly specify what I want to be retrieved with any call. This gives me more control over my execution.</em></p>\n"}], "owner": {"reputation": 8129, "user_id": 781366, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5c0e1561200995a99872fff2b7fb0a30?s=128&d=identicon&r=PG", "display_name": "ataravati", "link": "https://stackoverflow.com/users/781366/ataravati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1864, "favorite_count": 0, "accepted_answer_id": 49038931, "answer_count": 1, "score": 0, "last_activity_date": 1519858707, "creation_date": 1519851943, "last_edit_date": 1519858707, "question_id": 49038548, "link": "https://stackoverflow.com/questions/49038548/error-on-anyasync", "title": "Error on AnyAsync()", "body": "<p>In my ASP.NET Web API application, I get the following error in one of my actions, at the line below:</p>\n\n<pre><code>var dateExists = await _unitOfWork.GetRepository&lt;Booking&gt;().All()\n    .AnyAsync(b =&gt; b.User.UserName == booking.User.UserName &amp;&amp; b.Date == model.Date);\n</code></pre>\n\n<p>Here's the error:</p>\n\n<blockquote>\n  <p>A second operation started on this context before a previous\n  asynchronous operation completed. Use 'await' to ensure that any\n  asynchronous operations have completed before calling another method\n  on this context. Any instance members are not guaranteed to be thread\n  safe.</p>\n</blockquote>\n\n<p>But, as you can see, I am using <code>await</code>. I'm also using <code>await</code> on all the other async operations in the action. Then, what might be the problem?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Here's my entire action:</p>\n\n<pre><code>[HttpPut]\n[Route(\"Update\")]\npublic async Task&lt;IHttpActionResult&gt; Put(BookingEditBindingModel model)\n{\n    if (!ModelState.IsValid)\n    {\n        // Return a bad request response if the model state is invalid...\n        return BadRequest(ModelState);\n    }\n\n    try\n    {\n        var booking = await _unitOfWork.GetRepository&lt;Booking&gt;().FindAsync(model.BookingId);\n        if (booking == null)\n        { \n            return NotFound();\n        }\n\n        // Only Admin is allowed to update other users' data...\n        if (!User.IsInRole(\"Admin\") &amp;&amp; booking.User.UserName != User.Identity.Name)\n        {\n            return Unauthorized();\n        }\n\n        // There can only be one entry per date/user.\n        if (model.Date != booking.Date)\n        {\n            var dateExists = await _unitOfWork.GetRepository&lt;Booking&gt;().All()\n                .AnyAsync(b =&gt; b.User.UserName == booking.User.UserName &amp;&amp; b.Date == model.Date);\n            if (dateExists)\n            {\n                ModelState.AddModelError(\"Date\", \"Data already exists for this date.\");\n                return BadRequest(ModelState);\n            }\n        }\n\n        booking.Date = model.Date;\n        // Change other properties...\n\n        await _unitOfWork.SaveAsync();\n\n        return Ok();\n    }\n    catch (Exception ex)\n    {\n        return InternalServerError(ex);\n    }\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>I disabled lazy loading, but I still had a problem. It looks like, as other people had guessed, the issue was with <code>booking.User</code>, because the <code>FindAsync()</code> in the first query does not include the <code>User</code>. I replaced the first query with the one below, and the issue was resolved.</p>\n\n<pre><code>var booking = await _unitOfWork.GetRepository&lt;Booking&gt;().All()\n    .Include(b =&gt; b.User)\n    .SingleOrDefaultAsync(b =&gt; b.BookingId == model.BookingId);\n</code></pre>\n"}, {"tags": ["c#", "encryption", "aes"], "answers": [{"tags": [], "owner": {"reputation": 594, "user_id": 8979492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/te40O.jpg?s=128&g=1", "display_name": "Serega", "link": "https://stackoverflow.com/users/8979492/serega"}, "is_accepted": true, "score": 2, "last_activity_date": 1519853524, "last_edit_date": 1519853524, "creation_date": 1519853182, "answer_id": 49038840, "question_id": 49038527, "link": "https://stackoverflow.com/questions/49038527/aes-encryption-invalid-padding/49038840#49038840", "title": "AES Encryption Invalid Padding", "body": "<p>You have the bug in this line:</p>\n\n<pre><code>var cipherTextBytes = cipherTextBytesWithSaltAndIv.Skip((Keysize / 8) * 2).Take(cipherTextBytesWithSaltAndIv.Length - ((Keysize / 8) * 5)).ToArray();\n</code></pre>\n\n<p>Why do you take only <code>cipherTextBytesWithSaltAndIv.Length - ((Keysize / 8) * 5)</code> bytes? As I can see in your encryption alogithm all bytes remaining after removing of salt and IV should be taken.</p>\n\n<p>I.e. replace the line with</p>\n\n<pre><code>var cipherTextBytes = cipherTextBytesWithSaltAndIv.Skip((Keysize / 8) * 2).ToArray();\n</code></pre>\n\n<p>and decryption will work fine.</p>\n\n<p>UPD: Remove your hardcoded <code>encodedString</code> and try decrypting previously generated string. It seems that your hardcoded string was encrypted using different alogrithm.</p>\n"}], "owner": {"reputation": 1, "user_id": 9425801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c3ae34158da737bc009f009e9c656da?s=128&d=identicon&r=PG&f=1", "display_name": "Ascidious", "link": "https://stackoverflow.com/users/9425801/ascidious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 0, "accepted_answer_id": 49038840, "answer_count": 1, "score": 0, "last_activity_date": 1519853524, "creation_date": 1519851860, "question_id": 49038527, "link": "https://stackoverflow.com/questions/49038527/aes-encryption-invalid-padding", "title": "AES Encryption Invalid Padding", "body": "<p>I am trying to convert a previous working script that handled AES encryption using a 256byte key. I am trying to have the script use 128bye, but i am getting a padding invalid and cannot be removed error at line 110. Any help or tips would be helpful.</p>\n\n<p>I have tried playing around with the keySize, or the blocksize but have yet to get it to work. </p>\n\n<p>Here is the code. </p>\n\n<pre><code>using System;\nusing System.IO;\nusing System.Linq;\nusing System.Security.Cryptography;\nusing System.Text;\n\npublic partial class _Default : System.Web.UI.Page\n{\n    protected void Page_Load(object sender, EventArgs e)\n    {        \n\n     //   Response.Write(timeNow.ToString());\n\n        string str = @\"{\"\"dataset\"\":{\"\"schema\"\" :{\"\"manifest\"\":{\"\"datasetname\"\":\"\"/Apps/SM/Custom/Shoppers/ShopperMailbox_GetAssignedInstances\"\",\"\"datafieldsmode\"\":\"\"D\"\",\"\"dbsqltype\"\":\"\"P\"\",\"\"schemaformat\"\":\"\"JSON\"\",\"\"dataformat\"\":\"\"json\"\",\"\"encoding\"\":\"\"utf-8\"\",\"\"security\"\":{},\"\"cacheable\"\":{},\"\"hasoutputparameters\"\":false,\"\"meta\"\":{}},\"\"parameters\"\":[{\"\"name\"\":\"\"SecurityObjectUserID\"\",\"\"heading\"\":\"\"SecurityObjectUserID\"\",\"\"headingglobalizationenabled\"\":true,\"\"sqlparamname\"\":\"\"@SecurityObjectUserID\"\",\"\"datatype\"\":\"\"bigint\"\",\"\"datatypecharlength\"\":null,\"\"datatypenumericprecision\"\":19,\"\"datatypenumericprecisionradix\"\":10,\"\"datatypenumericscale\"\":0,\"\"datatypedatetimeprecision\"\":null,\"\"allownulls\"\":true,\"\"defaultvalue\"\":null,\"\"controlvisual\"\":{},\"\"validator\"\":{},\"\"ordinalposition\"\":1,\"\"direction\"\":null,\"\"lookup\"\":null},{\"\"name\"\":\"\"ShopperPhoneNumber\"\",\"\"heading\"\":\"\"ShopperPhoneNumber\"\",\"\"headingglobalizationenabled\"\":true,\"\"sqlparamname\"\":\"\"@ShopperPhoneNumber\"\",\"\"datatype\"\":\"\"varchar\"\",\"\"datatypecharlength\"\":63,\"\"datatypenumericprecision\"\":null,\"\"datatypenumericprecisionradix\"\":null,\"\"datatypenumericscale\"\":null,\"\"datatypedatetimeprecision\"\":null,\"\"allownulls\"\":true,\"\"defaultvalue\"\":null,\"\"controlvisual\"\":{},\"\"validator\"\":{},\"\"ordinalposition\"\":2,\"\"direction\"\":null,\"\"lookup\"\":null},{\"\"name\"\":\"\"ShopperEmailAddress\"\",\"\"heading\"\":\"\"ShopperEmailAddress\"\",\"\"headingglobalizationenabled\"\":true,\"\"sqlparamname\"\":\"\"@ShopperEmailAddress\"\",\"\"datatype\"\":\"\"nvarchar\"\",\"\"datatypecharlength\"\":222,\"\"datatypenumericprecision\"\":null,\"\"datatypenumericprecisionradix\"\":null,\"\"datatypenumericscale\"\":null,\"\"datatypedatetimeprecision\"\":null,\"\"allownulls\"\":true,\"\"defaultvalue\"\":null,\"\"controlvisual\"\":{},\"\"validator\"\":{},\"\"ordinalposition\"\":3,\"\"direction\"\":null,\"\"lookup\"\":null},{\"\"name\"\":\"\"MiscSettings\"\",\"\"heading\"\":\"\"MiscSettings\"\",\"\"headingglobalizationenabled\"\":true,\"\"sqlparamname\"\":\"\"@MiscSettings\"\",\"\"datatype\"\":\"\"nvarchar\"\",\"\"datatypecharlength\"\":-1,\"\"datatypenumericprecision\"\":null,\"\"datatypenumericprecisionradix\"\":null,\"\"datatypenumericscale\"\":null,\"\"datatypedatetimeprecision\"\":null,\"\"allownulls\"\":true,\"\"defaultvalue\"\":null,\"\"controlvisual\"\":{},\"\"validator\"\":{},\"\"ordinalposition\"\":4,\"\"direction\"\":null,\"\"lookup\"\":null}],\"\"columns\"\":[{\"\"name\"\":\"\"Shopper Email Address\"\",\"\"heading\"\":\"\"Shopper Email Address\"\",\"\"headingglobalizationenabled\"\":true,\"\"sqlparamname\"\":null,\"\"datatype\"\":\"\"nvarchar\"\",\"\"datatypecharlength\"\":222,\"\"datatypenumericprecision\"\":null,\"\"datatypenumericprecisionradix\"\":null,\"\"datatypenumericscale\"\":null,\"\"datatypedatetimeprecision\"\":null,\"\"allownulls\"\":true,\"\"defaultvalue\"\":null,\"\"controlvisual\"\":{},\"\"validator\"\":{},\"\"ordinalposition\"\":0,\"\"direction\"\":null,\"\"lookup\"\":null},{\"\"name\"\":\"\"Instance ID\"\",\"\"heading\"\":\"\"Instance ID\"\",\"\"headingglobalizationenabled\"\":true,\"\"sqlparamname\"\":null,\"\"datatype\"\":\"\"bigint\"\",\"\"datatypecharlength\"\":null,\"\"datatypenumericprecision\"\":null,\"\"datatypenumericprecisionradix\"\":null,\"\"datatypenumericscale\"\":null,\"\"datatypedatetimeprecision\"\":null,\"\"allownulls\"\":true,\"\"defaultvalue\"\":null,\"\"controlvisual\"\":{},\"\"validator\"\":{},\"\"ordinalposition\"\":1,\"\"direction\"\":null,\"\"lookup\"\":null},{\"\"name\"\":\"\"Location Street Address\"\",\"\"heading\"\":\"\"Location Street Address\"\",\"\"headingglobalizationenabled\"\":true,\"\"sqlparamname\"\":null,\"\"datatype\"\":\"\"nvarchar\"\",\"\"datatypecharlength\"\":150,\"\"datatypenumericprecision\"\":null,\"\"datatypenumericprecisionradix\"\":null,\"\"datatypenumericscale\"\":null,\"\"datatypedatetimeprecision\"\":null,\"\"allownulls\"\":true,\"\"defaultvalue\"\":null,\"\"controlvisual\"\":{},\"\"validator\"\":{},\"\"ordinalposition\"\":2,\"\"direction\"\":null,\"\"lookup\"\":null},{\"\"name\"\":\"\"Location City\"\",\"\"heading\"\":\"\"Location City\"\",\"\"headingglobalizationenabled\"\":true,\"\"sqlparamname\"\":null,\"\"datatype\"\":\"\"nvarchar\"\",\"\"datatypecharlength\"\":50,\"\"datatypenumericprecision\"\":null,\"\"datatypenumericprecisionradix\"\":null,\"\"datatypenumericscale\"\":null,\"\"datatypedatetimeprecision\"\":null,\"\"allownulls\"\":true,\"\"defaultvalue\"\":null,\"\"controlvisual\"\":{},\"\"validator\"\":{},\"\"ordinalposition\"\":3,\"\"direction\"\":null,\"\"lookup\"\":null},{\"\"name\"\":\"\"Location State\"\",\"\"heading\"\":\"\"Location State\"\",\"\"headingglobalizationenabled\"\":true,\"\"sqlparamname\"\":null,\"\"datatype\"\":\"\"nvarchar\"\",\"\"datatypecharlength\"\":8,\"\"datatypenumericprecision\"\":null,\"\"datatypenumericprecisionradix\"\":null,\"\"datatypenumericscale\"\":null,\"\"datatypedatetimeprecision\"\":null,\"\"allownulls\"\":true,\"\"defaultvalue\"\":null,\"\"controlvisual\"\":{},\"\"validator\"\":{},\"\"ordinalposition\"\":4,\"\"direction\"\":null,\"\"lookup\"\":null},{\"\"name\"\":\"\"Location Postal Code\"\",\"\"heading\"\":\"\"Location Postal Code\"\",\"\"headingglobalizationenabled\"\":true,\"\"sqlparamname\"\":null,\"\"datatype\"\":\"\"nvarchar\"\",\"\"datatypecharlength\"\":12,\"\"datatypenumericprecision\"\":null,\"\"datatypenumericprecisionradix\"\":null,\"\"datatypenumericscale\"\":null,\"\"datatypedatetimeprecision\"\":null,\"\"allownulls\"\":true,\"\"defaultvalue\"\":null,\"\"controlvisual\"\":{},\"\"validator\"\":{},\"\"ordinalposition\"\":5,\"\"direction\"\":null,\"\"lookup\"\":null},{\"\"name\"\":\"\"Client Name\"\",\"\"heading\"\":\"\"Client Name\"\",\"\"headingglobalizationenabled\"\":true,\"\"sqlparamname\"\":null,\"\"datatype\"\":\"\"nvarchar\"\",\"\"datatypecharlength\"\":200,\"\"datatypenumericprecision\"\":null,\"\"datatypenumericprecisionradix\"\":null,\"\"datatypenumericscale\"\":null,\"\"datatypedatetimeprecision\"\":null,\"\"allownulls\"\":true,\"\"defaultvalue\"\":null,\"\"controlvisual\"\":{},\"\"validator\"\":{},\"\"ordinalposition\"\":6,\"\"direction\"\":null,\"\"lookup\"\":null},{\"\"name\"\":\"\"Survey Title\"\",\"\"heading\"\":\"\"Survey Title\"\",\"\"headingglobalizationenabled\"\":true,\"\"sqlparamname\"\":null,\"\"datatype\"\":\"\"nvarchar\"\",\"\"datatypecharlength\"\":500,\"\"datatypenumericprecision\"\":null,\"\"datatypenumericprecisionradix\"\":null,\"\"datatypenumericscale\"\":null,\"\"datatypedatetimeprecision\"\":null,\"\"allownulls\"\":true,\"\"defaultvalue\"\":null,\"\"controlvisual\"\":{},\"\"validator\"\":{},\"\"ordinalposition\"\":7,\"\"direction\"\":null,\"\"lookup\"\":null},{\"\"name\"\":\"\"Planned Date\"\",\"\"heading\"\":\"\"Planned Date\"\",\"\"headingglobalizationenabled\"\":true,\"\"sqlparamname\"\":null,\"\"datatype\"\":\"\"date\"\",\"\"datatypecharlength\"\":null,\"\"datatypenumericprecision\"\":null,\"\"datatypenumericprecisionradix\"\":null,\"\"datatypenumericscale\"\":null,\"\"datatypedatetimeprecision\"\":null,\"\"allownulls\"\":true,\"\"defaultvalue\"\":null,\"\"controlvisual\"\":{},\"\"validator\"\":{},\"\"ordinalposition\"\":8,\"\"direction\"\":null,\"\"lookup\"\":null},{\"\"name\"\":\"\"Due Date\"\",\"\"heading\"\":\"\"Due Date\"\",\"\"headingglobalizationenabled\"\":true,\"\"sqlparamname\"\":null,\"\"datatype\"\":\"\"datetime\"\",\"\"datatypecharlength\"\":null,\"\"datatypenumericprecision\"\":null,\"\"datatypenumericprecisionradix\"\":null,\"\"datatypenumericscale\"\":null,\"\"datatypedatetimeprecision\"\":null,\"\"allownulls\"\":true,\"\"defaultvalue\"\":null,\"\"controlvisual\"\":{},\"\"validator\"\":{},\"\"ordinalposition\"\":9,\"\"direction\"\":null,\"\"lookup\"\":null},{\"\"name\"\":\"\"Campaign\"\",\"\"heading\"\":\"\"Campaign\"\",\"\"headingglobalizationenabled\"\":true,\"\"sqlparamname\"\":null,\"\"datatype\"\":\"\"nvarchar\"\",\"\"datatypecharlength\"\":50,\"\"datatypenumericprecision\"\":null,\"\"datatypenumericprecisionradix\"\":null,\"\"datatypenumericscale\"\":null,\"\"datatypedatetimeprecision\"\":null,\"\"allownulls\"\":true,\"\"defaultvalue\"\":null,\"\"controlvisual\"\":{},\"\"validator\"\":{},\"\"ordinalposition\"\":10,\"\"direction\"\":null,\"\"lookup\"\":null}]},\"\"data\"\":[{\"\"Shopper Email Address\"\":\"\"frecklegami8@gmail.com\"\",\"\"Instance ID\"\":416722,\"\"Location Street Address\"\":\"\"2700 Potomac Mills Circle\"\",\"\"Location City\"\":\"\"Woodbridge\"\",\"\"Location State\"\":\"\"VA\"\",\"\"Location Postal Code\"\":\"\"22192\"\",\"\"Client Name\"\":\"\"Christmas Tree Shops \"\",\"\"Survey Title\"\":\"\"CTS In Store Mystery Shop\"\",\"\"Planned Date\"\":null,\"\"Due Date\"\":\"\"2018-01-17 00:59:00\"\",\"\"Campaign\"\":\"\"2018-01\"\"},{\"\"Shopper Email Address\"\":\"\"frecklegami8@gmail.com\"\",\"\"Instance ID\"\":418529,\"\"Location Street Address\"\":\"\"4830 Crossings Court\"\",\"\"Location City\"\":\"\"Massaponax\"\",\"\"Location State\"\":\"\"VA\"\",\"\"Location Postal Code\"\":\"\"22407\"\",\"\"Client Name\"\":\"\"Steak 'N Shake - Virginia\"\",\"\"Survey Title\"\":\"\"Steak 'N Shake Dine In Evaluation v2\"\",\"\"Planned Date\"\":null,\"\"Due Date\"\":\"\"2018-01-20 23:59:00\"\",\"\"Campaign\"\":\"\"2018-01\"\"}]}}\";\n        string encryptedString = AESEncryption.Encrypt(str, \"ds!5da%-0sadg$!$2fDUC-51AHB)!\"); //, \"ASDdasdsa213DSA#4!#@!#@dsadsa\", \"SHA512\", 10000, IV);\n        Response.Write(encryptedString);\n        //Response.Write(\"&lt;br/&gt;\");\n        //Response.Write(\"&lt;br/&gt;\");\n        //Response.Write(\"&lt;br/&gt;\");\n        //Response.Write(\"&lt;br/&gt;\");\n        encryptedString = @\"dFmyMsfNxzWqVqfYG14ueWRrxA2EezLcatVo9127uRpFZEnYepm9yXv2SQpD+UtX5Fuag9mpJrQL1I0QX7KSGp87TrEH0y6PXlLsjbXSO8hIv0XybmaxAS0/xKmkCdxz\";\n         Response.Write(AESEncryption.Decrypt(encryptedString, \"ds!5da%-0sadg$!$2fDUC-51AHB)!\")); //, \"ASDdasdsa213DSA#4!#@!#@dsadsa\", \"SHA512\", 10000, IV));\n    }\n}\n\npublic static class AESEncryption\n{\n    #region Static Functions\n\n    // This constant is used to determine the keysize of the encryption algorithm in bits.\n    // We divide this by 8 within the code below to get the equivalent number of bytes.\n    private const int Keysize = 128;\n\n    // This constant determines the number of iterations for the password bytes generation function.\n    private const int DerivationIterations = 100000;\n\n    public static string Encrypt(string plainText, string passPhrase)\n    {\n        // Salt and IV is randomly generated each time, but is preprended to encrypted cipher text\n        // so that the same Salt and IV values can be used when decrypting.  \n        var saltStringBytes = Generate256BitsOfRandomEntropy();\n        var ivStringBytes = Generate256BitsOfRandomEntropy();\n        var plainTextBytes = Encoding.UTF8.GetBytes(plainText);\n        using (var password = new Rfc2898DeriveBytes(passPhrase, saltStringBytes, DerivationIterations))\n        {\n            var keyBytes = password.GetBytes(Keysize / 8);\n            using (var symmetricKey = new RijndaelManaged())\n            {\n                symmetricKey.BlockSize = 128;\n                symmetricKey.Mode = CipherMode.CBC;\n                symmetricKey.Padding = PaddingMode.PKCS7;\n                using (var encryptor = symmetricKey.CreateEncryptor(keyBytes, ivStringBytes))\n                {\n                    using (var memoryStream = new MemoryStream())\n                    {\n                        using (var cryptoStream = new CryptoStream(memoryStream, encryptor, CryptoStreamMode.Write))\n                        {\n                            cryptoStream.Write(plainTextBytes, 0, plainTextBytes.Length);\n                            cryptoStream.FlushFinalBlock();\n                            // Create the final bytes as a concatenation of the random salt bytes, the random iv bytes and the cipher bytes.\n                            var cipherTextBytes = saltStringBytes;\n                            cipherTextBytes = cipherTextBytes.Concat(ivStringBytes).ToArray();\n                            cipherTextBytes = cipherTextBytes.Concat(memoryStream.ToArray()).ToArray();\n                            memoryStream.Close();\n                            cryptoStream.Close();\n                            return Convert.ToBase64String(cipherTextBytes);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    public static string Decrypt(string cipherText, string passPhrase)\n    {\n        // Get the complete stream of bytes that represent:\n        // [32 bytes of Salt] + [32 bytes of IV] + [n bytes of CipherText]\n        if (String.IsNullOrEmpty(cipherText))\n        {\n            return \"Empty string\";\n        }\n\n        if (!IsBase64String(cipherText))\n        {\n            return \"Not a valid Base64 string\";\n        }\n        var cipherTextBytesWithSaltAndIv = Convert.FromBase64String(cipherText);\n        // Get the saltbytes by extracting the first 16 bytes from the supplied cipherText bytes.\n        var saltStringBytes = cipherTextBytesWithSaltAndIv.Take(Keysize / 8).ToArray();\n        // Get the IV bytes by extracting the next 16 bytes from the supplied cipherText bytes.\n        var ivStringBytes = cipherTextBytesWithSaltAndIv.Skip(Keysize / 8).Take(Keysize / 8).ToArray();\n        // Get the actual cipher text bytes by removing the first 64 bytes from the cipherText string.\n        var cipherTextBytes = cipherTextBytesWithSaltAndIv.Skip((Keysize / 8) * 2).Take(cipherTextBytesWithSaltAndIv.Length - ((Keysize / 8) * 5)).ToArray();\n\n        using (var password = new Rfc2898DeriveBytes(passPhrase, saltStringBytes, DerivationIterations))\n        {\n            var keyBytes = password.GetBytes(Keysize / 8);\n            using (var symmetricKey = new RijndaelManaged())\n            {\n                symmetricKey.BlockSize = 128;\n                symmetricKey.Mode = CipherMode.CBC;\n                symmetricKey.Padding = PaddingMode.PKCS7;\n                using (var decryptor = symmetricKey.CreateDecryptor(keyBytes, ivStringBytes))\n                {\n                    using (var memoryStream = new MemoryStream(cipherTextBytes))\n                    {\n                        using (var cryptoStream = new CryptoStream(memoryStream, decryptor, CryptoStreamMode.Read))\n                        {\n                            var plainTextBytes = new byte[cipherTextBytes.Length];\n                            var decryptedByteCount = cryptoStream.Read(plainTextBytes, 0, plainTextBytes.Length);\n                            memoryStream.Close();\n                            cryptoStream.Close();\n                            return Encoding.UTF8.GetString(plainTextBytes, 0, decryptedByteCount);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    private static byte[] Generate256BitsOfRandomEntropy()\n    {\n        var randomBytes = new byte[16]; // 16 Bytes will give us 128 bits.\n        using (var rngCsp = new RNGCryptoServiceProvider())\n        {\n            // Fill the array with cryptographically secure random bytes.\n            rngCsp.GetBytes(randomBytes);\n        }\n        return randomBytes;\n    }\n\n\n\n    private static bool IsBase64String(string value)\n    {\n        if (string.IsNullOrEmpty(value))\n        {\n            return false;\n        }\n\n        // if(value == null || value.Length == 0 || value.Length % 4 != 0 || value.Contains(\" \") || value.Contains(\"\\t\") || value.Contains(\"\\r\") || value.Contains(\"\\n\"))\n        // {\n        // return false;\n        // }\n\n        try\n        {\n            Convert.FromBase64String(value);\n            return true;\n            //if (value.EndsWith(\"=\"))\n            //{\n            //    value = value.Trim();\n            //    int mod4 = value.Length % 4;\n            //    if (mod4 != 0)\n            //    {\n            //        return false;\n            //    }\n            //    return true;\n            //}\n            //else\n            //{\n\n            //    return false;\n            //}\n        }\n        catch (FormatException)\n        {\n            return false;\n        }\n    }\n\n    public static string Left(this string value, int maxLength)\n    {\n        if (string.IsNullOrEmpty(value)) return value;\n        maxLength = Math.Abs(maxLength);\n\n        return (value.Length &lt;= maxLength\n               ? value\n               : value.Substring(0, maxLength)\n               );\n    }\n\n    #endregion\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api", "asp.net-web-api2"], "answers": [{"comments": [{"owner": {"reputation": 5640, "user_id": 79152, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/49315b89a7e2aee9609a758434c26f9d?s=128&d=identicon&r=PG", "display_name": "maxbeaudoin", "link": "https://stackoverflow.com/users/79152/maxbeaudoin"}, "edited": false, "score": 0, "creation_date": 1519852674, "post_id": 49038687, "comment_id": 85082692, "body": "I can&#39;t use <code>ToList()</code> inside the select expression."}, {"owner": {"reputation": 3419, "user_id": 3715778, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ecfe74090d7f2a9ba912f65ae33f83be?s=128&d=identicon&r=PG&f=1", "display_name": "koryakinp", "link": "https://stackoverflow.com/users/3715778/koryakinp"}, "reply_to_user": {"reputation": 5640, "user_id": 79152, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/49315b89a7e2aee9609a758434c26f9d?s=128&d=identicon&r=PG", "display_name": "maxbeaudoin", "link": "https://stackoverflow.com/users/79152/maxbeaudoin"}, "edited": false, "score": 0, "creation_date": 1519852914, "post_id": 49038687, "comment_id": 85082819, "body": "@maxbeaudoin Sorry, sure you can."}, {"owner": {"reputation": 5640, "user_id": 79152, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/49315b89a7e2aee9609a758434c26f9d?s=128&d=identicon&r=PG", "display_name": "maxbeaudoin", "link": "https://stackoverflow.com/users/79152/maxbeaudoin"}, "edited": false, "score": 0, "creation_date": 1519853644, "post_id": 49038687, "comment_id": 85083196, "body": "My bad. Turns out you can in EF6!"}, {"owner": {"reputation": 743, "user_id": 4253777, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cf9c2a51253ca40c263ad9132d54e7e8?s=128&d=identicon&r=PG&f=1", "display_name": "SK2017", "link": "https://stackoverflow.com/users/4253777/sk2017"}, "edited": false, "score": 0, "creation_date": 1519853679, "post_id": 49038687, "comment_id": 85083225, "body": "Thanks makes much more sense! Nearly had it!"}], "tags": [], "owner": {"reputation": 3419, "user_id": 3715778, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ecfe74090d7f2a9ba912f65ae33f83be?s=128&d=identicon&r=PG&f=1", "display_name": "koryakinp", "link": "https://stackoverflow.com/users/3715778/koryakinp"}, "is_accepted": true, "score": 2, "last_activity_date": 1519861581, "last_edit_date": 1519861581, "creation_date": 1519852528, "answer_id": 49038687, "question_id": 49038521, "link": "https://stackoverflow.com/questions/49038521/relational-data-dto-in-mvc-web-api-2/49038687#49038687", "title": "Relational Data DTO in MVC Web API 2", "body": "<p>If you want to display student names which belong to a school, why studentNames property of <code>SchoolDTO</code> class is of type <code>string</code> ? It should be <code>List&lt;string&gt;</code>:</p>\n\n<pre><code>public class SchoolDTO\n{\n    public string schoolCode { get; set; }\n    public string schoolName { get; set; }\n    public List&lt;string&gt; studentNames { get; set; }\n}\n</code></pre>\n\n<p>And your Database Model should be something like that:</p>\n\n<pre><code>public class School\n{\n    [Key] //I assume it is a PK\n    public string schoolCode { get; set; }\n    public string schoolName { get; set; }\n\n    public virtual ICollection&lt;Student&gt; Students { get; set; }\n}\n\npublic class Student\n{\n    [Key]\n    public Guid studentId { get; set; }\n    public string studentName { get; set; }\n\n    public string schoolCode { get; set; }\n    [ForeignKey(\"schoolCode\")]\n    public virtual School School { get; set; }\n}\n</code></pre>\n\n<p>So you can query the database like this:</p>\n\n<pre><code>var schoolWithStudents = context.Schools.Select(q =&gt; new SchoolDTO\n{\n    schoolCode = q.schoolCode,\n    schoolName= q.schoolName,\n    studentNames = q.Students.Select(w =&gt; w.studentName).ToList()\n})\n.ToList();\n</code></pre>\n"}], "owner": {"reputation": 743, "user_id": 4253777, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cf9c2a51253ca40c263ad9132d54e7e8?s=128&d=identicon&r=PG&f=1", "display_name": "SK2017", "link": "https://stackoverflow.com/users/4253777/sk2017"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 49038687, "answer_count": 1, "score": 1, "last_activity_date": 1519862376, "creation_date": 1519851837, "last_edit_date": 1519862376, "question_id": 49038521, "link": "https://stackoverflow.com/questions/49038521/relational-data-dto-in-mvc-web-api-2", "title": "Relational Data DTO in MVC Web API 2", "body": "<p>I am new to MVC, and learning as i go, but I am struggling to get to grips with DTO's with Web api.</p>\n\n<p>I have 2 tables, one Schools, one students.</p>\n\n<p>The School table has a one to many relationship with the Student table.</p>\n\n<p>I can't seem to get the api response the way I want it.</p>\n\n<p>This is the School DTO</p>\n\n<pre><code>public class SchoolDTO\n    {\n        public string schoolCode { get; set; }\n\n        public string schoolName{ get; set; }\n\n        public string studentNames { get; set; } // the related data\n}\n</code></pre>\n\n<p>And this is what I am trying to do to populate it - </p>\n\n<pre><code>var schoolWithStudents = from b in context.Schools\n                        select new SchoolDTO()\n                        {\n                            schoolCode = b.schoolCode,\n                            schoolName= b.schoolName,\n                            studentNames = b.Student.studentName\n                        };\n</code></pre>\n\n<p>The response i am trying to get is something like this - </p>\n\n<pre><code>School\n{schoolCode, schoolName}\n    StudentNames\n    [{\u2026},{..}]\n}\n</code></pre>\n"}, {"tags": ["javascript", "c#", "json", "asp.net-mvc", "fullcalendar"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 6738718, "user_type": "registered", "profile_image": "https://graph.facebook.com/1067225426679003/picture?type=large", "display_name": "Jean-CS", "link": "https://stackoverflow.com/users/6738718/jean-cs"}, "edited": false, "score": 1, "creation_date": 1519907311, "post_id": 49046023, "comment_id": 85103576, "body": "The format of the JSON, like you said, was not compatible. But it was not only that. The format of the date is not compatible either. Tested it here and it should actually be &quot;2018-02-25T17:00:00&quot; with the &quot;T&quot; in the middle. Now it works! Thanks!"}], "tags": [], "owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "is_accepted": true, "score": 1, "last_activity_date": 1519894718, "creation_date": 1519894718, "answer_id": 49046023, "question_id": 49038437, "link": "https://stackoverflow.com/questions/49038437/full-calendar-not-rending-events-in-the-client/49046023#49046023", "title": "Full calendar not rending events in the client", "body": "<p>Quite simply the format of the JSON you're returning is not compatible with what fullCalendar expects. You need to return just the array of events, without the object wrapped around it. Your event data needs to look like this only:</p>\n\n<pre><code>[\n     {\n         \"title\": \"VIP\",\n         \"start\": \"2018-03-03 10:00:00\",\n         \"end\": \"2018-03-03 11:00:00\",\n         \"allDay\": false\n     },\n     {\n         \"title\": \"ALMANAQUE DA CACAU\",\n         \"start\": \"2018-02-25 17:00:00\",\n         \"end\": \"2018-02-25 18:00:00\",\n         \"allDay\": false\n     }\n]\n</code></pre>\n\n<p>fullCalendar expects the JSON to be an array. If you return an object as per your example, it does not know to look inside it to find the array, and will just assume there are no events.</p>\n\n<p>If you modify your C# code slightly to produce this output instead, it should work nicely.</p>\n"}], "owner": {"reputation": 37, "user_id": 6738718, "user_type": "registered", "profile_image": "https://graph.facebook.com/1067225426679003/picture?type=large", "display_name": "Jean-CS", "link": "https://stackoverflow.com/users/6738718/jean-cs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 49046023, "answer_count": 1, "score": 1, "last_activity_date": 1519894718, "creation_date": 1519851544, "last_edit_date": 1519858205, "question_id": 49038437, "link": "https://stackoverflow.com/questions/49038437/full-calendar-not-rending-events-in-the-client", "title": "Full calendar not rending events in the client", "body": "<p>I'm trying to make a calendar showing all the weekdays and events, without considering what day of the month it is. The dates coming from the database are \"random\", and in the C# code I get the current week and associate each \"random\" date with the corresponding day of the current week (so the user doesnt )(public DateTime AssimilarDataAoDiaSemana(string dia, List dts)). </p>\n\n<p>And I have this C# code <a href=\"https://pastebin.com/ipe4t8Pa\" rel=\"nofollow noreferrer\">https://pastebin.com/ipe4t8Pa</a> ,which returns a JSON, for example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n    \"events\":[\r\n     {\r\n         \"title\": \"VIP\",\r\n         \"start\": \"2018-03-03 10:00:00\",\r\n         \"end\": \"2018-03-03 11:00:00\",\r\n         \"allDay\": false\r\n     },\r\n     {\r\n         \"title\": \"ALMANAQUE DA CACAU\",\r\n         \"start\": \"2018-02-25 17:00:00\",\r\n         \"end\": \"2018-02-25 18:00:00\",\r\n         \"allDay\": false\r\n     }\r\n    ]\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is my javascript</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function Grade() {\r\nif (VerificarURL(\"programacao\")) {\r\n    var cal = $(\"#calendario\").fullCalendar({\r\n        events: {\r\n            url: \"/programacao/calendario\",\r\n            dataType: \"json\",\r\n            type: \"GET\",\r\n            success: function (data) {\r\n                console.log(data);\r\n            },\r\n            color: \"white\",\r\n            textColor: 'white'\r\n        },\r\n        columnHeaderFormat: \"dddd\",\r\n        handleWindowResize: true,\r\n        header: false,\r\n        height: \"auto\",\r\n        defaultView: \"agendaWeek\",\r\n        editable: false,\r\n        minTime: \"06:00\",\r\n        maxTime: \"24:00\",\r\n        displayEventTime: false,\r\n        allDaySlot: false,\r\n        allDayText: false,\r\n        timeFormat: \"HH(:mm)\",\r\n        slotLabelFormat: \"HH:mm\",\r\n    });\r\n}\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The problems is: the events are not rendered in the client. Any ideas?</p>\n"}, {"tags": ["c#", "msbuild", "rider"], "comments": [{"owner": {"reputation": 11645, "user_id": 766911, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/28bfb2b67070309ba998d4a355d66593?s=128&d=identicon&r=PG", "display_name": "gdbj", "link": "https://stackoverflow.com/users/766911/gdbj"}, "edited": false, "score": 0, "creation_date": 1519852599, "post_id": 49038415, "comment_id": 85082648, "body": "That might be formatting for the log output.  I just searched my project script for that variable, and I didn&#39;t find it."}, {"owner": {"reputation": 2585, "user_id": 904679, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8cee2965cf5c0e46303a34db6efc9aaa?s=128&d=identicon&r=PG", "display_name": "xtmq", "link": "https://stackoverflow.com/users/904679/xtmq"}, "edited": false, "score": 0, "creation_date": 1519852937, "post_id": 49038415, "comment_id": 85082836, "body": "Is it .net core project?"}, {"owner": {"reputation": 1776, "user_id": 1312222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90a538923add4d5bd37bf8645b467a54?s=128&d=identicon&r=PG", "display_name": "Bahador Izadpanah", "link": "https://stackoverflow.com/users/1312222/bahador-izadpanah"}, "edited": false, "score": 1, "creation_date": 1519853170, "post_id": 49038415, "comment_id": 85082958, "body": "What happens if you run it under Resharper build engine? :D"}, {"owner": {"reputation": 11645, "user_id": 766911, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/28bfb2b67070309ba998d4a355d66593?s=128&d=identicon&r=PG", "display_name": "gdbj", "link": "https://stackoverflow.com/users/766911/gdbj"}, "edited": false, "score": 1, "creation_date": 1519853418, "post_id": 49038415, "comment_id": 85083086, "body": "It worked using the Resharper Build engine!  Life saver!"}, {"owner": {"reputation": 2585, "user_id": 904679, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8cee2965cf5c0e46303a34db6efc9aaa?s=128&d=identicon&r=PG", "display_name": "xtmq", "link": "https://stackoverflow.com/users/904679/xtmq"}, "edited": false, "score": 0, "creation_date": 1519853829, "post_id": 49038415, "comment_id": 85083299, "body": "So it did not work via disabled &#39;ReSharper Build&#39;?"}, {"owner": {"reputation": 3887, "user_id": 28381, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b496d0df98e2c697000d5e69490bb804?s=128&d=identicon&r=PG", "display_name": "James Webster", "link": "https://stackoverflow.com/users/28381/james-webster"}, "edited": false, "score": 0, "creation_date": 1542764681, "post_id": 49038415, "comment_id": 93683363, "body": "I believe there is still an issue here so have raised a bug for the Rider team: <a href=\"https://youtrack.jetbrains.com/issue/RIDER-21855\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/RIDER-21855</a>"}, {"owner": {"reputation": 11645, "user_id": 766911, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/28bfb2b67070309ba998d4a355d66593?s=128&d=identicon&r=PG", "display_name": "gdbj", "link": "https://stackoverflow.com/users/766911/gdbj"}, "edited": false, "score": 0, "creation_date": 1542768008, "post_id": 49038415, "comment_id": 93684075, "body": "ya, actually I have a bug reported with them as well about this, I think."}], "answers": [{"tags": [], "owner": {"reputation": 1776, "user_id": 1312222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90a538923add4d5bd37bf8645b467a54?s=128&d=identicon&r=PG", "display_name": "Bahador Izadpanah", "link": "https://stackoverflow.com/users/1312222/bahador-izadpanah"}, "is_accepted": true, "score": 1, "last_activity_date": 1519853899, "creation_date": 1519853899, "answer_id": 49039025, "question_id": 49038415, "link": "https://stackoverflow.com/questions/49038415/rider-isnt-setting-my-msbuild-variable-buildinginsidevisualstudio/49039025#49039025", "title": "Rider isn&#39;t setting my msbuild variable BuildingInsideVisualStudio", "body": "<p>So the workaround seems to be using Resharper's Build Engine instead of MSBuild for those properties to be respected.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ooUpj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ooUpj.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 11645, "user_id": 766911, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/28bfb2b67070309ba998d4a355d66593?s=128&d=identicon&r=PG", "display_name": "gdbj", "link": "https://stackoverflow.com/users/766911/gdbj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 699, "favorite_count": 0, "accepted_answer_id": 49039025, "answer_count": 1, "score": 2, "last_activity_date": 1519853899, "creation_date": 1519851466, "question_id": 49038415, "link": "https://stackoverflow.com/questions/49038415/rider-isnt-setting-my-msbuild-variable-buildinginsidevisualstudio", "title": "Rider isn&#39;t setting my msbuild variable BuildingInsideVisualStudio", "body": "<p>My msbuild script is not executing according to plan.  For some reason, one of my variables isn't resolving to anything, but it's a standard variable.</p>\n\n<p>In the log:</p>\n\n<pre><code>Task \"ResolveNonMSBuildProjectOutput\" skipped, due to false condition;\n('$(BuildingInsideVisualStudio)'=='true' and '@(ProjectReferenceWithConfiguration)'!='') \nwas evaluated as (''=='true' and ''!='').\n</code></pre>\n\n<p>Notice that the <code>$(BuildingInsideVisualStudio)</code> seems to resolve to an empty string.</p>\n\n<p>In Rider (version 2017.3), I right-click the project -> properties -> under the Diagnostic section there is an option for properties.  In this view, are all the project variables, including BuildingInsideVisualStudio, which is set to True.</p>\n\n<p>What do I need to look at to ensure Rider is setting this variable when I build from inside the IDE?</p>\n\n<p>Edit: PS: I have also tried <code>BuildingByReSharper</code>, which also didn't work.  And, my co-workers using Rider are not having this issue.</p>\n"}, {"tags": ["c#", "asp.net", "entity-framework", "listview", "ef-code-first"], "comments": [{"owner": {"reputation": 957, "user_id": 3277813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b3b4a2ac530ee2f68419e3f58bec01?s=128&d=identicon&r=PG&f=1", "display_name": "trix", "link": "https://stackoverflow.com/users/3277813/trix"}, "edited": false, "score": 0, "creation_date": 1519852947, "post_id": 49038402, "comment_id": 85082843, "body": "Are you wanting to see<code>HoursType</code> for each item in the <code>simPayRate.simHoursType</code> collection? It looks like <code>Item</code> is an instance of <code>simPayRate</code>?"}, {"owner": {"reputation": 11, "user_id": 4992192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0172ef2476bd5bc856ca4ca76fdc7938?s=128&d=identicon&r=PG&f=1", "display_name": "matty", "link": "https://stackoverflow.com/users/4992192/matty"}, "reply_to_user": {"reputation": 957, "user_id": 3277813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b3b4a2ac530ee2f68419e3f58bec01?s=128&d=identicon&r=PG&f=1", "display_name": "trix", "link": "https://stackoverflow.com/users/3277813/trix"}, "edited": false, "score": 0, "creation_date": 1520194539, "post_id": 49038402, "comment_id": 85205116, "body": "Hi @trix0412, in the ItemTemplate I was hoping to type for the third item, Item.simHoursType.HoursType to show the item that was selected in the InsertItemTemplate using the DropDownList. Unfortunately when I type Item.simHoursType I don&#39;t get the option to select any of the fields in simHoursType."}], "answers": [{"tags": [], "owner": {"reputation": 957, "user_id": 3277813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b3b4a2ac530ee2f68419e3f58bec01?s=128&d=identicon&r=PG&f=1", "display_name": "trix", "link": "https://stackoverflow.com/users/3277813/trix"}, "is_accepted": false, "score": 0, "last_activity_date": 1520351490, "creation_date": 1520351490, "answer_id": 49134937, "question_id": 49038402, "link": "https://stackoverflow.com/questions/49038402/asp-net-4-5-code-first-classes-and-displaying-items-in-a-listview/49134937#49134937", "title": "asp.net 4.5 Code First Classes And Displaying Items In A Listview", "body": "<p>It looks like the reason you aren't able to do this is because <code>Item.simHoursType</code> is actually an <code>ICollection</code> of <code>simHoursType</code>. In order to access <code>HoursType</code> you would have to access a single item in that collection. For example: <code>Item.simHoursType[0].HoursType</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4992192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0172ef2476bd5bc856ca4ca76fdc7938?s=128&d=identicon&r=PG&f=1", "display_name": "matty", "link": "https://stackoverflow.com/users/4992192/matty"}, "is_accepted": true, "score": 0, "last_activity_date": 1520714913, "creation_date": 1520714913, "answer_id": 49213889, "question_id": 49038402, "link": "https://stackoverflow.com/questions/49038402/asp-net-4-5-code-first-classes-and-displaying-items-in-a-listview/49213889#49213889", "title": "asp.net 4.5 Code First Classes And Displaying Items In A Listview", "body": "<p>The Code First Conventions are incorrect, they should be as follows:</p>\n\n<pre><code>public class simStaff\n{\n    [Key]\n    public int simStaffId { get; set; }\n    [Required(ErrorMessage =\"You must enter a first name\")]\n    public string FirstName { get; set; }\n    [Required(ErrorMessage =\"You must enter a last name\")]\n    public string LastName { get; set; }\n\n    public ICollection&lt;simHoursRecorded&gt; simHoursRecorded { get; set; }\n    public ICollection&lt;simPayRate&gt; simPayRate { get; set; }\n}\n\npublic class simHoursRecorded\n{\n    [Key]\n    public int simHoursRecordId { get; set; }\n    [DisplayFormat(DataFormatString = \"{0:d}\", ApplyFormatInEditMode = true)]\n    public DateTime DayWorked { get; set; }\n    public int HoursBooked { get; set; }\n    public bool AuthorisedToPay { get; set; }\n\n    public int simStaffId { get; set; }\n    public simStaff simStaff;\n}\n\npublic class simPayRate\n{\n    [Key]\n    public int simPayRateId { get; set; }\n    public double RatePerHour { get; set; }\n    public DateTime DateAppliesFrom { get; set; }\n\n    public int? simHoursTypeId { get; set; }       \n    public simHoursType simHoursType { get; set; }\n    public int simStaffId { get; set; }\n    public simStaff simStaff;\n}\n\npublic class simHoursType\n{\n    [Key]\n    public int simHoursTypeId { get; set; }\n    public string HoursType { get; set; }\n\n    public ICollection&lt;simHoursType&gt; simPayRate { get; set; }\n}\n</code></pre>\n\n<p>Then it is necessary to use include in Repository.cs as follows:</p>\n\n<pre><code>    public IEnumerable&lt;simPayRate&gt; GetPayRate\n    {\n        get\n        {\n            return context.simPayRates.Include(\"simHoursType\");\n        }\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4992192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0172ef2476bd5bc856ca4ca76fdc7938?s=128&d=identicon&r=PG&f=1", "display_name": "matty", "link": "https://stackoverflow.com/users/4992192/matty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 49213889, "answer_count": 2, "score": 0, "last_activity_date": 1520714913, "creation_date": 1519851408, "question_id": 49038402, "link": "https://stackoverflow.com/questions/49038402/asp-net-4-5-code-first-classes-and-displaying-items-in-a-listview", "title": "asp.net 4.5 Code First Classes And Displaying Items In A Listview", "body": "<p>I have created the following Classes and then used the Entity First approach to successfully create a database:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\n\nusing System.ComponentModel.DataAnnotations;\n\nnamespace HR_Test_v0_1.Models\n{\n    public class simStaff\n    {\n        [Key]\n        public int simStaffId { get; set; }\n        [Required(ErrorMessage =\"You must enter a first name\")]\n        public string FirstName { get; set; } \n        [Required(ErrorMessage =\"You must enter a last name\")]\n        public string LastName { get; set; }\n\n        public simStaff simHoursRecorded { get; set; }\n        public simPayRate simPayRate { get; set; }\n    }\n\n    public class simHoursRecorded\n    {\n        [Key]\n        public int simHoursRecordId { get; set; }\n        [DisplayFormat(DataFormatString = \"{0:d}\", ApplyFormatInEditMode = true)]\n        public DateTime DayWorked { get; set; }\n        public int HoursBooked { get; set; }\n        public bool AuthorisedToPay { get; set; }\n\n        public int simStaffId { get; set; }\n        public ICollection&lt;simStaff&gt; simStaff { get; set; }\n\n    }\n\n    public class simPayRate\n    {\n        [Key]\n        public int simPayRateId { get; set; }\n        public double RatePerHour { get; set; }\n        public DateTime DateAppliesFrom { get; set; }\n\n        public int simHoursTypeId { get; set; }       \n        public ICollection&lt;simHoursType&gt; simHoursType { get; set; }\n\n        public int simStaffId { get; set; }\n        public ICollection&lt;simStaff&gt; simStaff { get; set; }\n    }\n\n    public class simHoursType\n    {\n        [Key]\n        public int simHoursTypeId { get; set; }\n        public string HoursType { get; set; }\n        public simPayRate simPayRate { get; set; }\n    }\n\n}\n</code></pre>\n\n<p>My context class is as follows:</p>\n\n<pre><code>public class EFContext : DbContext\n{\n    public EFContext() : base(\"name=HRTestContext\")\n    {\n\n    }\n\n    public DbSet&lt;simStaff&gt; simStaffs { get; set; }\n    public DbSet&lt;simHoursRecorded&gt; simHoursRecordeds { get; set; }\n    public DbSet&lt;simPayRate&gt; simPayRates { get; set; }\n    public DbSet&lt;simHoursType&gt; simHoursType { get; set; }\n\n}\n</code></pre>\n\n<p>And the relevant extract from my Repository.cs file is as follows:</p>\n\n<pre><code>    public IEnumerable&lt;simPayRate&gt; GetPayRate\n    {\n        get\n        {\n            return context.simPayRates;\n        }\n\n    }\n</code></pre>\n\n<p>In the ListView I have the the code below. The InsertItemTemplate works, however, in the ItemTemplate when I enter Item.simHoursType, I was hoping to see an option for HoursType from the simHoursType entity:</p>\n\n<pre><code>&lt;ItemTemplate&gt;\n&lt;tr&gt;\n &lt;td&gt;&lt;%# Item.RatePerHour %&gt;&lt;/td&gt;\n &lt;td&gt;&lt;%# Item.DateAppliesFrom.ToShortDateString() %&gt;&lt;/td&gt;\n &lt;td&gt;&lt;%# Item.simHoursType %&gt;&lt;/td&gt;\n\n &lt;td&gt;\n &lt;asp:Button CommandName=\"Edit\" Text=\"Edit\" runat=\"server\" /&gt;\n &lt;/td&gt;\n &lt;/tr&gt;\n &lt;/ItemTemplate&gt;\n   &lt;InsertItemTemplate&gt;\n    &lt;tr&gt;\n    &lt;td&gt;&lt;input id=\"RatePerHour\" runat=\"server\" \n           value=\"&lt;%# BindItem.RatePerHour %&gt;\" /&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input id=\"DateAppliesFrom\" runat=\"server\" \n           value=\"&lt;%# BindItem.DateAppliesFrom %&gt;\" /&gt;&lt;/td&gt;\n    &lt;td&gt;\n        &lt;asp:DropDownList ID=\"ddHoursType\" \n                        runat=\"server\"\n                        AppendDataBoundItems=\"true\"\n                        SelectMethod=\"GetHoursType\" \n                        DataTextField=\"HoursType\"\n                        DataValueField=\"simHoursTypeId\"\n                        SelectedValue=\"&lt;%# BindItem.simHoursTypeId %&gt;\"\n                        AutoPostBack=\"false\" /&gt;\n     &lt;/td&gt;\n     &lt;td&gt;\n       &lt;asp:Button CommandName=\"Insert\" runat=\"server\" text=\"Add\" /&gt;\n       &lt;asp:Button CommandName=\"Cancel\" runat=\"server\" Text=\"Cancel\" /&gt;\n     &lt;/td&gt;\n     &lt;/tr&gt;\n     &lt;/InsertItemTemplate&gt;\n</code></pre>\n\n<p>Can I change the way the classes are created so I can enterItem.simHoursType.HoursType, or if not what should I do to display the HoursType?</p>\n"}, {"tags": ["c#", "wpf", "kinect", "kinect-sdk"], "comments": [{"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 3, "creation_date": 1519851411, "post_id": 49038368, "comment_id": 85081994, "body": "s represents an item in skeletons."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1519851488, "post_id": 49038368, "comment_id": 85082026, "body": "Have you ever read anything about LINQ?  If you did some tutorials, or <a href=\"https://msdn.microsoft.com/en-us/library/bb548541(v=vs.110).aspx\" rel=\"nofollow noreferrer\">read the documentation</a> you wouldnt have to ask"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7517259"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1519851511, "post_id": 49038368, "comment_id": 85082033, "body": "@maccettura no (<i>.</i>)"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1519851514, "post_id": 49038368, "comment_id": 85082038, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/bb548541(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/bb548541(v=vs.110).aspx</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7517259"}, "edited": false, "score": 0, "creation_date": 1519851574, "post_id": 49038368, "comment_id": 85082071, "body": "i edit the question can you help me in second question?"}, {"owner": {"reputation": 957, "user_id": 3277813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b3b4a2ac530ee2f68419e3f58bec01?s=128&d=identicon&r=PG&f=1", "display_name": "trix", "link": "https://stackoverflow.com/users/3277813/trix"}, "edited": false, "score": 1, "creation_date": 1519851706, "post_id": 49038368, "comment_id": 85082144, "body": "<code>skeletons.All</code> determines if all elements in <code>skeletons[]</code> satisfy a specific condition. In this case, the code is checking to see if all elements&#39; <code>TrackingState</code> equal <code>SkeletonTrackingState.NotTracked</code>. If all of them do, it will return <code>true</code>, else it will return <code>false</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7517259"}, "reply_to_user": {"reputation": 957, "user_id": 3277813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b3b4a2ac530ee2f68419e3f58bec01?s=128&d=identicon&r=PG&f=1", "display_name": "trix", "link": "https://stackoverflow.com/users/3277813/trix"}, "edited": false, "score": 0, "creation_date": 1519851829, "post_id": 49038368, "comment_id": 85082207, "body": "@trix0412 thanks you , i want to know is the return type is Boolean"}], "answers": [{"tags": [], "owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "is_accepted": true, "score": 1, "last_activity_date": 1519851896, "creation_date": 1519851896, "answer_id": 49038534, "question_id": 49038368, "link": "https://stackoverflow.com/questions/49038368/lambda-function-used-in-kinect/49038534#49038534", "title": "lambda function used in kinect", "body": "<p>The <code>All</code> method accepts a <code>Func&lt;Skeleton, bool&gt;</code> and a <code>Func&lt;Skeleton, bool&gt;</code> is a delegate that encapsulates a method that accepts a <code>Skeleton</code> parameter and returns a <code>bool</code>.</p>\n\n<p>You could define such a method yourself:</p>\n\n<pre><code>private bool YourMethod(Skeleton s)\n{\n    return s.TrackingState == SkeletonTrackingState.NotTracked\n}\n</code></pre>\n\n<p>...and pass this one to the <code>All</code> method:</p>\n\n<pre><code>if (skeletons.All(YourMethod))\n</code></pre>\n\n<p><code>YourMethod</code> will be called for each <code>Skeleton</code> in <code>skeletons</code> and the <code>All</code> method will return <code>true</code> if <code>YourMethod</code> returns <code>true</code> for all those <code>Skeleton</code> objects.</p>\n\n<p><code>s =&gt; s.TrackingState == SkeletonTrackingState.NotTracked</code> is an anonymous version of <code>YourMethod</code>: <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/anonymous-methods\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/anonymous-methods</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7517259"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 49038534, "answer_count": 1, "score": 1, "last_activity_date": 1519851896, "creation_date": 1519851280, "last_edit_date": 1519851456, "question_id": 49038368, "link": "https://stackoverflow.com/questions/49038368/lambda-function-used-in-kinect", "title": "lambda function used in kinect", "body": "<p>i was reading this <a href=\"https://rads.stackoverflow.com/amzn/click/com/0735666814\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">book</a> about kinect ,</p>\n\n<p>and i have face a problem in this code :</p>\n\n<pre><code>void kinectSensor_SkeletonFrameReady(object sender, SkeletonFrameReadyEventArgs e)\n{\n    SkeletonFrame frame = e.OpenSkeletonFrame();\n    if (frame == null)\n        return;\n    Skeleton[] skeletons ;\n    skeletons = frame.GetSkeletons();\n    if (skeletons.All(s =&gt; s.TrackingState == SkeletonTrackingState.NotTracked))\n        return;\n}\n</code></pre>\n\n<p>in this section :</p>\n\n<pre><code>if (skeletons.All(s =&gt; s.TrackingState == SkeletonTrackingState.NotTracked))\n</code></pre>\n\n<p>i want to know who provide the value of the parameter <strong>s</strong> in  the lambda exp above  ?</p>\n\n<p>and also what <code>skeletons.All</code> mean and what it's return ?</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1519851350, "post_id": 49038363, "comment_id": 85081955, "body": "You have told us what the output looks like, but what is the input?"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 2, "creation_date": 1519851355, "post_id": 49038363, "comment_id": 85081958, "body": "What makes you think it is just a single line? Did you try opening it in multiple text editors (e.g. Notepad and Notepad++)? Please update your post with the value of <code>richTextBox1.Text and </code>richTextBox1.Rtf`."}, {"owner": {"reputation": 419, "user_id": 5586581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Dgc3QSa6WmY/AAAAAAAAAAI/AAAAAAAAAE4/cllAZnz0fBY/photo.jpg?sz=128", "display_name": "Martin Chinome", "link": "https://stackoverflow.com/users/5586581/martin-chinome"}, "edited": false, "score": 0, "creation_date": 1519851458, "post_id": 49038363, "comment_id": 85082010, "body": "if you first build a &quot;stringbuilder&quot; and then you write in your file all content of your stringbuilder, it can working!!"}, {"owner": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1519851791, "post_id": 49038363, "comment_id": 85082191, "body": "Curious why you didn&#39;t just do <code>File.WriteAllText(filename, richTextBox1.Text);</code>"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 3, "creation_date": 1519852892, "post_id": 49038363, "comment_id": 85082810, "body": "RichTextbox is oddball, its Text property uses \\n line-ending instead of \\r\\n.  Consider the dedicated RichTextbox.SaveFile() method."}, {"owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1520424930, "post_id": 49038363, "comment_id": 85307598, "body": "@HansPassant Actually, it seems more things in the .Net framework do. I recently discovered that message boxes also assume the text to show uses <code>\\n</code> as line breaks; using Ctrl+C to copy the contents of a shown MessageBox will result in text which has all occurrences of <code>\\n</code> replaced by <code>Environment.NewLine</code>. If you use <code>\\r\\n</code> line breaks in it, on windows, you end up with <code>\\r\\r\\n</code> everywhere."}], "answers": [{"tags": [], "owner": {"reputation": 1452, "user_id": 5507337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64bae72e16afd844c1e590173b78f5e3?s=128&d=identicon&r=PG&f=1", "display_name": "owairc", "link": "https://stackoverflow.com/users/5507337/owairc"}, "is_accepted": false, "score": 4, "last_activity_date": 1519852615, "creation_date": 1519852615, "answer_id": 49038701, "question_id": 49038363, "link": "https://stackoverflow.com/questions/49038363/save-as-saves-all-text-in-1-line/49038701#49038701", "title": "&quot;Save As&quot; saves all text in 1 line", "body": "<p>Rich textbox uses only line feed, if you need them both you can add during save:</p>\n\n<pre><code>File.WriteAllText(filename, richTextBox1.Text.Replace(\"\\n\",\"\\r\\n\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "is_accepted": true, "score": 2, "last_activity_date": 1519856200, "creation_date": 1519856200, "answer_id": 49039532, "question_id": 49038363, "link": "https://stackoverflow.com/questions/49038363/save-as-saves-all-text-in-1-line/49039532#49039532", "title": "&quot;Save As&quot; saves all text in 1 line", "body": "<p>A <em>really</em> simple workaround:</p>\n\n<pre><code>File.WriteAllLines(filename, richTextBox1.Lines);\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 6457282, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-tDsN4aWO6q4/AAAAAAAAAAI/AAAAAAAAABM/UkBFqGx0fbo/photo.jpg?sz=128", "display_name": "MoDz Trolls", "link": "https://stackoverflow.com/users/6457282/modz-trolls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "closed_date": 1519899975, "accepted_answer_id": 49039532, "answer_count": 2, "score": -1, "last_activity_date": 1519856200, "creation_date": 1519851267, "last_edit_date": 1592644375, "question_id": 49038363, "link": "https://stackoverflow.com/questions/49038363/save-as-saves-all-text-in-1-line", "closed_reason": "Duplicate", "title": "&quot;Save As&quot; saves all text in 1 line", "body": "<p>im creating a program similar to Notepad++ but I have run in to a problem, when I save a file it puts all text in one line, like this:</p>\n<blockquote>\n<p>Test Line 1Test Line 2Test Line 3</p>\n</blockquote>\n<p>Instead of:</p>\n<blockquote>\n<p>Test Line 1</p>\n<p>Test Line 2</p>\n<p>Test Line 3</p>\n</blockquote>\n<p>Here is the code I use to save:</p>\n<pre><code>if (saveFileDialog1.ShowDialog() == DialogResult.OK)\n{\n    String filename = saveFileDialog1.FileName;\n    if (filename != &quot;&quot;)\n    {\n        File.WriteAllText(filename, &quot;&quot;);\n        StreamWriter strw = new StreamWriter(filename);\n        strw.Write(richTextBox1.Text);\n        strw.Close();\n        strw.Dispose();\n    }\n}\n</code></pre>\n<p>There probably is a super easy solution to this, but I'm quite new to C# and can't figure it out. Any help is appreciated!</p>\n"}, {"tags": ["c#", "excel"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 2, "creation_date": 1519851262, "post_id": 49038351, "comment_id": 85081909, "body": "It would be awesome if you could share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 840, "user_id": 5292347, "user_type": "registered", "accept_rate": 24, "profile_image": "https://lh3.googleusercontent.com/-ahmB1uSwJo8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcFI54d1HiMALNuMeDWm_Lt8Ap5Aw/photo.jpg?sz=128", "display_name": "Carlos Siestrup", "link": "https://stackoverflow.com/users/5292347/carlos-siestrup"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1519914022, "post_id": 49038351, "comment_id": 85107769, "body": "There is no example because I dont have any idea on how to choose the selected items in the filters but i can post the class I&#39;m using to create the the pivot table though I dont think this would help much."}], "owner": {"reputation": 840, "user_id": 5292347, "user_type": "registered", "accept_rate": 24, "profile_image": "https://lh3.googleusercontent.com/-ahmB1uSwJo8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcFI54d1HiMALNuMeDWm_Lt8Ap5Aw/photo.jpg?sz=128", "display_name": "Carlos Siestrup", "link": "https://stackoverflow.com/users/5292347/carlos-siestrup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 579, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1520017987, "creation_date": 1519851207, "last_edit_date": 1520017987, "question_id": 49038351, "link": "https://stackoverflow.com/questions/49038351/select-1-item-from-the-filter-in-a-pivot-table", "title": "Select 1 item from the filter in a pivot table", "body": "<p>I'm generating an excel in a server that doesn't have the excel application installed, so I used EPPlus to generate the Excel and in the excel there are many pivot tables. By default, all items in a filter of the pivot table are selected but I need specific filters to have only one item selected.Is there a way to do that using EPPlus?</p>\n\n<p>If there isn't, is there another library that could do that? I need a something that could search all pivot tables, search the filters for a filter with a specific name and make only 1 item selected in the filters with that specific name for every pivot table. \nIf it's not possible in C#, is there another way to make a program that does it without having Excel installed?If there is, I could just run that program when the excel is done.</p>\n\n<p>For example, I have a filter with 13 months :</p>\n\n<pre><code>Jan/2017\nFeb/2017\nMar/2017\nApr/2017\nMay/2017\nJun/2017\nJul/2017\nAug/2017\nSep/2017\nOct/2017\nNov/2017\nDec/2017\nJan/2018\n</code></pre>\n\n<p>In the filter, by default all of them are selected, I want the newest one to be selected(in this example Jan/2018).</p>\n\n<p>This is the class that I created to build pivot tables :</p>\n\n<pre><code>public class PivotTableFactory\n{   \n    private ExcelPivotTable _pivotTable;\n\n    public void CreatePivotTable (Worksheet baseSheet, Worksheet targetSheet, string startRange, string tableName)\n    {\n        // Selecting All Range of the base Sheet\n        String       baseAddress  = \"A1:\" + baseSheet.EPPlusSheet.Dimension.End.Address;\n        ExcelRange   baseRange    = baseSheet.EPPlusSheet.Cells[baseAddress];\n        ExcelAddress startAddress = targetSheet.EPPlusSheet.Cells[startRange];\n\n        // Creating Pivot Table\n        _pivotTable = targetSheet.EPPlusSheet.PivotTables.Add (startAddress, baseRange, tableName);\n        _pivotTable.UseAutoFormatting = false;\n    }\n\n    public void AddFilterField(string columnName, string fieldName, eSortType sortType = eSortType.None)\n    {\n        ExcelPivotTableField dataField = _pivotTable.PageFields.Add (_pivotTable.Fields[columnName]);\n        dataField.Name                 = fieldName;\n        dataField.Sort                 = sortType;\n        if (columnName.Equals(\"MES_REFERENCIA\")) selectFilterValue(\"M\u00caS\", 10);\n    }\n\n    public void AddRowField(string columnName, string fieldName, eSortType sortType = eSortType.None)\n    {\n        ExcelPivotTableField rowField = _pivotTable.RowFields.Add (_pivotTable.Fields[columnName]);\n        rowField.Name                 = fieldName;\n        rowField.Sort                 = sortType;\n    }\n\n    public void AddColumnField (string columnName, string fieldName, eSortType sortType = eSortType.None)\n    {\n        ExcelPivotTableField rowField = _pivotTable.ColumnFields.Add (_pivotTable.Fields[columnName]);\n        rowField.Name                 = fieldName;\n        rowField.Sort                 = sortType;\n    }\n\n    public void AddValueField (string columnName, string fieldName, DataFieldFunctions func = DataFieldFunctions.Sum, string format = \"\")\n    {\n        ExcelPivotTableDataField dataField = _pivotTable.DataFields.Add (_pivotTable.Fields[columnName]);\n        dataField.Name                     = fieldName;            \n        dataField.Function                 = func;\n        dataField.Format                   = format;            \n    }\n\n    public void SetStyle (TableStyles style)\n    {\n        _pivotTable.TableStyle = style;\n    }\n\n    public void SetDataOnRows (bool dataOnRow)\n    {\n        _pivotTable.DataOnRows = dataOnRow;\n    }\n\n    public void SetDataCaption(string name)\n    {\n        _pivotTable.DataCaption = name;\n    }\n\n    public void setAutoFormating(bool value)\n    {\n        _pivotTable.UseAutoFormatting = value;\n    }\n    public void printPivotXml()\n    {\n        _pivotTable.PivotTableXml.Save(\"pivotsXmls\\\\pivotFinal.xml\");\n    }\n    private int getFieldIndex(string name)\n    {\n        for (int i = 0;i &lt; _pivotTable.Fields.Count; i++)\n        {\n            if (_pivotTable.Fields[i].Name.Equals(name)) return i;\n        }\n        return -1;\n    }\n    public void selectFilterValue(string name, int valueIndex)\n    {\n        int fieldIndex = getFieldIndex(name);\n        if (fieldIndex &lt; 0) return;\n        XmlDocument xDoc = _pivotTable.PivotTableXml;\n\n        XmlAttribute attr = xDoc.CreateAttribute(\"item\");\n        attr.Value = valueIndex.ToString();\n\n        XmlNode currentDoc = null;\n        foreach (XmlNode node in xDoc.ChildNodes)\n        {\n            if (node.Name.Equals(\"pivotTableDefinition\"))\n            {\n                currentDoc = node;\n                break;\n            }\n        }\n\n        foreach (XmlNode node in currentDoc.ChildNodes)\n        {\n            if (node.Name.Equals(\"pageFields\"))\n            {\n                currentDoc = node;\n            }\n\n            if (node.Name.Equals(\"pivotFields\"))\n            {\n                foreach (XmlNode field in node.ChildNodes)\n                {\n                    if (field.Attributes[\"name\"] == null) continue;\n\n                    if (field.Attributes[\"name\"].Value.Equals(name))\n                    {\n                        XmlNode itemsNode = field.ChildNodes[0];\n\n                        itemsNode.InnerXml = \"\";\n                        List&lt;string&gt; items = new List&lt;string&gt;();\n                        // Add item tags\n                        for(int i = 0; i &lt; 13; i++){\n                            XmlNode createdNode = xDoc.CreateNode(XmlNodeType.Element, \"item\" , currentDoc.NamespaceURI);\n                            XmlAttribute tempAttr = xDoc.CreateAttribute(\"x\");\n                            tempAttr.Value        = i.ToString();\n                            createdNode.Attributes.Append(tempAttr);\n                            itemsNode.AppendChild(createdNode);\n                        }\n                        XmlNode createdNodeDefault   = xDoc.CreateNode(XmlNodeType.Element, \"item\", currentDoc.NamespaceURI);\n                        XmlAttribute tempAttrDefault = xDoc.CreateAttribute(\"t\");\n                        tempAttrDefault.Value = \"default\";\n                        createdNodeDefault.Attributes.Append(tempAttrDefault);\n                        itemsNode.AppendChild(createdNodeDefault);\n                        itemsNode.Attributes[\"count\"].Value = \"14\";\n                    }\n                }\n            }\n        }\n\n        foreach (XmlNode node in currentDoc.ChildNodes)\n        {\n            if (node.Attributes[\"fld\"].Value.Equals(fieldIndex.ToString()))\n            {\n                node.Attributes.InsertAfter(attr, node.Attributes[\"fld\"]);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I created the function \"selectFilterValue\" that tries to select the value of the filter using XML but it didn't work.Please ignore the extremely rough way of selecting the XML nodes...</p>\n"}, {"tags": ["c#", "graph", "kendo-ui", "telerik", "reporting"], "answers": [{"tags": [], "owner": {"reputation": 108, "user_id": 1659955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/465b8eab5617734b2ac8d3ab8d0f1dbf?s=128&d=identicon&r=PG", "display_name": "user1659955", "link": "https://stackoverflow.com/users/1659955/user1659955"}, "is_accepted": false, "score": 0, "last_activity_date": 1520969905, "creation_date": 1520969905, "answer_id": 49264563, "question_id": 49038346, "link": "https://stackoverflow.com/questions/49038346/how-do-i-style-the-plot-bands-for-a-graph-in-a-telerik-report-using-visual-studi/49264563#49264563", "title": "How do I style the Plot Bands for a graph in a telerik report using Visual Studio?", "body": "<p>Actually there is a very recent KB article that explains how to do that - as you've guessed, it requires an additional series and coordinate system. You can check it here: <a href=\"https://docs.telerik.com/reporting/knowledge-base/how-to-create-plot-bands-using-the-graph-item\" rel=\"nofollow noreferrer\">https://docs.telerik.com/reporting/knowledge-base/how-to-create-plot-bands-using-the-graph-item</a>.</p>\n\n<p>About the colour opacity: Try setting the colours using the ARGB values directly, like 128;64;64;64 - this should be a transparent grey-ish colour.</p>\n"}], "owner": {"reputation": 13, "user_id": 925491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15dabd843f0f90ed501d8ef74a3d6840?s=128&d=identicon&r=PG", "display_name": "DFaucher", "link": "https://stackoverflow.com/users/925491/dfaucher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520969905, "creation_date": 1519851202, "question_id": 49038346, "link": "https://stackoverflow.com/questions/49038346/how-do-i-style-the-plot-bands-for-a-graph-in-a-telerik-report-using-visual-studi", "title": "How do I style the Plot Bands for a graph in a telerik report using Visual Studio?", "body": "<p>I have recently been brought on to a project that uses Kendo UI controls and Telerik Reporting reports to display various charts and graphs. </p>\n\n<p>There is an existing Kendo UI Chart widget that displays a student's 'score' across the months of current and past school years. The score ranges from 0 to 100. The Y-Axis represents the 'score' and the X-Axis represents the School Year/Month.</p>\n\n<p>In addition, the 0 to 100 scale of the Y-Axis is broken down into rankings: 65-70 = poor, 71 - 80 = fair, etc.  This ranking is displayed via different colored Plot Bands on the Y-Axis in the Kendo UI Chart.  The Plot Bands are configured using custom C# code to establish the To, From, Color and Opacity properties of each Plot band for the value series.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>var thresholds= _[*entity framework call to generate database driven values*];\nList&lt;PlotBand&gt; plotBands = new List&lt;PlotBand&gt;();\nforeach (var threshold in thresholds)\n{\n    plotBands.Add(new PlotBand() \n    { \n        From = threshold.Min, \n        To = threshold.Max, \n        Color = threshold.RiskColor.ColorCode, \n        Opacity = .3 \n    });\n}\n</code></pre>\n\n<p>This works as expected and generates a Kendo UI Chart that appears like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DBITr.png\" rel=\"nofollow noreferrer\">kendo ui chart</a></p>\n\n<p>I have been asked to duplicate the chart in a Telerik Reporting report. I'm using Visual Studio 2013 Pro and designing the report from inside VS (i.e. not using the stand alone designer) with the Telerik Reporting Q1 2015 SP1 version. </p>\n\n<p>Yes, i know these are not the latest, but it's what I was given....</p>\n\n<p>The Telerik Reporting Graph control and the Kendo UI Chart widgets are similar but not identical. I can re-create 90% of the chart using the graph control. The only portion missing is the color-coded ranking that displays as the background to the chart. There does not seem to be any analogous properties for the Chart's Plot Bands within the Graph control.</p>\n\n<p>I've tried creating a secondary coordinate system and using multiple Cross Axis positions as described by Telerik <a href=\"https://www.telerik.com/forums/graph---are-plot-bands-possible\" rel=\"nofollow noreferrer\">here</a>. That allows me to create the psuedo-plot bands but not style them. I cannot find any property in the Graph control, or any of its components, that allows me to set the color or opacity for each plot band.</p>\n\n<p>Any ideas? Is this even possible?</p>\n"}, {"tags": ["c#", "azure", "asp.net-core", "azure-service-fabric"], "comments": [{"owner": {"reputation": 7181, "user_id": 105566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad7478c336db3198fabc37768ae8afcb?s=128&d=identicon&r=PG", "display_name": "Josh E", "link": "https://stackoverflow.com/users/105566/josh-e"}, "edited": false, "score": 0, "creation_date": 1519851381, "post_id": 49038290, "comment_id": 85081978, "body": "Are you possibly conflating the 404 that <i>your</i> application issues with the 404 issued by whatever service assumed residency in your migrated node? I would assume you have no control over a node your application is no longer running in"}, {"owner": {"reputation": 53, "user_id": 5711440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c57c6217c0b85d46495030b1803f7bd?s=128&d=identicon&r=PG&f=1", "display_name": "Taras", "link": "https://stackoverflow.com/users/5711440/taras"}, "reply_to_user": {"reputation": 7181, "user_id": 105566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad7478c336db3198fabc37768ae8afcb?s=128&d=identicon&r=PG", "display_name": "Josh E", "link": "https://stackoverflow.com/users/105566/josh-e"}, "edited": false, "score": 0, "creation_date": 1519852268, "post_id": 49038290, "comment_id": 85082454, "body": "@JoshE: I have no control over how service fabric manages service lifecycle, failovers, port assignments etc. Services can be randomly moved around nodes and there is probability that eventually different SF service will start listening the address previously used by other service"}, {"owner": {"reputation": 7181, "user_id": 105566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad7478c336db3198fabc37768ae8afcb?s=128&d=identicon&r=PG", "display_name": "Josh E", "link": "https://stackoverflow.com/users/105566/josh-e"}, "edited": false, "score": 0, "creation_date": 1519852833, "post_id": 49038290, "comment_id": 85082775, "body": "right, and it&#39;s the SF&#39;s responsibility to ensure correct routing of requests through the fabric. It&#39;s a client&#39;s responsibility to invalidate its own cache, for instance, when it receives a 404 from a cached endpoint. You can&#39;t control node migration but (if you&#39;re the client) you can control what you do in response to it"}, {"owner": {"reputation": 53, "user_id": 5711440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c57c6217c0b85d46495030b1803f7bd?s=128&d=identicon&r=PG&f=1", "display_name": "Taras", "link": "https://stackoverflow.com/users/5711440/taras"}, "reply_to_user": {"reputation": 7181, "user_id": 105566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad7478c336db3198fabc37768ae8afcb?s=128&d=identicon&r=PG", "display_name": "Josh E", "link": "https://stackoverflow.com/users/105566/josh-e"}, "edited": false, "score": 0, "creation_date": 1519853639, "post_id": 49038290, "comment_id": 85083189, "body": "@JoshE: exactly, client provides retry mechanism based on error responses, reverse proxy behavior is to retry 404 and resolve new endpoint  only when response doesn&#39;t contain &quot;X-Service-Fabric: ResourceNotFound&quot; header, but in scenario I described it looks like it&#39;s possible that client will receive this header from another fabric service and will think that it stays connected to the correct provider, for me it looks like the only safe option is to retry every 404 response which is what I&#39;m trying to avoid"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 5711440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c57c6217c0b85d46495030b1803f7bd?s=128&d=identicon&r=PG&f=1", "display_name": "Taras", "link": "https://stackoverflow.com/users/5711440/taras"}, "edited": false, "score": 0, "creation_date": 1519882707, "post_id": 49039458, "comment_id": 85091520, "body": "Thanks for answer, straightforward solution I was thinking about is to create filter that will add custom header after request was processed by controller, this will indicate that 404 is not related to invalid address and request hit correct endpoint and was processed by correct service, but main concerns in my question are why ASP.NET Core does this on middleware level instead of providing action filter and does it mean that SF reverse proxy behavior will be incorrect in such scenarios"}, {"owner": {"reputation": 7181, "user_id": 105566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad7478c336db3198fabc37768ae8afcb?s=128&d=identicon&r=PG", "display_name": "Josh E", "link": "https://stackoverflow.com/users/105566/josh-e"}, "reply_to_user": {"reputation": 53, "user_id": 5711440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c57c6217c0b85d46495030b1803f7bd?s=128&d=identicon&r=PG&f=1", "display_name": "Taras", "link": "https://stackoverflow.com/users/5711440/taras"}, "edited": false, "score": 0, "creation_date": 1519925826, "post_id": 49039458, "comment_id": 85115649, "body": "I would reason that the reason is because allowing awareness of an underlying infrastructure concern in layers higher up in the stack could bring, allow, or encourage undesired coupling and mixing of concerns. You might consider setting your header in middleware as well to shield your application logic from it and concerns like retry"}], "tags": [], "owner": {"reputation": 7181, "user_id": 105566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad7478c336db3198fabc37768ae8afcb?s=128&d=identicon&r=PG", "display_name": "Josh E", "link": "https://stackoverflow.com/users/105566/josh-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1519855877, "creation_date": 1519855877, "answer_id": 49039458, "question_id": 49038290, "link": "https://stackoverflow.com/questions/49038290/servce-fabric-reverse-proxy-integration-in-asp-net-core-404-response/49039458#49039458", "title": "Servce Fabric Reverse Proxy Integration in ASP.NET Core 404 Response", "body": "<p>In your given scenario, when your Client encounters a 404, the <code>X-Service-Fabric:ResourceNotFound</code> header isn't the only attribute your code could examine when deciding whether or not to retry some operation. </p>\n\n<p>To simplistically address your concern that your client won't be able to tell the difference between a \"friendly\" node and a \"newly arrived\" node, and since you're already working with http headers, you could add a custom HTTP header to outgoing responses to identify that a request comes from your application.\nWhen the client receives a 404, you can simply check for the presence of your custom header to answer the question of whether or not it's a \"legit\" retry. Of course, adding a custom HTTP header just for the sake of this validation check may be more of a global solution to a local problem. <em>Ed: goes without saying that this should not be used to make security decisions by the application</em></p>\n\n<p>A more elegant and complex means of accomplishing the same would be to deduce the same result using a different combination of HTTP headers and response attributes (e.g., see if some other headers are expected/unexpected), but this could also be a hyper-local solution to the problem.</p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 5711440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c57c6217c0b85d46495030b1803f7bd?s=128&d=identicon&r=PG&f=1", "display_name": "Taras", "link": "https://stackoverflow.com/users/5711440/taras"}, "is_accepted": true, "score": 2, "last_activity_date": 1532202712, "last_edit_date": 1532202712, "creation_date": 1532202253, "answer_id": 51459538, "question_id": 49038290, "link": "https://stackoverflow.com/questions/49038290/servce-fabric-reverse-proxy-integration-in-asp-net-core-404-response/51459538#51459538", "title": "Servce Fabric Reverse Proxy Integration in ASP.NET Core 404 Response", "body": "<p>In the described case the communication client will be invalidated by staying connected to the wrong service. It is <a href=\"https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-reliable-services-communication-aspnetcore#a-case-of-mistaken-identity\" rel=\"nofollow noreferrer\">recommended by Microsoft</a> to use unique URL prefixes for services with dynamically-assigned port to handle those scenarios.</p>\n\n<p>In ASP.NET Core programmers can leverage <a href=\"https://github.com/Microsoft/service-fabric-aspnetcore/blob/develop/src/Microsoft.ServiceFabric.AspNetCore/ServiceFabricMiddleware.cs\" rel=\"nofollow noreferrer\"><code>ServiceFabricMiddleware</code></a> which checks URL prefixes and returns 410 Gone if they don't match. Then HTTP implementation of <code>ICommunicationClient</code> can retry with re-resolving endpoint only for 410 responses and don't perform any retries on 404 response with <code>X-Service-Fabric: ResourceNotFound</code> header if reverse proxy integration is enabled.</p>\n"}], "owner": {"reputation": 53, "user_id": 5711440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c57c6217c0b85d46495030b1803f7bd?s=128&d=identicon&r=PG&f=1", "display_name": "Taras", "link": "https://stackoverflow.com/users/5711440/taras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 852, "favorite_count": 1, "accepted_answer_id": 51459538, "answer_count": 2, "score": 2, "last_activity_date": 1532202712, "creation_date": 1519850956, "last_edit_date": 1519904999, "question_id": 49038290, "link": "https://stackoverflow.com/questions/49038290/servce-fabric-reverse-proxy-integration-in-asp-net-core-404-response", "title": "Servce Fabric Reverse Proxy Integration in ASP.NET Core 404 Response", "body": "<p>I'm working on an implementation of <code>ICommunicationClient</code> and accompanying stuff for HTTP protocol communication which should be compatible with SF reverse proxy. The most subtle part for me is retry policy. According to Azure docs for 404 errors reverse proxy relies on X-Service-Fabric header to be returned from web service when deciding if it should retry.</p>\n\n<p>ASP.NET Core provides <a href=\"https://github.com/Azure/service-fabric-aspnetcore/blob/develop/src/Microsoft.ServiceFabric.AspNetCore/ServiceFabricReverseProxyIntegrationMiddleware.cs\" rel=\"nofollow noreferrer\">middleware</a> for integration with a reverse proxy which adds X-Service-Fabric header to every 404 response. </p>\n\n<p>Assume we have the scenario when <code>ServicePartitionClient</code> cached the endpoint for a stateless service listening on port 3001. At some point, this service may be moved to another node. On the first node, the Service Fabric runtime allocates a different service with its own endpoints but using the same middleware and listening on the same 3001 port. </p>\n\n<p>When a client tries to call the original service at its old (cached) address it will receive 404 response containing the <code>X-Service-Fabric</code> header. According to reverse proxy policies it shouldn't retry, but for me, it seems like the client will stay connected to the wrong service forever and won't attempt to re-resolve the endpoint.</p>\n\n<p>I can't find any information about this case in the documentation, did I miss something here? Is it safe to rely on this standard middleware and don't do retry attempts on 404 errors with X-Service-Fabric: ResourceNotFound header?</p>\n"}, {"tags": ["c#", "asp.net", ".net", "forms", "webforms"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1519850963, "post_id": 49038260, "comment_id": 85081751, "body": "The file location does not matter, <code>Inherits</code> is looking for a <i>namespace</i>.  Generally you want your namespaces to match the folder structure they are in, but you have to modify the namespaces on your files for that to happen"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1519850963, "post_id": 49038260, "comment_id": 85081752, "body": "<code>Or can I just have</code> What happened when you tried it?"}, {"owner": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "edited": false, "score": 0, "creation_date": 1521185221, "post_id": 49038260, "comment_id": 85631798, "body": "Any luck? did you see my answer?"}], "answers": [{"tags": [], "owner": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "is_accepted": false, "score": 0, "last_activity_date": 1519867990, "creation_date": 1519867990, "answer_id": 49041305, "question_id": 49038260, "link": "https://stackoverflow.com/questions/49038260/what-do-i-change-in-top-of-the-file-after-i-moved-the-project/49041305#49041305", "title": "What do I change in top of the file after I moved the project?", "body": "<ul>\n<li>Web Form: UploadForm.aspx</li>\n<li>Code Behind: UploadForm.aspx.cs</li>\n</ul>\n\n<p>Web Form:</p>\n\n<pre><code>&lt;%@ Page language=\"c#\" Codebehind=\"UploadForm.aspx.cs\" \n    AutoEventWireup=\"true\" Inherits=\"Episerver.Form.UploadForm\" \"%&gt;\n</code></pre>\n\n<p>Code Behind, should match <code>Inherits</code>:</p>\n\n<pre><code>public partial class Episerver.Form.UploadForm : System.Web.UI.Page\n</code></pre>\n\n<p>But, dots/periods are problematic. Hyphens are better -- and they are converted to underscores. So <code>Inherits</code> should probably looks like </p>\n\n<pre><code>Inherits=\"Episerver_Form_UploadForm\"\n</code></pre>\n\n<p>Code Behind, should match:</p>\n\n<pre><code>public partial class Episerver_Form_UploadForm : System.Web.UI.Page\n</code></pre>\n\n<p>or in your new case, using the Upload folder (root/Upload/UploadForm.aspx): </p>\n\n<pre><code>Inherits=\"Upload_UploadForm\"\n</code></pre>\n\n<p>Code Behind, should match:</p>\n\n<pre><code>public partial class Upload_UploadForm : System.Web.UI.Page\n</code></pre>\n"}], "owner": {"reputation": 1418, "user_id": 962672, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/50d56dedcb74c7d5d2f0a15d99cc74b4?s=128&d=identicon&r=PG", "display_name": "Xtreme", "link": "https://stackoverflow.com/users/962672/xtreme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519867990, "creation_date": 1519850850, "question_id": 49038260, "link": "https://stackoverflow.com/questions/49038260/what-do-i-change-in-top-of-the-file-after-i-moved-the-project", "title": "What do I change in top of the file after I moved the project?", "body": "<p>I'am taking over a and doing same small modifications to a small projekt and moving it to another folder, all files are in the same filer (before \"Form\" and now \"Upload\")</p>\n\n<pre><code>Form\n/PublicWebSite/Web/Form\nTo\n/PublicWebSite/Web/Upload\n</code></pre>\n\n<p>If I look in the top of the files it looks like this</p>\n\n<pre><code>&lt;%@ Page language=\"c#\" Codebehind=\"UploadForm.aspx.cs\" \nAutoEventWireup=\"true\" Inherits=\"Episerver.Form.UploadForm\" \"%&gt;\n</code></pre>\n\n<p>Do I need to change Inherits to</p>\n\n<pre><code>Episerver.Upload.UploadForm\n</code></pre>\n\n<p>Or can I just have </p>\n\n<pre><code>Inherits=\"UploadForm\"\n</code></pre>\n\n<p>Because all files are in the same filer?</p>\n\n<p>Do I need to change anything in the top of the files and what do I need to change?</p>\n"}, {"tags": ["javascript", "c#", "asp.net-core-mvc"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1519850922, "post_id": 49038237, "comment_id": 85081731, "body": "Please include the code for your action also. The one processing the form submission."}, {"owner": {"reputation": 419, "user_id": 5586581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Dgc3QSa6WmY/AAAAAAAAAAI/AAAAAAAAAE4/cllAZnz0fBY/photo.jpg?sz=128", "display_name": "Martin Chinome", "link": "https://stackoverflow.com/users/5586581/martin-chinome"}, "edited": false, "score": 0, "creation_date": 1519851044, "post_id": 49038237, "comment_id": 85081795, "body": "you can save this fields in your model, emailBox, phoneBox, dropdown, etc and when return to view, you should pass this model, and  select list you pass this property stored"}], "owner": {"reputation": 385, "user_id": 6216549, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4e61bc51d58187ebb4670a7768b2231a?s=128&d=identicon&r=PG&f=1", "display_name": "jollyroger23", "link": "https://stackoverflow.com/users/6216549/jollyroger23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1519851631, "creation_date": 1519850742, "question_id": 49038237, "link": "https://stackoverflow.com/questions/49038237/save-dynamic-view-asp-net", "title": "Save Dynamic View ASP.NET", "body": "<p>I'm pretty new to ASP.NET Core and am trying to make make a page that has a dynamic text box based on what a dropdown selection is. The dropdown selection changes the input type of what a user is sumbitting. Code:</p>\n\n<pre><code>&lt;form&gt;\n&lt;script type=\"text/javascript\"&gt;\n    function ShowHideDiv() {\n        var searchSelection = document.getElementById(\"searchSelection\");\n        var rewardsBox = document.getElementById(\"userId\");\n        var emailBox = document.getElementById(\"email\");\n        var phoneBox = document.getElementById(\"phone\");\n\n        rewardsBox.style.display = searchSelection.value == \"userId\" ? \"block\" : \"none\";\n        emailBox.style.display = searchSelection.value == \"email\" ? \"block\" : \"none\";\n        phoneBox.style.display = searchSelection.value == \"phone\" ? \"block\" : \"none\";\n    }\n&lt;/script&gt;\n\n&lt;select class=\"form-control\" id=\"searchSelection\" onchange=\"ShowHideDiv()\"&gt;\n    &lt;option value=\"userId\"&gt;ID&lt;/option&gt;\n    &lt;option value=\"email\"&gt;Email&lt;/option&gt;\n    &lt;option value=\"phone\"&gt;Phone&lt;/option&gt;\n&lt;/select&gt;\n\n&lt;div class=\"form-group\"&gt;\n    &lt;label for=\"value\"&gt;Value:&lt;/label&gt;\n        &lt;div id=\"userId\" style=\"display:block\"&gt;\n            &lt;input asp-for=\"UserId\" type=\"text\" class=\"form-control clearable\" id=\"idText\" Placeholder=\"0123456789\"&gt;\n        &lt;/div&gt;\n        &lt;div id=\"email\" style=\"display:none\"&gt;\n            &lt;input asp-for=\"Email\" type=\"text\" class=\"form-control clearable\" id=\"emailText\" Placeholder=\"janedoe@hallmark.com\"&gt;\n        &lt;/div&gt;\n        &lt;div id=\"phone\" style=\"display:none\"&gt;\n            &lt;input asp-for=\"Phone\" type=\"text\" class=\"form-control clearable\" id=\"phoneText\" Placeholder=\"8751239876\"&gt;\n        &lt;/div&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>When the form is submitted, the code returns a view with the retrieved user(s) and the form stays on the page. The form stays filled out, which is what I want, but the dropdown re-sets itself to ID as the selected value and showing the text box for ID (which is expected since it's a new View). Is there a way to save the view so what was selected and then changed with the javascript will appear in the new view?</p>\n"}, {"tags": ["c#", ".net", "multithreading", "nservicebus"], "comments": [{"owner": {"reputation": 729, "user_id": 2995812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/710e6802185bae8e4cf6d0d54b3d3d5b?s=128&d=identicon&r=PG&f=1", "display_name": "Sabacc", "link": "https://stackoverflow.com/users/2995812/sabacc"}, "edited": false, "score": 0, "creation_date": 1519999352, "post_id": 49038136, "comment_id": 85146494, "body": "This question has also been answered by the developers on the official NServiceBus GitHub repository here: <a href=\"https://github.com/Particular/NServiceBus/issues/5121\" rel=\"nofollow noreferrer\">github.com/Particular/NServiceBus/issues/5121</a>"}, {"owner": {"reputation": 128, "user_id": 1634290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5f12a16980a45d7e444d1176a2e196?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/1634290/nick"}, "reply_to_user": {"reputation": 729, "user_id": 2995812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/710e6802185bae8e4cf6d0d54b3d3d5b?s=128&d=identicon&r=PG&f=1", "display_name": "Sabacc", "link": "https://stackoverflow.com/users/2995812/sabacc"}, "edited": false, "score": 0, "creation_date": 1520275994, "post_id": 49038136, "comment_id": 85240267, "body": "Thanks, @Sabacc, I updated my answer to link to the issue I opened with NServiceBus and to explain what my end solution was."}], "answers": [{"comments": [{"owner": {"reputation": 128, "user_id": 1634290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5f12a16980a45d7e444d1176a2e196?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/1634290/nick"}, "edited": false, "score": 0, "creation_date": 1520274218, "post_id": 49040953, "comment_id": 85239357, "body": "Thanks, @acelent.  I ended up using a watchdog saga as suggested by the NServiceBus developers, but your answer addresses why the context was becoming invalidated."}], "tags": [], "owner": {"reputation": 7399, "user_id": 800524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02839e8311c198171b66b57d1d0cc023?s=128&d=identicon&r=PG", "display_name": "acelent", "link": "https://stackoverflow.com/users/800524/acelent"}, "is_accepted": true, "score": 2, "last_activity_date": 1519865005, "creation_date": 1519865005, "answer_id": 49040953, "question_id": 49038136, "link": "https://stackoverflow.com/questions/49038136/nservicebus-events-lost-when-published-in-separate-thread/49040953#49040953", "title": "NServiceBus events lost when published in separate thread", "body": "<p>The cause of this is that if <code>ProcessMessage</code> is fast enough, you might get the current <code>context</code> before it gets invalidated, such as being disposed.</p>\n\n<p>By returning from <code>Handle</code> successfully, you're telling NServiceBus: \"I'm done with this message\", so it may do what it wants with the <code>context</code> as well, such as invalidating it.  In the background processor, you need an endpoint instance, not a message context.</p>\n\n<p>By the time the new task starts running, you don't know if <code>Handle</code> has returned or not, so you should just consider the message has already been consumed and is thus unrecoverable.  If errors happen in your separate task, you can't retry them.</p>\n\n<p>Avoid long running processes without persistence.  The sample you mention has a server that stores a work item from a message, and a process that polls this storage for work items.  Perhaps not ideal, in case you scale out processors, but it won't lose messages.</p>\n\n<p>To avoid constant polling, merge the server and the processor, poll inconditionally once when it starts, and in <code>Handle</code> schedule a polling task.  Take care for this task to only poll if no other polling task is running, otherwise it may become worse than constant polling.  You may use a semaphore to control this.</p>\n\n\n\n<p>To scale out, you must have more servers.  You need to measure if the cost of N processors polling is greater than sending to N servers in a round-robin fashion, for some N, to know which approach actually performs better.  In practice, polling is good enough for a low N.</p>\n\n<p>Modifying the sample for multiple processors may require less deployment and configuration effort, you just add or take processors, while adding or removing servers needs changing their enpoints in all places (e.g. config files) that point to them.</p>\n\n<p>Another approach would be to break the long process into steps.  NServiceBus has  sagas.  It's an approach usually implemented for a know or bounded amount of steps.  For an unknown amount of steps, it's still feasible, although some might consider it an abuse of the seemingly intended purpose of sagas.</p>\n"}], "owner": {"reputation": 128, "user_id": 1634290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5f12a16980a45d7e444d1176a2e196?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/1634290/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 49040953, "answer_count": 1, "score": 5, "last_activity_date": 1520275943, "creation_date": 1519850301, "last_edit_date": 1520275943, "question_id": 49038136, "link": "https://stackoverflow.com/questions/49038136/nservicebus-events-lost-when-published-in-separate-thread", "title": "NServiceBus events lost when published in separate thread", "body": "<p>I've been working on getting long running messages working with NServiceBus on an Azure transport.  Based off <a href=\"https://docs.particular.net/samples/azure/azure-service-bus-long-running/?version=asb_8\" rel=\"nofollow noreferrer\">this document</a>, I thought I could get away with firing off the long process in a separate thread, marking the event handler task as complete and then listening for custom OperationStarted or OperationComplete events.  I noticed the OperationComplete event is not received by my handlers most cases.  In fact, the only time it is received is when I publish it immediately after the OperationStarted event is published.  Any actual processing in between somehow prevents the completion event from being received.  Here is my code:</p>\n\n<p><strong>Abstract class used for long running messages</strong></p>\n\n<pre><code>public abstract class LongRunningOperationHandler&lt;TMessage&gt; : IHandleMessages&lt;TMessage&gt; where TMessage : class\n{\n    protected ILog _logger =&gt; LogManager.GetLogger&lt;LongRunningOperationHandler&lt;TMessage&gt;&gt;();\n\n    public Task Handle(TMessage message, IMessageHandlerContext context)\n    {\n        var opStarted = new OperationStarted\n        {\n            OperationID = Guid.NewGuid(),\n            OperationType = typeof(TMessage).FullName\n        };\n        var errors = new List&lt;string&gt;();\n        // Fire off the long running task in a separate thread\n        Task.Run(() =&gt;\n            {\n                try\n                {\n                    _logger.Info($\"Operation Started: {JsonConvert.SerializeObject(opStarted)}\");\n                    context.Publish(opStarted);\n                    ProcessMessage(message, context);\n                }\n                catch (Exception ex)\n                {\n                    errors.Add(ex.Message);\n                }\n                finally\n                {\n                    var opComplete = new OperationComplete\n                    {\n                        OperationType = typeof(TMessage).FullName,\n                        OperationID = opStarted.OperationID,\n                        Errors = errors\n                    };\n\n                    context.Publish(opComplete);\n\n                    _logger.Info($\"Operation Complete: {JsonConvert.SerializeObject(opComplete)}\");\n                }\n            });\n\n        return Task.CompletedTask;\n    }\n\n    protected abstract void ProcessMessage(TMessage message, IMessageHandlerContext context);\n}\n</code></pre>\n\n<p><strong>Test Implementation</strong></p>\n\n<pre><code>public class TestLongRunningOpHandler : LongRunningOperationHandler&lt;TestCommand&gt;\n{\n    protected override void ProcessMessage(TestCommand message, IMessageHandlerContext context)\n    {\n        // If I remove this, or lessen it to something like 200 milliseconds, the \n        // OperationComplete event gets handled\n        Thread.Sleep(1000);\n    }\n}\n</code></pre>\n\n<p><strong>Operation Events</strong></p>\n\n<pre><code>public sealed class OperationComplete : IEvent\n{\n    public Guid OperationID { get; set; }\n    public string OperationType { get; set; }\n    public bool Success =&gt; !Errors?.Any() ?? true;\n    public List&lt;string&gt; Errors { get; set; } = new List&lt;string&gt;();\n    public DateTimeOffset CompletedOn { get; set; } = DateTimeOffset.UtcNow;\n}\n\npublic sealed class OperationStarted : IEvent\n{\n    public Guid OperationID { get; set; }\n    public string OperationType { get; set; }\n    public DateTimeOffset StartedOn { get; set; } = DateTimeOffset.UtcNow;\n}\n</code></pre>\n\n<p><strong>Handlers</strong></p>\n\n<pre><code>public class OperationHandler : IHandleMessages&lt;OperationStarted&gt;\n, IHandleMessages&lt;OperationComplete&gt;\n{\n    static ILog logger = LogManager.GetLogger&lt;OperationHandler&gt;();\n\n    public Task Handle(OperationStarted message, IMessageHandlerContext context)\n    {\n        return PrintJsonMessage(message);\n    }\n\n    public Task Handle(OperationComplete message, IMessageHandlerContext context)\n    {\n        // This is not hit if ProcessMessage takes too long\n        return PrintJsonMessage(message);\n    }\n\n    private Task PrintJsonMessage&lt;T&gt;(T message) where T : class\n    {\n        var msgObj = new\n        {\n            Message = typeof(T).Name,\n            Data = message\n        };\n        logger.Info(JsonConvert.SerializeObject(msgObj, Formatting.Indented));\n        return Task.CompletedTask;\n    }\n\n}\n</code></pre>\n\n<p>I'm certain that the <code>context.Publish()</code> calls are being hit because the <code>_logger.Info()</code> calls are printing messages to my test console.  I've also verified they are hit with breakpoints.  In my testing, anything that runs longer than 500 milliseconds prevents the handling of the OperationComplete event.</p>\n\n<p>If anyone can offer suggestions as to why the OperationComplete event is not hitting the handler when any significant amount of time has passed in the ProcessMessage implementation, I'd be extremely grateful to hear them.  Thanks!</p>\n\n<p><strong>-- Update --</strong>\nIn case anyone else runs into this and is curious about what I ended up doing:</p>\n\n<p>After <a href=\"https://github.com/Particular/NServiceBus/issues/5121\" rel=\"nofollow noreferrer\">an exchange</a> with the developers of NServiceBus, I decided on using a watchdog saga that implemented the IHandleTimeouts interface to periodically check for job completion.  I was using saga data, updated when the job was finished, to determine whether to fire off the <code>OperationComplete</code> event in the timeout handler.  This presented an other issue: when using In-Memory Persistence, the saga data was <a href=\"https://docs.particular.net/persistence/in-memory\" rel=\"nofollow noreferrer\">not persisted</a> across threads even when it was locked by each thread.  To get around this, I created an interface specifically for long running, in-memory data persistence.  This interface was injected into the saga as a singleton, and thus used to read/write saga data across threads for long running operations.</p>\n\n<p>I know that In-Memory Persistence is not recommended, but for my needs configuring another type of persistence (like Azure tables) was overkill; I simply want the <code>OperationComplete</code> event to fire under normal circumstances.  If a reboot happens during a running job, I don't need to persist the saga data. The job will be cut short anyway and the saga timeout will handle firing the <code>OperationComplete</code> event with an error if the job runs longer than a set maximum time.</p>\n"}, {"tags": ["c#", "nuget", "console-application", "whatsapp", "whatsapi"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1519850642, "post_id": 49038093, "comment_id": 85081593, "body": "It would be awesome if you could provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and mention the <b>explicit</b> package version numbers you are using."}, {"owner": {"reputation": 94, "user_id": 8929281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gm0FP.png?s=128&g=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/8929281/dutchjelly"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1519850968, "post_id": 49038093, "comment_id": 85081756, "body": "I edited the original post so it includes better and more information. Thanks for the feedback on how to properly post coding issues on this forum."}, {"owner": {"reputation": 11268, "user_id": 3276634, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/ZvjYw.jpg?s=128&g=1", "display_name": "Lion", "link": "https://stackoverflow.com/users/3276634/lion"}, "edited": false, "score": 0, "creation_date": 1519851072, "post_id": 49038093, "comment_id": 85081809, "body": "You shoud at least provide information about the Library/NuGet package which you&#39;re using. The <code>WhatsRegisterV2</code> class matches e.g. to <a href=\"https://github.com/mgp25/Chat-API-NET\" rel=\"nofollow noreferrer\">github.com/mgp25/Chat-API-NET</a> which is pretty outdated from 2006 (before the E2EE of WA, so this surely can&#39;t work)"}, {"owner": {"reputation": 94, "user_id": 8929281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gm0FP.png?s=128&g=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/8929281/dutchjelly"}, "reply_to_user": {"reputation": 11268, "user_id": 3276634, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/ZvjYw.jpg?s=128&g=1", "display_name": "Lion", "link": "https://stackoverflow.com/users/3276634/lion"}, "edited": false, "score": 0, "creation_date": 1519851244, "post_id": 49038093, "comment_id": 85081900, "body": "@Lion I did specify the version of the nuget packages I tried. Both returned the same error. Also: if my API would be really outdated, what could the cause of it be? I could not update the NuGet packages any further in my .Net Console Application"}, {"owner": {"reputation": 94, "user_id": 8929281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gm0FP.png?s=128&g=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/8929281/dutchjelly"}, "edited": false, "score": 0, "creation_date": 1519851326, "post_id": 49038093, "comment_id": 85081943, "body": "Could you not negatively rate this question by the way? I&#39;m sure more people have this problem and don&#39;t know what the cause could be. Not knowing what the cause could be is mainly my reason for maybe being a little unclear about the problem."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1519855931, "post_id": 49038093, "comment_id": 85084275, "body": "Do you feel like you have provided a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}, {"owner": {"reputation": 94, "user_id": 8929281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gm0FP.png?s=128&g=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/8929281/dutchjelly"}, "edited": false, "score": 0, "creation_date": 1519899063, "post_id": 49038093, "comment_id": 85098913, "body": "I edited again and included a pastebin link that includes enough code to reproduce the problem. I&#39;m sorry if it&#39;s not really minimal, but I&#39;m just trying to give all information that could cause the problem."}, {"owner": {"reputation": 7928, "user_id": 592958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVNmU.jpg?s=128&g=1", "display_name": "phuzi", "link": "https://stackoverflow.com/users/592958/phuzi"}, "edited": false, "score": 1, "creation_date": 1519899540, "post_id": 49038093, "comment_id": 85099199, "body": "@jellekeulemans be aware that not everybody will be able to see pastebin"}, {"owner": {"reputation": 94, "user_id": 8929281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gm0FP.png?s=128&g=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/8929281/dutchjelly"}, "edited": false, "score": 0, "creation_date": 1519907027, "post_id": 49038093, "comment_id": 85103432, "body": "But the post will be really big and ugly if I paste all code into the post.."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 12655165, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mscaFSUuS_8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf3sjMTHrWksF8b7SgQSlqpB6-WQA/photo.jpg?sz=128", "display_name": "Arian Jira", "link": "https://stackoverflow.com/users/12655165/arian-jira"}, "is_accepted": false, "score": 0, "last_activity_date": 1578217506, "last_edit_date": 1578217506, "creation_date": 1578203825, "answer_id": 59597398, "question_id": 49038093, "link": "https://stackoverflow.com/questions/49038093/whatsapp-api-old-version-error/59597398#59597398", "title": "Whatsapp API old_version error", "body": "<p>download github this project\ntry this configuration :</p>\n\n<pre><code>    using System;\n    using System.Globalization;\n\n    namespace WhatsAppApi.Settings\n       {\n               /// &lt;summary&gt;\n               /// Holds constant information used to connect to whatsapp \n             server\n                 /// &lt;/summary&gt;\n                  public class WhatsConstants\n                   {\n                    #region ServerConstants\n\n        /// &lt;summary&gt;\n        /// The whatsapp host\n        /// &lt;/summary&gt;\n        public const string WhatsAppHost = \"c3.whatsapp.net\";\n\n        /// &lt;summary&gt;\n        /// The whatsapp XMPP realm\n        /// &lt;/summary&gt;\n        public const string WhatsAppRealm = \"s.whatsapp.net\";\n\n        /// &lt;summary&gt;\n        /// The whatsapp server\n        /// &lt;/summary&gt;\n        public const string WhatsAppServer = \"s.whatsapp.net\";\n\n        /// &lt;summary&gt;\n        /// The whatsapp group chat server\n        /// &lt;/summary&gt;\n        public const string WhatsGroupChat = \"g.us\";\n\n        /// &lt;summary&gt;\n        /// The whatsapp version the client complies to\n        /// &lt;/summary&gt;\n        //public const string WhatsAppVer = \"2.13.21\";\n        //public const string WhatsAppVer = \"2.12.440\";\n        //public const string WhatsAppVer = \"2.12.556\";\n        public const string WhatsAppVer = \"2.19.368\";\n\n        /// &lt;summary&gt;\n        /// The port that needs to be connected to\n        /// &lt;/summary&gt;\n        public const int WhatsPort = 443;\n\n        /// &lt;summary&gt;\n        /// iPhone device\n        /// &lt;/summary&gt;\n        //  public const string Device = \"S40\";\n        public const string Device = \"Android\";\n\n        /// &lt;summary&gt;\n        /// manufacturer\n        /// &lt;/summary&gt;\n        public const string Manufacturer = \"HTC\";\n\n        /// &lt;summary&gt;\n        /// OS Version\n        /// &lt;/summary&gt;\n        public const string OS_Version = \"4.3\";\n\n        /// &lt;summary&gt;\n        /// The useragent used for http requests\n        /// &lt;/summary&gt;\n        //public const string UserAgent = \"WhatsApp/2.13.21 S40Version/14.26 Device/Nokia302\";\n        //public const string UserAgent = \"WhatsApp/2.12.440 Android/4.3 Device/Xiaomi-HM_1SW\";\n        public const string UserAgent = \"WhatsApp/2.19.368 Android/4.3 Device/endeavoru-IMM76D\";\n\n\n        #endregion\n\n        #region ParserConstants\n        /// &lt;summary&gt;\n        /// The number style used\n        /// &lt;/summary&gt;\n        public static NumberStyles WhatsAppNumberStyle = (NumberStyles.AllowDecimalPoint | NumberStyles.AllowLeadingSign);\n\n        /// &lt;summary&gt;\n        /// Unix epoch DateTime\n        /// &lt;/summary&gt;\n        public static DateTime UnixEpoch = new DateTime(0x7b2, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc);\n        #endregion\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 94, "user_id": 8929281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gm0FP.png?s=128&g=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/8929281/dutchjelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1808, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1578217506, "creation_date": 1519850137, "last_edit_date": 1519899028, "question_id": 49038093, "link": "https://stackoverflow.com/questions/49038093/whatsapp-api-old-version-error", "title": "Whatsapp API old_version error", "body": "<p>I've been trying to get my whatsapp Console App to work. Unfortunately when trying to register I'm getting an error: old_version.\nHere's what my program logs in the console (program code's below):</p>\n\n<pre><code>Succesfully connected...\nFailed to log in...\n  Reason: Auth response error\nPhone number validation:\nType \"y\" in the console if you want to get a validation code send via SMS\ny\nSMS code send\nError with sending the request...\nReason: {\"login\":\"mynumber\",\"status\":\"fail\",\"reason\":\"old_version\"}\n</code></pre>\n\n<p>Does anyone have any idea how I could update the whatsapp API? It's the most up-to-date version currently in my NuGet package manager. I know there are two versions, I tried both without succes. </p>\n\n<p>I'm using the .NET framework solution and not the .NET core because there are NuGet package manager bugs caused by microsoft that I'm dealing with. Also I'm using other NuGet packages in .NET framework like Discord.NET.</p>\n\n<p>So I could find 2 Whatsapp API's in the NuGet package manger. The first version of the API is on v1.2.2, the other one is on v15.4.29.</p>\n\n<p>And aditionally I want to add the code that I use for registrating.</p>\n\n<pre><code>bool registrationSucces = WhatsRegisterV2.RequestCode(number, out password, out error);\n</code></pre>\n\n<p>To completely reproduce the error:\n<a href=\"https://pastebin.com/EJhjALwz\" rel=\"nofollow noreferrer\">https://pastebin.com/EJhjALwz</a> with both available nuget packages mentioned earlier (v1.2.2 or the one that's on v15.4.29)</p>\n\n<p>I'm looking forward to anyone with more knowledge of the API or Coding that could help me solve this setback.</p>\n"}, {"tags": ["c#", "json.net"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1519850192, "post_id": 49038055, "comment_id": 85081374, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (i.e. show us your code)."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1519850218, "post_id": 49038055, "comment_id": 85081385, "body": "In the blogpost it has an example of a malicious payload. Did you test using that malicious payload?"}, {"owner": {"reputation": 143, "user_id": 9425657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4fa63e607cea486e72e292585819bc5?s=128&d=identicon&r=PG&f=1", "display_name": "Anika Leser", "link": "https://stackoverflow.com/users/9425657/anika-leser"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1519851525, "post_id": 49038055, "comment_id": 85082043, "body": "thanks, I&#39;ve added more information"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1519851570, "post_id": 49038055, "comment_id": 85082069, "body": "<code>But what I want to know: I&#39;m on the safe side with bad prepared user-json even if MyObject is a very complex Object with lots of (derived) sub objects but NONE of them is or has a System.Object or a dynamic field (also not something like List&lt;Object&gt;)?</code> What happened when you tried it?"}, {"owner": {"reputation": 143, "user_id": 9425657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4fa63e607cea486e72e292585819bc5?s=128&d=identicon&r=PG&f=1", "display_name": "Anika Leser", "link": "https://stackoverflow.com/users/9425657/anika-leser"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1519854438, "post_id": 49038055, "comment_id": 85083615, "body": "I was not able to replicate it without Object or dynamic fields. But I&#39;m not sure if I thought of all possible attack vectors."}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 9425657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4fa63e607cea486e72e292585819bc5?s=128&d=identicon&r=PG&f=1", "display_name": "Anika Leser", "link": "https://stackoverflow.com/users/9425657/anika-leser"}, "edited": false, "score": 1, "creation_date": 1519899250, "post_id": 49040862, "comment_id": 85099028, "body": "Thank you very much for your detailed answer! So the solution is to use a SerializationBinder and &quot;Whitelist&quot; all possible allowed types."}], "tags": [], "owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "is_accepted": true, "score": 24, "last_activity_date": 1526490597, "last_edit_date": 1526490597, "creation_date": 1519864234, "answer_id": 49040862, "question_id": 49038055, "link": "https://stackoverflow.com/questions/49038055/external-json-vulnerable-because-of-json-net-typenamehandling-auto/49040862#49040862", "title": "External json vulnerable because of Json.Net TypeNameHandling auto?", "body": "<p><strong>TL/DR</strong>:  In the absence of any obvious <code>object</code> or <code>dynamic</code> members, you <em>may well</em> be safe, but you are not <em>guaranteed</em> to be safe.  To further decrease your risk you should follow the recommendations from the <a href=\"https://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_TypeNameHandling.htm\" rel=\"noreferrer\">Newtonsoft documentation</a>:</p>\n\n<blockquote>\n  <p><a href=\"https://www.newtonsoft.com/json/help/html/P_Newtonsoft_Json_JsonSerializer_TypeNameHandling.htm\" rel=\"noreferrer\">TypeNameHandling</a> should be used with caution when your application deserializes JSON from an external source. Incoming types should be validated with a custom <a href=\"https://www.newtonsoft.com/json/help/html/P_Newtonsoft_Json_JsonSerializer_SerializationBinder.htm\" rel=\"noreferrer\">SerializationBinder</a> when deserializing with a value other than None. </p>\n</blockquote>\n\n<p><strong>Full Answer</strong></p>\n\n<p>The attacks described in <em><a href=\"https://www.alphabot.com/security/blog/2017/net/How-to-configure-Json.NET-to-create-a-vulnerable-web-API.html\" rel=\"noreferrer\">How to configure Json.NET to create a vulnerable web API</a></em>, <em><a href=\"https://stackoverflow.com/q/39565954/3744182\">TypeNameHandling caution in Newtonsoft Json</a></em> and Alvaro Mu\u00f1oz &amp; Oleksandr Mirosh's <a href=\"https://www.blackhat.com/docs/us-17/thursday/us-17-Munoz-Friday-The-13th-JSON-Attacks-wp.pdf\" rel=\"noreferrer\">blackhat paper</a> all depend on using the <a href=\"https://www.newtonsoft.com/json/help/html/SerializeTypeNameHandling.htm\" rel=\"noreferrer\"><code>TypeNameHandling</code> setting</a> of Json.NET to trick the receiver into constructing an <strong>attack gadget</strong> - a instance of a type that when constructed, populated or disposed effects an attack on the receiving system.  </p>\n\n<p>Json.NET does two things that help protect against such attacks.  Firstly, it ignores unknown properties.  Thus simply adding an additional, unknown property to a JSON payload whose value contains a <code>\"$type\"</code> property should do no harm.  Secondly, during deserialization of a polymorphic value, when resolving the <code>\"$type\"</code> property, it checks to see whether the resolved type is compatible with the expected type in <a href=\"https://github.com/JamesNK/Newtonsoft.Json/blob/master/Src/Newtonsoft.Json/Serialization/JsonSerializerInternalReader.cs#L770\" rel=\"noreferrer\"><code>JsonSerializerInternalReader.ResolveTypeName()</code></a>:</p>\n\n<blockquote>\n<pre><code>    if (objectType != null\n#if HAVE_DYNAMIC\n        &amp;&amp; objectType != typeof(IDynamicMetaObjectProvider)\n#endif\n        &amp;&amp; !objectType.IsAssignableFrom(specifiedType))\n    {\n        throw JsonSerializationException.Create(reader, \"Type specified in JSON '{0}' is not compatible with '{1}'.\".FormatWith(CultureInfo.InvariantCulture, specifiedType.AssemblyQualifiedName, objectType.AssemblyQualifiedName));\n    }\n</code></pre>\n</blockquote>\n\n<p>If the expected type of the polymorphic value is not compatible with any attack gadget type, the attack will fail.  Provided you have no serializable members of type <code>object</code>, <code>dynamic</code> or <code>IDynamicMetaObjectProvider</code>, this is likely to be true.  But not certain!  </p>\n\n<p>Cases in which an attack gadget might get constructed even without any obvious untyped members in your data model include:</p>\n\n<ul>\n<li><p>Deserialization of untyped <em>collections</em>.  If you are deserializing any sort of untyped collection or dictionary such as <code>ArrayList</code>, <code>List&lt;object&gt;</code>, <code>Dictionary&lt;string, dynamic&gt;</code> or <a href=\"https://msdn.microsoft.com/en-us/library/system.collections.hashtable.aspx\" rel=\"noreferrer\"><code>HashTable</code></a>, then your system is vulnerable to attack gadgets contained in the collection's items.</p></li>\n<li><p>Deserialization of any of the dozens of collections inheriting from <a href=\"https://msdn.microsoft.com/en-us/library/system.collections.collectionbase(v=vs.110).aspx\" rel=\"noreferrer\"><code>CollectionBase</code></a>.  This type predates the introduction of generics in .Net and represents a \"semi-typed\" collection, in which the types of the items are validated in runtime as they are added.  Since the validation occurs after construction, there is a window in which an attack gadget might get constructed.</p>\n\n<p>Sample <a href=\"https://dotnetfiddle.net/LR120U\" rel=\"noreferrer\">fiddle</a> showing just this.</p></li>\n<li><p>Deserialization of values that share a common base type or interface with an attack gadget other than just <code>object</code>.  <a href=\"https://referencesource.microsoft.com/#System/compmod/system/codedom/compiler/TempFiles.cs\" rel=\"noreferrer\"><code>TempFileCollection</code></a> implements <code>ICollection</code> and <code>IDisposable</code>.  <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.data.objectdataprovider.aspx\" rel=\"noreferrer\"><code>ObjectDataProvider</code></a> implements <code>INotifyPropertyChanged</code> and <code>ISupportInitialize</code>.  If you have any polymorphic members or values that are declared to be any of these interfaces, you are vulnerable.</p></li>\n<li><p>Deserialization of types that implement <a href=\"https://msdn.microsoft.com/en-us/library/system.runtime.serialization.iserializable.aspx\" rel=\"noreferrer\"><code>ISerializable</code></a>.  Json.NET <a href=\"https://www.newtonsoft.com/json/help/html/SerializationGuide.htm#ISerializable\" rel=\"noreferrer\">supports this interface</a> by default, and it is possible that a seemingly-harmless type in some external library is deserializing untyped members inside its streaming constructor without your knowledge.</p>\n\n<p>One obvious example is <code>Sytem.Exception</code> (or any of its subtypes) which deserializes an untyped dictionary <code>\"Data\"</code> inside its <a href=\"https://referencesource.microsoft.com/#mscorlib/system/exception.cs,90\" rel=\"noreferrer\">streaming constructor</a> which corresponds to the untyped dictionary <a href=\"https://msdn.microsoft.com/en-us/library/system.exception.data(v=vs.110).aspx\" rel=\"noreferrer\"><code>Exception.Data</code></a>.  If you are deserializing an <code>Exception</code> (contained in a log file for example, which is very common), the following JSON should effect an attack:</p>\n\n<pre><code>{\n  \"$type\": \"System.Exception, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\",\n  \"ClassName\": \"System.Exception\",\n  \"Message\": \"naughty exception\",\n  \"Data\": {\n    \"$type\": \"System.Collections.ListDictionaryInternal, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\",\n    \"data\": {\n      \"$type\": \"System.IO.FileInfo, System.IO.FileSystem\",\n      \"fileName\": \"rce-test.txt\",\n      \"IsReadOnly\": true    \n    }\n  },\n}\n</code></pre>\n\n<p>The attack can be mitigated without creation of a custom serialization binder by setting <a href=\"https://www.newtonsoft.com/json/help/html/P_Newtonsoft_Json_Serialization_DefaultContractResolver_IgnoreSerializableInterface.htm\" rel=\"noreferrer\"><code>DefaultContractResolver.IgnoreSerializableInterface = true</code></a>.  Of course, this may cause problems with serialization of certain .Net class library types.</p></li>\n<li><p>Deserializing types marked with <a href=\"https://msdn.microsoft.com/en-us/library/system.serializableattribute(v=vs.110).aspx\" rel=\"noreferrer\"><code>[Serializable]</code></a> can have a similar problem if you set <a href=\"https://www.newtonsoft.com/json/help/html/P_Newtonsoft_Json_Serialization_DefaultContractResolver_IgnoreSerializableAttribute.htm\" rel=\"noreferrer\"><code>DefaultContractResolver.IgnoreSerializableAttribute = false</code></a>.  However, the default is <code>true</code>, so you should be OK if you don't change this setting.</p></li>\n<li><p>Deserializing types with members that you <em>think</em> are not serialized -- but will be deserialized if present.  E.g. consider the following type:</p>\n\n<pre><code>public MyType\n{\n    public object tempData;\n    public bool ShouldSerializeTempData() { return false; }\n}\n</code></pre>\n\n<p>Thanks to Json.NET's <a href=\"https://www.newtonsoft.com/json/help/html/ConditionalProperties.htm\" rel=\"noreferrer\">conditional serialization</a> functionality, the <code>tempData</code> member will never be serialized, so you might think you're in the clear.  But it will be <em>deserialized</em> if present!  An attacker who decompiles your code and notices such a member will be able to craft an attack gadget payload for <code>MyType</code>.</p></li>\n</ul>\n\n<p>And that's just what I was able to think of off the top of my head.  As you can see, verifying that, in a large object graph, there is never an attempt to deserialize a polymorphic type that is compatible with some attack gadget is substantially nontrivial.  Thus I'd strongly recommend the additional protection of a custom <a href=\"https://www.newtonsoft.com/json/help/html/P_Newtonsoft_Json_JsonSerializer_SerializationBinder.htm\" rel=\"noreferrer\"><code>SerializationBinder</code></a> that ensures that no unexpected types are deserialized.</p>\n"}], "owner": {"reputation": 143, "user_id": 9425657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4fa63e607cea486e72e292585819bc5?s=128&d=identicon&r=PG&f=1", "display_name": "Anika Leser", "link": "https://stackoverflow.com/users/9425657/anika-leser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5258, "favorite_count": 5, "accepted_answer_id": 49040862, "answer_count": 1, "score": 14, "last_activity_date": 1526490597, "creation_date": 1519849981, "last_edit_date": 1519899656, "question_id": 49038055, "link": "https://stackoverflow.com/questions/49038055/external-json-vulnerable-because-of-json-net-typenamehandling-auto", "title": "External json vulnerable because of Json.Net TypeNameHandling auto?", "body": "<p>I'm operating a small website where users can upload custom \"objects\" defined in JSON. Recently I've learned about possible threats using JSON with automatic type deserialization: <a href=\"https://www.alphabot.com/security/blog/2017/net/How-to-configure-Json.NET-to-create-a-vulnerable-web-API.html\" rel=\"noreferrer\">JSON problem</a>.  I think I understand the problematics but I have to ask to be sure. If I only deserialize the incoming JSON with a given specific type (here <code>MyObject</code>) <code>JsonConvert.DeserializeObject&lt;MyObject&gt;(json, settings);</code> and no type inside <code>MyObject</code> and no subtype of any member of <code>MyObject</code> has the type <code>System.Object</code> or <code>dynamic</code> there is nothing that can go bad, right?</p>\n\n<p><code>TypeNameHandling</code> of <code>settings</code> is set to <code>TypeNameHandling.Auto</code> (let's not question this decision it probably could work with <code>None</code>, but I want to understand the question with it set to <code>Auto</code>.)</p>\n\n<p>Edit:\nMore information: I have tested the JSON from the previously mentioned website:</p>\n\n<pre><code>{\n    \"obj\": {\n        \"$type\": \"System.IO.FileInfo, System.IO.FileSystem\",\n        \"fileName\": \"rce-test.txt\",\n        \"IsReadOnly\": true\n    }\n}\n</code></pre>\n\n<p>If <code>MyObject</code> has a <code>System.Object</code> or <code>dynamic</code> typed field <code>obj</code> I can reproduce the threat. But what I want to know: I'm on the safe side with bad prepared user-json even if MyObject is a very complex Object with lots of (derived) sub objects but NONE of them is or has a <code>System.Object</code> or a dynamic field (also not something like <code>List&lt;Object&gt;</code>)?  E.g. I could imagine that Json.NET does something like creating objects because of the <code>$type</code> information even if no according field in <code>MyObject</code> can be found.</p>\n"}, {"tags": ["c#", "razor", "kendo-ui", "asp.net-mvc-5", "kendo-splitter"], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 7082387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kqAKR.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/7082387/andrew"}, "is_accepted": true, "score": 0, "last_activity_date": 1519849964, "creation_date": 1519849964, "answer_id": 49038051, "question_id": 49038050, "link": "https://stackoverflow.com/questions/49038050/mvc5-views-and-kendo-splitter-content-in-2-overwrites-1/49038051#49038051", "title": "MVC5 Views and Kendo Splitter - Content in 2 overwrites 1", "body": "<p>So I've done a lot of digging and had actually found the answer 2 hours ago but it's still vaguely mentioned on Telerik support.</p>\n\n<p>Since I was using the slightly modified demos from Telerik UI for ASP.NET MVC, I had forgotten to change the name of the charts. I decide to post this answer as I had the realization as I was writing the question. Even though they are in different views and controllers, when attempting to display them both on the same page you'll likely encounter the issue I had. It was more confounding as the graphs worked perfectly when on their individual pages. </p>\n\n<p>So if you want to use 2 charts/controls on separate pages but still want to display them (via a view/grid/pane etc) on the same page, make sure you change the name below. </p>\n\n<p>Default:</p>\n\n<pre><code>Html.Kendo().Chart()\n  .Name(\"chart\")\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7082387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kqAKR.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/7082387/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 49038051, "answer_count": 1, "score": 0, "last_activity_date": 1519849964, "creation_date": 1519849964, "question_id": 49038050, "link": "https://stackoverflow.com/questions/49038050/mvc5-views-and-kendo-splitter-content-in-2-overwrites-1", "title": "MVC5 Views and Kendo Splitter - Content in 2 overwrites 1", "body": "<p>TLDR; Why is pane 2 contentUrl data overwriting pane1 contentUrl data. Details below.</p>\n\n<p>Ok we're getting education by fire here and trying to learn more web based development while too quickly developing an application. Using MVC 5 and Telerik (Kendo) I'm trying to create a spitter than loads from 4 different partial views. Currently I'm just using dummy/demo data from Telerik's site. </p>\n\n<p>When the page loads, it will briefly show the contents of @Url.Content(\"~/Productivity\") then it is replaced by the contents of @Url.Content(\"~/QualityControl\"), but the headings do not change. </p>\n\n<p>Both Productivity and QualityControl are partial views which are returned by the associated controllers and are . SpanOfControl and Position Control are currently returning only an H2 header.</p>\n\n<p><code>public ActionResult Index()\n        {\n            return View(\"_ProductivityPartial\");\n        }</code></p>\n\n<pre><code>public ActionResult Index()\n    {\n        return View(\"_QualityControlPartial\");\n    }\n</code></pre>\n\n<hr>\n\n<p>HTML/Javascript on index.cshtml</p>\n\n<pre><code>&lt;div id=\"verticalSplit\"&gt;\n&lt;div id=\"topHorizontal\"&gt;\n    &lt;div id=\"top-left\"&gt;Top Left&lt;/div&gt;\n    &lt;div id=\"top-right\"&gt;Top Right&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\"bottomHorizontal\"&gt;\n    &lt;div id=\"bottom-left\"&gt;Bottom Left&lt;/div&gt;\n    &lt;div id=\"bottom-right\"&gt;Bottom Right&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n $(document).ready(function () {\n\n    $(\"#verticalSplit\").kendoSplitter({\n        orientation: \"vertical\",\n        panes: [\n            { collapsible: true, expand: true, resize: false },\n            { collapsible: true, expand: true, resize: false }\n        ]\n    });\n   $(\"#topHorizontal\").kendoSplitter({\n        orientation: \"horizontal\",\n        panes: [\n            { contentUrl: \"@Url.Content(\"~/Productivity\")\" },\n            { contentUrl: \"@Url.Content(\"~/QualityControl\")\" }\n        ]\n    });\n    $(\"#bottomHorizontal\").kendoSplitter({\n        orientation: \"horizontal\",\n        panes: [\n            { contentUrl: \"@Url.Content(\"~/SpanOfControl\")\" },\n            { contentUrl: \"@Url.Content(\"~/PositionControl\")\" }\n        ]\n    });\n</code></pre>\n\n<p></p>\n"}, {"tags": ["c#", "wpf", "mvvm"], "comments": [{"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1519848738, "post_id": 49037677, "comment_id": 85080601, "body": "I would expose properties on your view-model for the <code>Background</code> of each <code>Textbox</code>, and connect them using bindings.  Then in the setter of whatever property your <code>Textbox.Text</code> is bound to, you can just update that property.  The binding will push the updated values out to the controls."}, {"owner": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "reply_to_user": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1519849112, "post_id": 49037677, "comment_id": 85080809, "body": "Does this approach require the textbox to lose focus for the setter to be called?"}, {"owner": {"reputation": 588, "user_id": 8206887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c02dee972d9e212883be4f83c112f1?s=128&d=identicon&r=PG&f=1", "display_name": "Sudsy1002", "link": "https://stackoverflow.com/users/8206887/sudsy1002"}, "edited": false, "score": 1, "creation_date": 1519849249, "post_id": 49037677, "comment_id": 85080878, "body": "Regarding point 1, you are probably missing <code>UpdateSourceTrigger=PropertyChanged</code> in your xaml. This will update the property as soon as it is changed. I.E. if you are binding to the <code>Text</code> property, it will fire off everytime there is new input."}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1519849394, "post_id": 49037677, "comment_id": 85080950, "body": "@user3382285 By default it will, but if you add <code>UpdateSourceTrigger=&quot;PropertyChanged&quot;</code> to the binding, it will trigger on every change of the text."}, {"owner": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "reply_to_user": {"reputation": 588, "user_id": 8206887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c02dee972d9e212883be4f83c112f1?s=128&d=identicon&r=PG&f=1", "display_name": "Sudsy1002", "link": "https://stackoverflow.com/users/8206887/sudsy1002"}, "edited": false, "score": 0, "creation_date": 1519849422, "post_id": 49037677, "comment_id": 85080965, "body": "@Sudsy1002 that makes sense. Do you think this is a good approach performance wise? Do you think there&#39;s a better way of doing it? I just want to get a better understanding of MVVM too."}, {"owner": {"reputation": 1248, "user_id": 2616741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afe6f38fb256637ed91e17e820a7d3cf?s=128&d=identicon&r=PG", "display_name": "Ruben Vardanyan", "link": "https://stackoverflow.com/users/2616741/ruben-vardanyan"}, "edited": false, "score": 1, "creation_date": 1519849483, "post_id": 49037677, "comment_id": 85081000, "body": "Code behind does not violate the MVVM standard. It is totally ok to do UI related staff in .xaml.cs files. In your case you are changing color of textbox which is only UI related and does not contain any business logic. I would prefer to change background with event handler in code behind."}, {"owner": {"reputation": 588, "user_id": 8206887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c02dee972d9e212883be4f83c112f1?s=128&d=identicon&r=PG&f=1", "display_name": "Sudsy1002", "link": "https://stackoverflow.com/users/8206887/sudsy1002"}, "edited": false, "score": 0, "creation_date": 1519849588, "post_id": 49037677, "comment_id": 85081059, "body": "@user3382285 it depends on what you are trying to accomplish. If it is something related to a property like background color then this approach would probably be fine. If you are trying to somehow modify the text and perform some kind of validation then you are probably better off using behaviors. Bradley&#39;s suggestion in his first comment is another common approach."}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "reply_to_user": {"reputation": 1248, "user_id": 2616741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afe6f38fb256637ed91e17e820a7d3cf?s=128&d=identicon&r=PG", "display_name": "Ruben Vardanyan", "link": "https://stackoverflow.com/users/2616741/ruben-vardanyan"}, "edited": false, "score": 0, "creation_date": 1519849600, "post_id": 49037677, "comment_id": 85081062, "body": "@RubenVardanyan has a good point.  The line about what can go in the code-behind, the viewmodel, behvaiors, etc... can be very fuzzy in MVVM.  If you are just changing the color, it could go in the code-behind, but if the logic to pick the color is in any way complex, and depends on special rules, it should go someplace else."}], "answers": [{"comments": [{"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1519848887, "post_id": 49037796, "comment_id": 85080688, "body": "The 2nd option is &quot;Behaviors&quot;.  I don&#39;t see you describing Behaviors at all in your answer.  Not saying your answer is wrong, but it doesn&#39;t seem to discuss Behaviors."}, {"owner": {"reputation": 1004, "user_id": 9041254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e422199b19401bd6c5eff739bfe257?s=128&d=identicon&r=PG&f=1", "display_name": "Faruq", "link": "https://stackoverflow.com/users/9041254/faruq"}, "reply_to_user": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1519848969, "post_id": 49037796, "comment_id": 85080735, "body": "@BradleyUffner Note the first bullet point. I am just giving the basic direction."}, {"owner": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "edited": false, "score": 0, "creation_date": 1519849285, "post_id": 49037796, "comment_id": 85080896, "body": "I didn&#39;t know I can bind a command to TextChanged! is this in xaml? can I do something like     &lt;TextBlock TextChanged={Binding myCommand} /&gt; ?"}, {"owner": {"reputation": 1004, "user_id": 9041254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e422199b19401bd6c5eff739bfe257?s=128&d=identicon&r=PG&f=1", "display_name": "Faruq", "link": "https://stackoverflow.com/users/9041254/faruq"}, "reply_to_user": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "edited": false, "score": 0, "creation_date": 1519849946, "post_id": 49037796, "comment_id": 85081253, "body": "@user3382285 You can&#39;t. I have updated my answer with a brief example."}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1519849984, "post_id": 49037796, "comment_id": 85081274, "body": "While your <code>EventToCommand</code> example should be fine, it seems like way more work than just putting the logic in the getter of the view-model.  It would have the same end-result and be just as MVVM compliant."}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "reply_to_user": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "edited": false, "score": 0, "creation_date": 1519850106, "post_id": 49037796, "comment_id": 85081330, "body": "@user3382285 The behavior would let you access events on the instance of the control the <code>Behavior</code> is attached to, but accessing other controls would be more difficult. So it would be easy to use one to change <code>TextBox1</code> background from <code>TextBox1</code> event, changing the background of <code>TextBox2</code> from <code>TextBox1</code> would be significantly harder."}, {"owner": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "reply_to_user": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1519850221, "post_id": 49037796, "comment_id": 85081388, "body": "@BradleyUffner I am sure I read somewhere that optimally xaml.cs shouldn&#39;t have any code. Also I can see that textbox background color is not business logic. However, I would love to know the right way to do it. I have other event that involves business logic and consistency of handling them is a key."}, {"owner": {"reputation": 1004, "user_id": 9041254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e422199b19401bd6c5eff739bfe257?s=128&d=identicon&r=PG&f=1", "display_name": "Faruq", "link": "https://stackoverflow.com/users/9041254/faruq"}, "reply_to_user": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1519850268, "post_id": 49037796, "comment_id": 85081416, "body": "@BradleyUffner I completely agree with you, either way is fine."}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "reply_to_user": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "edited": false, "score": 0, "creation_date": 1519850326, "post_id": 49037796, "comment_id": 85081446, "body": "@user3382285 If you can wait a few minutes, I can create a quick example of doing it all through the view-model for you."}, {"owner": {"reputation": 1004, "user_id": 9041254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e422199b19401bd6c5eff739bfe257?s=128&d=identicon&r=PG&f=1", "display_name": "Faruq", "link": "https://stackoverflow.com/users/9041254/faruq"}, "reply_to_user": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "edited": false, "score": 0, "creation_date": 1519850413, "post_id": 49037796, "comment_id": 85081489, "body": "@user3382285 What you read about not having any code in xaml.cs is correct. But in real world projects you cannot follow that all the time."}, {"owner": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "reply_to_user": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1519850542, "post_id": 49037796, "comment_id": 85081547, "body": "@BradleyUffner that would be great!!"}, {"owner": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "edited": false, "score": 0, "creation_date": 1519850644, "post_id": 49037796, "comment_id": 85081595, "body": "@Faruq As I mentioned before I&#39;m totally new to behaviors. I was using this article <a href=\"https://eladm.wordpress.com/2009/04/02/attached-behavior/\" rel=\"nofollow noreferrer\">eladm.wordpress.com/2009/04/02/attached-behavior</a> . it&#39;s pretty old is this outdated? I used the exact same code and I was able to fire the TextChanged event but I get only the current textbox I am changing the  DependencyProperty for . Is there a better way? if yes what is a good/up to date source for it."}, {"owner": {"reputation": 1004, "user_id": 9041254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e422199b19401bd6c5eff739bfe257?s=128&d=identicon&r=PG&f=1", "display_name": "Faruq", "link": "https://stackoverflow.com/users/9041254/faruq"}, "reply_to_user": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "edited": false, "score": 0, "creation_date": 1519850742, "post_id": 49037796, "comment_id": 85081634, "body": "@user3382285 Are you using MVVMLight or something similar?"}, {"owner": {"reputation": 20047, "user_id": 166452, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/I26rB.jpg?s=128&g=1", "display_name": "Ignacio Soler Garcia", "link": "https://stackoverflow.com/users/166452/ignacio-soler-garcia"}, "reply_to_user": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "edited": false, "score": 0, "creation_date": 1519850989, "post_id": 49037796, "comment_id": 85081769, "body": "@user3382285 the background color of the TextBox is no business logic but the requirement to change it when something happens (probably in the model) really is a business thing."}, {"owner": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "edited": false, "score": 0, "creation_date": 1519851201, "post_id": 49037796, "comment_id": 85081878, "body": "@Faruq I would say no because I don&#39;t know what is that (that made me feel bad). I&#39;m using plain wpf, and I follow MVVM articles and tutorials. I don&#39;t use any extra assembles. I was thinking it&#39;s better for me if I start with plain then upgrade to tools to get a better understanding. I also have the time because I&#39;m refactoring a working code."}, {"owner": {"reputation": 1004, "user_id": 9041254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e422199b19401bd6c5eff739bfe257?s=128&d=identicon&r=PG&f=1", "display_name": "Faruq", "link": "https://stackoverflow.com/users/9041254/faruq"}, "reply_to_user": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "edited": false, "score": 0, "creation_date": 1519852758, "post_id": 49037796, "comment_id": 85082733, "body": "@user3382285 Don&#39;t feel bad, I am learning WPF as well. MVVMLight can make your life a little easier <a href=\"https://github.com/lbugnion/mvvmlight\" rel=\"nofollow noreferrer\">github.com/lbugnion/mvvmlight</a>. There are other alternatives as well like <a href=\"https://github.com/PrismLibrary/Prism\" rel=\"nofollow noreferrer\">github.com/PrismLibrary/Prism</a>"}, {"owner": {"reputation": 1004, "user_id": 9041254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e422199b19401bd6c5eff739bfe257?s=128&d=identicon&r=PG&f=1", "display_name": "Faruq", "link": "https://stackoverflow.com/users/9041254/faruq"}, "reply_to_user": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "edited": false, "score": 0, "creation_date": 1519855470, "post_id": 49037796, "comment_id": 85084063, "body": "@user3382285 I have updated my answer with a sample code that runs on plain wpf."}], "tags": [], "owner": {"reputation": 1004, "user_id": 9041254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e422199b19401bd6c5eff739bfe257?s=128&d=identicon&r=PG&f=1", "display_name": "Faruq", "link": "https://stackoverflow.com/users/9041254/faruq"}, "is_accepted": false, "score": 0, "last_activity_date": 1519855410, "last_edit_date": 1519855410, "creation_date": 1519848806, "answer_id": 49037796, "question_id": 49037677, "link": "https://stackoverflow.com/questions/49037677/wpf-mvvm-how-to-update-ui-controllers-based-on-event/49037796#49037796", "title": "WPF MVVM : how to Update UI controllers based on Event", "body": "<p>The second approach is the way to go. In your <em>viewmodel</em>, add a ICommand <code>DoOnTextChanged</code> and dependency property <code>BackgroundColor</code>.</p>\n\n<ul>\n<li>Bind the <code>DoOnTextChanged</code> command with the <em>TextChanged</em> event of TextBox1 using Behaviours</li>\n<li>Bind the <code>BackgroundColor</code> property to the background of TextBox2 using converter.</li>\n<li>In the <em>Execute</em> function of <code>DoOnTextChanged</code>, change the <code>BackgroundColor</code> property and you are done.</li>\n</ul>\n\n<p>If you are using MVVMLight, binding to ICommand is easy. First add these two namespace <code>xmlns:i=\"http://schemas.microsoft.com/expression/2010/interactivity\"</code> and <code>xmlns:cmd=\"clr-namespace:GalaSoft.MvvmLight.Command;assembly=GalaSoft.MvvmLight.Platform\"</code> and do the following:</p>\n\n<pre><code>&lt;TextBox&gt;\n    &lt;i:Interaction.Triggers&gt;\n        &lt;i:EventTrigger EventName=\"TextChanged\" &gt;\n            &lt;cmd:EventToCommand Command=\"{Binding DoOnTextChanged}\" PassEventArgsToCommand=\"False\" &gt;\n            &lt;/cmd:EventToCommand&gt;\n        &lt;/i:EventTrigger&gt;\n    &lt;/i:Interaction.Triggers&gt;\n&lt;/TextBox&gt;\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>As <em>OP</em> is using plain wpf/Xaml, I am updating my answer with implementation for plain wpf.</p>\n\n<p>Add the following two helper class in your project:</p>\n\n<pre><code>public class ExecuteCommand : TriggerAction&lt;DependencyObject&gt;\n{\n    public static readonly DependencyProperty CommandProperty = DependencyProperty.Register(\"Command\", typeof(ICommand), typeof(ExecuteCommand));\n    public ICommand Command\n    {\n        get\n        {\n            return GetValue(CommandProperty) as ICommand;\n        }\n        set\n        {\n            SetValue(CommandProperty, value);\n        }\n    }\n\n    protected override void Invoke(object parameter)\n    {\n        if (Command != null)\n        {\n            if (Command.CanExecute(parameter))\n            {\n                Command.Execute(parameter);\n            }\n        }\n    }\n}\n\npublic class EventCommand : ICommand\n{\n    private Action&lt;object&gt; func;\n\n    public EventCommand(Action&lt;object&gt; func)\n    {\n        this.func = func;\n    }\n\n    public bool CanExecute(object parameter)\n    {\n        //Use your logic here when required\n        return true;\n    }\n\n    public event EventHandler CanExecuteChanged;\n\n    public void Execute(object parameter)\n    {\n        if (func != null)\n        {\n            func(parameter);\n        }\n    }\n}\n</code></pre>\n\n<p>In your ViewModel, implement <em>INotifyPropertyChanged</em> and add the following ICommand and Background property.</p>\n\n<pre><code>public class MainViewModel : INotifyPropertyChanged\n{\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    public MainViewModel(IDataService dataService)\n    {\n        BackColor = Brushes.Aqua;\n        DoOnTextChanged = new EventCommand((obj =&gt; BackColor = BackColor == Brushes.BurlyWood ? Brushes.Chartreuse : Brushes.BurlyWood));\n    }\n\n    public ICommand DoOnTextChanged { get; set; }\n\n    private Brush backColor;\n    public Brush BackColor\n    {\n        get\n        {\n            return backColor;\n        }\n        set\n        {\n            backColor = value;\n            if (PropertyChanged != null)\n            {\n                PropertyChanged.Invoke(this, new PropertyChangedEventArgs(\"BackColor\"));\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>Finally, in you <em>ViewName.xaml</em> file, add this namespace <code>xmlns:i=\"http://schemas.microsoft.com/expression/2010/interactivity\"</code>. You may need to add a reference to <em>System.Windows.Interactivity</em>. Then add the following to bind the button event to a command:</p>\n\n<pre><code>&lt;TextBox&gt;\n    &lt;i:Interaction.Triggers&gt;\n        &lt;i:EventTrigger EventName=\"TextChanged\" &gt;\n            &lt;local:ExecuteCommand Command=\"{Binding DoOnTextChanged}\"&gt;&lt;/local:ExecuteCommand&gt;\n        &lt;/i:EventTrigger&gt;\n    &lt;/i:Interaction.Triggers&gt;\n&lt;/TextBox&gt;\n\n&lt;TextBox Background=\"{Binding BackColor}\"&gt;&lt;/TextBox&gt;\n</code></pre>\n\n<p>Although it is a lot of code to accomplish something simple, it can be really helpful is certain cases. It is better to learn all the ways and use the one that fits perfectly to your need.</p>\n"}, {"comments": [{"owner": {"reputation": 20047, "user_id": 166452, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/I26rB.jpg?s=128&g=1", "display_name": "Ignacio Soler Garcia", "link": "https://stackoverflow.com/users/166452/ignacio-soler-garcia"}, "edited": false, "score": 2, "creation_date": 1519850860, "post_id": 49038117, "comment_id": 85081692, "body": "To me &quot;UI specific things&quot; its a code smell. Almost always there is a business need that originated the requirement that can be modeled in the ViewModel."}], "tags": [], "owner": {"reputation": 157, "user_id": 9418394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8A8VL.jpg?s=128&g=1", "display_name": "Raphael Hinterndorfer", "link": "https://stackoverflow.com/users/9418394/raphael-hinterndorfer"}, "is_accepted": false, "score": 0, "last_activity_date": 1519850228, "creation_date": 1519850228, "answer_id": 49038117, "question_id": 49037677, "link": "https://stackoverflow.com/questions/49037677/wpf-mvvm-how-to-update-ui-controllers-based-on-event/49038117#49038117", "title": "WPF MVVM : how to Update UI controllers based on Event", "body": "<p>I would try to keep UI specific things in the xaml as far as it possible and use triggers in that case.\nCheck following article about triggers and a converter for null values. <a href=\"https://stackoverflow.com/questions/356194/datatrigger-where-value-is-not-null\">DataTrigger where value is NOT null?</a></p>\n\n<p>As previous mentioned by Bradly Uffner you should modify your bindung and add <code>UpdateSourceTrigger=\"PropertyChanged\"</code> so the changes are immediately fired.</p>\n"}, {"comments": [{"owner": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "edited": false, "score": 0, "creation_date": 1519852175, "post_id": 49038207, "comment_id": 85082398, "body": "Thank you for the answer. It&#39;s strange for me that most MVVM solutions end up using PropertyChanged and then do the logic in the setters. While there&#39;s an event that might be used directly TextChanged. Does MVVM have a standard way of handling events! I was hoping there&#39;s something as easy as &lt;TextBox TextChanged = &quot;VM:ViewModelEventHandler&quot;/ &gt; but it seems to be not the case!"}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "reply_to_user": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "edited": false, "score": 0, "creation_date": 1519852289, "post_id": 49038207, "comment_id": 85082466, "body": "@user3382285 <code>PropertyChanged</code> is the heart of data-binding. It is absolutely essential to the MVVM pattern."}, {"owner": {"reputation": 20047, "user_id": 166452, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/I26rB.jpg?s=128&g=1", "display_name": "Ignacio Soler Garcia", "link": "https://stackoverflow.com/users/166452/ignacio-soler-garcia"}, "edited": false, "score": 1, "creation_date": 1519852488, "post_id": 49038207, "comment_id": 85082586, "body": "The main idea you should understand is that you don&#39;t want to change TextBox1 background when someone writes something into TextBox2, you want to do it when someone changes a value of something of your business."}], "tags": [], "owner": {"reputation": 20047, "user_id": 166452, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/I26rB.jpg?s=128&g=1", "display_name": "Ignacio Soler Garcia", "link": "https://stackoverflow.com/users/166452/ignacio-soler-garcia"}, "is_accepted": false, "score": 0, "last_activity_date": 1548540555, "last_edit_date": 1548540555, "creation_date": 1519850614, "answer_id": 49038207, "question_id": 49037677, "link": "https://stackoverflow.com/questions/49037677/wpf-mvvm-how-to-update-ui-controllers-based-on-event/49038207#49038207", "title": "WPF MVVM : how to Update UI controllers based on Event", "body": "<p>Well, I always prefer to follow <code>MVVM</code> when it's possible and it is perfectly possible in this situation:</p>\n\n<p>You are thinking in terms of <code>View</code> (update the TextBox1 background when the TextBox2 TextChanged) instead of thinking in terms of business logic (update the TextBox1 background when something in the business layer [the model for example] happens [a property changes its values?</p>\n\n<p>You should have a View with a TextBox1 and a TextBox2 and a ViewModel with some properties, for example:</p>\n\n<pre><code>/* These properties should implement PropertyChanged, I'm too lazy */\npublic string WhateverInputsTextBox1 { get; set; }\npublic string WhateverInputsTextBox2 { get; set; }\npublic bool WhateverMeansTextBox1HasChanged { get; set; }\n</code></pre>\n\n<p>Then you should set WhateverMeansTextBox1HasChanged to true when the content of WhatevernInputsTextBox1 changes (in the <code>set</code> of the property).</p>\n\n<p>Finally you must bind the TextBox1 text to the WhateverInputsTextBox1 property, the TextBox2 text to the WhateverInputsTextBox2 property and the TextBox1 background to the WhateverMeansTextBox1HasChanged property using a converter to convert the true to a color and the false to a different color (check <a href=\"https://msdn.microsoft.com/es-es/library/system.windows.data.ivalueconverter(v=vs.110).aspx\" rel=\"nofollow noreferrer\">IValueConverter</a>). Remember to set the binding to UpdateSourceTrigger=\"PropertyChanged\" where needed (this moves the data to the <code>ViewModel</code> when it is entered).</p>\n\n<p>This way you have all the business logic of the <code>View</code> into the <code>ViewModel</code> and you can test it if you want to as the result of having all the responsibilities correctly distributed.</p>\n\n<p>Another benefit is that (at least to me) is easier to understand the intention of the developer when I see that the background of a <code>TextBox</code> changes when \"<code>AccountNumberChanged</code>\" rather than when <code>TextBox2</code> is edited.</p>\n"}, {"tags": [], "owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "is_accepted": false, "score": 1, "last_activity_date": 1519852349, "last_edit_date": 1519852349, "creation_date": 1519851920, "answer_id": 49038541, "question_id": 49037677, "link": "https://stackoverflow.com/questions/49037677/wpf-mvvm-how-to-update-ui-controllers-based-on-event/49038541#49038541", "title": "WPF MVVM : how to Update UI controllers based on Event", "body": "<p>You can do all of that logic in the View-Model. This specific example uses the <a href=\"https://www.nuget.org/packages/AgentOctal.WpfLib\" rel=\"nofollow noreferrer\">AgentOctal.WpfLib</a> NuGet package (disclaimer: I am the author of this package) for the base <code>ViewModel</code> class that raises <code>PropertyChanged</code> notifications, but you can use whatever system you want, as long as it property implements <code>INotifyPropertyChanged</code>.</p>\n\n<hr>\n\n<p>In this example, the more letters you put in the first <code>TextBox</code>, the more blue the background of the 2nd <code>TextBox</code> gets.</p>\n\n<p>The first <code>TextBox</code> has its <code>Text</code> property bound to the <code>Text</code> property on the view-model.  The binding has <code>UpdateSourceTrigger</code> set to <code>PropertyChanged</code> so that the binding updates the view-model every time the property changes, not just when the control looses focus.</p>\n\n<p>The 2nd <code>TextBox</code> has its <code>Background</code> property bound to a <code>SolidColorBrush</code> property named <code>BackgroundColor</code> on the view-model.</p>\n\n<p>On the view-model, the setter of the <code>TextBox</code> contains the logic to determine to color of the 2nd <code>TextBox</code>.</p>\n\n<p>This could probably be implemented a little better by using a <code>Color</code> instead of a <code>SolidColorBrush</code>, and an <code>IValueConverter</code> that can change that <code>Color</code> in to a <code>Brush</code>, but it should server as a decent starting point.</p>\n\n<p>All the code lives in the view-model, the code-behind is empty.</p>\n\n<hr>\n\n<p>XAML:</p>\n\n<pre><code>&lt;Window\n    x:Class=\"VmBindingExample.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:local=\"clr-namespace:VmBindingExample\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    Title=\"MainWindow\"\n    Width=\"525\"\n    Height=\"350\"\n    mc:Ignorable=\"d\"&gt;\n    &lt;Window.DataContext&gt;\n        &lt;local:MainWindowVm /&gt;\n    &lt;/Window.DataContext&gt;\n    &lt;StackPanel Margin=\"20\" Orientation=\"Vertical\"&gt;\n        &lt;TextBox\n            Margin=\"4\"\n            MaxLength=\"10\"\n            Text=\"{Binding Path=Text, UpdateSourceTrigger=PropertyChanged}\" /&gt;\n        &lt;TextBox Margin=\"4\" Background=\"{Binding BackgroundColor}\"&gt;The color of this will reflect the length of the first textbox.&lt;/TextBox&gt;\n    &lt;/StackPanel&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<hr>\n\n<p>View-Model:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nusing AgentOctal.WpfLib;\n\nnamespace VmBindingExample\n{\n    using System.Windows.Media;\n\n    public class MainWindowVm : ViewModel\n    {\n        private string _text;\n\n        public string Text\n        {\n            get\n            {\n                return _text;\n            }\n\n            set\n            {\n                SetValue(ref _text, value);\n                byte red = (byte)(255 / 10 * (10 - _text.Length));\n                BackgroundColor = new SolidColorBrush(Color.FromArgb(255, red, 255, 255));\n            }\n        }\n\n        private Brush _backgroundColor;\n\n        public Brush BackgroundColor\n        {\n            get\n            {\n                return _backgroundColor;\n            }\n\n            set\n            {\n                SetValue(ref _backgroundColor, value);\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 3382285, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/592612370/picture?type=large", "display_name": "Muhannad", "link": "https://stackoverflow.com/users/3382285/muhannad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1190, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1548540555, "creation_date": 1519848282, "question_id": 49037677, "link": "https://stackoverflow.com/questions/49037677/wpf-mvvm-how-to-update-ui-controllers-based-on-event", "title": "WPF MVVM : how to Update UI controllers based on Event", "body": "<p>I have 2 TextBox controllers in my UserControl let's call them TextBox1 and TextBox2.</p>\n\n<p>In my old code I update the TextBox1 background when the TextBox2 TextChanged event is fired. Using an event handler in the xaml.cs, and that was easy and straightforward. </p>\n\n<pre><code>    private void textBox_TextChanged(object sender, TextChangedEventArgs e) {\n     // use controllers Names.\n    }\n</code></pre>\n\n<p>However I was reading that this violates the MVVM standards. Which is basically don't add extra code in the xaml.cs!</p>\n\n<p>During my search for an answer I found 2 approaches that I kinda understood :</p>\n\n<p>1- Some people suggested I use PropertyChanged to fire another event. I noticed that the PropertyChanged event wont fired until the TextBox loses focus. This is not what I'm looking for. I want TextBox1 to update immediately after a user input something to TextBox2. However, I'm still not sure where to tell the code \n\"change TextBox1 Background if TextBox TextChanged\".</p>\n\n<p>2- Another approach was using Behaviours which is totally new for me, I was able to fire the event TextChanged on TextBox2 immediately, but I didn't know how to access TextBox1 properties!</p>\n\n<p>My question: What is the proper way to handle the requirement I'm looking for in MVVM approach? </p>\n"}, {"tags": ["c#", ".net", "visual-studio-2012", "tfs", "azure-devops"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 5423571, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/vuFkZ.jpg?s=128&g=1", "display_name": "lsalvatore", "link": "https://stackoverflow.com/users/5423571/lsalvatore"}, "edited": false, "score": 0, "creation_date": 1519907291, "post_id": 49043157, "comment_id": 85103565, "body": "Thanks for the answer! :) Is there a way with that libraries use a personal token?"}, {"owner": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "reply_to_user": {"reputation": 81, "user_id": 5423571, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/vuFkZ.jpg?s=128&g=1", "display_name": "lsalvatore", "link": "https://stackoverflow.com/users/5423571/lsalvatore"}, "edited": false, "score": 0, "creation_date": 1519953443, "post_id": 49043157, "comment_id": 85127699, "body": "@lsalvatore I am using this package <a href=\"https://www.nuget.org/packages/Microsoft.TeamFoundationServer.ExtendedClient/\" rel=\"nofollow noreferrer\">nuget.org/packages/&hellip;</a> and the code <code>VssCredentials c = new VssCredentials(new Microsoft.VisualStudio.Services.Common.VssBasicCredential(st&zwnj;&#8203;ring.Empty, &quot;{personal access token}&quot;)); TfsTeamProjectCollection server = new TfsTeamProjectCollection(collectionUri, c);</code>"}], "tags": [], "owner": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "is_accepted": true, "score": 1, "last_activity_date": 1519882057, "creation_date": 1519882057, "answer_id": 49043157, "question_id": 49037630, "link": "https://stackoverflow.com/questions/49037630/another-way-to-authenticate-to-vsts-without-internet-explorer-popout/49043157#49043157", "title": "Another way to authenticate to VSTS without Internet Explorer popout?", "body": "<p>The reason is that it failed to authenticate with the specified username and password, so it prompts the popup window for authentication again. </p>\n\n<p>You can\u2019t use mail account with that way to authenticate, you can create an <strong>alternate authentication credential</strong> for authentication (<code>https://{account}.visualstudio.com/_details/security/altcreds</code>).</p>\n"}], "owner": {"reputation": 81, "user_id": 5423571, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/vuFkZ.jpg?s=128&g=1", "display_name": "lsalvatore", "link": "https://stackoverflow.com/users/5423571/lsalvatore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 49043157, "answer_count": 1, "score": 0, "last_activity_date": 1519882057, "creation_date": 1519848061, "last_edit_date": 1519858069, "question_id": 49037630, "link": "https://stackoverflow.com/questions/49037630/another-way-to-authenticate-to-vsts-without-internet-explorer-popout", "title": "Another way to authenticate to VSTS without Internet Explorer popout?", "body": "<p>I developed a sync agent in Visual Studio 2012 that extracts data from Visual Studio Services (VSTS). I am using the libraries <code>Microsoft.TeamFoundation.Client</code> and <code>Microsoft.TeamFoundation.WorkItemTracking.Client</code>. The snippet code that i'm authenticating against VSTS is </p>\n\n<pre><code> Uri collectionUri = new Uri(url);\n SimpleWebToken simpleWebToken = new SimpleWebToken(_password);\n NetworkCredential networkCredential = new NetworkCredential(_user, _password);             \n TfsTeamProjectCollection teamProjectCollection = new TfsTeamProjectCollection(collectionUri, networkCredential);\n teamProjectCollection.EnsureAuthenticated();\n</code></pre>\n\n<p>where <code>url</code> is the url of VSTS. \nIs there some reason of why i execute the last line <code>teamProjectCollection.EnsureAuthenticated();</code> it prompts me an IE window for authenticate and ignores the user and password in the code?</p>\n\n<p>Thanks for helping! </p>\n"}, {"tags": ["c#", "xml", "copy", "xmldocument", "xmlnode"], "answers": [{"tags": [], "owner": {"reputation": 2461, "user_id": 901290, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ISEyi.jpg?s=128&g=1", "display_name": "William Walseth", "link": "https://stackoverflow.com/users/901290/william-walseth"}, "is_accepted": true, "score": 0, "last_activity_date": 1519848864, "creation_date": 1519848864, "answer_id": 49037813, "question_id": 49037559, "link": "https://stackoverflow.com/questions/49037559/c-copying-multiple-xmlnodes-or-xmlnodelist-from-one-xmldocument-to-another/49037813#49037813", "title": "C# Copying Multiple XMLNodes or XMLNodeList from One XMLDocument to Another", "body": "<p>Create a root element in your finalXML, and append everything to the DocumentElement.  Just load a simple \"\n\n<pre><code>var xmlDoc = new XmlDocument();\n            var finalXmlDoc = new XMLDocument();\n            finalXmlDoc.LoadXml( \"&lt;xml/&gt;\" );\n\n\n            while (true)\n            {\n                 //BUILD URL FOR EACH ITERATION AND DO AN HTTP GET                                       \n\n                 xmlDoc.Load(prospectResp);\n\n                 var nodes = xmlDoc.DocumentElement.SelectNodes(\"/rsp/result/prospect\");\n\n                 foreach (XmlNode node in nodes)\n                 {\n                     impNode = finalXmlDoc.ImportNode(node, true);\n\n                     finalXmlDoc.DocumentElement.AppendChild(impNode);\n                 }                \n                 // EVENTUALLY BREAK LOOP AND EXPORT finalXmlDoc\n            }\n</code></pre>\n\n<p>\"</p>\n"}], "owner": {"reputation": 37, "user_id": 6918206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/440632145703cb63a759ad1e5ef5f32f?s=128&d=identicon&r=PG&f=1", "display_name": "B.Scar", "link": "https://stackoverflow.com/users/6918206/b-scar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 860, "favorite_count": 0, "accepted_answer_id": 49037813, "answer_count": 1, "score": 1, "last_activity_date": 1519848864, "creation_date": 1519847735, "question_id": 49037559, "link": "https://stackoverflow.com/questions/49037559/c-copying-multiple-xmlnodes-or-xmlnodelist-from-one-xmldocument-to-another", "title": "C# Copying Multiple XMLNodes or XMLNodeList from One XMLDocument to Another", "body": "<p>I've searched and searched, but haven't been able to find exactly what I'm looking for. It may just be my lack of understanding of XML as this is my first time really playing around with it.</p>\n\n<p>Basically I'm connecting to the Pardot API and requesting ALL prospects. However, the data is paged, so I only get 200 prospects at a time, and they are returned in XML format. What I need to do is, while in a loop that is continuously going through the paged data and getting XML responses, I need to copy each response's XML data over to a new document that, at the end, will have the contents of ALL the responses.</p>\n\n<p>I have something like this, which works upon the first iteration, but during the the next one it fails at the <code>finalXmlDoc.AppendChile(impNode);</code> with error message: \"This document already has a 'DocumentElement' node.\"</p>\n\n<pre><code>            var xmlDoc = new XmlDocument();\n            var finalXmlDoc = new XMLDocument();\n\n            while (true)\n            {\n                 //BUILD URL FOR EACH ITERATION AND DO AN HTTP GET                                       \n\n                 xmlDoc.Load(prospectResp);\n\n                 var nodes = xmlDoc.DocumentElement.SelectNodes(\"/rsp/result/prospect\");\n\n                 foreach (XmlNode node in nodes)\n                 {\n                     impNode = finalXmlDoc.ImportNode(node, true);\n\n                     finalXmlDoc.AppendChild(impNode);\n                 }                \n                 // EVENTUALLY BREAK LOOP AND EXPORT finalXmlDoc\n            }\n</code></pre>\n\n<p>This is what my searching has gotten me to, but I guessing there is a much easier way to do this. </p>\n"}, {"tags": ["c#", "arduino", "serial-port", "send"], "comments": [{"owner": {"reputation": 299, "user_id": 8703483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290da4be3d6762921c9b4501ea4f123c?s=128&d=identicon&r=PG&f=1", "display_name": "Stacking For Heap", "link": "https://stackoverflow.com/users/8703483/stacking-for-heap"}, "edited": false, "score": 0, "creation_date": 1519848814, "post_id": 49037475, "comment_id": 85080643, "body": "I am assuming your data_comm() works, so it looks like your IF &quot;OK&quot; does not trigger. Debug by printing the message-variable, I am guessing it has some white spaces or other characters so it does not evaluate correctly. Just check if the message string CONTAINS &quot;OK&quot; and see if it triggers?"}, {"owner": {"reputation": 31, "user_id": 7858958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/408f20ae6a90321365b8903c276c1a41?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas Michalek", "link": "https://stackoverflow.com/users/7858958/tomas-michalek"}, "reply_to_user": {"reputation": 299, "user_id": 8703483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290da4be3d6762921c9b4501ea4f123c?s=128&d=identicon&r=PG&f=1", "display_name": "Stacking For Heap", "link": "https://stackoverflow.com/users/8703483/stacking-for-heap"}, "edited": false, "score": 0, "creation_date": 1519848916, "post_id": 49037475, "comment_id": 85080702, "body": "I checked, and i have forgot to write it. message is OK, but it is not triggered"}, {"owner": {"reputation": 299, "user_id": 8703483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290da4be3d6762921c9b4501ea4f123c?s=128&d=identicon&r=PG&f=1", "display_name": "Stacking For Heap", "link": "https://stackoverflow.com/users/8703483/stacking-for-heap"}, "edited": false, "score": 0, "creation_date": 1519848997, "post_id": 49037475, "comment_id": 85080749, "body": "Try .contains to trigger after &quot;OK&quot;."}, {"owner": {"reputation": 31, "user_id": 7858958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/408f20ae6a90321365b8903c276c1a41?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas Michalek", "link": "https://stackoverflow.com/users/7858958/tomas-michalek"}, "reply_to_user": {"reputation": 299, "user_id": 8703483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290da4be3d6762921c9b4501ea4f123c?s=128&d=identicon&r=PG&f=1", "display_name": "Stacking For Heap", "link": "https://stackoverflow.com/users/8703483/stacking-for-heap"}, "edited": false, "score": 0, "creation_date": 1519849478, "post_id": 49037475, "comment_id": 85080995, "body": "Yes, it worked. Thank you so much :)"}], "owner": {"reputation": 31, "user_id": 7858958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/408f20ae6a90321365b8903c276c1a41?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas Michalek", "link": "https://stackoverflow.com/users/7858958/tomas-michalek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519849315, "creation_date": 1519847408, "last_edit_date": 1519849315, "question_id": 49037475, "link": "https://stackoverflow.com/questions/49037475/c-port-data-send-trouble", "title": "c# Port data send trouble", "body": "<p>I am making SW that uses CAD drawing to generate G-code, and then sends it to arduino. So far so good, everything work on arduino (Arduino UNO, I use Arduino IDE), except one thing. In one form, that is used to actually run G-code and show tool possition. When I run the program, C# app sends one line of G-code, Arduino receive it, runs it. It sends number of steps, that it have done, it works and shows ok. After it is done, it sends an <code>\"OK\"</code> message(it does) and after that message code should send another line of G-Code, but it does not. Could anyone help me? thanks</p>\n\n<p>Code in C#: \nRun button click: </p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n    {\n        button1.Enabled = false;\n        button1.Text = \"&lt;RUNNING&gt;\";\n        Thread.Sleep(2000);\n        while (!port.IsOpen)\n        {\n\n        }\n        if (port.IsOpen)\n        {\n            data_comm();\n\n        }\n    }\n</code></pre>\n\n<p>Read port:</p>\n\n<pre><code> public void Read()\n    {\n        while (port.IsOpen)\n        {\n            try\n            {\n                string message = port.ReadLine();\n                if (message == \"OK\")\n                {\n                    data_comm();\n                }\n                else\n                {\n                    SetText(message);\n                }\n            }\n            catch (TimeoutException) { }\n        }\n    }\n</code></pre>\n\n<p>Send data(G-Code):</p>\n\n<pre><code>public void data_comm()\n    {\n\n        textBox3.Text = SortedList;\n        string[] word = SortedList.Split(' ');\n        if (word[0] == \"G1\")\n        {\n            string x = Math.Round(double.Parse(word[1].Remove(0, 1), CultureInfo.InvariantCulture) / precission_X_Y, 0, MidpointRounding.ToEven).ToString().PadLeft(6, '0');\n            string y = Math.Round(double.Parse(word[2].Remove(0, 1), CultureInfo.InvariantCulture) / precission_X_Y, 0, MidpointRounding.ToEven).ToString().PadLeft(6, '0');\n            port.WriteLine(\"#G01X\" + x + \"Y\" + y);\n        }\n        else if (word[0] == \"G0\")\n        {\n            string x = Math.Round(double.Parse(word[1].Remove(0, 1), CultureInfo.InvariantCulture) / precission_X_Y, 0, MidpointRounding.ToEven).ToString().PadLeft(6, '0');\n            string y = Math.Round(double.Parse(word[2].Remove(0, 1), CultureInfo.InvariantCulture) / precission_X_Y, 0, MidpointRounding.ToEven).ToString().PadLeft(6, '0');\n            port.WriteLine(\"#G00X\" + x + \"Y\" + y);\n        }\n        i++;\n    }\n</code></pre>\n\n<p>Read position from Arduino:</p>\n\n<pre><code>private void SetText(string text)\n    {\n        Graphics g = pictureBox1.CreateGraphics();\n        g.TranslateTransform(0, pictureBox1.Height);\n        g.ScaleTransform(0.3f, -0.3f);\n\n\n        if (this.textBox1.InvokeRequired &amp;&amp; this.textBox2.InvokeRequired)\n        {\n            SetTextCallback d = new SetTextCallback(SetText);\n            this.Invoke(d, new object[] { text });\n\n        }\n        else\n        {\n\n            try\n            {\n                x_pos = Single.Parse(text.Substring(1, 6)) * 0.07f;\n                y_pos = Single.Parse(text.Substring(8, 6)) * 0.07f;\n                this.textBox1.Text = Math.Round(x_pos, 0, MidpointRounding.ToEven).ToString();\n                this.textBox2.Text = Math.Round(y_pos, 0, MidpointRounding.ToEven).ToString();\n                g.DrawRectangle(p, x_pos, y_pos, 1, 1);\n                string[] word = SortedList[i].Split(' ');\n\n            }\n            catch { }           \n\n        }\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/mmewx.png\" rel=\"nofollow noreferrer\"><code>message</code></a></p>\n"}, {"tags": ["c#", "json", "asp.net-mvc", "razor"], "comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1519847579, "post_id": 49037472, "comment_id": 85079997, "body": "You&#39;re returing a List&lt;string&gt; from your ActionResult, therefor, you would iterate that and just use var d in your li elements as it is already the value of title. Also what @Nkosi said."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1519847628, "post_id": 49037472, "comment_id": 85080015, "body": "You declare the model as <code>IEnumerable&lt;ProjectName.Models.Item&gt;</code> in the view yet you return a string from the controller.  This appears to be an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. What is the ultimate goal you are trying to achieve?"}, {"owner": {"reputation": 869, "user_id": 1173709, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff2a6752a89569473585cb893a3d9366?s=128&d=identicon&r=PG", "display_name": "HTML Man", "link": "https://stackoverflow.com/users/1173709/html-man"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1519847787, "post_id": 49037472, "comment_id": 85080103, "body": "@Nkosi I need to do a list of titles"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1519847823, "post_id": 49037472, "comment_id": 85080126, "body": "Update model in view to <code>IEnumerable&lt;string&gt;</code> and update loop as well. Do you need anything other than title from list?"}], "answers": [{"comments": [{"owner": {"reputation": 869, "user_id": 1173709, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff2a6752a89569473585cb893a3d9366?s=128&d=identicon&r=PG", "display_name": "HTML Man", "link": "https://stackoverflow.com/users/1173709/html-man"}, "edited": false, "score": 0, "creation_date": 1519848802, "post_id": 49037605, "comment_id": 85080638, "body": "Ok .. but what should I do if I need to include more information in the view such as the tags ...."}, {"owner": {"reputation": 869, "user_id": 1173709, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff2a6752a89569473585cb893a3d9366?s=128&d=identicon&r=PG", "display_name": "HTML Man", "link": "https://stackoverflow.com/users/1173709/html-man"}, "edited": false, "score": 0, "creation_date": 1519850666, "post_id": 49037605, "comment_id": 85081604, "body": "it&#39;s perfect but I think you have to write @tag not tag ... am I wrong?"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 869, "user_id": 1173709, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff2a6752a89569473585cb893a3d9366?s=128&d=identicon&r=PG", "display_name": "HTML Man", "link": "https://stackoverflow.com/users/1173709/html-man"}, "edited": false, "score": 0, "creation_date": 1519850715, "post_id": 49037605, "comment_id": 85081620, "body": "@HTMLMan Yeah that was a typo on my part."}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 1, "last_activity_date": 1519850699, "last_edit_date": 1519850699, "creation_date": 1519847964, "answer_id": 49037605, "question_id": 49037472, "link": "https://stackoverflow.com/questions/49037472/how-to-render-a-json-file-using-c-mvc/49037605#49037605", "title": "How to render a JSON file using C# MVC", "body": "<p>You declare the model as <code>IEnumerable&lt;ProjectName.Models.Item&gt;</code> in the view yet you return a list of strings from the controller. </p>\n\n<p>Update model in view to <code>IEnumerable&lt;string&gt;</code> and update loop as well.</p>\n\n<p>In View</p>\n\n<pre><code>@model IEnumerable&lt;string&gt;\n@{\n    ViewBag.Title = \"Index\";\n}\n&lt;h2&gt;Index&lt;/h2&gt;\n@foreach (var title in Model) {\n    &lt;li&gt;@title&lt;/li&gt;\n}\n</code></pre>\n\n<p>If you want to return more details then return the desired information from the controller.</p>\n\n<pre><code>public ActionResult Index() {\n    var items = new List&lt;ProjectName.Models.Item&gt;();\n\n    using (var streamreader = new StreamReader(path)) {\n        var json = streamreader.ReadToEnd();\n        Rootobject RO = JsonConvert.DeserializeObject&lt;Rootobject&gt;(json);\n\n        items = RO.items.ToList();\n    }\n\n    return View(items);\n}\n</code></pre>\n\n<p>and update the view accordingly</p>\n\n<p>For example.</p>\n\n<pre><code>@model IEnumerable&lt;ProjectName.Models.Item&gt;\n@{\n    ViewBag.Title = \"Index\";\n}\n&lt;h2&gt;Index&lt;/h2&gt;\n&lt;ul&gt;\n@foreach (var item in Model) {\n    &lt;li&gt;\n    &lt;h4&gt;@item.title&lt;/h4&gt;\n    @foreach (var tag in item.tags) {\n        &lt;p&gt;@tag&lt;/p&gt;\n    }\n    &lt;/li&gt;\n}\n&lt;/ul&gt;\n</code></pre>\n"}], "owner": {"reputation": 869, "user_id": 1173709, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff2a6752a89569473585cb893a3d9366?s=128&d=identicon&r=PG", "display_name": "HTML Man", "link": "https://stackoverflow.com/users/1173709/html-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "accepted_answer_id": 49037605, "answer_count": 1, "score": 1, "last_activity_date": 1519850699, "creation_date": 1519847402, "last_edit_date": 1519848154, "question_id": 49037472, "link": "https://stackoverflow.com/questions/49037472/how-to-render-a-json-file-using-c-mvc", "title": "How to render a JSON file using C# MVC", "body": "<p>I need to render a JSON file in C# using MVC.</p>\n\n<p>I wrote</p>\n\n<p><strong>In Controller</strong></p>\n\n<pre><code>public ActionResult Index()\n{\n    List&lt;string&gt; Title = new List&lt;string&gt;();\n\n    using (StreamReader streamreader = new StreamReader(path))\n    {\n        var json = streamreader.ReadToEnd();\n        Rootobject RO = JsonConvert.DeserializeObject&lt;Rootobject&gt;(json);\n\n        Title = RO.items.Select(x =&gt; x.title).ToList();\n    }\n\n    return View(Title);\n}\n</code></pre>\n\n<p><strong>In Model</strong></p>\n\n<pre><code>public class Rootobject\n{\n    public Item[] items { get; set; }\n    public bool has_more { get; set; }\n    public int quota_max { get; set; }\n    public int quota_remaining { get; set; }\n}\n\npublic class Item\n{\n    public string[] tags { get; set; }\n    public Owner owner { get; set; }\n    public bool is_answered { get; set; }\n    public int view_count { get; set; }\n    public int answer_count { get; set; }\n    public int score { get; set; }\n    public int last_activity_date { get; set; }\n    public int creation_date { get; set; }\n    public int question_id { get; set; }\n    public string link { get; set; }\n    public string title { get; set; }\n    public int last_edit_date { get; set; }\n}\n\npublic class Owner\n{\n    public int reputation { get; set; }\n    public int user_id { get; set; }\n    public string user_type { get; set; }\n    public int accept_rate { get; set; }\n    public string profile_image { get; set; }\n    public string display_name { get; set; }\n    public string link { get; set; }\n}\n</code></pre>\n\n<p><strong>In View</strong></p>\n\n<pre><code>@model IEnumerable&lt;ProjectName.Models.Item&gt;\n@{\n    ViewBag.Title = \"Index\";\n}\n&lt;h2&gt;Index&lt;/h2&gt;\n@foreach (var d in Model)\n{\n    &lt;li&gt;@d.title&lt;/li&gt;\n}\n</code></pre>\n\n<p>I got an error once I open the web page. I need to list all title of a JSON file, but I cannot get the list. So all I need is to render the data in an html file</p>\n"}, {"tags": ["c#", "xamarin", "mvvm", "data-binding", "binding"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1519847574, "post_id": 49037444, "comment_id": 85079994, "body": "Content is not a bindable property.  You could wire up a method to the ItemCount setter to refresh your UI whenever ItemCount was updated."}, {"owner": {"reputation": 439, "user_id": 7107533, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/72ea2f642612b5eb837bcbdbdbe09f79?s=128&d=identicon&r=PG&f=1", "display_name": "MrProgrammer", "link": "https://stackoverflow.com/users/7107533/mrprogrammer"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1519862994, "post_id": 49037444, "comment_id": 85086738, "body": "Exactly what I needed to know. Thanks for the advice. Whenever you get a chance, could you post that as an answer for me to check?"}], "answers": [{"tags": [], "owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "is_accepted": true, "score": 1, "last_activity_date": 1519865642, "creation_date": 1519865642, "answer_id": 49041034, "question_id": 49037444, "link": "https://stackoverflow.com/questions/49037444/how-to-bind-a-contentview-to-a-property/49041034#49041034", "title": "How to bind a ContentView to a property?", "body": "<p>Content is not a bindable property. </p>\n\n<p>You could wire up a method to the ItemCount setter to refresh your UI whenever ItemCount was updated. </p>\n"}, {"tags": [], "owner": {"reputation": 144, "user_id": 1424752, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/195d72453ee78b0afbddf814eeec9d29?s=128&d=identicon&r=PG", "display_name": "Nicolas Charette-Naud", "link": "https://stackoverflow.com/users/1424752/nicolas-charette-naud"}, "is_accepted": false, "score": 0, "last_activity_date": 1519866422, "creation_date": 1519866422, "answer_id": 49041133, "question_id": 49037444, "link": "https://stackoverflow.com/questions/49037444/how-to-bind-a-contentview-to-a-property/49041133#49041133", "title": "How to bind a ContentView to a property?", "body": "<p>When you are creating a view by yourself, the Xamarin engine can't know the property is changed unless you notify that a change occurs.</p>\n\n<p>You have 2 solutions:</p>\n\n<ul>\n<li><p>Implement interface INotifyPropertyChanged on your view, so that Xamarin could bind to your event \"PropertyChanged\"</p></li>\n<li><p>(Sincertly my favorite) Use MVVM Helpers nuget <a href=\"https://github.com/jamesmontemagno/mvvm-helpers\" rel=\"nofollow noreferrer\">https://github.com/jamesmontemagno/mvvm-helpers</a> which simplify the implementation. ex:</p></li>\n</ul>\n\n<p>Your Model</p>\n\n<pre><code>public class MyViewModel : BaseViewModel // From MVVM Helpers nuget\n{\n    private IEnumerable&lt;int&gt; count;\n    public IEnumerable&lt;int&gt; Count\n    {\n        get { return count; }\n        set { SetProperty(ref count, value); }\n    }\n}\n</code></pre>\n\n<p>Your View</p>\n\n<pre><code>public class MyView : ContentView\n{\n    private MyViewModel Vm { get; set; }\n\n    public MyView()\n    {\n        this.Vm = new MyViewModel();\n        this.BindingContext = this.Vm;\n    }\n\n    public void DoSomething()\n    {\n        this.Vm.Count = 42;\n    }\n}\n</code></pre>\n\n<p>Add Binding in your Xaml</p>\n\n<pre><code>&lt;Label Text = \"{Binding Count}\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 439, "user_id": 7107533, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/72ea2f642612b5eb837bcbdbdbe09f79?s=128&d=identicon&r=PG&f=1", "display_name": "MrProgrammer", "link": "https://stackoverflow.com/users/7107533/mrprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 728, "favorite_count": 0, "accepted_answer_id": 49041034, "answer_count": 2, "score": 0, "last_activity_date": 1519866422, "creation_date": 1519847280, "question_id": 49037444, "link": "https://stackoverflow.com/questions/49037444/how-to-bind-a-contentview-to-a-property", "title": "How to bind a ContentView to a property?", "body": "<p>I'm having a hard time binding a ContentView to a property in a C# Xamarin app.</p>\n\n<p>Here is how I'm composing it:</p>\n\n<pre><code>protected override View MyView\n{\n    get\n    {\n        if (_myView == null)\n        {\n            _myView = new ContentView\n            {\n                HorizontalOptions = LayoutOptions.FillAndExpand,\n                VerticalOptions = LayoutOptions.StartAndExpand,\n                Padding = new Thickness(0, 40),\n                Content = new StackLayout(),\n            };\n\n            if (Vm.ItemCount &gt; 0)\n            {\n                (_myView.Content as StackLayout).Children.Add(MyListview);\n            }\n            else\n            {\n                (_myView.Content as StackLayout).Children.Add(NothingExistsLabel);\n            }\n        }\n\n        return _myView;\n    }\n}\n</code></pre>\n\n<p>Now Vm.ItemCount can change any time, but the UI does not get updated.</p>\n\n<p>Is there a way I can databind the ContentView to the Vm.ItemCount, such that the UI would update itself automatically whenever the ItemCount changes?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "asp.net", "session", "ef-code-first", "session-variables"], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 8683556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a62a60f6789aa8db24cd52e9033a692c?s=128&d=identicon&r=PG&f=1", "display_name": "MCoder", "link": "https://stackoverflow.com/users/8683556/mcoder"}, "is_accepted": true, "score": 0, "last_activity_date": 1519849918, "creation_date": 1519849918, "answer_id": 49038036, "question_id": 49037434, "link": "https://stackoverflow.com/questions/49037434/how-to-get-a-value-from-session-in-c-and-how-session-value-will-be-displayed/49038036#49038036", "title": "How to get a value from Session in C# and how session value will be displayed?", "body": "<p>Add value to session</p>\n\n<pre><code>Session[\"UserName\"] = model.UserName;\n</code></pre>\n\n<p>Retrieve value from session</p>\n\n<pre><code>string UserName = Session[\"UserName\"].ToString();\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9312590"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 49038036, "answer_count": 1, "score": 0, "last_activity_date": 1519849918, "creation_date": 1519847247, "question_id": 49037434, "link": "https://stackoverflow.com/questions/49037434/how-to-get-a-value-from-session-in-c-and-how-session-value-will-be-displayed", "title": "How to get a value from Session in C# and how session value will be displayed?", "body": "<p>I am working on a ASP.NET MVC project using entity framework code first approach.</p>\n\n<p>I want to know that when a user a logs in how can we get the value from a session and how the session value be displayed?</p>\n"}, {"tags": ["c#", "asp.net"], "answers": [{"tags": [], "owner": {"reputation": 120, "user_id": 7643427, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7ef0fa147706d720694fd6fba96fbb3d?s=128&d=identicon&r=PG&f=1", "display_name": "joseph.c", "link": "https://stackoverflow.com/users/7643427/joseph-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1521075550, "creation_date": 1521075550, "answer_id": 49289956, "question_id": 49037400, "link": "https://stackoverflow.com/questions/49037400/child-gird-checkbox-would-not-update-correctly/49289956#49289956", "title": "child gird checkbox would not update correctly", "body": "<p>I found somewhat an answer to my own question, and it has to do with how the child grid is displayed. </p>\n\n<p>The following code hide the <strong>true child grid</strong> in the cell of the parent grid. The reason I call it the true child grid is cause if I perform the same action on this grid, everything works as expected, right, and functional.</p>\n\n<pre><code>&lt;asp:Panel ID=\"pnlSelectExpand\" runat=\"server\" Style=\"display: none\"&gt;\n</code></pre>\n\n<p>I believe it has to do with how the expandable panel works, which is the following code</p>\n\n<pre><code>&lt;img alt = \"\" style=\"cursor: pointer\" src=\"Images/plus.png\" id=\"ExpandRows\" class=\"expand\" /&gt;\n</code></pre>\n\n<p>Marking the true child grid cg1, expandable grid cg2. When the checkbox of the parent grid is checked, updating the checkbox in cg1 will also update cg2, but not the other way around. Meaning cg2 is a mirror, or a one way pointer to cg1 that just won't update the true child grid.</p>\n\n<p>If anyone has other suggestion or answer please correct me. I am posting my finding here just for anyone stumble upon the same issue and hopefully he/she will not waste much time as I did.</p>\n"}], "owner": {"reputation": 120, "user_id": 7643427, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7ef0fa147706d720694fd6fba96fbb3d?s=128&d=identicon&r=PG&f=1", "display_name": "joseph.c", "link": "https://stackoverflow.com/users/7643427/joseph-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521075550, "creation_date": 1519847103, "last_edit_date": 1519856726, "question_id": 49037400, "link": "https://stackoverflow.com/questions/49037400/child-gird-checkbox-would-not-update-correctly", "title": "child gird checkbox would not update correctly", "body": "<p>I have a nested grid with checkbox in both grid. The checkbox in parent grid has a OnCheckedChanged event to check all checkbox in the parent grid, and another to check all checkbox in the child grid with checkbox in each row.</p>\n\n<p><strong>ASPX</strong></p>\n\n<pre><code>&lt;asp:GridView ID=\"gvSelect\" runat=\"server\" AutoGenerateColumns=\"false\" OnRowDataBound=\"gvSelect_DataBound\"\n              BackColor=\"White\" BorderColor=\"#CC9966\" BorderStyle=\"None\" BorderWidth=\"1px\" CellPadding=\"4\" DataKeyNames=\"ItemNumber\"&gt;\n    &lt;Columns&gt;\n        &lt;asp:BoundField Visible=\"False\" DataField=\"RecordUID\" SortExpression=\"RecordUID\" HeaderText=\"RecordUID\" ReadOnly=\"True\" /&gt;\n        &lt;asp:TemplateField&gt;\n            &lt;ItemTemplate&gt;\n                &lt;img alt = \"\" style=\"cursor: pointer\" src=\"Images/plus.png\" id=\"ExpandRows\" class=\"expand\" /&gt;\n                &lt;asp:Panel ID=\"pnlSelectExpand\" runat=\"server\" Style=\"display: none\"&gt;\n                    &lt;asp:GridView ID=\"gvSelectExpand\" runat=\"server\" Width=\"350px\" AutoGenerateColumns=\"false\" DataKeyNames=\"Slab\"&gt;\n                        &lt;Columns&gt;\n                            &lt;asp:TemplateField HeaderText=\"Select\"&gt;\n                                &lt;ItemTemplate&gt;\n                                    &lt;asp:CheckBox ID=\"chkSelectExpand\" runat=\"server\" OnCheckedChanged=\"chkSelectExpand_CheckedChanged\" AutoPostBack=\"true\" /&gt;\n                                &lt;/ItemTemplate&gt;\n                            &lt;/asp:TemplateField&gt;\n                            &lt;asp:BoundField DataField=\"Slab\" SortExpression=\"Slab\" ReadOnly=\"True\" HeaderText=\"Slab\" /&gt;\n                            &lt;asp:BoundField DataField=\"Size\" SortExpression=\"Size\" ReadOnly=\"True\" HeaderText=\"Size\" /&gt;\n                            &lt;asp:BoundField DataField=\"Sqft\" SortExpression=\"Sqft\" ReadOnly=\"True\" HeaderText=\"Sqft\" ItemStyle-HorizontalAlign=\"Right\" /&gt;\n                            &lt;asp:BoundField DataField=\"Block\" SortExpression=\"Block\" ReadOnly=\"True\" HeaderText=\"Block\" ItemStyle-HorizontalAlign=\"Right\" /&gt;\n                            &lt;asp:BoundField DataField=\"Totalweight\" SortExpression=\"Totalweight\" ReadOnly=\"True\" HeaderText=\"Totalweight\" ItemStyle-HorizontalAlign=\"Right\" /&gt;\n                        &lt;/Columns&gt;\n                        &lt;RowStyle ForeColor=\"#663399\" /&gt;\n                        &lt;FooterStyle BackColor=\"#990000\" Font-Bold=\"True\" ForeColor=\"White\" HorizontalAlign=\"Right\" /&gt;\n                        &lt;PagerStyle BackColor=\"#FFCC66\" ForeColor=\"#333333\" HorizontalAlign=\"Center\" /&gt;\n                        &lt;SelectedRowStyle BackColor=\"#FFCC66\" Font-Bold=\"True\" ForeColor=\"Navy\" /&gt;\n                        &lt;HeaderStyle Font-Bold=\"True\" ForeColor=\"#FFFFCC\" BackColor=\"#990000\" /&gt;\n                    &lt;/asp:GridView&gt;\n                &lt;/asp:Panel&gt;\n            &lt;/ItemTemplate&gt;\n        &lt;/asp:TemplateField&gt;\n        &lt;asp:TemplateField HeaderText=\"Select\"&gt;\n            &lt;HeaderTemplate&gt;\n                &lt;asp:CheckBox ID=\"chkSelectAll\" runat=\"server\" Font-Names=\"Verdana\" Font-Size=\"XX-Small\" Text=\"Select All Slabs\"\n                              OnCheckedChanged=\"chkSelectAll_CheckedChanged\" AutoPostBack=\"true\" /&gt;\n            &lt;/HeaderTemplate&gt;\n            &lt;ItemTemplate&gt;\n                &lt;asp:CheckBox ID=\"chkSelect\" runat=\"server\" OnCheckedChanged=\"chkSelect_CheckedChanged\" AutoPostBack=\"true\" /&gt;\n            &lt;/ItemTemplate&gt;\n        &lt;/asp:TemplateField&gt;\n        &lt;asp:BoundField DataField=\"Bundle\" SortExpression=\"Bundle\" ReadOnly=\"True\" \n            HeaderText=\"Bundle\" /&gt;\n        &lt;asp:BoundField DataField=\"ItemNumber\" SortExpression=\"ItemNumber\" \n            ReadOnly=\"True\" HeaderText=\"ItemNumber\" /&gt;\n        &lt;asp:BoundField DataField=\"ItemDescription\" SortExpression=\"ItemDescription\" \n            ReadOnly=\"True\" HeaderText=\"ItemDesc\" /&gt;\n        &lt;asp:BoundField DataField=\"whse\" SortExpression=\"whse\" ReadOnly=\"True\" \n            HeaderText=\"Warehouse\" /&gt;\n        &lt;asp:BoundField DataField=\"NumSlabs\" SortExpression=\"NumSlabs\" ReadOnly=\"True\" \n            HeaderText=\"NumSlabs\" ItemStyle-HorizontalAlign=\"Right\" /&gt;\n        &lt;asp:BoundField DataField=\"QtyTiedUp\" SortExpression=\"QtyTiedUp\" ReadOnly=\"True\" \n            HeaderText=\"QtyTiedUp\" ItemStyle-HorizontalAlign=\"Right\" /&gt;\n    &lt;/Columns&gt;\n    &lt;PagerSettings Position=\"TopAndBottom\" /&gt;\n    &lt;RowStyle ForeColor=\"#663399\" /&gt;\n    &lt;FooterStyle BackColor=\"#990000\" Font-Bold=\"True\" ForeColor=\"White\" HorizontalAlign=\"Right\" /&gt;\n    &lt;PagerStyle BackColor=\"#FFCC66\" ForeColor=\"#333333\" HorizontalAlign=\"Center\" /&gt;\n    &lt;SelectedRowStyle BackColor=\"#FFCC66\" Font-Bold=\"True\" ForeColor=\"Navy\" /&gt;\n    &lt;HeaderStyle Font-Bold=\"True\" ForeColor=\"#FFFFCC\" BackColor=\"#990000\" /&gt;\n&lt;/asp:GridView&gt;\n</code></pre>\n\n<p>Here are my code behind for the OnCheckedChanged</p>\n\n<p><strong>CS</strong></p>\n\n<pre><code>protected void chkSelectAll_CheckedChanged(object sender, EventArgs e)\n{\n    CheckBox ChkBoxHeader = (CheckBox)gvSelect.HeaderRow.FindControl(\"chkSelectAll\");\n    foreach (GridViewRow row in gvSelect.Rows)\n    {\n        CheckBox ChkBoxRows = (CheckBox)row.FindControl(\"chkSelect\");\n        if (ChkBoxHeader.Checked == true)\n        {\n            ChkBoxRows.Checked = true;\n        }\n        else\n        {\n            ChkBoxRows.Checked = false;\n        }\n        bool status = ChkBoxRows.Checked;\n\n        GridView gvSelectExpand = (GridView)row.FindControl(\"gvSelectExpand\");\n        foreach (GridViewRow gvSelectExpandRow in gvSelectExpand.Rows)\n        {\n            CheckBox chkSelectExpand = (CheckBox)gvSelectExpandRow.FindControl(\"chkSelectExpand\");\n            if (status)\n                chkSelectExpand.Checked = true;\n            else\n                chkSelectExpand.Checked = false;\n        }\n    }\n}\n\nprotected void chkSelect_CheckedChanged(object sender, EventArgs e)\n{\n    CheckBox ckb = (CheckBox)sender;\n    GridViewRow row = (GridViewRow)ckb.NamingContainer;\n\n    CheckBox ChkBoxRows = (CheckBox)row.FindControl(\"chkSelect\");\n    bool status = ChkBoxRows.Checked;\n    GridView gvSelectExpand = (GridView)row.FindControl(\"gvSelectExpand\");\n\n    foreach (GridViewRow gvSelectExpandRow in gvSelectExpand.Rows)\n    {\n        CheckBox chkSelectExpand = (CheckBox)gvSelectExpandRow.FindControl(\"chkSelectExpand\");\n        if (status)\n            chkSelectExpand.Checked = true;\n        else\n            chkSelectExpand.Checked = false;\n    }\n}\n\nprotected void chkSelectExpand_CheckedChanged(object sender, EventArgs e)\n{\n    ;\n}\n</code></pre>\n\n<p><strong>Question</strong></p>\n\n<p>The issue is </p>\n\n<ul>\n<li>when I have the chkSelect(checkbox in parent grid row) checked, if I tried to uncheck 1 or more of the chkSelectExpand(checkbox in child grid), it will do a postback and end up checked all checkbox in that child grid again. </li>\n<li>If the chkSelect is not checked, I do not have this issue. </li>\n</ul>\n\n<p>However the postback doesn't triggers chkSelect_CheckedChanged, I put a breakpoint by the function in debug so I can be sure about it. </p>\n\n<p>How do I fix this issue? Please help me out, thanks.</p>\n"}, {"tags": ["c#", "dictionary", "singleton"], "comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1519846813, "post_id": 49037334, "comment_id": 85079633, "body": "Is there a question here?"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1519846852, "post_id": 49037334, "comment_id": 85079662, "body": "I&#39;m voting to close this question as off-topic because it probably belongs on Code Review"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1519846878, "post_id": 49037334, "comment_id": 85079674, "body": "Why does your class implement IDisposable?  This makes no sense"}, {"owner": {"reputation": 1, "user_id": 9425420, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ku ttan ", "link": "https://stackoverflow.com/users/9425420/ku-ttan"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1519846889, "post_id": 49037334, "comment_id": 85079678, "body": "@NetMage, I want to implement a thread safe Singleton dictionary class"}, {"owner": {"reputation": 1, "user_id": 9425420, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ku ttan ", "link": "https://stackoverflow.com/users/9425420/ku-ttan"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1519846974, "post_id": 49037334, "comment_id": 85079713, "body": "@maccettura - thanks, yes it won&#39;t make any sense. Is my implementation thread safe?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 2, "creation_date": 1519847026, "post_id": 49037334, "comment_id": 85079733, "body": "The <code>ConcurrentDictionary</code> is a thread-safe <code>Dictionary</code>"}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 1, "creation_date": 1519847045, "post_id": 49037334, "comment_id": 85079744, "body": "Or use <code>System.Runtime.Caching.MemoryCache</code>"}, {"owner": {"reputation": 1, "user_id": 9425420, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ku ttan ", "link": "https://stackoverflow.com/users/9425420/ku-ttan"}, "edited": false, "score": 0, "creation_date": 1519847385, "post_id": 49037334, "comment_id": 85079897, "body": "ok, I will use ConcurrentDictionary instead of Dictionary"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1519850570, "post_id": 49037334, "comment_id": 85081562, "body": "<code>mycoll.Add(name, value);</code> should be <code>mycoll[name] = value;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": false, "score": 1, "last_activity_date": 1519873493, "creation_date": 1519873493, "answer_id": 49041984, "question_id": 49037334, "link": "https://stackoverflow.com/questions/49037334/how-to-implement-a-thread-safe-singleton-dictionary-class-for-caching/49041984#49041984", "title": "How to implement a thread safe singleton dictionary class for caching?", "body": "<p>First declare an interface that describes how you want to use this. Perhaps <code>ICache</code> with a get and set method. (I'd steer clear of <code>dynamic</code>.) </p>\n\n<pre><code>public interface ICache\n{\n    T Get&lt;T&gt;(string key);\n    void Set(string key, object value);\n}\n</code></pre>\n\n<p>Then write an implementation. Your implementation doesn't need to specify what the internals are.</p>\n\n<pre><code>public class Cache : ICache\n{\n    private readonly ConcurrentDictionary&lt;string, object&gt; _cache \n        = new ConcurrentDictionary&lt;string, object&gt;();\n    public T Get&lt;T&gt;(string key)\n    {\n        object cached;\n        if(_cache.TryGetValue(key, out cached) &amp;&amp; cached is T)\n        {\n            return(T) cached;\n        }\n        return default(T);\n    }\n\n    public void Set(string key, object value)\n    {\n        _cache.AddOrUpdate(key, value, (s, o) =&gt; value);\n    }\n}\n</code></pre>\n\n<p>If you want to make this a singleton, you can make the constructor private and create a static singleton instance. I would lean toward not doing that. It's better for other classes to depend on the <code>ICache</code> interface than on the implementation, and an interface doesn't have static methods.</p>\n\n<p>Depending on the interface means that you can substitute it with different implementations, like one that depends on <code>MemoryCache</code>.</p>\n\n<pre><code>public class InMemoryCache : ICache\n{\n    private readonly MemoryCache _cache = MemoryCache.Default;\n\n    public T Get&lt;T&gt;(string key)\n    {\n        var cached = _cache[key];\n        return cached is T ? (T) cached : default(T);\n    }\n\n    public void Set(string key, object value)\n    {\n        _cache[key] = value;\n    }\n}\n</code></pre>\n\n<p>If you use a dependency injection (IoC) container you can tell it which implementation of <code>ICache</code> to use for a class that needs an instance of it, and you can specify that the same instance should be provided each time. That way you get to use a single instance of your class as if it was a singleton without having to code it as a singleton. </p>\n"}], "owner": {"reputation": 1, "user_id": 9425420, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ku ttan ", "link": "https://stackoverflow.com/users/9425420/ku-ttan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1055, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519873493, "creation_date": 1519846745, "question_id": 49037334, "link": "https://stackoverflow.com/questions/49037334/how-to-implement-a-thread-safe-singleton-dictionary-class-for-caching", "title": "How to implement a thread safe singleton dictionary class for caching?", "body": "<p>I am trying to implement a thread safe dictionary singleton class for caching purpose. </p>\n\n<pre><code>namespace SingletomDict\n{\npublic sealed class MySingleton:IDisposable\n{\n    private static readonly Lazy&lt;MySingleton&gt; coll = new Lazy&lt;MySingleton&gt;(() =&gt; new MySingleton());\n\n    private static Dictionary&lt;string, object&gt; mycoll;\n\n    public static MySingleton Instance \n    {\n        get\n        {\n            return coll.Value;\n        }\n    }\n\n    private MySingleton()\n    {\n        mycoll = new Dictionary&lt;string, object&gt;();\n    }\n\n    private void SetProperty&lt;T&gt;(string name, T value)\n    {\n        mycoll.Add(name, value);\n    }\n\n    private object GetProperty(string name)\n    {\n        object value = mycoll[name];\n        return value;\n    }\n\n    public dynamic this[string index]\n    {\n        get { return GetProperty(index); }\n        set { SetProperty(index, value); }\n    }\n    public void ReSet()\n    {\n        mycoll = new Dictionary&lt;string, object&gt;();\n    }\n}\n</code></pre>\n\n<p>In the main method, I will be invoking the object as</p>\n\n<pre><code>  MySingleton.Instance[\"LS\"] = \"AAA\";\n\n  MySingleton.Instance[\"AB\"] = \"BBB\";\n\n  MySingleton.Instance.ReSet();\n</code></pre>\n\n<p>I  did some research to find the correct implementation. But I couldn't find the appropriate example. Thanks</p>\n"}, {"tags": ["c#", "chatbot", "microsoft-cognitive", "qnamaker"], "comments": [{"owner": {"reputation": 12807, "user_id": 3136339, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CyHpv.jpg?s=128&g=1", "display_name": "Nicolas R", "link": "https://stackoverflow.com/users/3136339/nicolas-r"}, "edited": false, "score": 0, "creation_date": 1520003171, "post_id": 49037315, "comment_id": 85149034, "body": "You added the [chatbot] tag, are you using [botframework]? Which tooManyAttemps label are you talking about, the one when you are selecting a value when several are matching?"}, {"owner": {"reputation": 43, "user_id": 9425408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Rate Reality", "link": "https://stackoverflow.com/users/9425408/rate-reality"}, "reply_to_user": {"reputation": 12807, "user_id": 3136339, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CyHpv.jpg?s=128&g=1", "display_name": "Nicolas R", "link": "https://stackoverflow.com/users/3136339/nicolas-r"}, "edited": false, "score": 0, "creation_date": 1520103957, "post_id": 49037315, "comment_id": 85181681, "body": "Yes I use the botframework. I talking about that. I can not intercept it"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 9425408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Rate Reality", "link": "https://stackoverflow.com/users/9425408/rate-reality"}, "edited": false, "score": 0, "creation_date": 1520622792, "post_id": 49100913, "comment_id": 85406357, "body": "So it&#39;s impossible to track this value ?"}, {"owner": {"reputation": 12807, "user_id": 3136339, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CyHpv.jpg?s=128&g=1", "display_name": "Nicolas R", "link": "https://stackoverflow.com/users/3136339/nicolas-r"}, "reply_to_user": {"reputation": 43, "user_id": 9425408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Rate Reality", "link": "https://stackoverflow.com/users/9425408/rate-reality"}, "edited": false, "score": 0, "creation_date": 1520622923, "post_id": 49100913, "comment_id": 85406421, "body": "As I said, you can do it,but you have to get several classes from github to re-implement all the QnADialog on your side"}], "tags": [], "owner": {"reputation": 12807, "user_id": 3136339, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CyHpv.jpg?s=128&g=1", "display_name": "Nicolas R", "link": "https://stackoverflow.com/users/3136339/nicolas-r"}, "is_accepted": true, "score": 0, "last_activity_date": 1520200569, "creation_date": 1520200569, "answer_id": 49100913, "question_id": 49037315, "link": "https://stackoverflow.com/questions/49037315/qnamakerdialog-too-many-attempts/49100913#49100913", "title": "QnaMakerDialog too many attempts", "body": "<p>If you have a look to the implementation of <code>QnAMakerDialog</code> on Github (<a href=\"https://github.com/Microsoft/BotBuilder-CognitiveServices/blob/master/CSharp/Library/QnAMaker/QnAMaker/QnAMakerDialog.cs#L181\" rel=\"nofollow noreferrer\">here</a>), you will find that the message is declared here:</p>\n\n<pre><code>protected virtual async Task QnAFeedbackStepAsync(IDialogContext context, QnAMakerResults qnaMakerResults)\n{\n    var qnaList = qnaMakerResults.Answers;\n    var questions = qnaList.Select(x = &gt;x.Questions[0]).Concat(new[] {\n        Resource.Resource.noneOfTheAboveOption\n    }).ToArray();\n\n    PromptOptions &lt; string &gt; promptOptions = new PromptOptions &lt; string &gt; (\n    prompt: Resource.Resource.answerSelectionPrompt, tooManyAttempts: Resource.Resource.tooManyAttempts, options: questions, attempts: 0);\n\n    PromptDialog.Choice(context: context, resume: ResumeAndPostAnswer, promptOptions: promptOptions);\n}\n</code></pre>\n\n<p>As you can see, the message sent when the <code>TooManyAttemptsException</code> is thrown is in the Resources of the package: <code>Resource.Resource.tooManyAttempts</code>. </p>\n\n<p>You could think about overriding the method, but you will soon face the problem of having to reference undefined methods: here the <code>ResumeAndPostAnswer</code> is defined as private, so not visible.</p>\n\n<p>So one of the solutions, sadly, would be to get all the necessary sources from the GitHub project (that is to say get almost all the QnAMakerDialog implementation)</p>\n"}], "owner": {"reputation": 43, "user_id": 9425408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Rate Reality", "link": "https://stackoverflow.com/users/9425408/rate-reality"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 49100913, "answer_count": 1, "score": 2, "last_activity_date": 1520200569, "creation_date": 1519846669, "last_edit_date": 1520003053, "question_id": 49037315, "link": "https://stackoverflow.com/questions/49037315/qnamakerdialog-too-many-attempts", "title": "QnaMakerDialog too many attempts", "body": "<p>I developed a bot using pakage qna maker and I need to change the label for the tooManyAttempts ressource because in french it's not the best word used.\nCan I change the ressource ? Or Can I tracked the tooManyAttempts var to change his value ?</p>\n\n<p>Thanks you for your help</p>\n"}, {"tags": ["c#", "asp.net-mvc", "dependency-injection", "unity-container"], "answers": [{"tags": [], "owner": {"reputation": 26524, "user_id": 3213034, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/ZD3DE.jpg?s=128&g=1", "display_name": "Amir Popovich", "link": "https://stackoverflow.com/users/3213034/amir-popovich"}, "is_accepted": true, "score": 2, "last_activity_date": 1519909812, "last_edit_date": 1519909812, "creation_date": 1519909504, "answer_id": 49050345, "question_id": 49037309, "link": "https://stackoverflow.com/questions/49037309/how-to-register-multiple-classes-that-implements-the-same-interface-to-unitycont/49050345#49050345", "title": "How to register multiple classes that implements the same interface to UnityContainer?", "body": "<p>The trick is to register them by name:</p>\n\n<pre><code>public interface IRunTask\n{\n    void Run();\n}\n\npublic class RunTask1 : IRunTask { public void Run() { } }\npublic class RunTask2 : IRunTask { public void Run() { } }\npublic class RunTask3 : IRunTask { public void Run() { } }\n</code></pre>\n\n<p>Execution code:</p>\n\n<pre><code>var ctr = new UnityContainer();\nvar taskTypes = Assembly.GetExecutingAssembly().GetTypes().Where(x =&gt; x.IsClass &amp;&amp; typeof(IRunTask).IsAssignableFrom(x)).ToList();\n\n// Register from IRunTask to T using T.Name as a unique key for the name. You can add additional params like a lifetimemanager etc.\ntaskTypes.ForEach(t =&gt; ctr.RegisterType(typeof(IRunTask), t, t.Name));\nvar tasks = ctr.ResolveAll&lt;IRunTask&gt;().ToList(); // RT1, RT2, RT3\ntasks.ForEach(t =&gt; t.Run());\n</code></pre>\n\n<blockquote>\n  <p>Is there a better more elegant want into registering multiple types in\n  UnityContainer?</p>\n</blockquote>\n\n<p>I prefer to register via a config file and I never used Unity for Resolving multiple types that have the same interface (I've done this in the past using MEF which I have no idea if it's still popular for resolving plugins).</p>\n\n<blockquote>\n  <p>Is there a way to auto register using a default convention? For\n  Example, if I have an interface called IUnitOfWork and implementation\n  called UnitOfWork in current assembly \"same name without the I then\n  register them into the container automatically.</p>\n</blockquote>\n\n<p>I'm not sure, but I think you are missing something here. The whole purpose of IOC is to create more than one type (could be a mock for a unit test, a behavior or a multi-tenant plugin). I wouldn't want my app to auto register types.<br/>\nIf you still insist, you can create a default attribute and simply write some reflection code that will auto register types.</p>\n"}], "owner": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 653, "favorite_count": 0, "accepted_answer_id": 49050345, "answer_count": 1, "score": 1, "last_activity_date": 1519909812, "creation_date": 1519846632, "last_edit_date": 1519873587, "question_id": 49037309, "link": "https://stackoverflow.com/questions/49037309/how-to-register-multiple-classes-that-implements-the-same-interface-to-unitycont", "title": "How to register multiple classes that implements the same interface to UnityContainer?", "body": "<p>I am trying to setup IoC container in my Asp.Net MVC 5 application so I can access these objects anywhere in my application.</p>\n\n<p>I choose to use <a href=\"https://www.nuget.org/packages/Unity.Mvc/\" rel=\"nofollow noreferrer\">Unity.Mvc</a> container for the job.</p>\n\n<p>I want to use reflection or some other technique to auto register any class in my assemblies that implements an interface called <code>IRunOnEachRequest</code>.</p>\n\n<p>Here is what I did</p>\n\n<p>I created the following interfaces</p>\n\n<pre><code>public interface IRunTask\n{\n    void Run();\n}\n\npublic interface IRunAfterEachRequest : IRunTask\n{\n}\n\npublic interface IRunOnEachRequest : IRunTask\n{\n}\n</code></pre>\n\n<p>Then in the <code>UnityConfig.RegisterTypes</code> method, I am trying to do the following</p>\n\n<pre><code>var assemnlies = AppDomain.CurrentDomain.GetAssemblies().ToList();\n\nforeach (Assembly assembly in assemnlies)\n{\n    try\n    {\n        var tasks = assembly.GetTypes().Where(x =&gt; x.IsClass &amp;&amp; typeof(IRunTask).IsAssignableFrom(x)).ToList();\n\n        foreach (Type task in tasks)\n        {\n\n            if (typeof(IRunAfterEachRequest).IsAssignableFrom(task))\n            {\n                //container.RegisterType&lt;IRunAfterEachRequest, typeof(task)&gt;();\n            }\n            else if (typeof(IRunOnEachRequest).IsAssignableFrom(task))\n            {\n                //container.RegisterType&lt;IRunOnEachRequest, typeof(task)&gt;();\n            }\n        }\n    }\n    catch\n    {\n\n    }\n}\n</code></pre>\n\n<p>But the line <code>container.RegisterType&lt;IRunAfterEachRequest, typeof(task)&gt;();</code> is giving me error.</p>\n\n<p><strong>Questions</strong></p>\n\n<ul>\n<li>Is there a better more elegant want into registering multiple types\nin UnityContainer?</li>\n<li>Is there a way to auto register using a default convention? For Example, if I have an interface called <code>IUnitOfWork</code> and implementation called <code>UnitOfWork</code> in current assembly \"same name without the <code>I</code> then register them into the container automatically.</li>\n</ul>\n"}, {"tags": ["c#", "batch-file"], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 1066300, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/16bf51d01dca47561ae1db5f3650464e?s=128&d=identicon&r=PG", "display_name": "Lenigod", "link": "https://stackoverflow.com/users/1066300/lenigod"}, "edited": false, "score": 0, "creation_date": 1519847501, "post_id": 49037379, "comment_id": 85079958, "body": "That did it. Thanks. Syntax was a bit off and was having a lot of trouble finding an answer! you da bes"}], "tags": [], "owner": {"reputation": 423, "user_id": 9351868, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-do6lK7UwssQ/AAAAAAAAAAI/AAAAAAAAANA/z2LOcVwy_Qk/photo.jpg?sz=128", "display_name": "Chris Riccio", "link": "https://stackoverflow.com/users/9351868/chris-riccio"}, "is_accepted": true, "score": 2, "last_activity_date": 1519846990, "creation_date": 1519846990, "answer_id": 49037379, "question_id": 49037290, "link": "https://stackoverflow.com/questions/49037290/passing-arguments-into-a-batch-file-from-c/49037379#49037379", "title": "Passing arguments into a batch file, from c#", "body": "<p>You have your batch file name as the command to run and the first parameter of your script. I find it easier and more reliable to use cmd.exe as the command to run and invoke it with the /C argument. Doing it this way you should make sure your working directory is set correctly as well.</p>\n\n<pre><code>processInfo = new ProcessStartInfo(\"cmd.exe\");\nprocessInfo.Arguments = String.Format(\"/C {0} {1}\", command, \"123456\");\nprocessInfo.WorkingDirectory = yourWorkingDirectory;\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 1066300, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/16bf51d01dca47561ae1db5f3650464e?s=128&d=identicon&r=PG", "display_name": "Lenigod", "link": "https://stackoverflow.com/users/1066300/lenigod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2320, "favorite_count": 0, "accepted_answer_id": 49037379, "answer_count": 1, "score": 2, "last_activity_date": 1519846990, "creation_date": 1519846549, "question_id": 49037290, "link": "https://stackoverflow.com/questions/49037290/passing-arguments-into-a-batch-file-from-c", "title": "Passing arguments into a batch file, from c#", "body": "<p>I have a batch file I want to run from a C# windows form. the Batch file is very basic and accepts one parameter</p>\n\n<pre><code>cd C:\\Program Files (x86)\\Advent\\ApxClient\nAdvScriptRunner REPRUN -mrgainloss -p%1 -vf -t\\\\myserver\\apx$\\pdf\\myReport\n</code></pre>\n\n<p>If i call it in a command prompt, this works fine</p>\n\n<p>C:\\Program Files (x86)\\Locations\\blah>realizedgainloss 123456</p>\n\n<p>that will run just fine, and i get the expected result (it outputs a report run on a third party peice of software). However I cannot for the life of me figure this out with c#. I have the following.</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n    {\n        ExecuteCommand(getCommand());\n\n    }\n\n    public string getCommand()\n    {\n        return \"realizedgainloss.bat\";\n    }\n\n    static void ExecuteCommand(string command)\n    {\n        int exitCode;\n        ProcessStartInfo processInfo;\n        Process process;\n\n        processInfo = new ProcessStartInfo(command);\n        //processInfo.CreateNoWindow = true;\n        processInfo.UseShellExecute = false;\n        // *** Redirect the output ***\n        processInfo.RedirectStandardError = true;\n        processInfo.RedirectStandardOutput = true;\n        processInfo.Arguments = String.Format(\"{0} {1}\", command, \"123456\");\n        process = Process.Start(processInfo);\n        process.WaitForExit();\n\n        // *** Read the streams ***\n        // Warning: This approach can lead to deadlocks, see Edit #2\n        string output = process.StandardOutput.ReadToEnd();\n        string error = process.StandardError.ReadToEnd();\n\n        exitCode = process.ExitCode;\n\n        Console.WriteLine(\"output&gt;&gt;\" + (String.IsNullOrEmpty(output) ? \"(none)\" : output));\n        Console.WriteLine(\"error&gt;&gt;\" + (String.IsNullOrEmpty(error) ? \"(none)\" : error));\n        Console.WriteLine(\"ExitCode: \" + exitCode.ToString(), \"ExecuteCommand\");\n        process.Close();\n    }\n</code></pre>\n\n<p>Its worth noting that if i do not provide a parameter, and change the bat file to be static, with 12345 in place of it's %1, then it runs from C#, so there is something incorrect about how i'm getting the parameters into the bat file...</p>\n\n<p>any thoughts?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "checkbox"], "comments": [{"owner": {"reputation": 23519, "user_id": 1177814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4Kl3d.jpg?s=128&g=1", "display_name": "Dipen Shah", "link": "https://stackoverflow.com/users/1177814/dipen-shah"}, "edited": false, "score": 0, "creation_date": 1519846512, "post_id": 49037234, "comment_id": 85079494, "body": "Please provide the code so that someone can take a look!"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 9425417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae95678fe28d9c214b31295d862ab6b8?s=128&d=identicon&r=PG&f=1", "display_name": "MrTKer", "link": "https://stackoverflow.com/users/9425417/mrtker"}, "edited": false, "score": 0, "creation_date": 1519847050, "post_id": 49037302, "comment_id": 85079747, "body": "Thanks. It works for me. But why it occured?"}, {"owner": {"reputation": 466, "user_id": 6199347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556d87644525da60ba3decf5f99d0689?s=128&d=identicon&r=PG&f=1", "display_name": "Charles McIntosh", "link": "https://stackoverflow.com/users/6199347/charles-mcintosh"}, "reply_to_user": {"reputation": 19, "user_id": 9425417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae95678fe28d9c214b31295d862ab6b8?s=128&d=identicon&r=PG&f=1", "display_name": "MrTKer", "link": "https://stackoverflow.com/users/9425417/mrtker"}, "edited": false, "score": 0, "creation_date": 1519847505, "post_id": 49037302, "comment_id": 85079963, "body": "There&#39;s a lot of information kept for posting back from a Post Action. particularly for validation but it also keeps the Model bindings.  I guess they assume you would only re-post in order to show validation errors.  so ModelState.Clear() must be called to show new information in the model.  You can also clear specific attributes of the model but I don&#39;t have the code for that. Please mark as right if it worked for you"}, {"owner": {"reputation": 466, "user_id": 6199347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556d87644525da60ba3decf5f99d0689?s=128&d=identicon&r=PG&f=1", "display_name": "Charles McIntosh", "link": "https://stackoverflow.com/users/6199347/charles-mcintosh"}, "reply_to_user": {"reputation": 19, "user_id": 9425417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae95678fe28d9c214b31295d862ab6b8?s=128&d=identicon&r=PG&f=1", "display_name": "MrTKer", "link": "https://stackoverflow.com/users/9425417/mrtker"}, "edited": false, "score": 0, "creation_date": 1519847944, "post_id": 49037302, "comment_id": 85080193, "body": "Don&#39;t know why I got a -1 for answering the question correctly :("}, {"owner": {"reputation": 466, "user_id": 6199347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556d87644525da60ba3decf5f99d0689?s=128&d=identicon&r=PG&f=1", "display_name": "Charles McIntosh", "link": "https://stackoverflow.com/users/6199347/charles-mcintosh"}, "reply_to_user": {"reputation": 19, "user_id": 9425417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae95678fe28d9c214b31295d862ab6b8?s=128&d=identicon&r=PG&f=1", "display_name": "MrTKer", "link": "https://stackoverflow.com/users/9425417/mrtker"}, "edited": false, "score": 0, "creation_date": 1519848150, "post_id": 49037302, "comment_id": 85080283, "body": "Can you mark as correct please"}, {"owner": {"reputation": 19, "user_id": 9425417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae95678fe28d9c214b31295d862ab6b8?s=128&d=identicon&r=PG&f=1", "display_name": "MrTKer", "link": "https://stackoverflow.com/users/9425417/mrtker"}, "edited": false, "score": 0, "creation_date": 1519850743, "post_id": 49037302, "comment_id": 85081636, "body": "It has been completed"}], "tags": [], "owner": {"reputation": 466, "user_id": 6199347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556d87644525da60ba3decf5f99d0689?s=128&d=identicon&r=PG&f=1", "display_name": "Charles McIntosh", "link": "https://stackoverflow.com/users/6199347/charles-mcintosh"}, "is_accepted": true, "score": 0, "last_activity_date": 1519847834, "last_edit_date": 1519847834, "creation_date": 1519846606, "answer_id": 49037302, "question_id": 49037234, "link": "https://stackoverflow.com/questions/49037234/html-checkboxfor-somehow-save-state-through-two-request/49037302#49037302", "title": "Html.CheckBoxFor somehow save state through two request", "body": "<p>In your Post action, try clearing the model and then using ModelState.Clear() before passing it to the view again.  </p>\n\n<p>Validation information and model bindings are kept when posting back from an [HTTPPost] action unless you clear the model's state. I think there is an assumption in MVC you would only post back to show validation messages and allow changes.  If that's not the case then use ModelState.Clear() and reset your values. see link below...</p>\n\n<p><a href=\"https://patrickdesjardins.com/blog/modelstate-clear-is-required-to-display-back-your-model-object\" rel=\"nofollow noreferrer\">Why you need ModelState.Clear</a></p>\n"}], "owner": {"reputation": 19, "user_id": 9425417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae95678fe28d9c214b31295d862ab6b8?s=128&d=identicon&r=PG&f=1", "display_name": "MrTKer", "link": "https://stackoverflow.com/users/9425417/mrtker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "closed_date": 1519850881, "accepted_answer_id": 49037302, "answer_count": 1, "score": -1, "last_activity_date": 1519847834, "creation_date": 1519846307, "question_id": 49037234, "link": "https://stackoverflow.com/questions/49037234/html-checkboxfor-somehow-save-state-through-two-request", "closed_reason": "Not suitable for this site", "title": "Html.CheckBoxFor somehow save state through two request", "body": "<p>Actually i'm developing new asp.net mvc app in most like qustionare. But while developing i came across an issue. I created action method which renders questions one by one depending on passed questionId. So when i try to render next question, my Html.CheckBoxFor somehow remember state of previous question and just left the same state independently from real value.\nDoes anybody experienced such error?\nThanks</p>\n"}, {"tags": ["c#", "wpf", "azure-active-directory", "powerbi-embedded"], "answers": [{"comments": [{"owner": {"reputation": 40761, "user_id": 1658906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e4748ed2fb97e8a8d4dd6d439625135?s=128&d=identicon&r=PG", "display_name": "juunas", "link": "https://stackoverflow.com/users/1658906/juunas"}, "edited": false, "score": 0, "creation_date": 1519894043, "post_id": 49044560, "comment_id": 85096062, "body": "Yeah, for the first point, since OP has a <code>graphResourceId</code>, it suggests the resource id could be wrong."}, {"owner": {"reputation": 17081, "user_id": 6755924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2016daeafc6c9469fde7bab85f8214d6?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce Chen", "link": "https://stackoverflow.com/users/6755924/bruce-chen"}, "reply_to_user": {"reputation": 40761, "user_id": 1658906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e4748ed2fb97e8a8d4dd6d439625135?s=128&d=identicon&r=PG", "display_name": "juunas", "link": "https://stackoverflow.com/users/1658906/juunas"}, "edited": false, "score": 0, "creation_date": 1519894968, "post_id": 49044560, "comment_id": 85096580, "body": "The related code sample is <a href=\"https://github.com/rreilly70/PowerBIEmbedded-Native-WPFBrowser/blob/master/PowerBIEmbedded-Native-WPFBrowser/MainWindow.xaml.cs\" rel=\"nofollow noreferrer\">github.com/rreilly70/PowerBIEmbedded-Native-WPFBrowser/blob/&zwnj;&#8203;&hellip;</a>. The configuration in the code sample is correct, but op still need to check the retrieved access token."}, {"owner": {"reputation": 277, "user_id": 5394868, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/417d646c12d428e4d761dfdc635b82c4?s=128&d=identicon&r=PG&f=1", "display_name": "Truecolor", "link": "https://stackoverflow.com/users/5394868/truecolor"}, "edited": false, "score": 0, "creation_date": 1519918695, "post_id": 49044560, "comment_id": 85111121, "body": "@Bruc Thank you. It was an issue of permissions in my Azure AD. After hours of struggling with editing the code, I just decided to grant permissions for all the categories under the Power BI Service API and it worked."}, {"owner": {"reputation": 473, "user_id": 3842335, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d9q5I.jpg?s=128&g=1", "display_name": "timblistic", "link": "https://stackoverflow.com/users/3842335/timblistic"}, "edited": false, "score": 0, "creation_date": 1557226246, "post_id": 49044560, "comment_id": 98685599, "body": "@BruceChen: Tailing your answer, scp property isnt available in token. Is it the problem with token generation?"}], "tags": [], "owner": {"reputation": 17081, "user_id": 6755924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2016daeafc6c9469fde7bab85f8214d6?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce Chen", "link": "https://stackoverflow.com/users/6755924/bruce-chen"}, "is_accepted": true, "score": 2, "last_activity_date": 1519888968, "creation_date": 1519888968, "answer_id": 49044560, "question_id": 49037233, "link": "https://stackoverflow.com/questions/49037233/operation-returned-an-invalid-status-code-unauthorized/49044560#49044560", "title": "Operation returned an invalid status code &#39;Unauthorized&#39;&#39;", "body": "<p>Based on your description, I assumed that you are using the Access token for Power BI users (user owns data) approach. I would recommend you use <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">https://jwt.io/</a> to decode the access_token after successfully invoked <code>authContext.AcquireTokenAsync</code>. Make sure the <code>aud</code> is <code>https://analysis.windows.net/powerbi/api</code> and check the permissions scope property <code>scp</code>. </p>\n\n<p>For <a href=\"https://msdn.microsoft.com/en-us/library/mt243842.aspx\" rel=\"nofollow noreferrer\">Get Groups</a>, the required scope would look as follows:</p>\n\n<blockquote>\n  <p><strong>Required scope</strong>: Group.Read.All or Group.ReadWrite.All or Workspace.Read.All or Workspace.ReadWrite.All</p>\n</blockquote>\n\n<p>You could also use fiddler or postman to simulate the request against the get groups endpoint with the access_token received in your WPF application to narrow down this issue.</p>\n\n<p>Moreover, you could follow <a href=\"https://docs.microsoft.com/en-us/power-bi/developer/register-app\" rel=\"nofollow noreferrer\">Register an application</a> to check your Azure AD app and make sure the required delegated permissions to <strong>Power BI Service (Microsoft.Azure.AnalysisServices)</strong> API have been correctly configured.</p>\n"}, {"tags": [], "owner": {"reputation": 595, "user_id": 177126, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/507495ff09f12c94b762306867c98169?s=128&d=identicon&r=PG", "display_name": "Xiaosu", "link": "https://stackoverflow.com/users/177126/xiaosu"}, "is_accepted": false, "score": 2, "last_activity_date": 1558070410, "creation_date": 1558070410, "answer_id": 56180063, "question_id": 49037233, "link": "https://stackoverflow.com/questions/49037233/operation-returned-an-invalid-status-code-unauthorized/56180063#56180063", "title": "Operation returned an invalid status code &#39;Unauthorized&#39;&#39;", "body": "<p>We got the same error when we use app owns data approach. The way to solve that is described <a href=\"https://community.powerbi.com/t5/Developer/401-when-accessing-any-Power-BI-API-endpoints/m-p/336493#M9954\" rel=\"nofollow noreferrer\">here</a>. </p>\n\n<p>Basically, the way to get access token documented in Microsoft <a href=\"https://docs.microsoft.com/en-au/power-bi/developer/get-azuread-access-token#access-token-for-non-power-bi-users-app-owns-data\" rel=\"nofollow noreferrer\">website</a> does not work. We end up making a REST API call to <a href=\"https://login.microsoftonline.com/common/oauth2/token\" rel=\"nofollow noreferrer\">https://login.microsoftonline.com/common/oauth2/token</a> and post the following data:</p>\n\n<ul>\n<li>grant_type: password</li>\n<li>scope: openid</li>\n<li>resource: <a href=\"https://analysis.windows.net/powerbi/api\" rel=\"nofollow noreferrer\">https://analysis.windows.net/powerbi/api</a></li>\n<li>client_id: APPLICATION_ID</li>\n<li>client_secret: APPLICATION_SECRET</li>\n<li>username: USER_ID</li>\n<li>password: USER_PASSWORD</li>\n</ul>\n\n<p>You will get a JSON back and then you can get the access_token which will be used when creating power bi client like this:</p>\n\n<pre><code>    var mTokenCredentials = new TokenCredentials(accessToken, \"Bearer\");\n    using (var client = new PowerBIClient(new Uri(\"https://api.powerbi.com\"), mTokenCredentials))\n</code></pre>\n\n<p>I hope this can help someone. <a href=\"https://bitbucket.org/omnistream/powerbi-api-example/src/master/\" rel=\"nofollow noreferrer\">This</a> is the original post.</p>\n"}], "owner": {"reputation": 277, "user_id": 5394868, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/417d646c12d428e4d761dfdc635b82c4?s=128&d=identicon&r=PG&f=1", "display_name": "Truecolor", "link": "https://stackoverflow.com/users/5394868/truecolor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9701, "favorite_count": 0, "accepted_answer_id": 49044560, "answer_count": 2, "score": 1, "last_activity_date": 1592570501, "creation_date": 1519846303, "question_id": 49037233, "link": "https://stackoverflow.com/questions/49037233/operation-returned-an-invalid-status-code-unauthorized", "title": "Operation returned an invalid status code &#39;Unauthorized&#39;&#39;", "body": "<p>I am trying to embed a sample Power BI dashboard in a WPF application following the sample project and sort of tutorial from <a href=\"https://blogs.msdn.microsoft.com/premier_developer/2018/01/27/integrate-power-bi-dashboards-reports-and-tiles-into-a-wpf-application/\" rel=\"nofollow noreferrer\">here</a>. When I launch the app, I have to enter my password to authenticate myself and when it tries to get the list of my Power BI workspaces with the <code>getAppWorkspacesList()</code> I am getting this error message </p>\n\n<blockquote>\n  <p>Microsoft.Rest.HttpOperationException: 'Operation returned an invalid\n  status code 'Unauthorized''</p>\n</blockquote>\n\n<p>Can someone please help in pointing out why this error is occuring? I tried to look into the details of the error, but I am not understanding what could be causing the issue. I was able to embed a dashboard in a .Net Web App without an issue, so I don't think the problem is in my Power BI or Azure Directory account. </p>\n\n<p><a href=\"https://i.stack.imgur.com/2hbAa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2hbAa.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>private static string aadInstance = ConfigurationManager.AppSettings[\"ida:AADInstance\"];\nprivate static string tenant = ConfigurationManager.AppSettings[\"ida:Tenant\"];\nprivate static string clientId = ConfigurationManager.AppSettings[\"ida:ClientId\"];\nUri redirectUri = new Uri(ConfigurationManager.AppSettings[\"ida:RedirectUri\"]);\nprivate static string authority = String.Format(CultureInfo.InvariantCulture, aadInstance, tenant);\n\nprivate static string graphResourceId = ConfigurationManager.AppSettings[\"ida:ResourceId\"];\nprivate AuthenticationContext authContext = null;\n\nTokenCredentials tokenCredentials = null;\nstring Token = null;\nstring ApiUrl = \"https://api.powerbi.com\";\n\n\n\npublic MainWindow()\n{\n    InitializeComponent();\n    TokenCache TC = new TokenCache();\n    authContext = new AuthenticationContext(authority, TC);\n}\n\n\nprivate void getAppWorkspacesList()\n{\n    using (var client = new PowerBIClient(new Uri(ApiUrl), tokenCredentials))\n    {\n        appWorkSpacesList.ItemsSource = client.Groups.GetGroups().Value.Select(g =&gt; new workSpaceList(g.Name, g.Id));                \n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "iis"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1519858477, "post_id": 49037119, "comment_id": 85085347, "body": "<code>system.web</code> is for ASP.NET, not IIS. Read IIS log files please, so as to know what exactly is the sub status for the 401 errors. You were on the wrong direction."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6776240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cb4caa55096133c500e1f3165ecd764?s=128&d=identicon&r=PG&f=1", "display_name": "Cyril Rat", "link": "https://stackoverflow.com/users/6776240/cyril-rat"}, "is_accepted": false, "score": 0, "last_activity_date": 1519851340, "creation_date": 1519851340, "answer_id": 49038382, "question_id": 49037119, "link": "https://stackoverflow.com/questions/49037119/iis-doesnt-work-with-location-path-code-on-web-config/49038382#49038382", "title": "IIS doesnt work with &quot;location path code&quot; on web.config", "body": "<p>In IIS check the Pool Application Name you used for your website and then \nadd on the folder permissions as follow : IIS AppPool\\poolName</p>\n\n<p>poolName => is the name of you Pool Application !</p>\n\n<p>That the virtual user created, you won't find it in the search, just add it as I mentioned above.</p>\n"}], "owner": {"reputation": 81, "user_id": 9089179, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d702e3cc9c80c3345dbf474508d8a80b?s=128&d=identicon&r=PG&f=1", "display_name": "alex ", "link": "https://stackoverflow.com/users/9089179/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519851340, "creation_date": 1519845936, "question_id": 49037119, "link": "https://stackoverflow.com/questions/49037119/iis-doesnt-work-with-location-path-code-on-web-config", "title": "IIS doesnt work with &quot;location path code&quot; on web.config", "body": "<p>Error trying to access into a folder on IIS:</p>\n\n<p>the first users has access to everything, while the other cant.</p>\n\n<pre><code>&lt;authentication mode=\"Windows\"&gt;\n\n&lt;/authentication&gt;\n&lt;authorization&gt;\n   &lt;allow users=\"Domain\\AnotherDomain\"/&gt;\n   &lt;deny users=\"*\"/&gt;\n&lt;/authorization&gt;\n&lt;identity impersonate=\"true\" /&gt; \n</code></pre>\n\n<p>This is the code im using to grant access to the users, because the IIS doesnt recognize the Active Directory \"roles\":</p>\n\n<pre><code> &lt;location path=\"~/UsuarioTI\"&gt;\n &lt;system.web&gt;\n    &lt;authorization&gt;\n    &lt;allow users =\"Domain\\MyDomain\" /&gt;\n    &lt;deny users=\"*\"/&gt;\n &lt;/authorization&gt;\n&lt;/system.web&gt;\n</code></pre>\n\n<p>this is the error when im trying to enter into the website,</p>\n\n<pre><code>401 - Unauthorized: Access is denied due to invalid credentials.\n</code></pre>\n\n<p>Is there anything else that i need to install, besides enable windows authentication and disable the rest of them?</p>\n\n<p>PD: whenever i try to access into the path im allowed to, it's asking for the user with 'AnotherDomain',because the other has no access. </p>\n\n<p>PD2: How to recognize roles on IIS or throught localhost?</p>\n"}, {"tags": ["c#", ".net", "winforms", "visual-studio", "datagridview"], "comments": [{"owner": {"reputation": 1118, "user_id": 4333844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abf5fe6c1d0fb708efb1ffdc0b4ee962?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge Y.", "link": "https://stackoverflow.com/users/4333844/jorge-y"}, "edited": false, "score": 0, "creation_date": 1519846291, "post_id": 49037115, "comment_id": 85079366, "body": "So that <code>count</code> variable gets loaded with a 3, right?"}, {"owner": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "edited": false, "score": 0, "creation_date": 1519955662, "post_id": 49037115, "comment_id": 85128300, "body": "I am not sure if I understand your comment: <i>\u201dthe dataGridView selected rows count keeps displaying one less than the value selected which is what I expected\u2026\u201d</i> ? \u2026 Why would you expect this? If there are three (3) rows selected, then <code>dataGridView.SelectedRows.Count</code> will return three (3). Why would you expect otherwise? The \u201cforeach\u201d loop looks ok. I would look closer at your query."}, {"owner": {"reputation": 43, "user_id": 5189095, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E9jxVFBpbGU/AAAAAAAAAAI/AAAAAAAAAO8/esKNPvDX8Po/photo.jpg?sz=128", "display_name": "Shiblee Marsuik", "link": "https://stackoverflow.com/users/5189095/shiblee-marsuik"}, "reply_to_user": {"reputation": 1118, "user_id": 4333844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abf5fe6c1d0fb708efb1ffdc0b4ee962?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge Y.", "link": "https://stackoverflow.com/users/4333844/jorge-y"}, "edited": false, "score": 0, "creation_date": 1519998364, "post_id": 49037115, "comment_id": 85145863, "body": "@JorgeY. Yes the count is loaded with 3 if I select 4 rows"}, {"owner": {"reputation": 43, "user_id": 5189095, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E9jxVFBpbGU/AAAAAAAAAAI/AAAAAAAAAO8/esKNPvDX8Po/photo.jpg?sz=128", "display_name": "Shiblee Marsuik", "link": "https://stackoverflow.com/users/5189095/shiblee-marsuik"}, "reply_to_user": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "edited": false, "score": 0, "creation_date": 1519998601, "post_id": 49037115, "comment_id": 85146023, "body": "@JohnG Normally the software count starts from 0 so if I select 4 rows it only counts up to 3. Now that I think about it I may be wrong to expect that because if no rows are selected the count should give me a 0. When I try to delete for example from Row 1 to Row 8 it deletes all rows except the first row. So it begs the question why the first row selected is not counted."}, {"owner": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "edited": false, "score": 0, "creation_date": 1520043457, "post_id": 49037115, "comment_id": 85165812, "body": "In most collections (like the <code>SelectedRows</code> collection), the indexing into that collection starts with zero (0). Therefore, if there are four (4) rows in the collection, then the FIRST row (1) is at index 0, second row (2) at index 1, third row (3) at index 2 and the last row (4) at index 3. However, this has nothing to do with HOW MANY rows are in the collection. How you count them is irrelevant, 0,1,2,3 is four (4) elements and so is 1,2,3,4. This is why your comment is incorrect, the loops (implemented properly) will always loop four (4) times\u2026 not three (3) as you stated."}, {"owner": {"reputation": 43, "user_id": 5189095, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E9jxVFBpbGU/AAAAAAAAAAI/AAAAAAAAAO8/esKNPvDX8Po/photo.jpg?sz=128", "display_name": "Shiblee Marsuik", "link": "https://stackoverflow.com/users/5189095/shiblee-marsuik"}, "reply_to_user": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "edited": false, "score": 0, "creation_date": 1520065766, "post_id": 49037115, "comment_id": 85169747, "body": "@JohnG Starting with your first comment, the first of the selected row is what I meant. Everything I meant in the questions and comments are rows that are selected. Those that are not selected are irrelevant. And so eliminating all other than what is selected we have 4 rows selected. As you mentioned it is logical to expect the count to be 3 which goes from 0 to 3. But there are only 0 to 2 and the count shows 3 and the ResultView shows row0 row1 and row2. row3 is not there, after the delete the first row that was SELECTED is not deleted."}, {"owner": {"reputation": 43, "user_id": 5189095, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E9jxVFBpbGU/AAAAAAAAAAI/AAAAAAAAAO8/esKNPvDX8Po/photo.jpg?sz=128", "display_name": "Shiblee Marsuik", "link": "https://stackoverflow.com/users/5189095/shiblee-marsuik"}, "reply_to_user": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "edited": false, "score": 0, "creation_date": 1520066919, "post_id": 49037115, "comment_id": 85169999, "body": "@JohnG The query is as simple as Delete From [tablename] Where ID = ID there is literally nothing can go wrong here and it always returns the number of rows deleted which is always 1 in each iteration of the loop. Ill give you a better example. I have selected 4 rows, Item1, Item2, Item3, and Item4 (Yes the rows are highlighted on the datagridview) when I come to the foreach and step through the executed code the forloop starts at Item2 and deletes it, Item3 and deletes it and Item4 and deletes it and the foreach loop completes. This to me suggests that Item1 is missed out by SelectedRows"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1520082061, "post_id": 49037115, "comment_id": 85174072, "body": "<a href=\"https://stackoverflow.com/q/38335117/3110834\">How to delete multiple rows in DataGridView?</a>"}, {"owner": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "edited": false, "score": 0, "creation_date": 1520098421, "post_id": 49037115, "comment_id": 85179605, "body": "You will have to demonstrate what you describe. From the code you posted, I cannot reproduce the problem. If there are four selected rows, the \u201cforeach\u201d loop executes four times. There must be something else going on."}, {"owner": {"reputation": 43, "user_id": 5189095, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E9jxVFBpbGU/AAAAAAAAAAI/AAAAAAAAAO8/esKNPvDX8Po/photo.jpg?sz=128", "display_name": "Shiblee Marsuik", "link": "https://stackoverflow.com/users/5189095/shiblee-marsuik"}, "reply_to_user": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "edited": false, "score": 0, "creation_date": 1520106426, "post_id": 49037115, "comment_id": 85182494, "body": "@JohnG that is what I am trying to get to the bottom of, there must be something that is not omitting the first row from the selection. It seems to be unique only for that datagridview. I used the same datagridview on a different form and like you said, the code works perfectly. I suppose I have to stick to that for the time being."}, {"owner": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "edited": false, "score": 0, "creation_date": 1520109157, "post_id": 49037115, "comment_id": 85183307, "body": "You may want to show more code, the small about of code you posted does not to appear to demonstrate what you describe. Better yet, post some code that we can copy and paste and get the same issue you describe. If you think it is the grid that is messed up (which it may well be) and you are adding it in the designer, then dump it and add a new one."}, {"owner": {"reputation": 43, "user_id": 5189095, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E9jxVFBpbGU/AAAAAAAAAAI/AAAAAAAAAO8/esKNPvDX8Po/photo.jpg?sz=128", "display_name": "Shiblee Marsuik", "link": "https://stackoverflow.com/users/5189095/shiblee-marsuik"}, "reply_to_user": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "edited": false, "score": 0, "creation_date": 1520205056, "post_id": 49037115, "comment_id": 85208196, "body": "@JohnG I think the problem was with the particular version of the VS 2017 I was using. I&#39;ve put the details in the answer. Thank you for your support! :)"}, {"owner": {"reputation": 43, "user_id": 5189095, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E9jxVFBpbGU/AAAAAAAAAAI/AAAAAAAAAO8/esKNPvDX8Po/photo.jpg?sz=128", "display_name": "Shiblee Marsuik", "link": "https://stackoverflow.com/users/5189095/shiblee-marsuik"}, "reply_to_user": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1520205567, "post_id": 49037115, "comment_id": 85208325, "body": "@RezaAghaei Just to clarify, I know how to delete rows from a dataGridView. The bizarre behaviour was caused by the version of Visual Studio that I was using that may have had a bug in it. After I upgraded it the above code worked fine. Also you deleted some of my tags which included Visual Studio in there. That was the issue so I&#39;m gonna put that tag back on."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1520218939, "post_id": 49037115, "comment_id": 85210916, "body": "@ShibleeMarsuik Visual Studio tag should be used for questions about Visual Studio in itself. Anyway, I&#39;m not going to revert it back if you believe the tag is useful. But I believe the solution cannot be related to version of Visual studio, because the running application doesn&#39;t have anything to do with Visual Studio. It can be related to .NET Framework version (I doubt it is even related to .NET framework version). I believe if you can not reproduce the problem, it&#39;s better to remove the question :)"}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 5189095, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E9jxVFBpbGU/AAAAAAAAAAI/AAAAAAAAAO8/esKNPvDX8Po/photo.jpg?sz=128", "display_name": "Shiblee Marsuik", "link": "https://stackoverflow.com/users/5189095/shiblee-marsuik"}, "is_accepted": false, "score": 1, "last_activity_date": 1520204988, "creation_date": 1520204988, "answer_id": 49101489, "question_id": 49037115, "link": "https://stackoverflow.com/questions/49037115/deleting-all-selected-rows-from-datagridview/49101489#49101489", "title": "Deleting ALL selected rows from datagridview", "body": "<p>The problem may have been a bug on the version of the visual studio that I was using. When I upgraded the version to 15.5.7 (I can't remember what version it was before) the problem has disappeared. This may be the reason why others could not reproduce this problem.</p>\n\n<p>It was something that I had at the back of my mind all the time but I wanted to exhaust all my other options.</p>\n"}], "owner": {"reputation": 43, "user_id": 5189095, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E9jxVFBpbGU/AAAAAAAAAAI/AAAAAAAAAO8/esKNPvDX8Po/photo.jpg?sz=128", "display_name": "Shiblee Marsuik", "link": "https://stackoverflow.com/users/5189095/shiblee-marsuik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520205591, "creation_date": 1519845918, "last_edit_date": 1520205591, "question_id": 49037115, "link": "https://stackoverflow.com/questions/49037115/deleting-all-selected-rows-from-datagridview", "title": "Deleting ALL selected rows from datagridview", "body": "<p>I am using datagridview to view a SQL Table on Windows Form and I was hoping to use this to be able to add/delete rows from the SQL table.</p>\n\n<p>I am using the following code to delete the selected rows from the datagridview:</p>\n\n<pre><code>        try\n        {\n            int count = dataGridView.SelectedRows.Count;\n\n            foreach (DataGridViewRow item in dataGridView.SelectedRows)\n            {\n                TA.DeleteQuery(item.Cells[0].Value.ToString());\n            }\n        }\n        catch (Exception ex) { Logs.LogEvent(3, ex.Message + \"\\n\" + ex.ToString()); }\n        finally { UpdateTable(); }\n</code></pre>\n\n<p>This code deletes all rows except the first row that is selected. When I step through the code the dataGridView selected rows count keeps displaying one less than the value selected which is what I expected but the foreach loop only iterates through 3 times. When I used a for loop to iterate through 4 times it gave me an out of range error!</p>\n\n<p>Have you guys any idea why this might be and if there is a better way to approach this?</p>\n\n<p>Let me know if you need more details.</p>\n\n<p>Thanks in advance guys!</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 3, "creation_date": 1519846014, "post_id": 49037049, "comment_id": 85079233, "body": "Don&#39;t use the VisualBasic library, it only exists to preserve compatibility with old code, use <code>Substring</code>"}, {"owner": {"reputation": 465, "user_id": 2292368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9656238f23065edc53ad0731600997a8?s=128&d=identicon&r=PG", "display_name": "Jay Buckman", "link": "https://stackoverflow.com/users/2292368/jay-buckman"}, "edited": false, "score": 0, "creation_date": 1519846613, "post_id": 49037049, "comment_id": 85079536, "body": "If you really need a <code>.Right()</code> function, write an Extension method."}, {"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "reply_to_user": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1519856212, "post_id": 49037049, "comment_id": 85084391, "body": "@Gusman - While I agree with your suggestion to use <code>Substring</code> (since this is about C#), the classes in the <code>Microsoft.VisualBasic</code> namespace are not just for compatibility.  They are part of Visual Basic and Microsoft has no plans to remove them as far as I am aware.  There is an assembly called <code>Microsoft.VisualBasic.Compatibility</code> which does contain compatibility classes and are marked as obsolete and should be avoided."}], "answers": [{"comments": [{"owner": {"reputation": 7081, "user_id": 746100, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/6w5Y7.jpg?s=128&g=1", "display_name": "Doug Null", "link": "https://stackoverflow.com/users/746100/doug-null"}, "edited": false, "score": 0, "creation_date": 1519859542, "post_id": 49037197, "comment_id": 85085713, "body": "I indeed did that.  Proj &gt; right-click &gt; add &gt; existing item &gt; .cs (class)"}], "tags": [], "owner": {"reputation": 3, "user_id": 3591372, "user_type": "registered", "profile_image": "https://graph.facebook.com/1180698590/picture?type=large", "display_name": "Kristijan", "link": "https://stackoverflow.com/users/3591372/kristijan"}, "is_accepted": false, "score": 0, "last_activity_date": 1519846185, "creation_date": 1519846185, "answer_id": 49037197, "question_id": 49037049, "link": "https://stackoverflow.com/questions/49037049/cs-file-with-strings-right-in-c-windows-app-works-but-same-cs-file-in-c-con/49037197#49037197", "title": ".cs file with Strings.Right in C# Windows App works, but same .cs file in C# Console Application doesn&#39;t compile Strings.Right", "body": "<p>Did you just copy it into the project without using right-click on the Project -> Add -> Class? Because if you did it doesn't compile? </p>\n"}, {"comments": [{"owner": {"reputation": 7081, "user_id": 746100, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/6w5Y7.jpg?s=128&g=1", "display_name": "Doug Null", "link": "https://stackoverflow.com/users/746100/doug-null"}, "edited": false, "score": 0, "creation_date": 1519859788, "post_id": 49037267, "comment_id": 85085794, "body": "VS2017 Pro &gt; File &gt; New &gt; proj &gt; Console App.  Then copy .cs class to project folder. Then (answer below) proj &gt; add &gt; exist item &gt; .cs....... Strings. and FileSystem. &quot;..does not exist in current context&quot;.............. I see problem: &quot;Microsoft.VisualBasic&quot; missing in my Refs list....BINGO!"}], "tags": [], "owner": {"reputation": 157, "user_id": 9418394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8A8VL.jpg?s=128&g=1", "display_name": "Raphael Hinterndorfer", "link": "https://stackoverflow.com/users/9418394/raphael-hinterndorfer"}, "is_accepted": true, "score": 1, "last_activity_date": 1519846447, "creation_date": 1519846447, "answer_id": 49037267, "question_id": 49037049, "link": "https://stackoverflow.com/questions/49037049/cs-file-with-strings-right-in-c-windows-app-works-but-same-cs-file-in-c-con/49037267#49037267", "title": ".cs file with Strings.Right in C# Windows App works, but same .cs file in C# Console Application doesn&#39;t compile Strings.Right", "body": "<p>I have tested it and it works in a console application. Have you add the assembly reference in the project?\n<a href=\"https://i.stack.imgur.com/Ez6Mv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ez6Mv.png\" alt=\"Console app with Microsoft.VisualBasic reference\"></a></p>\n"}], "owner": {"reputation": 7081, "user_id": 746100, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/6w5Y7.jpg?s=128&g=1", "display_name": "Doug Null", "link": "https://stackoverflow.com/users/746100/doug-null"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 49037267, "answer_count": 2, "score": -1, "last_activity_date": 1519846447, "creation_date": 1519845696, "last_edit_date": 1519846181, "question_id": 49037049, "link": "https://stackoverflow.com/questions/49037049/cs-file-with-strings-right-in-c-windows-app-works-but-same-cs-file-in-c-con", "title": ".cs file with Strings.Right in C# Windows App works, but same .cs file in C# Console Application doesn&#39;t compile Strings.Right", "body": "<p>I have a Windows Forms app .cs file in which at the top is:</p>\n\n<pre><code>using System.Collections.Generic;  \nusing System;  \nusing System.Linq;      \nusing System.Drawing;  \nusing System.Diagnostics;    \nusing System.Threading.Tasks;  \nusing System.Data;  \nusing System.Xml.Linq;  \nusing Microsoft.VisualBasic;  \nusing System.Collections;  \nusing System.Windows.Forms;  \n</code></pre>\n\n<p>..and in the code there is:</p>\n\n<pre><code>if (Strings.Right(PROGRAM_SOURCE_PATH, 7) == \"\\\\Debug\\\\\")\n</code></pre>\n\n<p>and \"Strings\" compiles ok.</p>\n\n<p>But when I copy this .cs file into my C# Console Application, I get:<br>\n\"The name 'Strings' does not exist in the current context\" even though \nusing <code>Microsoft.VisualBasic;</code> it's still at the top.</p>\n\n<p>Even if I start a new C# Windows Forms app project, and copy the .cs file over, it gets same error for Strings.Right.</p>\n"}, {"tags": ["c#", "visual-studio", "xamarin", "xamarin-live-player"], "answers": [{"tags": [], "owner": {"reputation": 1657, "user_id": 6779114, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/041a0cf4e5fa93977cebbfdf28a51f03?s=128&d=identicon&r=PG", "display_name": "Mauro Piccotti", "link": "https://stackoverflow.com/users/6779114/mauro-piccotti"}, "is_accepted": false, "score": 0, "last_activity_date": 1519899364, "last_edit_date": 1519899364, "creation_date": 1519892757, "answer_id": 49045447, "question_id": 49037001, "link": "https://stackoverflow.com/questions/49037001/multiple-startup-projects/49045447#49045447", "title": "Multiple Startup Projects", "body": "<p>For a similar use case, my approach is always to keep separated projects and to run them in two different instances of Visual Studio (or Rider, or whatever else). Also because usually if you need to change the api you can test with something different to your mobile app (with Postman for example, or with ARC), and once that api are working I usually develop only the mobile app.</p>\n\n<p>About multiple startup projects I've never had problems with more \"server projects\", I tried to add a simple Android app to the solution and even if it correctly works when launched alone, doesn't work when I try to run it with other projects.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LEQ1K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LEQ1K.png\" alt=\"enter image description here\"></a>.</p>\n"}], "owner": {"reputation": 2093, "user_id": 2267132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/i7P0k.jpg?s=128&g=1", "display_name": "Vinicius Gon&#231;alves", "link": "https://stackoverflow.com/users/2267132/vinicius-gon%c3%a7alves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519899364, "creation_date": 1519845472, "question_id": 49037001, "link": "https://stackoverflow.com/questions/49037001/multiple-startup-projects", "title": "Multiple Startup Projects", "body": "<p>I'am using VS 2017 with a webapi and xamarim forms project.</p>\n\n<p>I configured the xamarin live player and managed to use it successfully, but when I put it to run along with the webapi project, only the android project starts (On Live Player).</p>\n\n<p>Startup options:</p>\n\n<p><a href=\"https://i.stack.imgur.com/r6CQG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r6CQG.png\" alt=\"enter image description here\"></a> </p>\n\n<p>I've already tried </p>\n\n<ul>\n<li>Reinstall visual studio.</li>\n<li>Restart machine</li>\n<li>Run visual studio as administrator</li>\n<li>Clear caches</li>\n</ul>\n\n<p>Nothing worked.</p>\n\n<p>Is this a known problem?</p>\n"}, {"tags": ["c#", "mysql", "visual-studio", "entity-framework"], "comments": [{"owner": {"reputation": 79883, "user_id": 205608, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/61eE0.png?s=128&g=1", "display_name": "O. Jones", "link": "https://stackoverflow.com/users/205608/o-jones"}, "edited": false, "score": 1, "creation_date": 1519845977, "post_id": 49036983, "comment_id": 85079216, "body": "Does the community installer handle Connector/NET for MySQL? If not, go find it."}, {"owner": {"reputation": 1935, "user_id": 2034048, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/aDv88.jpg?s=128&g=1", "display_name": "7 Reeds", "link": "https://stackoverflow.com/users/2034048/7-reeds"}, "reply_to_user": {"reputation": 79883, "user_id": 205608, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/61eE0.png?s=128&g=1", "display_name": "O. Jones", "link": "https://stackoverflow.com/users/205608/o-jones"}, "edited": false, "score": 0, "creation_date": 1519846451, "post_id": 49036983, "comment_id": 85079456, "body": "@O.Jones: Yes it does.  The docs say specifically to install it after installing MySQL for VS... which I have done."}], "answers": [{"tags": [], "owner": {"reputation": 1935, "user_id": 2034048, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/aDv88.jpg?s=128&g=1", "display_name": "7 Reeds", "link": "https://stackoverflow.com/users/2034048/7-reeds"}, "is_accepted": false, "score": 2, "last_activity_date": 1520007747, "creation_date": 1520007747, "answer_id": 49073210, "question_id": 49036983, "link": "https://stackoverflow.com/questions/49036983/visual-studio-2017-not-showing-mysql-in-connection-list/49073210#49073210", "title": "Visual Studio 2017 not showing MySQL in connection list", "body": "<p>I have been fighting this fight for two weeks. I <em>FINALLY</em> found a combo of versions that works for me. The following was applied to a pristine re-image of my Win10 desktop two weeks ago. All patches were applied to system software before starting to deal with MySql. </p>\n\n<p>Just this morning I re-read the post in this thread (MySql Forums): <a href=\"https://forums.mysql.com/read.php?174,659102,660369#msg-660369\" rel=\"nofollow noreferrer\">https://forums.mysql.com/read.php?174,659102,660369#msg-660369</a> </p>\n\n<p>I thought that I had tried those suggestions before but I must have messed up one of the versions. I think that poster's basic strategy is sound. In my case I uninstalled all local MySql parts and the installer. </p>\n\n<p>I downloaded MySQL for Visual Studio - the <strong>Latest Development</strong> version (2.0.5 msi as of this writing) and installed that. </p>\n\n<p>I found the OLD versions of the .Net Connector and installed 6.9.11 </p>\n\n<p>In VS 2017 I created a dummy project using .Net 4.6.1. </p>\n\n<p>I applied pending VS updates. </p>\n\n<p>I built the project. </p>\n\n<p>I went to \"Project -> Manage Nuget Packages\" and installed / downgraded EntityFramework to 6.0. </p>\n\n<p>I installed MySql.Data, MySql.Data.Entity and MySql.Web all at version 6.9.11 </p>\n\n<p>I cleaned and built the project then tried to add a new \"Code First\" model from a MySql DB... IT WORKED!</p>\n"}, {"tags": [], "owner": {"reputation": 272, "user_id": 4889167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KnZ7K.jpg?s=128&g=1", "display_name": "Zach Mierzejewski", "link": "https://stackoverflow.com/users/4889167/zach-mierzejewski"}, "is_accepted": false, "score": 0, "last_activity_date": 1562021428, "last_edit_date": 1562021428, "creation_date": 1562015595, "answer_id": 56842523, "question_id": 49036983, "link": "https://stackoverflow.com/questions/49036983/visual-studio-2017-not-showing-mysql-in-connection-list/56842523#56842523", "title": "Visual Studio 2017 not showing MySQL in connection list", "body": "<p>Thank you 7 Reeds for coming back with an answer.  It led me to get it working, although I did it slightly differently.</p>\n\n<p>In VS 2017 to connect to MySQL 5.6:</p>\n\n<ol>\n<li>Uninstall any MySQL products from the machine</li>\n<li>Set Target framework to .NET Framework 4.5.2</li>\n<li>Uninstall EntityFramework and any MySQL packages in Nuget</li>\n<li><p>Install MySql.Data.Entity (6.10.7)</p>\n\n<p>It will also install the needed versions of the Nuget packages MySql.Data (6.10.7), EntityFramework (6.1.3), and BouncyCastle (1.8.3.1).   </p>\n\n<p>The MySql.Data.Entity package says it depends of Google.Protobuf, but it didn't install it and it works fine for me.</p>\n\n<p>It added References in my project to BouncyCastle.Crypto (1.8.3.0), EntityFramework (6.0.0.0), MySQL.Data (6.10.7.0), and MySql.Data.Entity.EF6 (6.10.7.0).</p></li>\n<li><p>Close Visual studio</p></li>\n<li>Install 'MySQL for Visual Studio' (1.2.8)</li>\n<li>Install 'Connector/NET' (6.10.7)</li>\n<li>Delete the bin and obj folders</li>\n<li>Open Visual Studio and Rebuild Solution</li>\n<li><code>Add New Item</code> > <code>ADO.NET Entity Data Model</code> > Now you're in the wizard</li>\n<li>Select <code>EF Designer from database</code></li>\n<li>On the next screen ('Entity Data Model Wizard'), click <code>New Connection...</code></li>\n<li>On the 'Connection Properties' screen click the <code>Change...</code> button for the 'Data source'</li>\n<li>You should be able to select the <code>MySQL Database</code> as the 'Data source'</li>\n<li>The 'Data provider' should auto-populate with <code>.NET Framework Data Provider for MySQL</code> </li>\n<li>Yay!  Continue on like you normally would</li>\n</ol>\n\n<p>For posterity, here's the app.config for my WPF application:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;configuration&gt;\n  &lt;configSections&gt;\n\n    &lt;section name=\"entityFramework\" type=\"System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\" requirePermission=\"false\" /&gt;\n  &lt;!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 --&gt;&lt;/configSections&gt;\n  &lt;startup&gt;\n    &lt;supportedRuntime version=\"v4.0\" sku=\".NETFramework,Version=v4.5.2\" /&gt;\n  &lt;/startup&gt;\n  &lt;entityFramework&gt;\n    &lt;defaultConnectionFactory type=\"System.Data.Entity.Infrastructure.LocalDbConnectionFactory, EntityFramework\"&gt;\n      &lt;parameters&gt;\n        &lt;parameter value=\"v13.0\" /&gt;\n      &lt;/parameters&gt;\n    &lt;/defaultConnectionFactory&gt;\n    &lt;providers&gt;\n      &lt;provider invariantName=\"System.Data.SqlClient\" type=\"System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer\" /&gt;\n      &lt;provider invariantName=\"MySql.Data.MySqlClient\" type=\"MySql.Data.MySqlClient.MySqlProviderServices, MySql.Data.Entity.EF6, Version=6.10.7.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d\" /&gt;\n    &lt;/providers&gt;\n  &lt;/entityFramework&gt;\n  &lt;runtime&gt;\n    &lt;assemblyBinding xmlns=\"urn:schemas-microsoft-com:asm.v1\"&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"MySql.Data\" publicKeyToken=\"c5687fc88969c44d\" culture=\"neutral\" /&gt;\n        &lt;bindingRedirect oldVersion=\"0.0.0.0-6.10.7.0\" newVersion=\"6.10.7.0\" /&gt;\n      &lt;/dependentAssembly&gt;\n    &lt;/assemblyBinding&gt;\n  &lt;/runtime&gt;\n  &lt;connectionStrings&gt;\n    &lt;add name=\"MyDB\" connectionString=\"metadata=res://*/Model1.csdl|res://*/Model1.ssdl|res://*/Model1.msl;provider=MySql.Data.MySqlClient;provider connection string=&amp;quot;server=my.example.com;user id=NotMyRealUserID;password=NotMyRealPassword;persistsecurityinfo=True;database=MyDatabase&amp;quot;\" providerName=\"System.Data.EntityClient\" /&gt;\n  &lt;/connectionStrings&gt;\n&lt;/configuration&gt;\n\n</code></pre>\n\n<p>I'm not sure what created this, but I have a 'User variable' in my 'Environment Variables' named <code>MYSQLCONNECTOR_ASSEMBLIESPATH</code> with value <code>C:\\Program Files (x86)\\MySQL\\MySQL Connector Net 6.10.7\\Assemblies\\v4.5.2</code></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 2918435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/136a9cc605869884f682b7d2e6a54799?s=128&d=identicon&r=PG&f=1", "display_name": "TLCW", "link": "https://stackoverflow.com/users/2918435/tlcw"}, "is_accepted": false, "score": 0, "last_activity_date": 1578606781, "last_edit_date": 1578606781, "creation_date": 1578601352, "answer_id": 59671555, "question_id": 49036983, "link": "https://stackoverflow.com/questions/49036983/visual-studio-2017-not-showing-mysql-in-connection-list/59671555#59671555", "title": "Visual Studio 2017 not showing MySQL in connection list", "body": "<p>At appsettings.json:</p>\n\n<pre><code>\"ConnectionStrings\": { \"DefaultConnection\": \"Server=localhost;database=MusicStoreDB;user id=root;Charset=utf8;\" },\n</code></pre>\n\n<p>At ConfigureServices() in Startup.cs :</p>\n\n<pre><code>using Microsoft.EntityFrameworkCore; using MySql.Data.MySqlClient; using Microsoft.Extensions.Configuration; using Microsoft.Extensions.DependencyInjection;\n\n... services.AddDbContext(options =&gt; options.UseMySQL(Configuration.GetConnectionString(\"DefaultConnection\")));\n</code></pre>\n\n<p>Note: Change to: \nUseMysql &lt;-------------- When using Pompelo EntityFrameworkCore</p>\n"}], "owner": {"reputation": 1935, "user_id": 2034048, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/aDv88.jpg?s=128&g=1", "display_name": "7 Reeds", "link": "https://stackoverflow.com/users/2034048/7-reeds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2389, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1578606781, "creation_date": 1519845394, "last_edit_date": 1519944411, "question_id": 49036983, "link": "https://stackoverflow.com/questions/49036983/visual-studio-2017-not-showing-mysql-in-connection-list", "title": "Visual Studio 2017 not showing MySQL in connection list", "body": "<p>I am using \"Visual Studio 2017 Professional\".  I can not get a project to recognize that MySQL is an available DB option.  MySQL does not show up in the list of possible connections when I create a new model.  I know that there are tons of SO questions and other web pages on this topic because I have tried a lot of the suggestions.  Each is subtlety different in cause and solution.  None of the solutions seem to work for me.</p>\n\n<p>I have tried the following with VS 2017 and 2015 with the same results.  I have older versions of VS available but it didn't seem worthwhile to march that far back.  I have also tried installing the latest and older versions of MySQL both with the \"Community Installer\" and the standalone msi's when necessary.  I went back to the \"latest\" pre-6.10 version of MySQL.</p>\n\n<p>To begin, this saga started last week when I noticed that nuget had MySQL package updates available.  I applied them and then went to upgrade the installed MySQL componants with the Community Installer.  The nuget changes did apply.  The Community Installer could not uninstall MySQL for VS though.  The system installer could not uninstall it.  Rebooting and power-cycling did nothing. </p>\n\n<p>On the advice of our local tech support folks I used a third party uninstaller that turned out to be more aggressive than we imagined.  It seems to have randomly stommped across the registry erasing whatever it found.  Long story short(er), I ended up having my machine reimaged.  So, I have a fresh windows install.</p>\n\n<p>Given the fresh Win10 platform, I installed the various things I normally use including the VS versions I typically use.  I installed the latest Community MySQL installer.  I did a \"custom\" MySQL install because I don't need a server on this device or fabric or many other things.</p>\n\n<p>I finished the basic reinstall of everything then rebooted just to be sure.  I started VS 2017 and created a new web app with the latest available version of .Net (4.6.1).  I applied nuget updates and added EntityFramework and MySQL.Data. I then tried to create a new \"code first\" model.</p>\n\n<p>I can get to the point where I am asked to create a connection.  When I click the button the list of available DB providers only shows MS SQL.</p>\n\n<p>I have seen the articles that say to add lines to <code>Web.config</code> and I have seen the MySQL .Net Connector docs that say the same things.  I can see the MySQL entries in <code>Web.config</code> but they do not show up when creating a connection.</p>\n\n<p>An oddity is that I can go to <code>Tools -&gt; Connect to Database</code> and see EVERY DB type my machine knows about including MySQL.  I can create the connection string and it works.  I can see the DB in \"Server Explorer` but that doesn't make it available to code.</p>\n\n<p>Ok, I have followed the above steps over and over including downgrading the version of EntityFramework as well as the MySQL version.</p>\n\n<p>My most recent attempt has me back to the latest version of VS and MySQL.  The relevant (I think) section of the <code>Web.config</code> file follow.  Note the <code>defaultConnectionFactory</code> entry is <code>LocalDbConnectionFactory</code>.  I have changed that to <code>SqlConnectionFactory</code> but it has not made a difference.  I have also changed the order of the providers and the order of the major blocks.</p>\n\n<pre><code>&lt;entityFramework&gt;\n    &lt;defaultConnectionFactory type=\"System.Data.Entity.Infrastructure.LocalDbConnectionFactory, EntityFramework\"&gt;\n      &lt;parameters&gt;\n        &lt;parameter value=\"mssqllocaldb\" /&gt;\n      &lt;/parameters&gt;\n    &lt;/defaultConnectionFactory&gt;\n    &lt;providers&gt;\n      &lt;provider invariantName=\"System.Data.SqlClient\"\n                type=\"System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer\" /&gt;\n      &lt;provider invariantName=\"MySql.Data.MySqlClient\"\n                type=\"MySql.Data.MySqlClient.MySqlProviderServices, MySql.Data.Entity.EF6, Version=6.10.6.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d\"&gt;\n      &lt;/provider&gt;\n    &lt;/providers&gt;\n&lt;/entityFramework&gt;\n&lt;system.data&gt;\n    &lt;DbProviderFactories&gt;\n      &lt;remove invariant=\"MySql.Data.MySqlClient\" /&gt;\n      &lt;add description=\".Net Framework Data Provider for MySQL\" invariant=\"MySql.Data.MySqlClient\"\n           name=\"MySQL Data Provider\"\n           type=\"MySql.Data.MySqlClient.MySqlClientFactory, MySql.Data, Version=6.10.6.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d\" /&gt;\n    &lt;/DbProviderFactories&gt;\n&lt;/system.data&gt;\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>My current impression is that VS 2017 is an unusable mess masquerading as a released, salable product.  I have returned to 2015.</p>\n\n<p>I have come closer to getting this to work in 2015.  I have the latest MySQL items for VS and .Net installed.  I have downgraded the nuget EF package to 6.0 and the MySql packages to 6.8.8.</p>\n\n<p>In, what I am now calling, \"the good old days\" I could add a new model to an MVC project by selecting the Models folder; selecting \"Add New Item\"; choosing ADO.Net model; select a connection option (MySQL); enter the connection info; choose DB First or Code First and wait for the scaffolding fun to finish.</p>\n\n<p>Now, I have to first go to <code>Tools -&gt; Connect to Database</code> and create a conenction to a MySql DB.  If I do not do this I will not see MySQL in the list of possible connections later.  I then clean and build the project.  Next i try to create the model as above.  Noe I can see the MySQL connection option and I can enter the DB creds and test the connection.  </p>\n\n<p>The next step is to choose DB First or Code First.  In either case, clicking the \"next\" button flashes a blank pop-up that then vanishes.  No errors are shown and no connection is made.</p>\n\n<p>It was never this hard in the past.</p>\n\n<p>I have tried a lot of different MySQL and EF versions on 2015 and 2017 at this point.  If there is a magic combo please tell me.</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-core"], "answers": [{"tags": [], "owner": {"reputation": 9086, "user_id": 1176870, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Zpacy.jpg?s=128&g=1", "display_name": "Chris Stillwell", "link": "https://stackoverflow.com/users/1176870/chris-stillwell"}, "is_accepted": false, "score": 2, "last_activity_date": 1519845318, "creation_date": 1519845318, "answer_id": 49036957, "question_id": 49036861, "link": "https://stackoverflow.com/questions/49036861/system-data-sqlclient-sqlexception-introducing-foreign-key-constraint/49036957#49036957", "title": "System.Data.SqlClient.SqlException: &#39;Introducing FOREIGN KEY constraint", "body": "<p>You have an unnecessary foreign key on <code>Grade</code>. <code>Grade</code> references <code>Subject</code> and <code>Subject</code> references <code>Student</code>. So referencing <code>Student</code> from <code>Grade</code> when <code>Subject</code> also references <code>Student</code> creates a redundant path. Remove <code>Student</code> from either <code>Grade</code> or <code>Subject</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2563, "user_id": 6462951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KE4W2.jpg?s=128&g=1", "display_name": "m3n7alsnak3", "link": "https://stackoverflow.com/users/6462951/m3n7alsnak3"}, "is_accepted": false, "score": 0, "last_activity_date": 1519845498, "creation_date": 1519845498, "answer_id": 49037003, "question_id": 49036861, "link": "https://stackoverflow.com/questions/49036861/system-data-sqlclient-sqlexception-introducing-foreign-key-constraint/49037003#49037003", "title": "System.Data.SqlClient.SqlException: &#39;Introducing FOREIGN KEY constraint", "body": "<p>The reason for multiple cascade paths is that you can get from <code>Grade</code> to <code>Subject</code> in 2 ways - either <code>Grade -&gt; Student -&gt; Subject</code> or the direct connection <code>Grade -&gt; Subject</code>. You have to remove one of the references, and my suggestion is to go for removing the connection between <code>Student</code> and <code>Subject</code> tables. Use the <code>Grades</code> table as the Many-To-Many relations table.</p>\n"}], "owner": {"reputation": 11, "user_id": 8748535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96bd625ae85fa3b2a65968cfd5016097?s=128&d=identicon&r=PG", "display_name": "user8748535", "link": "https://stackoverflow.com/users/8748535/user8748535"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1598, "favorite_count": 1, "closed_date": 1519850454, "answer_count": 2, "score": 1, "last_activity_date": 1519845498, "creation_date": 1519844929, "last_edit_date": 1519845377, "question_id": 49036861, "link": "https://stackoverflow.com/questions/49036861/system-data-sqlclient-sqlexception-introducing-foreign-key-constraint", "closed_reason": "Duplicate", "title": "System.Data.SqlClient.SqlException: &#39;Introducing FOREIGN KEY constraint", "body": "<p>I'm using Entity Framework Core with Code First approach but receive following error when trying to start application: </p>\n\n<blockquote>\n  <p>System.Data.SqlClient.SqlException: 'Introducing FOREIGN KEY\n  constraint 'FK_Grades_Students_StudentId' on table 'Grades' may cause\n  cycles or multiple cascade paths. Specify ON DELETE NO ACTION or ON\n  UPDATE NO ACTION, or modify other FOREIGN KEY constraints. Could not\n  create constraint or index. See previous errors.'</p>\n</blockquote>\n\n<p>My entities:</p>\n\n<pre><code>public class Student\n{\n    [Key]\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public Guid Id { get; set; }\n\n    public string FirstName { get; set; }\n\n    public string LastName { get; set; }\n\n    public string Password { get; set; }\n\n    public string Email { get; set; }\n\n    public Group Group { get; set; }\n\n    public IEnumerable&lt;Subject&gt; Subjects { get; set; } = new List&lt;Subject&gt;();\n\n\n}\n\npublic class Subject\n{\n    [Key]\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public Guid Id { get; set; }\n\n    public string Name { get; set; }\n\n    public IEnumerable&lt;Grade&gt; Grades { get; set; } = new List&lt;Grade&gt;();\n\n    [ForeignKey(\"StudentId\")]\n\n    public Student Student { get; set; }\n\n    public Guid StudentId { get; set; }\n\n}\n\npublic class Grade\n{\n    [Key]\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public Guid Id { get; set; }\n\n    public double Value { get; set; }\n\n    public DateTime DateOfGettingGrade { get; set; }\n\n    [ForeignKey(\"SubjectId\")]\n\n    public Subject Subject { get; set; }\n\n    public Guid SubjectId { get; set; }\n\n    [ForeignKey(\"StudentId\")]\n\n    public Student Student { get; set; }\n\n    public Guid StudentId { get; set; }\n}\n\n\nmodelBuilder.Entity(\"GradeBook.Core.Models.Grade\", b =&gt;\n            {\n                b.HasOne(\"GradeBook.Core.Models.Student\", \"Student\")\n                    .WithMany()\n                    .HasForeignKey(\"StudentId\")\n                    .OnDelete(DeleteBehavior.Cascade);\n\n                b.HasOne(\"GradeBook.Core.Models.Subject\", \"Subject\")\n                    .WithMany(\"Grades\")\n                    .HasForeignKey(\"SubjectId\")\n                    .OnDelete(DeleteBehavior.Cascade);\n            });\n</code></pre>\n"}, {"tags": ["c#", "uwp", "mvvm-light"], "comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1519845039, "post_id": 49036852, "comment_id": 85078672, "body": "You&#39;re only passing delegates to the <code>ShowMessage</code> function, they don&#39;t get immediately called."}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "edited": false, "score": 0, "creation_date": 1519845957, "post_id": 49036852, "comment_id": 85079202, "body": "Impossible to say for sure since you didn&#39;t provide the type of dialogService, but it&#39;s probably queuing on the message pump, and therefore effectively async.  One way to handle it is change the callback to fire an event &quot;OnNavigatingFromConfirmed&quot; and make the return type void instead of bool.  But there&#39;s other approaches"}, {"owner": {"reputation": 5640, "user_id": 79152, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/49315b89a7e2aee9609a758434c26f9d?s=128&d=identicon&r=PG", "display_name": "maxbeaudoin", "link": "https://stackoverflow.com/users/79152/maxbeaudoin"}, "edited": false, "score": 0, "creation_date": 1519852084, "post_id": 49036852, "comment_id": 85082345, "body": "A callback is a pattern to deal with async programming. The lambda <code>afterHideCallback</code> will be invoked after the dialog is hidden but the method <code>CanNavigateAway()</code> will return immediately in a non-blocking fashion. Unfortunately, I can&#39;t comment on [uwp] or [mvvm-light]."}, {"owner": {"reputation": 105, "user_id": 8942342, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6ee1345a5296bc5a95e52105d17c5583?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/8942342/matt"}, "edited": false, "score": 0, "creation_date": 1519855950, "post_id": 49036852, "comment_id": 85084289, "body": "Thanks all.  I have refactored to try and simply. This version doesn&#39;t use the MVVM Light dialog service.  I&#39;m still having the same issue, though.  I&#39;m really stumped on this one."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1519857027, "post_id": 49036852, "comment_id": 85084724, "body": "&quot;ShowAsync&quot; is a re-entrancy bug waiting to happen.  But easy to diagnose, you see it back in the debugger&#39;s stack trace.  <a href=\"https://stackoverflow.com/a/5183623/17034\">stackoverflow.com/a/5183623/17034</a>"}], "answers": [{"comments": [{"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 105, "user_id": 8942342, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6ee1345a5296bc5a95e52105d17c5583?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/8942342/matt"}, "edited": false, "score": 0, "creation_date": 1519923908, "post_id": 49039648, "comment_id": 85114605, "body": "Glad it helped! Happy coding :-)"}], "tags": [], "owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "is_accepted": true, "score": 1, "last_activity_date": 1519856709, "creation_date": 1519856709, "answer_id": 49039648, "question_id": 49036852, "link": "https://stackoverflow.com/questions/49036852/why-is-this-c-code-executing-out-of-sequence-not-async-at-least-i-dont-think/49039648#49039648", "title": "Why is this C# code executing out of sequence? Not ASYNC (at least I don&#39;t think it is)", "body": "<p>None of the solutions will work if you require a response from the user. The problem is that when the code is inside the navigation event handler, it is running on the UI thread and the user prompt runs asynchronously, so that the UI is free to present the dialog to the user. This however means that the event handler finishes before the user has a chance to respond.</p>\n\n<p>However, you can use a workaround solution. Add a flag <code>bool</code> field like <code>forceNavigation</code>. Then inside the <code>OnNavigatingFrom</code> display the dialog to the user and set <code>Cancel</code> to <code>true</code> right away and display the user the confirmation dialog. If the user says yes, then set <code>forceNavigaiton</code> to true and trigger the navigation manually again. Now it will skip the confirmation part and navigate right away.</p>\n\n<pre><code>protected async override void OnNavigatingFrom(NavigatingCancelEventArgs e)\n{ \n    //if navigation is forced, skip all logic\n    if ( !forceNavigation )\n    {\n        var navigableViewModel = this.DataContext as INavigable;\n\n        if (navigableViewModel != null)\n        {\n            e.Cancel = true;\n            //display the dialog to the user, if he says yes, set\n            //forceNavigation = true; and repeat the navigation (e.g. GoBack, ... )\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 8942342, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6ee1345a5296bc5a95e52105d17c5583?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/8942342/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 49039648, "answer_count": 1, "score": -1, "last_activity_date": 1519856709, "creation_date": 1519844905, "last_edit_date": 1519855829, "question_id": 49036852, "link": "https://stackoverflow.com/questions/49036852/why-is-this-c-code-executing-out-of-sequence-not-async-at-least-i-dont-think", "title": "Why is this C# code executing out of sequence? Not ASYNC (at least I don&#39;t think it is)", "body": "<p>Can anyone help me understand why my call to dialogservice executes after the CanNavigateAway function has returned its value?  (My goal is to warn the user they are about to navigate away from a view without saving their changes.  If they click OK, the navigation is allowed. I'm using MVVM Light.</p>\n\n<p>When I step through the code, it does reach the dialog service, but then proceeds to the end of CanNavigateAway before creating the dialog.  The CanNavigateAway method is called by OnNavigatingFrom.</p>\n\n<pre><code>public bool CanNavigateAway()\n    {\n        if (!changesSaved &amp;&amp; Model.IsModified &amp;&amp; !continueNavigation)\n        {             \n              dialogService.ShowMessage(\"Are you sure you want to continue?\",\n              \"Confirmation\",\n              buttonConfirmText: \"Continue\", buttonCancelText: \"Discard\",\n              afterHideCallback: (confirmed) =&gt;\n              {\n                  if (confirmed)\n                  {\n                      // User has pressed the \"confirm\" button.\n                      // ...\n                      continueNavigation = true;\n                  }\n                  else\n                  {\n                      // User has pressed the \"cancel\" button\n                      // (or has discared the dialog box).\n                      // ...\n                      continueNavigation = false;\n                  }\n              });\n            return continueNavigation;\n        }\n}\n</code></pre>\n\n<p>Here is the OnNavigatingFrom method from the MVVM Light Bindable Page class:</p>\n\n<pre><code>protected override void OnNavigatingFrom(NavigatingCancelEventArgs e)\n    {\n        var navigableViewModel = this.DataContext as INavigable;\n\n        if (navigableViewModel != null)\n        {\n            if (!navigableViewModel.CanNavigateAway())\n            {\n                e.Cancel = true;\n            }\n        }\n    }\n</code></pre>\n\n<p>I tried this a different way to get the dialog service out of the mix, but showConfirmationDialogAsync still does not seem to execute in time:</p>\n\n<pre><code>public bool CanNavigateAway()\n{\n    continueNavigation = false;\n    if (!changesSaved &amp;&amp; Model.IsModified &amp;&amp; !continueNavigation)\n    {\n        showConfirmationDialogAsync();\n        return continueNavigation;\n    }  \n\nprivate async void showConfirmationDialogAsync()\n{\n    continueNavigation = false;\n    ContentDialog noSaveConfirmation = new ContentDialog\n    {\n        Title = \"Warning\",\n        Content = \"You have unsaved changes. Are you sure you want to leave this page without saving?\",\n        PrimaryButtonText = \"Leave without saving\",\n        SecondaryButtonText = \"Stay and finish\"\n    };\n\n    ContentDialogResult result = await noSaveConfirmation.ShowAsync();\n\n    if (result == ContentDialogResult.Primary)\n    {\n        continueNavigation = true;\n    }\n    else if (result == ContentDialogResult.Secondary)\n    {\n        continueNavigation = false;\n    }\n}        \n</code></pre>\n"}, {"tags": ["c#", "xaml", "xamarin", "xamarin.forms"], "answers": [{"tags": [], "owner": {"reputation": 2821, "user_id": 1154599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LzIMs.png?s=128&g=1", "display_name": "Nick Peppers", "link": "https://stackoverflow.com/users/1154599/nick-peppers"}, "is_accepted": false, "score": 2, "last_activity_date": 1519849783, "creation_date": 1519849783, "answer_id": 49038005, "question_id": 49036845, "link": "https://stackoverflow.com/questions/49036845/how-to-reuse-styles-defined-in-a-parent-contentview-in-xamarin-forms/49038005#49038005", "title": "How to reuse styles defined in a parent ContentView in Xamarin.Forms", "body": "<p>If you are using that same <code>Style</code> in multiple views throughout your entire app I would probably just move your style into your <code>App.xaml</code> and use it from there.</p>\n\n<p>However, what you are trying to do should work if <code>TextFieldView</code> base class is set to <code>FieldView</code> but it looks like from your code your resource isn't properly defined in it and is missing a closing <code>&lt;/Style&gt;</code>. For example, the code below worked when I tried it out and used <code>TextFieldView</code> in a xaml page.</p>\n\n<p>FieldView:</p>\n\n<pre><code>&lt;ContentView \n    xmlns=\"http://xamarin.com/schemas/2014/forms\" \n    xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\" \n    x:Class=\"TestApp.Forms.FieldView\"&gt;\n    &lt;ContentView.Resources&gt;\n        &lt;ResourceDictionary&gt;\n            &lt;Style x:Key=\"LabelStyle\" TargetType=\"Label\"&gt;\n                &lt;Setter Property=\"FontSize\" Value=\"40\" /&gt;\n            &lt;/Style&gt;\n        &lt;/ResourceDictionary&gt;\n    &lt;/ContentView.Resources&gt;\n    &lt;StackLayout&gt;\n        &lt;Label Text=\"Hello world\" Style=\"{StaticResource LabelStyle}\" /&gt;\n    &lt;/StackLayout&gt;\n&lt;/ContentView&gt;\n</code></pre>\n\n<p>TextFieldView:</p>\n\n<pre><code>&lt;local:FieldView \n    xmlns=\"http://xamarin.com/schemas/2014/forms\" \n    xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\" \n    xmlns:local=\"clr-namespace:NuclearHalfLife.Forms\" \n    x:Class=\"TestApp.Forms.TextFieldView\"&gt;\n    &lt;StackLayout&gt;\n        &lt;Label Text=\"Hello from TextFieldView\" Style=\"{StaticResource LabelStyle}\" /&gt;\n    &lt;/StackLayout&gt;\n&lt;/local:FieldView&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15066, "user_id": 6835358, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d1805209204d7ddbf0e8e08f79cd07d?s=128&d=identicon&r=PG", "display_name": "Bruno Peres", "link": "https://stackoverflow.com/users/6835358/bruno-peres"}, "edited": false, "score": 1, "creation_date": 1519904108, "post_id": 49038547, "comment_id": 85101762, "body": "Hi Diego! In fact my answer has an typo error, but my code does not. The error come from the copy &amp; paste &amp; edit process while creating the question. Strangely my code worked after a rebuild process. I&#39;m accepting your answer because your tip about <code>GetResources</code> method best fit my needs. Thank you!"}], "tags": [], "owner": {"reputation": 4560, "user_id": 8093394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-rAl_keJkKAM/AAAAAAAAAAI/AAAAAAAAl0o/Y2pvHWTFzBM/photo.jpg?sz=128", "display_name": "Diego Rafael Souza", "link": "https://stackoverflow.com/users/8093394/diego-rafael-souza"}, "is_accepted": true, "score": 1, "last_activity_date": 1519851943, "creation_date": 1519851943, "answer_id": 49038547, "question_id": 49036845, "link": "https://stackoverflow.com/questions/49036845/how-to-reuse-styles-defined-in-a-parent-contentview-in-xamarin-forms/49038547#49038547", "title": "How to reuse styles defined in a parent ContentView in Xamarin.Forms", "body": "<p>Nick's answer really works, it's just a syntax mistake that I can't imagine how your app is running on with it...</p>\n\n<p>However, you'll be able to extend the styles (and any other resource) if you create a method to provide the <code>ResourceDictionary</code> instead of defining it on XAML. So your base view will look like this: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;ContentView xmlns=\"http://xamarin.com/schemas/2014/forms\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n             x:Class=\"CustomViews.Components.Fields.FieldView\"&gt;\n    &lt;StackLayout&gt;\n        &lt;Label Text=\"Hello world\" \n               Style=\"{StaticResource LabelStyle}\"/&gt;\n    &lt;/StackLayout&gt;\n&lt;/ContentView&gt;\n</code></pre>\n\n<p>And then, in the code behind you should implement and use the method to get the resources dictionary:</p>\n\n<pre><code>[XamlCompilation(XamlCompilationOptions.Compile)]\npublic partial class FieldView : ContentView\n{\n    public FieldView()\n    {\n        InitializeComponent();\n        // Here you set the Resources property through your method\n        Resources = GetResources();\n    }\n\n    protected virtual ResourceDictionary GetResources()\n    {\n        ResourceDictionary ret = new ResourceDictionary();\n\n        // Create your style here\n        Style labelStyle = new Style(typeof(Label));\n        labelStyle.Setters.Add(new Setter() { Property = Label.FontSizeProperty, Value = 20 });\n\n        // Add the style to Resource Dictionary\n        ret.Add(\"LabelStyle\", labelStyle);\n\n        // Return the resource Dictionary\n        return ret;\n    }\n}\n</code></pre>\n\n<p>In your child view you should set the <code>Resources</code> property just like you did on base and add new resources as much as you need:</p>\n\n<pre><code>[XamlCompilation(XamlCompilationOptions.Compile)]\npublic partial class ChildView : FieldView\n{\n    public ChildView()\n    {\n        InitializeComponent();\n        // Call the same method\n        Resources = GetResources();\n    }\n\n    protected override ResourceDictionary GetResources()\n    {\n        ResourceDictionary res = base.GetResources();\n\n        // You can add new Styles here, for example\n        Style newStyle = new Style(typeof(Button));\n        newStyle.Setters.Add(new Setter() { Property = Button.BackgroundColorProperty, Value = Color.Red });\n\n        res.Add(\"DangerButtonStyle\", newStyle);\n\n        return res;\n    }\n}\n</code></pre>\n\n<p>I hope it would be useful.</p>\n"}, {"tags": [], "owner": {"reputation": 2106, "user_id": 8935380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd0788fe8ad2d8d56beee0f8cfe6f7d8?s=128&d=identicon&r=PG&f=1", "display_name": "Benl", "link": "https://stackoverflow.com/users/8935380/benl"}, "is_accepted": false, "score": 1, "last_activity_date": 1519862433, "creation_date": 1519862433, "answer_id": 49040609, "question_id": 49036845, "link": "https://stackoverflow.com/questions/49036845/how-to-reuse-styles-defined-in-a-parent-contentview-in-xamarin-forms/49040609#49040609", "title": "How to reuse styles defined in a parent ContentView in Xamarin.Forms", "body": "<p>Define a separate ResourceDictionary from a new Content Page and use <a href=\"https://developer.xamarin.com/guides/xamarin-forms/xaml/resource-dictionaries/#Merged_Resource_Dictionaries\" rel=\"nofollow noreferrer\">Merged Resource Dictionaries</a>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ResourceDictionary xmlns=\"http://xamarin.com/schemas/2014/forms\"\n                    xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n                    x:Class=\"MyNamespace.MyStyles\"&gt;\n  &lt;Style x:Key=\"LabelResDictStyle\" TargetType=\"Label\"&gt;\n    &lt;Setter Property=\"Text\" Value=\"Hello from ResDictStyle\" /&gt;\n  &lt;/Style&gt;\n&lt;/ResourceDictionary&gt;\n</code></pre>\n\n<p>Redefine the code behind:</p>\n\n<pre><code>namespace MyNamespace\n{\n  [XamlCompilation(XamlCompilationOptions.Compile)]\n  public partial class MyStyles : ResourceDictionary\n  {\n    public MyStyles()\n    {\n        InitializeComponent();\n    }\n  }\n}\n</code></pre>\n\n<p>The style in the separate resource dictionary can be referenced in the <code>ContentView</code>:</p>\n\n<pre><code>xmlns:resDictStyles=\"clr-namespace:MyNamespace\"\n...\n&lt;ContentView.Resources&gt;\n  &lt;ResourceDictionary&gt;\n    &lt;ResourceDictionary.MergedDictionaries&gt;\n      &lt;resDictStyles:MyStyles /&gt;\n    &lt;/ResourceDictionary.MergedDictionaries&gt;\n  &lt;/ResourceDictionary&gt;\n&lt;/ContentView.Resources&gt;\n...\n&lt;Label Style=\"{StaticResource LabelResDictStyle}\" /&gt;\n</code></pre>\n\n<p>The style from the merged resource dictionary can be \"extended\" using <code>BasedOn</code>:</p>\n\n<pre><code>xmlns:resDictStyles=\"clr-namespace:MyNamespace\"\n...\n&lt;ContentPage.Resources&gt;\n  &lt;ResourceDictionary&gt;\n    &lt;ResourceDictionary.MergedDictionaries&gt;\n      &lt;resDictStyles:MyStyles /&gt;\n    &lt;/ResourceDictionary.MergedDictionaries&gt;\n    &lt;Style x:Key=\"LabelPageStyle\" TargetType=\"Label\" BasedOn=\"{StaticResource LabelResDictStyle}\"&gt;\n      &lt;Setter Property=\"FontSize\" Value=\"20\"&gt;&lt;/Setter&gt;\n    &lt;/Style&gt;\n  &lt;/ResourceDictionary&gt;\n&lt;/ContentPage.Resources&gt;\n...\n&lt;Label Style=\"{StaticResource LabelPageStyle}\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 15066, "user_id": 6835358, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d1805209204d7ddbf0e8e08f79cd07d?s=128&d=identicon&r=PG", "display_name": "Bruno Peres", "link": "https://stackoverflow.com/users/6835358/bruno-peres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1417, "favorite_count": 0, "accepted_answer_id": 49038547, "answer_count": 3, "score": 3, "last_activity_date": 1519862433, "creation_date": 1519844880, "last_edit_date": 1519846143, "question_id": 49036845, "link": "https://stackoverflow.com/questions/49036845/how-to-reuse-styles-defined-in-a-parent-contentview-in-xamarin-forms", "title": "How to reuse styles defined in a parent ContentView in Xamarin.Forms", "body": "<p>Fist, I have a component called <code>FieldView</code> defined in this way:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;ContentView xmlns=\"http://xamarin.com/schemas/2014/forms\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n    x:Class=\"CustomViews.Components.Fields.FieldView\"&gt;\n\n    &lt;ContentView.Resources&gt;\n        &lt;ResourceDictionary&gt;\n            &lt;Style x:Key=\"LabelStyle\" TargetType=\"Label\"&gt;\n                &lt;Setter Property=\"FontSize\" Value=\"20\"&gt;&lt;/Setter&gt;\n        &lt;/ResourceDictionary&gt;\n    &lt;/ContentView.Resources&gt;\n\n    &lt;StackLayout&gt;\n        &lt;Label Text=\"Hello world\" Style=\"{StaticResource LabelStyle}\"&gt;&lt;/Label&gt;\n    &lt;/StackLayout&gt;\n\n&lt;/ContentView&gt;\n</code></pre>\n\n<p>The <code>FieldView</code> component has a style named \"LabelStyle\". Obviously I can use this style inside <code>FieldView</code> component. But this component is a base component that will be inherited by other components, like <code>TextFieldView</code>, implemented as follow:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;local:FieldView xmlns=\"http://xamarin.com/schemas/2014/forms\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n    xmlns:local=\"clr-namespace:GeoSapiens.Coletum.CustomViews.Components.Fields\"\n    x:Class=\"GeoSapiens.Coletum.CustomViews.Components.Fields.TextFieldView\"&gt;\n\n    &lt;StackLayout&gt;\n\n        &lt;!-- the style is not accessible here --&gt;\n        &lt;Label Text=\"Hello from TextFieldView\" Style=\"{StaticResource LabelStyle}\"&gt;&lt;/Label&gt;\n\n    &lt;/StackLayout&gt;\n\n&lt;/local:FieldView&gt;\n</code></pre>\n\n<p>The problem is that I cannot use the style defined in the <code>FieldView</code> inside the <code>TextFieldView</code> component.</p>\n\n<p>Is there a way that I can reference styles defined in my <code>FieldView</code>  inside <code>TextFieldView</code> component? That is: access a style defined in parent component. Should I use the code-behind file in any way?</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1519844436, "post_id": 49036687, "comment_id": 85078362, "body": "Can we see your markup?"}, {"owner": {"reputation": 1166, "user_id": 4508732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4kHbUzaSJCg/AAAAAAAAAAI/AAAAAAAABKs/pmWe5PHQpdY/photo.jpg?sz=128", "display_name": "mjw", "link": "https://stackoverflow.com/users/4508732/mjw"}, "edited": false, "score": 0, "creation_date": 1519844739, "post_id": 49036687, "comment_id": 85078509, "body": "Is the value changed in the database?"}, {"owner": {"reputation": 65, "user_id": 3936091, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9ef0f8f9d20194882589a9af695f7064?s=128&d=identicon&r=PG&f=1", "display_name": "Naga Raj", "link": "https://stackoverflow.com/users/3936091/naga-raj"}, "edited": false, "score": 0, "creation_date": 1519844740, "post_id": 49036687, "comment_id": 85078510, "body": "Design Code Sir?"}, {"owner": {"reputation": 65, "user_id": 3936091, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9ef0f8f9d20194882589a9af695f7064?s=128&d=identicon&r=PG&f=1", "display_name": "Naga Raj", "link": "https://stackoverflow.com/users/3936091/naga-raj"}, "edited": false, "score": 0, "creation_date": 1519844771, "post_id": 49036687, "comment_id": 85078528, "body": "No Sir. It is picking the Old value due to postback"}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1519845490, "post_id": 49036687, "comment_id": 85078943, "body": "@NagaRaj We need your design code."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 3936091, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9ef0f8f9d20194882589a9af695f7064?s=128&d=identicon&r=PG&f=1", "display_name": "Naga Raj", "link": "https://stackoverflow.com/users/3936091/naga-raj"}, "edited": false, "score": 0, "creation_date": 1519845264, "post_id": 49036831, "comment_id": 85078805, "body": "can you please rewrite the page load function sir"}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "reply_to_user": {"reputation": 65, "user_id": 3936091, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9ef0f8f9d20194882589a9af695f7064?s=128&d=identicon&r=PG&f=1", "display_name": "Naga Raj", "link": "https://stackoverflow.com/users/3936091/naga-raj"}, "edited": false, "score": 0, "creation_date": 1519845325, "post_id": 49036831, "comment_id": 85078846, "body": "@NagaRaj Why would he rewrite your entire function, he is explaining a core concept that you need to understand to be successful with web forms."}, {"owner": {"reputation": 65, "user_id": 3936091, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9ef0f8f9d20194882589a9af695f7064?s=128&d=identicon&r=PG&f=1", "display_name": "Naga Raj", "link": "https://stackoverflow.com/users/3936091/naga-raj"}, "edited": false, "score": 0, "creation_date": 1519845344, "post_id": 49036831, "comment_id": 85078854, "body": "Ok Ji. I will try It Ji"}, {"owner": {"reputation": 65, "user_id": 3936091, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9ef0f8f9d20194882589a9af695f7064?s=128&d=identicon&r=PG&f=1", "display_name": "Naga Raj", "link": "https://stackoverflow.com/users/3936091/naga-raj"}, "edited": false, "score": 0, "creation_date": 1519845743, "post_id": 49036831, "comment_id": 85079084, "body": "Thank You very much Surjit Sir and Greg Sir. Sure Sir i will follow @variable standard Sir. Once again Thank You"}], "tags": [], "owner": {"reputation": 1277, "user_id": 2861172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6a7dae3ac5839ea0e51234a86a40f1?s=128&d=identicon&r=PG&f=1", "display_name": "SSD", "link": "https://stackoverflow.com/users/2861172/ssd"}, "is_accepted": true, "score": 0, "last_activity_date": 1519845462, "last_edit_date": 1519845462, "creation_date": 1519844851, "answer_id": 49036831, "question_id": 49036687, "link": "https://stackoverflow.com/questions/49036687/textbox-retains-old-value-before-the-update-process-asp-net/49036831#49036831", "title": "Textbox retains old value before the update process asp.net", "body": "<p>Function  <code>getitemdata()</code>; is always called. It should be only called on first load of page. </p>\n\n<p>When button is clicked, the data from database is filled again in <code>text_desc</code> by this function. </p>\n\n<blockquote>\n  <p>You should move <strong>all code that fills data</strong> in input fields from database in <code>!IsPostback</code></p>\n</blockquote>\n\n<p>Like\nIn your <code>page_load()</code></p>\n\n<pre><code>if (!this.IsPostBack)\n{\n        getcategory();\n        getcuisine();\n        getitemdata();\n }\n</code></pre>\n\n<p>Also note following:</p>\n\n<ol>\n<li>Using <code>connection</code> object as global <code>class</code> variable can give you connection management troubles at some point. Move it closer to <code>SqlCommand</code> usage. </li>\n<li>Your code is vulnerable to <strong>SqlInjection</strong> attack. Use @<code>variables</code> instead of string concatenation for SQL query in <code>SqlCommand</code></li>\n</ol>\n"}], "owner": {"reputation": 65, "user_id": 3936091, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9ef0f8f9d20194882589a9af695f7064?s=128&d=identicon&r=PG&f=1", "display_name": "Naga Raj", "link": "https://stackoverflow.com/users/3936091/naga-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 49036831, "answer_count": 1, "score": 0, "last_activity_date": 1519845462, "creation_date": 1519844277, "question_id": 49036687, "link": "https://stackoverflow.com/questions/49036687/textbox-retains-old-value-before-the-update-process-asp-net", "title": "Textbox retains old value before the update process asp.net", "body": "<p>The problem is, that I am trying to update my database record trough user's input on a Textbox.\nThe code below shows</p>\n\n<pre><code>  protected void Page_Load(object sender, EventArgs e)\n    {\n        con1.Open();\n        try\n        {\n            //btn_save.Click += new EventHandler(btn_save_Click);\n            rs_id = Session[\"Res_Id\"].ToString();\n\n            if (!this.IsPostBack)\n            {\n                getcategory();\n                getcuisine();\n            }\n            try\n            {\n\n                sitem_id = Session[\"item_id\"].ToString();\n                if (sitem_id != \"\")\n                {\n                    getitemdata();\n                    getaddonprice();\n                    getchoiceprice();\n                }\n            }\n            catch(Exception ex)\n            {\n\n            }\n\n        }\n        catch (Exception ex)\n        {\n            Response.Redirect(\"Default\");\n        }\n    }\n public void getitemdata()\n    {\n        try\n        {\n            SqlCommand cmd = new SqlCommand(\"select * from tbl_item where item_id='\" + sitem_id + \"'\", con1);\n            SqlDataReader dr = cmd.ExecuteReader();\n            if(dr.Read())\n            {\n                string price,status;\n                txt_iname.Text = dr[\"item_name\"].ToString();\n                txt_desc.Text = dr[\"item_description\"].ToString();\n                drp_category.SelectedValue = dr[\"category_id\"].ToString();\n                cui_drp.SelectedValue = dr[\"cusine_id\"].ToString();\n                price_chk = dr[\"pos\"].ToString();\n                status = dr[\"status\"].ToString();\n                img_nname = dr[\"item_uname\"].ToString();\n                img_dname = dr[\"item_img\"].ToString();\n                if (price_chk == \"1\")\n                {\n                    chk_price.Checked = true;\n                    div_price.Style[\"display\"] = \"none\";\n                    div_choice.Style[\"display\"] = \"block\";\n                    div_addon.Style[\"display\"] = \"block\";\n                }\n                else\n                {\n                    chk_price.Checked = false;\n                    div_price.Style[\"display\"] = \"block\";\n                    div_choice.Style[\"display\"] = \"none\";\n                    div_addon.Style[\"display\"] = \"none\";\n                }\n                if(status==\"1\")\n                {\n                    chk_status.Checked = true;\n                }\n                else\n                {\n                    chk_status.Checked = false;\n                }\n                update_id = \"1\";\n            }\n            dr.Close();\n        }\n        catch(Exception ex)\n        {\n            ScriptManager.RegisterClientScriptBlock(this, this.GetType(), \"alert\", ex.ToString(), true);\n        }\n    }\n public void getaddonprice()\n    {\n        try\n        {\n            SqlCommand cmd = new SqlCommand(\"select vname as add_on_name,price as amt from tbl_price_master where item_id='\" + sitem_id + \"' and type='2'\", con1);\n            SqlDataAdapter da = new SqlDataAdapter(cmd);\n            DataTable dt = new DataTable();\n            da.Fill(dt);\n            grid_addon.DataSource = dt;\n            grid_addon.DataBind();\n        }\n        catch(Exception ex)\n        {\n            ScriptManager.RegisterClientScriptBlock(this, this.GetType(), \"alert\", ex.ToString(), true);\n        }\n    }\n    public void getchoiceprice()\n    {\n        try\n        {\n            SqlCommand cmd = new SqlCommand(\"select vname as choice_name,price as amt from tbl_price_master where item_id='\" + sitem_id + \"' and type='1'\", con1);\n            SqlDataAdapter da = new SqlDataAdapter(cmd);\n            DataTable dt = new DataTable();\n            da.Fill(dt);\n            grid_choice.DataSource = dt;\n            grid_choice.DataBind();\n        }\n        catch (Exception ex)\n        {\n            ScriptManager.RegisterClientScriptBlock(this, this.GetType(), \"alert\", ex.ToString(), true);\n        }\n    }\n public void update()\n    {\n        try\n        {\n            string ch_status;\n            if(chk_status.Checked)\n            {\n                ch_status = \"1\";\n            }\n            else\n            {\n                ch_status = \"0\";\n            }\n            string item_uname = txt_iname.Text + \"_\" + rs_id;\n            if (chk_price.Checked == true)\n            {\n                if(img_res.HasFile)\n                {\n                    deleteimg();\n                    getimg();\n                    SqlCommand cmd = new SqlCommand(\"master_crud_b2b\", con1);\n                    cmd.CommandType = CommandType.StoredProcedure;\n                    cmd.Parameters.AddWithValue(\"@item_name\", txt_iname.Text);\n                    cmd.Parameters.AddWithValue(\"@restaurant_id\", rs_id);\n                    cmd.Parameters.AddWithValue(\"@cuisine_id\", cui_drp.SelectedValue.ToString());\n                    cmd.Parameters.AddWithValue(\"@category_id\", drp_category.SelectedValue.ToString());\n                    cmd.Parameters.AddWithValue(\"@item_img\", \"Item_Images/\" + newFileName);\n                    cmd.Parameters.AddWithValue(\"@pos\", \"1\");\n                    cmd.Parameters.AddWithValue(\"@status\", ch_status);\n                    cmd.Parameters.AddWithValue(\"@item_desc\", txt_desc.Text);\n                    cmd.Parameters.AddWithValue(\"@item_uname\", item_uname);\n                    cmd.Parameters.AddWithValue(\"@item_id\", sitem_id);\n                    cmd.Parameters.AddWithValue(\"@mode\", 21);\n                    cmd.ExecuteNonQuery();\n                    item_id = sitem_id;\n                    deleteprice();\n                    price_insert();\n                    price_insert2();\n                }\n                else\n                {\n                    SqlCommand cmd = new SqlCommand(\"master_crud_b2b\", con1);\n                    cmd.CommandType = CommandType.StoredProcedure;\n                    cmd.Parameters.AddWithValue(\"@item_name\", txt_iname.Text);\n                    cmd.Parameters.AddWithValue(\"@restaurant_id\", rs_id);\n                    cmd.Parameters.AddWithValue(\"@cuisine_id\", cui_drp.SelectedValue.ToString());\n                    cmd.Parameters.AddWithValue(\"@category_id\", drp_category.SelectedValue.ToString());\n                    cmd.Parameters.AddWithValue(\"@pos\", \"1\");\n                    cmd.Parameters.AddWithValue(\"@status\", ch_status);\n                    cmd.Parameters.AddWithValue(\"@item_desc\", txt_desc.Text);\n                    cmd.Parameters.AddWithValue(\"@item_uname\", item_uname);\n                    cmd.Parameters.AddWithValue(\"@item_id\", sitem_id);\n                    cmd.Parameters.AddWithValue(\"@mode\", 20);\n                    cmd.ExecuteNonQuery();\n                    item_id = sitem_id;\n                    deleteprice();\n                    price_insert();\n                    price_insert2();\n                }\n            }\n            else\n            {\n                if (img_res.HasFile)\n                {\n                    deleteimg();\n                    getimg();\n                    SqlCommand cmd = new SqlCommand(\"master_crud_b2b\", con1);\n                    cmd.CommandType = CommandType.StoredProcedure;\n                    cmd.Parameters.AddWithValue(\"@item_name\", txt_iname.Text);\n                    cmd.Parameters.AddWithValue(\"@restaurant_id\", rs_id);\n                    cmd.Parameters.AddWithValue(\"@cuisine_id\", cui_drp.SelectedValue.ToString());\n                    cmd.Parameters.AddWithValue(\"@category_id\", drp_category.SelectedValue.ToString());\n                    cmd.Parameters.AddWithValue(\"@item_img\", \"Item_Images/\" + newFileName);\n                    cmd.Parameters.AddWithValue(\"@pos\", \"0\");\n                    cmd.Parameters.AddWithValue(\"@status\", ch_status);\n                    cmd.Parameters.AddWithValue(\"@item_desc\", txt_desc.Text);\n                    cmd.Parameters.AddWithValue(\"@item_uname\", item_uname);\n                    cmd.Parameters.AddWithValue(\"@item_id\", sitem_id);\n                    cmd.Parameters.AddWithValue(\"@mode\", 21);\n                    cmd.ExecuteNonQuery();\n                    item_id = sitem_id;\n                    deleteprice();\n                    price_insert3();\n\n                }\n                else\n                {\n                    SqlCommand cmd = new SqlCommand(\"master_crud_b2b\", con1);\n                    cmd.CommandType = CommandType.StoredProcedure;\n                    cmd.Parameters.AddWithValue(\"@item_name\", txt_iname.Text);\n                    cmd.Parameters.AddWithValue(\"@restaurant_id\", rs_id);\n                    cmd.Parameters.AddWithValue(\"@cuisine_id\", cui_drp.SelectedValue.ToString());\n                    cmd.Parameters.AddWithValue(\"@category_id\", drp_category.SelectedValue.ToString());\n                    cmd.Parameters.AddWithValue(\"@pos\", \"0\");\n                    cmd.Parameters.AddWithValue(\"@status\", ch_status);\n                    cmd.Parameters.AddWithValue(\"@item_desc\", txt_desc.Text);\n                    cmd.Parameters.AddWithValue(\"@item_uname\", item_uname);\n                    cmd.Parameters.AddWithValue(\"@item_id\", sitem_id);\n                    cmd.Parameters.AddWithValue(\"@mode\", 20);\n                    cmd.ExecuteNonQuery();\n                    item_id = sitem_id;\n                    deleteprice();\n                    price_insert3();\n                }\n            }\n            Session[\"item_id\"] = null;\n            update_id = \"0\";\n            Response.Redirect(\"Item_List\");\n        }\n        catch (Exception ex)\n        {\n            ScriptManager.RegisterClientScriptBlock(this, this.GetType(), \"alert\", ex.ToString(), true);\n        }\n    }\n</code></pre>\n\n<p>Now, just to make sure that all is ok, I tried changing the content of the Textbox named txt_desc. To my surprise, upon clicking the save button the content of the txt_desc Textbox returns to its original content.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 967, "user_id": 6814131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a49e6eb1ceb54d2a9db6246dedc2913?s=128&d=identicon&r=PG&f=1", "display_name": "khoroshevj", "link": "https://stackoverflow.com/users/6814131/khoroshevj"}, "edited": false, "score": 1, "creation_date": 1519844309, "post_id": 49036645, "comment_id": 85078290, "body": "What is the type of <code>Root</code>?"}, {"owner": {"reputation": 5892, "user_id": 397062, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0c409d80a3bc2f987aba047b25a1f1e7?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/397062/ram"}, "reply_to_user": {"reputation": 967, "user_id": 6814131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a49e6eb1ceb54d2a9db6246dedc2913?s=128&d=identicon&r=PG&f=1", "display_name": "khoroshevj", "link": "https://stackoverflow.com/users/6814131/khoroshevj"}, "edited": false, "score": 0, "creation_date": 1519844439, "post_id": 49036645, "comment_id": 85078366, "body": "its a string @khoroshevj"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 2, "creation_date": 1519844485, "post_id": 49036645, "comment_id": 85078389, "body": "So <code>Root.Distinct()</code> treats the string as an <code>IEnumerable&lt;char&gt;</code> and returns the distinct characters in <code>Root</code> :) (Types are very important in C#.)"}, {"owner": {"reputation": 50853, "user_id": 181087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85700c2c160866ef6924fc491a3ce574?s=128&d=identicon&r=PG", "display_name": "NightOwl888", "link": "https://stackoverflow.com/users/181087/nightowl888"}, "edited": false, "score": 0, "creation_date": 1519889384, "post_id": 49036645, "comment_id": 85093927, "body": "It would be great if you could provide a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>, namely a console app with code that others can <i>run</i>. You are missing the input to illustrate how this isn&#39;t producing the output you expect, as well as an adequate description of what that expectation is."}], "answers": [{"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 0, "last_activity_date": 1519844426, "creation_date": 1519844426, "answer_id": 49036730, "question_id": 49036645, "link": "https://stackoverflow.com/questions/49036645/linq-to-selectmany-with-distinct-values-of-a-variable-from-igrouping/49036730#49036730", "title": "Linq to selectmany with distinct values of a variable from IGrouping", "body": "<p>Sounds like you need <code>DistinctBy</code>:</p>\n\n<pre><code>foreach (var symbol in optvalues.DistinctBy(opt =&gt; opt.Root)) {\n}\n</code></pre>\n\n<p>which is an extension method:</p>\n\n<pre><code>public static IEnumerable&lt;T&gt; DistinctBy&lt;T, TKey&gt;(this IEnumerable&lt;T&gt; src, Func&lt;T, TKey&gt; keyFun) {\n    //      return src.GroupBy(keyFun).Select(g =&gt; g.FirstOrDefault());  // to defer execution\n    var seenKeys = new HashSet&lt;TKey&gt;();\n    foreach (T e in src)\n        if (seenKeys.Add(keyFun(e)))\n            yield return e;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5892, "user_id": 397062, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0c409d80a3bc2f987aba047b25a1f1e7?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/397062/ram"}, "edited": false, "score": 0, "creation_date": 1519844858, "post_id": 49036773, "comment_id": 85078583, "body": "This result is the same as what I got. 85 &#39;S&#39;"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1519845834, "post_id": 49036773, "comment_id": 85079136, "body": "Since <code>t.Root</code> is type <code>string</code>, <code>SelectMany</code> doesn&#39;t make sense - it the result is <code>IEnumerable&lt;char&gt;</code>."}], "tags": [], "owner": {"reputation": 967, "user_id": 6814131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a49e6eb1ceb54d2a9db6246dedc2913?s=128&d=identicon&r=PG&f=1", "display_name": "khoroshevj", "link": "https://stackoverflow.com/users/6814131/khoroshevj"}, "is_accepted": false, "score": 0, "last_activity_date": 1519846468, "last_edit_date": 1519846468, "creation_date": 1519844597, "answer_id": 49036773, "question_id": 49036645, "link": "https://stackoverflow.com/questions/49036645/linq-to-selectmany-with-distinct-values-of-a-variable-from-igrouping/49036773#49036773", "title": "Linq to selectmany with distinct values of a variable from IGrouping", "body": "<p>So you just applied <code>Distinct</code> to the wrong value</p>\n\n<pre><code>IGrouping&lt;DateTime, Option&gt; optvalues;\nforeach (var symbol in optvalues.SelectMany(t =&gt; t).Select(t =&gt; t.Root).Distinct())\n{ \n    //\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1519845936, "post_id": 49037024, "comment_id": 85079193, "body": "Better, but he wants to select the <code>Option</code> objects, not the <code>Root</code> values."}], "tags": [], "owner": {"reputation": 51, "user_id": 9425361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eaf79690dd7347eb0433fab5a8295b5?s=128&d=identicon&r=PG&f=1", "display_name": "Haqu", "link": "https://stackoverflow.com/users/9425361/haqu"}, "is_accepted": false, "score": 0, "last_activity_date": 1519845581, "creation_date": 1519845581, "answer_id": 49037024, "question_id": 49036645, "link": "https://stackoverflow.com/questions/49036645/linq-to-selectmany-with-distinct-values-of-a-variable-from-igrouping/49037024#49037024", "title": "Linq to selectmany with distinct values of a variable from IGrouping", "body": "<pre><code>    foreach (var symbol in optvalues.Select(t =&gt; r.Root).Distinct())\n    { \n       //...\n    }\n</code></pre>\n"}], "owner": {"reputation": 5892, "user_id": 397062, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0c409d80a3bc2f987aba047b25a1f1e7?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/397062/ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 575, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1519846468, "creation_date": 1519844137, "last_edit_date": 1519846299, "question_id": 49036645, "link": "https://stackoverflow.com/questions/49036645/linq-to-selectmany-with-distinct-values-of-a-variable-from-igrouping", "title": "Linq to selectmany with distinct values of a variable from IGrouping", "body": "<p>I am trying to use LINQ and I need some help with lambda expressions . </p>\n\n<p>I have an <code>IGrouping&lt;DateTime, Option&gt;</code>. The <code>Option</code> class has multiple variables like <code>Price</code>, <code>Root</code>, etc.</p>\n\n<p>I am trying to select only  those <code>Option</code> objects in a <code>foreach</code> with distinct <code>Root</code> values and I am not sure how to get it. I tried doing like this:</p>\n\n<pre><code>IGrouping&lt;DateTime, Option&gt; optvalues;\nforeach (var symbol in optvalues.SelectMany(t =&gt; t.Root.Distinct()))\n{ \n    //This is returning some random value \u201c85 S\u201d in rootdiff.\n}\n</code></pre>\n"}, {"tags": ["c#", "collision-detection", "physics"], "comments": [{"owner": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "edited": false, "score": 0, "creation_date": 1519844475, "post_id": 49036609, "comment_id": 85078383, "body": "Can you show your collision <i>resolution</i> code? Also it would help to write a separate program to test the accuracy of this detection function."}, {"owner": {"reputation": 127, "user_id": 7488980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9829e797b238d603a6cf52b6f94831a?s=128&d=identicon&r=PG&f=1", "display_name": "schnavid", "link": "https://stackoverflow.com/users/7488980/schnavid"}, "reply_to_user": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "edited": false, "score": 0, "creation_date": 1519848878, "post_id": 49036609, "comment_id": 85080680, "body": "@meowgoesthedog added the resolution code"}], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 7488980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9829e797b238d603a6cf52b6f94831a?s=128&d=identicon&r=PG&f=1", "display_name": "schnavid", "link": "https://stackoverflow.com/users/7488980/schnavid"}, "edited": false, "score": 0, "creation_date": 1519895114, "post_id": 49040524, "comment_id": 85096652, "body": "before that i have written d = (float)Sqrt(d)"}, {"owner": {"reputation": 127, "user_id": 7488980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9829e797b238d603a6cf52b6f94831a?s=128&d=identicon&r=PG&f=1", "display_name": "schnavid", "link": "https://stackoverflow.com/users/7488980/schnavid"}, "edited": false, "score": 0, "creation_date": 1519895241, "post_id": 49040524, "comment_id": 85096721, "body": "before that i have written d = (float)Sqrt(d)"}], "tags": [], "owner": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "is_accepted": false, "score": 2, "last_activity_date": 1519861784, "creation_date": 1519861784, "answer_id": 49040524, "question_id": 49036609, "link": "https://stackoverflow.com/questions/49036609/aabb-vs-circle-collision-in-custom-physics-engine/49040524#49040524", "title": "AABB vs Circle collision in custom physics engine", "body": "<p>Before doing any detailed examining of the code logic, I spotted this potential mistake:</p>\n\n<p><code>result.normal = -normal / d;</code></p>\n\n<p>Since <code>d</code> was set to <code>normal.LengthSquared</code> and not <code>normal.Length</code> as it <em>should</em> be, the applied position correction could either be (much) smaller or (much) bigger than intended. Given that your objects are \"sticking together\", it is likely to be the former, i.e. <code>d &gt; 1</code>.</p>\n\n<p>(The fix is of course simply <code>result.normal = -normal / Math.Sqrt(d);</code>)</p>\n\n<p>Note that the above may not be the <em>only</em> source of error; let me know if there is still undesirable behavior.</p>\n"}, {"tags": [], "owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "is_accepted": false, "score": 1, "last_activity_date": 1519878657, "last_edit_date": 1519878657, "creation_date": 1519877457, "answer_id": 49042478, "question_id": 49036609, "link": "https://stackoverflow.com/questions/49036609/aabb-vs-circle-collision-in-custom-physics-engine/49042478#49042478", "title": "AABB vs Circle collision in custom physics engine", "body": "<p>Although your tag specifies C#; here are basic AABB to AABB &amp; AABB to Circle collisions that are done in C++ as these are take from: <a href=\"https://learnopengl.com/In-Practice/2D-Game/Collisions/Collision-detection\" rel=\"nofollow noreferrer\">LernOpenGL:InPractice:2DGame : Collision Detection</a></p>\n\n<hr>\n\n<p><strong>AABB - AABB Collsion</strong></p>\n\n<pre><code>// AABB to AABB Collision\nGLboolean CheckCollision(GameObject &amp;one, GameObject &amp;two) {\n    // Collision x-axis?\n    bool collisionX = one.Position.x + one.Size.x &gt;= two.Position.x &amp;&amp;\n        two.Position.x + two.Size.x &gt;= one.Position.x;\n    // Collision y-axis?\n    bool collisionY = one.Position.y + one.Size.y &gt;= two.Position.y &amp;&amp;\n        two.Position.y + two.Size.y &gt;= one.Position.y;\n    // Collision only if on both axes\n    return collisionX &amp;&amp; collisionY;\n}\n</code></pre>\n\n<hr>\n\n<p><strong>AABB To Circle Collision Without Resolution</strong></p>\n\n<pre><code>// AABB to Circle Collision without Resolution\nGLboolean CheckCollision(BallObject &amp;one, GameObject &amp;two) {\n    // Get center point circle first \n    glm::vec2 center(one.Position + one.Radius);\n    // Calculate AABB info (center, half-extents)\n    glm::vec2 aabb_half_extents(two.Size.x / 2, two.Size.y / 2);\n    glm::vec2 aabb_center(\n        two.Position.x + aabb_half_extents.x, \n        two.Position.y + aabb_half_extents.y\n    );\n    // Get difference vector between both centers\n    glm::vec2 difference = center - aabb_center;\n    glm::vec2 clamped = glm::clamp(difference, -aabb_half_extents, aabb_half_extents);\n    // Add clamped value to AABB_center and we get the value of box closest to circle\n    glm::vec2 closest = aabb_center + clamped;\n    // Retrieve vector between center circle and closest point AABB and check if length &lt;= radius\n    difference = closest - center;\n    return glm::length(difference) &lt; one.Radius;\n}\n</code></pre>\n\n<hr>\n\n<p>Then in the next section of his online tutorial he shows how to do <code>Collision Resolution</code> using the above method found here: <a href=\"https://learnopengl.com/In-Practice/2D-Game/Collisions/Collision-resolution\" rel=\"nofollow noreferrer\">LearnOpenGL : Collision Resolution</a></p>\n\n<p>In this section he adds an enumeration, another function and an <code>std::tuple&lt;&gt;</code> to refine the above detection system while trying to keep the code easier &amp; cleaner to manage and read.</p>\n\n<pre><code>enum Direction {\n    UP,\n    RIGHT,\n    DOWN,\n    LEFT\n};     \n\nDirection VectorDirection(glm::vec2 target)\n{\n    glm::vec2 compass[] = {\n        glm::vec2(0.0f, 1.0f),  // up\n        glm::vec2(1.0f, 0.0f),  // right\n        glm::vec2(0.0f, -1.0f), // down\n        glm::vec2(-1.0f, 0.0f)  // left\n    };\n    GLfloat max = 0.0f;\n    GLuint best_match = -1;\n    for (GLuint i = 0; i &lt; 4; i++)\n    {\n        GLfloat dot_product = glm::dot(glm::normalize(target), compass[i]);\n        if (dot_product &gt; max)\n        {\n            max = dot_product;\n            best_match = i;\n        }\n    }\n    return (Direction)best_match;\n} \n\ntypedef std::tuple&lt;GLboolean, Direction, glm::vec2&gt; Collision; \n</code></pre>\n\n<p>However there is a slight change to the original <code>CheckCollsion()</code> function for <code>AABB to Circle</code> by changing its declaration/definition to return a <code>Collision</code> instead of a <code>GLboolean</code>.</p>\n\n<p><strong>AABB - Circle Collision With Collision Resolution</strong></p>\n\n<pre><code>// AABB - Circle Collision with Collision Resolution\nCollision CheckCollision(BallObject &amp;one, GameObject &amp;two) {\n    // Get center point circle first \n    glm::vec2 center(one.Position + one.Radius);\n    // Calculate AABB info (center, half-extents)\n    glm::vec2 aabb_half_extents(two.Size.x / 2, two.Size.y / 2);\n    glm::vec2 aabb_center(two.Position.x + aabb_half_extents.x, two.Position.y + aabb_half_extents.y);\n    // Get difference vector between both centers\n    glm::vec2 difference = center - aabb_center;\n    glm::vec2 clamped = glm::clamp(difference, -aabb_half_extents, aabb_half_extents);\n    // Now that we know the the clamped values, add this to AABB_center and we get the value of box closest to circle\n    glm::vec2 closest = aabb_center + clamped;\n    // Now retrieve vector between center circle and closest point AABB and check if length &lt; radius\n    difference = closest - center;\n\n    if (glm::length(difference) &lt; one.Radius) // not &lt;= since in that case a collision also occurs when object one exactly touches object two, which they are at the end of each collision resolution stage.\n        return std::make_tuple(GL_TRUE, VectorDirection(difference), difference);\n    else\n        return std::make_tuple(GL_FALSE, UP, glm::vec2(0, 0));\n}\n</code></pre>\n\n<p>Where the above functions or methods are called within this function that does the actually logic if a collision is detected.</p>\n\n<pre><code>void Game::DoCollisions()\n{\n    for (GameObject &amp;box : this-&gt;Levels[this-&gt;Level].Bricks)\n    {\n        if (!box.Destroyed)\n        {\n            Collision collision = CheckCollision(*Ball, box);\n            if (std::get&lt;0&gt;(collision)) // If collision is true\n            {\n                // Destroy block if not solid\n                if (!box.IsSolid)\n                    box.Destroyed = GL_TRUE;\n                // Collision resolution\n                Direction dir = std::get&lt;1&gt;(collision);\n                glm::vec2 diff_vector = std::get&lt;2&gt;(collision);\n                if (dir == LEFT || dir == RIGHT) // Horizontal collision\n                {\n                    Ball-&gt;Velocity.x = -Ball-&gt;Velocity.x; // Reverse horizontal velocity\n                    // Relocate\n                    GLfloat penetration = Ball-&gt;Radius - std::abs(diff_vector.x);\n                    if (dir == LEFT)\n                        Ball-&gt;Position.x += penetration; // Move ball to right\n                    else\n                        Ball-&gt;Position.x -= penetration; // Move ball to left;\n                }\n                else // Vertical collision\n                {\n                    Ball-&gt;Velocity.y = -Ball-&gt;Velocity.y; // Reverse vertical velocity\n                    // Relocate\n                    GLfloat penetration = Ball-&gt;Radius - std::abs(diff_vector.y);\n                    if (dir == UP)\n                        Ball-&gt;Position.y -= penetration; // Move ball bback up\n                    else\n                        Ball-&gt;Position.y += penetration; // Move ball back down\n                }\n            }\n        }    \n    }\n    // Also check collisions for player pad (unless stuck)\n    Collision result = CheckCollision(*Ball, *Player);\n    if (!Ball-&gt;Stuck &amp;&amp; std::get&lt;0&gt;(result))\n    {\n        // Check where it hit the board, and change velocity based on where it hit the board\n        GLfloat centerBoard = Player-&gt;Position.x + Player-&gt;Size.x / 2;\n        GLfloat distance = (Ball-&gt;Position.x + Ball-&gt;Radius) - centerBoard;\n        GLfloat percentage = distance / (Player-&gt;Size.x / 2);\n        // Then move accordingly\n        GLfloat strength = 2.0f;\n        glm::vec2 oldVelocity = Ball-&gt;Velocity;\n        Ball-&gt;Velocity.x = INITIAL_BALL_VELOCITY.x * percentage * strength; \n        //Ball-&gt;Velocity.y = -Ball-&gt;Velocity.y;\n        Ball-&gt;Velocity = glm::normalize(Ball-&gt;Velocity) * glm::length(oldVelocity); // Keep speed consistent over both axes (multiply by length of old velocity, so total strength is not changed)\n        // Fix sticky paddle\n        Ball-&gt;Velocity.y = -1 * abs(Ball-&gt;Velocity.y);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Now some of the code above is <code>GameSpecific</code> as in the <code>Game</code> class, <code>Ball</code> class, <code>Player</code> etc. where these are considered and inherited from a <code>GameObject</code>, but the algorithm itself should provide useful as this is exactly what you are looking for but from a different language. Now as to your actually problem it appears you are using more than basic motion as it appears you are using some form of kinetics that can be seen from your <code>Resolve()</code> method. </p>\n\n<p>The overall Pseudo Algorithm for doing <code>AABB to Circle Collision with Resolution</code> would be as follows:</p>\n\n<blockquote>\n  <ul>\n  <li><p>Do Collisions:</p>\n  \n  <ul>\n  <li><p>Check For Collision: Ball With Box</p>\n  \n  <ul>\n  <li>Get Center Point Of Circle First</li>\n  <li>Calculate AABB Info (Center &amp; Half-Extents)</li>\n  <li>Get Difference Vector Between Both Centers</li>\n  <li>Clamp That Difference Between The [-Half-Extents, Half-Extents]</li>\n  <li>Add The Clamped Value To The AABB-Center To Give The Point Of Box Closest To The Circle</li>\n  <li>Retrieve &amp; Return The Vector Between Center Circle &amp; Closest Point AABB &amp; Check If Length Is &lt; Radius (In this case a <code>Collision</code>).\n  \n  <ul>\n  <li>If True Return tuple(GL_TRUE, VectorDirection(difference), difference))\n  \n  <ul>\n  <li>See Function Above For VectorDirection Implementation.</li>\n  </ul></li>\n  <li>Else Return tuple(GL_FALSE, UP, glm::vec2(0,0))</li>\n  </ul></li>\n  </ul></li>\n  <li><p>Perform Collision Resolution (Test If Collision Is True)</p>\n  \n  <ul>\n  <li>Extract Direction &amp; Difference Vector</li>\n  <li>Test Direction For Horizontal Collision\n  \n  <ul>\n  <li>If True Reverse Horizontal Velocity</li>\n  <li>Get Penetration Amount (Ball Radius - abs(diff_vector.x))</li>\n  <li>Test If Direction Is Left Or Right (W,E)\n  \n  <ul>\n  <li>If Left - Move Ball To Right (ball.position.x += penetration)</li>\n  <li>Else Right - Move Ball To Left (ball.position.x -= penetration)</li>\n  </ul></li>\n  </ul></li>\n  <li>Else Test Direction For Vertical Collision\n  \n  <ul>\n  <li>If True Reverse Vertical Velocity</li>\n  <li>Get Penetration Amount (Ball Radius - abs(diff_vector.y))</li>\n  <li>Test If Direction Is Up Or Down (N,S)\n  \n  <ul>\n  <li>If Up - Move Ball Up (ball.position.y -= penetration)</li>\n  <li>Else Down - Move Ball Down (ball.position.y += penetration)</li>\n  </ul></li>\n  </ul></li>\n  </ul></li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>Now the above algorithm shown assumes that the <code>boxes</code> are not rotated and that their top &amp; bottom edges are parallel with the horizontal and that their sides are parallel with the left and right edges of the window-screen coordinates. Also in the bottom section with the vertical displacement this also assumes that the <code>top left corner of the screen</code> - <code>the first pixel</code> is <code>(0,0)</code>, thus the opposite operation for vertical displacement. This also assumes <code>2D</code> collisions and not <code>3D Ridged or Ragdoll</code> type collisions. You can use this to compare against your own source - implementation, but as far as just looking at your code without running it through a debugger it is extremely hard for me to see or find out what is actually causing your bug. I hope this provides you with the help that you need. </p>\n\n<hr>\n\n<p>The above code from the mentioned OpenGL tutorial website does work as I have tested it myself. This algorithm is of the simplest of collision detections and is by far no means a comprehensive system and it still has caveats or pitfalls not mentioned here, but does suffice for the application it was used in. If you need more information about Collision Detections there is a few chapters that can be read in <code>Ian Millington's</code> book <code>Game Physics Engine Development</code> Although his book is based on a generalized 3D Physics Engine and only briefly discuses Collision Detection as their are full Books dedicated to the growing popularity of such complex beasts.  </p>\n"}], "owner": {"reputation": 127, "user_id": 7488980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9829e797b238d603a6cf52b6f94831a?s=128&d=identicon&r=PG&f=1", "display_name": "schnavid", "link": "https://stackoverflow.com/users/7488980/schnavid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1588, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1519878657, "creation_date": 1519843984, "last_edit_date": 1519848823, "question_id": 49036609, "link": "https://stackoverflow.com/questions/49036609/aabb-vs-circle-collision-in-custom-physics-engine", "title": "AABB vs Circle collision in custom physics engine", "body": "<p>I have followed this tutorial: <a href=\"https://gamedevelopment.tutsplus.com/tutorials/how-to-create-a-custom-2d-physics-engine-the-basics-and-impulse-resolution--gamedev-6331\" rel=\"nofollow noreferrer\">https://gamedevelopment.tutsplus.com/tutorials/how-to-create-a-custom-2d-physics-engine-the-basics-and-impulse-resolution--gamedev-6331</a> to create a 2d physics engine in c# (he works in almost all the time wrong and inconsistent pseudo c++) I've got Circle vs Circle collision and AABB vs AABB collision working fine. But when trying the AABB vs Circle collison (below) the two rigidbodies just stick together and slowly move glitchy in one direction.</p>\n\n<p>I would be super thankful if someone could help me with this as I have spent days and still don't know what's causing the error.</p>\n\n<p>If someone needs more information from my code, I'd be happy to provide it.</p>\n\n<pre><code>public static bool AABBvsCircle(ref Collision result) {\n        RigidBody AABB = result.a.Shape is AABB ? result.a : result.b;\n        RigidBody CIRCLE = result.b.Shape is Circle ? result.b : result.a;\n\n        Vector2 n = CIRCLE.Position - AABB.Position;\n\n        Vector2 closest = n;\n\n        float x_extent = ((AABB)AABB.Shape).HalfWidth;\n        float y_extent = ((AABB)AABB.Shape).HalfHeight;\n\n        closest.X = Clamp(-x_extent, x_extent, closest.X);\n        closest.Y = Clamp(-y_extent, y_extent, closest.Y);\n\n\n        bool inside = false;\n\n        if (n == closest) {\n            inside = true;\n\n            if (Abs(n.X) &gt; Abs(n.Y)) {\n                // Clamp to closest extent\n                if (closest.X &gt; 0)\n                    closest.X = x_extent;\n                else\n                    closest.X = -x_extent;\n            }\n\n            // y axis is shorter\n            else {\n                // Clamp to closest extent\n                if (closest.Y &gt; 0)\n                    closest.Y = y_extent;\n                else\n                    closest.Y = -y_extent;\n            }\n        }\n\n        Vector2 normal = n - closest;\n        float d = normal.LengthSquared();\n        float r = ((Circle)CIRCLE.Shape).Radius;\n\n        // Early out of the radius is shorter than distance to closest point and\n        // Circle not inside the AABB\n        if (d &gt; (r * r) &amp;&amp; !inside)\n            return false;\n\n        // Avoided sqrt until we needed\n        d = (float)Sqrt(d);\n\n        if (inside) {\n            result.normal = -normal / d;\n            result.penetration = r - d;\n        }\n        else {\n            result.normal = normal / d;\n            result.penetration = r - d;\n        }\n\n        return true;\n    }\n</code></pre>\n\n<p>edit 1 collison resolution method in \"Collision\" struct</p>\n\n<pre><code>public void Resolve() {\n        Vector2 rv = b.Velocity - a.Velocity;\n        float velAlongNormal = Vector2.Dot(rv, normal);\n\n        if (velAlongNormal &gt; 0)\n            return;\n\n        float e = Min(a.Restitution, b.Restitution);\n\n        float j = -(1 + e) * velAlongNormal;\n        j /= a.InvertedMass + b.InvertedMass;\n\n        Vector2 impulse = j * normal;\n        a.Velocity -= a.InvertedMass * impulse;\n        b.Velocity += b.InvertedMass * impulse;\n\n        const float percent = 0.2f; // usually 20% to 80%\n        const float slop = 0.01f; // usually 0.01 to 0.1\n        Vector2 correction = Max(penetration - slop, 0.0f) / (a.InvertedMass + b.InvertedMass) * percent * normal;\n        if (float.IsNaN(correction.X) || float.IsNaN(correction.Y))\n            correction = Vector2.Zero;\n        a.Position -= a.InvertedMass * correction;\n        b.Position += b.InvertedMass * correction;\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "routes", "asp.net-mvc-routing"], "comments": [{"owner": {"reputation": 457, "user_id": 2212697, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4aeb4cb5316ae7bd301893eee6fa250?s=128&d=identicon&r=PG", "display_name": "Pedro Fernandes Filho", "link": "https://stackoverflow.com/users/2212697/pedro-fernandes-filho"}, "edited": false, "score": 0, "creation_date": 1519843848, "post_id": 49036487, "comment_id": 85078007, "body": "More specific routes need to be first."}, {"owner": {"reputation": 2072, "user_id": 7674734, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/X9FgI.jpg?s=128&g=1", "display_name": "Anis Alibegi\u0107", "link": "https://stackoverflow.com/users/7674734/anis-alibegi%c4%87"}, "edited": false, "score": 0, "creation_date": 1519844731, "post_id": 49036487, "comment_id": 85078505, "body": "Just do what Pedro said. First goes the <code>TestRoute</code> route and then the <code>Default</code> route."}, {"owner": {"reputation": 317, "user_id": 9114700, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/218d982722d64832734a858ba6e68748?s=128&d=identicon&r=PG&f=1", "display_name": "Max Boy", "link": "https://stackoverflow.com/users/9114700/max-boy"}, "edited": false, "score": 0, "creation_date": 1519846378, "post_id": 49036487, "comment_id": 85079422, "body": "It works! Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 50853, "user_id": 181087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85700c2c160866ef6924fc491a3ce574?s=128&d=identicon&r=PG", "display_name": "NightOwl888", "link": "https://stackoverflow.com/users/181087/nightowl888"}, "is_accepted": true, "score": 1, "last_activity_date": 1519846807, "creation_date": 1519846807, "answer_id": 49037341, "question_id": 49036487, "link": "https://stackoverflow.com/questions/49036487/asp-net-mvc-maproute-more-than-1-parameter-issue/49037341#49037341", "title": "ASP.NET MVC MapRoute more than 1 parameter issue", "body": "<p>There are several issues here:</p>\n\n<ol>\n<li>More specific routes should be registered first before general ones.</li>\n<li>Since the first match always wins, routes need to be <em>constrained</em> in some way. For example, to keep route A that is registered before route B from matching the cases that should be handled by route B.</li>\n<li>The most logical behavior is usually to make route values <strong>required</strong>, not optional.</li>\n</ol>\n\n<p><br></p>\n\n<pre><code>public static void RegisterRoutes(RouteCollection routes)\n{\n    routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\n    // Register the most specific route first\n    routes.MapRoute(\n        \"TestRoute\",\n\n        // Constrain the URL - the simplest way is just to add a literal\n        // segment like this, but you could make a route constraint instead.\n        \"Test/{action}/{id}/{tID}\", \n\n        // Don't set a value for id or tID to make these route values required.\n        // If it makes sense to use /Test/Action without any additional segments,\n        // then setting defaults is okay.\n        new { controller = \"Test\", action = \"Index\" }  \n    );\n\n    routes.MapRoute(\n        name: \"Default\",\n        url: \"{controller}/{action}/{id}\",\n        defaults: new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }\n    );\n}\n</code></pre>\n\n<p>Reference: <a href=\"https://stackoverflow.com/a/35674633\">Why map special routes first before common routes in asp.net mvc?</a></p>\n"}], "owner": {"reputation": 317, "user_id": 9114700, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/218d982722d64832734a858ba6e68748?s=128&d=identicon&r=PG&f=1", "display_name": "Max Boy", "link": "https://stackoverflow.com/users/9114700/max-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 49037341, "answer_count": 1, "score": 0, "last_activity_date": 1519856135, "creation_date": 1519843514, "last_edit_date": 1519856135, "question_id": 49036487, "link": "https://stackoverflow.com/questions/49036487/asp-net-mvc-maproute-more-than-1-parameter-issue", "title": "ASP.NET MVC MapRoute more than 1 parameter issue", "body": "<p>I'm trying to use <code>MapRoute</code> with more than one parameter, but it is not working properly. </p>\n\n<p>My <code>RegisterRoutes</code>:</p>\n\n<pre><code>public static void RegisterRoutes(RouteCollection routes)\n{\n    routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\n    routes.MapRoute(\n        name: \"Default\",\n        url: \"{controller}/{action}/{id}\",\n        defaults: new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }\n    );\n    routes.MapRoute(\n        \"TestRoute\",                                              // Route name\n        \"{controller}/{action}/{id}/{tID}\",                           // URL with parameters\n        new { controller = \"Test\", action = \"Index\", id = \"\", tID = \"\" }  // Parameter defaults\n    );\n}\n</code></pre>\n\n<p>My Test controller:</p>\n\n<pre><code>public class TestController : Controller\n{\n    public ActionResult Index(int? id, int? tID)\n    {\n        // Some code to create viewModel\n\n        return View(viewModel);\n    }\n}\n</code></pre>\n\n<p>I call this method from a <code>Html.ActionLink</code>:</p>\n\n<pre><code>@Html.ActionLink(@item.Description, \"Index\", \"Test\", \n    new { id = @item.CatID, tID = @item.myTID }, null)\n</code></pre>\n\n<p>However, it returns the url as: <code>/Test/Index/3?tID=264981</code> instead of <code>/Test/Index/3/264981</code></p>\n\n<p>Does anybody know what I'm doing wrong?</p>\n"}, {"tags": ["c#", "html", "asp.net-mvc", "razor"], "comments": [{"owner": {"reputation": 1061, "user_id": 1232818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cLLgT.jpg?s=128&g=1", "display_name": "Christopher Bales", "link": "https://stackoverflow.com/users/1232818/christopher-bales"}, "edited": false, "score": 0, "creation_date": 1519850303, "post_id": 49036459, "comment_id": 85081434, "body": "Dupe of <a href=\"https://stackoverflow.com/a/23799134/1232818\">stackoverflow.com/a/23799134/1232818</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6776240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cb4caa55096133c500e1f3165ecd764?s=128&d=identicon&r=PG&f=1", "display_name": "Cyril Rat", "link": "https://stackoverflow.com/users/6776240/cyril-rat"}, "is_accepted": false, "score": 0, "last_activity_date": 1519851959, "creation_date": 1519851959, "answer_id": 49038556, "question_id": 49036459, "link": "https://stackoverflow.com/questions/49036459/how-to-set-default-value-from-drop-down-list/49038556#49038556", "title": "How to set default value from drop down list", "body": "<pre><code>    @Html.DropDownListFor (x =&gt; x.Nabava.PdvId, Model.Nabava.IznosPdvSelectList, \"...\", new { @class = \"js-select2\", id = \"ddlIznosPdv\", Value=3})\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7512602"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 276, "favorite_count": 0, "closed_date": 1519853402, "answer_count": 1, "score": 0, "last_activity_date": 1519851959, "creation_date": 1519843409, "last_edit_date": 1519845003, "question_id": 49036459, "link": "https://stackoverflow.com/questions/49036459/how-to-set-default-value-from-drop-down-list", "closed_reason": "Duplicate", "title": "How to set default value from drop down list", "body": "<p>How to set default value to PdvId = 3. I have five values in my IznosPdvSelectList and I want that on Id = 3</p>\n\n<pre><code>@Html.DropDownListFor\n (x =&gt; x.Nabava.PdvId,\n Model.Nabava.IznosPdvSelectList,\n \"...\",\n new { @class = \"js-select2\", id = \"ddlIznosPdv\"})\n</code></pre>\n"}, {"tags": ["c#", "tor"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 9415642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1fb1b92a9591ea42ae9ab47ff030d4c?s=128&d=identicon&r=PG&f=1", "display_name": "BadAss", "link": "https://stackoverflow.com/users/9415642/badass"}, "edited": false, "score": 0, "creation_date": 1519843505, "post_id": 49036440, "comment_id": 85077850, "body": "Now the second browser says: &quot;The proxy server is refusing connections&quot;"}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "reply_to_user": {"reputation": 51, "user_id": 9415642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1fb1b92a9591ea42ae9ab47ff030d4c?s=128&d=identicon&r=PG&f=1", "display_name": "BadAss", "link": "https://stackoverflow.com/users/9415642/badass"}, "edited": false, "score": 1, "creation_date": 1519843604, "post_id": 49036440, "comment_id": 85077893, "body": "@BadAss Do you have a second tor instance running and listening on port 9152?"}, {"owner": {"reputation": 51, "user_id": 9415642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1fb1b92a9591ea42ae9ab47ff030d4c?s=128&d=identicon&r=PG&f=1", "display_name": "BadAss", "link": "https://stackoverflow.com/users/9415642/badass"}, "edited": false, "score": 0, "creation_date": 1519843890, "post_id": 49036440, "comment_id": 85078037, "body": "Even if I put some other port number it still the same problem"}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "reply_to_user": {"reputation": 51, "user_id": 9415642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1fb1b92a9591ea42ae9ab47ff030d4c?s=128&d=identicon&r=PG&f=1", "display_name": "BadAss", "link": "https://stackoverflow.com/users/9415642/badass"}, "edited": false, "score": 1, "creation_date": 1519844347, "post_id": 49036440, "comment_id": 85078312, "body": "@BadAss Open your task manager and see how many <b>tor instances</b> are running. You need at least 2"}, {"owner": {"reputation": 51, "user_id": 9415642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1fb1b92a9591ea42ae9ab47ff030d4c?s=128&d=identicon&r=PG&f=1", "display_name": "BadAss", "link": "https://stackoverflow.com/users/9415642/badass"}, "reply_to_user": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1519844644, "post_id": 49036440, "comment_id": 85078467, "body": "@Eser But how to fix?"}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "reply_to_user": {"reputation": 51, "user_id": 9415642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1fb1b92a9591ea42ae9ab47ff030d4c?s=128&d=identicon&r=PG&f=1", "display_name": "BadAss", "link": "https://stackoverflow.com/users/9415642/badass"}, "edited": false, "score": 0, "creation_date": 1519845219, "post_id": 49036440, "comment_id": 85078782, "body": "@BadAss see the <i>&quot;expert bundle&quot;</i> at <a href=\"https://www.torproject.org/download/download.html.en\" rel=\"nofollow noreferrer\">torproject.org/download/download.html.en</a>. Tor core without a browser (Since you create your own browsers you don&#39;t need it). (Or simply use the same socks port for both browser instances. (That would mean using a single tor instance) )"}, {"owner": {"reputation": 51, "user_id": 9415642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1fb1b92a9591ea42ae9ab47ff030d4c?s=128&d=identicon&r=PG&f=1", "display_name": "BadAss", "link": "https://stackoverflow.com/users/9415642/badass"}, "reply_to_user": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1519846581, "post_id": 49036440, "comment_id": 85079526, "body": "@Eser But I need differet ip addresses"}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "reply_to_user": {"reputation": 51, "user_id": 9415642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1fb1b92a9591ea42ae9ab47ff030d4c?s=128&d=identicon&r=PG&f=1", "display_name": "BadAss", "link": "https://stackoverflow.com/users/9415642/badass"}, "edited": false, "score": 0, "creation_date": 1519846667, "post_id": 49036440, "comment_id": 85079563, "body": "@BadAss So you know the solution. &quot;expert bundle&quot;"}, {"owner": {"reputation": 51, "user_id": 9415642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1fb1b92a9591ea42ae9ab47ff030d4c?s=128&d=identicon&r=PG&f=1", "display_name": "BadAss", "link": "https://stackoverflow.com/users/9415642/badass"}, "reply_to_user": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1519847042, "post_id": 49036440, "comment_id": 85079742, "body": "@Eser I can&#39;t find &quot;expert bundle&quot; in link that you gave"}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "reply_to_user": {"reputation": 51, "user_id": 9415642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1fb1b92a9591ea42ae9ab47ff030d4c?s=128&d=identicon&r=PG&f=1", "display_name": "BadAss", "link": "https://stackoverflow.com/users/9415642/badass"}, "edited": false, "score": 0, "creation_date": 1519847173, "post_id": 49036440, "comment_id": 85079796, "body": "@BadAss Come on, open &quot;Microsodt Windows&quot; tab... I quit... Seems like you won&#39;t be able to use it. Good Luck."}], "tags": [], "owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "is_accepted": false, "score": 1, "last_activity_date": 1519843322, "creation_date": 1519843322, "answer_id": 49036440, "question_id": 49036397, "link": "https://stackoverflow.com/questions/49036397/more-the-one-instance-of-tor-with-c/49036440#49036440", "title": "More the one instance of tor with c#", "body": "<p>Change this line:</p>\n\n<pre><code>        //Firefox's proxy driver executable is in a folder already\n        //  on the host system's PATH environment variable.\n        browser.Navigate().GoToUrl(\"http://dnsleaktest.com\");\n        //IWebElement header = browser.FindElement(By.Id(\u201csite - header\"));\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>        //Firefox's proxy driver executable is in a folder already\n        //  on the host system's PATH environment variable.\n        browser2.Navigate().GoToUrl(\"http://dnsleaktest.com\");\n        //IWebElement header = browser.FindElement(By.Id(\u201csite - header\"));\n</code></pre>\n\n<p>You were navigating the first browser object when you needed to be navigating the second browser object.</p>\n"}], "owner": {"reputation": 51, "user_id": 9415642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1fb1b92a9591ea42ae9ab47ff030d4c?s=128&d=identicon&r=PG&f=1", "display_name": "BadAss", "link": "https://stackoverflow.com/users/9415642/badass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519843643, "creation_date": 1519843166, "last_edit_date": 1592644375, "question_id": 49036397, "link": "https://stackoverflow.com/questions/49036397/more-the-one-instance-of-tor-with-c", "title": "More the one instance of tor with c#", "body": "<p>I am trying to open more then one instance of tor browser with different identities with c#.</p>\n<p>One of the brwoswers opens fine:</p>\n<p><a href=\"https://i.stack.imgur.com/ypvOA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ypvOA.png\" alt=\"enter image description here\" /></a></p>\n<p>But when the code opens the second I get empty browser:</p>\n<p><a href=\"https://i.stack.imgur.com/KhFqO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KhFqO.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my c# code:</p>\n<pre><code>IWebDriver browser;\n\nFirefoxProfile profile = new FirefoxProfile();\nprofile.SetPreference(&quot;network.proxy.type&quot;, 1);\nprofile.SetPreference(&quot;network.proxy.socks&quot;, &quot;127.0.0.1&quot;);\nprofile.SetPreference(&quot;network.proxy.socks_port&quot;, 9150);\nbrowser =  new FirefoxDriver(profile);\n//    browser.Quit();\n\n//Firefox's proxy driver executable is in a folder already\n//  on the host system's PATH environment variable.\nbrowser.Navigate().GoToUrl(&quot;http://dnsleaktest.com&quot;);\n//IWebElement header = browser.FindElement(By.Id(\u201csite - header&quot;));\n\n//Assert.True(header.Displayed);\n// browser.Close();\n\nThread.Sleep(10000);\nIWebDriver browser2;\n\nFirefoxProfile profile2 = new FirefoxProfile();\nprofile2.SetPreference(&quot;network.proxy.type&quot;, 1);\nprofile2.SetPreference(&quot;network.proxy.socks&quot;, &quot;127.0.0.1&quot;);\nprofile2.SetPreference(&quot;network.proxy.socks_port&quot;, 9152);\nbrowser2 = new FirefoxDriver(profile2);\n//    browser.Quit();\n\n//Firefox's proxy driver executable is in a folder already\n//  on the host system's PATH environment variable.\nbrowser.Navigate().GoToUrl(&quot;http://dnsleaktest.com&quot;);\n//IWebElement header = browser.FindElement(By.Id(\u201csite - header&quot;));\n\n//Assert.True(header.Displayed);\n// browser.Close();\n</code></pre>\n<p>Please correct my English if needed</p>\n<h1>NuGet:</h1>\n<ul>\n<li>NUnit3TestAdapter</li>\n<li>List itSelenium.WebDriverem</li>\n</ul>\n"}, {"tags": ["c#", "asp.net-core", "entity-framework-core", "aspnetboilerplate", "ef-core-2.0"], "comments": [{"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1519843761, "post_id": 49036375, "comment_id": 85077958, "body": "It&#39;s hard to follow your string based configuration, but looks like you forgot to mark <code>TestTest2.TestId</code> property as required, thus by convention EFC does not set cascade delete on."}], "answers": [{"comments": [{"owner": {"reputation": 12422, "user_id": 6527049, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/smnwW.jpg?s=128&g=1", "display_name": "vivek nuna", "link": "https://stackoverflow.com/users/6527049/vivek-nuna"}, "edited": false, "score": 0, "creation_date": 1519870857, "post_id": 49040993, "comment_id": 85088569, "body": "No need to add migration and run Update-Database after making this change?"}, {"owner": {"reputation": 16731, "user_id": 8601760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9348fa94d90ab91964df9cc40f6d6d27?s=128&d=identicon&r=PG&f=1", "display_name": "aaron", "link": "https://stackoverflow.com/users/8601760/aaron"}, "reply_to_user": {"reputation": 12422, "user_id": 6527049, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/smnwW.jpg?s=128&g=1", "display_name": "vivek nuna", "link": "https://stackoverflow.com/users/6527049/vivek-nuna"}, "edited": false, "score": 0, "creation_date": 1519885576, "post_id": 49040993, "comment_id": 85092413, "body": "You should do that."}], "tags": [], "owner": {"reputation": 16731, "user_id": 8601760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9348fa94d90ab91964df9cc40f6d6d27?s=128&d=identicon&r=PG&f=1", "display_name": "aaron", "link": "https://stackoverflow.com/users/8601760/aaron"}, "is_accepted": true, "score": 2, "last_activity_date": 1519865319, "creation_date": 1519865319, "answer_id": 49040993, "question_id": 49036375, "link": "https://stackoverflow.com/questions/49036375/implementation-of-hard-delete-for-entity-which-is-being-referred-in-other-entity/49040993#49040993", "title": "Implementation of Hard Delete for Entity which is being referred in other entity", "body": "<p>From the documentation on <a href=\"https://docs.microsoft.com/en-us/ef/core/saving/cascade-delete\" rel=\"nofollow noreferrer\">Cascade Delete</a>:</p>\n\n<blockquote>\n  <p>For optional relationships: <strong>ClientSetNull</strong> (default)<br>\n  - Effect on dependent/child in database: None</p>\n</blockquote>\n\n<p>You have to configure the delete behavior using Fluent API in your DbContext:</p>\n\n<pre><code>modelBuilder.Entity&lt;TestTest2&gt;()\n            .HasOne(t =&gt; t.Test)\n            .WithMany()\n            .OnDelete(DeleteBehavior.Cascade);\n</code></pre>\n"}], "owner": {"reputation": 12422, "user_id": 6527049, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/smnwW.jpg?s=128&g=1", "display_name": "vivek nuna", "link": "https://stackoverflow.com/users/6527049/vivek-nuna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 49040993, "answer_count": 1, "score": 0, "last_activity_date": 1519966541, "creation_date": 1519843078, "last_edit_date": 1519966541, "question_id": 49036375, "link": "https://stackoverflow.com/questions/49036375/implementation-of-hard-delete-for-entity-which-is-being-referred-in-other-entity", "title": "Implementation of Hard Delete for Entity which is being referred in other entity", "body": "<p>I'm trying to implement hard delete for <code>FullyAuditedEntity</code> Entity <code>Test</code>. The primary key of <code>Test</code> is <code>Id</code>, which is being referred to a <code>TestTest2</code> entity as a foreign key. When I'm trying to delete a record from <code>Test</code> entity, it gives the below error.</p>\n\n<p>I have followed <a href=\"https://stackoverflow.com/questions/48624498/disable-softdelete-for-abpuserrole/48625417#48625417\">this</a> question for implementation.</p>\n\n<p><strong>TestAppService</strong></p>\n\n<pre><code>public async Task DeleteTest(EntityDto&lt;string&gt; input)\n{\n    using (CurrentUnitOfWork.DisableFilter(AbpDataFilters.SoftDelete))\n    {\n        await _TestRepository.DeleteTest(input);\n        CurrentUnitOfWork.SaveChanges();\n    }\n}\n</code></pre>\n\n<p><strong>TestRepository</strong></p>\n\n<pre><code>public async Task DeleteArticle(EntityDto input)\n{\n    await DeleteAsync(x =&gt; x.Id == input.Id);\n}\n</code></pre>\n\n<p><strong>TestTest2</strong></p>\n\n<pre><code>[Table(\"TestTest2\")]\npublic class TestTest2 : FullAuditedEntity\n{\n    [ForeignKey(\"TestId\")]\n    public virtual Test Test { get; set; }\n    public virtual string TestId { get; set; }\n\n    [ForeignKey(\"Test2Id\")]\n    public virtual Test2Details Test2s { get; set; }\n    public virtual int Test2Id { get; set; }\n}\n</code></pre>\n\n<p><strong>MyProjectDbContextModelSnapshot</strong></p>\n\n<pre><code>modelBuilder.Entity(\"MyCompany.MyProject.Business.Model.Tests.TestTest2Association\", b =&gt;\n{\n    b.HasOne(\"MyCompany.MyProject.Business.Model.Tests.Test\", \"Test\")\n        .WithMany()\n        .HasForeignKey(\"TestId\");\n\n    b.HasOne(\"MyCompany.MyProject.Business.Model.Test2s.Test2Details\", \"Test2s\")\n        .WithMany()\n        .HasForeignKey(\"Test2Id\")\n        .OnDelete(DeleteBehavior.Cascade);\n});\n</code></pre>\n\n<blockquote>\n  <p>ERROR 2018-02-28 18:10:09,840 [26   ]\n  Mvc.ExceptionHandling.AbpExceptionFilter - An error occurred while\n  updating the entries. See the inner exception for details.\n  Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred\n  while updating the entries. See the inner exception for details. --->\n  System.Data.SqlClient.SqlException: The DELETE statement conflicted\n  with the REFERENCE constraint \"FK_TestTest2_Test_TestId\". The conflict\n  occurred in database \"MyProjectDb\", table \"dbo.TestTest2\", column\n  'TestId'. The statement has been terminated.    at\n  System.Data.SqlClient.SqlConMyCompanytion.OnError(SqlException\n  exception, Boolean breakConMyCompanytion, Action<code>1 wrapCloseInAction) \n  at\n  System.Data.SqlClient.SqlInternalConMyCompanytion.OnError(SqlException\n  exception, Boolean breakConMyCompanytion, Action</code>1 wrapCloseInAction) \n  at\n  System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject\n  stateObj, Boolean callerHasConMyCompanytionLock, Boolean asyncClose)<br>\n  at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior,\n  SqlCommand cmdHandler, SqlDataReader dataStream,\n  BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject\n  stateObj, Boolean&amp; dataReady)    at\n  System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()    at\n  System.Data.SqlClient.SqlDataReader.get_MetaData()    at\n  System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds,\n  RunBehavior runBehavior, String resetOptionsString)    at\n  System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior\n  cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean\n  async, Int32 timeout, Task&amp; task, Boolean asyncWrite, SqlDataReader\n  ds)    at\n  System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior\n  cmdBehavior, RunBehavior runBehavior, Boolean returnStream,\n  TaskCompletionSource<code>1 completion, Int32 timeout, Task&amp; task, Boolean\n  asyncWrite, String method)    at\n  System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior\n  behavior)    at\n  System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior\n  behavior)    at System.Data.Common.DbCommand.ExecuteReader()    at\n  Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConMyCompanytion\n  conMyCompanytion, DbCommandMethod executeMethod, IReadOnlyDictionary</code>2\n  parameterValues)    at\n  Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConMyCompanytion\n  conMyCompanytion, IReadOnlyDictionary<code>2 parameterValues)    at\n  Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConMyCompanytion\n  conMyCompanytion)    --- End of inner exception stack trace ---    at\n  Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConMyCompanytion\n  conMyCompanytion)    at\n  Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple</code>2\n  parameters)    at\n  Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState\n  state, Func<code>3 operation, Func</code>3 verifySucceeded)    at\n  Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy\n  strategy, TState state, Func<code>2 operation)    at\n  Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable</code>1\n  commandBatches, IRelationalConMyCompanytion conMyCompanytion)    at\n  Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList<code>1\n  entries)    at\n  Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList</code>1\n  entriesToSave)    at\n  Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean\n  acceptAllChangesOnSuccess)    at\n  Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean\n  acceptAllChangesOnSuccess)    at\n  Abp.EntityFrameworkCore.AbpDbContext.SaveChanges() in\n  D:\\Github\\aspnetboilerplate\\src\\Abp.EntityFrameworkCore\\EntityFrameworkCore\\AbpDbContext.cs:line\n  198    at\n  Abp.Zero.EntityFrameworkCore.AbpZeroCommonDbContext`3.SaveChanges() in\n  D:\\Github\\aspnetboilerplate\\src\\Abp.ZeroCore.EntityFrameworkCore\\Zero\\EntityFrameworkCore\\AbpZeroCommonDbContext.cs:line\n  154    at\n  Abp.EntityFrameworkCore.Uow.EfCoreUnitOfWork.SaveChangesInDbContext(DbContext\n  dbContext) in\n  D:\\Github\\aspnetboilerplate\\src\\Abp.EntityFrameworkCore\\EntityFrameworkCore\\Uow\\EfCoreUnitOfWork.cs:line\n  159    at Abp.EntityFrameworkCore.Uow.EfCoreUnitOfWork.SaveChanges()\n  in\n  D:\\Github\\aspnetboilerplate\\src\\Abp.EntityFrameworkCore\\EntityFrameworkCore\\Uow\\EfCoreUnitOfWork.cs:line\n  60    at\n  MyCompany.MyProject.Business.Services.Tests.TestAppService.d__12.MoveNext()\n  --- End of stack trace from previous location where exception was thrown ---    at\n  System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()    at\n  System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task\n  task)    at\n  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.d__12.MoveNext()\n  --- End of stack trace from previous location where exception was thrown ---    at\n  System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()    at\n  System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task\n  task)    at\n  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.d__10.MoveNext()\n  --- End of stack trace from previous location where exception was thrown ---    at\n  System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()    at\n  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext\n  context)    at\n  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State&amp;\n  next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)    at\n  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.d__14.MoveNext()\n  --- End of stack trace from previous location where exception was thrown ---    at\n  System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()    at\n  System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task\n  task)    at\n  Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.d__23.MoveNext()\n  INFO  2018-02-28 18:10:09,873 [26   ]\n  etCore.Mvc.Internal.ObjectResultExecutor - Executing ObjectResult,\n  writing value Microsoft.AspNetCore.Mvc.ControllerContext. INFO \n  2018-02-28 18:10:09,922 [26   ]\n  ore.Mvc.Internal.ControllerActionInvoker - Executed action\n  MyCompany.MyProject.Business.Services.Tests.TestAppService.DeleteTest\n  (MyCompany.MyProject.Business.Services) in 3940.4091ms INFO \n  2018-02-28 18:10:10,158 [26   ]\n  soft.AspNetCore.Hosting.Internal.WebHost - Request finished in\n  4037.4507ms 500 application/json; charset=utf-8</p>\n</blockquote>\n\n<p><strong>Note:</strong> It should delete the entry from <code>Test</code> and <code>Test2</code> tables.</p>\n\n<p><strong>Update</strong></p>\n\n<p>The below anwer works pretty well but I have some specific requirement. <code>Test</code> Entity <code>Id</code> is being referred in other tables like <code>TestTest2</code>, <code>TestTest3</code>, <code>TestTest4</code>, <code>TestTest5</code>. When I delete a record from <code>Test</code> table, it should delete from all tables. <strong>But I also need to call the other dependent tables ( for example <code>TestTest2</code>, <code>TestTest3</code>, <code>TestTest4</code>, <code>TestTest5</code>) Delete method to do some extra cleanup specific to that entity (for example <code>TestTest2</code>, <code>TestTest3</code>, <code>TestTest4</code>, <code>TestTest5</code>).</strong></p>\n\n<p><strong>TestRepository</strong></p>\n\n<pre><code>public async Task DeleteTest(EntityDto input)\n{\n    await DeleteAsync(input.Id);\n\n    _TestTest2Repository.Delete(x =&gt; x.TestId == input.Id);\n    _TestTest3Repository.Delete(x =&gt; x.TestId == input.Id);\n    _TestTest4Repository.Delete(x =&gt; x.TestId == input.Id);\n    _TestTest5Repository.Delete(x =&gt; x.TestId == input.Id);\n}\n</code></pre>\n"}, {"tags": ["c#", "windows", "winforms", "transparency", "creators-update"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1519846505, "post_id": 49036361, "comment_id": 85079488, "body": "It is a Creators bug, not just affecting Winforms apps, fairly remarkable that it doesn&#39;t generate more bug reports.  The canonical <a href=\"https://stackoverflow.com/questions/43615946/c-d3d9-alpha-blending-with-creators-update\">is here</a> but it merely says &quot;don&#39;t use TransparencyKey&quot;.  There is a stupid hack, taking advantage of another bug that&#39;s been around much longer, set the transparency to Color.Red.  That makes the button work but the window is no longer click-through."}, {"owner": {"reputation": 31, "user_id": 7483527, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JerswnsI5fg/AAAAAAAAAAI/AAAAAAAAAZQ/jXy2uH9Pww4/photo.jpg?sz=128", "display_name": "David Mann", "link": "https://stackoverflow.com/users/7483527/david-mann"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1519848167, "post_id": 49036361, "comment_id": 85080298, "body": "You are right, the buttons work if I make the BackColor Color.Red, but I still can&#39;t click on the PictureBox.  I will work around by making the Form semi-transparent by setting the Opacity.  Hope they fix this."}], "owner": {"reputation": 31, "user_id": 7483527, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JerswnsI5fg/AAAAAAAAAAI/AAAAAAAAAZQ/jXy2uH9Pww4/photo.jpg?sz=128", "display_name": "David Mann", "link": "https://stackoverflow.com/users/7483527/david-mann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1519843510, "creation_date": 1519843019, "last_edit_date": 1519843510, "question_id": 49036361, "link": "https://stackoverflow.com/questions/49036361/transparent-winforms-not-working-after-creators-update", "title": "Transparent WinForms not working after Creators Update", "body": "<p>I have an app that uses a transparent background of a Windows Form with an embedded PictureBox.  I draw in the picture box and with versions of Windows 10 before the Creators update I could click on the visible parts of the picture box image as well as the buttons on a toolbar at the bottom of my form.  I use the transparencyKey color setting to match the form background color.  Here is a snippet of C# code for the Form.</p>\n\n<pre><code>ecgPictureBox.BackColor = Color.Transparent;\nthis.BackColor = Color.Gray;\nthis.TransparencyKey = Color.Gray;\n</code></pre>\n\n<p>After the Creators update, when I click on visible parts of the form (including buttons on a toolbar at the bottom) most of the time the click \"falls through\" to the underlying window, though there a few odd points where the click does appear to be absorbed by the form.  This all worked perfectly on previous versions.  Here are two pictures\n<a href=\"https://i.stack.imgur.com/dgfdW.gif\" rel=\"nofollow noreferrer\">Not working (Creators update)</a>\n<a href=\"https://i.stack.imgur.com/rN6sB.gif\" rel=\"nofollow noreferrer\">Working! (earlier version Windows 10</a></p>\n\n<p>Anyone else have a problem with WinForms transparency after the Creators update, and any idea what is going on or how to fix it?</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1519845653, "post_id": 49036243, "comment_id": 85079030, "body": "Is your script named <code>MenuControl</code> in the Editor? The name should match with the class name....."}, {"owner": {"reputation": 1566, "user_id": 682355, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59191ba50eff53600102e0bbb74c75ba?s=128&d=identicon&r=PG", "display_name": "Rik", "link": "https://stackoverflow.com/users/682355/rik"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1519845915, "post_id": 49036243, "comment_id": 85079182, "body": "Yup. But for some reason I can&#39;t seem to access it. I can declare some classes in other class, but not others. I&#39;m confused"}, {"owner": {"reputation": 1566, "user_id": 682355, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59191ba50eff53600102e0bbb74c75ba?s=128&d=identicon&r=PG", "display_name": "Rik", "link": "https://stackoverflow.com/users/682355/rik"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1519845985, "post_id": 49036243, "comment_id": 85079220, "body": "I worked around it by accessing the controller from the menu script, but really an event system would be better because I want to have different controllers"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1519846070, "post_id": 49036243, "comment_id": 85079265, "body": "Ok. 1.What is the name o the script in which you are trying to access <code>MenuControl</code> from? 2.Where did you put that script in your project? 3.Where did you put <code>MenuControl</code> in your project? A screenshot to answer these questions will even be better."}, {"owner": {"reputation": 1566, "user_id": 682355, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59191ba50eff53600102e0bbb74c75ba?s=128&d=identicon&r=PG", "display_name": "Rik", "link": "https://stackoverflow.com/users/682355/rik"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1519846270, "post_id": 49036243, "comment_id": 85079350, "body": "MenuControl is in Assets/Scripts. RigidBodyFirstPersonController is in Assets/Standard Assets/Characters/FirstPersonCharacter/Scripts and is posted above"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1519846422, "post_id": 49036243, "comment_id": 85079439, "body": "Ok. See duplicate for the reason."}], "answers": [{"comments": [{"owner": {"reputation": 1566, "user_id": 682355, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59191ba50eff53600102e0bbb74c75ba?s=128&d=identicon&r=PG", "display_name": "Rik", "link": "https://stackoverflow.com/users/682355/rik"}, "edited": false, "score": 0, "creation_date": 1519843494, "post_id": 49036379, "comment_id": 85077846, "body": "if I do that, then it underlines and gives the same error for but for the portion in angle brackets &lt;MenuControl&gt;"}, {"owner": {"reputation": 1061, "user_id": 1232818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cLLgT.jpg?s=128&g=1", "display_name": "Christopher Bales", "link": "https://stackoverflow.com/users/1232818/christopher-bales"}, "reply_to_user": {"reputation": 1566, "user_id": 682355, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59191ba50eff53600102e0bbb74c75ba?s=128&d=identicon&r=PG", "display_name": "Rik", "link": "https://stackoverflow.com/users/682355/rik"}, "edited": false, "score": 0, "creation_date": 1519849911, "post_id": 49036379, "comment_id": 85081239, "body": "I noticed your MenuControl is not wrapped in a Namespace.  Wrap it with something like   <code>namespace Assets.Scripts{ }</code> This way your other file will be able to find it."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1519853149, "post_id": 49036379, "comment_id": 85082947, "body": "It has nothing to do with namespace. The problem is because of location where both scripts are placed. This is Unity specific feature."}], "tags": [], "owner": {"reputation": 1061, "user_id": 1232818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cLLgT.jpg?s=128&g=1", "display_name": "Christopher Bales", "link": "https://stackoverflow.com/users/1232818/christopher-bales"}, "is_accepted": false, "score": 0, "last_activity_date": 1519843088, "creation_date": 1519843088, "answer_id": 49036379, "question_id": 49036243, "link": "https://stackoverflow.com/questions/49036243/cant-declare-variable-in-unity/49036379#49036379", "title": "Can&#39;t declare variable in Unity", "body": "<p>MenuControl is a gameobject so it needs to be declared as a GameObject where you want to instantiate it.</p>\n\n<pre><code>public GameObject MenuControl;\n</code></pre>\n\n<p>Then you want to access the object's Script when you need properties on the object</p>\n\n<pre><code>MenuControl.GetComponent&lt;MenuControl&gt;().MyProperty\n</code></pre>\n"}], "owner": {"reputation": 1566, "user_id": 682355, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59191ba50eff53600102e0bbb74c75ba?s=128&d=identicon&r=PG", "display_name": "Rik", "link": "https://stackoverflow.com/users/682355/rik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 755, "favorite_count": 0, "closed_date": 1519846400, "answer_count": 1, "score": 0, "last_activity_date": 1519843088, "creation_date": 1519842521, "question_id": 49036243, "link": "https://stackoverflow.com/questions/49036243/cant-declare-variable-in-unity", "closed_reason": "Duplicate", "title": "Can&#39;t declare variable in Unity", "body": "<p>I'm trying to listen to an event the MenuControl which is on a dummy gameobject with game controls to control inactivate the mouse controls if the menu is open. The action of opening a menu would trigger this event. The listener (in this case the character controller) would then stop the movement script (freeing up the cursor) in the movement script. <strong>I can't seem to be able to declare an instance of a class from another script.</strong> For some reason it yells at me when I try to declare an instance of the MenuControl Class. Please help.</p>\n\n<pre><code>public MenuControl menuControl;\n</code></pre>\n\n<p>Yields message:</p>\n\n<pre><code>error CS0246: The type or namespace name `MenuControl' could not be found. Are you missing an assembly reference?\n</code></pre>\n\n<p>The script for MenuControl:</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.EventSystems;\n\n    public class MenuControl : MonoBehaviour\n    {\n        private Canvas[] canvas;\n        private float timePassed = 0f;\n\n        public float delayTime = .1f;\n        public KeyCode MenuKey = KeyCode.M;\n        // Use this for initialization\n        public delegate void OnMenuOpen(bool menuOpen); // declare new delegate type\n        public event OnMenuOpen notifyMenuOpenObservers; // instantiate an observer set\n\n\n        void Start()\n        {\n            canvas = FindObjectsOfType&lt;Canvas&gt;();\n            canvas[1].enabled = false;\n        }\n\n        // Update is called once per frame\n        void Update()\n        {\n\n        }\n        public void ToggleView()\n        {\n            print(\"hello world\");\n\n\n        }\n        private void FixedUpdate()\n        {\n            timePassed += Time.deltaTime;\n            if (Input.GetKey(MenuKey))\n            {\n\n                if (timePassed &gt; delayTime)\n                {\n                    canvas[1].enabled = !canvas[1].enabled;\n                    canvas[0].enabled = !canvas[0].enabled;\n                    if (!canvas[1].enabled)\n                    {\n                        Cursor.lockState = CursorLockMode.Locked;\n                        Cursor.visible = false;\n                        notifyMenuOpenObservers(false);\n                    }\n                    else if (canvas[1].enabled)\n                    {\n                        Cursor.lockState = CursorLockMode.None;\n                        Cursor.visible = true;\n                        notifyMenuOpenObservers(false);\n                    }\n                    timePassed = 0;\n                }\n\n\n            }\n        }\n    }\n</code></pre>\n\n<p>The containing script:</p>\n\n<pre><code>using System;\nusing UnityEngine;\nusing UnityStandardAssets.CrossPlatformInput;\n\nnamespace UnityStandardAssets.Characters.FirstPerson\n{\n    [RequireComponent(typeof (Rigidbody))]\n    [RequireComponent(typeof (CapsuleCollider))]\n    public class RigidbodyFirstPersonController : MonoBehaviour\n    {\n        [Serializable]\n        public class MovementSettings\n        {\n            public float ForwardSpeed = 8.0f;   // Speed when walking forward\n            public float BackwardSpeed = 4.0f;  // Speed when walking backwards\n            public float StrafeSpeed = 4.0f;    // Speed when walking sideways\n            public float RunMultiplier = 2.0f;   // Speed when sprinting\n            public KeyCode RunKey = KeyCode.LeftShift;\n            public float JumpForce = 30f;\n            public AnimationCurve SlopeCurveModifier = new AnimationCurve(new Keyframe(-90.0f, 1.0f), new Keyframe(0.0f, 1.0f), new Keyframe(90.0f, 0.0f));\n            [HideInInspector] public float CurrentTargetSpeed = 8f;\n\n#if !MOBILE_INPUT\n            private bool m_Running;\n#endif\n\n            public void UpdateDesiredTargetSpeed(Vector2 input)\n            {\n                if (input == Vector2.zero) return;\n                if (input.x &gt; 0 || input.x &lt; 0)\n                {\n                    //strafe\n                    CurrentTargetSpeed = StrafeSpeed;\n                }\n                if (input.y &lt; 0)\n                {\n                    //backwards\n                    CurrentTargetSpeed = BackwardSpeed;\n                }\n                if (input.y &gt; 0)\n                {\n                    //forwards\n                    //handled last as if strafing and moving forward at the same time forwards speed should take precedence\n                    CurrentTargetSpeed = ForwardSpeed;\n                }\n#if !MOBILE_INPUT\n                if (Input.GetKey(RunKey))\n                {\n                    CurrentTargetSpeed *= RunMultiplier;\n                    m_Running = true;\n                }\n                else\n                {\n                    m_Running = false;\n                }\n#endif\n\n#if !MOBILE_INPUT\n\n    }\n#endif\n\n#if !MOBILE_INPUT\npublic bool Running\n            {\n                get { return m_Running; }\n            }\n#endif\n        }\n\n\n        [Serializable]\n        public class AdvancedSettings\n        {\n            public float groundCheckDistance = 0.01f; // distance for checking if the controller is grounded ( 0.01f seems to work best for this )\n            public float stickToGroundHelperDistance = 0.5f; // stops the character\n            public float slowDownRate = 20f; // rate at which the controller comes to a stop when there is no input\n            public bool airControl; // can the user control the direction that is being moved in the air\n            [Tooltip(\"set it to 0.1 or more if you get stuck in wall\")]\n            public float shellOffset; //reduce the radius by that ratio to avoid getting stuck in wall (a value of 0.1f is nice)\n        }\n\n\n        public Camera cam;\n        public MovementSettings movementSettings = new MovementSettings();\n        public MouseLook mouseLook = new MouseLook();\n        public AdvancedSettings advancedSettings = new AdvancedSettings();\n\n\n        private Rigidbody m_RigidBody;\n        private CapsuleCollider m_Capsule;\n\n        private float m_YRotation;\n        private Vector3 m_GroundContactNormal;\n        private bool m_Jump, m_PreviouslyGrounded, m_Jumping, m_IsGrounded;\n        public KeyCode OpenKey = KeyCode.E;\n        public KeyCode ForwardKey = KeyCode.F;\n\n        public float distanceToForward=1.2f;\n\n        private bool screenFrozen = false;\n        public GameObject roomManager;\n        public MenuControl menuControl;\n\n        public Vector3 Velocity\n        {\n            get { return m_RigidBody.velocity; }\n        }\n\n        public bool Grounded\n        {\n            get { return m_IsGrounded; }\n        }\n\n        public bool Jumping\n        {\n            get { return m_Jumping; }\n        }\n\n        public bool Running\n        {\n            get\n            {\n #if !MOBILE_INPUT\n                return movementSettings.Running;\n#else\n                return false;\n#endif\n            }\n        }\n\n        private void Start()\n        {\n            m_RigidBody = GetComponent&lt;Rigidbody&gt;();\n            m_Capsule = GetComponent&lt;CapsuleCollider&gt;();\n\n            mouseLook.Init (transform, cam.transform);\n\n\n\n\n\n        }\n\n\n        private void Update()\n        {\n            RotateView();\n\n            if (CrossPlatformInputManager.GetButtonDown(\"Jump\") &amp;&amp; !m_Jump)\n            {\n                m_Jump = true;\n            }\n        }\n\n\n        private void FixedUpdate()\n        {\n            GroundCheck();\n            Vector2 input = GetInput();\n\n            if ((Mathf.Abs(input.x) &gt; float.Epsilon || Mathf.Abs(input.y) &gt; float.Epsilon) &amp;&amp; (advancedSettings.airControl || m_IsGrounded))\n            {\n                // always move along the camera forward as it is the direction that it being aimed at\n                Vector3 desiredMove = cam.transform.forward*input.y + cam.transform.right*input.x;\n                desiredMove = Vector3.ProjectOnPlane(desiredMove, m_GroundContactNormal).normalized;\n\n                desiredMove.x = desiredMove.x*movementSettings.CurrentTargetSpeed;\n                desiredMove.z = desiredMove.z*movementSettings.CurrentTargetSpeed;\n                desiredMove.y = desiredMove.y*movementSettings.CurrentTargetSpeed;\n                if (m_RigidBody.velocity.sqrMagnitude &lt;\n                    (movementSettings.CurrentTargetSpeed*movementSettings.CurrentTargetSpeed))\n                {\n                    m_RigidBody.AddForce(desiredMove*SlopeMultiplier(), ForceMode.Impulse);\n                }\n            }\n\n            if (m_IsGrounded)\n            {\n                m_RigidBody.drag = 5f;\n\n                if (m_Jump)\n                {\n                    m_RigidBody.drag = 0f;\n                    m_RigidBody.velocity = new Vector3(m_RigidBody.velocity.x, 0f, m_RigidBody.velocity.z);\n                    m_RigidBody.AddForce(new Vector3(0f, movementSettings.JumpForce, 0f), ForceMode.Impulse);\n                    m_Jumping = true;\n                }\n\n                if (!m_Jumping &amp;&amp; Mathf.Abs(input.x) &lt; float.Epsilon &amp;&amp; Mathf.Abs(input.y) &lt; float.Epsilon &amp;&amp; m_RigidBody.velocity.magnitude &lt; 1f)\n                {\n                    m_RigidBody.Sleep();\n                }\n            }\n            else\n            {\n                m_RigidBody.drag = 0f;\n                if (m_PreviouslyGrounded &amp;&amp; !m_Jumping)\n                {\n                    StickToGroundHelper();\n                }\n            }\n            m_Jump = false;\n            if (Input.GetKey(OpenKey))\n            {\n\n                RaycastHit hit;\n                Vector3 vec = cam.transform.forward;\n                Debug.DrawRay(cam.transform.position, cam.transform.forward, Color.green);\n                if (Physics.Raycast(cam.transform.position, vec, out hit, 100))\n                {\n                    //Debug.Log(hit.collider.gameObject.name);\n                    if (hit.collider.gameObject.name == \"Door\")\n                    {\n                        hit.collider.transform.parent.parent.SendMessage(\"OpenDoor\");\n                    }\n                }\n            }\n            if (Input.GetKey(ForwardKey))\n            {\n               RaycastHit hit;\n                Vector3 vec = cam.transform.forward;\n                Vector3 currposition = transform.position;\n                if (Physics.Raycast(currposition, vec, out hit, 100))\n                {\n                    float d = (hit.point - transform.position).magnitude;\n                    if (distanceToForward &lt; d)\n                    {\n                        float y = transform.position.y;\n                        transform.position = new Vector3(\n                            (hit.point * (d - distanceToForward) / d + transform.position * distanceToForward / d).x,\n                            transform.position.y,\n                            (hit.point * (d - distanceToForward) / d + transform.position * distanceToForward / d).z\n                            );\n\n\n                    }\n                }\n            }\n\n        }\n\n\n\n        private float SlopeMultiplier()\n        {\n            float angle = Vector3.Angle(m_GroundContactNormal, Vector3.up);\n            return movementSettings.SlopeCurveModifier.Evaluate(angle);\n        }\n\n\n        private void StickToGroundHelper()\n        {\n            RaycastHit hitInfo;\n            if (Physics.SphereCast(transform.position, m_Capsule.radius * (1.0f - advancedSettings.shellOffset), Vector3.down, out hitInfo,\n                                   ((m_Capsule.height/2f) - m_Capsule.radius) +\n                                   advancedSettings.stickToGroundHelperDistance, Physics.AllLayers, QueryTriggerInteraction.Ignore))\n            {\n                if (Mathf.Abs(Vector3.Angle(hitInfo.normal, Vector3.up)) &lt; 85f)\n                {\n                    m_RigidBody.velocity = Vector3.ProjectOnPlane(m_RigidBody.velocity, hitInfo.normal);\n                }\n            }\n        }\n\n\n        private Vector2 GetInput()\n        {\n\n            Vector2 input = new Vector2\n                {\n                    x = CrossPlatformInputManager.GetAxis(\"Horizontal\"),\n                    y = CrossPlatformInputManager.GetAxis(\"Vertical\")\n                };\n            movementSettings.UpdateDesiredTargetSpeed(input);\n            return input;\n        }\n\n\n        private void RotateView()\n        {\n            //avoids the mouse looking if the game is effectively paused\n            if (Mathf.Abs(Time.timeScale) &lt; float.Epsilon) return;\n            if (screenFrozen) return;\n\n            // get the rotation before it's changed\n            float oldYRotation = transform.eulerAngles.y;\n\n            mouseLook.LookRotation (transform, cam.transform);\n\n            if (m_IsGrounded || advancedSettings.airControl)\n            {\n                // Rotate the rigidbody velocity to match the new direction that the character is looking\n                Quaternion velRotation = Quaternion.AngleAxis(transform.eulerAngles.y - oldYRotation, Vector3.up);\n                m_RigidBody.velocity = velRotation*m_RigidBody.velocity;\n            }\n        }\n\n        /// sphere cast down just beyond the bottom of the capsule to see if the capsule is colliding round the bottom\n        private void GroundCheck()\n        {\n            m_PreviouslyGrounded = m_IsGrounded;\n            RaycastHit hitInfo;\n            if (Physics.SphereCast(transform.position, m_Capsule.radius * (1.0f - advancedSettings.shellOffset), Vector3.down, out hitInfo,\n                                   ((m_Capsule.height/2f) - m_Capsule.radius) + advancedSettings.groundCheckDistance, Physics.AllLayers, QueryTriggerInteraction.Ignore))\n            {\n                m_IsGrounded = true;\n                m_GroundContactNormal = hitInfo.normal;\n            }\n            else\n            {\n                m_IsGrounded = false;\n                m_GroundContactNormal = Vector3.up;\n            }\n            if (!m_PreviouslyGrounded &amp;&amp; m_IsGrounded &amp;&amp; m_Jumping)\n            {\n                m_Jumping = false;\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "typescript", "servicestack", "servicestack-autoquery"], "answers": [{"comments": [{"owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "edited": false, "score": 1, "creation_date": 1519844750, "post_id": 49036713, "comment_id": 85078514, "body": "Excellent. I agree about not using interfaces, especially with how Typescript uses them. That interface came up when trying to make a <code>List&lt;IGadget&gt;</code> that could hold all the types and bled over into the endpoint.  But once again, @mythz to the rescue. Thanks again for being so present in the community!"}], "tags": [], "owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "is_accepted": true, "score": 4, "last_activity_date": 1519844346, "creation_date": 1519844346, "answer_id": 49036713, "question_id": 49036213, "link": "https://stackoverflow.com/questions/49036213/servicestack-force-generation-of-typescript-types-for-certain-classes/49036713#49036713", "title": "ServiceStack - Force generation of Typescript types for certain classes", "body": "<p>I'd highly recommend against <a href=\"https://stackoverflow.com/a/10759250/85785\">using interfaces in DTOs</a>, it's fine to have multiple Request DTOs implement the same interface, but it shouldn't be used in place of a concrete DTO.</p>\n\n<p>Having said that you could create a <code>Dummy</code> service that holds a reference to all your DTOs, e.g:</p>\n\n<pre><code>public class DummyHolder : IReturnVoid\n{\n    public GadgetDto GadgetDto { get; set; }\n    //...\n}\n\npublic class DummyService : Service\n{\n    public void Any(DummyHolder request){}\n}\n</code></pre>\n\n<p>Alternatively you can add them to <code>ExportTypes</code> in the pre-defined <code>NativeTypesFeature</code> in your <code>AppHost.Configure()</code>:</p>\n\n<pre><code>var nativeTypes = this.GetPlugin&lt;NativeTypesFeature&gt;();\nnativeTypes.MetadataTypesConfig.ExportTypes.Add(typeof(GadgetDto));\n</code></pre>\n"}], "owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 49036713, "answer_count": 1, "score": 4, "last_activity_date": 1519844346, "creation_date": 1519842369, "question_id": 49036213, "link": "https://stackoverflow.com/questions/49036213/servicestack-force-generation-of-typescript-types-for-certain-classes", "title": "ServiceStack - Force generation of Typescript types for certain classes", "body": "<p>I'm working with a backend primarily focused on a ServiceStack API and a Typescript frontend (with the ServiceStack <code>JsonServiceClient</code>) interacting with it. This is a large project, so the ability to scale is quite important, and our goal is to have strong type enforcement throughout. Things have been going well so far, but I'm encountering a snag here.</p>\n\n<p>We have an entity that I'll call <code>Gadget</code>:</p>\n\n<pre><code>public class GadgetDto\n{\n    public int Id { get; set; }\n    // other stuff...\n}\n</code></pre>\n\n<p>Through AutoQuery, we have an endpoint that returns a list <code>Gadget</code>s:</p>\n\n<pre><code>[Route(\"/query/gadgets\", HttpMethods.Get)]\npublic class QueryableGadget : QueryData&lt;GadgetDto&gt;\n{\n}\n</code></pre>\n\n<p><strong>However</strong>, the need has arisen to create multiple classes of <code>Gadget</code>s, so instead I've refactored to have gadgets derive from a base class and interface:</p>\n\n<pre><code>public interface IGadget\n{\n    int Id { get; set; }\n}\n\npublic abstract class GadgetBase : IGadget\n{\n    public int Id { get; set; }\n}\n\npublic class TabbedGadget : GadgetBase\n{\n    public List&lt;Tab&gt; Tabs { get; set; }\n}\n</code></pre>\n\n<p>and I've refactored our endpoint to take the interface instead:</p>\n\n<pre><code>[Route(\"/query/gadgets\", HttpMethods.Get)]\npublic class QueryableGadget : QueryData&lt;IGadget&gt;\n</code></pre>\n\n<p>This works well. Since we're using <code>QueryData</code>, we can create a <code>List&lt;IGadget&gt;</code> that is sent back as a response, with every implementing type included.</p>\n\n<p>The problem I'm having is getting Typescript types generated for derived classes, like <code>GadgetBase</code> and <code>TabbedGadget</code>. I understand why they're not generated automatically, as the types are not used in the API metadata, but so far I'm clueless as to how to communicate to the Typescript client that the list could contain a concrete number of types that implement <code>IGadget</code>, and how to get those types generated.</p>\n\n<p>Is there a way, through some ServiceStack attribute or through a different approach, that I could 'force' the generation of these Typescript types and have them be exposed in the metadata (<code>/types/typescript</code>)?</p>\n\n<p>Thanks ahead of time!</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-identity", "owin", "identityserver3"], "answers": [{"comments": [{"owner": {"reputation": 735, "user_id": 4692102, "user_type": "registered", "profile_image": "https://graph.facebook.com/1551899068193391/picture?type=large", "display_name": "MultiValidation", "link": "https://stackoverflow.com/users/4692102/multivalidation"}, "edited": false, "score": 0, "creation_date": 1521204667, "post_id": 49321178, "comment_id": 85643361, "body": "This does what I needed, but still I hoped there is a way to achieve it without adding the claims manually. Is this even possible in this scenario?"}], "tags": [], "owner": {"reputation": 735, "user_id": 4692102, "user_type": "registered", "profile_image": "https://graph.facebook.com/1551899068193391/picture?type=large", "display_name": "MultiValidation", "link": "https://stackoverflow.com/users/4692102/multivalidation"}, "is_accepted": true, "score": 3, "last_activity_date": 1521204530, "creation_date": 1521204530, "answer_id": 49321178, "question_id": 49036047, "link": "https://stackoverflow.com/questions/49036047/identityserver3-authorize-in-custom-mvc-controller-in-identity-server-applicatio/49321178#49321178", "title": "IdentityServer3 Authorize in custom MVC controller in identity server application", "body": "<p>Ok, so after a bit of a struggle I managed to put something together that does the job.\nI am retrieving the needed claims in OnAuthentication() in OwinAuthenticationAttribute  like this:</p>\n\n<pre><code>            var userManager = ctx.GetUserManager&lt;ApplicationUserManager&gt;();\n            string sub = result.Identity.FindFirst(\"sub\")?.Value;\n\n            if (userManager.SupportsUserClaim)\n            {\n                result.Identity.AddClaims(await userManager.GetClaimsAsync(sub));\n            }\n\n            if (userManager.SupportsUserRole)\n            {\n                IList&lt;string&gt; roles = await userManager.GetRolesAsync(sub);\n\n                foreach (string roleName in roles)\n                {\n                    result.Identity.AddClaim(new Claim(IdentityServer3.Core.Constants.ClaimTypes.Role, roleName, ClaimValueTypes.String));\n                }\n            }\n</code></pre>\n"}], "owner": {"reputation": 735, "user_id": 4692102, "user_type": "registered", "profile_image": "https://graph.facebook.com/1551899068193391/picture?type=large", "display_name": "MultiValidation", "link": "https://stackoverflow.com/users/4692102/multivalidation"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1029, "favorite_count": 2, "accepted_answer_id": 49321178, "answer_count": 1, "score": 3, "last_activity_date": 1521204530, "creation_date": 1519841682, "last_edit_date": 1520324788, "question_id": 49036047, "link": "https://stackoverflow.com/questions/49036047/identityserver3-authorize-in-custom-mvc-controller-in-identity-server-applicatio", "title": "IdentityServer3 Authorize in custom MVC controller in identity server application", "body": "<p>I have an Identity Server 3 application used for SSO. In the same application in which the IdentityServer is running I have integrated Asp.Net MVC controllers for user registration and so on. However I have some methods which cannot be accessed without a specific role and I want to use the Authorize attribute in order to do the role check.</p>\n\n<p>As per this GitHub thread <a href=\"https://github.com/IdentityServer/IdentityServer3/issues/1148\" rel=\"nofollow noreferrer\">https://github.com/IdentityServer/IdentityServer3/issues/1148</a> I have setup said controller to use the same base route as IdentityServer in order to be in the Owin pipeline.</p>\n\n<p>In the thread there is an attribute snippet which in general does what I want. It authenticates the user and gets some of their claims, but the problem is that many claims are missing- the role claim, for example, which I need for the Authorize attribute to work. I spent many hours trying to see why there are missing claims and really want to avoid querying the database and adding them myself.</p>\n\n<p>In my normal client applications the claims I get in the ClaimsPrincipal are (iss,aud,exp,nbf,nonce,iat,sid,sub,auth_time,idp,preferred_username,email,email_verified,role,website,amr). As you will see apart from sub and amr, the other claims are completely different from what I get in the IdentitySever application with the help of IdentityServerFullLoginAttribute (code below).</p>\n\n<p>The question is is that even possible and why are just these claims retrieved(sub, name, amr, idp, auth_time, security_stamp)?</p>\n\n<p>This is my IdentityServer config:</p>\n\n<pre><code>coreApp.UseIdentityServer(new IdentityServerOptions\n            {\n                Factory = factory,\n                SigningCertificate = signingCertificate,\n                SiteName = \"Sitename\",\n                RequireSsl = true,\n                LoggingOptions = new LoggingOptions\n                {\n                    EnableKatanaLogging = true\n                },\n                EventsOptions = new EventsOptions\n                {\n                    RaiseFailureEvents = true,\n                    RaiseInformationEvents = true,\n                    RaiseSuccessEvents = true,\n                    RaiseErrorEvents = true\n                },\n                CspOptions = new CspOptions\n                {\n                    Enabled = true,\n                    ScriptSrc = \"'unsafe-eval' 'unsafe-inline'\"\n                }\n            });\n        });\n</code></pre>\n\n<p>And this is the said attribute I am using to allow the user to be authenticated</p>\n\n<pre><code>public abstract class OwinAuthenticationAttribute : FilterAttribute, IAuthenticationFilter\n{\n    public string AuthenticationType { get; set; }\n\n    protected OwinAuthenticationAttribute(string authenticationType)\n    {\n        if (String.IsNullOrWhiteSpace(authenticationType)) throw new ArgumentNullException(\"authenticationType\");\n\n        AuthenticationType = authenticationType;\n    }\n\n    public virtual void OnAuthentication(AuthenticationContext filterContext)\n    {\n        var ctx = filterContext.HttpContext.Request.GetOwinContext();\n        var result = AsyncHelper.RunSync(() =&gt; ctx.Authentication.AuthenticateAsync(AuthenticationType));\n        if (result != null &amp;&amp;\n            result.Identity != null &amp;&amp;\n            result.Identity.IsAuthenticated)\n        {\n            filterContext.Principal = new ClaimsPrincipal(result.Identity);\n        }\n    }\n\n    public abstract void OnAuthenticationChallenge(AuthenticationChallengeContext filterContext);\n}\n\npublic class IdentityServerFullLoginAttribute : OwinAuthenticationAttribute\n{\n    public IdentityServerFullLoginAttribute()\n        : base(Constants.PrimaryAuthenticationType)\n    {\n        this.Order = 1;\n    }\n\n    public override void OnAuthenticationChallenge(AuthenticationChallengeContext filterContext)\n    {\n        var statusCodeResult = filterContext.Result as HttpStatusCodeResult;\n        if (statusCodeResult != null &amp;&amp; statusCodeResult.StatusCode == 401)\n        {\n            var ctx = filterContext.HttpContext.Request.GetOwinContext();\n            var url = ctx.Environment.CreateSignInRequest(new SignInMessage\n            {\n                ReturnUrl = filterContext.HttpContext.Request.Url.AbsoluteUri\n            });\n            filterContext.Result = new RedirectResult(url);\n        }\n    }\n}\n</code></pre>\n\n<p>And this is the controller action:</p>\n\n<pre><code>    [HttpGet]\n    [Route(\"core/test/test\")]\n    [IdentityServerFullLogin]\n    [Authorize(Roles = \"Administrator\")]\n    public EmptyResult Test(string signin)\n    {\n        //return Redirect(\"~/core/\" + IdentityServer3.Core.Constants.RoutePaths.Login + \"?signin=\" + signin);\n\n        return new EmptyResult();\n    }\n</code></pre>\n"}, {"tags": ["c#", "jquery", "asp.net-web-api", "asp.net-ajax"], "answers": [{"tags": [], "owner": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "is_accepted": true, "score": 0, "last_activity_date": 1520663037, "creation_date": 1520663037, "answer_id": 49206044, "question_id": 49036046, "link": "https://stackoverflow.com/questions/49036046/asp-net-web-form-dropdownlist-from-web-api/49206044#49206044", "title": "asp.net web form dropdownlist from web api", "body": "<p>You need to an an index. (and add semicolons.)</p>\n\n<pre><code>$.each(data, function (idx, val) {\n    var userid = val;\n    $(\"#DropDownList1\").append('&lt;option&gt;' + userid + '&lt;/option &gt;');    \n});\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 8495074, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/579d2491ae1791120fd07d65bd273ad8?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel A", "link": "https://stackoverflow.com/users/8495074/daniel-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 835, "favorite_count": 0, "accepted_answer_id": 49206044, "answer_count": 1, "score": 0, "last_activity_date": 1520663037, "creation_date": 1519841677, "last_edit_date": 1519844811, "question_id": 49036046, "link": "https://stackoverflow.com/questions/49036046/asp-net-web-form-dropdownlist-from-web-api", "title": "asp.net web form dropdownlist from web api", "body": "<p>need a bit assist about how exactly I can fill the dropdown list with the data i getting from web api (JSON).\ntried multiple articles but somehow it's just not working. </p>\n\n<p>The data I getting from api:\nlink: <a href=\"http://192.168.0.11/api/lookup\" rel=\"nofollow noreferrer\">http://192.168.0.11/api/lookup</a></p>\n\n<pre><code>[\"Daniel\",\"Mark\",\"John\"]\n</code></pre>\n\n<p>The default.aspx site:</p>\n\n<pre><code>    &lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n    &lt;head runat=\"server\"&gt;\n        &lt;script src=\"Scripts/jquery-1.10.2.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            $(document).ready(function () {\n                var userrs = $('#userrs');\n\n                $('#btnRefresh').click(function () {\n                    $.ajax({\n                        type: 'GET',\n                        url: 'http://192.168.0.11/api/lookup',\n                        dataType: 'json',\n                        success: function (data) {\n                            userrs.empty();\n                            $.each(data, function (val) {\n                                var userid = val\n                                $(\"#DropDownList1\").append('&lt;option&gt;' + userid + '&lt;/option &gt;')\n\n                            });\n                        }\n                    });\n                });\n            });\n&lt;/script&gt;\n&lt;body&gt;\n\n    &lt;form id=\"form1\" runat=\"server\" class=\"auto-style1\"&gt;\n        &lt;asp:Label ID=\"Label1\" runat=\"server\" Text=\"Select User\" CssClass=\"table\"&gt;&lt;/asp:Label&gt;\n\n\n        &lt;br/&gt;\n        &lt;asp:DropDownList ID=\"DropDownList1\" runat=\"server\" Height=\"17px\" Width=\"158px\"&gt;\n        &lt;/asp:DropDownList&gt;\n        &lt;asp:Button ID=\"btnRefresh\" runat=\"server\" OnClick=\"btnRefresh_Click1\" Text=\"Refresh\" /&gt;\n        &lt;ul id= \"userrs\"&gt;&lt;/ul&gt;\n        &lt;br /&gt;\n        &lt;asp:Button ID=\"btnSend\" runat=\"server\" OnClick=\"btnSend_Click1\" Text=\"Send\" /&gt;\n        &lt;br /&gt;\n        &lt;asp:TextBox ID=\"txtbox\" runat=\"server\" Height=\"104px\" OnTextChanged=\"txtbox_TextChanged\" Width=\"272px\"&gt;&lt;/asp:TextBox&gt;\n        &lt;br /&gt;\n        &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The goal is by clicking on button <strong>btnRefresh</strong> populate the 3 names he got from api into the <strong>DropDownList1</strong> .</p>\n\n<p>for some reason it's not add anything into the dropdownlist.</p>\n\n<p>Thanks in advance. </p>\n"}, {"tags": ["c#", "asp.net-mvc", "razor"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 2, "creation_date": 1519862529, "post_id": 49036035, "comment_id": 85086605, "body": "What is not working? What errors are you getting? What is actually happening (the code you have shown is fine assuming the collection contains items)"}, {"owner": {"reputation": 21, "user_id": 9425028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5de4d82c81aab9143d1a244212471bc4?s=128&d=identicon&r=PG&f=1", "display_name": "ed Mundo", "link": "https://stackoverflow.com/users/9425028/ed-mundo"}, "edited": false, "score": 0, "creation_date": 1519878849, "post_id": 49036035, "comment_id": 85090425, "body": "thanks for writing, for some reason, I am not getting the name and LasName. When render the view, is empty the zone where it is suposed to be the name and lastname"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1519878921, "post_id": 49036035, "comment_id": 85090439, "body": "The I can only assume that those properties do not have a value when you send the model to the view. Debug your code!"}], "answers": [{"tags": [], "owner": {"reputation": 4259, "user_id": 3898495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/662LU.png?s=128&g=1", "display_name": "SilentTremor", "link": "https://stackoverflow.com/users/3898495/silenttremor"}, "is_accepted": false, "score": 0, "last_activity_date": 1519902179, "creation_date": 1519902179, "answer_id": 49048267, "question_id": 49036035, "link": "https://stackoverflow.com/questions/49036035/razor-foreach-using-icollection/49048267#49048267", "title": "razor foreach using ICollection", "body": "<blockquote>\n  <p>@item.FirstName+\" \" + @item.LastName</p>\n</blockquote>\n\n<p>at runtime, error should be thrown, correct syntax:</p>\n\n<p>Option 1:</p>\n\n<pre><code>@foreach (var item in Model.Authors)\n{\n  @item.FirstName @item.LastName\n}\n</code></pre>\n\n<p>Option 2:</p>\n\n<pre><code>@foreach (var item in Model.Authors)\n{\n   string contactenated = item.FirstName + \" \" + item.LastName;\n   @contactenated\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3154, "user_id": 5320618, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/62OuS.png?s=128&g=1", "display_name": "G43beli", "link": "https://stackoverflow.com/users/5320618/g43beli"}, "reply_to_user": {"reputation": 21, "user_id": 9425028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5de4d82c81aab9143d1a244212471bc4?s=128&d=identicon&r=PG&f=1", "display_name": "ed Mundo", "link": "https://stackoverflow.com/users/9425028/ed-mundo"}, "edited": false, "score": 0, "creation_date": 1519982076, "post_id": 49048270, "comment_id": 85136974, "body": "@edMundo or just define Authors as List&lt;Author&gt; instead of ICollection&lt;Author&gt;"}], "tags": [], "owner": {"reputation": 3154, "user_id": 5320618, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/62OuS.png?s=128&g=1", "display_name": "G43beli", "link": "https://stackoverflow.com/users/5320618/g43beli"}, "is_accepted": true, "score": 2, "last_activity_date": 1519982095, "last_edit_date": 1519982095, "creation_date": 1519902198, "answer_id": 49048270, "question_id": 49036035, "link": "https://stackoverflow.com/questions/49036035/razor-foreach-using-icollection/49048270#49048270", "title": "razor foreach using ICollection", "body": "<p>Make sure these steps are done:</p>\n\n<p>1) Pass the model to the view (obviously WITH data in it)</p>\n\n<pre><code>var myModel = //some object of your MyClass;\nreturn View(myModel);\n</code></pre>\n\n<p>2) add <code>@model MyClass</code>to the top of your View to receive the model</p>\n\n<p>3) the loop should look like this:</p>\n\n<pre><code>@foreach (var item in Model.Authors.ToList())\n{\n   &lt;p&gt;\n      @Html.Raw(item.FirstName + \" \" + item.LastName)\n   &lt;/p&gt;\n}\n</code></pre>\n\n<p><em>EDIT</em>:  .ToList() is probably necessary because Authors is of Type  <code>ICollection</code></p>\n"}], "owner": {"reputation": 21, "user_id": 9425028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5de4d82c81aab9143d1a244212471bc4?s=128&d=identicon&r=PG&f=1", "display_name": "ed Mundo", "link": "https://stackoverflow.com/users/9425028/ed-mundo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "accepted_answer_id": 49048270, "answer_count": 2, "score": 1, "last_activity_date": 1519982095, "creation_date": 1519841620, "last_edit_date": 1519901110, "question_id": 49036035, "link": "https://stackoverflow.com/questions/49036035/razor-foreach-using-icollection", "title": "razor foreach using ICollection", "body": "<p>I am using razor to display a list of authors, as you can see uno \"MyClass\" can have many authors.</p>\n\n<pre><code>   public class MyClass\n{   \n    [Key]\n    public int MyClassId{ get; set; }\n    //more properties\n    /*****One measure has many authors*****/\n    public virtual ICollection&lt;Author&gt; Authors { get; set; }\n\n}\npublic class Author\n{\n    [Key]\n    public int AuthorId { get; set; }\n\n    public virtual Measure Measure { get; set; }\n\n    public string FirstName { get; set; }\n\n    public string LastName { get; set; }\n\n    public string Email { get; set; }\n}\n</code></pre>\n\n<p>I want to display in a foreach loop FirstName and LastName </p>\n\n<pre><code>  @foreach (var item in Model.Authors)\n                {\n                   @item.FirstName+\" \" + @item.LastName\n                 }\n</code></pre>\n\n<p>But it seems I am not using the correct sintax, how do I display firstname and lastname?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", ".net", "security", "owasp"], "answers": [{"tags": [], "owner": {"reputation": 3866, "user_id": 3364618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9fbbb284e1a7ec696af1a7ddea4a4290?s=128&d=identicon&r=PG", "display_name": "Juxhin", "link": "https://stackoverflow.com/users/3364618/juxhin"}, "is_accepted": true, "score": 1, "last_activity_date": 1523368630, "last_edit_date": 1523368630, "creation_date": 1519893247, "answer_id": 49045578, "question_id": 49036028, "link": "https://stackoverflow.com/questions/49036028/static-code-analyzer-for-net-for-owasp-vulnerabilities/49045578#49045578", "title": "Static code analyzer for .NET for OWASP vulnerabilities", "body": "<p>This is rather open-ended, however if you are strictly looking for a Static Application Security Testing (SAST) tool (without knowing your budget), you may want to look into <a href=\"https://www.checkmarx.com/\" rel=\"nofollow noreferrer\">Checkmarx</a>. </p>\n\n<p>There are some open-source solutions, such as <a href=\"https://github.com/openstack/bandit\" rel=\"nofollow noreferrer\">Bandit</a> for Python however like most SAST tools, they have such a high false positive rate that I end up tweaking the threshold heavily for stuff like Continuous Integration (CI &amp; CD). </p>\n\n<p>Other than that, there are also Dynamic Application Security Testing (DAST) tools which tend to be language and framework agnostic and are more behavioral (which I prefer) such as <a href=\"https://www.acunetix.com\" rel=\"nofollow noreferrer\">Acunetix</a>. The downside is that scans can take longer to run when compared to their counterparts. </p>\n"}], "owner": {"reputation": 59, "user_id": 3172614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9d6d57ef99efd51d9518ee7f69b2ffde?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/3172614/gaurav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1313, "favorite_count": 0, "closed_date": 1572601974, "accepted_answer_id": 49045578, "answer_count": 1, "score": 0, "last_activity_date": 1572600442, "creation_date": 1519841600, "last_edit_date": 1523369783, "question_id": 49036028, "link": "https://stackoverflow.com/questions/49036028/static-code-analyzer-for-net-for-owasp-vulnerabilities", "closed_reason": "Not suitable for this site", "title": "Static code analyzer for .NET for OWASP vulnerabilities", "body": "<p>I am looking for a static code analyzer which can detect <a href=\"https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project\" rel=\"nofollow noreferrer\">OWASP Top 10</a> vulnerabilities. </p>\n\n<ul>\n<li>SonarAnalyzer which is an in-built repository in SonarQube covers\nonly few of the OWASP Top 10.  </li>\n<li><a href=\"https://dotnet-security-guard.github.io/rules.htm\" rel=\"nofollow noreferrer\">Roslyn security guard</a> for .NET is\nalso focused on security but I do not see any information on how many\nof the OWASP vulnerabilities are covered.</li>\n</ul>\n\n<p>Are there any other open source/commercial static checkers available which provide comprehensive coverage of  all of the OWASP Top 10 for C#?</p>\n\n<p>Thanks,\nGaurav</p>\n"}, {"tags": ["c#", "sqlite", "exception", "error-handling", "uwp"], "comments": [{"owner": {"reputation": 2449, "user_id": 500276, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/200bf76976f24add540182f5c3a42788?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Benningfield", "link": "https://stackoverflow.com/users/500276/mark-benningfield"}, "edited": false, "score": 0, "creation_date": 1519843393, "post_id": 49036027, "comment_id": 85077804, "body": "What is the error code that you expect to get?"}, {"owner": {"reputation": 1633, "user_id": 4635851, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3b12c0aa1220d1c8b1f3f10a6ad9fd31?s=128&d=identicon&r=PG&f=1", "display_name": "Shahid Thaika", "link": "https://stackoverflow.com/users/4635851/shahid-thaika"}, "reply_to_user": {"reputation": 2449, "user_id": 500276, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/200bf76976f24add540182f5c3a42788?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Benningfield", "link": "https://stackoverflow.com/users/500276/mark-benningfield"}, "edited": false, "score": 0, "creation_date": 1519843804, "post_id": 49036027, "comment_id": 85077980, "body": "@MarkBenningfield In SQL Server, you can run the following query and it shows you a different error number that one can use to handle SqlException, instead of relying on parsing the error message. ( SELECT * FROM master.dbo.sysmessages ). I was wondering whether Sqlite does the same thing as well?"}, {"owner": {"reputation": 2449, "user_id": 500276, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/200bf76976f24add540182f5c3a42788?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Benningfield", "link": "https://stackoverflow.com/users/500276/mark-benningfield"}, "edited": false, "score": 1, "creation_date": 1519844077, "post_id": 49036027, "comment_id": 85078143, "body": "On a broader note, my advice is to read up on SQLite. If you&#39;re used to SQLServer and have never used SQLite, they are decidedly NOT the same kind of animal. More to the point, what error code are you expecting in your test?"}, {"owner": {"reputation": 1633, "user_id": 4635851, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3b12c0aa1220d1c8b1f3f10a6ad9fd31?s=128&d=identicon&r=PG&f=1", "display_name": "Shahid Thaika", "link": "https://stackoverflow.com/users/4635851/shahid-thaika"}, "reply_to_user": {"reputation": 2449, "user_id": 500276, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/200bf76976f24add540182f5c3a42788?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Benningfield", "link": "https://stackoverflow.com/users/500276/mark-benningfield"}, "edited": false, "score": 0, "creation_date": 1519844644, "post_id": 49036027, "comment_id": 85078466, "body": "@MarkBenningfield I have worked with Sqlite in an Android App, but had parse error message strings out there. You are right though, I am trying to approach this as I would do so for SQL Server. In that, the SqlException is able to differentiate a column not found in a table v/s a table not found using two different error numbers - 207 &amp; 208 for &quot;Invalid column name&quot; and &quot;Invalid object name&quot;. However, it does seem from the following link that the SqliteError code would always be 1 - Generic error in both those cases. <a href=\"https://sqlite.org/c3ref/c_abort.html\" rel=\"nofollow noreferrer\">sqlite.org/c3ref/c_abort.html</a>   Hope it was the other way around"}, {"owner": {"reputation": 1633, "user_id": 4635851, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3b12c0aa1220d1c8b1f3f10a6ad9fd31?s=128&d=identicon&r=PG&f=1", "display_name": "Shahid Thaika", "link": "https://stackoverflow.com/users/4635851/shahid-thaika"}, "reply_to_user": {"reputation": 2449, "user_id": 500276, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/200bf76976f24add540182f5c3a42788?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Benningfield", "link": "https://stackoverflow.com/users/500276/mark-benningfield"}, "edited": false, "score": 0, "creation_date": 1519844824, "post_id": 49036027, "comment_id": 85078567, "body": "@MarkBenningfield To answer your question directly, I am not sure what error number to expect, I was just hoping to differentiate an SqliteException due to table not found v/s some other reason using error numbers as opposed to having to parse error message strings, which may change with version or platform. Hence I tried to simulate an error, to get the error number or some property to differentiate different errors."}, {"owner": {"reputation": 2449, "user_id": 500276, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/200bf76976f24add540182f5c3a42788?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Benningfield", "link": "https://stackoverflow.com/users/500276/mark-benningfield"}, "edited": false, "score": 1, "creation_date": 1519845032, "post_id": 49036027, "comment_id": 85078669, "body": "The SQLite error codes are pretty stable as far as that goes. For SQL syntax errors, you get error code 1, so yes, you&#39;ll have to parse the error messages if you want more detail."}, {"owner": {"reputation": 1633, "user_id": 4635851, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3b12c0aa1220d1c8b1f3f10a6ad9fd31?s=128&d=identicon&r=PG&f=1", "display_name": "Shahid Thaika", "link": "https://stackoverflow.com/users/4635851/shahid-thaika"}, "reply_to_user": {"reputation": 2449, "user_id": 500276, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/200bf76976f24add540182f5c3a42788?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Benningfield", "link": "https://stackoverflow.com/users/500276/mark-benningfield"}, "edited": false, "score": 0, "creation_date": 1519845152, "post_id": 49036027, "comment_id": 85078744, "body": "@MarkBenningfield Ok, I guess that&#39;s what I am stuck with. Can you confirm whether or not the SQL Syntax Error messages will always be the same irrespective of the SQLite version or device - Android, Windows Phone, Surface, Regular Laptop, etc.?"}, {"owner": {"reputation": 2449, "user_id": 500276, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/200bf76976f24add540182f5c3a42788?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Benningfield", "link": "https://stackoverflow.com/users/500276/mark-benningfield"}, "edited": false, "score": 0, "creation_date": 1519845408, "post_id": 49036027, "comment_id": 85078885, "body": "This comment thread is already getting too long, so to wrap it up, the SQLite error codes and messages are stable -- but, it depends more on the wrapper that you are using than on the SQLite engine itself."}], "owner": {"reputation": 1633, "user_id": 4635851, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3b12c0aa1220d1c8b1f3f10a6ad9fd31?s=128&d=identicon&r=PG&f=1", "display_name": "Shahid Thaika", "link": "https://stackoverflow.com/users/4635851/shahid-thaika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519841580, "creation_date": 1519841580, "question_id": 49036027, "link": "https://stackoverflow.com/questions/49036027/c-unable-to-get-errorcode-from-sqliteexception", "title": "C# Unable to get ErrorCode from SqliteException", "body": "<p>I am developing a Sqlite database driven UWP app in C#. In order to handle certain exceptions, I tried to simulate an error to see whether SqliteException was handled properly and to check what ErrorCode it returns on certain errors. Below is the code...</p>\n\n<pre><code>    public static bool testSqliteException()\n    {\n        SqliteConnection connection = new SqliteConnection(\"Data Source=mydb.db\");\n        SqliteCommand command = connection.CreateCommand();\n\n        command.CommandText = \"INSERT INTO test VALUES(NoQuoteError)\";\n\n        try\n        {\n            connection.Open();\n            command.NonQuery();\n        }\n        catch (SqliteException ex)\n        {\n            //I put a break here\n            string err = ex.Message;\n        }\n        finally\n        {\n            if (command != null)\n                command.Dispose();\n\n            if (connection != null)\n                connection.Dispose();\n        }\n    }\n</code></pre>\n\n<p>The above is a function within a static DataAccessLayer class. Unfortunately, when I put a break in the place where I have commented and then type the following in the Immediate Window:</p>\n\n<pre><code>?ex.ErrorCode\n</code></pre>\n\n<p>It does not return a normal number as would SqlException.Number, and it is also returning the same number for any kind of error... i.e. -2147467259.\nI also tried ex.SqliteErrorCode and that always returns 1.</p>\n\n<p>What am I doing wrong, do I need to declare something for it to work? This is the only function in the entire class, as I am just getting started.</p>\n"}, {"tags": ["c#", "generics", "polymorphism"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 6, "creation_date": 1519841513, "post_id": 49036005, "comment_id": 85076856, "body": "Learn about covariance."}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 1, "creation_date": 1519841742, "post_id": 49036005, "comment_id": 85076978, "body": "One simple fix is to make your Send method generic: <code>void Send&lt;T&gt;(Message&lt;T&gt; a_msg) where T:ICommand { . . .}</code>"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1519841773, "post_id": 49036005, "comment_id": 85076997, "body": "Notice that <code>ShutdownCommand</code> does not <i>inherit</i> from <code>ICommand</code>, it <i>implements</i> it"}, {"owner": {"reputation": 1278, "user_id": 2110531, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gwW13.jpg?s=128&g=1", "display_name": "Newton Sheikh", "link": "https://stackoverflow.com/users/2110531/newton-sheikh"}, "edited": false, "score": 1, "creation_date": 1519841819, "post_id": 49036005, "comment_id": 85077027, "body": "This is a good interview question, to instantly check presence of mind..he he he"}], "owner": {"reputation": 29, "user_id": 7172071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f337d17d42ed2d5d3317aa95374ebb7?s=128&d=identicon&r=PG&f=1", "display_name": "juliuszelsner", "link": "https://stackoverflow.com/users/7172071/juliuszelsner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 1, "closed_date": 1519843749, "answer_count": 0, "score": 1, "last_activity_date": 1519841827, "creation_date": 1519841476, "last_edit_date": 1519841827, "question_id": 49036005, "link": "https://stackoverflow.com/questions/49036005/why-theres-no-possible-conversion-generic-type-restricted-with-interface", "closed_reason": "Duplicate", "title": "Why there&#39;s no possible conversion (generic type restricted with interface)?", "body": "<p>I've got following classes.</p>\n\n<pre><code>interface ICommand {. . .} \n\nclass ShutdownCommand : ICommand { . . .}\n\nclass Message&lt;T&gt; where T : ICommand { . . .}\n\nclass Communicator\n{\n    void Send(Message&lt;ICommand&gt; a_msg) { . . .}\n}\n</code></pre>\n\n<p>When I call following code, I get an error that there's no possible conversion from the type <code>Message&lt;ShutdownCommand&gt;</code> to the <code>Message&lt;ICommand&gt;</code>. It's not intuitive for me since <code>ShutdownCommand</code> inherits from <code>ICommand</code>.</p>\n\n<pre><code>var message = new Message&lt;ShutdownCommand&gt;();\nm_communicator.SendCommand(message);\n</code></pre>\n\n<p>I know I can solve such problem with adding non-generic interface for a Message class and use it as parameter type in Send() method.<br>\nRegardless it could be fixed in the way I described above... I'm curious why there's no possible conversion if from the code above arises conversion should be possible.</p>\n"}, {"tags": ["c#", ".net", "entity-framework", "asp.net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1519841911, "post_id": 49035971, "comment_id": 85077075, "body": "I don&#39;t see any difference between EF Core and &quot;normal&quot; EF examples - both are returning <code>LocalModel</code> instances. So what is the issue/question again?"}, {"owner": {"reputation": 541, "user_id": 5191409, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e501077ad0a466960a1d367fdee3543c?s=128&d=identicon&r=PG&f=1", "display_name": "Pradeep H", "link": "https://stackoverflow.com/users/5191409/pradeep-h"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1519943171, "post_id": 49035971, "comment_id": 85124435, "body": "First query is to show what I was trying in Core, that do not work in EF Core"}], "answers": [{"tags": [], "owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "is_accepted": false, "score": 1, "last_activity_date": 1519841957, "creation_date": 1519841957, "answer_id": 49036098, "question_id": 49035971, "link": "https://stackoverflow.com/questions/49035971/entity-framework-core-binding-sp-return-value-to-project-model-without-re-mapp/49036098#49036098", "title": "Entity Framework Core - binding SP return value to project Model without re-mapping", "body": "<p>If you use <code>FromSql</code> on the <code>DbSet</code> of the type you want to bind to, then it will create instances of that POCO class. For example:</p>\n\n<p>Assuming:</p>\n\n<pre><code>public DbSet&lt;LocalModel&gt; LocalModels { get; set; }\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>context.LocalModels.FromSql(...).ToList();\n</code></pre>\n\n<p>If you're working generically, or just if you prefer, you can use <code>Set&lt;T&gt;()</code> instead of the actual <code>DbSet</code> property name:</p>\n\n<pre><code>context.Set&lt;LocalModel&gt;().FromSql(...).ToList();\n</code></pre>\n"}], "owner": {"reputation": 541, "user_id": 5191409, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e501077ad0a466960a1d367fdee3543c?s=128&d=identicon&r=PG&f=1", "display_name": "Pradeep H", "link": "https://stackoverflow.com/users/5191409/pradeep-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519841957, "creation_date": 1519841342, "question_id": 49035971, "link": "https://stackoverflow.com/questions/49035971/entity-framework-core-binding-sp-return-value-to-project-model-without-re-mapp", "title": "Entity Framework Core - binding SP return value to project Model without re-mapping", "body": "<p>In below scenario, The execution of stored procedure is returning the known columns matching with type \"LocalModel\"</p>\n\n<p>Is there a way in <strong>EF Core</strong> to query entity and bind that back to anonymous type.</p>\n\n<pre><code>List&lt;LocalModel&gt; ModelList= context.Table.FromSql(Stored_Proc +\" @Param\", _moduleName).ToList(); \n</code></pre>\n\n<p>Like, In normal EF this can achieved as below.</p>\n\n<pre><code>List&lt;LocalModel&gt; ModelList= context.Database.SqlQuery&lt;LocalModel&gt;(\"exec Stored_Proc\").ToList&lt;LocalModel&gt;();\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml", "datatrigger"], "comments": [{"owner": {"reputation": 5436, "user_id": 1571997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c560890eac8c4bdb30e8c4657570aaa?s=128&d=identicon&r=PG", "display_name": "chancea", "link": "https://stackoverflow.com/users/1571997/chancea"}, "edited": false, "score": 0, "creation_date": 1519841355, "post_id": 49035921, "comment_id": 85076787, "body": "Why not just bind the visibility of the ListBox directly to HasItems (not using the Data Trigger)?"}, {"owner": {"reputation": 53, "user_id": 9330315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b598a5c72b92133b72fe0a41635c1488?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil ANS", "link": "https://stackoverflow.com/users/9330315/nikhil-ans"}, "reply_to_user": {"reputation": 5436, "user_id": 1571997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c560890eac8c4bdb30e8c4657570aaa?s=128&d=identicon&r=PG", "display_name": "chancea", "link": "https://stackoverflow.com/users/1571997/chancea"}, "edited": false, "score": 0, "creation_date": 1519841481, "post_id": 49035921, "comment_id": 85076838, "body": "I could do that but I thought it world be better to do in xaml rather than creating a new property."}, {"owner": {"reputation": 5436, "user_id": 1571997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c560890eac8c4bdb30e8c4657570aaa?s=128&d=identicon&r=PG", "display_name": "chancea", "link": "https://stackoverflow.com/users/1571997/chancea"}, "edited": false, "score": 0, "creation_date": 1519841580, "post_id": 49035921, "comment_id": 85076889, "body": "Why would you need a new property?  Where is HasItems?"}, {"owner": {"reputation": 5436, "user_id": 1571997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c560890eac8c4bdb30e8c4657570aaa?s=128&d=identicon&r=PG", "display_name": "chancea", "link": "https://stackoverflow.com/users/1571997/chancea"}, "edited": false, "score": 0, "creation_date": 1519841723, "post_id": 49035921, "comment_id": 85076970, "body": "Right I see that now, so all you need to do is <code>Visibility=&quot;{Binding HasItems,RelativeSource={RelativeSource Self},UpdateSourceTrigger=PropertyChanged}&quot;</code>"}, {"owner": {"reputation": 53, "user_id": 9330315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b598a5c72b92133b72fe0a41635c1488?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil ANS", "link": "https://stackoverflow.com/users/9330315/nikhil-ans"}, "reply_to_user": {"reputation": 5436, "user_id": 1571997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c560890eac8c4bdb30e8c4657570aaa?s=128&d=identicon&r=PG", "display_name": "chancea", "link": "https://stackoverflow.com/users/1571997/chancea"}, "edited": false, "score": 0, "creation_date": 1519842126, "post_id": 49035921, "comment_id": 85077183, "body": "I tried but its not working."}, {"owner": {"reputation": 5436, "user_id": 1571997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c560890eac8c4bdb30e8c4657570aaa?s=128&d=identicon&r=PG", "display_name": "chancea", "link": "https://stackoverflow.com/users/1571997/chancea"}, "edited": false, "score": 1, "creation_date": 1519842404, "post_id": 49035921, "comment_id": 85077331, "body": "Oh you are using a List.  Try changing the <code>List&lt;Volume&gt;</code> To an <code>ObservableCollection&lt;Volume&gt;</code> Reason being, since you are only calling <code>.Clear()</code> and not setting it to an empty list the property change will never fire"}, {"owner": {"reputation": 53, "user_id": 9330315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b598a5c72b92133b72fe0a41635c1488?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil ANS", "link": "https://stackoverflow.com/users/9330315/nikhil-ans"}, "reply_to_user": {"reputation": 5436, "user_id": 1571997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c560890eac8c4bdb30e8c4657570aaa?s=128&d=identicon&r=PG", "display_name": "chancea", "link": "https://stackoverflow.com/users/1571997/chancea"}, "edited": false, "score": 0, "creation_date": 1519842515, "post_id": 49035921, "comment_id": 85077387, "body": "Ok Let me try an ObservableCollection or a CollectionViewSource. Thats a good idea"}, {"owner": {"reputation": 53, "user_id": 9330315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b598a5c72b92133b72fe0a41635c1488?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil ANS", "link": "https://stackoverflow.com/users/9330315/nikhil-ans"}, "reply_to_user": {"reputation": 5436, "user_id": 1571997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c560890eac8c4bdb30e8c4657570aaa?s=128&d=identicon&r=PG", "display_name": "chancea", "link": "https://stackoverflow.com/users/1571997/chancea"}, "edited": false, "score": 0, "creation_date": 1519842908, "post_id": 49035921, "comment_id": 85077585, "body": "Thanks @chancea ObservableCollection works just fine. Thanks."}], "owner": {"reputation": 53, "user_id": 9330315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b598a5c72b92133b72fe0a41635c1488?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil ANS", "link": "https://stackoverflow.com/users/9330315/nikhil-ans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 432, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519842176, "creation_date": 1519841169, "last_edit_date": 1519842176, "question_id": 49035921, "link": "https://stackoverflow.com/questions/49035921/listbox-hasitems-datatrigger-not-working-when-items-are-cleared-from-itemssource", "title": "ListBox HasItems DataTrigger not working when Items are cleared from ItemsSource", "body": "<p>I have a Listbox and I have a DataTrigger in xaml to check if there are no items in the ListBox then Hide it (Please see the HasItems DataTrigger). At some point in my application I am Clearing the items from the ItemsSource i.e FilteredVolumesList (Please see the DeSelectAssays method) assuming the ListBox would be hidden because there are no Items In the ItemsSource. </p>\n\n<p>But the problem is the DataTrigger dosen't seem to work and the ListBox is not being collapsed. Please help. I dont want to create a bool property for visibility and keep setting to false. Please note I am doing something like this in xaml <a href=\"https://stackoverflow.com/questions/1384451/xamly-determine-if-a-listbox-items-count-0\">ListBox CLear Items Xamly</a></p>\n\n<p>Here is my xaml</p>\n\n<pre><code>&lt;ListBox\n            Grid.Row=\"1\"\n            x:Name=\"LstVolumes\"\n            HorizontalAlignment=\"Center\"\n            Margin=\"0,90,0,0\"\n            VerticalAlignment=\"Top\"\n            ItemsSource=\"{Binding FilteredVolumesList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}\"\n            ScrollViewer.HorizontalScrollBarVisibility=\"Disabled\"\n            ScrollViewer.VerticalScrollBarVisibility=\"Disabled\"\n            SelectionChanged=\"LstVolumes_SelectionChanged\"\n            BorderThickness=\"0\"&gt;\n            &lt;ListBox.Style&gt;\n                &lt;Style\n                    TargetType=\"{x:Type ListBox}\"\n                    BasedOn=\"{StaticResource ListBoxDarkBackgroundStyle}\"&gt;\n                    &lt;Setter\n                        Property=\"Template\"\n                        Value=\"{StaticResource ListBoxVolumesTemplate}\"&gt;&lt;/Setter&gt;\n                    &lt;Style.Triggers&gt;\n                        &lt;DataTrigger\n                            Binding=\"{Binding HasItems,RelativeSource={RelativeSource Self},UpdateSourceTrigger=PropertyChanged}\"\n                            Value=\"False\"&gt;\n                            &lt;Setter\n                                Property=\"Visibility\"\n                                Value=\"Collapsed\"&gt;&lt;/Setter&gt;\n                        &lt;/DataTrigger&gt;\n\n                        &lt;DataTrigger\n                            Binding=\"{Binding DataContext.IsVolumeRepeaterVisible,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type UserControl}}}\"\n                            Value=\"False\"&gt;\n                            &lt;Setter\n                                Property=\"Template\"\n                                Value=\"{StaticResource ListBoxNoRepeaterTemplate}\"&gt;&lt;/Setter&gt;\n                        &lt;/DataTrigger&gt;\n                    &lt;/Style.Triggers&gt;\n                &lt;/Style&gt;\n            &lt;/ListBox.Style&gt;\n            &lt;ListBox.ItemsPanel&gt;\n                &lt;ItemsPanelTemplate&gt;\n                    &lt;StackPanel\n                        Orientation=\"Horizontal\"&gt;&lt;/StackPanel&gt;\n                &lt;/ItemsPanelTemplate&gt;\n            &lt;/ListBox.ItemsPanel&gt;\n            &lt;ListBox.ItemTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;Button\n                        x:Name=\"VolumesButton\"\n                        Style=\"{StaticResource ButtonLightTextGradientDarkBackgroundStyle}\"\n                        Margin=\"{StaticResource AllControlsMargin}\"\n                        Click=\"VolumesButton_Click\"&gt;\n                        &lt;Button.Content&gt;\n                            &lt;StackPanel\n                                x:Name=\"stkInnerChildPanel\"\n                                Orientation=\"Vertical\"\n                                HorizontalAlignment=\"Center\"\n                                VerticalAlignment=\"Center\"&gt;\n                                &lt;TextBlock\n                                    Style=\"{StaticResource TextBlockLightTextStyle}\"\n                                    x:Name=\"TblVolume\"\n                                    Text=\"{Binding volume_display_value,StringFormat={}{0} \u00b5g}\"&gt;&lt;/TextBlock&gt;\n                            &lt;/StackPanel&gt;\n                        &lt;/Button.Content&gt;\n                    &lt;/Button&gt;\n\n                &lt;/DataTemplate&gt;\n            &lt;/ListBox.ItemTemplate&gt;\n        &lt;/ListBox&gt;\n</code></pre>\n\n<p>And I am clearing the items like this from the code behind</p>\n\n<pre><code> private ReadJsonAssayViewModel AssayViewModel = null;\n\n        public RunSetUpMainContentUserControl()\n        {\n            InitializeComponent();\n            AssayViewModel = ReadJsonAssayViewModel.ReadJsonAssayViewModelInstance;\n            this.DataContext = AssayViewModel;\n            FindAssociatedChildrenInstance = FindChildrenAndAssociatedControlsHelper.FindAssociateChildrenInstance;\n            Messenger.Default.Register&lt;NotificationMessage&gt;(this, DeSelectAssays);\n        }\n\n        private void DeSelectAssays(NotificationMessage obj)\n        {\n            for (int i = 0; i &lt; LstAssays.Items.Count; i++)\n            {\n                ToggleButton btn = FindAssociatedChildrenInstance.AssociatedPanel(LstAssays, \"AssaysButton\", i, TargetType.ListAssays, typeof(ToggleButton)) as ToggleButton;\n                btn.IsChecked = false;\n            }\n            LstAssays.SelectedIndex = -1;\n            AssayViewModel.FilteredVolumesList.Clear();\n            AssayViewModel.IsStartRunEnabled = false;\n            this.Focus();\n        }\n</code></pre>\n\n<p>Here is the FilteredVolumesList in the viewmodel</p>\n\n<pre><code>private List&lt;Volume&gt; _filteredVolumesList;\n        public List&lt;Volume&gt; FilteredVolumesList\n        {\n            get\n            {\n                return _filteredVolumesList;\n            }\n            set\n            {\n                _filteredVolumesList = value;\n                OnPropertyChanged(\"FilteredVolumesList\");\n            }\n        }\n</code></pre>\n"}]