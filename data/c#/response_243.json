[{"tags": ["c#", "streamreader", "sendkeys"], "comments": [{"owner": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "edited": false, "score": 0, "creation_date": 1567642820, "post_id": 57796881, "comment_id": 102026899, "body": "Assuming <code>&quot;A&quot;(;!)&#39;B&#39;</code> is the line in your file, I would suggest that <code>StreamReader</code> is working fine - otherwise software developers around the world would be experiencing pretty major problems. Please step through your code with the debugger and confirm that this line is <i>read</i> correctly into the <code>line</code> variable. (Note that strings will appear escaped when you hover over the variable, so you should click the \ud83d\udd0d to see the actual string)."}, {"owner": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "edited": false, "score": 0, "creation_date": 1567643295, "post_id": 57796881, "comment_id": 102026987, "body": "Note that I&#39;ve removed the <code>[cjk]</code> tag since it&#39;s not clear how that relates to your question - all of the characters you have provided fall within the ASCII character set."}, {"owner": {"reputation": 49, "user_id": 12022423, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KSYvbQord7w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rey1IsCHYxYCM-duzMk2OYRM-24qg/photo.jpg?sz=128", "display_name": "tjdnfka2001", "link": "https://stackoverflow.com/users/12022423/tjdnfka2001"}, "reply_to_user": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "edited": false, "score": 0, "creation_date": 1567643584, "post_id": 57796881, "comment_id": 102027032, "body": "Oh, I check it. string is : line &quot;\\&quot;A\\&quot;(;!)&#39;B&#39;&quot; string. So StreamReader is already work well. Problem is &quot;SendKey&quot; function. Can you tell me more advice about it?"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1567644149, "post_id": 57796881, "comment_id": 102027141, "body": "@tjdnfka2001 Why are you using <code>SendKeys</code> anyways? Why not just set the text value of whatever control you&#39;re sending the keys to?"}, {"owner": {"reputation": 49, "user_id": 12022423, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KSYvbQord7w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rey1IsCHYxYCM-duzMk2OYRM-24qg/photo.jpg?sz=128", "display_name": "tjdnfka2001", "link": "https://stackoverflow.com/users/12022423/tjdnfka2001"}, "edited": false, "score": 0, "creation_date": 1567644536, "post_id": 57796881, "comment_id": 102027196, "body": "@D Stanley I want to make to control many Desktop PC with just 1 keyboard. It is necessary for my blind students, they are can&#39;t writing well...."}], "answers": [{"tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": true, "score": 2, "last_activity_date": 1567643485, "creation_date": 1567643485, "answer_id": 57797038, "question_id": 57796881, "link": "https://stackoverflow.com/questions/57796881/sendkeys-not-sending-and/57797038#57797038", "title": "SendKeys not sending &#39;(&#39; and &#39;)&#39;", "body": "<p>According to the documentation for <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.sendkeys.send?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>SendKeys.Send</code></a>:</p>\n\n<blockquote>\n  <p>The plus sign (+), caret (^), percent sign (%), tilde (~), and parentheses () have special meanings to SendKeys. To specify one of these characters, enclose it within braces ({}). For example, to specify the plus sign, use \"{+}\". To specify brace characters, use \"{{}\" and \"{}}\". Brackets ([ ]) have no special meaning to SendKeys, but you must enclose them in braces. In other applications, brackets do have a special meaning that might be significant when dynamic data exchange (DDE) occurs.</p>\n</blockquote>\n\n<p>So one option is to replace all parentheses with <code>\"{(}\"</code> and <code>\"{)}\"</code> in your string before calling the method. You might even create a generic method that wil escape <em>all</em> special characters.</p>\n\n<p>Or just set the value of whatever control you're trying to send the keystrokes to and avoid <code>SendKeys</code> alltogether...</p>\n"}], "owner": {"reputation": 49, "user_id": 12022423, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KSYvbQord7w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rey1IsCHYxYCM-duzMk2OYRM-24qg/photo.jpg?sz=128", "display_name": "tjdnfka2001", "link": "https://stackoverflow.com/users/12022423/tjdnfka2001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 57797038, "answer_count": 1, "score": 1, "last_activity_date": 1567666507, "creation_date": 1567641583, "last_edit_date": 1567666507, "question_id": 57796881, "link": "https://stackoverflow.com/questions/57796881/sendkeys-not-sending-and", "title": "SendKeys not sending &#39;(&#39; and &#39;)&#39;", "body": "<p>I want to make text file repeater with StreamReader of C#.\nBut some problem is appear...</p>\n\n<p>Example)\n** input word\n\"A\"(;!)'B'</p>\n\n<p>** Output word\n\"A\";!'B'</p>\n\n<p>I don't know why '(' and ')' is not apply.</p>\n\n<p>I tried to change StreamReader parameter such as Encoding.Default, utf8, utf32.</p>\n\n<p>But they are nor solve it</p>\n\n<p>Please advice to me.</p>\n\n<pre><code>   private void button1_Click(object sender, EventArgs e)\n    {\n        int counter = 0;\n        string line;\n\n        stopflag = 0;\n\n        // Read the file and display it line by line.  \n        System.IO.StreamReader file = new System.IO.StreamReader(@\"target.txt\", Encoding.Default);\n        //System.IO.StreamReader file = new System.IO.StreamReader(@\"target.txt\", Encoding.UTF8);\n        //System.IO.StreamReader file = new System.IO.StreamReader(@\"target.txt\", Encoding.UTF32);\n        //System.IO.StreamReader file = new System.IO.StreamReader(@\"target.txt\", Encoding.ASCII);\n\n        SendKeys.Send(\"%{TAB}\");\n        System.Threading.Thread.Sleep(2000);\n\n        while ((line = file.ReadLine()) != null)\n        {\n            //System.Console.WriteLine(line);\n            SendKeys.Send(line);\n            System.Threading.Thread.Sleep(200);\n            SendKeys.Send(\"{ENTER}\");\n            System.Threading.Thread.Sleep(1200);\n            counter++;\n\n            if (stopflag == 1)\n                break;\n        }\n\n        file.Close();\n\n        System.Threading.Thread.Sleep(200);\n    }\n</code></pre>\n"}, {"tags": ["c#", "automapper", "moq"], "comments": [{"owner": {"reputation": 6569, "user_id": 2309376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BddLg.png?s=128&g=1", "display_name": "Simply Ged", "link": "https://stackoverflow.com/users/2309376/simply-ged"}, "edited": false, "score": 0, "creation_date": 1567642164, "post_id": 57796788, "comment_id": 102026777, "body": "Why are you passing an empty <code>Action</code>? Can&#39;t you use the <code>Map</code> method without the <code>Action</code> parameter? <code>TDestination Map&lt;TDestination&gt;(object source)</code>"}, {"owner": {"reputation": 3925, "user_id": 918244, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Y1v57.jpg?s=128&g=1", "display_name": "dstj", "link": "https://stackoverflow.com/users/918244/dstj"}, "reply_to_user": {"reputation": 6569, "user_id": 2309376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BddLg.png?s=128&g=1", "display_name": "Simply Ged", "link": "https://stackoverflow.com/users/2309376/simply-ged"}, "edited": false, "score": 1, "creation_date": 1567642383, "post_id": 57796788, "comment_id": 102026817, "body": "You would think so, but not always, no: see <a href=\"https://github.com/AutoMapper/AutoMapper/issues/3206\" rel=\"nofollow noreferrer\">github.com/AutoMapper/AutoMapper/issues/3206</a>"}, {"owner": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "edited": false, "score": 0, "creation_date": 1567643533, "post_id": 57796788, "comment_id": 102027024, "body": "You might need something to do with <code>action.Method.GetMethodBody().GetILAsByteArray()</code>."}, {"owner": {"reputation": 2267, "user_id": 1811700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938c81a7f3dd237566b2fc541e1c8a8?s=128&d=identicon&r=PG", "display_name": "Lucian Bargaoanu", "link": "https://stackoverflow.com/users/1811700/lucian-bargaoanu"}, "edited": false, "score": 1, "creation_date": 1567643853, "post_id": 57796788, "comment_id": 102027073, "body": "But if you&#39;re not setting anything when you call Map, why do you need the context?"}, {"owner": {"reputation": 3925, "user_id": 918244, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Y1v57.jpg?s=128&g=1", "display_name": "dstj", "link": "https://stackoverflow.com/users/918244/dstj"}, "reply_to_user": {"reputation": 2267, "user_id": 1811700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938c81a7f3dd237566b2fc541e1c8a8?s=128&d=identicon&r=PG", "display_name": "Lucian Bargaoanu", "link": "https://stackoverflow.com/users/1811700/lucian-bargaoanu"}, "edited": false, "score": 0, "creation_date": 1567644328, "post_id": 57796788, "comment_id": 102027163, "body": "@Lucian, I don&#39;t know ;) Sometimes I do, sometimes I don&#39;t. Whenever my mapping is like <code>_mapper.Map&lt;ApiResponse&lt;ObjectPayload[]&gt;&gt;(src);</code>, I need it since v9."}, {"owner": {"reputation": 2267, "user_id": 1811700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938c81a7f3dd237566b2fc541e1c8a8?s=128&d=identicon&r=PG", "display_name": "Lucian Bargaoanu", "link": "https://stackoverflow.com/users/1811700/lucian-bargaoanu"}, "edited": false, "score": 0, "creation_date": 1567647653, "post_id": 57796788, "comment_id": 102027679, "body": "You&#39;re creating problems for yourself :) When you use the context, you must be setting smth at Map time. So you use the right overload anyway. Otherwise you must be doing smth weird and you should probably stop."}, {"owner": {"reputation": 3925, "user_id": 918244, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Y1v57.jpg?s=128&g=1", "display_name": "dstj", "link": "https://stackoverflow.com/users/918244/dstj"}, "reply_to_user": {"reputation": 2267, "user_id": 1811700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938c81a7f3dd237566b2fc541e1c8a8?s=128&d=identicon&r=PG", "display_name": "Lucian Bargaoanu", "link": "https://stackoverflow.com/users/1811700/lucian-bargaoanu"}, "edited": false, "score": 0, "creation_date": 1567648172, "post_id": 57796788, "comment_id": 102027766, "body": "@LucianBargaoanu Ah, that may be ;) It is probably because sometimes I use <code>opts.Items</code> to support &quot;sparse fieldset mapping&quot; in the <code>ApiResponse</code>, so I need to check if the context contains any sparse field definition (if not there, map everything)."}], "answers": [{"comments": [{"owner": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "edited": false, "score": 1, "creation_date": 1567644202, "post_id": 57797102, "comment_id": 102027147, "body": "Is there a reason for the downvote? OP asked how to determine if an action is empty. Is there a better solution?"}, {"owner": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "edited": false, "score": 1, "creation_date": 1567644410, "post_id": 57797102, "comment_id": 102027178, "body": "I upvoted just to counter the downvote.  Seemed silly without an explanation."}, {"owner": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "reply_to_user": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "edited": false, "score": 0, "creation_date": 1567644614, "post_id": 57797102, "comment_id": 102027219, "body": "@Xipooo Appreciated. Even if we don&#39;t agree with what OP is doing, this might still be useful for someone else. I can imagine test scenarios where you might want to ensure that an empty action isn&#39;t passed."}, {"owner": {"reputation": 3925, "user_id": 918244, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Y1v57.jpg?s=128&g=1", "display_name": "dstj", "link": "https://stackoverflow.com/users/918244/dstj"}, "edited": false, "score": 0, "creation_date": 1567646118, "post_id": 57797102, "comment_id": 102027465, "body": "For the record, I wasn&#39;t the downvoter (I upvoted too). Your solution seems to work for empty functions. Thanks. My &quot;bonus&quot; question was about testing something more specific than &quot;not empty&quot;. Something like <code>opts =&gt; opts.Items.Add(...)</code>, but maybe I can figure something out."}, {"owner": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "reply_to_user": {"reputation": 3925, "user_id": 918244, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Y1v57.jpg?s=128&g=1", "display_name": "dstj", "link": "https://stackoverflow.com/users/918244/dstj"}, "edited": false, "score": 0, "creation_date": 1567646234, "post_id": 57797102, "comment_id": 102027489, "body": "@dstj In that case I guess you&#39;d actually have to call the action in the <code>Is</code> method with a mocked <code>IMappingOperationOptions</code> object."}, {"owner": {"reputation": 3925, "user_id": 918244, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Y1v57.jpg?s=128&g=1", "display_name": "dstj", "link": "https://stackoverflow.com/users/918244/dstj"}, "edited": false, "score": 1, "creation_date": 1567646572, "post_id": 57797102, "comment_id": 102027529, "body": "@John, will try, thanks. Oh, and I don&#39;t agree either with what I asked! ;) But Automapper v9 throws an <code>InvalidOperationException</code> (in my complex mapping scenario) without that empty function argument... &#175;_(\u30c4)_/&#175;"}, {"owner": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "reply_to_user": {"reputation": 3925, "user_id": 918244, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Y1v57.jpg?s=128&g=1", "display_name": "dstj", "link": "https://stackoverflow.com/users/918244/dstj"}, "edited": false, "score": 1, "creation_date": 1567647353, "post_id": 57797102, "comment_id": 102027631, "body": "@dstj Now I&#39;ve understood the other part of your question properly, I&#39;ve made an edit which hopefully answers it."}], "tags": [], "owner": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "is_accepted": true, "score": 1, "last_activity_date": 1567647338, "last_edit_date": 1567647338, "creation_date": 1567644136, "answer_id": 57797102, "question_id": 57796788, "link": "https://stackoverflow.com/questions/57796788/moq-how-to-verify-that-an-actiont-argument-is-an-empty-function/57797102#57797102", "title": "Moq: How to verify that an Action&lt;T&gt; argument is an empty function?", "body": "<p>I believe that you can analyse the action method's compiled (IL) code to determine if it was empty:</p>\n\n<pre><code>private bool IsEmptyAction(Action&lt;IMappingOperationOptions&gt; a)\n{\n    return a.Method.GetMethodBody().GetILAsByteArray().SequenceEqual(new byte[] { 0x0, 0x2a });\n}\n</code></pre>\n\n<p>The <code>0x0, 0x2a</code> value was obtained through observation of what the IL looks like for an empty action. It ws the same for both an action with generic type arguments, and an action with none.</p>\n\n<p>Then you can use this method like so:</p>\n\n<pre><code>It.Is&lt;Action&lt;IMappingOperationOptions&gt;&gt;(a =&gt; IsEmptyAction(a))\n</code></pre>\n\n<p>And obviously testing the opposite is just a case of negating the condition (<code>!IsEmptyAction(a)</code>).</p>\n\n<p>To test the options for certain values, you'll probably need to mock <code>IMappingOperationOptions</code>:</p>\n\n<pre><code>private bool IsItemsExist(Action&lt;IMappingOperationOptions&gt; a, Func&lt;IDictionary&lt;string, object&gt;, bool&gt; itemsChecker)\n{\n    // Create mock of options\n    var optionsMock = new Mock&lt;IMappingOperationOptions&gt;();\n    var itemsDictionary = new Dictionary&lt;string, object&gt;();\n    optionsMock.SetupGet(o =&gt; o.Items).Returns(itemsDictionary);\n\n    // Call action\n    a(optionsMock.Object);\n\n    // Call check function\n    return itemsChecker(itemsDictionary);\n}\n</code></pre>\n\n<p>Then you can apply this to your main mock:</p>\n\n<pre><code>test\n    .Setup(t =&gt; t.TestMethod(It.Is&lt;Action&lt;IMappingOperationOptions&gt;&gt;(a =&gt; !IsItemsExist(a, d =&gt; d.ContainsKey(\"test\")))))\n    .Throws(new Exception(\"must contain test\"));\n</code></pre>\n\n<p>And then you can test it like so:</p>\n\n<pre><code>test.Object.TestMethod(o =&gt; o.Items.Add(\"test\", \"moo\"));\nAssert.Throws&lt;Exception&gt;(() =&gt; test.Object.TestMethod(o =&gt; o.Items.Add(\"hello\", \"test\")));\n</code></pre>\n\n<p>Of course this is just an example, so you can make it more or less generic, etc. as you need to.</p>\n"}], "owner": {"reputation": 3925, "user_id": 918244, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Y1v57.jpg?s=128&g=1", "display_name": "dstj", "link": "https://stackoverflow.com/users/918244/dstj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "accepted_answer_id": 57797102, "answer_count": 1, "score": 2, "last_activity_date": 1567647338, "creation_date": 1567640588, "question_id": 57796788, "link": "https://stackoverflow.com/questions/57796788/moq-how-to-verify-that-an-actiont-argument-is-an-empty-function", "title": "Moq: How to verify that an Action&lt;T&gt; argument is an empty function?", "body": "<p>In Automapper v9, the <code>Map()</code> method has the following signature:</p>\n\n<pre><code>TDestination Map&lt;TDestination&gt;(object source, Action&lt;IMappingOperationOptions&gt; opts);\n</code></pre>\n\n<p>We often do the following usage:</p>\n\n<pre><code>_mapper.Map&lt;SomeClass&gt;(srcObj, _ =&gt; { });\n</code></pre>\n\n<p><strong>Question</strong>: With Moq, how do I test that the second argument really is an empty <code>Action</code>?</p>\n\n<p>I know how to ignore the second argument, but that's not really a good test...</p>\n\n<pre><code>_mapper.Setup(m =&gt; m.Map&lt;SomeClass&gt;(srcObj, It.IsAny&lt;Action&lt;IMappingOperationOptions&gt;&gt;()))\n       .Returns(mapped);\n</code></pre>\n\n<p><em>Bonus point</em>: how would I test a non-empty <code>Action</code>?</p>\n"}, {"tags": ["c#", "memory", "intptr"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567641335, "post_id": 57796787, "comment_id": 102026635, "body": "Do you have any other errors like on the using methods at top of module?  Did you try to build?  I&#39;m not getting error."}, {"owner": {"reputation": 1670, "user_id": 188256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cXJkr.png?s=128&g=1", "display_name": "snipsnipsnip", "link": "https://stackoverflow.com/users/188256/snipsnipsnip"}, "edited": false, "score": 0, "creation_date": 1567658744, "post_id": 57796787, "comment_id": 102029697, "body": "Perhaps you&#39;ve accidentally generated <code>IntPtr.cs</code>?"}, {"owner": {"reputation": 41, "user_id": 11884060, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R2nnjttlvYA/AAAAAAAAAAI/AAAAAAAAABA/sAb-AsV9syc/photo.jpg?sz=128", "display_name": "Randomouss Stuffed", "link": "https://stackoverflow.com/users/11884060/randomouss-stuffed"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567669508, "post_id": 57796787, "comment_id": 102033497, "body": "@jdweng No, I get this error only"}, {"owner": {"reputation": 41, "user_id": 11884060, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R2nnjttlvYA/AAAAAAAAAAI/AAAAAAAAABA/sAb-AsV9syc/photo.jpg?sz=128", "display_name": "Randomouss Stuffed", "link": "https://stackoverflow.com/users/11884060/randomouss-stuffed"}, "reply_to_user": {"reputation": 1670, "user_id": 188256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cXJkr.png?s=128&g=1", "display_name": "snipsnipsnip", "link": "https://stackoverflow.com/users/188256/snipsnipsnip"}, "edited": false, "score": 0, "creation_date": 1567669531, "post_id": 57796787, "comment_id": 102033509, "body": "@snipsnipsnip what do you mean?"}, {"owner": {"reputation": 41, "user_id": 11884060, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R2nnjttlvYA/AAAAAAAAAAI/AAAAAAAAABA/sAb-AsV9syc/photo.jpg?sz=128", "display_name": "Randomouss Stuffed", "link": "https://stackoverflow.com/users/11884060/randomouss-stuffed"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567669643, "post_id": 57796787, "comment_id": 102033566, "body": "@jdweng build the solution ofr the executable?"}, {"owner": {"reputation": 41, "user_id": 11884060, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R2nnjttlvYA/AAAAAAAAAAI/AAAAAAAAABA/sAb-AsV9syc/photo.jpg?sz=128", "display_name": "Randomouss Stuffed", "link": "https://stackoverflow.com/users/11884060/randomouss-stuffed"}, "edited": false, "score": 0, "creation_date": 1567669746, "post_id": 57796787, "comment_id": 102033617, "body": "I ADDED A NOTE IN THE QUESTION"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 11884060, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R2nnjttlvYA/AAAAAAAAAAI/AAAAAAAAABA/sAb-AsV9syc/photo.jpg?sz=128", "display_name": "Randomouss Stuffed", "link": "https://stackoverflow.com/users/11884060/randomouss-stuffed"}, "is_accepted": true, "score": 3, "last_activity_date": 1567672011, "creation_date": 1567672011, "answer_id": 57801373, "question_id": 57796787, "link": "https://stackoverflow.com/questions/57796787/intptr-add-doesnt-exist/57801373#57801373", "title": "IntPtr.add doesn&#39;t exist", "body": "<p>If found the solution. Im reall dumb. I wanted to make my program work on older versions of windows so i selected Framework 3.5. This version doesn't have the <strong>IntPtr.Add</strong>. I selected version 4.5 and now everything is fine!</p>\n\n<p>Thanks everyone for the help</p>\n"}], "owner": {"reputation": 41, "user_id": 11884060, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R2nnjttlvYA/AAAAAAAAAAI/AAAAAAAAABA/sAb-AsV9syc/photo.jpg?sz=128", "display_name": "Randomouss Stuffed", "link": "https://stackoverflow.com/users/11884060/randomouss-stuffed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 57801373, "answer_count": 1, "score": 1, "last_activity_date": 1567672011, "creation_date": 1567640587, "last_edit_date": 1567669702, "question_id": 57796787, "link": "https://stackoverflow.com/questions/57796787/intptr-add-doesnt-exist", "title": "IntPtr.add doesn&#39;t exist", "body": "<p>I want to make a simple program for reading a value of a program. I found a class on the internet which has everything i need to read/write data to the memory of a specified program. But im having a very annoying problem. I get this error: <strong>Error CS0117  'IntPtr' does not contain a definition for 'Add\"</strong>. If you type IntPtr.add(....), intellisense won't show it. Whats going on :(</p>\n\n<p><strong>NOTE: IntPtr.Zero and IntPtr.Size work perfectly.</strong></p>\n\n<p>Here is the Code of the class,Its line 68-69:</p>\n\n<pre><code>using System;\nusing System.Diagnostics;\nusing System.Runtime.InteropServices;\nusing System.Windows.Forms;\nusing System.Globalization;\nusing System.Runtime.Serialization;\nusing System.Linq;\n\nnamespace ProcessMemoryReaderLib\n{\n internal class ProcessMemoryReaderApi\n {\n\n    public const uint PROCESS_VM_READ = (0x0010);\n    public const uint PROCESS_VM_WRITE = (0x0020);\n    public const uint PROCESS_VM_OPERATION = (0x0008);\n    public const uint PAGE_READWRITE = 0x0004;\n    public const int WM_SYSCOMMAND = 0x0112;\n    public const int WM_ACTIVATE = 0x6;\n    public const int WM_HOTKEY = 0x0312;\n\n    [DllImport(\"user32.dll\", CharSet = CharSet.Auto, CallingConvention = CallingConvention.StdCall)]\n    public static extern void mouse_event(long dwFlags, long dx, long dy, long cButtons, long dwExtraInfo);\n\n    [DllImport(\"kernel32.dll\")]\n    public static extern IntPtr OpenProcess(UInt32 dwDesiredAccess, Int32 bInheritHandle, UInt32 dwProcessId);\n\n    [DllImport(\"kernel32.dll\")]\n    public static extern Int32 CloseHandle(IntPtr hObject);\n\n    [DllImport(\"kernel32.dll\")]\n    public static extern Int32 ReadProcessMemory(IntPtr hProcess, IntPtr lpBaseAddress, [In, Out] byte[] buffer, UInt32 size, out IntPtr lpNumberOfBytesRead);\n\n    [DllImport(\"kernel32.dll\")]\n    public static extern Int32 WriteProcessMemory(IntPtr hProcess, IntPtr lpBaseAddress, [In, Out] byte[] buffer, UInt32 size, out IntPtr lpNumberOfBytesWritten);\n\n    [DllImport(\"kernel32\", SetLastError = true)]\n    public static extern IntPtr VirtualAllocEx(IntPtr hProcess, IntPtr lpAddress, UInt32 dwSize, uint flAllocationType, uint flProtect);\n\n    [DllImport(\"kernel32.dll\", SetLastError = true)]\n    public static extern bool VirtualProtectEx(IntPtr hProcess, IntPtr lpAddress, UInt32 dwSize, uint flNewProtect, out uint lpflOldProtect);\n\n    [DllImport(\"user32.dll\", SetLastError = true)]\n    public static extern bool UnregisterHotKey(IntPtr hWnd, int id);\n\n    [DllImport(\"user32.dll\")]\n    public static extern int GetKeyState(int vKey);\n\n}\n\npublic class ProcessMemoryReader\n{\n    public ProcessMemoryReader()\n    {\n    }\n\n    public static IntPtr FindDMAAddy(IntPtr hProc, IntPtr ptr, int[] offsets)\n    {\n        var buffer = new byte[IntPtr.Size];\n\n        foreach (int i in offsets)\n        {\n            ProcessMemoryReaderApi.ReadProcessMemory(hProc, ptr, buffer, (uint)buffer.Length, out var read);\n\n            ptr = (IntPtr.Size == 4)\n            ? IntPtr.Add(new IntPtr(BitConverter.ToInt32(buffer, 0)), i)\n            : ptr = IntPtr.Add(new IntPtr(BitConverter.ToInt64(buffer, 0)), i);\n        }\n        return ptr;\n    }\n\n    public Process ReadProcess\n    {\n        get\n        {\n            return m_ReadProcess;\n        }\n        set\n        {\n            m_ReadProcess = value;\n        }\n    }\n\n    private Process m_ReadProcess = null;\n    private IntPtr m_hProcess = IntPtr.Zero;\n\n    public void OpenProcess()\n    {\n        m_hProcess = ProcessMemoryReaderApi.OpenProcess(ProcessMemoryReaderApi.PROCESS_VM_READ | ProcessMemoryReaderApi.PROCESS_VM_WRITE | ProcessMemoryReaderApi.PROCESS_VM_OPERATION, 1, (uint)m_ReadProcess.Id);\n    }\n\n    public void CloseHandle()\n    {\n        int iRetValue;\n        iRetValue = ProcessMemoryReaderApi.CloseHandle(m_hProcess);\n        if (iRetValue == 0)\n            throw new Exception(\"CloseHandle failed\");\n    }\n\n    #region ReadMem\n\n    public int ReadMem(int MemoryAddress, uint bytesToRead, out byte[] buffer)\n    {\n        IntPtr procHandle = ProcessMemoryReaderApi.OpenProcess(ProcessMemoryReaderApi.PROCESS_VM_READ | ProcessMemoryReaderApi.PROCESS_VM_WRITE | ProcessMemoryReaderApi.PROCESS_VM_OPERATION, 1, (uint)m_ReadProcess.Id);\n        if (procHandle == IntPtr.Zero)\n        {\n            buffer = new byte[0];\n            return 0;\n        }\n\n        buffer = new byte[bytesToRead];\n        IntPtr ptrBytesReaded;\n        ProcessMemoryReaderApi.ReadProcessMemory(procHandle, (IntPtr)MemoryAddress, buffer, bytesToRead, out ptrBytesReaded);\n        ProcessMemoryReaderApi.CloseHandle(procHandle);\n        return ptrBytesReaded.ToInt32();\n    }\n\n    //We use this to\n    public int ReadMultiLevelPointer(int MemoryAddress, uint bytesToRead, Int32[] offsetList)\n    {\n        IntPtr procHandle = ProcessMemoryReaderApi.OpenProcess(ProcessMemoryReaderApi.PROCESS_VM_READ | ProcessMemoryReaderApi.PROCESS_VM_WRITE | ProcessMemoryReaderApi.PROCESS_VM_OPERATION, 1, (uint)m_ReadProcess.Id);\n        IntPtr pointer = (IntPtr)0x0;\n        //IF THE PROCESS isnt available we return nothing\n        if (procHandle == IntPtr.Zero)\n        {\n            return 0;\n        }\n\n        byte[] btBuffer = new byte[bytesToRead];\n        IntPtr lpOutStorage = IntPtr.Zero;\n\n        int pointerAddy = MemoryAddress;\n        //int pointerTemp = 0;\n        for (int i = 0; i &lt; (offsetList.Length); i++)\n        {\n            if (i == 0)\n            {\n                ProcessMemoryReaderApi.ReadProcessMemory(\n                    procHandle,\n                    (IntPtr)(pointerAddy),\n                    btBuffer,\n                    (uint)btBuffer.Length,\n                    out lpOutStorage);\n            }\n            pointerAddy = (BitConverter.ToInt32(btBuffer, 0) + offsetList[i]);\n            //string pointerAddyHEX = pointerAddy.ToString(\"X\");\n\n            ProcessMemoryReaderApi.ReadProcessMemory(\n                procHandle,\n                (IntPtr)(pointerAddy),\n                btBuffer,\n                (uint)btBuffer.Length,\n                out lpOutStorage);\n        }\n        return pointerAddy;\n    }\n\n    public byte ReadByte(int MemoryAddress)\n    {\n        byte[] buffer;\n        int read = ReadMem(MemoryAddress, 1, out buffer);\n        if (read == 0)\n            return new byte();\n        else\n            return buffer[0];\n    }\n\n    public int ReadInt(int MemoryAddress)\n    {\n        byte[] buffer;\n        int read = ReadMem(MemoryAddress, 4, out buffer);\n        if (read == 0)\n            return 0;\n        else\n            return BitConverter.ToInt32(buffer, 0);\n    }\n\n    public uint ReadUInt(int MemoryAddress)\n    {\n        byte[] buffer;\n        int read = ReadMem(MemoryAddress, 4, out buffer);\n        if (read == 0)\n            return 0;\n        else\n            return BitConverter.ToUInt32(buffer, 0);\n    }\n\n    public float ReadFloat(int MemoryAddress)\n    {\n        byte[] buffer;\n        int read = ReadMem(MemoryAddress, 4, out buffer);\n        if (read == 0)\n            return 0;\n        else\n            return BitConverter.ToSingle(buffer, 0);\n    }\n\n    public byte[] ReadAMem(IntPtr MemoryAddress, uint bytesToRead, out int bytesReaded)\n    {\n        byte[] buffer = new byte[bytesToRead];\n\n        IntPtr ptrBytesReaded;\n        ProcessMemoryReaderApi.ReadProcessMemory(m_hProcess, MemoryAddress, buffer, bytesToRead, out ptrBytesReaded);\n        bytesReaded = ptrBytesReaded.ToInt32();\n        return buffer;\n    }\n\n    internal byte[] ReadAMem(int p, int p_2, out int bytesReadSize)\n    {\n        throw new NotImplementedException();\n    }\n\n    #endregion ReadMem\n\n    #region WriteMem\n\n    public int WriteMem(int MemoryAddress, byte[] buf)\n    {\n        IntPtr procHandle = ProcessMemoryReaderApi.OpenProcess(ProcessMemoryReaderApi.PROCESS_VM_READ | ProcessMemoryReaderApi.PROCESS_VM_WRITE | ProcessMemoryReaderApi.PROCESS_VM_OPERATION, 1, (uint)m_ReadProcess.Id);\n        if (procHandle == IntPtr.Zero)\n            return 0;\n\n        uint oldProtect;\n        ProcessMemoryReaderApi.VirtualProtectEx(procHandle, (IntPtr)MemoryAddress, (uint)buf.Length, ProcessMemoryReaderApi.PAGE_READWRITE, out oldProtect);\n        IntPtr ptrBytesWritten;\n        ProcessMemoryReaderApi.WriteProcessMemory(procHandle, (IntPtr)MemoryAddress, buf, (uint)buf.Length, out ptrBytesWritten);\n        ProcessMemoryReaderApi.CloseHandle(procHandle);\n        return ptrBytesWritten.ToInt32();\n    }\n\n    public void WriteByte(int MemoryAddress, byte b)\n    {\n        WriteMem(MemoryAddress, new byte[] { b });\n    }\n\n    public void WriteInt(int MemoryAddress, int w)\n    {\n        byte[] buf = BitConverter.GetBytes(w);\n        WriteMem(MemoryAddress, buf);\n    }\n\n    public void WriteUInt(int MemoryAddress, uint u)\n    {\n        byte[] buf = BitConverter.GetBytes(u);\n        WriteMem(MemoryAddress, buf);\n    }\n\n    public void WriteFloat(int MemoryAddress, float f)\n    {\n        byte[] buf = BitConverter.GetBytes(f);\n        WriteMem(MemoryAddress, buf);\n    }\n\n    public void WriteAMem(IntPtr MemoryAddress, byte[] bytesToWrite, out int bytesWritten)\n    {\n        IntPtr ptrBytesWritten;\n        ProcessMemoryReaderApi.WriteProcessMemory(m_hProcess, MemoryAddress, bytesToWrite, (uint)bytesToWrite.Length, out ptrBytesWritten);\n\n        bytesWritten = ptrBytesWritten.ToInt32();\n    }\n\n    #endregion WriteMem\n\n    #region Keys\n\n    [DllImport(\"user32.dll\")]\n    public static extern short GetKeyState(Keys nVirtKey);\n\n    public enum VirtualKeyStates : int\n    {\n        VK_LBUTTON = 0x01,\n        VK_RBUTTON = 0x02,\n        VK_CANCEL = 0x03,\n        VK_MBUTTON = 0x04,\n\n        //\n        VK_XBUTTON1 = 0x05,\n\n        VK_XBUTTON2 = 0x06,\n\n        //\n        VK_BACK = 0x08,\n\n        VK_TAB = 0x09,\n\n        //\n        VK_CLEAR = 0x0C,\n\n        VK_RETURN = 0x0D,\n\n        //\n        VK_SHIFT = 0x10,\n\n        VK_CONTROL = 0x11,\n        VK_MENU = 0x12,\n        VK_PAUSE = 0x13,\n        VK_CAPITAL = 0x14,\n\n        //\n        VK_KANA = 0x15,\n\n        VK_HANGEUL = 0x15,  /* old name - should be here for compatibility */\n        VK_HANGUL = 0x15,\n        VK_JUNJA = 0x17,\n        VK_FINAL = 0x18,\n        VK_HANJA = 0x19,\n        VK_KANJI = 0x19,\n\n        //\n        VK_ESCAPE = 0x1B,\n\n        //\n        VK_CONVERT = 0x1C,\n\n        VK_NONCONVERT = 0x1D,\n        VK_ACCEPT = 0x1E,\n        VK_MODECHANGE = 0x1F,\n\n        //\n        VK_SPACE = 0x20,\n\n        VK_PRIOR = 0x21,\n        VK_NEXT = 0x22,\n        VK_END = 0x23,\n        VK_HOME = 0x24,\n        VK_LEFT = 0x25,\n        VK_UP = 0x26,\n        VK_RIGHT = 0x27,\n        VK_DOWN = 0x28,\n        VK_SELECT = 0x29,\n        VK_PRINT = 0x2A,\n        VK_EXECUTE = 0x2B,\n        VK_SNAPSHOT = 0x2C,\n        VK_INSERT = 0x2D,\n        VK_DELETE = 0x2E,\n        VK_HELP = 0x2F,\n\n        //\n        VK_LWIN = 0x5B,\n\n        VK_RWIN = 0x5C,\n        VK_APPS = 0x5D,\n\n        //\n        VK_SLEEP = 0x5F,\n\n        //\n        VK_NUMPAD0 = 0x60,\n\n        VK_NUMPAD1 = 0x61,\n        VK_NUMPAD2 = 0x62,\n        VK_NUMPAD3 = 0x63,\n        VK_NUMPAD4 = 0x64,\n        VK_NUMPAD5 = 0x65,\n        VK_NUMPAD6 = 0x66,\n        VK_NUMPAD7 = 0x67,\n        VK_NUMPAD8 = 0x68,\n        VK_NUMPAD9 = 0x69,\n        VK_MULTIPLY = 0x6A,\n        VK_ADD = 0x6B,\n        VK_SEPARATOR = 0x6C,\n        VK_SUBTRACT = 0x6D,\n        VK_DECIMAL = 0x6E,\n        VK_DIVIDE = 0x6F,\n        VK_F1 = 0x70,\n        VK_F2 = 0x71,\n        VK_F3 = 0x72,\n        VK_F4 = 0x73,\n        VK_F5 = 0x74,\n        VK_F6 = 0x75,\n        VK_F7 = 0x76,\n        VK_F8 = 0x77,\n        VK_F9 = 0x78,\n        VK_F10 = 0x79,\n        VK_F11 = 0x7A,\n        VK_F12 = 0x7B,\n        VK_F13 = 0x7C,\n        VK_F14 = 0x7D,\n        VK_F15 = 0x7E,\n        VK_F16 = 0x7F,\n        VK_F17 = 0x80,\n        VK_F18 = 0x81,\n        VK_F19 = 0x82,\n        VK_F20 = 0x83,\n        VK_F21 = 0x84,\n        VK_F22 = 0x85,\n        VK_F23 = 0x86,\n        VK_F24 = 0x87,\n\n        //\n        VK_NUMLOCK = 0x90,\n\n        VK_SCROLL = 0x91,\n\n        //\n        VK_OEM_NEC_EQUAL = 0x92,   // '=' key on numpad\n\n        //\n        VK_OEM_FJ_JISHO = 0x92,   // 'Dictionary' key\n\n        VK_OEM_FJ_MASSHOU = 0x93,   // 'Unregister word' key\n        VK_OEM_FJ_TOUROKU = 0x94,   // 'Register word' key\n        VK_OEM_FJ_LOYA = 0x95,   // 'Left OYAYUBI' key\n        VK_OEM_FJ_ROYA = 0x96,   // 'Right OYAYUBI' key\n\n        //\n        VK_LSHIFT = 0xA0,\n\n        VK_RSHIFT = 0xA1,\n        VK_LCONTROL = 0xA2,\n        VK_RCONTROL = 0xA3,\n        VK_LMENU = 0xA4,\n        VK_RMENU = 0xA5,\n\n        //\n        VK_BROWSER_BACK = 0xA6,\n\n        VK_BROWSER_FORWARD = 0xA7,\n        VK_BROWSER_REFRESH = 0xA8,\n        VK_BROWSER_STOP = 0xA9,\n        VK_BROWSER_SEARCH = 0xAA,\n        VK_BROWSER_FAVORITES = 0xAB,\n        VK_BROWSER_HOME = 0xAC,\n\n        //\n        VK_VOLUME_MUTE = 0xAD,\n\n        VK_VOLUME_DOWN = 0xAE,\n        VK_VOLUME_UP = 0xAF,\n        VK_MEDIA_NEXT_TRACK = 0xB0,\n        VK_MEDIA_PREV_TRACK = 0xB1,\n        VK_MEDIA_STOP = 0xB2,\n        VK_MEDIA_PLAY_PAUSE = 0xB3,\n        VK_LAUNCH_MAIL = 0xB4,\n        VK_LAUNCH_MEDIA_SELECT = 0xB5,\n        VK_LAUNCH_APP1 = 0xB6,\n        VK_LAUNCH_APP2 = 0xB7,\n\n        //\n        VK_OEM_1 = 0xBA,   // ';:' for US\n\n        VK_OEM_PLUS = 0xBB,   // '+' any country\n        VK_OEM_COMMA = 0xBC,   // ',' any country\n        VK_OEM_MINUS = 0xBD,   // '-' any country\n        VK_OEM_PERIOD = 0xBE,   // '.' any country\n        VK_OEM_2 = 0xBF,   // '/?' for US\n        VK_OEM_3 = 0xC0,   // '`~' for US\n\n        //\n        VK_OEM_4 = 0xDB,  //  '[{' for US\n\n        VK_OEM_5 = 0xDC,  //  '\\|' for US\n        VK_OEM_6 = 0xDD,  //  ']}' for US\n        VK_OEM_7 = 0xDE,  //  ''\"' for US\n        VK_OEM_8 = 0xDF,\n\n        //\n        VK_OEM_AX = 0xE1,  //  'AX' key on Japanese AX kbd\n\n        VK_OEM_102 = 0xE2,  //  \"&lt;&gt;\" or \"\\|\" on RT 102-key kbd.\n        VK_ICO_HELP = 0xE3,  //  Help key on ICO\n        VK_ICO_00 = 0xE4,  //  00 key on ICO\n\n        //\n        VK_PROCESSKEY = 0xE5,\n\n        //\n        VK_ICO_CLEAR = 0xE6,\n\n        //\n        VK_PACKET = 0xE7,\n\n        //\n        VK_OEM_RESET = 0xE9,\n\n        VK_OEM_JUMP = 0xEA,\n        VK_OEM_PA1 = 0xEB,\n        VK_OEM_PA2 = 0xEC,\n        VK_OEM_PA3 = 0xED,\n        VK_OEM_WSCTRL = 0xEE,\n        VK_OEM_CUSEL = 0xEF,\n        VK_OEM_ATTN = 0xF0,\n        VK_OEM_FINISH = 0xF1,\n        VK_OEM_COPY = 0xF2,\n        VK_OEM_AUTO = 0xF3,\n        VK_OEM_ENLW = 0xF4,\n        VK_OEM_BACKTAB = 0xF5,\n\n        //\n        VK_ATTN = 0xF6,\n\n        VK_CRSEL = 0xF7,\n        VK_EXSEL = 0xF8,\n        VK_EREOF = 0xF9,\n        VK_PLAY = 0xFA,\n        VK_ZOOM = 0xFB,\n        VK_NONAME = 0xFC,\n        VK_PA1 = 0xFD,\n        VK_OEM_CLEAR = 0xFE\n    }\n\n    public bool Keystate(Keys key)\n    {\n        int state = GetKeyState(key);\n        if (state == -127 || state == -128)\n        {\n            return true;\n        }\n        return false;\n    }\n\n    #endregion Keys\n}\n}\n</code></pre>\n"}, {"tags": ["c#", "sql", "group-by", "ef-core-2.1"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567640513, "post_id": 57796725, "comment_id": 102026496, "body": "int results = context.MyCustomView.Where(x =&gt; (x.ValueA == null) &amp;&amp; (x.ValueB == Null)).Count();"}, {"owner": {"reputation": 1808, "user_id": 737071, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/123a42bf039f89816cf0186ddbc24eb7?s=128&d=identicon&r=PG", "display_name": "Heinrich", "link": "https://stackoverflow.com/users/737071/heinrich"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567640607, "post_id": 57796725, "comment_id": 102026512, "body": "@jdweng I need both Count and Sum not Count where"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567644497, "post_id": 57796725, "comment_id": 102027190, "body": "Are you sure?  What is the sum of NULL?"}, {"owner": {"reputation": 1808, "user_id": 737071, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/123a42bf039f89816cf0186ddbc24eb7?s=128&d=identicon&r=PG", "display_name": "Heinrich", "link": "https://stackoverflow.com/users/737071/heinrich"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567645168, "post_id": 57796725, "comment_id": 102027322, "body": "SUM(ISNULL(ValueA, ValueB)) sums the value of ValueA or ValueB. If both are NULL then they are ignored"}], "answers": [{"tags": [], "owner": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "is_accepted": false, "score": 0, "last_activity_date": 1567641024, "creation_date": 1567641024, "answer_id": 57796828, "question_id": 57796725, "link": "https://stackoverflow.com/questions/57796725/ef-core-2-1-group-by-for-views/57796828#57796828", "title": "EF Core 2.1 Group By for Views", "body": "<p>Querying Views are notoriously slow when they are not indexed.  Instead you can convert your View results into a list first, then query that list.  It will eliminate the querying the view on the SQL side and should speed up the overall process.</p>\n\n<pre><code>context\n.Query&lt;MyCustomView&gt;()\n.ToList()\n.GroupBy(p =&gt; 1)\n.Select(grp =&gt; new { count = grp.Count(), total = Sum(p=&gt;p.ValueA ?? p.ValueB)}\n</code></pre>\n\n<p>I will say, the proper solution (if you can do it) is to index the view.</p>\n"}, {"tags": [], "owner": {"reputation": 1808, "user_id": 737071, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/123a42bf039f89816cf0186ddbc24eb7?s=128&d=identicon&r=PG", "display_name": "Heinrich", "link": "https://stackoverflow.com/users/737071/heinrich"}, "is_accepted": false, "score": 0, "last_activity_date": 1567736462, "creation_date": 1567736462, "answer_id": 57814962, "question_id": 57796725, "link": "https://stackoverflow.com/questions/57796725/ef-core-2-1-group-by-for-views/57814962#57814962", "title": "EF Core 2.1 Group By for Views", "body": "<p>For anyone that is curious (or until someone else manages to provide an anwser) I managed to get it work by creating a linq query like this:</p>\n\n<pre><code>const a = 1;        \ncontext\n.Query&lt;MyCustomView&gt;()\n // For some reason adding the below select lets it execute\n.Select(p =&gt; new { p.ValueA, p.ValueB })\n.GroupBy(p =&gt; a)\n.Select(grp =&gt; new { count = grp.Count(), total = Sum(p=&gt;p.ValueA ?? p.ValueB)})\n.First();\n</code></pre>\n\n<p>Also according the EF Core team this has been sorted in EF Core 3+, unfortunately I haven't got the luxury to upgrade to 3. </p>\n"}], "owner": {"reputation": 1808, "user_id": 737071, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/123a42bf039f89816cf0186ddbc24eb7?s=128&d=identicon&r=PG", "display_name": "Heinrich", "link": "https://stackoverflow.com/users/737071/heinrich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1567736462, "creation_date": 1567639942, "last_edit_date": 1567640285, "question_id": 57796725, "link": "https://stackoverflow.com/questions/57796725/ef-core-2-1-group-by-for-views", "title": "EF Core 2.1 Group By for Views", "body": "<p>I have a view in SQL lets call it <code>MyCustomView</code>.</p>\n\n<p>If I was to write a simple SQL query to count and sum I could do something like: <code>SELECT COUNT(*), SUM(ISNULL(ValueA, ValueB)) FROM MyCustomView</code></p>\n\n<p>Is it possible to translate that query in EF Core? <br /> Diggin around I found the answers mentioning the user of GroupBy 1 (however this doesn't seem to work for views), i.e. </p>\n\n<p><code>context\n.Query&lt;MyCustomView&gt;()\n.GroupBy(p =&gt; 1)\n.Select(grp =&gt; new { count = grp.Count(), total = Sum(p=&gt;p.ValueA ?? p.ValueB)}</code></p>\n\n<p>The issue I am having is that whenever I attempt to run the query I get a complaint about having to run the group by on the client. <br />However If I was to replace the <code>.Query&lt;MyCustomView&gt;()</code> with a DbSet property from the context then that query works fine. So I am guessing it has to do with the fact that I am trying to execute the operation on a View. <br /> Is there a way to achieve this behaviour with a View or am I out of luck again with EF Core :(</p>\n"}, {"tags": ["c#", "azure", "azure-iot-hub"], "answers": [{"tags": [], "owner": {"reputation": 2000, "user_id": 8800237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FRagt.jpg?s=128&g=1", "display_name": "Matthijs van der Veer", "link": "https://stackoverflow.com/users/8800237/matthijs-van-der-veer"}, "is_accepted": true, "score": 1, "last_activity_date": 1567663410, "creation_date": 1567663410, "answer_id": 57799268, "question_id": 57796724, "link": "https://stackoverflow.com/questions/57796724/azure-iothub-modules-twin-property-change-detection/57799268#57799268", "title": "Azure IotHub Module&#39;s twin property change detection", "body": "<p>When you create a new module in Visual Studio Code, it generates a template module for you that will show you how it's done. I'll include the important bit below:</p>\n\n<pre><code>static async Task Init()\n        {\n            MqttTransportSettings mqttSetting = new MqttTransportSettings(TransportType.Mqtt_Tcp_Only);\n            ITransportSettings[] settings = { mqttSetting };\n\n            // Open a connection to the Edge runtime\n            ModuleClient ioTHubModuleClient = await ModuleClient.CreateFromEnvironmentAsync(settings);\n            await ioTHubModuleClient.OpenAsync();\n            Console.WriteLine(\"IoT Hub module client initialized.\");\n\n            // Register callback to be called when a message is received by the module\n            await ioTHubModuleClient.SetInputMessageHandlerAsync(\"input1\", PipeMessage, ioTHubModuleClient);\n        }\n</code></pre>\n\n<p>The way this works is because the Azure IoT Edge runtime will create the module as a Docker container with the connection settings as environment variables. The module client uses those variables to connect to IoT Hub when you call </p>\n\n<blockquote>\n  <p>ModuleClient ioTHubModuleClient = await\n  ModuleClient.CreateFromEnvironmentAsync(settings);</p>\n</blockquote>\n\n<p>There is a good sample on <a href=\"https://docs.microsoft.com/en-us/azure/iot-edge/tutorial-csharp-module\" rel=\"nofollow noreferrer\">this Microsoft tutorial</a> that also covers listening for Twin updates.</p>\n"}], "owner": {"reputation": 1355, "user_id": 4335909, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MrGAW.jpg?s=128&g=1", "display_name": "Rana", "link": "https://stackoverflow.com/users/4335909/rana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 457, "favorite_count": 0, "accepted_answer_id": 57799268, "answer_count": 1, "score": 2, "last_activity_date": 1567663410, "creation_date": 1567639927, "last_edit_date": 1567640367, "question_id": 57796724, "link": "https://stackoverflow.com/questions/57796724/azure-iothub-modules-twin-property-change-detection", "title": "Azure IotHub Module&#39;s twin property change detection", "body": "<p>I have an <strong>Azure IOThub</strong> that contains one edge device. Within this edge device I have several modules running and I can change the <strong>twin property</strong> of any individual module by connecting to it with it's <strong>connection string</strong>.</p>\n\n<p>Now I would like the module to do something when it's twin property is changed but the module doesn't have access to it's connection string and it shouldn't because it shouldn't need to connect to itself.</p>\n\n<p><strong>How can a module detect it's twin property change without having a connection string?</strong></p>\n\n<p>I have followed this tutorial but this uses a connection string to detect changes: <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-csharp-csharp-module-twin-getstarted#create-a-module-identity\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-csharp-csharp-module-twin-getstarted#create-a-module-identity</a></p>\n\n<p>Here's the code for this module:</p>\n\n<pre><code>using System;\nusing Microsoft.Azure.Devices.Client;\nusing Microsoft.Azure.Devices.Shared;\nusing System.Threading.Tasks;\nusing Newtonsoft.Json;\n\nnamespace DataSyncService\n{\n\n    class Program\n    {\n\n        private const string ModuleConnectionString = \"CONNECTION STRING\";\n        private static ModuleClient Client = null;\n        static void ConnectionStatusChangeHandler(ConnectionStatus status,\n                                                  ConnectionStatusChangeReason reason)\n        {\n            Console.WriteLine(\"Connection Status Changed to {0}; the reason is {1}\",\n                status, reason);\n        }\n\n        static void Main(string[] args)\n        {\n            Microsoft.Azure.Devices.Client.TransportType transport =\n                Microsoft.Azure.Devices.Client.TransportType.Amqp;\n\n            try\n            {\n                Client =\n                    ModuleClient.CreateFromConnectionString(ModuleConnectionString, transport);\n                Client.SetConnectionStatusChangesHandler(ConnectionStatusChangeHandler);\n                // I want to set this callback but this requires a client and the client requires\n                // a connection string.    \n                Client.SetDesiredPropertyUpdateCallbackAsync(OnDesiredPropertyChanged, null).Wait();\n\n                Console.WriteLine(\"Retrieving twin\");\n                var twinTask = Client.GetTwinAsync();\n                twinTask.Wait();\n                var twin = twinTask.Result;\n                Console.WriteLine(JsonConvert.SerializeObject(twin.Properties));\n\n                Console.WriteLine(\"Sending app start time as reported property\");\n                TwinCollection reportedProperties = new TwinCollection();\n                reportedProperties[\"DateTimeLastAppLaunch\"] = DateTime.Now;\n\n                Client.UpdateReportedPropertiesAsync(reportedProperties);\n            }\n            catch (AggregateException ex)\n            {\n                Console.WriteLine(\"Error in sample: {0}\", ex);\n            }\n\n            Console.WriteLine(\"Waiting for Events.  Press enter to exit...\");\n            Console.ReadLine();\n            Client.CloseAsync().Wait();\n        }\n\n        private static async Task OnDesiredPropertyChanged(TwinCollection desiredProperties,\n                                                           object userContext)\n        {\n            Console.WriteLine(\"desired property change:\");\n            Console.WriteLine(JsonConvert.SerializeObject(desiredProperties));\n            Console.WriteLine(\"Sending current time as reported property\");\n            TwinCollection reportedProperties = new TwinCollection\n                                                    {\n                                                        [\"DateTimeLastDesiredPropertyChangeReceived\"] = DateTime.Now\n                                                    };\n\n            await Client.UpdateReportedPropertiesAsync(reportedProperties).ConfigureAwait(false);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net-core"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 3, "creation_date": 1567640323, "post_id": 57796678, "comment_id": 102026461, "body": "This kind of thing gets asked a lot. Did you do much research? You just need a separate background service set to run at frequent intervals. The Web API would simply save the file, then write some data somewhere (e.g. maybe a database table) telling the service that a job is ready for it. Next time the service runs it will see the new job and process it, and can send an email when it&#39;s finished."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1567640374, "post_id": 57796678, "comment_id": 102026472, "body": "Or you might be able to use something like <a href=\"https://docs.hangfire.io/en/latest/getting-started/aspnet-core-applications.html\" rel=\"nofollow noreferrer\">HangFire</a> to produce a similar effect all within your ASP.NET application. But you certainly can&#39;t do what you&#39;re asking with the basic context of an API request - once you return a value to the client, the request always ends."}], "owner": {"reputation": 21, "user_id": 10355284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318e1abf4390daf6e7581cb35e33e9be?s=128&d=identicon&r=PG&f=1", "display_name": "J. Morcom", "link": "https://stackoverflow.com/users/10355284/j-morcom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 414, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1567639495, "creation_date": 1567639495, "question_id": 57796678, "link": "https://stackoverflow.com/questions/57796678/how-to-continue-execution-after-returning-in-net-core-api", "title": "How to continue execution after returning in .net core api", "body": "<p>I have a method that processes a large file for updates to a data source. This process can potentially take a long time to run depending on the size of the file and the complexity of the changes required.</p>\n\n<p>I would like to kick off the processing of the file and then return a status code of 200 to the caller letting them know that the file was successfully uploaded.</p>\n\n<p>The goal would then be to send the user who uploaded the file an email letting them know that the file has been processed, and it would include any information, such as individual rows that could not be processed because they failed data validation checks.</p>\n\n<p>I tried to simply not await the processing of the file</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[Route(\"[controller]/[action]\")]\n[ApiController]\npublic class ReorderController : ControllerBase\n{\n    [HttpPost]\n    public async Task&lt;IActionResult&gt; UpdateFromFile(IFormFile csv)\n    {\n        ParseCSVAsync(csv);\n        return Ok();\n    }\n\n    private async Task ParseCSVAsync(IFormFile file)\n    {\n        // file processing code\n    }\n}\n</code></pre>\n\n<p>But when the action returns the Ok status code, the resources get disposed of, and the execution stops before the processing is complete.</p>\n\n<p>Is there some .net core lifecycle I can hook into to be able to do this processing of the file outside of the HTTP request that starts it?</p>\n"}, {"tags": ["c#", "sorteddictionary"], "answers": [{"comments": [{"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1567639730, "post_id": 57796688, "comment_id": 102026356, "body": "but wouldn&#39;t that trigger a compare per element?"}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 1, "creation_date": 1567639930, "post_id": 57796688, "comment_id": 102026393, "body": "Yes, but unless your SortedDictionary is absolutely huge or used in a loop in a hotspot in your code, you won&#39;t notice the performance hit."}, {"owner": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "reply_to_user": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1567639972, "post_id": 57796688, "comment_id": 102026404, "body": "@Thomas You could use take and skip to pair down how many elements you iterate over if that&#39;s a known quantity, otherwise you&#39;re looking at for loops if performance is REALLY that important.  As Eric says though, it&#39;s not really that noticeable unless you&#39;re dealing with massive quantities of data."}, {"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1567640021, "post_id": 57796688, "comment_id": 102026413, "body": "it is large; it&#39;s financial data with dates and I need to get ranges as fast as possible in a context where speed matters."}, {"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1567640062, "post_id": 57796688, "comment_id": 102026417, "body": "I can skip the loop if I can identify the index of the from and to dates."}, {"owner": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "edited": false, "score": 0, "creation_date": 1567640205, "post_id": 57796688, "comment_id": 102026438, "body": "Sorting alone will chew up all the gains you would make trying to go that route.  You&#39;re better off doing raw for loops."}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 1, "creation_date": 1567640785, "post_id": 57796688, "comment_id": 102026536, "body": "I&#39;m with Eric. If you have this stuff in memory already you should just scan it. If it&#39;s really as big as you say, it should probably be in a database and indexed, not held as an in-memory data structure. If you really want it in memory and it takes too long to scan it, invest in better hardware, which will be cheaper than paying a programmer to microoptimize the code, and far less prone to having bugs."}, {"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1567641653, "post_id": 57796688, "comment_id": 102026690, "body": "The data is already in a db, the reason I need to cache it in memory is specifically for speed; so fast the fastest I have is an array of data, and a &lt;datetime, index&gt; dictionary, so I can do two dictionary lookups and then get 2 index. the data is static and already sorted by time when it arrives; but I&#39;m checking if there is a faster approach. It&#39;s on a dedicated server with 96gb ram; the dataset is roughly 7gb, but it&#39;s chunked on the db in blocks of about 200mb, so I need to cache blocks that are in use and allow fast search in them"}, {"owner": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "reply_to_user": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1567642385, "post_id": 57796688, "comment_id": 102026819, "body": "@Thomas This seems the sort of thing better handled by the SQL server as a stored procedure, not an EF LINQ query.  You want data parsing to happen as close to the source as possible if performance is that much of a premium."}, {"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 1, "creation_date": 1567642896, "post_id": 57796688, "comment_id": 102026913, "body": "even the most naive implementation with all data in ram will still beat a server roundtrip; At this stage, I&#39;m looking at the fastest way, without having to give up c#, regardless of the ram usage; eventually this will be duplicated because the processing is not fitting on a single machine and there is no time to send data to other computers; so this is an end of line optimization trying to avoid switching to C/C++"}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1567697486, "post_id": 57796688, "comment_id": 102049111, "body": "Yes, even a full array scan in memory beats network IO every time (except for extreme hand-crafted edge cases designed to prove me wrong :-)"}, {"owner": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "edited": false, "score": 0, "creation_date": 1567702870, "post_id": 57796688, "comment_id": 102051559, "body": "Right, so if the goal is to filter the data why use the network load to pull ALL the data locally and process on a smaller machine when you can use the server memory as a stored proc to process first then transmit?"}], "tags": [], "owner": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "is_accepted": false, "score": 0, "last_activity_date": 1567639633, "creation_date": 1567639633, "answer_id": 57796688, "question_id": 57796649, "link": "https://stackoverflow.com/questions/57796649/get-range-of-values-from-a-sorted-dictionary/57796688#57796688", "title": "get range of values from a sorted dictionary", "body": "<p>You could use LINQ to do this:</p>\n\n<pre><code>myDictionary.Where(d =&gt; d.Key &gt;= from &amp;&amp; d.Key &lt;= to).Select(d =&gt; d.Value).ToArray();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1567641106, "creation_date": 1567641106, "answer_id": 57796842, "question_id": 57796649, "link": "https://stackoverflow.com/questions/57796649/get-range-of-values-from-a-sorted-dictionary/57796842#57796842", "title": "get range of values from a sorted dictionary", "body": "<p>Given your need for high-performance, you might consider a data structure that allows a binary search for your min and max values. If <code>SortedDictionary</code> provided an indexer <code>Item[int]</code>, you could use that but, alas, it does not.</p>\n\n<p>You can consider something like</p>\n\n<pre><code>struct PriceAtTime\n{\n    public DateTime Timestamp { get; set; }\n    public float Price { get; set; } // Or whatever your float represents\n}\n\nList&lt;PriceAtTime&gt; myData = GetTheData(); // Assumes the provided data is ordered\n                                         // by timestamp.\n</code></pre>\n\n<p>To find the index that contains the first data point at or after your minimum timestamp:</p>\n\n<ul>\n<li>Check myData[myData.Count/2]</li>\n<li>Depending on the value of that element's timestamp, you either found it, or the middle element is newer than the minimum so check myData.Count/4, or it's higher so check 3*myData.Count/4. Repeat recursively until you find the right element.</li>\n<li>Similar approach to find the index of the last element that doesn't exceed your max value.</li>\n</ul>\n\n<p><code>SortedList&lt;T&gt;</code> sounds like a promising type, but in reality it behaves much like a sorted dictionary that allows for duplicate keys.</p>\n\n<p>Note that I assume the elements in the list are magically sorted. A self-sorting data structure can be fairly expensive in a real-time performance environment. If you can obtain the data already sorted from wherever it resides, you eliminate another performance concern.</p>\n"}], "owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 908, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1567641106, "creation_date": 1567639240, "last_edit_date": 1567640106, "question_id": 57796649, "link": "https://stackoverflow.com/questions/57796649/get-range-of-values-from-a-sorted-dictionary", "title": "get range of values from a sorted dictionary", "body": "<p>I have a sorted dictionary with DateTime as the key:</p>\n\n<pre><code>myDictionary = new SortedDictionary&lt;DateTime, float&gt;();\n</code></pre>\n\n<p>I would like to implement the following function:</p>\n\n<pre><code>data[] GetRange(DateTime From, DateTime To)\n</code></pre>\n\n<p>The fastest way would be to get find the first / last index in the values and then get the data from a range of values</p>\n\n<p>But to do this, I would need to find how I can get the index of 'From' and 'To'.</p>\n\n<p>Is there a way to do this? or, is there a faster method to achieve this?</p>\n\n<p>Right now I am looking at having an array for the values and having a  dictionary to look up in the data array.</p>\n"}, {"tags": ["c#", "multithreading", "entity-framework", "parallel-processing", "entity-framework-6"], "comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1567637622, "post_id": 57796444, "comment_id": 102025991, "body": "LGTM. The main reason we shouldn&#39;t use multiple threads with a <code>DbContext</code> is because ADO.NET does not allow concurrent active <code>DbCommand</code> execution (even in a single-threaded environment using <code>async</code>/<code>await</code>). That said, make sure you don&#39;t run too many threads beause the bottleneck here will be the database server."}], "answers": [{"comments": [{"owner": {"reputation": 228, "user_id": 2726757, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1617687982/picture?type=large", "display_name": "Casey Chester", "link": "https://stackoverflow.com/users/2726757/casey-chester"}, "edited": false, "score": 0, "creation_date": 1567638315, "post_id": 57796492, "comment_id": 102026109, "body": "Thanks for the answer Eric. Keeping in mind that, right now anyway, that we are talking about 100&#39;s of ids in that code above where most id&#39;s represent work that does not end up in any changes to the database and are short lived while a hand full can take minutes to complete and ultimately add 10&#39;s of new records to the DB. What MaxDegreesOfParallelism value would you recommend off the top of your head?"}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "reply_to_user": {"reputation": 228, "user_id": 2726757, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1617687982/picture?type=large", "display_name": "Casey Chester", "link": "https://stackoverflow.com/users/2726757/casey-chester"}, "edited": false, "score": 0, "creation_date": 1567638824, "post_id": 57796492, "comment_id": 102026204, "body": "My answer was a little long for a comment so updated above."}, {"owner": {"reputation": 228, "user_id": 2726757, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1617687982/picture?type=large", "display_name": "Casey Chester", "link": "https://stackoverflow.com/users/2726757/casey-chester"}, "edited": false, "score": 0, "creation_date": 1567639420, "post_id": 57796492, "comment_id": 102026306, "body": "Ahh - yes I should have included that detail. In this instance the task being performed is very much IO bound calling out to third party web API to collect required information for processing. Once all the data is collected, it is processed and may result in some new records needing to be added to the database. There are a few queries to collect some additional information during the processing phase, but all those are performing fine."}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "reply_to_user": {"reputation": 228, "user_id": 2726757, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1617687982/picture?type=large", "display_name": "Casey Chester", "link": "https://stackoverflow.com/users/2726757/casey-chester"}, "edited": false, "score": 0, "creation_date": 1567640066, "post_id": 57796492, "comment_id": 102026419, "body": "In that case, you can likely get away with rather high concurrency. Start without specifying any concurrency limit in Parallel.ForEach and see how it performs."}, {"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1567640476, "post_id": 57796492, "comment_id": 102026491, "body": "I am afraid in this case parallelism is not going to help."}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "reply_to_user": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1567641236, "post_id": 57796492, "comment_id": 102026615, "body": "@dropoutcoder Yes, it will. The parallelism allows multiple external web API calls to be made concurrently. Those are likely to be a huge component of overall performance."}, {"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1567641499, "post_id": 57796492, "comment_id": 102026665, "body": "@EricJ.: Those calls are synchronous. They are blocking threads that you cannot use for parallelism. Minimum gain there. (if I am not extremely wrong)"}, {"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1567641830, "post_id": 57796492, "comment_id": 102026731, "body": "@EricJ.: Another problem is that parallel execution is not guaranteed."}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "reply_to_user": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1567650607, "post_id": 57796492, "comment_id": 102028155, "body": "@dropoutcoder: Parallel runs the code specified by the lambda expression on one or more threads. You may be confusing asynchronous programming with multithreading. This isn&#39;t an async/await scenario. Yes, parallel execution is not guaranteed. Yes, the runtime may decide to execute on a single thread. In practice, it will do so when the current CPU load is fairly high AND the code it&#39;s executing is fairly CPU bound. Since the OP states the core method is heavy on internet IO, it should run a number of threads."}, {"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1567675426, "post_id": 57796492, "comment_id": 102036551, "body": "@EricJ.: I never said threads are blocking each other or waiting for each other. I am still saying thread is blocked.  by sync call to 3rd party API and/or database calls(<code>SaveChanges()</code>). I am not confusing async programming with multithreading. Also I think it is async/await scenario with heavy internet IO. It just needs to be done the right way."}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1567699993, "post_id": 57796492, "comment_id": 102050353, "body": "As far as the scenario is presented, it doesn&#39;t matter that the thread is blocked because you&#39;ll use a small number of threads compared to system capacity. If it turns out that a particular scenario does spawn a great number of threads, you can use async/await inside of the long-running process to interact with the various web APIs, and you can use SaveChangesAsync() in this code."}], "tags": [], "owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "is_accepted": true, "score": 1, "last_activity_date": 1567651829, "last_edit_date": 1567651829, "creation_date": 1567637792, "answer_id": 57796492, "question_id": 57796444, "link": "https://stackoverflow.com/questions/57796444/is-a-dbcontext-per-thread-in-parallel-foreach-safe/57796492#57796492", "title": "Is a DbContext per thread in Parallel.ForEach safe?", "body": "<p>Your pattern is thread-safe. However, at least for SQL Server, if your concurrency is too high, you'll find that your total throughput drops off as contention for database resources increases. </p>\n\n<p>In theory, Parallel.ForEach optimizes the number of threads, but in practice, I have found it allows too much concurrency in my applications.</p>\n\n<p>You can control concurrency with the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.paralleloptions?view=netframework-4.8\" rel=\"nofollow noreferrer\">ParallelOptions</a> optional parameter. Test your use case and see if the default concurrency works well for you.</p>\n\n<p>Your comment: <em>Keeping in mind that, right now anyway, that we are talking about 100's of ids in that code above where most id's represent work that does not end up in any changes to the database and are short lived while a hand full can take minutes to complete and ultimately add 10's of new records to the DB. What MaxDegreesOfParallelism value would you recommend off the top of your head?</em></p>\n\n<p>Probably 2-3 based on your general description, but it depends on how database intensive <code>ExecuteLongRunningProcessThatReadsDbAndCreatesSomeNewRecords</code> is (vs. performing CPU-bound activities or waiting for IO from files, web service calls, etc). With more than that, if that method is mostly performing DB tasks, you're likely to get locking contention or overwhelm your IO subsystem (disks). Test in your environment to be sure.</p>\n\n<p>It may be worth exploring why <code>ExecuteLongRunningProcessThatReadsDbAndCreatesSomeNewRecords</code> is taking so long to complete for a given Id.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Here's some test code to demonstrate that the threads do not block each other and indeed run concurrently. I removed the DbContext portion for simplicity and since it doesn't affect the threading issue.</p>\n\n<pre><code>class SomeTaskProcessor\n{\n    static Random rng = new Random();\n    public int Id { get; private set; }\n    public SomeTaskProcessor(int id) { Id = id; }\n    public void ExecuteLongRunningProcessThatReadsDbAndCreatesSomeNewRecords()\n    {\n        Console.WriteLine($\"Starting ID {Id}\");\n        System.Threading.Thread.Sleep(rng.Next(1000));\n        Console.WriteLine($\"Completing ID {Id}\");\n    }\n}\nclass Program\n{\n    static void Main(string[] args)\n    {\n        int[] ids = Enumerable.Range(1, 100).ToArray();\n\n        Parallel.ForEach(ids, id =&gt; {\n                var processor = new SomeTaskProcessor(id);\n                processor.ExecuteLongRunningProcessThatReadsDbAndCreatesSomeNewRecords();\n        });\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1567650855, "post_id": 57796955, "comment_id": 102028191, "body": "#1 - DbContext instances are lightweight and backed by a pool of DB connections. No real memory pressure (you&#39;ll only have probably one per CPU core alive at any time, and they are fairly cheap to allocate and dispose compared to web IO). #2 - Yes, but the level of concurrency can be limited as indicated in my answer. #3 - There are multiple threads. They don&#39;t block each other. You may be confusing this with async/await. #4 - True, but they will. See my comment above."}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1567651952, "post_id": 57796955, "comment_id": 102028370, "body": "Added sample code to my answer to demonstrate that the threads run concurrently."}, {"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "reply_to_user": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1567677068, "post_id": 57796955, "comment_id": 102037427, "body": "@EricJ.: I have added my solution to demonstrate it is async/await scenario and the performance gain is significant."}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1567703202, "post_id": 57796955, "comment_id": 102051700, "body": "As I said, async/await may be entirely appropriate in the long-running method body. The test as you have constructed it causes more concurrent threads to execute than Parallel opts to use. That&#39;s why it&#39;s faster (but if you connect to something other than localhost, the difference will be smaller). You ask the runtime to start one task per ID. Manually starting tasks may or may not be better than Parallel in the OPs actual case."}, {"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "reply_to_user": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1567703930, "post_id": 57796955, "comment_id": 102051987, "body": "@EricJ.: I am answering based on minimum context provided in OP. I only assume <code>ExecuteLongRunningProcessThatReadsDbAndCreatesSomeNewRecords&zwnj;&#8203;()</code> method is really long-running method. In the end it is up to Casey Chester to evaluate our answers and pick the best fit for his scenario. That&#39;s all."}], "tags": [], "owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1567677015, "last_edit_date": 1567677015, "creation_date": 1567642389, "answer_id": 57796955, "question_id": 57796444, "link": "https://stackoverflow.com/questions/57796444/is-a-dbcontext-per-thread-in-parallel-foreach-safe/57796955#57796955", "title": "Is a DbContext per thread in Parallel.ForEach safe?", "body": "<p><strong>Issue #1 - Memory Allocation</strong></p>\n\n<p>Every single iteration will create instance of <code>DbContext</code> which will lead to memory allocations. Garbage collector will need to deal with those allocations. If there will be constant memory pressure it will end up in performance degradation on application level.</p>\n\n<p><strong>Issue #2 - SQL overload</strong></p>\n\n<p>Based on written above during every single iteration you'll call <code>SaveChanges()</code> that will probably make a call to database. In case call to the database is/will be resource intensive you may end up with poorly performing database.</p>\n\n<p><strong>Issue #3 - Thread blocking</strong></p>\n\n<p><code>SaveChanges()</code> is synchronous and will block the thread. In situation call to database takes significant amount of time, thread will just sit and wait. Same for 3rd party API calls. There will be no or small performance gain.</p>\n\n<p><strong>Issue #4 - Parallel.For* methods are not guaranteed to run in parallel</strong> </p>\n\n<blockquote>\n  <p>It is important to keep in mind that individual iterations in a Parallel.For, Parallel.ForEach or ForAll loop may but do not have to execute in parallel.</p>\n</blockquote>\n\n<p>I think this is self explanatory.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/standard/parallel-programming/potential-pitfalls-with-plinq\" rel=\"nofollow noreferrer\">Potential Pitfalls with PLINQ</a></p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/standard/parallel-programming/understanding-speedup-in-plinq\" rel=\"nofollow noreferrer\">Understanding Speedup in PLINQ</a></p>\n\n<hr>\n\n<p>I am reading comments under the question and Eric J. answer I am afraid there is problem with approach to the problem and parallelism is not going to help.</p>\n\n<blockquote>\n  <p>Thanks for the answer Eric. Keeping in mind that, right now anyway, that we are talking about 100's of ids in that code above where most id's represent work that does not end up in any changes to the database and are short lived while a hand full can take minutes to complete and ultimately add 10's of new records to the DB. What MaxDegreesOfParallelism value would you recommend off the top of your head?</p>\n  \n  <p>Ahh - yes I should have included that detail. In this instance the task being performed is very much IO bound calling out to third party web API to collect required information for processing. Once all the data is collected, it is processed and may result in some new records needing to be added to the database. There are a few queries to collect some additional information during the processing phase, but all those are performing fine.</p>\n</blockquote>\n\n<p>If I am not completely wrong the problem are calls to 3rd party API synchronously, which blocks the thread.</p>\n\n<p>I think async approach might help here to gather data from 3rd party API.</p>\n\n<p>Also would help not allocating heap memory if not necessary. You can save changes at the end of execution with just one <code>DbContext</code> instance and just one database call.</p>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Eric J. added test to test threads are not blocking each other(which they don't) and to test concurrent execution. Code below is his original code provided in his answer.</p>\n\n<pre><code>class SomeTaskProcessor\n{\n    static Random rng = new Random();\n    public int Id { get; private set; }\n    public SomeTaskProcessor(int id) { Id = id; }\n    public void ExecuteLongRunningProcessThatReadsDbAndCreatesSomeNewRecords()\n    {\n        Console.WriteLine($\"Starting ID {Id}\");\n        System.Threading.Thread.Sleep(rng.Next(1000));\n        Console.WriteLine($\"Completing ID {Id}\");\n    }\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        int[] ids = Enumerable.Range(1, 100).ToArray();\n\n        Parallel.ForEach(ids, id =&gt; {\n                var processor = new SomeTaskProcessor(id);\n                processor.ExecuteLongRunningProcessThatReadsDbAndCreatesSomeNewRecords();\n        });\n    }\n}\n</code></pre>\n\n<p>I made similar test. I created server to simulate internet IO with delayed response of 1 second. Before each test run API server was started and first request made. Test were run in Release config.</p>\n\n<pre><code>[Route(\"api/[controller]\")]\n[ApiController]\npublic class ValuesController : ControllerBase {\n    // GET api/values\n    [HttpGet]\n    public async Task&lt;ActionResult&lt;IEnumerable&lt;string&gt;&gt;&gt; Get() {\n        await Task.Delay(1000);\n\n        return new string[] { \"value1\", \"value2\" };\n    }\n}\n</code></pre>\n\n<p>I have updated his code to call API endpoint. On my virtual machine it spun 5 thread and was executing on average 23 seconds.</p>\n\n<pre><code>class SomeTaskProcessor {\n    private HttpClient http = new HttpClient() {\n        BaseAddress = new Uri(\"http://localhost:49890/api/values\")\n    };\n\n    public int Id { get; private set; }\n    public SomeTaskProcessor(int id) { Id = id; }\n    public void ExecuteLongRunningProcessThatReadsDbAndCreatesSomeNewRecords() {\n        Console.WriteLine($\"Starting ID {Id}. Thread Id: {Thread.CurrentThread.ManagedThreadId}\");\n        var response = http.GetAsync(String.Empty).GetAwaiter().GetResult();\n        Console.WriteLine($\"Completing ID {Id}. Response status code is {response.StatusCode}. Thread Id: {Thread.CurrentThread.ManagedThreadId}\");\n    }\n}\n\nclass Program {\n    static void Main(string[] args) {\n        int[] ids = Enumerable.Range(1, 100).ToArray();;\n\n        var stopwatch = new Stopwatch();\n\n        stopwatch.Start();\n\n        Parallel.ForEach(ids, id =&gt; {\n            var processor = new SomeTaskProcessor(id);\n            processor.ExecuteLongRunningProcessThatReadsDbAndCreatesSomeNewRecords();\n        });\n\n        // ~23 seconds\n\n        stopwatch.Stop();\n\n        Console.WriteLine(stopwatch.Elapsed.ToString());\n    }\n}\n</code></pre>\n\n<p>Console output:</p>\n\n<pre><code>Starting ID 51. Thread Id: 4\nStarting ID 1. Thread Id: 1\nStarting ID 2. Thread Id: 5\nStarting ID 52. Thread Id: 9\nStarting ID 3. Thread Id: 12\nCompleting ID 51. Response status code is OK. Thread Id: 4\nStarting ID 53. Thread Id: 4\nCompleting ID 2. Response status code is OK. Thread Id: 5\nStarting ID 4. Thread Id: 5\nStarting ID 55. Thread Id: 14\nStarting ID 6. Thread Id: 15\nCompleting ID 52. Response status code is OK. Thread Id: 9\nStarting ID 56. Thread Id: 9\nCompleting ID 1. Response status code is OK. Thread Id: 1\nStarting ID 7. Thread Id: 1\nCompleting ID 3. Response status code is OK. Thread Id: 12\nStarting ID 9. Thread Id: 12\nStarting ID 58. Thread Id: 16\nCompleting ID 53. Response status code is OK. Thread Id: 4\nStarting ID 54. Thread Id: 4\nCompleting ID 4. Response status code is OK. Thread Id: 5\nStarting ID 5. Thread Id: 5\nStarting ID 11. Thread Id: 18\nCompleting ID 55. Response status code is OK. Thread Id: 14\nStarting ID 59. Thread Id: 14\nStarting ID 61. Thread Id: 20\nCompleting ID 56. Response status code is OK. Thread Id: 9\nStarting ID 57. Thread Id: 9\nCompleting ID 7. Response status code is OK. Thread Id: 1\nStarting ID 8. Thread Id: 1\nCompleting ID 9. Response status code is OK. Thread Id: 12\nStarting ID 10. Thread Id: 12\nCompleting ID 6. Response status code is OK. Thread Id: 15\nStarting ID 12. Thread Id: 15\nStarting ID 14. Thread Id: 22\nCompleting ID 5. Response status code is OK. Thread Id: 5\nStarting ID 15. Thread Id: 5\nCompleting ID 54. Response status code is OK. Thread Id: 4\nStarting ID 62. Thread Id: 4\nCompleting ID 58. Response status code is OK. Thread Id: 16\nStarting ID 66. Thread Id: 16\nStarting ID 68. Thread Id: 23\nCompleting ID 11. Response status code is OK. Thread Id: 18\nStarting ID 19. Thread Id: 18\nCompleting ID 59. Response status code is OK. Thread Id: 14\nStarting ID 60. Thread Id: 14\nStarting ID 21. Thread Id: 24\nCompleting ID 57. Response status code is OK. Thread Id: 9\nStarting ID 69. Thread Id: 9\nCompleting ID 12. Response status code is OK. Thread Id: 15\nStarting ID 13. Thread Id: 15\nCompleting ID 61. Response status code is OK. Thread Id: 20\nStarting ID 73. Thread Id: 20\nCompleting ID 10. Response status code is OK. Thread Id: 12\nCompleting ID 8. Response status code is OK. Thread Id: 1\nStarting ID 22. Thread Id: 12\nStarting ID 26. Thread Id: 1\nStarting ID 75. Thread Id: 25\nCompleting ID 15. Response status code is OK. Thread Id: 5\nStarting ID 16. Thread Id: 5\nCompleting ID 62. Response status code is OK. Thread Id: 4\nStarting ID 63. Thread Id: 4\nCompleting ID 66. Response status code is OK. Thread Id: 16\nStarting ID 67. Thread Id: 16\nCompleting ID 14. Response status code is OK. Thread Id: 22\nStarting ID 30. Thread Id: 22\nStarting ID 32. Thread Id: 26\nStarting ID 76. Thread Id: 27\nCompleting ID 60. Response status code is OK. Thread Id: 14\nStarting ID 77. Thread Id: 14\nCompleting ID 19. Response status code is OK. Thread Id: 18\nStarting ID 20. Thread Id: 18\nCompleting ID 69. Response status code is OK. Thread Id: 9\nStarting ID 70. Thread Id: 9\nCompleting ID 21. Response status code is OK. Thread Id: 24\nStarting ID 33. Thread Id: 24\nCompleting ID 13. Response status code is OK. Thread Id: 15\nStarting ID 35. Thread Id: 15\nCompleting ID 73. Response status code is OK. Thread Id: 20\nStarting ID 74. Thread Id: 20\nCompleting ID 22. Response status code is OK. Thread Id: 12\nStarting ID 23. Thread Id: 12\nCompleting ID 26. Response status code is OK. Thread Id: 1\nStarting ID 27. Thread Id: 1\nCompleting ID 68. Response status code is OK. Thread Id: 23\nStarting ID 81. Thread Id: 23\nStarting ID 39. Thread Id: 29\nCompleting ID 67. Response status code is OK. Thread Id: 16\nStarting ID 83. Thread Id: 16\nCompleting ID 75. Response status code is OK. Thread Id: 25\nCompleting ID 30. Response status code is OK. Thread Id: 22\nStarting ID 31. Thread Id: 22\nCompleting ID 16. Response status code is OK. Thread Id: 5\nStarting ID 87. Thread Id: 25\nStarting ID 17. Thread Id: 5\nCompleting ID 63. Response status code is OK. Thread Id: 4\nStarting ID 64. Thread Id: 4\nStarting ID 89. Thread Id: 30\nCompleting ID 76. Response status code is OK. Thread Id: 27\nStarting ID 90. Thread Id: 27\nCompleting ID 32. Response status code is OK. Thread Id: 26\nStarting ID 40. Thread Id: 26\nCompleting ID 77. Response status code is OK. Thread Id: 14\nStarting ID 78. Thread Id: 14\nStarting ID 42. Thread Id: 31\nCompleting ID 70. Response status code is OK. Thread Id: 9\nStarting ID 71. Thread Id: 9\nCompleting ID 27. Response status code is OK. Thread Id: 1\nStarting ID 28. Thread Id: 1\nCompleting ID 74. Response status code is OK. Thread Id: 20\nStarting ID 92. Thread Id: 20\nCompleting ID 35. Response status code is OK. Thread Id: 15\nStarting ID 36. Thread Id: 15\nCompleting ID 81. Response status code is OK. Thread Id: 23\nStarting ID 82. Thread Id: 23\nCompleting ID 33. Response status code is OK. Thread Id: 24\nStarting ID 34. Thread Id: 24\nCompleting ID 20. Response status code is OK. Thread Id: 18\nStarting ID 43. Thread Id: 18\nCompleting ID 23. Response status code is OK. Thread Id: 12\nStarting ID 24. Thread Id: 12\nStarting ID 96. Thread Id: 32\nCompleting ID 39. Response status code is OK. Thread Id: 29\nCompleting ID 17. Response status code is OK. Thread Id: 5\nStarting ID 18. Thread Id: 5\nStarting ID 47. Thread Id: 29\nCompleting ID 64. Response status code is OK. Thread Id: 4\nStarting ID 65. Thread Id: 4\nCompleting ID 87. Response status code is OK. Thread Id: 25\nStarting ID 88. Thread Id: 25\nCompleting ID 31. Response status code is OK. Thread Id: 22\nCompleting ID 83. Response status code is OK. Thread Id: 16\nStarting ID 84. Thread Id: 16\nStarting ID 49. Thread Id: 22\nStarting ID 97. Thread Id: 33\nCompleting ID 90. Response status code is OK. Thread Id: 27\nStarting ID 91. Thread Id: 27\nCompleting ID 40. Response status code is OK. Thread Id: 26\nStarting ID 41. Thread Id: 26\nCompleting ID 89. Response status code is OK. Thread Id: 30\nStarting ID 98. Thread Id: 30\nCompleting ID 78. Response status code is OK. Thread Id: 14\nStarting ID 79. Thread Id: 14\nStarting ID 100. Thread Id: 34\nCompleting ID 36. Response status code is OK. Thread Id: 15\nStarting ID 37. Thread Id: 15\nCompleting ID 92. Response status code is OK. Thread Id: 20\nStarting ID 93. Thread Id: 20\nCompleting ID 42. Response status code is OK. Thread Id: 31\nCompleting ID 28. Response status code is OK. Thread Id: 1\nStarting ID 29. Thread Id: 1\nCompleting ID 24. Response status code is OK. Thread Id: 12\nStarting ID 25. Thread Id: 12\nCompleting ID 82. Response status code is OK. Thread Id: 23\nCompleting ID 71. Response status code is OK. Thread Id: 9\nStarting ID 72. Thread Id: 9\nCompleting ID 43. Response status code is OK. Thread Id: 18\nStarting ID 44. Thread Id: 18\nCompleting ID 96. Response status code is OK. Thread Id: 32\nCompleting ID 65. Response status code is OK. Thread Id: 4\nCompleting ID 88. Response status code is OK. Thread Id: 25\nCompleting ID 49. Response status code is OK. Thread Id: 22\nStarting ID 50. Thread Id: 22\nCompleting ID 47. Response status code is OK. Thread Id: 29\nStarting ID 48. Thread Id: 29\nCompleting ID 18. Response status code is OK. Thread Id: 5\nCompleting ID 34. Response status code is OK. Thread Id: 24\nCompleting ID 84. Response status code is OK. Thread Id: 16\nStarting ID 85. Thread Id: 16\nCompleting ID 97. Response status code is OK. Thread Id: 33\nCompleting ID 41. Response status code is OK. Thread Id: 26\nCompleting ID 79. Response status code is OK. Thread Id: 14\nStarting ID 80. Thread Id: 14\nCompleting ID 100. Response status code is OK. Thread Id: 34\nCompleting ID 93. Response status code is OK. Thread Id: 20\nStarting ID 94. Thread Id: 20\nCompleting ID 29. Response status code is OK. Thread Id: 1\nCompleting ID 98. Response status code is OK. Thread Id: 30\nStarting ID 99. Thread Id: 30\nCompleting ID 44. Response status code is OK. Thread Id: 18\nStarting ID 45. Thread Id: 18\nCompleting ID 25. Response status code is OK. Thread Id: 12\nCompleting ID 37. Response status code is OK. Thread Id: 15\nStarting ID 38. Thread Id: 15\nCompleting ID 72. Response status code is OK. Thread Id: 9\nCompleting ID 91. Response status code is OK. Thread Id: 27\nCompleting ID 50. Response status code is OK. Thread Id: 22\nCompleting ID 48. Response status code is OK. Thread Id: 29\nCompleting ID 85. Response status code is OK. Thread Id: 16\nStarting ID 86. Thread Id: 16\nCompleting ID 80. Response status code is OK. Thread Id: 14\nCompleting ID 94. Response status code is OK. Thread Id: 20\nStarting ID 95. Thread Id: 20\nCompleting ID 99. Response status code is OK. Thread Id: 30\nCompleting ID 45. Response status code is OK. Thread Id: 18\nStarting ID 46. Thread Id: 18\nCompleting ID 38. Response status code is OK. Thread Id: 15\nCompleting ID 86. Response status code is OK. Thread Id: 16\nCompleting ID 95. Response status code is OK. Thread Id: 20\nCompleting ID 46. Response status code is OK. Thread Id: 18\n00:00:23.6046580\n\nC:\\Program Files\\dotnet\\dotnet.exe (process 7208) exited with code 0.\nTo automatically close the console when debugging stops, enable Tools-&gt;Options-&gt;Debugging-&gt;Automatically close the console when debugging stops.\nPress any key to close this window . . .\n</code></pre>\n\n<p>Then I created async version of the same code. Execition took on average 7 seconds.</p>\n\n<pre><code>class SomeTaskProcessor {\n    private HttpClient http = new HttpClient() {\n        BaseAddress = new Uri(\"http://localhost:49890/api/values\")\n    };\n\n    public int Id { get; private set; }\n    public SomeTaskProcessor(int id) { Id = id; }\n    public async Task ExecuteLongRunningProcessThatReadsDbAndCreatesSomeNewRecords() {\n        Console.WriteLine($\"Starting ID {Id}\");\n        var response = await http.GetAsync(String.Empty);\n        Console.WriteLine($\"Completing ID {Id}. Response status code is {response.StatusCode}\");\n    }\n}\n\nclass Program {\n    static async Task Main(string[] args) {\n        int[] ids = Enumerable.Range(1, 100).ToArray();;\n\n        var stopwatch = new Stopwatch();\n\n        stopwatch.Start();\n\n        var tasks = ids.Select(id =&gt; {\n            var processor = new SomeTaskProcessor(id);\n            return processor.ExecuteLongRunningProcessThatReadsDbAndCreatesSomeNewRecords();\n        }).ToArray();\n\n        await Task.WhenAll(tasks);\n\n        // ~8 seconds\n\n        stopwatch.Stop();\n\n        Console.WriteLine(stopwatch.Elapsed.ToString());\n    }\n}\n</code></pre>\n\n<p>Console output:</p>\n\n<pre><code>Starting ID 1. Thread Id: 1\nStarting ID 2. Thread Id: 1\nStarting ID 3. Thread Id: 1\nStarting ID 4. Thread Id: 1\nStarting ID 5. Thread Id: 1\nStarting ID 6. Thread Id: 1\nStarting ID 7. Thread Id: 1\nStarting ID 8. Thread Id: 1\nStarting ID 9. Thread Id: 1\nStarting ID 10. Thread Id: 1\nStarting ID 11. Thread Id: 1\nStarting ID 12. Thread Id: 1\nStarting ID 13. Thread Id: 1\nStarting ID 14. Thread Id: 1\nStarting ID 15. Thread Id: 1\nStarting ID 16. Thread Id: 1\nStarting ID 17. Thread Id: 1\nStarting ID 18. Thread Id: 1\nStarting ID 19. Thread Id: 1\nStarting ID 20. Thread Id: 1\nStarting ID 21. Thread Id: 1\nStarting ID 22. Thread Id: 1\nStarting ID 23. Thread Id: 1\nStarting ID 24. Thread Id: 1\nStarting ID 25. Thread Id: 1\nStarting ID 26. Thread Id: 1\nStarting ID 27. Thread Id: 1\nStarting ID 28. Thread Id: 1\nStarting ID 29. Thread Id: 1\nStarting ID 30. Thread Id: 1\nStarting ID 31. Thread Id: 1\nStarting ID 32. Thread Id: 1\nStarting ID 33. Thread Id: 1\nStarting ID 34. Thread Id: 1\nStarting ID 35. Thread Id: 1\nStarting ID 36. Thread Id: 1\nStarting ID 37. Thread Id: 1\nStarting ID 38. Thread Id: 1\nStarting ID 39. Thread Id: 1\nStarting ID 40. Thread Id: 1\nStarting ID 41. Thread Id: 1\nStarting ID 42. Thread Id: 1\nStarting ID 43. Thread Id: 1\nStarting ID 44. Thread Id: 1\nStarting ID 45. Thread Id: 1\nStarting ID 46. Thread Id: 1\nStarting ID 47. Thread Id: 1\nStarting ID 48. Thread Id: 1\nStarting ID 49. Thread Id: 1\nStarting ID 50. Thread Id: 1\nStarting ID 51. Thread Id: 1\nStarting ID 52. Thread Id: 1\nStarting ID 53. Thread Id: 1\nStarting ID 54. Thread Id: 1\nStarting ID 55. Thread Id: 1\nStarting ID 56. Thread Id: 1\nStarting ID 57. Thread Id: 1\nStarting ID 58. Thread Id: 1\nStarting ID 59. Thread Id: 1\nStarting ID 60. Thread Id: 1\nStarting ID 61. Thread Id: 1\nStarting ID 62. Thread Id: 1\nStarting ID 63. Thread Id: 1\nStarting ID 64. Thread Id: 1\nStarting ID 65. Thread Id: 1\nStarting ID 66. Thread Id: 1\nStarting ID 67. Thread Id: 1\nStarting ID 68. Thread Id: 1\nStarting ID 69. Thread Id: 1\nStarting ID 70. Thread Id: 1\nStarting ID 71. Thread Id: 1\nStarting ID 72. Thread Id: 1\nStarting ID 73. Thread Id: 1\nStarting ID 74. Thread Id: 1\nStarting ID 75. Thread Id: 1\nStarting ID 76. Thread Id: 1\nStarting ID 77. Thread Id: 1\nStarting ID 78. Thread Id: 1\nStarting ID 79. Thread Id: 1\nStarting ID 80. Thread Id: 1\nStarting ID 81. Thread Id: 1\nStarting ID 82. Thread Id: 1\nStarting ID 83. Thread Id: 1\nStarting ID 84. Thread Id: 1\nStarting ID 85. Thread Id: 1\nStarting ID 86. Thread Id: 1\nStarting ID 87. Thread Id: 1\nStarting ID 88. Thread Id: 1\nStarting ID 89. Thread Id: 1\nStarting ID 90. Thread Id: 1\nStarting ID 91. Thread Id: 1\nStarting ID 92. Thread Id: 1\nStarting ID 93. Thread Id: 1\nStarting ID 94. Thread Id: 1\nStarting ID 95. Thread Id: 1\nStarting ID 96. Thread Id: 1\nStarting ID 97. Thread Id: 1\nStarting ID 98. Thread Id: 1\nStarting ID 99. Thread Id: 1\nStarting ID 100. Thread Id: 1\nCompleting ID 3. Response status code is OK. Thread Id: 14\nCompleting ID 10. Response status code is OK. Thread Id: 8\nCompleting ID 8. Response status code is OK. Thread Id: 9\nCompleting ID 7. Response status code is OK. Thread Id: 15\nCompleting ID 11. Response status code is OK. Thread Id: 14\nCompleting ID 4. Response status code is OK. Thread Id: 8\nCompleting ID 9. Response status code is OK. Thread Id: 9\nCompleting ID 12. Response status code is OK. Thread Id: 8\nCompleting ID 13. Response status code is OK. Thread Id: 8\nCompleting ID 6. Response status code is OK. Thread Id: 8\nCompleting ID 17. Response status code is OK. Thread Id: 8\nCompleting ID 18. Response status code is OK. Thread Id: 8\nCompleting ID 21. Response status code is OK. Thread Id: 8\nCompleting ID 24. Response status code is OK. Thread Id: 8\nCompleting ID 20. Response status code is OK. Thread Id: 8\nCompleting ID 30. Response status code is OK. Thread Id: 8\nCompleting ID 22. Response status code is OK. Thread Id: 8\nCompleting ID 34. Response status code is OK. Thread Id: 8\nCompleting ID 32. Response status code is OK. Thread Id: 9\nCompleting ID 33. Response status code is OK. Thread Id: 9\nCompleting ID 39. Response status code is OK. Thread Id: 9\nCompleting ID 35. Response status code is OK. Thread Id: 8\nCompleting ID 2. Response status code is OK. Thread Id: 9\nCompleting ID 44. Response status code is OK. Thread Id: 9\nCompleting ID 23. Response status code is OK. Thread Id: 8\nCompleting ID 31. Response status code is OK. Thread Id: 14\nCompleting ID 38. Response status code is OK. Thread Id: 14\nCompleting ID 43. Response status code is OK. Thread Id: 8\nCompleting ID 50. Response status code is OK. Thread Id: 9\nCompleting ID 1. Response status code is OK. Thread Id: 15\nCompleting ID 48. Response status code is OK. Thread Id: 14\nCompleting ID 27. Response status code is OK. Thread Id: 8\nCompleting ID 49. Response status code is OK. Thread Id: 9\nCompleting ID 28. Response status code is OK. Thread Id: 15\nCompleting ID 14. Response status code is OK. Thread Id: 14\nCompleting ID 29. Response status code is OK. Thread Id: 8\nCompleting ID 26. Response status code is OK. Thread Id: 14\nCompleting ID 15. Response status code is OK. Thread Id: 9\nCompleting ID 19. Response status code is OK. Thread Id: 8\nCompleting ID 25. Response status code is OK. Thread Id: 15\nCompleting ID 5. Response status code is OK. Thread Id: 14\nCompleting ID 40. Response status code is OK. Thread Id: 9\nCompleting ID 60. Response status code is OK. Thread Id: 8\nCompleting ID 37. Response status code is OK. Thread Id: 15\nCompleting ID 41. Response status code is OK. Thread Id: 14\nCompleting ID 16. Response status code is OK. Thread Id: 9\nCompleting ID 63. Response status code is OK. Thread Id: 14\nCompleting ID 36. Response status code is OK. Thread Id: 14\nCompleting ID 42. Response status code is OK. Thread Id: 9\nCompleting ID 45. Response status code is OK. Thread Id: 14\nCompleting ID 64. Response status code is OK. Thread Id: 14\nCompleting ID 53. Response status code is OK. Thread Id: 9\nCompleting ID 61. Response status code is OK. Thread Id: 15\nCompleting ID 52. Response status code is OK. Thread Id: 14\nCompleting ID 67. Response status code is OK. Thread Id: 14\nCompleting ID 74. Response status code is OK. Thread Id: 14\nCompleting ID 75. Response status code is OK. Thread Id: 14\nCompleting ID 62. Response status code is OK. Thread Id: 15\nCompleting ID 78. Response status code is OK. Thread Id: 8\nCompleting ID 66. Response status code is OK. Thread Id: 15\nCompleting ID 55. Response status code is OK. Thread Id: 14\nCompleting ID 83. Response status code is OK. Thread Id: 15\nCompleting ID 59. Response status code is OK. Thread Id: 14\nCompleting ID 68. Response status code is OK. Thread Id: 8\nCompleting ID 85. Response status code is OK. Thread Id: 15\nCompleting ID 47. Response status code is OK. Thread Id: 9\nCompleting ID 72. Response status code is OK. Thread Id: 14\nCompleting ID 65. Response status code is OK. Thread Id: 8\nCompleting ID 84. Response status code is OK. Thread Id: 8\nCompleting ID 70. Response status code is OK. Thread Id: 14\nCompleting ID 87. Response status code is OK. Thread Id: 14\nCompleting ID 56. Response status code is OK. Thread Id: 8\nCompleting ID 90. Response status code is OK. Thread Id: 15\nCompleting ID 76. Response status code is OK. Thread Id: 9\nCompleting ID 73. Response status code is OK. Thread Id: 14\nCompleting ID 69. Response status code is OK. Thread Id: 8\nCompleting ID 86. Response status code is OK. Thread Id: 15\nCompleting ID 81. Response status code is OK. Thread Id: 9\nCompleting ID 91. Response status code is OK. Thread Id: 15\nCompleting ID 77. Response status code is OK. Thread Id: 9\nCompleting ID 57. Response status code is OK. Thread Id: 15\nCompleting ID 98. Response status code is OK. Thread Id: 9\nCompleting ID 100. Response status code is OK. Thread Id: 15\nCompleting ID 79. Response status code is OK. Thread Id: 9\nCompleting ID 58. Response status code is OK. Thread Id: 15\nCompleting ID 80. Response status code is OK. Thread Id: 8\nCompleting ID 82. Response status code is OK. Thread Id: 14\nCompleting ID 89. Response status code is OK. Thread Id: 9\nCompleting ID 88. Response status code is OK. Thread Id: 15\nCompleting ID 97. Response status code is OK. Thread Id: 8\nCompleting ID 51. Response status code is OK. Thread Id: 14\nCompleting ID 94. Response status code is OK. Thread Id: 9\nCompleting ID 93. Response status code is OK. Thread Id: 15\nCompleting ID 71. Response status code is OK. Thread Id: 8\nCompleting ID 46. Response status code is OK. Thread Id: 14\nCompleting ID 54. Response status code is OK. Thread Id: 9\nCompleting ID 95. Response status code is OK. Thread Id: 15\nCompleting ID 92. Response status code is OK. Thread Id: 8\nCompleting ID 99. Response status code is OK. Thread Id: 14\nCompleting ID 96. Response status code is OK. Thread Id: 9\n00:00:06.7737961\n\nC:\\Program Files\\dotnet\\dotnet.exe (process 296) exited with code 0.\nTo automatically close the console when debugging stops, enable Tools-&gt;Options-&gt;Debugging-&gt;Automatically close the console when debugging stops.\nPress any key to close this window . . .\n</code></pre>\n\n<p>I believe 23 seconds vs 7 seconds are enough of proof to say it is async/await scenario. </p>\n"}], "owner": {"reputation": 228, "user_id": 2726757, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1617687982/picture?type=large", "display_name": "Casey Chester", "link": "https://stackoverflow.com/users/2726757/casey-chester"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 551, "favorite_count": 1, "accepted_answer_id": 57796492, "answer_count": 2, "score": 2, "last_activity_date": 1567677015, "creation_date": 1567637365, "question_id": 57796444, "link": "https://stackoverflow.com/questions/57796444/is-a-dbcontext-per-thread-in-parallel-foreach-safe", "title": "Is a DbContext per thread in Parallel.ForEach safe?", "body": "<p>I am working a contract right now to increase the performance of a back end services for a modern SaaS SPA web app that is using EF 6 as their ORM. The first thing I proposed was to introduce some multi-threading to their  back end service which is currently running single threaded. The lead software engineer has indicated we cannot do that because EF 6 is not thread-safe. </p>\n\n<p>I am no expert on Entity Framework. My ORM of choice is XPO by DevExpress and I have done something similar to what is proposed below without issue using that ORM. Is this pattern inherently not safe using EF 6?</p>\n\n<pre><code>int[] ids;\nusing(var db = new ApplicationDbContext())\n{\n    // query to surface id's of records representing work to be done\n    ids = GetIdsOfRecordsRepresentingSomeTask(db);\n}\n\nParallel.ForEach(ids, id =&gt; { \n    using(var db = new ApplicationDbContext())\n    {\n        var processor = new SomeTaskProcessor(db, id);\n        processor.ExecuteLongRunningProcessThatReadsDbAndCreatesSomeNewRecords();\n        db.SaveChanges();\n    }\n});\n</code></pre>\n\n<p>I have researched this, and I agree that DbContext is not thread-safe. The pattern I propose does use multiple threads, but a single DbContext is only every accessed by a single thread in a single-threaded fashion. The lead is telling me that DbContext is essentially a singleton under the covers and this code would ultimately mess up the database. I can't find anything to support this claim. Is the lead right on this?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1567637148, "post_id": 57796421, "comment_id": 102025896, "body": "That isn&#39;t what the error message says. Please share the <b>exact</b> error message."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1567637189, "post_id": 57796421, "comment_id": 102025904, "body": "<code>for (int i = 0; i &lt;= 9; i++)</code> Talk me through what you think will happen when you access the 3rd item in a list containing only 1 entry. Also have a read of <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.list-1.count?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a> ."}, {"owner": {"reputation": 39, "user_id": 6302483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433e03acd98dabeaf5b6a5cf9e89813f?s=128&d=identicon&r=PG&f=1", "display_name": "L. John", "link": "https://stackoverflow.com/users/6302483/l-john"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1567700805, "post_id": 57796421, "comment_id": 102050712, "body": "Sorry for not putting in the error message, however I got a NullReferenceException and found the source of the problem by looking at the error message. I&#39;m not sure how I can copy the error message but it said: Object reference not set to an instance of an object but since it&#39;s static I would&#39;ve thought I didn&#39;t have to instantiate it or am I missing something here? Also can the other person see the comment I had made even-though it is marked as a duplicate as I still have a question. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 6302483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433e03acd98dabeaf5b6a5cf9e89813f?s=128&d=identicon&r=PG&f=1", "display_name": "L. John", "link": "https://stackoverflow.com/users/6302483/l-john"}, "edited": false, "score": 0, "creation_date": 1567700562, "post_id": 57796887, "comment_id": 102050607, "body": "Thanks for the help, however it seems like on top of this code, I needed to set the object&#39;s reference to an instance of the object but I thought this wouldn&#39;t be required since it is static?"}, {"owner": {"reputation": 571, "user_id": 4078857, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wL1to.jpg?s=128&g=1", "display_name": "Rashid Ali", "link": "https://stackoverflow.com/users/4078857/rashid-ali"}, "reply_to_user": {"reputation": 39, "user_id": 6302483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433e03acd98dabeaf5b6a5cf9e89813f?s=128&d=identicon&r=PG&f=1", "display_name": "L. John", "link": "https://stackoverflow.com/users/6302483/l-john"}, "edited": false, "score": 0, "creation_date": 1567704589, "post_id": 57796887, "comment_id": 102052266, "body": "static class cannot be instantiated but this thing doesn&#39;t apply for a static field!"}], "tags": [], "owner": {"reputation": 571, "user_id": 4078857, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wL1to.jpg?s=128&g=1", "display_name": "Rashid Ali", "link": "https://stackoverflow.com/users/4078857/rashid-ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1567641664, "creation_date": 1567641664, "answer_id": 57796887, "question_id": 57796421, "link": "https://stackoverflow.com/questions/57796421/trying-to-utilise-a-field-in-multiple-methods-and-a-runtime-error-occurs-after-i/57796887#57796887", "title": "Trying to utilise a field in multiple methods and a runtime error occurs after it seems like my field isn&#39;t being used", "body": "<p>Looks like in <em>CheckUserInput</em> method you iterating the list <em>AlreadyUsed</em> till index 9 but your code shows that the list <em>AlreadyUsed</em> would not have that many items to iterate and an Index out of range exception would occur.</p>\n\n<p>In that <em>for loop</em> all you trying to check if <em>AlreadyUsed</em> contains strings \"X\" or \"O\", no need for the <em>for loop</em> you could do that with Contains method, replace your <em>for loop</em> in <em>CheckUserInput</em> method with this code:</p>\n\n<pre><code>if (AlreadyUsed.Contains(\"X\") || AlreadyUsed.Contains(\"O\"))\n{\n  Console.WriteLine(\"You have already entered a value in this slot. Skipping your turn.\");\n  error = true;\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 6302483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433e03acd98dabeaf5b6a5cf9e89813f?s=128&d=identicon&r=PG&f=1", "display_name": "L. John", "link": "https://stackoverflow.com/users/6302483/l-john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "closed_date": 1567643345, "answer_count": 1, "score": 0, "last_activity_date": 1567641664, "creation_date": 1567637050, "question_id": 57796421, "link": "https://stackoverflow.com/questions/57796421/trying-to-utilise-a-field-in-multiple-methods-and-a-runtime-error-occurs-after-i", "closed_reason": "Duplicate", "title": "Trying to utilise a field in multiple methods and a runtime error occurs after it seems like my field isn&#39;t being used", "body": "<p>I can't seem to get my field / list working. I want to add to the list and use the list in <code>CheckUserInput</code> and <code>PlayerMove</code> methods. It says it's not being used but I am using it in those methods without any errors.</p>\n\n<p>I tried to play around with it for a bit and all the methods are static methods so I had to make a static field. </p>\n\n<pre><code>private static List&lt;string&gt; AlreadyUsed = new List&lt;string&gt;();\n\nprivate static void CheckUserInput(ref int player, ref string answer, ref bool error)\n    {\n        AlreadyUsed.Add(\"\");\n\n        if(int.Parse(answer) &gt; 9)\n        {\n            Console.WriteLine(\"You have entered a value outside the array. Skipping your turn.\");\n            error = true;\n        }\n        else\n        {\n            for (int i = 0; i &lt;= 9; i++)\n            {\n                if (AlreadyUsed[i] == \"X\" || AlreadyUsed[i] == \"O\")\n                {\n                    Console.WriteLine(\"You have already entered a value in this slot. Skipping your turn.\");\n                    error = true;\n                }\n            }\n        }\n    }\n\n\nprivate static void PlayerMove(ref string answer, string[] arr, ref int player) //make whole new class for this method?\n    {\n        for (int i = 0; i &lt;= 8; i++) //make player move\n        {\n            if (answer == arr[i])\n            {\n                if (player == 1)\n                {\n                    arr[i] = \"X\";\n                    AlreadyUsed.Add(answer);\n                }\n                else\n                {\n                    arr[i] = \"O\";\n                    AlreadyUsed.Add(answer);\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>I used <code>CheckUserInput</code> before <code>PlayerMove</code> hence adding the extra value in the list. I was met with a runtime error.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["c#", "google-sheets-api", "credentials"], "owner": {"reputation": 139, "user_id": 11888809, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-t-Rp3KM4pXc/AAAAAAAAAAI/AAAAAAAAAA4/ENQ8hLN8Ls4/photo.jpg?sz=128", "display_name": "SWIK", "link": "https://stackoverflow.com/users/11888809/swik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1586698862, "creation_date": 1567636380, "last_edit_date": 1586698862, "question_id": 57796352, "link": "https://stackoverflow.com/questions/57796352/how-to-hide-google-sheet-token-in-c-application", "title": "How to hide google sheet token in c# application?", "body": "<p>Im working with google sheet API with C# WinForms app using VS2017. The code is working fine. But at this point of code:</p>\n\n<pre><code>credential = GoogleWebAuthorizationBroker.AuthorizeAsync(\n                    GoogleClientSecrets.Load(stream).Secrets,\n                    Scopes,\n                    \"user\",\n                    CancellationToken.None,\n                    new FileDataStore(credPath, true)).Result;\n</code></pre>\n\n<p>It asks for credentials, chrome pops up, ask for user authentication and now token.json file is created for the first time. I want to take token.json file and embedded in my .exe file as Embedded resource. So that it no longer visible to clients. Let me know what code changes need to be made.</p>\n"}, {"tags": ["c#", "entity-framework-core", "asp.net-core-2.1"], "comments": [{"owner": {"reputation": 263, "user_id": 5715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3abd3a9b2ecfc7207b2317f34150c2b?s=128&d=identicon&r=PG", "display_name": "Shane Bauer", "link": "https://stackoverflow.com/users/5715/shane-bauer"}, "edited": false, "score": 0, "creation_date": 1567636257, "post_id": 57796301, "comment_id": 102025714, "body": "EFData doesn&#39;t need a startup file. If you place that AddDbContext call into your startup file within API, what value is coming back with that GetConnectionString call? Does your appsettings file have a connectionstring with that name?"}, {"owner": {"reputation": 987, "user_id": 646536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/51e2ead3323e37a078a24beb4c9e2a3c?s=128&d=identicon&r=PG", "display_name": "duckmike", "link": "https://stackoverflow.com/users/646536/duckmike"}, "reply_to_user": {"reputation": 263, "user_id": 5715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3abd3a9b2ecfc7207b2317f34150c2b?s=128&d=identicon&r=PG", "display_name": "Shane Bauer", "link": "https://stackoverflow.com/users/5715/shane-bauer"}, "edited": false, "score": 0, "creation_date": 1567636714, "post_id": 57796301, "comment_id": 102025803, "body": "The connection string returned is the one I&#39;d expect based on my environment. Yes, the appsettings that corresponds to that environment has a connection with that name. @ShaneBauer"}, {"owner": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "edited": false, "score": 0, "creation_date": 1567638325, "post_id": 57796301, "comment_id": 102026112, "body": "Without seeing how you intended to use the DBContext class, this is going to be hard to answer. How does your code use that context in the API project?"}, {"owner": {"reputation": 987, "user_id": 646536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/51e2ead3323e37a078a24beb4c9e2a3c?s=128&d=identicon&r=PG", "display_name": "duckmike", "link": "https://stackoverflow.com/users/646536/duckmike"}, "edited": false, "score": 0, "creation_date": 1567640350, "post_id": 57796301, "comment_id": 102026467, "body": "All of my database interaction is within that class library which I wanted to keep seperate from the API code"}], "answers": [{"comments": [{"owner": {"reputation": 987, "user_id": 646536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/51e2ead3323e37a078a24beb4c9e2a3c?s=128&d=identicon&r=PG", "display_name": "duckmike", "link": "https://stackoverflow.com/users/646536/duckmike"}, "edited": false, "score": 1, "creation_date": 1567636885, "post_id": 57796389, "comment_id": 102025841, "body": "My EFData project does not have a startup.cs"}, {"owner": {"reputation": 122, "user_id": 3874082, "user_type": "registered", "profile_image": "https://graph.facebook.com/61408854/picture?type=large", "display_name": "Callistus Asirvatham", "link": "https://stackoverflow.com/users/3874082/callistus-asirvatham"}, "reply_to_user": {"reputation": 987, "user_id": 646536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/51e2ead3323e37a078a24beb4c9e2a3c?s=128&d=identicon&r=PG", "display_name": "duckmike", "link": "https://stackoverflow.com/users/646536/duckmike"}, "edited": false, "score": 0, "creation_date": 1567636986, "post_id": 57796389, "comment_id": 102025868, "body": "Does your APi Project have one?"}, {"owner": {"reputation": 987, "user_id": 646536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/51e2ead3323e37a078a24beb4c9e2a3c?s=128&d=identicon&r=PG", "display_name": "duckmike", "link": "https://stackoverflow.com/users/646536/duckmike"}, "edited": false, "score": 0, "creation_date": 1567637011, "post_id": 57796389, "comment_id": 102025870, "body": "Yes, My API Project has a Startup.cs"}, {"owner": {"reputation": 122, "user_id": 3874082, "user_type": "registered", "profile_image": "https://graph.facebook.com/61408854/picture?type=large", "display_name": "Callistus Asirvatham", "link": "https://stackoverflow.com/users/3874082/callistus-asirvatham"}, "reply_to_user": {"reputation": 987, "user_id": 646536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/51e2ead3323e37a078a24beb4c9e2a3c?s=128&d=identicon&r=PG", "display_name": "duckmike", "link": "https://stackoverflow.com/users/646536/duckmike"}, "edited": false, "score": 0, "creation_date": 1567637218, "post_id": 57796389, "comment_id": 102025918, "body": "So there are 3 things you need to do;  1. On your API project expand that section in Visual Studio (i assume from the screenshot) then right click on the item that says &#39;Dependencies&#39;, and then you will see the option to &#39;Add Reference&#39;, There you will see a list of projects in your solution and select EFData.  Now your API project which is initialised on startup can initialize the EFData class library when you run the project."}, {"owner": {"reputation": 122, "user_id": 3874082, "user_type": "registered", "profile_image": "https://graph.facebook.com/61408854/picture?type=large", "display_name": "Callistus Asirvatham", "link": "https://stackoverflow.com/users/3874082/callistus-asirvatham"}, "reply_to_user": {"reputation": 987, "user_id": 646536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/51e2ead3323e37a078a24beb4c9e2a3c?s=128&d=identicon&r=PG", "display_name": "duckmike", "link": "https://stackoverflow.com/users/646536/duckmike"}, "edited": false, "score": 0, "creation_date": 1567637414, "post_id": 57796389, "comment_id": 102025953, "body": "2. Then you need to go into your startup class and in the ConfigureServices method add in the connection string you had and then you will need to reference the name space for your DBContext  3. Finall then you need to ensure the correct connection string is in your appsettings.json file by the name of &#39;DefaultConnection&#39; so then it can be picked up on start up  You may need to run your migrations and so on to build your database, but that should get you to the place you need"}, {"owner": {"reputation": 987, "user_id": 646536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/51e2ead3323e37a078a24beb4c9e2a3c?s=128&d=identicon&r=PG", "display_name": "duckmike", "link": "https://stackoverflow.com/users/646536/duckmike"}, "edited": false, "score": 0, "creation_date": 1567637842, "post_id": 57796389, "comment_id": 102026024, "body": "This line - services.AddDbContext&lt;DBContext&gt;(options =&gt; options.UseSqlServer(Configuration.GetConnectionString(&quot;Defa&zwnj;&#8203;ultConnection&quot;))); references the correct DBContext from my EFData class library. What do I need to do in the code within me DBContext file to pick up that connection string?"}, {"owner": {"reputation": 987, "user_id": 646536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/51e2ead3323e37a078a24beb4c9e2a3c?s=128&d=identicon&r=PG", "display_name": "duckmike", "link": "https://stackoverflow.com/users/646536/duckmike"}, "reply_to_user": {"reputation": 122, "user_id": 3874082, "user_type": "registered", "profile_image": "https://graph.facebook.com/61408854/picture?type=large", "display_name": "Callistus Asirvatham", "link": "https://stackoverflow.com/users/3874082/callistus-asirvatham"}, "edited": false, "score": 0, "creation_date": 1567638002, "post_id": 57796389, "comment_id": 102026053, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/198973/discussion-between-duckmike-and-callistus-asirvatham\">continue this discussion in chat</a>."}, {"owner": {"reputation": 122, "user_id": 3874082, "user_type": "registered", "profile_image": "https://graph.facebook.com/61408854/picture?type=large", "display_name": "Callistus Asirvatham", "link": "https://stackoverflow.com/users/3874082/callistus-asirvatham"}, "reply_to_user": {"reputation": 987, "user_id": 646536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/51e2ead3323e37a078a24beb4c9e2a3c?s=128&d=identicon&r=PG", "display_name": "duckmike", "link": "https://stackoverflow.com/users/646536/duckmike"}, "edited": false, "score": 0, "creation_date": 1567638019, "post_id": 57796389, "comment_id": 102026056, "body": "ASP.NET core uses dependency injection, so as you have configured the connection string and specified the context to inject the connection string into when you debug the project it will auto build it.  best way to test is in PM console run your migrations in the correct project, it will work,"}], "tags": [], "owner": {"reputation": 122, "user_id": 3874082, "user_type": "registered", "profile_image": "https://graph.facebook.com/61408854/picture?type=large", "display_name": "Callistus Asirvatham", "link": "https://stackoverflow.com/users/3874082/callistus-asirvatham"}, "is_accepted": false, "score": 0, "last_activity_date": 1591713797, "last_edit_date": 1591713797, "creation_date": 1567636759, "answer_id": 57796389, "question_id": 57796301, "link": "https://stackoverflow.com/questions/57796301/net-core-read-connection-string-into-entity-framework-core/57796389#57796389", "title": ".NET core - read connection string into Entity Framework Core", "body": "<p>Steps to Get Connection and build your database </p>\n\n<ol>\n<li>Add reference to EFData Project in API project - do this by in the\nAPI project, clicking on the dependecies section and adding\nreference to your EFData class library.</li>\n<li>Then add to your startup class in your api project and ensure the connection string is in your ConfigureServices method or similar</li>\n</ol>\n\n<p>your connection string looks good just make sure your database connection string is correct.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/ef/core/miscellaneous/connection-strings#aspnet-core\" rel=\"nofollow noreferrer\">Here</a> is a link if you need more information </p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 7104402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c17245fba3e33e9c739c94d17ffac37d?s=128&d=identicon&r=PG&f=1", "display_name": "Debi", "link": "https://stackoverflow.com/users/7104402/debi"}, "is_accepted": true, "score": 3, "last_activity_date": 1567641054, "creation_date": 1567641054, "answer_id": 57796833, "question_id": 57796301, "link": "https://stackoverflow.com/questions/57796301/net-core-read-connection-string-into-entity-framework-core/57796833#57796833", "title": ".NET core - read connection string into Entity Framework Core", "body": "<p>One approach can be adding a ConnectionString property in the DBContext.cs class and then setting it on the startup.cs of the API project explicitly.\nAdd the following code in DBcontext.cs </p>\n\n<pre><code>   using System;\n   using System.Data.SqlClient;\n\n   using Microsoft.EntityFrameworkCore;\n\n   public class DBContext \n   {\n       public static void SetConnectionString(string connectionString)\n       {\n           if (ConnectionString == null)\n\n           {\n               ConnectionString = connectionString;\n           }\n           else\n           {\n               throw new Exception();\n           }\n       }\n       // this part will help you to open the connection\n       public static SqlConnection OpenConnection()\n       {\n           SqlConnection connection = new SqlConnection(ConnectionString);\n           connection.Open();\n           return connection;\n       }\n\n       private static string ConnectionString { get; set; }\n\n       //add the connectionString to options\n\n         protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n       {\n           if (!optionsBuilder.IsConfigured)\n           {\n               optionsBuilder.UseSqlServer(ConnectionString);\n           }\n       }\n   }\n\n</code></pre>\n\n<p>Now, in the API project add a reference of the EFData project and in the startup.cs file set the ConnectionString</p>\n\n<pre><code> public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n        {\n            var connectionString = this.Configuration.GetConnectionString(\"DBName\");\n            Namespace.DBContextContext.SetConnectionString(connectionString); //replace namespace with the namespace suitable for your solution\n\n            //here goes rest of your default code\n        }\n</code></pre>\n\n<p>This way you should be able to access the Connection in your API project.</p>\n"}], "owner": {"reputation": 987, "user_id": 646536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/51e2ead3323e37a078a24beb4c9e2a3c?s=128&d=identicon&r=PG", "display_name": "duckmike", "link": "https://stackoverflow.com/users/646536/duckmike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7130, "favorite_count": 0, "accepted_answer_id": 57796833, "answer_count": 2, "score": 2, "last_activity_date": 1591713797, "creation_date": 1567635836, "last_edit_date": 1567655757, "question_id": 57796301, "link": "https://stackoverflow.com/questions/57796301/net-core-read-connection-string-into-entity-framework-core", "title": ".NET core - read connection string into Entity Framework Core", "body": "<p>My project structure is pretty standard:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6ouBO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6ouBO.png\" alt=\"Project structure\"></a></p>\n\n<p>within <code>EFData</code>.</p>\n\n<p><code>EFData</code> is an Entity Framework Core class library that isolates all of the database interaction. Database models, and my <code>DBContext</code>. I built it that way so that it's database environment agnostic.</p>\n\n<p>The API project of course has a reference to <code>EFData</code>.</p>\n\n<p>How do I pass the connection string from <code>Startup.cs</code> in <code>API</code> to <code>DBContext.cs</code> in <code>EFData</code>?</p>\n\n<p>I've read multiple articles that reference a set up different than mine where I might expect a <code>Startup.cs</code> in my <code>EFData</code> project. I don't have that.</p>\n\n<p>Within <code>Startup.cs</code>, I do have what I thought was the required line -</p>\n\n<pre><code>services.AddDbContext&lt;DBContext&gt;(options =&gt; options.UseSqlServer(Configuration.GetConnectionString(\"DefaultConnection\")));\n</code></pre>\n\n<p>But <code>EFData</code> knows nothing about that connection string.</p>\n"}, {"tags": ["javascript", "c#"], "comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 5, "creation_date": 1567636011, "post_id": 57796300, "comment_id": 102025647, "body": "Your statement &quot;I don&#39;t even understand what is going on here&quot; tells you what the first step should be. <b>Understand what is going on</b>. Once you understand what the program is <i>for</i>, then ask yourself &quot;how would I implement those semantics in C#?&quot;  Start <i>that</i> process by deciding what the signature of the method is. But certainly do not do an expression-for-expression translation of this hard-to-understand mess."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1567636231, "post_id": 57796300, "comment_id": 102025703, "body": "Your translation is not correct."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 3, "creation_date": 1567636451, "post_id": 57796300, "comment_id": 102025753, "body": "While you are rewriting this, question <i>every</i> decision that you&#39;re making <i>with an eye to improving the readability of the code</i>.  Why are the names of the variables <code>a</code>, <code>b</code> and <code>c</code>, instead of what they <i>mean</i> in the program?  Why is variable <code>a</code> being overwritten, instead of a <i>new</i> local variable with a <i>new, meaningful name</i> being created? Locals are cheap; use them!  And so on."}, {"owner": {"reputation": 54181, "user_id": 9382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bc7b9ac824e43ce9d62bf7dfb37b6393?s=128&d=identicon&r=PG", "display_name": "AngryHacker", "link": "https://stackoverflow.com/users/9382/angryhacker"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567637446, "post_id": 57796300, "comment_id": 102025965, "body": "@EricLippert What about the translation is incorrect?  Parameter names notwithstanding."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567637483, "post_id": 57796300, "comment_id": 102025973, "body": "A valuable skill that you should work on developing today is <b>reading the code you just wrote.</b>  Read the code you wrote, not the code you think you wrote. You&#39;ll see the mistake."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567638281, "post_id": 57796300, "comment_id": 102026099, "body": "Frankly what I would do, were I tasked with porting this code to C# is to understand the code by looking at how it is used at call sites, because frankly it is not making a whole lot of sense to me.  This code is like a master class in how to design a tiny, trivial method that resists understanding. Again, understand the <i>purpose</i> of this thing, and then implement sensible, clear, testable code that implements that purpose."}, {"owner": {"reputation": 3124, "user_id": 5175942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MiN2o.jpg?s=128&g=1", "display_name": "MacroMarc", "link": "https://stackoverflow.com/users/5175942/macromarc"}, "edited": false, "score": 2, "creation_date": 1567638528, "post_id": 57796300, "comment_id": 102026148, "body": "the javascipt has Max and Min, but you used Max &amp; max in your C#"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567638819, "post_id": 57796300, "comment_id": 102026201, "body": "What I&#39;m getting at is that it <i>appears</i> that the contract of the method -- ignoring the null checks for the moment -- is &quot;if <code>c</code> is the smallest of <code>a</code>, <code>b</code>, and <code>c</code> then return <code>c</code>, otherwise return whichever of <code>a</code>, <code>b</code>, and <code>c</code> is the one <i>between</i> the other two.&quot;  Why is that contract something you&#39;d want to implement? I don&#39;t know.  That&#39;s why you should look at the call sites; that will give you a hint as to the true meaning. Maybe <code>c</code> is never the smallest, for instance, and this code is supposed to return the middle element but the bug is never being caught."}, {"owner": {"reputation": 54181, "user_id": 9382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bc7b9ac824e43ce9d62bf7dfb37b6393?s=128&d=identicon&r=PG", "display_name": "AngryHacker", "link": "https://stackoverflow.com/users/9382/angryhacker"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567639373, "post_id": 57796300, "comment_id": 102026298, "body": "@EricLippert This snippet of code is at the bottom of a long stack of mathematical methods, full of Sin, Tan, ATan, etc..., that are of the same hard to understand quality.  It&#39;s hard to see at a glance what each method does.  My purpose in porting it to C# is to feed it some data and understand how it behaves."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567639473, "post_id": 57796300, "comment_id": 102026315, "body": "Well if that is the typical quality of the code, you are in for a hard slog. Hopefully there is some documentation somewhere that indicates what algorithm the code is ultimately attempting to implement."}, {"owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 0, "creation_date": 1567690711, "post_id": 57796300, "comment_id": 102045174, "body": "@AngryHacker: I wonder if this sort of question would be well-suited towards codereview.  While this question indicates less confidence in correctness than is ideal for a CR question, that could easily be corrected by being more confident in your code (e.g., running some basic test cases yourself before asking for review would have prevented the Math.Max/Math.Min switch).  I recommend <a href=\"https://www.linqpad.net/\" rel=\"nofollow noreferrer\">linqpad.net</a> as a simple test scratchpad."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 0, "creation_date": 1567789104, "post_id": 57796300, "comment_id": 102082100, "body": "@Brian: This sort of question is ill-suited to the code review site. The code review site is for code that <i>does what it is supposed to do but could be better</i>.  The problem here is that we don&#39;t even know what the code is supposed to do, so it is hard to say whether it is correct. I&#39;ve tried to indicate in my answer how I would approach improving the code, but it relies upon us making a good guess as to the meaning of the code."}, {"owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1568033864, "post_id": 57796300, "comment_id": 102135254, "body": "@EricLippert: I realize that.  That is why I said that he shouldn&#39;t post it to CR until he was more confident in his code&#39;s correctness."}], "answers": [{"comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1567636138, "post_id": 57796323, "comment_id": 102025682, "body": "How can a decimal be null?"}, {"owner": {"reputation": 1189, "user_id": 5193370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Toyc6.jpg?s=128&g=1", "display_name": "Mostafa Vatanpour", "link": "https://stackoverflow.com/users/5193370/mostafa-vatanpour"}, "edited": false, "score": 0, "creation_date": 1567636187, "post_id": 57796323, "comment_id": 102025691, "body": "Use decimal? instead of decimal."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 1, "creation_date": 1567636227, "post_id": 57796323, "comment_id": 102025700, "body": "For that matter, why choose <code>decimal</code>? The closest type to JavaScript&#39;s <code>Number</code> would be <code>double</code>."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567636341, "post_id": 57796323, "comment_id": 102025737, "body": "Thanks, but you <i>really</i> need to address Eric Lippert&#39;s point, as well, for it to work at all."}, {"owner": {"reputation": 1189, "user_id": 5193370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Toyc6.jpg?s=128&g=1", "display_name": "Mostafa Vatanpour", "link": "https://stackoverflow.com/users/5193370/mostafa-vatanpour"}, "edited": false, "score": 0, "creation_date": 1567636735, "post_id": 57796323, "comment_id": 102025807, "body": "this link: <a href=\"https://www.w3schools.com/js/js_numbers.asp\" rel=\"nofollow noreferrer\">w3schools.com/js/js_numbers.asp</a> says that number type is Always 64-bit Floating Point. So double? is the correct type."}, {"owner": {"reputation": 794, "user_id": 1378507, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55e0e0ec37cf6ec66012adeb22a0c59c?s=128&d=identicon&r=PG", "display_name": "Washington A. Ramos", "link": "https://stackoverflow.com/users/1378507/washington-a-ramos"}, "edited": false, "score": 1, "creation_date": 1567636889, "post_id": 57796323, "comment_id": 102025843, "body": "As a clarification, Microsoft suggests <code>decimal</code> for values specifically representing currencies (aka prices, money transactions, etc). The <code>?</code> operator is used to turn <code>value</code> types into reference types, making them nullable. Value types such as <code>int</code>, <code>float</code>, <code>decimal</code>, <code>double</code> can all use <code>?</code> to become nullable: <code>int? j = null;</code>."}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1567637243, "post_id": 57796323, "comment_id": 102025922, "body": "The original code will return the original value passed in for a if b and c are null, not double.NaN"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567639044, "post_id": 57796323, "comment_id": 102026236, "body": "Your implementation is improving; now can you do one that does not mutate <code>a</code>?  Mutating a formal is a bad practice because it makes it harder to understand the program when reading it, and harder to debug it when running it."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567640658, "post_id": 57796323, "comment_id": 102026519, "body": "Compare your implementation to mine; which do you think is the easier to understand?"}, {"owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "edited": false, "score": 0, "creation_date": 1567641129, "post_id": 57796323, "comment_id": 102026589, "body": "Your solution is very easy to follow. Also, in regards to your prior comment, I agree; immutability is preferable. Also in this case, your functional expression of <code>bounds()</code>  is straight forward to follow and is a much better alternative. Wasn&#39;t too sure if adding helper functions was going &quot;out of bounds&quot; of what the OP wanted as far as a solution but on reflection, supplementing my answer with a solution that applied similar ideas to those you have put forward that would have been fine - great answer by the way :)"}], "tags": [], "owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "is_accepted": false, "score": 2, "last_activity_date": 1567638040, "last_edit_date": 1567638040, "creation_date": 1567636115, "answer_id": 57796323, "question_id": 57796300, "link": "https://stackoverflow.com/questions/57796300/how-to-translate-this-javascript-snippet-to-c/57796323#57796323", "title": "How to translate this Javascript snippet to C#", "body": "<p>Here's roughly what that JavaScript translates to:</p>\n\n<pre><code>function bounds(a, b, c) {\n  // If \"b\" not null, then update \"a\" as the maximum of \"a\" and \"b\" \n  null != b &amp;&amp; (a = Math.max(a, b));\n\n  // If \"c\" not null, then update \"a\" as the maximum of \"a\" and \"c\" \n  null != c &amp;&amp; (a = Math.min(a, c));\n\n  return a\n}\n</code></pre>\n\n<p>A C# equalivalnt could be written as:</p>\n\n<pre><code>static double ? bounds(double ? a, double ? b, double ? c)\n{\n    if (b.HasValue)\n    {\n        a = a.HasValue ? Math.Max(a.Value, b.Value) : a;\n    }\n\n    if (c.HasValue)\n    {\n        a = a.HasValue ? Math.Min(a.Value, c.Value) : a;\n    }\n\n    return a;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 10, "last_activity_date": 1567789251, "last_edit_date": 1567789251, "creation_date": 1567640395, "answer_id": 57796762, "question_id": 57796300, "link": "https://stackoverflow.com/questions/57796300/how-to-translate-this-javascript-snippet-to-c/57796762#57796762", "title": "How to translate this Javascript snippet to C#", "body": "<blockquote>\n  <p>Honestly, I don't even understand what is going on here.</p>\n</blockquote>\n\n<p>Me neither. The code appears to implement the contract \"if <code>c</code> is the least element, return it, and otherwise, return the middle element of <code>a</code>, <code>b</code>, and <code>c</code>, plus some nullability checks of unknown purpose.  </p>\n\n<p>This is a bizarre contract to implement and it makes me think that it might be an untested implementation of \"return the middle element\" that has a bug; if <code>c</code> is in practice never the smallest element, perhaps the bug is never caught.</p>\n\n<blockquote>\n  <p>How does one translate this to C#?</p>\n</blockquote>\n\n<p>Understand the meaning of the code in context, and then implement those semantics in idiomatic C#.  It's the understanding that is the important part; once you understand the code, writing a correct, testable implementation will be straightforward.</p>\n\n<blockquote>\n  <p>This is my translation. Is this correct?</p>\n</blockquote>\n\n<pre><code>private double bounds(double a, double? b, double? c) {\n  if (b != null) a = Math.Max(a, b.Value);\n  if (c != null) a = Math.Min(a, c.Value);\n  return a;\n}\n</code></pre>\n\n<p>It is correct in that it accurately implements the semantics of the original, possibly-buggy code. But it is hardly better. Let's improve it. Three things stand out:</p>\n\n<ul>\n<li>The method does not consume <code>this</code>, so it should be <code>static</code>.</li>\n<li>The method is a C# method and should follow the naming conventions of C#.</li>\n<li>Methods that overwrite their formals are hard to read at design time, and hard to debug at run time. For that matter, any method that mutates a variable is harder to understand than a method that does not mutate a variable.</li>\n<li>Variables named <code>a</code>, <code>b</code>, <code>c</code>, that have meanings to them are hard to read because they obscure those meanings.</li>\n</ul>\n\n<p>Let's fix all of them.</p>\n\n<pre><code>private static double Bounds(double a, double? b, double? c) \n{\n  double larger = (b == null) ? a : Math.Max(a, b.Value);\n  double smaller = (c == null) ? larger : Math.Min(larger, c.Value);\n  return smaller;\n}\n</code></pre>\n\n<p>We still do not have good names for <code>a</code>, <code>b</code> and <code>c</code>, but at least we know that <code>larger</code> and <code>smaller</code> reflect their meanings.</p>\n\n<p>Are we done?  Always ask yourself <strong>how can I make this simpler</strong>?</p>\n\n<p>You can make it simpler by moving the checks into a helper.</p>\n\n<pre><code>private static double Max(double x, double? y) =&gt;\n  (y == null) ? x : Math.Max(x, y.Value)\n\nprivate static double Min(double x, double? y) =&gt;\n  (y == null) ? x : Math.Min(x, y.Value)\n</code></pre>\n\n<p>And now our method becomes:</p>\n\n<pre><code>private static double Bounds(double a, double? b, double? c) \n{\n  double larger = Max(a, b);\n  double smaller = Min(larger, c);\n  return smaller;\n}\n</code></pre>\n\n<p>And now we realize that we can rewrite this as</p>\n\n<pre><code>private static double Bounds(double a, double? b, double? c) =&gt; \n  Min(Max(a, b), c);\n</code></pre>\n\n<p>It is certainly still not clear what the <em>purpose</em> of this thing is, but I hope you agree that my implementation could not be more clear in its action. In my implementation it is dead obvious that the semantics are \"if <code>c</code> is the least, return it, otherwise return the middle element\". Compare the understandability of my version to the original godawful mess and see which one is easier to understand.</p>\n\n<p><strong>What is the lesson here?</strong>  </p>\n\n<ul>\n<li>Organize the code into single-assignment form</li>\n<li>Move complex logic into helper methods that abstract it away</li>\n<li>Rewrite the code to eliminate unnecessary explanatory variables.</li>\n<li>The code becomes clean and easy to comprehend.</li>\n</ul>\n\n<hr>\n\n<p>Further musings; suppose that my conjecture is right, and the intention is to write:</p>\n\n<pre><code>private static double Middle(double test, double? bottom, double? top)\n</code></pre>\n\n<p>The semantics of the method are:</p>\n\n<ul>\n<li><code>bottom</code> and <code>top</code> may both be null.</li>\n<li>If both are non-null then <code>bottom</code> must be the smaller.</li>\n<li>If <code>bottom</code> and <code>top</code> are both not null then the value in the middle is returned.</li>\n<li>If <code>bottom</code> and <code>top</code> are both null then <code>test</code> is the value in the middle.</li>\n<li>If <code>bottom</code> is null but <code>top</code> is non null, then the smaller of <code>test</code> and <code>top</code> is the value in the middle. Here we're treating \"null\" like \"negative infinity\" for the bottom.</li>\n<li>Similarly if <code>top</code> is null but <code>bottom</code> is not, then the larger of <code>bottom</code> and <code>test</code> is the middle one. Here the null top is treated like \"positive infinity\".</li>\n</ul>\n\n<p>This is actually a pretty sensible contract, but it requires that we know that <code>bottom</code> be always smaller than <code>top</code> when they are not both null. A good implementation in C# would either <code>Debug.Assert</code> that fact (if the method is <code>private</code>) or <code>throw</code> if the precondition was violated (if the method is <code>public</code>).</p>\n\n<p>If this is the case then the better choice would be to do this:</p>\n\n<pre><code>private static double Middle(double test, double? bottom, double? top) =&gt;\n  Middle(\n    test, \n    bottom ?? Double.NegativeInfinity, \n    top ?? Double.PositiveInfinity);\n\nprivate static double Middle(double test, double bottom, double top) =&gt;\n  Math.Min(Math.Max(test, bottom), top);\n</code></pre>\n\n<p>(If you are unfamiliar with <code>??</code>, it is read \"coalesce\" and <code>x??y</code> means \"if <code>x</code> is not null then use <code>x.Value</code>, otherwise use <code>y</code>\". It is a very useful operator.)</p>\n\n<p>Again, see how nice and easy the code looks when you write it with an eye to readability. It becomes clear that \"null means negative infinity on the bottom and positive infinity on the top\" because that's what the code says!</p>\n\n<p>Alternatively, write a correct implementation of Middle that does not require any ordering of the three inputs:</p>\n\n<pre><code>// True if test is between b1 and b2, false otherwise\nprivate static bool Between(double test, double b1, double b2) =&gt;\n  ((b1 &lt;= test) &amp; (test &lt;= b2)) | ((b2 &lt;= test) &amp; (test &lt;= b1));\n\n// Returns the middle value of a, b, and c.\nprivate static double Middle(double a, double b, double c)\n{\n  if (Between(a, b, c) return a;\n  if (Between(b, a, c) return b;\n  return c;\n}\n</code></pre>\n\n<p>Or, if you like</p>\n\n<pre><code>private static double Middle(double a, double b, double c) =&gt;\n  Between(a, b, c) ? a : Between(b, a, c) ? b : c;\n</code></pre>\n\n<p>And now we can once again write our Bounds method easily:</p>\n\n<pre><code>private static double Bounds(double test, double? bottom, double? top) =&gt;\n  Middle(\n    test, \n    bottom ?? Double.NegativeInfinity, \n    top ?? Double.PositiveInfinity);\n</code></pre>\n\n<p>Again, think about what we are striving for here. <strong>Simple methods that do one thing and do it extremely well</strong>.  Once you have that, you can use those methods to build <em>other</em> simple methods, and gradually increase the complexity of the program without making it hard to understand.</p>\n"}], "owner": {"reputation": 54181, "user_id": 9382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bc7b9ac824e43ce9d62bf7dfb37b6393?s=128&d=identicon&r=PG", "display_name": "AngryHacker", "link": "https://stackoverflow.com/users/9382/angryhacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "closed_date": 1567643937, "answer_count": 2, "score": -5, "last_activity_date": 1567789251, "creation_date": 1567635801, "last_edit_date": 1567639113, "question_id": 57796300, "link": "https://stackoverflow.com/questions/57796300/how-to-translate-this-javascript-snippet-to-c", "closed_reason": "Needs more focus", "title": "How to translate this Javascript snippet to C#", "body": "<p>Javascript:</p>\n\n<pre><code>function bounds(a, b, c) {\n  null != b &amp;&amp; (a = Math.max(a, b));\n  null != c &amp;&amp; (a = Math.min(a, c));\n  return a\n}\n</code></pre>\n\n<p>Honestly, I don't even understand what is going on here.  If <code>b</code> isn't null, then <code>a</code> gets set <code>Math.max(a, b)</code>.  if <code>c</code> isn't null, <code>a</code> gets set from <code>Math.min(a, c)</code>?</p>\n\n<p>How does one translate this to C#?</p>\n\n<p>P.S.  This is my translation.  Is this correct?</p>\n\n<pre><code>private double bounds(double a, double? b, double? c) {\n    if (b != null) a = Math.Max(a, b.Value);\n    if (c != null) a = Math.Min(a, c.Value);\n\n    return a;\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml", "xps", "xpsdocument"], "comments": [{"owner": {"reputation": 15044, "user_id": 416574, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/80e6a3e7975350dea41b2cf3fa46c407?s=128&d=identicon&r=PG", "display_name": "pstrjds", "link": "https://stackoverflow.com/users/416574/pstrjds"}, "edited": false, "score": 1, "creation_date": 1567635470, "post_id": 57796244, "comment_id": 102025535, "body": "How are you generating the XPS file - can you show this code please?"}, {"owner": {"reputation": 107, "user_id": 11068677, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WuOgdfgdNjA/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPsMsqtQyd1Q1-irY7pjpfMW0DmeQ/mo/photo.jpg?sz=128", "display_name": "Abhi Tiwari", "link": "https://stackoverflow.com/users/11068677/abhi-tiwari"}, "reply_to_user": {"reputation": 15044, "user_id": 416574, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/80e6a3e7975350dea41b2cf3fa46c407?s=128&d=identicon&r=PG", "display_name": "pstrjds", "link": "https://stackoverflow.com/users/416574/pstrjds"}, "edited": false, "score": 0, "creation_date": 1567635819, "post_id": 57796244, "comment_id": 102025598, "body": "Added the xps file generation function"}], "owner": {"reputation": 107, "user_id": 11068677, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WuOgdfgdNjA/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPsMsqtQyd1Q1-irY7pjpfMW0DmeQ/mo/photo.jpg?sz=128", "display_name": "Abhi Tiwari", "link": "https://stackoverflow.com/users/11068677/abhi-tiwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567635793, "creation_date": 1567635190, "last_edit_date": 1567635793, "question_id": 57796244, "link": "https://stackoverflow.com/questions/57796244/stop-sections-from-being-cut-off-when-xps-file-is-created-on-wpf", "title": "Stop sections from being cut off when xps file is created on WPF", "body": "<p><strong>The Application</strong></p>\n\n<p>I am working on an EHR application. The page I am working on converts the contents of a <code>XAML</code> file's data to an <code>XPS</code> file which can be printed or drawn on. When the page's data in on the <code>XAML</code> page it can easily be scrolled through and the data is kept inside a <code>BlockUIContainer</code>. <em>However</em> once the <code>XPS</code> file is generated, some sections are cut off.</p>\n\n<p><strong>Application Code</strong></p>\n\n<p>Inside the 10-14YearVisit form XAML file</p>\n\n<pre><code>&lt;!--History Section--&gt;\n      &lt;BlockUIContainer&gt;\n        &lt;genForms_Controls:PatientHistoryUC /&gt;\n      &lt;/BlockUIContainer&gt;\n&lt;!--History Bottom--&gt;\n</code></pre>\n\n<p>The PatientHistoryUC.xaml (Sorry, lots of code!)</p>\n\n<pre><code>&lt;UserControl x:Class=\"Pcis.Emr.GeneralForms.Controls.PatientHistoryUC\"\n             xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n             xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n             xmlns:genForms_Controls=\"clr-namespace:Pcis.Emr.GeneralForms.Controls\"\n             xmlns:galenControls=\"clr-namespace:Pcis.Emr.GeneralForms.Galen.Controls\"\n             xmlns:util=\"clr-namespace:Pcis.Emr.Common.Utils;assembly=Pcis.Emr.Common\"\n             xmlns:sectionDatas=\"clr-namespace:Pcis.Emr.Data.SectionDatas;assembly=Pcis.Emr.Data\"\n             xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"&gt;\n  &lt;Border BorderBrush=\"Black\"\n          BorderThickness=\"1\"\n          CornerRadius=\"5\"\n          Width=\"790\"\n          Margin=\"0,0,2,5\"&gt;\n    &lt;Grid&gt;\n      &lt;Grid.ColumnDefinitions&gt;\n        &lt;ColumnDefinition Width=\"*\" /&gt;\n        &lt;ColumnDefinition Width=\"*\" /&gt;\n      &lt;/Grid.ColumnDefinitions&gt;\n      &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition Height=\"Auto\" /&gt;\n        &lt;RowDefinition Height=\"Auto\" /&gt;\n        &lt;RowDefinition Height=\"Auto\" /&gt;\n        &lt;RowDefinition Height=\"Auto\" /&gt;\n      &lt;/Grid.RowDefinitions&gt;\n      &lt;!--past medical history--&gt;\n      &lt;galenControls:GalenPastMedicalHistory Grid.ColumnSpan=\"2\"\n                                             util:FormTemplateSectionUtil.ShowInForm=\"{x:Static sectionDatas:SectionType.ProblemList}\"\n                                             util:FormTemplateSectionUtil.TemplateId=\"{Binding TemplateId}\"\n                                             Margin=\"3\"/&gt;\n      &lt;genForms_Controls:ProblemsSection PMHFontSize=\"11\"\n                                         Margin=\"3\"\n                                         Grid.Row=\"1\"\n                                         Grid.ColumnSpan=\"2\"\n                                         util:FormTemplateSectionUtil.ShowInForm=\"{x:Static sectionDatas:SectionType.Problems}\"\n                                         util:FormTemplateSectionUtil.TemplateId=\"{Binding TemplateId}\" /&gt;\n      &lt;StackPanel Grid.Row=\"2\"\n                  Margin=\"3\"&gt;\n        &lt;!--past surgical history--&gt;\n        &lt;Button Grid.Column=\"0\"\n                VerticalAlignment=\"Top\"\n                Style=\"{StaticResource NoBorderButtonHand}\"\n                Command=\"{Binding PickPSHCommand, Mode=OneWay}\"\n                HorizontalAlignment=\"Left\"&gt;\n          &lt;TextBlock VerticalAlignment=\"Center\"\n                     FontWeight=\"Bold\"\n                     Text=\"Past Surgical History\"\n                     TextDecorations=\"Underline\"\n                     HorizontalAlignment=\"Left\"\n                     Foreground=\"Blue\" /&gt;\n        &lt;/Button&gt;\n        &lt;ItemsControl Grid.Column=\"0\"\n                      Margin=\"0,0,6,0\"\n                      ItemTemplate=\"{DynamicResource PSHItemTemplate}\"\n                      ItemsSource=\"{Binding PastSurgicalHistoryChronicOnly, Mode=Default}\"\n                      VerticalAlignment=\"Top\" /&gt;\n      &lt;/StackPanel&gt;\n      &lt;StackPanel x:Name=\"FH_SH\"\n                  Grid.Column=\"4\"\n                  Grid.Row=\"2\"\n                  Margin=\"3\"\n                  HorizontalAlignment=\"Left\"\n                  VerticalAlignment=\"Top\"&gt;\n        &lt;!--Family history--&gt;\n        &lt;galenControls:GalenFamilyHistory /&gt;\n\n        &lt;genForms_Controls:SocialHistoryUCTreeView /&gt;\n        &lt;Grid&gt;\n          &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition Width=\"Auto\" /&gt;\n            &lt;ColumnDefinition /&gt;\n          &lt;/Grid.ColumnDefinitions&gt;\n        &lt;/Grid&gt;\n      &lt;/StackPanel&gt;\n      &lt;StackPanel x:Name=\"PMH_PSH\"\n                  Grid.Column=\"0\"\n                  Grid.Row=\"2\"\n                  Grid.ColumnSpan=\"2\"\n                  HorizontalAlignment=\"Left\"\n                  Width=\"390.423\"\n                  Margin=\"3\"&gt;\n        &lt;Grid Margin=\"0,5,0,0\"\n              Grid.Row=\"1\"&gt;\n          &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition Width=\"0.799*\" /&gt;\n            &lt;ColumnDefinition Width=\"0.201*\" /&gt;\n          &lt;/Grid.ColumnDefinitions&gt;\n          &lt;!--current medications--&gt;\n          &lt;StackPanel Grid.Column=\"1\"\n                      Orientation=\"Horizontal\"                      \n                      Margin=\"0,0,8,0\"\n                      HorizontalAlignment=\"Right\"\n                      Width=\"249\" /&gt;\n        &lt;/Grid&gt;\n      &lt;/StackPanel&gt;\n    &lt;/Grid&gt;\n  &lt;/Border&gt;\n&lt;/UserControl&gt;\n</code></pre>\n\n<p>xps file generation</p>\n\n<pre><code>    public bool SaveDocument(\n    out string path,\n    out string error,\n    bool digitallySign = true,\n    SerializerWriterCollator customCollator = null,\n    PageRange? pr = null,\n    string headerText = null,\n    bool printAccount = true,\n    HorizontalAlignment patientAlignment = HorizontalAlignment.Center,\n    HorizontalAlignment headerTextAlignment = HorizontalAlignment.Center,\n    HorizontalAlignment logoAlignment = HorizontalAlignment.Right,\n    int headerFontSize = 13,\n    Typeface headerTypeFace = null,\n    string generatedNote = null,\n    bool alwaysThrow = false)\n    {\n      path = Util.GetTempFile(\"xps\");\n      error = string.Empty;\n\n      SerializerWriterCollator collator;\n      XpsDocument doc = null;\n      bool endBatchWrite = false;\n\n      if (customCollator != null)\n      {\n        collator = customCollator;\n      }\n      else\n      {\n        doc = new XpsDocument(path, FileAccess.ReadWrite);\n        XpsDocumentWriter writer = XpsDocument.CreateXpsDocumentWriter(doc);\n        collator = writer.CreateVisualsCollator();\n        collator.BeginBatchWrite();\n      }\n\n      int count = 1;\n      int flowDocumentCount = 0;\n\n      foreach (FlowDocument flowdoc in this.Documents)\n      {\n        if (pr != null &amp;&amp; pr.Value.PageTo != 0 &amp;&amp; (count &lt; pr.Value.PageFrom || count &gt; pr.Value.PageTo))\n        {\n          continue;\n        }\n\n        IDocumentPaginatorSource source = flowdoc;\n        DocumentPaginator p = source.DocumentPaginator;\n\n        p.PageSize = new Size(this.extentWidth, this.extentHeight);\n        p.ComputePageCount();\n        this.TotalPages += p.PageCount;\n\n        flowDocumentCount += p.PageCount;\n      }\n\n      int currentPage = 1;\n\n      foreach (FlowDocument flowdoc in this.Documents)\n      {\n        IDocumentPaginatorSource source = flowdoc;\n        DocumentPaginator p = source.DocumentPaginator;\n\n        p.PageSize = new Size(this.extentWidth, this.extentHeight);\n        p.ComputePageCount();\n\n        for (int i = 0; i &lt; p.PageCount; ++i)\n        {\n          DocumentPage page = p.GetPage(i);\n          ContainerVisual v = new ContainerVisual();\n          DrawingVisual header = this.CreateHeader(\n            currentPage++,\n            this.TotalPages,\n            digitallySign,\n            headerText,\n            printAccount,\n            patientAlignment,\n            headerTextAlignment,\n            logoAlignment,\n            headerFontSize,\n            headerTypeFace);\n\n          ContainerVisual cv = new ContainerVisual();\n          cv.Children.Add(page.Visual);\n\n          // This offset is how far down the header will show.  If the logo cuts off, it's because\n          // it extends below the Y variable in the line of code below in the new Vector(x,y)\n          cv.Offset = new Vector(0, 45);\n          v.Children.Add(cv);\n\n          v.Children.Add(header);\n\n          v.Transform = new ScaleTransform(0.96, 1);\n          v.Offset = new Vector(24, 0);\n          collator.Write(v);\n          endBatchWrite = true;\n\n          Util.LogAccess(\"Printing a Document\", AccessLogComponent.HealthRecord, AccessLogAction.Print);\n        }\n      }\n\n      if (customCollator == null)\n      {\n        if (endBatchWrite == true)\n        {\n          collator.EndBatchWrite();\n        }\n\n        doc.Close();\n      }\n\n      // Minus on from the current page due to the fact that we start on page 1.\n      return this.HandleCreationError(currentPage - 1, flowDocumentCount, path, generatedNote, alwaysThrow, out error);\n    }\n</code></pre>\n\n<p><strong>Example of Before and After:</strong> (All of the patient data is made up)</p>\n\n<p><strong>Pre-XPS</strong>\n<img src=\"https://i.imgur.com/h2xWArH.png\" alt=\"PreXPS\"></p>\n\n<p><strong>XPS</strong></p>\n\n<p><img src=\"https://i.imgur.com/D27exCe.png\" alt=\"XAML file\"></p>\n\n<p><strong>PatientHistoryUC.xaml Layout</strong>\n<img src=\"https://i.imgur.com/opy7025.png\" alt=\"Layout\"></p>\n\n<p><strong>What I want to happen</strong></p>\n\n<p>Depending on the amount of data being supplied to the <code>XPS</code> generated file, pagination occurs which moves excess contents to the next page rather than cutting off. I believe the <code>BlockUIContainer</code> is the main issue as it can't be split into two when the data becomes too much for the set page size (8 x 11).</p>\n\n<p>Thank you for reading.</p>\n"}, {"tags": ["c#", ".net-core"], "answers": [{"comments": [{"owner": {"reputation": 711, "user_id": 4625946, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/85cdfdeab4df9dcb5c7ce1477c9bfa3a?s=128&d=identicon&r=PG&f=1", "display_name": "havij", "link": "https://stackoverflow.com/users/4625946/havij"}, "edited": false, "score": 0, "creation_date": 1567718010, "post_id": 57796274, "comment_id": 102057404, "body": "The docs says &quot;The Secret Manager tool doesn&#39;t encrypt the stored secrets and shouldn&#39;t be treated as a trusted store. It&#39;s for <code>development purposes</code> only&quot;. For your second paragraph, my question was how? I obviously don&#39;t want to use OS-level env vars."}, {"owner": {"reputation": 598, "user_id": 10008643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab005fef5de7bc17b121b7f345e237ba?s=128&d=identicon&r=PG&f=1", "display_name": "Merkle Groot", "link": "https://stackoverflow.com/users/10008643/merkle-groot"}, "reply_to_user": {"reputation": 711, "user_id": 4625946, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/85cdfdeab4df9dcb5c7ce1477c9bfa3a?s=128&d=identicon&r=PG&f=1", "display_name": "havij", "link": "https://stackoverflow.com/users/4625946/havij"}, "edited": false, "score": 0, "creation_date": 1567900584, "post_id": 57796274, "comment_id": 102104580, "body": "You&#39;re correct. I really thought that the .NET Secret Manager was encrypting the data, but the docs say that it doesn&#39;t. You still have the option of putting your keys in a location that only the appropriate user can access. If the drive is encrypted, this at least provides you with <i>some</i> protection."}], "tags": [], "owner": {"reputation": 598, "user_id": 10008643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab005fef5de7bc17b121b7f345e237ba?s=128&d=identicon&r=PG&f=1", "display_name": "Merkle Groot", "link": "https://stackoverflow.com/users/10008643/merkle-groot"}, "is_accepted": false, "score": 2, "last_activity_date": 1567635497, "creation_date": 1567635497, "answer_id": 57796274, "question_id": 57796188, "link": "https://stackoverflow.com/questions/57796188/how-to-store-credentials-for-different-environments-net-core-2-1/57796274#57796274", "title": "How to store credentials for different environments .NET Core 2.1", "body": "<p>.NET Core secrets work in both Windows and Linux.\nRemember that the secrets don't \"travel\" with your application.\nYou will need to set the secret on each machine that you deploy the application to.</p>\n\n<p>As you mentioned, it's also possible to use Environment Variables for storing secrets. However, this means that you'll need to perform the encryption/decryption yourself.</p>\n\n<p>You also have the option of encrypting secrets on that file system. This comes with most of the same drawbacks as encrypting them and storing them in the Environment Variables.</p>\n\n<p>Another option (that's not quite a popular with the advent of .NET Core) is to use \"aspnet_regiis\" to encrypt your web.config. I only recommend that route with .NET Framework.\n<a href=\"https://www.codeproject.com/Tips/877258/How-to-Encrypt-Web-config-Using-aspnet-regiis-exe\" rel=\"nofollow noreferrer\">https://www.codeproject.com/Tips/877258/How-to-Encrypt-Web-config-Using-aspnet-regiis-exe</a></p>\n"}], "owner": {"reputation": 711, "user_id": 4625946, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/85cdfdeab4df9dcb5c7ce1477c9bfa3a?s=128&d=identicon&r=PG&f=1", "display_name": "havij", "link": "https://stackoverflow.com/users/4625946/havij"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1567912545, "creation_date": 1567634770, "last_edit_date": 1567912545, "question_id": 57796188, "link": "https://stackoverflow.com/questions/57796188/how-to-store-credentials-for-different-environments-net-core-2-1", "title": "How to store credentials for different environments .NET Core 2.1", "body": "<p>I am developing an app in .NET Core 2.1 on windows, but this is going to be deployed on a Linux server. I am looking for a way to store secrets for both development and production without having to have separate code paths for reading the credentials. </p>\n\n<p>In .NET Core, the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-2.2&amp;tabs=windows\" rel=\"nofollow noreferrer\">secret manager</a> could be used to store credentials, but the docs says this should only be used for development. After doing some research, looks like the environment variables are the way to go (correct me if I am wrong). I could add the environment variables by going to <code>Project -&gt; Properties -&gt; Debug -&gt; Environment variables</code>, but this adds the variables to the <code>launchSettings.json</code> which makes it pointless for my purpose.</p>\n\n<p>So I think I have 2 questions:</p>\n\n<ol>\n<li>Is there a way to add and read environment variables for a project\nin the visual studio without having to write it in a config file? </li>\n<li>What are other options for storing secrets for\nboth dev and prod so we don't have to have a separate code path to read them?</li>\n</ol>\n"}, {"tags": ["c#", ".net", "wpf", "treeview"], "answers": [{"comments": [{"owner": {"reputation": 36, "user_id": 8830321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWbru.jpg?s=128&g=1", "display_name": "Mahmmoud Kassem", "link": "https://stackoverflow.com/users/8830321/mahmmoud-kassem"}, "edited": false, "score": 0, "creation_date": 1567815466, "post_id": 57823694, "comment_id": 102089411, "body": "thank for you sir ,but i have some problem after update the code                                      this image error <a href=\"https://imgur.com/a/LtxJRLw\" rel=\"nofollow noreferrer\">imgur.com/a/LtxJRLw</a>"}, {"owner": {"reputation": 36, "user_id": 8830321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWbru.jpg?s=128&g=1", "display_name": "Mahmmoud Kassem", "link": "https://stackoverflow.com/users/8830321/mahmmoud-kassem"}, "edited": false, "score": 0, "creation_date": 1567815668, "post_id": 57823694, "comment_id": 102089440, "body": "and i checked of the item type and i getting the &#39;datarowview&#39; type item"}, {"owner": {"reputation": 36, "user_id": 8830321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWbru.jpg?s=128&g=1", "display_name": "Mahmmoud Kassem", "link": "https://stackoverflow.com/users/8830321/mahmmoud-kassem"}, "edited": false, "score": 0, "creation_date": 1567822708, "post_id": 57823694, "comment_id": 102090156, "body": "thank for answer to my qustion but i want to say the code is work if i expanded all the items in treeview , i want to expand the item after searcing automaticly"}, {"owner": {"reputation": 51, "user_id": 8649015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a82ea33689eccc243e5e3158d9d7f28?s=128&d=identicon&r=PG&f=1", "display_name": "snicz", "link": "https://stackoverflow.com/users/8649015/snicz"}, "reply_to_user": {"reputation": 36, "user_id": 8830321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWbru.jpg?s=128&g=1", "display_name": "Mahmmoud Kassem", "link": "https://stackoverflow.com/users/8830321/mahmmoud-kassem"}, "edited": false, "score": 0, "creation_date": 1567868289, "post_id": 57823694, "comment_id": 102098210, "body": "If I&#39;m understanding correctly, you want to update Items from the code, not from the UI. In this case, you just won&#39;t need the <code>SelectItemChanged</code> event to trigger the expansion of the item.  If that is true, using this post here [link] (<a href=\"https://stackoverflow.com/a/4080545/8649015\">stackoverflow.com/a/4080545/8649015</a>) , you should be able to bind the <code>IsExpandable</code> Property of your items  with this and normal MVVM you can set the Property to whatever you want"}, {"owner": {"reputation": 51, "user_id": 8649015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a82ea33689eccc243e5e3158d9d7f28?s=128&d=identicon&r=PG&f=1", "display_name": "snicz", "link": "https://stackoverflow.com/users/8649015/snicz"}, "reply_to_user": {"reputation": 36, "user_id": 8830321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWbru.jpg?s=128&g=1", "display_name": "Mahmmoud Kassem", "link": "https://stackoverflow.com/users/8830321/mahmmoud-kassem"}, "edited": false, "score": 0, "creation_date": 1567885855, "post_id": 57823694, "comment_id": 102102316, "body": "Could you share the answer with me somehow?  maybe edit your post"}], "tags": [], "owner": {"reputation": 51, "user_id": 8649015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a82ea33689eccc243e5e3158d9d7f28?s=128&d=identicon&r=PG&f=1", "display_name": "snicz", "link": "https://stackoverflow.com/users/8649015/snicz"}, "is_accepted": false, "score": 0, "last_activity_date": 1567779080, "creation_date": 1567779080, "answer_id": 57823694, "question_id": 57796174, "link": "https://stackoverflow.com/questions/57796174/get-treeviewitem-from-treeview-in-wpf/57823694#57823694", "title": "Get TreeViewItem From TreeView in WPF", "body": "<p>Maybe this will help:\n<a href=\"https://stackoverflow.com/questions/11826272/find-a-wpf-element-inside-datatemplate-in-the-code-behind/11826541#11826541\">Find a WPF element inside DataTemplate in the code-behind</a></p>\n\n<p>or otherwise: \nIn order to find the item you could do something like this maybe:</p>\n\n<pre><code> public void SelectNodeById(TreeView Tree)\n        {\n            var item = findItemById(Tree, \"uid\");\n        }\n\n        private static object findItemById(TreeView Tree, string uid)\n        {\n            foreach (var item in Tree.Items)\n            {\n                //every item in your tree is a dockpanel\n                var d = item as DockPanel;\n\n                //the first item has a uid\n                if (d.Children.Count &gt; 0 &amp;&amp; d.Children[0].Uid == uid)\n                    return item;\n            }\n\n            return null;\n        }\n</code></pre>\n\n<p>In order to change the item's property <code>IsExpanded</code> to true, you should change it to  a <code>TreeViewItem</code>.\nThen you can do something like this:</p>\n\n<pre><code>var item = new TreeViewItem();\nitem.IsExpanded = true;\nitem.IsSelected = true;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 8830321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWbru.jpg?s=128&g=1", "display_name": "Mahmmoud Kassem", "link": "https://stackoverflow.com/users/8830321/mahmmoud-kassem"}, "is_accepted": true, "score": 0, "last_activity_date": 1567894119, "last_edit_date": 1567894119, "creation_date": 1567890812, "answer_id": 57837511, "question_id": 57796174, "link": "https://stackoverflow.com/questions/57796174/get-treeviewitem-from-treeview-in-wpf/57837511#57837511", "title": "Get TreeViewItem From TreeView in WPF", "body": "<p>This is full class code you can use this code : </p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Controls;\nusing System.Data;\nusing System.Windows.Media;\nusing System.Windows;\n\npublic string FilterString { get; set; } // Value searching\npublic string FilterColumn { get; set; } // column name\npublic string FilterColumnText { get; set; } // by this variable will display text\nSystem.Windows.Threading.DispatcherTimer tmr = new System.Windows.Threading.DispatcherTimer(); // by this timer will search about an item becouse for going to next item we need to stop sometime\nprivate int count = 0;\nprivate int i = 0;\n// will call to this method and adding treeview control to search about item\npublic void FindNode(TreeView tree = null)\n    {\n        tmr.Interval = new TimeSpan(0, 0, 0, 0, 1);\n        // will add count of objects  \n        count = FindVisualChildren&lt;DependencyObject&gt;(tree).ToList().Count;\n        tmr.Tick += (s, e) =&gt;\n        {\n            if (i &lt; count)\n            {\n                if (FindVisualChildren&lt;Grid&gt;(tree).ToList()[i] != null)\n                {\n                    Grid node = FindVisualChildren&lt;Grid&gt;(tree).ToList()[i];\n                    if (SelectNode(node))\n                    {\n                        // if we found the item will stoping the timer\n                        i = 0;\n                        count = 0;\n                        tmr.Stop();\n                    }\n                }\n                i += 1;\n            }\n            // will add new count to the variable after expand the items\n            count = FindVisualChildren&lt;Grid&gt;(tree).ToList().Count;\n        };\n        tmr.Start();\n    }\n// Search for an item\nbool SelectNode(DependencyObject node)\n    {\n        bool fo = false;\n        for (int i = 0; i &lt; (node as Grid).Children.Count; i++)\n        {\n            object obj = (node as Grid).Children[i];\n            if (obj.GetType() == typeof(Border))\n            {\n                TreeViewItem item = ((obj as Border).TemplatedParent as TreeViewItem);\n                if (item != null &amp;&amp; item is TreeViewItem)\n                {\n                    if (item.Items.Count &gt; 0)\n                    {\n                        item.IsExpanded = true;\n                    }\n                    var row = item.Header as DataRowView;\n                    if (row[FilterColumn].ToString() == FilterString)\n                    {\n                        item.IsSelected = true;\n                        BindParent(item);\n                        fo = true;\n                        break;\n                    }\n                    items.Add(item);\n                }\n            }\n        }\n        return fo;\n    }\n    public IEnumerable&lt;T&gt; FindVisualChildren&lt;T&gt;(DependencyObject depObj) where T : DependencyObject\n    {\n        if (depObj != null)\n        {\n            for (int i = 0; i &lt; VisualTreeHelper.GetChildrenCount(depObj); i++)\n            {\n                DependencyObject child = VisualTreeHelper.GetChild(depObj, i);\n\n                if (child != null &amp;&amp; child is T)\n                    yield return (T)child;\n\n                foreach (T childOfChild in FindVisualChildren&lt;T&gt;(child))\n                    yield return childOfChild;\n            }\n        }\n    }\n</code></pre>\n\n<p><strong>I am available in case I want to help</strong></p>\n"}], "owner": {"reputation": 36, "user_id": 8830321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWbru.jpg?s=128&g=1", "display_name": "Mahmmoud Kassem", "link": "https://stackoverflow.com/users/8830321/mahmmoud-kassem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 1, "accepted_answer_id": 57837511, "answer_count": 2, "score": 0, "last_activity_date": 1567894119, "creation_date": 1567634731, "last_edit_date": 1567782933, "question_id": 57796174, "link": "https://stackoverflow.com/questions/57796174/get-treeviewitem-from-treeview-in-wpf", "title": "Get TreeViewItem From TreeView in WPF", "body": "<p>I am having a problem getting the <code>TreeViewItem</code> from a <code>TreeView</code> with <code>HierarchicalDataTemplate</code>. I want to search for an item by value and set IsExpanded to True, then select it.</p>\n\n<p>I am using C# WPF with Visual Studio 2015 and Windows 10.</p>\n\n<p>XAML Code : </p>\n\n<pre><code>&lt;TreeView x:Name=\"TreeOres\" SelectedItemChanged=\"TreeOres_SelectedItemChanged\"  Background=\"#f9f9f9\" MinWidth=\"350\" Width=\"auto\" DockPanel.Dock=\"Left\" ItemsSource=\"{Binding}\"&gt;\n                &lt;TreeView.ItemTemplate&gt;\n                    &lt;HierarchicalDataTemplate DataType=\"local:Ores\" ItemsSource=\"{Binding Path=resParent_Code_FK}\"&gt;\n                        &lt;DockPanel LastChildFill=\"True\" HorizontalAlignment=\"Stretch\" Width=\"auto\" Margin=\"0,5,0,5\"&gt;\n                            &lt;Label Width=\"30\" Height=\"30\" DockPanel.Dock=\"Left\" Uid=\"{Binding Path=Ores_ParentCode_FK}\" Template=\"{StaticResource ImageTemp}\"/&gt;\n                            &lt;Label Content=\"{Binding Path=Ores_Name}\" Width=\"250\" DockPanel.Dock=\"Left\"/&gt;\n                            &lt;DockPanel.ContextMenu&gt;\n                                &lt;ContextMenu&gt;\n                                    &lt;MenuItem Header=\"\u0627\u0636\u0627\u0641\u0629 \u0645\u062c\u0644\u062f \u062c\u062f\u064a\u062f + \" x:Name=\"AddGroup\" Click=\"AddGroup_Click\" Uid=\"{Binding Path=Ores_Code}\" /&gt;\n                                    &lt;MenuItem Header=\"\u0627\u0636\u0627\u0641\u0629 \u0635\u0646\u0641 \u062c\u062f\u064a\u062f + \" x:Name=\"AddItem\" Click=\"AddItem_Click\" Uid=\"{Binding Path=Ores_Code}\" /&gt;\n                                &lt;/ContextMenu&gt;\n                            &lt;/DockPanel.ContextMenu&gt;\n                        &lt;/DockPanel&gt;\n                    &lt;/HierarchicalDataTemplate&gt;\n                &lt;/TreeView.ItemTemplate&gt;\n                &lt;TreeView.Resources&gt;\n                    &lt;LinearGradientBrush x:Key=\"{x:Static SystemColors.HighlightBrushKey}\" EndPoint=\"0,1\" StartPoint=\"0,0\"&gt;\n                        &lt;GradientStop Color=\"#FFD9F4FF\" Offset=\"0\"/&gt;\n                        &lt;GradientStop Color=\"#FF9BDDFB\" Offset=\"1\"/&gt;\n                    &lt;/LinearGradientBrush&gt;\n                    &lt;LinearGradientBrush x:Key=\"{x:Static SystemColors.ControlBrushKey}\" EndPoint=\"0,1\" StartPoint=\"0,0\"&gt;\n                        &lt;GradientStop Color=\"#FFEEEDED\" Offset=\"0\"/&gt;\n                        &lt;GradientStop Color=\"#FFDDDDDD\" Offset=\"1\"/&gt;\n                    &lt;/LinearGradientBrush&gt;\n                    &lt;SolidColorBrush x:Key=\"{x:Static SystemColors.HighlightTextBrushKey}\" Color=\"Black\" /&gt;\n                    &lt;SolidColorBrush x:Key=\"{x:Static SystemColors.ControlTextBrushKey}\" Color=\"Black\" /&gt;\n                    &lt;Style TargetType=\"{x:Type TreeViewItem}\"&gt;\n                        &lt;Setter Property=\"IsSelected\" Value=\"{Binding IsSelected, Mode=TwoWay}\" /&gt;\n                        &lt;Setter Property=\"IsExpanded\" Value=\"True\" /&gt;\n                    &lt;/Style&gt;\n                &lt;/TreeView.Resources&gt;\n                &lt;TreeView.ItemContainerStyle&gt;\n                    &lt;Style TargetType=\"{x:Type TreeViewItem}\"&gt;\n                        &lt;Setter Property=\"BorderThickness\" Value=\"1.5\"/&gt;\n                        &lt;Style.Triggers&gt;\n                            &lt;Trigger Property=\"IsSelected\" Value=\"True\"&gt;\n                                &lt;Setter Property=\"BorderBrush\" Value=\"#adc6e5\"/&gt;\n                            &lt;/Trigger&gt;\n                            &lt;Trigger Property=\"IsSelected\" Value=\"True\"&gt;\n                                &lt;Setter Property=\"FontWeight\" Value=\"Bold\" /&gt;\n                            &lt;/Trigger&gt;\n                            &lt;MultiTrigger&gt;\n                                &lt;MultiTrigger.Conditions&gt;\n                                    &lt;Condition Property=\"IsSelected\" Value=\"True\"/&gt;\n                                    &lt;Condition Property=\"IsSelectionActive\" Value=\"False\"/&gt;\n                                &lt;/MultiTrigger.Conditions&gt;\n                                &lt;Setter Property=\"BorderBrush\" Value=\"LightGray\"/&gt;\n                            &lt;/MultiTrigger&gt;\n                        &lt;/Style.Triggers&gt;\n                        &lt;Style.Resources&gt;\n                            &lt;Style TargetType=\"Border\"&gt;\n                                &lt;Setter Property=\"CornerRadius\" Value=\"1\"/&gt;\n                            &lt;/Style&gt;\n                        &lt;/Style.Resources&gt;\n                    &lt;/Style&gt;\n                &lt;/TreeView.ItemContainerStyle&gt;\n            &lt;/TreeView&gt;\n</code></pre>\n\n<p>and C# code</p>\n\n<pre><code>class ClassTreeView\n{\n    /// &lt;summary&gt;\n    /// Search in treeview by some value\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"FilterColumn\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"FilterString\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"FilterColumnText\"&gt;&lt;/param&gt;\n    /// /// &lt;param name=\"Result\"&gt;&lt;/param&gt;\n    /// \n    public string FilterString { get; set; }\n    public string FilterColumn { get; set; }\n    public string FilterColumnText { get; set; }\n    public object Result { get; set; }\n    public DataTable mtable { get; set; }\n\n    public void SelectNodeById(TreeView Tree)\n    {\n        for (int i = 0; i &lt; Tree.Items.Count; i++)\n        {\n            DataRowView row = Tree.Items[i] as DataRowView;\n            if (SearchInItem(row))\n            {\n                Tree.ItemsSource = null;\n                Tree.ItemsSource = mtable.DefaultView;\n            }\n        }\n    }\n    private bool SearchInItem(DataRowView item)\n    {\n        foreach (DataRowView obje in item.DataView)\n        {\n            if (SeaechNode(obje))\n            {\n                break;\n            }\n            SearchInItem(obje);\n        }\n        return false;\n    }\n    private bool SeaechNode(DataRowView row)\n    {\n        foreach (DataRowView dr in row.DataView)\n        {\n            dr.DataView.RowFilter = FilterColumn + \"=\" + FilterString;\n            if(dr != null)\n            {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "httprequest"], "comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1567635644, "post_id": 57796154, "comment_id": 102025565, "body": "As far as I can tell, it&#39;s waiting for the request to complete. Are you sure that the remote host has completed the request in the time you let it run with the console only showing <code>******************</code>?"}, {"owner": {"reputation": 1325, "user_id": 4139780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A3v6x.gif?s=128&g=1", "display_name": "TimChang", "link": "https://stackoverflow.com/users/4139780/timchang"}, "edited": false, "score": 0, "creation_date": 1567650297, "post_id": 57796154, "comment_id": 102028110, "body": "<a href=\"https://docs.unity3d.com/ScriptReference/Networking.UnityWebRequest.Post.html\" rel=\"nofollow noreferrer\">docs.unity3d.com/ScriptReference/&hellip;</a> <code>UnityWebRequest.Post</code> try that ?"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1567667796, "post_id": 57796154, "comment_id": 102032725, "body": "Why don&#39;t you wait with switching the scene until the upload is done?"}], "answers": [{"tags": [], "owner": {"reputation": 6870, "user_id": 6196568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cHprk.png?s=128&g=1", "display_name": "shingo", "link": "https://stackoverflow.com/users/6196568/shingo"}, "is_accepted": false, "score": 1, "last_activity_date": 1567652186, "creation_date": 1567652186, "answer_id": 57797848, "question_id": 57796154, "link": "https://stackoverflow.com/questions/57796154/in-unity-c-my-values-arent-stored-anymore-after-i-start-an-ienumerator-that-s/57797848#57797848", "title": "In Unity/C#, my values aren&#39;t stored anymore after I start an IEnumerator that sends HTTP request", "body": "<p>In the end of the document <a href=\"https://docs.unity3d.com/Manual/Coroutines.html\" rel=\"nofollow noreferrer\">https://docs.unity3d.com/Manual/Coroutines.html</a></p>\n\n<p>It says:</p>\n\n<blockquote>\n  <p>Coroutines are not stopped when a MonoBehaviour is disabled, but only <strong>when it is definitely destroyed</strong>.</p>\n</blockquote>\n\n<p>When you change the scene, the gameobject may be destroyed, so the coroutine stops.</p>\n\n<p>You can start the coroutine on a global gameobject (Object.DontDestroyOnLoad), or change the scene after it finishes.</p>\n"}, {"tags": [], "owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "is_accepted": false, "score": 1, "last_activity_date": 1567668220, "creation_date": 1567668220, "answer_id": 57800372, "question_id": 57796154, "link": "https://stackoverflow.com/questions/57796154/in-unity-c-my-values-arent-stored-anymore-after-i-start-an-ienumerator-that-s/57800372#57800372", "title": "In Unity/C#, my values aren&#39;t stored anymore after I start an IEnumerator that sends HTTP request", "body": "<p>Extending on <a href=\"https://stackoverflow.com/a/57797848/7111561\">shingo's answer</a> </p>\n\n<blockquote>\n  <p>If so, I guess I need to make the call after the scene switches or set a timer.</p>\n</blockquote>\n\n<p>You could indeed also simply wait until the upload is done and switch your scene after that. E.g. using </p>\n\n<pre><code>IEnumerator Post(string url, string bodyJsonString, Action whenDone)\n{\n    ...\n\n    whenDone?.Invoke();\n}\n</code></pre>\n\n<p>And now you can define a callback that executed after the upload e.g. as lambda expression like</p>\n\n<pre><code>StartCoroutine(Post(currURI, bodyJsonString, () =&gt;\n    {\n        SceneManager.LoadScene(XY);\n    }\n));\n</code></pre>\n\n<p>Or as method call like e.g.</p>\n\n<pre><code>StartCoroutine(Post(currURI, bodyJsonString, LoadTheScene));\n\n...\n\nprivate void LoadTheScene()\n{\n    SceneManager.LoadScene(XY);\n}\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 11023277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10649909c58ea7603bbd18c4fab94088?s=128&d=identicon&r=PG&f=1", "display_name": "KaneHarry729", "link": "https://stackoverflow.com/users/11023277/kaneharry729"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1567709493, "creation_date": 1567634577, "last_edit_date": 1567709493, "question_id": 57796154, "link": "https://stackoverflow.com/questions/57796154/in-unity-c-my-values-arent-stored-anymore-after-i-start-an-ienumerator-that-s", "title": "In Unity/C#, my values aren&#39;t stored anymore after I start an IEnumerator that sends HTTP request", "body": "<p>Basically, I have a method that stores certain static variables when I click a button. This button calls a HTTP request as well as changes a scene. </p>\n\n<p>The button calls a coroutine as so <code>StartCoroutine(Post(currURI, bodyJsonString));</code>. The Post method is an IEnumerator as so </p>\n\n<pre><code>IEnumerator Post(string url, string bodyJsonString)\n    {\n        var request = new UnityWebRequest(url, \"POST\");\n        byte[] bodyRaw = Encoding.UTF8.GetBytes(bodyJsonString);\n        request.uploadHandler = (UploadHandler)new UploadHandlerRaw(bodyRaw);\n        request.downloadHandler = (DownloadHandler)new DownloadHandlerBuffer();\n        request.SetRequestHeader(\"Content-Type\", \"application/json\");\n\n        Debug.Log(\"**************************************\");\n\n        yield return request.SendWebRequest();\n\n        Debug.Log(\"Status Code: \" + request.responseCode);\n        Debug.Log(\"Status Code: \" + request.downloadHandler.text);\n\n        string myResponse = request.downloadHandler.text;\n\n        var welcome = Welcome.FromJson(myResponse);\n        Debug.Log(\"welcome \" + welcome);\n        CurrPower.numberColorBombs = welcome.Marbles.Count(n =&gt; n.Nickname.ToLower() == \"Corkscrew Swirl\".ToLower());\n        CurrPower.myPowerups[0] = CurrPower.numberColorBombs;\n\n        Debug.Log(\"power \" + CurrPower.myPowerups[0]);\n    }\n</code></pre>\n\n<p>All I see in the console is <code>******************</code> and it doesn't reach the other lines logs as the request isn't processed. Perhaps this has to do with the scene switching? If so, I guess I need to make the call after the scene switches or set a timer.</p>\n\n<p>UPDATE: I solved this by putting the request into another function, so it has time to wait before changing scenes. Now the problem is getting it to successfully send on Android. I will try to use <code>WWWForm</code> as @TimChang suggested</p>\n"}, {"tags": ["c#", "asp.net-core", "docusignapi"], "comments": [{"owner": {"reputation": 42798, "user_id": 64904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d18e711c1855012728c3a5782cfcc3ad?s=128&d=identicon&r=PG", "display_name": "Larry K", "link": "https://stackoverflow.com/users/64904/larry-k"}, "edited": false, "score": 0, "creation_date": 1567745615, "post_id": 57796122, "comment_id": 102062654, "body": "Welcome to StackOverflow! PLEASE check/accept the best answer to your question! PLEASE upvote all useful answers you see, including those to others&#39; questions. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 7023, "user_id": 3255871, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gzaC9.jpg?s=128&g=1", "display_name": "Inbar Gazit", "link": "https://stackoverflow.com/users/3255871/inbar-gazit"}, "is_accepted": false, "score": 1, "last_activity_date": 1567635368, "creation_date": 1567635368, "answer_id": 57796261, "question_id": 57796122, "link": "https://stackoverflow.com/questions/57796122/after-authentication-directed-to-developer-sandbox-and-not-to-embedded-signing/57796261#57796261", "title": "After authentication directed to developer sandbox and not to embedded signing?", "body": "<p>I suggest to gather additional information:</p>\n\n<ul>\n<li>Fiddler logs can show the various redirects and which urls are called</li>\n<li>DocuSign API logs can show any APIs being called and any errors </li>\n<li>Using VS Debugger, put a breakpoint inside MakeRecipientViewRequest(). see\nif you get there, and if it follows to completion and what url is coming back from API. Try this url yourself to see if it works.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 11767309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a027e1375ceee367bbfcaa69e8f2a4d0?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/11767309/juan"}, "edited": false, "score": 0, "creation_date": 1567690909, "post_id": 57800966, "comment_id": 102045273, "body": "On the login, it says &quot;There are no redirect URIs registered with DocuSign&quot;, so I am guessing this is the problem you mentioned. Can I use localhost for the redirect URI, or do I need make one up?"}, {"owner": {"reputation": 45, "user_id": 11767309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a027e1375ceee367bbfcaa69e8f2a4d0?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/11767309/juan"}, "edited": false, "score": 0, "creation_date": 1567691671, "post_id": 57800966, "comment_id": 102045789, "body": "I am unfamiliar with Redirect URIs as am not sure how to setup a custom one in my app if I need to but it looks like I can use <a href=\"http://localhost:8080/ds/callback\" rel=\"nofollow noreferrer\">localhost:8080/ds/callback</a> according to the readme."}, {"owner": {"reputation": 45, "user_id": 11767309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a027e1375ceee367bbfcaa69e8f2a4d0?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/11767309/juan"}, "edited": false, "score": 0, "creation_date": 1567693949, "post_id": 57800966, "comment_id": 102047139, "body": "I have requested the the Redirect URI (localhost:8080/ds/callback) to be added, but now I get &quot;The redirect URI is not registered properly with DocuSign&quot;."}, {"owner": {"reputation": 42798, "user_id": 64904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d18e711c1855012728c3a5782cfcc3ad?s=128&d=identicon&r=PG", "display_name": "Larry K", "link": "https://stackoverflow.com/users/64904/larry-k"}, "reply_to_user": {"reputation": 45, "user_id": 11767309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a027e1375ceee367bbfcaa69e8f2a4d0?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/11767309/juan"}, "edited": false, "score": 0, "creation_date": 1567745560, "post_id": 57800966, "comment_id": 102062645, "body": "See my updated answer. You need to add the <code>http:&#47;&#47;</code> localhost is fine."}], "tags": [], "owner": {"reputation": 42798, "user_id": 64904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d18e711c1855012728c3a5782cfcc3ad?s=128&d=identicon&r=PG", "display_name": "Larry K", "link": "https://stackoverflow.com/users/64904/larry-k"}, "is_accepted": true, "score": 0, "last_activity_date": 1567745528, "last_edit_date": 1567745528, "creation_date": 1567670449, "answer_id": 57800966, "question_id": 57796122, "link": "https://stackoverflow.com/questions/57796122/after-authentication-directed-to-developer-sandbox-and-not-to-embedded-signing/57800966#57800966", "title": "After authentication directed to developer sandbox and not to embedded signing?", "body": "<p>There are two different \"returns\" involved here.</p>\n\n<ol>\n<li>During the OAuth flow: After the user authenticates (and consents to using your app, a one time process), the DocuSign authentication server should redirect to your app's OAuth url. Your code (or your framework's code) should then exchange the authorization code provided as a query parameter for an access token.</li>\n</ol>\n\n<p><strong>I think this is your issue.</strong></p>\n\n<p>Check that you have the <code>redirect uri</code> set up in the DocuSign Admin tool for your integration key.</p>\n\n<p><strong>Added:</strong> Set the redirect URI <em>for your application's Integration Key</em> from the Admin tool, using the API and Keys screen. (See the navigation screenshot, below.)</p>\n\n<p><a href=\"https://i.stack.imgur.com/GHsOH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GHsOH.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Important:</strong> You must set the Redirect URI to be exactly the same as what your application uses. Eg, <code>http://localhost:8080/ds/callback</code> You can use http or https. localhost is fine.</p>\n\n<p>Also check what redirect uri is being used when your app starts the oauth process with DocuSign. (Visible on the url sent to DocuSign to start OAuth)</p>\n\n<p>See the <a href=\"https://github.com/docusign/eg-03-csharp-auth-code-grant-core#prerequisites\" rel=\"nofollow noreferrer\">Prerequisites section of the readme</a> for the return URI setting.</p>\n\n<p>The signing ceremony \"return\"--</p>\n\n<ol start=\"2\">\n<li>After you obtain the access token and create the envelope, you use the recipient view API method to obtain a URL for the signing ceremony. Here, you provide your return url which is used after the user completes the signing ceremony.</li>\n</ol>\n\n<p>To debug this, start by <a href=\"https://support.docusign.com/en/guides/ndse-user-guide-api-request-logging\" rel=\"nofollow noreferrer\">downloading the request logs</a> from DocuSign to assure that you're specifying the return url as you expect.</p>\n"}], "owner": {"reputation": 45, "user_id": 11767309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a027e1375ceee367bbfcaa69e8f2a4d0?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/11767309/juan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "accepted_answer_id": 57800966, "answer_count": 2, "score": 0, "last_activity_date": 1567745528, "creation_date": 1567634389, "question_id": 57796122, "link": "https://stackoverflow.com/questions/57796122/after-authentication-directed-to-developer-sandbox-and-not-to-embedded-signing", "title": "After authentication directed to developer sandbox and not to embedded signing?", "body": "<p>I am using a code example for Authorization Code Grant with DocuSign, and the authentication seems to work okay, but the code never reaches the actual creation of an envelope for signage. After authentication I get directed to the developer sandbox, am assuming this not correct because it should send me to Eg001EmbeddedSigning Controller. Am I missing something?</p>\n\n<p>I have tried adding the integrator key and secret which I do have. I've tried navigating to Eg001EmbeddingSigning/Create from my localhost and it cannot find the page.</p>\n\n<p>View I expect to occur after authentication:</p>\n\n<pre><code>@model DocuSign.Managers.ViewModels.SigningViewModel\n\n&lt;h4&gt;DocuSign Embedded Signing Ceremony&lt;/h4&gt;\n&lt;p&gt;This example sends an envelope, and then uses an embedded signing ceremony for the first signer.&lt;/p&gt;\n&lt;p&gt;\n    Embedded signing provides a smoother user experience for the signer: the DocuSign signing ceremony is initiated from\n    your website.\n&lt;/p&gt;\n@if (ViewBag.showDoc == true)\n{\n    &lt;p&gt;&lt;a target='_blank' href='@ViewBag.documentation'&gt;Documentation&lt;/a&gt; about this example.&lt;/p&gt;\n}\n\n&lt;form class=\"eg\" action=\"\" method=\"post\" data-busy=\"form\"&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"signerEmail\"&gt;Signer Email&lt;/label&gt;\n        &lt;input type=\"email\" class=\"form-control\" id=\"signerEmail\" name=\"signerEmail\"\n               aria-describedby=\"emailHelp\" placeholder=\"pat@example.com\" required\n               value=\"@ViewBag.Locals.DsConfig.SignerEmail\"&gt;\n        &lt;small id=\"emailHelp\" class=\"form-text text-muted\"&gt;We'll never share your email with anyone else.&lt;/small&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"signerName\"&gt;Signer Name&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"signerName\" placeholder=\"Pat Johnson\" name=\"signerName\"\n               value=\"@ViewBag.Locals.DsConfig.SignerName\" required&gt;\n    &lt;/div&gt;\n    &lt;input type=\"hidden\" name=\"_csrf\" value=\"@ViewBag.csrfToken\"&gt;\n    &lt;button type=\"submit\" class=\"btn btn-primary\"&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Index Page:</p>\n\n<pre><code>@{\n    var locals = ViewData[\"locals\"] as Locals;//ViewBag.Locals;\n    bool showDoc;\n    Boolean.TryParse(ViewData[\"showDoc\"].ToString(), out showDoc);//ViewBag.ShowDoc;\n}\n@if (locals.User == null)\n{\n    &lt;!-- IF not signed in --&gt;\n    &lt;div class=\"jumbotron\"&gt;\n        &lt;h1 class=\"display-4\"&gt;Welcome!&lt;/h1&gt;\n        &lt;p class=\"Xlead\"&gt;\n           DocuSign with\n            OAuth Authorization Code Grant.\n        &lt;/p&gt;\n    &lt;/div&gt;\n}\n\n&lt;div id=\"index-page\"&gt;\n    &lt;h2&gt;Welcome&lt;/h2&gt;\n    &lt;p&gt;This launcher both demonstrates use of the OAuth Authorization Code Grant flow and includes multiple usage examples for the DocuSign eSignature REST API.&lt;/p&gt;\n\n    @if (ViewBag.showDoc)\n    {\n        &lt;p&gt;&lt;a target='_blank' href='@ViewBag.documentation'&gt;Documentation&lt;/a&gt; on using OAuth Authorization Code Grant from a C# .NET Core MVC application.&lt;/p&gt;\n    }\n\n    &lt;h2&gt;Basic Examples&lt;/h2&gt;\n\n    &lt;h4 id=\"example001\"&gt;1. &lt;a href=\"eg001\"&gt;Embedded Signing Ceremony&lt;/a&gt;&lt;/h4&gt;\n    &lt;p&gt;\n        This example sends an envelope, and then uses an embedded signing ceremony for the first signer.\n        With embedded signing, the DocuSign signing ceremony is initiated from your website.\n    &lt;/p&gt;\n</code></pre>\n\n<p>DocuSign Controller:</p>\n\n<pre><code>namespace DocuSign.Controllers\n{\n\n    [Route(\"ds/[action]\")]\n    public class AccountController : Controller\n    {\n        [HttpGet]\n        public IActionResult Login(string returnUrl = \"/\")\n        {\n            return Challenge(new AuthenticationProperties() { RedirectUri = returnUrl });\n        }\n\n        public IActionResult MustAuthenticate()\n        {\n            return View();\n        }\n\n        public async System.Threading.Tasks.Task&lt;IActionResult&gt; logout()\n        {\n            await AuthenticationHttpContextExtensions.SignOutAsync(HttpContext);\n            return LocalRedirect(\"/\");\n        }\n    }\n</code></pre>\n\n<p>Eg001EmbeddedSigningController:</p>\n\n<pre><code>namespace DocuSign.Views\n{\n    [Route(\"eg001\")]\n    public class Eg001EmbeddedSigningController : EgController\n    {\n        private string dsPingUrl;\n        private string signerClientId = \"1000\";\n        private string dsReturnUrl;\n\n        private readonly DocuSignManager _docuSignManager;\n\n        public Eg001EmbeddedSigningController(DSConfiguration config, IRequestItemsService requestItemsService, DocuSignManager docuSignManager)\n            : base(config, requestItemsService)\n        {            \n            dsPingUrl = config.AppUrl + \"/\";\n            dsReturnUrl = config.AppUrl + \"/dsReturn\";           \n            ViewBag.title = \"Embedded Signing Ceremony\";\n            _docuSignManager = docuSignManager;\n        }\n\n        // ***DS.snippet.0.start\n        private string DoWork(string signerEmail, string signerName,\n            string accessToken, string basePath, string accountId)\n        {\n            // Data for this method\n            // signerEmail \n            // signerName\n            // accessToken\n            // basePath\n            // accountId\n\n            // dsPingUrl -- class global\n            // signerClientId -- class global\n            // dsReturnUrl -- class global\n\n            // Step 1. Create the envelope definition\n            EnvelopeDefinition envelope = MakeEnvelope(signerEmail, signerName);\n\n            // Step 2. Call DocuSign to create the envelope                   \n            var config = new Configuration(new ApiClient(basePath));\n            config.AddDefaultHeader(\"Authorization\", \"Bearer \" + accessToken);\n            EnvelopesApi envelopesApi = new EnvelopesApi(config);\n            EnvelopeSummary results = envelopesApi.CreateEnvelope(accountId, envelope);\n            string envelopeId = results.EnvelopeId;\n\n            // Save for future use within the example launcher\n            RequestItemsService.EnvelopeId = envelopeId;\n\n            // Step 3. create the recipient view, the Signing Ceremony\n            RecipientViewRequest viewRequest = MakeRecipientViewRequest(signerEmail, signerName);\n            // call the CreateRecipientView API\n            ViewUrl results1 = envelopesApi.CreateRecipientView(accountId, envelopeId, viewRequest);\n\n            // Step 4. Redirect the user to the Signing Ceremony\n            // Don't use an iFrame!\n            // State can be stored/recovered using the framework's session or a\n            // query parameter on the returnUrl (see the makeRecipientViewRequest method)\n            string redirectUrl = results1.Url;\n            return redirectUrl;\n        }\n\n        private RecipientViewRequest MakeRecipientViewRequest(string signerEmail, string signerName)\n        {\n            // Data for this method\n            // signerEmail \n            // signerName\n            // dsPingUrl -- class global\n            // signerClientId -- class global\n            // dsReturnUrl -- class global\n\n\n            RecipientViewRequest viewRequest = new RecipientViewRequest();\n            // Set the url where you want the recipient to go once they are done signing\n            // should typically be a callback route somewhere in your app.\n            // The query parameter is included as an example of how\n            // to save/recover state information during the redirect to\n            // the DocuSign signing ceremony. It's usually better to use\n            // the session mechanism of your web framework. Query parameters\n            // can be changed/spoofed very easily.\n            viewRequest.ReturnUrl = dsReturnUrl + \"?state=123\";\n\n            // How has your app authenticated the user? In addition to your app's\n            // authentication, you can include authenticate steps from DocuSign.\n            // Eg, SMS authentication\n            viewRequest.AuthenticationMethod = \"none\";\n\n\n\n\n            // Recipient information must match embedded recipient info\n            // we used to create the envelope.\n            viewRequest.Email = signerEmail;\n            viewRequest.UserName = signerName;\n            viewRequest.ClientUserId = signerClientId;\n\n            // DocuSign recommends that you redirect to DocuSign for the\n            // Signing Ceremony. There are multiple ways to save state.\n            // To maintain your application's session, use the pingUrl\n            // parameter. It causes the DocuSign Signing Ceremony web page\n            // (not the DocuSign server) to send pings via AJAX to your\n            // app,\n            viewRequest.PingFrequency = \"600\"; // seconds\n                                               // NOTE: The pings will only be sent if the pingUrl is an https address\n            viewRequest.PingUrl = dsPingUrl; // optional setting\n\n            return viewRequest;\n        }\n\n        private EnvelopeDefinition MakeEnvelope(string signerEmail, string signerName)\n        {\n            // Data for this method\n            // signerEmail \n            // signerName\n            // signerClientId -- class global\n            // Config.docPdf\n\n\n            //byte[] buffer = System.IO.File.ReadAllBytes(Config.docPdf);\n\n            byte[] buffer = System.IO.File.ReadAllBytes(\"C:\\\\Users\\\\username\\\\source\\\\repos\\\\DocuSign\\\\DocuSign\\\\Test 2.pdf\");\n\n            EnvelopeDefinition envelopeDefinition = new EnvelopeDefinition();\n            envelopeDefinition.EmailSubject = \"Please sign this document\";\n            Document doc1 = new Document();\n\n            String doc1b64 = Convert.ToBase64String(buffer);\n\n            doc1.DocumentBase64 = doc1b64;\n            doc1.Name = \"Lorem Ipsum\"; // can be different from actual file name\n            doc1.FileExtension = \"pdf\";\n            doc1.DocumentId = \"3\";\n\n            // The order in the docs array determines the order in the envelope\n            envelopeDefinition.Documents = new List&lt;Document&gt; { doc1 };\n\n            var user = _docuSignManager.GetUserInfo();\n\n            // Create a signer recipient to sign the document, identified by name and email\n            // We set the clientUserId to enable embedded signing for the recipient\n            // We're setting the parameters via the object creation\n            Signer signer1 = new Signer {\n                Email = user.Email,\n                Name = user.UserName,\n                ClientUserId = signerClientId,\n                RecipientId = \"1\"\n            };\n\n            var position = _docuSignManager.GetPositionData(); //TODO Add to get by username.\n\n            //Get the field location.\n            //var field =_docuSignManager.GetField();\n\n            var fieldInfo = _docuSignManager.GetFieldByPosition(position);\n\n\n\n            // Create signHere fields (also known as tabs) on the documents,\n            // We're using anchor (autoPlace) positioning\n            //\n            // The DocuSign platform seaches throughout your envelope's\n            // documents for matching anchor strings.\n            SignHere signHere1 = new SignHere\n            {\n                DocumentId = \"1\",\n                PageNumber = fieldInfo.PageNumber.ToString(),\n                RecipientId = \"1\",\n                TabLabel = position.PositionName,\n                XPosition = fieldInfo.XOffset.ToString(),\n                YPosition = fieldInfo.YOffset.ToString()\n            };\n            // Tabs are set per recipient / signer\n            Tabs signer1Tabs = new Tabs\n            {\n                SignHereTabs = new List&lt;SignHere&gt; { signHere1 }\n            };\n            signer1.Tabs = signer1Tabs;\n\n            // Add the recipient to the envelope object\n            Recipients recipients = new Recipients\n            {\n                Signers = new List&lt;Signer&gt; { signer1 }\n            };\n            envelopeDefinition.Recipients = recipients;\n\n            // Request that the envelope be sent by setting |status| to \"sent\".\n            // To request that the envelope be created as a draft, set to \"created\"\n            envelopeDefinition.Status = \"sent\";\n\n            return envelopeDefinition;\n        }\n        // ***DS.snippet.0.end\n\n\n        public override string EgName =&gt; \"eg001\";\n\n        [HttpPost]\n        public IActionResult Create(SigningViewModel model)\n        {\n            // Data for this method\n            // signerEmail \n            // signerName\n            // dsPingUrl -- class global\n            // signerClientId -- class global\n            // dsReturnUrl -- class global\n            string accessToken = RequestItemsService.User.AccessToken;\n            string basePath = RequestItemsService.Session.BasePath + \"/restapi\";\n            string accountId = RequestItemsService.Session.AccountId;\n\n            // Check the token with minimal buffer time.\n            bool tokenOk = CheckToken(3);\n            if (!tokenOk)\n            {\n                // We could store the parameters of the requested operation \n                // so it could be restarted automatically.\n                // But since it should be rare to have a token issue here,\n                // we'll make the user re-enter the form data after \n                // authentication.\n                RequestItemsService.EgName = EgName;\n                return Redirect(\"/ds/mustAuthenticate\");\n            }\n\n            string redirectUrl = DoWork(model.Email, model.Name, accessToken, basePath, accountId);\n            // Redirect the user to the Signing Ceremony\n            return Redirect(redirectUrl);\n        }\n    }\n}\n</code></pre>\n\n<p>I expect after authentication to get sent to the document for signing within the browser.</p>\n"}, {"tags": ["c#", "serial-port"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1567635432, "post_id": 57796090, "comment_id": 102025525, "body": "Talking about &quot;real time&quot; is not sensible, your user&#39;s eyes are not close to being capable of reading text at a rate that a serial port can spit out.  This does go wrong, pretty quickly, at some point it takes the text box more time to repaint itself than it takes you to poke it with more data.  You <i>must</i> throw away old text.  Just keep in mind that this is not a useful UI feature for a high-speed serial port connection, you can&#39;t fix the user&#39;s eyes.  Focus on actually using the data instead of just dumping it into a textbox.  A typical getting-started problem."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1567637878, "post_id": 57796090, "comment_id": 102026032, "body": "That empty catch block is going to get you in trouble. At a minimum, at least log something. By catching the exception and simply throwing it away you are hindering your ability to debug your code."}], "answers": [{"comments": [{"owner": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "edited": false, "score": 0, "creation_date": 1567645571, "post_id": 57796205, "comment_id": 102027389, "body": "I would also suggest not to Invoke it.   But instead read all the bytes in one go and put them in a thread safe queue for something else to handle."}, {"owner": {"reputation": 108835, "user_id": 15541, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/515ca9736a9a8ce65e58af764ccddf46?s=128&d=identicon&r=PG", "display_name": "leppie", "link": "https://stackoverflow.com/users/15541/leppie"}, "reply_to_user": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "edited": false, "score": 0, "creation_date": 1567666032, "post_id": 57796205, "comment_id": 102031943, "body": "@KeithNicholas it is a winform, I dont think there is any other option to prevent cross-threading on the UI"}, {"owner": {"reputation": 1, "user_id": 12016396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32f2e19d73c42ea7b5cbbc61d839d5f4?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Paulo Serra", "link": "https://stackoverflow.com/users/12016396/jose-paulo-serra"}, "edited": false, "score": 0, "creation_date": 1567686582, "post_id": 57796205, "comment_id": 102042679, "body": "@bwing Thanks for the info on  &quot;BytesToRead &quot;. It worked perfectly."}, {"owner": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "reply_to_user": {"reputation": 108835, "user_id": 15541, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/515ca9736a9a8ce65e58af764ccddf46?s=128&d=identicon&r=PG", "display_name": "leppie", "link": "https://stackoverflow.com/users/15541/leppie"}, "edited": false, "score": 0, "creation_date": 1567718758, "post_id": 57796205, "comment_id": 102057613, "body": "@leppie  what I meant is the Invoke will block by the other thread, so if your UI gets busy through any other means you can still be left with a data loss problem.  Far better to use a queue system in your serial handler, then you can have a background thread that takes the raw data and dispatches it to your UI thread"}, {"owner": {"reputation": 1548, "user_id": 2009197, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kzFYk.png?s=128&g=1", "display_name": "Baddack", "link": "https://stackoverflow.com/users/2009197/baddack"}, "edited": false, "score": 0, "creation_date": 1568061779, "post_id": 57796205, "comment_id": 102148113, "body": "I&#39;d recommend using <code>BeginInvoke</code>.  If you close the serialport and data comes through the <code>DataReceived</code> event, it could lock up."}], "tags": [], "owner": {"reputation": 662, "user_id": 3084003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/032a4079989b795c9cade5b457044962?s=128&d=identicon&r=PG&f=1", "display_name": "bwing", "link": "https://stackoverflow.com/users/3084003/bwing"}, "is_accepted": false, "score": 1, "last_activity_date": 1567634909, "creation_date": 1567634909, "answer_id": 57796205, "question_id": 57796090, "link": "https://stackoverflow.com/questions/57796090/read-a-serialport-in-real-time/57796205#57796205", "title": "Read a serialport in real time", "body": "<p>The issue is likely that you're not handling all the data in the receive buffer. You're only extracting one line of the receive buffer even though there may be multiple lines waiting to be processed. You could try changing your handler to something like this:</p>\n\n<pre><code>    private void serialPort1_DataReceived(object sender, SerialDataReceivedEventArgs e)\n    {\n        try\n        {\n            while (serialPort1.BytesToRead &gt; 0)\n            {\n                DataIn = serialPort1.ReadLine();\n                this.Invoke(new EventHandler(MostraDados));\n            }\n        }\n        catch (Exception ex)\n        { }\n    }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12016396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32f2e19d73c42ea7b5cbbc61d839d5f4?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Paulo Serra", "link": "https://stackoverflow.com/users/12016396/jose-paulo-serra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567668908, "creation_date": 1567634162, "last_edit_date": 1567668908, "question_id": 57796090, "link": "https://stackoverflow.com/questions/57796090/read-a-serialport-in-real-time", "title": "Read a serialport in real time", "body": "<p>I am trying to perform a control where I receive information sent by Arduino. </p>\n\n<p>This information is of type string and format VX 1.987 or VY 0.123 and are sent at high speed. After they are filtered and treated, they update the textbox in my program, and in this way what I see in the TextBox is the last information received.</p>\n\n<p>What happens with my code is that at a certain point, for example, were sent 1000 lines by the Arduino, my program will update up to 600 and then stop showing the updates. I know that in the receive buffer are the other 400 rows, but they were not shown.\nSummarizing how do I make memo time be receiving the information by serial and reading and putting in the textbox? Could this be a processing time issue? How to solve?</p>\n\n<pre><code>namespace ControleCaseiro\n{\n    private void Form1_Load(object sender, EventArgs e)\n    {\n         serialPort1.DataReceived += new    SerialDataReceivedEventHandler(serialPort1_DataReceived);\n    } \n\n    private void serialPort1_DataReceived(object sender, SerialDataReceivedEventArgs e)\n        {\n            try\n            {                   \n                    DataIn = serialPort1.ReadLine();\n                    this.Invoke(new EventHandler(MostraDados));                \n            }\n            catch(Exception ex)\n            { }\n        }\n\n     private void MostraDados(object sender, EventArgs e)\n      {\n        switch (DataIn)\n            {\n                case \"19\\r\":\n                    textcontrole.Text = \"XOFF\";\n                    break;\n                case \"17\\r\":\n                     textcontrole.Text = \"XON\";\n                    if (bot\u00e3oEnviaGcode)\n                    {\n                        LinhaArquivo++;\n                        EnviaGcode();\n                    }\n                    break;\n                default:\n                    FiltroDadosRecebidos(DataIn);                 \n                    break;\n            }      \n      }\n\n    private void FiltroDadosRecebidos(string valorRecebido)\n     {        \n        string eixo=\"\";\n        int tamanho=0;\n        string valorEixoAtual=\"\";\n        if (valorRecebido.Length &gt; 1)\n            {               \n                    tamanho = valorRecebido.Length;           \n                     eixo = valorRecebido.Substring(0, 2);                   \n            switch (eixo)\n               {                             \n                  case \"VX\":\n                              valorEixoAtual = valorRecebido.Substring(2, tamanho - 3);           \n                              txtPosAtualX.Text=valorEixoAtual;\n                              break;\n                  case \"VY\":\n                              valorEixoAtual = valorRecebido.Substring(2, tamanho - 3);\n                              txtPosAtualY.Text=valorEixoAtual;\n                              break;\n                  case \"VZ\":\n                              valorEixoAtual = valorRecebido.Substring(2, tamanho - 3);\n                              txtPosAtualZ.Text=valorEixoAtual;\n                              break;\n                   default :\n                              DadosRecebidos.Items.Add(DataIn);// se n\u00e3o for dados referentes aos eixos, vai mostrar na listbox \u201cDadosRecebidos\u201d\n                              break;\n               }\n\n            }                     \n\n        }\n    }\n</code></pre>\n\n<p>As I have already described in the beginning, what it is that the Arduino is sending the information and after a while, everything to and the information is not shown in the TextBox. What it looks like is that while OA SerialPort is receiving data, the event  \"SerialDataReceivedEventArgs \" causes the program to show the information, when it is out of receive, no longer shows and the information is accumulated in the serialport buffer.</p>\n"}, {"tags": ["c#", "httpcontext", "url-parameters"], "comments": [{"owner": {"reputation": 2088, "user_id": 1074514, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/l7UJP.jpg?s=128&g=1", "display_name": "Dessus", "link": "https://stackoverflow.com/users/1074514/dessus"}, "edited": false, "score": 0, "creation_date": 1567634165, "post_id": 57796060, "comment_id": 102025252, "body": "Are you wanting it as &quot;Key-Value&quot; because you want to iterate all params? They are currently key value, in that you feed in the key of CustomerId and get back the value."}, {"owner": {"reputation": 4126, "user_id": 390122, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6f9494c096977b56cd5c808f2a52bcf?s=128&d=identicon&r=PG", "display_name": "AlwaysLearning", "link": "https://stackoverflow.com/users/390122/alwayslearning"}, "edited": false, "score": 0, "creation_date": 1567634462, "post_id": 57796060, "comment_id": 102025323, "body": "The Item[String] collection is a combination of QueryString, Form, Cookies and ServerVariables collections. I think OP is just looking for the QueryString collection which, strangely, doesn&#39;t seem to be exposed as a NameValueCollection like the others."}, {"owner": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "reply_to_user": {"reputation": 4126, "user_id": 390122, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6f9494c096977b56cd5c808f2a52bcf?s=128&d=identicon&r=PG", "display_name": "AlwaysLearning", "link": "https://stackoverflow.com/users/390122/alwayslearning"}, "edited": false, "score": 0, "creation_date": 1567634519, "post_id": 57796060, "comment_id": 102025332, "body": "@AlwaysLearning actually it is.  It&#39;s the QueryString property."}, {"owner": {"reputation": 4126, "user_id": 390122, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6f9494c096977b56cd5c808f2a52bcf?s=128&d=identicon&r=PG", "display_name": "AlwaysLearning", "link": "https://stackoverflow.com/users/390122/alwayslearning"}, "reply_to_user": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "edited": false, "score": 0, "creation_date": 1567634594, "post_id": 57796060, "comment_id": 102025346, "body": "@Xipooo ... which is a String property, not a NameValueCollection."}, {"owner": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "reply_to_user": {"reputation": 4126, "user_id": 390122, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6f9494c096977b56cd5c808f2a52bcf?s=128&d=identicon&r=PG", "display_name": "AlwaysLearning", "link": "https://stackoverflow.com/users/390122/alwayslearning"}, "edited": false, "score": 0, "creation_date": 1567634662, "post_id": 57796060, "comment_id": 102025363, "body": "@AlwaysLearning I assure you it is :)  <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.httprequest.querystring?view=netframework-4.8#System_Web_HttpRequest_QueryString\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4126, "user_id": 390122, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6f9494c096977b56cd5c808f2a52bcf?s=128&d=identicon&r=PG", "display_name": "AlwaysLearning", "link": "https://stackoverflow.com/users/390122/alwayslearning"}, "edited": false, "score": 0, "creation_date": 1567634311, "post_id": 57796103, "comment_id": 102025286, "body": "The Request.Headers collection contains the HTTP Headers from the incoming HTTP Request. It doesn&#39;t contain the QueryString values."}, {"owner": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "reply_to_user": {"reputation": 4126, "user_id": 390122, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6f9494c096977b56cd5c808f2a52bcf?s=128&d=identicon&r=PG", "display_name": "AlwaysLearning", "link": "https://stackoverflow.com/users/390122/alwayslearning"}, "edited": false, "score": 0, "creation_date": 1567634449, "post_id": 57796103, "comment_id": 102025315, "body": "@AlwaysLearning good point. He would have to use Headers for header values, QueryString for querystring values, etc. Updated to include query string parameters too."}, {"owner": {"reputation": 13, "user_id": 11186679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5946aa3cdfdeb3e655392b1477584253?s=128&d=identicon&r=PG&f=1", "display_name": "sdm", "link": "https://stackoverflow.com/users/11186679/sdm"}, "edited": false, "score": 0, "creation_date": 1567684221, "post_id": 57796103, "comment_id": 102041357, "body": "Thanks for your support @Xipooo I can reach the parameter values with &quot;QueryString&quot;"}], "tags": [], "owner": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "is_accepted": true, "score": 0, "last_activity_date": 1567634590, "last_edit_date": 1567634590, "creation_date": 1567634245, "answer_id": 57796103, "question_id": 57796060, "link": "https://stackoverflow.com/questions/57796060/how-to-keep-url-parameters-as-key-value/57796103#57796103", "title": "How to keep url parameters as key-value", "body": "<p>You can just access the Headers property of the Response object directly for headers or QueryString property for query parameters.  They're both already a collection:</p>\n\n<pre><code>NameValueCollection headers = this.HttpContext.Request.Headers;\nNameValueCollection queryParams = this.HttpContext.Request.QueryString;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11186679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5946aa3cdfdeb3e655392b1477584253?s=128&d=identicon&r=PG&f=1", "display_name": "sdm", "link": "https://stackoverflow.com/users/11186679/sdm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 57796103, "answer_count": 1, "score": 0, "last_activity_date": 1567652651, "creation_date": 1567634027, "last_edit_date": 1567652651, "question_id": 57796060, "link": "https://stackoverflow.com/questions/57796060/how-to-keep-url-parameters-as-key-value", "title": "How to keep url parameters as key-value", "body": "<p>Normally I can read a parameter inurl with httpcontext but I wonder if there is more than one query parameter in the url can I obtain them as key-value?</p>\n\n<blockquote>\n  <p>url: localhost:3034/?CustomerID=12345&amp;RoleName=Student</p>\n</blockquote>\n\n<pre><code>string customerID = this.HttpContext.Request[\"CustomerID\"];\nstring roleName= this.HttpContext.Request[\"RoleName\"];\n</code></pre>\n\n<p>Do I have the chance to hold it as key-value instead of reading it one by one like above and use it anywhere in the project?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c#", "yield", "yield-return"], "answers": [{"tags": [], "owner": {"reputation": 947, "user_id": 2498017, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1126f45702ed17516dde090229f9de74?s=128&d=identicon&r=PG", "display_name": "Richard Barker", "link": "https://stackoverflow.com/users/2498017/richard-barker"}, "is_accepted": false, "score": 1, "last_activity_date": 1567636634, "creation_date": 1567636634, "answer_id": 57796379, "question_id": 57796026, "link": "https://stackoverflow.com/questions/57796026/refactoring-group-of-yeild-return-statments-to-a-method/57796379#57796379", "title": "Refactoring group of yeild return statments to a method", "body": "<p>Change the return type of your function to be IPublisher instead of an enumerable, and don't yeild in it. Your function should only return one, and then you can yield the call. Pass in any requirements as parameters. </p>\n"}, {"tags": [], "owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "is_accepted": true, "score": 1, "last_activity_date": 1567636748, "creation_date": 1567636748, "answer_id": 57796388, "question_id": 57796026, "link": "https://stackoverflow.com/questions/57796026/refactoring-group-of-yeild-return-statments-to-a-method/57796388#57796388", "title": "Refactoring group of yeild return statments to a method", "body": "<p><code>yield return</code> can only yield a single value at a time.  At the line where you're getting the compiler error, you need to iterate through the results of the method instead, and <code>yield return</code> them sequentially.</p>\n\n<pre><code>foreach (var p in EventHelper.CreateWebApiPublisher())\n    yield return p;\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 10812109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b9e8fabf315de16aac4f4b810b093d5?s=128&d=identicon&r=PG&f=1", "display_name": "RedRose", "link": "https://stackoverflow.com/users/10812109/redrose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 57796388, "answer_count": 2, "score": 0, "last_activity_date": 1567636748, "creation_date": 1567633828, "question_id": 57796026, "link": "https://stackoverflow.com/questions/57796026/refactoring-group-of-yeild-return-statments-to-a-method", "title": "Refactoring group of yeild return statments to a method", "body": "<p>How would I go about grouping multiple yield statements to a method ?</p>\n\n<p>I have the following code :</p>\n\n<pre><code>public IEnumerable&lt;IPublisher&gt; RegisterEvents()\n{\n    var url= Settings.wcfUrl;\n    var publisher = PublisherFactory.Create&lt;IWcfPublisher&gt; (url)\n        publisher.Register(new object(..));\n        publisher.Register(new object(..));\n     yield return publisher;\n\n    var url = Settings.webpublisherurl;\n    var publisher = PublisherFactory.Create&lt;IWebPublisher&gt; (url)\n        publisher.Register(new object(..));\n        publisher.Register(new object(..));\n     yield return publisher;\n\n    var url = Settings.webpublisherurl2;\n    var publisher = PublisherFactory.Create&lt;IWebPublisher2&gt; (url)\n        publisher.Register(new object(..));\n        publisher.Register(new object(..));\n     yield return publisher;\n     . . .\n}\n</code></pre>\n\n<p>The code is getting very large and I wanted to refactor some of the publishers to a static class EventHelper</p>\n\n<pre><code>public IEnumerable&lt;IPublisher&gt; RegisterEvents()\n{\n    var url= Settings.wcfUrl;\n    var publisher = PublisherFactory.Create&lt;IWcfPublisher&gt; (url)\n        publisher.Register(new object(..));\n        publisher.Register(new object(..));\n     yield return publisher;\n\n    return yield EventHelper.CreateWebApiPublisher() //&lt;-- compiler error\n     . . .\n}\n</code></pre>\n\n<p><code>CreateWebApiPublisher()</code> looks like </p>\n\n<pre><code>public static IEnumerable&lt;IPublisher&gt; CreateWebApiPublisher()\n{\n    var url = Settings.webpublisherurl;\n    var publisher = PublisherFactory.Create&lt;IWebPublisher&gt;(url)\n    publisher.Register(new object(..));\n    publisher.Register(new object(..));\n    yield return publisher;\n\n    var url = Settings.webpublisherurl2;\n    var publisher = PublisherFactory.Create&lt;IWebPublisher2&gt;(url)\n    publisher.Register(new object(..));\n    publisher.Register(new object(..));\n    yield return publisher;\n}\n</code></pre>\n\n<p>I am confused how to use <code>EventHelper.CreateWebApiPublisher()</code> in <code>RegisterEvents()</code> \nI keep getting  compiler error :</p>\n\n<pre><code>Error CS0266 Cannot implicitly convert type 'System.Collections.Generic.IEnumerable&lt;IPublisher&gt;' to 'IPublisher'...\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "asp.net-core"], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 11801958, "user_type": "registered", "profile_image": "https://graph.facebook.com/1291261310923506/picture?type=large", "display_name": "Stoyan Lupov", "link": "https://stackoverflow.com/users/11801958/stoyan-lupov"}, "edited": false, "score": 0, "creation_date": 1567871721, "post_id": 57816084, "comment_id": 102099100, "body": "I thought I was doing the same thing but for some reason my code did not work out like yours. Thanks a lot.  Also, I know using reflection will probably have some impact on the performance but performance is not the main task at this moment of the development.  Thanks a lot!"}], "tags": [], "owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "is_accepted": true, "score": 1, "last_activity_date": 1567746799, "creation_date": 1567746799, "answer_id": 57816084, "question_id": 57795996, "link": "https://stackoverflow.com/questions/57795996/c-is-there-a-way-to-use-reflection-for-generalizing-edit-views-of-every-possi/57816084#57816084", "title": "C# - Is there a way to use reflection for generalizing Edit views of every possible view model of ASP.NET MVC Core 2.2", "body": "<p>First of all, it is not recommended to use reflection for Edit view which may hit performance issue.</p>\n\n<p>If you insist on this requirement, you could try code below:   </p>\n\n<pre><code>@model dynamic\n\n&lt;div class=\"row\"&gt;\n    &lt;div class=\"col-md-4\"&gt;\n        @Model.GetType();\n        &lt;form asp-action=\"EditBook\"&gt;\n            &lt;div asp-validation-summary=\"ModelOnly\" class=\"text-danger\"&gt;&lt;/div&gt;\n            @foreach (System.Reflection.PropertyInfo prop in Model.GetType().GetProperties())\n            {\n                var propValue = @prop.GetValue(@Model, null);\n                &lt;div class=\"form-group\"&gt;\n                    &lt;label asp-for=\"@prop.Name\" class=\"control-label\"&gt;&lt;/label&gt;\n                    &lt;input asp-for=\"@propValue\" name=\"@prop.Name\" class=\"form-control\" /&gt;\n                    &lt;span asp-validation-for=\"@prop.Name\" class=\"text-danger\"&gt;&lt;/span&gt;\n                &lt;/div&gt;\n            }\n            &lt;div class=\"form-group\"&gt;\n                &lt;input type=\"submit\" value=\"Create\" class=\"btn btn-default\" /&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 11801958, "user_type": "registered", "profile_image": "https://graph.facebook.com/1291261310923506/picture?type=large", "display_name": "Stoyan Lupov", "link": "https://stackoverflow.com/users/11801958/stoyan-lupov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 57816084, "answer_count": 1, "score": 0, "last_activity_date": 1567746799, "creation_date": 1567633626, "question_id": 57795996, "link": "https://stackoverflow.com/questions/57795996/c-is-there-a-way-to-use-reflection-for-generalizing-edit-views-of-every-possi", "title": "C# - Is there a way to use reflection for generalizing Edit views of every possible view model of ASP.NET MVC Core 2.2", "body": "<p>I'm thinking of generalizing all Edit views scaffolded by the MVC because they are pretty much the same except for the properties of the model they are editing.</p>\n\n<p>I managed to do the same thing for Index and Details views but I have no idea how to generate the  tags having only the model's property name that I need an editor for.</p>\n\n<p>I've seen examples of similar things being done using complex custom tag helpers but I cannot seem to adapt them to my case.</p>\n\n<p>Basically I need to turn</p>\n\n<pre><code>&lt;input asp-for=\"Email\" class=\"form-control mb-4\" /&gt;\n</code></pre>\n\n<p>into something like this</p>\n\n<pre><code>&lt;input asp-for=\"@emailPropertyNameString\" class=\"form-control mb-4\" /&gt;\n</code></pre>\n\n<p>but, as tested, string or property info will not do.</p>\n\n<p>What options do I have in front of me? Thank you in advance!</p>\n"}, {"tags": ["c#", ".net", "sql-server", "asp.net-core"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1567633624, "post_id": 57795932, "comment_id": 102025137, "body": "Did you try this query with SSMS? Does it returns any data? Also, ExecuteScalar returns the first column from the first row. What do you expect this code to return?"}, {"owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1567633843, "post_id": 57795932, "comment_id": 102025184, "body": "Yes I tried in SSMS it does return data, I need everything that query executes"}, {"owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1567634045, "post_id": 57795932, "comment_id": 102025227, "body": "Can I return in data in JSON?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1567634229, "post_id": 57795932, "comment_id": 102025267, "body": "First, you need a model class that represent the data returned by this query. Then, instead of ExecuteScalar you need ExecuteReader. Using the reader you read row by row the returned data and create an instance of the model class. Each instance should be added to a List of that class. Finally you can serialize the list into as json string with the appropriate library."}, {"owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1567634370, "post_id": 57795932, "comment_id": 102025300, "body": "I&#39;m aware of this, is there any direct approach where I get data straight away?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 2, "creation_date": 1567634622, "post_id": 57795932, "comment_id": 102025353, "body": "There is no <i>straight away</i> mode to transform the rows returned by a query in a single string. Perhaps you could start to use an ORM tool like Dapper that will simplify a lot the transformation of the raw data in object instances. Still you need to serialize in json the result"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1567635261, "post_id": 57795932, "comment_id": 102025481, "body": "Perhaps I should correct myself. It seems that something is changing in Sql Server 2016 about using json data. See this docs <a href=\"https://docs.microsoft.com/en-us/sql/relational-databases/json/json-data-sql-server?view=sql-server-2017\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/sql/relational-databases/json/&hellip;</a>"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1567635450, "post_id": 57795932, "comment_id": 102025527, "body": "If you have Sql Server 2016 you can try to add <i>FOR JSON PATH</i> at the end of the WHERE statement and then execute your current code. Curious to know if it works"}, {"owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1567636423, "post_id": 57795932, "comment_id": 102025751, "body": "Even if I run <code>FOR JSON PATH</code> I still need to implement instance of a model?"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1567657443, "post_id": 57795932, "comment_id": 102029391, "body": "Why do you want to return JSON in the first place? Why not just return an instance of an object that represents the data?"}, {"owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1567689775, "post_id": 57795932, "comment_id": 102044610, "body": "@mason yeah I was just looking into that but an instance of an object works just fine."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1567690656, "post_id": 57795932, "comment_id": 102045149, "body": "So then you just need to do as Steve says - Use ExecuteReader and populate an instance of an object. Or use an ORM tool that makes it easier for you, such as <a href=\"https://github.com/StackExchange/Dapper\" rel=\"nofollow noreferrer\">Dapper</a>."}], "answers": [{"tags": [], "owner": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "is_accepted": true, "score": 1, "last_activity_date": 1567763277, "creation_date": 1567763277, "answer_id": 57819618, "question_id": 57795932, "link": "https://stackoverflow.com/questions/57795932/unable-to-execute-sql-query-in-async/57819618#57819618", "title": "Unable to execute sql query in async", "body": "<p>If you want to use <a href=\"https://docs.microsoft.com/en-us/sql/relational-databases/json/format-query-results-as-json-with-for-json-sql-server?view=sql-server-2017\" rel=\"nofollow noreferrer\">FOR JSON PATH</a> to maintain full control over the format of the JSON output , you could add it behind the sql query and deserialize json , the following is a example I tested</p>\n\n<pre><code>public class ResponseBody\n    {\n        public string StudioName { get; set; }\n        public string CityName { get; set; }\n        public string Street { get; set; }\n    }\n\n    public async Task&lt;IActionResult&gt; AsyncSBSystemApps()\n    {\n        using (var scope = _scopeFactory.CreateScope())\n        {\n            using (SqlConnection connection = new SqlConnection(connectionString))\n            {\n                SqlCommand command = new SqlCommand(@\"SELECT \n                    s.Name as StudioName,\n\n                    c.Name as CityName,\n                    a.Street as Street\n                FROM\n                    Studios as s\n                INNER JOIN\n                    Cities as c ON s.Id = c.StudioId\n                INNER JOIN\n                    Addresses as a ON c.Id = a.CityId\n                where s.Name = 'Studio1' and c.Name = 'Wuxi' and a.Number = '101'\n                For JSON PATH  \", connection);\n\n                await connection.OpenAsync();\n\n                var result = command.ExecuteScalar().ToString();\n\n                 // Deserializing json data to object \n                var getModel = JsonConvert.DeserializeObject&lt;List&lt;ResponseBody&gt;&gt;(result);\n\n                //return ...\n            }\n        }\n\n    }\n</code></pre>\n\n<p>As mason suggested , you could also use Dapper(<strong>Install Dapper package</strong> \n ) to get the query easily like below :</p>\n\n<pre><code>using (SqlConnection connection = new SqlConnection(connectionString))\n            {\n                await connection.OpenAsync();\n\n                var queryResult = connection.Query&lt;ResponseBody&gt;(@\"SELECT \n                    s.Name as StudioName,\n\n                    c.Name as CityName,\n                    a.Street as Street\n                FROM\n                    Studios as s\n                INNER JOIN\n                    Cities as c ON s.Id = c.StudioId\n                INNER JOIN\n                    Addresses as a ON c.Id = a.CityId\n                where s.Name = 'Studio1' and c.Name = 'Wuxi' and a.Number = '101'\");\n\n                return queryResult ;\n            }\n</code></pre>\n"}], "owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 57819618, "answer_count": 1, "score": 1, "last_activity_date": 1567763277, "creation_date": 1567633278, "question_id": 57795932, "link": "https://stackoverflow.com/questions/57795932/unable-to-execute-sql-query-in-async", "title": "Unable to execute sql query in async", "body": "<p>I'm trying to execute the SQL query in async and want to return the result but it's not returning the data, not sure what I'm missing.       </p>\n\n<pre><code>public async Task&lt;string&gt; AsyncSBSystemApps()\n    {\n        using (var scope = _scopeFactory.CreateScope())\n        {\n            using (SqlConnection connection = new SqlConnection(connectionString))\n            {\n                SqlCommand command = new SqlCommand(@\"SELECT \n                        a.app_guid as AppGuid,\n                        a.name as AppName,\n                        a.state as AppState,\n                        a.created_at as AppCreatedAt,\n                        a.updated_at as AppUpdatedAt,\n                        a.foundation as AppFoundation,\n\n                        s.name as SpaceName,\n                        o.name as OrgName\n                    FROM\n                        apps as a\n                    INNER JOIN\n                        spaces as s ON a.space_guid = s.space_guid\n                    INNER JOIN\n                        organizations as o ON s.org_guid = o.org_guid\n                    where s.name = 'system' and o.name = 'system' and a.foundation = 2\", connection);\n\n                await connection.OpenAsync();\n\n\n                string result = (string)command.ExecuteScalar() ;\n\n                return result;\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "sockets", "protobuf-net"], "comments": [{"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1567636753, "post_id": 57795930, "comment_id": 102025811, "body": "Hi; is this an inheritance scenario? Is it using [ProtoInclude] etc? Trying to understand the example..."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567641706, "post_id": 57795930, "comment_id": 102026698, "body": "You do not have any classes shown so I can&#39;t figure out where the constructor is located.  if the class is ABC  then all you need is public ABC() { }.  You have a constructor with one or more parameters and you just need to add a constructor with zero parameters."}, {"owner": {"reputation": 1, "user_id": 10737620, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zmRFbhnMI1Q/AAAAAAAAAAI/AAAAAAAAAeo/gPbpj1oZhKE/photo.jpg?sz=128", "display_name": "that&#39;s not entirely true", "link": "https://stackoverflow.com/users/10737620/thats-not-entirely-true"}, "edited": false, "score": 0, "creation_date": 1567645308, "post_id": 57795930, "comment_id": 102027342, "body": "I&#39;ve updated the post with the classes in question. Hopefully this should answer some questions."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1568301390, "post_id": 57795930, "comment_id": 102239382, "body": "Sorry, I didn&#39;t see your updates until now (tip: use @ i.e. @that&#39;snotentirelytrue to ping folks if there are relevant updates); if the buffer is empty, then you have a <code>NetMessage</code> with no content, i.e. <i>just</i> a <code>NetMessage</code>. So: how did we get an empty buffer here? Note: it doesn&#39;t look like you&#39;re processing the return value from <code>EndReceive</code>, so this <i>seems</i> like a general &quot;TCP framing&quot; problem; see <a href=\"https://blog.marcgravell.com/2013/02/how-many-ways-can-you-mess-up-io.html\" rel=\"nofollow noreferrer\">blog.marcgravell.com/2013/02/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10737620, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zmRFbhnMI1Q/AAAAAAAAAAI/AAAAAAAAAeo/gPbpj1oZhKE/photo.jpg?sz=128", "display_name": "that&#39;s not entirely true", "link": "https://stackoverflow.com/users/10737620/thats-not-entirely-true"}, "is_accepted": true, "score": 0, "last_activity_date": 1568767933, "creation_date": 1568767933, "answer_id": 57983648, "question_id": 57795930, "link": "https://stackoverflow.com/questions/57795930/protobuf-protoexception-no-parameterless-constructor-found-when-receiving-sp/57983648#57983648", "title": "Protobuf.ProtoException: No parameterless constructor found... when receiving specific message from client", "body": "<p>I resolved the issue by keeping track of the last message that was sent (the one that kept triggering the error) and resending it. Whenever a Protobuf Exception was thrown, the program assumes that it was due to an empty buffer.</p>\n\n<p>This is not the greatest solution, in fact it's very \"hacky,\" but it resolves the immediate problem that I had.</p>\n"}], "owner": {"reputation": 1, "user_id": 10737620, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zmRFbhnMI1Q/AAAAAAAAAAI/AAAAAAAAAeo/gPbpj1oZhKE/photo.jpg?sz=128", "display_name": "that&#39;s not entirely true", "link": "https://stackoverflow.com/users/10737620/thats-not-entirely-true"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 57983648, "answer_count": 1, "score": 0, "last_activity_date": 1568767933, "creation_date": 1567633263, "last_edit_date": 1567645295, "question_id": 57795930, "link": "https://stackoverflow.com/questions/57795930/protobuf-protoexception-no-parameterless-constructor-found-when-receiving-sp", "title": "Protobuf.ProtoException: No parameterless constructor found... when receiving specific message from client", "body": "<p>I'm playing around with programming an asynchronous server in C#. I am using proto-buf.net to send objects between the client and server. For the most part, it was working fine until I started testing the program with another user connected to my server.</p>\n\n<p>This specific problem occurs when attempting the following:</p>\n\n<p>When a button is pressed, code will be called that sends a <code>BattleMessage</code> to all clients connected to the server.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// in server\nvar message = new BattleMessage\n{\n  Players = players, // List&lt;string&gt;\n  Enemies = enemies, // List&lt;Enemy objects&gt;\n  Current = currentPlayer, // string, the current player's name\n  Boss = isBoss, // boolean\n  Turns = turns // string\n};\n</code></pre>\n\n<p>Upon receiving this message, the client will change GUIs to display a \"battle screen\" with all the information sent by the BattleMessage displayed for the user. In doing so, it will run a check to see if the client the information is being displayed for's name matches \"Current.\"</p>\n\n<p>If it does, it'll send back this message:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// still in client\n            if(current.Name.Equals(Current))\n            {\n                var message = new CurrentPlayerBattleMessage\n                {\n                    Name = current.Name,\n                    Defense = current.GetDefense(),\n                    HP = current.Hp,\n                    MP = current.Mp,\n                    skills = D,\n                    IsPhysical = current.IsPhysical,\n                };\n\n                message.Weaknesses = weaknesses;\n                Client.SendMessage(message); // send the message back to the server\n            }\n</code></pre>\n\n<p>The server will then receive the message, process it, and act accordingly:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// back in the server\n\n                // in Receive(IAsyncResult r)\n                Socket client = r.AsyncState as Socket;\n                client.EndReceive(r);\n\n                // NetMessage is abstract, CurrentPlayerBattleMessage extends it\n                NetMessage message = PacketManager.ProcessMessage(buffer);\n                buffer = new byte[BUFFERSIZE]; // buffer: private byte[] buffer, BUFFERLENGTH = 2048\n                client.BeginReceive(buffer, 0, BUFFERSIZE, SocketFlags.None, new AsyncCallback(Receive), client);\n\n              // process after being identified\n              if(message.GetType().Equals(typeof(CurrentPlayerBattleMessage)))\n              {\n                    var current = message as CurrentPlayerBattleMessage;\n\n                    BattlePlayer bp = new BattlePlayer\n                    {\n                        Name = current.Name,\n                        Defense = current.Defense,\n                        HP = current.HP,\n                        MP = current.MP,\n                        Skills = current.Skills,\n                        IsPhysical = current.IsPhysical,\n                        Weaknesses = current.Weaknesses\n                    };\n                    //update server GUI\n                    server.AddCurrentBattlePlayer(bp);\n               }\n</code></pre>\n\n<p>When only one person was connected to the server, the current player's skills and stats would be successfully loaded. When two people were connected to the server, the exception listed in the question would be thrown.</p>\n\n<p>When I checked to see if the buffer was empty, since I've heard that can cause this error to appear, it actually turned out to be the case! I'm not entirely sure why, though or how to go about stopping it. For reference, the buffer is reset after a Login message is sent to it. Could this be preventing it from receiving messages?</p>\n\n<p>Also, for context, here are the methods used to process messages:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>        // both methods are used by the Client as well\n        public static byte[] CreateMessage(NetMessage message)\n        {\n            using (var stream = new MemoryStream())\n            {\n                Serializer.SerializeWithLengthPrefix(stream, message, PrefixStyle.Base128);\n                return stream.ToArray();\n            }\n        }\n\n        public static NetMessage ProcessMessage(byte[] buffer)\n        {\n            using (var stream = new MemoryStream(buffer))\n            {\n                return Serializer.DeserializeWithLengthPrefix&lt;NetMessage&gt;(stream, PrefixStyle.Base128);\n            }\n        }\n</code></pre>\n\n<p>EDIT: I was asked for some class info, so here you go:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// the message causing me the issue (SERVER)\n    [ProtoContract]\n    public class CurrentPlayerBattleMessage : NetMessage\n    {\n        [ProtoMember(1)]\n        public string Name { get; set; }\n        [ProtoMember(2)]\n        public int Defense { get; set; }\n        [ProtoMember(3)]\n        public int HP { get; set; }\n        [ProtoMember(4)]\n        public int MP { get; set; }\n        [ProtoMember(5, AsReference = true)]\n        public Dictionary&lt;string, int&gt; Skills { get; set; }\n        [ProtoMember(6)]\n        public bool IsPhysical { get; set; }\n        [ProtoMember(7, AsReference = true)]\n        public List&lt;int&gt; Weaknesses { get; set; }\n\n        public CurrentPlayerBattleMessage() { }\n    }\n\n// (CLIENT)\n    [ProtoContract]\n    public class CurrentPlayerBattleMessage : NetMessage\n    {\n        [ProtoMember(1)]\n        public string Name { get; set; }\n        [ProtoMember(2)]\n        public int Defense { get; set; }\n        [ProtoMember(3)]\n        public int HP { get; set; }\n        [ProtoMember(4)]\n        public int MP { get; set; }\n        [ProtoMember(5, AsReference = true)]\n        public Dictionary&lt;string, int&gt; skills { get; set; }\n        [ProtoMember(6)]\n        public bool IsPhysical { get; set; }\n        [ProtoMember(7, AsReference = true)]\n        public List&lt;int&gt; Weaknesses { get; set; }\n\n        public CurrentPlayerBattleMessage() { }\n    }\n\n</code></pre>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// the parent class\n    [ProtoContract]\n    [ProtoInclude(500, typeof(LoginMessage))]\n    [ProtoInclude(501, typeof(InventoryMessage))]\n    [ProtoInclude(502, typeof(BattleMessage))]\n    [ProtoInclude(503, typeof(CurrentPlayerBattleMessage))]\n    [ProtoInclude(504, typeof(UpdateBattleMessage))]\n    [ProtoInclude(505, typeof(RewardMessage))]\n    [ProtoInclude(506, typeof(RetreatMessage))]\n    public abstract class NetMessage\n    {\n        public NetMessage() { }\n    }\n</code></pre>\n\n<p>Attempted solutions/ideas so far:</p>\n\n<ul>\n<li><p>Having myself and the person helping me test connect to the server individually such that I would try to see if I could get my stats to appear if I were the only person connected, then I'd restart the server, and finally the other guy would do the same. This led to the message being received by the client and the skills being received.</p></li>\n<li><p>Checking to see if the Client was even sending the message at all. It was, the server was just not processing it properly.</p>\n\n<ul>\n<li>Checking to see if the buffer was empty, it turns out it was!</li>\n</ul></li>\n</ul>\n"}, {"tags": ["c#", "pdf", "pdf-generation", "xsl-fo", "apache-fop"], "comments": [{"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1567691207, "post_id": 57795892, "comment_id": 102045466, "body": "<i>&quot;adds souvenirs after myself (watermark, change of producer, additional incremental update etc.)&quot;</i> - you usually get rid of watermarks by buying a license for the product in question."}], "answers": [{"tags": [], "owner": {"reputation": 125, "user_id": 3914428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/292fb4372c9b8a868b998a4c92448879?s=128&d=identicon&r=PG&f=1", "display_name": "DynamicPDF", "link": "https://stackoverflow.com/users/3914428/dynamicpdf"}, "is_accepted": false, "score": 0, "last_activity_date": 1567691183, "last_edit_date": 1567691183, "creation_date": 1567689658, "answer_id": 57806471, "question_id": 57795892, "link": "https://stackoverflow.com/questions/57795892/how-to-create-a-new-pdf-as-new-without-changing-the-metadata/57806471#57806471", "title": "How to create a new PDF as new without changing the metadata?", "body": "<p>Our DynamicPDF Merger product allows you to merge the PDF without changing its contents. Also there are options to suppress the XMP metadata or set the producer as needed. \nBelow is the C# code to merge a PDF, remove the XMP metadata (using the MergeOptions class) and setting the producer.</p>\n\n<pre><code>MergeOptions options = new MergeOptions();\noptions.XmpMetadata = false;\nMergeDocument document = new MergeDocument(@\"Source PDF file path\", options);\ndocument.Producer = \"My producer\";\ndocument.Draw(@\"path to save the output PDF\");\n</code></pre>\n\n<p>You can refer to the documentation on the MergeOptions class here: <a href=\"http://docs.dynamicpdf.com/NET_Help_Library_19_08/DynamicPDF~ceTe.DynamicPDF.Merger.MergeOptions_members.html\" rel=\"nofollow noreferrer\">http://docs.dynamicpdf.com/NET_Help_Library_19_08/DynamicPDF~ceTe.DynamicPDF.Merger.MergeOptions_members.html</a> </p>\n\n<p>A fully functional evaluation edition of the DynamicPDF Merger product is available on Nuget (Package ID: ceTe.DynamicPDF.CoreSuite.NET):\n<a href=\"https://www.nuget.org/packages/ceTe.DynamicPDF.CoreSuite.NET/\" rel=\"nofollow noreferrer\">https://www.nuget.org/packages/ceTe.DynamicPDF.CoreSuite.NET/</a></p>\n\n<p>More information and the option to download it from our site can be found here:\n<a href=\"https://www.dynamicpdf.com/Merge-PDF-.NET.aspx\" rel=\"nofollow noreferrer\">https://www.dynamicpdf.com/Merge-PDF-.NET.aspx</a></p>\n"}], "owner": {"reputation": 11, "user_id": 12020205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u66Db.jpg?s=128&g=1", "display_name": "Pajzano", "link": "https://stackoverflow.com/users/12020205/pajzano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 265, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567691183, "creation_date": 1567632982, "question_id": 57795892, "link": "https://stackoverflow.com/questions/57795892/how-to-create-a-new-pdf-as-new-without-changing-the-metadata", "title": "How to create a new PDF as new without changing the metadata?", "body": "<p>I have the original PDF file created by Apache FOP 1.0 with basic metadata added by Apache (producer, date of creation). I was editing the file and additional metadata appeared that I don't want to have (modify date and other). Is it possible to create a new file based on a file edited in such a way that there are no editing remains? </p>\n\n<pre><code>&lt;?xpacket begin=\"\ufeff\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?&gt;\n&lt;x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c016 91.163616, 2018/10/29-16:58:49        \"&gt;\n   &lt;rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"&gt;\n      &lt;rdf:Description rdf:about=\"\"\n            xmlns:pdf=\"http://ns.adobe.com/pdf/1.3/\"\n            xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\"\n            xmlns:dc=\"http://purl.org/dc/elements/1.1/\"&gt;\n         &lt;pdf:PDFVersion&gt;1.4&lt;/pdf:PDFVersion&gt;\n         &lt;pdf:Producer&gt;Apache FOP Version 1.0&lt;/pdf:Producer&gt;\n         &lt;xmp:CreateDate&gt;2019-08-20T11:09:15+02:00&lt;/xmp:CreateDate&gt;\n         &lt;xmp:CreatorTool&gt;Apache FOP Version 1.0&lt;/xmp:CreatorTool&gt;\n         &lt;xmp:MetadataDate&gt;2019-08-20T11:09:15+02:00&lt;/xmp:MetadataDate&gt;\n         &lt;dc:date&gt;\n            &lt;rdf:Seq&gt;\n               &lt;rdf:li&gt;2019-08-20T11:09:15+02:00&lt;/rdf:li&gt;\n            &lt;/rdf:Seq&gt;\n         &lt;/dc:date&gt;\n      &lt;/rdf:Description&gt;\n   &lt;/rdf:RDF&gt;\n&lt;/x:xmpmeta&gt;\n&lt;?xpacket end=\"w\"?&gt;\n</code></pre>\n\n<p>In addition to metadata, there is also the possibility of restoring the original version by removing the added lines in notepad ++ (which I do not want), i tried to replace the streams, but I fail (editing and new metadata are added to the file, they do not change the old text (incremental update?)). I would like the edited file to look like the original one made in Apache FOP 1.0. I tried to create XSL-FO with Word2FO.xsl, but I could not create a file with the same appearance as the original.</p>\n\n<p>I can use a window application (Windows), console, website or something for C #, everything I've found so far either works badly or adds souvenirs after myself (watermark, change of producer, additional incremental update etc.).</p>\n"}, {"tags": ["c#", "visual-studio", "powershell", ".net-core", "nuget"], "comments": [{"owner": {"reputation": 6310, "user_id": 3080908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f82666477cf654ae658055c538a6bdf?s=128&d=identicon&r=PG", "display_name": "Lee_Dailey", "link": "https://stackoverflow.com/users/3080908/lee-dailey"}, "edited": false, "score": 0, "creation_date": 1567635332, "post_id": 57795873, "comment_id": 102025502, "body": "have you installed powershell 6+? my understanding is that the SDK is NOT powershell ..."}, {"owner": {"reputation": 41, "user_id": 3786820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5c8IV.png?s=128&g=1", "display_name": "namedtuple", "link": "https://stackoverflow.com/users/3786820/namedtuple"}, "reply_to_user": {"reputation": 6310, "user_id": 3080908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f82666477cf654ae658055c538a6bdf?s=128&d=identicon&r=PG", "display_name": "Lee_Dailey", "link": "https://stackoverflow.com/users/3080908/lee-dailey"}, "edited": false, "score": 0, "creation_date": 1567636868, "post_id": 57795873, "comment_id": 102025839, "body": "I do have PowerShell 6.1.3 installed."}, {"owner": {"reputation": 41, "user_id": 3786820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5c8IV.png?s=128&g=1", "display_name": "namedtuple", "link": "https://stackoverflow.com/users/3786820/namedtuple"}, "reply_to_user": {"reputation": 6310, "user_id": 3080908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f82666477cf654ae658055c538a6bdf?s=128&d=identicon&r=PG", "display_name": "Lee_Dailey", "link": "https://stackoverflow.com/users/3080908/lee-dailey"}, "edited": false, "score": 0, "creation_date": 1567636951, "post_id": 57795873, "comment_id": 102025856, "body": "I seem to have found a solution.  I copied the Microsoft.Management.Infrastructure.CimCmdlets.dll from the PowerShell 6 installation directory into my project.  If I manually import the dll, then the Cim cmdlets exist.  Something like this: var results = ps.AddScript(&quot;Import-Module C:\\\\Microsoft.Management.Infrastructure.CimCmdlets.dll; Get-Command&quot;).Invoke();"}, {"owner": {"reputation": 6310, "user_id": 3080908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f82666477cf654ae658055c538a6bdf?s=128&d=identicon&r=PG", "display_name": "Lee_Dailey", "link": "https://stackoverflow.com/users/3080908/lee-dailey"}, "edited": false, "score": 0, "creation_date": 1567638849, "post_id": 57795873, "comment_id": 102026208, "body": "please add that as an answer. it makes sense when one thinks about it ... bit it  wasn&#39;t even a vague idea to me until you mentioned it. [<i>grin</i>]"}, {"owner": {"reputation": 41, "user_id": 3786820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5c8IV.png?s=128&g=1", "display_name": "namedtuple", "link": "https://stackoverflow.com/users/3786820/namedtuple"}, "reply_to_user": {"reputation": 6310, "user_id": 3080908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f82666477cf654ae658055c538a6bdf?s=128&d=identicon&r=PG", "display_name": "Lee_Dailey", "link": "https://stackoverflow.com/users/3080908/lee-dailey"}, "edited": false, "score": 0, "creation_date": 1567639646, "post_id": 57795873, "comment_id": 102026343, "body": "Ok, I added this as an answer.  I&#39;d rather use a NuGet package, but this works for now.  Thanks for the help/interest @Lee_Dailey :)"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 3786820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5c8IV.png?s=128&g=1", "display_name": "namedtuple", "link": "https://stackoverflow.com/users/3786820/namedtuple"}, "is_accepted": true, "score": 2, "last_activity_date": 1567639574, "creation_date": 1567639574, "answer_id": 57796684, "question_id": 57795873, "link": "https://stackoverflow.com/questions/57795873/how-do-i-get-access-to-cimcmdlets-in-net-core-when-using-system-management-auto/57796684#57796684", "title": "How do I get access to CimCmdlets in .NET Core when using System.Management.Automation?", "body": "<p>I found a solution, albeit not a great one.  I installed PowerShell Core 6.1.3 and copied the Microsoft.Management.Infrastructure.CimCmdlets.dll from the installation directory (C:\\Program Files\\PowerShell\\6) into my project.</p>\n\n<p>If I manually import this .dll before doing anything else, then these Cim cmdlets are available.  For example, in my code example in the question, replace</p>\n\n<p><code>var results = ps.AddScript(\"Get-Command\").Invoke();</code></p>\n\n<p>with</p>\n\n<p><code>var results = ps.AddScript(\"Import-Module C:\\\\Microsoft.Management.Infrastructure.CimCmdlets.dll; Get-Command\").Invoke()</code></p>\n\n<p>And now the Cim cmdlets are available.  I'd rather use a NuGet package, but this works.</p>\n"}, {"comments": [{"owner": {"reputation": 13221, "user_id": 206730, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/7gTXP.jpg?s=128&g=1", "display_name": "Kiquenet", "link": "https://stackoverflow.com/users/206730/kiquenet"}, "edited": false, "score": 0, "creation_date": 1606998531, "post_id": 62395241, "comment_id": 115136958, "body": "Nuget package <a href=\"https://www.nuget.org/packages/System.Management/\" rel=\"nofollow noreferrer\">nuget.org/packages/System.Management</a> ?"}], "tags": [], "owner": {"reputation": 21, "user_id": 12470190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78dd8e83ba4c24b5dd7fe1eb36f657f?s=128&d=identicon&r=PG&f=1", "display_name": "Marc Dworkin", "link": "https://stackoverflow.com/users/12470190/marc-dworkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1592248127, "creation_date": 1592248127, "answer_id": 62395241, "question_id": 57795873, "link": "https://stackoverflow.com/questions/57795873/how-do-i-get-access-to-cimcmdlets-in-net-core-when-using-system-management-auto/62395241#62395241", "title": "How do I get access to CimCmdlets in .NET Core when using System.Management.Automation?", "body": "<p>this free nuget package from microsoft worked for me: <a href=\"https://github.com/PowerShell/MMI\" rel=\"nofollow noreferrer\">https://github.com/PowerShell/MMI</a></p>\n\n<p>while it doesn't provide access to the Cim / WMIv2 powershell cmdlets, it does expose a direct api into same Cim / WMIv2 interfaces</p>\n\n<p>here's a sample</p>\n\n<pre><code>try\n{\n    using (var session = CimSession.Create(null))\n    {\n        var results = session.QueryInstances(@\"root\\cimv2\",\n            \"WQL\",\n            @\"select name from win32_process where handle = 0 or handle = 4\");\n\n        foreach (var result in results)\n        {\n            Console.WriteLine(\"Process name: {0}\",\n            result.CimInstanceProperties[\"Name\"].Value);\n        }\n    }\n}\ncatch (CimException ex)\n{\n    Console.WriteLine(ex.Message);\n}\n</code></pre>\n\n<p>full api documentation is available @<a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.management.infrastructure.cimsession?view=pscore-6.2.0\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/microsoft.management.infrastructure.cimsession?view=pscore-6.2.0</a>)</p>\n\n<p>additional context &amp; samples are available @ <a href=\"https://docs.microsoft.com/en-us/windows/win32/wmisdk/enumerating-wmi#enumerating-wmi-using-c-microsoftmanagementinfrastructure\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/windows/win32/wmisdk/enumerating-wmi#enumerating-wmi-using-c-microsoftmanagementinfrastructure</a></p>\n"}], "owner": {"reputation": 41, "user_id": 3786820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5c8IV.png?s=128&g=1", "display_name": "namedtuple", "link": "https://stackoverflow.com/users/3786820/namedtuple"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 658, "favorite_count": 0, "accepted_answer_id": 57796684, "answer_count": 2, "score": 0, "last_activity_date": 1592248127, "creation_date": 1567632865, "question_id": 57795873, "link": "https://stackoverflow.com/questions/57795873/how-do-i-get-access-to-cimcmdlets-in-net-core-when-using-system-management-auto", "title": "How do I get access to CimCmdlets in .NET Core when using System.Management.Automation?", "body": "<p><strong>Goal</strong></p>\n\n<p>I would like to have access to the cmdlets in the CimCmdlets module in .NET Core within C# code.  Specifically, I want to be able to use the New-CimSessionOption and New-CimSession cmdlets.</p>\n\n<p><strong>NuGet Packages</strong></p>\n\n<p>Microsoft.NETCore.App v2.2.0</p>\n\n<p>Microsoft.Powershell.SDK v6.2.2</p>\n\n<p><strong>Simple Demo</strong></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\nusing System.Management.Automation;\n\nnamespace ConsoleApp1 {\n    class Program {\n        static void Main(string[] args) {\n            string str;\n            using (var ps = PowerShell.Create()) {\n                str = \"\";\n                var results = ps.AddScript(\"Get-Command\").Invoke();\n                foreach (var result in results) {\n                    str += result.ToString() + \", \";\n                }\n            }\n            Console.WriteLine(str);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>A:, B:, C:, cd.., cd\\, Clear-Host, D:, E:, F:, G:, H:, help, I:, J:, K:, L:, M:, mkdir, N:, O:, oss, P:, Pause, prompt, Q:, R:, S:, T:, TabExpansion2, U:, V:, W:, X:, Y:, Z:, Add-Content, Add-History, Add-Member, Add-Type, Clear-Content, Clear-History, Clear-Item, Clear-ItemProperty, Clear-Variable, Compare-Object, Connect-PSSession, Connect-WSMan, Convert-Path, ConvertFrom-Csv, ConvertFrom-Json, ConvertFrom-Markdown, ConvertFrom-SddlString, ConvertFrom-SecureString, ConvertFrom-StringData, ConvertTo-Csv, ConvertTo-Html, ConvertTo-Json, ConvertTo-SecureString, ConvertTo-Xml, Copy-Item, Copy-ItemProperty, Debug-Job, Debug-Process, Debug-Runspace, Disable-ExperimentalFeature, Disable-PSBreakpoint, Disable-PSRemoting, Disable-PSSessionConfiguration, Disable-RunspaceDebug, Disable-WSManCredSSP, Disconnect-PSSession, Disconnect-WSMan, Enable-ExperimentalFeature, Enable-PSBreakpoint, Enable-PSRemoting, Enable-PSSessionConfiguration, Enable-RunspaceDebug, Enable-WSManCredSSP, Enter-PSHostProcess, Enter-PSSession, Exit-PSHostProcess, Exit-PSSession, Export-Alias, Export-Clixml, Export-Csv, Export-FormatData, Export-ModuleMember, Export-PSSession, ForEach-Object, Format-Custom, Format-Hex, Format-List, Format-Table, Format-Wide, Get-Acl, Get-Alias, Get-AuthenticodeSignature, Get-ChildItem, Get-CmsMessage, Get-Command, Get-ComputerInfo, Get-Content, Get-Credential, Get-Culture, Get-Date, Get-Event, Get-EventSubscriber, Get-ExecutionPolicy, Get-ExperimentalFeature, Get-FileHash, Get-FormatData, Get-Help, Get-History, Get-Host, Get-Item, Get-ItemProperty, Get-ItemPropertyValue, Get-Job, Get-Location, Get-MarkdownOption, Get-Member, Get-Module, Get-PfxCertificate, Get-Process, Get-PSBreakpoint, Get-PSCallStack, Get-PSDrive, Get-PSHostProcessInfo, Get-PSProvider, Get-PSSession, Get-PSSessionCapability, Get-PSSessionConfiguration, Get-Random, Get-Runspace, Get-RunspaceDebug, Get-Service, Get-TimeZone, Get-TraceSource, Get-TypeData, Get-UICulture, Get-Unique, Get-Uptime, Get-Variable, Get-Verb, Get-WinEvent, Get-WSManCredSSP, Get-WSManInstance, Group-Object, Import-Alias, Import-Clixml, Import-Csv, Import-LocalizedData, Import-Module, Import-PowerShellDataFile, Import-PSSession, Invoke-Command, Invoke-Expression, Invoke-History, Invoke-Item, Invoke-RestMethod, Invoke-WebRequest, Invoke-WSManAction, Join-Path, Join-String, Measure-Command, Measure-Object, Move-Item, Move-ItemProperty, New-Alias, New-Event, New-FileCatalog, New-Guid, New-Item, New-ItemProperty, New-Module, New-ModuleManifest, New-Object, New-PSDrive, New-PSRoleCapabilityFile, New-PSSession, New-PSSessionConfigurationFile, New-PSSessionOption, New-PSTransportOption, New-Service, New-TemporaryFile, New-TimeSpan, New-Variable, New-WinEvent, New-WSManInstance, New-WSManSessionOption, Out-Default, Out-File, Out-Host, Out-Null, Out-String, Pop-Location, Protect-CmsMessage, Push-Location, Read-Host, Receive-Job, Receive-PSSession, Register-ArgumentCompleter, Register-EngineEvent, Register-ObjectEvent, Register-PSSessionConfiguration, Remove-Alias, Remove-Event, Remove-Item, Remove-ItemProperty, Remove-Job, Remove-Module, Remove-PSBreakpoint, Remove-PSDrive, Remove-PSSession, Remove-Service, Remove-TypeData, Remove-Variable, Remove-WSManInstance, Rename-Computer, Rename-Item, Rename-ItemProperty, Resolve-Path, Restart-Computer, Restart-Service, Resume-Service, Save-Help, Select-Object, Select-String, Select-Xml, Send-MailMessage, Set-Acl, Set-Alias, Set-AuthenticodeSignature, Set-Content, Set-Date, Set-ExecutionPolicy, Set-Item, Set-ItemProperty, Set-Location, Set-MarkdownOption, Set-PSBreakpoint, Set-PSDebug, Set-PSSessionConfiguration, Set-Service, Set-StrictMode, Set-TimeZone, Set-TraceSource, Set-Variable, Set-WSManInstance, Set-WSManQuickConfig, Show-Markdown, Sort-Object, Split-Path, Start-Job, Start-Process, Start-Service, Start-Sleep, Start-Transcript, Stop-Computer, Stop-Job, Stop-Process, Stop-Service, Stop-Transcript, Suspend-Service, Tee-Object, Test-Connection, Test-FileCatalog, Test-Json, Test-ModuleManifest, Test-Path, Test-PSSessionConfigurationFile, Test-WSMan, Trace-Command, Unblock-File, Unprotect-CmsMessage, Unregister-Event, Unregister-PSSessionConfiguration, Update-FormatData, Update-Help, Update-TypeData, Wait-Debugger, Wait-Event, Wait-Job, Wait-Process, Where-Object, Write-Debug, Write-Error, Write-Host, Write-Information, Write-Output, Write-Progress, Write-Verbose, Write-Warning,\n\nC:\\Program Files\\dotnet\\dotnet.exe (process 24268) exited with code 0.\nTo automatically close the console when debugging stops, enable Tools-&gt;Options-&gt;Debugging-&gt;Automatically close the console when debugging stops.\nPress any key to close this window . . .\n</code></pre>\n\n<p><strong>Question</strong></p>\n\n<p>As you can see above in the output portion, there are no Cim cmdlets at all in the list.</p>\n\n<p>Why are the cmdlets in the CimCmdlets module missing?  If I download PowerShell Core and look at the available cmdlets, the CimCmdlets are indeed present.  How can I get access to these CimCmdlets in .NET Core?  Is there a specific NuGet package I need?  Thank you for the help.</p>\n"}, {"tags": ["c#", ".net", "windows", "winforms"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1567632834, "post_id": 57795865, "comment_id": 102024923, "body": "What do you mean with <i>screen change occurs</i>?"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 10869092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a2ec03048690a805700f76970b7254?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/10869092/greg"}, "edited": false, "score": 0, "creation_date": 1567634356, "post_id": 57796084, "comment_id": 102025297, "body": "Seems like a perfectly reasonable solution to me. Thanks, @SaelDev!"}], "tags": [], "owner": {"reputation": 26, "user_id": 12022156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKMQs.png?s=128&g=1", "display_name": "SaelDev", "link": "https://stackoverflow.com/users/12022156/saeldev"}, "is_accepted": true, "score": 1, "last_activity_date": 1567634118, "creation_date": 1567634118, "answer_id": 57796084, "question_id": 57795865, "link": "https://stackoverflow.com/questions/57795865/how-to-detect-when-a-form-changes-from-one-screen-to-another/57796084#57796084", "title": "How to detect when a form changes from one screen to another", "body": "<p>You can use ResizeEnd event on Control that is fired when the control is resized or moved.\nThen you can use Screen.FromControl() to get the actual screen.\nExample :</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    private Screen _actualScreen;\n\n    public Form1()\n    {\n        InitializeComponent();\n        _actualScreen = Screen.FromControl(this);\n        this.ResizeEnd += Form1_ResizeEnd;\n    }\n\n    private void Form1_ResizeEnd(object sender, EventArgs e)\n    {\n        if(_actualScreen != Screen.FromControl(this))\n        {\n            //Your treatment\n        }\n    }\n}\n</code></pre>\n\n<p>I Hope this solution can help you !</p>\n"}], "owner": {"reputation": 63, "user_id": 10869092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a2ec03048690a805700f76970b7254?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/10869092/greg"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "closed_date": 1567640629, "accepted_answer_id": 57796084, "answer_count": 1, "score": -2, "last_activity_date": 1567666568, "creation_date": 1567632751, "last_edit_date": 1567666568, "question_id": 57795865, "link": "https://stackoverflow.com/questions/57795865/how-to-detect-when-a-form-changes-from-one-screen-to-another", "closed_reason": "Needs details or clarity", "title": "How to detect when a form changes from one screen to another", "body": "<p>I need an event or notification that signals when a form changes from one screen to another.</p>\n\n<p>I know I can poll for this, but I'm looking for a non-polling solution.</p>\n"}, {"tags": ["c#", "sharepoint", "csom"], "comments": [{"owner": {"reputation": 2330, "user_id": 410753, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8333d6caa73e0756c4be4ae5d77b5db2?s=128&d=identicon&r=PG", "display_name": "sasfrog", "link": "https://stackoverflow.com/users/410753/sasfrog"}, "edited": false, "score": 0, "creation_date": 1567826358, "post_id": 57795822, "comment_id": 102090525, "body": "Maybe in addition to retrying, you could explicitly set the clientcontext\u2019s timeout value to something longer"}, {"owner": {"reputation": 11, "user_id": 5445984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fb5dcd98f17d9cee28b5d2edabea1e5?s=128&d=identicon&r=PG&f=1", "display_name": "Fariba", "link": "https://stackoverflow.com/users/5445984/fariba"}, "reply_to_user": {"reputation": 2330, "user_id": 410753, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8333d6caa73e0756c4be4ae5d77b5db2?s=128&d=identicon&r=PG", "display_name": "sasfrog", "link": "https://stackoverflow.com/users/410753/sasfrog"}, "edited": false, "score": 0, "creation_date": 1568039423, "post_id": 57795822, "comment_id": 102138362, "body": "I changed it in IIS and config file before that seems didn&#39;t work. I added to the code this time to see if it helps at all but I should wait for the next time that problem happens in the server but I was looking to see if there is any other solutions"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5445984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fb5dcd98f17d9cee28b5d2edabea1e5?s=128&d=identicon&r=PG&f=1", "display_name": "Fariba", "link": "https://stackoverflow.com/users/5445984/fariba"}, "edited": false, "score": 0, "creation_date": 1568231227, "post_id": 57862899, "comment_id": 102213057, "body": "I have a log file to keep track of everything. There is nothing wrong with the last file and sometimes the file size is only 10k but it still fails"}], "tags": [], "owner": {"reputation": 1096, "user_id": 3245390, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/1551076163/picture?type=large", "display_name": "Zain", "link": "https://stackoverflow.com/users/3245390/zain"}, "is_accepted": false, "score": 0, "last_activity_date": 1568078551, "creation_date": 1568078551, "answer_id": 57862899, "question_id": 57795822, "link": "https://stackoverflow.com/questions/57795822/the-operation-has-timed-out-on-uploading-document-and-updating-metadata-in-share/57862899#57862899", "title": "The operation has timed out on uploading document and updating metadata in sharepoint library using clientcontext.executequery()", "body": "<p>There's too many possible reasons for me to really comment on a solution, especially considering it's only on the prod environment.</p>\n\n<p>What I can say is that it's probably easiest to keep a reference to the last uploaded file. If your code fails then check if the last file has been uploaded correctly.</p>\n\n<p>Side note: I'm not sure if this is relevant but if it's a large file you want to upload it in slices.</p>\n"}], "owner": {"reputation": 11, "user_id": 5445984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fb5dcd98f17d9cee28b5d2edabea1e5?s=128&d=identicon&r=PG&f=1", "display_name": "Fariba", "link": "https://stackoverflow.com/users/5445984/fariba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 646, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568078551, "creation_date": 1567632398, "question_id": 57795822, "link": "https://stackoverflow.com/questions/57795822/the-operation-has-timed-out-on-uploading-document-and-updating-metadata-in-share", "title": "The operation has timed out on uploading document and updating metadata in sharepoint library using clientcontext.executequery()", "body": "<p>I wrote a program using CSOM to upload documents to SharePoint and insert metadata to the properties. once a while(like every 3 months) the SharePoint server gets busy or we reset IIS or any other communication problem that it may have, we get \"The operation has timed out\" error on clientContext.ExecuteQuery(). To resolve the issue I wrote an extension method for ExecuteQuery to try every 10 seconds for 5 times to connect to the server and execute the query. My code works in the Dev and QA environment without any problem but in Prod, when it fails the first time with timeout error, in the second attempt, it only uploads the document but it doesn't update the properties and all the properties are empty in the library. It doesn't return any error as result of ExecteQuery() but It seems from the two requests in the batch witch are uploading the file and updating the properties, it just does uploading and I don't know what happens to the properties. It kinda removes that from the batch in the second attempt!</p>\n\n<p>I used both upload methods docs.RootFolder.Files.Add and File.SaveBinaryDirect in different parts of my code but I copy just one of them here so you can see what I have in my code.\nI appreciate your help.</p>\n\n<pre><code> public static void ExecuteSharePointQuery(ClientContext context)\n    {\n        int cnt = 0;\n        bool isExecute = false;\n\n        while (cnt &lt; 5)\n        {\n            try\n            {                    \n                context.ExecuteQuery();\n                isExecute = true;\n                break;\n            }\n            catch (Exception ex)\n            {\n                cnt++;\n                Logger.Error(string.Format(\"Communication attempt with SharePoint failed. Attempt {0}\", cnt));\n                Logger.Error(ex.Message);\n                Thread.Sleep(10000);\n                if (cnt == 5 &amp;&amp; isExecute == false)\n                {\n                    Logger.Error(string.Format(\"Couldn't execute the query in SharePoint.\"));\n                    Logger.Error(ex.Message);\n                    throw;\n                }\n            }\n        }\n    }\n public static void UploadSPFileWithProperties(string siteURL, string listTitle, FieldMapper item)\n   {\n       Logger.Info(string.Format(\"Uploading to SharePoint: {0}\", item.pdfPath));\n\n       using (ClientContext clientContext = new ClientContext(siteURL))\n       {\n           using (FileStream fs = new FileStream(item.pdfPath, FileMode.Open))\n           {\n               try\n               {\n                   FileCreationInformation fileCreationInformation = new FileCreationInformation();\n                   fileCreationInformation.ContentStream = fs;\n                   fileCreationInformation.Url = Path.GetFileName(item.pdfPath);\n                   fileCreationInformation.Overwrite = true;\n\n                   List docs = clientContext.Web.Lists.GetByTitle(listTitle);\n\n                   Microsoft.SharePoint.Client.File uploadFile = docs.RootFolder.Files.Add(fileCreationInformation);\n                   uploadFile.CheckOut();\n\n                   //Update the metadata\n                   ListItem listItem = uploadFile.ListItemAllFields;\n\n                   //Set field values on item\n                   foreach (List&lt;string&gt; list in item.fieldMappings)\n                   {\n                       if (list[FieldMapper.SP_VALUE_INDEX] != null)\n                       {\n                           TrySet(ref listItem, list[FieldMapper.SP_FIELD_NAME_INDEX], (FieldType)Enum.Parse(typeof(FieldType), list[FieldMapper.SP_TYPE_INDEX]), list[FieldMapper.SP_VALUE_INDEX]);\n                       }\n                   }\n                   listItem.Update();                       \n                   uploadFile.CheckIn(string.Empty, CheckinType.OverwriteCheckIn);\n\n                   SharePointUtilities.ExecuteSharePointQuery(clientContext);                      \n\n               }\n               catch (Exception ex)\n               {\n\n               }\n           }\n       }\n   }\n</code></pre>\n"}, {"tags": ["c#", "xaml", "listview", "xamarin.forms", "xamarin-forms-4"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1567632381, "post_id": 57795738, "comment_id": 102024758, "body": "&quot;after which I cannot hide it within code&quot; - where is the code where you are attempting to do this?  I don&#39;t see it."}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 0, "creation_date": 1567664137, "post_id": 57795738, "comment_id": 102031226, "body": "Hi , have a check with method of <code>TextChanged</code> .Maybe when text is null ,method not show null . You can show code of <code>TextChanged</code>, I will check it."}, {"owner": {"reputation": 427, "user_id": 9916663, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZZtOKC8mWPk/AAAAAAAAAAI/AAAAAAAAGaw/q8uM6m6Guoo/photo.jpg?sz=128", "display_name": "steve", "link": "https://stackoverflow.com/users/9916663/steve"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1567668944, "post_id": 57795738, "comment_id": 102033213, "body": "@Jason i cut the code short so the post would not be long but, what I had was <code>FilteredOccupationsVisible = false</code> after <code>SearchText</code> property was setusing <code>SetProperty</code>. That did not work."}, {"owner": {"reputation": 427, "user_id": 9916663, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZZtOKC8mWPk/AAAAAAAAAAI/AAAAAAAAGaw/q8uM6m6Guoo/photo.jpg?sz=128", "display_name": "steve", "link": "https://stackoverflow.com/users/9916663/steve"}, "reply_to_user": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 0, "creation_date": 1567668998, "post_id": 57795738, "comment_id": 102033237, "body": "@JuniorJiang-MSFT I am using PrismEventToCommand, so when the text is changed <code>FilterOccupationsList()</code> is called. Sorry I did not make that clear"}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 0, "creation_date": 1567671564, "post_id": 57795738, "comment_id": 102034473, "body": "@steve Maybe you can have a try with <code>INotifyPropertyChanged </code> in Model , also not sure prism can use this. Have a look at this about <a href=\"https://docs.microsoft.com/en-us/xamarin/xamarin-forms/xaml/xaml-basics/data-bindings-to-mvvm\" rel=\"nofollow noreferrer\">INotifyPropertyChanged</a>."}, {"owner": {"reputation": 427, "user_id": 9916663, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZZtOKC8mWPk/AAAAAAAAAAI/AAAAAAAAGaw/q8uM6m6Guoo/photo.jpg?sz=128", "display_name": "steve", "link": "https://stackoverflow.com/users/9916663/steve"}, "reply_to_user": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 0, "creation_date": 1567674439, "post_id": 57795738, "comment_id": 102036004, "body": "Again @JuniorJiang-MSFT, my mistake. My viewmodel inherits from <code>BaseViewModel</code> my base vm class which also inherits INotifyPropertyChanged. I&#39;ll update the code to reflect that now. <code>SetProperty()</code> is where the property is changed using that interface"}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 0, "creation_date": 1567675197, "post_id": 57795738, "comment_id": 102036413, "body": "@steve Okey ,thanks for updating. Code of method <code>FilterOccupationsListCommand</code> need to be shared.When text changed ,will invoke this mentod .Here can know whether should hide listview."}, {"owner": {"reputation": 427, "user_id": 9916663, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZZtOKC8mWPk/AAAAAAAAAAI/AAAAAAAAGaw/q8uM6m6Guoo/photo.jpg?sz=128", "display_name": "steve", "link": "https://stackoverflow.com/users/9916663/steve"}, "edited": false, "score": 0, "creation_date": 1567677481, "post_id": 57795738, "comment_id": 102037667, "body": "The <code>FilterOccupationsListCommand</code> literally just calls <code>FilterOccupationsList()</code>. Thats it. But i will add that there for more clarity. Thanks"}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 0, "creation_date": 1567733179, "post_id": 57795738, "comment_id": 102060398, "body": "@steve If using Command , have a look at <a href=\"https://docs.microsoft.com/en-us/xamarin/xamarin-forms/app-fundamentals/data-binding/commanding#using-command-parameters\" rel=\"nofollow noreferrer\">here</a>."}], "answers": [{"comments": [{"owner": {"reputation": 427, "user_id": 9916663, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZZtOKC8mWPk/AAAAAAAAAAI/AAAAAAAAGaw/q8uM6m6Guoo/photo.jpg?sz=128", "display_name": "steve", "link": "https://stackoverflow.com/users/9916663/steve"}, "edited": false, "score": 0, "creation_date": 1567760445, "post_id": 57814805, "comment_id": 102068102, "body": "Thanks, I resolved it already by playing around with <code>True</code> and <code>False</code> for <code>FilteredOccupationsVisible</code> after a while. <code>DeletegateCommand</code> is a PrismMvvm framework class by the way. Thanks again for your input."}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "reply_to_user": {"reputation": 427, "user_id": 9916663, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZZtOKC8mWPk/AAAAAAAAAAI/AAAAAAAAGaw/q8uM6m6Guoo/photo.jpg?sz=128", "display_name": "steve", "link": "https://stackoverflow.com/users/9916663/steve"}, "edited": false, "score": 0, "creation_date": 1567761116, "post_id": 57814805, "comment_id": 102068416, "body": "@steve Great , glad solved it ! When have time , you can share it in answer. Then other people will see solution."}], "tags": [], "owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "is_accepted": false, "score": 1, "last_activity_date": 1567734832, "creation_date": 1567734832, "answer_id": 57814805, "question_id": 57795738, "link": "https://stackoverflow.com/questions/57795738/complexed-issue-with-hiding-listview-xamarin-forms/57814805#57814805", "title": "complexed Issue with hiding ListView Xamarin Forms", "body": "<p>If not using <code>Behaviors</code> in <code>SearchBar</code> , you can have a try with <code>TextChanged</code> method of itself.</p>\n\n<pre><code>&lt;SearchBar x:Name=\"MySearchBar\" Text=\"SearchText\" TextChanged=\"SearchBar_TextChanged\" /&gt;\n</code></pre>\n\n<p>In ContentPage , when text cheanged fire here :</p>\n\n<pre><code>MyViewModel myViewModel = new MyViewModel();    \n\nprivate void SearchBar_TextChanged(object sender, TextChangedEventArgs e)\n{\n    Console.WriteLine(\"new -- \" + e.NewTextValue + \"-- old -- \" + e.OldTextValue);\n    Console.WriteLine(\"MyEntry --\" + MySearchBar.Text);\n    //Here can invoke FilterOccupationsList of MyViewModel \n    myViewModel.FilterOccupationsList(MySearchBar.Text);\n}\n</code></pre>\n\n<p>Else if using Command to do , you need to add isntance of <code>ICommand</code> in <code>MyViewModel</code> to invoke <code>FilterOccupationsList</code>.</p>\n\n<pre><code>public class MyViewModel : BaseViewModel\n{\n    public ICommand FilterOccupationsListCommand { private set; get; }\n    ...\n\n    public MyViewModel()\n    {\n       FilterOccupationsListCommand = new Command&lt;string&gt;((NewTextValue) =&gt;\n                {\n                    // Pass value to FilterOccupationsList.\n                    Console.WriteLine(\"SearchBar new text --\" + NewTextValue);\n                    FilterOccupationsList(NewTextValue);\n                });    \n    }\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 427, "user_id": 9916663, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZZtOKC8mWPk/AAAAAAAAAAI/AAAAAAAAGaw/q8uM6m6Guoo/photo.jpg?sz=128", "display_name": "steve", "link": "https://stackoverflow.com/users/9916663/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567734832, "creation_date": 1567631854, "last_edit_date": 1567677577, "question_id": 57795738, "link": "https://stackoverflow.com/questions/57795738/complexed-issue-with-hiding-listview-xamarin-forms", "title": "complexed Issue with hiding ListView Xamarin Forms", "body": "<p>I have a search bar with the property <code>Text</code> binded to a string property in my <code>ViewModel</code>.</p>\n\n<p>I also have <code>Behaviors</code> within the search bar so that every time the text is changed a search is done within a list of objects using <code>NewTextValue</code> passed to as the query string.</p>\n\n<p>The issue I have is that, I make the <code>ListView</code> invisible until a non-empty string is passed to my Search/Filter command (obviously.. :)). I have tried to enforcing hiding the <code>ListView</code> for a couple scenarios e.g. if all text is removed from the search bar.</p>\n\n<p>When an item is selected from the now visible list view I used that item to populate the <code>Text</code> property of my <code>SearchBar</code>, after which I cannot hide it within code. All attempts have failed and the <code>ListView</code> remains visible. <strong>Note</strong>: I explicity created a hide button separately and saw it worked so I am wondering if I cannot tie hiding the view with setting the searchbar <code>Text</code> property.</p>\n\n<h3>View</h3>\n\n<pre><code>&lt;SearchBar Text=\"{Binding SearchText}\"&gt;\n                    &lt;SearchBar.Behaviors&gt;\n                        &lt;prismBehaviors:EventToCommandBehavior EventName=\"TextChanged\"\n                                                               Command=\"{Binding FilterOccupationsListCommand}\"\n                                                               EventArgsParameterPath=\"NewTextValue\"/&gt;\n                    &lt;/SearchBar.Behaviors&gt;\n                &lt;/SearchBar&gt;\n                &lt;ListView ItemsSource=\"{Binding FilteredOccupations}\" IsVisible=\"{Binding FilteredOccupationsVisible}\"  SelectedItem=\"{Binding Occupation, Mode=TwoWay}\"&gt;\n                    &lt;ListView.ItemTemplate&gt;\n                        &lt;DataTemplate&gt;\n                            &lt;TextCell Text=\"{Binding Name}\"/&gt;\n                        &lt;/DataTemplate&gt;\n                    &lt;/ListView.ItemTemplate&gt;\n                &lt;/ListView&gt;\n</code></pre>\n\n<p><strong>Please Note</strong> : My ViewModel inherits from <code>BaseViewModel</code> which inherits <code>INotifyPropertyChanged</code>. <code>SetProperty()</code> is what notifies the property. This is quite common with MvvmCross, Prism etc. </p>\n\n<h3>ViewModel</h3>\n\n<pre><code>public class MyViewModel : BaseViewModel\n{\n    public DelegateCommand&lt;string&gt; FilterOccupationsListCommand { get; }\n    public MyViewModel()\n    {\n        FilterOccupationsListCommand = new DelegateCommand&lt;string&gt;(FilterOccupationsList);\n    }\n    private void FilterOccupationsList(string query)\n    {\n        if (!string.IsNullOrWhiteSpace(query))\n        {\n            FilteredOccupationsVisible = true;\n            var searchResult = Occupations.Where(x =&gt; x.Name.ToLower().Contains(query));\n            FilteredOccupations = new ObservableCollection&lt;Occupation&gt;(searchResult);\n        }\n        else\n            FilteredOccupationsVisible = false;\n    }\n\n    private Occupation _occupation;\n    public Occupation Occupation\n    {\n        get =&gt; _occupation;\n        set\n        {\n            SetProperty(ref _occupation, value);\n            SearchText = value.Name;\n        }\n    }\n\n    private string _name;\n    public string Name { get =&gt; _name; set =&gt; SetProperty(ref _name, value); }\n    private string _searchText;\n    public string SearchText \n    { \n        get =&gt; _searchText; \n        set { \n              SetProperty(ref _searchText, value); \n              FilteredOccupationsVisible = false;\n            } \n    }\n\n    private bool _filteredOccupationsVisible;\n    public bool FilteredOccupationsVisible { get =&gt; _filteredOccupationsVisible; set =&gt; SetProperty(ref _filteredOccupationsVisible, value); }\n\n    public ObservableCollection&lt;Occupation&gt; _filteredOccupations = new ObservableCollection&lt;Occupation&gt;();\n    public ObservableCollection&lt;Occupation&gt; FilteredOccupations { get =&gt; _filteredOccupations; set { SetProperty(ref _filteredOccupations, value); } }\n}\n</code></pre>\n"}, {"tags": ["c#", "mongodb-.net-driver"], "comments": [{"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1567634285, "post_id": 57795699, "comment_id": 102025280, "body": "Did you tried <code>var filter = builder.Ne(&quot;Type&quot;, &quot;Header&quot;) &amp; builder.Ne(&quot;Type&quot;, (string)null) &amp; builder.In(&quot;Date&quot;,  dates);</code>"}, {"owner": {"reputation": 21516, "user_id": 1249962, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/rHCpd.gif?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/1249962/richard"}, "reply_to_user": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1567648570, "post_id": 57795699, "comment_id": 102027818, "body": "Will be trying that, but potential problem with <code>.In(&quot;Date&quot;, dates)</code> is the time portion. The date values in the documents are like <code>2018-01-01T05:02:38.000+00:00</code> and the date values in the list are like <code>2018-01-01T00:00:00+00:00</code>"}, {"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1567671334, "post_id": 57795699, "comment_id": 102034355, "body": "You may try to access Today property on date(&quot;Date.Today&quot;) then. I can&#39;t find anything in docs, but may be worth trying.  <code>var filter = builder.Ne(&quot;Type&quot;, &quot;Header&quot;) &amp; builder.Ne(&quot;Type&quot;, (string)null) &amp; builder.In(&quot;Date.Today&quot;, dates);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 21516, "user_id": 1249962, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/rHCpd.gif?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/1249962/richard"}, "is_accepted": false, "score": 0, "last_activity_date": 1567859194, "creation_date": 1567859194, "answer_id": 57833675, "question_id": 57795699, "link": "https://stackoverflow.com/questions/57795699/building-a-filter-for-any-of-these-dates-against-a-datetime-field-in-mongodb-c/57833675#57833675", "title": "Building a filter for &#39;any of these dates&#39; against a DateTime field in MongoDB collection", "body": "<p>I managed to get a working filter with the following code:</p>\n\n<pre><code>    private Task LoadCollection(string collectionName, List&lt;DateTime&gt; dates) \n    {\n        return Task.Run(() =&gt;\n        {\n            var builder = Builders&lt;BsonDocument&gt;.Filter;\n            var dateRangeFilters = new List&lt;FilterDefinition&lt;BsonDocument&gt;&gt;();\n            foreach (DateTime item in dates)\n            {\n                dateRangeFilters.Add(\n                    builder.Gte(\"Date\", item.Date) \n                    &amp;\n                    builder.Lt(\"Date\", item.Date.AddDays(1)));\n            }\n\n            var anyOfTheseDatesFilter = builder.Or(dateRangeFilters);\n\n            var filter = \n                  builder.Ne(\"Type\", \"Header\") \n                &amp; builder.Ne(\"Type\", (string)null)\n                &amp; anyOfTheseDatesFilter\n            ;\n\n            var collectionDocuments =\n                Database\n                .GetCollection&lt;BsonDocument&gt;(collectionName)\n                .Find(filter)\n                .ToList()\n            ;\n</code></pre>\n"}], "owner": {"reputation": 21516, "user_id": 1249962, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/rHCpd.gif?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/1249962/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567859194, "creation_date": 1567631540, "last_edit_date": 1567857690, "question_id": 57795699, "link": "https://stackoverflow.com/questions/57795699/building-a-filter-for-any-of-these-dates-against-a-datetime-field-in-mongodb-c", "title": "Building a filter for &#39;any of these dates&#39; against a DateTime field in MongoDB collection", "body": "<p>I have a method that will retrieve documents from collections that have a datetime stamp field named <code>Date</code>.  The method is passed a list of datetimes (with <code>00:00:00</code> time).</p>\n\n<p>Suppose the list has 3 datetimes.\nI am trying to figure out how to construct a filter to retrieve documents with</p>\n\n<pre><code>// pseudo-code\n.Type != \"Header\" &amp;\n.Type != \"\" &amp;\n( ( datetime[0] &lt;= .Date &amp; .Date &lt; datetime[0].AddDays(1) ) |\n  ( datetime[1] &lt;= .Date &amp; .Date &lt; datetime[1].AddDays(1) ) |\n  ( datetime[2] &lt;= .Date &amp; .Date &lt; datetime[2].AddDays(1) )\n)\n</code></pre>\n\n<p>or perhaps</p>\n\n<pre><code>.Type != \"Header\" &amp;\n.Type != \"\" &amp;\n.Date(DatePartOf) in (datetime[0], datetime[1], datetime[2])\n</code></pre>\n\n<p>What I have</p>\n\n<pre><code>private Task LoadCollection(string collectionName, List&lt;ListItem_Date&gt; dates)\n{\n        return Task.Run(() =&gt;\n        {\n            var builder = Builders&lt;BsonDocument&gt;.Filter;\n            var filter = \n                  builder.Ne(\"Type\", \"Header\") \n                &amp; builder.Ne(\"Type\", (string)null)\n                &amp; \n//\n// Not sure what can go here to filter to the list of dates \n//\n            ;\n\n            var collectionDocuments =\n                Database\n                .GetCollection&lt;BsonDocument&gt;(collectionName)\n                .Find(filter)\n                .ToList()\n            ;\n\n            \u2026 \n</code></pre>\n"}, {"tags": ["c#", "razor"], "comments": [{"owner": {"reputation": 11404, "user_id": 629323, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8f2bcde07543df4e1397d1781d645d2e?s=128&d=identicon&r=PG", "display_name": "GraemeMiller", "link": "https://stackoverflow.com/users/629323/graememiller"}, "edited": false, "score": 0, "creation_date": 1567632488, "post_id": 57795644, "comment_id": 102024802, "body": "Is Id a route parameter as well?"}, {"owner": {"reputation": 3325, "user_id": 210713, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9bd21dc1cd6c769d5cc249e662a1b8fa?s=128&d=identicon&r=PG", "display_name": "TedTrippin", "link": "https://stackoverflow.com/users/210713/tedtrippin"}, "reply_to_user": {"reputation": 11404, "user_id": 629323, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8f2bcde07543df4e1397d1781d645d2e?s=128&d=identicon&r=PG", "display_name": "GraemeMiller", "link": "https://stackoverflow.com/users/629323/graememiller"}, "edited": false, "score": 0, "creation_date": 1567633304, "post_id": 57795644, "comment_id": 102025064, "body": "No, default routing"}], "owner": {"reputation": 3325, "user_id": 210713, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9bd21dc1cd6c769d5cc249e662a1b8fa?s=128&d=identicon&r=PG", "display_name": "TedTrippin", "link": "https://stackoverflow.com/users/210713/tedtrippin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567631212, "creation_date": 1567631212, "question_id": 57795644, "link": "https://stackoverflow.com/questions/57795644/razor-hidden-field-value-stays-the-same-after-submitting", "title": "Razor - Hidden field value stays the same after submitting", "body": "<p>I'm trying to get a number of forms, each with a hidden field and drop down.</p>\n\n<pre><code>&lt;table class=\"table\"&gt;\n@foreach (var sport in Model.Sports)\n{        \n    @using (Html.BeginForm(\"Index\"))\n    {\n        &lt;tr&gt;\n            &lt;td&gt;\n                @Html.Label(sport.Name, sport.Name)\n                @Html.Hidden(\"sportId\", sport.Id)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @Html.DropDownList(\"masterSelect\", new SelectList((IEnumerable&lt;ThingModel&gt;)Model.Things, \"Id\", \"Name\", Model.GetThing(sport.Id).Id), new { @class = \"dropleft\", onchange = \"this.form.submit();\" })\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    }\n}\n&lt;/table&gt;\n</code></pre>\n\n<p>The first time I load the page, and change the value in a drop down, the form posts the correct values to the controller. When the page reloads, the <code>sport.Name</code> fields are all different (as expected) but the hidden fields all have the same value, the one selected from the drop down. Even when I debugged the cshtml, I can see <code>sport.Id</code> has the correct value but its not the one being rendered.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"reputation": 1587, "user_id": 1636492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6d0ccf8f18fabe4e9963d504197cfc5?s=128&d=identicon&r=PG", "display_name": "hugo", "link": "https://stackoverflow.com/users/1636492/hugo"}, "edited": false, "score": 0, "creation_date": 1567630055, "post_id": 57795343, "comment_id": 102023994, "body": "are you sure you can use simple string with &quot;userManager.AddToRole(Users, Roles);&quot; ?"}, {"owner": {"reputation": 73, "user_id": 11112406, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213758362221833/picture?type=large", "display_name": "NotSoSure", "link": "https://stackoverflow.com/users/11112406/notsosure"}, "reply_to_user": {"reputation": 1587, "user_id": 1636492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6d0ccf8f18fabe4e9963d504197cfc5?s=128&d=identicon&r=PG", "display_name": "hugo", "link": "https://stackoverflow.com/users/1636492/hugo"}, "edited": false, "score": 0, "creation_date": 1567630462, "post_id": 57795343, "comment_id": 102024144, "body": "I am not sure about that. I havent learn AddToRoleAsync method yet. So I cannot add string directly in AddToRole Method?"}, {"owner": {"reputation": 1587, "user_id": 1636492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6d0ccf8f18fabe4e9963d504197cfc5?s=128&d=identicon&r=PG", "display_name": "hugo", "link": "https://stackoverflow.com/users/1636492/hugo"}, "edited": false, "score": 0, "creation_date": 1567630701, "post_id": 57795343, "comment_id": 102024226, "body": "you shouls log what is users and roles from your post.  Pay attention, AddToRole and AddToRoleAsync are not the same.  What are you using?"}, {"owner": {"reputation": 73, "user_id": 11112406, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213758362221833/picture?type=large", "display_name": "NotSoSure", "link": "https://stackoverflow.com/users/11112406/notsosure"}, "reply_to_user": {"reputation": 1587, "user_id": 1636492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6d0ccf8f18fabe4e9963d504197cfc5?s=128&d=identicon&r=PG", "display_name": "hugo", "link": "https://stackoverflow.com/users/1636492/hugo"}, "edited": false, "score": 1, "creation_date": 1567631493, "post_id": 57795343, "comment_id": 102024510, "body": "I am using AddToRole. And thanks a lot I found My mistake I double-checked the method and AddToRole require Sting of <code>Role Name</code> Not The string of the <code>Role Id</code>. Now It Is working Perfectly fine Thanks @hugo"}], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 11112406, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213758362221833/picture?type=large", "display_name": "NotSoSure", "link": "https://stackoverflow.com/users/11112406/notsosure"}, "is_accepted": true, "score": 1, "last_activity_date": 1567631683, "creation_date": 1567631683, "answer_id": 57795717, "question_id": 57795343, "link": "https://stackoverflow.com/questions/57795343/usermanageraddtoroleuser-role-system-invalidoperationexceptionroledoesrand/57795717#57795717", "title": "userManagerAddToRole(User,Role) : System.InvalidOperationException:RoleDoes&quot;Random Role Id string&quot; not exist", "body": "<p>Sorry Guys It was my bad I did not check the method required parameters correctly. The mistake was <code>userManager.AddToRole()</code>. Requires the <code>roleName</code> not the <code>roleId</code> as a parameter.</p>\n\n<pre><code> public ActionResult AssignRoles()\n        {\n            ViewBag.Users = new SelectList(db.Users, \"Id\", \"UserName\");\n            ViewBag.Roles = new SelectList(db.Roles, \"Name\", \"Name\"); // Here I was Passing the Id insted Of Role Name.\n            return View();\n        }\n        [HttpPost]\n        public ActionResult AssignRoles(string Users,string Roles)\n        {\n            usersManager.AddToRole(Users, Roles);\n            ViewBag.Users = new SelectList(db.Users, \"Id\", \"UserName\");\n            ViewBag.Roles = new SelectList(db.Roles, \"Name\", \"Name\");\n            return View();\n        }\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 11112406, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213758362221833/picture?type=large", "display_name": "NotSoSure", "link": "https://stackoverflow.com/users/11112406/notsosure"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 1, "accepted_answer_id": 57795717, "answer_count": 1, "score": 0, "last_activity_date": 1567661742, "creation_date": 1567629479, "last_edit_date": 1567661742, "question_id": 57795343, "link": "https://stackoverflow.com/questions/57795343/usermanageraddtoroleuser-role-system-invalidoperationexceptionroledoesrand", "title": "userManagerAddToRole(User,Role) : System.InvalidOperationException:RoleDoes&quot;Random Role Id string&quot; not exist", "body": "<p>I am new to Entity Framework and ASP.NET MVC. In my project, I am trying to assign a role to a user. when I am trying to assign a role to the user, this error gets generated. Even though I tried to see in debugger, I get the Role Id and user id perfectly which I am expecting but when those <code>id</code> are passed to <code>userManager.AddToRole(User,Role)</code> it says role does not exist.</p>\n\n<p>Here is my seed method where I am creating role. Those roles are getting created in <code>AspNetRoles</code> table.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>internal sealed class Configuration : DbMigrationsConfiguration&lt;VacationProjectV2.Models.ApplicationDbContext&gt;\n{\n    private RoleManagement roleManager;\n    private ApplicationDbContext dbContext;\n    public Configuration()\n    {\n        AutomaticMigrationsEnabled = false;\n        dbContext = new ApplicationDbContext();\n        roleManager = new RoleManagement(dbContext);\n    }\n\n    protected override void Seed(VacationProjectV2.Models.ApplicationDbContext context)\n    {\n        //  This method will be called after migrating to the latest version.C:\\Users\\brahm\\source\\repos\\VacationProjectV2\\VacationProjectV2\\App_Start\\\n        //  You can use the DbSet&lt;T&gt;.AddOrUpdate() helper extension method \n        //  to avoid creating duplicate seed data.\n        roleManager.CreateRole(\"Admin\")   //.ToString().ToUpper();\n        roleManager.CreateRole(\"ProjectManager\")  //.ToString().ToUpper();\n        roleManager.CreateRole(\"Developer\") //.ToString().ToUpper();\n    }\n}\n</code></pre>\n\n<p>Here is my AdminController where I am trying to assign it.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class AdminsController : Controller\n{\n    ApplicationDbContext db = new ApplicationDbContext();\n    UserManager&lt;ApplicationUser&gt; userManager;\n    RoleManager&lt;IdentityRole&gt; roleManager;\n\n    public AdminsController()\n    {\n        roleManager = new RoleManager&lt;IdentityRole&gt;(new RoleStore&lt;IdentityRole&gt;(db));\n        userManager = new UserManager&lt;ApplicationUser&gt;(new UserStore&lt;ApplicationUser&gt;(db));\n    }\n    // GET: Admins\n\n    public ActionResult AssignRole()\n    {\n        ViewBag.Users = new SelectList(db.Users, \"Id\", \"UserName\");\n        ViewBag.Roles = new SelectList(db.Roles, \"Id\", \"Name\");\n        return View();\n    }\n\n    [HttpPost]\n    public ActionResult AssignRole(string Users,String Roles)\n    {\n        userManager.AddToRole(Users, Roles);\n        ViewBag.Users = new SelectList(db.Users, \"Id\", \"UserName\");\n        ViewBag.Roles = new SelectList(db.Roles, \"Id\", \"Name\");\n        return View();\n    }\n    public ActionResult Index()\n    {\n        return View();\n    }\n}\n</code></pre>\n\n<p>And here the <code>View</code> code</p>\n\n<pre><code>@{\n    ViewBag.Title = \"AssignRoles\";\n}\n\n&lt;h2&gt;AssignRoles&lt;/h2&gt;\n@using (Html.BeginForm())\n{\n    @Html.DropDownList(\"Users\", \"Select User\");\n    @Html.DropDownList(\"Roles\",\"Select Role\")\n    &lt;input type=\"Submit\" value=\"Add Role\"/&gt;\n}\n</code></pre>\n\n<p>So I wanted to see <code>UserId</code> and <code>RoleId</code> in <code>AspNetUserRoles</code> table. I don't know where I am making mistake. I tried to create roles in seed method using <code>.Tostrong().ToUpper()</code> by seeing another post with the same issue but it didn't work for me. Please let me know where I am making a mistake.</p>\n"}, {"tags": ["c#", "dynamic", "structure", "knapsack-problem"], "owner": {"reputation": 11, "user_id": 12021856, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDPCbS-QclA_JvABWmUNuMnn8D7YZVjXPkcWK3K-g=k-s128", "display_name": "Keshav Singh", "link": "https://stackoverflow.com/users/12021856/keshav-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567656160, "creation_date": 1567629472, "last_edit_date": 1567656160, "question_id": 57795340, "link": "https://stackoverflow.com/questions/57795340/coin-change-problem-need-asssitance-with-additional-contraints", "title": "Coin change problem - need asssitance with additional contraints", "body": "<p>I am trying to a variation of the coin change problem with 2 additional constraints. </p>\n\n<p>Additional Constraint #1 - Coins can only have value of 2^N where N = 0,1,2.. or any other non-negative integer</p>\n\n<p>Additional Constraint #2 - You can only use the same coin up to 2 times from constraint 1</p>\n\n<p>What I have done so far is :- </p>\n\n<p>1 . Generate a list of values which are applicable for the sum we wish to attain where, so</p>\n\n<p>Eg:- For 6 , I would generate a list containing [1,2,4]</p>\n\n<ol start=\"2\">\n<li>Generate a list which contains value for how many times you can use a specific coin , according to constraint #2 , this would be 2 for all cases, hence , </li>\n</ol>\n\n<p>[2,2,2] for [1,2,4].</p>\n\n<p>I am unsure of how am I supposed to combined these 2 lists to get the expected output. What I have so far is:-</p>\n\n<pre><code>static int Ways(List&lt;int&gt; coins, List&lt;int&gt; coins_used,  int sum)\n{\n    int[] no_of_ways = new int[sum + 1]; \n    results[0] = 1;\n    for (int i = 0; i &lt; coins.Count; i++)\n        for (int times = 0; times &lt; coins_used[i]; times++) // I want to make sure that we use one value only up to 2 times\n            for (int j = coins[i]; j &lt;= sum; j++)\n                no_of_ways[j] += no_of_ways[j - times*coins[i]];\n    return no_of_ways[sum];\n}\n</code></pre>\n\n<p>Expected Result : - For sum = 6, the function should return 3 since we can represent 6 in 3 different ways which are {1,1,4} , {1,1,2,2} , {2,4}</p>\n\n<p>Actual Result : the function returns 17</p>\n"}, {"tags": ["c#", "visual-studio", "unity3d"], "comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1567631600, "post_id": 57795300, "comment_id": 102024548, "body": "What&#39;s the full error message?"}, {"owner": {"reputation": 1325, "user_id": 4139780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A3v6x.gif?s=128&g=1", "display_name": "TimChang", "link": "https://stackoverflow.com/users/4139780/timchang"}, "edited": false, "score": 0, "creation_date": 1567654283, "post_id": 57795300, "comment_id": 102028779, "body": "Is it in Visual Studio only ? Unity Editor also have this error ?"}, {"owner": {"reputation": 143, "user_id": 6672348, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10205139217587987/picture?type=large", "display_name": "Lewis Seddon", "link": "https://stackoverflow.com/users/6672348/lewis-seddon"}, "reply_to_user": {"reputation": 1325, "user_id": 4139780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A3v6x.gif?s=128&g=1", "display_name": "TimChang", "link": "https://stackoverflow.com/users/4139780/timchang"}, "edited": false, "score": 0, "creation_date": 1567667999, "post_id": 57795300, "comment_id": 102032813, "body": "@TimChang it&#39;s in Visual Studio only yes, when I run from Unity Editor it compiles and I can see the changes made in the script. However, this means I cannot debug in Visual Studio due to not being able to Attach To Unity"}, {"owner": {"reputation": 1325, "user_id": 4139780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A3v6x.gif?s=128&g=1", "display_name": "TimChang", "link": "https://stackoverflow.com/users/4139780/timchang"}, "edited": false, "score": 0, "creation_date": 1567668963, "post_id": 57795300, "comment_id": 102033220, "body": "@LewisSeddon It&#39;s look like visual studio refrence problem , so you can delete all <code>&quot;.csproj&quot; &quot;.vs&quot; &quot;.sln&quot;</code> all vitual studio file , And refresh your unity editor , let unity create a new visual studio setting file."}, {"owner": {"reputation": 1325, "user_id": 4139780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A3v6x.gif?s=128&g=1", "display_name": "TimChang", "link": "https://stackoverflow.com/users/4139780/timchang"}, "edited": false, "score": 0, "creation_date": 1567669025, "post_id": 57795300, "comment_id": 102033254, "body": "@LewisSeddon sometimes it could slove the problem , you can try it."}, {"owner": {"reputation": 143, "user_id": 6672348, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10205139217587987/picture?type=large", "display_name": "Lewis Seddon", "link": "https://stackoverflow.com/users/6672348/lewis-seddon"}, "reply_to_user": {"reputation": 1325, "user_id": 4139780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A3v6x.gif?s=128&g=1", "display_name": "TimChang", "link": "https://stackoverflow.com/users/4139780/timchang"}, "edited": false, "score": 0, "creation_date": 1567702708, "post_id": 57795300, "comment_id": 102051502, "body": "@TimChang Unfortunately that didn&#39;t work!"}, {"owner": {"reputation": 143, "user_id": 6672348, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10205139217587987/picture?type=large", "display_name": "Lewis Seddon", "link": "https://stackoverflow.com/users/6672348/lewis-seddon"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1567702718, "post_id": 57795300, "comment_id": 102051504, "body": "@Ruzihm It&#39;s a bunch of CS2001 errors, one example is: Error\tCS2001\tSource file &#39;E:\\Projects\\Project\\Packages\\com.unity.test-framework\\Unity&zwnj;&#8203;Engine.TestRunner\\As&zwnj;&#8203;semblyInfo.cs&#39; could not be found.\tUnityEngine.TestRunner\tE:\\Projects\\Project\\CSC"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1567703130, "post_id": 57795300, "comment_id": 102051667, "body": "What version of visual studio are you using?"}, {"owner": {"reputation": 143, "user_id": 6672348, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10205139217587987/picture?type=large", "display_name": "Lewis Seddon", "link": "https://stackoverflow.com/users/6672348/lewis-seddon"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1567710843, "post_id": 57795300, "comment_id": 102054750, "body": "@Ruzihm VS Community 2017"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1567711124, "post_id": 57795300, "comment_id": 102054856, "body": "@LewisSeddon I&#39;m seeing <a href=\"https://forum.unity.com/threads/error-building-project-with-visual-studio-in-unity-2018-unity-package-source-file-not-found-error.530766/\" rel=\"nofollow noreferrer\">some people have success with a similar problem</a> by updating visual studio (some from 2017.x to a more recent 2017.y; some from 2017.x to 2019.z). Try updating to community 2019. Let us know if that helps you"}, {"owner": {"reputation": 143, "user_id": 6672348, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10205139217587987/picture?type=large", "display_name": "Lewis Seddon", "link": "https://stackoverflow.com/users/6672348/lewis-seddon"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 1, "creation_date": 1567756272, "post_id": 57795300, "comment_id": 102066301, "body": "@Ruzihm Updated the 2017 version and it&#39;s worked. Thanks a lot for your help! If you can make this an answer I will accept :)"}], "answers": [{"tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": true, "score": 1, "last_activity_date": 1567778400, "creation_date": 1567778400, "answer_id": 57823480, "question_id": 57795300, "link": "https://stackoverflow.com/questions/57795300/unityproject-packages-com-unity-test-framework-unityengine-testrunner-files-coul/57823480#57823480", "title": "UnityProject\\Packages\\com.unity.test-framework\\UnityEngine.TestRunner\\Files could not be found", "body": "<p>This is a hard to pin down bug, but in general, people have seen success when they update to a more recent version of Visual Studio. </p>\n\n<p>Update to a newer version of VS 2017 or update to a recent version of VS 2019.</p>\n"}], "owner": {"reputation": 143, "user_id": 6672348, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10205139217587987/picture?type=large", "display_name": "Lewis Seddon", "link": "https://stackoverflow.com/users/6672348/lewis-seddon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 57823480, "answer_count": 1, "score": 1, "last_activity_date": 1567778400, "creation_date": 1567629135, "question_id": 57795300, "link": "https://stackoverflow.com/questions/57795300/unityproject-packages-com-unity-test-framework-unityengine-testrunner-files-coul", "title": "UnityProject\\Packages\\com.unity.test-framework\\UnityEngine.TestRunner\\Files could not be found", "body": "<p>I've just downloaded and installed the newest version of Unity (2019.2.3f1) and integrated my Visual Studio into the project for script editing. However I can't attach any scripts to Unity because of the title error. Do I need to perform some additional setup or include extra dependencies to get this working?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "html", "razor"], "comments": [{"owner": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "edited": false, "score": 0, "creation_date": 1567629402, "post_id": 57795286, "comment_id": 102023760, "body": "Do you mean like <code>@{ var modelValue = Model.value; }</code>?"}, {"owner": {"reputation": 63, "user_id": 7926830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fc7dda97a9a04ca2eeb0a8662871f9a?s=128&d=identicon&r=PG&f=1", "display_name": "grammerPro", "link": "https://stackoverflow.com/users/7926830/grammerpro"}, "reply_to_user": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "edited": false, "score": 0, "creation_date": 1567629454, "post_id": 57795286, "comment_id": 102023786, "body": "Yes, that is exactly what I need."}, {"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "reply_to_user": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "edited": false, "score": 0, "creation_date": 1567629622, "post_id": 57795286, "comment_id": 102023843, "body": "@Xipooo: Please, make answer from your comment."}], "answers": [{"tags": [], "owner": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "is_accepted": true, "score": 0, "last_activity_date": 1567630296, "creation_date": 1567630296, "answer_id": 57795486, "question_id": 57795286, "link": "https://stackoverflow.com/questions/57795286/is-there-a-way-to-access-the-models-data-as-variables-in-razor-not-as-html-dis/57795486#57795486", "title": "Is there a way to access the Model&#39;s data as variables in Razor (not as Html.DisplayFor())?", "body": "<p>You can use the Razor syntax to embed C# directly into a Razor view.</p>\n\n<pre><code>@{ var modelValue = Model.value; }\n</code></pre>\n\n<p>Then you can use the variable elsewhere in your view:</p>\n\n<pre><code>&lt;p&gt;Value: @modelValue&lt;/p&gt;\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 7926830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fc7dda97a9a04ca2eeb0a8662871f9a?s=128&d=identicon&r=PG&f=1", "display_name": "grammerPro", "link": "https://stackoverflow.com/users/7926830/grammerpro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 57795486, "answer_count": 1, "score": 0, "last_activity_date": 1567630296, "creation_date": 1567629081, "question_id": 57795286, "link": "https://stackoverflow.com/questions/57795286/is-there-a-way-to-access-the-models-data-as-variables-in-razor-not-as-html-dis", "title": "Is there a way to access the Model&#39;s data as variables in Razor (not as Html.DisplayFor())?", "body": "<p>I am trying to access the current Model's data in a Razor file, but not as <code>Html.DisplayFor(model =&gt; model.Name)</code>. I would actually like to store the Model's data in a variable like: <code>var Name = Model.Name</code>. Is this possible?</p>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-web-api", "blazor", "blazor-server-side"], "owner": {"reputation": 973, "user_id": 3507404, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/65a150b9efddd0291b8bd3a9ef926357?s=128&d=identicon&r=PG", "display_name": "Ingweland", "link": "https://stackoverflow.com/users/3507404/ingweland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1766, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1567635867, "creation_date": 1567628975, "question_id": 57795271, "link": "https://stackoverflow.com/questions/57795271/how-to-correctly-reuse-the-controller-with-authorization-in-a-blazor-page-in-asp", "title": "How to correctly reuse the controller with authorization in a Blazor page in ASP.NET Core 3", "body": "<p>Prerequisites:</p>\n\n<ol>\n<li>Single ASP.NET Core 3 preview 8 project which includes Blazor server-side and Web Api controllers</li>\n<li>ASP.NET Core Identity</li>\n<li>Cookies and JWT token auth schemes for authorization logic in the browser and when calling the API from mobile clients</li>\n<li>All code samples here have minimum amount of code for brevity.</li>\n</ol>\n\n<p>Here are initial blazor page, model and initial controller</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>@page \"/fetchdata\"\n@attribute [Authorize]\n@using BlazorApp2.Controllers\n\n&lt;button @onclick=\"@callController\"&gt;Call controller&lt;/button&gt;\n\n@code {\n    private async Task callController()\n    {\n    }\n}\n</code></pre>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class InputModel\n{\n    [Required]\n    public string Message { get; set; }\n}\n</code></pre>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[Route(\"api/[controller]\")]\n[ApiController]\n[Authorize]\npublic class MessageController : ControllerBase\n{\n    [HttpPost(\"createMessage\")]\n    public async Task&lt;ActionResult&lt;string&gt;&gt; CreateMessage(InputModel model)\n    {\n        var userId = User.FindFirstValue(ClaimTypes.NameIdentifier);\n        return $\"{model.Message} {userId}\";\n    }\n}\n</code></pre>\n\n<p>Utilizing the controller in a \"normal\" way (by sending http request) gives few built-in benefits: automatic authorization; model validation; populating HttpContext and User properties (and others).</p>\n\n<p>The goal is to reuse the controller when getting data for Blazor page.</p>\n\n<p><strong>Idea 1</strong></p>\n\n<p>Configure and inject the controller into Blazor page in such a way that its actions will be called similar to how they are called during http requests. Not sure how to implement this and if this is actually possible. Registering the controller with DI container is not a problem (<code>AddControllersAsServices()</code>). But this will not populate controller's <code>HttpContext</code> and <code>User</code> properties during injection. The only way (which I know) how to get <code>HttpContext</code> after controller injection is to configure <code>IHttpContextAccessor</code> in <code>Startup</code> (<code>services.AddHttpContextAccessor();</code>) and inject it into the controller. But this also means that when accessing a controller with http request, the <code>HttpContext</code> can be accessed from both injected <code>IHttpContextAccessor</code> and controller's <code>HttpContext</code> property. Is there any possible problem because of this? This solution will also not give the model validation in the controller. At the same time, model can be validated before sending from Blazor page but I am not sure if I have to re-validate it manually in controller in such a case. </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>\n[Route(\"api/[controller]\")]\n[ApiController]\n[Authorize]\npublic class MessageController : ControllerBase\n{\n    private readonly IHttpContextAccessor _httpContextAccessor;\n\n    public MessageController(IHttpContextAccessor httpContextAccessor)\n    {\n        _httpContextAccessor = httpContextAccessor;\n    }\n\n    [HttpPost(\"createMessage\")]\n    public async Task&lt;ActionResult&lt;string&gt;&gt; CreateMessage(InputModel model)\n    {\n        var userId = _httpContextAccessor.HttpContext.User.FindFirstValue(ClaimTypes.NameIdentifier);\n        return $\"{model.Message} {userId}\";\n    }\n}\n\n</code></pre>\n\n<pre class=\"lang-cs prettyprint-override\"><code>@page \"/fetchdata\"\n@using BlazorApp2.Controllers\n@attribute [Authorize]\n@inject MessageController MessageController;\n\n&lt;button @onclick=\"@callController\"&gt;Call controller&lt;/button&gt;\n\n@code {\n\n    private async Task callController()\n    {\n        var result = (await MessageController\n            .CreateMessage(new InputModel {Message = \"Hello\"})).Value;\n    }\n}\n</code></pre>\n\n<p><strong>Idea 2</strong></p>\n\n<p>Use HttpClient to make http requests to the controller. 2 problems here. A) Not sure how to register <code>HttpClient</code> in DI container in such a way, that all required auth cookies will be added automatically to each call; B) Probably not the ideal solution from the performance point of view because the call will leave the server app (in blazor page) and will go back to the same app (in controller).</p>\n\n<p>What way to go? Is there any other better way? What did I miss in my ideas?</p>\n"}, {"tags": ["c#", "uwp"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1567632064, "post_id": 57795210, "comment_id": 102024677, "body": "Not an option in UWP.  You can set a preference with, say, AdjacentToLeftDisplayEdge but that&#39;s where it ends."}], "answers": [{"tags": [], "owner": {"reputation": 1096, "user_id": 5308388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gh3X8.png?s=128&g=1", "display_name": "Riddell", "link": "https://stackoverflow.com/users/5308388/riddell"}, "is_accepted": false, "score": 1, "last_activity_date": 1567629259, "last_edit_date": 1567629259, "creation_date": 1567628946, "answer_id": 57795268, "question_id": 57795210, "link": "https://stackoverflow.com/questions/57795210/set-window-position-programmatically/57795268#57795268", "title": "Set window position programmatically", "body": "<p><strong>From my experience</strong> I've found this is not possible. You can set the window size but unfortunately not the position. </p>\n\n<p>Technically speaking... UWP views position is controlled at system level and not app level. </p>\n"}, {"tags": [], "owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1567630010, "creation_date": 1567630010, "answer_id": 57795436, "question_id": 57795210, "link": "https://stackoverflow.com/questions/57795210/set-window-position-programmatically/57795436#57795436", "title": "Set window position programmatically", "body": "<p>As far as I have read, this feature (setting up position) is not available for UWP window.</p>\n\n<blockquote>\n  <p>Unfortunately, there is no official APIs which can save/restore\n  windows placement</p>\n</blockquote>\n\n<p>Look for above statement and few upvote answers in below MSDN community discussion. That explains.</p>\n\n<p><a href=\"https://social.msdn.microsoft.com/Forums/en-US/6f446f22-591f-481b-9bfa-510521d9de4e/uwp-window-placement?forum=wpdevelop\" rel=\"nofollow noreferrer\">https://social.msdn.microsoft.com/Forums/en-US/6f446f22-591f-481b-9bfa-510521d9de4e/uwp-window-placement?forum=wpdevelop</a></p>\n\n<p>There is upvote answer in above link (copy pasting it below, in case the link is gone):</p>\n\n<blockquote>\n  <p>In general for the UWP platform, the user decides where the windows go\n  and how big they are. The app itself can only give a few preferences\n  related to minimum size, fullscreen vs. a windowed size but that's\n  about it.</p>\n</blockquote>\n"}], "owner": {"reputation": 21, "user_id": 2409949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6df073a9bbde705e2af30fffc1af6b53?s=128&d=identicon&r=PG", "display_name": "Wrun", "link": "https://stackoverflow.com/users/2409949/wrun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1567630010, "creation_date": 1567628607, "question_id": 57795210, "link": "https://stackoverflow.com/questions/57795210/set-window-position-programmatically", "title": "Set window position programmatically", "body": "<p>Help, I need to set UWP application window size and position.</p>\n\n<p>I found how to set size:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>ApplicationView.PreferredLaunchViewSize = new Size(1500, 800);\nApplicationView.PreferredLaunchWindowingMode = ApplicationViewWindowingMode.PreferredLaunchViewSize;\n</code></pre>\n\n<p>But I can`t found how to set position?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework", "asp.net-core", ".net-standard-2.0"], "comments": [{"owner": {"reputation": 126, "user_id": 10728126, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1103fc0a05c466c4f3cd8d55395a15a2?s=128&d=identicon&r=PG", "display_name": "user10728126", "link": "https://stackoverflow.com/users/10728126/user10728126"}, "edited": false, "score": 0, "creation_date": 1567629052, "post_id": 57795056, "comment_id": 102023626, "body": "I don&#39;t think you can reference a core dll inside a .net framework project. You&#39;ll need two versions of that dll, one for core and one for .net framework."}, {"owner": {"reputation": 4650, "user_id": 193189, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/CZMVU.jpg?s=128&g=1", "display_name": "punkouter", "link": "https://stackoverflow.com/users/193189/punkouter"}, "reply_to_user": {"reputation": 126, "user_id": 10728126, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1103fc0a05c466c4f3cd8d55395a15a2?s=128&d=identicon&r=PG", "display_name": "user10728126", "link": "https://stackoverflow.com/users/10728126/user10728126"}, "edited": false, "score": 0, "creation_date": 1567630771, "post_id": 57795056, "comment_id": 102024253, "body": "so is there a .net 2.0 standard version ? Or I guess that doesn&#39;t make sense... Maybe the simple way is to create the schema and seed using the core project and then switching to the .NET Framework project to use that?"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1567656827, "post_id": 57795056, "comment_id": 102029253, "body": "Just because a package has Core somewhere in the name doesn&#39;t necessarily mean it targets .NET Core or even supports .NET Core."}, {"owner": {"reputation": 126, "user_id": 10728126, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1103fc0a05c466c4f3cd8d55395a15a2?s=128&d=identicon&r=PG", "display_name": "user10728126", "link": "https://stackoverflow.com/users/10728126/user10728126"}, "edited": false, "score": 0, "creation_date": 1567688322, "post_id": 57795056, "comment_id": 102043671, "body": "I don&#39;t think you can reference core assemblies within a .net framework app and vise versa. It may be possible but you&#39;ll have limitations. You&#39;ll probably see the yellow triangle next to the reference. Create a new console app and you&#39;ll see there are two options, Console App (.Net Core) and Console App (.Net Framework)."}], "answers": [{"tags": [], "owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "is_accepted": true, "score": 2, "last_activity_date": 1567650197, "creation_date": 1567650197, "answer_id": 57797675, "question_id": 57795056, "link": "https://stackoverflow.com/questions/57795056/net-framework-mvc-project-referencing-a-net-standard-2-0-project-that-generate/57797675#57797675", "title": ".NET Framework MVC project referencing a .NET Standard 2.0 project that generates a EF Core dbcontext. Why doesnt it work?", "body": "<blockquote>\n  <p>but I can't do that since it is .NET Framework.</p>\n</blockquote>\n\n<p>Actually, you could use <code>Microsoft.EntityFrameworkCore.Design</code> within a <code>.NET Framework</code> project. </p>\n\n<blockquote>\n  <p>So Is there a Microsoft.EntityFrameworkCore.Design for STANDARD ?</p>\n</blockquote>\n\n<p>If you look into the <code>Microsoft.EntityFrameworkCore.Design</code> package(<code>v2.2.6</code>), you'll find that there's a <code>net461</code> version and a <code>netstandard2.0</code>:</p>\n\n<pre><code>\u251c\u2500\u2500\u2500build\n\u2502   \u251c\u2500\u2500\u2500net461\n\u2502   \u2514\u2500\u2500\u2500netcoreapp2.0\n\u251c\u2500\u2500\u2500lib\n\u2502   \u251c\u2500\u2500\u2500net461\n\u2502   \u2514\u2500\u2500\u2500netstandard2.0\n\u251c\u2500\u2500\u2500package\n\u2502   \u2514\u2500\u2500\u2500services\n\u2502       \u2514\u2500\u2500\u2500metadata\n\u2502           \u2514\u2500\u2500\u2500core-properties\n\u2514\u2500\u2500\u2500_rels\n</code></pre>\n\n<p>So it would be fine to use it within a classic <code>ASP.NET MVC</code> WebApp.</p>\n\n<p>To run <code>ef-core</code> tools in your .NET Framework projects, make sure you've added the following packages:</p>\n\n<ol>\n<li><code>Microsoft.EntityFrameworkCore.Design</code> packages</li>\n<li><code>Microsoft.EntityFrameworkCore.Tools</code>  packages. </li>\n</ol>\n\n<p>If you're using <code>SqlServer</code>, feel free to install a <code>Microsoft.EntityFrameworkCore.SqlServer</code> package too. </p>\n\n<p>Finally, you could run <code>Add-Migration</code> and <code>Update-Database</code> within your .NET Framework project:</p>\n\n<pre><code>PM&gt; Add-Migration InitialCreate -Project Your.Standard.Lib.That.Contains.DbContext\nTo undo this action, use Remove-Migration.\nPM&gt; Update-Database -Project Your.Standard.Lib.That.Contains.DbContext\nApplying migration '20190905015739_InitialCreate'.\nDone.\nPM&gt;\n</code></pre>\n\n<hr>\n\n<p>Although this approach works, I doubt whether it deserves. Because you could even run <code>ef-core</code> migrations within a pure <code>.NET Standard2.0</code> library:</p>\n\n<ol>\n<li>Add an additional target framework name e.g. <code>netcoreapp2.1</code>. See <a href=\"https://stackoverflow.com/a/44434134/10091607\">Tseng's answer</a></li>\n<li>Don't forget to add a reference to <code>Microsoft.EntityFrameworkCore.Design</code>. If you haven't install the ef-core tools, also install the <code>Microsoft.EntityFrameworkCore.Tools</code> </li>\n<li>Add a DbContext that has a parameter-less constructor, or create a DesignTime Factory. For more details, see <a href=\"https://docs.microsoft.com/en-us/ef/core/miscellaneous/cli/dbcontext-creation\" rel=\"nofollow noreferrer\">official docs</a></li>\n</ol>\n"}], "owner": {"reputation": 4650, "user_id": 193189, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/CZMVU.jpg?s=128&g=1", "display_name": "punkouter", "link": "https://stackoverflow.com/users/193189/punkouter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "accepted_answer_id": 57797675, "answer_count": 1, "score": 1, "last_activity_date": 1567650197, "creation_date": 1567626961, "question_id": 57795056, "link": "https://stackoverflow.com/questions/57795056/net-framework-mvc-project-referencing-a-net-standard-2-0-project-that-generate", "title": ".NET Framework MVC project referencing a .NET Standard 2.0 project that generates a EF Core dbcontext. Why doesnt it work?", "body": "<p>I have a projects done with a CORE RAZOR PAGES web projects and two .net standard 2.0 class libraries. One is the Infrastructure class than has my DbContext.</p>\n\n<p>So I was told I need to use .NET Framework Classic for the web interface instead of core. Since .NET Framework 4.7.2 AND .NET core 2.2 is valid for .NET standard 2.0 I thought I could have a new Web project but keep the two class libraries.</p>\n\n<p>So I reference the two class libraries and use the console to run 'update-database'. The starup project is the .NET Framework MVC project and the 'Default Project' is the .NET standard 2.0 class library. But I get the error</p>\n\n<p>Your startup project 'Sr.RazorFrame' doesn't reference Microsoft.EntityFrameworkCore.Design. This package is required for the Entity Framework Core Tools to work. Ensure your startup project is correct, install the package, and try again.</p>\n\n<p>So it is saying my project needs a CORE Nuget package but I can't do that since it is .NET Framework... I am confused \u2026 So Is there a Microsoft.EntityFrameworkCore.Design for STANDARD ? </p>\n"}, {"tags": ["c#", "linq", "lambda"], "comments": [{"owner": {"reputation": 12119, "user_id": 5265292, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0b9b1031971201aa02e13287af690946?s=128&d=identicon&r=PG&f=1", "display_name": "grek40", "link": "https://stackoverflow.com/users/5265292/grek40"}, "edited": false, "score": 0, "creation_date": 1567630336, "post_id": 57794946, "comment_id": 102024104, "body": "Book recommendations are out of scope, but you should probably look out for resources generally about Abstract Syntax Trees (AST) and their transformations. If you understand the concept, the C# Expressions are not so difficult anymore."}, {"owner": {"reputation": 53, "user_id": 7943183, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a6pV-cBNMAY/AAAAAAAAAAI/AAAAAAAAACY/QlgW3vr3beE/photo.jpg?sz=128", "display_name": "David Hubner", "link": "https://stackoverflow.com/users/7943183/david-hubner"}, "reply_to_user": {"reputation": 12119, "user_id": 5265292, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0b9b1031971201aa02e13287af690946?s=128&d=identicon&r=PG&f=1", "display_name": "grek40", "link": "https://stackoverflow.com/users/5265292/grek40"}, "edited": false, "score": 0, "creation_date": 1567646132, "post_id": 57794946, "comment_id": 102027467, "body": "Yes, you are right I shall remove it."}], "answers": [{"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": true, "score": 1, "last_activity_date": 1567814483, "creation_date": 1567814483, "answer_id": 57829674, "question_id": 57794946, "link": "https://stackoverflow.com/questions/57794946/trying-to-create-a-lambda-for-filtering-dates-in-linq-to-entities-with-additiona/57829674#57829674", "title": "Trying to create a lambda for filtering dates in linq to entities with additional complete check", "body": "<p>You need to use an <code>ExpressionVisitor</code> that can change the lambda parameter in <code>isCompleteCheck</code> to be the one in <code>left</code> so it is used for both lambda evaluations. This is often named <code>Replace</code>:</p>\n\n<pre><code>public static class ExpressionExt {\n    /// &lt;summary&gt;\n    /// Replaces an Expression (reference Equals) with another Expression\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"orig\"&gt;The original Expression.&lt;/param&gt;\n    /// &lt;param name=\"from\"&gt;The from Expression.&lt;/param&gt;\n    /// &lt;param name=\"to\"&gt;The to Expression.&lt;/param&gt;\n    /// &lt;returns&gt;Expression with all occurrences of from replaced with to&lt;/returns&gt;\n    public static Expression Replace(this Expression orig, Expression from, Expression to) =&gt; new ReplaceVisitor(from, to).Visit(orig);\n}\n\n/// &lt;summary&gt;\n/// ExpressionVisitor to replace an Expression (that is Equals) with another Expression.\n/// &lt;/summary&gt;\npublic class ReplaceVisitor : ExpressionVisitor {\n    readonly Expression from;\n    readonly Expression to;\n\n    public ReplaceVisitor(Expression from, Expression to) {\n        this.from = from;\n        this.to = to;\n    }\n\n    public override Expression Visit(Expression node) =&gt; node == from ? to : base.Visit(node);\n}\n</code></pre>\n\n<p>Given this, the change to your method is straightforward. I also simplified your test logic (my general rules say never test against boolean and be DRY, so <code>t1 == false || t2 &amp;&amp; t1 == true</code> should be <code>!t1 || t2</code>). I also used a <code>Dictionary</code> instead of <code>switch</code> to make a more succinct/DRY and easily expandable comparison expression.</p>\n\n<pre><code>static Dictionary&lt;string, Func&lt;Expression, Expression, BinaryExpression&gt;&gt; ComparisonOps = new Dictionary&lt;string, Func&lt;Expression, Expression, BinaryExpression&gt;&gt; {\n    { \"lessthan\", Expression.LessThan },\n    { \"equal\", Expression.Equal },\n    { \"morethan\", Expression.GreaterThan },\n};\n\npublic static IQueryable&lt;TSource&gt; FilterCompleteDateComparison&lt;TSource&gt;(\n      this IQueryable&lt;TSource&gt; source,\n      Expression&lt;Func&lt;TSource, DateTime?&gt;&gt; left,\n      DateTime? right,\n      string equality,\n      Expression&lt;Func&lt;TSource, bool&gt;&gt; isCompleteCheck) {\n    //                                                            CombinedExpression \n    //                                                      FirstExpression    Comparison Expression\n    // (left, right, equality, isCompleteCheck) =&gt; s =&gt; !IsCompleteCheck(s) || left(s) equality right\n\n    if (right == null || string.IsNullOrWhiteSpace(equality))\n        return source;\n\n    var IsCompleteCheckExpression = isCompleteCheck.Body.Replace(isCompleteCheck.Parameters[0], left.Parameters[0]);\n    var FirstExpression = Expression.Not(IsCompleteCheckExpression);\n\n    var LeftExpression = left.Body;\n    var RightParameter = Expression.Constant(right, typeof(DateTime?));\n\n    if (!ComparisonOps.TryGetValue(equality, out var op))\n            throw new Exception(String.Format(\"Equality {0} not recognised.\", equality));\n\n    var ComparisonExpression = op(LeftExpression, RightParameter);\n    var CombinedExpression = Expression.Or(FirstExpression, ComparisonExpression);\n\n    return source.Where(Expression.Lambda&lt;Func&lt;TSource, bool&gt;&gt;(CombinedExpression, left.Parameters));\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 7943183, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a6pV-cBNMAY/AAAAAAAAAAI/AAAAAAAAACY/QlgW3vr3beE/photo.jpg?sz=128", "display_name": "David Hubner", "link": "https://stackoverflow.com/users/7943183/david-hubner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 57829674, "answer_count": 1, "score": 0, "last_activity_date": 1567814483, "creation_date": 1567626369, "last_edit_date": 1567646155, "question_id": 57794946, "link": "https://stackoverflow.com/questions/57794946/trying-to-create-a-lambda-for-filtering-dates-in-linq-to-entities-with-additiona", "title": "Trying to create a lambda for filtering dates in linq to entities with additional complete check", "body": "<p>Not long ago I posted the question <a href=\"https://stackoverflow.com/questions/57072538/trying-to-create-a-morethan-equal-or-greaterthan-dynamic-filter-for-dates-in-li\">Trying to create a morethan, equal or greaterthan dynamic filter for dates in linq</a> which helped a lot but I am trying to add an additional check at the moment so the lambda looks like this now</p>\n\n<pre><code>(left, right, equality, isCompleteCheck) =&gt; IsCompleteCheck == false | left equality right &amp;&amp; IsCompleteCheck == true\n</code></pre>\n\n<p>I wrote this code:</p>\n\n<pre><code>    public static IQueryable&lt;TSource&gt; FilterCompleteDateComparison&lt;TSource&gt;(\n        this IQueryable&lt;TSource&gt; source,\n        Expression&lt;Func&lt;TSource, DateTime?&gt;&gt; left,\n        DateTime? right,\n        string equality,\n        Expression&lt;Func&lt;TSource, bool&gt;&gt; isCompleteCheck)\n    {\n        //                                                                        CombinedExpression \n        //                                                FirstExpression        Comparison Expression     SecondExpression\n        // (left, right, equality, isCompleteCheck) =&gt; IsCompleteCheck == false | left equality right &amp;&amp; IsCompleteCheck == true\n\n        if (right == null || string.IsNullOrWhiteSpace(equality))\n            return source;\n\n        Expression IsCompleteCheckExpression = isCompleteCheck.Body;\n        BinaryExpression FirstExpression = Expression.Equal(IsCompleteCheckExpression, Expression.Constant(false, typeof(bool)));\n\n        Expression LeftExpression = left.Body;\n        Expression RightParameter = Expression.Constant(right, typeof(DateTime?));\n\n        BinaryExpression ComparisonExpression = null;\n        switch (equality)\n        {\n            case \"lessthan\":\n                ComparisonExpression = Expression.LessThan(LeftExpression, RightParameter);\n                break;\n            case \"equal\":\n                ComparisonExpression = Expression.Equal(LeftExpression, RightParameter);\n                break;\n            case \"morethan\":\n                ComparisonExpression = Expression.GreaterThan(LeftExpression, RightParameter);\n                break;\n            default:\n                throw new Exception(String.Format(\"Equality {0} not recognised.\", equality));\n        }\n\n        BinaryExpression SecondExpression = Expression.Equal(IsCompleteCheckExpression, Expression.Constant(true, typeof(bool)));\n        BinaryExpression CombinedExpression = Expression.Or(FirstExpression, Expression.And(ComparisonExpression, SecondExpression));\n\n        return source.Where(Expression.Lambda&lt;Func&lt;TSource, bool&gt;&gt;(CombinedExpression, left.Parameters));\n    }\n</code></pre>\n\n<p>which can be called by </p>\n\n<pre><code>BaseQuery.FilterCompleteDateComparison&lt;SessionModel&gt;(x =&gt; x.StartDate, DateValidated.Date, dateEquality, y =&gt; y.IsComplete);\n</code></pre>\n\n<p>but how do I supply the <code>IsCompleteCheckExpression</code> parameters to the lambda? I have tried to simply concat the <code>IsCompleteCheckExpression</code> parameters onto the <code>leftexpression</code> parameters and supply that to the lambda, but the error says that there is too many properties.</p>\n\n<p>Anyone have any ideas? </p>\n"}, {"tags": ["c#", "asp.net", ".net", "asp.net-mvc", "asp.net-mvc-5"], "comments": [{"owner": {"reputation": 2729, "user_id": 3436859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/708a705c4c05b2e5c2d7be8a28d3090e?s=128&d=identicon&r=PG", "display_name": "Tobias", "link": "https://stackoverflow.com/users/3436859/tobias"}, "edited": false, "score": 0, "creation_date": 1567627655, "post_id": 57794765, "comment_id": 102023291, "body": "Pretty sure that what you&#39;re trying to do can&#39;t be done. Html.Action expects the name of the action method in your controller. Not anything to do with routes."}, {"owner": {"reputation": 735, "user_id": 517051, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/swOD1.jpg?s=128&g=1", "display_name": "Alok", "link": "https://stackoverflow.com/users/517051/alok"}, "reply_to_user": {"reputation": 2729, "user_id": 3436859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/708a705c4c05b2e5c2d7be8a28d3090e?s=128&d=identicon&r=PG", "display_name": "Tobias", "link": "https://stackoverflow.com/users/3436859/tobias"}, "edited": false, "score": 0, "creation_date": 1567628369, "post_id": 57794765, "comment_id": 102023390, "body": "@Tobias is there anyway to initiate this using route values, should i look for extension method approach... i must have this functionality to call right controller and get response."}, {"owner": {"reputation": 735, "user_id": 517051, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/swOD1.jpg?s=128&g=1", "display_name": "Alok", "link": "https://stackoverflow.com/users/517051/alok"}, "reply_to_user": {"reputation": 2729, "user_id": 3436859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/708a705c4c05b2e5c2d7be8a28d3090e?s=128&d=identicon&r=PG", "display_name": "Tobias", "link": "https://stackoverflow.com/users/3436859/tobias"}, "edited": false, "score": 0, "creation_date": 1567628822, "post_id": 57794765, "comment_id": 102023543, "body": "@Tobias <a href=\"https://stackoverflow.com/questions/30382953/html-renderaction-with-route-name\" title=\"html renderaction with route name\">stackoverflow.com/questions/30382953/&hellip;</a> according to this i think its pretty much possible, not sure why mine is causing issues"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1567629267, "post_id": 57794765, "comment_id": 102023703, "body": "What in that suggests that it&#39;s possible?"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 1, "creation_date": 1567629424, "post_id": 57794765, "comment_id": 102023772, "body": "If you&#39;re going to hard code the route (which is what your doing if you use part of the route there) then there is no point in using <code>Html.Action</code> at all. Just hard code the whole URL. The whole point of using <code>Html.Action</code> is so that you can change the route in one place and not have to update it everywhere it is used."}, {"owner": {"reputation": 735, "user_id": 517051, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/swOD1.jpg?s=128&g=1", "display_name": "Alok", "link": "https://stackoverflow.com/users/517051/alok"}, "reply_to_user": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1567629997, "post_id": 57794765, "comment_id": 102023972, "body": "@GabrielLuci got it, but my problem is i want to hide the controller method name and only expose the friendly route to whoever is writing the view, now i can grab the data using ajax... but we want to render it server side due to project flow requires as such, if an extension method can do this lookup i am all upto it"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1567630200, "post_id": 57794765, "comment_id": 102024052, "body": "How can you hide the controller method name from someone who is writing code in the same project?"}, {"owner": {"reputation": 735, "user_id": 517051, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/swOD1.jpg?s=128&g=1", "display_name": "Alok", "link": "https://stackoverflow.com/users/517051/alok"}, "edited": false, "score": 0, "creation_date": 1567630329, "post_id": 57794765, "comment_id": 102024102, "body": "its an abstract system using different projects as plugins in IoC, so although the other users/developer can look through public methods using intellisense they dont know where to look for if we dont tell them"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1567630744, "post_id": 57794765, "comment_id": 102024244, "body": "If they can use <code>Html.Action</code> then intellisense will help them find the name of the controller action."}, {"owner": {"reputation": 5525, "user_id": 576857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8ec04b9d97b033d197d40642de73a4bc?s=128&d=identicon&r=PG", "display_name": "Al Kepp", "link": "https://stackoverflow.com/users/576857/al-kepp"}, "reply_to_user": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1567633509, "post_id": 57794765, "comment_id": 102025116, "body": "Mate, you are trying to do the very opposite of what you should. Exactly as pointed by @GabrielLuci, you completely missed the reason why these helper exist. And the linked question works only because the method name is the same as word used in the route."}, {"owner": {"reputation": 735, "user_id": 517051, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/swOD1.jpg?s=128&g=1", "display_name": "Alok", "link": "https://stackoverflow.com/users/517051/alok"}, "reply_to_user": {"reputation": 5525, "user_id": 576857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8ec04b9d97b033d197d40642de73a4bc?s=128&d=identicon&r=PG", "display_name": "Al Kepp", "link": "https://stackoverflow.com/users/576857/al-kepp"}, "edited": false, "score": 0, "creation_date": 1567671704, "post_id": 57794765, "comment_id": 102034559, "body": "@AlKepp thanks for yours and Gabriel&#39;s comments, i think its not possible without hiding behind many methods so if i come up with something i will post solution here in future."}], "owner": {"reputation": 735, "user_id": 517051, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/swOD1.jpg?s=128&g=1", "display_name": "Alok", "link": "https://stackoverflow.com/users/517051/alok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567625492, "creation_date": 1567625492, "question_id": 57794765, "link": "https://stackoverflow.com/questions/57794765/html-action-or-html-partial-not-working-with-attribute-routing", "title": "Html.Action or Html.Partial not working with Attribute Routing", "body": "<p>i have a simple test controller defined as </p>\n\n<pre><code>[Route(\"~/testAction/testcontroller/{viewhash}\")]\npublic ActionResult ATest(string viewHash)\n        {\n            var viewname = commonDataCollection.Instance.WidgetHashList[viewHash];\n            return Content($\"Success hash by view name is: {viewhash}\",\"text/html\");\n        }\n</code></pre>\n\n<p>this works if i call this from browser <a href=\"http://localhost:49359/testAction/testcontroller/FuMmWA1217dgnaT\" rel=\"nofollow noreferrer\">http://localhost:49359/testAction/testcontroller/FuMmWA1217dgnaT</a> </p>\n\n<p>the below works if i use actual action/controller name instead of attribute route value but if i try to do the same with <code>Html Helper</code> with routing defined such as :</p>\n\n<pre><code>@Html.Action(\"testAction\", new { viewhash = \"FuMmWA1217dgnaT\",area=\"\",controller= \"testcontroller\" });\n</code></pre>\n\n<p>or </p>\n\n<pre><code>@Html.Partial(\"testAction\", new { viewhash = \"FuMmWA1217dgnaT\",area=\"\",controller= \"testcontroller\" });\n</code></pre>\n\n<p>or even when i am trying the render functions, i am getting following error:</p>\n\n<blockquote>\n  <p>Execution of the child request failed. Please examine the\n  InnerException for more information. at\n  System.Web.Mvc.HttpHandlerUtil.ServerExecuteHttpHandlerWrapper.Wrap[TResult](Func<code>1\n  func) at\n  System.Web.Mvc.HttpHandlerUtil.ServerExecuteHttpHandlerAsyncWrapper.BeginProcessRequest(HttpContext\n  context, AsyncCallback cb, Object extraData) at\n  System.Web.HttpServerUtility.ExecuteInternal(IHttpHandler handler,\n  TextWriter writer, Boolean preserveForm, Boolean setPreviousPage,\n  VirtualPath path, VirtualPath filePath, String physPath, Exception\n  error, String queryStringOverride) at\n  System.Web.HttpServerUtility.Execute(IHttpHandler handler, TextWriter\n  writer, Boolean preserveForm, Boolean setPreviousPage) at\n  System.Web.HttpServerUtility.Execute(IHttpHandler handler, TextWriter\n  writer, Boolean preserveForm) at\n  System.Web.HttpServerUtilityWrapper.Execute(IHttpHandler handler,\n  TextWriter writer, Boolean preserveForm) at\n  System.Web.Mvc.Html.ChildActionExtensions.ActionHelper(HtmlHelper\n  htmlHelper, String actionName, String controllerName,\n  RouteValueDictionary routeValues, TextWriter textWriter) at\n  System.Web.Mvc.Html.ChildActionExtensions.Action(HtmlHelper\n  htmlHelper, String actionName, String controllerName,\n  RouteValueDictionary routeValues) at\n  System.Web.Mvc.Html.ChildActionExtensions.Action(HtmlHelper\n  htmlHelper, String actionName, Object routeValues) at\n  ASP._Page_Views_widgetrenders_contact_cshtml.Execute() in\n  D:\\Projects\\company\n  projects\\CMSAlpha\\CMSAlpha\\Views\\widgetrenders\\contact.cshtml:line 20\n  The controller for path '/2/abc' was not found or does not implement\n  IController. System.Web.HttpException (0x80004005): The controller for\n  path '/2/abc' was not found or does not implement IController. at\n  System.Web.Mvc.DefaultControllerFactory.GetControllerInstance(RequestContext\n  requestContext, Type controllerType) at\n  System.Web.Mvc.DefaultControllerFactory.CreateController(RequestContext\n  requestContext, String controllerName) at\n  System.Web.Mvc.MvcHandler.ProcessRequestInit(HttpContextBase\n  httpContext, IController&amp; controller, IControllerFactory&amp; factory) at\n  System.Web.Mvc.MvcHandler.BeginProcessRequest(HttpContextBase\n  httpContext, AsyncCallback callback, Object state) at\n  System.Web.Mvc.MvcHandler.BeginProcessRequest(HttpContext httpContext,\n  AsyncCallback callback, Object state) at\n  System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.BeginProcessRequest(HttpContext\n  context, AsyncCallback cb, Object extraData) at\n  System.Web.Mvc.HttpHandlerUtil.ServerExecuteHttpHandlerAsyncWrapper.&lt;&gt;c__DisplayClass7.&lt;BeginProcessRequest&gt;b__6()\n  at\n  System.Web.Mvc.HttpHandlerUtil.ServerExecuteHttpHandlerWrapper.Wrap[TResult](Func</code>1\n  func) at\n  System.Web.Mvc.DefaultControllerFactory.GetControllerInstance(RequestContext\n  requestContext, Type controllerType) at\n  System.Web.Mvc.DefaultControllerFactory.CreateController(RequestContext\n  requestContext, String controllerName) at\n  System.Web.Mvc.MvcHandler.ProcessRequestInit(HttpContextBase\n  httpContext, IController&amp; controller, IControllerFactory&amp; factory) at\n  System.Web.Mvc.MvcHandler.BeginProcessRequest(HttpContextBase\n  httpContext, AsyncCallback callback, Object state) at\n  System.Web.Mvc.MvcHandler.BeginProcessRequest(HttpContext httpContext,\n  AsyncCallback callback, Object state) at\n  System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.BeginProcessRequest(HttpContext\n  context, AsyncCallback cb, Object extraData) at\n  System.Web.Mvc.HttpHandlerUtil.ServerExecuteHttpHandlerAsyncWrapper.&lt;>c__DisplayClass7.b__6()\n  at\n  System.Web.Mvc.HttpHandlerUtil.ServerExecuteHttpHandlerWrapper.Wrap[TResult](Func`1\n  func)</p>\n</blockquote>\n"}, {"tags": ["c#", "frontend", "uri", "middleware"], "answers": [{"tags": [], "owner": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "is_accepted": false, "score": 0, "last_activity_date": 1567626863, "creation_date": 1567626863, "answer_id": 57795037, "question_id": 57794691, "link": "https://stackoverflow.com/questions/57794691/how-to-auto-generate-resource-based-uri-in-middleware-for-front-end-to-consume/57795037#57795037", "title": "How to auto-generate resource based URI in middleware for front end to consume?", "body": "<p>You could use the .Select() method and anonymous objects to transform each timesheet into the formatted object you want.</p>\n\n<pre><code>context.Timesheets.Select(t =&gt; new { \n    CheckURI = \"/api/checks?filter=payroll&amp;id=\" + t.ID,\n    TimeSheetURI = \"/api/timesheets?id=\" + t.ID,\n    PayrollURI = \"/api/payroll/\" + t.ID\n  });\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 9433012, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jacob Green", "link": "https://stackoverflow.com/users/9433012/jacob-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567626863, "creation_date": 1567625142, "question_id": 57794691, "link": "https://stackoverflow.com/questions/57794691/how-to-auto-generate-resource-based-uri-in-middleware-for-front-end-to-consume", "title": "How to auto-generate resource based URI in middleware for front end to consume?", "body": "<p>I'm looking a reusable way to auto-generate URI strings in the middleware and pass them to back to front end for it to use them.</p>\n\n<p>I want it able the generate uri for any resources that are associated with it. Timesheet has a many to one relationship with payrolls.</p>\n\n<p>I'm using c# with Entity models, passing JSON to a React front-end.</p>\n\n<p>I want the middleware to generate the URIs that front end will use so that if changes are made to uri structures in the middleware, the front end doesn't need to change how it requests data.</p>\n\n<p>Right now I'm just creating the Uris the resource's class object is populated.</p>\n\n<p>I've looked into something called a Vanity method, but I don't think that is what I'm be looking for to accomplish.</p>\n\n<p>What I'm currently using.</p>\n\n<pre><code>\n\npublic int ID\n{\n   get { return id; }\n   set\n   {\n      id = value;\n      updateApis();\n   }\n}\npublic string CheckURI { get; set; }\npublic string TimeSheetURI { get; set; }\npublic string PayrollURI { get; set; }\n\nprivate void updateApis()\n        {\n            CheckURI = \"/api/checks?filter=payroll&amp;id=\" + ID;\n            TimeSheetURI = \"/api/timesheets?id=\" + ID;\n            PayrollURI = \"/api/payroll/\" + ID;\n\n        }\n</code></pre>\n\n<p>So when the front end request for a list payrolls like so(this finding payrolls associated with a client id):</p>\n\n<pre><code>my.site.com/api/payrolls?id=1&amp;pagesize=10&amp;pagenumber=1\n</code></pre>\n\n<p>It returns a JSON with a list of payroll objects, each with a uri for details on that payroll and any resources front end may need. And a uri for more payrolls based on pagination.</p>\n\n<pre><code>{\n  \"1\":{\n        \"payrollID\":\"1\",\n        \"clientID\":\"1\",\n        \"payrollURI\":\"/api/payrolls/1\",\n        \"checkURI\": \"/api/checks?id=1\",\n        \"timesheetURI\": \"/api/timesheets?id=1\"\n   },\n  \"2\": {\n        \"payrollID\":\"2\",\n        \"clientID\":\"1\",\n        \"payrollURI\":\"/api/payrolls/2\",\n        \"checkURI\": \"/api/checks?id=2\",\n        \"timesheetURI\": \"/api/timesheets?id=2\"\n   },\n  ...,\n  \"10\": {\n        \"payrollID\":\"10\",\n        \"clientID\":\"1\",\n        \"payrollURI\":\"/api/payrolls/10\",\n        \"checkURI\": \"/api/checks?id=10\",\n        \"timesheetURI\": \"/api/timesheets?id=10\"\n   },\n  \"additionalRows\":\"/api/payrolls?id=1&amp;pagesize=10&amp;pagenumber=2\"\n\n}\n\n</code></pre>\n\n<p>So I want it to auto-generate payrollURI, checkURI, timesheetURI, with each payrollID.\nAnd additionalRows with the original URI information.</p>\n"}, {"tags": ["c#", "jquery", "html", "razor"], "answers": [{"tags": [], "owner": {"reputation": 571, "user_id": 4078857, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wL1to.jpg?s=128&g=1", "display_name": "Rashid Ali", "link": "https://stackoverflow.com/users/4078857/rashid-ali"}, "is_accepted": false, "score": 1, "last_activity_date": 1567638742, "last_edit_date": 1567638742, "creation_date": 1567629972, "answer_id": 57795426, "question_id": 57794689, "link": "https://stackoverflow.com/questions/57794689/how-can-i-build-a-nested-html-list-from-a-flat-list/57795426#57795426", "title": "How can i build a nested HTML List from a flat list", "body": "<p>You could use Recursion, create a recursive method in your controller to create Html and pass it to the view through ViewBag, recursive method would look like below:</p>\n\n<p>ItemType in the method parameters is type of your model list</p>\n\n<pre><code>public string CreateHtml(int i, List&lt;ItemType&gt; items)\n  {\n    string html = \"\";\n\n    html += \"&lt;ul&gt;&lt;li&gt;\" + \"&lt;a href='\" + items[i].Item2 + \"'&gt;\" + items[i].Item1 + \"&lt;/a&gt;\";\n\n    i++;\n\n    if (i &lt; items.Count)\n      return html += CreateHtml(i, items);\n    else\n      return html + \"&lt;/li&gt;&lt;/ul&gt;\";\n\n    html += \"&lt;/li&gt;&lt;/ul&gt;\";\n\n    return html;\n  }\n</code></pre>\n\n<p>add to ViewBag in your action as:</p>\n\n<pre><code>ViewBag.Html = CreateHtml(0, model);\n</code></pre>\n\n<p>On view show it like this:</p>\n\n<pre><code>@Html.Raw(Model.Html)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 571, "user_id": 4078857, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wL1to.jpg?s=128&g=1", "display_name": "Rashid Ali", "link": "https://stackoverflow.com/users/4078857/rashid-ali"}, "is_accepted": true, "score": 1, "last_activity_date": 1567638684, "creation_date": 1567638684, "answer_id": 57796587, "question_id": 57794689, "link": "https://stackoverflow.com/questions/57794689/how-can-i-build-a-nested-html-list-from-a-flat-list/57796587#57796587", "title": "How can i build a nested HTML List from a flat list", "body": "<p>Another (relatively simpler) solution would be creating the Html string on view before parsing as below:</p>\n\n<p>Html parser wouldn't allow you to open all the ul, li tags first and then close all of them at the end, so you would have to go this way:</p>\n\n<pre><code>@{\n     string html = \"\";\n\n     foreach (var item in Model)\n     {\n       html += \"&lt;ul class='nav-breadcrumbs'&gt;&lt;li&gt;&lt;a href=\" + item.Item2 + \"&gt;\" + item.Item1 + \"&lt;/a&gt;\";\n     }\n\n     foreach (var item in Model)\n     {\n        html += \"&lt;/li&gt;&lt;/ul&gt;\";\n     }\n  }\n\n  @Html.Raw(html)\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 3732519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/093f65843abcf21d70a57b136f721201?s=128&d=identicon&r=PG&f=1", "display_name": "Chiefster", "link": "https://stackoverflow.com/users/3732519/chiefster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 57796587, "answer_count": 2, "score": 2, "last_activity_date": 1567638742, "creation_date": 1567625124, "last_edit_date": 1567628729, "question_id": 57794689, "link": "https://stackoverflow.com/questions/57794689/how-can-i-build-a-nested-html-list-from-a-flat-list", "title": "How can i build a nested HTML List from a flat list", "body": "<p>I have a list of tuple that is passed from my model to my view. I am trying to create a nested HTML list using the list of tuple obtained from the model. My list is being returned in the correct order. It can be an infinite number if nested list items.</p>\n\n<p>I trying to use a foreach loop to iterate over the list of tuple, however the markup just displays the <code>&lt;UL&gt;</code> right after each other and doesnt nest.</p>\n\n<p>my foreach loop looks like this </p>\n\n<pre><code>        @foreach (var item in Model)\n            {\n                &lt;ul class=\"nav-breadcrumbs\"&gt;\n                    &lt;li&gt;\n                        &lt;a href=\"@item.Item2\"&gt;@item.Item1&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;/ul&gt;\n            }\n</code></pre>\n\n<p>i would like for each item to be a child of the previous item. I can change my model if needed. Or maybe pass the data to a javascript variable and build the nested list using jquery.\nI want my mark up to end up looking something like this. and have it keep nesting</p>\n\n<pre><code>&lt;ul&gt;\n     &lt;li&gt;\n          &lt;a&gt;link&lt;/a&gt;\n               &lt;ul&gt;\n                    &lt;li&gt;\n                          &lt;a&gt;link&lt;/a&gt;\n                    &lt;/li&gt;\n               &lt;/ul&gt;\n     &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-mvc", "asp.net-core-tag-helpers"], "answers": [{"tags": [], "owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "is_accepted": true, "score": 2, "last_activity_date": 1567644420, "creation_date": 1567644420, "answer_id": 57797125, "question_id": 57794650, "link": "https://stackoverflow.com/questions/57794650/bind-taghelper-to-attribute-starting-with-data/57797125#57797125", "title": "Bind TagHelper to attribute starting with data-", "body": "<p>According to <a href=\"https://github.com/aspnet/AspNetCore/blob/v2.2.6/src/Razor/Razor.Language/src/DefaultBoundAttributeDescriptorBuilder.cs#L129-L130\" rel=\"nofollow noreferrer\">the source</a>, this is the reason:</p>\n\n<blockquote>\n  <p><code>data-*</code> attributes are explicitly not implemented by user agents and are not intended for use on the server; therefore it's invalid for TagHelpers to bind to them.</p>\n</blockquote>\n\n<p>So the idea is to explicitly prevent <code>data-</code> attributes from being evaluated on the service side, as a means for them to transfer data solely for the purpose of client-side evaluation.</p>\n\n<p>This restriction cannot be circumvented as it is built into the Razor SDK that compiles Razor views where your tag helper is being used.</p>\n\n<p>Thinking about it, it does make sense to have this kind of restriction, especially as you are completely free to use whatever attribute you want on tag helpers. And if you want to use <code>data-</code> attributes because you want to expose them <em>after</em> your tag helper has run, then there\u2019s actually nothing stopping you from doing that as you can always add additional attributes as part of your tag helper execution: Including <code>data-</code> attributes.</p>\n"}, {"tags": [], "owner": {"reputation": 1251, "user_id": 1293317, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/eUZtB.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/1293317/dean"}, "is_accepted": false, "score": 0, "last_activity_date": 1611995043, "creation_date": 1611995043, "answer_id": 65966014, "question_id": 57794650, "link": "https://stackoverflow.com/questions/57794650/bind-taghelper-to-attribute-starting-with-data/65966014#65966014", "title": "Bind TagHelper to attribute starting with data-", "body": "<p>Cannot use <code>data-*</code> attributes on the server side, then make changes on the Client side!</p>\n<p><strong>1.Custom ImageTagHelper Code:</strong></p>\n<pre><code>using Microsoft.AspNetCore.Mvc.Razor.TagHelpers;\nusing Microsoft.AspNetCore.Mvc.Routing;\nusing Microsoft.AspNetCore.Mvc.TagHelpers;\nusing Microsoft.AspNetCore.Mvc.ViewFeatures;\nusing Microsoft.AspNetCore.Razor.TagHelpers;\nusing Microsoft.Extensions.DependencyInjection;\nusing System;\nusing System.Text.Encodings.Web;\n\nnamespace YourAssemblyName.TagHelpers\n{\n    [HtmlTargetElement(\n        &quot;img&quot;,\n        Attributes = AppendVersionAttributeName + &quot;,&quot; + SrcAttributeName,\n        TagStructure = TagStructure.WithoutEndTag)]\n    public class ImageTagHelper : UrlResolutionTagHelper\n    {\n        private const string AppendVersionAttributeName = &quot;asp-append-version-lazy&quot;;\n        private const string SrcAttributeName = &quot;lazy-src&quot;;\n\n        [ActivatorUtilitiesConstructor]\n        public ImageTagHelper(\n            IFileVersionProvider fileVersionProvider,\n            HtmlEncoder htmlEncoder,\n            IUrlHelperFactory urlHelperFactory)\n            : base(urlHelperFactory, htmlEncoder)\n        {\n            FileVersionProvider = fileVersionProvider;\n        }\n\n        public override int Order =&gt; -1000;\n\n        /// &lt;summary&gt;\n        /// Source of the image.\n        /// &lt;/summary&gt;\n        /// &lt;remarks&gt;\n        /// Passed through to the generated HTML in all cases.\n        /// &lt;/remarks&gt;\n        [HtmlAttributeName(SrcAttributeName)]\n        public string Src { get; set; }\n\n        /// &lt;summary&gt;\n        /// Value indicating if file version should be appended to the src urls.\n        /// &lt;/summary&gt;\n        /// &lt;remarks&gt;\n        /// If &lt;c&gt;true&lt;/c&gt; then a query string &quot;v&quot; with the encoded content of the file is added.\n        /// &lt;/remarks&gt;\n        [HtmlAttributeName(AppendVersionAttributeName)]\n        public bool AppendVersion { get; set; }\n\n        internal IFileVersionProvider FileVersionProvider { get; private set; }\n\n        public override void Process(TagHelperContext context, TagHelperOutput output)\n        {\n            if (context == null)\n            {\n                throw new ArgumentNullException(nameof(context));\n            }\n\n            if (output == null)\n            {\n                throw new ArgumentNullException(nameof(output));\n            }\n\n            output.CopyHtmlAttribute(SrcAttributeName, context);\n            ProcessUrlAttribute(SrcAttributeName, output);\n\n            if (AppendVersion)\n            {\n                EnsureFileVersionProvider();\n\n                // Retrieve the TagHelperOutput variation of the &quot;src&quot; attribute in case other TagHelpers in the\n                // pipeline have touched the value. If the value is already encoded this ImageTagHelper may\n                // not function properly.\n                Src = output.Attributes[SrcAttributeName].Value as string;\n\n                output.Attributes.SetAttribute(SrcAttributeName, FileVersionProvider.AddFileVersionToPath(ViewContext.HttpContext.Request.PathBase, Src));\n            }\n        }\n\n        private void EnsureFileVersionProvider()\n        {\n            if (FileVersionProvider == null)\n            {\n                FileVersionProvider = ViewContext.HttpContext.RequestServices.GetRequiredService&lt;IFileVersionProvider&gt;();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Then, you need to make some changes on the client side:</p>\n<p><strong>2.in your _ViewImports.cshtml:</strong></p>\n<pre><code>@addTagHelper *, YourAssemblyName\n</code></pre>\n<p>just the Assembly Name, <strong>NOT</strong> namespace like <code>YourAssemblyName.TagHelpers</code></p>\n<p><strong>3.HTML code:</strong></p>\n<pre><code>&lt;img class=&quot;lazyload&quot; lazy-src=&quot;/logos/searchsolar-console.png&quot; asp-append-version-lazy=&quot;true&quot; /&gt;\n</code></pre>\n<p><strong>4.Use lazyload like the following:</strong></p>\n<pre><code>var images = document.querySelectorAll(&quot;.lazyload&quot;);\nnew LazyLoad(images, {\n    src: &quot;lazy-src&quot;\n});\n</code></pre>\n<p>or, you can just modify the jquery.lazyload.js, and change all <code>data-src</code> to <code>lazy-src</code>, and then just call <code>lazyload()</code> like the old days.</p>\n"}], "owner": {"reputation": 3307, "user_id": 10070647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR676.png?s=128&g=1", "display_name": "Twenty", "link": "https://stackoverflow.com/users/10070647/twenty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 544, "favorite_count": 0, "accepted_answer_id": 57797125, "answer_count": 2, "score": 0, "last_activity_date": 1611995043, "creation_date": 1567624933, "question_id": 57794650, "link": "https://stackoverflow.com/questions/57794650/bind-taghelper-to-attribute-starting-with-data", "title": "Bind TagHelper to attribute starting with data-", "body": "<p>I am currently developing an ASP.Net Core 3.0 pre-release 8 MVC application. I created a custom Tag Helper which looks something like the following, which does basically the same as the existing <code>asp-append-version</code> attribute but with the <code>data-src</code> attribute instead of <code>src</code>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[HtmlTargetElement(\n    \"img\",\n    Attributes = AppendVersionAttributeName + \",\" + SrcAttributeName,\n    TagStructure = TagStructure.WithoutEndTag)]\npublic class ImageTagHelper : UrlResolutionTagHelper\n{\n    private const string AppendVersionAttributeName = \"asp-append-version-lazy\";\n    private const string SrcAttributeName = \"data-src\";\n\n\n    [ActivatorUtilitiesConstructor]\n    public ImageTagHelper(\n        IFileVersionProvider fileVersionProvider,\n        HtmlEncoder htmlEncoder,\n        IUrlHelperFactory urlHelperFactory)\n        : base(urlHelperFactory, htmlEncoder)\n    {\n        FileVersionProvider = fileVersionProvider;\n    }\n\n    public override int Order =&gt; -1000; \n\n    [HtmlAttributeName(SrcAttributeName)]\n    public string? Src { get; set; }\n\n\n    [HtmlAttributeName(AppendVersionAttributeName)]\n    public bool AppendVersion { get; set; }\n\n    internal IFileVersionProvider FileVersionProvider { get; private set; }\n\n    public override void Process(TagHelperContext context, TagHelperOutput output)\n    {\n        if (context == null)\n        {\n            throw new ArgumentNullException(nameof(context));\n        }\n\n        if (output == null)\n        {\n            throw new ArgumentNullException(nameof(output));\n        }\n\n        output.CopyHtmlAttribute(SrcAttributeName, context);\n        ProcessUrlAttribute(SrcAttributeName, output);\n\n        if (AppendVersion)\n        {\n            EnsureFileVersionProvider();\n\n            Src = output.Attributes[SrcAttributeName].Value as string;\n\n            output.Attributes.SetAttribute(SrcAttributeName, FileVersionProvider.AddFileVersionToPath(ViewContext.HttpContext.Request.PathBase, Src));\n        }\n    }\n\n    private void EnsureFileVersionProvider()\n    {\n        if (FileVersionProvider == null)\n        {\n            FileVersionProvider = ViewContext.HttpContext.RequestServices.GetRequiredService&lt;IFileVersionProvider&gt;();\n        }\n    }\n}\n</code></pre>\n\n<p>Anyway the important part is that the attribute I want is <code>data-src</code>, but as soon as I try to use my Tag Helper in any view it gives me the following error:</p>\n\n<blockquote>\n  <p>Invalid tag helper bound property '..'. Tag helpers cannot bind to HTML attributes with name 'data-src' because the name starts with 'data-'.</p>\n</blockquote>\n\n<h2>The actual question</h2>\n\n<p>What is the reason for this, also is there any way to go \"around\" it?   </p>\n"}, {"tags": ["c#", "twitter"], "comments": [{"owner": {"reputation": 4602, "user_id": 1375964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97b86c3c6b84ef73a7bd810996e8b9cc?s=128&d=identicon&r=PG", "display_name": "osowskit", "link": "https://stackoverflow.com/users/1375964/osowskit"}, "edited": false, "score": 2, "creation_date": 1567639898, "post_id": 57794630, "comment_id": 102026387, "body": "It sounds like a problem generating the OAuth signature. I&#39;d recommend find a library that can do this for you"}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 2, "creation_date": 1567697170, "post_id": 57794630, "comment_id": 102048937, "body": "Indeed. Now you&#39;re sending an extra parameter <code>in_reply_to_status_id_str</code> that isn&#39;t included in the signing process."}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 1, "creation_date": 1567698376, "post_id": 57794630, "comment_id": 102049567, "body": "<a href=\"https://gist.github.com/tacoman667/4149849\" rel=\"nofollow noreferrer\">gist.github.com/tacoman667/4149849</a> might be useful"}, {"owner": {"reputation": 1559, "user_id": 4151175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b33287a805dc76ea7bec15c6f65c8c?s=128&d=identicon&r=PG&f=1", "display_name": "Charles Owen", "link": "https://stackoverflow.com/users/4151175/charles-owen"}, "edited": false, "score": 0, "creation_date": 1567711281, "post_id": 57794630, "comment_id": 102054935, "body": "All of you above helped me.  I didn&#39;t actually have to use the Oauth library spender provided, but it made me realize I had to order the parameters alphabetically."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 1, "creation_date": 1567716342, "post_id": 57794630, "comment_id": 102056855, "body": "@CharlesOwen you should add it as a self answer so others can benefit in the future if they encounter the same problem. Glad you figured it out. Happy coding."}], "answers": [{"tags": [], "owner": {"reputation": 1559, "user_id": 4151175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b33287a805dc76ea7bec15c6f65c8c?s=128&d=identicon&r=PG&f=1", "display_name": "Charles Owen", "link": "https://stackoverflow.com/users/4151175/charles-owen"}, "is_accepted": false, "score": 1, "last_activity_date": 1567779573, "creation_date": 1567779573, "answer_id": 57823813, "question_id": 57794630, "link": "https://stackoverflow.com/questions/57794630/trying-to-build-a-twitter-thread-programmatically/57823813#57823813", "title": "Trying to build a Twitter Thread programmatically", "body": "<p>This is what I did to make it work.  I had to put the parameters in order.  This is a requirement for OAuth, otherwise you'll get a 401 Unauthorized.</p>\n\n<pre><code>private static string CreateBaseString(string oauth_nonce, string oauth_timestamp, string status)\n    {\n        string baseFormat = \"in_reply_to_status_id=1169662308278292480&amp;oauth_consumer_key={0}&amp;oauth_nonce={1}&amp;oauth_signature_method={2}\"\n            + \"&amp;oauth_timestamp={3}&amp;oauth_token={4}&amp;oauth_version={5}&amp;status={6}\";\n        string baseString = String.Format(baseFormat, oauth.OAuth_Consumer_Key, oauth_nonce, oauth.OAuth_Signature_Method,\n            oauth_timestamp, oauth.OAuth_Token, oauth.OAuth_Version, EncodingUtils.UrlEncode(status));\n        return String.Concat(\"POST&amp;\", EncodingUtils.UrlEncode(oauth.Resource_Url), \"&amp;\", EncodingUtils.UrlEncode(baseString));\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 1559, "user_id": 4151175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b33287a805dc76ea7bec15c6f65c8c?s=128&d=identicon&r=PG&f=1", "display_name": "Charles Owen", "link": "https://stackoverflow.com/users/4151175/charles-owen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1567779573, "creation_date": 1567624811, "last_edit_date": 1567779483, "question_id": 57794630, "link": "https://stackoverflow.com/questions/57794630/trying-to-build-a-twitter-thread-programmatically", "title": "Trying to build a Twitter Thread programmatically", "body": "<p>I've built a Twitter application that works in C#.  It's a WPF or Windows-like application that makes a web request to the Twitter API endpoint.  Now, I have a business case to create a Twitter thread when it's sending a series of 280-character tweets.  Because of all the business rules we have, there's no way I can use an existing Twitter app on the market.  </p>\n\n<p>The issue is that I'm always getting a 401 unauthorized whenever I try to send a tweet with the in_reply_to_status_id_str.  In fact it does this whenever I try to add ANY OPTIONAL PARAMETERS besides the required STATUS parameter.  I'm using OAuth 1.0A.</p>\n\n<p>I'm trying to create a series of Tweets that will display Show This Thread at the bottom and can be viewed together.</p>\n\n<p>The method I've provided would be called in a loop for each 280-character segment.</p>\n\n<p><strong>NOTE: I NOW HAVE THIS WORKING.  I REALIZED YOU HAVE TO ORDER THE PARAMETERS BEFORE SIGNING THEM</strong></p>\n\n<pre><code>public async Task&lt;string&gt; TwitterWebRequest(string status, string resource_url, string authHeader, int counter)\n    {\n        string id = \"\";\n        using (var request = new HttpRequestMessage(HttpMethod.Post, resource_url))\n        {\n            request.Headers.TryAddWithoutValidation(\"Authorization\", authHeader);\n            request.Headers.Accept.Clear();\n            request.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n            var data = new Dictionary&lt;string, string&gt;();\n            if (counter == 0)\n            {\n                data = new Dictionary&lt;string, string&gt;\n                {\n                    [\"status\"] = status\n                };\n            }\n            else\n            {\n                data = new Dictionary&lt;string, string&gt;\n                {\n                    [\"in_reply_to_status_id\"] = \"1169662308278292480\",\n                    [\"status\"] = status                    \n                };\n            }\n            request.Content = new FormUrlEncodedContent(data);\n            using (HttpResponseMessage response = await client.Value.SendAsync(request))\n            {\n                JavaScriptSerializer json = new JavaScriptSerializer();\n                string responseStream = await response.Content.ReadAsStringAsync();\n                Dictionary&lt;string, object&gt; jsonObj = json.DeserializeObject(responseStream) as Dictionary&lt;string, object&gt;;\n                if (counter == 0) { id = jsonObj[\"id_str\"].ToString(); }\n                if (response.StatusCode == HttpStatusCode.OK) {\n                    return \"OK\";\n                }\n                else { return \"\"; }\n            }\n        }\n</code></pre>\n\n<p>This is what I'm doing so far for the signature:</p>\n"}, {"tags": ["c#", "asp.net", "xamarin"], "comments": [{"owner": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "edited": false, "score": 0, "creation_date": 1567624730, "post_id": 57794518, "comment_id": 102022315, "body": "Not entirely sure, but I don&#39;t think you can pull two parameters from the body like that.  The model binding will try to bind to a single parameter unless it&#39;s from different sources like the URL, or headers.  Have you tried making a single class with login and password as properties then used that class as the parameter type?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1567624734, "post_id": 57794518, "comment_id": 102022316, "body": "That error message does not match the code in question. That usually is the result of a GET operation that tries to include a request message body which is not supported. Are you sure you rebuilt your code and that this Exception is being emitted on the code shown?"}, {"owner": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "edited": false, "score": 0, "creation_date": 1567624934, "post_id": 57794518, "comment_id": 102022404, "body": "Does it help if you also set the request&#39;s content type to <code>application&#47;x-www-form-urlencoded</code>?"}, {"owner": {"reputation": 43, "user_id": 10904737, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-17vyQzfvHcY/AAAAAAAAAAI/AAAAAAAADj4/zxmx9tEOSMs/photo.jpg?sz=128", "display_name": "YaRmgl", "link": "https://stackoverflow.com/users/10904737/yarmgl"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1567624955, "post_id": 57794518, "comment_id": 102022414, "body": "@Igor it works fine with postman, only C# cannot get it.  also this is asp.net 2.2"}, {"owner": {"reputation": 43, "user_id": 10904737, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-17vyQzfvHcY/AAAAAAAAAAI/AAAAAAAADj4/zxmx9tEOSMs/photo.jpg?sz=128", "display_name": "YaRmgl", "link": "https://stackoverflow.com/users/10904737/yarmgl"}, "reply_to_user": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "edited": false, "score": 0, "creation_date": 1567625046, "post_id": 57794518, "comment_id": 102022446, "body": "@WiktorZychla how do I set that?"}, {"owner": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "edited": false, "score": 0, "creation_date": 1567625116, "post_id": 57794518, "comment_id": 102022471, "body": "@YaRmgl: should I google that for you?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1567625191, "post_id": 57794518, "comment_id": 102022501, "body": "You did not answer my question. Make sure your code is rebuilt before you run it (do not accidentally run an older version due to a compile error). Also make sure the exception is being thrown by the code in question and not something that might be taking place before hand. I say this because the exception message does not match the code shown."}, {"owner": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "edited": false, "score": 0, "creation_date": 1567625202, "post_id": 57794518, "comment_id": 102022505, "body": "@YaRmgl: <a href=\"https://stackoverflow.com/questions/10679214/how-do-you-set-the-content-type-header-for-an-httpclient-request\">here it is</a>, hope that helps."}, {"owner": {"reputation": 43, "user_id": 10904737, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-17vyQzfvHcY/AAAAAAAAAAI/AAAAAAAADj4/zxmx9tEOSMs/photo.jpg?sz=128", "display_name": "YaRmgl", "link": "https://stackoverflow.com/users/10904737/yarmgl"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1567625400, "post_id": 57794518, "comment_id": 102022584, "body": "httpClient.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(&quot;application/x-www-form-urle&zwnj;&#8203;ncoded&quot;)); does not work, @Igor I will do a try/catch to see the errors"}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 10904737, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-17vyQzfvHcY/AAAAAAAAAAI/AAAAAAAADj4/zxmx9tEOSMs/photo.jpg?sz=128", "display_name": "YaRmgl", "link": "https://stackoverflow.com/users/10904737/yarmgl"}, "is_accepted": true, "score": 0, "last_activity_date": 1567626015, "creation_date": 1567626015, "answer_id": 57794887, "question_id": 57794518, "link": "https://stackoverflow.com/questions/57794518/c-httpclient-error-system-net-webexception-cannot-send-a-content-body-with/57794887#57794887", "title": "c# - HttpClient error: System.Net.WebException: &#39;Cannot send a content-body with this verb-type.&#39; (api POST)", "body": "<p>My bad, I am really blind, I was calling a deprecated GET from another route on the OnClick, although @WiktorZychla pointed out that I needed to set the content type to <code>\"application/x-www-form-urlencoded\"</code></p>\n"}], "owner": {"reputation": 43, "user_id": 10904737, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-17vyQzfvHcY/AAAAAAAAAAI/AAAAAAAADj4/zxmx9tEOSMs/photo.jpg?sz=128", "display_name": "YaRmgl", "link": "https://stackoverflow.com/users/10904737/yarmgl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 57794887, "answer_count": 1, "score": 0, "last_activity_date": 1567626015, "creation_date": 1567624182, "last_edit_date": 1567625576, "question_id": 57794518, "link": "https://stackoverflow.com/questions/57794518/c-httpclient-error-system-net-webexception-cannot-send-a-content-body-with", "title": "c# - HttpClient error: System.Net.WebException: &#39;Cannot send a content-body with this verb-type.&#39; (api POST)", "body": "<p>I'm trying to POST form data to an ASP.NET Core API, the controller is set up this way:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult&lt;string&gt; Post(\n    [FromForm]string loginname, \n    [FromForm]string password)\n{\n    // do stuff\n\n    return JsonConvert.SerializeObject(response);\n}\n</code></pre>\n\n<p>and this is the HttpClient in the Xamarin.Forms app:</p>\n\n<pre><code>private async Task&lt;LoginResponse&gt; Login(string loginname, string password, string ip)\n{\n\n    string url = \"http://192.168.1.27:5000/api/login\";\n    using (var httpClient = new HttpClient())\n    {\n        HttpContent formdata = new FormUrlEncodedContent(new[]\n        {\n            new KeyValuePair&lt;string, string&gt;(\"loginname\", loginname),\n            new KeyValuePair&lt;string, string&gt;(\"password\", password)\n        });\n\n        HttpResponseMessage response;\n\n        using (var req = new HttpRequestMessage(HttpMethod.Post, url) { Content = formdata })\n            response = await httpClient.SendAsync(req);\n\n        return JsonConvert.DeserializeObject&lt;LoginResponse&gt;(response.ToString());\n    }\n}\n</code></pre>\n\n<p>I keep getting the following error after trying for so much time:</p>\n\n<blockquote>\n  <p>HttpClient error: System.Net.WebException: 'Cannot send a content-body with this verb-type.'</p>\n</blockquote>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 1, "creation_date": 1567624158, "post_id": 57794370, "comment_id": 102022082, "body": "The way you assign <code>demoData</code> doesn&#39;t make any sense. You have a signle instance in a loop and you&#39;re assigning it over and over? It&#39;s just gonna take the last values in the loop."}, {"owner": {"reputation": 1201, "user_id": 7802149, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/391934d3d67d82a838a275ab040a4ee6?s=128&d=identicon&r=PG&f=1", "display_name": "Fakhar Ahmad Rasul", "link": "https://stackoverflow.com/users/7802149/fakhar-ahmad-rasul"}, "edited": false, "score": 0, "creation_date": 1567624575, "post_id": 57794370, "comment_id": 102022246, "body": "How many <code>demoData</code> objects do you need? Do you need just one or multiple?"}], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 10728126, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1103fc0a05c466c4f3cd8d55395a15a2?s=128&d=identicon&r=PG", "display_name": "user10728126", "link": "https://stackoverflow.com/users/10728126/user10728126"}, "is_accepted": false, "score": 0, "last_activity_date": 1567623750, "creation_date": 1567623750, "answer_id": 57794422, "question_id": 57794370, "link": "https://stackoverflow.com/questions/57794370/how-to-assign-value-to-class-instance-members-using-the-instance-name-in-a-selec/57794422#57794422", "title": "How to assign value to class instance members using the instance name in a select method", "body": "<p>try:</p>\n\n<pre><code>  var result = from item in context.Demographic\n                     where item.ZipCode == zipcode\n                     select item;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3615, "user_id": 1044581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/98dd2958ff1e605198d884997dbf9659?s=128&d=identicon&r=PG", "display_name": "Asynchronous", "link": "https://stackoverflow.com/users/1044581/asynchronous"}, "edited": false, "score": 0, "creation_date": 1567624365, "post_id": 57794524, "comment_id": 102022161, "body": "I need to use this demoData instance."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 3615, "user_id": 1044581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/98dd2958ff1e605198d884997dbf9659?s=128&d=identicon&r=PG", "display_name": "Asynchronous", "link": "https://stackoverflow.com/users/1044581/asynchronous"}, "edited": false, "score": 0, "creation_date": 1567624489, "post_id": 57794524, "comment_id": 102022211, "body": "Why? What are you doing before the query that you cannot do after? (I updated my answer to make it clear that you can do other stuff to <code>demoData</code> after the query)"}, {"owner": {"reputation": 3615, "user_id": 1044581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/98dd2958ff1e605198d884997dbf9659?s=128&d=identicon&r=PG", "display_name": "Asynchronous", "link": "https://stackoverflow.com/users/1044581/asynchronous"}, "edited": false, "score": 0, "creation_date": 1567624880, "post_id": 57794524, "comment_id": 102022387, "body": "I see where you are going but there are multiple results returned so FirstOrDefault will only return a single resultset."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 3615, "user_id": 1044581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/98dd2958ff1e605198d884997dbf9659?s=128&d=identicon&r=PG", "display_name": "Asynchronous", "link": "https://stackoverflow.com/users/1044581/asynchronous"}, "edited": false, "score": 0, "creation_date": 1567625002, "post_id": 57794524, "comment_id": 102022429, "body": "Right, but your code only returns one resultset. You&#39;re overwriting the same value each time through the loop. <code>demoData</code> is a single object, not a list. So what are you hoping to return?"}, {"owner": {"reputation": 3615, "user_id": 1044581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/98dd2958ff1e605198d884997dbf9659?s=128&d=identicon&r=PG", "display_name": "Asynchronous", "link": "https://stackoverflow.com/users/1044581/asynchronous"}, "edited": false, "score": 0, "creation_date": 1567625282, "post_id": 57794524, "comment_id": 102022539, "body": "Okay, I get it, makes sense, the loop was an error on my part. If I need to return multiple values then I will simply use an enumerable of the instance, in this case for multiple resultsets. Your suggestion is going to work."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 3615, "user_id": 1044581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/98dd2958ff1e605198d884997dbf9659?s=128&d=identicon&r=PG", "display_name": "Asynchronous", "link": "https://stackoverflow.com/users/1044581/asynchronous"}, "edited": false, "score": 1, "creation_date": 1567625613, "post_id": 57794524, "comment_id": 102022654, "body": "I updated my answer to show how you can return a list of all the results."}], "tags": [], "owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "is_accepted": true, "score": 3, "last_activity_date": 1567625593, "last_edit_date": 1567625593, "creation_date": 1567624200, "answer_id": 57794524, "question_id": 57794370, "link": "https://stackoverflow.com/questions/57794370/how-to-assign-value-to-class-instance-members-using-the-instance-name-in-a-selec/57794524#57794524", "title": "How to assign value to class instance members using the instance name in a select method", "body": "<p>No, you can't do that. But if your goal is for <code>demoData</code> to represent a single result from your query, then you can do something like this:</p>\n\n<pre><code>public DemographicData GetDemographicByZipCode(string zipcode)\n{\n    DemographicData demoData = null;\n\n    using(var context = new DataContext())\n    {\n        demoData = (from item in context.Demographic\n                   where item.ZipCode == zipcode\n                   select new DemographicData()\n                   {\n                       Zip = item.ZipCode,\n                       City = item.City,\n                       State = item.State\n                   }).FirstOrDefault();\n    }\n\n    //Do other stuff to demoData here, if needed\n\n    return demoData;\n}\n</code></pre>\n\n<p>That uses <code>FirstOrDefault</code> to get the first one in the list (or null if there are none). In the loop in your example, you're just overwriting the values, so I assume you are only expecting one result.</p>\n\n<p><em>Update:</em> If you are expecting more than one result, then return <code>IEnumerable&lt;DemographicData&gt;</code>, like this:</p>\n\n<pre><code>public IEnumerable&lt;DemographicData&gt; GetDemographicByZipCode(string zipcode)\n{\n    List&lt;DemographicData&gt; demoData = null;\n\n    using(var context = new DataContext())\n    {\n        demoData = (from item in context.Demographic\n                   where item.ZipCode == zipcode\n                   select new DemographicData()\n                   {\n                       Zip = item.ZipCode,\n                       City = item.City,\n                       State = item.State\n                   }).ToList();\n    }\n\n    //Do other stuff to demoData here, if needed\n\n    return demoData;\n}\n</code></pre>\n\n<p>Use <code>List&lt;DemographicData&gt;</code> and <code>ToList()</code> inside the method to force it to actually perform the query there. If you don't use <code>ToList()</code>, it will perform the query when the list is first accessed, which will be outside of the <code>using</code>, when your context is disposed. It might also complain about multiple enumerations, depending on your code.</p>\n"}, {"tags": [], "owner": {"reputation": 184, "user_id": 5784628, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1062348597119106/picture?type=large", "display_name": "Arthur", "link": "https://stackoverflow.com/users/5784628/arthur"}, "is_accepted": false, "score": 0, "last_activity_date": 1567625120, "creation_date": 1567625120, "answer_id": 57794687, "question_id": 57794370, "link": "https://stackoverflow.com/questions/57794370/how-to-assign-value-to-class-instance-members-using-the-instance-name-in-a-selec/57794687#57794687", "title": "How to assign value to class instance members using the instance name in a select method", "body": "<p>This will work.</p>\n\n<pre><code>City = item.City,\nState = item.State,\nZip = item.ZipCode\n</code></pre>\n\n<p>What is still wrong with your code is that you are returning single <code>DemographicData</code> object whereas result will be collection of <code>DemographicData</code> objects even if there is only one that fulfills the condition <code>tem.ZipCode == zipcode</code>. </p>\n\n<p>If you are expecting only exactly one instance of   <code>DemographicData</code> do it this way </p>\n\n<pre><code>var result = (from item in context.Demographic\n                     .\n                     (your query here)\n                     .\n                 ).Single();\n</code></pre>\n\n<p>If you are expecting one or zero then replace <code>Single()</code> with <code>FirstOrDefault()</code>. If you are expecting a collection then the return type of that method should be <code>IEnumerable&lt;DemographicData&gt;</code> or <code>IQueryable&lt;DemographicData&gt;</code> or any other that suits you best. If you need list/ array then replace <code>Single()</code> with <code>ToList()</code>/<code>ToArray()</code>.</p>\n"}], "owner": {"reputation": 3615, "user_id": 1044581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/98dd2958ff1e605198d884997dbf9659?s=128&d=identicon&r=PG", "display_name": "Asynchronous", "link": "https://stackoverflow.com/users/1044581/asynchronous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 57794524, "answer_count": 3, "score": 1, "last_activity_date": 1567625593, "creation_date": 1567623520, "last_edit_date": 1567624519, "question_id": 57794370, "link": "https://stackoverflow.com/questions/57794370/how-to-assign-value-to-class-instance-members-using-the-instance-name-in-a-selec", "title": "How to assign value to class instance members using the instance name in a select method", "body": "<p>I have this method:</p>\n\n<pre><code>    public DemographicData GetDemographicByZipCode(string zipcode)\n    {\n        DemographicData demoData = new DemographicData();\n\n        using(var context = new DataContext())\n        {\n            var result = from item in context.Demographic\n                         where item.ZipCode == zipcode\n                         select item;\n\n            foreach (var data in result)\n            {\n                demoData.City = data.City;\n                demoData.State = data.State;\n                demoData.Zip = data.ZipCode;\n            }\n        }\n\n        return demoData;\n    }\n</code></pre>\n\n<p>I am attempting to write the method without the loop as indicated below but as apparent, it will not work because I cannot use an assignment operator within the expression tree.</p>\n\n<pre><code>    public DemographicData GetDemographicByZipCode(string zipcode)\n    {\n        DemographicData demoData = null;\n        // Instantiate to new instance in the select method.\n        // I need to use this instance demoData\n\n        using(var context = new DataContext())\n        {\n            var result = from item in context.Demographic\n                         where item.ZipCode == zipcode\n\n                         select new DemographicData()\n                         {\n                             //assign data to instance member here.\n                         };\n        }\n\n        return demoData;\n    }\n</code></pre>\n"}, {"tags": ["c#", "vb.net", "azure", "azure-functions"], "answers": [{"comments": [{"owner": {"reputation": 5744, "user_id": 722393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc974b4440cea2f89bd99c0cb0b75da1?s=128&d=identicon&r=PG", "display_name": "InteXX", "link": "https://stackoverflow.com/users/722393/intexx"}, "edited": false, "score": 0, "creation_date": 1567624160, "post_id": 57794425, "comment_id": 102022084, "body": "Perfect. I&#39;ll do so. Thank you. (Not sure why I didn&#39;t see that myself.)"}, {"owner": {"reputation": 5744, "user_id": 722393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc974b4440cea2f89bd99c0cb0b75da1?s=128&d=identicon&r=PG", "display_name": "InteXX", "link": "https://stackoverflow.com/users/722393/intexx"}, "edited": false, "score": 0, "creation_date": 1567624454, "post_id": 57794425, "comment_id": 102022198, "body": "Hm... just tried, and I encountered the same warning in Visual Studio, but at design time. Also, the warning persists even after I remove the reference. Any ideas? The new Standard/Core project architectures are new to me and are still a bit obscure."}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "reply_to_user": {"reputation": 5744, "user_id": 722393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc974b4440cea2f89bd99c0cb0b75da1?s=128&d=identicon&r=PG", "display_name": "InteXX", "link": "https://stackoverflow.com/users/722393/intexx"}, "edited": false, "score": 0, "creation_date": 1567624540, "post_id": 57794425, "comment_id": 102022231, "body": "@InteXX how did you reference it?"}, {"owner": {"reputation": 5744, "user_id": 722393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc974b4440cea2f89bd99c0cb0b75da1?s=128&d=identicon&r=PG", "display_name": "InteXX", "link": "https://stackoverflow.com/users/722393/intexx"}, "edited": false, "score": 0, "creation_date": 1567624613, "post_id": 57794425, "comment_id": 102022260, "body": "I added it from NuGet. Also, the version called for in the warning doesn&#39;t exist as a published package."}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "reply_to_user": {"reputation": 5744, "user_id": 722393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc974b4440cea2f89bd99c0cb0b75da1?s=128&d=identicon&r=PG", "display_name": "InteXX", "link": "https://stackoverflow.com/users/722393/intexx"}, "edited": false, "score": 0, "creation_date": 1567624656, "post_id": 57794425, "comment_id": 102022283, "body": "@InteXX the vb.net support for .net core is spotty at best. why not use c# from the getgo?"}, {"owner": {"reputation": 5744, "user_id": 722393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc974b4440cea2f89bd99c0cb0b75da1?s=128&d=identicon&r=PG", "display_name": "InteXX", "link": "https://stackoverflow.com/users/722393/intexx"}, "edited": false, "score": 0, "creation_date": 1567624758, "post_id": 57794425, "comment_id": 102022327, "body": "As a wrapper, yes, I could always do so. But I&#39;m trying to reduce as much design overhead as I can get away with. (I&#39;ve 20 yrs exp. at VB, and a mere fraction of that at C#.) I suppose I&#39;m in uncharted territory with this."}, {"owner": {"reputation": 171, "user_id": 3306955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577ee7392274143620c64afc8454e1e3?s=128&d=identicon&r=PG&f=1", "display_name": "Bloodday", "link": "https://stackoverflow.com/users/3306955/bloodday"}, "reply_to_user": {"reputation": 5744, "user_id": 722393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc974b4440cea2f89bd99c0cb0b75da1?s=128&d=identicon&r=PG", "display_name": "InteXX", "link": "https://stackoverflow.com/users/722393/intexx"}, "edited": false, "score": 0, "creation_date": 1567633651, "post_id": 57794425, "comment_id": 102025145, "body": "@InteXX vb.net is not really different from c#, you just have to get used to the sintaxis, the rest (libraries, frameworks, classes and functions) are the same"}, {"owner": {"reputation": 5744, "user_id": 722393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc974b4440cea2f89bd99c0cb0b75da1?s=128&d=identicon&r=PG", "display_name": "InteXX", "link": "https://stackoverflow.com/users/722393/intexx"}, "reply_to_user": {"reputation": 171, "user_id": 3306955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577ee7392274143620c64afc8454e1e3?s=128&d=identicon&r=PG&f=1", "display_name": "Bloodday", "link": "https://stackoverflow.com/users/3306955/bloodday"}, "edited": false, "score": 0, "creation_date": 1567639846, "post_id": 57794425, "comment_id": 102026375, "body": "@Bloodday ~ Thank you. If I end up using wrapper classes, I&#39;ll use your advice as a source of solace and comfort :-)"}], "tags": [], "owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "is_accepted": false, "score": 1, "last_activity_date": 1567623760, "creation_date": 1567623760, "answer_id": 57794425, "question_id": 57794351, "link": "https://stackoverflow.com/questions/57794351/vb-net-azure-functions-what-does-the-microsoft-csharp-assembly-do/57794425#57794425", "title": "VB.NET Azure Functions \u2014 what does the Microsoft.CSharp assembly do?", "body": "<p>One of your dependencies might depend on it. You should include it.</p>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 10788521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aa574803b2d02b0a694c14ae19087d9?s=128&d=identicon&r=PG&f=1", "display_name": "Kyal Lanum", "link": "https://stackoverflow.com/users/10788521/kyal-lanum"}, "is_accepted": true, "score": 1, "last_activity_date": 1567733907, "last_edit_date": 1567733907, "creation_date": 1567723151, "answer_id": 57813751, "question_id": 57794351, "link": "https://stackoverflow.com/questions/57794351/vb-net-azure-functions-what-does-the-microsoft-csharp-assembly-do/57813751#57813751", "title": "VB.NET Azure Functions \u2014 what does the Microsoft.CSharp assembly do?", "body": "<p>This is because when publishing an Azure Function we look for every binary in an assembly, and some platforms can't evaluate certain assemblies (e.g. A VB.NET platform cannot evaluate a CSharp assembly).</p>\n\n<p>This warning is logged as an FYI, but its nothing to be concerned about.</p>\n\n<p>Here is a link to GitHub with an answer that confirms this:\n<a href=\"https://github.com/Azure/azure-functions-host/issues/4856#issuecomment-526183588\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-functions-host/issues/4856#issuecomment-526183588</a></p>\n"}], "owner": {"reputation": 5744, "user_id": 722393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc974b4440cea2f89bd99c0cb0b75da1?s=128&d=identicon&r=PG", "display_name": "InteXX", "link": "https://stackoverflow.com/users/722393/intexx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 528, "favorite_count": 0, "accepted_answer_id": 57813751, "answer_count": 2, "score": 0, "last_activity_date": 1567733907, "creation_date": 1567623404, "question_id": 57794351, "link": "https://stackoverflow.com/questions/57794351/vb-net-azure-functions-what-does-the-microsoft-csharp-assembly-do", "title": "VB.NET Azure Functions \u2014 what does the Microsoft.CSharp assembly do?", "body": "<p>I've been able to publish and consume an Azure Function in pure VB.NET, with no C# wrapper class. (For the interested, the how-to can be found <a href=\"https://github.com/dotnet/vblang/issues/475\" rel=\"nofollow noreferrer\">here</a>.)</p>\n\n<p>During publish, however, this warning is issued:</p>\n\n<blockquote>\n  <p>Could not evaluate 'Microsoft.CSharp.dll' for extension metadata. Exception message: Could not load file or assembly 'Microsoft.CSharp, Version=4.0.4.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a'</p>\n</blockquote>\n\n<p>Obviously, this occurs because I'm publishing from a VB.NET project and the assembly is never referenced/loaded there.</p>\n\n<p>But the omission seems to have no effect on the functionality of the code. It runs fine and returns the expected result.</p>\n\n<p>My question is this: what role does the assembly play in an Azure Function?</p>\n\n<p>We find this on <a href=\"https://www.nuget.org/packages/Microsoft.CSharp/\" rel=\"nofollow noreferrer\">NuGet</a>:</p>\n\n<blockquote>\n  <p>Provides support for compilation and code generation, including dynamic, using the C# language</p>\n</blockquote>\n\n<p>Well and good, but we're not doing any of that here.</p>\n\n<p>Since the function runs successfully, would I be correct in a guess that the assembly is required only as an interpreter for a C# Script Azure Function?</p>\n\n<p>Basically I'm trying to assess whether I'm production-ready with this approach, despite the warning.</p>\n"}, {"tags": ["javascript", "c#", "html"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 3, "creation_date": 1567623325, "post_id": 57794311, "comment_id": 102021754, "body": "<code>~</code> is a feature that only exists in server-side C#.  Learn about relative URLs."}, {"owner": {"reputation": 211, "user_id": 11262159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/khGGF.jpg?s=128&g=1", "display_name": "JamesT", "link": "https://stackoverflow.com/users/11262159/jamest"}, "edited": false, "score": 2, "creation_date": 1567623334, "post_id": 57794311, "comment_id": 102021756, "body": "have you tried without the <code>~</code> at the beginning?"}, {"owner": {"reputation": 60, "user_id": 9195980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2d7cf7554cad57f392619bdfbf6fb3?s=128&d=identicon&r=PG&f=1", "display_name": "StevenJe", "link": "https://stackoverflow.com/users/9195980/stevenje"}, "edited": false, "score": 0, "creation_date": 1567624402, "post_id": 57794311, "comment_id": 102022179, "body": "Thanks for heading me in the right direction.  I added the following to the Javascript function:  primaryFilename = primaryFilename.replace(&#39;~&#39;, &#39;&#39;);   and now this redirects fine."}, {"owner": {"reputation": 60, "user_id": 9195980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2d7cf7554cad57f392619bdfbf6fb3?s=128&d=identicon&r=PG&f=1", "display_name": "StevenJe", "link": "https://stackoverflow.com/users/9195980/stevenje"}, "edited": false, "score": 0, "creation_date": 1567624543, "post_id": 57794311, "comment_id": 102022233, "body": "I should have caught that the tilde would not be recognized by Javascript, but still surprised that it prepends the previous file path to the new variable path instead of causing an error."}], "owner": {"reputation": 60, "user_id": 9195980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2d7cf7554cad57f392619bdfbf6fb3?s=128&d=identicon&r=PG&f=1", "display_name": "StevenJe", "link": "https://stackoverflow.com/users/9195980/stevenje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1567623191, "creation_date": 1567623191, "question_id": 57794311, "link": "https://stackoverflow.com/questions/57794311/using-javascript-to-redirect-to-new-page-prepends-current-page-directory-how-do", "title": "Using Javascript to redirect to new page prepends current page directory. How do I get rid of it?", "body": "<p>Using a Javascript function, I pass in the URL I want to redirect to in Chrome browser to the function called redirect2MainLookup.  Each time it prepends the current page directory to the redirect location, and gives the following error: </p>\n\n<p>Server Error in '/' Application.\nThe resource cannot be found.\nDescription: HTTP 404. The resource you are looking for (or one of its dependencies) could have been removed, had its name changed, \nor is temporarily unavailable.  Please review the following URL and make sure that it is spelled correctly. \nRequested URL: /LookupCodes/Edit/~/LookupCodes/Character.cshtml</p>\n\n<p>Below is the function where I have tried many of the redirect options found at <a href=\"https://stackoverflow.com/questions/503093/how-do-i-redirect-to-another-webpage\">How do I redirect to another webpage?</a></p>\n\n<p>HTML:\n    '''\n\n<p>onclick=\"redirect2MainLookup('~/LookupCodes/Character.cshtml')\">@Page.Title'''</p>\n\n<p>Javascript function: </p>\n\n<pre><code>function redirect2MainLookup(primaryFilename) {\n    alert(\"Inside redirect2MainLookup Function value = \" + \n    primaryFilename);\n    //location=primaryFilename;\n    alert(\"Location = \" + primaryFilename);\n    //window.location.href = primaryFilename;\n    window.location.replace(primaryFilename);\n    //$(location).attr('href', primaryFilename);\n};\n</code></pre>\n\n<p>My expectation is that ~/LookupCodes/Character.cshtml will be passed to the function for the redirect, WITHOUT /LookupCodes/Edit/ before it.</p>\n"}, {"tags": ["c#", "rdlc"], "comments": [{"owner": {"reputation": 714, "user_id": 2929192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62523d07eaa4f1efae63ff8fe409419b?s=128&d=identicon&r=PG&f=1", "display_name": "tgralex", "link": "https://stackoverflow.com/users/2929192/tgralex"}, "edited": false, "score": 0, "creation_date": 1567630476, "post_id": 57794294, "comment_id": 102024150, "body": "Have tried to search? <a href=\"https://stackoverflow.com/questions/2684221/creating-a-pdf-from-a-rdlc-report-in-the-background\" title=\"creating a pdf from a rdlc report in the background\">stackoverflow.com/questions/2684221/&hellip;</a>"}, {"owner": {"reputation": 486, "user_id": 9448877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650fcb11bed0224275b802fadb8a6628?s=128&d=identicon&r=PG&f=1", "display_name": "Maxter", "link": "https://stackoverflow.com/users/9448877/maxter"}, "reply_to_user": {"reputation": 714, "user_id": 2929192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62523d07eaa4f1efae63ff8fe409419b?s=128&d=identicon&r=PG&f=1", "display_name": "tgralex", "link": "https://stackoverflow.com/users/2929192/tgralex"}, "edited": false, "score": 0, "creation_date": 1567687169, "post_id": 57794294, "comment_id": 102043020, "body": "Yes but this doesn&#39;t answer my question. I know how to create a PDF from a RDLC report. What I want is to create a report with no tablix or data. Just 2 pages of text. I am having a hard time getting the text to appear on 2 different pages."}], "answers": [{"comments": [{"owner": {"reputation": 486, "user_id": 9448877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650fcb11bed0224275b802fadb8a6628?s=128&d=identicon&r=PG&f=1", "display_name": "Maxter", "link": "https://stackoverflow.com/users/9448877/maxter"}, "edited": false, "score": 0, "creation_date": 1568052811, "post_id": 57855341, "comment_id": 102144584, "body": "It works. Thank you. Only problem is that a blank page appear after every page. So my 2 pages become 4. Also, I can control the page break location by adding rectangles in the Body and settings its pageBreak property."}, {"owner": {"reputation": 9853, "user_id": 2400834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ai7O1.jpg?s=128&g=1", "display_name": "tezzo", "link": "https://stackoverflow.com/users/2400834/tezzo"}, "reply_to_user": {"reputation": 486, "user_id": 9448877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650fcb11bed0224275b802fadb8a6628?s=128&d=identicon&r=PG&f=1", "display_name": "Maxter", "link": "https://stackoverflow.com/users/9448877/maxter"}, "edited": false, "score": 1, "creation_date": 1568058828, "post_id": 57855341, "comment_id": 102147049, "body": "check your right/left margins if a blank page appears after every page. probably body width + right/left margins exceed page width."}], "tags": [], "owner": {"reputation": 9853, "user_id": 2400834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ai7O1.jpg?s=128&g=1", "display_name": "tezzo", "link": "https://stackoverflow.com/users/2400834/tezzo"}, "is_accepted": true, "score": 1, "last_activity_date": 1568036795, "creation_date": 1568036795, "answer_id": 57855341, "question_id": 57794294, "link": "https://stackoverflow.com/questions/57794294/build-simple-multi-page-pdf-with-rdlc/57855341#57855341", "title": "Build simple multi page PDF with RDLC", "body": "<p>You can use a <code>TextBox</code> with <code>CanGrow</code> property set to <code>True</code> inside a <code>Body</code> whose height is higher (2x) than <code>Page</code> height.</p>\n\n<p>Please note that you can view the final effect only in <code>Print Layout</code> mode of <code>ReportViewer</code>.</p>\n"}], "owner": {"reputation": 486, "user_id": 9448877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650fcb11bed0224275b802fadb8a6628?s=128&d=identicon&r=PG&f=1", "display_name": "Maxter", "link": "https://stackoverflow.com/users/9448877/maxter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 57855341, "answer_count": 1, "score": 0, "last_activity_date": 1568036795, "creation_date": 1567623105, "question_id": 57794294, "link": "https://stackoverflow.com/questions/57794294/build-simple-multi-page-pdf-with-rdlc", "title": "Build simple multi page PDF with RDLC", "body": "<p>Is it possible to create a simple multi page PDF file with a RDLC report?\nBy simple PDF file, I mean a report that doesn't have any group or detail. Just some text that I wrote in the designer.</p>\n\n<p>What I have tried so far:</p>\n\n<ol>\n<li>I added a header to the report and let the body of the report empty.</li>\n<li>I set the report format PageSize property to 8.5in by 11in</li>\n<li>I expanded the header height to 22in (So should be 2 pages total..)</li>\n<li>I added some textboxes all over the Header</li>\n</ol>\n\n<p>Expected result when I render the report to PDF: A PDF file with 2 pages (8.5in by 11in each) of text.</p>\n\n<p>What I actualy get: A PDF file with a single 8.5in by 22in page of text.</p>\n\n<p>It seems like the PaperSize is ignored.</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 4154, "user_id": 224734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pu8AA.jpg?s=128&g=1", "display_name": "frankhermes", "link": "https://stackoverflow.com/users/224734/frankhermes"}, "edited": false, "score": 0, "creation_date": 1567623478, "post_id": 57794292, "comment_id": 102021809, "body": "...and what is your question? What is not working right?"}, {"owner": {"reputation": 957, "user_id": 6219084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbUSA.png?s=128&g=1", "display_name": "yes", "link": "https://stackoverflow.com/users/6219084/yes"}, "edited": false, "score": 0, "creation_date": 1567623610, "post_id": 57794292, "comment_id": 102021861, "body": "In both cases the result you want in <code>currentTracingPoints</code> seems to be just <code>part</code>. Why not just use <code>part</code>? What am I missing?"}, {"owner": {"reputation": 12217, "user_id": 652541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5bdd891dd8a8c4fef529e86c2a5adccb?s=128&d=identicon&r=PG", "display_name": "Keith Power", "link": "https://stackoverflow.com/users/652541/keith-power"}, "edited": false, "score": 0, "creation_date": 1567623722, "post_id": 57794292, "comment_id": 102021905, "body": "currently the code works if both <code>arrays</code> are exactly the same values in the same order <code>{1,2,3}</code> . However sometimes <code>currentTracingPoints</code> will have have extra numbers that I want to remove first before I compare check to see if both <code>arrays</code> have the same order of numbers."}, {"owner": {"reputation": 12217, "user_id": 652541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5bdd891dd8a8c4fef529e86c2a5adccb?s=128&d=identicon&r=PG", "display_name": "Keith Power", "link": "https://stackoverflow.com/users/652541/keith-power"}, "edited": false, "score": 0, "creation_date": 1567623904, "post_id": 57794292, "comment_id": 102021979, "body": "The two <code>arrays</code> that I compare are <code>currentTracingPoints</code> and <code>part</code>. Everything else are just Unity parent <code>Objects</code>"}, {"owner": {"reputation": 12217, "user_id": 652541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5bdd891dd8a8c4fef529e86c2a5adccb?s=128&d=identicon&r=PG", "display_name": "Keith Power", "link": "https://stackoverflow.com/users/652541/keith-power"}, "edited": false, "score": 0, "creation_date": 1567624031, "post_id": 57794292, "comment_id": 102022027, "body": "Really you could ignore the the <code>foreach</code> code. i just put it there as context for what I am doing. Really I just want to look at two <code>arrays</code> and remove the extra values form <code>currentTracingPoints</code>. Then I can do my compare checking after"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1567628650, "post_id": 57794292, "comment_id": 102023471, "body": "If you want to dynamically remove elements you would be better using <code>List</code> .. and then see <a href=\"https://stackoverflow.com/a/54677133/7111561\">this answer</a> which provides a <b>match between lists that can be scattered</b> <code>var result = B.Intersect(A).SequenceEqual(B)</code>"}, {"owner": {"reputation": 571, "user_id": 4078857, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wL1to.jpg?s=128&g=1", "display_name": "Rashid Ali", "link": "https://stackoverflow.com/users/4078857/rashid-ali"}, "edited": false, "score": 0, "creation_date": 1567634763, "post_id": 57794292, "comment_id": 102025389, "body": "and what if arrays have same values but in different order, say currentTracingPoints ={1,2,3} and part = {1,3,2}. what would be the desired resultant array?"}], "answers": [{"tags": [], "owner": {"reputation": 470, "user_id": 6730679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LqKkp.jpg?s=128&g=1", "display_name": "deruitda", "link": "https://stackoverflow.com/users/6730679/deruitda"}, "is_accepted": false, "score": 0, "last_activity_date": 1567624898, "creation_date": 1567624898, "answer_id": 57794646, "question_id": 57794292, "link": "https://stackoverflow.com/questions/57794292/remove-non-matching-number-from-two-arrays/57794646#57794646", "title": "Remove non matching number from two arrays", "body": "<p>You could get the difference between the two arrays by using LINQ:</p>\n\n<pre><code>int[] diff = currentTracingPoints.Except(part);\n</code></pre>\n\n<p>And then when iterating in your loop, you can see if the current <em>part</em> exists in the diff array, and if it does just skip the current iteration.</p>\n\n<p>Hopefully I am understanding what you need correctly, if not please let me know. </p>\n"}, {"comments": [{"owner": {"reputation": 12217, "user_id": 652541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5bdd891dd8a8c4fef529e86c2a5adccb?s=128&d=identicon&r=PG", "display_name": "Keith Power", "link": "https://stackoverflow.com/users/652541/keith-power"}, "edited": false, "score": 0, "creation_date": 1567635843, "post_id": 57794652, "comment_id": 102025605, "body": "I get an error <code>ArrayList</code> does not contain  definition for &quot;intersect&quot; for <code>var result = currentTracingPoints.Intersect(part);</code>"}, {"owner": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "reply_to_user": {"reputation": 12217, "user_id": 652541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5bdd891dd8a8c4fef529e86c2a5adccb?s=128&d=identicon&r=PG", "display_name": "Keith Power", "link": "https://stackoverflow.com/users/652541/keith-power"}, "edited": false, "score": 0, "creation_date": 1567638848, "post_id": 57794652, "comment_id": 102026207, "body": "Add <code>using System.Linq</code>"}], "tags": [], "owner": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "is_accepted": false, "score": 0, "last_activity_date": 1567625375, "last_edit_date": 1567625375, "creation_date": 1567624949, "answer_id": 57794652, "question_id": 57794292, "link": "https://stackoverflow.com/questions/57794292/remove-non-matching-number-from-two-arrays/57794652#57794652", "title": "Remove non matching number from two arrays", "body": "<p>You can use an <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.intersect?view=netframework-4.8\" rel=\"nofollow noreferrer\">Intersect</a>, using Linq:</p>\n\n<pre><code>var result = currentTracingPoints.Intersect(part);\n</code></pre>\n\n<p>This one compares and remove the elements that are not in both arrays.</p>\n\n<p>It's the equivalent of the <a href=\"https://en.wikipedia.org/wiki/Intersection\" rel=\"nofollow noreferrer\">mathematical intersection</a>.</p>\n\n<hr>\n\n<pre><code>int[] currentTracingPoints = new int[] { 1,2,3,4 };\nint[] part = new int[] {1,2,3};\n\ncurrentTracingPoints.Intersect(part);\n\nforeach(var x in currentTracingPoints.Intersect(part))\n    Console.WriteLine(x);\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>1\n2\n3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 12018338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50201140ac11c73cd6438e11d1ca5506?s=128&d=identicon&r=PG&f=1", "display_name": "CodeSloth42", "link": "https://stackoverflow.com/users/12018338/codesloth42"}, "is_accepted": true, "score": 0, "last_activity_date": 1567641123, "creation_date": 1567641123, "answer_id": 57796843, "question_id": 57794292, "link": "https://stackoverflow.com/questions/57794292/remove-non-matching-number-from-two-arrays/57796843#57796843", "title": "Remove non matching number from two arrays", "body": "<p>If you are interested in removing the elements with your own code.\nI would use lists for each array because they would be more malleable.</p>\n\n<p>You would iterate over currentTracingPoints backwards, and remove any that can't be found in the part array.</p>\n\n<pre><code>List&lt; int &gt; currentTracingPoints = new List&lt;int&gt; ( { 1, 2, 3, 4 } );\nList&lt; int &gt; parts = new List&lt;int&gt; ( { 1, 2, 3 } );\n\nfor ( int index = currentTracingPoints.Count-1; index &gt;= 0; index-- )\n{\n    if ( !parts.Contains( currentTracingPoints[ index ] ) )\n    {\n        currentTracingPoints.RemoveAt( index );\n    }\n}\n</code></pre>\n\n<p>And then you will be left an array that matches parts.\nThen you can convert the list to an int array with <a href=\"https://www.dotnetperls.com/convert-list-array\" rel=\"nofollow noreferrer\">ToArray</a></p>\n\n<p>I'm not 100% sure if this absolutely the fastest, but it would work. Wether or not it becomes a performance bottleneck would depend on the size of the arrays and other nessary processes surrounding it. </p>\n"}], "owner": {"reputation": 12217, "user_id": 652541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5bdd891dd8a8c4fef529e86c2a5adccb?s=128&d=identicon&r=PG", "display_name": "Keith Power", "link": "https://stackoverflow.com/users/652541/keith-power"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "closed_date": 1567652408, "accepted_answer_id": 57796843, "answer_count": 3, "score": -1, "last_activity_date": 1567641123, "creation_date": 1567623098, "last_edit_date": 1567624746, "question_id": 57794292, "link": "https://stackoverflow.com/questions/57794292/remove-non-matching-number-from-two-arrays", "closed_reason": "Needs more focus", "title": "Remove non matching number from two arrays", "body": "<p>I have a <code>foreach</code> that loops over two <code>arrays</code> to check if the numbers are matching and in the same order as each other.</p>\n\n<p>However one of the <code>arrays</code> can have some extra numbers that I want to remove/ignore before comparing.</p>\n\n<p>Example:</p>\n\n<pre><code>int[] currentTracingPoints = new int[] { 1,2,3,4 };\nint[] part = new int[] {1,2,3};\n</code></pre>\n\n<p>I would like to remove the number 4 from <code>currentTracingPoints</code></p>\n\n<p>Example:</p>\n\n<pre><code>int[] currentTracingPoints = new int[] {4,5,6,8};\nint[] part = new int[] {4,5,8};\n</code></pre>\n\n<p>I would like to remove the number 6 from <code>currentTracingPoints</code></p>\n\n<p>I am using Unity</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>foreach (TracingPart part in tracingParts) { // check tracing parts\n    if (currentTracingPoints.Count == part.order.Length &amp;&amp; !part.succeded) {\n        // check whether the previous tracing parts are succeeded\n        if (PreviousLettersPartsSucceeded (part, tracingParts)) {\n            equivfound = true; // assume true\n            for (int i = 0; i &lt; currentTracingPoints.Count; i++) {\n                int index = (int) currentTracingPoints [i];\n                if (index != part.order [i]) {\n                    equivfound = false;\n                    break;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "mvvm"], "comments": [{"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1567623235, "post_id": 57794192, "comment_id": 102021723, "body": "Does your model implement IPNC, are you updating the model property on ui thread?"}, {"owner": {"reputation": 1963, "user_id": 610090, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/aea419fad3a94f9e1d4ea51377f7b399?s=128&d=identicon&r=PG", "display_name": "Conrad", "link": "https://stackoverflow.com/users/610090/conrad"}, "reply_to_user": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1567623344, "post_id": 57794192, "comment_id": 102021759, "body": "@Xiaoy312 I assume you mean <code>INotifyPropertyChanged</code>? If so, yes."}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1567623561, "post_id": 57794192, "comment_id": 102021843, "body": "Does your view-model expose your model somehow, so that the view can bind to? You should probably post code that shows how your MVVM is wired up and where/how you are updating the said property."}, {"owner": {"reputation": 1963, "user_id": 610090, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/aea419fad3a94f9e1d4ea51377f7b399?s=128&d=identicon&r=PG", "display_name": "Conrad", "link": "https://stackoverflow.com/users/610090/conrad"}, "reply_to_user": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1567623765, "post_id": 57794192, "comment_id": 102021924, "body": "@Xiaoy312 sorry should have mentioned - I am using Ninject to wire the Model to the VM. That is happening in App.xaml.cs."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567625032, "post_id": 57794192, "comment_id": 102022441, "body": "At best, your question is too broad. See marked duplicate for general approach. If you are trying to be dogmatic about the relationship between view, view-model, and model, you&#39;ll need to delegate: the model will need to implement a progress property with change notification (e.g. <code>INotifyPropertyChanged</code>), or you can pass an <code>IProgress&lt;T&gt;</code> to it, or any other suitable mechanism to allow a client (like the view-model) to receive progress notification without creating a dependency on the client itself in the model class."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567625077, "post_id": 57794192, "comment_id": 102022459, "body": "See also <a href=\"https://stackoverflow.com/search?q=mvvm+update+progressbar\">stackoverflow.com/search?q=mvvm+update+progressbar</a> and related searches"}, {"owner": {"reputation": 1963, "user_id": 610090, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/aea419fad3a94f9e1d4ea51377f7b399?s=128&d=identicon&r=PG", "display_name": "Conrad", "link": "https://stackoverflow.com/users/610090/conrad"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567626758, "post_id": 57794192, "comment_id": 102023089, "body": "@PeterDuniho please see the edits. I am trying to do more than a general implementation - I need to update the <code>ProgressBar</code> outside of the VM."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567629368, "post_id": 57794192, "comment_id": 102023746, "body": "The commented question in your code is asking the wrong thing: <i>&quot;How do I update ProgressMeter in adData and fileOps classes?&quot;</i> -- you don&#39;t. Those classes shouldn&#39;t know about the progress bar, just as the view model shouldn&#39;t know about it either. As I&#39;ve already noted above, you should use an existing mechanism to allow those classes to report progress in a general-purpose way, and then your view model can subscribe to that mechanism to update from the background worker."}, {"owner": {"reputation": 1963, "user_id": 610090, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/aea419fad3a94f9e1d4ea51377f7b399?s=128&d=identicon&r=PG", "display_name": "Conrad", "link": "https://stackoverflow.com/users/610090/conrad"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567630539, "post_id": 57794192, "comment_id": 102024172, "body": "@PeterDuniho &quot;you should use an existing mechanism to allow those classes to report progress...&quot; - yes, that is what I don&#39;t know how to do. This is what I am asking."}, {"owner": {"reputation": 2490, "user_id": 7512742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/muuJz.png?s=128&g=1", "display_name": "Adam Vincent", "link": "https://stackoverflow.com/users/7512742/adam-vincent"}, "edited": false, "score": 1, "creation_date": 1567658958, "post_id": 57794192, "comment_id": 102029760, "body": "<code>PubSubEvent&lt;T&gt;</code> (Prism Lib) or equivalent messaging or events would be your friend in this case."}], "answers": [{"tags": [], "owner": {"reputation": 1963, "user_id": 610090, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/aea419fad3a94f9e1d4ea51377f7b399?s=128&d=identicon&r=PG", "display_name": "Conrad", "link": "https://stackoverflow.com/users/610090/conrad"}, "is_accepted": true, "score": -1, "last_activity_date": 1567701068, "creation_date": 1567701068, "answer_id": 57809659, "question_id": 57794192, "link": "https://stackoverflow.com/questions/57794192/how-do-i-update-progressbar-from-the-model-in-mvvm/57809659#57809659", "title": "How do I update ProgressBar from the Model in MVVM?", "body": "<p>Thanks to @Adam Vincent, I ended up using the Messenger Pattern - specifically <a href=\"https://stackoverflow.com/questions/23798425/wpf-mvvm-communication-between-view-model\">this implementation</a>. I can now pass the ProgressBar value from the Model to the View, without breaking abstraction layers.</p>\n"}], "owner": {"reputation": 1963, "user_id": 610090, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/aea419fad3a94f9e1d4ea51377f7b399?s=128&d=identicon&r=PG", "display_name": "Conrad", "link": "https://stackoverflow.com/users/610090/conrad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 57809659, "answer_count": 1, "score": -1, "last_activity_date": 1567701068, "creation_date": 1567622708, "last_edit_date": 1567626630, "question_id": 57794192, "link": "https://stackoverflow.com/questions/57794192/how-do-i-update-progressbar-from-the-model-in-mvvm", "title": "How do I update ProgressBar from the Model in MVVM?", "body": "<p>I have a <code>ProgressBar</code> in my MVVM View, which is bound to a View Model property. Updating the property in the VM all works correctly. However, I have some longer-running file/network operations which take place in another class (Model), and I would like to update the ProgressBar property in the middle of the Model operations. I can't pass the ProgressBar property via reference to the Model class. I definitely don't want to pass a handle to the VM to the Model. How do I update this VM property from the Model classes <code>adData</code> and <code>fileOps</code>?</p>\n\n<p>Edit: Additional code to show where I need to update the ProgressBar property.</p>\n\n<h2>View</h2>\n\n<pre><code>&lt;ProgressBar Value=\"{Binding ProgressMeter}\"/&gt;\n&lt;TextBlock Text=\"{Binding CurrentStatusMsg}\"/&gt;\n</code></pre>\n\n<h2>ViewModel</h2>\n\n<pre><code>public class ViewModel : INotifyPropertyChanged\n{\n    private readonly IADData adData;\n    private readonly IFileOps fileOps;\n\n    public ViewModel(IADData adData, IFileOps fileOps)\n    {\n        this.adData = adData;\n        this.fileOps = fileOps;\n    }\n\n    // INPC Implementation goes here\n\n    private int progressMeter;\n\n    public int ProgressMeter\n    {\n        get =&gt; progressMeter;\n\n        set\n        {\n            if (progressMeter != value)\n            {\n                progressMeter = value;\n                RaisePropertyChanged(\"ProgressMeter\");\n            }\n        }\n    }\n\n    // Similar property for CurrentStatusMsg\n\n    public void DoIt()\n    {\n        BackgroundWorker bgWorker = new BackgroundWorker\n        {\n            WorkerReportsProgress = true\n        };\n        bgWorker.DoWork += CreatePhoneList;\n        bgWorker.RunWorkerCompleted += BgWorker_RunWorkerCompleted;\n\n        CurrentStatusMsg = \"Creating Phone List...\";\n\n        ProgressMeter = 5;\n        bgWorker.RunWorkerAsync();\n    }\n\n\n    private void CreatePhoneList(object sender, DoWorkEventArgs e)\n    {\n        // How do I update ProgressMeter in adData and fileOps classes?\n        DataTable t = adData.ReportLines();\n        fileOps.AddDeptRows(t);\n        e.Result = t;\n    }\n\n\n    private void BgWorker_RunWorkerCompleted(object sender, RunWorkerCompletedEventArgs e)\n    {\n        ProgressMeter = 100;\n        CurrentStatusMsg = \"Creating Phone List...  Complete.\";\n        reportCreator.ShowReport((DataTable)e.Result);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1567628247, "post_id": 57794166, "comment_id": 102023355, "body": "This isn&#39;t anything close to a Unity <code>MonoBehaviour</code> implementation .. it seems like you should go through the <a href=\"https://docs.unity3d.com/Manual/UnityBasics.html\" rel=\"nofollow noreferrer\">Getting Started Manual</a>. You don&#39;t use the <code>Main</code> in Unity and also no <code>while</code> loop per se but rather a <a href=\"https://docs.unity3d.com/ScriptReference/MonoBehaviour.html\" rel=\"nofollow noreferrer\"><code>MonoBehaviour</code></a> with the game logic mainly happening in <a href=\"https://docs.unity3d.com/ScriptReference/MonoBehaviour.Update.html\" rel=\"nofollow noreferrer\"><code>Update</code></a>"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 1, "creation_date": 1567628408, "post_id": 57794166, "comment_id": 102023403, "body": "...or is this even a Unity question at all? If you aren&#39;t using Unity, don&#39;t tag your question with Unity."}, {"owner": {"reputation": 39, "user_id": 6302483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433e03acd98dabeaf5b6a5cf9e89813f?s=128&d=identicon&r=PG&f=1", "display_name": "L. John", "link": "https://stackoverflow.com/users/6302483/l-john"}, "edited": false, "score": 0, "creation_date": 1567631539, "post_id": 57794166, "comment_id": 102024523, "body": "Sorry, its not Unity. I got confused with the starter tutorial and thought the tags was just tags I was just interested in to setup my profile or something."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 6302483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433e03acd98dabeaf5b6a5cf9e89813f?s=128&d=identicon&r=PG&f=1", "display_name": "L. John", "link": "https://stackoverflow.com/users/6302483/l-john"}, "edited": false, "score": 0, "creation_date": 1567629210, "post_id": 57794401, "comment_id": 102023684, "body": "Thanks for the help, can&#39;t believe I managed to let that slip past"}, {"owner": {"reputation": 571, "user_id": 4078857, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wL1to.jpg?s=128&g=1", "display_name": "Rashid Ali", "link": "https://stackoverflow.com/users/4078857/rashid-ali"}, "reply_to_user": {"reputation": 39, "user_id": 6302483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433e03acd98dabeaf5b6a5cf9e89813f?s=128&d=identicon&r=PG&f=1", "display_name": "L. John", "link": "https://stackoverflow.com/users/6302483/l-john"}, "edited": false, "score": 1, "creation_date": 1567629500, "post_id": 57794401, "comment_id": 102023803, "body": "you can mark this solution as accepted if it worked for you."}], "tags": [], "owner": {"reputation": 571, "user_id": 4078857, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wL1to.jpg?s=128&g=1", "display_name": "Rashid Ali", "link": "https://stackoverflow.com/users/4078857/rashid-ali"}, "is_accepted": true, "score": 1, "last_activity_date": 1567625603, "last_edit_date": 1567625603, "creation_date": 1567623656, "answer_id": 57794401, "question_id": 57794166, "link": "https://stackoverflow.com/questions/57794166/c-i-cant-seem-to-be-able-to-pass-in-an-array-to-different-methods-one-to-in/57794401#57794401", "title": "C# - I can&#39;t seem to be able to pass in an array to different methods, one to initialise and one to modify?", "body": "<p>for loop condition in your PlayerMove method is making it impossible to iterate through.</p>\n\n<p>initial value of i = 0, while condition of i>8 is always false on first itertation, change PlayerMove method to this:</p>\n\n<pre><code>private static void PlayerMove(ref string answer, ref string[] arr)\n  {\n    for (int i = 0; i &lt;= 8; i++) //make player move\n    {\n      if (answer == arr[i])\n      {\n        arr[i] = \"X\";\n      }\n    }\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 6302483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433e03acd98dabeaf5b6a5cf9e89813f?s=128&d=identicon&r=PG&f=1", "display_name": "L. John", "link": "https://stackoverflow.com/users/6302483/l-john"}, "edited": false, "score": 0, "creation_date": 1567629170, "post_id": 57794690, "comment_id": 102023671, "body": "Can&#39;t believe I managed to let that for loop slip past. And I added the else continue because if there was an error it would skip their turn and go to the next iteration in the while loop. Thanks"}, {"owner": {"reputation": 39, "user_id": 6302483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433e03acd98dabeaf5b6a5cf9e89813f?s=128&d=identicon&r=PG&f=1", "display_name": "L. John", "link": "https://stackoverflow.com/users/6302483/l-john"}, "edited": false, "score": 0, "creation_date": 1567629683, "post_id": 57794690, "comment_id": 102023864, "body": "Would it work if I made a field or property outside the main method then I initialised it in DrawGrid and passed the array in through PlayerMove? Thanks"}, {"owner": {"reputation": 39, "user_id": 6302483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433e03acd98dabeaf5b6a5cf9e89813f?s=128&d=identicon&r=PG&f=1", "display_name": "L. John", "link": "https://stackoverflow.com/users/6302483/l-john"}, "edited": false, "score": 0, "creation_date": 1567631348, "post_id": 57794690, "comment_id": 102024447, "body": "Oh sorry, I forgot to mention there is extra code after that. I wanted to skip this code. Thanks and I&#39;m sorry about the loads of comments"}, {"owner": {"reputation": 4201, "user_id": 5516339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0E88.jpg?s=128&g=1", "display_name": "Palle Due", "link": "https://stackoverflow.com/users/5516339/palle-due"}, "reply_to_user": {"reputation": 39, "user_id": 6302483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433e03acd98dabeaf5b6a5cf9e89813f?s=128&d=identicon&r=PG&f=1", "display_name": "L. John", "link": "https://stackoverflow.com/users/6302483/l-john"}, "edited": false, "score": 0, "creation_date": 1567754025, "post_id": 57794690, "comment_id": 102065347, "body": "Yes, a field outside the Main method would work, but it would have to be static since your methods are static. I wouldn&#39;t recommend it. Static is for method that don&#39;t mingle with an object&#39;s state."}], "tags": [], "owner": {"reputation": 4201, "user_id": 5516339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0E88.jpg?s=128&g=1", "display_name": "Palle Due", "link": "https://stackoverflow.com/users/5516339/palle-due"}, "is_accepted": false, "score": 1, "last_activity_date": 1567625136, "creation_date": 1567625136, "answer_id": 57794690, "question_id": 57794166, "link": "https://stackoverflow.com/questions/57794166/c-i-cant-seem-to-be-able-to-pass-in-an-array-to-different-methods-one-to-in/57794690#57794690", "title": "C# - I can&#39;t seem to be able to pass in an array to different methods, one to initialise and one to modify?", "body": "<p>@Rashid's answer is correct. Your for loop condition is wrong. But I would like to add a few other things:</p>\n\n<ul>\n<li>The passing by ref is totally unnecessary. Only value types need the ref keyword and arrays are not value types. You can always change the contents of the array without the ref keyword, but you cannot make it point to a different array. </li>\n<li>Another thing is the \"else-continue\"-part. When the execution gets to there, it just goes to the while condition, which it would have done anyway.</li>\n<li>And then there is one of my pet peeves: Never compare a boolean expression to true or false. <code>If (a==true)</code> is the same as <code>if (a)</code>. <code>If (a==false)</code> is the same as <code>if (!a)</code>. </li>\n</ul>\n\n<p>The code below works fine:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public static void Main(string[] args)\n{\n    Console.WriteLine(\"Welcome to Tic-Tac-Toe. Player 1 = X and Player 2 = O\");\n\n    string[] arr = new string[] { \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\" }; //each char for each square in the grid - defining array\n    int player = 1; //player is set to 1 in the beginning to allow for error checking (now set to 2 because of iteration - test)**\n    string answer; //user input**\n    bool win = false; //win condition**\n    bool error = false; //validating user input**\n    while (!win) //loop for each player's turn**\n    {\n        DrawGrid(arr);\n        Console.WriteLine(\"\");\n        Console.WriteLine(\"Player {0}'s turn. Enter a number slot\", player);\n        answer = Console.ReadLine();\n\n        if (!error)\n        {\n            PlayerMove(answer, arr); //make player move\n        }\n    }\n}\n\nprivate static void DrawGrid(string[] arr)\n{\n    Console.WriteLine(\"|{0}|{1}|{2}|\\n|{3}|{4}|{5}|\\n|{6}|{7}|{8}|\", arr[0], arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7], arr[8]);\n}\n\nprivate static void PlayerMove(string answer, string[] arr) //make whole new class for this method?**\n{\n    for (int i = 0; i &lt;= 8; i++) //make player move\n    {\n        if (answer == arr[i])\n        {\n            arr[i] = \"X\";\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 6302483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/433e03acd98dabeaf5b6a5cf9e89813f?s=128&d=identicon&r=PG&f=1", "display_name": "L. John", "link": "https://stackoverflow.com/users/6302483/l-john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "closed_date": 1567629762, "accepted_answer_id": 57794401, "answer_count": 2, "score": 0, "last_activity_date": 1567629814, "creation_date": 1567622607, "last_edit_date": 1567629814, "question_id": 57794166, "link": "https://stackoverflow.com/questions/57794166/c-i-cant-seem-to-be-able-to-pass-in-an-array-to-different-methods-one-to-in", "closed_reason": "Not suitable for this site", "title": "C# - I can&#39;t seem to be able to pass in an array to different methods, one to initialise and one to modify?", "body": "<p>I am creating a Tic-Tac-Toe game and I wanted to have a method which would draw the grid (<code>DrawGrid</code>) and a method for the player's move (<code>PlayerMove</code>). In <code>PlayerMove</code>, I wanted to modify the array which would change one of the boxes' value to an \"X\" or an \"O\" (adding the different players later). The values in the boxes should change to an \"X\" or an \"O\" but isn't.</p>\n\n<p>Firstly, I put my for loop from <code>PlayerMove</code> in the Main method, but realized that wouldn't work so I put it in it's own method, however I kept the array, for the values in the boxes, in the Main method, but that didn't work when I tried to pass in by reference (is the reason why it won't change is because it <code>arr</code> still points to the original array and if so, how do I make it so both instances point to the new array?). Then I tried tackling the problem by declaring a field/property outside the Main method and initializing it in another method. Then I passed in arr and changed some values in the array (or just a value) in another method.</p>\n\n<pre><code>public static void Main(string[] args)\n{\n    Console.WriteLine(\"Welcome to Tic-Tac-Toe. Player 1 = X and Player 2 = O\");\n\n    string[] arr = { \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\" }; //**each char for each square in the grid - defining array**\n    int player = 1; //**player is set to 1 in the beginning to allow for error checking (now set to 2 because of iteration - test)**\n    string answer; //**user input**\n    bool win = false; //**win condition**\n    bool error = false; //**validating user input**\n    while (win == false) //**loop for each player's turn**\n    {\n        DrawGrid(ref arr);\n        //Console.WriteLine(\"\");\n        //Console.WriteLine(\"|{0}|{1}|{2}|\\n|{3}|{4}|{5}|\\n|{6}|{7}|{8}|\", arr[0], arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7], arr[8]);\n        //**put iterating player turns here**\n\n        Console.WriteLine(\"\");\n        Console.WriteLine(\"Player {0}'s turn. Enter a number slot\", player);\n        answer = Console.ReadLine();\n\n        if (error == false)\n        {\n            PlayerMove(ref answer, ref arr); //make player move\n        }\n        else\n        {\n            continue;\n        }    \n        //DrawGrid(ref arr);\n    }\n}\n\n//string[] arr;\n\nprivate static void DrawGrid(ref string[] arr)\n{\n    //char[] arr = new char[9];\n    //string[] arr = { \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\" };\n\n    Console.WriteLine(\"|{0}|{1}|{2}|\\n|{3}|{4}|{5}|\\n|{6}|{7}|{8}|\", arr[0], arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7], arr[8]);\n}\n\nprivate static void PlayerMove(ref string answer, ref string[] arr) //**make whole new class for this method?**\n{\n    for (int i = 0; i &gt; 8; i++) //make player move\n    {\n        if (answer == arr[i])\n        {\n            arr[i] = \"X\";\n        }\n    }\n}\n</code></pre>\n\n<p>The comments with <code>**</code> I made to understand my code. The other comments are different parts of code I have tried trying to fix my problem.</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 1096, "user_id": 5308388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gh3X8.png?s=128&g=1", "display_name": "Riddell", "link": "https://stackoverflow.com/users/5308388/riddell"}, "edited": false, "score": 0, "creation_date": 1567623127, "post_id": 57794144, "comment_id": 102021685, "body": "<code>Line 116: Response.Redirect(&quot;~&#47;login.aspx&quot;, false);</code>&lt;&lt; Passing false is continuing the execution flow. Try without passing false"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1567623201, "post_id": 57794144, "comment_id": 102021712, "body": "This is a common issue when using <code>Response.Redirect</code>. I believe it happens because the execution is halted and the thread is aborted. That&#39;s what the second parameter is for. Setting it to <code>true</code> should fix it."}, {"owner": {"reputation": 617, "user_id": 8440715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68ec33e661160ab08a096777d1e8e5f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/8440715/mikhail"}, "reply_to_user": {"reputation": 1096, "user_id": 5308388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gh3X8.png?s=128&g=1", "display_name": "Riddell", "link": "https://stackoverflow.com/users/5308388/riddell"}, "edited": false, "score": 0, "creation_date": 1567624356, "post_id": 57794144, "comment_id": 102022154, "body": "@Riddell,  thank you for your advice. I didn&#39;t have false as a 2nd parameter initially and still had the same error"}, {"owner": {"reputation": 1096, "user_id": 5308388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gh3X8.png?s=128&g=1", "display_name": "Riddell", "link": "https://stackoverflow.com/users/5308388/riddell"}, "edited": false, "score": 0, "creation_date": 1567624402, "post_id": 57794144, "comment_id": 102022178, "body": "@Mikhail did the line number change?"}, {"owner": {"reputation": 617, "user_id": 8440715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68ec33e661160ab08a096777d1e8e5f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/8440715/mikhail"}, "reply_to_user": {"reputation": 1096, "user_id": 5308388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gh3X8.png?s=128&g=1", "display_name": "Riddell", "link": "https://stackoverflow.com/users/5308388/riddell"}, "edited": false, "score": 0, "creation_date": 1567625536, "post_id": 57794144, "comment_id": 102022620, "body": "@Riddell I just tried to remove &#39;false&#39; once again and received the same error. The line numbers didn&#39;t change"}], "answers": [{"comments": [{"owner": {"reputation": 617, "user_id": 8440715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68ec33e661160ab08a096777d1e8e5f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/8440715/mikhail"}, "edited": false, "score": 0, "creation_date": 1567625586, "post_id": 57794394, "comment_id": 102022637, "body": "Thank you for your suggestion. I didn&#39;t have false to begin with. I just removed it once again and still received the same error"}, {"owner": {"reputation": 1096, "user_id": 5308388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gh3X8.png?s=128&g=1", "display_name": "Riddell", "link": "https://stackoverflow.com/users/5308388/riddell"}, "reply_to_user": {"reputation": 617, "user_id": 8440715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68ec33e661160ab08a096777d1e8e5f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/8440715/mikhail"}, "edited": false, "score": 0, "creation_date": 1567625968, "post_id": 57794394, "comment_id": 102022800, "body": "@Mikhail I&#39;ve updated solution try the following changes and see what happens"}, {"owner": {"reputation": 617, "user_id": 8440715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68ec33e661160ab08a096777d1e8e5f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/8440715/mikhail"}, "edited": false, "score": 0, "creation_date": 1567630511, "post_id": 57794394, "comment_id": 102024163, "body": "Server.Execute works a little different. Is there something can be done to an environment that can allow us to use response.redirect?  The same code works in other environments. Thank you again for your help"}, {"owner": {"reputation": 1096, "user_id": 5308388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gh3X8.png?s=128&g=1", "display_name": "Riddell", "link": "https://stackoverflow.com/users/5308388/riddell"}, "reply_to_user": {"reputation": 617, "user_id": 8440715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68ec33e661160ab08a096777d1e8e5f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/8440715/mikhail"}, "edited": false, "score": 0, "creation_date": 1567630739, "post_id": 57794394, "comment_id": 102024240, "body": "@Mikhail Normally yes, by using <code>Response.Redirect(&quot;~&#47;login.aspx&quot;, false);</code> and then completing the requesy with <code>Context.ApplicationInstance.CompleteRequest();</code> but in your instance it did not work. I would take a look at the additional overloads of <code>Server.Execute</code>."}, {"owner": {"reputation": 617, "user_id": 8440715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68ec33e661160ab08a096777d1e8e5f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/8440715/mikhail"}, "edited": false, "score": 0, "creation_date": 1567692547, "post_id": 57794394, "comment_id": 102046301, "body": "may I please ask you another question? Why would I have this issue in one environment and in another don&#39;t. Can it be related to IIS settings?"}, {"owner": {"reputation": 1096, "user_id": 5308388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gh3X8.png?s=128&g=1", "display_name": "Riddell", "link": "https://stackoverflow.com/users/5308388/riddell"}, "reply_to_user": {"reputation": 617, "user_id": 8440715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68ec33e661160ab08a096777d1e8e5f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/8440715/mikhail"}, "edited": false, "score": 0, "creation_date": 1567693121, "post_id": 57794394, "comment_id": 102046625, "body": "@Mikhail could be an array of issues... code, config, IIS, hardware. It&#39;s hard to say."}], "tags": [], "owner": {"reputation": 1096, "user_id": 5308388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gh3X8.png?s=128&g=1", "display_name": "Riddell", "link": "https://stackoverflow.com/users/5308388/riddell"}, "is_accepted": false, "score": 0, "last_activity_date": 1567630849, "last_edit_date": 1567630849, "creation_date": 1567623627, "answer_id": 57794394, "question_id": 57794144, "link": "https://stackoverflow.com/questions/57794144/getting-thread-was-being-aborted-during-the-login-process/57794394#57794394", "title": "Getting &#39;Thread was being aborted.&#39; during the login process", "body": "<p>There's a great answer that explains this <a href=\"https://stackoverflow.com/questions/6707465/when-should-i-use-response-redirecturl-true\">When Should I Use Response.Redirect(url, true)?</a> but in short:</p>\n\n<p><a href=\"https://i.stack.imgur.com/TRpWg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TRpWg.png\" alt=\"Credits: https://stackoverflow.com/users/993672/shivprasad-koirala\"></a></p>\n\n<p>Applying to your code.. you need to change:</p>\n\n<pre><code>// Line 116:\nResponse.Redirect(\"~/login.aspx\", false);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>Response.Redirect(\"~/login.aspx\");\n</code></pre>\n\n<h1>Update</h1>\n\n<p>I would try changing all <code>Response.Redirect</code> to use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.httpserverutility.execute?view=netframework-4.8\" rel=\"nofollow noreferrer\">HttpServerUtility.Execute</a> instead. I think your issue is being caused by ending the response multiple times in a row. Both <code>Response.Redirect()</code> and <code>Server.Transfer()</code> methods call <code>Response.End()</code> internally.</p>\n\n<pre><code>using System.Web;\n\nServer.Execute(\"~/login.aspx\"); // Default \nServer.Execute(\"~/login.aspx\", false); // Overload Execute(string path, bool preserveForm);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 617, "user_id": 8440715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68ec33e661160ab08a096777d1e8e5f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/8440715/mikhail"}, "is_accepted": true, "score": 0, "last_activity_date": 1568299486, "creation_date": 1568299486, "answer_id": 57909224, "question_id": 57794144, "link": "https://stackoverflow.com/questions/57794144/getting-thread-was-being-aborted-during-the-login-process/57909224#57909224", "title": "Getting &#39;Thread was being aborted.&#39; during the login process", "body": "<p>Our team was able to find a solution</p>\n\n<p>The error itself was very deceptive and irrelevant. The problem lied in the Authentication settings in the IIS</p>\n\n<p>Went to our website, chose Features View -> Authentication -> Forms Authentication</p>\n\n<p>Make sure that 'Requires SSL' is unchecked</p>\n\n<p><a href=\"https://i.stack.imgur.com/tvIDj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tvIDj.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 617, "user_id": 8440715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68ec33e661160ab08a096777d1e8e5f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/8440715/mikhail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 0, "accepted_answer_id": 57909224, "answer_count": 2, "score": 0, "last_activity_date": 1568299486, "creation_date": 1567622495, "question_id": 57794144, "link": "https://stackoverflow.com/questions/57794144/getting-thread-was-being-aborted-during-the-login-process", "title": "Getting &#39;Thread was being aborted.&#39; during the login process", "body": "<p>I am dealing with a strange issue. Our code has a login process that, if the login is successful, forces to redirect the user to a home page.</p>\n\n<p>That logic works fine locally, on the test server, on the dev servers, and in production. However, just in one environment that process doesn't work. It is throwing the following exception</p>\n\n<blockquote>\n  <p>Thread was being aborted.    at\n  System.Threading.Thread.AbortInternal()     at\n  System.Threading.Thread.Abort(Object stateInfo)     at\n  System.Web.HttpResponse.AbortCurrentThread()     at\n  System.Web.HttpResponse.End()     at\n  System.Web.HttpResponse.Redirect(String url, Boolean endResponse,\n  Boolean permanent)     at System.Web.HttpResponse.Redirect(String url)\n  at DRMS.login.Page_Load(Object sender, EventArgs e) in\n  login.aspx.cs:line 116</p>\n</blockquote>\n\n<p>That is extremely strange at the line 116 point just to a bracket. Can somebody please help me with code? Thank you all in advance</p>\n\n<p>Down below I pasting an entire method including all lines</p>\n\n<pre><code>24        protected void Page_Load(object sender, EventArgs e)\n25        {\n26\n27            try\n28            {\n29\n30                //DateTime warningDateTime = new DateTime();\n31                DataSet dset = null;\n32                drmsda = new DRMS_Transaction.drms_dataaccess();\n33\n34                //Changing Web.Config variables to DB Variables\n35                dset = drmsda.GetConfigVariables(\"Warning_Message\");\n36                if (dset.Tables[\"ConfigVariables\"] != null)\n37                {\n38                    if (dset.Tables[\"ConfigVariables\"].Rows.Count &gt; 0)\n39                    {\n40                        if (dset.Tables[\"ConfigVariables\"].Rows[0][\"a_expiry\"].ToString() != \"\")\n41                        {\n42                            if (Convert.ToDateTime(dset.Tables[\"ConfigVariables\"].Rows[0][\"a_expiry\"]) &gt;= Convert.ToDateTime(drmsda.GetServerDateTime()))\n43                            {\n44                                lblWarningMessage.Visible = true;\n45                                lblWarningMessage.Text = dset.Tables[\"ConfigVariables\"].Rows[0][\"a_value\"].ToString();\n46                            }\n47\n48                        }\n49                    }\n50                }\n51\n52                if (!IsPostBack)\n53                {\n54                    if (ConfigurationManager.AppSettings[\"InTestingMode\"].ToUpper() == \"YES\")\n55                    {\n56                        txtUsername.Text = \"test@gmail.com\";\n57                        chkAgreement.Checked = true;\n58                    }\n59\n60                    //Changing Web.Config variables to Announcement\n61                    dset = drmsda.GetConfigVariables(\"Announcement\");\n62                    if (dset.Tables[\"ConfigVariables\"] != null)\n63                    {\n64                        if (dset.Tables[\"ConfigVariables\"].Rows.Count &gt; 0)\n65                        {\n66                            if (dset.Tables[\"ConfigVariables\"].Rows[0][\"a_expiry\"].ToString() != \"\")\n67                            {\n68                                if (Convert.ToDateTime(dset.Tables[\"ConfigVariables\"].Rows[0][\"a_expiry\"]) &gt;= Convert.ToDateTime(drmsda.GetServerDateTime()))\n69                                {\n70                                    lnkAnnouncement.Visible = true;\n71                                    lnkAnnouncement.Text = dset.Tables[\"ConfigVariables\"].Rows[0][\"a_value\"].ToString();\n72                                    lnkAnnouncement.NavigateUrl = dset.Tables[\"ConfigVariables\"].Rows[0][\"a_url\"].ToString();\n73                                }\n74\n75                            }\n76                        }\n77                    }\n78\n79                    //Changing Web.Config variables to variables in database             \n80                    dset = drmsda.GetConfigVariables(\"OutageMessage\");\n81                    if (dset.Tables[\"ConfigVariables\"] != null)\n82                    {\n83                        if (dset.Tables[\"ConfigVariables\"].Rows.Count &gt; 0)\n84                        {\n85                            if (dset.Tables[\"ConfigVariables\"].Rows[0][\"a_expiry\"].ToString() != \"\")\n86                            {\n87                                if (Convert.ToDateTime(dset.Tables[\"ConfigVariables\"].Rows[0][\"a_expiry\"]) &gt;= Convert.ToDateTime(drmsda.GetServerDateTime()))\n88                                {\n89                                    lblOutage.Visible = true;\n90\n91                                    lblOutage.Text = dset.Tables[\"ConfigVariables\"].Rows[0][\"a_value\"].ToString();\n92                                }\n93\n94                            }\n95                        }\n96                    }\n97                    //if (ConfigurationManager.AppSettings[\"TurnOnOutageMessage\"].ToUpper() == \"YES\")\n98                    //{\n99                    //    lblOutage.Visible = true;\n100                    //    lblLineBreak.Visible = true;\n101\n102                    //    lblOutage.Text = ConfigurationManager.AppSettings[\"OutageMessage\"] + \"&amp;nbsp;&amp;nbsp;\";\n103                    //}\n104\n105                    string refererURL = string.Empty;\n106                    if (Page.Request.QueryString[\"ReturnURL\"] != null)\n107                    {\n108                        refererURL = Page.Request.QueryString[\"ReturnURL\"].ToString();\n109                    }\n110                    //Check to see if user was redirected because of Timeout or initial login \n111                    //Where \"Default.aspx\" is the default page for your application \n112                    if (refererURL != \"\" &amp;&amp; refererURL != (ResolveUrl(\"~\") + \"login.aspx\"))\n113                    {\n114                        //Show HTML etc showing session timeout message  \n115                        if (refererURL == \"/\")\n116                        {\n117                            Response.Redirect(\"~/login.aspx\", false);\n118                            Context.ApplicationInstance.CompleteRequest();\n119                        }\n120                        else if (refererURL.Length &gt;= 26)\n121                        {\n122                            if (refererURL.Substring(0, 26).ToLower() == \"/public/searchresults.aspx\")\n123                            {\n124                                Response.Redirect(\"~/login.aspx\", false);\n125                                Context.ApplicationInstance.CompleteRequest();\n126                            }\n127                        }\n128                        else\n129                        {\n130                            drmsda.InsertErrorlog(\"External: login.aspx.cs\", \"Page Load\", refererURL, refererURL, \"\");\n131                            lblMessage.Text = \"Session Timeout. Please login again.\";\n132                            lblMessage.Visible = true;\n133                        }\n134                    }\n135                    //else\n136                    //// User redirected here to to initial login \n137                    //{\n138                    //    lblMessage.Text = \"Please login\";\n139                    //    lblMessage.Visible = true;\n140\n141                    //    //Show HTML showing initial login HTML message etc \n142                    //}\n143\n144#if (SkipVirusCheck)\n145                Label2.Text = \"ACCESS Application is running in Pilot Mode.&lt;br&gt;&lt;br&gt;\";\n146                //Label2.Text = \"ACCESS Application is running in Debug Mode.&lt;br&gt;&lt;br&gt;\";\n147                //btnLogin.Text = \"Debug Mode\";\n148                //btnLogin.BackColor = Color.Red;\n149#endif\n150\n151                    if (ConfigurationManager.AppSettings[\"IsSiteDown\"].ToUpper() == \"YES\")\n152                    {\n153                        Response.Redirect(\"~/Message.aspx\", false);\n154                        Context.ApplicationInstance.CompleteRequest();\n155                    }\n156                    else\n157                    {\n158\n159                        //Changing Web.Config variables to variables in database             \n160                        dset = drmsda.GetConfigVariables(\"View_Notice_Label_1\");\n161                        if (dset.Tables[\"ConfigVariables\"] != null)\n162                        {\n163                            if (dset.Tables[\"ConfigVariables\"].Rows.Count &gt; 0)\n164                            {\n165                                HyperLink7.Text = dset.Tables[\"ConfigVariables\"].Rows[0][\"a_value\"].ToString();\n166                                HyperLink7.NavigateUrl = dset.Tables[\"ConfigVariables\"].Rows[0][\"a_url\"].ToString();\n167                                HyperLinkMessage.Text = dset.Tables[\"ConfigVariables\"].Rows[0][\"a_value\"].ToString();\n168                                HyperLinkMessage.NavigateUrl = dset.Tables[\"ConfigVariables\"].Rows[0][\"a_url\"].ToString();\n169                            }\n170                        }\n171                    }\n172                }\n173            }\n174            catch (Exception e3)\n175            {\n176                drmsda.InsertErrorlog(\"External: login.aspx.cs\", \"Page Load\", e3.Source, e3.Message + \" \" + e3.StackTrace, \"\");\n177            }             \n178        }\n</code></pre>\n"}, {"tags": ["c#", ".net", "wpf", "tabs"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 8599812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd672f67631be784c30bf160a47045e9?s=128&d=identicon&r=PG&f=1", "display_name": "Liroshka", "link": "https://stackoverflow.com/users/8599812/liroshka"}, "edited": false, "score": 0, "creation_date": 1567858370, "post_id": 57794779, "comment_id": 102095921, "body": "Hi, Thanks For your response. And how do I actually use the tabdata? After the adding the line you wrote, how to make the xaml file use it?"}, {"owner": {"reputation": 163, "user_id": 6470682, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aYBVPRQ25x4/AAAAAAAAAAI/AAAAAAAAABM/x12NQGL0fec/photo.jpg?sz=128", "display_name": "Sam Xia", "link": "https://stackoverflow.com/users/6470682/sam-xia"}, "reply_to_user": {"reputation": 59, "user_id": 8599812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd672f67631be784c30bf160a47045e9?s=128&d=identicon&r=PG&f=1", "display_name": "Liroshka", "link": "https://stackoverflow.com/users/8599812/liroshka"}, "edited": false, "score": 0, "creation_date": 1568037202, "post_id": 57794779, "comment_id": 102137086, "body": "I modify it in the answer"}], "tags": [], "owner": {"reputation": 163, "user_id": 6470682, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aYBVPRQ25x4/AAAAAAAAAAI/AAAAAAAAABM/x12NQGL0fec/photo.jpg?sz=128", "display_name": "Sam Xia", "link": "https://stackoverflow.com/users/6470682/sam-xia"}, "is_accepted": true, "score": 1, "last_activity_date": 1568037317, "last_edit_date": 1568037317, "creation_date": 1567625530, "answer_id": 57794779, "question_id": 57794058, "link": "https://stackoverflow.com/questions/57794058/need-help-to-understand-how-to-connect-two-xaml-files/57794779#57794779", "title": "Need help to understand how to connect two xaml files", "body": "<p><code>tabdata</code> is your UserControl(xaml file A), you need to specify this in your xml file(xaml file B) header like following:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Window ... \n    xmlns:tabdata=\"clr-namespace:AssemblyName\"//replace AssemblyName to your user control name\n    ...\n/&gt;\n</code></pre>\n\n<p>Then you can use it in xaml code like what you did</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;tabdata:YourUserControl&gt;&lt;/tabdata:YouUserControl&gt;\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 8599812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd672f67631be784c30bf160a47045e9?s=128&d=identicon&r=PG&f=1", "display_name": "Liroshka", "link": "https://stackoverflow.com/users/8599812/liroshka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 1, "accepted_answer_id": 57794779, "answer_count": 1, "score": 0, "last_activity_date": 1568037317, "creation_date": 1567622037, "last_edit_date": 1567625315, "question_id": 57794058, "link": "https://stackoverflow.com/questions/57794058/need-help-to-understand-how-to-connect-two-xaml-files", "title": "Need help to understand how to connect two xaml files", "body": "<p>I need to use a tabItem in a different xaml file and I do not understand how to do it.</p>\n\n<p>I have visited Tonny Bores answer here: <a href=\"https://stackoverflow.com/questions/1590031/tabitem-in-a-separate-xaml\">TabItem in a separate XAML</a></p>\n\n<p>But I do not understand where does the tabData come from.</p>\n\n<pre><code>&lt;TabItem x:Class=\"Hysolate.DisplayTab\"\n         xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n         xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n         xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" \n         xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\" \n         mc:Ignorable=\"d\" \n         d:DesignHeight=\"450\" d:DesignWidth=\"800\"&gt;\n    &lt;TabItem.Resources&gt;\n        &lt;Style x:Key=\"TStyle\"\n               TargetType=\"TextBlock\"&gt;\n            &lt;Setter Property=\"FontSize\" Value=\"20\" /&gt;\n            &lt;Setter Property=\"HorizontalAlignment\" Value=\"Center\"/&gt;\n            &lt;Setter Property=\"VerticalAlignment\" Value=\"Center\"/&gt;\n        &lt;/Style&gt;\n    &lt;/TabItem.Resources&gt;\n    &lt;TabItem.Header&gt;\n        &lt;TextBlock Style=\"{StaticResource TStyle}\"  Text=\"Tab No. 2\"&gt;&lt;/TextBlock&gt;\n    &lt;/TabItem.Header&gt;\n    &lt;Grid&gt;\n        &lt;TextBlock Text=\"Tab Data\" /&gt;\n    &lt;/Grid&gt;\n&lt;/TabItem&gt;\n\n&lt;!-- And I want to use it here (different xaml file):\n\n    &lt;TabControl&gt;\n        &lt;tabdata:DisplayTab&gt;&lt;/tabdata:DisplayTab&gt;\n    &lt;/TabControl&gt;\n\n--&gt;\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 8282, "user_id": 2594485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f83259580b901bbf7c3c38f3a9b7eef8?s=128&d=identicon&r=PG", "display_name": "Dennis_E", "link": "https://stackoverflow.com/users/2594485/dennis-e"}, "edited": false, "score": 1, "creation_date": 1567621998, "post_id": 57794028, "comment_id": 102021251, "body": "No, they are the same. The compiler creates a dummy variable for you: <a href=\"https://sharplab.io/#v2:CYLg1APgAgTAjAWAFBQMwAJboMLIN7LpGYZQAs6AsgBRRwAM6AzgJToFLFfoCWAZumo8AdgBcAdABUATgE8ACgENpTAKbUmAGnQB7AK6j0AN2XoAHizYduNzHACc1AEQBNRbKcsA3IVsBfXyIApD8gA=\" rel=\"nofollow noreferrer\">sharplab.io/&hellip;</a>"}, {"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1567622010, "post_id": 57794028, "comment_id": 102021256, "body": "<code>out var</code> as far as I know is a syntactic sugar, so I don&#39;t think there&#39;s any improvement"}, {"owner": {"reputation": 17393, "user_id": 402022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/36WSK.png?s=128&g=1", "display_name": "Theraot", "link": "https://stackoverflow.com/users/402022/theraot"}, "edited": false, "score": 1, "creation_date": 1567622106, "post_id": 57794028, "comment_id": 102021299, "body": "If the compiler can optimize a discard, it should be able to optimize an unused variable."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1567623219, "post_id": 57794028, "comment_id": 102021715, "body": "The docs promise too much.  Syntax sugar is the primary goal, advantage is that you can use it multiple times inside a method body for different variable types."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 2, "creation_date": 1567623781, "post_id": 57794028, "comment_id": 102021930, "body": "Related: <a href=\"https://stackoverflow.com/a/57099575\">stackoverflow.com/a/57099575</a>  Eric Lippert <i>ripped into</i> the Tour of .NET doc page and even filed a bug against the documentation repo."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 17393, "user_id": 402022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/36WSK.png?s=128&g=1", "display_name": "Theraot", "link": "https://stackoverflow.com/users/402022/theraot"}, "edited": false, "score": 2, "creation_date": 1567628738, "post_id": 57794028, "comment_id": 102023510, "body": "@Theraot: The C# compiler can (and does) remove an unused local variable, but passing a variable by reference as <code>out</code> is not &quot;unused&quot; because some storage must exist for the callee to write into, even if that value is never read."}], "answers": [{"comments": [{"owner": {"reputation": 67968, "user_id": 584192, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YBSIc.png?s=128&g=1", "display_name": "Samuel Liew", "link": "https://stackoverflow.com/users/584192/samuel-liew"}, "edited": false, "score": 0, "creation_date": 1567641273, "post_id": 57794056, "comment_id": 102026627, "body": "Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/198977/discussion-on-answer-by-gary-stewart-does-using-a-discard-operator-in-c-opt\">moved to chat</a>."}], "tags": [], "owner": {"reputation": 146, "user_id": 2774038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7330dcdbe81107dfcf8f329739e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Stewart", "link": "https://stackoverflow.com/users/2774038/gary-stewart"}, "is_accepted": false, "score": -5, "last_activity_date": 1567623100, "last_edit_date": 1567623100, "creation_date": 1567622028, "answer_id": 57794056, "question_id": 57794028, "link": "https://stackoverflow.com/questions/57794028/does-using-a-discard-operator-in-c-optimize-the-code-in-any-way/57794056#57794056", "title": "Does using a discard operator &quot;_&quot; in C# optimize the code in any way?", "body": "<p>Using the discard operator would be more efficient since an actual variable isn't created along with a storage location in memory for that variable.</p>\n\n<p>The only time you would have a chance to notice any real impact would be if you were doing something in a very large loop.</p>\n\n<p>Supporting MS documentation: <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/discards\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/csharp/discards</a></p>\n\n<blockquote>\n  <p>Discards are equivalent to unassigned variables; they do not have a value. Because there is only a single discard variable, and that variable may not even be allocated storage, discards can reduce memory allocations.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 12073, "user_id": 1447296, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba3556ac502bba7118253d5e4240a5a4?s=128&d=identicon&r=PG&f=1", "display_name": "adjan", "link": "https://stackoverflow.com/users/1447296/adjan"}, "edited": false, "score": 0, "creation_date": 1567626308, "post_id": 57794335, "comment_id": 102022921, "body": "Would have been easier to first look at the IL. That would have spared you some benchmarking ;)"}, {"owner": {"reputation": 4595, "user_id": 1159763, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0622d669c6102714da374348a24df617?s=128&d=identicon&r=PG", "display_name": "ekolis", "link": "https://stackoverflow.com/users/1159763/ekolis"}, "edited": false, "score": 0, "creation_date": 1567697927, "post_id": 57794335, "comment_id": 102049337, "body": "True, but then I never would have learned how awesome Benchmark.NET is! ;)"}], "tags": [], "owner": {"reputation": 777, "user_id": 7274929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f568591da2dbaaaf393afef3c008b576?s=128&d=identicon&r=PG", "display_name": "kalexi", "link": "https://stackoverflow.com/users/7274929/kalexi"}, "is_accepted": true, "score": 9, "last_activity_date": 1567623313, "creation_date": 1567623313, "answer_id": 57794335, "question_id": 57794028, "link": "https://stackoverflow.com/questions/57794028/does-using-a-discard-operator-in-c-optimize-the-code-in-any-way/57794335#57794335", "title": "Does using a discard operator &quot;_&quot; in C# optimize the code in any way?", "body": "<p>Let's not trust anything and measure with <code>BenchmarkDotNet</code>.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>using System;\nusing BenchmarkDotNet.Attributes;\nusing BenchmarkDotNet.Running;\n\nnamespace Measure\n{\n    public static class Program\n    {\n        static void Main(string[] args) =&gt; BenchmarkRunner.Run(typeof(Program).Assembly);\n    }\n\n    public class Bench\n    {\n        [Params(\"true\", \"false\", \"invalid\")] public string Input { get; set; }\n\n        [Benchmark]\n        public bool IsBoolWithVariable() =&gt; bool.TryParse(Input, out var result);\n\n        [Benchmark]\n        public bool IsBoolDiscarding() =&gt; bool.TryParse(Input, out _);\n    }\n}\n</code></pre>\n\n<p>Here's the results:</p>\n\n<pre><code>|             Method |   Input |      Mean |     Error |    StdDev |\n|------------------- |-------- |----------:|----------:|----------:|\n| IsBoolWithVariable |   false |  7.483 ns | 0.0069 ns | 0.0058 ns |\n|   IsBoolDiscarding |   false |  7.479 ns | 0.0040 ns | 0.0034 ns |\n| IsBoolWithVariable | invalid | 15.802 ns | 0.0051 ns | 0.0043 ns |\n|   IsBoolDiscarding | invalid | 15.838 ns | 0.0043 ns | 0.0038 ns |\n| IsBoolWithVariable |    true |  7.055 ns | 0.0053 ns | 0.0047 ns |\n|   IsBoolDiscarding |    true |  7.104 ns | 0.0407 ns | 0.0381 ns |\n</code></pre>\n\n<p>Looks like there's no difference. Let's see if it compiles to the same IL:</p>\n\n<p><code>IsBoolDiscarding()</code>:</p>\n\n<pre><code>    IL_0000: ldarg.0      // this\n    IL_0001: call         instance string Measure.Bench::get_Input()\n    IL_0006: ldloca.s     V_0\n    IL_0008: call         bool [System.Runtime]System.Boolean::TryParse(string, bool&amp;)\n    IL_000d: ret\n</code></pre>\n\n<p><code>IsBoolWithVariable()</code>:</p>\n\n<pre><code>    IL_0000: ldarg.0      // this\n    IL_0001: call         instance string Measure.Bench::get_Input()\n    IL_0006: ldloca.s     result\n    IL_0008: call         bool [System.Runtime]System.Boolean::TryParse(string, bool&amp;)\n    IL_000d: ret\n</code></pre>\n\n<p>So, there is no difference whatsoever.</p>\n"}], "owner": {"reputation": 4595, "user_id": 1159763, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0622d669c6102714da374348a24df617?s=128&d=identicon&r=PG", "display_name": "ekolis", "link": "https://stackoverflow.com/users/1159763/ekolis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 57794335, "answer_count": 2, "score": 5, "last_activity_date": 1567623313, "creation_date": 1567621871, "question_id": 57794028, "link": "https://stackoverflow.com/questions/57794028/does-using-a-discard-operator-in-c-optimize-the-code-in-any-way", "title": "Does using a discard operator &quot;_&quot; in C# optimize the code in any way?", "body": "<p>For instance, let's say I call this method:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>return bool.TryParse(s, out _);\n</code></pre>\n\n<p>Is this any more efficient than calling it this way:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>return bool.TryParse(s, out var dummy);\n</code></pre>\n\n<p>?</p>\n"}, {"tags": ["c#", "asp.net", "openapi", "swashbuckle"], "answers": [{"tags": [], "owner": {"reputation": 319, "user_id": 7969928, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XLoF3ML8eqk/AAAAAAAAAAI/AAAAAAAAAB8/-_-GsapLt58/photo.jpg?sz=128", "display_name": "Duncan Gichimu", "link": "https://stackoverflow.com/users/7969928/duncan-gichimu"}, "is_accepted": true, "score": 4, "last_activity_date": 1567624132, "creation_date": 1567624132, "answer_id": 57794508, "question_id": 57793938, "link": "https://stackoverflow.com/questions/57793938/swashbuckle-operationfilter-to-add-parameter-of-type-object/57794508#57794508", "title": "Swashbuckle OperationFilter to Add Parameter of Type Object", "body": "<p>I found the answer.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class MyFilter : IOperationFilter\n{\n public void Apply(OpenApiOperation operation, OperationFilterContext context)\n {\n   var myObjectSchema = context.SchemaGenerator.GenerateSchema(typeof(MyObject), context.SchemaRepository);\n   operation.Parameters.Add(new OpenApiParameter\n   {\n    Name = \"MyParameter\",\n    Description = \"MyDescription\"\n    In = ParameterLocation.Header\n    Required = true,\n    Schema = myObjectSchema\n   }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 7969928, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XLoF3ML8eqk/AAAAAAAAAAI/AAAAAAAAAB8/-_-GsapLt58/photo.jpg?sz=128", "display_name": "Duncan Gichimu", "link": "https://stackoverflow.com/users/7969928/duncan-gichimu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1251, "favorite_count": 0, "accepted_answer_id": 57794508, "answer_count": 1, "score": 1, "last_activity_date": 1567624132, "creation_date": 1567621433, "last_edit_date": 1567621806, "question_id": 57793938, "link": "https://stackoverflow.com/questions/57793938/swashbuckle-operationfilter-to-add-parameter-of-type-object", "title": "Swashbuckle OperationFilter to Add Parameter of Type Object", "body": "<p>I have a C# object</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class MyObject\n{\n public int property1 { get; set; }\n public string property2 { get; set; }\n public string property3 { get; set; }\n}\n</code></pre>\n\n<p>I want to create a parameter of type object that has the schema of <code>MyObject</code>.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class MyFilter : IOperationFilter\n{\n public void Apply(OpenApiOperation operation, OperationFilterContext context)\n {\n   operation.Parameters.Add(new OpenApiParameter\n   {\n    Name = \"MyParameter\",\n    Description = \"MyDescription\"\n    In = ParameterLocation.Header\n    Required = true,\n    Schema = new OpenApiSchema()\n    {\n     Type = \"object\",\n     Properties = new Dictionary&lt;string, OpenApiSchema&gt;()\n     {\n       // MyObject\n     }\n    }\n   }\n  }\n}\n</code></pre>\n\n<p>Does Swashbuckle provide any methods that can automatically generate the properties with the schema of <code>MyObject</code>.</p>\n"}, {"tags": ["c#", "windows"], "comments": [{"owner": {"reputation": 3571, "user_id": 2018731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134baab491cb1a3ebff752e5ea96dcaa?s=128&d=identicon&r=PG", "display_name": "RogerN", "link": "https://stackoverflow.com/users/2018731/rogern"}, "edited": false, "score": 0, "creation_date": 1567624629, "post_id": 57793884, "comment_id": 102022271, "body": "The web browser control ought to have a ShowPageSetupDialog() method that you can call to set margins. Simiarly, there&#39;s a ShowPrintDialog() method. Do these not work for you?"}, {"owner": {"reputation": 57, "user_id": 9131056, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_DqoNJ9Q86I/AAAAAAAAAAI/AAAAAAAAAlM/T_u8AguoQdA/photo.jpg?sz=128", "display_name": "Praveen Kumar", "link": "https://stackoverflow.com/users/9131056/praveen-kumar"}, "reply_to_user": {"reputation": 3571, "user_id": 2018731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134baab491cb1a3ebff752e5ea96dcaa?s=128&d=identicon&r=PG", "display_name": "RogerN", "link": "https://stackoverflow.com/users/2018731/rogern"}, "edited": false, "score": 0, "creation_date": 1567648919, "post_id": 57793884, "comment_id": 102027885, "body": "I have to print content in a single click without showing PageSetup dialog. ShowPageSetupDialog() that provide settings to change visually I have to do programmatically without showing a dialog."}], "owner": {"reputation": 57, "user_id": 9131056, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_DqoNJ9Q86I/AAAAAAAAAAI/AAAAAAAAAlM/T_u8AguoQdA/photo.jpg?sz=128", "display_name": "Praveen Kumar", "link": "https://stackoverflow.com/users/9131056/praveen-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 441, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1567621201, "creation_date": 1567621201, "question_id": 57793884, "link": "https://stackoverflow.com/questions/57793884/how-to-print-html-strings-as-rendered-html-using-printdocument-in-c", "title": "How to print HTML Strings as Rendered HTML using PrintDocument in C#", "body": "<p>I have a string variable which contains the source code of a HTML page. I have print this HTML page rendered view using source code string.</p>\n\n<p>I am trying to print it using C# PrintDocument and WebBrowser control of Windows Form application.</p>\n\n<p>Note:-</p>\n\n<h3>First using WebBrowser</h3>\n\n<p>WebBrowser is printing properly but I am not able set Printer Settings and PageSettings like PrinterName, Marging, Printing content height &amp; width.</p>\n\n<h3>Second: PrintDocument</h3>\n\n<p>PrintDocumet provide better way for printer settings and page settings but it is print html source code as string not render html view.</p>\n\n<p><em>My Problem Is</em></p>\n\n<p>How can I print HTML View of give html strings with specifying few settings like PRINTER NAME, PAGE SIZE and MARGIN</p>\n\n<p>Following is the source code that I have tried.</p>\n\n<pre><code>using System;\nusing System.Drawing;\nusing System.Drawing.Printing;\nusing System.Windows.Forms;\n\nnamespace QRCodePrinter\n{\n    public partial class Form1 : Form\n    {\n        string HtmlString = \"\";\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void btnPrint_Click(object sender, EventArgs e)\n        {\n\n            HtmlString = \"&lt;html&gt;&lt;head&gt;&lt;body&gt;&lt;h1&gt;Praveen&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;\";\n\n              string printerName = \"Microsoft Print to PDF\";\n            foreach(string name in PrinterSettings.InstalledPrinters)\n            {\n                if (name.ToLower().Contains(\"pdf\"))\n                {\n                    printerName = name;\n                    break;\n                }\n            }\n\n            //Printer Settings\n            PrintDocument document = new PrintDocument();\n            document.PrinterSettings.PrinterName = printerName;\n            document.PrinterSettings.DefaultPageSettings.PaperSize = document.PrinterSettings.PaperSizes[0];\n            document.PrinterSettings.DefaultPageSettings.Margins = new Margins(1, 1, 1, 1);\n\n            document.PrintPage += Document_PrintPage;\n            document.Print();\n\n        }\n\n        private void Document_PrintPage(object sender, PrintPageEventArgs e)\n        {         \n\n            e.Graphics.DrawString(HtmlString, new Font(\"Arial\", 10),Brushes.Black, 0F, 0F, new StringFormat());\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "microsoft-graph-api", "microsoft-graph-sdks"], "answers": [{"tags": [], "owner": {"reputation": 918, "user_id": 2880486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18e55fe02e7ba00006967012ecc89805?s=128&d=identicon&r=PG&f=1", "display_name": "user2880486", "link": "https://stackoverflow.com/users/2880486/user2880486"}, "is_accepted": true, "score": 1, "last_activity_date": 1567659847, "last_edit_date": 1567659847, "creation_date": 1567622860, "answer_id": 57794239, "question_id": 57793858, "link": "https://stackoverflow.com/questions/57793858/ms-graph-sdk-dotnet-how-to-send-multiple-chunk-requests-at-the-same-time-when-u/57794239#57794239", "title": "MS-Graph-Sdk-DotNet: How to send multiple chunk requests at the same time when uploading a large file?", "body": "<p>I don't think you can upload via multiple streams at the same time.</p>\n\n<p>Per <a href=\"https://docs.microsoft.com/en-us/graph/api/driveitem-createuploadsession?view=graph-rest-1.0\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>The fragments of the file must be uploaded sequentially in order. Uploading fragments out of order will result in an error.</p>\n</blockquote>\n"}], "owner": {"reputation": 159, "user_id": 10507708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cab4f05d9323e3ce7f221c631332095?s=128&d=identicon&r=PG&f=1", "display_name": "Jossean Yamil", "link": "https://stackoverflow.com/users/10507708/jossean-yamil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 57794239, "answer_count": 1, "score": 1, "last_activity_date": 1567659847, "creation_date": 1567621091, "question_id": 57793858, "link": "https://stackoverflow.com/questions/57793858/ms-graph-sdk-dotnet-how-to-send-multiple-chunk-requests-at-the-same-time-when-u", "title": "MS-Graph-Sdk-DotNet: How to send multiple chunk requests at the same time when uploading a large file?", "body": "<p>After creating an upload session, I'm uploading the content of a large file by sending chunk requests. However, sending a request one at a time takes a relatively long time to upload the entire content of the file.</p>\n\n<p>Is it possible to send multiple chunk requests at the same time by using multithreading?</p>\n\n<p>I tried using <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.parallel.foreach?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>Parallel.ForEach</code></a>, but it doesn't work.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>int maxSizeChunk = 320 * 1024 * 4;\nChunkedUploadProvider uploadProvider = new ChunkedUploadProvider(uploadSession, client, ms, maxSizeChunk);\nIEnumerable&lt;UploadChunkRequest&gt; chunkRequests = uploadProvider.GetUploadChunkRequests();\nList&lt;Exception&gt; exceptions = new List&lt;Exception&gt;();\nbyte[] readBuffer = new byte[maxSizeChunk];\n\n//  How to send multiple requests at once?\nforeach (UploadChunkRequest request in chunkRequests)\n{\n     UploadChunkResult result = await uploadProvider.GetChunkRequestResponseAsync(request, readBuffer, exceptions);\n\n     if (result.UploadSucceeded)\n         uploadedFile = result.ItemResponse;\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "razor-pages", "actionlink", "tag-helpers"], "answers": [{"comments": [{"owner": {"reputation": 413, "user_id": 361783, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cc897c6c993ea2baddaa47ec2037d779?s=128&d=identicon&r=PG", "display_name": "MitchellKrenz", "link": "https://stackoverflow.com/users/361783/mitchellkrenz"}, "edited": false, "score": 0, "creation_date": 1567783159, "post_id": 57798271, "comment_id": 102079550, "body": "Thanks Laz, I found this link which verifies what you are saying: <a href=\"https://forums.asp.net/t/2140274.aspx?Razor+Page+Navigation\" rel=\"nofollow noreferrer\">forums.asp.net/t/2140274.aspx?Razor+Page+Navigation</a>  I verified too that none of the scaffoled code uses the ActionLink helper.  I come from an MVC background and have used it in the past, what really threw me off is that the scaffolded code uses the HTML helpers for some things and the Tag Helpers for others.  For example the Create page that is scaffolded uses &quot;&lt;input asp-for=&quot; where as the details page uses the Html Helpers such as &quot;@Html.DisplayFor&quot;.  But perhaps that is better as a new question. Thanks!"}, {"owner": {"reputation": 413, "user_id": 361783, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cc897c6c993ea2baddaa47ec2037d779?s=128&d=identicon&r=PG", "display_name": "MitchellKrenz", "link": "https://stackoverflow.com/users/361783/mitchellkrenz"}, "edited": false, "score": 0, "creation_date": 1567785587, "post_id": 57798271, "comment_id": 102080682, "body": "For any future curious people, I posted the other question here: <a href=\"https://stackoverflow.com/questions/57825275/why-does-razor-pages-scaffolding-use-html-helpers-and-not-tag-helpers-for-inde\" title=\"why does razor pages scaffolding use html helpers and not tag helpers for inde\">stackoverflow.com/questions/57825275/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3626, "user_id": 5519026, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--zl-i4iGzJc/AAAAAAAAAAI/AAAAAAAAAV8/_uUTZXA533A/photo.jpg?sz=128", "display_name": "LazZiya", "link": "https://stackoverflow.com/users/5519026/lazziya"}, "is_accepted": true, "score": 2, "last_activity_date": 1567656244, "creation_date": 1567656244, "answer_id": 57798271, "question_id": 57793855, "link": "https://stackoverflow.com/questions/57793855/is-this-a-bug-with-the-asp-net-core-actionlink-html-helper/57798271#57798271", "title": "Is this a bug with the asp net core ActionLink Html helper?", "body": "<p><code>Html.ActionLink</code> is for MVC pattern, it requires Action and Controller names. Since you are using razor pages it will not work because you don't have controllers and action but you have Pages! So, your first approach is correct.</p>\n\n<p>As an alternative you may use <code>Url.Page</code> to generate the link as below:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>&lt;a href=\"@(Url.Page(\"./DeleteIngredient\", null, new { MenuItemId = item.MenuItemId, IngredientId = item.IngredientId })\"&gt;Delete&lt;/a&gt;\n</code></pre>\n"}], "owner": {"reputation": 413, "user_id": 361783, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cc897c6c993ea2baddaa47ec2037d779?s=128&d=identicon&r=PG", "display_name": "MitchellKrenz", "link": "https://stackoverflow.com/users/361783/mitchellkrenz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 57798271, "answer_count": 1, "score": 0, "last_activity_date": 1567656244, "creation_date": 1567621086, "question_id": 57793855, "link": "https://stackoverflow.com/questions/57793855/is-this-a-bug-with-the-asp-net-core-actionlink-html-helper", "title": "Is this a bug with the asp net core ActionLink Html helper?", "body": "<p>I am writing a new Razor Pages application (this is my first time with Razor pages rather than MVC), and I came to the point where I was needing to create a link and for the life of me I could not figure out why it was not working even though I tried every single variation of the parameters to the ActionLink method that I could think of.  I then instead used the Anchor Tag Helper methodology instead with the exact smae parameters and it worked beautifully.\nI was already confused when I scaffolded my views because the code generation uses both the Tag Helpers and the Html Helpers where as my brain tells me you should really pick one or the other and try to be as consistent as possible.</p>\n\n<p>The code in the cshtml file is as follows:</p>\n\n<pre><code>&lt;a asp-page=\"./DeleteIngredient\" asp-route-MenuItemId=\"@item.MenuItemId\" asp-route-IngredientId=\"@item.IngredientId\"&gt;Delete&lt;/a&gt;\n\n@Html.ActionLink(\"Delete\", \"DeleteIngredient\", new { MenuItemId = @item.MenuItemId, IngredientId = @item.IngredientId })\n@Html.ActionLink(\"Delete\", \"./DeleteIngredient\", new { MenuItemId = @item.MenuItemId, IngredientId = @item.IngredientId })\n</code></pre>\n\n<p>The Tag Helper correctly generates the following url:</p>\n\n<p><a href=\"https://localhost:44308/MenuItems/DeleteIngredient?MenuItemId=c469f993-9cac-4adc-bf63-2aba9be249c9&amp;IngredientId=2f2863b1-27f4-4c62-93d6-84f27acb98fd\" rel=\"nofollow noreferrer\">https://localhost:44308/MenuItems/DeleteIngredient?MenuItemId=c469f993-9cac-4adc-bf63-2aba9be249c9&amp;IngredientId=2f2863b1-27f4-4c62-93d6-84f27acb98fd</a></p>\n\n<p>The Html Helpers generate the following:</p>\n\n<p><a href=\"https://localhost:44308/MenuItems/Details/c469f993-9cac-4adc-bf63-2aba9be249c9?MenuItemId=c469f993-9cac-4adc-bf63-2aba9be249c9&amp;IngredientId=2f2863b1-27f4-4c62-93d6-84f27acb98fd&amp;action=DeleteIngredient\" rel=\"nofollow noreferrer\">https://localhost:44308/MenuItems/Details/c469f993-9cac-4adc-bf63-2aba9be249c9?MenuItemId=c469f993-9cac-4adc-bf63-2aba9be249c9&amp;IngredientId=2f2863b1-27f4-4c62-93d6-84f27acb98fd&amp;action=DeleteIngredient</a></p>\n\n<p>Note: the links are on a page with the URL:\n<a href=\"https://localhost:44308/MenuItems/Details/c469f993-9cac-4adc-bf63-2aba9be249c9\" rel=\"nofollow noreferrer\">https://localhost:44308/MenuItems/Details/c469f993-9cac-4adc-bf63-2aba9be249c9</a></p>\n\n<p>In summary, am I doing something wrong? Or does this appear to be a bug in the asp net core Html.ActionLink method?</p>\n"}, {"tags": ["c#", "wpf", "key-bindings"], "comments": [{"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 1, "creation_date": 1567621071, "post_id": 57793782, "comment_id": 102020850, "body": "That textbox ends up in a row. The datacontext of a row will be one of the row viewmodels from disciplines. Not the mainwindow. Also. Your textbox will probably grab any return key press itself."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 6729765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89105f8acbc67cb3c56a0b8f4a02f58b?s=128&d=identicon&r=PG&f=1", "display_name": "svanschu", "link": "https://stackoverflow.com/users/6729765/svanschu"}, "edited": false, "score": 0, "creation_date": 1567682298, "post_id": 57799181, "comment_id": 102040207, "body": "Hi @Aakanksha thx for nice explanation. In my case the disciplinesDataGrid is nested in another DataGrid &quot;DecksummeAnzeige&quot; which is the MainWindow. So I have MainWindow.xaml, MainWindows.xaml.cs and the models Participants and Disciplines. The cmd is defined in MainWindow.xaml.cs, so I would have to bin it to the MainWindow DataContext? Or would you say I have a bad design overall? <a href=\"https://gitlab.com/svanschu/EasyCalc/tree/master/DecksummeWPF\" rel=\"nofollow noreferrer\">I post the Link to the repo, because alls code pasting wouldn&#39;t make sense</a>"}, {"owner": {"reputation": 319, "user_id": 11711668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e634b69b02f56dcca2506314b23ef98?s=128&d=identicon&r=PG&f=1", "display_name": "Aakanksha", "link": "https://stackoverflow.com/users/11711668/aakanksha"}, "reply_to_user": {"reputation": 51, "user_id": 6729765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89105f8acbc67cb3c56a0b8f4a02f58b?s=128&d=identicon&r=PG&f=1", "display_name": "svanschu", "link": "https://stackoverflow.com/users/6729765/svanschu"}, "edited": false, "score": 0, "creation_date": 1567683454, "post_id": 57799181, "comment_id": 102040901, "body": "Why do you have the command defined in MainWindow.xaml.cs? Ideally you should create a viewmodel and add your command in the viewmodel."}, {"owner": {"reputation": 51, "user_id": 6729765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89105f8acbc67cb3c56a0b8f4a02f58b?s=128&d=identicon&r=PG&f=1", "display_name": "svanschu", "link": "https://stackoverflow.com/users/6729765/svanschu"}, "edited": false, "score": 0, "creation_date": 1567684209, "post_id": 57799181, "comment_id": 102041351, "body": "well, because I didn&#39;t know it better. If I understand it right, I don&#39;t have a ViewModel class yet ... So I should look for a good example on how to add a ViewModel to my design."}, {"owner": {"reputation": 319, "user_id": 11711668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e634b69b02f56dcca2506314b23ef98?s=128&d=identicon&r=PG&f=1", "display_name": "Aakanksha", "link": "https://stackoverflow.com/users/11711668/aakanksha"}, "reply_to_user": {"reputation": 51, "user_id": 6729765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89105f8acbc67cb3c56a0b8f4a02f58b?s=128&d=identicon&r=PG&f=1", "display_name": "svanschu", "link": "https://stackoverflow.com/users/6729765/svanschu"}, "edited": false, "score": 0, "creation_date": 1567684609, "post_id": 57799181, "comment_id": 102041574, "body": "Yes you should have a viewmodel and define the command in the viewmodel and set that as datacontext to your view."}], "tags": [], "owner": {"reputation": 319, "user_id": 11711668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e634b69b02f56dcca2506314b23ef98?s=128&d=identicon&r=PG&f=1", "display_name": "Aakanksha", "link": "https://stackoverflow.com/users/11711668/aakanksha"}, "is_accepted": true, "score": 0, "last_activity_date": 1567662920, "creation_date": 1567662920, "answer_id": 57799181, "question_id": 57793782, "link": "https://stackoverflow.com/questions/57793782/textbox-keybinding-not-found/57799181#57799181", "title": "TextBox KeyBinding not found", "body": "<p>Binding will look for a specified binding Path in current binding context. By default it will be current DataContext. You can change binding context by using either ElementName, Source or RelativeSource. In your case assuming your InsertNewScoreCommand and DataGrid DataContext are in same ViewModel, you can use your DataGrid DataContext.</p>\n\n<pre><code>&lt;DataGrid x:Name=\"disciplinesDataGrid\" AutoGenerateColumns=\"False\" ItemsSource=\"{Binding Path=Disciplines}\" HeadersVisibility=\"None\" CanUserAddRows=\"False\"  CanUserDeleteRows=\"False\" Margin=\"0\" BorderThickness=\"0\"&gt;\n   &lt;DataGrid.Columns&gt;\n       &lt;DataGridTextColumn Binding=\"{Binding Path=DisciplineId}\" IsReadOnly=\"True\" Visibility=\"Hidden\" /&gt;\n       &lt;DataGridTextColumn Binding=\"{Binding Path=Name }\" IsReadOnly=\"True\" Width=\"70\"/&gt;\n       &lt;DataGridTemplateColumn Width=\"*\" MinWidth=\"52\"&gt;\n       &lt;DataGridTemplateColumn.CellTemplate&gt;\n           &lt;DataTemplate&gt;\n               &lt;TextBox MinWidth=\"50\" &gt;\n                   &lt;TextBox.InputBindings&gt;\n                       &lt;KeyBinding Key=\"Return\" Command=\"{Binding ElementName=disciplinesDataGrid, Path=InsertNewScoreCommand}\" /&gt;\n                   &lt;/TextBox.InputBindings&gt;\n               &lt;/TextBox&gt;\n           &lt;/DataTemplate&gt;\n      &lt;/DataGridTemplateColumn.CellTemplate&gt;\n    &lt;/DataGridTemplateColumn&gt;\n  &lt;/DataGrid.Columns&gt;\n&lt;/DataGrid&gt;\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 6729765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89105f8acbc67cb3c56a0b8f4a02f58b?s=128&d=identicon&r=PG&f=1", "display_name": "svanschu", "link": "https://stackoverflow.com/users/6729765/svanschu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 57799181, "answer_count": 1, "score": -1, "last_activity_date": 1567682344, "creation_date": 1567620689, "last_edit_date": 1567682344, "question_id": 57793782, "link": "https://stackoverflow.com/questions/57793782/textbox-keybinding-not-found", "title": "TextBox KeyBinding not found", "body": "<p>Used for understanding: <a href=\"https://docs.microsoft.com/de-de/dotnet/api/system.windows.input.inputbinding?view=netframework-4.6.1\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/de-de/dotnet/api/system.windows.input.inputbinding?view=netframework-4.6.1</a></p>\n\n<pre><code>public MainWindow() {\n  insertNewScoreCommand = new SimpleDelegateCommand(x =&gt; this.InsertNewScore(x));\n\n  insertNewScoreCommand.GestureKey = Key.Enter;\n  insertNewScoreCommand.GestureModifier = ModifierKeys.Control;\n  insertNewScoreCommand.MouseGesture = MouseAction.RightClick;\n}\n\npublic SimpleDelegateCommand InsertNewScoreCommand {\n   get { return insertNewScoreCommand; }\n}\n\nprivate SimpleDelegateCommand insertNewScoreCommand;\nprivate void InsertNewScore(object sender)    {        }\n</code></pre>\n\n<p>I have an input field inside of a DataGrip which I want to use for inserting new scores to the database. My thought was to trigger a method when I hit Enter in the field.</p>\n\n<pre><code>&lt;DataGrid AutoGenerateColumns=\"False\" ItemsSource=\"{Binding Path=Disciplines}\" HeadersVisibility=\"None\" CanUserAddRows=\"False\"  CanUserDeleteRows=\"False\" Margin=\"0\" BorderThickness=\"0\"&gt;\n  &lt;DataGrid.Columns&gt;\n    &lt;DataGridTextColumn Binding=\"{Binding Path=DisciplineId}\" IsReadOnly=\"True\" Visibility=\"Hidden\" /&gt;\n    &lt;DataGridTextColumn Binding=\"{Binding Path=Name }\" IsReadOnly=\"True\" Width=\"70\"/&gt;\n    &lt;DataGridTemplateColumn Width=\"*\" MinWidth=\"52\"&gt;\n      &lt;DataGridTemplateColumn.CellTemplate&gt;\n        &lt;DataTemplate&gt;\n          &lt;TextBox MinWidth=\"50\" &gt;\n            &lt;TextBox.InputBindings&gt;\n              &lt;KeyBinding Key=\"Return\" Command=\"{Binding InsertNewScoreCommand}\" /&gt;\n            &lt;/TextBox.InputBindings&gt;\n          &lt;/TextBox&gt;\n        &lt;/DataTemplate&gt;\n      &lt;/DataGridTemplateColumn.CellTemplate&gt;\n    &lt;/DataGridTemplateColumn&gt;\n  &lt;/DataGrid.Columns&gt;\n&lt;/DataGrid&gt;\n</code></pre>\n\n<p>But WPF keeps saying that the binding does not exist. It's the first time I do an KeyBinding and I don't understand what is wrong. I thought I have done all which is in the docu.</p>\n\n<p>System.Windows.Data Error: 40 : BindingExpression path error: 'InsertNewScoreCommand' property not found on 'object' ''Discipline_A320C92756365475DEC4BDC8039368751EFACDCE5B74C1FE572674EA0C24C666' (HashCode=39958021)'. BindingExpression:Path=InsertNewScoreCommand; DataItem='Discipline_A320C92756365475DEC4BDC8039368751EFACDCE5B74C1FE572674EA0C24C666' (HashCode=39958021); target element is 'KeyBinding' (HashCode=18759866); target property is 'Command' (type 'ICommand')</p>\n\n<p>Edit: <a href=\"https://gitlab.com/svanschu/EasyCalc/tree/master/DecksummeWPF\" rel=\"nofollow noreferrer\">Link to the complete source code</a></p>\n"}, {"tags": ["c#", "wcf", "wcf-binding"], "comments": [{"owner": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "edited": false, "score": 0, "creation_date": 1567622634, "post_id": 57793514, "comment_id": 102021522, "body": "Why don&#39;t you put the WCF service behind an nginx or other decent proxy server and let that piece of equipment handle the load-balancing / taking end-points out of rotation?"}, {"owner": {"reputation": 2588, "user_id": 1545350, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/69bb9c2ba73150749af777c229e4ebec?s=128&d=identicon&r=PG", "display_name": "Jony Adamit", "link": "https://stackoverflow.com/users/1545350/jony-adamit"}, "reply_to_user": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "edited": false, "score": 0, "creation_date": 1567664293, "post_id": 57793514, "comment_id": 102031292, "body": "What if my proxy server fails? If I could achieve my requirement I eliminate the weak link."}, {"owner": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "edited": false, "score": 0, "creation_date": 1567664981, "post_id": 57793514, "comment_id": 102031527, "body": "You could outsource the proxy to Fastly or CloudFlare. They have scale and failover  and 5 nines availability."}, {"owner": {"reputation": 2588, "user_id": 1545350, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/69bb9c2ba73150749af777c229e4ebec?s=128&d=identicon&r=PG", "display_name": "Jony Adamit", "link": "https://stackoverflow.com/users/1545350/jony-adamit"}, "reply_to_user": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "edited": false, "score": 0, "creation_date": 1567670546, "post_id": 57793514, "comment_id": 102033992, "body": "I can. I still like to know the answer to my question - can I hint WCF client with  which IP to choose for a domain name?"}], "owner": {"reputation": 2588, "user_id": 1545350, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/69bb9c2ba73150749af777c229e4ebec?s=128&d=identicon&r=PG", "display_name": "Jony Adamit", "link": "https://stackoverflow.com/users/1545350/jony-adamit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567619382, "creation_date": 1567619382, "question_id": 57793514, "link": "https://stackoverflow.com/questions/57793514/wcf-failover-with-a-single-endpoint-by-using-dns-records", "title": "WCF failover with a single endpoint by using DNS Records", "body": "<p>Given a simple WCF client setup: </p>\n\n<pre><code>        var binding = new WSHttpBinding(\"wsHttp\");\n        var endpoint = new EndpointAddress(\"my.address.com/myservice.svc\");\n        var channelFactory = new ChannelFactory&lt;IService&gt;(binding, endpoint);\n        var service = channelFactory.CreateChannel();\n</code></pre>\n\n<p>\"my.address.com\" has multiple A DNS records (it is mapped to multiple IP addresses).<br>\nI want to provide failover by using these IP addresses.</p>\n\n<p>I thought about creating a client-side WCF service which would act as a routing service, by using something like the following configuration for it:  </p>\n\n<pre><code>&lt;routing&gt;\n  &lt;filters&gt;\n    &lt;filter name=\"MatchAllFilter1\" filterType=\"MatchAll\" /&gt;\n  &lt;/filters&gt;\n  &lt;filterTables&gt;\n    &lt;filterTable name=\"filterTable1\"&gt;\n        &lt;add filterName=\"MatchAllFilter1\" endpointName=\"myservice\" backupList=\"backupEndpointList\"/&gt;\n    &lt;/filterTable&gt;\n  &lt;/filterTables&gt;\n  &lt;backupLists&gt;\n    &lt;backupList name=\"backupEndpointList\"&gt;\n  &lt;!--       &lt;add endpointName=\"firstBackup\" /&gt;  --&gt;\n  &lt;!--       &lt;add endpointName=\"anotherBackup\" /&gt;    --&gt;\n    &lt;/backupList&gt;\n  &lt;/backupLists&gt;\n&lt;/routing&gt;\n</code></pre>\n\n<p>But this requires me to provide multiple endpoints.\nI want my client to try using all IP addresses for that domain name until one succeeds.   </p>\n\n<p><strong>Is there a way for the client to use a single endpoint (by using the domain name) but force WCF client to use a specific IP address for that domain name?</strong></p>\n"}, {"tags": ["c#", "exchangewebservices", "office365api"], "answers": [{"tags": [], "owner": {"reputation": 839, "user_id": 510109, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/299c0e92626a583ee1c7a961ef2f1738?s=128&d=identicon&r=PG", "display_name": "Daniel  Hursan", "link": "https://stackoverflow.com/users/510109/daniel-hursan"}, "is_accepted": false, "score": 0, "last_activity_date": 1567673185, "creation_date": 1567673185, "answer_id": 57801689, "question_id": 57793486, "link": "https://stackoverflow.com/questions/57793486/ews-managed-api-error-an-object-within-a-change-description-must-contain-one-a/57801689#57801689", "title": "EWS Managed API Error - An object within a change description must contain one and only one property to modify", "body": "<p>Turns out the problem is, I am performing 2 operations on the \"FileAs\" field.\nAt some point in the code I assigned a value to it, use that value somewhere else in the flow, and then making it null, like it was.</p>\n\n<p>This, in turns, triggers a state change in the object that holds the property.\nThe contact objects sees that I did an assignment, and then a null, which equals deleting the value.</p>\n\n<p>This double state change is confusing for exchange, because it doesn't know which of the 2 state changes is the correct one that should be persisted in Exchange, therefore, triggering that error.</p>\n\n<p>So all in all, <strong>avoid doing this in the code!</strong></p>\n\n<pre><code>contact.FileAs = \"SomeValue\"\n........\ncontact.FileAs = null;\n</code></pre>\n\n<p>You can also see the confusing effect it has on the request xml (it does a set item field, with no value, and then a delete item field)</p>\n\n<pre><code>&lt;t:SetItemField&gt;\n  &lt;t:FieldURI FieldURI=\"contacts:FileAs\" /&gt;\n  &lt;t:Contact /&gt;\n&lt;/t:SetItemField&gt;\n&lt;t:DeleteItemField&gt;\n  &lt;t:FieldURI FieldURI=\"contacts:FileAs\" /&gt;\n&lt;/t:DeleteItemField&gt;\n</code></pre>\n"}], "owner": {"reputation": 839, "user_id": 510109, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/299c0e92626a583ee1c7a961ef2f1738?s=128&d=identicon&r=PG", "display_name": "Daniel  Hursan", "link": "https://stackoverflow.com/users/510109/daniel-hursan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 302, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567673185, "creation_date": 1567619257, "last_edit_date": 1567624712, "question_id": 57793486, "link": "https://stackoverflow.com/questions/57793486/ews-managed-api-error-an-object-within-a-change-description-must-contain-one-a", "title": "EWS Managed API Error - An object within a change description must contain one and only one property to modify", "body": "<p>Any ideas why exchange keeps throwing this error? </p>\n\n<p>I'm using Microsoft Exchange Managed API 2.0, from C#.\nThe sample request and responses are intercepted using Fiddler</p>\n\n<p>I'll post a request and response sample.\nI even tried to remove all properties and leave just a simple one, and still same error.\nIt doesn't seem to be a collections related issue</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:m=\"http://schemas.microsoft.com/exchange/services/2006/messages\" xmlns:t=\"http://schemas.microsoft.com/exchange/services/2006/types\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soap:Header&gt;\n    &lt;t:RequestServerVersion Version=\"Exchange2013_SP1\" /&gt;\n  &lt;/soap:Header&gt;\n  &lt;soap:Body&gt;\n    &lt;m:UpdateItem MessageDisposition=\"SaveOnly\" ConflictResolution=\"AlwaysOverwrite\"&gt;\n      &lt;m:ItemChanges&gt;\n        &lt;t:ItemChange&gt;\n          &lt;t:ItemId Id=\"AAMkADgwNWY5NDQ3LWRkMTQtNGQyZS04ODMxLTQzMDQ1NWU5NTI2OABGAAAAAADzrqMpUzgAQoRJwq9Jq9ArBwDjC+q0IBppSKdYNLEIzckAAADAlx38AADjC+q0IBppSKdYNLEIzckAAADAly/BAAA=\" ChangeKey=\"EQAAABYAAADjC+q0IBppSKdYNLEIzckAAADAis/g\" /&gt;\n          &lt;t:Updates&gt;\n            &lt;t:SetItemField&gt;\n              &lt;t:FieldURI FieldURI=\"contacts:GivenName\" /&gt;\n              &lt;t:Contact&gt;\n                &lt;t:GivenName&gt;Mickeyaabsbbcdsf&lt;/t:GivenName&gt;\n              &lt;/t:Contact&gt;\n            &lt;/t:SetItemField&gt;\n            &lt;t:SetItemField&gt;\n              &lt;t:FieldURI FieldURI=\"contacts:FileAs\" /&gt;\n              &lt;t:Contact /&gt;\n            &lt;/t:SetItemField&gt;\n            &lt;t:DeleteItemField&gt;\n              &lt;t:FieldURI FieldURI=\"contacts:FileAs\" /&gt;\n            &lt;/t:DeleteItemField&gt;\n          &lt;/t:Updates&gt;\n        &lt;/t:ItemChange&gt;\n      &lt;/m:ItemChanges&gt;\n    &lt;/m:UpdateItem&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n\n\n    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;s:Envelope xmlns:s=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;s:Header&gt;\n    &lt;h:ServerVersionInfo xmlns:h=\"http://schemas.microsoft.com/exchange/services/2006/types\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" MajorVersion=\"15\" MinorVersion=\"20\" MajorBuildNumber=\"2241\" MinorBuildNumber=\"12\" Version=\"V2018_01_08\"/&gt;\n  &lt;/s:Header&gt;\n  &lt;s:Body&gt;\n    &lt;m:UpdateItemResponse xmlns:m=\"http://schemas.microsoft.com/exchange/services/2006/messages\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:t=\"http://schemas.microsoft.com/exchange/services/2006/types\"&gt;\n      &lt;m:ResponseMessages&gt;\n        &lt;m:UpdateItemResponseMessage ResponseClass=\"Error\"&gt;\n          &lt;m:MessageText&gt;An object within a change description must contain one and only one property to modify.&lt;/m:MessageText&gt;\n          &lt;m:ResponseCode&gt;ErrorIncorrectUpdatePropertyCount&lt;/m:ResponseCode&gt;\n          &lt;m:DescriptiveLinkKey&gt;0&lt;/m:DescriptiveLinkKey&gt;\n          &lt;m:MessageXml&gt;\n            &lt;t:Value Name=\"PropertyCount\"&gt;0&lt;/t:Value&gt;\n            &lt;t:Value Name=\"PropertyInfo\"/&gt;\n          &lt;/m:MessageXml&gt;\n          &lt;m:Items/&gt;\n        &lt;/m:UpdateItemResponseMessage&gt;\n      &lt;/m:ResponseMessages&gt;\n    &lt;/m:UpdateItemResponse&gt;\n  &lt;/s:Body&gt;\n&lt;/s:Envelope&gt;\n</code></pre>\n"}, {"tags": ["c#", "arrays", "sorting", "search"], "comments": [{"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1567621153, "post_id": 57793317, "comment_id": 102020896, "body": "If you&#39;re only performing one search per file read I wouldn&#39;t bother parsing it into an array and sorting it; just search it as you read it, as you will on average quit reading it after 50% of the data is read and disk IO is going to be more expensive than CPU time"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12017098"}, "reply_to_user": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1567643289, "post_id": 57793317, "comment_id": 102026984, "body": "The list of what i&#39;m searching for is generated and stored in a text file, it&#39;s the output of a different program. and I am searching for 100&#39;s of lines withing 10000&#39;s of lines. the only way I can figure to search the file quickly is to use a binary search.  it takes 20 minutes to search for 1, it&#39;ll take 30+hours to search for 100... and I need to do it multiple searches using different inputs and outputs and it will fail to locate occasionally (ie, search 100% of the file before coming back with an error)."}, {"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1567667207, "post_id": 57793317, "comment_id": 102032435, "body": "Binary search isn&#39;t as fast as Dictionary - take a look at my post edit; the technique will find 100s of things in 10000s of things in less than 5 seconds. BUT Your code is <i>incredibly</i> slow because you endlessly re-read the same file over and over again, not because of search. Never use File.Read[All]Lines twice on the same file in succession unless you&#39;re sure the file has changed since last read; IO costs. You even read a whole file into an array, then read it all again as an array just to get the length (line count) then toss the data away.. Read[All]Lines hits the disk; <i>do it seldom</i>"}], "answers": [{"comments": [{"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1567620995, "post_id": 57793740, "comment_id": 102020818, "body": "Do please follow .net naming conventions when suggestions code to others .."}], "tags": [], "owner": {"reputation": 563, "user_id": 10491171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8923bd329efae398c456f2dbb1441975?s=128&d=identicon&r=PG&f=1", "display_name": "terrencep", "link": "https://stackoverflow.com/users/10491171/terrencep"}, "is_accepted": false, "score": 0, "last_activity_date": 1567620462, "creation_date": 1567620462, "answer_id": 57793740, "question_id": 57793317, "link": "https://stackoverflow.com/questions/57793317/c-returning-the-original-position-line-of-an-element-in-a-file-after-importin/57793740#57793740", "title": "C# Returning the original position (line) of an element in a file after importing it into an array, sorting it so that it can be searched", "body": "<p>instead of sorting a string make a class consisting of the string and it's original location:</p>\n\n<pre><code>class datapoint {\nstring data {get;set;}\nint originalline {get;set;}\n}\n</code></pre>\n\n<p>Use the Array.Sort overload that takes a Comparison parameter.\nOr the class can implement Icomparable and work with just Array.sort();</p>\n\n<p>Can you use linq's orderby? because that is another route.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12017098"}, "edited": false, "score": 0, "creation_date": 1567672664, "post_id": 57794241, "comment_id": 102035056, "body": "Only issue with this is that i&#39;m trying to avoid storing the whole file in memory and want to access it on the disk. does this --&gt; string[] data = System.IO.File.ReadAllLines(datafile); bring the whole file into memory?  (other wise, it is a great solution and is a million times faster than my original idea)"}, {"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1567673243, "post_id": 57794241, "comment_id": 102035337, "body": "Well, you&#39;ve seen what trying to leave it on the disk does, but ReadLines returns an enumerable that, as you enumerate it, it reads the whole file into memory. It think it&#39;s quite likely that doing your Skip(i).Take().First() will (towards the end) be reading it all into memory anyway, potentially thousands of times so it&#39;s something of a moot point. Really , if you want to leave it on disk you would read all the Params into a dictionary, then gradually read the data file line by line (use a stream reader and read it line by line) and for each line pull the datapointnumber from the file and..."}, {"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1567673441, "post_id": 57794241, "comment_id": 102035436, "body": "..ask if the datapointnumber you just read is in the params rather than the other way round (dont ask if the params is in the data point file) but honestly; my file of half a million guids (quite a long thing in itself) ended up at 50 megabytes. Even if it was 500 megabytes, it&#39;s still going to be something you can load into a dictionary with ease. It&#39;s one of those things where you shouldnt just assume that &quot;reading the whole file into memory is going to be a problem&quot; -  do the read and test whether it&#39;s an actual problem or just an imagined one"}], "tags": [], "owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "is_accepted": true, "score": 0, "last_activity_date": 1567666909, "last_edit_date": 1567666909, "creation_date": 1567622877, "answer_id": 57794241, "question_id": 57793317, "link": "https://stackoverflow.com/questions/57793317/c-returning-the-original-position-line-of-an-element-in-a-file-after-importin/57794241#57794241", "title": "C# Returning the original position (line) of an element in a file after importing it into an array, sorting it so that it can be searched", "body": "<p>Take a look at this:</p>\n\n<pre><code>private static void Search(string[] input)\n{\n    string datafile = @\"C:\\Users\\User\\Documents\\text.txt\";\n    string inputfile = @\"C:\\Users\\User\\Documents\\input.txt\";\n    string outputfile = @\"C: \\Users\\User\\Documents\\output.txt\";\n\n    string[] parameters = System.IO.File.ReadAllLines(inputfile);\n\n    string[] data = System.IO.File.ReadAllLines(datafile);\n\n    var index = new Dictionary&lt;string, int&gt;();\n\n    for (int i = 0; i &lt; data.Length - 1; i += 2)\n    {\n        string currentline = data[i];\n        string[] splitline = currentline.Split(' ');\n        index[splitline[0].Trim('&gt;')] = i;\n    }\n\n    foreach(var p in parameters)\n    {\n        if (index.ContainsKey(p))\n          Console.WriteLine($\"Found {p} at line {index[p]}\");\n        else \n          Console.WriteLine($\"File doesn't contain {p}\");\n    }\n\n}\n</code></pre>\n\n<p>You're looking for exact text matches, so you'd be ideally suited to loading them into a Dictionary. They will be hashed. The dictionary provides fast lookup and you can store the line number where the item was found</p>\n\n<p>You made far too many calls to reading files, including inside loops; don't. You had a call that read a parameters file into an array, then you read the file again just to get the count of lines (hint: array length)</p>\n\n<p>I stripped it down to a single read of each file, loading the dictionary with all the search data then looking through it for each parameter in the parameters file and outputting whether it is found or not. I don't know what your intention is with the output file </p>\n\n<p>Other hints: you could gain a bit by not doing a split- it's more expensive to break a string into an array of string when all you really want is the data between 1 and the first occurrence of ' ' space. As such the first loop could be reduced to</p>\n\n<pre><code>for (int i = 0; i &lt;= data.Length; i +=2)\n  index[data[i].Substring(1, data[i].IndexOf(' ') -1)] = i;\n</code></pre>\n\n<p>You don't have to just store an int in the dictionary. You could upgrade it to store a class, use a tuple or anonymous type (<a href=\"https://stackoverflow.com/questions/1619518/a-dictionary-where-value-is-an-anonymous-type-in-c-sharp\">A dictionary where value is an anonymous type in C#</a>) and then you can track more than just the line number- you could track the whole data line, its number and the info line related to it, for example. Let's upgrade it.. I've added a routine at the top to generate some fake data and some other data that is and is not in the file:</p>\n\n<pre><code>    static void Main()\n    {\n\n        Console.WriteLine(DateTime.Now + \" generate some fake data\");\n        StringBuilder datasb = new StringBuilder(100 * 1024 * 1024);//initialize for 100 megabytes\n        var para = new List&lt;Guid&gt;();\n        for (int i = 0; i &lt; 500000; i++) {\n            var g = Guid.NewGuid();\n            datasb.AppendFormat(\"&gt;{0} datapointname{1}\\r\\nInformation; generated at {2}\\r\\n\", g, i, DateTime.Now);\n            if (i % 20000 == 0) //25 items in 500,000\n                para.Add(g);\n            if (i % 40000 == 0) //~12 items not findable in 500,000\n                para.Add(Guid.NewGuid());\n        }\n        var pfile = string.Join(\"\\r\\n\", para.OrderBy(g =&gt; g.ToString()));\n\n\n        string datafile = @\"C:\\temp\\text.txt\";\n        string inputfile = @\"C:\\temp\\input.txt\";\n        string outputfile = @\"C:\\temp\\output.txt\";\n\n        //write fake files\n        File.WriteAllText(datafile, datasb.ToString());\n        File.WriteAllText(inputfile, pfile);\n\n\n        var start = DateTime.Now;\n        Console.WriteLine(DateTime.Now + \" begin loading dictionary\");\n\n        //BEGIN USEFUL PART\n\n        string[] parameters = System.IO.File.ReadAllLines(inputfile);\n\n        string[] data = System.IO.File.ReadAllLines(datafile);\n\n        var index = new Dictionary&lt;string, Thing&gt;();\n\n        for (int i = 0; i &lt; data.Length - 1; i += 2)\n        {\n            string currentline = data[i];\n            string[] splitline = currentline.Split(' ');\n            Thing t = new Thing()\n            {\n                DataPointNumber = splitline[0].Trim('&gt;'),\n                DataPointName = splitline[1],\n                Information = data[i + 1],\n                LineNumber = i\n            };\n            index[t.DataPointNumber] = t;\n        }\n\n        Console.WriteLine(DateTime.Now + \" begin searching dictionary\");\n\n        int found = 0, notFound = 0;\n        foreach (var p in parameters)\n        {\n            if (index.ContainsKey(p))\n            {\n                Console.WriteLine($\" Found {p}: {index[p]}\"); //ToString will be called\n                found++;\n            }\n            else\n            {\n                Console.WriteLine($\" File doesn't contain {p}\");\n                notFound++;\n            }\n        }\n\n\n        Console.WriteLine($\"{DateTime.Now } search complete, searched {index.Count} items looking for {parameters.Length} items, found {found}, didnt find {notFound}, took {(DateTime.Now-start).TotalSeconds} seconds\");\n\n    }\n</code></pre>\n\n<p>The bit you'll want for your program starts at <code>//BEGIN USEFUL PART</code>, take a look at the timings when loading a file into a dictionary and searching it - on my machine it takes 1.5 seconds to find 38 items in half a million (~50mb text file), and this includes the time taken to load the stuff into the dictionary in the first place:</p>\n\n<pre><code>2019-09-05 07:54:17 generate some fake data\n2019-09-05 07:54:19 begin loading dictionary\n2019-09-05 07:54:21 begin searching dictionary\n Found 0ae4b83a-95f0-46e1-acc2-fe802f51441b: Line:240000-0ae4b83a-95f0-46e1-acc2-fe802f51441b with info Information; generated at 2019-09-05 07:54:17\n Found 0d007ca2-f21c-4d3c-b52d-fcd3833d31a7: Line:480000-0d007ca2-f21c-4d3c-b52d-fcd3833d31a7 with info Information; generated at 2019-09-05 07:54:18\n Found 16849c07-c7a4-4b8b-b0fa-9ed8fd8dedde: Line:200000-16849c07-c7a4-4b8b-b0fa-9ed8fd8dedde with info Information; generated at 2019-09-05 07:54:17\n Found 1afdc959-297d-43fe-8106-58c648c25d76: Line:400000-1afdc959-297d-43fe-8106-58c648c25d76 with info Information; generated at 2019-09-05 07:54:18\n Found 21dcb6fd-1bd5-4920-b3fa-fd1a908f153d: Line:560000-21dcb6fd-1bd5-4920-b3fa-fd1a908f153d with info Information; generated at 2019-09-05 07:54:18\n File doesn't contain 2944f7f7-2fa8-425a-bbf9-f833cfdb1fd2\n Found 3b1c0712-2211-4a36-b6dd-739619142fa5: Line:80000-3b1c0712-2211-4a36-b6dd-739619142fa5 with info Information; generated at 2019-09-05 07:54:17\n Found 3b2fb141-61e9-4b2d-8ad5-44171648ac03: Line:840000-3b2fb141-61e9-4b2d-8ad5-44171648ac03 with info Information; generated at 2019-09-05 07:54:19\n File doesn't contain 487bc8d3-708d-40bc-9278-79ae34fb9732\n File doesn't contain 4a9b40b4-fe53-4ba8-9842-6f8d99dd405a\n Found 528943c2-d243-4963-b98d-6c60f9c5e118: Line:600000-528943c2-d243-4963-b98d-6c60f9c5e118 with info Information; generated at 2019-09-05 07:54:18\n Found 53f60bb6-cf12-4ac7-a0c0-c0d0daf9571f: Line:760000-53f60bb6-cf12-4ac7-a0c0-c0d0daf9571f with info Information; generated at 2019-09-05 07:54:18\n File doesn't contain 574d8611-eeec-4ea4-882e-9ea6f8c3a553\n Found 591c5ce9-c32f-4f88-a620-6f2b9f90de35: Line:120000-591c5ce9-c32f-4f88-a620-6f2b9f90de35 with info Information; generated at 2019-09-05 07:54:17\n Found 60ecbf50-c362-42d2-80e2-666c339b87cc: Line:0-60ecbf50-c362-42d2-80e2-666c339b87cc with info Information; generated at 2019-09-05 07:54:17\n Found 63a07cb7-e416-4da6-8a2f-a33fafc6c5d7: Line:720000-63a07cb7-e416-4da6-8a2f-a33fafc6c5d7 with info Information; generated at 2019-09-05 07:54:18\n File doesn't contain 69083432-4cb9-484c-8cd2-6b5412b1fccf\n Found 705dae03-54d8-48b0-a2ab-7d82d8afc59c: Line:40000-705dae03-54d8-48b0-a2ab-7d82d8afc59c with info Information; generated at 2019-09-05 07:54:17\n Found 7182cb17-5070-4801-92d4-bc01bc05e851: Line:960000-7182cb17-5070-4801-92d4-bc01bc05e851 with info Information; generated at 2019-09-05 07:54:19\n Found 71dbc2a3-4a40-4ce3-b3c2-1039aa866bf8: Line:360000-71dbc2a3-4a40-4ce3-b3c2-1039aa866bf8 with info Information; generated at 2019-09-05 07:54:18\n File doesn't contain 7cc9f35b-9524-4f95-b580-fbeef80c0557\n Found 8f8e89ae-3dcf-4a8a-bf34-36a1078c88c6: Line:800000-8f8e89ae-3dcf-4a8a-bf34-36a1078c88c6 with info Information; generated at 2019-09-05 07:54:18\n File doesn't contain 9807a242-48dc-47f2-8963-af323bf61b5c\n Found 9c8ccbfd-ff70-4fc5-b3a7-02872a9c731c: Line:680000-9c8ccbfd-ff70-4fc5-b3a7-02872a9c731c with info Information; generated at 2019-09-05 07:54:18\n File doesn't contain a3f6d083-588e-4337-b800-56af12bde5a9\n Found abe63355-6df4-452c-9b56-9879961cba38: Line:440000-abe63355-6df4-452c-9b56-9879961cba38 with info Information; generated at 2019-09-05 07:54:18\n File doesn't contain b709726c-e5f6-432e-8e22-4cea924ae29b\n Found b7c040c5-b5f9-4744-a0ec-61744c2f65d6: Line:640000-b7c040c5-b5f9-4744-a0ec-61744c2f65d6 with info Information; generated at 2019-09-05 07:54:18\n File doesn't contain bbdc590a-bbb6-42b0-8ba3-00c4bffa0a2a\n File doesn't contain bd0c1164-d754-41f4-afd3-bed92d4063f4\n Found c351a7ee-f4b8-449b-86d4-6d663942939f: Line:880000-c351a7ee-f4b8-449b-86d4-6d663942939f with info Information; generated at 2019-09-05 07:54:19\n Found c9296a3c-2167-4c40-b4dc-3d25b9fa285a: Line:320000-c9296a3c-2167-4c40-b4dc-3d25b9fa285a with info Information; generated at 2019-09-05 07:54:18\n Found cdfbce4a-cb9a-4617-a6c5-366bbbd6872f: Line:160000-cdfbce4a-cb9a-4617-a6c5-366bbbd6872f with info Information; generated at 2019-09-05 07:54:17\n File doesn't contain d057453e-c91b-4f11-8770-600780200835\n Found e0361b8a-25e1-4d6c-ae17-0f3ccb6f85fa: Line:280000-e0361b8a-25e1-4d6c-ae17-0f3ccb6f85fa with info Information; generated at 2019-09-05 07:54:18\n Found e38f4fb8-fc51-40af-bc06-60188139a0ba: Line:920000-e38f4fb8-fc51-40af-bc06-60188139a0ba with info Information; generated at 2019-09-05 07:54:19\n Found f4794410-7873-4fc5-adc2-7750667f88a7: Line:520000-f4794410-7873-4fc5-adc2-7750667f88a7 with info Information; generated at 2019-09-05 07:54:18\n File doesn't contain f736b5e2-acea-44f2-89eb-090fbe6cc50c\n2019-09-05 07:54:21 search complete, searched 500000 items looking for 38 items, found 25, didnt find 13, took 1.5084395 seconds\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12017098"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 57794241, "answer_count": 2, "score": 0, "last_activity_date": 1567839614, "creation_date": 1567618492, "last_edit_date": 1567839614, "question_id": 57793317, "link": "https://stackoverflow.com/questions/57793317/c-returning-the-original-position-line-of-an-element-in-a-file-after-importin", "title": "C# Returning the original position (line) of an element in a file after importing it into an array, sorting it so that it can be searched", "body": "<p>I have a couple of files, on average containing approx 30,000 data points stored in them.\nEach data point has 2 lines; a meta data line and the line containing the information.</p>\n\n<p>example,</p>\n\n<p>0) >data_point_number data_point_name</p>\n\n<p>1) information</p>\n\n<p>2) >data_point_number data_point_name</p>\n\n<p>3) information</p>\n\n<p>I am writing code to search the file to find specific entries using the data point number. the data point numbers are not ordered so they need to be sorted.\nI want to use Array.Sort() and Array.BinarySearch()</p>\n\n<p>After collecting all of the data_point_number into an array and sorting it so that I can perform a binary search on the data, how do I then link it back to the original location in the file so that I can access the information?</p>\n\n<p>I'd like to append the meta data and the information into an output file.</p>\n\n<p>I've tried simply searching files as is using something that's effectively a line by line search of the file but it takes roughly 20 minutes to run through a file.</p>\n\n<pre><code>        for (int i = 0; i &lt;= linecount; i = i + 2)\n        {\n            string currentline = System.IO.File.ReadLines(datafile).Skip(i).Take(1).First();\n            string[] splitline = currentline.Split(' ');\n            array1[i] = splitline[0].Trim(new char[] { '&gt;' });\n        }\n</code></pre>\n"}, {"tags": ["c#", "onvif"], "comments": [{"owner": {"reputation": 563, "user_id": 10491171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8923bd329efae398c456f2dbb1441975?s=128&d=identicon&r=PG&f=1", "display_name": "terrencep", "link": "https://stackoverflow.com/users/10491171/terrencep"}, "edited": false, "score": 0, "creation_date": 1567621024, "post_id": 57792949, "comment_id": 102020829, "body": "Documentation says this method has been depricated with version 2.0. What ver is implemented?"}, {"owner": {"reputation": 11, "user_id": 10896572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/454da96f1f1bc337e1cc031a0bb1329b?s=128&d=identicon&r=PG", "display_name": "GstvCns", "link": "https://stackoverflow.com/users/10896572/gstvcns"}, "reply_to_user": {"reputation": 563, "user_id": 10491171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8923bd329efae398c456f2dbb1441975?s=128&d=identicon&r=PG&f=1", "display_name": "terrencep", "link": "https://stackoverflow.com/users/10491171/terrencep"}, "edited": false, "score": 0, "creation_date": 1567622116, "post_id": 57792949, "comment_id": 102021310, "body": "Hey, @terribletp, the library that I have posted is called &quot;ONVIF Core&quot; (v19.06), what suggests that it has the basic methods, right? There are some more specifications on <a href=\"https://www.onvif.org/profiles/specifications/\" rel=\"nofollow noreferrer\">onvif.org/profiles/specifications</a>. I have already tried the &quot;DeviceIO&quot; and got the same results."}], "owner": {"reputation": 11, "user_id": 10896572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/454da96f1f1bc337e1cc031a0bb1329b?s=128&d=identicon&r=PG", "display_name": "GstvCns", "link": "https://stackoverflow.com/users/10896572/gstvcns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567617451, "creation_date": 1567616663, "last_edit_date": 1567617451, "question_id": 57792949, "link": "https://stackoverflow.com/questions/57792949/how-do-i-get-the-token-to-switch-a-cameras-relay-using-onvif-library", "title": "How do I get the token to switch a camera&#39;s relay using ONVIF library?", "body": "<p>I'm trying to set the camera's relay using the ONVIF library, but I can't get a token from the <code>GetRelayOutputs()</code> method.</p>\n\n<p>I have seached several posts, but my problem must so simple that no one comments about it.</p>\n\n<p>I have made a form with a single button for fast debbuging. Using the service reference <a href=\"https://www.onvif.org/ver10/device/wsdl/devicemgmt.wsdl\" rel=\"nofollow noreferrer\">https://www.onvif.org/ver10/device/wsdl/devicemgmt.wsdl</a> I already can get time, date, url etc...</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public partial class Form1 : Form\n{\n    DeviceClient deviceClient;\n    public Form1()\n    {\n        InitializeComponent();\n        ServicePointManager.Expect100Continue = false;\n        var endPointAddress = new EndpointAddress(\"http://172.16.2.119:8899/onvif/device_service\");\n        var httpTransportBinding = new HttpTransportBindingElement { AuthenticationScheme = AuthenticationSchemes.Digest };\n        var textMessageEncodingBinding = new TextMessageEncodingBindingElement { MessageVersion = MessageVersion.CreateVersion(EnvelopeVersion.Soap12, AddressingVersion.None) };\n        var customBinding = new CustomBinding(textMessageEncodingBinding, httpTransportBinding);\n        var passwordDigestBehavior = new PasswordDigestBehavior(\"admin\", \"admin\");\n        deviceClient = new DeviceClient(customBinding, endPointAddress);\n        deviceClient.Endpoint.Behaviors.Add(passwordDigestBehavior);\n    }\n\n    private void button1_Click(object sender, EventArgs e)\n    {       \n        var relay = deviceClient.GetRelayOutputs();\n        deviceClient.SetRelayOutputState(relay.First().token, RelayLogicalState.active);\n    }\n}\n</code></pre>\n\n<p>The <code>DeviceClient</code> object is being initialised as expected, but when I try to get the relay's outputs, it gives me a empty array.</p>\n\n<p>Is there anything that I'm doing wrong?\nIs it possible to a camera that has a relay not being able to use it with ONVIF?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "asp.net-core", "entity-framework-core", "automapper"], "answers": [{"comments": [{"owner": {"reputation": 357, "user_id": 4556521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c372d0a4c9a554d8e9700424db7e3a67?s=128&d=identicon&r=PG&f=1", "display_name": "Failwyn", "link": "https://stackoverflow.com/users/4556521/failwyn"}, "edited": false, "score": 0, "creation_date": 1567618666, "post_id": 57793218, "comment_id": 102019892, "body": "MaxDepth(1) works as expected for the Module property, it just doesn&#39;t work when the property is of the same type and the entity being mapped."}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "reply_to_user": {"reputation": 357, "user_id": 4556521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c372d0a4c9a554d8e9700424db7e3a67?s=128&d=identicon&r=PG&f=1", "display_name": "Failwyn", "link": "https://stackoverflow.com/users/4556521/failwyn"}, "edited": false, "score": 0, "creation_date": 1567619790, "post_id": 57793218, "comment_id": 102020319, "body": "The point is that you&#39;re not mapping anything that would result in any sort of recursion or even has relationships in the first place. Your view model is a 100% flat model, not related to anything else. Based on the code you&#39;ve posted, the view model is your source, so this is just a straight-forward projection mapping."}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "reply_to_user": {"reputation": 357, "user_id": 4556521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c372d0a4c9a554d8e9700424db7e3a67?s=128&d=identicon&r=PG&f=1", "display_name": "Failwyn", "link": "https://stackoverflow.com/users/4556521/failwyn"}, "edited": false, "score": 0, "creation_date": 1567620043, "post_id": 57793218, "comment_id": 102020424, "body": "Max depth does do what I think you think it does. It&#39;s talking about how many levels deep to map the source object. It has <i>nothing</i> to do with the destination. The view model has no levels so max depth doesn&#39;t apply here at all. As I said in my answer, a new <code>Menu</code> instance is being created because <code>ParentMenuName</code> is being projected onto <code>ParentMenu.Name</code>, and AutoMapper must instantiate <code>ParentMenu</code> to set that."}, {"owner": {"reputation": 357, "user_id": 4556521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c372d0a4c9a554d8e9700424db7e3a67?s=128&d=identicon&r=PG&f=1", "display_name": "Failwyn", "link": "https://stackoverflow.com/users/4556521/failwyn"}, "edited": false, "score": 0, "creation_date": 1567620201, "post_id": 57793218, "comment_id": 102020491, "body": "Automapper assumes that ParentMenuId should be mapped to ParentMenu.Id, the same is true for ModuleId being mapped to Module.Id; If I don&#39;t set MaxDepth(1), both ParentMenu.Id and Module.Id are set; but when MaxDepth(1) is set, Module.Id is not set because it respects the MaxDepth(1) setting, however, ParentMenu.Id is mapped when it should behave the same as the Module; There appears to be an issue when the property is of the same type. It doesn&#39;t matter if the ViewModel is flat, Automapper makes assumptions about mapping based on name; hence the use of MaxDepth(1)."}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "reply_to_user": {"reputation": 357, "user_id": 4556521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c372d0a4c9a554d8e9700424db7e3a67?s=128&d=identicon&r=PG&f=1", "display_name": "Failwyn", "link": "https://stackoverflow.com/users/4556521/failwyn"}, "edited": false, "score": 0, "creation_date": 1567620340, "post_id": 57793218, "comment_id": 102020548, "body": "No. The Id isn&#39;t mapped because there&#39;s a literal property with that name on the destination (<code>ParentMenuId</code>), so it doesn&#39;t need to project onto <code>ParentMenu</code>. There is no <code>ParentMenuName</code> property, so it projects to <code>ParentMenu.Name</code>. Max depth has nothing to do with this."}, {"owner": {"reputation": 357, "user_id": 4556521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c372d0a4c9a554d8e9700424db7e3a67?s=128&d=identicon&r=PG&f=1", "display_name": "Failwyn", "link": "https://stackoverflow.com/users/4556521/failwyn"}, "edited": false, "score": 0, "creation_date": 1567620520, "post_id": 57793218, "comment_id": 102020622, "body": "How do you explain the behavior of the Module property? The Module entity also has an Id property and a Name property; if what your saying is true, then they should both exhibit the same behavior, but they don&#39;t; Module respects the setting, ParentMenu does not."}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "reply_to_user": {"reputation": 357, "user_id": 4556521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c372d0a4c9a554d8e9700424db7e3a67?s=128&d=identicon&r=PG&f=1", "display_name": "Failwyn", "link": "https://stackoverflow.com/users/4556521/failwyn"}, "edited": false, "score": 0, "creation_date": 1567620669, "post_id": 57793218, "comment_id": 102020690, "body": "How should I know? I don&#39;t have visibility into all that, nor your actual AutoMapper profile(s). It&#39;s not max depth, though, is what I&#39;m saying. That&#39;s 100% about how deep to go on the <i>source</i>. It has nothing to do with the destination."}, {"owner": {"reputation": 357, "user_id": 4556521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c372d0a4c9a554d8e9700424db7e3a67?s=128&d=identicon&r=PG&f=1", "display_name": "Failwyn", "link": "https://stackoverflow.com/users/4556521/failwyn"}, "edited": false, "score": 0, "creation_date": 1567620880, "post_id": 57793218, "comment_id": 102020774, "body": "Do you have a citation saying that the MaxDepth is for the source? It&#39;s working as I expect in all other cases and removing it causes all of those cases to map the relation properties."}, {"owner": {"reputation": 357, "user_id": 4556521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c372d0a4c9a554d8e9700424db7e3a67?s=128&d=identicon&r=PG&f=1", "display_name": "Failwyn", "link": "https://stackoverflow.com/users/4556521/failwyn"}, "edited": false, "score": 0, "creation_date": 1567622458, "post_id": 57793218, "comment_id": 102021446, "body": "My apologies, I checked the AutoMapper source and it appears that you are right... Although I can&#39;t explain the current mapping behavior...  Is there no generic way to tell AutoMapper to only map the first level of the destination?"}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "reply_to_user": {"reputation": 357, "user_id": 4556521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c372d0a4c9a554d8e9700424db7e3a67?s=128&d=identicon&r=PG&f=1", "display_name": "Failwyn", "link": "https://stackoverflow.com/users/4556521/failwyn"}, "edited": false, "score": 0, "creation_date": 1567622577, "post_id": 57793218, "comment_id": 102021499, "body": "It is only mapping the first level. Your view model is only one level. You need to ignore the destination member as I said in my answer."}, {"owner": {"reputation": 357, "user_id": 4556521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c372d0a4c9a554d8e9700424db7e3a67?s=128&d=identicon&r=PG&f=1", "display_name": "Failwyn", "link": "https://stackoverflow.com/users/4556521/failwyn"}, "edited": false, "score": 0, "creation_date": 1567622780, "post_id": 57793218, "comment_id": 102021572, "body": "I need a generic way to ignore them though, I am using dynamics for the reverse mapping to prevent under posting... I probably just need ditch the idea of reverse mapping all together."}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "reply_to_user": {"reputation": 357, "user_id": 4556521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c372d0a4c9a554d8e9700424db7e3a67?s=128&d=identicon&r=PG&f=1", "display_name": "Failwyn", "link": "https://stackoverflow.com/users/4556521/failwyn"}, "edited": false, "score": 0, "creation_date": 1567623372, "post_id": 57793218, "comment_id": 102021770, "body": "I don&#39;t know of a generic way, since it&#39;s dependent on the property names. For reference, this is what&#39;s happening: <a href=\"http://docs.automapper.org/en/stable/Reverse-Mapping-and-Unflattening.html\" rel=\"nofollow noreferrer\">docs.automapper.org/en/stable/&hellip;</a>. the docs have other ways to prevent it, but all require config for the type(s). While AutoMapper is low config, it&#39;s not no config in anything but the most simple of scenarios."}], "tags": [], "owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "is_accepted": true, "score": 0, "last_activity_date": 1567617980, "creation_date": 1567617980, "answer_id": 57793218, "question_id": 57792803, "link": "https://stackoverflow.com/questions/57792803/automapper-ignores-maxdepth-when-foreign-key-entity-is-of-the-same-type/57793218#57793218", "title": "AutoMapper ignores MaxDepth when foreign key entity is of the same type", "body": "<p>This doesn't seem to have anything to do with depth or recursion. It's also not clear what the exact problem is. The code you have is mapping a view model onto an entity. If I had to guess, I'd imagine the issue is that AutoMapper is creating a new <code>Menu</code> instance and replacing the existing <code>ParentMenu</code> property on your entity with that. The reason is that you're projecting <code>ParentMenuName</code>, which will map to <code>ParentMenu.Name</code> on the entity. You should ignore <code>ParentMenu</code> in the mapping:</p>\n\n<pre><code>CreateMap&lt;MenuViewModel, Menu&gt;()\n    ...\n    .ForMember(dest =&gt; dest.ParentMenu, opts =&gt; opts.Ignore());\n</code></pre>\n"}], "owner": {"reputation": 357, "user_id": 4556521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c372d0a4c9a554d8e9700424db7e3a67?s=128&d=identicon&r=PG&f=1", "display_name": "Failwyn", "link": "https://stackoverflow.com/users/4556521/failwyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 57793218, "answer_count": 1, "score": 0, "last_activity_date": 1567617980, "creation_date": 1567615960, "question_id": 57792803, "link": "https://stackoverflow.com/questions/57792803/automapper-ignores-maxdepth-when-foreign-key-entity-is-of-the-same-type", "title": "AutoMapper ignores MaxDepth when foreign key entity is of the same type", "body": "<p>I am trying to get AutoMapper to only map the first level of an Entity, so I set MaxDepth(1), which works great, except for my Menu entity which has a property called ParentMenu that is also of type Menu.</p>\n\n<p><strong>Startup.cs</strong></p>\n\n<pre><code>public IServiceProvider ConfigureServices(IServiceCollection services)\n{\n    services\n      ...\n      ...\n      .AddAutoMapper(config =&gt;\n      {\n        config.AddProfiles(typeof(Startup).Assembly);\n        config.ForAllMaps((cfg, expr) =&gt;\n        {\n           if (typeof(Entity).IsAssignableFrom(cfg.DestinationType))\n           {\n              expr.MaxDepth(1);\n           }\n        });\n        config.CreateMissingTypeMaps = true;\n        config.ValidateInlineMaps = false;\n      });\n   ...\n   ...\n}\n</code></pre>\n\n<p><strong>Menu.cs</strong></p>\n\n<pre><code>public class Menu : Entity\n{\n  int Id {get; set;}\n  string Name {get; set;}\n  int ParentMenuId {get; set;}\n  Menu ParentMenu {get; set;}\n  int ModuleId {get; set;}\n  Module Module {get; set;}\n}\n</code></pre>\n\n<p><strong>MenuViewModel.cs</strong></p>\n\n<pre><code>public class MenuViewModel\n{\n  int Id {get; set;}\n  string Name {get; set;}\n  int ParentMenuId {get; set;}\n  string ParentMenuName {get; set;}\n  int ModuleId {get; set;}\n  string ModuleName {get; set;}\n}\n</code></pre>\n\n<p><strong>MenuController.cs</strong></p>\n\n<pre><code>public IActionResult Edit(MenuViewModel viewModel)\n{\n  var model = EditGetModel(id); // returns the Menu Entity\n  Mapper.Map(viewModel, model);\n  // model.ParentMenuId is set properly\n  // model.ParentMenu set to a new instance of Menu ignoring MaxDepth(1)\n  // model.ModuleId is set properly\n  // model.Module is properly left null\n  ...\n  ...\n}\n</code></pre>\n\n<p>I can't figure out why MaxDepth(1) is ignored when an Entity has a property of the same type, any help would be greatly appreciated.</p>\n"}, {"tags": ["c#", "msbuild", "precompile", "devenv"], "comments": [{"owner": {"reputation": 14371, "user_id": 321866, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/25e93a50d485eca289f887868e1bcea5?s=128&d=identicon&r=PG", "display_name": "C Johnson", "link": "https://stackoverflow.com/users/321866/c-johnson"}, "edited": false, "score": 0, "creation_date": 1567617388, "post_id": 57792791, "comment_id": 102019404, "body": "what happens if you delete that solution and create a new solution file from scratch? (i.e. one without that preProject section)."}, {"owner": {"reputation": 1122, "user_id": 782911, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VMpSY.jpg?s=128&g=1", "display_name": "mattumotu", "link": "https://stackoverflow.com/users/782911/mattumotu"}, "reply_to_user": {"reputation": 14371, "user_id": 321866, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/25e93a50d485eca289f887868e1bcea5?s=128&d=identicon&r=PG", "display_name": "C Johnson", "link": "https://stackoverflow.com/users/321866/c-johnson"}, "edited": false, "score": 0, "creation_date": 1567676224, "post_id": 57792791, "comment_id": 102036982, "body": "When I add the existing website to the solution it creates the <code>preProject</code> section identical to the one in my existing sln"}, {"owner": {"reputation": 1122, "user_id": 782911, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VMpSY.jpg?s=128&g=1", "display_name": "mattumotu", "link": "https://stackoverflow.com/users/782911/mattumotu"}, "reply_to_user": {"reputation": 14371, "user_id": 321866, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/25e93a50d485eca289f887868e1bcea5?s=128&d=identicon&r=PG", "display_name": "C Johnson", "link": "https://stackoverflow.com/users/321866/c-johnson"}, "edited": false, "score": 0, "creation_date": 1567689335, "post_id": 57792791, "comment_id": 102044279, "body": "My short term workaround is to copy the solution, remove the website projects and use this solution for msbuild. It misses some of the projects but 80% is better than 0%"}], "owner": {"reputation": 1122, "user_id": 782911, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VMpSY.jpg?s=128&g=1", "display_name": "mattumotu", "link": "https://stackoverflow.com/users/782911/mattumotu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567615920, "creation_date": 1567615920, "question_id": 57792791, "link": "https://stackoverflow.com/questions/57792791/updating-build-process-from-devenv-to-msbuild-error-allowdefinition-machinetoa", "title": "Updating build process from devenv to MSBuild: error allowDefinition=&#39;MachineToApplication&#39;", "body": "<p>I am working with a legacy application. For reasons lost to history, the build process involves using <code>devenv</code> not <code>msbuild</code> to do the build.</p>\n\n<p>I'm setting up SonarQube using <code>SonarScanner.MSBuild.exe</code>. This doesn't seem to capture any info/stats for <code>devenv</code> builds (clues in the name I guess) so I'm looking to move to <code>MSBuild</code>.</p>\n\n<p>Using <code>\"C:\\Program Files (x86)\\MSBuild\\14.0\\Bin\\MSBuild.exe\" solutionname.sln /p:PostBuildEvent= /p:Configuration=Debug /t:Rebuild /m</code> works on my local development machine to build the solution. However, it fails on our build box with the following error:</p>\n\n<blockquote>\n  <p>path\\webservice project\\web.config(5): error ASPCONFIG: It is an error to use a section registered as allowDefinition='MachineToApplication' beyond application level.  This error can be caused by a virtual directory not being configured as an application in IIS. [path\\webservice project.metaproj]</p>\n</blockquote>\n\n<p>Reading the error message, and research online, it appears this may be due to a call to aspnet_compiler using the <code>-v</code> switch for a vdir that doesn't exist in IIS.</p>\n\n<p>This would make sense, IIS is configured on my dev machine but not on the build box (because it's a build box not an app server!). Ideally, I'd like to get this building using MSBuild without configuring IIS on the build box (That is an option, but doesn't feel like the 'right' solution to me) and without breaking the current build process (updating that is a much bigger piece of work and will need a lot of testing!)</p>\n\n<ul>\n<li><p>The web.config referenced in the error message doesn't have a reference to <code>allowDefinition</code>.</p></li>\n<li><p>Reading the MSBuild output it looks like the .metaproj is calling <code>C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\aspnet_compiler.exe -v /localhost_2437 -p path\\webservice project\\ -u -f -d PrecompiledWeb\\localhost_2437\\</code> So this looks like a likely suspect.</p></li>\n<li>The .metaproj listed in build output doesn't exist, so presumably a temp file created by MSBuild (?)</li>\n</ul>\n\n<p>The parent solution file has the following entry:</p>\n\n<pre><code> Project(\"{E24C65DC-7377-472B-9ABA-BC803B73C61A}\") = \"Projecname\", \"project path\\\", \"{F7F0F1A0-B5BB-4D69-90D1-7E0B6C1B1A63}\"\n      ProjectSection(WebsiteProperties) = preProject\n           TargetFrameworkMoniker = \".NETFramework,Version%3Dv4.6.1\"\n           Debug.AspNetCompiler.VirtualPath = \"/localhost_4102\"\n           Debug.AspNetCompiler.PhysicalPath = \"path\\\"\n           Debug.AspNetCompiler.TargetPath = \"PrecompiledWeb\\localhost_4102\\\"\n           Debug.AspNetCompiler.Updateable = \"true\"\n           Debug.AspNetCompiler.ForceOverwrite = \"true\"\n           Debug.AspNetCompiler.FixedNames = \"false\"\n           Debug.AspNetCompiler.Debug = \"True\"\n           VWDPort = \"4102\"\n           SlnRelativePath = \"path\\\"\n      EndProjectSection\n      ProjectSection(ProjectDependencies) = postProject\n           ...snip...\n      EndProjectSection\n EndProject\n</code></pre>\n\n<p>So it looks like we have some precompilation settings here, which is whats making it call to aspnet_compiler.exe with the -v setting that is causing MSBuild to error.</p>\n\n<p>I've not really had a lot of experience with the website project type or precompilation. Is there a way I can switch off the precompilation for MSBuild  without changing the behaviour of the current devenv build process?</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 527, "user_id": 9977758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f093d9d5b8e4ef87e83e7b655c5a8e3?s=128&d=identicon&r=PG&f=1", "display_name": "SagiZiv", "link": "https://stackoverflow.com/users/9977758/sagiziv"}, "edited": false, "score": 0, "creation_date": 1567620186, "post_id": 57792784, "comment_id": 102020485, "body": "The Translate function has an overload that takes the space. like this: transform.Translate(Vector3.one, Space.World);"}], "answers": [{"comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 2, "creation_date": 1567629327, "post_id": 57793724, "comment_id": 102023727, "body": "Aren&#39;t both rather strongly dependent on the object&#39;s rotation?"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1567629902, "post_id": 57793724, "comment_id": 102023938, "body": "@derHugo Perhaps I misunderstood the problem."}], "tags": [], "owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "is_accepted": false, "score": 0, "last_activity_date": 1567629771, "last_edit_date": 1567629771, "creation_date": 1567620346, "answer_id": 57793724, "question_id": 57792784, "link": "https://stackoverflow.com/questions/57792784/rotation-is-changing-objects-x-axis/57793724#57793724", "title": "Rotation is changing object&#39;s x axis", "body": "<p><strong>Multiply by <code>transform.forward</code></strong></p>\n\n<p>Currently your movement vectors are in absolute coordinates. You want them in local coordinates. The easiest way to do this is to multiple by <code>transform.forward</code> (for forward motion) and <code>transform.right</code> (for strafing motion).</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 12021025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d2fe7a58a1632288aac3c403286689?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas Ferraz", "link": "https://stackoverflow.com/users/12021025/lucas-ferraz"}, "edited": false, "score": 0, "creation_date": 1571338788, "post_id": 57795368, "comment_id": 103217983, "body": "Thank you so much, that solved the problem! What kind of problem could happen if I kept using transform to move the object?"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "reply_to_user": {"reputation": 1, "user_id": 12021025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d2fe7a58a1632288aac3c403286689?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas Ferraz", "link": "https://stackoverflow.com/users/12021025/lucas-ferraz"}, "edited": false, "score": 0, "creation_date": 1571346749, "post_id": 57795368, "comment_id": 103221235, "body": "Collision might not get triggered and Physics will look unrealistic in certain circumstances"}], "tags": [], "owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "is_accepted": false, "score": 1, "last_activity_date": 1568144605, "last_edit_date": 1568144605, "creation_date": 1567629596, "answer_id": 57795368, "question_id": 57792784, "link": "https://stackoverflow.com/questions/57792784/rotation-is-changing-objects-x-axis/57795368#57795368", "title": "Rotation is changing object&#39;s x axis", "body": "\n\n<p><a href=\"https://docs.unity3d.com/ScriptReference/Transform.Translate.html\" rel=\"nofollow noreferrer\"><code>transform.Translate</code></a> takes an <a href=\"https://docs.microsoft.com/dotnet/csharp/programming-guide/classes-and-structs/named-and-optional-arguments#optional-arguments\" rel=\"nofollow noreferrer\">optional parameter</a> <code>relativeTo</code> with a default value <code>Space.Self</code> &rightarrow; movement in local X-axis</p>\n\n<blockquote>\n  <p>If <code>relativeTo</code> is left out or set to <code>Space.Self</code> the movement is applied relative to the transform's local axes. (the x, y and z axes shown when selecting the object inside the Scene View.) If relativeTo is <code>Space.World</code> the movement is applied relative to the world coordinate system.</p>\n</blockquote>\n\n<p>You can convert this into the global X-axis (independent from the objects orientation) by simply passing <code>Space.World</code> as last parameter:</p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>if (Input.GetKey(KeyCode.RightArrow))\n{\n    Bola.transform.Translate(new Vector2(movdir * Time.deltaTime, 0), Space.World);\n}\n\nif (Input.GetKey(KeyCode.LeftArrow))\n{\n    Bola.transform.Translate(new Vector2(moveesq * Time.deltaTime, 0), Space.World);\n}\n</code></pre>\n\n<hr>\n\n<p><code>AddForce</code> however takes world space coordinates anyway so there you already are independent of the objects orientation.</p>\n\n<hr>\n\n<p>However, since there is a rigidbody involved you should not set the position using the <code>Transform</code> component at all. You should rather go through <a href=\"https://docs.unity3d.com/ScriptReference/Rigidbody2D.MovePosition.html\" rel=\"nofollow noreferrer\">Rigidbody2D.MovePosition</a></p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>if (Input.GetKey(KeyCode.RightArrow))\n{\n    Bola.MovePosition(Bola.position + Vector2.right * movdir * Time.deltaTime);\n}\n\nif (Input.GetKey(KeyCode.LeftArrow))\n{\n    Bola.MovePosition(Bola.position + Vector2.right * moveesq * Time.deltaTime);\n}\n</code></pre>\n\n<p>Yoi should this then rather also in <a href=\"https://docs.unity3d.com/ScriptReference/MonoBehaviour.FixedUpdate.html\" rel=\"nofollow noreferrer\"><code>FixedUpdate</code></a></p>\n"}], "owner": {"reputation": 1, "user_id": 12021025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d2fe7a58a1632288aac3c403286689?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas Ferraz", "link": "https://stackoverflow.com/users/12021025/lucas-ferraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568144605, "creation_date": 1567615880, "last_edit_date": 1567629905, "question_id": 57792784, "link": "https://stackoverflow.com/questions/57792784/rotation-is-changing-objects-x-axis", "title": "Rotation is changing object&#39;s x axis", "body": "<p>I need to make the object move around the scene and jump, but every time the object rotates it changes the axis of motion. How can I ensure that the rotation of the object does not influence its movement?</p>\n\n<pre><code>public float forca = 300f;\npublic Rigidbody2D Bola;\npublic float movdir = 5f;\npublic float moveesq = -5f;\n\n\n\n\n// Start is called before the first frame update\nvoid Start()\n{\n\n}\n\n// Update is called once per frame\nvoid Update()\n{\n    if (Input.GetKeyDown(KeyCode.Space))\n    {\n        Bola.AddForce(new Vector2(0, forca * Time.deltaTime), ForceMode2D.Impulse);\n    }\n\n    if (Input.GetKey(KeyCode.RightArrow))\n    {\n        Bola.transform.Translate(new Vector2(movdir * Time.deltaTime, 0));\n    }\n\n    if (Input.GetKey(KeyCode.LeftArrow))\n    {\n        Bola.transform.Translate(new Vector2(moveesq * Time.deltaTime, 0));\n    }\n</code></pre>\n"}, {"tags": ["c#", "php"], "comments": [{"owner": {"reputation": 112, "user_id": 1313328, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/df0d87d3fdb8c820328180553635ea66?s=128&d=identicon&r=PG", "display_name": "ShubhamD", "link": "https://stackoverflow.com/users/1313328/shubhamd"}, "edited": false, "score": 0, "creation_date": 1567616043, "post_id": 57792775, "comment_id": 102018838, "body": "I have not tried your code but you must use POST method because you are using POST in C# curl_setopt($curl, CURLOPT_POST, true);"}, {"owner": {"reputation": 43, "user_id": 1176886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e5bd788243b9124e02045f27168865c?s=128&d=identicon&r=PG", "display_name": "Kosta Stojcev", "link": "https://stackoverflow.com/users/1176886/kosta-stojcev"}, "reply_to_user": {"reputation": 112, "user_id": 1313328, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/df0d87d3fdb8c820328180553635ea66?s=128&d=identicon&r=PG", "display_name": "ShubhamD", "link": "https://stackoverflow.com/users/1313328/shubhamd"}, "edited": false, "score": 0, "creation_date": 1567616105, "post_id": 57792775, "comment_id": 102018867, "body": "i have that: webrequest.Method = &quot;POST&quot;;"}, {"owner": {"reputation": 112, "user_id": 1313328, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/df0d87d3fdb8c820328180553635ea66?s=128&d=identicon&r=PG", "display_name": "ShubhamD", "link": "https://stackoverflow.com/users/1313328/shubhamd"}, "edited": false, "score": 0, "creation_date": 1567616157, "post_id": 57792775, "comment_id": 102018890, "body": "Yes that&#39;s what i am saying you should use it in PHP also as you have it in C#"}, {"owner": {"reputation": 6615, "user_id": 1303868, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6bc2ad4c62572ad8df0b54d91e17617f?s=128&d=identicon&r=PG", "display_name": "ficuscr", "link": "https://stackoverflow.com/users/1303868/ficuscr"}, "edited": false, "score": 1, "creation_date": 1567616263, "post_id": 57792775, "comment_id": 102018930, "body": "What &quot;doesn&#39;t work&quot;? No errors? Having insight into both server and client sides you should be able to debug this further than it seems you have. At a glance would expect SSL <i>verify</i> issues. Could test using HTTP to see if that is all."}, {"owner": {"reputation": 43, "user_id": 1176886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e5bd788243b9124e02045f27168865c?s=128&d=identicon&r=PG", "display_name": "Kosta Stojcev", "link": "https://stackoverflow.com/users/1176886/kosta-stojcev"}, "edited": false, "score": 0, "creation_date": 1567617223, "post_id": 57792775, "comment_id": 102019328, "body": "PHP code is the one that is working. I remove the POST but still is not working.  Error that i am getting back is: The underlying connection was closed: An unexpected error occurred on a send."}, {"owner": {"reputation": 43, "user_id": 1176886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e5bd788243b9124e02045f27168865c?s=128&d=identicon&r=PG", "display_name": "Kosta Stojcev", "link": "https://stackoverflow.com/users/1176886/kosta-stojcev"}, "edited": false, "score": 0, "creation_date": 1567617585, "post_id": 57792775, "comment_id": 102019476, "body": "The handshake failed due to an unexpected packet format. Error shows on screen"}, {"owner": {"reputation": 7159, "user_id": 1251127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w1M26.jpg?s=128&g=1", "display_name": "ESG", "link": "https://stackoverflow.com/users/1251127/esg"}, "edited": false, "score": 1, "creation_date": 1567635018, "post_id": 57792775, "comment_id": 102025424, "body": "At a glance, the php code is disabling SSL validation, which you are not doing on the C# side of things"}, {"owner": {"reputation": 43, "user_id": 1176886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e5bd788243b9124e02045f27168865c?s=128&d=identicon&r=PG", "display_name": "Kosta Stojcev", "link": "https://stackoverflow.com/users/1176886/kosta-stojcev"}, "edited": false, "score": 0, "creation_date": 1567668226, "post_id": 57792775, "comment_id": 102032905, "body": "i did try to disable it with puthing this on top of the code: ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 1176886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e5bd788243b9124e02045f27168865c?s=128&d=identicon&r=PG", "display_name": "Kosta Stojcev", "link": "https://stackoverflow.com/users/1176886/kosta-stojcev"}, "edited": false, "score": 0, "creation_date": 1567665022, "post_id": 57796180, "comment_id": 102031539, "body": "I try this and i am getting the following exeption: &quot;Keep-Alive and Close may not be set using this property.\\r\\nParameter name: value&quot; When i remove tha line i get this exeption: ErrorException = {&quot;Input string was not in a correct format.&quot;}"}], "tags": [], "owner": {"reputation": 563, "user_id": 10491171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8923bd329efae398c456f2dbb1441975?s=128&d=identicon&r=PG&f=1", "display_name": "terrencep", "link": "https://stackoverflow.com/users/10491171/terrencep"}, "is_accepted": false, "score": 0, "last_activity_date": 1567634747, "creation_date": 1567634747, "answer_id": 57796180, "question_id": 57792775, "link": "https://stackoverflow.com/questions/57792775/convert-curl-call-to-c/57796180#57796180", "title": "Convert CURL call to C#", "body": "<p>My recommendation going forward is to import the curl request into postman and then export it as c#.</p>\n\n<p>In postman you can paste the raw curl and then once it's imported, you'll see a link for 'code' and you can select c#.  It uses the  restsharp package available on nuget.</p>\n"}], "owner": {"reputation": 43, "user_id": 1176886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e5bd788243b9124e02045f27168865c?s=128&d=identicon&r=PG", "display_name": "Kosta Stojcev", "link": "https://stackoverflow.com/users/1176886/kosta-stojcev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 375, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1567635090, "creation_date": 1567615857, "last_edit_date": 1567635090, "question_id": 57792775, "link": "https://stackoverflow.com/questions/57792775/convert-curl-call-to-c", "title": "Convert CURL call to C#", "body": "<p>I am trying to convert the following PHP cUrl call into c# 4.0 .net code but it is not working properly. My connection is not established and i am not getting result back.\nHere is the PHP working code:</p>\n\n<pre><code>&lt;?php\n    $user = \"root\";\n    $token = \"aaaaaa\";\n\n        $query = \"https://127.0.0.1:2087/json-api/listaccts?api.version=1\";\n\n    $curl = curl_init();\n    curl_setopt($curl, CURLOPT_SSL_VERIFYHOST,0);\n    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER,0);\n    curl_setopt($curl, CURLOPT_RETURNTRANSFER,1);\n\n    $header[0] = \"Authorization: whm $user:$token\";\n    echo $header[0];\n    curl_setopt($curl,CURLOPT_HTTPHEADER,$header);\n    curl_setopt($curl, CURLOPT_URL, $query);\n\n    $result = curl_exec($curl);\n\n    $http_status = curl_getinfo($curl, CURLINFO_HTTP_CODE);\n    if ($http_status != 200) {\n        echo \"[!] Error: \" . $http_status . \" returned\\n\";\n    } else {\n        $json = json_decode($result);\n        echo \"[+] Current cPanel users on the system:\\n\";\n        foreach ($json-&gt;{'data'}-&gt;{'acct'} as $userdetails) {\n            echo \"\\t\" . $userdetails-&gt;{'user'} . \"\\n\";\n        }\n    }\n\n    curl_close($curl);\n?&gt;\n</code></pre>\n\n<p>I did try this code but so far not working</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>string user = \"root\";\nstring token = \"aaaaaa\";\nstring appCallbackURL = \"https://127.0.0.1:2087/json-api/listaccts?api.version=1\";\n\nHttpWebRequest webrequest = (HttpWebRequest)WebRequest.Create(appCallbackURL);\nwebrequest.Method = \"POST\";\nwebrequest.ContentType = \"application/json\";\nwebrequest.Headers.Add(\"Authorization: whm \" + user + \":\" + token);\n\n\nvar response = webrequest.GetResponse();\n</code></pre>\n\n<p>Can someone help me to convert the PHP code in working c# .net 4.0 code?\nThanks</p>\n"}, {"tags": ["c#", "visual-studio-code"], "comments": [{"owner": {"reputation": 60165, "user_id": 836330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47fd5f542a64b8b2dac00112a4829de8?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/836330/mark"}, "edited": false, "score": 0, "creation_date": 1567628659, "post_id": 57792639, "comment_id": 102023478, "body": "See my answer here <a href=\"https://stackoverflow.com/questions/52786022/shortcut-for-running-terminal-command-in-vs-code/52786528#52786528\" title=\"shortcut for running terminal command in vs code\">stackoverflow.com/questions/52786022/&hellip;</a> using <code>sendSequence</code>"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 9133299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8gpF7Bi-UbA/AAAAAAAAAAI/AAAAAAAAABw/eEKFLbBVl1Y/photo.jpg?sz=128", "display_name": "JBatstone", "link": "https://stackoverflow.com/users/9133299/jbatstone"}, "is_accepted": false, "score": 1, "last_activity_date": 1567616519, "creation_date": 1567616519, "answer_id": 57792915, "question_id": 57792639, "link": "https://stackoverflow.com/questions/57792639/is-there-a-keybind-to-quickly-run-c-in-vscode/57792915#57792915", "title": "Is there a keybind to quickly run C# in VSCode", "body": "<p>Not sure about VSCode, but in normal VS build is Shift+Ctrl+B</p>\n"}, {"tags": [], "owner": {"reputation": 243, "user_id": 11999903, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mArlBAHKa2sBcWE0ukXWnzf08owZejLx_C15-Ozhw=k-s128", "display_name": "Pedro Brito", "link": "https://stackoverflow.com/users/11999903/pedro-brito"}, "is_accepted": false, "score": 1, "last_activity_date": 1567616525, "creation_date": 1567616525, "answer_id": 57792918, "question_id": 57792639, "link": "https://stackoverflow.com/questions/57792639/is-there-a-keybind-to-quickly-run-c-in-vscode/57792918#57792918", "title": "Is there a keybind to quickly run C# in VSCode", "body": "<p>You can install an extension to help you with that. Here is some information: <a href=\"https://www.dotnetcurry.com/aspnet/1373/debugging-aspnet-core-using-visual-studio-code\" rel=\"nofollow noreferrer\">https://www.dotnetcurry.com/aspnet/1373/debugging-aspnet-core-using-visual-studio-code</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12593006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZXn9g.jpg?s=128&g=1", "display_name": "Nader", "link": "https://stackoverflow.com/users/12593006/nader"}, "is_accepted": false, "score": 0, "last_activity_date": 1594995061, "last_edit_date": 1594995061, "creation_date": 1594981049, "answer_id": 62951921, "question_id": 57792639, "link": "https://stackoverflow.com/questions/57792639/is-there-a-keybind-to-quickly-run-c-in-vscode/62951921#62951921", "title": "Is there a keybind to quickly run C# in VSCode", "body": "<p>From the VS Code extensions Marketplace download and install the &quot;<strong>terminal-command-keys</strong>&quot; (by Pete Kinnecom) extension.</p>\n<p>Open &quot;<strong>keybindings.json</strong>&quot; file (View &gt; Command Palette &gt; search for: &quot; &gt;preferences:Open Keyboard Shortcuts (JSON)&quot;</p>\n<p>In &quot;keybindings.json&quot; file put the following code <strong>inside the brackets</strong> &quot;[]&quot; :</p>\n<pre><code>{\n    &quot;key&quot;: &quot;cmd+3&quot;,\n    &quot;command&quot;:&quot;terminalCommandKeys.run&quot;,\n    &quot;args&quot;:{\n        &quot;cmd&quot;: &quot;dotnet run&quot;\n    }\n\n}\n</code></pre>\n<p><strong>Save</strong> your &quot;keybindings.json&quot; file. (I have assigned &quot;cmd + 3&quot; key combination to &quot;dotnet run&quot; command. Use your own favorite key combination!</p>\n<p>Notes:</p>\n<ol>\n<li>There is <strong>no space</strong> between cmd and + and 3 in the code.</li>\n<li>Pay attention to <strong>letter case</strong> of &quot;terminalCommandKeys.run&quot;.</li>\n<li>Just to be sure, <strong>restart</strong> VS Code.</li>\n</ol>\n<p>Source: <a href=\"https://medium.com/swlh/how-to-assign-terminal-commands-onto-keybindings-in-vs-code-streamlining-your-debugging-process-a42a027c38d3\" rel=\"nofollow noreferrer\">Medium: Francis Mendez\n</a></p>\n"}], "owner": {"reputation": 90, "user_id": 10442109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/badbfa160ae7e73768265742987ba6e3?s=128&d=identicon&r=PG&f=1", "display_name": "Seraphendipity", "link": "https://stackoverflow.com/users/10442109/seraphendipity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1594995061, "creation_date": 1567615278, "question_id": 57792639, "link": "https://stackoverflow.com/questions/57792639/is-there-a-keybind-to-quickly-run-c-in-vscode", "title": "Is there a keybind to quickly run C# in VSCode", "body": "<p>I am attempting to learn <code>C#</code>, and found the standard <code>Ctrl+Alt+N</code> does not work, and the tutorials online regarding building <code>C#</code> projects all seem to only mention using the command line with <code>dotnet run</code>. I have no problem with the command line, but it would greatly help my workflow if I didn't have to switch to mouse or trackpad to click the terminal and then back again.</p>\n"}, {"tags": ["c#", "entity-framework", "async-await"], "comments": [{"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 1, "creation_date": 1567615813, "post_id": 57792631, "comment_id": 102018738, "body": "<code>will both pause the thread they are running on until the call is returned?</code> No. The first approach blocks the thread while waiting for the database to return, tying up a thread that could otherwise be servicing incoming web requests (or other work); the second schedules a continuation to resume after the database bit finishes, freeing up the the current thread to service other requests."}, {"owner": {"reputation": 2056, "user_id": 9285310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307e5982c5095f4597ff2eed7f8fa428?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Trainer", "link": "https://stackoverflow.com/users/9285310/tristan-trainer"}, "reply_to_user": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1567616178, "post_id": 57792631, "comment_id": 102018902, "body": "So I understand that point absolutely, but if you are creating a chain of Async-&gt; Await-&gt;Async-&gt;Await then the previous method can&#39;t continue anyway until the subsequent async method returns surely?"}, {"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1567616626, "post_id": 57792631, "comment_id": 102019075, "body": "Yes, but that doesn&#39;t mean the thread is blocked."}, {"owner": {"reputation": 2056, "user_id": 9285310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307e5982c5095f4597ff2eed7f8fa428?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Trainer", "link": "https://stackoverflow.com/users/9285310/tristan-trainer"}, "reply_to_user": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1567616897, "post_id": 57792631, "comment_id": 102019190, "body": "Ah I see, so it does release the thread for use elsewhere? Until the continuation is called?"}], "answers": [{"comments": [{"owner": {"reputation": 2056, "user_id": 9285310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307e5982c5095f4597ff2eed7f8fa428?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Trainer", "link": "https://stackoverflow.com/users/9285310/tristan-trainer"}, "edited": false, "score": 0, "creation_date": 1567617845, "post_id": 57793078, "comment_id": 102019582, "body": "Cheers that&#39;s really helpful thank you! I didn&#39;t realise that Await releases the thread for other use, then continues when the task returns! I figured it held the calling thread still because of the await! :)"}, {"owner": {"reputation": 2056, "user_id": 9285310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307e5982c5095f4597ff2eed7f8fa428?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Trainer", "link": "https://stackoverflow.com/users/9285310/tristan-trainer"}, "edited": false, "score": 0, "creation_date": 1567625938, "post_id": 57793078, "comment_id": 102022790, "body": "I&#39;ve just realised something though.. yes it releases the calling thread, but another thread is used for the Task created, so the same number of threads is still being used. The only time it makes sense is when you are calling an external service right? Where that service will have its own set of threads?"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 2056, "user_id": 9285310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307e5982c5095f4597ff2eed7f8fa428?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Trainer", "link": "https://stackoverflow.com/users/9285310/tristan-trainer"}, "edited": false, "score": 0, "creation_date": 1567626110, "post_id": 57793078, "comment_id": 102022854, "body": "The task does not necessarily create another thread. It should only be used for I/O type operations (reading from the network, or the hard drive), where there truly is nothing for the CPU to do while it waits. If you try to use it for CPU processing, there is no benefit other than moving it to another thread (which you may want to do in a desktop app anyway, for example)"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 2056, "user_id": 9285310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307e5982c5095f4597ff2eed7f8fa428?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Trainer", "link": "https://stackoverflow.com/users/9285310/tristan-trainer"}, "edited": false, "score": 1, "creation_date": 1567626178, "post_id": 57793078, "comment_id": 102022879, "body": "This is a helpful read: <a href=\"https://blog.stephencleary.com/2013/11/there-is-no-thread.html\" rel=\"nofollow noreferrer\">There Is No Thread</a>"}, {"owner": {"reputation": 2056, "user_id": 9285310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307e5982c5095f4597ff2eed7f8fa428?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Trainer", "link": "https://stackoverflow.com/users/9285310/tristan-trainer"}, "edited": false, "score": 0, "creation_date": 1567626434, "post_id": 57793078, "comment_id": 102022970, "body": "That&#39;s perfect thank you <code>there is no benefit other than moving it to another thread</code> that is what my thought process was, if it&#39;s internal then it doesn&#39;t change anything. However external I definitely understand that. I will have a read, thank you :)"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 2056, "user_id": 9285310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307e5982c5095f4597ff2eed7f8fa428?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Trainer", "link": "https://stackoverflow.com/users/9285310/tristan-trainer"}, "edited": false, "score": 0, "creation_date": 1567628657, "post_id": 57793078, "comment_id": 102023477, "body": "Just remember that it&#39;s external to the CPU. There is still waiting involved if you&#39;re reading the hard drive and other stuff can be done even in that short amount of time. In your example of using ASP.NET and Entity Framework, it makes even more sense to use async whenever possible."}], "tags": [], "owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "is_accepted": false, "score": 3, "last_activity_date": 1567617287, "creation_date": 1567617287, "answer_id": 57793078, "question_id": 57792631, "link": "https://stackoverflow.com/questions/57792631/in-entity-framework-when-should-i-use-firstordefaultasync-or-firstordefault/57793078#57793078", "title": "In Entity Framework when should I use FirstOrDefaultAsync or FirstOrDefault?", "body": "<p>Think about other people!</p>\n\n<p>I joke, but that really <em>is</em> the point. The synchronous method will force the thread to sit idle until the results are returned.</p>\n\n<p>The asynchronous method will free up the thread to do other things while waiting. In the case of ASP.NET, for example, the thread could start working on another request for someone else that just came in. That is especially important since ASP.NET has a limited number of threads.</p>\n\n<p>In a desktop app, if you're on the UI thread, it will free up the thread to respond to user input. (I'm sure you've experienced apps freeze up when they go off and do something - that's annoying)</p>\n\n<p>There is a really good Microsoft article about this that should help clear things up: <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/\" rel=\"nofollow noreferrer\">Asynchronous programming with async and await</a></p>\n"}, {"comments": [{"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 2, "creation_date": 1567628715, "post_id": 57794880, "comment_id": 102023498, "body": "Just remember that &quot;a while&quot; in CPU-land is different than &quot;a while&quot; in the human world. A CPU can do a lot in 100ms."}], "tags": [], "owner": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "is_accepted": false, "score": 1, "last_activity_date": 1567625970, "creation_date": 1567625970, "answer_id": 57794880, "question_id": 57792631, "link": "https://stackoverflow.com/questions/57792631/in-entity-framework-when-should-i-use-firstordefaultasync-or-firstordefault/57794880#57794880", "title": "In Entity Framework when should I use FirstOrDefaultAsync or FirstOrDefault?", "body": "<p>Async/Await is not always better.  The dotnet CLR has to manage the threads which produces overhead so if it's a small data table then it will probably be faster to perform .FirstOrDefault().  However if there is an expectation that the call may take a while to produce a result you will want to use .FirstOrDefaultAsync().</p>\n"}], "owner": {"reputation": 2056, "user_id": 9285310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307e5982c5095f4597ff2eed7f8fa428?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Trainer", "link": "https://stackoverflow.com/users/9285310/tristan-trainer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1982, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1567626048, "creation_date": 1567615240, "last_edit_date": 1567626048, "question_id": 57792631, "link": "https://stackoverflow.com/questions/57792631/in-entity-framework-when-should-i-use-firstordefaultasync-or-firstordefault", "title": "In Entity Framework when should I use FirstOrDefaultAsync or FirstOrDefault?", "body": "<p>I am using Entity Framework in my ASP.NET Web API. In a query method, I could either choose to use the standard LINQ method <code>FirstOrDefault()</code> or the EF method <code>FirstOrDefaultAsync()</code>. When is it correct to use one or other of these?</p>\n\n<p>To my knowledge using:</p>\n\n<pre><code>var users = context.Users.FirstOrDefault(user =&gt; user.id == Id);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>var users = await context.Users.FirstOrDefaultAsync(user =&gt; user.id == Id);\n</code></pre>\n\n<p>will both pause the thread they are running on until the call is returned? The only advantage of the <code>Async</code> method is that it can be <code>Awaited</code> in an <code>Async</code> method. However if that method is also being await then it's irrelevant? Except that you trigger another thread to be created surely?</p>\n\n<pre><code>public async Task MethodOneAsync() {\n  await MethodTwoAsync();\n}\n\npublic async Task MethodTwoAsync() {\n  await context.Users.FirstOrDefaultAsync(..);\n  ...\n}\n</code></pre>\n\n<p>Is this the same as doing:</p>\n\n<pre><code>public async void MethodOneAsync() {\n  MethodTwo();\n  ... await something else to 'please' the async nature, or remove async all together ...\n}\n\npublic void MethodTwo() {\n  context.Users.FirstOrDefault(..);\n  ...\n}\n</code></pre>\n\n<p>Thanks, just trying to clear up my own confusion.</p>\n\n<p>Note: This is the example I mean</p>\n\n<p><a href=\"https://i.stack.imgur.com/5nsxtm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5nsxtm.png\" alt=\"Async method chain\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/aywgfm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aywgfm.png\" alt=\"Sync method chain\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/29kSvm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/29kSvm.png\" alt=\"timings and orders\"></a></p>\n\n<p>These show what I mean by a chain and the timings (9 and 0) are in milliseconds. So the Async methods took longer to run (relatively).</p>\n\n<p>EDIT:\nIn the comments it has been stated that the reason to do this is it releases the thread, however if the method being called is internal to the server then surely it's releasing one thread just to start the called code another thread?</p>\n"}, {"tags": ["c#", "visual-studio", "winforms", "nuget", "clickonce"], "comments": [{"owner": {"reputation": 938, "user_id": 4380513, "user_type": "registered", "profile_image": "https://graph.facebook.com/553865196/picture?type=large", "display_name": "Zakk Diaz", "link": "https://stackoverflow.com/users/4380513/zakk-diaz"}, "edited": false, "score": 1, "creation_date": 1567617040, "post_id": 57792588, "comment_id": 102019247, "body": "The thing about Nuget is that it&#39;s going to download and install the .dll&#39;s and all the dependencies. You might not be able to safely delete any, but if you can then you could make a script to package only the necessary deployed files and copy only those across the network. If you&#39;re using .net Core then you&#39;re going to need a lot more dependencies for winforms."}, {"owner": {"reputation": 632, "user_id": 3777164, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/01c890f0b532a029c1f3f331c8ef918b?s=128&d=identicon&r=PG", "display_name": "beeker", "link": "https://stackoverflow.com/users/3777164/beeker"}, "reply_to_user": {"reputation": 938, "user_id": 4380513, "user_type": "registered", "profile_image": "https://graph.facebook.com/553865196/picture?type=large", "display_name": "Zakk Diaz", "link": "https://stackoverflow.com/users/4380513/zakk-diaz"}, "edited": false, "score": 0, "creation_date": 1567701757, "post_id": 57792588, "comment_id": 102051100, "body": "Ok, appreciate the info."}, {"owner": {"reputation": 632, "user_id": 3777164, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/01c890f0b532a029c1f3f331c8ef918b?s=128&d=identicon&r=PG", "display_name": "beeker", "link": "https://stackoverflow.com/users/3777164/beeker"}, "edited": false, "score": 0, "creation_date": 1567994692, "post_id": 57792588, "comment_id": 102121296, "body": "Haven\u2019t been back to work yet :)"}, {"owner": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1568099233, "post_id": 57792588, "comment_id": 102156508, "body": "Ok, any update feel free to let me know :)"}], "answers": [{"comments": [{"owner": {"reputation": 632, "user_id": 3777164, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/01c890f0b532a029c1f3f331c8ef918b?s=128&d=identicon&r=PG", "display_name": "beeker", "link": "https://stackoverflow.com/users/3777164/beeker"}, "edited": false, "score": 0, "creation_date": 1568137880, "post_id": 57816539, "comment_id": 102176676, "body": "I was able to remove a few of the languages and this helped save me a bit on the deployment size, thanks!"}], "tags": [], "owner": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1567749866, "last_edit_date": 1592644375, "creation_date": 1567749866, "answer_id": 57816539, "question_id": 57792588, "link": "https://stackoverflow.com/questions/57792588/clickonce-deployment-size-ballooned-after-adding-nuget-package/57816539#57816539", "title": "Clickonce Deployment Size Ballooned After Adding NuGet Package", "body": "<blockquote>\n<p>If anyone can suggest how I can get back to a smaller deployment size,\nit would be very much appreciated. Thanks.</p>\n</blockquote>\n<p>For this issue, I think you can feel free to remove the additional packs before you publish the project to reduce the deployment size.</p>\n<p>Let us check the content in the <code>Microsoft.ReportingServices.ReportViewerControl.Winforms</code> package's lib folder:</p>\n<p><a href=\"https://i.stack.imgur.com/3kA6d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3kA6d.png\" alt=\"enter image description here\" /></a></p>\n<p>It's obvious that it have ten language packs which contains the assemblies for different culture.All the ten laguage packs have these four assemblies:</p>\n<p><a href=\"https://i.stack.imgur.com/nX5GV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nX5GV.png\" alt=\"enter image description here\" /></a></p>\n<p>When you reference this nuget package in your project and build the project, it will use the base English version.(In my machine with English language)</p>\n<p>But when we use ClickOnce to publish it, it will fetch <strong>all</strong> assemblies in the lib folder, which is the main cause why <code>your deployment size has ballooned to 80+mb</code>. So if you're using English environment or other language environment you can exclude <strong>unnecessary</strong> assemblies in those language packs you don't use in the <code>Application Files setting</code> in <code>Project=&gt;Properties=&gt; Publish</code>. See:</p>\n<p><a href=\"https://i.stack.imgur.com/ehIUm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ehIUm.png\" alt=\"enter image description here\" /></a></p>\n<p>I excluded the additional ones which I don't need and it reduced for almost 40mb size in my machine. Also, similar issue see <a href=\"https://stackoverflow.com/questions/49553482/can-i-remove-the-reportviewer-language-packs-with-clickonce-installer\">here</a>. Hope it helps :)</p>\n"}], "owner": {"reputation": 632, "user_id": 3777164, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/01c890f0b532a029c1f3f331c8ef918b?s=128&d=identicon&r=PG", "display_name": "beeker", "link": "https://stackoverflow.com/users/3777164/beeker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 57816539, "answer_count": 1, "score": 1, "last_activity_date": 1567749866, "creation_date": 1567615007, "question_id": 57792588, "link": "https://stackoverflow.com/questions/57792588/clickonce-deployment-size-ballooned-after-adding-nuget-package", "title": "Clickonce Deployment Size Ballooned After Adding NuGet Package", "body": "<p>I'm doing some work on one of my Winforms applications that was created in VS2017.  I'm doing the new work in VS2019.  The application contains the Winforms report viewer control which wasn't working properly in VS2019 so I followed the advice given in <a href=\"https://stackoverflow.com/questions/40713705/reportviewer-tool-missing-in-visual-studio-2017-rc\">this post</a> to get everything working again.  This means, adding a nuget package to the project and directly referencing the required libraries from the \"packages\" folder in the project directory.  </p>\n\n<p>The application is working fine now, however, the issue comes when I try to publish using clickonce.  Under the \"Publish\" > \"Application Files...\" there are MANY more references there then previously (without nuget package) and, when I publish my deployment size has ballooned to 80+mb.  This is a global application and copying 80+mb can be a bit time consuming over the WAN.  </p>\n\n<p>If anyone can suggest how I can get back to a smaller deployment size, it would be very much appreciated.  Thanks.</p>\n\n<p>Application is: .NET Framework 4.5, Winforms, with NuGet Packages: Microsoft.ReportingServices.ReportViewerControl.Winforms and Microsoft.SqlServerTypes</p>\n"}, {"tags": ["c#", "outlook", "smtp", "gmail", "mimekit"], "answers": [{"comments": [{"owner": {"reputation": 4018, "user_id": 4935452, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/740beec4e62c85c0d00c00bfe418c664?s=128&d=identicon&r=PG&f=1", "display_name": "Jaime", "link": "https://stackoverflow.com/users/4935452/jaime"}, "edited": false, "score": 0, "creation_date": 1567629422, "post_id": 57795129, "comment_id": 102023771, "body": "thanks, I will try. Regarding User and Notifier, they are really longer name, but what&#39;s wrong with automated messages. It is indeed an automated message, as any other."}, {"owner": {"reputation": 28276, "user_id": 87117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f9e45dad82da556b0acabdbf3be8452?s=128&d=identicon&r=PG", "display_name": "jstedfast", "link": "https://stackoverflow.com/users/87117/jstedfast"}, "reply_to_user": {"reputation": 4018, "user_id": 4935452, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/740beec4e62c85c0d00c00bfe418c664?s=128&d=identicon&r=PG&f=1", "display_name": "Jaime", "link": "https://stackoverflow.com/users/4935452/jaime"}, "edited": false, "score": 0, "creation_date": 1567631171, "post_id": 57795129, "comment_id": 102024375, "body": "The problem isn&#39;t automated messages. How many legitimate automated messages do you receive that refer to you as &quot;User&quot;? I&#39;m betting none. The only ones that I&#39;ve ever seen that refer to the recipient as &quot;User&quot; are fishing emails or fraud. Hence the potential negative bias in Google&#39;s filters."}, {"owner": {"reputation": 4018, "user_id": 4935452, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/740beec4e62c85c0d00c00bfe418c664?s=128&d=identicon&r=PG&f=1", "display_name": "Jaime", "link": "https://stackoverflow.com/users/4935452/jaime"}, "edited": false, "score": 0, "creation_date": 1567659288, "post_id": 57795129, "comment_id": 102029834, "body": "I repeat: the username is longer. &#39;User&#39; has been used for the sake of privacy and simplicity."}], "tags": [], "owner": {"reputation": 28276, "user_id": 87117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f9e45dad82da556b0acabdbf3be8452?s=128&d=identicon&r=PG", "display_name": "jstedfast", "link": "https://stackoverflow.com/users/87117/jstedfast"}, "is_accepted": true, "score": 0, "last_activity_date": 1567627933, "creation_date": 1567627933, "answer_id": 57795129, "question_id": 57792528, "link": "https://stackoverflow.com/questions/57792528/emails-sent-with-mimekit-outlook-are-falling-to-gmails-spam-folder-for-the-fi/57795129#57795129", "title": "Emails sent with MimeKit / Outlook are falling to gmail&#39;s spam folder for the first time", "body": "<p>I have a few thoughts but no definitive answers for you because I don't have inside knowledge of how Google does their spam categorizing.</p>\n\n<ol>\n<li><p>Avoid using names like \"User\" and \"Notifier\" in email addresses. That screams \"automated message\" to me and Google likely has semantics that weigh that type of naming convention as having a \"spam\" and/or \"fishing\" bias.</p></li>\n<li><p>Try setting the Content-Transfer-Encoding of the <code>text/plain</code> and <code>text/html</code> parts to something other than base64; I might suggest <code>quoted-printable</code>:</p>\n\n<pre><code>foreach (var part in message.BodyParts.OfType&lt;TextPart&gt; ())\n    part.ContentTransferEncoding = ContentEncoding.QuotedPrintable;\n</code></pre></li>\n<li><p>This likely isn't an issue, but it's possible, so I'll mention it. Avoid using <code>\"@localhost.localdomain\"</code> in the Message-Id header. If MimeKit is generating those, it's because it doesn't know what your hostname is and couldn't figure it out, but you can override this behavior by doing this:</p>\n\n<pre><code>message.MessageId = MimeUtils.GenerateMessageId (\"efferenthealthllc.onmicrosoft.com\");\n</code></pre></li>\n<li><p>Maybe try removing the Content-Id header from the <code>text/html</code> part? Again, I don't see this is likely to be an issue, but it's worth a shot of none of the above changes fix things.</p>\n\n<pre><code>foreach (var part in message.BodyParts.OfType&lt;TextPart&gt; ())\n    part.ContentId = null;\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 4018, "user_id": 4935452, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/740beec4e62c85c0d00c00bfe418c664?s=128&d=identicon&r=PG&f=1", "display_name": "Jaime", "link": "https://stackoverflow.com/users/4935452/jaime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 813, "favorite_count": 0, "accepted_answer_id": 57795129, "answer_count": 1, "score": 0, "last_activity_date": 1567627933, "creation_date": 1567614681, "last_edit_date": 1567623716, "question_id": 57792528, "link": "https://stackoverflow.com/questions/57792528/emails-sent-with-mimekit-outlook-are-falling-to-gmails-spam-folder-for-the-fi", "title": "Emails sent with MimeKit / Outlook are falling to gmail&#39;s spam folder for the first time", "body": "<p>We are using MimeKit as SMTP client for sending emails to our users. Typically, the first time it arrives to their gmail accounts, it falls into the spam box. Then if removed the 'spam' flag, subsequent emails stay in the inbox.</p>\n\n<p>Is there something necessary to do at C# level? or maybe at Outlook/Azure-DNS level?</p>\n\n<p>The C# code snippet is as follows:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>            var message = new MimeMessage();\n            message.From.Add(new MailboxAddress(\"Notifier\", smtpUser));\n            message.To.Add(new MailboxAddress(\"User\", recipient));\n            message.Subject = subject;\n\n            var bodyBuilder = new BodyBuilder() { HtmlBody = html, TextBody = text };\n            message.Body = bodyBuilder.ToMessageBody();\n\n                using (var client = new SmtpClient())\n                {\n                    client.ServerCertificateValidationCallback = (s, c, h, e) =&gt; true;\n                    client.Connect(current.SmtpUrl, current.SmtpPort, SecureSocketOptions.StartTls);\n                    client.AuthenticationMechanisms.Remove(\"XOAUTH2\");\n                    client.Authenticate(current.SmtpUser, current.SmtpPass);\n                    client.Send(message);\n                    client.Disconnect(true);\n                }   \n</code></pre>\n\n<p>For the first time, gmail is showing it flagged as 'spam':\n<a href=\"https://i.stack.imgur.com/eX2j5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eX2j5.png\" alt=\"enter image description here\"></a></p>\n\n<p>Pressing 'Looks safe' will make subsequent emails valid, but we need the first one to look safe.</p>\n\n<p>I am attaching also the entire mail content received at gmail:</p>\n\n<pre><code>Delivered-To: jaimeolivaresfalcon@gmail.com\nReceived: by 2002:a0c:f08c:0:0:0:0:0 with SMTP id g12csp672696qvk;\n        Wed, 4 Sep 2019 07:16:38 -0700 (PDT)\nX-Received: by 2002:a9d:3b77:: with SMTP id z110mr8444689otb.93.1567606358405;\n        Wed, 04 Sep 2019 07:12:38 -0700 (PDT)\nX-Google-Smtp-Source: APXvYqw3m+1ZsX0fhLp8SuYRXSxfxUtUaYyLo4BZjxq+nVuni9VUHkVmOBnhBg/vThsIaIoA3chE\nX-Received: by 2002:a9d:3b77:: with SMTP id z110mr8444615otb.93.1567606357487;\n        Wed, 04 Sep 2019 07:12:37 -0700 (PDT)\nARC-Seal: i=2; a=rsa-sha256; t=1567606357; cv=pass;\n        d=google.com; s=arc-20160816;\n        b=MvKIcQqivTBGk3GqNz9MiIMtzUt4gJc0hJMoVHp7LMJyHO+AAiPfDGAdQYy7MwF0YF\n         QRm1vkQL5f2DMC3ukgYsZldfk6A4xwbFqkqSQOtZCqQ7zHk3rusUoTIaO6a2fDn6nIKZ\n         cUY+92Y0+hOpu0MF/bGYCfy+3+ncJxuOVLcgnWuafrlvyQioviQ0LEsiQT4MsoOCu1gd\n         iuCDLz6u+rQ65Rti/FoyHePAaxvQzzjiTFRqXimu4z141Khpbd6x/kzrac5ko7M01DcT\n         jffxtMeD0h+OPBmATBAS9uAo7RCjD5LQXSUrtbYy7PJTbYmakc82O2Xk3r1qSwIGWcpi\n         aOkw==\nARC-Message-Signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;\n        h=mime-version:content-language:accept-language:message-id:date\n         :thread-index:thread-topic:subject:to:from:dkim-signature;\n        bh=LjkQ2fZg1ziyuIJx9jwPMT7LT3T4ABbJmFUMJxavtNY=;\n        b=NHWmx+VtSxm9xrCGtEHdQPhCs7cF8qepGyU/uZ2MDF+dLBQygpghVzD4zwondLS0En\n         CpV/xfSbzx5aRLTnEq3468awqMnPRTmxjT3X/m3VLcq8sSg43ZtJLr5dxlUX2Eyt5Chu\n         v4bnC+0wQM05OCMQkTayCWEE/LL8aqKcJYDuK6wd4vU2cSBUZzieDXczf/ysnodrhWgx\n         vgvlaa4To4rWwbBe6N2C9lSa3xOO8jU+6f4yS1ttThDPljvd/wR7VTHAU5oF4EH/UQ3e\n         wKWdfWv9PPR/Espq66dONAgaqAcauPO35YYhMMu4ND2TCbDqmF7nPoZkf/iitGvYgL78\n         1Xvw==\nARC-Authentication-Results: i=2; mx.google.com;\n       dkim=pass header.i=@efferenthealthllc.onmicrosoft.com header.s=selector2-efferenthealthllc-onmicrosoft-com header.b=ETAIKEtN;\n       arc=pass (i=1 spf=pass spfdomain=efferenthealth.com dkim=pass dkdomain=efferenthealth.com dmarc=pass fromdomain=efferenthealth.com);\n       spf=pass (google.com: domain of notifier@efferenthealth.com designates 2a01:111:f400:fe44::629 as permitted sender) smtp.mailfrom=notifier@efferenthealth.com\nReturn-Path: &lt;notifier@efferenthealth.com&gt;\nReceived: from NAM02-SN1-obe.outbound.protection.outlook.com (mail-sn1nam02on0629.outbound.protection.outlook.com. [2a01:111:f400:fe44::629])\n        by mx.google.com with ESMTPS id k12si10006003oiw.30.2019.09.04.07.12.37\n        for &lt;jaimeolivaresfalcon@gmail.com&gt;\n        (version=TLS1_2 cipher=ECDHE-RSA-AES128-SHA bits=128/128);\n        Wed, 04 Sep 2019 07:12:37 -0700 (PDT)\nReceived-SPF: pass (google.com: domain of notifier@efferenthealth.com designates 2a01:111:f400:fe44::629 as permitted sender) client-ip=2a01:111:f400:fe44::629;\nAuthentication-Results: mx.google.com;\n       dkim=pass header.i=@efferenthealthllc.onmicrosoft.com header.s=selector2-efferenthealthllc-onmicrosoft-com header.b=ETAIKEtN;\n       arc=pass (i=1 spf=pass spfdomain=efferenthealth.com dkim=pass dkdomain=efferenthealth.com dmarc=pass fromdomain=efferenthealth.com);\n       spf=pass (google.com: domain of notifier@efferenthealth.com designates 2a01:111:f400:fe44::629 as permitted sender) smtp.mailfrom=notifier@efferenthealth.com\nARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none; b=NNjokEVhuXR5/dOYj6NjeePpEmQbWt5XFctGf5IRGJuGMHAuAd9cXjCTkqduSGP3bTLRqIYjwDRthcj10zcZVudxgjhe6OB50s8KJAMpXVdh+HvGD1JoqUq2BW9M0qyOQ0YDl6Fq6F3DAWMpWNIZRPlrlaOkNaO8ifHj1okiSrThxzIxuGkzGx5iUt8/S7LOBuvzgkVWoT0NendRzvl/mB1ZQgYWcpBa+PulPlYgCTtktO1rbYZgKr5qFvJGbgBvQ1bnyZtHmZRQrA7mNegfeXrK544dGEcXs1DcFo+vNeNR53dvBWFyPCkmPpdl4+rKGRkfo/PY3B1M+D003HXuqQ==\nARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; s=arcselector9901; h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck; bh=LjkQ2fZg1ziyuIJx9jwPMT7LT3T4ABbJmFUMJxavtNY=; b=G0nSGcuGCOFD8gcKNWVcBAZ2EIGwicBs0yITe0iyVc+3BIm2/QUfSzcPk0+FRIKtklfUru/c/sTaag3j/6RwPp98uj+2I8k/hdLY0+72qvx595t+E+CMXSGyLmBxHYEcgIzWuckwnRdnUaeU0LwLsqKiCLV1QakRniWXnlzdKjvAXozRlHfnx/AOmyGGYUc5u1zTM5VJWmxprCL+bqEOZi1agY4A94MJK5UyW+YEOEgNEJuyx1+pgdpeQkYVqeYVAk5AcFKLgYNBLpxvW0oVqRMECOV6zlI8xJU8qiFaW64qrBQVYQF8nRfQZd8oI3nmIIoPrstNWqgEOH/UEajoNA==\nARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass smtp.mailfrom=efferenthealth.com; dmarc=pass action=none header.from=efferenthealth.com; dkim=pass header.d=efferenthealth.com; arc=none\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=efferenthealthllc.onmicrosoft.com; s=selector2-efferenthealthllc-onmicrosoft-com; h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck; bh=LjkQ2fZg1ziyuIJx9jwPMT7LT3T4ABbJmFUMJxavtNY=; b=ETAIKEtNCHLfnl7Fzp8XUI+NlLP/HVTzkmlFS6XwZsLZP5vOj0hJ+1KASa6mjEAvPJbmM2iDTvCMRW8UfigfVSC6hT04OyaiGjNzOjTkR8gN1TCvzNr7esQzyXR94vmz2MjLiycuhNJJMdGGRUoYZUxGhvj6F0muEBoZZ034GLQ=\nReceived: from BN6PR1401MB2004.namprd14.prod.outlook.com (10.174.116.149) by BN6PR1401MB1907.namprd14.prod.outlook.com (10.174.115.146) with Microsoft SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2220.18; Wed, 4 Sep 2019 14:12:35 +0000\nReceived: from BN6PR1401MB2004.namprd14.prod.outlook.com ([fe80::1de9:93da:5da7:4415]) by BN6PR1401MB2004.namprd14.prod.outlook.com ([fe80::1de9:93da:5da7:4415%11]) with mapi id 15.20.2220.022; Wed, 4 Sep 2019 14:12:35 +0000\nFrom: Notifier &lt;notifier@efferenthealth.com&gt;\nTo: User &lt;jaimeolivaresfalcon@gmail.com&gt;\nSubject: Notification\nThread-Topic: Notification\nThread-Index: AQHVYyrMLhjkfFeVAkmoUM8Y198VPw==\nDate: Wed, 4 Sep 2019 14:12:34 +0000\nMessage-ID: &lt;98UUW7B0H8U4.EB3P8CQCSUEN2@localhost.localdomain&gt;\nAccept-Language: en-US\nContent-Language: en-US\nX-MS-Has-Attach: \nX-MS-TNEF-Correlator: \nx-clientproxiedby: SN4PR0401CA0034.namprd04.prod.outlook.com (2603:10b6:803:2a::20) To BN6PR1401MB2004.namprd14.prod.outlook.com (2603:10b6:405:59::21)\nauthentication-results: spf=none (sender IP is ) smtp.mailfrom=notifier@efferenthealth.com;\nx-ms-exchange-messagesentrepresentingtype: 1\nx-originating-ip: [13.84.163.72]\nx-ms-publictraffictype: Email\nx-ms-office365-filtering-correlation-id: 6291f624-e9b1-484f-f114-08d73141eea5\nx-microsoft-antispam: BCL:0;PCL:0;RULEID:(2390118)(7020095)(4652040)(7021145)(8989299)(4534185)(7022145)(4603075)(4627221)(201702281549075)(8990200)(7048125)(7024125)(7027125)(7023125)(5600166)(711020)(4605104)(1401327)(2017052603328)(7193020);SRVR:BN6PR1401MB1907;\nx-ms-traffictypediagnostic: BN6PR1401MB1907:\nx-ms-exchange-purlcount: 1\nx-microsoft-antispam-prvs: &lt;BN6PR1401MB1907D7529E3B99DE63CB070DA0B80@BN6PR1401MB1907.namprd14.prod.outlook.com&gt;\nx-ms-oob-tlc-oobclassifiers: OLM:660;\nx-forefront-prvs: 0150F3F97D\nx-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(4636009)(366004)(136003)(39830400003)(396003)(42606007)(346002)(376002)(199004)(189003)(66946007)(2906002)(3480700005)(558084003)(476003)(316002)(25786009)(486006)(256004)(508600001)(52116002)(99286004)(66556008)(7116003)(66476007)(33656002)(305945005)(71200400001)(71190400001)(66446008)(64756008)(8936002)(6486002)(7736002)(81156014)(81166006)(8676002)(6306002)(51815007)(10126004)(386003)(6506007)(53936002)(66066001)(86362001)(221733001)(9686003)(236005)(6512007)(606006)(14454004)(6916009)(6436002)(186003)(54896002)(26005)(6116002)(102836004)(3846002)(1411001)(5660300002);DIR:OUT;SFP:1101;SCL:1;SRVR:BN6PR1401MB1907;H:BN6PR1401MB2004.namprd14.prod.outlook.com;FPR:;SPF:None;LANG:en;PTR:InfoNoRecords;A:3;MX:1;\nreceived-spf: None (protection.outlook.com: efferenthealth.com does not designate permitted sender hosts)\nx-ms-exchange-senderadcheck: 1\nx-microsoft-antispam-message-info: bHkvE3Co8At1/X9BzBqbqZFNCIBAppNhqQqCJDoMByjqBv9VGO25sOpCKS8OSh1obZBR1t5nvkdn0CFuuFoGjhwNaXt7MakSQfeS8auVa0d/GUpLb7Y3oJ8Xm2az23Z4+l3YP4ITa5Fhd8DxliNV8JO4ZYDxC6uG3Gh8my4MewFPQScRgUgx49un88gu8zK3MDyUhxIlYB1WjdqPPG3xtQMIBHbA4EuPFa5Is2Jk7D4PsMjrpTvL8GyZVYhgVWC71OrwG7C575IB1XIanF7woc0VZxBlAjh1xY8gaUDYuT7Lc1b/cSKcyUjOG7J0XR8ilS4fp86IaGeKdivi4h2MJ8oqW+A9obH2+GW5NTpBMgvYE7zFNBQhxuuC/jxny7F2zs4z5vacC0HOXeUwgfOLWZsUdZC2SDW6HjXkw0TejIA=\nx-ms-exchange-transport-forked: True\nContent-Type: multipart/alternative; boundary=\"_000_98UUW7B0H8U4EB3P8CQCSUEN2localhostlocaldomain_\"\nMIME-Version: 1.0\nX-OriginatorOrg: efferenthealth.com\nX-MS-Exchange-CrossTenant-Network-Message-Id: 6291f624-e9b1-484f-f114-08d73141eea5\nX-MS-Exchange-CrossTenant-originalarrivaltime: 04 Sep 2019 14:12:34.9389 (UTC)\nX-MS-Exchange-CrossTenant-fromentityheader: Hosted\nX-MS-Exchange-CrossTenant-id: 02ecab7f-85de-4d13-9c86-db5eefd90ee2\nX-MS-Exchange-CrossTenant-mailboxtype: HOSTED\nX-MS-Exchange-CrossTenant-userprincipalname: zj/y6ItrIybuyjEREqOxS6sBThdrcjGbcWxxKICSNnb1h2GZnVz0UsJO0Kcp51LYMrFzeRKKgbFFnJPNgXa2GoLY5CBVrkaMzJbHf0oywnA=\nX-MS-Exchange-Transport-CrossTenantHeadersStamped: BN6PR1401MB1907\n\n--_000_98UUW7B0H8U4EB3P8CQCSUEN2localhostlocaldomain_\nContent-Type: text/plain; charset=\"utf-8\"\nContent-Transfer-Encoding: base64\n\nVGhlIHVzZXIgQSBib3N0b25tZWRpY2FsZ3JvdXAgZnJvbSBCb3N0b24gTWVkaWNhbCBHcm91cCBo\nYXMgc2hhcmVkIHdpdGggeW91IGEgSW1hZ2luZ1N0dWR5IHJlY29yZC4gWW91IGNhbiByZXZpZXcg\nc3dvcmQ9YTM4YWEyMWQtMTJhMy04YTQ1LTZjNTEtMzUwZDNjMzY5ZDcwPg0K\n--_000_98UUW7B0H8U4EB3P8CQCSUEN2localhostlocaldomain_\nContent-Type: text/html; charset=\"utf-8\"\nContent-ID: &lt;28HFX7B0H8U4.5CY7IBFO17VC@localhost.localdomain&gt;\nContent-Transfer-Encoding: base64\n\nPGh0bWw+DQo8aGVhZD4NCjxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0i\ndGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4NCjwvaGVhZD4NCjxib2R5Pg0KVGhlIHVzZXIgQSBi\nb3N0b25tZWRpY2FsZ3JvdXAgZnJvbSBCb3N0b24gTWVkaWNhbCBHcm91cCBoYXMgc2hhcmVkIHdp\ndGggeW91IGEgSW1hZ2luZ1N0dWR5IHJlY29yZC4gWW91IGNhbiByZXZpZXcgaXQgYnkgY2xpY2tp\nbmcgb24gdGhpcyBsaW5rDQo8YSBocmVmPSJodHRwczovL2VmZmVyZW50ZGV2LmF6dXJld2Vic2l0\ncmU8L2E+DQo8L2JvZHk+DQo8L2h0bWw+DQo=\n--_000_98UUW7B0H8U4EB3P8CQCSUEN2localhostlocaldomain_--\n</code></pre>\n"}, {"tags": ["c#", "sql", "stored-procedures", "ssms"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 2, "creation_date": 1567614682, "post_id": 57792466, "comment_id": 102018279, "body": "A SQL Server is multi-threaded and data gets saved and read randomly.  The only way to get data always in the same order is to use an ORDER BY.  If you need to data retrieve i a particular order than add a column with the sequence number."}], "answers": [{"comments": [{"owner": {"reputation": 871, "user_id": 7107548, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce53e74dcdc4ff87ee007c3a565c9517?s=128&d=identicon&r=PG&f=1", "display_name": "Mwspencer", "link": "https://stackoverflow.com/users/7107548/mwspencer"}, "edited": false, "score": 0, "creation_date": 1567632113, "post_id": 57792871, "comment_id": 102024687, "body": "Thank you for the explanation, I will stay away from that assumption even with my tiny tables."}], "tags": [], "owner": {"reputation": 1106495, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "is_accepted": true, "score": 1, "last_activity_date": 1567616311, "creation_date": 1567616311, "answer_id": 57792871, "question_id": 57792466, "link": "https://stackoverflow.com/questions/57792466/assuming-row-order-in-a-string-spit-sql-operation/57792871#57792871", "title": "Assuming Row order in a STRING_SPIT SQL Operation", "body": "<p>SQL tables represent <em>unordered</em> sets.  It is never a good idea to assume that data is in a particular order, unless you use <code>ORDER BY</code>.  Often small datasets that are on a single page will even consistently be ordered as you expect.  But it is still dangerous to use functionality that is documented to not be correct.</p>\n\n<p>If you want to guarantee the ordering, then you can insert the records with <code>order by</code> and an ordering value.  Here is a method using recursive CTEs:</p>\n\n<pre><code>with cte as (\n      select convert(varchar(max), left(@testids, charindex(',', @testids + ',') - 1)) as id,\n             convert(varchar(max), stuff(@testids, 1, charindex(',', @testids + ','), '')) as rest,\n             1 as lev\n      union all\n      select convert(varchar(max), left(rest, charindex(',', rest + ',') - 1)) as id,\n             convert(varchar(max), stuff(rest, 1, charindex(',', rest + ','), '')),\n             lev + 1 as lev\n      from cte\n      where rest &lt;&gt; ''\n     )\nselect trim(id) as id, lev\ninto #testnames\nfrom cte\nwhere trim(id) &lt;&gt; ''\norder by lev;  -- not really needed but handy if you have an identity column\n</code></pre>\n\n<p><a href=\"https://dbfiddle.uk/?rdbms=sqlserver_2017&amp;fiddle=ad2c9400ccdde99975c589f1641d339b\" rel=\"nofollow noreferrer\">Here</a> is a db&lt;>fiddle.</p>\n\n<p>You can retrieve them using:</p>\n\n<pre><code>select tn.*\nfrom #testnames tn\norder by lev;\n</code></pre>\n"}], "owner": {"reputation": 871, "user_id": 7107548, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce53e74dcdc4ff87ee007c3a565c9517?s=128&d=identicon&r=PG&f=1", "display_name": "Mwspencer", "link": "https://stackoverflow.com/users/7107548/mwspencer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 57792871, "answer_count": 1, "score": 0, "last_activity_date": 1567616311, "creation_date": 1567614422, "question_id": 57792466, "link": "https://stackoverflow.com/questions/57792466/assuming-row-order-in-a-string-spit-sql-operation", "title": "Assuming Row order in a STRING_SPIT SQL Operation", "body": "<p>I have a Stored Procedure that needs to make the assumption that row order will always be the same in order to properly run otherwise I will get incorrect data.  The user supplies a string of IDs that will need to be queried, and the Stored Procedure puts this strings into a table using the STRING_SPLIT(@Parameter, ',') operation.  </p>\n\n<p>Is it safe to assume the strings will be place into the table in the order that they are given to the table? I created a unit test and ran it 10000 times, each time checking the order of the table and it passed. So from that I am guessing it is safe to make this assumption. </p>\n\n<p>SQL:</p>\n\n<pre><code>CREATE PROCEDURE [dbo].[sp_TestOrder] @TestIDs varchar(5000)\nAS\n\nIF(OBJECT_ID('tempdb..#TestNames') IS NOT NULL) BEGIN DROP TABLE #TestNames END\n\n-- INTO #FundNames\nSELECT RTRIM(LTRIM(value)) AS TestIDs\n    INTO #TestNames\n    FROM string_split(@TestIDs, ',');\n\nALTER TABLE #TestNames ADD RowNumber INT IDENTITY(1,1)\n\nSELECT * FROM #TestNames\n\nIF(OBJECT_ID('tempdb..#TestNames') IS NOT NULL) BEGIN DROP TABLE #TestNames END\n\nGO\n</code></pre>\n\n<p>Unit Test in C#</p>\n\n<pre><code>[TestMethod]\npublic void SQLOrderTest()\n{\n    // Arrange\n    string testIds = \"3, 5, 1, 10\";\n    string spName = \"[dbo].[sp_TestOrder]\";\n    string ServerName = PARR_DBDataObject.ServerName;\n    string DBName = PARR_DBDataObject.DBName;\n\n    // Act \n    bool results = true;\n\n    for(int i = 0; i &lt; 10000; i++)\n    {\n        DataTable dt = SQL.QueryStoredProcedure(spName, DBName, ServerName, false, 5000,\n                                             new Tuple&lt;string, object&gt;(\"@TestIDs\", testIds));\n        // First Row            \n        if (GetRowNumber(dt, \"3\") != 1) results = false;\n\n        // Second Row            \n        if (GetRowNumber(dt, \"5\") != 2) results = false;\n\n        // Third Row\n        if (GetRowNumber(dt, \"1\") != 3) results = false;\n\n        // Forth Row \n        if (GetRowNumber(dt, \"10\") != 4) results = false;\n    }\n\n    Assert.AreEqual(results, true);\n}\n\nprivate int GetRowNumber(DataTable dt, string TestIDValue)\n{\n    var row = from r in dt.AsEnumerable()\n              where r.Field&lt;string&gt;(\"TestIDs\") == TestIDValue\n              select new\n              {\n                  TestID = r.Field&lt;string&gt;(\"TestIDs\"),\n                  rowNum = r.Field&lt;Int32&gt;(\"RowNumber\")\n\n              };\n    return row.First().rowNum;\n}\n</code></pre>\n"}, {"tags": ["javascript", "c#", "html", "sql", "twitter-bootstrap"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 4759883, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/819805154822233/picture?type=large", "display_name": "Michal Demjan\u010duk", "link": "https://stackoverflow.com/users/4759883/michal-demjan%c4%8duk"}, "is_accepted": false, "score": 0, "last_activity_date": 1569222072, "creation_date": 1569222072, "answer_id": 58057173, "question_id": 57792259, "link": "https://stackoverflow.com/questions/57792259/check-if-two-fields-already-have-an-exact-match-when-submitting-data-to-a-databa/58057173#58057173", "title": "Check if two fields already have an exact match when submitting data to a database with bootstrap?", "body": "<p>What about sending it on controller and check values here, then you can put if condition and check values, if they matches, redirect back with message, which you can store for example in:</p>\n\n<p><code>ViewData[\"Message\"] = \"Your message\";</code></p>\n\n<p>And then use data:</p>\n\n<pre><code>&lt;h3&gt;Passing Data From Controller to View using ViewBag&lt;/h3&gt;  \n@{   \n    var data = ViewBag.Message;  \n}  \n&lt;h3&gt;Id: @data.Id&lt;/h3&gt;  \n&lt;h3&gt;RecordName: @data.RecordName&lt;/h3&gt;  \n&lt;h3&gt;RecordDetail: @data.RecordDetail&lt;/h3&gt;\n</code></pre>\n\n<p>Example webpage:\n<a href=\"https://www.c-sharpcorner.com/article/asp-net-mvc-passing-data-from-controller-to-view/\" rel=\"nofollow noreferrer\">https://www.c-sharpcorner.com/article/asp-net-mvc-passing-data-from-controller-to-view/</a></p>\n"}], "owner": {"reputation": 31, "user_id": 11584286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b32e4661da1474392fd4f215c29b95e?s=128&d=identicon&r=PG&f=1", "display_name": "auburntotd", "link": "https://stackoverflow.com/users/11584286/auburntotd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569222072, "creation_date": 1567613424, "question_id": 57792259, "link": "https://stackoverflow.com/questions/57792259/check-if-two-fields-already-have-an-exact-match-when-submitting-data-to-a-databa", "title": "Check if two fields already have an exact match when submitting data to a database with bootstrap?", "body": "<p>I am making an extremely simple app that is for our department's weekly college football pickem. We pick one game per weekend, then place bets on who will win and what the total combined score will be. We needed a spot to do this without seeing everyone elses predictions, as that gives late participators a huge advantage.</p>\n\n<p>I already have a simple html page and local db that displays DB entries, showing the employee name and the date submitted. When creating an entry, you enter your name, prediction of the winner, the combined total score, and the date. It doesn't display the predictions details until Fridays at 2PM, while also locking any new submissions, so that no one can base their predictions off of what everyone else has.</p>\n\n<p>My problem is I'm trying to make it check to make sure that someone else doesn't have the exact same Winner+Score combo when clicking submit on the create page. Somehow it just needs to scan those two DB attributes to make sure no one else has the exact same value for those. There's usually only going to be around 10 people participating. Here is my code for the create page.</p>\n\n<pre><code> @using (Html.BeginForm()) \n {\n     @Html.AntiForgeryToken()\n\n&lt;div class=\"form-horizontal\"&gt;\n    &lt;h4&gt;Pick&lt;/h4&gt;\n    &lt;hr /&gt;\n    @Html.ValidationSummary(true, \"\", new { @class = \"text-danger\" })\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt; model.name, htmlAttributes: new { @class = \"control-label col-md-2\" })\n        &lt;div class=\"col-md-10\"&gt;\n            @Html.EditorFor(model =&gt; model.name, new { htmlAttributes = new { @class = \"form-control\" } })\n            @Html.ValidationMessageFor(model =&gt; model.name, \"\", new { @class = \"text-danger\" })\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt; model.winner, htmlAttributes: new { @class = \"control-label col-md-2\" })\n        &lt;div class=\"col-md-10\"&gt;\n            @Html.EditorFor(model =&gt; model.winner, new { htmlAttributes = new { @class = \"form-control\" } })\n            @Html.ValidationMessageFor(model =&gt; model.winner, \"\", new { @class = \"text-danger\" })\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt; model.points, htmlAttributes: new { @class = \"control-label col-md-2\" })\n        &lt;div class=\"col-md-10\"&gt;\n            @Html.EditorFor(model =&gt; model.points, new { htmlAttributes = new { @class = \"form-control\" } })\n            @Html.ValidationMessageFor(model =&gt; model.points, \"\", new { @class = \"text-danger\" })\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt; model.postDate, htmlAttributes: new { @class = \"control-label col-md-2\" })\n        &lt;div class=\"col-md-10\"&gt;\n            @Html.EditorFor(model =&gt; model.postDate, new { htmlAttributes = new { @class = \"form-control\" } })\n            @Html.ValidationMessageFor(model =&gt; model.postDate, \"\", new { @class = \"text-danger\" })\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;div class=\"col-md-offset-2 col-md-10\"&gt;\n            &lt;input type=\"submit\" value=\"Create\" class=\"btn btn-default\" /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n}\n</code></pre>\n\n<p>I just need the submit button to tell them that they can't submit those values, or either just disable it until they have values that aren't an exact match.</p>\n"}, {"tags": ["c#", "sql", "asp.net", "sql-server"], "comments": [{"owner": {"reputation": 241702, "user_id": 61305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVyZv.jpg?s=128&g=1", "display_name": "Aaron Bertrand", "link": "https://stackoverflow.com/users/61305/aaron-bertrand"}, "edited": false, "score": 3, "creation_date": 1567613364, "post_id": 57792206, "comment_id": 102017687, "body": "<a href=\"https://blogs.msmvps.com/jcoehoorn/blog/2014/05/12/can-we-stop-using-addwithvalue-already/\" rel=\"nofollow noreferrer\">Please stop using <code>AddWithValue()</code></a>. Also why aren&#39;t you using <code>Using</code> blocks for your connection / command?"}, {"owner": {"reputation": 39990, "user_id": 5528593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7JPcT.png?s=128&g=1", "display_name": "Ren&#233; Vogt", "link": "https://stackoverflow.com/users/5528593/ren%c3%a9-vogt"}, "edited": false, "score": 3, "creation_date": 1567613424, "post_id": 57792206, "comment_id": 102017713, "body": "<i>&quot;I expect to see a single row appended per insert.&quot;</i> And I guess it surely does. If you really observe two rows, there must be a reason why the code is executed twice. Maybe you registered the event handler twice or something like that."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567614115, "post_id": 57792206, "comment_id": 102018030, "body": "How are you looking at the data? Make sure when you look at data you use Order By.  Inserting and Select returns data randomly since the SQL Data Base is multi-threaded.  the code shouldn&#39;t be adding the same data twice so probably the old data was in the database but you didn&#39;t see the data when you did a query."}, {"owner": {"reputation": 2092, "user_id": 7926183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff222c5bfb610f85712e726ee7c5f93?s=128&d=identicon&r=PG&f=1", "display_name": "SMor", "link": "https://stackoverflow.com/users/7926183/smor"}, "edited": false, "score": 1, "creation_date": 1567616426, "post_id": 57792206, "comment_id": 102019001, "body": "Does your table have a trigger?"}, {"owner": {"reputation": 751, "user_id": 9586388, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gUTMZUBvR1I/AAAAAAAAAAI/AAAAAAAAAiw/JwwRtRA4D1Q/photo.jpg?sz=128", "display_name": "\u0414\u043c\u0438\u0442\u0440\u043e \u0406\u0432\u0430\u043d\u043e\u0432", "link": "https://stackoverflow.com/users/9586388/%d0%94%d0%bc%d0%b8%d1%82%d1%80%d0%be-%d0%86%d0%b2%d0%b0%d0%bd%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1567620304, "post_id": 57792206, "comment_id": 102020532, "body": "You get sucursal from a dropdown on a form. So if it would be something wrong with the code you`ve presented it won&#39;t change. The change means, that you have an error somwhere else in the code, than calls this method, It is possible, that it is attached to some other event."}, {"owner": {"reputation": 1236, "user_id": 3207465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/640579872/picture?type=large", "display_name": "Xipooo", "link": "https://stackoverflow.com/users/3207465/xipooo"}, "edited": false, "score": 0, "creation_date": 1567635047, "post_id": 57792206, "comment_id": 102025434, "body": "&quot;two rows with almost the same data are inserted&quot;...  Seems to me if you look for how the data is different you might discover that an event is triggered on the drop down where data is different at."}, {"owner": {"reputation": 19, "user_id": 11958108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc841828733a3022319978d7633c9203?s=128&d=identicon&r=PG&f=1", "display_name": "ibr4", "link": "https://stackoverflow.com/users/11958108/ibr4"}, "edited": false, "score": 0, "creation_date": 1567682164, "post_id": 57792206, "comment_id": 102040111, "body": "Thanks for your input. I&#39;ll try to look into the matters, you&#39;ve highlighted. And the table has no trigger."}, {"owner": {"reputation": 19, "user_id": 11958108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc841828733a3022319978d7633c9203?s=128&d=identicon&r=PG&f=1", "display_name": "ibr4", "link": "https://stackoverflow.com/users/11958108/ibr4"}, "edited": false, "score": 0, "creation_date": 1567694743, "post_id": 57792206, "comment_id": 102047584, "body": "Once again, thank you for all the support. After further investigation it was detected the issue had to do with with the select statement used to feed the gridview, it had a cross join."}], "owner": {"reputation": 19, "user_id": 11958108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc841828733a3022319978d7633c9203?s=128&d=identicon&r=PG&f=1", "display_name": "ibr4", "link": "https://stackoverflow.com/users/11958108/ibr4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567620945, "creation_date": 1567613198, "last_edit_date": 1567620945, "question_id": 57792206, "link": "https://stackoverflow.com/questions/57792206/why-is-a-single-insert-statement-originating-two-rows-instead-of-a-single-row", "title": "Why is a single insert statement, originating two rows instead of a single row?", "body": "<p>I need to insert data from a webform into a SQL Server table. But for some reason, each time the fields and dropdown lists in the web form are filled and the insert button is clicked, two rows with almost the same data are inserted, only sucursal changes. Besides the <code>id_veiculo</code> which is the table's primary key is auto incremental, I have an index on the <code>Matricula</code> column so this shouldn't be possible with repeated values.</p>\n\n<p>I've deleted all records and tried to insert a new record but the problem remains.</p>\n\n<pre><code> protected void Button1_Click(object sender, EventArgs e)\n {\n        SqlCommand Command = new SqlCommand();\n        //configura\u00e7\u00e3o da instru\u00e7\u00e3o de inser\u00e7\u00e3o \n        Command.Connection = C;\n        Command.CommandType = CommandType.Text;\n        Command.CommandText = \"INSERT INTO veiculo (id_sucursal, matricula, data_matricula, id_marca, id_modelo, id_estado, id_seguro, id_estacionamento, numero_frota) VALUES(@Id_sucursal, @Matricula, @DtMatricula, @Id_marca, @Id_modelo, @Id_estado, NULL, NULL, @NumFrota)\";\n\n        //leitura dos valores definidos \n        Command.Parameters.AddWithValue(\"@Id_sucursal\", DropDownSucursais.SelectedValue);\n        Command.Parameters.AddWithValue(\"@Matricula\", txtMatricula.Text);\n        Command.Parameters.AddWithValue(\"@DtMatricula\", CalendarMatricula.SelectedDate);\n        Command.Parameters.AddWithValue(\"@Id_marca\", DropDownMarcas1.SelectedValue);\n        Command.Parameters.AddWithValue(\"@Id_modelo\", DropDownModelos2.SelectedValue);\n        Command.Parameters.AddWithValue(\"@Id_estado\",DropDownEstados1.SelectedValue);\n        Command.Parameters.AddWithValue(\"@NumFrota\",txtNumFrota.Text);\n\n        //execu\u00e7\u00e3o da instru\u00e7\u00e3o sobre a base de dados \n        try\n        {\n            C.Open();\n            Command.ExecuteNonQuery();\n        }\n        catch (SqlException ex)\n        {\n            MessageBox(ex.Message);\n        }\n        catch (Exception ex)\n        {\n            MessageBox(ex.Message);\n        }\n        finally\n        {\n            if (C.State == ConnectionState.Open)\n                C.Close();\n        }\n\n        //actualizar GridView e limpar os campos \n        SelectVeiculos();\n        cleanFields();\n}\n</code></pre>\n\n<p>I expect to see a single row appended per insert.</p>\n"}, {"tags": ["c#", "wpf", "xaml", "radio-button"], "comments": [{"owner": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "edited": false, "score": 0, "creation_date": 1567613479, "post_id": 57792177, "comment_id": 102017740, "body": "set IsChecked=true for the first RadioButton in each group by Default. then you will not need your validation"}, {"owner": {"reputation": 540, "user_id": 9930637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a06f30fffb3565e516ce7e3bceac161a?s=128&d=identicon&r=PG&f=1", "display_name": "timunix", "link": "https://stackoverflow.com/users/9930637/timunix"}, "reply_to_user": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "edited": false, "score": 0, "creation_date": 1567613772, "post_id": 57792177, "comment_id": 102017883, "body": "@ASh: That is not possible because there mustn&#39;t be default selections."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567614207, "post_id": 57792177, "comment_id": 102018080, "body": "When you put a radio button into a group there is always a default selection."}], "answers": [{"tags": [], "owner": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "is_accepted": true, "score": 1, "last_activity_date": 1567613761, "creation_date": 1567613761, "answer_id": 57792332, "question_id": 57792177, "link": "https://stackoverflow.com/questions/57792177/check-if-each-radiobutton-group-has-one-radiobutton-selected-checked/57792332#57792332", "title": "Check if each radiobutton group has one radiobutton selected/checked", "body": "<p>set <code>IsChecked=true</code> for the first RadioButton in each group by default. It cannot be unchecked from UI and then you will not need validation.</p>\n\n<p>alternatively, check every group:</p>\n\n<pre><code>bool success = \n     (rbElektroBauseitig.IsChecked == true || rbElektroLuxhaus.IsChecked == true) &amp;&amp;\n     (rbSATJa.IsChecked == true || rbSATVorb.IsChecked == true  || rbSATVorb.IsChecked == true) &amp;&amp;\n     (rbPVJa.IsChecked == true || rbPVVorb.IsChecked == true  || rbPVNein.IsChecked == true);\n\nif (!success) \n     MessageBox.Show(\"Dear User, you didn't make selection\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 1433164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bf7224e826382494c7a5ee47fc55630?s=128&d=identicon&r=PG", "display_name": "user1433164", "link": "https://stackoverflow.com/users/1433164/user1433164"}, "is_accepted": false, "score": 1, "last_activity_date": 1567615081, "creation_date": 1567615081, "answer_id": 57792597, "question_id": 57792177, "link": "https://stackoverflow.com/questions/57792177/check-if-each-radiobutton-group-has-one-radiobutton-selected-checked/57792597#57792597", "title": "Check if each radiobutton group has one radiobutton selected/checked", "body": "<p>Also, you could use Linq</p>\n\n<p>You would create a statement for each container.  If the variable returned is null there is nothing selected.  This will also return the RadioButton including it's name of the selected item.</p>\n\n<pre><code>    var ElektroGroup = wrpnlElektro.Children.OfType&lt;RadioButton&gt;().FirstOrDefault(x =&gt; x.IsChecked.Value);\n\n    if(ElektroGroup == null || ...any other group == null...)\n    {\n        //TODO nothing found\n        return;\n    }\n</code></pre>\n"}], "owner": {"reputation": 540, "user_id": 9930637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a06f30fffb3565e516ce7e3bceac161a?s=128&d=identicon&r=PG&f=1", "display_name": "timunix", "link": "https://stackoverflow.com/users/9930637/timunix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 1, "accepted_answer_id": 57792332, "answer_count": 2, "score": 0, "last_activity_date": 1567615081, "creation_date": 1567613096, "question_id": 57792177, "link": "https://stackoverflow.com/questions/57792177/check-if-each-radiobutton-group-has-one-radiobutton-selected-checked", "title": "Check if each radiobutton group has one radiobutton selected/checked", "body": "<p>I am currently developing a WPF app. If the user clicks a button, the program should check if one radiobutton per group was checked. Here is an excerpt from XAML:</p>\n\n<pre><code>&lt;Border Grid.Row=\"3\" Grid.Column=\"1\" BorderBrush=\"Black\" BorderThickness=\"2\" Margin=\"78,0,0,0\" Background=\"LightGray\"&gt;\n            &lt;WrapPanel x:Name=\"wrpnlElektro\" Height=\"65\" Margin=\"0,0,0,-12\" Background=\"LightGray\" Grid.Column=\"1\" Grid.Row=\"2\" Grid.RowSpan=\"2\" VerticalAlignment=\"Top\"&gt;\n                &lt;Label x:Name=\"lblElektro\" Content=\"Elektro\" FontWeight=\"Bold\" Margin=\"20,15,0,15\"/&gt;\n                &lt;Label x:Name=\"lblElektroBauseitig\" Content=\"bauseitig\" Margin=\"50,15,0,15\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\"/&gt;\n                &lt;RadioButton GroupName=\"Elektro\" x:Name=\"rbElektroBauseitig\" Margin=\"20,22,0,0\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\"/&gt;\n                &lt;Label x:Name=\"lblElektroLuxhaus\" Content=\"Luxhaus\" Margin=\"40,15,0,15\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\"/&gt;\n                &lt;RadioButton GroupName=\"Elektro\" x:Name=\"rbElektroLuxhaus\" Margin=\"20,22,0,0\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\"/&gt;\n            &lt;/WrapPanel&gt;\n        &lt;/Border&gt;\n\n        &lt;Border Grid.Row=\"4\" Grid.Column=\"1\" BorderBrush=\"Black\" BorderThickness=\"2\" Margin=\"78,0,0,0\" Background=\"LightGray\"&gt;\n            &lt;WrapPanel x:Name=\"wrpnlSAT\" Height=\"60\" Margin=\"0,0,0,0\" Background=\"LightGray\" VerticalAlignment=\"Top\"&gt;\n                &lt;Label x:Name=\"lblSAT\" Content=\"SAT-Anlage\" FontWeight=\"Bold\" Margin=\"20,15,0,15\"/&gt;\n                &lt;Label x:Name=\"lblSATJa\" Content=\"Ja\" Margin=\"61,15,0,0\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\"/&gt;\n                &lt;RadioButton GroupName=\"SAT\" x:Name=\"rbSATJa\" Margin=\"20,22,0,22\"/&gt;\n                &lt;Label x:Name=\"lblSATVorb\" Content=\"Vorber.\" Margin=\"44,15,0,15\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\"/&gt;\n                &lt;RadioButton GroupName=\"SAT\" x:Name=\"rbSATVorb\" Margin=\"20,22,0,22\"/&gt;\n                &lt;Label x:Name=\"lblSATNein\" Content=\"Nein\" Margin=\"40,15,0,15\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\"/&gt;\n                &lt;RadioButton GroupName=\"SAT\" x:Name=\"rbSATNein\" Margin=\"20,22,0,22\"/&gt;\n            &lt;/WrapPanel&gt;\n        &lt;/Border&gt;\n\n        &lt;Border Grid.Row=\"5\" Grid.Column=\"1\" BorderBrush=\"Black\" BorderThickness=\"2\" Margin=\"78,0,0,0\" Background=\"LightGray\"&gt;\n            &lt;WrapPanel x:Name=\"wrpnlPV\" Margin=\"0,0,0,-8\" Background=\"LightGray\"&gt;\n                &lt;Label x:Name=\"lblPV\" Content=\"PV-Anlage\" FontWeight=\"Bold\" Margin=\"20,15,0,15\"/&gt;\n                &lt;Label x:Name=\"lblPVJa\" Content=\"Ja\" Margin=\"68,15,0,0\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\"/&gt;\n                &lt;RadioButton GroupName=\"PV\" x:Name=\"rbPVJa\" Margin=\"20,22,0,22\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\"/&gt;\n                &lt;Label x:Name=\"lblPVVorb\" Content=\"Vorber.\" Margin=\"44,15,0,15\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\"/&gt;\n                &lt;RadioButton GroupName=\"PV\" x:Name=\"rbPVVorb\" Margin=\"20,22,0,22\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\"/&gt;\n                &lt;Label x:Name=\"lblPVNein\" Content=\"Nein\" Margin=\"40,15,0,15\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\"/&gt;\n                &lt;RadioButton GroupName=\"PV\" x:Name=\"rbPVNein\" Margin=\"20,22,0,22\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\"/&gt;\n            &lt;/WrapPanel&gt;\n        &lt;/Border&gt;\n</code></pre>\n\n<p>So basically I'm saying: \"User, if you didn't make one selection for every \"radiobutton-container\" then a MessageBox appears with a warning.</p>\n\n<p>How do I do this in either XAML or code behind? If possible, please give me a code example instead of an instructive comment. Thank you very much!</p>\n"}, {"tags": ["c#", "asp.net-mvc", ".net-core"], "comments": [{"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1567613590, "post_id": 57792171, "comment_id": 102017801, "body": "Use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.net.http.streamcontent?view=netframework-4.8\" rel=\"nofollow noreferrer\">StreamContent</a> instead of <code>ByteArrayContent</code>: <code>var content=new StreamContent(readFrom);</code>. Don&#39;t use <code>using</code> for the stream, <code>StreamContent.Dispose</code> will close it when done"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1567613746, "post_id": 57792171, "comment_id": 102017873, "body": "In any case, there&#39;s no need to use <code>Position</code> to start reading from <i>any</i> stream. With a file stream <code>Position = 0</code> would result in a wasted operation. Network streams can only be read though, so setting the position isn&#39;t possible"}], "owner": {"reputation": 789, "user_id": 4659089, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9bdb9f0ba256952e98888bfd549c715b?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/4659089/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567613077, "creation_date": 1567613077, "question_id": 57792171, "link": "https://stackoverflow.com/questions/57792171/streaming-a-file-from-one-api-endpoint-to-another-api-endpoint", "title": "Streaming a file from one API endpoint to another API Endpoint", "body": "<p>I have a process where I need to download a file from a location.  This file then needs to be posted in 10 mb chunks to another API endpoint.  The file cannot be copied to the server during this process, it must be streamed to the other end point.  I have the following code I am trying to use:</p>\n\n<pre><code>try\n            {\n\n                int DefaultReadValue = 10485760; \n                int toRead = 10485760;\n                int position = 0;\n\n                using (HttpClient myClient = new HttpClient())\n                {\n                    //myClient.DefaultRequestHeaders.TransferEncodingChunked = true;\n\n                    tranfile = await _getVaultFileData.GetVaultFileData(tranfile, token);\n                    int fileSize = tranfile.FileSize;\n                    using (HttpResponseMessage response = await myClient.GetAsync(tranfile.VaultFileURL, HttpCompletionOption.ResponseHeadersRead))\n                    using (Stream readFrom = await response.Content.ReadAsStreamAsync())\n                    {\n                        readFrom.Position = position;\n                        if(readFrom.Position &gt;= fileSize)\n                        {\n                            fileStatus.Status = \"Translation send\";\n                            fileStatus.Error = \"\";\n                            return fileStatus;\n                        }\n                        if(fileSize - position &lt; toRead)\n                        {\n                            toRead = fileSize - position;\n\n                        }\n                        int bytesRead;\n                        byte[] buffer = new byte[toRead];\n                        int offset = 0; \n                        while (toRead &gt; 0 &amp;&amp; (bytesRead = readFrom.Read(buffer, offset, toRead)) &gt; 0)\n                        {\n                            ByteArrayContent content = new ByteArrayContent(buffer);\n                            HttpResponseMessage transcriptionPost = await myClient.PostAsync(tranfile.FileTranslationURL, content);\n                            toRead -= bytesRead;\n                            offset += bytesRead;\n                        }\n                        toRead = DefaultReadValue;\n                    }\n                }\n\n            }\n</code></pre>\n\n<p>when I get to the line \n   readFrom.Position = position;</p>\n\n<p>I get the error:\n  Specified method is not supported.</p>\n\n<p>If I enable TransferEncodingChunked I get this error:</p>\n\n<p>InnerException = {System.InvalidOperationException: 'Transfer-Encoding: chunked' header can not be used when content object is not specified.}</p>\n\n<p>What do I need to do to read the stream in chunks to post to another endpoint?</p>\n"}, {"tags": ["c#", "sql-server", "repository-pattern"], "comments": [{"owner": {"reputation": 12242, "user_id": 5779732, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/UBIhA.jpg?s=128&g=1", "display_name": "Amit Joshi", "link": "https://stackoverflow.com/users/5779732/amit-joshi"}, "edited": false, "score": 0, "creation_date": 1567671866, "post_id": 57792123, "comment_id": 102034628, "body": "Repository pattern is bit ..... disputed; specially while using with full ORM. Have a look at <a href=\"https://stackoverflow.com/a/51781877/5779732\">this</a> answer for little insight. May be helpful."}], "answers": [{"tags": [], "owner": {"reputation": 842, "user_id": 3351642, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oCsmK.jpg?s=128&g=1", "display_name": "Nadeem Khoury", "link": "https://stackoverflow.com/users/3351642/nadeem-khoury"}, "is_accepted": true, "score": 0, "last_activity_date": 1567614090, "creation_date": 1567614090, "answer_id": 57792402, "question_id": 57792123, "link": "https://stackoverflow.com/questions/57792123/repository-pattern-seems-lacking-in-scope-what-if-i-have-much-more-to-query/57792402#57792402", "title": "Repository pattern seems lacking in scope. What if I have much more to query?", "body": "<p>For simple entities and aggregates having a standard set of CRUD operations on your repository makes a lot of sense. However, for less standard aggregates and complicated operations it doesn't make sense to implement these common operations. </p>\n\n<p>For example: Suppose before you want to add your student to the database, you need to make some complicated validation over that student and hide those details over the client. </p>\n\n<p>Preferably, I like to use the DBContext directly. It gives me more free space to do whatever i need without thinking too much for adding that method to the interface, and go to implement it. \nAnyway if you want to use Repository pattern. I recommend to use the generic one such as the following: </p>\n\n<pre><code> public class Repository&lt;TEntity&gt; : IRepository&lt;TEntity&gt; where TEntity : class, IEntity\n{\n    private readonly CrudContext _context;\n    private readonly DbSet&lt;TEntity&gt; _dbSet;\n    public Repository(CrudContext context)\n    {\n        this._context = context;\n        this._dbSet = context.Set&lt;TEntity&gt;();\n    }\n\n    public IEnumerable&lt;TEntity&gt; List()\n    {\n        return _dbSet.ToList();\n    }\n\n    public TEntity GetById(int id)\n    {\n        return _dbSet.Find(id);\n    }\n\n    public void Insert(TEntity entity)\n    {\n        _dbSet.Add(entity);\n        _context.SaveChanges();\n    }\n\n    public void Update(TEntity entity)\n    {\n        _dbSet.Attach(entity);\n        _context.Entry(entity).State = EntityState.Modified;\n        _context.SaveChanges();\n    }\n\n    public void Delete(int id)\n    {\n        var entityToDelete = _dbSet.Find(id);\n        _dbSet.Remove(entityToDelete);\n        _context.SaveChanges();\n    }\n}\n</code></pre>\n\n<p>If it comes to my preference, Either I would use the <strong>dbcontext</strong> directly inside the dependent class or I would create an Interface called <code>IEntityInserter</code> and for each Record type or Model that has too much logic of inserting, I would create an implementation called </p>\n\n<pre><code>StudentBasedEntityInserter : IEntityInserter&lt;Student&gt; {\n\n       public void Insert(Student @student){}\n}\n</code></pre>\n\n<p>and inject that IEntityInserter in any dependent class. </p>\n\n<p>Finally, There is not right answers int that heated topic, some people would agree with my approach, others won't. Hope that it helps. </p>\n"}], "owner": {"reputation": 3, "user_id": 12020773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e136d5355b9b45ee8819d2286656e42?s=128&d=identicon&r=PG&f=1", "display_name": "madkirk", "link": "https://stackoverflow.com/users/12020773/madkirk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 57792402, "answer_count": 1, "score": 0, "last_activity_date": 1567614297, "creation_date": 1567612874, "last_edit_date": 1567614297, "question_id": 57792123, "link": "https://stackoverflow.com/questions/57792123/repository-pattern-seems-lacking-in-scope-what-if-i-have-much-more-to-query", "title": "Repository pattern seems lacking in scope. What if I have much more to query?", "body": "<p>Should I use these 5 methods, only? Or should my Repository show all of the sql methods I am requiring. Perhaps I misunderstand the examples. Should I FindByID and and FindAll?  For example, if I have 5 dropdowns. I have 5 methods, or I may have one method, 5 queries, and return 1 table and bind to 0-4 tables.</p>\n\n<p>What I have tried, is several lessons online and several articles and I still feel like the examples are over simplified. Or, I am writing way too many methods to query the db. \nBTW, I am moving from linear development to repositories and factories. so, my transition is predicated on understanding this and then I would move to EF, and MVC.</p>\n\n<pre><code>public interface IRepository&lt;T&gt; where T: IEntity\n{\n\n    void Insert(Student student);\n    void Delete(Student student);\n    void Update(Student student);\n    Student GetById(Student RollNo);\n    IQueryable&lt;Student&gt; FetchAll();\n\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml"], "answers": [{"tags": [], "owner": {"reputation": 163, "user_id": 6470682, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aYBVPRQ25x4/AAAAAAAAAAI/AAAAAAAAABM/x12NQGL0fec/photo.jpg?sz=128", "display_name": "Sam Xia", "link": "https://stackoverflow.com/users/6470682/sam-xia"}, "is_accepted": true, "score": 1, "last_activity_date": 1567618364, "creation_date": 1567618364, "answer_id": 57793298, "question_id": 57792055, "link": "https://stackoverflow.com/questions/57792055/wpf-groupbox-header-location-in-center/57793298#57793298", "title": "WPF GroupBox Header location in center", "body": "<p>By <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.bordergapmaskconverter.convert?view=netframework-4.8#System_Windows_Controls_BorderGapMaskConverter_Convert_System_Object___System_Type_System_Object_System_Globalization_CultureInfo_\" rel=\"nofollow noreferrer\">link</a> here specify, you need to modify <code>parameter</code> value. But <code>ConverterParameter</code> is not a DependencyProperty, you cannot bind any value to it. I suggest you write your own converter to return <code>VisualBrush</code> to your GroupBox</p>\n\n<p>You can also check source code of <code>BorderGapMaskConverter</code> <a href=\"https://referencesource.microsoft.com/#PresentationFramework/src/Framework/System/windows/Controls/BorderGapMaskConverter.cs\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 23, "user_id": 5260141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a751c1e2cca48dd63ba46e5dbf0b103?s=128&d=identicon&r=PG&f=1", "display_name": "Adnan Raza", "link": "https://stackoverflow.com/users/5260141/adnan-raza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 1, "accepted_answer_id": 57793298, "answer_count": 1, "score": 0, "last_activity_date": 1587962596, "creation_date": 1567612589, "last_edit_date": 1587962596, "question_id": 57792055, "link": "https://stackoverflow.com/questions/57792055/wpf-groupbox-header-location-in-center", "title": "WPF GroupBox Header location in center", "body": "<p>I have edited the standard GroupBox template as I wanted to customize it. Apart from other customizations, I wanted the GroupBox header to be Horizontally aligned in the Center instead of Left or Right. The alignment of the Header is not a problem however, the real problem is the OpacityMask defined for the Border controls. The opacity mask sets the transparent space behind the group box header where the borders are not drawn. I haven't able to figure it out how to place the transparent space gap behind the group box header when I set the header to the center.</p>\n\n<pre><code>&lt;ControlTemplate x:Key=\"GroupBoxControlTemplate1\" TargetType=\"{x:Type GroupBox}\"&gt;\n    &lt;Grid SnapsToDevicePixels=\"True\"&gt;\n        &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition Width=\"6\"/&gt;\n            &lt;ColumnDefinition Width=\"Auto\"/&gt;\n            &lt;ColumnDefinition Width=\"*\"/&gt;\n            &lt;ColumnDefinition Width=\"6\"/&gt;\n        &lt;/Grid.ColumnDefinitions&gt;\n        &lt;Grid.RowDefinitions&gt;\n            &lt;RowDefinition Height=\"Auto\"/&gt;\n            &lt;RowDefinition Height=\"Auto\"/&gt;\n            &lt;RowDefinition Height=\"*\"/&gt;\n            &lt;RowDefinition Height=\"6\"/&gt;\n        &lt;/Grid.RowDefinitions&gt;\n        &lt;Border Background=\"{TemplateBinding Background}\" BorderBrush=\"Transparent\" \n                BorderThickness=\"{TemplateBinding BorderThickness}\" \n                CornerRadius=\"4\" Grid.Column=\"1\" Grid.ColumnSpan=\"4\" \n                Grid.Row=\"1\" Grid.RowSpan=\"3\" HorizontalAlignment=\"Stretch\"/&gt;\n        &lt;Border x:Name=\"Header\" Grid.Column=\"2\" Grid.RowSpan=\"2\" HorizontalAlignment=\"Left\" \n                Padding=\"3,1,3,0\" VerticalAlignment=\"Stretch\"&gt;\n            &lt;Border.Effect&gt;\n                &lt;DropShadowEffect BlurRadius=\"10\" Direction=\"334\"/&gt;\n            &lt;/Border.Effect&gt;\n            &lt;ContentPresenter SnapsToDevicePixels=\"{TemplateBinding SnapsToDevicePixels}\" \n                              Content=\"{TemplateBinding Header}\" \n                              ContentSource=\"Header\" \n                              ContentStringFormat=\"{TemplateBinding HeaderStringFormat}\" \n                              ContentTemplate=\"{TemplateBinding HeaderTemplate}\" \n                              RecognizesAccessKey=\"True\" Height=\"Auto\" \n                              VerticalAlignment=\"Center\"\n                              HorizontalAlignment=\"Center\"\n                              OpacityMask=\"#FF3844BD\" Margin=\"0,1,0,0\"&gt;\n            &lt;/ContentPresenter&gt;\n        &lt;/Border&gt;\n        &lt;ContentPresenter Margin=\"{TemplateBinding Padding}\" \n                          SnapsToDevicePixels=\"{TemplateBinding SnapsToDevicePixels}\" \n                          Content=\"{TemplateBinding Content}\" \n                          ContentStringFormat=\"{TemplateBinding ContentStringFormat}\" \n                          ContentTemplate=\"{TemplateBinding ContentTemplate}\" \n                          Grid.Column=\"1\" Grid.ColumnSpan=\"2\" Grid.Row=\"2\"/&gt;\n        &lt;Border BorderBrush=\"White\" BorderThickness=\"{TemplateBinding BorderThickness}\" \n                CornerRadius=\"4\" Grid.ColumnSpan=\"3\" Grid.Row=\"1\" Grid.RowSpan=\"3\" RenderTransformOrigin=\"0.5,0.5\" Margin=\"0\"&gt;\n            &lt;Border.OpacityMask&gt;\n                &lt;MultiBinding ConverterParameter=\"7\" UpdateSourceTrigger=\"Default\"&gt;\n                    &lt;MultiBinding.Converter&gt;\n                        &lt;BorderGapMaskConverter/&gt;\n                    &lt;/MultiBinding.Converter&gt;\n                    &lt;Binding Path=\"ActualWidth\" ElementName=\"Header\"/&gt;\n                    &lt;Binding Path=\"ActualWidth\" RelativeSource=\"{RelativeSource Self}\"/&gt;\n                    &lt;Binding Path=\"ActualHeight\" RelativeSource=\"{RelativeSource Self}\"/&gt;\n                &lt;/MultiBinding&gt;\n            &lt;/Border.OpacityMask&gt;\n            &lt;Border BorderBrush=\"{TemplateBinding BorderBrush}\" BorderThickness=\"{TemplateBinding BorderThickness}\" CornerRadius=\"4\"&gt;\n                &lt;Border BorderBrush=\"White\" BorderThickness=\"{TemplateBinding BorderThickness}\" CornerRadius=\"4\"/&gt;\n            &lt;/Border&gt;\n        &lt;/Border&gt;\n    &lt;/Grid&gt;\n&lt;/ControlTemplate&gt;\n</code></pre>\n\n<p>The header text should be at the center of the GroupBox currently it is on the left side which is the default position of GroupBox.</p>\n"}, {"tags": ["javascript", "c#", "model-view-controller"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12020240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ddc245ad0088074b2ec634023aa740?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Yacura", "link": "https://stackoverflow.com/users/12020240/thomas-yacura"}, "edited": false, "score": 0, "creation_date": 1567625201, "post_id": 57793455, "comment_id": 102022504, "body": "Thanks for the response. Nothing happens when I click the button to call the script:"}, {"owner": {"reputation": 1, "user_id": 12020240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ddc245ad0088074b2ec634023aa740?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Yacura", "link": "https://stackoverflow.com/users/12020240/thomas-yacura"}, "edited": false, "score": 0, "creation_date": 1567625259, "post_id": 57793455, "comment_id": 102022532, "body": "function Rabbit01() {         $(&quot;#whollyinsane&quot;).load(&#39;@(Url.Action(&quot;QuestionLists?id=1&quot;,&quot;&zwnj;&#8203;MIRT_Main&quot;))&#39;, function(){});     } Does nothing with or without the parameter (?id=1)"}, {"owner": {"reputation": 1, "user_id": 12020240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ddc245ad0088074b2ec634023aa740?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Yacura", "link": "https://stackoverflow.com/users/12020240/thomas-yacura"}, "edited": false, "score": 0, "creation_date": 1567626438, "post_id": 57793455, "comment_id": 102022971, "body": "This doesn&#39;t work at all: `&lt;script src=&quot;~/Scripts/jquery-1.10.2.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;~/Scripts/jquery-1.10.2.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt;      function Rabbit01() {         $(&quot;#whollyinsane&quot;).innerHTML = &quot;Hello!&quot;;     } &#39;"}, {"owner": {"reputation": 1, "user_id": 12020240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ddc245ad0088074b2ec634023aa740?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Yacura", "link": "https://stackoverflow.com/users/12020240/thomas-yacura"}, "edited": false, "score": 0, "creation_date": 1567626480, "post_id": 57793455, "comment_id": 102022985, "body": "Where as this does: <code>&lt;script src=&quot;~&#47;Scripts&#47;jquery-1.10.2.js&quot;&gt;&lt;&#47;script&gt; &lt;script src=&quot;~&#47;Scripts&#47;jquery-1.10.2.min.js&quot;&gt;&lt;&#47;script&gt; &lt;script type=&quot;text&#47;javascript&quot;&gt;      function Rabbit01() {         var thisdiv = document.getElementById(&quot;whollyinsane&quot;); thisdiv.innerHTML = &quot;Hello!&quot;;     }</code>"}], "tags": [], "owner": {"reputation": 51, "user_id": 11328885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RpGhB.png?s=128&g=1", "display_name": "Olivier Martial Soro", "link": "https://stackoverflow.com/users/11328885/olivier-martial-soro"}, "is_accepted": false, "score": 0, "last_activity_date": 1567619098, "creation_date": 1567619098, "answer_id": 57793455, "question_id": 57792051, "link": "https://stackoverflow.com/questions/57792051/all-previous-suggestions-fail-to-load-my-partial-view-into-a-div-on-button-cli/57793455#57793455", "title": "All previous suggestions fail to load my partial view into a &lt;div&gt; on button click", "body": "<pre><code>        function Rabbit01() {\n            $(\"#divId\").load('@(Url.Action(\"PartialViewLoadMethod\",\"PartialViewControler\"))', function(){});\n        }  \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12020240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ddc245ad0088074b2ec634023aa740?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Yacura", "link": "https://stackoverflow.com/users/12020240/thomas-yacura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567619098, "creation_date": 1567612576, "last_edit_date": 1567613216, "question_id": 57792051, "link": "https://stackoverflow.com/questions/57792051/all-previous-suggestions-fail-to-load-my-partial-view-into-a-div-on-button-cli", "title": "All previous suggestions fail to load my partial view into a &lt;div&gt; on button click", "body": "<p>All suggestions on this site regarding loading a Partial View in a div on a button click fail for me. They either do nothing or return an error. <code>@Html.Action</code> works within a div but no JavaScript/JQuery/Ajax solution works when a button is clicked</p>\n\n<p><code>@Html.Action</code> works within the div but not with javascript\n<code>@Url.Action</code> doesn't work. Often gives an error that the string isn't  properly terminated\n<code>@Url.Content</code> is no better than <code>@Url.Action</code>\n<code>$(\"#divname\").load()</code> returns an error that the object doesn't support \"load\"</p>\n\n<p><strong>Button:</strong> </p>\n\n<pre><code>&lt;a onclick=\"Rabbit01()\" href=\"#\"&gt;Try This&lt;/a&gt;\n</code></pre>\n\n<p><strong>JavaScript 1:</strong>     </p>\n\n<pre><code>function Rabbit01() {\n    var wannabe = document.getElementById(\"whollyinsane\");\n    var url = '@Url.Action(\"QuestionLists\")';\n    var key = 1;\n    wannabe.load(url, { id: key }); \n} \n</code></pre>\n\n<p><strong>JavaScript 2:</strong>     </p>\n\n<pre><code>function Rabbit01() {\n     var url = '@Url.Action(\"QuestionLists\")';\n     var key = 1;\n     $(\"#wannabe\").load(url, { id: key }); // returns error regarding \"load\"\n}\n</code></pre>\n\n<p>I expect the controller to respond to the <code>@Url.Action</code> (this works if I put <code>@Html.Action</code> in a di>) and for the resulting partial view to load in the \"wannabe\" div when the \"Try This\" button is clicked.</p>\n"}, {"tags": ["c#", "msbuild", "fxcop", "stylecop"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 12475822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee8c4e2e199adcf56799012c424fd0e4?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/12475822/eric"}, "is_accepted": false, "score": 1, "last_activity_date": 1575405979, "last_edit_date": 1575405979, "creation_date": 1575399148, "answer_id": 59163590, "question_id": 57791922, "link": "https://stackoverflow.com/questions/57791922/review-that-the-xml-parsed-here-is-from-a-trusted-source-otherwise-set-settings/59163590#59163590", "title": "Review that the XML parsed here is from a trusted source, otherwise set settings.DtdProcessing to System.Xml.DtdProcessing.Prohibit or .Ignore", "body": "<p>You created a settings object but your XmlReader doesn't actually use it. You need to create an XmlReader with the settings.</p>\n\n<pre><code>XmlReaderSettings settings = new XmlReaderSettings();\nsettings.DtdProcessing = DtdProcessing.Prohibit;\nStringReader stringReader = new StringReader(xml);\nXmlReader reader = XmlReader.Create(stringReader, settings);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6033069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/608f1c34be0afcff76d8b4c4bb660bab?s=128&d=identicon&r=PG&f=1", "display_name": "Ajay jain", "link": "https://stackoverflow.com/users/6033069/ajay-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575405979, "creation_date": 1567612088, "question_id": 57791922, "link": "https://stackoverflow.com/questions/57791922/review-that-the-xml-parsed-here-is-from-a-trusted-source-otherwise-set-settings", "title": "Review that the XML parsed here is from a trusted source, otherwise set settings.DtdProcessing to System.Xml.DtdProcessing.Prohibit or .Ignore", "body": "<p>Rule:\nDo not allow Dtd on XmlTextReader</p>\n\n<p>Category:\nMicrosoft.Security.Xml</p>\n\n<p>Check Id:\nCA3054</p>\n\n<p>Rule Description:\nProhibit DTD processing when using XmlTextReader on untrusted sources. Enabling DTD processing on the XML reader and using UrlResolver for resolving external XML entities may lead to information disclosure. Content from file system or network shares for\n the machine processing the XML can be exposed to attacker. In addition, an attacker can use this as a DoS vector.</p>\n\n<p>Rule File:\nsecurityxmlrules.dll [14.0.0.0]</p>\n\n<p>Help:\n<a href=\"http://go.microsoft.com/fwlink/?LinkId=282614&amp;clcid=0x409\" rel=\"nofollow noreferrer\">http://go.microsoft.com/fwlink/?LinkId=282614&amp;clcid=0x409</a></p>\n\n<pre><code>            XmlReaderSettings settings = new XmlReaderSettings();\n            settings.DtdProcessing = DtdProcessing.Prohibit;\n            StringReader stringReader = new StringReader(xml);\n            XmlTextReader reader = new XmlTextReader(stringReader);\n            XmlDocument doc = new XmlDocument();\n            doc.Load(reader);\n\n            XmlAttributeCollection attrs = doc.DocumentElement.Attributes;\n\n            if (!string.IsNullOrWhiteSpace(cookie))\n            {\n                string pagingcookie = GetPagingCookie(cookie);\n                if (!string.IsNullOrWhiteSpace(pagingcookie))\n                {\n                    XmlAttribute pagingAttr = doc.CreateAttribute(\"paging-cookie\");\n                    pagingAttr.Value = pagingcookie;\n                    attrs.Append(pagingAttr);\n                }\n            }\n</code></pre>\n\n<p>How to resolve this FxCop for SDL</p>\n"}, {"tags": ["c#", "int", "ulong"], "comments": [{"owner": {"reputation": 640, "user_id": 3935050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Zq5E.jpg?s=128&g=1", "display_name": "DetectivePikachu", "link": "https://stackoverflow.com/users/3935050/detectivepikachu"}, "edited": false, "score": 0, "creation_date": 1567612233, "post_id": 57791874, "comment_id": 102017086, "body": "why in the world would you want to do this, out of curiosity?"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 5, "creation_date": 1567612360, "post_id": 57791874, "comment_id": 102017152, "body": "0-999 will fit into 10 bits (which runs 0-1023).  Shifting 10 times will be more efficient than your divides and modulus operations.  Perhaps even better, a ulong is 64 bits.  A short is 16 bits.  Create a struct using <code>[StructLayout(LayoutKind.Explicit)]</code> that contains both a ulong and 4 shorts (nicely/explicitly layed out) and you can get very clear code, and an easy to read value"}, {"owner": {"reputation": 451, "user_id": 8683706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRKVX.jpg?s=128&g=1", "display_name": "Oleksandr Tyshchenko", "link": "https://stackoverflow.com/users/8683706/oleksandr-tyshchenko"}, "edited": false, "score": 1, "creation_date": 1567612436, "post_id": 57791874, "comment_id": 102017198, "body": "I believe you should try to solve your task using bitwise and shift c# operators. That&#39;s exactly what they are intended for. See here for details: <a href=\"https://docs.microsoft.com/ru-ru/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators\" rel=\"nofollow noreferrer\">docs.microsoft.com/ru-ru/dotnet/csharp/language-reference/&hellip;</a>"}, {"owner": {"reputation": 457, "user_id": 1248219, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b1cb1e57e4d4a46c04d035d3933dcf0c?s=128&d=identicon&r=PG", "display_name": "Elonoa", "link": "https://stackoverflow.com/users/1248219/elonoa"}, "edited": false, "score": 0, "creation_date": 1567612914, "post_id": 57791874, "comment_id": 102017446, "body": "Ah, those ideas seem very nice. I will try them now. Thanks!"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1567614260, "post_id": 57791874, "comment_id": 102018098, "body": "But do you need the whole ulong in the form of <i>999111009055</i> ? Isn&#39;t it better to have a class that stores these 4 numbers and you get the different component numbers when you need them?"}, {"owner": {"reputation": 457, "user_id": 1248219, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b1cb1e57e4d4a46c04d035d3933dcf0c?s=128&d=identicon&r=PG", "display_name": "Elonoa", "link": "https://stackoverflow.com/users/1248219/elonoa"}, "edited": false, "score": 0, "creation_date": 1567615762, "post_id": 57791874, "comment_id": 102018719, "body": "Yes, I guess using class would be better than packing and struct even better in my case. I&#39;m glad I asked before resorting to packing. Thanks for the answer and comments."}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1567616124, "post_id": 57791874, "comment_id": 102018877, "body": "If you don&#39;t need the ulong, you can use a <code>StructLayoutKind.Sequential</code> struct.  It will still be a 64 bit value type. There are advantages to using a value type for something like this (which may hold for you)."}], "answers": [{"tags": [], "owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "is_accepted": true, "score": 3, "last_activity_date": 1567614996, "creation_date": 1567614996, "answer_id": 57792585, "question_id": 57791874, "link": "https://stackoverflow.com/questions/57791874/what-is-a-better-way-to-pack-4-ints-into-ulong/57792585#57792585", "title": "What is a better way to pack 4 ints into ulong?", "body": "<p>Here you go.  First create a <code>[StructLayout(LayoutKind.Explicit)]</code> struct like:</p>\n\n<pre><code>[StructLayout(LayoutKind.Explicit)]\npublic struct FourWords\n{\n    [FieldOffset(0)] public ulong Whole;\n    [FieldOffset(0)] public ushort First;\n    [FieldOffset(2)] public ushort Second;\n    [FieldOffset(4)] public ushort Third;\n    [FieldOffset(6)] public ushort Fourth;\n}\n</code></pre>\n\n<p>Then you can access each of the First, Second,... fields like you expect:</p>\n\n<pre><code> FourWords test = new FourWords();\n test.Second = 0x101;\n test.Fourth = 0xA0A;\n var xyz = test.Whole;\n</code></pre>\n\n<p>If you look at xyz in a debugger (in hex view), you see:</p>\n\n<pre><code>    xyz, h  0x0a0a000001010000  ulong\n</code></pre>\n\n<p>and you can see the 101 and the A0A.</p>\n"}], "owner": {"reputation": 457, "user_id": 1248219, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b1cb1e57e4d4a46c04d035d3933dcf0c?s=128&d=identicon&r=PG", "display_name": "Elonoa", "link": "https://stackoverflow.com/users/1248219/elonoa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 57792585, "answer_count": 1, "score": 0, "last_activity_date": 1567614996, "creation_date": 1567611930, "question_id": 57791874, "link": "https://stackoverflow.com/questions/57791874/what-is-a-better-way-to-pack-4-ints-into-ulong", "title": "What is a better way to pack 4 ints into ulong?", "body": "<p>I need to pack several int values(each value only ranging from 0 to 999) into ulong. I have a working method like below but can it be optimized?</p>\n\n<p>I know it hurts your eyes with lots of 0's, sorry.</p>\n\n<pre><code>public class Test  {\n\n    public void Start() {\n        ulong testValue = 444333222111;\n\n        Debug.Log(GetValue1(testValue) + \" \" + GetValue2(testValue) + \" \" + GetValue3(testValue) + \" \" + GetValue4(testValue)); // = 111 222 333 444\n\n        SetValue1(ref testValue, 55);\n        SetValue2(ref testValue, 9);\n        SetValue3(ref testValue, 111);\n        SetValue4(ref testValue, 999);\n\n        Debug.Log(testValue); // = 999111009055\n        Debug.Log(GetValue1(testValue) + \" \" + GetValue2(testValue) + \" \" + GetValue3(testValue) + \" \" + GetValue4(testValue)); // = 55 9 111 999\n    }\n\n    public int GetValue1(ulong i) =&gt; (int)(i % 1000);\n    public void SetValue1(ref ulong i, int value) =&gt; i = i / 1000 * 1000 + (ulong)value;\n\n    public int GetValue2(ulong i) =&gt; (int)(i % 1000000 / 1000);\n    public void SetValue2(ref ulong i, int value) =&gt; i = i / 1000000 * 1000000 + (ulong)value * 1000 + i % 1000;\n\n    public int GetValue3(ulong i) =&gt; (int)(i % 1000000000 / 1000000);\n    public void SetValue3(ref ulong i, int value) =&gt; i = i / 1000000000 * 1000000000 + (ulong)value * 1000000 + i % 1000000;\n\n    public int GetValue4(ulong i) =&gt; (int)(i % 1000000000000 / 1000000000);\n    public void SetValue4(ref ulong i, int value) =&gt; i = i / 1000000000000 * 1000000000000 + (ulong)value * 1000000000 + i % 1000000000;\n\n}\n</code></pre>\n"}, {"tags": ["c#", "logging", "serilog"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1567611985, "post_id": 57791868, "comment_id": 102016950, "body": "<a href=\"https://nblumhardt.com/2016/11/ilogger-beginscope/\" rel=\"nofollow noreferrer\">nblumhardt.com/2016/11/ilogger-beginscope</a>"}, {"owner": {"reputation": 3031, "user_id": 1503307, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/K9qqL.png?s=128&g=1", "display_name": "Menelaos Vergis", "link": "https://stackoverflow.com/users/1503307/menelaos-vergis"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1567612877, "post_id": 57791868, "comment_id": 102017422, "body": "@DanielA.White So the answer is no? I have read that and I see that BeginScope exists in Microsoft.Extensions.Logging, but my question is: Can i use something similar to that using only Serilog?"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1567613294, "post_id": 57791868, "comment_id": 102017652, "body": "theres enrichers that you can use to define your own scopes."}], "answers": [{"comments": [{"owner": {"reputation": 3031, "user_id": 1503307, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/K9qqL.png?s=128&g=1", "display_name": "Menelaos Vergis", "link": "https://stackoverflow.com/users/1503307/menelaos-vergis"}, "edited": false, "score": 0, "creation_date": 1567677578, "post_id": 57796572, "comment_id": 102037720, "body": "Great! Thanks! I think they should mention that this is equivalent to <code>BeginScope</code> so this page can get the traffic from these keywords."}, {"owner": {"reputation": 727, "user_id": 570382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6f88fca500a10d1f5b6af0f92d8bf16c?s=128&d=identicon&r=PG", "display_name": "snowcode", "link": "https://stackoverflow.com/users/570382/snowcode"}, "edited": false, "score": 0, "creation_date": 1609431519, "post_id": 57796572, "comment_id": 115843121, "body": "The source code for <code>LogContext</code> is refreshingly easy to read, I recommend taking a read. <a href=\"https://github.com/serilog/serilog/blob/dev/src/Serilog/Context/LogContext.cs\" rel=\"nofollow noreferrer\">github.com/serilog/serilog/blob/dev/src/Serilog/Context/&hellip;</a>"}], "tags": [], "owner": {"reputation": 25437, "user_id": 138206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f05af282e000b642858ef2a27063029?s=128&d=identicon&r=PG", "display_name": "Nicholas Blumhardt", "link": "https://stackoverflow.com/users/138206/nicholas-blumhardt"}, "is_accepted": true, "score": 9, "last_activity_date": 1567638573, "creation_date": 1567638573, "answer_id": 57796572, "question_id": 57791868, "link": "https://stackoverflow.com/questions/57791868/beginscope-with-serilog/57796572#57796572", "title": "BeginScope with Serilog", "body": "<p>Yes, Serilog has a native equivalent of this feature, called using <code>LogContext.PushProperty()</code>.</p>\n\n<p>To enable this, you first must add <code>Enrich.FromLogContext()</code> to your Serilog <code>LoggerConfiguration</code>, for example:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>Log.Logger = new LoggerConfiguration()\n    .Enrich.FromLogContext() // &lt;- this line\n    .WriteTo.Console(outputTemplate: \"[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} \" +\n                                     \"{Properties:j}{NewLine}{Exception}\"))\n    .CreateLogger();\n</code></pre>\n\n<p>Then, to push properties onto the context (equivalent to <code>ILogger.BeginScope()</code>), use:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using (LogContext.PushProperty(\"OrderId\", 1234))\n{\n    Log.Information(\"Processing a new order\");\n    // ...etc\n}\n</code></pre>\n\n<p>The configuration above includes <code>{Properties:j}</code> to ensure all event properties, such as those from the log context, are included in the output. How you'll view the additional properties will depend upon which sink you're using.</p>\n"}, {"tags": [], "owner": {"reputation": 727, "user_id": 570382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6f88fca500a10d1f5b6af0f92d8bf16c?s=128&d=identicon&r=PG", "display_name": "snowcode", "link": "https://stackoverflow.com/users/570382/snowcode"}, "is_accepted": false, "score": 3, "last_activity_date": 1609436353, "last_edit_date": 1609436353, "creation_date": 1609426318, "answer_id": 65522377, "question_id": 57791868, "link": "https://stackoverflow.com/questions/57791868/beginscope-with-serilog/65522377#65522377", "title": "BeginScope with Serilog", "body": "<p>@Nicholas's answer is correct. I just wanted to drop a small worked example for anyone else coming to this thread to point out something that's not so obvious;</p>\n<p>Here some example code that shows how to use Serilog context;</p>\n<pre class=\"lang-cs prettyprint-override\"><code>void Main()\n{\n    var log = Log.Logger = new LoggerConfiguration()\n    .Enrich.FromLogContext()\n    .MinimumLevel.Information()\n    .WriteTo.Console()\n    \n    .CreateLogger();\n    Log.Logger = log;\n    log.Information(&quot;Starting app&quot;);\n    \n    Task.WaitAll(\n        Task.Run (() =&gt; GetNums(10,15, 2, &quot;evens&quot;)),\n        Task.Run (() =&gt; GetNums(11, 15, 2, &quot;odds&quot;))\n    );\n    \n    log.Information(&quot;Finished.&quot;);\n\n    Console.ReadLine();\n    \n}\n\nstatic Random R = new Random();\n\nstatic void GetNums(int start, int cnt, int inc, string name)\n{\n    using(var log = LogContext.PushProperty(&quot;name&quot;, name))\n    {\n        for (int i = start; i &lt; start + cnt; i+=inc)\n        {\n            Log.Information(&quot;{number},{name}&quot;, i);\n            Thread.Sleep(R.Next(500));\n        }\n    }\n}\n</code></pre>\n<p>produces this output</p>\n<pre><code>[17:11:31 INF] Starting app\n[17:11:31 INF] 10,evens\n[17:11:31 INF] 11,odds\n[17:11:31 INF] 12,evens\n[17:11:31 INF] 14,evens\n[17:11:32 INF] 13,odds\n[17:11:32 INF] 16,evens\n[17:11:32 INF] 15,odds\n[17:11:32 INF] 18,evens\n[17:11:32 INF] 20,evens\n[17:11:32 INF] 17,odds\n[17:11:32 INF] 22,evens\n[17:11:33 INF] 24,evens\n[17:11:33 INF] 19,odds\n[17:11:33 INF] 21,odds\n[17:11:34 INF] 23,odds\n[17:11:34 INF] 25,odds\n[17:11:34 INF] Finished.\n</code></pre>\n<p>The thing I wanted to point out, is that the items logged to the context won't appear in the logs, (i.e. won't be logged) if the named value does not appear in your template.</p>\n<p>For example, in the code above, if we change <code>Log.Information(&quot;{number},{name}&quot;,i);</code> to <code>Log.Information(&quot;{number}&quot;,i);</code> then this is what you would get, and this is similar to what you might get if you don't configure enrichment <code>Enrich.FromLogContext()</code>. It's subtle and easy to forget to update the template and chase your tail trying to find the bug.</p>\n<p>without template string including the named properties included in the context</p>\n<pre><code>[17:22:11 INF] Starting app\n[17:22:11 INF] 10\n[17:22:11 INF] 11\n[17:22:11 INF] 12\n[17:22:11 INF] 13\n[17:22:11 INF] 15\n[17:22:11 INF] 17\n[17:22:12 INF] 14\n[17:22:12 INF] 16\n[17:22:12 INF] 19\n[17:22:12 INF] 18\n[17:22:12 INF] 20\n[17:22:12 INF] 21\n[17:22:12 INF] 23\n[17:22:12 INF] 22\n[17:22:12 INF] 24\n[17:22:13 INF] 25\n[17:22:13 INF] Finished.\n</code></pre>\n<p>also, the enriched properties are <code>appended</code> to the end of the string, so\n<code>Log.Information(&quot;{name},{number}&quot;, i);</code> would produce</p>\n<pre><code>[17:35:11 INF] Starting app\n[17:35:11 INF] 11,{number}\n[17:35:11 INF] 10,{number}\n</code></pre>\n<p>Happy logging! Hope this helped.</p>\n"}], "owner": {"reputation": 3031, "user_id": 1503307, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/K9qqL.png?s=128&g=1", "display_name": "Menelaos Vergis", "link": "https://stackoverflow.com/users/1503307/menelaos-vergis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5178, "favorite_count": 1, "accepted_answer_id": 57796572, "answer_count": 2, "score": 6, "last_activity_date": 1609436353, "creation_date": 1567611911, "question_id": 57791868, "link": "https://stackoverflow.com/questions/57791868/beginscope-with-serilog", "title": "BeginScope with Serilog", "body": "<p>I want to use the feature the <code>Microsoft.Logger</code> has at Serilog directly, the <code>BeginScope</code> feature.</p>\n\n<p>I know that I can use Microsoft <code>ILogger</code> and setup Serilog to be the underlying logger but it's too much trouble at this point of the app.</p>\n\n<p>I want to know if there is a <code>BeginScope</code> equivalent in Serilog.</p>\n\n<p>The information at the internet is not straight forward, there are mentions that Serilog support that but nowhere is mentioned if it's directly supported or by using the Microsoft classes.</p>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 4490, "user_id": 3416551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1tRdb.png?s=128&g=1", "display_name": "pwilcox", "link": "https://stackoverflow.com/users/3416551/pwilcox"}, "edited": false, "score": 0, "creation_date": 1567612016, "post_id": 57791775, "comment_id": 102016968, "body": "What changes in your convention for the files that you want?  In particular, are all prefixed with &quot;UiText&quot; exactly, or some variants thereof?  As stated, it seems to me that &quot;UiText&quot; is more of a filter to pick out the files you need, not something you really need to extract.  Is this correct?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1567614650, "post_id": 57791775, "comment_id": 102018268, "body": "So, do I understand it right that file names you want to parse fall under <code>&lt;no-dots&gt;.&lt;no-dots&gt;.resx</code> pattern? Then use <code>var ms = Regex.Matches(s, @&quot;^([^.]+)\\.([^.]+)\\.resx$&quot;).Cast&lt;Match&gt;(); var TextType = ms.Select(x =&gt; x.Groups[1].Value).ToList(); var LangCode = ms.Select(x =&gt; x.Groups[2].Value).ToList();</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1567630718, "post_id": 57791775, "comment_id": 102024234, "body": "If you have a single file name, use this <code>^(?:([^.]*)\\.)+resx(?!\\S)</code>, use the capture collection of group 1 to get all the parts up to <code>.resx</code>. Doesn&#39;t matter how many parts there are."}], "answers": [{"tags": [], "owner": {"reputation": 4490, "user_id": 3416551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1tRdb.png?s=128&g=1", "display_name": "pwilcox", "link": "https://stackoverflow.com/users/3416551/pwilcox"}, "is_accepted": false, "score": 0, "last_activity_date": 1567612929, "last_edit_date": 1567612929, "creation_date": 1567612415, "answer_id": 57792006, "question_id": 57791775, "link": "https://stackoverflow.com/questions/57791775/regular-expression-for-file-name-in-c/57792006#57792006", "title": "Regular Expression For File Name in C#", "body": "<p>If I'm understanding your needs correctly, then the main reason you need \"UiText\" is not because you have any value for the term itself, but rather because you need to filter your files.  The real term you need to play around with is \"ja-JP\", which changes for the files you need.  </p>\n\n<p>If I'm correct, try this regex:</p>\n\n<pre><code>(?&lt;=UiText\\.).+(?=\\.resx)\n</code></pre>\n\n<p>Used in C# as follows:</p>\n\n<pre><code>var fileName = \"UiText.ja-JP.resx\";\n\nvar result = new Regex(@\"(?&lt;=^UiText\\.).+(?=\\.resx$)\").Match(fileName).Value;\n</code></pre>\n\n<p>A little explanation:</p>\n\n<ul>\n<li><code>(?&lt;=^UiText\\.)</code>  Start of string must begin exactly with \"UiText.\"</li>\n<li><code>.+</code> Any number of characters (but at least one)</li>\n<li><code>(?=\\.resx$)</code> End of string must end with \".resx\"</li>\n</ul>\n\n<p>Any file that doesn't meet your criteria will return an empty string for 'result'.</p>\n"}, {"tags": [], "owner": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "is_accepted": true, "score": 0, "last_activity_date": 1567613016, "creation_date": 1567613016, "answer_id": 57792157, "question_id": 57791775, "link": "https://stackoverflow.com/questions/57791775/regular-expression-for-file-name-in-c/57792157#57792157", "title": "Regular Expression For File Name in C#", "body": "<p>Since <code>UiText</code> seems to be constant you can use this regex to extract just <code>js-JP</code> into $1:</p>\n\n<pre><code>^UiText\\.(.+?)\\.resx$\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/XKvwHA/1/\" rel=\"nofollow noreferrer\">https://regex101.com/r/XKvwHA/1/</a></p>\n"}], "owner": {"reputation": 1, "user_id": 12020585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d23438831e74351af254392950119070?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/12020585/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 57792157, "answer_count": 2, "score": 0, "last_activity_date": 1567614331, "creation_date": 1567611620, "last_edit_date": 1567614331, "question_id": 57791775, "link": "https://stackoverflow.com/questions/57791775/regular-expression-for-file-name-in-c", "title": "Regular Expression For File Name in C#", "body": "<p>I am trying to find a regular expression to parse two sections out of the file name for the .resx files in my project. There is one main file called \"UiText.resx\" and then many translation .resx files with convention \"UiText.ja-JP.resx\". I need both the \"UiText\" and the \"ja-JP\" out of the latter string, as we do have other resx files that don't have to be for UiText (e.g. I have some files named \"ExceptionText.resx\").</p>\n\n<p>The pattern I'm using right now (which works, it just requires a little extra coding after) is <code>\"(?&lt;=\\.)((.*?)(?=\\.resx))\"</code>. For the example above, \"UiText.ja-JP.resx\" gets me a match set in C# of \"UiText.\", \"ja-JP.\", \"ja-JP.\", \".resx\"</p>\n\n<p>Of course I am able to just take the first occurrence of \"ja-JP.\" and \"UiText.\" from this set and massage it to what I want, but I'd rather just have a cleaner \"UiText\" \"ja-JP\" and be done with it.</p>\n\n<p>I figure I'll probably have to have at least two different patterns for this, so that is OK. Thank you in advance!</p>\n"}, {"tags": ["c#", "rest", "async-await", "azure-functions"], "comments": [{"owner": {"reputation": 6530, "user_id": 9663070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0iRQt.png?s=128&g=1", "display_name": "Md Farid Uddin Kiron", "link": "https://stackoverflow.com/users/9663070/md-farid-uddin-kiron"}, "edited": false, "score": 0, "creation_date": 1567612167, "post_id": 57791773, "comment_id": 102017055, "body": "Share your request code snippet."}, {"owner": {"reputation": 10202, "user_id": 9695286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L6RvS.png?s=128&g=1", "display_name": "Karan", "link": "https://stackoverflow.com/users/9695286/karan"}, "edited": false, "score": 3, "creation_date": 1567612353, "post_id": 57791773, "comment_id": 102017144, "body": "ASP.NET Core does not have a <code>SynchronizationContext</code>. If you are on ASP.NET Core, it does not matter whether you use <code>ConfigureAwait(false)</code> or not."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12020634"}, "edited": false, "score": 0, "creation_date": 1567612479, "post_id": 57791773, "comment_id": 102017223, "body": "Stephen Cleary says on his blog (the second link) - &quot;I still recommend that you use it in your core libraries - anything that may be reused in other applications. If you have code in a library that may also run in a UI app, or legacy ASP.NET app, or anywhere else there may be a context, then you should still use ConfigureAwait(false) in that library.&quot; That&#39;s my question - since my .NET Core based Azure function/REST API is used by other applications that likely do use a context, do I need to add ConfigureAwait(false) to my async code?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12020634"}, "edited": false, "score": 0, "creation_date": 1567688789, "post_id": 57792621, "comment_id": 102043965, "body": "That&#39;s exactly what I was thinking when I said stand-alone - thanks for the confirmation!"}], "tags": [], "owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "is_accepted": true, "score": 3, "last_activity_date": 1567615172, "creation_date": 1567615172, "answer_id": 57792621, "question_id": 57791773, "link": "https://stackoverflow.com/questions/57791773/azure-function-rest-api-used-by-third-parties-does-it-need-to-use-configureawa/57792621#57792621", "title": "Azure function REST API used by third parties - does it need to use ConfigureAwait(false)?", "body": "<p>Regarding Stephen Cleary's admonition:</p>\n\n<blockquote>\n  <p>I still recommend that you use it in your core libraries - anything that may be reused in other applications. If you have code in a library that may also run in a UI app, or legacy ASP.NET app, or anywhere else there may be a context, then you should still use ConfigureAwait(false) in that library.</p>\n</blockquote>\n\n<p>When he talks about \"libraries\", Stephen Cleary is talking about DLLs. When you are separating yourself from the caller via a REST API, then your code doesn't qualify as a \"library\" by this definition. If you're positive that your code will only ever be used in a .NET Core context, you can safely omit calls to <code>.ContinueAwait(false)</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12020634"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 1, "accepted_answer_id": 57792621, "answer_count": 1, "score": 1, "last_activity_date": 1567688908, "creation_date": 1567611614, "last_edit_date": 1567688908, "question_id": 57791773, "link": "https://stackoverflow.com/questions/57791773/azure-function-rest-api-used-by-third-parties-does-it-need-to-use-configureawa", "title": "Azure function REST API used by third parties - does it need to use ConfigureAwait(false)?", "body": "<p>I'm tasked with creating REST APIs with Azure Functions in .NET Core 2.1+, but I'm concerned about deadlocks. We'll have an on-site party that will calling the APIs for POST requests using a JavaScript framework, and other off-site parties that are making POST requests and using it in some other way. Stephen Cleary says here - <a href=\"https://stackoverflow.com/questions/39007006/is-getawaiter-getresult-safe-for-general-use\">Is .GetAwaiter().GetResult(); safe for general use?</a> - that Azure functions always run code without a context. Stephen says here - <a href=\"https://blog.stephencleary.com/2017/03/aspnetcore-synchronization-context.html\" rel=\"nofollow noreferrer\">https://blog.stephencleary.com/2017/03/aspnetcore-synchronization-context.html</a> - that ASP.NET Core apps don't use the same SynchronizationContext used by legacy ASP.NET. He says blocking async code won't deadlock since it's running on the thread pool thread, so there's no reason to use ConfigureAwait(false). But you should use ConfigureAwait(false) if you're writing core libraries that are reused in non-ASP.NET Core applications. Since Azure function-based REST APIs have no context and are stand-alone, is there a need for preventing deadlocks with ConfigureAwait(false)?</p>\n\n<p>EDIT: I have code that looks like this:</p>\n\n<pre><code>private readonly ILogger&lt;AzureMockFunctions&gt; _logger;\n\n    public AzureMockFunctions(ILogger&lt;AzureMockFunctions&gt; logger)\n    {\n        _logger = logger;\n    }\n\n[FunctionName(\"Function\")]\n    public Task&lt;ActionResult&lt;Teacher&gt;&gt; Run(\n        [HttpTrigger(AuthorizationLevel.Anonymous, \"post\", Route = \"null\")] HttpRequest request)\n    {\n        try\n        {\n            _logger.LogInformation(\"C# HTTP trigger function processed a request.\");\n\n            using (StreamReader reader = new StreamReader(request.Body, Encoding.UTF8))\n            {\n                string requestBody = reader.ReadToEndAsync().GetAwaiter().GetResult();\n                Teacher data = JsonConvert.DeserializeObject&lt;Teacher&gt;(requestBody);\n\n                if (data == null)\n                    throw new Exception(\"request body is empty\");\n            }\n\n            Teacher teacher = new Teacher\n            {\n                prop1 = \"some string\",\n                prop2 = \"1\",\n                prop3 = \"some other string\"\n            };                \n\n            return Teacher;\n        }\n        catch (Exception ex)\n        {\n            _logger.LogError($\"An error occurred: {ex}\");\n\n            return new BadRequestObjectResult(new\n            {\n                message = \"An error occurred: \" + ex.Message\n            });\n        }\n    }\n\npublic class Teacher\n{\n    public string prop1{ get; set; }\n    public string prop2{ get; set; }\n    public string prop3{ get; set; }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core-webapi", "asp.net-core-2.2"], "comments": [{"owner": {"reputation": 5818, "user_id": 978558, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d023acf70b927cb813b48631195e346e?s=128&d=identicon&r=PG", "display_name": "fredrik", "link": "https://stackoverflow.com/users/978558/fredrik"}, "edited": false, "score": 0, "creation_date": 1567611682, "post_id": 57791762, "comment_id": 102016776, "body": "What does the 500 error say? Have you checked the body of the reply?"}, {"owner": {"reputation": 198, "user_id": 9450665, "user_type": "registered", "profile_image": "https://graph.facebook.com/1024723820999224/picture?type=large", "display_name": "Xyluun", "link": "https://stackoverflow.com/users/9450665/xyluun"}, "reply_to_user": {"reputation": 5818, "user_id": 978558, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d023acf70b927cb813b48631195e346e?s=128&d=identicon&r=PG", "display_name": "fredrik", "link": "https://stackoverflow.com/users/978558/fredrik"}, "edited": false, "score": 0, "creation_date": 1567611739, "post_id": 57791762, "comment_id": 102016803, "body": "The problem is that I don&#39;t get a 500 error, the body is empty. The middleware is not handling the JsonSerializationException."}, {"owner": {"reputation": 5818, "user_id": 978558, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d023acf70b927cb813b48631195e346e?s=128&d=identicon&r=PG", "display_name": "fredrik", "link": "https://stackoverflow.com/users/978558/fredrik"}, "edited": false, "score": 0, "creation_date": 1567611815, "post_id": 57791762, "comment_id": 102016856, "body": "On the outgoing reply? You assume that the list is empty, thus it should throw?"}, {"owner": {"reputation": 5818, "user_id": 978558, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d023acf70b927cb813b48631195e346e?s=128&d=identicon&r=PG", "display_name": "fredrik", "link": "https://stackoverflow.com/users/978558/fredrik"}, "edited": false, "score": 0, "creation_date": 1567611893, "post_id": 57791762, "comment_id": 102016893, "body": "Or the item is null?"}, {"owner": {"reputation": 5818, "user_id": 978558, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d023acf70b927cb813b48631195e346e?s=128&d=identicon&r=PG", "display_name": "fredrik", "link": "https://stackoverflow.com/users/978558/fredrik"}, "edited": false, "score": 0, "creation_date": 1567611963, "post_id": 57791762, "comment_id": 102016942, "body": "I think <a href=\"https://stackoverflow.com/questions/49237767/using-required-and-jsonrequired-in-asp-net-core-model-binding-with-json-body\">this</a> might solve your problem"}, {"owner": {"reputation": 198, "user_id": 9450665, "user_type": "registered", "profile_image": "https://graph.facebook.com/1024723820999224/picture?type=large", "display_name": "Xyluun", "link": "https://stackoverflow.com/users/9450665/xyluun"}, "reply_to_user": {"reputation": 5818, "user_id": 978558, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d023acf70b927cb813b48631195e346e?s=128&d=identicon&r=PG", "display_name": "fredrik", "link": "https://stackoverflow.com/users/978558/fredrik"}, "edited": false, "score": 0, "creation_date": 1567612021, "post_id": 57791762, "comment_id": 102016975, "body": "One of the property of my device is null. I am trying to reply with name = null for example !"}, {"owner": {"reputation": 640, "user_id": 3935050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Zq5E.jpg?s=128&g=1", "display_name": "DetectivePikachu", "link": "https://stackoverflow.com/users/3935050/detectivepikachu"}, "edited": false, "score": 0, "creation_date": 1567612082, "post_id": 57791762, "comment_id": 102017004, "body": "No <code>[ProducesResponseType(StatusCodes.Status500BadRequest)]</code>?"}, {"owner": {"reputation": 198, "user_id": 9450665, "user_type": "registered", "profile_image": "https://graph.facebook.com/1024723820999224/picture?type=large", "display_name": "Xyluun", "link": "https://stackoverflow.com/users/9450665/xyluun"}, "edited": false, "score": 0, "creation_date": 1567612269, "post_id": 57791762, "comment_id": 102017099, "body": "[ProducesResponseType(StatusCodes.Status500InternalServerErr&zwnj;&#8203;or)] maybe.  But ProducesResponseType is only for the swagger."}, {"owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "edited": false, "score": 0, "creation_date": 1567666258, "post_id": 57791762, "comment_id": 102032042, "body": "I could not reproduce.Could you share you complete steps of calling the web api?"}], "answers": [{"comments": [{"owner": {"reputation": 198, "user_id": 9450665, "user_type": "registered", "profile_image": "https://graph.facebook.com/1024723820999224/picture?type=large", "display_name": "Xyluun", "link": "https://stackoverflow.com/users/9450665/xyluun"}, "edited": false, "score": 0, "creation_date": 1567667535, "post_id": 57799878, "comment_id": 102032577, "body": "Thanks for your reply. I will try what you are proposing. But I don&#39;t get any error in my _itemService.GetItemById it returns an Item with a property id filled and a name at null."}], "tags": [], "owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "is_accepted": false, "score": 1, "last_activity_date": 1567666210, "creation_date": 1567666210, "answer_id": 57799878, "question_id": 57791762, "link": "https://stackoverflow.com/questions/57791762/jsonserializationerror-not-correctly-handled-by-middleware/57799878#57799878", "title": "JsonSerializationError not correctly handled by middleware", "body": "<p>Since you do not show your <code>_itemService.GetItemByIdAsync</code>.It works well when I test with below code which has an 500 error.</p>\n\n<pre><code>public async Task&lt;ActionResult&lt;Item&gt;&gt; GetItemByIdAsync()\n    {\n        string json = @\"{\n          'id': '2f5135a7-977c-4b26-a4e2-74b9e374a75e',\n          'name': null,\n\n        }\";\n\n        Item x = JsonConvert.DeserializeObject&lt;Item&gt;(json);//throw 500 error using your Item model\n        return x;\n    }\n</code></pre>\n\n<p>You could also use <code>Required</code> property for JsonProperty like</p>\n\n<pre><code>[JsonProperty(\"name\", Required = Required.Always)] //could not be null       \npublic string Name { get; set; }\n</code></pre>\n\n<p>The definition for it is:</p>\n\n<pre><code>    //\n// Summary:\n//     Indicating whether a property is required.\npublic enum Required\n{\n    //\n    // Summary:\n    //     The property is not required. The default state.\n    Default = 0,\n    //\n    // Summary:\n    //     The property must be defined in JSON but can be a null value.\n    AllowNull = 1,\n    //\n    // Summary:\n    //     The property must be defined in JSON and cannot be a null value.\n    Always = 2,\n    //\n    // Summary:\n    //     The property is not required but it cannot be a null value.\n    DisallowNull = 3\n}\n</code></pre>\n"}], "owner": {"reputation": 198, "user_id": 9450665, "user_type": "registered", "profile_image": "https://graph.facebook.com/1024723820999224/picture?type=large", "display_name": "Xyluun", "link": "https://stackoverflow.com/users/9450665/xyluun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1567666210, "creation_date": 1567611576, "question_id": 57791762, "link": "https://stackoverflow.com/questions/57791762/jsonserializationerror-not-correctly-handled-by-middleware", "title": "JsonSerializationError not correctly handled by middleware", "body": "<p>I encounter a very wierd error.</p>\n\n<p>I have an Item with some properties that are JsonRequired.</p>\n\n<p>When i try to call my route to get my Item when one property that is required is missing, my error is not automatically thrown as an error code 500 I get a 200 Ok instead.</p>\n\n<p>Here is my route :</p>\n\n<pre><code>[HttpGet(\"{itemId}\")]\n[ProducesResponseType(StatusCodes.Status200OK)]\n[ProducesResponseType(StatusCodes.Status400BadRequest)]\n[ProducesResponseType(StatusCodes.Status404NotFound)]\npublic async Task&lt;ActionResult&lt;Item&gt;&gt; GetItemByIdAsync(long installationId, Guid itemId)\n    {\n        return await _itemService.GetItemByIdAsync(installationId, itemId);\n    }\n</code></pre>\n\n<p>Here is my Item class :</p>\n\n<pre><code>public class Item\n{\n    [JsonProperty(\"id\")]\n    [JsonRequired]\n    public Guid Id { get; set; }\n\n    [JsonProperty(\"name\")]\n    [JsonRequired]\n    public string Name { get; set; }\n}\n</code></pre>\n\n<p>And here is my middleware : </p>\n\n<pre><code>public async Task Invoke(HttpContext context)\n{\n        try\n        {\n            await _next(context);\n        }\n        catch (NotFoundException ex)\n        {\n            await HandleExceptionAsync(context, HttpStatusCode.NotFound, ex);\n        }\n        catch (UnauthorizedException ex)\n        {\n            await HandleExceptionAsync(context, HttpStatusCode.Unauthorized, ex, false);\n        }\n        catch (ConflictException ex)\n        {\n            await HandleExceptionAsync(context, HttpStatusCode.Conflict, ex);\n        }\n        catch (BadRequestException ex)\n        {\n            await HandleExceptionAsync(context, HttpStatusCode.BadRequest, ex);\n        }\n    }\n\nprivate Task HandleExceptionAsync(HttpContext context, HttpStatusCode httpCode, Exception exception, bool displayException = true)\n{\n        _logger.LogError(exception, $\"Exception catched in middleware: {exception.Message}.\");\n\n        context.Response.ContentType = \"application/json\";\n        context.Response.StatusCode = (int)httpCode;\n\n        var payload = JsonConvert.SerializeObject(new ApiError(displayException ? exception.Message : string.Empty));\n\n            return context.Response.WriteAsync(payload);\n}\n</code></pre>\n\n<p>What I have tried : \nIf I try to add this catch in the middleware</p>\n\n<pre><code>catch (Exception ex)\n    {\n        await HandleExceptionAsync(context, HttpStatusCode.InternalServerError, ex);\n    }\n</code></pre>\n\n<p>There is still the same result I don't get a 500 error.\nI don't really understand why my response is not overrided to be a 500 error.\nDo you have any idea ?</p>\n\n<p>Thanks a lot.</p>\n"}, {"tags": ["c#", ".net", "docker", "dockerfile", "visual-studio-2019"], "comments": [{"owner": {"reputation": 1002, "user_id": 4591799, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/528344398f945eea55aee6c5f47ca517?s=128&d=identicon&r=PG&f=1", "display_name": "m00nbeam360.0", "link": "https://stackoverflow.com/users/4591799/m00nbeam360-0"}, "edited": false, "score": 0, "creation_date": 1567624809, "post_id": 57791748, "comment_id": 102022357, "body": "Is your machine able to hit <a href=\"https://api.nuget.org/v3/index.json\" rel=\"nofollow noreferrer\">api.nuget.org/v3/index.json</a>?"}, {"owner": {"reputation": 18487, "user_id": 455042, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9a5894defba41c09ecf51e77e520600c?s=128&d=identicon&r=PG", "display_name": "ShaneKm", "link": "https://stackoverflow.com/users/455042/shanekm"}, "reply_to_user": {"reputation": 1002, "user_id": 4591799, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/528344398f945eea55aee6c5f47ca517?s=128&d=identicon&r=PG&f=1", "display_name": "m00nbeam360.0", "link": "https://stackoverflow.com/users/4591799/m00nbeam360-0"}, "edited": false, "score": 0, "creation_date": 1567625754, "post_id": 57791748, "comment_id": 102022711, "body": "yes. i&#39;m able to hit it"}, {"owner": {"reputation": 1788, "user_id": 624741, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4eb333469517de1eabd3fe7baf743471?s=128&d=identicon&r=PG", "display_name": "Alex Kovanev", "link": "https://stackoverflow.com/users/624741/alex-kovanev"}, "edited": false, "score": 0, "creation_date": 1567692603, "post_id": 57791748, "comment_id": 102046333, "body": "Did you try <code>dotnet restore -s https:&#47;&#47;api.nuget.org&#47;v3&#47;index.json</code>?"}, {"owner": {"reputation": 18487, "user_id": 455042, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9a5894defba41c09ecf51e77e520600c?s=128&d=identicon&r=PG", "display_name": "ShaneKm", "link": "https://stackoverflow.com/users/455042/shanekm"}, "reply_to_user": {"reputation": 1788, "user_id": 624741, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4eb333469517de1eabd3fe7baf743471?s=128&d=identicon&r=PG", "display_name": "Alex Kovanev", "link": "https://stackoverflow.com/users/624741/alex-kovanev"}, "edited": false, "score": 2, "creation_date": 1567697277, "post_id": 57791748, "comment_id": 102048997, "body": "@Shymep this worked when i run this command in CMD. But when I run docker build I still get &quot;  Unable to load the service index for source <a href=\"https://api.nuget.org/v3/index.json\" rel=\"nofollow noreferrer\">api.nuget.org/v3/index.json</a>.&quot;"}, {"owner": {"reputation": 18487, "user_id": 455042, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9a5894defba41c09ecf51e77e520600c?s=128&d=identicon&r=PG", "display_name": "ShaneKm", "link": "https://stackoverflow.com/users/455042/shanekm"}, "edited": false, "score": 0, "creation_date": 1567706562, "post_id": 57791748, "comment_id": 102053016, "body": "Please see my EDIT2"}, {"owner": {"reputation": 10325, "user_id": 571507, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c9A0L.png?s=128&g=1", "display_name": "Deeptechtons", "link": "https://stackoverflow.com/users/571507/deeptechtons"}, "edited": false, "score": 0, "creation_date": 1601928792, "post_id": 57791748, "comment_id": 113553530, "body": "@ShaneKm did you ever find a solution to this ? its been one year and can help people with similar issues"}, {"owner": {"reputation": 18487, "user_id": 455042, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9a5894defba41c09ecf51e77e520600c?s=128&d=identicon&r=PG", "display_name": "ShaneKm", "link": "https://stackoverflow.com/users/455042/shanekm"}, "edited": false, "score": 0, "creation_date": 1603197785, "post_id": 57791748, "comment_id": 113955153, "body": "i did not. not sure how to solve it"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 14661129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a51e8ce907b2eb46806f6e7bcf3ab83c?s=128&d=identicon&r=PG&f=1", "display_name": "Iwan Epp", "link": "https://stackoverflow.com/users/14661129/iwan-epp"}, "is_accepted": true, "score": 2, "last_activity_date": 1605694812, "creation_date": 1605694812, "answer_id": 64891123, "question_id": 57791748, "link": "https://stackoverflow.com/questions/57791748/vs2019-docker-support-and-dockerfile-failing/64891123#64891123", "title": "VS2019 Docker support and Dockerfile failing", "body": "<p>I had the same problem. This links solved my problem:\n<a href=\"https://improveandrepeat.com/2019/09/how-to-fix-network-errors-with-docker-and-windows-containers/\" rel=\"nofollow noreferrer\">https://improveandrepeat.com/2019/09/how-to-fix-network-errors-with-docker-and-windows-containers/</a></p>\n<p>My default Ethernet Adapter didn't have the lowest metric\nCheck with:</p>\n<pre><code>Get-NetIPInterface -AddressFamily IPv4 | Sort-Object -Property InterfaceMetric -Descending\n</code></pre>\n<p>Set with:</p>\n<pre><code>Set-NetIPInterface -InterfaceAlias 'Ethernet' -InterfaceMetric 4\n</code></pre>\n"}], "owner": {"reputation": 18487, "user_id": 455042, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9a5894defba41c09ecf51e77e520600c?s=128&d=identicon&r=PG", "display_name": "ShaneKm", "link": "https://stackoverflow.com/users/455042/shanekm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1183, "favorite_count": 1, "accepted_answer_id": 64891123, "answer_count": 1, "score": 3, "last_activity_date": 1605694812, "creation_date": 1567611507, "last_edit_date": 1567709968, "question_id": 57791748, "link": "https://stackoverflow.com/questions/57791748/vs2019-docker-support-and-dockerfile-failing", "title": "VS2019 Docker support and Dockerfile failing", "body": "<p>VS2019, created a brand new mvc app with Windows Docker support.</p>\n\n<p>Dockerfile contents (created from template):</p>\n\n<pre><code>FROM mcr.microsoft.com/dotnet/core/aspnet:2.2-nanoserver-1809 AS base\nWORKDIR /app\nEXPOSE 80\n\nFROM mcr.microsoft.com/dotnet/core/sdk:2.2-nanoserver-1809 AS build\nWORKDIR /src\nCOPY [\"mvc1.csproj\", \"mvc1/\"]\nRUN dotnet restore \"mvc1/mvc1.csproj\"\nCOPY . .\nWORKDIR \"/src/mvc1\"\nRUN dotnet build \"mvc1.csproj\" -c Release -o /app\n\nFROM build AS publish\nRUN dotnet publish \"mvc1.csproj\" -c Release -o /app\n\nFROM base AS final\nWORKDIR /app\nCOPY --from=publish /app .\nENTRYPOINT [\"dotnet\", \"mvc1.dll\"]\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/JAt3m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JAt3m.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I execute: </p>\n\n<pre><code>docker build -t mvc1 .\n</code></pre>\n\n<p>I get the following errors:</p>\n\n<blockquote>\n  <p>C:\\Program Files\\dotnet\\sdk\\2.2.401\\NuGet.targets(123,5): error :\n  Unable to load the service index for source\n  <a href=\"https://api.nuget.org/v3/index.json\" rel=\"nofollow noreferrer\">https://api.nuget.org/v3/index.json</a>. [C:\\src\\mvc1\\mvc1.csproj]\n  C:\\Program Files\\dotnet\\sdk\\2.2.401\\NuGet.targets(123,5): error :   No\n  such host is known [C:\\src\\mvc1\\mvc1.csproj] The command 'cmd /S /C\n  dotnet restore \"mvc1/mvc1.csproj\"' returned a non-zero code: 1</p>\n</blockquote>\n\n<p>EDIT:\nI've added this line to Dockerfile:</p>\n\n<pre><code>RUN ping google.com\n</code></pre>\n\n<p>and get:</p>\n\n<pre><code>Step 4/17 : RUN ping google.com\n ---&gt; Running in 6633175b21a8\nPing request could not find host google.com. Please check the name and try again.\n</code></pre>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>So, it turns out when I edit my .csproj file and remove this line:</p>\n\n<pre><code>        &lt;Project Sdk=\"Microsoft.NET.Sdk.Web\"&gt;\n\n          &lt;PropertyGroup&gt;\n            &lt;TargetFramework&gt;netcoreapp2.2&lt;/TargetFramework&gt;\n            &lt;AspNetCoreHostingModel&gt;InProcess&lt;/AspNetCoreHostingModel&gt;\n          &lt;/PropertyGroup&gt;\n\n\n          &lt;ItemGroup&gt;\n            &lt;PackageReference Include=\"Microsoft.AspNetCore.App\" /&gt;\n            &lt;PackageReference Include=\"Microsoft.AspNetCore.Razor.Design\" Version=\"2.2.0\" PrivateAssets=\"All\" /&gt;\n    &lt;!-- REMOVED --&gt;\n    &lt;PackageReference Include=\"Microsoft.VisualStudio.Azure.Containers.Tools.Targets\" Version=\"1.7.12\" /&gt;\n  &lt;!-- REMOVED --&gt;\n          &lt;/ItemGroup&gt;\n\n        &lt;/Project&gt;\n</code></pre>\n\n<p>It DOES work. Why is that? </p>\n"}, {"tags": ["c#", ".net", "linux", ".net-core", "dotnet-httpclient"], "comments": [{"owner": {"reputation": 43, "user_id": 11540588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7223a3240f5188e46e2bc2c0ae2e781?s=128&d=identicon&r=PG&f=1", "display_name": "Venkata N Bhupathi", "link": "https://stackoverflow.com/users/11540588/venkata-n-bhupathi"}, "reply_to_user": {"reputation": 888, "user_id": 5881352, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9F5S0.jpg?s=128&g=1", "display_name": "dustinos3", "link": "https://stackoverflow.com/users/5881352/dustinos3"}, "edited": false, "score": 0, "creation_date": 1567616486, "post_id": 57791742, "comment_id": 102019025, "body": "Thanks, @dustinos3 for the edit. I appreciate it."}, {"owner": {"reputation": 159, "user_id": 3447667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4135b5f5932aa6f5c3e51da0cf00300?s=128&d=identicon&r=PG&f=1", "display_name": "israelss", "link": "https://stackoverflow.com/users/3447667/israelss"}, "edited": false, "score": 0, "creation_date": 1567621743, "post_id": 57791742, "comment_id": 102021144, "body": "According to this <a href=\"https://github.com/dotnet/corefx/issues/29941\" rel=\"nofollow noreferrer\">github.com/dotnet/corefx/issues/29941</a> it seems like it&#39;s a bug from 1 year ago, what version are you using? maybe using the latest version would fix it for you."}, {"owner": {"reputation": 43, "user_id": 11540588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7223a3240f5188e46e2bc2c0ae2e781?s=128&d=identicon&r=PG&f=1", "display_name": "Venkata N Bhupathi", "link": "https://stackoverflow.com/users/11540588/venkata-n-bhupathi"}, "reply_to_user": {"reputation": 159, "user_id": 3447667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4135b5f5932aa6f5c3e51da0cf00300?s=128&d=identicon&r=PG&f=1", "display_name": "israelss", "link": "https://stackoverflow.com/users/3447667/israelss"}, "edited": false, "score": 0, "creation_date": 1567623590, "post_id": 57791742, "comment_id": 102021856, "body": "Thanks for the response israelss,  I am using netcoreapp2.2. I have seen so many things related to this issue including the link you suggested but I didn&#39;t quite understand that."}, {"owner": {"reputation": 159, "user_id": 3447667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4135b5f5932aa6f5c3e51da0cf00300?s=128&d=identicon&r=PG&f=1", "display_name": "israelss", "link": "https://stackoverflow.com/users/3447667/israelss"}, "edited": false, "score": 0, "creation_date": 1567640163, "post_id": 57791742, "comment_id": 102026431, "body": "I may not be expert on c# but I&#39;m kind of good at googling, lol, but also since the error mentions win32, which is not part of linux I guess it&#39;s not normal, it seems someone with the same issue fix it by stopping SocketsHttpHandler from overriding HttpHandler when you are  not in windows, this link explains it better.  <a href=\"https://stackoverflow.com/questions/52266659/net-core-spnego-auth-with-httpclient\" title=\"net core spnego auth with httpclient\">stackoverflow.com/questions/52266659/&hellip;</a>"}, {"owner": {"reputation": 43, "user_id": 11540588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7223a3240f5188e46e2bc2c0ae2e781?s=128&d=identicon&r=PG&f=1", "display_name": "Venkata N Bhupathi", "link": "https://stackoverflow.com/users/11540588/venkata-n-bhupathi"}, "reply_to_user": {"reputation": 159, "user_id": 3447667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4135b5f5932aa6f5c3e51da0cf00300?s=128&d=identicon&r=PG&f=1", "display_name": "israelss", "link": "https://stackoverflow.com/users/3447667/israelss"}, "edited": false, "score": 0, "creation_date": 1567775225, "post_id": 57791742, "comment_id": 102075309, "body": "Thanks israelss, I have tried this already but didn&#39;t work. Getting the same error."}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 11540588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7223a3240f5188e46e2bc2c0ae2e781?s=128&d=identicon&r=PG&f=1", "display_name": "Venkata N Bhupathi", "link": "https://stackoverflow.com/users/11540588/venkata-n-bhupathi"}, "is_accepted": true, "score": 0, "last_activity_date": 1571669424, "creation_date": 1571669424, "answer_id": 58488850, "question_id": 57791742, "link": "https://stackoverflow.com/questions/57791742/while-trying-to-retrieve-the-accestoken-using-httpclient-i-am-getting-an-error/58488850#58488850", "title": "While trying to retrieve the AccesToken using HttpClient I am getting an error", "body": "<p>Finally, I found a solution to this question. </p>\n\n<p>Solution 1:</p>\n\n<p>Step 1. According to <a href=\"https://stackoverflow.com/a/52267046/11540588\">this</a>, you should add  </p>\n\n<pre><code> AppContext.SetSwitch(\"System.Net.Http.UseSocketsHttpHandler\", false);\n</code></pre>\n\n<p>Step 2. Since <em>UseDefaultCredentials = true</em> won't work here, you need to pass your Network credentials manually to HttpClient like below </p>\n\n<pre><code>HttpClient client = new HttpClient(new HttpClientHandler{Credentials = new NetworkCredential(\"UserName\" \"Password\", \"Domain\")}\n</code></pre>\n\n<p>Step 3. You should change your HttpRequestMessage version to </p>\n\n<p><code>HttpVersion.Version11</code>.</p>\n\n<p>Solution 2: You can also fix this issue by converting your entire application into <em>NetcoreApp3.0</em></p>\n"}], "owner": {"reputation": 43, "user_id": 11540588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7223a3240f5188e46e2bc2c0ae2e781?s=128&d=identicon&r=PG&f=1", "display_name": "Venkata N Bhupathi", "link": "https://stackoverflow.com/users/11540588/venkata-n-bhupathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 58488850, "answer_count": 1, "score": 1, "last_activity_date": 1571669424, "creation_date": 1567611489, "last_edit_date": 1567616145, "question_id": 57791742, "link": "https://stackoverflow.com/questions/57791742/while-trying-to-retrieve-the-accestoken-using-httpclient-i-am-getting-an-error", "title": "While trying to retrieve the AccesToken using HttpClient I am getting an error", "body": "<p>While trying to retrieve the Acces Token from a windows server using HttpClient I am getting an error: </p>\n\n<blockquote>\n  <p>\"GSSAPI operation failed with error - An invalid status code was supplied (SPNEGO cannot find mechanisms to negotiate).\"   </p>\n</blockquote>\n\n<pre><code>private readonly HttpClient client = new HttpClient(new HttpClientHandler() { UseDefaultCredentials = true, AllowAutoRedirect = true }) { Timeout = TimeSpan.FromSeconds(5) };\n\n\n\npublic async Task&lt;UserAccessToken&gt; GetAuthenticationToken(string accessBrokerHost)\n    {\n        try\n        {\n            var response = await client.SendAsync(new HttpRequestMessage(HttpMethod.Get, $\"{accessBrokerHost}/Token\")).ConfigureAwait(false); \n\n\n//accessBrokerHost is HTTP SPN created internally in a windows server\n\n\n            if (!response.IsSuccessStatusCode)\n            {                    \n                throw new BrokerNotAvailableException();\n            }\n            return await response.Content.ReadAsAsync&lt;UserAccessToken&gt;().ConfigureAwait(false);\n        }            \n    }\n</code></pre>\n\n<blockquote>\n  <p>system.ComponentModel.win32Exception is throwing as GSSAPI operation failed with error - An invalid status code was supplied (SPNEGO cannot find mechanisms to negotiate)</p>\n</blockquote>\n\n<p>The above code is working fine in windows but not in Linux (I am using Linux Mint). As of my knowledge, it refers to a problem trying to use Kerberos but no Kerberos ticket is active to authenticate for Linux.</p>\n"}, {"tags": ["c#", "wpf", "xaml"], "comments": [{"owner": {"reputation": 4952, "user_id": 219933, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oPHuE.png?s=128&g=1", "display_name": "Mat J", "link": "https://stackoverflow.com/users/219933/mat-j"}, "edited": false, "score": 0, "creation_date": 1567611314, "post_id": 57791667, "comment_id": 102016572, "body": "<code>does not work</code> - <a href=\"https://stackoverflow.com/help/how-to-ask\">explain</a>?"}, {"owner": {"reputation": 27, "user_id": 11902552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9f66d340746ecb41e1f928c1bb4fee5?s=128&d=identicon&r=PG&f=1", "display_name": "Emircan Ayd\u0131n", "link": "https://stackoverflow.com/users/11902552/emircan-ayd%c4%b1n"}, "reply_to_user": {"reputation": 4952, "user_id": 219933, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/oPHuE.png?s=128&g=1", "display_name": "Mat J", "link": "https://stackoverflow.com/users/219933/mat-j"}, "edited": false, "score": 0, "creation_date": 1567611583, "post_id": 57791667, "comment_id": 102016723, "body": "I don&#39;t know why, but stackoverflow doesn&#39;t add, I guess I can&#39;t handle it. Adding below"}, {"owner": {"reputation": 567, "user_id": 7143602, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/18d042fa599f2a1abd287efc50fe36cb?s=128&d=identicon&r=PG&f=1", "display_name": "berthos", "link": "https://stackoverflow.com/users/7143602/berthos"}, "edited": false, "score": 0, "creation_date": 1567662304, "post_id": 57791667, "comment_id": 102030647, "body": "try setting the StackPanel&#39;s HorizontalAlignment to Stretch."}], "answers": [{"comments": [{"owner": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "reply_to_user": {"reputation": 27, "user_id": 11902552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9f66d340746ecb41e1f928c1bb4fee5?s=128&d=identicon&r=PG&f=1", "display_name": "Emircan Ayd\u0131n", "link": "https://stackoverflow.com/users/11902552/emircan-ayd%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1567673528, "post_id": 57791829, "comment_id": 102035476, "body": "@EmircanAyd\u0131n, nice! If the answer helped you to solve the issue, please mark it as accepted (there is a check mark on the left side of answer)"}, {"owner": {"reputation": 27, "user_id": 11902552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9f66d340746ecb41e1f928c1bb4fee5?s=128&d=identicon&r=PG&f=1", "display_name": "Emircan Ayd\u0131n", "link": "https://stackoverflow.com/users/11902552/emircan-ayd%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1567681802, "post_id": 57791829, "comment_id": 102039930, "body": "an you reach me ? I have a question but I can not bring the topic because I&#39;m a new member"}], "tags": [], "owner": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "is_accepted": true, "score": 4, "last_activity_date": 1567611810, "creation_date": 1567611810, "answer_id": 57791829, "question_id": 57791667, "link": "https://stackoverflow.com/questions/57791667/horizontalalignment-problem-in-stackpanel/57791829#57791829", "title": "HorizontalAlignment problem in stackpanel", "body": "<p>StackPanel with Orientation=\"Horizontal\" ignores <code>HorizontalAlignment</code> of children elements.</p>\n\n<p>if you need layout like</p>\n\n<pre><code>=======================\n| (\u00d6ZET)       (KASA) |\n=======================\n</code></pre>\n\n<p>then try Grid:</p>\n\n<pre><code>&lt;Border Grid.Column=\"1\" Background=\"#312a28\"&gt;\n   &lt;Grid VerticalAlignment=\"Center\"&gt;\n      &lt;TextBlock Name=\"current_page\" Text=\"\u00d6ZET\" VerticalAlignment=\"Center\" Foreground=\"White\" FontSize=\"16\"/&gt;\n      &lt;TextBlock Name=\"next_page\" Text=\"KASA\" VerticalAlignment=\"Center\" HorizontalAlignment=\"Right\" Foreground=\"White\" FontSize=\"16\"/&gt;\n   &lt;/Grid&gt;\n&lt;/Border&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 185, "user_id": 3332861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24d2802d3878648614e5f35003d2d22?s=128&d=identicon&r=PG&f=1", "display_name": "kaqq", "link": "https://stackoverflow.com/users/3332861/kaqq"}, "is_accepted": false, "score": 0, "last_activity_date": 1567620853, "creation_date": 1567620853, "answer_id": 57793813, "question_id": 57791667, "link": "https://stackoverflow.com/questions/57791667/horizontalalignment-problem-in-stackpanel/57793813#57793813", "title": "HorizontalAlignment problem in stackpanel", "body": "<p>You can't refer to the right border of \"StackPanel Orientation=\"Horizontal\". StackPanel is filled with elements one by one according to their size. Use grid instead or set margin of the element.</p>\n\n<pre><code>&lt;Border Grid.Column=\"1\" Background=\"#312a28\"&gt;\n    &lt;StackPanel Orientation=\"Horizontal\" VerticalAlignment=\"Center\"&gt;\n        &lt;TextBlock Name=\"current_page\" Text=\"\u00d6ZET\" VerticalAlignment=\"Center\" Foreground=\"White\" FontSize=\"16\"/&gt;\n        &lt;TextBlock Name=\"next_page\" Text=\"KASA\" VerticalAlignment=\"Center\" Margin=\"5,0,0,0\" Foreground=\"White\" FontSize=\"16\"/&gt;\n   &lt;/StackPanel&gt;\n&lt;/Border&gt;\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 11902552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9f66d340746ecb41e1f928c1bb4fee5?s=128&d=identicon&r=PG&f=1", "display_name": "Emircan Ayd\u0131n", "link": "https://stackoverflow.com/users/11902552/emircan-ayd%c4%b1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 57791829, "answer_count": 2, "score": 0, "last_activity_date": 1567620853, "creation_date": 1567611249, "last_edit_date": 1567620120, "question_id": 57791667, "link": "https://stackoverflow.com/questions/57791667/horizontalalignment-problem-in-stackpanel", "title": "HorizontalAlignment problem in stackpanel", "body": "<p>HorizontalAlignment setting of textblock does not work when I add 2 textblock in stackpanel</p>\n\n<p>what is the reason of this ?</p>\n\n<p>Xaml:</p>\n\n<pre><code>&lt;Border Grid.Column=\"1\" Background=\"#312a28\"&gt;\n    &lt;StackPanel Orientation=\"Horizontal\" VerticalAlignment=\"Center\"&gt;\n        &lt;TextBlock Name=\"current_page\" Text=\"\u00d6ZET\" VerticalAlignment=\"Center\" Foreground=\"White\" FontSize=\"16\"/&gt;\n        &lt;TextBlock Name=\"next_page\" Text=\"KASA\" VerticalAlignment=\"Center\" HorizontalAlignment=\"Right\" Foreground=\"White\" FontSize=\"16\"/&gt;\n   &lt;/StackPanel&gt;\n&lt;/Border&gt;\n</code></pre>\n"}, {"tags": ["c#", "winforms", "async-await", "event-handling", "syncfusion"], "comments": [{"owner": {"reputation": 183, "user_id": 5730415, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/faa0d8139a2bc58ca33c79f4d68c6b23?s=128&d=identicon&r=PG&f=1", "display_name": "Jagadeesan", "link": "https://stackoverflow.com/users/5730415/jagadeesan"}, "edited": false, "score": 0, "creation_date": 1570517907, "post_id": 57791574, "comment_id": 102928472, "body": "We try to replicate the scenario you have mentioned with SfComboBox, but we could not actually understand what you need to do in the constructor. We have tried the same in our simple sample, but we could not face any exception.  Also we have observed that in your constructor, you have not set the DataSource,DisplayMember property for ComboBox, since this will be used to display the member. So please briefly explain about your requirement in details with screenshot if possible. <a href=\"https://www.syncfusion.com/downloads/support/directtrac/249999/ze/SfComboBox1795502243\" rel=\"nofollow noreferrer\">syncfusion.com/downloads/support/directtrac/249999/ze/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "is_accepted": false, "score": 0, "last_activity_date": 1567630818, "creation_date": 1567630818, "answer_id": 57795583, "question_id": 57791574, "link": "https://stackoverflow.com/questions/57791574/programmatically-setting-drop-down-list-selection-does-not-await-in-event-handle/57795583#57795583", "title": "Programmatically setting drop down list selection does not await in event handler", "body": "<p>You shouldn't do that on the constructor because events aren't being fired yet.</p>\n\n<p>Try the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.form.onload\" rel=\"nofollow noreferrer\">OnLoad override</a> or the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.form.load\" rel=\"nofollow noreferrer\">Load event</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "is_accepted": false, "score": 0, "last_activity_date": 1569958641, "last_edit_date": 1569958641, "creation_date": 1569958291, "answer_id": 58191177, "question_id": 57791574, "link": "https://stackoverflow.com/questions/57791574/programmatically-setting-drop-down-list-selection-does-not-await-in-event-handle/58191177#58191177", "title": "Programmatically setting drop down list selection does not await in event handler", "body": "<p>The problem is that the event handler is async void.</p>\n\n<pre><code>private async void Sf_collectionDDL_SelectedIndexChanged(object sender, EventArgs e)\n</code></pre>\n\n<p>An async void method can't be awaited, so you must find some indirect way to <code>await</code> the handler to complete. There must surely exist <a href=\"https://stackoverflow.com/questions/27761852/how-do-i-await-events-in-c\">better ways</a> to do it, but here is a not particularly pretty one. You can declare a <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.taskcompletionsource-1\" rel=\"nofollow noreferrer\"><code>TaskCompletionSource</code></a> member inside the <code>Form</code>, that will represent the asynchronous completion of the event handler:</p>\n\n<pre><code>private TaskCompletionSource&lt;bool&gt; Sf_collectionDDL_SelectedIndexChangedAsync;\n\nprivate async void Sf_collectionDDL_SelectedIndexChanged(object sender, EventArgs e)\n{\n    Sf_collectionDDL_SelectedIndexChangedAsync = new TaskCompletionSource&lt;bool&gt;();\n    try\n    {\n        var cmb = sender as SfComboBox;\n        //...\n        await GetCollectionDates(collectionName);\n        //...\n        sf_datesDDL.MaxDropDownItems = 12;\n        Sf_collectionDDL_SelectedIndexChangedAsync.SetResult(true);\n    }\n    catch (Exception ex)\n    {\n        Sf_collectionDDL_SelectedIndexChangedAsync.SetException(ex);\n    }\n}\n</code></pre>\n\n<p>Then in the constructor after changing the <code>SelectedIndex</code>, wait for the completion of the asynchronous operation:</p>\n\n<pre><code>sf_collectionDDL.SelectedIndex = 0;\nSf_collectionDDL_SelectedIndexChangedAsync.Wait();\n</code></pre>\n"}], "owner": {"reputation": 21516, "user_id": 1249962, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/rHCpd.gif?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/1249962/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 355, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569958641, "creation_date": 1567610931, "question_id": 57791574, "link": "https://stackoverflow.com/questions/57791574/programmatically-setting-drop-down-list-selection-does-not-await-in-event-handle", "title": "Programmatically setting drop down list selection does not await in event handler", "body": "<p>I have a winform with a <code>SfComboBox</code>.  When a selection is made a list of dates is retrieved from a cloud data base, and those dates are used to populated another combobox.</p>\n\n<p>The combobox has <code>.DropDownStyle</code> set to <code>DropDownList</code> and <code>SelectedIndexChanged</code> handled by</p>\n\n<pre><code>    private async void Sf_collectionDDL_SelectedIndexChanged(object sender, EventArgs e)\n    {\n        var cmb = sender as SfComboBox;\n\n        if (cmb.SelectedIndex &lt; 0)\n        {\n            sf_datesDDL.SelectedItems.Clear();\n            return;\n        }\n\n        string collectionName = cmb.SelectedItem.ToString();\n\n        await GetCollectionDates(collectionName);\n\n        sf_datesDDL.DataSource = CollectionDates;\n        sf_datesDDL.ValueMember = \"Value\";\n        sf_datesDDL.DisplayMember = \"Formatted\";\n        sf_datesDDL.MaxDropDownItems = 12;\n    }\n\n    private Task GetCollectionDates(string collectionName)\n    {\n        return Task.Run(() =&gt;\n        {\n            var builder = Builders&lt;BsonDocument&gt;.Filter;\n            var filter = builder.Eq(\"Type\", \"Header\");\n            var headerDocuments =\n                Database\n                .GetCollection&lt;BsonDocument&gt;(collectionName)\n                .Find(filter)\n                .ToList()\n            ;\n\n            CollectionDates = new SortedSet&lt;ListItem_Date&gt;();\n\n            foreach (BsonDocument doc in headerDocuments)\n            {\n                DateTime rangeStart = doc[\"DateStart\"].ToUniversalTime().Date;\n                DateTime rangeEnd = doc[\"DateEnd\"].ToUniversalTime().Date;\n\n                for (DateTime dt = rangeStart; dt &lt; rangeEnd; dt = dt.AddDays(1))\n                {\n                    CollectionDates.Add(new ListItem_Date(dt));\n                }\n            }\n        });\n    }\n</code></pre>\n\n<p>Everything works fine when events triggered by person driven UI operations, mouse clicks, etc.</p>\n\n<p>To speed up some debugging (by reaching a specific state of selections and data retrievals) I am trying to make the selections programmatically from inside the form constructor.</p>\n\n<pre><code>    private SortedSet&lt;ListItem_Date&gt; CollectionDates { get; set; }\n    public Form1()\n    {\n        InitializeComponent();\n        WindowState = FormWindowState.Maximized;\n\n        sfDataGrid1.EnableDataVirtualization = true;\n\n        // host during debugging\n        sf_hostDDL.DataSource = new List&lt;string&gt;() { \"###hidden###\" };\n        sf_hostDDL.SelectedIndex = 0; // loads database names into DDL\n\n        sf_databaseDDL.SelectedIndex = 0;  // automatically select first database\n        radioXYZ.Checked = true;\n        CollectionsDDL_Update();  // do same \"DDL_update\" UI click on radioXYZ would have done\n\n\n\n        // Changing the selected index triggers the async/await method\n        sf_collectionDDL.SelectedIndex = 0;  // automatically select first collection\n\n        // At this point the CollectionDates property is still null and exception ensues\n        // The selectedIndex assignment did not 'await' the innards of\n        // Sf_collectionDDL_SelectedIndexChanged() as I expected.\n\n        // Check first three dates \n        sf_datesDDL.SelectedItems.Add(CollectionDates.Take(3));\n    }\n</code></pre>\n\n<p>What is a good strategy to avoid the exception and programmatically achieve the selections I want in order to reach the 'state' I need to be at.</p>\n"}, {"tags": ["c#", "postman", "autodesk-forge", "autodesk-bim360"], "comments": [{"owner": {"reputation": 5605, "user_id": 2611237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gd9EW.jpg?s=128&g=1", "display_name": "Andrei Dragotoniu", "link": "https://stackoverflow.com/users/2611237/andrei-dragotoniu"}, "edited": false, "score": 0, "creation_date": 1567611212, "post_id": 57791564, "comment_id": 102016526, "body": "might be better to ask this on autodesk&#39;s forums I would think."}, {"owner": {"reputation": 8051, "user_id": 4838205, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/RBf0X.jpg?s=128&g=1", "display_name": "Augusto Goncalves", "link": "https://stackoverflow.com/users/4838205/augusto-goncalves"}, "edited": false, "score": 0, "creation_date": 1567703038, "post_id": 57791564, "comment_id": 102051625, "body": "what&#39;s the format of the <code>user_id</code> you are passing? it should be in the form of o <code>[A-Z][0-9]</code>, and not a GUID-like"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4588465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c431765d8ba0316f4032d214c9571e66?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4588465/matthew"}, "is_accepted": false, "score": 0, "last_activity_date": 1568335920, "creation_date": 1568335920, "answer_id": 57916072, "question_id": 57791564, "link": "https://stackoverflow.com/questions/57791564/postman-how-to-import-users-to-a-bim-360-project-using-the-v2-endpoint/57916072#57916072", "title": "Postman - How to Import Users to a BIM 360 Project Using the V2 Endpoint", "body": "<p>The <code>user_id</code> property of your payload and <code>x-user-id</code> header need to be user's <code>uid</code> rather than the user's <code>id</code>. </p>\n"}], "owner": {"reputation": 1, "user_id": 12016444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/812b670c55495b3a933a4dac5ac45059?s=128&d=identicon&r=PG&f=1", "display_name": "jeremy-asti", "link": "https://stackoverflow.com/users/12016444/jeremy-asti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568335920, "creation_date": 1567610893, "question_id": 57791564, "link": "https://stackoverflow.com/questions/57791564/postman-how-to-import-users-to-a-bim-360-project-using-the-v2-endpoint", "title": "Postman - How to Import Users to a BIM 360 Project Using the V2 Endpoint", "body": "<p>I am working on a small .NET Console App that uses the BIM 360 API to manage both Project and Account members using the two-legged authentication method. I am having trouble trying to import users to a BIM 360 Project using the <a href=\"https://forge.autodesk.com/en/docs/bim360/v1/reference/http/projects-project_id-users-import-POST\" rel=\"nofollow noreferrer\">hq/v2/accounts/:account_id/projects/:project_id/users/import</a> endpoint.</p>\n\n<p>In both a .NET Console App and Postman, I receive a 404 status code with the following body response:</p>\n\n<pre><code>{\n    \"code\": 1004,\n    \"message\": \"this user doesn't exist.\"\n}\n</code></pre>\n\n<p><strong>Request Header</strong>:</p>\n\n<pre><code>Content-Type: \"application/json\";\nx-user-id: \"********-****-****-****-************\";\nAuthorization: Bearer ****&lt;two-legged token string&gt;*****;\n</code></pre>\n\n<p>(<strong>x-user-id</strong> is the guid assigned to the account admin)</p>\n\n<p><strong>Request Body</strong>:</p>\n\n<pre><code>{\n  \"user_id\": \"********-****-****-****-************\",\n  \"services\": {\n    \"project_administration\": {\n      \"access_level\": \"admin\"\n    },\n    \"document_management\": {\n      \"access_level\": \"admin\"\n    }\n  },\n  \"company_id\": \"********-****-****-****-************\",\n  \"industry_roles\": []\n}\n</code></pre>\n\n<p>In the request body, I have used both the <code>user_id</code> fetched from the <a href=\"https://forge.autodesk.com/en/docs/bim360/v1/reference/http/users-:user_id-GET/\" rel=\"nofollow noreferrer\">hq/v1/accounts/:account_id/users/:user_id</a> <code>id</code> property, and the <code>email</code>. I have used a user who is already a member of the project, a user who is in the Admin directory but not a member of the project, and a completely new user who is neither. All three still return the same error.</p>\n\n<p>I've came across similar questions <a href=\"https://stackoverflow.com/questions/54909554/how-to-post-or-patch-users-role-and-access-level-for-bim360-on-postman\">here</a> and <a href=\"https://stackoverflow.com/questions/48757659/import-users-to-bim-360-project-using-forge-v2-endpoint\">here</a> but still can't get it to work.\nIs there something else I am overlooking? Thanks in advance for the help.</p>\n"}, {"tags": ["c#", "wpf"], "answers": [{"comments": [{"owner": {"reputation": 3751, "user_id": 1202717, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bf48d94d81a06de4d96930651270c529?s=128&d=identicon&r=PG", "display_name": "BoundForGlory", "link": "https://stackoverflow.com/users/1202717/boundforglory"}, "edited": false, "score": 0, "creation_date": 1567611678, "post_id": 57791665, "comment_id": 102016774, "body": "Thank you! I&#39;m doing this method in another part of my canvas. Not sure why it didnt dawn on me to do it here."}], "tags": [], "owner": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "is_accepted": true, "score": 1, "last_activity_date": 1567611240, "creation_date": 1567611240, "answer_id": 57791665, "question_id": 57791528, "link": "https://stackoverflow.com/questions/57791528/center-label-inside-rectangle-with-dynamic-width/57791665#57791665", "title": "center label inside rectangle with dynamic width", "body": "<p>you can introduce an additional container - Grid - which will align elements properly:</p>\n\n<pre><code>&lt;Canvas x:Name=\"MyCanvas\"&gt;\n    &lt;Grid Width=\"{Binding ElementName=MyCanvas, Path=ActualWidth}\"&gt;\n        &lt;Rectangle x:Name=\"TopRect\" Fill=\"Black\" Height=\"120\" /&gt;\n\n        &lt;Label Content=\"Welcome to My World\" Foreground=\"#FFFFFF\" FontSize=\"24\"\n               HorizontalAlignment=\"Center\" \n               VerticalAlignment=\"Center\" /&gt;\n    &lt;/Grid&gt;\n&lt;/Canvas&gt;\n</code></pre>\n"}], "owner": {"reputation": 3751, "user_id": 1202717, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bf48d94d81a06de4d96930651270c529?s=128&d=identicon&r=PG", "display_name": "BoundForGlory", "link": "https://stackoverflow.com/users/1202717/boundforglory"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 57791665, "answer_count": 1, "score": 0, "last_activity_date": 1567611950, "creation_date": 1567610725, "last_edit_date": 1567611950, "question_id": 57791528, "link": "https://stackoverflow.com/questions/57791528/center-label-inside-rectangle-with-dynamic-width", "title": "center label inside rectangle with dynamic width", "body": "<p>I have a Window with a canvas that has a rectangle at the top of it. It will stretch to fill the width if the canvas. The Canvas is set to be maximized with no toolbar to fill the entire screen like so:</p>\n\n<pre><code>&lt;Window x:Class=\"Ericsson.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    xmlns:local=\"clr-namespace:Ericsson\"\n    mc:Ignorable=\"d\"\n    Title=\"MainWindow\"  WindowStyle=\"None\"   \n    WindowState=\"Maximized\"&gt;\n&lt;Window.Resources&gt;\n    &lt;SolidColorBrush x:Key = \"brushResource\" Color = \"Black\" /&gt;\n&lt;/Window.Resources&gt;\n\n    &lt;Canvas x:Name=\"MyCanvas\" &gt;\n        &lt;Rectangle x:Name=\"TopRect\" Fill=\"Black\" Height=\"120\" Canvas.Top=\"0\" Canvas.Left=\"0\" Width=\"{Binding ElementName=MyCanvas, Path=ActualWidth}\"/&gt;\n        &lt;Label Content=\"Welcome to My World\" Foreground=\"#FFFFFF\" FontSize=\"24\"\n               HorizontalAlignment=\"Center\" \n               VerticalAlignment=\"Center\" \n        /&gt;\n    &lt;/Canvas&gt;\n\n&lt;/Window&gt;\n</code></pre>\n\n<p>My problem is this, I have a label that needs to be centered inside of the dynamic rectangle. The XAML code above puts the label in the upper left hand corner. So \"HorizontalAlignment\" and \"VerticalAlignment\" didn't work.</p>\n\n<p>How do I center the label both horizontally and vertically inside of my rectangle?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "winforms", "location"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 1, "creation_date": 1567623648, "post_id": 57791522, "comment_id": 102021878, "body": "Pay attention to the &quot;new&quot;: <code>frm1 != this</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1494, "user_id": 958429, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/oXnPZ.png?s=128&g=1", "display_name": "Wilest", "link": "https://stackoverflow.com/users/958429/wilest"}, "edited": false, "score": 0, "creation_date": 1567664951, "post_id": 57791600, "comment_id": 102031514, "body": "Thank you Olivier!"}], "tags": [], "owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "is_accepted": true, "score": 1, "last_activity_date": 1567616874, "last_edit_date": 1567616874, "creation_date": 1567611034, "answer_id": 57791600, "question_id": 57791522, "link": "https://stackoverflow.com/questions/57791522/c-net-windows-form-location/57791600#57791600", "title": "c#.net Windows Form Location", "body": "<p>When the <code>Form1_Load</code> method runs, the form has already been created. When you run <code>Form1 frm1 = new Form1();</code> this creates another form that will never be displayed (since you never call <code>frm1.Show()</code> or <code>frm1.ShowDialog()</code>). Instead, use the current form. You can refer to it through the keyword <code>this</code>.</p>\n\n<p>Also, do this as soon as possible, i.e. in the constructor, but after the form has been initialized, i.e., right after <code>InitializeComponent();</code>. <code>InitializeComponent</code> sets all the form properties and creates all the controls you have defined in the form designer.</p>\n\n<pre><code>public Form1()\n{\n    InitializeComponent();\n    this.StartPosition = FormStartPosition.Manual;\n    this.Left = 500;\n    this.Top = 500; \n}\n</code></pre>\n\n<p>Since these members are known automatically inside the class, you can also omit the <code>this</code> keyword.</p>\n\n<pre><code>public Form1()\n{\n    InitializeComponent();\n    StartPosition = FormStartPosition.Manual;\n    Left = 500;\n    Top = 500; \n}\n</code></pre>\n\n<p>Note, for illustrative purposes only: You can open more than one instance of the same form. This opens 3 instances at different screen positions:</p>\n\n<pre><code>for (int i = 0; i &lt; 3; i++) {\n    Form1 frm1 = new Form1();\n    frm1.StartPosition = FormStartPosition.Manual;\n    frm1.Left = 200 + i * 100;\n    frm1.Top = 400 + i * 50;\n    frm1.Text = $\"This is instance #{i} of Form1\"; // Set the form caption.\n    frm1.Show();\n}\n</code></pre>\n\n<p>See also: <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/this\" rel=\"nofollow noreferrer\">this (C# Reference)</a></p>\n"}], "owner": {"reputation": 1494, "user_id": 958429, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/oXnPZ.png?s=128&g=1", "display_name": "Wilest", "link": "https://stackoverflow.com/users/958429/wilest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 57791600, "answer_count": 1, "score": -1, "last_activity_date": 1567616874, "creation_date": 1567610708, "question_id": 57791522, "link": "https://stackoverflow.com/questions/57791522/c-net-windows-form-location", "title": "c#.net Windows Form Location", "body": "<p>Hi I can't get this working, the form starts up on a different place on the screen every time, what am I doing wrong?  I am setting the location points on form load.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\nusing System.Data.SqlClient;\n\nnamespace Report_Maintenance\n{\n    public partial class Form1 : Form\n    {\n\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void Form1_Load(object sender, EventArgs e)\n        {\n            Form1 frm1 = new Form1();\n            frm1.StartPosition = FormStartPosition.Manual;\n            frm1.Left = 500;\n            frm1.Top = 500;           \n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "umbraco", "connection-string"], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 11921611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQml7.jpg?s=128&g=1", "display_name": "Truong Anh", "link": "https://stackoverflow.com/users/11921611/truong-anh"}, "is_accepted": false, "score": 0, "last_activity_date": 1567612460, "creation_date": 1567612460, "answer_id": 57792021, "question_id": 57791484, "link": "https://stackoverflow.com/questions/57791484/using-different-connection-strings-in-local-development/57792021#57792021", "title": "Using Different Connection Strings in Local Development", "body": "<p>Have a connectionstring like this:\n<code>DefaultConnection\": \"Data Source=.\\\\;Initial Catalog=database;Integrated Security=True;Persist Security Info=False;MultipleActiveResultSets=true\"</code>\nIt uses window authentication to access db.</p>\n"}, {"tags": [], "owner": {"reputation": 77196, "user_id": 784387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acd8ef9d33b72c888c544378a59be2b?s=128&d=identicon&r=PG", "display_name": "Martin Ullrich", "link": "https://stackoverflow.com/users/784387/martin-ullrich"}, "is_accepted": false, "score": 0, "last_activity_date": 1567618639, "creation_date": 1567618639, "answer_id": 57793340, "question_id": 57791484, "link": "https://stackoverflow.com/questions/57791484/using-different-connection-strings-in-local-development/57793340#57793340", "title": "Using Different Connection Strings in Local Development", "body": "<p>You can use a <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.configuration.configurationbuilder\" rel=\"nofollow noreferrer\">ConfigurationBuilder</a>, introduced in .NET Framework 4.7.1, to pre-process the config XML / section relevant to your configuration before it is used by other code. You could use environment variables such as Machine names or user names to modify the connection strings section or appSettings section.</p>\n\n<p>I have a <a href=\"https://dasmulli.blog/2018/01/21/use-appsettings-json-and-environment-overrides-in-classic-asp-net-apps/\" rel=\"nofollow noreferrer\">blog post</a> out there which details implementing loading configuration from different json files based on an <code>ASPNET_Environment</code> environment variable but you can probably accomplish a more targeted change with less code.</p>\n"}, {"tags": [], "owner": {"reputation": 955, "user_id": 1717445, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/90391e1d82af6445f9af05ba5495da59?s=128&d=identicon&r=PG", "display_name": "0Neji", "link": "https://stackoverflow.com/users/1717445/0neji"}, "is_accepted": false, "score": 0, "last_activity_date": 1567681991, "creation_date": 1567681991, "answer_id": 57804236, "question_id": 57791484, "link": "https://stackoverflow.com/questions/57791484/using-different-connection-strings-in-local-development/57804236#57804236", "title": "Using Different Connection Strings in Local Development", "body": "<p>I've found what I think is a fairly simple workaround for this using the <code>configSource</code> attribute. We're now holding the connection strings in an external file <code>connections.txt</code> which is simply ignored in git and referenced in the web config file.</p>\n\n<p>In the web config:</p>\n\n<pre><code>&lt;connectionStrings configSource=\"connections.config\"/&gt;\n</code></pre>\n\n<p>And the text file:</p>\n\n<pre><code>&lt;connectionStrings&gt;\n    &lt;add name=\"CONNECTIONNAME\" connectionString=\"CONNECTIONSTRING\" providerName=\"PROVIDERNAME\" /&gt;\n&lt;/connectionStrings&gt;\n</code></pre>\n"}], "owner": {"reputation": 955, "user_id": 1717445, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/90391e1d82af6445f9af05ba5495da59?s=128&d=identicon&r=PG", "display_name": "0Neji", "link": "https://stackoverflow.com/users/1717445/0neji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 288, "favorite_count": 0, "closed_date": 1567715440, "answer_count": 3, "score": 0, "last_activity_date": 1567681991, "creation_date": 1567610555, "question_id": 57791484, "link": "https://stackoverflow.com/questions/57791484/using-different-connection-strings-in-local-development", "closed_reason": "Duplicate", "title": "Using Different Connection Strings in Local Development", "body": "<p>I have an Umbraco project with multiple developers working on it, each developer has a different connection string for their local database. The process currently is that we change the connection string in the web config locally which works until the next <code>git push</code>/<code>gitpull</code> when it's overrided and we have to manually revert the connection string.</p>\n\n<p>I've seen a plugin called SlowCheetah that allows local web config trasnforms but have had very mixed results with it so am ideally looking for something more robust.</p>\n\n<p>How is this issue normally solved?</p>\n"}, {"tags": ["c#", "azure", "api", "blob", "azure-blob-storage"], "answers": [{"comments": [{"owner": {"reputation": 645, "user_id": 4654297, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh6.googleusercontent.com/-Bn3votVI254/AAAAAAAAAAI/AAAAAAAAABA/eYMuYd_eWCQ/photo.jpg?sz=128", "display_name": "Reza Del", "link": "https://stackoverflow.com/users/4654297/reza-del"}, "edited": false, "score": 0, "creation_date": 1567692741, "post_id": 57792349, "comment_id": 102046416, "body": "Downloading a file from azure Storage was the one i needed."}], "tags": [], "owner": {"reputation": 20467, "user_id": 4989676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jP8H6.jpg?s=128&g=1", "display_name": "Peter Pan", "link": "https://stackoverflow.com/users/4989676/peter-pan"}, "is_accepted": true, "score": 1, "last_activity_date": 1567613832, "creation_date": 1567613832, "answer_id": 57792349, "question_id": 57791482, "link": "https://stackoverflow.com/questions/57791482/downloading-from-azure-blob-using-api/57792349#57792349", "title": "Downloading from Azure blob using API", "body": "<p>You were incorrectly using the function <code>DownloadToByteArray</code> to cause your issue.</p>\n\n<p>According to the offical API reference <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.storage.blob.cloudblob.downloadtobytearray?view=azure-dotnet\" rel=\"nofollow noreferrer\"><code>CloudBlob.DownloadToByteArray(Byte\\[\\], Int32, AccessCondition, BlobRequestOptions, OperationContext) Method</code></a>, the return result of the function is <strong><code>The total number of bytes read into the buffer</code></strong>, not the blob content.</p>\n\n<p>There are two SO threads as below which I think their answers are helpful enough for you to fix it.</p>\n\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/47227123/downloading-a-file-from-azure-storage-to-client-using-angular2-with-net-web-api\">Downloading a file from Azure Storage to client using Angular2 with .NET Web Api 2</a></p>\n\n<p>To use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.storage.blob.cloudblob.openreadasync?view=azure-dotnet\" rel=\"nofollow noreferrer\"><code>CloudBlob.OpenReadAsync Method</code></a> to open a readable stream as the response stream content.</p>\n\n<pre><code>var stream = await blob.OpenReadAsync();\nresult.Content = new StreamContent(stream);\n</code></pre></li>\n<li><p><a href=\"https://stackoverflow.com/questions/42162759/httpresponsemessage-redirect-to-private-azure-blob-storage\">HttpResponseMessage Redirect to Private Azure Blob Storage</a></p>\n\n<p>To redirect the request to blob url with sas token.</p>\n\n<pre><code>var sasToken = blob.GetSharedAccessSignature(new SharedAccessBlobPolicy()\n{\n    Permissions = SharedAccessBlobPermissions.Read,\n    SharedAccessExpiryTime = DateTime.UtcNow.AddHours(1)//Assuming you want the link to expire after 1 hour\n});\nvar blobUrl = string.Format(\"{0}{1}\", blob.Uri.AbsoluteUri, sasToken);\nvar response = Request.CreateResponse(HttpStatusCode.Moved);\nresponse.Headers.Location = new Uri(bloburl);\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 645, "user_id": 4654297, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh6.googleusercontent.com/-Bn3votVI254/AAAAAAAAAAI/AAAAAAAAABA/eYMuYd_eWCQ/photo.jpg?sz=128", "display_name": "Reza Del", "link": "https://stackoverflow.com/users/4654297/reza-del"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1755, "favorite_count": 0, "accepted_answer_id": 57792349, "answer_count": 1, "score": 0, "last_activity_date": 1567613832, "creation_date": 1567610552, "last_edit_date": 1592644375, "question_id": 57791482, "link": "https://stackoverflow.com/questions/57791482/downloading-from-azure-blob-using-api", "title": "Downloading from Azure blob using API", "body": "<p>I need pipeline the PDF or excel file from azure blob storage to front end using an API. i am using <a href=\"https://stackoverflow.com/questions/24312527/azure-blob-storage-downloadtobytearray-vs-downloadtostream\">download to byte array of blob storage</a> and then convert that to memory stream to send it back to a users.</p>\n<p>this is my controller</p>\n<pre><code>[AllowAnonymous]\n[HttpGet]\n[Route(&quot;GetFiles&quot;)]\npublic HttpResponseMessage GetFiles()\n{\n        const string StorageAccountName = &quot;nameofAccount&quot;;\n        const string StorageAccountKey = &quot;TheKey&quot;;\n        try\n        {\n          var storageAccount = new CloudStorageAccount(new StorageCredentials(StorageAccountName, StorageAccountKey), true);// login to azure and storage Account\n          \n          var bloblClinet = storageAccount.CreateCloudBlobClient();// get blob client refernce\n\n          var container = bloblClinet.GetContainerReference(&quot;crmtestblob&quot;);// get container refernce \n\n          var blob = container.GetBlockBlobReference(&quot;test.xlsx&quot;);\n          long fileByteLength = blob.Properties.Length;// this return -1 \n          byte[] fileContent = new byte[100000];\n\n          var MyArray = blob.DownloadToByteArray(fileContent, 0);\n            \n          HttpResponseMessage result = new HttpResponseMessage(HttpStatusCode.OK);\n\n\n          var stream = new MemoryStream(MyArray);//application/octet-stream\n            result.Content = new StreamContent(stream);//application/vnd.ms-excel\n          result.Content.Headers.ContentType = new MediaTypeHeaderValue(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\n          result.Content.Headers.ContentDisposition = new ContentDispositionHeaderValue(&quot;attachment&quot;)\n          {\n              FileName = &quot;test.xlsx&quot;\n          };\n          return result;\n\n        }\n        catch (Exception ex)\n        {\n           \n\n            \n            return new HttpResponseMessage(HttpStatusCode.InternalServerError);\n        }\n\n    }\n</code></pre>\n<p>i get response 200\nbut no file is sent, or the file is corrupted\nany help would be great</p>\n"}, {"tags": ["c#", "entity-framework-core"], "comments": [{"owner": {"reputation": 8181, "user_id": 167670, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Rrd5M.jpg?s=128&g=1", "display_name": "Afshar Mohebi", "link": "https://stackoverflow.com/users/167670/afshar-mohebi"}, "edited": false, "score": 0, "creation_date": 1567611934, "post_id": 57791461, "comment_id": 102016920, "body": "Can you add the code you see the problem in which? It&#39;ll help diagnosing the problem better. It looks like that a property with the role of id/key is getting overridden."}], "answers": [{"tags": [], "owner": {"reputation": 243, "user_id": 11999903, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mArlBAHKa2sBcWE0ukXWnzf08owZejLx_C15-Ozhw=k-s128", "display_name": "Pedro Brito", "link": "https://stackoverflow.com/users/11999903/pedro-brito"}, "is_accepted": false, "score": 0, "last_activity_date": 1567611720, "creation_date": 1567611720, "answer_id": 57791802, "question_id": 57791461, "link": "https://stackoverflow.com/questions/57791461/how-to-copy-property-values-to-entity-framework-core-object-without-loosing-atta/57791802#57791802", "title": "How to copy property values to Entity Framework Core object without loosing attached context", "body": "<p>I think using NoTracking may help you. Here is a link to some explanation about what is NoTracking.\n<a href=\"https://www.c-sharpcorner.com/article/no-tracking-with-entity-framework-core/\" rel=\"nofollow noreferrer\">https://www.c-sharpcorner.com/article/no-tracking-with-entity-framework-core/</a></p>\n"}], "owner": {"reputation": 1145, "user_id": 1105488, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/aRE4A.jpg?s=128&g=1", "display_name": "marco birchler", "link": "https://stackoverflow.com/users/1105488/marco-birchler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1567612130, "creation_date": 1567610487, "last_edit_date": 1567612130, "question_id": 57791461, "link": "https://stackoverflow.com/questions/57791461/how-to-copy-property-values-to-entity-framework-core-object-without-loosing-atta", "title": "How to copy property values to Entity Framework Core object without loosing attached context", "body": "<p>We would like to have a method which copies all properties of a given input object to an existing entity framework core object which was loaded from the database and therefore is in attached state.</p>\n\n<p>We have tried <a href=\"https://automapper.org/\" rel=\"nofollow noreferrer\">Automapper</a> and <a href=\"https://www.nuget.org/packages/AnyClone\" rel=\"nofollow noreferrer\">AnyClone</a> to copy all properties from the input to the database object. The copy itself works fine but when we then store/save the database object Entity Framework creates a new entry instead of updating the existing one.</p>\n\n<p>Is there some kind of hidden property which we should not copy in order to not loose the attachment to the <code>DbContext</code>?</p>\n"}, {"tags": ["c#", "razor", "many-to-many", "razor-pages", "kendo-multiselect"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 11496043, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dQkq5e3B7_8/AAAAAAAAAAI/AAAAAAAAAN8/fAQPDhKt814/photo.jpg?sz=128", "display_name": "Tony Ryan", "link": "https://stackoverflow.com/users/11496043/tony-ryan"}, "is_accepted": true, "score": 0, "last_activity_date": 1567651732, "creation_date": 1567651732, "answer_id": 57797798, "question_id": 57791453, "link": "https://stackoverflow.com/questions/57791453/cant-bind-kendo-multi-select-correctly-to-read-and-write-to-a-many-to-many-razo/57797798#57797798", "title": "Can&#39;t bind Kendo Multi Select correctly to read and write to a many to many razor model", "body": "<p>Thanks to anyone that considered this, but I got it working</p>\n\n<p>added a new class:</p>\n\n<pre><code>    public class SelectedAppRoles\n    {\n        public int RoleID { get; set; }\n    }\n</code></pre>\n\n<p>Then a new list</p>\n\n<pre><code>        public List&lt;SelectedAppRoles&gt; selectedRoles;\n</code></pre>\n\n<p>Then used the list instead of an array</p>\n\n<pre><code>foreach (var role in allRoles)\n            {\n                AssignedAppRoleDataList.Add(new AssignedAppRoleData\n                {\n                    RoleID = role.ID,\n                    Role = role.RoleName,\n                    Assigned = appRoles.Contains(role.ID)\n\n                });\n\n                if (appRoles.Contains(role.ID))\n                {\n                    selectedRoles.Add(new SelectedAppRoles\n                    {\n                        RoleID = role.ID,\n                    });                 \n                }\n            }\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 11496043, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dQkq5e3B7_8/AAAAAAAAAAI/AAAAAAAAAN8/fAQPDhKt814/photo.jpg?sz=128", "display_name": "Tony Ryan", "link": "https://stackoverflow.com/users/11496043/tony-ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 57797798, "answer_count": 1, "score": 0, "last_activity_date": 1567651732, "creation_date": 1567610459, "question_id": 57791453, "link": "https://stackoverflow.com/questions/57791453/cant-bind-kendo-multi-select-correctly-to-read-and-write-to-a-many-to-many-razo", "title": "Can&#39;t bind Kendo Multi Select correctly to read and write to a many to many razor model", "body": "<p>I have a many to many relationship in a razor page project that joins Roles (UserRoles) to Apps for permissions reasons in a larger project. I'm trying to get a kendo multi select control to read and write to the database via the model. I can do it with checkboxes, but there are too many entries and I need to use a multiselect drop down instead. I cannot get any help from Telerik other than hard coded array data displaying and not saving, which is of no use. I need to read and write assigned values from and to the database.</p>\n\n<p>The code below basically shows what I am trying to do: \nselectedRoles needs to be an array or list of integers that are selected RoleID's from the database. \nIn PopulateAssignedAppRoleData below they are reading correctly into the AssignedAppRoleDataList where it calls Assigned = appRoles.Contains(role.ID). However selectedRoles needs to resize to accept new RoleID's as I loop through the join table. </p>\n\n<p>I'm not sure where or how to declare public int[] selectedRoles after I know how many integers it needs to hold, or whether I need to use a List&lt;> or enumerable that I can resize dynamically, or whether I need a counter and then another void to populate in a repeat of the loop or.... :(</p>\n\n<p>selectedRoles.Append (role.ID); does not work</p>\n\n<p>public void UpdateAppRoles(FliveRetryContext context,\n            string[] selectedRoles, App appToUpdate)\nis working correctly to save to database, I just need to fill the array or list to populate the selected values in drop down list.</p>\n\n<p>Thank you for your help, my C# is fairly basic.</p>\n\n<p>I haven't include all of the models, they aren't relevant but they all work</p>\n\n<p>This is the call in the View:</p>\n\n<pre><code>@(Html.Kendo().MultiSelectFor(m=&gt;m.selectedRoles)\n                        .Placeholder(\"Select ...\")\n                        .DataTextField(\"Role\")\n                        .DataValueField(\"RoleID\")\n                        .BindTo(Model.AssignedAppRoleDataList)\n</code></pre>\n\n<p>and these are the calls in the page model: UpdateAppRoles works fine</p>\n\n<pre><code>public int[] selectedRoles = new int[] {};      \n\npublic void PopulateAssignedAppRoleData(FliveRetryContext context, App app)\n        {\n            var allRoles = context.Role;\n            var appRoles = new HashSet&lt;int&gt;(\n                app.RoleAppJoins.Select(c =&gt; c.RoleID));\n            AssignedAppRoleDataList = new List&lt;AssignedAppRoleData&gt;();\n            foreach (var role in allRoles)\n            {\n                AssignedAppRoleDataList.Add(new AssignedAppRoleData\n                {\n                    RoleID = role.ID,\n                    Role = role.RoleName,\n                    Assigned = appRoles.Contains(role.ID)\n\n            });\n                //This is where I need to append or count, but I don't know the syntax\n        if (appRoles.Contains(role.ID))\n            {\n             selectedRoles.Append (role.ID);\n        }\n        }\n\n\n        }\n\npublic void UpdateAppRoles(FliveRetryContext context,\n            string[] selectedRoles, App appToUpdate)\n        {\n            if (selectedRoles == null)\n            {\n                appToUpdate.RoleAppJoins = new List&lt;RoleAppJoin&gt;();\n                return;\n            }\n\n            var selectedRolesHS = new HashSet&lt;string&gt;(selectedRoles);\n            var appRoles = new HashSet&lt;int&gt;\n                (appToUpdate.RoleAppJoins.Select(c =&gt; c.Role.ID));\n            foreach (var role in context.Role)\n            {\n                if (selectedRolesHS.Contains(role.ID.ToString()))\n                {\n                    if (!appRoles.Contains(role.ID))\n                    {\n                        appToUpdate.RoleAppJoins.Add(\n                            new RoleAppJoin\n                            {\n                                AppID = appToUpdate.ID,\n                                RoleID = role.ID\n                            });\n                    }\n                }\n                else\n                {\n                    if (appRoles.Contains(role.ID))\n                    {\n                        RoleAppJoin roleToRemove\n                            = appToUpdate\n                                .RoleAppJoins\n                                .SingleOrDefault(i =&gt; i.RoleID == role.ID);\n                        context.Remove(roleToRemove);\n                    }\n                }\n            }\n        }\n\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11840518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mAKeh.jpg?s=128&g=1", "display_name": "steveola", "link": "https://stackoverflow.com/users/11840518/steveola"}, "is_accepted": false, "score": 0, "last_activity_date": 1567611186, "creation_date": 1567611186, "answer_id": 57791648, "question_id": 57791450, "link": "https://stackoverflow.com/questions/57791450/rigidbody-circular-movement/57791648#57791648", "title": "Rigidbody circular movement", "body": "<p>If you are not making it move on its own axis the you have to attach it to a another body but do put the ball in the same position as the ball. You can the hide body then when you automate rotation it moves of the axis of the hidden body. Its the best way to achieve that without extra coding or the facing the quaternion problem.  </p>\n"}, {"comments": [{"owner": {"reputation": 416, "user_id": 4210034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xxnmC.jpg?s=128&g=1", "display_name": "Hossein", "link": "https://stackoverflow.com/users/4210034/hossein"}, "edited": false, "score": 0, "creation_date": 1567667582, "post_id": 57791969, "comment_id": 102032598, "body": "Thanks @derHugo! such a perfect answer! you are pro man! But there is a problem, the gravity radius increases smoothly when i keep touching, can you explain why?"}, {"owner": {"reputation": 5521, "user_id": 1253136, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/78ed265f0b33e2208570927bc7b5dcb4?s=128&d=identicon&r=PG", "display_name": "XenoRo", "link": "https://stackoverflow.com/users/1253136/xenoro"}, "edited": false, "score": 0, "creation_date": 1568642092, "post_id": 57791969, "comment_id": 102328574, "body": "Getting input on FixedUpdate will lead to bugs unless it is perfectly synchronous to Update, which it shouldn&#39;t ever reliably be, as that defeats the purpose. --- Also, there is no need to make a distinction between touch and mouse input in cases where only a single touch is supported like this one. Mouse handling alone will work."}], "tags": [], "owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "is_accepted": true, "score": 4, "last_activity_date": 1568642842, "last_edit_date": 1568642842, "creation_date": 1567612308, "answer_id": 57791969, "question_id": 57791450, "link": "https://stackoverflow.com/questions/57791450/rigidbody-circular-movement/57791969#57791969", "title": "Rigidbody circular movement", "body": "<p>Like the way physics does it: </p>\n\n<p>Your touch position is kind of a gravitation center &rightarrow; Continuously assign a new direction using the same magnitude but in a new direction which stands in a 90\u00b0 angle to the vector from center to the moving object and the rotation axis. </p>\n\n<p>In code this might look like</p>\n\n<pre><code>public class Example : MonoBehaviour\n{\n    [SerializeField] private Rigidbody2D rb;\n    [SerializeField] private Camera _camera;\n\n    [SerializeField] private Vector2 initialVelocity;    \n\n    private bool doGravitation;\n    private Vector2 centerPos;\n\n    private void Awake()\n    {\n        if(!rb) rb = GetComponent&lt;Rigidbody2D&gt;();\n        if(!_camera) _camera = Camera.main;\n\n        rb.velocity = initialVelocity;\n    }\n\n    private void Update()\n    {\n        // check for touch support otherwise use mouse as fallback\n        // (for debugging on PC)\n        if (Input.touchSupported)\n        {\n            // not touching or too many -&gt; do nothing\n            if (Input.touchCount != 1)\n            {\n                doGravitation = false;\n                return;\n            }\n\n            var touchPosition = Input.GetTouch(0).position;\n            centerPos = _camera.ScreenToWorldPoint(touchPosition);\n            doGravitation = true;\n        }\n        else\n        {\n            // mouse not pressed -&gt; do nothing\n            if (!Input.GetMouseButton(0))\n            {\n                doGravitation = false;\n                return;\n            }\n\n            centerPos = _camera.ScreenToWorldPoint(Input.mousePosition);\n            doGravitation = true;\n        }\n    }\n\n    private void FixedUpdate()\n    {\n        if(!doGravitation) return;\n\n        // get current magnitude\n        var magnitude = rb.velocity.magnitude;\n\n        // get vector center &lt;- obj\n        var gravityVector = centerPos - rb.position;\n\n        // check whether left or right of target\n        var left = Vector2.SignedAngle(rb.velocity, gravityVector) &gt; 0;\n\n        // get new vector which is 90\u00b0 on gravityDirection \n        // and world Z (since 2D game)\n        // normalize so it has magnitude = 1\n        var newDirection = Vector3.Cross(gravityVector, Vector3.forward).normalized;\n\n        // invert the newDirection in case user is touching right of movement direction\n        if (!left) newDirection *= -1;\n\n        // set new direction but keep speed(previously stored magnitude)\n        rb.velocity = newDirection * magnitude;\n    }\n}\n</code></pre>\n\n<p>Also see:</p>\n\n<ul>\n<li><a href=\"https://docs.unity3d.com/ScriptReference/Input.GetTouch.html\" rel=\"nofollow noreferrer\"><code>Input.GetTouch</code></a></li>\n<li><a href=\"https://docs.unity3d.com/ScriptReference/Touch-position.html\" rel=\"nofollow noreferrer\"><code>Touch.position</code></a></li>\n<li><a href=\"https://docs.unity3d.com/ScriptReference/Camera.ScreenToWorldPoint.html\" rel=\"nofollow noreferrer\"><code>Camera.ScreenToWorldPoint</code></a></li>\n<li><a href=\"https://docs.unity3d.com/ScriptReference/Vector2.SignedAngle.html\" rel=\"nofollow noreferrer\"><code>Vector2.SignedAngle</code></a></li>\n<li><a href=\"https://docs.unity3d.com/ScriptReference/Vector3.Cross.html\" rel=\"nofollow noreferrer\"><code>Vector3.Cross</code></a></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/wTOHM.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wTOHM.gif\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>Note that this sometimes looks strange especially when touching in front of the ball since we force it onto a circle curve that might have a strange angle to the current movement. You can smooth that out but that's up to you ;)</p>\n"}], "owner": {"reputation": 416, "user_id": 4210034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xxnmC.jpg?s=128&g=1", "display_name": "Hossein", "link": "https://stackoverflow.com/users/4210034/hossein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "accepted_answer_id": 57791969, "answer_count": 2, "score": 1, "last_activity_date": 1568642842, "creation_date": 1567610444, "last_edit_date": 1567668946, "question_id": 57791450, "link": "https://stackoverflow.com/questions/57791450/rigidbody-circular-movement", "title": "Rigidbody circular movement", "body": "<p>I have a 2D ball that has a force and moves in indeterminate direction, i need to make ball moves circular to right or left when user touches the screen, in relative to current direction without changing speed. How can i do that?</p>\n\n<p>I tried this code, but other physics cannot affect the ball, because we are changing transform directly :</p>\n\n<pre><code>float angle = 0;\nfloat radius = 1;\n\nvoid FixedUpdate()\n{\n    angle += speed * Time.deltaTime;\n    float x = center.x + Mathf.Cos(angle) * radius;\n    float y = center.y + Mathf.Sin(angle) * radius;\n\n    rigidbody.transform.position = new Vector3(x, y, 3);\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "text-processing"], "comments": [{"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1567613014, "post_id": 57791301, "comment_id": 102017504, "body": "Have you tried the LTR/RTL character? <a href=\"https://xkcd.com/1137/\" rel=\"nofollow noreferrer\">xkcd.com/1137</a> I don&#39;t <i>expect</i> it to work, but its worth a try."}, {"owner": {"reputation": 527, "user_id": 9977758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f093d9d5b8e4ef87e83e7b655c5a8e3?s=128&d=identicon&r=PG&f=1", "display_name": "SagiZiv", "link": "https://stackoverflow.com/users/9977758/sagiziv"}, "reply_to_user": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1567614083, "post_id": 57791301, "comment_id": 102018014, "body": "@Draco18s Yes, it didn&#39;t work, just showed weird sign"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1567615590, "post_id": 57791301, "comment_id": 102018650, "body": "That&#39;s what I expected, based on other similar unicode objects."}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1567615927, "post_id": 57791301, "comment_id": 102018787, "body": "<a href=\"https://stackoverflow.com/questions/52294964/bi-directional-text-in-unity-textmesh-pro\">Oh hey, we&#39;ve been here before</a>. I <a href=\"https://fogbugz.unity3d.com/default.asp?1109982_bdnahkgs9btg3dpn\" rel=\"nofollow noreferrer\">reported unicode combining marks not combinging</a> in February, so I don&#39;t think anything&#39;s changed in the last year."}, {"owner": {"reputation": 527, "user_id": 9977758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f093d9d5b8e4ef87e83e7b655c5a8e3?s=128&d=identicon&r=PG&f=1", "display_name": "SagiZiv", "link": "https://stackoverflow.com/users/9977758/sagiziv"}, "reply_to_user": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1567617646, "post_id": 57791301, "comment_id": 102019505, "body": "@Draco18s Wow I forgot about it, does it help to report?"}, {"owner": {"reputation": 527, "user_id": 9977758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f093d9d5b8e4ef87e83e7b655c5a8e3?s=128&d=identicon&r=PG&f=1", "display_name": "SagiZiv", "link": "https://stackoverflow.com/users/9977758/sagiziv"}, "reply_to_user": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1567617826, "post_id": 57791301, "comment_id": 102019572, "body": "Is not there any code I can use to flip the words&#191;"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1567618093, "post_id": 57791301, "comment_id": 102019677, "body": "Reporting at least makes Unity aware of the problem. As for code to flip the words, no."}], "answers": [{"tags": [], "owner": {"reputation": 527, "user_id": 9977758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f093d9d5b8e4ef87e83e7b655c5a8e3?s=128&d=identicon&r=PG&f=1", "display_name": "SagiZiv", "link": "https://stackoverflow.com/users/9977758/sagiziv"}, "is_accepted": true, "score": 0, "last_activity_date": 1567874310, "creation_date": 1567874310, "answer_id": 57835618, "question_id": 57791301, "link": "https://stackoverflow.com/questions/57791301/bidirectional-text-in-unity/57835618#57835618", "title": "Bidirectional text in unity", "body": "<p>Found a solution, <a href=\"http://github.com/mnarimani/RTLTMPro\" rel=\"nofollow noreferrer\">this asset</a> does the trick better then what I achieved.\nNeed some modifications but still solves the problem really good.</p>\n"}], "owner": {"reputation": 527, "user_id": 9977758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f093d9d5b8e4ef87e83e7b655c5a8e3?s=128&d=identicon&r=PG&f=1", "display_name": "SagiZiv", "link": "https://stackoverflow.com/users/9977758/sagiziv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 1, "accepted_answer_id": 57835618, "answer_count": 1, "score": 4, "last_activity_date": 1580614815, "creation_date": 1567609929, "last_edit_date": 1580614815, "question_id": 57791301, "link": "https://stackoverflow.com/questions/57791301/bidirectional-text-in-unity", "title": "Bidirectional text in unity", "body": "<p>I have been using Unity3D for about 2 years now, and one thing that I can't figure out is how to have bidirectional text.</p>\n\n<p>In my programs I write in Hebrew and English. The problem is that Textmesh Pro doesn't support it at all. It flips the Hebrew words, and if I enable RTL option, it flips <strong>English and numbers</strong>.</p>\n\n<p>So far, I tried to flip the English words and the numbers before I show it in the text box, but it doesn't work properly. I detect English words by the first character of every word.</p>\n\n<p>I would post the code, when I would be next to my computer.</p>\n\n<p>Is there anything I can do to fix it\u00bf Maybe some code to flip the problematic words somehow.</p>\n"}, {"tags": ["c#", "xna"], "comments": [{"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 0, "creation_date": 1567610414, "post_id": 57791222, "comment_id": 102016099, "body": "You are looking for Word Wrapping. See: <a href=\"https://stackoverflow.com/questions/15986473/how-do-i-implement-word-wrap\">How do I implement word wrap?</a>. You can easily adapt the code to have only the first line returned."}, {"owner": {"reputation": 343, "user_id": 11696579, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4fJy36kA67Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rccHq9tvlwkMTsjN7R8o3OlAqIfiA/mo/photo.jpg?sz=128", "display_name": "Hobbit7", "link": "https://stackoverflow.com/users/11696579/hobbit7"}, "reply_to_user": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 0, "creation_date": 1567630062, "post_id": 57791222, "comment_id": 102023999, "body": "Is it possible to disassemble/split the string Playernickname into an array of characters? I want to find out how many characters of the string I can draw before the string exceeds the border of the rectangle. The string Playernickname only has one word(&quot;Best_playerrrindaworrrrrld!!!&quot;), there are no other words in this string. I think word wrapping will not work in my situation because I don&#39;t want to split a text into words, I want to split a word/string into its characters. I can just draw the part of the string that is in the rectangle."}, {"owner": {"reputation": 343, "user_id": 11696579, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4fJy36kA67Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rccHq9tvlwkMTsjN7R8o3OlAqIfiA/mo/photo.jpg?sz=128", "display_name": "Hobbit7", "link": "https://stackoverflow.com/users/11696579/hobbit7"}, "reply_to_user": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 0, "creation_date": 1567669630, "post_id": 57791222, "comment_id": 102033560, "body": "I found out how to split a string into characters."}, {"owner": {"reputation": 1352, "user_id": 2735344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d369895803df5664eb8669ae12980ff3?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/2735344/steven"}, "edited": false, "score": 0, "creation_date": 1567750793, "post_id": 57791222, "comment_id": 102064038, "body": "If you&#39;ve found the solution, you can post that as an own answer too and accept it yourself, that way it&#39;s more clear for us to see there&#39;s a solution found. :)"}], "owner": {"reputation": 343, "user_id": 11696579, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4fJy36kA67Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rccHq9tvlwkMTsjN7R8o3OlAqIfiA/mo/photo.jpg?sz=128", "display_name": "Hobbit7", "link": "https://stackoverflow.com/users/11696579/hobbit7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567669607, "creation_date": 1567609623, "last_edit_date": 1567669607, "question_id": 57791222, "link": "https://stackoverflow.com/questions/57791222/how-can-i-split-a-long-string-into-characters-so-that-it-matches-with-a-given-re", "title": "How can I split a long string into characters so that it matches with a given rectangle?", "body": "<p>I have a rectangle and a string and sometimes the string is too long for the rectangle, then I just want to draw the characters of the string that are in the rectangle. Every character that exceeds the border of the rectangle should not be drawn. But I don't know how to split up the long string into characters.</p>\n\n<p>I want to do almost the same thing as described in this question: <a href=\"https://stackoverflow.com/questions/57715767/how-can-i-split-a-long-string-so-that-it-matches-with-a-given-rectangle\">How can I split a long string so that it matches with a given rectangle?</a></p>\n\n<p>But this time, the result should look like this:</p>\n\n<pre><code>string Playernickname = \"Best_playerrrindaworrrrrld!!!\";\n\n//if the string is too long, then just draw the part that is in the rectangle, for example:\nPlayernickname = \"Best_playerrrindaworrr\";\n\nprotected override void Draw(GameTime gameTime)\n{                \n    graphics.GraphicsDevice.Clear(Microsoft.Xna.Framework.Color.CornflowerBlue);\n    spriteBatch.Begin();\n    spriteBatch.DrawString(Font, Playernickname, new Vector2(200, 300), Microsoft.Xna.Framework.Color.White, 0, Vector2.Zero, 1f, SpriteEffects.None, 0f);\n    spriteBatch.End();\n\n    base.Draw(gameTime);\n}\n</code></pre>\n\n<p>How can I split up a string into characters and only drawing the part of the string that is in the given rectangle?</p>\n\n<p><strong>UPDATE:</strong>\nI found out how to split a string into characters:\n<a href=\"https://social.msdn.microsoft.com/Forums/en-US/9b4e50dd-1136-42c8-af61-bbab96c5795d/split-a-word-to-characters?forum=csharplanguage\" rel=\"nofollow noreferrer\">https://social.msdn.microsoft.com/Forums/en-US/9b4e50dd-1136-42c8-af61-bbab96c5795d/split-a-word-to-characters?forum=csharplanguage</a></p>\n\n<p>My code:</p>\n\n<pre><code>    string Playernickname = \"Best_playerrrindaworrrrrld!!!\";\n    string[] Newword;\n    Newword = Splitchar(Playernickname, 200, Font).ToArray();\n    public static IEnumerable&lt;string&gt; Splitchar(string text, double rectangleWidth, SpriteFont font)\n    {\n        char[] chars = Encoding.Unicode.GetChars(Encoding.Unicode.GetBytes(text));\n        string buffer = string.Empty;\n\n        foreach (var character in chars)\n        {\n            var newBuffer = buffer + character.ToString();\n            if (character == chars[0])\n                newBuffer = character.ToString();\n            else\n                newBuffer = buffer + character.ToString();\n\n            Vector2 FontMeasurements = font.MeasureString(newBuffer);\n\n            if (FontMeasurements.X &gt;= rectangleWidth)\n            {\n                yield return buffer;\n                buffer = character.ToString();\n            }\n            else\n            {\n                buffer = newBuffer;\n            }\n        }\n        yield return buffer;\n    }\n\n    //Drawing:\n    //This only draws the characters of the string that are in the rectangle.\n    spriteBatch.DrawString(Font, Newword[0], new Vector2(200, 300), Microsoft.Xna.Framework.Color.White, 0, Vector2.Zero, 1f, SpriteEffects.None, 0f);\n</code></pre>\n"}, {"tags": ["c#", "unit-testing", "asp.net-web-api", "entity-framework-core", "asp.net-core-webapi"], "comments": [{"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "edited": false, "score": 0, "creation_date": 1567650789, "post_id": 57791172, "comment_id": 102028181, "body": "Is there any demo to reproduce your issue?"}], "owner": {"reputation": 21, "user_id": 6781511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715e3d0b6d53037ddc398abe4ba2e585?s=128&d=identicon&r=PG&f=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/6781511/victor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 219, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567609382, "creation_date": 1567609382, "question_id": 57791172, "link": "https://stackoverflow.com/questions/57791172/field-not-found-microsoft-entityframeworkcore-metadata-internal-entitymaterial", "title": "Field not found: &#39;Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.ThrowReadValueExceptionMethod&#39;", "body": "<p>I am trying to make Integration tests of my WebApi controllers through NUnit but I am getting this error: </p>\n\n<blockquote>\n  <p>Field not found: 'Microsoft.EntityFrameworkCore.Metadata.Internal.EntityMaterializerSource.ThrowReadValueExceptionMethod'.</p>\n</blockquote>\n\n<p>The error occurs exactly when I call this line from Entity Framework:</p>\n\n<pre><code>await base.SaveChangesAsync(true, cancellationToken);\n</code></pre>\n\n<p>The 'interesting' part is that I am not having this error when I test the api directly (in localhost), only when I test it from Nunit.</p>\n\n<p>This is the code from my test class:</p>\n\n<pre><code>[Test]\npublic async Task PutAusschreibungen_WhenCalled_ReturnAddedAusschreibendeStellen()\n{\n   Guid id = Guid.NewGuid();\n   AusschreibungDto ausschreibungDto = new AusschreibungDto\n   {\n      Id = id,\n      Nr = 0,\n      Status = \"Test\",\n      Quelle = new QuelleDto\n      {\n          Id =  Guid.NewGuid(),\n          Name = \"QuelleTest\",\n          EingangTyp = EingangTyp.Email\n      }\n   };\n   IActionResult result = await _ausschreibungenController.PostAusschreibung(It.IsAny&lt;string&gt;(), ausschreibungDto);\n   Assert.That(result, Is.TypeOf&lt;CreatedAtActionResult&gt;());\n\n}\n</code></pre>\n\n<p>This one is the code from my Controller:</p>\n\n<pre><code>        [HttpPost]\n        public async Task&lt;IActionResult&gt; PostAusschreibung(string dbType, [FromBody] AusschreibungDto ausschreibungDto)\n        {\n            //if (!ModelState.IsValid)\n            //{\n            //    return new BadRequestObjectResult(ModelState);\n            //}\n            //Not neccesary because ControllerBase makes Validation automatically\n\n            using (IUnitOfWork uow = _uowF(dbType))\n            {\n                Ausschreibung ausschreibung = _mapper.Map&lt;AusschreibungDto, Ausschreibung&gt;(ausschreibungDto);\n                uow.Ausschreibungen.Add(ausschreibung);\n\n                try\n                {\n                    await uow.CompleteAsync();\n                }\n                catch (DbUpdateException ex)\n                {\n\n                    return StatusCode(500, ex.ToString());\n                }\n\n                AusschreibungDto result = _mapper.Map&lt;Ausschreibung, AusschreibungDto&gt;(ausschreibung);\n                return CreatedAtAction(\"GetAusschreibung\", new {dbType, nr = result.Nr},\n                    \"Der Ausschreibung-Eintr\u00e4ge wurde erfolgreich in die Datenbank aufgenommen.\");\n            }\n        }\n</code></pre>\n\n<p>I am using AspNet Core 2.1.0 and Entity Framework Core 2.1.1</p>\n\n<p>Any help would be appreciated!</p>\n"}]