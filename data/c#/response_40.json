[{"tags": ["c#", "lambda", "keyboard-hook"], "comments": [{"owner": {"reputation": 17388, "user_id": 921321, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3f4c4737cb30134f58cc76f06ef5113a?s=128&d=identicon&r=PG", "display_name": "Lukazoid", "link": "https://stackoverflow.com/users/921321/lukazoid"}, "edited": false, "score": 0, "creation_date": 1444865536, "post_id": 33137357, "comment_id": 54086257, "body": "The solution by George Mamaladze does not look reliable, how is he ensuring <code>hookProc</code> doesn&#39;t get GC&#39;ed? For that reason alone I&#39;d trust Stephen Toub&#39;s code more."}, {"owner": {"reputation": 129, "user_id": 1477605, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35b889c868a071a56b4d2095cf37e744?s=128&d=identicon&r=PG", "display_name": "Jedi Commymullah", "link": "https://stackoverflow.com/users/1477605/jedi-commymullah"}, "reply_to_user": {"reputation": 17388, "user_id": 921321, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3f4c4737cb30134f58cc76f06ef5113a?s=128&d=identicon&r=PG", "display_name": "Lukazoid", "link": "https://stackoverflow.com/users/921321/lukazoid"}, "edited": false, "score": 0, "creation_date": 1444866152, "post_id": 33137357, "comment_id": 54086388, "body": "@Lukazoid now i did say &quot;generally &quot; concerning the code** but a quick glance at mamaladze code doesn&#39;t reveal that sort of mechanism, it&#39;s this use of lambda i don&#39;t know"}, {"owner": {"reputation": 19745, "user_id": 574632, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/bb13b2bbc97ce81108b09be9a41120a1?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/574632/steve"}, "edited": false, "score": 0, "creation_date": 1444867504, "post_id": 33137357, "comment_id": 54086739, "body": "This is a reasonable question with a very poor title, I suggest you edit that"}, {"owner": {"reputation": 15033, "user_id": 215741, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/523632d546a902405b674284d0a2cee9?s=128&d=identicon&r=PG", "display_name": "code4life", "link": "https://stackoverflow.com/users/215741/code4life"}, "edited": false, "score": 0, "creation_date": 1444867512, "post_id": 33137357, "comment_id": 54086741, "body": "I see a memory bleed. Anyone else see it?"}], "answers": [{"comments": [{"owner": {"reputation": 15033, "user_id": 215741, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/523632d546a902405b674284d0a2cee9?s=128&d=identicon&r=PG", "display_name": "code4life", "link": "https://stackoverflow.com/users/215741/code4life"}, "edited": false, "score": 0, "creation_date": 1444867557, "post_id": 33137660, "comment_id": 54086755, "body": "Wouldn&#39;t a static callback do the same thing?"}, {"owner": {"reputation": 129, "user_id": 1477605, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35b889c868a071a56b4d2095cf37e744?s=128&d=identicon&r=PG", "display_name": "Jedi Commymullah", "link": "https://stackoverflow.com/users/1477605/jedi-commymullah"}, "edited": false, "score": 0, "creation_date": 1444867814, "post_id": 33137660, "comment_id": 54086828, "body": "i am using succinct code like stephen&#39;s but i would like to expose an external callback within the hook callback function parameters too like george"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "reply_to_user": {"reputation": 15033, "user_id": 215741, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/523632d546a902405b674284d0a2cee9?s=128&d=identicon&r=PG", "display_name": "code4life", "link": "https://stackoverflow.com/users/215741/code4life"}, "edited": false, "score": 0, "creation_date": 1444871149, "post_id": 33137660, "comment_id": 54087582, "body": "@code4life no actually, I have run into it myself. If you did <code>SetWindowsHookEx(hookId, MyProc, ...</code> that actually gets compiled to <code>SetWindowsHookEx(hookId, new HookProcedure(MyProc), ...</code> and that hidden delegate can be garbage collected once SetWindowsHookEx returns. If SetWindowsHookEx then tries to use the callback you will get a <code>CallbackOnCollectedDelegate</code> error. See <a href=\"http://stackoverflow.com/questions/12878729/thread-hook-procedure-is-no-longer-called-after-pressing-tab-several-times-why/19626866#19626866\">this old answer of mine</a> on this same API call for more details."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "reply_to_user": {"reputation": 129, "user_id": 1477605, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35b889c868a071a56b4d2095cf37e744?s=128&d=identicon&r=PG", "display_name": "Jedi Commymullah", "link": "https://stackoverflow.com/users/1477605/jedi-commymullah"}, "edited": false, "score": 0, "creation_date": 1444875018, "post_id": 33137660, "comment_id": 54088475, "body": "@JediCommymullah What you could do is have a <code>static Dictionary&lt;Callback, HookProcedure&gt;</code> that you hold the callbacks in. When a user wants to unsubscribe you can just remove the callback from the dictionary."}, {"owner": {"reputation": 15033, "user_id": 215741, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/523632d546a902405b674284d0a2cee9?s=128&d=identicon&r=PG", "display_name": "code4life", "link": "https://stackoverflow.com/users/215741/code4life"}, "edited": false, "score": 0, "creation_date": 1444876280, "post_id": 33137660, "comment_id": 54088796, "body": "@ScottChamberlain: ah, thanks for the info, makes sense!"}, {"owner": {"reputation": 129, "user_id": 1477605, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35b889c868a071a56b4d2095cf37e744?s=128&d=identicon&r=PG", "display_name": "Jedi Commymullah", "link": "https://stackoverflow.com/users/1477605/jedi-commymullah"}, "edited": false, "score": 0, "creation_date": 1444879008, "post_id": 33137660, "comment_id": 54089419, "body": "that&#39;s soooooo interesting scott. a dictionary would really open it up. maybe i could stash hookProc in a field and pass that instead?"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "reply_to_user": {"reputation": 129, "user_id": 1477605, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35b889c868a071a56b4d2095cf37e744?s=128&d=identicon&r=PG", "display_name": "Jedi Commymullah", "link": "https://stackoverflow.com/users/1477605/jedi-commymullah"}, "edited": false, "score": 0, "creation_date": 1444879097, "post_id": 33137660, "comment_id": 54089439, "body": "@JediCommymullah One thing to be careful of, Dictionary is not thread safe, either use <code>ConcurrentDictionary</code> or put a lock around it."}], "tags": [], "owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "is_accepted": false, "score": 2, "last_activity_date": 1444867186, "creation_date": 1444867186, "answer_id": 33137660, "question_id": 33137357, "link": "https://stackoverflow.com/questions/33137357/expanding-a-callback-function/33137660#33137660", "title": "expanding a callback function?", "body": "<blockquote>\n  <p>Does the hookProc delegate instance keep reference to the lambda and thus to MyProc method in George's code?</p>\n</blockquote>\n\n<p>No it does not, <code>hookProc</code> may be eligible for garbage collection as soon as the function exits and your hook will no longer function, you need to keep a reference to the delegate like in Stepen's code to stop it from happening.</p>\n"}], "owner": {"reputation": 129, "user_id": 1477605, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35b889c868a071a56b4d2095cf37e744?s=128&d=identicon&r=PG", "display_name": "Jedi Commymullah", "link": "https://stackoverflow.com/users/1477605/jedi-commymullah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444868405, "creation_date": 1444865202, "last_edit_date": 1444868405, "question_id": 33137357, "link": "https://stackoverflow.com/questions/33137357/expanding-a-callback-function", "title": "expanding a callback function?", "body": "<p>Reading through George Mamaladze c# \"global mouse key hook\" source code I am trying to figure how some code works. Here is the \"corazon\" generally</p>\n\n<pre><code>public delegate IntPtr HookProcedure(int nCode, IntPtr wParam, IntPtr lParam);\n\nprivate static Handle HookGlobal(int hookId, Callback callback)\n{\n    HookProcedure hookProc = (code, param, lParam) =&gt; MyProc(code, param, lParam, callback);\n\n    Handle handle = SetWindowsHookEx(\n            hookId,\n            hookProc,\n            Process.GetCurrentProcess().MainModule.BaseAddress,\n            0);\n    return handle;\n}\n\nprivate static IntPtr MyProc(int nCode, IntPtr wParam, IntPtr lParam, Callback callback)\n{            \n    var callbackData = new CallbackData(wParam, lParam);\n    bool continueProcessing = callback(callbackData);\n    if (!continueProcessing) \n    { return new IntPtr(-1); }\n    return CallNextHookEx(IntPtr.Zero, nCode, wParam, lParam);\n}\n</code></pre>\n\n<p>The message pump set by WinApi function SetWindowsHookEx will call the MyProc method with message data.</p>\n\n<pre><code>HHOOK WINAPI SetWindowsHookEx(\n  _In_ int       idHook,\n  _In_ HOOKPROC  lpfn,\n  _In_ HINSTANCE hMod,\n  _In_ DWORD     dwThreadId\n);\n</code></pre>\n\n<blockquote>\n  <p>According to MSDN, the HOOKPROC type defines a pointer to the callback function. (example...) MouseProc is a placeholder for the application-defined or library-defined function name. (There are several placeholder procedure callbacks...)</p>\n</blockquote>\n\n<pre><code>LRESULT CALLBACK MouseProc(\n    _In_ int    code,\n         WPARAM wParam,\n    _In_ LPARAM lParam\n);\n</code></pre>\n\n<p>Does the hookProc delegate instance keep reference to the lambda and thus to MyProc method in George's code?<br>\nHere is a simpler approach from Stephen Taub's MSDN blog</p>\n\n<pre><code>private delegate IntPtr HookProcedure(int nCode, IntPtr wParam, IntPtr lParam);\nprivate static HookProcedure procedure = Callback;\nprivate static IntPtr _hookID = IntPtr.Zero;        \n\npublic static void SetHook()\n{\n    _hookID = SetWindowsHookEx(\n        WH_KEYBOARD_LL,\n        procedure,\n        Process.GetCurrentProcess().MainModule,\n        0);        \n}\n\nprivate static IntPtr Callback(int nCode, IntPtr wParam, IntPtr lParam)\n{\n    if (nCode &gt;= 0)\n    {\n    }\n    return CallNextHookEx(_hookId, nCode, wParam, lParam);\n}\n</code></pre>\n\n<p>They should achieve the same thing. What's George up to with this warped stuff? An explanation may help with my dizziness or shortness of breath.</p>\n"}, {"tags": ["c#", "tree"], "comments": [{"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "edited": false, "score": 0, "creation_date": 1444865836, "post_id": 33137328, "comment_id": 54086315, "body": "Without using a tuple? Create a class to replace the tuple instance and use it..."}, {"owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1444865840, "post_id": 33137328, "comment_id": 54086318, "body": "Why don&#39;t you create a class or struct to hold the two values?"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1444865889, "post_id": 33137328, "comment_id": 54086329, "body": "With such a high reputation score, I would have assumed that you know this is not a good fit question for SO."}, {"owner": {"reputation": 16114, "user_id": 398546, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ZCojH.jpg?s=128&g=1", "display_name": "Aaron Anodide", "link": "https://stackoverflow.com/users/398546/aaron-anodide"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1444866511, "post_id": 33137328, "comment_id": 54086473, "body": "@DavidG, my reputation means I&#39;ve been around long enough to know there are some regulars that have the ability out-think me when it comes to seeing the underlying abstractness of code... I&#39;m not going to feel bad for taking a chance that one of them might bite and help me out."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1444867605, "post_id": 33137328, "comment_id": 54086771, "body": "For the record, I&#39;m not saying this is a bad question, I&#39;m just suggesting that it&#39;s off topic for here. This is not a code review site. It may be worth taking a look at some of the other SO sites though."}], "answers": [{"tags": [], "owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "is_accepted": true, "score": 2, "last_activity_date": 1444872579, "last_edit_date": 1444872579, "creation_date": 1444872259, "answer_id": 33138303, "question_id": 33137328, "link": "https://stackoverflow.com/questions/33137328/can-this-treebuilder-function-be-written-without-introducing-a-tuple/33138303#33138303", "title": "Can this TreeBuilder function be written without introducing a Tuple?", "body": "<p>I think this does the job:</p>\n\n<pre><code>public static TNode BuildTree&lt;TIn, TNode&gt;(TIn root, Func&lt;TIn, IEnumerable&lt;TIn&gt;&gt; childSelector,\n    Func&lt;TIn, TNode&gt; createNode, Action&lt;TNode, TNode&gt; connectNodes)\n    where TIn : class\n    where TNode : class\n{\n    var tree = createNode(root);\n\n    var children =\n        childSelector(root)\n            .Select(c =&gt; BuildTree(c, childSelector, createNode, connectNodes))\n            .ToArray();\n\n    children\n        .ForEach(child =&gt; connectNodes(tree, child));\n\n    return tree;\n}\n</code></pre>\n\n<p>I tested this by removing the constraint on <code>TIn</code> and running this code:</p>\n\n<pre><code>var tree = BuildTree&lt;int, Tree&lt;int&gt;&gt;(\n    1,\n    elt =&gt; Enumerable.Range(2, 2).Select(n =&gt; elt * n).Where(x =&gt; x &lt; 100),\n    elt =&gt; new Tree&lt;int&gt;() { Value = elt },\n    (parent, child) =&gt; parent.Add(child));\n\npublic class Tree&lt;T&gt; : List&lt;Tree&lt;T&gt;&gt;\n{\n    public T Value { get; set; }\n}\n</code></pre>\n\n<p>Or, even better, this:</p>\n\n<pre><code>var tree = BuildTree&lt;int, XElement&gt;(\n    1,\n    elt =&gt; Enumerable.Range(2, 3).Select(n =&gt; elt * n).Where(x =&gt; x &lt; 16),\n    elt =&gt; new XElement(\"Node\", new XAttribute(\"Value\", elt)),\n    (parent, child) =&gt; parent.Add(child));\n</code></pre>\n\n<p>Which gives this:</p>\n\n<pre><code>&lt;Node Value=\"1\"&gt;\n  &lt;Node Value=\"2\"&gt;\n    &lt;Node Value=\"4\"&gt;\n      &lt;Node Value=\"8\" /&gt;\n      &lt;Node Value=\"12\" /&gt;\n    &lt;/Node&gt;\n    &lt;Node Value=\"6\"&gt;\n      &lt;Node Value=\"12\" /&gt;\n    &lt;/Node&gt;\n    &lt;Node Value=\"8\" /&gt;\n  &lt;/Node&gt;\n  &lt;Node Value=\"3\"&gt;\n    &lt;Node Value=\"6\"&gt;\n      &lt;Node Value=\"12\" /&gt;\n    &lt;/Node&gt;\n    &lt;Node Value=\"9\" /&gt;\n    &lt;Node Value=\"12\" /&gt;\n  &lt;/Node&gt;\n  &lt;Node Value=\"4\"&gt;\n    &lt;Node Value=\"8\" /&gt;\n    &lt;Node Value=\"12\" /&gt;\n  &lt;/Node&gt;\n&lt;/Node&gt;\n</code></pre>\n"}], "owner": {"reputation": 16114, "user_id": 398546, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ZCojH.jpg?s=128&g=1", "display_name": "Aaron Anodide", "link": "https://stackoverflow.com/users/398546/aaron-anodide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 1, "accepted_answer_id": 33138303, "answer_count": 1, "score": 1, "last_activity_date": 1444872579, "creation_date": 1444865033, "last_edit_date": 1495540724, "question_id": 33137328, "link": "https://stackoverflow.com/questions/33137328/can-this-treebuilder-function-be-written-without-introducing-a-tuple", "title": "Can this TreeBuilder function be written without introducing a Tuple?", "body": "<p>I just adapted code from <a href=\"https://stackoverflow.com/questions/20974248/recursive-hierarchy-recursive-query-using-linq\">this answer</a> to be a generic tree builder, and what I came up with works, however, I ended up introducing a Tuple to make it work.  I am pretty sure it can be written more straight forwardly, but I am having trouble seeing it.. </p>\n\n<p>The fundamental reason I introduced the Tuple was because at the time I'm iterating the children, I have not yet converted those children into Tree Nodes yet.. did I create this issue with my approach or is it intrinsic to the problem I'm solving with the code?</p>\n\n<p>Here's the usage followed by the tree builder:</p>\n\n<pre><code>// USAGE\nvar document = DocumentModel.Load(@\"Part CareAlerts Page 1 Part 1.docx\", LoadOptions.DocxDefault);\nvar tree = BuildTree&lt;Element, Node&gt;(\n    document,\n    elt =&gt; elt.GetChildElements(false),\n    elt =&gt; new Node(elt.ElementType.ToString()) {Content = elt.Content.ToString().Trim()},\n    (parent, child) =&gt; parent.Children.Add(child));\n\n// TREE BUILDER FUNCTION\npublic static TNode BuildTree&lt;TIn, TNode&gt;(TIn root, Func&lt;TIn, IEnumerable&lt;TIn&gt;&gt; childSelector,\n    Func&lt;TIn, TNode&gt; createNode, Action&lt;TNode, TNode&gt; connectNodes)\n    where TIn : class\n    where TNode : class\n{\n    var stack = new Stack&lt;Tuple&lt;TNode, TIn&gt;&gt;(new[] {Tuple.Create(default(TNode), root)});\n    TNode tree = null;\n    while (stack.Any())\n    {\n        var next = stack.Pop();\n        var result = createNode(next.Item2);\n        if (tree == null)\n        {\n            tree = result;\n        }\n        if (next.Item1 != null)\n        {\n            connectNodes(next.Item1, result);\n        }\n        foreach (var child in childSelector(next.Item2).Reverse())\n        {\n            stack.Push(Tuple.Create(result, child));\n        }\n    }\n    return tree;\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1444864637, "post_id": 33137206, "comment_id": 54085999, "body": "Did you try this as one storyboard with 3 double animations and keyframes? Would probably work better"}, {"owner": {"reputation": 4576, "user_id": 3156300, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Oo88B.png?s=128&g=1", "display_name": "JokerMartini", "link": "https://stackoverflow.com/users/3156300/jokermartini"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1444868224, "post_id": 33137206, "comment_id": 54086918, "body": "Could you demonstrate how to do that ? I&#39;m not super familiar with how to do that. I would appreciate it"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1444868422, "post_id": 33137206, "comment_id": 54086980, "body": "I would be happy to. May be a while (or even tomorrow), but I&#39;ll drum up an answer :)"}], "answers": [{"tags": [], "owner": {"reputation": 56558, "user_id": 1679602, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/waYTU.jpg?s=128&g=1", "display_name": "King King", "link": "https://stackoverflow.com/users/1679602/king-king"}, "is_accepted": true, "score": 5, "last_activity_date": 1444866059, "creation_date": 1444866059, "answer_id": 33137493, "question_id": 33137206, "link": "https://stackoverflow.com/questions/33137206/delay-wpf-animation-for-rotation/33137493#33137493", "title": "delay wpf animation for rotation", "body": "<p>The problem here is you choose the wrong value of <code>BeginTime</code>. The duration of all is <code>1</code> second. The <code>BeginTime</code> should not contain <code>1</code>. Otherwise after some cycles, all will start at the same point in the circle.</p>\n\n<p>In your case, after 3 seconds, the second ellipse will start at the same point with the first (at this time, the first one has done 3 cycles of its own). After next 3 seconds, the third ellipse will start at the same point with the 2 others (at this time, the first one has done 6 cycles and the second one has done 3 cycles). Finally all run in the same point and never separate.</p>\n\n<p>You can try some smaller <code>BeginTime</code>, such as <code>00:00:01.2</code> for the second ellipse, and <code>00:00:01.4</code> for the third ellipse.</p>\n"}, {"comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 4576, "user_id": 3156300, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Oo88B.png?s=128&g=1", "display_name": "JokerMartini", "link": "https://stackoverflow.com/users/3156300/jokermartini"}, "edited": false, "score": 0, "creation_date": 1444934582, "post_id": 33153972, "comment_id": 54121100, "body": "@JokerMartini no problem :)"}], "tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": false, "score": 4, "last_activity_date": 1444927103, "creation_date": 1444927103, "answer_id": 33153972, "question_id": 33137206, "link": "https://stackoverflow.com/questions/33137206/delay-wpf-animation-for-rotation/33153972#33153972", "title": "delay wpf animation for rotation", "body": "<p>This is usually a lot easier when using a single storyboard as you only have to deal with one timeline and its easier to see where animations may conflict. If you wanted to use your same animations you would do something like (in a trigger on something like the Window/UserControl):</p>\n\n<pre><code>&lt;Storyboard&gt;\n   &lt;DoubleAnimation Storyboard.TargetName=\"MyFirstObject\" \n                    Storyboard.TargetProperty=\"RenderTransform.(RotateTransform.Angle)\"\n                    BeginTime=\"0:0:2\"\n                    ... /&gt;\n   &lt;DoubleAnimation Storyboard.TargetName=\"MySecondObject\" \n                    Storyboard.TargetProperty=\"RenderTransform.(RotateTransform.Angle)\"\n                    BeginTime=\"0:0:3\"\n                    ... /&gt;\n&lt;/Storyboard&gt;\n</code></pre>\n\n<p>You still need to fix the sync problems as noted in the other answer.</p>\n\n<p>You can also use KeyFrames to explicitly control when things happen</p>\n\n<pre><code>&lt;Storyboard&gt;\n   &lt;DoubleAnimationUsingKeyFrames Storyboard.TargetName=\"MyFirstObject\" \n                    Storyboard.TargetProperty=\"RenderTransform.(RotateTransform.Angle)\"&gt;\n           &lt;EasingDoubleKeyFrame Value=\"0\" KeyTime=\"0:0:0\"/&gt;\n           &lt;EasingDoubleKeyFrame Value=\"360\" KeyTime=\"0:0:2\"/&gt;\n   &lt;/DoubleAnimationUsingKeyFrames&gt;\n   &lt;DoubleAnimationUsingKeyFrames Storyboard.TargetName=\"MySecondObject\" \n                    Storyboard.TargetProperty=\"RenderTransform.(RotateTransform.Angle)\"&gt;\n           &lt;EasingDoubleKeyFrame Value=\"0\" KeyTime=\"0:0:1\"/&gt;\n           &lt;EasingDoubleKeyFrame Value=\"360\" KeyTime=\"0:0:3\"/&gt;\n   &lt;/DoubleAnimationUsingKeyFrames&gt;\n&lt;/Storyboard&gt;\n</code></pre>\n\n<p>In this case its very obvious if your objects will \"sync up\" which is pretty nice.</p>\n"}], "owner": {"reputation": 4576, "user_id": 3156300, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Oo88B.png?s=128&g=1", "display_name": "JokerMartini", "link": "https://stackoverflow.com/users/3156300/jokermartini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4295, "favorite_count": 0, "accepted_answer_id": 33137493, "answer_count": 2, "score": 3, "last_activity_date": 1444927103, "creation_date": 1444864275, "question_id": 33137206, "link": "https://stackoverflow.com/questions/33137206/delay-wpf-animation-for-rotation", "title": "delay wpf animation for rotation", "body": "<p>No matter what i change i can not get the rotation to delay based on milliseconds. I want to make it so each ellipse is slightly delayed behind one another. You should be able to see 3 ellipse objects in the image below, but they all overlap one another. Can someone help me get this working, whether its with Storyboard keys, whatever it may be. Thank you.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LNcGx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LNcGx.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>&lt;Window x:Class=\"WpfApplication1.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        Title=\"MainWindow\" Height=\"100\" Width=\"100\"&gt;\n    &lt;Grid&gt;     \n\n        &lt;!--Circles Animated--&gt;\n        &lt;Canvas x:Name=\"LoadingObject\" VerticalAlignment=\"Top\" Height=\"20\" Width=\"20\" Background=\"LightGray\"&gt;\n\n            &lt;Ellipse Height=\"4\" Width=\"4\" Fill=\"Red\" RenderTransformOrigin=\".5,2.5\"&gt;\n                &lt;Ellipse.RenderTransform&gt;\n                    &lt;RotateTransform/&gt;\n                &lt;/Ellipse.RenderTransform&gt;\n                &lt;Ellipse.Triggers&gt;\n                    &lt;EventTrigger RoutedEvent=\"Loaded\"&gt;\n                        &lt;BeginStoryboard&gt;\n                            &lt;Storyboard&gt;\n                                &lt;DoubleAnimation Storyboard.TargetProperty=\"RenderTransform.(RotateTransform.Angle)\"\n                                    From=\"0\" To=\"-360\" Duration=\"0:0:1\" RepeatBehavior=\"Forever\"&gt;\n                                    &lt;DoubleAnimation.EasingFunction&gt;\n                                        &lt;QuadraticEase EasingMode=\"EaseOut\"/&gt;\n                                    &lt;/DoubleAnimation.EasingFunction&gt;\n                                &lt;/DoubleAnimation&gt;\n                            &lt;/Storyboard&gt;\n                        &lt;/BeginStoryboard&gt;\n                    &lt;/EventTrigger&gt;\n                &lt;/Ellipse.Triggers&gt;\n            &lt;/Ellipse&gt;\n\n            &lt;Ellipse Height=\"4\" Width=\"4\" Fill=\"Blue\" RenderTransformOrigin=\".5,2.5\"&gt;\n                &lt;Ellipse.RenderTransform&gt;\n                    &lt;RotateTransform/&gt;\n                &lt;/Ellipse.RenderTransform&gt;\n                &lt;Ellipse.Triggers&gt;\n                    &lt;EventTrigger RoutedEvent=\"Window.Loaded\"&gt;\n                        &lt;BeginStoryboard&gt;\n                            &lt;Storyboard&gt;\n                                &lt;DoubleAnimation Storyboard.TargetProperty=\"RenderTransform.(RotateTransform.Angle)\"\n                                    From=\"0\" To=\"-360\" Duration=\"0:0:1\" BeginTime=\"0:0:03\" RepeatBehavior=\"Forever\"&gt;\n                                    &lt;DoubleAnimation.EasingFunction&gt;\n                                        &lt;QuadraticEase EasingMode=\"EaseOut\"/&gt;\n                                    &lt;/DoubleAnimation.EasingFunction&gt;\n                                &lt;/DoubleAnimation&gt;\n                            &lt;/Storyboard&gt;\n                        &lt;/BeginStoryboard&gt;\n                    &lt;/EventTrigger&gt;\n                &lt;/Ellipse.Triggers&gt;\n            &lt;/Ellipse&gt;\n\n            &lt;Ellipse Height=\"4\" Width=\"4\" Fill=\"Blue\" RenderTransformOrigin=\".5,2.5\"&gt;\n                &lt;Ellipse.RenderTransform&gt;\n                    &lt;RotateTransform/&gt;\n                &lt;/Ellipse.RenderTransform&gt;\n                &lt;Ellipse.Triggers&gt;\n                    &lt;EventTrigger RoutedEvent=\"Window.Loaded\"&gt;\n                        &lt;BeginStoryboard&gt;\n                            &lt;Storyboard&gt;\n                                &lt;DoubleAnimation Storyboard.TargetProperty=\"RenderTransform.(RotateTransform.Angle)\"\n                                    From=\"0\" To=\"-360\" Duration=\"0:0:1\" BeginTime=\"0:0:06\" RepeatBehavior=\"Forever\"&gt;\n                                    &lt;DoubleAnimation.EasingFunction&gt;\n                                        &lt;QuadraticEase EasingMode=\"EaseOut\"/&gt;\n                                    &lt;/DoubleAnimation.EasingFunction&gt;\n                                &lt;/DoubleAnimation&gt;\n                            &lt;/Storyboard&gt;\n                        &lt;/BeginStoryboard&gt;\n                    &lt;/EventTrigger&gt;\n                &lt;/Ellipse.Triggers&gt;\n            &lt;/Ellipse&gt;\n\n        &lt;/Canvas&gt;\n\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n"}, {"tags": ["c#", ".net", "winforms", "button", "hover"], "answers": [{"comments": [{"owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1444864255, "post_id": 33137177, "comment_id": 54085902, "body": "I actually don&#39;t have another method that flips them back to the original style i&#39;m still new to programming."}, {"owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1444864387, "post_id": 33137177, "comment_id": 54085932, "body": "I was thinking about putting a if-else statement something like &#39;if(Back_button.Hover) do something &#39;&#39;&#39; Else ((Button)sender).FlatStyle = FlatStyle.System;"}], "tags": [], "owner": {"reputation": 60839, "user_id": 301857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r4KmT.jpg?s=128&g=1", "display_name": "Grant Winney", "link": "https://stackoverflow.com/users/301857/grant-winney"}, "is_accepted": true, "score": 2, "last_activity_date": 1444864413, "last_edit_date": 1444864413, "creation_date": 1444864118, "answer_id": 33137177, "question_id": 33137139, "link": "https://stackoverflow.com/questions/33137139/hover-over-button-change-using-flatyle-properties-c/33137177#33137177", "title": "Hover over: Button Change using Flatyle properties C#", "body": "<p>Here's a suggestion of how you could handle this.</p>\n\n<p>You're already setting all the buttons in a single event method, which is fine. Since the button that triggered the event is stored in <code>sender</code>, you could just use that:</p>\n\n<pre><code>private void All_Button_Hover_MouseHover(object sender, EventArgs e)\n{\n    ((Button)sender).FlatStyle = FlatStyle.System;\n}\n</code></pre>\n\n<p>To change the buttons back to the original <code>FlatStyle.Flat</code> style, you'll probably want to subscribe all of their <code>MouseLeave</code> events to a method as well:</p>\n\n<pre><code>private void All_Button_Hover_MouseLeave(object sender, EventArgs e)\n{\n    ((Button)sender).FlatStyle = FlatStyle.Flat;\n}\n</code></pre>\n"}], "owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 33137177, "answer_count": 1, "score": 0, "last_activity_date": 1444864413, "creation_date": 1444863871, "question_id": 33137139, "link": "https://stackoverflow.com/questions/33137139/hover-over-button-change-using-flatyle-properties-c", "title": "Hover over: Button Change using Flatyle properties C#", "body": "<p>Im working in WinForms I have 4 buttons on my form. I want to be able to hover my mouse over it and change the FlatStyle from Flat to System.</p>\n\n<p>My code transforms all the buttons to System Style when you hover your mouse over it, that's not exactly what i had in mind. </p>\n\n<p>All the buttons should remain flat until you hover over them. If you hover off the button it should turn back into flat button </p>\n\n<pre><code>    private void All_Button_Hover_MouseHover(object sender, EventArgs e)\n    {\n        btn_Back.FlatStyle = FlatStyle.System;\n        Btn_Forward.FlatStyle = FlatStyle.System;\n        btn_Print.FlatStyle = FlatStyle.System;\n        btn_Open.FlatStyle = FlatStyle.System;\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/XSDCR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XSDCR.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "mvvm", "func"], "comments": [{"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 0, "creation_date": 1444864043, "post_id": 33137108, "comment_id": 54085837, "body": "You could create a <code>Dictionary&lt;string, Func&lt;Vector3, Vector3&gt;&gt;</code> which maps the strings you display to the user to each function. Then you loop through their choices and do a lookup to find the correct function to execute."}, {"owner": {"reputation": 3365, "user_id": 4322228, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/388b0e91fd6bb09be4f12dc5a67a992a?s=128&d=identicon&r=PG&f=1", "display_name": "kskyriacou", "link": "https://stackoverflow.com/users/4322228/kskyriacou"}, "reply_to_user": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 0, "creation_date": 1444864187, "post_id": 33137108, "comment_id": 54085874, "body": "How would I store the <i>order</i> of execution though? First item in dictionary first to be executed, second in dictionary second to be executed and so on?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1444864190, "post_id": 33137108, "comment_id": 54085876, "body": "To me it feels like you are asking how to fill a list based on user choices - this sounds way too broad for me... but I&#39;m missing something probably."}, {"owner": {"reputation": 3365, "user_id": 4322228, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/388b0e91fd6bb09be4f12dc5a67a992a?s=128&d=identicon&r=PG&f=1", "display_name": "kskyriacou", "link": "https://stackoverflow.com/users/4322228/kskyriacou"}, "reply_to_user": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 0, "creation_date": 1444864341, "post_id": 33137108, "comment_id": 54085921, "body": "I could store a list of user choices, but then my problem would be mapping the choices to the delegates. As @Rob mentioned though, Dictionary would probably be the solution, didn&#39;t think of it."}], "answers": [{"tags": [], "owner": {"reputation": 7784, "user_id": 115272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbb61f1ba43c95e1b06667a79d865578?s=128&d=identicon&r=PG", "display_name": "Jacob Seleznev", "link": "https://stackoverflow.com/users/115272/jacob-seleznev"}, "is_accepted": false, "score": 0, "last_activity_date": 1444864918, "creation_date": 1444864918, "answer_id": 33137308, "question_id": 33137108, "link": "https://stackoverflow.com/questions/33137108/executing-func-delegates-in-user-defined-order/33137308#33137308", "title": "Executing Func delegates in user defined order", "body": "<p>You can create dictionary instance <code>OperatorsWithTypes</code> and function <code>GetOrderedOperators</code> like this:</p>\n\n<pre><code>    protected static Dictionary&lt;string, Func&lt;Vector3, Vector3&gt;&gt; OperatorsWithTypes \n    { get; set; }\n\n    public static List&lt;Func&lt;Vector3, Vector3&gt;&gt; GetOrderedOperators()\n    {\n        return (from category in OperatorWithTypes\n            orderby\n                category.Key == \"First\"\n                    ? 0\n                    : category.Key == \"Second\"\n\n                        ? 1\n                        : category.Key == \"Third\"\n\n                            ? 2\n                            : category.Key == \"Forth\"\n\n                                ? 3\n                                : category.Key == \"5th\"\n\n                                    ? 4\n                                    : category.Key == \"6th\"\n                                        ? 5\n                                        : -1\n            select category.Value)\n            .ToList();\n    }\n</code></pre>\n\n<p>and call it:</p>\n\n<pre><code>foreach (var op in GetOrderedOperators())\n    {\n        // Get a child using the current operator\n        var possibleChild = op(parentState);\n        ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3365, "user_id": 4322228, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/388b0e91fd6bb09be4f12dc5a67a992a?s=128&d=identicon&r=PG&f=1", "display_name": "kskyriacou", "link": "https://stackoverflow.com/users/4322228/kskyriacou"}, "edited": false, "score": 0, "creation_date": 1444865179, "post_id": 33137327, "comment_id": 54086140, "body": "Great idea, I can even bind to properties in the wrapper from my view so user ordering can be done through binding. Thank you so much!"}, {"owner": {"reputation": 5142, "user_id": 172769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66ae58151e7cc8bdcf9f4135de6e20a0?s=128&d=identicon&r=PG", "display_name": "Luc Morin", "link": "https://stackoverflow.com/users/172769/luc-morin"}, "reply_to_user": {"reputation": 3365, "user_id": 4322228, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/388b0e91fd6bb09be4f12dc5a67a992a?s=128&d=identicon&r=PG&f=1", "display_name": "kskyriacou", "link": "https://stackoverflow.com/users/4322228/kskyriacou"}, "edited": false, "score": 0, "creation_date": 1444865251, "post_id": 33137327, "comment_id": 54086165, "body": "Right ! I like such scenarios :-)"}], "tags": [], "owner": {"reputation": 5142, "user_id": 172769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66ae58151e7cc8bdcf9f4135de6e20a0?s=128&d=identicon&r=PG", "display_name": "Luc Morin", "link": "https://stackoverflow.com/users/172769/luc-morin"}, "is_accepted": true, "score": 1, "last_activity_date": 1444865031, "creation_date": 1444865031, "answer_id": 33137327, "question_id": 33137108, "link": "https://stackoverflow.com/questions/33137108/executing-func-delegates-in-user-defined-order/33137327#33137327", "title": "Executing Func delegates in user defined order", "body": "<p>I would wrap the Func delegates in a class, and I'd define a property on that class representing the order in which you need to execute the Funcs.</p>\n\n<p>Then using Linq's <code>OrderBy</code>, you could do something like this:</p>\n\n<pre><code>//Defined in some class\nprotected List&lt;FuncWrapper&gt; Operators { get; set; }\n\nprivate void CreateFunctors()\n{\n\n    Operators.Add(new FuncWrapper { Functor = (v) =&gt; v.Z == 0 ? v.Add(1, 0, 1) : v.Subtract(1, 0, 1), Order = 1 });\n    Operators.Add(new FuncWrapper { Functor = (v) =&gt; v.Z == 0 ? v.Add(2, 0, 1) : v.Subtract(2, 0, 1), Order = 2 });\n\n}\n\nprivate void CallFunctors()\n{\n    Vector3 v = new Vector3();\n\n    foreach (var f in Operators.OrderBy(o =&gt; o.Order))\n        f.Functor(v);\n}\n\n//Defined somewhere else\npublic class FuncWrapper\n{\n    public Func&lt;Vector3, Vector3&gt; Functor { get; set; }\n    public int Order { get; set; }\n}\n</code></pre>\n\n<p>This is just the rough idea. Adapt as needed.</p>\n\n<p>Cheers</p>\n"}, {"tags": [], "owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "is_accepted": false, "score": 1, "last_activity_date": 1444865135, "creation_date": 1444865135, "answer_id": 33137349, "question_id": 33137108, "link": "https://stackoverflow.com/questions/33137108/executing-func-delegates-in-user-defined-order/33137349#33137349", "title": "Executing Func delegates in user defined order", "body": "<p>You can do something like this:</p>\n\n<p>First define the dictionary that maps the names to the functions like this:</p>\n\n<pre><code>Dictionary&lt;string, Func&lt;Vector3, Vector3&gt;&gt; Operators = new Dictionary&lt;string, Func&lt;Vector3, Vector3&gt;&gt;()\n{\n    {\"function1_display_name\", Move1MFunc},\n    {\"function2_display_name\", Move2MFunc}\n};;\n</code></pre>\n\n<p>And then lets say that you collected a <code>List&lt;string&gt;</code> that contains the display names of the functions from the user, you can create a list of functions like this:</p>\n\n<pre><code>// list_of_names_from_user is the list of function names collected from the user\nList&lt;string&gt; list_of_names_from_user = ......\n\nList&lt;Func&lt;Vector3, Vector3&gt;&gt; ordered_functions =\n    list_of_names_from_user.Select(x =&gt; Operators[x]).ToList();\n</code></pre>\n\n<p>Now <code>ordered_functions</code> will contain the functions ordered according to the order of function display names in <code>list_of_names_from_user</code></p>\n"}], "owner": {"reputation": 3365, "user_id": 4322228, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/388b0e91fd6bb09be4f12dc5a67a992a?s=128&d=identicon&r=PG&f=1", "display_name": "kskyriacou", "link": "https://stackoverflow.com/users/4322228/kskyriacou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 33137327, "answer_count": 3, "score": 0, "last_activity_date": 1444865135, "creation_date": 1444863649, "question_id": 33137108, "link": "https://stackoverflow.com/questions/33137108/executing-func-delegates-in-user-defined-order", "title": "Executing Func delegates in user defined order", "body": "<p>I create some custom Funcs, and then adding them to a list of Funcs called Operators, as such:</p>\n\n<pre><code>...\n    Func&lt;Vector3, Vector3&gt; Move1MFunc = (v) =&gt; v.Z == 0 ? v.Add(1, 0, 1) : v.Subtract(1, 0, 1);\n\n    Func&lt;Vector3, Vector3&gt; Move2MFunc = (v) =&gt; v.Z == 0 ? v.Add(2, 0, 1) : v.Subtract(2, 0, 1);\n\n    protected List&lt;Func&lt;Vector3, Vector3&gt;&gt; Operators { get; set; }\n...\n</code></pre>\n\n<p>In some other method, I am iterating through the Operators list and executing each delegate as such:</p>\n\n<pre><code>    protected IEnumerable&lt;Vector3&gt; GetChildrenStates(Vector3 parentState)\n    {\n        foreach (var op in Operators)\n        {\n            // Get a child using the current operator\n            var possibleChild = op(parentState);\n            ...\n</code></pre>\n\n<p>Right now each delegate is being executed based on its order in the list. I would like the user to be able to define the order in which each function should be executed (in relation to each other). I would be presenting the user some strings which would represent each delegate and in code behind link them to the delegates themselves(?). I'm using MVVM.</p>\n\n<p>I have tried doing this using attributes, but from what I found out attributes do not support Funcs.</p>\n\n<p>I can't seem to think of another solution, hence I'm asking you. I've only just started using Funcs and if someone has any comments for improvement I'll gladly take them into consideration.</p>\n"}, {"tags": ["c#", ".net", "sql-server", "insert"], "answers": [{"comments": [{"owner": {"reputation": 423, "user_id": 4542348, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-y-Nwm1INT9Y/AAAAAAAAAAI/AAAAAAAAARs/zybcbkgYKb0/photo.jpg?sz=128", "display_name": "nouman arshad", "link": "https://stackoverflow.com/users/4542348/nouman-arshad"}, "edited": false, "score": 0, "creation_date": 1451243696, "post_id": 33137401, "comment_id": 56709735, "body": "what is datatype in sql server <code>image</code>  or  <code>binary(50)</code>"}, {"owner": {"reputation": 501, "user_id": 5177435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zag99.jpg?s=128&g=1", "display_name": "Uber Bot", "link": "https://stackoverflow.com/users/5177435/uber-bot"}, "reply_to_user": {"reputation": 423, "user_id": 4542348, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-y-Nwm1INT9Y/AAAAAAAAAAI/AAAAAAAAARs/zybcbkgYKb0/photo.jpg?sz=128", "display_name": "nouman arshad", "link": "https://stackoverflow.com/users/4542348/nouman-arshad"}, "edited": false, "score": 0, "creation_date": 1451244912, "post_id": 33137401, "comment_id": 56710080, "body": "@noumanarshad I don&#39;t quite understand what you are asking. But don&#39;t use image data type, it will be removed, use varbinary(max) instead."}, {"owner": {"reputation": 423, "user_id": 4542348, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-y-Nwm1INT9Y/AAAAAAAAAAI/AAAAAAAAARs/zybcbkgYKb0/photo.jpg?sz=128", "display_name": "nouman arshad", "link": "https://stackoverflow.com/users/4542348/nouman-arshad"}, "edited": false, "score": 0, "creation_date": 1451249344, "post_id": 33137401, "comment_id": 56711217, "body": "i used image datatype and also i used system.byte() and it works"}, {"owner": {"reputation": 423, "user_id": 4542348, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-y-Nwm1INT9Y/AAAAAAAAAAI/AAAAAAAAARs/zybcbkgYKb0/photo.jpg?sz=128", "display_name": "nouman arshad", "link": "https://stackoverflow.com/users/4542348/nouman-arshad"}, "edited": false, "score": 0, "creation_date": 1451249385, "post_id": 33137401, "comment_id": 56711230, "body": "now how to retreive image back from sql server as string error is <code>connot convert system.toint32 to string</code>"}, {"owner": {"reputation": 501, "user_id": 5177435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zag99.jpg?s=128&g=1", "display_name": "Uber Bot", "link": "https://stackoverflow.com/users/5177435/uber-bot"}, "reply_to_user": {"reputation": 423, "user_id": 4542348, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-y-Nwm1INT9Y/AAAAAAAAAAI/AAAAAAAAARs/zybcbkgYKb0/photo.jpg?sz=128", "display_name": "nouman arshad", "link": "https://stackoverflow.com/users/4542348/nouman-arshad"}, "edited": false, "score": 0, "creation_date": 1451249985, "post_id": 33137401, "comment_id": 56711404, "body": "@noumanarshad Use GetBytes of SqlDataReader with sequential access. <a href=\"https://msdn.microsoft.com/en-us/library/87z0hy49(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/87z0hy49(v=vs.110).aspx</a>"}, {"owner": {"reputation": 423, "user_id": 4542348, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-y-Nwm1INT9Y/AAAAAAAAAAI/AAAAAAAAARs/zybcbkgYKb0/photo.jpg?sz=128", "display_name": "nouman arshad", "link": "https://stackoverflow.com/users/4542348/nouman-arshad"}, "edited": false, "score": 0, "creation_date": 1451250369, "post_id": 33137401, "comment_id": 56711504, "body": "did it now trying to view image from listview which is in string format to view in picture box on list view click on row"}], "tags": [], "owner": {"reputation": 501, "user_id": 5177435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zag99.jpg?s=128&g=1", "display_name": "Uber Bot", "link": "https://stackoverflow.com/users/5177435/uber-bot"}, "is_accepted": false, "score": 2, "last_activity_date": 1444865473, "creation_date": 1444865473, "answer_id": 33137401, "question_id": 33137106, "link": "https://stackoverflow.com/questions/33137106/how-to-store-image-to-database-c-how-to-convert-byte-to-varbinarymax-c/33137401#33137401", "title": "How to store image to database C# / how to convert Byte[] to varbinary(max) C#", "body": "<p>Use SqlCommand parameters to avoid SQL injection. Don't build a SQL statement string by inserting values. This may actually resolve your problem as well.</p>\n\n<pre><code>SqlCommand command = new SqlCommand(@\"INSERT INTO Images (ImageName, ImageData, PicDetail, ImageSize, AlbumID)\n    VALUES (@ImageName, @ImageData, @PicDetail, @ImageSize, @AlbumId)\", con);\n\ncommand.Parameters.AddWithValue(\"@ImageName\", filename);\ncommand.Parameters.AddWithValue(\"@ImageData\", bytes);\ncommand.Parameters.AddWithValue(\"@PicDetail\", PicDetail);\ncommand.Parameters.AddWithValue(\"@ImageSize\", fileSize);\ncommand.Parameters.AddWithValue(\"@AlbumId\", FkAlbum);\n</code></pre>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.parameters(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.parameters(v=vs.110).aspx</a></p>\n"}], "owner": {"reputation": 137, "user_id": 5447222, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/efadf361016b9fc494339973fdaf36fe?s=128&d=identicon&r=PG&f=1", "display_name": "Kazu", "link": "https://stackoverflow.com/users/5447222/kazu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2262, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1444884823, "creation_date": 1444863624, "last_edit_date": 1444884823, "question_id": 33137106, "link": "https://stackoverflow.com/questions/33137106/how-to-store-image-to-database-c-how-to-convert-byte-to-varbinarymax-c", "title": "How to store image to database C# / how to convert Byte[] to varbinary(max) C#", "body": "<p>I'm trying to insert data into a database, but cannot insert the variable <code>Byte[] bytes</code>. When I change the data type in the database to image, I can insert, but when I change it to varbinary(max) this error shows up:</p>\n\n<blockquote>\n  <p>An object or column name is missing or empty. For SELECT INTO statements, verify each column has a name. For other statements, look for empty alias names. Aliases defined as \"\" or [] are not allowed. Change the alias to a valid name. Incorrect syntax near ''.</p>\n</blockquote>\n\n<p>How can I fix this problem?</p>\n\n<pre><code>protected void btnUpload_Click(object sender, EventArgs e)\n    {\n        HttpPostedFile postedFile = FileUpload1.PostedFile;\n        string filename = Path.GetFileName(postedFile.FileName);\n        string fileExtension = Path.GetExtension(filename);\n        int fileSize = postedFile.ContentLength;\n        int FkAlbum = Int32.Parse(ddlSubjects.SelectedValue);\n        String PicDetail = DropDownList1.SelectedValue;\n\n        String Artists = System.Configuration.ConfigurationManager.ConnectionStrings[\"FleetManagementConnectionString\"].ConnectionString;\n        System.Data.SqlClient.SqlConnection con = new System.Data.SqlClient.SqlConnection(Artists);\n\n        //An object or column name is missing or empty. For SELECT INTO statements, verify each column has a name. For other statements, look for empty alias names. Aliases defined as \"\" or [] are not allowed. Change the alias to a valid name.\n        //Incorrect syntax near ''.An object or column name is missing or empty. For SELECT INTO statements, verify each column has a name. For other statements, look for empty alias names. Aliases defined as \"\" or [] are not allowed. Change the alias to a valid name.\n        //Incorrect syntax near ''.\n\n        if (fileExtension.ToLower() == \".jpg\" || fileExtension.ToLower() == \".gif\"\n            || fileExtension.ToLower() == \".png\" || fileExtension.ToLower() == \".bmp\")\n        {\n            Stream stream = postedFile.InputStream;\n            BinaryReader binaryReader = new BinaryReader(stream);\n            Byte[] bytes = binaryReader.ReadBytes((int)stream.Length);\n\n\n            System.Data.SqlClient.SqlCommand cmd = new System.Data.SqlClient.SqlCommand(\"Insert into Images (ImageName,ImageData,PicDetail,ImageSize,AlbumID) values('\" + filename + \"','\" + bytes + \"','\" + PicDetail + \"',\" + fileSize + \",\" + FkAlbum + \")\", con);\n            //System.Data.SqlClient.SqlCommand cmd = new System.Data.SqlClient.SqlCommand(\"Insert into Images (ImageName,PicDetail,ImageSize,AlbumID) values('\" + filename + \"','\" + PicDetail + \"',\" + fileSize + \",\" + FkAlbum + \")\", con);\n\n\n            con.Open();\n            cmd.ExecuteNonQuery();\n            con.Close();\n            lblMessage.Visible = true;\n            lblMessage.Text = \"ThaNK YOU\";\n\n\n\n        }\n        else\n        {\n            lblMessage.Visible = true;\n            lblMessage.ForeColor = System.Drawing.Color.Red;\n            lblMessage.Text = \"Only images (.jpg, .png, .gif and .bmp) can be uploaded\";\n            hyperlink.Visible = false;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 1749, "user_id": 692328, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8a3a3977b39e6491250bf95ace05f6de?s=128&d=identicon&r=PG", "display_name": "Des Horsley", "link": "https://stackoverflow.com/users/692328/des-horsley"}, "edited": false, "score": 0, "creation_date": 1444863814, "post_id": 33137101, "comment_id": 54085766, "body": "If orderQuantity and orderTotal are global, why are you passing them in as parameters?  As a side note, try and avoid global variables like the plague (If you have a say)"}], "answers": [{"tags": [], "owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "is_accepted": false, "score": 1, "last_activity_date": 1444863754, "creation_date": 1444863754, "answer_id": 33137124, "question_id": 33137101, "link": "https://stackoverflow.com/questions/33137101/my-method-to-clear-the-form-isnt-working-for-the-global-variables-but-works-fi/33137124#33137124", "title": "My method to clear the form isn&#39;t working for the global variables, but works fine on the local variables", "body": "<blockquote>\n  <p>orderQuantity and orderTotal are global variables</p>\n</blockquote>\n\n<p>No, they are local because you have variables with the same name that hide the class level definition.</p>\n\n<pre><code>, double orderTotal, double orderQuantity)\n</code></pre>\n\n<p>To clear them in class scope,</p>\n\n<pre><code>this.orderTotal = 0;\nthis.orderQuantity = 0;\n</code></pre>\n\n<p>Or change the parameter names so as not to collide with class scoped variables.</p>\n"}], "owner": {"reputation": 21, "user_id": 5310965, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-xQyzWxEHYeQ/AAAAAAAAAAI/AAAAAAAAANg/T2jnN-B3w58/photo.jpg?sz=128", "display_name": "Havel The Gravel", "link": "https://stackoverflow.com/users/5310965/havel-the-gravel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444863754, "creation_date": 1444863597, "question_id": 33137101, "link": "https://stackoverflow.com/questions/33137101/my-method-to-clear-the-form-isnt-working-for-the-global-variables-but-works-fi", "title": "My method to clear the form isn&#39;t working for the global variables, but works fine on the local variables", "body": "<pre><code> private void ClearForm(double total, double subtotal, double salesTax, double sPrice, double quantity, double orderTotal, double orderQuantity)\n    {\n        sPrice = 0;\n        subtotal = 0;\n        total = 0;\n        quantity = 0;\n        salesTax = 0;\n\n        orderQuantity = 0;\n        orderTotal = 0;\n\n        lblStatus.Text = \"\";\n        lblSalesTax.Text = \"\";\n        lblSubTotal.Text = \"\";\n        lblItemAmount.Text = \"\";\n        lblTotal.Text = \"\";\n        txtQuantity.Text = \"\";\n\n        radClub.Checked = true;\n\n        chkDiscount.Checked = false;\n    }\n</code></pre>\n\n<p>This is my method to set my variables to 0, and clear the labels and text boxes.  orderQuantity and orderTotal are global variables, and they are not getting cleared.  The others are local variables, and are getting cleared.  What my program does is calculate the price of an order for a sandwich shop, and I have a \"New Order\" button that is supposed to clear everything out so you can make a new order.  </p>\n"}, {"tags": ["c#", "azure", "office365", "azure-active-directory", "office365api"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5447121, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fB_TMT1pYsU/AAAAAAAAAAI/AAAAAAAAAEM/h2JcD47S6ls/photo.jpg?sz=128", "display_name": "Paul", "link": "https://stackoverflow.com/users/5447121/paul"}, "edited": false, "score": 0, "creation_date": 1446040916, "post_id": 33205471, "comment_id": 54577559, "body": "I think this was definitely the problem, thanks Dan. Any news on an updated client library? As it stands we can&#39;t continue with our development until a new library is released (no point manually creating all the rest calls and parsing the responses if a new library is going to be available soon). Thanks."}], "tags": [], "owner": {"reputation": 5463, "user_id": 4092015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jskhe.jpg?s=128&g=1", "display_name": "Dan Kershaw - MSFT", "link": "https://stackoverflow.com/users/4092015/dan-kershaw-msft"}, "is_accepted": true, "score": 1, "last_activity_date": 1445219833, "creation_date": 1445219833, "answer_id": 33205471, "question_id": 33137089, "link": "https://stackoverflow.com/questions/33137089/office-365-unified-api-preview-group-files-returning-500-internal-server-error/33205471#33205471", "title": "Office 365 unified api (preview) group files returning 500 internal server error only in some tenants", "body": "<p>Sorry for this issue.  So I believe that we accidentally pushed a change early and you managed to hit this before we reverted the change.  We're in the process of updating access to files through OneDrive APIs, which will cause a breaking change.  You can read more on this, and the breaking that on the /beta endpoint that we plan to update on 10/19, here: <a href=\"http://dev.office.com/blogs/Update-2-on-Office-365-unified-API\" rel=\"nofollow\">http://dev.office.com/blogs/Update-2-on-Office-365-unified-API</a>.  After the update, accessing files will require this syntax:\n<a href=\"https://graph.microsoft.com/stagingBeta/microsoft.com/groups/_groupId_/drive/root/children\" rel=\"nofollow\">https://graph.microsoft.com/stagingBeta/microsoft.com/groups/<em>groupId</em>/drive/root/children</a></p>\n\n<p><strong>NOTE</strong>: We'll need to generate a new client library for this.  The one you are currently using will break with this update.  We hope to get a new client library out very soon after this service update.</p>\n\n<p>Now I'm not sure if this is exactly what you stumbled upon or whether this is a different issue. Can you try it again (before we make the update on 10/19 at 12pm PDT)?</p>\n\n<p>Hope this helps,</p>\n"}], "owner": {"reputation": 23, "user_id": 5447121, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fB_TMT1pYsU/AAAAAAAAAAI/AAAAAAAAAEM/h2JcD47S6ls/photo.jpg?sz=128", "display_name": "Paul", "link": "https://stackoverflow.com/users/5447121/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "accepted_answer_id": 33205471, "answer_count": 1, "score": 2, "last_activity_date": 1445219833, "creation_date": 1444863547, "question_id": 33137089, "link": "https://stackoverflow.com/questions/33137089/office-365-unified-api-preview-group-files-returning-500-internal-server-error", "title": "Office 365 unified api (preview) group files returning 500 internal server error only in some tenants", "body": "<p>I have been successfully using the Office 365 unified API to link my multi-tenanted SaaS application to Office 365 and return files for unified groups. I am achieving this using the ADAL library and Unified API nuget package. We have requested the following permissions (among others) in our Azure AD application as per the Unified API preview release notes - Group.Read.All, Group.ReadWrite.All, Sites.Read.All, Sites.ReadWrite.All. I appreciate ReadWrite makes Read unnecessary but we have added both sets to try and protect ourselves from some of the possible preview issues.</p>\n\n<p>Now we have a tenant who can read their groups but cannot access the files in the group. This works fine in other tenants. </p>\n\n<p>When we debugged the code, we found that this line was throwing a null reference exception:</p>\n\n<pre><code>IPagedCollection&lt;IItem&gt; files = await _client.groups.GetByID(groupId).files.ExecuteAsync()\n</code></pre>\n\n<p>We then separated it out to check the group was being received OK which it is:</p>\n\n<pre><code>IGroup group = await _client.groups.GetById(groupId).ExecuteAsync()\n</code></pre>\n\n<p>We therefore made the same files request using HTTP client so that we could get a more detailed response from the server:</p>\n\n<p><a href=\"https://graph.microsoft.com/beta/myOrganization/groups/[group_id_here]/files\" rel=\"nofollow\">https://graph.microsoft.com/beta/myOrganization/groups/[group_id_here]/files</a></p>\n\n<p>This is returning a status code of 500 - internal server error and the content is 'Object reference not set to an instance of an object'. Not very helpful!</p>\n\n<p>I've seen a few threads about people experiencing similar issues with permissions not being setup correctly but in my case I can't understand why the call to retrieve unified group files will work fine in one Office 365 tenancy but not in another when their privileges are controlled by the same Azure AD Application and are therefore exactly the same. </p>\n\n<p>The groups are all being created in the Office 365 Web App, not via the Unified API so that isn't a factor.</p>\n\n<p>Are there permissions in Office 365 that admins can use to restrict access to unified api requests? I can't see anything in the documentation, but even if that were the case I would expect an unauthorized response instead of internal server error.</p>\n\n<p>Any ideas much appreciated!</p>\n"}, {"tags": ["c#", "asp.net", "webforms"], "answers": [{"tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": false, "score": 0, "last_activity_date": 1444876311, "last_edit_date": 1444876311, "creation_date": 1444873602, "answer_id": 33138474, "question_id": 33137075, "link": "https://stackoverflow.com/questions/33137075/asp-net-web-forms-vertical-table/33138474#33138474", "title": "Asp.net Web Forms Vertical Table", "body": "<blockquote>\n  <p>How can i intergrate it to Vertical Table.</p>\n</blockquote>\n\n<p>You can start a new row each time:</p>\n\n<pre><code>TableRow tr = new TableRow();\nTableCell cell2 = new TableCell();\ncell2.Text = rowData.GetInt32(rowData.GetOrdinal(\"truck_id\")).ToString();\ntr.Cells.Add(cell2);\ntbl_TruckData.Rows.Add(tr);\n\ntr = new TableRow();\nTableCell cell3 = new TableCell();\ncell3.Text = rowData.GetString(rowData.GetOrdinal(\"registration_no\")).ToString();\ntr.Cells.Add(cell3);\ntbl_TruckData.Rows.Add(tr);\n</code></pre>\n\n<p>or look into more sophisticated binding controls like <a href=\"https://msdn.microsoft.com/en-us/library/aa479342.aspx\" rel=\"nofollow\"><code>GridView</code></a></p>\n\n<blockquote>\n  <p>Is it possible to embbed a <code>&lt;asp:Label&gt;</code> inside a <code>&lt;td&gt;</code> element?</p>\n</blockquote>\n\n<p>Sure - you may not be setting the <code>Text</code> property - either in binding or in server-side code.</p>\n\n<pre><code>this.TMake.Text = make;\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 5077105, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/10203271459267876/picture?type=large", "display_name": "John Paul Cirilos", "link": "https://stackoverflow.com/users/5077105/john-paul-cirilos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445043047, "creation_date": 1444863465, "last_edit_date": 1445043047, "question_id": 33137075, "link": "https://stackoverflow.com/questions/33137075/asp-net-web-forms-vertical-table", "title": "Asp.net Web Forms Vertical Table", "body": "<p>I have this code in my page in my ASP.New WebForms Project:</p>\n\n<pre><code> private void populateTable(MySqlDataReader mySqlDataReader)\n        {\n            foreach (DbDataRecord rowData in mySqlDataReader)\n            {\n                TableRow tr = new TableRow();\n\n                TableCell cell2 = new TableCell();\n                cell2.Text = rowData.GetInt32(rowData.GetOrdinal(\"truck_id\")).ToString();\n                tr.Cells.Add(cell2);\n\n                TableCell cell3 = new TableCell();\n                cell3.Text = rowData.GetString(rowData.GetOrdinal(\"registration_no\")).ToString();\n                tr.Cells.Add(cell3);\n\n                TableCell cell4 = new TableCell();\n                cell4.Text = rowData.GetString(rowData.GetOrdinal(\"make\")).ToString();\n                tr.Cells.Add(cell4);\n\n                TableCell cell5 = new TableCell();\n                cell5.Text = rowData.GetString(rowData.GetOrdinal(\"model\")).ToString();\n                tr.Cells.Add(cell5);\n\n                TableCell cell1 = new TableCell();\n                cell1.Text = rowData.GetString(rowData.GetOrdinal(\"engine_no\")).ToString();\n                tr.Cells.Add(cell1);\n\n                TableCell cell6 = new TableCell();\n                cell6.Text = rowData.GetString(rowData.GetOrdinal(\"chassis_no\")).ToString();\n                tr.Cells.Add(cell6);\n\n                TableCell cell7 = new TableCell();\n                cell7.Text = rowData.GetString(rowData.GetOrdinal(\"driver_name\")).ToString();\n                tr.Cells.Add(cell7);\n\n                TableCell cell8 = new TableCell();\n                cell8.Text = rowData.GetString(rowData.GetOrdinal(\"driver_contact_no\")).ToString();\n                tr.Cells.Add(cell8);\n\n                TableCell cell9 = new TableCell();\n                cell9.Text = rowData.GetString(rowData.GetOrdinal(\"status\")).ToString();\n                tr.Cells.Add(cell9);\n\n                tbl_TruckData.Rows.Add(tr);\n            }\n }\n</code></pre>\n\n<p>How can O intergrate it to Vertical Table?</p>\n\n<pre><code>Truck No                  1\nRegistration No           AA0-1234\n</code></pre>\n\n<p>The current out is an Horizontal Table like this:</p>\n\n<pre><code>Truck No      Registration No     Make\n   1             AA0-1234         MAN\n</code></pre>\n\n<p>Other question is it possible to embbed a <code>&lt;asp:Label&gt;</code> inside a <code>&lt;td&gt;</code> element?</p>\n\n<p>For example:</p>\n\n<pre><code>&lt;td&gt; Make: &lt;/td&gt;\n&lt;td&gt; &lt;asp:Label id = \"TMake\" runat=\"server\"/&gt;&lt;/td&gt;(this)\n</code></pre>\n\n<p>I've tried it but there's no out put in (this)</p>\n"}, {"tags": ["c#", "multithreading"], "answers": [{"tags": [], "owner": {"reputation": 13828, "user_id": 4588915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CTCr8.png?s=128&g=1", "display_name": "Jakub Lortz", "link": "https://stackoverflow.com/users/4588915/jakub-lortz"}, "is_accepted": true, "score": 8, "last_activity_date": 1444863852, "last_edit_date": 1444863852, "creation_date": 1444863403, "answer_id": 33137064, "question_id": 33137039, "link": "https://stackoverflow.com/questions/33137039/no-overload-for-matches-delegate-system-threading-parameterizedthreadstart/33137064#33137064", "title": "No overload for &#39;&#39; matches delegate &#39;System.Threading.ParameterizedThreadStart&#39;", "body": "<p>This delegate is defined as</p>\n\n<pre><code>public delegate void ParameterizedThreadStart(object obj)\n</code></pre>\n\n<p>You have to change your method declaration to match it:</p>\n\n<pre><code>private void LoadModel(object filenames)\n</code></pre>\n\n<p>and cast <code>filenames</code> to <code>List</code> in the method.</p>\n\n<p>To create and start the thread use</p>\n\n<pre><code>Thread loadingThread = new Thread(LoadModel);\nloadingThread.Start(filenames);\n</code></pre>\n\n<p>Instead of creating your own threads, consider using <a href=\"https://msdn.microsoft.com/en-us/library/dd537609(v=vs.110).aspx\" rel=\"noreferrer\">Tasks</a> or <a href=\"https://msdn.microsoft.com/en-us/library/system.threading.threadpool(v=vs.110).aspx\" rel=\"noreferrer\">ThreadPool</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "is_accepted": false, "score": 5, "last_activity_date": 1444863593, "creation_date": 1444863593, "answer_id": 33137097, "question_id": 33137039, "link": "https://stackoverflow.com/questions/33137039/no-overload-for-matches-delegate-system-threading-parameterizedthreadstart/33137097#33137097", "title": "No overload for &#39;&#39; matches delegate &#39;System.Threading.ParameterizedThreadStart&#39;", "body": "<p>Another way to solve your problem that allows your method to still have the type of the parameter that you want is to use a lambda expression like this:</p>\n\n<pre><code>Thread thread = new Thread(() =&gt; LoadModel(list));\n</code></pre>\n\n<p>Where <code>list</code> is the parameter value that you want to pass.</p>\n"}], "owner": {"reputation": 165, "user_id": 5336699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99c0f574764486f0eb327398827c01de?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed", "link": "https://stackoverflow.com/users/5336699/ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5218, "favorite_count": 0, "accepted_answer_id": 33137064, "answer_count": 2, "score": 6, "last_activity_date": 1444863852, "creation_date": 1444863260, "question_id": 33137039, "link": "https://stackoverflow.com/questions/33137039/no-overload-for-matches-delegate-system-threading-parameterizedthreadstart", "title": "No overload for &#39;&#39; matches delegate &#39;System.Threading.ParameterizedThreadStart&#39;", "body": "<p>If i have a method like this <br></p>\n\n<pre><code>  private void LoadModel(List&lt;object&gt; filenames)\n{\n}\n</code></pre>\n\n<p>and want to run this method in thread i make this </p>\n\n<pre><code>loadingThread = new ParameterizedThreadStart(LoadModel)\n</code></pre>\n\n<p>but give me error</p>\n\n<p>how to solve this problem ? </p>\n\n<pre><code>No overload for 'LoadModel' matches delegate 'System.Threading.ParameterizedThreadStart'    \n</code></pre>\n"}, {"tags": ["c#", ".net", "xml", "xml-parsing", "selectnodes"], "answers": [{"comments": [{"owner": {"reputation": 1184, "user_id": 962793, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e2bcf5319584405237198d311e5e1252?s=128&d=identicon&r=PG", "display_name": "Owais Ahmed", "link": "https://stackoverflow.com/users/962793/owais-ahmed"}, "edited": false, "score": 0, "creation_date": 1444863671, "post_id": 33137081, "comment_id": 54085712, "body": "Thanks i forget to add this line in the question posted and i am able to see the values in xmlnode but selectnodes is the problem here which is retuning null. P.S i have updated my question and added the missing xml.load line."}], "tags": [], "owner": {"reputation": 615, "user_id": 1495067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/919c92af54e281830a860719d22aebf8?s=128&d=identicon&r=PG", "display_name": "Colin Grealy", "link": "https://stackoverflow.com/users/1495067/colin-grealy"}, "is_accepted": true, "score": 0, "last_activity_date": 1444863513, "creation_date": 1444863513, "answer_id": 33137081, "question_id": 33137009, "link": "https://stackoverflow.com/questions/33137009/selectnodes-return-null/33137081#33137081", "title": "SelectNodes return null", "body": "<p>You never load or read the source XML. Your code</p>\n\n<pre><code>XmlDocument xml = new XmlDocument();\nXmlNodeList xmlnode;\nxmlnode = xml.GetElementsByTagName(\"CruisePriceSummaryResponse\");\n</code></pre>\n\n<p>creates an empty XML document, and then tries to get elements from the empty xml. </p>\n\n<p>You need to call <code>XmlDocument.Load</code> or <code>XmlDocument.LoadXML</code> to read the xml from a file or a string.</p>\n\n<pre><code>XmlDocument xml = new XmlDocument();\nxml.Load(\"pathtosomefile.xml\");\nXmlNodeList xmlnode = xml.GetElementsByTagName(\"CruisePriceSummaryResponse\");\n</code></pre>\n"}], "owner": {"reputation": 1184, "user_id": 962793, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e2bcf5319584405237198d311e5e1252?s=128&d=identicon&r=PG", "display_name": "Owais Ahmed", "link": "https://stackoverflow.com/users/962793/owais-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1925, "favorite_count": 0, "closed_date": 1444863931, "accepted_answer_id": 33137081, "answer_count": 1, "score": 0, "last_activity_date": 1444864100, "creation_date": 1444863153, "last_edit_date": 1444864100, "question_id": 33137009, "link": "https://stackoverflow.com/questions/33137009/selectnodes-return-null", "closed_reason": "Duplicate", "title": "SelectNodes return null", "body": "<p>I am using <code>SelectNodes</code> to read xml nodes but i am getting null when i try <code>GetElementsByTagName</code> i get the values. </p>\n\n<pre><code>XmlDocument xml = new XmlDocument();\nxml.Load(DownloadFile);\nXmlNodeList xmlnode;\nxmlnode = xml.GetElementsByTagName(\"CruisePriceSummaryResponse\");\n\nfor (int i = 0; i &lt; xmlnode.Count; i++)\n{\n    XmlNodeList rooms = xml .SelectNodes(\"RoomSize/CruisePriceSummaryRoomSize\");\n    for(int j = 0; j &lt; rooms.Count; j++)\n    {\n        string bestFare = rooms[j].SelectSingleNode(\"BestFare/TotalPrice\").InnerText;\n        string fullFare = rooms[j].SelectSingleNode(\"FullFare/TotalPrice\").InnerText;\n\n        // do whatever you need\n    }\n}\n</code></pre>\n\n<p>I want to read <code>TotalPrice</code> from <code>BestFare</code> and <code>FullFare</code> Each child has two innerchilds <code>BestFare</code> and <code>FullFareand</code> I need to read each <code>TotalPrice</code>.</p>\n\n<p>This is my XML</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ArrayOfCruisePriceSummaryResponse\n    xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://schemas.datacontract.org/2004/07/OpenseasAPI.ServiceModel\"&gt;\n\n        &lt;CruisePriceSummaryResponse&gt;\n            &lt;AvailablePromos\n                xmlns:d3p1=\"http://schemas.microsoft.com/2003/10/Serialization/Arrays\"&gt;\n                &lt;d3p1:string&gt;FLA&lt;/d3p1:string&gt;\n                &lt;d3p1:string&gt;FLB&lt;/d3p1:string&gt;\n            &lt;/AvailablePromos&gt;\n            &lt;Brand&gt;PA&lt;/Brand&gt;\n            &lt;CruiseCategory i:nil=\"true\"/&gt;\n            &lt;RoomSize&gt;\n                &lt;CruisePriceSummaryRoomSize&gt;\n                    &lt;BestFare&gt;\n                        &lt;TotalPrice&gt;2798.0000000&lt;/TotalPrice&gt;\n                    &lt;/BestFare&gt;\n                    &lt;FullFare&gt;\n                        &lt;TotalPrice&gt;3198.000000&lt;/TotalPrice&gt;\n                    &lt;/FullFare&gt;\n                    &lt;PaxCount&gt;2&lt;/PaxCount&gt;\n                &lt;/CruisePriceSummaryRoomSize&gt;\n                &lt;CruisePriceSummaryRoomSize&gt;\n                    &lt;BestFare&gt;\n                        &lt;TotalPrice&gt;2796.000000&lt;/TotalPrice&gt;\n                    &lt;/BestFare&gt;\n                    &lt;FullFare&gt;\n                        &lt;TotalPrice&gt;4196.000000&lt;/TotalPrice&gt;\n                    &lt;/FullFare&gt;\n                    &lt;PaxCount&gt;4&lt;/PaxCount&gt;\n                &lt;/CruisePriceSummaryRoomSize&gt;\n            &lt;/RoomSize&gt;\n            &lt;ShipCode&gt;PD&lt;/ShipCode&gt;\n        &lt;/CruisePriceSummaryResponse&gt;\n        &lt;CruisePriceSummaryResponse&gt;\n            &lt;AvailablePromos\n                xmlns:d3p1=\"http://schemas.microsoft.com/2003/10/Serialization/Arrays\"&gt;\n                &lt;d3p1:string&gt;FLA&lt;/d3p1:string&gt;\n                &lt;d3p1:string&gt;LF1&lt;/d3p1:string&gt;\n            &lt;/AvailablePromos&gt;\n            &lt;Brand&gt;PA&lt;/Brand&gt;\n            &lt;RoomSize&gt;\n                &lt;CruisePriceSummaryRoomSize&gt;\n                    &lt;BestFare&gt;\n                        &lt;TotalPrice&gt;1298.000000&lt;/TotalPrice&gt;\n                    &lt;/BestFare&gt;\n                    &lt;FullFare&gt;\n                        &lt;TotalPrice&gt;3498.000000&lt;/TotalPrice&gt;\n                    &lt;/FullFare&gt;\n                    &lt;PaxCount&gt;2&lt;/PaxCount&gt;\n                &lt;/CruisePriceSummaryRoomSize&gt;\n                &lt;CruisePriceSummaryRoomSize&gt;\n                    &lt;BestFare&gt;\n                        &lt;TotalPrice&gt;1796.000000&lt;/TotalPrice&gt;\n                    &lt;/BestFare&gt;\n                    &lt;FullFare&gt;\n                        &lt;TotalPrice&gt;5396.000000&lt;/TotalPrice&gt;\n                    &lt;/FullFare&gt;\n                    &lt;PaxCount&gt;4&lt;/PaxCount&gt;\n                &lt;/CruisePriceSummaryRoomSize&gt;\n            &lt;/RoomSize&gt;\n            &lt;ShipCode&gt;PJ&lt;/ShipCode&gt;\n        &lt;/CruisePriceSummaryResponse&gt;\n    &lt;/ArrayOfCruisePriceSummaryResponse&gt;\n</code></pre>\n\n<p>Help would be appreciated. I do not want to use linq as this is a SSIS project using VS2008 and it doesnot support linq.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c#", "json-ld"], "comments": [{"owner": {"reputation": 1689, "user_id": 1482044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/CF5KY.png?s=128&g=1", "display_name": "ngunha02", "link": "https://stackoverflow.com/users/1482044/ngunha02"}, "edited": false, "score": 0, "creation_date": 1444928906, "post_id": 33136764, "comment_id": 54118197, "body": "is your context resource correct? I tried it on this site, it couldn&#39;t parse it <a href=\"http://json-ld.org/playground/\" rel=\"nofollow noreferrer\">json-ld.org/playground</a>"}, {"owner": {"reputation": 1894, "user_id": 2824791, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/efd30ef72d59944620deeb6f72c47320?s=128&d=identicon&r=PG&f=1", "display_name": "jlo-gmail", "link": "https://stackoverflow.com/users/2824791/jlo-gmail"}, "reply_to_user": {"reputation": 1689, "user_id": 1482044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/CF5KY.png?s=128&g=1", "display_name": "ngunha02", "link": "https://stackoverflow.com/users/1482044/ngunha02"}, "edited": false, "score": 0, "creation_date": 1444940262, "post_id": 33136764, "comment_id": 54124375, "body": "I have simple json. I need to convert it to json-ld. If I put simple json into the playground, the result is nothing also. How do I do the conversion ?"}, {"owner": {"reputation": 1689, "user_id": 1482044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/CF5KY.png?s=128&g=1", "display_name": "ngunha02", "link": "https://stackoverflow.com/users/1482044/ngunha02"}, "edited": false, "score": 0, "creation_date": 1444944764, "post_id": 33136764, "comment_id": 54126656, "body": "I tried modified slightly your context with this context and it parsed ok, but I am not sure if it is what you want: {   &quot;@context&quot;: &quot;<a href=\"http://schema.org\" rel=\"nofollow noreferrer\">schema.org</a>&quot;,   &quot;@type&quot;: &quot;WebSite&quot;,    &quot;ex&quot;: &quot;<a href=\"http://example.org/\" rel=\"nofollow noreferrer\">example.org</a>&quot;,    &quot;term1&quot;: {       &quot;@id&quot;: &quot;ex:term1&quot;,       &quot;@type&quot;: &quot;ex:datatype&quot;   },     &quot;term2&quot;: {       &quot;@id&quot;: &quot;ex:term2&quot;,       &quot;@type&quot;: &quot;@id&quot;   }  }"}], "answers": [{"comments": [{"owner": {"reputation": 1881, "user_id": 729768, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oe0BT.jpg?s=128&g=1", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/729768/nitesh"}, "edited": false, "score": 0, "creation_date": 1554310982, "post_id": 33142387, "comment_id": 97707744, "body": "Works like a charm!"}], "tags": [], "owner": {"reputation": 91, "user_id": 940256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/560b0b65323bdf2c4d5400c67105071c?s=128&d=identicon&r=PG", "display_name": "Roo", "link": "https://stackoverflow.com/users/940256/roo"}, "is_accepted": false, "score": 5, "last_activity_date": 1444894007, "creation_date": 1444894007, "answer_id": 33142387, "question_id": 33136764, "link": "https://stackoverflow.com/questions/33136764/how-do-i-convert-json-to-json-ld-in-net/33142387#33142387", "title": "How do I convert json to json-ld in.Net", "body": "<p>MXTires Microdata .NET is a good one. Converts .Net classes to Schema.org structured data in form of JSON-LD.</p>\n\n<p><a href=\"https://www.nuget.org/packages/MXTires.Microdata/\" rel=\"noreferrer\">Nuget Link</a> | <a href=\"https://github.com/idenys/MXTires.Microdata/blob/master/Tests/DemoTests.cs\" rel=\"noreferrer\">Usage Link</a></p>\n"}, {"tags": [], "owner": {"reputation": 1894, "user_id": 2824791, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/efd30ef72d59944620deeb6f72c47320?s=128&d=identicon&r=PG&f=1", "display_name": "jlo-gmail", "link": "https://stackoverflow.com/users/2824791/jlo-gmail"}, "is_accepted": true, "score": 0, "last_activity_date": 1445012541, "creation_date": 1445012541, "answer_id": 33175206, "question_id": 33136764, "link": "https://stackoverflow.com/questions/33136764/how-do-i-convert-json-to-json-ld-in-net/33175206#33175206", "title": "How do I convert json to json-ld in.Net", "body": "<p>I think I framed the question incorrectly. POCO to JSON-LD can be accomplished easily with JsonLD.Entities on GitHub. If I start with POCO or convert JSON to POCO, then this works easily.</p>\n\n<pre><code>var person = new Person\n{\nId = new Uri(\"http://t-code.pl/#tomasz\"),\nName = \"Tomasz\",\nLastName = \"Pluskiewicz\"\n};\nvar @context = JObject.Parse(\"{ '@context': 'http://example.org/context/Person' }\");\nvar contextProvider = new StaticContextProvider();\ncontextProvider.SetContext(typeof(Person), @context);\n\n// when\nIEntitySerializer serializer = new EntitySerializer(contextProvider);\ndynamic json = serializer.Serialize(person);\n</code></pre>\n"}], "owner": {"reputation": 1894, "user_id": 2824791, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/efd30ef72d59944620deeb6f72c47320?s=128&d=identicon&r=PG&f=1", "display_name": "jlo-gmail", "link": "https://stackoverflow.com/users/2824791/jlo-gmail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3964, "favorite_count": 1, "accepted_answer_id": 33175206, "answer_count": 2, "score": 1, "last_activity_date": 1445012541, "creation_date": 1444861892, "question_id": 33136764, "link": "https://stackoverflow.com/questions/33136764/how-do-i-convert-json-to-json-ld-in-net", "title": "How do I convert json to json-ld in.Net", "body": "<p>I am trying to convert json to json-ld. So far I have tried the json-ld.net liberary from nuget (it is part of nuget3): <a href=\"https://www.nuget.org/packages/json-ld.net/\" rel=\"nofollow\">https://www.nuget.org/packages/json-ld.net/</a></p>\n\n<pre><code>var jtoken = JsonLD.Util.JSONUtils.FromString(response);\nvar options = new JsonLdOptions();\noptions.SetBase(\"http://json-ld.org/test-suite/tests/\");\noptions.SetProduceGeneralizedRdf(true);\nvar context = JsonLD.Util.JSONUtils.FromString(Properties.Resources.jasonldcontext);\noptions.SetExpandContext((JObject)context);\nvar jtokenout = JsonLdProcessor.Compact(jtoken, context, options);\nvar sz = JSONUtils.ToString(jtokenout);\n</code></pre>\n\n<p>the context resource:</p>\n\n<pre><code>{\"@context\": {\n\"ex\": \"http://example.org/\",\n\"term1\": {\"@id\": \"ex:term1\", \"@type\": \"ex:datatype\"},\n\"term2\": {\"@id\": \"ex:term2\", \"@type\": \"@id\"}\n}}\n</code></pre>\n\n<p>My json is present and valid. It comes from REST service. (response), and jtoken is populated. However, sz only contains the context:</p>\n\n<pre><code>context\":{\"ex\":\"http://example.org/\",\"term1\":\n{\"@id\":\"ex:term1\",\"@type\":\"ex:datatype\"},\"term2\":\n{\"@id\":\"ex:term2\",\"@type\":\"@id\"}}}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "dll", "unity3d", "system.reflection"], "comments": [{"owner": {"reputation": 969, "user_id": 2559906, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/zHpky.png?s=128&g=1", "display_name": "Eraph", "link": "https://stackoverflow.com/users/2559906/eraph"}, "edited": false, "score": 0, "creation_date": 1444863338, "post_id": 33136706, "comment_id": 54085593, "body": "What are you trying to achieve by loading the DLL dynamically? If you&#39;re wanting to work with plugins/mods, you might want to consider using something like MEF (Managed Extensibility Framework). Have a look at this video for more information: <a href=\"https://www.youtube.com/watch?v=KnE_PtJoHkA\" rel=\"nofollow noreferrer\">youtube.com/watch?v=KnE_PtJoHkA</a>"}, {"owner": {"reputation": 7285, "user_id": 349045, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/eohqx.jpg?s=128&g=1", "display_name": "ghiboz", "link": "https://stackoverflow.com/users/349045/ghiboz"}, "reply_to_user": {"reputation": 969, "user_id": 2559906, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/zHpky.png?s=128&g=1", "display_name": "Eraph", "link": "https://stackoverflow.com/users/2559906/eraph"}, "edited": false, "score": 0, "creation_date": 1444893069, "post_id": 33136706, "comment_id": 54094249, "body": "I try to use a script from an assetbundle, so in this way when I create the assetbundle, it creates a dll, and I wish use it from the main project"}, {"owner": {"reputation": 969, "user_id": 2559906, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/zHpky.png?s=128&g=1", "display_name": "Eraph", "link": "https://stackoverflow.com/users/2559906/eraph"}, "edited": false, "score": 0, "creation_date": 1444949468, "post_id": 33136706, "comment_id": 54128539, "body": "Okay, so you have two separate projects, yeah? One in Unity, and one in VS. What is the reason for loading it dynamically, rather than including it in the project from the start?"}, {"owner": {"reputation": 7285, "user_id": 349045, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/eohqx.jpg?s=128&g=1", "display_name": "ghiboz", "link": "https://stackoverflow.com/users/349045/ghiboz"}, "reply_to_user": {"reputation": 969, "user_id": 2559906, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/zHpky.png?s=128&g=1", "display_name": "Eraph", "link": "https://stackoverflow.com/users/2559906/eraph"}, "edited": false, "score": 0, "creation_date": 1444995151, "post_id": 33136706, "comment_id": 54146496, "body": "hi @Eraph , I&#39;ve 2 separate projects in unity, &#39;cause one is made from a modder somewhere and the other (core) is made from me and I need to import some gameobjects (and works) but also the scripts used in the project..."}], "owner": {"reputation": 7285, "user_id": 349045, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/eohqx.jpg?s=128&g=1", "display_name": "ghiboz", "link": "https://stackoverflow.com/users/349045/ghiboz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 306, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444861684, "creation_date": 1444861684, "question_id": 33136706, "link": "https://stackoverflow.com/questions/33136706/create-c-dll-runtime-and-after-load-runtime", "title": "create c# dll runtime and after load runtime", "body": "<p>I have this problem:</p>\n\n<p>I create in unity a dll with this code:</p>\n\n<pre><code>public bool PackScripts(string dllPath, string[] scripts)\n{\n    try\n    {\n        CodeDomProvider cc = CodeDomProvider.CreateProvider(\"CSharp\");\n        CompilerParameters cp = new CompilerParameters();\n        var pf = System.Environment.GetFolderPath(System.Environment.SpecialFolder.ProgramFiles);\n        cp.ReferencedAssemblies.Add(string.Format(@\"{0}\\Unity\\Editor\\Data\\Managed\\UnityEngine.dll\", pf));\n        cp.GenerateExecutable = false; //generate executable\n        cp.OutputAssembly = dllPath;\n        CompilerResults cr = cc.CompileAssemblyFromFile(cp, scripts);\n        return cr.Errors.Count == 0;\n    }\n    catch\n    {\n        return false;\n    }\n}\n</code></pre>\n\n<p>and works fine: if I create a solution with visual studio, include the dll created works fine!</p>\n\n<p>but my goal is to load this dll dynamically.. to do this I use this code:</p>\n\n<pre><code>var assembly = System.Reflection.Assembly.Load(\"packScripts.dll\");\n</code></pre>\n\n<p>and here appears this error:</p>\n\n<pre><code>FileNotFoundException: Could not load file or assembly 'C:/Users/Administrator/Documents/Unity/BundlesLoader/Assets/packscripts.dll' or one of its dependencies. The system cannot find the file specified.\nSystem.AppDomain.Load (System.String assemblyString, System.Security.Policy.Evidence assemblySecurity, Boolean refonly) (at /Users/builduser/buildslave/mono-runtime-and-classlibs/build/mcs/class/corlib/System/AppDomain.cs:746)\nSystem.AppDomain.Load (System.String assemblyString) (at /Users/builduser/buildslave/mono-runtime-and-classlibs/build/mcs/class/corlib/System/AppDomain.cs:728)\n(wrapper remoting-invoke-with-check) System.AppDomain:Load (string)\nSystem.Reflection.Assembly.Load (System.String assemblyString) (at /Users/builduser/buildslave/mono-runtime-and-classlibs/build/mcs/class/corlib/System.Reflection/Assembly.cs:576)\nLoader+&lt;LoadBundle&gt;c__Iterator0.MoveNext () (at Assets/Scripts/Loader.cs:94)\n</code></pre>\n\n<p>Also if I create a new solution and try to use the same code, it gives the same error..\nany ideas?</p>\n\n<p>thanks in advance!</p>\n"}, {"tags": ["c#", "winforms", "visual-studio"], "comments": [{"owner": {"reputation": 16196, "user_id": 752527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5e4c2e460e91d6368255ccec79e1763b?s=128&d=identicon&r=PG", "display_name": "Hanlet Esca&#241;o", "link": "https://stackoverflow.com/users/752527/hanlet-esca%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1444861529, "post_id": 33136617, "comment_id": 54084824, "body": "Pass it as an argument (could be the Name, or even the PictureBox itself), then check in the function."}], "answers": [{"tags": [], "owner": {"reputation": 1343, "user_id": 5416019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GEe99.png?s=128&g=1", "display_name": "jhmt", "link": "https://stackoverflow.com/users/5416019/jhmt"}, "is_accepted": true, "score": 0, "last_activity_date": 1444861992, "creation_date": 1444861992, "answer_id": 33136777, "question_id": 33136617, "link": "https://stackoverflow.com/questions/33136617/c-windows-forms-how-to-recognize-what-component-mouse-is-clicking-on-with-mouse/33136777#33136777", "title": "C# Windows Forms How to recognize what component Mouse is clicking on with MouseDown", "body": "<p>You can cast <code>object sender</code> to figure out which PictureBox was clicked.</p>\n\n<pre><code>private void PictureBox_MouseDown(object sender, MouseEventArgs e)\n{\n    PictureBox pictureBox = (PictureBox)sender;\n    // Check which pictureBox it is\n    // Call your function\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5447110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1faabcfdcedb9f704338af5211ab6948?s=128&d=identicon&r=PG&f=1", "display_name": "Ezra", "link": "https://stackoverflow.com/users/5447110/ezra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 33136777, "answer_count": 1, "score": 0, "last_activity_date": 1444861992, "creation_date": 1444861247, "question_id": 33136617, "link": "https://stackoverflow.com/questions/33136617/c-windows-forms-how-to-recognize-what-component-mouse-is-clicking-on-with-mouse", "title": "C# Windows Forms How to recognize what component Mouse is clicking on with MouseDown", "body": "<p>i have a simple function that swaps Components around in my windows form</p>\n\n<pre><code>private void SwapPictures(PictureBox firstBox, PictureBox secondBox)\n    {\n        Image swap = firstBox.Image;\n        firstBox.Image = secondBox.Image;\n        secondBox.Image = swap;\n    }\n</code></pre>\n\n<p>and i want to have a MouseDown and MouseUp implementation which calls my function with the respective PictureBoxes. My question is, how do i get the information which pictureBox im am clicking and releasing on?</p>\n"}, {"tags": ["c#", "sql", "asp.net", "sql-server", "sql-server-express"], "comments": [{"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1444862668, "post_id": 33136591, "comment_id": 54085311, "body": "Its not SQL express. Try Source=(localdb)\\v11.0;AttachDbFilename....etc."}, {"owner": {"reputation": 641, "user_id": 2396111, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/93d1142d1b8317041cfd98e1a2ab134b?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Altig", "link": "https://stackoverflow.com/users/2396111/chris-altig"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1444869047, "post_id": 33136591, "comment_id": 54087145, "body": "I&#39;m sorry, I should have specified that I can log in to the database easily through Microsoft SQL Server Management Studio. It is MSQLLocalDB, it definitely exists as such. I even tried your solution just in case, but that did not work either. Same error."}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1444871475, "post_id": 33136591, "comment_id": 54087658, "body": "If you are connecting to sqlexpress and not localdb then try SQLEXPRESS\\MSSQLLocalDB or just .\\MSSQLLocalDB. Your instance may not be named that though, look at the status bar of SSMS when you are connected."}, {"owner": {"reputation": 641, "user_id": 2396111, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/93d1142d1b8317041cfd98e1a2ab134b?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Altig", "link": "https://stackoverflow.com/users/2396111/chris-altig"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1444873207, "post_id": 33136591, "comment_id": 54088043, "body": "<a href=\"http://i.imgur.com/n2qgyNO.png\" rel=\"nofollow noreferrer\">i.imgur.com/n2qgyNO.png</a> is the connection I am using when using Management Studio. This is what I see when I launch and connect: <a href=\"http://i.imgur.com/EdLcslN.png\" rel=\"nofollow noreferrer\">i.imgur.com/EdLcslN.png</a>"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1444874374, "post_id": 33136591, "comment_id": 54088320, "body": "If you&#39;re connecting to that then remove the AttachDbFileName from the connection string"}, {"owner": {"reputation": 641, "user_id": 2396111, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/93d1142d1b8317041cfd98e1a2ab134b?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Altig", "link": "https://stackoverflow.com/users/2396111/chris-altig"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1444884969, "post_id": 33136591, "comment_id": 54091043, "body": "@Crowcoder The problem is, after testing it on my spare laptop, it works exactly as it is supposed to. It is only when I use it on my main work laptop that it gives me error 50. I disabled my firewall to test, as well as uninstall/reinstall SQL Server 2014 Express under the same settings as the spare laptop. It still won&#39;t work. This is becoming very frustrating, it doesn&#39;t make sense to me why it is working on one but not the other. It is the exact same project and everything. I sync it up using OneDrive."}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "reply_to_user": {"reputation": 641, "user_id": 2396111, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/93d1142d1b8317041cfd98e1a2ab134b?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Altig", "link": "https://stackoverflow.com/users/2396111/chris-altig"}, "edited": false, "score": 0, "creation_date": 1444909853, "post_id": 33136591, "comment_id": 54104890, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/92380/discussion-between-crowcoder-and-chris-altig\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 641, "user_id": 2396111, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/93d1142d1b8317041cfd98e1a2ab134b?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Altig", "link": "https://stackoverflow.com/users/2396111/chris-altig"}, "is_accepted": false, "score": 0, "last_activity_date": 1444963990, "creation_date": 1444963990, "answer_id": 33161793, "question_id": 33136591, "link": "https://stackoverflow.com/questions/33136591/error-50-local-database-runtime-error-occurred/33161793#33161793", "title": "error: 50 - Local Database Runtime error occurred", "body": "<p>I don't know what I did to fix it, but I am almost certain it involved creating the connection in the Server Database. The tutorial I was using didn't go over that part, so I assumed that it wouldn't work. However, it works now.</p>\n"}, {"tags": [], "owner": {"reputation": 614, "user_id": 4980043, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153374509294172/picture?type=large", "display_name": "Karen Gonzalez", "link": "https://stackoverflow.com/users/4980043/karen-gonzalez"}, "is_accepted": false, "score": 0, "last_activity_date": 1492015818, "creation_date": 1492015818, "answer_id": 43375367, "question_id": 33136591, "link": "https://stackoverflow.com/questions/33136591/error-50-local-database-runtime-error-occurred/43375367#43375367", "title": "error: 50 - Local Database Runtime error occurred", "body": "<p>Try this, it worked for me.</p>\n\n<p>Go to Tools/Options/Database Tools/click Data connection/Now remove Sql Server Instance Name from Right hand box/click ok.</p>\n\n<p>Then try to add another database:\nOpen Solution Explorer/Right click on project/Add \nNew Item/Select Service-based database/click Add</p>\n\n<p><a href=\"https://i.stack.imgur.com/y3ICV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y3ICV.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 641, "user_id": 2396111, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/93d1142d1b8317041cfd98e1a2ab134b?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Altig", "link": "https://stackoverflow.com/users/2396111/chris-altig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1095, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1492015818, "creation_date": 1444861173, "question_id": 33136591, "link": "https://stackoverflow.com/questions/33136591/error-50-local-database-runtime-error-occurred", "title": "error: 50 - Local Database Runtime error occurred", "body": "<p>I program C# as a hobby and recently decided to start learning the ins and outs of ASP.NET as to expand my skill set. However, I recently been having issues with SQL LocalDB (2014) and the \"WingtipToys\" project provided by <a href=\"http://asp.net\" rel=\"nofollow noreferrer\">asp.net</a>.</p>\n\n<p>As stated in the title, I get this error: error: 50 - Local Database Runtime error occurred (picture provided)</p>\n\n<p><a href=\"https://i.stack.imgur.com/g3w1S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g3w1S.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried the following solutions to rectify this problem:\n-Installed SQL Server Express 2014 rather than just the LocalDB</p>\n\n<p>-Restarting the service</p>\n\n<p>-Creating another local db through the command line</p>\n\n<p>-using MSQLLocalDB in my connection string <code>&lt;add name=\"WingtipToys\" connectionString=\"Data Source=(LocalDB)\\MSSQLLocalDB;AttachDbFilename=|DataDirectory|\\wingtiptoys.mdf;Integrated Security=True\" providerName=\"System.Data.SqlClient\" /&gt;</code>.</p>\n\n<p>-Adding</p>\n\n<pre><code>&lt;add name=\"ASP.NET v4.0\" autoStart=\"true\" managedRuntimeVersion=\"v4.0\"     managedPipelineMode=\"Integrated\"&gt;\n&lt;processModel identityType=\"ApplicationPoolIdentity\" loadUserProfile=\"true\" setProfileEnvironment=\"true\" /&gt;\n</code></pre>\n\n<p>\nto the applicationhost.config. I could not find it anywhere either, a quick search on my computer turns this up: <a href=\"https://i.stack.imgur.com/RJsYv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RJsYv.png\" alt=\"enter image description here\"></a>\njust to be safe, I added it to all of them. However, this did not affect anything. I googled around looking to see if anyone else's was missing, but it seems as though I am the only one with this specific issue.</p>\n\n<p>-Checked to see if <code>SQL Server Agent (SQLEXPRESS)</code> was running. (it was)</p>\n\n<p>Is there something I am missing? I don't quite understand why I continually get this error even though I have tried all of the solutions listed. I looked in event viewer, but it didn't give me any information beyond that that the server gave me.</p>\n\n<p>I am running <code>Windows 10</code> with <code>SQL Server Express 2014 x64 with Tools</code> if that information helps.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 5969, "user_id": 4320665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0cDQG.png?s=128&g=1", "display_name": "ryanyuyu", "link": "https://stackoverflow.com/users/4320665/ryanyuyu"}, "edited": false, "score": 1, "creation_date": 1444861216, "post_id": 33136581, "comment_id": 54084705, "body": "Return an int and consume the return value in the calling code."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4941906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eed88dc04e0aa2c3f2ff92dae5a314e7?s=128&d=identicon&r=PG&f=1", "display_name": "Grey", "link": "https://stackoverflow.com/users/4941906/grey"}, "edited": false, "score": 0, "creation_date": 1444862504, "post_id": 33136631, "comment_id": 54085240, "body": "how would i avoid state mutation in this case? ( very new to c#) im using this code just to figure out how this all works, i just want to change x. I also dont know what the heap is, is there an article i could read on it?"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 35, "user_id": 4941906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eed88dc04e0aa2c3f2ff92dae5a314e7?s=128&d=identicon&r=PG&f=1", "display_name": "Grey", "link": "https://stackoverflow.com/users/4941906/grey"}, "edited": false, "score": 0, "creation_date": 1444863656, "post_id": 33136631, "comment_id": 54085703, "body": "@Grey By &quot;avoiding state mutation&quot;, what is meant is that <code>Increment</code> shouldn&#39;t be trying to modify the scope of the calling method (<code>Pass</code>), as would be possible with <code>ref</code>. Instead, it should just return the incremented value, and the caller be responsible for making the appropriate adjustments to its own scope (i.e. assigning the return value of <code>Increment</code> back to <code>x</code>). Your second line should be <code>x = Increment(x);</code>."}, {"owner": {"reputation": 1463, "user_id": 4784579, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KRlU0.jpg?s=128&g=1", "display_name": "ipavlu", "link": "https://stackoverflow.com/users/4784579/ipavlu"}, "edited": false, "score": 0, "creation_date": 1444882623, "post_id": 33136631, "comment_id": 54090380, "body": "State mutation is often inevitable, by design or could be performance reason. Examples, Dictionary.TryGet(key, out value) or atomic functions, atomic increment, Interlocked.Increment(ref value).  In C++ is state mutation daily business with pointers, C# knows that with ref, out parameters.It is just tool as any other..."}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "reply_to_user": {"reputation": 1463, "user_id": 4784579, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KRlU0.jpg?s=128&g=1", "display_name": "ipavlu", "link": "https://stackoverflow.com/users/4784579/ipavlu"}, "edited": false, "score": 1, "creation_date": 1444901437, "post_id": 33136631, "comment_id": 54099389, "body": "@ipavlu it&#39;s just not the first tool to pick. C++ is no different. Passing things by value is encouraged. The language was just upgraded to make that significantly more practical with move semantics. But yes, in principle there is nothing wrong with mutation."}], "tags": [], "owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "is_accepted": true, "score": 4, "last_activity_date": 1444861355, "creation_date": 1444861355, "answer_id": 33136631, "question_id": 33136581, "link": "https://stackoverflow.com/questions/33136581/confused-about-passing-by-ref-value-in-c/33136631#33136631", "title": "Confused about passing by ref/value in c#", "body": "<ol>\n<li>Don't mutate state in the caller. Return the new <code>int</code> value as the return value. State mutation is to be avoided in general.</li>\n<li>Continue to use ref if available. Nothing wrong with it except for the state mutation problem.</li>\n<li>Use an object on the heap, for example <code>class IntHolder { int MyInt; }</code> or <code>StrongBox&lt;int&gt;</code> which is built-in.</li>\n</ol>\n\n<p>If you tell us more context we can recommend a specific solution.</p>\n"}, {"comments": [{"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 1, "creation_date": 1444863352, "post_id": 33136964, "comment_id": 54085596, "body": "You need to change the return type to <code>int</code>. secondly, <code>num++</code> evaluates to the previous value of <code>num</code> so you need <code>++num</code> or simply <code>num+1</code>."}, {"owner": {"reputation": 31, "user_id": 5035301, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153017857828590/picture?type=large", "display_name": "Nick Stafford", "link": "https://stackoverflow.com/users/5035301/nick-stafford"}, "reply_to_user": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 0, "creation_date": 1444863508, "post_id": 33136964, "comment_id": 54085650, "body": "You are entirely correct,  this is what I get for typing the code up quickly on my phone. Fixed those issues now thanks :)"}], "tags": [], "owner": {"reputation": 31, "user_id": 5035301, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153017857828590/picture?type=large", "display_name": "Nick Stafford", "link": "https://stackoverflow.com/users/5035301/nick-stafford"}, "is_accepted": false, "score": 1, "last_activity_date": 1444863422, "last_edit_date": 1444863422, "creation_date": 1444862893, "answer_id": 33136964, "question_id": 33136581, "link": "https://stackoverflow.com/questions/33136581/confused-about-passing-by-ref-value-in-c/33136964#33136964", "title": "Confused about passing by ref/value in c#", "body": "<pre><code>[TestMethod] public void Pass() {\n    int x = 4;\n    x = Increment(x);\n   Assert.AreEqual(5, x);\n }\n\nint Increment(int num) {return ++num; }\n</code></pre>\n\n<p>This should work if your set on not using passing by ref.</p>\n\n<p>Essentially when not passing by ref your giving the called method a copy of the original object. So your changes to it in Increment won't be reflected on the original (unless like here you return the new value from the method and use it in an assignment).</p>\n\n<p>When passing by ref your giving the called method a reference to your original object.  In that case any ammendments ARE performed on the original.</p>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 35, "user_id": 4941906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eed88dc04e0aa2c3f2ff92dae5a314e7?s=128&d=identicon&r=PG&f=1", "display_name": "Grey", "link": "https://stackoverflow.com/users/4941906/grey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 33136631, "answer_count": 2, "score": 1, "last_activity_date": 1444863422, "creation_date": 1444861148, "question_id": 33136581, "link": "https://stackoverflow.com/questions/33136581/confused-about-passing-by-ref-value-in-c", "title": "Confused about passing by ref/value in c#", "body": "<p>As in the title something just hasn't clicked for me yet as i'm still learning c#, the following is some really basic code that i'm using just to get the grasp of it.</p>\n\n<pre><code>    [TestMethod]\n    public void Pass()\n    {\n        int x = 4;\n        Increment(x);\n        Assert.AreEqual(5, x);\n    }\n    void Increment(int num)\n    {\n        num++;\n    }\n</code></pre>\n\n<p>I know that if i add ref in it will work just fine, however I've seen that using that isn't always the best case.\nWhat could i do instead of using ref and why? </p>\n"}, {"tags": ["c#", "math"], "comments": [{"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1444862459, "post_id": 33136570, "comment_id": 54085216, "body": "No - use a <code>for</code> loop or whatever construct fits your language.  It will also be easier if you use a collection rather than 7 variables."}, {"owner": {"reputation": 23, "user_id": 2979326, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/100000589878786/picture?type=large", "display_name": "Rene Vucko", "link": "https://stackoverflow.com/users/2979326/rene-vucko"}, "reply_to_user": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1444862713, "post_id": 33136570, "comment_id": 54085330, "body": "Not allowed to use for loops yet"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1444868071, "post_id": 33136570, "comment_id": 54086884, "body": "Then I guess you need 7 <code>if</code> statements."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 2979326, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/100000589878786/picture?type=large", "display_name": "Rene Vucko", "link": "https://stackoverflow.com/users/2979326/rene-vucko"}, "edited": false, "score": 0, "creation_date": 1444865105, "post_id": 33137190, "comment_id": 54086120, "body": "Yeah sorry no functions either, I would&#39;ve done this assigment two days ago if I could use functions or loops :("}, {"owner": {"reputation": 864, "user_id": 2614252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bYi2F.jpg?s=128&g=1", "display_name": "Darkcylde", "link": "https://stackoverflow.com/users/2614252/darkcylde"}, "reply_to_user": {"reputation": 23, "user_id": 2979326, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/100000589878786/picture?type=large", "display_name": "Rene Vucko", "link": "https://stackoverflow.com/users/2979326/rene-vucko"}, "edited": false, "score": 0, "creation_date": 1444866930, "post_id": 33137190, "comment_id": 54086568, "body": "Perhaps you can update your question so that it has more detail about what can and can not be used in the solution."}], "tags": [], "owner": {"reputation": 864, "user_id": 2614252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bYi2F.jpg?s=128&g=1", "display_name": "Darkcylde", "link": "https://stackoverflow.com/users/2614252/darkcylde"}, "is_accepted": false, "score": 1, "last_activity_date": 1444864181, "creation_date": 1444864181, "answer_id": 33137190, "question_id": 33136570, "link": "https://stackoverflow.com/questions/33136570/c-scale-program-helpeasy/33137190#33137190", "title": "C# scale program help(easy)", "body": "<p>If you are not allowed to use loops then perhaps the next easiest way it to create a function and use that instead of +. I am going to assume then that you are also not allowed to use other slightly more complex concepts like classes ect. </p>\n\n<pre><code>public int ValueTest(int iValue)\n{\n    if ((iValueTwo &gt; 84) &amp;&amp; (iValueTwo &lt; 184) {\n        return iValue;\n    }\n    return 0;\n}\nstatic int Main(string[] args)\n{\n    int a=50;\n    int b=51;\n\n    int iResult = 0;\n    iResult = ValueTest(a) + ValueTest(b);\n    Console.WriteLine(\"Result is: \", iResult);\n    return 0;\n}\n</code></pre>\n\n<p>I have only done two values but this should give you the idea. Also I haven't tested this code so I may have missed something small but the general idea should still be sound.</p>\n\n<p>Cheers</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 2979326, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/100000589878786/picture?type=large", "display_name": "Rene Vucko", "link": "https://stackoverflow.com/users/2979326/rene-vucko"}, "edited": false, "score": 0, "creation_date": 1444888288, "post_id": 33137814, "comment_id": 54092171, "body": "Uh I still don&#39;t really understand how to solve this :/"}], "tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": true, "score": 0, "last_activity_date": 1444868427, "creation_date": 1444868427, "answer_id": 33137814, "question_id": 33136570, "link": "https://stackoverflow.com/questions/33136570/c-scale-program-helpeasy/33137814#33137814", "title": "C# scale program help(easy)", "body": "<blockquote>\n  <p>Do I need to do this with 1000 \"If\" sentences?</p>\n</blockquote>\n\n<p>No, just 7</p>\n\n<pre><code>int total = 0;\nif(a &gt;= 84 &amp;&amp; a &lt;= 184)\n   total += a;\n</code></pre>\n\n<p>.. etc</p>\n"}, {"comments": [{"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 0, "creation_date": 1444876834, "post_id": 33138512, "comment_id": 54088925, "body": "One-liner spanning multiple lines ;)"}, {"owner": {"reputation": 23, "user_id": 2979326, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/100000589878786/picture?type=large", "display_name": "Rene Vucko", "link": "https://stackoverflow.com/users/2979326/rene-vucko"}, "edited": false, "score": 0, "creation_date": 1444888309, "post_id": 33138512, "comment_id": 54092178, "body": "How does your first answer work? I haven&#39;t seen this before."}, {"owner": {"reputation": 23, "user_id": 2979326, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/100000589878786/picture?type=large", "display_name": "Rene Vucko", "link": "https://stackoverflow.com/users/2979326/rene-vucko"}, "edited": false, "score": 0, "creation_date": 1444888481, "post_id": 33138512, "comment_id": 54092246, "body": "Oh wait I think I understand, will try this at night and I&#39;ll respond how it works out. But what&#39;s with the &quot;?&quot;?"}, {"owner": {"reputation": 23, "user_id": 2979326, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/100000589878786/picture?type=large", "display_name": "Rene Vucko", "link": "https://stackoverflow.com/users/2979326/rene-vucko"}, "edited": false, "score": 0, "creation_date": 1444888974, "post_id": 33138512, "comment_id": 54092455, "body": "Also how would I go into calculating the average sum of these variables?"}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1444891513, "post_id": 33138512, "comment_id": 54093516, "body": "<code>.Average()</code> for the LINQ one. For the other, just calculate it: <code>average = total &#47; n</code>."}, {"owner": {"reputation": 23, "user_id": 2979326, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/100000589878786/picture?type=large", "display_name": "Rene Vucko", "link": "https://stackoverflow.com/users/2979326/rene-vucko"}, "edited": false, "score": 0, "creation_date": 1444904455, "post_id": 33138512, "comment_id": 54101384, "body": "But if lets say there are only 5 numbers in the correct range, then how would I get the N variable?"}, {"owner": {"reputation": 23, "user_id": 2979326, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/100000589878786/picture?type=large", "display_name": "Rene Vucko", "link": "https://stackoverflow.com/users/2979326/rene-vucko"}, "edited": false, "score": 0, "creation_date": 1444906997, "post_id": 33138512, "comment_id": 54103005, "body": "So lets says we have b+c+d+e+f then how would we make the N=5? And If we start the program again and lets say we now have 6 numbers in range so it would be b+c+d+e+f+g then how would the N change to 6? So I could get the average"}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1444922624, "post_id": 33138512, "comment_id": 54114294, "body": "In the LINQ case you would use <code>.Count()</code> on the filtered list. In the <code>?.</code> case you would repeat adding 1 instead of the value, i.e. <code>int count = ((a &gt;= 84 &amp;&amp; a &lt;= 184) ? 1 : 0) + ...</code>"}], "tags": [], "owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "is_accepted": false, "score": 0, "last_activity_date": 1444885311, "last_edit_date": 1444885311, "creation_date": 1444873894, "answer_id": 33138512, "question_id": 33136570, "link": "https://stackoverflow.com/questions/33136570/c-scale-program-helpeasy/33138512#33138512", "title": "C# scale program help(easy)", "body": "<p>One-liner (or rather a <em>single statement</em> formatted to fit here):</p>\n\n<pre><code>int total = ((a &gt;= 84 &amp;&amp; a &lt;= 184) ? a : 0) + \n        ((b &gt;= 84 &amp;&amp; b &lt;= 184) ? b : 0) + \n        ((c &gt;= 84 &amp;&amp; c &lt;= 184) ? c : 0) + \n        ((d &gt;= 84 &amp;&amp; d &lt;= 184) ? d : 0) + \n        ((e &gt;= 84 &amp;&amp; e &lt;= 184) ? e : 0) + \n        ((f &gt;= 84 &amp;&amp; f &lt;= 184) ? f : 0) + \n        ((g &gt;= 84 &amp;&amp; g &lt;= 184) ? g : 0);\n</code></pre>\n\n<p>Or you could do it with LINQ (if that's allowed):</p>\n\n<pre><code>int total = new {a, b, c, d, e, f, g}.Where(x =&gt; x &gt;= 84 &amp;&amp; x &lt;= 184).Sum();\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 2979326, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/100000589878786/picture?type=large", "display_name": "Rene Vucko", "link": "https://stackoverflow.com/users/2979326/rene-vucko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 33137814, "answer_count": 3, "score": -1, "last_activity_date": 1444885311, "creation_date": 1444861061, "last_edit_date": 1444873578, "question_id": 33136570, "link": "https://stackoverflow.com/questions/33136570/c-scale-program-helpeasy", "title": "C# scale program help(easy)", "body": "<p>I'm looking to make a program that calculates the sum of 7 numbers. But with a twist. IF one of these variables is smaller than 84 OR greater than 184, then this one variable is counted out of the sum of the other 6 numbers.</p>\n\n<p>So lets say for example:</p>\n\n<pre><code>a=50\nb=51\nc=90\nd=91\ne=92\nf=93\ng=94\n</code></pre>\n\n<p>So now it would be; c+d+e+f+g. Do I need to do this with 1000 \"If\" sentences?</p>\n"}, {"tags": ["c#", "xaml", "listview", "windows-phone-8.1"], "comments": [{"owner": {"reputation": 8898, "user_id": 2609980, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/FV4E4.jpg?s=128&g=1", "display_name": "Erwin Rooijakkers", "link": "https://stackoverflow.com/users/2609980/erwin-rooijakkers"}, "reply_to_user": {"reputation": 60839, "user_id": 301857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r4KmT.jpg?s=128&g=1", "display_name": "Grant Winney", "link": "https://stackoverflow.com/users/301857/grant-winney"}, "edited": false, "score": 0, "creation_date": 1444921292, "post_id": 33136535, "comment_id": 54113356, "body": "@GrantWinney In the <code>UpdateDiary</code> method which is called after adding an entry:  <code>private async void UpdateDiary()         {             var latestDiary = await _repository.GetAsync();             MeditationDiary = latestDiary;         }</code> latestDiary is an object that contains entries."}], "answers": [{"comments": [{"owner": {"reputation": 8898, "user_id": 2609980, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/FV4E4.jpg?s=128&g=1", "display_name": "Erwin Rooijakkers", "link": "https://stackoverflow.com/users/2609980/erwin-rooijakkers"}, "edited": false, "score": 0, "creation_date": 1445005285, "post_id": 33152628, "comment_id": 54153066, "body": "Thank you Grant. This helps. I also have to remove the Binding from <code>Grid Width=&quot;{Binding ElementName=ListViewHeaders, Path=ActualWidth}&quot;&gt;</code>. When I keep that it keeps showing the same behaviour (emptying display on update)."}, {"owner": {"reputation": 8898, "user_id": 2609980, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/FV4E4.jpg?s=128&g=1", "display_name": "Erwin Rooijakkers", "link": "https://stackoverflow.com/users/2609980/erwin-rooijakkers"}, "edited": false, "score": 0, "creation_date": 1445008550, "post_id": 33152628, "comment_id": 54155323, "body": "See <a href=\"http://stackoverflow.com/questions/33173892/how-to-bind-datatemplate-width-to-parent-and-be-able-to-update-viewmodel-propert\">this question</a>."}], "tags": [], "owner": {"reputation": 60839, "user_id": 301857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r4KmT.jpg?s=128&g=1", "display_name": "Grant Winney", "link": "https://stackoverflow.com/users/301857/grant-winney"}, "is_accepted": true, "score": 1, "last_activity_date": 1444923063, "creation_date": 1444923063, "answer_id": 33152628, "question_id": 33136535, "link": "https://stackoverflow.com/questions/33136535/data-disappears-from-listview-after-assigning-new-data-to-itemssource/33152628#33152628", "title": "Data disappears from ListView after assigning new data to ItemsSource", "body": "<p>This is most likely the culprit that's messing up your binding:</p>\n\n<pre><code>MeditationDiary = latestDiary;\n</code></pre>\n\n<p>Instead, try clearing out the current collection and then adding the new values to it:</p>\n\n<pre><code>MeditationDiary.Clear();\n\nforeach (var entry in latestDiary)\n    MeditationDiary.Add(entry);\n</code></pre>\n\n<p>You'll probably have to call <code>RaisePropertyChanged</code> on the collection after you add the new items.</p>\n\n<p>As a side note, you could replace <code>MeditationDiary</code> with an <code>ObservableCollection&lt;MeditationEntry&gt;</code>, which automatically notifies the UI when you add/remove items in it.</p>\n"}], "owner": {"reputation": 8898, "user_id": 2609980, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/FV4E4.jpg?s=128&g=1", "display_name": "Erwin Rooijakkers", "link": "https://stackoverflow.com/users/2609980/erwin-rooijakkers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 884, "favorite_count": 0, "accepted_answer_id": 33152628, "answer_count": 1, "score": 1, "last_activity_date": 1444923063, "creation_date": 1444860958, "last_edit_date": 1444922584, "question_id": 33136535, "link": "https://stackoverflow.com/questions/33136535/data-disappears-from-listview-after-assigning-new-data-to-itemssource", "title": "Data disappears from ListView after assigning new data to ItemsSource", "body": "<p>I have the following <code>ListView</code>:</p>\n\n<pre><code>&lt;ListView \n    Grid.Row=\"1\" \n    ItemsSource=\"{Binding MeditationDiary}\" &gt;\n    &lt;ListView.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;Grid Width=\"{Binding ElementName=ListViewHeaders, Path=ActualWidth}\" &gt;\n                &lt;Grid.ColumnDefinitions&gt;\n                    &lt;ColumnDefinition  /&gt;\n                    &lt;ColumnDefinition  /&gt;\n                &lt;/Grid.ColumnDefinitions&gt;\n                &lt;TextBlock \n                    Grid.Column=\"0\" \n                    Text=\"{Binding StartTime}\" /&gt;\n                &lt;TextBlock \n                    Grid.Column=\"1\" \n                    Text=\"{Binding TimeMeditated}\" /&gt;\n            &lt;/Grid&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/ListView.ItemTemplate&gt;\n&lt;/ListView&gt;\n</code></pre>\n\n<p>This is bound to a <code>MeditationDiary</code> property of type <code>MeditationDiary</code> consisting of <code>MeditationEntries</code>:</p>\n\n<pre><code>public class MeditationDiary : Collection&lt;MeditationEntry&gt; { }\n\npublic class MeditationEntry\n{\n    public DateTime StartTime { get; set; }\n    public TimeSpan TimeMeditated { get; set; }\n}\n</code></pre>\n\n<p>The <code>ListView</code> binds to this <code>MeditationDiary</code>:</p>\n\n<pre><code>private MeditationDiary _meditationDiary;\npublic MeditationDiary MeditationDiary\n{\n    get\n    {\n        RaisePropertyChanged(nameof(MeditationDiary));\n        return _meditationDiary;\n    }\n    set\n    {\n        _meditationDiary = value;\n        RaisePropertyChanged(nameof(MeditationDiary));\n    }\n}\n</code></pre>\n\n<p>Strangely enough when I assign a new <code>MeditationDiary</code> object to the property (which contains data with <code>MeditationEntries</code>) the <code>ListView</code> does no longer display data.</p>\n\n<p>I'm assigning the new <code>MeditationDiary</code> object in the <code>UpdateDiary</code> method which is called after adding an entry:</p>\n\n<pre><code>private async void UpdateDiary()\n{\n    var latestDiary = await _repository.GetAsync();\n    MeditationDiary = latestDiary;\n}\n</code></pre>\n\n<p>Why can this be and how can it be fixed?</p>\n"}, {"tags": ["c#", "xna", "monogame"], "comments": [{"owner": {"reputation": 401, "user_id": 4836832, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152794758707647/picture?type=large", "display_name": "Stefan Agartsson", "link": "https://stackoverflow.com/users/4836832/stefan-agartsson"}, "edited": false, "score": 0, "creation_date": 1444861029, "post_id": 33136388, "comment_id": 54084628, "body": "Using spritebatch will stretch the texture if you set a destination rect that&#39;s larger than source rect. You can also set a source rect that doesn&#39;t cover the entire texture if you only want to render part of it. Do you need to have the textrued skewed as well or what are you trying to achieve?"}, {"owner": {"reputation": 117, "user_id": 1051863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4f9cee37880b699514ca9ae6d1e4380?s=128&d=identicon&r=PG", "display_name": "mick", "link": "https://stackoverflow.com/users/1051863/mick"}, "reply_to_user": {"reputation": 401, "user_id": 4836832, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152794758707647/picture?type=large", "display_name": "Stefan Agartsson", "link": "https://stackoverflow.com/users/4836832/stefan-agartsson"}, "edited": false, "score": 0, "creation_date": 1444868864, "post_id": 33136388, "comment_id": 54087096, "body": "Yes, the texture should be skewed as well, that&#39;s my problem."}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 1051863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4f9cee37880b699514ca9ae6d1e4380?s=128&d=identicon&r=PG", "display_name": "mick", "link": "https://stackoverflow.com/users/1051863/mick"}, "edited": false, "score": 0, "creation_date": 1445040001, "post_id": 33143865, "comment_id": 54169558, "body": "thank you for your comment. i didn&#39;t know about the basic effect. All tutorials i have seen used a custom shader and monogame was not able to compile them"}], "tags": [], "owner": {"reputation": 401, "user_id": 4836832, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152794758707647/picture?type=large", "display_name": "Stefan Agartsson", "link": "https://stackoverflow.com/users/4836832/stefan-agartsson"}, "is_accepted": true, "score": 7, "last_activity_date": 1554921945, "last_edit_date": 1554921945, "creation_date": 1444898788, "answer_id": 33143865, "question_id": 33136388, "link": "https://stackoverflow.com/questions/33136388/monogame-xna-draw-polygon-in-spritebatch/33143865#33143865", "title": "MonoGame / XNA Draw Polygon in Spritebatch", "body": "<p>If you want to draw your texture in a non-rectangular way you can't use <code>SpriteBatch</code>. But drawing polygons isn't hard either and you can use <code>BasicEffect</code> so you don't have to worry about shaders.\nStart by setting up your Vertex and Index arrays:</p>\n\n<pre><code>BasicEffect basicEffect = new BasicEffect(device);\nbasicEffect.Texture = myTexture;\nbasicEffect.TextureEnabled = true;\n\nVertexPositionTexture[] vert = new VertexPositionTexture[4];\nvert[0].Position = new Vector3(0, 0, 0);\nvert[1].Position = new Vector3(100, 0, 0);\nvert[2].Position = new Vector3(0, 100, 0);\nvert[3].Position = new Vector3(100, 100, 0);\n\nvert[0].TextureCoordinate = new Vector2(0, 0);\nvert[1].TextureCoordinate = new Vector2(1, 0);\nvert[2].TextureCoordinate = new Vector2(0, 1);\nvert[3].TextureCoordinate = new Vector2(1, 1);\n\nshort[] ind = new short[6];\nind[0] = 0;\nind[1] = 2;\nind[2] = 1;\nind[3] = 1;\nind[4] = 2;\nind[5] = 3;\n</code></pre>\n\n<p><code>BasicEffect</code> is great a standard shader, you can use it to draw textures, colors and even apply lighting to it.</p>\n\n<p><code>VertexPositionTexture</code> is how your vertex buffer is set up. </p>\n\n<p>You can use <code>VertexPositionColor</code> if you only want colors and <code>VertexPositionColorTexture</code> if you want both (tinting the texture with a color).</p>\n\n<p>The <code>ind</code> array says in what order you draw the two triangles making up the quad.</p>\n\n<p>Then in your render loop you do this:</p>\n\n<pre><code>foreach (EffectPass effectPass in basicEffect.CurrentTechnique.Passes) \n{\n    effectPass.Apply();\n    device.DrawUserIndexedPrimitives&lt;VertexPositionTexture&gt;(\n        PrimitiveType.TriangleList, vert, 0, vert.Length, ind, 0, ind.Length / 3);\n}\n</code></pre>\n\n<p>That's it! \nThis is a very brief introduction, I suggest you play around with this and if you get stuck there's a ton of tutorials and information on this, google is your friend.</p>\n"}], "owner": {"reputation": 117, "user_id": 1051863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4f9cee37880b699514ca9ae6d1e4380?s=128&d=identicon&r=PG", "display_name": "mick", "link": "https://stackoverflow.com/users/1051863/mick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4054, "favorite_count": 1, "accepted_answer_id": 33143865, "answer_count": 1, "score": 3, "last_activity_date": 1554921945, "creation_date": 1444860187, "question_id": 33136388, "link": "https://stackoverflow.com/questions/33136388/monogame-xna-draw-polygon-in-spritebatch", "title": "MonoGame / XNA Draw Polygon in Spritebatch", "body": "<p>i am currently writing a game with MonoGame and I need to draw textured shapes. I want to draw polygons with 4 corners.\nAll my renderstuff is done with the spritebatch.\nI tried to use TriangleStripes, but it does not work very well for me, because I don't have any experience with shaders and mixing this with the rest of the spritebatch-rendercode seems complicated.\nOne solution i thought about was to draw a quad and strech the texture with texturecoordinats. Is this possible somehow? I can't find something about this in relation to the spritebatch.\nDoes anyone have tutorials or knows how to archive my goal?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "visual-studio-2015", "windows-10", "win-universal-app"], "comments": [{"owner": {"reputation": 4894, "user_id": 3956290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZsQ0z.png?s=128&g=1", "display_name": "Mehrzad Chehraz", "link": "https://stackoverflow.com/users/3956290/mehrzad-chehraz"}, "edited": false, "score": 0, "creation_date": 1444865140, "post_id": 33136353, "comment_id": 54086130, "body": "I don&#39;t think it is a problem. My visual studio does the same, I think we should let it live :D"}, {"owner": {"reputation": 5629, "user_id": 1032261, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/29efc71ad7d690db932d9cf707bed760?s=128&d=identicon&r=PG&f=1", "display_name": "Sevenate", "link": "https://stackoverflow.com/users/1032261/sevenate"}, "reply_to_user": {"reputation": 4894, "user_id": 3956290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZsQ0z.png?s=128&g=1", "display_name": "Mehrzad Chehraz", "link": "https://stackoverflow.com/users/3956290/mehrzad-chehraz"}, "edited": false, "score": 0, "creation_date": 1444877798, "post_id": 33136353, "comment_id": 54089155, "body": "@MehrzadChehraz, this is surely not a problem and I have no doubts that this happens not only on my machine, but anyway prefer to eliminate any unnecessary empty folders ones and forever and not every times after they have been created, especially with such a weird name :)"}, {"owner": {"reputation": 335, "user_id": 421937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e75b47f04b7f3dca319b547909ed74?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Friesen", "link": "https://stackoverflow.com/users/421937/tim-friesen"}, "edited": false, "score": 4, "creation_date": 1445025720, "post_id": 33136353, "comment_id": 54164459, "body": "Please post feedback on the MS connect item I just created at <a href=\"https://connect.microsoft.com/VisualStudio/feedback/details/1909707/getting-empty-folder-in-project-root-after-opening-sln-file-dtar-08e86330-4835-4b5c-9e5a-61f37ae1a077-dtar\" rel=\"nofollow noreferrer\">connect.microsoft.com/VisualStudio/feedback/details/1909707/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 5629, "user_id": 1032261, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/29efc71ad7d690db932d9cf707bed760?s=128&d=identicon&r=PG&f=1", "display_name": "Sevenate", "link": "https://stackoverflow.com/users/1032261/sevenate"}, "reply_to_user": {"reputation": 335, "user_id": 421937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e75b47f04b7f3dca319b547909ed74?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Friesen", "link": "https://stackoverflow.com/users/421937/tim-friesen"}, "edited": false, "score": 0, "creation_date": 1452017930, "post_id": 33136353, "comment_id": 56982603, "body": "@TimFriesen done it twice there, thanks :)"}, {"owner": {"reputation": 6875, "user_id": 9275, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3f19ed11f805f9100ce9097ff14a65ee?s=128&d=identicon&r=PG", "display_name": "Brian Chavez", "link": "https://stackoverflow.com/users/9275/brian-chavez"}, "edited": false, "score": 0, "creation_date": 1463450943, "post_id": 33136353, "comment_id": 62058728, "body": "Never fails. Just started noticing this in VS 2015 Update 2. Never had this problem with Update 1."}], "answers": [{"comments": [{"owner": {"reputation": 5629, "user_id": 1032261, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/29efc71ad7d690db932d9cf707bed760?s=128&d=identicon&r=PG&f=1", "display_name": "Sevenate", "link": "https://stackoverflow.com/users/1032261/sevenate"}, "edited": false, "score": 0, "creation_date": 1450646755, "post_id": 34383240, "comment_id": 56513288, "body": "Already voted twice for connect issue a few days after posted this question here (there is also back link to this question in comments there). But thanks for workaround!"}, {"owner": {"reputation": 5629, "user_id": 1032261, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/29efc71ad7d690db932d9cf707bed760?s=128&d=identicon&r=PG&f=1", "display_name": "Sevenate", "link": "https://stackoverflow.com/users/1032261/sevenate"}, "edited": false, "score": 0, "creation_date": 1460394810, "post_id": 34383240, "comment_id": 60710490, "body": "OK, I&#39;m gonna mark this as an answer since the root cause seems to be indeed in VS2015 or one of its component and, thus, could be fixed only by Visual Studio team (and the workaround is working for me fine, thanks you!). Crossing fingers that they review the connect issues from time to time :)"}, {"owner": {"reputation": 325, "user_id": 732303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b36167bb5956c59e2672baeaa78eb3a?s=128&d=identicon&r=PG", "display_name": "SeongTae Jeong", "link": "https://stackoverflow.com/users/732303/seongtae-jeong"}, "edited": false, "score": 4, "creation_date": 1462984769, "post_id": 34383240, "comment_id": 61872194, "body": "Another workaround (until Visual Studio 2015 Update 3): <a href=\"https://github.com/stjeong/NoDtarVisualStudioVersionSelector\" rel=\"nofollow noreferrer\">github.com/stjeong/NoDtarVisualStudioVersionSelector</a>"}, {"owner": {"reputation": 5629, "user_id": 1032261, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/29efc71ad7d690db932d9cf707bed760?s=128&d=identicon&r=PG&f=1", "display_name": "Sevenate", "link": "https://stackoverflow.com/users/1032261/sevenate"}, "reply_to_user": {"reputation": 325, "user_id": 732303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b36167bb5956c59e2672baeaa78eb3a?s=128&d=identicon&r=PG", "display_name": "SeongTae Jeong", "link": "https://stackoverflow.com/users/732303/seongtae-jeong"}, "edited": false, "score": 0, "creation_date": 1463608987, "post_id": 34383240, "comment_id": 62142657, "body": "@SeongTaeJeong you must be <i>really</i> hate this folder so much that end up writing an app to launch the VS2015. Thanks anyway, hopefully Update 3 will fix this permanently."}, {"owner": {"reputation": 2933, "user_id": 16886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e85ef113acb3966ce368d303b52a6ef?s=128&d=identicon&r=PG", "display_name": "DK.", "link": "https://stackoverflow.com/users/16886/dk"}, "reply_to_user": {"reputation": 325, "user_id": 732303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b36167bb5956c59e2672baeaa78eb3a?s=128&d=identicon&r=PG", "display_name": "SeongTae Jeong", "link": "https://stackoverflow.com/users/732303/seongtae-jeong"}, "edited": false, "score": 0, "creation_date": 1466532734, "post_id": 34383240, "comment_id": 63351854, "body": "Thanks @SeongTaeJeong for this &quot;pre-Update 3&quot; fix, this really helps to... keep MS reputation high :) Now I wonder what DTAR stands for anyway?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user57508"}, "is_accepted": false, "score": 20, "last_activity_date": 1450629567, "creation_date": 1450629567, "answer_id": 34383240, "question_id": 33136353, "link": "https://stackoverflow.com/questions/33136353/strange-subfolder-dtar-08e86330-4835-4b5c-9e5a-61f37ae1a077-dtar-created-in-vs/34383240#34383240", "title": "Strange subfolder &quot;DTAR_08E86330_4835_4B5C_9E5A_61F37AE1A077_DTAR&quot; created in VS2015&#39;s UWP solution folder", "body": "<p>There's actually an <a href=\"https://connect.microsoft.com/VisualStudio/feedback/details/1909707/getting-empty-folder-in-project-root-after-opening-sln-file-dtar-08e86330-4835-4b5c-9e5a-61f37ae1a077-dtar\">issue filed on Connect</a>, which is currently reviewed by Microsoft. So brings in some room for the reasonable suspicion that this is a bug of Visual Studio 2015. </p>\n\n<p>There is also a workaround available:</p>\n\n<blockquote>\n  <p>Posted by DaisyDave on 12/15/2015 at 2:40 AM<br>\n  Opening solutions from within the IDE stops these folders appearing.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 13437, "user_id": 216440, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/io1IK.jpg?s=128&g=1", "display_name": "Simon Tewsi", "link": "https://stackoverflow.com/users/216440/simon-tewsi"}, "is_accepted": false, "score": 2, "last_activity_date": 1464297252, "creation_date": 1464297252, "answer_id": 37471136, "question_id": 33136353, "link": "https://stackoverflow.com/questions/33136353/strange-subfolder-dtar-08e86330-4835-4b5c-9e5a-61f37ae1a077-dtar-created-in-vs/37471136#37471136", "title": "Strange subfolder &quot;DTAR_08E86330_4835_4B5C_9E5A_61F37AE1A077_DTAR&quot; created in VS2015&#39;s UWP solution folder", "body": "<p>In general I open solutions from Windows Explorer rather than from within Visual Studio.  If you're like me the Connect issue mentioned in Andreas' answer has a second workaround, for opening the solution from Windows Explorer: </p>\n\n<blockquote>\n  <p>Posted by Dee Key on 3/4/2016 at 11:22 AM <br/>\n  From the Windows File Explorer right-click on the solution file and Open with Visual Studio 2015.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 5629, "user_id": 1032261, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/29efc71ad7d690db932d9cf707bed760?s=128&d=identicon&r=PG&f=1", "display_name": "Sevenate", "link": "https://stackoverflow.com/users/1032261/sevenate"}, "is_accepted": true, "score": 3, "last_activity_date": 1466541299, "creation_date": 1466541299, "answer_id": 37954101, "question_id": 33136353, "link": "https://stackoverflow.com/questions/33136353/strange-subfolder-dtar-08e86330-4835-4b5c-9e5a-61f37ae1a077-dtar-created-in-vs/37954101#37954101", "title": "Strange subfolder &quot;DTAR_08E86330_4835_4B5C_9E5A_61F37AE1A077_DTAR&quot; created in VS2015&#39;s UWP solution folder", "body": "<p>It seems to be (finally) fixed in recent <a href=\"https://www.visualstudio.com/en-us/news/releasenotes/vs2015-update3-vs\" rel=\"nofollow\">Visual Studio Update 3 RC</a> (works for me at least).</p>\n\n<p>Also there is another \"more permanent\" workaround from <em>EricStj - MSFT</em> (copy-pasted from his comment to relevant issue <a href=\"https://connect.microsoft.com/VisualStudio/feedback/details/1909707/getting-empty-folder-in-project-root-after-opening-sln-file-dtar-08e86330-4835-4b5c-9e5a-61f37ae1a077-dtar\" rel=\"nofollow\">here</a>) for those who would prefer to wait for RTM version of this update and have to skip current RC version:</p>\n\n<blockquote>\n  <p>The fix didn't make it into Update 2. It should come out in Update 3.\n  To workaround you can copy this file replace this file \"<strong>C:\\Program\n  Files (x86)\\Reference\n  Assemblies\\Microsoft\\Framework.NETCore\\v5.0\\GlobalDTARSettings.proj</strong>\"\n  with the version from here:\n  <a href=\"https://gist.github.com/ericstj/b40dd3846c3faec5ea1ba55fce64d1f8\" rel=\"nofollow\">https://gist.github.com/ericstj/b40dd3846c3faec5ea1ba55fce64d1f8</a>.</p>\n</blockquote>\n"}], "owner": {"reputation": 5629, "user_id": 1032261, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/29efc71ad7d690db932d9cf707bed760?s=128&d=identicon&r=PG&f=1", "display_name": "Sevenate", "link": "https://stackoverflow.com/users/1032261/sevenate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5640, "favorite_count": 4, "accepted_answer_id": 37954101, "answer_count": 3, "score": 47, "last_activity_date": 1466541299, "creation_date": 1444860066, "last_edit_date": 1444860822, "question_id": 33136353, "link": "https://stackoverflow.com/questions/33136353/strange-subfolder-dtar-08e86330-4835-4b5c-9e5a-61f37ae1a077-dtar-created-in-vs", "title": "Strange subfolder &quot;DTAR_08E86330_4835_4B5C_9E5A_61F37AE1A077_DTAR&quot; created in VS2015&#39;s UWP solution folder", "body": "<p>I've seen this empty sub folder <code>DTAR_08E86330_4835_4B5C_9E5A_61F37AE1A077_DTAR</code> created few times in different solutions (all UWP) and even in default \"Blank App (Universal Windows)\" project, the problem is - I can't reproduce it intentionally - sooner or later, it is just created, but I don't know why and what was the cause.</p>\n\n<p><a href=\"https://i.stack.imgur.com/886fh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/886fh.png\" alt=\"enter image description here\"></a></p>\n\n<p>Does anyone have any clue?</p>\n\n<p>PS. Here is my config if that matter:</p>\n\n<p>Microsoft Visual Studio Community 2015 Version <strong>14.0.23107.0</strong> D14REL<br>\nMicrosoft .NET Framework <strong>4.6.01028</strong><br>\nVisual Basic 2015   00322-20000-00000-AA447<br>\nVisual C# 2015   00322-20000-00000-AA447<br>\nVisual C++ 2015   00322-20000-00000-AA447<br>\nWindows Phone SDK <strong>8.0</strong> - ENU   00322-20000-00000-AA447<br>\nApplication Insights Tools for Visual Studio Package <strong>1.0</strong><br>\nASP.NET and Web Tools   <strong>14.0.20626.0</strong><br>\nASP.NET Web Frameworks and Tools 2013   <strong>5.2.30624.0</strong><br>\nCommon Azure Tools   <strong>1.5</strong><br>\nGenerateUnitTest   <strong>1.0</strong><br>\nGitHub.VisualStudio   <strong>1.0</strong><br>\nJetBrains ReSharper Ultimate <strong>10 EAP 4</strong>   Build 104.0.20151009.190534-EAP4<br>\nMicrosoft Azure Mobile Services Tools   <strong>1.4</strong><br>\nNuGet Package Manager   <strong>3.2.0</strong><br>\nP4VS - Perforce Plugin for Visual Studio   <strong>2015.1.105.4164</strong><br>\nPreEmptive Analytics Visualizer   <strong>1.2</strong><br>\nSQL Server Data Tools   <strong>14.0.50616.0</strong><br>\nVisual Studio Tools for Universal Windows Apps   <strong>14.0.23309.00</strong> d14oob  </p>\n"}, {"tags": ["c#", "wcf"], "comments": [{"owner": {"reputation": 1577, "user_id": 4065182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df3e28abd04df5a6679c79907d42ba91?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisC73", "link": "https://stackoverflow.com/users/4065182/chrisc73"}, "edited": false, "score": 0, "creation_date": 1444862737, "post_id": 33136348, "comment_id": 54085341, "body": "Have you tried <a href=\"https://msdn.microsoft.com/en-us/library/ms733025%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">WCF tracing</a> to see if you can get more detail for the exception?"}, {"owner": {"reputation": 1577, "user_id": 4065182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df3e28abd04df5a6679c79907d42ba91?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisC73", "link": "https://stackoverflow.com/users/4065182/chrisc73"}, "edited": false, "score": 0, "creation_date": 1444863192, "post_id": 33136348, "comment_id": 54085534, "body": "You may also wish to declare RemoteProcessHandle as a [DataContract] with [DataMember] properties: <a href=\"https://msdn.microsoft.com/en-us/library/ms730167%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">link</a>."}, {"owner": {"reputation": 993, "user_id": 1768107, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/084b78851642c0b515be38987ba29a6f?s=128&d=identicon&r=PG", "display_name": "Prasanth V J", "link": "https://stackoverflow.com/users/1768107/prasanth-v-j"}, "edited": false, "score": 0, "creation_date": 1444886164, "post_id": 33136348, "comment_id": 54091404, "body": "Add Process as known type"}, {"owner": {"reputation": 435, "user_id": 3767259, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/3e8d28fea5d00a85f37bee5bb5ed8309?s=128&d=identicon&r=PG&f=1", "display_name": "Lee.J.Baxter", "link": "https://stackoverflow.com/users/3767259/lee-j-baxter"}, "reply_to_user": {"reputation": 993, "user_id": 1768107, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/084b78851642c0b515be38987ba29a6f?s=128&d=identicon&r=PG", "display_name": "Prasanth V J", "link": "https://stackoverflow.com/users/1768107/prasanth-v-j"}, "edited": false, "score": 0, "creation_date": 1444892371, "post_id": 33136348, "comment_id": 54093910, "body": "@PrasanthVJ Would I need to add Process as a known type, as it isn&#39;t involved in the serialization (being as my class inherits ISerializable, so the DataContractSerializer should use the custom serialization code that only serializes the .processID and .machineName fields)."}], "answers": [{"tags": [], "owner": {"reputation": 435, "user_id": 3767259, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/3e8d28fea5d00a85f37bee5bb5ed8309?s=128&d=identicon&r=PG&f=1", "display_name": "Lee.J.Baxter", "link": "https://stackoverflow.com/users/3767259/lee-j-baxter"}, "is_accepted": false, "score": 1, "last_activity_date": 1445465298, "creation_date": 1445465298, "answer_id": 33270111, "question_id": 33136348, "link": "https://stackoverflow.com/questions/33136348/response-from-wcf-service-throwing-communicationexception/33270111#33270111", "title": "Response from WCF service throwing CommunicationException", "body": "<p>I have managed to fix this error!...</p>\n\n<pre><code>[Serializable]\n[KnownType(typeof(RemoteProcessHandle))]\npublic sealed class RemoteLaunchServiceResult&lt;T&gt;\n{\n    // I solved the problem by adding the \"KnownType\" attribute. I thought\n    // it would have worked having it in the \"RemoteLaunchService\" class,\n    // but I was wrong!\n}\n</code></pre>\n\n<p>Thanks for your input guys!!!</p>\n"}], "owner": {"reputation": 435, "user_id": 3767259, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/3e8d28fea5d00a85f37bee5bb5ed8309?s=128&d=identicon&r=PG&f=1", "display_name": "Lee.J.Baxter", "link": "https://stackoverflow.com/users/3767259/lee-j-baxter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445465298, "creation_date": 1444860052, "question_id": 33136348, "link": "https://stackoverflow.com/questions/33136348/response-from-wcf-service-throwing-communicationexception", "title": "Response from WCF service throwing CommunicationException", "body": "<p>First, please allow me to post my problematic code!!!...</p>\n\n<pre><code>/// &lt;summary&gt;\n/// Represents the implementation of the Remote Launch Service.\n/// &lt;/summary&gt;\n[ServiceBehavior(InstanceContextMode = InstanceContextMode.Single)]\n[KnownType(typeof(RemoteProcessHandle))]\n[KnownType(typeof(RemoteLaunchServiceResult&lt;RemoteProcessHandle&gt;))]\n[KnownType(typeof(RemoteLaunchServiceResult&lt;bool&gt;))]\npublic sealed class RemoteLaunchService : IRemoteLaunchService\n{\n    /// &lt;summary&gt;\n    /// Handles the event in which a process is started by the Remote Launch Service.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"sender\"&gt;the object that raised the event.&lt;/param&gt;\n    /// &lt;param name=\"startInfo\"&gt;the &lt;see cref=\"RemoteProcessStartInfo\"/&gt; object containing information about the process that was started.&lt;/param&gt;\n    /// &lt;param name=\"handle\"&gt;the &lt;see cref=\"RemoteProcessHandle\"/&gt; for the resulting process.&lt;/param&gt;\n    public delegate void ProcessStartedEventHandler(\n        object sender, RemoteProcessStartInfo startInfo, RemoteProcessHandle handle);\n\n    /// &lt;summary&gt;\n    /// Handles the event in which an attempt to close the main window of a process is made by the Remote Launch Service.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"sender\"&gt;the object that raised the event.&lt;/param&gt;\n    /// &lt;param name=\"handle\"&gt;the &lt;see cref=\"RemoteProcessHandle\"/&gt; corresponding to the process.&lt;/param&gt;\n    /// &lt;param name=\"successful\"&gt;true if the operation was successful, otherwise false.&lt;/param&gt;\n    public delegate void ProcessMainWindowClosedEventHandler(\n        object sender, RemoteProcessHandle handle, bool successful);\n\n    /// &lt;summary&gt;\n    /// Handles the event in which a process is killed by the Remote Launch Service.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"sender\"&gt;the object that raised the event.&lt;/param&gt;\n    /// &lt;param name=\"handle\"&gt;the &lt;see cref=\"RemoteProcessHandle\"/&gt; corresponding to the process.&lt;/param&gt;\n    public delegate void ProcessKilledEventHandler(\n        object sender, RemoteProcessHandle handle);\n\n    /// &lt;summary&gt;\n    /// Handles the event in which an exception is thrown by the Remote Launch Service.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"sender\"&gt;the object that raised the event.&lt;/param&gt;\n    /// &lt;param name=\"exception\"&gt;the exception that was thrown.&lt;/param&gt;\n    public delegate void ExceptionThrownEventHandler(\n        object sender, Exception exception);\n\n    /// &lt;summary&gt;\n    /// Handles the event in which a process is started by the Remote Launch Service.\n    /// &lt;/summary&gt;\n    public event ProcessStartedEventHandler ProcessStarted;\n\n    /// &lt;summary&gt;\n    /// Handles the event in which an attempt to close the main window of a process is made by the Remote Launch Service.\n    /// &lt;/summary&gt;\n    public event ProcessMainWindowClosedEventHandler ProcessMainWindowClosed;\n\n    /// &lt;summary&gt;\n    /// Handles the event in which a process is killed by the Remote Launch Service.\n    /// &lt;/summary&gt;\n    public event ProcessKilledEventHandler ProcessKilled;\n\n    /// &lt;summary&gt;\n    /// Handles the event in which an exception is thrown by the Remote Launch Service.\n    /// &lt;/summary&gt;\n    public event ExceptionThrownEventHandler ExceptionThrown;\n\n    /// &lt;summary&gt;\n    /// Starts a remote process via the Remote Launch Service, using information within the specified &lt;see cref=\"RemoteProcessStartInfo\"/&gt;.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"startInfo\"&gt;the &lt;see cref=\"RemoteProcessStartInfo\"/&gt; object containing information about the process to start.&lt;/param&gt;\n    /// &lt;returns&gt;a &lt;see cref=\"RemoteLaunchServiceResult{RemoteProcessHandle}\"/&gt; containing a &lt;see cref=\"RemoteProcessHandle\"/&gt; for the process.&lt;/returns&gt;\n    public RemoteLaunchServiceResult&lt;RemoteProcessHandle&gt; Start(\n        RemoteProcessStartInfo startInfo)\n    {\n        try\n        {\n            // Start the process and retrieve the handle.\n            RemoteProcessHandle handle = new RemoteProcessHandle(Process.Start(startInfo.LocalProcessStartInfo));\n\n            // If there are any handlers registered to the appropriate event, raise it.\n            if (ProcessStarted != null) ProcessStarted(this, startInfo, handle);\n\n            // Return the result containing the handle.\n            return new RemoteLaunchServiceResult&lt;RemoteProcessHandle&gt;(handle, null);\n        }\n        catch (Exception exception)\n        {\n            // If an exception is thrown, raise the appropriate event (if any handlers are registered to it), and return the result containing the exception.\n            if (ExceptionThrown != null) ExceptionThrown(this, exception);\n            return new RemoteLaunchServiceResult&lt;RemoteProcessHandle&gt;(null, exception.Message);\n        }\n    }\n\n    /// &lt;summary&gt;\n    /// Attempts to close the main window of the process corresponding to the specified &lt;see cref=\"RemoteProcessHandle\"/&gt;.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"handle\"&gt;the &lt;see cref=\"RemoteProcessHandle\"/&gt; corresponding to the process.&lt;/param&gt;\n    /// &lt;returns&gt;a &lt;see cref=\"RemoteLaunchServiceResult{bool}\"/&gt; containing whether the operation was successful or not.&lt;/returns&gt;\n    public RemoteLaunchServiceResult&lt;bool&gt; CloseMainWindow(\n        RemoteProcessHandle handle)\n    {\n        try\n        {\n            // Attempt to close the main window of the process and retrieve whether this was successful.\n            bool successful = handle.LocalProcess.CloseMainWindow();\n\n            // If there are any handlers registered to the appropriate event, raise it.\n            if (ProcessMainWindowClosed != null) ProcessMainWindowClosed(this, handle, successful);\n\n            // Return the result containing whether the operation was successful or not.\n            return new RemoteLaunchServiceResult&lt;bool&gt;(successful, null);\n        }\n        catch (Exception exception)\n        {\n            // If an exception is thrown, raise the event (if any handlers are registered to it), and return the result containing the exception.\n            if (ExceptionThrown != null) ExceptionThrown(this, exception);\n            return new RemoteLaunchServiceResult&lt;bool&gt;(false, exception.Message);\n        }\n    }\n\n    /// &lt;summary&gt;\n    /// Kills the process corresponding to the specified &lt;see cref=\"RemoteProcessHandle\"/&gt;.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"handle\"&gt;the &lt;see cref=\"RemoteProcessHandle\"/&gt; corresponding to the process.&lt;/param&gt;\n    /// &lt;returns&gt;a &lt;see cref=\"RemoteLaunchServiceResult{bool}\"/&gt; containing whether an exception was thrown or not.&lt;/returns&gt;\n    public RemoteLaunchServiceResult&lt;bool&gt; Kill(\n        RemoteProcessHandle handle)\n    {\n        try\n        {\n            handle.LocalProcess.Kill();\n\n            // If there are any handlers registered to the appropriate event, raise it.\n            if (ProcessKilled != null) ProcessKilled(this, handle);\n\n            // Return the result indicating that no exception was thrown.\n            return new RemoteLaunchServiceResult&lt;bool&gt;(true, null);\n        }\n        catch (Exception exception)\n        {\n            // If an exception is thrown, raise the event (if any handlers are registered to it), and return the result containing the exception.\n            if (ExceptionThrown != null) ExceptionThrown(this, exception);\n            return new RemoteLaunchServiceResult&lt;bool&gt;(false, exception.Message);\n        }\n    }\n\n    /// &lt;summary&gt;\n    /// The default port number used by the Remote Launch Service.\n    /// &lt;/summary&gt;\n    public const int DefaultPort = 2185;\n\n    /// &lt;summary&gt;\n    /// Gets the address of the Remote Launch Service running on the specified machine, using the specified port number.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"machineName\"&gt;the name of the machine.&lt;/param&gt;\n    /// &lt;param name=\"port\"&gt;the port number.&lt;/param&gt;\n    /// &lt;returns&gt;a &lt;see cref=\"string\"/&gt; containing the address.&lt;/returns&gt;\n    public static string GetAddress(\n        string machineName, int port)\n    {\n        // The machine name and port number must be valid.\n        if (machineName == null) throw new ArgumentNullException(nameof(machineName));\n        if ((port &lt; IPEndPoint.MinPort) || (port &gt; IPEndPoint.MaxPort)) throw new ArgumentOutOfRangeException(nameof(port));\n\n        // Derive and return the address.\n        return string.Format(@\"net.tcp://{0}:{1}/RemoteLaunchService\", machineName, port);\n    }\n\n    /// &lt;summary&gt;\n    /// Gets the address of the Remote Launch Service running on this machine, using the specified port number.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"port\"&gt;the port number.&lt;/param&gt;\n    /// &lt;returns&gt;a &lt;see cref=\"string\"/&gt; containing the address.&lt;/returns&gt;\n    public static string GetAddress(\n        int port)\n    {\n        return GetAddress(Dns.GetHostName(), port);\n    }\n}\n</code></pre>\n\n<p>I'm accessing the service via the <code>ChannelFactory</code> class, and all goes well until I hit the return statement in my <code>Start()</code> method...</p>\n\n<pre><code>    /// &lt;summary&gt;\n    /// Starts a remote process via the Remote Launch Service, using information within the specified &lt;see cref=\"RemoteProcessStartInfo\"/&gt;.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"startInfo\"&gt;the &lt;see cref=\"RemoteProcessStartInfo\"/&gt; object containing information about the process to start.&lt;/param&gt;\n    /// &lt;returns&gt;a &lt;see cref=\"RemoteLaunchServiceResult{RemoteProcessHandle}\"/&gt; containing a &lt;see cref=\"RemoteProcessHandle\"/&gt; for the process.&lt;/returns&gt;\n    public RemoteLaunchServiceResult&lt;RemoteProcessHandle&gt; Start(\n        RemoteProcessStartInfo startInfo)\n    {\n        try\n        {\n            // Start the process and retrieve the handle.\n            RemoteProcessHandle handle = new RemoteProcessHandle(Process.Start(startInfo.LocalProcessStartInfo));\n\n            // If there are any handlers registered to the appropriate event, raise it.\n            if (ProcessStarted != null) ProcessStarted(this, startInfo, handle);\n\n            // Return the result containing the handle.\n            return new RemoteLaunchServiceResult&lt;RemoteProcessHandle&gt;(handle, null);\n        }\n        catch (Exception exception)\n        {\n            // If an exception is thrown, raise the appropriate event (if any handlers are registered to it), and return the result containing the exception.\n            if (ExceptionThrown != null) ExceptionThrown(this, exception);\n            return new RemoteLaunchServiceResult&lt;RemoteProcessHandle&gt;(null, exception.Message);\n        }\n    }\n</code></pre>\n\n<p>The code correctly executes the process as required without entering the catch block, but a <code>CommunicationException</code> is thrown as soon as I return the <code>RemoteLaunchServiceResult</code>. Interestingly, if I change...</p>\n\n<pre><code>            return new RemoteLaunchServiceResult&lt;RemoteProcessHandle&gt;(handle, null);\n</code></pre>\n\n<p>...to...</p>\n\n<pre><code>            return new RemoteLaunchServiceResult&lt;RemoteProcessHandle&gt;(null, null);\n</code></pre>\n\n<p>...no exception is thrown, making me think it may be a problem with the <code>RemoteProcessHandle</code> class. Here is a listing of this class...</p>\n\n<pre><code>/// &lt;summary&gt;\n/// Represents the information required to access a remote process after it has been started by the Remote Launch Service.\n/// &lt;/summary&gt;\n[Serializable]\npublic sealed class RemoteProcessHandle : ISerializable\n{\n    /// &lt;summary&gt;\n    /// Initializes a new instance of the &lt;see cref=\"RemoteProcessHandle\"/&gt; class.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"process\"&gt;the &lt;see cref=\"Process\"/&gt; object to derive the handle from.&lt;/param&gt;\n    public RemoteProcessHandle(\n        Process process)\n    {\n        if (process == null) return;\n\n        try { this.processID = process.Id; } catch { }\n        try { this.machineName = process.MachineName; } catch { }\n    }\n\n    /// &lt;summary&gt;\n    /// Initializes a new instance of the &lt;see cref=\"RemoteProcessHandle\"/&gt; class from data contained within a &lt;see cref=\"SerializationInfo\"/&gt; object.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"info\"&gt;the &lt;see cref=\"SerializationInfo\"/&gt; containing the information required to deserialize this &lt;see cref=\"RemoteProcessHandle\"/&gt;.&lt;/param&gt;\n    /// &lt;param name=\"context\"&gt;the &lt;see cref=\"StreamingContext\"/&gt; containing the source of the serialized stream associated with this &lt;see cref=\"RemoteProcessHandle\"/&gt;.&lt;/param&gt;\n    public RemoteProcessHandle(\n        SerializationInfo info, StreamingContext context) : this(null)\n    {\n        try { this.processID = (int?)info.GetValue(nameof(this.processID), typeof(int?)); } catch { }\n        try { this.machineName = (string)info.GetValue(nameof(this.machineName), typeof(string)); } catch { }\n    }\n\n    // Instance variables.\n    private int? processID = null;\n    private string machineName = null;\n\n    /// &lt;summary&gt;\n    /// Gets the ID of the process that this &lt;see cref=\"RemoteProcessHandle\"/&gt; represents.\n    /// &lt;/summary&gt;\n    public int? ProcessID\n    {\n        get { return this.processID; }\n    }\n\n    /// &lt;summary&gt;\n    /// Gets the name of the machine running the process that this &lt;see cref=\"RemoteProcessHandle\"/&gt; represents.\n    /// &lt;/summary&gt;\n    public string MachineName\n    {\n        get { return this.machineName; }\n    }\n\n    /// &lt;summary&gt;\n    /// Gets the local &lt;see cref=\"Process\"/&gt; corresponding to this &lt;see cref=\"RemoteProcessHandle\"/&gt;.\n    /// &lt;/summary&gt;\n    public Process LocalProcess\n    {\n        get\n        {\n            // The machine name within this information has got to match this machine, and the process ID mustn't be null.\n            if (!Dns.GetHostName().Equals(this.MachineName, StringComparison.OrdinalIgnoreCase)) throw new InvalidOperationException();\n            if (this.ProcessID == null) throw new InvalidOperationException();\n\n            // Get and return the process.\n            return Process.GetProcessById(this.ProcessID.Value);\n        }\n    }\n\n\n    /// &lt;summary&gt;\n    /// Gets the address of the Remote Launch Service, using the specified port number, running the process that this &lt;see cref=\"RemoteProcessHandle\"/&gt; represents.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"port\"&gt;the port number.&lt;/param&gt;\n    /// &lt;returns&gt;a &lt;see cref=\"string\"/&gt; containing the address.&lt;/returns&gt;\n    public string GetRemoteLaunchServiceAddress(\n        int port)\n    {\n        return RemoteLaunchService.GetAddress(this.MachineName, port);\n    }\n\n    /// &lt;summary&gt;\n    /// Populates a &lt;see cref=\"SerializationInfo\"/&gt; object with data required to serialize this &lt;see cref=\"RemoteProcessHandle\"/&gt;.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"info\"&gt;the &lt;see cref=\"SerializationInfo\"/&gt; to contain the information required to serialize this &lt;see cref=\"RemoteProcessHandle\"/&gt;.&lt;/param&gt;\n    /// &lt;param name=\"context\"&gt;the &lt;see cref=\"StreamingContext\"/&gt; containing the destination of the serialized stream associated with this &lt;see cref=\"RemoteProcessHandle\"/&gt;.&lt;/param&gt;\n    public void GetObjectData(\n        SerializationInfo info, StreamingContext context)\n    {\n        info.AddValue(nameof(this.processID), this.processID, typeof(int?));\n        info.AddValue(nameof(this.machineName), this.machineName, typeof(string));\n    }\n}\n</code></pre>\n\n<p>Please could anybody offer any suggestions as to what could be causing this exception to be thrown?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "vb.net"], "comments": [{"owner": {"reputation": 1555, "user_id": 2240490, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cqVzf.jpg?s=128&g=1", "display_name": "Ron Deijkers", "link": "https://stackoverflow.com/users/2240490/ron-deijkers"}, "edited": false, "score": 0, "creation_date": 1444860271, "post_id": 33136255, "comment_id": 54084332, "body": "Maybe you need to add As ActionResult to the second method?"}, {"owner": {"reputation": 1379, "user_id": 3684883, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/552b4fadc5bcb49c407cf8810775aff5?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/3684883/alan"}, "reply_to_user": {"reputation": 1555, "user_id": 2240490, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cqVzf.jpg?s=128&g=1", "display_name": "Ron Deijkers", "link": "https://stackoverflow.com/users/2240490/ron-deijkers"}, "edited": false, "score": 0, "creation_date": 1444873764, "post_id": 33136255, "comment_id": 54088174, "body": "I believe you may be giving me the answer, but 1st I think I may have miscommunicated; I don&#39;t have a problem with how things are working.  I don&#39;t actually want the &#39;RedirectToAction&#39; to actually function on the second method, I just didn&#39;t understand why it wasn&#39;t.  But I believe you&#39;re pointing out that in the second method, it&#39;s not an &#39;ActionResult&#39; function, so RedirectToAction doesn&#39;t work.  Is that your point?"}, {"owner": {"reputation": 1555, "user_id": 2240490, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cqVzf.jpg?s=128&g=1", "display_name": "Ron Deijkers", "link": "https://stackoverflow.com/users/2240490/ron-deijkers"}, "edited": false, "score": 0, "creation_date": 1444934432, "post_id": 33136255, "comment_id": 54121013, "body": "Well the RedirectToAction is not a method that will switch to another action. It is a return value that results in a http redirect code being sent to the client."}], "answers": [{"comments": [{"owner": {"reputation": 1379, "user_id": 3684883, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/552b4fadc5bcb49c407cf8810775aff5?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/3684883/alan"}, "edited": false, "score": 0, "creation_date": 1444874040, "post_id": 33137040, "comment_id": 54088241, "body": "I believe your comment in the 2nd paragraph is the explanation I seek.  You&#39;re right, I expected a &#39;redirect&#39; type of action, but you have explained that&#39;s not the case.  Also see my comment above back to Ron.  I don&#39;t really need the fix you propose because I don&#39;t need anything back; the method has updated the database and that&#39;s all I needed.  Thx!"}], "tags": [], "owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "is_accepted": true, "score": 1, "last_activity_date": 1444863266, "creation_date": 1444863266, "answer_id": 33137040, "question_id": 33136255, "link": "https://stackoverflow.com/questions/33136255/why-does-my-call-to-an-mvs-post-function-skip-the-redirecttoaction/33137040#33137040", "title": "Why does my call to an MVS POST function skip the RedirectToAction?", "body": "<p>The thing is <code>RedirectToAction</code> does not actually redirect anywhere, it just constructs result (which you promptly ignore on return from the function).</p>\n\n<p>I suspect you expect <code>RedirectToAction</code> to work similarly to <code>Request.Redirect(...)</code> which redirect and terminates processing of the request, which not the case in ASP.Net MVC - all <code>RedirectXXX</code> helpers just return <code>RedirectResult</code> that still need to be returned from action to be rendered later as actual redirect.</p>\n\n<p>Fix - return result of <code>MethodDifferentName</code> from your new action.</p>\n\n<p>On why <code>MethodDifferentName</code> does something: unless you use request level properties of the controller in the method you can call instantiate and call such method of any controller. Note that you may be better off making such method <code>static</code> (C#) to clarify that it does not depend on controller's properties.</p>\n"}], "owner": {"reputation": 1379, "user_id": 3684883, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/552b4fadc5bcb49c407cf8810775aff5?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/3684883/alan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 33137040, "answer_count": 1, "score": 0, "last_activity_date": 1444863266, "creation_date": 1444859655, "last_edit_date": 1444859772, "question_id": 33136255, "link": "https://stackoverflow.com/questions/33136255/why-does-my-call-to-an-mvs-post-function-skip-the-redirecttoaction", "title": "Why does my call to an MVS POST function skip the RedirectToAction?", "body": "<p>MVC5</p>\n\n<p>The actual issue here is that my code is working and I don't understand why, which suggests to me I might be using a bad practice. So I wanted to ask for input on this.  This is the code I had already created for my app:</p>\n\n<pre><code>Function Method() As ActionResult\n  Dim viewModel As New aViewModel\n // Code that sets up the View for a POST\u2026\n  Return View(viewModel)\nEnd Function\n\n&lt;HttpPost()&gt;, &lt;ActionNAme(\"Method\")\n&lt;ValidateAntiForgeryToken()&gt;\nFunction MethodDifferentName(&lt;Bind(\u2026)&gt; ByVal parameter As Type1)\n // Code that confirms the POST is valid and saves data \u2026\n  Return RedirectToAction(\"&lt;some action after the POST&gt;\", \"&lt;some controller&gt;\")\nEnd Function\n</code></pre>\n\n<p>(Note: When I originally coded Method, the parameter list was identical to the POST method, so I had to rename the POST method.  I don't really need that anymore, but I've included exactly what is working right now so people are responding to the code as it is)</p>\n\n<p>When I created a seed method, it turned out the MethodDifferentName(...) did exactly what I wanted done to seed the database.  So instead of duplicating the code which I thought is bad practice, I simply called the existing function as follows:</p>\n\n<pre><code>Dim instance As New ControllerWithTheMethod\n.\n.\ninstance.MethodDifferentName(ParameterOfType1)\n</code></pre>\n\n<p>And it works, but I don't know why.  I coded this a couple of months ago and don't remember thinking twice about doing it.  But when I was stepping through the seed code I noticed as execution stepped through MethodDifferentName, it skipped the RedirectToAction().  That caught my attention.</p>\n\n<p>I don't understand why it skips the RedirectToAction().  Can anyone explain?</p>\n"}, {"tags": ["c#"], "answers": [{"tags": [], "owner": {"reputation": 547, "user_id": 1192506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kh7du.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1192506/steve"}, "is_accepted": false, "score": 0, "last_activity_date": 1444859830, "creation_date": 1444859830, "answer_id": 33136300, "question_id": 33136186, "link": "https://stackoverflow.com/questions/33136186/asite-i-can-view-that-uses-html-css-and-c-coding/33136300#33136300", "title": "Asite I can view that uses HTML/CSS and C# coding", "body": "<p>Try the ASP.Net MVC framework.</p>\n\n<p><a href=\"http://www.w3schools.com/aspnet/mvc_intro.asp\" rel=\"nofollow\">http://www.w3schools.com/aspnet/mvc_intro.asp</a> is a good tutorial to get you started with using it.  It is slightly outdated, but still gives a good intro to how it integrates with HTML.</p>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 4112437, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/574597339/picture?type=large", "display_name": "Linda Mitchell", "link": "https://stackoverflow.com/users/4112437/linda-mitchell"}, "edited": false, "score": 0, "creation_date": 1444861643, "post_id": 33136478, "comment_id": 54084867, "body": "Thanks can you suggest a site that has been created using the MVC so I can look at how it was all makeup and fits together to get my head around it.  All the sites I have found use HTML CSS and JS not C# MVC"}, {"owner": {"reputation": 547, "user_id": 1192506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kh7du.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1192506/steve"}, "reply_to_user": {"reputation": 19, "user_id": 4112437, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/574597339/picture?type=large", "display_name": "Linda Mitchell", "link": "https://stackoverflow.com/users/4112437/linda-mitchell"}, "edited": false, "score": 0, "creation_date": 1444927539, "post_id": 33136478, "comment_id": 54117472, "body": "@LindaMitchell You will not be able to tell by looking at a site if it uses C# MVC.  All of the c# logic is used server side to render the page before sending it to the browser. For example, <a href=\"http://aresteamstore.com\" rel=\"nofollow noreferrer\">aresteamstore.com</a> uses C# MVC"}], "tags": [], "owner": {"reputation": 43527, "user_id": 98094, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/VkdLW.jpg?s=128&g=1", "display_name": "Icemanind", "link": "https://stackoverflow.com/users/98094/icemanind"}, "is_accepted": false, "score": 2, "last_activity_date": 1444861268, "last_edit_date": 1444861268, "creation_date": 1444860627, "answer_id": 33136478, "question_id": 33136186, "link": "https://stackoverflow.com/questions/33136186/asite-i-can-view-that-uses-html-css-and-c-coding/33136478#33136478", "title": "Asite I can view that uses HTML/CSS and C# coding", "body": "<p>Creating web applications with C# comes in 2 flavors. Web forms applications and MVC applications. Web forms is the oldest and was the first. It works based on events. You would design a form or a \"page\", drag controls onto the page (such as a text box or a button), then wire them up to do something based on some event. For example, if you had a button on your application, you would respond to the <code>Click</code> event. The events were server side and would cause a post back. After the post back, your event, such as <code>Click</code> would be executed. This code was in C#.</p>\n\n<p>Because this event based program was cludgy and ugly and didn't really \"flow\" correctly with how web applications work, MVC came along. MVC (Model-View-Controller) works differently. When someone in their browser put in your URL (<a href=\"http://www.example.com\" rel=\"nofollow\">http://www.example.com</a>), IIS would execute your controller that handles the page they are requesting. Your controller would optionally load data from a database, put it into a model, then pass the model to your view. The view is your UI and it receives data from the model and does \"something\". Any new web application you make these days will almost always be an MVC application.</p>\n\n<p>I hope this helps!</p>\n"}], "owner": {"reputation": 19, "user_id": 4112437, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/574597339/picture?type=large", "display_name": "Linda Mitchell", "link": "https://stackoverflow.com/users/4112437/linda-mitchell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1444861268, "creation_date": 1444859395, "question_id": 33136186, "link": "https://stackoverflow.com/questions/33136186/asite-i-can-view-that-uses-html-css-and-c-coding", "title": "Asite I can view that uses HTML/CSS and C# coding", "body": "<p>Hi I am just learning about C# can anyone recommend a site I can look at and look at the development side of the site to show me just how the C# language is applied to the site.  Eg. is it just added to the HTML like JS or how is it worked into the coding.  I just can't get my head around how it comes together with HTML, CSS and C#.\nThanks Linda</p>\n"}, {"tags": ["c#", "random"], "comments": [{"owner": {"reputation": 12155, "user_id": 35142, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b935a7d95c904243e5bc325587927fe9?s=128&d=identicon&r=PG", "display_name": "Bob Kaufman", "link": "https://stackoverflow.com/users/35142/bob-kaufman"}, "edited": false, "score": 0, "creation_date": 1444859317, "post_id": 33136163, "comment_id": 54083914, "body": "Make <code>randomNumber</code> and <code>randomNumber2</code> class level variables"}, {"owner": {"reputation": 8323, "user_id": 2316200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83dc15723047a4717a5c77b3c55bb112?s=128&d=identicon&r=PG", "display_name": "Pierre-Luc Pineault", "link": "https://stackoverflow.com/users/2316200/pierre-luc-pineault"}, "edited": false, "score": 0, "creation_date": 1444859432, "post_id": 33136163, "comment_id": 54083965, "body": "Change their scope to a more general one or pass them as parameters."}, {"owner": {"reputation": 1339, "user_id": 3770004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x3XVp.jpg?s=128&g=1", "display_name": "Daniel Brose", "link": "https://stackoverflow.com/users/3770004/daniel-brose"}, "edited": false, "score": 0, "creation_date": 1444869320, "post_id": 33136163, "comment_id": 54087199, "body": "Read a programming tutorial or see almost any working applications code (however simple). Closure is very much programming 101, not an issue you researched, trialled, looked again for duplicate issues and still unable to fix - but that is <b>exactly</b> what you need to do <b>before</b> you ask here, see <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}], "answers": [{"comments": [{"owner": {"reputation": 100, "user_id": 4396254, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b95f43cf9d91f6a68e5d39f9281c836b?s=128&d=identicon&r=PG&f=1", "display_name": "HurpaDerpa", "link": "https://stackoverflow.com/users/4396254/hurpaderpa"}, "edited": false, "score": 0, "creation_date": 1444897293, "post_id": 33136332, "comment_id": 54096669, "body": "Thanks, I did learn how int works now in methods and outside :)"}], "tags": [], "owner": {"reputation": 1510, "user_id": 2651069, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/50aUR.jpg?s=128&g=1", "display_name": "Tao G&#243;mez Gil", "link": "https://stackoverflow.com/users/2651069/tao-g%c3%b3mez-gil"}, "is_accepted": true, "score": 0, "last_activity_date": 1444859970, "creation_date": 1444859970, "answer_id": 33136332, "question_id": 33136163, "link": "https://stackoverflow.com/questions/33136163/c-how-to-get-variables-from-a-different-method/33136332#33136332", "title": "C# - How to get variables from a different method?", "body": "<p>You can make them instance variables of the class containing the two methods. This way, they are accessible to all the methods of the class, and it's value is preserved between the calls to those methods.</p>\n\n<pre><code>class ContainingClass\n{\n    int randomNumber;\n    int randomNumber2;\n\n    public void generateNumbers()\n    {\n        Random rand = new Random();\n        randomNumber = rand.Next(1, 11);\n        randomNumber2 = rand.Next(1, 11);\n        Console.WriteLine(\"Number1: \" + randomNumber);\n        Console.WriteLine(\"Number2: \" + randomNumber2);\n    }\n\n    public int findSum()\n    {\n        return randomNumber + randomNumber2; //gets sum from the method generateNumbers()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40308, "user_id": 7122, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/31fdbe39c7657652fb5f34cdef2c78c9?s=128&d=identicon&r=PG", "display_name": "David Arno", "link": "https://stackoverflow.com/users/7122/david-arno"}, "is_accepted": false, "score": 0, "last_activity_date": 1444861599, "creation_date": 1444861599, "answer_id": 33136682, "question_id": 33136163, "link": "https://stackoverflow.com/questions/33136163/c-how-to-get-variables-from-a-different-method/33136682#33136682", "title": "C# - How to get variables from a different method?", "body": "<p>You could use a <code>Tuple</code> to pass the two values between the methods, as the following (C~ 6) code shows:</p>\n\n<pre><code>public Tuple&lt;int, int&gt; GenerateNumbers()\n{\n    var rand = new Random();\n    return Tuple.Create(rand.Next(1, 11), rand.Next(1, 11));\n}\n\npublic int FindSum(Tuple&lt;int, int&gt; numbers) =&gt; numbers.Item1 + numbers.Item2;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56375, "user_id": 184773, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fbc1a22f3d58c94ae770029f1019d420?s=128&d=identicon&r=PG", "display_name": "Luke101", "link": "https://stackoverflow.com/users/184773/luke101"}, "is_accepted": false, "score": 0, "last_activity_date": 1444864514, "creation_date": 1444864514, "answer_id": 33137244, "question_id": 33136163, "link": "https://stackoverflow.com/questions/33136163/c-how-to-get-variables-from-a-different-method/33137244#33137244", "title": "C# - How to get variables from a different method?", "body": "<p>Try this:</p>\n\n<pre><code>namespace ConsoleApplication4\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Processor proc = new Processor();\n            proc.generateNumbers();\n        }\n    }\n}\n</code></pre>\n\n<p>Here is the processor class\nusing System;</p>\n\n<pre><code>namespace ConsoleApplication4\n{\n    public class Processor\n    {\n        public void generateNumbers()\n        {\n            Random rand = new Random();\n            AddModel addModel = findSum(rand);\n            Console.WriteLine(\"Number1: \" + addModel.Left);\n            Console.WriteLine(\"Number2: \" + addModel.Right);\n            Console.WriteLine(\"Sum: \" + addModel.Sum);\n        }\n\n        private AddModel findSum(Random rand)\n        {\n            AddModel addModel = new AddModel();\n            addModel.Left = rand.Next(1, 11);\n            addModel.Right = rand.Next(1, 11);\n            addModel.Sum = addModel.Left + addModel.Right;\n            return addModel;\n        }\n    }\n}\n</code></pre>\n\n<p>Here is the add model class</p>\n\n<pre><code>namespace ConsoleApplication4\n{\n    public class AddModel\n    {\n        public int Left { get; set; }\n        public int Right { get; set; }\n        public int Sum { get; set; }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 100, "user_id": 4396254, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b95f43cf9d91f6a68e5d39f9281c836b?s=128&d=identicon&r=PG&f=1", "display_name": "HurpaDerpa", "link": "https://stackoverflow.com/users/4396254/hurpaderpa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 33136332, "answer_count": 3, "score": -5, "last_activity_date": 1444864514, "creation_date": 1444859259, "question_id": 33136163, "link": "https://stackoverflow.com/questions/33136163/c-how-to-get-variables-from-a-different-method", "title": "C# - How to get variables from a different method?", "body": "<p>I need too make an addition of 2 random numbers, stored in an int variable and in a different method. What is the easiest and simplest way to do it please?</p>\n\n<p>Thanks!</p>\n\n<pre><code>public void generateNumbers()\n        {\n            Random rand = new Random();\n            int randomNumber = rand.Next(1, 11);\n            int randomNumber2 = rand.Next(1, 11);\n            Console.WriteLine(\"Number1: \" + randomNumber);\n            Console.WriteLine(\"Number2: \" + randomNumber2);\n        }\n\n        public int findSum()\n        {\n            //sum = randomNumber + randomNumber2 //gets sum from the method generateNumbers()\n            return sum;\n        }\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "smo"], "comments": [{"owner": {"reputation": 853, "user_id": 182468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4e17639e4def3b8a5ec868206a32fd?s=128&d=identicon&r=PG", "display_name": "Kevin Shea", "link": "https://stackoverflow.com/users/182468/kevin-shea"}, "edited": false, "score": 0, "creation_date": 1462276182, "post_id": 33136052, "comment_id": 61559171, "body": "Not pretty, but I&#39;d probably just use a regular expression to remove the names as I find the SMO options a total pain. Replacing &quot;\\&#40;.*\\&#41;\\s+VALUES&quot; with &quot;VALUES&quot; would work for example."}, {"owner": {"reputation": 123, "user_id": 3394623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc8e904d0509a72057db3b05e91dbd4?s=128&d=identicon&r=PG", "display_name": "MihaiP.", "link": "https://stackoverflow.com/users/3394623/mihaip"}, "reply_to_user": {"reputation": 853, "user_id": 182468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4e17639e4def3b8a5ec868206a32fd?s=128&d=identicon&r=PG", "display_name": "Kevin Shea", "link": "https://stackoverflow.com/users/182468/kevin-shea"}, "edited": false, "score": 0, "creation_date": 1462623942, "post_id": 33136052, "comment_id": 61720940, "body": "And the values Kev? And you are right, it is not pretty and I don&#39;t consider regex as programming. I had to scrap SMO entirely and use another 3rd party DB scripts generator that was much faster anyway."}, {"owner": {"reputation": 853, "user_id": 182468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4e17639e4def3b8a5ec868206a32fd?s=128&d=identicon&r=PG", "display_name": "Kevin Shea", "link": "https://stackoverflow.com/users/182468/kevin-shea"}, "edited": false, "score": 0, "creation_date": 1462785329, "post_id": 33136052, "comment_id": 61765245, "body": "I actually misunderstood your question and thought you were looking to remove all the column names and just have the values listed in which case the regex I supplied doesn&#39;t do that."}], "owner": {"reputation": 123, "user_id": 3394623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc8e904d0509a72057db3b05e91dbd4?s=128&d=identicon&r=PG", "display_name": "MihaiP.", "link": "https://stackoverflow.com/users/3394623/mihaip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 417, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1444858789, "creation_date": 1444858789, "question_id": 33136052, "link": "https://stackoverflow.com/questions/33136052/smo-exclude-columns-from-generated-insert-scripts", "title": "SMO exclude columns from generated INSERT scripts", "body": "<p>I've been using code like this to script DATA from tables in a SQLServer Database:</p>\n\n<pre><code>using Microsoft.SqlServer.Management.Smo;\n\nScripter scripter = new Scripter();\nscripter.Server = server;\nscripter.Options.ScriptData = true;\nscripter.Options.ScriptSchema = false;\nscripter.Options.ToFileOnly = true;\n\nforeach (Table table in tablesList)\n{\n      scripter.Options.FileName = \"filename for table\"; \n      scripter.EnumScript(new SqlSmoObject[] { table });\n}\n</code></pre>\n\n<p>This generates insert statements like: </p>\n\n<pre><code>INSERT [Table1] ([Col1], [Col2], [Col3]) VALUES (1, 1, N'Default')\n</code></pre>\n\n<p>Has anyone found a way to exclude one or more columns from being scripted in that insert statement? \nHow about a way to filter the data used to generate those inserts?</p>\n"}, {"tags": ["c#", "image", "winforms", "bitmap"], "comments": [{"owner": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "edited": false, "score": 0, "creation_date": 1444858768, "post_id": 33135978, "comment_id": 54083662, "body": "Is it possible you don&#39;t have write access to that location?"}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1444858817, "post_id": 33135978, "comment_id": 54083687, "body": "Where is the g getting declared?  Try disposing that before you save it.  Saving to the root drive isn&#39;t a good location \u2014 Windows will probably fight you with security issues."}, {"owner": {"reputation": 1032, "user_id": 672308, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43be0a24a058f07dbdbb30167e19f95d?s=128&d=identicon&r=PG", "display_name": "Brian Tacker", "link": "https://stackoverflow.com/users/672308/brian-tacker"}, "edited": false, "score": 0, "creation_date": 1444862817, "post_id": 33135978, "comment_id": 54085374, "body": "Sorry I forgot the graphic declaration, I edited my question. Im writing to the root just for testing purposes, but I do have full write access."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1444863173, "post_id": 33135978, "comment_id": 54085530, "body": "Well, you shouldn&#39;t have full write access to that since that&#39;s considered OS territory.  Try a different path anyway."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 1, "creation_date": 1444864457, "post_id": 33135978, "comment_id": 54085946, "body": "You shouldn&#39;t have that bitmap in a using block since the PictureBox is trying to use it."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1444892458, "post_id": 33135978, "comment_id": 54093948, "body": "Not the <code>Bitmap</code> but the <code>Graphic</code> object should live in the using block!!"}], "answers": [{"tags": [], "owner": {"reputation": 12518, "user_id": 3787557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8CQdx.png?s=128&g=1", "display_name": "jsanalytics", "link": "https://stackoverflow.com/users/3787557/jsanalytics"}, "is_accepted": false, "score": 2, "last_activity_date": 1444864154, "last_edit_date": 1444864154, "creation_date": 1444863400, "answer_id": 33137063, "question_id": 33135978, "link": "https://stackoverflow.com/questions/33135978/creating-drawing-lines-and-saving-bitmap-gives-generic-gdi-error/33137063#33137063", "title": "Creating, Drawing Lines and saving bitmap gives Generic GDI+ error", "body": "<p>I would draw to the <code>PictureBox</code> using the corresponding <code>Graphics</code> from the <code>Paint</code> event and then save to a bitmap:</p>\n\n<pre><code>    private void pictureBox1_Paint(object sender, PaintEventArgs e)\n    {\n        MyDrawing(e.Graphics);\n\n        Bitmap b = new Bitmap(pictureBox1.Width, pictureBox1.Height);\n        pictureBox1.DrawToBitmap(b, pictureBox1.ClientRectangle);\n        b.Save(@\"C:\\test.bmp\");\n\n    }\n    private void MyDrawing(Graphics g)\n    {\n        var lastPoint = points[0];\n\n        for (int i = 1; i &lt; points.Count; i++)\n        {\n            var p = points[i];\n            // When the user takes the pen off the device, X/Y is set to -1\n            if ((lastPoint.X &gt;= 0 || lastPoint.Y &gt;= 0) &amp;&amp; (p.X &gt;= 0 || p.Y &gt;= 0))\n                g.DrawLine(Pens.Black, lastPoint.X, lastPoint.Y, p.X, p.Y);\n            lastPoint = p;\n        }\n        g.Flush();\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/foPgf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/foPgf.png\" alt=\"enter image description here\"></a></p>\n\n<p>Saved BMP:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cvb9E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cvb9E.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 1032, "user_id": 672308, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43be0a24a058f07dbdbb30167e19f95d?s=128&d=identicon&r=PG", "display_name": "Brian Tacker", "link": "https://stackoverflow.com/users/672308/brian-tacker"}, "edited": false, "score": 0, "creation_date": 1444911620, "post_id": 33142029, "comment_id": 54106010, "body": "I assumed since I am able to create/modify files on my root that applications had write access as well, I also assumed I would get an access denied exception if that was the case. Lesson learned on that one. I also removed the using from the bitmap and added it to the Graphics declaration, thank you for the insight."}, {"owner": {"reputation": 1032, "user_id": 672308, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43be0a24a058f07dbdbb30167e19f95d?s=128&d=identicon&r=PG", "display_name": "Brian Tacker", "link": "https://stackoverflow.com/users/672308/brian-tacker"}, "edited": false, "score": 0, "creation_date": 1444911677, "post_id": 33142029, "comment_id": 54106062, "body": "Also, Im not using DrawLines because some of the points have -1 as the X/Y to indicate the pen was removed from the pad"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "reply_to_user": {"reputation": 1032, "user_id": 672308, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43be0a24a058f07dbdbb30167e19f95d?s=128&d=identicon&r=PG", "display_name": "Brian Tacker", "link": "https://stackoverflow.com/users/672308/brian-tacker"}, "edited": false, "score": 0, "creation_date": 1444911847, "post_id": 33142029, "comment_id": 54106162, "body": "As for DrawLines: with opaque or thin lines it doesn&#39;t matter much; I usually use a <code>List&lt;List&gt;Point&gt;&gt;</code> to hold several sequences of lines or curves; for most natural looks <code>DrawCurves</code> works even better.."}], "tags": [], "owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "is_accepted": true, "score": 1, "last_activity_date": 1444911929, "last_edit_date": 1444911929, "creation_date": 1444892874, "answer_id": 33142029, "question_id": 33135978, "link": "https://stackoverflow.com/questions/33135978/creating-drawing-lines-and-saving-bitmap-gives-generic-gdi-error/33142029#33142029", "title": "Creating, Drawing Lines and saving bitmap gives Generic GDI+ error", "body": "<p>Your code has two issues, one hiding the other:</p>\n\n<ul>\n<li>Your application probably doesn't have writing rights on the root of <code>C:</code>, so the <code>Save</code> fails.</li>\n<li>You also can't have a <code>PictureBox</code> display a <code>Bitmap</code> which you then destroy in the <code>using</code> block.</li>\n</ul>\n\n<p>So you should change the code to something like this:</p>\n\n<pre><code>var b = new Bitmap(width, height);\n\nusing (Graphics g = Graphics.FromImage(b))\n{\n    var lastPoint = points[0];\n    for (int i = 1; i &lt; points.Length; i++)\n    {\n        var p = points[i];\n        // When the user takes the pen off the device, X/Y is set to -1\n        if ((lastPoint.X &gt;= 0 || lastPoint.Y &gt;= 0) &amp;&amp; (p.X &gt;= 0 || p.Y &gt;= 0))\n            g.DrawLine(Pens.Black, lastPoint.X, lastPoint.Y, p.X, p.Y);\n        lastPoint = p;\n    }\n    // g.Flush(); not necessary\n    pictureBox1.Image = b;\n    b.Save(\"C:\\\\temp\\\\test.bmp\");\n}\n</code></pre>\n\n<p>You also should include a check on the <code>Length</code> of the array and consider using a <code>List&lt;Points&gt;</code> instead, also checking its <code>Count</code> and using <code>DrawLines</code>  on <code>points.ToArray()</code> for better line joins, especially with thick, semi-transparent lines!</p>\n"}], "owner": {"reputation": 1032, "user_id": 672308, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43be0a24a058f07dbdbb30167e19f95d?s=128&d=identicon&r=PG", "display_name": "Brian Tacker", "link": "https://stackoverflow.com/users/672308/brian-tacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1142, "favorite_count": 0, "accepted_answer_id": 33142029, "answer_count": 2, "score": 0, "last_activity_date": 1444911929, "creation_date": 1444858444, "last_edit_date": 1444862737, "question_id": 33135978, "link": "https://stackoverflow.com/questions/33135978/creating-drawing-lines-and-saving-bitmap-gives-generic-gdi-error", "title": "Creating, Drawing Lines and saving bitmap gives Generic GDI+ error", "body": "<p>I have a very simple method that takes a signature as a list of points and draws them as lines on a bitmap. And I want to take that bitmap and save it to a file, but when I call the Save method Im getting \"A generic error occured in GDI+\" and no Inner Exception.</p>\n\n<p>This seems like pretty straight forward code so Im not sure what the problem is.</p>\n\n<pre><code>using (var b = new Bitmap(width, height))\n{\n    var g = Graphics.FromImage(b);\n    var lastPoint = points[0];\n    for (int i = 1; i &lt; points.Length; i++)\n    {\n        var p = points[i];\n        // When the user takes the pen off the device, X/Y is set to -1\n        if ((lastPoint.X &gt;= 0 || lastPoint.Y &gt;= 0) &amp;&amp; (p.X &gt;= 0 || p.Y &gt;= 0))\n            g.DrawLine(Pens.Black, lastPoint.X, lastPoint.Y, p.X, p.Y);\n        lastPoint = p;\n    }\n    g.Flush();\n    pictureBox.Image = b;\n    b.Save(\"C:\\\\test.bmp\");\n}\n</code></pre>\n\n<p>I've tried saving with all the possible ImageFormats, put the graphics object in a using statement, and as a long shot I even tried:</p>\n\n<pre><code>using (var ms = new MemoryStream())\n{\n    b.Save(ms, ImageFormats.Bmp); // And b.Save(ms, ImageFormats.MemoryBmp);\n    Image.FromStream(ms).Save(\"C:\\\\test.bmp\");\n}\n</code></pre>\n\n<p>The strange thing is, if I remove the b.Save (or ignore the exception), the pictureBox displays the image perfectly.</p>\n\n<p>Any help would be appreciated. </p>\n"}, {"tags": ["c#", "asp.net-mvc", "database", "entity-framework", "mdf"], "comments": [{"owner": {"reputation": 501, "user_id": 5177435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zag99.jpg?s=128&g=1", "display_name": "Uber Bot", "link": "https://stackoverflow.com/users/5177435/uber-bot"}, "edited": false, "score": 1, "creation_date": 1444859936, "post_id": 33135916, "comment_id": 54084200, "body": "If you want schema and data you can let context generate model and then use SSMS to detach mdf or generate scripts from the database (in advanced dialog choosing &quot;Schema and data&quot; for an option &quot;types of data to script&quot;. Otherwise if you are only interested in schema you can use migrations. <a href=\"http://stackoverflow.com/questions/13939404/generate-full-sql-script-from-ef-5-code-first-migrations\" title=\"generate full sql script from ef 5 code first migrations\">stackoverflow.com/questions/13939404/&hellip;</a>"}, {"owner": {"reputation": 6608, "user_id": 2100227, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uzsFd.png?s=128&g=1", "display_name": "Eris", "link": "https://stackoverflow.com/users/2100227/eris"}, "edited": false, "score": 0, "creation_date": 1444860619, "post_id": 33135916, "comment_id": 54084477, "body": "Also look at SQL Server LocalDB available from SQL2012 and higher: <a href=\"https://msdn.microsoft.com/en-us/library/hh510202.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/hh510202.aspx</a>"}], "owner": {"reputation": 3273, "user_id": 1539865, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/dre6U.png?s=128&g=1", "display_name": "Tarasov", "link": "https://stackoverflow.com/users/1539865/tarasov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 450, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1444858131, "creation_date": 1444858131, "question_id": 33135916, "link": "https://stackoverflow.com/questions/33135916/can-i-create-a-database-file-without-install-a-database-in-c-entity-framework-f", "title": "Can I create a database file without install a Database in c# Entity Framework first code?", "body": "<p>hi I want to use Entity Framework for my Application. With my Application I create a Helpdesk Ticket and I want do this without install a Database on the server. for this I want to create only a file with the database data and content. </p>\n\n<p>For SQL Server Express can I use mdf files. Is it possible to create a file how mdf or something.</p>\n\n<p>The models are finish and I have a Context. </p>\n\n<p>I ask this because a workmate ask me. He find it better if the application (asp.net mvc) start and on the server would be create a database file that save in a seperade folder, that I can select by the installation. </p>\n\n<p>Have I a Change to do this? </p>\n"}, {"tags": ["c#", "multithreading", "forms", "charts", "real-time"], "comments": [{"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1444858690, "post_id": 33135886, "comment_id": 54083629, "body": "What is <code>chChannels</code>? I&#39;m afraid it&#39;s difficult to get very far with any attempt to help you unless you provide an example that can actually be compiled and tested."}], "answers": [{"comments": [{"owner": {"reputation": 1619, "user_id": 335493, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/29d47a982584e82b273381325abc1ff0?s=128&d=identicon&r=PG", "display_name": "nabrugir", "link": "https://stackoverflow.com/users/335493/nabrugir"}, "edited": false, "score": 0, "creation_date": 1444864469, "post_id": 33136077, "comment_id": 54085948, "body": "I changed the lock and now the charts are always updated. However, lots of values are still missed. Could it be related to the DateTime.Now? Or perhaphs the sleep as you suggested."}, {"owner": {"reputation": 48529, "user_id": 63074, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e77511a13f8c53b87610e52b4b38aa43?s=128&d=identicon&r=PG", "display_name": "Mike Dinescu", "link": "https://stackoverflow.com/users/63074/mike-dinescu"}, "reply_to_user": {"reputation": 1619, "user_id": 335493, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/29d47a982584e82b273381325abc1ff0?s=128&d=identicon&r=PG", "display_name": "nabrugir", "link": "https://stackoverflow.com/users/335493/nabrugir"}, "edited": false, "score": 0, "creation_date": 1444890689, "post_id": 33136077, "comment_id": 54093124, "body": "@nabrugir - yes, it is highly likely that it is the DateTime.Now that is causing the trouble. DateTime.Now is just not reliable at that level. You may want to use a high-precision timer (see the System.Diagnostics.StopWatch) or perhaps even re-evaluate your time-stamping strategy all-together.."}], "tags": [], "owner": {"reputation": 48529, "user_id": 63074, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e77511a13f8c53b87610e52b4b38aa43?s=128&d=identicon&r=PG", "display_name": "Mike Dinescu", "link": "https://stackoverflow.com/users/63074/mike-dinescu"}, "is_accepted": false, "score": 0, "last_activity_date": 1444858871, "creation_date": 1444858871, "answer_id": 33136077, "question_id": 33135886, "link": "https://stackoverflow.com/questions/33135886/c-drawing-multiple-charts-in-real-time-in-a-separate-thread/33136077#33136077", "title": "C# Drawing multiple charts in real time in a separate thread", "body": "<p>It's hard to say if these are your only issues but at a minimum this stands out to me:</p>\n\n<ol>\n<li><p>You are using two separate locks for the timestamps and the raw data buffers. This means that it is possible for the buffers to not represent the same series of data. You'll probably want to use a single lock to access both buffers:</p>\n\n<pre><code>lock (_bufferRawData) {\n    // Append data\n    _bufferRawData.Add(e.rawData[sampleIdx]);\n    _bufferXValues.Add(DateTime.Now);\n}\n</code></pre></li>\n</ol>\n\n<p>In fact, I would also recommend moving the locking out of the for-loop. It's super inefficient to lock on each iteration:</p>\n\n<pre><code>    lock (_bufferRawData) {\n        for (int sampleIdx = 0; sampleIdx &lt; e.rawData.Length; sampleIdx++)\n        {\n           // Append data\n           _bufferRawData.Add(e.rawData[sampleIdx]);\n           _bufferXValues.Add(DateTime.Now);\n        }\n    }\n</code></pre>\n\n<ol start=\"2\">\n<li>The other thing that you're doing that could be improved (but doesn't necessarily explain why the data is looking strange) is you are sleeping in the thread that schedules the updates. You should probably replace that with a timer that fires periodically, and does the updates. And since you are invoking the updates on the UI thread, you could probably benefit from using a UI timer.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1619, "user_id": 335493, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/29d47a982584e82b273381325abc1ff0?s=128&d=identicon&r=PG", "display_name": "nabrugir", "link": "https://stackoverflow.com/users/335493/nabrugir"}, "is_accepted": true, "score": 0, "last_activity_date": 1444926875, "creation_date": 1444926875, "answer_id": 33153895, "question_id": 33135886, "link": "https://stackoverflow.com/questions/33135886/c-drawing-multiple-charts-in-real-time-in-a-separate-thread/33153895#33153895", "title": "C# Drawing multiple charts in real time in a separate thread", "body": "<p>There were two problems in the code:</p>\n\n<p>1) Using locks in a non-efficient way. I replaced the two single locks for a common lock. I also lock it for all iterations instead of do it for every single iteration, as pointed out in one of the answers. This is how it should be</p>\n\n<pre><code> lock (_bufferRawData) {\n        for (int sampleIdx = 0; sampleIdx &lt; e.rawData.Length; sampleIdx++)\n        {\n           // Append data\n           _bufferRawData.Add(e.rawData[sampleIdx]);\n           _bufferXValues.Add(DateTime.Now);\n        }\n    }\n</code></pre>\n\n<p>2) The timestamps that I was generating didn't correspond of the timestamps when the data was collected. Hence, several Y samples have the same or similar timestamps. </p>\n\n<p>One solution is to generate the exact timestamp for every sample. That should be done when the samples are acquired. However, since the frequency rate is 256Hz, that correspond to 1 sample every 4ms. The precision of DateTime.Now is around 15ms, which makes this approach not suitable for a frequency rate of 256Hz. However, that will be a good approach for lower frequency rates.</p>\n\n<p>The correct approach is to determine the X-axis value for the graph when the data is plotted. Since the frequency is fixed at 256Hz, it is easy to know the X values of the Y samples.</p>\n"}], "owner": {"reputation": 1619, "user_id": 335493, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/29d47a982584e82b273381325abc1ff0?s=128&d=identicon&r=PG", "display_name": "nabrugir", "link": "https://stackoverflow.com/users/335493/nabrugir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1687, "favorite_count": 0, "accepted_answer_id": 33153895, "answer_count": 2, "score": 1, "last_activity_date": 1444926875, "creation_date": 1444857993, "last_edit_date": 1444864694, "question_id": 33135886, "link": "https://stackoverflow.com/questions/33135886/c-drawing-multiple-charts-in-real-time-in-a-separate-thread", "title": "C# Drawing multiple charts in real time in a separate thread", "body": "<p>I have a acquistion device that reads data and adds it to the buffer. This is done in a separate thread. Once this data is dequeued, I set up a delegate that raise the event OnDataRead().</p>\n\n<p>In my signal monitor, when the event is received I want to plot the data in multiple charts (16 in total). Since I have 16 charts, instead of updating the charts every time new data is received, I add them in a buffer for the data and the timestamps. The charts are updated in a separate thread every 100ms by reading the data stored in the buffer and the timestamps. However, when I plot the data, some charts stop adding data and in all charts, lot of values are not displayed. Is this a bad approach? What would be a better approach or what should I change to make it work?</p>\n\n<p>I have 256samples/second*16channels.</p>\n\n<p>This is what I get\n<a href=\"https://i.stack.imgur.com/XhQ0p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XhQ0p.png\" alt=\"signal monitor (16 channels)\"></a></p>\n\n<p>This is what I would expect but for all 16 channels</p>\n\n<p><a href=\"https://i.stack.imgur.com/Fb4gY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fb4gY.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code> public void OnDataRead(object source, DataEventArgs e)\n    {\n         if ((e.rawData.Length &gt; 0) &amp;&amp; (!_shouldStop))\n            {\n                for (int sampleIdx = 0; sampleIdx &lt; e.rawData.Length; sampleIdx++)\n                {\n                    lock (_bufferRawData)\n                        // Append data\n                        _bufferRawData.Add(e.rawData[sampleIdx]);\n\n                    lock (_bufferXValues)\n                        _bufferXValues.Add(DateTime.Now);\n\n                }\n    }\n\n private void AddDataThreadLoop()\n        {\n            while (!_shouldStop)\n            {\n                chChannels[1].Invoke(addDataDel);\n\n                Thread.Sleep(100); //sleeps for 100ms\n            }\n        }\n\n private void AddData()\n        {\n\n            // Copy data stored in lists to arrays\n            if (_bufferRawData.Count &gt; 0)\n            {\n                float[] rawData;\n                lock (_bufferRawData)\n                {\n                    rawData = _bufferRawData.ToArray();\n                    _bufferRawData.Clear();\n                }\n                DateTime[] xValues;\n                lock (_bufferXValues)\n                {\n                    xValues = _bufferXValues.ToArray();\n                    _bufferXValues.Clear();\n                }\n\n                // Add new data points for the selected channel chart\n                int channelIdx = 0; \n\n                for (int sampleIdx = 0; sampleIdx &lt; rawData.Length -1; sampleIdx++)\n                {\n                    // Calculate the channel where the smaple corersponds\n                    channelIdx = sampleIdx % (_numChannels + 1);\n\n                   foreach (Series ptSeries in chChannels[channelIdx].Series)\n                            // Add new datapoint to the corresponding chart (x, y, chartIndex, seriesIndex)\n                            AddNewPoint(xValues[sampleIdx], rawData[sampleIdx], channelIdx, ptSeries);\n\n                }\n            }\n        }\n\npublic void AddNewPoint(DateTime timeStamp, float yValue, int chartIDx, System.Windows.Forms.DataVisualization.Charting.Series ptSeries)\n    {\n\n        //Add datapoint\n        ptSeries.Points.AddXY(timeStamp.ToOADate(), yValue);\n\n        // Remove old datapoints if needed\n        double removeBefore = timeStamp.AddSeconds((double)(8) * (-1)).ToOADate();\n        while (ptSeries.Points[0].XValue &lt; removeBefore)\n        {\n            ptSeries.Points.RemoveAt(0);\n        }\n\n        // Modify minimum and maximum for new samples\n        chChannels[chartIDx].ChartAreas[0].AxisX.Minimum = ptSeries.Points[0].XValue;\n        chChannels[chartIDx].ChartAreas[0].AxisX.Maximum = DateTime.FromOADate(ptSeries.Points[0].XValue).AddSeconds(10).ToOADate();\n        chChannels[chartIDx].ChartAreas[0].AxisY.Maximum = _yMax;\n        chChannels[chartIDx].ChartAreas[0].AxisY.Minimum = -_yMax;\n\n        chChannels[chartIDx].Invalidate();\n    }\n\nprivate void btnPlay_Click(object sender, EventArgs e)\n{\n     //Create thread\n     //define a thread to add values into chart\n     ThreadStart addDataThreadObj = new ThreadStart(AddDataThreadLoop);\n     addDataRunner = new Thread(addDataThreadObj);\n     addDataDel += new AddDataDelegate(AddData);\n\n     //Start thread\n     addDataRunner.Start();\n    }\n</code></pre>\n\n<p><strong>EDIT1:</strong>\nchChanels is a list of charts where each element correspond to one of the charts.\n     public List chChannels;</p>\n\n<p><strong>EDIT2</strong>\nAfter changing the lock for this, all charts are updated. However lot of samples for each chart are still not updated.</p>\n\n<pre><code> lock (_bufferRawData) {\n        for (int sampleIdx = 0; sampleIdx &lt; e.rawData.Length; sampleIdx++)\n        {\n           // Append data\n           _bufferRawData.Add(e.rawData[sampleIdx]);\n           _bufferXValues.Add(DateTime.Now);\n        }\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Rzr9t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rzr9t.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc"], "comments": [{"owner": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 0, "creation_date": 1444858456, "post_id": 33135861, "comment_id": 54083523, "body": "Have <code>SFTPConnectionService</code> implement <code>IDisposable</code>."}, {"owner": {"reputation": 393, "user_id": 4566405, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1814e61203489682e61a42bad48cd6b0?s=128&d=identicon&r=PG&f=1", "display_name": "FlipperBizkut", "link": "https://stackoverflow.com/users/4566405/flipperbizkut"}, "reply_to_user": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 0, "creation_date": 1444860758, "post_id": 33135861, "comment_id": 54084526, "body": "If <code>SFTPConnectionService</code> implements <code>IDisposable</code>, how would I dispose of the connection made from within a method of the class?"}], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 4566405, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1814e61203489682e61a42bad48cd6b0?s=128&d=identicon&r=PG&f=1", "display_name": "FlipperBizkut", "link": "https://stackoverflow.com/users/4566405/flipperbizkut"}, "edited": false, "score": 0, "creation_date": 1444860990, "post_id": 33136010, "comment_id": 54084608, "body": "The <code>StreamReader</code> in the controller actually passes the stream to another method in another class.  That method parses the file line by line, extracts only what is needed, and returns that back to the controller in the form of a ViewModel.  Based on yours and Jasen&#39;s comment, it looks like implementing <code>IDisposable</code> in the <code>SFTPConnectionService</code> is a good solution, but I&#39;m unsure how to go about doing that."}, {"owner": {"reputation": 393, "user_id": 4566405, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1814e61203489682e61a42bad48cd6b0?s=128&d=identicon&r=PG&f=1", "display_name": "FlipperBizkut", "link": "https://stackoverflow.com/users/4566405/flipperbizkut"}, "edited": false, "score": 0, "creation_date": 1444873705, "post_id": 33136010, "comment_id": 54088157, "body": "You rock.  Thanks a lot!"}], "tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": true, "score": 1, "last_activity_date": 1444862342, "last_edit_date": 1444862342, "creation_date": 1444858595, "answer_id": 33136010, "question_id": 33135861, "link": "https://stackoverflow.com/questions/33135861/disposing-a-connection-that-returns-a-stream/33136010#33136010", "title": "Disposing a connection that returns a stream", "body": "<blockquote>\n  <p>I really want to stream it from the SFTP server instead of copying it all into memory</p>\n</blockquote>\n\n<p>Well it's all going to get into memory anyway when it gets added to the ViewModel.  Here's a few options:</p>\n\n<ul>\n<li>Wrap the stream in a class that implements <code>IDisposable</code> and is responsible for disposing of the stream <em>and</em> the client.</li>\n<li>Don't return a stream but rather return the data from it.  Then you can dispose of the stream and the client together.</li>\n</ul>\n\n<p>If you want to make <code>SFTPConnectionService</code> implement <code>IDisposable</code> then you would do something like this:</p>\n\n<ul>\n<li>Add class properties for the <code>SFTPConnectionService</code> and <code>StreamReader</code></li>\n<li>Add a <code>Dispose</code> method to <code>SFTPConnectionService</code> that calls <code>Dispose</code> on each of them</li>\n</ul>\n\n<p>Something like this:</p>\n\n<pre><code>public class SFTPConnectionService : IDisposable\n{\n\n    private SftpClient sftp;\n    private SftpFileStream file;\n\n    public SftpFileStream GetRemoteFile(string filename)\n    {\n        // Server credentials\n        var host = \"host\";\n        var port = 22;\n        var username = \"username\";\n        var password = \"password\";\n\n        sftp = new SftpClient(host, port, username, password);\n\n        // Connect to the SFTP server\n        sftp.Connect();\n\n        // Read the file in question\n        file = sftp.OpenRead(filename);\n\n        return file;\n    }\n\n    // Recommended implementation of IDisposable:\n    public void Dispose()\n    {\n        Dispose(true);\n\n        // Use SupressFinalize in case a subclass \n        // of this type implements a finalizer.\n        GC.SuppressFinalize(this);   \n    }\n    protected virtual void Dispose(bool disposing)\n    {\n        if (!_disposed)\n        {\n            if (disposing) \n            {\n                if(sftp != null)\n                     sftp.Dispose();\n                if(file != null)\n                     file.Dispose();\n            }\n\n            // Indicate that the instance has been disposed.\n            _disposed = true;   \n        }\n    }\n}\n</code></pre>\n\n<p>your calling code would then be</p>\n\n<pre><code>using(var sftpService = new SFTPConnectionService())\nusing(var reader = new StreamReader(sftpService.GetRemoteFile(@\"path/filename.txt\")))\n{\n        // Do whatever with the file\n\n        return View(\"View\", ViewModel);\n}\n</code></pre>\n"}], "owner": {"reputation": 393, "user_id": 4566405, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1814e61203489682e61a42bad48cd6b0?s=128&d=identicon&r=PG&f=1", "display_name": "FlipperBizkut", "link": "https://stackoverflow.com/users/4566405/flipperbizkut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1110, "favorite_count": 0, "accepted_answer_id": 33136010, "answer_count": 1, "score": 1, "last_activity_date": 1444862342, "creation_date": 1444857921, "question_id": 33135861, "link": "https://stackoverflow.com/questions/33135861/disposing-a-connection-that-returns-a-stream", "title": "Disposing a connection that returns a stream", "body": "<p>I am using <code>Renci.SshNet.Sftp</code> to make a connection to an SFTP server.  Once connected, I am returning an <code>SftpFileStream</code> of a file found on the server to an action of my controller.  The controller actually sends a reader of the <code>SftpFileStream</code> to a service method which parses the stream and does what it needs to with the information.</p>\n\n<p>Here is the question...</p>\n\n<p>When instantiating a new <code>SftpClient</code>, one should use the <code>using</code> keyword to ensure that the connection is disposed of.  However, if I do that, then the <code>SftpClient</code> gets disposed before the file can be parsed.  To fix this, I remove the <code>using</code> statement, and all is well.  But then I have no way of disposing the <code>SftpClient</code>.  So what to do?</p>\n\n<p>Here is some code...</p>\n\n<p>Connection Service:</p>\n\n<pre><code>public class SFTPConnectionService\n{\n    public SftpFileStream GetRemoteFile(string filename)\n    {\n        // Server credentials\n        var host = \"host\";\n        var port = 22;\n        var username = \"username\";\n        var password = \"password\";\n\n        var sftp = new SftpClient(host, port, username, password);\n\n        // Connect to the SFTP server\n        sftp.Connect();\n\n        // Read the file in question\n        var file = sftp.OpenRead(filename);\n\n        return file;\n    }\n}\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>public class RemoteFileController : Controller\n{\n    public ActionResult SFTP()\n    {\n        var sftpService = new SFTPConnectionService();\n\n        using (var reader = new StreamReader(sftpService.GetRemoteFile(@\"path/filename.txt\")))\n        {\n            // Do whatever with the file\n\n            return View(\"View\", ViewModel);\n        }\n    }\n}\n</code></pre>\n\n<p>So I am using a <code>using</code> block around the <code>StreamReader</code> that reads the file, so that will be disposed of, but that still leaves the <code>SftpClient</code> that needs to be disposed of.</p>\n\n<p>I had thought about copying the <code>SftpFileStream</code> to another stream, and returning that so that I could wrap the <code>SftpClient</code> in a <code>using</code> block, but that seems like a bad idea already, and I also don't know how big the file is, so I really want to stream it from the SFTP server instead of copying it all into memory.</p>\n\n<p>How do I handle this situation?</p>\n"}, {"tags": ["c#", "events"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1444857279, "post_id": 33135607, "comment_id": 54082988, "body": "Yes, its a convention, however it has distinct advantages in that the handler doesn&#39;t need to use some stored-elsewhere instance of the sender, the sender is passed in. This is useful if a single method handles multiple events and senders. Also there is an easy way to declare the event, you just use <code>public event EventHandler&lt;SomethingHappenedEventArgs&gt; SomethingHappened</code>, and that sets up the delegate signature for you."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1444858336, "post_id": 33135607, "comment_id": 54083465, "body": "It is most definitely more than a convention.  This was <i>very</i> carefully thought about.  For a very long time, well before .NET came around.  Anders Hejlsberg brought it with him.  Core ideas were to make an event handler usable for multiple events (thus sender) and significantly reduce the pain of refactoring (thus EventArgs inheritance).  Also the notion of events having info that is only valid while the event is raised and mutates later (thus e vs properties)."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 1, "creation_date": 1444858668, "post_id": 33135607, "comment_id": 54083620, "body": "It is a convention. The only advantage is that delegates are covariant so that a less derived handler can handler a more derived event. I think it is also outdated as we now have generics so using plain <code>object</code> seems like a OOP anti-pattern."}], "answers": [{"tags": [], "owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "is_accepted": true, "score": 1, "last_activity_date": 1444859584, "last_edit_date": 1444859584, "creation_date": 1444857545, "answer_id": 33135753, "question_id": 33135607, "link": "https://stackoverflow.com/questions/33135607/is-the-object-sender-eventargs-e-event-handler-signature-just-a-convention/33135753#33135753", "title": "Is the &quot;object sender, EventArgs e&quot; event handler signature just a convention?", "body": "<p><strong>It is Convention.</strong></p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/aa645739(v=vs.71).aspx\" rel=\"nofollow\">Events Tutorial (C#)</a></p>\n\n<blockquote>\n  <p>Although the C# language allows events to use any delegate type, the\n  .NET Framework has some stricter guidelines on the delegate types that\n  should be used for events.<br>\n  The .NET Framework guidelines indicate that the delegate type used for\n  an event should take two parameters, an \"object source\" parameter\n  indicating the source of the event, and an \"e\" parameter that\n  encapsulates any additional information about the event. The type of\n  the \"e\" parameter should derive from the EventArgs class. For events\n  that do not use any additional information, the .NET Framework has\n  already defined an appropriate delegate type: EventHandler.</p>\n</blockquote>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/dd833085(v=vs.95).aspx\" rel=\"nofollow\">Events, Delegates, and CLR Event System Conventions</a></p>\n\n<blockquote>\n  <p>By convention, event delegates in the .NET Framework have two\n  parameters, the source that raised the event, represented by the\n  sender parameter, and the data for the event, represented by the e\n  parameter.</p>\n</blockquote>\n\n<p><strong>It is not out-dated.</strong></p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/edzehd2t(v=vs.110).aspx\" rel=\"nofollow\">Handling and Raising Events (.NET Framework 4.6 and 4.5)</a></p>\n\n<blockquote>\n  <p>The EventArgs class is the base type for all event data classes.\n  EventArgs is also the class you use when an event does not have any\n  data associated with it. When you create an event that is only meant\n  to notify other classes that something happened and does not need to\n  pass any data, include the EventArgs class as the second parameter in\n  the delegate. You can pass the EventArgs.Empty value when no data is\n  provided. The EventHandler delegate includes the EventArgs class as a\n  parameter.</p>\n</blockquote>\n"}], "owner": {"reputation": 7649, "user_id": 60733, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/277e9f96081a36c5c034e5339249c8fc?s=128&d=identicon&r=PG", "display_name": "Deane", "link": "https://stackoverflow.com/users/60733/deane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1828, "favorite_count": 0, "accepted_answer_id": 33135753, "answer_count": 1, "score": 2, "last_activity_date": 1444859584, "creation_date": 1444856910, "question_id": 33135607, "link": "https://stackoverflow.com/questions/33135607/is-the-object-sender-eventargs-e-event-handler-signature-just-a-convention", "title": "Is the &quot;object sender, EventArgs e&quot; event handler signature just a convention?", "body": "<p>The traditional way to declaring an event is to create a custom args class by extending from EventArgs:</p>\n\n<pre><code>public class SomethingHappenedEventArgs : EventArgs \n</code></pre>\n\n<p>Then take that and a reference to the object declaring the event into the handler:</p>\n\n<pre><code>public SomethingHappenedHandler(object sender, SomethingHappenedEventArgs e)\n</code></pre>\n\n<p>But, of course, you don't <em>have</em> to do this. Your event handler delete can have any method signature you like.</p>\n\n<p>So, is the \"object, EventArgs\" signature just convention?  Is it out-dated?  Or are there clear technical advantages to it that I'm not understanding?</p>\n"}, {"tags": ["c#", "json", "wcf", "rest", "self-hosting"], "comments": [{"owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "edited": false, "score": 1, "creation_date": 1444857198, "post_id": 33135583, "comment_id": 54082953, "body": "I haven&#39;t used Json.Net library, but it should be able to stringify the list properly. What don&#39;t you give it a try and see? I use ServiceStack.Text and it does the job perfectly."}, {"owner": {"reputation": 4115, "user_id": 786528, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/9a3920ce92c89b85821f68307b85b711?s=128&d=identicon&r=PG", "display_name": "CJLopez", "link": "https://stackoverflow.com/users/786528/cjlopez"}, "reply_to_user": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "edited": false, "score": 0, "creation_date": 1444911864, "post_id": 33135583, "comment_id": 54106174, "body": "@RacilHilan wil give it a try. I posted this minutes before I was out of the office and wanted to know your opinions first thing comming into"}], "answers": [{"comments": [{"owner": {"reputation": 4115, "user_id": 786528, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/9a3920ce92c89b85821f68307b85b711?s=128&d=identicon&r=PG", "display_name": "CJLopez", "link": "https://stackoverflow.com/users/786528/cjlopez"}, "edited": false, "score": 0, "creation_date": 1444912026, "post_id": 33135681, "comment_id": 54106282, "body": "Just as you said it, they aren&#39;t that flexible and its the way they want it, but I&#39;m working with them on a way to work it out"}], "tags": [], "owner": {"reputation": 38332, "user_id": 763585, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/34f929fab16e27f59c5193f0db678125?s=128&d=identicon&r=PG", "display_name": "evanmcdonnal", "link": "https://stackoverflow.com/users/763585/evanmcdonnal"}, "is_accepted": false, "score": 1, "last_activity_date": 1444857247, "creation_date": 1444857247, "answer_id": 33135681, "question_id": 33135583, "link": "https://stackoverflow.com/questions/33135583/building-json-response/33135681#33135681", "title": "Building json response", "body": "<p>Simplest way to deal with this is to set the return type on the handling function to string, then you can check for errors and do something like;</p>\n\n<pre><code>//pseudo code to give an idea\nif (errorsList.Count() &gt; 0)\n{\n     return JsonConvert.SerializeObject(errorsList);\n}\nelse\n{\n     return JsonConvert.SerializeObject(new Response(\"ok\"));\n}\n</code></pre>\n\n<p>Now this being said... Unless the people providing requirements aren't at all flexible you should just redo the design. How about just returning the errors array and the person calling the API can infer that if it's length is 0 then everything is working OK. Seems pretty straight forward, right? You could also just put all the properties on one object and those fields would just come back as null or empty strings. Or you could change you serializer settings to exclude them if they don't have a value.</p>\n"}, {"comments": [{"owner": {"reputation": 4115, "user_id": 786528, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/9a3920ce92c89b85821f68307b85b711?s=128&d=identicon&r=PG", "display_name": "CJLopez", "link": "https://stackoverflow.com/users/786528/cjlopez"}, "edited": false, "score": 0, "creation_date": 1444911960, "post_id": 33135804, "comment_id": 54106241, "body": "yeah, I forgot about anonymous types, will give it a try!"}, {"owner": {"reputation": 4115, "user_id": 786528, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/9a3920ce92c89b85821f68307b85b711?s=128&d=identicon&r=PG", "display_name": "CJLopez", "link": "https://stackoverflow.com/users/786528/cjlopez"}, "edited": false, "score": 0, "creation_date": 1444921225, "post_id": 33135804, "comment_id": 54113304, "body": "It kinda worked, but now, I&#39;m facing that, once I return the serialized json string string, its begin serialized once again on the response of the request, ending up with <code>&quot;{\\&quot;response\\&quot;:\\&quot;OK\\&quot;}&quot;</code> adding several backslashes and and extra quotes, its serializing to json the json string, xD"}, {"owner": {"reputation": 4235, "user_id": 3167751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63gCs.jpg?s=128&g=1", "display_name": "Xavier J", "link": "https://stackoverflow.com/users/3167751/xavier-j"}, "reply_to_user": {"reputation": 4115, "user_id": 786528, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/9a3920ce92c89b85821f68307b85b711?s=128&d=identicon&r=PG", "display_name": "CJLopez", "link": "https://stackoverflow.com/users/786528/cjlopez"}, "edited": false, "score": 2, "creation_date": 1444926086, "post_id": 33135804, "comment_id": 54116615, "body": "MVC?  WebApi?  What technology are you using?"}, {"owner": {"reputation": 95848, "user_id": 298053, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4ba6db482e54ae5cbb940e6708c23859?s=128&d=identicon&r=PG", "display_name": "Brad Christie", "link": "https://stackoverflow.com/users/298053/brad-christie"}, "edited": false, "score": 1, "creation_date": 1444943642, "post_id": 33135804, "comment_id": 54126135, "body": "Anonymous types are a <i>terrific</i> way to eff up a contract and give yourself a lot of headaches later on. WebApi maybe, but avoid it in WCF."}, {"owner": {"reputation": 4235, "user_id": 3167751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63gCs.jpg?s=128&g=1", "display_name": "Xavier J", "link": "https://stackoverflow.com/users/3167751/xavier-j"}, "edited": false, "score": 1, "creation_date": 1444948122, "post_id": 33135804, "comment_id": 54128088, "body": "--You&#39;re right, Brad.  I assumed WebAPI or MVC.  WCF, no way!"}, {"owner": {"reputation": 4115, "user_id": 786528, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/9a3920ce92c89b85821f68307b85b711?s=128&d=identicon&r=PG", "display_name": "CJLopez", "link": "https://stackoverflow.com/users/786528/cjlopez"}, "reply_to_user": {"reputation": 95848, "user_id": 298053, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4ba6db482e54ae5cbb940e6708c23859?s=128&d=identicon&r=PG", "display_name": "Brad Christie", "link": "https://stackoverflow.com/users/298053/brad-christie"}, "edited": false, "score": 0, "creation_date": 1445011950, "post_id": 33135804, "comment_id": 54157397, "body": "@BradChristie I already tried MVC and Web Api, and didn&#39;t play nicely with my self hosted app, besides, they didn&#39;t work on the deployment server because they missed some libraries required to run, and, guess what.... I&#39;m not allowed to install anything on those, as they are, must have the app deployed, :("}, {"owner": {"reputation": 95848, "user_id": 298053, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4ba6db482e54ae5cbb940e6708c23859?s=128&d=identicon&r=PG", "display_name": "Brad Christie", "link": "https://stackoverflow.com/users/298053/brad-christie"}, "edited": false, "score": 0, "creation_date": 1445012966, "post_id": 33135804, "comment_id": 54157966, "body": "@CJLpoez Personally, I&#39;d have a <code>Response</code> base object, deviated with known type of the two other response types: <code>OkResponse</code> &amp; <code>BadResponse</code>. From there you can have the contact setup to use <code>Response</code>, but have the ability to return either."}, {"owner": {"reputation": 95848, "user_id": 298053, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4ba6db482e54ae5cbb940e6708c23859?s=128&d=identicon&r=PG", "display_name": "Brad Christie", "link": "https://stackoverflow.com/users/298053/brad-christie"}, "edited": false, "score": 0, "creation_date": 1445013008, "post_id": 33135804, "comment_id": 54157997, "body": "Now your contract is satisfied, you have strong types, and fulfill the requirement. And serialization will happen as expected."}], "tags": [], "owner": {"reputation": 4235, "user_id": 3167751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63gCs.jpg?s=128&g=1", "display_name": "Xavier J", "link": "https://stackoverflow.com/users/3167751/xavier-j"}, "is_accepted": false, "score": 1, "last_activity_date": 1444857683, "creation_date": 1444857683, "answer_id": 33135804, "question_id": 33135583, "link": "https://stackoverflow.com/questions/33135583/building-json-response/33135804#33135804", "title": "Building json response", "body": "<p>Keep things simple and use an anonymous type.</p>\n\n<pre><code>if (condition) \n{\n    return JsonConvert.SerializeObject(new { response = new { agent = \"x\", port = \"y\", error = \"z\" }});\n}\nelse \n{\n   return JsonConvert.SerializeObject(new { response = \"ok\"});  \n}\n</code></pre>\n\n<p>More info:</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/bb397696.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/bb397696.aspx</a></p>\n"}, {"comments": [{"owner": {"reputation": 4115, "user_id": 786528, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/9a3920ce92c89b85821f68307b85b711?s=128&d=identicon&r=PG", "display_name": "CJLopez", "link": "https://stackoverflow.com/users/786528/cjlopez"}, "edited": false, "score": 0, "creation_date": 1445011643, "post_id": 33158562, "comment_id": 54157204, "body": "This is a good solution, but the problem is, given that I&#39;m using WCF, the response, which its already a json string of the object, its parsed to jason, once again.  So, instead of getting <code>{&quot;response&quot;:&quot;ok&quot;}</code> I&#39;m getting <code>&quot;{\\&quot;response\\&quot;:\\&quot;ok\\&quot;}&quot;</code> so, using <code>JsonConvert.SerializeObject</code> its not a good option"}, {"owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "reply_to_user": {"reputation": 4115, "user_id": 786528, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/9a3920ce92c89b85821f68307b85b711?s=128&d=identicon&r=PG", "display_name": "CJLopez", "link": "https://stackoverflow.com/users/786528/cjlopez"}, "edited": false, "score": 0, "creation_date": 1445013337, "post_id": 33158562, "comment_id": 54158195, "body": "I&#39;m not sure I understand what you said. Could you post the relevant code? Where are you getting <code>&quot;{\\&quot;response\\&quot;:\\&quot;ok\\&quot;}&quot;</code>? I recommended getting rid of the <code>response</code> class. Why your <code>response</code> object is already JSON string? Where was it serialized? Then you can simply <code>return response;</code>, but I have a feeling that there are issues in other parts of your code."}, {"owner": {"reputation": 4115, "user_id": 786528, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/9a3920ce92c89b85821f68307b85b711?s=128&d=identicon&r=PG", "display_name": "CJLopez", "link": "https://stackoverflow.com/users/786528/cjlopez"}, "edited": false, "score": 0, "creation_date": 1445019347, "post_id": 33158562, "comment_id": 54161147, "body": "I&#39;m using WCF services, returning JSON messages with BARE response body. Given that the method its already returning a json string using the <code>JsonConvert.SerializeObject</code>, the service serializes, once again, the returned string of the method, to JSON, adding those backslashes to scape the quotes so, if I grab the response of the service, I do get the json string, instead of the object I need with the property <code>response</code> with it&#39;s value <code>&quot;ok&quot;</code>"}, {"owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "reply_to_user": {"reputation": 4115, "user_id": 786528, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/9a3920ce92c89b85821f68307b85b711?s=128&d=identicon&r=PG", "display_name": "CJLopez", "link": "https://stackoverflow.com/users/786528/cjlopez"}, "edited": false, "score": 1, "creation_date": 1445022950, "post_id": 33158562, "comment_id": 54163085, "body": "Yeah, that&#39;s what I thought. The design is not right. You should only be serializing the object immediately before sending them back to the client. Serialising the response and then do more processing on it is not the way to go. You either need to do the final processing in the WCF itself, or the WCF needs to return the object un-serialized to your final processing code. Well, unless your WCF is sitting on a different server or something. Anyway, I could be wrong since I don&#39;t see the code and design. Have you tried the <code>Replace()</code> function to get rid of the <code>__type</code>?"}, {"owner": {"reputation": 4115, "user_id": 786528, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/9a3920ce92c89b85821f68307b85b711?s=128&d=identicon&r=PG", "display_name": "CJLopez", "link": "https://stackoverflow.com/users/786528/cjlopez"}, "edited": false, "score": 0, "creation_date": 1445027922, "post_id": 33158562, "comment_id": 54165531, "body": "The <code>__type</code> only appears if I return the <code>response</code> object setting the <code>KnownType</code> for it to work. If I serialize using the <code>JsonConverter.SerializeObject</code> the <code>__type</code> never appears so I don&#39;t need to use the <code>replace</code>"}, {"owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "reply_to_user": {"reputation": 4115, "user_id": 786528, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/9a3920ce92c89b85821f68307b85b711?s=128&d=identicon&r=PG", "display_name": "CJLopez", "link": "https://stackoverflow.com/users/786528/cjlopez"}, "edited": false, "score": 0, "creation_date": 1445029328, "post_id": 33158562, "comment_id": 54166197, "body": "I know, but you said <b>using <code>JsonConvert.SerializeObject</code> its not a good option</b>, so I assumed that you&#39;re returning the already-serialized response object with the <code>KnownType</code>. In this case, I was suggesting that you use the <code>Replace()</code> function to get rid of the <code>__type</code> as you requested in your updated question. That should work for you because the serialized response is a string."}], "tags": [], "owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "is_accepted": false, "score": 1, "last_activity_date": 1444943251, "creation_date": 1444943251, "answer_id": 33158562, "question_id": 33135583, "link": "https://stackoverflow.com/questions/33135583/building-json-response/33158562#33158562", "title": "Building json response", "body": "<p>I personally don't think you need a <code>Response</code> class, especially that it is of <code>object</code> type. IMHO, you've overcomplicated the very simple issue that you have. It is not only the <code>__type</code>, but also other info like <code>HelperErrorResponseClass:#AppCommonLib</code> that isn't supposed to be there.</p>\n\n<p>Another Issue you have is the incorrect name of the <code>HelperErrorResponseClass</code> class. This is not a helper class. It is a standard data-object class.</p>\n\n<blockquote>\n  <p>A helper class is a class filled with static methods.  It is usually used to isolate a \"useful\" algorithm.</p>\n</blockquote>\n\n<p>This is how I would do it:</p>\n\n<ol>\n<li>I'd get rid of the <code>Response</code> class.</li>\n<li>I'd use your original simple <code>HelperErrorResponseClass</code> class, but rename it to something more meaningful like <code>ErrorDetails</code>.</li>\n<li>I'd return the response like this:</li>\n</ol>\n\n<p>.</p>\n\n<pre><code>if (errorsList.Count() &gt; 0) {\n    return JsonConvert.SerializeObject(new { response = errorsList});\n}\nelse {\n   return JsonConvert.SerializeObject(new { response = \"ok\"});\n}\n</code></pre>\n\n<p>However, if you really want to stick to your updated solution, an easy way to get rid of the <code>__type</code> is simply removing it from the final serialized string:</p>\n\n<pre><code>if (errorsList.Count() &gt; 0) {\n    string r = JsonConvert.SerializeObject(new { response = errorsList});\n    return r.Replace(\"__type\", \"\");\n}\nelse {\n   return JsonConvert.SerializeObject(new { response = \"ok\"});\n}\n</code></pre>\n"}], "owner": {"reputation": 4115, "user_id": 786528, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/9a3920ce92c89b85821f68307b85b711?s=128&d=identicon&r=PG", "display_name": "CJLopez", "link": "https://stackoverflow.com/users/786528/cjlopez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 672, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1444943251, "creation_date": 1444856811, "last_edit_date": 1444926132, "question_id": 33135583, "link": "https://stackoverflow.com/questions/33135583/building-json-response", "title": "Building json response", "body": "<p>I'm working on a self hosting rest api used to monitor de status of several servers.</p>\n\n<p>I was tasked that, when everything is working correctly, I should only return</p>\n\n<pre><code>{\"response\":\"ok\"}\n</code></pre>\n\n<p>But, when there's an error on queried server, or servers, I must return</p>\n\n<pre><code>{  \"response\" :  [ {\"agent\":\"&lt;server&gt;:&lt;port&gt;\",\"port\":\"&lt;port&gt;\" ,\"Error\":\"&lt;Description of the error&gt;\"} ]  }\n</code></pre>\n\n<p>I was thinking on building a helper class to build object on this schema and returning them over the rest api</p>\n\n<pre><code>public class HelperErrorResponseClass\n{\n    public string agent { get; set; }\n    public string port { get; set; }\n    public string Error { get; set; }\n}\n</code></pre>\n\n<p>This is no problem, the issue is, how to deal when everything it ok. I have this Api response helper class</p>\n\n<pre><code>public class Response\n{\n    public string response { get; set; }\n}\n</code></pre>\n\n<p>But I'm seeing that I'll need to change the response property to <code>List&lt;HelperErrorResponseClass&gt;</code> in order to send the error response. Do you think that, if I stringify the <code>List&lt;HelperErrorResponseClass&gt;</code> object with Json.Net it will be returned in the desired format?</p>\n\n<p>Edit: Forgot to add that, I-m using Web Api to build the rest service.</p>\n\n<p><strong>UDPATE</strong>:</p>\n\n<p>After further research, I found a way to work this out.</p>\n\n<p>Following <a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/69146910-241e-4a15-964c-e7f032884b4b/service-returning-object-fails-when-object-is-complex-class?forum=wcf\" rel=\"nofollow\">this post</a>, I was able to rewrite the helper classes like this</p>\n\n<pre><code>[DataContract]\n[KnownType(typeof(List&lt;HelperErrorResponseClass&gt;))]\npublic class Response\n{\n    [DataMember]\n    public object response { get; set; }\n}\n\n[DataContract]\npublic class HelperErrorResponseClass\n{\n    [DataMember(EmitDefaultValue = false)]\n    public string agent { get; set; }\n    [DataMember(EmitDefaultValue = false)]\n    public string port { get; set; }\n    [DataMember(EmitDefaultValue = false)]\n    public string error { get; set; }\n}\n</code></pre>\n\n<p>This work to fulfill my and my client needs... except for one little thing. When I get the result from a List, and given that I added the <code>KnownTypes</code> directive, my response is now this</p>\n\n<pre><code>{\"response\":[{\"__type\":\"HelperErrorResponseClass:#AppCommonLib\",\"Error\":\"ERROR\",\"InstanceId\":\"&lt;InstanceId&gt; : &lt;Port&gt;\",\"PortType\":\"&lt;PortType&gt;\"},{\"__type\":\"HelperErrorResponseClass:#AppCommonLib\",\"Error\":\"ERROR\",\"InstanceId\":\"&lt;InstanceId&gt; : &lt;Port&gt;\",\"PortType\":\"&lt;PortType&gt;\"}]}\n</code></pre>\n\n<p>Any idea how to get rid of that <code>__type</code> property of the response? make that it must be explicit to only return the declared properties of the helper class?</p>\n"}, {"tags": ["c#", "inheritance"], "comments": [{"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 5, "creation_date": 1444856886, "post_id": 33135572, "comment_id": 54082808, "body": "You just did <code>var emp1 = new Employee();</code>. How could <code>emp1</code> possibly be a <code>PartTime</code> or <code>FullTime</code> or whatever else a few lines later?"}, {"owner": {"reputation": 2444, "user_id": 1733406, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oVygi.jpg?s=128&g=1", "display_name": "Jesus Angulo", "link": "https://stackoverflow.com/users/1733406/jesus-angulo"}, "edited": false, "score": 2, "creation_date": 1444856916, "post_id": 33135572, "comment_id": 54082824, "body": "you&#39;re trying to do what?"}, {"owner": {"reputation": 131, "user_id": 4297823, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/aec98a935dd4560228c6dd2daeb1dceb?s=128&d=identicon&r=PG&f=1", "display_name": "Desquid", "link": "https://stackoverflow.com/users/4297823/desquid"}, "edited": false, "score": 0, "creation_date": 1444857055, "post_id": 33135572, "comment_id": 54082887, "body": "I just threw that in there to emphasize that I had an employee object. It&#39;s actually got a lot more stuff behind it but I just can&#39;t figure out this snippet. I&#39;ll fix the post to make it more clear."}, {"owner": {"reputation": 5258, "user_id": 128217, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ba15570b00f4c2e0e44bce297618c828?s=128&d=identicon&r=PG", "display_name": "zimdanen", "link": "https://stackoverflow.com/users/128217/zimdanen"}, "edited": false, "score": 2, "creation_date": 1444857187, "post_id": 33135572, "comment_id": 54082949, "body": "How did casting &quot;not work?&quot;"}, {"owner": {"reputation": 131, "user_id": 4297823, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/aec98a935dd4560228c6dd2daeb1dceb?s=128&d=identicon&r=PG&f=1", "display_name": "Desquid", "link": "https://stackoverflow.com/users/4297823/desquid"}, "reply_to_user": {"reputation": 5258, "user_id": 128217, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ba15570b00f4c2e0e44bce297618c828?s=128&d=identicon&r=PG", "display_name": "zimdanen", "link": "https://stackoverflow.com/users/128217/zimdanen"}, "edited": false, "score": 0, "creation_date": 1444857293, "post_id": 33135572, "comment_id": 54082992, "body": "@zimdanen I was hoping to be able to access data members (BonusEarned, Department, and OfficeLocation) that are unique to Manager, however, I got the error &#39;EmployeeManagement.Employee&#39; does not contain a definition for BonusEarned and no extension method &#39;BonusEarned&#39;. So it&#39;s still staying as an Employee object instead of recognizing it as a Manager."}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 4297823, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/aec98a935dd4560228c6dd2daeb1dceb?s=128&d=identicon&r=PG&f=1", "display_name": "Desquid", "link": "https://stackoverflow.com/users/4297823/desquid"}, "edited": false, "score": 0, "creation_date": 1444857544, "post_id": 33135731, "comment_id": 54083085, "body": "Ah of course. Works perfectly. Staring me straight in the face. Thank you sir!"}], "tags": [], "owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "is_accepted": true, "score": 2, "last_activity_date": 1444857471, "creation_date": 1444857471, "answer_id": 33135731, "question_id": 33135572, "link": "https://stackoverflow.com/questions/33135572/accessing-data-members-of-an-inherited-class/33135731#33135731", "title": "Accessing data members of an inherited class", "body": "<p>Try this (pay attention to the parenthesis):</p>\n\n<pre><code>((Manager)emp1).BonusEarned = Convert.ToDecimal(txtBonus.Text);\n((Manager)emp1).Department = comboDepartment.SelectedText;\n((Manager)emp1).OfficeLocation = txtOffice.Text;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38332, "user_id": 763585, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/34f929fab16e27f59c5193f0db678125?s=128&d=identicon&r=PG", "display_name": "evanmcdonnal", "link": "https://stackoverflow.com/users/763585/evanmcdonnal"}, "is_accepted": false, "score": 1, "last_activity_date": 1444857585, "creation_date": 1444857585, "answer_id": 33135767, "question_id": 33135572, "link": "https://stackoverflow.com/questions/33135572/accessing-data-members-of-an-inherited-class/33135767#33135767", "title": "Accessing data members of an inherited class", "body": "<p>Ugh, I think that is just invalid syntax. You're doing cast in the LHS of an assignment statement... It doesn't work like that. Cast has to be on the RHS so the result can be assigned. Instead try something like this;</p>\n\n<pre><code>if (emp1 is Manager)\n            {\n                var man = (Manager)emp1\n                man.BonusEarned = Convert.ToDecimal(txtBonus.Text);\n                man.Department = comboDepartment.SelectedText;\n                man.OfficeLocation = txtOffice.Text;\n            }\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 4297823, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/aec98a935dd4560228c6dd2daeb1dceb?s=128&d=identicon&r=PG&f=1", "display_name": "Desquid", "link": "https://stackoverflow.com/users/4297823/desquid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 33135731, "answer_count": 2, "score": 0, "last_activity_date": 1444857585, "creation_date": 1444856747, "last_edit_date": 1444857162, "question_id": 33135572, "link": "https://stackoverflow.com/questions/33135572/accessing-data-members-of-an-inherited-class", "title": "Accessing data members of an inherited class", "body": "<p>So I have 4 classes: Employee (base class), PartTime : Employee, FullTime : Employee, Manager : Employee. I'm trying to access unique but can't figure out exactly how. I tried casting but that didn't work. Here's what I have so far. </p>\n\n<pre><code>            Employee emp1 = new Manager();\n            emp1.FirstName = txtFirst.Text;\n            emp1.LastName = txtLast.Text;\n            emp1.Ssn = Convert.ToInt32(txtSSN.Text);\n            emp1.HireDate = Convert.ToInt32(txtHire.Text);\n            emp1.TaxRate = Convert.ToDecimal(txtTax.Text);\n            emp1.Email = txtEmail.Text;\n            emp1.PhoneNum = Convert.ToInt32(txtPhone);\n\n            if (emp1 is PartTime)\n            {\n                emp1.HourlyRate = txtRate.Text;\n                emp1.HoursWorked = txtHrs.Text;\n            } \n            if (emp1 is FullTime)\n            {\n                emp1.Salary = Convert.ToDecimal(txtSalary.Text);\n                emp1.VacationDays = Convert.ToDouble(txtVacation.Text);\n                emp1.SickDays = Convert.ToDouble(txtSick.Text);\n                emp1.IsTaxExempt = comboTax.SelectedIndex == 0 ? true : false;\n                emp1.HasInsurance = comboInsurance.SelectedIndex == 0 ? true : false;\n            }\n            if (emp1 is Manager)\n            {\n                (Manager)emp1.BonusEarned = Convert.ToDecimal(txtBonus.Text);\n                (Manager)emp1.Department = comboDepartment.SelectedText;\n                (Manager)emp1.OfficeLocation = txtOffice.Text;\n            }\n</code></pre>\n\n<p>In this example, Manager has the properties BonusEarned, Department, and OfficeLocation but Employee, FullTime, and PartTime don't.</p>\n"}, {"tags": ["c#", "recursion", "parallel-processing", "task-parallel-library", "task"], "comments": [{"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1444865945, "post_id": 33135560, "comment_id": 54086343, "body": "Can you upgrade to .NET 4.5? Or at least .NET 4.0? There are newer technologies and libraries available that would be a big help, but they only support newer platforms."}, {"owner": {"reputation": 8587, "user_id": 352157, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7a2b68ea3bfc81279c6c40a00930e098?s=128&d=identicon&r=PG", "display_name": "kacalapy", "link": "https://stackoverflow.com/users/352157/kacalapy"}, "reply_to_user": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1444870959, "post_id": 33135560, "comment_id": 54087548, "body": "sorry, fat fingered that. I am on visual studio 2015 and .net 4.6"}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1444873294, "post_id": 33135560, "comment_id": 54088064, "body": "You could certainly change your foreach loop into a parallel construct to help BUT there are typically limits on how many simultaneous requests a server will let you make so you aren&#39;t going to see as much speed up as you may hope. PS a better way to handle this is with a Queue of urls to go visit, e.g. <a href=\"http://blog.abodit.com/2010/03/a-simple-web-crawler-in-c-using-htmlagilitypack/\" rel=\"nofollow noreferrer\">blog.abodit.com/2010/03/&hellip;</a>"}, {"owner": {"reputation": 1463, "user_id": 4784579, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KRlU0.jpg?s=128&g=1", "display_name": "ipavlu", "link": "https://stackoverflow.com/users/4784579/ipavlu"}, "edited": false, "score": 1, "creation_date": 1444920973, "post_id": 33135560, "comment_id": 54113115, "body": "@kacalapy You have multiple issues in your code. The first and most important, you are introducing race condition  lstEmailData.Add(new PageEmail(url, emails));  as List&lt;T&gt; is not thread safe, you must use something like ConcurrentBag instead. The second issue is, that you are chaining some tasks in blocking scenario, AccessTheWebAsync is async(so implemented as Task) and you await it, yet inside the method you are already awaiting task result, is wasting resources only. And the third issue is, that you can not detect completion of your algorithm and in reality, it can live forever..."}, {"owner": {"reputation": 1463, "user_id": 4784579, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KRlU0.jpg?s=128&g=1", "display_name": "ipavlu", "link": "https://stackoverflow.com/users/4784579/ipavlu"}, "reply_to_user": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 0, "creation_date": 1444921803, "post_id": 33135560, "comment_id": 54113714, "body": "@IanMercer foreach is calling async method, should be parallel..."}], "answers": [{"comments": [{"owner": {"reputation": 8587, "user_id": 352157, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7a2b68ea3bfc81279c6c40a00930e098?s=128&d=identicon&r=PG", "display_name": "kacalapy", "link": "https://stackoverflow.com/users/352157/kacalapy"}, "edited": false, "score": 0, "creation_date": 1444916789, "post_id": 33147953, "comment_id": 54109805, "body": "thanks, that helps errors but doesn&#39;t really allow multiple async operations of getWEbData(newURL) to run all separate threads in tandem. I belie this to be the ultimate design of processing many web pages in the least time. My logic seems to sequential and im looking to port it to be more parallel."}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "reply_to_user": {"reputation": 8587, "user_id": 352157, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7a2b68ea3bfc81279c6c40a00930e098?s=128&d=identicon&r=PG", "display_name": "kacalapy", "link": "https://stackoverflow.com/users/352157/kacalapy"}, "edited": false, "score": 0, "creation_date": 1444917339, "post_id": 33147953, "comment_id": 54110291, "body": "@kacalapy: It is concurrent, but not parallel. Multiple threads are unnecessary, since these are I/O-bound operations. This code will send an unbounded number of simultaneous requests, limited only by your hardware, bandwidth, and server-side throttling."}], "tags": [], "owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "is_accepted": true, "score": 2, "last_activity_date": 1444910232, "creation_date": 1444910232, "answer_id": 33147953, "question_id": 33135560, "link": "https://stackoverflow.com/questions/33135560/parallel-processing-of-taskt-objects/33147953#33147953", "title": "Parallel processing of Task&lt;T&gt; objects", "body": "<p>The core problem is probably that you're being limited by the remote server, which you have no control over. There's also the possibility that you may be limited by the (old) default connection limit in .NET; try setting <code>ServicePointManager.DefaultConnectionLimit</code> to <code>int.MaxValue</code> at the beginning of your process. Other than that, there's not much you can do.</p>\n\n<p>Since you are learning <code>async</code>, you should know that it's best to avoid <code>async void</code>. Ideally, <code>getWEbData</code> should return a <code>Task</code>, and this change allows you to treat the \"child\" URLs as \"child\" tasks. This is especially useful for propagating errors correctly:</p>\n\n<pre><code>private async void startButton_Click(object sender, RoutedEventArgs e)\n{\n  await GetWebDataAsync(\"http://localhost:801/\"); //starting url\n}\n\nprivate async Task GetWebDataAsync(string url) {\n  var urls = ...;\n\n  var urlTasks = urls.Select(s =&gt; GetWebDataAsync(s));\n  await Task.WhenAll(urlTasks);\n}\n</code></pre>\n"}], "owner": {"reputation": 8587, "user_id": 352157, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7a2b68ea3bfc81279c6c40a00930e098?s=128&d=identicon&r=PG", "display_name": "kacalapy", "link": "https://stackoverflow.com/users/352157/kacalapy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 33147953, "answer_count": 1, "score": 1, "last_activity_date": 1444912410, "creation_date": 1444856686, "last_edit_date": 1444912410, "question_id": 33135560, "link": "https://stackoverflow.com/questions/33135560/parallel-processing-of-taskt-objects", "title": "Parallel processing of Task&lt;T&gt; objects", "body": "<p>I am crawling web pages starting with the original URL and following any links recursively to determine the email address listed on these pages. I have used VS2015 and .net 4.6 to make use of the abstraction/ simplicity tasks provide over threading. </p>\n\n<p>I have the page download working recursively but still the application has a serious bottleneck, it seems. With the simple code below, how can the flow be made to be more able to process in parallel each web page to interrogate the content for emails, and subsequent url links?</p>\n\n<p>It seems tasks may be able to be started in tandem such that all urls found on a page can simultaneously be added to the next iteration of the looping logic? or do tasks now handle this under the hood?</p>\n\n<p>below is my code, please offer some explanation so i can better understand the solution as i am just starting with tasks. (code is making use of HTML agility pack)</p>\n\n<pre><code>List&lt;PageEmail&gt; lstEmailData = new List&lt;PageEmail&gt;();\n\nprivate void startButton_Click(object sender, RoutedEventArgs e)\n{\n    getWEbData(\"http://localhost:801/\"); //starting url\n}\n\nprivate async void getWEbData(string url) {\n    Task&lt;string&gt; getHTMLTask = AccessTheWebAsync(url);\n    string PageData = await getHTMLTask;\n\n    var html = new HtmlDocument();\n    html.LoadHtml  (PageData);\n\n    var emails = html.DocumentNode.SelectNodes(\"//a[@href]\")\n      .Select(a =&gt; a.Attributes[\"href\"].Value)\n      .Where(href =&gt; href.StartsWith(\"mailto:\")) // keep emails, skipp links\n      .ToList();\n\n    lstEmailData.Add(new PageEmail(url, emails));\n\n    var urls = html.DocumentNode.SelectNodes(\"//a[@href]\")\n     .Select(a =&gt; a.Attributes[\"href\"].Value)\n     .Where(href =&gt; !href.StartsWith(\"mailto:\")) // skip emails, find only url links\n     .ToList();\n\n    foreach (string s in urls) {\n        getWEbData(s);\n    }\n\n}\n\nasync Task&lt;string&gt; AccessTheWebAsync(string URL)\n{\n    HttpClient client = new HttpClient() { MaxResponseContentBufferSize = 1000000 };\n    Task&lt;string&gt; getStringTask = client.GetStringAsync(URL);\n    return await getStringTask;\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "list", "foreach"], "answers": [{"comments": [{"owner": {"reputation": 18739, "user_id": 4003407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1bb6a20caae0ab19fe7eab3ac3f74fb?s=128&d=identicon&r=PG&f=1", "display_name": "user4003407", "link": "https://stackoverflow.com/users/4003407/user4003407"}, "edited": false, "score": 0, "creation_date": 1444857160, "post_id": 33135587, "comment_id": 54082938, "body": "You can use <a href=\"https://msdn.microsoft.com/library/fh1w7y8z.aspx\" rel=\"nofollow noreferrer\"><code>FindAll</code></a> instead of LINQ."}, {"owner": {"reputation": 1467, "user_id": 1864033, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/032be4c624f9cbd83a4288ecca8fda1d?s=128&d=identicon&r=PG", "display_name": "Stepan Loginov", "link": "https://stackoverflow.com/users/1864033/stepan-loginov"}, "edited": false, "score": 0, "creation_date": 1444857227, "post_id": 33135587, "comment_id": 54082966, "body": "Looks nice, but compiler say that my <code>List&lt;Pair&lt;Myclass, int&gt;&gt;</code> haven&#39;t <code>Where</code>  method"}, {"owner": {"reputation": 489, "user_id": 509790, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aDxQZ.jpg?s=128&g=1", "display_name": "andrewjsaid", "link": "https://stackoverflow.com/users/509790/andrewjsaid"}, "edited": false, "score": 0, "creation_date": 1444857234, "post_id": 33135587, "comment_id": 54082970, "body": "If verified already exists (and is a List&lt;T&gt;)then it is probably better to use <code>verified.AddRange(myList.Where(item =&gt; item.second &lt;= _width))</code> to preserve existing elements"}, {"owner": {"reputation": 489, "user_id": 509790, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aDxQZ.jpg?s=128&g=1", "display_name": "andrewjsaid", "link": "https://stackoverflow.com/users/509790/andrewjsaid"}, "reply_to_user": {"reputation": 1467, "user_id": 1864033, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/032be4c624f9cbd83a4288ecca8fda1d?s=128&d=identicon&r=PG", "display_name": "Stepan Loginov", "link": "https://stackoverflow.com/users/1864033/stepan-loginov"}, "edited": false, "score": 2, "creation_date": 1444857285, "post_id": 33135587, "comment_id": 54082990, "body": "@StepanLoginov add <code>using System.Linq</code> to the top of your file and the Where method will be imported (it&#39;s something known as an extension method)"}], "tags": [], "owner": {"reputation": 26524, "user_id": 3213034, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/ZD3DE.jpg?s=128&g=1", "display_name": "Amir Popovich", "link": "https://stackoverflow.com/users/3213034/amir-popovich"}, "is_accepted": false, "score": 7, "last_activity_date": 1444856831, "creation_date": 1444856831, "answer_id": 33135587, "question_id": 33135556, "link": "https://stackoverflow.com/questions/33135556/if-instruction-inside-list-foreach/33135587#33135587", "title": "&#39;If&#39; instruction inside List.ForEach()", "body": "<p>Use <a href=\"https://msdn.microsoft.com/en-us/library/vstudio/bb534803(v=vs.100).aspx\">Where</a> instead:</p>\n\n<pre><code>var verified = myList.Where(item =&gt; item.second &lt;= _width).ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "is_accepted": false, "score": 6, "last_activity_date": 1444857015, "creation_date": 1444857015, "answer_id": 33135631, "question_id": 33135556, "link": "https://stackoverflow.com/questions/33135556/if-instruction-inside-list-foreach/33135631#33135631", "title": "&#39;If&#39; instruction inside List.ForEach()", "body": "<p>Try this:</p>\n\n<pre><code>myList.ForEach(A =&gt; { if (A.second &lt; _width) verified.Add(A); });\n</code></pre>\n\n<p>You need the curly braces for anything more than a single statement.</p>\n"}], "owner": {"reputation": 1467, "user_id": 1864033, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/032be4c624f9cbd83a4288ecca8fda1d?s=128&d=identicon&r=PG", "display_name": "Stepan Loginov", "link": "https://stackoverflow.com/users/1864033/stepan-loginov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1444857132, "creation_date": 1444856672, "last_edit_date": 1444857132, "question_id": 33135556, "link": "https://stackoverflow.com/questions/33135556/if-instruction-inside-list-foreach", "title": "&#39;If&#39; instruction inside List.ForEach()", "body": "<p>I know that there are many questions about an \"if\" in lambda statements at SO. Sorry if it's duplication, but i really can't find an answer.</p>\n\n<p>I have this code, and it works well</p>\n\n<pre><code>    foreach (Pair&lt;Myclass, int&gt; A in myList) //mylist is List&lt;Pair&lt;Myclass, int&gt;&gt;\n        if (A.second &lt;= _width)\n            verified.Add(A);\n</code></pre>\n\n<p>Is it possible replace this with <code>myList.ForEach()</code> ?</p>\n\n<p>I have tried:</p>\n\n<pre><code>myList.ForEach(A =&gt; if (A.second &lt; _width) verified.Add(A));\n</code></pre>\n\n<p>and</p>\n\n<pre><code>myList.ForEach(A =&gt; f.second &lt; _width ? verified.Add(A):do_nothing());\n</code></pre>\n\n<p>But it does not work. Each time when I try to add an 'if' somethings go wrong.</p>\n"}, {"tags": ["c#", "pdf", "jpeg", "uwp", "syncfusion"], "answers": [{"tags": [], "owner": {"reputation": 89, "user_id": 3538056, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/98377546024542fc163e064484d2ea76?s=128&d=identicon&r=PG", "display_name": "evanjs", "link": "https://stackoverflow.com/users/3538056/evanjs"}, "is_accepted": false, "score": 0, "last_activity_date": 1586901231, "last_edit_date": 1586901231, "creation_date": 1444943172, "answer_id": 33158546, "question_id": 33135541, "link": "https://stackoverflow.com/questions/33135541/change-pdfimage-type-syncfusion-pdf/33158546#33158546", "title": "Change PdfImage type (Syncfusion PDF)", "body": "<p>Well, I refactored some of the methods and the memory leak ended up being the cause.  Lesson learned: using statements are your friends.</p>\n\n<p>To be a little more specific, I just created a file as a destination for the PDF, then called<br></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using (Stream s = new FileStream(/*string*/&gt;f.Path, FileMode.OpenOrCreate))\n{\n    await Task.Run(() =&gt; SaveAsPdf(/*StorageFile*/f, /*Manga*/m));\n}\n</code></pre>\n\n<p>Various other things needed to be moved around, but leaving the FileStream open ended up being the problem.</p>\n"}], "owner": {"reputation": 89, "user_id": 3538056, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/98377546024542fc163e064484d2ea76?s=128&d=identicon&r=PG", "display_name": "evanjs", "link": "https://stackoverflow.com/users/3538056/evanjs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1586901231, "creation_date": 1444856622, "question_id": 33135541, "link": "https://stackoverflow.com/questions/33135541/change-pdfimage-type-syncfusion-pdf", "title": "Change PdfImage type (Syncfusion PDF)", "body": "<p>So I'm using Syncfusion Controls for UWP XAML, and I'm trying to insert JPEGs into a PDF I'm creating, but PdfImage seems to always return bitmaps.  Or at least images with bitmap-like file sizes.\nIs there any way to ensure the images being inserted are of JPEG size? The images I'm inputting are JPEGs to begin with.\nI'd be fine with bitmaps if I wasn't making PDFs of manga (Japanese comic books), i.e. the size per manga right now ranges from 50-150MB.</p>\n\n<p>It's not a working sample, but here's what I'm using right now.</p>\n\n<pre><code>public async void SaveAsPdf(Stream fs, Manga manga)\n    {\n        var m = manga;\n        var c = m.Content;\n\n        if (fs.Length != 0) return;\n        var pdf = new PdfDocument();\n        var pages = await GetPages(m);\n        pdf.PageSettings.SetMargins(0);\n\n\n        pdf.FileStructure.IncrementalUpdate = true;\n        pdf.EnableMemoryOptimization = true;\n        pdf.Compression = PdfCompressionLevel.Best;\n\n\n        for (var pi = 0; pi &lt; c.ContentPages; pi++)\n        {\n            var section = pdf.Sections.Add();\n            var mr = section.PageSettings.Margins = new PdfMargins();\n            mr.All = 0;\n            var page = section.Pages.Add();\n            var g = page.Graphics;\n            page.DefaultLayerIndex = 0;\n            var pu = pages[pi];\n            var client = new HttpClient();\n            var im = await client.GetAsync(pu);\n            var pdi = PdfImage.FromStream(im.Content.ReadAsStreamAsync().Result);\n\n            g.DrawImage(pdi, new PointF(0, 0), g.ClientSize);\n            await pdf.SaveAsync(fs);\n        }\n        await pdf.SaveAsync(fs);\n        pdf.DocumentInformation.Title = c.ContentName;\n        pdf.DocumentInformation.Author += string.Join(\", \", c.ContentArtists.Select(x =&gt; x.Attribute));\n        pdf.DocumentInformation.Keywords += string.Join(\", \", c.ContentTags.Select(x =&gt; x.Attribute)).Replace(\"\\\"\", string.Empty);\n        pdf.Save(fs);\n        pdf.Close(true);\n\n        var toast = Notifications.NotifyMangaDownloaded(m);\n        ToastNotificationManager.CreateToastNotifier().Show(toast);\n        fs.Dispose();\n    }\n</code></pre>\n\n<p>I'd ask about the memory leak but it'd probably be best if I made another post for that.</p>\n\n<p>Thanks in advance.</p>\n\n<p>(I posted this on the Syncfusion forums but I felt like I might get a better response here)</p>\n"}, {"tags": ["c#", ".net", "linq", "join", "razor"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 5445378, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/99b5a47de33d12de37d134069d74abd6?s=128&d=identicon&r=PG&f=1", "display_name": "Aron Valencio", "link": "https://stackoverflow.com/users/5445378/aron-valencio"}, "edited": false, "score": 0, "creation_date": 1444918591, "post_id": 33135756, "comment_id": 54111295, "body": "Jason, thanks a lot for answering! I did what you suggested, but now leaseList can&#39;t receive the query because VS can&#39;t convert the Anonymous type to LeaseViewModel. When you say &quot;change your query to return it&quot; you mean changing the type of my variable to LeaseViewModel, right?"}, {"owner": {"reputation": 63, "user_id": 5445378, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/99b5a47de33d12de37d134069d74abd6?s=128&d=identicon&r=PG&f=1", "display_name": "Aron Valencio", "link": "https://stackoverflow.com/users/5445378/aron-valencio"}, "edited": false, "score": 0, "creation_date": 1444924149, "post_id": 33135756, "comment_id": 54115348, "body": "Looks like I found the solution on this link: <a href=\"http://www.codeproject.com/Articles/38635/Converting-anonymous-types-to-any-type\" rel=\"nofollow noreferrer\">codeproject.com/Articles/38635/&hellip;</a>"}, {"owner": {"reputation": 1223, "user_id": 98957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ece1e7856bf96bd3074080661cff077?s=128&d=identicon&r=PG", "display_name": "Jason Williams", "link": "https://stackoverflow.com/users/98957/jason-williams"}, "reply_to_user": {"reputation": 63, "user_id": 5445378, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/99b5a47de33d12de37d134069d74abd6?s=128&d=identicon&r=PG&f=1", "display_name": "Aron Valencio", "link": "https://stackoverflow.com/users/5445378/aron-valencio"}, "edited": false, "score": 0, "creation_date": 1444930491, "post_id": 33135756, "comment_id": 54119040, "body": "I added an example of selecting the LeaseViewModel object instead of an anonymous type."}], "tags": [], "owner": {"reputation": 1223, "user_id": 98957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ece1e7856bf96bd3074080661cff077?s=128&d=identicon&r=PG", "display_name": "Jason Williams", "link": "https://stackoverflow.com/users/98957/jason-williams"}, "is_accepted": true, "score": 1, "last_activity_date": 1444930449, "last_edit_date": 1444930449, "creation_date": 1444857550, "answer_id": 33135756, "question_id": 33135422, "link": "https://stackoverflow.com/questions/33135422/show-linq-joined-table-column-at-view-displaynamefor/33135756#33135756", "title": "Show LINQ joined table column at view DisplayNameFor", "body": "<p>It looks like your View's Model is the wrong type. Your query isn't returning tblfLeaseDetail objects. It's returning a new, anonymous object you're creating in the select part of the query.</p>\n\n<p>I would recommend creating a new class (perhaps called LeaseViewModel) with all of the properties you need. Then, change your query to return it instead of the anonymous type it's returning right now.</p>\n\n<p>You can have your query return your view model by changing:</p>\n\n<pre><code>select new {l.Lease_Detail_ID, l.Lease_ID, l.XRef_Lease_ID, v.Vendor_Name, l.Description, c.County,\n                     l.Amount, l.Payment_Due_Date, a.Authorized, t.Line_Type }\n</code></pre>\n\n<p>To something like:</p>\n\n<pre><code>select new LeaseViewModel() { Detail_ID = l.Lease_Detail_ID, Lease_ID = l.Lease_ID, XRef_Lease_ID = l.XRef_Lease_ID, Vendor_Name=v.Vendor_Name, Description = l.Description, County = c.County, Amount = l.Amount, Payment_Due_Date = l.Payment_Due_Date, Authorized = a.Authorized, Line_Type = t.Line_Type }\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 5445378, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/99b5a47de33d12de37d134069d74abd6?s=128&d=identicon&r=PG&f=1", "display_name": "Aron Valencio", "link": "https://stackoverflow.com/users/5445378/aron-valencio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 33135756, "answer_count": 1, "score": 1, "last_activity_date": 1444930449, "creation_date": 1444856132, "last_edit_date": 1444856610, "question_id": 33135422, "link": "https://stackoverflow.com/questions/33135422/show-linq-joined-table-column-at-view-displaynamefor", "title": "Show LINQ joined table column at view DisplayNameFor", "body": "<p><strong>I'm trying to create a list view with data coming from different tables in my database</strong>. Following you have what I tried:</p>\n\n<p>I created a LINQDataContex and referenced associations between my tables.</p>\n\n<p><a href=\"http://i.stack.imgur.com/adPWn.png\" rel=\"nofollow\">Dbml File</a></p>\n\n<p>This has automatically created EntitySets inside my table's class in my designer.cs file like this: </p>\n\n<pre><code>[global::System.Data.Linq.Mapping.AssociationAttribute(Name=\"tblfLeaseDetail_tblvVendor\", Storage=\"_tblvVendors\", ThisKey=\"Vendor_ID\", OtherKey=\"Vendor_ID\")]\n    public EntitySet&lt;tblvVendor&gt; tblvVendors\n    {\n        get\n        {\n            return this._tblvVendors;\n        }\n        set\n        {\n            this._tblvVendors.Assign(value);\n        }\n    }\n</code></pre>\n\n<p>Then I created a query in my controller to select the information and return it to my view:</p>\n\n<pre><code>public ActionResult Leases()\n    {\n        LeasesLINQDataContext leases = new LeasesLINQDataContext();\n        var leaseList = (from l in leases.tblfLeaseDetails\n                         join a in leases.tblfAuthorizations on l.Lease_Detail_ID equals a.Lease_Detail_ID                             \n                         join c in leases.tblvCounties on l.County_ID equals c.County_ID\n                         join t in leases.tblvLineTypes on l.Line_Type_ID equals t.Line_Type_ID\n                         join v in leases.tblvVendors on l.Vendor_ID equals v.Vendor_ID\n                         select new {l.Lease_Detail_ID, l.Lease_ID, l.XRef_Lease_ID, v.Vendor_Name, l.Description, c.County,\n                         l.Amount, l.Payment_Due_Date, a.Authorized, t.Line_Type }).ToList();\n\n        ViewBag.Message = \"Your app description page.\";\n\n        return View(leaseList);\n    }\n</code></pre>\n\n<p>And finally I'm trying to display the data in my view, with no success, through this piece of code:</p>\n\n<pre><code>@model IEnumerable&lt;LMWEB_MVC.tblfLeaseDetail&gt; \n\n@{\nViewBag.Title = \"Leases\";\n}\n\n&lt;h2&gt;Leases&lt;/h2&gt;\n\n&lt;p&gt;\n@Html.ActionLink(\"Create New\", \"Create\")\n&lt;/p&gt;\n&lt;table&gt;\n&lt;tr&gt;\n    &lt;th&gt;\n        @Html.DisplayNameFor(model =&gt; model.Lease_ID)\n    &lt;/th&gt;\n    &lt;th&gt;\n        @Html.DisplayNameFor(model =&gt; model.XRef_Lease_ID)\n    &lt;/th&gt;\n    &lt;th&gt;\n        @Html.DisplayNameFor(model =&gt; model.Lease_Type)\n    &lt;/th&gt;\n    &lt;th&gt;\n        @Html.DisplayNameFor(model =&gt; model.Company_ID)\n    &lt;/th&gt;\n    &lt;th&gt;\n        @Html.DisplayNameFor(model =&gt; model.Vendor_Name)\n    &lt;/th&gt;\n</code></pre>\n\n<p>This returns me the following error:</p>\n\n<pre><code>'System.Collections.Generic.IEnumerable&lt;LMWEB_MVC.tblfLeaseDetail&gt;' does not contain a definition for 'Vendor_Name' and no extension method 'Vendor_Name' accepting a first argument of type 'System.Collections.Generic.IEnumerable&lt;LMWEB_MVC.tblfLeaseDetail&gt;' could be found (are you missing a using directive or an assembly reference?)\n</code></pre>\n\n<p>Please let me know what I'm doing wrong. Thanks a lot!</p>\n"}, {"tags": ["c#", "visual-studio", "ms-access", "tableadapter"], "answers": [{"tags": [], "owner": {"reputation": 487, "user_id": 3972754, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/abc0c79fb8e22725f81c87b09aa5aaf7?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/3972754/jack"}, "is_accepted": true, "score": 0, "last_activity_date": 1444911181, "creation_date": 1444911181, "answer_id": 33148250, "question_id": 33135388, "link": "https://stackoverflow.com/questions/33135388/passing-a-string-to-tableadapter/33148250#33148250", "title": "Passing a string to TableAdapter", "body": "<p>I've found the answer: I was simply using the wrong method.\nI was using Fill instead of Update to send Data to the DB.</p>\n"}], "owner": {"reputation": 487, "user_id": 3972754, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/abc0c79fb8e22725f81c87b09aa5aaf7?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/3972754/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 33148250, "answer_count": 1, "score": 0, "last_activity_date": 1444911181, "creation_date": 1444855972, "question_id": 33135388, "link": "https://stackoverflow.com/questions/33135388/passing-a-string-to-tableadapter", "title": "Passing a string to TableAdapter", "body": "<p>I am just trying to store a string variable into the MSAccess DB by passing it to the fill method of an adapter.\nIt looks like I am doing something wrong as the method only seems to accept datatable parameters. \nHere is the code I am using</p>\n\n<pre><code>private void button4_Click(object sender, EventArgs e)\n    {\n        FolderBrowserDialog fbd = new FolderBrowserDialog();\n        DialogResult result = fbd.ShowDialog();\n        string files = fbd.SelectedPath;\n        Database_MyDataSetTableAdapters.SettingsTableAdapter adapter = new Database_MyDataSetTableAdapters.SettingsTableAdapter();\n        adapter.Fill(files.ToString());                   \n    }\n</code></pre>\n\n<p>Any help will be appreciated</p>\n"}, {"tags": ["c#", "asp.net", "sql-server", "vb.net"], "comments": [{"owner": {"reputation": 12006, "user_id": 952310, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/esN85.jpg?s=128&g=1", "display_name": "Yair Nevet", "link": "https://stackoverflow.com/users/952310/yair-nevet"}, "edited": false, "score": 0, "creation_date": 1444856962, "post_id": 33135356, "comment_id": 54082842, "body": "<a href=\"http://stackoverflow.com/q/11463734/952310\">stackoverflow.com/q/11463734/952310</a>"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1444859691, "post_id": 33135356, "comment_id": 54084095, "body": "Why did you tag C# when your sample code is in VB?"}], "answers": [{"tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": true, "score": 1, "last_activity_date": 1444860031, "last_edit_date": 1495540335, "creation_date": 1444859590, "answer_id": 33136230, "question_id": 33135356, "link": "https://stackoverflow.com/questions/33135356/create-asp-net-batches-of-emails-from-datareader/33136230#33136230", "title": "Create asp.net batches of emails from datareader", "body": "<p>The basic way is to use a counter variable:</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Dim count as Integer\nDim address as String\n\nWhile r.Read\n    address = address + r.Field(\"email\") + \";\"\n    count = count + 1\n    If count = 50 Then\n        ' send \n        count = 0\n        address = \"\"\n    End If\nEnd While\n' see if there are any remaining addresses \nIf Not String.IsNullOrEmpty(address) Then\n    ' send\nEnd If\n</code></pre>\n\n<p>Other ways:</p>\n\n<ul>\n<li>Use a <a href=\"https://stackoverflow.com/q/11463734/952310\">Linq extension</a> to batch the emails into groups of 50, then loop through them </li>\n<li>Use Ling <code>Skip</code> and <code>Take</code> in a loop to do effectively the same thing</li>\n</ul>\n"}], "owner": {"reputation": 1166, "user_id": 264735, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5c07c6233a1652437101e3445a5305ca?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/264735/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 1, "accepted_answer_id": 33136230, "answer_count": 1, "score": 0, "last_activity_date": 1444860031, "creation_date": 1444855862, "last_edit_date": 1444859705, "question_id": 33135356, "link": "https://stackoverflow.com/questions/33135356/create-asp-net-batches-of-emails-from-datareader", "title": "Create asp.net batches of emails from datareader", "body": "<p>I have 153 email addresses returned from a stored procedure (this number could vary) which I load into a <code>SqlDataReader</code> (<code>r</code>). My email relay server can send up to 50 email addresses at a time.  How can I create X number of groups so I don't exceed its limit, from the reader? </p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Dim myCommand As New SqlCommand(\"sproc_Get_Emails\", myConnection)\nmyCommand.CommandType = CommandType.StoredProcedure\n\nmyCommand.Parameters.Add(New SqlParameter(\"@List_Type\", SqlDbType.Char))\nmyCommand.Parameters(\"@List_Type\").Value = priority\n\nDim r As SqlDataReader\nmyConnection.Open()\nr = myCommand.ExecuteReader()\n</code></pre>\n\n<p>I am at a blank on how to do this.  My thinking was along this...</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>'get count of all email addresses and divide by 50, then send each in 50 record batches???\n Dim email_count As Integer = 0\n\n 'get count and divide by 50 \n  email_count = r.RecordsAffected\n\n  Dim list_size As Double = email_count / 50\n</code></pre>\n\n<p>Any help would be much appreciated.</p>\n"}, {"tags": ["c#", "mysql", "linq"], "comments": [{"owner": {"reputation": 10997, "user_id": 75852, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fe6c5931802371700bddfa845f8a4d86?s=128&d=identicon&r=PG", "display_name": "squillman", "link": "https://stackoverflow.com/users/75852/squillman"}, "edited": false, "score": 0, "creation_date": 1444855934, "post_id": 33135270, "comment_id": 54082328, "body": "Your result type is not a List&lt;int&gt;.  It&#39;s a List&lt;string&gt;.  Is that what you really want?"}], "answers": [{"tags": [], "owner": {"reputation": 2230, "user_id": 1497128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QaOX5.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/1497128/tom"}, "is_accepted": false, "score": 1, "last_activity_date": 1444894866, "last_edit_date": 1444894866, "creation_date": 1444856384, "answer_id": 33135487, "question_id": 33135270, "link": "https://stackoverflow.com/questions/33135270/division-results-from-sql-to-separate-list-int/33135487#33135487", "title": "Division results from SQL to separate List &lt;int&gt;", "body": "<p>You are looking for <code>GroupBy</code>. You need to <code>GroupBy</code> your keys then <code>Select</code> your result. Here is an example using your data --</p>\n\n<pre><code>public class Program\n{\n    public static void Main(string[] args)\n    {\n        var list = new List&lt;Item&gt;\n        {\n            new Item { task = 1, supplier = 77, source = 3 },\n            new Item { task = 2, supplier = 71, source = 3 },\n            new Item { task = 3, supplier = 77, source = 1 },\n            new Item { task = 4, supplier = 77, source = 2 },\n            new Item { task = 5, supplier = 72, source = 3 },\n            new Item { task = 6, supplier = 72, source = 2 },\n            new Item { task = 7, supplier = 77, source = 3 },\n            new Item { task = 8, supplier = 72, source = 3 },\n            new Item { task = 9, supplier = 71, source = 1 },\n            new Item { task = 10, supplier = 72, source = 3 }\n        };\n\n        var groupBy = \n            list\n            .GroupBy(x =&gt; new { first = x.source, second = x.supplier})\n            .Select(x =&gt; new { name = x.Key, items = x.Count() });\n\n        foreach (var g in groupBy)\n        {\n            Console.WriteLine(g);\n        }        \n    }        \n}\n\npublic class Item\n{\n    public int task;\n    public int supplier;\n    public int source;\n}\n</code></pre>\n\n<p>This prints</p>\n\n<pre><code>{ name = { first = 3, second = 77 }, items = 2 }\n{ name = { first = 3, second = 71 }, items = 1 }\n{ name = { first = 1, second = 77 }, items = 1 }\n{ name = { first = 2, second = 77 }, items = 1 }\n{ name = { first = 3, second = 72 }, items = 3 }\n{ name = { first = 2, second = 72 }, items = 1 }\n{ name = { first = 1, second = 71 }, items = 1 }\n</code></pre>\n\n<p>You can use this example as your starting point. To accomplish what you need, just change the <code>.Count()</code> to <code>.Aggregate()</code> so it returns a list of the task id's instead of the number of task ids. You can also change the key to match \"group 1\" \"group 2\" if you'd like but you will need to come up with some standard way to number each group (e.g., <code>\"group\"+(index+1).ToString())</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 20059, "user_id": 856353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4BHW9.jpg?s=128&g=1", "display_name": "Robert McKee", "link": "https://stackoverflow.com/users/856353/robert-mckee"}, "is_accepted": false, "score": 0, "last_activity_date": 1444858337, "creation_date": 1444858337, "answer_id": 33135958, "question_id": 33135270, "link": "https://stackoverflow.com/questions/33135270/division-results-from-sql-to-separate-list-int/33135958#33135958", "title": "Division results from SQL to separate List &lt;int&gt;", "body": "<p>Building on Tom's answer:</p>\n\n<pre><code>public static void Main(string[] args)\n{\n    var list = new List&lt;Item&gt;\n    {\n        new Item { task = 1, supplier = 77, source = 3 },\n        new Item { task = 2, supplier = 71, source = 3 },\n        new Item { task = 3, supplier = 77, source = 1 },\n        new Item { task = 4, supplier = 77, source = 2 },\n        new Item { task = 5, supplier = 72, source = 3 },\n        new Item { task = 6, supplier = 72, source = 2 },\n        new Item { task = 7, supplier = 77, source = 3 },\n        new Item { task = 8, supplier = 72, source = 3 },\n        new Item { task = 9, supplier = 71, source = 1 },\n        new Item { task = 10, supplier = 72, source = 3 }\n    };\n\n    var groupBy = list.GroupBy(x =&gt; new { first = x.supplier, second = x.source})\n      .OrderBy(x=&gt;x.Key.first).ThenBy(x=&gt;x.Key.second)\n      .Select((x,i) =&gt; new { name = \"group\"+(i+1), items = x.Select(y=&gt;y.task) });\n\n    foreach (var g in groupBy)\n    {\n        Console.WriteLine(\"{0} {1}\",g.name,String.Join(\",\",g.items.Select(x=&gt;x.ToString())));\n    }        \n}        \n\npublic class Item\n{\n    public int task;\n    public int supplier;\n    public int source;\n}\n</code></pre>\n\n<p>will return:</p>\n\n<pre><code>group1 9\ngroup2 2\ngroup3 6\ngroup4 5,8,10\ngroup5 3\ngroup6 4\ngroup7 1,7\n</code></pre>\n\n<p>I left the final output as a <code>IEnumerable&lt;string,IEnumerable&lt;int&gt;&gt;</code> because I would usually prefer it that way.  You can easily move the string.join to the select if you would prefer to have it a <code>IEnumerable&lt;string,string&gt;</code> instead.</p>\n"}], "owner": {"reputation": 13, "user_id": 2669984, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ee4d9c4824baf1c4be09778b0fe26ac8?s=128&d=identicon&r=PG", "display_name": "PsR", "link": "https://stackoverflow.com/users/2669984/psr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1444894866, "creation_date": 1444855595, "last_edit_date": 1444856353, "question_id": 33135270, "link": "https://stackoverflow.com/questions/33135270/division-results-from-sql-to-separate-list-int", "title": "Division results from SQL to separate List &lt;int&gt;", "body": "<p>I get the result from a MySQL table as below. \nThe result of data each time is different and I need to group it to separate new List &lt; int >. \nThe list of data in a DataTable:</p>\n\n<pre><code>id_task id_supplier id_source_ps\n1   77  3\n2   71  3\n3   77  1\n4   77  2\n5   72  3\n6   72  2\n7   77  3\n8   72  3\n9   71  1\n10  72  3\n</code></pre>\n\n<p>The condition of grouping id_task to the new list is the same id_supplier and id_source_ps!</p>\n\n<p>What method (LINQ?) Use to get the result - as in this example - seven of new List &lt; int ></p>\n\n<pre><code>name of list    id_task_in\ngroup1  9\ngroup2  2\ngroup3  6\ngroup4  5,8,10\ngroup5  3\ngroup6  4\ngroup7  1,7\n</code></pre>\n"}, {"tags": ["c#", "events", "delegates"], "comments": [{"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 0, "creation_date": 1444855827, "post_id": 33135234, "comment_id": 54082260, "body": "Mainly so others can&#39;t clear out everyone wired up to the event already - <a href=\"http://stackoverflow.com/questions/3028724/why-do-we-need-the-event-keyword-while-defining-events\">Similar question</a>"}], "answers": [{"tags": [], "owner": {"reputation": 13828, "user_id": 4588915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CTCr8.png?s=128&g=1", "display_name": "Jakub Lortz", "link": "https://stackoverflow.com/users/4588915/jakub-lortz"}, "is_accepted": true, "score": 2, "last_activity_date": 1444855695, "creation_date": 1444855695, "answer_id": 33135293, "question_id": 33135234, "link": "https://stackoverflow.com/questions/33135234/where-is-the-line-between-a-traditional-event-and-a-simple-delegate-assignment/33135293#33135293", "title": "Where is the line between a traditional event and a simple delegate assignment?", "body": "<p>With your approach, any object can clear the delegate:</p>\n\n<pre><code>MyClass.OnSomethingHappens = null;\n</code></pre>\n\n<p>or invoke it:</p>\n\n<pre><code>MyClass.OnSomethingHappens();\n</code></pre>\n\n<p>Events only allow other objects to add/remove delegates.</p>\n"}, {"tags": [], "owner": {"reputation": 249, "user_id": 1819364, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3b3f7eaf0ba1baddd1871f5a78a6f514?s=128&d=identicon&r=PG", "display_name": "ro-E", "link": "https://stackoverflow.com/users/1819364/ro-e"}, "is_accepted": false, "score": -1, "last_activity_date": 1446799045, "last_edit_date": 1446799045, "creation_date": 1444855813, "answer_id": 33135334, "question_id": 33135234, "link": "https://stackoverflow.com/questions/33135234/where-is-the-line-between-a-traditional-event-and-a-simple-delegate-assignment/33135334#33135334", "title": "Where is the line between a traditional event and a simple delegate assignment?", "body": "<p>if you declare <code>OnSomethingHappens</code> as public event</p>\n\n<pre><code>public MyHandler OnSomethingHappens;\n</code></pre>\n\n<p>you'll be able to do only the <code>+=</code> and <code>-=</code> opertors\nif you keep it public you can assign it null from outside the class</p>\n"}], "owner": {"reputation": 7649, "user_id": 60733, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/277e9f96081a36c5c034e5339249c8fc?s=128&d=identicon&r=PG", "display_name": "Deane", "link": "https://stackoverflow.com/users/60733/deane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "closed_date": 1444855900, "accepted_answer_id": 33135293, "answer_count": 2, "score": 0, "last_activity_date": 1446799045, "creation_date": 1444855468, "question_id": 33135234, "link": "https://stackoverflow.com/questions/33135234/where-is-the-line-between-a-traditional-event-and-a-simple-delegate-assignment", "closed_reason": "Duplicate", "title": "Where is the line between a traditional event and a simple delegate assignment?", "body": "<p>I've been playing around with anonymous functions and delegates. It's left me wondering what advantages the traditional ways of declaring events have.  </p>\n\n<p>Consider this inside of a class.</p>\n\n<pre><code>public delegate void MyHandler(string input);\npublic MyHandler OnSomethingHappens;\n\n// ...then, somewhere else\nOnSomethingHappens(\"The thing that happened...\");\n</code></pre>\n\n<p>From outside the method...</p>\n\n<pre><code>MyClass.OnSomethingHappens += (input) =&gt; { Console.WriteLine(\"Do something\"; };\nMyClass.OnSomethingHappens += (input) =&gt; { Console.WriteLine(\"Do something else\"; };\n</code></pre>\n\n<p>How is this any different than a traditional event handling situation, where I code up a <code>SomethingHappensEventArgs</code> class, wire it to an actual event, etc.? </p>\n\n<p>With the code above, I am able to assign code to execute when the class says something has happened...which is essentially what an event does.</p>\n\n<p>Why would I go to all the trouble of creating a \"true\" event?  Dare I say it...Intellisense icons?  :-)</p>\n"}, {"tags": ["c#", "exception-handling", "polly"], "answers": [{"comments": [{"owner": {"reputation": 5120, "user_id": 4151019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938308839e5234c8fbafcec7c82144d?s=128&d=identicon&r=PG&f=1", "display_name": "mountain traveller", "link": "https://stackoverflow.com/users/4151019/mountain-traveller"}, "edited": false, "score": 0, "creation_date": 1487802474, "post_id": 33135417, "comment_id": 71953954, "body": "This is a great pattern.  Since this answer, Polly has also added <code>.ExecuteAndCapture()</code> and <code>.ExecuteAndCaptureAsync()</code>, which captures the final exception for you, so you don&#39;t have to write an additional <code>try &#47; catch { }</code>.  More details <a href=\"https://github.com/App-vNext/Polly#post-execution-capturing-the-result-or-any-final-exception\" rel=\"nofollow noreferrer\">in the Polly readme</a>"}], "tags": [], "owner": {"reputation": 1566, "user_id": 4599089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e00af9f0f28730d3d15a4c2d5c9034b?s=128&d=identicon&r=PG", "display_name": "Bartosz Czerwonka", "link": "https://stackoverflow.com/users/4599089/bartosz-czerwonka"}, "is_accepted": true, "score": 1, "last_activity_date": 1444856111, "creation_date": 1444856111, "answer_id": 33135417, "question_id": 33135215, "link": "https://stackoverflow.com/questions/33135215/timeoutexception-unhandled-by-the-code-do-i-need-a-try-catch-when-using-polly/33135417#33135417", "title": "TimeoutException unhandled by the code, do I need a try catch when using Polly?", "body": "<p>Polly works so that repeated operations if an error occurs, but only a certain number of times. If the error occurs more times Polly throws it.</p>\n\n<p>If you want to repeat it until when it is not thrown expetion then use RetryForever.</p>\n\n<p>Usually I use Polly with a try catch - like here:</p>\n\n<pre><code>    try\n    {\n        return\n            await\n            Policy.Handle&lt;MongoConnectionException&gt;()\n                  .RetryAsync(3,\n                      (exception, i) =&gt;\n                          {\n                              logger.Warn(exception,\n                                  string.Format(\"Mongo Connection Exception - Retry Count : {0}\", i));\n                          })\n                  .ExecuteAsync(async () =&gt; await operation());\n    }\n    catch (MongoConnectionException ex)\n    {\n        logger.Error(ex);\n        return null;\n    }\n</code></pre>\n"}], "owner": {"reputation": 879, "user_id": 2197446, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/957aee5df82459e40c5a81949a3558bf?s=128&d=identicon&r=PG", "display_name": "user2197446", "link": "https://stackoverflow.com/users/2197446/user2197446"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1085, "favorite_count": 0, "accepted_answer_id": 33135417, "answer_count": 1, "score": 1, "last_activity_date": 1444856111, "creation_date": 1444855377, "question_id": 33135215, "link": "https://stackoverflow.com/questions/33135215/timeoutexception-unhandled-by-the-code-do-i-need-a-try-catch-when-using-polly", "title": "TimeoutException unhandled by the code, do I need a try catch when using Polly?", "body": "<p>I've been working with a remote web service over an unreliably and/or slow VPN that brought to light a point of failure in my code when I call a web service I will get timeout exceptions.  I did a little googling and found Polly and seemed to be exactly what I needed, but I'm still getting an unhandled TimeoutException and would like to know what I'm doing wrong and how to update the code so that the TimeoutException is handled, preferably using Polly.</p>\n\n<pre><code>        var networkPolicy = Policy\n              .Handle&lt;TimeoutException&gt;()\n              .Or&lt;CommunicationException&gt;()\n              .WaitAndRetry(\n                   5,\n                   retryAttempt =&gt; TimeSpan.FromSeconds(Math.Pow(2, retryAttempt)),\n                   (exception, timeSpan, context) =&gt;\n                   {\n                        System.Diagnostics.Debug.WriteLine(\"Exception being retried\" + exception );\n                   });\n        // The following line is giving me the exception.\n        response = networkPolicy.Execute(() =&gt; soapClient.WebServiceFunction(request));\n</code></pre>\n\n<p>I'd also like to know if it is best practice to define the policy as a static readonly variable?</p>\n"}, {"tags": ["c#", ".net", "image", "winforms", "picturebox"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1444855404, "post_id": 33135176, "comment_id": 54082053, "body": "Set movingPoint back to Point.Empy and invalidate the PictureBox again."}, {"owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1444855732, "post_id": 33135176, "comment_id": 54082214, "body": "This didn&#39;t set the image back to its default location"}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1444855821, "post_id": 33135176, "comment_id": 54082258, "body": "What is the default location supposed to be?"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 1, "creation_date": 1444855916, "post_id": 33135176, "comment_id": 54082315, "body": "@taji01 if initial state of your program is ok, so  <code>movingPoint =Point.Empty</code> should do the trick"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1444856522, "post_id": 33135176, "comment_id": 54082640, "body": "@taji01 off-topic but its better to use more clean names for event handlers for example use <code>pictureBox1_MouseMove</code> instead of <code>pictureBox1_MouseMove_1</code> Also, It&#39;s better to use a custom control or custom inherited picturebox to do such panning and draw the image flicker free, You should also consider scroll bars and .... A good sample to start working with GDI+ but you should learn more :)"}], "answers": [{"tags": [], "owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "is_accepted": true, "score": 1, "last_activity_date": 1444856295, "creation_date": 1444856295, "answer_id": 33135464, "question_id": 33135176, "link": "https://stackoverflow.com/questions/33135176/re-position-picturebox-to-its-default-position-c/33135464#33135464", "title": "Re-position Picturebox to its Default Position C#", "body": "<p>If initial state of your program is ok, so <code>movingPoint = Point.Empty</code> should do the trick. Also you should call  <code>pictureBox1.Invalidate()</code> to repaint the picturebox:</p>\n\n<pre><code>private void yourButton_Click(object sender, EventArgs e)\n{\n    movingPoint = Point.Empty;\n    pictureBox1.Invalidate();\n}\n</code></pre>\n"}], "owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 551, "favorite_count": 0, "accepted_answer_id": 33135464, "answer_count": 1, "score": 0, "last_activity_date": 1444856295, "creation_date": 1444855223, "question_id": 33135176, "link": "https://stackoverflow.com/questions/33135176/re-position-picturebox-to-its-default-position-c", "title": "Re-position Picturebox to its Default Position C#", "body": "<p>I'm using WinForms. In my WinForms application I have a picture box. I have a image in the picturebox. This code enables me to move the image around within the picturebox. How do i re-position the image back to its default location on a button click event?</p>\n\n<pre><code>    private Point startingPoint = Point.Empty;\n    private Point movingPoint = Point.Empty;\n    private bool panning = false;\n\n    private void pictureBox1_MouseDown_1(object sender, MouseEventArgs e)\n    {\n        if (On_Radio.Checked == true)\n        {\n\n            panning = true;\n            startingPoint = new Point(e.Location.X - movingPoint.X,\n                                      e.Location.Y - movingPoint.Y);\n        }\n\n    }\n\n\n\n    private void pictureBox1_MouseMove_1(object sender, MouseEventArgs e)\n    {\n        if (panning)\n        {\n            movingPoint = new Point(e.Location.X - startingPoint.X,\n                                    e.Location.Y - startingPoint.Y);\n            pictureBox1.Invalidate();\n        }\n    }\n\n    private void pictureBox1_MouseUp(object sender, MouseEventArgs e)\n    {\n        panning = false;\n    }\n\n    private void pictureBox1_Paint_1(object sender, PaintEventArgs e)\n    {\n\n        e.Graphics.Clear(Color.White);\n        e.Graphics.DrawImage(pictureBox1.Image, movingPoint);         \n    }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml", "panning"], "comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1444875952, "post_id": 33135170, "comment_id": 54088720, "body": "<i>&quot;In order to keep this post as short as possible&quot;</i> -- too late. :)  Seriously though, a good Stack Overflow question will include <a href=\"https://stackoverflow.com/help/mcve\">a good, <i>minimal</i>, <i>complete</i> code example</a> that clearly illustrates the question, along with a <i>concise</i> description of the <i>specific</i> problem at hand. There is a lot in your narrative as well as the code that almost certainly is not required reading in order to solve the specific problem you need help with."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1444875956, "post_id": 33135170, "comment_id": 54088722, "body": "Probably all you need to do is put your content in a <code>Grid</code>, which in turn is contained in a <code>ScrollViewer</code>. But with such a broadly stated question, it&#39;s impossible to know for sure."}, {"owner": {"reputation": 2649, "user_id": 2676466, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/007ab41281383bfb25127ec89aad8a7f?s=128&d=identicon&r=PG&f=1", "display_name": "AlwaysLearningNewStuff", "link": "https://stackoverflow.com/users/2676466/alwayslearningnewstuff"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 1, "creation_date": 1444880600, "post_id": 33135170, "comment_id": 54089881, "body": "@PeterDuniho: I do not understand what is so unclear/broad about my post. I have image exported from SVG into XAML (which is <i>a huge</i> Canvas). I want to show that image inside simple window. It can&#39;t fit so I have decided to implement panning. Since I will add zooming <i>around center</i> later, I have edited Canvas&#39; RenderTransformOrigin to <code>0.5 , 0.5</code>. Canvas is then placed inside Viewbox, and that viewbox is the Content of the main window. I want to limit panning so image doesn&#39;t get moved out of the window, leaving it blank . Full XAML and code behind are linked at the very bottom of the post."}], "answers": [{"comments": [{"owner": {"reputation": 2649, "user_id": 2676466, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/007ab41281383bfb25127ec89aad8a7f?s=128&d=identicon&r=PG&f=1", "display_name": "AlwaysLearningNewStuff", "link": "https://stackoverflow.com/users/2676466/alwayslearningnewstuff"}, "edited": false, "score": 0, "creation_date": 1444926007, "post_id": 33139900, "comment_id": 54116571, "body": "After fighting the problem for the whole night, I have found out that my math has been screwed by moving the RenderTransformOrigin to <code>0.5 , 0.5</code> so that is the culprit. I haven&#39;t tested your solution yet, but I have visited link and watched those graphs briefly. It seems that when you do your zoom stuff, RenderTransformOrigin is left as default. Can you change it to <code>0.5 , 0.5</code> and confirm that your answer works in that case too? The reason why I ask this is because I have working math for default RenderTransformOrigin."}], "tags": [], "owner": {"reputation": 6302, "user_id": 2979430, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/CXpGy.jpg?s=128&g=1", "display_name": "bto.rdz", "link": "https://stackoverflow.com/users/2979430/bto-rdz"}, "is_accepted": false, "score": 1, "last_activity_date": 1444883910, "last_edit_date": 1444883910, "creation_date": 1444883196, "answer_id": 33139900, "question_id": 33135170, "link": "https://stackoverflow.com/questions/33135170/limit-panning-amount-in-order-to-prevent-image-from-wandering-off-of-the-window/33139900#33139900", "title": "Limit panning amount in order to prevent image from wandering off of the window", "body": "<p>I really didnt read the full question (I think no one will), but here is the code I use in a charting libary to limit panning. This is the math. now addapt it to you case. <strong>Tip:</strong> next time type only relevant code so we can provide a better answer.</p>\n\n<p>I Call this method when panning ends (mouse up event in my case)</p>\n\n<p>If it helps this is the libary (<a href=\"https://github.com/beto-rodriguez/Live-Charts\" rel=\"nofollow\">https://github.com/beto-rodriguez/Live-Charts</a>) maybe you it can help you too see the source code. Relax I think you are making it much harder than what it is.</p>\n\n<pre><code>    private void PreventGraphToBeVisible()\n    {\n        var tt = Canvas.RenderTransform as TranslateTransform;\n        if (tt == null) return;\n        var eX = tt.X;\n        var eY = tt.Y;\n        var xOverflow = -tt.X + ActualWidth - Canvas.Width;\n        var yOverflow = -tt.Y + ActualHeight - Canvas.Height;\n\n        if (eX &gt; 0)\n        {\n            tt.X = 0;\n        }\n\n        if (eY &gt; 0)\n        {\n            tt.Y = 0;\n        }\n\n        if (xOverflow &gt; 0)\n        {\n            tt.X = tt.X + xOverflow;\n        }\n\n        if (yOverflow &gt; 0)\n        {\n            tt.Y = tt.Y + yOverflow;\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 768, "user_id": 5276494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/0nBJH.png?s=128&g=1", "display_name": "Logan", "link": "https://stackoverflow.com/users/5276494/logan"}, "is_accepted": false, "score": 1, "last_activity_date": 1445253766, "creation_date": 1445253766, "answer_id": 33213128, "question_id": 33135170, "link": "https://stackoverflow.com/questions/33135170/limit-panning-amount-in-order-to-prevent-image-from-wandering-off-of-the-window/33213128#33213128", "title": "Limit panning amount in order to prevent image from wandering off of the window", "body": "<p>It sounds criminally simple, but if your goal is to stop your vector from clipping outside of the space assigned to it, why don't you just change the <code>Stretch=\"UniformToFill\"</code> of your Viewbox to <code>Stretch=\"Uniform\"</code>?</p>\n"}], "owner": {"reputation": 2649, "user_id": 2676466, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/007ab41281383bfb25127ec89aad8a7f?s=128&d=identicon&r=PG&f=1", "display_name": "AlwaysLearningNewStuff", "link": "https://stackoverflow.com/users/2676466/alwayslearningnewstuff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 946, "favorite_count": 0, "answer_count": 2, "score": 8, "last_activity_date": 1445253766, "creation_date": 1444855187, "last_edit_date": 1444882376, "question_id": 33135170, "link": "https://stackoverflow.com/questions/33135170/limit-panning-amount-in-order-to-prevent-image-from-wandering-off-of-the-window", "title": "Limit panning amount in order to prevent image from wandering off of the window", "body": "<h2>INTRODUCTION:</h2>\n\n<p>I have exported <code>SVG</code> as <code>XAML</code>, and it turned into Canvas with enormous amount of Paths. </p>\n\n<p>After making that Canvas main content of the simple, autogenerated window, image was clipped since it was bigger than main window's client rectangle. </p>\n\n<p>I have solved this problem by implementing panning.  </p>\n\n<p>Since I plan on fiddling with the zooming later, I have added dummy <code>ScaleTransform</code> in the <code>XAML</code> of the Canvas and have changed its RenderTransformOrigin to <code>0.5 , 0.5</code> (so I can zoom image around its center).</p>\n\n<p>I wanted image to be centered when window is loaded, so I placed that Canvas inside Viewbox, which seems to work just fine, after adjusting few properties.</p>\n\n<h2>PROBLEM:</h2>\n\n<p>Since I have changed the RenderTransformOrigin of the Canvas, I am unable to figure out math that will enable me to limit panning amount.</p>\n\n<p>Even though the Viewbox is the content of the main window, I can not get dimensions of main window's client area (Viewbox resizes to fit its content). This makes my task even more difficult.</p>\n\n<h2>MY EFFORTS TO SOLVE THIS:</h2>\n\n<p>There seems no other way to get main window's client rectangle, except with the usage of <code>P/Invoke</code> and <code>GetClientRect</code> WinAPI call. </p>\n\n<p>There was another hack with querying SystemParametersInfo for nonclient metrics such as borders and titlebar, but that is <strong>an estimation</strong> that might fail due to applied themes and similar.</p>\n\n<p>I haven't tried to use <code>P/Invoke</code> because I simply refuse to do so at the moment. There has to be better solution than this! That path should be my last choice, and the one I will make out of pure desperation.</p>\n\n<p>I have tried to find alternative approach on my own but failed. </p>\n\n<p>I have tried to use <code>TransformToAncestor(...).Transformtobounds(..)</code> for my calculations but that failed too.</p>\n\n<h2>QUESTION:</h2>\n\n<p>How to limit panning so image does not disappear from the main window when user drags too much? </p>\n\n<p>I will accept alternative solutions. Code that was submitted was a try of an inexperienced, self taught beginner, so i accept constructive critique and advice.</p>\n\n<h2>RELEVANT INFORMATION:</h2>\n\n<p>In order to keep this post as short as possible, I am giving only relevant XAML and \"code behind\" snippets below. </p>\n\n<p>Full code is pasted on Pastebin, and can be found at the very bottom of this post. </p>\n\n<p>Relevant XAML snippets:</p>\n\n<pre><code>&lt;Window  x:Class=\"TestZaMapu.MainWindow\" \n        Name=\"GlavniProzor\" \n        WindowStartupLocation=\"CenterScreen\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        Title=\"MainWindow\" \n        Height=\"350\" \n        Width=\"525\" \n        MouseLeftButtonDown=\"GlavniProzor_MouseLeftButtonDown\" \n        MouseLeftButtonUp=\"GlavniProzor_MouseLeftButtonUp\" \n        MouseMove=\"GlavniProzor_MouseMove\" \n        LostMouseCapture=\"GlavniProzor_LostMouseCapture\"&gt;\n    &lt;Viewbox \n        Name=\"surface\"\n        Stretch=\"UniformToFill\" \n        HorizontalAlignment=\"Center\"\n        VerticalAlignment=\"Center\"&gt;\n        &lt;Canvas xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\" \n                Background=\"Blue\" \n                x:Name=\"svg4306\" \n                Width=\"494.44705\" \n                Height=\"510.55356\"\n                &lt;!-- needed in the future, for zooming around center--&gt;\n                RenderTransformOrigin=\"0.5, 0.5\"&gt;\n            &lt;!--Unknown tag: metadata--&gt;\n            &lt;Canvas.RenderTransform&gt;\n                &lt;TransformGroup&gt;\n                    &lt;!-- I intend to experiment with scaling in the future, so I added the below part --&gt;\n                    &lt;ScaleTransform ScaleX=\"1\" ScaleY=\"1\"/&gt;\n                    &lt;!-- I have used dependency properties for translation --&gt;\n                    &lt;TranslateTransform X=\"{Binding TranslationFactorX, ElementName=GlavniProzor, Mode=TwoWay}\" Y=\"{Binding TranslationFactorY, ElementName=GlavniProzor, Mode=TwoWay}\"/&gt;\n                &lt;/TransformGroup&gt;\n            &lt;/Canvas.RenderTransform&gt;\n        &lt;!-- Bunch of Path objects, omitted for brevity--&gt;\n        &lt;/Canvas&gt;\n    &lt;/Viewbox&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>Relevant Code behind snippets:</p>\n\n<pre><code>namespace TestZaMapu\n{\n    /// &lt;summary&gt;\n    /// Interaction logic for MainWindow.xaml\n    /// &lt;/summary&gt;\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n\n            TranslationFactorX = 0;\n            TranslationFactorY = 0;\n            isPanning = false;\n\n        }\n\n        // panning variables\n        private Point ptOldPosition;\n        private bool isPanning ;\n\n        // dependency properties for translation along X and Y axes\n\n        public static readonly DependencyProperty TranslateX =\n            DependencyProperty.Register(\"TranslationFactorX\", typeof(double), typeof(MainWindow));\n\n        public static readonly DependencyProperty TranslateY =\n            DependencyProperty.Register(\"TranslationFactorY\", typeof(double), typeof(MainWindow));\n\n        public double TranslationFactorX\n        {\n            get { return (double)GetValue(TranslateX); }\n            set { SetValue(TranslateX, value); }\n        }\n\n        public double TranslationFactorY\n        {\n            get { return (double)GetValue(TranslateY); }\n            set { SetValue(TranslateY, value); }\n        }\n\n        // mouse event handlers for panning\n\n        private void GlavniProzor_MouseLeftButtonDown(object sender, MouseButtonEventArgs e)\n        {\n            base.OnMouseLeftButtonDown(e);\n            if (isPanning )\n                return;\n            isPanning = this.CaptureMouse(); \n            ptOldPosition = e.GetPosition(this);\n        }\n\n        private void GlavniProzor_MouseLeftButtonUp(object sender, MouseButtonEventArgs e)\n        {\n            base.OnMouseLeftButtonUp(e);\n\n            if (this.IsMouseCaptured)\n            {\n                this.ReleaseMouseCapture();\n                isPanning = false;\n            }\n        }\n\n        private void GlavniProzor_MouseMove(object sender, MouseEventArgs e)\n        {\n            base.OnMouseMove(e);\n\n            if (isPanning )\n            {\n                Point ptNewPosition = e.GetPosition(this);\n\n                if (ptNewPosition != ptOldPosition)\n                {\n                    Vector direction = ptOldPosition - ptNewPosition;\n\n                    direction.X = TranslationFactorX - direction.X;\n                    direction.Y = TranslationFactorY - direction.Y;\n\n                    TranslationFactorX = direction.X;\n                    TranslationFactorY = direction.Y;\n\n                    ptOldPosition = ptNewPosition;\n                }\n            }\n        }\n\n        private void GlavniProzor_LostMouseCapture(object sender, MouseEventArgs e)\n        {\n            isPanning = false;\n            this.OnLostMouseCapture(e);\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"http://pastebin.com/yU5gtyiK\" rel=\"noreferrer\">Here</a> is the full XAML, and <a href=\"http://pastebin.com/schmYh9i\" rel=\"noreferrer\">here</a> is full \"code behind\".</p>\n"}, {"tags": ["c#", "visual-studio", "serial-port"], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 5507014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ea773d2a9472aa058b5a7b7960e3b61?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim Pavlovich", "link": "https://stackoverflow.com/users/5507014/vadim-pavlovich"}, "is_accepted": false, "score": 0, "last_activity_date": 1446209403, "creation_date": 1446209403, "answer_id": 33436408, "question_id": 33135160, "link": "https://stackoverflow.com/questions/33135160/visual-studio-serial-port-readchar/33436408#33436408", "title": "Visual Studio # Serial Port ReadChar()", "body": "<p>This happend, because you read only one character for message. If you need read a text from serial port use <code>ReadExisting</code>. Simple example:</p>\n\n<pre><code>public void serialPort1_DataReceived(object sender, System.IO.Ports.SerialDataReceivedEventArgs e)\n{\n    string recievedtext = serialPort1.ReadExisting();\n}\n</code></pre>\n\n<p>See <a href=\"https://msdn.microsoft.com/en-us/library/system.io.ports.serialport.readexisting(v=vs.110).aspx\" rel=\"nofollow\">MSDN</a> for details.</p>\n\n<p>If you need only a characters you can write something like this:</p>\n\n<pre><code>var mychararray = recievedtext.ToCharArray();\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5446853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82baf44723d10611d8a363fa0f65f6bf?s=128&d=identicon&r=PG&f=1", "display_name": "Krystian Jagoda", "link": "https://stackoverflow.com/users/5446853/krystian-jagoda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1745, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1446209403, "creation_date": 1444855144, "last_edit_date": 1444918933, "question_id": 33135160, "link": "https://stackoverflow.com/questions/33135160/visual-studio-serial-port-readchar", "title": "Visual Studio # Serial Port ReadChar()", "body": "<p>I'm doing simple COM port read application. Below is my DataReceive event code. The problem is: When I send more characters on COM port using Terminal, for example \"TEST\" it only reads first two characters, and the Counter increments only by 2. This happens all the time no metter how long the received data is.\nAny ideas whats wrong?\nThank You!</p>\n\n<pre><code>        public void serialPort1_DataReceived(object sender, System.IO.Ports.SerialDataReceivedEventArgs e)\n    {\n        GlobalVariable.ReceivedCharacter =  serialPort1.ReadChar();\n        GlobalVariable.Counter = GlobalVariable.Counter + 1;\n    }\n</code></pre>\n"}, {"tags": ["c#", "sql", "oledb"], "comments": [{"owner": {"reputation": 15290, "user_id": 3393505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/76db1f36ad7e50bb7dea1e04ea3e03ad?s=128&d=identicon&r=PG&f=1", "display_name": "Siyual", "link": "https://stackoverflow.com/users/3393505/siyual"}, "edited": false, "score": 0, "creation_date": 1444855188, "post_id": 33135153, "comment_id": 54081934, "body": "What result do you get when you run the query directly on the database?"}, {"owner": {"reputation": 1312, "user_id": 4453976, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh6.googleusercontent.com/-nMtiRMAuPDU/AAAAAAAAAAI/AAAAAAAAABI/uGCpa1yGf5M/photo.jpg?sz=128", "display_name": "V&#237;tor Martins", "link": "https://stackoverflow.com/users/4453976/v%c3%adtor-martins"}, "reply_to_user": {"reputation": 15290, "user_id": 3393505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/76db1f36ad7e50bb7dea1e04ea3e03ad?s=128&d=identicon&r=PG&f=1", "display_name": "Siyual", "link": "https://stackoverflow.com/users/3393505/siyual"}, "edited": false, "score": 0, "creation_date": 1444855275, "post_id": 33135153, "comment_id": 54081973, "body": "For several reasons I cannot run the query directly on the database sorry @Siyual But when I use the same process to search by <code>id</code> with <code>id=10001</code> I get a record"}, {"owner": {"reputation": 33608, "user_id": 1651298, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/sy8Lv.jpg?s=128&g=1", "display_name": "Giorgi Nakeuri", "link": "https://stackoverflow.com/users/1651298/giorgi-nakeuri"}, "edited": false, "score": 1, "creation_date": 1444855344, "post_id": 33135153, "comment_id": 54082019, "body": "Then how do you know there are ids greater then 10000?"}, {"owner": {"reputation": 1312, "user_id": 4453976, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh6.googleusercontent.com/-nMtiRMAuPDU/AAAAAAAAAAI/AAAAAAAAABI/uGCpa1yGf5M/photo.jpg?sz=128", "display_name": "V&#237;tor Martins", "link": "https://stackoverflow.com/users/4453976/v%c3%adtor-martins"}, "reply_to_user": {"reputation": 33608, "user_id": 1651298, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/sy8Lv.jpg?s=128&g=1", "display_name": "Giorgi Nakeuri", "link": "https://stackoverflow.com/users/1651298/giorgi-nakeuri"}, "edited": false, "score": 0, "creation_date": 1444855688, "post_id": 33135153, "comment_id": 54082191, "body": "@GiorgiNakeuri If I query <code>SELECT * FROM tercli WHERE id=10001</code> I get a record so it exists."}], "answers": [{"comments": [{"owner": {"reputation": 1312, "user_id": 4453976, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh6.googleusercontent.com/-nMtiRMAuPDU/AAAAAAAAAAI/AAAAAAAAABI/uGCpa1yGf5M/photo.jpg?sz=128", "display_name": "V&#237;tor Martins", "link": "https://stackoverflow.com/users/4453976/v%c3%adtor-martins"}, "edited": false, "score": 0, "creation_date": 1444860197, "post_id": 33136307, "comment_id": 54084304, "body": "Yes you&#39;re right, the Data Type is <code>OleDbType.Char</code>, but how can I still get the highest value? i.e. the highest number?"}, {"owner": {"reputation": 13828, "user_id": 4588915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CTCr8.png?s=128&g=1", "display_name": "Jakub Lortz", "link": "https://stackoverflow.com/users/4588915/jakub-lortz"}, "reply_to_user": {"reputation": 1312, "user_id": 4453976, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh6.googleusercontent.com/-nMtiRMAuPDU/AAAAAAAAAAI/AAAAAAAAABI/uGCpa1yGf5M/photo.jpg?sz=128", "display_name": "V&#237;tor Martins", "link": "https://stackoverflow.com/users/4453976/v%c3%adtor-martins"}, "edited": false, "score": 0, "creation_date": 1444860577, "post_id": 33136307, "comment_id": 54084454, "body": "@V&#237;torMartins You can cast it to int: <code>select max(cast (id as int)) ...</code>, although it won&#39;t be very efficient. If it&#39;s possible, change the column type to int."}], "tags": [], "owner": {"reputation": 13828, "user_id": 4588915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CTCr8.png?s=128&g=1", "display_name": "Jakub Lortz", "link": "https://stackoverflow.com/users/4588915/jakub-lortz"}, "is_accepted": true, "score": 4, "last_activity_date": 1444860873, "last_edit_date": 1444860873, "creation_date": 1444859855, "answer_id": 33136307, "question_id": 33135153, "link": "https://stackoverflow.com/questions/33135153/oledb-select-top-1-max-only-returning-4-digits/33136307#33136307", "title": "OLEDB SELECT TOP 1 / MAX() only returning 4 digits", "body": "<p>The data type of your <code>id</code> column is not <code>int</code>. It's probably a <code>varchar</code> column containing numbers. When you sort it, it's sorted in lexical order, not numeric.</p>\n\n<p>To get the results you expect you can cast it to <code>int</code> (it won't be able to use index seek, so it will not be very efficient)</p>\n\n<pre><code>select max(cast (id as int)) ...\n</code></pre>\n\n<p>If it's possible, you should change the column type to <code>int</code>.</p>\n"}], "owner": {"reputation": 1312, "user_id": 4453976, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh6.googleusercontent.com/-nMtiRMAuPDU/AAAAAAAAAAI/AAAAAAAAABI/uGCpa1yGf5M/photo.jpg?sz=128", "display_name": "V&#237;tor Martins", "link": "https://stackoverflow.com/users/4453976/v%c3%adtor-martins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1467, "favorite_count": 0, "accepted_answer_id": 33136307, "answer_count": 1, "score": 0, "last_activity_date": 1444860873, "creation_date": 1444855119, "question_id": 33135153, "link": "https://stackoverflow.com/questions/33135153/oledb-select-top-1-max-only-returning-4-digits", "title": "OLEDB SELECT TOP 1 / MAX() only returning 4 digits", "body": "<p>Guys I'm doing a query to DB using <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms722784(v=vs.85).aspx\" rel=\"nofollow\">OLEDB</a> with the following <a href=\"https://msdn.microsoft.com/en-us/library/system.data.oledb.oledbcommand(v=vs.110).aspx\" rel=\"nofollow\">Command</a>:</p>\n\n<pre><code>OleDbCommand maxCommand = new OleDbCommand(\"SELECT TOP 1 id AS maxId FROM `tableName` ORDER BY id DESC\", AppConstants.OLEDBCONNECTION);\n</code></pre>\n\n<p>And then printing the result:</p>\n\n<pre><code>maxCommand.CommandType = CommandType.Text;\nOleDbDataReader reader = maxCommand.ExecuteReader();\nreader.Read();\nInt64 maxId = Int64.Parse(reader[\"maxId\"].ToString()) + 1;\n</code></pre>\n\n<p>The thing is I've tried using <code>MAX()</code> and <code>TOP 1</code> but both of them are returning 9999, when I know there are more than 10000 <code>id</code> values.</p>\n\n<p>Help please, if you need any additional information please leave a comment.</p>\n"}, {"tags": ["c#", "visual-studio-2013", "resharper"], "answers": [{"tags": [], "owner": {"reputation": 269390, "user_id": 98713, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f4acdb91aba11ddf8f03d4b12453f3d5?s=128&d=identicon&r=PG", "display_name": "Thomas Levesque", "link": "https://stackoverflow.com/users/98713/thomas-levesque"}, "is_accepted": true, "score": 1, "last_activity_date": 1444857618, "creation_date": 1444857618, "answer_id": 33135776, "question_id": 33135122, "link": "https://stackoverflow.com/questions/33135122/unhighlight-visual-studio-code/33135776#33135776", "title": "Unhighlight Visual Studio Code", "body": "<p>This looks like dotCover's unit test coverage highlighting. You can disable it in the ReSharper menu: <em>Resharper > Cover > Toggle Code Highlighting</em></p>\n"}], "owner": {"reputation": 259, "user_id": 5438903, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/33c4a59d80735c4c45783b6d32e1a264?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/5438903/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 575, "favorite_count": 0, "accepted_answer_id": 33135776, "answer_count": 1, "score": 1, "last_activity_date": 1444857618, "creation_date": 1444855012, "last_edit_date": 1444857498, "question_id": 33135122, "link": "https://stackoverflow.com/questions/33135122/unhighlight-visual-studio-code", "title": "Unhighlight Visual Studio Code", "body": "<p>My code in visual studio has become highlighted, when I was testing how to comment a code selection with ctrl + K and ctrl + U</p>\n\n<p>I didn't manage to comment the code but I got this strange behaviour. Here is an image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JFdhH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JFdhH.png\" alt=\"enter image description here\"></a></p>\n\n<p>How do I get rid of the code highlighting? I have Resharper and .Net Reflector.</p>\n\n<p>The scope of the highlighting is my solution. Restarting VS does not fix it. Other solutions do not have highlighting.</p>\n"}, {"tags": ["c#", "multidimensional-array"], "comments": [{"owner": {"reputation": 637210, "user_id": 69083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0cdfd3fe268e270ec481a73046c2f?s=128&d=identicon&r=PG", "display_name": "Guffa", "link": "https://stackoverflow.com/users/69083/guffa"}, "edited": false, "score": 2, "creation_date": 1444855631, "post_id": 33135115, "comment_id": 54082164, "body": "Doing both those actions won&#39;t give that result, it will rotate the array 180 degrees, giving <code>[[9,8,7],[6,5,4],[3,2,1]]</code>. If you want that result you have to explain how you arrived at it, so that it can be expressed as an algorithm."}, {"owner": {"reputation": 5195, "user_id": 4005175, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/3N6Ze.jpg?s=128&g=1", "display_name": "Martin Heraleck&#253;", "link": "https://stackoverflow.com/users/4005175/martin-heraleck%c3%bd"}, "edited": false, "score": 2, "creation_date": 1444855753, "post_id": 33135115, "comment_id": 54082220, "body": "Isn&#39;t your output example wrong? Shouldn&#39;t 1 be on the right-bottom corner, 3 on left-bottom corner...?"}, {"owner": {"reputation": 215, "user_id": 1632705, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e2d614a5f8330c9efa110f3796fbac05?s=128&d=identicon&r=PG", "display_name": "Justin Tennant", "link": "https://stackoverflow.com/users/1632705/justin-tennant"}, "reply_to_user": {"reputation": 637210, "user_id": 69083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0cdfd3fe268e270ec481a73046c2f?s=128&d=identicon&r=PG", "display_name": "Guffa", "link": "https://stackoverflow.com/users/69083/guffa"}, "edited": false, "score": 0, "creation_date": 1444856090, "post_id": 33135115, "comment_id": 54082414, "body": "@Guffa :Sorry, I meant to say that I can do either or, combining the two still does not give me my desired results. and for Martin Heraleck&#253; : the example output is really what I want, but I may have described it wrong. I want the diagonals both to stay the same and flip everything else 180 degrees?"}, {"owner": {"reputation": 637210, "user_id": 69083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0cdfd3fe268e270ec481a73046c2f?s=128&d=identicon&r=PG", "display_name": "Guffa", "link": "https://stackoverflow.com/users/69083/guffa"}, "edited": false, "score": 0, "creation_date": 1444856405, "post_id": 33135115, "comment_id": 54082582, "body": "What would the result be if the with and height of the array wasn&#39;t an odd number?"}, {"owner": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "edited": false, "score": 0, "creation_date": 1444856598, "post_id": 33135115, "comment_id": 54082679, "body": "For example for the 5x5 array <code>{a b c d e} {f g h i j} {k l m n o} {p q r s t} {u v w x y}</code>, what happens to the four little triangles away from the diagonals? Are they reflected or turned?"}], "answers": [{"comments": [{"owner": {"reputation": 215, "user_id": 1632705, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e2d614a5f8330c9efa110f3796fbac05?s=128&d=identicon&r=PG", "display_name": "Justin Tennant", "link": "https://stackoverflow.com/users/1632705/justin-tennant"}, "edited": false, "score": 0, "creation_date": 1444860515, "post_id": 33135946, "comment_id": 54084428, "body": "Thanks! that is exactly what I wanted. Sorry for anyone else that had to try and make sense of my descriptions. I have poor word choice."}], "tags": [], "owner": {"reputation": 5195, "user_id": 4005175, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/3N6Ze.jpg?s=128&g=1", "display_name": "Martin Heraleck&#253;", "link": "https://stackoverflow.com/users/4005175/martin-heraleck%c3%bd"}, "is_accepted": true, "score": 2, "last_activity_date": 1444858267, "creation_date": 1444858267, "answer_id": 33135946, "question_id": 33135115, "link": "https://stackoverflow.com/questions/33135115/flipping-an-array-by-both-diagonals/33135946#33135946", "title": "Flipping an array by both diagonals", "body": "<p>If I understand correctly, this code is what you want: (I used letters for beter readability.)</p>\n\n<pre><code>char[,] array =\n{\n    { 'A', 'B', 'C', 'D', 'E' },\n    { 'F', 'G', 'H', 'I', 'J' },\n    { 'K', 'L', 'M', 'N', 'O' },\n    { 'P', 'Q', 'R', 'S', 'T' },\n    { 'U', 'V', 'W', 'X', 'Y' },\n};\n\nchar[,] flippedArray = (char[,])array.Clone();\n\nfor (int row = 0; row &lt; 5; row++)\n{\n    for (int col = 0; col &lt; 5; col++)\n    {\n        // wheter this isn't diagonal\n        if (row != col &amp;&amp; row + col != 4)\n            flippedArray[row, col] = array[4 - row, 4 - col];\n    }\n}\n</code></pre>\n\n<p>It gives this output:</p>\n\n<pre><code>A X W V E\nT G R I P\nO N M L K\nJ Q H S F\nU D C B Y\n</code></pre>\n\n<p>Of course, replace those 5s and 4s with corresponding size of array.</p>\n"}], "owner": {"reputation": 215, "user_id": 1632705, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e2d614a5f8330c9efa110f3796fbac05?s=128&d=identicon&r=PG", "display_name": "Justin Tennant", "link": "https://stackoverflow.com/users/1632705/justin-tennant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 949, "favorite_count": 0, "accepted_answer_id": 33135946, "answer_count": 1, "score": 2, "last_activity_date": 1444858267, "creation_date": 1444854978, "question_id": 33135115, "link": "https://stackoverflow.com/questions/33135115/flipping-an-array-by-both-diagonals", "title": "Flipping an array by both diagonals", "body": "<p>I am looking to figure out how to flip an array by both of its diagonals by passing it into a method. I've got it so I can flip it by each diagonal on its own, but I can't work out how to get it to do both in one go.</p>\n\n<p>Here is the array flipped by its main diagonal:</p>\n\n<pre><code>static int[,] flipDiag(int[,] originArray, int size)\n{\n    int[,] flippedArray = new int [size, size];\n\n\n    for (int row = 0; row &lt; size; row++)\n    {\n        for (int col = 0; col &lt; size; col++)\n        {\n            flippedArray[row, col] = originArray[col, row];\n        } \n    }\n\n    return flippedArray;\n}\n</code></pre>\n\n<p>And here is the loop that flips it by the other diagonal:</p>\n\n<pre><code>for (int row = 0; row &lt; size; row++)\n{\n    for (int col = 0; col &lt; size; col++)\n    {\n        flippedArray[row, col] = originArray[(size-1) - col, (size-1) - row];\n    } \n}\n</code></pre>\n\n<p>Is there a way to do both of these actions so that an array structured like:</p>\n\n<pre><code>1 2 3\n4 5 6\n7 8 9\n</code></pre>\n\n<p>would output to:</p>\n\n<pre><code>1 8 3\n6 5 4\n7 2 9\n</code></pre>\n\n<p>If so, would it have to be done with some form of temp variable or temp array using two seperate loops?</p>\n"}, {"tags": ["c#", "itextsharp", "pdfptable"], "comments": [{"owner": {"reputation": 47502, "user_id": 231316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VfU5E.jpg?s=128&g=1", "display_name": "Chris Haas", "link": "https://stackoverflow.com/users/231316/chris-haas"}, "edited": false, "score": 3, "creation_date": 1444855651, "post_id": 33134927, "comment_id": 54082172, "body": "See the <a href=\"http://stackoverflow.com/a/7601244/231316\">long post here</a> for a method for calculating a table&#39;s height."}, {"owner": {"reputation": 352, "user_id": 4835627, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153337036588783/picture?type=large", "display_name": "Austin Donley", "link": "https://stackoverflow.com/users/4835627/austin-donley"}, "reply_to_user": {"reputation": 47502, "user_id": 231316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VfU5E.jpg?s=128&g=1", "display_name": "Chris Haas", "link": "https://stackoverflow.com/users/231316/chris-haas"}, "edited": false, "score": 0, "creation_date": 1444856209, "post_id": 33134927, "comment_id": 54082469, "body": "That makes sense, that the table needs to be rendered before the height is able to be calculated. Thanks for your help. Your CalculatePdfPTableHeight() function is incredibly useful. Post that code as an answer for your internet points!"}], "answers": [{"tags": [], "owner": {"reputation": 47502, "user_id": 231316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VfU5E.jpg?s=128&g=1", "display_name": "Chris Haas", "link": "https://stackoverflow.com/users/231316/chris-haas"}, "is_accepted": true, "score": 3, "last_activity_date": 1444913620, "last_edit_date": 1495542595, "creation_date": 1444913620, "answer_id": 33149123, "question_id": 33134927, "link": "https://stackoverflow.com/questions/33134927/using-itextsharp-pdfptable-table-totalheight-returns-0-0-but-expecting-a-posit/33149123#33149123", "title": "Using ItextSharp PdfPTable, table.TotalHeight returns 0.0, but expecting a positive float value", "body": "<p>Unless you are using absolute values the height of a table cannot be known until you render it. Although frustrating at first, it starts to make sense once you start thinking about it. Also, tables can be nested within other things which is why you also need to use fixed widths instead of relative ones.</p>\n\n<p>Knowing that you can use the helper method from <a href=\"https://stackoverflow.com/a/7601244/231316\">this post</a> to calculate the height of a table assuming you've previously fixed the table's column's widths. This code creates a quick temporary in-memory document, renders the table to it and then returns the table's rendered height.</p>\n\n<pre><code>public static float CalculatePdfPTableHeight(PdfPTable table)\n{\n    using (MemoryStream ms = new MemoryStream())\n    {\n        using (Document doc = new Document(PageSize.TABLOID))\n        {\n            using (PdfWriter w = PdfWriter.GetInstance(doc, ms))\n            {\n                doc.Open();\n\n                table.WriteSelectedRows(0, table.Rows.Count, 0, 0, w.DirectContent);\n\n                doc.Close();\n                return table.TotalHeight;\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 5610621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Wbkd.png?s=128&g=1", "display_name": "Bald", "link": "https://stackoverflow.com/users/5610621/bald"}, "is_accepted": false, "score": 1, "last_activity_date": 1498119300, "creation_date": 1498119300, "answer_id": 44693830, "question_id": 33134927, "link": "https://stackoverflow.com/questions/33134927/using-itextsharp-pdfptable-table-totalheight-returns-0-0-but-expecting-a-posit/44693830#44693830", "title": "Using ItextSharp PdfPTable, table.TotalHeight returns 0.0, but expecting a positive float value", "body": "<p>i could get height of table without adding in document, if wrap the table in the cell, then you can use <code>GetMaxHeight()</code></p>\n\n<pre><code>foreach (PdfPTable table in list)\n{\n    var tableHeight = new PdfPCell(table).GetMaxHeight();\n}\n</code></pre>\n"}], "owner": {"reputation": 352, "user_id": 4835627, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153337036588783/picture?type=large", "display_name": "Austin Donley", "link": "https://stackoverflow.com/users/4835627/austin-donley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1238, "favorite_count": 0, "accepted_answer_id": 33149123, "answer_count": 2, "score": 3, "last_activity_date": 1498119300, "creation_date": 1444854303, "question_id": 33134927, "link": "https://stackoverflow.com/questions/33134927/using-itextsharp-pdfptable-table-totalheight-returns-0-0-but-expecting-a-posit", "title": "Using ItextSharp PdfPTable, table.TotalHeight returns 0.0, but expecting a positive float value", "body": "<p>I'm using ItextSharp to create a PDF document with multiple PdfPTables. I group multiple PdfPTables using a list, and the list is created in a function and returned as a list. I then take the list and loop through it to add each PdfPTable to the document. </p>\n\n<p>In the case that the next PdfPTable in the list is larger than the remaining space on the document I want to add a new page. </p>\n\n<p>Using a breakpoint, I've noticed that \"table.TotalHeight\" always returns 0, when I expect it to return a positive float value. I might be misunderstanding the way table.TotalHeight works, but to my understanding it should return the total height of the individual table.</p>\n\n<pre><code>for (count1 = 0; count1 &lt; testQuote.Count + 1; count1++)\n            {                \n                var list = BuildDetail(testQuote, count1);\n                foreach (PdfPTable table in list)\n                {\n                    if (table.TotalHeight &gt; (writer.GetVerticalPosition(false) - doc.BottomMargin))\n                    {\n                        doc.Add(new Paragraph(\"Quote continues on next page\"));\n                        doc.NewPage();\n                    }\n                    doc.Add(new Paragraph(\" \"));\n                    doc.Add(table);\n            }\n</code></pre>\n"}, {"tags": ["c#", ".net", "unit-testing", "testing", "rhino-mocks"], "comments": [{"owner": {"reputation": 4893, "user_id": 194709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oTCwx.png?s=128&g=1", "display_name": "Chris O", "link": "https://stackoverflow.com/users/194709/chris-o"}, "edited": false, "score": 0, "creation_date": 1444861138, "post_id": 33134862, "comment_id": 54084669, "body": "It would be better to refactor the test and / or code so that the test doesn&#39;t have to work with actual threads.  Those are usually problematic in testing environments.  Or, you&#39;ll have to ensure that at the end of your tests, that 1) everything shuts down gracefully and 2) no threads are running after each test step."}, {"owner": {"reputation": 1658, "user_id": 2292615, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1138e8838bcbc306d9d63fe6091f22f9?s=128&d=identicon&r=PG&f=1", "display_name": "Osman Esen", "link": "https://stackoverflow.com/users/2292615/osman-esen"}, "reply_to_user": {"reputation": 4893, "user_id": 194709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oTCwx.png?s=128&g=1", "display_name": "Chris O", "link": "https://stackoverflow.com/users/194709/chris-o"}, "edited": false, "score": 0, "creation_date": 1444861303, "post_id": 33134862, "comment_id": 54084748, "body": "Sorry I didn&#39;t mention that I&#39;m using tasks instead of threads. Even though the class name is ReportGeneratorThread, is starts tasks using the Start() method."}, {"owner": {"reputation": 4893, "user_id": 194709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oTCwx.png?s=128&g=1", "display_name": "Chris O", "link": "https://stackoverflow.com/users/194709/chris-o"}, "edited": false, "score": 0, "creation_date": 1444861405, "post_id": 33134862, "comment_id": 54084782, "body": "Same difference, Tasks will get run on real threads from a thread pool, so the advice still applies."}, {"owner": {"reputation": 1658, "user_id": 2292615, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1138e8838bcbc306d9d63fe6091f22f9?s=128&d=identicon&r=PG&f=1", "display_name": "Osman Esen", "link": "https://stackoverflow.com/users/2292615/osman-esen"}, "reply_to_user": {"reputation": 4893, "user_id": 194709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oTCwx.png?s=128&g=1", "display_name": "Chris O", "link": "https://stackoverflow.com/users/194709/chris-o"}, "edited": false, "score": 0, "creation_date": 1444861495, "post_id": 33134862, "comment_id": 54084817, "body": "I think the issue might be that the reportGeneratorThread.Start() method is called by a task instead of the main thread ?."}, {"owner": {"reputation": 8171, "user_id": 4332059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xs05E.png?s=128&g=1", "display_name": "Old Fox", "link": "https://stackoverflow.com/users/4332059/old-fox"}, "edited": false, "score": 0, "creation_date": 1444900772, "post_id": 33134862, "comment_id": 54098873, "body": "@OsmanEsen you use <code>Expect.Call</code> on a non mock method. This is the problem... (<code>Expect.Call(() =&gt; this.reportGeneratorThread.Start());</code>)"}], "owner": {"reputation": 1658, "user_id": 2292615, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1138e8838bcbc306d9d63fe6091f22f9?s=128&d=identicon&r=PG&f=1", "display_name": "Osman Esen", "link": "https://stackoverflow.com/users/2292615/osman-esen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444861236, "creation_date": 1444854091, "last_edit_date": 1444861236, "question_id": 33134862, "link": "https://stackoverflow.com/questions/33134862/invalidoperationexception-with-unit-testing-using-rhino-mocks", "title": "InvalidOperationException with unit testing using Rhino Mocks", "body": "<p>I have implemented following unittest: </p>\n\n<pre><code>[Test]\npublic void ReportGeneratorOneThreadTest()\n{\n    var logger = this.mockRepository.StrictMock&lt;ILog&gt;();\n    var generator = this.mockRepository.StrictMock&lt;IReportGenerator&gt;();\n    this.manager = new ReportGeneratorManager(logger, new Guid(), 1, null);\n    this.reportGeneratorThread = new ReportGeneratorThread(\n        logger, generator, this.manager.CancellationTokenSource.Token,\n        this.manager.getPermission, this.manager.Action);\n    using (this.mockRepository.Record())\n    {\n        Expect.Call(() =&gt; this.reportGeneratorThread.Start());\n    }          \n\n    using (this.mockRepository.Playback())\n    {\n        this.manager.StartManager();           \n    }\n}\n</code></pre>\n\n<p>My ReportGeneratorManager class is responsible for creating an instance of ReportGeneratorThread class and it calls the Start() method of ReportGeneratorThread afterwards. </p>\n\n<p>I'm expecting that the Start() method of ReportGeneratorThread class is called by the manager, once I start the manager:</p>\n\n<pre><code> this.manager.StartManager();  \n</code></pre>\n\n<p>but an exception is thrown in Expect.Call which is: </p>\n\n<pre><code> Invalid call, the last call has been used or no call has been made.\n</code></pre>\n\n<p>It's clear from the logs that the start method is actually called in ReportGeneratorThread class, so the test should be passed, but keeps throwing the exception. How do I handle this issue ?. </p>\n"}, {"tags": ["c#", "algorithm", "generics", "permutation", "repeat"], "comments": [{"owner": {"reputation": 5969, "user_id": 4320665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0cDQG.png?s=128&g=1", "display_name": "ryanyuyu", "link": "https://stackoverflow.com/users/4320665/ryanyuyu"}, "edited": false, "score": 0, "creation_date": 1444854047, "post_id": 33134788, "comment_id": 54081287, "body": "You&#39;re going to have to change the where clause.  The <code>.contains()</code> check doesn&#39;t take into account the unused duplicates."}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1444854211, "post_id": 33134788, "comment_id": 54081392, "body": "Are you trying to stick to using Linq to accomplish this?"}, {"owner": {"reputation": 923, "user_id": 500748, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/cwqS8.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/500748/joe"}, "edited": false, "score": 1, "creation_date": 1444854227, "post_id": 33134788, "comment_id": 54081401, "body": "in your &quot;MOM&quot; example, we don&#39;t see &quot;MM&quot;, either"}, {"owner": {"reputation": 580, "user_id": 1922947, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wQmt8.jpg?s=128&g=1", "display_name": "MegaMark", "link": "https://stackoverflow.com/users/1922947/megamark"}, "reply_to_user": {"reputation": 923, "user_id": 500748, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/cwqS8.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/500748/joe"}, "edited": false, "score": 0, "creation_date": 1444854262, "post_id": 33134788, "comment_id": 54081424, "body": "@Joe I will edit that right now... thanks for catching"}, {"owner": {"reputation": 580, "user_id": 1922947, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wQmt8.jpg?s=128&g=1", "display_name": "MegaMark", "link": "https://stackoverflow.com/users/1922947/megamark"}, "reply_to_user": {"reputation": 5969, "user_id": 4320665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0cDQG.png?s=128&g=1", "display_name": "ryanyuyu", "link": "https://stackoverflow.com/users/4320665/ryanyuyu"}, "edited": false, "score": 0, "creation_date": 1444854389, "post_id": 33134788, "comment_id": 54081498, "body": "@ryanyuyu and Ron.... I should point out that this is not my code, but code I borrowed off of another post. I wouldn&#39;t know how to change the where clause.. and yes... Linq is a preference"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 2, "creation_date": 1444854614, "post_id": 33134788, "comment_id": 54081622, "body": "Why are <code>MMO</code>, <code>OMM</code> missing?"}, {"owner": {"reputation": 580, "user_id": 1922947, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wQmt8.jpg?s=128&g=1", "display_name": "MegaMark", "link": "https://stackoverflow.com/users/1922947/megamark"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1444855474, "post_id": 33134788, "comment_id": 54082090, "body": "@Blorgbeard see my edit... thanks for the catch"}], "answers": [{"tags": [], "owner": {"reputation": 3558, "user_id": 1056639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oLH2T.jpg?s=128&g=1", "display_name": "Grax32", "link": "https://stackoverflow.com/users/1056639/grax32"}, "is_accepted": false, "score": 0, "last_activity_date": 1444859610, "creation_date": 1444859610, "answer_id": 33136237, "question_id": 33134788, "link": "https://stackoverflow.com/questions/33134788/permutations-with-repetition/33136237#33136237", "title": "Permutations with repetition", "body": "<p>I suggest looking at the permutations of the letter positions 0,1,2,3,4,etc mapping those to letters, and then eliminating the duplicates.</p>\n\n<p>Without changing the GetPermutations function, I added another function to get the permutations of the letter positions, map those result to character strings and then eliminate the duplicates.</p>\n\n<pre><code>public void PermutationsTestMethod()\n{\n    GetPermutationsOfString(\"MOM\").ForEach(v =&gt; Debug.Print(v));\n}\n\npublic List&lt;string&gt; GetPermutationsOfString(string value)\n{\n    var resultList = new List&lt;string&gt;();\n\n    for (var i = 1; i &lt;= value.Length; i++)\n    {\n        var permutations = GetPermutations(Enumerable.Range(0, value.Length), i);\n\n        resultList.AddRange(\n            permutations\n                .Select(v =&gt; new string(v.Select(z =&gt; value[z]).ToArray()))\n                .Distinct()\n            );\n    }\n\n    return resultList;\n}\n\npublic static IEnumerable&lt;IEnumerable&lt;T&gt;&gt; GetPermutations&lt;T&gt;(IEnumerable&lt;T&gt; list, int length)\n{\n    if (length == 1) return list.Select(t =&gt; new T[] { t });\n\n    return GetPermutations(list, length - 1)\n        .SelectMany(t =&gt; list.Where(e =&gt; !t.Contains(e)),\n            (t1, t2) =&gt; t1.Concat(new T[] { t2 }));\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "reply_to_user": {"reputation": 580, "user_id": 1922947, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wQmt8.jpg?s=128&g=1", "display_name": "MegaMark", "link": "https://stackoverflow.com/users/1922947/megamark"}, "edited": false, "score": 0, "creation_date": 1445039171, "post_id": 33137423, "comment_id": 54169366, "body": "@MegaMark - True. I have purely done inorder subsets, not proper permutations. I think I&#39;ll have to rethink it a bit."}, {"owner": {"reputation": 580, "user_id": 1922947, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wQmt8.jpg?s=128&g=1", "display_name": "MegaMark", "link": "https://stackoverflow.com/users/1922947/megamark"}, "edited": false, "score": 0, "creation_date": 1445129483, "post_id": 33137423, "comment_id": 54192119, "body": "Yeah that&#39;s what frustrates me about this community... the jump the gun to downvote without realizing that the question might be legit... if it were as simple as it sounds.... I wouldn&#39;t have had to ask lol Thank you for your efforts"}], "tags": [], "owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "is_accepted": false, "score": 0, "last_activity_date": 1444865606, "creation_date": 1444865606, "answer_id": 33137423, "question_id": 33134788, "link": "https://stackoverflow.com/questions/33134788/permutations-with-repetition/33137423#33137423", "title": "Permutations with repetition", "body": "<p>This works fine:</p>\n\n<pre><code>Func&lt;string, IEnumerable&lt;string&gt;&gt; getAllSubsets = null;\ngetAllSubsets = x =&gt;\n    (x == null || !x.Any())\n        ? Enumerable.Empty&lt;string&gt;()\n        :  (x.Length &gt; 1\n            ? getAllSubsets(x.Substring(1))\n                .SelectMany(y =&gt; new [] { y, x.Substring(0, 1) + y })\n            : new [] { \"\", x.Substring(0, 1) });\n</code></pre>\n\n<p>So given <code>getAllSubsets(\"ABC\")</code> I get:</p>\n\n<blockquote>\n  <p>\"\", \"A\", \"B\", \"AB\", \"C\", \"AC\", \"BC\", \"ABC\"</p>\n</blockquote>\n\n<p>And, for your <code>\"MOM\"</code> example I get:</p>\n\n<blockquote>\n  <p>\"\", \"M\", \"O\", \"MO\", \"M\", \"MM\", \"OM\", \"MOM\"</p>\n</blockquote>\n\n<p>It would be trivial to filter out the empty string and duplicate values if need be, but as it stands it strictly produces all subsets.</p>\n"}, {"comments": [{"owner": {"reputation": 580, "user_id": 1922947, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wQmt8.jpg?s=128&g=1", "display_name": "MegaMark", "link": "https://stackoverflow.com/users/1922947/megamark"}, "edited": false, "score": 0, "creation_date": 1444920357, "post_id": 33138356, "comment_id": 54112622, "body": "This achieves the output that I&#39;m looking for! Thank you for this."}], "tags": [], "owner": {"reputation": 11, "user_id": 3223795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e91c0af45778452b8785eec81b9d8cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Kennnnnnnn", "link": "https://stackoverflow.com/users/3223795/kennnnnnnn"}, "is_accepted": false, "score": 1, "last_activity_date": 1444872708, "creation_date": 1444872708, "answer_id": 33138356, "question_id": 33134788, "link": "https://stackoverflow.com/questions/33134788/permutations-with-repetition/33138356#33138356", "title": "Permutations with repetition", "body": "<p>Here's another solution that should be clear and easily understandable:</p>\n\n<pre><code>    public static IEnumerable&lt;string&gt; GetPermutations(string input)\n    {\n        if (string.IsNullOrEmpty(input))\n        {\n            return new List&lt;string&gt;();\n        }\n\n        var length = input.Length;\n        var indices = Enumerable.Range(0, length).ToList();\n        var permutationsOfIndices = GetNumericalPermutations(indices, length);\n\n        var permutationsOfInput = permutationsOfIndices.Select(x =&gt; new string(x.Select(y =&gt; input[y]).ToArray()))\n                                                       .Distinct();\n        return permutationsOfInput;\n    }\n\n\n    private static List&lt;List&lt;int&gt;&gt; GetNumericalPermutations(List&lt;int&gt; values, int maxLength)\n    {\n        if (maxLength == 1)\n        {\n            return values.Select(x =&gt; new List&lt;int&gt;{x}).ToList();\n        }\n        else\n        {\n            var permutations = GetNumericalPermutations(values, maxLength - 1);\n\n            foreach (var index in values)\n            {\n                var newPermutations = permutations.Where(x =&gt; !x.Contains(index))\n                                                  .Select(x =&gt; x.Concat(new List&lt;int&gt; { index }))\n                                                  .Where(x =&gt; !permutations.Any(y =&gt; y.SequenceEqual(x)))\n                                                  .Select(x =&gt; x.ToList())\n                                                  .ToList();\n\n                permutations.AddRange(newPermutations);\n            }\n            return permutations;\n        }\n    }\n</code></pre>\n\n<p>For example, the output for \"MOM\" is:</p>\n\n<pre><code>M\nO\nOM\nMM\nMO\nMMO\nOMM\nMOM\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5149, "user_id": 4959221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3426bf401111490c891e8d22ce963c54?s=128&d=identicon&r=PG&f=1", "display_name": "Anton&#237;n Lejsek", "link": "https://stackoverflow.com/users/4959221/anton%c3%adn-lejsek"}, "is_accepted": false, "score": 0, "last_activity_date": 1444883196, "creation_date": 1444883196, "answer_id": 33139901, "question_id": 33134788, "link": "https://stackoverflow.com/questions/33134788/permutations-with-repetition/33139901#33139901", "title": "Permutations with repetition", "body": "<p>I think it is generally better try to avoid generating and eliminating permutations. Text like \"aaaaaaaaaaaaaaab\" can generate really big amount of duplications.</p>\n\n<pre><code>public static IEnumerable&lt;IEnumerable&lt;T&gt;&gt;\nGetPermutationsInner&lt;T&gt;(IEnumerable&lt;IGrouping&lt;T, T&gt;&gt; groupedList, int length)\n{\n    if (length == 1) return groupedList.Select(t =&gt; new T[] { t.Key });\n\n    return GetPermutationsInner&lt;T&gt;(groupedList, length - 1)\n        .SelectMany(t =&gt; groupedList\n                .Where(e =&gt; t.Count(w =&gt; w.Equals(e.Key)) &lt; e.Count())\n                .Select(s =&gt; s.Key),\n            (t1, t2) =&gt; t1.Concat(new T[] { t2 }));\n}\n\npublic static IEnumerable&lt;IEnumerable&lt;T&gt;&gt;\n    GetPermutations&lt;T&gt;(IEnumerable&lt;T&gt; list)\n{\n    var resultList = new List&lt;IEnumerable&lt;T&gt;&gt;();\n    for (int i = 1; i &lt;= list.Count(); ++i)\n    {\n        resultList.AddRange(GetPermutationsInner&lt;T&gt;(list.GroupBy(g =&gt; g), i));\n    }\n    return resultList;\n}\n</code></pre>\n"}], "owner": {"reputation": 580, "user_id": 1922947, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wQmt8.jpg?s=128&g=1", "display_name": "MegaMark", "link": "https://stackoverflow.com/users/1922947/megamark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1389, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1444883196, "creation_date": 1444853776, "last_edit_date": 1495540335, "question_id": 33134788, "link": "https://stackoverflow.com/questions/33134788/permutations-with-repetition", "title": "Permutations with repetition", "body": "<p>If you can find a better title, please edit.</p>\n\n<p>I will start by saying I've looked at several q&amp;a's on this topic, mainly <a href=\"https://stackoverflow.com/questions/1952153/what-is-the-best-way-to-find-all-combinations-of-items-in-an-array/10629938#10629938\">this one</a> and <a href=\"http://www.codeproject.com/Articles/26050/Permutations-Combinations-and-Variations-using-C-G\" rel=\"nofollow noreferrer\">this article</a> without having found a way to do this:</p>\n\n<p>Given the word \"HALLOWEEN\" I would like to find all permutations and combinations for all lengths. The first thing I tried was iterating through the below code giving it length of 1 to begin with and continuing until reaching the length of the word (9).</p>\n\n<pre><code>public static IEnumerable&lt;IEnumerable&lt;T&gt;&gt;\n        GetPermutations&lt;T&gt;(IEnumerable&lt;T&gt; list, int length)\n    {\n        if (length == 1) return list.Select(t =&gt; new T[] {t});\n\n        return GetPermutations(list, length - 1)\n            .SelectMany(t =&gt; list.Where(e =&gt; !t.Contains(e)),\n                (t1, t2) =&gt; t1.Concat(new T[] {t2}));\n    }\n</code></pre>\n\n<p>This gave me unexpected results as the double 'E' and 'L's were omitted, leaving the final set short.</p>\n\n<p>A simpler example could be 'MOM' {M,O,M} where the final set of outcomes would be: </p>\n\n<ul>\n<li><blockquote>\n  <p>M</p>\n</blockquote></li>\n<li><blockquote>\n  <p>O</p>\n</blockquote></li>\n<li><blockquote>\n  <p>MO</p>\n</blockquote></li>\n<li><blockquote>\n  <p>OM</p>\n</blockquote></li>\n<li><blockquote>\n  <p>MM</p>\n</blockquote></li>\n<li><blockquote>\n  <p>MOM </p>\n</blockquote></li>\n<li><blockquote>\n  <p>MMO</p>\n</blockquote></li>\n<li><blockquote>\n  <p>OMM</p>\n</blockquote></li>\n</ul>\n\n<p>Notice that I want to see both 'M's as available, but I don't want to see \"MMM\" as a result. \"MOM\" would appear twice in the result due to leaving original order (1,2,3) and swapping positions 1 and 3 (3,2,1) would both result in 'M','O','M' but this character sequence only appears once is the result list (which can be done by a string comparison) </p>\n\n<p>Again, with set {1,1,2,3} I would expect to see:</p>\n\n<p>{1,1} </p>\n\n<p>but NOT {2,2} or {3,3}</p>\n"}, {"tags": ["c#", "asp.net", "html-agility-pack"], "answers": [{"comments": [{"owner": {"reputation": 791, "user_id": 2816451, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/274dbaf9527370d244b72c0573c8ea5e?s=128&d=identicon&r=PG&f=1", "display_name": "realtek", "link": "https://stackoverflow.com/users/2816451/realtek"}, "edited": false, "score": 0, "creation_date": 1444855206, "post_id": 33134873, "comment_id": 54081937, "body": "You can&#39;t set InnerText with HtmlAgilityPack, you can only get the value with that."}, {"owner": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "reply_to_user": {"reputation": 791, "user_id": 2816451, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/274dbaf9527370d244b72c0573c8ea5e?s=128&d=identicon&r=PG&f=1", "display_name": "realtek", "link": "https://stackoverflow.com/users/2816451/realtek"}, "edited": false, "score": 0, "creation_date": 1444856106, "post_id": 33134873, "comment_id": 54082423, "body": "@realtek - <code>InnerHtml</code> <a href=\"http://stackoverflow.com/a/9488079/3887516\">should be fine</a>"}, {"owner": {"reputation": 791, "user_id": 2816451, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/274dbaf9527370d244b72c0573c8ea5e?s=128&d=identicon&r=PG&f=1", "display_name": "realtek", "link": "https://stackoverflow.com/users/2816451/realtek"}, "edited": false, "score": 0, "creation_date": 1444856248, "post_id": 33134873, "comment_id": 54082491, "body": "Oops, sorry... I was thinking InnerText! it works now thank you"}, {"owner": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "reply_to_user": {"reputation": 791, "user_id": 2816451, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/274dbaf9527370d244b72c0573c8ea5e?s=128&d=identicon&r=PG&f=1", "display_name": "realtek", "link": "https://stackoverflow.com/users/2816451/realtek"}, "edited": false, "score": 0, "creation_date": 1444856322, "post_id": 33134873, "comment_id": 54082529, "body": "@realtek not your fault, it <i>was</i> <code>InnerText</code> at first, but once you informed me of the problem, I corrected. (I don&#39;t have access to the HAP documentation, sorry)"}, {"owner": {"reputation": 791, "user_id": 2816451, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/274dbaf9527370d244b72c0573c8ea5e?s=128&d=identicon&r=PG&f=1", "display_name": "realtek", "link": "https://stackoverflow.com/users/2816451/realtek"}, "edited": false, "score": 0, "creation_date": 1444856444, "post_id": 33134873, "comment_id": 54082601, "body": ":) Thanks for your help!"}], "tags": [], "owner": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "is_accepted": true, "score": 2, "last_activity_date": 1444856079, "last_edit_date": 1444856079, "creation_date": 1444854118, "answer_id": 33134873, "question_id": 33134747, "link": "https://stackoverflow.com/questions/33134747/set-textarea-value-with-htmlagilitypack/33134873#33134873", "title": "Set textarea value with HtmlAgilityPack", "body": "<p>A <code>&lt;textarea&gt;</code> element doesn't have a <code>value</code> attribute. It's content is it's own text node:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;textarea&gt;\nSome content\n&lt;/textarea&gt;\n</code></pre>\n\n<p>To access that, use the <code>.InnerHtml</code> property:</p>\n\n<pre><code>var node = doc.DocumentNode.SelectSingleNode(\"//textarea\");\nif (node != null)\n{\n    node.InnerHtml = record.Data;\n}\n</code></pre>\n"}], "owner": {"reputation": 791, "user_id": 2816451, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/274dbaf9527370d244b72c0573c8ea5e?s=128&d=identicon&r=PG&f=1", "display_name": "realtek", "link": "https://stackoverflow.com/users/2816451/realtek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1759, "favorite_count": 0, "accepted_answer_id": 33134873, "answer_count": 1, "score": 2, "last_activity_date": 1444856079, "creation_date": 1444853621, "last_edit_date": 1444854142, "question_id": 33134747, "link": "https://stackoverflow.com/questions/33134747/set-textarea-value-with-htmlagilitypack", "title": "Set textarea value with HtmlAgilityPack", "body": "<p>I am using HtmlAgilityPack and it seems I cannot set the value of the text in a textarea in the same way as an input field:</p>\n\n<pre><code>var node = doc.DocumentNode.SelectSingleNode(\"//textarea\");\nif (node != null)\n{\n    node.SetAttributeValue(\"value\", record.Data);\n}\n</code></pre>\n\n<p>Does anyone know how this can be done?</p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 45352, "user_id": 1625737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/v8qtx.png?s=128&g=1", "display_name": "haim770", "link": "https://stackoverflow.com/users/1625737/haim770"}, "edited": false, "score": 2, "creation_date": 1444853675, "post_id": 33134697, "comment_id": 54081056, "body": "Did you mark those Navigation Properties with the <code>virtual</code> keyword?"}, {"owner": {"reputation": 45352, "user_id": 1625737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/v8qtx.png?s=128&g=1", "display_name": "haim770", "link": "https://stackoverflow.com/users/1625737/haim770"}, "edited": false, "score": 2, "creation_date": 1444853710, "post_id": 33134697, "comment_id": 54081080, "body": "Also, there&#39;s no reason to explicitly change the state of each <code>line</code> to <code>Added</code>. It&#39;s already in that state."}, {"owner": {"reputation": 45352, "user_id": 1625737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/v8qtx.png?s=128&g=1", "display_name": "haim770", "link": "https://stackoverflow.com/users/1625737/haim770"}, "edited": false, "score": 0, "creation_date": 1444853803, "post_id": 33134697, "comment_id": 54081135, "body": "Also, why query the database when you already have the generated <code>Order</code> in memory? Use its data for emailing."}, {"owner": {"reputation": 5781, "user_id": 622129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jqVZH.jpg?s=128&g=1", "display_name": "BLSully", "link": "https://stackoverflow.com/users/622129/blsully"}, "reply_to_user": {"reputation": 45352, "user_id": 1625737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/v8qtx.png?s=128&g=1", "display_name": "haim770", "link": "https://stackoverflow.com/users/1625737/haim770"}, "edited": false, "score": 0, "creation_date": 1444854120, "post_id": 33134697, "comment_id": 54081330, "body": "@haim770: 1) Yes, they are marked virtual. I did not change the classes that EF generated. Will update question to show example. 2) Are you saying I only need to do <code>db.Entry(order)</code> to add it to the context? 3) I&#39;m not. in the first example, the <code>post</code> and <code>notify</code> methods were being called on separate requests, so the order would need to be retrieved in that case. My &#39;new version&#39; is specifically trying to use the copy in memory, which is where my issue is coming from... not loading the nav properties on the &quot;in memory&quot; copy."}, {"owner": {"reputation": 2295, "user_id": 1262541, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8d7544724fcfc5be9d94eb10cc3ec47c?s=128&d=identicon&r=PG", "display_name": "Seabizkit", "link": "https://stackoverflow.com/users/1262541/seabizkit"}, "edited": false, "score": 0, "creation_date": 1444854259, "post_id": 33134697, "comment_id": 54081420, "body": "Ok i was going to write an answer but at this point the code still doesn&#39;t make sense. Ill explain... you are not modifying the entities.. other than changing their state... so what i suggest is... that you show the code where they were modified as well. as others have stated... depending on how they were retrieve and if your still in the same context, then the context knows everything it needs to and you can just call savechanges()"}, {"owner": {"reputation": 5781, "user_id": 622129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jqVZH.jpg?s=128&g=1", "display_name": "BLSully", "link": "https://stackoverflow.com/users/622129/blsully"}, "reply_to_user": {"reputation": 2295, "user_id": 1262541, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8d7544724fcfc5be9d94eb10cc3ec47c?s=128&d=identicon&r=PG", "display_name": "Seabizkit", "link": "https://stackoverflow.com/users/1262541/seabizkit"}, "edited": false, "score": 0, "creation_date": 1444854906, "post_id": 33134697, "comment_id": 54081779, "body": "@Seabizkit: I added the client side code that&#39;s calling the controller methods, hopefully that helps. They were never &#39;retrieved&#39; from anywhere the dbcontext knows about, so I&#39;m assuming that&#39;s why the nav properties won&#39;t populate, but how to make that happen within the same DbContext is beyond me"}, {"owner": {"reputation": 7031, "user_id": 170492, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zRqUR.jpg?s=128&g=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/170492/leo"}, "edited": false, "score": 0, "creation_date": 1444855343, "post_id": 33134697, "comment_id": 54082018, "body": "Is <code>db</code> a static reference on your Controller? Also, if you do not call <code>Get</code> before calling <code>Post</code>, there will not be an <code>db.Entry</code> for you to work on. I suggest you move your db construnction inside each method and in the post case, just call <code>db.Order.Insert</code> or load it by Id, update the values and save."}, {"owner": {"reputation": 5781, "user_id": 622129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jqVZH.jpg?s=128&g=1", "display_name": "BLSully", "link": "https://stackoverflow.com/users/622129/blsully"}, "edited": false, "score": 0, "creation_date": 1444855679, "post_id": 33134697, "comment_id": 54082188, "body": "OK, did some frantic searching as <code>db.Entry(order)</code> didn&#39;t work. Looks like the &#39;right&#39; way to add new entities is <code>db.Orders.Add(order)</code>. That works and is definitely much cleaner. Updated question. Still have the issue of nav properties not populating within the same context tho"}], "answers": [{"comments": [{"owner": {"reputation": 5781, "user_id": 622129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jqVZH.jpg?s=128&g=1", "display_name": "BLSully", "link": "https://stackoverflow.com/users/622129/blsully"}, "edited": false, "score": 0, "creation_date": 1444858073, "post_id": 33135721, "comment_id": 54083331, "body": "Thanks very much. That&#39;s exactly what I&#39;m running into. Let me implement, see what happens and I&#39;ll get back with results."}, {"owner": {"reputation": 5781, "user_id": 622129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jqVZH.jpg?s=128&g=1", "display_name": "BLSully", "link": "https://stackoverflow.com/users/622129/blsully"}, "edited": false, "score": 1, "creation_date": 1444859081, "post_id": 33135721, "comment_id": 54083818, "body": "Worked perfectly. Updating end of question with my updated code"}], "tags": [], "owner": {"reputation": 501, "user_id": 5177435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zag99.jpg?s=128&g=1", "display_name": "Uber Bot", "link": "https://stackoverflow.com/users/5177435/uber-bot"}, "is_accepted": true, "score": 2, "last_activity_date": 1444857808, "last_edit_date": 1444857808, "creation_date": 1444857413, "answer_id": 33135721, "question_id": 33134697, "link": "https://stackoverflow.com/questions/33134697/entity-framework-navigation-properties-not-loading-til-new-dbcontext-is-establis/33135721#33135721", "title": "Entity Framework Navigation Properties not loading til new DbContext is established", "body": "<p>Your new Order entity instance is not wrapped by proxy and so lazy loading will not work.</p>\n\n<p>You can force context to load navigational property.</p>\n\n<pre><code>db.Entry(order).Reference(o =&gt; o.YouProperty).Load();\n</code></pre>\n\n<p>Or you can create an instance by using context's factory to overcome this problem.</p>\n\n<pre><code>db.Orders.Create();\n</code></pre>\n\n<blockquote>\n  <p>A proxy instance will not be created if you create an instance of an\n  entity using the new operator. This may not be a problem, but if you\n  need to create a proxy instance (for example, so that lazy loading or\n  proxy change tracking will work) then you can do so using the Create\n  method of DbSet.</p>\n</blockquote>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/data/jj592886.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/data/jj592886.aspx</a></p>\n"}, {"comments": [{"owner": {"reputation": 5781, "user_id": 622129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jqVZH.jpg?s=128&g=1", "display_name": "BLSully", "link": "https://stackoverflow.com/users/622129/blsully"}, "edited": false, "score": 0, "creation_date": 1444913642, "post_id": 33143630, "comment_id": 54107452, "body": "As Uber Bot explained, it isn&#39;t. It&#39;s an instance of the EF-generated POCO class, but it&#39;s <i>not</i> wrapped by the dynamically generated proxy that handles lazy loading, etc. That was the core of my issue. Interestingly, things like computed properties worked just fine (e.g. Database Generated ID for the order), it was only lazy loading that seemed to be problematic. Makes me wonder if there&#39;s a way to proxy a non-wrapped instance... e.g. <code>db.Orders.WrapWithProxy(order)</code> or <code>db.Orders.Create(order)</code> .... would prevent the need to map from a DTO to an Entity"}, {"owner": {"reputation": 2295, "user_id": 1262541, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8d7544724fcfc5be9d94eb10cc3ec47c?s=128&d=identicon&r=PG", "display_name": "Seabizkit", "link": "https://stackoverflow.com/users/1262541/seabizkit"}, "reply_to_user": {"reputation": 5781, "user_id": 622129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jqVZH.jpg?s=128&g=1", "display_name": "BLSully", "link": "https://stackoverflow.com/users/622129/blsully"}, "edited": false, "score": 0, "creation_date": 1444914192, "post_id": 33143630, "comment_id": 54107872, "body": "@BLSully mind blow...;-) thx, i would need to google more... I know you are saying lots but its not sinking in. Not sure how this is related to what i was saying... I&#39;m in no means saying your wrong/right... I&#39;m just not following, which is no fault of yours... what is the key difference here... so I may google that more. regardless of how the EF models are generated code first vs db generated... navigation would still work. But not sure how that relates to naming of Entities as well. I feel i may learn something here please point me to something to read. thx"}, {"owner": {"reputation": 5781, "user_id": 622129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jqVZH.jpg?s=128&g=1", "display_name": "BLSully", "link": "https://stackoverflow.com/users/622129/blsully"}, "edited": false, "score": 0, "creation_date": 1444914820, "post_id": 33143630, "comment_id": 54108346, "body": "I sorta went off on a tangent, but I was addressing your statement that <b>Order in the method sig is not a EF Entity</b>. It <i>is</i>, at least as far as it is an instance of the EF-generated POCO class, but it is <i>not</i> a full &quot;Entity&quot; (for lack of a better word) because it does not have the wrapper proxy. The <code>Order</code> as it exists in the controller method is generated by deserialization of a JSON body, so Json.NET is calling <code>new Order()</code> and populating the properties. In theory, if Json.NET could detect an EF POCO and it could instantiate via <code>db.Orders.Create()</code>, then we&#39;d all be in good shape ;)"}, {"owner": {"reputation": 2295, "user_id": 1262541, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8d7544724fcfc5be9d94eb10cc3ec47c?s=128&d=identicon&r=PG", "display_name": "Seabizkit", "link": "https://stackoverflow.com/users/1262541/seabizkit"}, "reply_to_user": {"reputation": 5781, "user_id": 622129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jqVZH.jpg?s=128&g=1", "display_name": "BLSully", "link": "https://stackoverflow.com/users/622129/blsully"}, "edited": false, "score": 1, "creation_date": 1444917190, "post_id": 33143630, "comment_id": 54110143, "body": "Thanks that was easier reading. If the &quot;Order&quot; class in the method sig is a POCO class, then my example stands and should work(done the same and way more complicated myself). The reason I suspect that it is not a PODO calss...is because it has &quot;Lines&quot; vs &quot;OrderLines&quot; see original question -&gt; working solution."}, {"owner": {"reputation": 5781, "user_id": 622129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jqVZH.jpg?s=128&g=1", "display_name": "BLSully", "link": "https://stackoverflow.com/users/622129/blsully"}, "edited": false, "score": 0, "creation_date": 1444917719, "post_id": 33143630, "comment_id": 54110635, "body": "Ah, that was just my fault for editing badly. My real class names have domain specific info in them I&#39;d rather not have on a public site, so I renamed (badly) some things for the purposes of the question. ;)"}, {"owner": {"reputation": 2295, "user_id": 1262541, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8d7544724fcfc5be9d94eb10cc3ec47c?s=128&d=identicon&r=PG", "display_name": "Seabizkit", "link": "https://stackoverflow.com/users/1262541/seabizkit"}, "reply_to_user": {"reputation": 5781, "user_id": 622129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jqVZH.jpg?s=128&g=1", "display_name": "BLSully", "link": "https://stackoverflow.com/users/622129/blsully"}, "edited": false, "score": 0, "creation_date": 1444918176, "post_id": 33143630, "comment_id": 54110976, "body": "@BLSully cool cool, was just saying if you update it with the correct names, its easier to understand... and then someone could suggest tools like AutoMapper to assist here, this is normally how you transform from DTO class to POCO Class, which then would allow you to simply do. content.Orders.Add(order); content.SaveChanges(); Anyways i&#39;m glad we cleared that up ;-) all the best."}], "tags": [], "owner": {"reputation": 2295, "user_id": 1262541, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8d7544724fcfc5be9d94eb10cc3ec47c?s=128&d=identicon&r=PG", "display_name": "Seabizkit", "link": "https://stackoverflow.com/users/1262541/seabizkit"}, "is_accepted": false, "score": 0, "last_activity_date": 1444898061, "creation_date": 1444898061, "answer_id": 33143630, "question_id": 33134697, "link": "https://stackoverflow.com/questions/33134697/entity-framework-navigation-properties-not-loading-til-new-dbcontext-is-establis/33143630#33143630", "title": "Entity Framework Navigation Properties not loading til new DbContext is established", "body": "<p>Just an FYI... could be simplified like..... you should add validation.</p>\n\n<pre><code>//only handles new orders...as is\n//Assumes!!! Order is of a type which is a db Entity! (Table)\n//Assumes that you populated \"order\" with all the required properties.\n\npublic Order Post([FromBody]Order order) \n{\n    db.Orders.Add(order);\n    db.SaveChanges();\n    return order;\n}\n</code></pre>\n\n<p>Checking your code.... again it seems like \"Order\" <strong>in the Method signature</strong> is not a db Order entity, not sure tho if it isn't you should rename it so that it's not confusing. I.e. rename it as OrderDTO or something else which is not the same name as the db Order. It will make understanding of your code much clearer.</p>\n"}], "owner": {"reputation": 5781, "user_id": 622129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jqVZH.jpg?s=128&g=1", "display_name": "BLSully", "link": "https://stackoverflow.com/users/622129/blsully"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "accepted_answer_id": 33135721, "answer_count": 2, "score": 4, "last_activity_date": 1444918168, "creation_date": 1444853429, "last_edit_date": 1444918168, "question_id": 33134697, "link": "https://stackoverflow.com/questions/33134697/entity-framework-navigation-properties-not-loading-til-new-dbcontext-is-establis", "title": "Entity Framework Navigation Properties not loading til new DbContext is established", "body": "<p>I'm still relatively new to EF, so forgive me if I'm missing an obvious concept.</p>\n\n<p>Let me see if I can simplify this...Old question is in edit history, but I think I can distill this down:</p>\n\n<p>FWIW, <code>DbContext</code> is <em>PER REQUEST</em>, not <code>static</code>, which is why the first example works. <em>Not</em> using DI/IoC on the controller at this point.</p>\n\n<pre><code>public class OrdersController : ApiController {\n    private MyDbContext db = new MyDbContext();\n\n    //controller methods....\n\n    protected override void Dispose(bool disposing) {\n      db.Dispose();\n    }\n}\n</code></pre>\n\n<p><strong>Works</strong> (2 separate requests):</p>\n\n<pre><code>//request 1: client code sends in a new order to be added to db\npublic Order Post([FromBody]Order order) {\n  db.Orders.Add(order);\n  db.SaveChanges();\n\n  return order;\n}\n\n//request 2: someone punches a button to send an email to CS about this order\npublic void NotifyCustomerService(int orderid) {\n  var order = db.Orders.Find(orderid);\n  //do email code here\n}\n</code></pre>\n\n<p><strong>Broken</strong> (single request):</p>\n\n<pre><code>//request: client code sends in a new order to be added to db AND notifies CS at same time\npublic Order Post([FromBody]Order order) {\n  db.Orders.Add(order);\n  db.SaveChanges();\n\n  //notify CS via email here (nav properties are not populating)\n\n  return order;\n}\n</code></pre>\n\n<p><strong>Works</strong> (single request) (but i know this is horrible practice):</p>\n\n<pre><code>//request: client code sends in a new order to be added to db AND notifies CS at same time (using a new dbcontext in the notification code)\npublic Order Post([FromBody]Order order) {\n  db.Orders.Add(order);\n  db.SaveChanges();\n\n  using(var db2 = new MyDbContext()) {\n    var sameOrderWTF = db.Orders.Find(order.ID);\n    //notify CS via email using sameOrderWTF instance here (nav properties ARE populating)\n  }\n  return order;\n}\n</code></pre>\n\n<p>So, it seems to me, that there's some side effect of adding a new never-before-seen entity to the context, and then trying to get it's nav properties to populate. But if you create a new DbContext... even in the same request, it has to directly hit the DB for that entity, not use the in-mem copy, so then the nav properties magically work. That's the part that has me stumped.</p>\n\n<p><strong>Working Solution</strong></p>\n\n<pre><code>//request: client code sends in a new order to be added to db AND notifies CS at same time\npublic Order Post([FromBody]Order o) {\n  Order order = db.Orders.Create();\n  db.Orders.Add(order);\n\n  //copy values from input to proxy instance\n  db.Entry(order).CurrentValues.SetValues(o);\n\n  //copy input lines to proxy instance (same process as order for each line)\n  o.OrderLines.ToList().ForEach(l =&gt; {\n    var line = db.OrderLines.Create();\n    db.OrderLines.Add(line);\n    db.Entry(line).CurrentValues.SetValues(l);\n    order.OrderLines.Add(line);\n  });\n\n  db.SaveChanges();\n\n  //notify CS via email here (nav properties are not populating)\n\n  return order;\n}\n</code></pre>\n\n<p>So while we'll consider this question answered (thanks Uber Bot), the need to go through all of that seems more laborious than my other (admittedly short) experience with ASP.NET MVC and EF. I guess maybe I should be using ViewModels and mapping the VM properties to a proxy instance instead of trying to use the EF classes directly, but I just can't really see the benefit for a simple call like this.</p>\n"}, {"tags": ["c#", "mongodb", "mongodb-.net-driver"], "answers": [{"comments": [{"owner": {"reputation": 10774, "user_id": 25333, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1a3fe0ef24651f2c23d52b6f1ecd9fbf?s=128&d=identicon&r=PG", "display_name": "Craig Wilson", "link": "https://stackoverflow.com/users/25333/craig-wilson"}, "edited": false, "score": 1, "creation_date": 1444859198, "post_id": 33135677, "comment_id": 54083872, "body": "you might need to construct the settings and pass them into the ctor. I think client.Settings is readonly at this point."}, {"owner": {"reputation": 21, "user_id": 4526878, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153070122524137/picture?type=large", "display_name": "Paul Garner", "link": "https://stackoverflow.com/users/4526878/paul-garner"}, "edited": false, "score": 1, "creation_date": 1444860921, "post_id": 33135677, "comment_id": 54084590, "body": "Thanks for the info.  I was wondering why the encoding object was passed down the mongo stack.  Yes, the changing the settings throws: A first chance exception of type &#39;System.InvalidOperationException&#39; MongoClientSettings is frozen. I&#39;ll try creating the settings first."}, {"owner": {"reputation": 21, "user_id": 4526878, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153070122524137/picture?type=large", "display_name": "Paul Garner", "link": "https://stackoverflow.com/users/4526878/paul-garner"}, "reply_to_user": {"reputation": 10774, "user_id": 25333, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1a3fe0ef24651f2c23d52b6f1ecd9fbf?s=128&d=identicon&r=PG", "display_name": "Craig Wilson", "link": "https://stackoverflow.com/users/25333/craig-wilson"}, "edited": false, "score": 0, "creation_date": 1444861970, "post_id": 33135677, "comment_id": 54085020, "body": "Solved:  I&#39;ll edit the answer with details.  Thanks Stefano &amp; @craig"}], "tags": [], "owner": {"reputation": 2428, "user_id": 3782873, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/47629b675da91ffeb2b46311f278db07?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Castriotta", "link": "https://stackoverflow.com/users/3782873/stefano-castriotta"}, "is_accepted": false, "score": 4, "last_activity_date": 1554916363, "last_edit_date": 1554916363, "creation_date": 1444857240, "answer_id": 33135677, "question_id": 33134616, "link": "https://stackoverflow.com/questions/33134616/how-to-stop-mongodb-net-driver-throwing-system-formatexception/33135677#33135677", "title": "How to stop Mongodb .NET driver throwing System.FormatException?", "body": "<p>Try setting the ReadEncoding property on the MongoClient in this way:</p>\n\n<pre><code>MongoClient client = new MongoClient(new MongoClientSettings() \n{ \n    Server = new MongoServerAddress(\"&lt;serveraddress&gt;\", 27017),\n    ReadEncoding = new System.Text.UTF8Encoding(false, false)\n});\n</code></pre>\n\n<p>(Edited: as said by @Craig Wilson, settings are readonly after constructor)</p>\n\n<p>The second parameter of UTF8Encoding is \"throwOnInvalidBytes\":</p>\n\n<blockquote>\n  <p><strong>true</strong> to specify that an exception be thrown when an invalid encoding is detected; otherwise, <strong>false</strong></p>\n</blockquote>\n\n<p>Source: <a href=\"https://jira.mongodb.org/browse/CSHARP-996\" rel=\"nofollow noreferrer\">https://jira.mongodb.org/browse/CSHARP-996</a> and <a href=\"https://msdn.microsoft.com/en-us/library/302sbf78(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/302sbf78(v=vs.110).aspx</a></p>\n"}], "owner": {"reputation": 21, "user_id": 4526878, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153070122524137/picture?type=large", "display_name": "Paul Garner", "link": "https://stackoverflow.com/users/4526878/paul-garner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1362, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1554916363, "creation_date": 1444853136, "last_edit_date": 1444854321, "question_id": 33134616, "link": "https://stackoverflow.com/questions/33134616/how-to-stop-mongodb-net-driver-throwing-system-formatexception", "title": "How to stop Mongodb .NET driver throwing System.FormatException?", "body": "<p>MongoDb .NET Driver System.FormatException / DecoderFallbackException</p>\n\n<blockquote>\n  <p>An error occurred while deserializing the description property\n  of class KerbToolsService.Models.promotion:\n  Unable to translate bytes [ED][A0] at index 136 from\n  specified code page to Unicode.</p>\n</blockquote>\n\n<p>A .NET web API app I wrote to monitor the status of our MongoDB / Node.js based system started throwing a DecoderFallbackException.</p>\n\n<p>Here\u2019s a stack trace</p>\n\n<pre><code>System.FormatException occurred\n  HResult=-2146233033\nMessage=An error occurred while deserializing the description property of class KerbToolsService.Models.promotion: Unable to translate bytes [ED][A0] at index 136 from specified code page to Unicode.\n Source=MongoDB.Bson\n\nStackTrace:\n   at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)\nInnerException: System.Text.DecoderFallbackException\n   HResult=-2147024809\n   Message=Unable to translate bytes [ED][A0] at index 136 from specified code page to Unicode.\n   Source=mscorlib\n   Index=136\n   StackTrace:\n        at System.Text.DecoderExceptionFallbackBuffer.Throw(Byte[] bytesUnknown, Int32 index)\n        at System.Text.DecoderExceptionFallbackBuffer.Fallback(Byte[] bytesUnknown, Int32 index)\n        at System.Text.DecoderFallbackBuffer.InternalFallback(Byte[] bytes, Byte* pBytes)\n        at System.Text.UTF8Encoding.GetCharCount(Byte* bytes, Int32 count, DecoderNLS baseDecoder)\n        at System.String.CreateStringFromEncoding(Byte* bytes, Int32 byteLength, Encoding encoding)\n        at System.Text.UTF8Encoding.GetString(Byte[] bytes, Int32 index, Int32 count)\n        at MongoDB.Bson.IO.Utf8Helper.DecodeUtf8String(Byte[] bytes, Int32 index, Int32 count, UTF8Encoding encoding)\n        at MongoDB.Bson.IO.ByteBufferStream.ReadString(UTF8Encoding encoding)\n        at MongoDB.Bson.IO.BsonBinaryReader.ReadString()\n        at MongoDB.Bson.Serialization.Serializers.StringSerializer.DeserializeValue(BsonDeserializationContext context, BsonDeserializationArgs args)\n        at MongoDB.Bson.Serialization.Serializers.SealedClassSerializerBase`1.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)\n        at MongoDB.Bson.Serialization.Serializers.SerializerBase`1.MongoDB.Bson.Serialization.IBsonSerializer.Deserialize(BsonDeserializationContext context, BsonDeserializationArgs args)\n        at MongoDB.Bson.Serialization.IBsonSerializerExtensions.Deserialize(IBsonSerializer serializer, BsonDeserializationContext context)\n        at MongoDB.Bson.Serialization.BsonClassMapSerializer`1.DeserializeMemberValue(BsonDeserializationContext context, BsonMemberMap memberMap)\n</code></pre>\n\n<p>So far I know that a character <code>U+D83D</code> that encoded to <code>ED A0 BD</code> in bson is in a document in the database, and is causing .NET UTF8Encoding to throw a DecoderFallbackException. Other code (the MongoLab UI and our Node.js based application) replaces it with a <code>?</code> but it kills the query in the .NET driver.  </p>\n\n<p>I'd like to get the .NET Mongo driver to behave the same as others and not blow up if it sees invalid UTF-8.</p>\n"}, {"tags": ["c#", "textbox", "type-conversion"], "comments": [{"owner": {"reputation": 3468, "user_id": 607117, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a74d1f14e83178780336595fe359b614?s=128&d=identicon&r=PG", "display_name": "Derreck Dean", "link": "https://stackoverflow.com/users/607117/derreck-dean"}, "edited": false, "score": 5, "creation_date": 1444853315, "post_id": 33134614, "comment_id": 54080873, "body": "To save you time, it seems easier to allow the textbox to take any input, and use <code>var conversionOK = Decimal.TryParse(TextBox.Text, out decimalVariable)</code> to test if the textbox input could be converted into a decimal successfully."}, {"owner": {"reputation": 349, "user_id": 1789573, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/c11fd1fce6767795f508c9cdc3bfe119?s=128&d=identicon&r=PG", "display_name": "user1789573", "link": "https://stackoverflow.com/users/1789573/user1789573"}, "edited": false, "score": 1, "creation_date": 1444853383, "post_id": 33134614, "comment_id": 54080898, "body": "You could also declare your textbox as a double to keep its precision: TextBox.double"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1444854300, "post_id": 33134614, "comment_id": 54081451, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/463299/how-do-i-make-a-textbox-that-only-accepts-numbers\">How do I make a textbox that only accepts numbers?</a>"}, {"owner": {"reputation": 11, "user_id": 5446725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yuc91.png?s=128&g=1", "display_name": "Shulkster", "link": "https://stackoverflow.com/users/5446725/shulkster"}, "edited": false, "score": 0, "creation_date": 1444925810, "post_id": 33134614, "comment_id": 54116455, "body": "@Deerreck Dean this gives me the Error &quot;Argument 1: cannot convert from &#39;decimal&#39; to &#39;string&#39;&quot; wich i dont understand. i thought this will try to convert from &#39;string&#39; to &#39;decimal&#39; ? And why do i get the error?"}, {"owner": {"reputation": 11, "user_id": 5446725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yuc91.png?s=128&g=1", "display_name": "Shulkster", "link": "https://stackoverflow.com/users/5446725/shulkster"}, "edited": false, "score": 0, "creation_date": 1444926354, "post_id": 33134614, "comment_id": 54116760, "body": "Nevermind, i got it to work! Thank you all!"}], "answers": [{"tags": [], "owner": {"reputation": 143, "user_id": 4855187, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000138992649/picture?type=large", "display_name": "General Charismo", "link": "https://stackoverflow.com/users/4855187/general-charismo"}, "is_accepted": false, "score": 2, "last_activity_date": 1444853419, "creation_date": 1444853419, "answer_id": 33134693, "question_id": 33134614, "link": "https://stackoverflow.com/questions/33134614/how-to-convert-input-from-a-textbox-into-a-decimal-number/33134693#33134693", "title": "How to convert input from a TextBox into a decimal number", "body": "<p>What are you using? WPF, Windows Forms or ASP.NET? As for converting it to a decimal all you have to do is parse it or use the Convert class. Most likely you'll just put the name of your text box call it's text accessor and pass it in to a convert or parse as a parameter and stuff it into a variable.</p>\n"}, {"tags": [], "owner": {"reputation": 2306, "user_id": 5396396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cxEdW.jpg?s=128&g=1", "display_name": "S.Dav", "link": "https://stackoverflow.com/users/5396396/s-dav"}, "is_accepted": false, "score": 1, "last_activity_date": 1444855901, "creation_date": 1444855901, "answer_id": 33135368, "question_id": 33134614, "link": "https://stackoverflow.com/questions/33134614/how-to-convert-input-from-a-textbox-into-a-decimal-number/33135368#33135368", "title": "How to convert input from a TextBox into a decimal number", "body": "<p>You can use <a href=\"https://msdn.microsoft.com/en-us/library/994c0zb1%28v=vs.110%29.aspx\" rel=\"nofollow\">Double.TryParse</a> or <a href=\"https://msdn.microsoft.com/en-us/library/fd84bdyt%28v=vs.110%29.aspx\" rel=\"nofollow\">Double.Parse</a></p>\n\n<p>The <em>TryParse()</em> method differs from the <em>Parse()</em> method is that the first returns a Boolean value that indicates whether the parse operation succeeded while the second return the parsed numeric value if succeeded, and throws an exception if it fails</p>\n\n<p>Here is a simple example:</p>\n\n<pre><code>string value = Textbox1.Text;\ndouble number;\n\n\nif (Double.TryParse(value, out number))\n     //The method succeeded\nelse\n    // The method failed\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5446725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yuc91.png?s=128&g=1", "display_name": "Shulkster", "link": "https://stackoverflow.com/users/5446725/shulkster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4071, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1444855901, "creation_date": 1444853127, "last_edit_date": 1444854154, "question_id": 33134614, "link": "https://stackoverflow.com/questions/33134614/how-to-convert-input-from-a-textbox-into-a-decimal-number", "title": "How to convert input from a TextBox into a decimal number", "body": "<p>Here is what I want to create: A program where the user can enter any decimal number and is told all the qualities of that number. (For example: even/odd, divisible by 2/5/10, is a prime number, etc...) </p>\n\n<p>Sadly I'm already failing at grabbing the number from the user input.</p>\n\n<ol>\n<li><p>I need a TextBox that only allows Numbers. (I know NumericUpDown is an option but I wanted to try it with a TextBox)</p></li>\n<li><p>I need to convert the String from the TextBox into a <code>float</code>(?) (or <code>double</code>?). I know <code>int</code> won't work because I don't want it to cut all the decimal places. </p></li>\n<li><p>I need to test the number for all the qualities and then report back. (I\u00b4ll manage that).</p></li>\n</ol>\n\n<p>I need help with steps 1 &amp; 2. </p>\n"}, {"tags": ["c#", "c++", "generics"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1444853213, "post_id": 33134583, "comment_id": 54080804, "body": "<i>&quot;<b>vector</b> is from the STL&quot;</i> It&#39;s not <i>the STL</i> from the last century 90ies! We have the c++ standard library meanwhile."}, {"owner": {"reputation": 7239, "user_id": 316117, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2be862ebbdf915bd9734ab3e770fceeb?s=128&d=identicon&r=PG", "display_name": "user316117", "link": "https://stackoverflow.com/users/316117/user316117"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1444853314, "post_id": 33134583, "comment_id": 54080871, "body": "...I said it was old."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1444853439, "post_id": 33134583, "comment_id": 54080926, "body": "I still don&#39;t believe you really mean that specific implementation mentioned here: <a href=\"https://stackoverflow.com/questions/tagged/stl\">stl</a>. It&#39;s a commonly misused term."}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "edited": false, "score": 2, "creation_date": 1444853609, "post_id": 33134583, "comment_id": 54081016, "body": "<i>&quot;C# will get a generic vector class soon&quot;</i> --&gt; oh, it&#39;s already <a href=\"https://msdn.microsoft.com/en-us/library/dn858385.aspx\" rel=\"nofollow noreferrer\">there</a>, but it doesn&#39;t mean the same thing <i>at all</i>. It&#39;s used for SIMD. <code>List&lt;T&gt;</code> is the direct equivalent of <code>std::vector&lt;T&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "is_accepted": true, "score": 3, "last_activity_date": 1444853106, "creation_date": 1444853106, "answer_id": 33134606, "question_id": 33134583, "link": "https://stackoverflow.com/questions/33134583/using-c-generics-when-converting-from-c-program/33134606#33134606", "title": "Using C# generics when converting from C++ program", "body": "<p>Use <code>List&lt;T&gt;</code> or at least implement <code>IList&lt;T&gt;</code> if you use your own. Those both have the indexer defined.</p>\n\n<p>You could just accept <code>IList&lt;T&gt;</code> and that will even work with arrays out of the box!</p>\n\n<pre><code>bool Checkpoints(string inputImageFilename, IList&lt;Point&gt; basePoints)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17910, "user_id": 3963067, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1e536542e9baa5c52499d61fb64f51d3?s=128&d=identicon&r=PG&f=1", "display_name": "gmoniava", "link": "https://stackoverflow.com/users/3963067/gmoniava"}, "is_accepted": false, "score": 2, "last_activity_date": 1444853610, "last_edit_date": 1444853610, "creation_date": 1444853307, "answer_id": 33134657, "question_id": 33134583, "link": "https://stackoverflow.com/questions/33134583/using-c-generics-when-converting-from-c-program/33134657#33134657", "title": "Using C# generics when converting from C++ program", "body": "<blockquote>\n  <p>I've also read that C# will get a generic vector class soon, but in\n  the meantime a list is kind of like a vector, so can I use the\n  System.Drawing Point structure and make a generic list such that I can\n  code something like this? ...</p>\n</blockquote>\n\n<p>You can use</p>\n\n<pre><code>bool Checkpoints(string inputImageFilename, List&lt;Point&gt; basePoints)\n</code></pre>\n\n<p>And indeed you can access members using similar say [] syntax. Make sure the point class in C# is similar to the one you use in C++ though. </p>\n\n<p>You can keep in mind also in C# terms the list object will be reference type while the vector (as used in C++) is value type.</p>\n"}], "owner": {"reputation": 7239, "user_id": 316117, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2be862ebbdf915bd9734ab3e770fceeb?s=128&d=identicon&r=PG", "display_name": "user316117", "link": "https://stackoverflow.com/users/316117/user316117"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 33134606, "answer_count": 2, "score": 0, "last_activity_date": 1444853610, "creation_date": 1444853026, "question_id": 33134583, "link": "https://stackoverflow.com/questions/33134583/using-c-generics-when-converting-from-c-program", "title": "Using C# generics when converting from C++ program", "body": "<p>I'm converting an old C++ program to C#.   There's a function in the C++ program that looks like this: </p>\n\n<pre><code>bool Checkpoints(string inputImageFilename, vector&lt;Point&gt; basePoints)\n</code></pre>\n\n<p>later on it uses it like this . . . </p>\n\n<pre><code>int x1 = basePoints[0].x;\nint y1 = basePoints[0].y;\nint x2 = basePoints[1].x;\nint y2 = basePoints[1].y;\n</code></pre>\n\n<p><strong>vector</strong> is from the STL.\nI understand that C# generics are sort of like templates but I've never used generics before.   </p>\n\n<p>I've also read that C# will get a generic vector class soon, but in the meantime a list is kind of like a vector, so can I use the System.Drawing Point structure and make a generic list such that I can code something like this? ... </p>\n\n<pre><code>bool Checkpoints(string inputImageFilename, MyGenericList&lt;Point&gt; basePoints)\n</code></pre>\n\n<p>...if so, can I access it with array syntax like in the C++ code, or would I have to use an ArrayList for that?</p>\n"}, {"tags": ["c#", ".net", "azure", "async-await"], "answers": [{"tags": [], "owner": {"reputation": 135642, "user_id": 1870803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jYakG.jpg?s=128&g=1", "display_name": "Yuval Itzchakov", "link": "https://stackoverflow.com/users/1870803/yuval-itzchakov"}, "is_accepted": false, "score": 4, "last_activity_date": 1516300071, "last_edit_date": 1516300071, "creation_date": 1444853400, "answer_id": 33134681, "question_id": 33134579, "link": "https://stackoverflow.com/questions/33134579/keyvault-getsecretasync-never-returns/33134681#33134681", "title": "KeyVault GetSecretAsync never returns", "body": "<blockquote>\n  <p>Unfortunately, the call never returns and the query hangs indefinitely...</p>\n</blockquote>\n\n<p>You have a classic deadlock. That's why <a href=\"http://blog.stephencleary.com/2012/07/dont-block-on-async-code.html\" rel=\"nofollow noreferrer\"><em>you shouldn't block on async code</em></a>. Behind the scenes, the compiler generates a state-machine and captures something called a <code>SynchronizationContext</code>. When you synchronously block the calling thread, the attempt to post the continuation back onto that same context causes the deadlock. </p>\n\n<p>Instead of synchronously blocking with <code>.Result</code>, make your controller async and await on the <code>Task</code> returned from <code>GetSecret</code>:</p>\n\n<pre><code>public async IHttpActionResult FooAsync()\n{\n    var secret = await KeyVaultAccessor.GetSecretAsync(\"https://superSecretUri\");\n    return Ok();\n}\n</code></pre>\n\n<p><em>Side note</em> - Async methods should follow naming conventions and be postfixed with <code>Async</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2474, "user_id": 782964, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kVf2a.jpg?s=128&g=1", "display_name": "Gabriel G. Roy", "link": "https://stackoverflow.com/users/782964/gabriel-g-roy"}, "edited": false, "score": 0, "creation_date": 1444858198, "post_id": 33134721, "comment_id": 54083399, "body": "So, if I have an existing application that doesn&#39;t use async methods whatsoever, I need to do some refactorings to be able to use this library?"}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "reply_to_user": {"reputation": 2474, "user_id": 782964, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kVf2a.jpg?s=128&g=1", "display_name": "Gabriel G. Roy", "link": "https://stackoverflow.com/users/782964/gabriel-g-roy"}, "edited": false, "score": 0, "creation_date": 1444865861, "post_id": 33134721, "comment_id": 54086324, "body": "@GabrielG.Roy: Yes, that is the best approach."}, {"owner": {"reputation": 2474, "user_id": 782964, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kVf2a.jpg?s=128&g=1", "display_name": "Gabriel G. Roy", "link": "https://stackoverflow.com/users/782964/gabriel-g-roy"}, "edited": false, "score": 1, "creation_date": 1444874249, "post_id": 33134721, "comment_id": 54088291, "body": "Is there a quick and dirty approach which will allow me to do these calls synchronously?"}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "reply_to_user": {"reputation": 2474, "user_id": 782964, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kVf2a.jpg?s=128&g=1", "display_name": "Gabriel G. Roy", "link": "https://stackoverflow.com/users/782964/gabriel-g-roy"}, "edited": false, "score": 0, "creation_date": 1444909255, "post_id": 33134721, "comment_id": 54104454, "body": "@GabrielG.Roy: No. There are <a href=\"https://msdn.microsoft.com/en-us/magazine/mt238404.aspx\" rel=\"nofollow noreferrer\">a variety of hacks</a>, but none of them work perfectly or in all scenarios."}, {"owner": {"reputation": 2474, "user_id": 782964, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kVf2a.jpg?s=128&g=1", "display_name": "Gabriel G. Roy", "link": "https://stackoverflow.com/users/782964/gabriel-g-roy"}, "edited": false, "score": 0, "creation_date": 1444913660, "post_id": 33134721, "comment_id": 54107465, "body": "I used the other way described in your blog which consists of using <code>ConfigureAwait(false)</code>. Thanks!"}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "reply_to_user": {"reputation": 2474, "user_id": 782964, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kVf2a.jpg?s=128&g=1", "display_name": "Gabriel G. Roy", "link": "https://stackoverflow.com/users/782964/gabriel-g-roy"}, "edited": false, "score": 0, "creation_date": 1444914734, "post_id": 33134721, "comment_id": 54108278, "body": "@GabrielG.Roy: Just to be clear, that is one of the hacks (not a proper solution), and does not work for all scenarios. It&#39;s great if it works for you now, but that particular hack comes with a hefty maintenance burden."}], "tags": [], "owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "is_accepted": true, "score": 14, "last_activity_date": 1444853502, "creation_date": 1444853502, "answer_id": 33134721, "question_id": 33134579, "link": "https://stackoverflow.com/questions/33134579/keyvault-getsecretasync-never-returns/33134721#33134721", "title": "KeyVault GetSecretAsync never returns", "body": "<p>This is the common deadlock issue that I <a href=\"http://blog.stephencleary.com/2012/07/dont-block-on-async-code.html\" rel=\"noreferrer\">describe in full on my blog</a>. In short, the <code>async</code> method is attempting to return to the ASP.NET request context after the <code>await</code> completes, but that request only allows one thread at a time, and there is already a thread in that context (the one blocked on the call to <code>Result</code>). So the task is waiting for the context to be free, and the thread is blocking the context until the task completes: deadlock.</p>\n\n<p>The proper solution is to use <code>await</code> instead of <code>Result</code>:</p>\n\n<pre><code>var secret = await KeyVaultAccessor.GetSecret(\"https://superSecretUri\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5942, "user_id": 414058, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/588ae9e0b16e4428b6957ede51770eee?s=128&d=identicon&r=PG", "display_name": "fernacolo", "link": "https://stackoverflow.com/users/414058/fernacolo"}, "edited": false, "score": 0, "creation_date": 1486703813, "post_id": 37679735, "comment_id": 71470143, "body": "This should be the right answer, as it applies to a range of scenarios."}], "tags": [], "owner": {"reputation": 1410, "user_id": 606438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6acfa61b9aace34081affa0207aca094?s=128&d=identicon&r=PG", "display_name": "IdoFlatow", "link": "https://stackoverflow.com/users/606438/idoflatow"}, "is_accepted": false, "score": 12, "last_activity_date": 1516294350, "last_edit_date": 1516294350, "creation_date": 1465303406, "answer_id": 37679735, "question_id": 33134579, "link": "https://stackoverflow.com/questions/33134579/keyvault-getsecretasync-never-returns/37679735#37679735", "title": "KeyVault GetSecretAsync never returns", "body": "<p>I've used the following code to override the synchronization context:</p>\n\n<pre><code>var secret = Task.Run(async () =&gt; await KeyVaultAccessor.GetSecretAsync(\"https://superSecretUri\")).Result;\n</code></pre>\n\n<p>This still lets you use <code>.Result</code> if you're in a non-async method</p>\n"}, {"tags": [], "owner": {"reputation": 963, "user_id": 392698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0c4388ca47eca10d2cd1f79a1e92eda?s=128&d=identicon&r=PG", "display_name": "C Tierney", "link": "https://stackoverflow.com/users/392698/c-tierney"}, "is_accepted": false, "score": -2, "last_activity_date": 1500497022, "creation_date": 1500497022, "answer_id": 45200670, "question_id": 33134579, "link": "https://stackoverflow.com/questions/33134579/keyvault-getsecretasync-never-returns/45200670#45200670", "title": "KeyVault GetSecretAsync never returns", "body": "<p>Use the rest api... </p>\n\n<pre><code>public class AzureKeyVaultClient\n{\n\n\n    public string GetSecret(string name, string vault)\n    {\n        var client = new RestClient($\"https://{vault}.vault.azure.net/\");\n        client.Authenticator = new AzureAuthenticator($\"https://vault.azure.net\");\n        var request = new RestRequest($\"secrets/{name}?api-version=2016-10-01\");\n\n        request.Method = Method.GET;\n\n\n        var result = client.Execute(request);\n\n        if (result.StatusCode != HttpStatusCode.OK)\n        {\n            Trace.TraceInformation($\"Unable to retrieve {name} from {vault} with response {result.Content}\");\n            var exception =  GetKeyVaultErrorFromResponse(result.Content);\n            throw exception;\n\n        }\n        else\n        {\n            return GetValueFromResponse(result.Content);\n        }\n\n\n\n\n    }\n\n    public string GetValueFromResponse(string content)\n    {\n\n            var result = content.FromJson&lt;keyvaultresponse&gt;();\n            return result.value;\n\n    }\n\n\n    public Exception GetKeyVaultErrorFromResponse(string content)\n    {\n        try\n        {\n\n            var result = content.FromJson&lt;keyvautlerrorresponse&gt;();\n            var exception = new Exception($\"{result.error.code} {result.error.message}\");\n            if(result.error.innererror!=null)\n            {\n                var innerException = new Exception($\"{result.error.innererror.code} {result.error.innererror.message}\");\n            }\n\n            return exception;\n        }\n        catch(Exception e)\n        {\n            return e;\n        }\n    }\n\n    class keyvaultresponse\n    {\n        public string value { get; set; }\n        public string contentType { get; set; }\n\n    }\n\n    class keyvautlerrorresponse\n    {\n        public keyvaulterror error {get;set;}\n    }\n\n    class keyvaulterror\n    {\n        public string code { get; set; }\n\n        public string message { get; set; }\n\n        public keyvaulterror innererror { get; set; }\n    }\n\n    class AzureAuthenticator : IAuthenticator\n    {\n\n        private string _authority;\n        private string _clientId;\n        private string _clientSecret;\n        private string _resource;\n\n\n\n        public AzureAuthenticator(string resource)\n        {\n            _authority = WebConfigurationManager.AppSettings[\"azure:Authority\"];\n            _clientId = WebConfigurationManager.AppSettings[\"azure:ClientId\"];\n            _clientSecret = WebConfigurationManager.AppSettings[\"azure:ClientSecret\"];\n            _resource = resource;\n\n        }\n\n        public AzureAuthenticator(string resource, string tennant, string clientid, string secret)\n        {\n            //https://login.microsoftonline.com/&lt;tennant&gt;/oauth2/oken\n            _authority = authority;\n            //azure client id (web app or native app\n            _clientId = clientid;\n            //azure client secret\n            _clientSecret = secret;\n            //vault.azure.net\n            _resource = resource;\n\n        }\n\n\n        public void Authenticate(IRestClient client, IRestRequest request)\n        {\n\n            var token = GetS2SAccessTokenForProdMSA().AccessToken;\n            //Trace.WriteLine(String.Format(\"obtained bearer token {0} from ADAL and adding to rest request\",token));\n            request.AddHeader(\"Authorization\", String.Format(\"Bearer {0}\", token));\n\n\n        }\n\n        public AuthenticationResult GetS2SAccessTokenForProdMSA()\n        {\n            return GetS2SAccessToken(_authority, _resource, _clientId, _clientSecret);\n        }\n\n        private AuthenticationResult GetS2SAccessToken(string authority, string resource, string clientId, string clientSecret)\n        {\n            var clientCredential = new ClientCredential(clientId, clientSecret);\n            AuthenticationContext context = new AuthenticationContext(authority, false);\n            AuthenticationResult authenticationResult = context.AcquireToken(\n                resource,\n                clientCredential);\n            return authenticationResult;\n        }\n\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8597452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ejw7dMcUQFQ/AAAAAAAAAAI/AAAAAAAAB1k/Rl276k0s99w/photo.jpg?sz=128", "display_name": "Amatzia Tov", "link": "https://stackoverflow.com/users/8597452/amatzia-tov"}, "is_accepted": false, "score": -2, "last_activity_date": 1516293205, "creation_date": 1516293205, "answer_id": 48326091, "question_id": 33134579, "link": "https://stackoverflow.com/questions/33134579/keyvault-getsecretasync-never-returns/48326091#48326091", "title": "KeyVault GetSecretAsync never returns", "body": "<p>This generic method can be used to override the deadlock issue:</p>\n\n<pre><code>public static T SafeAwaitResult&lt;T&gt;(Func&lt;Task&lt;T&gt;&gt; f)\n{\n    return Task.Run(async () =&gt; await f()).Result;\n}\n</code></pre>\n\n<p>Use:</p>\n\n<pre><code>SafeAwaitResult(() =&gt; foo(param1, param2));\n</code></pre>\n"}], "owner": {"reputation": 2474, "user_id": 782964, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kVf2a.jpg?s=128&g=1", "display_name": "Gabriel G. Roy", "link": "https://stackoverflow.com/users/782964/gabriel-g-roy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9455, "favorite_count": 3, "accepted_answer_id": 33134721, "answer_count": 5, "score": 3, "last_activity_date": 1516300071, "creation_date": 1444853009, "last_edit_date": 1444853812, "question_id": 33134579, "link": "https://stackoverflow.com/questions/33134579/keyvault-getsecretasync-never-returns", "title": "KeyVault GetSecretAsync never returns", "body": "<p>The sample code for working with KeyVault inside a web application has the following code in it:</p>\n\n<pre><code>public static async Task&lt;string&gt; GetSecret(string secretId)\n{\n    var secret = await keyVaultClient.GetSecretAsync(secretId);\n    return secret.Value;\n}\n</code></pre>\n\n<p>I've incorporated the <code>KeyVaultAccessor</code> object included in the sample in my application in order to test it. The call is executed as part of a query to one of my web api controller methods:</p>\n\n<pre><code>var secret = KeyVaultAccessor.GetSecret(\"https://superSecretUri\").Result;\n</code></pre>\n\n<p>Unfortunately, the call never returns and the query hangs indefintely...</p>\n\n<p>What might be the reason, because frankly I have no clue where to start...?</p>\n"}, {"tags": ["c#", "linq", "linq-to-xml"], "comments": [{"owner": {"reputation": 1724, "user_id": 3241687, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d947e2e67319fa6adcf088098adf3079?s=128&d=identicon&r=PG&f=1", "display_name": "horns", "link": "https://stackoverflow.com/users/3241687/horns"}, "edited": false, "score": 0, "creation_date": 1444854255, "post_id": 33134552, "comment_id": 54081419, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/200574/linq-equivalent-of-foreach-for-ienumerablet\">LINQ equivalent of foreach for IEnumerable&lt;T&gt;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1724, "user_id": 3241687, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d947e2e67319fa6adcf088098adf3079?s=128&d=identicon&r=PG&f=1", "display_name": "horns", "link": "https://stackoverflow.com/users/3241687/horns"}, "is_accepted": false, "score": 2, "last_activity_date": 1444853104, "creation_date": 1444853104, "answer_id": 33134604, "question_id": 33134552, "link": "https://stackoverflow.com/questions/33134552/how-to-invoke-a-method-for-each-item-using-linq/33134604#33134604", "title": "how to invoke a method for each item using LINQ?", "body": "<p>You can't. LINQ functions are designed to not cause side effects. ForEach is designed to cause side effects. Hence, there is no ForEach LINQ function.</p>\n\n<p>See <a href=\"http://blogs.msdn.com/b/ericlippert/archive/2009/05/18/foreach-vs-foreach.aspx\" rel=\"nofollow\">\"foreach\" vs \"ForEach\"</a> by Eric Lippert</p>\n"}, {"comments": [{"owner": {"reputation": 8587, "user_id": 352157, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7a2b68ea3bfc81279c6c40a00930e098?s=128&d=identicon&r=PG", "display_name": "kacalapy", "link": "https://stackoverflow.com/users/352157/kacalapy"}, "edited": false, "score": 0, "creation_date": 1444854288, "post_id": 33134618, "comment_id": 54081443, "body": "looks identical to the for each i have after the generation of the href &lt;list&gt;"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "reply_to_user": {"reputation": 8587, "user_id": 352157, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7a2b68ea3bfc81279c6c40a00930e098?s=128&d=identicon&r=PG", "display_name": "kacalapy", "link": "https://stackoverflow.com/users/352157/kacalapy"}, "edited": false, "score": 0, "creation_date": 1444854594, "post_id": 33134618, "comment_id": 54081614, "body": "@kacalapy I just inlined the query and took off the <code>ToList()</code>  using <code>List.Foreach()</code> adds no value - all it&#39;s doing is iterating internally the same way <code>foreach</code> does."}], "tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": true, "score": 1, "last_activity_date": 1444853137, "creation_date": 1444853137, "answer_id": 33134618, "question_id": 33134552, "link": "https://stackoverflow.com/questions/33134552/how-to-invoke-a-method-for-each-item-using-linq/33134618#33134618", "title": "how to invoke a method for each item using LINQ?", "body": "<p>Don't try to use <code>foreach</code> with Linq.  Id adds no values and makes it harder to debug.  You <em>can</em> embed the query in the <code>foreach</code> call like so:</p>\n\n<pre><code>foreach (string s in html.DocumentNode\n                         .SelectNodes(\"//a[@href]\")\n                         .Select(a =&gt; a.Attributes[\"href\"].Value)\n                         .Where(href =&gt; !href.StartsWith(\"mailto:\"))) \n{\n    getWEbData(s);\n}\n</code></pre>\n\n<p>Note that <code>ToList()</code> is unnecessary (whether you do the query inside or outside of the <code>foreach</code>)</p>\n"}, {"tags": [], "owner": {"reputation": 10229, "user_id": 621316, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5203b24e171961e916d054b73d8b5b59?s=128&d=identicon&r=PG", "display_name": "Dave Cousineau", "link": "https://stackoverflow.com/users/621316/dave-cousineau"}, "is_accepted": false, "score": -1, "last_activity_date": 1444923675, "last_edit_date": 1444923675, "creation_date": 1444853626, "answer_id": 33134749, "question_id": 33134552, "link": "https://stackoverflow.com/questions/33134552/how-to-invoke-a-method-for-each-item-using-linq/33134749#33134749", "title": "how to invoke a method for each item using LINQ?", "body": "<p>There is no LINQ <code>.ForEach</code> method, but you can easily write your own:</p>\n\n<pre><code>public static class IEnumerableExtensions {\n   public static void ForEach&lt;T&gt;(this IEnumerable&lt;T&gt; pEnumerable, Action&lt;T&gt; pAction) {\n      foreach (var item in pEnumerable)\n         pAction(item);\n   }\n}\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>html\n.DocumentNode\n.SelectNodes(\"//a[@href]\")\n.Select(a =&gt; a.Attributes[\"href\"].Value)\n.Where(href =&gt; !href.StartsWith(\"mailto:\")) // skip emails, find only url links\n.ForEach(href =&gt; getWEbData(href.ToString ()));\n</code></pre>\n\n<p>or slightly better (although I think <code>href</code> may already be a <code>string</code>):</p>\n\n<pre><code>...\n.Select(href =&gt; href.ToString())\n.ForEach(getWEbData);\n</code></pre>\n\n<p>Although, as others have indicated, just because you can doesn't necessarily mean you should, but that was not your question.</p>\n"}, {"tags": [], "owner": {"reputation": 461, "user_id": 5414993, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e8ldR.jpg?s=128&g=1", "display_name": "Varun Vasishtha", "link": "https://stackoverflow.com/users/5414993/varun-vasishtha"}, "is_accepted": false, "score": 0, "last_activity_date": 1444854868, "creation_date": 1444854868, "answer_id": 33135083, "question_id": 33134552, "link": "https://stackoverflow.com/questions/33134552/how-to-invoke-a-method-for-each-item-using-linq/33135083#33135083", "title": "how to invoke a method for each item using LINQ?", "body": "<p>you can use foreach with Linq but its better to have a constructor i.e. in Select statement take a new class object and make a parameterized constructor of that class an in the constructor you can do whatever you want it is one of the easiest and efficient way.</p>\n"}], "owner": {"reputation": 8587, "user_id": 352157, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7a2b68ea3bfc81279c6c40a00930e098?s=128&d=identicon&r=PG", "display_name": "kacalapy", "link": "https://stackoverflow.com/users/352157/kacalapy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3173, "favorite_count": 0, "accepted_answer_id": 33134618, "answer_count": 4, "score": 1, "last_activity_date": 1444923675, "creation_date": 1444852885, "question_id": 33134552, "link": "https://stackoverflow.com/questions/33134552/how-to-invoke-a-method-for-each-item-using-linq", "title": "how to invoke a method for each item using LINQ?", "body": "<p>I am trying to get a method invoked for each item in a list while passing that method the list item itself. Basically I can do it the drawn out way but was trying to get it in a concise LINQ statement like so:</p>\n\n<pre><code>var urls = html.DocumentNode.SelectNodes(\"//a[@href]\")\n             .Select(a =&gt; a.Attributes[\"href\"].Value)\n             .Where(href =&gt; !href.StartsWith(\"mailto:\")) // skip emails, find only url links\n             .ToList();\n            //.ToList().ForEach(href =&gt; getWEbData(href.ToString ()));\n\n            foreach (string s in urls) {\n                getWEbData(s);\n            }\n</code></pre>\n\n<blockquote>\n  <p>I could not figure out how to get the .ForEach() in to the LINQ\n  shorthand or if its possible.</p>\n</blockquote>\n"}, {"tags": ["c#", "linq", "sorting", "sql-order-by", "iqueryable"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 3112698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b52b3315435e01838c71a2d93a3e2cf5?s=128&d=identicon&r=PG&f=1", "display_name": "tang_s", "link": "https://stackoverflow.com/users/3112698/tang-s"}, "edited": false, "score": 0, "creation_date": 1444854783, "post_id": 33134615, "comment_id": 54081715, "body": "Absolutely fantastic! This has been driving me nuts on and off for the past couple of weeks. Thanks!!"}], "tags": [], "owner": {"reputation": 28997, "user_id": 236660, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/1f5O3.png?s=128&g=1", "display_name": "Dmytro Shevchenko", "link": "https://stackoverflow.com/users/236660/dmytro-shevchenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1444853134, "creation_date": 1444853134, "answer_id": 33134615, "question_id": 33134478, "link": "https://stackoverflow.com/questions/33134478/iqueryable-linq-orderby-fail-sorts-only-a-limited-number-of-records/33134615#33134615", "title": "IQueryable/Linq Orderby Fail: Sorts only a limited number of records", "body": "<p>You are applying your sorting on top of the previous Linq query, since you are overwriting your <code>folders</code> variable every time. Instead, you should keep <code>folders</code> as an unsorted data source and keep sorted results separately, without overwriting <code>folders</code>.</p>\n\n<p>So instead of this:</p>\n\n<pre><code>folders = (from f in folders ...\n</code></pre>\n\n<p>You should do this:</p>\n\n<pre><code>var sortedFolders = (from f in folders ...\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 3112698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b52b3315435e01838c71a2d93a3e2cf5?s=128&d=identicon&r=PG&f=1", "display_name": "tang_s", "link": "https://stackoverflow.com/users/3112698/tang-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 33134615, "answer_count": 1, "score": 0, "last_activity_date": 1444853134, "creation_date": 1444852622, "question_id": 33134478, "link": "https://stackoverflow.com/questions/33134478/iqueryable-linq-orderby-fail-sorts-only-a-limited-number-of-records", "title": "IQueryable/Linq Orderby Fail: Sorts only a limited number of records", "body": "<p>I have a an application that handles hundreds of records at a time and I use the following code to order the query but it will sort and order only a limited number of records.</p>\n\n<pre><code>switch (sortOrder)\n{\ncase \"created\":\n    folders = (from f in folders orderby f.created_date ascending select f);\n\n    //folders = folders.OrderBy(f =&gt; f.created_date.Value.Year)\n    //                .ThenBy(f =&gt; f.created_date.Value.Month)\n    //                .ThenBy(f =&gt; f.created_date.Value.Day);\n    break;\ncase \"created_desc\":\n    folders = (from f in folders orderby f.created_date descending select f);\n\n    //folders = folders.OrderByDescending(f =&gt; f.created_date.Value.Year)\n    //                    .ThenByDescending(f =&gt; f.created_date.Value.Month)\n    //                    .ThenByDescending(f =&gt; f.created_date.Value.Day);\n    break;\ndefault:\n    folders = folders.OrderBy(f =&gt; f.folder_number);\n    break;\n}\n</code></pre>\n\n<p>Additionally, when I try to sort it multiple times: ascending, descending then ascending again, it won't sort past the first ascending sort. If that makes sense. So it'll sort fine for the first 20 or so records, but then when you continue to scroll down, you can see that all of the records were not sorted properly. I've tried IQueryable and Linq and both produces the same results.</p>\n\n<p><a href=\"https://i.stack.imgur.com/w3Osw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w3Osw.png\" alt=\"Sort by Create Date img1\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/QRiNo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QRiNo.png\" alt=\"Sort by Create Date img2\"></a></p>\n"}, {"tags": ["c#", "odata", "asp.net-web-api2"], "comments": [{"owner": {"reputation": 395, "user_id": 3056659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a06ac0bba0674eeff13e8516b18c67a9?s=128&d=identicon&r=PG&f=1", "display_name": "Layla Liu MSFT", "link": "https://stackoverflow.com/users/3056659/layla-liu-msft"}, "edited": false, "score": 0, "creation_date": 1444961500, "post_id": 33134439, "comment_id": 54131661, "body": "Have you checked whether the ByKey function exists in the generated code ? It should be in ExtensionMethods class."}, {"owner": {"reputation": 115, "user_id": 3800228, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Ijv87.jpg?s=128&g=1", "display_name": "Sameel", "link": "https://stackoverflow.com/users/3800228/sameel"}, "reply_to_user": {"reputation": 395, "user_id": 3056659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a06ac0bba0674eeff13e8516b18c67a9?s=128&d=identicon&r=PG&f=1", "display_name": "Layla Liu MSFT", "link": "https://stackoverflow.com/users/3056659/layla-liu-msft"}, "edited": false, "score": 0, "creation_date": 1445013690, "post_id": 33134439, "comment_id": 54158372, "body": "Hi, @LaylaLiuMSFT Yes the function exists in the class that is generated by OData Client Code Generator."}, {"owner": {"reputation": 395, "user_id": 3056659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a06ac0bba0674eeff13e8516b18c67a9?s=128&d=identicon&r=PG&f=1", "display_name": "Layla Liu MSFT", "link": "https://stackoverflow.com/users/3056659/layla-liu-msft"}, "edited": false, "score": 0, "creation_date": 1445223273, "post_id": 33134439, "comment_id": 54216529, "body": "@Sameet, Could you please provide me your service metadata? and the generated code piece?"}], "owner": {"reputation": 115, "user_id": 3800228, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Ijv87.jpg?s=128&g=1", "display_name": "Sameel", "link": "https://stackoverflow.com/users/3800228/sameel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 461, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444852818, "creation_date": 1444852487, "last_edit_date": 1444852818, "question_id": 33134439, "link": "https://stackoverflow.com/questions/33134439/odata-client-code-generator-bykey-method-is-not-defined", "title": "OData Client Code Generator- ByKey method is not defined", "body": "<p>I am working with <strong>OData Client Code Generator v4</strong> and <strong>WebApi 2</strong>\nI have <strong>One-To-Many</strong> Relationship between two tables(<strong>Teacher</strong> and <strong>Subject</strong>) and I am trying to get <strong>Subjects of Teacher</strong>.</p>\n\n<p>My scenario is same as described in the following blog post(where we can access the Parent of Boss):\n<a href=\"http://blogs.msdn.com/b/odatateam/archive/2014/07/09/odata-client-code-generator-2-0-0-release.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/odatateam/archive/2014/07/09/odata-client-code-generator-2-0-0-release.aspx</a>.</p>\n\n<p>But the problem is that when I code, Visual studio gives an error that <strong>ByKey</strong> \nmethod is not defined.\nHow can I solve this problem?</p>\n"}, {"tags": ["c#", ".net", "csv", "ping"], "comments": [{"owner": {"reputation": 96748, "user_id": 74757, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/10331bb0b4eb995500acc85fb0d16aea?s=128&d=identicon&r=PG", "display_name": "C\u1d0f\u0280\u028f", "link": "https://stackoverflow.com/users/74757/c%e1%b4%8f%ca%80%ca%8f"}, "edited": false, "score": 0, "creation_date": 1444852918, "post_id": 33134402, "comment_id": 54080612, "body": "There are syntax errors in the above code. Are you using an IDE? You&#39;re missing quotes around your filename, and you&#39;re using a variable called <code>stream</code> without ever declaring it"}, {"owner": {"reputation": 426, "user_id": 5410228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oHccP.png?s=128&g=1", "display_name": "bkaf", "link": "https://stackoverflow.com/users/5410228/bkaf"}, "edited": false, "score": 0, "creation_date": 1444853017, "post_id": 33134402, "comment_id": 54080675, "body": "You are not even using the <code>writer</code> you are just writing on the console and the initialization of your <code>SteamWriter</code> seems to be wrong. Also, as others have said please provide your errors."}, {"owner": {"reputation": 11, "user_id": 5446537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a7c4c5c61ffa61657be30369d65013?s=128&d=identicon&r=PG&f=1", "display_name": "Zee", "link": "https://stackoverflow.com/users/5446537/zee"}, "edited": false, "score": 0, "creation_date": 1444854048, "post_id": 33134402, "comment_id": 54081288, "body": "The error now is that I have an ArgumentException Unhandled Error."}, {"owner": {"reputation": 11, "user_id": 5446537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a7c4c5c61ffa61657be30369d65013?s=128&d=identicon&r=PG&f=1", "display_name": "Zee", "link": "https://stackoverflow.com/users/5446537/zee"}, "edited": false, "score": 0, "creation_date": 1444854062, "post_id": 33134402, "comment_id": 54081299, "body": "by the way I added in: using (var stream = new FileStream(filename, FileMode.Open, FileAccess.Read))"}, {"owner": {"reputation": 96748, "user_id": 74757, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/10331bb0b4eb995500acc85fb0d16aea?s=128&d=identicon&r=PG", "display_name": "C\u1d0f\u0280\u028f", "link": "https://stackoverflow.com/users/74757/c%e1%b4%8f%ca%80%ca%8f"}, "edited": false, "score": 4, "creation_date": 1444854953, "post_id": 33134402, "comment_id": 54081810, "body": "@Zee: Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. It&#39;s really hard to help debug code that won&#39;t even compile in the first place. Edit your question to add the exact code you&#39;re running, and provide full stack traces when you capture the errors."}, {"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 1, "creation_date": 1444858990, "post_id": 33134402, "comment_id": 54083770, "body": "@Zee: please do not modify the question in a way that answers that were already given become invalid. I have rolled the changes back. If Cory&#39;s answer helped you solve some severe problems, then accept it. Ask a new question if there are still some issues remaining."}, {"owner": {"reputation": 11, "user_id": 5446537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a7c4c5c61ffa61657be30369d65013?s=128&d=identicon&r=PG&f=1", "display_name": "Zee", "link": "https://stackoverflow.com/users/5446537/zee"}, "edited": false, "score": 0, "creation_date": 1444916495, "post_id": 33134402, "comment_id": 54109571, "body": "This code compiles, and sorry if it seems like I&#39;m not thankful for your help, specially cory. I am very thankful, I appreciate you taking the time to help me figure this out its just that I&#39;m trying to get this done as soon as possible."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5446537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a7c4c5c61ffa61657be30369d65013?s=128&d=identicon&r=PG&f=1", "display_name": "Zee", "link": "https://stackoverflow.com/users/5446537/zee"}, "edited": false, "score": 0, "creation_date": 1444870147, "post_id": 33135586, "comment_id": 54087363, "body": "I&#39;m still getting the same error: DirectoryNotFoundException was Unhandled. And the false turns red. Also, Additional information- could not find a part of the path @&quot;C:\\temp\\PingLog.csv&quot;;"}, {"owner": {"reputation": 96748, "user_id": 74757, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/10331bb0b4eb995500acc85fb0d16aea?s=128&d=identicon&r=PG", "display_name": "C\u1d0f\u0280\u028f", "link": "https://stackoverflow.com/users/74757/c%e1%b4%8f%ca%80%ca%8f"}, "reply_to_user": {"reputation": 11, "user_id": 5446537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a7c4c5c61ffa61657be30369d65013?s=128&d=identicon&r=PG&f=1", "display_name": "Zee", "link": "https://stackoverflow.com/users/5446537/zee"}, "edited": false, "score": 0, "creation_date": 1444870216, "post_id": 33135586, "comment_id": 54087380, "body": "What is the error? I ran this exact code without error before I posted it."}, {"owner": {"reputation": 11, "user_id": 5446537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a7c4c5c61ffa61657be30369d65013?s=128&d=identicon&r=PG&f=1", "display_name": "Zee", "link": "https://stackoverflow.com/users/5446537/zee"}, "edited": false, "score": 0, "creation_date": 1444871024, "post_id": 33135586, "comment_id": 54087558, "body": "I&#39;m still getting the same error: DirectoryNotFoundException was Unhandled. And the false turns red. Also, Additional information- could not find a part of the path @&quot;C:\\temp\\PingLog.csv&quot;;"}, {"owner": {"reputation": 96748, "user_id": 74757, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/10331bb0b4eb995500acc85fb0d16aea?s=128&d=identicon&r=PG", "display_name": "C\u1d0f\u0280\u028f", "link": "https://stackoverflow.com/users/74757/c%e1%b4%8f%ca%80%ca%8f"}, "reply_to_user": {"reputation": 11, "user_id": 5446537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a7c4c5c61ffa61657be30369d65013?s=128&d=identicon&r=PG&f=1", "display_name": "Zee", "link": "https://stackoverflow.com/users/5446537/zee"}, "edited": false, "score": 1, "creation_date": 1444871705, "post_id": 33135586, "comment_id": 54087699, "body": "You should change the file path the match something on your filesystem. You can add additional code to check whether a directory exists and create it if it doesn&#39;t exist. I leave that as an exercise for you."}], "tags": [], "owner": {"reputation": 96748, "user_id": 74757, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/10331bb0b4eb995500acc85fb0d16aea?s=128&d=identicon&r=PG", "display_name": "C\u1d0f\u0280\u028f", "link": "https://stackoverflow.com/users/74757/c%e1%b4%8f%ca%80%ca%8f"}, "is_accepted": false, "score": 1, "last_activity_date": 1444858599, "last_edit_date": 1444858599, "creation_date": 1444856829, "answer_id": 33135586, "question_id": 33134402, "link": "https://stackoverflow.com/questions/33134402/ping-a-website-and-save-the-data-in-an-csv-file/33135586#33135586", "title": "Ping a website and save the data in an .csv file", "body": "<p>Here's a working example. I added some comments where you had syntax errors or where I made adjustments to your original code.</p>\n\n<pre><code>// Missing quotes, should probably be a full file path\nstring filename = @\"C:\\temp\\PingLog.csv\";\n\n// You had an extra opening brace here\n\n// Open a file for writing using the filename, and a flag that means whether to append\nusing (var writer = new StreamWriter(filename, false))\n{\n    // Write a CSV header\n    writer.WriteLine(\"Status, Time, Address\");\n    try\n    {\n        Ping myPing = new Ping();\n        PingReply reply = myPing.Send(\"www.yahoo.com\", 1000);\n        if (reply != null)\n        {\n            // Use the overload of WriteLine that accepts string format and arguments\n            writer.WriteLine(\"{0}, {1}, {2}\", reply.Status, reply.RoundtripTime, reply.Address);\n        }\n    }\n    catch\n    {                   \n        // You had a syntax error here\n        Console.WriteLine(\"ERROR: You have some TIMEOUT issue\");\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5446537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a7c4c5c61ffa61657be30369d65013?s=128&d=identicon&r=PG&f=1", "display_name": "Zee", "link": "https://stackoverflow.com/users/5446537/zee"}, "is_accepted": true, "score": 0, "last_activity_date": 1444934193, "creation_date": 1444934193, "answer_id": 33156036, "question_id": 33134402, "link": "https://stackoverflow.com/questions/33134402/ping-a-website-and-save-the-data-in-an-csv-file/33156036#33156036", "title": "Ping a website and save the data in an .csv file", "body": "<p>Ok I have most of this figured out. Thank you all so much for helping me. \nAlthough, I still need this to ping at least three more websites and give me 4 ping results per website. \nSo if someone could please, please just help me out a little bit more.\nHere is what I have and this so far it works: </p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Net.NetworkInformation;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace Ping Application\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            string filename = @\"PingLog.csv\";\n            {\n                using (var writer = new StreamWriter(filename, true)) \n                {\n                    writer.WriteLine(\"www.yahoo.com\", Time in MilliSeconds);\n                    try\n                    {\n                        Ping myPing = new Ping();\n                        PingReply reply = myPing.Send(\"www.yahoo.com\", 1000);\n                        if (reply != null)\n                        {\n                            Console.WriteLine(\"{0}, {1}, {2}\", reply.Address, reply.RoundtripTime, reply.RoundtripTime);\n                        }\n                    }                   \n                    catch\n                    {\n                        Console.WriteLine.(\"ERROR: You have some TIMEOUT issue\");\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5446537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a7c4c5c61ffa61657be30369d65013?s=128&d=identicon&r=PG&f=1", "display_name": "Zee", "link": "https://stackoverflow.com/users/5446537/zee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 0, "accepted_answer_id": 33156036, "answer_count": 2, "score": 0, "last_activity_date": 1445264800, "creation_date": 1444852362, "last_edit_date": 1445264800, "question_id": 33134402, "link": "https://stackoverflow.com/questions/33134402/ping-a-website-and-save-the-data-in-an-csv-file", "title": "Ping a website and save the data in an .csv file", "body": "<p>When the code is RUN it has to ping the websites I specify 4 times each and then write the results in a .csv file. But I'm keep getting a TIMEOUT error. Can anyone tell me why? I tried so many different things and noting is working so far. Please help me out. </p>\n\n<pre><code>        static void Main(string[] args)\n        {\n            List&lt;string&gt; lstWebSites = new List&lt;string&gt;();\n            lstWebSites.Add(\"www.yahoo.com\");\n            lstWebSites.Add(\"www.att.com\");\n            lstWebSites.Add(\"www.verizon\");\n            string filename = @\"PingLog.csv\";\n            {\n                using (var writer = new StreamWriter(filename, true)) \n                {\n                    foreach(string website in lstWebSites)\n                    {\n                        writer.WriteLine(website);\n                        try\n                        {\n                            Ping myPing = new Ping();\n                            PingReply reply = myPing.Send(website, 1000);\n                            if (reply != null)\n                            {\n                                Console.WriteLine(\"{0}, {1}\", reply.Address, reply.RoundtripTime);\n                            }\n                        }                   \n                        catch\n                        {\n                            Console.WriteLine.(\"ERROR: You have some TIMEOUT issue\");\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "database", "datatable", "auto-increment", "dataadapter"], "answers": [{"comments": [{"owner": {"reputation": 291, "user_id": 3329717, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5484007359b5a69ce917c77db532ac5a?s=128&d=identicon&r=PG&f=1", "display_name": "Utundu", "link": "https://stackoverflow.com/users/3329717/utundu"}, "edited": false, "score": 0, "creation_date": 1444858864, "post_id": 33134893, "comment_id": 54083708, "body": "Thank you so much, I didn&#39;t know that !"}], "tags": [], "owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "is_accepted": true, "score": 1, "last_activity_date": 1444854192, "creation_date": 1444854192, "answer_id": 33134893, "question_id": 33134396, "link": "https://stackoverflow.com/questions/33134396/database-and-dataset-are-not-synced-regarding-auto-incrementing-id/33134893#33134893", "title": "Database and DataSet are not synced regarding auto incrementing ID", "body": "<p>According to <a href=\"https://msdn.microsoft.com/en-us/library/vstudio/system.data.common.dataadapter.acceptchangesduringupdate(v=vs.100).aspx\" rel=\"nofollow\">MSDN</a>, </p>\n\n<blockquote>\n  <p>Bydefault, <code>AcceptChanges</code> is called implicitly after an update, and the original values in the row, which may have been AutoIncrement values assigned by ADO.NET, are lost.</p>\n</blockquote>\n\n<p>So you need to create a strategy to merge the AutoIncremented value Either via ADO or getting back the incremented Id from Sql as output parameter and then merge the Identity column value as indicated in this MSDN <a href=\"https://msdn.microsoft.com/en-us/library/vstudio/ks9f57t0(v=vs.100).aspx\" rel=\"nofollow\">Article</a>.</p>\n"}], "owner": {"reputation": 291, "user_id": 3329717, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5484007359b5a69ce917c77db532ac5a?s=128&d=identicon&r=PG&f=1", "display_name": "Utundu", "link": "https://stackoverflow.com/users/3329717/utundu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 33134893, "answer_count": 1, "score": 0, "last_activity_date": 1444854192, "creation_date": 1444852341, "last_edit_date": 1444853586, "question_id": 33134396, "link": "https://stackoverflow.com/questions/33134396/database-and-dataset-are-not-synced-regarding-auto-incrementing-id", "title": "Database and DataSet are not synced regarding auto incrementing ID", "body": "<p>I built a Database (Microsoft SqlServerCe.4.0) using Visual Studio and one table containing two fields:</p>\n\n<ul>\n<li>id: int, primary key, not null, unique, no default value, identity</li>\n<li>nom, we don't really care about this one</li>\n</ul>\n\n<p>Then I built a DataSet containing this table as a DataTable and I have a DataAdapter like this :</p>\n\n<pre><code>        marque_adapter = factory.CreateDataAdapter();\n\n        command = connection.CreateCommand();\n        command.CommandText = \"SELECT * FROM \" + DB_TABLE_MARQUE + \";\";\n        marque_adapter.SelectCommand = command;\n\n        command = connection.CreateCommand();\n        command.CommandText = \"UPDATE \" + DB_TABLE_MARQUE + \" SET nom = @nom WHERE id = @id;\";\n        CreateAndAddParameterFromSource(command, \"id\", \"id\");\n        CreateAndAddParameterFromSource(command, \"nom\", \"nom\");\n        marque_adapter.UpdateCommand = command;\n\n        command = connection.CreateCommand();\n        command.CommandText = \"DELETE \" + DB_TABLE_MARQUE + \" WHERE id = @id;\";\n        CreateAndAddParameterFromSource(command, \"id\", \"id\");\n        marque_adapter.DeleteCommand = command;\n\n        command = connection.CreateCommand();\n        command.CommandText = \"INSERT INTO \" + DB_TABLE_MARQUE + \" (nom) VALUES (@nom);\";\n        CreateAndAddParameterFromSource(command, \"nom\", \"nom\");\n        marque_adapter.InsertCommand = command;\n        //...\n        data = new DataSet();\n        marque_adapter.Fill(data, DB_TABLE_MARQUE);\n</code></pre>\n\n<p>The problem arises when I try to insert a new row.\nI do :</p>\n\n<ul>\n<li>table.NewRow()</li>\n<li>set the \"nom\" field</li>\n<li>table.Rows.Add(newRow)</li>\n<li>adapter.Update(dataSet, tableName)</li>\n</ul>\n\n<p>If I don't do anything else, I have issues later when I try to get the ID of this row (I guess it will set it somewhere between the four instructions above).\nI was expecting the DataTable to take care of generating one, but ...</p>\n\n<p>So I tried remindind the DataTable to take care of the auto incrementing :</p>\n\n<pre><code>idColumn.Unique = true;\nidColumn.AutoIncrement = true;\n</code></pre>\n\n<p>Now it works the first time, but when I run the program a second time, it starts counting from one again and I'm told that the ID should be unique. If I delete the database (the copy of the sdf file made by Visual), or if I delete the rows manually using Visual, it runs well the first time, and I get the same error after.</p>\n\n<p>The problem really is when I try to save my DataSet, particularly when adding new rows (selecting, updating, deleting is fine).</p>\n\n<p>Obviously I didn't get how to manage primary keys when the DataTable and the database are involved (the datatable alone is ok).\nParticularly to sync the two ...</p>\n\n<p>What did I miss ?\nI am quite sure I have misunderstood something.</p>\n"}, {"tags": ["c#", "csv"], "comments": [{"owner": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "edited": false, "score": 2, "creation_date": 1444852511, "post_id": 33134376, "comment_id": 54080358, "body": "How can you load a file with values from a file that doesn&#39;t exist?"}, {"owner": {"reputation": 51, "user_id": 2431691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ead3fdd44f6c6b6e9d545f2ee8cfa8dc?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/2431691/scott"}, "reply_to_user": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "edited": false, "score": 0, "creation_date": 1444853297, "post_id": 33134376, "comment_id": 54080865, "body": "The new file will exist if the old one doesn&#39;t"}, {"owner": {"reputation": 11526, "user_id": 235671, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/xKXSM.png?s=128&g=1", "display_name": "t3chb0t", "link": "https://stackoverflow.com/users/235671/t3chb0t"}, "edited": false, "score": 0, "creation_date": 1444896141, "post_id": 33134376, "comment_id": 54096014, "body": "I&#39;m not sure if you know what you want. First you are goint to create a <code>newdict.csv</code> if <code>dict.csv</code> doesn&#39;t exist and then you want to load the contents of the not existing old file <code>dict.csv</code> into the <code>newdict.csv</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 2431691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ead3fdd44f6c6b6e9d545f2ee8cfa8dc?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/2431691/scott"}, "edited": false, "score": 0, "creation_date": 1444853777, "post_id": 33134711, "comment_id": 54081117, "body": "Well I want to keep the try catch, but how would I load the new csv file with newCredentials after it has been created?"}, {"owner": {"reputation": 108, "user_id": 4175719, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/628511c1b87b462cf5cb52f1422ac62b?s=128&d=identicon&r=PG&f=1", "display_name": "gemathus", "link": "https://stackoverflow.com/users/4175719/gemathus"}, "reply_to_user": {"reputation": 51, "user_id": 2431691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ead3fdd44f6c6b6e9d545f2ee8cfa8dc?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/2431691/scott"}, "edited": false, "score": 0, "creation_date": 1444853982, "post_id": 33134711, "comment_id": 54081252, "body": "@Scott doesn&#39;t File.WriteAllLines(string path, string[] lines) work for you?"}, {"owner": {"reputation": 51, "user_id": 2431691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ead3fdd44f6c6b6e9d545f2ee8cfa8dc?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/2431691/scott"}, "edited": false, "score": 0, "creation_date": 1444855494, "post_id": 33134711, "comment_id": 54082098, "body": "How could I add the credentials to the newdict file? @GeMaths"}, {"owner": {"reputation": 108, "user_id": 4175719, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/628511c1b87b462cf5cb52f1422ac62b?s=128&d=identicon&r=PG&f=1", "display_name": "gemathus", "link": "https://stackoverflow.com/users/4175719/gemathus"}, "reply_to_user": {"reputation": 51, "user_id": 2431691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ead3fdd44f6c6b6e9d545f2ee8cfa8dc?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/2431691/scott"}, "edited": false, "score": 0, "creation_date": 1444855769, "post_id": 33134711, "comment_id": 54082234, "body": "If you create the file &quot;newdict&quot; then you have to use File.AppendAllLines or File.WriteAllLines, both of them need the path of the newdict.csv and whatever lines you want to include, for example &quot;user,pass&quot; that&#39;s one line. If you see the code I first posted as an aswer, I include both lines in a string array, which I then pass as a parameter to the File.WriteAllLines method."}], "tags": [], "owner": {"reputation": 108, "user_id": 4175719, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/628511c1b87b462cf5cb52f1422ac62b?s=128&d=identicon&r=PG&f=1", "display_name": "gemathus", "link": "https://stackoverflow.com/users/4175719/gemathus"}, "is_accepted": true, "score": 2, "last_activity_date": 1444853480, "creation_date": 1444853480, "answer_id": 33134711, "question_id": 33134376, "link": "https://stackoverflow.com/questions/33134376/trying-to-create-a-try-catch-exception-where-if-a-file-cant-be-found-a-new-file/33134711#33134711", "title": "trying to create a try catch exception where if a file can&#39;t be found a new file with values of the old file is loaded instead", "body": "<p>I think you would be better off if you used:</p>\n\n<pre><code>string[] newCredentials, data, parts;\nif (!File.Exists(@\"C:\\Users\\Scott\\Documents\\dict.csv\"))\n{\n    //create .csv file\n    newCredentials = new string[2];\n    newCredentials[0] = \"Bob2,password\";\n    newCredentials[1] = \"user,pass\";\n    File.WriteAllLines(@\"C:\\Users\\Scott\\Documents\\newdict.csv\", newCredentials))\n    Credentials.Add(\"bob2\", \"password\");                          \n    Credentials.Add(\"user\", \"pass\");\n}\nelse\n{\n    data = File.ReadAllLines(@\"C:\\Users\\Scott\\Documents\\dict.csv\");\n    foreach(string login in data)\n    {\n        parts = login.Split(',');\n        Credentials.Add(parts[0].Trim(), parts[1].Trim());\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 2431691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ead3fdd44f6c6b6e9d545f2ee8cfa8dc?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/2431691/scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 33134711, "answer_count": 1, "score": 0, "last_activity_date": 1444853480, "creation_date": 1444852277, "question_id": 33134376, "link": "https://stackoverflow.com/questions/33134376/trying-to-create-a-try-catch-exception-where-if-a-file-cant-be-found-a-new-file", "title": "trying to create a try catch exception where if a file can&#39;t be found a new file with values of the old file is loaded instead", "body": "<p>I have a try catch exception where if the dict.csv file cant e found a messagebox will appear and a new file will be created called newdict.csv - How do I load the old value of the dict.csv file into the new file? </p>\n\n<p>The values being a list of usernames and passwords?</p>\n\n<pre><code>    try //checks for existing dict.csv file and reads it for key and value and checks against credentials\n        {\n\n            var data = File.ReadAllLines(@\"C:\\Users\\Scott\\Documents\\dict.csv\");//Reads all contents of a file and then closes the file once its been read\n            foreach (var login in data)\n            {\n                var parts = login.Split(',');//creates a variable called data and loads it with the dict.csv file\n                Credentials.Add(parts[0].Trim(), parts[1].Trim());//splites the key and value into [0] and [1] and trim removes leading and white space and applies \",\"\n            }\n        }\n        catch (FileNotFoundException)//How do I load the newdict.csv with values of dict.csv?\n        {\n            MessageBox.Show(\"dict.csv file does not exist! Creating new file called newdict.csv\", \"Error!\", MessageBoxButtons.OK, MessageBoxIcon.Exclamation);\n            using (StreamWriter writer = File.AppendText(@\"C:\\Users\\Scott\\Documents\\newdict.csv \"))\n            Credentials.Add(\"bob2\", \"password\");                          \n            Credentials.Add(\"user\", \"pass\");\n        }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "model-view-controller", "html.renderpartial"], "answers": [{"comments": [{"owner": {"reputation": 1074, "user_id": 1391692, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea5f6478c5ec3457dd552d8888e5be65?s=128&d=identicon&r=PG", "display_name": "De Vonte", "link": "https://stackoverflow.com/users/1391692/de-vonte"}, "edited": false, "score": 0, "creation_date": 1444854575, "post_id": 33134653, "comment_id": 54081602, "body": "Thank you, I will try to begin to implement and let you know if there are any issues"}, {"owner": {"reputation": 1074, "user_id": 1391692, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea5f6478c5ec3457dd552d8888e5be65?s=128&d=identicon&r=PG", "display_name": "De Vonte", "link": "https://stackoverflow.com/users/1391692/de-vonte"}, "edited": false, "score": 0, "creation_date": 1444859720, "post_id": 33134653, "comment_id": 54084103, "body": "Ok I have set up the partial view. How would I go by using this model that I returned in the Partial View?"}, {"owner": {"reputation": 1074, "user_id": 1391692, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea5f6478c5ec3457dd552d8888e5be65?s=128&d=identicon&r=PG", "display_name": "De Vonte", "link": "https://stackoverflow.com/users/1391692/de-vonte"}, "edited": false, "score": 0, "creation_date": 1444859922, "post_id": 33134653, "comment_id": 54084193, "body": "My main goal is to use the GetResponseObject in the view and fill up a table with the fields in the object\\"}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "reply_to_user": {"reputation": 1074, "user_id": 1391692, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea5f6478c5ec3457dd552d8888e5be65?s=128&d=identicon&r=PG", "display_name": "De Vonte", "link": "https://stackoverflow.com/users/1391692/de-vonte"}, "edited": false, "score": 0, "creation_date": 1444859963, "post_id": 33134653, "comment_id": 54084216, "body": "Just like any other normal view. Create a razor view named _Deliverable use @model as GetDeliverableResponse. And do what ever you want to do by acessing Model property on the page."}, {"owner": {"reputation": 1074, "user_id": 1391692, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea5f6478c5ec3457dd552d8888e5be65?s=128&d=identicon&r=PG", "display_name": "De Vonte", "link": "https://stackoverflow.com/users/1391692/de-vonte"}, "edited": false, "score": 0, "creation_date": 1444861021, "post_id": 33134653, "comment_id": 54084621, "body": "See updated code above. I am trying to use the Model property but none of my created fields are showing up. Anything i am doing wrong?"}, {"owner": {"reputation": 1074, "user_id": 1391692, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea5f6478c5ec3457dd552d8888e5be65?s=128&d=identicon&r=PG", "display_name": "De Vonte", "link": "https://stackoverflow.com/users/1391692/de-vonte"}, "edited": false, "score": 0, "creation_date": 1444861231, "post_id": 33134653, "comment_id": 54084711, "body": "The name of the view is DeleteDeliverable"}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "reply_to_user": {"reputation": 1074, "user_id": 1391692, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea5f6478c5ec3457dd552d8888e5be65?s=128&d=identicon&r=PG", "display_name": "De Vonte", "link": "https://stackoverflow.com/users/1391692/de-vonte"}, "edited": false, "score": 0, "creation_date": 1444861302, "post_id": 33134653, "comment_id": 54084746, "body": "Which view? You mean the main view?"}, {"owner": {"reputation": 1074, "user_id": 1391692, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea5f6478c5ec3457dd552d8888e5be65?s=128&d=identicon&r=PG", "display_name": "De Vonte", "link": "https://stackoverflow.com/users/1391692/de-vonte"}, "edited": false, "score": 0, "creation_date": 1444861362, "post_id": 33134653, "comment_id": 54084765, "body": "Sorry the main view is called DeliverableManagement and the partial View is DeleteDeliverable"}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "reply_to_user": {"reputation": 1074, "user_id": 1391692, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea5f6478c5ec3457dd552d8888e5be65?s=128&d=identicon&r=PG", "display_name": "De Vonte", "link": "https://stackoverflow.com/users/1391692/de-vonte"}, "edited": false, "score": 0, "creation_date": 1444861440, "post_id": 33134653, "comment_id": 54084794, "body": "Ok then model on DeleteDeliverable should be the one you created and use tha view name in RenderAction method and you should be good to go."}, {"owner": {"reputation": 1074, "user_id": 1391692, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea5f6478c5ec3457dd552d8888e5be65?s=128&d=identicon&r=PG", "display_name": "De Vonte", "link": "https://stackoverflow.com/users/1391692/de-vonte"}, "edited": false, "score": 0, "creation_date": 1444861802, "post_id": 33134653, "comment_id": 54084937, "body": "Sorry I am very new to this, I am able to use Model.deliverableResponse however when I go underneath deliverableResponse the only thing that shows is ExtensionData, ToString(), Equals etc. How would I use the viewName in the RenderAction? The second parameter in the RenderAction is the name of the folder that the View is located in."}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "reply_to_user": {"reputation": 1074, "user_id": 1391692, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea5f6478c5ec3457dd552d8888e5be65?s=128&d=identicon&r=PG", "display_name": "De Vonte", "link": "https://stackoverflow.com/users/1391692/de-vonte"}, "edited": false, "score": 0, "creation_date": 1444862007, "post_id": 33134653, "comment_id": 54085032, "body": "You have to write it as string like written in action method simply write RenderAction(&quot;DeleteDeliverable&quot;,....) keep the rest as is. this should work."}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "reply_to_user": {"reputation": 1074, "user_id": 1391692, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea5f6478c5ec3457dd552d8888e5be65?s=128&d=identicon&r=PG", "display_name": "De Vonte", "link": "https://stackoverflow.com/users/1391692/de-vonte"}, "edited": false, "score": 0, "creation_date": 1444862128, "post_id": 33134653, "comment_id": 54085088, "body": "Donot use render action on Delete partial view. Render action method is to show a view like control on mail view."}], "tags": [], "owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "is_accepted": true, "score": 1, "last_activity_date": 1444853285, "creation_date": 1444853285, "answer_id": 33134653, "question_id": 33134365, "link": "https://stackoverflow.com/questions/33134365/using-an-object-returned-from-html-renderaction/33134653#33134653", "title": "Using an object returned from Html.RenderAction", "body": "<p>RenderAction is used to directly write response to the page and helps in caching the partial view. Your method should return partial view instead of <code>GetDeliverableResponse</code>. You can define the partial view and use <code>GetDeliverableResponse</code> as it's model. </p>\n\n<pre><code>public ActionResult RetrieveDeliverableInfo(string uniqueId)\n{\n    var response = _target.DoSomething();\n    return PartialView(\"_Deliverable\", response );\n}\n</code></pre>\n\n<p>Here <code>_Derliverable</code> would be your partial view which will have <code>GetDeliverableResponse</code> as model. \nTo keep it more neat you can also Wrap the response object in a dedicated model class of <code>_Derliverable</code> like this:</p>\n\n<pre><code>class DerliverableModel\n{\n   public GetDeliverableResponse Derliverables { get; set; } \n}\n</code></pre>\n\n<p>now in your action method you need to pass the object of this model:</p>\n\n<pre><code>return PartialView(\"_Deliverable\", new DerliverableModel { Derliveries = response });\n</code></pre>\n"}], "owner": {"reputation": 1074, "user_id": 1391692, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea5f6478c5ec3457dd552d8888e5be65?s=128&d=identicon&r=PG", "display_name": "De Vonte", "link": "https://stackoverflow.com/users/1391692/de-vonte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 636, "favorite_count": 0, "accepted_answer_id": 33134653, "answer_count": 1, "score": 0, "last_activity_date": 1444860945, "creation_date": 1444852249, "last_edit_date": 1444860945, "question_id": 33134365, "link": "https://stackoverflow.com/questions/33134365/using-an-object-returned-from-html-renderaction", "title": "Using an object returned from Html.RenderAction", "body": "<p>I am using Html.RenderAction in my View to call a method that is in my controller. The controller method returns a custom object, I want to know how would I be able to use this returned object in the view.</p>\n\n<p>View</p>\n\n<pre><code>//at the top\n@model ServiceCheckerUI.Models.DeleteDeliverableModel\n\n@{ Html.RenderAction(\"retrieveDeliverableInfo\",\"DeliverableManagement\", new {uniqueId = element});}\n\n//Trying to use the model property\nModel.deliverableResponse.{properties}\n</code></pre>\n\n<p>Controller</p>\n\n<pre><code>public ActionResult retrieveDeliverableInfo(string uniqueId){\n    var response = _target.DoSomething();\n    return PartialView(\"DeleteDeliverable\", new DeleteDeliverableModel {deliverableResponse = response});\n}\n</code></pre>\n\n<p>Model</p>\n\n<pre><code>namespace ServiceCheckerUI.Models\n{\n    public DeleteDeliverableModel\n    {\n        //omit\n        public GetDeliverableResponse deliverableResponse {get;set}\n    }\n}\n</code></pre>\n\n<p>The GetDeliverableResponse object has fields like id, name etc which are strings and ints.</p>\n"}, {"tags": ["c#", "lambda", "delegates", "expression-trees"], "comments": [{"owner": {"reputation": 558, "user_id": 978549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df600d0be43e6f06be406be3abe0077b?s=128&d=identicon&r=PG", "display_name": "Victor", "link": "https://stackoverflow.com/users/978549/victor"}, "edited": false, "score": 0, "creation_date": 1444855509, "post_id": 33134283, "comment_id": 54082105, "body": "You do not need in Expression.IfThen because for each specific SetterInfo you combine exactly one specific lambda instance"}, {"owner": {"reputation": 558, "user_id": 978549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df600d0be43e6f06be406be3abe0077b?s=128&d=identicon&r=PG", "display_name": "Victor", "link": "https://stackoverflow.com/users/978549/victor"}, "edited": false, "score": 0, "creation_date": 1444855551, "post_id": 33134283, "comment_id": 54082128, "body": "Just plug in convertParcelFeatCall in proper place of your ExpressionTree and all should work just fine"}], "answers": [{"tags": [], "owner": {"reputation": 558, "user_id": 978549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df600d0be43e6f06be406be3abe0077b?s=128&d=identicon&r=PG", "display_name": "Victor", "link": "https://stackoverflow.com/users/978549/victor"}, "is_accepted": false, "score": 1, "last_activity_date": 1444857561, "creation_date": 1444857561, "answer_id": 33135758, "question_id": 33134283, "link": "https://stackoverflow.com/questions/33134283/conditional-method-calls-in-an-expression-tree/33135758#33135758", "title": "Conditional method calls in an expression tree", "body": "<p>You do not need in Expression.IfThen because for each specific SetterInfo you combine exactly one specific lambda instance.</p>\n\n<p>Just plug in convertParcelFeatCall in proper place of your ExpressionTree and all should work just fine.</p>\n\n<p>So your code might look like:</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        var program = new Program();\n\n        var weightLambda = program.DoInternal(\"Weight\").ToString() \n            == \"(Param_0, Param_1) =&gt; (Convert(Param_0).Weight = Convert(ChangeType(Param_1, System.Object)))\";\n\n        var goodiesLambda = program.DoInternal(\"Goodies\").ToString()\n            == \"(Param_0, Param_1) =&gt; (Convert(Param_0).Goodies = Convert(ChangeType(Param_1, ConvertParcelFeat(Param_1, \\\"Goodies\\\"))))\";\n\n        Console.WriteLine(\"WeightLambda is Ok: {0}\\nGoodiesLambda is Ok: {1}\", weightLambda, goodiesLambda);\n    }\n\n    public Action&lt;Object, Object&gt; Do(string name)\n    {\n        return DoInternal(name).Compile();\n    }\n\n    public Expression&lt;Action&lt;object, object&gt;&gt; DoInternal(string name)\n    {\n        var info = new {Name = name, Type = typeof(Program)};\n        var propertyInfo = info.Type.GetProperty(info.Name, BindingFlags.IgnoreCase | BindingFlags.Public | BindingFlags.Instance);\n\n        var objParameter = Expression.Parameter(typeof(object));\n        var valueParameter = Expression.Parameter(typeof(object));\n\n        //This is the method call I'm trying to add\n        Expression toBeTypeChanged;\n        if (info.Name[0] == 'G' &amp;&amp; info.Type.Name == \"Program\")\n        {\n            toBeTypeChanged = Expression.Call(ConvertParcelFeatMethod, valueParameter, Expression.Constant(info.Name));\n        }\n        else\n        {\n            toBeTypeChanged = Expression.Constant(propertyInfo.PropertyType);\n        }\n\n        var changeTypeCall = Expression.Call(ChangeTypeMethod, valueParameter, toBeTypeChanged);\n\n        var objCast = Expression.Convert(objParameter, info.Type);\n        var valueCast = Expression.Convert(changeTypeCall, propertyInfo.PropertyType);\n\n        var property = Expression.Property(objCast, propertyInfo);\n\n        var assignment = Expression.Assign(property, valueCast);\n\n        return Expression.Lambda&lt;Action&lt;object, object&gt;&gt;(assignment, objParameter, valueParameter);\n    }\n\n    public object Weight { get; set; }\n    public object Goodies { get; set; }\n\n    public static object ChangeType(object valueParameter, object constant)\n    {\n        return null;\n    }\n\n    public static object ConvertParcelFeat(object valueParameter, object constant)\n    {\n        return null;\n    }\n\n    public MethodInfo ConvertParcelFeatMethod\n    {\n        get { return typeof(Program).GetMethod(\"ConvertParcelFeat\"); }\n    }\n\n    public MethodInfo ChangeTypeMethod\n    {\n        get { return typeof(Program).GetMethod(\"ChangeType\"); }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 5326123, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9d4c8bd16c5cc18b396896d794c084b6?s=128&d=identicon&r=PG&f=1", "display_name": "jdm5310", "link": "https://stackoverflow.com/users/5326123/jdm5310"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444857561, "creation_date": 1444851990, "last_edit_date": 1444853659, "question_id": 33134283, "link": "https://stackoverflow.com/questions/33134283/conditional-method-calls-in-an-expression-tree", "title": "Conditional method calls in an expression tree", "body": "<p>I'm trying to add an additional method call to my expression tree, but I'm slightly confused how to implement it. Here is what I'm currently working with:</p>\n\n<pre><code>    private static Action&lt;object, object&gt; CreateSetter(SetterInfo info)\n    {\n        var propertyInfo = info.Type.GetProperty(info.Name, BindingFlags.IgnoreCase | BindingFlags.Public | BindingFlags.Instance);\n\n        if (propertyInfo == null)\n            return (s, v) =&gt; { };\n\n        var objParameter = Expression.Parameter(typeof(object));\n        var valueParameter = Expression.Parameter(typeof(object));\n\n        //This is the method call I'm trying to add\n        if (info.Name[0] == 'G' &amp;&amp; info.Type.Name == TaxDataConstant.ParcelFeat)\n        {\n            var convertParcelFeatCall = Expression.Call(ConvertParcelFeatMethod, valueParameter, Expression.Constant(info.Name));         \n        }\n\n        var changeTypeCall = Expression.Call(ChangeTypeMethod, valueParameter, Expression.Constant(propertyInfo.PropertyType));\n\n        var objCast = Expression.Convert(objParameter, info.Type);\n        var valueCast = Expression.Convert(changeTypeCall, propertyInfo.PropertyType);\n\n        var property = Expression.Property(objCast, propertyInfo);\n\n        var assignment = Expression.Assign(property, valueCast);\n\n        var lambda = Expression.Lambda&lt;Action&lt;object, object&gt;&gt;(assignment, objParameter, valueParameter);\n\n        return lambda.Compile();\n    }\n</code></pre>\n\n<p>What I want to happen is:</p>\n\n<p>1) If the name of the type in my SetterInfo object is ParcelFeat and the Properties name begins with 'G' I want to call ConvertParcelFeat on valueParameter and then call ChangeType on the return.</p>\n\n<p>2) If the name of the type is anything other than ParcelFeat call Changetype as normal with out the additional steps</p>\n\n<p>What I'm confused is how to build the conditional. I'm assuming the way I'm doing it in the above code is wrong and I need to use something like Expression.IfThen() to to build the conditional. I'm also unsure how I can chain the method calls like I want.</p>\n"}, {"tags": ["c#", "unit-testing", "mocking", "json.net", "moq"], "comments": [{"owner": {"reputation": 2042, "user_id": 1073742, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/QMy0y.jpg?s=128&g=1", "display_name": "Dan Csharpster", "link": "https://stackoverflow.com/users/1073742/dan-csharpster"}, "edited": false, "score": 0, "creation_date": 1481485795, "post_id": 33134245, "comment_id": 69385635, "body": "What is that configuration class? Is that from System.Configuration?  And what are you trying to do with this mock? It would help to see what kind of actions you are calling and asserting on the mock."}, {"owner": {"reputation": 5454, "user_id": 29277, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/76a5af1d74d4c3f624219cd36524a480?s=128&d=identicon&r=PG", "display_name": "Paul Mendoza", "link": "https://stackoverflow.com/users/29277/paul-mendoza"}, "edited": false, "score": 0, "creation_date": 1510187702, "post_id": 33134245, "comment_id": 81333422, "body": "I&#39;m getting the same error when I try to serialize a mock object with Newtonsoft Json."}], "owner": {"reputation": 537, "user_id": 2913959, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/vQP8c.jpg?s=128&g=1", "display_name": "cdalto", "link": "https://stackoverflow.com/users/2913959/cdalto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 987, "favorite_count": 2, "answer_count": 0, "score": 6, "last_activity_date": 1444868154, "creation_date": 1444851901, "last_edit_date": 1444868154, "question_id": 33134245, "link": "https://stackoverflow.com/questions/33134245/jsonserializationexception-when-creating-jtoken-from-mock-object", "title": "JsonSerializationException When Creating JToken from Mock Object", "body": "<p>I have a following line of code that I am trying to get past in unit testing with mocking up a certain class that makes calls internally to databases (not by my design):</p>\n\n<pre><code>var configuration = config.SelectToken(\"config\").ToObject&lt;Configuration&gt;();\n</code></pre>\n\n<p>I am trying to mock up the Configuration class and add it, as well as the \"config\" property name, to an instance of JObject:</p>\n\n<pre><code>var mockConfig= new Mock&lt;Configuration&gt;();\n\nvar jToken = JToken.FromObject(mockConfig);\n\ndynamic jsonObject = new JObject\n{\n    {\"config\", jToken }\n};\n</code></pre>\n\n<p>While trying to create a JToken from the mock object, I am receiving the following exception:</p>\n\n<blockquote>\n  <p>Newtonsoft.Json.JsonSerializationException : A member with the name 'Mock' already exists on 'Castle.Proxies.ConfigurationProxy'. Use the JsonPropertyAttribute to specify another name.</p>\n</blockquote>\n"}, {"tags": ["c#", "linux", "build", "mono", "asp.net-core"], "owner": {"reputation": 454, "user_id": 1781412, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8e786e13d8ebecc15336b93b24692eba?s=128&d=identicon&r=PG&f=1", "display_name": "robbert229", "link": "https://stackoverflow.com/users/1781412/robbert229"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1444851881, "creation_date": 1444851881, "question_id": 33134241, "link": "https://stackoverflow.com/questions/33134241/exception-thrown-when-building-microsoft-dnx-host-with-sake-and-korebuild", "title": "Exception thrown when building Microsoft.Dnx.Host with Sake and KoreBuild", "body": "<p>I cloned the the asp.net beta8 repository today and when I went to build it I ran into an error. </p>\n\n<pre><code>Building Microsoft.Dnx.Host for DNX,Version=v4.5.1\nError: Exception has been thrown by the target of an invocation.\nfail: Exit code 1 from dnu\nfail: Stack trace: \n...\n</code></pre>\n\n<p>The full stack trace can be found <a href=\"http://pastebin.com/E6XaaFKV\" rel=\"nofollow\">here</a>. I went through and found where build.sh was causing this error and I found that it was caused by the following command.</p>\n\n<pre><code>mono packages/Sake/tools/Sake.exe -I packages/KoreBuild/build -f makefile.shade \"$@\"\n</code></pre>\n\n<p>I am running</p>\n\n<pre><code>`Mono JIT compiler version 4.0.4 (Stable 4.0.4.1/5ab4c0d Tue Aug 25 23:11:51 UTC 2015)`\n`DNU Version:      1.0.0-rc1-15890`\n`DNX Version:      1.0.0-rc1-15890`\n</code></pre>\n\n<p>Any ideas as to why?</p>\n"}, {"tags": ["c#", "wpf", "checkbox", "datagrid", "datagridtemplatecolumn"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 5224640, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8d038265817fa6814ba028f56edea8f1?s=128&d=identicon&r=PG&f=1", "display_name": "Murilo lima alves", "link": "https://stackoverflow.com/users/5224640/murilo-lima-alves"}, "edited": false, "score": 1, "creation_date": 1444906333, "post_id": 33136261, "comment_id": 54102550, "body": "Hello King King,  It worked as I wanted. I&#39;ll do some research to improve my knowledge and my WPF project too... thank you!"}], "tags": [], "owner": {"reputation": 56558, "user_id": 1679602, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/waYTU.jpg?s=128&g=1", "display_name": "King King", "link": "https://stackoverflow.com/users/1679602/king-king"}, "is_accepted": true, "score": 1, "last_activity_date": 1444859685, "creation_date": 1444859685, "answer_id": 33136261, "question_id": 33134236, "link": "https://stackoverflow.com/questions/33134236/wpf-datagridtemplatecolumn-trigger-for-checkbox-ischecked-property/33136261#33136261", "title": "WPF DataGridTemplateColumn - Trigger for CheckBox IsChecked Property", "body": "<p>Firstly I recommend you not to use <code>DataTable</code> in WPF, because we usually use EF in WPF, the <code>DataTable</code> is part of ADO.NET and it's old and nearly deprecated.</p>\n\n<p>For your problems, you have somethings to fix involving the Binding and the Trigger. First the implicit <code>DataContext</code> in each row here is a <code>DataRowView</code>. It's available only for <code>DataTrigger</code> to use (not for <code>Trigger</code>). So you need to use <code>DataTrigger</code> instead to listen to the index <code>[4]</code> (which references to the fifth column - the column of CheckBox). Second the <code>Style</code> you set is wrong, it should be wrapped in <code>CheckBox.Style</code> to make it understand that you set Style for <code>CheckBox</code>, not for its <code>Content</code>. Third the <code>Style</code> Trigger cannot override locally set <code>IsChecked</code> (as in your code), in this case the template Trigger can override that, but you can also use a Style Setter to set default value <code>True</code> for <code>IsChecked</code>.\nHere is the code you should have:</p>\n\n<pre><code>&lt;DataGridTemplateColumn Header=\"Value?\"&gt;\n  &lt;DataGridTemplateColumn.CellTemplate&gt;\n    &lt;DataTemplate&gt;\n        &lt;CheckBox Checked=\"CheckBox_Checked\" Unchecked=\"CheckBox_Unchecked\"&gt;\n            &lt;CheckBox.Style&gt;\n               &lt;Style TargetType=\"{x:Type CheckBox}\"&gt;\n                  &lt;Setter Property=\"IsChecked\" Value=\"True\"/&gt;\n                  &lt;Style.Triggers&gt;\n                    &lt;DataTrigger Binding=\"{Binding [4]}\" Value=\"1\"&gt;\n                        &lt;Setter Property=\"IsChecked\" Value=\"True\"/&gt;\n                    &lt;/DataTrigger&gt;\n                    &lt;DataTrigger Binding=\"{Binding [4]}\" Value=\"2\"&gt;\n                        &lt;Setter Property=\"IsChecked\" Value=\"False\"/&gt;\n                    &lt;/DataTrigger&gt;\n                  &lt;/Style.Triggers&gt;\n              &lt;/Style&gt;\n            &lt;CheckBox.Style&gt;\n        &lt;/CheckBox&gt;\n    &lt;/DataTemplate&gt;\n  &lt;/DataGridTemplateColumn.CellTemplate&gt;\n&lt;/DataGridTemplateColumn&gt;\n</code></pre>\n\n<p>BTW, I can see that you use event handler to update the value of the underlying data. But that's not the right way to go in term of MVVM where almost what you need is Binding and related stuff. However that part is yours, you need to research more on that. I think it's enough to end this problem here.</p>\n"}], "owner": {"reputation": 85, "user_id": 5224640, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8d038265817fa6814ba028f56edea8f1?s=128&d=identicon&r=PG&f=1", "display_name": "Murilo lima alves", "link": "https://stackoverflow.com/users/5224640/murilo-lima-alves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3262, "favorite_count": 0, "accepted_answer_id": 33136261, "answer_count": 1, "score": 1, "last_activity_date": 1444859685, "creation_date": 1444851869, "question_id": 33134236, "link": "https://stackoverflow.com/questions/33134236/wpf-datagridtemplatecolumn-trigger-for-checkbox-ischecked-property", "title": "WPF DataGridTemplateColumn - Trigger for CheckBox IsChecked Property", "body": "<p>I am creating a WPF <code>DataGrid</code> control with a <code>DataGridTemplateColumn</code> CheckBox which should have the <strong>IsChecked</strong> property set as <strong>true</strong> or <strong>false</strong> depending on a <code>DataTable</code> value)... </p>\n\n<p>If the <code>DataTable</code> row has the value set as <strong>1</strong>, the <code>DataGridTemplateColumn</code>  should be <strong>true</strong> (checked). Otherwise, it will be <strong>false</strong> (unchecked)... by default, every new row will be set as <strong>true</strong>, but I couldn't bind these <code>CheckBox</code> rows to my <code>DataTable</code> value (which will be <strong>1</strong> or <strong>2</strong>)</p>\n\n<p>I tried the following c# code. It works when I finish the UserControl edition and loop through my <code>DataTable</code> to save its values... But, when I set <strong>gridResultados.ItemsSource = dataTable.DefaultView</strong> clearly not checking/unchecking my <code>CheckBoxes</code> because there is no binding between the <code>DataTable</code> column value (1 or 2) and my  <code>DataGridTemplateColumn</code> ... this is my closest approach:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;DataGrid&gt;\n&lt;DataGrid.Columns&gt;\n&lt;DataGridTemplateColumn Header=\"Value?\" &gt;\n    &lt;DataGridTemplateColumn.CellTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;CheckBox IsChecked=\"True\" Checked=\"CheckBox_Checked\" Unchecked=\"CheckBox_Unchecked\"&gt;\n                &lt;Style TargetType=\"{x:Type CheckBox}\"&gt;\n                    &lt;Style.Triggers&gt;\n                        &lt;Trigger Property=\"Content\" Value=\"1\"&gt;\n                            &lt;Setter Property=\"IsChecked\" Value=\"True\"/&gt;\n                        &lt;/Trigger&gt;\n                        &lt;Trigger Property=\"Content\" Value=\"2\"&gt;\n                            &lt;Setter Property=\"IsChecked\" Value=\"False\"/&gt;\n                        &lt;/Trigger&gt;\n                    &lt;/Style.Triggers&gt;\n                &lt;/Style&gt;\n            &lt;/CheckBox&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/DataGridTemplateColumn.CellTemplate&gt;\n&lt;/DataGridTemplateColumn&gt;\n&lt;/DataGrid.Columns&gt;\n&lt;/DataGrid&gt;\n</code></pre>\n\n<pre class=\"lang-c# prettyprint-override\"><code>private void CheckBox_Checked(object sender, RoutedEventArgs e)\n{\n    dataTable.Rows[gridResultados.SelectedIndex].SetField(4, 1);\n}\n\nprivate void CheckBox_Unchecked(object sender, RoutedEventArgs e)\n{\n    dataTable.Rows[gridResultados.SelectedIndex].SetField(4, 2);\n}\n</code></pre>\n"}, {"tags": ["c#", "linq"], "answers": [{"comments": [{"owner": {"reputation": 77031, "user_id": 44743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9af6bab469df2f4e1486c3a608446f3b?s=128&d=identicon&r=PG", "display_name": "recursive", "link": "https://stackoverflow.com/users/44743/recursive"}, "edited": false, "score": 0, "creation_date": 1444851963, "post_id": 33134243, "comment_id": 54080052, "body": "<code>field</code> may not be a string."}, {"owner": {"reputation": 21874, "user_id": 526704, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/UJEcq.jpg?s=128&g=1", "display_name": "DLeh", "link": "https://stackoverflow.com/users/526704/dleh"}, "reply_to_user": {"reputation": 77031, "user_id": 44743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9af6bab469df2f4e1486c3a608446f3b?s=128&d=identicon&r=PG", "display_name": "recursive", "link": "https://stackoverflow.com/users/44743/recursive"}, "edited": false, "score": 0, "creation_date": 1444851986, "post_id": 33134243, "comment_id": 54080071, "body": "@recursive ha, was just fixing that."}, {"owner": {"reputation": 6144, "user_id": 441521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5bc98cddd5d06b2fd0c07a854e7fe15b?s=128&d=identicon&r=PG", "display_name": "user441521", "link": "https://stackoverflow.com/users/441521/user441521"}, "edited": false, "score": 0, "creation_date": 1444852017, "post_id": 33134243, "comment_id": 54080084, "body": "The field.ToString() inside IsNUllOrWhitespace() did it. Was getting an error and wondering why but that fixed it. Thanks!"}], "tags": [], "owner": {"reputation": 21874, "user_id": 526704, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/UJEcq.jpg?s=128&g=1", "display_name": "DLeh", "link": "https://stackoverflow.com/users/526704/dleh"}, "is_accepted": false, "score": 6, "last_activity_date": 1444851971, "last_edit_date": 1444851971, "creation_date": 1444851889, "answer_id": 33134243, "question_id": 33134223, "link": "https://stackoverflow.com/questions/33134223/change-empty-string-to-zero-in-list/33134243#33134243", "title": "Change empty string to zero in list", "body": "<p>Don't forget the <code>ToString()</code> on <code>field</code> if <code>ItemArray</code> doesn't contain strings.</p>\n\n<pre><code>IEnumerable&lt;string&gt; fields = row.ItemArray.Select(field =&gt; \n    string.IsNullOrWhitespace(field.ToString()) ? \"0\" : field.ToString());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 77031, "user_id": 44743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9af6bab469df2f4e1486c3a608446f3b?s=128&d=identicon&r=PG", "display_name": "recursive", "link": "https://stackoverflow.com/users/44743/recursive"}, "edited": false, "score": 2, "creation_date": 1444851942, "post_id": 33134254, "comment_id": 54080033, "body": "<code>field</code> may not be a string."}], "tags": [], "owner": {"reputation": 249, "user_id": 1819364, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3b3f7eaf0ba1baddd1871f5a78a6f514?s=128&d=identicon&r=PG", "display_name": "ro-E", "link": "https://stackoverflow.com/users/1819364/ro-e"}, "is_accepted": false, "score": -1, "last_activity_date": 1444851916, "creation_date": 1444851916, "answer_id": 33134254, "question_id": 33134223, "link": "https://stackoverflow.com/questions/33134223/change-empty-string-to-zero-in-list/33134254#33134254", "title": "Change empty string to zero in list", "body": "<pre><code>IEnumerable&lt;string&gt; fields = row.ItemArray.Select(field =&gt; string.IsNullOrEmpty(field) ? \"0\" : field.ToString());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 77031, "user_id": 44743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9af6bab469df2f4e1486c3a608446f3b?s=128&d=identicon&r=PG", "display_name": "recursive", "link": "https://stackoverflow.com/users/44743/recursive"}, "is_accepted": false, "score": 1, "last_activity_date": 1444851924, "creation_date": 1444851924, "answer_id": 33134257, "question_id": 33134223, "link": "https://stackoverflow.com/questions/33134223/change-empty-string-to-zero-in-list/33134257#33134257", "title": "Change empty string to zero in list", "body": "<p>You can do it with <code>.IsNullOrEmpty()</code>.</p>\n\n<pre><code>IEnumerable&lt;string&gt; fields = \n    from field in row.ItemArray\n    let s = field.ToString()\n    select string.IsNullOrEmpty(s) ? \"0\" : s;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2240, "user_id": 4099598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc50a32e3a3dffad460e83c0e02f6ba?s=128&d=identicon&r=PG", "display_name": "Nathan Tuggy", "link": "https://stackoverflow.com/users/4099598/nathan-tuggy"}, "edited": false, "score": 0, "creation_date": 1444873405, "post_id": 33134284, "comment_id": 54088089, "body": "<code>s</code> is probably not actually a string."}, {"owner": {"reputation": 864, "user_id": 3990017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c1e5f6c68a79e77675c6dcfdfd3dc1c?s=128&d=identicon&r=PG&f=1", "display_name": "Adpi2", "link": "https://stackoverflow.com/users/3990017/adpi2"}, "reply_to_user": {"reputation": 2240, "user_id": 4099598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc50a32e3a3dffad460e83c0e02f6ba?s=128&d=identicon&r=PG", "display_name": "Nathan Tuggy", "link": "https://stackoverflow.com/users/4099598/nathan-tuggy"}, "edited": false, "score": 0, "creation_date": 1444922475, "post_id": 33134284, "comment_id": 54114189, "body": "<code>s</code> is a string because <code>fields</code> type is IEnumerable&lt;String&gt;"}, {"owner": {"reputation": 2240, "user_id": 4099598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc50a32e3a3dffad460e83c0e02f6ba?s=128&d=identicon&r=PG", "display_name": "Nathan Tuggy", "link": "https://stackoverflow.com/users/4099598/nathan-tuggy"}, "edited": false, "score": 0, "creation_date": 1444926721, "post_id": 33134284, "comment_id": 54116972, "body": "That just means you need to <i>return</i> a string, not that you <i>start out</i> with one; the original code uses <code>ToString</code> in order to have a string to return."}, {"owner": {"reputation": 864, "user_id": 3990017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c1e5f6c68a79e77675c6dcfdfd3dc1c?s=128&d=identicon&r=PG&f=1", "display_name": "Adpi2", "link": "https://stackoverflow.com/users/3990017/adpi2"}, "reply_to_user": {"reputation": 2240, "user_id": 4099598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc50a32e3a3dffad460e83c0e02f6ba?s=128&d=identicon&r=PG", "display_name": "Nathan Tuggy", "link": "https://stackoverflow.com/users/4099598/nathan-tuggy"}, "edited": false, "score": 0, "creation_date": 1446799389, "post_id": 33134284, "comment_id": 54903459, "body": "you are mistaking <code>fields</code> and <code>row.ItemArray</code>"}], "tags": [], "owner": {"reputation": 864, "user_id": 3990017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c1e5f6c68a79e77675c6dcfdfd3dc1c?s=128&d=identicon&r=PG&f=1", "display_name": "Adpi2", "link": "https://stackoverflow.com/users/3990017/adpi2"}, "is_accepted": false, "score": -2, "last_activity_date": 1444851993, "creation_date": 1444851993, "answer_id": 33134284, "question_id": 33134223, "link": "https://stackoverflow.com/questions/33134223/change-empty-string-to-zero-in-list/33134284#33134284", "title": "Change empty string to zero in list", "body": "<p>Try this :</p>\n\n<pre><code>fields.Select(s =&gt; String.IsNullOrEmpty(s) ? \"0\" : s);\n</code></pre>\n"}], "owner": {"reputation": 6144, "user_id": 441521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5bc98cddd5d06b2fd0c07a854e7fe15b?s=128&d=identicon&r=PG", "display_name": "user441521", "link": "https://stackoverflow.com/users/441521/user441521"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1444851993, "creation_date": 1444851809, "question_id": 33134223, "link": "https://stackoverflow.com/questions/33134223/change-empty-string-to-zero-in-list", "title": "Change empty string to zero in list", "body": "<p>I have a list: </p>\n\n<pre><code>IEnumerable&lt;string&gt; fields = row.ItemArray.Select(field =&gt; field.ToString());\n</code></pre>\n\n<p>Some of these values are empty strings. I want to change all the empty strings to \"0\". Is there a 1 line linq command I can use to do that?</p>\n"}, {"tags": ["c#", "entity-framework-6", "autofac", "dispose"], "comments": [{"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1444852693, "post_id": 33134143, "comment_id": 54080472, "body": "This related question might be informative: <a href=\"https://stackoverflow.com/questions/10585478/one-dbcontext-per-web-request-why\" title=\"one dbcontext per web request why\">stackoverflow.com/questions/10585478/&hellip;</a>"}, {"owner": {"reputation": 109, "user_id": 5282624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bDW5i.jpg?s=128&g=1", "display_name": "SeanG80", "link": "https://stackoverflow.com/users/5282624/seang80"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1444856246, "post_id": 33134143, "comment_id": 54082490, "body": "Thanks Steven. I checked it out. I just need something specifically related  to Autofac and EF6 DbContext Dispose(). I have stumbled across examples stacking another UnitOfWork and Repository on top of it with a DI Container, but nothing that just takes advantage of constructor injection that sticks with the DbContext provided."}, {"owner": {"reputation": 408521, "user_id": 284240, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/01d6005ebf89c14de87a62add488aaad?s=128&d=identicon&r=PG", "display_name": "Tim Schmelter", "link": "https://stackoverflow.com/users/284240/tim-schmelter"}, "edited": false, "score": 0, "creation_date": 1465900885, "post_id": 33134143, "comment_id": 63083440, "body": "Note that in most times it&#39;s not needed to dispose <code>DbContext</code> since the underlying connection will be opened/closed automatically before/after use: <a href=\"http://blog.jongallant.com/2012/10/do-i-have-to-call-dispose-on-dbcontext.html#.U9efX_ldXpo\" rel=\"nofollow noreferrer\">Do I always have to call Dispose() on my DbContext objects? Nope</a>"}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 5282624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bDW5i.jpg?s=128&g=1", "display_name": "SeanG80", "link": "https://stackoverflow.com/users/5282624/seang80"}, "edited": false, "score": 0, "creation_date": 1444855563, "post_id": 33135088, "comment_id": 54082139, "body": "So registering &lt;ProductContext&gt;().As&lt;DbContext&gt;() ensures that Dispose() is called? I didn&#39;t see any documentation using DbContext without an interface so that is what made me question just whether registering ProductContext.AsSelf() would still call DbContext&#39;s Dispose?"}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "reply_to_user": {"reputation": 109, "user_id": 5282624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bDW5i.jpg?s=128&g=1", "display_name": "SeanG80", "link": "https://stackoverflow.com/users/5282624/seang80"}, "edited": false, "score": 0, "creation_date": 1444857168, "post_id": 33135088, "comment_id": 54082940, "body": "If <code>ProductContext</code> is <code>IDisposable</code> then integration libraries takes care of it by adding it to disposable items. I used your sample for the sake of providing sample. Simply <code>builder.RegisterType&lt;ProductContext&gt;().InstancePerRequest(); </code> would make no diffference unless <code>ProductContext</code> is <code>IDisposable</code>. see <a href=\"https://github.com/autofac/Autofac/blob/master/src/Autofac/Core/Resolving/InstanceLookup.cs\" rel=\"nofollow noreferrer\">github.com/autofac/Autofac/blob/master/src/Autofac/Core/&hellip;</a>"}, {"owner": {"reputation": 109, "user_id": 5282624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bDW5i.jpg?s=128&g=1", "display_name": "SeanG80", "link": "https://stackoverflow.com/users/5282624/seang80"}, "edited": false, "score": 0, "creation_date": 1444859806, "post_id": 33135088, "comment_id": 54084138, "body": "Not sure I understand whether you are saying my example is right or wrong. In my example ProductContext inherits from DbContext which has a Dispose(). ProductContext itself does not directly inherit IDisposable. So do I need to add .As&lt;DbContext&gt;() to ensure autofac discovers IDisposable or will just registering ProductContext itself allow autofac to discover IDisposable."}, {"owner": {"reputation": 109, "user_id": 5282624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bDW5i.jpg?s=128&g=1", "display_name": "SeanG80", "link": "https://stackoverflow.com/users/5282624/seang80"}, "edited": false, "score": 0, "creation_date": 1444860052, "post_id": 33135088, "comment_id": 54084251, "body": "Everything is working fine now locally, I just want to make sure autofac is doing it&#39;s magic during production an closing contexts so stale data isn&#39;t a problem as user traffic grows."}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "reply_to_user": {"reputation": 109, "user_id": 5282624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bDW5i.jpg?s=128&g=1", "display_name": "SeanG80", "link": "https://stackoverflow.com/users/5282624/seang80"}, "edited": false, "score": 0, "creation_date": 1444860642, "post_id": 33135088, "comment_id": 54084482, "body": "It&#39;s simple as that.. DbContext is abstract class that implements IDisposable means It&#39;s dervied doesn&#39;t required to implement IDisposable explicitly. The Dispose would actually gets called on Dervied object. This is basic principle of Inheritance :) Anyways.. GoodLuck with your production stuff. Cheers!!"}, {"owner": {"reputation": 109, "user_id": 5282624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bDW5i.jpg?s=128&g=1", "display_name": "SeanG80", "link": "https://stackoverflow.com/users/5282624/seang80"}, "edited": false, "score": 0, "creation_date": 1444860915, "post_id": 33135088, "comment_id": 54084588, "body": "Thanks for the quick response. Good to know. I spent a lot of time researching containers and constructor injection. Once I implemented autofac and removed the dispose, I was scratching my head trying to figure out how it knew when to call dispose without explicit use in my service or controller.  Thanks for the clarification."}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "reply_to_user": {"reputation": 109, "user_id": 5282624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bDW5i.jpg?s=128&g=1", "display_name": "SeanG80", "link": "https://stackoverflow.com/users/5282624/seang80"}, "edited": false, "score": 0, "creation_date": 1444861232, "post_id": 33135088, "comment_id": 54084713, "body": "No problem. Glad it helped. :) Moreover you can also control it using OnRelease() extension during registration for customizing your disposal."}], "tags": [], "owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "is_accepted": true, "score": 5, "last_activity_date": 1444854892, "creation_date": 1444854892, "answer_id": 33135088, "question_id": 33134143, "link": "https://stackoverflow.com/questions/33134143/how-to-ensure-that-autofac-is-calling-dispose-on-ef6-dbcontext/33135088#33135088", "title": "How to ensure that Autofac is calling Dispose() on EF6 DbContext", "body": "<p>As per the doucmentation,</p>\n\n<blockquote>\n  <p>Autofac <a href=\"http://docs.autofac.org/en/latest/integration/index.html\" rel=\"noreferrer\">integration libraries</a> standard unit-of-work lifetime scopes will be created and disposed for you automatically. Autofac\u2019s <a href=\"http://docs.autofac.org/en/latest/integration/mvc.html\" rel=\"noreferrer\">ASP.NET MVC integration</a>, a lifetime scope will be created for you at the beginning of a web request and all components will generally be resolved from there. At the end of the web request, the scope will automatically be disposed - no additional scope creation is required on your part.</p>\n</blockquote>\n\n<p>So I think if your class implments <code>IDisposable</code> then <code>Dispose()</code> would be automatically called for such objects. So simply,</p>\n\n<pre><code>builder.RegisterType&lt;ProductContext&gt;().As&lt;DbContext&gt;().InstancePerRequest();\n</code></pre>\n\n<p>Would do the Disposal via object life scope management.</p>\n"}, {"tags": [], "owner": {"reputation": 236, "user_id": 602542, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GwahI.gif?s=128&g=1", "display_name": "crunchy", "link": "https://stackoverflow.com/users/602542/crunchy"}, "is_accepted": false, "score": 3, "last_activity_date": 1476897129, "creation_date": 1476897129, "answer_id": 40137662, "question_id": 33134143, "link": "https://stackoverflow.com/questions/33134143/how-to-ensure-that-autofac-is-calling-dispose-on-ef6-dbcontext/40137662#40137662", "title": "How to ensure that Autofac is calling Dispose() on EF6 DbContext", "body": "<p>Autofac also supports using <code>Func&lt;&gt;</code> in constructor injection.  For example, you can register your data context like normal:</p>\n\n<pre><code>builder.RegisterType&lt;ProductContext&gt;().As&lt;IProductContext&gt;();\n</code></pre>\n\n<p>and use it as follows in your <code>ProductService</code>:</p>\n\n<pre><code>public class ProductService : IProductService\n{\n    private IProductContext _dbCreator;\n    public ProductService(Func&lt;IProductContext&gt; dbCreator)\n    {\n        _db = db;\n    }\n\n    public List&lt;Product&gt; GetProductsByCategory(string cleanCategory)\n    {\n        using (var dbCtx = _dbCreator())\n        {\n\n            return dbCtx.Products\n                 .Include(p =&gt; p.Options.Select(o =&gt; o.OptionGroup))\n                     .Include(p =&gt; p.Associations.Select(a =&gt; a.AssociatedGroup))\n                     .Include(p =&gt; p.Variations).Include(p =&gt; p.Manufacturer)\n                     .Where(p =&gt; p.Active &amp;&amp; p.Category.Name.ToUpper().Equals(cleanCategory)).ToList();\n        }\n    }\n    .....\n}\n</code></pre>\n\n<p>Basically, your <code>ProductService</code> now has access to a <code>Func&lt;&gt;</code>(<code>_dbCreator</code>) that creates a new instance of your <code>ProductContext</code> based on your autofac registration every time it's called, allowing you to dispose the instance when you deem appropriate.</p>\n\n<p>I realized after I wrote this that you don't have an <code>IProductContext</code>, I would usually recommend using this pattern, however, it isn't too important as far as your question is concerned.  You can continue to use your current registration method for <code>ProductContext</code> and then just pass in a <code>Func&lt;ProductContext&gt;</code> instead of an <code>IProductContext</code>, i.e.,</p>\n\n<pre><code>builder.RegisterType&lt;ProductContext&gt;().AsSelf();\n</code></pre>\n\n<p>and</p>\n\n<pre><code>private ProductContext _dbCreator;\npublic ProductService(Func&lt;ProductContext&gt; dbCreator)\n</code></pre>\n\n<p>Sorry if the code doesn't compile, I didn't use an IDE... Hopefully it's close enough for you to get my point!</p>\n"}], "owner": {"reputation": 109, "user_id": 5282624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bDW5i.jpg?s=128&g=1", "display_name": "SeanG80", "link": "https://stackoverflow.com/users/5282624/seang80"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8800, "favorite_count": 4, "accepted_answer_id": 33135088, "answer_count": 2, "score": 6, "last_activity_date": 1476897129, "creation_date": 1444851565, "last_edit_date": 1445012121, "question_id": 33134143, "link": "https://stackoverflow.com/questions/33134143/how-to-ensure-that-autofac-is-calling-dispose-on-ef6-dbcontext", "title": "How to ensure that Autofac is calling Dispose() on EF6 DbContext", "body": "<p><strong>UPDATE</strong></p>\n\n<p>Found this little gem which helped me with DbContext\n<a href=\"http://joshkodroff.com/blog/2015/08/08/making-entity-framework-more-testable/\" rel=\"noreferrer\">Josh Kodroff - Making Entity Framework More Unit-Testable</a></p>\n\n<p><em>Original</em></p>\n\n<p>After doing a lot of research I finally decided to implement IOC using Autofac in my MVC5 EF6 project. Autofac's documentation has been helpful, but I'm still not sure about whether or not I need to call Dispose() either in my Controller or Service Class?</p>\n\n<p>I'm not using an abstracted UOW and Generic Repository, but just relying on DbContext and DbSet&lt;> provided in EF6. Here's a snippet of my classes.</p>\n\n<p>My DbContext</p>\n\n<pre><code>public class ProductContext : DbContext\n{\n    public ProductContext() : base(\"ProductContext\")\n    {\n    }\n\n    public DbSet&lt;Availability&gt; Availability { get; set; }       \n    public DbSet&lt;Category&gt; Categories { get; set; } \n    ....\n }\n</code></pre>\n\n<p>My Service Class</p>\n\n<pre><code>    public class ProductService : IProductService\n{\n    private ProductContext _db;\n    public ProductService(ProductContext db)\n    {\n        _db = db;\n    }\n\n    public List&lt;Product&gt; GetProductsByCategory(string cleanCategory)\n    {\n        return _db.Products\n             .Include(p =&gt; p.Options.Select(o =&gt; o.OptionGroup))\n                 .Include(p =&gt; p.Associations.Select(a =&gt; a.AssociatedGroup))\n                 .Include(p =&gt; p.Variations).Include(p =&gt; p.Manufacturer)\n                 .Where(p =&gt; p.Active &amp;&amp; p.Category.Name.ToUpper().Equals(cleanCategory)).ToList();\n    }\n    .....\n}\n</code></pre>\n\n<p>My Service Interface</p>\n\n<pre><code>    public interface IProductService\n{\n    List&lt;Product&gt; GetProductsByCategory(string cleanCategory);\n    ....\n}\n</code></pre>\n\n<p>My Contoller</p>\n\n<pre><code>    public class ProductsController : Controller\n{\n    private IProductService _productService;\n    public ProductsController(IProductService productService)\n    {\n        _productService = productService;\n    }\n\n    //GET: Products/\n    public ActionResult Index(string category)\n    {\n        if (String.IsNullOrEmpty(category))\n        {\n            return HttpNotFound();\n        }\n\n        string cleanCategory = urlScrubber(category);\n        var viewModel = new ProductsVM();\n        viewModel.ProductList = _productService.GetProductsByCategory(cleanCategory);\n}\n</code></pre>\n\n<p>My Autofac Container</p>\n\n<pre><code>var builder = new ContainerBuilder();\n\n        // Register your MVC controllers.\n        builder.RegisterControllers(typeof(MvcApplication).Assembly);\n\n        // REGISTER COMPONENTS HERE:\n        builder.RegisterType&lt;ProductContext&gt;().AsSelf().InstancePerRequest();\n        builder.RegisterType&lt;ProductService&gt;().As&lt;IProductService&gt;().InstancePerRequest();\n\n        // Set the dependency resolver to be Autofac.\n        var container = builder.Build();\n        DependencyResolver.SetResolver(new AutofacDependencyResolver(container));\n</code></pre>\n\n<p>I have removed Dispose() from the controller with the understanding that Autofac would handle the disposal of contexts that inherit from IDisposable. Since ProductContext inherits from DbContext which includes a Dispose() Method, this should work. </p>\n\n<p>Do I need to include something like</p>\n\n<pre><code>builder.RegisterType&lt;ProductContext&gt;().As&lt;DbContext&gt;().InstancePerRequest();\n</code></pre>\n\n<p>or will my current container work as expected calling Dispose?</p>\n\n<pre><code>builder.RegisterType&lt;ProductContext&gt;().AsSelf().InstancePerRequest();\n</code></pre>\n\n<p>Thanks for any help, I'm having a hard time locating documentation using Autofac without a generic repository and UOW on top of DbContext similar to my current pattern.   </p>\n"}, {"tags": ["c#", "orchardcms", "orchardcms-1.7"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4379178, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-jEy8TA6D334/AAAAAAAAAAI/AAAAAAAAADE/9nHqv8lcu20/photo.jpg?sz=128", "display_name": "pankaj sharma", "link": "https://stackoverflow.com/users/4379178/pankaj-sharma"}, "edited": false, "score": 0, "creation_date": 1444853245, "post_id": 33134623, "comment_id": 54080819, "body": "here is a link to webpage from where i got this answer <a href=\"http://www.ideliverable.com/blog/content-part-editors-beyond-the-basics\" rel=\"nofollow noreferrer\">ideliverable.com/blog/content-part-editors-beyond-the-basics</a>"}], "tags": [], "owner": {"reputation": 37, "user_id": 4379178, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-jEy8TA6D334/AAAAAAAAAAI/AAAAAAAAADE/9nHqv8lcu20/photo.jpg?sz=128", "display_name": "pankaj sharma", "link": "https://stackoverflow.com/users/4379178/pankaj-sharma"}, "is_accepted": false, "score": 3, "last_activity_date": 1444853153, "creation_date": 1444853153, "answer_id": 33134623, "question_id": 33134135, "link": "https://stackoverflow.com/questions/33134135/orchard-contenthandler-invocation/33134623#33134623", "title": "Orchard ContentHandler invocation", "body": "<p>Alright, found an answer to this.\nPosting it here for informational purposes.</p>\n\n<p>Once you create a content part say 'abcPart', to trigger the 'publishing, unpublishing' and other methods associated with ContentHandler, all you need to do is in the constructor of your part's handler, add this code.</p>\n\n<pre><code>public class MyHandler : ContentHandler\n{\n    public MyHandler ()\n    {\n        OnPublishing&lt;abcPart&gt;((context, part) =&gt; {\n            /*your logic here*/\n        });\n    }\n}\n</code></pre>\n\n<p>In this manner, code present inside the constructor's 'OnPublishing' section would only get triggered, whenever a content item, to which 'abcPart' is attached, is being published.</p>\n"}], "owner": {"reputation": 37, "user_id": 4379178, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-jEy8TA6D334/AAAAAAAAAAI/AAAAAAAAADE/9nHqv8lcu20/photo.jpg?sz=128", "display_name": "pankaj sharma", "link": "https://stackoverflow.com/users/4379178/pankaj-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444853153, "creation_date": 1444851546, "question_id": 33134135, "link": "https://stackoverflow.com/questions/33134135/orchard-contenthandler-invocation", "title": "Orchard ContentHandler invocation", "body": "<p>I am writing a module to have some functionality added to navigation menu whenever a content item, to which my module is attached, is published or unpublished. \nIn my handler, that inherits from ContentHandler class, i have overwritten 'published' and 'unpublished' methods and the functionality is working as expected.\nHowever, the issue is, the content handler methods in my module, are invoked even for content types that do not have my module (content part) attached to them.</p>\n\n<p>I also tried inheriting from 'IContentHandler' instead of 'ContentHandler' but same result.</p>\n\n<p>Is there any way to bind the 'published, publishing, unpublished etc' methods of ContentHandler, so that they are invoked only when a content item, to which the content part is attached, is modified?</p>\n"}, {"tags": ["c#", "winforms", "if-statement", "contextmenu"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1444851671, "post_id": 33134129, "comment_id": 54079890, "body": "Edit the context strip, double click on the menu item you want a click event  to happen on, and then write the click handler."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1444852946, "post_id": 33134129, "comment_id": 54080630, "body": "When you clicked the item obviously you are clicked it, what do you need? Do you need <code>Checked</code> property?"}, {"owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1444853021, "post_id": 33134129, "comment_id": 54080677, "body": "I rewrote my code to make it more clear. How would I use (DrawImage(pictureBox1.Image, movingPoint) when the user clicks on the event handler."}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1444853112, "post_id": 33134129, "comment_id": 54080733, "body": "<code>sizeMEToolStripMenuItem.isclicked</code> would always be true since you are inside the click event handler. In order to trigger a redraw on the picturebox, just use <code>pictureBox1.Invalidate()</code> in the click handler, which will trigger the paint event to be called. <code>e.Graphics</code> is not available in the click handler and should only be used in the paint method."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1444853118, "post_id": 33134129, "comment_id": 54080737, "body": "The Click event of the menu would set a flag, <code>sizeME = true;</code> or something like that, and then invalidate: <code>pictureBox1.Invalidate();</code>  Then in your drawing code, you check that flag to determine what you want to draw."}], "answers": [{"comments": [{"owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1444851949, "post_id": 33134217, "comment_id": 54080038, "body": "I know about this, but I need to call this method somewhere else when its clicked."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1444852112, "post_id": 33134217, "comment_id": 54080139, "body": "The event handler does this for you. When you click on menu, the codes of this method will execute."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1444852593, "post_id": 33134217, "comment_id": 54080407, "body": "@taji01 Let me know if you have any question about answer."}, {"owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1444852929, "post_id": 33134217, "comment_id": 54080618, "body": "I rewrote my code to make it more clear. How would I use (DrawImage(pictureBox1.Image, movingPoint) when the user clicks on the event handler."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1444853251, "post_id": 33134217, "comment_id": 54080825, "body": "You can simply check if <code>Checked</code> property is true then you do your job. you should set <code>CheckOnClick</code> to true."}, {"owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1444853823, "post_id": 33134217, "comment_id": 54081148, "body": "How would i remove the paint I created in the pictureBox1_paint method. when you click on the contexmenustrip"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1444853989, "post_id": 33134217, "comment_id": 54081256, "body": "@taji01 I think this is another question, but if I understand your question correctly you can simply not to draw it, or you can use <code>e.Graphics.Clear(Color.White)</code> for example."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1444854202, "post_id": 33134217, "comment_id": 54081385, "body": "@taji01 this post answers to <b>How to check if a ContextMenuItem is clicked</b> and you can simply write any logic based on this. Hope you find it helpful:)"}], "tags": [], "owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "is_accepted": true, "score": 1, "last_activity_date": 1444854410, "last_edit_date": 1444854410, "creation_date": 1444851781, "answer_id": 33134217, "question_id": 33134129, "link": "https://stackoverflow.com/questions/33134129/if-statement-with-contextmenustrip/33134217#33134217", "title": "If statement with ContextMenuStrip", "body": "<p>You can simply hanlde click event of that Item and put your codes in the Click event handler.</p>\n\n<p>Open designer, select your context menu, select <code>sizeMEToolStripMenuItem</code> and double click on it. This way when you click on <code>sizeMEToolStripMenuItem</code> this method runs.</p>\n\n<p>You can also set <code>CheckOnClick</code> property of <code>sizeMEToolStripMenuItem</code> to true and check value of <code>Checked</code> propery.</p>\n\n<pre><code>private void sizeMEToolStripMenuItem_Click(object sender, EventArgs e)\n{\n    if( sizeMEToolStripMenuItem.Checked )\n    {  \n        //Do what you need, for example:\n        //MessageBox.Show(\"checked\");\n        //To force paint event trigger you can uncomment next line:\n        //pictureBox1.Invalidate();  \n    }\n}\n</code></pre>\n\n<p>To force paint event trigger, call this method in click event:</p>\n\n<pre><code>pictureBox1.Invalidate();\n</code></pre>\n\n<p>In paint event if you need to check if the item has been clicked, check value of <code>Checked</code>:</p>\n\n<pre><code>private void pictureBox1_Paint_1(object sender, PaintEventArgs e)\n{\n    if( sizeMEToolStripMenuItem.Checked )\n    {  \n         //Do somethings\n    }     \n}\n</code></pre>\n\n<p>You can also set <code>Checked</code> property value in code.</p>\n"}], "owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 33134217, "answer_count": 1, "score": 0, "last_activity_date": 1444854410, "creation_date": 1444851533, "last_edit_date": 1444853372, "question_id": 33134129, "link": "https://stackoverflow.com/questions/33134129/if-statement-with-contextmenustrip", "title": "If statement with ContextMenuStrip", "body": "<p>I'm using WinForms. Inside my WinForms application I have a contextMenuStrip\nif you rightclick on the picturebox, contextMenuStrip will appear with a list of items you can click on. How do i call the \"sizeMEToolStripMenuItem_Click\" method into another method.</p>\n\n<p>example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LOgix.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LOgix.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code> private void sizeMEToolStripMenuItem_Click(object sender, EventArgs e)\n {\n    if(sizeMEToolStripMenuItem.isclicked) //.isClicked is somthing i made up\n     {\n       e.Graphics.DrawImage(pictureBox1.Image, movingPoint); &lt;- This draws and shows image\n     }\n    else \n    {\n      //e.Graphics.DrawImage(pictureBox1.Image, movingPoint); &lt;- Hide this image\n    }\n\n } \n\n\nprivate void pictureBox1_Paint_1(object sender, PaintEventArgs e)\n{\n //e.Graphics.DrawImage(pictureBox1.Image, movingPoint);\n\n}\n</code></pre>\n"}, {"tags": ["c#", "html", "asp.net"], "comments": [{"owner": {"reputation": 1318, "user_id": 1197771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/26f8b2db16df24a02904a8848b9f09e6?s=128&d=identicon&r=PG", "display_name": "RJ Cuthbertson", "link": "https://stackoverflow.com/users/1197771/rj-cuthbertson"}, "edited": false, "score": 1, "creation_date": 1444851665, "post_id": 33134086, "comment_id": 54079886, "body": "Query string arguments don&#39;t automagically map to inputs on the page, you have to set the value of the input."}, {"owner": {"reputation": 129, "user_id": 5119382, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0751115ea011ba30a59a5ba8dc0da1e4?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Paris", "link": "https://stackoverflow.com/users/5119382/simon-paris"}, "reply_to_user": {"reputation": 1318, "user_id": 1197771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/26f8b2db16df24a02904a8848b9f09e6?s=128&d=identicon&r=PG", "display_name": "RJ Cuthbertson", "link": "https://stackoverflow.com/users/1197771/rj-cuthbertson"}, "edited": false, "score": 0, "creation_date": 1444851723, "post_id": 33134086, "comment_id": 54079906, "body": "@RJCuthbertson - isn&#39;t BuildingName the input that I need the value FranklinJonesSmith mapped to?"}, {"owner": {"reputation": 1318, "user_id": 1197771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/26f8b2db16df24a02904a8848b9f09e6?s=128&d=identicon&r=PG", "display_name": "RJ Cuthbertson", "link": "https://stackoverflow.com/users/1197771/rj-cuthbertson"}, "edited": false, "score": 1, "creation_date": 1444851860, "post_id": 33134086, "comment_id": 54079995, "body": "How are you trying to set the value of the input? Are you trying to do it server-side or client-side?"}, {"owner": {"reputation": 129, "user_id": 5119382, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0751115ea011ba30a59a5ba8dc0da1e4?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Paris", "link": "https://stackoverflow.com/users/5119382/simon-paris"}, "reply_to_user": {"reputation": 1318, "user_id": 1197771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/26f8b2db16df24a02904a8848b9f09e6?s=128&d=identicon&r=PG", "display_name": "RJ Cuthbertson", "link": "https://stackoverflow.com/users/1197771/rj-cuthbertson"}, "edited": false, "score": 0, "creation_date": 1444851940, "post_id": 33134086, "comment_id": 54080032, "body": "@RJCuthbertson - Either way will suffice.  I just need to be able to click the button and the page load with the values being passed to it already populated."}, {"owner": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "edited": false, "score": 1, "creation_date": 1444852755, "post_id": 33134086, "comment_id": 54080514, "body": "@SimonParis: Regarding your <b>Edit 2</b>: Why would <code>Page_Load</code> not be triggered? Is the redirect to a static page (i.e. html)?"}, {"owner": {"reputation": 1318, "user_id": 1197771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/26f8b2db16df24a02904a8848b9f09e6?s=128&d=identicon&r=PG", "display_name": "RJ Cuthbertson", "link": "https://stackoverflow.com/users/1197771/rj-cuthbertson"}, "edited": false, "score": 0, "creation_date": 1444852758, "post_id": 33134086, "comment_id": 54080516, "body": "You probably aren&#39;t hitting Page_Load due to caching. A redirect should still trigger that event. See <a href=\"http://codeverge.com/asp.net.web-forms/page_load-not-firing-after-response.redirec/400354\" rel=\"nofollow noreferrer\">codeverge.com/asp.net.web-forms/&hellip;</a>"}, {"owner": {"reputation": 129, "user_id": 5119382, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0751115ea011ba30a59a5ba8dc0da1e4?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Paris", "link": "https://stackoverflow.com/users/5119382/simon-paris"}, "reply_to_user": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "edited": false, "score": 0, "creation_date": 1444852860, "post_id": 33134086, "comment_id": 54080574, "body": "@SaniHuttunen - Yes, the end of the page I am launching is .html is that what you are asking?"}, {"owner": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "edited": false, "score": 1, "creation_date": 1444852931, "post_id": 33134086, "comment_id": 54080620, "body": "@SimonParis: Yes that was what I was asking. Then the solution is to use javascript to get the values from the querystring and populate the controls."}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 5119382, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0751115ea011ba30a59a5ba8dc0da1e4?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Paris", "link": "https://stackoverflow.com/users/5119382/simon-paris"}, "edited": false, "score": 0, "creation_date": 1444852589, "post_id": 33134410, "comment_id": 54080404, "body": "using webforms.  See my edit #2, I now have somewhat of a better understanding of the issue."}, {"owner": {"reputation": 129, "user_id": 5119382, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0751115ea011ba30a59a5ba8dc0da1e4?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Paris", "link": "https://stackoverflow.com/users/5119382/simon-paris"}, "edited": false, "score": 0, "creation_date": 1444853257, "post_id": 33134410, "comment_id": 54080828, "body": "Cuthebertson - where would I place the JavaScript piece to perform this?"}, {"owner": {"reputation": 1318, "user_id": 1197771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/26f8b2db16df24a02904a8848b9f09e6?s=128&d=identicon&r=PG", "display_name": "RJ Cuthbertson", "link": "https://stackoverflow.com/users/1197771/rj-cuthbertson"}, "reply_to_user": {"reputation": 129, "user_id": 5119382, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0751115ea011ba30a59a5ba8dc0da1e4?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Paris", "link": "https://stackoverflow.com/users/5119382/simon-paris"}, "edited": false, "score": 1, "creation_date": 1444853424, "post_id": 33134410, "comment_id": 54080916, "body": "At the bottom of the page in a script element just inside the closing tag of the body element."}], "tags": [], "owner": {"reputation": 1318, "user_id": 1197771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/26f8b2db16df24a02904a8848b9f09e6?s=128&d=identicon&r=PG", "display_name": "RJ Cuthbertson", "link": "https://stackoverflow.com/users/1197771/rj-cuthbertson"}, "is_accepted": true, "score": 1, "last_activity_date": 1444854110, "last_edit_date": 1495535227, "creation_date": 1444852398, "answer_id": 33134410, "question_id": 33134086, "link": "https://stackoverflow.com/questions/33134086/write-to-text-box-from-query-string/33134410#33134410", "title": "Write To Text Box From Query String", "body": "<p>Query string arguments are a way to pass data in your URL, but they don't automatically map their values to elements in the DOM.</p>\n\n<p>If you're trying to do this client-side, with JavaScript you can get the query string from the <code>location.search</code> property.</p>\n\n<p>To parse the query string, there are plenty of implementations <a href=\"http://www.joezimjs.com/javascript/3-ways-to-parse-a-query-string-in-a-url/\" rel=\"nofollow noreferrer\">on the web</a> and <a href=\"https://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript\">on StackOverflow</a>.</p>\n\n<p>Then you'll need to set the value to your input control:</p>\n\n<pre><code>document.getElementById('BuildingName').value = yourVariableWithTheValueFromTheQueryString;\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 5119382, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0751115ea011ba30a59a5ba8dc0da1e4?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Paris", "link": "https://stackoverflow.com/users/5119382/simon-paris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "accepted_answer_id": 33134410, "answer_count": 1, "score": 0, "last_activity_date": 1444854110, "creation_date": 1444851353, "last_edit_date": 1444852569, "question_id": 33134086, "link": "https://stackoverflow.com/questions/33134086/write-to-text-box-from-query-string", "title": "Write To Text Box From Query String", "body": "<p>I have my query string down, and have verified that all values are being passed as they should be.  Even if you look in the address bar it shows the appropriate values, but they are not being written to the page itself.  </p>\n\n<pre><code>string pagetoload = \"www.nonono12323hamarabi2323.html\";\nstring bld = \"FranklinJonesSmith\";\nResponse.Redirect(pagetoload+\"?BuildingName=\"+bld);\n</code></pre>\n\n<p>And this is the html for the field buildingname</p>\n\n<pre><code>&lt;div style=\"width: 10px;\"&gt;&lt;/div&gt;\n&lt;input id=\"BuildingName\" name=\"BuildingName\" maxlength=\"255\" type=\"text\" style=\"width:240px;\"&gt;\n</code></pre>\n\n<p><strong>EDIT</strong><br>\nand if I look in the address bar when the page loads it shows the correct value that I am trying to pass.  The address bar reads:<br></p>\n\n<pre><code>www.nonono12323hamarabi2323.html?BuildingName=FranklinJonesSmith\n</code></pre>\n\n<p><strong>EDIT 2</strong><br>\nThanks to @RJ Cuthbertson I now have a better understanding and realize that simplay passing the querystring to the page does not populate the textboxes themselves.  <br><br>\nI am using webforms and am launching an order page using <code>Response.Redirect</code> so I do not have a way of accessing the C# Page_Load Event to do something like </p>\n\n<pre><code>BuildingName.Text=Request.QueryString[\"bld\"];\n</code></pre>\n\n<p>So am I safe to say I need to research the JavaScrip methods mentioned below?</p>\n"}, {"tags": ["c#", "winforms", "datetimepicker"], "comments": [{"owner": {"reputation": 426, "user_id": 5410228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oHccP.png?s=128&g=1", "display_name": "bkaf", "link": "https://stackoverflow.com/users/5410228/bkaf"}, "edited": false, "score": 1, "creation_date": 1444851274, "post_id": 33133997, "comment_id": 54079648, "body": "Please see the guidelines for posting a question : <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "edited": false, "score": 0, "creation_date": 1444851275, "post_id": 33133997, "comment_id": 54079650, "body": "WinForms? ASP.NET? WPF? Silverlight?"}, {"owner": {"reputation": 23, "user_id": 5446607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/muuoT.jpg?s=128&g=1", "display_name": "A.S", "link": "https://stackoverflow.com/users/5446607/a-s"}, "edited": false, "score": 0, "creation_date": 1444852025, "post_id": 33133997, "comment_id": 54080087, "body": "windows Form actually .."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2930590"}, "is_accepted": false, "score": 0, "last_activity_date": 1444891312, "creation_date": 1444891312, "answer_id": 33141579, "question_id": 33133997, "link": "https://stackoverflow.com/questions/33133997/how-to-make-datetimepicker-select-specific-day-in-c/33141579#33141579", "title": "how to make datetimepicker select specific day in c#", "body": "<p>You can limit the range (in your case one day) by setting the MinDate and MaxDate properties. Although I don't understand why you allow the user to pick from the dropdown if you already know there is only one day to select from...you should just default the control to the specific clinic day and disable the control. Either way this is an example to set the dropdown date selection range to 5 days:</p>\n\n<pre><code>dateTimePicker1.MinDate = DateTime.Today.AddDays(-2);\ndateTimePicker1.MaxDate = DateTime.Today.AddDays(2);\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2930590"}, "edited": false, "score": 0, "creation_date": 1444892991, "post_id": 33141846, "comment_id": 54094213, "body": "This will work for WPF although the OP mentioned WinForms."}], "tags": [], "owner": {"reputation": 21, "user_id": 5127134, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-P0hz6fCBaIk/AAAAAAAAAAI/AAAAAAAAAq4/VGk6yMAyhEs/photo.jpg?sz=128", "display_name": "santhosh naini", "link": "https://stackoverflow.com/users/5127134/santhosh-naini"}, "is_accepted": false, "score": 0, "last_activity_date": 1444892160, "creation_date": 1444892160, "answer_id": 33141846, "question_id": 33133997, "link": "https://stackoverflow.com/questions/33133997/how-to-make-datetimepicker-select-specific-day-in-c/33141846#33141846", "title": "how to make datetimepicker select specific day in c#", "body": "<p>This may helpful </p>\n\n<p><code>&lt;DatePicker.BlackoutDates&gt;\n    &lt;CalendarDateRange Start=\"3/1/2010\" End=\"3/7/2010\"/&gt;\n    &lt;CalendarDateRange Start=\"3/8/2010\" End=\"3/8/2010\"/&gt;\n    &lt;CalendarDateRange Start=\"3/15/2010\" End=\"3/15/2010\"/&gt;\n    &lt;CalendarDateRange Start=\"3/22/2010\" End=\"3/22/2010\"/&gt;\n    &lt;CalendarDateRange Start=\"3/29/2010\" End=\"3/29/2010\"/&gt;\n&lt;/DatePicker.BlackoutDates&gt;</code>   </p>\n\n<p><a href=\"http://www.c-sharpcorner.com/UploadFile/mahesh/wpf-datepicker/\" rel=\"nofollow\">Reference</a></p>\n"}], "owner": {"reputation": 23, "user_id": 5446607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/muuoT.jpg?s=128&g=1", "display_name": "A.S", "link": "https://stackoverflow.com/users/5446607/a-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 942, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1444892228, "creation_date": 1444851014, "last_edit_date": 1444892228, "question_id": 33133997, "link": "https://stackoverflow.com/questions/33133997/how-to-make-datetimepicker-select-specific-day-in-c", "title": "how to make datetimepicker select specific day in c#", "body": "<p>I'm doing a program for Doctor Clinics , and you know that is each doctor have specific clinic day so how can I make the datetimepicker Enable only one day in all the interval time, for example Sunday only is available and other days are unavailable  ??</p>\n"}, {"tags": ["c#", "c++", "windows", "named-pipes"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5166622"}, "edited": false, "score": 0, "creation_date": 1444852296, "post_id": 33134292, "comment_id": 54080242, "body": "Ok you solved the connection problem but I get this now, prolly not interpreting it correctly I think :S <a href=\"https://i.gyazo.com/77ec6b69d14aec6ad7a0cc3f5168f8fe.png\" rel=\"nofollow noreferrer\">i.gyazo.com/77ec6b69d14aec6ad7a0cc3f5168f8fe.png</a> where the 0xA0 is the value of the HANDLE hPipe"}, {"owner": {"reputation": 10718, "user_id": 982639, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/gToj4.jpg?s=128&g=1", "display_name": "Alexandru", "link": "https://stackoverflow.com/users/982639/alexandru"}, "edited": false, "score": 0, "creation_date": 1444852422, "post_id": 33134292, "comment_id": 54080314, "body": "@HyunMi I noticed you use <code>TCHAR</code> in your C++ logic. Does your application target Unicode characters?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5166622"}, "edited": false, "score": 0, "creation_date": 1444852494, "post_id": 33134292, "comment_id": 54080346, "body": "Yes, I just forgot to change it in my test server, :S sorry"}, {"owner": {"reputation": 10718, "user_id": 982639, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/gToj4.jpg?s=128&g=1", "display_name": "Alexandru", "link": "https://stackoverflow.com/users/982639/alexandru"}, "edited": false, "score": 1, "creation_date": 1444852613, "post_id": 33134292, "comment_id": 54080424, "body": "@HyunMi If you&#39;re sending Unicode characters across the pipe, you may need to change your font in Command Prompt&#39;s settings in order to view them. Check this out for more details: <a href=\"http://stackoverflow.com/questions/22578567/passing-a-stringstream-to-console-output-in-unicode-project\" title=\"passing a stringstream to console output in unicode project\">stackoverflow.com/questions/22578567/&hellip;</a>"}], "tags": [], "owner": {"reputation": 10718, "user_id": 982639, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/gToj4.jpg?s=128&g=1", "display_name": "Alexandru", "link": "https://stackoverflow.com/users/982639/alexandru"}, "is_accepted": true, "score": 2, "last_activity_date": 1444872890, "last_edit_date": 1495535249, "creation_date": 1444852013, "answer_id": 33134292, "question_id": 33133993, "link": "https://stackoverflow.com/questions/33133993/named-pipe-client-c-with-c-server/33134292#33134292", "title": "Named pipe client (c++) with c# server", "body": "<p>I know why.</p>\n\n<ol>\n<li><p>When creating your pipe in C#, use just <code>\"TestPipe\"</code> as the name of the pipe, don't include <code>\\\\.\\pipe\\</code> as a prefix for this pipe's name.</p></li>\n<li><p>From C++, use the full path to the pipe: <code>\"\\\\.\\pipe\\TestPipe\"</code>. Your C++ logic doesn't need a change for this, as you have defined it just fine: <code>L\"\\\\\\\\.\\\\pipe\\\\TestPipe\"</code></p></li>\n</ol>\n\n<p><a href=\"https://stackoverflow.com/questions/4961164/how-do-i-make-named-pipes-work-between-c-and-net\">This may help, as well</a>. Funny enough, I ran into this three years ago or more, and now its all coming back to me.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5166622"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4902, "favorite_count": 2, "accepted_answer_id": 33134292, "answer_count": 1, "score": 1, "last_activity_date": 1444872890, "creation_date": 1444850999, "last_edit_date": 1444851246, "question_id": 33133993, "link": "https://stackoverflow.com/questions/33133993/named-pipe-client-c-with-c-server", "title": "Named pipe client (c++) with c# server", "body": "<p>What I want to do is have a named pipe client written in c++ to be able to communicate with a named pipe server written in C#. I have been unable to accomplish this so far.</p>\n\n<p>CreateFile gives me an invalid handle value, GetLastError returns 2.</p>\n\n<p>Here is the c++ part (client)</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;windows.h&gt; \n#include &lt;stdio.h&gt;\n#include &lt;conio.h&gt;\n#include &lt;tchar.h&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\n#define PIPE_NAME L\"\\\\\\\\.\\\\pipe\\\\TestPipe\"\n#define BUFF_SIZE 512\n\nint main()\n{\n    HANDLE hPipe;\n\n    hPipe = CreateFile(PIPE_NAME, GENERIC_READ, 0, nullptr, OPEN_EXISTING, 0, nullptr);\n\n    if (hPipe == INVALID_HANDLE_VALUE)\n    {\n        cout &lt;&lt; \"INVALID_HANDLE_VALUE\" &lt;&lt; GetLastError() &lt;&lt; endl;\n        cin.get();\n        return -1;\n    }\n\n    cout &lt;&lt; hPipe &lt;&lt; endl;\n\n    DWORD mode = PIPE_READMODE_MESSAGE;\n\n    SetNamedPipeHandleState(hPipe, &amp;mode, nullptr, nullptr);\n\n    bool success = false;\n    DWORD read;\n\n    while(true)\n    {\n        TCHAR chBuff[BUFF_SIZE];\n        do\n        {\n            success = ReadFile(hPipe, chBuff, BUFF_SIZE*sizeof(TCHAR), &amp;read, nullptr);\n        } while (!success);\n\n        _tprintf(TEXT(\"\\\"%s\\\"\\n\"), chBuff);\n    }\n}\n</code></pre>\n\n<p>And here is the server</p>\n\n<pre><code>using System;\nusing System.IO.Pipes;\nusing System.Text;\n\nnamespace BasicServer\n{\n\n    public static class Program\n    {\n        private static NamedPipeServerStream _server;\n\n        static void Main(string[] args)\n        {\n            _server = new NamedPipeServerStream(@\"\\\\.\\pipe\\TestPipe\", PipeDirection.Out, 1, PipeTransmissionMode.Message);\n            _server.WaitForConnection();\n            Console.WriteLine(_server.IsConnected);\n            Console.WriteLine(\"Client connected\\n Sending message\");\n            byte[] buff = Encoding.UTF8.GetBytes(\"Test message\");\n            _server.Write(buff, 0, buff.Length);\n            while (true)\n            {\n                Console.ReadKey();\n                Console.Write(\"\\b \\b\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I have been able to connect with a client written in C# but the c++ -> C# communication should be possible as far as I know.</p>\n\n<p>Here was my test client I wrote in c#, which works</p>\n\n<pre><code>using System;\nusing System.IO.Pipes;\nusing System.Text;\n\nnamespace BasicClientC\n{\n\n    public class Program\n    {\n        private static NamedPipeClientStream client;\n\n        static void Main(string[] args)\n        {\n            client = new NamedPipeClientStream(@\".\", @\"\\\\.\\pipe\\TestPipe\", PipeDirection.In);\n            client.Connect();\n            byte[] buffer = new byte[512];\n            client.Read(buffer, 0, 512);\n            Console.WriteLine(Encoding.UTF8.GetString(buffer));\n            Console.ReadKey();\n        }\n    }\n}\n</code></pre>\n\n<p>So where is my mistake?</p>\n"}, {"tags": ["c#", ".net", "dictionary", "collections"], "comments": [{"owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1444851189, "post_id": 33133967, "comment_id": 54079608, "body": "Is your dictionary a <code>Dictionary&lt;string,int&gt;</code>? In your example the key is the whole string <code>&#47;ReturnState[1]&#47;ReturnDataState[1]&#47;Form6[1]&#47;Body[1]&#47;Member[1&zwnj;&#8203;]&#47;FormA1[1]</code>, and the value is <code>94</code>?"}, {"owner": {"reputation": 89, "user_id": 3375390, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0a561f5926c71c82f7b91a5c27d4d2f8?s=128&d=identicon&r=PG&f=1", "display_name": "user3375390", "link": "https://stackoverflow.com/users/3375390/user3375390"}, "reply_to_user": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1444851379, "post_id": 33133967, "comment_id": 54079717, "body": "Yes you are right Yacoub!  I will edit my question to add more clarity."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1444851408, "post_id": 33133967, "comment_id": 54079740, "body": "How about showing us the &quot;simple method CreatePathCollection(string path, int entityKey)&quot;"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1444852150, "post_id": 33133967, "comment_id": 54080156, "body": "First of all, you need to show us some code to see what you tried so far -  here is not a place for puzzles! Second, I&#39;m trying to figure out what is your `path&#39; logic, i.e. are all your keys encoded the way you show in the example, like /sometext[somenumber]/..."}, {"owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1444852581, "post_id": 33133967, "comment_id": 54080397, "body": "@user3375390, is the problem you are trying to solve inside the <code>CreatePathCollection</code> method? Can you explain the syntax of the key? you are linking the reception of some key/value with the update of other items? what is the relation here? You should work on the question to make it more understandable"}, {"owner": {"reputation": 89, "user_id": 3375390, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0a561f5926c71c82f7b91a5c27d4d2f8?s=128&d=identicon&r=PG&f=1", "display_name": "user3375390", "link": "https://stackoverflow.com/users/3375390/user3375390"}, "edited": false, "score": 0, "creation_date": 1444852804, "post_id": 33133967, "comment_id": 54080543, "body": "Well Yacoub, this is part of a more complex problem and it would require a lot more to even being trying to explain the whole problem. So I just narrowed it down to this part.  Yes I am trying to slove this issue inside the CreatePathCollection method. Well the key is nothing but an XML path that i receive along with another integer as its value."}, {"owner": {"reputation": 89, "user_id": 3375390, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0a561f5926c71c82f7b91a5c27d4d2f8?s=128&d=identicon&r=PG&f=1", "display_name": "user3375390", "link": "https://stackoverflow.com/users/3375390/user3375390"}, "edited": false, "score": 0, "creation_date": 1444853110, "post_id": 33133967, "comment_id": 54080731, "body": "But to be more specific, in the key /ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1&zwnj;&#8203;]/FormA1[1] , i would be more interested in seeing if there is already a FormA1[1] under Member[1] OR if there are already FormA1[<i>] which have indexes greater than the one currently being added.  If either of the cases is true then i would have to update the indexes of FormA1[</i>] in these paths.  Does this give you a little more clarity ?"}, {"owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1444854038, "post_id": 33133967, "comment_id": 54081281, "body": "@user3375390, So you want to simulate adding a node to a tree? and you need to push siblings one place down so you have a place for the new node?"}, {"owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1444854104, "post_id": 33133967, "comment_id": 54081319, "body": "@user3375390, must you use <code>Dictionary&lt;string,int&gt;</code>? can you create a special class for the key?"}, {"owner": {"reputation": 89, "user_id": 3375390, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0a561f5926c71c82f7b91a5c27d4d2f8?s=128&d=identicon&r=PG&f=1", "display_name": "user3375390", "link": "https://stackoverflow.com/users/3375390/user3375390"}, "edited": false, "score": 0, "creation_date": 1444855070, "post_id": 33133967, "comment_id": 54081876, "body": "How would the class be, can you give me some more details as to what you are thinking .. i mean how would the class hold  a path like /ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1&zwnj;&#8203;]/FormA1[1]  ?"}, {"owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "edited": false, "score": 0, "creation_date": 1444856331, "post_id": 33133967, "comment_id": 54082536, "body": "@user3375390, if you try to insert <code>..FormA1[1]</code> and it does not already exists in the dictionary, but you already have <code>..FormA1[2]</code> in the dictionary, do you have to do anything?, or simply add <code>..FormA1[1]</code> to the dictionary?"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 3375390, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0a561f5926c71c82f7b91a5c27d4d2f8?s=128&d=identicon&r=PG&f=1", "display_name": "user3375390", "link": "https://stackoverflow.com/users/3375390/user3375390"}, "edited": false, "score": 0, "creation_date": 1444852626, "post_id": 33134388, "comment_id": 54080430, "body": "Thanks for trying Ronald, But I dont think this would work."}, {"owner": {"reputation": 891, "user_id": 2402502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwGmd.jpg?s=128&g=1", "display_name": "Roland Buergi", "link": "https://stackoverflow.com/users/2402502/roland-buergi"}, "reply_to_user": {"reputation": 89, "user_id": 3375390, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0a561f5926c71c82f7b91a5c27d4d2f8?s=128&d=identicon&r=PG&f=1", "display_name": "user3375390", "link": "https://stackoverflow.com/users/3375390/user3375390"}, "edited": false, "score": 0, "creation_date": 1444853264, "post_id": 33134388, "comment_id": 54080836, "body": "So what do you want to achieve? I don&#39;t fully understand the logic you want to implement"}], "tags": [], "owner": {"reputation": 891, "user_id": 2402502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwGmd.jpg?s=128&g=1", "display_name": "Roland Buergi", "link": "https://stackoverflow.com/users/2402502/roland-buergi"}, "is_accepted": false, "score": 0, "last_activity_date": 1444852323, "creation_date": 1444852323, "answer_id": 33134388, "question_id": 33133967, "link": "https://stackoverflow.com/questions/33133967/modifying-a-dictionary-collection/33134388#33134388", "title": "Modifying a dictionary collection", "body": "<p>As far as I understand, the strings you use to define the paths will occur in alphabetical order (it will depend on whether you have more than 9 elements per index). In this scenario, you might use SortedDictionary and proceed as follows:</p>\n\n<pre><code>private readonly SortedDictionary&lt;string, int&gt; sortedDictionary = CreatePathCollection(path, entityKey); \n\npublic void Set(string path, int index)\n{\n    sortedDictionary.Remove(path);\n    var i = 91;\n    foreach (var key in sortedDictionary.Keys)\n        sortedDictionary[key] = i++;\n    sortedDictionary[path] = index;\n}\n</code></pre>\n\n<p>Unfortunately, I may not understand your problem in all detail, but I hope this gives you some ideas. </p>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 3375390, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0a561f5926c71c82f7b91a5c27d4d2f8?s=128&d=identicon&r=PG&f=1", "display_name": "user3375390", "link": "https://stackoverflow.com/users/3375390/user3375390"}, "edited": false, "score": 0, "creation_date": 1444857487, "post_id": 33135068, "comment_id": 54083064, "body": "Thanks a lot Ivan .. I think this is what I need !"}], "tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": false, "score": 1, "last_activity_date": 1444854815, "creation_date": 1444854815, "answer_id": 33135068, "question_id": 33133967, "link": "https://stackoverflow.com/questions/33133967/modifying-a-dictionary-collection/33135068#33135068", "title": "Modifying a dictionary collection", "body": "<p>Here is what I end up - not very elegant, but should do the job  </p>\n\n<pre><code>static void UpdatePathCollection(Dictionary&lt;string, int&gt; target, string path, int entityKey)\n{\n    int start, index;\n    if (path == null || path.Length &lt; 3 || path[path.Length - 1] != ']'\n        || (start = path.LastIndexOf('[', path.Length - 2)) &lt; 0\n        || !int.TryParse(path.Substring(start + 1, path.Length - start - 2), out index)\n        || index &lt; 0) throw new ArgumentException(\"path\");\n    var prefix = path.Substring(0, start + 1);\n    var nextKey = path;\n    var nextValue = entityKey;\n    while (true)\n    {\n        int oldValue;\n        if (!target.TryGetValue(nextKey, out oldValue))\n        {\n            target.Add(nextKey, nextValue);\n            break;\n        }\n        target[nextKey] = nextValue;\n        index++;\n        nextKey = prefix + index + \"]\";\n        nextValue = oldValue;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25936, "user_id": 2290059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o79to.jpg?s=128&g=1", "display_name": "Yacoub Massad", "link": "https://stackoverflow.com/users/2290059/yacoub-massad"}, "is_accepted": true, "score": 2, "last_activity_date": 1444860671, "last_edit_date": 1444860671, "creation_date": 1444857617, "answer_id": 33135774, "question_id": 33133967, "link": "https://stackoverflow.com/questions/33133967/modifying-a-dictionary-collection/33135774#33135774", "title": "Modifying a dictionary collection", "body": "<p>Create a model to represent your key like this:</p>\n\n<p>The following class represents part of the path like <code>/ReturnState[1]</code>, and it contains a method (the constructor) to parse the data from a string and another method to convert the data to the string format.</p>\n\n<pre><code>public class Part\n{\n    public string Name { get; set; }\n    public int Index { get; set; }\n\n    public Part(string str)\n    {\n        int location_of_bracket_start = str.LastIndexOf(\"[\");\n\n        if(location_of_bracket_start == -1)\n            throw new Exception(\"Unexpected format\");\n\n        Name = str.Substring(0, location_of_bracket_start);\n\n        string rest = str.Substring(location_of_bracket_start);\n\n        Index = int.Parse(rest.Substring(1, rest.Length - 2));\n\n    }\n\n    public string ConvertToStringFormat()\n    {\n        return string.Format(\"/{0}[{1}]\", Name, Index);\n    }\n}\n</code></pre>\n\n<p>The following class represents a full path (e.g. <code>/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1]/FormA1[1]</code>) as a list of parts. It also contains method to construct an the object from a string and to convert to a string.</p>\n\n<pre><code>public class NodePath : List&lt;Part&gt;\n{\n    public NodePath(string path)\n    {\n        string[] parts = path.Split(new []{\"/\"}, StringSplitOptions.RemoveEmptyEntries);\n\n        foreach (string part in parts)\n        {\n            this.Add(new Part(part));\n        }\n\n    }\n\n    public string ConvertToStringFormat()\n    {\n        return string.Join(\"\", this.Select(x =&gt; x.ConvertToStringFormat()));\n    }\n}\n</code></pre>\n\n<p>The following class contains the logic that you need:</p>\n\n<pre><code>public class PathClass\n{\n    private readonly Dictionary&lt;string, int&gt; m_Dictionary;\n\n    public PathClass()\n    {\n        m_Dictionary = new Dictionary&lt;string, int&gt;();\n    }\n\n    public Dictionary&lt;string, int&gt; Dictionary\n    {\n        get { return m_Dictionary; }\n    }\n\n    public void Add(string path, int number)\n    {\n\n        if (m_Dictionary.ContainsKey(path))\n            MoveOne(path);\n\n        m_Dictionary.Add(path, number);\n    }\n\n    public void MoveOne(string path)\n    {\n        int number = m_Dictionary[path];\n\n        m_Dictionary.Remove(path);\n\n        var moved_node_path = IncrementPath(path);\n\n        if (m_Dictionary.ContainsKey(moved_node_path))\n            MoveOne(moved_node_path);\n\n        m_Dictionary.Add(moved_node_path, number);\n    }\n\n    private string IncrementPath(string path)\n    {\n        NodePath node_path = new NodePath(path);\n\n        node_path.Last().Index++;\n\n        return node_path.ConvertToStringFormat();\n    }\n}\n</code></pre>\n\n<p>When the consumer tries to add a path, it checks if it exists, if it does, it moves the existing one (increments the index of the last path Part). It does this recursively in case the dictionary also contains an item where we are trying to move to.</p>\n\n<p>I tested this like this:</p>\n\n<pre><code>PathClass path_class = new PathClass();\n\npath_class.Add(\"/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1]/FormA1[1]\" , 1);\n\npath_class.Add(\"/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1]/FormA1[1]\", 2);\n\npath_class.Add(\"/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[2]/FormA1[1]\", 3);\n\npath_class.Add(\"/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[2]/FormA1[2]\", 4);\n\npath_class.Add(\"/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[2]/FormA1[1]\", 5);\n</code></pre>\n\n<p>I got the following results:</p>\n\n<pre><code>/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1]/FormA1[2], 1\n/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1]/FormA1[1], 2\n/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[2]/FormA1[2], 3\n/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[2]/FormA1[3], 4\n/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[2]/FormA1[1], 5\n</code></pre>\n\n<p>Please note that another way to do this is to use a <code>Dictionary&lt;NodePath,int&gt;</code>, this means that you would need to implement <code>Equals</code> and <code>GetHashCode</code> for <code>NodePath</code>.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>If you don't care about the model, you can replace the <code>IncrementPath</code> method with this (and remove the model) for performance reasons:</p>\n\n<pre><code>private string IncrementPath(string path)\n{\n    int location_of_bracket_start = path.LastIndexOf(\"[\");\n\n    if (location_of_bracket_start == -1)\n        throw new Exception(\"Unexpected format\");\n\n    string before_bracket = path.Substring(0, location_of_bracket_start);\n\n    string rest = path.Substring(location_of_bracket_start);\n\n    int index = int.Parse(rest.Substring(1, rest.Length - 2));\n\n    index ++;\n\n    return string.Format(\"{0}[{1}]\", before_bracket, index);\n}\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 3375390, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0a561f5926c71c82f7b91a5c27d4d2f8?s=128&d=identicon&r=PG&f=1", "display_name": "user3375390", "link": "https://stackoverflow.com/users/3375390/user3375390"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 33135774, "answer_count": 3, "score": -2, "last_activity_date": 1533436530, "creation_date": 1444850910, "last_edit_date": 1533436530, "question_id": 33133967, "link": "https://stackoverflow.com/questions/33133967/modifying-a-dictionary-collection", "title": "Modifying a dictionary collection", "body": "<p>I currently have a dictionary(string,int) which will hold values like the following </p>\n\n<pre><code>/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1]/FormA1[1] , 91\n/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1]/FormA1[2] , 92 \n/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[2]/FormA1[1] , 93\n</code></pre>\n\n<p>And this collection is created using a simple method CreatePathCollection(string path, int entityKey)</p>\n\n<p>However the challenge I am facing is the following. </p>\n\n<p>Suppose I receive a key and value into my method, which has values like </p>\n\n<pre><code>/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1]/FormA1[1] , 94\n</code></pre>\n\n<p>I would like to update the the following keys in the collection from</p>\n\n<pre><code>/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1]/FormA1[1] , 91 \n/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1]/FormA1[2] , 92 \n\n TO \n\n/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1]/FormA1[2] , 91 \n/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1]/FormA1[3] , 92 \n</code></pre>\n\n<p>And then Add </p>\n\n<pre><code>/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1]/FormA1[1] , 94\n</code></pre>\n\n<p>So the final collection will be </p>\n\n<pre><code>/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1]/FormA1[1] , 94\n/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1]/FormA1[2] , 91 \n/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[1]/FormA1[3] , 92 \n/ReturnState[1]/ReturnDataState[1]/Form6[1]/Body[1]/Member[2]/FormA1[1] , 93\n</code></pre>\n\n<p>Is there an elegant way to accomplish this?</p>\n"}, {"tags": ["c#", "winforms", "webbrowser-control", "confirm"], "comments": [{"owner": {"reputation": 3381, "user_id": 3964654, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ITt1C.jpg?s=128&g=1", "display_name": "wingerse", "link": "https://stackoverflow.com/users/3964654/wingerse"}, "edited": false, "score": 0, "creation_date": 1444850544, "post_id": 33133835, "comment_id": 54079254, "body": "Do you mean &quot;confirm&quot;?"}, {"owner": {"reputation": 4385, "user_id": 1084168, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NUUOd.jpg?s=128&g=1", "display_name": "Anderson Pimentel", "link": "https://stackoverflow.com/users/1084168/anderson-pimentel"}, "edited": false, "score": 0, "creation_date": 1444850668, "post_id": 33133835, "comment_id": 54079336, "body": "If you want to close it from the server side, there&#39;s no way. If you want to do it from the client side, take a look at <a href=\"http://stackoverflow.com/questions/6297804/can-i-close-confirm-box-in-javascript-code\">this</a> question."}, {"owner": {"reputation": 117, "user_id": 5406493, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b661f0350304135b5683daabc1870885?s=128&d=identicon&r=PG&f=1", "display_name": "Sagi ", "link": "https://stackoverflow.com/users/5406493/sagi"}, "reply_to_user": {"reputation": 3381, "user_id": 3964654, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ITt1C.jpg?s=128&g=1", "display_name": "wingerse", "link": "https://stackoverflow.com/users/3964654/wingerse"}, "edited": false, "score": 0, "creation_date": 1444850669, "post_id": 33133835, "comment_id": 54079337, "body": "@empereurAiman - yes, im sry."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1444850775, "post_id": 33133835, "comment_id": 54079389, "body": "This is a Windows Forms or WPF application, with a WebBrowser control?"}, {"owner": {"reputation": 117, "user_id": 5406493, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b661f0350304135b5683daabc1870885?s=128&d=identicon&r=PG&f=1", "display_name": "Sagi ", "link": "https://stackoverflow.com/users/5406493/sagi"}, "reply_to_user": {"reputation": 4385, "user_id": 1084168, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NUUOd.jpg?s=128&g=1", "display_name": "Anderson Pimentel", "link": "https://stackoverflow.com/users/1084168/anderson-pimentel"}, "edited": false, "score": 0, "creation_date": 1444850853, "post_id": 33133835, "comment_id": 54079425, "body": "@andersonPimentel - there is alot of things that people said that there is no way to do them, like call a javascript function in c# - there is a way that i found by myself, but i mean like - there is anyway i will be able to change the javasscript code over there? i mean cancel the confirm message by doing something? make a new function on-page?"}, {"owner": {"reputation": 117, "user_id": 5406493, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b661f0350304135b5683daabc1870885?s=128&d=identicon&r=PG&f=1", "display_name": "Sagi ", "link": "https://stackoverflow.com/users/5406493/sagi"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1444850871, "post_id": 33133835, "comment_id": 54079436, "body": "@mason - Windows Forms"}, {"owner": {"reputation": 4385, "user_id": 1084168, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NUUOd.jpg?s=128&g=1", "display_name": "Anderson Pimentel", "link": "https://stackoverflow.com/users/1084168/anderson-pimentel"}, "edited": false, "score": 0, "creation_date": 1444851945, "post_id": 33133835, "comment_id": 54080035, "body": "Can you explain why are you trying to close a <code>confirm</code> window on a web browser from a Windows Forms application?"}, {"owner": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "edited": false, "score": 0, "creation_date": 1444857263, "post_id": 33133835, "comment_id": 54082981, "body": "You can use the same technique to automate <code>confirm</code>: <a href=\"http://stackoverflow.com/a/18691219/1768303\">stackoverflow.com/a/18691219/1768303</a>"}], "answers": [{"comments": [{"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1444852851, "post_id": 33134455, "comment_id": 54080570, "body": "Having control over the WebApplication doesn&#39;t nessicarily mean that you can modify the web page your navigating to"}, {"owner": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "edited": false, "score": 0, "creation_date": 1444857587, "post_id": 33134455, "comment_id": 54083114, "body": "It&#39;s actually quite possible, provided the OP has control over the browser: <a href=\"http://stackoverflow.com/a/18691219/1768303\">stackoverflow.com/a/18691219/1768303</a>."}, {"owner": {"reputation": 4385, "user_id": 1084168, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NUUOd.jpg?s=128&g=1", "display_name": "Anderson Pimentel", "link": "https://stackoverflow.com/users/1084168/anderson-pimentel"}, "reply_to_user": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "edited": false, "score": 0, "creation_date": 1444871118, "post_id": 33134455, "comment_id": 54087575, "body": "@Noseratio True. That&#39;s way beyond my knowledge in WinForms. Thanks for the info. I think you should post as an answer."}, {"owner": {"reputation": 4385, "user_id": 1084168, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NUUOd.jpg?s=128&g=1", "display_name": "Anderson Pimentel", "link": "https://stackoverflow.com/users/1084168/anderson-pimentel"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1444871235, "post_id": 33134455, "comment_id": 54087600, "body": "@johnny5 Know that, but I&#39;m afraid he wants a complex solution for something that could be a lot simpler."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1444918315, "post_id": 33134455, "comment_id": 54111081, "body": "if the alert box pops up in the same position percent wise you could probably trigger a click from c#"}, {"owner": {"reputation": 117, "user_id": 5406493, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b661f0350304135b5683daabc1870885?s=128&d=identicon&r=PG&f=1", "display_name": "Sagi ", "link": "https://stackoverflow.com/users/5406493/sagi"}, "edited": false, "score": 0, "creation_date": 1444924846, "post_id": 33134455, "comment_id": 54115828, "body": "Im gald you people trying to help me but still I cant find the soulotion, thats not my site so I cant do anything to the code."}], "tags": [], "owner": {"reputation": 4385, "user_id": 1084168, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NUUOd.jpg?s=128&g=1", "display_name": "Anderson Pimentel", "link": "https://stackoverflow.com/users/1084168/anderson-pimentel"}, "is_accepted": false, "score": 0, "last_activity_date": 1444852537, "creation_date": 1444852537, "answer_id": 33134455, "question_id": 33133835, "link": "https://stackoverflow.com/questions/33133835/need-to-click-confirm-in-a-webbrowser-control-from-c/33134455#33134455", "title": "Need to click `confirm()` in a webBrowser control from C#", "body": "<p>If you have no control over the web application, there's no way to close the <code>confirm</code> window, as it pauses the script execution waiting for the user input.</p>\n\n<p>If you have control over the web application, try using something like <a href=\"http://jqueryui.com/dialog/#modal-confirmation\" rel=\"nofollow\">JQueryUI dialog</a>, which has a <code>close</code> method.</p>\n"}], "owner": {"reputation": 117, "user_id": 5406493, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b661f0350304135b5683daabc1870885?s=128&d=identicon&r=PG&f=1", "display_name": "Sagi ", "link": "https://stackoverflow.com/users/5406493/sagi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 506, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1444852537, "creation_date": 1444850429, "last_edit_date": 1444850937, "question_id": 33133835, "link": "https://stackoverflow.com/questions/33133835/need-to-click-confirm-in-a-webbrowser-control-from-c", "title": "Need to click `confirm()` in a webBrowser control from C#", "body": "<p>I'm using a <code>WebBrowser</code> control in a C# Window Forms application, and trying to confirm a <code>confirm()</code> box that was opened in the <code>webBrowser</code> by JavaScript.</p>\n\n<p>The JavaScript code:</p>\n\n<pre><code>confirm(\"confirmMe\");\n</code></pre>\n\n<p>How can I click <code>OK</code> on the dialog that opened?</p>\n\n<p><img src=\"https://i.stack.imgur.com/puswc.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["c#", "multithreading", "asynchronous", "timer", "async-await"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 5446129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5c85c763430c86d8ed2f02f918ae1be?s=128&d=identicon&r=PG&f=1", "display_name": "PKV", "link": "https://stackoverflow.com/users/5446129/pkv"}, "edited": false, "score": 2, "creation_date": 1444852651, "post_id": 33134002, "comment_id": 54080448, "body": "Thanks. Good input. Yeah, I was unsure how the method would be invoked. I totally agree on moving the Task.Run as high up as possible. Cleaner code. I do see the anti-pattern now. Not always obvious for newcomers to async/await."}], "tags": [], "owner": {"reputation": 135642, "user_id": 1870803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jYakG.jpg?s=128&g=1", "display_name": "Yuval Itzchakov", "link": "https://stackoverflow.com/users/1870803/yuval-itzchakov"}, "is_accepted": true, "score": 5, "last_activity_date": 1444851537, "last_edit_date": 1444851537, "creation_date": 1444851022, "answer_id": 33134002, "question_id": 33133800, "link": "https://stackoverflow.com/questions/33133800/is-this-the-correct-way-to-run-scheduled-async-await-methods-using-system-thread/33134002#33134002", "title": "Is this the correct way to run scheduled async/await methods using System.Threading.Timer?", "body": "<blockquote>\n  <p>I am just unsure about using a async method returning void when that should only be used for event handlers like button clicks</p>\n</blockquote>\n\n<p>Well, you're registering an event handler to the <code>Timer.Elapsed</code> event, so using it in such a manner is ok.</p>\n\n<p>Generally, I'd do a couple of things differently. First, using the <a href=\"http://blogs.msdn.com/b/pfxteam/archive/2012/03/24/10287244.aspx\" rel=\"nofollow\"><em>async over sync anti-pattern</em></a>, which I would avoid. Move <code>Task.Run</code> to the highest place possible in the callstack. Then, if you're only invoking a one-liner async method, simply return it instead of awaiting on it, allowing you to save the async state-machine generation.</p>\n\n<p>Another thing you may consider is instead of using a <code>Timer</code> you can loop and use <code>Task.Delay</code>, which internally uses a timer but exposes a <code>Task</code> to the caller.</p>\n\n<p>It can roughly look like this:</p>\n\n<pre><code>public async Task StartAsync()\n{\n    _cancelSource = new CancellationTokenSource();\n    await UpdateAsync(_cancelSource.Token);\n}\n\npublic async Task UpdateAsync(CancellationToken cancellationToken)\n{\n    try\n    {\n         var updateSomething = Task.Run(() =&gt; _request.UpdateSomething()));\n         var updateSomethingElse = Task.Run(() =&gt; _request.UpdateSomethingElse());\n\n        await Task.WhenAll(updateSomething, updateSomethingElse);\n    }\n    catch (OperationCanceledException)\n    {\n        // Handle cancellation\n    }\n    catch (Exception exception)\n    {\n        // Handle exception\n    }\n    finally\n    {\n        if (_cancelSource.IsCancellationRequested)\n            await Task.Delay(2000);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5446129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5c85c763430c86d8ed2f02f918ae1be?s=128&d=identicon&r=PG&f=1", "display_name": "PKV", "link": "https://stackoverflow.com/users/5446129/pkv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2188, "favorite_count": 0, "accepted_answer_id": 33134002, "answer_count": 1, "score": 3, "last_activity_date": 1444851794, "creation_date": 1444850272, "last_edit_date": 1444851794, "question_id": 33133800, "link": "https://stackoverflow.com/questions/33133800/is-this-the-correct-way-to-run-scheduled-async-await-methods-using-system-thread", "title": "Is this the correct way to run scheduled async/await methods using System.Threading.Timer?", "body": "<p>I am currently working on a project where I would like to perform some periodic updates in the background and I would like to use async/await for that purpose using a System.Threading.Timer. I have not been able to find any articles on this particular subject.</p>\n\n<p>The following snippet works. I am just unsure about using a async method returning void when that should only be used for event handlers like button clicks. Is there anything that 'breaches' with best practice in the code below?</p>\n\n<pre><code>public class ScheduledCache\n{\n    private CancellationTokenSource _cancelSource = new CancellationTokenSource();\n    private Request _request = new Request();\n    private Timer _timer;\n\n    public void Start()\n    {\n        _cancelSource = new CancellationTokenSource();\n        _timer = new Timer(UpdateAsync, null, 2000, Timeout.Infinite);\n    }\n\n    public void Stop()\n    {\n        _cancelSource.Cancel();\n    }\n\n    public async void UpdateAsync(object state)\n    {\n        try\n        {\n            await Task.WhenAll(UpdateSomethingAsync(_cancelSource.Token), UpdateSomethingElseAsync(_cancelSource.Token));\n        }\n        catch (OperationCanceledException)\n        {\n            // Handle cancellation\n        }\n        catch (Exception exception)\n        {\n            // Handle exception\n        }\n        finally\n        {\n            if (_cancelSource.IsCancellationRequested)\n                _timer = new Timer(UpdateAsync, null, 2000, Timeout.Infinite);\n            else\n                _timer = new Timer(UpdateAsync, null, Timeout.Infinite, Timeout.Infinite);\n        }\n    }\n\n    private async Task UpdateSomethingAsync(CancellationToken cancellationToken)\n    {\n        await Task.Run(new Action(_request.UpdateSomething));\n    }\n\n    private async Task UpdateSomethingElseAsync(CancellationToken cancellationToken)\n    {\n        await Task.Run(new Action(_request.UpdateSomethingElse));\n    }\n}\n\npublic class Request\n{\n    public void UpdateSomething()\n    {\n        // Do some updates here\n    }\n\n    public void UpdateSomethingElse()\n    {\n        // Do some other updates here\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "uwp"], "answers": [{"comments": [{"owner": {"reputation": 675, "user_id": 3149741, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/1zN7t.png?s=128&g=1", "display_name": "Bishoy", "link": "https://stackoverflow.com/users/3149741/bishoy"}, "edited": false, "score": 0, "creation_date": 1501716772, "post_id": 33134483, "comment_id": 77906059, "body": "This means all what I need is .NET standard 2? do you recon it&#39;d work with the current preview?"}], "tags": [], "owner": {"reputation": 354, "user_id": 4727426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37e67294485c9636282d46cb28cb735f?s=128&d=identicon&r=PG&f=1", "display_name": "matihuf", "link": "https://stackoverflow.com/users/4727426/matihuf"}, "is_accepted": true, "score": 0, "last_activity_date": 1444852644, "creation_date": 1444852644, "answer_id": 33134483, "question_id": 33133738, "link": "https://stackoverflow.com/questions/33133738/beta-version-nugets-not-supported-by-uwp/33134483#33134483", "title": "Beta version nugets not supported by UWP?", "body": "<p>Yes, many packages are not ready to be used in UWP app, so you must wait for new versions of this packages.</p>\n"}], "owner": {"reputation": 11446, "user_id": 640325, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/018fc595a3e6b1ac5c18cb27e73a066d?s=128&d=identicon&r=PG", "display_name": "Shay Rojansky", "link": "https://stackoverflow.com/users/640325/shay-rojansky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 33134483, "answer_count": 1, "score": 0, "last_activity_date": 1444852644, "creation_date": 1444850061, "question_id": 33133738, "link": "https://stackoverflow.com/questions/33133738/beta-version-nugets-not-supported-by-uwp", "title": "Beta version nugets not supported by UWP?", "body": "<p>Am trying to make <a href=\"http://www.npgsql.org/\" rel=\"nofollow\">Npgsql</a> compatible with UWP and running into some issues. I've made it target the <code>dotnet</code> TFM, although unlike some other projects (EF7), Npgsql depends on nugets which only have beta versions on nuget.org (e.g. <a href=\"https://www.nuget.org/packages/System.Threading.Thread/\" rel=\"nofollow\">System.Threading.Thread</a>), or for which only the beta version has my required types (e.g. <a href=\"https://www.nuget.org/packages/System.Net.NetworkInformation\" rel=\"nofollow\">System.Net.NetworkInformation</a> 4.0.0 doesn't have <code>PhysicalAddress</code>, but 4.1.0-beta-23225 does).</p>\n\n<p>When trying to build a UWP app which depends on Npgsql, I get the following build error for all beta dependencies of Npgsql:</p>\n\n<pre><code>System.Net.NetworkInformation 4.1.0-beta-23225 provides a compile-time reference assembly for System.Net.NetworkInformation on UAP,Version=v10.0, but there is no run-time assembly compatible with win10-x86\n</code></pre>\n\n<p>Are some packages simply not yet ready to be used in a UWP app, or am I doing something wrong?</p>\n"}, {"tags": ["c#", "sql", "asp.net", "sql-server"], "comments": [{"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1444850216, "post_id": 33133730, "comment_id": 54079062, "body": "Your code is NOT going to do what you think it will. You can&#39;t dynamically look at a column like that. The reason you get nothing back is because the where predicate is looking at the values of those two parameters, not the actual column data. If you pass in the same value you will get all rows in the table. Otherwise you get nothing. What you should be doing is passing in three nullable parameters and extend your where predicates to handle any of the three."}, {"owner": {"reputation": 2634, "user_id": 5104101, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9f9a8e32cb73369ec0b3f0f49e061c36?s=128&d=identicon&r=PG&f=1", "display_name": "haraman", "link": "https://stackoverflow.com/users/5104101/haraman"}, "edited": false, "score": 1, "creation_date": 1444850277, "post_id": 33133730, "comment_id": 54079098, "body": "RETURN 0  at the end of stored procedure ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3018216"}, "edited": false, "score": 0, "creation_date": 1444850480, "post_id": 33133730, "comment_id": 54079206, "body": "First, I already used a function to list all the users. Second, &quot;return 0&quot; is created by default by Visual Studio when creating a Stored Procedure"}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 1, "creation_date": 1444851108, "post_id": 33133730, "comment_id": 54079571, "body": "I think you are missing the point. This code will NOT get a single user. It isn&#39;t how parameters work. And even if VS adds a return 0 by default you should remove it. By default all procedures return 0 when the execution is successful."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3018216"}, "edited": false, "score": 0, "creation_date": 1444851281, "post_id": 33133730, "comment_id": 54079657, "body": "I got it, So I created another function."}], "answers": [{"tags": [], "owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "is_accepted": true, "score": 2, "last_activity_date": 1444850196, "creation_date": 1444850196, "answer_id": 33133777, "question_id": 33133730, "link": "https://stackoverflow.com/questions/33133730/reader-is-not-reading-db-values/33133777#33133777", "title": "Reader is not reading DB values", "body": "<p>You cannot parameterise fields in T-SQL. Your query will actually execute as <code>WHERE 'someStringValue' = 'anotherStringValue'</code>, which will never be true and so will never return any fields (unless you pipe in <code>@field = 'foo'</code> and <code>@value = 'foo'</code>, of course - in which case every row will be returned).</p>\n\n<p>If you want to make the field-name a variable you'll have to use Dynamic SQL.</p>\n"}, {"tags": [], "owner": {"reputation": 631, "user_id": 2015865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ddd0147ae7a6829a63feda310649de5?s=128&d=identicon&r=PG", "display_name": "Michael Y.", "link": "https://stackoverflow.com/users/2015865/michael-y"}, "is_accepted": false, "score": 1, "last_activity_date": 1444850237, "creation_date": 1444850237, "answer_id": 33133789, "question_id": 33133730, "link": "https://stackoverflow.com/questions/33133730/reader-is-not-reading-db-values/33133789#33133789", "title": "Reader is not reading DB values", "body": "<p>It's not reading anything because SQL isn't returning anything. @Field = @Value doesn't do what you think it does. If you pass 'a' and 'b' respectively, your query would return all rows where this condition is true (which is 0 rows).</p>\n\n<p>@Field is just a variable, it's not a column on users as (I'm guessing) you think it may be.</p>\n"}, {"tags": [], "owner": {"reputation": 16599, "user_id": 24472, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2020a7f739da6d67e7deb61ed40ba0a6?s=128&d=identicon&r=PG", "display_name": "Larry", "link": "https://stackoverflow.com/users/24472/larry"}, "is_accepted": false, "score": 0, "last_activity_date": 1444852071, "last_edit_date": 1444852071, "creation_date": 1444851509, "answer_id": 33134123, "question_id": 33133730, "link": "https://stackoverflow.com/questions/33133730/reader-is-not-reading-db-values/33134123#33134123", "title": "Reader is not reading DB values", "body": "<p>There is a confusion between variable and fields name.</p>\n\n<p>You cannot do it this way. You have to use Dynamic SQL.</p>\n\n<p><strong>Please be aware of potential SQL injection attacks !</strong></p>\n\n<p>I suggest that you validate your input in the stored procedure at first.</p>\n\n<pre><code>CREATE PROCEDURE [dbo].[GetUser]\n@Field nvarchar(100),\n@Value nvarchar(100)\nAS\n\n-- Do check @Field to prevent SQL injection !\n-- IF @Field &lt;&gt; 'Username' or @Field &lt;&gt; 'id' ...\n    -- RAISEERROR ...\n\nDECLARE @sql NVARCHAR(max)\nSET @sql = \n    'SELECT EmailAddress, \n    Username, \n    FirstName, \n    LastName, \n    MobileNumber,\n    Register_Date \n    FROM Users \n    WHERE [' + @Field + '] = ' + @Value\n\nEXEC sp_executesql @sql\n\nRETURN 0\n</code></pre>\n\n<p><strong>EDIT</strong>: I just realized the dynamic SQL thing was already mentioned in an answer that has been accepted while I typed this. To avoid this answer to be redundant, here is a nice tip to handle <code>DBNull.Value</code> whithout repeating the _reader[\"\"] thing.</p>\n\n<pre><code>_usuario.FirstName = (_reader[\"FirstName\"] != DBNull.Value) ? (string)_reader[\"FirstName\"] : string.Empty;\n</code></pre>\n\n<p>can be replaced with</p>\n\n<pre><code>_usuario.FirstName = _reader[\"FirstName\"] as string ?? string.Empty;\n</code></pre>\n\n<p>If the field is a DBNull object, then casting it to a string will result in a null value. If it happens, the unary ?? operator transforms it to a string.Empty.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3018216"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 33133777, "answer_count": 3, "score": 1, "last_activity_date": 1444852071, "creation_date": 1444850027, "question_id": 33133730, "link": "https://stackoverflow.com/questions/33133730/reader-is-not-reading-db-values", "title": "Reader is not reading DB values", "body": "<p>I have this issue that is eating my mind. The thing is that the _reader is not reading anything.</p>\n\n<p>I have this code:</p>\n\n<pre><code>public DataEntities.Usuario GetUser(string field, string value)\n    {\n        using (SqlConnection connection = new SqlConnection(@\"connectionstring\"))\n        {\n            using (SqlCommand query = new SqlCommand())\n            {\n                DataEntities.Usuario _usuario = new DataEntities.Usuario();\n\n                if (field == \"id\" || field == \"username\" || field == \"emailaddress\")\n                {\n                    query.Connection = connection;\n                    query.CommandType = CommandType.StoredProcedure;\n                    query.CommandText = \"GetUser\";\n                    var pField = query.Parameters.AddWithValue(\"@Field\", field);\n                    pField.Direction = ParameterDirection.Input;\n                    var pValue = query.Parameters.AddWithValue(\"@Value\", value);\n                    pValue.Direction = ParameterDirection.Input;\n\n                    try\n                    {\n                        connection.Open();\n\n                        SqlDataReader _reader = query.ExecuteReader();\n                        &gt;&gt;&gt; while(_reader.Read())\n                        {\n                            _usuario.EmailAddress = (string)_reader[\"EmailAddress\"];\n                            _usuario.Username =     (string)_reader[\"Username\"];\n                            _usuario.FirstName =    (_reader[\"FirstName\"] != DBNull.Value) ? (string)_reader[\"FirstName\"] : string.Empty;\n                            _usuario.LastName =     (_reader[\"LastName\"] != DBNull.Value) ? (string)_reader[\"LastName\"] : string.Empty;\n                            _usuario.MobileNumber = (_reader[\"MobileNumber\"] != DBNull.Value) ? (string)_reader[\"MobileNumber\"] : string.Empty;\n                        }\n                        _reader.Close();\n\n                        return _usuario;\n                    }\n                    catch (SqlException ex)\n                    {\n                        Console.WriteLine(\"SQL Error: \" + ex.Message);\n                    }\n                    finally\n                    {\n                        connection.Close();\n                    }\n                }\n                return _usuario;\n            }\n        }\n    }\n</code></pre>\n\n<p>And I have this Stored Procedure:</p>\n\n<pre><code>CREATE PROCEDURE [dbo].[GetUser]\n@Field nvarchar(100),\n@Value nvarchar(100)\nAS\nSELECT EmailAddress, \nUsername, \nFirstName, \nLastName, \nMobileNumber,\nRegister_Date \nFROM Users \nWHERE @Field = @Value\nRETURN 0\n</code></pre>\n\n<p>And this is not returning anything. This doesn't generate an exception but when it arrives to the while loop it jumps and end it returning the created object with everything null.</p>\n\n<p>Any clues? I've tried to change the STORED PROCEDURE but without luck,</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "asp.net-mvc-5", "reactjs"], "owner": {"reputation": 2220, "user_id": 4704856, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/25fda153e91d8cff1994e2d5945b804f?s=128&d=identicon&r=PG&f=1", "display_name": "tcigrand", "link": "https://stackoverflow.com/users/4704856/tcigrand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1444849948, "creation_date": 1444849948, "question_id": 33133706, "link": "https://stackoverflow.com/questions/33133706/adding-react-aspnet-causes-app-usemvc-to-become-ambiguous", "title": "Adding React.AspNet causes app.UseMvc to become ambiguous", "body": "<p>I created a new project in VS2015 and chose \"Web Application\" under \"ASP.NET 5 Preview Templates\"</p>\n\n<p>After adding <code>React.AspNet</code> from NuGet, the project won't build, it fails with the following error.</p>\n\n<pre><code>Severity    Code    Description Project File    Line\nError   CS0121  The call is ambiguous between the following methods or      properties:    'Microsoft.AspNet.Builder.BuilderExtensions.UseMvc(Microsoft.AspNet.Builder.IApp licationBuilder, System.Action&lt;Microsoft.AspNet.Routing.IRouteBuilder&gt;)' and  'Microsoft.AspNet.Builder.MvcApplicationBuilderExtensions.UseMvc(Microsoft.AspNe t.Builder.IApplicationBuilder,  System.Action&lt;Microsoft.AspNet.Routing.IRouteBuilder&gt;)'  WebApplication3.DNX  4.5.1\nC:\\Users\\UserName\\Project\\Startup.cs    127\n</code></pre>\n\n<p><strong>Startup.cs</strong> - This is a simplified version of the default from the template</p>\n\n<pre><code>using Microsoft.AspNet.Builder;\n\npublic void Configure(IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerFactory)\n    {\n\n        // Add MVC to the request pipeline.\n        app.UseMvc(routes =&gt;\n        {\n            routes.MapRoute(\n                name: \"default\",\n                template: \"{controller=Home}/{action=Index}/{id?}\");\n        });\n    }\n</code></pre>\n\n<p>Is there something wrong with my <strong>Startup.cs</strong> or is this a bug in React.AspNet?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "azure-active-directory"], "answers": [{"tags": [], "owner": {"reputation": 891, "user_id": 2402502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwGmd.jpg?s=128&g=1", "display_name": "Roland Buergi", "link": "https://stackoverflow.com/users/2402502/roland-buergi"}, "is_accepted": true, "score": 6, "last_activity_date": 1529995264, "last_edit_date": 1529995264, "creation_date": 1444852707, "answer_id": 33134503, "question_id": 33133617, "link": "https://stackoverflow.com/questions/33133617/mvc-to-azure-active-directory-sign-on-replying-with-bad-request-and-message-wi/33134503#33134503", "title": "MVC to Azure Active Directory sign on replying with &quot;Bad Request&quot; and message with &quot;Unable to create to obtain configuration from&quot;", "body": "<p>It is difficult to diagnose this problem from the call stack. You might try the following:</p>\n\n<ol>\n<li><p>Use the Tenant Guid rather than the name (you can find the Guid e.g. in the URL when you are on your Azure AD instance in the management portal). I had problems before that the name could not be resolved properly, and using the Guid helped.</p>\n\n<p>SOLUTION</p>\n\n<p>In Portal, navigate to Azure Active Directory > App registrations > Endpoints, and then copy the guid from the endpoint URIs. This is the Tenant ID.\n<a href=\"https://i.stack.imgur.com/NQTUl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NQTUl.png\" alt=\"enter image description here\"></a></p>\n\n<p>replace the tenant name with the guid in the web.config file</p>\n\n<pre><code>&lt;add key=\"ida:Tenant\" value=\"myenantGuid\" /&gt;\n</code></pre></li>\n<li><p>In Azure AD, you must register your application with sufficient privileges. You will need to have privileges configured to read directory information.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 779, "user_id": 1039591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44a250f1edbc699db58221cbbcbb4356?s=128&d=identicon&r=PG", "display_name": "Kadir Can", "link": "https://stackoverflow.com/users/1039591/kadir-can"}, "is_accepted": false, "score": 0, "last_activity_date": 1509816551, "last_edit_date": 1509816551, "creation_date": 1509816232, "answer_id": 47113441, "question_id": 33133617, "link": "https://stackoverflow.com/questions/33133617/mvc-to-azure-active-directory-sign-on-replying-with-bad-request-and-message-wi/47113441#47113441", "title": "MVC to Azure Active Directory sign on replying with &quot;Bad Request&quot; and message with &quot;Unable to create to obtain configuration from&quot;", "body": "<p>This worked for me;</p>\n\n<p>1- Open the Web.config file for the app.</p>\n\n<p>2- In the Web.config file, verify that the app key \"ida:SignUpPolicyId\" exists.</p>\n\n<p>3- Replace the value of the app key with the name of the sign-up policy that you provided in the Azure AD B2C admin portal.</p>\n\n<p>4-The changed part of the file will resemble the following:</p>\n\n<pre><code>&lt;appSettings&gt;\n  &lt;add key=\"ida:SignUpPolicyId\" value=\"B2C_Signup_Policy_Name\"&gt;\n&lt;/appSettings&gt;\n</code></pre>\n\n<p>You need to make sure about all the configurations in web config match wtih the web.config</p>\n"}], "owner": {"reputation": 1238, "user_id": 809367, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b35a39e2b5f3dcdaa44773acc249366?s=128&d=identicon&r=PG", "display_name": "Brad Boyce", "link": "https://stackoverflow.com/users/809367/brad-boyce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5849, "favorite_count": 0, "accepted_answer_id": 33134503, "answer_count": 2, "score": 3, "last_activity_date": 1529995264, "creation_date": 1444849652, "last_edit_date": 1444908420, "question_id": 33133617, "link": "https://stackoverflow.com/questions/33133617/mvc-to-azure-active-directory-sign-on-replying-with-bad-request-and-message-wi", "title": "MVC to Azure Active Directory sign on replying with &quot;Bad Request&quot; and message with &quot;Unable to create to obtain configuration from&quot;", "body": "<p>What am I doing wrong?  </p>\n\n<p>I'm trying to sign on to an Azure Active Directory from a sample MVC app and getting \"Bad Request\". </p>\n\n<p>I'm following the example (dated 7/17/2015) here:</p>\n\n<p><a href=\"https://azure.microsoft.com/en-us/documentation/articles/active-directory-devquickstarts-webapp-dotnet/\" rel=\"nofollow\">azure.microsoft.com example</a></p>\n\n<p>and here is a more detailed step by step of the same data by someone else:</p>\n\n<p><a href=\"http://developers.de/blogs/damir_dobric/archive/2014/08/03/protect-you-web-application-with-multifactor-authentication-and-azure-active-directory.aspx\" rel=\"nofollow\">azure example expanded by blogger</a></p>\n\n<p>I've replaced the name of my active directory with \"myActiveDirectory\" below.</p>\n\n<p>Here is my webconfig data:</p>\n\n<pre><code>&lt;add key=\"ida:AppKey\" value=\"&lt;snip my key&gt;\" /&gt;\n&lt;add key=\"ida:ClientId\" value=\"d2bfc007-&lt;snip my client ID&gt;-9f\" /&gt;\n&lt;add key=\"ida:Tenant\" value=\"myActiveDirectory.onmicrosoft.com\" /&gt;\n&lt;add key=\"ida:AADInstance\" value=\"https://login.windows.net/{0}\" /&gt;\n&lt;add key=\"ida:PostLogoutRedirectUri\" value=\"https://localhost:44320/\" /&gt;\n</code></pre>\n\n<p>AccountController.cs</p>\n\n<pre><code>using System.Web;\nusing System.Web.Mvc;\n// OWIN \nusing Microsoft.Owin.Security;\nusing Microsoft.Owin.Security.OpenIdConnect;\nusing Microsoft.Owin.Security.Cookies;\n\n\nnamespace TodoListWebApp.Controllers\n{\n    public class AccountController : Controller\n    {\n        public void SignIn()\n        {\n            // Sends an OpenID sign-in request. \n            if (!Request.IsAuthenticated)\n            {\n                HttpContext.GetOwinContext().\n                Authentication.Challenge(new AuthenticationProperties { RedirectUri = \"/\" },\n                OpenIdConnectAuthenticationDefaults.AuthenticationType);\n            }\n        }\n\n\n        public void SignOut()\n        {\n            // Sends an OpenID sign-out request. \n            HttpContext.GetOwinContext().Authentication.SignOut(\n                OpenIdConnectAuthenticationDefaults.AuthenticationType,\n                CookieAuthenticationDefaults.AuthenticationType);\n        }\n    }\n}\n</code></pre>\n\n<p>Startup.cs</p>\n\n<pre><code>// OWIN \nusing Owin;\n\nnamespace ActiveDirSample\n{\n    public partial class Startup\n    {\n        public void Configuration(IAppBuilder app)\n        {\n            ConfigureAuth(app);\n        }\n    }\n}\n</code></pre>\n\n<p>Startup.Auth.cs</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Configuration;\n\n\n// OWIN \nusing Owin;\nusing Microsoft.Owin;\nusing Microsoft.Owin.Security;\nusing Microsoft.Owin.Security.OpenIdConnect;\nusing Microsoft.Owin.Security.Cookies;\nusing System.Globalization;\n\n\n[assembly: OwinStartup(typeof(ActiveDirSample.Startup))]\n\nnamespace ActiveDirSample\n{\n\n\n\n  public partial class Startup\n    {\n\n        private static string clientId = ConfigurationManager.AppSettings[\"ida:ClientId\"];\n        private static string appKey = ConfigurationManager.AppSettings[\"ida:AppKey\"];\n        private static string aadInstance = ConfigurationManager.AppSettings[\"ida:AADInstance\"];\n        private static string tenant = ConfigurationManager.AppSettings[\"ida:Tenant\"];\n        private static string postLogoutRedirectUri = ConfigurationManager.AppSettings[\"ida:PostLogoutRedirectUri\"];\n\n        string authority = String.Format(CultureInfo.InvariantCulture, aadInstance, tenant);\n\n        public void ConfigureAuth(IAppBuilder app)\n        {\n            app.SetDefaultSignInAsAuthenticationType(CookieAuthenticationDefaults.AuthenticationType);\n\n            app.UseCookieAuthentication(new CookieAuthenticationOptions());\n\n            app.UseOpenIdConnectAuthentication(\n                new OpenIdConnectAuthenticationOptions\n                {\n                    ClientId = clientId,\n                    Authority = authority,\n                    PostLogoutRedirectUri = postLogoutRedirectUri,\n                });\n        }\n    }\n}\n</code></pre>\n\n<p>Here is the response I get:</p>\n\n<hr>\n\n<pre><code>Server Error in '/' Application.\n\nResponse status code does not indicate success: 400 (Bad Request). \n  Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. \n\n Exception Details: System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\n\nSource Error: \n\n\n An unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below.  \n\nStack Trace: \n\n\n\n[HttpRequestException: Response status code does not indicate success: 400 (Bad Request).]\n   System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode() +92108\n   Microsoft.IdentityModel.Protocols.&lt;GetDocumentAsync&gt;d__0.MoveNext() in c:\\workspace\\WilsonForDotNet45Release\\src\\Microsoft.IdentityModel.Protocol.Extensions\\Configuration\\HttpDocumentRetriever.cs:54\n\n[IOException: Unable to get document from: https://login.windows.net/myActiveDirectory.onmicrosoft.com/.well-known/openid-configuration]\n   Microsoft.IdentityModel.Protocols.&lt;GetDocumentAsync&gt;d__0.MoveNext() in c:\\workspace\\WilsonForDotNet45Release\\src\\Microsoft.IdentityModel.Protocol.Extensions\\Configuration\\HttpDocumentRetriever.cs:59\n   System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task) +99\n   System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task) +58\n   Microsoft.IdentityModel.Protocols.&lt;GetAsync&gt;d__0.MoveNext() in c:\\workspace\\WilsonForDotNet45Release\\src\\Microsoft.IdentityModel.Protocol.Extensions\\Configuration\\OpenIdConnectConfigurationRetriever.cs:81\n   System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task) +99\n   System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task) +58\n   System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task) +25\n   Microsoft.IdentityModel.Protocols.&lt;GetConfigurationAsync&gt;d__3.MoveNext() in c:\\workspace\\WilsonForDotNet45Release\\src\\Microsoft.IdentityModel.Protocol.Extensions\\Configuration\\ConfigurationManager.cs:198\n\n[InvalidOperationException: IDX10803: Unable to create to obtain configuration from: 'https://login.windows.net/myActiveDirectory.onmicrosoft.com/.well-known/openid-configuration'.]\n   Microsoft.IdentityModel.Protocols.&lt;GetConfigurationAsync&gt;d__3.MoveNext() in c:\\workspace\\WilsonForDotNet45Release\\src\\Microsoft.IdentityModel.Protocol.Extensions\\Configuration\\ConfigurationManager.cs:212\n   System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task) +99\n   System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task) +58\n   Microsoft.Owin.Security.OpenIdConnect.&lt;ApplyResponseChallengeAsync&gt;d__c.MoveNext() +599\n   System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task) +99\n   System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task) +58\n   Microsoft.Owin.Security.Infrastructure.&lt;ApplyResponseCoreAsync&gt;d__b.MoveNext() +292\n   System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task) +99\n   System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task) +58\n   Microsoft.Owin.Security.Infrastructure.&lt;ApplyResponseAsync&gt;d__8.MoveNext() +278\n   System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task) +99\n   System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task) +58\n   Microsoft.Owin.Security.Infrastructure.&lt;TeardownAsync&gt;d__5.MoveNext() +165\n   System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task) +99\n   System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task) +58\n   Microsoft.Owin.Security.Infrastructure.&lt;Invoke&gt;d__0.MoveNext() +716\n   System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task) +99\n   System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task) +58\n   Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.&lt;RunApp&gt;d__5.MoveNext() +187\n   System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task) +99\n   System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task) +58\n   Microsoft.Owin.Security.Infrastructure.&lt;Invoke&gt;d__0.MoveNext() +561\n   System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task) +99\n   System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task) +58\n   Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.&lt;RunApp&gt;d__5.MoveNext() +187\n   System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task) +99\n   System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task) +58\n   Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.&lt;DoFinalWork&gt;d__2.MoveNext() +185\n   Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.StageAsyncResult.End(IAsyncResult ar) +69\n   Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContext.EndFinalWork(IAsyncResult ar) +64\n   System.Web.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() +380\n   System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean&amp; completedSynchronously) +155\n\n\n\n\nVersion Information: Microsoft .NET Framework Version:4.0.30319; ASP.NET Version:4.6.81.0 \n</code></pre>\n\n<hr>\n"}, {"tags": ["c#", ".net", "button"], "comments": [{"owner": {"reputation": 943, "user_id": 846993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/h6iIy.jpg?s=128&g=1", "display_name": "Derek Van Cuyk", "link": "https://stackoverflow.com/users/846993/derek-van-cuyk"}, "edited": false, "score": 1, "creation_date": 1444849965, "post_id": 33133616, "comment_id": 54078922, "body": "Did you look at this <a href=\"http://stackoverflow.com/questions/7959005/update-ui-from-background-thread\" title=\"update ui from background thread\">stackoverflow.com/questions/7959005/&hellip;</a>?"}, {"owner": {"reputation": 49661, "user_id": 781754, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4ee1072483e3ab3c7302820d04935328?s=128&d=identicon&r=PG", "display_name": "Daniel Mann", "link": "https://stackoverflow.com/users/781754/daniel-mann"}, "edited": false, "score": 2, "creation_date": 1444849971, "post_id": 33133616, "comment_id": 54078924, "body": "You have a major separation of concern problem. The only thing that should be responsible for changing the state of the UI is the UI."}, {"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 0, "creation_date": 1444850165, "post_id": 33133616, "comment_id": 54079037, "body": "Is there any exception? In which line? If not, what happens or what exactly does not happen? Until which point did you follow the program&#39;s execution (i.e. debug)?"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 1, "creation_date": 1444850475, "post_id": 33133616, "comment_id": 54079202, "body": "&quot;I want to keep everything nice and clean&quot;. And at the same time you want to set a form(!) button(!) text(!) that you neither own, nor as it turns out even have access? Just putting a method in a separate class does  not make it cleaner."}, {"owner": {"reputation": 194, "user_id": 138211, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ea36170ca5d0d852268a2d36aefdbb2d?s=128&d=identicon&r=PG", "display_name": "JamesL", "link": "https://stackoverflow.com/users/138211/jamesl"}, "edited": false, "score": 0, "creation_date": 1444851049, "post_id": 33133616, "comment_id": 54079540, "body": "I would use a controller to keep track of your forms and communicators.  Then add some events for when &quot;things&quot; happen.  For example, have the communicator raise an event when a connection/whatever you need happens, and have your form(s) subscribe to that event so they can then update their own buttons/state/etc."}, {"owner": {"reputation": 733, "user_id": 2660835, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/50fe2a61123a66aaf71cc269d11a4005?s=128&d=identicon&r=PG", "display_name": "Damian", "link": "https://stackoverflow.com/users/2660835/damian"}, "reply_to_user": {"reputation": 194, "user_id": 138211, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ea36170ca5d0d852268a2d36aefdbb2d?s=128&d=identicon&r=PG", "display_name": "JamesL", "link": "https://stackoverflow.com/users/138211/jamesl"}, "edited": false, "score": 0, "creation_date": 1444855763, "post_id": 33133616, "comment_id": 54082225, "body": "@JamesL -&gt; how may i do that?"}], "answers": [{"comments": [{"owner": {"reputation": 143226, "user_id": 993547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOivq.jpg?s=128&g=1", "display_name": "Patrick Hofman", "link": "https://stackoverflow.com/users/993547/patrick-hofman"}, "edited": false, "score": 0, "creation_date": 1444851208, "post_id": 33134035, "comment_id": 54079622, "body": "Or introduce an event, or inject an interface capable of doing some messaging. The possibilities are endless."}, {"owner": {"reputation": 64, "user_id": 4163454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f013a7e9320e43ec17cf6a3a1dee85f5?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Tymchyshyn", "link": "https://stackoverflow.com/users/4163454/roman-tymchyshyn"}, "reply_to_user": {"reputation": 143226, "user_id": 993547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOivq.jpg?s=128&g=1", "display_name": "Patrick Hofman", "link": "https://stackoverflow.com/users/993547/patrick-hofman"}, "edited": false, "score": 0, "creation_date": 1444851287, "post_id": 33134035, "comment_id": 54079663, "body": "Yes, I introduce only one possible way."}, {"owner": {"reputation": 733, "user_id": 2660835, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/50fe2a61123a66aaf71cc269d11a4005?s=128&d=identicon&r=PG", "display_name": "Damian", "link": "https://stackoverflow.com/users/2660835/damian"}, "edited": false, "score": 0, "creation_date": 1444855695, "post_id": 33134035, "comment_id": 54082192, "body": "i still get errors ... what should i put in place of notifyFunction ?"}, {"owner": {"reputation": 64, "user_id": 4163454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f013a7e9320e43ec17cf6a3a1dee85f5?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Tymchyshyn", "link": "https://stackoverflow.com/users/4163454/roman-tymchyshyn"}, "edited": false, "score": 0, "creation_date": 1444855875, "post_id": 33134035, "comment_id": 54082289, "body": "As i wrote above you should add constructor <code>Communicator(Action&lt;string&gt; notifyFunction){_notifySimpleMessageAction = notifyFunction}</code>. And call that constructor as described in answer."}, {"owner": {"reputation": 733, "user_id": 2660835, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/50fe2a61123a66aaf71cc269d11a4005?s=128&d=identicon&r=PG", "display_name": "Damian", "link": "https://stackoverflow.com/users/2660835/damian"}, "edited": false, "score": 0, "creation_date": 1446295594, "post_id": 33134035, "comment_id": 54690146, "body": "where to <code>call that constructor</code> ?? in  the <code>Form1</code> class?"}, {"owner": {"reputation": 64, "user_id": 4163454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f013a7e9320e43ec17cf6a3a1dee85f5?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Tymchyshyn", "link": "https://stackoverflow.com/users/4163454/roman-tymchyshyn"}, "edited": false, "score": 0, "creation_date": 1446314986, "post_id": 33134035, "comment_id": 54696358, "body": "Yes! In such a way as you did it before."}], "tags": [], "owner": {"reputation": 64, "user_id": 4163454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f013a7e9320e43ec17cf6a3a1dee85f5?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Tymchyshyn", "link": "https://stackoverflow.com/users/4163454/roman-tymchyshyn"}, "is_accepted": false, "score": 1, "last_activity_date": 1444851132, "creation_date": 1444851132, "answer_id": 33134035, "question_id": 33133616, "link": "https://stackoverflow.com/questions/33133616/change-button-text-from-another-class-in-another-namespace/33134035#33134035", "title": "Change button text from another class in another namespace", "body": "<p>You should separate concerns, and you shouldn't communicate with UI in class which is not related to UI.\nYou should rewrite your code.\nBut as quick fix you should do the following.</p>\n\n<p>In class <code>Comunicator</code>, you can do such field.</p>\n\n<pre><code>private readonly Action&lt;string&gt; _notifySimpleMessageAction;\n</code></pre>\n\n<p>Then add to <code>Communicator</code> constructor parameter <code>notifyFunction</code>. Code in constructor:</p>\n\n<pre><code>_notifySimpleMessageAction = notifyFunction\n</code></pre>\n\n<p>After that you should create Communicator in following manner:</p>\n\n<pre><code>communicator = new Communicator((notification)=&gt;\n    {\n                StaticTestButton.BeginInvoke((MethodInvoker)(() =&gt; StaticTestButton.AppendText(notification)));\n            });\n</code></pre>\n\n<p>Then at the end of your method you should do</p>\n\n<pre><code>_notifySimpleMessageAction(\"Loaded\")    \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 733, "user_id": 2660835, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/50fe2a61123a66aaf71cc269d11a4005?s=128&d=identicon&r=PG", "display_name": "Damian", "link": "https://stackoverflow.com/users/2660835/damian"}, "edited": false, "score": 0, "creation_date": 1446295944, "post_id": 33162137, "comment_id": 54690237, "body": "i know <code>MVC</code> i used <code>CodeIgniter</code> a lot, but this is <code>C#</code>, another story ...  i see here that there are 2 concept i am not fully familiarized with, first i need to learn about <code>events</code> and second just found out from you that i might fave to change one line in <code>Program.cs</code> (<code>Controller c = new Controller();</code>) ... i thought that <code>Program.cs</code> is there to never be touch ... but i ask you, wouldn&#39;t be more easy as i made it now, i have a <code>public</code> variable in <code>Form1</code>, i change it from <code>Comunicator</code> and i have a <code>Timer1_tick</code> that checks for any change, what do you think about this?"}], "tags": [], "owner": {"reputation": 194, "user_id": 138211, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ea36170ca5d0d852268a2d36aefdbb2d?s=128&d=identicon&r=PG", "display_name": "JamesL", "link": "https://stackoverflow.com/users/138211/jamesl"}, "is_accepted": false, "score": 0, "last_activity_date": 1444966419, "creation_date": 1444966419, "answer_id": 33162137, "question_id": 33133616, "link": "https://stackoverflow.com/questions/33133616/change-button-text-from-another-class-in-another-namespace/33162137#33162137", "title": "Change button text from another class in another namespace", "body": "<p>Controller class:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace ControllerDemonstrator\n{\n    public class Controller\n    {\n        public event EventHandler CommunicatorDataLoaded;\n        public event EventHandler FormTestConnection;\n\n        private Form1 _form;\n        private Communicator _communicator;\n\n        public Form1 MainForm\n        {\n            get { return _form; }\n        }\n\n        public Controller()\n        {\n            _form = new Form1(this);\n            _form.TestConnection += _form_TestConnection;\n            _form.FormClosed += _form_FormClosed;\n            _communicator = new Communicator(this);\n            _communicator.DataLoaded += _communicator_DataLoaded;\n        }\n\n        public void Start()\n        {\n            _form.Show();\n        }\n\n        void _form_FormClosed(object sender, System.Windows.Forms.FormClosedEventArgs e)\n        {\n            //  put any code to clean up the communicator resources (if needed) here\n            //  --------------------------------------------------------------------\n            _communicator = null;\n            //  Then exit\n            //  ---------\n            Application.Exit();\n        }\n\n        private void _communicator_DataLoaded(object sender, EventArgs e)\n        {\n            if (null != CommunicatorDataLoaded)\n            {\n                CommunicatorDataLoaded(sender, e);\n            }\n        }\n\n        private void _form_TestConnection(object sender, EventArgs e)\n        {\n            if (null != FormTestConnection)\n            {\n                FormTestConnection(sender, e);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Basic form with one button (_testButton):</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace ControllerDemonstrator\n{\n    public partial class Form1 : Form\n    {\n        public event EventHandler TestConnection;\n\n        public Form1(Controller controller)\n        {\n            InitializeComponent();\n            controller.CommunicatorDataLoaded += controller_CommunicatorDataLoaded;\n        }\n\n        void controller_CommunicatorDataLoaded(object sender, EventArgs e)\n        {\n            _testButton.Text = \"Loaded\";\n        }\n\n        private void _testButton_Click(object sender, EventArgs e)\n        {\n            if (null != TestConnection)\n            {\n                TestConnection(this, new EventArgs());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Communicator class (everything has been stripped out, you will need to add in your logic):</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace ControllerDemonstrator\n{\n    public class Communicator\n    {\n        public event EventHandler DataLoaded;\n\n        public Communicator(Controller controller)\n        {\n            controller.FormTestConnection += controller_FormTestConnection;\n        }\n\n        private void controller_FormTestConnection(object sender, EventArgs e)\n        {\n            //  put your code that does the connection here\n            //  -------------------------------------------\n            if (null != DataLoaded)\n            {\n                DataLoaded(this, new EventArgs());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And in your Program.cs (assuming that is how you are starting your application):</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace ControllerDemonstrator\n{\n    static class Program\n    {\n        /// &lt;summary&gt;\n        /// The main entry point for the application.\n        /// &lt;/summary&gt;\n        [STAThread]\n        static void Main()\n        {\n            Application.EnableVisualStyles();\n            Application.SetCompatibleTextRenderingDefault(false);\n            Controller c = new Controller();\n            Application.Run(c.MainForm);\n        }\n    }\n}\n</code></pre>\n\n<p>With this kind of design, the communicator doesn't know about the form and vice verse.  You can expand it out to have different kind's of communicators/forms/etc and have the controller keep track of everything.  It is also much easier to test code like this as you can test each separate piece on it's own since they don't depend on each other.  This is a quick and dirty implementation.  Do some research on the Model View Controller design pattern (not Microsoft MVC for asp.Net, but the actual design pattern).  It is more code up-front to code an application with the MVC design pattern but it makes it easier to test and more maintainable.</p>\n"}], "owner": {"reputation": 733, "user_id": 2660835, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/50fe2a61123a66aaf71cc269d11a4005?s=128&d=identicon&r=PG", "display_name": "Damian", "link": "https://stackoverflow.com/users/2660835/damian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1444966419, "creation_date": 1444849638, "last_edit_date": 1444850089, "question_id": 33133616, "link": "https://stackoverflow.com/questions/33133616/change-button-text-from-another-class-in-another-namespace", "title": "Change button text from another class in another namespace", "body": "<p>I have a problem changing text from another class in another namespace. I have the first <code>Form1</code> class :</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\nusing System.Runtime.InteropServices;\n\nnamespace WindowsFormsApplication1\n{  \n    public partial class Form1 : Form\n    {\n        static Form1 mainForm;\n\n        [DllImport(\"kernel32.dll\", SetLastError = true)]\n        [return: MarshalAs(UnmanagedType.Bool)]\n        static extern bool AllocConsole();\n\n        public static String LinkToApi = \"http://google.com/api/\";\n        public static Comunicator comunicator;\n        public static int debug = 5;\n\n        public Form1()\n        {\n            InitializeComponent();\n            AllocConsole(); // allow console\n\n            if(Form1.debug &gt;= 3) Console.WriteLine(\"Application started\");\n\n            comunicator = new Comunicator();\n\n            mainForm = this;\n        }\n\n        private void TestButton_Click(object sender, EventArgs e)\n        {\n            TestButton.Text = \"Loading\";\n            comunicator.TestConnection();\n        }\n    }\n}\n</code></pre>\n\n<p>and this <code>Comunicator</code> class</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Net;\nusing System.Collections.Specialized;\nusing System.Windows.Forms;\nusing System.Runtime.InteropServices;\n\nusing System.IO;\nusing System.Threading;\n\nnamespace WindowsFormsApplication1\n{\n    public class Comunicator\n    {\n        private String action = \"idle\";\n\n        public static Thread Start(Action action)\n        {\n            Thread thread = new Thread(() =&gt; { action(); });\n            thread.Start();\n            return thread;\n        }\n\n        public Comunicator()\n        {\n        }\n\n        public void TestConnection()\n        {\n            if (Form1.debug &gt;= 3) Console.WriteLine(\"Testing connection\");\n\n            // thread test\n            Start(new Action(ApiTest));\n        }\n\n        public void ApiTest()\n        {\n            if (Form1.debug &gt;= 3) Console.WriteLine(\"API test begin\");\n\n            // Create a request for the URL.        \n            WebRequest request = WebRequest.Create(\"http://www.bogotobogo.com/index.php\");\n\n            // If required by the server, set the credentials.\n            request.Credentials = CredentialCache.DefaultCredentials;\n\n            // Get the response.\n            HttpWebResponse response = (HttpWebResponse)request.GetResponse();\n\n            // Display the status.\n            Console.WriteLine(response.StatusDescription);\n\n            // Get the stream containing content returned by the server.\n            Stream dataStream = response.GetResponseStream();\n\n            // Open the stream using a StreamReader for easy access.\n            StreamReader reader = new StreamReader(dataStream);\n\n            // Read the content.\n            string responseFromServer = reader.ReadToEnd();\n\n            // Display the content.\n            Console.WriteLine(responseFromServer);\n\n            // Cleanup the streams and the response.\n            reader.Close();\n            dataStream.Close();\n            response.Close();\n\n            // Console.Read();\n\n            if (Form1.debug &gt;= 3) Console.WriteLine(\"API test end\");\n            // Form1.StaticTestButton.Text = \"Loaded\";   &lt;---- CHANGE HERE\n        }\n    }\n}\n</code></pre>\n\n<p>which is not even a form class (I want to keep everything nice and clean). I want to change the <code>TestButton</code> text into \"LOADED\" but i get an error when I try to do that as if <code>Form1.TestButton</code> does not exist in <code>Comunicator</code> class.</p>\n\n<p>I have tried to instantiate the class, I made a couple of variables static ... nothing, still getting error.</p>\n\n<p>What is the problem? How may I solve this?</p>\n\n<p>The request must be asynchronous, that's why I am using threads.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "active-directory", "asp.net-authorization"], "comments": [{"owner": {"reputation": 1065, "user_id": 2981403, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0lENO.png?s=128&g=1", "display_name": "Hozikimaru", "link": "https://stackoverflow.com/users/2981403/hozikimaru"}, "edited": false, "score": 0, "creation_date": 1444858385, "post_id": 33133577, "comment_id": 54083493, "body": "<a href=\"https://technet.microsoft.com/en-us/library/cc778824(v=ws.10).aspx\" rel=\"nofollow noreferrer\">technet.microsoft.com/en-us/library/cc778824(v=ws.10).aspx</a> and <a href=\"http://serverfault.com/questions/53717/how-can-i-change-the-sid-of-a-user-account-in-the-active-directory\" title=\"how can i change the sid of a user account in the active directory\">serverfault.com/questions/53717/&hellip;</a>"}, {"owner": {"reputation": 831, "user_id": 787989, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2535468322e45e9662d2fe21357ac7ed?s=128&d=identicon&r=PG", "display_name": "Bugaboo", "link": "https://stackoverflow.com/users/787989/bugaboo"}, "reply_to_user": {"reputation": 1065, "user_id": 2981403, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0lENO.png?s=128&g=1", "display_name": "Hozikimaru", "link": "https://stackoverflow.com/users/2981403/hozikimaru"}, "edited": false, "score": 0, "creation_date": 1444862138, "post_id": 33133577, "comment_id": 54085093, "body": "None of the links answer my questions. Those just explain how SID works and its nomenclature and the fact that you cannot re-use SIDs."}, {"owner": {"reputation": 1065, "user_id": 2981403, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0lENO.png?s=128&g=1", "display_name": "Hozikimaru", "link": "https://stackoverflow.com/users/2981403/hozikimaru"}, "edited": false, "score": 0, "creation_date": 1444862901, "post_id": 33133577, "comment_id": 54085406, "body": "It simply indicates SID does not change, if you read the whole thing. So based on that theory it will work."}], "owner": {"reputation": 831, "user_id": 787989, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2535468322e45e9662d2fe21357ac7ed?s=128&d=identicon&r=PG", "display_name": "Bugaboo", "link": "https://stackoverflow.com/users/787989/bugaboo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 312, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1444849506, "creation_date": 1444849506, "question_id": 33133577, "link": "https://stackoverflow.com/questions/33133577/using-c-authorize-roles-with-a-security-group-sid", "title": "Using C# Authorize Roles with a Security Group SID", "body": "<p>I have been using the .NET MVC authorize roles feature. I changed the name of my SG from 'A' to 'B'. Since its been 24 hours and I still don't see the change in name being propagated through the AD servers, I decided to use the SID of the SG instead.</p>\n\n<p>So, I went from this:</p>\n\n<pre><code> [Authorize(Roles = @\"domain\\SGName\")]\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>[Authorize(Roles = @\"S-X-XXXXXX\")]\n</code></pre>\n\n<p>1) Will the SID change when the SG name changes?</p>\n\n<p>2) Is the authorization still secured when I use SG SID instead of the name? I gave this a test and I can see that it validates access but since I did not read any documentation about using SID, I wanted to confirm.</p>\n"}, {"tags": ["c#", "dll"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1444849573, "post_id": 33133548, "comment_id": 54078690, "body": "Have you run through the debugger and stepped through the methods?"}, {"owner": {"reputation": 647, "user_id": 2013250, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/3ea5c1be0d85b251944bfde204fb9737?s=128&d=identicon&r=PG", "display_name": "prre72", "link": "https://stackoverflow.com/users/2013250/prre72"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1444849672, "post_id": 33133548, "comment_id": 54078744, "body": "I don&#39;t know how to debug a .dll, the calling application runs on a different machine without IDE"}, {"owner": {"reputation": 578, "user_id": 349899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb41843edeefdbe478a6ee8cffa8e266?s=128&d=identicon&r=PG", "display_name": "Dietz", "link": "https://stackoverflow.com/users/349899/dietz"}, "edited": false, "score": 1, "creation_date": 1444849747, "post_id": 33133548, "comment_id": 54078786, "body": "You can create a new project, refrence the dll and paste in the code you want to test. And then run it with the debugger. That is more or less what you are asking people here."}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1444849778, "post_id": 33133548, "comment_id": 54078805, "body": "Is it not possible to run the code locally? Can you install a remote debugger on the other machine?"}, {"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 0, "creation_date": 1444850226, "post_id": 33133548, "comment_id": 54079072, "body": "Get that application from the different machine and run it on your machine."}], "answers": [{"comments": [{"owner": {"reputation": 647, "user_id": 2013250, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/3ea5c1be0d85b251944bfde204fb9737?s=128&d=identicon&r=PG", "display_name": "prre72", "link": "https://stackoverflow.com/users/2013250/prre72"}, "edited": false, "score": 0, "creation_date": 1444851092, "post_id": 33133894, "comment_id": 54079558, "body": "Very strage.. I tried to run the .exe on the failing machine and i get the following message:  &quot;AppName has stopped working, - Check online...  - Close the program, - Debug the program"}, {"owner": {"reputation": 6515, "user_id": 586754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/686376f270905a050e8efc8fc55c3291?s=128&d=identicon&r=PG", "display_name": "Andreas Reiff", "link": "https://stackoverflow.com/users/586754/andreas-reiff"}, "reply_to_user": {"reputation": 647, "user_id": 2013250, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/3ea5c1be0d85b251944bfde204fb9737?s=128&d=identicon&r=PG", "display_name": "prre72", "link": "https://stackoverflow.com/users/2013250/prre72"}, "edited": false, "score": 0, "creation_date": 1444852382, "post_id": 33133894, "comment_id": 54080281, "body": "That doesn&#39;t say much.. something internally went wrong, probably some unhandled exception. You can add your own handler for unhandled exceptions <a href=\"http://stackoverflow.com/questions/3133199/net-global-exception-handler-in-console-application\" title=\"net global exception handler in console application\">stackoverflow.com/questions/3133199/&hellip;</a> and then log it/show a box/whatever, that should give you the info on what goes wrong. (use ex.ToString(), that includes both Stacktrace and message, which normally is very helpful.)"}], "tags": [], "owner": {"reputation": 6515, "user_id": 586754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/686376f270905a050e8efc8fc55c3291?s=128&d=identicon&r=PG", "display_name": "Andreas Reiff", "link": "https://stackoverflow.com/users/586754/andreas-reiff"}, "is_accepted": false, "score": 0, "last_activity_date": 1444850627, "creation_date": 1444850627, "answer_id": 33133894, "question_id": 33133548, "link": "https://stackoverflow.com/questions/33133548/c-same-code-work-for-application-but-not-in-a-dll/33133894#33133894", "title": "c# same code work for application but not in a .dll", "body": "<p>This code should run the same in .dll and .exe.</p>\n\n<p>Most likely, since your 2 environements are set up differently, that is your problem, and there again, most likely the database that is giving the input or perhaps connection data you store. (The code that you have not shown.)</p>\n\n<p>How did you pinpoint that exactly the code you posted is failing?</p>\n\n<p>You can try:</p>\n\n<ul>\n<li>execute working .exe on failing machine</li>\n<li>get failing .exe to machine where you can debug (you can start the dll - if you do that, it will ask you what .exe you want to start for debugging, or you can set it in project properties)</li>\n<li>insert logging for every step that might fail and execute on failing machine. Starting with the DB connection, how many records are received, and so on. This will get pretty tedious unless you find the problem early on.</li>\n</ul>\n"}], "owner": {"reputation": 647, "user_id": 2013250, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/3ea5c1be0d85b251944bfde204fb9737?s=128&d=identicon&r=PG", "display_name": "prre72", "link": "https://stackoverflow.com/users/2013250/prre72"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444850627, "creation_date": 1444849412, "last_edit_date": 1444849608, "question_id": 33133548, "link": "https://stackoverflow.com/questions/33133548/c-same-code-work-for-application-but-not-in-a-dll", "title": "c# same code work for application but not in a .dll", "body": "<p>I am really confused I have written some code that is reading some records from a database. If I compile it as an Application it works fine. If I compile it as a .dll and I call the .dll from another application the code doesn't work anymore (it returns all zeroes). \nThis code is called in the Form_onShown()</p>\n\n<pre><code>Portfolios.Add(new NPortfolio(1, \"1\", activeContracts));\nDictionary&lt;string, double&gt; p = db.GetPortfolio(1,Today);\nPortfolios[0].UpdatePositions(p);\n\nvar strContracts = new List&lt;string&gt;();                     \nstrContracts.Add(pf.p_id);\nstrContracts.AddRange(pf.getPositions().Select(o =&gt; o.Value.ToString()).ToList());\n</code></pre>\n\n<p>this return my stored database values when compiled as .exe and returns all 0 when compiled as .dll!!</p>\n\n<p>the NPortfolio class is defined as follows:</p>\n\n<pre><code>    public NPortfolio(int nr, string id, List&lt;string&gt; ac)\n    {\n        p_nr = nr;\n        p_id = id;\n        positions = new Dictionary&lt;string, double&gt;();\n        foreach (string ticker in ac)\n        {\n            positions.Add(ticker, 0.00);\n        }\n    }\n\n    public void UpdatePositions(Dictionary&lt;string, double&gt; position)\n    {\n        foreach (var k in this.getPositions().Keys.ToList())\n        {\n            if (position.ContainsKey(k))\n            {\n                this.positions[k] = position[k];\n            }\n        }\n    }\n\n    public Dictionary&lt;string, double&gt; getPositions()\n    {\n        return positions;\n    }\n}\n</code></pre>\n\n<p>Any suggestion?</p>\n\n<p>R.</p>\n"}, {"tags": ["c#", "asp.net", "web-services", "wcf"], "comments": [{"owner": {"reputation": 578, "user_id": 349899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb41843edeefdbe478a6ee8cffa8e266?s=128&d=identicon&r=PG", "display_name": "Dietz", "link": "https://stackoverflow.com/users/349899/dietz"}, "edited": false, "score": 0, "creation_date": 1444849986, "post_id": 33133536, "comment_id": 54078934, "body": "Can you post the exception + stacktrace you get?"}, {"owner": {"reputation": 11, "user_id": 3482059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a02809c2d2886fa0958933b7aaf3259?s=128&d=identicon&r=PG&f=1", "display_name": "user3482059", "link": "https://stackoverflow.com/users/3482059/user3482059"}, "reply_to_user": {"reputation": 578, "user_id": 349899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb41843edeefdbe478a6ee8cffa8e266?s=128&d=identicon&r=PG", "display_name": "Dietz", "link": "https://stackoverflow.com/users/349899/dietz"}, "edited": false, "score": 0, "creation_date": 1444850070, "post_id": 33133536, "comment_id": 54078976, "body": "I noticed that there was not a serializable class called AccountDto generated within my reference.cs which may be causing the exception. I thought adding a service reference would auto generate this code for me."}, {"owner": {"reputation": 11, "user_id": 3482059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a02809c2d2886fa0958933b7aaf3259?s=128&d=identicon&r=PG&f=1", "display_name": "user3482059", "link": "https://stackoverflow.com/users/3482059/user3482059"}, "reply_to_user": {"reputation": 578, "user_id": 349899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb41843edeefdbe478a6ee8cffa8e266?s=128&d=identicon&r=PG", "display_name": "Dietz", "link": "https://stackoverflow.com/users/349899/dietz"}, "edited": false, "score": 0, "creation_date": 1444851569, "post_id": 33133536, "comment_id": 54079838, "body": "Tried getting the stacktrace/inner exception but right after im returning accounts the application breaks. Seems to be due to the response coming back to the console application. can&#39;t figure out why."}, {"owner": {"reputation": 1522, "user_id": 119211, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a1e94fff64f79d4212dc98b901ac52aa?s=128&d=identicon&r=PG", "display_name": "Shetty", "link": "https://stackoverflow.com/users/119211/shetty"}, "edited": false, "score": 0, "creation_date": 1444899565, "post_id": 33133536, "comment_id": 54097993, "body": "is this resolved? I used exact code which you have given here and i get any error? Is the code that you are using is different?"}, {"owner": {"reputation": 11, "user_id": 3482059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a02809c2d2886fa0958933b7aaf3259?s=128&d=identicon&r=PG&f=1", "display_name": "user3482059", "link": "https://stackoverflow.com/users/3482059/user3482059"}, "edited": false, "score": 0, "creation_date": 1444914458, "post_id": 33133536, "comment_id": 54108063, "body": "Well seems the issue is resolved when i move the entire class out of its own cs file scoped under a Dto/Account directory and move it into the actual IService.cs file. Any ideas why this is happening? I want to be able to seperate Dto objects and have own files for them...encapsulation..instead of moving all my Data Contracts in the interface class."}, {"owner": {"reputation": 11, "user_id": 3482059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a02809c2d2886fa0958933b7aaf3259?s=128&d=identicon&r=PG&f=1", "display_name": "user3482059", "link": "https://stackoverflow.com/users/3482059/user3482059"}, "edited": false, "score": 0, "creation_date": 1444934795, "post_id": 33133536, "comment_id": 54121231, "body": "So I have solved this dreaded issue. You must create a WCF Service Library instead of a WCF Service Application. My god that is stupid that the application wont let you split your components outside of the interface."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1444944383, "post_id": 33133536, "comment_id": 54126482, "body": "You can split components out the interface, it is just the fact that merging them fixed some other bug you had. Attach a debugger to the service while it is running and get a capture of the stack trace when it throws the stack overflow exception."}, {"owner": {"reputation": 27233, "user_id": 745969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eb73eb2cf8699890e4cfbf3e612601?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/745969/tim"}, "edited": false, "score": 0, "creation_date": 1444944736, "post_id": 33133536, "comment_id": 54126635, "body": "You can have both the service contracts (i.e., interfaces) and the DTOs in separate assemblies and still use the WCF Service Application project template.  We have over a dozen WCF services at work and this is the standard model we use (with a few special cases that are different).  You simply need to reference the other assemblies in the service project and use the correct <code>using</code> directives."}, {"owner": {"reputation": 11, "user_id": 3482059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a02809c2d2886fa0958933b7aaf3259?s=128&d=identicon&r=PG&f=1", "display_name": "user3482059", "link": "https://stackoverflow.com/users/3482059/user3482059"}, "edited": false, "score": 0, "creation_date": 1445006292, "post_id": 33133536, "comment_id": 54153745, "body": "Well I tried restarting applications from scratch with the same error. Not sure why moving them into the interface fixes the issues. I made sure i was using the right using statements. However, now I am using the application to just launch the service and i have decoupled my Dto classes into their own project and the Service Contracts/Operation Contracts into their own projects under a service library. So i am using an application but, the svc file is just inheriting from the service class within a service library which is much better separation of concern"}, {"owner": {"reputation": 11, "user_id": 3482059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a02809c2d2886fa0958933b7aaf3259?s=128&d=identicon&r=PG&f=1", "display_name": "user3482059", "link": "https://stackoverflow.com/users/3482059/user3482059"}, "edited": false, "score": 0, "creation_date": 1445006454, "post_id": 33133536, "comment_id": 54153849, "body": "Not sure why the implementation of separating Dto classes is different between a service library and application but, the library worked right out of the box."}], "owner": {"reputation": 11, "user_id": 3482059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a02809c2d2886fa0958933b7aaf3259?s=128&d=identicon&r=PG&f=1", "display_name": "user3482059", "link": "https://stackoverflow.com/users/3482059/user3482059"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 739, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444934834, "creation_date": 1444849369, "last_edit_date": 1444934834, "question_id": 33133536, "link": "https://stackoverflow.com/questions/33133536/wcf-process-is-terminated-due-to-stackoverflowexception", "title": "WCF process-is-terminated-due-to-stackoverflowexception", "body": "<p>when i run a method within my WCF service i get \"An unhandled exception of type 'System.StackOverflowException' occurred in developer1SVC.dll\".</p>\n\n<p>No infinite loops exist and no infinite recursion is occurring. Any ideas to why this may be happening? when i run the method through wcf test client. I get the results back correctly however, hooking it up to my console app and running it breaks the application. The other methods run fine. It is this one method. Just trying to get the feel for WCF services. The service breaks right after i return accounts from the \"generateMultiplAccounts\" method.</p>\n\n<p>Much help appreciated.</p>\n\n<p>Service</p>\n\n<pre><code>using developer1.Core.ServiceContracts;\nusing developer1.Core.Data;\nusing developer1.Core.Dto;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Runtime.Serialization;\nusing System.ServiceModel;\nusing System.ServiceModel.Web;\nusing System.Text;\nusing developer1.Core.Dto.Account;\n\nnamespace developer1.Core.Service\n{\n    // NOTE: You can use the \"Rename\" command on the \"Refactor\" menu to change the class name \"Service1\" in code, svc and config file together.\n    // NOTE: In order to launch WCF Test Client for testing this service, please select Service1.svc or Service1.svc.cs at the Solution Explorer and start debugging.\n    public class Service1 : IService1\n    {\n        public string GetData(int value)\n        {\n            return string.Format(\"You entered: {0}\", value);\n        }\n\n        public CompositeType GetDataUsingDataContract(CompositeType composite)\n        {\n            if (composite == null)\n            {\n                throw new ArgumentNullException(\"composite\");\n            }\n            if (composite.BoolValue)\n            {\n                composite.StringValue += \"Suffix\";\n            }\n            Console.WriteLine(composite.StringValue + composite.BoolValue);\n            return composite;\n        }\n\n        public List&lt;AccountDto&gt; GenerateMultipleAccounts(int count)\n        {\n            List&lt;AccountDto&gt; accounts = new List&lt;AccountDto&gt;();\n            for (int i = 0; i &lt; count; i++)\n            {\n                AccountDto newAccount = new AccountDto() { AccountId = Guid.NewGuid()};\n                accounts.Add(newAccount);\n\n            }\n            return accounts;\n\n        }\n    }\n}\n</code></pre>\n\n<p>Console Application</p>\n\n<pre><code>using developer1.Core;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing developer1.Core.Service;\nusing developer1.Core.Dto.Account;\nusing developer1.Core.ServiceContracts;\nusing AccountServiceClient = developer1.TestConsole.ServiceReference1.Service1Client;\n\nnamespace developer1.TestConsole\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            try\n            {\n                AccountServiceClient AccountServiceClient = new AccountServiceClient();\n                Guid testGuid = Guid.NewGuid();\n\n\nList&lt;AccountDto&gt; newAccounts = new List&lt;AccountDto&gt;(AccountServiceClient.GenerateMultipleAccounts(2));\n                Console.WriteLine(testGuid);\n                CompositeType testDataContract = new CompositeType() { StringValue = \"test\", BoolValue = true };\n                testDataContract = AccountServiceClient.GetDataUsingDataContract(testDataContract);\n                Console.WriteLine(AccountServiceClient.GetData(6));\n                Console.WriteLine(testDataContract.StringValue);\n                //foreach (var item in newAccounts)\n                //{\n\n                //    Console.WriteLine(item.AccountId);\n                //}\n\n            }\n            catch(Exception e) {\n                Console.WriteLine(e);\n            }\n            Console.Read();\n        }\n    }\n}\n</code></pre>\n\n<p>Data Contract</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Runtime.Serialization;\nusing System.Web;\n\nnamespace developer1.Core.Dto.Account\n{\n    [DataContract]\n    public class AccountDto\n    {\n        [DataMember]\n        public Guid AccountId { get; set; }\n        //get { return this.AccountId; }\n    //set { this.AccountId = this.AccountId == Guid.Empty ? Guid.NewGuid() : value; }\n\n        [DataMember]\n        public Guid UserId { get; set; }\n\n        [DataMember]\n        public string AccountName { get; set; }\n\n        [DataMember]\n        public string BankName { get; set; }\n\n        //get { return this.BankName; }\n        //set { this.BankName = this.BankName == null ? \"Unspecified\" : value; }\n\n}\n}\n</code></pre>\n\n<p>ANSWER!!!!!!!</p>\n\n<p>So I have solved this dreaded issue. You must create a WCF Service Library instead of a WCF Service Application. My god that is stupid that the application wont let you split your components outside of the interface.</p>\n"}, {"tags": ["c#", ".net", "wpf", "xaml"], "comments": [{"owner": {"reputation": 9367, "user_id": 4454124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c094d8979fb41b789a7c7f21d9329359?s=128&d=identicon&r=PG&f=1", "display_name": "mnistic", "link": "https://stackoverflow.com/users/4454124/mnistic"}, "edited": false, "score": 2, "creation_date": 1444855384, "post_id": 33133485, "comment_id": 54082039, "body": "I believe <a href=\"https://snoopwpf.codeplex.com\" rel=\"nofollow noreferrer\">Snoop</a> has an option to monitor events."}, {"owner": {"reputation": 15949, "user_id": 184746, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/eooRi.png?s=128&g=1", "display_name": "caesay", "link": "https://stackoverflow.com/users/184746/caesay"}, "reply_to_user": {"reputation": 9367, "user_id": 4454124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c094d8979fb41b789a7c7f21d9329359?s=128&d=identicon&r=PG&f=1", "display_name": "mnistic", "link": "https://stackoverflow.com/users/4454124/mnistic"}, "edited": false, "score": 0, "creation_date": 1444861751, "post_id": 33133485, "comment_id": 54084913, "body": "@mnistic: Thanks for the suggestion, I was able to find some additional details and have updated the question."}], "answers": [{"comments": [{"owner": {"reputation": 15949, "user_id": 184746, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/eooRi.png?s=128&g=1", "display_name": "caesay", "link": "https://stackoverflow.com/users/184746/caesay"}, "edited": false, "score": 0, "creation_date": 1445126375, "post_id": 33136859, "comment_id": 54191529, "body": "I was trying to avoid handling the key presses myself in PreviewKeyDown because I thought it was going to be difficult to get right. I didn&#39;t know i could raise a textcomposition event myself though, it makes things easier - and I ended up implementing a solution using that, so i&#39;m giving you the accepted."}], "tags": [], "owner": {"reputation": 3923, "user_id": 1721423, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TDlpy.jpg?s=128&g=1", "display_name": "Troels Larsen", "link": "https://stackoverflow.com/users/1721423/troels-larsen"}, "is_accepted": true, "score": 1, "last_activity_date": 1444862398, "creation_date": 1444862398, "answer_id": 33136859, "question_id": 33133485, "link": "https://stackoverflow.com/questions/33133485/wpf-keybinding-swallowing-keys-preventing-textbox-use/33136859#33136859", "title": "WPF KeyBinding swallowing keys, preventing TextBox use", "body": "<p><code>TextInput</code> and <code>PreviewTextInput</code> only fires when the Text actually changes / might change.</p>\n\n<p>As you updated your question to reflect, the <code>Command</code> intercepts the event and the (Preview)TextInput events are never raised.</p>\n\n<p>The nicest solution would be to add a modifier key to your KeyBinding, but I suspect that is not your preferred way to go.</p>\n\n<p>Another option would be to <code>e.Handle</code> the PreviewKeyDown event on the TextBox and raise the TextComposition events yourself, using something like:</p>\n\n<pre><code>target.RaiseEvent(new TextCompositionEventArgs(InputManager.Current.PrimaryKeyboardDevice, \nnew TextComposition(InputManager.Current, target, \"A\")) \n{ \n    RoutedEvent = TextCompositionManager.TextInputEvent \n});\n</code></pre>\n\n<p>(Alternatively, insert into <code>textBox.Text</code> at the correct <code>CaretIndex</code>)</p>\n\n<p>Truth be told, it would still be a hack.</p>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 8301043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7301f8c73ecf8815c59c2ddca4c48560?s=128&d=identicon&r=PG&f=1", "display_name": "Marek Mikulec", "link": "https://stackoverflow.com/users/8301043/marek-mikulec"}, "is_accepted": false, "score": 2, "last_activity_date": 1506787896, "creation_date": 1506787896, "answer_id": 46504605, "question_id": 33133485, "link": "https://stackoverflow.com/questions/33133485/wpf-keybinding-swallowing-keys-preventing-textbox-use/46504605#46504605", "title": "WPF KeyBinding swallowing keys, preventing TextBox use", "body": "<p>I have the same problem. \nI took a look to documentation for key bindind, and there is described, that the key on which you bind shouldn't be just key, but key gesture, so it shall be</p>\n\n<ul>\n<li>Modifier key + normal key</li>\n<li>Numeric keypad key</li>\n<li>Functional key.</li>\n</ul>\n\n<p>Of course, it works with just A, but it's bad practice overall. You should consider to implement some of the posibilities mentioned behind. More at <a href=\"https://msdn.microsoft.com/cs-cz/library/system.windows.input.keybinding(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/cs-cz/library/system.windows.input.keybinding(v=vs.110).aspx</a></p>\n"}, {"comments": [{"owner": {"reputation": 3616, "user_id": 354756, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FonCv.png?s=128&g=1", "display_name": "daniloquio", "link": "https://stackoverflow.com/users/354756/daniloquio"}, "edited": false, "score": 0, "creation_date": 1578927003, "post_id": 59666523, "comment_id": 105588282, "body": "It would be interesting to hear the reasons for the downvote please."}, {"owner": {"reputation": 15949, "user_id": 184746, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/eooRi.png?s=128&g=1", "display_name": "caesay", "link": "https://stackoverflow.com/users/184746/caesay"}, "edited": false, "score": 0, "creation_date": 1579107465, "post_id": 59666523, "comment_id": 105658463, "body": "This answer is wrong. In the original question we have a TextBox - and a parent component has a keybinding which is swallowing keypresses on the TextBox. The keybinding does not exist on the TextBox. In fact, the keybinding could be literally anywhere in the component tree above the TextBox. This is a 5 year old question, which already has a really really great answer which solves all of the problems of a parent compoenent swallowing key-presses in a textbox."}, {"owner": {"reputation": 3616, "user_id": 354756, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FonCv.png?s=128&g=1", "display_name": "daniloquio", "link": "https://stackoverflow.com/users/354756/daniloquio"}, "reply_to_user": {"reputation": 15949, "user_id": 184746, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/eooRi.png?s=128&g=1", "display_name": "caesay", "link": "https://stackoverflow.com/users/184746/caesay"}, "edited": false, "score": 0, "creation_date": 1579108474, "post_id": 59666523, "comment_id": 105658958, "body": "@caesay This is an alternative solution with its pros and cons, but for many people it will be the best option (it was my case, the solution works. Therefore, it&#39;s not wrong). The currently chosen answer has three big downsides: 1) requires extra code for each TextBox on the scope of the KeyBinding which means poor maintainability. 2) The KeyBinding Key needs to be referenced on each PreviewKeyDown. 3) As the answer&#39;s author himself said it: <i>it&#39;s a hack</i>."}, {"owner": {"reputation": 15949, "user_id": 184746, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/eooRi.png?s=128&g=1", "display_name": "caesay", "link": "https://stackoverflow.com/users/184746/caesay"}, "edited": false, "score": 0, "creation_date": 1579113411, "post_id": 59666523, "comment_id": 105661172, "body": "This is also a hack, which like i said, does not work if you have parent components with KeyBindings"}, {"owner": {"reputation": 3616, "user_id": 354756, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FonCv.png?s=128&g=1", "display_name": "daniloquio", "link": "https://stackoverflow.com/users/354756/daniloquio"}, "reply_to_user": {"reputation": 15949, "user_id": 184746, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/eooRi.png?s=128&g=1", "display_name": "caesay", "link": "https://stackoverflow.com/users/184746/caesay"}, "edited": false, "score": 0, "creation_date": 1579116240, "post_id": 59666523, "comment_id": 105662460, "body": "It&#39;s an alternative to using KeyBindings. Anyway I don&#39;t agree with you but now the rational behind the downvote is clear to me and to any other person looking into this in the future. Thank you :)"}], "tags": [], "owner": {"reputation": 3616, "user_id": 354756, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FonCv.png?s=128&g=1", "display_name": "daniloquio", "link": "https://stackoverflow.com/users/354756/daniloquio"}, "is_accepted": false, "score": -1, "last_activity_date": 1578581408, "creation_date": 1578581408, "answer_id": 59666523, "question_id": 33133485, "link": "https://stackoverflow.com/questions/33133485/wpf-keybinding-swallowing-keys-preventing-textbox-use/59666523#59666523", "title": "WPF KeyBinding swallowing keys, preventing TextBox use", "body": "<p>As long as you use <code>KeyBinding</code> this not going to work without major hacks. A solution I implemented for this is:</p>\n\n<ol>\n<li>Use the <code>KeyDown</code> event to capture those keys being pressed (instead of <code>KeyBindings</code>). This will be on your code-behind and from there you'll need to switch on the pressed Key to call the required command (<code>SomeCommand</code> in your case).</li>\n<li>Now you have a different problem. The <code>TextBox</code> is getting the input but your key-bound commands are also firing. On the code behind, check the type of <code>keyEventArgs.InputSource</code> and ignore the key stroke if it's a <code>TextBox</code>.</li>\n</ol>\n\n<p>It should look like this:</p>\n\n<pre><code>private void OnKeyDown(object sender, KeyEventArgs e)\n{\n    ICommand command = null;\n\n    switch (e.Key)\n    {\n        case Key.A:\n            command = Commands.SomeCommand;\n            break;\n        case Key.B:\n            command = Commands.SomeOtherCommand;\n            break;\n    }\n\n    bool isSourceATextBox = e.InputSource.GetType() == typeof(TextBox);\n    if (command != null &amp;&amp; !isSourceATextBox)\n    {\n        command.Execute(parameter:null);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 15949, "user_id": 184746, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/eooRi.png?s=128&g=1", "display_name": "caesay", "link": "https://stackoverflow.com/users/184746/caesay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3809, "favorite_count": 3, "accepted_answer_id": 33136859, "answer_count": 3, "score": 7, "last_activity_date": 1578581408, "creation_date": 1444849211, "last_edit_date": 1444861705, "question_id": 33133485, "link": "https://stackoverflow.com/questions/33133485/wpf-keybinding-swallowing-keys-preventing-textbox-use", "title": "WPF KeyBinding swallowing keys, preventing TextBox use", "body": "<p><strong>Problem Overview:</strong><br/>\nAny <code>KeyBinding</code>'s defined at a level higher than a <code>TextBox</code> (with no modifier keys assigned), prevents the user from typing those keys inside the <code>TextBox</code>.</p>\n\n<p><strong>Minimal XAML Hierarchy:</strong></p>\n\n<pre><code>&lt;Window&gt;\n  &lt;UserControl&gt;\n    &lt;Border&gt;\n      &lt;UserControl&gt;\n        &lt;TextBox&gt;\n</code></pre>\n\n<p><strong>Minimal Command/KeyBinding:</strong></p>\n\n<pre><code>&lt;UserControl.Resources&gt;\n    &lt;RoutedUICommand x:Key=\"Commands.SomeCommand\" /&gt;\n&lt;/UserControl.Resources&gt;\n&lt;UserControl.InputBindings&gt;\n    &lt;KeyBinding Key=\"A\" Command=\"{StaticResource Commands.SomeCommand} /&gt;\n&lt;/UserControl.InputBindings&gt;\n&lt;UserControl.CommandBindings&gt;\n    &lt;CommandBinding Command=\"{StaticResource Commands.SomeCommand}\" Executed=\"...\" /&gt;\n&lt;/UserControl.CommandBindings&gt;\n</code></pre>\n\n<p>The <code>Command</code> and <code>KeyBinding</code>, are defined at the <strong>first</strong> <code>UserControl</code> level. So in this example, in the textbox, the user can type freely until they press the <code>A</code> key, and then it just does not insert the letter into the textbox. I can clearly see that the <code>TextBox.KeyDown</code> and <code>TextBox.PreviewKeyDown</code> <strong>are</strong> firing when you press the <code>A</code> key (and <code>Handled = false</code>) , but the letter will not get added to the text of the textbox and <code>TextBox.PreviewTextInput</code> does <strong>not</strong> fire.</p>\n\n<p>I'm looking for any suggestions that may indicate what is swallowing the keypress and stopping it from getting processed by the TextBox, or anything related to how I can debug this issue.</p>\n\n<p><strong>EDIT:</strong><br/> Thanks to <a href=\"https://snoopwpf.codeplex.com/\" rel=\"nofollow\">Snoop</a>, I was able to clearly see the problem.</p>\n\n<ol>\n<li><code>TextBox.PreviewKeyDown</code> tunnels down and fires through the visual tree, starting at the Window, and ending at the TextBox</li>\n<li><code>TextBox.KeyDown</code> bubbles back up starting at the TextBox and heading towards the window</li>\n<li><code>TextBox.KeyDown</code> gets Handled set to true by the first UserControl that has the KeyBinding set.</li>\n<li><code>TextBox.PreviewTextInput</code> never fires, nor does the textbox process the input, because the KeyDown event was set as handled.</li>\n</ol>\n\n<p>This still leaves the problem, how do you prevent the UserControl from handling the input if a textbox has focus? Within the Command execution, I can check if a textbox has keyboard focus, but by this time it's too late.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "checkbox"], "comments": [{"owner": {"reputation": 45352, "user_id": 1625737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/v8qtx.png?s=128&g=1", "display_name": "haim770", "link": "https://stackoverflow.com/users/1625737/haim770"}, "edited": false, "score": 0, "creation_date": 1444849169, "post_id": 33133430, "comment_id": 54078446, "body": "The <code>data-url</code> attribute only contains some url now. There needs to be some piece of Javascript that uses it."}, {"owner": {"reputation": 8456, "user_id": 406732, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/52xhM.jpg?s=128&g=1", "display_name": "bopapa_1979", "link": "https://stackoverflow.com/users/406732/bopapa-1979"}, "edited": false, "score": 1, "creation_date": 1444849644, "post_id": 33133430, "comment_id": 54078732, "body": "There are a ton of ways to approach this, but you need something to do an AJAX call to a server endpoint (probably a Web API method, since you&#39;re using ASP.net MVC) when you check that box.  The &quot;quick and dirty&quot; answer is to use a jQuery selector for you checkbox and register a function using $([selector]).change(function(){});  You could also bind the checkbox to a kendo viewmodel function, or any number of other approaches."}, {"owner": {"reputation": 8456, "user_id": 406732, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/52xhM.jpg?s=128&g=1", "display_name": "bopapa_1979", "link": "https://stackoverflow.com/users/406732/bopapa-1979"}, "edited": false, "score": 0, "creation_date": 1444849779, "post_id": 33133430, "comment_id": 54078807, "body": "You could look here, too:  <a href=\"http://stackoverflow.com/questions/1784412/asp-net-mvc-simulating-autopostback-for-simple-checkbox\" title=\"asp net mvc simulating autopostback for simple checkbox\">stackoverflow.com/questions/1784412/&hellip;</a>"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 8456, "user_id": 406732, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/52xhM.jpg?s=128&g=1", "display_name": "bopapa_1979", "link": "https://stackoverflow.com/users/406732/bopapa-1979"}, "edited": false, "score": 0, "creation_date": 1444850524, "post_id": 33133430, "comment_id": 54079238, "body": "@EricBurcham The key point is sending an ajax request when checkbox changed."}, {"owner": {"reputation": 8456, "user_id": 406732, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/52xhM.jpg?s=128&g=1", "display_name": "bopapa_1979", "link": "https://stackoverflow.com/users/406732/bopapa-1979"}, "reply_to_user": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1444850803, "post_id": 33133430, "comment_id": 54079404, "body": "@RezaAghaei - I thought that was clear in my comment, but you are absolutely correct."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 8456, "user_id": 406732, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/52xhM.jpg?s=128&g=1", "display_name": "bopapa_1979", "link": "https://stackoverflow.com/users/406732/bopapa-1979"}, "edited": false, "score": 0, "creation_date": 1444851203, "post_id": 33133430, "comment_id": 54079618, "body": "@EricBurcham Yes it&#39;s clear in your comment. I think having an answer is more useful than leaving comment. unfortunately I didn&#39;t read your comment  but as I see now your comment is good as answer :) I edited the answer and mentioned you:) Hope you find it helpful or let me know if you prefer to post your own answer:)"}], "answers": [{"tags": [], "owner": {"reputation": 513, "user_id": 3761339, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/04whU.jpg?s=128&g=1", "display_name": "Kunal B.", "link": "https://stackoverflow.com/users/3761339/kunal-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1444849774, "last_edit_date": 1495542897, "creation_date": 1444849774, "answer_id": 33133652, "question_id": 33133430, "link": "https://stackoverflow.com/questions/33133430/how-can-i-make-an-asp-net-mvc-checkbox-trigger-an-action/33133652#33133652", "title": "How can I make an asp.net mvc checkbox trigger an action?", "body": "<p>The reason is that when <strong>checkbox</strong> is unchecked &amp; form is submitted; no form field related to checkbox is <code>submitted</code>. You either have to use JavaScript to add <code>hidden</code> variable as described in <a href=\"https://stackoverflow.com/questions/1809494/post-the-checkboxes-that-are-unchecked\">Post the checkboxes that are unchecked</a>, or make a Ajax hit when checkbox is checked. <a href=\"https://stackoverflow.com/questions/3117673/jquery-ajax-checkbox-state\">jQuery Ajax checkbox state</a> </p>\n"}, {"comments": [{"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 8456, "user_id": 406732, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/52xhM.jpg?s=128&g=1", "display_name": "bopapa_1979", "link": "https://stackoverflow.com/users/406732/bopapa-1979"}, "edited": false, "score": 0, "creation_date": 1444851998, "post_id": 33133753, "comment_id": 54080077, "body": "@EricBurcham Thank you:)"}, {"owner": {"reputation": 1757, "user_id": 3485021, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/274b48a5fd5cb8a453dfb97df7209cc9?s=128&d=identicon&r=PG&f=1", "display_name": "JB06", "link": "https://stackoverflow.com/users/3485021/jb06"}, "edited": false, "score": 0, "creation_date": 1444852114, "post_id": 33133753, "comment_id": 54080140, "body": "To pass the correct macro name like you are trying to do, you would have to put this inside the foreach loop. You shouldn&#39;t do that."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 1757, "user_id": 3485021, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/274b48a5fd5cb8a453dfb97df7209cc9?s=128&d=identicon&r=PG&f=1", "display_name": "JB06", "link": "https://stackoverflow.com/users/3485021/jb06"}, "edited": false, "score": 0, "creation_date": 1444852201, "post_id": 33133753, "comment_id": 54080184, "body": "@JB06 Which macro name? Which loop? Do what? ;)"}, {"owner": {"reputation": 1757, "user_id": 3485021, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/274b48a5fd5cb8a453dfb97df7209cc9?s=128&d=identicon&r=PG&f=1", "display_name": "JB06", "link": "https://stackoverflow.com/users/3485021/jb06"}, "edited": false, "score": 0, "creation_date": 1444852236, "post_id": 33133753, "comment_id": 54080203, "body": "Your url string won&#39;t work unless you put this inside the foreach, how else would you use @item?"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 1, "creation_date": 1444852391, "post_id": 33133753, "comment_id": 54080289, "body": "Very good point! I have never seen that loop yet;) And this way I should not use Id too!"}], "tags": [], "owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "is_accepted": false, "score": 2, "last_activity_date": 1444851111, "last_edit_date": 1495535628, "creation_date": 1444850099, "answer_id": 33133753, "question_id": 33133430, "link": "https://stackoverflow.com/questions/33133430/how-can-i-make-an-asp-net-mvc-checkbox-trigger-an-action/33133753#33133753", "title": "How can I make an asp.net mvc checkbox trigger an action?", "body": "<p>The key point is sending an ajax request when checkbox changed.</p>\n\n<p>As mentioned in comments by <a href=\"https://stackoverflow.com/users/406732/eric-burcham\">Eric</a>, You can trigger that action using many different ways. for example, put this script in your codes:</p>\n\n<pre><code>&lt;script&gt;\n    $(function () {\n        $('#Claimed').change(function () {\n            $.ajax({\n                url: '/ToggleClaim/MacroStatus/@item.Macro_Name',\n                cache: false,\n                method: 'GET',\n                success: function (data) { alert('success'); },\n                error: function () { alert('error'); }\n            });\n        });\n    });\n&lt;/script&gt; \n</code></pre>\n\n<p>And correct checkbox code this way:</p>\n\n<pre><code>&lt;td&gt;\n    @Html.CheckBoxFor(modelItem =&gt; item.Claimed)\n&lt;/td&gt;\n</code></pre>\n\n<p>The above code, triggers the action each time you check or uncheck the checkbox, you can simply check if the checkbox is checked and then send ajax request.</p>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 2762725, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cbcadfb216af8aa55e075227a586ee94?s=128&d=identicon&r=PG&f=1", "display_name": "eric kulcyk", "link": "https://stackoverflow.com/users/2762725/eric-kulcyk"}, "edited": false, "score": 0, "creation_date": 1444850769, "post_id": 33133798, "comment_id": 54079386, "body": ", class = &quot;toggle&quot; is giving me a syntax error here.  Is that a valid keyword here?"}, {"owner": {"reputation": 1757, "user_id": 3485021, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/274b48a5fd5cb8a453dfb97df7209cc9?s=128&d=identicon&r=PG&f=1", "display_name": "JB06", "link": "https://stackoverflow.com/users/3485021/jb06"}, "reply_to_user": {"reputation": 151, "user_id": 2762725, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cbcadfb216af8aa55e075227a586ee94?s=128&d=identicon&r=PG&f=1", "display_name": "eric kulcyk", "link": "https://stackoverflow.com/users/2762725/eric-kulcyk"}, "edited": false, "score": 0, "creation_date": 1444851786, "post_id": 33133798, "comment_id": 54079946, "body": "Sorry, class is a reserved word, escape it with @ - <code>@class = &quot;toggle&quot;</code>"}, {"owner": {"reputation": 2220, "user_id": 6085193, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/37b7caffad315fdd5df5c096bc36ea92?s=128&d=identicon&r=PG&f=1", "display_name": "Transformer", "link": "https://stackoverflow.com/users/6085193/transformer"}, "edited": false, "score": 0, "creation_date": 1514441170, "post_id": 33133798, "comment_id": 82973093, "body": "hi how to <i>update the row upon Ajax success/fail</i>. For e.g. if <code>Status</code> was a col in the row. And if Approved/Rejected was a radio button with some notes, so if I want to -- toggle the color of the row, and update the value of status in the row."}], "tags": [], "owner": {"reputation": 1757, "user_id": 3485021, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/274b48a5fd5cb8a453dfb97df7209cc9?s=128&d=identicon&r=PG&f=1", "display_name": "JB06", "link": "https://stackoverflow.com/users/3485021/jb06"}, "is_accepted": true, "score": 6, "last_activity_date": 1444851844, "last_edit_date": 1444851844, "creation_date": 1444850268, "answer_id": 33133798, "question_id": 33133430, "link": "https://stackoverflow.com/questions/33133430/how-can-i-make-an-asp-net-mvc-checkbox-trigger-an-action/33133798#33133798", "title": "How can I make an asp.net mvc checkbox trigger an action?", "body": "<p>You will need ajax for this.\nFirst, add a class to the checkboxes so you will have a hook to attach your click event.</p>\n\n<p><code>@Html.CheckBoxFor(modelItem =&gt; item.Claimed, new { id = item.Macro_Name, @class = \"toggle\" data_url = Url.Action(\"ToggleClaim\", \"MacroStatus\")})</code></p>\n\n<p>Now add your javascript.</p>\n\n<pre><code>@section scripts {\n    &lt;script&gt;\n        $(function() {\n            $('.toggle').change(function() {\n                var self = $(this);\n                var url = self.data('url');\n                var id = self.attr('id');\n                var value = self.prop('checked');\n\n                $.ajax({\n                    url: url,\n                    data: { id: id },\n                    type: 'POST',\n                    success: function(response) {\n                        alert(response);\n                    }\n                });\n            });\n        });\n    &lt;/script&gt;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 4496440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc7559e7b094263da92336bc85668e31?s=128&d=identicon&r=PG", "display_name": "Gary Mason", "link": "https://stackoverflow.com/users/4496440/gary-mason"}, "is_accepted": false, "score": 0, "last_activity_date": 1553616119, "creation_date": 1553616119, "answer_id": 55361469, "question_id": 33133430, "link": "https://stackoverflow.com/questions/33133430/how-can-i-make-an-asp-net-mvc-checkbox-trigger-an-action/55361469#55361469", "title": "How can I make an asp.net mvc checkbox trigger an action?", "body": "<p>This can be done without script using fontawesome and a anchor with a standard controller.</p>\n\n<p>Add a link to the css file in your layout page.</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.7.1/css/all.css\"           \nintegrity=\"sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr\" \ncrossorigin=\"anonymous\"&gt;\n</code></pre>\n\n<p>In your view or display template add an anchor</p>\n\n<pre><code>&lt;a asp-controller=\"MacroStatus\" asp-action=\"ToggleClaim\" asp-route- \nid=\"item.Macro_Name\"&gt;\n@if (item.Claimed)\n{\n    &lt;span class=\"fas fa-toggle-on fa-2x\"&gt;&lt;/span&gt;\n}\nelse\n{\n    &lt;span class=\"fas fa-toggle-off fa-2x\"&gt;&lt;/span&gt;\n}\n&lt;/a&gt;\n</code></pre>\n\n<p>It looks like a checkbox and is clickable and is also great if you have multiple instances in one view, for example if you are using a display template for an array of objects. </p>\n\n<p>The above can be made very clean and re-usable by using a component for the toggle on/off part.</p>\n\n<pre><code>&lt;vc:toggle-on-off toggle=\"@item.Claimed\"&gt;&lt;/vc:toggle-on-off&gt;\n</code></pre>\n\n<p>Then it would look something like:</p>\n\n<pre><code>&lt;a asp-controller=\"MacroStatus\" asp-action=\"ToggleClaim\" asp-route- \nid=\"item.Macro_Name\"&gt;\n    &lt;vc:toggle-on-off toggle=\"@item.Claimed\"&gt;&lt;/vc:toggle-on-off&gt;\n&lt;/a&gt;\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 2762725, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cbcadfb216af8aa55e075227a586ee94?s=128&d=identicon&r=PG&f=1", "display_name": "eric kulcyk", "link": "https://stackoverflow.com/users/2762725/eric-kulcyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13841, "favorite_count": 3, "accepted_answer_id": 33133798, "answer_count": 4, "score": 6, "last_activity_date": 1553616119, "creation_date": 1444849020, "last_edit_date": 1495535628, "question_id": 33133430, "link": "https://stackoverflow.com/questions/33133430/how-can-i-make-an-asp-net-mvc-checkbox-trigger-an-action", "title": "How can I make an asp.net mvc checkbox trigger an action?", "body": "<p>I would like to update the database when someone checked a box that represents a bit field on the row.  I have been going off of this question: <a href=\"https://stackoverflow.com/questions/11139920/ajax-actionlink-with-checkbox\">Ajax.ActionLink(...) with checkbox</a>\nHere is my code in the cshtml file:</p>\n\n<pre><code>@foreach (var item in Model) {\n&lt;tr&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.Macro_Name)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.CheckBoxFor(modelItem =&gt; item.Claimed, new { id = item.Macro_Name, data_url = Url.Action(\"ToggleClaim\", \"MacroStatus\")})\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.Date_Claimed)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.Username)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.Finished)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.Date_Completed)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.ActionLink(\"Edit\", \"Edit\", new { id=item.Macro_Name }) |\n        @Html.ActionLink(\"Details\", \"Details\", new { id = item.Macro_Name }) |\n        @Html.ActionLink(\"Delete\", \"Delete\", new { id = item.Macro_Name })\n    &lt;/td&gt;\n&lt;/tr&gt;\n}\n</code></pre>\n\n<p>In the MacroStatusController class I have the following action:</p>\n\n<pre><code>    public ActionResult ToggleClaim(string id)\n    {\n        if (id == null)\n        {\n            return new HttpStatusCodeResult(HttpStatusCode.BadRequest);\n        }\n\n        MacroStatus macroStatus = db.MacroStatus1.Find(id);\n        if (macroStatus == null)\n        {\n            return HttpNotFound();\n        }\n\n        if (ModelState.IsValid)\n        {\n            macroStatus.Date_Claimed = DateTime.Now;\n            db.Entry(macroStatus).State = EntityState.Modified;\n            db.SaveChanges();\n        }\n\n        return new HttpStatusCodeResult(HttpStatusCode.OK);\n    }\n</code></pre>\n\n<p>However, ToggleClaim isn't running when I check or uncheck the box.  There are no compile errors.  This is my first try with asp.net mvc, what am I doing wrong?</p>\n"}, {"tags": ["c#", "powershell"], "comments": [{"owner": {"reputation": 6608, "user_id": 2100227, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uzsFd.png?s=128&g=1", "display_name": "Eris", "link": "https://stackoverflow.com/users/2100227/eris"}, "edited": false, "score": 0, "creation_date": 1444861759, "post_id": 33133401, "comment_id": 54084916, "body": "Instead of embedding powershell, it may actually be easier to program directly against the SOAP API. <a href=\"http://docs.citrix.com/content/dam/docs/en-us/provisioning-services/7-6/downloads/SOAPProgramGuide7-6.pdf\" rel=\"nofollow noreferrer\">docs.citrix.com/content/dam/docs/en-us/provisioning-services&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 2445, "user_id": 506205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a45226708eef2a764d55d3caf3a34d68?s=128&d=identicon&r=PG", "display_name": "Nathan McKaskle", "link": "https://stackoverflow.com/users/506205/nathan-mckaskle"}, "reply_to_user": {"reputation": 6608, "user_id": 2100227, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uzsFd.png?s=128&g=1", "display_name": "Eris", "link": "https://stackoverflow.com/users/2100227/eris"}, "edited": false, "score": 0, "creation_date": 1444862426, "post_id": 33133401, "comment_id": 54085199, "body": "Yeah I don&#39;t know much about soap and those client side proxy svcutil thing is a little foreign to me but thanks I&#39;ll check it out."}], "answers": [{"comments": [{"owner": {"reputation": 2445, "user_id": 506205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a45226708eef2a764d55d3caf3a34d68?s=128&d=identicon&r=PG", "display_name": "Nathan McKaskle", "link": "https://stackoverflow.com/users/506205/nathan-mckaskle"}, "edited": false, "score": 0, "creation_date": 1444855202, "post_id": 33133996, "comment_id": 54081936, "body": "That really seemed like a good solution but alas it didn&#39;t work in any form so far. I tried it as is, I tried fixing the commas to form the array, adding more commas to fit after each command, etc."}, {"owner": {"reputation": 6608, "user_id": 2100227, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uzsFd.png?s=128&g=1", "display_name": "Eris", "link": "https://stackoverflow.com/users/2100227/eris"}, "reply_to_user": {"reputation": 2445, "user_id": 506205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a45226708eef2a764d55d3caf3a34d68?s=128&d=identicon&r=PG", "display_name": "Nathan McKaskle", "link": "https://stackoverflow.com/users/506205/nathan-mckaskle"}, "edited": false, "score": 0, "creation_date": 1444855366, "post_id": 33133996, "comment_id": 54082031, "body": "(I updated my answer to fix the commas in the array) What error do you get when passing an array?"}, {"owner": {"reputation": 2445, "user_id": 506205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a45226708eef2a764d55d3caf3a34d68?s=128&d=identicon&r=PG", "display_name": "Nathan McKaskle", "link": "https://stackoverflow.com/users/506205/nathan-mckaskle"}, "edited": false, "score": 0, "creation_date": 1444855853, "post_id": 33133996, "comment_id": 54082279, "body": "No error, I even tried removing the required parameters siteName and storeName from the array and it didn&#39;t give an error (it should if I do that at the command prompt) which means it&#39;s not accepting all the additional arguments with -p in fact I think it&#39;s ignoring the whole thing and pausing to prompt for more and never executing, assuming I entered only mcli-add DiskLocator and nothing else."}, {"owner": {"reputation": 6608, "user_id": 2100227, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uzsFd.png?s=128&g=1", "display_name": "Eris", "link": "https://stackoverflow.com/users/2100227/eris"}, "reply_to_user": {"reputation": 2445, "user_id": 506205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a45226708eef2a764d55d3caf3a34d68?s=128&d=identicon&r=PG", "display_name": "Nathan McKaskle", "link": "https://stackoverflow.com/users/506205/nathan-mckaskle"}, "edited": false, "score": 0, "creation_date": 1444856099, "post_id": 33133996, "comment_id": 54082418, "body": "Try using <code>mcliAdd.AddArgument(&quot;DiskLocator&quot;)</code> instead of the <code>Parameters</code> array."}, {"owner": {"reputation": 2445, "user_id": 506205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a45226708eef2a764d55d3caf3a34d68?s=128&d=identicon&r=PG", "display_name": "Nathan McKaskle", "link": "https://stackoverflow.com/users/506205/nathan-mckaskle"}, "edited": false, "score": 0, "creation_date": 1444856356, "post_id": 33133996, "comment_id": 54082552, "body": "I&#39;m not seeing a method called AddArgument."}, {"owner": {"reputation": 2445, "user_id": 506205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a45226708eef2a764d55d3caf3a34d68?s=128&d=identicon&r=PG", "display_name": "Nathan McKaskle", "link": "https://stackoverflow.com/users/506205/nathan-mckaskle"}, "edited": false, "score": 0, "creation_date": 1444858529, "post_id": 33133996, "comment_id": 54083552, "body": "Updated my post just now."}, {"owner": {"reputation": 2445, "user_id": 506205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a45226708eef2a764d55d3caf3a34d68?s=128&d=identicon&r=PG", "display_name": "Nathan McKaskle", "link": "https://stackoverflow.com/users/506205/nathan-mckaskle"}, "edited": false, "score": 0, "creation_date": 1444860499, "post_id": 33133996, "comment_id": 54084421, "body": "What&#39;s ps? What would I add ps to?"}, {"owner": {"reputation": 6608, "user_id": 2100227, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uzsFd.png?s=128&g=1", "display_name": "Eris", "link": "https://stackoverflow.com/users/2100227/eris"}, "reply_to_user": {"reputation": 2445, "user_id": 506205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a45226708eef2a764d55d3caf3a34d68?s=128&d=identicon&r=PG", "display_name": "Nathan McKaskle", "link": "https://stackoverflow.com/users/506205/nathan-mckaskle"}, "edited": false, "score": 1, "creation_date": 1444860534, "post_id": 33133996, "comment_id": 54084435, "body": "You already created <code>ps</code>, it&#39;s your toplevel <code>Powershell</code> object."}, {"owner": {"reputation": 2445, "user_id": 506205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a45226708eef2a764d55d3caf3a34d68?s=128&d=identicon&r=PG", "display_name": "Nathan McKaskle", "link": "https://stackoverflow.com/users/506205/nathan-mckaskle"}, "edited": false, "score": 0, "creation_date": 1444861027, "post_id": 33133996, "comment_id": 54084625, "body": "I get an error: &quot;A command is required to add a parameter. A command must be added to the Windows PowerShell instance before adding a parameter.&quot;"}, {"owner": {"reputation": 2445, "user_id": 506205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a45226708eef2a764d55d3caf3a34d68?s=128&d=identicon&r=PG", "display_name": "Nathan McKaskle", "link": "https://stackoverflow.com/users/506205/nathan-mckaskle"}, "edited": false, "score": 0, "creation_date": 1444861166, "post_id": 33133996, "comment_id": 54084681, "body": "I fixed that error by getting rid of the pipeline but that just resulted in the exact same problem."}, {"owner": {"reputation": 6608, "user_id": 2100227, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uzsFd.png?s=128&g=1", "display_name": "Eris", "link": "https://stackoverflow.com/users/2100227/eris"}, "reply_to_user": {"reputation": 2445, "user_id": 506205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a45226708eef2a764d55d3caf3a34d68?s=128&d=identicon&r=PG", "display_name": "Nathan McKaskle", "link": "https://stackoverflow.com/users/506205/nathan-mckaskle"}, "edited": false, "score": 0, "creation_date": 1444861362, "post_id": 33133996, "comment_id": 54084766, "body": "At this point, I give up. Try using <code>Process.Start(yourwholecommand)</code>"}, {"owner": {"reputation": 2445, "user_id": 506205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a45226708eef2a764d55d3caf3a34d68?s=128&d=identicon&r=PG", "display_name": "Nathan McKaskle", "link": "https://stackoverflow.com/users/506205/nathan-mckaskle"}, "edited": false, "score": 0, "creation_date": 1444924650, "post_id": 33133996, "comment_id": 54115679, "body": "I got the windows forms app to work, it works fine. Turns out to be a permissions issue, if I run the service as myself it works."}], "tags": [], "owner": {"reputation": 6608, "user_id": 2100227, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uzsFd.png?s=128&g=1", "display_name": "Eris", "link": "https://stackoverflow.com/users/2100227/eris"}, "is_accepted": true, "score": 1, "last_activity_date": 1444860330, "last_edit_date": 1444860330, "creation_date": 1444851011, "answer_id": 33133996, "question_id": 33133401, "link": "https://stackoverflow.com/questions/33133401/c-and-powershell-how-do-i-add-comma-delimited-parameters/33133996#33133996", "title": "C# and PowerShell: How do I add comma delimited parameters?", "body": "<p>The argument to <code>-r</code> appears to be an array. You will need to give it an array of strings. Also, when passing parameters, you must omit the <code>-</code> since that is merely a parameter delimiter on the command line. The parameter itself is called \"r\".</p>\n\n<pre><code>mcliAdd.Parameters.Add(\"r\", new string[]{\"diskLocatorName=\" + diskLocatorName, \"siteName=\" + siteName, \"storeName=\" + storeName});\n</code></pre>\n\n<p>Or something similar. </p>\n\n<p>Failing this, an alternative to try which assumes a terribly written powershell module, would be:</p>\n\n<pre><code> mcliAdd.Parameters.Add(null, \"-r diskLocatorName=\" + diskLocatorName + \", \" + \"siteName=\" + siteName + \", \" + \"storeName=\" + storeName);\n</code></pre>\n\n<p>Another thought for a possibility:</p>\n\n<pre><code>Command mcliAdd = new Command(\"mcli-add\");\npipeline.Commands.Add(mcliAdd);\nps.AddArgument(\"DiskLocator\");\nps.AddParameter(\"r\", new string[]{\"diskLocatorName=\" + diskLocatorName, \"siteName=\" + siteName, \"storeName=\" + storeName});\n// Alternatively add both using AddArgument\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2445, "user_id": 506205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a45226708eef2a764d55d3caf3a34d68?s=128&d=identicon&r=PG", "display_name": "Nathan McKaskle", "link": "https://stackoverflow.com/users/506205/nathan-mckaskle"}, "edited": false, "score": 0, "creation_date": 1444858068, "post_id": 33135752, "comment_id": 54083330, "body": "I&#39;ll have to try to translate that to c#. It&#39;s just not accepting anything I give it. It just won&#39;t follow through on the command and I can&#39;t tell what&#39;s really happening since it&#39;s not throwing an error."}, {"owner": {"reputation": 2445, "user_id": 506205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a45226708eef2a764d55d3caf3a34d68?s=128&d=identicon&r=PG", "display_name": "Nathan McKaskle", "link": "https://stackoverflow.com/users/506205/nathan-mckaskle"}, "edited": false, "score": 0, "creation_date": 1444858537, "post_id": 33135752, "comment_id": 54083553, "body": "Updated my post just now."}], "tags": [], "owner": {"reputation": 302, "user_id": 5419381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85b8d3139ea6cba07653808bd4f83e5e?s=128&d=identicon&r=PG&f=1", "display_name": "duct_tape_coder", "link": "https://stackoverflow.com/users/5419381/duct-tape-coder"}, "is_accepted": false, "score": 0, "last_activity_date": 1444857545, "creation_date": 1444857545, "answer_id": 33135752, "question_id": 33133401, "link": "https://stackoverflow.com/questions/33133401/c-and-powershell-how-do-i-add-comma-delimited-parameters/33135752#33135752", "title": "C# and PowerShell: How do I add comma delimited parameters?", "body": "<p>Powershell doesn't always treat commas as delimiters as you might expect. Try using spaces or parenthesis (or all three: \"(Value), (value2), (value3)\").</p>\n\n<p>@Eris already suggested an array;</p>\n\n<pre><code>$item = @()\n$item += \"-r\"\n$item += (\"diskLocatorName=\" + diskLocatorName + \", \" + \"siteName=\" + siteName + \", \" + \"storeName=\" + storeName)\nfunction($item)\n</code></pre>\n\n<p>You could also try an intermediate variable:</p>\n\n<pre><code>$item = (\"diskLocatorName=\" + diskLocatorName + \", \" + \"siteName=\" + siteName + \", \" + \"storeName=\" + storeName)\nfunction((\"-r\"), ($item))\n</code></pre>\n\n<p>It should be noted that string concatenation for an array needs a parenthesis. <code>$test = \"a\"+\"b\"</code> fails but <code>$test = (\"a\"+\"b\")</code> succeeds. Omitting the parenthesis results in multiple array elements.</p>\n"}], "owner": {"reputation": 2445, "user_id": 506205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a45226708eef2a764d55d3caf3a34d68?s=128&d=identicon&r=PG", "display_name": "Nathan McKaskle", "link": "https://stackoverflow.com/users/506205/nathan-mckaskle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 759, "favorite_count": 0, "accepted_answer_id": 33133996, "answer_count": 2, "score": 0, "last_activity_date": 1444860330, "creation_date": 1444848917, "last_edit_date": 1444859752, "question_id": 33133401, "link": "https://stackoverflow.com/questions/33133401/c-and-powershell-how-do-i-add-comma-delimited-parameters", "title": "C# and PowerShell: How do I add comma delimited parameters?", "body": "<p>I'm trying to run a command and it's not working, here is the command which works just fine at the PowerShell command prompt:</p>\n\n<p><code>mcli-add DiskLocator -r diskLocatorName=XAShared-2015-10-13, siteName=mysite, storeName=pvs_prod</code></p>\n\n<p>Here is the code I'm trying to use to make that command work. I've tried a number of methods (see commented lines), from having it all in one line to having it in separate parameters to not putting the commas and putting the commas. The parameter name is -p, the parts after that are the arguments.</p>\n\n<p>Here's the code as I have it now, attempting to capture the output which seems successful but it's not actually doing anything, I'm getting <code>Executing: Add DiskLocator</code> in the event log but I am not seeing the second result which should be <code>Add Succeeded.</code> followed by a result ID:</p>\n\n<pre><code>using (Runspace runspace = RunspaceFactory.CreateRunspace())\n            {\n                runspace.Open();\n                PowerShell ps = PowerShell.Create();\n                ps.Runspace = runspace;\n                PSSnapInException psex;\n                runspace.RunspaceConfiguration.AddPSSnapIn(\"McliPSSnapIn\", out psex);\n\n                Pipeline pipeline = runspace.CreatePipeline();\n\n                Command mcliAdd = new Command(\"mcli-add\");\n                mcliAdd.Parameters.Add(null, \"DiskLocator\");\n                mcliAdd.Parameters.Add(\"-r\", \"diskLocatorName=\" + diskLocatorName + \", \" + \"siteName=\" + siteName + \", \" + \"storeName=\" + storeName);\n                //mcliAdd.Parameters.Add(\"siteName=\" + siteName + \", \");\n                //mcliAdd.Parameters.Add(\"storeName=\" + storeName);\n                pipeline.Commands.Add(mcliAdd);\n                Collection&lt;PSObject&gt; output = pipeline.Invoke();\n                foreach (PSObject x in output)\n                {\n                    log.WriteEntry(x.ToString(), EventLogEntryType.Information);\n                }\n            }\n</code></pre>\n\n<p>Errors I have gotten with the commented lines uncommented are like this:</p>\n\n<p>A parameter cannot be found that matches parameter name 'siteName=mysite'</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Even weirder is this, I can put this line here any way I want it after the comma and it won't throw an error:</p>\n\n<pre><code>mcliAdd.Parameters.Add(\"r\", \"who cares what I put here nothing happens\");\n</code></pre>\n\n<p>This leads me to believe that the DiskLocator argument isn't being used right. I can't use it as a parameter because it says that's not a parameter name. </p>\n\n<p>However this can't be true because if I remove it or the -r it either says DiskLocator is missing or that -r is missing. If I pass only -r without the other details it throws an error complaining that there's no string[] array values. So I'm at a loss here. It SHOULD throw an error if I don't provide the entire array, but it's not even throwing an error when I pass just the disklocatorname part.</p>\n"}, {"tags": ["c#", "build", "npgsql", "dnx"], "answers": [{"comments": [{"owner": {"reputation": 2194, "user_id": 1064724, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/11922fd05a0eb2b294a5068b40590904?s=128&d=identicon&r=PG", "display_name": "Rafael", "link": "https://stackoverflow.com/users/1064724/rafael"}, "edited": false, "score": 0, "creation_date": 1444852895, "post_id": 33133923, "comment_id": 54080598, "body": "Yes, I have forked the develop branch and it says that is even with the original branch.How do I run the dnu build? The project.json have a   &quot;commands&quot;: {     &quot;rewrite-async&quot;: &quot;AsyncRewriter&quot;   }, so I believe it&#39;s correct."}, {"owner": {"reputation": 2194, "user_id": 1064724, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/11922fd05a0eb2b294a5068b40590904?s=128&d=identicon&r=PG", "display_name": "Rafael", "link": "https://stackoverflow.com/users/1064724/rafael"}, "edited": false, "score": 1, "creation_date": 1444853672, "post_id": 33133923, "comment_id": 54081053, "body": "Ok I figured out I just have to run the dnu restore before running the dnu build. Thanks!"}], "tags": [], "owner": {"reputation": 11446, "user_id": 640325, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/018fc595a3e6b1ac5c18cb27e73a066d?s=128&d=identicon&r=PG", "display_name": "Shay Rojansky", "link": "https://stackoverflow.com/users/640325/shay-rojansky"}, "is_accepted": true, "score": 2, "last_activity_date": 1444850740, "creation_date": 1444850740, "answer_id": 33133923, "question_id": 33133157, "link": "https://stackoverflow.com/questions/33133157/how-to-build-npgsql/33133923#33133923", "title": "How to build Npgsql?", "body": "<p>Npgsql uses code generation to create async methods based on sync user-written methods. This is a step in the build that happens before compilation, and creates the GeneratedAsync.cs file.</p>\n\n<p>If you're trying to build with DNX (project.json), this step has very recently been integrated into the build via a DNX project command, and added as a prebuild script - so async rewriting should happen transparently when you run <code>dnu build</code>.</p>\n\n<p>Can you make sure you're on the absolute latest dev commit?</p>\n"}], "owner": {"reputation": 2194, "user_id": 1064724, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/11922fd05a0eb2b294a5068b40590904?s=128&d=identicon&r=PG", "display_name": "Rafael", "link": "https://stackoverflow.com/users/1064724/rafael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 2, "accepted_answer_id": 33133923, "answer_count": 1, "score": 1, "last_activity_date": 1444850740, "creation_date": 1444848098, "question_id": 33133157, "link": "https://stackoverflow.com/questions/33133157/how-to-build-npgsql", "title": "How to build Npgsql?", "body": "<p>I'm trying to contribute to the Npgsql project with a feature that I need, which is support for the <strong>GREATEST</strong> postgre function. (Convert a > b ? a : b to greatest instead of CASE statements)</p>\n\n<p>But I can't make it compile because there are many <em>MethodName</em> <strong>Async</strong> that doesn't exist.</p>\n\n<p>I guess that the <strong>AsyncRewriter</strong> package takes care of method generation but I don't know how.</p>\n\n<p>Does anyone have experience contributing to the project?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "random"], "comments": [{"owner": {"reputation": 394243, "user_id": 50079, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ud1xq.png?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/50079/jon"}, "edited": false, "score": 2, "creation_date": 1444848148, "post_id": 33133142, "comment_id": 54077845, "body": "If your ultimate goal is to get N random numbers from 0 to 100 without duplicates, this is not quite the way to do it."}, {"owner": {"reputation": 5969, "user_id": 4320665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0cDQG.png?s=128&g=1", "display_name": "ryanyuyu", "link": "https://stackoverflow.com/users/4320665/ryanyuyu"}, "edited": false, "score": 4, "creation_date": 1444848216, "post_id": 33133142, "comment_id": 54077890, "body": "It might be a lot easier to just create a list from 0-100, shuffle the list, and then pop the first element one at a time."}, {"owner": {"reputation": 6307, "user_id": 1246574, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5dd278bc90102747bb880533fa709b82?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1246574/jim"}, "edited": false, "score": 1, "creation_date": 1444848283, "post_id": 33133142, "comment_id": 54077927, "body": "Unless you&#39;re seriously concerned about the performance, the best way to do this is to store the numbers you&#39;ve generated so far in a list, and if you happen to roll a number that&#39;s already in the list, just skip it and roll again."}, {"owner": {"reputation": 394243, "user_id": 50079, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ud1xq.png?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/50079/jon"}, "reply_to_user": {"reputation": 6307, "user_id": 1246574, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5dd278bc90102747bb880533fa709b82?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1246574/jim"}, "edited": false, "score": 1, "creation_date": 1444848311, "post_id": 33133142, "comment_id": 54077940, "body": "@Jim in what way exactly is that &quot;best&quot;?"}, {"owner": {"reputation": 6307, "user_id": 1246574, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5dd278bc90102747bb880533fa709b82?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1246574/jim"}, "reply_to_user": {"reputation": 394243, "user_id": 50079, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ud1xq.png?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/50079/jon"}, "edited": false, "score": 0, "creation_date": 1444848409, "post_id": 33133142, "comment_id": 54077997, "body": "@Jon, perhaps I should have said &quot;easiest way I know how off the top of my head&quot;."}, {"owner": {"reputation": 3117, "user_id": 1585868, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5a0379b0735326a4d3dd0a18515e32af?s=128&d=identicon&r=PG", "display_name": "leigero", "link": "https://stackoverflow.com/users/1585868/leigero"}, "reply_to_user": {"reputation": 6307, "user_id": 1246574, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5dd278bc90102747bb880533fa709b82?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1246574/jim"}, "edited": false, "score": 0, "creation_date": 1444848481, "post_id": 33133142, "comment_id": 54078039, "body": "@Jim that seems like a really inefficient way to handle this. You&#39;ll inevitably end up with 99 of the 100 random numbers and the code will just sit there spinning all day until it ends up hitting that 100th number"}, {"owner": {"reputation": 2118, "user_id": 2787364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lxZ8k.png?s=128&g=1", "display_name": "Cosmin Ioni\u021b\u0103", "link": "https://stackoverflow.com/users/2787364/cosmin-ioni%c8%9b%c4%83"}, "edited": false, "score": 0, "creation_date": 1444848579, "post_id": 33133142, "comment_id": 54078102, "body": "Yes, I already thought about that and I&#39;ve seen that it might be inneficient."}], "answers": [{"comments": [{"owner": {"reputation": 3117, "user_id": 1585868, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5a0379b0735326a4d3dd0a18515e32af?s=128&d=identicon&r=PG", "display_name": "leigero", "link": "https://stackoverflow.com/users/1585868/leigero"}, "edited": false, "score": 0, "creation_date": 1444848601, "post_id": 33133229, "comment_id": 54078120, "body": "This will work, but should not be used if you&#39;re even remotely concerned about efficiency. This relies on luck/chance to eventually land a number you don&#39;t already have."}, {"owner": {"reputation": 4235, "user_id": 3167751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63gCs.jpg?s=128&g=1", "display_name": "Xavier J", "link": "https://stackoverflow.com/users/3167751/xavier-j"}, "edited": false, "score": 0, "creation_date": 1444848756, "post_id": 33133229, "comment_id": 54078209, "body": "A SortedList would be more efficient.  &quot;Luck&quot;???"}, {"owner": {"reputation": 394243, "user_id": 50079, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ud1xq.png?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/50079/jon"}, "edited": false, "score": 0, "creation_date": 1444848778, "post_id": 33133229, "comment_id": 54078225, "body": "@Ioni\u0163\u0103Cosmin pretty much any solution is better than this, and they are not hard to find. Here&#39;s someone who knows a lot explaining: <a href=\"http://stackoverflow.com/questions/2351308/random-number-generator-in-c-sharp-unique-values/2351735#2351735\" title=\"random number generator in c sharp unique values\">stackoverflow.com/questions/2351308/&hellip;</a>"}, {"owner": {"reputation": 3117, "user_id": 1585868, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5a0379b0735326a4d3dd0a18515e32af?s=128&d=identicon&r=PG", "display_name": "leigero", "link": "https://stackoverflow.com/users/1585868/leigero"}, "edited": false, "score": 0, "creation_date": 1444848883, "post_id": 33133229, "comment_id": 54078282, "body": "Yes luck, what if you wand a number between 0-10 million with the same logic? Eventually you&#39;ll have 9,999,999 numbers in your list and you&#39;ll be stuck in that loop all day waiting on &quot;luck&quot; to hit the one number you don&#39;t yet have."}, {"owner": {"reputation": 4235, "user_id": 3167751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63gCs.jpg?s=128&g=1", "display_name": "Xavier J", "link": "https://stackoverflow.com/users/3167751/xavier-j"}, "edited": false, "score": 0, "creation_date": 1444849012, "post_id": 33133229, "comment_id": 54078356, "body": "That&#39;s the point of using a SortedList, which coincidentally Jon&#39;s example basically covers by implementing a sort.  But realistically, the example ONLY specified 100 numbers.  K I S S."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1444850236, "post_id": 33133229, "comment_id": 54079078, "body": "@codenoire If you want to keep it simple then just re-use an already existing correct and efficient solution to an already solved problem rather than writing your own very poor implementation."}], "tags": [], "owner": {"reputation": 4235, "user_id": 3167751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63gCs.jpg?s=128&g=1", "display_name": "Xavier J", "link": "https://stackoverflow.com/users/3167751/xavier-j"}, "is_accepted": false, "score": -2, "last_activity_date": 1444848331, "creation_date": 1444848331, "answer_id": 33133229, "question_id": 33133142, "link": "https://stackoverflow.com/questions/33133142/adjust-random-generator-range-dynamically-by-excluding-numbers/33133229#33133229", "title": "Adjust random generator range dynamically by excluding numbers?", "body": "<p>Make a list of integers</p>\n\n<pre><code>var myList = new List&lt;int&gt;();\nvar myrandom = new Random();\n</code></pre>\n\n<p>When you need a random, do this:</p>\n\n<pre><code>int newRandom;\nwhile(true){\n    newRandom = myrandom.Next(0,100);\n    if (!myList.Contains(newRandom)){\n        myList.Add(newRandom);\n        break;\n    }\n}\n//continue execution here\nSystem.Diagnostics.Debug.Print(newRandom);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1444850126, "post_id": 33133395, "comment_id": 54079012, "body": "Note that this is an O(n^2) algorithm for solving this problem that&#39;s trivially solvable in O(n) time."}, {"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1444850728, "post_id": 33133395, "comment_id": 54079363, "body": "Agreed. But a trivial difference with small n&#39;s. I&#39;ll fix that anyway."}], "tags": [], "owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "is_accepted": false, "score": 0, "last_activity_date": 1444851336, "last_edit_date": 1444851336, "creation_date": 1444848888, "answer_id": 33133395, "question_id": 33133142, "link": "https://stackoverflow.com/questions/33133142/adjust-random-generator-range-dynamically-by-excluding-numbers/33133395#33133395", "title": "Adjust random generator range dynamically by excluding numbers?", "body": "<p>The idea in the code below (not guaranteed to compile...it's off the top of my head), is to make a list of the available numbers, then randomly pick from that list, removing them as they're selected. This avoids excessive generation of random numbers. You only need to generate 99 random numbers. When you get to only one number left, you simply add that one at the end.</p>\n\n<pre><code>var countWanted = 100;\nvar dest = new List&lt;int&gt;(countWanted);\nvar source = new List&lt;int&gt;();\nfor (int i = 0; i &lt; 100 ; i++) source.Add(i);\nvar r = new Random();\nfor (int i = 100; i &gt; 100-countWanted; i--)\n    var n = r.Next(0,i);\n    dest.Add(source[n]);\n    source[n] = source[i-1];\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1444849426, "post_id": 33133472, "comment_id": 54078602, "body": "Will this still work in the unlikely but possible event that the generator gives you the same value more than once?"}, {"owner": {"reputation": 4861, "user_id": 680337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cfdd8a4bf1e6757eea886696a1e83fa?s=128&d=identicon&r=PG&f=1", "display_name": "Janne Matikainen", "link": "https://stackoverflow.com/users/680337/janne-matikainen"}, "reply_to_user": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1444849480, "post_id": 33133472, "comment_id": 54078633, "body": "Of course, it is just for the order..."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 1, "creation_date": 1444850071, "post_id": 33133472, "comment_id": 54078977, "body": "@hatchet It cases a small bias in the results.  <code>OrderBy</code> uses a stable sort, so the item earlier in the sequence appears first as a tiebreaker if the sort item is the same.  That means that if you&#39;re ordering a 2-item list, the first item has a 1/(2^32) greater chance of being the first item in the result.  For some people that&#39;s a small enough discrepancy from an even sort as to ignore, but it&#39;s entirely possible that for certain applications that&#39;s a non-negligible deviation from true even distribution."}], "tags": [], "owner": {"reputation": 4861, "user_id": 680337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cfdd8a4bf1e6757eea886696a1e83fa?s=128&d=identicon&r=PG&f=1", "display_name": "Janne Matikainen", "link": "https://stackoverflow.com/users/680337/janne-matikainen"}, "is_accepted": false, "score": 1, "last_activity_date": 1444849670, "last_edit_date": 1444849670, "creation_date": 1444849172, "answer_id": 33133472, "question_id": 33133142, "link": "https://stackoverflow.com/questions/33133142/adjust-random-generator-range-dynamically-by-excluding-numbers/33133472#33133472", "title": "Adjust random generator range dynamically by excluding numbers?", "body": "<p>This would create <em>count</em> unique random numbers in range of 0 - 100</p>\n\n<pre><code>public IEnumerable&lt;int&gt; Randomize(int count, int seed)\n{\n    var generator = new Random(seed);\n\n    return Enumerable.Range(0, 100)\n      .Select(x =&gt; new { Value = x, SortOrder = generator.Next() })\n      .OrderBy(x =&gt; x.SortOrder)\n      .Select(x =&gt; x.Value)\n      .Take(count);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4861, "user_id": 680337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cfdd8a4bf1e6757eea886696a1e83fa?s=128&d=identicon&r=PG&f=1", "display_name": "Janne Matikainen", "link": "https://stackoverflow.com/users/680337/janne-matikainen"}, "edited": false, "score": 0, "creation_date": 1444849597, "post_id": 33133527, "comment_id": 54078702, "body": "True, didn&#39;t think of that, clever."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1444849903, "post_id": 33133527, "comment_id": 54078884, "body": "GUIDs are not random."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1444850341, "post_id": 33133527, "comment_id": 54079132, "body": "@w.b But GUIDS aren&#39;t even designed to <i>approximate</i> randomness.  <code>Random</code> is as close of an approximation to true randomness as is feasible.  GUIDs are entirely free to return values that are always sequential (and in fact will do exactly that using certain GUID generation algorithms) which would result in this code always returning the original set."}], "tags": [], "owner": {"reputation": 10220, "user_id": 2720372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/olQxk.jpg?s=128&g=1", "display_name": "w.b", "link": "https://stackoverflow.com/users/2720372/w-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1444849337, "creation_date": 1444849337, "answer_id": 33133527, "question_id": 33133142, "link": "https://stackoverflow.com/questions/33133142/adjust-random-generator-range-dynamically-by-excluding-numbers/33133527#33133527", "title": "Adjust random generator range dynamically by excluding numbers?", "body": "<p>You don't even need <code>Random</code> object:</p>\n\n<pre><code>var uniqueRandomNums = Enumerable.Range(0, 100)\n                       .OrderBy(n =&gt; Guid.NewGuid())\n                       .Take(num)\n                       .ToList();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1444850154, "post_id": 33133579, "comment_id": 54079029, "body": "Note that this is an O(n^2) algorithm for solving this problem that&#39;s trivially solvable in O(n) time."}, {"owner": {"reputation": 43256, "user_id": 57611, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fbIWO.jpg?s=128&g=1", "display_name": "ErikE", "link": "https://stackoverflow.com/users/57611/erike"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1444850446, "post_id": 33133579, "comment_id": 54079192, "body": "@Servy Where&#39;s the n^2? It loops through the number of items once to generate one of each number\u2014that&#39;s <i>n</i>. Then it serves them up one at a time, which is also <i>n</i>. O(2n) is O(n)."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 43256, "user_id": 57611, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fbIWO.jpg?s=128&g=1", "display_name": "ErikE", "link": "https://stackoverflow.com/users/57611/erike"}, "edited": false, "score": 0, "creation_date": 1444850520, "post_id": 33133579, "comment_id": 54079234, "body": "@ErikE Generating each number, in your example, is an O(n) operation, because you&#39;re removing the item from a <code>List</code>., and you do that O(n) operation n times, which is O(n^2)."}, {"owner": {"reputation": 43256, "user_id": 57611, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fbIWO.jpg?s=128&g=1", "display_name": "ErikE", "link": "https://stackoverflow.com/users/57611/erike"}, "edited": false, "score": 0, "creation_date": 1444850641, "post_id": 33133579, "comment_id": 54079315, "body": "Ah, you&#39;re saying List removal is O(n) itself. Okay, thanks. Would a data structure that offers O(1) removal fix the problem (a LinkedList comes to mind)?"}, {"owner": {"reputation": 43256, "user_id": 57611, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fbIWO.jpg?s=128&g=1", "display_name": "ErikE", "link": "https://stackoverflow.com/users/57611/erike"}, "edited": false, "score": 0, "creation_date": 1444850801, "post_id": 33133579, "comment_id": 54079402, "body": "Or a Fisher-Yates shuffle... as long as one realizes that it can be really hard to get equal chance of every possible combination without using a cryptographic-quality RNG with hundreds or thousands of bits of entrpy."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 43256, "user_id": 57611, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fbIWO.jpg?s=128&g=1", "display_name": "ErikE", "link": "https://stackoverflow.com/users/57611/erike"}, "edited": false, "score": 0, "creation_date": 1444850888, "post_id": 33133579, "comment_id": 54079446, "body": "@ErikE A <code>LinkedLIst</code> is O(n) removal as you have to traverse the structure to find the item to remove."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 43256, "user_id": 57611, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fbIWO.jpg?s=128&g=1", "display_name": "ErikE", "link": "https://stackoverflow.com/users/57611/erike"}, "edited": false, "score": 0, "creation_date": 1444850999, "post_id": 33133579, "comment_id": 54079514, "body": "@ErikE A Fisher-Yates shuffle would be an entirely appropriate solution to this problem.  Note that your proposed solution has exactly the same problem as that approach in that if your RNG doesn&#39;t have sufficient entropy for the data you&#39;re shuffling then not all solutions are possible.  The solution to that however is to use cryptographically strong RNG, not to use a different shuffling algorithm."}, {"owner": {"reputation": 43256, "user_id": 57611, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fbIWO.jpg?s=128&g=1", "display_name": "ErikE", "link": "https://stackoverflow.com/users/57611/erike"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1444853049, "post_id": 33133579, "comment_id": 54080689, "body": "@Servy Clearly I need to stop doing drive-by analysis, and really think about things because it&#39;s immediately obvious that a linked list has O(n) traversal. Now about my proposed solution other than Fisher-Yates... what is that? I don&#39;t have any other proposed solutions?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 43256, "user_id": 57611, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fbIWO.jpg?s=128&g=1", "display_name": "ErikE", "link": "https://stackoverflow.com/users/57611/erike"}, "edited": false, "score": 0, "creation_date": 1444853270, "post_id": 33133579, "comment_id": 54080838, "body": "@ErikE There are lots of variations, and other comparable algorithms, but a fisher-yates would be entirely appropriate and more effective than what you&#39;ve mentioned."}, {"owner": {"reputation": 43256, "user_id": 57611, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fbIWO.jpg?s=128&g=1", "display_name": "ErikE", "link": "https://stackoverflow.com/users/57611/erike"}, "edited": false, "score": 0, "creation_date": 1444853800, "post_id": 33133579, "comment_id": 54081129, "body": "What have I mentioned? Do you mean a <code>LinkedList</code>? I haven&#39;t mentioned any other solutions."}], "tags": [], "owner": {"reputation": 11, "user_id": 3223795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e91c0af45778452b8785eec81b9d8cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Kennnnnnnn", "link": "https://stackoverflow.com/users/3223795/kennnnnnnn"}, "is_accepted": false, "score": 0, "last_activity_date": 1444849528, "creation_date": 1444849528, "answer_id": 33133579, "question_id": 33133142, "link": "https://stackoverflow.com/questions/33133142/adjust-random-generator-range-dynamically-by-excluding-numbers/33133579#33133579", "title": "Adjust random generator range dynamically by excluding numbers?", "body": "<p>A class like this will do it nicely:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\n\nnamespace RandomTools\n{\n    public class NonRepeatingRandom\n    {\n        private Random _random;\n        private List&lt;int&gt; _possibleValues;\n\n        public NonRepeatingRandom(int minValue, int maxValue)\n        {\n            _random = new Random();\n            _possibleValues = new List&lt;int&gt;();\n\n            for (var i = minValue; i &lt; maxValue; i++)\n            {\n                _possibleValues.Add(i);\n            }\n        }\n\n        public int Next()\n        {\n            var possibleValuesCount = _possibleValues.Count;\n            if (possibleValuesCount == 0)\n            {\n                return -1;\n            }\n\n            var nextIndex = _random.Next(0, possibleValuesCount);\n            var nextValue = _possibleValues[nextIndex];\n            _possibleValues.RemoveAt(nextIndex);\n\n            return nextValue;\n        }\n    }\n}\n</code></pre>\n\n<p>And you can simply use it like this:</p>\n\n<pre><code>using RandomTools;\n</code></pre>\n\n<p>....</p>\n\n<pre><code>var myRandom = new NonRepeatingRandom(0, 100);\nvar nextValue = myRandom.Next();\n</code></pre>\n\n<p>When you've exhausted every possible value, it will return -1.</p>\n"}], "owner": {"reputation": 2118, "user_id": 2787364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lxZ8k.png?s=128&g=1", "display_name": "Cosmin Ioni\u021b\u0103", "link": "https://stackoverflow.com/users/2787364/cosmin-ioni%c8%9b%c4%83"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "closed_date": 1444850672, "answer_count": 5, "score": -1, "last_activity_date": 1444851336, "creation_date": 1444848035, "last_edit_date": 1444848387, "question_id": 33133142, "link": "https://stackoverflow.com/questions/33133142/adjust-random-generator-range-dynamically-by-excluding-numbers", "closed_reason": "Duplicate", "title": "Adjust random generator range dynamically by excluding numbers?", "body": "<p>I want to know if there is possible to perform the following situation:</p>\n\n<p>I generate numbers in a specified range with a Random object, for example:</p>\n\n<pre><code>Random generator = new Random(0, 100);\n</code></pre>\n\n<p>If I type <code>generator.next()</code>, I get the number <code>40</code> (for example). Now, when I type again <code>generator.next()</code>, I want to get a new random number, in the range <code>(0 - 39, 41 - 100)</code>. So I want to eliminate the generated numbers from the generator's range.</p>\n\n<p>Is this possible?</p>\n"}, {"tags": ["c#", ".net", "asp.net-mvc-5", "cqrs", "nservicebus5"], "comments": [{"owner": {"reputation": 12917, "user_id": 937440, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5ba5f9ad02a9ab43d4664d17747a1230?s=128&d=identicon&r=PG", "display_name": "w0051977", "link": "https://stackoverflow.com/users/937440/w0051977"}, "edited": false, "score": 0, "creation_date": 1526984959, "post_id": 33133141, "comment_id": 87943991, "body": "+1, how did you approach this in the end? Do you create two messages (one for write and one for read) or do you execute the write insert and then create a message for the read? Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 3381, "user_id": 162569, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9724dc2eb89c7772fb5f9d694af978b2?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/162569/john"}, "edited": false, "score": 0, "creation_date": 1444856684, "post_id": 33134393, "comment_id": 54082714, "body": "but what if something goes wrong, e.g. the read store cannot be updated, or the command store cannot be updated. Shouldn&#39;t both operations be within some sort of transaction? Thanks for your help."}, {"owner": {"reputation": 3303, "user_id": 3084239, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyPUO.jpg?s=128&g=1", "display_name": "radu-matei", "link": "https://stackoverflow.com/users/3084239/radu-matei"}, "reply_to_user": {"reputation": 3381, "user_id": 162569, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9724dc2eb89c7772fb5f9d694af978b2?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/162569/john"}, "edited": false, "score": 0, "creation_date": 1444858720, "post_id": 33134393, "comment_id": 54083644, "body": "That&#39;s why it&#39;s called eventual consistency. If something goes wrong in the event handler that updated the read data, you can always just flag that it went wrong and retry the execution.  (Since you have very granular event handlers, you won&#39;t have to do a thing 2 times)"}, {"owner": {"reputation": 3381, "user_id": 162569, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9724dc2eb89c7772fb5f9d694af978b2?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/162569/john"}, "edited": false, "score": 0, "creation_date": 1444865408, "post_id": 33134393, "comment_id": 54086221, "body": "Ok. So &quot;flag&quot; means I would raise another event (e.g. SyncFailedEvent) that would be handled in the MVC app, e.g. to notify the user of the error? And this also goes through the NServiceBus?"}, {"owner": {"reputation": 3303, "user_id": 3084239, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyPUO.jpg?s=128&g=1", "display_name": "radu-matei", "link": "https://stackoverflow.com/users/3084239/radu-matei"}, "reply_to_user": {"reputation": 3381, "user_id": 162569, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9724dc2eb89c7772fb5f9d694af978b2?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/162569/john"}, "edited": false, "score": 0, "creation_date": 1444894079, "post_id": 33134393, "comment_id": 54094823, "body": "I&#39;m not sure that the end user needs to know that the read model hasn&#39;t been successfully updated, but you can either raise an event that it failed, or catch it in a try-catch block."}, {"owner": {"reputation": 12917, "user_id": 937440, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5ba5f9ad02a9ab43d4664d17747a1230?s=128&d=identicon&r=PG", "display_name": "w0051977", "link": "https://stackoverflow.com/users/937440/w0051977"}, "edited": false, "score": 0, "creation_date": 1526984990, "post_id": 33134393, "comment_id": 87944008, "body": "+1, how did you approach this in the end? Do you create two messages (one for write and one for read) or do you execute the write insert and then create a message for the read? Thanks."}], "tags": [], "owner": {"reputation": 3303, "user_id": 3084239, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyPUO.jpg?s=128&g=1", "display_name": "radu-matei", "link": "https://stackoverflow.com/users/3084239/radu-matei"}, "is_accepted": false, "score": 1, "last_activity_date": 1444852336, "creation_date": 1444852336, "answer_id": 33134393, "question_id": 33133141, "link": "https://stackoverflow.com/questions/33133141/in-cqrs-how-to-work-with-nservicebus-to-update-command-and-query-store/33134393#33134393", "title": "In CQRS how to work with NServiceBus to update Command and Query store", "body": "<p>The flow I see is the following: </p>\n\n<ul>\n<li>the controller receives an action and emits a command in the command bus</li>\n<li>the proper command handler gets fired and the write models get updated</li>\n<li>in the command handler, an event is fired</li>\n<li>the proper event handler gets fired and the read models get updated</li>\n</ul>\n\n<p>So updating the read models get done in an event handler - hence the eventual consistency</p>\n\n<p>Hope this helps! Best of luck!</p>\n"}], "owner": {"reputation": 3381, "user_id": 162569, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9724dc2eb89c7772fb5f9d694af978b2?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/162569/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1444852336, "creation_date": 1444848032, "question_id": 33133141, "link": "https://stackoverflow.com/questions/33133141/in-cqrs-how-to-work-with-nservicebus-to-update-command-and-query-store", "title": "In CQRS how to work with NServiceBus to update Command and Query store", "body": "<p>In CQRS, how do you make sure a command handler is updating the write store and read store transactionally?</p>\n\n<p>I am not sure if these two steps are suppoed to be a transaction?\nOr do you rely on eventual consistency here? Meaning the read store will be updated eventually?</p>\n\n<p><strong>What is the (or a) common way to do this using NServiceBus 5 or 6?</strong></p>\n\n<p>In our application, we have <code>IRepository&lt;T&gt;</code> (Add, Update) for the command side to update Sql Server database.\nThe query side is simple. A database and a facade on top of Entity Framework <code>DbContext</code>.</p>\n\n<p>The steps on the command side would be:</p>\n\n<ol>\n<li>MVC controller receives data from View</li>\n<li>controller action creates a Command/Message object and sends it to the bus.</li>\n<li>The proper command handler creates the appropriate domain object and does validation on it.</li>\n<li>If valid, uses IRepository to insert or update the database.</li>\n<li>Now what?</li>\n</ol>\n\n<p>Does this have to be a Saga in NServiceBus, where Step 1 and 2 update the command store and read store?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "wpf", "mvvm", "linq-to-sql"], "comments": [{"owner": {"reputation": 582, "user_id": 3895711, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JQOU8.jpg?s=128&g=1", "display_name": "Sandeep Kushwah", "link": "https://stackoverflow.com/users/3895711/sandeep-kushwah"}, "edited": false, "score": 0, "creation_date": 1444849095, "post_id": 33133084, "comment_id": 54078399, "body": "use try catch.. In catch block, just create a array of type <code>Department</code> and then return it to list(<code>return depArray;</code>) <code>Department[] depArray = new Department[2]; return  depArray; </code> Keep this thing in catch block."}, {"owner": {"reputation": 582, "user_id": 3895711, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JQOU8.jpg?s=128&g=1", "display_name": "Sandeep Kushwah", "link": "https://stackoverflow.com/users/3895711/sandeep-kushwah"}, "edited": false, "score": 0, "creation_date": 1444849530, "post_id": 33133084, "comment_id": 54078670, "body": "Or somthing like this : <code>catch             {                 return new Department[] { new Department() { A = 1, B = &quot;test&quot;, C = &quot;sdfa&quot; } };</code>             }"}, {"owner": {"reputation": 1, "user_id": 5446187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/154816ebaf146f28b65356d1d24baf40?s=128&d=identicon&r=PG&f=1", "display_name": "GPAndrei", "link": "https://stackoverflow.com/users/5446187/gpandrei"}, "reply_to_user": {"reputation": 582, "user_id": 3895711, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JQOU8.jpg?s=128&g=1", "display_name": "Sandeep Kushwah", "link": "https://stackoverflow.com/users/3895711/sandeep-kushwah"}, "edited": false, "score": 0, "creation_date": 1444850635, "post_id": 33133084, "comment_id": 54079313, "body": "The results from database are necessary, can&#39;t do that."}, {"owner": {"reputation": 156, "user_id": 2090888, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iS3cD.jpg?s=128&g=1", "display_name": "t.enix", "link": "https://stackoverflow.com/users/2090888/t-enix"}, "edited": false, "score": 0, "creation_date": 1444851551, "post_id": 33133084, "comment_id": 54079822, "body": "In your stacktrace there is a security exception. Maybe this helps: <a href=\"https://msdn.microsoft.com/en-us/library/system.methodaccessexception.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 5446187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/154816ebaf146f28b65356d1d24baf40?s=128&d=identicon&r=PG&f=1", "display_name": "GPAndrei", "link": "https://stackoverflow.com/users/5446187/gpandrei"}, "edited": false, "score": 0, "creation_date": 1444852826, "post_id": 33133084, "comment_id": 54080558, "body": "The link leads to MethodAccessException, which is not in the stack trace."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 0, "creation_date": 1444917954, "post_id": 33133084, "comment_id": 54110821, "body": "Does this happen everywhere, or on one machine?  Linq is attempting to use reflection to construct an instance, and this is being blocked by the runtime.  Might be some odd security setting on that user&#39;s machine, or maybe the executable/binary isn&#39;t trusted (e.g., copied or executed from a network drive), or maybe this is a universal app?  It isn&#39;t clear, and I&#39;ve never seen this before, so I can&#39;t say one way or another."}, {"owner": {"reputation": 1, "user_id": 5446187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/154816ebaf146f28b65356d1d24baf40?s=128&d=identicon&r=PG&f=1", "display_name": "GPAndrei", "link": "https://stackoverflow.com/users/5446187/gpandrei"}, "edited": false, "score": 0, "creation_date": 1444923428, "post_id": 33133084, "comment_id": 54114857, "body": "Thank you for your reply. Yes, this is happening occasionally not only on different machines but also in different places in the code when linq-to-sql tries to use System.Reflection. I am getting different kinds of stack traces from different linq-to-sql methods, like SingleOrDefault, Single, when converting results of Where query ToList(), when calling DataContext.Refresh(). I think our clients do not change any standard security settings. The application is installed from downloaded from internet setup file."}], "owner": {"reputation": 1, "user_id": 5446187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/154816ebaf146f28b65356d1d24baf40?s=128&d=identicon&r=PG&f=1", "display_name": "GPAndrei", "link": "https://stackoverflow.com/users/5446187/gpandrei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 449, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444917457, "creation_date": 1444847837, "last_edit_date": 1444917457, "question_id": 33133084, "link": "https://stackoverflow.com/questions/33133084/unable-to-cast-system-object-to-type-system-security-ipermission-at-system", "title": "Unable to cast System.Object[] to type System.Security.IPermission ... at System.Linq.Enumerable.ToList()", "body": "<p>I am trying to figure out and fix a crash (caused by InvalidCastException: Unable to cast object of type 'System.Object[]' to type 'System.Security.IPermission') which is happening from time to time on our client PCs when the following code is executed:</p>\n\n<pre><code>public List&lt;Department&gt; GetDepartmentList()\n{\n    return DB.Departments.Where(d =&gt; d.Gender == SelectedGender &amp;&amp; d.IsActive).ToList();\n}\n</code></pre>\n\n<p>Why is this exception happening?\nHow to fix that?</p>\n\n<p>I can not simply put it into try catch block because results from database are necessary.</p>\n\n<p>The code is executed on the main UI thread and no properties/methods are accessed from other threads.</p>\n\n<p>Gender here is an EntityRef property inside Department entity class:</p>\n\n<pre><code>[Column(Name = \"FK_Gender\")]\npublic int? FK_Gender_Id;\n\nprivate EntityRef&lt;Gender&gt; gender;\n[Association(Name = \"FK_Department_Gender\", IsForeignKey=true, Storage=\"gender\", ThisKey = \"FK_Gender_Id\")]\npublic Gender Gender\n{\n    get { return gender.Entity; }\n    set { gender.Entity = value; }\n}\n</code></pre>\n\n<p>GetDepartmentList is called from setter of SelectedGender property which is assigned when user clicks either Male or Female button on a UserControl through bound ICommand SelectGenderCommand:</p>\n\n<pre><code>private RelayCommand selectGenderCommand;\npublic ICommand SelectGenderCommand\n{\n    get\n    {\n        return selectGenderCommand ?? (selectGenderCommand = new RelayCommand(param =&gt;\n            {\n                var genderName = param as string;\n                SelectedGender = DB.Genders.Single(g =&gt; g.Description == genderName);\n                ...\n\nprivate Gender selectedGender;\npublic Gender SelectedGender\n{\n    get { return selectedGender; }\n    set\n    {\n        selectedGender = value;\n        DepartmentList = GetDepartmentList();\n        NotifyPropertyChanged(() =&gt; SelectedGender);\n        ...\n    }\n}\n</code></pre>\n\n<p>DB is a DataContext derived class instance and it is initialized in the constructor of a ViewModel where the GetDepartmentList method is located:</p>\n\n<pre><code>public InventoryItemSelectorViewModel(...\n{\n    DB = new Database();\n    DataLoadOptions dlo = new DataLoadOptions();\n    dlo.LoadWith&lt;Department&gt;(d =&gt; d.Gender);\n    DB.LoadOptions = dlo;\n    ...\n</code></pre>\n\n<p>The exception stack trace:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>System.InvalidCastException: Unable to cast object of type 'System.Object[]' to type 'System.Security.IPermission'.\n   at System.RuntimeMethodHandle.PerformSecurityCheck(Object obj, RuntimeMethodHandleInternal method, RuntimeType parent, UInt32 invocationFlags)\n   at System.RuntimeMethodHandle.PerformSecurityCheck(Object obj, IRuntimeMethodInfo method, RuntimeType parent, UInt32 invocationFlags)\n   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\n   at System.RuntimeType.CreateInstanceImpl(BindingFlags bindingAttr, Binder binder, Object[] args, CultureInfo culture, Object[] activationAttributes, StackCrawlMark&amp; stackMark)\n   at System.Activator.CreateInstance(Type type, BindingFlags bindingAttr, Binder binder, Object[] args, CultureInfo culture, Object[] activationAttributes)\n   at System.Activator.CreateInstance(Type type, BindingFlags bindingAttr, Binder binder, Object[] args, CultureInfo culture)\n   at System.Data.Linq.CommonDataServices.GetDeferredSourceFactory(MetaDataMember member)\n   at System.Data.Linq.SqlClient.ObjectReaderCompiler.ObjectReaderBase`1.GetNestedLinkSource[T](Int32 iGlobalLink, Int32 iLocalFactory, Object instance)\n   at Read_Department(ObjectMaterializer`1 )\n   at System.Data.Linq.SqlClient.ObjectReaderCompiler.ObjectReader`2.MoveNext()\n   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)\n   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)\n   at GPFC.ROIPOS.ViewModels.InventoryItemSelectorViewModel.GetDepartmentList() in e:\\Projects\\POS - Develop\\ROIPOS\\ROIPOS\\ViewModels\\InventoryItemSelectorViewModel.cs:line 1173\n   at GPFC.ROIPOS.ViewModels.InventoryItemSelectorViewModel.set_SelectedGender(Gender value) in e:\\Projects\\POS - Develop\\ROIPOS\\ROIPOS\\ViewModels\\InventoryItemSelectorViewModel.cs:line 202\n   at GPFC.ROIPOS.ViewModels.InventoryItemSelectorViewModel.&lt;get_SelectGenderCommand&gt;b__12(Object param) in e:\\Projects\\POS - Develop\\ROIPOS\\ROIPOS\\ViewModels\\InventoryItemSelectorViewModel.cs:line 978\n   at GPFC.ROIPOS.MVVM.RelayCommand.Execute(Object parameter) in e:\\Projects\\POS - Develop\\ROIPOS\\ROIPOS\\MVVM\\RelayCommand.cs:line 168\n   at MS.Internal.Commands.CommandHelpers.CriticalExecuteCommandSource(ICommandSource commandSource, Boolean userInitiated)\n   at System.Windows.Controls.Primitives.ButtonBase.OnClick()\n   at System.Windows.Controls.Primitives.ToggleButton.OnClick()\n   at System.Windows.Controls.Primitives.ButtonBase.OnMouseLeftButtonUp(MouseButtonEventArgs e)\n   at System.Windows.UIElement.OnMouseLeftButtonUpThunk(Object sender, MouseButtonEventArgs e)\n   at System.Windows.Input.MouseButtonEventArgs.InvokeEventHandler(Delegate genericHandler, Object genericTarget)\n   at System.Windows.RoutedEventArgs.InvokeHandler(Delegate handler, Object target)\n   at System.Windows.RoutedEventHandlerInfo.InvokeHandler(Object target, RoutedEventArgs routedEventArgs)\n   at System.Windows.EventRoute.InvokeHandlersImpl(Object source, RoutedEventArgs args, Boolean reRaised)\n   at System.Windows.UIElement.ReRaiseEventAs(DependencyObject sender, RoutedEventArgs args, RoutedEvent newEvent)\n   at System.Windows.UIElement.OnMouseUpThunk(Object sender, MouseButtonEventArgs e)\n   at System.Windows.Input.MouseButtonEventArgs.InvokeEventHandler(Delegate genericHandler, Object genericTarget)\n   at System.Windows.RoutedEventArgs.InvokeHandler(Delegate handler, Object target)\n   at System.Windows.RoutedEventHandlerInfo.InvokeHandler(Object target, RoutedEventArgs routedEventArgs)\n   at System.Windows.EventRoute.InvokeHandlersImpl(Object source, RoutedEventArgs args, Boolean reRaised)\n   at System.Windows.UIElement.RaiseEventImpl(DependencyObject sender, RoutedEventArgs args)\n   at System.Windows.UIElement.RaiseTrustedEvent(RoutedEventArgs args)\n   at System.Windows.UIElement.RaiseEvent(RoutedEventArgs args, Boolean trusted)\n   at System.Windows.Input.InputManager.ProcessStagingArea()\n   at System.Windows.Input.InputManager.ProcessInput(InputEventArgs input)\n   at System.Windows.Input.InputProviderSite.ReportInput(InputReport inputReport)\n   at System.Windows.Interop.HwndMouseInputProvider.ReportInput(IntPtr hwnd, InputMode mode, Int32 timestamp, RawMouseActions actions, Int32 x, Int32 y, Int32 wheel)\n   at System.Windows.Interop.HwndMouseInputProvider.FilterMessage(IntPtr hwnd, WindowMessage msg, IntPtr wParam, IntPtr lParam, Boolean&amp; handled)\n   at System.Windows.Interop.HwndSource.InputFilterMessage(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean&amp; handled)\n   at MS.Win32.HwndWrapper.WndProc(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean&amp; handled)\n   at MS.Win32.HwndSubclass.DispatcherCallbackOperation(Object o)\n   at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback, Object args, Int32 numArgs)\n   at MS.Internal.Threading.ExceptionFilterHelper.TryCatchWhen(Object source, Delegate method, Object args, Int32 numArgs, Delegate catchHandler)\n</code></pre>\n\n<p>One more detail which can be related to the question. Our application is running on several client PCs which all work with one local network database installed on one of the client PCs.</p>\n"}, {"tags": ["java", "c#", "android", "microsoft-band"], "comments": [{"owner": {"reputation": 2970, "user_id": 2760679, "user_type": "registered", "profile_image": "https://graph.facebook.com/700568209/picture?type=large", "display_name": "Lucas Crawford", "link": "https://stackoverflow.com/users/2760679/lucas-crawford"}, "edited": false, "score": 2, "creation_date": 1444848236, "post_id": 33133050, "comment_id": 54077904, "body": "That&#39; for you to decide. There are camps for Java and for c#. As an Android developer myself, I vote Java. It really does come down to preference, and you will find more resources and support developing in java"}, {"owner": {"reputation": 23, "user_id": 5446457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/451b9d8c50df9477102a8708de594510?s=128&d=identicon&r=PG&f=1", "display_name": "rebbiful", "link": "https://stackoverflow.com/users/5446457/rebbiful"}, "reply_to_user": {"reputation": 2970, "user_id": 2760679, "user_type": "registered", "profile_image": "https://graph.facebook.com/700568209/picture?type=large", "display_name": "Lucas Crawford", "link": "https://stackoverflow.com/users/2760679/lucas-crawford"}, "edited": false, "score": 0, "creation_date": 1445883505, "post_id": 33133050, "comment_id": 54501270, "body": "Thanks! Do you have any resources or classes to share?"}, {"owner": {"reputation": 2970, "user_id": 2760679, "user_type": "registered", "profile_image": "https://graph.facebook.com/700568209/picture?type=large", "display_name": "Lucas Crawford", "link": "https://stackoverflow.com/users/2760679/lucas-crawford"}, "edited": false, "score": 0, "creation_date": 1445883609, "post_id": 33133050, "comment_id": 54501339, "body": "Use, again being biased you are going to get a Java related course recommendation from me (and a course built by Google!) <a href=\"https://www.udacity.com/course/developing-android-apps--ud853\" rel=\"nofollow noreferrer\">udacity.com/course/developing-android-apps--ud853</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5446730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0178dc33816ff48d562ac8ace297529b?s=128&d=identicon&r=PG&f=1", "display_name": "DonMattez", "link": "https://stackoverflow.com/users/5446730/donmattez"}, "is_accepted": false, "score": 1, "last_activity_date": 1444855954, "creation_date": 1444855954, "answer_id": 33135382, "question_id": 33133050, "link": "https://stackoverflow.com/questions/33133050/android-app-using-microsoft-band-java-or-c/33135382#33135382", "title": "Android App using Microsoft Band: Java or C#?", "body": "<p>Some prefer to use the Mono-Project by Xamarin.</p>\n\n<p>This one allows to create applications crossplattform. The big advantage is that you can use the classes that offers the .net Framework.</p>\n\n<p>Link:\n<a href=\"http://www.mono-project.com/\" rel=\"nofollow\">http://www.mono-project.com/</a> </p>\n"}], "owner": {"reputation": 23, "user_id": 5446457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/451b9d8c50df9477102a8708de594510?s=128&d=identicon&r=PG&f=1", "display_name": "rebbiful", "link": "https://stackoverflow.com/users/5446457/rebbiful"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1444855954, "creation_date": 1444847755, "question_id": 33133050, "link": "https://stackoverflow.com/questions/33133050/android-app-using-microsoft-band-java-or-c", "title": "Android App using Microsoft Band: Java or C#?", "body": "<p>I'm planning on writing an app for an Android phone using the Microsoft Band. Android prefers using Java whereas Microsoft prefers using C#. Which would be easier program in?</p>\n\n<p>I have little experience in C# but am currently learning Java in school. </p>\n"}, {"tags": ["c#", "asp.net-mvc", "linq"], "comments": [{"owner": {"reputation": 25, "user_id": 5093943, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-GeKSb-5taRc/AAAAAAAAAAI/AAAAAAAAAB8/7LICv765MrA/photo.jpg?sz=128", "display_name": "k.nisha Cuty", "link": "https://stackoverflow.com/users/5093943/k-nisha-cuty"}, "edited": false, "score": 0, "creation_date": 1444847805, "post_id": 33133036, "comment_id": 54077639, "body": "In Console i am iterating underthat  action to view in console window.in mvc multiple iteration we need to do means do it in controller or else in view . which is best?"}, {"owner": {"reputation": 45352, "user_id": 1625737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/v8qtx.png?s=128&g=1", "display_name": "haim770", "link": "https://stackoverflow.com/users/1625737/haim770"}, "edited": false, "score": 0, "creation_date": 1444848205, "post_id": 33133036, "comment_id": 54077881, "body": "Why the <code>new { cat = category.CategoryName, PN = Productname }</code>?"}, {"owner": {"reputation": 25, "user_id": 5093943, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-GeKSb-5taRc/AAAAAAAAAAI/AAAAAAAAAB8/7LICv765MrA/photo.jpg?sz=128", "display_name": "k.nisha Cuty", "link": "https://stackoverflow.com/users/5093943/k-nisha-cuty"}, "reply_to_user": {"reputation": 45352, "user_id": 1625737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/v8qtx.png?s=128&g=1", "display_name": "haim770", "link": "https://stackoverflow.com/users/1625737/haim770"}, "edited": false, "score": 0, "creation_date": 1444849337, "post_id": 33133036, "comment_id": 54078550, "body": "here category name store in cat and Product list in PN , that means cat  i get choclates in PN  result have collections after that i have iterate and get the list of values."}], "answers": [{"tags": [], "owner": {"reputation": 461, "user_id": 5414993, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e8ldR.jpg?s=128&g=1", "display_name": "Varun Vasishtha", "link": "https://stackoverflow.com/users/5414993/varun-vasishtha"}, "is_accepted": false, "score": 0, "last_activity_date": 1444848348, "creation_date": 1444848348, "answer_id": 33133233, "question_id": 33133036, "link": "https://stackoverflow.com/questions/33133036/bind-a-linq-lambda-select-many-from-controller-to-view-in-mvc4-what-are-the-bes/33133233#33133233", "title": "Bind a Linq Lambda Select Many from Controller to view in MVC4? What are the Best ways to return in view", "body": "<p>Just a fetch a list of Product and take it to view then use the joined table like Product.Cateogry and loop in inner table.</p>\n"}, {"comments": [{"owner": {"reputation": 943, "user_id": 846993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/h6iIy.jpg?s=128&g=1", "display_name": "Derek Van Cuyk", "link": "https://stackoverflow.com/users/846993/derek-van-cuyk"}, "reply_to_user": {"reputation": 25, "user_id": 5093943, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-GeKSb-5taRc/AAAAAAAAAAI/AAAAAAAAAB8/7LICv765MrA/photo.jpg?sz=128", "display_name": "k.nisha Cuty", "link": "https://stackoverflow.com/users/5093943/k-nisha-cuty"}, "edited": false, "score": 0, "creation_date": 1444849665, "post_id": 33133366, "comment_id": 54078740, "body": "The short answer is that you can&#39;t if you want to define a model on the view. You have to use a known type and an anonymous type is not known. Some workarounds could be setting the data in ViewData (which seems somewhat less desirable) or possibly using a dynamic object."}, {"owner": {"reputation": 25, "user_id": 5093943, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-GeKSb-5taRc/AAAAAAAAAAI/AAAAAAAAAB8/7LICv765MrA/photo.jpg?sz=128", "display_name": "k.nisha Cuty", "link": "https://stackoverflow.com/users/5093943/k-nisha-cuty"}, "edited": false, "score": 0, "creation_date": 1444850074, "post_id": 33133366, "comment_id": 54078980, "body": "problem is here i am passing anonymous type i dont know how to get in view ,  and i will get the result when pass to the object and iterate it in view and get the result ,by using selectmany  lamda expression how to do it in view .because i don&#39;t want to iterate in view ."}, {"owner": {"reputation": 943, "user_id": 846993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/h6iIy.jpg?s=128&g=1", "display_name": "Derek Van Cuyk", "link": "https://stackoverflow.com/users/846993/derek-van-cuyk"}, "reply_to_user": {"reputation": 25, "user_id": 5093943, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-GeKSb-5taRc/AAAAAAAAAAI/AAAAAAAAAB8/7LICv765MrA/photo.jpg?sz=128", "display_name": "k.nisha Cuty", "link": "https://stackoverflow.com/users/5093943/k-nisha-cuty"}, "edited": false, "score": 0, "creation_date": 1444850076, "post_id": 33133366, "comment_id": 54078982, "body": "check out this thread: <a href=\"http://stackoverflow.com/questions/8820356/dynamic-type-in-mvc-view\" title=\"dynamic type in mvc view\">stackoverflow.com/questions/8820356/dynamic-type-in-mvc-view</a>"}, {"owner": {"reputation": 25, "user_id": 5093943, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-GeKSb-5taRc/AAAAAAAAAAI/AAAAAAAAAB8/7LICv765MrA/photo.jpg?sz=128", "display_name": "k.nisha Cuty", "link": "https://stackoverflow.com/users/5093943/k-nisha-cuty"}, "edited": false, "score": 0, "creation_date": 1444851643, "post_id": 33133366, "comment_id": 54079877, "body": "yes i understood , for this kind of scenario i have to create a separate class and set the property whatever we are passing and store in that and bind to view right.."}, {"owner": {"reputation": 943, "user_id": 846993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/h6iIy.jpg?s=128&g=1", "display_name": "Derek Van Cuyk", "link": "https://stackoverflow.com/users/846993/derek-van-cuyk"}, "reply_to_user": {"reputation": 25, "user_id": 5093943, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-GeKSb-5taRc/AAAAAAAAAAI/AAAAAAAAAB8/7LICv765MrA/photo.jpg?sz=128", "display_name": "k.nisha Cuty", "link": "https://stackoverflow.com/users/5093943/k-nisha-cuty"}, "edited": false, "score": 0, "creation_date": 1444852211, "post_id": 33133366, "comment_id": 54080188, "body": "If you think this fixes your problem, mark it as the answer please"}], "tags": [], "owner": {"reputation": 943, "user_id": 846993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/h6iIy.jpg?s=128&g=1", "display_name": "Derek Van Cuyk", "link": "https://stackoverflow.com/users/846993/derek-van-cuyk"}, "is_accepted": true, "score": 1, "last_activity_date": 1444851178, "last_edit_date": 1444851178, "creation_date": 1444848732, "answer_id": 33133366, "question_id": 33133036, "link": "https://stackoverflow.com/questions/33133036/bind-a-linq-lambda-select-many-from-controller-to-view-in-mvc4-what-are-the-bes/33133366#33133366", "title": "Bind a Linq Lambda Select Many from Controller to view in MVC4? What are the Best ways to return in view", "body": "<p>The problem is that your view is set to handle an explicit type:</p>\n\n<pre><code>@model IEnumerable&lt; MvcApplication2.Models.Product&gt;\n</code></pre>\n\n<p>But the LINQ method does not return a type of Product. You're actually returning an anonymous type with this portion of the LINQ statement:</p>\n\n<pre><code>(category, withProductlist) =&gt; new { cat = category.CategoryName, PN = Productname })\n</code></pre>\n\n<p>The new keyword helps identify that. Your console application works b/c the anynomous object has properties for PN and CategoryName but does not explicitly need a certain type.</p>\n\n<p>Does that make sense?</p>\n\n<p>As has been suggested, you should just pass in the values from the call Product.GetAllTeamMembers() to your view. Your view should then assign the values for the type. For example,</p>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>public ActionResult Home()\n{\n   var ny = Product.GetAllTeamMembers();\n\n   return view(ny);\n}\n</code></pre>\n\n<p><strong>View</strong>\n@model IEnumerable&lt; MvcApplication2.Models.Product></p>\n\n<pre><code>@{  \n  foreach(var k in Model)\n  {\n     @K.CategoryName&lt;br/&gt;\n     @k.Productname&lt;br/&gt;\n\n  }                    \n</code></pre>\n\n<p>}\n}</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>The best way to do what you want is to create a view model to contain the flattened information. This gives you the shape of the data as you want and allows you to use the model in your controller. </p>\n\n<p><em>New View Model</em></p>\n\n<pre><code>public class ProductViewModel\n{\n    public string CategoryName { get; set; }\n    public string ProductName { get; set; }\n}\n</code></pre>\n\n<p><em>Controller Logic</em></p>\n\n<pre><code>var ny = Product.GetAllProductName()\n.SelectMany(x =&gt; x.Productname, (category, withProductlist) =&gt;\n    new ProductViewModel\n    {\n        CategoryName = category.CategoryName,\n        ProductName = withProductlist\n    });\n</code></pre>\n\n<p><em>The View</em> </p>\n\n<pre><code>@model IEnumerable&lt;ProductViewModel&gt;\n</code></pre>\n\n<p>The important part is in the select many clause, you're casting to a known type (ProductViewModel) instead of an anonymous type.</p>\n"}], "owner": {"reputation": 25, "user_id": 5093943, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-GeKSb-5taRc/AAAAAAAAAAI/AAAAAAAAAB8/7LICv765MrA/photo.jpg?sz=128", "display_name": "k.nisha Cuty", "link": "https://stackoverflow.com/users/5093943/k-nisha-cuty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1278, "favorite_count": 0, "accepted_answer_id": 33133366, "answer_count": 2, "score": 2, "last_activity_date": 1473213084, "creation_date": 1444847705, "last_edit_date": 1473213084, "question_id": 33133036, "link": "https://stackoverflow.com/questions/33133036/bind-a-linq-lambda-select-many-from-controller-to-view-in-mvc4-what-are-the-bes", "title": "Bind a Linq Lambda Select Many from Controller to view in MVC4? What are the Best ways to return in view", "body": "<p>I am new to MVC by Linq. When I am working with Console application its working fine.<br>\nWhen i shift to Mvc Architecture, passing the values from controller to view i am getting error as</p>\n\n<p><strong>The model item passed into the dictionary is of type 'System.Collections.Generic.List<code>1[&lt;&gt;f__AnonymousType2</code>2[System.String,System.String]]', but this dictionary requires a model item of type 'System.Collections.Generic.IEnumerable`1[MvcApplication2.Models.Teams]'.</strong></p>\n\n<p>I know i am passing Objects as stringName,String and its expecting 'System.Collections.Generic.IEnumerable how to resolve this kind of issues</p>\n\n<p>This Scenario happen for  Multiple groupby and Selectmany in Linq .how to pass the value and get into bind for View . what is the Best approach.</p>\n\n<p>i have put a foreach in  Controller and return or else do the foreach iterations in view for selectMany,Groupby,Lookup etc.</p>\n\n<p><strong>Model</strong></p>\n\n<pre><code>public Class Product\n{\n    public string CategoryName {get; set; }\n    public int Productid { get; set; }\n    public List&lt;String&gt; Productname { get; set; }\n\n    public static List&lt;Product&gt; GetAllProductName()\n    {\n        var ListofProducts = new List&lt;Product&gt;\n        {\n            new Product { CategoryName = \"Choclateid\", Productid = 1, Productname = new List&lt;string&gt; { \"DairyMilkshots\", \"DairyMilk Silk\", \"DairyMilkFruitsNuts\" }},\n            new Product { CategoryName = \"Vegetables\", Productid = 2, Productname = new List&lt;string&gt; { \"Tomoto\", \"Pototo\", \"Onion\"}},\n            new Product { CategoryName  = \"Fruits\", Productid = 3, Productname = new List&lt;string&gt; {\"Apple\", \"Orange\", \"Strawberry\"}},\n        };\n        return ListofProducts;\n    }\n}\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>public ActionResult Home()\n{\n     var ny = Product.GetAllTeamMembers()\n                 .SelectMany(x =&gt; x.Productname, (category, withProductlist) =&gt; \n                                                  new { cat = category.CategoryName, PN = Productname })\n                 .ToList();\n\n     return View(ny);\n}\n</code></pre>\n\n<p><strong>View</strong></p>\n\n<pre><code>@model IEnumerable&lt; MvcApplication2.Models.Product&gt;\n\n@{\n    ViewBag.Title = \"Selectmany\";\n}\n\n&lt;h2&gt;@ViewBag.Message&lt;/h2&gt;\n&lt;p&gt;\n    To learn more about ASP.NET MVC visit &lt;a href=\"http://asp.net/mvc\" title=\"ASP.NET MVC Website\"&gt;http://asp.net/mvc&lt;/a&gt;.\n&lt;/p&gt;\n@{  \n    foreach(var k in Model)\n    {\n         @K.CategoryName&lt;br/&gt;\n         @k.Productname&lt;br/&gt;\n     }                    \n }\n</code></pre>\n\n<p><strong>Console</strong></p>\n\n<pre><code>var ny = Product.GetAllTeamMembers().SelectMany(x =&gt; x.Productname,\n                                                            (category, withProductlist) =&gt;\n                                                             new { cat = category.CategoryName, PN = Productname };\n\nforeach(var n in ny)\n{\n   Console.WriteLine(n.cat + \"\\t\" + \"-\" + n.PN);\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<blockquote>\n  <p>Choclate -DairyMilkshots DairyMilk Silk DairyMilkFruitsNuts<br />\n  Vegetables - Tomoto,Pototo,Onion<br />\n  etc</p>\n</blockquote>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6"], "comments": [{"owner": {"reputation": 4689, "user_id": 1296030, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/qhTIW.png?s=128&g=1", "display_name": "lintmouse", "link": "https://stackoverflow.com/users/1296030/lintmouse"}, "edited": false, "score": 0, "creation_date": 1444847899, "post_id": 33133029, "comment_id": 54077708, "body": "What is happening, if anything to obj before you pass it in?"}, {"owner": {"reputation": 2552, "user_id": 1467644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uOJfy.jpg?s=128&g=1", "display_name": "Shelby115", "link": "https://stackoverflow.com/users/1467644/shelby115"}, "reply_to_user": {"reputation": 4689, "user_id": 1296030, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/qhTIW.png?s=128&g=1", "display_name": "lintmouse", "link": "https://stackoverflow.com/users/1296030/lintmouse"}, "edited": false, "score": 0, "creation_date": 1444848045, "post_id": 33133029, "comment_id": 54077793, "body": "I&#39;m submitting it for edit. It gets saved to database via EF. Then I pass it to this to serialize and log. I can&#39;t imagine anything before this would affect it given the circumstances but I guess anything is possible. After this function log4net saves the log entry to the database."}, {"owner": {"reputation": 2666, "user_id": 382780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e2b7c885cfa6c044bd14500052d2060?s=128&d=identicon&r=PG", "display_name": "31eee384", "link": "https://stackoverflow.com/users/382780/31eee384"}, "edited": false, "score": 0, "creation_date": 1444848959, "post_id": 33133029, "comment_id": 54078327, "body": "What happens if you try non-EF <code>T</code> types? Maybe it&#39;s possible that entity framework isn&#39;t &quot;accepting&quot; the property change and we might be able to pin down that reason."}, {"owner": {"reputation": 2552, "user_id": 1467644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uOJfy.jpg?s=128&g=1", "display_name": "Shelby115", "link": "https://stackoverflow.com/users/1467644/shelby115"}, "edited": false, "score": 0, "creation_date": 1444848979, "post_id": 33133029, "comment_id": 54078343, "body": "Okay so, that last &quot;detail&quot; makes me think that the issue has to do with the properties I&#39;m setting being Navigation Properties in Entity Framework. But I&#39;m not sure why this behavior would appear."}, {"owner": {"reputation": 2552, "user_id": 1467644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uOJfy.jpg?s=128&g=1", "display_name": "Shelby115", "link": "https://stackoverflow.com/users/1467644/shelby115"}, "reply_to_user": {"reputation": 2666, "user_id": 382780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e2b7c885cfa6c044bd14500052d2060?s=128&d=identicon&r=PG", "display_name": "31eee384", "link": "https://stackoverflow.com/users/382780/31eee384"}, "edited": false, "score": 0, "creation_date": 1444849121, "post_id": 33133029, "comment_id": 54078414, "body": "@31eee384 The thing is though, that loop is 100% targetting EF navigation properties and has no other purpose than to set them to null. Finds non-primitive virtual properties so that circular references don&#39;t happen. When I was including the primitive values instead of null) I&#39;m pretty certain it was setting that value. I&#39;ll double check though."}, {"owner": {"reputation": 2552, "user_id": 1467644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uOJfy.jpg?s=128&g=1", "display_name": "Shelby115", "link": "https://stackoverflow.com/users/1467644/shelby115"}, "edited": false, "score": 0, "creation_date": 1444849276, "post_id": 33133029, "comment_id": 54078515, "body": "Indeed, the primitive virtual property is being changed. Just not the EF navigational properties. I guess I&#39;ll add an EF tag to the question."}, {"owner": {"reputation": 2666, "user_id": 382780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e2b7c885cfa6c044bd14500052d2060?s=128&d=identicon&r=PG", "display_name": "31eee384", "link": "https://stackoverflow.com/users/382780/31eee384"}, "edited": false, "score": 0, "creation_date": 1444849331, "post_id": 33133029, "comment_id": 54078547, "body": "To be more concrete, I&#39;m suggesting creating a new, non-EF class with non-primitive virtual properties, initializing it, and passing it into this function. This could even be a unit test. If it works for those and not for EF, then I&#39;d say it&#39;s deeply EF related (even though it makes no sense!)"}, {"owner": {"reputation": 2552, "user_id": 1467644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uOJfy.jpg?s=128&g=1", "display_name": "Shelby115", "link": "https://stackoverflow.com/users/1467644/shelby115"}, "edited": false, "score": 1, "creation_date": 1444849681, "post_id": 33133029, "comment_id": 54078749, "body": "Yeah, it&#39;s an EF Navigation Property thing. Non-EF virtual non-primitive gets set to null."}, {"owner": {"reputation": 2552, "user_id": 1467644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uOJfy.jpg?s=128&g=1", "display_name": "Shelby115", "link": "https://stackoverflow.com/users/1467644/shelby115"}, "edited": false, "score": 0, "creation_date": 1444850584, "post_id": 33133029, "comment_id": 54079279, "body": "It&#39;s the lazy loading. Doing a GetValue before the SetValue made it work. I&#39;m still curious on an explanation for this though. I don&#39;t 100% understand what&#39;s going on even though I&#39;m pretty sure I know why now."}], "answers": [{"comments": [{"owner": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "edited": false, "score": 0, "creation_date": 1444853887, "post_id": 33133985, "comment_id": 54081190, "body": "Just curious, would adding a .All() or .ToList() selector to the end of typeof(T).GetProperties(...) force the collection to enumerate and load all items?"}, {"owner": {"reputation": 2552, "user_id": 1467644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uOJfy.jpg?s=128&g=1", "display_name": "Shelby115", "link": "https://stackoverflow.com/users/1467644/shelby115"}, "reply_to_user": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "edited": false, "score": 0, "creation_date": 1444855219, "post_id": 33133985, "comment_id": 54081945, "body": "<code>.ToList()</code> added to the <code>typeof(T).GetProperties()...</code> would not force the loading. This is because this is on the properties collection and not the properties themselves. I tested to confirm my suspicion."}], "tags": [], "owner": {"reputation": 2552, "user_id": 1467644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uOJfy.jpg?s=128&g=1", "display_name": "Shelby115", "link": "https://stackoverflow.com/users/1467644/shelby115"}, "is_accepted": true, "score": 6, "last_activity_date": 1444851652, "last_edit_date": 1444851652, "creation_date": 1444850974, "answer_id": 33133985, "question_id": 33133029, "link": "https://stackoverflow.com/questions/33133029/line-of-code-not-working-unless-stepped-through-using-breakpoint/33133985#33133985", "title": "Line of code not working unless stepped through using breakpoint", "body": "<p><strong>Lazy-Loading</strong></p>\n\n<p>The navigation properties were lazy-loading, so when the serializer looked at them they got overwritten by the original value. So the setting of null was working the whole time but was getting overwritten by the lazy-loading.</p>\n\n<p><strong>Debugging</strong></p>\n\n<p>The reason the debugging appeared the way it did was because I was looking at the value before I executed the SetValue line of code. This caused the navigation property to load the value before executing the line of code resulting in the null value not being overwritten.</p>\n\n<p><strong>Solution</strong></p>\n\n<pre><code>foreach (var propInfo in virtualProperties)\n{\n    propInfo.GetValue(obj); // Trigger any navigation property to load.\n    propInfo.SetValue(obj, null);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1095, "user_id": 4706259, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152777304560994/picture?type=large", "display_name": "Patrick Michalina", "link": "https://stackoverflow.com/users/4706259/patrick-michalina"}, "is_accepted": false, "score": 1, "last_activity_date": 1465454811, "creation_date": 1465454811, "answer_id": 37718660, "question_id": 33133029, "link": "https://stackoverflow.com/questions/33133029/line-of-code-not-working-unless-stepped-through-using-breakpoint/37718660#37718660", "title": "Line of code not working unless stepped through using breakpoint", "body": "<p>I had a VERY similar issue in a Many-to-many EF6 code first setup. In my Web API controller I had been setting an object's navigation property from values set from a DTO. One being passed into my repo, they properties weren't being updated because of the lazy loading, but in debug mode it would work if I stepped near that section of code. I ended up using:</p>\n\n<pre><code>try {\n    TheDatabase.Configuration.LazyLoadingEnabled = false;\n    ...\n    ...\n}\nfinally {\n    TheDatabase.Configuration.LazyLoadingEnabled = true;\n}\n</code></pre>\n\n<p>This appears to be working so far.. Since my dbContext is being disposed per controller, I don't think it will be an issue.</p>\n"}], "owner": {"reputation": 2552, "user_id": 1467644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uOJfy.jpg?s=128&g=1", "display_name": "Shelby115", "link": "https://stackoverflow.com/users/1467644/shelby115"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2504, "favorite_count": 3, "accepted_answer_id": 33133985, "answer_count": 2, "score": 8, "last_activity_date": 1465454811, "creation_date": 1444847670, "last_edit_date": 1444849826, "question_id": 33133029, "link": "https://stackoverflow.com/questions/33133029/line-of-code-not-working-unless-stepped-through-using-breakpoint", "title": "Line of code not working unless stepped through using breakpoint", "body": "<p>The only thing I can think of is a race condition but both the calling function and the line of code are synchronous to my knowledge.</p>\n\n<pre><code>/// &lt;summary&gt;\n/// Gets the log format string for an info-level log.\n/// &lt;/summary&gt;\npublic static string Info&lt;T&gt;(string action, T obj)\n{\n    var stringBuilder = new StringBuilder(String.Format(\n        \"Action: {0} \\tObject: {1} \\tUser: {2} \\tJson: \",\n        action, typeof(T).Name, User\n    ));\n\n    // Set all virtual properties to null. This should stop circular references of navigation properties.\n    var virtualProperties = typeof(T).GetProperties(BindingFlags.Instance | BindingFlags.Public).Where(x =&gt; x.GetSetMethod().IsVirtual &amp;&amp; !x.PropertyType.IsPrimitive);\n    foreach (var propInfo in virtualProperties)\n    {\n        propInfo.SetValue(obj, null); // This Line is the culprit.\n    }\n\n    GetJsonSerializer().Serialize(obj, stringBuilder);\n\n    return stringBuilder.ToString();\n}\n</code></pre>\n\n<p>The line <code>propInfo.SetValue(obj, null)</code> will execute if I just breakpoint before the loop and step through one-by-one (or just break on that line) however if I don't use a breakpoint it never sets the property(ies) to null. Why is this?</p>\n\n<p><strong>Specific Details</strong>:</p>\n\n<ul>\n<li>If I don't use a breakpoint it doesn't work.</li>\n<li>If I place a breakpoint at the top of the foreach and hit f5 it doesn't work.</li>\n<li>If I place a breakpoint at the top of the foreach and step-through via f10 it does work.</li>\n<li>If I place a breakpoint on the line of code <code>propInfo.SetValue(obj, null);</code> it does work.</li>\n<li>A breakpoint after the loop still shows the values as not null.</li>\n<li>If I change <code>null</code> to <code>5</code> (which isn't a valid value) it throws an exception telling my that it's not a valid value.</li>\n</ul>\n\n<p>To clarify, <em>\"Doesn't work\"</em> means that it doesn't set the property to null.</p>\n\n<p><strong>What I've tried:</strong></p>\n\n<ul>\n<li>Restarting Visual Studio (2013)</li>\n<li>Changing the line of code (Used to be <code>default(T)</code>)</li>\n<li>Project Properties -> Build -> Optimize Code (initially off)</li>\n</ul>\n\n<p><strong>EDIT</strong></p>\n\n<p>It's been narrowed down that EF Navigation properties are the cause of this behavior. The code is running but for some reason the navigation properties refuse to become null. So what about navigation properties are causing this behavior?</p>\n"}, {"tags": ["c#", "winforms", "sorting", "datagridview"], "comments": [{"owner": {"reputation": 3564, "user_id": 1189566, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/YXOz8.png?s=128&g=1", "display_name": "sab669", "link": "https://stackoverflow.com/users/1189566/sab669"}, "edited": false, "score": 0, "creation_date": 1444847693, "post_id": 33132999, "comment_id": 54077575, "body": "Makes sense that sort order wouldn&#39;t be retained between changing <code>DataSources</code>; consider a situation where the new <code>DataSource</code> doesn&#39;t have all the columns (read: the one that was sorted) from the old <code>DataSource</code>. I believe storing them in variables and programatically re-assigning the sort data is the only way to do it."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1444847867, "post_id": 33132999, "comment_id": 54077679, "body": "Why are you reassigning the data source all the time? Assign it once, then modify the content and raise Reset event."}, {"owner": {"reputation": 689, "user_id": 3653277, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/bwZS0.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3653277/michael"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1444851961, "post_id": 33132999, "comment_id": 54080051, "body": "@IvanStoev How can I modify the content after it bound as the data-source? What Reset event?"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1444852280, "post_id": 33132999, "comment_id": 54080235, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/ms132702(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ms132702(v=vs.110).aspx</a>"}, {"owner": {"reputation": 689, "user_id": 3653277, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/bwZS0.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3653277/michael"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1444853801, "post_id": 33132999, "comment_id": 54081130, "body": "@IvanStoev Calling the ResetBindings() method doesn&#39;t make the datagridview refreshing the datasource. It still seems like reassigning the datasource is the only way to get the datagridview to update to the most current data"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1444855062, "post_id": 33132999, "comment_id": 54081870, "body": "I&#39;m using this for years and it&#39;s indeed working. But you need first to replace the content of the binding list (you know, using Clear, Add etc.) instead of doing <code>new MySortableBindingList</code>"}, {"owner": {"reputation": 689, "user_id": 3653277, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/bwZS0.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3653277/michael"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1444856757, "post_id": 33132999, "comment_id": 54082751, "body": "@IvanStoev Finally got it to function the way you are talking about by using a BindingSource in between the the DGV and the BindingList, however, even though it functions, the sorted column&#39;s sort order is still lost each time the list is changed. I have updated my original post to show the code that i am now using based on your comments."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1444898220, "post_id": 33132999, "comment_id": 54097188, "body": "@user3653277 No, BindingSource is not needed, the sort info and functionality is maintained/provided by the BindingList implementation. Could you please post the full code of your <code>MySortableBindingList</code> because it&#39;s the key for making the whole thing to work correctly."}, {"owner": {"reputation": 689, "user_id": 3653277, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/bwZS0.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3653277/michael"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1444911211, "post_id": 33132999, "comment_id": 54105752, "body": "@IvanStoev I have added the code of the MySortableBindingList class to my original post"}], "answers": [{"tags": [], "owner": {"reputation": 4235, "user_id": 3167751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63gCs.jpg?s=128&g=1", "display_name": "Xavier J", "link": "https://stackoverflow.com/users/3167751/xavier-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1444847769, "last_edit_date": 1495542283, "creation_date": 1444847769, "answer_id": 33133057, "question_id": 33132999, "link": "https://stackoverflow.com/questions/33132999/c-winforms-datagridview-sorted-column-lost-when-binding-new-datasource/33133057#33133057", "title": "C# Winforms DataGridView Sorted column lost when binding new Datasource", "body": "<p>You're going to need to reapply the sort each time, because you're applying a whole new datasource.</p>\n\n<p>See if you can adapt something like this:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1689199/c-sharp-code-against-a-property-using-the-property-name-as-a-string\">C# - code against a property using the property name as a string</a></p>\n"}, {"comments": [{"owner": {"reputation": 689, "user_id": 3653277, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/bwZS0.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3653277/michael"}, "edited": false, "score": 1, "creation_date": 1445008539, "post_id": 33151874, "comment_id": 54155315, "body": "Works perfect :) Thank you so much for all the help!"}], "tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": true, "score": 3, "last_activity_date": 1444921026, "creation_date": 1444921026, "answer_id": 33151874, "question_id": 33132999, "link": "https://stackoverflow.com/questions/33132999/c-winforms-datagridview-sorted-column-lost-when-binding-new-datasource/33151874#33151874", "title": "C# Winforms DataGridView Sorted column lost when binding new Datasource", "body": "<p><code>DataGridView</code> does not contain own sorting capability, but instead relies on the data source to do that, and more specifically the <code>IBindingList</code> implementation. Additional to sorting, <code>IBindingList</code> provides a <code>ListChanged</code> event which can be used to update any UI attached to it. Note that <code>IBindingList</code> is also a list, i.e. you can add/remove/update items as with a normal list, hence you don't need to create a new list and reassign it as a data source. Instead, create it once, attach the UI to it, and then at anytime just update the list content and the UI will reflect the changes automatically - one of the data binding \"magics\".  </p>\n\n<p>Now, in order to make all that happen, <code>IBindingList</code> must be implemented correctly. <code>BindingList&lt;T&gt;</code> already provides the most of the functionality required, but unfortunately that does not include sorting. The problems you are experiencing originate from the fact that you are using a buggy third party component (as usual when there is no standard one).  </p>\n\n<p>So, instead of <code>MySortableBindindingList&lt;T&gt;</code> use the following implementation:  </p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Linq;\nusing System.Linq.Expressions;\nnamespace Tests\n{\n    public class MyBindingList&lt;T&gt; : BindingList&lt;T&gt;\n    {\n        static readonly Dictionary&lt;string, Func&lt;IEnumerable&lt;T&gt;, IEnumerable&lt;T&gt;&gt;&gt; orderByMethodCache = new Dictionary&lt;string, Func&lt;IEnumerable&lt;T&gt;, IEnumerable&lt;T&gt;&gt;&gt;();\n        private static Func&lt;IEnumerable&lt;T&gt;, IEnumerable&lt;T&gt;&gt; GetOrderByMethod(PropertyDescriptor prop, ListSortDirection direction)\n        {\n            var orderByMethodName = direction == ListSortDirection.Ascending ? \"OrderBy\" : \"OrderByDescending\";\n            var cacheKey = typeof(T).GUID + prop.Name + orderByMethodName;\n            Func&lt;IEnumerable&lt;T&gt;, IEnumerable&lt;T&gt;&gt; orderByMethod;\n            if (!orderByMethodCache.TryGetValue(cacheKey, out orderByMethod))\n                orderByMethodCache.Add(cacheKey, orderByMethod = CreateOrderByMethod(prop, orderByMethodName));\n            return orderByMethod;\n        }\n        private static Func&lt;IEnumerable&lt;T&gt;, IEnumerable&lt;T&gt;&gt; CreateOrderByMethod(PropertyDescriptor prop, string orderByMethodName)\n        {\n            var source = Expression.Parameter(typeof(IEnumerable&lt;T&gt;), \"source\");\n            var item = Expression.Parameter(typeof(T), \"item\");\n            var member = Expression.Property(item, prop.Name);\n            var selector = Expression.Lambda(member, item);\n            var orderByMethod = typeof(Enumerable).GetMethods()\n                .Single(a =&gt; a.Name == orderByMethodName &amp;&amp; a.GetParameters().Length == 2)\n                .MakeGenericMethod(typeof(T), member.Type);\n            var orderByExpression = Expression.Lambda&lt;Func&lt;IEnumerable&lt;T&gt;, IEnumerable&lt;T&gt;&gt;&gt;(\n                Expression.Call(orderByMethod, new Expression[] { source, selector }), source);\n            return orderByExpression.Compile();\n        }\n        List&lt;T&gt; originalList = new List&lt;T&gt;();\n        ListSortDirection sortDirection;\n        PropertyDescriptor sortProperty;\n        bool isSorted;\n        bool ignoreListChanged;\n        Func&lt;T, bool&gt; filter;\n        public MyBindingList() { }\n        public MyBindingList(IEnumerable&lt;T&gt; items) { Update(items); }\n        protected override bool SupportsSortingCore { get { return true; } }\n        protected override PropertyDescriptor SortPropertyCore { get { return sortProperty; } }\n        protected override ListSortDirection SortDirectionCore { get { return sortDirection; } }\n        protected override bool IsSortedCore { get { return isSorted; } }\n        public Func&lt;T, bool&gt; Filter\n        {\n            get { return filter; }\n            set\n            {\n                filter = value;\n                Refresh();\n            }\n        }\n        public void Update(IEnumerable&lt;T&gt; items)\n        {\n            originalList.Clear();\n            originalList.AddRange(items);\n            Refresh();\n        }\n        public void Refresh()\n        {\n            var items = originalList.AsEnumerable();\n            if (Filter != null)\n                items = items.Where(filter);\n            if (isSorted)\n                items = GetOrderByMethod(sortProperty, sortDirection)(items);\n\n            bool raiseListChangedEvents = RaiseListChangedEvents;\n            RaiseListChangedEvents = false;\n            base.ClearItems();\n            foreach (var item in items)\n                Add(item);\n            RaiseListChangedEvents = raiseListChangedEvents;\n            if (!raiseListChangedEvents) return;\n            ignoreListChanged = true;\n            ResetBindings();\n            ignoreListChanged = false;\n        }\n        protected override void OnListChanged(ListChangedEventArgs e)\n        {\n            if (!ignoreListChanged)\n                originalList = Items.ToList();\n            base.OnListChanged(e);\n        }\n        protected override void ApplySortCore(PropertyDescriptor prop, ListSortDirection direction)\n        {\n            var orderByMethod = GetOrderByMethod(prop, direction);\n            sortProperty = prop;\n            sortDirection = direction;\n            isSorted = true;\n            Refresh();\n        }\n        protected override void RemoveSortCore()\n        {\n            if (!isSorted) return;\n            isSorted = false;\n            Refresh();\n        }\n    }\n}\n</code></pre>\n\n<p>which also supports replacing the content and user defined filter.  </p>\n\n<p>Here is an example how it can be used, just to get the idea, but I guess you can easily map it to your specific needs:  </p>\n\n<pre><code>using System;\nusing System.Windows.Forms;\nnamespace Tests\n{\n    class Person\n    {\n        public string FirstName { get; set; }\n        public string LastName { get; set; }\n    }\n    static class Program\n    {\n        [STAThread]\n        static void Main()\n        {\n            Application.EnableVisualStyles();\n            Application.SetCompatibleTextRenderingDefault(false);\n            var form = new Form();\n            var dg = new DataGridView { Dock = DockStyle.Fill, Parent = form };\n            var filterBox = new TextBox { Dock = DockStyle.Bottom, Parent = form };\n            var data = new MyBindingList&lt;Person&gt;(new[]\n            {\n                new Person { FirstName = \"Jon\", LastName = \"Skeet\" },\n                new Person { FirstName = \"Hans\", LastName = \"Passant\" },\n                new Person { FirstName = \"Ivan\", LastName = \"Stoev\" },\n            });\n            dg.DataSource = data;\n            var filterText = string.Empty;\n            filterBox.TextChanged += (sender, e) =&gt;\n            {\n                var text = filterBox.Text.Trim();\n                if (filterText == text) return;\n                filterText = text;\n                if (!string.IsNullOrEmpty(filterText))\n                    data.Filter = person =&gt; person.FirstName.Contains(filterText) || person.LastName.Contains(filterText);\n                else\n                    data.Filter = null;\n            };\n            Application.Run(form);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 689, "user_id": 3653277, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/bwZS0.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3653277/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2029, "favorite_count": 0, "accepted_answer_id": 33151874, "answer_count": 2, "score": 3, "last_activity_date": 1444921026, "creation_date": 1444847550, "last_edit_date": 1444911139, "question_id": 33132999, "link": "https://stackoverflow.com/questions/33132999/c-winforms-datagridview-sorted-column-lost-when-binding-new-datasource", "title": "C# Winforms DataGridView Sorted column lost when binding new Datasource", "body": "<p>I originally set the datasource of the DGV to a SortableBindingList. When I run the program, I am able to click any column header and sort ascending or descending by the column. </p>\n\n<p>I have implemented a Filter textbox that filters the data in the DGV using LINQ.\nAfter I filter the list with LINQ. I rebind the filtered list to the DGV, but the previously sorted column is no longer sorted. </p>\n\n<p>Should the DGV keep sorting even after I rebind a new datasource? </p>\n\n<p>The only workaround I have come up with for this is to store the current SortedColumn Index and current SortOrder into variables and then reset those properties when binding the new datasource.</p>\n\n<pre><code>private void PopulateGrid()\n{\n     var gridSource = new MySortableBindingList&lt;Case&gt;(_caseList);\n     dataGridView_Cases.DataSource = gridSource;\n     ConfigureGrid();\n}\n\nprivate void ApplyFilter(string fString)\n{\n        MySortableBindingList&lt;Case&gt; msbList = new MySortableBindingList&lt;Case&gt;(_caseList.Where(x =&gt; (x.StudentLastName.IndexOf(fString, StringComparison.OrdinalIgnoreCase) &gt;= 0) || (x.StudentIDDisplay.ToString().IndexOf(fString, StringComparison.OrdinalIgnoreCase) &gt;= 0)).ToList());\n        dataGridView_Cases.DataSource = msbList;                       \n}\n</code></pre>\n\n<p><strong>Update 1: (New Code)</strong></p>\n\n<pre><code>    private MySortableBindingList&lt;Case&gt; _gridSource = new MySortableBindingList&lt;Case&gt;();\n    BindingSource _caseBindingSource = new BindingSource();\n    private void PopulateGrid()\n    {\n        _gridSource = new MySortableBindingList&lt;Case&gt;(_caseList);\n        _caseBindingSource.DataSource = _gridSource;\n        dataGridView_Cases.DataSource = _caseBindingSource;\n        ConfigureGrid();\n    }\n\n private void ApplyFilter(string fString)\n {\n     _gridSource.Clear();\n     foreach (var fCase in _caseList.Where(x =&gt; (x.StudentLastName.IndexOf(fString, StringComparison.OrdinalIgnoreCase) &gt;= 0) || (x.StudentIDDisplay.ToString().IndexOf(fString, StringComparison.OrdinalIgnoreCase) &gt;= 0)).ToList())\n       {\n          _gridSource.Add(fCase);\n       }\n      _caseBindingSource.ResetBindings(false);\n }\n</code></pre>\n\n<p><strong>Update 2: (Additional Code)</strong></p>\n\n<pre><code>/// &lt;summary&gt;\n/// Source: http://www.codeproject.com/Articles/31418/Implementing-a-Sortable-BindingList-Very-Very-Quic\n/// &lt;/summary&gt;\n/// &lt;typeparam name=\"T\"&gt;&lt;/typeparam&gt;\npublic class MySortableBindingList&lt;T&gt; : BindingList&lt;T&gt;\n{\n\n    // reference to the list provided at the time of instantiation\n    List&lt;T&gt; originalList;\n    ListSortDirection sortDirection;\n    PropertyDescriptor sortProperty;\n\n    // function that refereshes the contents\n    // of the base classes collection of elements\n    Action&lt;MySortableBindingList&lt;T&gt;, List&lt;T&gt;&gt;\n                   populateBaseList = (a, b) =&gt; a.ResetItems(b);\n\n    // a cache of functions that perform the sorting\n    // for a given type, property, and sort direction\n    static Dictionary&lt;string, Func&lt;List&lt;T&gt;, IEnumerable&lt;T&gt;&gt;&gt;\n       cachedOrderByExpressions = new Dictionary&lt;string, Func&lt;List&lt;T&gt;,\n                                                 IEnumerable&lt;T&gt;&gt;&gt;();\n    /// &lt;summary&gt;\n    /// Create a sortable binding list\n    /// &lt;/summary&gt;\n    public MySortableBindingList()\n    {\n        originalList = new List&lt;T&gt;();\n    }\n\n            /// &lt;summary&gt;\n    /// Create a sortable binding list\n    /// &lt;/summary&gt;\n    public MySortableBindingList(IEnumerable&lt;T&gt; enumerable)\n    {\n        originalList = enumerable.ToList();\n        populateBaseList(this, originalList);\n    }\n\n    /// &lt;summary&gt;\n    /// Create a sortable binding list\n    /// &lt;/summary&gt;\n    public MySortableBindingList(List&lt;T&gt; list)\n    {\n        originalList = list;\n        populateBaseList(this, originalList);\n    }\n\n    /// &lt;summary&gt;\n    /// Look for an appropriate sort method in the cache if not found .\n    /// Call CreateOrderByMethod to create one. \n    /// Apply it to the original list.\n    /// Notify any bound controls that the sort has been applied.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"prop\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"direction\"&gt;&lt;/param&gt;\n    protected override void ApplySortCore(PropertyDescriptor prop,\n                            ListSortDirection direction)\n    {\n        /*\n         Look for an appropriate sort method in the cache if not found .\n         Call CreateOrderByMethod to create one. \n         Apply it to the original list.\n         Notify any bound controls that the sort has been applied.\n         */\n\n        sortProperty = prop;\n\n        var orderByMethodName = sortDirection ==\n            ListSortDirection.Ascending ? \"OrderBy\" : \"OrderByDescending\";\n        var cacheKey = typeof(T).GUID + prop.Name + orderByMethodName;\n\n        if (!cachedOrderByExpressions.ContainsKey(cacheKey))\n        {\n            CreateOrderByMethod(prop, orderByMethodName, cacheKey);\n        }\n\n        ResetItems(cachedOrderByExpressions[cacheKey](originalList).ToList());\n        ResetBindings();\n        sortDirection = sortDirection == ListSortDirection.Ascending ?\n                        ListSortDirection.Descending : ListSortDirection.Ascending;\n    }\n\n\n    private void CreateOrderByMethod(PropertyDescriptor prop,\n                 string orderByMethodName, string cacheKey)\n    {\n\n        /*\n         Create a generic method implementation for IEnumerable&lt;T&gt;.\n         Cache it.\n        */\n\n        var sourceParameter = Expression.Parameter(typeof(List&lt;T&gt;), \"source\");\n        var lambdaParameter = Expression.Parameter(typeof(T), \"lambdaParameter\");\n        var accesedMember = typeof(T).GetProperty(prop.Name);\n        var propertySelectorLambda =\n            Expression.Lambda(Expression.MakeMemberAccess(lambdaParameter,\n                              accesedMember), lambdaParameter);\n        var orderByMethod = typeof(Enumerable).GetMethods()\n                                      .Where(a =&gt; a.Name == orderByMethodName &amp;&amp;\n                                                   a.GetParameters().Length == 2)\n                                      .Single()\n                                      .MakeGenericMethod(typeof(T), prop.PropertyType);\n\n        var orderByExpression = Expression.Lambda&lt;Func&lt;List&lt;T&gt;, IEnumerable&lt;T&gt;&gt;&gt;(\n                                    Expression.Call(orderByMethod,\n                                            new Expression[] { sourceParameter, \n                                                           propertySelectorLambda }),\n                                            sourceParameter);\n\n        cachedOrderByExpressions.Add(cacheKey, orderByExpression.Compile());\n    }\n\n    /// &lt;summary&gt;\n    /// RemoveSortCore\n    /// &lt;/summary&gt;\n    protected override void RemoveSortCore()\n    {\n        ResetItems(originalList);\n    }\n\n    private void ResetItems(List&lt;T&gt; items)\n    {\n\n        base.ClearItems();\n\n        for (int i = 0; i &lt; items.Count; i++)\n        {\n            base.InsertItem(i, items[i]);\n        }\n    }\n\n    /// &lt;summary&gt;\n    /// SupportsSortingCore\n    /// &lt;/summary&gt;\n    protected override bool SupportsSortingCore\n    {\n        get\n        {\n            // indeed we do\n            return true;\n        }\n    }\n\n    /// &lt;summary&gt;\n    /// Ascending or descending\n    /// &lt;/summary&gt;\n    protected override ListSortDirection SortDirectionCore\n    {\n        get\n        {\n            return sortDirection;\n        }\n    }\n\n    /// &lt;summary&gt;\n    /// A property\n    /// &lt;/summary&gt;\n    protected override PropertyDescriptor SortPropertyCore\n    {\n        get\n        {\n            return sortProperty;\n        }\n    }\n\n    /// &lt;summary&gt;\n    /// List has changed\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"e\"&gt;&lt;/param&gt;\n    protected override void OnListChanged(ListChangedEventArgs e)\n    {\n        originalList = base.Items.ToList();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "sql-server", "gridview"], "comments": [{"owner": {"reputation": 3564, "user_id": 1189566, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/YXOz8.png?s=128&g=1", "display_name": "sab669", "link": "https://stackoverflow.com/users/1189566/sab669"}, "edited": false, "score": 0, "creation_date": 1444847428, "post_id": 33132785, "comment_id": 54077419, "body": "<a href=\"http://www.aspforums.net/Threads/419884/Highlight-duplicate-rows-in-GridView-in-ASPNet/\" rel=\"nofollow noreferrer\">aspforums.net/Threads/419884/&hellip;</a> Might help"}, {"owner": {"reputation": 293, "user_id": 3042344, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d9b525dff57d424240330212e5933e3a?s=128&d=identicon&r=PG&f=1", "display_name": "KratosMafia", "link": "https://stackoverflow.com/users/3042344/kratosmafia"}, "edited": false, "score": 0, "creation_date": 1444847528, "post_id": 33132785, "comment_id": 54077467, "body": "Have you gone through and debugged it? Does it enter the if(!duplicateRow).?"}, {"owner": {"reputation": 480, "user_id": 5179742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CC8e.jpg?s=128&g=1", "display_name": "g2000", "link": "https://stackoverflow.com/users/5179742/g2000"}, "edited": false, "score": 0, "creation_date": 1444849138, "post_id": 33132785, "comment_id": 54078425, "body": "you may want to update the event handler onrowdatabound.. this method got called for each row ... how about databound?"}, {"owner": {"reputation": 65, "user_id": 5440297, "user_type": "registered", "profile_image": "https://graph.facebook.com/1505943399729238/picture?type=large", "display_name": "nmsohn", "link": "https://stackoverflow.com/users/5440297/nmsohn"}, "edited": false, "score": 0, "creation_date": 1444863587, "post_id": 33132785, "comment_id": 54085678, "body": "I changed  if(!duplicateRow) to if (duplicateRow) but still receive the same results"}, {"owner": {"reputation": 65, "user_id": 5440297, "user_type": "registered", "profile_image": "https://graph.facebook.com/1505943399729238/picture?type=large", "display_name": "nmsohn", "link": "https://stackoverflow.com/users/5440297/nmsohn"}, "edited": false, "score": 0, "creation_date": 1444863903, "post_id": 33132785, "comment_id": 54085793, "body": "Plus databound not working..."}], "owner": {"reputation": 65, "user_id": 5440297, "user_type": "registered", "profile_image": "https://graph.facebook.com/1505943399729238/picture?type=large", "display_name": "nmsohn", "link": "https://stackoverflow.com/users/5440297/nmsohn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 585, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1444846811, "creation_date": 1444846811, "question_id": 33132785, "link": "https://stackoverflow.com/questions/33132785/highlight-duplicates-in-gridview-asp-net", "title": "Highlight duplicates in gridview asp.net", "body": "<p>I tried to detect duplicates from sql data and highlight them in gridview but the color doesn't change.\nI created BindGrid() method and called the method in Page_Load method.\nBindGrid() works well but HighlightRow is not working at all.\nAny help please?</p>\n\n<p>asp:</p>\n\n<pre><code> &lt;asp:GridView ID=\"GridView1\" runat=\"server\" BackColor=\"White\" BorderColor=\"White\" BorderStyle=\"Ridge\" BorderWidth=\"2px\" CellPadding=\"3\" CellSpacing=\"1\" GridLines=\"None\" Height=\"238px\" Width=\"896px\"  onrowdatabound=\"HighlightRow\"&gt;\n    &lt;FooterStyle BackColor=\"#C6C3C6\" ForeColor=\"Black\" /&gt;\n    &lt;HeaderStyle BackColor=\"#4A3C8C\" Font-Bold=\"True\" ForeColor=\"#E7E7FF\" /&gt;\n    &lt;PagerStyle BackColor=\"#C6C3C6\" ForeColor=\"Black\" HorizontalAlign=\"Right\" /&gt;\n    &lt;RowStyle BackColor=\"#DEDFDE\" ForeColor=\"Black\" /&gt;\n    &lt;SelectedRowStyle BackColor=\"#9471DE\" Font-Bold=\"True\" ForeColor=\"White\" /&gt;\n    &lt;SortedAscendingCellStyle BackColor=\"#F1F1F1\" /&gt;\n    &lt;SortedAscendingHeaderStyle BackColor=\"#594B9C\" /&gt;\n    &lt;SortedDescendingCellStyle BackColor=\"#CAC9C9\" /&gt;\n    &lt;SortedDescendingHeaderStyle BackColor=\"#33276A\" /&gt;\n&lt;/asp:GridView&gt;\n</code></pre>\n\n<p>C# code:</p>\n\n<pre><code>protected void HighlightRow(object sender, GridViewRowEventArgs e)\n    {\n        if(e.Row.RowType == DataControlRowType.DataRow)\n        {   \n            for (int current = 0; current &lt; GridView1.Rows.Count - 1; current++)\n            {\n                GridViewRow compareRow = GridView1.Rows[current];\n                for (int next = current+1; next &lt; GridView1.Rows.Count; next++)\n                {\n                    GridViewRow row = GridView1.Rows[next];\n                    bool duplicateRow = true;\n                    for (int i = 0; i &lt; GridView1.Columns.Count; i++) {                         \n                        if ((compareRow.Cells[i].Text) != (row.Cells[i].Text))\n                        {\n                            duplicateRow = false;\n                            break;\n                        }\n                        if (!duplicateRow)\n                        {\n                            e.Row.BackColor = System.Drawing.Color.Red;\n                            row.BackColor = System.Drawing.Color.Red;\n                            compareRow.BackColor = System.Drawing.Color.Red;\n                            duplicateRow = true;\n                        }\n                    }\n\n                }\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net", "xaml", "windows-store-apps", "win-universal-app"], "answers": [{"comments": [{"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "edited": false, "score": 0, "creation_date": 1444849163, "post_id": 33133031, "comment_id": 54078440, "body": "Thanks. But is there any way to do that without binding. Just something like <code>&lt;ComboBoxItem Value = &quot;3&quot;  Text = &quot;blah&quot; ...</code> ?"}], "tags": [], "owner": {"reputation": 3142, "user_id": 5348281, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/0liGa.jpg?s=128&g=1", "display_name": "Mykola", "link": "https://stackoverflow.com/users/5348281/mykola"}, "is_accepted": false, "score": 0, "last_activity_date": 1444847678, "creation_date": 1444847678, "answer_id": 33133031, "question_id": 33132756, "link": "https://stackoverflow.com/questions/33132756/comboboxitem-with-both-value-and-text/33133031#33133031", "title": "ComboBoxItem with both Value and Text", "body": "<p>You may use this</p>\n\n<pre><code>&lt;ComboBox Height=\"154\" HorizontalAlignment=\"Left\" \n         ItemsSource=\"{Binding Path=Books}\"\n         DisplayMemberPath=\"Title\"&gt;\n&lt;/ComboBox&gt;\n</code></pre>\n\n<p>where Title is the member of <code>Book</code> class <code>Books</code> - collection of <code>Book</code> objects</p>\n"}, {"tags": [], "owner": {"reputation": 4894, "user_id": 3956290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZsQ0z.png?s=128&g=1", "display_name": "Mehrzad Chehraz", "link": "https://stackoverflow.com/users/3956290/mehrzad-chehraz"}, "is_accepted": true, "score": 3, "last_activity_date": 1444855369, "creation_date": 1444855369, "answer_id": 33135214, "question_id": 33132756, "link": "https://stackoverflow.com/questions/33132756/comboboxitem-with-both-value-and-text/33135214#33135214", "title": "ComboBoxItem with both Value and Text", "body": "<p>It is highly recommenced to use binding with XAML controls, however, you can define ComboBox items in XAML by the Items property:</p>\n\n<pre><code>  &lt;ComboBox x:Name=\"comboBox1\"\n            SelectionChanged=\"ComboBox_SelectionChanged\"\n            SelectedValuePath=\"Tag\"&gt;\n     &lt;ComboBox.Items&gt;\n        &lt;ComboBoxItem Tag=\"1\"&gt;Item 1&lt;/ComboBoxItem&gt;\n        &lt;ComboBoxItem Tag=\"2\"&gt;Item 2&lt;/ComboBoxItem&gt;\n        &lt;ComboBoxItem Tag=\"3\"&gt;Item 3&lt;/ComboBoxItem&gt;\n     &lt;/ComboBox.Items&gt;\n  &lt;/ComboBox&gt;\n</code></pre>\n\n<p>and get selected items in code:</p>\n\n<pre><code> private void ComboBox_SelectionChanged(object sender, SelectionChangedEventArgs e) {\n     Debug.WriteLine(comboBox1.SelectedValue);\n  }\n</code></pre>\n\n<p>Since the ComboBox item class has not a Value property, you can use the tag property to hold the corresponding value. Settings the SelectedValuePath property tells the ComboBox which property to use as Value.</p>\n"}, {"tags": [], "owner": {"reputation": 29909, "user_id": 347172, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8UvnG.jpg?s=128&g=1", "display_name": "myermian", "link": "https://stackoverflow.com/users/347172/myermian"}, "is_accepted": false, "score": 2, "last_activity_date": 1451519984, "last_edit_date": 1495539892, "creation_date": 1451519984, "answer_id": 34539127, "question_id": 33132756, "link": "https://stackoverflow.com/questions/33132756/comboboxitem-with-both-value-and-text/34539127#34539127", "title": "ComboBoxItem with both Value and Text", "body": "<p>While taking advantage of Data Binding is the recommended route, you have to understand that whether or not you utilize the Data Binding Engine does not change how to properly use the <code>ComboBox</code> control.</p>\n\n<hr>\n\n<p>The <a href=\"https://msdn.microsoft.com/library/windows/apps/windows.ui.xaml.controls.combobox.aspx\" rel=\"nofollow noreferrer\"><code>ComboBox</code></a> has an <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.itemscontrol.items.aspx\" rel=\"nofollow noreferrer\"><code>Items</code></a> property, which is simply just an <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.itemcollection.aspx\" rel=\"nofollow noreferrer\"><code>ItemCollection</code></a>, which in turn is a specialized enumeration of <code>object</code>s. So, in knowing this you can add any <code>object</code> regardless of type to the collection of items.</p>\n\n<p>In a typical scenario utilizing MVVM/DataBinding you would bind the <code>ItemsSource</code> to auto-generate the <code>Items</code> based upon any <code>IEnumerable</code> object; most view-models would have the following as an example:</p>\n\n<pre><code>public class InventoryViewModel : INotifyPropertyChanged\n{\n    public ObservableCollection&lt;Car&gt; Cars { get; private set; }\n}\n\n&lt;ComboBox ItemsSource=\"{Binding Path=Cars, Mode=OneWay}\" ... /&gt;\n</code></pre>\n\n<p>Notice that the collection has a bunch of <code>Car</code> objects (not <code>ComboBoxItem</code>s). Now, whether or not you populate a <code>ComboBox</code> through DataBinding or directly, it will still create an <code>ItemCollection</code>. So, if you forego the DataBinding route, how can you get a collection of <code>Car</code>s? You could create each element directly within the <code>ComboBox.Items</code> scope, or use DataBinding through a resource instead of a class (static or dynamic resource). If you don't do any DataBinding (even to a resource), you're code would look like this:</p>\n\n<pre><code>&lt;ComboBox ... &gt;\n  &lt;ComoBox.Items&gt;\n     &lt;local:Car Brand=\"Ford\" Model=\"Mustang\" Id=\"1\" /&gt;\n     &lt;local:Car Brand=\"Ford\" Model=\"Fusion\"  Id=\"2\" /&gt;\n     &lt;local:Car Brand=\"Cadillac\" Model=\"CTS\" Id=\"3\" /&gt;\n  &lt;/ComboBox.Items&gt;\n&lt;/ComboBox&gt;\n</code></pre>\n\n<p>With this in hand, the only other property you <em>might</em> need to set for the <code>ComboBox</code> is the <code>DisplayMemberPath</code> property. I say <em>might</em> because if you do not set this value, the <code>ComboBox</code> will call <code>ToString()</code> on the object to get the string version of the object, so it depends on whether or not the <code>Car</code> class has a customized <code>ToString()</code>. Now, when you listen to the <code>SelectionChangedEvent</code>, the <code>SelectedItem</code> will be a type of <code>Car</code> instead of <code>ComboBoxItem</code>. The <code>SelectedValuePath</code> can also be set to a property of <code>Car</code> and you can also get the <code>SelectedValue</code> instead of the entire <code>SelectedItem</code>, but just as before the actual underlying type would be a specific type instead of a <code>ComboBoxItem</code>.</p>\n\n<hr>\n\n<p><strong>Additional Information:</strong></p>\n\n<p>The reason why <code>ComboBoxItem</code> doesn't need a <code>DisplayMemberPath</code> to be set is because the <code>ToString()</code> member returns a formatted version of the <code>Content</code> property:</p>\n\n<pre><code>public partial class FrameworkElement\n{\n    internal virtual string GetPlainText()\n    {\n        return null;\n    }\n}\n\npublic class Control : FrameworkElement\n{\n    public override string ToString()\n    {\n        string plainText = null;\n\n        if (CheckAccess())\n        {\n            plainText = GetPlainText();\n        }\n        else\n        {\n            plainText = (string)Dispatcher.Invoke(DispatcherPriority.Send, new TimeSpan(0, 0, 0, 0, 20), new DispatcherOperationCallback(delegate(object o) {\n                    return GetPlainText();\n                }), null);\n        }\n\n        if (!String.IsNullOrEmpty(plainText))\n        {\n            return SR.Get(SRID.ToStringFormatString_Control, base.ToString(), plainText);\n        }\n\n        return base.ToString();\n    }\n}\n\npublic class ContentControl : Control\n{\n    internal override string GetPlainText()\n    {\n        return ContentObjectToString(Content);\n    }\n\n    internal static string ContentObjectToString(object content)\n    {\n        if (content != null)\n        {\n            FrameworkElement feContent = content as FrameworkElement;\n            if (feContent != null)\n            {\n                return feContent.GetPlainText();\n            }\n\n            return content.ToString();\n        }\n\n        return String.Empty;\n    }\n}\n\npublic class ListBoxItem : ContentControl { }\n\npublic class ComboBoxItem : ListBoxItem { }\n</code></pre>\n\n<p>Basically, any <code>ContentControl</code> will use the <code>Content</code> object in the <code>ToString()</code> method at the end of the day. If you didn't want to create your own object, you can always use the <code>KeyValuePair&lt;TKey, TValue&gt;</code> object as it can store a <code>Key</code> and a <code>Value</code> (the key would be the underlying value whereas the value would be the friendly text). Of course, Mehrzad Chehraz's <a href=\"https://stackoverflow.com/a/33135214/347172\">answer</a> of using the <code>Tag</code> property is just as valid, since <code>Tag</code> is meant to store any arbitrary value.</p>\n"}], "owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4336, "favorite_count": 0, "accepted_answer_id": 33135214, "answer_count": 3, "score": 2, "last_activity_date": 1451519984, "creation_date": 1444846732, "last_edit_date": 1451509266, "question_id": 33132756, "link": "https://stackoverflow.com/questions/33132756/comboboxitem-with-both-value-and-text", "title": "ComboBoxItem with both Value and Text", "body": "<p>My goal is to have a <code>ComboBox</code> where every drop down item has a specific text and a specific item associated with it so that, for example, if some clicks \"blah\" - the selected item will be 3.</p>\n\n<p>As far as I can see - there's only one \"Content\" which represents both the Text and the Value. So how do I get both separately? (In either XAML or code, but <strong><em>without Binding</em></strong>.)</p>\n"}, {"tags": ["c#", "mysql", "asp.net", "entity-framework", "rest"], "owner": {"reputation": 3782, "user_id": 384005, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/11be24359994ccf2c1f9ce8f20650fed?s=128&d=identicon&r=PG", "display_name": "Carlos P", "link": "https://stackoverflow.com/users/384005/carlos-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 305, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1444846706, "creation_date": 1444846706, "question_id": 33132743, "link": "https://stackoverflow.com/questions/33132743/rest-api-how-to-handle-post-updates-with-an-entitys-child-collection", "title": "REST API - how to handle POST updates with an entity&#39;s child collection", "body": "<p>I'm building a REST API using ASP.NET Web API and Entity Framework 6 with MySQL.</p>\n\n<p>Via a front-end [Angular.js] web app, users can <code>POST</code> an entity to the API to update it but I'm unsure how I should be handling any updates that might have been made to the entity's child collection.</p>\n\n<p>At the moment I'm doing something like this:</p>\n\n<pre><code>    public async Task Post([FromBody]List&lt;ConfiguredAPIDTO&gt; configuredAPIs)\n    {\n        using (PAMDatabase db = new PAMDatabase(WebApiConfig.PAMConnectionString))\n        {\n            // Loop through each Configured API DTO object that was supplied\n            foreach (ConfiguredAPIDTO Capi in configuredAPIs)\n            {\n                // Locate the corresponding entity in the database\n                var dbcapi = db.context.configuredAPIs.FirstOrDefault(c =&gt; c.configuredAPIID == Capi.configuredAPIID);\n\n                // Use AutoMapper to update existing entity object\n                Mapper.Map&lt;ConfiguredAPI, configuredAPI&gt;(Capi, dbcapi);\n            }\n\n            // Save updated entities to DB\n            await db.context.SaveChangesAsync(); // throws an InvalidOperationException\n        }\n    }\n</code></pre>\n\n<p>The thing is, each <code>ConfiguredAPIDTO</code> object actually has a child collection of <code>ConfiguredAPIExternalURLDTO</code> objects, as so:</p>\n\n<pre><code>public class ConfiguredAPIDTO\n{\n    public int configuredAPIID { get; set; }\n    public string internalBaseURL { get; set; }\n    public int orgID { get; set; }\n    public bool preventDefaultEndpointAssignment { get; set;}\n\n    public Api api { get; set; }\n    public ICollection&lt;ConfiguredAPIExternalURLDTO&gt; configuredAPIExternalURLs { get; set; }\n\n}\n\npublic class ConfiguredAPIExternalURL\n{\n    public string configuredAPIExternalBaseURL { get; set; }\n    public int configuredAPIID { get; set; }\n}\n</code></pre>\n\n<p>At the moment, I can confirm that AutoMapper is correctly updating the <code>configuredAPI</code> with the new Properties, and is also correctly updating the <code>configuredAPI.configuredAPIExternalURLs</code> child collection - but when I call <code>SaveChangesAsync()</code> I get an InvalidOperationException.</p>\n\n<p>First stab at this and I'm unsure how much manual inspection I should be doing to help Entity Framework out here. Will it automatically remove any orphaned objects when I update the entity like this?  Or should I be manually comparing old and new child collections to see what has changed and doing my own deletion / insertion accordingly?  Also, does EF require that my foreign keys are correct, or is merely inserting an object into a collection enough for it to understand what's going on.   Perhaps my whole pattern is wrong here and I should be handling each entity separately.</p>\n"}, {"tags": ["c#", "asp.net", "c#-4.0", "logging"], "comments": [{"owner": {"reputation": 514, "user_id": 1897196, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18422e7406729d5832fe8ae725fddfed?s=128&d=identicon&r=PG", "display_name": "Donald", "link": "https://stackoverflow.com/users/1897196/donald"}, "edited": false, "score": 0, "creation_date": 1444854085, "post_id": 33132704, "comment_id": 54081309, "body": "What&#39;s the logging framework/class you are using?"}, {"owner": {"reputation": 85, "user_id": 336058, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/353749797f13827e9f0a6f1f6b7ec4f0?s=128&d=identicon&r=PG", "display_name": "user336058", "link": "https://stackoverflow.com/users/336058/user336058"}, "edited": false, "score": 0, "creation_date": 1444941894, "post_id": 33132704, "comment_id": 54125280, "body": "This is the MSFT framework logging. and No I dont see any methods exposed for writing to file ..... Actually that was my question"}], "answers": [{"comments": [{"owner": {"reputation": 2321, "user_id": 1878571, "user_type": "registered", "accept_rate": 9, "profile_image": "https://graph.facebook.com/676179845/picture?type=large", "display_name": "nix86", "link": "https://stackoverflow.com/users/1878571/nix86"}, "edited": false, "score": 0, "creation_date": 1463997472, "post_id": 33135169, "comment_id": 62285431, "body": "I&#39;ve just run Install-Package NLog and it has failed"}], "tags": [], "owner": {"reputation": 1403, "user_id": 3294357, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05885ed050593ed82bdfb9e2187218a1?s=128&d=identicon&r=PG&f=1", "display_name": "Toddams", "link": "https://stackoverflow.com/users/3294357/toddams"}, "is_accepted": true, "score": 1, "last_activity_date": 1444855185, "creation_date": 1444855185, "answer_id": 33135169, "question_id": 33132704, "link": "https://stackoverflow.com/questions/33132704/using-loggerfactory-how-to-write-to-file-in-c/33135169#33135169", "title": "using LoggerFactory() , how to write to file in C#", "body": "<p>I guess, you are using <code>Microsoft.Framework.Logging</code> \nBut out-of-the-box implementations are provided for basic console logging and a few other targets, you\u2019ll need a logging back-end like Serilog or NLog to gain the kind of functionality you're requesting.</p>\n\n<p>I would recommend you to use NLog (just personal preference)</p>\n\n<pre><code>Install-Package NLog \n</code></pre>\n\n<p>then add to your code</p>\n\n<pre><code>loggerFactory.AddNLog(new global::NLog.LogFactory());\n</code></pre>\n\n<p><a href=\"https://github.com/aspnet/Logging/tree/dev/samples/SampleApp\" rel=\"nofollow\">https://github.com/aspnet/Logging/tree/dev/samples/SampleApp</a></p>\n\n<p><a href=\"http://nlog-project.org/\" rel=\"nofollow\">http://nlog-project.org/</a></p>\n"}], "owner": {"reputation": 85, "user_id": 336058, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/353749797f13827e9f0a6f1f6b7ec4f0?s=128&d=identicon&r=PG", "display_name": "user336058", "link": "https://stackoverflow.com/users/336058/user336058"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2743, "favorite_count": 0, "accepted_answer_id": 33135169, "answer_count": 1, "score": 0, "last_activity_date": 1444855185, "creation_date": 1444846570, "last_edit_date": 1444853524, "question_id": 33132704, "link": "https://stackoverflow.com/questions/33132704/using-loggerfactory-how-to-write-to-file-in-c", "title": "using LoggerFactory() , how to write to file in C#", "body": "<p>I have a program , which i need to update.\nCurrently the application , Logger writes to Console. using .AddConsole() method</p>\n\n<p>Kindly can anyone please help me how to write to file.\nfor eg : the \"c:\\workspace\\TestProject\\Log.txt\"</p>\n\n<pre><code>            logger = new LoggerFactory()\n                          .AddConsole()\n                          .CreateLogger(\"Msg\");\n</code></pre>\n"}]