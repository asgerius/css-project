[{"tags": ["c#", "com-interop"], "comments": [{"owner": {"reputation": 1251, "user_id": 1679224, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a6fda958fbe0945898daf40131408314?s=128&d=identicon&r=PG", "display_name": "Optional Option", "link": "https://stackoverflow.com/users/1679224/optional-option"}, "edited": false, "score": 1, "creation_date": 1545877241, "post_id": 53938371, "comment_id": 94717845, "body": "What exactly is TCadAppType? COM object has to have that interface implemented if you want to use it. You cannot cast it to some other C# object."}, {"owner": {"reputation": 21, "user_id": 10664780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Zkbk.jpg?s=128&g=1", "display_name": "Cvele", "link": "https://stackoverflow.com/users/10664780/cvele"}, "reply_to_user": {"reputation": 1251, "user_id": 1679224, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a6fda958fbe0945898daf40131408314?s=128&d=identicon&r=PG", "display_name": "Optional Option", "link": "https://stackoverflow.com/users/1679224/optional-option"}, "edited": false, "score": 0, "creation_date": 1545898938, "post_id": 53938371, "comment_id": 94722721, "body": "TCadType is just a generic type for this generic method. Later on I can call the method for example SldWorks.Sldworks CadApp&lt;SldWorks.Sldworks &gt;()"}, {"owner": {"reputation": 1251, "user_id": 1679224, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a6fda958fbe0945898daf40131408314?s=128&d=identicon&r=PG", "display_name": "Optional Option", "link": "https://stackoverflow.com/users/1679224/optional-option"}, "edited": false, "score": 0, "creation_date": 1545935618, "post_id": 53938371, "comment_id": 94737203, "body": "So you want to cast &quot;SldWorks.Application&quot; to &quot;SldWorkd.SldWorks&quot; ? I am getting some generic confusion here but just cannot put finger on it."}, {"owner": {"reputation": 21, "user_id": 10664780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Zkbk.jpg?s=128&g=1", "display_name": "Cvele", "link": "https://stackoverflow.com/users/10664780/cvele"}, "reply_to_user": {"reputation": 1251, "user_id": 1679224, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a6fda958fbe0945898daf40131408314?s=128&d=identicon&r=PG", "display_name": "Optional Option", "link": "https://stackoverflow.com/users/1679224/optional-option"}, "edited": false, "score": 0, "creation_date": 1545943938, "post_id": 53938371, "comment_id": 94739997, "body": "Well, not exactly... &quot;SldWorks.Application&quot; is just a <code>string</code>, which represents ProgID. Return value of Marshal.GetActiveObject is an <code>object</code>  that you can cast to any COM interface that it supports. For my case, the interface is <code>SldWorks.SldWorks</code>. More on this on the following link: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.marshal.getactiveobject?view=netframework-4.7\" rel=\"nofollow noreferrer\">Marshal.GetActiveObject</a>"}, {"owner": {"reputation": 1251, "user_id": 1679224, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a6fda958fbe0945898daf40131408314?s=128&d=identicon&r=PG", "display_name": "Optional Option", "link": "https://stackoverflow.com/users/1679224/optional-option"}, "edited": false, "score": 0, "creation_date": 1545954940, "post_id": 53938371, "comment_id": 94742941, "body": "Maybe building thin wrapper around dynamic object would be a better approach."}, {"owner": {"reputation": 21, "user_id": 10664780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Zkbk.jpg?s=128&g=1", "display_name": "Cvele", "link": "https://stackoverflow.com/users/10664780/cvele"}, "reply_to_user": {"reputation": 1251, "user_id": 1679224, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a6fda958fbe0945898daf40131408314?s=128&d=identicon&r=PG", "display_name": "Optional Option", "link": "https://stackoverflow.com/users/1679224/optional-option"}, "edited": false, "score": 0, "creation_date": 1545957536, "post_id": 53938371, "comment_id": 94743451, "body": "Did you have something like this in mind? <a href=\"https://stackoverflow.com/questions/5096416/wrapping-a-com-object-dynamic-type-in-c-sharp\" title=\"wrapping a com object dynamic type in c sharp\">stackoverflow.com/questions/5096416/&hellip;</a>"}, {"owner": {"reputation": 1251, "user_id": 1679224, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a6fda958fbe0945898daf40131408314?s=128&d=identicon&r=PG", "display_name": "Optional Option", "link": "https://stackoverflow.com/users/1679224/optional-option"}, "edited": false, "score": 0, "creation_date": 1545980504, "post_id": 53938371, "comment_id": 94747778, "body": "Similar but I would have a dynamic data member in the class and methods calling that dynamic object like this: public void SolidWorksDoWhatever() { myDynamicSolidWorks.DoWhatever(); }. Dumb but who cares :)"}, {"owner": {"reputation": 21, "user_id": 10664780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Zkbk.jpg?s=128&g=1", "display_name": "Cvele", "link": "https://stackoverflow.com/users/10664780/cvele"}, "reply_to_user": {"reputation": 1251, "user_id": 1679224, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a6fda958fbe0945898daf40131408314?s=128&d=identicon&r=PG", "display_name": "Optional Option", "link": "https://stackoverflow.com/users/1679224/optional-option"}, "edited": false, "score": 0, "creation_date": 1546033826, "post_id": 53938371, "comment_id": 94767070, "body": "Thank you for your help, I will try this during the weekend and let you know how it went :) All the best, Cvele."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10664780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Zkbk.jpg?s=128&g=1", "display_name": "Cvele", "link": "https://stackoverflow.com/users/10664780/cvele"}, "is_accepted": true, "score": 0, "last_activity_date": 1546122051, "creation_date": 1546122051, "answer_id": 53973775, "question_id": 53938371, "link": "https://stackoverflow.com/questions/53938371/runtime-casting-of-com-objects-in-c/53973775#53973775", "title": "Runtime casting of COM objects in C#", "body": "<p>Turns out that the my coding <strong>attempt 1 was valid c# code indeed.</strong> \nI tried it using with Autodesk Inventor, and it works. </p>\n\n<p>So the only thing left for me is to conclude that this is some bug from Solidworks and their COM interfacing. </p>\n\n<p>Thank you <a href=\"https://stackoverflow.com/users/1679224/optional-option\">Optional Option</a> for your interest in the topic. </p>\n"}], "owner": {"reputation": 21, "user_id": 10664780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Zkbk.jpg?s=128&g=1", "display_name": "Cvele", "link": "https://stackoverflow.com/users/10664780/cvele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "accepted_answer_id": 53973775, "answer_count": 1, "score": 2, "last_activity_date": 1546122051, "creation_date": 1545868764, "last_edit_date": 1546121438, "question_id": 53938371, "link": "https://stackoverflow.com/questions/53938371/runtime-casting-of-com-objects-in-c", "title": "Runtime casting of COM objects in C#", "body": "<p>I am working on a application which needs to communicate via COM interface with multiple CAD applications (<em>not in the same time</em>). I want to have nice and reusable code, <strong>but I came across problems with type casting of COM objects when I  made generic application handle getter method.</strong></p>\n\n<p>What I tried so far:</p>\n\n<ol>\n<li><p>This is the attempt I would like the most if it worked. </p>\n\n<pre><code>public static TCadAppType CadApp&lt;TCadAppType&gt;()\n{\n    dynamic cadApp = default(TCadAppType);\n\n    //Here under Dynamic View/Message there is already an error\n    //  Message = \"Element not found. (Exception from HRESULT: 0x8002802B (TYPE_E_ELEMENTNOTFOUND))\"\n    // cadVersion.Value evaluates to \"SldWorks.Application\"\n    cadApp = (TCadAppType)Marshal.GetActiveObject(cadVersion.Value);\n\n    //Following 2 lines of code are for testing purposes only, i am testing with Solidworks API \n    AssemblyDoc Assembly;\n\n    //The exception is thrown when I try to access some method from the Solidworks API \n    Assembly = (AssemblyDoc)cadApp.OpenDoc6(\"some parametras...\");\n\n}\n</code></pre></li>\n<li><p>Attempt using Convert class</p>\n\n<pre><code>// Another attempt using  Convert class\npublic static TCadAppType CadApp&lt;TCadAppType&gt;()\n{\n    dynamic cadApp = default(TCadAppType);\n    // cadVersion.Value evaluates to \"SldWorks.Application\"\n    cadApp = Marshal.GetActiveObject(cadVersion.Value);\n\n\n    cadApp = Convert.ChangeType(cadApp, typeof(SldWorks.SldWorks));\n    // Exception is thrown with the following message:\n    // Message = \"Object must implement IConvertible.\"\n}\n</code></pre></li>\n</ol>\n\n<p>I really thought that I am on the right track, since there is an article on Microsoft Docs website explaining how dynamic can help you with com interopt:  <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/types/using-type-dynamic#com-interop\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/types/using-type-dynamic#com-interop</a></p>\n\n<p>Any ideas <strong>how I can do this runtime casting a keep my code as reusable as possible?</strong></p>\n\n<p>My software setup:</p>\n\n<ul>\n<li>Win  10 </li>\n<li>Project is targeted for .NET 4.7.2</li>\n<li>First Tests are with Solidworks 2019</li>\n</ul>\n"}, {"tags": ["c#", "mongodb"], "answers": [{"comments": [{"owner": {"reputation": 1626, "user_id": 3947314, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6047633dd13e3556e6a1d1218c8a723f?s=128&d=identicon&r=PG&f=1", "display_name": "Shakeer Hussain", "link": "https://stackoverflow.com/users/3947314/shakeer-hussain"}, "edited": false, "score": 0, "creation_date": 1545926574, "post_id": 53940683, "comment_id": 94733838, "body": "@Podhajcer, I tried removing this line filter = builder.Eq(&quot;Employee.EmpId&quot;, 100); Still am seeing all Emp Id( count 3)?"}], "tags": [], "owner": {"reputation": 2466, "user_id": 6565271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/829b9502a55752f79a54080a91ca06c9?s=128&d=identicon&r=PG", "display_name": "Itay Podhajcer", "link": "https://stackoverflow.com/users/6565271/itay-podhajcer"}, "is_accepted": false, "score": 0, "last_activity_date": 1545892145, "creation_date": 1545892145, "answer_id": 53940683, "question_id": 53938356, "link": "https://stackoverflow.com/questions/53938356/find-a-value-inside-the-list-array-using-mongodb-c/53940683#53940683", "title": "Find a value inside the List Array using Mongodb C#", "body": "<p>I think you are overriding your <code>ElemMatch</code> filter with the line of code just below it:</p>\n\n<pre><code>filter = Builders&lt;EmpInfoData&gt;.Filter.ElemMatch(x =&gt; x.Employee, x =&gt; x.railId == rid.EmpId);\nfilter = builder.Eq(\"Employee.EmpId\", 100); // Overrides what you did in the previous line\n</code></pre>\n\n<p>Try removing the second line.</p>\n\n<p>Hope it helps!</p>\n"}, {"tags": [], "owner": {"reputation": 1626, "user_id": 3947314, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6047633dd13e3556e6a1d1218c8a723f?s=128&d=identicon&r=PG&f=1", "display_name": "Shakeer Hussain", "link": "https://stackoverflow.com/users/3947314/shakeer-hussain"}, "is_accepted": false, "score": 0, "last_activity_date": 1546107663, "creation_date": 1546107663, "answer_id": 53972210, "question_id": 53938356, "link": "https://stackoverflow.com/questions/53938356/find-a-value-inside-the-list-array-using-mongodb-c/53972210#53972210", "title": "Find a value inside the List Array using Mongodb C#", "body": "<p>I got the solution, I wrote Filter Query as below, It works fine.</p>\n\n<pre><code> var Queryfilter = Builders&lt;EmpInfoData&gt;.Filter.And(\n                 Builders&lt;EmpInfoData&gt;.Filter.ElemMatch(x =&gt; x.Employee, r =&gt; r.EmpId == rid.EmpId));\n</code></pre>\n"}], "owner": {"reputation": 1626, "user_id": 3947314, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6047633dd13e3556e6a1d1218c8a723f?s=128&d=identicon&r=PG&f=1", "display_name": "Shakeer Hussain", "link": "https://stackoverflow.com/users/3947314/shakeer-hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1546107663, "creation_date": 1545868631, "last_edit_date": 1545871827, "question_id": 53938356, "link": "https://stackoverflow.com/questions/53938356/find-a-value-inside-the-list-array-using-mongodb-c", "title": "Find a value inside the List Array using Mongodb C#", "body": "<p>I have below JSON data. I want to search a EmpId and return a single record.</p>\n\n<p>I am using below code but it is returning all EmpIds.</p>\n\n<p>I want search a emp Id (eg.100) and query should return a record which is EMpId equal to 100?</p>\n\n<pre><code>{\n\"EmpInfo\": {\n   \"DeptId\":\"C0\",\n   \"Employee\":[\n                {\n                      \"EmpId\":\"100\",\n                      \"isActive\": true,\n                      \"Name\":\"smith\"\n\n                },{\n                      \"EmpId\":\"101\",\n                      \"isActive\": true,\n                       \"Name\":\"John\"\n\n                },\n                {\n                      \"EmpId\":\"102\",\n                      \"isActive\": true,\n                        \"Name\":\"Sam\"\n\n                }\n            ]\n        }\n}\n</code></pre>\n\n<p>C# code: find emp Id =100</p>\n\n<pre><code> var collection = _mongoDataClient.client.GetDatabase(\"Dbname\");\n var builder = Builders&lt;EmpInfoData&gt;.Filter;\n  FilterDefinition&lt;EmpInfoData&gt; filter;\n\n  foreach (var rid in _CatalogInfoRequest.EmpInfo.Employee)\n   {\n   filter = Builders&lt;EmpInfoData&gt;.Filter.ElemMatch(x =&gt; x.Employee, x =&gt; x.railId == rid.EmpId);\n      filter = builder.Eq(\"Employee.EmpId\", 100);\n\n      List &lt;EmpInfoData&gt; dashboardContents = null;\n        result = collection.Find(filter).ToList();\n\n\n            if (result [0].Employee.Count &gt; 0)\n             {\n                   strmessage = \"Update:\"+result [0].children.Count; //Should return single count but returning 3 rows.\n              }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "system.reactive", "polling", "reactive"], "comments": [{"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1545889901, "post_id": 53938331, "comment_id": 94719978, "body": "Don&#39;t ever do any of this funky recursive <code>OnNext</code> code - it&#39;ll end in tears. There&#39;s almost always a way to write a clean query."}], "answers": [{"comments": [{"owner": {"reputation": 656, "user_id": 1279519, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/160a6454194230908dede268d09ce1ba?s=128&d=identicon&r=PG", "display_name": "IgorStack", "link": "https://stackoverflow.com/users/1279519/igorstack"}, "edited": false, "score": 0, "creation_date": 1545870311, "post_id": 53938420, "comment_id": 94716914, "body": "But some calls to <code>Library.GetJobsAsync(CurrentController)</code> can take more then 5sec. What will happen then?"}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "reply_to_user": {"reputation": 656, "user_id": 1279519, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/160a6454194230908dede268d09ce1ba?s=128&d=identicon&r=PG", "display_name": "IgorStack", "link": "https://stackoverflow.com/users/1279519/igorstack"}, "edited": false, "score": 0, "creation_date": 1545885449, "post_id": 53938420, "comment_id": 94719065, "body": "@IgorStack - The <code>Observable.Interval</code> operator provides a way to specify the interval between the end of the last call and the start of the next. It isn&#39;t the same as a timer which fires at regular intervals."}, {"owner": {"reputation": 12904, "user_id": 415661, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8faea52abcef0df40f92cb1f115d0e62?s=128&d=identicon&r=PG", "display_name": "Shlomo", "link": "https://stackoverflow.com/users/415661/shlomo"}, "reply_to_user": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1545888350, "post_id": 53938420, "comment_id": 94719624, "body": "Updated answer. <code>Interval</code> doesn&#39;t play friendly here because of the async stuff, unless you have some funky scheduler going on. @Enigmativity, if you&#39;re thinking scheduler, please post separate answer."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1545889840, "post_id": 53938420, "comment_id": 94719966, "body": "@Shlomo - Try running it using an <code>EventLoopScheduler</code>. That forces it to run on a single thread."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1545892230, "post_id": 53938420, "comment_id": 94720636, "body": "@Shlomo - Annoying. <code>Observable.Interval</code> is meant to work the way I described."}, {"owner": {"reputation": 14691, "user_id": 1808494, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3d837ea752592568bd712261baa61a2d?s=128&d=identicon&r=PG&f=1", "display_name": "Aron", "link": "https://stackoverflow.com/users/1808494/aron"}, "edited": false, "score": 0, "creation_date": 1546013805, "post_id": 53938420, "comment_id": 94760201, "body": "@Shlomo Sorry dude...there is a simpler solution. Check out <code>Observable.Create</code>. This is a helper function that can be used to create a Cold Observable. I tend to use a <code>while(cancellationToken.IsCancelRequested == false)</code> in this."}, {"owner": {"reputation": 12904, "user_id": 415661, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8faea52abcef0df40f92cb1f115d0e62?s=128&d=identicon&r=PG", "display_name": "Shlomo", "link": "https://stackoverflow.com/users/415661/shlomo"}, "edited": false, "score": 0, "creation_date": 1546017189, "post_id": 53938420, "comment_id": 94761562, "body": "Updated answer to remove a bug: Also changed design slightly."}, {"owner": {"reputation": 14691, "user_id": 1808494, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3d837ea752592568bd712261baa61a2d?s=128&d=identicon&r=PG&f=1", "display_name": "Aron", "link": "https://stackoverflow.com/users/1808494/aron"}, "edited": false, "score": 0, "creation_date": 1546017535, "post_id": 53938420, "comment_id": 94761679, "body": "@Shlomo haha, thanks...I haven&#39;t done .net in about a year now...Just ran the code in a UnitTest, found that typo too and found it works nicely...:)"}], "tags": [], "owner": {"reputation": 12904, "user_id": 415661, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8faea52abcef0df40f92cb1f115d0e62?s=128&d=identicon&r=PG", "display_name": "Shlomo", "link": "https://stackoverflow.com/users/415661/shlomo"}, "is_accepted": false, "score": 2, "last_activity_date": 1546017089, "last_edit_date": 1546017089, "creation_date": 1545869301, "answer_id": 53938420, "question_id": 53938331, "link": "https://stackoverflow.com/questions/53938331/valid-setup-for-reactive-data-polling-in-c/53938420#53938420", "title": "Valid setup for Reactive data polling in C#", "body": "<p><strong>2nd edit</strong>: </p>\n\n<p>@Aron's answer reminded me of multi subscription problems, which the below answer has. I recommend a helper function <code>IntervalAsync</code> looking like this:</p>\n\n<pre><code>public static class RxExtensions\n{\n    public static IObservable&lt;TResult&gt; IntervalAsync&lt;TResult&gt;(Func&lt;IObservable&lt;TResult&gt;&gt; f, TimeSpan period)\n    {\n        return IntervalAsync(f, period, Scheduler.Default);\n    }\n\n    public static IObservable&lt;TResult&gt; IntervalAsync&lt;TResult&gt;(Func&lt;IObservable&lt;TResult&gt;&gt; f, TimeSpan period, IScheduler scheduler)\n    {\n        return Observable.Create&lt;TResult&gt;(o =&gt;\n        {\n            var q = new BehaviorSubject&lt;TimeSpan&gt;(TimeSpan.Zero);\n            var observable = q\n                .Delay(t =&gt; Observable.Timer(t))\n                .SelectMany(_ =&gt; f())\n                .Do(t =&gt; q.OnNext(period));\n            return observable.Subscribe(o);\n        });\n    }\n}\n</code></pre>\n\n<p>with the final code looking like this:</p>\n\n<pre><code>var subscription = RxExtensions.IntervalAsync(\n        () =&gt; Observable.FromAsync(() =&gt; Library.GetJobsAsync(CurrentController)), \n        TimeSpan.FromSeconds(5)\n    )\n    .ObserveOnDispatcher()\n    .Subscribe(i =&gt;\n    {\n        Jobs = new ObservableCollection&lt;JobDetail&gt;(jobDetails);\n    });\n</code></pre>\n\n<p>@Aron's answer works. I don't find it simpler because you have more Rx-TPL mixing, though I'l admit that 'simpler' is in the eye of the beholder. </p>\n\n<hr>\n\n<p><strong>First edit</strong>: (<strong>Not recommended</strong>, multiple subscription bugs are present).</p>\n\n<p>Your concern is valid: With a synchronous reactive pipeline, <code>Interval</code> would wait for the full pipeline to finish. But with an async pipeline, <code>Interval</code> won't hold up. So if the first async task took 4.5 seconds, the next task would start .5 seconds after the first finished. </p>\n\n<p>If you want the end-to-begin delay to be a set timespan, I think it would be best to do a queueing mechanism, similar to what you set up. I would do something similar to this:</p>\n\n<pre><code>var q = new BehaviorSubject&lt;TimeSpan&gt;(TimeSpan.Zero);\nvar subscription = q\n    .Delay(t =&gt; Observable.Timer(t))\n    .SelectMany(_ =&gt; Observable.FromAsync(() =&gt; Library.GetJobsAsync(CurrentController))\n    .Subscribe(i =&gt;\n    {\n        Jobs = new ObservableCollection&lt;JobDetail&gt;(jobDetails);\n    });\n</code></pre>\n\n<p>Rx's thread &amp; stack management I think works better here than TPL, and this won't lead to an infinite stack. However, I haven't tested it.</p>\n\n<hr>\n\n<p><strong>Original answer:</strong></p>\n\n<p>This may do it, but I can't test because no types. </p>\n\n<pre><code>var subscription = Observable.Interval(TimeSpan.FromSeconds(5))\n    .SelectMany(_ =&gt; Observable.FromAsync(() =&gt; Library.GetJobsAsync(CurrentController))\n    .ObserveOnDispatcher()\n    .Subscribe(jobDetails =&gt;\n    {\n        Jobs = new ObservableCollection&lt;JobDetail&gt;(jobDetails);\n    });\n</code></pre>\n\n<p>If no good, then please modify your answer to include a <a href=\"https://stackoverflow.com/help/mcve\">mcve</a>.</p>\n\n<hr>\n\n<p><strong>Testing code:</strong></p>\n\n<p>This is the code I'm using to test for async-TPL/RX mix. Doesn't full replicate @IgorStack's environment because no WPF (no <code>.ObserveOnDispatcher()</code>):</p>\n\n<pre><code>var f = new Func&lt;Task&lt;int&gt;&gt;(async () =&gt; {\n    await Task.Delay(TimeSpan.FromSeconds(1));\n    return 3;\n});\n\nvar scheduler = new EventLoopScheduler(); //or Scheduler.Default\nvar o1 = RxExtensions.IntervalAsync(() =&gt; Observable.FromAsync(() =&gt; f()), TimeSpan.FromSeconds(5), scheduler)\n    .Timestamp();\nvar subscription1 = o1.Subscribe(i =&gt;\n    {\n        Console.WriteLine(\"s1: \" + i.Timestamp.ToString(\"hh:mm:ss.ffff\"));\n    });\nvar subscription2 = o1.Subscribe(i =&gt;\n    {\n        Console.WriteLine(\"s2: \" + i.Timestamp.ToString(\"hh:mm:ss.ffff\"));\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14691, "user_id": 1808494, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3d837ea752592568bd712261baa61a2d?s=128&d=identicon&r=PG&f=1", "display_name": "Aron", "link": "https://stackoverflow.com/users/1808494/aron"}, "is_accepted": false, "score": 0, "last_activity_date": 1546017615, "last_edit_date": 1546017615, "creation_date": 1546013390, "answer_id": 53961264, "question_id": 53938331, "link": "https://stackoverflow.com/questions/53938331/valid-setup-for-reactive-data-polling-in-c/53961264#53961264", "title": "Valid setup for Reactive data polling in C#", "body": "<p>Sorry @Shlomo, simplest way to achieve this is the following (this will give you end-to-start delay of 5 seconds).</p>\n\n<pre><code>var jobs = Observable.Create&lt;List&lt;Job&gt;&gt;(async (observer, cancel) =&gt; {\n   while(cancel.IsCancellationRequested == false)\n   {\n      try\n      {\n         var ret = await Library.GetJobsAsync(CurrentController);\n         observer.OnNext(ret);\n         await Task.Delay(5000, cancel);\n      }\n      catch(Exception ex)\n      {\n         observer.OnError(ex);\n         return;\n      }\n   }\n   observer.OnCompleted();\n\n});\n</code></pre>\n\n<p>If instead you want start-to-start delay of 5 seconds you can exchange the body of the code simply with:</p>\n\n<pre><code>var delay = Task.Delay(5000, cancel);\nvar ret = await Library.GetJobsAsync(CurrentController);\nobserver.OnNext(ret);\nawait delay;\n</code></pre>\n\n<p>Here is the Code rewritten into a LinqPad \"UnitTest\"...You can confirm the results.</p>\n\n<pre><code>void Main()\n{\n    var scheduler = new TestScheduler();\n\n    var foo = Observable.Create&lt;int&gt;(async (observer, cancellationToken) =&gt; {\n        while(!cancellationToken.IsCancellationRequested){\n            var ret = await DoStuff(scheduler);\n            observer.OnNext(ret);\n            await Observable.Delay(\n                Observable.Return(Unit.Default), \n                TimeSpan.FromSeconds(5), \n                scheduler)\n            .ToTask();\n        }\n    });\n\n    using(foo.Timestamp(scheduler).Subscribe(f =&gt; Console.WriteLine(f.Timestamp))){\n        scheduler.AdvanceBy(TimeSpan.FromSeconds(120).Ticks);\n    }\n\n}\n\n// Define other methods and classes here\n\n\npublic Task&lt;int&gt; DoStuff(IScheduler scheduler){\n    return Observable.Delay(Observable.Return(1), TimeSpan.FromSeconds(1), scheduler).ToTask();\n}\n</code></pre>\n\n<p>The output is the following:</p>\n\n<pre><code>01/01/0001 00:00:01 +00:00\n01/01/0001 00:00:07 +00:00\n01/01/0001 00:00:13 +00:00\n01/01/0001 00:00:19 +00:00\n01/01/0001 00:00:25 +00:00\n01/01/0001 00:00:31 +00:00\n01/01/0001 00:00:37 +00:00\n01/01/0001 00:00:43 +00:00\n01/01/0001 00:00:49 +00:00\n01/01/0001 00:00:55 +00:00\n01/01/0001 00:01:01 +00:00\n01/01/0001 00:01:07 +00:00\n01/01/0001 00:01:13 +00:00\n01/01/0001 00:01:19 +00:00\n01/01/0001 00:01:25 +00:00\n01/01/0001 00:01:31 +00:00\n01/01/0001 00:01:37 +00:00\n01/01/0001 00:01:43 +00:00\n01/01/0001 00:01:49 +00:00\n01/01/0001 00:01:55 +00:00\n</code></pre>\n"}], "owner": {"reputation": 656, "user_id": 1279519, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/160a6454194230908dede268d09ce1ba?s=128&d=identicon&r=PG", "display_name": "IgorStack", "link": "https://stackoverflow.com/users/1279519/igorstack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1546017615, "creation_date": 1545868397, "question_id": 53938331, "link": "https://stackoverflow.com/questions/53938331/valid-setup-for-reactive-data-polling-in-c", "title": "Valid setup for Reactive data polling in C#", "body": "<p>I need to implement periodic polling of some data from remote component.<br>\nIt should poll data next time <strong>after previous polling is done + wait let's say 5sec</strong>.<br>\nI came up with the code below but later figured out app throws Exception upon close - Event viewer has a record for <code>0xc00000fd</code> which is stack overflow exception.<br>\nIt's worth to mention that this exception only happens when app was open and polling data for quite a while (it takes time for stack to overflow).<br>\nAll this is a WPF app and code below is in <code>ViewModel</code>.    </p>\n\n<p>I realize why exception is happening in this code (probably shouldn't call OnNext in Subscribe) but what is the correct way to implement?</p>\n\n<pre><code>_ctrlSubj = new Subject&lt;ControllerInfo&gt;();\n_ctrlSubj.SelectMany(async _ =&gt; \n{\n    // CurrentController is of type ControllerInfo\n    // next line can take various amount of time\n    var jobDetails = await Library.GetJobsAsync(CurrentController);\n    return jobDetails;\n})\n.ObserveOnDispatcher()\n.Subscribe(async e =&gt;\n{\n    // Jobs is bound to View\n    Jobs = new ObservableCollection&lt;JobDetail&gt;(jobDetails);\n\n    await Task.Delay(TimeSpan.FromSeconds(5));\n    _ctrlSubj.OnNext(CurrentController);\n});\n</code></pre>\n"}, {"tags": ["c#", "xaml", "uwp", "uwp-xaml"], "answers": [{"tags": [], "owner": {"reputation": 777, "user_id": 7814396, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dc195e12e1c237961ce40f297bda4d2b?s=128&d=identicon&r=PG", "display_name": "Luca Lindholm", "link": "https://stackoverflow.com/users/7814396/luca-lindholm"}, "is_accepted": true, "score": 1, "last_activity_date": 1545870169, "creation_date": 1545870169, "answer_id": 53938508, "question_id": 53938325, "link": "https://stackoverflow.com/questions/53938325/how-to-set-theme-of-a-commandbarflyout-in-uwp/53938508#53938508", "title": "How to set theme of a CommandBarFlyout in UWP?", "body": "<p>No, CommandBarFlyout is a new XAML control just introduced in update 1809 and MS hasn't already included the Style nor RequestedTheme properties.</p>\n\n<p><strong>For now, the CommandBarFlyout inherits its parent's theme</strong>, that's all.</p>\n\n<p>If you have to associate the CommandBarFlyout to an Image control, for example, then you can change the image's theme without any problem, because it wouldn't change anything in the main controls itself.</p>\n\n<p>For more infos about this control and the other ones, just download the companion app from the Windows Store: <em>XAML Controls Gallery</em>.  (Store link: <a href=\"https://www.microsoft.com/store/productId/9MSVH128X2ZT\" rel=\"nofollow noreferrer\">Link</a>)</p>\n\n<p>Best Regards</p>\n"}], "owner": {"reputation": 27, "user_id": 10103259, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7vlnZAIiZk4/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r2EVacUKmpACAbQ1RCYnR4q3_siw/mo/photo.jpg?sz=128", "display_name": "10 Develops", "link": "https://stackoverflow.com/users/10103259/10-develops"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 53938508, "answer_count": 1, "score": 0, "last_activity_date": 1545873957, "creation_date": 1545868327, "last_edit_date": 1545873957, "question_id": 53938325, "link": "https://stackoverflow.com/questions/53938325/how-to-set-theme-of-a-commandbarflyout-in-uwp", "title": "How to set theme of a CommandBarFlyout in UWP?", "body": "<p>there is not Presenter Style or Requested Theme option to CommandBarFlyout in XAML or C#. So how to set dark or light theme?</p>\n"}, {"tags": ["c#", "azure", "azure-functions", "azure-eventgrid"], "comments": [{"owner": {"reputation": 2334, "user_id": 2360972, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7d8bd013c172c4097cfdae6e3df4fc6b?s=128&d=identicon&r=PG", "display_name": "Chief Wiggum", "link": "https://stackoverflow.com/users/2360972/chief-wiggum"}, "edited": false, "score": 0, "creation_date": 1558083930, "post_id": 53938043, "comment_id": 98991710, "body": "There&#39;s a <a href=\"https://feedback.azure.com/forums/909934-azure-event-grid/suggestions/37672006-bug-feature-support-datetimeoffset-instead-conver\" rel=\"nofollow noreferrer\">UserVoice</a> regarding this issue. Please consider voting for it :-)"}, {"owner": {"reputation": 397, "user_id": 1815825, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9d0749199e7978918d60a50bacd170ae?s=128&d=identicon&r=PG", "display_name": "alital", "link": "https://stackoverflow.com/users/1815825/alital"}, "edited": false, "score": 0, "creation_date": 1600054395, "post_id": 53938043, "comment_id": 112956523, "body": "Apparently the above uservoice has been fixed. You need to use Cloud Event Schema v1.0"}], "answers": [{"tags": [], "owner": {"reputation": 2466, "user_id": 6565271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/829b9502a55752f79a54080a91ca06c9?s=128&d=identicon&r=PG", "display_name": "Itay Podhajcer", "link": "https://stackoverflow.com/users/6565271/itay-podhajcer"}, "is_accepted": false, "score": 1, "last_activity_date": 1545889839, "creation_date": 1545889839, "answer_id": 53940317, "question_id": 53938043, "link": "https://stackoverflow.com/questions/53938043/avoid-converting-datetimeoffset-to-utc-time-in-azure-eventgrid/53940317#53940317", "title": "Avoid Converting DateTimeOffset to UTC time in Azure EventGrid", "body": "<p>Although working with <strong>UTC</strong> on the backend is usually the best practice (so I would consider keeping it unless there is a specific need to work with local time), I think you should try to store the offset in a dedicated field, and the just convert it back to the relevant local time on the receiving side using that offset.</p>\n\n<p>Take a look at <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.datetimeoffset?redirectedfrom=MSDN&amp;view=netframework-4.7.2\" rel=\"nofollow noreferrer\">DateTimeOffset Struct</a> on how you might be able to do the conversions.</p>\n\n<p>Hope it helps!</p>\n"}], "owner": {"reputation": 6411, "user_id": 93431, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f657f2e1e0701ea7c3785b4f21aad68?s=128&d=identicon&r=PG", "display_name": "Jeffrey Lott", "link": "https://stackoverflow.com/users/93431/jeffrey-lott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1545889839, "creation_date": 1545865289, "question_id": 53938043, "link": "https://stackoverflow.com/questions/53938043/avoid-converting-datetimeoffset-to-utc-time-in-azure-eventgrid", "title": "Avoid Converting DateTimeOffset to UTC time in Azure EventGrid", "body": "<p>I've been testing out Azure's EventGrid and one of the things I'm trying to do is send an event where part of the PayLoad is a DateTimeOffset field.  I'm publishing the event using the standard EventGridClient:</p>\n\n<pre><code>using (var client = new EventGridClient(topicCredentials))\n{\n    await client.PublishEventsAsync(topicHostname, eventGridEvents).ConfigureAwait(false);\n}\n</code></pre>\n\n<p>I've fired up Fiddler and verified that the date portion is getting serialized as I would expect: \n\"CheckInDate\": \"2018-12-26T14:47:42.8-08:00\"</p>\n\n<p>But when my subscribed Azure Functions listener receives the HttpTrigger and reads the message's content, the same item has somehow been formatted as UTC: \"CheckInDate\": \"2018-12-26T22:47:42.8+00:00\".</p>\n\n<p>Is there a setting or something I need to enable to get it to preserve the original offset?</p>\n"}, {"tags": ["c#", "firebase", "unity3d", "firebase-realtime-database", "firebase-storage"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1545868792, "post_id": 53938004, "comment_id": 94716687, "body": "What exactly is &quot;the trouble&quot;?"}, {"owner": {"reputation": 133, "user_id": 8933106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9e103951b04e8b9a7a4f4fcbfdb870?s=128&d=identicon&r=PG&f=1", "display_name": "Lasse Bickmann", "link": "https://stackoverflow.com/users/8933106/lasse-bickmann"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1545870078, "post_id": 53938004, "comment_id": 94716882, "body": "I get the text, but not the image. I can find the ImageURL, but for some reason it doesn&#39;t load into the image&#39;view&#39; in the prefab"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10831079, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1ClbT4RiDbM/AAAAAAAAAAI/AAAAAAAAAak/q5XJ1RlC5LI/photo.jpg?sz=128", "display_name": "Jay Rojivadiya", "link": "https://stackoverflow.com/users/10831079/jay-rojivadiya"}, "is_accepted": false, "score": 1, "last_activity_date": 1545917092, "last_edit_date": 1545917092, "creation_date": 1545902822, "answer_id": 53942673, "question_id": 53938004, "link": "https://stackoverflow.com/questions/53938004/how-to-download-image-from-firebase-database-and-load-it-into-image-in-unity/53942673#53942673", "title": "How to download image from firebase database, and load it into image in unity", "body": "<ul>\n<li>Make sure you imported <code>FirebaseStorage.unitypackage</code></li>\n<li><p>You will need <code>StorageReference</code> not <code>DatabaseReference</code></p>\n\n<pre><code>Firebase.Storage.StorageReference storageReference = \n   Firebase.Storage.FirebaseStorage.DefaultInstance.GetReferenceFromUrl(\"storage_url\");\n\nstorageReference.Child(\"resource_name\").GetBytesAsync(1024*1024).\n    ContinueWith((System.Threading.Tasks.Task&lt;byte[]&gt; task) =&gt;\n    {\n        if (task.IsFaulted || task.IsCanceled)\n        {\n            Debug.Log(task.Exception.ToString());\n        }\n        else\n        {\n            byte[] fileContents = task.Result;\n            Texture2D texture = new Texture2D(1, 1);\n            texture.LoadImage(fileContents);\n            //if you need sprite for SpriteRenderer or Image\n            Sprite sprite = Sprite.Create(texture, new Rect(0.0f, 0.0f,texture.width, \n            texture.height), new Vector2(0.5f, 0.5f), 100.0f);\n            Debug.Log(\"Finished downloading!\");\n        }\n    });\n</code></pre></li>\n<li><p><code>storage_url</code>:  Found in firebase->storage section. will be something like <code>gs://project_name.appspot.com/</code></p></li>\n<li><code>resource_name</code> : Name of a resource like <code>image_name.png</code></li>\n</ul>\n"}], "owner": {"reputation": 133, "user_id": 8933106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9e103951b04e8b9a7a4f4fcbfdb870?s=128&d=identicon&r=PG&f=1", "display_name": "Lasse Bickmann", "link": "https://stackoverflow.com/users/8933106/lasse-bickmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3010, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1545917092, "creation_date": 1545864894, "question_id": 53938004, "link": "https://stackoverflow.com/questions/53938004/how-to-download-image-from-firebase-database-and-load-it-into-image-in-unity", "title": "How to download image from firebase database, and load it into image in unity", "body": "<p>I use Firebase Realtime database to handle some of the UI in my Unity mobile application. I save and retrieve data from my database without any problems. \nThe problem comes when i want to load an image from Firebase Storage.\nI have saved the URL's and names of the images' on my server, and now i try to Instantiate a prefab. \nThis prefab contains a panel with text and an image for each Firebase-child.\nThe structure of the image i try to load from my database looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KcJXv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KcJXv.png\" alt=\"enter image description here\"></a></p>\n\n<p>So in my code I go to the child \"Byer\", find the first name and add the key as the name of my newly instantiated prefab works fine. But when I try to load the imageURL into the image, I get the trouble - my code looks like this:</p>\n\n<pre><code>DatabaseReference reference = FirebaseDatabase.DefaultInstance.RootReference;\nFirebaseDatabase.DefaultInstance.GetReference(\"Byer\").ChildAdded += Handle_ChildAdded;\n\n\n void Handle_ChildAdded(object sender, ChildChangedEventArgs e)\n    {\n        if (e.Snapshot.Value != null)\n        {\n            var dict = e.Snapshot.Value as Dictionary&lt;string, object&gt;;\n\n\n           Transform scrollViewObj = Instantiate(prefab, new Vector3(0, (downSize * Global.citiesCount) - firstY, 0), Quaternion.identity);\n           scrollViewObj.transform.Find(\"Text\").gameObject.GetComponent&lt;Text&gt;().text = e.Snapshot.Key;\n               scrollViewObj.name = e.Snapshot.Key;\n\n//HERE I TRY TO LOAD IMAGE FROM URL (This is my problem)\n            string data_URL = dict[\"ImageURL\"] as string;\n            //Start coroutine to download image\n            StartCoroutine(AccessURL(data_URL, scrollViewObj.transform.Find(\"Image\").gameObject.GetComponent&lt;Image&gt;()));\n\n                }\n            }\n\n//Function to download (This could might also be my problem)\n      IEnumerator AccessURL(string url, Image img)\n        {\n\n\n        //Debug.Log(\"Accessing texture URL in database\");\n        using (WWW www = new WWW(url))\n        {\n\n            yield return www;\n            Renderer r = GetComponent&lt;Renderer&gt;();\n            r.material.mainTexture = www.texture;\n            img.material.mainTexture = www.texture;\n            Debug.Log(\"Texture URL: \" + www.url);\n        }\n    }\n</code></pre>\n\n<p>Can anyone see what I am doing wrong?</p>\n"}, {"tags": ["c#", "visual-studio", "winforms", "outlook"], "comments": [{"owner": {"reputation": 1, "user_id": 10836778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638a70d338f94be8a736970735b4fc59?s=128&d=identicon&r=PG&f=1", "display_name": "william_perry", "link": "https://stackoverflow.com/users/10836778/william-perry"}, "edited": false, "score": 0, "creation_date": 1545867269, "post_id": 53937979, "comment_id": 94716459, "body": "Apparently I can&#39;t enumerate a MAPIFolder object... :-("}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10836778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638a70d338f94be8a736970735b4fc59?s=128&d=identicon&r=PG&f=1", "display_name": "william_perry", "link": "https://stackoverflow.com/users/10836778/william-perry"}, "edited": false, "score": 0, "creation_date": 1545933740, "post_id": 53940240, "comment_id": 94736558, "body": "I took your code as is and dropped it into a button_Click.  Did a cobobox.items.add(folder) no luck.  stuck a counter into the for each it didn&#39;t increment. then created a label and had it write to the label as the first task in the for each loop.  It never wrote to the label.  so it looks like it is not going into the foreach loop."}, {"owner": {"reputation": 6072, "user_id": 2142950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bZGrD.png?s=128&g=1", "display_name": "Klaus G&#252;tter", "link": "https://stackoverflow.com/users/2142950/klaus-g%c3%bctter"}, "reply_to_user": {"reputation": 1, "user_id": 10836778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638a70d338f94be8a736970735b4fc59?s=128&d=identicon&r=PG&f=1", "display_name": "william_perry", "link": "https://stackoverflow.com/users/10836778/william-perry"}, "edited": false, "score": 0, "creation_date": 1545935341, "post_id": 53940240, "comment_id": 94737105, "body": "Does your Calendar have any sub-folders?"}, {"owner": {"reputation": 1, "user_id": 10836778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638a70d338f94be8a736970735b4fc59?s=128&d=identicon&r=PG&f=1", "display_name": "william_perry", "link": "https://stackoverflow.com/users/10836778/william-perry"}, "edited": false, "score": 0, "creation_date": 1545937493, "post_id": 53940240, "comment_id": 94737912, "body": "yes it does...  So the calendar that I specifically want to read from is a shared calendar."}, {"owner": {"reputation": 1, "user_id": 10836778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638a70d338f94be8a736970735b4fc59?s=128&d=identicon&r=PG&f=1", "display_name": "william_perry", "link": "https://stackoverflow.com/users/10836778/william-perry"}, "edited": false, "score": 0, "creation_date": 1545943242, "post_id": 53940240, "comment_id": 94739773, "body": "Interesting\u2026  I am using 2016.  I wonder if the interop is deprecated...."}, {"owner": {"reputation": 6072, "user_id": 2142950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bZGrD.png?s=128&g=1", "display_name": "Klaus G&#252;tter", "link": "https://stackoverflow.com/users/2142950/klaus-g%c3%bctter"}, "reply_to_user": {"reputation": 1, "user_id": 10836778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638a70d338f94be8a736970735b4fc59?s=128&d=identicon&r=PG&f=1", "display_name": "william_perry", "link": "https://stackoverflow.com/users/10836778/william-perry"}, "edited": false, "score": 0, "creation_date": 1546004939, "post_id": 53940240, "comment_id": 94756629, "body": "Tested now also with Outlook 2016 - works fine, too."}, {"owner": {"reputation": 1, "user_id": 10836778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638a70d338f94be8a736970735b4fc59?s=128&d=identicon&r=PG&f=1", "display_name": "william_perry", "link": "https://stackoverflow.com/users/10836778/william-perry"}, "edited": false, "score": 0, "creation_date": 1546020429, "post_id": 53940240, "comment_id": 94762791, "body": "Klaus, thank you for all your help.  I am at a loss here..  I don&#39;t know why it isn&#39;t working on my end.  I am using windows 10 visual studio 2017.   I added the reference for Microsoft.Office.Interop.Outlook ver 9.6.0.0.   I am kind of new to c# but I believe my syntax is correct."}, {"owner": {"reputation": 1, "user_id": 10836778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638a70d338f94be8a736970735b4fc59?s=128&d=identicon&r=PG&f=1", "display_name": "william_perry", "link": "https://stackoverflow.com/users/10836778/william-perry"}, "edited": false, "score": 0, "creation_date": 1546631544, "post_id": 53940240, "comment_id": 94926039, "body": "I have made an interesting discovery.  When I run the solution in the IDE it fails, but when I build the project and run the exe it works..."}], "tags": [], "owner": {"reputation": 6072, "user_id": 2142950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bZGrD.png?s=128&g=1", "display_name": "Klaus G&#252;tter", "link": "https://stackoverflow.com/users/2142950/klaus-g%c3%bctter"}, "is_accepted": true, "score": 0, "last_activity_date": 1546005154, "last_edit_date": 1546005154, "creation_date": 1545889316, "answer_id": 53940240, "question_id": 53937979, "link": "https://stackoverflow.com/questions/53937979/how-can-i-populate-a-combobox-with-a-list-of-outlook-calendar-folders-that-are-a/53940240#53940240", "title": "How can I populate a combobox with a list of outlook calendar folders that are available to me?", "body": "<p>To get all sub-folders of the Calendar folder, use:</p>\n\n<pre><code>var oApp = new Microsoft.Office.Interop.Outlook.Application();\nvar mapiNamespace = oApp.GetNamespace(\"MAPI\");\nvar calendarFolder = mapiNamespace.GetDefaultFolder(Microsoft.Office.Interop.Outlook.OlDefaultFolders.olFolderCalendar);\n\nforeach (Microsoft.Office.Interop.Outlook.MAPIFolder folder in calendarFolder.Folders)\n{\n    Console.WriteLine($\"{folder.Name}\");\n}\n</code></pre>\n\n<p>Tested with Outlook 2013 and 2016:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LWBvZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LWBvZ.png\" alt=\"Outlook sub-calendar\"></a></p>\n\n<p>Prints</p>\n\n<blockquote>\n  <p>Cal1</p>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 10836778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638a70d338f94be8a736970735b4fc59?s=128&d=identicon&r=PG&f=1", "display_name": "william_perry", "link": "https://stackoverflow.com/users/10836778/william-perry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 53940240, "answer_count": 1, "score": 0, "last_activity_date": 1546005154, "creation_date": 1545864716, "last_edit_date": 1545867209, "question_id": 53937979, "link": "https://stackoverflow.com/questions/53937979/how-can-i-populate-a-combobox-with-a-list-of-outlook-calendar-folders-that-are-a", "title": "How can I populate a combobox with a list of outlook calendar folders that are available to me?", "body": "<p>I want to get a list of all of the calendars (folders) in my outlook and put them into a combo box.  I have a top level Idea of how to do it, but I don't know enough about the Microsoft.Office.Interop.Outlook; to get the data.  I'm sure it will be some kind of a for each combobox1.Items.add(Calendar);</p>\n\n<p>Full disclosure:  It is my plan to write a form application that will have a combobox to select the folder, another to select the items, and then populate the form from the item selected.  </p>\n\n<pre><code>private void button2_Click(object sender, EventArgs e)\n    {\n        Microsoft.Office.Interop.Outlook.Application oApp = null;\n        Microsoft.Office.Interop.Outlook.NameSpace mapiNamespace = null;\n        Microsoft.Office.Interop.Outlook.MAPIFolder CalendarFolder = null;\n        Microsoft.Office.Interop.Outlook.Items outlookCalendarItems = null;\n\n        oApp = new Microsoft.Office.Interop.Outlook.Application();\n        //mapiNamespace = oApp.GetNamespace(\"MAPI\"); ;\n        //CalendarFolder = mapiNamespace.GetDefaultFolder(Microsoft.Office.Interop.Outlook.OlDefaultFolders.olFolderCalendar);\n        CalendarFolder = mapiNamespace.GetDefaultFolder(Microsoft.Office.Interop.Outlook.OlDefaultFolders.olFolderCalendar);\n        outlookCalendarItems = CalendarFolder.Items;\n        outlookCalendarItems.IncludeRecurrences = true;\n\n        foreach (Microsoft.Office.Interop.Outlook.MAPIFolder item in CalendarFolder)\n        {\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "linq", "entity-framework-core"], "comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1545865043, "post_id": 53937932, "comment_id": 94715998, "body": "I don&#39;t think there&#39;s any way to use that function with EF Core other than writing manual SQL."}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1545865056, "post_id": 53937932, "comment_id": 94716005, "body": "You could define a UDF that wraps datepart, then call the UDF from your code. The query compiler should inline the function call so there should be no performance impact."}, {"owner": {"reputation": 33, "user_id": 10788299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hs7QsNqUIVk/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gpbU83cGm97QdDL9C994ORXa4EfA/mo/photo.jpg?sz=128", "display_name": "JG3", "link": "https://stackoverflow.com/users/10788299/jg3"}, "reply_to_user": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1545865506, "post_id": 53937932, "comment_id": 94716097, "body": "@Dai you mean a function in sql-server and that function will call DATEPART, but i  in code will call my custom function"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1545874312, "post_id": 53937932, "comment_id": 94717450, "body": "Why would you want to do this?  What would the code look like.  If you&#39;re trying to change the value type (datetime to int) before c#, you&#39;re doing it in the wrong place.  If you&#39;re trying to use it for a where clause, your schema is bad."}, {"owner": {"reputation": 33, "user_id": 10788299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hs7QsNqUIVk/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gpbU83cGm97QdDL9C994ORXa4EfA/mo/photo.jpg?sz=128", "display_name": "JG3", "link": "https://stackoverflow.com/users/10788299/jg3"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1545919999, "post_id": 53937932, "comment_id": 94731223, "body": "@ErikPhilips I have two tables in database that i need to query where tableA is in the week of tableB, that why i am trying to use DATEPART wk, i can&#39;t add a stored procedure to the database, is there any other way i can so thanks? tnk"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1545922847, "post_id": 53937932, "comment_id": 94732312, "body": "I&#39;d probably just create a view."}, {"owner": {"reputation": 33, "user_id": 10788299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hs7QsNqUIVk/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gpbU83cGm97QdDL9C994ORXa4EfA/mo/photo.jpg?sz=128", "display_name": "JG3", "link": "https://stackoverflow.com/users/10788299/jg3"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1545923863, "post_id": 53937932, "comment_id": 94732728, "body": "@ErikPhilips tnx for your reply, another reason why i need it to be in code not in DB is because i need to construct the filter at run time based on the user selection, so there is a UI that the user can apply any filter they want and i am adding Where clauses to an IQueryable - sorry for not explaining in the beginning"}, {"owner": {"reputation": 33, "user_id": 10788299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hs7QsNqUIVk/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gpbU83cGm97QdDL9C994ORXa4EfA/mo/photo.jpg?sz=128", "display_name": "JG3", "link": "https://stackoverflow.com/users/10788299/jg3"}, "reply_to_user": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1545929823, "post_id": 53937932, "comment_id": 94735200, "body": "@Dai I created a UDF that takes a date and return like this: RETURN DATEPART(week, @date), the performance desecrated dramatically (from 2 seconds to 25), am i doing something wrong with the way the UDF is defined?, i dont have much experience with scalar function performance, but a basic google search shows that it could hurt performance, any help much appropriate"}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1545932063, "post_id": 53937932, "comment_id": 94736007, "body": "@JoelG Can you post some example queries? I suspect you&#39;re running into issues with SARGability."}, {"owner": {"reputation": 1707, "user_id": 1216595, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/PZHMS.jpg?s=128&g=1", "display_name": "cyptus", "link": "https://stackoverflow.com/users/1216595/cyptus"}, "edited": false, "score": 0, "creation_date": 1559837732, "post_id": 53937932, "comment_id": 99553297, "body": "could you find a solution?"}, {"owner": {"reputation": 33, "user_id": 10788299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hs7QsNqUIVk/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gpbU83cGm97QdDL9C994ORXa4EfA/mo/photo.jpg?sz=128", "display_name": "JG3", "link": "https://stackoverflow.com/users/10788299/jg3"}, "edited": false, "score": 0, "creation_date": 1559845326, "post_id": 53937932, "comment_id": 99556538, "body": "I ended up doing it with row sql and it works fine"}], "answers": [{"tags": [], "owner": {"reputation": 1707, "user_id": 1216595, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/PZHMS.jpg?s=128&g=1", "display_name": "cyptus", "link": "https://stackoverflow.com/users/1216595/cyptus"}, "is_accepted": true, "score": 0, "last_activity_date": 1559897403, "creation_date": 1559897403, "answer_id": 56491007, "question_id": 53937932, "link": "https://stackoverflow.com/questions/53937932/ef-core-implement-sql-server-datepart-as-dbfunction-static-method/56491007#56491007", "title": "EF Core Implement sql server DATEPART as DbFunction static method", "body": "<p>It is possible to make use of the datepart SQL function by wrapping it with the DbFunctionAttribute.\nTricky part is to tell ef core not to handle the datepart type parameter as a string. Example:</p>\n\n<p>DbContext:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public int? DatePart(string datePartArg, DateTime? date) =&gt; throw new Exception();\n\npublic void OnModelCreating(DbModelBuilder modelBuilder) {\n    var methodInfo = typeof(DbContext).GetRuntimeMethod(nameof(DatePart), new[] { typeof(string), typeof(DateTime) });\n    modelBuilder\n        .HasDbFunction(methodInfo)\n        .HasTranslation(args =&gt; new SqlFunctionExpression(nameof(DatePart), typeof(int?), new[]\n                {\n                        new SqlFragmentExpression(args.ToArray()[0].ToString()),\n                        args.ToArray()[1]\n                }));\n}\n</code></pre>\n\n<p>Query:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>repository.Where(x =&gt; dbContext.DatePart(\"weekday\", x.CreatedAt) == DayOfWeek.Monday);\n</code></pre>\n\n<p>some more info: <a href=\"https://github.com/aspnet/EntityFrameworkCore/issues/10404\" rel=\"nofollow noreferrer\">https://github.com/aspnet/EntityFrameworkCore/issues/10404</a></p>\n"}], "owner": {"reputation": 33, "user_id": 10788299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hs7QsNqUIVk/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gpbU83cGm97QdDL9C994ORXa4EfA/mo/photo.jpg?sz=128", "display_name": "JG3", "link": "https://stackoverflow.com/users/10788299/jg3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 736, "favorite_count": 0, "accepted_answer_id": 56491007, "answer_count": 1, "score": 0, "last_activity_date": 1559897403, "creation_date": 1545864267, "question_id": 53937932, "link": "https://stackoverflow.com/questions/53937932/ef-core-implement-sql-server-datepart-as-dbfunction-static-method", "title": "EF Core Implement sql server DATEPART as DbFunction static method", "body": "<p>I am trying to add the DATEPART sql-server function to Entity Framework Core by adding it as a static method on DbContext with the [DbFunction] attribute as described here <a href=\"https://docs.microsoft.com/en-us/ef/core/what-is-new/ef-core-2.0\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/ef/core/what-is-new/ef-core-2.0</a></p>\n\n<p>The problem is that sql-server receives the datepart parameter as a string and it cant run it because the datepart parameter can't be a string (based on <a href=\"https://docs.microsoft.com/en-us/sql/t-sql/functions/datepart-transact-sql?view=sql-server-2017\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/sql/t-sql/functions/datepart-transact-sql?view=sql-server-2017</a> \"Note DATEPART does not accept user-defined variable equivalents for the datepart arguments.\")</p>\n\n<p>i have also tried removing the double quotes from the argument i pass to datepart, by doing sting.Replace(\"\\\"\", \"\") but it still does not work (it change the argument from \"'arg'\" to 'arg')</p>\n\n<p>Here is my code:</p>\n\n<pre><code>[DbFunction(\"DATEPART\",\"\")]\npublic static int DATEPART(string datepart, DateTime date)\n{\n    throw new NotSupportedException();\n}\n</code></pre>\n\n<p>Is there any other data type that will work? am i missing something?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "serial-port"], "comments": [{"owner": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "edited": false, "score": 0, "creation_date": 1545864946, "post_id": 53937882, "comment_id": 94715985, "body": "Have you set the proper parity? STX and ETX are <code>\\u0002</code> and <code>\\u0003</code> not <code>\\0002</code> and <code>\\0003</code>."}, {"owner": {"reputation": 5203, "user_id": 1760479, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/gFcMy.jpg?s=128&g=1", "display_name": "David Tansey", "link": "https://stackoverflow.com/users/1760479/david-tansey"}, "edited": false, "score": 0, "creation_date": 1545866414, "post_id": 53937882, "comment_id": 94716298, "body": "Please indicate the EXACT model of Spellman Power Supply you are using.  Please provide link(s) to any examples you are referring to (Labview or otherwise)."}, {"owner": {"reputation": 5203, "user_id": 1760479, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/gFcMy.jpg?s=128&g=1", "display_name": "David Tansey", "link": "https://stackoverflow.com/users/1760479/david-tansey"}, "edited": false, "score": 0, "creation_date": 1545866930, "post_id": 53937882, "comment_id": 94716403, "body": "You indicated that you have tried sending HEX data rather than an ASCII string.  Please post the exact HEX bytes you are using."}, {"owner": {"reputation": 1, "user_id": 10836800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07b83badf032f69eaca033d82328f7cb?s=128&d=identicon&r=PG&f=1", "display_name": "Young Padwan", "link": "https://stackoverflow.com/users/10836800/young-padwan"}, "edited": false, "score": 0, "creation_date": 1545867586, "post_id": 53937882, "comment_id": 94716505, "body": "Yes the parity is correct. Yes I used \\u0002 and \\u0003. No response with those. Spellman Power Supply Model: DXB 140PN300. I do not have links to the programs. An example of the LabVIEW program when showing Tx and Rx, Tx: 22,p^L Rx: 22,33,45,55,76, etc....these are not EXACT feedbacks, I am just showing what I saw. It is a Spellman Supplied GUI."}, {"owner": {"reputation": 1, "user_id": 10836800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07b83badf032f69eaca033d82328f7cb?s=128&d=identicon&r=PG&f=1", "display_name": "Young Padwan", "link": "https://stackoverflow.com/users/10836800/young-padwan"}, "edited": false, "score": 0, "creation_date": 1545867926, "post_id": 53937882, "comment_id": 94716555, "body": "Here is some hex that corresponds to the ASCII string: You would send  the following ASCII string: STX22,pETX Which corresponds to following hexadecimal string: 0232322C7003 This is the hex, which I also tried. The user manual also has this syntax for communication:  &lt;STX&gt;&lt;22&gt;&lt;,&gt;&lt;CSUM&gt;&lt;EXT&gt;.    Also I used EXT not ETX, that was just a typo from earlier, so I tried &quot;STX22,pEXT&quot; and also &quot;22,p&quot; and also &quot;\\u000222,p\\u0003&quot; just for the heck of it, does not work."}, {"owner": {"reputation": 1, "user_id": 10836800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07b83badf032f69eaca033d82328f7cb?s=128&d=identicon&r=PG&f=1", "display_name": "Young Padwan", "link": "https://stackoverflow.com/users/10836800/young-padwan"}, "edited": false, "score": 0, "creation_date": 1545868115, "post_id": 53937882, "comment_id": 94716579, "body": "I can also note that LabVIEW may have separated these hex bytes into a byte array and converted each one separately. I have looked into that with no luck, but &#39;03&#39; as a byte may = &#39;^L&#39; mysteriously , which is what I have seen on the end of these command strings."}, {"owner": {"reputation": 1, "user_id": 10836800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07b83badf032f69eaca033d82328f7cb?s=128&d=identicon&r=PG&f=1", "display_name": "Young Padwan", "link": "https://stackoverflow.com/users/10836800/young-padwan"}, "edited": false, "score": 0, "creation_date": 1545868480, "post_id": 53937882, "comment_id": 94716641, "body": "My parity is set to NONE, which is what the manual said to do."}, {"owner": {"reputation": 5203, "user_id": 1760479, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/gFcMy.jpg?s=128&g=1", "display_name": "David Tansey", "link": "https://stackoverflow.com/users/1760479/david-tansey"}, "edited": false, "score": 0, "creation_date": 1545869507, "post_id": 53937882, "comment_id": 94716794, "body": "As best I can tell from the information provided, the HEX values you are using should work.  NOTE: <code>&lt;STX&gt;</code> and <code>&lt;ETX&gt;</code> are not optional and correlate to the starting byte of <code>0x02</code> and the ending byte of <code>0x03</code>.  The lower case &quot;p&quot; has a value of <code>0x70</code> which is a properly calculated <code>&lt;CSUM&gt;</code> value for the bytes in this command."}, {"owner": {"reputation": 5203, "user_id": 1760479, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/gFcMy.jpg?s=128&g=1", "display_name": "David Tansey", "link": "https://stackoverflow.com/users/1760479/david-tansey"}, "edited": false, "score": 0, "creation_date": 1545869728, "post_id": 53937882, "comment_id": 94716829, "body": "One more question:  have you tried the following string exactly:  <code>&lt;STX&gt;22,p&lt;ETX&gt;</code>   The difference here is that the symbols for &#39;&lt;&#39; and &#39;&gt;&#39; <b>have been left in as a part of the string</b>.  Make sense?"}, {"owner": {"reputation": 5203, "user_id": 1760479, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/gFcMy.jpg?s=128&g=1", "display_name": "David Tansey", "link": "https://stackoverflow.com/users/1760479/david-tansey"}, "edited": false, "score": 1, "creation_date": 1545873831, "post_id": 53937882, "comment_id": 94717392, "body": "Why are you setting 9600 baud?  This equipment seems to support 115K baud and use it as a default.  Have you tried it with 115K baud rate?"}, {"owner": {"reputation": 13673, "user_id": 1599004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df9d2a02744f666e97375e05fdc54255?s=128&d=identicon&r=PG", "display_name": "sawdust", "link": "https://stackoverflow.com/users/1599004/sawdust"}, "edited": false, "score": 1, "creation_date": 1545875860, "post_id": 53937882, "comment_id": 94717642, "body": "@YoungPadwan -- If you want help then show your code, i.e. a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a> of the problem.  Otherwise your question is off-topic.  Also add the details that have been requested into your original post, instead of leaving scattered comments."}], "owner": {"reputation": 1, "user_id": 10836800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07b83badf032f69eaca033d82328f7cb?s=128&d=identicon&r=PG&f=1", "display_name": "Young Padwan", "link": "https://stackoverflow.com/users/10836800/young-padwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545869567, "creation_date": 1545863877, "last_edit_date": 1545869567, "question_id": 53937882, "link": "https://stackoverflow.com/questions/53937882/rs232-sending-etx-but-machine-not-responding", "title": "RS232 sending ETX, but machine not responding", "body": "<p>I am trying to setup a simple program to a Spellman power supply. </p>\n\n<p>I have setup a serialport object and included a timer to try RS232 connection.</p>\n\n<p>Serial port configuration:  </p>\n\n<ul>\n<li>COM4  </li>\n<li>9600 baud rate  </li>\n<li>8 data bit  </li>\n<li>One stop bit  </li>\n</ul>\n\n<p>No handshaking is needed for this device.</p>\n\n<p>I am having an issue because I need to send a SPECIFIC string to the Spellman\nwhich I was told this would work:</p>\n\n<pre><code>STX22,pETX\n</code></pre>\n\n<p>But this does not work, I get no response. </p>\n\n<p>Here is the problem: I have seen other examples, where the <code>Tx</code> or transmit line sends, <code>22,p^L</code>.  The <code>^L</code> is a special looking character that is smaller and raised. What is this character and how do I send it in C#? </p>\n\n<p>It seems that little character is what I need instead of the ETX part of the string because the hardware responds back.</p>\n\n<p>The cabling works fine -- I shorted the 2 and 3 wire and I get back exactly what I sent in my program. </p>\n\n<p>I have also tried sending it all data in hex instead of ASCII string, and it also does not work. </p>\n\n<p>I also tried using \\0002 and \\0003 in many different forms for STX and ETX, does not work. I just need to figure out this <code>22,p^L</code> issue. </p>\n\n<p>Also this <code>22,p^L</code> I have only seen in LabVIEW programs.</p>\n"}, {"tags": ["c#", "html-agility-pack"], "comments": [{"owner": {"reputation": 21272, "user_id": 52277, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/67498fd0e17d27cb9be0c107f306e378?s=128&d=identicon&r=PG", "display_name": "Michael Freidgeim", "link": "https://stackoverflow.com/users/52277/michael-freidgeim"}, "edited": false, "score": 0, "creation_date": 1545864510, "post_id": 53937869, "comment_id": 94715899, "body": "Not sure, that HtmlAgilityPack is still the best tool. See <a href=\"https://stackoverflow.com/questions/1065031/is-the-html-agility-pack-still-the-best-net-html-parser\" title=\"is the html agility pack still the best net html parser\">stackoverflow.com/questions/1065031/&hellip;</a> . Consider <a href=\"https://github.com/AngleSharp/AngleSharp\" rel=\"nofollow noreferrer\">github.com/AngleSharp/AngleSharp</a>"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 6744514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3abf9dc66a8fe161e08db032123690?s=128&d=identicon&r=PG&f=1", "display_name": "serhiy1994", "link": "https://stackoverflow.com/users/6744514/serhiy1994"}, "edited": false, "score": 0, "creation_date": 1545866772, "post_id": 53937904, "comment_id": 94716375, "body": "oh, I forgot to add 1 extra line of code in my snippet. But I&#39;ve rewritten it according to your answer. Thanks."}], "tags": [], "owner": {"reputation": 1465, "user_id": 3685882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VAs9M.png?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/3685882/neil"}, "is_accepted": true, "score": 1, "last_activity_date": 1545864037, "creation_date": 1545864037, "answer_id": 53937904, "question_id": 53937869, "link": "https://stackoverflow.com/questions/53937869/htmlagilitypack-how-to-get-attribute-value-covered-in-single-quote/53937904#53937904", "title": "HtmlAgilityPack - how to get attribute value covered in single quote?", "body": "<p>You are trying to get the <code>data-id</code> attribute on your <code>doc.DocumentNode</code>, not your <code>article</code> node.</p>\n\n<pre><code>var articles = doc.GetElementbyId(\"search_posts\").SelectNodes(\"//article\");\nvar firstDataId = articles.First().GetAttributeValue(\"data-id\", \"NULL\");\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 6744514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3abf9dc66a8fe161e08db032123690?s=128&d=identicon&r=PG&f=1", "display_name": "serhiy1994", "link": "https://stackoverflow.com/users/6744514/serhiy1994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 53937904, "answer_count": 1, "score": 0, "last_activity_date": 1545864037, "creation_date": 1545863764, "question_id": 53937869, "link": "https://stackoverflow.com/questions/53937869/htmlagilitypack-how-to-get-attribute-value-covered-in-single-quote", "title": "HtmlAgilityPack - how to get attribute value covered in single quote?", "body": "<p>I have the following HTML:</p>\n\n<pre><code>&lt;div id=\"search_posts\"&gt;\n&lt;article class=\"xxx\"  data-id='79642521778' data-type='photoset' &lt;!-- many other attributes in single quotes--&gt;&gt; Article text 1 &lt;/article&gt;\n&lt;article class=\"xxx\"  data-id='84701653287' data-type='photoset' &lt;!-- many other attributes in single quotes--&gt;&gt; Article text 2 &lt;/article&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I need to get the id of the 1st article, i.e. 79642521778.</p>\n\n<p>What I done so far:</p>\n\n<pre><code>//assuming that the HtmlDocument has already loaded\nstring test = doc.GetElementbyId(\"search_posts\").SelectNodes(\"//article\").First().OuterHtml;\ntest = doc.DocumentNode.GetAttributeValue(\"data-id\", \"NULL\");\n</code></pre>\n\n<p>And it returns NULL. How I can get the proper value? Thanks.</p>\n"}, {"tags": ["c#", "soap", "sabre"], "answers": [{"tags": [], "owner": {"reputation": 369, "user_id": 3712316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBDsJ.png?s=128&g=1", "display_name": "drtrobridge", "link": "https://stackoverflow.com/users/3712316/drtrobridge"}, "is_accepted": false, "score": 0, "last_activity_date": 1545863643, "creation_date": 1545863643, "answer_id": 53937858, "question_id": 53937857, "link": "https://stackoverflow.com/questions/53937857/sabre-profile-search-using-eps-profilesearchservice-to-gather-all-traveler-pro/53937858#53937858", "title": "Sabre Profile Search - using EPS_ProfileSearchService to gather all Traveler Profiles Associated with a Given Corporate Profile", "body": "<p>I had my question all written out but then I figured out the correct fields to apply to filter this properly, so I figured I'd answer this one for anyone else that might find it helpful. </p>\n\n<p>The functional XML RQ is below. I believe the <code>CustomerReferenceInfo</code> piece can be omitted, but I left it in there since this did return the results I wanted.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-16\"?&gt;\n&lt;Sabre_OTA_ProfileSearchRQ xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" Version=\"6.46\" ReturnPaymentCardToken=\"Y\"&gt;\n  &lt;ProfileSearchCriteria ProfileNameOnly=\"Y\" PageNumber=\"1\" ReturnCount=\"250\" xmlns=\"http://www.sabre.com/eps/schemas\"&gt;\n    &lt;TPA_Identity ProfileTypeCode=\"TVL\" ClientCode=\"TN\" ClientContextCode=\"TMP\" ProfileName=\"*\" DomainID=\"PCC1\" /&gt;\n    &lt;CustomerReferenceInfo /&gt;\n    &lt;AssociatedProfiles AssocProfileName=\"CompanyProfileName\" DomainID=\"PCC1\" IncludeTemplateAssoc=\"Y\" /&gt;\n  &lt;/ProfileSearchCriteria&gt;\n&lt;/Sabre_OTA_ProfileSearchRQ&gt;\n</code></pre>\n"}], "owner": {"reputation": 369, "user_id": 3712316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBDsJ.png?s=128&g=1", "display_name": "drtrobridge", "link": "https://stackoverflow.com/users/3712316/drtrobridge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545863643, "creation_date": 1545863643, "question_id": 53937857, "link": "https://stackoverflow.com/questions/53937857/sabre-profile-search-using-eps-profilesearchservice-to-gather-all-traveler-pro", "title": "Sabre Profile Search - using EPS_ProfileSearchService to gather all Traveler Profiles Associated with a Given Corporate Profile", "body": "<p>I'm trying to gather a list of all of the TPA identity data for travelers associated (TVL) with a given Company level association (CRP) in Sabre Profiles. While I am able to pull back all TPA Identities for a given PCC, I cannot get the service to return any results when applying the association filter. My Request is below (with some identifying data redacted) - am I using the wrong search qualifier or something?  </p>\n\n<p>For the given company in question, I know that there are 17 Traveler Level Profiles associated with the company name I'm passing in as I can see them in Sabre Red.  </p>\n\n<p>Request:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-16\"?&gt;\n&lt;Sabre_OTA_ProfileSearchRQ xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" Version=\"6.46\" ReturnPaymentCardToken=\"Y\"&gt;\n  &lt;ProfileSearchCriteria ProfileNameOnly=\"Y\" PageNumber=\"1\" ReturnCount=\"250\" xmlns=\"http://www.sabre.com/eps/schemas\"&gt;\n    &lt;TPA_Identity ProfileTypeCode=\"TVL\" ClientCode=\"TN\" ClientContextCode=\"TMP\" ProfileName=\"*\" DomainID=\"PCC1\" /&gt;\n    &lt;CustomerReferenceInfo /&gt;\n    &lt;AssociatedProfiles AssocProfileName=\"Corporate Company Name\" DomainID=\"PCC1\" /&gt;\n  &lt;/ProfileSearchCriteria&gt;\n&lt;/Sabre_OTA_ProfileSearchRQ&gt;\n</code></pre>\n\n<p>Response:</p>\n\n<pre><code>&lt;Sabre_OTA_ProfileSearchRS xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" TimeStamp=\"2018-12-24T20:16:07.809Z\" Version=\"6.49\"&gt;\n&lt;ResponseMessage xmlns=\"http://www.sabre.com/eps/schemas\"&gt;\n&lt;Success/&gt;\n&lt;/ResponseMessage&gt;\n&lt;ProfileInfo xmlns=\"http://www.sabre.com/eps/schemas\"&gt;\n&lt;Message&gt;\nNo profiles are found which match your selection criteria\n&lt;/Message&gt;\n&lt;/ProfileInfo&gt;\n&lt;/Sabre_OTA_ProfileSearchRS&gt;\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "inner-classes", "encapsulation"], "comments": [{"owner": {"reputation": 1165, "user_id": 1215018, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bad35e98dec90d54c297ecedf09b2556?s=128&d=identicon&r=PG", "display_name": "Oxymoron", "link": "https://stackoverflow.com/users/1215018/oxymoron"}, "edited": false, "score": 0, "creation_date": 1545863911, "post_id": 53937836, "comment_id": 94715793, "body": "<code>public static List&lt;Terrain&gt;map = new List&lt;Terreno&gt;();</code> is syntactically not correct"}, {"owner": {"reputation": 463, "user_id": 1646928, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lH8xu.jpg?s=128&g=1", "display_name": "JamesB", "link": "https://stackoverflow.com/users/1646928/jamesb"}, "reply_to_user": {"reputation": 1165, "user_id": 1215018, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bad35e98dec90d54c297ecedf09b2556?s=128&d=identicon&r=PG", "display_name": "Oxymoron", "link": "https://stackoverflow.com/users/1215018/oxymoron"}, "edited": false, "score": 0, "creation_date": 1545864474, "post_id": 53937836, "comment_id": 94715891, "body": "@Oxymoron I translated all the code to English, forgot this part, fixed, thanks."}, {"owner": {"reputation": 1165, "user_id": 1215018, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bad35e98dec90d54c297ecedf09b2556?s=128&d=identicon&r=PG", "display_name": "Oxymoron", "link": "https://stackoverflow.com/users/1215018/oxymoron"}, "edited": false, "score": 0, "creation_date": 1545865308, "post_id": 53937836, "comment_id": 94716050, "body": "you may want to use a text editor to find/replace, because that wasn&#39;t the only isntance. <code>Terrain.TerrainPart initialPart = new Terreno.TerrainPart(20,20,0,0);</code> for example"}], "answers": [{"tags": [], "owner": {"reputation": 1165, "user_id": 1215018, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bad35e98dec90d54c297ecedf09b2556?s=128&d=identicon&r=PG", "display_name": "Oxymoron", "link": "https://stackoverflow.com/users/1215018/oxymoron"}, "is_accepted": false, "score": 3, "last_activity_date": 1545864017, "creation_date": 1545864017, "answer_id": 53937899, "question_id": 53937836, "link": "https://stackoverflow.com/questions/53937836/encapsulating-inner-class-and-acessing-outside-in-c/53937899#53937899", "title": "Encapsulating inner class and acessing outside in C#", "body": "<p>You cannot reference a private class as a public property. You will need to have the class public for public access. Consider making your properties and methods <code>private</code>, <code>private protected</code>, <code>internal</code> etc.</p>\n\n<p>If you need to provide read only attributes, you can use public getters and private setters, etc. If you need to prevent the execution of some methods consider setting those to private, etc. The class can be public while still locking down properties and methods inside the class. Consider what it is that you actually need to expose.</p>\n"}, {"tags": [], "owner": {"reputation": 7636, "user_id": 814206, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/44f0bd9a8032149c95013b9a88b3b004?s=128&d=identicon&r=PG", "display_name": "Kasper van den Berg", "link": "https://stackoverflow.com/users/814206/kasper-van-den-berg"}, "is_accepted": false, "score": 1, "last_activity_date": 1545864077, "creation_date": 1545864077, "answer_id": 53937910, "question_id": 53937836, "link": "https://stackoverflow.com/questions/53937836/encapsulating-inner-class-and-acessing-outside-in-c/53937910#53937910", "title": "Encapsulating inner class and acessing outside in C#", "body": "<p>Let MapaMundiInfoScript have a method DrawTerrain() and let Terrain have a method DrawParts.  Should you end up with to many incoherent methods in MapaMundiInfoScript, you might want to use a visitor.</p>\n"}, {"tags": [], "owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "is_accepted": false, "score": 2, "last_activity_date": 1545916606, "last_edit_date": 1545916606, "creation_date": 1545870253, "answer_id": 53938516, "question_id": 53937836, "link": "https://stackoverflow.com/questions/53937836/encapsulating-inner-class-and-acessing-outside-in-c/53938516#53938516", "title": "Encapsulating inner class and acessing outside in C#", "body": "<p>You could also expose the functionality of these hidden classes through interfaces</p>\n\n<pre><code>public interface ITerrain\n{\n    List&lt;ITerrainPart&gt; TerrainParts { get; }\n\n    ITerrainPart CreateTerrainPart(int XSize, int ZSize, int XPosition, int ZPosition);\n}\n\npublic interface ITerrainPart\n{\n    // ...\n}\n</code></pre>\n\n<p>Implement them like this</p>\n\n<pre><code>private class Terrain : ITerrain\n{\n    int XPosition;\n    int ZPosition;\n\n    public List&lt;ITerrainPart&gt; TerrainParts { get; }  = new List&lt;ITerrainPart&gt;();\n\n    public Terrain(int XPosition, int ZPosition)\n    {\n        this.XPosition = XPosition; this.ZPosition = ZPosition;\n    }\n\n    public ITerrainPart CreateTerrainPart(int XSize, int ZSize, int XPosition,\n                                          int ZPosition)\n    {\n        return new TerrainPart(XSize, ZSize, ZPosition, ZPosition);\n    }\n\n    private class TerrainPart : ITerrainPart\n    {\n        // ...\n    }\n}\n</code></pre>\n\n<p>Your listener can then draw like this (after changing the parameter type of <code>Draw</code> to <code>ITerrainPart</code>):</p>\n\n<pre><code>void Update()\n{\n\n    if (MapaMundiInfoScript.changeInMap) {\n        foreach (ITerrain terrain in MapaMundiInfoScript.map) {\n            foreach (ITerrainPart terrainPart in terrain.TerrainParts) {\n                RegionDraw.Draw(terrainPart);\n            }\n        }\n        MapaMundiInfoScript.changeInMap = false;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 463, "user_id": 1646928, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lH8xu.jpg?s=128&g=1", "display_name": "JamesB", "link": "https://stackoverflow.com/users/1646928/jamesb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1545916606, "creation_date": 1545863434, "last_edit_date": 1545869779, "question_id": 53937836, "link": "https://stackoverflow.com/questions/53937836/encapsulating-inner-class-and-acessing-outside-in-c", "title": "Encapsulating inner class and acessing outside in C#", "body": "<p>I have these classes, one is a model, other is Listener and the third one is an Util class. I want to access Terrains by the variable map in the first one, but don't want public access to the inner class Terrain. Is there any way to do it?</p>\n\n<blockquote>\n  <p>It prints <em>error CS0052: Inconsistent accessibility: field type\n  System.Collections.Generic.List is less\n  accessible than field `MapaMundiInfoScript.map'</em></p>\n</blockquote>\n\n<pre><code>public class MapaMundiInfoScript : MonoBehaviour {\n\npublic static bool changeInMap= false;       \npublic static List&lt;Terrain&gt;map = new List&lt;Terrain&gt;();\n\n\nvoid Start(){\n    Terrain terrain = new Terrain(0,0);\n    Terrain.TerrainPart initialPart = new Terrain.TerrainPart(20,20,0,0);\n    terrain.terrainParts.Add (initialPart);\n    map.Add(terrain);\n    changeInMap=true;\n}\nclass Terrain{\n        int XPosition;\n        int ZPosition;\n        public List &lt;TerrainPart&gt; terrainParts = new List&lt;TerrainPart&gt; ();\n\n        public Terrain(int XPosition, int ZPosition){\n            this.XPosition=XPosition; this.ZPosition=ZPosition;\n        }\n\n        public class TerrainPart\n        {\n            int XSize;\n            int ZSize;\n            int XPosition;\n            int ZPosition;\n\n            TerrainPartReturn ReturnTerrainPart(int num1,int num2,int num3,int num4)\n            {\n                return new TerrainPart (num1,num2,num3,num4);\n            }\n\n            public TerrainPart(int XSize,int ZSize,int XPosition,int ZPosition){\n                 this.XSize = XSize;\n                 this.ZSize = ZSize;\n                 this.XPosition=XPosition;\n                this.ZPosition =ZPosition;\n                 }\n             }\n            }\n\n\npublic class MapListener : MonoBehaviour {\n\nvoid Update () {\n\n    if (MapaMundiInfoScript.changeInMap) {\n        foreach(MapaMundiInfoScript.Terrain terrain in MapaMundiInfoScript.mapMundi)\n        {\n            foreach(terrain.terrainPart terrainPart in terrain.terrainParts)\n            {\n        RegionDraw.Draw(terrainPart);\n            }\n        }\nMapaMundiInfoScript.changeInMap = false;\n    }    \n}\n\n\npublic class RegionDraw\n{\n/***\nImplementantion Draw Method\n***/\n}\n</code></pre>\n"}, {"tags": ["c#", "windows", "microsoft-agent"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 10836765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0oRdL.png?s=128&g=1", "display_name": "ScottBeebiWan", "link": "https://stackoverflow.com/users/10836765/scottbeebiwan"}, "edited": false, "score": 0, "creation_date": 1545892640, "post_id": 53940755, "comment_id": 94720757, "body": "I understand, but building and running this on XP still doesn&#39;t work. Read at the very end of the question."}], "tags": [], "owner": {"reputation": 2466, "user_id": 6565271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/829b9502a55752f79a54080a91ca06c9?s=128&d=identicon&r=PG", "display_name": "Itay Podhajcer", "link": "https://stackoverflow.com/users/6565271/itay-podhajcer"}, "is_accepted": false, "score": 0, "last_activity_date": 1593560930, "last_edit_date": 1593560930, "creation_date": 1545892531, "answer_id": 53940755, "question_id": 53937824, "link": "https://stackoverflow.com/questions/53937824/microsoft-agent-was-unable-to-start/53940755#53940755", "title": "Microsoft Agent &quot;was unable to start&quot;", "body": "<p>Unfortunately, according to <a href=\"https://docs.microsoft.com/en-us/windows/desktop/lwef/introduction-to-microsoft-agent\" rel=\"nofollow noreferrer\">Introduction to Microsoft Agent</a>, it seems that:</p>\n<blockquote>\n<p>[Microsoft Agent is deprecated as of Windows 7, and may be unavailable in subsequent versions of Windows.]</p>\n</blockquote>\n<p>And that's probably why your getting the <code>Agent was unable to start</code> error message.</p>\n<p>Regarding the more cryptic message, it's probably because you don't have an x64 version of the COM library installed in your Registry (which won't help you even if you did have it, as the service is deprecated).</p>\n<p>Hope it helps!</p>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 10836765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0oRdL.png?s=128&g=1", "display_name": "ScottBeebiWan", "link": "https://stackoverflow.com/users/10836765/scottbeebiwan"}, "edited": false, "score": 0, "creation_date": 1551384697, "post_id": 54856016, "comment_id": 96631460, "body": "are you sure about x86 having to load MSAgent64? also, i can&#39;t make refrences to COM dlls that don&#39;t exist on my filesystem, and installing claude didn&#39;t help at all"}, {"owner": {"reputation": 161, "user_id": 5469195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/09009031de1042c6d4dfcc6ca8a31a98?s=128&d=identicon&r=PG", "display_name": "Zagavarr", "link": "https://stackoverflow.com/users/5469195/zagavarr"}, "reply_to_user": {"reputation": 79, "user_id": 10836765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0oRdL.png?s=128&g=1", "display_name": "ScottBeebiWan", "link": "https://stackoverflow.com/users/10836765/scottbeebiwan"}, "edited": false, "score": 0, "creation_date": 1551647605, "post_id": 54856016, "comment_id": 96706686, "body": "The folder C:\\Windows\\MSAgent64 will only appear in Windows 64-bit after Claude installation. In Windows 32-bit (x86) Claude will not install properly (you&#39;ll need to manually rename all files inside a folder C:\\Windows\\MSAgent, e.g. 32AgentSvr.exe into AgentSvr.exe and so on\u2026)  For example, I have Windows 10 64-bit and my VB.Net project targets x86 platform (32-bit application) So, I add reference to C:\\Windows\\MSAgent64\\AgentCtl.dll This concept is similar to Windows Registry: in 64-bit systems 32-bit applications use the registry branch HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node"}, {"owner": {"reputation": 79, "user_id": 10836765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0oRdL.png?s=128&g=1", "display_name": "ScottBeebiWan", "link": "https://stackoverflow.com/users/10836765/scottbeebiwan"}, "edited": false, "score": 0, "creation_date": 1551754937, "post_id": 54856016, "comment_id": 96746276, "body": "i installed claude, the folder doesn&#39;t exist. but trying to use activex objects instead (which means it doesn&#39;t really matter where the dll is), i still got the same error. right now i&#39;m working on a workaround to run vbscript commands in a C# interface"}], "tags": [], "owner": {"reputation": 161, "user_id": 5469195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/09009031de1042c6d4dfcc6ca8a31a98?s=128&d=identicon&r=PG", "display_name": "Zagavarr", "link": "https://stackoverflow.com/users/5469195/zagavarr"}, "is_accepted": false, "score": 0, "last_activity_date": 1551648674, "last_edit_date": 1551648674, "creation_date": 1551038874, "answer_id": 54856016, "question_id": 53937824, "link": "https://stackoverflow.com/questions/53937824/microsoft-agent-was-unable-to-start/54856016#54856016", "title": "Microsoft Agent &quot;was unable to start&quot;", "body": "<p>If you have Windows 10 <strong>64-bit</strong>, you could install free TTS program <a href=\"http://arctodus.ga\" rel=\"nofollow noreferrer\">Claude</a> to fix the error 0x800400154.</p>\n\n<p>Also, keep in mind, what if your C# project targets <strong>x86</strong>, when you must add reference to \"C:\\Windows\\<strong>MSAgent64</strong>\\AgentCtl.dll\" and if your C# project targets x64, when you must add reference to \"C:\\Windows\\MSAgent\\AgentCtl.dll\".</p>\n"}], "owner": {"reputation": 79, "user_id": 10836765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0oRdL.png?s=128&g=1", "display_name": "ScottBeebiWan", "link": "https://stackoverflow.com/users/10836765/scottbeebiwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 450, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1593560930, "creation_date": 1545863365, "last_edit_date": 1551460075, "question_id": 53937824, "link": "https://stackoverflow.com/questions/53937824/microsoft-agent-was-unable-to-start", "title": "Microsoft Agent &quot;was unable to start&quot;", "body": "<p>I followed an old tutorial for using MS Agent with C#, and i'm not going to use an alternative to it, I specifically want to use MS Agent.</p>\n\n<p>I added a refrence to the COM object <code>Microsoft Agent Control 2.0</code> in refrences (and had to fix some code to have proper syntax again).</p>\n\n<p>I'm using Windows 10, but that isn't an issue, MASH, for example, works fine.</p>\n\n<p>If I build it for x86, I get the following error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8TIYd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8TIYd.png\" alt=\"this error\"></a></p>\n\n<p>Building for x64 tells me it isn't registered (makes sense):</p>\n\n<p><a href=\"https://i.stack.imgur.com/xOZyI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xOZyI.png\" alt=\"unregistered\"></a></p>\n\n<p>Here's my code:</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    private AgentObjects.Agent Agent1;\n\n    public Form1()\n    {\n        InitializeComponent();\n    }\n    private void Form1_Load(object sender, EventArgs e)\n    {\n        try\n        {\n            Agent1 = new AgentObjects.Agent();\n            Agent1.Characters.Load(\"Ralsei\", \"Ralsei.acs\");\n            var ralsei = Agent1.Characters[\"Ralsei\"];\n            ralsei.Show();\n        }\n        catch (Exception ex)\n        {\n            MessageBox.Show(\"Can't use MS Agent.\\n\"+ex.ToString());\n        }\n    }\n}\n</code></pre>\n\n<p>As you can see, the only event <code>Form1</code> has is <code>Load</code>, so I didn't bother adding the <code>Design.cs</code>.</p>\n\n<p>Update 1: This problem actually seems to NOT have to do with running Windows 10, like I thought it might have. Building this for .NET 4 and running it on XP shows the same error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/K5wdV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K5wdV.png\" alt=\"the error on xp\"></a></p>\n\n<p>Update 2: I decided to mess around with VBScript, which works fine with similar code????</p>\n\n<p><img src=\"https://i.stack.imgur.com/8jYNl.png\" alt=\"working fine in VBScript\"></p>\n\n<p>Update 3: I thought <code>hmm, maybe VBScript does this differently than I am in C#</code>, and decided to try using an ActiveX Object.</p>\n\n<p><img src=\"https://i.stack.imgur.com/8AaUc.png\" alt=\"enter image description here\"></p>\n\n<p>Literally the same error, thank you C# very cool</p>\n"}, {"tags": ["c#", ".net", "visual-studio-2017", "azure-functions"], "comments": [{"owner": {"reputation": 6417, "user_id": 3234163, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d3413ce2f05119b9133f6afb00e25dea?s=128&d=identicon&r=PG", "display_name": "ahmelsayed", "link": "https://stackoverflow.com/users/3234163/ahmelsayed"}, "edited": false, "score": 0, "creation_date": 1545943007, "post_id": 53937776, "comment_id": 94739692, "body": "did you mean to tag azure-functions? I&#39;m not sure how this is related to azure-functions. Can you elaborate more on that if it was intentional"}, {"owner": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "reply_to_user": {"reputation": 6417, "user_id": 3234163, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d3413ce2f05119b9133f6afb00e25dea?s=128&d=identicon&r=PG", "display_name": "ahmelsayed", "link": "https://stackoverflow.com/users/3234163/ahmelsayed"}, "edited": false, "score": 0, "creation_date": 1545945668, "post_id": 53937776, "comment_id": 94740544, "body": "@ahmelsayed great question. yes the <code>azure-functions</code> tag was indeed deliberate. the reason i tagged it this way is because the configuration on azure functions is much more intricate than regular c# .net apps"}], "owner": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545863021, "creation_date": 1545863021, "question_id": 53937776, "link": "https://stackoverflow.com/questions/53937776/storing-filtering-logic-in-configuration-applying-filtering-against-a-dto", "title": "storing filtering logic in configuration - applying filtering against a DTO", "body": "<p><strong>How can we pass in some sort of filtering delegate through configuration?</strong></p>\n\n<p>I've got a DTO that looks like this:</p>\n\n<pre><code>public class Translation\n{\n    public DateTime DateTime {get;set;}\n    public string TranslateTo {get;set;}\n    public string TranslateFrom {get;set;}\n}\n</code></pre>\n\n<p>I am making use of this DTO within my method</p>\n\n<pre><code>public void DoWork(Translation translation)\n{\n    WriteToDb(translation);\n}\n</code></pre>\n\n<p>I would like to be able to apply a filter and NOT execute <code>WriteToDb</code>:</p>\n\n<pre><code>public void DoWork(Translation translation, TranslationFilter filter)\n{\n    //apply the filter to translation, and exit this function, otherwise continue:\n    WriteToDb(translation);\n}\n</code></pre>\n\n<p>I would like this <code>TranslationFilter</code> to be something that is configurable through regular JSON.</p>\n\n<p><strong>How can we apply filtering to the fields of a DTO, while allowing this filtering logic to be configurable through json configuration?</strong></p>\n"}, {"tags": ["c#", "android", "input", "selection", "unity-ui"], "answers": [{"comments": [{"owner": {"reputation": 3003, "user_id": 2073738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mHxGk.png?s=128&g=1", "display_name": "Suit Boy Apps", "link": "https://stackoverflow.com/users/2073738/suit-boy-apps"}, "edited": false, "score": 1, "creation_date": 1567374758, "post_id": 57749643, "comment_id": 101936804, "body": "Can you explain why this works, in your answer? <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a>"}], "tags": [], "owner": {"reputation": 11, "user_id": 5324714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d367662f86cbd5bfa8279a70e24ece89?s=128&d=identicon&r=PG&f=1", "display_name": "Fayn", "link": "https://stackoverflow.com/users/5324714/fayn"}, "is_accepted": false, "score": 1, "last_activity_date": 1567373498, "creation_date": 1567373498, "answer_id": 57749643, "question_id": 53937730, "link": "https://stackoverflow.com/questions/53937730/unity-why-cant-i-automatically-select-my-input-field/57749643#57749643", "title": "Unity: Why can&#39;t I automatically select my input field?", "body": "<p>Have you tried using a Coroutine?</p>\n\n<pre><code>void OnEnable()\n{        \n    StartCoroutine(SelectInputField());\n}\n\nIEnumerator SelectInputField()\n{\n    yield return new WaitForEndOfFrame();\n    NameField.ActivateInputField();\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6670095, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-VbMCJ_zCQqg/AAAAAAAAAAI/AAAAAAAAAHs/GVlE4cCbn6A/photo.jpg?sz=128", "display_name": "Pierre Gravelle", "link": "https://stackoverflow.com/users/6670095/pierre-gravelle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1527, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567373498, "creation_date": 1545862540, "question_id": 53937730, "link": "https://stackoverflow.com/questions/53937730/unity-why-cant-i-automatically-select-my-input-field", "title": "Unity: Why can&#39;t I automatically select my input field?", "body": "<p>I'm currently developing a Highscore system for Android.\nI have an Input field where the player will enter their name.</p>\n\n<p><strong>I want it so that the player doesn't have to tap on this input field in order to type into it.</strong> \nHowever, all my attempts have failed so far.</p>\n\n<p><hr>\nI currently have a prefab called <em>HighScoreTemplate</em>.\nThis prefab has a UI Input Field (for the name) and UI Text object (for the score).\nIt also has a script on it called <em>HighScoreTemplate.cs</em>. </p>\n\n<p>I created a <em>Select()</em> function in the <em>HighScoreTemplate.cs</em> script that will call <em>.Select()</em> on the input field and then <em>.ActivateInputField()</em> afterwards.</p>\n\n<pre><code>public void Select()\n{\n    // Select it\n    NameField.Select();\n    NameField.ActivateInputField();\n}\n</code></pre>\n\n<p>However, this wasn't automatically selecting the NameField input field, as the keyboard <strong>did not</strong> pop up on my Android device.</p>\n\n<p>I have verified through debugging that this Select() function <strong>is</strong> being called and run.</p>\n\n<p>I have also verified that this input field <strong>is interactable</strong>, I can see the checkbox for it checked in the inspector when I select it.</p>\n\n<p><br></p>\n\n<p>I then assumed that maybe Unity had a delay, so I attempted this test to see if it would work:</p>\n\n<pre><code>int counter = 1;\nwhile(counter &lt;= 50 &amp;&amp; !_newHighScoreTemplate.NameField.isFocused)\n{\n    _newHighScoreTemplate.Select();\n    Debug.Log(\"Select Attempt #\" + counter);\n    counter++;\n}\n</code></pre>\n\n<p>This test gave me the same result, the android keyboard did not pop up and allow me to input text into the input field.</p>\n\n<p><hr>\nCan someone please shed some light on what I'm doing wrong? \nWhy is my input field not gaining focus and why is the keyboard in Android not popping up so that I can type into the field without having to tap onto it first?</p>\n"}, {"tags": ["c#", "android", "xamarin", "xamarin.forms", "xamarin.android"], "answers": [{"tags": [], "owner": {"reputation": 7532, "user_id": 1753073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c84fc25306e27dd3393559721ba869cd?s=128&d=identicon&r=PG", "display_name": "navylover", "link": "https://stackoverflow.com/users/1753073/navylover"}, "is_accepted": true, "score": 3, "last_activity_date": 1545863783, "creation_date": 1545863783, "answer_id": 53937872, "question_id": 53937684, "link": "https://stackoverflow.com/questions/53937684/set-ring-volume-programatically-on-android-phone-using-xamarin/53937872#53937872", "title": "Set ring volume programatically on Android phone using Xamarin", "body": "<p>You could use <a href=\"https://developer.xamarin.com/api/member/Android.Media.AudioManager.GetStreamMaxVolume/p/Android.Media.Stream/\" rel=\"nofollow noreferrer\">GetStreamMaxVolume</a> firstly to get the maximum value for a particular stream, then set a proper number smaller than the maximum value.</p>\n"}], "owner": {"reputation": 814, "user_id": 2418835, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/79f9af80cf7ef7bccdf6c5abf2f8455b?s=128&d=identicon&r=PG", "display_name": "Clock", "link": "https://stackoverflow.com/users/2418835/clock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "accepted_answer_id": 53937872, "answer_count": 1, "score": 0, "last_activity_date": 1545863783, "creation_date": 1545862103, "question_id": 53937684, "link": "https://stackoverflow.com/questions/53937684/set-ring-volume-programatically-on-android-phone-using-xamarin", "title": "Set ring volume programatically on Android phone using Xamarin", "body": "<p>The following code works well </p>\n\n<pre><code>AudioManager am = (AudioManager)this.GetSystemService(Context.AudioService);\nam.RingerMode = RingerMode.Vibrate;\n</code></pre>\n\n<p>So after running it the ring volume gets to 0, but I would want to set it to a custom value like for instance \"57\".</p>\n\n<p>To do this I used the following code:</p>\n\n<pre><code>AudioManager am = (AudioManager)this.GetSystemService(Context.AudioService);\nam.SetStreamVolume(Stream.Ring, 57, 0);\n</code></pre>\n\n<p>After this code runs nothing changed to my ring volume, I expected that it will change to a \"57\" value.</p>\n\n<p>I am using latest Xamarin libraries on a Android 7.0 version. I need to implement this only for Android.</p>\n\n<p>Is this custom ring volume set a limitation ? \nWhat should this <code>am.SetStreamVolume(Stream.Ring, 57, 0);</code> actually do (if it is not changing the ring volume of the phone).</p>\n"}, {"tags": ["c#", "json", "dependency-injection", "cqrs", "data-access-layer"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 8340526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98ac174970689ad235697796d90183e2?s=128&d=identicon&r=PG&f=1", "display_name": "shymo", "link": "https://stackoverflow.com/users/8340526/shymo"}, "edited": false, "score": 0, "creation_date": 1545939521, "post_id": 53948577, "comment_id": 94738618, "body": "Although your proposed solution would certainly make this case easier, the problem is that I have multiple various queries to be made. If I put them all in the IAccountDataAccess interface, I&#39;d have violated single responsibility principle. In fact, not all queries are meant to be done with both connections.  Also another problem I have - and that&#39;s what really is the core of my question, I&#39;d have to reimplement database access for DatabaseAccountDataAccess, again for DatabaseCustomerDataAccess etc. That is what I would like to get rid of - the necessity for rewriting the data connections."}, {"owner": {"reputation": 318, "user_id": 4392386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5de5f4a7d5a13ab97187efcdd3ee415?s=128&d=identicon&r=PG&f=1", "display_name": "topher", "link": "https://stackoverflow.com/users/4392386/topher"}, "reply_to_user": {"reputation": 21, "user_id": 8340526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98ac174970689ad235697796d90183e2?s=128&d=identicon&r=PG&f=1", "display_name": "shymo", "link": "https://stackoverflow.com/users/8340526/shymo"}, "edited": false, "score": 0, "creation_date": 1545959709, "post_id": 53948577, "comment_id": 94743802, "body": "Do you mean that you have to choose the data source based on the query?"}, {"owner": {"reputation": 21, "user_id": 8340526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98ac174970689ad235697796d90183e2?s=128&d=identicon&r=PG&f=1", "display_name": "shymo", "link": "https://stackoverflow.com/users/8340526/shymo"}, "edited": false, "score": 0, "creation_date": 1545989907, "post_id": 53948577, "comment_id": 94750646, "body": "Not in the example I provided, but yes, that occurs also. There are about 20 databases (that look pretty much the same) I have to connect to - based on what the user inputs."}], "tags": [], "owner": {"reputation": 318, "user_id": 4392386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5de5f4a7d5a13ab97187efcdd3ee415?s=128&d=identicon&r=PG&f=1", "display_name": "topher", "link": "https://stackoverflow.com/users/4392386/topher"}, "is_accepted": false, "score": 0, "last_activity_date": 1545930840, "creation_date": 1545930840, "answer_id": 53948577, "question_id": 53937677, "link": "https://stackoverflow.com/questions/53937677/how-to-correctly-abstract-data-access-layer-for-database-rest-api-calls-json/53948577#53948577", "title": "How to correctly abstract data access layer (for database, rest api calls, json) in C#?", "body": "<p>I think you may be overcomplicating this. It looks to me like you have two data sources to retrieve the same data - one is a json data source and a database. This fits pretty neatly into the land of \"one interface, multiple implementations\". You'll also need a class to sort out which implementation you should use (this is a perfect use case for a factory). The complicated querying logic you're trying to pass into the constructors you could pass as method arguments.</p>\n\n<p>Code would look something like this:</p>\n\n<pre><code>public interface IAccountDataAccess \n{\n  IEnumerable&lt;Account&gt; GetAccountsHigherThanBalance(Status status, Balance balance);\n  // etc.\n}\n\npublic class JsonAccountDataAccess : IAccountDataAccess \n{\n\n  private string jsonFilePath;\n  public JsonAccountDataAccess(string _jsonFilePath)\n  {\n    jsonFilePath = _jsonFilePath;\n  }\n\n  public IEnumerable&lt;Account&gt; GetAccountsHigherThanBalance(Status status, Balance balance) \n  {\n    // read json file, extract data, etc.\n  }\n}\n\npublic class DatabaseAccountDataAccess : IAccountDataAccess \n{\n\n  private string connectionString;\n  public DatabaseAccountDataAccess(string _connectionString)\n  {\n    connectionString = _connectionString;\n  }\n\n  public IEnumerable&lt;Account&gt; GetAccountsHigherThanBalance(Status status, Balance balance) \n  {\n    // read database, extract data, etc.\n  }\n}\n</code></pre>\n\n<p>Here's the tricky part - you need a factory to spit out the correct implementation given some input. I'm not sure how you're planning to decide whether to use JSON or the database, but assuming that your client class knows:</p>\n\n<pre><code>public class AccountDataAccessFactory \n{\n  public IAccountDataAccess GetDataAccess(bool useDatabase) \n  {\n    if(useDatabase) // you could use arbitrarily complex logic here\n      return new DatabaseAccountDataAccess(connString);\n    else \n      return new JsonAccountDataAccess(jsonFilePath);\n  }\n}\n</code></pre>\n\n<p>Your client class could use it like this:</p>\n\n<pre><code>var factory = new AccountDataAccessFactory();\nvar dataAccess = factory.GetDataAccess(true);\nvar accounts = dataAccess.GetAccountsHigherThanBalance(status, balance);\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8340526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98ac174970689ad235697796d90183e2?s=128&d=identicon&r=PG&f=1", "display_name": "shymo", "link": "https://stackoverflow.com/users/8340526/shymo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 961, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1545930840, "creation_date": 1545862043, "question_id": 53937677, "link": "https://stackoverflow.com/questions/53937677/how-to-correctly-abstract-data-access-layer-for-database-rest-api-calls-json", "title": "How to correctly abstract data access layer (for database, rest api calls, json) in C#?", "body": "<p>I've been developing an application that uses various data connections (like database, rest api calls, json config files) in C#. I'm currently struggling to create a sensible data access layer abstraction that would enable to switch between these easily. Each of these require a different connection settings and also work differently.</p>\n\n<p>I've looked at the example of the Repository pattern, but this doesn't really suit my needs. I want to be able to define some query pattern, which I can parametrize and that query will be able to handle the parameters. Example of what I currently have:</p>\n\n<pre><code>    public interface IQuery&lt;TResult&gt;\n    {\n    }\n\n    public interface IQueryHandler&lt;TQuery, TResult&gt;\n        where TQuery : IQuery&lt;TResult&gt;\n    {\n        TResult Handle(TQuery query);\n    }\n\n    public class DatabaseQuery&lt;TResult&gt; : IQuery&lt;IEnumerable&lt;TResult&gt;&gt;\n    {\n        public string ConnectionString { get; set; }\n\n        public string CommandText { get; set; }\n    }\n\n    public class DatabaseConnection&lt;TQuery, TResult&gt; : IQueryHandler&lt;TQuery, IEnumerable&lt;TResult&gt;&gt;\n        where TQuery : DatabaseQuery&lt;TResult&gt;\n    {\n        public IEnumerable&lt;TResult&gt; Handle(TQuery query)\n        {\n            var results = new List&lt;TResult&gt;();\n\n            using (var connection = new SqlConnection(query.ConnectionString))\n            using (var command = new SqlCommand(query.CommandText, connection))\n            {\n                connection.Open();\n\n                using (var reader = command.ExecuteReader())\n                {\n                    while (reader.Read())\n                    {\n                        results.Add(...\n                    }\n                }\n            }\n\n            return results;\n        }\n    }\n\n    public class JsonQuery&lt;TResult&gt; : IQuery&lt;IEnumerable&lt;TResult&gt;&gt;\n    {\n        public string FileLocation { get; set; }\n\n        public Func&lt;TResult, bool&gt; Condition { get; set; }\n    }\n\n    public class JsonConnection&lt;TQuery, TResult&gt; : IQueryHandler&lt;TQuery, IEnumerable&lt;TResult&gt;&gt;\n        where TQuery : JsonQuery&lt;TResult&gt;\n    {\n        public IEnumerable&lt;TResult&gt; Handle(TQuery query)\n        {\n            var text = File.ReadAllText(query.FileLocation);\n            return Deserialize&lt;TResult&gt;(text).Results.Where(query.Condition);\n        }\n    }\n\n    public interface IQueryBuilder&lt;TQuery, TParameters&gt;\n    {\n        TQuery Build(TParameters parameters);\n    }\n\n    public class GetAccountsByStatusAndBalanceHigherThanQueryParameters\n    {\n        public string Status { get; set; }\n\n        public decimal Balance { get; set; }\n    }        \n\n    public class GetAccountsByStatusAndBalanceHigherThan_DatabaseQueryBuilder : \n        IQueryBuilder&lt;DatabaseQuery&lt;Account&gt;, GetAccountsByStatusAndBalanceHigherThanQueryParameters&gt;\n    {\n        public DatabaseQuery&lt;Account&gt; Build(GetAccountsByStatusAndBalanceHigherThanQueryParameters parameters)\n        {\n            return new DatabaseQuery&lt;Account&gt;()\n            {\n                ConnectionString = \"connString\",\n                CommandText = $\"SELECT * FROM Accounts WHERE Status = {parameters.Status} AND Balance = {parameters.Balance}\"\n            };\n        }\n    }\n\n    public class GetAccountsByStatusAndBalanceHigherThan_JsonQueryBuilder\n        : IQueryBuilder&lt;JsonQuery&lt;Account&gt;, GetAccountsByStatusAndBalanceHigherThanQueryParameters&gt;\n    {\n        public JsonQuery&lt;Account&gt; Build(GetAccountsByStatusAndBalanceHigherThanQueryParameters parameters)\n        {\n            return new JsonQuery&lt;Account&gt;()\n            {\n                FileLocation = \"fileLocation\",\n                Condition = acc =&gt; acc.Status == parameters.Status &amp;&amp; acc.Balance &gt; parameters.Balance\n            };\n        }\n    }\n\n    public class GetAccountsByStatusAndBalanceHigherThanQuery : IQuery&lt;IEnumerable&lt;Account&gt;&gt;\n    {\n        public string Status { get; set; }\n\n        public decimal Balance { get; set; }\n    }\n\n    public class GetAccountsByStatusAndBalanceHigherThanQueryHandler :\n        IQueryHandler&lt;GetAccountsByStatusAndBalanceHigherThanQuery, IEnumerable&lt;Account&gt;&gt;           \n    {\n        private readonly IQueryBuilder&lt;JsonQuery&lt;Account&gt;, GetAccountsByStatusAndBalanceHigherThanQueryParameters&gt; \n            _queryBuilder;\n\n        private readonly IQueryHandler&lt;JsonQuery&lt;Account&gt;, IEnumerable&lt;Account&gt;&gt; _connection;\n\n        public GetAccountsByStatusAndBalanceHigherThanQueryHandler(\n            IQueryBuilder&lt;JsonQuery&lt;Account&gt;, GetAccountsByStatusAndBalanceHigherThanQueryParameters&gt; queryBuilder,\n            IQueryHandler&lt;JsonQuery&lt;Account&gt;, IEnumerable&lt;Account&gt;&gt; connection)\n        {\n            _queryBuilder = queryBuilder;\n            _connection = connection;\n        }\n\n        public IEnumerable&lt;Account&gt; Handle(GetAccountsByStatusAndBalanceHigherThanQuery query)\n        {\n            var jsonQuery = _queryBuilder.Build(new GetAccountsByStatusAndBalanceHigherThanQueryParameters\n            { \n                Status = query.Status,\n                Balance = query.Balance\n            });\n\n            return _connection.Handle(jsonQuery);\n        }\n    }\n</code></pre>\n\n<p>So there are two connections - one database and one Json file connection. I have put the settings to the connections into queries - and while database connection requires connection string and SQL command, the Json connection requires file location and some filtering on the results. The problem is in the last query handler - GetAccountsByStatusAndBalanceHigherThanQueryHandler. I need to make that depend on specific connection, otherwise I can't get it to compile. What I want is to make sure that I can change the connection by just changing the injected parameters and all will work correctly.</p>\n\n<p>Could you please advise on how to make sure that I can change the connections easily and also whether this architecture is good at all?</p>\n"}, {"tags": ["c#", "unity3d", "triggers", "collider"], "answers": [{"tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": true, "score": 3, "last_activity_date": 1545952471, "last_edit_date": 1545952471, "creation_date": 1545863208, "answer_id": 53937805, "question_id": 53937653, "link": "https://stackoverflow.com/questions/53937653/ontriggerexit-being-called-by-collider-not-marked-as-trigger-error-unity/53937805#53937805", "title": "OnTriggerExit being called by collider not marked as trigger error Unity", "body": "<p>This is working as intended. From the unity docs on <a href=\"https://docs.unity3d.com/ScriptReference/MonoBehaviour.OnTriggerExit.html\" rel=\"nofollow noreferrer\"><code>MonoBehaviour.OnTriggerExit(Collider)</code></a>:</p>\n\n<blockquote>\n  <p>This message is sent to the trigger and the collider that touches the trigger.</p>\n</blockquote>\n\n<p>You can not avoid this from being called on <code>drop_area</code>'s <code>MonoBehaviour</code>s. </p>\n\n<p>However, in the implementation of <code>MonoBehaviour.OnTriggerExit(Collider)</code>, you can check first if the called <code>MonoBehaviour</code>'s collider is not a trigger, and exit the method if so:</p>\n\n<pre><code>public Collider myCollider;\n\n...\n\nmyCollider = GetComponent&lt;Collider&gt;();\n\n...\n\nvoid OnTriggerExit(Collider other) \n{\n    if (!myCollider.isTrigger) \n    {\n        return;\n    } \n\n    // Do stuff for trigger here.\n}\n</code></pre>\n"}], "owner": {"reputation": 2064, "user_id": 5716477, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/iPOXu.jpg?s=128&g=1", "display_name": "FutureCake", "link": "https://stackoverflow.com/users/5716477/futurecake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 524, "favorite_count": 0, "accepted_answer_id": 53937805, "answer_count": 1, "score": 1, "last_activity_date": 1545952471, "creation_date": 1545861870, "last_edit_date": 1545863379, "question_id": 53937653, "link": "https://stackoverflow.com/questions/53937653/ontriggerexit-being-called-by-collider-not-marked-as-trigger-error-unity", "title": "OnTriggerExit being called by collider not marked as trigger error Unity", "body": "<p>I have a hirarchy like so:<br>\n<a href=\"https://i.stack.imgur.com/62lpP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/62lpP.png\" alt=\"enter image description here\"></a><br>\nin the parent i have a the following components:<br>\n<a href=\"https://i.stack.imgur.com/FAABO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FAABO.png\" alt=\"enter image description here\"></a><br>\nthe child called <code>DropDetector</code> has a collider marked as a trigger. and the child called <code>drop_area</code> also has a collider but this one IS NOT marked as a trigger. But at the moment my OntriggerEnter and Exit functions are being called from the <code>drop_area</code> collider eventhough it is NOT marked as a trigger. Why is this happening? And how do i stop it from happening? </p>\n\n<p>The <code>DropArea</code> script and rigidbody are attached to the parent called <code>IncrementA_DropArea</code></p>\n\n<p>If anymore information or clarification is needed pls let me know so i can clarify!</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 30188, "user_id": 3218692, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4pA4T.jpg?s=128&g=1", "display_name": "Yeldar Kurmangaliyev", "link": "https://stackoverflow.com/users/3218692/yeldar-kurmangaliyev"}, "edited": false, "score": 1, "creation_date": 1545862478, "post_id": 53937642, "comment_id": 94715486, "body": "Since everything is working, the question sounds off-topic here. I believe that it can be an interesting case, but I am afraid it will not be answered here, because it is too broad, opinion-based and is not Q&amp;A-style in general. Try to split your question to specific cases of what you want and can&#39;t achieve with your code, and provide minimal reproducible example with code, so that we can help."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1545862910, "post_id": 53937642, "comment_id": 94715578, "body": "This sounds like a prime mentorship opportunity, one that few on SO seem to have. You should start by asking your colleague this question. It would be a shame if [s]he weren&#39;t willing to use that experience to help you grow as a developer."}, {"owner": {"reputation": 37, "user_id": 10697771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857d51975ac9f940c4597548db1a604f?s=128&d=identicon&r=PG&f=1", "display_name": "irisshootsface", "link": "https://stackoverflow.com/users/10697771/irisshootsface"}, "edited": false, "score": 1, "creation_date": 1545862984, "post_id": 53937642, "comment_id": 94715600, "body": "It already is specific though? I want to know if there\u2019s a way to group all of the parameters/controls so that I don\u2019t have to pass 10+ parameters to my function. There\u2019s nothing else to split up."}, {"owner": {"reputation": 37, "user_id": 10697771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857d51975ac9f940c4597548db1a604f?s=128&d=identicon&r=PG&f=1", "display_name": "irisshootsface", "link": "https://stackoverflow.com/users/10697771/irisshootsface"}, "edited": false, "score": 1, "creation_date": 1545863099, "post_id": 53937642, "comment_id": 94715623, "body": "My colleague is not a c# programmer. He works with PowerShell so the only clue he was able to give me was the using parameters one. He doesn\u2019t know syntax or details for c#. I have another colleague that\u2019s more experienced with c# but he is on vacation til the beginning of next year. (Sorry for brief responses, I\u2019m on mobile right now.)"}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1545863454, "post_id": 53937642, "comment_id": 94715685, "body": "Did he say &quot;no&quot;? Regardless of language, he seems to have a good idea of <i>what</i> to do, if not <i>how</i> to do it. That&#39;s something."}, {"owner": {"reputation": 37, "user_id": 10697771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857d51975ac9f940c4597548db1a604f?s=128&d=identicon&r=PG&f=1", "display_name": "irisshootsface", "link": "https://stackoverflow.com/users/10697771/irisshootsface"}, "edited": false, "score": 1, "creation_date": 1545863795, "post_id": 53937642, "comment_id": 94715771, "body": "Let me clarify. I&#39;m not sure, compared to you guys, how experienced he actually is. I think he&#39;d probably still classify himself as a novice. He does not know c#, he knows powershell and has a basic understanding of programming. His job role allows him to spend a lot more time learning while mine does not, as well. When I explained my original problem to him last week he threw out the parameter/argument suggestion but said he doesn&#39;t know exactly how to do it in C#, so I went out and learned how to do it today. It&#39;s great, but I need more. I came to SO because neither mentor is working today."}, {"owner": {"reputation": 37, "user_id": 10697771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857d51975ac9f940c4597548db1a604f?s=128&d=identicon&r=PG&f=1", "display_name": "irisshootsface", "link": "https://stackoverflow.com/users/10697771/irisshootsface"}, "edited": false, "score": 1, "creation_date": 1545863841, "post_id": 53937642, "comment_id": 94715776, "body": "I am going to edit my OP as well since I found a simpler way to word what I need. I apologize for writing novel length posts, I don&#39;t always know what information is relevant or not or how to properly word my question/problem."}, {"owner": {"reputation": 37, "user_id": 10697771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857d51975ac9f940c4597548db1a604f?s=128&d=identicon&r=PG&f=1", "display_name": "irisshootsface", "link": "https://stackoverflow.com/users/10697771/irisshootsface"}, "reply_to_user": {"reputation": 30188, "user_id": 3218692, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4pA4T.jpg?s=128&g=1", "display_name": "Yeldar Kurmangaliyev", "link": "https://stackoverflow.com/users/3218692/yeldar-kurmangaliyev"}, "edited": false, "score": 1, "creation_date": 1545864595, "post_id": 53937642, "comment_id": 94715923, "body": "@YeldarKurmangaliyev I&#39;ve edited my OP a bit to hopefully clarify exactly what I need. I came here assuming that this was simply me lacking knowledge of the fundamentals, and that there was something basic I could be pointed in the direction of to achieve what I&#39;m doing. If it&#39;s actually that subjective and would require a more complicated solution then that changes things. I&#39;ll delete it if that&#39;s the case. My intention isn&#39;t to spam or anything like that. Apologies."}, {"owner": {"reputation": 37, "user_id": 10697771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857d51975ac9f940c4597548db1a604f?s=128&d=identicon&r=PG&f=1", "display_name": "irisshootsface", "link": "https://stackoverflow.com/users/10697771/irisshootsface"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 1, "creation_date": 1545864714, "post_id": 53937642, "comment_id": 94715942, "body": "@madreflection You are correct that this is prime mentorship opportunity and I would much prefer to work with someone directly. They just aren&#39;t available right now and I&#39;m super gung-ho about working on this project during my downtime this week :D"}], "answers": [{"comments": [{"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1545866929, "post_id": 53938152, "comment_id": 94716402, "body": "Beat me to it. :)  I was going to suggest, however, that <code>validate</code> return <code>true</code> for the opposite condition (i.e. true means that it passed validation, which is that lunch is between the start and end of the day) and set <code>this.lblDay.Visible</code> to the negative of its result."}, {"owner": {"reputation": 37, "user_id": 10697771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857d51975ac9f940c4597548db1a604f?s=128&d=identicon&r=PG&f=1", "display_name": "irisshootsface", "link": "https://stackoverflow.com/users/10697771/irisshootsface"}, "edited": false, "score": 0, "creation_date": 1545867523, "post_id": 53938152, "comment_id": 94716493, "body": "Yikes! This is going to take me a bit to comprehend, I apologize. But thank you SOO much for a detailed answer. I didn&#39;t want to copy paste my entire code because.. it really is a LOT (probably would need to go into a pastebin or something..) and I feel like it would have just resulted in insta-downvotes and also would have made me look lazy or something. Every time I come here I play a game of &quot;okay how do I best word this to get the least amount of downvotes and will I get banned.&quot; I don&#39;t know if this is the solution I need yet or not, but should I hit the check button and accept it anyway?"}, {"owner": {"reputation": 968, "user_id": 5910169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/601a40180e3fa49fbf4e55145adf54d9?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Ball", "link": "https://stackoverflow.com/users/5910169/frank-ball"}, "edited": false, "score": 0, "creation_date": 1545867957, "post_id": 53938152, "comment_id": 94716557, "body": "The User Control idea is exactly what I was thinking.  If it&#39;s absolutely necessary to handle the controls within your function and not just handle the control&#39;s values (as Josh so wisely suggested), then creating a User Control and passing it in as a parameter will give you complete control and access over everything in the User Control."}, {"owner": {"reputation": 1991, "user_id": 1592756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72037bf7577e9d669b41f7a7e1d02b82?s=128&d=identicon&r=PG", "display_name": "Josh Part", "link": "https://stackoverflow.com/users/1592756/josh-part"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1545871193, "post_id": 53938152, "comment_id": 94717029, "body": "@madreflection yeah, that would make sense, too, but I think the right choice entirely depends on what is actually a &quot;valid&quot; date for OP."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1545874552, "post_id": 53938152, "comment_id": 94717480, "body": "@JoshPart I agree, and based on the overcomplicated test that conflates business logic and UI logic, I believe OP may need to rethink what that is. As I read it, the logic and the names of the controls suggest that a label (presumably with a validation error message) is being displayed when something is <i>invalid</i>. Would it not make sense then to set the label&#39;s <code>Visible</code> property to the logical negative of the <i>valid</i> determination? Maybe I&#39;m being too pedantic with this suggestion but I think there&#39;s value in the thought process."}, {"owner": {"reputation": 1991, "user_id": 1592756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72037bf7577e9d669b41f7a7e1d02b82?s=128&d=identicon&r=PG", "display_name": "Josh Part", "link": "https://stackoverflow.com/users/1592756/josh-part"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1545875025, "post_id": 53938152, "comment_id": 94717531, "body": "@madreflection yeah, the fact that I actually visualize differently what the &quot;validation&quot; process means (the &quot;name&quot; of the day is shown when the start and end selected dates don&#39;t clash with the lunch time...?) should be a red flag for OP that maybe his entire logic requires a rework (which is usually very scary on scenarios that include lots of input controls and repeated functions); let&#39;s just hope that this question is actually the first step in the right direction for OP to refactor his code."}, {"owner": {"reputation": 37, "user_id": 10697771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857d51975ac9f940c4597548db1a604f?s=128&d=identicon&r=PG&f=1", "display_name": "irisshootsface", "link": "https://stackoverflow.com/users/10697771/irisshootsface"}, "edited": false, "score": 0, "creation_date": 1545944144, "post_id": 53938152, "comment_id": 94740075, "body": "@JoshPart would you like to see the full code? You&#39;ll probably laugh at me. What I&#39;m actually doing.. is validation. I&#39;m having certain labels (red exclamation marks) appear to the user as visual cues when they input invalid values. Right now, I have working code that makes these visual cues appear if they enter a value for a break/lunch that is outside of the currently designated shift start/end times. That works, but I went to go add even MORE validation in, checking like.. if breaks/lunches will overlap. And that&#39;s when I was like &quot;this is too complicated.. there has to be an easier way.&quot;"}, {"owner": {"reputation": 37, "user_id": 10697771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857d51975ac9f940c4597548db1a604f?s=128&d=identicon&r=PG&f=1", "display_name": "irisshootsface", "link": "https://stackoverflow.com/users/10697771/irisshootsface"}, "edited": false, "score": 0, "creation_date": 1545944191, "post_id": 53938152, "comment_id": 94740092, "body": "@joshpart to top it all off, I was aware that there was some kind of built-in validation method(???) or something that C# can do, but I have NO IDEA how to use it. So I just started doing all of this.. on my own. While trying to learn. It&#39;s a mess."}, {"owner": {"reputation": 37, "user_id": 10697771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857d51975ac9f940c4597548db1a604f?s=128&d=identicon&r=PG&f=1", "display_name": "irisshootsface", "link": "https://stackoverflow.com/users/10697771/irisshootsface"}, "edited": false, "score": 0, "creation_date": 1545944508, "post_id": 53938152, "comment_id": 94740183, "body": "@joshpart I saw someone word it best kind of like this: I&#39;m basically trying to get to my destination by riding a bicycle, and everyone expects me to just fly a jet, but I didn&#39;t even know we COULD fly jets, not to mention I&#39;m lacking resources for learning to fly jets lol and all I really know how to do is walk and ride a bicycle (with training wheels, looking at you Visual Studio)."}, {"owner": {"reputation": 1991, "user_id": 1592756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72037bf7577e9d669b41f7a7e1d02b82?s=128&d=identicon&r=PG", "display_name": "Josh Part", "link": "https://stackoverflow.com/users/1592756/josh-part"}, "reply_to_user": {"reputation": 37, "user_id": 10697771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857d51975ac9f940c4597548db1a604f?s=128&d=identicon&r=PG&f=1", "display_name": "irisshootsface", "link": "https://stackoverflow.com/users/10697771/irisshootsface"}, "edited": false, "score": 1, "creation_date": 1545955786, "post_id": 53938152, "comment_id": 94743119, "body": "@irisshootsface what we meant is that, with the chunk of code you shared it was confusing what such code was supposed to do; now, as I see you&#39;re somewhat learning C# (don&#39;t know if programming in general), here&#39;s a little PSA: start thinking less in the &quot;easiest way&quot; and more in the &quot;right way&quot;; the right way is the less complex, less problematic one to change and mantain, and this doesn&#39;t necessarily mean is the easiest way to do things (nor does it mean there&#39;s only one, absolute &quot;right way&quot;, but that&#39;s a story for another time)"}], "tags": [], "owner": {"reputation": 1991, "user_id": 1592756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72037bf7577e9d669b41f7a7e1d02b82?s=128&d=identicon&r=PG", "display_name": "Josh Part", "link": "https://stackoverflow.com/users/1592756/josh-part"}, "is_accepted": true, "score": 1, "last_activity_date": 1545870833, "last_edit_date": 1545870833, "creation_date": 1545866296, "answer_id": 53938152, "question_id": 53937642, "link": "https://stackoverflow.com/questions/53937642/whats-the-best-way-to-group-a-lot-of-controls-for-passing-as-parameters-to-a-met/53938152#53938152", "title": "Whats the best way to group a lot of controls for passing as parameters to a method?", "body": "<p>I'm not sure if the small scope you share with us is enough to give a meaningful answer; but neither I'm sure sharing with us a bigger part of the code would be really helpful.</p>\n\n<p>Anyway,  with the small information you gave us, I can think of a couple suggestions:</p>\n\n<p><strong>1. Create a custom control</strong>.</p>\n\n<p>If you say you have group of controls that repeat themselves once for each day of the week, and each group of control executes the same logic, it would be better to create a custom control that contains both all the controls each day needs, and the logic within each group of controls. Add methods, functions and events to control its behaviour and its interaction with the rest of the form. Then just put as many instances of that control as you need, and let the control control itself.</p>\n\n<p><strong>2. Don't pass controls as parameters, pass their values</strong>.</p>\n\n<p>Passing the controls as parameters adds little to no value to your code, increases complexity, tightens coupling and could even be considered a code smell. Instead, create methods and function that receive values as parameters, and call them using the values of the controls. With this, you could even create a <a href=\"https://stackoverflow.com/questions/250001/poco-definition\">POCO</a> that contains all the values needed, and receive that as parameter - just make sure each POCO is related to the logical design and not to the functions instead (i.e. don't create one for each function; create 4 or 5 that can contain all necesary values and receive as many as needed in each function). This would also be a step into the 'decoupling' direction, allowing you to eventually separate your code in layers.</p>\n\n<p><strong>3. Use return values instead of reference parameters</strong>.\nOne thing that increases the number of parameters received by your method is that you also receive the object whose state will be modified by it. You could instead return a value and assign it to the target control, both reducing the number of parameters and increasign the usefullness of your function. </p>\n\n<p>Taking these points in consideration, and using your example, instead of this:</p>\n\n<pre><code>private void validate(DateTimePicker start, DateTimePicker end, DateTimePicker lunch, Label day)\n{\n    if ((lunch.Value &lt; start.Value || lunch.Value &gt;= end.Value))\n    {\n        day.Visible = true;\n    }\n    if ((lunch.Value &gt;= start.Value &amp;&amp; lunch.Value &lt; end.Value))\n    {\n        day.Visible = false;\n    }\n}\n</code></pre>\n\n<p>You could have this:</p>\n\n<pre><code>private bool validate(DateTime start, DateTime end, DateTime lunch)\n{\n    return lunch &lt; start || lunch &gt; end;\n}\n\npublic bool validateControl()\n{\n    //executes all validations\n    this.lblDay.Visible = validate(dtpStart.Value, dtpEnd.Value, dtpLunch.Value);\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 10697771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857d51975ac9f940c4597548db1a604f?s=128&d=identicon&r=PG&f=1", "display_name": "irisshootsface", "link": "https://stackoverflow.com/users/10697771/irisshootsface"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 53938152, "answer_count": 1, "score": -2, "last_activity_date": 1545870833, "creation_date": 1545861813, "last_edit_date": 1545864258, "question_id": 53937642, "link": "https://stackoverflow.com/questions/53937642/whats-the-best-way-to-group-a-lot-of-controls-for-passing-as-parameters-to-a-met", "title": "Whats the best way to group a lot of controls for passing as parameters to a method?", "body": "<p>I have a Windows Form with A LOT of controls separated into groups based on the day (Monday, Tuesday, etc.), and functions dependent on the controls within that day. I want to find a better way to structure my code, because right now it feels and looks like spaghetti.</p>\n\n<p>Currently, my code is technically working, but it's a mess. It's way too long, and when I need to edit some of my functions I'm having to edit them for 7 different days and find/replace control names and stuff. </p>\n\n<p>With the help of a more experienced colleague who suggested using parameters (duh), I've found a way to simplify it some. I haven't applied it to my main code yet, but have played around with it in a simpler test environment.</p>\n\n<p>The problem now is that I have an absurd number of parameters that I'm hoping can be grouped somehow. </p>\n\n<p>I've looked into the GroupBox control, but it doesn't seem to do what I hoped.</p>\n\n<p>Here's a simplified example of code that I'm working with. <strong>In my actual code, there are a lot more controls involved, and therefore a lot more parameters.</strong></p>\n\n<pre><code>private void validate(DateTimePicker start, DateTimePicker end, DateTimePicker lunch, Label day)\n{\n    if ((lunch.Value &lt; start.Value || lunch.Value &gt;= end.Value))\n    {\n        day.Visible = true;\n    }\n    if ((lunch.Value &gt;= start.Value &amp;&amp; lunch.Value &lt; end.Value))\n    {\n        day.Visible = false;\n    }\n}\n</code></pre>\n\n<p>I have a feeling I should be using an array to group these? Can anyone confirm? Thanks. </p>\n\n<p>TL;DR: How can you group a lot of parameters for passing to a function?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "absolute-path"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 10712933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17b5088a1fe5317f98b894ecdee4dc07?s=128&d=identicon&r=PG&f=1", "display_name": "val", "link": "https://stackoverflow.com/users/10712933/val"}, "edited": false, "score": 0, "creation_date": 1545943413, "post_id": 53937829, "comment_id": 94739830, "body": "Pretty sure Request.Url.AbsolutePath includes the Ids though, like it would return &quot;/app/company/employees/5&quot; not &quot;/app/company/employees&quot;"}], "tags": [], "owner": {"reputation": 124, "user_id": 3288771, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/814217f37f303fe34b07e8f45a66784a?s=128&d=identicon&r=PG&f=1", "display_name": "arod", "link": "https://stackoverflow.com/users/3288771/arod"}, "is_accepted": false, "score": 0, "last_activity_date": 1545863385, "creation_date": 1545863385, "answer_id": 53937829, "question_id": 53937606, "link": "https://stackoverflow.com/questions/53937606/how-to-get-the-absolutepath-without-the-id-or-query/53937829#53937829", "title": "How to Get the Absolutepath Without the Id or Query?", "body": "<p>The Uri Class offers many properties <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.uri?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.uri?view=netframework-4.7.2</a></p>\n\n<p>Try this</p>\n\n<pre><code>string val = HttpContext.Current.Request.Url.AbsolutePath;\n</code></pre>\n\n<p>or in your case if your request variable is an HttpRequest object, try:</p>\n\n<pre><code>string val = request.Url.AbsolutePath;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 77, "user_id": 10712933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17b5088a1fe5317f98b894ecdee4dc07?s=128&d=identicon&r=PG&f=1", "display_name": "val", "link": "https://stackoverflow.com/users/10712933/val"}, "edited": false, "score": 0, "creation_date": 1545943405, "post_id": 53941940, "comment_id": 94739822, "body": "Pretty sure Request.Url.AbsolutePath includes the Ids though, like it would return &quot;/app/company/employees/5&quot; not &quot;/app/company/employees&quot;"}, {"owner": {"reputation": 124, "user_id": 3288771, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/814217f37f303fe34b07e8f45a66784a?s=128&d=identicon&r=PG&f=1", "display_name": "arod", "link": "https://stackoverflow.com/users/3288771/arod"}, "edited": false, "score": 0, "creation_date": 1545951292, "post_id": 53941940, "comment_id": 94742083, "body": "Milan, you are able to test my hypothesis out yourself. I have already provided you with sufficient info to solve this. Don&#39;t worry, you are a new contributor, and maybe are not aware of these things. If you are using Visual Studio you can set a breakpoint or use the Locals or QuickWatch panes. Good luck"}], "tags": [], "owner": {"reputation": 11, "user_id": 4785791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8e2cca6dbc5368efab6140b273de6b4?s=128&d=identicon&r=PG&f=1", "display_name": "Milan", "link": "https://stackoverflow.com/users/4785791/milan"}, "is_accepted": false, "score": 0, "last_activity_date": 1545899204, "creation_date": 1545899204, "answer_id": 53941940, "question_id": 53937606, "link": "https://stackoverflow.com/questions/53937606/how-to-get-the-absolutepath-without-the-id-or-query/53941940#53941940", "title": "How to Get the Absolutepath Without the Id or Query?", "body": "<p>Use HttpContext.Current.Request.Url.AbsolutePath</p>\n"}], "owner": {"reputation": 77, "user_id": 10712933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17b5088a1fe5317f98b894ecdee4dc07?s=128&d=identicon&r=PG&f=1", "display_name": "val", "link": "https://stackoverflow.com/users/10712933/val"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1545899204, "creation_date": 1545861456, "question_id": 53937606, "link": "https://stackoverflow.com/questions/53937606/how-to-get-the-absolutepath-without-the-id-or-query", "title": "How to Get the Absolutepath Without the Id or Query?", "body": "<p>Let's say my url is \"<a href=\"https://www.mywebsite.com/app/company/employees/5\" rel=\"nofollow noreferrer\">https://www.mywebsite.com/app/company/employees/5</a>\" or \"<a href=\"https://www.mywebsite.com/company/employees?id=5&amp;name=jack\" rel=\"nofollow noreferrer\">https://www.mywebsite.com/company/employees?id=5&amp;name=jack</a>\"</p>\n\n<p>I'm looking for a way to get the \"base\" path, or whatever it's called. Like the \"base\" path would be \"/app/company/employees\" for both, without the \"/5\"  part or \"?id=5&amp;name=jack\" part.</p>\n\n<p>I was using <code>string.Join(\"/\", request.ApplicationPath, request.RequestContext.RouteData.Values[\"controller\"], request.RequestContext.RouteData.Values[\"action\"])</code> to get it (request is HttpRequestBase), but it doesn't work the way I want since it includes the Index action too. Like if the Url is \"<a href=\"https://www.mywebsite.com/app/company\" rel=\"nofollow noreferrer\">https://www.mywebsite.com/app/company</a>\" I want \"/app/company/\" not \"/app/company/Index\". I can always check if the action is Index or not but it feels like kind of a \"code smell\" to me.</p>\n\n<p>Is it even a code smell? Is there any proper way to accomplish this?</p>\n"}, {"tags": ["javascript", "c#", "jquery", "asp.net-mvc", "razor"], "answers": [{"comments": [{"owner": {"reputation": 24888, "user_id": 1023618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5dd1a5bb0139abc749b7d4cd8cf7aa1b?s=128&d=identicon&r=PG", "display_name": "Reinstate Monica Cellio", "link": "https://stackoverflow.com/users/1023618/reinstate-monica-cellio"}, "edited": false, "score": 0, "creation_date": 1545866489, "post_id": 53937774, "comment_id": 94716321, "body": "Multiple elements with the same ID will be inconsistent across different browsers, and won&#39;t work correctly on any of them.  You should use a class name instead."}, {"owner": {"reputation": 869, "user_id": 1024044, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7bo1J.jpg?s=128&g=1", "display_name": "Sgedda", "link": "https://stackoverflow.com/users/1024044/sgedda"}, "reply_to_user": {"reputation": 24888, "user_id": 1023618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5dd1a5bb0139abc749b7d4cd8cf7aa1b?s=128&d=identicon&r=PG", "display_name": "Reinstate Monica Cellio", "link": "https://stackoverflow.com/users/1023618/reinstate-monica-cellio"}, "edited": false, "score": 0, "creation_date": 1545866583, "post_id": 53937774, "comment_id": 94716338, "body": "yes thanks, it should be class of course now changed."}, {"owner": {"reputation": 13, "user_id": 10836683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec2443f73ba90cabc63dcfd9084183e3?s=128&d=identicon&r=PG&f=1", "display_name": "HelpMyHospital", "link": "https://stackoverflow.com/users/10836683/helpmyhospital"}, "edited": false, "score": 0, "creation_date": 1545922855, "post_id": 53937774, "comment_id": 94732317, "body": "This works like a charm, but the value displayed is either &quot;true&quot; or &quot;false&quot;.  Do you know how I can turn &quot;true&quot; into &quot;True&quot;?"}, {"owner": {"reputation": 869, "user_id": 1024044, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7bo1J.jpg?s=128&g=1", "display_name": "Sgedda", "link": "https://stackoverflow.com/users/1024044/sgedda"}, "edited": false, "score": 0, "creation_date": 1545928622, "post_id": 53937774, "comment_id": 94734693, "body": "Thats strange, I thought the C# representation shold be True/False by default. This was the reason I used text().toLowerCase in the first place.  Otherwise something like: char.ToUpper(@...HasHealthcare.ToString()[0]) + @...HasHealthcare.ToString().Substring(1);"}, {"owner": {"reputation": 13, "user_id": 10836683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec2443f73ba90cabc63dcfd9084183e3?s=128&d=identicon&r=PG&f=1", "display_name": "HelpMyHospital", "link": "https://stackoverflow.com/users/10836683/helpmyhospital"}, "edited": false, "score": 0, "creation_date": 1545931165, "post_id": 53937774, "comment_id": 94735671, "body": "If it reloads the page it&#39;ll show correctly.  The JQuery above doesn&#39;t require a full page reload though.  My posts returns a boolean to the JQuery.  Neither of those above work unfortunately."}, {"owner": {"reputation": 869, "user_id": 1024044, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7bo1J.jpg?s=128&g=1", "display_name": "Sgedda", "link": "https://stackoverflow.com/users/1024044/sgedda"}, "edited": false, "score": 0, "creation_date": 1545987981, "post_id": 53937774, "comment_id": 94749968, "body": "You can do like this in the success response: var hc=obj.healthcare.toString(); obj.healthcare=hc.charAt(0).toUpperCase() + hc.slice(1)"}], "tags": [], "owner": {"reputation": 869, "user_id": 1024044, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7bo1J.jpg?s=128&g=1", "display_name": "Sgedda", "link": "https://stackoverflow.com/users/1024044/sgedda"}, "is_accepted": true, "score": 0, "last_activity_date": 1545867882, "last_edit_date": 1545867882, "creation_date": 1545863019, "answer_id": 53937774, "question_id": 53937578, "link": "https://stackoverflow.com/questions/53937578/clickable-button-inside-of-a-table/53937774#53937774", "title": "Clickable button inside of a table", "body": "<p>If you need to autosave at each click you could use Ajax and JQuery like below. And you would need a matching [HttPost] actionmethod as well.</p>\n\n<pre><code>&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;&lt;label&gt; FirstName&lt;/label&gt;&lt;/th&gt;\n&lt;th&gt;&lt;label&gt; LastName&lt;/label&gt;&lt;/th&gt;\n&lt;th&gt;&lt;label&gt; HasHealthcare&lt;/label&gt;&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n\n&lt;tbody&gt;\n@for (int i=0; i &lt; Model.Employees.Count; i++)\n{\n&lt;tr&gt;\n&lt;td&gt;@Model.Employees[i].FirstName&lt;/td&gt;\n&lt;td&gt;@Model.Employees[i].LastName&lt;/td&gt;\n&lt;td&gt;&lt;a class=\"healthcare\" data-id=\"@Model.Employees[i].Id\" href=\"#\"&gt;@Model.Employees[i].HasHealthcare&lt;/a&gt;&lt;/td&gt;\n&lt;/tr&gt;\n}\n&lt;/tbody&gt;\n\n&lt;script&gt;\n$().ready(function(){\n     $(\".healthcare\").click(function(){\n      var element = this;\n      $.ajax({\n        type: \"POST\",\n        url: url,\n        data: {isHealthcare:$(element).text().toLowerCase()==='true', id:$(this).data(\"id\") },\n        success: function(result){\n           $(element).text(result);\n        },\n        dataType: \"json\"\n     });\n   });\n})\n&lt;/script&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1545863182, "post_id": 53937786, "comment_id": 94715642, "body": "I would agree with the recommending use of a <code>checkbox</code> instead of a <code>button</code> for something with this usability."}, {"owner": {"reputation": 12943, "user_id": 2673029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbcZN.jpg?s=128&g=1", "display_name": "Isma", "link": "https://stackoverflow.com/users/2673029/isma"}, "reply_to_user": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 1, "creation_date": 1545863256, "post_id": 53937786, "comment_id": 94715651, "body": "Yeah, I agree, I think a checkbox would be much better and he can use CSS to make it look like a button if he wants to."}], "tags": [], "owner": {"reputation": 12943, "user_id": 2673029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbcZN.jpg?s=128&g=1", "display_name": "Isma", "link": "https://stackoverflow.com/users/2673029/isma"}, "is_accepted": false, "score": 4, "last_activity_date": 1545863077, "creation_date": 1545863077, "answer_id": 53937786, "question_id": 53937578, "link": "https://stackoverflow.com/questions/53937578/clickable-button-inside-of-a-table/53937786#53937786", "title": "Clickable button inside of a table", "body": "<p>If you don't mind using a checkbox, the following may work for you:</p>\n\n<pre><code>&lt;table&gt;\n     &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;&lt;label&gt; FirstName&lt;/label&gt;&lt;/th&gt;\n                &lt;th&gt;&lt;label&gt; LastName&lt;/label&gt;&lt;/th&gt;\n                &lt;th&gt;&lt;label&gt; HasHealthcare&lt;/label&gt;&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n\n    &lt;tbody&gt;\n        @for (int i = 0; i &lt; Model.Employees.Count; i++)\n        {\n            &lt;tr&gt;\n                &lt;td&gt;@Model.Employees[i].FirstName&lt;/td&gt;\n                &lt;td&gt;@Model.Employees[i].LastName&lt;/td&gt;\n                &lt;td&gt;@Html.CheckBoxFor(x =&gt; x.Employees[i].HasHealthCare, false)&lt;/td&gt;\n            &lt;/tr&gt;\n        }\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10836683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec2443f73ba90cabc63dcfd9084183e3?s=128&d=identicon&r=PG&f=1", "display_name": "HelpMyHospital", "link": "https://stackoverflow.com/users/10836683/helpmyhospital"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 53937774, "answer_count": 2, "score": 1, "last_activity_date": 1545867882, "creation_date": 1545861262, "last_edit_date": 1545866903, "question_id": 53937578, "link": "https://stackoverflow.com/questions/53937578/clickable-button-inside-of-a-table", "title": "Clickable button inside of a table", "body": "<p>I am writing a View of a composite list of employee information.  The view will display information such as first name, last name, job code etc...  My one problem is that I would like to have the boolean cells be clickable buttons. </p>\n\n<p>For example: The HasHealthcare column will contain boolean values.</p>\n\n<pre><code>&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;&lt;label&gt; FirstName&lt;/label&gt;&lt;/th&gt;\n&lt;th&gt;&lt;label&gt; LastName&lt;/label&gt;&lt;/th&gt;\n&lt;th&gt;&lt;label&gt; HasHealthcare&lt;/label&gt;&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n\n&lt;tbody&gt;\n@for (int i=0; i &lt; Model.Employees.Count; i++)\n{\n&lt;tr&gt;\n&lt;td&gt;@Model.Employees[i].FirstName&lt;/td&gt;\n&lt;td&gt;@Model.Employees[i].LastName&lt;/td&gt;\n&lt;td&gt;@Model.Employees[i].HasHealthcare&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n</code></pre>\n\n<p>Table:</p>\n\n<pre><code>First Name | Last Name | Has Healthcare\n\nBob        |  Smith    | True\n</code></pre>\n\n<p>I would like \"True\" to be a clickable button so that if I click it the opposite boolean value appears.</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1545862175, "post_id": 53937512, "comment_id": 94715414, "body": "Sounds like you&#39;re just looking for <code>LineStackingStrategy=&quot;BlockLineHeight&quot;</code> but I&#39;m not familiar with that font so just a comment. Though <code>BaseLineOffset</code> is what I&#39;m guessing the mentioned margin would be applied."}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "reply_to_user": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1545863115, "post_id": 53937512, "comment_id": 94715626, "body": "@ChrisW. It happens with pretty much any font. If you take off the margin and pick your favorite font, it won&#39;t be vertically centered in the border."}], "answers": [{"comments": [{"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "edited": false, "score": 0, "creation_date": 1545863295, "post_id": 53937649, "comment_id": 94715661, "body": "Hmm... I&#39;m not sure that would look right as &quot;A&quot; and &quot;a&quot; next to each other would be centered differently. I guess I&#39;m trying to figure out how to calculate the fudge factor in code so it&#39;ll work with any font / font size."}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "edited": false, "score": 0, "creation_date": 1545863390, "post_id": 53937649, "comment_id": 94715675, "body": "When I do this on &quot;A&quot;, I get height = 25 and text.Extent = 27, so that&#39;s not giving me the -4 fudge factor."}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "edited": false, "score": 0, "creation_date": 1545865184, "post_id": 53937649, "comment_id": 94716027, "body": "Hmm... I guess the 27 is the right height of the number... I guess what I really need is to know what TextBlock is centering around because its not centering about text.Extent. Seems like its centering around something smaller."}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "edited": false, "score": 0, "creation_date": 1545866424, "post_id": 53937649, "comment_id": 94716301, "body": "Hmm again... I tried with FontSize 16, 36 and 40. Oddly 16 &amp; 36 require a fudge factor of -4, but 40 randomly needs -7. I tried a few between 16 &amp; 36 and they are all -4. I wonder if it has something to do with the font size being more then the border at 48."}, {"owner": {"reputation": 1869, "user_id": 3511252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8HXAf.gif?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/3511252/dmitry"}, "reply_to_user": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "edited": false, "score": 0, "creation_date": 1545893519, "post_id": 53937649, "comment_id": 94721075, "body": "May be the interline squeezed inside layouting except when Th&#233;r&#232;se is not enough space for the font itself. Eventually try to set LineHeight to font size."}, {"owner": {"reputation": 1869, "user_id": 3511252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8HXAf.gif?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/3511252/dmitry"}, "reply_to_user": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "edited": false, "score": 0, "creation_date": 1545924455, "post_id": 53937649, "comment_id": 94732986, "body": "By the way setting LineStackingStrategy to BlockLineHeight makes textblock to size itself differently. I didn&#39;t have enough time to understand the logic yet."}], "tags": [], "owner": {"reputation": 1869, "user_id": 3511252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8HXAf.gif?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/3511252/dmitry"}, "is_accepted": false, "score": 0, "last_activity_date": 1545861860, "creation_date": 1545861860, "answer_id": 53937649, "question_id": 53937512, "link": "https://stackoverflow.com/questions/53937512/is-there-a-way-to-calculate-the-real-height-of-a-font/53937649#53937649", "title": "Is there a way to calculate the REAL height of a font?", "body": "<p>You could try using geometry transformation like this:</p>\n\n<pre><code>FormattedText text = new FormattedText(\"Your text\",\n    CultureInfo.CurrentCulture, FlowDirection.LeftToRight,\n    new Typeface(\"Arial\"), 20, Brushes.Black);\nGeometry geometry = text.BuildGeometry(new Point());\ndouble height = geometry.Bounds.Bottom - geometry.Bounds.Top;\n</code></pre>\n\n<p>However this will result in the height of the string you input. This means that \"abc\" is shorter in height than \"ABC\" which is shorter than \"Ay\"</p>\n"}], "owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1545861860, "creation_date": 1545860805, "question_id": 53937512, "link": "https://stackoverflow.com/questions/53937512/is-there-a-way-to-calculate-the-real-height-of-a-font", "title": "Is there a way to calculate the REAL height of a font?", "body": "<p>I've ran across a situation where text doesn't align properly using the vertical centering. Especially when the font size is large (i.e. 40). I can fix it by applying a negative margin to the top, but is there a way to programmatically calculate the amount of the margin? I tried getting the FormattedText, but the numbers just don't match up with what's drawn on the screen.</p>\n\n<pre><code>    &lt;Border BorderBrush=\"Black\" BorderThickness=\"1,1,1,1\" Width=\"46\" Height=\"46\" UseLayoutRounding=\"True\" SnapsToDevicePixels=\"True\"&gt;\n        &lt;TextBlock FontFamily=\"Gadugi\" Margin=\"0,-4,0,0\" FontSize=\"36\" Text=\"1\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" /&gt;\n    &lt;/Border&gt;\n</code></pre>\n\n<p>The -4 fixes this case, but how would I calculate the -4 code wise? Since it's different on a per font / per font size basis.</p>\n\n<p>The numbers just don't seem to match up with what's in FormattedText.</p>\n"}, {"tags": ["c#", "xamarin"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1545860703, "post_id": 53937471, "comment_id": 94714982, "body": "you aren&#39;t reassigning the username and password variables."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 3, "creation_date": 1545860865, "post_id": 53937471, "comment_id": 94715041, "body": "@TheREE You could probably have figured this out if you set a breakpoint in your code and inspected the values as the code executes. Or logged the username and password being checked."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 10273599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XgCWK.jpg?s=128&g=1", "display_name": "Ryan Awad", "link": "https://stackoverflow.com/users/10273599/ryan-awad"}, "edited": false, "score": 0, "creation_date": 1545860921, "post_id": 53937504, "comment_id": 94715068, "body": "It worked! Thank you for your time! :)"}], "tags": [], "owner": {"reputation": 6885, "user_id": 123422, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ft4KH.jpg?s=128&g=1", "display_name": "Paul Abbott", "link": "https://stackoverflow.com/users/123422/paul-abbott"}, "is_accepted": true, "score": 1, "last_activity_date": 1545860741, "creation_date": 1545860741, "answer_id": 53937504, "question_id": 53937471, "link": "https://stackoverflow.com/questions/53937471/why-does-my-if-statement-not-work-what-is-wrong-with-my-code/53937504#53937504", "title": "Why does my if statement not work? What is wrong with my code?", "body": "<p><code>username</code> and <code>password</code> are blank strings because the text boxes are blank when the app starts.  You need to move</p>\n\n<pre><code>string username = userInput.Text;\nstring password = passInput.Text;\n</code></pre>\n\n<p>inside of <code>CheckCredentials</code> to retrieve what the user actually typed in.</p>\n"}], "owner": {"reputation": 67, "user_id": 10273599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XgCWK.jpg?s=128&g=1", "display_name": "Ryan Awad", "link": "https://stackoverflow.com/users/10273599/ryan-awad"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "closed_date": 1545870962, "accepted_answer_id": 53937504, "answer_count": 1, "score": -5, "last_activity_date": 1545860741, "creation_date": 1545860489, "question_id": 53937471, "link": "https://stackoverflow.com/questions/53937471/why-does-my-if-statement-not-work-what-is-wrong-with-my-code", "closed_reason": "Not suitable for this site", "title": "Why does my if statement not work? What is wrong with my code?", "body": "<p>So when I put in the proper credentials in the EditText bars, I still get the ACCESS DENIED message. What should happen is that I should get the ACCESS GRANTED message instead of ACCESS DENIED. So what is wrong with my if statement?</p>\n\n<pre><code>        LinearLayout layout = new LinearLayout(this);\n        layout.Orientation = Orientation.Vertical;\n\n        TextView userText = new TextView(this);\n        TextView passText = new TextView(this);\n\n        EditText userInput = new EditText(this);\n        EditText passInput = new EditText(this);\n\n        TextView access = new TextView(this);\n        access.Text = \"\";\n\n        Button loginButton = new Button(this);\n        loginButton.Text = \"Login\";\n\n        userText.Text = \"Username\";\n        passText.Text = \"Password\";\n\n        userInput.SetMaxLines(1);\n        passInput.SetMaxLines(1);\n\n        string username = userInput.Text;\n        string password = passInput.Text;\n\n        loginButton.Click += (sender, e) =&gt;\n        { CheckCredentials(); };\n\n        void CheckCredentials()\n        {\n            if (username == \"Admin\" &amp;&amp; password == \"adminpass\")\n            {\n                access.Text = \"ACCESS GRANTED!\";\n            }\n            else\n            {\n                access.Text = \"ACCESS DENIED!\";\n            }\n        }\n\n        SetContentView(layout);\n        layout.AddView(userText);\n        layout.AddView(userInput);\n        layout.AddView(passText);\n        layout.AddView(passInput);\n        layout.AddView(loginButton);\n        layout.AddView(access);\n</code></pre>\n\n<p>Should print out ACCESS GRANTED when you put 'Admin' as the username and 'adminpass' as the password.</p>\n"}, {"tags": ["c#", "wpf", "mvvm"], "comments": [{"owner": {"reputation": 13353, "user_id": 366064, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0cSD6.png?s=128&g=1", "display_name": "Bizhan", "link": "https://stackoverflow.com/users/366064/bizhan"}, "edited": false, "score": 0, "creation_date": 1545862142, "post_id": 53937260, "comment_id": 94715399, "body": "there are many ways to approach this problem all of which depends on many other things. other than your current approach I can think of: to use singleton approach, to bind to a relative source (find by ancestor type), to pass down parentVm to childVm as a parameter upon instantiation."}, {"owner": {"reputation": 1507, "user_id": 1793353, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0fd322aa5dddd61040b8be1fdaa7d8d3?s=128&d=identicon&r=PG", "display_name": "amplifier", "link": "https://stackoverflow.com/users/1793353/amplifier"}, "reply_to_user": {"reputation": 13353, "user_id": 366064, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0cSD6.png?s=128&g=1", "display_name": "Bizhan", "link": "https://stackoverflow.com/users/366064/bizhan"}, "edited": false, "score": 0, "creation_date": 1545894888, "post_id": 53937260, "comment_id": 94721508, "body": "@bizhan but in all these cases I must create child viemodels directly via new operator, right? The problem is that a child vm may require additional services injected into its constructor. In this situation I\\&#39;ll have to inject the service into parent&#39;s constructor first even though they are not used by parent&#39;s vm."}, {"owner": {"reputation": 13353, "user_id": 366064, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0cSD6.png?s=128&g=1", "display_name": "Bizhan", "link": "https://stackoverflow.com/users/366064/bizhan"}, "edited": false, "score": 0, "creation_date": 1545918196, "post_id": 53937260, "comment_id": 94730586, "body": "I think you can still use DI but I&#39;m not sure, maybe you can try these approaches and ask another question with the exact problem if you run into any."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 9508791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff97aa8617376d3d69c30ed429906b8?s=128&d=identicon&r=PG", "display_name": "Devik Svalstedt", "link": "https://stackoverflow.com/users/9508791/devik-svalstedt"}, "is_accepted": false, "score": 0, "last_activity_date": 1545862055, "creation_date": 1545862055, "answer_id": 53937678, "question_id": 53937260, "link": "https://stackoverflow.com/questions/53937260/sharing-viewmodel-property-among-child-viewmodels-in-wpf-using-mvvm/53937678#53937678", "title": "Sharing ViewModel Property among child ViewModels in WPF using MVVM", "body": "<p>I don't see anything wrong with the way you've solved it. Another solution would be to use Dependency Injection and inject it as a singelton. Otherwise your solution with passing in a reference to the constructor looks fine.</p>\n"}], "owner": {"reputation": 1507, "user_id": 1793353, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0fd322aa5dddd61040b8be1fdaa7d8d3?s=128&d=identicon&r=PG", "display_name": "amplifier", "link": "https://stackoverflow.com/users/1793353/amplifier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 2, "answer_count": 1, "score": -1, "last_activity_date": 1545863855, "creation_date": 1545859043, "question_id": 53937260, "link": "https://stackoverflow.com/questions/53937260/sharing-viewmodel-property-among-child-viewmodels-in-wpf-using-mvvm", "title": "Sharing ViewModel Property among child ViewModels in WPF using MVVM", "body": "<p>I have a WPF application following MVVM pattern by MVVM light toolkit.</p>\n\n<p>I have a parent viewmodel - <strong>ProjectViewModel</strong> with 3 child viewmodels.\n<strong>ProjectViewModel</strong> keeps <strong>Project</strong> object as a property. The child viewmodels operate on different parts of the <strong>Project</strong> object.</p>\n\n<p><strong>Project</strong> is something like this:</p>\n\n<pre><code>public class Project\n{\n    string Prop11{get;set;}\n    string Prop12{get;set;}\n\n    string Prop21{get;set;}\n    string Prop22{get;set;}\n\n    string Prop31{get;set;}\n    string Prop32{get;set;}\n}\n</code></pre>\n\n<p>Parent <strong>viewmodel</strong> belongs to <strong>UserControl</strong>.\nThe child viewmodels belong to 3 different tabitems of tabcontrol in the <strong>UserControl</strong>. Each tabitem has its own view.</p>\n\n<p>Every time the user control is created, parent vm is created as well, which in turn creates child vm's. I pass <strong>Project</strong> object to child vm's so that they could operate on particular properties they correspond to. And because of that I create child vm's via operator <strong>new</strong> rather than resolving it on an DI container. I don't like it. </p>\n\n<pre><code>project = new Project();\n\ntab1Vm = new PropertySet1ViewModel(project);\ntab2Vm = new PropertySet2ViewModel(project);\ntab3Vm = new PropertySet3ViewModel(project);\n</code></pre>\n\n<p>As an obvious solution I see is not to split parent vm project object across the child vm\u2019s.</p>\n\n<p>Could anybody propose a more or less elegant solution for the issue?</p>\n"}, {"tags": ["c#", "asp.net", "azure-active-directory"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10781782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b178ffa0179ddaef89bfd6524db5f0b?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/10781782/josh"}, "edited": false, "score": 0, "creation_date": 1545923562, "post_id": 53942958, "comment_id": 94732618, "body": "I&#39;ve edited my question to include the code I&#39;m using to sign in the user. Since the user is successfully signed shouldn&#39;t an access token already be generated for that user? I just don&#39;t understand how to extract that access token to use in my get request to the graph."}], "tags": [], "owner": {"reputation": 15383, "user_id": 8557999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e949becd6429559b4ae1e7d124475788?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Cai", "link": "https://stackoverflow.com/users/8557999/joey-cai"}, "is_accepted": false, "score": 1, "last_activity_date": 1545904090, "creation_date": 1545904090, "answer_id": 53942958, "question_id": 53937253, "link": "https://stackoverflow.com/questions/53937253/how-to-get-custom-properties-from-azure-ad/53942958#53942958", "title": "How to get custom properties from Azure AD", "body": "<p>To use Microsoft Graph to read and write resources on behalf of a user, your app must get an access token from Azure AD and attach the token to requests that it sends to Microsoft Graph.</p>\n\n<p>The basic steps required to use the OAuth 2.0 authorization code grant flow to get an access token from the Azure AD v2.0 endpoint are:</p>\n\n<p>1.Register your app with Azure AD.  </p>\n\n<p>2.Get authorization. </p>\n\n<p>With the Azure AD v2.0 endpoint, permissions are requested using the <code>scope</code> parameter. In this example, the Microsoft Graph permissions requested are for <code>User.Read</code> and <code>Mail.Read</code>, which will allow the app to read the profile and mail of the signed-in user. </p>\n\n<pre><code>https://login.microsoftonline.com/{tenant}/oauth2/v2.0/authorize?\nclient_id=6731de76-14a6-49ae-97bc-6eba6914391e\n&amp;response_type=code\n&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fmyapp%2F\n&amp;scope=user.read%20mail.read\n</code></pre>\n\n<p>3.Get an access token.  </p>\n\n<p>Your app uses the authorization code received in the previous step to request an access token by sending a POST request to the /token endpoint.</p>\n\n<p>4.Call Microsoft Graph with the access token.  </p>\n\n<p>For the signed-in user, I use <code>https://graph.microsoft.com/v1.0/me?$select=surname</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/WNpaS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WNpaS.png\" alt=\"enter image description here\"></a></p>\n\n<p>For more details, you could refer to this <a href=\"https://docs.microsoft.com/en-us/graph/auth-v2-user\" rel=\"nofollow noreferrer\">article</a>.</p>\n\n<p>Also, you could make a call to specify a resource URI with the authorization code as <a href=\"https://stackoverflow.com/questions/43949022/azure-active-directory-graph-api-access-token-for-signed-in-user\">below</a>.</p>\n\n<pre><code>var authContext = new AuthenticationContext(authorityString);\nvar result = await authContext.AcquireTokenByAuthorizationCodeAsync\n(\n    authorizationCode,\n    redirectUri, // eg http://localhost:56950/\n    clientCredential, // Application ID, application secret\n    \"https://graph.microsoft.com/\"\n);\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10781782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b178ffa0179ddaef89bfd6524db5f0b?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/10781782/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 760, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545923422, "creation_date": 1545858994, "last_edit_date": 1545923422, "question_id": 53937253, "link": "https://stackoverflow.com/questions/53937253/how-to-get-custom-properties-from-azure-ad", "title": "How to get custom properties from Azure AD", "body": "<p>I went through this tutorial provided by Microsoft to integrate Azure Ad for authentication in my web app. \n<a href=\"https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-v1-dotnet-webapi\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-v1-dotnet-webapi</a></p>\n\n<p>The code works as expected. I run the program and it prompts the user for their Microsoft login credentials and if valid they are redirected to the homepage. </p>\n\n<p>However, I only have access to basic information about the user such as GivenName and SurName. I created extended properties in the Azure Portal named like 'extension_e3f9d0...' </p>\n\n<p>The problem is I have no idea how to access the attributes once the user is signed in. I'm able to retrieve these custom attributes when I call the API in Postman like so:</p>\n\n<p><a href=\"https://graph.microsoft.com/v1.0/users/[user@whatever]\" rel=\"nofollow noreferrer\">https://graph.microsoft.com/v1.0/users/[user@whatever]</a>?$select=extension_e3f9d0...</p>\n\n<p>I try to make this call in c# but I don't know how to get the accessToken once the user is logged in, which is required in the request header</p>\n\n<pre><code>async static void GetRequest(string url)\n    {\n        Summary summary = new Summary();\n        using(HttpClient client = new HttpClient())\n        {\n            client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n            client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(\"Bearer\", How do I get the user's accesstoken here?);\n            using (HttpResponseMessage response = await client.GetAsync(\"https://graph.microsoft.com/v1.0/users/[user@whatever]?$select=extension_e3f9d0\"))\n            {\n                using(HttpContent content = response.Content)\n                {\n                    string myContent = await content.ReadAsStringAsync();\n                    System.Diagnostics.Debug.WriteLine(\"CONTENT \" + myContent);\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Code to sign in user</p>\n\n<pre><code>// The Client ID (a.k.a. Application ID) is used by the application to uniquely identify itself to Azure AD\nstring clientId = System.Configuration.ConfigurationManager.AppSettings[\"ClientId\"];\n\n// RedirectUri is the URL where the user will be redirected to after they sign in\nstring redirectUrl = System.Configuration.ConfigurationManager.AppSettings[\"redirectUrl\"];\n\n// Tenant is the tenant ID (e.g. contoso.onmicrosoft.com, or 'common' for multi-tenant)\nstatic string tenant = System.Configuration.ConfigurationManager.AppSettings[\"Tenant\"];\n\n// Authority is the URL for authority, composed by Azure Active Directory endpoint and the tenant name (e.g. https://login.microsoftonline.com/contoso.onmicrosoft.com)\nstring authority = String.Format(System.Globalization.CultureInfo.InvariantCulture, System.Configuration.ConfigurationManager.AppSettings[\"Authority\"], tenant);\n\n/// &lt;summary&gt;\n/// Configure OWIN to use OpenIdConnect \n/// &lt;/summary&gt;\n/// &lt;param name=\"app\"&gt;&lt;/param&gt;\npublic void Configuration(IAppBuilder app)\n{\n    app.SetDefaultSignInAsAuthenticationType(CookieAuthenticationDefaults.AuthenticationType);\n\n    app.UseCookieAuthentication(new CookieAuthenticationOptions());\n    app.UseOpenIdConnectAuthentication(\n        new OpenIdConnectAuthenticationOptions\n        {\n            // Sets the ClientId, authority, RedirectUri as obtained from web.config\n            ClientId = clientId,\n            Authority = authority,\n            RedirectUri = redirectUrl,\n\n            // PostLogoutRedirectUri is the page that users will be redirected to after sign-out. In this case, it is using the home page\n            PostLogoutRedirectUri = redirectUrl,\n\n            //Scope is the requested scope: OpenIdConnectScopes.OpenIdProfileis equivalent to the string 'openid profile': in the consent screen, this will result in 'Sign you in and read your profile'\n            Scope = OpenIdConnectScope.OpenIdProfile,\n\n            // ResponseType is set to request the id_token - which contains basic information about the signed-in user\n            ResponseType = OpenIdConnectResponseType.IdToken,\n\n            // ValidateIssuer set to false to allow work accounts from any organization to sign in to your application\n            // To only allow users from a single organizations, set ValidateIssuer to true and 'tenant' setting in web.config to the tenant name or Id (example: contoso.onmicrosoft.com)\n            // To allow users from only a list of specific organizations, set ValidateIssuer to true and use ValidIssuers parameter\n            TokenValidationParameters = new TokenValidationParameters()\n            {\n                ValidateIssuer = false\n            },\n\n            // OpenIdConnectAuthenticationNotifications configures OWIN to send notification of failed authentications to OnAuthenticationFailed method\n            Notifications = new OpenIdConnectAuthenticationNotifications\n            {\n                AuthenticationFailed = OnAuthenticationFailed\n            }\n        }\n    );\n}\n</code></pre>\n"}, {"tags": ["c#", "authentication", "asp.net-core-mvc", "jwt", "asp.net-core-2.2"], "comments": [{"owner": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "edited": false, "score": 0, "creation_date": 1545859278, "post_id": 53937191, "comment_id": 94714550, "body": "is there a problem with implementing jwt auth in the web app?"}, {"owner": {"reputation": 2482, "user_id": 5663397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iISWG.png?s=128&g=1", "display_name": "TaiT&#39;s", "link": "https://stackoverflow.com/users/5663397/taits"}, "reply_to_user": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "edited": false, "score": 0, "creation_date": 1545859667, "post_id": 53937191, "comment_id": 94714663, "body": "When DefaultAuthenticateScheme is set to JWT, web app is not recognizing users."}], "answers": [{"tags": [], "owner": {"reputation": 9651, "user_id": 562839, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5b8f496ea22d34aee405458d7f8531d2?s=128&d=identicon&r=PG", "display_name": "Micka&#235;l Derriey", "link": "https://stackoverflow.com/users/562839/micka%c3%abl-derriey"}, "is_accepted": false, "score": 5, "last_activity_date": 1545953415, "creation_date": 1545953415, "answer_id": 53951994, "question_id": 53937191, "link": "https://stackoverflow.com/questions/53937191/asp-net-core-mvc-api-signalr-change-authentication-schemes-cookie-jwt/53951994#53951994", "title": "ASP.Net Core MVC/API/SignalR - Change authentication schemes (Cookie &amp; JWT)", "body": "<p>There are multiple ways to solve the issue you encounter, but first let's go through why it's not currently working.</p>\n\n<h3>What <code>DefaultAuthenticateScheme</code> means</h3>\n\n<p>When you set a value to the <code>DefaultAuthenticateScheme</code> property of <code>AuthenticationOptions</code>, you instruct the authentication middleware to try and authenticate every single HTTP request against that specific scheme. I'm going to assume that you're using ASP.NET Identity for cookie-based authentication, and when you call <code>AddIdentity</code>, it registers the cookie authentication scheme as the default one for authentication purposes; you can see this in the <a href=\"https://github.com/aspnet/AspNetCore/blob/7269dbb73f4aa0ebf5ebb8bc07a076ee181851be/src/Identity/src/Identity/IdentityServiceCollectionExtensions.cs#L38-L76\" rel=\"noreferrer\">source code on GitHub</a>.</p>\n\n<p>However, it doesn't mean you can't use any other authentication scheme in your application.</p>\n\n<h3>The authorization system default policy</h3>\n\n<p>If all the protected endpoints of your application are meant to be accessible to clients authenticated with cookies or JWTs, one option is to use the authorization system default policy. That special policy is used when you use \"empty\" instances of the <code>AuthorizeAttribute</code> class &mdash; either as an attribute to decorate controllers/actions, or globally at the app level with a <code>new AuthorizeFilter(new AuthorizeAttribute())</code>.</p>\n\n<p>The default policy is set to only require an authenticated user, but doesn't define which authentication schemes need to be \"tried\" to authenticate the request. The result is that it relies on the authentication process already having been performed. It explains the behavior you're experiencing where only one of the 2 schemes works at a time.</p>\n\n<p>We can change the default policy with a bit of code:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>services.AddAuthorization(options =&gt;\n{\n    options.DefaultPolicy = new AuthorizationPolicyBuilder()\n        .RequireAuthenticatedUser()\n        .AddAuthenticationSchemes(\"&lt;your-cookie-authentication-scheme\", \"your-jwt-authentication-scheme\")\n        .Build();\n})\n</code></pre>\n\n<h3>Specific authorization policies</h3>\n\n<p>If you find yourself in a situation where you require some endpoints to only be accessible to clients authenticated with cookies and others with JWTs, you can take advantage of authorization policies.</p>\n\n<p>They work exactly like the default policy, expect you get to pick on an endpoint basis which one applies. You can add policies like so:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>services.AddAuthorization(options =&gt;\n{\n    options.AddPolicy(\"Cookies\", new AuthorizationPolicyBuilder()\n        .RequireAuthenticatedUser()\n        .AddAuthenticationSchemes(\"&lt;your-cookie-authentication-scheme\")\n        .Build());\n\n    options.AddPolicy(\"JWT\", new AuthorizationPolicyBuilder()\n        .RequireAuthenticatedUser()\n        .AddAuthenticationSchemes(\"&lt;your-jwt-authentication-scheme\")\n        .Build());\n})\n</code></pre>\n\n<p>You can then refer to these policies in appropriate endpoints by decorating them with <code>[Authorize(Policy = \"&lt;policy-name&gt;\")]</code>. As a side note, if the only differentiator between your policies is the authentication scheme, it's possible to achieve the same result without creating policies, and referring to the appropriate authentication scheme(s) in <code>[Authorize]</code> attributes with the <code>AuthenticationSchemes</code> property.</p>\n\n<p>Policies are valuable when you have more complex rules, like <em>that specific claim needs this specific value</em>, for example.</p>\n\n<p>I hope this helps, let me know how you go! \ud83d\udc4d</p>\n"}], "owner": {"reputation": 2482, "user_id": 5663397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iISWG.png?s=128&g=1", "display_name": "TaiT&#39;s", "link": "https://stackoverflow.com/users/5663397/taits"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1029, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1545953415, "creation_date": 1545858588, "last_edit_date": 1545860504, "question_id": 53937191, "link": "https://stackoverflow.com/questions/53937191/asp-net-core-mvc-api-signalr-change-authentication-schemes-cookie-jwt", "title": "ASP.Net Core MVC/API/SignalR - Change authentication schemes (Cookie &amp; JWT)", "body": "<p>I've a .Net Core 2.2 web application MVC in which I've added API controllers and SignalR hubs. On the other side, I've a mobile app that calls the hub methods. Before calling hubs from the app, I am authenticating my users through an API call - getting back a JWT Token - and using this token for future requests, this way I can use <code>Context.User.Identity.Name</code> in my hub methods:</p>\n\n<pre><code>public static async Task&lt;string&gt; GetValidToken(string userName, string password)\n{\n   using (var client = new HttpClient())\n   {\n     client.BaseAddress = new Uri(_API_BASE_URI);\n     client.DefaultRequestHeaders.Accept.Clear();\n     client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n\n     LoginViewModel loginVM = new LoginViewModel() { Email = userName, Password = password, RememberMe = false };\n     var formContent = Newtonsoft.Json.JsonConvert.SerializeObject(loginVM);\n     var content = new StringContent(formContent, Encoding.UTF8, \"application/json\");\n     HttpResponseMessage responseMessage;\n     try\n     {\n        responseMessage = await client.PostAsync(\"/api/user/authenticate\", content);\n        var responseJson = await responseMessage.Content.ReadAsStringAsync().ConfigureAwait(false); ;\n        var jObject = JObject.Parse(responseJson);\n        _TOKEN = jObject.GetValue(\"token\").ToString();\n        return _TOKEN;\n     }catch\n        [...]\n</code></pre>\n\n<p>Then using the token:</p>\n\n<pre><code>_connection = new HubConnectionBuilder().WithUrl(ApiCommunication._API_BASE_URI + \"/network\", options =&gt;\n{\n  options.AccessTokenProvider = () =&gt; Task.FromResult(token);\n}).Build();\n</code></pre>\n\n<p>So far so good. It's working as expected on my mobile app. But in order to make it work I had to set this piece of code on server side (Startup.cs):</p>\n\n<pre><code>services.AddAuthentication(options =&gt;\n{\n   options .DefaultAuthenticateScheme = JwtBearerDefaults.AuthenticationScheme;\n   options .DefaultChallengeScheme = JwtBearerDefaults.AuthenticationScheme;\n })\n .AddJwtBearer(x =&gt;\n {\n    x.Events = new JwtBearerEvents\n    {\n        OnMessageReceived = context =&gt;\n        {\n            ...\n</code></pre>\n\n<p><strong>This prevents me for using cookie authentication anymore and therefore the mvc web app is no more working as expected as it's not able to get the current authenticated user amongs requests.</strong></p>\n\n<p>Removing the lines:   </p>\n\n<pre><code>options .DefaultAuthenticateScheme = JwtBearerDefaults.AuthenticationScheme;\noptions .DefaultChallengeScheme = JwtBearerDefaults.AuthenticationScheme;\n</code></pre>\n\n<p>makes the web app working correctly but not the mobile app anymore (hub calls fail due to <code>Context.User.Identity.Name</code> equals to null).</p>\n\n<p>I've been searching all around about how to handle different schemes (in my case cookie + jwt) and from my understanding, this is by design not possible anymore.</p>\n\n<p>Is there any possible workaround to use double scheme or am I missing something?</p>\n\n<p>I thought maybe I shoud host 2 separate projects instead and use one with Cookie authentication and the other one with JWT?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "action-filter"], "comments": [{"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1545857917, "post_id": 53936979, "comment_id": 94714181, "body": "You cannot pass a func to an attribute because it does not meet the rules. It needs to be <i>bool, byte, char, double, float, int, long, sbyte, short, string, uint, ulong, ushort, object, Type</i>. Chances are you are doing something weird so perhaps you need to state what it is you are trying to solve and the solution you have for it, and then ask if people have another solution. See <a href=\"https://stackoverflow.com/questions/8463657/how-do-you-put-a-func-in-a-c-sharp-attribute-annotation\">this</a> for a workaround but I dont recommend it."}, {"owner": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 0, "creation_date": 1545857989, "post_id": 53936979, "comment_id": 94714215, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/16809294/lambda-expression-in-attribute-constructor\">Lambda expression in attribute constructor</a>"}, {"owner": {"reputation": 4548, "user_id": 7487135, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/n35oP.png?s=128&g=1", "display_name": "Iman Bahrampour", "link": "https://stackoverflow.com/users/7487135/iman-bahrampour"}, "reply_to_user": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1545859109, "post_id": 53936979, "comment_id": 94714501, "body": "@CodingYoshi. I think it can be implemented in IL.<a href=\"https://stackoverflow.com/a/294259/7487135\">link</a>"}, {"owner": {"reputation": 4548, "user_id": 7487135, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/n35oP.png?s=128&g=1", "display_name": "Iman Bahrampour", "link": "https://stackoverflow.com/users/7487135/iman-bahrampour"}, "edited": false, "score": 0, "creation_date": 1545859368, "post_id": 53936979, "comment_id": 94714577, "body": "GSerg. The question has two parts and in the link doesn&#39;t mention it."}, {"owner": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 0, "creation_date": 1545859678, "post_id": 53936979, "comment_id": 94714671, "body": "@ImanBahrampour Each question should have one part. For all parts other than the first one, one should probably create a separate question. In this particular case however, the second part is also answered by the duplicate, specifically by <a href=\"https://stackoverflow.com/questions/16809294/lambda-expression-in-attribute-constructor#comment24228783_16809294\">this comment</a> under the duplicate question. The answer is no, you cannot pass a variable to an attribute."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1545860287, "post_id": 53936979, "comment_id": 94714858, "body": "<i>I think it can be implemented in IL</i>, seriously now? Then why did you tag your question with C#?"}, {"owner": {"reputation": 4548, "user_id": 7487135, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/n35oP.png?s=128&g=1", "display_name": "Iman Bahrampour", "link": "https://stackoverflow.com/users/7487135/iman-bahrampour"}, "reply_to_user": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1545860543, "post_id": 53936979, "comment_id": 94714936, "body": "@CodingYoshi. I read an answer by &#39;Jon Skeet&#39; that mentions it.<a href=\"https://stackoverflow.com/a/294259/7487135\">link</a>"}, {"owner": {"reputation": 4548, "user_id": 7487135, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/n35oP.png?s=128&g=1", "display_name": "Iman Bahrampour", "link": "https://stackoverflow.com/users/7487135/iman-bahrampour"}, "reply_to_user": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1545860699, "post_id": 53936979, "comment_id": 94714980, "body": "@CodingYoshi. I thought it meybe implemented with c#."}, {"owner": {"reputation": 4548, "user_id": 7487135, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/n35oP.png?s=128&g=1", "display_name": "Iman Bahrampour", "link": "https://stackoverflow.com/users/7487135/iman-bahrampour"}, "reply_to_user": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 0, "creation_date": 1545861896, "post_id": 53936979, "comment_id": 94715334, "body": "@GSerg. What is the best way of handling this issue?"}], "answers": [{"tags": [], "owner": {"reputation": 354, "user_id": 5354201, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-kO3NpQm8Hdk/AAAAAAAAAAI/AAAAAAAAAQ0/xmkAxbnqOFI/photo.jpg?sz=128", "display_name": "trademark", "link": "https://stackoverflow.com/users/5354201/trademark"}, "is_accepted": false, "score": 0, "last_activity_date": 1562000201, "creation_date": 1562000201, "answer_id": 56839537, "question_id": 53936979, "link": "https://stackoverflow.com/questions/53936979/how-to-pass-a-method-or-parameter-to-an-action-filter-in-asp-net-mvc/56839537#56839537", "title": "How to pass a method or parameter to an action filter in ASP.Net MVC", "body": "<h2>The Problem with Passing Functions in Attribute Parameters</h2>\n\n<p>I found myself looking for a solution like this recently.  Parameters for attributes have to follow the following rules, per <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/tutorials/attributes#how-to-add-attributes-to-code\" rel=\"nofollow noreferrer\">MS Docs</a>: </p>\n\n<blockquote>\n  <p>Parameters to an attribute constructor are limited to simple types/literals: bool, int, double, string, Type, enums, etc and arrays of those types. You can not use an expression or a variable. You are free to use positional or named parameters.</p>\n</blockquote>\n\n<p>Because of this, passing a function to the filter via an attribute parameter is not something we can do.  There are probably lots of alternatives, but here's what I chose to do:</p>\n\n<h2>A Solution</h2>\n\n<p><strong>I used dependency injection</strong> to inject my action filter with a manager, and then used <strong>Reflection</strong> to tell the filter which method on the manager to execute.  Here's what it looks like:</p>\n\n<p>Class:</p>\n\n<pre><code>public class Phone : AuditBase \n{\n    ...other props...\n\n    [AuditRuleset(AuditRule.PhoneNumber)]\n    public string Number { get; set; }\n}\n</code></pre>\n\n<p>Enum:</p>\n\n<pre><code>public enum AuditRule\n{\n    PhoneNumber // You can add [Description] if you want\n}\n</code></pre>\n\n<p>Attribute:</p>\n\n<pre><code>public class AuditRulesetAttribute : Attribute\n{\n    private readonly AuditRule _rule;\n\n    public AuditRulesetAttribute(AuditRule rule) =&gt; _rule = rule;\n}\n</code></pre>\n\n<p>Filter:</p>\n\n<pre><code>public class FormAuditActionFilter : IActionFilter\n{\n    private ILog _log { get; set; }\n    private IFormAuditor _auditor { get; set; }\n\n    public FormAuditActionFilter(ILog log, IFormAuditor auditor)\n    {\n        _log = log;\n        _auditor = auditor;\n    }\n    ...lots of filter code...\n    ... The following is from OnActionExecuted, having stored the props of the submitted object in objectProperties...\n\n    foreach(PropertyInfo propertyInfo in objectProperties)\n    {\n        // Check first for any special audit comparison rules which should be followed\n        var auditRuleAttributes = propertyInfo.CustomAttributes\n            .Where(x =&gt; x.AttributeType.Name == typeof(AuditRulesetAttribute).Name)\n            .ToList();\n\n        if (auditRuleAttributes.Any())\n        {\n            IEnumerable&lt;IList&lt;CustomAttributeTypedArgument&gt;&gt; attrList = auditRuleAttributes\n                .Select(x =&gt; x.ConstructorArguments);\n\n            foreach(IList&lt;CustomAttributeTypedArgument&gt; attr in attrList)\n                foreach(CustomAttributeTypedArgument arg in attr)\n                    if (_auditRuleManager.IsChanged(oldValue, newValue, (AuditRule)arg.Value))\n                        result.Add(BuildValueHistory(propertyInfo.Name, oldValue, newValue));\n            continue;\n        }\n    }\n    ...lots more filter code...\n}\n</code></pre>\n\n<p>AuditRuleManager:</p>\n\n<pre><code>public class AuditRuleManager : IAuditRuleManager\n{\npublic bool IsChanged(object val1, object val2, AuditRule rule)\n{\n    object[] objArray = {val1, val2};\n\n    var comparisonResult = typeof(AuditRuleManager)\n        .GetMethods(BindingFlags.NonPublic | BindingFlags.Instance)\n        .Single(m =&gt; m.Name == rule.GetDescription()) // Try to get description, but falls back to name by default\n        .Invoke(this, objArray) as bool?;\n\n    return (bool)comparisonResult; // Throw an exception if the comparison result was not a valid bool\n}\n\n// Compare phone numbers with special rules, and return their equality\nprivate bool PhoneNumber(object val1, object val2) // NOTE: Name of method matches name of enum value\n    =&gt; GetNumbersFromString(val1 as string) != GetNumbersFromString(val2 as string);\n</code></pre>\n\n<p>The last piece that took me a while was the DI for the filter using Ninject.  Here's how it worked in my </p>\n\n<p>Global.asax.cs:</p>\n\n<pre><code>kernel.BindFilter&lt;FormAuditActionFilter&gt;(FilterScope.Action, 0)\n                  .WhenActionMethodHas&lt;FormAuditAttribute&gt;()\n                  .WithConstructorArgument(\"log\", log)\n                  .WithConstructorArgument(\"auditor\", auditManager);\n</code></pre>\n\n<h2>Summary</h2>\n\n<p>Instead of passing a function as an attribute parameter, I used DI to inject a manager into my filter.  This gives your filter access to the functions you want.  Second, I used an enum to hold the name of the function that should be executed.  So essentially, all you have to do to create a new function and execute it with a parameter is to:</p>\n\n<ol>\n<li>Add it to the enum</li>\n<li>Add a function of the same name to the manager</li>\n</ol>\n\n<p>I hope this helps!</p>\n\n<h2>Further Reading</h2>\n\n<p><a href=\"https://blogs.cuttingedge.it/steven/posts/2014/dependency-injection-in-attributes-dont-do-it/\" rel=\"nofollow noreferrer\">https://blogs.cuttingedge.it/steven/posts/2014/dependency-injection-in-attributes-dont-do-it/</a></p>\n"}], "owner": {"reputation": 4548, "user_id": 7487135, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/n35oP.png?s=128&g=1", "display_name": "Iman Bahrampour", "link": "https://stackoverflow.com/users/7487135/iman-bahrampour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2281, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562000201, "creation_date": 1545857046, "last_edit_date": 1592644375, "question_id": 53936979, "link": "https://stackoverflow.com/questions/53936979/how-to-pass-a-method-or-parameter-to-an-action-filter-in-asp-net-mvc", "title": "How to pass a method or parameter to an action filter in ASP.Net MVC", "body": "<p>I'm going to handle authentication and authorization in an action filter and create an action filter like below:</p>\n<pre><code>public class Auth : ActionFilterAttribute\n{\n    public int Access { get; set; }\n    public string Roles { get; set; } = &quot;Default&quot;;\n    public Func&lt;bool&gt; AuthFunc { get; set; }\n\n    public override void OnActionExecuting(HttpActionContext actionContext)\n    {\n        string UserId = HttpContext.Current.User.Identity.GetUserId();\n        //Authentication \n        if (Roles != &quot;Default&quot; &amp;&amp; UserManager.IsInRole(UserId, Roles))\n        {\n           //Authorization \n           if (AuthFunc) { base.OnActionExecuting(actionContext); }\n           else\n             {\n                var response = actionContext.Request.CreateResponse(HttpStatusCode.Redirect);\n                Uri requestUrl = actionContext.Request.RequestUri;\n                response.Headers.Location = new Uri($&quot;{requestUrl.Scheme}://{requestUrl.Host}:{requestUrl.Port}&quot;);\n                actionContext.Response = response;\n             }\n        }\n        else\n        {\n            var response = actionContext.Request.CreateResponse(HttpStatusCode.Redirect);\n            Uri requestUrl = actionContext.Request.RequestUri;\n            response.Headers.Location = new Uri($&quot;{requestUrl.Scheme}://{requestUrl.Host}:{requestUrl.Port}&quot;);\n            actionContext.Response = response;\n        }\n    }\n}\n</code></pre>\n<p>And in the controller:</p>\n<pre><code>[Auth(Roles=&quot;Teacher&quot; , Access = (short)TableEnum.Course , AuthFunc = Courses.CheckCoursesOfTeacher(CourseId))]\npublic ActionResult ShowExerciseAnswers(int CourseId,int ExerciseId)\n{\n    return View(model: ChapterExerciseAnswer.ExerciseAnswerList(CourseId,ExerciseId));\n}\n</code></pre>\n<p>The <code>AuthFunc</code> method maybe has multiple inputs but just a <code>bool</code> return value.</p>\n<ol>\n<li><p>How to pass <code>AuthFunc</code> (the <code>Courses.CheckCoursesOfTeacher(CourseId)</code> method) to action filter?</p>\n</li>\n<li><p>How to get <code>CourseId</code> action parameter in action filter attribute (pass <code>CourseId</code> or <code>ExerciseId</code> as an attribute value)?</p>\n<p>What is the best way of handling these issues(functions and variables can't be sent to an action filter)?</p>\n</li>\n</ol>\n"}, {"tags": ["c#", "xamarin", "editor", "placeholder"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1545857350, "post_id": 53936976, "comment_id": 94714006, "body": "which version of Xamarin Forms are you using?"}, {"owner": {"reputation": 35, "user_id": 10219289, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bPLrhusAfOQ/AAAAAAAAAAI/AAAAAAAAAHQ/RhWGE4Fx4TM/photo.jpg?sz=128", "display_name": "Leonhard Ke&#223;ler", "link": "https://stackoverflow.com/users/10219289/leonhard-ke%c3%9fler"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1545857443, "post_id": 53936976, "comment_id": 94714039, "body": "the latest stable one: 3.4.0.1008975 @Jason"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 1, "creation_date": 1545857614, "post_id": 53936976, "comment_id": 94714088, "body": "are you sure that all your projects are using the same version?  The Editor placeholder was introduced in 3.2.0"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1545857751, "post_id": 53936976, "comment_id": 94714125, "body": "also, try cleaning all your obj &amp; bin folders in your projects and rebuilding your solution"}, {"owner": {"reputation": 35, "user_id": 10219289, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bPLrhusAfOQ/AAAAAAAAAAI/AAAAAAAAAHQ/RhWGE4Fx4TM/photo.jpg?sz=128", "display_name": "Leonhard Ke&#223;ler", "link": "https://stackoverflow.com/users/10219289/leonhard-ke%c3%9fler"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1545858237, "post_id": 53936976, "comment_id": 94714278, "body": "I cleaned everything and the versions are matching. New error: &#39;Editor&#39; does not contain a definition for &#39;Placeholder&#39; and no extension method &#39;Placeholder&#39; accepting a first argument of type &#39;Editor&#39; could be found (are you missing a using directive or an assembly reference?) @Jason"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1545858707, "post_id": 53936976, "comment_id": 94714414, "body": "my best guess is that you have a reference to an old version of Forms somewhere. You might try checking your csproj files and packages.config files to be sure they are not pointing to an old version"}, {"owner": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1545903011, "post_id": 53936976, "comment_id": 94724159, "body": "do you have the [XamlCompilation (XamlCompilationOption.Compile)] in your page? you could try to remove it ."}], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 10219289, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bPLrhusAfOQ/AAAAAAAAAAI/AAAAAAAAAHQ/RhWGE4Fx4TM/photo.jpg?sz=128", "display_name": "Leonhard Ke&#223;ler", "link": "https://stackoverflow.com/users/10219289/leonhard-ke%c3%9fler"}, "is_accepted": true, "score": 0, "last_activity_date": 1545911139, "creation_date": 1545911139, "answer_id": 53944543, "question_id": 53936976, "link": "https://stackoverflow.com/questions/53936976/editor-placeholder-results-in-failed-builds/53944543#53944543", "title": "Editor Placeholder results in failed builds", "body": "<p>I noticed that my build itself doesn't fail. Only when I try to debug, the build fails. So the App itself works after distribution, so does the Placeholder. The only problem is, that it doesn't work with the debugger.\nThank all of you</p>\n"}], "owner": {"reputation": 35, "user_id": 10219289, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bPLrhusAfOQ/AAAAAAAAAAI/AAAAAAAAAHQ/RhWGE4Fx4TM/photo.jpg?sz=128", "display_name": "Leonhard Ke&#223;ler", "link": "https://stackoverflow.com/users/10219289/leonhard-ke%c3%9fler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 1, "accepted_answer_id": 53944543, "answer_count": 1, "score": 2, "last_activity_date": 1545911139, "creation_date": 1545857036, "question_id": 53936976, "link": "https://stackoverflow.com/questions/53936976/editor-placeholder-results-in-failed-builds", "title": "Editor Placeholder results in failed builds", "body": "<p>I'm currently despairing because of a simple Editor in Xamarin.\nNo matter in what program I use it (if it's HelloWorld or my main project) I just can't set any Placeholder without my program to fail in the build progress.\nI spent over 2 hours to find the source of this error but I am still too blind. The error messages are:</p>\n\n<blockquote>\n  <p>Position 16:96. No property, bindable property, or event found for 'Placeholder', or mismatching type between value and property.</p>\n  \n  <p>Dependent project TableDotGroup.csproj failed to build, using old version.</p>\n</blockquote>\n\n<p>Neither </p>\n\n<pre><code>myEditor.Placeholder = \"Please work\";\n</code></pre>\n\n<p>nor in the XAML file, aswell as</p>\n\n<pre><code>if(myEditor.Text == null)\n        {\n        myEditor.Placeholder = \"Please work\";\n</code></pre>\n\n<p>are working. All of my Nuget Packages but the Xamarin.Android.Support ones are up to date. Could it be the Nuget Packages?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Here is my XAML code:</p>\n\n<pre><code>&lt;StackLayout x:Name=\"editors\"  &gt;\n\n            &lt;Label Text=\"Jungs:\" FontSize=\"Medium\"/&gt;\n            &lt;Editor x:Name=\"namesBoys\" HeightRequest=\"150\" Completed=\"NamesBoys_Completed\" /&gt;\n</code></pre>\n\n<p>and xaml.cs:</p>\n\n<pre><code>namesBoys.Placeholder = \"Please work\";\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "angular", "entity-framework"], "comments": [{"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 1, "creation_date": 1545859087, "post_id": 53936928, "comment_id": 94714493, "body": "What doesn&#39;t work? Exception? <code>model</code> is null? Controller is not hit? Something else?"}, {"owner": {"reputation": 35, "user_id": 10465961, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fAVB2P94OxI/AAAAAAAAAAI/AAAAAAAAAB4/pZDjyRKhUl4/photo.jpg?sz=128", "display_name": "TimmyNeutron", "link": "https://stackoverflow.com/users/10465961/timmyneutron"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1545859931, "post_id": 53936928, "comment_id": 94714760, "body": "I get this error: <code>POST https:&#47;&#47;localhost:44311&#47;api&#47;Map&#47;InsertMap&#47; 404</code> But it can&#39;t be 404 as I have defined it. @Crowcoder"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1545860151, "post_id": 53936928, "comment_id": 94714824, "body": "Sorry to break it to you, but it can be because it is. I suggest for testing you remove the Route attribute and see if you can hit it with the default route."}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1545860347, "post_id": 53936928, "comment_id": 94714878, "body": "Could be related to mixing routes, why do you have <code>[action]</code> on <code>HttpPost</code>? and also <code>Route</code>?"}, {"owner": {"reputation": 35, "user_id": 10465961, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fAVB2P94OxI/AAAAAAAAAAI/AAAAAAAAAB4/pZDjyRKhUl4/photo.jpg?sz=128", "display_name": "TimmyNeutron", "link": "https://stackoverflow.com/users/10465961/timmyneutron"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1545860596, "post_id": 53936928, "comment_id": 94714953, "body": "I&#39;ve done as you said, changed it around and the same problem still occurs. <code>POST https:&#47;&#47;localhost:44311&#47;api&#47;Map&#47;AsyncCreateMap&#47; 404</code>. I&#39;ve updated the OP with my controller class."}], "answers": [{"tags": [], "owner": {"reputation": 722, "user_id": 557408, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5afffaf5878d2d28b7b098a8a3720506?s=128&d=identicon&r=PG", "display_name": "Rolando", "link": "https://stackoverflow.com/users/557408/rolando"}, "is_accepted": false, "score": 1, "last_activity_date": 1545857861, "creation_date": 1545857861, "answer_id": 53937095, "question_id": 53936928, "link": "https://stackoverflow.com/questions/53936928/pass-array-of-information-from-angular-to-asp-net-controller-that-takes-in-model/53937095#53937095", "title": "Pass array of information from angular to asp net controller that takes in model object", "body": "<p>you should try use [FromBody].</p>\n\n<p>Example:</p>\n\n<pre><code>public class ModelDTO\n{\n    public string Id{get; set;}\n    public List&lt;string&gt; Childs {get; set;}\n}\n\n\n[HttpPost]\n[Route(\"api/nice/Save\")]\npublic bool Save([FromBody] ModelDTO model)\n{ ...\n</code></pre>\n\n<p>in the angular side, you should use httpClient.post..</p>\n\n<pre><code>save(data: IData): Observable&lt;ISaveCompleted&gt; {\n    const options = this.createPostOptions();\n    const saveCompleted = this.http\n    .post(options.url, data, options)\n    .map((res: Response) =&gt; &lt;ISaveCompleted&gt;res.json());\n    return saveCompleted;\n }\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 10465961, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fAVB2P94OxI/AAAAAAAAAAI/AAAAAAAAAB4/pZDjyRKhUl4/photo.jpg?sz=128", "display_name": "TimmyNeutron", "link": "https://stackoverflow.com/users/10465961/timmyneutron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545860649, "creation_date": 1545856732, "last_edit_date": 1545860649, "question_id": 53936928, "link": "https://stackoverflow.com/questions/53936928/pass-array-of-information-from-angular-to-asp-net-controller-that-takes-in-model", "title": "Pass array of information from angular to asp net controller that takes in model object", "body": "<p>I'm getting an array returned from an API call. The array looks something like this <a href=\"https://i.imgur.com/Rq8GfBI.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/Rq8GfBI.png</a>.</p>\n\n<p>I get the array, then call my controller method using this </p>\n\n<pre><code>this.http.post&lt;Maps[]&gt;(this.baseUrl + \"api/Map/InsertMap/\", beatmaps[0]).subscribe();\n</code></pre>\n\n<p><code>Maps</code> being an interface </p>\n\n<pre><code>interface Maps {\nId: number;\nName: string;\nArtist: string;\nCreator: string;\n}\n</code></pre>\n\n<p>Now I just have a basic insert controller method</p>\n\n<pre><code>        [Route(\"api/[controller]/InsertMap/\")]\n    [HttpPost(\"[action]\")]\n    public async Task&lt;IActionResult&gt; AsyncCreateMap(MapModel model)\n    {\n        await _mapService.AsyncInsert(model);\n\n        return Ok();\n    }\n</code></pre>\n\n<p>It takes in the Model as a parameter and then inserts it using Entity Framework. It doesn't work. I have no idea how to actually transfer the array I get to an object I can use in my controller.</p>\n\n<p>Here is my whole controller class</p>\n\n<pre><code>    [Route(\"api/[controller]\")]\npublic class MapController : Controller\n{\n    private readonly MapService _mapService;\n\n    public MapController(MapService mapService)\n    {\n        _mapService = mapService;\n    }\n\n    [Route(\"api/[controller]/Maps\")]\n    [HttpGet(\"[action]\")]\n    public async Task&lt;IActionResult&gt; AsyncMaps()\n    {\n        var data = await _mapService.AsyncGetMaps(0, 10);\n\n        return Ok(data);\n    }\n\n\n    [HttpPost]\n    public async Task&lt;IActionResult&gt; AsyncCreateMap([FromBody]MapModel model)\n    {\n        await _mapService.AsyncInsert(model);\n\n        return Ok();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "linq", "lambda"], "comments": [{"owner": {"reputation": 13353, "user_id": 366064, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0cSD6.png?s=128&g=1", "display_name": "Bizhan", "link": "https://stackoverflow.com/users/366064/bizhan"}, "edited": false, "score": 1, "creation_date": 1545859904, "post_id": 53936921, "comment_id": 94714746, "body": "if you want a hierarchy why do you flatten the collection by using <code>FirstOrDefault</code>? remove that part and the collection will remain hierarchical."}], "answers": [{"tags": [], "owner": {"reputation": 2865, "user_id": 1541819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8169282121d408f803933effe287b3aa?s=128&d=identicon&r=PG", "display_name": "pescolino", "link": "https://stackoverflow.com/users/1541819/pescolino"}, "is_accepted": false, "score": 3, "last_activity_date": 1545871993, "creation_date": 1545871993, "answer_id": 53938666, "question_id": 53936921, "link": "https://stackoverflow.com/questions/53936921/populate-nested-list-of-classes-from-single-data-table-c/53938666#53938666", "title": "Populate Nested List of Classes from single data table c#", "body": "<p>The <code>Select</code> method creates one <code>new Student</code> for each record. For the <code>SDetail</code> field you create a list containing exactly one <code>StudentDetail</code>. When you then group by the <code>SId</code> field each <code>Student</code> still contains only one <code>StudentDetail</code>.</p>\n\n<p>The solution is to do the grouping first. You can then think of each group representing a single <code>Student</code> and the elements of each group representing a <code>StudentDetail</code>:</p>\n\n<pre><code>var list = dataTable.AsEnumerable()\n                    .GroupBy(rec =&gt; rec.Field&lt;int&gt;(\"SId\"))\n                    .Select(gr =&gt; new Student\n                    {\n                        SId = gr.Key,\n                        SName = gr.First().Field&lt;string&gt;(\"SName\"),\n                        SDetail = gr.Select(detail =&gt; new StudentDetail\n                        {\n                            StudentDetailId = detail.Field&lt;int&gt;(\"StudentDetailId\"),    \n                            ExamId = detail.Field&lt;int&gt;(\"ExamId\"),\n                            Department = detail.Field&lt;string&gt;(\"Department\")\n                        }).ToList()\n                     }).ToList();\n</code></pre>\n\n<p>There is another overload of the <code>GroupBy</code> method which combines <code>GroupBy</code> and <code>Select</code>:</p>\n\n<pre><code>var list = dataTable.AsEnumerable()\n                    .GroupBy(rec =&gt; rec.Field&lt;int&gt;(\"SId\"),\n                             (key, gr) =&gt; new Student\n                             {\n                                 SId = key,\n                                 SName = gr.First().Field&lt;string&gt;(\"SName\"),\n                                 SDetail = gr.Select(detail =&gt; new StudentDetail\n                                 {\n                                     StudentDetailId = detail.Field&lt;int&gt;(\"StudentDetailId\"),\n                                     ExamId = detail.Field&lt;int&gt;(\"ExamId\"),\n                                     Department = detail.Field&lt;string&gt;(\"Department\")\n                                 }).ToList()\n                              }).ToList();\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 9828356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0ab9ebdc41de930cb8c7777d237de91?s=128&d=identicon&r=PG&f=1", "display_name": "JohnM", "link": "https://stackoverflow.com/users/9828356/johnm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1545883810, "creation_date": 1545856690, "question_id": 53936921, "link": "https://stackoverflow.com/questions/53936921/populate-nested-list-of-classes-from-single-data-table-c", "title": "Populate Nested List of Classes from single data table c#", "body": "<p>I have 2 classes having the same table structure in DB</p>\n\n<pre><code>public class Student\n{\n   public int SId {get; set;}\n   public string SName {get; set;}\n   public List&lt;StudentDetail&gt; SDetail {get; set;}\n}\n\npublic class StudentDetail\n{\n   public int StudentDetailId {get; set;}\n   public int StudentId {get; set;}\n   public int ExamId {get; set;}\n   public string Department {get; set;}\n   public string Address{get; set;}\n}\n</code></pre>\n\n<p>The data is fetched from the SQL by joining both the tables using StudentId. Every StudentId can have multiple Student details.\nNow I want to populate the data in the above 2 classes. I have written the following code. Since one id have multiple details that's why I have used group by.</p>\n\n<pre><code>    var list = dataTable.AsEnumerable()\n                   .Select(x =&gt; new Student\n                   {\n                       SId = x.Field&lt;int&gt;(\"SId\"),\n                       SName = x.Field&lt;string&gt;(\"SName\"),\n                       SDetail = new List&lt;StudentDetail&gt;\n                       {\n                            new StudentDetail\n                            {\n                                StudentDetailId = x.Field&lt;int&gt; \n                                (\"StudentDetailId\"),\n                                ExamId = x.Field&lt;int&gt;(\"ExamId\"),\n                                Department = x.Field&lt;string&gt;(\"Department\") \n                            }\n                       }.ToList()\n                   }).GroupBy(x =&gt; x.SId).Select(x =&gt; \n                      x.FirstOrDefault()).ToList();\n</code></pre>\n\n<p>But e.g. for Id 1 if there are 2 details then Student Detail list should have 2 records. But this code is creating two Id records having one record in Student Detail each like below</p>\n\n<pre><code>        Id -&gt; 1 -&gt; SId -&gt; 1\n        Id -&gt; 1 -&gt; SId -&gt; 2\n</code></pre>\n\n<p>The data should be created like below:</p>\n\n<pre><code>        Id -&gt; 1 -&gt; SId -&gt; 1\n                -&gt; SId -&gt; 2\n</code></pre>\n\n<p>Any help?</p>\n"}, {"tags": ["c#", "nlog"], "comments": [{"owner": {"reputation": 11822, "user_id": 193178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DUlHJ.png?s=128&g=1", "display_name": "Rolf Kristensen", "link": "https://stackoverflow.com/users/193178/rolf-kristensen"}, "edited": false, "score": 0, "creation_date": 1545865424, "post_id": 53936911, "comment_id": 94716078, "body": "I would focus on getting the file-logging working first (for more than &quot;init main&quot;), and not focus on the database-target. Looks like <code>UseNLog</code> fails to register NLog as LoggerProvider, or that you have activated Microsoft Extension Logging Filtering: <a href=\"https://github.com/NLog/NLog.Web/wiki/Getting-started-with-ASP.NET-Core-2#5-configure-appsettingsjson\" rel=\"nofollow noreferrer\">github.com/NLog/NLog.Web/wiki/&hellip;</a> (Check you don&#39;t have environment specific appsettings.json files)"}, {"owner": {"reputation": 1, "user_id": 10836530, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FXIZkYC36Ns/AAAAAAAAAAI/AAAAAAAAAL8/raCo-gXOrDs/photo.jpg?sz=128", "display_name": "Relic", "link": "https://stackoverflow.com/users/10836530/relic"}, "reply_to_user": {"reputation": 11822, "user_id": 193178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DUlHJ.png?s=128&g=1", "display_name": "Rolf Kristensen", "link": "https://stackoverflow.com/users/193178/rolf-kristensen"}, "edited": false, "score": 0, "creation_date": 1545915000, "post_id": 53936911, "comment_id": 94729280, "body": "Added the logging that&#39;s configured in both appsettings.json and appsettings.Development.json to the main post.  I&#39;ve tried running the API under development and production, nothing new.  I do use Microsoft.Extensions.Logging, as I always have and that used to work."}, {"owner": {"reputation": 11822, "user_id": 193178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DUlHJ.png?s=128&g=1", "display_name": "Rolf Kristensen", "link": "https://stackoverflow.com/users/193178/rolf-kristensen"}, "edited": false, "score": 0, "creation_date": 1545943925, "post_id": 53936911, "comment_id": 94739994, "body": "If you are able to create a small example solution that reproduces the issue with missing file-logging, then please create an issue here with the example-solution attached: <a href=\"https://github.com/NLog/NLog.Web/issues\" rel=\"nofollow noreferrer\">github.com/NLog/NLog.Web/issues</a>"}, {"owner": {"reputation": 1, "user_id": 10836530, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FXIZkYC36Ns/AAAAAAAAAAI/AAAAAAAAAL8/raCo-gXOrDs/photo.jpg?sz=128", "display_name": "Relic", "link": "https://stackoverflow.com/users/10836530/relic"}, "reply_to_user": {"reputation": 11822, "user_id": 193178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DUlHJ.png?s=128&g=1", "display_name": "Rolf Kristensen", "link": "https://stackoverflow.com/users/193178/rolf-kristensen"}, "edited": false, "score": 0, "creation_date": 1546270085, "post_id": 53936911, "comment_id": 94815473, "body": "Done and done, thanks @RolfKristensen <a href=\"https://github.com/NLog/NLog.Web/issues/331\" rel=\"nofollow noreferrer\">github.com/NLog/NLog.Web/issues/331</a>"}, {"owner": {"reputation": 1, "user_id": 10836530, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FXIZkYC36Ns/AAAAAAAAAAI/AAAAAAAAAL8/raCo-gXOrDs/photo.jpg?sz=128", "display_name": "Relic", "link": "https://stackoverflow.com/users/10836530/relic"}, "reply_to_user": {"reputation": 11822, "user_id": 193178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DUlHJ.png?s=128&g=1", "display_name": "Rolf Kristensen", "link": "https://stackoverflow.com/users/193178/rolf-kristensen"}, "edited": false, "score": 0, "creation_date": 1546283412, "post_id": 53936911, "comment_id": 94819044, "body": "Think I figured it out, seems that it doesn&#39;t like me splitting up the CreateWebHostBuilder(args).Build().Run() into two parts.  I updated the github issue to see if this is a known thing, or why."}, {"owner": {"reputation": 2528, "user_id": 639713, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/45582c6e513e4d5dd8688fc9ca2211ca?s=128&d=identicon&r=PG", "display_name": "gdubs", "link": "https://stackoverflow.com/users/639713/gdubs"}, "edited": false, "score": 0, "creation_date": 1551425861, "post_id": 53936911, "comment_id": 96643039, "body": "hey there, how do you pass in the connectionstring from the app to the nlog config? having issues with that atm."}], "owner": {"reputation": 1, "user_id": 10836530, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FXIZkYC36Ns/AAAAAAAAAAI/AAAAAAAAAL8/raCo-gXOrDs/photo.jpg?sz=128", "display_name": "Relic", "link": "https://stackoverflow.com/users/10836530/relic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 579, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546179935, "creation_date": 1545856601, "last_edit_date": 1546179935, "question_id": 53936911, "link": "https://stackoverflow.com/questions/53936911/nlog-web-aspnetcore-no-longer-logging-to-database", "title": "NLog.Web.AspNetCore no longer logging to database", "body": "<p>I have a dotnet core API that's up on version 2.2 with NLog.Web.AspNetCore 4.7.0 (NLog 4.5.11) which was previously working back in version 4.5.4.  With the update, it now doesn't appear to be logging to the database.  Nothing in terms of the logging infrastructure has changed within my code.  </p>\n\n<p>I should mention, I also have in the log this lovely line, so I know it's somewhat working.  But I use to get A LOT more information, and of course, the database would have stuff written to it as well.</p>\n\n<pre><code>2018-12-26 15:06:59.9503||DEBUG|SomeApp.API.Program|init main |url: |action: \n</code></pre>\n\n<p>I tried looking around in the github issues and on here, but I haven't found anything of much use, any help is greatly appreciated!</p>\n\n<p>Initial Setup in Program.cs</p>\n\n<pre><code>var logger = NLog.Web.NLogBuilder.ConfigureNLog(\"nlog.config\").GetCurrentClassLogger();\ntry\n{\n    logger.Debug(\"init main\");\n}\ncatch (Exception ex)\n{\n    //NLog: catch setup errors\n    logger.Error(ex, \"Stopped program because of exception\");\n    throw;\n}\nfinally\n{\n// Ensure to flush and stop internal timers/threads before application-exit (Avoid segmentation fault on Linux)\n    NLog.LogManager.Shutdown();\n}\n</code></pre>\n\n<p>Implementation</p>\n\n<pre><code>public static IWebHost BuildWebHost(string[] args) =&gt;\n        WebHost.CreateDefaultBuilder(args)\n                .UseStartup&lt;Startup&gt;()\n                .UseIISIntegration()\n                .ConfigureLogging(logging =&gt;\n                {\n                    logging.ClearProviders();\n                    logging.SetMinimumLevel(Microsoft.Extensions.Logging.LogLevel.Trace);\n                })\n                .UseNLog()  // NLog: setup NLog for Dependency injection\n                .Build();\n</code></pre>\n\n<p>nlog config</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;nlog xmlns=\"http://www.nlog-project.org/schemas/NLog.xsd\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  autoReload=\"true\"\n  internalLogLevel=\"Trace\"\n  internalLogFile=\"C:\\temp\\internal-nlog.txt\"&gt;\n\n &lt;extensions&gt;\n    &lt;add assembly=\"NLog.Web.AspNetCore\"/&gt;\n &lt;/extensions&gt;\n\n &lt;targets async=\"true\"&gt;\n\n &lt;target type=\"File\" name=\"file\" fileName=\"${basedir}\\logs\\logfile.txt\"\n  maxArchiveFiles=\"5\" archiveAboveSize=\"20971520\" archiveEvery=\"Day\"\n  layout=\"${longdate}|${event-properties:item=EventId_Id}|${uppercase:${level}}|${logger}|${message} ${exception:format=tostring}|url: ${aspnet-request-url}|action: ${aspnet-mvc-action}\" /&gt;\n\n&lt;target xsi:type=\"Null\" name=\"blackhole\" /&gt;\n\n&lt;target name=\"database\" xsi:type=\"Database\"&gt;\n\n\n  &lt;connectionString&gt;${gdc:item=connectionString}&lt;/connectionString&gt;\n\n  &lt;commandText&gt;\n    insert into dbo.Log (\n      EventId, Logged, Level, Message,\n      Username,\n      ServerName, Port, Url, Https,\n      ServerAddress, RemoteAddress,\n      Logger, CallSite, Exception\n    ) values (\n      @EventId, @Logged, @Level, @Message,\n      @Username,\n      @ServerName, @Port, @Url, @Https,\n      @ServerAddress, @RemoteAddress,\n      @Logger, @Callsite, @Exception\n    );\n  &lt;/commandText&gt;\n\n  &lt;parameter name=\"@EventId\" layout=\"${event-properties:item=EventId_Id}\" /&gt;\n  &lt;parameter name=\"@logged\" layout=\"${date}\" /&gt;\n  &lt;parameter name=\"@level\" layout=\"${level}\" /&gt;\n  &lt;parameter name=\"@message\" layout=\"${message}\" /&gt;\n\n  &lt;parameter name=\"@username\" layout=\"${aspnet-user-identity}\" /&gt;\n\n  &lt;parameter name=\"@serverName\" layout=\"${aspnet-request:serverVariable=SERVER_NAME}\" /&gt;\n  &lt;parameter name=\"@port\" layout=\"${aspnet-request:serverVariable=SERVER_PORT}\" /&gt;\n  &lt;parameter name=\"@url\" layout=\"${aspnet-request:serverVariable=HTTP_URL}\" /&gt;\n  &lt;parameter name=\"@https\" layout=\"${when:inner=1:when='${aspnet-request:serverVariable=HTTPS}' == 'on'}${when:inner=0:when='${aspnet-request:serverVariable=HTTPS}' != 'on'}\" /&gt;\n\n  &lt;parameter name=\"@serverAddress\" layout=\"${aspnet-request:serverVariable=LOCAL_ADDR}\" /&gt;\n  &lt;parameter name=\"@remoteAddress\" layout=\"${aspnet-request:serverVariable=REMOTE_ADDR}:${aspnet-request:serverVariable=REMOTE_PORT}\" /&gt;\n\n  &lt;parameter name=\"@logger\" layout=\"${logger}\" /&gt;\n  &lt;parameter name=\"@callSite\" layout=\"${callsite}\" /&gt;\n  &lt;parameter name=\"@exception\" layout=\"${exception:tostring}\" /&gt;\n&lt;/target&gt;\n\n&lt;/targets&gt;\n\n&lt;rules&gt;\n&lt;!--Limit to only configured logs for all logs, change name=\"*\"--&gt;\n&lt;logger name=\"SomeApp.*\" minlevel=\"Info\" writeTo=\"database\" /&gt;\n&lt;logger name=\"*\" minlevel=\"Trace\" writeTo=\"file\" /&gt;\n&lt;!--Skip Microsoft logs and so log only own logs--&gt;\n&lt;logger name=\"Microsoft.*\" minlevel=\"Trace\" writeTo=\"blackhole\" final=\"true\" /&gt;\n&lt;/rules&gt;\n&lt;/nlog&gt;\n</code></pre>\n\n<p>Sample logging code</p>\n\n<pre><code>_logger.LogInformation(1001, \"Login success: {0}\", userForLoginDto.Username);\n</code></pre>\n\n<p>appsettings.json &amp; appsettings.Development.json Logging Settings</p>\n\n<pre><code>  \"Logging\": {\n\"LogLevel\": {\n  \"Default\": \"Trace\",\n  \"Microsoft\": \"Information\"\n}\n</code></pre>\n\n<p>The NLog internal log doesn't seem to have anything of significance, I can provide it if requested though.</p>\n\n<p>Apologies for any weird formatting issues, the nlog.config file did not want to come willingly.</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1545856626, "post_id": 53936874, "comment_id": 94713817, "body": "Do you have the radio buttons in a GroupBox?"}, {"owner": {"reputation": 9587, "user_id": 747965, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2fzty.jpg?s=128&g=1", "display_name": "Glenn Ferrie", "link": "https://stackoverflow.com/users/747965/glenn-ferrie"}, "edited": false, "score": 0, "creation_date": 1545856667, "post_id": 53936874, "comment_id": 94713828, "body": "Hi! What method is your code in? There are some event handlers in Windows Forms that are triggered on various user interactions with the form.  You should attach any initialization logic in a method that is triggered when the form loads.  If you are pulling data from a repository, please ensure that this UI logic is after the data is loaded."}, {"owner": {"reputation": 27, "user_id": 7735451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e293758c153b206977852230671f83b4?s=128&d=identicon&r=PG&f=1", "display_name": "Sanja", "link": "https://stackoverflow.com/users/7735451/sanja"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1545856978, "post_id": 53936874, "comment_id": 94713914, "body": "@jdweng buttons are not in gropbox they are in normal panel. Glenn Ferrie i am sending code from one form datagidView from selected user into user control page where i am populating form textboxes, but there is no issue with sending and getting data because i checked all data before and after i try to check checkbox or radio and values are not missing, and all textboxes and comboxes are filled just those 2 don&#39;t want to work i don&#39;t know why."}, {"owner": {"reputation": 9587, "user_id": 747965, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2fzty.jpg?s=128&g=1", "display_name": "Glenn Ferrie", "link": "https://stackoverflow.com/users/747965/glenn-ferrie"}, "edited": false, "score": 0, "creation_date": 1545857059, "post_id": 53936874, "comment_id": 94713938, "body": "If this is within the row of a datagridview then a different set of rules apply.  Waiting on updated code sample."}, {"owner": {"reputation": 27, "user_id": 7735451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e293758c153b206977852230671f83b4?s=128&d=identicon&r=PG&f=1", "display_name": "Sanja", "link": "https://stackoverflow.com/users/7735451/sanja"}, "reply_to_user": {"reputation": 2849, "user_id": 10573793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XP0ED.gif?s=128&g=1", "display_name": "preciousbetine", "link": "https://stackoverflow.com/users/10573793/preciousbetine"}, "edited": false, "score": 0, "creation_date": 1545857220, "post_id": 53936874, "comment_id": 94713977, "body": "@preciousbetine thanks i forgot to Trim() now all working."}], "answers": [{"tags": [], "owner": {"reputation": 9587, "user_id": 747965, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2fzty.jpg?s=128&g=1", "display_name": "Glenn Ferrie", "link": "https://stackoverflow.com/users/747965/glenn-ferrie"}, "is_accepted": false, "score": 0, "last_activity_date": 1545856972, "creation_date": 1545856972, "answer_id": 53936962, "question_id": 53936874, "link": "https://stackoverflow.com/questions/53936874/checkbox-and-radio-doesnt-work-as-expected-when-checking/53936962#53936962", "title": "Checkbox and radio doesn&#39;t work as expected when checking", "body": "<p><strong>partial answer</strong> </p>\n\n<p>For the first part of your question, regarding this line:</p>\n\n<pre><code>chkAktivan.Checked = aktivan == \"Da\" ? true : false;\n</code></pre>\n\n<p>Try changing it to:</p>\n\n<pre><code>chkAktivan.Checked = (aktivan == \"Da\" ? true : false);\n</code></pre>\n\n<p>OR MORE SIMPLY:</p>\n\n<pre><code>chkAktivan.Checked = \"Da\".Equals(aktivan);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 7735451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e293758c153b206977852230671f83b4?s=128&d=identicon&r=PG&f=1", "display_name": "Sanja", "link": "https://stackoverflow.com/users/7735451/sanja"}, "edited": false, "score": 0, "creation_date": 1545857491, "post_id": 53937013, "comment_id": 94714052, "body": "Change it to <code>if (spol.Trim() == &quot;Mu\u0161ki&quot;) </code> and also <code>chkAktivan.Checked = aktivan.Trim() == &quot;Da&quot; ? true : false;</code> then i will accept answer, since incoming values need to be Trim() -ed."}, {"owner": {"reputation": 27, "user_id": 7735451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e293758c153b206977852230671f83b4?s=128&d=identicon&r=PG&f=1", "display_name": "Sanja", "link": "https://stackoverflow.com/users/7735451/sanja"}, "edited": false, "score": 0, "creation_date": 1545857835, "post_id": 53937013, "comment_id": 94714153, "body": "Thanks, just to note first line isn&#39;t good, no need to trim string value inside of &quot; &quot; change it please to <code>if (spol.Trim() == &quot;Mu\u0161ki&quot;)</code> only &quot;spol&quot; need to be Trim() -ed"}], "tags": [], "owner": {"reputation": 2849, "user_id": 10573793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XP0ED.gif?s=128&g=1", "display_name": "preciousbetine", "link": "https://stackoverflow.com/users/10573793/preciousbetine"}, "is_accepted": true, "score": 0, "last_activity_date": 1545857899, "last_edit_date": 1545857899, "creation_date": 1545857311, "answer_id": 53937013, "question_id": 53936874, "link": "https://stackoverflow.com/questions/53936874/checkbox-and-radio-doesnt-work-as-expected-when-checking/53937013#53937013", "title": "Checkbox and radio doesn&#39;t work as expected when checking", "body": "<p>You should trim the values before using them, like this. </p>\n\n<pre><code>if (spol.Trim() == \"Mu\u0161ki\")\n{\n    radioMuski.Checked = true;\n    radioZenski.Checked = false;\n}\nelse\n{\n    radioMuski.Checked = false;\n    radioZenski.Checked = true;\n}\n</code></pre>\n\n<p>And also this.</p>\n\n<pre><code>chkAktivan.Checked = aktivan == \"Da\" ? true : false;\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>chkAktivan.Checked = aktivan.Trim() == \"Da\" ? true : false;\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 7735451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e293758c153b206977852230671f83b4?s=128&d=identicon&r=PG&f=1", "display_name": "Sanja", "link": "https://stackoverflow.com/users/7735451/sanja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 53937013, "answer_count": 2, "score": 0, "last_activity_date": 1545857899, "creation_date": 1545856407, "last_edit_date": 1545857274, "question_id": 53936874, "link": "https://stackoverflow.com/questions/53936874/checkbox-and-radio-doesnt-work-as-expected-when-checking", "title": "Checkbox and radio doesn&#39;t work as expected when checking", "body": "<p>I have application where i am trying to make checkbox checked based on value i get from string. String name is called <strong>aktivan</strong> and returns values <strong>Da</strong> or <strong>Ne</strong>, i checked with messagebox and values are here and valid. If value are <strong>Da</strong> it need to check checkbox but it doesn't work.</p>\n\n<pre><code>chkAktivan.Checked = aktivan == \"Da\" ? true : false; // doesn't work\nchkAktivan.Checked = true; // working\nchkAktivan.Checked = false; // working\n</code></pre>\n\n<p>Same is for radio, based on string values <code>Mu\u0161ki</code> or <code>\u017denski</code> it need to set values but also does't working all time its checking <code>\u017denski</code> radio.</p>\n\n<pre><code>if (spol == \"Mu\u0161ki\")\n{\n    radioMuski.Checked = true;\n    radioZenski.Checked = false;\n}\nelse\n{\n    radioMuski.Checked = false;\n    radioZenski.Checked = true;\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework", "linq", "entity-framework-6"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1545857752, "post_id": 53936854, "comment_id": 94714127, "body": "AFAIK you have to make it a lambda expression instead of a method, something like <code>Expression&lt;Func&lt;Datetime, bool&gt;&gt;</code>, and it can&#39;t have a body.  See <a href=\"https://stackoverflow.com/questions/18337692/entity-framework-filter-expressionfunct-bool\">this question</a> for an example of what I mean."}, {"owner": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1545858469, "post_id": 53936854, "comment_id": 94714341, "body": "@Amy I have actually attempted that. Please check my updated question."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1545858568, "post_id": 53936854, "comment_id": 94714374, "body": "You are calling a method that returns an expression.  You are not invoking the expression."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1545859336, "post_id": 53936854, "comment_id": 94714566, "body": "Why are you now trying to call <code>result.entry.Where</code>?  Get rid of that."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1545859535, "post_id": 53936854, "comment_id": 94714625, "body": "You now have, for some reason, <code>.Where(result =&gt; result.entry.Where(MyModel.IsDateOf(result.rec.DayOf))                          &amp;&amp; names.Contains(result.rec.Name))</code>  Change that to <code>.Where(result =&gt; MyModel.IsDateOf(result.entry, result.rec.DayOf) &amp;&amp; names.Contains(result.rec.Name))</code>"}, {"owner": {"reputation": 12772, "user_id": 490374, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8c174feb69caed3f5ba5fd68d9ab3c63?s=128&d=identicon&r=PG", "display_name": "Ann L.", "link": "https://stackoverflow.com/users/490374/ann-l"}, "edited": false, "score": 0, "creation_date": 1545859666, "post_id": 53936854, "comment_id": 94714661, "body": "Don&#39;t want to interrupt, but is there a reason why putting the expression that uses <code>DbFunctions.TruncateTime</code> and <code>SqlFunctions.DateAdd</code> into a function, and returning that expression, parameterized, wouldn&#39;t work? (I last used EF 6.1)"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 12772, "user_id": 490374, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8c174feb69caed3f5ba5fd68d9ab3c63?s=128&d=identicon&r=PG", "display_name": "Ann L.", "link": "https://stackoverflow.com/users/490374/ann-l"}, "edited": false, "score": 0, "creation_date": 1545859729, "post_id": 53936854, "comment_id": 94714687, "body": "@AnnL. That works just fine too.  It does result in invoking a method and invoking the expression, which may look a little weird.  See my answer."}, {"owner": {"reputation": 12772, "user_id": 490374, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8c174feb69caed3f5ba5fd68d9ab3c63?s=128&d=identicon&r=PG", "display_name": "Ann L.", "link": "https://stackoverflow.com/users/490374/ann-l"}, "edited": false, "score": 0, "creation_date": 1545871699, "post_id": 53936854, "comment_id": 94717095, "body": "@MikeA I should have asked you this HOURS ago:  are you trying/expecting all of this stuff -- the join, the filtering, etc. -- to happen down in the data store? Or up in the app?"}, {"owner": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "reply_to_user": {"reputation": 12772, "user_id": 490374, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8c174feb69caed3f5ba5fd68d9ab3c63?s=128&d=identicon&r=PG", "display_name": "Ann L.", "link": "https://stackoverflow.com/users/490374/ann-l"}, "edited": false, "score": 0, "creation_date": 1545877810, "post_id": 53936854, "comment_id": 94717920, "body": "@AnnL. Yes. I am expecting this LINQ to get translated into SQL query.  It would have been much easier if it was in memory because I the AddSeconds would work after .ToList()"}, {"owner": {"reputation": 12772, "user_id": 490374, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8c174feb69caed3f5ba5fd68d9ab3c63?s=128&d=identicon&r=PG", "display_name": "Ann L.", "link": "https://stackoverflow.com/users/490374/ann-l"}, "edited": false, "score": 0, "creation_date": 1545878498, "post_id": 53936854, "comment_id": 94718037, "body": "I&#39;m temporarily deleting my answer, because I now think it&#39;s incorrect, and I don&#39;t want a million people marking me down tomorrow morning for being wrong. :)  I&#39;ll rejoin you tomorrow."}, {"owner": {"reputation": 12772, "user_id": 490374, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8c174feb69caed3f5ba5fd68d9ab3c63?s=128&d=identicon&r=PG", "display_name": "Ann L.", "link": "https://stackoverflow.com/users/490374/ann-l"}, "edited": false, "score": 0, "creation_date": 1546520683, "post_id": 53936854, "comment_id": 94881800, "body": "@MikeA Are you still having problems with this, or have you found a solution?"}, {"owner": {"reputation": 12772, "user_id": 490374, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8c174feb69caed3f5ba5fd68d9ab3c63?s=128&d=identicon&r=PG", "display_name": "Ann L.", "link": "https://stackoverflow.com/users/490374/ann-l"}, "edited": false, "score": 0, "creation_date": 1546520794, "post_id": 53936854, "comment_id": 94881865, "body": "@MikeA I wanted to ask whether <code>UserService.QueryUniqueRecords()</code> and <code>TopLevelQuery</code> used not only the same entity framework classes, but the same instance of the database context?  I suspect if they aren&#39;t connected to the same context instance, it won&#39;t be possible to do the joining in the data store."}, {"owner": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "reply_to_user": {"reputation": 12772, "user_id": 490374, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8c174feb69caed3f5ba5fd68d9ab3c63?s=128&d=identicon&r=PG", "display_name": "Ann L.", "link": "https://stackoverflow.com/users/490374/ann-l"}, "edited": false, "score": 0, "creation_date": 1546531302, "post_id": 53936854, "comment_id": 94887861, "body": "@AnnL. I have not found a solution. UserService.QueryUniqueRecords() and TopLevelQuery are both <code>IQueryable&lt;&gt;</code> and both are pointing at the same context,"}, {"owner": {"reputation": 12772, "user_id": 490374, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8c174feb69caed3f5ba5fd68d9ab3c63?s=128&d=identicon&r=PG", "display_name": "Ann L.", "link": "https://stackoverflow.com/users/490374/ann-l"}, "edited": false, "score": 0, "creation_date": 1546537082, "post_id": 53936854, "comment_id": 94890677, "body": "If I get a chance, I will do some more work on this. I&#39;ve become intrigued."}], "answers": [{"comments": [{"owner": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "edited": false, "score": 0, "creation_date": 1545861598, "post_id": 53937250, "comment_id": 94715259, "body": "Thank you! When calling <code>MyModel.IsDateOf(result.entry, result.rec.DayOf)</code> I get the following error <code>Non-invocable member &#39;MyModel.IsDateOf&#39; cannot be used like a method.</code> Here is how I am calling it <code>(entry, rec) =&gt; new { entry, rec}).Where(result =&gt; MyModel.IsDateOf(result.entry, result.rec.DayOf) &amp;&amp; names.Contains(result.rec.Name)).</code> Not sure what I am missing this time."}, {"owner": {"reputation": 12772, "user_id": 490374, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8c174feb69caed3f5ba5fd68d9ab3c63?s=128&d=identicon&r=PG", "display_name": "Ann L.", "link": "https://stackoverflow.com/users/490374/ann-l"}, "edited": false, "score": 0, "creation_date": 1545861891, "post_id": 53937250, "comment_id": 94715332, "body": "Can you tell me whether the overload of <code>Where</code> you&#39;re using is taking <code>Expression&lt;&gt;</code> objects as parameters, or actual <code>Func&lt;&gt;</code> objects?"}, {"owner": {"reputation": 12772, "user_id": 490374, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8c174feb69caed3f5ba5fd68d9ab3c63?s=128&d=identicon&r=PG", "display_name": "Ann L.", "link": "https://stackoverflow.com/users/490374/ann-l"}, "edited": false, "score": 0, "creation_date": 1545862166, "post_id": 53937250, "comment_id": 94715412, "body": "I <i>think</i> that @Amy&#39;s answer is assuming that the <code>Where</code> overload you&#39;re using has a parameter of <code>Expression&lt;Func&lt;MyModel,bool&gt;&gt;</code>, but that other things in the call are forcing it to use the overload that takes plain <code>Func&lt;MyModel, bool&gt;</code>. That would cause it to object: it wants a method, a <code>Func&lt;&gt;</code>, and it&#39;s been given an <code>Expression&lt;Func&lt;&gt;&gt;</code>."}, {"owner": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "edited": false, "score": 0, "creation_date": 1545862461, "post_id": 53937250, "comment_id": 94715479, "body": "From what I can tell, <code>.Where(result =&gt; )</code> accepts <code>IQueryable&lt;&#39;a&gt; IQueryable&lt;&#39;a&gt;.Where&lt;&#39;a&gt;(Expression&lt;Func&lt;a&#39;, bool&gt;&gt; predicts)</code> a&#39; is new { MyModel entry, MyRecord rec}"}], "tags": [], "owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "is_accepted": false, "score": 2, "last_activity_date": 1545858984, "creation_date": 1545858984, "answer_id": 53937250, "question_id": 53936854, "link": "https://stackoverflow.com/questions/53936854/how-can-i-extract-dbfunctions-sqlfunctions-call-into-a-resuable-extension-method/53937250#53937250", "title": "How can I extract DbFunctions/SqlFunctions call into a resuable extension/method with EntityFramework 6.2?", "body": "<p>Remove the parameter from your method and make the expression accept two parameters:</p>\n\n<pre><code>public static Expression&lt;Func&lt;MyModel, DateTime, bool&gt;&gt; IsDateOf \n    = (MyModel p, DateTime d) =&gt; p.StartedAt.AddSeconds(p.UtcOffset) == d.Date;\n</code></pre>\n\n<p>Note I have made it a static field, not a method.  Then in your LINQ expression, you need to invoke it:</p>\n\n<pre><code>MyModel.IsDateOf(result.entry, result.rec.DayOf)\n</code></pre>\n\n<p>If you don't make it a field (or property), you have to first invoke the method to get the expression; then you need to invoke the expression:</p>\n\n<pre><code>MyModel.IsDateOf()(result.entry, result.rec.DayOf)\n</code></pre>\n\n<p>Which, in my opinion, looks weird.</p>\n"}], "owner": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1545927584, "creation_date": 1545856306, "last_edit_date": 1545927584, "question_id": 53936854, "link": "https://stackoverflow.com/questions/53936854/how-can-i-extract-dbfunctions-sqlfunctions-call-into-a-resuable-extension-method", "title": "How can I extract DbFunctions/SqlFunctions call into a resuable extension/method with EntityFramework 6.2?", "body": "<p>I have an application written using <code>C#</code> on the top of the ASP.NET MVC 5 framework. In addition, I am using EntityFramework 6.2 as an ORM to interact with my data.</p>\n\n<p>I wrote the following join statement using Fluent LINQ</p>\n\n<pre><code>List&lt;string&gt; names = new List&lt;string&gt;{\"\", ....};\nquery = TopLevelQuery.Where(x =&gt; x.EndedAt.HasValue &amp;&amp; x.StartedAt &gt;= startedAt &amp;&amp; x.EndedAt.Value &lt;= endedAt)\n                     .Join(UserService.QueryUniqueRecords(),\n                     entry =&gt; entry.UserId,\n                     rec =&gt; rec.UserId,\n                     (entry, rec) =&gt; new { entry, rec })\n                     .Where(result =&gt; result.entry.IsEqualDateOf(result.rec.DayOf) \n                         &amp;&amp; names.Contains(result.rec.Name))\n                     .Select(x =&gt; x.entry);\n</code></pre>\n\n<p>However, I get the following error during runtime</p>\n\n<blockquote>\n  <p>LINQ to Entities does not recognize the method 'IsEqualDateOf', and\n  this method cannot be translated into a store expression.</p>\n</blockquote>\n\n<p>Here is my <code>IsEqualDateOf</code> extension method</p>\n\n<pre><code>public static class MyModelExtensions\n{\n    public static DateTime GetLocalDate(this MyModel entry)\n    {\n        var local = DbFunctions.TruncateTime(SqlFunctions.DateAdd(\"ss\", entry.UtcOffset, entry.StartedAt));\n\n        return local.Value;\n    }\n\n    public static bool IsEqualDateOf(this MyModel entry, DateTime dateOf)\n    {\n        bool isEqual = entry.GetLocalDate().Equals(dateOf.Date);\n\n        return isEqual;\n    }\n}\n</code></pre>\n\n<p>However, if I convert my LINQ expression to the following pseudo, it works as expected</p>\n\n<pre><code>query = TopLevelQuery.Where(x =&gt; x.EndedAt.HasValue &amp;&amp; x.StartedAt &gt;= startedAt &amp;&amp; x.EndedAt.Value &lt;= endedAt)\n                     .Join(UserService.QueryUniqueRecords(),\n                     entry =&gt; entry.UserId,\n                     rec =&gt; rec.UserId,\n                     (entry, rec) =&gt; new { entry, rec })\n                     .Where(result =&gt; DbFunctions.TruncateTime(SqlFunctions.DateAdd(\"ss\", entry.UtcOffset, entry.StartedAt)) == result.rec.DayOf \n                         &amp;&amp; names.Contains(result.rec.Name))\n                     .Select(x =&gt; x.entry);\n</code></pre>\n\n<p>But, I want to be able to reuse the same logic in multiple places within my project, which is why I want to extract it into some kind of extension or method.</p>\n\n<p>How, can I extract the <code>DbFunctions</code> and <code>SqlFunctions</code> call into a reusable method in which can be used in LINQ before <code>AsEnumerable()</code> is called?</p>\n\n<p><strong>UPDATED</strong></p>\n\n<p>I also tried to extract the logic into lambda expression by adding the following code to <code>MyModel</code> class</p>\n\n<pre><code>public class MyModel\n{\n    public DateTime StartedAt { get; set; }\n    public int UtcOffset { get; set; }\n    // ...\n\n    public Expression&lt;Func&lt;MyModel, bool&gt;&gt; IsDateOf(DateTime dayOf)\n    {\n        return p =&gt; p.StartedAt.AddSeconds(p.UtcOffset) == dayOf.Date;\n    }\n}\n</code></pre>\n\n<p>Then I tried to consume it like so</p>\n\n<pre><code>query = TopLevelQuery.Where(x =&gt; x.EndedAt.HasValue &amp;&amp; x.StartedAt &gt;= startedAt &amp;&amp; x.EndedAt.Value &lt;= endedAt)\n                     .Join(UserService.QueryUniqueRecords(),\n                     entry =&gt; entry.UserId,\n                     rec =&gt; rec.UserId,\n                     (entry, rec) =&gt; new { entry, rec })\n                     .Where(result =&gt; result.entry.IsDateOf(result.rec.DayOf) \n                         &amp;&amp; names.Contains(result.rec.Name))\n                     .Select(x =&gt; x.entry);\n</code></pre>\n\n<p>But that throws the following syntax error when trying to consume it</p>\n\n<blockquote>\n  <p>Operator '&amp;&amp;' cannot be applied to operands of type\n  '<code>Expression&lt;Func&lt;MyModel,bool&gt;&gt;</code>' and bool.</p>\n</blockquote>\n\n<p>Moreover, I tried making the <code>IsDateOf</code> expression static and called it like so</p>\n\n<pre><code>query = TopLevelQuery.Where(x =&gt; x.EndedAt.HasValue &amp;&amp; x.StartedAt &gt;= startedAt &amp;&amp; x.EndedAt.Value &lt;= endedAt)\n                     .Join(UserService.QueryUniqueRecords(),\n                     entry =&gt; entry.UserId,\n                     rec =&gt; rec.UserId,\n                     (entry, rec) =&gt; new { entry, rec })\n                     .Where(result =&gt; result.entry.Where(MyModel.IsDateOf(result.rec.DayOf))\n                         &amp;&amp; names.Contains(result.rec.Name))\n                     .Select(x =&gt; x.entry);\n</code></pre>\n\n<p>But that gives me the following syntax error</p>\n\n<blockquote>\n  <p>'MyMode' does not contain a definition for <code>Where</code> and the best\n  extension method overload\n  <code>Queryable.Where&lt;MyModel&gt;IQueryable&lt;MyModel&gt;, Expression&lt;Func&lt;MyModel,\n  bool&gt;&gt;)</code> required a reciever of type IQueryable</p>\n</blockquote>\n"}, {"tags": ["c#", ".net", "dictionary", "unity3d"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 1, "creation_date": 1545856336, "post_id": 53936821, "comment_id": 94713733, "body": "<code>findit[player].Remove(targetid);</code>?"}, {"owner": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "edited": false, "score": 0, "creation_date": 1545856443, "post_id": 53936821, "comment_id": 94713769, "body": "You say, you want to remove element from dictionary, but actually you want to remove an element from the list, which is a value in the dictionary. <code>findit[player].Remove(targetid)</code>;"}, {"owner": {"reputation": 59, "user_id": 7865489, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-X4AdjEyR48s/AAAAAAAAAAI/AAAAAAAAAPU/L4SoIXApYUk/photo.jpg?sz=128", "display_name": "Boyzen", "link": "https://stackoverflow.com/users/7865489/boyzen"}, "edited": false, "score": 0, "creation_date": 1545861702, "post_id": 53936821, "comment_id": 94715287, "body": "yes is it, thank you, another question, how i can remove first entry from findit[player] without specfying the value, this right or wrong ? findit[player].Remove(0);"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 7865489, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-X4AdjEyR48s/AAAAAAAAAAI/AAAAAAAAAPU/L4SoIXApYUk/photo.jpg?sz=128", "display_name": "Boyzen", "link": "https://stackoverflow.com/users/7865489/boyzen"}, "edited": false, "score": 0, "creation_date": 1545861223, "post_id": 53936872, "comment_id": 94715163, "body": "thank you, another question, how i can remove first entry from findit[player] without specfying the value, somthing like this findit[player].Remove([0]);"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "reply_to_user": {"reputation": 59, "user_id": 7865489, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-X4AdjEyR48s/AAAAAAAAAAI/AAAAAAAAAPU/L4SoIXApYUk/photo.jpg?sz=128", "display_name": "Boyzen", "link": "https://stackoverflow.com/users/7865489/boyzen"}, "edited": false, "score": 1, "creation_date": 1545886512, "post_id": 53936872, "comment_id": 94719263, "body": "@MisterBrooks <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.list-1.removeat?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>findit[player].RemoveAt(0);</code></a>"}], "tags": [], "owner": {"reputation": 50118, "user_id": 913124, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/20dGq.jpg?s=128&g=1", "display_name": "Christos", "link": "https://stackoverflow.com/users/913124/christos"}, "is_accepted": true, "score": 3, "last_activity_date": 1545900661, "last_edit_date": 1545900661, "creation_date": 1545856388, "answer_id": 53936872, "question_id": 53936821, "link": "https://stackoverflow.com/questions/53936821/how-to-remove-one-element-from-dictionary/53936872#53936872", "title": "How to remove one element from dictionary", "body": "<p>That you need is something like this:</p>\n\n<pre><code>if (findit.ContainsKey(player))\n{\n     findit[player].Remove(targetid);\n}\n</code></pre>\n\n<p>Using <code>findit.Remove(player)</code> you remove the key value pair from the dictionary with key <code>player</code>. You don't need this, based on your post. You just want to remove one entry from the value (which is a list in your case) associated with this key.</p>\n\n<p><strong>Update</strong></p>\n\n<p>If you just want to remove the first item in the list associated with the player, you could just use list's method <code>RemoveAt</code> passing as an argument the 0, since you want to remove the first item.</p>\n"}], "owner": {"reputation": 59, "user_id": 7865489, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-X4AdjEyR48s/AAAAAAAAAAI/AAAAAAAAAPU/L4SoIXApYUk/photo.jpg?sz=128", "display_name": "Boyzen", "link": "https://stackoverflow.com/users/7865489/boyzen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 53936872, "answer_count": 1, "score": -1, "last_activity_date": 1545900661, "creation_date": 1545856109, "question_id": 53936821, "link": "https://stackoverflow.com/questions/53936821/how-to-remove-one-element-from-dictionary", "title": "How to remove one element from dictionary", "body": "<p>I have dictionary like this</p>\n\n<pre><code>private Dictionary&lt;BasePlayer, List&lt;ulong&gt;&gt; findit = new Dictionary&lt;BasePlayer, List&lt;ulong&gt;&gt;();\n</code></pre>\n\n<p>and add elements to it using </p>\n\n<pre><code>findit[player].Add(targetid); \nfindit[player].Add(friendid); \n</code></pre>\n\n<p>on another section </p>\n\n<pre><code>if (findit.ContainsKey(player))\nfindit.Remove(player);\n</code></pre>\n\n<p>but using findit.Remove(player) it's removed all elements \"targetid and friendid\"</p>\n\n<p>how i can remove only targetid from findit dictionary ?</p>\n"}, {"tags": ["c#", "entity-framework", "unit-testing", "integration-testing", "moq"], "comments": [{"owner": {"reputation": 1123, "user_id": 5198054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H6xkh.jpg?s=128&g=1", "display_name": "Hasan", "link": "https://stackoverflow.com/users/5198054/hasan"}, "edited": false, "score": 0, "creation_date": 1546200609, "post_id": 53936812, "comment_id": 94799343, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/5357601/whats-the-difference-between-unit-tests-and-integration-tests\">What&#39;s the difference between unit tests and integration tests?</a>"}, {"owner": {"reputation": 427, "user_id": 9804879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KkKEI.jpg?s=128&g=1", "display_name": "Wojciech Rak", "link": "https://stackoverflow.com/users/9804879/wojciech-rak"}, "reply_to_user": {"reputation": 1123, "user_id": 5198054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H6xkh.jpg?s=128&g=1", "display_name": "Hasan", "link": "https://stackoverflow.com/users/5198054/hasan"}, "edited": false, "score": 0, "creation_date": 1546241578, "post_id": 53936812, "comment_id": 94806729, "body": "Ok, I it&#39;s probably unit tests, or mixed. But it&#39;s not the most important in this question, the most important part is, is it correct way?"}, {"owner": {"reputation": 1123, "user_id": 5198054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H6xkh.jpg?s=128&g=1", "display_name": "Hasan", "link": "https://stackoverflow.com/users/5198054/hasan"}, "edited": false, "score": 0, "creation_date": 1546245446, "post_id": 53936812, "comment_id": 94807728, "body": "Actually it is up to you and what you wanna make sure with unit or integration tests. If you wanna make sure some piece of your code works as you expected and output is also is expected, unit test is the correct decision. On the other hand if you wanna make sure a scenario in your program works properly (like updating db and evaluating new output) with a few parts of your code combined, integration test is way to go. In my opinion, you should write integration tests to ensure what you described in your question, bc you wanna make sure that db is initialized correctly in server not in run time."}], "owner": {"reputation": 427, "user_id": 9804879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KkKEI.jpg?s=128&g=1", "display_name": "Wojciech Rak", "link": "https://stackoverflow.com/users/9804879/wojciech-rak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546241452, "creation_date": 1545856058, "last_edit_date": 1546241452, "question_id": 53936812, "link": "https://stackoverflow.com/questions/53936812/correct-way-for-testing-services-that-using-dbcontext", "title": "Correct way for testing services that using DBContext?", "body": "<p>I used test as below. I have one big method for initialize whole dbcontext (it is larger than pasted below, it is similar, but with more models and acces to each dbsets for MoQ Verify) something like fake db. Next I inject it to service and call method that using it. </p>\n\n<p>Is it correct way for testing services (that using dbcontext) with unit tests? And if it is not correct, what is good way for testing services like this (maybe only write test that connect to real db)?</p>\n\n<p>My Test:</p>\n\n<pre><code>[Test]\npublic void ExampleServiceTest()\n{\n    var mock = InitializeMockContext();\n\n    var service = new TagsService(mock.Object);\n    var result = service.GetTags(2);\n    var expectection = 2;\n\n    Assert.AreEqual(expectection, result.Id);\n}\n</code></pre>\n\n<p>Method that create mocked DBContext:</p>\n\n<pre><code>public Mock&lt;MyDBContext&gt; InitializeMockContext()\n{\n    var mock = new Mock&lt;MyDBContext&gt;();\n    var mockDataTags = new List&lt;Tags&gt; {\n        new Tags { Id = 1, Count = 3 },\n        new Tags { Id = 2, Count = 2} }.AsQueryable();\n    var mockSet = new Mock&lt;DbSet&lt;Tags&gt;&gt;();\n    mockSet.As&lt;IQueryable&lt;Tags&gt;&gt;().Setup(m =&gt; m.Provider).Returns(mockDataTags.Provider);\n    mockSet.As&lt;IQueryable&lt;Tags&gt;&gt;().Setup(m =&gt; m.Expression).Returns(mockDataTags.Expression);\n    mockSet.As&lt;IQueryable&lt;Tags&gt;&gt;().Setup(m =&gt; m.ElementType).Returns(mockDataTags.ElementType);\n    mockSet.As&lt;IQueryable&lt;Tags&gt;&gt;().Setup(m =&gt; m.GetEnumerator()).Returns(mockDataTags.GetEnumerator());\n    mock.Setup(x =&gt; x.Tags).Returns(mockSet.Object);\n    //I have more than just one model here\n    return mock;\n    }\n</code></pre>\n\n<p>MyService:</p>\n\n<pre><code>public class TagsService\n{\n    private readonly MyDBContext _ctx;\n    public TagsService(MyDBContext ctx)\n    {\n        _ctx = ctx;\n    }\n    public Tags GetTags(int count)\n    {\n        using (var db = _ctx)\n        {\n            return db.Tags.First(x =&gt; x.Count == count);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "json.net", "deserialization"], "comments": [{"owner": {"reputation": 43527, "user_id": 98094, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/VkdLW.jpg?s=128&g=1", "display_name": "Icemanind", "link": "https://stackoverflow.com/users/98094/icemanind"}, "edited": false, "score": 0, "creation_date": 1545855481, "post_id": 53936668, "comment_id": 94713531, "body": "Take that extra space out of <code>Area </code>. I think that is invalid JSON."}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1545856016, "post_id": 53936668, "comment_id": 94713668, "body": "Dictionaries in JSON look like a normal JSON object, because JSON objects are dictionaries. What your JSON actually looks like here is a <code>List&lt;KeyValuePair&lt;string,string&gt;&gt;</code> for the <code>ExtraInfo</code> property."}], "answers": [{"comments": [{"owner": {"reputation": 2604, "user_id": 1438112, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e906916535ed4fb0987b2891656112cc?s=128&d=identicon&r=PG", "display_name": "Ziggler", "link": "https://stackoverflow.com/users/1438112/ziggler"}, "edited": false, "score": 0, "creation_date": 1545859649, "post_id": 53936902, "comment_id": 94714655, "body": "I am trying and will let you know"}, {"owner": {"reputation": 2604, "user_id": 1438112, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e906916535ed4fb0987b2891656112cc?s=128&d=identicon&r=PG", "display_name": "Ziggler", "link": "https://stackoverflow.com/users/1438112/ziggler"}, "edited": false, "score": 0, "creation_date": 1545864527, "post_id": 53936902, "comment_id": 94715905, "body": "I am getting error.. working \u2026   Cannot implicitly convert type &#39;System.Collections.Generic.IDictionary&lt;string, string&gt;&#39; to &#39;System.Collections.Generic.KeyValuePair&lt;string, string&gt;[]&#39;"}], "tags": [], "owner": {"reputation": 13386, "user_id": 5114784, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/OcTVf.jpg?s=128&g=1", "display_name": "Gy&#246;rgy K\u0151szeg", "link": "https://stackoverflow.com/users/5114784/gy%c3%b6rgy-k%c5%91szeg"}, "is_accepted": true, "score": 4, "last_activity_date": 1545856557, "creation_date": 1545856557, "answer_id": 53936902, "question_id": 53936668, "link": "https://stackoverflow.com/questions/53936668/deserialize-object-when-property-has-idictionarystring-string/53936902#53936902", "title": "Deserialize object when property has IDictionary&lt;string, string&gt;", "body": "<p>As the error message says the incoming <code>ExtraInfo</code> should be a JSON object but in your example it is a JSON array containing objects with <code>Key</code> and <code>Value</code> properties.</p>\n\n<p>Either feed your service with the expected JSON string:</p>\n\n<pre><code>\"ExtraInfo\": {\n            \"Key1\": \"value1\",\n            \"Key2\": \"value2\"\n        }\n</code></pre>\n\n<p>Or modify your contract to an array or list so it can accept a JSON array:</p>\n\n<pre><code>[DataMember]\npublic KeyValuePair&lt;string, string&gt;[] ExtraInfo { get; set; }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 1, "creation_date": 1545858638, "post_id": 53936993, "comment_id": 94714395, "body": "Wouldn&#39;t this result in an array of dictionaries that each have two entries, one for &quot;Key&quot; and one for &quot;Value&quot;?"}, {"owner": {"reputation": 2604, "user_id": 1438112, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e906916535ed4fb0987b2891656112cc?s=128&d=identicon&r=PG", "display_name": "Ziggler", "link": "https://stackoverflow.com/users/1438112/ziggler"}, "edited": false, "score": 0, "creation_date": 1545859645, "post_id": 53936993, "comment_id": 94714653, "body": "I am trying and will let you know"}, {"owner": {"reputation": 18285, "user_id": 325521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/s8KPo.jpg?s=128&g=1", "display_name": "Shiva", "link": "https://stackoverflow.com/users/325521/shiva"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1545864596, "post_id": 53936993, "comment_id": 94715924, "body": "@JonathonChase Correct. But that&#39;s how OP&#39;s sample JSON also is. OP hasn&#39;t explicitly stated that he was to deserialize the value in <code>Key</code> key and the value in <code>Value</code> key into a single entry containing the values in the <code>Key</code> key and <code>Value</code> key respectively, if you know what I mean. In that case he&#39;d need to write a custom serializer."}], "tags": [], "owner": {"reputation": 18285, "user_id": 325521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/s8KPo.jpg?s=128&g=1", "display_name": "Shiva", "link": "https://stackoverflow.com/users/325521/shiva"}, "is_accepted": false, "score": 1, "last_activity_date": 1545864945, "last_edit_date": 1545864945, "creation_date": 1545857125, "answer_id": 53936993, "question_id": 53936668, "link": "https://stackoverflow.com/questions/53936668/deserialize-object-when-property-has-idictionarystring-string/53936993#53936993", "title": "Deserialize object when property has IDictionary&lt;string, string&gt;", "body": "<p>Your declaration of <code>ExtraInfo</code> should be an array.</p>\n\n<pre><code>public IDictionary&lt;string, string&gt;[] ExtraInfo { get; set; }\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>public IDictionary&lt;string, string&gt; ExtraInfo { get; set; }\n</code></pre>\n\n<p>EDIT</p>\n\n<p>Here's the working code. I tried putting it on dotNetFiddle, but was/am getting some errors on dotnetfiddle.com [ including <code>System.Runtime.Serialization</code> ], hence pasting the working code below.</p>\n\n<p>Note, your <code>ExtraInfo</code> will look like the following. But that's how your JSON also is. If you want to take the values from the <code>Key</code> and <code>Value</code> json keys respectively and construct a single dictionary or keyvaluepair entry, then you'd likely have to write a <a href=\"https://www.newtonsoft.com/json/help/html/CustomJsonConverter.htm\" rel=\"nofollow noreferrer\">custom Converter</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/xRpAe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xRpAe.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Runtime.Serialization;\nusing Newtonsoft.Json;\n\nnamespace SoDeserializeJson_53936668\n{\n    [System.Runtime.Serialization.DataContract]\n    public class TimestampPackageDC\n    {\n        [DataMember]\n        public string Timestamp { get; set; }\n\n        [DataMember]\n        public string Company { get; set; }\n\n        [DataMember]\n        public string ContactID { get; set; }\n\n        [DataMember]\n        public string Area { get; set; }\n\n        [DataMember]\n        public string PackageID { get; set; }\n    } // end of class TimestampPackageDC\n\n    [DataContract]\n    public class TimestampPackageExtraDC : TimestampPackageDC\n    {\n        [DataMember]\n        public IDictionary&lt;string, string&gt;[] ExtraInfo { get; set; }\n    } // end of class TimestampPackageExtraDC\n\n\n    [DataContract]\n    public class GetAllUnprintedItemsResponse //: BaseResponse\n    {\n        [DataMember]\n        public TimestampPackageDC[] TimestampPackages { get; set; }\n\n        [DataMember]\n        public TimestampPackageExtraDC[] TimestampExtraInfoPackages { get; set; }\n\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n\n            var json = @\"\n            {\n                'DocumentException': null,\n                'Success': true,\n                'TimestampExtraInfoPackages': [{\n                    'Area ': 'AA',\n                    'Company': 'XXX',\n                    'ContactID': '123',\n                    'PackageID': 'P1',\n                    'Timestamp': '20090501163433360001',\n                    'ExtraInfo': [{\n                            'Key': 'Key1',\n                            'Value': 'value1'\n                        },\n                        {\n                            'Key': 'Key2',\n                            'Value': 'value2'\n                        }\n                    ]\n                }],\n                'TimestampPackages': []\n            }\".Replace(\"'\",\"\\\"\");\n\n            GetAllUnprintedItemsResponse upResponse = new GetAllUnprintedItemsResponse();\n\n            string responseData = json;\n\n            var data = JsonConvert.DeserializeObject&lt;GetAllUnprintedItemsResponse&gt;(json);\n\n            Console.WriteLine(data.TimestampExtraInfoPackages.First().ExtraInfo.Count());\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 108943, "user_id": 10263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e51Ks.jpg?s=128&g=1", "display_name": "Brian Rogers", "link": "https://stackoverflow.com/users/10263/brian-rogers"}, "is_accepted": false, "score": 0, "last_activity_date": 1545942669, "last_edit_date": 1545942669, "creation_date": 1545873888, "answer_id": 53938809, "question_id": 53936668, "link": "https://stackoverflow.com/questions/53936668/deserialize-object-when-property-has-idictionarystring-string/53938809#53938809", "title": "Deserialize object when property has IDictionary&lt;string, string&gt;", "body": "<p>You are getting this error because your JSON has an array of key-value pair objects, whereas a dictionary is serialized as a single object.  </p>\n\n<p>One solution is to change your <code>ExtraInfo</code> property to be a <code>KeyValuePair&lt;string, string&gt;[]</code> to match the JSON (or change the JSON to match your class) as suggested by @taffer.</p>\n\n<p>However, there is another way.  You could keep your <code>ExtraInfo</code> property declared as it is and use a custom <a href=\"https://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_JsonConverter.htm\" rel=\"nofollow noreferrer\"><code>JsonConverter</code></a> to create and populate the dictionary during deserialization.  </p>\n\n<p>Here is the code you would need for the converter:</p>\n\n<pre><code>public class KvpArrayToDictionaryConverter : JsonConverter\n{\n    public override bool CanConvert(Type objectType)\n    {\n        return typeof(IDictionary&lt;string, string&gt;).IsAssignableFrom(objectType);\n    }\n\n    public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)\n    {\n        var dict = new Dictionary&lt;string, string&gt;();\n        var array = JArray.Load(reader);\n        foreach (var obj in array.Children&lt;JObject&gt;())\n        {\n            dict.Add((string)obj[\"Key\"], (string)obj[\"Value\"]);\n        }\n        return dict;\n    }\n\n    public override bool CanWrite\n    {\n        get { return false; }\n    }\n\n    public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n    {\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n\n<p>To use the converter, just add a <code>[JsonConverter]</code> attribute to your <code>ExtraInfo</code> property like this:</p>\n\n<pre><code>    [DataMember]\n    [JsonConverter(typeof(KvpArrayToDictionaryConverter))]\n    public IDictionary&lt;string, string&gt; ExtraInfo { get; set; }\n</code></pre>\n\n<p>Working demo: <a href=\"https://dotnetfiddle.net/1k7vNA\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/1k7vNA</a></p>\n\n<hr>\n\n<p>Another possible solution is to use a <a href=\"https://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_Serialization_IContractResolver.htm\" rel=\"nofollow noreferrer\"><code>ContractResolver</code></a> to change the contract of the dictionary so that Json.Net sees it as an array of key-value pair objects.  See <a href=\"https://stackoverflow.com/q/12751354/10263\">Serialize dictionary as array (of key value pairs)</a> for more info on this approach.  However if you go that route you will need to change the declaration of your <code>ExtraInfo</code> property from an <code>IDictionary</code> interface to a concrete <code>Dictionary</code>, otherwise Json.Net will give you an error about not being able to create an instance of an interface.</p>\n"}], "owner": {"reputation": 2604, "user_id": 1438112, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e906916535ed4fb0987b2891656112cc?s=128&d=identicon&r=PG", "display_name": "Ziggler", "link": "https://stackoverflow.com/users/1438112/ziggler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1219, "favorite_count": 0, "accepted_answer_id": 53936902, "answer_count": 3, "score": 2, "last_activity_date": 1545942669, "creation_date": 1545855069, "last_edit_date": 1545934334, "question_id": 53936668, "link": "https://stackoverflow.com/questions/53936668/deserialize-object-when-property-has-idictionarystring-string", "title": "Deserialize object when property has IDictionary&lt;string, string&gt;", "body": "<p>I saw this but it doesnot help me.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/45868180/deserializing-an-object-with-a-dictionarystring-object-property-newtonsoft-j\">Deserializing an object with a Dictionary&lt;string, object&gt; property (Newtonsoft.Json)</a></p>\n\n<p>I am working on WCF Restful service. I have complicated JSON.\nI have below data contracts</p>\n\n<pre><code>[DataContract]\npublic class TimestampPackageDC\n{\n    [DataMember]\n    public string Timestamp { get; set; }\n\n    [DataMember]\n    public string Company { get; set; }\n\n    [DataMember]\n    public string ContactID { get; set; }\n\n    [DataMember]\n    public string Area { get; set; }\n\n    [DataMember]\n    public string PackageID { get; set; }\n} // end of class TimestampPackageDC\n\n[DataContract]\npublic class TimestampPackageExtraDC: TimestampPackageDC\n{\n    [DataMember]\n    public IDictionary&lt;string, string&gt; ExtraInfo { get; set; }\n} // end of class TimestampPackageExtraDC\n\n\n [DataContract]\npublic class GetAllUnprintedItemsResponse: BaseResponse\n{\n    [DataMember]\n    public TimestampPackageDC[] TimestampPackages { get; set; }\n\n    [DataMember]\n    public TimestampPackageExtraDC[] TimestampExtraInfoPackages { get; set; }\n\n} \n</code></pre>\n\n<p>I am making REST service call like below</p>\n\n<pre><code>GetAllUnprintedItemsResponse upResponse = new GetAllUnprintedItemsResponse();\nRequest upRequest = new Request() { Name = \"abc\" };\nstring url = \"http://localhost:2023/myservice/getdata\";\nHttpWebRequest request = (HttpWebRequest)WebRequest.Create(url);\nrequest.Method = \"POST\";\nrequest.ContentType = \"application/json\";\nbyte[] data = Encoding.UTF8.GetBytes(Newtonsoft.Json.JsonConvert.SerializeObject(upRequest));\nrequest.ContentLength = data.Length;\nStream requestStream = request.GetRequestStream();\nrequestStream.Write(data, 0, data.Length);\nrequestStream.Close();\n\nWebResponse response = request.GetResponse();\nStream respStream = response.GetResponseStream();\nStreamReader reader = new StreamReader(respStream);\nstring responseData = reader.ReadToEnd();\n\n//getting error below\nNewtonsoft.Json.JsonConvert.PopulateObject(responseData, upResponse);\n</code></pre>\n\n<p>I am getting JSON string like below</p>\n\n<pre><code>{\n    \"DocumentException\": null,\n    \"Success\": true,\n    \"TimestampExtraInfoPackages\": [{\n        \"Area \": \"AA\",\n        \"Company\": \"XXX\",\n        \"ContactID\": \"123\",\n        \"PackageID\": \"P1\",\n        \"Timestamp\": \"20090501163433360001\",\n        \"ExtraInfo\": [{\n                \"Key\": \"Key1\",\n                \"Value\": \"value1\"\n            },\n            {\n                \"Key\": \"Key2\",\n                \"Value\": \"value2\"\n            }\n        ]\n    }],\n    \"TimestampPackages\": []\n}\n</code></pre>\n\n<p>Below is the error I am getting</p>\n\n<p><strong>Cannot deserialize the current JSON array (e.g. [1,2,3]) into type 'System.Collections.Generic.IDictionary`2[System.String,System.String]' because the type requires a JSON object (e.g. {\"name\":\"value\"}) to deserialize correctly.\nTo fix this error either change the JSON to a JSON object (e.g. {\"name\":\"value\"}) or change the deserialized type to an array or a type that implements a collection interface (e.g. ICollection, IList) \nlike List that can be deserialized from a JSON array. JsonArrayAttribute can also be added to the type to force it to deserialize from a JSON array.\nPath 'TimestampExtraInfoPackages[0].ExtraInfo', line 1, position 194.</strong></p>\n\n<p><strong>SOLUTION:</strong></p>\n\n<p>Thanks to Shiva, Brian and taffer. I used taffer advice and it worked. It looks we cannot use IDictionary.</p>\n\n<p>I used below to solve my issue.</p>\n\n<pre><code>public List&lt;KeyValuePair&lt;string, string&gt;&gt; ExtraInfo { get; set; }\n</code></pre>\n\n<p>I tried below but did not work got same error.</p>\n\n<pre><code>public IDictionary&lt;string, string&gt;[] ExtraInfo { get; set; }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core-mvc", "entity-framework-core", "bootstrap-modal"], "comments": [{"owner": {"reputation": 261, "user_id": 10075703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62359e8d9810443325a43245d6ef1653?s=128&d=identicon&r=PG&f=1", "display_name": "BHANG", "link": "https://stackoverflow.com/users/10075703/bhang"}, "edited": false, "score": 0, "creation_date": 1545902272, "post_id": 53936566, "comment_id": 94723920, "body": "Hi Xing Zou, and thanks for your comment... just included the Modal Button, the modal itself was already in the question (left out some divs for readability). Did not get any different outcome with your suggestion though"}], "owner": {"reputation": 261, "user_id": 10075703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62359e8d9810443325a43245d6ef1653?s=128&d=identicon&r=PG&f=1", "display_name": "BHANG", "link": "https://stackoverflow.com/users/10075703/bhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1545902095, "creation_date": 1545854429, "last_edit_date": 1545902095, "question_id": 53936566, "link": "https://stackoverflow.com/questions/53936566/mvc-bootstrap-modal-editform-not-all-data-displayed-correctly", "title": "MVC Bootstrap Modal EditForm not all data displayed correctly", "body": "<p>Working on a MVC Bootstrap-Modal to Edit Dogs.\nProblem is not all data is correctly displayed in the View.</p>\n\n<p>Before Refactoring I used a [httpGet] Iactionresult on the Index to return me a Edit.cshtml, containing an editform, and returning to Index.cshtml after a [httpPost] on the Edit.csthml, using a asp-route-Id to select the correct dog to edit.</p>\n\n<p>After Refactoring I'm using a BootstrapModal on the Index to Edit the Dog(s) of the currently logged in DogOwner. I got  4 fields to Edit: Name, Fertility, Description, InstagramUrl. Name and InstagramUrl are being displayed as expected, Fertility and Description not.</p>\n\n<p>Next snippet comes from Index.cstml where i use a Foreach (var item in Model.Dogs) for every dog of the currently logged in User:</p>\n\n<pre><code>     &lt;div class=\"editWrapper\"&gt;\n                            &lt;h3&gt; Edit @item.FirstName&lt;/h3&gt;\n                            &lt;form method=\"post\" asp-controller=\"DogOwner\" asp-action=\"EditDogPost\" asp-route-dogId=\"@item.Id\"&gt;\n                                &lt;div asp-validation-summary=\"ModelOnly\"&gt;&lt;/div&gt;\n                                &lt;div&gt;\n                                    &lt;label asp-for=\"@Model.EditDogViewModel.FirstName\"&gt;&lt;/label&gt;&lt;br /&gt;\n                                    &lt;input asp-for=\"@Model.EditDogViewModel.FirstName\" value=\"@item.FirstName\" style=\"width:180px;\" /&gt;&lt;br /&gt;\n                                    &lt;span asp-validation-for=\"@Model.EditDogViewModel.FirstName\"&gt;&lt;/span&gt;\n                                &lt;/div&gt;\n                                &lt;div&gt;\n                                    &lt;label asp-for=\"@Model.EditDogViewModel.DogFertility\"&gt;&lt;/label&gt;&lt;br /&gt;\n                                    &lt;select asp-for=\"@Model.EditDogViewModel.DogFertility\"  asp-items=\"Html.GetEnumSelectList(typeof(DogFace.Domain.Model.Enums.DogFertility))\" style=\"width:180px;\"&gt;\n\n                                        &lt;option value=\"@item.DogFertility\"&gt;&lt;/option&gt;\n                                    &lt;/select&gt;\n                                &lt;/div&gt;\n                                &lt;div&gt;\n                                    &lt;label asp-for=\"@Model.EditDogViewModel.Description\"&gt;&lt;/label&gt;&lt;br /&gt;\n                                    &lt;textarea asp-for=\"@Model.EditDogViewModel.Description\" style=\"width:500px;\" value=\"@item.Description\"&gt;&lt;/textarea&gt;&lt;br /&gt;\n                                    &lt;span asp-validation-for=\"@Model.EditDogViewModel.Description\"&gt;&lt;/span&gt;\n                                &lt;/div&gt;\n                                &lt;div&gt;\n                                    &lt;label asp-for=\"@Model.EditDogViewModel.InstagramUrl\"&gt;&lt;/label&gt;&lt;br /&gt;\n                                    &lt;input asp-for=\"@Model.EditDogViewModel.InstagramUrl\" value=\"@item.InstagramUrl\" style=\"width:500px;\" /&gt;&lt;br /&gt;\n                                    &lt;span asp-validation-for=\"@Model.EditDogViewModel.InstagramUrl\"&gt;&lt;/span&gt;\n                                &lt;/div&gt;\n                                &lt;br /&gt;\n                                &lt;input type=\"hidden\" asp-for=\"@Model.EditDogViewModel.Dog.Id\" value=\"@item.Id\" /&gt;\n                                &lt;input type=\"submit\" value=\"Save\" /&gt;\n                            &lt;/form&gt;\n                        &lt;/div&gt;\n</code></pre>\n\n<p>If i change the Textarea-tag for Description into Input-tag, the correct data is visible, for the FertilityDropdown, i got not clue (in the Enum: Infertile = 0, Intact = 1)</p>\n\n<p>As you can see on the screenshots, Data for Textarea Description is loaded in correctly. (value= Benny is de max!)</p>\n\n<p>snippet EditDogViewModel:</p>\n\n<pre><code>    public class EditDogViewModel\n{\n    public int DogId { get; set; }\n    [Display(Name = \"First name\")]\n    public string FirstName { get; set; }\n    [Display(Name = \"Fertility\")]\n    public DogFertility DogFertility { get; set; }       \n    [Display(Name = \"Bio\"), DataType(DataType.MultilineText)]\n    public string Description { get; set; }      \n    [Display(Name = \"Instagram\")]\n    public string InstagramUrl { get; set; }\n    public string ReturnUrl { get; set; }\n    public Domain.Model.Dog Dog { get; set; }\n\n    public EditDogViewModel()\n    {\n    }\n}\n</code></pre>\n\n<p>this is the modal button:</p>\n\n<pre><code>         &lt;h3&gt;\n                        &lt;a id=\"editDogButton\" class=\"pointer\"&gt;@item.FirstName&lt;/a&gt;\n\n                    &lt;/h3&gt;\n</code></pre>\n\n<p>Feel free to ask more codesnippets if needed, or find them at <a href=\"http://pepijncappoen.visualstudio.com/DogFace\" rel=\"nofollow noreferrer\">http://pepijncappoen.visualstudio.com/DogFace</a></p>\n\n<p>Thanks for any pointers or tips!</p>\n\n<p><a href=\"https://i.stack.imgur.com/6pjiV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6pjiV.png\" alt=\"DogProfile plus EditModal\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/5MElT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5MElT.png\" alt=\"Browser-debug\"></a></p>\n"}, {"tags": ["c#", "entity-framework", "model-view-controller"], "comments": [{"owner": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "edited": false, "score": 0, "creation_date": 1545877278, "post_id": 53936487, "comment_id": 94717849, "body": "In which line the exception thrown? Probably you should have null checking before passing populated <code>SelectList</code> to view. Also avoid using <code>ViewBag</code> property name with same viewmodel property name bound to <code>DropDownList</code>."}, {"owner": {"reputation": 27, "user_id": 9360176, "user_type": "registered", "profile_image": "https://graph.facebook.com/1962956020400610/picture?type=large", "display_name": "Zextro", "link": "https://stackoverflow.com/users/9360176/zextro"}, "reply_to_user": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "edited": false, "score": 0, "creation_date": 1546503801, "post_id": 53936487, "comment_id": 94873439, "body": "Actually I got it running with view data property"}], "owner": {"reputation": 27, "user_id": 9360176, "user_type": "registered", "profile_image": "https://graph.facebook.com/1962956020400610/picture?type=large", "display_name": "Zextro", "link": "https://stackoverflow.com/users/9360176/zextro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545853842, "creation_date": 1545853842, "question_id": 53936487, "link": "https://stackoverflow.com/questions/53936487/how-to-set-property-value-from-selectlist-in-controller", "title": "How to set property value from SelectList in controller", "body": "<p>I am trying to set a value of a property, which is located in model of my project.\nWhat I want is to select a value in a dropdown list and when i hit create, it sets the selected value to the value of the property, this will obviously take place in the \"create\" action of the respective controller. The problem is that I am unable to use \".SelectedValue\" with the selectlist and set it as the property of the model.</p>\n\n<p>There are two \"create\" action methods, one parameterized, the other un-parameterized.The former one saves the data to the table and the latter one gets the values. I created an integer list in unparameterized method and tried to put it in ViewBag (which works fine). When I run the code, the view works and the dropdown list is populated by the list items. But after I have entered the necessary details, I hit enter and despite I have set the property of the model to the SelectedValue of the dropdown list, It stays NULL. </p>\n\n<p><strong>MODEL:</strong></p>\n\n<pre><code>namespace Test.Models\n{\nusing System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\npublic partial class LabAsign\n{\n    [Display(Name = \"ID\")]\n    public int LbAs_id { get; set; }\n    [Display(Name = \"Organization ID\")]\n    public Nullable&lt;int&gt; LbAs_orgId { get; set; }\n    [Display(Name = \"Labor ID\")]\n    public Nullable&lt;int&gt; LbAs_LabId { get; set; }\n}\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>    public static int LabId\n    public ActionResult Create()\n    {\n        ViewBag.LbAs_CmplntId = new SelectList(db.Complaints, \"Cmplnt_Id\");  \n\n\n\n        var list = new List&lt;int&gt;();\n        foreach (var item in db.Labors)\n        {\n            string c = item.Lab_OrgId.ToString();\n\n            if (c == HomeController.c_orgid.ToString())\n            {\n                list.Add(item.Lab_id);\n            }\n        }            \n        var selectList = new SelectList(list);\n        Session[\"labid\"] = list;\n        ViewBag.LbAsLabId = selectList;\n\n        //ViewBag.LbAs_LabId = new SelectList(db.Labors, \"Lab_id\", \n    \"Lab_name\");\n        ViewBag.LbAs_orgId = new SelectList(db.Organizations, \"org_id\", \n    \"org_name\");\n        return View();\n    }\n\n    [HttpPost]\n    [ValidateAntiForgeryToken]\n    public ActionResult Create([Bind(Include = \n\"LbAs_id,LbAs_orgId,LbAs_LabId,LbAs_date,LbAs_CmplntId,LbAs_complStatus\")] \nLabAsign labAsign)\n    {\n        if (ModelState.IsValid)\n        {\n            var selectList = new \nSelectList((System.Collections.IEnumerable)Session[\"labid\"]);\n            LabId = (int)selectList.SelectedValue;\n            labAsign.LbAs_LabId = LabId;\n            db.LabAsigns.Add(labAsign);\n            db.SaveChanges();\n            return RedirectToAction(\"IndexLbAsOrg\");\n        }\n\n        ViewBag.LbAs_CmplntId = new SelectList(db.Complaints, \n\"Cmplnt_Id\",\"complnt_content\", labAsign.LbAs_CmplntId);\n        ViewBag.LbAs_LabId = new SelectList(db.Labors, \"Lab_id\", \n\"Lab_name\", labAsign.LbAs_LabId);\n        ViewBag.LbAs_orgId = new SelectList(db.Organizations, \"org_id\", \n\"org_name\", labAsign.LbAs_orgId);\n        return View(labAsign);\n    }\n</code></pre>\n\n<p><strong>VIEW :</strong></p>\n\n<pre><code>    @model Test.Models.LabAsign\n\n    @{\n        ViewBag.Title = \"Create\";\n        Layout = \"~/Views/Shared/_Layout.cshtml\";\n    }\n\n    &lt;h2&gt;Create&lt;/h2&gt;\n\n\n    @using (Html.BeginForm()) \n    {\n        @Html.AntiForgeryToken()\n\n        &lt;div class=\"form-horizontal\"&gt;\n            &lt;h4&gt;LabAsign&lt;/h4&gt;\n            &lt;hr /&gt;\n            @Html.ValidationSummary(true, \"\", new { @class = \"text-danger\" \n})\n\n            &lt;div class=\"form-group\"&gt;\n                @Html.LabelFor(model =&gt; model.LbAs_orgId, \"Organization \nID\", htmlAttributes: new { @class = \"control-label col-md-2\"@*, @style = \n\"display:none;\"*@ })\n                &lt;div class=\"col-md-10\"&gt;\n                    @Html.EditorFor(model =&gt; model.LbAs_orgId, new { \nhtmlAttributes = new { @class = \"form-control\"@*, @style = \n\"display:none;\"*@, \n@Value = Session[\"UserId\"]} })\n                    @Html.ValidationMessageFor(model =&gt; model.LbAs_orgId, \n\"\", new { @class = \"text-danger\" })\n                &lt;/div&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"form-group\"&gt;\n                @Html.LabelFor(model =&gt; model.LbAs_LabId, \"LbAs_LabId\", \nhtmlAttributes: new { @class = \"control-label col-md-2\" })\n                &lt;div class=\"col-md-10\"&gt;\n                    @Html.DropDownList(\"LbAsLabId\", null, htmlAttributes: \nnew { @class = \"form-control\" })\n                    @Html.ValidationMessageFor(model =&gt; model.LbAs_LabId, \n\"\", new { @class = \"text-danger\" })\n                &lt;/div&gt;\n            &lt;/div&gt;\n</code></pre>\n\n<p>As you can see, I am using Sessions to transport the list from one create method to the other, declare a new selectlist and use SelectedValue from the selectlist to update the property but this throws this exception:</p>\n\n<pre><code>    System.NullReferenceException: Object reference not set to an instance \n    of an object.\n</code></pre>\n\n<p>When I try to directly set the value of the dropdown list by setting the value of the view as: </p>\n\n<pre><code>    @Html.DropDownList(\"LbAsLabId\", null, htmlAttributes: new { @class = \n    \"form-control\", @Value = Session[\"labid\"] })\n</code></pre>\n\n<p>the property value is set to NULL but no exceptions are thrown</p>\n"}, {"tags": ["c#", "data-binding", "xamarin.android", "multipage"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9660518, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-moC_kzUnOVY/AAAAAAAAAAI/AAAAAAAAAD8/jpwjZqfqb_w/photo.jpg?sz=128", "display_name": "Abadi Al-Otibe", "link": "https://stackoverflow.com/users/9660518/abadi-al-otibe"}, "edited": false, "score": 0, "creation_date": 1545906987, "post_id": 53936619, "comment_id": 94725830, "body": "can you bring me an open source app or link of a tutorial, also can i use for loop to get item position to make intent"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10751459"}, "is_accepted": false, "score": 0, "last_activity_date": 1545854748, "creation_date": 1545854748, "answer_id": 53936619, "question_id": 53936332, "link": "https://stackoverflow.com/questions/53936332/how-i-handle-multi-page-app-with-data-binding/53936619#53936619", "title": "how i handle multi page app with data binding", "body": "<p>Let me see if I understand you correctly you want to have a list of pages that are stored in one master list. Then inside of the MainWindow display the master data list to select from using a switch then open another selection to make a new switch selection?</p>\n\n<p>Sounds like its a basic information page which isn't to complicated... </p>\n\n<p>there is a few ways to do what you want... but i would say the easiest is setup a basic design then use code behind to fill in the data and then only point to data and fill out the template..</p>\n\n<pre><code>        textboxName.Text = \"information you want to fill in the area\";\n        textboxName.Height = 30;\n        textboxName.Width = Double.NaN;\n        textboxName.Name = \"TextBoxName\";\n        textboxName.Background = Brushes.LightSkyBlue;\n</code></pre>\n\n<p>then instead of creating pages just pull data and load it into a basic structure from a list.</p>\n\n<p>I hope that helps you should only have to build one page then.. load into different data</p>\n\n<p>let me know if this works out for you..</p>\n"}], "owner": {"reputation": 11, "user_id": 9660518, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-moC_kzUnOVY/AAAAAAAAAAI/AAAAAAAAAD8/jpwjZqfqb_w/photo.jpg?sz=128", "display_name": "Abadi Al-Otibe", "link": "https://stackoverflow.com/users/9660518/abadi-al-otibe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545854748, "creation_date": 1545852751, "question_id": 53936332, "link": "https://stackoverflow.com/questions/53936332/how-i-handle-multi-page-app-with-data-binding", "title": "how i handle multi page app with data binding", "body": "<p>I am still a beginner in xamarin coding I try to build multi-page information app. i will use gridview for the first page contain title then second page its contain subtitle for each title in first page I try to use switch case with intent but it will make me build a lot of pages.cs and that is not effective for me. can anyone help me to find out more effective way or open source information app to understand how I build my app? I put my data in class like below</p>\n\n<p><code>\n    class DataClass\n    {\n        public List mainpagelist()\n        {\n            List maingageinfo = new List();\n            maingageinfo.Add(new MasterData(\"A\"));\n            maingageinfo.Add(new MasterData(\"B\"));\n            maingageinfo.Add(new MasterData(\"C\"));\n            maingageinfo.Add(new MasterData(\"D\"));\n            maingageinfo.Add(new MasterData(\"E\"));\n            maingageinfo.Add(new MasterData(\"F\"));</p>\n\n<pre>        return (maingageinfo);\n    }\n\n    public List&lt;MasterData&gt; A_Pages()\n    {\n        List&lt;MasterData&gt; A_Pagesinfo = new List&lt;MasterData&gt;();\n        A_Pagesinfo.Add(new MasterData(\"A1\"));\n        A_Pagesinfo.Add(new MasterData(\"A2\"));\n        A_Pagesinfo.Add(new MasterData(\"A3\"));\n        A_Pagesinfo.Add(new MasterData(\"A4\"));\n        A_Pagesinfo.Add(new MasterData(\"A5\"));\n        A_Pagesinfo.Add(new MasterData(\"A6\"));\n\n        return (A_Pagesinfo);\n    }\n\n    public List&lt;MasterData&gt; B_Pages()\n    {\n        List&lt;MasterData&gt; B_Pagesinfo = new List&lt;MasterData&gt;();\n        B_Pagesinfo.Add(new MasterData(\"B1\"));\n        B_Pagesinfo.Add(new MasterData(\"B2\"));\n        B_Pagesinfo.Add(new MasterData(\"B3\"));\n        B_Pagesinfo.Add(new MasterData(\"B4\"));\n        B_Pagesinfo.Add(new MasterData(\"B5\"));\n        B_Pagesinfo.Add(new MasterData(\"B6\"));\n\n        return (B_Pagesinfo);\n    }\n\n    public List&lt;MasterData&gt; C_Pages()\n    {\n        List&lt;MasterData&gt; C_Pagesinfo = new List&lt;MasterData&gt;();\n        C_Pagesinfo.Add(new MasterData(\"C1\"));\n        C_Pagesinfo.Add(new MasterData(\"C2\"));\n        C_Pagesinfo.Add(new MasterData(\"C3\"));\n        C_Pagesinfo.Add(new MasterData(\"C4\"));\n        C_Pagesinfo.Add(new MasterData(\"C5\"));\n        C_Pagesinfo.Add(new MasterData(\"C6\"));\n\n        return (C_Pagesinfo);\n    }\n}&lt;/code&gt;\n</code></pre>\n"}, {"tags": ["c#", "xamarin.forms", "xamarin.android", "broadcastreceiver"], "answers": [{"comments": [{"owner": {"reputation": 86, "user_id": 8665143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d5d4931f8584ae0d49a84347aaad3b9?s=128&d=identicon&r=PG&f=1", "display_name": "it-person", "link": "https://stackoverflow.com/users/8665143/it-person"}, "edited": false, "score": 0, "creation_date": 1545925955, "post_id": 53940322, "comment_id": 94733582, "body": "Thank you for your response. It\u2019s useful. Furthermore I\u2019m looking for an example, how I can run this in background when the app is closed (service)"}, {"owner": {"reputation": 787, "user_id": 9315209, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zffhaPIC5P0/AAAAAAAAAAI/AAAAAAAAAJg/nQqilWUoR_Q/photo.jpg?sz=128", "display_name": "Ronak Shethia", "link": "https://stackoverflow.com/users/9315209/ronak-shethia"}, "reply_to_user": {"reputation": 86, "user_id": 8665143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d5d4931f8584ae0d49a84347aaad3b9?s=128&d=identicon&r=PG&f=1", "display_name": "it-person", "link": "https://stackoverflow.com/users/8665143/it-person"}, "edited": false, "score": 0, "creation_date": 1545939678, "post_id": 53940322, "comment_id": 94738667, "body": "You need to put down some code which u have tried, read the stackoverflow guidelines to write the proper question"}, {"owner": {"reputation": 86, "user_id": 8665143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d5d4931f8584ae0d49a84347aaad3b9?s=128&d=identicon&r=PG&f=1", "display_name": "it-person", "link": "https://stackoverflow.com/users/8665143/it-person"}, "edited": false, "score": 0, "creation_date": 1545943880, "post_id": 53940322, "comment_id": 94739976, "body": "Thanks for your tip. I added it."}, {"owner": {"reputation": 787, "user_id": 9315209, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zffhaPIC5P0/AAAAAAAAAAI/AAAAAAAAAJg/nQqilWUoR_Q/photo.jpg?sz=128", "display_name": "Ronak Shethia", "link": "https://stackoverflow.com/users/9315209/ronak-shethia"}, "reply_to_user": {"reputation": 86, "user_id": 8665143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d5d4931f8584ae0d49a84347aaad3b9?s=128&d=identicon&r=PG&f=1", "display_name": "it-person", "link": "https://stackoverflow.com/users/8665143/it-person"}, "edited": false, "score": 0, "creation_date": 1545970460, "post_id": 53940322, "comment_id": 94745509, "body": "Dude this is a copy paste code from a reference, paste the code which u tried to achieve your requirement, read the guidelines"}, {"owner": {"reputation": 86, "user_id": 8665143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d5d4931f8584ae0d49a84347aaad3b9?s=128&d=identicon&r=PG&f=1", "display_name": "it-person", "link": "https://stackoverflow.com/users/8665143/it-person"}, "edited": false, "score": 0, "creation_date": 1546036646, "post_id": 53940322, "comment_id": 94767908, "body": "Like I wrote; I changed the code (of someone else) to solve my program (I added two lines to test if it works &gt; it\u2019s not working &gt; I asked this question)"}], "tags": [], "owner": {"reputation": 787, "user_id": 9315209, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zffhaPIC5P0/AAAAAAAAAAI/AAAAAAAAAJg/nQqilWUoR_Q/photo.jpg?sz=128", "display_name": "Ronak Shethia", "link": "https://stackoverflow.com/users/9315209/ronak-shethia"}, "is_accepted": false, "score": 3, "last_activity_date": 1545889872, "creation_date": 1545889872, "answer_id": 53940322, "question_id": 53936302, "link": "https://stackoverflow.com/questions/53936302/xamarin-forms-service-checking-incoming-sms/53940322#53940322", "title": "Xamarin Forms Service checking incoming sms", "body": "<p>create this class in native android    </p>\n\n<pre><code> namespace MAMN.Droid.Native\n{\n[BroadcastReceiver]\n[IntentFilter(new string[] { \"android.provider.Telephony.SMS_RECEIVED\" }, Priority = \nInt32.MaxValue)]\n\n\npublic class MessageBoard : BroadcastReceiver\n{\n    SmsMessage[] messages;\n    public static readonly string INTENT_ACTION = \"android.provider.Telephony.SMS_RECEIVED\";\n    public override void OnReceive(Context context, Intent intent)\n    {\n        try\n        {\n            if (intent.Action != INTENT_ACTION) return;\n            messages = Telephony.Sms.Intents.GetMessagesFromIntent(intent);          \n            ManageSMS();\n        }\n        catch (Exception) { }\n    }\n\n\n    public void ManageSMS()\n    {\n        var dd = messages[0].DisplayMessageBody.ToString();\n\n       string msg = new String(dd.Where(Char.IsDigit).ToArray());\n\n        //this is the message center i have subscribe to get the message text in my pc\n        MessagingCenter.Send&lt;object, string&gt;(this, \"OTP\", msg);\n    }\n\n\n   }\n }\n</code></pre>\n\n<p>then in main activity </p>\n\n<pre><code>       MessageBoard SMSReceiver = new MessageBoard();\n\n\n        var smsFilter = new\n        IntentFilter(\"android.provider.Telephony.SMS_RECEIVED\")\n        {\n            Priority =\n        (int)IntentFilterPriority.HighPriority\n        };\n        RegisterReceiver(SMSReceiver, smsFilter);\n</code></pre>\n\n<p>also give the permission in manifest \nhope it helps you</p>\n"}], "owner": {"reputation": 86, "user_id": 8665143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d5d4931f8584ae0d49a84347aaad3b9?s=128&d=identicon&r=PG&f=1", "display_name": "it-person", "link": "https://stackoverflow.com/users/8665143/it-person"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1616000076, "creation_date": 1545852526, "last_edit_date": 1616000076, "question_id": 53936302, "link": "https://stackoverflow.com/questions/53936302/xamarin-forms-service-checking-incoming-sms", "title": "Xamarin Forms Service checking incoming sms", "body": "<p>I'd like to create a service to &quot;start&quot; an SMSReceived Broadcastreceiver?\nHow can I do this in Xamarin Forms (especially Android)?</p>\n<p>I changed the following code to solve my question.\nIt's native Android code.<br />\nI call this class with DependendyServices in the &quot;Main Activity&quot; of the main project.</p>\n<p>The Broadcastreceiver which created by the method &quot;CheckForIncommingSMS&quot; of &quot;SMSHelper&quot; works fine (it's also called when the app is running).</p>\n<pre><code>using Android.App;\nusing Android.Content;\nusing Android.OS;\nusing Android.Util;\nusing System;\n\n[assembly: Xamarin.Forms.Dependency(typeof(NAMESPACE.BackgroundServiceHelper))]\nnamespace NAMESPACE\n{\n    [Service(Name = &quot;APPNAME.BackgroundService&quot;)]\n    class BackgroundServiceHelper : Service, IBackgroundServiceHelper\n    {\n\n        static readonly string TAG = typeof(BackgroundServiceHelper).FullName;\n        static readonly int DELAY_BETWEEN_LOG_MESSAGES = 5000; // milliseconds\n\n        DateTime timestamper;\n        bool isStarted;\n        Handler handler;\n        Action runnable;\n\n        public override void OnCreate()\n        {\n            base.OnCreate();\n            Log.Info(TAG, &quot;OnCreate: the service is initializing.&quot;);\n\n            timestamper = new DateTime();\n            handler = new Handler();\n\n            runnable = new Action(() =&gt;\n            {\n                if (timestamper != null)\n                {\n                    Log.Debug(TAG, DateTime.UtcNow.ToLongDateString());\n                    \n                    \n                    SMSHelper smsh = new SMSHelper();\n                    \n                    // Method wich registers the SMSReceived BrodcastReceiver\n                    smsh.CheckForIncommingSMS();\n                                \n                    handler.PostDelayed(runnable, DELAY_BETWEEN_LOG_MESSAGES);\n                }\n            });\n        }\n\n        public override StartCommandResult OnStartCommand(Intent intent, StartCommandFlags flags, int startId)\n        {\n            if (isStarted)\n            {\n                Log.Info(TAG, &quot;OnStartCommand: This service has already been started.&quot;);\n            }\n            else\n            {\n                Log.Info(TAG, &quot;OnStartCommand: The service is starting.&quot;);\n                DispatchNotificationThatServiceIsRunning();\n                handler.PostDelayed(runnable, DELAY_BETWEEN_LOG_MESSAGES);\n                isStarted = true;\n            }\n\n            // This tells Android not to restart the service if it is killed to reclaim resources.\n            return StartCommandResult.NotSticky;\n        }\n\n\n        public override IBinder OnBind(Intent intent)\n        {\n            // Return null because this is a pure started service. A hybrid service would return a binder that would\n            return null;\n        }\n\n\n        public override void OnDestroy()\n        {\n            // We need to shut things down.\n            Log.Info(TAG, &quot;OnDestroy: The started service is shutting down.&quot;);\n\n            // Stop the handler.\n            handler.RemoveCallbacks(runnable);\n\n            //timestamper = null;\n            isStarted = false;\n            base.OnDestroy();\n        }\n\n        void DispatchNotificationThatServiceIsRunning()\n        {\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "android", "unity3d", "texture2d", "orthographic"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10836002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bo7ax.jpg?s=128&g=1", "display_name": "Leidenfrosty", "link": "https://stackoverflow.com/users/10836002/leidenfrosty"}, "edited": false, "score": 1, "creation_date": 1545854574, "post_id": 53936510, "comment_id": 94713261, "body": "Oh good Lord! Thank you so much, @Ruzihm! I had the updateMipmaps parameter on my texture2D.Apply set to false! I don&#39;t even know what it did, so I have no I idea why I did that! Thank you also for making my first question a pleasant experience! :)"}], "tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": true, "score": 1, "last_activity_date": 1545854625, "last_edit_date": 1545854625, "creation_date": 1545853998, "answer_id": 53936510, "question_id": 53936288, "link": "https://stackoverflow.com/questions/53936288/how-can-i-show-my-setpixels-texture-changes-without-having-to-zoom-my-orthogra/53936510#53936510", "title": "How can I show my SetPixels() texture changes without having to zoom my orthographic camera?", "body": "<p>You are only setting the pixels for a specific mipmap value (level 0 by default), but you need to extend the changes to the mipmap level that the camera is currently viewing. </p>\n\n<p>You can do this by calling <code>Texture2D.Apply()</code> with <code>updateMipMaps</code> set to <code>true</code> (which is the default) after you set the pixels for the mipmap level 0 (which is probably what you are already doing).</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 10836002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bo7ax.jpg?s=128&g=1", "display_name": "Leidenfrosty", "link": "https://stackoverflow.com/users/10836002/leidenfrosty"}, "edited": false, "score": 0, "creation_date": 1545854782, "post_id": 53936554, "comment_id": 94713323, "body": "Thank you, @mmlr! @Ruzhim came to the same conclusion on my mistake and the solution, but thank you as well for elaborating on it! :)"}], "tags": [], "owner": {"reputation": 1470, "user_id": 9067523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2afb70cfb93a16e7caa620799704eb?s=128&d=identicon&r=PG&f=1", "display_name": "mmlr", "link": "https://stackoverflow.com/users/9067523/mmlr"}, "is_accepted": false, "score": 1, "last_activity_date": 1545854708, "last_edit_date": 1545854708, "creation_date": 1545854349, "answer_id": 53936554, "question_id": 53936288, "link": "https://stackoverflow.com/questions/53936288/how-can-i-show-my-setpixels-texture-changes-without-having-to-zoom-my-orthogra/53936554#53936554", "title": "How can I show my SetPixels() texture changes without having to zoom my orthographic camera?", "body": "<p>You did not provide any code, so it is hard to tell what is really going on. From the description alone it sounds like a problem with mipmaps that weren't updated. Mipmaps are used to provide different resolutions of the same image so an appropriately sized version can be used depending on the size the texture is actually rendered at.</p>\n\n<p>When using <a href=\"https://docs.unity3d.com/ScriptReference/Texture2D.SetPixels.html\" rel=\"nofollow noreferrer\"><code>Texture2D.SetPixels()</code></a> you always modify one specific mipmap level, i.e. one specifically sized version of the image. By default this is level 0, the base mipmap level, which holds the full size version.</p>\n\n<p>From the description it sounds like after modifying the base mipmap level, you called <a href=\"https://docs.unity3d.com/ScriptReference/Texture2D.Apply.html\" rel=\"nofollow noreferrer\"><code>Texture2D.Apply()</code></a> with the <code>updateMipmaps</code> argument set to <code>false</code>, as the example shown in Texture2D.SetPixels() does. This prevents updating the other mipmap levels of the texture so only the full sized version has the changes and none of the others. When the texture is now rendered at a smaller scale (i.e. by its current zoom level, by zooming out or scaling down) the change does not show up, as the corresponding smaller mipmap was never updated.</p>\n\n<p>The documentation in <a href=\"https://docs.unity3d.com/ScriptReference/Texture2D.Apply.html\" rel=\"nofollow noreferrer\"><code>Texture2D.Apply()</code></a> is a bit misleading:</p>\n\n<blockquote>\n  <p>If <code>updateMipmaps</code> is true, the mipmap levels are recalculated as well, using the base level as a source. Usually you want to use true in all cases except when you've modified the mip levels yourself using <code>SetPixels</code>.</p>\n</blockquote>\n\n<p>It implies that you don't want <code>updateMipmaps</code> in case you used <code>SetPixels</code>, but it really only means that in the sense that you don't want it if you modified all the individual mipmap levels using <code>SetPixels</code> (as the example in <code>SetPixels</code> does). If you only modified the base level, then you really do want to use <code>updateMipmaps = true</code> so that the other mipmap levels are updated automatically from the modified base.</p>\n"}], "owner": {"reputation": 13, "user_id": 10836002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bo7ax.jpg?s=128&g=1", "display_name": "Leidenfrosty", "link": "https://stackoverflow.com/users/10836002/leidenfrosty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "accepted_answer_id": 53936510, "answer_count": 2, "score": 1, "last_activity_date": 1545854708, "creation_date": 1545852466, "last_edit_date": 1545853785, "question_id": 53936288, "link": "https://stackoverflow.com/questions/53936288/how-can-i-show-my-setpixels-texture-changes-without-having-to-zoom-my-orthogra", "title": "How can I show my SetPixels() texture changes without having to zoom my orthographic camera?", "body": "<p>This is my first question here! I hope you'll bear with me. :)</p>\n\n<p>I'm working on flood fills on Unity, and while I'm already able to fill shapes on my Texture2D, I can only see the changes when I zoom in with my orthographic camera. When I zoom out, it goes back to looking like the original image. What is also weird is that this happens in both my editor and my game scene, as well as when I build it on Android.</p>\n\n<p>What could possibly be causing this? What can I do to prevent this? Am I missing something?</p>\n\n<p>I've tried using images of different sizes, but it still behaves the same way.</p>\n\n<p>This is what it looks like after filling a shape using <code>SetPixels()</code> when zoomed in. The red circle is originally white. Notice that the editor is not showing the change. The image's size is 1920x1080:</p>\n\n<p><img src=\"https://i.stack.imgur.com/cz99w.png\" alt=\"\"></p>\n\n<p>This is how it then looks like when you zoom out a bit. The game scene now doesn't show the change as well. I've also included the properties of the texture in the screenshot:</p>\n\n<p><img src=\"https://i.stack.imgur.com/e7KY0.png\" alt=\"\"></p>\n\n<p>I also observed that it might not even be about the camera zoom, as the changed pixels also appear if I scale up the image in the inspector even if I don't zoom in as much:</p>\n\n<p><img src=\"https://i.stack.imgur.com/UAQqn.png\" alt=\"\"></p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "edited": false, "score": 0, "creation_date": 1545852542, "post_id": 53936234, "comment_id": 94712702, "body": "Take a look on Entity Framework. It is the library and framework you are looking for."}, {"owner": {"reputation": 732, "user_id": 6004676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4G933.png?s=128&g=1", "display_name": "Maciej S.", "link": "https://stackoverflow.com/users/6004676/maciej-s"}, "reply_to_user": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "edited": false, "score": 0, "creation_date": 1545853013, "post_id": 53936234, "comment_id": 94712807, "body": "i don&#39;t know how advanced are you, but @ZorgoZ solution is good aproach if you&#39;re looking for ORM. Entity Framework or NHibernate could help. if you are beginner you should fill <code>Dataset</code> object with stored procedure results and then create a <code>Dictionary</code> object - not <code>List</code>, where <code>Key</code> is category and <code>Item</code> is your item."}], "answers": [{"comments": [{"owner": {"reputation": 571, "user_id": 10463112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c1dd11ace2db311a7cf8a80ec59dc0?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/10463112/jonathan"}, "edited": false, "score": 0, "creation_date": 1545853502, "post_id": 53936420, "comment_id": 94712932, "body": "I just installed Entity Framework in my project. How should be solution using it?, I have datatable , now how can I do a List with Entity Framework with this datatable?"}, {"owner": {"reputation": 869, "user_id": 1024044, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7bo1J.jpg?s=128&g=1", "display_name": "Sgedda", "link": "https://stackoverflow.com/users/1024044/sgedda"}, "reply_to_user": {"reputation": 571, "user_id": 10463112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c1dd11ace2db311a7cf8a80ec59dc0?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/10463112/jonathan"}, "edited": false, "score": 0, "creation_date": 1545854301, "post_id": 53936420, "comment_id": 94713178, "body": "See my example above for EF it doesnt cover it all but in principle. Do you need a datatable? Maybe its more simple for you to get started with Dapper since you dont have to configure it..."}], "tags": [], "owner": {"reputation": 869, "user_id": 1024044, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7bo1J.jpg?s=128&g=1", "display_name": "Sgedda", "link": "https://stackoverflow.com/users/1024044/sgedda"}, "is_accepted": false, "score": 1, "last_activity_date": 1545856403, "last_edit_date": 1545856403, "creation_date": 1545853371, "answer_id": 53936420, "question_id": 53936234, "link": "https://stackoverflow.com/questions/53936234/convert-relationed-data-to-list/53936420#53936420", "title": "Convert relationed data to list", "body": "<p>If you dont want to use entity framework for whatever reason. You could use something more lightweight and easier to get started with library such as Dapper. Then you can map it quite easily like below:</p>\n\n<pre><code>var productWithCategories = \n       conn.Query&lt;Product, Category&gt;(@\"\n            SELECT p.*, c.*\n            FROM Product p\n            INNER JOIN Category c ON c.Id = p.CategoryId                    \n            \", (product, category) =&gt; {\n                 category.Products = category.Products ?? new List&lt;Product&gt;();\n                 category.Products.Add(product); \n                 return category;\n             }).AsQueryable();\n</code></pre>\n\n<p>With Entity Framework something like this:</p>\n\n<pre><code>public class Product\n{\n   ...\n   public List&lt;Category&gt; Categories {get;set;}\n}\npublic class Category\n{\n   ...\n   public int ProductId {get;set;}\n   public Product Product {get;set;}\n}\npublic class MyDataContext\n{\n    public DbSet&lt;Product&gt; Products { get; set; }\n    public DbSet&lt;Category&gt; Categories { get; set; }\n}\nusing (MyDataContext db = new MyDataContext())\n{\n    var categories = (from p in db.Products\n                  join c in db.Categories\n                  on p.CategoryId equals c.Id\n                  select c).ToList();\n     string productName = categories.First().Product.Name;\n\n}\n</code></pre>\n"}], "owner": {"reputation": 571, "user_id": 10463112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c1dd11ace2db311a7cf8a80ec59dc0?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/10463112/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545856403, "creation_date": 1545851998, "question_id": 53936234, "link": "https://stackoverflow.com/questions/53936234/convert-relationed-data-to-list", "title": "Convert relationed data to list", "body": "<p>I'm currently working in windows forms c# application with SQL managment studio and I  have two tables </p>\n\n<pre><code>+-------------------------------+\n|           Category            |\n+-------------------------------+\n| CategoryId (UNIQUEIDENTIFIER) |\n| Name (VARCHAR(255))           |\n| CreatedBy(VARCHAR(255))       |\n| CreationDate(DATETIME)        |\n+-------------------------------+\n\n\n+-----------------------------+\n|           Product           |\n+-----------------------------+\n| ProductId(UNIQUEIDENTIFIER) |\n| CategoryId (FK)             |\n| Name(VARCHAR(255))          |\n| CreatedBy(VARCHAR(255))     |\n| CreationDate(DATETIME)      |\n| IsDeleted(BIT)              |\n+-----------------------------+\n</code></pre>\n\n<p>In c# I get data from datatable as:</p>\n\n<pre><code>var data = db.GetTableBySQL(\"usp_RedMarks_Get\");\n</code></pre>\n\n<p>I want to convert this datatable into a list to get list of products in each  categories, something like this:</p>\n\n<pre><code>  private List&lt;Category&gt; GetData()\n        {\n            // Simulate a database...\n            Category c1 = new Category(\"Fruit\", new List&lt;string&gt;() { \"Banana\", \"Apple\" });\n            Category c2 = new Category(\"Vegetables\", new List&lt;string&gt;() { \"Avocado\", \"Tomato\" });\n            Category c3 = new Category(\"Programming Languages\", new List&lt;string&gt;() { \"C#\", \"Visual Basic\" });\n            Category c4 = new Category(\"Stars\", new List&lt;string&gt;() { \"Venus\", \"Mars\" });\n\n            List&lt;Category&gt; result = new List&lt;Category&gt;();\n            result.Add(c1);\n            result.Add(c2);\n            result.Add(c3);\n            result.Add(c4);\n\n            return result;\n        }\n    }\n\nclass Category\n    {\n        public string Name;\n        public List&lt;string&gt; Items;\n        public Category(string name,List&lt;string&gt; items)\n        {\n            this.Name = name;\n            this.Items = items;\n        }\n    }\n</code></pre>\n\n<p>Stored Procedure:</p>\n\n<pre><code>SELECT C.Name AS 'categoryName', P.Name AS 'productName'\nFROM Category AS C\nINNER JOIN Product AS P ON C.CategoryId = P.CategoryId\nORDER BY C.Name\n</code></pre>\n\n<p>How can I achieve that? Regards</p>\n"}, {"tags": ["c#", "readline"], "comments": [{"owner": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "edited": false, "score": 0, "creation_date": 1545851780, "post_id": 53936190, "comment_id": 94712476, "body": "Why don&#39;t you read the entire file and save all the lines in a <code>List&lt;string&gt;</code> then only use that for each line."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1545852175, "post_id": 53936190, "comment_id": 94712602, "body": "We don&#39;t like pictures of code here.  Always post it as text.  Not to be too critical here, but you have managed to post an amazing amount of problematic code in a short amount of lines.  Start with a tutorial."}, {"owner": {"reputation": 88, "user_id": 10836333, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anthony", "link": "https://stackoverflow.com/users/10836333/anthony"}, "reply_to_user": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "edited": false, "score": 0, "creation_date": 1545852203, "post_id": 53936190, "comment_id": 94712612, "body": "@Jimenemex But even though I read the entire file, whenever I call the first method, I have to read the text file again. Right?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1545852371, "post_id": 53936190, "comment_id": 94712660, "body": "In the future, please refrain from posting <b>images</b> of code.  Post code as <i>text</i>"}, {"owner": {"reputation": 3969, "user_id": 1223642, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d2d43bd4183d47188a5176eac995bd1b?s=128&d=identicon&r=PG", "display_name": "Mike Guthrie", "link": "https://stackoverflow.com/users/1223642/mike-guthrie"}, "edited": false, "score": 0, "creation_date": 1545853024, "post_id": 53936190, "comment_id": 94712812, "body": "I think you need to fix your process before addressing your code.  Why must <code>readLine</code> read the file each time?  <code>readLine</code> isn&#39;t given a filename, so I assume it&#39;s some static file which you could just read and store once.  What is the consumer <code>useList</code> going to be doing with the results of <code>readLine</code>?  What is your logic here actually trying to do?"}, {"owner": {"reputation": 88, "user_id": 10836333, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anthony", "link": "https://stackoverflow.com/users/10836333/anthony"}, "reply_to_user": {"reputation": 3969, "user_id": 1223642, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d2d43bd4183d47188a5176eac995bd1b?s=128&d=identicon&r=PG", "display_name": "Mike Guthrie", "link": "https://stackoverflow.com/users/1223642/mike-guthrie"}, "edited": false, "score": 0, "creation_date": 1545853757, "post_id": 53936190, "comment_id": 94713021, "body": "@MikeGuthrie What I&#39;m going to do is the basic arithmetic calculations with numbers in the text file. That is why I needed a specific line of the text file. But my problem is that if I call readLine, then the method reads the entire text file again"}, {"owner": {"reputation": 3969, "user_id": 1223642, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d2d43bd4183d47188a5176eac995bd1b?s=128&d=identicon&r=PG", "display_name": "Mike Guthrie", "link": "https://stackoverflow.com/users/1223642/mike-guthrie"}, "edited": false, "score": 0, "creation_date": 1545854171, "post_id": 53936190, "comment_id": 94713134, "body": "What should be the outcome if a line can&#39;t parse to a double?  Arbitrary value?  Throw an exception?  The answer by Jimenemex should get you close to what you&#39;re after, with something like <code>public static double readLine(int line) =&gt; double.Parse(lines[line]);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 88, "user_id": 10836333, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anthony", "link": "https://stackoverflow.com/users/10836333/anthony"}, "edited": false, "score": 0, "creation_date": 1545855714, "post_id": 53936265, "comment_id": 94713587, "body": "Thank you so much"}, {"owner": {"reputation": 3969, "user_id": 1223642, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d2d43bd4183d47188a5176eac995bd1b?s=128&d=identicon&r=PG", "display_name": "Mike Guthrie", "link": "https://stackoverflow.com/users/1223642/mike-guthrie"}, "reply_to_user": {"reputation": 88, "user_id": 10836333, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anthony", "link": "https://stackoverflow.com/users/10836333/anthony"}, "edited": false, "score": 0, "creation_date": 1545856999, "post_id": 53936265, "comment_id": 94713921, "body": "@Anthony If this answer resolved your question (or got you to a resolution), remember to click the checkmark to accept this answer:  <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "tags": [], "owner": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "is_accepted": true, "score": 6, "last_activity_date": 1545853636, "last_edit_date": 1545853636, "creation_date": 1545852301, "answer_id": 53936265, "question_id": 53936190, "link": "https://stackoverflow.com/questions/53936190/c-read-a-text-file-how-to-avoid-reading-it-again/53936265#53936265", "title": "c# read a text file. How to avoid reading it again", "body": "<p>Like I said in my comment, just read the entire file once and save it into a <code>List&lt;string&gt;</code> using <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.file.readalllines?view=netframework-4.7.2\" rel=\"noreferrer\">File.ReadAllLines()</a> (Cast the output to a list). Once you have that, then you can just use the <code>List&lt;string&gt;</code> directly without having to go back to read the file each time. See below.</p>\n\n<pre><code>public class Program\n{\n    private static List&lt;string&gt; lines;\n    public static void Main()\n    {\n        // At this point lines will have the entire file. Each line in a different index in the list\n        lines = File.ReadAllLines(\"..path to file\").ToList();\n\n        useList(); // Use it however\n    }\n\n    // Just use the List which has the same data as the file\n    public static string readFromList(int num)\n    {\n        return lines[num];\n    } \n\n    public static void useList()\n    {\n        string line1 = readFromList(1); // Could even be string line1 = lines[SomeNum];\n        string line2 = readFromList(2);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10751459"}, "is_accepted": false, "score": 0, "last_activity_date": 1545853523, "creation_date": 1545853523, "answer_id": 53936447, "question_id": 53936190, "link": "https://stackoverflow.com/questions/53936190/c-read-a-text-file-how-to-avoid-reading-it-again/53936447#53936447", "title": "c# read a text file. How to avoid reading it again", "body": "<p>If I understand you correctly you want to read text from a text file all in one shot?</p>\n\n<p>If so try\n figure out where this file is located</p>\n\n<pre><code>string path = @\"C:\\path to textfile.txt\";\n</code></pre>\n\n<p>then use system.io to read the files and save them.. this will return an array of strings</p>\n\n<pre><code>string[] textfromfile = System.IO.File.ReadAllLines(path);\n</code></pre>\n\n<p>depending on what you want to do with the text file information you can begin to process it from here..</p>\n\n<p>let me know if this solution helps.</p>\n"}], "owner": {"reputation": 88, "user_id": 10836333, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anthony", "link": "https://stackoverflow.com/users/10836333/anthony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 0, "accepted_answer_id": 53936265, "answer_count": 2, "score": 1, "last_activity_date": 1545853892, "creation_date": 1545851697, "last_edit_date": 1545853892, "question_id": 53936190, "link": "https://stackoverflow.com/questions/53936190/c-read-a-text-file-how-to-avoid-reading-it-again", "title": "c# read a text file. How to avoid reading it again", "body": "<p>I'm new to programming and I have a problem with calling a method.<br>\nI read a text file in the first method and saved each line in a list. And the return type of the method was List so that I could bring any specific line of the text file in other method. But the problem is that I have to read the text file over and over whenever I call the first method. I have to call the method more than 100 times and the length of the text file is over 1000 lines.</p>\n\n<pre><code>public static List&lt;double&gt; readLine(int line) \n{\n    //read a text file and save in readList\n    return readList[line];\n}\n\npublic static double useList()\n{\n    readLine(1);\n    readLine(2);\n    readLine(3);\n    readLine(4);\n\n   return 0;\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1545851051, "post_id": 53936057, "comment_id": 94712207, "body": "Your current code returns a list of Users. Do a Select method call on the result of the <code>Where</code> method call , if you want only the userId. <code>Select(a=&gt;a.UserId).ToList()</code>"}, {"owner": {"reputation": 14066, "user_id": 6426692, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/KDZsR.jpg?s=128&g=1", "display_name": "Ilyes", "link": "https://stackoverflow.com/users/6426692/ilyes"}, "edited": false, "score": 0, "creation_date": 1545851142, "post_id": 53936057, "comment_id": 94712246, "body": "I see <i>== 02</i> but where is <i>== 08</i>?"}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 1, "creation_date": 1545851383, "post_id": 53936057, "comment_id": 94712330, "body": "and Don&#39;t forget the null check :)"}, {"owner": {"reputation": 23, "user_id": 10820362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1b29f4bc304efadc2ac1018c4edc4b?s=128&d=identicon&r=PG&f=1", "display_name": "Osvaldo", "link": "https://stackoverflow.com/users/10820362/osvaldo"}, "edited": false, "score": 0, "creation_date": 1545862384, "post_id": 53936057, "comment_id": 94715465, "body": "Thanks TanvirArjel, Shyju and Sami. But still get wrong:  public ActionResult Test() \t\t{              var Model = db.Users.Where(u =&gt; u.Birthday.Value.Month == 02||u.Birthday.Value.Month == 08).Select(c=&gt;c.UserID).ToList();   i got this: &quot; The list: System.Collections.Generic.List`1[System.Int32]&quot;"}, {"owner": {"reputation": 23, "user_id": 10820362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1b29f4bc304efadc2ac1018c4edc4b?s=128&d=identicon&r=PG&f=1", "display_name": "Osvaldo", "link": "https://stackoverflow.com/users/10820362/osvaldo"}, "reply_to_user": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1545910644, "post_id": 53936057, "comment_id": 94727463, "body": "@TanvirArjel, do you know what&#39;s wrong?"}, {"owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1545911421, "post_id": 53936057, "comment_id": 94727800, "body": "@Osvaldo Can you give me remote access please!"}, {"owner": {"reputation": 23, "user_id": 10820362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1b29f4bc304efadc2ac1018c4edc4b?s=128&d=identicon&r=PG&f=1", "display_name": "Osvaldo", "link": "https://stackoverflow.com/users/10820362/osvaldo"}, "reply_to_user": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1545922864, "post_id": 53936057, "comment_id": 94732321, "body": "@TanvirArjel i am not with my computer now. We can make it later. Thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10820362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1b29f4bc304efadc2ac1018c4edc4b?s=128&d=identicon&r=PG&f=1", "display_name": "Osvaldo", "link": "https://stackoverflow.com/users/10820362/osvaldo"}, "edited": false, "score": 0, "creation_date": 1545862533, "post_id": 53936102, "comment_id": 94715500, "body": "Thank you Kim! But still get something wrong: public ActionResult Test() { var Model = db.Users.Where(u =&gt; u.Birthday.Value.Month == 02||u.Birthday.Value.Month == 08).Select(c=&gt;c.UserID).ToList();    i got this: &quot; The list: System.Collections.Generic.List`1[System.Int32]&quot;"}, {"owner": {"reputation": 119, "user_id": 1504359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sBISu.jpg?s=128&g=1", "display_name": "Kim Lage", "link": "https://stackoverflow.com/users/1504359/kim-lage"}, "reply_to_user": {"reputation": 23, "user_id": 10820362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1b29f4bc304efadc2ac1018c4edc4b?s=128&d=identicon&r=PG&f=1", "display_name": "Osvaldo", "link": "https://stackoverflow.com/users/10820362/osvaldo"}, "edited": false, "score": 0, "creation_date": 1545935891, "post_id": 53936102, "comment_id": 94737302, "body": "I don&#39;t know if you didn&#39;t include the complete error. But it seams correct to me. the System.Collections.Generic.List`1[System.Int32] is the type of the list. Its the same as List&lt;int&gt;. try to make a &quot;Model.Count()&quot; to see if you get any results..."}, {"owner": {"reputation": 119, "user_id": 1504359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sBISu.jpg?s=128&g=1", "display_name": "Kim Lage", "link": "https://stackoverflow.com/users/1504359/kim-lage"}, "reply_to_user": {"reputation": 23, "user_id": 10820362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1b29f4bc304efadc2ac1018c4edc4b?s=128&d=identicon&r=PG&f=1", "display_name": "Osvaldo", "link": "https://stackoverflow.com/users/10820362/osvaldo"}, "edited": false, "score": 0, "creation_date": 1545935986, "post_id": 53936102, "comment_id": 94737333, "body": "another thing, dont use &quot;Model&quot; as a variable name. I didnt know you were using MVC, Model is a reserved word for that context. Try chaging that. I&#39;ll also edit the anwser..."}, {"owner": {"reputation": 119, "user_id": 1504359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sBISu.jpg?s=128&g=1", "display_name": "Kim Lage", "link": "https://stackoverflow.com/users/1504359/kim-lage"}, "reply_to_user": {"reputation": 23, "user_id": 10820362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1b29f4bc304efadc2ac1018c4edc4b?s=128&d=identicon&r=PG&f=1", "display_name": "Osvaldo", "link": "https://stackoverflow.com/users/10820362/osvaldo"}, "edited": false, "score": 0, "creation_date": 1546010959, "post_id": 53936102, "comment_id": 94759004, "body": "@Osvaldo please add this as the answer if it helped you... let me know if you got it working..."}], "tags": [], "owner": {"reputation": 119, "user_id": 1504359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sBISu.jpg?s=128&g=1", "display_name": "Kim Lage", "link": "https://stackoverflow.com/users/1504359/kim-lage"}, "is_accepted": true, "score": 1, "last_activity_date": 1545935995, "last_edit_date": 1545935995, "creation_date": 1545851169, "answer_id": 53936102, "question_id": 53936057, "link": "https://stackoverflow.com/questions/53936057/how-to-get-a-list-of-users-on-a-birthday-table-in-a-given-month/53936102#53936102", "title": "How to get a list of users on a birthday table in a given month?", "body": "<p>try this:</p>\n\n<pre><code>var model = db.Users.Where(u =&gt; u.Birthday.Value.Month == 02).Select(c=&gt;c.UserId).ToList();\n</code></pre>\n\n<p>that shoud give you the list with the UsersID ( for february) if you want both months try:</p>\n\n<pre><code>    var model = db.Users.Where(u =&gt; u.Birthday.Value.Month == 02 || u.Birthday.Value.Month == 08).Select(c=&gt;c.UserId).ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 7229322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44d89c0257ea18b44da01482719ab5a?s=128&d=identicon&r=PG&f=1", "display_name": "Sreenivas Gurram", "link": "https://stackoverflow.com/users/7229322/sreenivas-gurram"}, "is_accepted": false, "score": 1, "last_activity_date": 1545851577, "last_edit_date": 1545851577, "creation_date": 1545851298, "answer_id": 53936127, "question_id": 53936057, "link": "https://stackoverflow.com/questions/53936057/how-to-get-a-list-of-users-on-a-birthday-table-in-a-given-month/53936127#53936127", "title": "How to get a list of users on a birthday table in a given month?", "body": "<p>Try This </p>\n\n<pre><code>var Model = db.Users.Where(u =&gt; u.Birthday.Month == 02 || u.Birthday.Month == 08).ToList();\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10820362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1b29f4bc304efadc2ac1018c4edc4b?s=128&d=identicon&r=PG&f=1", "display_name": "Osvaldo", "link": "https://stackoverflow.com/users/10820362/osvaldo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 53936102, "answer_count": 2, "score": 0, "last_activity_date": 1545935995, "creation_date": 1545850954, "last_edit_date": 1545851319, "question_id": 53936057, "link": "https://stackoverflow.com/questions/53936057/how-to-get-a-list-of-users-on-a-birthday-table-in-a-given-month", "title": "How to get a list of users on a birthday table in a given month?", "body": "<p>I want to get the list of users (UserId) who celebrate their birthday in the months of February and August</p>\n\n<p>I have already tried these:</p>\n\n<pre><code>public ActionResult Test()\n{\n   var Model = db.Users.Where(u =&gt; u.Birthday.Value.Month == 02);\n\n\npublic ActionResult Test()\n{\n    var Model = db.Users.Where(u =&gt; u.Birthday.Value.Month == 02).ToList();\n</code></pre>\n\n<p>I expected a list of <code>UserId</code> that celebrate birthday in the months of February and August.</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 3969, "user_id": 1223642, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d2d43bd4183d47188a5176eac995bd1b?s=128&d=identicon&r=PG", "display_name": "Mike Guthrie", "link": "https://stackoverflow.com/users/1223642/mike-guthrie"}, "edited": false, "score": 0, "creation_date": 1545853691, "post_id": 53935994, "comment_id": 94713001, "body": "Any different results setting <code>VerticalContentAlignment=&quot;Center&quot;</code> for your <code>ContentPresenter</code>?"}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "reply_to_user": {"reputation": 3969, "user_id": 1223642, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d2d43bd4183d47188a5176eac995bd1b?s=128&d=identicon&r=PG", "display_name": "Mike Guthrie", "link": "https://stackoverflow.com/users/1223642/mike-guthrie"}, "edited": false, "score": 0, "creation_date": 1545854546, "post_id": 53935994, "comment_id": 94713254, "body": "@MikeGuthrie The ContentPresenter doesn&#39;t have that property."}, {"owner": {"reputation": 3969, "user_id": 1223642, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d2d43bd4183d47188a5176eac995bd1b?s=128&d=identicon&r=PG", "display_name": "Mike Guthrie", "link": "https://stackoverflow.com/users/1223642/mike-guthrie"}, "edited": false, "score": 0, "creation_date": 1545854828, "post_id": 53935994, "comment_id": 94713343, "body": "Sorry, guess I was looking in the wrong context on <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.controls.contentpresenter.verticalcontentalignment\" rel=\"nofollow noreferrer\">MS docs here</a>.  Things get confusing when the same names are used across multiple assemblies and namespaces."}], "owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545850618, "creation_date": 1545850618, "question_id": 53935994, "link": "https://stackoverflow.com/questions/53935994/vertical-alignment-in-style", "title": "Vertical alignment in Style", "body": "<p>I have a very simple style. The code behind does nothing (for now).</p>\n\n<pre><code>&lt;Style TargetType=\"{x:Type xxx:Button}\"&gt;\n    &lt;Setter Property=\"Template\"&gt;\n        &lt;Setter.Value&gt;\n            &lt;ControlTemplate TargetType=\"{x:Type fluent:Button}\"&gt;\n                &lt;Border BorderBrush=\"Black\" BorderThickness=\"1,1,1,1\"&gt;\n                    &lt;ContentPresenter HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" /&gt;\n                &lt;/Border&gt;\n            &lt;/ControlTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n&lt;/Style&gt;\n</code></pre>\n\n<p>and then in the MainWindow I'll use it as:</p>\n\n<pre><code>&lt;xxx:Button Content=\"1\" FontSize=\"46\" /&gt;\n</code></pre>\n\n<p>This causes the text to not be vertically centered. I asked a different question about this and the response was that its due to the way fonts scale and how they all scale differently. That's well and all, but how can I universally center the content in the border without knowing what it is? In the above example its just text, but it can be an icon or button, etc. Those all seem to center properly... is there a trick to getting it to work with text since every font will have a different \"fudge factor\"?</p>\n"}, {"tags": ["c#", "sqlite"], "comments": [{"owner": {"reputation": 471, "user_id": 1399022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZC2U.jpg?s=128&g=1", "display_name": "Guillermo Gerard", "link": "https://stackoverflow.com/users/1399022/guillermo-gerard"}, "edited": false, "score": 1, "creation_date": 1545850944, "post_id": 53935975, "comment_id": 94712173, "body": "Possible duplicate of: <a href=\"https://stackoverflow.com/questions/23357481/how-can-i-pass-a-table-name-to-sqlcommand\" title=\"how can i pass a table name to sqlcommand\">stackoverflow.com/questions/23357481/&hellip;</a> You can find your answer there"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10836315"}, "reply_to_user": {"reputation": 471, "user_id": 1399022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZC2U.jpg?s=128&g=1", "display_name": "Guillermo Gerard", "link": "https://stackoverflow.com/users/1399022/guillermo-gerard"}, "edited": false, "score": 0, "creation_date": 1545862221, "post_id": 53935975, "comment_id": 94715426, "body": "That does come to the same conclusion that I ended up at - using string concatenation, What I found was that you can use string concatenation for statements, but for values you have to use the Parameters.AddWithValue.  That was my key takeaway, and the thing that I think will help people who end up here in the future.  Anyway, yes, same problem, same solution.  That other answer is just a bit more convoluted."}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 7229322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44d89c0257ea18b44da01482719ab5a?s=128&d=identicon&r=PG&f=1", "display_name": "Sreenivas Gurram", "link": "https://stackoverflow.com/users/7229322/sreenivas-gurram"}, "is_accepted": false, "score": 0, "last_activity_date": 1545850900, "creation_date": 1545850900, "answer_id": 53936051, "question_id": 53935975, "link": "https://stackoverflow.com/questions/53935975/unable-to-name-table-dynamically-at-creation-c-sqlite/53936051#53936051", "title": "Unable to name table dynamically at creation - c#, sqlite", "body": "<p>Can you create procedure instead of inline query . you can manage easy in stored procedure like this .`CREATE PROCEDURE Dynamic_SP</p>\n\n<pre><code>  @Table_Name sysname AS BEGIN\n\n  SET NOCOUNT ON;\n\n  DECLARE @DynamicSQL nvarchar(4000)\n\n  SET @DynamicSQL = N'SELECT * FROM ' + @Table_Name\n\n  EXECUTE sp_executesql @DynamicSQL END\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10836315"}, "edited": false, "score": 0, "creation_date": 1545853547, "post_id": 53936071, "comment_id": 94712952, "body": "Turns out I should have just treated it like any other string.  CommandText = @&quot;CREATE TABLE IF NOT EXISTS &quot; + tableName + &quot;( ...&quot;.  That was it.  Unbelievably simple.  Thanks for triggering that with your answer."}], "tags": [], "owner": {"reputation": 42567, "user_id": 1002323, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2900f0f0fe8fcaf58e5705a35eeee2af?s=128&d=identicon&r=PG", "display_name": "competent_tech", "link": "https://stackoverflow.com/users/1002323/competent-tech"}, "is_accepted": true, "score": 0, "last_activity_date": 1545851030, "creation_date": 1545851030, "answer_id": 53936071, "question_id": 53935975, "link": "https://stackoverflow.com/questions/53935975/unable-to-name-table-dynamically-at-creation-c-sqlite/53936071#53936071", "title": "Unable to name table dynamically at creation - c#, sqlite", "body": "<p>The way that I approach problems like this is to simplify as much as I can. In this case, simple string substitution should easily resolve your problem without the need to use parameters.</p>\n\n<p>For example:</p>\n\n<pre><code>        command.Text = $@\"CREATE TABLE IF NOT EXISTS {tableName}( ... )\";\n</code></pre>\n\n<p>or</p>\n\n<pre><code>        command.Text = string.Format(@\"CREATE TABLE IF NOT EXISTS {0}( ... )\", tableName);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10836315"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 53936071, "answer_count": 2, "score": 0, "last_activity_date": 1545851030, "creation_date": 1545850521, "question_id": 53935975, "link": "https://stackoverflow.com/questions/53935975/unable-to-name-table-dynamically-at-creation-c-sqlite", "title": "Unable to name table dynamically at creation - c#, sqlite", "body": "<p>Using what's available in the System.Data.SQLite namespace and using C# I'm doing database operations.  However, there is one problem I can't seem to get figured out.</p>\n\n<p>If I want to create a table which is NAMED DYNAMICALLY AT CREATION, I thought the way to do that would be ...</p>\n\n<pre><code>command.CommandText = @\"CREATE TABLE IF NOT EXISTS @tableName( ... )\";\n</code></pre>\n\n<p>and then do this ...</p>\n\n<pre><code>command.Parameters.AddWithValue(\"@tableName\", tableName);\n</code></pre>\n\n<p>and then do the </p>\n\n<pre><code>command.ExecuteNonQuery();\n</code></pre>\n\n<p>But what's happening is that I'm getting a new table named \"@tableName\" instead of whatever the variable tableName is set to.</p>\n\n<p>How can I get this to work correctly?</p>\n"}, {"tags": ["c#", "wpf", "winapi", "uwp", "win32gui"], "comments": [{"owner": {"reputation": 268, "user_id": 8803825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDkmN.png?s=128&g=1", "display_name": "krobelusmeetsyndra", "link": "https://stackoverflow.com/users/8803825/krobelusmeetsyndra"}, "edited": false, "score": 0, "creation_date": 1545850337, "post_id": 53935921, "comment_id": 94712009, "body": "Maybe <a href=\"https://withinrafael.com/2018/02/01/adding-acrylic-blur-to-your-windows-10-apps-redstone-4-desktop-apps/\" rel=\"nofollow noreferrer\">this</a> will help?"}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "reply_to_user": {"reputation": 268, "user_id": 8803825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDkmN.png?s=128&g=1", "display_name": "krobelusmeetsyndra", "link": "https://stackoverflow.com/users/8803825/krobelusmeetsyndra"}, "edited": false, "score": 0, "creation_date": 1545855697, "post_id": 53935921, "comment_id": 94713580, "body": "@krobelusmeetsyndra -- Hmm... seems like on RS4, it requires you to have AllowTransparency=True where on RS5 it doesn&#39;t. Because of that, you can&#39;t really use it with WindowChrome. Oh well. Guess its RS5+ then. If you don&#39;t have AllowTransparency=True, you get the weird flashing."}, {"owner": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "edited": false, "score": 2, "creation_date": 1545869932, "post_id": 53935921, "comment_id": 94716859, "body": "Supposed to work is hard to define when you are talking about unsupported and undocumented parameters."}], "owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 300, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545850182, "creation_date": 1545850182, "question_id": 53935921, "link": "https://stackoverflow.com/questions/53935921/is-accent-enable-acrylicblurbehind-supposed-to-work-in-redstone-4", "title": "Is ACCENT_ENABLE_ACRYLICBLURBEHIND supposed to work in Redstone 4?", "body": "<p>I'm using ACCENT_ENABLE_ACRYLICBLURBEHIND in my WPF app. I have Redstone 4 at work, but Redstone 5 at home. Obviously Redstone 4 does Acrylic on the calendar &amp; start menu, etc... but the API doesn't seem to work well in RS4. Very flashy and layers upon itself until its solid black. Do I need to do something different on RS4? The calendar and start menu don't have the problem.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1545850338, "post_id": 53935916, "comment_id": 94712010, "body": "You probably have a conflicting class I&#39;m guessing.  Try <code>System.IO.File.ReadAllText(...</code>"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1545850803, "post_id": 53935916, "comment_id": 94712130, "body": "Right.  OP is importing it as <code>using File = Google.Apis.Drive.v3.Data.File;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "is_accepted": true, "score": 2, "last_activity_date": 1545850326, "creation_date": 1545850326, "answer_id": 53935943, "question_id": 53935916, "link": "https://stackoverflow.com/questions/53935916/c-error-cs0117-file-does-not-include-definition-for-readalltext-when-i-am-usi/53935943#53935943", "title": "C# error CS0117 - File does not include definition for ReadAllText when I am using Google Drive API", "body": "<p>likely you have something else named <code>File</code>. Fully qualify it with <code>System.IO.File.ReadAllText</code>.</p>\n"}], "owner": {"reputation": 45, "user_id": 9252210, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ulhV4Mo7XLM/AAAAAAAAAAI/AAAAAAAACn4/4iSzUC9MMJk/photo.jpg?sz=128", "display_name": "Peter Veris", "link": "https://stackoverflow.com/users/9252210/peter-veris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 364, "favorite_count": 0, "accepted_answer_id": 53935943, "answer_count": 1, "score": -1, "last_activity_date": 1545850326, "creation_date": 1545850145, "question_id": 53935916, "link": "https://stackoverflow.com/questions/53935916/c-error-cs0117-file-does-not-include-definition-for-readalltext-when-i-am-usi", "title": "C# error CS0117 - File does not include definition for ReadAllText when I am using Google Drive API", "body": "<p>I am trying to make some client to upload files to Google Drive. I copied parts of code from some websites but I have still one error. The error has the number CS0117 and it says File does not include the definition for ReadAllText. The error is on line 55. Thank you for your answers. Here is my code:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\nusing System.IO;\nusing Google.Apis.Auth.OAuth2;\nusing Google.Apis.Drive.v3;\nusing File = Google.Apis.Drive.v3.Data.File;\nusing Google.Apis.Services;\nusing Google.Apis.Util.Store;\n\nnamespace IDK_client\n{\n    public partial class Form1 : Form\n    {\n        //Upload variables\n        public bool uploadFilesSelected = false;\n        public string uploadFileContent;\n\n        //Google Drive connection variables\n        static string[] Scopes = { DriveService.Scope.Drive };\n        static string ApplicationName = \"server\";\n\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void Form1_Load(object sender, EventArgs e)\n        {\n            labelUploadFile.Visible = false;\n        }    \n\n        private void buttonUpload_Click(object sender, EventArgs e)\n        {\n            if(uploadFilesSelected == false)\n            {\n                try\n                {\n                    OpenFileDialog openFileDialogUpload = new OpenFileDialog();\n                    openFileDialogUpload.CheckFileExists = true;\n                    openFileDialogUpload.CheckPathExists = true;\n                    openFileDialogUpload.InitialDirectory = @\"C:\\Users\\\";\n                    openFileDialogUpload.RestoreDirectory = true;\n                    openFileDialogUpload.Title = \"Select file to upload...\";\n                    openFileDialogUpload.Filter = \"All files (*.*)|*.*\";\n                    openFileDialogUpload.ShowDialog();\n                    labelUploadFile.Text = openFileDialogUpload.SafeFileName;\n                    uploadFileContent = File.ReadAllText(openFileDialogUpload.FileName);\n                    labelUploadFile.Visible = true;\n                    uploadFilesSelected = true;\n                }\n                catch\n                {\n                    MessageBox.Show(\"Can not open file.\", \"Warning\", MessageBoxButtons.OKCancel, MessageBoxIcon.Warning);\n                }\n\n            }\n\n            else if(uploadFilesSelected == false)\n            {\n                UserCredential credential;\n                credential = GetCredentials();\n                // Create Drive API service.\n                var service = new DriveService(new BaseClientService.Initializer()\n                {\n                    HttpClientInitializer = credential,\n                    ApplicationName = ApplicationName,\n                });\n                //uploadFile();\n            }\n\n        }\n\n        public void uploadFile(string path, DriveService service)\n        {\n            var fileMetadata = new Google.Apis.Drive.v3.Data.File();\n            fileMetadata.Name = Path.GetFileName(path);\n            fileMetadata.MimeType = \"txt\";\n            FilesResource.CreateMediaUpload request;\n            using (var stream = new System.IO.FileStream(path, System.IO.FileMode.Open))\n            {\n                request = service.Files.Create(fileMetadata, stream, \"txt\");\n                request.Fields = \"id\";\n                request.Upload();\n            }\n\n            var file = request.ResponseBody;\n        }\n\n        private static UserCredential GetCredentials()\n        {\n            UserCredential credential;\n\n            using (var stream = new FileStream(\"client_id.json\", FileMode.Open, FileAccess.Read))\n            {\n                string credPath = System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal);\n\n                credPath = Path.Combine(credPath, \".credentials/drive-dotnet-quickstart.json\");\n\n                credential = GoogleWebAuthorizationBroker.AuthorizeAsync(GoogleClientSecrets.Load(stream).Secrets, Scopes, \"user\", CancellationToken.None, new FileDataStore(credPath, true)).Result;\n            // Console.WriteLine(\"Credential file saved to: \" + credPath);\n            }\n\n            return credential;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api", "serialization", "asp.net-core", "asp.net-core-mvc"], "answers": [{"tags": [], "owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "is_accepted": true, "score": 11, "last_activity_date": 1589893413, "last_edit_date": 1589893413, "creation_date": 1545860911, "answer_id": 53937525, "question_id": 53935785, "link": "https://stackoverflow.com/questions/53935785/model-properties-custom-names-with-url-formencoded/53937525#53937525", "title": "Model properties custom names with url-formencoded", "body": "<p>You can annotate your model properties with the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.fromformattribute?view=aspnetcore-2.1\" rel=\"noreferrer\"><code>FromForm</code></a> attribute, which has a property <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.fromformattribute.name?view=aspnetcore-2.1#Microsoft_AspNetCore_Mvc_FromFormAttribute_Name\" rel=\"noreferrer\"><code>Name</code></a> that specifies the name to use when binding. Here's an example:</p>\n\n<pre><code>public class SomeModel\n{\n    [FromForm(Name = \"SomePropertyNameToUse\")]\n    public string SomeProperty { get; set; }\n\n    [FromForm(Name = \"SomeOtherPropertyNameToUse\")]\n    public string SomeOtherProperty { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 523, "user_id": 6852019, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205450900510843/picture?type=large", "display_name": "Daniel Stoyanoff", "link": "https://stackoverflow.com/users/6852019/daniel-stoyanoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 2, "accepted_answer_id": 53937525, "answer_count": 1, "score": 4, "last_activity_date": 1589893413, "creation_date": 1545849259, "last_edit_date": 1545872914, "question_id": 53935785, "link": "https://stackoverflow.com/questions/53935785/model-properties-custom-names-with-url-formencoded", "title": "Model properties custom names with url-formencoded", "body": "<p>I am having an issue with binding in webapi (.net core 2.1).\nUsually when I use xml/json, I can add attributes to the model props (either via XmlElement or JsonProperty).\nI have a project however that uses application/x-www-form-urlencoded as media type and thus, the models only work if the names of the params match the property names (luckily case insensitive). Can you advise if there is a way to implement such mapping?</p>\n"}, {"tags": ["c#", "unity3d", "physics", "collision"], "comments": [{"owner": {"reputation": 268, "user_id": 8803825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDkmN.png?s=128&g=1", "display_name": "krobelusmeetsyndra", "link": "https://stackoverflow.com/users/8803825/krobelusmeetsyndra"}, "edited": false, "score": 0, "creation_date": 1545849949, "post_id": 53935782, "comment_id": 94711892, "body": "Shouldn&#39;t <code>Is Trigger</code> be true?"}, {"owner": {"reputation": 50, "user_id": 7595753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jxrvd.jpg?s=128&g=1", "display_name": "Levon Ravel", "link": "https://stackoverflow.com/users/7595753/levon-ravel"}, "edited": false, "score": 1, "creation_date": 1545857990, "post_id": 53935782, "comment_id": 94714216, "body": "Make sure the Rigidbody is coving the model, also adjust the radius and height . With the floating when animator is enabled set apply root motion false."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 10836560, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0v_vBukTZqg/AAAAAAAAAAI/AAAAAAAADtM/9qylE1gg4Eo/photo.jpg?sz=128", "display_name": "Seung-Heon Lee", "link": "https://stackoverflow.com/users/10836560/seung-heon-lee"}, "is_accepted": false, "score": 1, "last_activity_date": 1545858226, "creation_date": 1545858226, "answer_id": 53937146, "question_id": 53935782, "link": "https://stackoverflow.com/questions/53935782/how-to-fix-animations-causing-model-to-ignore-physics-collision/53937146#53937146", "title": "How to fix animations causing model to ignore physics/collision", "body": "<p>You should make sure that movement is conducted via the rigidbody component and not by the transform component:</p>\n\n<pre><code>rb.MovePosition(transform.position + transform.forward * Time.deltaTime);\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 10605023, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157258720401162/picture?type=large", "display_name": "Justin Dupre&#39;", "link": "https://stackoverflow.com/users/10605023/justin-dupre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 553, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545858226, "creation_date": 1545849246, "last_edit_date": 1545851627, "question_id": 53935782, "link": "https://stackoverflow.com/questions/53935782/how-to-fix-animations-causing-model-to-ignore-physics-collision", "title": "How to fix animations causing model to ignore physics/collision", "body": "<p><a href=\"https://i.stack.imgur.com/jO3kp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jO3kp.png\" alt=\"enter image description here\"></a>Problem: Imported model with Rigidbody and (later added) capsule collider ignores physics and collision with terrain, while other models with colliders work as intended. </p>\n\n<p>Summary: I'm working with the robot kyle model/rigging free asset from the unity asset store. I added an animator controller with idle, walk, run, and jump animations and a simple script for movement. No custom physics scripts attached. I have a ball in the scene with a sphere collider and it works as intended with terrain collision and gravity and projectile motion. </p>\n\n<p>Edit: I discovered that deleting my animator controller entirely and deactivating the animator in the inspector causes the model to fall onto the terrain as intended on play (only works with added capsule collider on), but turning back on the animator (with only an idle animation in the new animation controller) causes the model to float while doing the idle animation.</p>\n"}, {"tags": ["c#", ".net", "linq"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 1, "creation_date": 1545849296, "post_id": 53935766, "comment_id": 94711677, "body": "You are not even using LINQ. Please read a basic tutorial before."}, {"owner": {"reputation": 1687, "user_id": 9357872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ae075f639ca9e1d235ed30685d18e3?s=128&d=identicon&r=PG&f=1", "display_name": "Evik Ghazarian", "link": "https://stackoverflow.com/users/9357872/evik-ghazarian"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1545852339, "post_id": 53935766, "comment_id": 94712650, "body": "This question is not the same as the other one you have marked as duplicate. I have read that question before asking and it doesnt have the condition part. My Question was how to get the sum of values returned by a condition"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1545852554, "post_id": 53935766, "comment_id": 94712704, "body": "Huh, are you <b>completely sure</b> it doesn&#39;t? Because I read this answer here: <a href=\"https://stackoverflow.com/a/26445009/2141621\">stackoverflow.com/a/26445009/2141621</a> in that same post"}, {"owner": {"reputation": 1687, "user_id": 9357872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ae075f639ca9e1d235ed30685d18e3?s=128&d=identicon&r=PG&f=1", "display_name": "Evik Ghazarian", "link": "https://stackoverflow.com/users/9357872/evik-ghazarian"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1545853404, "post_id": 53935766, "comment_id": 94712909, "body": "the answer is! but not the question. duplicate questions and duplicate answers posted on different questions are not the same things. anyhow thanks for your attention."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1545853583, "post_id": 53935766, "comment_id": 94712967, "body": "There, I added 2 more duplicates that ask exactly for filtering plus sum."}, {"owner": {"reputation": 1687, "user_id": 9357872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ae075f639ca9e1d235ed30685d18e3?s=128&d=identicon&r=PG&f=1", "display_name": "Evik Ghazarian", "link": "https://stackoverflow.com/users/9357872/evik-ghazarian"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1545853649, "post_id": 53935766, "comment_id": 94712989, "body": "Thank you very much"}], "answers": [{"comments": [{"owner": {"reputation": 2705, "user_id": 3146958, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002564225231/picture?type=large", "display_name": "KidBilly", "link": "https://stackoverflow.com/users/3146958/kidbilly"}, "edited": false, "score": 1, "creation_date": 1545849331, "post_id": 53935786, "comment_id": 94711682, "body": "Close race.  You just got me!"}, {"owner": {"reputation": 1687, "user_id": 9357872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ae075f639ca9e1d235ed30685d18e3?s=128&d=identicon&r=PG&f=1", "display_name": "Evik Ghazarian", "link": "https://stackoverflow.com/users/9357872/evik-ghazarian"}, "edited": false, "score": 0, "creation_date": 1545849801, "post_id": 53935786, "comment_id": 94711850, "body": "Thank You very much! However to the person marked this question as duplicate the other question doesn&#39;t have condition in it."}], "tags": [], "owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "is_accepted": true, "score": 1, "last_activity_date": 1545849373, "last_edit_date": 1545849373, "creation_date": 1545849269, "answer_id": 53935786, "question_id": 53935766, "link": "https://stackoverflow.com/questions/53935766/how-to-get-the-sum-of-found-values/53935786#53935786", "title": "How to get the Sum of found values", "body": "<p>Sure, you can:</p>\n\n<pre><code>var summation = shippingSummary.ShippingBoxes\n                               .Where(item =&gt; item.OverSized)\n                               .Sum(x =&gt; x.BoxQuantity);\n</code></pre>\n\n<p>This uses the <code>Where</code> extension method to retain all the objects where the <code>OverSized</code> is <code>true</code> and then uses the <code>Sum</code> method to take the summation.</p>\n"}, {"tags": [], "owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "is_accepted": false, "score": 0, "last_activity_date": 1545849289, "creation_date": 1545849289, "answer_id": 53935791, "question_id": 53935766, "link": "https://stackoverflow.com/questions/53935766/how-to-get-the-sum-of-found-values/53935791#53935791", "title": "How to get the Sum of found values", "body": "<p><code>.Find</code> is not part of LINQ. It returns the first item in the list that it matches. I think you want to use <code>.Where</code> to find all of them.</p>\n"}], "owner": {"reputation": 1687, "user_id": 9357872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ae075f639ca9e1d235ed30685d18e3?s=128&d=identicon&r=PG&f=1", "display_name": "Evik Ghazarian", "link": "https://stackoverflow.com/users/9357872/evik-ghazarian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "closed_date": 1545849367, "accepted_answer_id": 53935786, "answer_count": 2, "score": -1, "last_activity_date": 1545853546, "creation_date": 1545849183, "last_edit_date": 1545849964, "question_id": 53935766, "link": "https://stackoverflow.com/questions/53935766/how-to-get-the-sum-of-found-values", "closed_reason": "Duplicate", "title": "How to get the Sum of found values", "body": "<p>I want to find the elements which have the OverSized value == true and sum the BoxQuantity value of them. So far I can find the first element that has the OverSized value = true and returns the BoxQuantity value of it with the code below. Is there anyway to find all the elements that matches that condition and return sum of the box quantity values?\n(NOT THE SAME AS SUM AMOUNT QUESTION)</p>\n\n<pre><code>var boxNumBig = shippingSummary.ShippingBoxes.Find(item =&gt; item.OverSized == true);\nint numofBigBox = boxNumBig.BoxQuantity;\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "visual-studio"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1545849241, "post_id": 53935754, "comment_id": 94711656, "body": "Please show a screenshot of the selected packages in Visual Studio Installer"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 1, "creation_date": 1545849434, "post_id": 53935754, "comment_id": 94711718, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/32613505/missing-mvc-template-in-visual-studio-2015\">Missing MVC template in Visual Studio 2015</a>"}, {"owner": {"reputation": 160, "user_id": 10230961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L7JM1.jpg?s=128&g=1", "display_name": "Sir Mishaa", "link": "https://stackoverflow.com/users/10230961/sir-mishaa"}, "edited": false, "score": 0, "creation_date": 1545849434, "post_id": 53935754, "comment_id": 94711719, "body": "The screenshot :  <a href=\"https://i.stack.imgur.com/bSVJG.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/bSVJG.png</a>"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1545849909, "post_id": 53935754, "comment_id": 94711870, "body": "If you read down the possible duplicate answers, you will find one with 30+ useful flags that explains the template appears only when you select a particular project type."}, {"owner": {"reputation": 160, "user_id": 10230961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L7JM1.jpg?s=128&g=1", "display_name": "Sir Mishaa", "link": "https://stackoverflow.com/users/10230961/sir-mishaa"}, "edited": false, "score": 0, "creation_date": 1545850088, "post_id": 53935754, "comment_id": 94711931, "body": "Even if I select Web Form or all the particular projet type, MVC is still missing. <i>(In the Web category, I only have &quot;ASP.NET Web Application&quot; without MVC obviously :/)</i>"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1545850359, "post_id": 53935754, "comment_id": 94712017, "body": "Can you tell us the menu entries you select in order to get to the dialog box in your snapshot? e.g. <code>File &gt; New &gt; Project &gt;Visual C# &gt; Web &gt; ASP.NET Web Application (.NET Framework)</code>"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1545851466, "post_id": 53935754, "comment_id": 94712365, "body": "This might help too: <a href=\"https://stackoverflow.com/questions/41189398/no-templates-in-visual-studio-2017\" title=\"no templates in visual studio 2017\">stackoverflow.com/questions/41189398/&hellip;</a>"}, {"owner": {"reputation": 160, "user_id": 10230961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L7JM1.jpg?s=128&g=1", "display_name": "Sir Mishaa", "link": "https://stackoverflow.com/users/10230961/sir-mishaa"}, "edited": false, "score": 0, "creation_date": 1545852323, "post_id": 53935754, "comment_id": 94712643, "body": "New &gt; Project &gt; Visual C# &gt; Web &gt; ASP.NET Application (I only have this choice available)"}, {"owner": {"reputation": 160, "user_id": 10230961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L7JM1.jpg?s=128&g=1", "display_name": "Sir Mishaa", "link": "https://stackoverflow.com/users/10230961/sir-mishaa"}, "edited": false, "score": 0, "creation_date": 1545852706, "post_id": 53935754, "comment_id": 94712740, "body": "<i>In C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\Common7\\IDE\\ProjectTemplates\\CSharp\\We&zwnj;&#8203;b\\ &gt; I don&#39;t have MVC</i> And the custom templates folder is empty.. What&#39;s wrong ?"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1545854202, "post_id": 53935754, "comment_id": 94713152, "body": "Is there a <code>1033</code> folder in the <code>Web</code> folder? I would suggest uninstalling the ASP.NET and Web Development workload and reinstalling it again."}, {"owner": {"reputation": 160, "user_id": 10230961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L7JM1.jpg?s=128&g=1", "display_name": "Sir Mishaa", "link": "https://stackoverflow.com/users/10230961/sir-mishaa"}, "edited": false, "score": 0, "creation_date": 1545855101, "post_id": 53935754, "comment_id": 94713427, "body": "Yes, there is three folder in <code>1033</code> : WebApplicationProject40, WebTemplate45, WebTemplateCloud45. Yes, I&#39;ll will try, thank you anyway"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1545855613, "post_id": 53935754, "comment_id": 94713564, "body": "Those are the templates that you need. Apparently they are not being read. Uninstall and reinstall ASP.NET and Web Development workload."}, {"owner": {"reputation": 160, "user_id": 10230961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L7JM1.jpg?s=128&g=1", "display_name": "Sir Mishaa", "link": "https://stackoverflow.com/users/10230961/sir-mishaa"}, "edited": false, "score": 0, "creation_date": 1545856668, "post_id": 53935754, "comment_id": 94713830, "body": "I found ! I analyzed the logs and there is an error with some asp.net packages. I don&#39;t know how I can fix it but that the pastbin of errors : <a href=\"https://pastebin.com/sMrHGUf7\" rel=\"nofollow noreferrer\">pastebin.com/sMrHGUf7</a>"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1545859087, "post_id": 53935754, "comment_id": 94714494, "body": "It looks like it&#39;s failing to install IIS Express: <code>IIS Express 8.0 or higher is not installed.</code>. Long story short, it looks like you had other versions of Visual Studio installed in your machine and that is causing problems. Check this out: <a href=\"https://developercommunity.visualstudio.com/content/problem/24464/packageidmicrosoftancmiisexpressmsipackageactionin.html\" rel=\"nofollow noreferrer\">developercommunity.visualstudio.com/content/problem/24464/&hellip;</a>"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1545925081, "post_id": 53935754, "comment_id": 94733242, "body": "@ASmallCookie: Any luck? :-)"}], "answers": [{"comments": [{"owner": {"reputation": 1933, "user_id": 358006, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QgD8D.png?s=128&g=1", "display_name": "Peter L", "link": "https://stackoverflow.com/users/358006/peter-l"}, "edited": false, "score": 0, "creation_date": 1567791531, "post_id": 54011891, "comment_id": 102083072, "body": "I did something similar and it fixed a different issue.  I can now load &quot;.deployproj&quot; projects but I still cannot create them (still no template)."}], "tags": [], "owner": {"reputation": 160, "user_id": 10230961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L7JM1.jpg?s=128&g=1", "display_name": "Sir Mishaa", "link": "https://stackoverflow.com/users/10230961/sir-mishaa"}, "is_accepted": true, "score": 1, "last_activity_date": 1546456237, "creation_date": 1546456237, "answer_id": 54011891, "question_id": 53935754, "link": "https://stackoverflow.com/questions/53935754/asp-net-mvc-template-is-missing-in-visual-studio-2017/54011891#54011891", "title": "(asp.net) MVC Template is missing in Visual Studio 2017", "body": "<p><strong>This is how I solved my problem :</strong> </p>\n\n<ol>\n<li><p>Go to <code>C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\Common7\\IDE\\ProjectTemplates\\CSharp\\Web\\</code> and delete all</p></li>\n<li><p><strong>Delete (Uninstall) <code>IIS Express 8.0</code></strong> and reboot your computer </p></li>\n</ol>\n\n<p>And then, start Visual Studio Installer, and choose repair (It's going to take an hour. \nIt's a bug I think, but the problem was <strong><em>IIS Express 8.0</em></strong></p>\n\n<p><em>(Thank JuanR)</em></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12012265, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAN9NvjV_FnW2kT9JDLy5DXNMlNds_u3EgWu5Ua=k-s128", "display_name": "Shunmuganathan S", "link": "https://stackoverflow.com/users/12012265/shunmuganathan-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1567479538, "creation_date": 1567479538, "answer_id": 57764528, "question_id": 53935754, "link": "https://stackoverflow.com/questions/53935754/asp-net-mvc-template-is-missing-in-visual-studio-2017/57764528#57764528", "title": "(asp.net) MVC Template is missing in Visual Studio 2017", "body": "<p>I was able to get all the templates by performing the below steps.</p>\n\n<p>1) Go to C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\common7\\iDE\\ProjectTemplates\\csharp\\web\\1033\\WebTemplateCloud45</p>\n\n<p>2) Double click the WebTemplateCloud.vstemplate file and that brought me all the templates.</p>\n"}], "owner": {"reputation": 160, "user_id": 10230961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L7JM1.jpg?s=128&g=1", "display_name": "Sir Mishaa", "link": "https://stackoverflow.com/users/10230961/sir-mishaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2817, "favorite_count": 0, "accepted_answer_id": 54011891, "answer_count": 2, "score": 0, "last_activity_date": 1567479538, "creation_date": 1545849107, "last_edit_date": 1545849617, "question_id": 53935754, "link": "https://stackoverflow.com/questions/53935754/asp-net-mvc-template-is-missing-in-visual-studio-2017", "title": "(asp.net) MVC Template is missing in Visual Studio 2017", "body": "<p>I searched for more than an hour but it seems that the MVC template is missing\nThis is normally what I need to have: \n<a href=\"https://i.stack.imgur.com/c7Q6I.png\" rel=\"nofollow noreferrer\">Screenshot with MVC</a></p>\n\n<p>But here's what I really have : \n<a href=\"https://i.stack.imgur.com/aJ0sc.png\" rel=\"nofollow noreferrer\">MVC Missing</a></p>\n\n<p>How I can fix it ?\nThank you. </p>\n\n<p><strong>This isn't a duplicate with (<a href=\"https://stackoverflow.com/questions/32613505/missing-mvc-template-in-visual-studio-2015\">Missing MVC template in Visual Studio 2015</a>) :</strong> \nWeb developer tools <strong>is no longer present</strong> on version 2017 of visual studio. </p>\n"}, {"tags": ["c#", "asp.net", "visual-studio"], "comments": [{"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 1, "creation_date": 1545849367, "post_id": 53935743, "comment_id": 94711696, "body": "This is a web site? You can&#39;t show those kinds of dialogs. Nobody would see them even if it was not causing an error. You see it on your local pc because you are interactively logged onto the server."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1545850156, "post_id": 53935743, "comment_id": 94711954, "body": "... and use parameters to avoid sql injection and formatting errors in your queries."}], "answers": [{"comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 3, "creation_date": 1545850440, "post_id": 53935819, "comment_id": 94712037, "body": "MessageBox.Show isn&#39;t likely to work any better in the context of ASP.NET"}, {"owner": {"reputation": 41, "user_id": 9011289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94469b968e56e69eb90144aae6ab4eed?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Farnworth", "link": "https://stackoverflow.com/users/9011289/jim-farnworth"}, "edited": false, "score": 0, "creation_date": 1545859138, "post_id": 53935819, "comment_id": 94714511, "body": "Thanks for your prompt reply. Sorry I am new (relatively to Asp.net and certainly Deployment to a Host Site). I have been involved in Computing since 1980 and may appear an idiot to most of the younger generation. but if they ever need help with Fortran, Cobol, DEC DCL (VMS) or even the old HP Basic programming I will be able to help. The point is Concepts are hard to assimilate e.g. When the first Browser was released in the 1990&#39;s it took me ages to grasp what it was all about. In essence I need to be guided toward enlightenment. Regards Jim"}, {"owner": {"reputation": 41, "user_id": 9011289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94469b968e56e69eb90144aae6ab4eed?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Farnworth", "link": "https://stackoverflow.com/users/9011289/jim-farnworth"}, "edited": false, "score": 0, "creation_date": 1545859503, "post_id": 53935819, "comment_id": 94714614, "body": "PS: The replies are all about Message Boxes not Requests for Input to add to a SQL Server Table."}], "tags": [], "owner": {"reputation": 613, "user_id": 10638015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mlbMf.jpg?s=128&g=1", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/10638015/gaurav"}, "is_accepted": false, "score": 0, "last_activity_date": 1545849506, "creation_date": 1545849506, "answer_id": 53935819, "question_id": 53935743, "link": "https://stackoverflow.com/questions/53935743/asp-net-error-using-visual-basic-input-box/53935819#53935819", "title": "Asp.net error using Visual Basic Input Box", "body": "<p>Why are your using VB msgbox while it has been replaced with MessageBox.Show. You get get more help in below - </p>\n\n<p><a href=\"https://stackoverflow.com/questions/3721540/issue-with-microsoft-visualbasic-interaction-msgbox-method\">Issue with Microsoft.VisualBasic.Interaction.MsgBox method</a></p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 9011289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94469b968e56e69eb90144aae6ab4eed?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Farnworth", "link": "https://stackoverflow.com/users/9011289/jim-farnworth"}, "edited": false, "score": 0, "creation_date": 1545985135, "post_id": 53938980, "comment_id": 94749095, "body": "Thanks Tetsuya but I could not get your solution to work, however I did find the answer using Javascript!"}], "tags": [], "owner": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "is_accepted": false, "score": 0, "last_activity_date": 1545876184, "creation_date": 1545876184, "answer_id": 53938980, "question_id": 53935743, "link": "https://stackoverflow.com/questions/53935743/asp-net-error-using-visual-basic-input-box/53938980#53938980", "title": "Asp.net error using Visual Basic Input Box", "body": "<p>Since the code behind runs in server-side, you cannot use both <code>InputBox</code> and <code>MsgBox</code> methods to show input or alert box in client-side browser. I recommend to use JS <code>prompt</code> as input box replacement, or use your own modal dialog containing text input (e.g. Bootstrap modal) and then use <code>alert</code> function to show messages instead.</p>\n\n<p>Here is an example to show prompt and redirect into code-behind method:</p>\n\n<pre><code>var location = prompt(\"Enter New Location\", \"\");\n\n// check against null or empty value\nif (location == null || location == \"\")\n{\n    alert(\"Enter a Valid Name!\");\n}\nelse\n{\n    $.ajax({\n        type: \"POST\",\n        url: \"pagename.aspx/CheckLocation\",\n        data: \"{'location':'\" + location + \"'}\",\n        dataType: \"json\",\n        success: function (response) {\n            if (response.d == true) {\n                // show alert box\n                alert(\"Location Already Exists!\");\n            }\n            else {\n                // redirect to another page\n                window.location.href = '&lt;%= Request.Url.ToString() %&gt;';\n            }\n        },\n        error: function (xhr, status, err) {\n            // error handling\n        }\n    });\n}\n</code></pre>\n\n<p>Code-behind</p>\n\n<pre><code>[WebMethod]\npublic bool CheckLocation(string location)\n{\n    bool LocationExists = false;\n    using (var connection3 = new SqlConnection(ConfigurationManager.ConnectionStrings[\"con\"].ConnectionString))\n    {\n        connection.Open();\n        SqlCommand comm = new SqlCommand(\"SELECT COUNT(*) FROM Locations WHERE Locations = @location\", connection);\n        comm.Parameters.AddWithValue(\"@location\", location);\n        int count = Convert.ToInt32(comm.ExecuteScalar());\n\n        if (count == 0)\n        {\n            using (var cmd1 = new SqlCommand(\"INSERT INTO Locations(Locations) VALUES(@addlocation)\", connection3))\n            {\n                cmd1.Parameters.AddWithValue(\"@addlocation\", location);\n                connection3.Open();\n                cmd1.ExecuteNonQuery();\n            }\n        }\n        else\n        {\n            LocationExists = true;\n        }\n    }\n\n    return LocationExists;\n}\n</code></pre>\n\n<p>Related issue:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1030891/error-while-showing-a-modal-dialog-box-or-form\">Error while showing a modal dialog box or form</a></p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 9011289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94469b968e56e69eb90144aae6ab4eed?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Farnworth", "link": "https://stackoverflow.com/users/9011289/jim-farnworth"}, "is_accepted": false, "score": 0, "last_activity_date": 1545986109, "creation_date": 1545986109, "answer_id": 53955676, "question_id": 53935743, "link": "https://stackoverflow.com/questions/53935743/asp-net-error-using-visual-basic-input-box/53955676#53955676", "title": "Asp.net error using Visual Basic Input Box", "body": "<p>Solved using script as Follows:</p>\n\n<pre><code>&lt;title&gt;&lt;/title&gt;\n&lt;script&gt;\n function GetUserValue() {\n   var newlength = prompt(\"Please Enter New Length\", \"\");\n   if (newlength != null &amp;&amp; newlength != \"\") {\n     document.getElementById(\"&lt;%=hdnLengthInput.ClientID%&gt;\").value = newlength;\n     return true;\n  }\n  else\n  return false;\n }\n&lt;/script&gt;\n\n&lt;div&gt;\n &lt;asp:HiddenField runat=\"server\" ID=\"hdnLengthInput\" /&gt;\n&lt;/div&gt;\n\nAnd Then in the .CS file:\n\nprotected void lnkButton_Click(object sender, EventArgs e)\n    {\n        Response.Write(hdnLengthInput.Value);\n        using (var connection3 = new \nSqlConnection(ConfigurationManager.ConnectionStrings[\"con\"].ConnectionString))\n        {\n            connection.Open();\n            SqlCommand comm = new SqlCommand(\"SELECT COUNT(*) FROM Categories WHERE \nLength = '\" + hdnLengthInput.Value + \"'\", connection);\n            Int32 count = Convert.ToInt32(comm.ExecuteScalar());\n\n            if (count == 0)\n                using (var cmd1 = new SqlCommand(\"INSERT INTO Categories(Length) \nVALUES('\" + hdnLengthInput.Value + \"');\", connection3))\n                {\n                    connection3.Open();\n                    cmd1.ExecuteNonQuery();\n\n                    connection3.Close();\n                    Page.Response.Redirect(Page.Request.Url.ToString(), true);\n                }\n\n            connection.Close();\n        }\n     }\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 9011289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94469b968e56e69eb90144aae6ab4eed?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Farnworth", "link": "https://stackoverflow.com/users/9011289/jim-farnworth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 340, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1545986109, "creation_date": 1545849058, "question_id": 53935743, "link": "https://stackoverflow.com/questions/53935743/asp-net-error-using-visual-basic-input-box", "title": "Asp.net error using Visual Basic Input Box", "body": "<p>I have used a Visual Basic Reference in C# to Add a Location to a Table.\nThis works Locally but after Publishing it to the Hosting Site it produces this Error:\nShowing a modal dialog box or form when the application is not running in UserInteractive mode is not a valid operation. Specify the ServiceNotification or DefaultDesktopOnly style to display a notification from a service application.</p>\n\n<p>My code is as follows:</p>\n\n<pre><code>        string addlocation = Microsoft.VisualBasic.Interaction.InputBox(\"Enter New Location\", \"Location\", \"\", 600, 400);\n        if (addlocation == \"\" || addlocation == null)\n        {\n            Microsoft.VisualBasic.Interaction.MsgBox(\"Enter a Valid Name!\", 0);\n            return;\n        }\n        using (var connection3 = new SqlConnection(ConfigurationManager.ConnectionStrings[\"con\"].ConnectionString))\n        {\n            connection.Open();\n            SqlCommand comm = new SqlCommand(\"SELECT COUNT(*) FROM Locations WHERE Locations = '\" + addlocation + \"'\", connection);\n            Int32 count = Convert.ToInt32(comm.ExecuteScalar());\n\n            if (count == 0)\n            using (var cmd1 = new SqlCommand(\"INSERT INTO Locations(Locations) VALUES('\" + addlocation + \"');\", connection3))\n            {\n                connection3.Open();\n                cmd1.ExecuteNonQuery();\n\n                connection3.Close();\n                Page.Response.Redirect(Page.Request.Url.ToString(), true);\n                connection3.Close();\n            }\n            else\n            {\n                Microsoft.VisualBasic.Interaction.MsgBox(\"Location Already Exists!\", 0);\n            }\n            connection.Close();\n        }\n</code></pre>\n"}, {"tags": ["c#", ".net", "dependency-injection", "ioc-container", "simple-injector"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1545862942, "post_id": 53935727, "comment_id": 94715588, "body": "Did you consider injecting <code>IEnumerable&lt;ISomethingDoer&gt;</code> and just extracting the one ones you want in what ever order you want."}], "answers": [{"comments": [{"owner": {"reputation": 941, "user_id": 2370706, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b89e9e4ba76b1c7c2759491c969db22f?s=128&d=identicon&r=PG", "display_name": "Bob Vesterman", "link": "https://stackoverflow.com/users/2370706/bob-vesterman"}, "edited": false, "score": 0, "creation_date": 1545901093, "post_id": 53937823, "comment_id": 94723467, "body": "Thanks very much! That definitely helps a lot. One question about it, if you don&#39;t mind: Where does this information come from? I mean, I see that you&#39;re a SimpleInjector developer, so I guess it comes from your head, but for the rest of us.  For example, unless I&#39;m missing something, the API docs for, say, Container essentially amount to just &quot;the Container class exists&quot;.  Nothing about RegisterConditional or any other member. Or &quot;Consumer&quot; looks very interesting from your code sample, but I can&#39;t find it in the docs to try to find out what else it can do. Thanks again!"}, {"owner": {"reputation": 941, "user_id": 2370706, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b89e9e4ba76b1c7c2759491c969db22f?s=128&d=identicon&r=PG", "display_name": "Bob Vesterman", "link": "https://stackoverflow.com/users/2370706/bob-vesterman"}, "edited": false, "score": 0, "creation_date": 1545901964, "post_id": 53937823, "comment_id": 94723783, "body": "In case it&#39;s not clear what I mean, <a href=\"https://imgur.com/clQXqFE\" rel=\"nofollow noreferrer\">here</a> is a screenshot of what the website&#39;s documentation for the Container class looks like.  Note that in the left pane, Container has no children (for methods or constructors or whatever). I&#39;m guessing the things in the class doc&#39;s text such as &quot;Methods for batch registration&quot; are supposed to be hyperlinks rather than plain text? Several other classes are this way too, including at least one that seems potentially very interesting (the Registration class)."}], "tags": [], "owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "is_accepted": true, "score": 1, "last_activity_date": 1545882518, "last_edit_date": 1545882518, "creation_date": 1545863365, "answer_id": 53937823, "question_id": 53935727, "link": "https://stackoverflow.com/questions/53935727/how-do-i-use-multiple-types-with-the-same-interface-in-different-scenarios-with/53937823#53937823", "title": "How do I use multiple types with the same interface in different scenarios with SimpleInjector?", "body": "<p>There are several options here. For instance, you can use <a href=\"https://simpleinjector.org/advanced#context-based-injection\" rel=\"nofollow noreferrer\">context-based injection</a>, register <code>DoerOfVariousThings</code> using a delegate, or inject a sequence of <code>ISomethingDoer</code> instances into <code>DoerOfVariousThings</code> instead of using separate constructor arguments.</p>\n\n<p>When applying context-based injection, there are several ways to achieve this. For instance, you can base the injected dependency on the name of the constructor argument:</p>\n\n<pre><code>container.RegisterConditional&lt;ISomethingDoer, DoerOfSomethingExciting&gt;(\n    c =&gt; c.Consumer.Target.Name.StartsWith(\"first\"));\ncontainer.RegisterConditional&lt;ISomethingDoer, DoerOfSomethingBoring&gt;(\n    c =&gt; c.Consumer.Target.Name.StartsWith(\"second\"));\n</code></pre>\n\n<p>You could also mark the constructor arguments with your own custom attributes, much as you are proposing (although IMO this is the least attractive approach, as you are poluting your application code with attributes that are not relevant to that code):</p>\n\n<pre><code>// ctor with custom attributes\npublic DoerOfVariousThings(\n    [Name(\"first\")]ISomethingDoer firstDoer,\n    [Name(\"second\")]ISomethingDoer secondDoer)\n\ncontainer.RegisterConditional&lt;ISomethingDoer, DoerOfSomethingExciting&gt;(\n    c =&gt; c.Consumer.Target.GetCustomAttribute&lt;NameAttribute&gt;().Name == \"first\");\ncontainer.RegisterConditional&lt;ISomethingDoer, DoerOfSomethingBoring&gt;(\n    c =&gt; c.Consumer.Target.GetCustomAttribute&lt;NameAttribute&gt;().Name == \"second\");\n</code></pre>\n\n<p>Another option is to register a delegate for <code>DoerOfVariousThings</code>. For instance:</p>\n\n<pre><code>container.Register&lt;DoerOfVariousThings&gt;(() =&gt; new DoerOfVariousThings(\n    firstDoer: container.GetInstance&lt;DoerOfSomethingExciting&gt;(),\n    secondDoer: container.GetInstance&lt;DoerOfSomethingBoring&gt;()));\n</code></pre>\n\n<p>This approach is simple, although it prevents Simple Injector from <a href=\"https://simpleinjector.org/diagnostics\" rel=\"nofollow noreferrer\">analyzing your object graphs</a>. Using <code>RegisterConditional</code> is therefore preferred.</p>\n\n<p>Another option is to change the constructor of <code>DoerOfVariousThings</code> to the following:</p>\n\n<pre><code>// ctor with a collection of doers\npublic DoerOfVariousThings(IEnumerable&lt;ISomethingDoer&gt; doers)\n</code></pre>\n\n<p>This allows the doers to be registered as follows:</p>\n\n<pre><code>container.Collection.Register&lt;ISomethingDoer&gt;(typeof(DoerOfSomethingBoring).Assembly);\n</code></pre>\n\n<p>This uses Auto-Registration which will search through the supplied assembly for all implementations of <code>ISomethingDoer</code> and register them. Downside of this approach is, however, that the order of the registrations is undetermined. So you might instead want to do the following:</p>\n\n<pre><code>container.Collection.Append&lt;ISomethingDoer, DoerOfSomethingExciting&gt;();\ncontainer.Collection.Append&lt;ISomethingDoer, DoerOfSomethingBoring&gt;();\n</code></pre>\n\n<p>This appends both implementations to the collection of <code>ISomethingDoer</code> instances that will be injected into <code>DoerOfVariousThings</code>. Simple Injector guarantees that the components are injected in order of registration (which in this case means <code>DoerOfSomethingExciting</code> is element 0 and <code>DoerOfSomethingBoring</code> is element 1).</p>\n\n<p>Alternatively, you can use the following method call as well:</p>\n\n<pre><code>container.Collection.Register&lt;ISomethingDoer&gt;(new[]\n{\n    typeof(DoerOfSomethingExciting),\n    typeof(DoerOfSomethingBoring)\n});\n</code></pre>\n"}], "owner": {"reputation": 941, "user_id": 2370706, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b89e9e4ba76b1c7c2759491c969db22f?s=128&d=identicon&r=PG", "display_name": "Bob Vesterman", "link": "https://stackoverflow.com/users/2370706/bob-vesterman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 53937823, "answer_count": 1, "score": 0, "last_activity_date": 1545882518, "creation_date": 1545848999, "question_id": 53935727, "link": "https://stackoverflow.com/questions/53935727/how-do-i-use-multiple-types-with-the-same-interface-in-different-scenarios-with", "title": "How do I use multiple types with the same interface in different scenarios with SimpleInjector?", "body": "<p>Let's say (not necessarily with DI) I have an interface to do something, and two different classes implementing it (doing different \"somethings\"):</p>\n\n<pre><code>public interface ISomethingDoer {\n    void DoSomething();\n}\n\npublic class DoerOfSomethingExciting : IDoSomething { ... }\npublic class DoerOfSomethingBoring : IDoSomething { ... }\n</code></pre>\n\n<p>And I have some method somewhere that uses ISomethingDoers of both types:</p>\n\n<pre><code>public class DoerOfVariousThings {\n    ...\n\n    public DoerOfVariousThings(ISomethingDoer excitingDoer, ISomethingDoer boringDoer) \n    {\n        ...\n    }\n\n    public void DoVariousThings() {\n        this.excitingDoer.DoSomething();\n        this.boringDoer.DoSomething();\n    }\n}\n</code></pre>\n\n<p>But I want to be able to easily recompile with the things being done in a different order:</p>\n\n<pre><code>public void DoVariousThings() {\n    this.excitingDoer.DoSomething();\n    this.boringDoer.DoSomething();\n}\n</code></pre>\n\n<p>I could just swap those two lines, and I'm done.  But what I'd like more is something more like the following:</p>\n\n<pre><code>public class DoerOfVariousThings {\n    ...\n\n    public DoerOfVariousThings(ISomethingDoer firstDoer, ISomethingDoer secondDoer) \n    {\n        ...\n    }\n\n    public void DoVariousThings() {\n        this.firstDoer.DoSomething();\n        this.secondDoer.DoSomething();\n    }\n}\n</code></pre>\n\n<p>That way, with plain, non-container-based, roll-your-own DI, I could make the change in the composition root rather than in the class:</p>\n\n<pre><code>public void BuildRoot() {\n    // The change can be made by slightly modifying the following two lines\n    ISomethingDoer firstDoer = new DoerOfSomethingExciting();\n    ISomethingDoer secondDoer = new DoerOfSomethingBoring();\n\n    var variousDoer = new DoerOfVariousThings(firstDoer, secondDoer);\n\n    ...\n}\n</code></pre>\n\n<p>But how do I support the same sort of thing cleanly with container-based DI? Specifically I'm trying to use SimpleInjector, but more general answers or answers for different frameworks could be helpful too.</p>\n\n<p>Obviously I could register the two concrete <code>ISomethingDoer</code> implementations as concrete classes instead of as interface implementations, but this seems suboptimal: If I understand correctly, either the <code>DoerOfVariousThings</code> constructor would have to take those concrete classes instead of their interface, or else I would make the change in the composition root by swapping the parameter order of the <code>DoerOfVariousThings</code> constructor rather than by changing the newing-up of the objects that fill those parameters.</p>\n\n<p>Really what I think I would like would be something more like the following (imagined syntax):</p>\n\n<pre><code>using (var container = ...) {\n    container.Register&lt;ISomethingDoer, DoerOfSomethingExciting&gt;(\"first\");\n    container.Register&lt;ISomethingDoer, DoerOfSomethingBoring&gt;(\"second\");\n\n    ...\n}\n\n...\n\n[DIParamMap(\"first\", firstDoer)]\n[DIParamMap(\"second\", secondDoer)]\npublic DoerOfVariousThings(ISomethingDoer firstDoer, ISomethingDoer secondDoer) {\n    ...\n}\n</code></pre>\n\n<p>Can I do something like that? Or something better for this sort of scenario? If so, how? Thanks.</p>\n"}, {"tags": ["c#", "xamarin.forms"], "comments": [{"owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 0, "creation_date": 1545849069, "post_id": 53935669, "comment_id": 94711596, "body": "Return asynchronous versions. If someone cannot await it asynchronously, they can always wait synchronously. I don&#39;t know if xamarin.forms has synchronization context, but if so, your library must use <code>.ConfigureAwait(false)</code> to support synchronous scenarios."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1545849093, "post_id": 53935669, "comment_id": 94711605, "body": "Given that these different types of implementations need to <i>behave radically differently</i> and be called <i>radically differently</i> by any consumers, they really shouldn&#39;t implement the same interface to begin with.  You have different behaviors that different consumers will use in one of two different ways. Have an interface for each (externally visible) behavior."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 2, "creation_date": 1545849180, "post_id": 53935669, "comment_id": 94711639, "body": "@FCin That is providing <i>numerous</i> opportunities for lots of different types of bugs, for both the authors and consumers of the library."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "reply_to_user": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 2, "creation_date": 1545849234, "post_id": 53935669, "comment_id": 94711652, "body": "@FCin Given how inaccurate your comment is, would you mind removing it so we don&#39;t spread misinformation?"}, {"owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1545849256, "post_id": 53935669, "comment_id": 94711661, "body": "@Servy This statement is so vague I don&#39;t even know how to answer that."}, {"owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1545849427, "post_id": 53935669, "comment_id": 94711715, "body": "@mason Please point out which part of my statement is incorrect. If we consider the same method, but with synchronous and asynchronous versions of IO, we can remove duplicated code by providing only asynchronous versions. We can avoid possible deadlock by disabling callback to calling thread by using <code>.ConfigureAwait(false)</code>"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "reply_to_user": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 4, "creation_date": 1545849540, "post_id": 53935669, "comment_id": 94711755, "body": "@FCin You&#39;re just introducing more opportunities for issues. From <a href=\"https://blog.stephencleary.com/2012/07/dont-block-on-async-code.html\" rel=\"nofollow noreferrer\">Stephen Cleary&#39;s article</a>: <code>Using ConfigureAwait(false) to avoid deadlocks is a dangerous practice. You would have to use ConfigureAwait(false) for every await in the transitive closure of all methods called by the blocking code, including all third- and second-party code. Using ConfigureAwait(false) to avoid deadlock is at best just a hack). As the title of this post points out, the better solution is \u201cDon\u2019t block on async code\u201d.</code>"}, {"owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1545849771, "post_id": 53935669, "comment_id": 94711837, "body": "@mason Please try to at least understand sentences you are quoting. <i>&quot;the better solution is \u201cDon\u2019t block on async code\u201d&quot;</i>. The point is, we are talking about a scenario where the is no possible way of &quot;not blocking&quot; async code, so <code>.ConfigureAwait(false)</code> is not a hack, but a way of removing duplicated code. If you understand internal workings of async/await, then you are 100% able to provide working library that exposes only asynchronous versions of your methods. Every line of code can introduce bugs and be dangerous if you don&#39;t know what you are doing."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "reply_to_user": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 2, "creation_date": 1545850183, "post_id": 53935669, "comment_id": 94711965, "body": "@FCin It is absolutely a hack. Nothing you&#39;ve said invalidates what Stephen said. Servy pointed out the proper solution: have different interfaces for sync and async. In your quest to remove &quot;duplicate code&quot; (note it&#39;s not really duplicated because you call async code differently) you&#39;re going to introduce bugs. Stephen literally <a href=\"https://rads.stackoverflow.com/amzn/click/com/1449367569\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">wrote the book on async</a>. Do you think you understand the internal workings better than he? Your advice is directly contradicting what he&#39;s said."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 1, "creation_date": 1545850192, "post_id": 53935669, "comment_id": 94711969, "body": "@FCin Yes, it&#39;s <i>technically possible</i>, but it&#39;s extremely likely to have bugs, either in the implementation of the library, or for the caller, because of just how difficult it is to write the code using such an approach correctly. As such, it&#39;s pretty much always a bad idea.  It&#39;s also not at all true to say that it&#39;s the only possible approach. For starters, the question doesn&#39;t provide enough information to assert that they even have a requirement of calling asynchronous methods in synchronous context, but if they did, there are still other approaches to do that, each with their trade offs."}, {"owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1545850355, "post_id": 53935669, "comment_id": 94712015, "body": "@mason I know Stephen&#39;s articles very well and I know that your qoute makes less sense if you actually look at the context of this article. It is supposed to explain why it is better to go async all the way than to wait for async methods synchronously. Environment in which you run the code changes everything."}, {"owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1545850454, "post_id": 53935669, "comment_id": 94712039, "body": "@mason Surely implementing both sync/async versions of each method is safer, but don&#39;t write <i>&quot;Given how inaccurate your comment is&quot;</i> when my comment makes sense and is a reasonable solution to a given problem."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "reply_to_user": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 3, "creation_date": 1545850614, "post_id": 53935669, "comment_id": 94712080, "body": "@FCin I do not consider the need to ensure all 2nd and 3rd party code properly does <code>.ConfigureAwait(false)</code> to be any kind of a reasonable solution. You&#39;re teaching bad habits to others by making statements like that. Async is hard enough for people to learn without needing to sift through such misleading statements."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 1, "creation_date": 1545850749, "post_id": 53935669, "comment_id": 94712115, "body": "@FCin Your comment is inaccurate in that you state it&#39;s the only possible solution, when there are in fact numerous possible solutions.  It&#39;s also not &quot;reasonable&quot; because it&#39;s suggesting a very poor solution, among the various options at hand.  Due to a lack of specifics, it&#39;s difficult to be sure what an ideal solution would be, but it&#39;s pretty unlikely that yours is going to be the best option."}, {"owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1545851282, "post_id": 53935669, "comment_id": 94712292, "body": "@Servy First of all I&#39;ve never stated that my solution is the only possible solution or that it is even the best one. Secondly, depending on what type of methods you want to support, you can be sure about whether they internally implement <code>.ConfigureAwait</code> or not."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 1, "creation_date": 1545851572, "post_id": 53935669, "comment_id": 94712403, "body": "@FCin You posted a comment stating the solution that they <i>must use</i>, despite it not being a solution that the must actually use, or even one that&#39;s desirable for them to use.  Next, it&#39;s <i>not</i> in fact trivial to figure out what methods do or do not use the current synchronization context (or whether that behavior will ever change in the future).  If it&#39;s a method in your code, it&#39;s not always trivial to tell and can often be <i>very</i> difficult to determine, and in code that&#39;s <i>not</i> yours it&#39;s very often not documented at all."}, {"owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1545851686, "post_id": 53935669, "comment_id": 94712443, "body": "@Servy They must use <code>.ConfigureAwait(false)</code> <i>if</i> they decide go with my approach. Not in general."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 1, "creation_date": 1545851867, "post_id": 53935669, "comment_id": 94712506, "body": "@FCin Not even then.  There are numerous possible ways of synchronously waiting on an asynchronous operation without causing bugs.  Trying to use <code>ConfigureAwait</code> is a fairly poor option <i>even among possible solutions to that problem</i>.  It&#39;s not even the best solution to <i>that</i> problem, let alone the only one.  Not only is it bug prone, due to how easy it is to make a mistake, there are numerous things that may be going on in the implementation (or a 3rd party method called by it) that <code>ConfigureAwait</code> doesn&#39;t solve (you need to ensure nothing waits on the current synchronization context)."}, {"owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1545852049, "post_id": 53935669, "comment_id": 94712562, "body": "@Servy Then please suggest a better way of waiting synchronously for a asynchronous call without creating additional tasks in environment with synchronization context."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 1, "creation_date": 1545852433, "post_id": 53935669, "comment_id": 94712675, "body": "@FCin Well they probably <i>shouldn&#39;t be putting themselves in that situation in the first place</i>.  That&#39;s almost certainly the correct solution here. But if you insist, personally I prefer changing the current synchronization context to the default context (if you know nothing in the implementation of that method has a genuine use of the current context), or you can create a message pump to pump messages to the context (if you do actually need to send messages to the current context within the implementation), and you could have an asynchronous implementation that doesn&#39;t use <code>await</code> at all."}, {"owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1546103416, "post_id": 53935669, "comment_id": 94780838, "body": "@Servy I thought about it and you are right. When it comes to 3rd party libraries, my approach would eventually fail. Also it requires a lot of discipline since you have to configure every task in the chain. Writing both sync and async versions would probably be a much better option."}], "owner": {"reputation": 4935, "user_id": 5482465, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/QHF0G.png?s=128&g=1", "display_name": "Money Sets You Free", "link": "https://stackoverflow.com/users/5482465/money-sets-you-free"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545848947, "creation_date": 1545848642, "last_edit_date": 1545848947, "question_id": 53935669, "link": "https://stackoverflow.com/questions/53935669/should-i-make-the-interface-methods-return-task-if-some-consumers-cannot-impleme", "title": "Should I make the interface methods return Task if some consumers cannot implement them?", "body": "<p>I am learning Xamarin.Forms and right now I am reading about shared libraries.\nIf I create an interface for IO operations, should I make the interface methods return <code>Task</code> or <code>Task&lt;...&gt;</code> even if some platform specific projects (iOS, Android, UWP) may not have asynchronous built-in methods to invoke.\nI know that wrapping synchronous IO methods with <code>Task</code> or <code>Task&lt;...&gt;</code> is not a good idea.</p>\n\n<p>Or should I make the interface methods synchronous? It makes the built-in asynchronous methods must be invoked synchronously -- it is also not a good idea.</p>\n"}, {"tags": ["c#", "function", "parameters", "tolist"], "comments": [{"owner": {"reputation": 405, "user_id": 10693074, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7nnzoh6dHhA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gXIEL6tWqr1oQYFtYeGbm9BH_Y0Q/mo/photo.jpg?sz=128", "display_name": "garry man", "link": "https://stackoverflow.com/users/10693074/garry-man"}, "edited": false, "score": 0, "creation_date": 1545847911, "post_id": 53935541, "comment_id": 94711194, "body": "are you using LiteDB?"}, {"owner": {"reputation": 43, "user_id": 8219828, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209817465612630/picture?type=large", "display_name": "Schaggo Mikatis", "link": "https://stackoverflow.com/users/8219828/schaggo-mikatis"}, "reply_to_user": {"reputation": 405, "user_id": 10693074, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7nnzoh6dHhA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gXIEL6tWqr1oQYFtYeGbm9BH_Y0Q/mo/photo.jpg?sz=128", "display_name": "garry man", "link": "https://stackoverflow.com/users/10693074/garry-man"}, "edited": false, "score": 0, "creation_date": 1545848052, "post_id": 53935541, "comment_id": 94711251, "body": "i am using a mysqldb"}, {"owner": {"reputation": 48011, "user_id": 563088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KilOi.jpg?s=128&g=1", "display_name": "Emond Erno", "link": "https://stackoverflow.com/users/563088/emond-erno"}, "edited": false, "score": 0, "creation_date": 1545848311, "post_id": 53935541, "comment_id": 94711327, "body": "Always put the commands and parameters in a queue and have a looping thread send them. The looping thread should send the message and on successfully sending the command remove it from the queue."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1545848537, "post_id": 53935541, "comment_id": 94711405, "body": "Did you try the <b>debugger</b>?? Always do that <b>before</b> coming here!!"}], "answers": [{"tags": [], "owner": {"reputation": 405, "user_id": 10693074, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7nnzoh6dHhA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gXIEL6tWqr1oQYFtYeGbm9BH_Y0Q/mo/photo.jpg?sz=128", "display_name": "garry man", "link": "https://stackoverflow.com/users/10693074/garry-man"}, "is_accepted": false, "score": -1, "last_activity_date": 1545848353, "creation_date": 1545848353, "answer_id": 53935618, "question_id": 53935541, "link": "https://stackoverflow.com/questions/53935541/is-there-a-way-to-queue-a-function-call-and-its-parameters-for-later-calling/53935618#53935618", "title": "Is there a way to queue a function call and its parameters for later calling?", "body": "<p>I think the most sensed approach is to store the function as an object in the database, then later retrieve it.</p>\n\n<pre><code>public class MyFunction{\n     string FuncionName { get; set; }\n     public string Param1 { get; set; }\n     public string Param2 { get; set; }\n     //more params\n}\n</code></pre>\n\n<p>then you could use a comparison operator to invoke the appropriate method.</p>\n\n<pre><code>switch (storedFunction.FunctionName)\n{\n     case \"myFunction\":\n         myFunction();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2083, "user_id": 9638051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/699e59e6a363089ae0059a22a8279a9e?s=128&d=identicon&r=PG&f=1", "display_name": "Immorality", "link": "https://stackoverflow.com/users/9638051/immorality"}, "is_accepted": false, "score": -1, "last_activity_date": 1545848532, "creation_date": 1545848532, "answer_id": 53935655, "question_id": 53935541, "link": "https://stackoverflow.com/questions/53935541/is-there-a-way-to-queue-a-function-call-and-its-parameters-for-later-calling/53935655#53935655", "title": "Is there a way to queue a function call and its parameters for later calling?", "body": "<p>It seems to me that your code is fine except for your foreach loop.</p>\n\n<p>Instead of invoking the stored action, you are starting the same coroutine for each element!</p>\n\n<p>Change your code to this</p>\n\n<pre><code>foreach (Action item in Callsonqueue)\n                item.Invoke():\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 8219828, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209817465612630/picture?type=large", "display_name": "Schaggo Mikatis", "link": "https://stackoverflow.com/users/8219828/schaggo-mikatis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1545848532, "creation_date": 1545847802, "last_edit_date": 1545847964, "question_id": 53935541, "link": "https://stackoverflow.com/questions/53935541/is-there-a-way-to-queue-a-function-call-and-its-parameters-for-later-calling", "title": "Is there a way to queue a function call and its parameters for later calling?", "body": "<p>Is there a way to store function calls and their variable parameters to a database while the player is offline and call them again when the player turns back online. </p>\n\n<p>Hi! I am working on a new game(unity c#), that has the player walking through areas with little reception. The player finds codewords and enters them into a field to unlock content. Meanwhile I want to log the triggered codewords for each user. The problem is the connection might get lost during a session. I managed to queue the functions for each Time the player enters codeword while disconnected, but after getting reception again the player only sends the last entry. \nHelp is much appreciated!</p>\n\n<pre><code>public void NotConnected()\n{\n        CallsOnQueue.Add( () =&gt; StartCoroutine(TestCodeword())); \n}\n\npublic void BackOnline()\n{\n        if (CallsOnQueue.Count == 0)\n        {\n            LookforCodewordInDB();\n        }    \n        else\n        {\n            foreach (Action item in Callsonqueue)\n                StartCoroutine(TestCodeword(teamname, codeword, city, date));\n\n        }\n        Callsonqueue.Clear();\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "math", "matrix"], "comments": [{"owner": {"reputation": 225, "user_id": 5704533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/65JaQ.jpg?s=128&g=1", "display_name": "Wuszt", "link": "https://stackoverflow.com/users/5704533/wuszt"}, "edited": false, "score": 0, "creation_date": 1545848480, "post_id": 53935540, "comment_id": 94711383, "body": "Even if you get access to &quot;System.Windows.Media&quot; Unity&#39;s Matrix4x4 won&#39;t be compatible with it. If i were you i would write extension method to Matrix4x4 which can do that and read a little bit about affine transformations."}, {"owner": {"reputation": 45, "user_id": 10827118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef370fccef33e75bafaed9b2074a816c?s=128&d=identicon&r=PG&f=1", "display_name": "TheMisteryMan", "link": "https://stackoverflow.com/users/10827118/themisteryman"}, "reply_to_user": {"reputation": 225, "user_id": 5704533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/65JaQ.jpg?s=128&g=1", "display_name": "Wuszt", "link": "https://stackoverflow.com/users/5704533/wuszt"}, "edited": false, "score": 0, "creation_date": 1545849148, "post_id": 53935540, "comment_id": 94711623, "body": "Yes, that is what I am looking for, but when it comes to math, I am not the best at it.There must be something that I could do about this, surely. Right now I am just using a bunch of offsets to achieve a inaccurate rotation matrix which is not a great solution to the problem."}], "answers": [{"comments": [{"owner": {"reputation": 225, "user_id": 5704533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/65JaQ.jpg?s=128&g=1", "display_name": "Wuszt", "link": "https://stackoverflow.com/users/5704533/wuszt"}, "edited": false, "score": 2, "creation_date": 1545850194, "post_id": 53935840, "comment_id": 94711970, "body": "Isn&#39;t the same equation without identity matrix sufficient?"}, {"owner": {"reputation": 1236, "user_id": 6780701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b6H3O.jpg?s=128&g=1", "display_name": "vinicius.ras", "link": "https://stackoverflow.com/users/6780701/vinicius-ras"}, "reply_to_user": {"reputation": 225, "user_id": 5704533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/65JaQ.jpg?s=128&g=1", "display_name": "Wuszt", "link": "https://stackoverflow.com/users/5704533/wuszt"}, "edited": false, "score": 1, "creation_date": 1545850606, "post_id": 53935840, "comment_id": 94712076, "body": "@Wuszt It is! Thank you for noticing."}], "tags": [], "owner": {"reputation": 1236, "user_id": 6780701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b6H3O.jpg?s=128&g=1", "display_name": "vinicius.ras", "link": "https://stackoverflow.com/users/6780701/vinicius-ras"}, "is_accepted": true, "score": 3, "last_activity_date": 1545850576, "last_edit_date": 1545850576, "creation_date": 1545849645, "answer_id": 53935840, "question_id": 53935540, "link": "https://stackoverflow.com/questions/53935540/matrix-rotateat-in-unity3d/53935840#53935840", "title": "Matrix.RotateAt in Unity3d", "body": "<p>Creating a rotation matrix around a point can be done following these steps:</p>\n\n<ul>\n<li>Tranlate that matrix to the point where you want it to rotate around.</li>\n<li>Rotate the matrix.</li>\n<li>Translate the matrix back to the origin.</li>\n</ul>\n\n<p>This roughly translates to:</p>\n\n<pre><code>// Set the following variables according to your setup\nVector3 centerOfRotation = ...;\nfloat angleOfRotation = ...;\nVector3 rotationAxis = ...;\n\n// This should calculate the resulting matrix, as described in the answer\nMatrix4x4 translationToCenterPoint = Matrix4x4.Translate(centerOfRotation);\nMatrix4x4 rotation = Matrix4x4.Rotate(Quaternion.AngleAxis(angleOfRotation, rotationAxis));\nMatrix4x4 translationBackToOrigin = Matrix4x4.Translate(-centerOfRotation);\n\nMatrix4x4 resultMatrix = translationToCenterPoint * rotation * translationBackToOrigin;\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 10827118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef370fccef33e75bafaed9b2074a816c?s=128&d=identicon&r=PG&f=1", "display_name": "TheMisteryMan", "link": "https://stackoverflow.com/users/10827118/themisteryman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 53935840, "answer_count": 1, "score": 3, "last_activity_date": 1545850576, "creation_date": 1545847799, "question_id": 53935540, "link": "https://stackoverflow.com/questions/53935540/matrix-rotateat-in-unity3d", "title": "Matrix.RotateAt in Unity3d", "body": "<p>I've been trying to create a rotation matrix around a specified center in <strong>Unity3d</strong>, but the <strong>Matrix4x4</strong> class doesn't provide any functions that allows me to do so, even though C# does provide a function called: </p>\n\n<p><strong>public void RotateAt(double angle, double centerX, double centerY);</strong></p>\n\n<p>Which is located in <strong>System.Windows.Media</strong> namespace but <strong>inaccessible in Unity3d</strong>, is there any way I can create the same rotation matrix in Unity3d? Thank you.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "validation", "razor"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1545848581, "post_id": 53935439, "comment_id": 94711427, "body": "You have quite a number of issues (not question related).  It doesn&#39;t appear you are using the <a href=\"http://blog.stevensanderson.com/2008/09/01/prevent-cross-site-request-forgery-csrf-using-aspnet-mvcs-antiforgerytoken-helper/\" rel=\"nofollow noreferrer\">AntiForgeryToken</a> to prevent cross site forgery&#39;s.  Your <code>label</code> tags <code>for</code> attributes don&#39;t point to other HtmlElement Id&#39;s (just non-standard).  You don&#39;t need to <a href=\"https://stackoverflow.com/questions/11421370/efficient-way-of-updating-list-of-entities/11421706#11421706\">retrieve the object from the database to update it (that&#39;s just more overhead)</a>."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1545848655, "post_id": 53935439, "comment_id": 94711453, "body": "What Validation error messages do you get?"}, {"owner": {"reputation": 869, "user_id": 1024044, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7bo1J.jpg?s=128&g=1", "display_name": "Sgedda", "link": "https://stackoverflow.com/users/1024044/sgedda"}, "edited": false, "score": 0, "creation_date": 1545848949, "post_id": 53935439, "comment_id": 94711556, "body": "Let us know what the error says; catch (DbEntityValidationException e) {     foreach (var eve in e.EntityValidationErrors)"}, {"owner": {"reputation": 505, "user_id": 988363, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a7356de43315d8e780084c395a946c11?s=128&d=identicon&r=PG", "display_name": "Bader H Al Rayyes", "link": "https://stackoverflow.com/users/988363/bader-h-al-rayyes"}, "edited": false, "score": 0, "creation_date": 1545849779, "post_id": 53935439, "comment_id": 94711841, "body": "The error is a validation from the database because I leave the text field empty to make sure that the validation will work on the page, but it does not, that&#39;s why I get the error. the error is not important here because It does not say why my validation is not working..."}, {"owner": {"reputation": 573, "user_id": 2268936, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e4e4cbfff46c6bf5479ce5c9f6062428?s=128&d=identicon&r=PG", "display_name": "Felix Cen", "link": "https://stackoverflow.com/users/2268936/felix-cen"}, "edited": false, "score": 0, "creation_date": 1545852342, "post_id": 53935439, "comment_id": 94712653, "body": "Is this NewsViewModel used at all? Your controller is accepting public ActionResult AlterNews(News model), they are two different objects"}, {"owner": {"reputation": 505, "user_id": 988363, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a7356de43315d8e780084c395a946c11?s=128&d=identicon&r=PG", "display_name": "Bader H Al Rayyes", "link": "https://stackoverflow.com/users/988363/bader-h-al-rayyes"}, "reply_to_user": {"reputation": 573, "user_id": 2268936, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e4e4cbfff46c6bf5479ce5c9f6062428?s=128&d=identicon&r=PG", "display_name": "Felix Cen", "link": "https://stackoverflow.com/users/2268936/felix-cen"}, "edited": false, "score": 0, "creation_date": 1545853242, "post_id": 53935439, "comment_id": 94712870, "body": "@FelixCen No, I changed the controller in the question , also improved the view ( i guess)"}, {"owner": {"reputation": 573, "user_id": 2268936, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e4e4cbfff46c6bf5479ce5c9f6062428?s=128&d=identicon&r=PG", "display_name": "Felix Cen", "link": "https://stackoverflow.com/users/2268936/felix-cen"}, "edited": false, "score": 0, "creation_date": 1545853407, "post_id": 53935439, "comment_id": 94712911, "body": "What is the model for the view? and what is the implementation of News.cs?"}, {"owner": {"reputation": 505, "user_id": 988363, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a7356de43315d8e780084c395a946c11?s=128&d=identicon&r=PG", "display_name": "Bader H Al Rayyes", "link": "https://stackoverflow.com/users/988363/bader-h-al-rayyes"}, "edited": false, "score": 0, "creation_date": 1545853482, "post_id": 53935439, "comment_id": 94712925, "body": "The model of view is @model BackOffice.EFModel.News"}, {"owner": {"reputation": 505, "user_id": 988363, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a7356de43315d8e780084c395a946c11?s=128&d=identicon&r=PG", "display_name": "Bader H Al Rayyes", "link": "https://stackoverflow.com/users/988363/bader-h-al-rayyes"}, "edited": false, "score": 0, "creation_date": 1545853531, "post_id": 53935439, "comment_id": 94712943, "body": "what is the implementation of News.cs? i do not understand this part sorry , i am a begginer, care to explain ?"}, {"owner": {"reputation": 573, "user_id": 2268936, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e4e4cbfff46c6bf5479ce5c9f6062428?s=128&d=identicon&r=PG", "display_name": "Felix Cen", "link": "https://stackoverflow.com/users/2268936/felix-cen"}, "edited": false, "score": 0, "creation_date": 1545853582, "post_id": 53935439, "comment_id": 94712966, "body": "Your controller does not accept NewsViewModel but News.  public ActionResult AlterNews(News model). So, NewsViewModel  and News are two different objects.  Can you also, post the entire code of the view?"}, {"owner": {"reputation": 505, "user_id": 988363, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a7356de43315d8e780084c395a946c11?s=128&d=identicon&r=PG", "display_name": "Bader H Al Rayyes", "link": "https://stackoverflow.com/users/988363/bader-h-al-rayyes"}, "edited": false, "score": 0, "creation_date": 1545853680, "post_id": 53935439, "comment_id": 94712995, "body": "The AlterNews(News model ) News here is the same =&gt; model BackOffice.EFModel.News , where did I go wrong ?"}, {"owner": {"reputation": 505, "user_id": 988363, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a7356de43315d8e780084c395a946c11?s=128&d=identicon&r=PG", "display_name": "Bader H Al Rayyes", "link": "https://stackoverflow.com/users/988363/bader-h-al-rayyes"}, "reply_to_user": {"reputation": 573, "user_id": 2268936, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e4e4cbfff46c6bf5479ce5c9f6062428?s=128&d=identicon&r=PG", "display_name": "Felix Cen", "link": "https://stackoverflow.com/users/2268936/felix-cen"}, "edited": false, "score": 0, "creation_date": 1545853762, "post_id": 53935439, "comment_id": 94713024, "body": "@FelixCen I changed the controller, and removed the NewsViewModel, I do not use it anymore, please check the question again and see the new code for controller ."}, {"owner": {"reputation": 505, "user_id": 988363, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a7356de43315d8e780084c395a946c11?s=128&d=identicon&r=PG", "display_name": "Bader H Al Rayyes", "link": "https://stackoverflow.com/users/988363/bader-h-al-rayyes"}, "edited": false, "score": 0, "creation_date": 1545853818, "post_id": 53935439, "comment_id": 94713039, "body": "I also capable to edit the form and save it normally, my problem here is the validation when I leave one of the form feilds empty."}, {"owner": {"reputation": 505, "user_id": 988363, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a7356de43315d8e780084c395a946c11?s=128&d=identicon&r=PG", "display_name": "Bader H Al Rayyes", "link": "https://stackoverflow.com/users/988363/bader-h-al-rayyes"}, "reply_to_user": {"reputation": 573, "user_id": 2268936, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e4e4cbfff46c6bf5479ce5c9f6062428?s=128&d=identicon&r=PG", "display_name": "Felix Cen", "link": "https://stackoverflow.com/users/2268936/felix-cen"}, "edited": false, "score": 0, "creation_date": 1545854647, "post_id": 53935439, "comment_id": 94713282, "body": "@FelixCen I think I understood the issue here, but I can not manage to resolve it, I am making validation on my MVC model using annotations, but when I update, I use my EF model in the view, which why the whole thing does not get validated.."}, {"owner": {"reputation": 573, "user_id": 2268936, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e4e4cbfff46c6bf5479ce5c9f6062428?s=128&d=identicon&r=PG", "display_name": "Felix Cen", "link": "https://stackoverflow.com/users/2268936/felix-cen"}, "edited": false, "score": 0, "creation_date": 1545855128, "post_id": 53935439, "comment_id": 94713439, "body": "Just don&#39;t use the EF model in the view, and use the view model. When you return the view model from the GET method you will need to do the same"}, {"owner": {"reputation": 114, "user_id": 5515531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e3a602fc54a5b3aedb0487fd5d0c41f?s=128&d=identicon&r=PG&f=1", "display_name": "ecstatic", "link": "https://stackoverflow.com/users/5515531/ecstatic"}, "edited": false, "score": 0, "creation_date": 1545903473, "post_id": 53935439, "comment_id": 94724314, "body": "maybe your entity model does not accept null value"}], "answers": [{"comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1545864161, "post_id": 53935658, "comment_id": 94715838, "body": "How does this answer <b>solve the question</b> <i>My problem is every time I test the validation by leaving one of the fields empty, I get context.SaveChanges() error</i>?  It looks like a step to finding the problem, but it does not at all solve the problem."}], "tags": [], "owner": {"reputation": 573, "user_id": 2268936, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e4e4cbfff46c6bf5479ce5c9f6062428?s=128&d=identicon&r=PG", "display_name": "Felix Cen", "link": "https://stackoverflow.com/users/2268936/felix-cen"}, "is_accepted": false, "score": 1, "last_activity_date": 1545848568, "creation_date": 1545848568, "answer_id": 53935658, "question_id": 53935439, "link": "https://stackoverflow.com/questions/53935439/validation-does-not-work-when-leave-field-empty/53935658#53935658", "title": "Validation does not work when leave field empty", "body": "<p>You can try checking the underlying validation error, that will give you hints what is causing the error. </p>\n\n<pre><code>try{\n\n      var update = context.News.SingleOrDefault(x =&gt; x.Id == model.Id);\n\n      update.Title = model.Title;\n      update.Text = model.Text;\n      context.SaveChanges();\n\n}\ncatch(DbEntityValidationException ex)\n{\n        StringBuilder result = new StringBuilder();\n        var entityErrors = ex.EntityValidationErrors;\n\n        foreach (var entity in entityErrors)\n        {\n            foreach (var error in entity.ValidationErrors)\n            {\n                result.Append(error.PropertyName + \" - \" + error.ErrorMessage + \"\\n\");\n            }\n        }        \n        throw;\n}\n</code></pre>\n"}], "owner": {"reputation": 505, "user_id": 988363, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a7356de43315d8e780084c395a946c11?s=128&d=identicon&r=PG", "display_name": "Bader H Al Rayyes", "link": "https://stackoverflow.com/users/988363/bader-h-al-rayyes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545859764, "creation_date": 1545847180, "last_edit_date": 1545859764, "question_id": 53935439, "link": "https://stackoverflow.com/questions/53935439/validation-does-not-work-when-leave-field-empty", "title": "Validation does not work when leave field empty", "body": "<p>I am trying to create validation for my fields in the view, so if the user leaves them blank, a validation message appears under each field.</p>\n\n<p>My problem is every time I test the validation by leaving one of the fields empty, I get <code>context.SaveChanges()</code> error, and I get this message</p>\n\n<blockquote>\n  <p>Validation failed for one or more entities. See 'EntityValidationErrors' property for more details, where is the issue here?</p>\n</blockquote>\n\n<p>Here is my model</p>\n\n<pre><code>public class NewsViewModel\n{\n    public int Id { get; set; }\n    [Required(ErrorMessage = \"Title is required\")]\n    public string Title { get; set; }\n    [Required(ErrorMessage = \"Text is required\")]\n    public string Text { get; set; }\n\n}\n</code></pre>\n\n<p>Here is my controller, </p>\n\n<pre><code>public ActionResult AlterNews(News model )\n{\n    var context = new BackOfficeEntities();\n    if (ModelState.IsValid)\n    {\n\n            var update = context.News.SingleOrDefault(x =&gt; x.Id == model.Id);\n\n            update.Title = model.Title;\n            update.Text = model.Text;\n            context.SaveChanges();\n            return RedirectToAction(\"Index\", \"News\");       \n    }\n    return View(model);\n}\n</code></pre>\n\n<p>And finally, the view</p>\n\n<pre><code>@using (Html.BeginForm(\"AlterNews\", \"News\"))\n{\n    @Html.AntiForgeryToken()\n\n    @Html.ValidationSummary(\"\", new { @class = \"text-danger\" })\n\n    &lt;fieldset&gt;\n        &lt;div class=\"col-md-4\"&gt;\n            &lt;div class=\"form-group\"&gt;\n                @Html.HiddenFor(Model =&gt; Model.Id, new { @class = \"control-label\" })\n\n                @Html.LabelFor(Model =&gt; Model.Title)\n                @Html.TextBoxFor(Model =&gt; Model.Title, new { @class = \"form-control\" })\n                @Html.ValidationMessageFor(Model =&gt; Model.Title)\n            &lt;/div&gt;\n\n            &lt;div class=\"form-group\"&gt;\n\n\n                @Html.LabelFor(Model =&gt; Model.Text, new { @class = \"control-label\" })\n                @Html.TextAreaFor(Model =&gt; Model.Text, new { @class = \"form-control\", rows = \"10\" })\n                @Html.ValidationMessageFor(Model =&gt; Model.Text)\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/fieldset&gt;\n    &lt;div class=\"col-md-4\"&gt;\n\n        &lt;button type=\"submit\" class=\"btn btn-default\" name=\"buttonSubmit\" value=\"Edit News\"&gt;Edit News&lt;/button&gt;\n    &lt;/div&gt;\n}\n@section scripts {\n    @Scripts.Render(\"~/bundles/jqueryval\")\n}\n</code></pre>\n"}, {"tags": ["c#", "razor", "asp.net-core", "asp.net-core-mvc", "razorengine"], "comments": [{"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "edited": false, "score": 2, "creation_date": 1545876031, "post_id": 53935389, "comment_id": 94717666, "body": "It seems <code>RazorLightEngine</code> has not implemented localizaion. Check <a href=\"https://github.com/toddams/RazorLight/issues/166\" rel=\"nofollow noreferrer\">IViewLocalizer in cshtml template #166</a>"}], "owner": {"reputation": 3066, "user_id": 3878764, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/cYlMQ.png?s=128&g=1", "display_name": "John-Luke Laue", "link": "https://stackoverflow.com/users/3878764/john-luke-laue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545851539, "creation_date": 1545846869, "last_edit_date": 1545851539, "question_id": 53935389, "link": "https://stackoverflow.com/questions/53935389/use-localization-in-cshtml-razor-template-using-razorlightengine", "title": "Use localization in .cshtml razor template using RazorLightEngine", "body": "<p>I'm using RazorLightEngine to transform .cshtml files (templates) into html that I can use in emails.</p>\n\n<p>I would like to add localization to these templates.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/localization?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\">The documentation</a> talks about how to do this for views, but I'm not sure how to implement this for just rendering templates as strings.</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 4118, "user_id": 10316640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/989bf10b54e525330bc9631e0be9e620?s=128&d=identicon&r=PG&f=1", "display_name": "Strom", "link": "https://stackoverflow.com/users/10316640/strom"}, "edited": false, "score": 0, "creation_date": 1545847478, "post_id": 53935374, "comment_id": 94711066, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/12556767/how-do-i-get-the-current-line-number\">How do I get the current line number?</a> . I realize the dynamic loading is different, but, the accepted answer should work."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 3556335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc773cbd26ba0858e4755a662cb293ad?s=128&d=identicon&r=PG&f=1", "display_name": "Artemiy", "link": "https://stackoverflow.com/users/3556335/artemiy"}, "edited": false, "score": 0, "creation_date": 1545849290, "post_id": 53935762, "comment_id": 94711676, "body": "InnerException is null"}, {"owner": {"reputation": 23752, "user_id": 1118978, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2rloq.jpg?s=128&g=1", "display_name": "Dervi\u015f Kay\u0131mba\u015f\u0131o\u011flu", "link": "https://stackoverflow.com/users/1118978/dervi%c5%9f-kay%c4%b1mba%c5%9f%c4%b1o%c4%9flu"}, "reply_to_user": {"reputation": 33, "user_id": 3556335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc773cbd26ba0858e4755a662cb293ad?s=128&d=identicon&r=PG&f=1", "display_name": "Artemiy", "link": "https://stackoverflow.com/users/3556335/artemiy"}, "edited": false, "score": 0, "creation_date": 1545849351, "post_id": 53935762, "comment_id": 94711691, "body": "In my case it isnt. I will edit my post to share my attempt with you"}, {"owner": {"reputation": 33, "user_id": 3556335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc773cbd26ba0858e4755a662cb293ad?s=128&d=identicon&r=PG&f=1", "display_name": "Artemiy", "link": "https://stackoverflow.com/users/3556335/artemiy"}, "edited": false, "score": 0, "creation_date": 1545853058, "post_id": 53935762, "comment_id": 94712822, "body": "I was able to get InnerException but it still returns wrong line &quot;public static string TestValue()&quot;"}, {"owner": {"reputation": 23752, "user_id": 1118978, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2rloq.jpg?s=128&g=1", "display_name": "Dervi\u015f Kay\u0131mba\u015f\u0131o\u011flu", "link": "https://stackoverflow.com/users/1118978/dervi%c5%9f-kay%c4%b1mba%c5%9f%c4%b1o%c4%9flu"}, "reply_to_user": {"reputation": 33, "user_id": 3556335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc773cbd26ba0858e4755a662cb293ad?s=128&d=identicon&r=PG&f=1", "display_name": "Artemiy", "link": "https://stackoverflow.com/users/3556335/artemiy"}, "edited": false, "score": 0, "creation_date": 1545854295, "post_id": 53935762, "comment_id": 94713177, "body": "you need to count from class declaration. It doesn&#39;t count class declaration part. I don&#39;t know why"}, {"owner": {"reputation": 33, "user_id": 3556335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc773cbd26ba0858e4755a662cb293ad?s=128&d=identicon&r=PG&f=1", "display_name": "Artemiy", "link": "https://stackoverflow.com/users/3556335/artemiy"}, "edited": false, "score": 0, "creation_date": 1545856652, "post_id": 53935762, "comment_id": 94713825, "body": "if I add to the TestValue method line var x = 1 / (DateTime.Now.Year - 2018); it returns the right line number"}, {"owner": {"reputation": 33, "user_id": 3556335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc773cbd26ba0858e4755a662cb293ad?s=128&d=identicon&r=PG&f=1", "display_name": "Artemiy", "link": "https://stackoverflow.com/users/3556335/artemiy"}, "edited": false, "score": 1, "creation_date": 1545948075, "post_id": 53935762, "comment_id": 94741260, "body": "I removed this line compilerPars.CompilerOptions += &quot; /debug:pdbonly&quot;; After that everything works as intended"}], "tags": [], "owner": {"reputation": 23752, "user_id": 1118978, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2rloq.jpg?s=128&g=1", "display_name": "Dervi\u015f Kay\u0131mba\u015f\u0131o\u011flu", "link": "https://stackoverflow.com/users/1118978/dervi%c5%9f-kay%c4%b1mba%c5%9f%c4%b1o%c4%9flu"}, "is_accepted": false, "score": 0, "last_activity_date": 1545849687, "last_edit_date": 1545849687, "creation_date": 1545849154, "answer_id": 53935762, "question_id": 53935374, "link": "https://stackoverflow.com/questions/53935374/get-line-number-of-exception-of-dynamically-loaded-assembly/53935762#53935762", "title": "Get line number of exception of dynamically loaded assembly", "body": "<p>you need to get Inner Exception. Try in this way : </p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing Microsoft.CSharp;\nusing System.CodeDom.Compiler;\nusing System.Reflection;\n\npublic class Folders\n{\n\n    public static void Main(string[] args)\n    {\n        try\n        {\n            var source = @\"using System;\n\npublic static class DymamicClass\n{\n    public static string TestValue()\n    {\n        var items = new string[] { \"\"item1\"\", \"\"item2\"\" };\n            return items[9];\n        }\n\n    }\";\n            CSharpCodeProvider Compiler = new CSharpCodeProvider();\n            List&lt;string&gt; importDlls = new List&lt;string&gt;(new string[] { \"System.dll\", \"System.Data.dll\" });\n\n            CompilerParameters compilerPars = new CompilerParameters(importDlls.ToArray());\n            compilerPars.GenerateInMemory = true;\n            compilerPars.IncludeDebugInformation = true;\n            compilerPars.CompilerOptions += \" /debug:pdbonly\";\n\n            string path = Assembly.GetExecutingAssembly().Location;\n            compilerPars.ReferencedAssemblies.Add(path);\n\n            CompilerResults Results = Compiler.CompileAssemblyFromSource(compilerPars, source);\n\n            Assembly assembly = Results.CompiledAssembly;\n            Type program = assembly.GetType(\"DymamicClass\");\n            MethodInfo main = program.GetMethod(\"TestValue\");\n            main.Invoke(null, null);\n        }\n        catch (Exception e)\n        {\n            var trace = new System.Diagnostics.StackTrace(e.InnerException, true);\n            if (trace.FrameCount &gt; 0)\n            {\n                var frame = trace.GetFrame(trace.FrameCount - 1);\n                var className = frame.GetMethod().ReflectedType.Name;\n                var methodName = frame.GetMethod().ToString();\n                var lineNumber = frame.GetFileLineNumber();\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 3556335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc773cbd26ba0858e4755a662cb293ad?s=128&d=identicon&r=PG&f=1", "display_name": "Artemiy", "link": "https://stackoverflow.com/users/3556335/artemiy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1545849687, "creation_date": 1545846726, "last_edit_date": 1545847507, "question_id": 53935374, "link": "https://stackoverflow.com/questions/53935374/get-line-number-of-exception-of-dynamically-loaded-assembly", "title": "Get line number of exception of dynamically loaded assembly", "body": "<p>I have an external text file, it is C# class with some logic. In my main program I need to compile that file and run whatever method of that class.</p>\n\n<p>Example of the external class:</p>\n\n<pre><code>using System;\n\npublic class DymamicClass\n{\n    public string TestValue()\n    {\n        var items = new string[] { \"item1\", \"item2\" };\n        return items[9];\n    }\n}\n</code></pre>\n\n<p>For loading external file I use these steps:</p>\n\n<pre><code>CSharpCodeProvider Compiler = new CSharpCodeProvider();\nList&lt;string&gt; importDlls = new List&lt;string&gt;(new string[] { \"System.dll\", \"System.Data.dll\" });\n\nCompilerParameters compilerPars = new CompilerParameters(importDlls.ToArray());\ncompilerPars.GenerateInMemory = true;\ncompilerPars.IncludeDebugInformation = true;\ncompilerPars.CompilerOptions += \" /debug:pdbonly\";\n\nstring path = Assembly.GetExecutingAssembly().Location;\ncompilerPars.ReferencedAssemblies.Add(path);\n\nCompilerResults Results = Compiler.CompileAssemblyFromFile(compilerPars, codePath);\n</code></pre>\n\n<p>After the file loaded to the program, I try to execute TestValue() method from the loaded class. There is \"index was outside the bounds of the array\" exception in the method. I need to get the exact line that threw exception. But instead of line \"return items[9];\" I always get the line \"public string TestValue()\".</p>\n\n<p>Here is sample how I process exception:</p>\n\n<pre><code>var trace = new System.Diagnostics.StackTrace(exception, true);\nif (trace.FrameCount &gt; 0)\n{\n    var frame = trace.GetFrame(trace.FrameCount - 1);\n    var className = frame.GetMethod().ReflectedType.Name;\n    var methodName = frame.GetMethod().ToString();\n    var lineNumber = frame.GetFileLineNumber();\n}\n</code></pre>\n\n<p>How to get the right line of exception?</p>\n"}, {"tags": ["c#", "windows", "winforms"], "comments": [{"owner": {"reputation": 741, "user_id": 8004593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nAk4F.jpg?s=128&g=1", "display_name": "lagripe", "link": "https://stackoverflow.com/users/8004593/lagripe"}, "edited": false, "score": 0, "creation_date": 1545846589, "post_id": 53935328, "comment_id": 94710825, "body": "Basically 0 or 1"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 2, "creation_date": 1545846619, "post_id": 53935328, "comment_id": 94710836, "body": "<code>checkboxN.Checked</code> is already a bool. save that"}, {"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 0, "creation_date": 1545846751, "post_id": 53935328, "comment_id": 94710870, "body": "You can easily loop over your controls if you have them all in a common container, such as a <code>Panel</code> (or really, whatever works..). As for the database aspect of it, you&#39;re missing a <b>lot</b> of details from you posted question. We don&#39;t even know what DB you&#39;re using, let alone if you&#39;ve tried your own hand at inserting any data into it via C# code yet."}, {"owner": {"reputation": 1, "user_id": 10836106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3504ad2d8efb0b4bcfee82eb26ad5b5e?s=128&d=identicon&r=PG&f=1", "display_name": "user10836106", "link": "https://stackoverflow.com/users/10836106/user10836106"}, "edited": false, "score": 0, "creation_date": 1545846934, "post_id": 53935328, "comment_id": 94710918, "body": "i have 63 check box, how can i save all check box value with one code. OR i write if condition for every check box"}, {"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 0, "creation_date": 1545846935, "post_id": 53935328, "comment_id": 94710919, "body": "Also just to clarify, are you trying to save True in the database if <i>any</i> of your 63 checkboxes are checked? In your current code, you&#39;re sharing one variable <code>strCheckValue</code> for all of your checkboxes."}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1545848280, "post_id": 53935328, "comment_id": 94711313, "body": "<code>how can i save all check box value with one code</code> does that mean all 63 map to one table?  Sounds like 63 different parameters."}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 0, "creation_date": 1545854835, "post_id": 53935328, "comment_id": 94713347, "body": "It will involve more work up-front, but if you want to minimize user-written code, you could create a business object to hold all 63 booleans and then use a binding source component and map each text box to the various properties of your object.  The advantage of this is you can use a single event (bindingSource.CurrentChanged) to see if <b>ANY</b> of the values change and then save to the database.  There is no getting around the fact that you will need at least 63 parameters, unless you do dynamic SQL (which I discourage), so I&#39;d take that as a given"}], "answers": [{"tags": [], "owner": {"reputation": 4619, "user_id": 637840, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/x12bW.png?s=128&g=1", "display_name": "NicoRiff", "link": "https://stackoverflow.com/users/637840/nicoriff"}, "is_accepted": false, "score": 0, "last_activity_date": 1545846819, "creation_date": 1545846819, "answer_id": 53935385, "question_id": 53935328, "link": "https://stackoverflow.com/questions/53935328/how-to-save-checkbox-as-a-true-or-false-in-database/53935385#53935385", "title": "how to save checkbox as a true or false in database", "body": "<p>First of all: Don\u00b4t name your checkboxes like that. Name them after the real meaning of what they are suposed to do. It is much more simpler to know what \"chkIsUserAdministrator\" does than what \"checkbox54\" does.</p>\n\n<p>Having said that, try to use a library such as <a href=\"https://github.com/StackExchange/Dapper\" rel=\"nofollow noreferrer\">Dapper</a>. You will have to map the value of your checkbox to a corresponding datatype. For example if you use SQL, you can map the value as a BIT type.</p>\n"}], "owner": {"reputation": 1, "user_id": 10836106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3504ad2d8efb0b4bcfee82eb26ad5b5e?s=128&d=identicon&r=PG&f=1", "display_name": "user10836106", "link": "https://stackoverflow.com/users/10836106/user10836106"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 346, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1545847831, "creation_date": 1545846434, "last_edit_date": 1545847831, "question_id": 53935328, "link": "https://stackoverflow.com/questions/53935328/how-to-save-checkbox-as-a-true-or-false-in-database", "title": "how to save checkbox as a true or false in database", "body": "<p>i am newbie in c# windows form programming. i am working on project that have too many check box name as checkbox1, checkbox2, checkbox3 ..... checkbox63.</p>\n\n<p>how can i save, if user checked the check box then save value as a \"true\" in database and if user unchecked the check box then save value as a \"false\" in database.</p>\n\n<p>i have 63 check boxes, how can i saved them in database.</p>\n\n<p>i try this code. but i want to do it with loop. it is possible to do it, if is it then please share code with me</p>\n\n<pre><code>    string strCheckValue = \"\";\n\n    if (checkbox1.Checked)\n\n    {\n\n      strCheckValue = \"True\";\n\n    }\n\n    if (checkbox2.Checked)\n\n    {\n\n      strCheckValue = \"True\";\n\n    }\n</code></pre>\n\n<p>........ and so on.</p>\n\n<p>please help...</p>\n\n<p>Update::</p>\n\n<p>i am using sql database. and every check box have a column in database, means that i have 63 check box and in sql database i have also 63 column. i just want that if user checked the check box then the value save \"true\" in database.</p>\n\n<p>i know i making too much column. please suggest me right ways </p>\n"}, {"tags": ["c#", "windows", "sql-server-express"], "comments": [{"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1545846613, "post_id": 53935314, "comment_id": 94710834, "body": "You need a database engine, the mdf file is not enough. You might consider <a href=\"https://www.nuget.org/packages/System.Data.SQLite\" rel=\"nofollow noreferrer\">using a server-less database like Sqlite</a> which would be much easier to manage."}, {"owner": {"reputation": 53, "user_id": 9094454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3026bd461e7184045fee67d7dc9e191d?s=128&d=identicon&r=PG", "display_name": "Malerosa", "link": "https://stackoverflow.com/users/9094454/malerosa"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1545847252, "post_id": 53935314, "comment_id": 94710990, "body": "I&#39;ll give it a shot, any suggestion ? How should i do ? do i have to drop all my database to recreates it or i can directly use the .mdf file ?"}, {"owner": {"reputation": 2030, "user_id": 5649626, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Bfz5h.jpg?s=128&g=1", "display_name": "Miamy", "link": "https://stackoverflow.com/users/5649626/miamy"}, "edited": false, "score": 0, "creation_date": 1545847785, "post_id": 53935314, "comment_id": 94711150, "body": "Take a look on <a href=\"https://docs.microsoft.com/en-us/sql/database-engine/configure-windows/sql-server-2016-express-localdb?view=sql-server-2017\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/sql/database-engine/configure-windo&zwnj;&#8203;ws/&hellip;</a>"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1545847811, "post_id": 53935314, "comment_id": 94711156, "body": "You <a href=\"https://github.com/ErikEJ/SqlCeToolbox/wiki/Migrate-a-SQL-Server-database-to-SQL-Server-Compact-or-SQLite\" rel=\"nofollow noreferrer\">might be able to import your existing database</a> - I&#39;ve never tried this myself. Your code will have to change too - where you have &quot;Sql&quot; you would use &quot;Sqlite&quot;, e.g.: <code>SqlConnection</code> becomes <code>SqliteConnection</code>"}, {"owner": {"reputation": 53, "user_id": 9094454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3026bd461e7184045fee67d7dc9e191d?s=128&d=identicon&r=PG", "display_name": "Malerosa", "link": "https://stackoverflow.com/users/9094454/malerosa"}, "edited": false, "score": 0, "creation_date": 1546113754, "post_id": 53935314, "comment_id": 94783424, "body": "Ok, so I come back here because I have another issue.  So I have switch to Sqlite but I would like to k ow if there a way to visualize database structure (like sql server, right click on database new query and select statement, table appears as a schema), is it possible to do so with sqlite?  I would like to specify that since the tool is for my business, I can&#39;t download from web but I can with nugget packages.  And second thing, what should I specify on connection string to query on sqlite db? I just need to change datasource to local db path or is there anything else to change?  Thanks"}], "owner": {"reputation": 53, "user_id": 9094454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3026bd461e7184045fee67d7dc9e191d?s=128&d=identicon&r=PG", "display_name": "Malerosa", "link": "https://stackoverflow.com/users/9094454/malerosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545846622, "creation_date": 1545846279, "last_edit_date": 1545846622, "question_id": 53935314, "link": "https://stackoverflow.com/questions/53935314/create-a-sql-server-express-instance-of-mssqllocaldb-on-a-client-computer", "title": "Create a SQL Server Express instance of MSSQLLocalDB on a client computer", "body": "<p>I am facing an issue since 2 week so here I am requesting your help.</p>\n\n<p>I'm developing a tool in C# (Visual Studio 2017, SQL Server Express, WPF window)\nthis tool has to fill a word template automatically, and there are no problem with it. Thing is, since the tool needs to work with a local database (SQL Server Express), I have to make it create an instance of <code>MSSQLLocalDB</code> on each client who needs to use the tool.</p>\n\n<p>When I launch it in debug mode on my own computer it works perfectly, but when I try to deploy it on a client computer, I get an error:</p>\n\n<blockquote>\n  <p>Access denied for user 'username'</p>\n</blockquote>\n\n<p>I added the <code>.mdf</code> database in the resource folder, I changed the <code>BuildAction</code> to <code>Content</code> and create the following snippet :</p>\n\n<pre><code>string DBpath = Path.GetTempPath() + \"LocalDatabaseCopy.mdf\"; \n\nif(!File.Exists(DatabasePath))\n{\n    File.WriteAllBytes(DBpath, Propreties.Resources.LocalDatabse);\n}\n</code></pre>\n\n<p>By doing this, I check if a copy of my local database exists on the client computer, if not it copies the local database to the temp folder of the client computer.</p>\n\n<p>I manually checked if the copy exists in the temp folder and it does, but the tool won't use it, so in the connection string I set the datasource to <code>(localdb)\\MSSQLLocalDB</code> and added the following line </p>\n\n<pre><code>builder.AttachDatabase = LocalDatabaseCopy.mdf\n</code></pre>\n\n<p>Now it uses the local copy but I get an error telling me that there are no instance of <code>MSSQLLocalDB</code> on the client computer, even when I pack it up in a setup with <code>SqlServerLocalDB</code> as a requirement. I really need to make it work on any client can someone explain me how to create a local instance of <code>MSSQLLocalDB</code> on each client computer and telling the tool to use it? </p>\n"}, {"tags": ["c#", "firebase", "google-cloud-firestore", "rpc", "grpc"], "answers": [{"comments": [{"owner": {"reputation": 1112, "user_id": 5454771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef751116485f736811348977820b4cfc?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Tattermusch", "link": "https://stackoverflow.com/users/5454771/jan-tattermusch"}, "edited": false, "score": 1, "creation_date": 1547131925, "post_id": 53937348, "comment_id": 95093713, "body": "You are right that in general, the request and response streams are fully independent in gRPC. Nevertheless, it depends on the API owner to define their own &quot;protocol&quot; on top of a bidi call for what is the semantics of sending requests, and closing the request stream is. In this case, it looks like the requestStream.CompleteAsync() is  treated by Firestore as the client not being interested receiving any more updates (which makes sense, as the client should have a way to tell server that he&#39;s done with his job and the server can now finish the call)."}], "tags": [], "owner": {"reputation": 467, "user_id": 6256477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b293f17393308fb0837747710fef2738?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Z.", "link": "https://stackoverflow.com/users/6256477/simon-z"}, "is_accepted": true, "score": 2, "last_activity_date": 1545859601, "creation_date": 1545859601, "answer_id": 53937348, "question_id": 53935311, "link": "https://stackoverflow.com/questions/53935311/listening-to-firestore-document-changes-through-rpc-api/53937348#53937348", "title": "Listening to Firestore Document Changes Through RPC API", "body": "<p>Ok, I found the error I made, maybe this helps future generations, I just removed the following line to make it work:</p>\n\n<pre><code>    // 2. wait until listenRequest is sent\n    await call.RequestStream.CompleteAsync();\n</code></pre>\n\n<p>It seems in an <code>AsyncDuplexStreamingCall</code> the streams are not independent from each other (unlike the two bidirectional streams in <a href=\"https://grpc.io/docs/tutorials/basic/csharp.html#streaming-rpcs\" rel=\"nofollow noreferrer\">the example I used as a basis</a>). On completion of the <code>RequestStream</code> the <code>ResponseStream</code> also terminated, so I wasn't able to observe any changes. The <em>Duplex</em> in <code>AsyncDuplexStreamingCall</code> kind of implies this behaviour.</p>\n"}], "owner": {"reputation": 467, "user_id": 6256477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b293f17393308fb0837747710fef2738?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Z.", "link": "https://stackoverflow.com/users/6256477/simon-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "accepted_answer_id": 53937348, "answer_count": 1, "score": 1, "last_activity_date": 1545859601, "creation_date": 1545846235, "last_edit_date": 1545846344, "question_id": 53935311, "link": "https://stackoverflow.com/questions/53935311/listening-to-firestore-document-changes-through-rpc-api", "title": "Listening to Firestore Document Changes Through RPC API", "body": "<p>I'm currently trying to consume the <a href=\"https://cloud.google.com/firestore/docs/reference/rpc/\" rel=\"nofollow noreferrer\">RPC API</a> provided by Google Firestore through an Unity Application via the following Code Snippet. The snippet is based on the <a href=\"https://github.com/googleapis/googleapis/blob/master/google/firestore/v1beta1/firestore.proto\" rel=\"nofollow noreferrer\">Protobuffer Definitions</a> and the official <a href=\"https://grpc.io/docs/tutorials/basic/csharp.html#streaming-rpcs\" rel=\"nofollow noreferrer\">gRPC Tutorial</a> showing how to implement and consume bidirectional streams:</p>\n\n<pre><code>public async void ListenTest()\n{\n    // create cancellation token:\n    CancellationTokenSource source = new CancellationTokenSource();\n    CancellationToken cancellationToken = source.Token;\n\n    using (AsyncDuplexStreamingCall&lt;ListenRequest, ListenResponse&gt; call = client.Listen())\n    {\n        // create listenRequest with corresponding properties:\n        var listenRequest = new ListenRequest();\n        listenRequest.Database = database;\n        listenRequest.AddTarget = new Target();\n        listenRequest.AddTarget.Documents = new Target.Types.DocumentsTarget\n        {\n            Documents = { database + \"/documents/MyCollection/MyDocument\" }\n        };\n\n        // task to handle response stream messages\n        var responseReaderTask = Task.Run(async () =&gt;\n        {\n            while (await call.ResponseStream.MoveNext(cancellationToken))\n            {\n                ListenResponse loc = call.ResponseStream.Current;\n                Debug.Log(\"Received \" + loc);\n            }\n        });\n\n        Debug.Log(\"Listening for \" + database + \"/documents/MyCollection/MyDocument\");\n\n        // 1. asynchronously send listenRequest\n        await call.RequestStream.WriteAsync(listenRequest);\n\n        // 2. wait until listenRequest is sent\n        await call.RequestStream.CompleteAsync();\n\n        // 3. handle responses...\n        await responseReaderTask;\n    }\n}\n</code></pre>\n\n<p>Executing this immediately terminates <code>responseReaderTask</code>, no changes made within Firestore reach the application.</p>\n\n<p>Is there something wrong with this code? I read a yet unanswered <a href=\"https://stackoverflow.com/questions/51200460/how-to-listen-to-firestore-through-rpc\">similar question</a>, which explains the same problem for GoLang. May be the same issue.</p>\n\n<p>Retrieving a single document via <code>client.GetDocument(getDocumentRequest)</code> works.</p>\n"}, {"tags": ["c#", "entity-framework-core", "ef-fluent-api"], "comments": [{"owner": {"reputation": 14120, "user_id": 844872, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/15cf8e9490ec58e8449f3f05d1c87667?s=128&d=identicon&r=PG", "display_name": "Illep", "link": "https://stackoverflow.com/users/844872/illep"}, "reply_to_user": {"reputation": 21771, "user_id": 247702, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a0f53578503d0cb49e4f39b1d4b8f2d7?s=128&d=identicon&r=PG&f=1", "display_name": "user247702", "link": "https://stackoverflow.com/users/247702/user247702"}, "edited": false, "score": 0, "creation_date": 1545846305, "post_id": 53935288, "comment_id": 94710753, "body": "This is EF core 2.1."}, {"owner": {"reputation": 1236, "user_id": 6780701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b6H3O.jpg?s=128&g=1", "display_name": "vinicius.ras", "link": "https://stackoverflow.com/users/6780701/vinicius-ras"}, "edited": false, "score": 0, "creation_date": 1545846338, "post_id": 53935288, "comment_id": 94710763, "body": "<code>StudentId</code> in your <b>Address Model</b> should be declared as an int."}, {"owner": {"reputation": 14120, "user_id": 844872, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/15cf8e9490ec58e8449f3f05d1c87667?s=128&d=identicon&r=PG", "display_name": "Illep", "link": "https://stackoverflow.com/users/844872/illep"}, "reply_to_user": {"reputation": 1236, "user_id": 6780701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b6H3O.jpg?s=128&g=1", "display_name": "vinicius.ras", "link": "https://stackoverflow.com/users/6780701/vinicius-ras"}, "edited": false, "score": 0, "creation_date": 1545846392, "post_id": 53935288, "comment_id": 94710780, "body": "@vinicius.ras Yes. corrected."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 1, "creation_date": 1545848828, "post_id": 53935288, "comment_id": 94711516, "body": "Your solution btw is perfectly fine. The solution from the accepted answer is also fine, but <b>not mandatory</b>."}], "answers": [{"comments": [{"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1545848967, "post_id": 53935350, "comment_id": 94711565, "body": "OP is not &quot;close to the solution&quot;. Both one-to-one with Shared PK (yours) and FK (OPs) are supported by EF Core."}, {"owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1545849132, "post_id": 53935350, "comment_id": 94711616, "body": "Thank you! But Shared PK makes it more sensible!"}], "tags": [], "owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "is_accepted": true, "score": 4, "last_activity_date": 1545849063, "last_edit_date": 1545849063, "creation_date": 1545846553, "answer_id": 53935350, "question_id": 53935288, "link": "https://stackoverflow.com/questions/53935288/writing-one-to-one-relationship-using-fluent-api/53935350#53935350", "title": "Writing One to one relationship using Fluent API", "body": "<p>In case of <code>one-to-one--or-zero</code> relationship you don't need additional <code>PrimaryKey</code> along with the <code>ForeignKey</code> in dependent table. <code>Primarykey</code> of the <code>Principle</code> table will also be the <code>PrimaryKey</code> and <code>ForeignKey</code> of the dependent table at the same time.</p>\n\n<p>So write your <code>Address</code> model class as follows:</p>\n\n<pre><code>public class Address\n{\n   public int StudentId { get; set; } // Here StudentId is the PrimaryKey and ForeignKey at the same time.\n   public string Street{ get; set; }\n\n   public Student Student { get; set; }\n}\n</code></pre>\n\n<p>Then in the <code>Fluent API</code> configuration:</p>\n\n<pre><code>public class AddressConfiguration : IEntityTypeConfiguration&lt;Address&gt;\n{\n    public void Configure(EntityTypeBuilder&lt;Address&gt; builder)\n    {\n        builder.HasKey(u =&gt; u.StudentId)\n        builder.HasOne(u =&gt; u.Student)\n               .WithOne(b =&gt; b.Address)\n               .HasForeignKey&lt;Address&gt;(b =&gt; b.StudentId);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1545848766, "post_id": 53935606, "comment_id": 94711496, "body": "This is for EF not for EF Core!"}], "tags": [], "owner": {"reputation": 2267, "user_id": 9743064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JS0FZ.jpg?s=128&g=1", "display_name": "Llazar", "link": "https://stackoverflow.com/users/9743064/llazar"}, "is_accepted": false, "score": 0, "last_activity_date": 1545848290, "creation_date": 1545848290, "answer_id": 53935606, "question_id": 53935288, "link": "https://stackoverflow.com/questions/53935288/writing-one-to-one-relationship-using-fluent-api/53935606#53935606", "title": "Writing One to one relationship using Fluent API", "body": "<p>To configure a <code>one-to-zero-or-one</code> relationship between the Student and Address entities with fluent api you can use <code>HasOptional(s =&gt; s.Address)</code> method like</p>\n\n<pre><code>modelBuilder.Entity&lt;Student&gt;()\n            .HasOptional(s =&gt; s.Address) // Address property is optional in Student entity\n            .WithRequired(ad =&gt; ad.Student); // Student property is required \n</code></pre>\n"}], "owner": {"reputation": 14120, "user_id": 844872, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/15cf8e9490ec58e8449f3f05d1c87667?s=128&d=identicon&r=PG", "display_name": "Illep", "link": "https://stackoverflow.com/users/844872/illep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 1, "accepted_answer_id": 53935350, "answer_count": 2, "score": 1, "last_activity_date": 1545849063, "creation_date": 1545846090, "last_edit_date": 1545846378, "question_id": 53935288, "link": "https://stackoverflow.com/questions/53935288/writing-one-to-one-relationship-using-fluent-api", "title": "Writing One to one relationship using Fluent API", "body": "<p>How to write a <code>one-to-one--or-zero</code> relationship using fluent api? Can someone help me out correct what i have written. I am not sure if its correct.</p>\n\n<p>The scenario : One Student Can have one or zero Address.</p>\n\n<h1>Student Model</h1>\n\n<pre><code>    public int Id{ get; set; }\n    public string Name{ get; set; }\n    public Address Address{ get; set; }\n</code></pre>\n\n<h1>Address Model</h1>\n\n<pre><code>    public int Id { get; set; }\n    public string Street{ get; set; }\n    public int StudentId { get; set; }\n\n    public Student Student { get; set; }\n</code></pre>\n\n<p>What I tried:</p>\n\n<pre><code>        builder.HasOne(u =&gt; u.Address)\n        .WithOne(b =&gt; b.Student)\n        .HasForeignKey&lt;Address&gt;(b =&gt; b.StudentId);\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "ibm-watson", "watson-conversation"], "comments": [{"owner": {"reputation": 192, "user_id": 10012683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mczbT.png?s=128&g=1", "display_name": "i.do.stuff", "link": "https://stackoverflow.com/users/10012683/i-do-stuff"}, "edited": false, "score": 0, "creation_date": 1545845896, "post_id": 53935244, "comment_id": 94710624, "body": "should this go in the <a href=\"https://gamedev.stackexchange.com\">game development</a> forum?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user285372"}, "reply_to_user": {"reputation": 192, "user_id": 10012683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mczbT.png?s=128&g=1", "display_name": "i.do.stuff", "link": "https://stackoverflow.com/users/10012683/i-do-stuff"}, "edited": false, "score": 1, "creation_date": 1545902065, "post_id": 53935244, "comment_id": 94723828, "body": "@i.do.stuff It could go there, but I have seen more related tags here; e.g. ibm-watson, watson-conversation, etc... I will also post it there if I don&#39;t get any answers here."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user285372"}, "edited": false, "score": 0, "creation_date": 1545929693, "post_id": 53943625, "comment_id": 94735142, "body": "Thank you. I came across a few massive classes like <a href=\"https://github.com/YnotZer0/unity3d_watsonSdk/blob/master/Watson_newServices.cs\" rel=\"nofollow noreferrer\">this</a> so I thought perhaps it is a must to stick all the service-creation calls in one method."}, {"owner": {"user_type": "does_not_exist", "display_name": "user285372"}, "edited": false, "score": 0, "creation_date": 1546082932, "post_id": 53943625, "comment_id": 94775812, "body": "It seems like I cannot access another service that is created and instantiated in another script! In my <code>ExampleAssistant</code> script, I make a call to my <code>TTS</code> script (<code>_ttsContent = output; _watsonTTS_script.CallTTS(_ttsContent);</code>) but I get a <code>Null Reference</code> error message. Any ideas?"}, {"owner": {"reputation": 16995, "user_id": 456564, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fsG2v.jpg?s=128&g=1", "display_name": "German Attanasio", "link": "https://stackoverflow.com/users/456564/german-attanasio"}, "edited": false, "score": 1, "creation_date": 1546091270, "post_id": 53943625, "comment_id": 94777691, "body": "Check how you are passing variables between the classes. I would define a class with all the services call it <code>Watson</code> and then have a reference to that class from all the places you want to use the services."}], "tags": [], "owner": {"reputation": 16995, "user_id": 456564, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fsG2v.jpg?s=128&g=1", "display_name": "German Attanasio", "link": "https://stackoverflow.com/users/456564/german-attanasio"}, "is_accepted": true, "score": 0, "last_activity_date": 1545907032, "creation_date": 1545907032, "answer_id": 53943625, "question_id": 53935244, "link": "https://stackoverflow.com/questions/53935244/creating-multiple-ibm-watson-services/53943625#53943625", "title": "Creating multiple IBM Watson services", "body": "<p>You can have code that instantiates services running simultaneously without problems. IBM Cloud and Watson APIs have rate limitation which means that if you send a high volume of API calls in a short period, the API will return a <code>429 Rate Limitation error</code>.</p>\n\n<p>Speech to Text, Text to Speech and Tone, Watson Assistant and Tone Analyzer have a high rate, so most applications(like yours) never hit the rate limitation. Each service has a documentation page describing the limits. For example <a href=\"https://cloud.ibm.com/apidocs/assistant#rate-limiting\" rel=\"nofollow noreferrer\">Watson Assistant Rate limitation</a>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user285372"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 1, "accepted_answer_id": 53943625, "answer_count": 1, "score": 0, "last_activity_date": 1545907032, "creation_date": 1545845821, "question_id": 53935244, "link": "https://stackoverflow.com/questions/53935244/creating-multiple-ibm-watson-services", "title": "Creating multiple IBM Watson services", "body": "<p>So far, I have attached 3 scripts to my character, one for TtS, one for StT, and one for ToneAnalysis, and I am learning how to also integrate Assistant(Conversation) and more...</p>\n\n<p>Each script contains at least one <code>Runnable.Run( CreateService() )</code> that uses an <code>IEnumerator</code> to verify credentials and instantiate service.</p>\n\n<p>Should I place all the code from these scripts (and future services that I add) in one script, or is it OK that all these credential-verifications and service-instantiations are occurring simultaneously?</p>\n"}, {"tags": ["c#", "pcap.net"], "comments": [{"owner": {"reputation": 5818, "user_id": 978558, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d023acf70b927cb813b48631195e346e?s=128&d=identicon&r=PG", "display_name": "fredrik", "link": "https://stackoverflow.com/users/978558/fredrik"}, "edited": false, "score": 0, "creation_date": 1545850138, "post_id": 53935223, "comment_id": 94711947, "body": "If you have it for IP you shouldn&#39;t need it for any higher layer protocols. The IP layer should handle it."}, {"owner": {"reputation": 23, "user_id": 10836004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90f7d80e7ed541763655336dfcdf20b0?s=128&d=identicon&r=PG&f=1", "display_name": "kiziuk", "link": "https://stackoverflow.com/users/10836004/kiziuk"}, "reply_to_user": {"reputation": 5818, "user_id": 978558, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d023acf70b927cb813b48631195e346e?s=128&d=identicon&r=PG", "display_name": "fredrik", "link": "https://stackoverflow.com/users/978558/fredrik"}, "edited": false, "score": 0, "creation_date": 1545852108, "post_id": 53935223, "comment_id": 94712585, "body": "@fredrik unfortunately, TCP/UDP uses a concept of pseudo header during L4 checksum calculation. If I change IP address for existing packet, I need to recalculate L4 checksum as well."}, {"owner": {"reputation": 5818, "user_id": 978558, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d023acf70b927cb813b48631195e346e?s=128&d=identicon&r=PG", "display_name": "fredrik", "link": "https://stackoverflow.com/users/978558/fredrik"}, "edited": false, "score": 0, "creation_date": 1545852375, "post_id": 53935223, "comment_id": 94712663, "body": "Doesn&#39;t sound like fragmentation then. You&#39;re more into NAT than anything else. Maybe you should cross reference the two?"}, {"owner": {"reputation": 23, "user_id": 10836004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90f7d80e7ed541763655336dfcdf20b0?s=128&d=identicon&r=PG&f=1", "display_name": "kiziuk", "link": "https://stackoverflow.com/users/10836004/kiziuk"}, "reply_to_user": {"reputation": 5818, "user_id": 978558, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d023acf70b927cb813b48631195e346e?s=128&d=identicon&r=PG", "display_name": "fredrik", "link": "https://stackoverflow.com/users/978558/fredrik"}, "edited": false, "score": 1, "creation_date": 1545854847, "post_id": 53935223, "comment_id": 94713350, "body": "What I&#39;m implementing is in fact a kind of NAT. And this mechanism works very well, but I need to add IP fragmentation ability to it as well. And because Pcap.Net doesn&#39;t implement it natively. I&#39;m trying to find an effective way to do it."}], "owner": {"reputation": 23, "user_id": 10836004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90f7d80e7ed541763655336dfcdf20b0?s=128&d=identicon&r=PG&f=1", "display_name": "kiziuk", "link": "https://stackoverflow.com/users/10836004/kiziuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 358, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1546007294, "creation_date": 1545845673, "last_edit_date": 1546007294, "question_id": 53935223, "link": "https://stackoverflow.com/questions/53935223/implementing-ip-fragmentation-for-tcp-udp-packet-in-pcap-net", "title": "Implementing IP fragmentation for TCP/UDP packet in Pcap.Net", "body": "<p>I'm trying to implement IP fragmentation using Pcap.Net. \nIt is simple for packets that are already built as the L3 payload is just split into parts. \nI have a code that does it. It returns the list of packet fragments for sending it into the wire.</p>\n\n<pre><code>    private static List&lt;Packet&gt; FragmentPacket(Packet packet)\n    {\n        EthernetLayer ethernetLayer = (EthernetLayer)packet.Ethernet.ExtractLayer();\n        IpV4Layer ipV4Layer = (IpV4Layer)packet.Ethernet.IpV4.ExtractLayer();\n        PayloadLayer payload = (PayloadLayer)packet.Ethernet.IpV4.Payload.ExtractLayer();\n\n        // implement IP fragmentation\n        int totalLength = payload.Length;\n        int fragmentLength = 1480;\n        int fragmentOffset = 0;\n        IpV4FragmentationOptions FragOptions;\n\n        List&lt;Packet&gt; fragmentsList = new List&lt;Packet&gt;();\n\n        while (fragmentOffset &lt; totalLength)\n        {\n            if (fragmentOffset + fragmentLength &gt;= totalLength)\n            {\n                //last fragment\n                FragOptions = IpV4FragmentationOptions.None;\n                fragmentLength = totalLength - fragmentOffset;\n            }\n            else\n            {\n                //more fragments to go\n                FragOptions = IpV4FragmentationOptions.MoreFragments;\n            }\n\n            IpV4Layer newipV4Layer =\n                new IpV4Layer\n                {\n                    Source = ipV4Layer.Source,\n                    CurrentDestination = ipV4Layer.CurrentDestination,\n                    Fragmentation = new IpV4Fragmentation(FragOptions, (ushort)fragmentOffset),\n                    HeaderChecksum = null, // Will be filled automatically.\n                    Identification = 123,\n                    Options = IpV4Options.None,\n                    Protocol = ipV4Layer.Protocol, \n                    Ttl = ipV4Layer.Ttl, // 128,\n                    TypeOfService = ipV4Layer.TypeOfService,\n                };\n\n            byte[] newBuffer = payload.Data.ToArray();\n            PayloadLayer fragmentedPayload = new PayloadLayer { Data = new Datagram(newBuffer, fragmentOffset, fragmentLength) };\n\n            PacketBuilder builder = new PacketBuilder(ethernetLayer, ipV4Layer, fragmentedPayload);\n            fragmentsList.Add(builder.Build(DateTime.Now));\n\n            fragmentOffset = fragmentOffset + fragmentedPayload.Length;\n        }\n\n        return fragmentsList;\n    }\n</code></pre>\n\n<p>But what I'm actually doing is:</p>\n\n<p>1) receiving large packet via Loopback interface (it is usually bigger than physical interface's MTU)</p>\n\n<p>2) disassembling it, modifying IP addresses</p>\n\n<p>3) building a new packet and sending it via Ethernet interface</p>\n\n<p>Unfortunately, if the IP payload is bigger than MTU, exception happens as the packet needs to be fragmented before sending.</p>\n\n<p>Because I'm changing IP address, then for TCP/UDP packets, the L4 checksum must be recalculated and this recalculation must take into account L3 header. Therefore it is needed to build L3+L4+payload part (to have L4 checksum properly calculated) and then split L4+payload into parts to fit L3 MTU.</p>\n\n<p>I came into a solution in which I'm building a new packet (which is bigger than MTU) and then push it via above function to tear it into parts, and then I'm sending it using:</p>\n\n<p>foreach (Packet newpacket in packetList)\n    communicator.SendPacket(newpacket);</p>\n\n<p>This, however, requires to build the same packet twice and I'm trying to find a way in Pcap.Net to partially build a packet (including recalculation of L4 checksum) and at the same time divide it into fragments to fit MTU.</p>\n\n<p>I don't know how to (and if this is possible in Pcap.Net) prepare L3 payload that would consist of tcpLayer/udpLayer + L4 payload since TCP checksum is calculated during building and then finally build the rest of packet.\nIf that was possible, I would just need to build the packet once splitting it into parts at the same time.</p>\n"}, {"tags": ["c#", "syntax"], "comments": [{"owner": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "edited": false, "score": 2, "creation_date": 1545844999, "post_id": 53935071, "comment_id": 94710341, "body": "No, it was like this: <code>services.AddSwaggerDocument(ConfigSwag);</code> But don&#39;t use underscore as variable name unless you want to omit it&#39;s value."}, {"owner": {"reputation": 150063, "user_id": 87698, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/33f12c2270fa9d3627845b9f41a08f4f?s=128&d=identicon&r=PG", "display_name": "Heinzi", "link": "https://stackoverflow.com/users/87698/heinzi"}, "edited": false, "score": 0, "creation_date": 1545845296, "post_id": 53935071, "comment_id": 94710436, "body": "Good question! I still closed it as a duplicate, because we have another question which explains in detail the differences between those two options. I am aware that you would not be able to find that other question without knowing what the syntax is called, so it&#39;s good to have your question as a duplicate on this site."}, {"owner": {"reputation": 2204, "user_id": 8744999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5a358087b8a9e7f9ace69d7af8b74700?s=128&d=identicon&r=PG", "display_name": "DonkeyBanana", "link": "https://stackoverflow.com/users/8744999/donkeybanana"}, "reply_to_user": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "edited": false, "score": 0, "creation_date": 1545845360, "post_id": 53935071, "comment_id": 94710459, "body": "@ZorgoZ There it was! So stupid... Now, what is this syntax called? I&#39;m pretty sure it&#39;s not <i>parentheis-less de-fat-arrowing</i>, hehe... And the underscore part - I only used it for brevity in the sample. In the method, I called the passed in variable <i>settings</i>, of course."}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1545845430, "post_id": 53935071, "comment_id": 94710480, "body": "This is a method group conversion, the rules of which are outlined in section 6.6 of the specification that ships with visual studio."}, {"owner": {"reputation": 2204, "user_id": 8744999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5a358087b8a9e7f9ace69d7af8b74700?s=128&d=identicon&r=PG", "display_name": "DonkeyBanana", "link": "https://stackoverflow.com/users/8744999/donkeybanana"}, "reply_to_user": {"reputation": 150063, "user_id": 87698, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/33f12c2270fa9d3627845b9f41a08f4f?s=128&d=identicon&r=PG", "display_name": "Heinzi", "link": "https://stackoverflow.com/users/87698/heinzi"}, "edited": false, "score": 0, "creation_date": 1545845552, "post_id": 53935071, "comment_id": 94710522, "body": "@Heinzi Yupp, they are semantically very close. Yet, as you say, <i>the code to the safe is in the safe</i>. Good call and thanks for the polite explanation."}, {"owner": {"reputation": 150063, "user_id": 87698, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/33f12c2270fa9d3627845b9f41a08f4f?s=128&d=identicon&r=PG", "display_name": "Heinzi", "link": "https://stackoverflow.com/users/87698/heinzi"}, "edited": false, "score": 0, "creation_date": 1545845867, "post_id": 53935071, "comment_id": 94710616, "body": "@DonkeyBanana: I like <i>&quot;parenthesis-less de-fat-arrowing&quot;</i>, but it&#39;s an <i>implicit conversion of a method group to a delegate</i>: Your method expects a <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/delegates/\" rel=\"nofollow noreferrer\">delegate</a>, and you pass the name of a method, which is a <a href=\"https://stackoverflow.com/q/886822/87698\">method group</a> (it&#39;s a &quot;group&quot;, because the name might refer to more than one method, because of overloading)."}], "owner": {"reputation": 2204, "user_id": 8744999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5a358087b8a9e7f9ace69d7af8b74700?s=128&d=identicon&r=PG", "display_name": "DonkeyBanana", "link": "https://stackoverflow.com/users/8744999/donkeybanana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "closed_date": 1545845199, "answer_count": 0, "score": 0, "last_activity_date": 1545844737, "creation_date": 1545844737, "question_id": 53935071, "link": "https://stackoverflow.com/questions/53935071/syntax-for-c-omitting-parentheses-when-fat-arrowing-to-a-method-call", "closed_reason": "Duplicate", "title": "Syntax for C# omitting parentheses when fat-arrowing to a method call", "body": "<p>I had syntax like this and found it clunky, because of oh so many lines of code.</p>\n\n<pre><code>services.AddSwaggerDocument(_ =&gt; { ... });\n</code></pre>\n\n<p>So I decided to create a private method and invoke it from the fat-arrow statement like this.</p>\n\n<pre><code>services.AddSwaggerDocument(_ =&gt; ConfigSwag(_));\n...\nprivate ConfigSwag(SwaggerDocumentSettings settings) { ... }\n</code></pre>\n\n<p>It works and all's good. However, I do recall that I've seen a syntax for invoking a call that was parenthesis-less, like this.</p>\n\n<pre><code>services.AddSwaggerDocument(_ =&gt; ConfigSwag);\n</code></pre>\n\n<p>However, I can't remember where and I have no clue what it's called so I can't google it.</p>\n\n<p>Am I just confused here or is there such a syntax? If it's the latter, what is it called and how do I need to alter the method to make it work?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 20516, "user_id": 381588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cff6fe4f2e32e4ae131e65a0fda7f88?s=128&d=identicon&r=PG", "display_name": "Iridium", "link": "https://stackoverflow.com/users/381588/iridium"}, "edited": false, "score": 2, "creation_date": 1545843822, "post_id": 53934897, "comment_id": 94709935, "body": "If <code>GetStream()</code> will never return <code>null</code>, then it&#39;s equivalent to: <code>Loader?.GetStream(filename) ?? throw new Exception(&quot;...&quot;);</code>"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 20516, "user_id": 381588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cff6fe4f2e32e4ae131e65a0fda7f88?s=128&d=identicon&r=PG", "display_name": "Iridium", "link": "https://stackoverflow.com/users/381588/iridium"}, "edited": false, "score": 0, "creation_date": 1545844925, "post_id": 53934897, "comment_id": 94710309, "body": "You can make it shorter as @Iridium commented, but certainly not &quot;simplify&quot; it because it&#39;s going to be harder to read"}], "answers": [{"comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 1, "creation_date": 1545844776, "post_id": 53934921, "comment_id": 94710257, "body": "A NullReferenceException should <b>always</b> be avoided, it is much harder to trace it."}, {"owner": {"reputation": 3256, "user_id": 2216975, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b19a7797114087718a09cdfa2b081c19?s=128&d=identicon&r=PG", "display_name": "anish", "link": "https://stackoverflow.com/users/2216975/anish"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1545845946, "post_id": 53934921, "comment_id": 94710641, "body": "How is it any harder to trace than throwing a new Exception(&quot;blah was null&quot;)? the stack trace will always be at the method where the exception was thrown. Also, isn&#39;t NullReferenceException the most accurate exception to throw if an object is null? Also there were talks of having a debug feature which would tell which object was null and not just the method (<a href=\"https://blogs.msdn.microsoft.com/dotnet/2016/08/02/announcing-net-framework-4-6-2/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/dotnet/2016/08/02/&hellip;</a>) . I think null reference is very appropriate for null objects."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1545848731, "post_id": 53934921, "comment_id": 94711481, "body": "A NRE represents a bug in the code, not expected behavior. An Exception that should be throw here would be an InvalidOperationException. It&#39;s not NULL because of some bug, it&#39;s NULL because the program is not at the state it&#39;s supposed to be (some call that loads <code>Loader</code> here)"}], "tags": [], "owner": {"reputation": 3256, "user_id": 2216975, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b19a7797114087718a09cdfa2b081c19?s=128&d=identicon&r=PG", "display_name": "anish", "link": "https://stackoverflow.com/users/2216975/anish"}, "is_accepted": false, "score": 2, "last_activity_date": 1545844169, "last_edit_date": 1545844169, "creation_date": 1545843863, "answer_id": 53934921, "question_id": 53934897, "link": "https://stackoverflow.com/questions/53934897/can-this-statement-be-simplified-with-or-operators/53934921#53934921", "title": "Can this statement be simplified with ?? or ?. operators?", "body": "<p>If you are throwing an exception anyway in case of null, why not just call the method?</p>\n\n<pre><code>Loader.GetStream(filename);\n</code></pre>\n\n<p>it will throw null reference exception if the Loader is null, else successfully call the <code>GetStream</code> method. </p>\n\n<p>on a side note - <code>Loader</code> seems like a <code>type</code> (based on the naming convention)... i will assume it is an instance variable because the compiler will prevent from comparing <code>type</code> to <code>null</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2743, "user_id": 2554810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bcabfe7eb829de8fb40e2f3d1719128?s=128&d=identicon&r=PG", "display_name": "IllusiveBrian", "link": "https://stackoverflow.com/users/2554810/illusivebrian"}, "is_accepted": true, "score": 2, "last_activity_date": 1545844929, "creation_date": 1545844929, "answer_id": 53935105, "question_id": 53934897, "link": "https://stackoverflow.com/questions/53934897/can-this-statement-be-simplified-with-or-operators/53935105#53935105", "title": "Can this statement be simplified with ?? or ?. operators?", "body": "<p>You can get the exact same behavior as what you have with</p>\n\n<pre><code>private static Stream OpenData(string filename)\n     =&gt; (Loader ?? throw new Exception(\"...\")).GetStream(filename);\n</code></pre>\n\n<p>I'll leave it up to you whether this is any clearer.</p>\n"}], "owner": {"reputation": 4935, "user_id": 5482465, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/QHF0G.png?s=128&g=1", "display_name": "Money Sets You Free", "link": "https://stackoverflow.com/users/5482465/money-sets-you-free"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 53935105, "answer_count": 2, "score": -4, "last_activity_date": 1545845055, "creation_date": 1545843720, "last_edit_date": 1545845055, "question_id": 53934897, "link": "https://stackoverflow.com/questions/53934897/can-this-statement-be-simplified-with-or-operators", "title": "Can this statement be simplified with ?? or ?. operators?", "body": "<p>I wonder whether the following can be simplified by using <code>??</code> or <code>?.</code>.</p>\n\n<pre><code>private static Stream OpenData(string filename)\n   =&gt; Loader == null ? throw new Exception(\"...\") : Loader.GetStream(filename);\n</code></pre>\n\n<p>Note that I don't care about readability. </p>\n"}, {"tags": ["c#", "wcf", "soap-client", "irs"], "answers": [{"comments": [{"owner": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 1, "creation_date": 1545859785, "post_id": 53936635, "comment_id": 94714714, "body": "Huh....I&#39;ve used it with and without(before fixing a previous error) and didn&#39;t think it was required as some places in their documentation it says it&#39;s optional, but adding <code>&lt;urn3:ACASecurityHeader&gt;&lt;urn2:UserId&gt;[UserID]&lt;&#47;urn2:UserId&gt;&lt;&zwnj;&#8203;&#47;urn3:ACASecurityHea&zwnj;&#8203;der&gt;</code> is now giving me an error that is closer to getting to the full product!  Thanks Mr. Popo! (I had to)....now to fix the dreaded <code>WS Security Header</code> error!"}], "tags": [], "owner": {"reputation": 2362, "user_id": 2016162, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yLfkw.jpg?s=128&g=1", "display_name": "Popo", "link": "https://stackoverflow.com/users/2016162/popo"}, "is_accepted": true, "score": 2, "last_activity_date": 1545854886, "creation_date": 1545854886, "answer_id": 53936635, "question_id": 53934892, "link": "https://stackoverflow.com/questions/53934892/irs-a2a-message-was-not-formatted-properly-tpe1105-uniquetransmissionid/53936635#53936635", "title": "IRS-A2A &quot;message was not formatted properly&quot; (TPE1105 - uniqueTransmissionID)", "body": "<p>Just throwing this out in the wind (more of a comment but too long), but it looks like you are missing these to elements from their example:</p>\n\n<pre><code>&lt;urn4:ACASecurityHeader xmlns:urn4=\"urn:us:gov:treasury:irs:msg:acasecurityheader\" /&gt;\n&lt;oas:Security xmlns:oas=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401- wss-wssecurity-secext-1.0.xsd\" /&gt; \n</code></pre>\n\n<p>You are using this prefix for urn3, which is not referenced in any elements from what I can tell. Not sure if it makes any difference or not, but the above to elements do precede the section that is giving you an error. Feel free to disregard if it sounds like non-sense to you.</p>\n"}, {"comments": [{"owner": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1545928386, "post_id": 53947958, "comment_id": 94734595, "body": "They really (to this day!) need to go in and clean up their documentation(s). After reading over everyone else&#39;s solutions it sounds like the way to go! I&#39;ve got a template at least setup for the envelope and was easy enough adding the <code>ACASecurityHeader</code> back to it. Now I&#39;m getting the fun WS-Security error, you don&#39;t happen to see anything obviously wrong with the Security bits do you Russ? Before I post another question about it! lol Also going to try a different combo of the cert we have before doing so."}, {"owner": {"reputation": 607, "user_id": 5286901, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/eb91be927714d6dfc2617f59a264aabc?s=128&d=identicon&r=PG&f=1", "display_name": "Russ", "link": "https://stackoverflow.com/users/5286901/russ"}, "reply_to_user": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1545937357, "post_id": 53947958, "comment_id": 94737847, "body": "@Das I have updated my post to include what I noticed was different between your and my envelopes.  Hope this helps out!"}, {"owner": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1545940504, "post_id": 53947958, "comment_id": 94738910, "body": "Thanks for the update. I&#39;ve been doing my best to mirror what&#39;s shown in 5.3.1.4 of their most recent Composition Guide (<a href=\"https://www.irs.gov/pub/irs-pdf/p5258.pdf\" rel=\"nofollow noreferrer\">irs.gov/pub/irs-pdf/p5258.pdf</a>) which has the new <code>oas1</code> namespace in the envelope and in their InclusiveNamespaces list(s). I believe I have all the Inclusives mirrored from that same example. I&#39;ve updated my envelope with the SecurityHeader added and updates to the Security node itself."}, {"owner": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1545943103, "post_id": 53947958, "comment_id": 94739722, "body": "Going to try and change the DigestMethod for my References and see if that changes anything. AATS is apparently down right now so I&#39;m in a bit of a lull until they pull it back up. I also noticed in 5.3.1.4 they are using SHA384....not sure if there is a list of methods they will accept or not, but I think my next step is to seek help from the AIR box."}, {"owner": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1546547920, "post_id": 53947958, "comment_id": 94895231, "body": "Adding another note here for anyone in the future. I got passed the WS Security error by following their new A2A checklist for TY2018 which apparently has changed some of the algorithms in the security bits. <code>DigestMethod</code> is now SHA256, <code>SignatureMethod</code> is RSA-SHA256"}, {"owner": {"reputation": 607, "user_id": 5286901, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/eb91be927714d6dfc2617f59a264aabc?s=128&d=identicon&r=PG&f=1", "display_name": "Russ", "link": "https://stackoverflow.com/users/5286901/russ"}, "reply_to_user": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1546639306, "post_id": 53947958, "comment_id": 94928892, "body": "@Das Looks like my first attempt of the year to submit to AATS has bumped into a problem with WS Securuity.  How did you end up setting the value for the algorithms of the <code>DigestMethod</code> and <code>SignatureMethod</code>?"}, {"owner": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 1, "creation_date": 1546872719, "post_id": 53947958, "comment_id": 94986389, "body": "For Signature before computing I added this line of code <code>signXml.SignedInfo.SignatureMethod = SignedXml.XmlDsigRSASHA256Url;</code> and where building the references I added <code>reference.DigestMethod = SignedXml.XmlDsigSHA256Url;</code> right after initializing the reference."}, {"owner": {"reputation": 607, "user_id": 5286901, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/eb91be927714d6dfc2617f59a264aabc?s=128&d=identicon&r=PG&f=1", "display_name": "Russ", "link": "https://stackoverflow.com/users/5286901/russ"}, "reply_to_user": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1546881276, "post_id": 53947958, "comment_id": 94991076, "body": "@Das my turn! Adding your two lines, does generate the request using SHA256.  I was able to sign the request, and verify the signature.  So at least that piece is working as expected.  Now, however, I am receiving a WS Security Error.  I looked through the checklist and my code still appears to be compliant.  I will post my code in a separate comment, maybe you can compare with yours and tell me what&#39;s different :)"}, {"owner": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1546881464, "post_id": 53947958, "comment_id": 94991172, "body": "Sounds good, I&#39;m in refactor mode to clean up the &quot;see what sticks&quot; code I&#39;ve got right now but I&#39;ve gotten my transmission through to AATS so far. If it&#39;s easier for a new Q I&#39;ll be on the lookout lol. Another thing is to look at the new <code>oas1</code> I had to add in the prefix list(s)"}, {"owner": {"reputation": 607, "user_id": 5286901, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/eb91be927714d6dfc2617f59a264aabc?s=128&d=identicon&r=PG&f=1", "display_name": "Russ", "link": "https://stackoverflow.com/users/5286901/russ"}, "reply_to_user": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1546882138, "post_id": 53947958, "comment_id": 94991491, "body": "Thanks.  I have added what I am submitting.  I had noticed that while section 5.3.1.4 contains those elements, it also references TY17, instead of TY18.  I will try adding the new <code>oas1</code> reference to the envelope element as well as to the prefix list and see what happens."}, {"owner": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 1, "creation_date": 1546882437, "post_id": 53947958, "comment_id": 94991638, "body": "Yeah I&#39;ve already sent them an email to update some of their samples, for instance they are using <code>urn2</code>(acabusinessheader) for the namespace of <code>UserID</code> when it should be the common NS. EDIT: I&#39;ll compare your envelope with mine and comment on any findings below"}], "tags": [], "owner": {"reputation": 607, "user_id": 5286901, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/eb91be927714d6dfc2617f59a264aabc?s=128&d=identicon&r=PG&f=1", "display_name": "Russ", "link": "https://stackoverflow.com/users/5286901/russ"}, "is_accepted": false, "score": 1, "last_activity_date": 1545937327, "last_edit_date": 1545937327, "creation_date": 1545927711, "answer_id": 53947958, "question_id": 53934892, "link": "https://stackoverflow.com/questions/53934892/irs-a2a-message-was-not-formatted-properly-tpe1105-uniquetransmissionid/53947958#53947958", "title": "IRS-A2A &quot;message was not formatted properly&quot; (TPE1105 - uniqueTransmissionID)", "body": "<p>I'd like to add to this, one of the things that I learned through developing this process a couple of years ago: the request you send, whether for status or submission, needs to be identical to their example.</p>\n\n<p>The method I used to accomplish this was to create separate XML template documents (one for Submission one for Status) which contains the entire XML needed for each request.</p>\n\n<p>At a high-level, my application uses the WSDL objects by populating them with appropriate data, then I replace the XML elements in the template with values from the objects, sign the XML document, attach the form data (for submission), and send the request.</p>\n\n<p>Reviewing what you posted and comparing it to what I have previously transmitted, I found a couple of differences:</p>\n\n<ul>\n<li>In your envelope definition, you have an attribute <code>xmlns:oasl</code>, I do not have this.</li>\n<li>In your <code>InclusiveNamespaces</code> element, I have <code>PrefixList=\"wsse wsa soapenv urn urn1 urn2 urn3\"</code>.  I was told having this literal value was a must.</li>\n<li>Your <code>DigestMethod</code> is sha256, while mine is sha1.  I understand there is a difference between the two, but this could be causing you some problems?</li>\n<li>I have a <code>urn3:ACASecurityHeader</code> element containing a <code>urn1:UserId</code> element, which I think you have already resolved (its just not updated in your original post)</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1546882813, "post_id": 54079020, "comment_id": 94991820, "body": "Removing the <code>oas1</code> prefix for me doesn&#39;t appear to change anything so I don&#39;t think that&#39;s it (why even show it, IRS!) Does your KeyIdentifier end like it shows or is it just redacted? Mine has proper closing brackets <code>&lt;&#47;wsse:KeyIdentifier&gt;</code>. This may be a stretch but you may want to check the expiration of the certificate? I remember when applying when we first tried with everyone else it was only valid for maybe 2 years."}, {"owner": {"reputation": 607, "user_id": 5286901, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/eb91be927714d6dfc2617f59a264aabc?s=128&d=identicon&r=PG&f=1", "display_name": "Russ", "link": "https://stackoverflow.com/users/5286901/russ"}, "reply_to_user": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1546884005, "post_id": 54079020, "comment_id": 94992361, "body": "My <code>KeyIdentifier</code> element ends just as it shows.  It looks like the expiration of the certificate is down the road a few months, so I should be good there."}, {"owner": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 1, "creation_date": 1546884806, "post_id": 54079020, "comment_id": 94992707, "body": "If that is how it ends then you may need to look at how the <code>KeyInfo</code> is being built. It looks like it&#39;s missing the certificate entirely, mine looks (minus redactions) like this:<code>&lt;wsse:KeyIdentifier [Attributes]&gt; [Big Base64 Key Blob] &lt;&#47;wsse:KeyIdentifier&gt;</code>"}, {"owner": {"reputation": 607, "user_id": 5286901, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/eb91be927714d6dfc2617f59a264aabc?s=128&d=identicon&r=PG&f=1", "display_name": "Russ", "link": "https://stackoverflow.com/users/5286901/russ"}, "reply_to_user": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1546888972, "post_id": 54079020, "comment_id": 94994474, "body": "@Das good catch!  Thanks for letting me use your set of eyes!  I was missing the reference to the certificate.  Once I corrected that in my code, it appears as though my transmission sent correctly.  I have updated my example with that and it is working code now"}, {"owner": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1546890388, "post_id": 54079020, "comment_id": 94995033, "body": "No problem, glad I could help! I&#39;m sure I&#39;ll be throwing some more questions up now that I&#39;m getting into the Status call...looking ahead was there any big change when you transitioned the code to production other than loading the &quot;prod&quot; wsdl or updating endpoints?"}, {"owner": {"reputation": 607, "user_id": 5286901, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/eb91be927714d6dfc2617f59a264aabc?s=128&d=identicon&r=PG&f=1", "display_name": "Russ", "link": "https://stackoverflow.com/users/5286901/russ"}, "reply_to_user": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1546893951, "post_id": 54079020, "comment_id": 94996478, "body": "No, the transition to prod has been seemless.  If this is your first year transmitting, then I believe you have to call and get IRS to &quot;sign-off&quot; on your transmission to AATS being complete.  Then they will enable you to transmit to prod.  If you&#39;ve previously transmitted to prod, you don&#39;t have to do anything else, (which is and has been my understanding).  I have not had to do any extra things each year."}, {"owner": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1546894646, "post_id": 54079020, "comment_id": 94996799, "body": "We are switching from UI to A2A and not too worried about dealing with them TTC-wise lol. I was talking more code/config changes, like managing the endpoints differently. I added the WSDL classes through the AATS WSDL specifically, I&#39;m just wanting to make sure there are really no differences other than the endpoint on their end being switched from the AATS on to the PROD one."}, {"owner": {"reputation": 607, "user_id": 5286901, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/eb91be927714d6dfc2617f59a264aabc?s=128&d=identicon&r=PG&f=1", "display_name": "Russ", "link": "https://stackoverflow.com/users/5286901/russ"}, "reply_to_user": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1546906001, "post_id": 54079020, "comment_id": 95000433, "body": "Not as far as I am aware."}, {"owner": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1546960937, "post_id": 54079020, "comment_id": 95021900, "body": "I guess I&#39;ll just try updating the endpoint URI when we go prod and see what they bother me about lol"}, {"owner": {"reputation": 607, "user_id": 5286901, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/eb91be927714d6dfc2617f59a264aabc?s=128&d=identicon&r=PG&f=1", "display_name": "Russ", "link": "https://stackoverflow.com/users/5286901/russ"}, "reply_to_user": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1546975326, "post_id": 54079020, "comment_id": 95029504, "body": "You mentioned transmitting via UI, so I don&#39;t know if this will apply to you or not.   After successfully transmitting via A2A and retrieving &#39;Accepted&#39; status from AATS, you (someone with the ability to talk to them - Software Developer is ok) may need to call them in order to have them verify your transmissions are accepted. I think they will want the Receipt ID. Once verified, they will move your application to Production. I only had to do this initially; each year after I have only had to re-register the application for the next Tax Year, but not go through the AATS approval process."}, {"owner": {"reputation": 132, "user_id": 3044276, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0f1c1e0b7b970e98b4b8633033a10902?s=128&d=identicon&r=PG&f=1", "display_name": "SteveManC", "link": "https://stackoverflow.com/users/3044276/stevemanc"}, "reply_to_user": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1552491347, "post_id": 54079020, "comment_id": 97032016, "body": "So might need to create a question for this, but I have been working on this problem as well- my issue is the amount of unknowns for myself. Most of this is new for me. Currently working on the 1122. @Das and Russ what exactly is expected to go inside the KeyIdentifier element? The #x509v3  value type says it &#39;isn&#39;t in the scope&#39; in the oasis docs. Would really appreciate a bit of help here.   EDIT-- I initally thought it the public key value, but really unsure."}, {"owner": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 1, "creation_date": 1552579157, "post_id": 54079020, "comment_id": 97073320, "body": "I&#39;m using C# so you&#39;d need to find anything equivalent but here&#39;s my way: I&#39;m exporting my X509 cert to byte array and then using <code>Convert.ToBase64String(cert)</code> and using that string in the KeyIdentifier."}, {"owner": {"reputation": 607, "user_id": 5286901, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/eb91be927714d6dfc2617f59a264aabc?s=128&d=identicon&r=PG&f=1", "display_name": "Russ", "link": "https://stackoverflow.com/users/5286901/russ"}, "reply_to_user": {"reputation": 132, "user_id": 3044276, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0f1c1e0b7b970e98b4b8633033a10902?s=128&d=identicon&r=PG&f=1", "display_name": "SteveManC", "link": "https://stackoverflow.com/users/3044276/stevemanc"}, "edited": false, "score": 0, "creation_date": 1552593084, "post_id": 54079020, "comment_id": 97081062, "body": "@SteveManC I can confirm that I am doing what Das is doing.  I am using C#.  I have using the Export function of the X509Certificate2 object to export the certificate to a byte[], and then converting that to a Base64String (using the function Das mentioned) in order to get/generate the KeyIndetifierValue."}, {"owner": {"reputation": 132, "user_id": 3044276, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0f1c1e0b7b970e98b4b8633033a10902?s=128&d=identicon&r=PG&f=1", "display_name": "SteveManC", "link": "https://stackoverflow.com/users/3044276/stevemanc"}, "edited": false, "score": 0, "creation_date": 1552596857, "post_id": 54079020, "comment_id": 97082900, "body": "@Russ thanks for that. I&#39;m doing the same, just through java. I&#39;ve ran my file through validation (for the signature and references) pulling the certificate back out of the KI element and passed validation. Not sure where the problem lies at this point. I appreciate the response."}, {"owner": {"reputation": 132, "user_id": 3044276, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0f1c1e0b7b970e98b4b8633033a10902?s=128&d=identicon&r=PG&f=1", "display_name": "SteveManC", "link": "https://stackoverflow.com/users/3044276/stevemanc"}, "reply_to_user": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "edited": false, "score": 0, "creation_date": 1553116768, "post_id": 54079020, "comment_id": 97271886, "body": "@Das did you have any issue sending in the status request? I was able to get through ( finally ) with my transmission, but now they don&#39;t seem to like something about my status req. :/  Probably going to follow up with a Question post showing what I have."}, {"owner": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "reply_to_user": {"reputation": 132, "user_id": 3044276, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0f1c1e0b7b970e98b4b8633033a10902?s=128&d=identicon&r=PG&f=1", "display_name": "SteveManC", "link": "https://stackoverflow.com/users/3044276/stevemanc"}, "edited": false, "score": 0, "creation_date": 1553261777, "post_id": 54079020, "comment_id": 97330032, "body": "@SteveManC I&#39;m currently able to transmit and get the status back, if you post up a question I&#39;ll try and be on the lookout for it and see what I can do!"}], "tags": [], "owner": {"reputation": 607, "user_id": 5286901, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/eb91be927714d6dfc2617f59a264aabc?s=128&d=identicon&r=PG&f=1", "display_name": "Russ", "link": "https://stackoverflow.com/users/5286901/russ"}, "is_accepted": false, "score": 0, "last_activity_date": 1546889204, "last_edit_date": 1546889204, "creation_date": 1546881908, "answer_id": 54079020, "question_id": 53934892, "link": "https://stackoverflow.com/questions/53934892/irs-a2a-message-was-not-formatted-properly-tpe1105-uniquetransmissionid/54079020#54079020", "title": "IRS-A2A &quot;message was not formatted properly&quot; (TPE1105 - uniqueTransmissionID)", "body": "<p><del>Here is the envelope I am currently attempting to send which is resulting in a <code>TPE1122</code> WS Security Header error being returned.</del></p>\n\n<p>The following envelope XML is a working envelope for transmission for TY2018.  Information has been redacted.</p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" \n                  xmlns:urn=\"urn:us:gov:treasury:irs:ext:aca:air:ty18\" \n                  xmlns:urn1=\"urn:us:gov:treasury:irs:common\" \n                  xmlns:urn2=\"urn:us:gov:treasury:irs:msg:acabusinessheader\" \n                  xmlns:urn3=\"urn:us:gov:treasury:irs:msg:acasecurityheader\" \n                  xmlns:urn4=\"urn:us:gov:treasury:irs:msg:irsacabulkrequesttransmitter\"&gt;\n    &lt;soapenv:Header xmlns:wsa=\"http://www.w3.org/2005/08/addressing\"&gt;\n        &lt;wsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" \n                       xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n            &lt;Signature Id=\"SIG-E9efb6eb0a76b4277a5cf8dc3930a868d\" xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n                &lt;SignedInfo&gt;\n                    &lt;CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#WithComments\" /&gt;\n                    &lt;SignatureMethod Algorithm=\"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\" /&gt;\n                    &lt;Reference URI=\"#TS-E057d0d55370e45a8bc8a42f995a89aa3\"&gt;\n                        &lt;Transforms&gt;\n                            &lt;Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"&gt;\n                                &lt;InclusiveNamespaces PrefixList=\"wsse wsa soapenv urn urn1 urn2 urn3\" \n                                                     xmlns=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;\n                            &lt;/Transform&gt;\n                        &lt;/Transforms&gt;\n                        &lt;DigestMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#sha256\" /&gt;\n                        &lt;DigestValue&gt;[TIMESTAMP DIGEST VALUE]&lt;/DigestValue&gt;\n                    &lt;/Reference&gt;\n                    &lt;Reference URI=\"#id-Ed6c3f891454e4eeaa73aeacaf21b6857\"&gt;\n                        &lt;Transforms&gt;\n                            &lt;Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"&gt;\n                                &lt;InclusiveNamespaces PrefixList=\"wsa soapenv urn1 urn2 urn3\" \n                                                     xmlns=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;\n                            &lt;/Transform&gt;\n                        &lt;/Transforms&gt;\n                        &lt;DigestMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#sha256\" /&gt;\n                        &lt;DigestValue&gt;[ACA BUSINESS HEADER DIGEST VALUE]&lt;/DigestValue&gt;\n                    &lt;/Reference&gt;\n                    &lt;Reference URI=\"#id-Eda32be00e9954326a8dbbd30a86a975e\"&gt;\n                        &lt;Transforms&gt;\n                            &lt;Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"&gt;\n                                &lt;InclusiveNamespaces PrefixList=\"wsa soapenv urn urn1 urn3\" \n                                                     xmlns=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;\n                            &lt;/Transform&gt;\n                        &lt;/Transforms&gt;\n                        &lt;DigestMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#sha256\" /&gt;\n                        &lt;DigestValue&gt;[ACA TRANSMITTER MANIFEST DIGEST VALUE]&lt;/DigestValue&gt;\n                    &lt;/Reference&gt;\n                &lt;/SignedInfo&gt;\n                &lt;SignatureValue&gt;[SIGNATURE VALUE]&lt;/SignatureValue&gt;\n                &lt;KeyInfo Id=\"KI-E70e6fef54fa44300bf8f732831579e03\"&gt;\n                    &lt;wsse:SecurityTokenReference wsu:Id=\"STR-Ee23913563c7843c7917a3c63f9830d6f\"&gt;\n                        &lt;wsse:KeyIdentifier EncodingType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary\" \n                                            ValueType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3\"&gt;[CERTIFICATE KEY IDENTIFIER]&lt;/wsse:KeyIdentifier&gt;\n                    &lt;/wsse:SecurityTokenReference&gt;\n                &lt;/KeyInfo&gt;\n            &lt;/Signature&gt;\n            &lt;wsu:Timestamp wsu:Id=\"TS-E057d0d55370e45a8bc8a42f995a89aa3\"&gt;\n                &lt;wsu:Created&gt;2019-01-07T16:32:54.353Z&lt;/wsu:Created&gt;\n                &lt;wsu:Expires&gt;2019-01-07T16:42:54.353Z&lt;/wsu:Expires&gt;\n            &lt;/wsu:Timestamp&gt;\n        &lt;/wsse:Security&gt;\n        &lt;urn:ACATransmitterManifestReqDtl wsu:Id=\"id-Eda32be00e9954326a8dbbd30a86a975e\" \n                                          xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n            [MANIFEST DATA]\n        &lt;/urn:ACATransmitterManifestReqDtl&gt;\n        &lt;urn2:ACABusinessHeader wsu:Id=\"id-Ed6c3f891454e4eeaa73aeacaf21b6857\" \n                                xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n            &lt;urn:UniqueTransmissionId&gt;e8d5fbcf-564d-4e31-8b48-ecc2fffe8fc0:SYS12:[TCC]::T&lt;/urn:UniqueTransmissionId&gt;\n            &lt;urn1:Timestamp&gt;2019-01-07T08:32:54Z&lt;/urn1:Timestamp&gt;\n        &lt;/urn2:ACABusinessHeader&gt;\n        &lt;urn3:ACASecurityHeader&gt;\n            &lt;urn1:UserId&gt;[USER ID]&lt;/urn1:UserId&gt;\n        &lt;/urn3:ACASecurityHeader&gt;\n        &lt;wsa:Action&gt;BulkRequestTransmitterService&lt;/wsa:Action&gt;\n    &lt;/soapenv:Header&gt;\n    &lt;soapenv:Body&gt;\n        &lt;urn4:ACABulkRequestTransmitter version=\"1.0\"&gt;\n            &lt;urn1:BulkExchangeFile&gt;\n                &lt;xop:Include href=\"cid:1094C_Request_[TCC]_20190107T163254215Z.xml\" xmlns:xop=\"http://www.w3.org/2004/08/xop/include\" /&gt;\n            &lt;/urn1:BulkExchangeFile&gt;\n        &lt;/urn4:ACABulkRequestTransmitter&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n"}], "owner": {"reputation": 461, "user_id": 4901483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XDh38.gif?s=128&g=1", "display_name": "Das", "link": "https://stackoverflow.com/users/4901483/das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 515, "favorite_count": 1, "accepted_answer_id": 53936635, "answer_count": 3, "score": 1, "last_activity_date": 1551128396, "creation_date": 1545843687, "last_edit_date": 1545940559, "question_id": 53934892, "link": "https://stackoverflow.com/questions/53934892/irs-a2a-message-was-not-formatted-properly-tpe1105-uniquetransmissionid", "title": "IRS-A2A &quot;message was not formatted properly&quot; (TPE1105 - uniqueTransmissionID)", "body": "<p>I am working on integrating the A2A channel for the IRS through their WSDL using WCF. I'm able to get passed any code related errors sending the request but currently receiving the following error back from the IRS:</p>\n\n<pre><code>&lt;faultstring&gt;The message was not formatted properly and/or cannot be interpreted. Please review the XML standards outlined in Section 3 of Publication 5258 (...), correct any issues, and try again.&lt;/faultstring&gt;\n&lt;detail&gt;\n    &lt;errorcode&gt;TPE1105&lt;/errorcode&gt;\n    &lt;uniqueTransmissionID/&gt;\n&lt;/detail&gt;\n</code></pre>\n\n<p>I'm assuming based on the additional node of <strong><code>&lt;uniqueTransmissionID/&gt;</code></strong> in the response it has something to do with the UTID. I've looked over the format of the UTID and the Soap Envelope examples countless times and can't for the life of me figure out what may be out of place. I tried a small suggestion by fatherOfWine in a <a href=\"https://stackoverflow.com/a/36039647/4901483\">previous answer</a> of moving the BusinessHeader up above the Manifest but it returns the same error.</p>\n\n<p>I've added the full request with the Soap Envelope, whitespace appears to be stripped during the request but I've re-formatted it coming from Fiddler.</p>\n\n<pre><code>POST [AATS URL] HTTP/1.1\nContent-Type: multipart/related; type=\"application/xop+xml\";start=\"&lt;rootpart&gt;\";start-info=\"text/xml\";boundary=\"--023e657d-66f5-4e92-8e6e-c223338c205a\"\nSOAPAction: \"BulkRequestTransmitter\"\nHost: la.www4.irs.gov\nContent-Length: 15820\nExpect: 100-continue\nAccept-Encoding: gzip, deflate\nConnection: Keep-Alive\n\n\n----023e657d-66f5-4e92-8e6e-c223338c205a\nContent-Type: application/xop+xml; type=\"text/xml\"; charset=UTF-8\nContent-Transfer-Encoding: 8bit\nContent-Id:&lt;rootpart&gt;\n\n&lt;soapenv:Envelope xmlns:oas1=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" \n    xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" \n    xmlns:urn=\"urn:us:gov:treasury:irs:ext:aca:air:ty18\" \n    xmlns:urn1=\"urn:us:gov:treasury:irs:common\" \n    xmlns:urn2=\"urn:us:gov:treasury:irs:msg:acabusinessheader\" \n    xmlns:urn3=\"urn:us:gov:treasury:irs:msg:acasecurityheader\" \n    xmlns:urn4=\"urn:us:gov:treasury:irs:msg:irsacabulkrequesttransmitter\"&gt;\n    &lt;soapenv:Header xmlns:wsa=\"http://www.w3.org/2005/08/addressing\"&gt;\n         &lt;wsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" \n            xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n            &lt;Signature Id=\"SIG-E508633998DD41B6AE062D27D0AC9A48\" \n                xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n                &lt;SignedInfo&gt;\n                    &lt;CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#WithComments\" /&gt;\n                    &lt;SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\" /&gt;\n                    &lt;Reference URI=\"#TS-BAC31544F1954B5F8C8441167B91A388\"&gt;\n                        &lt;Transforms&gt;\n                            &lt;Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"&gt;\n                                &lt;InclusiveNamespaces PrefixList=\"wsse wsa oas1 soapenv urn urn1 urn2 urn3 urn4\" \n                                    xmlns=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;\n                            &lt;/Transform&gt;\n                        &lt;/Transforms&gt;\n                        &lt;DigestMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#sha256\" /&gt;\n                        &lt;DigestValue&gt;[VALUE]&lt;/DigestValue&gt;\n                    &lt;/Reference&gt;\n                    &lt;Reference URI=\"#id-870747663BAB4D6FB43FFAD2034013F1\"&gt;\n                        &lt;Transforms&gt;\n                            &lt;Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"&gt;\n                                &lt;InclusiveNamespaces PrefixList=\"wsa oas1 soapenv urn1 urn2 urn3 urn4\" \n                                    xmlns=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;\n                            &lt;/Transform&gt;\n                        &lt;/Transforms&gt;\n                        &lt;DigestMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#sha256\" /&gt;\n                        &lt;DigestValue&gt;[VALUE]&lt;/DigestValue&gt;\n                    &lt;/Reference&gt;\n                    &lt;Reference URI=\"#id-1A336736A6134B16831D45A0C8785D10\"&gt;\n                        &lt;Transforms&gt;\n                            &lt;Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"&gt;\n                                &lt;InclusiveNamespaces PrefixList=\"wsa oas1 soapenv urn urn1 urn3 urn4\" \n                                    xmlns=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;\n                            &lt;/Transform&gt;\n                        &lt;/Transforms&gt;\n                        &lt;DigestMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#sha256\" /&gt;\n                        &lt;DigestValue&gt;[VALUE]&lt;/DigestValue&gt;\n                    &lt;/Reference&gt;\n                &lt;/SignedInfo&gt;\n                &lt;SignatureValue&gt;[VALUE]&lt;/SignatureValue&gt;\n                &lt;KeyInfo Id=\"KI-42CB9363E8BE47F2B3E0CD8A743C2D7C\"&gt;\n                    &lt;wsse:SecurityTokenReference wsu:Id=\"STR-9EE1B09DD6794A64B00B496CC9DC3804\"&gt;\n                        &lt;wsse:KeyIdentifier EncodingType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary\" ValueType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3\"&gt;[KEY]&lt;/wsse:KeyIdentifier&gt;\n                    &lt;/wsse:SecurityTokenReference&gt;\n                &lt;/KeyInfo&gt;\n            &lt;/Signature&gt;\n            &lt;wsu:Timestamp wsu:Id=\"TS-BAC31544F1954B5F8C8441167B91A388\"&gt;\n                &lt;wsu:Created&gt;2018-12-27T17:42:39.593Z&lt;/wsu:Created&gt;\n                &lt;wsu:Expires&gt;2018-12-27T17:52:39.593Z&lt;/wsu:Expires&gt;\n            &lt;/wsu:Timestamp&gt;\n        &lt;/wsse:Security&gt;\n        &lt;urn:ACATransmitterManifestReqDtl wsu:Id=\"id-DB1DDC6A020C433CB71FF38200026E55\" \n            xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n            &lt;urn:PaymentYr&gt;2018&lt;/urn:PaymentYr&gt;\n            &lt;urn:PriorYearDataInd&gt;0&lt;/urn:PriorYearDataInd&gt;\n            &lt;urn1:EIN&gt;[EIN]&lt;/urn1:EIN&gt;\n            &lt;urn:TransmissionTypeCd&gt;O&lt;/urn:TransmissionTypeCd&gt;\n            &lt;urn:TestFileCd&gt;T&lt;/urn:TestFileCd&gt;\n            &lt;urn:TransmitterNameGrp&gt;\n                &lt;urn:BusinessNameLine1Txt&gt;[Name]&lt;/urn:BusinessNameLine1Txt&gt;\n            &lt;/urn:TransmitterNameGrp&gt;\n            &lt;urn:CompanyInformationGrp&gt;\n                &lt;urn:CompanyNm&gt;[Name]&lt;/urn:CompanyNm&gt;\n                &lt;urn:MailingAddressGrp&gt;\n                    &lt;urn:USAddressGrp&gt;\n                        &lt;urn:AddressLine1Txt&gt;[Address]&lt;/urn:AddressLine1Txt&gt;\n                        &lt;urn1:CityNm&gt;[City]&lt;/urn1:CityNm&gt;\n                        &lt;urn:USStateCd&gt;[ST]&lt;/urn:USStateCd&gt;\n                        &lt;urn1:USZIPCd&gt;[ZIP]&lt;/urn1:USZIPCd&gt;\n                    &lt;/urn:USAddressGrp&gt;\n                &lt;/urn:MailingAddressGrp&gt;\n                &lt;urn:ContactNameGrp&gt;\n                    &lt;urn:PersonFirstNm&gt;[FirstName]&lt;/urn:PersonFirstNm&gt;\n                    &lt;urn:PersonLastNm&gt;[LastName]&lt;/urn:PersonLastNm&gt;\n                &lt;/urn:ContactNameGrp&gt;\n                &lt;urn:ContactPhoneNum&gt;[PhoneNumber]&lt;/urn:ContactPhoneNum&gt;\n            &lt;/urn:CompanyInformationGrp&gt;\n            &lt;urn:VendorInformationGrp&gt;\n                &lt;urn:VendorCd&gt;I&lt;/urn:VendorCd&gt;\n                &lt;urn:ContactNameGrp&gt;\n                    &lt;urn:PersonFirstNm&gt;[FirstName]&lt;/urn:PersonFirstNm&gt;\n                    &lt;urn:PersonLastNm&gt;[LastName]&lt;/urn:PersonLastNm&gt;\n                &lt;/urn:ContactNameGrp&gt;\n                &lt;urn:ContactPhoneNum&gt;[PhoneNumber]&lt;/urn:ContactPhoneNum&gt;\n            &lt;/urn:VendorInformationGrp&gt;\n            &lt;urn:TotalPayeeRecordCnt&gt;3&lt;/urn:TotalPayeeRecordCnt&gt;\n            &lt;urn:TotalPayerRecordCnt&gt;1&lt;/urn:TotalPayerRecordCnt&gt;\n            &lt;urn:SoftwareId&gt;[SoftwareID]&lt;/urn:SoftwareId&gt;\n            &lt;urn:FormTypeCd&gt;1094/1095C&lt;/urn:FormTypeCd&gt;\n            &lt;urn1:BinaryFormatCd&gt;application/xml&lt;/urn1:BinaryFormatCd&gt;\n            &lt;urn1:ChecksumAugmentationNum&gt;[CheckSum]&lt;/urn1:ChecksumAugmentationNum&gt;\n            &lt;urn1:AttachmentByteSizeNum&gt;[Bytes]&lt;/urn1:AttachmentByteSizeNum&gt;\n            &lt;urn:DocumentSystemFileNm&gt;1094C_Request_[TCC]_20181226T161942345Z.xml&lt;/urn:DocumentSystemFileNm&gt;\n        &lt;/urn:ACATransmitterManifestReqDtl&gt;\n        &lt;urn2:ACABusinessHeader wsu:Id=\"id-E71242CFDF04487D9ECA0AC2E1544E90\" \n            xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n            &lt;urn:UniqueTransmissionId&gt;6de74234-d0fd-45b2-ad45-b408fd137201:SYS12:[TCC]::T&lt;/urn:UniqueTransmissionId&gt;\n            &lt;urn1:Timestamp&gt;2018-12-26T16:19:42Z&lt;/urn1:Timestamp&gt;\n        &lt;/urn2:ACABusinessHeader&gt;\n        &lt;urn3:ACASecurityHeader&gt;\n            &lt;urn2:UserId&gt;1#######&lt;/urn2:UserId&gt;\n        &lt;/urn3:ACASecurityHeader&gt;\n        &lt;wsa:Action&gt;BulkRequestTransmitter&lt;/wsa:Action&gt;\n    &lt;/soapenv:Header&gt;\n    &lt;soapenv:Body&gt;\n        &lt;urn4:ACABulkRequestTransmitter version=\"1.0\"&gt;\n            &lt;urn1:BulkExchangeFile&gt;\n                &lt;inc:Include href=\"cid:1094C_Request_[TCC]_20181226T161942345Z.xml\" \n                    xmlns:inc=\"http://www.w3.org/2004/08/xop/include\" /&gt;\n            &lt;/urn1:BulkExchangeFile&gt;\n        &lt;/urn4:ACABulkRequestTransmitter&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n----023e657d-66f5-4e92-8e6e-c223338c205a\nContent-Type: application/xml\nContent-Transfer-Encoding: 7bit\nContent-Id: &lt;1094C_Request_[TCC]_20181226T161942345Z.xml&gt;\nContent-Disposition: attachment; filename=\"1094C_Request_[TCC]_20181226T161942345Z.xml\"\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;n1:Form109495CTransmittalUpstream xmlns=\"urn:us:gov:treasury:irs:ext:aca:air:ty18\" \n        xmlns:irs=\"urn:us:gov:treasury:irs:common\" \n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n        xmlns:p3=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" xsi:schemaLocation=\"urn:us:gov:treasury:irs:msg:form1094-1095Ctransmitterupstreammessage IRS-Form1094-1095CTransmitterUpstreamMessage.xsd\" \n        xmlns:n1=\"urn:us:gov:treasury:irs:msg:form1094-1095Ctransmitterupstreammessage\"&gt;\n        [Removed for Space]\n    &lt;/n1:Form109495CTransmittalUpstream&gt;\n----023e657d-66f5-4e92-8e6e-c223338c205a--\n</code></pre>\n\n<p><strong>Update</strong>: I added the Security Header and have gotten passed this specific problem, now working on resolving the WS-Security error. I've also updated my envelope with what has changed.</p>\n"}, {"tags": ["c#", "algorithm", "linq", "lambda"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 2, "creation_date": 1545843815, "post_id": 53934883, "comment_id": 94709930, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.all?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>Enumerable.All(IEnumerable&lt;TSource&gt;, Func&lt;TSource,Boolean&gt;)</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 2812, "user_id": 714151, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/IeorE.jpg?s=128&g=1", "display_name": "MrZander", "link": "https://stackoverflow.com/users/714151/mrzander"}, "is_accepted": false, "score": 2, "last_activity_date": 1545844002, "creation_date": 1545844002, "answer_id": 53934953, "question_id": 53934883, "link": "https://stackoverflow.com/questions/53934883/find-matching-ids-between-two-different-list-objects-only-when-all-ids-or-more-a/53934953#53934953", "title": "Find matching IDs between two different List Objects only when all IDs or more are present?", "body": "<p>There are quite a few ways you can do this, it's especially easy with LINQ.</p>\n\n<p>For instance, this will ensure that the employee has all of the skills in the <code>skillsRequired</code> list:</p>\n\n<pre><code>skillsRequired.All(f =&gt; employeeSkills.Any(v =&gt; v.SKILL_ID == f.SKILL_ID));\n</code></pre>\n\n<p>Or, you can check if the employee is missing any skills:</p>\n\n<pre><code>var requiredSkillIDs = skillsRequired.Select(f =&gt; f.SKILL_ID);\nvar employeeSkillIDs = employeeSkills.Select(f =&gt; f.SKILL_ID);\nvar missingSkillIDs = requiredSkillIDs.Except(employeeSkillsIDs);\n</code></pre>\n\n<p>That way you can notify the user of missing skills.</p>\n\n<p>I'd highly recommend you take a look at the <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/linq/standard-query-operators-overview#related-sections\" rel=\"nofollow noreferrer\">docs on LINQ</a>, it is immensely useful.</p>\n"}, {"tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": false, "score": -1, "last_activity_date": 1545848366, "creation_date": 1545848366, "answer_id": 53935620, "question_id": 53934883, "link": "https://stackoverflow.com/questions/53934883/find-matching-ids-between-two-different-list-objects-only-when-all-ids-or-more-a/53935620#53935620", "title": "Find matching IDs between two different List Objects only when all IDs or more are present?", "body": "<p>Try following code which is self explanatory.  I used a dictionary to make code as simple as possible</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace ConsoleApplication1\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            List&lt;EmployeeSkills&gt; employeeSkills = new List&lt;EmployeeSkills&gt;() {\n                new EmployeeSkills() { EMP_SKILL_ID = 1, EMP_ID = 1, SKILL_ID = 1},\n                new EmployeeSkills() { EMP_SKILL_ID = 2, EMP_ID = 1, SKILL_ID = 2},\n                new EmployeeSkills() { EMP_SKILL_ID = 3, EMP_ID = 1, SKILL_ID = 3},\n                new EmployeeSkills() { EMP_SKILL_ID = 4, EMP_ID = 2, SKILL_ID = 1},\n                new EmployeeSkills() { EMP_SKILL_ID = 5, EMP_ID = 2, SKILL_ID = 2},\n                new EmployeeSkills() { EMP_SKILL_ID = 6, EMP_ID = 2, SKILL_ID = 4}\n            };\n\n            List&lt;SkillsRequired&gt; skillsRequired = new List&lt;SkillsRequired&gt;() {\n                new SkillsRequired() { SKILL_REQ_ID = 1, JOB_ID = 1, SKILL_ID = 1},\n                new SkillsRequired() { SKILL_REQ_ID = 2, JOB_ID = 1, SKILL_ID = 2},\n                new SkillsRequired() { SKILL_REQ_ID = 3, JOB_ID = 1, SKILL_ID = 3},\n                new SkillsRequired() { SKILL_REQ_ID = 4, JOB_ID = 2, SKILL_ID = 1},\n                new SkillsRequired() { SKILL_REQ_ID = 5, JOB_ID = 2, SKILL_ID = 2},\n                new SkillsRequired() { SKILL_REQ_ID = 6, JOB_ID = 2, SKILL_ID = 4},\n                new SkillsRequired() { SKILL_REQ_ID = 7, JOB_ID = 2, SKILL_ID = 5}\n            };\n\n            var skills_employees = (from s in skillsRequired\n                                    join e in employeeSkills on s.SKILL_ID equals e.SKILL_ID\n                                    select new { skill_required_id = s.SKILL_REQ_ID, job_id = s.JOB_ID, skill_id = s.SKILL_ID, emp_skill_id = e.EMP_SKILL_ID, emp_id = e.EMP_ID }\n                                    ).ToList();\n\n            Dictionary&lt;int, List&lt;int&gt;&gt; job_skills = skillsRequired.GroupBy(x =&gt; x.JOB_ID, y =&gt; y.SKILL_ID)\n                .ToDictionary(x =&gt; x.Key, y =&gt; y.ToList());\n\n            var groups = skills_employees.GroupBy(x =&gt; new { employee = x.emp_id, job_id = x.job_id }).Select(x =&gt; new { employee = x.Key.employee, job_id = x.Key.job_id, skills = x.Select(y =&gt; y.skill_id).ToList() }).ToList();\n\n\n            var results = groups.Select(x =&gt; new { employee_id = x.employee, job_id = x.job_id, qualifed = job_skills[x.job_id].All(y =&gt; x.skills.Contains(y)) ? \"qualified\" : \"not qualified\" }).ToList(); \n\n\n        }\n    }\n    public class EmployeeSkills\n    {\n        public int EMP_SKILL_ID { get; set; }\n        public int EMP_ID { get; set; }\n        public int SKILL_ID { get; set; }\n    }\n    public class SkillsRequired\n    {\n        public int SKILL_REQ_ID { get; set; }\n        public int JOB_ID { get; set; }\n        public int SKILL_ID { get; set; }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 3658380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6f678dec0efa4842a11f86d2f797acd?s=128&d=identicon&r=PG&f=1", "display_name": "AAP", "link": "https://stackoverflow.com/users/3658380/aap"}, "edited": false, "score": 0, "creation_date": 1546088927, "post_id": 53939512, "comment_id": 94777082, "body": "Thanks the second one worked a treat! I adapted this to work with a List&lt;&gt; instead of a Dictionary because sometimes some jobs could be completed by multiple employees so was getting errors around having the same ID multiple times."}], "tags": [], "owner": {"reputation": 2865, "user_id": 1541819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8169282121d408f803933effe287b3aa?s=128&d=identicon&r=PG", "display_name": "pescolino", "link": "https://stackoverflow.com/users/1541819/pescolino"}, "is_accepted": true, "score": 1, "last_activity_date": 1545882374, "creation_date": 1545882374, "answer_id": 53939512, "question_id": 53934883, "link": "https://stackoverflow.com/questions/53934883/find-matching-ids-between-two-different-list-objects-only-when-all-ids-or-more-a/53939512#53939512", "title": "Find matching IDs between two different List Objects only when all IDs or more are present?", "body": "<p>Here is a rather verbose solution to your problem:</p>\n\n<pre><code>var matches = new Dictionary&lt;int, List&lt;int&gt;&gt;();\n\nvar employees = employeeSkills.ToLookup(emp =&gt; emp.EMP_ID, skill =&gt; skill.SKILL_ID);\nvar jobs = skillsRequired.GroupBy(skill =&gt; skill.JOB_ID, skill =&gt; skill.SKILL_ID);\n\nforeach (var job in jobs)\n{\n    var capableEmployees = new List&lt;int&gt;();\n\n    foreach (var employee in employees)\n    {\n        bool isCapable = true;\n\n        foreach (int requiredSkill in job)\n        {\n            bool hasRequiredSkill = false;\n\n            foreach (int skill in employee)\n            {\n                if (skill == requiredSkill)\n                {\n                    hasRequiredSkill = true;\n                    break;\n                }\n            }\n\n            if (!hasRequiredSkill)\n            {\n                isCapable = false;\n                break;\n            }\n        }\n\n        if (isCapable)\n        {\n            capableEmployees.Add(employee.Key);\n        }\n    }\n\n    matches.Add(job.Key, capableEmployees);\n}\n</code></pre>\n\n<p>Once you have understood this and know some LINQ you can easily turn it into this:</p>\n\n<pre><code>var matches = new Dictionary&lt;int, List&lt;int&gt;&gt;();\n\nvar employees = employeeSkills.ToLookup(emp =&gt; emp.EMP_ID, skill =&gt; skill.SKILL_ID);\nvar jobs = skillsRequired.GroupBy(skill =&gt; skill.JOB_ID, skill =&gt; skill.SKILL_ID);\n\nforeach (var job in jobs)\n{\n    var capableEmployees = (from employee in employees\n                            where job.All(required =&gt; employee.Any(skill =&gt; skill == required))\n                            select employee.Key).ToList();\n\n    matches.Add(job.Key, capableEmployees);\n}\n</code></pre>\n\n<p>Or even this:</p>\n\n<pre><code>var employees = employeeSkills.ToLookup(emp =&gt; emp.EMP_ID, skill =&gt; skill.SKILL_ID);\nvar matches = skillsRequired.GroupBy(skill =&gt; skill.JOB_ID, skill =&gt; skill.SKILL_ID)\n                            .ToDictionary(job =&gt; job.Key,\n                                          job =&gt; employees.Where(emp =&gt; job.All(required =&gt; emp.Any(skill =&gt; skill == required)))\n                                                          .Select(emp =&gt; emp.Key).ToList());\n</code></pre>\n\n<p>All three solutions are equivalent and produce the same result.</p>\n\n<p>Please note the use of the <code>ToLookup</code> method to group the <code>employeeSkills</code>. <code>ToLookup</code> is very similar to <code>GroupBy</code> except that it is evaluated immediately. This means the <code>employeeSkills</code> enumeration is grouped only once instead of once for each job.</p>\n"}], "owner": {"reputation": 47, "user_id": 3658380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6f678dec0efa4842a11f86d2f797acd?s=128&d=identicon&r=PG&f=1", "display_name": "AAP", "link": "https://stackoverflow.com/users/3658380/aap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 53939512, "answer_count": 3, "score": 1, "last_activity_date": 1545882374, "creation_date": 1545843595, "last_edit_date": 1545848694, "question_id": 53934883, "link": "https://stackoverflow.com/questions/53934883/find-matching-ids-between-two-different-list-objects-only-when-all-ids-or-more-a", "title": "Find matching IDs between two different List Objects only when all IDs or more are present?", "body": "<p>I am having issues around how to find matching values between two separate List objects. The aim is to find when a certain Employee has ALL or more of the required Skills to complete a job. </p>\n\n<p>The List objects are as follows:</p>\n\n<p>EmployeeSkills.cs</p>\n\n<pre><code>public int EMP_SKILL_ID { get; set; }\npublic int EMP_ID { get; set; }\npublic int SKILL_ID { get; set; }\n</code></pre>\n\n<p>SkillsRequired.cs</p>\n\n<pre><code>public int SKILL_REQ_ID { get; set; }\npublic int JOB_ID { get; set; }\npublic int SKILL_ID { get; set; }\n</code></pre>\n\n<p>I have tried using Linq to find the matches with no luck, I have also tried a nested foreach loop which finds all the skills that the user has but I am not sure after doing this how to find if they have ALL of the required skills.</p>\n\n<pre><code>var matches = new List&lt;int&gt;();\n\nforeach (var employee in employeeSkills)\n{\n    foreach (var skills in skillsRequired)\n    {\n        if (employee.SKILL_ID == skills.SKILL_ID)\n        {\n            matches.Add(employee.SKILL_ID);\n            matches.Add(skills.JOB_ID);\n            matches.Add(employee.SKILL_ID);\n        }\n    }\n}\n</code></pre>\n\n<p>The EmployeeSkills and SkillsRequired Lists look something like this.</p>\n\n<pre><code>+--------------+--------+----------+\n| EMP_SKILL_ID | EMP_ID | SKILL_ID |\n+--------------+--------+----------+\n|            1 |      1 |        1 |\n|            2 |      1 |        2 |\n|            3 |      1 |        3 |\n|            4 |      2 |        1 |\n|            5 |      2 |        2 |\n|            6 |      2 |        4 |\n+--------------+--------+----------+\n+--------------+--------+----------+\n| SKILL_REQ_ID | JOB_ID | SKILL_ID |\n+--------------+--------+----------+\n|            1 |      1 |        1 |\n|            2 |      1 |        2 |\n|            3 |      1 |        3 |\n|            4 |      2 |        1 |\n|            5 |      2 |        2 |\n|            6 |      2 |        4 |\n|            7 |      2 |        5 |\n+--------------+--------+----------+\n</code></pre>\n\n<p>Each Employee needs the correct skills for the job. EMP_ID 1 can complete JOB_ID 1, but nobody has all the skills required to complete JOB_ID 2.</p>\n\n<p>Is there any way to select all jobs based on whether the user has all, or more of the SKILL_IDs required for the job.</p>\n"}, {"tags": ["c#", "printing", "uwp"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 8881919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1SQzQ.jpg?s=128&g=1", "display_name": "whomer", "link": "https://stackoverflow.com/users/8881919/whomer"}, "is_accepted": false, "score": 1, "last_activity_date": 1545846055, "creation_date": 1545846055, "answer_id": 53935282, "question_id": 53934858, "link": "https://stackoverflow.com/questions/53934858/c-uwp-system-unauthorizedaccessexception-access-is-denied/53935282#53935282", "title": "C# - UWP - System.UnauthorizedAccessException: &#39;Access is denied.&#39;", "body": "<p>Almost immediately after posting this, an unrelated search gave me the answer.  The problem was in accessing the exe.  I had not known to modify the <strong>package.manifest</strong> file to give the exe <strong>fullTrustProcess</strong> capabilities.  Once I sorted that out, the code runs perfectly.</p>\n"}], "owner": {"reputation": 13, "user_id": 8881919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1SQzQ.jpg?s=128&g=1", "display_name": "whomer", "link": "https://stackoverflow.com/users/8881919/whomer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1550, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545846055, "creation_date": 1545843442, "question_id": 53934858, "link": "https://stackoverflow.com/questions/53934858/c-uwp-system-unauthorizedaccessexception-access-is-denied", "title": "C# - UWP - System.UnauthorizedAccessException: &#39;Access is denied.&#39;", "body": "<p>I am writing an app that needs to print to a USB receipt printer (so POSPrinter is not applicable) without raising the Print Dialog window.  I have found an example that prints from within a UWP app using an included exe (provided by @Stefan Wick to <a href=\"https://stackoverflow.com/questions/46984595/how-to-silent-print-from-an-uwp-application\">this question</a>).  The sample of that program runs on my development laptop.  When I put the same code in my UWP app, I get the following exception:</p>\n\n<blockquote>\n  <p>-- System.UnauthorizedAccessException: 'Access is denied. (Exception from HRESULT: 0x80070005 (E_ACCESSDENIED))'</p>\n</blockquote>\n\n<p>Full exception details are:</p>\n\n<blockquote>\n  <p>System.UnauthorizedAccessException HResult=0x80070005 \n    Message=Access is denied. (Exception from HRESULT: 0x80070005 (E_ACCESSDENIED))\n    Source=System.Private.CoreLib\n    StackTrace:\n     at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n     at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\n     at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\n     at System.Runtime.CompilerServices.TaskAwaiter.GetResult()\n     at POSClient.Views.SellPage.d__60.MoveNext() in </p>\n</blockquote>\n\n<p>The exception occurs in this block of code:</p>\n\n<pre><code>private async void Button_Click(object sender, RoutedEventArgs e)\n    {\n        if (imageFile != null)\n            ApplicationData.Current.LocalSettings.Values[\"FileToPrint\"] = imageFile.Path;\n\n        if (ApiInformation.IsApiContractPresent(\"Windows.ApplicationModel.FullTrustAppContract\", 1, 0))\n        {\n            await FullTrustProcessLauncher.LaunchFullTrustProcessForCurrentAppAsync();\n        }\n\n    }\n</code></pre>\n\n<p>when the <code>LaunchFullTrustProcessForCurrentAppAsync</code> line attempts to run.</p>\n\n<p>It never reaches the exe, but here is the pertinent code from that in case it helps:</p>\n\n<pre><code>static void Main(string[] args)\n    {\n        AutoResetEvent resetEvent = new AutoResetEvent(false);\n\n        if (ApplicationData.Current.LocalSettings.Values.ContainsKey(\"FileToPrint\"))\n        {\n            Image img = Image.FromFile(ApplicationData.Current.LocalSettings.Values[\"FileToPrint\"] as string);\n            PrintDocument doc = new PrintDocument();\n            doc.PrintPage += new PrintPageEventHandler((sender, e) =&gt;\n            {\n                img = ResizeImage(img, e.Graphics.VisibleClipBounds.Size);\n                e.Graphics.DrawImage(img, Point.Empty);\n                e.HasMorePages = false;\n            });\n            doc.EndPrint += new PrintEventHandler((sender, e) =&gt;\n            {\n                resetEvent.Set();\n            });\n            doc.Print();\n        }\n        resetEvent.WaitOne();\n    }\n</code></pre>\n\n<p>I believe this error is in trying to access the file, but it may be in trying to access the exe?  I have set permissions on the files folder to allow everyone read/write permissions (for testing purposes) but still get the same exception.</p>\n\n<p>This sample code prints a selected image to the default printer.  Once I get that working, I'll make the modifications necessary to print a receipt.</p>\n\n<p>I'm relatively new to UWP and am stumped by this (I've spent the last week searching for anything related and still can't find an answer).  Any input would be greatly appreciated!</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", ".net", "reflection", "system.reflection"], "comments": [{"owner": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1545843849, "post_id": 53934848, "comment_id": 94709942, "body": "How is the type defined? Does it have a comparer/Equals defined?"}, {"owner": {"reputation": 418, "user_id": 7025362, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FjglYKvz91Q/AAAAAAAAAAI/AAAAAAAAAFw/QTbt3JBqjS0/photo.jpg?sz=128", "display_name": "Mohd Maaz", "link": "https://stackoverflow.com/users/7025362/mohd-maaz"}, "reply_to_user": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1545843953, "post_id": 53934848, "comment_id": 94709980, "body": "var type = Assembly.GetExecutingAssembly().GetTypes()     .FirstOrDefault(t =&gt; t.Name == TableName);"}, {"owner": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1545844054, "post_id": 53934848, "comment_id": 94710011, "body": "Not the variable, the actual type the object is"}], "answers": [{"comments": [{"owner": {"reputation": 418, "user_id": 7025362, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FjglYKvz91Q/AAAAAAAAAAI/AAAAAAAAAFw/QTbt3JBqjS0/photo.jpg?sz=128", "display_name": "Mohd Maaz", "link": "https://stackoverflow.com/users/7025362/mohd-maaz"}, "edited": false, "score": 0, "creation_date": 1545875907, "post_id": 53934970, "comment_id": 94717650, "body": "could you please elaborate in the current context"}], "tags": [], "owner": {"reputation": 2203, "user_id": 2747287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50a5172c8eda1b16912793f596ba77bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schlueter", "link": "https://stackoverflow.com/users/2747287/ryan-schlueter"}, "is_accepted": true, "score": 2, "last_activity_date": 1545925079, "last_edit_date": 1545925079, "creation_date": 1545844123, "answer_id": 53934970, "question_id": 53934848, "link": "https://stackoverflow.com/questions/53934848/how-to-update-db-by-reflection-in-c/53934970#53934970", "title": "How to update db by reflection in c#", "body": "<p>This is how we handle things that are not attached without going back and getting it through manual select. </p>\n\n<pre><code>   var type = Assembly.GetExecutingAssembly().GetTypes()\n   .FirstOrDefault(t =&gt; t.Name == \"\");\n\n\n            object instance = Activator.CreateInstance(type);\n\n            foreach (var item in new Dictionary&lt;string, string&gt;())\n            {\n\n                PropertyInfo information = type.GetProperties()\n    .SingleOrDefault(x =&gt; x.Name == item.Key);\n\n                information.SetValue(instance, item.Value.ToString(), null);\n\n            }               \n\n            db.Entry(instance).State = EntityState.Modified;\n            db.SaveChanges();\n</code></pre>\n"}], "owner": {"reputation": 418, "user_id": 7025362, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FjglYKvz91Q/AAAAAAAAAAI/AAAAAAAAAFw/QTbt3JBqjS0/photo.jpg?sz=128", "display_name": "Mohd Maaz", "link": "https://stackoverflow.com/users/7025362/mohd-maaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "accepted_answer_id": 53934970, "answer_count": 1, "score": 1, "last_activity_date": 1546018734, "creation_date": 1545843400, "last_edit_date": 1546018734, "question_id": 53934848, "link": "https://stackoverflow.com/questions/53934848/how-to-update-db-by-reflection-in-c", "title": "How to update db by reflection in c#", "body": "<p>i want to update a table instance by reflection </p>\n\n<p>here is what i tried  </p>\n\n<pre><code>var type = Assembly.GetExecutingAssembly().GetTypes()\n    .FirstOrDefault(t =&gt; t.Name == TableName);\n\n\nobject instance = Activator.CreateInstance(type);\n\nforeach (var item in dic)\n{\n\n    PropertyInfo information = type.GetProperties()\n        .SingleOrDefault(x =&gt; x.Name == item.Key);\n\n    information.SetValue(instance, item.Value.ToString(), null);\n\n}\nvar fx = db.Set(instance.GetType());\nfx.Add(instance);\nresult= db.SaveChanges();\n</code></pre>\n\n<p>its giving me following exception</p>\n\n<pre><code>   InnerException = {\"Violation of PRIMARY KEY constraint\n 'PK_primryKeyName. Cannot insert duplicate key in object 'tableName'.\n The duplicate key value is (39).\n\\r\\nThe statement has been terminated.\"}\n</code></pre>\n\n<p>its seems Entity framework considers it as an insert rather than an update</p>\n"}, {"tags": ["c#", "powershell", "exception-handling", "comexception"], "comments": [{"owner": {"reputation": 2203, "user_id": 2747287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50a5172c8eda1b16912793f596ba77bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schlueter", "link": "https://stackoverflow.com/users/2747287/ryan-schlueter"}, "edited": false, "score": 0, "creation_date": 1545843355, "post_id": 53934804, "comment_id": 94709806, "body": "Can you show your related powershell code?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1545843673, "post_id": 53934804, "comment_id": 94709892, "body": "Your server address is non existent.  Open DataExcehngeCommon.cpp and find out what is at line 1048."}, {"owner": {"reputation": 11, "user_id": 5710744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb2409d99cf0295ea7ecbb8dc003960?s=128&d=identicon&r=PG&f=1", "display_name": "Olexandr Sytnyk", "link": "https://stackoverflow.com/users/5710744/olexandr-sytnyk"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1545848792, "post_id": 53934804, "comment_id": 94711503, "body": "@jdweng no way. It is closed source proprietary lib. So I&#39;m using it as is."}, {"owner": {"reputation": 11, "user_id": 5710744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb2409d99cf0295ea7ecbb8dc003960?s=128&d=identicon&r=PG&f=1", "display_name": "Olexandr Sytnyk", "link": "https://stackoverflow.com/users/5710744/olexandr-sytnyk"}, "reply_to_user": {"reputation": 2203, "user_id": 2747287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50a5172c8eda1b16912793f596ba77bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schlueter", "link": "https://stackoverflow.com/users/2747287/ryan-schlueter"}, "edited": false, "score": 0, "creation_date": 1545848819, "post_id": 53934804, "comment_id": 94711511, "body": "@RyanSchlueter done."}, {"owner": {"reputation": 91923, "user_id": 41956, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b9da2ca6abf3a1e28fb470f2b3ae2c34?s=128&d=identicon&r=PG", "display_name": "abatishchev", "link": "https://stackoverflow.com/users/41956/abatishchev"}, "edited": false, "score": 0, "creation_date": 1545848857, "post_id": 53934804, "comment_id": 94711529, "body": "@OlexandrSytnyk: what is the actual type of the exception you&#39;re getting? Does it have additional properties you could read? Does it have an inner exception? What is says?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1545849122, "post_id": 53934804, "comment_id": 94711611, "body": "cpp is always readable text.  It is source c plus code."}, {"owner": {"reputation": 11, "user_id": 5710744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb2409d99cf0295ea7ecbb8dc003960?s=128&d=identicon&r=PG&f=1", "display_name": "Olexandr Sytnyk", "link": "https://stackoverflow.com/users/5710744/olexandr-sytnyk"}, "reply_to_user": {"reputation": 91923, "user_id": 41956, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b9da2ca6abf3a1e28fb470f2b3ae2c34?s=128&d=identicon&r=PG", "display_name": "abatishchev", "link": "https://stackoverflow.com/users/41956/abatishchev"}, "edited": false, "score": 0, "creation_date": 1545849218, "post_id": 53934804, "comment_id": 94711650, "body": "@abatishchev I&#39;m getting System.Runtime.InteropServices.COMException type exception. All error codes are generic and innerExcetion is null."}, {"owner": {"reputation": 91923, "user_id": 41956, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b9da2ca6abf3a1e28fb470f2b3ae2c34?s=128&d=identicon&r=PG", "display_name": "abatishchev", "link": "https://stackoverflow.com/users/41956/abatishchev"}, "edited": false, "score": 0, "creation_date": 1545860298, "post_id": 53934804, "comment_id": 94714861, "body": "What type you&#39;re getting in PowerShell? Are you sure you&#39;re using the exact same types? I see you&#39;re adding <code>-Com</code> what means some special wrapper by PowerShell. And apparently this wrapper works differently than the one in .NET."}, {"owner": {"reputation": 11, "user_id": 5710744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb2409d99cf0295ea7ecbb8dc003960?s=128&d=identicon&r=PG&f=1", "display_name": "Olexandr Sytnyk", "link": "https://stackoverflow.com/users/5710744/olexandr-sytnyk"}, "reply_to_user": {"reputation": 91923, "user_id": 41956, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b9da2ca6abf3a1e28fb470f2b3ae2c34?s=128&d=identicon&r=PG", "display_name": "abatishchev", "link": "https://stackoverflow.com/users/41956/abatishchev"}, "edited": false, "score": 0, "creation_date": 1545864064, "post_id": 53934804, "comment_id": 94715825, "body": "@abatishchev afaik -Com is a short form for -ComObject as they produce the same result, according to get-member."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5710744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb2409d99cf0295ea7ecbb8dc003960?s=128&d=identicon&r=PG&f=1", "display_name": "Olexandr Sytnyk", "link": "https://stackoverflow.com/users/5710744/olexandr-sytnyk"}, "edited": false, "score": 0, "creation_date": 1545861370, "post_id": 53937430, "comment_id": 94715204, "body": "So you suggest that powershell executable is using non-conventional means to get error info that is unavailable in pure c#?"}, {"owner": {"reputation": 2676, "user_id": 986184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eaL8P.jpg?s=128&g=1", "display_name": "Dudi Keleti", "link": "https://stackoverflow.com/users/986184/dudi-keleti"}, "reply_to_user": {"reputation": 11, "user_id": 5710744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb2409d99cf0295ea7ecbb8dc003960?s=128&d=identicon&r=PG&f=1", "display_name": "Olexandr Sytnyk", "link": "https://stackoverflow.com/users/5710744/olexandr-sytnyk"}, "edited": false, "score": 0, "creation_date": 1545862350, "post_id": 53937430, "comment_id": 94715457, "body": "@Olexandr It&#39;s interesting me also but unfortunately I&#39;m not familiar with powershell runtime so I can&#39;t answer on this question."}], "tags": [], "owner": {"reputation": 2676, "user_id": 986184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eaL8P.jpg?s=128&g=1", "display_name": "Dudi Keleti", "link": "https://stackoverflow.com/users/986184/dudi-keleti"}, "is_accepted": false, "score": 1, "last_activity_date": 1545860851, "last_edit_date": 1545860851, "creation_date": 1545860265, "answer_id": 53937430, "question_id": 53934804, "link": "https://stackoverflow.com/questions/53934804/c-vs-powershell-how-to-get-detailed-exception-info/53937430#53937430", "title": "C# vs PowerShell. How to get detailed exception info?", "body": "<p>I'm not a COM Interop expert but I'll try to answer what I know and hope it will help you.</p>\n\n<h2>From the managed side</h2>\n\n<p>If the HRESULT is recognized by the runtime (CLR), the runtime automatically creates a specific managed exception for the error (e.g. FileNotFoundException). Otherwise, the runtime creates a generic COMException object which says \"I don't know what this HRESULT meaning\".</p>\n\n<p>If the unmanaged code provides error info, you will see it in the ErrorCode property, otherwise, you will see just the HRESULT code.\nYou can try to search for this code (google\\github) to obtain more info. </p>\n\n<h2>From the unmanaged side</h2>\n\n<p>You need to implement ISupportErrorInfo and IErrorInfo interfaces to provide more info.</p>\n\n<p><strong>So to answer your question</strong>, in C#, you can't get more info in the COMException object if this info is not provided.</p>\n\n<p>For more info:\n<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.comexception?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">COMException</a>, <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/exceptions/handling-com-interop-exceptions\" rel=\"nofollow noreferrer\">Handling COM Interop Exceptions</a>, <a href=\"https://docs.microsoft.com/en-us/windows/desktop/api/oaidl/nn-oaidl-ierrorinfo\" rel=\"nofollow noreferrer\">IErrorInfo</a>, <a href=\"https://docs.microsoft.com/en-us/windows/desktop/api/oaidl/nn-oaidl-isupporterrorinfo\" rel=\"nofollow noreferrer\">ISupportErrorInfo</a>, <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/interop/how-to-map-hresults-and-exceptions\" rel=\"nofollow noreferrer\">HRESULT's mapping</a>, <a href=\"https://docs.microsoft.com/windows/desktop/SecCrypto/common-hresult-values\" rel=\"nofollow noreferrer\">Common HRESULT values</a></p>\n"}], "owner": {"reputation": 11, "user_id": 5710744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb2409d99cf0295ea7ecbb8dc003960?s=128&d=identicon&r=PG&f=1", "display_name": "Olexandr Sytnyk", "link": "https://stackoverflow.com/users/5710744/olexandr-sytnyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545901611, "creation_date": 1545843084, "last_edit_date": 1545901611, "question_id": 53934804, "link": "https://stackoverflow.com/questions/53934804/c-vs-powershell-how-to-get-detailed-exception-info", "title": "C# vs PowerShell. How to get detailed exception info?", "body": "<p>I'm using some external library though COM interface.\nI have generic class for that.</p>\n\n<p></p>\n\n<pre><code>Database.Connector connector = new Database.Connector();\nstring connectString = \"srvr=nonexisthost;database=test;\"; // bogus connect string\ntry\n{\n    var database = connector.Connect(connectString);\n}\ncatch (COMException ex)\n{\n    Console.WriteLine(ex.Message);\n}\n</code></pre>\n\n<p>Trying to build a error proof logic I intentionally provoke an exception.</p>\n\n<p>And I have discovered that C# COMException contains only generic info, like:</p>\n\n<blockquote>\n  <p>Error HRESULT E_FAIL has been returned from a call to a COM component.</p>\n</blockquote>\n\n<p>while executing samey code in PowerShell results in more detailed description:</p>\n\n<p></p>\n\n<pre><code>$connector = New-Object -ComObject Database.Connector\n$connectString = \"srvr=nonexisthost;database=test;\"\n$database = $connector.Connect($connectString)\n</code></pre>\n\n<blockquote>\n  <p>Error while executing transaction with an information base\n  server_addr=nonexisthost descr=11001(0x00002AF9): Host is unknown. \n  line=1048 file=src\\DataExchangeCommon.cpp</p>\n</blockquote>\n\n<p>My question is: what should I do in order to get same error info in C# (if it is possible)?</p>\n"}, {"tags": ["c#"], "answers": [{"tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 9, "last_activity_date": 1545844627, "last_edit_date": 1545844627, "creation_date": 1545842816, "answer_id": 53934753, "question_id": 53934708, "link": "https://stackoverflow.com/questions/53934708/what-is-this-specific-line-of-c-code-relating-to-arrays-is-doing/53934753#53934753", "title": "What is this specific line of C# code relating to arrays is doing?", "body": "<p>Yes, the <code>char</code> part shows that the element type of the array is <code>char</code>. The equivalent code with an explicitly typed variable would be:</p>\n\n<pre><code>char[] array = new char[name.Length];\n</code></pre>\n\n<p>In terms of the <code>Length</code> property, that's just used to determine the size of the array. That's what the value within the <code>[]</code> always means when creating an array. For example, this creates an integer array with 5 elements:</p>\n\n<pre><code>int[] array = new int[5];\n</code></pre>\n\n<p>It may help to clarify things for your example if we separate things out:</p>\n\n<pre><code>int length = name.Length;\nchar[] array = new char[length];\n</code></pre>\n\n<p>Is that clearer to you?</p>\n\n<p>The <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/arrays/\" rel=\"noreferrer\">arrays section of the Microsoft C# Programming Guide</a> can give more details about arrays in general.</p>\n"}], "owner": {"reputation": 29, "user_id": 10525566, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dfMVGBR1yWE/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW9kNkoizZSdvgpKLPflriLH1JPEw/mo/photo.jpg?sz=128", "display_name": "Brett Lindsey", "link": "https://stackoverflow.com/users/10525566/brett-lindsey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 53934753, "answer_count": 1, "score": 0, "last_activity_date": 1545844627, "creation_date": 1545842580, "last_edit_date": 1545842654, "question_id": 53934708, "link": "https://stackoverflow.com/questions/53934708/what-is-this-specific-line-of-c-code-relating-to-arrays-is-doing", "title": "What is this specific line of C# code relating to arrays is doing?", "body": "<p>I'm doing some self paced learning and ran into this line of code that I'm not 100% certain I understand. </p>\n\n<p>This is for a C# problem I'm working on. I know that the line is declaring the variable 'array' and saying that it is a new instance of this object. I'm confused about:</p>\n\n<ul>\n<li>Is this stating that the array will contain characters as its' data type?</li>\n<li>How the <code>.Length</code> operator being used here? Is this saying that the data that each cell is storing is number of characters, and not the characters themselves, in each cell of the array? </li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>var array = new char[name.Length]\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "tcp", "udp", "remote-access"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1545842873, "post_id": 53934603, "comment_id": 94709652, "body": "Any two computers should be able to connect on internet using TCP or UDP (not multicast or broadcast) and not need to use a Middle Server.  Start by using PING to make sure there is a route between the two IP addresses.  To make a connection you need to start a Server Application (Listener) and then connect to the server with a Client.  The server can be multiport that more than one client can connect and the server can be made to route messages between clients."}, {"owner": {"reputation": 49, "user_id": 1121402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fef96f4e930071fcc5abb7331e8ca13?s=128&d=identicon&r=PG", "display_name": "Miky Dal", "link": "https://stackoverflow.com/users/1121402/miky-dal"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1545843836, "post_id": 53934603, "comment_id": 94709937, "body": "Hi,  the problem is that I have the outside IP, but I can&#39;t reach the listener which is inside the the There are 3 hops between the modem, the router and all other network stuff inside the network.  for example, the visible IP is 74.34.224.54 and somewhere inside that, the computer I want to link to is 192.168.5.179.   I don&#39;t get to the 192.168.x.x one, but Anydesk is able to.  And we did nothing special."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1545849020, "post_id": 53934603, "comment_id": 94711577, "body": "Did you try PING to determine if there is a route.  IF PING fails from end-to-end then try middle IP to isolate issue.  If PING works then the Port number is being blocked.  Usually port numbers &lt; 1000 are blocked.  I usually use Port &gt; 10,000 to make sure it is not blocked."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 1121402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fef96f4e930071fcc5abb7331e8ca13?s=128&d=identicon&r=PG", "display_name": "Miky Dal", "link": "https://stackoverflow.com/users/1121402/miky-dal"}, "edited": false, "score": 0, "creation_date": 1545847329, "post_id": 53935419, "comment_id": 94711011, "body": "That is the solution I wanted to avoid.  I&#39;m looking for the Anydesk/TeamViewer style connection, so we don&#39;t need to touch the router.  We tried those 2 and they work perfectly. so I thought, Why not do it this way.  This is the solution that I can&#39;t find any sample.  If this last resort questions can&#39;t find an answer, I will use the one you proposed.  Thank you very much for your help, it&#39;s appreciated. :)"}, {"owner": {"reputation": 385, "user_id": 2237958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Whdgh.png?s=128&g=1", "display_name": "Lies", "link": "https://stackoverflow.com/users/2237958/lies"}, "reply_to_user": {"reputation": 49, "user_id": 1121402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fef96f4e930071fcc5abb7331e8ca13?s=128&d=identicon&r=PG", "display_name": "Miky Dal", "link": "https://stackoverflow.com/users/1121402/miky-dal"}, "edited": false, "score": 0, "creation_date": 1545847631, "post_id": 53935419, "comment_id": 94711112, "body": "Tools like Teamview use a 3th party server to setup a connection between 2 peers. <a href=\"https://superuser.com/questions/661749/how-exactly-does-a-remote-program-like-team-viewer-work\">link</a>"}, {"owner": {"reputation": 49, "user_id": 1121402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fef96f4e930071fcc5abb7331e8ca13?s=128&d=identicon&r=PG", "display_name": "Miky Dal", "link": "https://stackoverflow.com/users/1121402/miky-dal"}, "edited": false, "score": 0, "creation_date": 1545847951, "post_id": 53935419, "comment_id": 94711216, "body": "Yes, I found a lot of information about that but no sample."}], "tags": [], "owner": {"reputation": 385, "user_id": 2237958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Whdgh.png?s=128&g=1", "display_name": "Lies", "link": "https://stackoverflow.com/users/2237958/lies"}, "is_accepted": true, "score": 2, "last_activity_date": 1545847046, "creation_date": 1545847046, "answer_id": 53935419, "question_id": 53934603, "link": "https://stackoverflow.com/questions/53934603/is-there-an-actual-sample-of-proof-of-concept-or-tutorial-how-to-make-2-computer/53935419#53935419", "title": "Is there an actual sample of proof of concept or tutorial how to make 2 computers connect together to transmit audio?", "body": "<ol>\n<li>The application on the 'permanent' computer should be of the type 'listener', a server application. </li>\n<li>The other application, on the mobile computer, should be a 'client' that connects to the server application.</li>\n<li>To make it possible to connect between them over the internet, configure <strong>port forwarding</strong> on your router. This will allow to pass TCP / UDP communication from the WAN side to the internal LAN IP address that the listener is running on. An important consideration to make here regarding is the port you choose for the port forwarding. Often, ISP block certain ports. So, look up which ports they block, and don't use one of those for the WAN side.</li>\n<li>The client application should be able to connect to your WAN address on the port you have configured in the router.</li>\n</ol>\n\n<p>Note: this is a starting point. It is wise to consider to encryption or even a VPN for the communication.</p>\n"}], "owner": {"reputation": 49, "user_id": 1121402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fef96f4e930071fcc5abb7331e8ca13?s=128&d=identicon&r=PG", "display_name": "Miky Dal", "link": "https://stackoverflow.com/users/1121402/miky-dal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 1, "accepted_answer_id": 53935419, "answer_count": 1, "score": -1, "last_activity_date": 1545847046, "creation_date": 1545841852, "question_id": 53934603, "link": "https://stackoverflow.com/questions/53934603/is-there-an-actual-sample-of-proof-of-concept-or-tutorial-how-to-make-2-computer", "title": "Is there an actual sample of proof of concept or tutorial how to make 2 computers connect together to transmit audio?", "body": "<p>I worked for week and read tons of pages and tried them, but I think I'm very unlucky.  What I want to do, it to have a permanent application on a computer which is stable and inside a subnet.</p>\n\n<p>The second computer, will be a notebook going anywhere and connecting to whatever network on the road... even a mobile shared connection.</p>\n\n<p>The objective is that it will take the notebook (full system sound) and transmit it to the permanent computer.  Then the permanent computer will take another sound and send it back to the first computer on a second sound card. So it's full duplex. This part work perfectly already on local network. I need the link between the computers to work not locally.</p>\n\n<p>I don't even premashed answers if you don't want to.  If I ask help, it's because I'm out of solutions.  After hundreds of pages read, Google was not my friend. I don't know where to look anymore.</p>\n\n<p>The full objective is to do remote interviews for our radio station.</p>\n\n<p>We Tried all kind of TCP, UDP, Routing, Ports mix...  But I shouldn't need does, since Anydesk and Team Viewer don't need this. They use Middle server in between. I can't find any sample about that.  I'm open to make a middle server. PHP, HEROKU or Windows.</p>\n\n<p>I don't want to use stuff like ICECast because they have to much latency. It's built for multiple connections.  What I do is for PEER TO PEER, 1 to 1, connection only. Also, I have other thing my app does which is to open and close some sound volumes on the main computer and start some stats software. Which is why I want something home made.</p>\n\n<p>If I can be put on the right track, that would be awesome.</p>\n\n<p>Thank you a lot in advance for your help.</p>\n"}, {"tags": ["c#", "jquery", "asp.net", "asp.net-core", "unobtrusive-validation"], "comments": [{"owner": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "edited": false, "score": 0, "creation_date": 1545842432, "post_id": 53934575, "comment_id": 94709509, "body": "Indifferent of the reason, you can stop submitting a form in such a way: <code>$(&#39;form&#39;).on(&#39;submit&#39;, e =&gt; { e.stopPropagation(); e.preventDefault(); }, false)</code>. Of course, in your case this should occur only if the validation has failed. But I am not familiar yet with asp.net core mvc&#39;s library to tell you how you can check this in the event handler."}], "answers": [{"comments": [{"owner": {"reputation": 1408, "user_id": 560784, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/08aca3b4336df2bd62ca4970adb29d39?s=128&d=identicon&r=PG", "display_name": "Sha", "link": "https://stackoverflow.com/users/560784/sha"}, "edited": false, "score": 0, "creation_date": 1614431102, "post_id": 53935216, "comment_id": 117386365, "body": "Thank you - this help after searching for 2 hours on a proper solution with JQuery Unobtrusive, ASP.NET Core and MVC."}], "tags": [], "owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "is_accepted": true, "score": 7, "last_activity_date": 1545845616, "creation_date": 1545845616, "answer_id": 53935216, "question_id": 53934575, "link": "https://stackoverflow.com/questions/53934575/asp-net-core-unobtrusive-client-side-validation-form-onsubmit-fires-even-on-vali/53935216#53935216", "title": "ASP.NET Core Unobtrusive Client Side Validation Form onsubmit fires even on validation failure", "body": "<p>The jQuery Unobtrusive Validation and higher-level jQuery Validation plugins do not block the submit event from being raised, which, as you've noted, means your <code>showPleaseWait()</code> function will be called whenever the user <em>attempts</em> to submit the form.</p>\n\n<p>One option for making this work is to query the status of validation from within your <code>showPleaseWait</code> function, before attempting to run your own code. Here's an example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function showPleaseWait() {\n    if ($(\"form\").valid()) {\n        // Your code here.\n    }\n}\n</code></pre>\n\n<p>This implementation takes advantage of jQuery Validation's <a href=\"https://jqueryvalidation.org/valid/\" rel=\"noreferrer\"><code>valid</code></a> function, which:</p>\n\n<blockquote>\n  <p>Checks whether the selected form is valid or whether all selected elements are valid.</p>\n</blockquote>\n\n<p>I've just used a simple <code>$(\"form\")</code> selector above, but this may need to be more specific if you have multiple forms on a single page, etc.</p>\n"}], "owner": {"reputation": 1315, "user_id": 1091166, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5057a5b4b4e4f6a5864ce60a08ce9a72?s=128&d=identicon&r=PG&f=1", "display_name": "Azaz ul Haq", "link": "https://stackoverflow.com/users/1091166/azaz-ul-haq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1514, "favorite_count": 1, "accepted_answer_id": 53935216, "answer_count": 1, "score": 2, "last_activity_date": 1545845616, "creation_date": 1545841703, "last_edit_date": 1545843294, "question_id": 53934575, "link": "https://stackoverflow.com/questions/53934575/asp-net-core-unobtrusive-client-side-validation-form-onsubmit-fires-even-on-vali", "title": "ASP.NET Core Unobtrusive Client Side Validation Form onsubmit fires even on validation failure", "body": "<p>Note: This is related to .NET Core v2.0. You may find related posts but they don't address the issue I'm facing.</p>\n\n<p>I'm applying <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/models/validation?view=aspnetcore-2.2#client-side-validation\" rel=\"nofollow noreferrer\">Unobtrusive Client side</a> validation with code as below:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form asp-route-returnurl=\"@ViewData[\"ReturnUrl\"]\" method=\"post\" onsubmit=\"showPleaseWait()\" &gt;\n    &lt;div asp-validation-summary=\"All\" class=\"text-danger\"&gt;&lt;/div&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label asp-for=\"Username\" class=\"control-label\"&gt;&lt;/label&gt;\n        &lt;input asp-for=\"Username\" class=\"form-control\" placeholder=\"Username\"  /&gt;\n        &lt;span asp-validation-for=\"Username\" class=\"text-danger\"&gt;&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label asp-for=\"Password\" class=\"control-label\"&gt;&lt;/label&gt;\n        &lt;input asp-for=\"Password\" value=\"\" class=\"form-control\" placeholder=\"Password\" /&gt;\n        &lt;span asp-validation-for=\"Password\" class=\"text-danger\"&gt;&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;button type=\"submit\"  class=\"btn btn-success btn-lg\" style=\"margin:auto;display:block\"&gt;Log in&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Good thing is it's performing validation on client side. </p>\n\n<p>However, <code>form.onsubmit</code> event is fired even when the validation fails. As a result my <code>showPleaseWait</code> method is called. I believe it shouldn't be called since the form is not submitted yet due to validation failure.</p>\n\n<p>Below is the model:</p>\n\n<pre><code>public class LoginViewModel\n{\n    [Required]        \n    public string Username { get; set; }\n\n    [Required]\n    [DataType(DataType.Password)]\n    public string Password { get; set; }\n\n    [Display(Name = \"Remember me?\")]\n    public bool RememberMe { get; set; }\n}\n</code></pre>\n\n<p>Any solution or workaround would be highly appreciated.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework", "generics", "repository-pattern"], "comments": [{"owner": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "edited": false, "score": 0, "creation_date": 1545842646, "post_id": 53934550, "comment_id": 94709584, "body": "Possible duplicate of: <a href=\"https://stackoverflow.com/questions/14775658/how-to-use-func-with-iqueryable-that-returns-iorderedqueryable\" title=\"how to use func with iqueryable that returns iorderedqueryable\">stackoverflow.com/questions/14775658/&hellip;</a>"}, {"owner": {"reputation": 5975, "user_id": 187365, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/CIlaX.jpg?s=128&g=1", "display_name": "Fran", "link": "https://stackoverflow.com/users/187365/fran"}, "edited": false, "score": 0, "creation_date": 1545844414, "post_id": 53934550, "comment_id": 94710139, "body": "Why even write a get method like that.  If you are using a generic repository, why not make the a GetAll method that just returns the IQueryable and the the developer just tack on his own ordeby includes."}], "answers": [{"tags": [], "owner": {"reputation": 2203, "user_id": 2747287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50a5172c8eda1b16912793f596ba77bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schlueter", "link": "https://stackoverflow.com/users/2747287/ryan-schlueter"}, "is_accepted": true, "score": 3, "last_activity_date": 1545842804, "creation_date": 1545842804, "answer_id": 53934748, "question_id": 53934550, "link": "https://stackoverflow.com/questions/53934550/ef-generic-repository-multiple-includes-and-orderby-call/53934748#53934748", "title": "EF Generic Repository Multiple Includes and OrderBy Call", "body": "<p>I would give this a try.</p>\n\n<pre><code>var list = _repository.Get(filter: x =&gt; x.Price &gt; 10, orderBy: x=&gt; x.OrderBy(y =&gt; y.Price), x =&gt; x.Location, x=&gt; x.Brand);\n</code></pre>\n"}], "owner": {"reputation": 291, "user_id": 7506403, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/004716015a129ce12e88082365f3bf33?s=128&d=identicon&r=PG&f=1", "display_name": "Onur &#214;nder", "link": "https://stackoverflow.com/users/7506403/onur-%c3%96nder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 871, "favorite_count": 1, "accepted_answer_id": 53934748, "answer_count": 1, "score": 1, "last_activity_date": 1545844206, "creation_date": 1545841559, "last_edit_date": 1545844206, "question_id": 53934550, "link": "https://stackoverflow.com/questions/53934550/ef-generic-repository-multiple-includes-and-orderby-call", "title": "EF Generic Repository Multiple Includes and OrderBy Call", "body": "<p>I have reviewed many examples of EF Generic Repository.I couldn't find an instance of <code>OrderBy</code> and <code>Include</code>.I have no idea how to fill in question points in controller <code>(orderBy:?,includes:?)</code>.I stuck here.I'm waiting for your help</p>\n\n<p><strong>Repository</strong></p>\n\n<pre><code>public List&lt;T&gt; Get(Expression&lt;Func&lt;T, bool&gt;&gt; filter = null, Func&lt;IQueryable&lt;T&gt;, IOrderedQueryable&lt;T&gt;&gt; orderBy = null, params Expression&lt;Func&lt;T, object&gt;&gt;[] includes)\n{\n        E_ComDBContext db = new E_ComDBContext();\n        DbSet&lt;T&gt; dbSet;\n        dbSet = db.Set&lt;T&gt;();\n\n        IQueryable&lt;T&gt; query = dbSet;\n\n        foreach (Expression&lt;Func&lt;T, object&gt;&gt; include in includes)\n            query = query.Include(include);\n\n        //if (select != null)\n        //    query = query.Select(select);\n        if (filter != null)\n            query = query.Where(filter);\n\n        if (orderBy != null)\n            query = orderBy(query);\n\n        return query.ToList();\n}\n</code></pre>\n\n<p><strong>Contoller</strong></p>\n\n<pre><code>public JsonResult List()\n{\n    Repository&lt;Product&gt; _repository = new Repository&lt;Product&gt;();          \n    var list = _repository.Get(x=&gt;x.Price&gt;10,orderBy:?,includes:?);           \n    return Json(list, JsonRequestBehavior.AllowGet);\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "linq", "asp.net-mvc-4"], "comments": [{"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1545841435, "post_id": 53934515, "comment_id": 94709132, "body": "Is a <code>date</code> or <code>dateTime</code> included with the data? This would allow to search for most recent data"}, {"owner": {"reputation": 2203, "user_id": 2747287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50a5172c8eda1b16912793f596ba77bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schlueter", "link": "https://stackoverflow.com/users/2747287/ryan-schlueter"}, "edited": false, "score": 1, "creation_date": 1545841572, "post_id": 53934515, "comment_id": 94709181, "body": "We used something similar to the first answer here. <a href=\"https://stackoverflow.com/questions/5288434/how-to-monitor-sql-server-table-changes-by-using-c\" title=\"how to monitor sql server table changes by using c\">stackoverflow.com/questions/5288434/&hellip;</a>"}, {"owner": {"reputation": 39, "user_id": 10834920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa3305f8913acc66beb43353fc115c2a?s=128&d=identicon&r=PG&f=1", "display_name": "prag", "link": "https://stackoverflow.com/users/10834920/prag"}, "reply_to_user": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1545841986, "post_id": 53934515, "comment_id": 94709327, "body": "@Symon I can take data recently from db  when the page loading but  after that if i added new reservation data it is only recognize when again page loading .I need track data in real-time For an example lets say after page loading someone add reservation .I need to get that one without user interaction .this is possible in java-script each and every time checking db but i don&#39;t know how to do that in C# and Asp.net mvc .thanks for your kind help."}, {"owner": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "edited": false, "score": 1, "creation_date": 1545843323, "post_id": 53934515, "comment_id": 94709798, "body": "Do you really need asp.net mvc 4? As it is quite easy to do this in asp.net core, but quite complicated in that old framework."}, {"owner": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "edited": false, "score": 0, "creation_date": 1545843664, "post_id": 53934515, "comment_id": 94709888, "body": "You wrote: &quot;My SQL Server&quot;. Do you mean a &quot;MySQL server&quot; instance or <i>your</i> Microsoft SQL Server instance?"}], "answers": [{"tags": [], "owner": {"reputation": 471, "user_id": 1399022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZC2U.jpg?s=128&g=1", "display_name": "Guillermo Gerard", "link": "https://stackoverflow.com/users/1399022/guillermo-gerard"}, "is_accepted": false, "score": 1, "last_activity_date": 1545843240, "creation_date": 1545843240, "answer_id": 53934830, "question_id": 53934515, "link": "https://stackoverflow.com/questions/53934515/how-can-i-get-recently-updated-data-from-db-without-user-interaction/53934830#53934830", "title": "How can I get recently updated data from db without user interaction", "body": "<p>That can be achieved by using SqlDependency class:</p>\n\n<p><a href=\"https://docs.microsoft.com/es-es/dotnet/api/system.data.sqlclient.sqldependency?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/es-es/dotnet/api/system.data.sqlclient.sqldependency?view=netframework-4.7.2</a></p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/sql/detecting-changes-with-sqldependency\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/sql/detecting-changes-with-sqldependency</a></p>\n"}], "owner": {"reputation": 39, "user_id": 10834920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa3305f8913acc66beb43353fc115c2a?s=128&d=identicon&r=PG&f=1", "display_name": "prag", "link": "https://stackoverflow.com/users/10834920/prag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545843240, "creation_date": 1545841352, "last_edit_date": 1545841439, "question_id": 53934515, "link": "https://stackoverflow.com/questions/53934515/how-can-i-get-recently-updated-data-from-db-without-user-interaction", "title": "How can I get recently updated data from db without user interaction", "body": "<p>Below is my problematic situation. </p>\n\n<p>My SQL Server database has a table called reservation and contain data about </p>\n\n<p>ReservationId,\nDriverId,\nReservationType,</p>\n\n<p>when a customer done reservation ,It added a row with reservationid, DriverId , ReservationType=\"Y\" to the db.</p>\n\n<p>I am able to take this data from db with pressing button.</p>\n\n<p>but I need to get that reservation data continuously(if there have a new record) from db and shown that in real time in a list .</p>\n\n<p>Is that possible using Asp.net MVC and Linq or can someone suggest a way to do that possible .</p>\n"}, {"tags": ["c#", "wpf", "xaml"], "comments": [{"owner": {"reputation": 21, "user_id": 7409131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1698f6b4b36474feeff138e4017945bd?s=128&d=identicon&r=PG&f=1", "display_name": "Evgeny Kremer", "link": "https://stackoverflow.com/users/7409131/evgeny-kremer"}, "reply_to_user": {"reputation": 49661, "user_id": 781754, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4ee1072483e3ab3c7302820d04935328?s=128&d=identicon&r=PG", "display_name": "Daniel Mann", "link": "https://stackoverflow.com/users/781754/daniel-mann"}, "edited": false, "score": 0, "creation_date": 1545840141, "post_id": 53934225, "comment_id": 94708726, "body": "@daniel-mann My question is actually different. I understand that I should receive NullReferenceException because return from catch is just ignored. I don&#39;t see a reason it is ignored, and don&#39;t understand how this is possible in principle to ignore a return from non-void."}, {"owner": {"reputation": 49661, "user_id": 781754, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4ee1072483e3ab3c7302820d04935328?s=128&d=identicon&r=PG", "display_name": "Daniel Mann", "link": "https://stackoverflow.com/users/781754/daniel-mann"}, "edited": false, "score": 1, "creation_date": 1545840511, "post_id": 53934225, "comment_id": 94708862, "body": "It&#39;s not ignored. Maybe it&#39;s never reaching the <code>return</code> statement because your <code>catch</code> is throwing an exception. Maybe <code>IncomingStream</code> is null. Set a breakpoint. <code>NetworkStream</code> and <code>TcpClient</code> are both <code>IDisposable</code>, so use a <code>using</code> block to ensure proper connection cleanup behavior rather than implementing it yourself."}, {"owner": {"reputation": 1143, "user_id": 837165, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/23854b1a2c8f27eac558df568d3cb73c?s=128&d=identicon&r=PG", "display_name": "ivkremer", "link": "https://stackoverflow.com/users/837165/ivkremer"}, "edited": false, "score": 0, "creation_date": 1545841833, "post_id": 53934225, "comment_id": 94709279, "body": "If your app crashes on <code>Client.Connect(iPEndPoint);</code> line then your app will have a 100% unhandled crash on lines <code>IncomingStream.Close();</code> in your both catch blocks since there is no value in your <code>IncomingStream</code>."}, {"owner": {"reputation": 1143, "user_id": 837165, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/23854b1a2c8f27eac558df568d3cb73c?s=128&d=identicon&r=PG", "display_name": "ivkremer", "link": "https://stackoverflow.com/users/837165/ivkremer"}, "edited": false, "score": 0, "creation_date": 1545842129, "post_id": 53934225, "comment_id": 94709389, "body": "Ok, now I see it&#39;s not a 100% chance because next time after successful connection your <code>IncomingStream</code> can be already initialized."}], "owner": {"reputation": 21, "user_id": 7409131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1698f6b4b36474feeff138e4017945bd?s=128&d=identicon&r=PG&f=1", "display_name": "Evgeny Kremer", "link": "https://stackoverflow.com/users/7409131/evgeny-kremer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "closed_date": 1545839820, "answer_count": 0, "score": 0, "last_activity_date": 1545895763, "creation_date": 1545839727, "last_edit_date": 1545895763, "question_id": 53934225, "link": "https://stackoverflow.com/questions/53934225/catch-block-never-returns-on-first-app-start", "closed_reason": "Duplicate", "title": "Catch block never returns on first app start", "body": "<p>I have a following code:</p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    private BackgroundWorker backgroundConnect = new BackgroundWorker();\n\n    public MainWindow()\n    {\n        InitializeComponent();\n        backgroundConnect = (BackgroundWorker)FindResource(\"BackgroundConnect\");\n    }\n    private void ConnectNow_MouseUp(object sender, MouseButtonEventArgs e)\n    {\n        try\n        {\n            //Getting IP and port from UI text boxes here, combine them into IPEndpoint\n            if (backgroundConnect.IsBusy == false)\n                backgroundConnect.RunWorkerAsync(InputIPEndpoit);\n        }\n        catch (Exception ex)\n        {\n            ResponseOutputBox.Text     = ex.Message;                \n        }            \n    }\n\n    private void BackgroundConnect_DoWork(object sender, DoWorkEventArgs e)\n    {            \n        IPEndPoint InputIPEndpoit = (IPEndPoint)e.Argument;\n        e.Result = SemTCPCommandClient.SendReceiveCommand(InputIPEndpoit);           //Method to transfer command to remote host\n    }\n\n    private void BackgroundConnect_RunWorkerCompleted(object sender, RunWorkerCompletedEventArgs e)\n    {            \n        if (e.Error != null)\n        {\n            ResponseOutputBox.Text = e.Error.ToString();          //Here execution falls in case unsuccessful connection attempt is done after first start\n        }\n        else if (e.Cancelled)\n        {\n            //Never fires 'cause no CANCEL is ever called\n        }\n        else\n            ResponseOutputBox.Text = e.Result.ToString();\n    }\n}\n\npublic class SemTCPCommandClient\n    {        \n        private static TcpClient Client;\n        private static NetworkStream IncomingStream;\n        const string Command = \"Test_command\";\n\n        public static string SendReceiveCommand(IPEndPoint iPEndPoint)\n        {\n            try\n            {                \n                Client = new TcpClient();                \n                Client.Connect(iPEndPoint);\n                IncomingStream = Client.GetStream();\n                byte[] payLoad = ASCIIEncoding.ASCII.GetBytes(Command);        \n                IncomingStream.Write(payLoad, 0, payLoad.Length);\n                byte[] IncomingPacket = new byte[256];                                                                      //buffer for incoming string from server\n                IncomingStream.Read(IncomingPacket, 0, IncomingPacket.Length);\n                string IncomingString = Encoding.ASCII.GetString(IncomingPacket);                                           //COnverting bytes to string.\n                Client.Close();\n                IncomingStream.Close();\n                return IncomingString;\n            }\n            catch (SocketException e)\n            {\n                Client.Close();\n                IncomingStream.Close();\n                return Convert.ToString(e.SocketErrorCode);                                                                 //This is NEVER executed at first application start\n            }\n            catch (Exception e)\n            {\n                Client.Close();\n                IncomingStream.Close();\n                return e.Message;\n            }\n        }\n    }\n</code></pre>\n\n<p>If I start my app, click Connect button while there's no server running I get a exception: <code>System.NullReferenceException</code> thrown by <code>BackgroundConnect_RunWorkerCompleted</code>. I've tried to set a break point to <code>return</code> from <code>catch</code> block in <code>SendReceiveCommand</code> but it is never reached. But if after first application start first connection attempt is successful (server was up) then all works as expected. Even if I shut the server, return from catch is executed showing \"ConnectionRefused\" for example.\nI guess it is some obvious problem, but I've spent like 3 hours trying already... \n<em>EDIT:</em>  I understand that I should receive <code>NullReferenceException</code> because <code>return</code> from catch is just ignored. I don't see a reason it is ignored, and don't understand how this is possible in principle to ignore a <code>return</code> from non-<code>void</code>.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The problem was that <code>Client.Close()</code> closes corresponding stream as well, so my <code>catch</code> block was throwing an exception. Thanks to @daniel-mann and @ivkremer. Rewritten code:</p>\n\n<pre><code>public static string SendReceiveCommand(IPEndPoint iPEndPoint)\n        {\n            try\n            {                \n                Client = new TcpClient();                \n                Client.Connect(iPEndPoint);\n                IncomingStream = Client.GetStream();\n                //do reading and data processing here\n                return IncomingString;\n            }\n            catch (SocketException e)\n            {                \n                return Convert.ToString(e.SocketErrorCode);\n            catch (Exception e)\n            {                \n                return e.Message;\n            }\n            finally\n            {\n                Client.Close();\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "postgresql", "entity-framework-core"], "comments": [{"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 1, "creation_date": 1545851859, "post_id": 53934201, "comment_id": 94712502, "body": "You are doing nothing wrong. What you are hitting is current EF Core query translation defect. EF Core really brings me back in the days when we were trying different SQL constructs in order to control query execution plan. Same happens with EF Core. If you post the involved model classes, I can try finding equivalent translatable construct if any."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 1, "creation_date": 1545852277, "post_id": 53934201, "comment_id": 94712635, "body": "I am confused by the <code>TotalRating = bestPost.TotalRating</code> part."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1545852645, "post_id": 53934201, "comment_id": 94712727, "body": "What if you don&#39;t include <code>post.PostId</code> in the <code>votedPosts</code> group and just do <code>Sum</code> on the <code>postVotes</code>?"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1545853482, "post_id": 53934201, "comment_id": 94712926, "body": "In fact, why even bother joining on <code>dbContext.Posts</code> in the <code>votedPosts</code> query? <code>var votedPosts =         from vote in dbContext.Votes         group vote.Sign by vote.PostId into voteSigng         select new {             PostId = voteSigng.Key,             TotalRating = voteSigng.Sum()         };</code>"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1545853740, "post_id": 53934201, "comment_id": 94713017, "body": "BTW, my default response if that I don&#39;t think EF Core is ready for enterprise use, but I am not sure EF could do better in this case; the default response of most is why are you using <code>join</code> instead of navigation properties with EF?"}, {"owner": {"reputation": 1740, "user_id": 1571327, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd8a7c0a73359a03e75f297099a2e23a?s=128&d=identicon&r=PG", "display_name": "Vladislav Qulin", "link": "https://stackoverflow.com/users/1571327/vladislav-qulin"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1545910818, "post_id": 53934201, "comment_id": 94727538, "body": "@NetMage i do not use navigation properties because in current state of EFCore it is impossible to use navigation properties with aggregation functions in groups."}, {"owner": {"reputation": 1740, "user_id": 1571327, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd8a7c0a73359a03e75f297099a2e23a?s=128&d=identicon&r=PG", "display_name": "Vladislav Qulin", "link": "https://stackoverflow.com/users/1571327/vladislav-qulin"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1545910913, "post_id": 53934201, "comment_id": 94727584, "body": "@NetMage I&#39;m okay with something not ready for the enterprise, I use it in my petproject and this query is all covered with caches and stuff. I asked the question on github issues and got a response that this is a known issue, so - keep waiting for the 3.0 or EF6.3."}, {"owner": {"reputation": 1740, "user_id": 1571327, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd8a7c0a73359a03e75f297099a2e23a?s=128&d=identicon&r=PG", "display_name": "Vladislav Qulin", "link": "https://stackoverflow.com/users/1571327/vladislav-qulin"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1545910981, "post_id": 53934201, "comment_id": 94727612, "body": "@NetMage and for your question about joining on dbContext.Posts - that makes total sense, I must have been to worried with the sorting thing to miss it. Thanks a lot!"}, {"owner": {"reputation": 1740, "user_id": 1571327, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd8a7c0a73359a03e75f297099a2e23a?s=128&d=identicon&r=PG", "display_name": "Vladislav Qulin", "link": "https://stackoverflow.com/users/1571327/vladislav-qulin"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1545911020, "post_id": 53934201, "comment_id": 94727629, "body": "@HenkHolterman what exactly is the issue with it?"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1545936057, "post_id": 53934201, "comment_id": 94737370, "body": "@VladislavQulin there is no definition for <code>bestPost</code> in your code."}, {"owner": {"reputation": 1740, "user_id": 1571327, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd8a7c0a73359a03e75f297099a2e23a?s=128&d=identicon&r=PG", "display_name": "Vladislav Qulin", "link": "https://stackoverflow.com/users/1571327/vladislav-qulin"}, "edited": false, "score": 0, "creation_date": 1545946766, "post_id": 53934201, "comment_id": 94740872, "body": "oh, sorry, it has to be <code>votedPost.TotalRating</code>, my fault"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1545990640, "post_id": 53934201, "comment_id": 94750937, "body": "&quot;my fault&quot; - during posting? That puts the whole question in doubt. Always post (copy/paste) the exact code."}, {"owner": {"reputation": 1740, "user_id": 1571327, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd8a7c0a73359a03e75f297099a2e23a?s=128&d=identicon&r=PG", "display_name": "Vladislav Qulin", "link": "https://stackoverflow.com/users/1571327/vladislav-qulin"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1545992468, "post_id": 53934201, "comment_id": 94751590, "body": "@HenkHolterman I doubt it puts the whole question in doubt, but you do you."}], "answers": [{"comments": [{"owner": {"reputation": 1740, "user_id": 1571327, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd8a7c0a73359a03e75f297099a2e23a?s=128&d=identicon&r=PG", "display_name": "Vladislav Qulin", "link": "https://stackoverflow.com/users/1571327/vladislav-qulin"}, "edited": false, "score": 0, "creation_date": 1545912445, "post_id": 53936419, "comment_id": 94728231, "body": "Unfortunately, I faced the same problems, but even <code>Sum</code> was not translated to SQL properly. When I wrap the voteTotalRating into <code>group by</code> statement, I faced the very same issue I had before."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 1740, "user_id": 1571327, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd8a7c0a73359a03e75f297099a2e23a?s=128&d=identicon&r=PG", "display_name": "Vladislav Qulin", "link": "https://stackoverflow.com/users/1571327/vladislav-qulin"}, "edited": false, "score": 0, "creation_date": 1545936015, "post_id": 53936419, "comment_id": 94737343, "body": "@VladislavQulin I am not following - what <code>group by</code> do you need for that? The group join should do all the grouping. Can you update your question? And what LINQ to SQL provider (SQL Engine) are you using?"}, {"owner": {"reputation": 1740, "user_id": 1571327, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd8a7c0a73359a03e75f297099a2e23a?s=128&d=identicon&r=PG", "display_name": "Vladislav Qulin", "link": "https://stackoverflow.com/users/1571327/vladislav-qulin"}, "edited": false, "score": 0, "creation_date": 1545992627, "post_id": 53936419, "comment_id": 94751647, "body": "first I followed the suggested code, EF was not able to translate <code>let</code> part and everything after that. Then I worked with your suggestion that I don&#39;t actually need to join the posts with votes to get the proper sum in the grouping, so I simplified the query from the question and faced the same issue I had. I use Npgsql provider for Postgre and use pg 10 as a DB."}], "tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 1, "last_activity_date": 1545853355, "creation_date": 1545853355, "answer_id": 53936419, "question_id": 53934201, "link": "https://stackoverflow.com/questions/53934201/entity-framework-core-2-2-orderby-evaluated-locally/53936419#53936419", "title": "Entity Framework Core 2.2 orderby evaluated locally", "body": "<p>What happens if you combine the gist of <code>votedPosts</code> into the query so you don't duplicate the <code>join</code> on <code>posts</code>?</p>\n\n<pre><code>var bestPost = (\n    from post in dbContext.Posts\n    join vote in dbContext.Votes on post.PostId equals vote.PostId into votej\n    let voteTotalRating = votej.Sum(pv =&gt; pv.Sign)\n    join room in dbContext.Rooms on post.RoomId equals room.RoomId\n    join game in dbContext.Modules on room.ModuleId equals game.ModuleId\n    where room.RoomAccess == RoomAccessType.Open &amp;&amp; post.CreateDate &gt; fromDate\n    orderby voteTotalRating descending,\n        post.CreateDate descending\n    select new BestPost {\n        UserId = post.UserId,\n        ModuleId = game.ModuleId,\n        ModuleTitle = game.Title,\n        PostId = post.PostId,\n        PostText = post.Text,\n        PostCommentary = post.Commentary,\n        PostCreateDate = post.CreateDate,\n        TotalRating = voteTotalRating\n    }).FirstOrDefault();\n</code></pre>\n"}], "owner": {"reputation": 1740, "user_id": 1571327, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd8a7c0a73359a03e75f297099a2e23a?s=128&d=identicon&r=PG", "display_name": "Vladislav Qulin", "link": "https://stackoverflow.com/users/1571327/vladislav-qulin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 829, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1545853355, "creation_date": 1545839562, "last_edit_date": 1545842463, "question_id": 53934201, "link": "https://stackoverflow.com/questions/53934201/entity-framework-core-2-2-orderby-evaluated-locally", "title": "Entity Framework Core 2.2 orderby evaluated locally", "body": "<p>I have this semi-complex query that counts the most voted user post of the last 7 days:</p>\n\n<pre><code>var fromDate = dateTimeService.Now.Add(-interval);\nvar votedPosts =\n    from vote in dbContext.Votes\n    join post in dbContext.Posts on vote.PostId equals post.PostId\n    group new {vote.Sign, post.PostId} by post.PostId\n    into postVotes\n    select new {\n        PostId = postVotes.Key,\n        TotalRating = postVotes.Sum(pv =&gt; pv.Sign)\n    };\n\nvar bestPost = (\n    from post in dbContext.Posts\n    join votedPost in votedPosts on post.PostId equals votedPost.PostId\n    join room in dbContext.Rooms on post.RoomId equals room.RoomId\n    join game in dbContext.Modules on room.ModuleId equals game.ModuleId\n    where room.RoomAccess == RoomAccessType.Open &amp;&amp; post.CreateDate &gt; fromDate\n    orderby votedPost.TotalRating descending,\n        post.CreateDate descending\n    select new BestPost\n    {\n        UserId = post.UserId,\n        ModuleId = game.ModuleId,\n        ModuleTitle = game.Title,\n        PostId = post.PostId,\n        PostText = post.Text,\n        PostCommentary = post.Commentary,\n        PostCreateDate = post.CreateDate,\n        TotalRating = bestPost.TotalRating\n    }).FirstOrDefault();\n</code></pre>\n\n<p>What I try to do here is to group user votes by <code>PostId</code>, sum the evaluations of their votes by field <code>Sign</code> (can be -1, 0 or 1), then join it with some additional data like game Id/Title and post texts, filter non-public or too old posts, then order it by rank and then by create date, then map it onto DTO and return the very first result if present.</p>\n\n<p>All the fields here are simple basic types: the <code>Vote.Sign</code> is <code>int</code>, <code>Post.CreateDate</code> is <code>DateTime</code>, all the <code>*Id</code> are <code>Guid</code> and <code>Text/Title/Commentary</code> are <code>string</code>.</p>\n\n<p>I get the warning:</p>\n\n<blockquote>\n  <p>warn: Microsoft.EntityFrameworkCore.Query[20500]<br>\n  The LINQ expression 'orderby [bestPost].TotalRating desc' could not be translated and will be evaluated locally.<br>\n  warn: Microsoft.EntityFrameworkCore.Query[20500]<br>\n  The LINQ expression 'FirstOrDefault()' could not be translated and will be evaluated locally.</p>\n</blockquote>\n\n<p>If I remove the sort by <code>TotalRating</code> and only leave the <code>CreateDate</code> sorting, it works fine, creates proper <code>LIMIT</code> request. But with <code>TotalRating</code> the query looks like this:</p>\n\n<pre><code>SELECT \n    t.\"PostId\", t.\"TotalRating\", post.\"CreateDate\" AS \"PostCreateDate\", \n    post.\"UserId\", game.\"ModuleId\", game.\"Title\" AS \"ModuleTitle\", \n    post.\"PostId\" AS \"PostId0\", post.\"Text\" AS \"PostText\", \n    post.\"Commentary\" AS \"PostCommentary\"\nFROM\n    \"Posts\" AS post\nINNER JOIN \n    (SELECT \n         post0.\"PostId\", SUM(vote.\"Sign\")::INT AS \"TotalRating\"\n     FROM \n         \"Votes\" AS vote\n     INNER JOIN \n         \"Posts\" AS post0 ON vote.\"PostId\" = post0.\"PostId\"\n     GROUP BY \n         post0.\"PostId\") AS t ON post.\"PostId\" = t.\"PostId\"\nINNER JOIN \n    \"Rooms\" AS room ON post.\"RoomId\" = room.\"RoomId\"\nINNER JOIN \n    \"Modules\" AS game ON room.\"ModuleId\" = game.\"ModuleId\"\nWHERE \n    (room.\"RoomAccess\" = 0) AND (post.\"CreateDate\" &gt; @__fromDate_0)\n</code></pre>\n\n<p>And it looks pretty bad to be calculated in dotnet runtime.</p>\n\n<p>I tried to wrap the result in another <code>select from</code>, but it didn't help. I also cannot do the group by on all the columns because then I won't be able to aggregate things like <code>ModuleId</code> because EF Core 2.2 does not support the <code>group.FirstOrDefault</code> things and PostgreSQL does not support <code>max(uuid)</code> (otherwise I could use <code>group.Max(g =&gt; g.ModuleId)</code>).</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["c#", "xaml", "uwp"], "answers": [{"comments": [{"owner": {"reputation": 207, "user_id": 6409453, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/X2nIb.jpg?s=128&g=1", "display_name": "vikas sharawat", "link": "https://stackoverflow.com/users/6409453/vikas-sharawat"}, "edited": false, "score": 0, "creation_date": 1545994281, "post_id": 53935080, "comment_id": 94752322, "body": "But x:Datatype is used at compile time"}, {"owner": {"reputation": 1572, "user_id": 9664317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b106eeed5beffab843f19211a6d6d1?s=128&d=identicon&r=PG&f=1", "display_name": "Vignesh", "link": "https://stackoverflow.com/users/9664317/vignesh"}, "reply_to_user": {"reputation": 207, "user_id": 6409453, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/X2nIb.jpg?s=128&g=1", "display_name": "vikas sharawat", "link": "https://stackoverflow.com/users/6409453/vikas-sharawat"}, "edited": false, "score": 0, "creation_date": 1546000040, "post_id": 53935080, "comment_id": 94754691, "body": "If you dont want x:Datatype then you can remove it and replace it with binding it will still work as same. i have updated my answer"}], "tags": [], "owner": {"reputation": 1572, "user_id": 9664317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b106eeed5beffab843f19211a6d6d1?s=128&d=identicon&r=PG&f=1", "display_name": "Vignesh", "link": "https://stackoverflow.com/users/9664317/vignesh"}, "is_accepted": true, "score": 2, "last_activity_date": 1546000079, "last_edit_date": 1592644375, "creation_date": 1545844795, "answer_id": 53935080, "question_id": 53934161, "link": "https://stackoverflow.com/questions/53934161/how-to-display-a-checked-check-box-on-the-selected-item-of-a-listview-in-uwp/53935080#53935080", "title": "How to display a checked check box on the selected item of a ListView in uwp", "body": "<h3>Selection Mode Multiple</h3>\n<p>If you need <strong>multiple</strong> selection with checkbox then you can change the property <code>SelectionMode</code> to <code>Multiple</code> and then set <code>IsMultiSelectCheckBoxEnabled</code> to <code>True</code></p>\n<h3>Selection Mode Single</h3>\n<p>If you need single selection with checkbox you need to add checkbox to your grid and then bind it to a veriable. I have added a small example below</p>\n<p>//Xaml Code</p>\n<pre><code>&lt;ListView ItemsSource=&quot;{x:Bind line_items,Mode=OneWay}&quot;  SelectionChanged=&quot;ListView_SelectionChanged&quot;&gt;\n        &lt;ListView.ItemTemplate&gt;\n            &lt;DataTemplate&gt;\n                &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;\n                    &lt;CheckBox IsChecked=&quot;{Binding is_checked,Mode=OneWay}&quot;&gt;&lt;/CheckBox&gt;\n                    &lt;TextBlock Text=&quot;{Binding value,Mode=OneWay}&quot;&gt;&lt;/TextBlock&gt;\n                &lt;/StackPanel&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/ListView.ItemTemplate&gt;\n    &lt;/ListView&gt;\n</code></pre>\n<p>//C# Code</p>\n<pre><code>public sealed partial class MainPage : Page\n    {\n        public List&lt;item&gt; line_items = new List&lt;item&gt;();\n        public MainPage()\n        {\n            for (var i = 0; i &lt; 10; i++)\n                line_items.Add(new item() { is_checked = false, value = &quot;item&quot; + i });\n            this.InitializeComponent(); \n        }\n\n        private void ListView_SelectionChanged(object sender, SelectionChangedEventArgs e)\n        {\n            foreach(var item in line_items)\n                item.is_checked = false;\n            line_items[(sender as ListView).SelectedIndex].is_checked = true;\n        }\n    }\n    public class item : INotifyPropertyChanged\n    {\n        private bool? _is_checked;\n        private string _value;\n\n        public bool? is_checked\n        {\n            get { return _is_checked; }\n            set\n            {\n                _is_checked = value;\n                RaisePropertyChanged(nameof(is_checked));\n            }\n        }\n\n        public string value\n        {\n            get { return _value; }\n            set\n            {\n                _value = value;\n                RaisePropertyChanged(nameof(value));\n            }\n        }\n        public event PropertyChangedEventHandler PropertyChanged;\n        protected void RaisePropertyChanged(string name)\n        {\n            if (PropertyChanged != null)\n            {\n                PropertyChanged(this, new PropertyChangedEventArgs(name));\n            }\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 207, "user_id": 6409453, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/X2nIb.jpg?s=128&g=1", "display_name": "vikas sharawat", "link": "https://stackoverflow.com/users/6409453/vikas-sharawat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 0, "accepted_answer_id": 53935080, "answer_count": 1, "score": 1, "last_activity_date": 1546000079, "creation_date": 1545839305, "question_id": 53934161, "link": "https://stackoverflow.com/questions/53934161/how-to-display-a-checked-check-box-on-the-selected-item-of-a-listview-in-uwp", "title": "How to display a checked check box on the selected item of a ListView in uwp", "body": "<p>I have a listview in uwp where i have to highlight the selected item by displaying the checked checkbox on the selected item. So please tell me how i achieved it. </p>\n\n<pre><code>   My XAML code    \n\n  &lt;ListView x:Name=\"gvProcesses\"  SelectionChanged=\"GvProcesses_SelectionChanged\" Grid.Row=\"1\" Grid.ColumnSpan=\"2\" Height=\"100\"  ItemsSource=\"{Binding ScanProcessNameCollection,Mode=OneWay}\" SelectedItem=\"{Binding SelectedScanProcessName,Mode=TwoWay}\"   IsItemClickEnabled=\"True\" SelectionMode=\"Single\"  ScrollViewer.HorizontalScrollBarVisibility=\"Auto\" ScrollViewer.HorizontalScrollMode=\"Enabled\" ScrollViewer.IsHorizontalRailEnabled=\"True\" &gt;\n                &lt;ListView.ItemsPanel&gt;\n                    &lt;ItemsPanelTemplate&gt;\n                        &lt;!--&lt;StackPanel Orientation=\"Horizontal\" /&gt;--&gt;\n                        &lt;ItemsStackPanel Orientation=\"Horizontal\" Margin=\"0\"/&gt;\n                    &lt;/ItemsPanelTemplate&gt;\n                &lt;/ListView.ItemsPanel&gt;\n                &lt;ListView.ItemTemplate&gt;\n                    &lt;DataTemplate &gt;\n\n                        &lt;StackPanel Background=\"{ThemeResource SystemControlBackgroundAccentBrush}\" &gt;\n                            &lt;TextBlock  Visibility=\"{Binding IsSelected,Mode=TwoWay, RelativeSource={RelativeSource Mode=TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}\" \n                                        x:Name=\"txtcheckbox\" FontFamily=\"Segoe MDL2 Assets\" Text=\"&amp;#xE73A;\"  FontSize=\"{ StaticResource SmallFontSize}\" VerticalAlignment=\"Center\"  HorizontalAlignment=\"Left\"&gt;&lt;/TextBlock&gt;\n                            &lt;TextBlock Text=\"{Binding}\" FontSize=\"{ StaticResource SmallFontSize}\" VerticalAlignment=\"Center\" TextWrapping=\"WrapWholeWords\"  Margin=\"0 40\" HorizontalAlignment=\"Center\"&gt;&lt;/TextBlock&gt;\n                        &lt;/StackPanel&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/ListView.ItemTemplate&gt;\n                &lt;ListView.ItemContainerStyle&gt;\n                    &lt;Style TargetType=\"ListViewItem\"&gt;\n                        &lt;Setter Property=\"HorizontalContentAlignment\" Value=\"Stretch\" /&gt;\n                        &lt;Setter Property=\"VerticalContentAlignment\" Value=\"Stretch\" /&gt;\n                        &lt;Setter Property=\"Margin\" Value=\"2,0,2,0\"  /&gt;\n                        &lt;Setter Property=\"Padding\" Value=\"0,0,0,0\"  /&gt;\n                        &lt;Setter Property=\"MinHeight\" Value=\"50\"  /&gt;\n                        &lt;Setter Property=\"MaxHeight\" Value=\"100\"  /&gt;\n                        &lt;Setter Property=\"MaxWidth\" Value=\"80\"  /&gt;\n\n                    &lt;/Style&gt;\n                &lt;/ListView.ItemContainerStyle&gt;\n            &lt;/ListView&gt;\n</code></pre>\n\n<p>checkboxes display on all items binding not work properly and It also not goes on converter when i debug it.</p>\n"}, {"tags": ["c#", "regex"], "answers": [{"tags": [], "owner": {"reputation": 1236, "user_id": 6780701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b6H3O.jpg?s=128&g=1", "display_name": "vinicius.ras", "link": "https://stackoverflow.com/users/6780701/vinicius-ras"}, "is_accepted": true, "score": 2, "last_activity_date": 1545839377, "creation_date": 1545839377, "answer_id": 53934173, "question_id": 53934139, "link": "https://stackoverflow.com/questions/53934139/replace-a-string-using-regex/53934173#53934173", "title": "Replace a string using regex;", "body": "<p>Try using <code>\\b</code> in your regular expression: this is used for matching <strong>word boundaries</strong>.</p>\n\n<pre><code>string reg = @\"\\bgo\\b\";\n</code></pre>\n\n<p>Test that <a href=\"http://regexr.com/45gtk\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 19, "user_id": 10835724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c75c0c10475805aaa1060e0036f997be?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama PS", "link": "https://stackoverflow.com/users/10835724/anupama-ps"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "closed_date": 1545839634, "accepted_answer_id": 53934173, "answer_count": 1, "score": -1, "last_activity_date": 1545842838, "creation_date": 1545839125, "last_edit_date": 1545842838, "question_id": 53934139, "link": "https://stackoverflow.com/questions/53934139/replace-a-string-using-regex", "closed_reason": "Duplicate", "title": "Replace a string using regex;", "body": "<p>I have a xml file with some info. I need to replace some words from that with another word.</p>\n\n<p>In the below example, I need to remove the \"go\" keyword with \"C#\":</p>\n\n<blockquote>\n  <p>Something like I'm going to have section on go language</p>\n</blockquote>\n\n<p>For that I have wrote a regex like: </p>\n\n<pre><code>        string reg = \"[^a-zA-Z09]go[^a-zA-Z09]\";\n        var r = new Regex(reg);\n        r.Replace(\"Something like I'm going to have section on go language\", \"C#\");\n        //The expected result is Something like I'm going to have section on C# language\n</code></pre>\n\n<p>But the issue is, it's replacing with the space around the \" go \".\nIf I use string replace function, it will remove go from going as well.</p>\n"}, {"tags": ["c#", "vb.net", "virtual-machine"], "comments": [{"owner": {"reputation": 4264, "user_id": 5413498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Za8D3.jpg?s=128&g=1", "display_name": "David Wilson", "link": "https://stackoverflow.com/users/5413498/david-wilson"}, "edited": false, "score": 0, "creation_date": 1545874247, "post_id": 53934134, "comment_id": 94717441, "body": "Hi and welcome to Stack Overflow. Its really important to ask questions properly here. Have a look at <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. This site is for questions regarding specific issues with existing code. As it stands, your question is off-topic because you don&#39;t explain what behaviour you&#39;re  getting and what errors you get and on what line they occur. Don&#39;t let negative votes or votes to close put you off though. Thanks"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 4264, "user_id": 5413498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Za8D3.jpg?s=128&g=1", "display_name": "David Wilson", "link": "https://stackoverflow.com/users/5413498/david-wilson"}, "edited": false, "score": 0, "creation_date": 1546129633, "post_id": 53934134, "comment_id": 94786507, "body": "@David: That&#39;s a total misunderstanding.  Conceptual questions are allowed.  Questions about programming environments are allowed.  Algorithm questions are allowed.  Do not go around commenting on questions simply because there is no code and no error message, instead take a closer look and see whether it is a type of question that demands code."}], "owner": {"reputation": 404, "user_id": 10304742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de6d2b4489058f17a091c910eff2d6c7?s=128&d=identicon&r=PG&f=1", "display_name": "Imad Abu Hayyah", "link": "https://stackoverflow.com/users/10304742/imad-abu-hayyah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546121743, "creation_date": 1545839092, "last_edit_date": 1546121743, "question_id": 53934134, "link": "https://stackoverflow.com/questions/53934134/detect-if-the-vm-is-copied", "title": "Detect if the VM is copied", "body": "<p>I have developed a program using VB.NET, in form OnLoad I check for Disk serial number, UUID for licensing purposes.</p>\n\n<p>That works well if the exe is moved to other PC, it gives a message that the Program is not licensed to work on this PC.</p>\n\n<p>My problem now is: If the program is installed on Virtual Machine, and the VM is copied, I can not detect that. All Data are the same, HD serial number, UUID are the same.</p>\n\n<p>I can not depend on MAC address since if no Network is assigned to the VM, then the MAC will be the same for Original and copied VM (Empty MAC).</p>\n\n<p>Any Idea how to detect if the program is on a copied VM?</p>\n"}, {"tags": ["c#", "azure", "azure-functions", "azure-functions-runtime"], "comments": [{"owner": {"reputation": 15558, "user_id": 9191057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lLVDw.png?s=128&g=1", "display_name": "Jerry Liu", "link": "https://stackoverflow.com/users/9191057/jerry-liu"}, "edited": false, "score": 1, "creation_date": 1545877070, "post_id": 53934102, "comment_id": 94717813, "body": "We usually meet delay caused by <a href=\"https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-blob#latency-issues\" rel=\"nofollow noreferrer\">cold start in Consumption plan</a>, which is not expected in the dedicated App service plan with <code>Always on</code>(in Application settings) turned on. If the container is monitoring &gt;10000 blobs, the delay is also <a href=\"https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-blob#trigger---polling\" rel=\"nofollow noreferrer\">expected</a>."}, {"owner": {"reputation": 228, "user_id": 9084239, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bdf25bc41a0463717c7eec735ca37ff3?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/9084239/yash"}, "reply_to_user": {"reputation": 15558, "user_id": 9191057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lLVDw.png?s=128&g=1", "display_name": "Jerry Liu", "link": "https://stackoverflow.com/users/9191057/jerry-liu"}, "edited": false, "score": 0, "creation_date": 1545889578, "post_id": 53934102, "comment_id": 94719912, "body": "@JerryLiu Thank you for showing interest to support me. What you are saying is true. That is all what I get on internet. But practically by blob triggered function is triggered with some delay. I have added some more information in my question to explain how I have observed this issue."}, {"owner": {"reputation": 15558, "user_id": 9191057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lLVDw.png?s=128&g=1", "display_name": "Jerry Liu", "link": "https://stackoverflow.com/users/9191057/jerry-liu"}, "edited": false, "score": 3, "creation_date": 1545890756, "post_id": 53934102, "comment_id": 94720207, "body": "Better look into function itself logs(on kudu <code>https:&#47;&#47;&lt;functionappname&gt;.scm.azurewebsites.net&#47;DebugCo\u200c\u200bnso&zwnj;&#8203;le</code>) and navigate to <code>D:\\home\\LogFiles\\Application\\Functions\\Host</code>) to see whether the problem roots in function side."}], "owner": {"reputation": 228, "user_id": 9084239, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bdf25bc41a0463717c7eec735ca37ff3?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/9084239/yash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545890219, "creation_date": 1545838911, "last_edit_date": 1545890219, "question_id": 53934102, "link": "https://stackoverflow.com/questions/53934102/c-blob-triggered-azure-function-v1-with-app-service-plan-is-triggered-with-so", "title": "c# Blob Triggered Azure Function V1 with &quot;App Service Plan&quot; is triggered with some delay", "body": "<p>I am using azure function V1 and created a Blob Triggered function under it.\nAs it is a blob triggered azure function, I am expecting that it will be triggered as soon as I place some file in blob container.</p>\n\n<p>But that is not what happening. Sometimes it is getting triggered immediately and some times it is taking delay of 10 seconds and some times taking delay up yo 1 or 2 minutes.</p>\n\n<p>I am not getting why it is happening. </p>\n\n<p>I have searched about it and found that so many other developers are also getting the same issue.</p>\n\n<p>But I am not able to find any Microsoft official documentation or explanation for this issue.</p>\n\n<p>Can anyone explain the problem and give solution.</p>\n\n<p>It will help me a lot if anyone can give any Microsoft official documentation on this.</p>\n\n<p>Thank You.</p>\n\n<p><strong>27.12.2018</strong></p>\n\n<p><strong>How I observed this issue?</strong></p>\n\n<p>I have one application \"App1\". This is placing 5 files on my blob container every second. There is a blob triggered function \"BT1\" on that container.</p>\n\n<p>In \"App1\" I have written a code to log the time after putting the file in blob container. And in \"BT1\" my first line is the code to log the blob trigger execution start time.</p>\n\n<p>When I observe this two logs, I see 10 seconds of delay regularly. And in some case It is going little high.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XTRec.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XTRec.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "if-statement"], "answers": [{"comments": [{"owner": {"reputation": 49661, "user_id": 781754, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4ee1072483e3ab3c7302820d04935328?s=128&d=identicon&r=PG", "display_name": "Daniel Mann", "link": "https://stackoverflow.com/users/781754/daniel-mann"}, "edited": false, "score": 0, "creation_date": 1545839927, "post_id": 53934149, "comment_id": 94708659, "body": "Or at least an <code>IDictionary</code> of some kind."}], "tags": [], "owner": {"reputation": 122, "user_id": 5604459, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8d573c52be4e08bfff132bf13d19f71f?s=128&d=identicon&r=PG&f=1", "display_name": "Yanov Adamsky", "link": "https://stackoverflow.com/users/5604459/yanov-adamsky"}, "is_accepted": false, "score": 3, "last_activity_date": 1545839226, "creation_date": 1545839226, "answer_id": 53934149, "question_id": 53934074, "link": "https://stackoverflow.com/questions/53934074/best-method-to-if-else-potentially-large-condition/53934149#53934149", "title": "best method to if/else potentially large condition", "body": "<p>I would suggest to add a discount field to the user table or any appropriate table in the database and save the discount info there. You can also create a new table that holds the discount information tied up to the different users and manage to return the discount value instead of going through an if/else statement.</p>\n"}], "owner": {"reputation": 11, "user_id": 10123820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c69c9643e9bb5dbe9b85331ec7e1d930?s=128&d=identicon&r=PG&f=1", "display_name": "quicklaunch2009", "link": "https://stackoverflow.com/users/10123820/quicklaunch2009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "closed_date": 1545841161, "answer_count": 1, "score": -2, "last_activity_date": 1545841792, "creation_date": 1545838730, "last_edit_date": 1545841792, "question_id": 53934074, "link": "https://stackoverflow.com/questions/53934074/best-method-to-if-else-potentially-large-condition", "closed_reason": "Opinion-based", "title": "best method to if/else potentially large condition", "body": "<p>Working on an MVC application.  I have hundreds of users.  Currently I'm trying to give some of our top users (maybe 10) a discount if they log-in through their assigned work-place e-mails.  The price break is shown in the Search result, Product page, Shopping Cart, and Checkout page.  I had to work on this quickly to hack it for the holiday season, so currently the way I am doing this is something like this:</p>\n\n<p>ProductDetails.aspx</p>\n\n<pre><code>if (user == \"at@at.com\") {\n  Product. Price * 20\n}\nelse {\n Product.Price\n}\n</code></pre>\n\n<p>As you can see, this works for now, however I'd have to do this for all 4 pages, and as our discounted users increase, this may become too long and mundane.  I'm looking at a way to go around having such a long if/else statement, and was wondering if it makes sense to use a stored procedure instead or a method?</p>\n"}, {"tags": ["c#", "string"], "comments": [{"owner": {"reputation": 2705, "user_id": 3146958, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002564225231/picture?type=large", "display_name": "KidBilly", "link": "https://stackoverflow.com/users/3146958/kidbilly"}, "edited": false, "score": 0, "creation_date": 1545838845, "post_id": 53934051, "comment_id": 94708307, "body": "Will it always be 3 characters?  After &quot;MP.&quot;?"}, {"owner": {"reputation": 340, "user_id": 10300416, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205248584090807/picture?type=large", "display_name": "Nick Dima", "link": "https://stackoverflow.com/users/10300416/nick-dima"}, "edited": false, "score": 2, "creation_date": 1545838856, "post_id": 53934051, "comment_id": 94708311, "body": "C# is not my forte, but couldn&#39;t you just loop over the string starting at pFrom? and stop once you encounter an <code>}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 162, "user_id": 4824387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lO9dG.jpg?s=128&g=1", "display_name": "Sria Pathre", "link": "https://stackoverflow.com/users/4824387/sria-pathre"}, "is_accepted": false, "score": 3, "last_activity_date": 1545838916, "creation_date": 1545838916, "answer_id": 53934104, "question_id": 53934051, "link": "https://stackoverflow.com/questions/53934051/trying-to-extract-code-in-the-middle-of-a-string/53934104#53934104", "title": "Trying to extract code in the middle of a String", "body": "<pre><code>        int pFrom = code.IndexOf(\"{MP.\") + \"{MP.\".Length;\n        int pTo = code.IndexOf(\"}\", pFrom); //find index of } after start\n        String result = code.Substring(pFrom, pTo - pFrom);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1236, "user_id": 6780701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b6H3O.jpg?s=128&g=1", "display_name": "vinicius.ras", "link": "https://stackoverflow.com/users/6780701/vinicius-ras"}, "is_accepted": false, "score": 4, "last_activity_date": 1545838991, "creation_date": 1545838991, "answer_id": 53934113, "question_id": 53934051, "link": "https://stackoverflow.com/questions/53934051/trying-to-extract-code-in-the-middle-of-a-string/53934113#53934113", "title": "Trying to extract code in the middle of a String", "body": "<p>You could use a regular expression to parse that:</p>\n\n<pre><code>var str = \"({GoldPrice} * 0.376) + {MP.011} + {SilverPrice}\";\nvar number = Regex.Match(str, @\"{MP\\.(\\d+)}\")\n    .Groups[1].Value;\nConsole.WriteLine(number);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 10835726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/714c7244f314b9b96d417516bc8d69d4?s=128&d=identicon&r=PG&f=1", "display_name": "DarrenL", "link": "https://stackoverflow.com/users/10835726/darrenl"}, "edited": false, "score": 0, "creation_date": 1545840388, "post_id": 53934174, "comment_id": 94708828, "body": "Thanks Simonare. However, this doesn&#39;t seem to return a match as a result?"}, {"owner": {"reputation": 43, "user_id": 10835726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/714c7244f314b9b96d417516bc8d69d4?s=128&d=identicon&r=PG&f=1", "display_name": "DarrenL", "link": "https://stackoverflow.com/users/10835726/darrenl"}, "edited": false, "score": 0, "creation_date": 1545958525, "post_id": 53934174, "comment_id": 94743602, "body": "Appreciate the updated. It now gives a result but it doesn&#39;t handle variation of codes, in reality it could be anything after MP. Here is an updated example of the string:  ({GoldPrice} * 0.376) + {MP.011M} + {SilverPrice} + {MP.013M}"}, {"owner": {"reputation": 43, "user_id": 10835726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/714c7244f314b9b96d417516bc8d69d4?s=128&d=identicon&r=PG&f=1", "display_name": "DarrenL", "link": "https://stackoverflow.com/users/10835726/darrenl"}, "edited": false, "score": 0, "creation_date": 1546018777, "post_id": 53934174, "comment_id": 94762125, "body": "Hi Simonare,Getting there! The result is now 011M} + {SilverPrice} + {MP.013M when there should be 2 results &quot;011M&quot; and &quot;013M&quot;. Are you able to amend accordingly please?"}, {"owner": {"reputation": 23752, "user_id": 1118978, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2rloq.jpg?s=128&g=1", "display_name": "Dervi\u015f Kay\u0131mba\u015f\u0131o\u011flu", "link": "https://stackoverflow.com/users/1118978/dervi%c5%9f-kay%c4%b1mba%c5%9f%c4%b1o%c4%9flu"}, "reply_to_user": {"reputation": 43, "user_id": 10835726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/714c7244f314b9b96d417516bc8d69d4?s=128&d=identicon&r=PG&f=1", "display_name": "DarrenL", "link": "https://stackoverflow.com/users/10835726/darrenl"}, "edited": false, "score": 0, "creation_date": 1546115854, "post_id": 53934174, "comment_id": 94783961, "body": "If you think this answer is usefull, please consider to upvote and/or tick it as answer. thank you"}], "tags": [], "owner": {"reputation": 23752, "user_id": 1118978, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2rloq.jpg?s=128&g=1", "display_name": "Dervi\u015f Kay\u0131mba\u015f\u0131o\u011flu", "link": "https://stackoverflow.com/users/1118978/dervi%c5%9f-kay%c4%b1mba%c5%9f%c4%b1o%c4%9flu"}, "is_accepted": true, "score": 1, "last_activity_date": 1546019670, "last_edit_date": 1546019670, "creation_date": 1545839381, "answer_id": 53934174, "question_id": 53934051, "link": "https://stackoverflow.com/questions/53934051/trying-to-extract-code-in-the-middle-of-a-string/53934174#53934174", "title": "Trying to extract code in the middle of a String", "body": "<p>the safest option is to use Regex with Negative and Positive Lookahead. This also matches multiple if you need it anyway.</p>\n\n<pre><code>  var str3 = @\"({GoldPrice} * 0.376) + {MP.011} + {SilverPrice}\";\n  var result = Regex.Matches(str3, @\"(?&lt;=\\{MP\\.).+?(?=\\})\");\n\n  foreach (Match i in result)\n  {\n      Console.WriteLine(i.Value);\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23662, "user_id": 380384, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/uT3JH.png?s=128&g=1", "display_name": "John Alexiou", "link": "https://stackoverflow.com/users/380384/john-alexiou"}, "is_accepted": false, "score": 0, "last_activity_date": 1546020233, "creation_date": 1546020233, "answer_id": 53962561, "question_id": 53934051, "link": "https://stackoverflow.com/questions/53934051/trying-to-extract-code-in-the-middle-of-a-string/53962561#53962561", "title": "Trying to extract code in the middle of a String", "body": "<p>The key is to use the <code>.IndexOf(string text,int start)</code> overload.</p>\n\n<pre><code>static void Main(string[] args)\n{\n    string code = \"({GoldPrice} * 0.376) + {MP.011} + {SilverPrice}\";\n\n    // Step 1. Extract \"MP.011\"\n    int pFrom = code.IndexOf(\"{MP.\");\n    int pTo = code.IndexOf(\"}\", pFrom+1);\n    string part = code.Substring(pFrom+1, pTo-pFrom-1);\n    // Step 2. Extact \"011\"\n    String result = part.Substring(3);\n}\n</code></pre>\n\n<p>or you can combine the last statements into</p>\n\n<pre><code>    String result = code.Substring(pFrom+1, pTo-pFrom-1).Substring(3);\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 10835726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/714c7244f314b9b96d417516bc8d69d4?s=128&d=identicon&r=PG&f=1", "display_name": "DarrenL", "link": "https://stackoverflow.com/users/10835726/darrenl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 53934174, "answer_count": 4, "score": 4, "last_activity_date": 1546020233, "creation_date": 1545838590, "last_edit_date": 1545838766, "question_id": 53934051, "link": "https://stackoverflow.com/questions/53934051/trying-to-extract-code-in-the-middle-of-a-string", "title": "Trying to extract code in the middle of a String", "body": "<p>I am trying to extract a code from a string. The string can vary in content and size but I am using Tag words to make the extraction easier. However, I am struggling to nail a particular scenario. Here is the string:</p>\n\n<pre><code>({GoldPrice} * 0.376) + {MP.011} + {SilverPrice}\n</code></pre>\n\n<p>What I need to extract is the 011 part of {MP.011}. The keyword will always be \"{MP.\" It's just the code that will change. Also the rest of the expression can change so for example {MP.011} could be at the beginning, end or middle of the string.</p>\n\n<p>I've got close using the following:</p>\n\n<pre><code>        int pFrom = code.IndexOf(\"{MP.\") + \"{MP.\".Length;\n        int pTo = code.LastIndexOf(\"}\");\n        String result = code.Substring(pFrom, pTo - pFrom);\n</code></pre>\n\n<p>However, the result is <code>011} + {SilverPrice</code> as it is looking for the last occurrence of }, not the next occurrence. This is where I am struggling.</p>\n\n<p>Any help would be much appreciated.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "stripe-payments"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5346613, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6n-8k8-DN6c/AAAAAAAAAAI/AAAAAAAAABE/WQySo7VKhR8/photo.jpg?sz=128", "display_name": "sabreen saber", "link": "https://stackoverflow.com/users/5346613/sabreen-saber"}, "edited": false, "score": 0, "creation_date": 1545902700, "post_id": 53935448, "comment_id": 94724052, "body": "Yes we can create invoice and collect it from customer , but my question about how to create invoice for specific charge ,,,,,, cuz After I charged I found invoice number is null"}, {"owner": {"reputation": 1070, "user_id": 5915807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f4095e2e965e552e521bc9d38886d77?s=128&d=identicon&r=PG", "display_name": "korben", "link": "https://stackoverflow.com/users/5915807/korben"}, "reply_to_user": {"reputation": 51, "user_id": 5346613, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6n-8k8-DN6c/AAAAAAAAAAI/AAAAAAAAABE/WQySo7VKhR8/photo.jpg?sz=128", "display_name": "sabreen saber", "link": "https://stackoverflow.com/users/5346613/sabreen-saber"}, "edited": false, "score": 0, "creation_date": 1548194354, "post_id": 53935448, "comment_id": 95454034, "body": "You can pay the invoice to associate a charge with an invoice.  <a href=\"https://stripe.com/docs/api#pay_invoice\" rel=\"nofollow noreferrer\">stripe.com/docs/api#pay_invoice</a>"}], "tags": [], "owner": {"reputation": 1070, "user_id": 5915807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f4095e2e965e552e521bc9d38886d77?s=128&d=identicon&r=PG", "display_name": "korben", "link": "https://stackoverflow.com/users/5915807/korben"}, "is_accepted": false, "score": 0, "last_activity_date": 1545847219, "creation_date": 1545847219, "answer_id": 53935448, "question_id": 53934041, "link": "https://stackoverflow.com/questions/53934041/invoice-id-return-with-null-after-change-using-stripe/53935448#53935448", "title": "Invoice Id return with null after change using Stripe", "body": "<p>To create an invoice for a one-time payment, you need to first <a href=\"https://stripe.com/docs/api#create_invoiceitem\" rel=\"nofollow noreferrer\">create line items</a> through the api and then <a href=\"https://stripe.com/docs/api#create_invoice\" rel=\"nofollow noreferrer\">create the invoice</a>. The invoice will collect any open line items and attach them to itself.</p>\n"}], "owner": {"reputation": 51, "user_id": 5346613, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6n-8k8-DN6c/AAAAAAAAAAI/AAAAAAAAABE/WQySo7VKhR8/photo.jpg?sz=128", "display_name": "sabreen saber", "link": "https://stackoverflow.com/users/5346613/sabreen-saber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 300, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545847219, "creation_date": 1545838509, "question_id": 53934041, "link": "https://stackoverflow.com/questions/53934041/invoice-id-return-with-null-after-change-using-stripe", "title": "Invoice Id return with null after change using Stripe", "body": "<p>After I charge for specific subscribed customer on stripe object return with Invoice Id null,Do you know how can I fix It ?\nor how can I create invoice for specific payment ?\nI know how to create invoice using API but I didn't find way to create invoice for one time payment using API.\nIf stripe not support creating invoices for this type why they return Invoice Id including in charge object after charging. \nThat's my code to charge :</p>\n\n<pre><code>       var myCharge = new ChargeCreateOptions();\n        myCharge.Amount = (Int32)(amount * 100);\n        myCharge.Currency = \"usd\";\n        myCharge.ReceiptEmail = \"email@domain.com\";\n        myCharge.Description = \"Upgrade client\";\n        myCharge.CustomerId = customer.SubscripedClientId;\n        myCharge.Capture = true;\n        var chargeService = new ChargeService(stripesecretkey);\n        Charge stripeCharge = chargeService.Create(myCharge);\n</code></pre>\n\n<p>after charge done stripecharge object include invoice id with null value</p>\n"}, {"tags": ["javascript", "c#", "uwp", "uwp-xaml"], "answers": [{"tags": [], "owner": {"reputation": 25248, "user_id": 7254781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsIFV.jpg?s=128&g=1", "display_name": "Nico Zhu - MSFT", "link": "https://stackoverflow.com/users/7254781/nico-zhu-msft"}, "is_accepted": true, "score": 2, "last_activity_date": 1545899428, "last_edit_date": 1545899428, "creation_date": 1545899054, "answer_id": 53941910, "question_id": 53933856, "link": "https://stackoverflow.com/questions/53933856/making-moving-circle-with-composition-in-uwp/53941910#53941910", "title": "Making moving circle with Composition in UWP", "body": "<p>For your requirement, you could use Win2D to approach. And there is related <a href=\"https://github.com/Microsoft/Win2D-Samples/blob/master/ExampleGallery/LayersExample.xaml#L8\" rel=\"nofollow noreferrer\">code sample</a> you refer. </p>\n\n<pre><code>public void Update(Size controlSize)\n{\n    // Move the ball.\n    Position += Velocity;\n\n    // Bounce if we hit the edge.\n    Vector2 topLeft = new Vector2(Radius);\n    Vector2 bottomRight = controlSize.ToVector2() - new Vector2(Radius);\n\n    float bounceX = (Position.X &lt; topLeft.X || Position.X &gt; bottomRight.X) ? -1 : 1;\n    float bounceY = (Position.Y &lt; topLeft.Y || Position.Y &gt; bottomRight.Y) ? -1 : 1;\n\n    Velocity *= new Vector2(bounceX, bounceY);\n\n    Position = Vector2.Clamp(Position, topLeft, bottomRight);\n\n    // Gradually fade in and out.\n    FadeAge += FadeSpeed;\n}\n</code></pre>\n"}], "owner": {"reputation": 469, "user_id": 6697909, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bTsdnRIJmcs/AAAAAAAAAAI/AAAAAAAAAoM/L5MXTaZ02S0/photo.jpg?sz=128", "display_name": "Jeong Yo Han", "link": "https://stackoverflow.com/users/6697909/jeong-yo-han"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 53941910, "answer_count": 1, "score": 1, "last_activity_date": 1545899428, "creation_date": 1545837409, "question_id": 53933856, "link": "https://stackoverflow.com/questions/53933856/making-moving-circle-with-composition-in-uwp", "title": "Making moving circle with Composition in UWP", "body": "<p>I'm new to using Composition class to access visual layer in UWP.<br>\nI'm trying change a easy program that a circle moving around in a specific area(canvas) from p5.js to UWP composition.<br>\nBut I get stuck in making circle in composition and my define moving function.  </p>\n\n<p>below gif animation is what I want to make in UWP with composition class.  </p>\n\n<p><a href=\"https://i.stack.imgur.com/mL4PH.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mL4PH.gif\" alt=\"enter image description here\"></a></p>\n\n<p>to help your understanding I copied source java-script source from nature of code written by daniel shiffman.</p>\n\n<pre><code>var m;\nfunction setup()\n{\n    createCanvas(320, 160);\n    frameRate(60);\n    m =new  Mover(\n                      createVector(random(width), random(height)), \n                      createVector(random(-5, 5), random(-5, 5))\n                      );\n}\n\nfunction draw()\n{\n    background(255,100,100);\n\n    m.display();\n    m.update();\n    m.chkEdge();\n}\n\nclass Mover\n{\n    constructor(loc, vel)\n    {\n        this.loc = loc;\n        this.vel = vel;\n    }\n\n    update() {\n        this.acc = createVector(random(-1, 1), random(-1, 1));\n        this.loc.add(this.vel);\n        this.vel.add(this.acc);\n        this.vel.limit(5);\n    }\n    display() {\n        stroke(0);  \n        fill(175);\n        ellipse(this.loc.x, this.loc.y, 15, 15); \n    }\n    chkEdge() {\n         if ( this.loc.x &gt; width) this.loc.x =0;\n         else if ( this.loc.x&lt;0) this.loc.x =width;\n         if ( this.loc.y&gt; height) this.loc.y = 0;\n         else if (this.loc.y&lt;0) this.loc.y=height;\n    }\n}\n</code></pre>\n\n<p>I want to write this program in UWP exactly same, but as I said before, I don't know how to make circle sprite visual and how to make my sprite visual move after finish function.</p>\n\n<p>below is my C-sharp source.</p>\n\n<pre><code>        public MainPage()\n    {\n        this.InitializeComponent();\n\n        var ran = new Random();\n        Vector3 velocity = new Vector3(30, 30, 0);\n        Vector3 accel = new Vector3(ran.Next(-1, 1), ran.Next(-1, 1), 0);\n\n        var cnv = ElementCompositionPreview.GetElementVisual(mainCnv);\n        var compositor = cnv.Compositor;\n        var visual = compositor.CreateSpriteVisual();\n        visual.Brush = compositor.CreateColorBrush(Color.FromArgb(100, 0, 100, 200));\n\n        visual.Size = new Vector2(100f, 50.75f); // I want to make this circle\n\n        visual.Offset = new Vector3(  // offset\n            ran.Next(0, (int)mainCnv.Width),\n            ran.Next(0, (int)mainCnv.Height),\n            0); \n\n        ElementCompositionPreview.SetElementChildVisual(mainCnv, visual);\n\n        //while(true)\n        {\n\n            Vector3KeyFrameAnimation animation = compositor.CreateVector3KeyFrameAnimation();\n\n            animation.InsertKeyFrame(\n                1.0f,\n                visual.Offset + velocity // ......... \n            );\n            animation.Duration = TimeSpan.FromSeconds(5);\n            //animation.IterationCount = 1;\n            animation.IterationBehavior = AnimationIterationBehavior.Forever;\n            visual.StartAnimation(\"Offset\", animation);\n\n            //visual.Offset +=velocity; // this statement does not work.\n            velocity += accel; //accel should be added velocity after behavior........\n        }\n\n    }\n</code></pre>\n\n<p>in mainPage.xaml I just defined \"mainCnv\" canvas.<br>\nbelow is gif animation that I create with UWP. I can't make it move and move and move. It just moves between same place repeatedly.<br>\n<a href=\"https://i.stack.imgur.com/kTXCT.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kTXCT.gif\" alt=\"enter image description here\"></a></p>\n\n<p>is It possible to make same program in UWP?<br>\nIf I can't, I'm fine just using Xaml.UI Layer. I'm just curious that I can do same thing in composition.<br>\nThanks for your reading.</p>\n"}, {"tags": ["c#", "azure", "azure-cosmosdb"], "comments": [{"owner": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 2, "creation_date": 1545838202, "post_id": 53933800, "comment_id": 94708116, "body": "There is no native method for extracting random samples (unless you use the MongoDB API with aggregation pipeline). Maybe consider randomizing on a known set of values within your data domain? Date ranges?"}, {"owner": {"reputation": 83, "user_id": 10577043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bbed1a2121d2e5d64b5561c9ea0126d?s=128&d=identicon&r=PG&f=1", "display_name": "kikis", "link": "https://stackoverflow.com/users/10577043/kikis"}, "reply_to_user": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 0, "creation_date": 1545839601, "post_id": 53933800, "comment_id": 94708564, "body": "I do not have a approach if you have an Idea I will take"}, {"owner": {"reputation": 83, "user_id": 10577043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bbed1a2121d2e5d64b5561c9ea0126d?s=128&d=identicon&r=PG&f=1", "display_name": "kikis", "link": "https://stackoverflow.com/users/10577043/kikis"}, "reply_to_user": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 0, "creation_date": 1545844348, "post_id": 53933800, "comment_id": 94710121, "body": "Every document has a field : &quot;NumberoftheBook&quot; which is the number of storage of the document (like unique ID for an SQL database)"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 10577043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bbed1a2121d2e5d64b5561c9ea0126d?s=128&d=identicon&r=PG&f=1", "display_name": "kikis", "link": "https://stackoverflow.com/users/10577043/kikis"}, "edited": false, "score": 0, "creation_date": 1545877042, "post_id": 53938858, "comment_id": 94717811, "body": "Thanks for your answer. I have tried this to get one document : var query = client.CreateDocumentQuery&lt;LeafBook&gt;(collectionLink, new FeedOptions { MaxItemCount = -1 })                      .Where(b=&gt; b.NumberOfTheBook==10)                                                              .AsDocumentQuery();        but I have this error : System.ArgumentNullException: Value cannot be null. Parameter name: source"}, {"owner": {"reputation": 20458, "user_id": 8198946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRGKD.png?s=128&g=1", "display_name": "Jay Gong", "link": "https://stackoverflow.com/users/8198946/jay-gong"}, "reply_to_user": {"reputation": 83, "user_id": 10577043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bbed1a2121d2e5d64b5561c9ea0126d?s=128&d=identicon&r=PG&f=1", "display_name": "kikis", "link": "https://stackoverflow.com/users/10577043/kikis"}, "edited": false, "score": 0, "creation_date": 1545897946, "post_id": 53938858, "comment_id": 94722433, "body": "@kikis You mean you met the error when you use linq to filter documents?"}], "tags": [], "owner": {"reputation": 20458, "user_id": 8198946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRGKD.png?s=128&g=1", "display_name": "Jay Gong", "link": "https://stackoverflow.com/users/8198946/jay-gong"}, "is_accepted": false, "score": 0, "last_activity_date": 1545874669, "creation_date": 1545874669, "answer_id": 53938858, "question_id": 53933800, "link": "https://stackoverflow.com/questions/53933800/select-documents-randomly/53938858#53938858", "title": "Select documents randomly", "body": "<p>kikis, as @David Makogon said in the comment, you could follow the <a href=\"https://azure.microsoft.com/en-us/blog/azure-cosmosdb-extends-support-for-mongodb-aggregation-pipeline-unique-indexes-and-more/\" rel=\"nofollow noreferrer\">sample</a> which is linked by the <a href=\"https://feedback.azure.com/forums/263030-azure-cosmos-db/suggestions/20100751-allow-for-random-sample\" rel=\"nofollow noreferrer\">feedback</a> to get random result in cosmos db mongo api. </p>\n\n<p>However ,there is no such native feature in cosmos db sql api. So , maybe you need to adopt workaround.</p>\n\n<p>You could use <code>stored procedure</code> to implement such feature in cosmos db,please refer to this <a href=\"https://medium.com/@murdockcrc/documentdb-retrieving-a-random-document-7ef4a27e8591\" rel=\"nofollow noreferrer\">blog</a>.</p>\n\n<p>In this workaround, the most important thing is that it could potentially iterate through your whole collection, depending on the value of filterString you pass to the sproc upon execution. You should make sure <code>filterString</code> is as lightweight on the database as possible.</p>\n\n<p>Or you could just get 20 random <code>NumberoftheBook</code> properties before the query, and take that for query filter. </p>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 10577043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bbed1a2121d2e5d64b5561c9ea0126d?s=128&d=identicon&r=PG&f=1", "display_name": "kikis", "link": "https://stackoverflow.com/users/10577043/kikis"}, "edited": false, "score": 0, "creation_date": 1545906780, "post_id": 53941028, "comment_id": 94725739, "body": "thanks but I do not know how to adapt : dc.CreateDocumentQuery(update.SelfLink, &quot;SELECT c.id FROM c&quot;)   with :  var query = client.CreateDocumentQuery&lt;LeafBook&gt;(collectionLink, new FeedOptions { MaxItemCount = -1 })               .Take(20)                          .AsDocumentQuery();"}], "tags": [], "owner": {"reputation": 4129, "user_id": 1508398, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/eceb9b7596b6b99c54458e6cd84a3c18?s=128&d=identicon&r=PG", "display_name": "bit", "link": "https://stackoverflow.com/users/1508398/bit"}, "is_accepted": false, "score": 0, "last_activity_date": 1545894199, "creation_date": 1545894199, "answer_id": 53941028, "question_id": 53933800, "link": "https://stackoverflow.com/questions/53933800/select-documents-randomly/53941028#53941028", "title": "Select documents randomly", "body": "<p>Here's how I would do it.</p>\n\n<ol>\n<li><p>Get the total no of documents in the collection using<br>\n<code>dc.CreateDocumentQuery(update.SelfLink, \"SELECT c.id FROM c\")</code></p></li>\n<li><p>Use <code>Random</code> to select random <code>int</code>s between 0 and the total (minus 1) obtained from above. </p></li>\n<li><p>Fetch the documents corresponding to the <code>id</code>s obtained (in step 1) at the indexes (in step 2)</p></li>\n</ol>\n\n<p>I haven't tried this out but let me know!</p>\n"}], "owner": {"reputation": 83, "user_id": 10577043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bbed1a2121d2e5d64b5561c9ea0126d?s=128&d=identicon&r=PG&f=1", "display_name": "kikis", "link": "https://stackoverflow.com/users/10577043/kikis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 538, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1576519758, "creation_date": 1545837098, "last_edit_date": 1545838017, "question_id": 53933800, "link": "https://stackoverflow.com/questions/53933800/select-documents-randomly", "title": "Select documents randomly", "body": "<p>I would like to know if there is a way to select randomly documents in CosmosDB (Microsoft Azure).</p>\n\n<p>Here is my code, I do not know what to add before \"Take(20)\":</p>\n\n<pre><code>public List&lt;LeafBook&gt; BooksList { get; private set; }\n\npublic async Task&lt;List&lt;LeafBook&gt;&gt; GetBookAsync()\n{\n    try\n    {\n        // The query excludes completed TodoItems\n\n        var query = client.CreateDocumentQuery&lt;LeafBook&gt;(collectionLink, new FeedOptions { MaxItemCount = -1 })\n\n             .Take(20)            \n             .AsDocumentQuery();\n\n        BooksList = new List&lt;LeafBook&gt;();\n        while (query.HasMoreResults)\n        {\n            BooksList.AddRange(await query.ExecuteNextAsync&lt;LeafBook&gt;());\n        }\n\n    }\n    catch (Exception e)\n    {\n        Console.Error.WriteLine(@\"ERROR {0}\", e.Message);\n        return null;\n    }\n    return BooksList;\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1545837514, "post_id": 53933795, "comment_id": 94707920, "body": "The &quot;Choose file to upload&quot; dialog isn&#39;t a process."}, {"owner": {"reputation": 48011, "user_id": 563088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KilOi.jpg?s=128&g=1", "display_name": "Emond Erno", "link": "https://stackoverflow.com/users/563088/emond-erno"}, "edited": false, "score": 0, "creation_date": 1545840327, "post_id": 53933795, "comment_id": 94708805, "body": "What browser are you using? Can you show us some code?"}], "owner": {"reputation": 1, "user_id": 10835587, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2_BSk1z-rvk/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYgqAi5V9ei527zYL8xUNPO_aMYig/mo/photo.jpg?sz=128", "display_name": "Bala", "link": "https://stackoverflow.com/users/10835587/bala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545837072, "creation_date": 1545837072, "question_id": 53933795, "link": "https://stackoverflow.com/questions/53933795/how-to-get-the-window-title-process-id-of-a-windows-pop-up-or-dialog-box", "title": "How to get the Window title, Process ID of a windows pop up or dialog box?", "body": "<p>I am working on a browser automation, a \"Choose file to upload\" window will be triggered at a point from the browser. How do i retrieve the window title of the \"Choose file to upload\" window as \"Choose file to upload\"? (Using internet explorer)</p>\n\n<p>I have tried to obtain all existing window titles using <strong>Process.MainWindowTitle</strong> but it returns the the Browser window title twice whereas I want the Title to be returned as \"Choose file to upload\" and the Browser window Title. Does the Pop up window not generate a new file explorer process ? Also, I was able to get 2 PIDs with respect to the Browser Window title ( one for the browser and one for the Pop up ). How do i get the PID of the Pop Up alone ? I get no PIDs when i search with window Title name as \"Choose file to upload\"</p>\n"}, {"tags": ["c#", "regex", "string"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1545837072, "post_id": 53933749, "comment_id": 94707765, "body": "What is the pattern you are trying to remove? Try <code>Regex.Replace(badstring, @&quot;\\s*\\(\\d+\\).*&quot;, &quot;&quot;)</code>"}, {"owner": {"reputation": 1011, "user_id": 726720, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9107373857f2f832f7e5a75b28821109?s=128&d=identicon&r=PG", "display_name": "user726720", "link": "https://stackoverflow.com/users/726720/user726720"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1545838969, "post_id": 53933749, "comment_id": 94708353, "body": "@Wiktor, this works perfectly. Kindly can you please put this as an answer and explain me more about how did you put that regex together. I&#39;m a bit weak in regex and trying to learn. Thanks."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1545839819, "post_id": 53933749, "comment_id": 94708626, "body": "Posted <a href=\"https://stackoverflow.com/a/53934244/3832970\">below</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1011, "user_id": 726720, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9107373857f2f832f7e5a75b28821109?s=128&d=identicon&r=PG", "display_name": "user726720", "link": "https://stackoverflow.com/users/726720/user726720"}, "edited": false, "score": 0, "creation_date": 1545838742, "post_id": 53933833, "comment_id": 94708276, "body": "This doesn&#39;t work with C#. AB still remains. Output is : <code>Fox jumps over the rope AB</code>"}], "tags": [], "owner": {"reputation": 741, "user_id": 8004593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nAk4F.jpg?s=128&g=1", "display_name": "lagripe", "link": "https://stackoverflow.com/users/8004593/lagripe"}, "is_accepted": false, "score": 0, "last_activity_date": 1545843763, "last_edit_date": 1545843763, "creation_date": 1545837279, "answer_id": 53933833, "question_id": 53933749, "link": "https://stackoverflow.com/questions/53933749/regex-cleaning-string/53933833#53933833", "title": "Regex cleaning string", "body": "<pre><code>    String Pattern = \"[^a-zA-Z\\\\s]+[a-zA-Z]*\";\n    String StringToClean = \"Fox jumps over (1):AB 123 the rope (1):AB 123\";\n    String StringCleaned = Regex.Replace(StringToClean, @Pattern, \"\");\n    String Cleaned = Regex.Replace(StringCleaned, @\"[\\s]+\", \" \");\n    Console.WriteLine(Cleaned);\n</code></pre>\n\n<blockquote>\n  <p>Result = Fox jumps over the rope</p>\n</blockquote>\n\n<p>Tested on <a href=\"http://regexstorm.net/tester?p=%5B%5Ea-zA-Z%5Cs%5D%5Ba-zA-Z%5D*&amp;i=Fox%20jumps%20over%20%281%29%3AAB%20123%20the%20rope%20%281%29%3AAB%20123\" rel=\"nofollow noreferrer\">RegexStorm</a>\nTested in C# : <a href=\"https://i.ibb.co/f0CbpcR/Capture.png\" rel=\"nofollow noreferrer\">Snippet</a></p>\n"}, {"tags": [], "owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1545837689, "creation_date": 1545837689, "answer_id": 53933908, "question_id": 53933749, "link": "https://stackoverflow.com/questions/53933749/regex-cleaning-string/53933908#53933908", "title": "Regex cleaning string", "body": "<p>If you want to remove <em>suffix</em> (<code>\"(1):AB 123\"</code> in the example) you can try using <em>Linq</em> instead of <em>regular expressions</em>: with a help of <code>TakeWhile</code> we'll obtain all required characters until suffix appears.</p>\n\n<pre><code>  using System.Linq;\n\n  ...\n\n  string raw = \"Fox jumps over the rope (1):AB 123\";\n\n  // \"Fox jumps over the rope \"\n  string cleared = string.Concat(raw\n    .TakeWhile(c =&gt; char.IsLetter(c) || char.IsWhiteSpace(c)));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1545839800, "creation_date": 1545839800, "answer_id": 53934244, "question_id": 53933749, "link": "https://stackoverflow.com/questions/53933749/regex-cleaning-string/53934244#53934244", "title": "Regex cleaning string", "body": "<p>You may use</p>\n\n<pre><code>Regex.Replace(badstring, @\"\\s*\\(\\d+\\).*\", \"\")\n</code></pre>\n\n<p>The <code>\\s*\\(\\d+\\).*</code> regex matches</p>\n\n<ul>\n<li><code>\\s*</code> - 0+ whitespace chars</li>\n<li><code>\\(\\d+\\)</code> - a <code>(</code>, then 1+ digits, <code>)</code></li>\n<li><code>.*</code> - the rest of the line.</li>\n</ul>\n\n<p>The <code>Regex.Replace</code> replaces all non-overlapping occurrences with an empty string.</p>\n"}, {"tags": [], "owner": {"reputation": 5847, "user_id": 3187033, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DfSEN.png?s=128&g=1", "display_name": "JohnyL", "link": "https://stackoverflow.com/users/3187033/johnyl"}, "is_accepted": false, "score": 0, "last_activity_date": 1545845007, "creation_date": 1545845007, "answer_id": 53935113, "question_id": 53933749, "link": "https://stackoverflow.com/questions/53933749/regex-cleaning-string/53935113#53935113", "title": "Regex cleaning string", "body": "<pre><code>var s = \"Fox jumps over the rope (1):AB 123\";\nvar x = s.Substring(0, s.IndexOf(\"(\") - 1);\n// or: var x = s.Split(\" (\")[0];\n</code></pre>\n"}], "owner": {"reputation": 1011, "user_id": 726720, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9107373857f2f832f7e5a75b28821109?s=128&d=identicon&r=PG", "display_name": "user726720", "link": "https://stackoverflow.com/users/726720/user726720"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 53934244, "answer_count": 4, "score": -1, "last_activity_date": 1545845007, "creation_date": 1545836788, "last_edit_date": 1545839843, "question_id": 53933749, "link": "https://stackoverflow.com/questions/53933749/regex-cleaning-string", "title": "Regex cleaning string", "body": "<p>I have following string:</p>\n\n<p><code>Fox jumps over the rope (1):AB 123</code></p>\n\n<p>I'm trying to use Regex in C# to clean this up. I need it like:</p>\n\n<p><code>Fox jumps over the rope</code>.</p>\n\n<p>I'm not able to match this string using regex</p>\n\n<pre><code>string badstring = \"Fox jumps over the rope (1):AB 123\";\nstring goodstring = Regex.Replace(strIn, @\"[^\\w\\.@-]\", \"\",\n                                 RegexOptions.None, TimeSpan.FromSeconds(1.5));\n</code></pre>\n\n<p>The string to be removed should match a number inside parentheses and all text after it.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 1, "creation_date": 1545836814, "post_id": 53933684, "comment_id": 94707686, "body": "Note that you cannot order the elements within the HashSet itself. <code>OrderBy</code> returns an IEnumerable that lets you iterate over the elements of the hashset in an ordered manner. The hashset itself remains &quot;unordered&quot;, so to speak. If you want to have the HashSet itself ordered, use a SortedSet instead of a HashSet..."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1545853959, "post_id": 53933684, "comment_id": 94713074, "body": "<code>HashSet</code> does not contain the method <code>OrderBy</code> - <code>OrderBy</code> is an extension method (as seen in the description) on <code>IEnumerable&lt;&gt;</code> that returns a new <code>IOrderedEnumerable&lt;&gt;</code>."}, {"owner": {"reputation": 13579, "user_id": 1501700, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1394f16d55f1c0f4cc4bc5ce4336cf20?s=128&d=identicon&r=PG", "display_name": "vico", "link": "https://stackoverflow.com/users/1501700/vico"}, "edited": false, "score": 0, "creation_date": 1545860278, "post_id": 53933684, "comment_id": 94714855, "body": "How I can find <code>OrderBy</code> method body?"}], "answers": [{"comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1545854027, "post_id": 53933730, "comment_id": 94713093, "body": "I think it would be good to specify that <code>OrderBy</code> is an extension method on <code>IEnumerable</code> and not a contained method of <code>HashSet</code>. Also note there is nothing about an extension method that says it can&#39;t modify its first argument, nor does it need to return a new object."}, {"owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1545854460, "post_id": 53933730, "comment_id": 94713223, "body": "@NetMage Right. edited to remove ambiguity. thanks again."}], "tags": [], "owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1545854424, "last_edit_date": 1545854424, "creation_date": 1545836661, "answer_id": 53933730, "question_id": 53933684, "link": "https://stackoverflow.com/questions/53933684/using-hashset-orderby-function/53933730#53933730", "title": "Using HashSet.orderBy() function", "body": "<blockquote>\n  <p>keySelector is function delegate with parameter of type int that\n  returns TKey</p>\n</blockquote>\n\n<p>Yes this is correct.</p>\n\n<blockquote>\n  <p>How to use this function to order items in objHash according custom\n  defined rules?</p>\n</blockquote>\n\n<p>Firstly, note that <code>OrderBy</code> is an extension method on <code>IEnumerable</code> and not a contained method of <code>HashSet</code>.</p>\n\n<p>if you want to order the elements via the <code>OrderBy</code> extension method then you'd pass <code>x =&gt; x</code> as the <code>keySelector</code> function:</p>\n\n<pre><code>var orderedEnumerable = objHash.OrderBy(x =&gt; x); // or any other logic as long as the function takes an int and returns TKey\n</code></pre>\n\n<p>Note that this doesn't modify the source and it wouldn't make sense to sort a <code>HashSet</code> anyway as by definition it does not care about order.</p>\n\n<p>As <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.hashset-1?view=netframework-4.7.2#remarks\" rel=\"nofollow noreferrer\">explicitly stated in the documentation</a>:</p>\n\n<blockquote>\n  <p>The <code>HashSet&lt;T&gt;</code> class provides high-performance set operations. A set\n  is a collection that contains no duplicate elements, <strong>and whose\n  elements are in no particular order</strong>.</p>\n</blockquote>\n\n<p>it then goes on to say:</p>\n\n<blockquote>\n  <p>A <code>HashSet&lt;T&gt;</code> collection is not sorted and cannot contain duplicate\n  elements. <strong>If order or element duplication is more important than\n  performance for your application, consider using the <code>List&lt;T&gt;</code> class\n  together with the Sort method</strong>.</p>\n</blockquote>\n\n<p>Emphasis mine.</p>\n\n<p>if you want to maintain a <em>sorted set</em> then consider using <code>SortedSet</code> as it's documented as:</p>\n\n<blockquote>\n  <p>Represents a collection of objects that is maintained in <strong>sorted order</strong>.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 3256, "user_id": 2216975, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b19a7797114087718a09cdfa2b081c19?s=128&d=identicon&r=PG", "display_name": "anish", "link": "https://stackoverflow.com/users/2216975/anish"}, "is_accepted": false, "score": 0, "last_activity_date": 1545837505, "creation_date": 1545837505, "answer_id": 53933876, "question_id": 53933684, "link": "https://stackoverflow.com/questions/53933684/using-hashset-orderby-function/53933876#53933876", "title": "Using HashSet.orderBy() function", "body": "<p>You are reading the quick info on the function correctly. To sort by your custom logic, you need to define what will be the return type as <code>Tkey</code> and pass the function that matches the delegate. The order by will then sort based on the returned value.</p>\n\n<pre><code>public static void Main()\n{\n    var h = new HashSet&lt;int&gt; () {1, 2, 3, 4, 5};\n\n    var d = h.OrderBy&lt;int, int&gt;(x =&gt; MyFunc(x));\n\n    foreach(var a in d)\n        Console.WriteLine(a); //will order based on the returned value of MyFunc(x). in descending order.\n        // output will be 5 4 3 2 1 instead of 1 2 3 4 5.\n}\n\npublic static int MyFunc(int x) \n{\n    return x * -1;\n}\n</code></pre>\n\n<p>And of course, if your <code>Tkey</code> is an <code>object</code>, you should want to implement <code>IComparable</code> to tell how to sort that object.</p>\n"}, {"tags": [], "owner": {"reputation": 1236, "user_id": 6780701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b6H3O.jpg?s=128&g=1", "display_name": "vinicius.ras", "link": "https://stackoverflow.com/users/6780701/vinicius-ras"}, "is_accepted": false, "score": 0, "last_activity_date": 1545837986, "creation_date": 1545837986, "answer_id": 53933956, "question_id": 53933684, "link": "https://stackoverflow.com/questions/53933684/using-hashset-orderby-function/53933956#53933956", "title": "Using HashSet.orderBy() function", "body": "<p>The <code>OrderBy()</code> method accepts the elements of your collection of objects (in your case, it is an <code>int</code> collection) and it should return a <strong>key</strong> for each specific object in the collection. Those <strong>returned keys</strong> are what will be used to <strong>sort the collection</strong>. Notice that these returned keys should be comparable between each other, so that the sorting can be performed.</p>\n\n<p>Let's say you want to sort your numbers, while separating even numbers from odd numbers. A naive way of doing this would be making <code>OrderBy()</code> return <code>string</code>-typed keys, while placing a \"0\" character prefix on <strong>even numbers</strong> and a \"1\" character prefix on <strong>odd numbers</strong>, like that:</p>\n\n<pre><code>Number   Returned key\n14       \"014\"\n12       \"012\"\n11       \"111\"\n13       \"113\"\n</code></pre>\n\n<p>Then you can do it like:</p>\n\n<pre><code>var ordered = objHash.OrderBy(n =&gt; $\"{n % 2}{n}\");\nforeach (var x in ordered)\n    Console.WriteLine($\"   {x}\");\n</code></pre>\n\n<p>This would output numbers in the following order: <code>12, 14, 11, 13</code> (first the ordered <strong>even</strong> numbers, followed by the ordered <strong>odd</strong> numbers). Notice how the <strong>returned string keys</strong> were used for comparison/sorting of the set of numbers.</p>\n\n<p>Of course the lexicographical ordering here only works fine because numbers have the same length... But again: this is just a naive example of how to use the <code>OrderBy()</code> method.</p>\n"}], "owner": {"reputation": 13579, "user_id": 1501700, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1394f16d55f1c0f4cc4bc5ce4336cf20?s=128&d=identicon&r=PG", "display_name": "vico", "link": "https://stackoverflow.com/users/1501700/vico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1546, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1545854424, "creation_date": 1545836384, "last_edit_date": 1545847580, "question_id": 53933684, "link": "https://stackoverflow.com/questions/53933684/using-hashset-orderby-function", "title": "Using HashSet.orderBy() function", "body": "<p>Trying to sort: </p>\n\n<pre><code>HashSet&lt;int&gt; objHash = new HashSet&lt;int&gt;();\nobjHash.Add(14);\nobjHash.Add(12);\nobjHash.Add(11);\nobjHash.Add(13);\n</code></pre>\n\n<p><code>HashSet</code> contians method <code>OrderBy()</code> with definition:</p>\n\n<pre><code>IOrderEnumerable&lt;int&gt; IEnumerable&lt;int&gt;.OrderBy&lt;int,TKey&gt;(Func&lt;int,TKey&gt;keySelector)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/tU3er.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tU3er.png\" alt=\"enter image description here\"></a></p>\n\n<p>Trying to understand description:</p>\n\n<p><code>IOrderEnumerable&lt;int&gt;</code>- function <code>OrderBy()</code> returns</p>\n\n<p><code>IEnumerable&lt;int&gt;</code> - extension method defined in <code>IEnumerable&lt;int&gt;</code>. Can I somehow see body of this method?</p>\n\n<p><code>.OrderBy&lt;int,TKey&gt;(Func&lt;int,TKey&gt;keySelector)</code> - <code>keySelector</code> is function delegate with parameter of type <code>int</code> that returns <code>TKey</code></p>\n\n<p>Please, correct where my description interpretation is wrong.</p>\n\n<p>How to use this function to order items in <code>objHash</code> according custom defined rules?</p>\n"}, {"tags": ["c#", "sql-server", "sql-server-2008-r2"], "comments": [{"owner": {"reputation": 357, "user_id": 2700840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9369db6e0b62c461e529d21b42a26517?s=128&d=identicon&r=PG&f=1", "display_name": "user2700840", "link": "https://stackoverflow.com/users/2700840/user2700840"}, "edited": false, "score": 0, "creation_date": 1545836812, "post_id": 53933572, "comment_id": 94707683, "body": "Do you need to restore and backup master key?  <a href=\"https://docs.microsoft.com/en-us/sql/t-sql/statements/backup-master-key-transact-sql\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/sql/t-sql/statements/&hellip;</a>   and <a href=\"https://docs.microsoft.com/en-us/sql/t-sql/statements/restore-master-key-transact-sql\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/sql/t-sql/statements/&hellip;</a>"}, {"owner": {"reputation": 363, "user_id": 10449756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0cb4cf957cfd49036c365b812537475?s=128&d=identicon&r=PG&f=1", "display_name": "Dim", "link": "https://stackoverflow.com/users/10449756/dim"}, "reply_to_user": {"reputation": 357, "user_id": 2700840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9369db6e0b62c461e529d21b42a26517?s=128&d=identicon&r=PG&f=1", "display_name": "user2700840", "link": "https://stackoverflow.com/users/2700840/user2700840"}, "edited": false, "score": 0, "creation_date": 1545839015, "post_id": 53933572, "comment_id": 94708369, "body": "I dont want to make double job. I dont want to create 2 backups, one database and another the master key.  If it is possible to delete master key on restore and recreate it. Or even better to recreate my encryption password key"}, {"owner": {"reputation": 26933, "user_id": 568209, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/vZmLQ.png?s=128&g=1", "display_name": "Ben Thul", "link": "https://stackoverflow.com/users/568209/ben-thul"}, "edited": false, "score": 0, "creation_date": 1545843925, "post_id": 53933572, "comment_id": 94709968, "body": "Your getting that error on the restore operation? Or some other operation that you&#39;re performing post-restore?"}, {"owner": {"reputation": 363, "user_id": 10449756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0cb4cf957cfd49036c365b812537475?s=128&d=identicon&r=PG&f=1", "display_name": "Dim", "link": "https://stackoverflow.com/users/10449756/dim"}, "edited": false, "score": 0, "creation_date": 1545943821, "post_id": 53933572, "comment_id": 94739960, "body": "No, just when i try to open symmetric key i am getting error."}], "owner": {"reputation": 363, "user_id": 10449756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0cb4cf957cfd49036c365b812537475?s=128&d=identicon&r=PG&f=1", "display_name": "Dim", "link": "https://stackoverflow.com/users/10449756/dim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545839862, "creation_date": 1545835711, "last_edit_date": 1545839862, "question_id": 53933572, "link": "https://stackoverflow.com/questions/53933572/restore-database-on-other-computer-needs-to-create-a-master-key", "title": "Restore database on other computer needs to create a master key", "body": "<p>When I am making a backup and then restore it on another computer, I am getting the error </p>\n\n<blockquote>\n  <p>please create a master key in the database or open the master key in the session before performing this operation.</p>\n</blockquote>\n\n<p>I am using SQL Server 2008 R2. First of all, is the problem in backup or restore routine? Or in my action when trying to open symmetric key?\nI can post any example of my code you ask for. Here is my backup routine:</p>\n\n<pre><code>FolderBrowserDialog dlg = new FolderBrowserDialog();\nif (dlg.ShowDialog() == DialogResult.OK)\n  {\n\n      using (SqlConnection connetion = new SqlConnection(Connection.connectionString))\n      using (SqlCommand cmd = new SqlCommand(\"BACKUP DATABASE [\" + Connection.Database + \"] TO  DISK = '\" + dlg.SelectedPath + \"\\\\myBackup.bak'\", connetion))\n      {\n        connetion.Open();\n        cmd.ExecuteNonQuery();\n      }\n}\n</code></pre>\n\n<p>Also i tried to delete my symmetric key after restore but it doesnt remove it.</p>\n\n<pre><code> using (SqlConnection connection = new SqlConnection(Connection.connectionString))\n                {\n                    connection.Open();\n                    using (SqlCommand cmd = new SqlCommand(\"ALTER DATABASE [\" + Connection.Database + \"] SET SINGLE_USER WITH ROLLBACK IMMEDIATE\", connection))\n                        cmd.ExecuteNonQuery();\n\n                    using (SqlCommand cmd = new SqlCommand(\"USE MASTER RESTORE DATABASE [\" + Connection.Database + \"] FROM DISK = '\" + openFileDialog1.FileName + \"' WITH REPLACE\", connection))\n                        cmd.ExecuteNonQuery();\n\n\n                    using (SqlCommand cmd = new SqlCommand(\"IF  EXISTS (SELECT * FROM sys.certificates WHERE name = 'PasswordEncryption') select 1 else select 0\", connection))\n                        if (Convert.ToInt32(cmd.ExecuteScalar()) == 1)\n                        {\n\n                            using (SqlCommand cmd2 = new SqlCommand(\"USE MASTER DROP SYMMETRIC KEY Customer_Password;\", connection))\n                                cmd2.ExecuteNonQuery();\n\n\n\n                        }\n\n\n                }\n</code></pre>\n"}, {"tags": ["c#", "web-scraping", "httpwebrequest", "webclient"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1545836013, "post_id": 53933535, "comment_id": 94707398, "body": "Because the interaction with this element there is done via JavaScript. Unless you are going to to use an embedded browser engine with a JavaScript engine (such as CefSharp, for example), you will have to swallow the pill and analyse the JavaScript used by the site and hopefully find a place and way to extract this &quot;hidden&quot; information. But then again, there is probably a reason why the site hides the phone number like that, not wanting its phone number(s) scraped programmatically/automatically..."}], "answers": [{"tags": [], "owner": {"reputation": 130, "user_id": 2805921, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001032062283/picture?type=large", "display_name": "Humberto Pereira", "link": "https://stackoverflow.com/users/2805921/humberto-pereira"}, "is_accepted": true, "score": 1, "last_activity_date": 1545841183, "creation_date": 1545841183, "answer_id": 53934500, "question_id": 53933535, "link": "https://stackoverflow.com/questions/53933535/why-i-cant-get-request-with-httpwebrequest/53934500#53934500", "title": "Why I can&#39;t get request with HttpWebRequest?", "body": "<p>Why don't you use HttpClient ?\nit's much easier!\ncheck the example below:</p>\n\n<pre><code>using System;\nusing System.Net.Http;\nusing System.Text;\n\nnamespace httpClient\n{\n    class Program\n    {\n\n        static void Main(string[] args)\n        {\n            using (var client = new HttpClient() {BaseAddress = new Uri(\"https://sprzedajemy.pl\")})\n            {\n                client.DefaultRequestHeaders.Add(\"accept-encoding\", \"gzip, deflate, br\");\n                client.DefaultRequestHeaders.Add(\"accept-language\", \"pl,en-US;q=0.9,en;q=0.8,ru;q=0.7\");\n                client.DefaultRequestHeaders.Add(\"origin\", \"https://sprzedajemy.pl\");\n                client.DefaultRequestHeaders.Add(\"X-Requested-With\", \"XMLHttpRequest\");\n                var postData = \"_rp_offerID=80e158b0281e04a2102fd7bce6eba0cd3833\";\n\n                var stringContent = new StringContent(postData, Encoding.Default, \"application/x-www-form-urlencoded\");\n\n                var result = client.PostAsync(\"oferta-dane.telefon\", stringContent).GetAwaiter().GetResult();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>i`ve tested this code and the return was 200</p>\n"}], "owner": {"reputation": 47, "user_id": 2268988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03abea63a46a7d0fd88bddd200b07e32?s=128&d=identicon&r=PG", "display_name": "Mat", "link": "https://stackoverflow.com/users/2268988/mat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 53934500, "answer_count": 1, "score": 0, "last_activity_date": 1545841183, "creation_date": 1545835446, "last_edit_date": 1545836936, "question_id": 53933535, "link": "https://stackoverflow.com/questions/53933535/why-i-cant-get-request-with-httpwebrequest", "title": "Why I can&#39;t get request with HttpWebRequest?", "body": "<p>I'd like to get phone number from <a href=\"https://sprzedajemy.pl/doskonale-dla-pary-planujacej-poszerzenie-rodziny-sprawdz-warszawa-2-1b8e55-nr57347155\" rel=\"nofollow noreferrer\">https://sprzedajemy.pl/doskonale-dla-pary-planujacej-poszerzenie-rodziny-sprawdz-warszawa-2-1b8e55-nr57347155</a></p>\n\n<p>Phone number is \"protect\" and I have to click \"show number\" to get request with phone. Before I send request I have to get from source data-id=\"805c74a74f3ea9fe6db5da90d722\" from button \"show number\" and send POST with this token as _rp_offerID.</p>\n\n<p>Correct answer is:</p>\n\n<blockquote>\n  <p><code>&lt;span&gt;&lt;strong&gt;&lt;a href=\"tel:516000551\"&gt; 516 000 551&lt;/a&gt;&lt;/strong&gt;&lt;/span&gt;</code></p>\n</blockquote>\n\n<p>My answer is:</p>\n\n<blockquote>\n  <p>?</p>\n</blockquote>\n\n<p>My complete code:</p>\n\n<pre><code>HttpWebRequest getRequest = (HttpWebRequest)WebRequest.Create(\"https://sprzedajemy.pl/oferta-dane.telefon\");\n        getRequest.Method = \"POST\";\n        getRequest.UserAgent = \"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.116 Safari/537.36\";\n        getRequest.ContentType = \"application/x-www-form-urlencoded\";\n        getRequest.Host = \"sprzedajemy.pl\";\n        getRequest.Referer = url;\n        getRequest.Headers.Add(\"accept-encoding\", \"gzip, deflate, br\");\n        getRequest.Headers.Add(\"accept-language\", \"pl,en-US;q=0.9,en;q=0.8,ru;q=0.7\");\n        getRequest.Headers.Add(\"origin\", \"https://sprzedajemy.pl\");\n        getRequest.Headers.Add(\"X-Requested-With\", \"XMLHttpRequest\");\n\n        var postData = \"_rp_offerID=\" + itemId;\n        var data = Encoding.ASCII.GetBytes(postData);\n\n        getRequest.ContentLength = data.Length;\n\n        using (var stream = getRequest.GetRequestStream())\n        {\n            stream.Write(data, 0, data.Length);\n        }\n\n        var httpResponseP = (HttpWebResponse)getRequest.GetResponse();\n        var streamReaderP = new StreamReader(httpResponseP.GetResponseStream());\n        string strPhone = streamReaderP.ReadToEnd();\n\n        Console.WriteLine(strPhone);\n</code></pre>\n\n<p>I don't know what is wrong with my code...</p>\n\n<p>If I use REST client for Chrome with:</p>\n\n<p><code>\nPOST https://sprzedajemy.pl/oferta-dane.telefon\nUser-Agent: Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.116 Safari/537.36\nContent-Type: application/x-www-form-urlencoded\nReferer: http://sprzedajemy.pl/doskonale-dla-pary-planujacej-poszerzenie-rodziny-sprawdz-warszawa-2-1b8e55-nr57347155\naccept-encoding: gzip, deflate, br\naccept-language: pl,en-US;q=0.9,en;q=0.8,ru;q=0.7\norigin: https://sprzedajemy.pl\nX-Requested-With: XMLHttpRequest\nHost: sprzedajemy.pl\nContent-Length: 48</code></p>\n\n<p>Body Form Data:\n<code>_rp_offerID=80e158b0281e04a2102fd7bce6eba0cd3833</code></p>\n\n<p><b>Answer is correct</b></p>\n"}, {"tags": ["c#", "dynamics-crm", "dynamics-crm-2016", "fetchxml"], "comments": [{"owner": {"reputation": 5159, "user_id": 663627, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Oush1.png?s=128&g=1", "display_name": "jasonscript", "link": "https://stackoverflow.com/users/663627/jasonscript"}, "edited": false, "score": 0, "creation_date": 1546836224, "post_id": 53933505, "comment_id": 94970278, "body": "Is this question incomplete? I can&#39;t see where you&#39;re using <code>PageCookies</code>, <code>pagenumber</code> or <code>pageSize</code>"}], "answers": [{"tags": [], "owner": {"reputation": 19126, "user_id": 2440262, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/58485a88af66ea9b75b23523666d49b1?s=128&d=identicon&r=PG", "display_name": "Ondrej Svejdar", "link": "https://stackoverflow.com/users/2440262/ondrej-svejdar"}, "is_accepted": false, "score": 0, "last_activity_date": 1557827996, "creation_date": 1557827996, "answer_id": 56127760, "question_id": 53933505, "link": "https://stackoverflow.com/questions/53933505/fetchxml-with-group-by-return-page-cookies-and-more-recored-false/56127760#56127760", "title": "fetchxml with group by return page cookies =&quot;&quot; and more recored =false", "body": "<p>There is a limit over max result aggregate query can return (50000).</p>\n\n<blockquote>\n  <p>Ref:\n  <a href=\"https://stackoverflow.com/questions/34783871/fetch-xml-report-aggregate-undocumented-limit\">Fetch XML report aggregate undocumented limit</a></p>\n</blockquote>\n\n<p>So paging over aggregated queries doesn't make much sense - i.e. before paging is taken into an account you're query will be trimmed to 50k results.</p>\n"}], "owner": {"reputation": 1, "user_id": 10831537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9ae2fa5d0993d165dc45956184374e7?s=128&d=identicon&r=PG&f=1", "display_name": "Samar Mohammed", "link": "https://stackoverflow.com/users/10831537/samar-mohammed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557827996, "creation_date": 1545835316, "last_edit_date": 1546358462, "question_id": 53933505, "link": "https://stackoverflow.com/questions/53933505/fetchxml-with-group-by-return-page-cookies-and-more-recored-false", "title": "fetchxml with group by return page cookies =&quot;&quot; and more recored =false", "body": "<p>when try to do paging with fetchxml with group by \nalways pagecookies return empty string and more records retuen false</p>\n\n<pre><code> string fetchXml = @\" \n        &lt;fetch version='1.0' output-format='xml-platform' mapping='logical' distinct='false' aggregate='true'&gt; \n            &lt;entity name='appointment'&gt; \n            &lt;all-attributes /&gt;\n               &lt;attribute name='shiftstart' alias='shiftstartyear' groupby='true'  dategrouping='year' /&gt; \n               &lt;attribute name='shiftstart' alias='shiftstartmonth' groupby='true'  dategrouping='month' /&gt; \n               &lt;attribute name='shiftstart' alias='shiftstartday' groupby='true'  dategrouping='day' /&gt; \n               &lt;attribute name='contId' alias='contId' groupby='true' /&gt; \n                  &lt;filter type='and'&gt;\n                    &lt;condition attribute ='status' operator='not-in'&gt;&lt;value&gt;2&lt;/value&gt;&lt;value&gt;3&lt;/value&gt;\n                    &lt;/condition&gt;\n                        &lt;condition attribute ='contact' operator='eq' value ='\" + contactId + @\"' /&gt;\n                    &lt;/filter&gt;\n\n\n                &lt;/entity&gt; \n        &lt;/fetch&gt;\";\n        string xml = CreateXml(fetchXml, PageCookies, pagenumber, pageSize);\n\n        // Excute the fetch query and get the xml result.\n        RetrieveMultipleRequest fetchRequest1 = new RetrieveMultipleRequest\n        {\n            Query = new FetchExpression(xml)\n        };\n\n        var returnCollection = ((RetrieveMultipleResponse)GlobalCode.Service.Execute(fetchRequest1)).EntityCollection;\n</code></pre>\n"}, {"tags": ["c#", "mongodb", "gitlab-ci"], "owner": {"reputation": 9, "user_id": 4624763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5e339a0d9441288907dc515366a4070?s=128&d=identicon&r=PG&f=1", "display_name": "antonalekseev", "link": "https://stackoverflow.com/users/4624763/antonalekseev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 348, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545915190, "creation_date": 1545834768, "last_edit_date": 1545915190, "question_id": 53933411, "link": "https://stackoverflow.com/questions/53933411/mongodb-driver-2-5-0-connection-timeout-when-connect-to-external-mongo-instance", "title": "MongoDb.Driver 2.5.0 Connection timeout when connect to external mongo instance when run integration tests step using gitlab ci", "body": "<p>I am using a MongoDB  3.4.4 instance from official docker image in my staging environment machine. I use MongoDB.Driver NuGet package 2.5.0 for connect from code.\nIt's works fine when I connect from deployed application (running in docker container from aspnetcore:2.0.3 base image). I have a some set of integration tests for my application. In application project and tests project connection with Mongo creation is same and as see below:</p>\n\n<pre><code>services.AddSingleton&lt;IMongoClient&gt;(s =&gt;\n        {\n            var config = s.GetService&lt;ISettings&gt;();\n            var logger = s.GetService&lt;ILogger&lt;IMongoClient&gt;&gt;();\n            var settings = MongoClientSettings.FromUrl(new MongoUrl(\"mongodb://dev:pass@192.168.0.163/authDb?connect=direct\"));\n            settings.MaxConnectionIdleTime = TimeSpan.FromSeconds(5);\n            settings.MaxConnectionPoolSize = 1000;\n            settings.MinConnectionPoolSize = 30;\n            if (config.ActiveLogMongoQueries)\n            {\n                settings.ClusterConfigurator = (cb) =&gt;\n                {\n                    cb.Subscribe&lt;CommandStartedEvent&gt;(\n                    (e) =&gt;\n                    {\n                        if (!IsServiceRequest(e.CommandName))\n                        {\n                            logger.LogInformation($\"Mongo.Query DataBaseNameSpace: {e.DatabaseNamespace}. CommandName: {e.CommandName}. Command: {e.Command.ToString()}\");\n                        }\n                    });\n                };\n            }\n\n            return new MongoClient(settings);\n        });\n        services.AddTransient(s =&gt;\n        {\n            var config = s.GetService&lt;ISettings&gt;();\n            var dbName = \"myDbName\";\n            var mongoConnectionString = new MongoUrl(config.MongoConnectionString);\n            if (!string.IsNullOrEmpty(mongoConnectionString.DatabaseName))\n            {\n                dbName = mongoConnectionString.DatabaseName;\n            }\n\n            return s.GetService&lt;IMongoClient&gt;().GetDatabase(dbName);\n        });\n</code></pre>\n\n<p>This also works fine when I run integration tests from Visual studio IDE test runner. But when I try run test project automatic using gitlab CI, I have ConnectionTimeoutExeption: </p>\n\n<pre><code>System.AggregateException : One or more errors occurred. (A timeout occured after 30000ms selecting a server using CompositeServerSelector{ Selectors = MongoDB.Driver.MongoClient+AreSessionsSupportedServerSelector, LatencyLimitingServerSelector{ AllowedLatencyRange = 00:00:00.0150000 } }. Client view of cluster state is { ClusterId : \"1\", ConnectionMode : \"Direct\", Type : \"Unknown\", State : \"Disconnected\", Servers : [{ ServerId: \"{ ClusterId : 1, EndPoint : \"192.168.0.163:27017\" }\", EndPoint: \"192.168.0.163:27017\", State: \"Disconnected\", Type: \"Unknown\" }] }.) (The following constructor parameters did not have matching fixture data: MongoDatabaseFixture fixture)\n---- System.TimeoutException : A timeout occured after 30000ms selecting a server using CompositeServerSelector{ Selectors = MongoDB.Driver.MongoClient+AreSessionsSupportedServerSelector,      LatencyLimitingServerSelector{ AllowedLatencyRange = 00:00:00.0150000 } }. Client view of cluster state is { ClusterId : \"1\", ConnectionMode : \"Direct\", Type : \"Unknown\", State : \"Disconnected\",     Servers : [{ ServerId: \"{ ClusterId : 1, EndPoint : \"192.168.0.163:27017\" }\", EndPoint: \"192.168.0.163:27017\", State: \"Disconnected\", Type: \"Unknown\" }] }.\n---- The following constructor parameters did not have matching fixture data: MongoDatabaseFixture fixture\nStack Trace:\n----- Inner Stack Trace #1 (System.TimeoutException) -----\nat MongoDB.Driver.Core.Clusters.Cluster.ThrowTimeoutException(IServerSelector selector, ClusterDescription description)\nat MongoDB.Driver.Core.Clusters.Cluster.WaitForDescriptionChangedHelper.HandleCompletedTask(Task completedTask)\nat MongoDB.Driver.Core.Clusters.Cluster.WaitForDescriptionChanged(IServerSelector selector, ClusterDescription description, Task descriptionChangedTask, TimeSpan timeout, CancellationToken     cancellationToken)\nat MongoDB.Driver.Core.Clusters.Cluster.SelectServer(IServerSelector selector, CancellationToken cancellationToken)\nat MongoDB.Driver.MongoClient.AreSessionsSupportedAfterServerSelection(CancellationToken cancellationToken)\nat MongoDB.Driver.MongoClient.AreSessionsSupported(CancellationToken cancellationToken)\nat MongoDB.Driver.OperationExecutor.StartImplicitSession(CancellationToken cancellationToken)\nat MongoDB.Driver.MongoDatabaseImpl.UsingImplicitSession(Action`1 func, CancellationToken cancellationToken)\nat MongoDB.Driver.MongoDatabaseImpl.DropCollection(String name, CancellationToken cancellationToken)\nat IntegrationTests.MongoDatabaseFixture.DropPreviousTestData() in /builds/project/project-main/project.IntegrationTests/MongoDatabaseFixture.cs:line 40\n----- Inner Stack Trace #2 (Xunit.Sdk.TestClassException) -----\n</code></pre>\n\n<p>My test stage in gitlab-ci.yml looks like this:</p>\n\n<pre><code>integrationtests:\n  image: microsoft/aspnetcore-build:1.0-2.0 \n  stage: integrationtests\n  script:\n  - dotnet test -c Release ./$PROJECT_NAME.IntegrationTests/$PROJECT_NAME.IntegrationTests.csproj \n  tags: \n    - docker\n  only:  \n    - schedules\n</code></pre>\n\n<p>Host machine 192.168.0.163 OS is Ubuntu and it also contains some other docker containers like clickhouse and no problems with connect to them while test runs on gitlab runner.</p>\n\n<p>I try update MongoDb.Driver to latest version 2.7.2 and it solves problem. But for some reasons better for me not to update driver version.\nI think, if code throws no exceptions when its works from runned application then same code also works fine from tests?\nAny ideas to avoid this problem without update MongoDb library and \nwhy it happens? I also see this post <a href=\"https://stackoverflow.com/questions/53231422/connection-times-out-after-upgrading-mongodb-driver-from-2-7-0-to-2-7-1\">Connection times out after upgrading MongoDB.Driver from 2.7.0 to 2.7.1</a></p>\n\n<p>But if the problem is with the driver, why does the application works correctly with old Mongo.Driver library?\nBig thanks!</p>\n\n<p><b>Updated</b>: Today i try reproduse steps (if I put it correctly) , executed by gitlab runner. I build same image locally and run it with docker on my PC.\nI use following .Dockerfile for build:</p>\n\n<pre><code>FROM microsoft/aspnetcore-build:1.0-2.0 as base\nWORKDIR /app\nEXPOSE 80\nFROM base AS final\nWORKDIR /Test\nCOPY ./Test /Test\nENTRYPOINT /bin/bash\n</code></pre>\n\n<p>Where \"Test\" is my solution folder. Next, i go into container using the following command:</p>\n\n<pre><code>docker run -it 2da12ce6cb7d\n</code></pre>\n\n<p>(name assigned by docker after build cmd) and try execute\n<code>- dotnet test -c Release ./ProjectName.IntegrationTests/ProjectName.IntegrationTests.csproj</code><br>\nand got these exception again. So, because my runned application (where connection is ok) used microsoft/aspnetcore:2.0.3 docker image as base the problem is probably in it.</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 2, "creation_date": 1545835326, "post_id": 53933405, "comment_id": 94707211, "body": "If you&#39;re going to be looking up parameters by name, you should probably be storing them in a key based lookup, i.e. a <code>Dictionary</code>, rather than whatever you&#39;re storing them in now."}], "answers": [{"tags": [], "owner": {"reputation": 428, "user_id": 2662221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/100f2280ecbf23438d15db61ad1e3ba0?s=128&d=identicon&r=PG", "display_name": "Aashish Koirala", "link": "https://stackoverflow.com/users/2662221/aashish-koirala"}, "is_accepted": true, "score": 2, "last_activity_date": 1545835107, "creation_date": 1545835107, "answer_id": 53933470, "question_id": 53933405, "link": "https://stackoverflow.com/questions/53933405/check-if-item-exists-in-list-and-push-value-into-it-in-one-shot/53933470#53933470", "title": "Check if item exists in list and push value into it \u2014 in one shot", "body": "<p>Please try this:</p>\n\n<pre><code>var parameter = Params.FirstOrDefault(p =&gt; p.Name == \"Phone\");\nif (parameter != null) parameter.Value = phoneValue;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "is_accepted": false, "score": 4, "last_activity_date": 1545835117, "creation_date": 1545835117, "answer_id": 53933471, "question_id": 53933405, "link": "https://stackoverflow.com/questions/53933405/check-if-item-exists-in-list-and-push-value-into-it-in-one-shot/53933471#53933471", "title": "Check if item exists in list and push value into it \u2014 in one shot", "body": "<p>You could use <code>FirstOrDefault</code> as follows:</p>\n\n<pre><code>var result = Params.FirstOrDefault(p =&gt; p.Name == \"Phone\"); \n</code></pre>\n\n<p>then check if the value is not null and then set the property:</p>\n\n<pre><code>if(result != null) result.Value = phoneValue;\n</code></pre>\n\n<p>This way you don't have to enumerate twice over the source.</p>\n"}, {"tags": [], "owner": {"reputation": 58863, "user_id": 1875256, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/no10d.jpg?s=128&g=1", "display_name": "Ehsan Sajjad", "link": "https://stackoverflow.com/users/1875256/ehsan-sajjad"}, "is_accepted": false, "score": 2, "last_activity_date": 1545836558, "last_edit_date": 1545836558, "creation_date": 1545835232, "answer_id": 53933491, "question_id": 53933405, "link": "https://stackoverflow.com/questions/53933405/check-if-item-exists-in-list-and-push-value-into-it-in-one-shot/53933491#53933491", "title": "Check if item exists in list and push value into it \u2014 in one shot", "body": "<p>A traditional for/foreach loop would be better here as <code>Any</code> and <code>Where</code> will have to iterate the collection two times which might not be what you want in terms of performance.</p>\n\n<p>So do a simple foreach:</p>\n\n<pre><code>foreach(var item in Params) \n{\n  if(item.Name == \"phone\")\n  {\n     item.Value = phoneValue;\n     break;\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 36654, "user_id": 107625, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53a82f701ae492808834e621de2586eb?s=128&d=identicon&r=PG", "display_name": "Uwe Keim", "link": "https://stackoverflow.com/users/107625/uwe-keim"}, "edited": false, "score": 0, "creation_date": 1545836811, "post_id": 53933678, "comment_id": 94707682, "body": "The OP wants to assign a value; with your solution this seems impossible to me."}, {"owner": {"reputation": 90, "user_id": 7816085, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155228581934365/picture?type=large", "display_name": "Alex Edwin Velez", "link": "https://stackoverflow.com/users/7816085/alex-edwin-velez"}, "reply_to_user": {"reputation": 36654, "user_id": 107625, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53a82f701ae492808834e621de2586eb?s=128&d=identicon&r=PG", "display_name": "Uwe Keim", "link": "https://stackoverflow.com/users/107625/uwe-keim"}, "edited": false, "score": 0, "creation_date": 1545836947, "post_id": 53933678, "comment_id": 94707724, "body": "@UweKeim sorry my english level is not so good. &#191;What is the meaning of OP?"}, {"owner": {"reputation": 36654, "user_id": 107625, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53a82f701ae492808834e621de2586eb?s=128&d=identicon&r=PG", "display_name": "Uwe Keim", "link": "https://stackoverflow.com/users/107625/uwe-keim"}, "edited": false, "score": 0, "creation_date": 1545837175, "post_id": 53933678, "comment_id": 94707806, "body": "&quot;OP&quot; = &quot;<a href=\"https://www.webopedia.com/TERM/O/op_original_poster.html\" rel=\"nofollow noreferrer\">Original Poster</a>&quot;. The guy who asked the question that you answered \ud83d\ude42."}], "tags": [], "owner": {"reputation": 90, "user_id": 7816085, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155228581934365/picture?type=large", "display_name": "Alex Edwin Velez", "link": "https://stackoverflow.com/users/7816085/alex-edwin-velez"}, "is_accepted": false, "score": 1, "last_activity_date": 1545839176, "last_edit_date": 1545839176, "creation_date": 1545836370, "answer_id": 53933678, "question_id": 53933405, "link": "https://stackoverflow.com/questions/53933405/check-if-item-exists-in-list-and-push-value-into-it-in-one-shot/53933678#53933678", "title": "Check if item exists in list and push value into it \u2014 in one shot", "body": "<p>Another posible solution is use <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/extension-methods\" rel=\"nofollow noreferrer\">Extension Methods</a></p>\n\n<pre><code>public static class ParametersExtensions\n{\n    public static void SetValue(this List&lt;Parameters&gt; ListParameters, string name, string newValue)\n    {   \n        var parameter = ListParameters.FirstOrDefault(x =&gt; x.Name.Equals(name)); \n        if (parameter != null)\n            parameter.Value = newValue;\n    }\n}\n</code></pre>\n\n<p>Then you can use it as belows:</p>\n\n<pre><code>Params.SetValue(\"Phone\", phoneValue);\n</code></pre>\n"}], "owner": {"reputation": 675, "user_id": 8622079, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f23aa564c97474684405a845cbdb8a85?s=128&d=identicon&r=PG&f=1", "display_name": "levi", "link": "https://stackoverflow.com/users/8622079/levi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 53933470, "answer_count": 4, "score": 0, "last_activity_date": 1545876363, "creation_date": 1545834734, "last_edit_date": 1545876363, "question_id": 53933405, "link": "https://stackoverflow.com/questions/53933405/check-if-item-exists-in-list-and-push-value-into-it-in-one-shot", "title": "Check if item exists in list and push value into it \u2014 in one shot", "body": "<p>I want to check if item exists in list, and if it is, push into it a value.</p>\n\n<p>All this, is for avoid from run on the list twice.</p>\n\n<p>Because if I do something like this: </p>\n\n<pre><code>if (Params.Any(p =&gt; p.Name == \"Phone\"))\n    Params.Where(p =&gt; p.Name == \"Phone\").First().Value = phoneValue\n</code></pre>\n\n<p>I am run on the list twice. the first time in the <code>any</code> and the second time in the <code>where</code>.</p>\n\n<p>So actually I want to do the both above lines \u2014 in one shot.</p>\n\n<p>Is it possible? </p>\n"}, {"tags": ["c#", ".net", "bluetooth-lowenergy", "raspberry-pi3", "raspbian"], "comments": [{"owner": {"reputation": 741, "user_id": 5429584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vvb2K.jpg?s=128&g=1", "display_name": "Mike Petrichenko", "link": "https://stackoverflow.com/users/5429584/mike-petrichenko"}, "edited": false, "score": 0, "creation_date": 1545835798, "post_id": 53933345, "comment_id": 94707333, "body": "It looks like ads but <a href=\"https://www.btframework.com/bluetoothframework.htm\" rel=\"nofollow noreferrer\">Bluetooth Framework</a> supports Windows 10 IoT (.NET Core). There are console demos in the package. Unfortunately we did not test it on raspbian cause it uses some Windows related functions."}, {"owner": {"reputation": 141, "user_id": 10835467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a283bbdc51108574db14e18d88b39d10?s=128&d=identicon&r=PG&f=1", "display_name": "Raymond Brink", "link": "https://stackoverflow.com/users/10835467/raymond-brink"}, "reply_to_user": {"reputation": 741, "user_id": 5429584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vvb2K.jpg?s=128&g=1", "display_name": "Mike Petrichenko", "link": "https://stackoverflow.com/users/5429584/mike-petrichenko"}, "edited": false, "score": 0, "creation_date": 1545863170, "post_id": 53933345, "comment_id": 94715639, "body": "Thanks @MikePetrichenko for you response. I just tried Bluetooth Framework with no success.  First it needed libunwind.so.8, which I was able to install, but then it failed with an exception on a typical Windows library:  system.dllnotfoundexception: unable to load dll &#39;advapi32.dll  This could possibly be a hint to the library to resolve this: <a href=\"https://github.com/dotnet/corefx/issues/5737#issuecomment-175916673\" rel=\"nofollow noreferrer\">github.com/dotnet/corefx/issues/5737#issuecomment-175916673</a>"}, {"owner": {"reputation": 741, "user_id": 5429584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vvb2K.jpg?s=128&g=1", "display_name": "Mike Petrichenko", "link": "https://stackoverflow.com/users/5429584/mike-petrichenko"}, "edited": false, "score": 0, "creation_date": 1545882795, "post_id": 53933345, "comment_id": 94718653, "body": "Thank you for your try. I am not 100% sure but it looks possible to modify the lib to get iut working on your platform. Can you please sned me an e-mail to mike@btframework.com with your task description so I can try to remove advapi dependences and send you a test version? I will be able to do it in next couple of weeks if that is OK for you."}, {"owner": {"reputation": 270, "user_id": 1810076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb900e30761a7407629509525c49c620?s=128&d=identicon&r=PG", "display_name": "scegg", "link": "https://stackoverflow.com/users/1810076/scegg"}, "edited": false, "score": 0, "creation_date": 1554992478, "post_id": 53933345, "comment_id": 97960751, "body": "I have the same requirement too. Any idea to setup a gatt server on Raspbian with dotnet core?"}], "answers": [{"comments": [{"owner": {"reputation": 931, "user_id": 1136504, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QstOL.jpg?s=128&g=1", "display_name": "DannyThunder", "link": "https://stackoverflow.com/users/1136504/dannythunder"}, "edited": false, "score": 0, "creation_date": 1560799528, "post_id": 56623587, "comment_id": 99846311, "body": "Sweet! Nice finding this on my first google about this, and you posted an answer 18h ago! :-D"}, {"owner": {"reputation": 141, "user_id": 10835467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a283bbdc51108574db14e18d88b39d10?s=128&d=identicon&r=PG&f=1", "display_name": "Raymond Brink", "link": "https://stackoverflow.com/users/10835467/raymond-brink"}, "edited": false, "score": 0, "creation_date": 1562920131, "post_id": 56623587, "comment_id": 100539190, "body": "In my opinion one shouldn&#39;t need to use a third party lib for such a basic thing as connecting to a BLE device. That said, I&#39;ll definately give this a try! If it works,I&#39;ll accept this as the solution."}, {"owner": {"reputation": 4484, "user_id": 2952453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ce6904d840f47967e884cde22b9bd16?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/2952453/thomas"}, "reply_to_user": {"reputation": 141, "user_id": 10835467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a283bbdc51108574db14e18d88b39d10?s=128&d=identicon&r=PG&f=1", "display_name": "Raymond Brink", "link": "https://stackoverflow.com/users/10835467/raymond-brink"}, "edited": false, "score": 0, "creation_date": 1594842680, "post_id": 56623587, "comment_id": 111272558, "body": "@RaymondBrink I think it is save to say, that .NET Core is not build with the idea of being a desktop or devices platform on Linux (unlike on Windows .NET Core or the .NET Framework). It might change with the advent of System.Maui (aka Xamarin Forms), but they already declared their Linux Support to be community driven. And even in Xamarin, the essential package does not include BLE."}, {"owner": {"reputation": 622, "user_id": 5163967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oAl4O.jpg?s=128&g=1", "display_name": "Parsa Karami", "link": "https://stackoverflow.com/users/5163967/parsa-karami"}, "edited": false, "score": 0, "creation_date": 1597673650, "post_id": 56623587, "comment_id": 112202650, "body": "How can I create a GATT server and advertise it using D-Bus on Raspberry Pi?"}, {"owner": {"reputation": 59, "user_id": 7586811, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qAx9KRJy4D4/AAAAAAAAAAI/AAAAAAAAADM/Xv7nOBIx02U/photo.jpg?sz=128", "display_name": "Luis A.", "link": "https://stackoverflow.com/users/7586811/luis-a"}, "reply_to_user": {"reputation": 622, "user_id": 5163967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oAl4O.jpg?s=128&g=1", "display_name": "Parsa Karami", "link": "https://stackoverflow.com/users/5163967/parsa-karami"}, "edited": false, "score": 0, "creation_date": 1606867639, "post_id": 56623587, "comment_id": 115092060, "body": "@ParsaKarami Did you found a way to do that?, I&#39;m currently working on something like that where I need to create a GATT server and advertise it in Raspberry Pi 4"}], "tags": [], "owner": {"reputation": 631, "user_id": 6244799, "user_type": "registered", "profile_image": "https://graph.facebook.com/10101704763562079/picture?type=large", "display_name": "Chris Sidi", "link": "https://stackoverflow.com/users/6244799/chris-sidi"}, "is_accepted": false, "score": 21, "last_activity_date": 1560823031, "last_edit_date": 1560823031, "creation_date": 1560731850, "answer_id": 56623587, "question_id": 53933345, "link": "https://stackoverflow.com/questions/53933345/utilizing-bluetooth-le-on-raspberry-pi-using-net-core/56623587#56623587", "title": "Utilizing bluetooth LE on Raspberry Pi using .Net Core", "body": "<h2>Background</h2>\n\n<p>BlueZ is the Bluetooth stack on Linux. The BlueZ developers encourage the use of their high-level <a href=\"https://git.kernel.org/pub/scm/bluetooth/bluez.git/tree/doc\" rel=\"noreferrer\">D-Bus APIs</a>. (Source: <a href=\"https://youtu.be/VMDyebKT5c4?t=2102\" rel=\"noreferrer\">https://youtu.be/VMDyebKT5c4?t=2102</a> or <a href=\"https://elinux.org/images/3/32/Doing_Bluetooth_Low_Energy_on_Linux.pdf\" rel=\"noreferrer\">https://elinux.org/images/3/32/Doing_Bluetooth_Low_Energy_on_Linux.pdf</a>, slide 22.) D-Bus lets you control all sorts of system services, and there are D-Bus bindings/packages for lots of platforms including .Net Core. So it should be somewhat simple to write a GATT client or GATT server using .Net targeting Linux (e.g. Raspbian Lite).</p>\n\n<h2>Solution</h2>\n\n<p>For .Net Core you can use <a href=\"https://developers.redhat.com/blog/2017/09/18/connecting-net-core-d-bus/\" rel=\"noreferrer\">Tmds.DBus</a> to access D-Bus. Tmds.DBus comes with a tool to generate the C# interfaces for a D-Bus service. I used <code>bluetoothctl</code>, the BlueZ interactive command-line tool, to scan and connect to a BLE peripheral, and then used <code>dotnet dbus codegen --bus system --service org.bluez</code> to generate C# interfaces.</p>\n\n<h2>Sample code</h2>\n\n<p><code>dotnet dbus codegen</code> generated code excerpt:</p>\n\n<pre><code>[DBusInterface(\"org.bluez.Adapter1\")]\ninterface IAdapter1 : IDBusObject\n{\n    Task StartDiscoveryAsync();\n    Task SetDiscoveryFilterAsync(IDictionary&lt;string, object&gt; Properties);\n    Task StopDiscoveryAsync();\n    Task RemoveDeviceAsync(ObjectPath Device);\n    Task&lt;string[]&gt; GetDiscoveryFiltersAsync();\n    Task&lt;T&gt; GetAsync&lt;T&gt;(string prop);\n    Task&lt;Adapter1Properties&gt; GetAllAsync();\n    Task SetAsync(string prop, object val);\n    Task&lt;IDisposable&gt; WatchPropertiesAsync(Action&lt;PropertyChanges&gt; handler);\n}\n\n[DBusInterface(\"org.bluez.Device1\")]\ninterface IDevice1 : IDBusObject\n{\n    Task DisconnectAsync();\n    Task ConnectAsync();\n    Task ConnectProfileAsync(string UUID);\n    Task DisconnectProfileAsync(string UUID);\n    Task PairAsync();\n    Task CancelPairingAsync();\n    Task&lt;T&gt; GetAsync&lt;T&gt;(string prop);\n    Task&lt;Device1Properties&gt; GetAllAsync();\n    Task SetAsync(string prop, object val);\n    Task&lt;IDisposable&gt; WatchPropertiesAsync(Action&lt;PropertyChanges&gt; handler);\n}\n\n[DBusInterface(\"org.bluez.GattService1\")]\ninterface IGattService1 : IDBusObject\n{\n    Task&lt;T&gt; GetAsync&lt;T&gt;(string prop);\n    Task&lt;GattService1Properties&gt; GetAllAsync();\n    Task SetAsync(string prop, object val);\n    Task&lt;IDisposable&gt; WatchPropertiesAsync(Action&lt;PropertyChanges&gt; handler);\n}\n\n[DBusInterface(\"org.bluez.GattCharacteristic1\")]\ninterface IGattCharacteristic1 : IDBusObject\n{\n    Task&lt;byte[]&gt; ReadValueAsync(IDictionary&lt;string, object&gt; Options);\n    Task WriteValueAsync(byte[] Value, IDictionary&lt;string, object&gt; Options);\n    Task&lt;(CloseSafeHandle fd, ushort mtu)&gt; AcquireWriteAsync(IDictionary&lt;string, object&gt; Options);\n    Task&lt;(CloseSafeHandle fd, ushort mtu)&gt; AcquireNotifyAsync(IDictionary&lt;string, object&gt; Options);\n    Task StartNotifyAsync();\n    Task StopNotifyAsync();\n    Task&lt;T&gt; GetAsync&lt;T&gt;(string prop);\n    Task&lt;GattCharacteristic1Properties&gt; GetAllAsync();\n    Task SetAsync(string prop, object val);\n    Task&lt;IDisposable&gt; WatchPropertiesAsync(Action&lt;PropertyChanges&gt; handler);\n}\n</code></pre>\n\n<p>Example usage. Given a BLE peripheral address, connects and prints characteristic values for the \"Device Information\" GATT service:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n// The code generated by `dotnet dbus codegen`.\nusing bluez.DBus;\n// See https://developers.redhat.com/blog/2017/09/18/connecting-net-core-d-bus/ or https://github.com/tmds/Tmds.DBus\nusing Tmds.DBus;\n\n// Use the `bluetoothctl` command-line tool or the Bluetooth Manager GUI to scan for devices and possibly pair.\n// Then you can use this program to connect and print \"Device Information\" GATT service values.\nclass Program\n{\n  static string defaultAdapterName = \"hci0\";\n  static TimeSpan timeout = TimeSpan.FromSeconds(15);\n\n  static async Task Main(string[] args)\n  {\n    if (args.Length &lt; 1)\n    {\n      Console.WriteLine(\"Usage: BlueZExample &lt;deviceAddress&gt; [adapterName]\");\n      Console.WriteLine(\"Example: BlueZExample AA:BB:CC:11:22:33 hci1\");\n      return;\n    }\n\n    var deviceAddress = args[0];\n    var adapterName = args.Length &gt; 1 ? args[1] : defaultAdapterName;\n\n    // Get the Bluetooth adapter.\n    var adapterObjectPath = $\"/org/bluez/{adapterName}\";\n    var adapter = Connection.System.CreateProxy&lt;IAdapter1&gt;(BluezConstants.DBusService, adapterObjectPath);\n    if (adapter == null)\n    {\n      Console.WriteLine($\"Bluetooth adapter '{adapterName}' not found.\");\n    }\n\n    // Find the Bluetooth peripheral.\n    var device = await adapter.GetDeviceAsync(deviceAddress);\n    if (device == null)\n    {\n      Console.WriteLine($\"Bluetooth peripheral with address '{deviceAddress}' not found. Use `bluetoothctl` or Bluetooth Manager to scan and possibly pair first.\");\n      return;\n    }\n\n    Console.WriteLine(\"Connecting...\");\n    await device.ConnectAsync();\n    await WaitForPropertyValueAsync&lt;bool&gt;(\"Connected\", device.GetConnectedAsync, value: true, timeout);\n    Console.WriteLine(\"Connected.\");\n\n    Console.WriteLine(\"Waiting for services to resolve...\");\n    await WaitForPropertyValueAsync&lt;bool&gt;(\"ServicesResolved\", device.GetServicesResolvedAsync, value: true, timeout);\n\n    var servicesUUID = await device.GetUUIDsAsync();\n    Console.WriteLine($\"Device offers {servicesUUID.Length} service(s).\");\n\n    var deviceInfoServiceFound = servicesUUID.Any(uuid =&gt; String.Equals(uuid, GattConstants.DeviceInformationServiceUUID, StringComparison.OrdinalIgnoreCase));\n    if (!deviceInfoServiceFound)\n    {\n      Console.WriteLine(\"Device doesn't have the Device Information Service. Try pairing first?\");\n      return;\n    }\n\n    // Console.WriteLine(\"Retrieving Device Information service...\");\n    var service = await device.GetServiceAsync(GattConstants.DeviceInformationServiceUUID);\n    var modelNameCharacteristic = await service.GetCharacteristicAsync(GattConstants.ModelNameCharacteristicUUID);\n    var manufacturerCharacteristic = await service.GetCharacteristicAsync(GattConstants.ManufacturerNameCharacteristicUUID);\n\n    int characteristicsFound = 0;\n    if (modelNameCharacteristic != null)\n    {\n        characteristicsFound++;\n        Console.WriteLine(\"Reading model name characteristic...\");\n        var modelNameBytes = await modelNameCharacteristic.ReadValueAsync(timeout);\n        Console.WriteLine($\"Model name: {Encoding.UTF8.GetString(modelNameBytes)}\");\n    }\n\n    if (manufacturerCharacteristic != null)\n    {\n        characteristicsFound++;\n        Console.WriteLine(\"Reading manufacturer characteristic...\");\n        var manufacturerBytes = await manufacturerCharacteristic.ReadValueAsync(timeout);\n        Console.WriteLine($\"Manufacturer: {Encoding.UTF8.GetString(manufacturerBytes)}\");\n    }\n\n    if (characteristicsFound == 0)\n    {\n        Console.WriteLine(\"Model name and manufacturer characteristics not found.\");\n    }\n  }\n\n  static async Task WaitForPropertyValueAsync&lt;T&gt;(string propertyName, Func&lt;Task&lt;T&gt;&gt; action, T value, TimeSpan timeout)\n  {\n    // Ideally we'd wait for D-Bus PropertyChanged events to fire, but for now we'll poll.\n    // Also ideally we'd be able to read property values for any D-Bus object, but for now we take a function.\n    var watch = Stopwatch.StartNew();\n    while (watch.Elapsed &lt;= timeout)\n    {\n      await Task.Delay(50);\n\n      if ((await action()).Equals(value))\n      {\n        return;\n      }\n    }\n\n    throw new TimeoutException($\"Timed out waiting for {propertyName} to equal {value}.\");\n  }\n}\n\n// Extensions that make it easier to get a D-Bus object or read a characteristic value.\nstatic class Extensions\n{\n  public static Task&lt;IReadOnlyList&lt;IDevice1&gt;&gt; GetDevicesAsync(this IAdapter1 adapter)\n  {\n    return GetProxiesAsync&lt;IDevice1&gt;(adapter, BluezConstants.Device1Interface);\n  }\n\n  public static async Task&lt;IDevice1&gt; GetDeviceAsync(this IAdapter1 adapter, string deviceAddress)\n  {\n    var devices = await GetProxiesAsync&lt;IDevice1&gt;(adapter, BluezConstants.Device1Interface);\n\n    var matches = new List&lt;IDevice1&gt;();\n    foreach (var device in devices)\n    {\n      if (String.Equals(await device.GetAddressAsync(), deviceAddress, StringComparison.OrdinalIgnoreCase))\n      {\n          matches.Add(device);\n      }\n    }\n\n    // BlueZ can get in a weird state, probably due to random public BLE addresses.\n    if (matches.Count &gt; 1)\n    {\n        throw new Exception($\"{matches.Count} devices found with the address {deviceAddress}!\");\n    }\n\n    return matches.FirstOrDefault();\n  }\n\n  public static async Task&lt;IGattService1&gt; GetServiceAsync(this IDevice1 device, string serviceUUID)\n  {\n    var services = await GetProxiesAsync&lt;IGattService1&gt;(device, BluezConstants.GattServiceInterface);\n\n    foreach (var service in services)\n    {\n      if (String.Equals(await service.GetUUIDAsync(), serviceUUID, StringComparison.OrdinalIgnoreCase))\n      {\n        return service;\n      }\n    }\n\n    return null;\n  }\n\n  public static async Task&lt;IGattCharacteristic1&gt; GetCharacteristicAsync(this IGattService1 service, string characteristicUUID)\n  {\n    var characteristics = await GetProxiesAsync&lt;IGattCharacteristic1&gt;(service, BluezConstants.GattCharacteristicInterface);\n\n    foreach (var characteristic in characteristics)\n    {\n      if (String.Equals(await characteristic.GetUUIDAsync(), characteristicUUID, StringComparison.OrdinalIgnoreCase))\n      {\n        return characteristic;\n      }\n    }\n\n    return null;\n  }\n\n  public static async Task&lt;byte[]&gt; ReadValueAsync(this IGattCharacteristic1 characteristic, TimeSpan timeout)\n  {\n    var options = new Dictionary&lt;string, object&gt;();\n    var readTask = characteristic.ReadValueAsync(options);\n    var timeoutTask = Task.Delay(timeout);\n\n    await Task.WhenAny(new Task[] { readTask, timeoutTask });\n    if (!readTask.IsCompleted)\n    {\n      throw new TimeoutException(\"Timed out waiting to read characteristic value.\");\n    }\n\n    return await readTask;\n  }\n\n  private static async Task&lt;IReadOnlyList&lt;T&gt;&gt; GetProxiesAsync&lt;T&gt;(IDBusObject rootObject, string interfaceName)\n  {\n    // Console.WriteLine(\"GetProxiesAsync called.\");\n    var objectManager = Connection.System.CreateProxy&lt;IObjectManager&gt;(BluezConstants.DBusService, \"/\");\n    var objects = await objectManager.GetManagedObjectsAsync();\n\n    var matchingObjects = objects\n      .Where(obj =&gt; obj.Value.Keys.Contains(interfaceName))\n      .Select(obj =&gt; obj.Key)\n      .Where(objectPath =&gt; objectPath.ToString().StartsWith($\"{rootObject.ObjectPath}/\"));\n\n    var proxies = matchingObjects\n      .Select(objectPath =&gt; Connection.System.CreateProxy&lt;T&gt;(BluezConstants.DBusService, objectPath))\n      .ToList();\n\n    // Console.WriteLine($\"GetProxiesAsync returning {proxies.Count} proxies of type {typeof(T)}.\");\n    return proxies;\n  }\n}\n\nstatic class GattConstants\n{\n  // \"Device Information\" GATT service\n  // https://www.bluetooth.org/docman/handlers/downloaddoc.ashx?doc_id=244369\n  public const string DeviceInformationServiceUUID = \"0000180a-0000-1000-8000-00805f9b34fb\";\n  public const string ModelNameCharacteristicUUID = \"00002a24-0000-1000-8000-00805f9b34fb\";\n  public const string ManufacturerNameCharacteristicUUID = \"00002a29-0000-1000-8000-00805f9b34fb\";\n}\n\nstatic class BluezConstants\n{\n  public const string DBusService = \"org.bluez\";\n  public const string Adapter1Interface = \"org.bluez.Adapter1\";\n  public const string Device1Interface = \"org.bluez.Device1\";\n  public const string GattServiceInterface = \"org.bluez.GattService1\";\n  public const string GattCharacteristicInterface = \"org.bluez.GattCharacteristic1\";\n}\n</code></pre>\n\n<h2>NuGet Package</h2>\n\n<p>Based on the code above, I published <a href=\"https://www.nuget.org/packages/HashtagChris.DotNetBlueZ\" rel=\"noreferrer\">HashtagChris.DotNetBlueZ</a>, a quick attempt at a .Net Core library for BlueZ. It works on my Raspberry Pi (after <a href=\"https://learn.adafruit.com/install-bluez-on-the-raspberry-pi\" rel=\"noreferrer\">installing the 5.50 release of BlueZ</a>) and may be useful. However if you run into issues using the package I recommend trying to access the <a href=\"https://git.kernel.org/pub/scm/bluetooth/bluez.git/tree/doc\" rel=\"noreferrer\">BlueZ D-Bus APIs</a> directly. The <a href=\"https://git.kernel.org/pub/scm/bluetooth/bluez.git/tree/client\" rel=\"noreferrer\">C source code for bluetoothctl</a> serves as a good example for how to use the D-Bus APIs to scan, connect, pair, etc.</p>\n"}], "owner": {"reputation": 141, "user_id": 10835467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a283bbdc51108574db14e18d88b39d10?s=128&d=identicon&r=PG&f=1", "display_name": "Raymond Brink", "link": "https://stackoverflow.com/users/10835467/raymond-brink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7809, "favorite_count": 8, "answer_count": 1, "score": 14, "last_activity_date": 1591691553, "creation_date": 1545834292, "question_id": 53933345, "link": "https://stackoverflow.com/questions/53933345/utilizing-bluetooth-le-on-raspberry-pi-using-net-core", "title": "Utilizing bluetooth LE on Raspberry Pi using .Net Core", "body": "<p>I'd like to build a GATT client in .NET Core. It will deploy to a RPi3 running Raspbian Lite controlling multiple BLE devices. Is there currently support for Bluetooth LE in the .Net Core Framework (2.2 or 3 preview)? </p>\n\n<p>I'm aware of an alternative using a UWP library on Windows 10 IoT on the RPi, but I'd prefer to run Raspbian Lite instead. Are there currently any other alternatives for such a stack?</p>\n"}, {"tags": ["c#", "service", "windows-installer"], "comments": [{"owner": {"reputation": 13353, "user_id": 366064, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0cSD6.png?s=128&g=1", "display_name": "Bizhan", "link": "https://stackoverflow.com/users/366064/bizhan"}, "edited": false, "score": 0, "creation_date": 1545834039, "post_id": 53933263, "comment_id": 94706816, "body": "please don&#39;t use images instead of text."}, {"owner": {"reputation": 13, "user_id": 9888173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6adf4c838aef04c4a3ea71bed768a15?s=128&d=identicon&r=PG&f=1", "display_name": "idan", "link": "https://stackoverflow.com/users/9888173/idan"}, "reply_to_user": {"reputation": 13353, "user_id": 366064, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0cSD6.png?s=128&g=1", "display_name": "Bizhan", "link": "https://stackoverflow.com/users/366064/bizhan"}, "edited": false, "score": 0, "creation_date": 1545834560, "post_id": 53933263, "comment_id": 94706983, "body": "please explain... where did you lost me ? i thought it was pretty clear"}, {"owner": {"reputation": 13353, "user_id": 366064, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0cSD6.png?s=128&g=1", "display_name": "Bizhan", "link": "https://stackoverflow.com/users/366064/bizhan"}, "edited": false, "score": 0, "creation_date": 1545834737, "post_id": 53933263, "comment_id": 94707038, "body": "It&#39;s only 2018 and the technology advancements are not yet ready to process images as fast and convert them to plain text when another user is googling the same error message, nor there are lots of tools available to easily convert screenshots of source codes into text in order for us lazy programmers to copy them in our IDEs."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9888173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6adf4c838aef04c4a3ea71bed768a15?s=128&d=identicon&r=PG&f=1", "display_name": "idan", "link": "https://stackoverflow.com/users/9888173/idan"}, "edited": false, "score": 0, "creation_date": 1545892341, "post_id": 53933420, "comment_id": 94720670, "body": "simple answer, i can&#39;t believe i missed it. <b>THANKS!</b>"}], "tags": [], "owner": {"reputation": 428, "user_id": 2662221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/100f2280ecbf23438d15db61ad1e3ba0?s=128&d=identicon&r=PG", "display_name": "Aashish Koirala", "link": "https://stackoverflow.com/users/2662221/aashish-koirala"}, "is_accepted": true, "score": 1, "last_activity_date": 1545834818, "creation_date": 1545834818, "answer_id": 53933420, "question_id": 53933263, "link": "https://stackoverflow.com/questions/53933263/windows-installer-cannot-access-directory/53933420#53933420", "title": "windows installer cannot access directory", "body": "<p>You are trying to write text to a directory instead of a file. The variable \"path\" is returned from Path.GetDirectoryName() which is a directory. In the next line, you are trying to do File.WriteAllText() to this variable, thus the error.</p>\n"}, {"tags": [], "owner": {"reputation": 34253, "user_id": 129130, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/FJpdt.gif?s=128&g=1", "display_name": "Stein &#197;smul", "link": "https://stackoverflow.com/users/129130/stein-%c3%85smul"}, "is_accepted": false, "score": 0, "last_activity_date": 1545868493, "last_edit_date": 1545868493, "creation_date": 1545868010, "answer_id": 53938290, "question_id": 53933263, "link": "https://stackoverflow.com/questions/53933263/windows-installer-cannot-access-directory/53938290#53938290", "title": "windows installer cannot access directory", "body": "<blockquote>\n  <p><strong><em>Path.Combine</em></strong>: As already mentioned by others, you need to specify a proper full path (path and file name). Maybe use <strong><code>Path.Combine</code></strong>? For example:</p>\n</blockquote>\n\n <pre class=\"lang-cs prettyprint-override\"><code> System.IO.File.WriteAllText(Path.Combine(path, \"filename.txt\"), \"test\");\n</code></pre>\n\n<hr>\n\n<p><strong><em>Alternatives</em></strong>: I am not a .NET expert, and I don't use managed code custom actions. However if they are DTF based I am not sure if they have any clunk with regards to current directory or executing directory. Listing some further links:</p>\n\n<ul>\n<li>Adding a note about: <strong><code>Environment.SpecialFolder</code></strong> (get all kinds of special folders) and <strong><code>Environment.CurrentDirectory</code></strong> (get current directory).</li>\n<li>Reflection might be better, but check this answer: <a href=\"https://stackoverflow.com/questions/10993721/how-to-get-execution-directory-of-console-application/10993735#10993735\">How to get execution directory of console application</a> (all answers). There is also: <strong><code>AppDomain.CurrentDomain.BaseDirectory</code></strong>: <a href=\"https://stackoverflow.com/questions/1658518/getting-the-absolute-path-of-the-executable-using-c/17836681#17836681\">Getting the absolute path of the executable, using C#?</a>.</li>\n<li>And then there is the suggestion to use <strong><code>GetEntryAssembly</code></strong>: <a href=\"https://www.red-gate.com/simple-talk/blogs/c-getting-the-directory-of-a-running-executable/\" rel=\"nofollow noreferrer\">C# \u2013 Getting the Directory of a Running Executable</a>.</li>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.directory.getcurrentdirectory?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">Directory.GetCurrentDirectory Method</a>.</li>\n</ul>\n"}], "owner": {"reputation": 13, "user_id": 9888173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6adf4c838aef04c4a3ea71bed768a15?s=128&d=identicon&r=PG&f=1", "display_name": "idan", "link": "https://stackoverflow.com/users/9888173/idan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 53933420, "answer_count": 2, "score": 0, "last_activity_date": 1545868493, "creation_date": 1545833810, "last_edit_date": 1545835299, "question_id": 53933263, "link": "https://stackoverflow.com/questions/53933263/windows-installer-cannot-access-directory", "title": "windows installer cannot access directory", "body": "<p>I am trying to run some custom actions code for windows service (the service is LocalSystem account) with windows service installer and i get the following error message:</p>\n\n<p><strong>error message while installing MSI:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Error 1001. An Exception occurred in the OnAfterInstall event handler\nof System.ServiceProcess.ServiceInstaller. --&gt; Access to the path XXX\nis denied. \n</code></pre>\n\n<p><strong>this code is throwing the error:</strong></p>\n\n<pre><code>protected override void OnAfterInstall(IDictionary savedState)\n{\n      string path = Path.GetDirectoryName(System.Reflection.Assembly.GetExecutingAssembly().Location);\n      System.IO.File.WriteAllText(path, \"test\");\n}\n</code></pre>\n\n<p>At the code i am trying to access the service .exe directory so i could delete the files created there</p>\n\n<p>My goal is to make a custom action for the install/uninstalling process. i want to delete files that was created after installation like logs and configuration file.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "sql-server", "winforms", "linq", "repository"], "comments": [{"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 2, "creation_date": 1545833437, "post_id": 53933197, "comment_id": 94706644, "body": "May be useful: <a href=\"https://stackoverflow.com/questions/5235858/combining-the-results-of-two-linq-queries-into-a-single-var\" title=\"combining the results of two linq queries into a single var\">stackoverflow.com/questions/5235858/&hellip;</a>"}, {"owner": {"reputation": 51, "user_id": 3743637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/62688e8397b1eb980049fecfe4ec6a49?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/3743637/sarah"}, "reply_to_user": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1545834849, "post_id": 53933197, "comment_id": 94707063, "body": "thank you I&#39;ll try this out and I&#39;ll leave a feedback."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 1, "creation_date": 1545836400, "post_id": 53933197, "comment_id": 94707541, "body": "What do you mean exactly by combining to a single query? Someone may think combining is Union, someone may think it&#39;s Concat, someone may think it&#39;s left-joining all the queries. Do all these queries have the same properties? What are <code>RepositoryLINQ</code> properties? What&#39;s bad with these 4 methods and what&#39;s your goal by combining them to a single one? What&#39;s the expected result? It&#39;s unclear what you are asking."}, {"owner": {"reputation": 51, "user_id": 3743637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/62688e8397b1eb980049fecfe4ec6a49?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/3743637/sarah"}, "reply_to_user": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1545837625, "post_id": 53933197, "comment_id": 94707949, "body": "@RezaAghaei I edited my question so it can be more clear what I need."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1545854532, "post_id": 53933197, "comment_id": 94713247, "body": "What do you mean by complex and slow? The code seems straightforward, and there is nothing obviously slow in the way you are doing the queries."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1545879100, "post_id": 53933197, "comment_id": 94718134, "body": "@sarra We don&#39;t need a description about what LINQ is and what&#39;s its purpose. Instead, we need some information about the questions which I asked in my previous comments."}, {"owner": {"reputation": 51, "user_id": 3743637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/62688e8397b1eb980049fecfe4ec6a49?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/3743637/sarah"}, "edited": false, "score": 0, "creation_date": 1545895301, "post_id": 53933197, "comment_id": 94721635, "body": "My question is exactly is it possible to have one query using left joins that can have the same resut ? for example if I selected an account number, it returns only the rows with that account. And if I didn&#39;tn it returns all my the rows."}], "owner": {"reputation": 51, "user_id": 3743637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/62688e8397b1eb980049fecfe4ec6a49?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/3743637/sarah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1545845541, "creation_date": 1545833346, "last_edit_date": 1545845541, "question_id": 53933197, "link": "https://stackoverflow.com/questions/53933197/is-there-a-way-to-join-multiple-linq-queries-in-to-get-results-based-on-user-se", "title": "Is the&#39;re a way to join multiple linq queries in to get results based on user selection?", "body": "<p>I have a windows form that selects results based on user selection : the result is shown in datagridview based on user choice. Let me explain more, if the user selected an account number the result shows the data of this specific account. Same thing for suppliers and date.</p>\n\n<p>To do so, I'm using four linq methods to query my database on each user choice :</p>\n\n<p>PS : RepositoryLINQ is my LINQ class (LINQ (Language Integrated Query) is uniform query syntax in C# and VB.NET used to save and retrieve data from different sources. It is integrated in C# or VB, thereby eliminating the mismatch between programming languages and databases, as well as providing a single querying interface for different types of data sources.)</p>\n\n<p>I write all my database queries in this part so I can have some layered app. </p>\n\n<pre><code>public IList&lt;RepositoryLINQ&gt; \nGetAllJoinCmp(DateTime _from, DateTime _To)\n{\n   try\n   {\n      var _tbl = from tbl in _db.mytable\n      join tblc in _db.joinedtable on tbl.ID equals \n      tblc.ID\n      where tbl.Date &gt;= _from \n      &amp;&amp; _To &gt;= tbl.Date\n      orderby tbl.Date\n      select new RepositoryLINQ\n      {\n         //some attributes\n      };\n\n      return _tbl.ToList();\n   }\n   catch (Exception ex)\n   {\n      _ErrMsg = ex.Message;\n      return null;\n   }\n}\n\npublic IList&lt;RepositoryLINQ&gt; \nGetAllJoinCmpByCmp(DateTime _from, DateTime _To)\n{\n   try\n   {\n      var _tbl = from tbl in _db.mytable\n      join tblc in _db.joinedtable on tbl.ID equals \n      tblc.ID\n      where tbl.Date &gt;= _from\n      &amp;&amp; _To &gt;= tbl.Date\n      &amp;&amp; tblc.accountID.Equals(this._accountID)\n      orderby tbl.Date\n      select new RepositoryLINQ\n      {\n         //some attributes\n      };\n      return _tbl.ToList();\n   }\n   catch (Exception ex)\n   {\n      _ErrMsg = ex.Message;\n      return null;\n   }\n}\n\npublic IList&lt;RepositoryLINQ&gt; \nGetAllJoinCmpBySupp(DateTime _from, DateTime _To)\n{\n   try\n   {\n      var _tbl = from tbl in _db.table\n      join tblc in _db.joinedtable on tbl.ID equals \n      tblc.ID\n      where tbl.Date &gt;= _from\n      &amp;&amp; _To &gt;= tbl.Date \n      &amp;&amp; tbl.SupplierID.Equals(this._SupplierID)\n      orderby tbl.Date \n      select new RepositoryLINQ\n      {\n         //some attributes\n      };\n      return _tbl.ToList();\n   }\n   catch (Exception ex)\n   {\n      _ErrMsg = ex.Message;\n      return null;\n   }\n}\n\npublic IList&lt;RepositoryLINQ&gt; \nGetAllJoinCmpByCmpBySupp(DateTime _from, DateTime _To)\n{\n   try\n   {\n      var _tbl = var _tbl = from tbl in _db.mytable\n      join tblc in _db.joinedtable on tbl.ID equals \n      tblc.ID\n      where tbl.Date &gt;= _from\n      &amp;&amp; _To &gt;= tbl.Date\n      &amp;&amp; tblc.accountID.Equals(this._accountID)\n      &amp;&amp; tbl.SupplierID.Equals(this._SupplierID)\n      orderby tbl.mytable\n      select new RepositoryLINQ\n      {\n         //some attributes\n      };\n      return _tbl.ToList();\n   }\n   catch (Exception ex)\n   {\n      _ErrMsg = ex.Message;\n      return null;\n   }\n}\n</code></pre>\n\n<p>With this method, my code is a bit complex and slow. \nMy question is : how can I join these queries?\nI can maybe use left/right join propreties. It seems not complicated but I couldn't figure it how. </p>\n"}]