[{"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1554952774, "post_id": 55622838, "comment_id": 97940885, "body": "Sometimes for me VisualStudio as well doesn&#39;t recognize newly added classes while Unity just compiles fine. When it occurs in 80% of the cases it is solved by closing and reopening VS. In the rest of cases you can try to close Unity and VS, delete everything except the <code>Assets</code>, <code>ProjectSettings</code> and <code>Packages</code> folders and let Unity recompile the whole project (might have to switch again to the correct build target)"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9700246, "user_type": "registered", "profile_image": "https://graph.facebook.com/1744569482262028/picture?type=large", "display_name": "Noman Nazir", "link": "https://stackoverflow.com/users/9700246/noman-nazir"}, "edited": false, "score": 0, "creation_date": 1554993543, "post_id": 55622905, "comment_id": 97961502, "body": "the second script has namespace UnityStandardAssets.Characters.ThirdPerson but the first one don&#39;t have any namespace and sorry for not providing full information"}], "tags": [], "owner": {"reputation": 27546, "user_id": 6266, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/398efb709eb606ef79ee6436f55f93bd?s=128&d=identicon&r=PG", "display_name": "Fire Lancer", "link": "https://stackoverflow.com/users/6266/fire-lancer"}, "is_accepted": false, "score": 0, "last_activity_date": 1554941179, "creation_date": 1554941179, "answer_id": 55622905, "question_id": 55622838, "link": "https://stackoverflow.com/questions/55622838/how-to-fix-the-type-or-namespace-name-playermanager-could-not-be-found-are-y/55622905#55622905", "title": "how to fix &#39;The type or namespace name &#39;PlayerManager&#39; could not be found (are you missing a using directive or an assembly reference?", "body": "<p>It is hard to tell with so little information. Ideally a <em>compilable</em> piece of code that people can drop into a blank project.</p>\n\n<p>Do both classes/files use the same namespace? To use classes in another namespace, the file must contain a \"using directive\", e.g. <code>using System;</code> or you must use the complete name, e.g. <code>System.Console.Write(\"Test\");</code> for the <code>Console</code> class in the <code>System</code> namespace.</p>\n\n<p>Are they both in the same project? Classes in different projects, or external DLLs will also need an assembly reference, in Visual Studio you can see these in the \"Solution Explorer\", if you expand your project and then \"References\", which will be at the top of the project.</p>\n\n<p>Usually with Visual Studio (or other IDEs) for things like this it will underline the error in red, and can provide some hints on how to also fix it. In the case of Visual Studio, right click \"Quick Actions and Refactorings...\" or with the default shortcut <code>Ctrl + .</code> it may offer to add an using directive or an assembly reference for you automatically.</p>\n"}], "owner": {"reputation": 1, "user_id": 9700246, "user_type": "registered", "profile_image": "https://graph.facebook.com/1744569482262028/picture?type=large", "display_name": "Noman Nazir", "link": "https://stackoverflow.com/users/9700246/noman-nazir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 322, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554941179, "creation_date": 1554940611, "question_id": 55622838, "link": "https://stackoverflow.com/questions/55622838/how-to-fix-the-type-or-namespace-name-playermanager-could-not-be-found-are-y", "title": "how to fix &#39;The type or namespace name &#39;PlayerManager&#39; could not be found (are you missing a using directive or an assembly reference?", "body": "<p>\u00ed am trying to access the playermanager from ThirdPersonUserControl but it is not working and giving ther error</p>\n\n<p>I have tried referencing but still no good</p>\n\n<p>class 1 </p>\n\n<p>public class PlayerManager : MonoBehaviour{}</p>\n\n<p>class 2</p>\n\n<p>public PlayerManager manager;</p>\n\n<pre><code>    private void Start()\n    {\n\n        manager = gameObject.GetComponent&lt;PlayerManager&gt;();\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net", "x509certificate", "certificate-store", "certenroll"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1554940840, "post_id": 55622786, "comment_id": 97938619, "body": "Did you install the certificate both as CurrentUser\\MY and LocalMachine\\MY? It sounds like you only did the later"}, {"owner": {"reputation": 266, "user_id": 4002463, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3892f842b4d69317e8043f5e1060b2eb?s=128&d=identicon&r=PG&f=1", "display_name": "pudm", "link": "https://stackoverflow.com/users/4002463/pudm"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1554941238, "post_id": 55622786, "comment_id": 97938701, "body": "yes I did it in both, I actually created a different template to make it exportable, request the cert in the currentUser context, go to that store, export the certificate and import it into my LocalMachine store"}], "answers": [{"tags": [], "owner": {"reputation": 266, "user_id": 4002463, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3892f842b4d69317e8043f5e1060b2eb?s=128&d=identicon&r=PG&f=1", "display_name": "pudm", "link": "https://stackoverflow.com/users/4002463/pudm"}, "is_accepted": true, "score": 0, "last_activity_date": 1555436799, "creation_date": 1555436799, "answer_id": 55713917, "question_id": 55622786, "link": "https://stackoverflow.com/questions/55622786/error-trying-to-use-the-private-key-of-cert-retrieved-from-currentuser-store/55713917#55713917", "title": "Error trying to use the Private Key of cert retrieved from CurrentUser Store", "body": "<p>the problem was in the initialze, I was setting machine context to true instead of false making it fail. the certificate was correcly retrieved as it was being shown by the debugger tools. </p>\n"}], "owner": {"reputation": 266, "user_id": 4002463, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3892f842b4d69317e8043f5e1060b2eb?s=128&d=identicon&r=PG&f=1", "display_name": "pudm", "link": "https://stackoverflow.com/users/4002463/pudm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 55713917, "answer_count": 1, "score": -1, "last_activity_date": 1555436799, "creation_date": 1554940083, "question_id": 55622786, "link": "https://stackoverflow.com/questions/55622786/error-trying-to-use-the-private-key-of-cert-retrieved-from-currentuser-store", "title": "Error trying to use the Private Key of cert retrieved from CurrentUser Store", "body": "<p>I am trying to sign a a CSR with my Certificate Agent Certificate. however when I get the certificate from currentUser's store and I try to use the key to sign it I get this error \"CertEnroll::CSignerCertificate::Initialize: Cannot find object or property. 0x80092004 (-2146885628 CRYPT_E_NOT_FOUND)\" however if I get it from the LocalMachine Store I do not have that problem and it works. I cannot use the local machine to store the cert because Certificate Agent Certs have their private key as not exportable. </p>\n\n<p>this is my code to get the certificate from the cert sotre:</p>\n\n<pre><code>        const string ekuOid = \"2.5.29.37\";\n        const string enrollmentAgentOid = \"1.3.6.1.4.1.311.20.2.1\";\n        var store = new X509Store(\"MY\", StoreLocation.CurrentUser);\n        store.Open(OpenFlags.ReadOnly);\n        X509Certificate2 certificate = null;\n        foreach (var cert in store.Certificates)\n        {\n            if (!cert.HasPrivateKey || cert.NotBefore &gt; DateTime.UtcNow || DateTime.UtcNow &gt; cert.NotAfter) { continue; }\n            foreach (var eku in cert.Extensions.Cast&lt;X509Extension&gt;().Where(ext =&gt; ext.Oid.Value == ekuOid).Cast&lt;X509EnhancedKeyUsageExtension&gt;())\n            {\n                if (eku.EnhancedKeyUsages.Cast&lt;Oid&gt;().Any(usage =&gt; usage.Value == enrollmentAgentOid))\n                {\n                    certificate = cert;\n                }\n            }\n        }\n        return certificate;\n</code></pre>\n\n<p>but when I call the CERTENROLLLib initializer (Initialize(bool MachineContext, X509PrivateKeyVerify VerifyType, EncodingType Encoding, string strCertificate))  I get the exception mentioned above.looking at the debugger the variable look the same when it is coming from the LocalMachine than when it is coming from Current User.</p>\n"}, {"tags": ["c#", "parameters"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1554940618, "post_id": 55622752, "comment_id": 97938573, "body": "Don&#39;t worry so much about what type you accept but worry more about performance. <code>List&lt;T&gt;.Count</code> is always known, while LINQ&#39;s <code>IEnumerable&lt;T&gt; Count</code> method must enumerate the entire collection"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 2, "creation_date": 1554941488, "post_id": 55622752, "comment_id": 97938761, "body": "Your question, being primarily opinion based, is not appropriate for Stack Overflow. That said, the guidance you are reading is reasonable, and in your scenario means you should use <code>IEnumerable&lt;T&gt;</code>.  Always accept as input the least-restrictive type that still works with your implementation. Since in your example, you do not have any actual need to index the input collection, <code>IEnumerable&lt;T&gt;</code> suffices and should be used in favor of <code>IList&lt;T&gt;</code>. The fact that the implementation involves an index somewhere is immaterial. The only thing that matters is how the parameter must be used."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1554942083, "post_id": 55622752, "comment_id": 97938866, "body": "Does it enumerate (loop over it) it once? Use <code>IEnumerable</code>? Otherwise, use <code>IReadOnlyList</code>. That is my general rule. Is it always perfect, no (e.g. you could instead just always use <code>IEnumerable</code> and then try and cast to <code>IReadOnlyList</code> or call <code>ToList</code> <b>inside</b> the method as needed). But it is a good rule of thumb. I&#39;d recommend never using <code>IList</code> since it is not a great interface, since its two main implementations have such different properties (i.e. you can add to a <code>List</code> but not an array). <i>In your case, I would not use <code>Count</code> like you are - just add to the <code>List</code> as needed.</i>"}, {"owner": {"reputation": 11, "user_id": 10777725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbc7f95130a19ae5b67ff2aa7f907b90?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Tait", "link": "https://stackoverflow.com/users/10777725/doug-tait"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1554944562, "post_id": 55622752, "comment_id": 97939352, "body": "@PeterDuniho perhaps it is opinion based but what if there is some widely accepted design principle that I am unaware of when asking this question? If the answers don&#39;t reveal that then in the future I might know that this question is primarily opinion based."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1554947418, "post_id": 55622752, "comment_id": 97939919, "body": "@CamiloTerevinto Linq&#39;s count method will use the <code>Count</code> property if the <code>IEnumerable</code> passed in is a list (technically any <code>ICollection&lt;T&gt;</code>)."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1554947549, "post_id": 55622752, "comment_id": 97939948, "body": "Why are you using a <code>for</code> loop instead of a <code>foreach</code>? If you don&#39;t use that there&#39;s no reason to use <code>IList</code> at all since you don&#39;t need to access the list by index."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1554970732, "post_id": 55622752, "comment_id": 97947296, "body": "<i>&quot;what if there is some widely accepted design principle&quot;</i> -- widely accepted opinions are still opinions. There are other forums, including other Stack Exchange sites, where opinions are the main currency, and where a question like this would be appropriate. But Stack Overflow questions should be able to be answered in objectively, factually-correct ways."}], "answers": [{"tags": [], "owner": {"reputation": 27546, "user_id": 6266, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/398efb709eb606ef79ee6436f55f93bd?s=128&d=identicon&r=PG", "display_name": "Fire Lancer", "link": "https://stackoverflow.com/users/6266/fire-lancer"}, "is_accepted": false, "score": 0, "last_activity_date": 1554941959, "creation_date": 1554941959, "answer_id": 55622993, "question_id": 55622752, "link": "https://stackoverflow.com/questions/55622752/how-to-choose-between-ilist-or-ienumerable-as-method-parameter-type/55622993#55622993", "title": "How to choose between IList or IEnumerable as method parameter type", "body": "<p><code>IEnumerable</code> is generally a safe bet if you are unsure how people will use the API. There are plenty of cases when a user will not have a <code>IList</code> object, especially when using things from Linq, in addition to any other collections other than lists, such as <code>LinkedList</code> or <code>Queue</code>.</p>\n\n<p>For example if they do <code>someList.Select((x) =&gt; new OtherThing(x, \"test\"))</code>, filter with <code>Where</code>, etc., then they will end up with an <code>IEnumerable</code>. While there is also in <code>System.Linq</code> a convenient <code>myEnumerable.ToList()</code> it is an extra conversion they would have to do and has some performance impact, maybe worse than the one you hoped to avoid.</p>\n\n<p>Of course, there are times when for performance reasons other types are preferable, especially when dealing with large amounts of small values (e.g. <code>byte[]</code>), or making your implementation simpler, for example for random access or modifying the data.</p>\n\n<p>You have to consider the trade offs yourself, although you might take inspiration from the standard classes and other popular libraries for the language. For public libraries you also have to be very careful in considering binary compatibility, for example if you return an <code>IEnumerable</code> then you can change your implementation to use a different actual type, if you return a <code>List</code> or even <code>IList</code> then you are more limited in what is technically possible without breaking compatibility.</p>\n"}, {"tags": [], "owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "is_accepted": false, "score": 1, "last_activity_date": 1554943040, "creation_date": 1554943040, "answer_id": 55623109, "question_id": 55622752, "link": "https://stackoverflow.com/questions/55622752/how-to-choose-between-ilist-or-ienumerable-as-method-parameter-type/55623109#55623109", "title": "How to choose between IList or IEnumerable as method parameter type", "body": "<p>If I were you I would take inspiration from how Microsoft implemented LINQ. Many of the operators that could benefit from being able to use a collection type still have <code>IEnumerable&lt;TSource&gt;</code> as the source data, but they simply try to cast to <code>ICollection&lt;TSource&gt;</code> to get direct access to indexing and other properties.</p>\n\n<p>Take (this slightly modified) <code>Count</code>, for example:</p>\n\n<pre><code>public static int Count&lt;TSource&gt;(this IEnumerable&lt;TSource&gt; source)\n{\n    if (source == null)\n    {\n        throw new ArgumentNullException(\"source\");\n    }\n    ICollection&lt;TSource&gt; collection = source as ICollection&lt;TSource&gt;;\n    if (collection != null)\n    {\n        return collection.Count;\n    }\n    ICollection collection2 = source as ICollection;\n    if (collection2 != null)\n    {\n        return collection2.Count;\n    }\n    int num = 0;\n    using (IEnumerator&lt;TSource&gt; enumerator = source.GetEnumerator())\n    {\n        while (enumerator.MoveNext())\n        {\n            num = checked(num + 1);\n        }\n        return num;\n    }\n}\n</code></pre>\n\n<p>If the input type is castable to a collection then the <code>Count</code> operator simply returns the count; otherwise it iterates through the list.</p>\n\n<p>That way you get the best of both types.</p>\n"}], "owner": {"reputation": 11, "user_id": 10777725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbc7f95130a19ae5b67ff2aa7f907b90?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Tait", "link": "https://stackoverflow.com/users/10777725/doug-tait"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554943040, "creation_date": 1554939799, "question_id": 55622752, "link": "https://stackoverflow.com/questions/55622752/how-to-choose-between-ilist-or-ienumerable-as-method-parameter-type", "title": "How to choose between IList or IEnumerable as method parameter type", "body": "<p>I am writing a library and I'm trying to determine the best type to use for method parameters to a method. I'm also trying to determine where to draw the line between being too picky and getting the write method definition.</p>\n\n<p>Here is some code</p>\n\n<pre><code>public void MethodTakesIList(IList&lt;MyClass&gt; myClassInstances) {\n  List&lt;List&lt;byte&gt;&gt; byteLists = GetByteLists(myClassInstances.Count);\n  for (int i = 0; i &lt; myClassInstances.Count; i++) {\n    ProcessBytesAndMyClassInstance(byteLists[i], myClassInstances[i]);\n  }\n} \n\npublic void MethodTakesIEnumerable(IEnumerable&lt;MyClass&gt; myClassInstances) {\n  List&lt;List&lt;byte&gt;&gt; byteLists = GetByteLists(myClassInstances.Count());\n  int i = 0;\n  foreach(MyClass instance in myClassInstances) {\n    ProcessBytesAndMyClassInstance(byteLists[i], instance);\n    i++;\n  }\n}\n</code></pre>\n\n<p>In <a href=\"https://www.claudiobernasconi.ch/2013/07/22/when-to-use-ienumerable-icollection-ilist-and-list/\" rel=\"nofollow noreferrer\">this</a> article it states that I \"should always use that type that provides a contract for only the methods you really use.\" The method that takes an IEnumerable still defines an index which is used in the loop. Since this index would point to a valid entry <strong>if myClassInstances were a list</strong> does that mean I should just use the method that accepts an IList? I would now have the capability to use the indexer of the IList. Or since <strong>there exists a solution that accepts IEnumerable</strong> should I use that one since it supports the greatest number of inputs? </p>\n"}, {"tags": ["c#", "kerberos", "windows-identity"], "answers": [{"comments": [{"owner": {"reputation": 269, "user_id": 5870474, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/51139bbb5c4f36f045f0e651ec6c46a6?s=128&d=identicon&r=PG&f=1", "display_name": "Paul W.", "link": "https://stackoverflow.com/users/5870474/paul-w"}, "edited": false, "score": 0, "creation_date": 1555088045, "post_id": 55642150, "comment_id": 98001358, "body": "Steve, my apologies I was a bone head in my original question and forgot to mention the crux of the actual issue. I need to use existing Domain User accounts that I want to impersonate vs. registering a service account SPN."}, {"owner": {"reputation": 269, "user_id": 5870474, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/51139bbb5c4f36f045f0e651ec6c46a6?s=128&d=identicon&r=PG&f=1", "display_name": "Paul W.", "link": "https://stackoverflow.com/users/5870474/paul-w"}, "edited": false, "score": 0, "creation_date": 1555088357, "post_id": 55642150, "comment_id": 98001501, "body": "The code works if SPN is RestrictedKrbHost/[host] can request as Domain\\User on one system and decrypt as Domain\\User on another. I saw vague security warnings about RestrictedKrbHost though. PowerShell/WinRM seems to use HTTP/[hostname] which is an alias to HOST/[hostname] SPN. That my receiving process need to be SYSTEM - i assume so it defaults to machine keys. My guess is the latter vs. RestrictedKrbHost is safer, any extra info you might have? thank you"}, {"owner": {"reputation": 269, "user_id": 5870474, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/51139bbb5c4f36f045f0e651ec6c46a6?s=128&d=identicon&r=PG&f=1", "display_name": "Paul W.", "link": "https://stackoverflow.com/users/5870474/paul-w"}, "edited": false, "score": 0, "creation_date": 1555089437, "post_id": 55642150, "comment_id": 98002062, "body": "BTW; I am accepting your answer. Just adding the note that HOST (and the various http/etc aliases in SPNmappings in CN=Directory Service,CN=Windows NT,CN=Services,CN=Configuration,DC=MyDC,DC=com) exist as default SPNs for Computers in AD so you can use them vs. adding an SPN. And need the receiving end to be SYSTEM/NETWORK SERVICE/etc so it decrypts properly."}, {"owner": {"reputation": 4003, "user_id": 234049, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0a75c8ca1046d24847d55cd748f53ea3?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/234049/steve"}, "reply_to_user": {"reputation": 269, "user_id": 5870474, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/51139bbb5c4f36f045f0e651ec6c46a6?s=128&d=identicon&r=PG&f=1", "display_name": "Paul W.", "link": "https://stackoverflow.com/users/5870474/paul-w"}, "edited": false, "score": 0, "creation_date": 1555103440, "post_id": 55642150, "comment_id": 98007416, "body": "Using the host principal is fine. You save yourself permissions issues, but you still need to duplicate tokens and potentially configure delegation."}], "tags": [], "owner": {"reputation": 4003, "user_id": 234049, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0a75c8ca1046d24847d55cd748f53ea3?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/234049/steve"}, "is_accepted": true, "score": 1, "last_activity_date": 1555022449, "creation_date": 1555022449, "answer_id": 55642150, "question_id": 55622728, "link": "https://stackoverflow.com/questions/55622728/client-server-app-how-to-create-process-on-remote-system-as-a-domain-user-witho/55642150#55642150", "title": "Client/Server app, how to create process on remote system as a domain user without transferring that users username/password to the remote system?", "body": "<p>The origin of the first block of code is functionally wrong. The SPN must be the target receiving the ticket, not the user requesting the ticket. So you need to do the following things...</p>\n\n<ol>\n<li>Register a service principal account (user/computer) in AD.</li>\n<li>Add a service principal name to that account of the form <code>foo/host.domain.com</code> where foo is your service name, e.g. <code>http</code> or <code>host</code>, or <code>myapp</code>.</li>\n<li>Client needs to request a ticket to <code>foo/host.domain.com</code></li>\n<li><code>KerberosReceiverSecurityToken</code> should parse <em>that</em> ticket</li>\n</ol>\n\n<p>Now you have an identity of some varying impersonation level. That impersonation level dictates whether you can start a process as that user. As it happens... you just can't because that's not how Windows security works. You have an impersonation NT token since you're impersonating a user, whereas you need a primary NT token to start processes.</p>\n\n<p>So you need to convert that to a primary token using <a href=\"https://docs.microsoft.com/en-us/windows/desktop/api/securitybaseapi/nf-securitybaseapi-duplicatetokenex\" rel=\"nofollow noreferrer\">DuplicateTokenEx</a>, and you effectively need to be SYSTEM to do that.</p>\n\n<p>Once you have the primary token you can call <a href=\"https://docs.microsoft.com/en-us/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createprocessasusera\" rel=\"nofollow noreferrer\">CreateProcessAsUser</a>.</p>\n\n<p>At this point you might have started the process as the user, but it doesn't have any credentials to reach other network properties like network shares or web services. You can enable constrained delegation on the service principal to any downstream services for that.</p>\n\n<p>An alternative, and probably safer and easier, option is instead to start a worker process as a low privilege user and tell <em>that</em> process to impersonate. See <a href=\"https://stackoverflow.com/questions/51735041/support-kerberos-constrained-delegation-using-sspi-for-multiprocess/51795116#51795116\">this answer for more information</a> on that.</p>\n"}], "owner": {"reputation": 269, "user_id": 5870474, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/51139bbb5c4f36f045f0e651ec6c46a6?s=128&d=identicon&r=PG&f=1", "display_name": "Paul W.", "link": "https://stackoverflow.com/users/5870474/paul-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 55642150, "answer_count": 1, "score": 0, "last_activity_date": 1555088006, "creation_date": 1554939622, "last_edit_date": 1555088006, "question_id": 55622728, "link": "https://stackoverflow.com/questions/55622728/client-server-app-how-to-create-process-on-remote-system-as-a-domain-user-witho", "title": "Client/Server app, how to create process on remote system as a domain user without transferring that users username/password to the remote system?", "body": "<p>I have two systems both running my C# client/server software code. I want to from Computer 1 create a process as a given Active Directory domain user on Computer 2 without having to have my client/server software send the plain text username and password of the AD user from Computer 1 to Computer 2.</p>\n\n<p>The closest I have gotten is it seemed like I could use the function KerberosRequestorSecurityToken on Computer 1 to generate a kerberos ticket and then send that byte[] result via my client/server code to Computer 2 where it should then be able to call KerberosReceiverSecurityToken against the byte[] kerberos ticket that was passed. If all that works then KerberosReceiverSecurityToken  would have a WindowsIdentity property that I could then use to create a process on Computer 2 with the user account initially specified on Computer 1 via the KerberosRequestorSecurityToken flow.</p>\n\n<p>I need to use existing Domain User accounts that I want to impersonate vs. registering a service account SPN. This is the crux of the issue that I failed to mention when I originally posted the question. </p>\n\n<p>I cannot seem to get this to work but more so I do not even know if this is actually possible - e.g. should these APIs even allow me to do what I want?</p>\n\n<p>Computer 1 code to generate kerberos ticket. The byte[] result of this is sent via my client/server app to Computer 2.</p>\n\n<pre><code>public static byte[] GetRequestToken(string userName, string password, string domain)\n{\n    using (var domainContext = new PrincipalContext(ContextType.Domain, domain))\n    {\n        using (var foundUser = UserPrincipal.FindByIdentity(domainContext, IdentityType.SamAccountName, userName))\n        {\n            Console.WriteLine(\"User Principal name\" + UserPrincipal.FindByIdentity(domainContext, IdentityType.SamAccountName, userName).UserPrincipalName);\n            string spn = UserPrincipal.FindByIdentity(domainContext, IdentityType.SamAccountName, userName).UserPrincipalName;\n            KerberosSecurityTokenProvider k1 = new KerberosSecurityTokenProvider(spn, TokenImpersonationLevel.Impersonation, new NetworkCredential(userName, password, domain));\n            KerberosRequestorSecurityToken T1 = k1.GetToken(TimeSpan.FromMinutes(1)) as KerberosRequestorSecurityToken;\n            var req = T1.GetRequest();\n            return req;\n        }\n    }\n}\n</code></pre>\n\n<p>Computer 2 takes that resulting byte[] kerberos ticket and attempts to recieve it to access a WindowsIdentity but it throws an exception saying invalid logon.</p>\n\n<pre><code>KerberosReceiverSecurityToken receiverToken = new KerberosReceiverSecurityToken(requestToken);\nbyte[] receiverTokenTicket = receiverToken.GetRequest();\n\n//Identity for impersonation\nvar impersonatedIdentity = receiverToken.WindowsIdentity;\n</code></pre>\n"}, {"tags": ["c#", ".net", "dictionary", "properties", ".net-core"], "comments": [{"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1554939440, "post_id": 55622611, "comment_id": 97938330, "body": "<code>Int64</code> alias <code>long</code> is a value type and therefore passed by value, not by reference."}, {"owner": {"reputation": 1974, "user_id": 1155329, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/104256712e7a6d2f76fab1712157c98c?s=128&d=identicon&r=PG", "display_name": "MineR", "link": "https://stackoverflow.com/users/1155329/miner"}, "edited": false, "score": 0, "creation_date": 1554939748, "post_id": 55622611, "comment_id": 97938396, "body": "Ints are not passed by reference. Read about the ref keyword."}, {"owner": {"reputation": 1974, "user_id": 1155329, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/104256712e7a6d2f76fab1712157c98c?s=128&d=identicon&r=PG", "display_name": "MineR", "link": "https://stackoverflow.com/users/1155329/miner"}, "edited": false, "score": 0, "creation_date": 1554939869, "post_id": 55622611, "comment_id": 97938427, "body": "Side note... to make it work, in the getter and setter of DataObjectId, directly call the dictionary - then it will work."}, {"owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 0, "creation_date": 1554939965, "post_id": 55622611, "comment_id": 97938441, "body": "You&#39;re setting the <code>Dictionary</code>&#39;s key value in your <code>while</code> loop. Why do you think your <code>DataObjectId</code> <b>property</b> will change? Your <code>Dictionary</code> with key <code>DataObjectId</code> has the actual value of your property but then you override the value in your <code>Dictionary</code>, your property won&#39;t change."}, {"owner": {"reputation": 113, "user_id": 11342798, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cBeWfKjxAUI/AAAAAAAAAAI/AAAAAAAAABA/aKgNmCdnpXk/photo.jpg?sz=128", "display_name": "Doug Wilson", "link": "https://stackoverflow.com/users/11342798/doug-wilson"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1555000967, "post_id": 55622611, "comment_id": 97966032, "body": "@alexei-levenkov, the answers to question 5057267 in no way address the question I&#39;m asking here, e.g. accessing object <b>property</b> values via a Dictionary object reference."}, {"owner": {"reputation": 113, "user_id": 11342798, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cBeWfKjxAUI/AAAAAAAAAAI/AAAAAAAAABA/aKgNmCdnpXk/photo.jpg?sz=128", "display_name": "Doug Wilson", "link": "https://stackoverflow.com/users/11342798/doug-wilson"}, "reply_to_user": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1555000999, "post_id": 55622611, "comment_id": 97966053, "body": "@stickybit, I&#39;ve updated my example code to include a Guid data type, but the issue is the same regardless of data types.  It also affects Strings, DateTimes, etc."}, {"owner": {"reputation": 113, "user_id": 11342798, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cBeWfKjxAUI/AAAAAAAAAAI/AAAAAAAAABA/aKgNmCdnpXk/photo.jpg?sz=128", "display_name": "Doug Wilson", "link": "https://stackoverflow.com/users/11342798/doug-wilson"}, "reply_to_user": {"reputation": 1974, "user_id": 1155329, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/104256712e7a6d2f76fab1712157c98c?s=128&d=identicon&r=PG", "display_name": "MineR", "link": "https://stackoverflow.com/users/1155329/miner"}, "edited": false, "score": 0, "creation_date": 1555001012, "post_id": 55622611, "comment_id": 97966057, "body": "@MineR, I&#39;ve updated my example code to include a Guid data type, but the issue is the same regardless of data types.  It also affects Strings, DateTimes, etc."}, {"owner": {"reputation": 113, "user_id": 11342798, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cBeWfKjxAUI/AAAAAAAAAAI/AAAAAAAAABA/aKgNmCdnpXk/photo.jpg?sz=128", "display_name": "Doug Wilson", "link": "https://stackoverflow.com/users/11342798/doug-wilson"}, "reply_to_user": {"reputation": 1974, "user_id": 1155329, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/104256712e7a6d2f76fab1712157c98c?s=128&d=identicon&r=PG", "display_name": "MineR", "link": "https://stackoverflow.com/users/1155329/miner"}, "edited": false, "score": 0, "creation_date": 1555001035, "post_id": 55622611, "comment_id": 97966074, "body": "@MineR, I&#39;ve tried updating the Dictionary in the property setter, and it results in a null pointer exception."}, {"owner": {"reputation": 113, "user_id": 11342798, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cBeWfKjxAUI/AAAAAAAAAAI/AAAAAAAAABA/aKgNmCdnpXk/photo.jpg?sz=128", "display_name": "Doug Wilson", "link": "https://stackoverflow.com/users/11342798/doug-wilson"}, "reply_to_user": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 0, "creation_date": 1555001049, "post_id": 55622611, "comment_id": 97966079, "body": "@JohanP, I&#39;m setting the Dictionary&#39;s <b>object</b> value in my <code>while</code> loop, not its key value.  The successful results of this can be seen clearly in the screen shot I provided."}, {"owner": {"reputation": 113, "user_id": 11342798, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cBeWfKjxAUI/AAAAAAAAAAI/AAAAAAAAABA/aKgNmCdnpXk/photo.jpg?sz=128", "display_name": "Doug Wilson", "link": "https://stackoverflow.com/users/11342798/doug-wilson"}, "edited": false, "score": 0, "creation_date": 1555001082, "post_id": 55622611, "comment_id": 97966095, "body": "Thank you all for your thoughts, but none of this actually explains why the Dictionary maintains its own set of values while the data object&#39;s properties remain unaffected, regardless of data type."}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1555001654, "post_id": 55622611, "comment_id": 97966368, "body": "@DougWilson: <code>Guid</code> is also a value type."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1555008019, "post_id": 55622611, "comment_id": 97969233, "body": "@DougWilson you are right - it looked like it was the only part you don&#39;t understand, but apparently your confusion is broader - maybe <a href=\"https://stackoverflow.com/questions/8708632/passing-objects-by-reference-or-value-in-c-sharp\" title=\"passing objects by reference or value in c sharp\">stackoverflow.com/questions/8708632/&hellip;</a> could help a bit. You may want to experiment with much simpler code (ditch dictionary and just use local variable to save value of the property and than update that local variable. Stare at it for some time and explain yourself why value of the property should change)"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1555008235, "post_id": 55622611, "comment_id": 97969319, "body": "(Good thing that you already know solution - reflection - to actual task you trying to solve, so at least you are not blocked on implementing whatever you are doing)"}, {"owner": {"reputation": 113, "user_id": 11342798, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cBeWfKjxAUI/AAAAAAAAAAI/AAAAAAAAABA/aKgNmCdnpXk/photo.jpg?sz=128", "display_name": "Doug Wilson", "link": "https://stackoverflow.com/users/11342798/doug-wilson"}, "reply_to_user": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1555011672, "post_id": 55622611, "comment_id": 97970772, "body": "OK, @stickybit.  How about strings?  They don&#39;t work either.  <i>&quot;the issue is the same regardless of data types. It also affects Strings, DateTimes, etc&quot;</i>"}, {"owner": {"reputation": 113, "user_id": 11342798, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cBeWfKjxAUI/AAAAAAAAAAI/AAAAAAAAABA/aKgNmCdnpXk/photo.jpg?sz=128", "display_name": "Doug Wilson", "link": "https://stackoverflow.com/users/11342798/doug-wilson"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1555013259, "post_id": 55622611, "comment_id": 97971443, "body": "Thanks for your patience, @AlexeiLevenkov.  I&#39;m staring.  I&#39;ve even drawn this out on a whiteboard.  vmg&#39;s example answer to stackoverflow.com/questions/8708632/ makes complete sense ... in the context of passing a parameter to a method.  But this doesn&#39;t seem to apply to object properties, i.e. there&#39;s no way to specify that a setter pass a parameter by reference.  Any suggestions on articles I could stare at that would explain why reflection gets around this unwanted (by me) behavior?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1555014944, "post_id": 55622611, "comment_id": 97972116, "body": "@DougWilson <code>int value; \u2026 &#47;&#47; after some code value == 2</code> - how would you know if that 2 come from a property or expression or just literal constant? With reflection you are forced to do correct thing - &quot;set property with <i>this name</i> on <i>that object</i> to <i>the value</i>&quot; - storing the value in a variable loses both &quot;this name&quot; and &quot;that object&quot; parts..."}, {"owner": {"reputation": 1974, "user_id": 1155329, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/104256712e7a6d2f76fab1712157c98c?s=128&d=identicon&r=PG", "display_name": "MineR", "link": "https://stackoverflow.com/users/1155329/miner"}, "edited": false, "score": 0, "creation_date": 1555036518, "post_id": 55622611, "comment_id": 97977168, "body": "@DougWilson If you got a nullrefexception, it&#39;s because you need to initialize the Dictionary first."}, {"owner": {"reputation": 113, "user_id": 11342798, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cBeWfKjxAUI/AAAAAAAAAAI/AAAAAAAAABA/aKgNmCdnpXk/photo.jpg?sz=128", "display_name": "Doug Wilson", "link": "https://stackoverflow.com/users/11342798/doug-wilson"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1555085992, "post_id": 55622611, "comment_id": 98000380, "body": "Apologies, @AlexeiLevenkov, but I&#39;m not following your <code>int value; \u2026 &#47;&#47; after some code value == 2</code> scenario.  The way I&#39;m trying to set property values currently is by direct reference to each property to my &#39;DataMembers&#39; Dictionary.  This provides both the <i>property with this name</i> and <i>on this object</i> information needed to set the intended property&#39;s value.  As for how I would know the source of the value, in this particular context I can see it being set from the SqlDataReader&#39;s result set in <code>tempDataObj.DataMembers[key] = reader[key];</code>."}, {"owner": {"reputation": 113, "user_id": 11342798, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cBeWfKjxAUI/AAAAAAAAAAI/AAAAAAAAABA/aKgNmCdnpXk/photo.jpg?sz=128", "display_name": "Doug Wilson", "link": "https://stackoverflow.com/users/11342798/doug-wilson"}, "reply_to_user": {"reputation": 1974, "user_id": 1155329, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/104256712e7a6d2f76fab1712157c98c?s=128&d=identicon&r=PG", "display_name": "MineR", "link": "https://stackoverflow.com/users/1155329/miner"}, "edited": false, "score": 0, "creation_date": 1555086084, "post_id": 55622611, "comment_id": 98000431, "body": "Good point, @MineR.  I&#39;ll try moving the Dictionary initialization up in the constructor&#39;s &quot;batting order&quot;.  Thanks!"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1555093488, "post_id": 55622611, "comment_id": 98003689, "body": "@DougWilson I think I got completely confused on what you want - title, body, and code sample talks about somewhat different things (the way I read it) and mentioning of non-existent &quot;direct reference to each property&quot; in comments clearly makes my comments unrelated. Sorry about that, I&#39;m glad enough people actually figured out what you want."}, {"owner": {"reputation": 113, "user_id": 11342798, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cBeWfKjxAUI/AAAAAAAAAAI/AAAAAAAAABA/aKgNmCdnpXk/photo.jpg?sz=128", "display_name": "Doug Wilson", "link": "https://stackoverflow.com/users/11342798/doug-wilson"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1555103807, "post_id": 55622611, "comment_id": 98007531, "body": "@AlexeiLevenkov, I&#39;m so grateful that you took the time to read my question and to try to answer it.  You raised several issues that I&#39;m certain will help improve my understanding of how all this fits together.  My sincere thanks."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 11342798, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cBeWfKjxAUI/AAAAAAAAAAI/AAAAAAAAABA/aKgNmCdnpXk/photo.jpg?sz=128", "display_name": "Doug Wilson", "link": "https://stackoverflow.com/users/11342798/doug-wilson"}, "edited": false, "score": 0, "creation_date": 1555086295, "post_id": 55640907, "comment_id": 98000552, "body": "Thank you <b>very</b> much, @stickybit!  I&#39;ve been considering a custom indexer, and your helpful examples have really got my wheels turning.  Many, many thanks!"}], "tags": [], "owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "is_accepted": false, "score": 0, "last_activity_date": 1555015598, "creation_date": 1555015598, "answer_id": 55640907, "question_id": 55622611, "link": "https://stackoverflow.com/questions/55622611/why-cant-net-object-property-values-be-set-via-dictionary-keys-and-object-refe/55640907#55640907", "title": "Why Can&#39;t .NET Object Property Values Be Set Via Dictionary Keys and Object References?", "body": "<p>I see two (main) routes to do what you want. In both cases you should implement a custom indexer.</p>\n\n<ol>\n<li><p>In the indexer explicitly check the name given to it and get or set the field or property accordingly.</p></li>\n<li><p>Use reflection, i.e. <code>GetField()</code> or <code>GetProperty()</code>, to get the field or property and <code>GetValue()</code> or <code>SetValue()</code> to get or set the values.</p></li>\n</ol>\n\n<p>Below is a demonstration where <code>ExposeByExplicitIndexer0</code> and its descendants use way 1 and <code>ExposeByIndexerUsingReflection0</code> and its descendants use way 2.</p>\n\n<pre><code>public class ExposeByExplicitIndexer0\n{\n    public int Int0 = 1;\n    public string String0 = \"A\";\n\n    public virtual object this[string name]\n    {\n        get\n        {\n            switch (name)\n            {\n                case \"Int0\":\n                    return this.Int0;\n                case \"String0\":\n                    return this.String0;\n                default:\n                    throw new IndexOutOfRangeException();\n            }\n        }\n        set\n        {\n            switch (name)\n            {\n                case \"Int0\":\n                    this.Int0 = (int)value;\n                    break;\n                case \"String0\":\n                    this.String0 = (string)value;\n                    break;\n                default:\n                    throw new IndexOutOfRangeException();\n            }\n        }\n    }\n}\n\npublic class ExposeByExplicitIndexer1 : ExposeByExplicitIndexer0\n{\n    protected Guid _Guid1 = Guid.Empty;\n    public Guid Guid1\n    {\n        get\n        {\n            return this._Guid1;\n        }\n        set\n        {\n            this._Guid1 = value;\n        }\n    }\n\n    public override object this[string name]\n    {\n        get\n        {\n            switch (name)\n            {\n                case \"Guid1\":\n                    return this.Guid1;\n                default:\n                    return base[name];\n            }\n        }\n        set\n        {\n            switch (name)\n            {\n                case \"Guid1\":\n                    this.Guid1 = (Guid)value;\n                    break;\n                default:\n                    base[name] = value;\n                    break;\n            }\n        }\n    }\n}\n\npublic class ExposeByIndexerUsingReflection0\n{\n    public object this[string name]\n    {\n        get\n        {\n            FieldInfo fieldInfo;\n            if ((fieldInfo = this.GetType().GetField(name)) != null)\n            {\n                return fieldInfo.GetValue(this);\n            }\n            PropertyInfo propertyInfo;\n            if ((propertyInfo = this.GetType().GetProperty(name)) != null)\n            {\n                return propertyInfo.GetValue(this);\n            }\n            throw new IndexOutOfRangeException();\n        }\n        set\n        {\n            FieldInfo fieldInfo;\n            if ((fieldInfo = this.GetType().GetField(name)) != null)\n            {\n                fieldInfo.SetValue(this, value);\n                return;\n            }\n            PropertyInfo propertyInfo;\n            if ((propertyInfo = this.GetType().GetProperty(name)) != null)\n            {\n                propertyInfo.SetValue(this, value);\n                return;\n            }\n            throw new IndexOutOfRangeException();\n        }\n    }\n}\n\npublic class ExposeByIndexerUsingReflection1 : ExposeByIndexerUsingReflection0\n{\n    public int Int1 = 1;\n    public string String1 = \"A\";\n}\n\npublic class ExposeByIndexerUsingReflection2 : ExposeByIndexerUsingReflection1\n{\n    protected Guid _Guid2 = Guid.Empty;\n    public Guid Guid2\n    {\n        get\n        {\n            return this._Guid2;\n        }\n        set\n        {\n            this._Guid2 = value;\n        }\n    }\n}\n\npublic class Program\n{\n    static void Main(string[] args)\n    {\n        Guid newGuid = Guid.NewGuid();\n\n        Console.WriteLine(\"Expose by explicit indexer:\");\n        ExposeByExplicitIndexer1 exposeByExplicitIndexer1 = new ExposeByExplicitIndexer1();\n        exposeByExplicitIndexer1[\"Int0\"] = 10;\n        exposeByExplicitIndexer1[\"String0\"] = \"AAA\";\n        exposeByExplicitIndexer1[\"Guid1\"] = newGuid;\n        Console.WriteLine(\"output via indexer:\");\n        Console.WriteLine(exposeByExplicitIndexer1[\"Int0\"]);\n        Console.WriteLine(exposeByExplicitIndexer1[\"String0\"]);\n        Console.WriteLine(exposeByExplicitIndexer1[\"Guid1\"]);\n        Console.WriteLine(\"output via fields or properties:\");\n        Console.WriteLine(exposeByExplicitIndexer1.Int0);\n        Console.WriteLine(exposeByExplicitIndexer1.String0);\n        Console.WriteLine(exposeByExplicitIndexer1.Guid1);\n\n        Console.WriteLine(\"Expose by indexer using reflection:\");\n        ExposeByIndexerUsingReflection2 exposeByIndexerUsingReflection2 = new ExposeByIndexerUsingReflection2();\n        exposeByIndexerUsingReflection2[\"Int1\"] = 10;\n        exposeByIndexerUsingReflection2[\"String1\"] = \"AAA\";\n        exposeByIndexerUsingReflection2[\"Guid2\"] = newGuid;\n        Console.WriteLine(\"output via indexer:\");\n        Console.WriteLine(exposeByIndexerUsingReflection2[\"Int1\"]);\n        Console.WriteLine(exposeByIndexerUsingReflection2[\"String1\"]);\n        Console.WriteLine(exposeByIndexerUsingReflection2[\"Guid2\"]);\n        Console.WriteLine(\"output via fields or properties:\");\n        Console.WriteLine(exposeByIndexerUsingReflection2.Int1);\n        Console.WriteLine(exposeByIndexerUsingReflection2.String1);\n        Console.WriteLine(exposeByIndexerUsingReflection2.Guid2);\n\n        Console.Read();\n    }\n}\n</code></pre>\n\n<p>In way 1 every descendant that adds new fields or properties has to extend the indexer. That's more work in general but also offers an easy way of flexibility i.e. for adding some casts or expose some field or property via an alias, etc.</p>\n\n<p>Way 2 needs less effort in the descendants. But being as flexible as in way 1 may become more difficult in turn. Maybe some mixed solution is also possible overriding the indexer in some descendant to inject special logic.</p>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 11342798, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cBeWfKjxAUI/AAAAAAAAAAI/AAAAAAAAABA/aKgNmCdnpXk/photo.jpg?sz=128", "display_name": "Doug Wilson", "link": "https://stackoverflow.com/users/11342798/doug-wilson"}, "edited": false, "score": 0, "creation_date": 1555086810, "post_id": 55643807, "comment_id": 98000813, "body": "Oh, man!  @MineR, you are sneaking up on answer to my &quot;Why Can&#39;t .NET Object Property Values Be Set Via Dictionary Keys and Object References?&quot; question.  I love your idea/suggestion, and I am ever so grateful for the code example.  Thank you!  I still can&#39;t quite get my head around Alexei&#39;s explanation of &quot;why&quot;, but I&#39;m going to mark your pragmatic suggestion as my accepted answer and wait for enlightenment to strike on why the way I&#39;ve been trying to do it results in two copies of the data rather than one with references in the Dictionary as I think it &quot;should&quot; work.  Thanks again!"}, {"owner": {"reputation": 113, "user_id": 11342798, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cBeWfKjxAUI/AAAAAAAAAAI/AAAAAAAAABA/aKgNmCdnpXk/photo.jpg?sz=128", "display_name": "Doug Wilson", "link": "https://stackoverflow.com/users/11342798/doug-wilson"}, "edited": false, "score": 0, "creation_date": 1555103882, "post_id": 55643807, "comment_id": 98007549, "body": "I&#39;ve refactored a couple of data object classes, and your suggested answer seems to be working great.  Thanks so much, @MineR!"}], "tags": [], "owner": {"reputation": 1974, "user_id": 1155329, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/104256712e7a6d2f76fab1712157c98c?s=128&d=identicon&r=PG", "display_name": "MineR", "link": "https://stackoverflow.com/users/1155329/miner"}, "is_accepted": true, "score": 0, "last_activity_date": 1555037532, "creation_date": 1555037532, "answer_id": 55643807, "question_id": 55622611, "link": "https://stackoverflow.com/questions/55622611/why-cant-net-object-property-values-be-set-via-dictionary-keys-and-object-refe/55643807#55643807", "title": "Why Can&#39;t .NET Object Property Values Be Set Via Dictionary Keys and Object References?", "body": "<p>You're storing the data twice - once in a Dictionary, and a second time in a field. There's no need to store it twice. Just do this:</p>\n\n<pre><code>[DataContract]\npublic class DataObj\n{\n    [Required]\n    [DataMember(Name = \"dataObjectId\")]\n    public Int64 DataObjectId\n    {\n        get =&gt; (long)DataMembers[nameof(DataObjectId)];\n        set =&gt; DataMembers[nameof(DataObjectId)] = value;\n    }\n\n    [Required]\n    [DataMember(Name = \"guid\")]\n    public Guid Guid\n    {\n        get =&gt; (Guid)DataMembers[nameof(Guid)];\n        set =&gt; DataMembers[nameof(Guid)] = value;\n    }\n\n    public Dictionary&lt;string, object&gt; DataMembers { get; } = new Dictionary&lt;string, object&gt;(StringComparer.OrdinalIgnoreCase);\n\n    public DataObj(Int64 dataObjectId, Guid guid)\n    {\n        DataObjectId = dataObjectId;\n        Guid = guid;\n    }\n\n    public Dictionary&lt;string, object&gt;.Enumerator Enumerator()\n    {\n        return DataMembers.GetEnumerator();\n    }\n}\n</code></pre>\n\n<p>FYI, you can also look at using an ExpandoObject, which lets you access something in a way that looks like a class, but is really just a Dictionary.  <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.dynamic.expandoobject?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.dynamic.expandoobject?view=netframework-4.7.2</a></p>\n\n<p><sub>I have never used an ExpandoObject and I think the whole idea is as perverse as VBA's default of <code>option explicit</code> being off and <code>On Error Resume Next</code>. On the other hand, I don't deal with databases much.</sub></p>\n"}], "owner": {"reputation": 113, "user_id": 11342798, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cBeWfKjxAUI/AAAAAAAAAAI/AAAAAAAAABA/aKgNmCdnpXk/photo.jpg?sz=128", "display_name": "Doug Wilson", "link": "https://stackoverflow.com/users/11342798/doug-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 55643807, "answer_count": 2, "score": 0, "last_activity_date": 1555037532, "creation_date": 1554938651, "last_edit_date": 1555000206, "question_id": 55622611, "link": "https://stackoverflow.com/questions/55622611/why-cant-net-object-property-values-be-set-via-dictionary-keys-and-object-refe", "title": "Why Can&#39;t .NET Object Property Values Be Set Via Dictionary Keys and Object References?", "body": "<p>I've created a data class that I plan to use to send data to be persisted in the database and to return data from the database in a strongly typed way.  In addition to its properties, the class contains a Dictionary that I populate in the constructor with the name of and reference to each property.  This makes the properties enumerable and enables me to iterate through them using 'foreach'.</p>\n\n<p>This works great when setting property values and sending the object to be persisted in the database.  I can iterate through the Dictionary keys, get the value of each property, and add a SqlParameter for each property using the key as the parameter name and the property value as the parameter value.</p>\n\n<p>However, going the other way doesn't work.  I can iterate through the Dictionary keys and get the value of each column in each row of the SqlDataReader, but when I try to assign these values to my data object using the Dictionary's reference to the corresponding object property, a curious thing occurs.  The assignments succeed, BUT the data object properties all retain their initial, default values.  I can view the data object properties and see these initial, default values.  I can also view the Dictionary entry values and see the updated values that were read and assigned from the SqlDataReader.</p>\n\n<p>This makes no sense.  The Dictionary is supposed to provide access to each property (the 'object' generic type) via its key (the 'string' generic type), but its acting like its maintaining a separate copy of each Dictionary 'KeyValuePair'.</p>\n\n<p>What gives?</p>\n\n<p>I'm doing all this in C# in the context of an ASP.NET Core 2.1.1 project running on macOS 10.13.6 High Sierra.</p>\n\n<p>I've searched StackOverflow extensively, and I see lots of recommendations for using reflection to do this type of thing.  I'll refactor my code to use reflection if necessary, but I'd really like to understand where and how my mental model for what's happening is off.</p>\n\n<p>An explanation of what's happening and why would be MOST appreciated.</p>\n\n<p>Example Data Class with Property Dictionary</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\nusing System.Collections.Generic;\nusing System.Text;\nusing System.Reflection;\nusing System.ComponentModel;\nusing System.ComponentModel.DataAnnotations;\nusing System.Runtime.Serialization;\nusing Newtonsoft.Json;\n\nnamespace MyOrg.MyProj.Data\n{\n    [DataContract]\n    public class DataObj\n    {\n        #region Attributes\n\n        [Required]\n        [DataMember(Name = \"dataObjectId\")]\n        public Int64 DataObjectId { get; set; }\n\n        [Required]\n        [DataMember(Name = \"guid\")]\n        public Guid Guid { get; set; }\n\n        public virtual Dictionary&lt;string, object&gt; DataMembers { get; set; }     //NOTE: Implements the IEnumerable interface in order to support 'foreach' operations, etc on 'DataObj' class attributes\n\n        #endregion Attributes\n\n        #region Constructors\n\n        public DataObj(Int64 dataObjectId, Guid guid)\n        {\n            try\n            {\n                DataObjectId = dataObjectId;\n                Guid = guid;\n\n                DataMembers = new Dictionary&lt;string, object&gt;\n                {\n                    { \"DataObjectId\", DataObjectId },\n                    { \"Guid\", Guid }\n                };\n            }\n            catch (Exception e)\n            {\n                Console.WriteLine($\"RUNTIME EXCEPTION while INSTANTIATEing DataObj, \" + e.Message + \", \" + e.StackTrace);\n            }\n        }\n\n        #endregion Constructors\n\n        #region Methods\n\n        /// &lt;summary&gt;\n        /// Implements the IEnumerable interface in order to support 'foreach' operations, etc on 'DataObj' class attributes\n        /// &lt;/summary&gt;\n        /// &lt;returns&gt;Enumerator&lt;/returns&gt;\n        public Dictionary&lt;string, object&gt;.Enumerator Enumerator()\n        {\n            return DataMembers.GetEnumerator();     //NOTE: Return the Dictionary object's IEnumerator rather than implementing IEnumerable for the 'DataObj' class itself\n        }\n\n        #endregion Methods\n</code></pre>\n\n<p>Example Data Access Class (excerpt)</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>                reader = command.ExecuteReader();\n\n                dataObjList = new List&lt;DataObj&gt;();\n\n                if (reader.HasRows)\n                {\n                    while (reader.Read())\n                    {\n                        tempDataObj = new DataObj(-1, new Guid(\"00000000-0000-0000-0000-000000000000\"));\n\n                        keys = new List&lt;String&gt;(tempDataObj.DataMembers.Keys);       //NOTE: Can't modify a Dictionary while iterating through it.  See the 'Why This Error?' section of https://stackoverflow.com/questions/604831/collection-was-modified-enumeration-operation-may-not-execute\n\n                        foreach (String key in keys)\n                        {\n                            tempDataObj.DataMembers[key] = reader[key];\n                        }\n\n                        dataObjList.Add(tempDataObj);\n\n</code></pre>\n\n<p>For 'key' = 'DataObjectId', 'Guid', etc, I expect the value of tempDataObj.DataObjectId, tempDataObj.Guid, etc to be set to the value returned from the database in 'reader[key]'.</p>\n\n<p>Instead, it retains its initial, default value as set in the constructor, i.e. '-1'.  This is true for <strong>both</strong> value and reference data types.</p>\n\n<p>However, when I inspect tempDataObj.DataMembers[\"DataObjectId\"], it has been set to the value returned from the database in 'reader[key]'.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PGAXl.png\" rel=\"nofollow noreferrer\">Inspecting the Object Property and Dictionary Values</a></p>\n\n<p>tempDataObj.DataMembers[\"DataObjectId\"] should be referencing the tempDataObj.DataObjectId property, etc, but the Dictionary appears to be maintaining its own value rather than providing an object reference to the 'DataObjectId' property.</p>\n\n<p>What's going on here?  Thank you!</p>\n"}, {"tags": ["c#", "botframework"], "answers": [{"comments": [{"owner": {"reputation": 773, "user_id": 2609743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bf014e976d4318c634d01834969ac999?s=128&d=identicon&r=PG", "display_name": "hkhan", "link": "https://stackoverflow.com/users/2609743/hkhan"}, "edited": false, "score": 0, "creation_date": 1555004314, "post_id": 55636561, "comment_id": 97967659, "body": "I will look into the link and make the changes to see if it works."}], "tags": [], "owner": {"reputation": 273, "user_id": 6520054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a88e538e0629671d1c5bdac55888cf9?s=128&d=identicon&r=PG&f=1", "display_name": "B. Lec", "link": "https://stackoverflow.com/users/6520054/b-lec"}, "is_accepted": false, "score": 1, "last_activity_date": 1554997889, "creation_date": 1554997889, "answer_id": 55636561, "question_id": 55622571, "link": "https://stackoverflow.com/questions/55622571/how-to-hit-luis-intent-with-adaptive-cards-in-microsoft-chatbot-net-core-2-0/55636561#55636561", "title": "How to hit Luis Intent with Adaptive Cards in Microsoft Chatbot .Net Core 2.0", "body": "<p>Your buttons are actually showing cards instead of posting data to bot, so there is no message sent tho the controller</p>\n\n<p>Looking at <a href=\"https://docs.microsoft.com/en-us/adaptive-cards/authoring-cards/card-schema#schema-action.submit\" rel=\"nofollow noreferrer\">the doc</a> </p>\n\n<p>I think the button type should be <code>Action.Submit</code> instead of <code>Action.ShowCard</code></p>\n"}, {"comments": [{"owner": {"reputation": 773, "user_id": 2609743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bf014e976d4318c634d01834969ac999?s=128&d=identicon&r=PG", "display_name": "hkhan", "link": "https://stackoverflow.com/users/2609743/hkhan"}, "edited": false, "score": 0, "creation_date": 1555029637, "post_id": 55639861, "comment_id": 97975959, "body": "I only needed to change the JSON for this to work. Can you tell me what your code above does and why is it useful?"}, {"owner": {"reputation": 6627, "user_id": 12248433, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i6pUDQ6UiYA/AAAAAAAAAAI/AAAAAAAB9Vo/HeFe6tNR68A/photo.jpg?sz=128", "display_name": "mdrichardson", "link": "https://stackoverflow.com/users/12248433/mdrichardson"}, "reply_to_user": {"reputation": 773, "user_id": 2609743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bf014e976d4318c634d01834969ac999?s=128&d=identicon&r=PG", "display_name": "hkhan", "link": "https://stackoverflow.com/users/2609743/hkhan"}, "edited": false, "score": 1, "creation_date": 1555082725, "post_id": 55639861, "comment_id": 97998584, "body": "I just edited it out. The reason it was there is because if you have an Adaptive Card with an Input box, when the user submits it, the data is stored on <code>Context.Activity.Value</code> instead of the normal <code>Context.Activity.Text</code> so the code was meant to help capture it. I forgot that button presses (like your card) still go to <code>Context.Activity.Text</code>. If you look at my link, you can see what I mean and how to do it, still."}, {"owner": {"reputation": 773, "user_id": 2609743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bf014e976d4318c634d01834969ac999?s=128&d=identicon&r=PG", "display_name": "hkhan", "link": "https://stackoverflow.com/users/2609743/hkhan"}, "edited": false, "score": 0, "creation_date": 1555089070, "post_id": 55639861, "comment_id": 98001867, "body": "I saw your link and it does make sense to me. Thank you!"}], "tags": [], "owner": {"reputation": 6627, "user_id": 12248433, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i6pUDQ6UiYA/AAAAAAAAAAI/AAAAAAAB9Vo/HeFe6tNR68A/photo.jpg?sz=128", "display_name": "mdrichardson", "link": "https://stackoverflow.com/users/12248433/mdrichardson"}, "is_accepted": true, "score": 1, "last_activity_date": 1555082602, "last_edit_date": 1555082602, "creation_date": 1555010918, "answer_id": 55639861, "question_id": 55622571, "link": "https://stackoverflow.com/questions/55622571/how-to-hit-luis-intent-with-adaptive-cards-in-microsoft-chatbot-net-core-2-0/55639861#55639861", "title": "How to hit Luis Intent with Adaptive Cards in Microsoft Chatbot .Net Core 2.0", "body": "<p>@B. Lec is correct. You need to use something like:</p>\n\n<pre><code>\"type\": \"Action.Submit\",\n    \"title\": \"How quickly can we close?\",\n    \"data\": {\n    \"intent\": \"CloseCase\"\n     }\n</code></pre>\n\n<p>Note: There's really no point in sending \"How quickly can we close?\" to LUIS. You already know that this should map to the \"CloseCase\" intent. </p>\n\n<p>I have <a href=\"https://stackoverflow.com/a/55066910/10860086\">an answer to a similar SO question</a>, if you need additional context/help.</p>\n"}], "owner": {"reputation": 773, "user_id": 2609743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bf014e976d4318c634d01834969ac999?s=128&d=identicon&r=PG", "display_name": "hkhan", "link": "https://stackoverflow.com/users/2609743/hkhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 1, "accepted_answer_id": 55639861, "answer_count": 2, "score": 2, "last_activity_date": 1555082602, "creation_date": 1554938297, "last_edit_date": 1554977790, "question_id": 55622571, "link": "https://stackoverflow.com/questions/55622571/how-to-hit-luis-intent-with-adaptive-cards-in-microsoft-chatbot-net-core-2-0", "title": "How to hit Luis Intent with Adaptive Cards in Microsoft Chatbot .Net Core 2.0", "body": "<p>I have some intents set up in LUIS which work perfectly when the bot is asked a question. I want to convert some of these Q&amp;A to an adaptive card. Currently I am able to achieve something like this:\n<a href=\"https://i.stack.imgur.com/KszJl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KszJl.png\" alt=\"\"></a></p>\n\n<p>If i click on any of the questions below the reply shows up within the card rather than as a reply from the bot. </p>\n\n<p>This is my JSON (only the relevant part):</p>\n\n<pre><code>  \"actions\": [\n{\n  \"type\": \"Action.Submit\",\n  \"title\": \"About \",\n  \"data\": {\n    \"action\": \"about\"\n  }\n},\n{\n  \"type\": \"Action.ShowCard\",\n  \"title\": \"FAQs\",\n  \"card\": {\n    \"type\": \"AdaptiveCard\",\n    \"style\": \"emphasis\",\n    \"actions\": [\n      {\n        \"type\": \"Action.ShowCard\",\n        \"title\": \"When are you open?\",\n        \"card\": {\n          \"type\": \"AdaptiveCard\",\n          \"style\": \"emphasis\",\n          \"body\": [\n            {\n              \"type\": \"TextBlock\",\n              \"text\": \"We are open from Monday through Friday from 8:00am to 6:00pm.\",\n              \"wrap\": true\n            }\n          ],\n          \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\"\n        }\n      },\n      {\n        \"type\": \"Action.ShowCard\",\n        \"title\": \"Do you have an office near me? \",\n        \"card\": {\n          \"type\": \"AdaptiveCard\",\n          \"style\": \"emphasis\",\n          \"body\": [\n            {\n              \"type\": \"Image\",\n              \"horizontalAlignment\": \"Center\",\n              \"url\": \"https://i.imgur.com/gBVgI25.png\",\n              \"size\": \"Stretch\"\n            },\n            {\n              \"type\": \"TextBlock\",\n              \"text\": \"AZ, CA, CO, FL, GA, HI, NC, NV, OR, SC, TN, TX, UT, VA &amp; WA\",\n              \"wrap\": true\n            }\n          ],\n          \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\"\n        }\n      },\n      {\n        \"type\": \"Action.ShowCard\",\n        \"title\": \"How quickly can we close? \",\n        \"card\": {\n          \"type\": \"AdaptiveCard\",\n          \"style\": \"emphasis\",\n          \"body\": [\n            {\n              \"type\": \"TextBlock\",\n              \"text\": \"8 to 10 days, it all depends on how it takes to get access to the property.\",\n              \"wrap\": true\n            }\n          ],\n          \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\"\n        }\n      }\n    ],\n    \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\"\n  }\n}\n</code></pre>\n\n<p>]</p>\n\n<p>And this is my Code:</p>\n\n<pre><code> protected async Task&lt;DialogTurnResult&gt; BeginChildDialogAsync(DialogContext dc, OnTurnProperty onTurnProperty)\n    {\n        var activity = dc.Context.Activity;\n        var actionValue = onTurnProperty.Intent;\n        switch (onTurnProperty.Intent)\n        {\n\n            case \"Greeting\":\n                await dc.Context.SendActivityAsync(\"Hello there!\");\n                return new DialogTurnResult(DialogTurnStatus.Empty);\n                break;\n            case \"LendingStates\":\n                await dc.Context.SendActivityAsync(\"AZ, CA, CO, FL, GA, HI, NC, NV, OR, SC, TN, TX, UT, VA &amp; WA\");\n                return new DialogTurnResult(DialogTurnStatus.Empty);\n                break;\n            case \"CloseCase\":\n                await dc.Context.SendActivityAsync(\"8 to 10 days, it all depends on how long it takes to get access to the property.\");\n                return new DialogTurnResult(DialogTurnStatus.Empty);\n                break;\n\n            case MenuDialog.Name:\n                // todo: need to implement this one\n                return await dc.BeginDialogAsync(MenuDialog.Name);\n\n                break;\n\n\n            break;\n\n\n            default:\n                await dc.Context.SendActivityAsync($\"I don't know how to handle the action \\\"{actionValue}\\\"\");\n                return new DialogTurnResult(DialogTurnStatus.Empty);\n        }\n        return new DialogTurnResult(DialogTurnStatus.Empty);\n\n    }\n</code></pre>\n\n<p>At this point I am not sure how to change my JSON or code so that if a user clicks on an option on the adaptive card it hits the right Case in my code. If I don't use the card and ask the bot \"When are you open?\" directly, i get the correct reply. </p>\n"}, {"tags": ["c#", "unity3d", "euler-angles"], "comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1554953150, "post_id": 55622513, "comment_id": 97940948, "body": "If the problem is with the maths the question would be more suitable for <a href=\"https://math.stackexchange.com\">math.stackexchange.com</a>  however it is hard to tell because you didn&#39;t show how you use the optained values later to set the rotation etc."}, {"owner": {"reputation": 6870, "user_id": 6196568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cHprk.png?s=128&g=1", "display_name": "shingo", "link": "https://stackoverflow.com/users/6196568/shingo"}, "edited": false, "score": 0, "creation_date": 1554953924, "post_id": 55622513, "comment_id": 97941120, "body": "Maybe you need <a href=\"https://docs.unity3d.com/ScriptReference/Transform.LookAt.html\" rel=\"nofollow noreferrer\">LookAt</a>"}, {"owner": {"reputation": 1578, "user_id": 342842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a98efa40198faaa312c6465b969f1fae?s=128&d=identicon&r=PG", "display_name": "Immersive", "link": "https://stackoverflow.com/users/342842/immersive"}, "edited": false, "score": 0, "creation_date": 1554966232, "post_id": 55622513, "comment_id": 97944974, "body": "I see you&#39;re asking for math help, but I&#39;d suggest that perhaps this is more of a logic problem.  What are you actually trying to achieve, just pointing Object A at Object B?"}, {"owner": {"reputation": 1578, "user_id": 342842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a98efa40198faaa312c6465b969f1fae?s=128&d=identicon&r=PG", "display_name": "Immersive", "link": "https://stackoverflow.com/users/342842/immersive"}, "edited": false, "score": 0, "creation_date": 1554966285, "post_id": 55622513, "comment_id": 97945007, "body": "Also for mnemonic reference, Unity uses left-hand axes and right-hand rotations."}], "owner": {"reputation": 55, "user_id": 5937741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac09ed9993ec798034971aa906d390c9?s=128&d=identicon&r=PG&f=1", "display_name": "harry", "link": "https://stackoverflow.com/users/5937741/harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554948962, "creation_date": 1554937828, "last_edit_date": 1554948962, "question_id": 55622513, "link": "https://stackoverflow.com/questions/55622513/attempting-to-find-pitch-and-yaw-to-turn-to-an-object-in-3d-space", "title": "Attempting to find pitch and yaw to turn to an object in 3d space", "body": "<p>I have two 3d vectors containing position data for two objects within my game. One of the objects needs to turn its camera directly to the other based on the current positions (the setting of the pitch/yaw are absolute so realistically I can ignore those two variables). What I need help with is the math, honestly I just can't find anything about doing this properly.</p>\n\n<pre><code>//An example in pseudocode\n//(x, y, z)\nVector3 mychar = new Vector3(100, 100, 100);\nVector3 explosion = new Vector3(555, 1000, 300);\n\n//(pitch, yaw)\nVector2 myRotation = new Vector2(0, 0); //Can assume this is always the case because the setting of rotation is absolute rather than relative\nVector2 expRotation = new Vector2(35, 14);\n\n//The math I cant seem to figure out would be in this function\nVector2 newRotationj = GetRotationBetween(myRotation, mychar, explosion);\n\n</code></pre>\n\n<p>Here's what I have so far but I'm getting problems with the Y rotations (its the \"up\" direction and the horizon is at 0 degrees) Randomly my character will look in the mirrored direction in y (IE if the object is -20 below horizon it does +20) however it's only sometimes and I dont see where my math is wrong.</p>\n\n<pre><code>float dx = posIt.x - posMe.x;\nfloat dy = posIt.y - posMe.y;\nfloat dz = posIt.z - posMe.z;\nyaw = Convert.ToSingle(Math.Atan(dx / dz) * 180 / Math.PI);\npitch = Convert.ToSingle(Math.Atan(dy / dz) * 180 / Math.PI);\n</code></pre>\n"}, {"tags": ["c#", "asynchronous", "parallel-processing", "parallel.foreach", "polly"], "comments": [{"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1554943580, "post_id": 55622225, "comment_id": 97939166, "body": "Your question is off-topic here for a couple of possible reasons. (1) it appears to be a code review style question. (2) If it is about faulty code, then you should be describing what you want to happen, what code you have, and what&#39;s going wrong with the a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so that we can run the code ourselves."}, {"owner": {"reputation": 21, "user_id": 6906983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4edcde9242808765f9dd4ff73fddd3ea?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Allbritten", "link": "https://stackoverflow.com/users/6906983/jonathan-allbritten"}, "reply_to_user": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1554945994, "post_id": 55622225, "comment_id": 97939637, "body": "@enigmativity - it is more a code style question rather than faulty code. Just wanted others input/clarification on the topic and this was the first place to come to mind."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1554946339, "post_id": 55622225, "comment_id": 97939694, "body": "Then it&#39;s off-topic as it is a code review style question. Perhaps try it on <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6906983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4edcde9242808765f9dd4ff73fddd3ea?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Allbritten", "link": "https://stackoverflow.com/users/6906983/jonathan-allbritten"}, "edited": false, "score": 0, "creation_date": 1554956629, "post_id": 55624513, "comment_id": 97941646, "body": "if the goal is to ensure each task is done in parallel, isn&#39;t it better to use Task.Run, since ConfigureAwait(false) doesn&#39;t always guarantee running in a threadpool thread?"}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "reply_to_user": {"reputation": 21, "user_id": 6906983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4edcde9242808765f9dd4ff73fddd3ea?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Allbritten", "link": "https://stackoverflow.com/users/6906983/jonathan-allbritten"}, "edited": false, "score": 1, "creation_date": 1554957515, "post_id": 55624513, "comment_id": 97941836, "body": "<code>ConfigureAwait(true)</code>, the default, just restores the context after the awaiting. It doesn&#39;t create new threads. In you case I assume that you&#39;ll create a task to do the real job inside the <code>DoSomethingAsync</code>. By awaiting for this task with <code>ConfigureAwait(false)</code> you can avoid the context restoration that is probably not needed there, because you are not updating the UI that deep in the procedure."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "reply_to_user": {"reputation": 21, "user_id": 6906983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4edcde9242808765f9dd4ff73fddd3ea?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Allbritten", "link": "https://stackoverflow.com/users/6906983/jonathan-allbritten"}, "edited": false, "score": 0, "creation_date": 1554958390, "post_id": 55624513, "comment_id": 97942036, "body": "I updated my answer with a more realistic example of <code>DoSomethingAsync</code>."}], "tags": [], "owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "is_accepted": false, "score": 2, "last_activity_date": 1554958296, "last_edit_date": 1554958296, "creation_date": 1554955401, "answer_id": 55624513, "question_id": 55622225, "link": "https://stackoverflow.com/questions/55622225/clarification-on-running-multiple-async-tasks-in-parallel-with-throttling/55624513#55624513", "title": "Clarification on running multiple async tasks in parallel with throttling", "body": "<p>You are probably right that using <code>Parallel.ForEach</code> defeats the purpose of the bulkhead. I think that a simple loop with a delay will do the job of feeding the bulkhead with tasks. Although I guess that in a real life example there would be a continuous stream of data, and not a predefined list or array.</p>\n\n<pre><code>using Polly;\nusing Polly.Bulkhead;\n\nstatic async Task Main(string[] args)\n{\n    var groupedObjects = Enumerable.Range(0, 10).Select(n =&gt; new object[] { n }); // Create 10 sets to work with\n    var bulkheadPolicy = Policy.BulkheadAsync(3, 3); // maxParallelization, maxQueuingActions\n    var parallelTasks = new List&lt;Task&gt;();\n    foreach (var set in groupedObjects)\n    {\n        Console.WriteLine($\"Scheduling, Available: {bulkheadPolicy.BulkheadAvailableCount}, QueueAvailable: {bulkheadPolicy.QueueAvailableCount}\");\n        var task = bulkheadPolicy.ExecuteAsync(async () =&gt; // Schedule the task and return immediately\n        {\n            await DoSomethingAsync(set).ConfigureAwait(false); // Await the task in another thread without capturing the context\n        });\n        parallelTasks.Add(task);\n        await Task.Delay(50); // Interval between scheduling more tasks\n    }\n\n    var whenAllTasks = Task.WhenAll(parallelTasks);\n    try\n    {\n        await whenAllTasks; // Await all the tasks (await throws only one of the exceptions)\n    }\n    catch\n    {\n        whenAllTasks.Exception.Handle(ex =&gt; ex is BulkheadRejectedException); // Ignore rejections, rethrow other exceptions\n    }\n    Console.WriteLine($\"Processed: {parallelTasks.Where(t =&gt; t.Status == TaskStatus.RanToCompletion).Count()}\");\n    Console.WriteLine($\"Faulted: {parallelTasks.Where(t =&gt; t.IsFaulted).Count()}\");\n}\n\nstatic async Task DoSomethingAsync(IEnumerable&lt;object&gt; set)\n{\n    await Task.Delay(500).ConfigureAwait(false); // Pretend we are doing something with the set\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Scheduling, Available: 3, QueueAvailable: 3\nScheduling, Available: 2, QueueAvailable: 3\nScheduling, Available: 1, QueueAvailable: 3\nScheduling, Available: 0, QueueAvailable: 3\nScheduling, Available: 0, QueueAvailable: 2\nScheduling, Available: 0, QueueAvailable: 1\nScheduling, Available: 0, QueueAvailable: 0\nScheduling, Available: 0, QueueAvailable: 0\nScheduling, Available: 0, QueueAvailable: 0\nScheduling, Available: 0, QueueAvailable: 1\nProcessed: 7\nFaulted: 3\n</code></pre>\n\n<hr>\n\n<p><strong>Update:</strong> A slightly more realistic version of <code>DoSomethingAsync</code>, that actually forces the CPU to do some real work (CPU utilization near 100% in my quad core machine).</p>\n\n<pre><code>private static async Task DoSomethingAsync(IEnumerable&lt;object&gt; objects)\n{\n    await Task.Run(() =&gt;\n    {\n        long sum = 0; for (int i = 0; i &lt; 500000000; i++) sum += i;\n    }).ConfigureAwait(false);\n}\n</code></pre>\n\n<p>This method is not running for all the data sets. It's running only for the sets that are not rejected by the bulkhead.</p>\n"}], "owner": {"reputation": 21, "user_id": 6906983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4edcde9242808765f9dd4ff73fddd3ea?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Allbritten", "link": "https://stackoverflow.com/users/6906983/jonathan-allbritten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1236, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1554958296, "creation_date": 1554935838, "last_edit_date": 1554938096, "question_id": 55622225, "link": "https://stackoverflow.com/questions/55622225/clarification-on-running-multiple-async-tasks-in-parallel-with-throttling", "title": "Clarification on running multiple async tasks in parallel with throttling", "body": "<p>EDIT: Since the Bulkhead policy needs to be wrapped with a WaitAndRetry policy, anyway...I'm leaning towards example 3 as the best solution to keep parallelism, throttling, and polly policy retrying. Just seems strange since I thought the Parallel.ForEach was for sync operations and Bulkhead would be better for async</p>\n\n<p>I'm trying to run multiple async Tasks in parallel with throttling using polly AsyncBulkheadPolicy. My understanding so far is that the policy method ExecuteAsync does not itself make a call onto a thread, but is leaving that to the default TaskScheduler or someone before it. Thus, if my tasks are CPU bound in some way then I need to use Parallel.ForEach when executing tasks or Task.Run() with the ExecuteAsync method in order to schedule the tasks to background threads.</p>\n\n<p>Can someone look at the examples below and clarify how they would work in terms of parallism and threadpooling?</p>\n\n<p><a href=\"https://github.com/App-vNext/Polly/wiki/Bulkhead\" rel=\"nofollow noreferrer\">https://github.com/App-vNext/Polly/wiki/Bulkhead</a> - Operation: Bulkhead policy does not create it's own threads, it assumes we have already done so.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>async Task DoSomething(IEnumerable&lt;object&gt; objects);\n\n//Example 1:\n//Simple use, but then I don't have access to retry policies from polly\nParallel.ForEach(groupedObjects, (set) =&gt;\n{\n    var task = DoSomething(set);\n    task.Wait();\n});\n\n//Example 2:\n//Uses default TaskScheduler which may or may not run the tasks in parallel\nvar parallelTasks = new List&lt;Task&gt;();\nforeach (var set in groupedObjects)\n{\n    var task = bulkheadPolicy.ExecuteAsync(async () =&gt; DoSomething(set));\n    parallelTasks.Add(task);\n};\n\nawait Task.WhenAll(parallelTasks);\n\n//Example 3:\n//seems to defeat the purpose of the bulkhead since Parallel.ForEach and\n//PolicyBulkheadAsync can both do throttling...just use basic RetryPolicy\n//here? \nParallel.ForEach(groupedObjects, (set) =&gt;\n{\n    var task = bulkheadPolicy.ExecuteAsync(async () =&gt; DoSomething(set));\n    task.Wait();\n});\n\n\n//Example 4:\n//Task.Run still uses the default Task scheduler and isn't any different than\n//Example 2; just makes more tasks...this is my understanding.\nvar parallelTasks = new List&lt;Task&gt;();\nforeach (var set in groupedObjects)\n{\n    var task = Task.Run(async () =&gt; await bulkheadPolicy.ExecuteAsync(async () =&gt; DoSomething(set)));\n    parallelTasks.Add(task);\n};\n\nawait Task.WhenAll(parallelTasks);\n</code></pre>\n\n<p>DoSomething is an async method doing operations on a set of objects. I'd like this to happen in parallel threads while respecting retry policies from polly and allowing for throttling.</p>\n\n<p>I seem to have confused myself along the way in what exactly the functional behavior of Parallel.ForEach and using Bulkhead.ExecuteAsync does, however, when it comes to how tasks/threads are handled.</p>\n"}, {"tags": ["c#", "entity-framework-core"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1554937870, "post_id": 55622207, "comment_id": 97937969, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/34116653/c-sharp-list-orderby-not-working-at-all\">c# list.OrderBy not working at all?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "is_accepted": true, "score": 1, "last_activity_date": 1554936968, "creation_date": 1554936968, "answer_id": 55622396, "question_id": 55622207, "link": "https://stackoverflow.com/questions/55622207/why-does-not-work-orderby-method-in-ef-core/55622396#55622396", "title": "why does not work OrderBy method in EF core?", "body": "<p>It doesn't work because LINQ <em>never</em> affects the original collection, so this doesn't do anything at all:</p>\n\n<pre><code>productDTO.Parameters\n    .Where(y =&gt; y.ParameterId == 4)\n    .OrderBy(t =&gt; t.Value)\n    .ToList();\n</code></pre>\n\n<p>Overall, anyway, that code is not even close to good code. Don't create <code>Product</code> (and others) objects just to convert them to their DTO version. Use Entity Framework properly:</p>\n\n<pre><code>var products = await _context.Products\n    .Where(prod =&gt; prod.ProductTypeId == id)\n    .Select(prod =&gt; new ProductDTO\n    {\n        ProductId = prod.ProductId,\n        // rest of properties...\n\n        // now get the parameters\n        Parameters = prod.Parameters\n            // assuming you want to order by value, the question isn't very clear\n            .OrderBy(par =&gt; par.Value)\n            .Select(par =&gt; new ParameterDTO\n            {\n                Id = par.Id,\n                // etc\n            })\n            .ToList()\n    })\n    .ToListAsync();\n</code></pre>\n\n<p>Compare that single database query to the multiple calls that the question's code is doing <em>when the data is already in memory</em>.</p>\n"}], "owner": {"reputation": 29, "user_id": 9025178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2eed4fbd7280b67d2a2c2474c59adef?s=128&d=identicon&r=PG&f=1", "display_name": "Stas Iliukovich", "link": "https://stackoverflow.com/users/9025178/stas-iliukovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 999, "favorite_count": 1, "accepted_answer_id": 55622396, "answer_count": 1, "score": -1, "last_activity_date": 1554936968, "creation_date": 1554935689, "last_edit_date": 1554936359, "question_id": 55622207, "link": "https://stackoverflow.com/questions/55622207/why-does-not-work-orderby-method-in-ef-core", "title": "why does not work OrderBy method in EF core?", "body": "<p>I want to get sorted products(table products) by 'value'(table Product Parameters) according to \"ParamertomId\"(table Parameters) from my model.\nHow to sort related data correctly?</p>\n\n<p>These are my model classes:</p>\n\n<pre><code>public class Product \n{\n    public int Id { get; set; }\n\n    public string Name { get; set; }\n    public string Number { get; set; }\n    public double Amount { get; set; }\n    public double PrimeCostEUR { get; set; }\n\n    [ForeignKey(\"ProductTypeId\")]\n    public int  ProductTypeId {  get; set; }\n    public virtual ProductType ProductType { get; set; }\n\n    public ICollection&lt;ProductParameter&gt; ProductParameters { get; set; } = new List&lt;ProductParameter&gt;();\n}\npublic class ProductType //: BaseObject\n{   \n    public int Id { get; set; }\n\n    public string NameType { get; set; }\n\n    public ICollection&lt;Parameter&gt; Parameters { get; set; } = new List&lt;Parameter&gt;();\n    public ICollection&lt;Product&gt; Products { get; set; } = new List&lt;Product&gt;();\n}\npublic class Parameter \n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n\n    [ForeignKey(\"ProductType\")]\n    public int ProductTypeId { get; set; }\n    public  virtual ProductType ProductType { get; set; }\n\n    public ICollection&lt;ProductParameter&gt; ProductParameters { get; set; } = new List&lt;ProductParameter&gt;();\n}\n public class ProductParameter \n{\n    public int Id { get; set; }\n\n    public int ProductId { get; set; }\n    public virtual Product Product { get; set; }\n\n    public int ParameterId { get; set; }\n    public virtual Parameter Parameter { get; set; }\n\n    public string Value { get; set; }\n\n}\n</code></pre>\n\n<p>These are my DTO classes needed to display the data I need.:</p>\n\n<pre><code>public class ProductDTO{   \n   public int ProductId { get; set; }\n   public string Number { get; set; }\n   public double Amount { get; set; }\n   public double PrimeCostEUR { get; set; }\n\n   public int ProductTypeId { get; set; }\n   public string NameType { get; set; }\n\n   public ICollection&lt;ParameterDTO&gt; Parameters { get; set; } = new \n   List&lt;ParameterDTO&gt;();}\n\npublic class ParameterDTO {\n   public int Id { get; set; }\n   public string Name { get; set; }\n   public string Value { get; set; }\n}\n</code></pre>\n\n<p>I receive related data from three table. This my method GetSortedProducts:</p>\n\n<pre><code>public async Task&lt;IEnumerable&lt;ProductDTO&gt;&gt; GetProducts(int id)\n{\n    var typeParams = _context.Parameters\n        .Where(t =&gt; t.ProductTypeId == id)\n        .ToList();\n\n    var products =  _context.Products\n        .Include(t =&gt; t.ProductParameters)\n        .Where(t =&gt; t.ProductTypeId == id)\n        .ToList();\n\n    var items = new List&lt;ProductDTO&gt;();\n\n    foreach (var product in products)\n    {\n        var productDTO = new ProductDTO()\n        {\n            ProductId = product.Id,\n            Number = product.Number,\n            Amount = product.Amount,\n            PrimeCostEUR = product.PrimeCostEUR,\n            ProductTypeId = product.ProductTypeId\n        };\n\n        foreach (var typeParam in typeParams)\n        {\n            var paramDTO = new ParameterDTO();                        \n            var value = product.ProductParameters.FirstOrDefault(t =&gt; t.ParameterId == typeParam.Id);\n            if (value != null)\n            {\n                paramDTO.Id = value.Id;\n                paramDTO.Value = value.Value;\n            }\n            paramDTO.ParameterId = typeParam.Id;\n            paramDTO.Name = typeParam.Name;\n\n            productDTO.Parameters.Add(paramDTO);\n        }\n          // sort products by value\n         productDTO.Parameters.Where(y =&gt; y.ParameterId == 4)\n         .OrderBy(t =&gt; t.Value).ToList();\n\n         items.Add(productDTO);\n    }        \n\n    return items;           \n}\n</code></pre>\n"}, {"tags": ["c#", "compiler-errors", "nullable", "out", "null-propagation-operator"], "comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 1, "creation_date": 1554937656, "post_id": 55622139, "comment_id": 97937917, "body": "The error message is not incorrect according to the C# language specification. It is literally impossible for the compiler to correctly evaluate execution flow 100% of the time, so there are necessarily limits. For practical reasons, those limits are fairly narrow and exclude the scenario that you want to work. See marked duplicates. The first is <i>exactly</i> the scenario you&#39;re asking about, and you should have found it yourself rather than ask a new question. The second addresses the same basic issue more generally (i.e. non-constant <code>if</code> expression makes for reachable <code>if</code> body)"}], "answers": [{"comments": [{"owner": {"reputation": 4363, "user_id": 2040569, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/78834c6b2f1bb61025b0d29ae59af530?s=128&d=identicon&r=PG&f=1", "display_name": "Austin T French", "link": "https://stackoverflow.com/users/2040569/austin-t-french"}, "edited": false, "score": 0, "creation_date": 1554937045, "post_id": 55622288, "comment_id": 97937755, "body": "I&#39;m trying to figure out what the intent of ` ?? false ` would be, as TryGetValue returns bool. I suspect the intent was closer to ` if (myDict?.TryGetValue(1, out int myValue) ? true : false )` but... Maybe I&#39;m missing something"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "reply_to_user": {"reputation": 4363, "user_id": 2040569, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/78834c6b2f1bb61025b0d29ae59af530?s=128&d=identicon&r=PG&f=1", "display_name": "Austin T French", "link": "https://stackoverflow.com/users/2040569/austin-t-french"}, "edited": false, "score": 1, "creation_date": 1554937285, "post_id": 55622288, "comment_id": 97937809, "body": "&quot;as <code>.TryGetValue()</code> returns bool&quot; - Yes, but <code>?.TryGetValue()</code> might return bool or null so it becomes <code>bool?</code>"}], "tags": [], "owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "is_accepted": true, "score": 1, "last_activity_date": 1554936615, "last_edit_date": 1554936615, "creation_date": 1554936281, "answer_id": 55622288, "question_id": 55622139, "link": "https://stackoverflow.com/questions/55622139/use-of-unassigned-local-variable-error-is-incorrectly-indicated-by-compiler/55622288#55622288", "title": "Use of unassigned local variable error is incorrectly indicated by compiler", "body": "<blockquote>\n  <p>\"But it is clearly not possible ...\"</p>\n</blockquote>\n\n<p>That is correct but the compiler does not track the logic that deeply.</p>\n\n<p>The compiler could have deduced this, but note that the scope of myValue extends beyond the if statement:</p>\n\n<pre><code>if (myDict?.TryGetValue(1, out int myValue) ?? false)\n{\n    Console.Out.WriteLine(myValue); // &lt;-- Error CS0165\n}\nConsole.Out.WriteLine(myValue); // myValue is in scope here\n</code></pre>\n\n<p>So while you might desire that the compiler figured out all the <code>?.</code> and <code>??</code> logic, and that the code inside the <code>if () { ... }</code> is a special case, that apparently is a feature that wasn't deemed important enough. </p>\n\n<p><code>myDict?.TryGetValue(1, out int myValue)</code> does not always assign to <code>myValue</code>.</p>\n"}], "owner": {"reputation": 91, "user_id": 6796729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zyu5B.jpg?s=128&g=1", "display_name": "Dan Sorak", "link": "https://stackoverflow.com/users/6796729/dan-sorak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "closed_date": 1554937410, "accepted_answer_id": 55622288, "answer_count": 1, "score": 3, "last_activity_date": 1554937555, "creation_date": 1554935199, "question_id": 55622139, "link": "https://stackoverflow.com/questions/55622139/use-of-unassigned-local-variable-error-is-incorrectly-indicated-by-compiler", "closed_reason": "Duplicate", "title": "Use of unassigned local variable error is incorrectly indicated by compiler", "body": "<p>Given this code:</p>\n\n<pre><code>private void TryIt(Dictionary&lt;int, int&gt; myDict)\n{\n    if (myDict?.TryGetValue(1, out int myValue) ?? false)\n    {\n        Console.Out.WriteLine(myValue); // &lt;-- Error CS0165\n    }\n}\n</code></pre>\n\n<p>The c# compiler emits:</p>\n\n<pre><code>error CS0165: Use of unassigned local variable 'myValue'\n</code></pre>\n\n<p>But it is clearly not possible to reference <code>myValue</code> when the call to <code>TryGetValue()</code> is skipped by the <code>?.</code> operator. This is because the resulting <code>null</code> is converted to <code>false</code> by <code>?? false</code>.</p>\n\n<p>In other words, if <code>myDict</code> is <code>null</code>, the <code>?.</code> operator will skip the call to <code>TryGetValue()</code>, leaving <code>myValue</code> unassigned. I get that.</p>\n\n<p>BUT the <code>??</code> operator will then always evaluate that null propagation to <code>false</code>, preventing entry into the if-block in this case.</p>\n\n<p>This is evident at compile-time, so why the error?</p>\n\n<p>I suspect that it probably has to do with how all this syntactic sugar is eventually unwound into actual .NET p-code, but it still seems wrong to error out...</p>\n\n<p>When not using the <code>.?</code> operator, I get no error, which is expected:</p>\n\n<pre><code>    if (myDict.TryGetValue(1, out int myValue))\n    {\n        Console.Out.WriteLine(myValue); // &lt;-- NO ERROR\n    }\n</code></pre>\n\n<p>It's just when I use <code>.?</code> with <code>?? false</code>.</p>\n"}, {"tags": ["c#", "azure", "membership"], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 5942338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6kBL.jpg?s=128&g=1", "display_name": "Phillip Rosenbaum", "link": "https://stackoverflow.com/users/5942338/phillip-rosenbaum"}, "is_accepted": false, "score": 0, "last_activity_date": 1554938687, "creation_date": 1554938687, "answer_id": 55622617, "question_id": 55622087, "link": "https://stackoverflow.com/questions/55622087/azure-membership-system-data-sqlclient-sqlexception-login-failed-for-user-you/55622617#55622617", "title": "azure membership System.Data.SqlClient.SqlException: Login failed for user &#39;{your_username}&#39; in Azure", "body": "<p>I found the answer to the problem. Connection string needed this Encrypt=True; MultipleActiveResultSets=False; TrustServerCertificate=False;Connection Timeout=30;</p>\n"}], "owner": {"reputation": 49, "user_id": 5942338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6kBL.jpg?s=128&g=1", "display_name": "Phillip Rosenbaum", "link": "https://stackoverflow.com/users/5942338/phillip-rosenbaum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554938687, "creation_date": 1554934733, "question_id": 55622087, "link": "https://stackoverflow.com/questions/55622087/azure-membership-system-data-sqlclient-sqlexception-login-failed-for-user-you", "title": "azure membership System.Data.SqlClient.SqlException: Login failed for user &#39;{your_username}&#39; in Azure", "body": "<p>I'm trying to deploy an old membership database and asp.net, the issue comes into play when deploying the application to Azure. I'm connected to database in Azure with localhost and when I can run the application locally while still connected to Azure Database(white Listed my IP) I can login in fine.</p>\n\n<p>The issue comes when I publish my website to Azure with all the same settings I did locally. I'm still pointing at the Azure database from before but I get a SQL error when trying to run Membership.ValidateUser  System.Data.SqlClient.SqlException: Login failed for user '{your_username}' in Azure.</p>\n\n<p>I've spend a lot of time trying to figure out what's going. any help would be always be appreciated.</p>\n"}, {"tags": ["c#", "entity-framework", "asp.net-core", "visual-studio-2015"], "comments": [{"owner": {"reputation": 552, "user_id": 11038454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/118900695ae8e562f696c0dd14feb0d7?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/11038454/tony"}, "edited": false, "score": 0, "creation_date": 1554935478, "post_id": 55622064, "comment_id": 97937375, "body": "IDE: Visual Studio 2015. ASP.Net Core: 1.0"}, {"owner": {"reputation": 552, "user_id": 11038454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/118900695ae8e562f696c0dd14feb0d7?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/11038454/tony"}, "edited": false, "score": 0, "creation_date": 1554986914, "post_id": 55622064, "comment_id": 97956804, "body": "I have attached the minimum code that can reproduce the issue."}], "answers": [{"comments": [{"owner": {"reputation": 552, "user_id": 11038454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/118900695ae8e562f696c0dd14feb0d7?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/11038454/tony"}, "edited": false, "score": 0, "creation_date": 1554936797, "post_id": 55622313, "comment_id": 97937685, "body": "This example demonstrate how to use outside transaction for DbContext. I am not using outside transaction, but using the one from internal (tran = context.Database.BeginTranasction(). So it make no sense to UseTransaction( a transaction that was created by my self)"}, {"owner": {"reputation": 552, "user_id": 11038454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/118900695ae8e562f696c0dd14feb0d7?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/11038454/tony"}, "edited": false, "score": 0, "creation_date": 1554937161, "post_id": 55622313, "comment_id": 97937778, "body": "I got a feeling that, context.Query is not in scope of context.Database&#39;s transaction, but I don&#39;t know how to specify the same transaction to context level.....  The worst case, I may try to create a transaction outside and, do NOT use dbContext.Database.BeginTransaction(), use dbContext.Database.UseTransaction(OutsideTran) instead and see if it will work or not."}, {"owner": {"reputation": 552, "user_id": 11038454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/118900695ae8e562f696c0dd14feb0d7?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/11038454/tony"}, "edited": false, "score": 0, "creation_date": 1554940922, "post_id": 55622313, "comment_id": 97938638, "body": "tried, no luck. it seems even i set the transaction externally, the dbcontext can always get arround of it, and it seems that function cannot be execute inside any transaction.... weird..."}, {"owner": {"reputation": 5892, "user_id": 1476941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UX0GO.jpg?s=128&g=1", "display_name": "brainless coder", "link": "https://stackoverflow.com/users/1476941/brainless-coder"}, "reply_to_user": {"reputation": 552, "user_id": 11038454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/118900695ae8e562f696c0dd14feb0d7?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/11038454/tony"}, "edited": false, "score": 0, "creation_date": 1554941159, "post_id": 55622313, "comment_id": 97938685, "body": "Instead of removing some lines, could you update the question with the actual code. I have a feeling something else is not right."}, {"owner": {"reputation": 5892, "user_id": 1476941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UX0GO.jpg?s=128&g=1", "display_name": "brainless coder", "link": "https://stackoverflow.com/users/1476941/brainless-coder"}, "reply_to_user": {"reputation": 552, "user_id": 11038454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/118900695ae8e562f696c0dd14feb0d7?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/11038454/tony"}, "edited": false, "score": 0, "creation_date": 1554941312, "post_id": 55622313, "comment_id": 97938718, "body": "However, there is one thing to notice, you are kind of mixing codes from both world , raw SQL queries and ORM. It usually is a bad design. Either don&#39;t use EF and use ADO.net or use EF and use it with a POCO."}, {"owner": {"reputation": 552, "user_id": 11038454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/118900695ae8e562f696c0dd14feb0d7?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/11038454/tony"}, "edited": false, "score": 0, "creation_date": 1554942480, "post_id": 55622313, "comment_id": 97938946, "body": "I am using EF everywhere else, but in order to query an unknown table, EF cannot archive it. i have to use Query() directly."}], "tags": [], "owner": {"reputation": 5892, "user_id": 1476941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UX0GO.jpg?s=128&g=1", "display_name": "brainless coder", "link": "https://stackoverflow.com/users/1476941/brainless-coder"}, "is_accepted": false, "score": 0, "last_activity_date": 1554936439, "creation_date": 1554936439, "answer_id": 55622313, "question_id": 55622064, "link": "https://stackoverflow.com/questions/55622064/cannot-use-dbcontext-query-inside-a-transaction/55622313#55622313", "title": "Cannot Use DbContext.Query inside a transaction", "body": "<p>May be you are missing this section - </p>\n\n<blockquote>\n  <p>you are free to execute database operations either directly on the\n  SqlConnection itself, or on the DbContext. All such operations are\n  executed within one transaction. You take responsibility for\n  committing or rolling back the transaction and for calling Dispose()\n  on it, as well as for closing and disposing the database connection</p>\n</blockquote>\n\n<p>And then this codebase -</p>\n\n<pre><code>using (var conn = new SqlConnection(\"...\"))\n{\n    conn.Open();\n\n    using (var sqlTxn = \n    conn.BeginTransaction(System.Data.IsolationLevel.Snapshot))\n    {\n        try\n        {\n            var sqlCommand = new SqlCommand();\n            sqlCommand.Connection = conn;\n            sqlCommand.Transaction = sqlTxn;\n            sqlCommand.CommandText =\n                       @\"UPDATE Blogs SET Rating = 5\" +\n                        \" WHERE Name LIKE '%Entity Framework%'\";\n            sqlCommand.ExecuteNonQuery();\n\n            using (var context =  \n                new BloggingContext(conn, contextOwnsConnection: false))\n            {\n                        context.Database.UseTransaction(sqlTxn);\n\n                        var query =  context.Posts.Where(p =&gt; p.Blog.Rating &gt;= 5);\n                        foreach (var post in query)\n                        {\n                            post.Title += \"[Cool Blog]\";\n                        }\n                       context.SaveChanges();\n                    }\n\n                    sqlTxn.Commit();\n        }\n        catch (Exception)\n        {\n             sqlTxn.Rollback();\n        }\n    }\n}\n</code></pre>\n\n<p>Specially this one - </p>\n\n<pre><code>context.Database.UseTransaction(sqlTxn);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 552, "user_id": 11038454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/118900695ae8e562f696c0dd14feb0d7?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/11038454/tony"}, "is_accepted": true, "score": 0, "last_activity_date": 1555078054, "last_edit_date": 1555078054, "creation_date": 1554995596, "answer_id": 55635858, "question_id": 55622064, "link": "https://stackoverflow.com/questions/55622064/cannot-use-dbcontext-query-inside-a-transaction/55635858#55635858", "title": "Cannot Use DbContext.Query inside a transaction", "body": "<p>Sorry guys, as mentioned above, I thought the Query method is from EF, but I examined the code and found <strong>it is actually coded by another developer, defined in class MyDbContext.</strong> Since this class is generated by EF, and I never think somebody have added a method.</p>\n\n<p>It is</p>\n\n<pre><code>public DataTable Query(string sqlQuery)\n{\n    DbProviderFactory dbFactory = DbProviderFactories.GetFactory(Database.Connection);\n\n    using (var cmd = dbFactory.CreateCommand())\n    {\n        cmd.Connection = Database.Connection;\n        cmd.CommandType = CommandType.Text;\n        cmd.CommandText = sqlQuery;\n\n        //And I added this line, then problem solved.\n        if (Database.CurrentTransaction != null)\n            cmd.Transaction = Database.CurrentTransaction.UnderlyingTransaction;\n\n        using (DbDataAdapter adapter = dbFactory.CreateDataAdapter())\n        {\n            adapter.SelectCommand = cmd;\n\n            DataTable dt = new DataTable();\n            adapter.Fill(dt);\n\n            return dt;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 552, "user_id": 11038454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/118900695ae8e562f696c0dd14feb0d7?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/11038454/tony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 940, "favorite_count": 0, "accepted_answer_id": 55635858, "answer_count": 2, "score": 0, "last_activity_date": 1555078054, "creation_date": 1554934609, "last_edit_date": 1554995878, "question_id": 55622064, "link": "https://stackoverflow.com/questions/55622064/cannot-use-dbcontext-query-inside-a-transaction", "title": "Cannot Use DbContext.Query inside a transaction", "body": "<p>I am using EF6 to query a backend database. User can customize a temporary table and query the data from the temporary table. I am using </p>\n\n<p><code>\n    DataTable result = context.Query(queryStatement);\n</code></p>\n\n<p>to get the result and it has been working fine.</p>\n\n<p>Now the query is needed among a serious of other sqlcommand and a transaction is needed. So I have</p>\n\n<pre><code>public static DataTable GetData()\n{\n    using (MyDbContext context = new MyDbContext())\n    using (DbContextTransaction tran = context.Database.BeginTransaction())\n    {\n        try\n        {\n            int rowAffected = context.Database.ExecuteSqlCommand(\n                \"UPDATE [MyDb].dbo.[TableLocks] SET RefCount = RefCount + 1 WHERE TableName = 'TESTTABLE1'\");\n            if (rowAffected != 1)\n                throw new Exception(\"Cannot find 'TestTable1'\");\n\n            //The following line will raise an exception\n            DataTable result = context.Query(\"SELECT TOP 100 * FROM [MyDb].dbo.[TestTable1]\");\n            //This line will work if I change it to \n            //context.Database.ExecuteSqlCommand(\"SELECT TOP 100 * FROM [MyDb].dbo.[TestTable1]\");\n            //but I don't know how to get the result out of it.\n            context.Database.ExecuteSqlCommand(\n                \"UPDATE [MyDb].dbo.[TableLocks] SET RefCount = RefCount - 1 WHERE TableName = 'TestTable1'\");\n            tran.Commit();\n\n            return result;\n        }\n        catch (Exception ex)\n        {\n            tran.Rollback();\n            throw (ex);\n        }\n    }\n}\n</code></pre>\n\n<p>But this throws an exception while executing context.Query</p>\n\n<pre><code>ExecuteReader requires the command to have a transaction when the connection \nassigned to the command is in a pending local transaction.  The Transaction \nproperty of the command has not been initialized.\n</code></pre>\n\n<p>And when I read this article: <a href=\"https://docs.microsoft.com/en-us/ef/ef6/saving/transactions\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/ef/ef6/saving/transactions</a>\nIt says: </p>\n\n<blockquote>\n  <p>Entity Framework does not wrap queries in a transaction.</p>\n</blockquote>\n\n<p>Is it the reason cause this issue?</p>\n\n<p>How can I use <code>context.Query()</code> inside a transaction?</p>\n\n<p>What else I can use? </p>\n\n<p>I tried all other method, none of them work - because the return datatype cannot be predicted before hand.</p>\n\n<p>I just realized that, the Query method is defined in MyDbContext!</p>\n\n<pre><code>    public DataTable Query(string sqlQuery)\n    {\n        DbProviderFactory dbFactory = DbProviderFactories.GetFactory(Database.Connection);\n\n        using (var cmd = dbFactory.CreateCommand())\n        {\n            cmd.Connection = Database.Connection;\n            cmd.CommandType = CommandType.Text;\n            cmd.CommandText = sqlQuery;\n            using (DbDataAdapter adapter = dbFactory.CreateDataAdapter())\n            {\n                adapter.SelectCommand = cmd;\n\n                DataTable dt = new DataTable();\n                adapter.Fill(dt);\n\n                return dt;\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "android", "xamarin.android"], "comments": [{"owner": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1554972301, "post_id": 55621991, "comment_id": 97948174, "body": "have you override attachBaseContext method to update the context  in activity ?"}, {"owner": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1555640291, "post_id": 55621991, "comment_id": 98187587, "body": "<code>base.AttachBaseContext(@base);</code> here should use your new context not @base"}, {"owner": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1556075757, "post_id": 55621991, "comment_id": 98309606, "body": "try to add <code>Configuration overrideConfiguration = @base.Resources.Configuration;             overrideConfiguration.SetToDefaults();             Context context = CreateConfigurationContext(overrideConfiguration);             base.AttachBaseContext(context);</code> to attachBaseContext  method,then in your Resources override call  <code>Resources res = context.Resources;return res;</code>"}, {"owner": {"reputation": 756, "user_id": 8157029, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/074942783234568a3632db47917e8428?s=128&d=identicon&r=PG&f=1", "display_name": "jtth", "link": "https://stackoverflow.com/users/8157029/jtth"}, "reply_to_user": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1556125634, "post_id": 55621991, "comment_id": 98334956, "body": "@LeoZhu-MSFT Visual added. <code>@base</code> returns null?<code>context.Resources</code> how are we passing context here, should this be <code>base.Resources</code>?"}, {"owner": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1556155033, "post_id": 55621991, "comment_id": 98344387, "body": "yes,base.Resources,not sure of success, but give it a try"}, {"owner": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1556185278, "post_id": 55621991, "comment_id": 98354627, "body": "could you share your project ?That way maybe could find the mistakes more accurately!"}], "answers": [{"comments": [{"owner": {"reputation": 4830, "user_id": 1151151, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2874ef1ce0b41a5bd2746ddb49e1581?s=128&d=identicon&r=PG&f=1", "display_name": "Ghasan \u063a\u0633\u0627\u0646", "link": "https://stackoverflow.com/users/1151151/ghasan-%d8%ba%d8%b3%d8%a7%d9%86"}, "edited": false, "score": 0, "creation_date": 1575426174, "post_id": 55859662, "comment_id": 104559523, "body": "Thanks. This really helped :)"}], "tags": [], "owner": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "is_accepted": true, "score": 2, "last_activity_date": 1556242368, "creation_date": 1556242368, "answer_id": 55859662, "question_id": 55621991, "link": "https://stackoverflow.com/questions/55621991/android-resources-updateconfigurationconfiguration-displaymetrics-deprecated/55859662#55859662", "title": "Android Resources.UpdateConfiguration(Configuration, DisplayMetrics) deprecated", "body": "<p>Not sure if it's your need\uff0cyou could change the <strong>attachBaseContext</strong> method like this,it could work:</p>\n\n<pre><code>protected override void AttachBaseContext(Context @base)\n    {\n        Configuration overrideConfiguration = new Configuration();\n        overrideConfiguration = @base.Resources.Configuration;\n        overrideConfiguration.SetToDefaults();\n        Context context = @base.CreateConfigurationContext(overrideConfiguration);\n        base.AttachBaseContext(context);\n    }\n</code></pre>\n"}], "owner": {"reputation": 756, "user_id": 8157029, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/074942783234568a3632db47917e8428?s=128&d=identicon&r=PG&f=1", "display_name": "jtth", "link": "https://stackoverflow.com/users/8157029/jtth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 593, "favorite_count": 1, "accepted_answer_id": 55859662, "answer_count": 1, "score": 2, "last_activity_date": 1556242368, "creation_date": 1554934157, "last_edit_date": 1556125559, "question_id": 55621991, "link": "https://stackoverflow.com/questions/55621991/android-resources-updateconfigurationconfiguration-displaymetrics-deprecated", "title": "Android Resources.UpdateConfiguration(Configuration, DisplayMetrics) deprecated", "body": "<p><strong>EDIT 2</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/8frE3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8frE3.png\" alt=\"sample\"></a></p>\n\n<p><strong>EDIT</strong></p>\n\n<p><strong>Override attachBaseContext method to update the context in activity</strong></p>\n\n<pre><code>protected override void AttachBaseContext(Context @base)\n{\n    base.AttachBaseContext(@base);\n}\n</code></pre>\n\n<p><strong>end edit</strong></p>\n\n<p>In Android API 25 <code>Resources.UpdateConfiguration(Configuration, DisplayMetrics)</code> was deprecated and it's advised to use <code>Context context = CreateConfigurationContext(Configuration);</code> instead.</p>\n\n<p><strong>Current implementation</strong></p>\n\n<pre><code>public override Resources Resources\n{\n    get\n    {\n        Resources res = base.Resources;\n        Configuration config = new Configuration();\n        config.SetToDefaults();\n\n        res.UpdateConfiguration(config, res.DisplayMetrics);\n        return res;\n    }\n}\n</code></pre>\n\n<p>Referencing <a href=\"https://stackoverflow.com/questions/40221711/android-context-getresources-updateconfiguration-deprecated?noredirect=1&amp;lq=1\">Android context.getResources.updateConfiguration() deprecated</a> as a guide, tried the following:</p>\n\n<pre><code>public override Resources Resources\n{\n    get\n    {\n        Configuration overrideConfiguration = base.Resources.Configuration;\n        overrideConfiguration.SetToDefaults();\n        Context context = CreateConfigurationContext(overrideConfiguration);\n        Resources res = context.Resources;\n        return res;\n    }\n}\n</code></pre>\n\n<p>However this produces anomalous errors..</p>\n\n<pre><code>Android.Views.InflateException: Error inflating class\ncom.android.internal.widget.DialogTitle\n</code></pre>\n\n<p>How to correctly implement <code>Context context = CreateConfigurationContext(Configuration)</code>?</p>\n\n<p>Note 'Current implementation' works perfectly fine but as encouraged to not use deprecated code want to the replacement working</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1554933327, "post_id": 55621836, "comment_id": 97936680, "body": "What do you mean by &quot;given a warning&quot;? A compiler warning?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1554933350, "post_id": 55621836, "comment_id": 97936688, "body": "@Blorgbeard I believe they mean <a href=\"https://www.bing.com/search?q=c%23+dispose+enforce\" rel=\"nofollow noreferrer\">bing.com/search?q=c%23+dispose+enforce</a> (which I picked couple duplicates for)"}, {"owner": {"reputation": 4010, "user_id": 1015495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XL7y1.jpg?s=128&g=1", "display_name": "Mike G", "link": "https://stackoverflow.com/users/1015495/mike-g"}, "edited": false, "score": 2, "creation_date": 1554933357, "post_id": 55621836, "comment_id": 97936691, "body": "You can&#39;t, really. How can you be sure when your class <i>needs</i> to be disposed? You basically want to predict when the instance is going out of scope."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 4010, "user_id": 1015495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XL7y1.jpg?s=128&g=1", "display_name": "Mike G", "link": "https://stackoverflow.com/users/1015495/mike-g"}, "edited": false, "score": 0, "creation_date": 1554933653, "post_id": 55621836, "comment_id": 97936787, "body": "@MikeTheLiar It&#39;s worse than that.  You need to predict when the lifetime of the object ends, not when the variable goes out of scope.  The variable could go out of the scope but the object still be used elsewhere, or the same variable used for multiple disposable objects."}, {"owner": {"reputation": 3, "user_id": 10643336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7fb7dc08917073c8a633876ab77f0c?s=128&d=identicon&r=PG", "display_name": "gegs", "link": "https://stackoverflow.com/users/10643336/gegs"}, "reply_to_user": {"reputation": 4010, "user_id": 1015495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XL7y1.jpg?s=128&g=1", "display_name": "Mike G", "link": "https://stackoverflow.com/users/1015495/mike-g"}, "edited": false, "score": 0, "creation_date": 1554933777, "post_id": 55621836, "comment_id": 97936819, "body": "@MikeTheLiar Essentially I just want a warning stating Dispose hasn&#39;t been called anywhere. I&#39;m writing a game and these resources should only be in scope for a couple of frames."}, {"owner": {"reputation": 4010, "user_id": 1015495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XL7y1.jpg?s=128&g=1", "display_name": "Mike G", "link": "https://stackoverflow.com/users/1015495/mike-g"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 2, "creation_date": 1554933798, "post_id": 55621836, "comment_id": 97936829, "body": "@Servy surely we can just analyze the program itself, determine when it will terminate, and then throw an error if the object hasn&#39;t been disposed of at that point?"}, {"owner": {"reputation": 3368, "user_id": 1305465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53792b9c0119678137acb4b6e225ce23?s=128&d=identicon&r=PG", "display_name": "Kalten", "link": "https://stackoverflow.com/users/1305465/kalten"}, "edited": false, "score": 0, "creation_date": 1554934177, "post_id": 55621836, "comment_id": 97936944, "body": "You can build a roslyn analyzer and ship it with your lib"}], "answers": [{"comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1554934671, "post_id": 55621884, "comment_id": 97937100, "body": "&quot;You won&#39;t be able to control when it is called&quot; so this is effectively not an answer to the question asked"}, {"owner": {"reputation": 941, "user_id": 6090828, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/m03cT.png?s=128&g=1", "display_name": "sjb-sjb", "link": "https://stackoverflow.com/users/6090828/sjb-sjb"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1554935097, "post_id": 55621884, "comment_id": 97937261, "body": "It may not answer the question but I think it addresses the need, at least as far as practically possible. So let&#39;s see what the OP (@gegs) says before downvoting."}, {"owner": {"reputation": 3, "user_id": 10643336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7fb7dc08917073c8a633876ab77f0c?s=128&d=identicon&r=PG", "display_name": "gegs", "link": "https://stackoverflow.com/users/10643336/gegs"}, "edited": false, "score": 0, "creation_date": 1554935781, "post_id": 55621884, "comment_id": 97937446, "body": "@sjb-sjb I agree, with the duplicates read and the comments here it seems it&#39;s not possible in the exact way I asked, at least not in a recommended/ non hacked together way. So I will mark this answer."}, {"owner": {"reputation": 941, "user_id": 6090828, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/m03cT.png?s=128&g=1", "display_name": "sjb-sjb", "link": "https://stackoverflow.com/users/6090828/sjb-sjb"}, "reply_to_user": {"reputation": 3, "user_id": 10643336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7fb7dc08917073c8a633876ab77f0c?s=128&d=identicon&r=PG", "display_name": "gegs", "link": "https://stackoverflow.com/users/10643336/gegs"}, "edited": false, "score": 0, "creation_date": 1554996809, "post_id": 55621884, "comment_id": 97963654, "body": "Thanks @gegs for marking as answer. Comment, there are a lot of ways that mem leaks and resource leaks can occur. For example, failing to unsubscribe a short-lived object from an event of a long-lived object. Although c# offers memory managmt, IDisposable is a contract saying that the programmer, rather than the system, will manage the release of resources. So my suggestion of using the destructor to check for Dispose is just a debugging trick, not something to rely on for production. Some people claim that one should always check for Dispose in the destructor, but I am not a fan of that."}], "tags": [], "owner": {"reputation": 941, "user_id": 6090828, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/m03cT.png?s=128&g=1", "display_name": "sjb-sjb", "link": "https://stackoverflow.com/users/6090828/sjb-sjb"}, "is_accepted": true, "score": -1, "last_activity_date": 1554933476, "creation_date": 1554933476, "answer_id": 55621884, "question_id": 55621836, "link": "https://stackoverflow.com/questions/55621836/how-can-make-an-instance-class-require-a-method-call/55621884#55621884", "title": "How can make an instance class require a method call?", "body": "<p>Put the message in the destructor ~MyClass and mark it with the [Debug] attribute. You won't be able to control when it is called but you will get the message the first time one of them is garbage collected. </p>\n"}], "owner": {"reputation": 3, "user_id": 10643336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7fb7dc08917073c8a633876ab77f0c?s=128&d=identicon&r=PG", "display_name": "gegs", "link": "https://stackoverflow.com/users/10643336/gegs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "closed_date": 1554933304, "accepted_answer_id": 55621884, "answer_count": 1, "score": 0, "last_activity_date": 1554933476, "creation_date": 1554933168, "question_id": 55621836, "link": "https://stackoverflow.com/questions/55621836/how-can-make-an-instance-class-require-a-method-call", "closed_reason": "Duplicate", "title": "How can make an instance class require a method call?", "body": "<p>I have a non static class that deals with some unmanaged code, my class inherits IDisposable which requires that the class implements the Dispose() method. How can I make this require Dispose() is called on an instance of this class, not just implemented in the class itself?</p>\n\n<pre><code>public class MyClass : IDisposable\n{\n    //Some fields and methods\n\n    public void Dispose()\n    {\n        //Code that frees unmanaged resourses\n    }\n}\n</code></pre>\n\n<p>In my main method:</p>\n\n<pre><code>public void main()\n{\n    var myClassInstance = new MyClass();\n\n    //Some code that does stuff with myClassInstance\n\n    //I forget here to call myClassInstance.Dispose();\n\n}\n</code></pre>\n\n<p>I now want to be given a warning. <strong>For Example</strong>: \"You have not called Dispose on myClassInstance\".</p>\n"}, {"tags": ["c#", "tinymapper"], "answers": [{"comments": [{"owner": {"reputation": 2605, "user_id": 3043148, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b19f8540f22083d3cb0ca2afc2655cee?s=128&d=identicon&r=PG&f=1", "display_name": "nurdyguy", "link": "https://stackoverflow.com/users/3043148/nurdyguy"}, "edited": false, "score": 0, "creation_date": 1554934712, "post_id": 55622062, "comment_id": 97937118, "body": "I considered it but don&#39;t think a custom binder would pass code review.  If I could use AutoMapper I would :-)  For whatever reason we only have TinyMapper in this project."}], "tags": [], "owner": {"reputation": 5866, "user_id": 2102132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pk78.png?s=128&g=1", "display_name": "Milney", "link": "https://stackoverflow.com/users/2102132/milney"}, "is_accepted": false, "score": 0, "last_activity_date": 1554934601, "creation_date": 1554934601, "answer_id": 55622062, "question_id": 55621821, "link": "https://stackoverflow.com/questions/55621821/tinymapper-map-int-to-subclass/55622062#55622062", "title": "TinyMapper map int to subclass", "body": "<p>You can write a custom binder: <a href=\"https://github.com/TinyMapper/TinyMapper/wiki/Custom-mapping\" rel=\"nofollow noreferrer\">https://github.com/TinyMapper/TinyMapper/wiki/Custom-mapping</a>. Although then you kind of lose the point in the first place...</p>\n\n<p>I'd consider AutoMapper which handles things like this quite alot more easily: <a href=\"https://automapper.org/\" rel=\"nofollow noreferrer\">https://automapper.org/</a></p>\n"}], "owner": {"reputation": 2605, "user_id": 3043148, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b19f8540f22083d3cb0ca2afc2655cee?s=128&d=identicon&r=PG&f=1", "display_name": "nurdyguy", "link": "https://stackoverflow.com/users/3043148/nurdyguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554934601, "creation_date": 1554933096, "question_id": 55621821, "link": "https://stackoverflow.com/questions/55621821/tinymapper-map-int-to-subclass", "title": "TinyMapper map int to subclass", "body": "<p>I'm using TinyMapper to map from a class <code>Log</code> to <code>LogViewModel</code>.  </p>\n\n<pre><code>public class Log\n{\n  //.... bunch of properties here \n  public int LevelId {get; set;}\n}\n\npublic class LogViewModel\n{\n  //.... bunch of properties here \n  public LogLevelViewModel Level {get; set;}\n}\n\npublic class LogLevelViewModel\n{\n  public int Id {get; set;}\n  public string Name {get; set;}\n}\n</code></pre>\n\n<p>There is an enum for <code>Level</code> but we are using the view model <code>LogLevelViewModel</code> to contain the <code>Id</code> and <code>Name</code> corresponding to the enum's value and name.  In the database the <code>Log</code> has the <code>LevelId</code> field which is the enum's value.</p>\n\n<p>The problem I'm having is when I try to use TinyMapper to map from <code>Log</code> to <code>LogViewModel</code>.  If I use the default binding</p>\n\n<pre><code>TinyMapper.Bind&lt;Log, LogViewModel&gt;();\n</code></pre>\n\n<p>and in the controller:</p>\n\n<pre><code>var data = TinyMapper.Map&lt;List&lt;LogViewModel&gt;&gt;(logs);\n</code></pre>\n\n<p>the values all populate just fine except for the <code>Level</code>, it is null even though the <code>Log.LevelId</code> is not.  When I try to map the <code>LevelId</code> to the <code>Level.Id</code> this also still just gives null for the <code>Level</code>.</p>\n\n<pre><code>TinyMapper.Bind&lt;Log, LogViewModel&gt;(config =&gt;\n{\n  config.Bind(src =&gt; src.LevelId, dest =&gt; dest.Level.Id);\n});\n</code></pre>\n\n<p>Ideally I need to bind from the int <code>LevelId</code> and directly populate the <code>Level.Id</code> and <code>Level.Name</code> values but if I could at least just the get the <code>Level.Id</code> value on there that would be adequate.  Does anyone know how to accomplish this?</p>\n\n<p>Side note: I did try a couple of other variations on the bindings but all I would get is an error <code>\"System.ArgumentException: 'Expression is not a MemberExpression'\"</code>.</p>\n"}, {"tags": ["c#", "database", "wpf", "localhost"], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 4440962, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/53b6eff54dcdd5594b05b9c650b3efab?s=128&d=identicon&r=PG&f=1", "display_name": "F.A", "link": "https://stackoverflow.com/users/4440962/f-a"}, "edited": false, "score": 0, "creation_date": 1554933774, "post_id": 55621860, "comment_id": 97936818, "body": "I added the URL. The thing is I do not know how to set up the database (if I need to)"}, {"owner": {"reputation": 5866, "user_id": 2102132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pk78.png?s=128&g=1", "display_name": "Milney", "link": "https://stackoverflow.com/users/2102132/milney"}, "reply_to_user": {"reputation": 149, "user_id": 4440962, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/53b6eff54dcdd5594b05b9c650b3efab?s=128&d=identicon&r=PG&f=1", "display_name": "F.A", "link": "https://stackoverflow.com/users/4440962/f-a"}, "edited": false, "score": 0, "creation_date": 1554933839, "post_id": 55621860, "comment_id": 97936842, "body": "Yes you do need to - The folder Database has the database files (.mdf and .ldf) in it - you need to attach those to your LocalDb SQL Instance, or change the connection string to point directly to the file. There are many guides on this: <a href=\"http://thedatafarm.com/data-access/attaching-an-mdf-database-to-localdb-in-visual-studio-the-easier-way/\" rel=\"nofollow noreferrer\">thedatafarm.com/data-access/&hellip;</a> or <a href=\"https://stackoverflow.com/questions/27564279/what-is-the-best-way-to-attach-existing-database-to-sql-localdb\" title=\"what is the best way to attach existing database to sql localdb\">stackoverflow.com/questions/27564279/&hellip;</a>"}, {"owner": {"reputation": 149, "user_id": 4440962, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/53b6eff54dcdd5594b05b9c650b3efab?s=128&d=identicon&r=PG&f=1", "display_name": "F.A", "link": "https://stackoverflow.com/users/4440962/f-a"}, "edited": false, "score": 0, "creation_date": 1554945786, "post_id": 55621860, "comment_id": 97939599, "body": "So should I just add the path to the connection string in the App.Config like the solution in the stackoverflow link?"}], "tags": [], "owner": {"reputation": 5866, "user_id": 2102132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pk78.png?s=128&g=1", "display_name": "Milney", "link": "https://stackoverflow.com/users/2102132/milney"}, "is_accepted": true, "score": 1, "last_activity_date": 1554933330, "creation_date": 1554933330, "answer_id": 55621860, "question_id": 55621803, "link": "https://stackoverflow.com/questions/55621803/how-to-create-an-already-existing-database-in-visual-studio/55621860#55621860", "title": "How to create an already existing database in Visual Studio?", "body": "<p>You have to actually create the database first... You can't log into it if it doesn't exist.</p>\n\n<p>Did the download come with a database project (you can publish that through visual studio), or .sql files (you can run them in SQL Server Management Studio) to create the database first.</p>\n\n<p>Maybe link to the github project so we can take a look?</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 11065371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7bace96f5381ffc46016af14a41e51?s=128&d=identicon&r=PG&f=1", "display_name": "Verse He", "link": "https://stackoverflow.com/users/11065371/verse-he"}, "is_accepted": false, "score": 1, "last_activity_date": 1554934400, "creation_date": 1554934400, "answer_id": 55622025, "question_id": 55621803, "link": "https://stackoverflow.com/questions/55621803/how-to-create-an-already-existing-database-in-visual-studio/55622025#55622025", "title": "How to create an already existing database in Visual Studio?", "body": "<pre><code>Data Source=(localdb)\\MSSQLLocalDB;\n</code></pre>\n\n<p>According to this line of code, you are trying to log into a local database which is supposed to be created by yourself locally. If the Github author already created a database on server and provided you with credentials, then all you have to do is to update this localDB server by the server name he provided in Github page.</p>\n"}], "owner": {"reputation": 149, "user_id": 4440962, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/53b6eff54dcdd5594b05b9c650b3efab?s=128&d=identicon&r=PG&f=1", "display_name": "F.A", "link": "https://stackoverflow.com/users/4440962/f-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 55621860, "answer_count": 2, "score": 1, "last_activity_date": 1554934400, "creation_date": 1554933015, "last_edit_date": 1554933731, "question_id": 55621803, "link": "https://stackoverflow.com/questions/55621803/how-to-create-an-already-existing-database-in-visual-studio", "title": "How to create an already existing database in Visual Studio?", "body": "<p>I am trying to run an application that has been downloaded from GitHub. The creator of the project provided usernames and passwords to log in for the application. Whenever I try to log in, I get an error that says:</p>\n\n<p>\"System.Data.SqlClient.SqlException: 'Cannot open database \"Library\" requested by the login. The login failed.\nLogin failed for user 'DESKTOP-CBKOJI6\\user'.\"</p>\n\n<p>I tried doing the following but I still keep getting the same error</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2575907/cannot-open-database-test-requested-by-the-login-the-login-failed-login-fail\">Cannot open database &quot;test&quot; requested by the login. The login failed. Login failed for user &#39;xyz\\ASPNET&#39;</a></p>\n\n<pre><code>&lt;connectionStrings&gt;\nname=\"DbConnection\"\nconnectionString=\"Data Source=(localdb)\\MSSQLLocalDB;Initial Catalog=Library;Integrated Security=TrueConnect; Timeout=30;Encrypt=False;TrustServerCertificate=True;ApplicationIntent=ReadWrite;MultiSubnetFailover=False\" /&gt;\n&lt;/connectionStrings&gt;\n</code></pre>\n\n<p>This is the database that is in the App.config</p>\n\n<p>The error I get is in this line of code: </p>\n\n<pre><code>con.Open();\n</code></pre>\n\n<p>EDIT 1: </p>\n\n<p>Link for the project >> <a href=\"https://github.com/RuXeR97/Library\" rel=\"nofollow noreferrer\">https://github.com/RuXeR97/Library</a></p>\n"}, {"tags": ["c#", "asp.net"], "owner": {"reputation": 23, "user_id": 3579221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4813ff9dfe099de2cfab73b9f217b268?s=128&d=identicon&r=PG&f=1", "display_name": "FreedomByFire", "link": "https://stackoverflow.com/users/3579221/freedombyfire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554932359, "creation_date": 1554932359, "question_id": 55621676, "link": "https://stackoverflow.com/questions/55621676/onitemcommand-not-firing-in-repeater", "title": "OnItemCommand Not Firing in Repeater", "body": "<p>When the user clicks on the linkButton OnItemCommand no does not fire. When the ItemCommand event is never called. The code run and generates the divs and displays the correct data, so i know the person object is being binded correctly, but clicking the link button does not work as MatchList_ItemCommand is never fired.</p>\n\n<p>I've been searching for days, but nothing I've come across has been able to resolve this problem for me. I'm not seeing anything wrong with this code.</p>\n\n<pre><code>&lt;asp:Panel ID=\"matchListPnl\" runat=\"server\" Visible=\"false\"&gt;\n\n       &lt;h1&gt;Look Up Person: Results&lt;/h1&gt;\n       &lt;p&gt;&lt;asp:Label ID=\"matchListLbl\" runat=\"server\"&gt;&lt;/asp:Label&gt; Clicking the name loads it for administration.&lt;/p&gt;\n\n       &lt;asp:Panel ID=\"exactMatchPnl\" runat=\"server\" Visible=\"false\"&gt;       \n          &lt;h2&gt;&lt;asp:Label ID=\"exactMatchLbl\" runat=\"server\"&gt;&lt;/asp:Label&gt;&lt;/h2&gt;\n          &lt;asp:Repeater ID=\"exactMatchList\" runat=\"server\" OnItemCommand=\"MatchList_ItemCommand\"/&gt;                    \n       &lt;/asp:Panel&gt;    \n       &lt;br /&gt;      \n       &lt;asp:Panel ID=\"partialMatchPnl\" runat=\"server\" Visible=\"false\"&gt;        \n          &lt;h2&gt;&lt;asp:Label ID=\"partialMatchLbl\" runat=\"server\"&gt;&lt;/asp:Label&gt;&lt;/h2&gt;\n          &lt;asp:Repeater ID=\"partialMatchList\" runat=\"server\" OnItemCommand=\"MatchList_ItemCommand\"/&gt;                             \n       &lt;/asp:Panel&gt;\n\n&lt;/asp:Panel&gt;\n</code></pre>\n\n<pre><code> protected void MatchList_ItemCommand(object source, RepeaterCommandEventArgs e)\n        {\n\n            PersonLinkButton btn = (PersonLinkButton)e.CommandSource;\n            Person person = btn.Person;\n            //person.Refresh();                \n            Session[\"AdminPersonToEdit\"] = person;\n            LogAdminAction(\"Show account details on \" + person.LastName + \", \" + person.FirstName + \" (\" + person.Uid + \")\");\n            Response.Redirect(\"DetailView.aspx\", true);\n\n        }       \n</code></pre>\n\n<pre><code>public class LastNameSearchTemplate : ITemplate\n        {\n            public void InstantiateIn(Control container)\n            {\n                //add the beginning div tag                \n                container.Controls.Add(new LiteralControl(\"&lt;div class=\\\"resultsBox\\\"&gt;\"));\n\n                //create the link to the person\n                PersonLinkButton personLinkBtn = new PersonLinkButton();\n                personLinkBtn.DataBinding += new EventHandler(PersonLinkBtn_DataBinding);\n                container.Controls.Add(personLinkBtn);\n\n                //add any extra data about the user\n                Label personInfoLbl = new Label();\n                personInfoLbl.DataBinding += new EventHandler(PersonInfoLbl_DataBinding);\n\n                container.Controls.Add(personInfoLbl);\n\n                //add the end div\n                container.Controls.Add(new LiteralControl(\"&lt;/div&gt;\"));\n            }\n\n            /// &lt;summary&gt;\n            /// Bind person data to a PersonLinkButton. This is the link in the repeater that allows the admin to select a person.\n            /// &lt;/summary&gt;\n            /// &lt;param name=\"sender\"&gt;&lt;/param&gt;\n            /// &lt;param name=\"e\"&gt;&lt;/param&gt;\n            private void PersonLinkBtn_DataBinding(object sender, EventArgs e)\n            {\n                PersonLinkButton btn = (PersonLinkButton)sender;\n                btn.Font.Bold = true;\n\n                RepeaterItem container = (RepeaterItem)btn.NamingContainer;\n                Person person = (Person)container.DataItem;\n                btn.Person = person;\n                //set the text for the link first\n                if (btn.Person.LastName != string.Empty)\n                {\n                    if (btn.Person.LastName != btn.Person.FirstName + \",\")\n                    {\n                        btn.Text = btn.Person.LastName;\n                        if (btn.Person.FirstName != string.Empty)\n                        {\n                            btn.Text += \", \" + btn.Person.FirstName;\n                        }\n                    }\n                    else\n                    {\n                        btn.Text += \", \" + btn.Person.DisplayName;\n                    }\n                }\n                else if (btn.Person.FirstName != string.Empty)\n                {\n                    btn.Text = btn.Person.FirstName;\n                }\n                else if (btn.Person.Uid != string.Empty)\n                {\n                    btn.Text = btn.Person.Uid;\n                }\n            }\n\n            /// &lt;summary&gt;\n            /// Binds person data to a label\n            /// &lt;/summary&gt;\n            /// &lt;param name=\"sender\"&gt;&lt;/param&gt;\n            /// &lt;param name=\"e\"&gt;&lt;/param&gt;\n            private void PersonInfoLbl_DataBinding(object sender, EventArgs e)\n            {\n                Label lbl = (Label)sender;\n                RepeaterItem container = (RepeaterItem)lbl.NamingContainer;\n                Person person = (Person)container.DataItem;\n\n                //get first name and uid first\n\n                //next show any student data\n                bool showData = false;\n                string displayName = string.Empty;\n                string uid = string.Empty;\n                string dob = string.Empty;\n                string ssn4 = string.Empty;\n                if (person.IsFound)\n                {\n                    displayName = person.DisplayName;\n                    uid = person.Uid;\n                    dob = person.Dob;\n                    ssn4 = person.Ssn4;\n                    showData = true;\n                }\n\n                if (showData)\n                {                    \n                    lbl.Text += \"&lt;br/&gt;Name: &lt;em&gt;\" + displayName + \"&lt;/em&gt;\";\n                    lbl.Text += \"&lt;br/&gt;Uid: &amp;nbsp;&lt;em&gt;\" + uid + \"&lt;/em&gt;\";\n                    lbl.Text += \"&lt;br/&gt;DOB: &amp;nbsp;&lt;em&gt;\" + dob + \"&lt;/em&gt;\";\n                    lbl.Text += \"&lt;br/&gt;SSN4: &amp;nbsp;&lt;em&gt;\" + ssn4 + \"&lt;/em&gt;\";\n                }\n            }\n        }\n</code></pre>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n        {\n            string adminUid = \"blah\";\n            if (IsPostBack &amp;&amp; ViewState[\"uid\"] != null)\n            {\n                SetMatchListForm(Person.FindByAccount(ViewState[\"uid\"].ToString(),adminUid));\n            }\n            else\n            {\n                //If reloading the page, reset to the lookup form\n                base.ResetSelectedPerson();\n                SetLookupForm();\n            }                \n        }\n</code></pre>\n"}, {"tags": ["c#", "winforms", "mschart"], "comments": [{"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1554932776, "post_id": 55621622, "comment_id": 97936475, "body": "Sure. There are in fact <b>many</b> ways, from using the Paint event and DrawString to creating a TextAnnotation etc.."}, {"owner": {"reputation": 13, "user_id": 11342914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f5cfd45cf0e831740fecc84bff7a467?s=128&d=identicon&r=PG&f=1", "display_name": "qwerteste", "link": "https://stackoverflow.com/users/11342914/qwerteste"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1554933463, "post_id": 55621622, "comment_id": 97936727, "body": "thank you! i will look that!"}], "answers": [{"comments": [{"owner": {"reputation": 6508, "user_id": 5962841, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qD8gs.jpg?s=128&g=1", "display_name": "Mafii", "link": "https://stackoverflow.com/users/5962841/mafii"}, "edited": false, "score": 2, "creation_date": 1554965493, "post_id": 55621939, "comment_id": 97944593, "body": "You should use <code>!chart1.Series[seriesName].Points.Any()</code> instead of <code>.Count == 0</code> - this is known as a code smell"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "reply_to_user": {"reputation": 6508, "user_id": 5962841, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qD8gs.jpg?s=128&g=1", "display_name": "Mafii", "link": "https://stackoverflow.com/users/5962841/mafii"}, "edited": false, "score": 0, "creation_date": 1554965535, "post_id": 55621939, "comment_id": 97944612, "body": "I wouldn&#39;t call it &#39;smell&#39; as <code>0</code> is not really a magic number but you are right, <code>Any</code> is indeed the recommended choice. I tried to stay with OP&#39;s code as much as possible butI I&#39;ll add it to the answer.."}, {"owner": {"reputation": 6508, "user_id": 5962841, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qD8gs.jpg?s=128&g=1", "display_name": "Mafii", "link": "https://stackoverflow.com/users/5962841/mafii"}, "edited": false, "score": 0, "creation_date": 1554965633, "post_id": 55621939, "comment_id": 97944668, "body": "Whatever you wanna call it, it&#39;s poor practice and should be avoided, especially when using big data sets (which can be the case when rendering a chart)"}, {"owner": {"reputation": 6508, "user_id": 5962841, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qD8gs.jpg?s=128&g=1", "display_name": "Mafii", "link": "https://stackoverflow.com/users/5962841/mafii"}, "edited": false, "score": 0, "creation_date": 1554965842, "post_id": 55621939, "comment_id": 97944773, "body": "Since you updated your comment: It&#39;s not about the 0. If it&#39;s a list, it doesn&#39;t matter, really. But you get a mixed, inconsistent code style, because with Enumberables or Queryables you really <b>need</b> to use <code>.Any()</code>, or you <i>risk enumerating the whole set</i> just to be sure if there is at least one item."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "reply_to_user": {"reputation": 6508, "user_id": 5962841, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qD8gs.jpg?s=128&g=1", "display_name": "Mafii", "link": "https://stackoverflow.com/users/5962841/mafii"}, "edited": false, "score": 0, "creation_date": 1554966002, "post_id": 55621939, "comment_id": 97944854, "body": "<a href=\"https://stackoverflow.com/questions/305092/which-method-performs-better-any-vs-count-0\">This</a> has a good discussion; but imo this is a good example of style and clarity over (assumed) performance."}, {"owner": {"reputation": 6508, "user_id": 5962841, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qD8gs.jpg?s=128&g=1", "display_name": "Mafii", "link": "https://stackoverflow.com/users/5962841/mafii"}, "edited": false, "score": 1, "creation_date": 1554966148, "post_id": 55621939, "comment_id": 97944933, "body": "Read the comments. I&#39;m definitly on T.J.Kjaer&#39;s side. By the way - Any is implemented as .Length on Arrays and on .Count on lists."}], "tags": [], "owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "is_accepted": true, "score": 5, "last_activity_date": 1554966453, "last_edit_date": 1554966453, "creation_date": 1554933862, "answer_id": 55621939, "question_id": 55621622, "link": "https://stackoverflow.com/questions/55621622/how-to-show-a-message-if-chart-data-is-empty/55621939#55621939", "title": "How to show a message if chart data is empty?", "body": "<blockquote>\n  <p>..show a message in the chart..Can I do it?</p>\n</blockquote>\n\n<p>Sure. There are in fact <strong>many</strong> ways, from setting the chart's <code>Title</code> to using the <code>Paint</code> event and <code>DrawString</code> or creating a <code>TextAnnotation</code> etc..</p>\n\n<p>The two latter options are easy to center and both will keep the position even when the chart is resized.</p>\n\n<p><strong>Example 1</strong> -  A <code>TextAnnotation</code>:</p>\n\n<pre><code>TextAnnotation ta = new TextAnnotation();\n</code></pre>\n\n<p>Set it up like this:</p>\n\n<pre><code>ta.Text = \"No Data Yet\";\nta.X = 45;  // % of the..\nta.Y = 45;  // chart size \nta.Font = new Font(\"Consolas\", 20f);\nta.Visible = false;  // first we hide it\nchart1.Annotations.Add(ta);\n</code></pre>\n\n<p>Show whenever the data are changed:</p>\n\n<pre><code>ta.Visible = (chart1.Series[seriesNameOrIndex].Points.Count == 0)\n</code></pre>\n\n<hr>\n\n<p><strong>Example 2</strong> - Drawing the messag in the <code>Paint</code> event:</p>\n\n<pre><code>private void chart1_Paint(object sender, PaintEventArgs e)\n{\n    if (chart1.Series[seriesNameOrIndex].Points.Count == 0)\n    {\n        using (Font font = new Font(\"Consolas\", 20f))\n        using (StringFormat fmt = new StringFormat()\n        { Alignment = StringAlignment.Center, LineAlignment = StringAlignment.Center })\n\n            e.Graphics.DrawString(\"No data yet\", \n                                  font, Brushes.Black, chart1.ClientRectangle, fmt);\n\n    }\n}\n</code></pre>\n\n<p>This should keep itself updated as adding or removing <code>DataPoints</code> will trigger the <code>Paint</code> event.</p>\n\n<p><strong>Btw</strong>: The <strong>recommended</strong> way to test to a collection to contain any data is using the Linq <code>Any()</code> function:</p>\n\n<pre><code>(!chart1.Series[seriesNameOrIndex].Points.Any())\n</code></pre>\n\n<p>It is both as fast as possible and clear in its intent.</p>\n"}], "owner": {"reputation": 13, "user_id": 11342914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f5cfd45cf0e831740fecc84bff7a467?s=128&d=identicon&r=PG&f=1", "display_name": "qwerteste", "link": "https://stackoverflow.com/users/11342914/qwerteste"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 55621939, "answer_count": 1, "score": 1, "last_activity_date": 1554966453, "creation_date": 1554932103, "last_edit_date": 1554965415, "question_id": 55621622, "link": "https://stackoverflow.com/questions/55621622/how-to-show-a-message-if-chart-data-is-empty", "title": "How to show a message if chart data is empty?", "body": "<p>I have WinForm with chart and database.Chart get data from database. If no data  the chart isn't visible. I would like to show a message in the chart place.For example: \"No data yet.\" Can I do it?</p>\n\n<pre><code>if (chart1[\"Series1\"].Points.Count == 0)\n{\n   ???\n}\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "sharepoint", "ssis"], "comments": [{"owner": {"reputation": 2202, "user_id": 1152734, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2142caff95fdb27c22f25e1080d4ea95?s=128&d=identicon&r=PG", "display_name": "rvphx", "link": "https://stackoverflow.com/users/1152734/rvphx"}, "edited": false, "score": 0, "creation_date": 1554932233, "post_id": 55621533, "comment_id": 97936304, "body": "Do you have access to that particular location? Does the said file exist at the location?"}, {"owner": {"reputation": 30925, "user_id": 7031230, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sPvnP.jpg?s=128&g=1", "display_name": "Hadi", "link": "https://stackoverflow.com/users/7031230/hadi"}, "edited": false, "score": 0, "creation_date": 1554936132, "post_id": 55621533, "comment_id": 97937534, "body": "Check the following article <a href=\"http://www.techbrothersit.com/2016/07/how-to-download-file-from-sharepoint-by.html\" rel=\"nofollow noreferrer\">techbrothersit.com/2016/07/&hellip;</a>"}, {"owner": {"reputation": 2202, "user_id": 1152734, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2142caff95fdb27c22f25e1080d4ea95?s=128&d=identicon&r=PG", "display_name": "rvphx", "link": "https://stackoverflow.com/users/1152734/rvphx"}, "edited": false, "score": 0, "creation_date": 1554936994, "post_id": 55621533, "comment_id": 97937738, "body": "I think he is following the same article. Looks very familiar."}, {"owner": {"reputation": 33, "user_id": 10776059, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E1XfO2Fd55w/AAAAAAAAAAI/AAAAAAAAGw4/LqAMtOgavkY/photo.jpg?sz=128", "display_name": "Paulo Felicio", "link": "https://stackoverflow.com/users/10776059/paulo-felicio"}, "edited": false, "score": 0, "creation_date": 1554985673, "post_id": 55621533, "comment_id": 97956025, "body": "I am checking this exact article, I even posted a comment there asking this same question lol"}, {"owner": {"reputation": 33, "user_id": 10776059, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E1XfO2Fd55w/AAAAAAAAAAI/AAAAAAAAGw4/LqAMtOgavkY/photo.jpg?sz=128", "display_name": "Paulo Felicio", "link": "https://stackoverflow.com/users/10776059/paulo-felicio"}, "edited": false, "score": 0, "creation_date": 1554985716, "post_id": 55621533, "comment_id": 97956056, "body": "Answering your question, rvphx, I do have acces to this location. And the file do exist. I can access it by accessing the URL."}], "owner": {"reputation": 33, "user_id": 10776059, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E1XfO2Fd55w/AAAAAAAAAAI/AAAAAAAAGw4/LqAMtOgavkY/photo.jpg?sz=128", "display_name": "Paulo Felicio", "link": "https://stackoverflow.com/users/10776059/paulo-felicio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1554931969, "creation_date": 1554931541, "last_edit_date": 1592644375, "question_id": 55621533, "link": "https://stackoverflow.com/questions/55621533/getting-error-while-trying-to-download-a-file-from-a-sharepoint-page", "title": "Getting error while trying to download a file from a SharePoint page", "body": "<p>I am making a script task in SSIS to connect to a Sharepoint webpage and download a file from there. The script is in C#, and it's throwing an execption.</p>\n<p>When I execute it, I get the error:</p>\n<blockquote>\n<p>An exception of type 'System.NullReferenceException' occurred in Microsoft.SqlServer.ManagedDTS.dll but was not handled in user code</p>\n<p>Additional information: Object reference not set to an instance of an object.</p>\n</blockquote>\n<p>What does it mean?</p>\n<pre><code>string FilePath = Dts.Variables[&quot;User::FilePath&quot;].Value.ToString();\nobject obj = Dts.Connections[&quot;HTTP Connection Manager 1&quot;].AcquireConnection(null);\nHttpClientConnection HTTPConnection = new HttpClientConnection(obj);\nHTTPConnection.DownloadFile(FilePath, true);\n\n\nDts.TaskResult = (int)ScriptResults.Success;\n</code></pre>\n"}, {"tags": ["c#", "wpf", "pdf"], "owner": {"reputation": 11, "user_id": 9165512, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cQpIyE5huiA/AAAAAAAAAAI/AAAAAAAAAFk/FT9yYZmzSRU/photo.jpg?sz=128", "display_name": "Calvin Mays", "link": "https://stackoverflow.com/users/9165512/calvin-mays"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1610704543, "creation_date": 1554930386, "last_edit_date": 1554933391, "question_id": 55621327, "link": "https://stackoverflow.com/questions/55621327/viewing-pdf-through-webbrowser-control-shows-adobe-reader-menus-instead-of-pdf", "title": "Viewing PDF through WebBrowser control shows adobe reader menus instead of pdf", "body": "<p>There are some questions on here about getting a pdf to show up in a WPF app, I'm not having any issue with that. The issue is that when it does load up, there's all the default Adobe Reader toolbars and things clogging up the screen until I click options and set the file view mode to \"Read Mode\".</p>\n\n<p>Screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cT0nI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cT0nI.png\" alt=\"enter image description here\"></a></p>\n\n<p>Sometimes it opens up fine, but most of the time it opens like it does in that top pic.</p>\n\n<p>I've looked around for default settings I might be able to change and for other people having this issue but have no luck.</p>\n\n<p>I'm opening it in a pretty basic way:</p>\n\n<pre><code>this.webBrowser.Navigate(\"file:///\" + \"C:/code/example.pdf\");\n</code></pre>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["c#", "mouseevent", "user32"], "answers": [{"comments": [{"owner": {"reputation": 2062, "user_id": 8825020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TRJPs.jpg?s=128&g=1", "display_name": "Dilshod K", "link": "https://stackoverflow.com/users/8825020/dilshod-k"}, "edited": false, "score": 0, "creation_date": 1554954086, "post_id": 55621635, "comment_id": 97941155, "body": "Could you give an example?"}], "tags": [], "owner": {"reputation": 5866, "user_id": 2102132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pk78.png?s=128&g=1", "display_name": "Milney", "link": "https://stackoverflow.com/users/2102132/milney"}, "is_accepted": false, "score": 0, "last_activity_date": 1554932136, "creation_date": 1554932136, "answer_id": 55621635, "question_id": 55621288, "link": "https://stackoverflow.com/questions/55621288/how-can-i-catch-mouse-leave-event-using-user32-dll/55621635#55621635", "title": "How can I catch mouse leave event using user32.dll", "body": "<p>There is a Windows API call which allows getting mouse events even if they are not in the window:</p>\n\n<p>SetCapture(hWnd)</p>\n\n<p>You can combine this with a call to:</p>\n\n<p>WindowFromPoint()</p>\n\n<p>to get which Window the mouse is over</p>\n"}, {"tags": [], "owner": {"reputation": 2062, "user_id": 8825020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TRJPs.jpg?s=128&g=1", "display_name": "Dilshod K", "link": "https://stackoverflow.com/users/8825020/dilshod-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1555040946, "creation_date": 1555040946, "answer_id": 55644229, "question_id": 55621288, "link": "https://stackoverflow.com/questions/55621288/how-can-i-catch-mouse-leave-event-using-user32-dll/55644229#55644229", "title": "How can I catch mouse leave event using user32.dll", "body": "<p>I did it like this </p>\n\n<pre><code>[DllImport(\"user32.dll\")]\n    static extern bool GetCursorPos(out Point lpPoint);\n\n    void StartGettingCursorPos()\n    {\n        Task.Run(new Action(() =&gt;\n        {\n            while (true)\n            {\n                GetCursorPos(out Point point);\n                Console.WriteLine($\"X:{point.X}; Y:{point.Y}\");\n                Thread.Sleep(20);\n            }\n        }));\n    }\n</code></pre>\n"}], "owner": {"reputation": 2062, "user_id": 8825020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TRJPs.jpg?s=128&g=1", "display_name": "Dilshod K", "link": "https://stackoverflow.com/users/8825020/dilshod-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 55644229, "answer_count": 2, "score": 2, "last_activity_date": 1555040946, "creation_date": 1554930201, "question_id": 55621288, "link": "https://stackoverflow.com/questions/55621288/how-can-i-catch-mouse-leave-event-using-user32-dll", "title": "How can I catch mouse leave event using user32.dll", "body": "<p>I'm using user32.dll for getting cursor position and simulating mouse click and etc.. I'm using MouseLeave event in WPF app.But I want to catch mouse leave (or mouse over) event from all windows (not only in my WPF app). Is it possbile to catch this event using user32.dll or something else?  </p>\n"}, {"tags": ["c#", "compression"], "answers": [{"comments": [{"owner": {"reputation": 1700, "user_id": 3025534, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/iI4D8.jpg?s=128&g=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/3025534/alan"}, "edited": false, "score": 0, "creation_date": 1554997946, "post_id": 55621671, "comment_id": 97964385, "body": "How would I add that header info? I wouldn&#39;t need it long term, but it would be nice to extend what I have instead of build a new application to open compressed strings."}], "tags": [], "owner": {"reputation": 5866, "user_id": 2102132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pk78.png?s=128&g=1", "display_name": "Milney", "link": "https://stackoverflow.com/users/2102132/milney"}, "is_accepted": false, "score": 1, "last_activity_date": 1554932334, "creation_date": 1554932334, "answer_id": 55621671, "question_id": 55621272, "link": "https://stackoverflow.com/questions/55621272/open-file-created-by-c-deflatestream-in-windows/55621671#55621671", "title": "Open file created by C# DeflateStream in Windows", "body": "<p>It doesn't write header information and metadata so you can't 'open' it like a zip file... You could always simply perform the reverse (i.e. Decompress with a DeflateStream) to get the original data...</p>\n"}], "owner": {"reputation": 1700, "user_id": 3025534, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/iI4D8.jpg?s=128&g=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/3025534/alan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554932334, "creation_date": 1554930147, "question_id": 55621272, "link": "https://stackoverflow.com/questions/55621272/open-file-created-by-c-deflatestream-in-windows", "title": "Open file created by C# DeflateStream in Windows", "body": "<p>I am debugging some data (JSON string) that is being sent to a PHP API that has been compressed in C# using <code>DeflateStream</code>:</p>\n\n<pre><code>using (var writer = new StreamWriter(new MemoryStream())){\n    ServicePointManager.SecurityProtocol = SecurityProtocolType.Ssl3 | SecurityProtocolType.Tls | SecurityProtocolType.Tls11 | SecurityProtocolType.Tls12;\n    request.Headers.Add(\"Content-Encoding\", \"gzip\");\n    request.Headers.Add(HttpRequestHeader.AcceptEncoding, \"gzip, deflate\");\n    byteArray = Compress(new MemoryStream(Encoding.UTF8.GetBytes(incomingData)));\n    Random random = new Random();\n    int randomNumber = random.Next(0, 100);\n    File.WriteAllBytes(@\"compressed-\"+ randomNumber + \".gz\", byteArray);\n}\n</code></pre>\n\n<p>Here is the definition for <code>Compress()</code></p>\n\n<pre><code>private static byte[] Compress(Stream input)\n        {\n            using (var compressStream = new MemoryStream())\n            using (var compressor = new DeflateStream(compressStream, CompressionMode.Compress))\n            {\n                input.CopyTo(compressor);\n                compressor.Close();\n                return compressStream.ToArray();\n            }\n        }\n</code></pre>\n\n<p>Is there any way to open this file that has been created in Windows? I tried 7zip and Winrar to no avail. If I were to use <code>GZipStream</code> I can open it, but PHP isn't compatible with that format.</p>\n"}, {"tags": ["c#", "sql-server", "excel", "ssis", "com"], "comments": [{"owner": {"reputation": 1978, "user_id": 10376537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/267f188f4d391515ee8cee217067a2fa?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Mylott", "link": "https://stackoverflow.com/users/10376537/tim-mylott"}, "edited": false, "score": 0, "creation_date": 1554931357, "post_id": 55621271, "comment_id": 97935998, "body": "are you using Microsoft.Office.Interop.Excel?  Which is probably on your machine but not on the server."}, {"owner": {"reputation": 99, "user_id": 9530039, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8PMHm.jpg?s=128&g=1", "display_name": "Bumblebee", "link": "https://stackoverflow.com/users/9530039/bumblebee"}, "reply_to_user": {"reputation": 1978, "user_id": 10376537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/267f188f4d391515ee8cee217067a2fa?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Mylott", "link": "https://stackoverflow.com/users/10376537/tim-mylott"}, "edited": false, "score": 0, "creation_date": 1554996062, "post_id": 55621271, "comment_id": 97963195, "body": "Yes. I&#39;m using Microsoft.Office.Interop.Excel. So, Is it mandatory to have Microsoft Office Excel installed on Server Side ??"}, {"owner": {"reputation": 1978, "user_id": 10376537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/267f188f4d391515ee8cee217067a2fa?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Mylott", "link": "https://stackoverflow.com/users/10376537/tim-mylott"}, "edited": false, "score": 0, "creation_date": 1555002997, "post_id": 55621271, "comment_id": 97967041, "body": "Yes, code is running on the server which means any dependencies would need to be installed on the server as well.  I don&#39;t know if there is a separate install for just that or if that&#39;s part of the office/excel install."}, {"owner": {"reputation": 99, "user_id": 9530039, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8PMHm.jpg?s=128&g=1", "display_name": "Bumblebee", "link": "https://stackoverflow.com/users/9530039/bumblebee"}, "reply_to_user": {"reputation": 1978, "user_id": 10376537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/267f188f4d391515ee8cee217067a2fa?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Mylott", "link": "https://stackoverflow.com/users/10376537/tim-mylott"}, "edited": false, "score": 0, "creation_date": 1555005631, "post_id": 55621271, "comment_id": 97968189, "body": "Okay. Perfect. That makes sense. Thank you @TimMylott for the information."}], "owner": {"reputation": 99, "user_id": 9530039, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8PMHm.jpg?s=128&g=1", "display_name": "Bumblebee", "link": "https://stackoverflow.com/users/9530039/bumblebee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 0, "closed_date": 1554930802, "answer_count": 0, "score": 0, "last_activity_date": 1554930239, "creation_date": 1554930145, "last_edit_date": 1554930239, "question_id": 55621271, "link": "https://stackoverflow.com/questions/55621271/exception-from-hresult-0x80040154-regdb-e-classnotreg", "closed_reason": "Duplicate", "title": "(Exception from HRESULT: 0x80040154 (REGDB_E_CLASSNOTREG))", "body": "<p>We have one SSIS Package which has one Script task- And the script task is using C# 2012 version. The job is to open an excel file and modify the column width and save it. Everything working fine on my local machine. when I deployed this package on to the Production server. The package failed. i'm getting this error-</p>\n\n<blockquote>\n  <p>Retrieving the COM class factory for component with CLSID\n  {00024500-0000-0000-C000-000000000046} failed due to the following\n  error: 80040154 Class not registered (Exception from HRESULT:\n  0x80040154 (REGDB_E_CLASSNOTREG)).</p>\n</blockquote>\n\n<p>Here is the Script task code :</p>\n\n<pre><code>public void Main()\n    {\n        try\n        {\n        // TODO: Add your code here\n        Excel.Application xlp = new Excel.Application();\n        Excel.Workbooks wrkbs = xlp.Workbooks;\n        Excel.Workbook wrkb = wrkbs.Open(Dts.Variables[@\"User::Source\"].Value.ToString());\n        Excel.Sheets sht = wrkb.Worksheets;\n\n            try\n            {\n\n            //sheet1 formating\n            Excel.Worksheet wst = (Excel.Worksheet)sht.get_Item(1);\n            wst.Columns.AutoFit();\n            wst.Rows.AutoFit();\n            Excel.Range rngQ = wst.get_Range(\"Q:Q\", Type.Missing);\n            rngQ.ColumnWidth = 18.43;\n            Excel.Range rngR = wst.get_Range(\"R:R\", Type.Missing);\n            rngR.ColumnWidth = 14.86;\n            Excel.Range rng1 = wst.get_Range(\"1:1\", Type.Missing);\n            rng1.RowHeight = 15.75;\n            //sheet2 formating\n            Excel.Worksheet wst2 = (Excel.Worksheet)sht.get_Item(2);\n            wst2.Columns.AutoFit();\n            //sheet3 formating\n            Excel.Worksheet wst3 = (Excel.Worksheet)sht.get_Item(3);\n            wst3.Columns.AutoFit();\n            wrkb.Save();\n            wrkb.Close();\n            xlp.Quit();\n            System.Threading.Thread.Sleep(60000);\n              }\n              finally\n              {\n                 if (sht != null) Marshal.ReleaseComObject(sht);\n                 if (wrkb != null) Marshal.ReleaseComObject(wrkb);\n                  if (wrkbs != null) Marshal.ReleaseComObject(wrkbs);\n                if (xlp != null) Marshal.ReleaseComObject(xlp);\n             } \n        }\n        catch (Exception em)\n        {\n            string er = Dts.Variables[@\"User::ERROR\"].Value.ToString();\n            using (StreamWriter sw = File.CreateText(er + \"Error_Format_StatusChangeR_\" + DateTime.Now.ToString(\"ddMMyyyyhhmmss\") + \".log\"))\n            {\n                sw.WriteLine(em.Message.ToString());\n            }\n\n        }\n\n\n        Dts.TaskResult = (int)ScriptResults.Success;\n    }\n</code></pre>\n\n<p>PLease help me with this</p>\n"}, {"tags": ["c#", "naudio"], "answers": [{"tags": [], "owner": {"reputation": 45124, "user_id": 7532, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/db4b131b1b1519a5a22f84b1e8737f9b?s=128&d=identicon&r=PG", "display_name": "Mark Heath", "link": "https://stackoverflow.com/users/7532/mark-heath"}, "is_accepted": false, "score": 1, "last_activity_date": 1555666947, "creation_date": 1555666947, "answer_id": 55759804, "question_id": 55621224, "link": "https://stackoverflow.com/questions/55621224/receiving-naudio-mmexception-nodriver-calling-acmformatsuggest-exception-on-w/55759804#55759804", "title": "Receiving &quot;NAudio.MmException: NoDriver calling acmFormatSuggest&quot; Exception on WAV File", "body": "<p>This means that there is no ACM codec installed on your machine that is able to decode the <code>WaveFormat</code> of the WAV file. If you open it with a <code>WaveFileReader</code> and look at the <code>WaveFormat</code> property you will be able to see what compression type is being used</p>\n"}], "owner": {"reputation": 29, "user_id": 8485075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f164a63558d5e0948de53dc8e7668bd?s=128&d=identicon&r=PG&f=1", "display_name": "Paul McMillan", "link": "https://stackoverflow.com/users/8485075/paul-mcmillan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555666947, "creation_date": 1554929876, "question_id": 55621224, "link": "https://stackoverflow.com/questions/55621224/receiving-naudio-mmexception-nodriver-calling-acmformatsuggest-exception-on-w", "title": "Receiving &quot;NAudio.MmException: NoDriver calling acmFormatSuggest&quot; Exception on WAV File", "body": "<p>When I run this line of code on a Wav file: </p>\n\n<p>AudioFileReader1 = New AudioFileReader(Me.FilePath)</p>\n\n<p>I get this error:</p>\n\n<p>NAudio.MmException: NoDriver calling acmFormatSuggest at NAudio.Wave.Compression.AcmStream.SuggestPcmFormat(WaveFormat compressedFormat) at NAudio.Wave.WaveFormatConversionStream.CreatePcmStream(WaveStream sourceStream)    at NAudio.Wave.AudioFileReader.CreateReaderStream(String fileName)   at NAudio.Wave.AudioFileReader..ctor(String fileName)</p>\n\n<p>I've found a number of references to solve this problem for an mp3 file, but none for a Wav file.  Am I missing something?</p>\n"}, {"tags": ["c#", "jquery", "asp.net-mvc"], "comments": [{"owner": {"reputation": 218, "user_id": 6141164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746cee9f4b40ab1d17bb0834b78afb2b?s=128&d=identicon&r=PG&f=1", "display_name": "swapmeet_Lou", "link": "https://stackoverflow.com/users/6141164/swapmeet-lou"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1554929270, "post_id": 55621026, "comment_id": 97935130, "body": "Unfortunately, the same result.. I had tried that one as well."}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1554929506, "post_id": 55621026, "comment_id": 97935224, "body": "What if you do <code>$.post(url, {uc: &quot;Test string&quot;}, ...)</code> - do you get anything?"}, {"owner": {"reputation": 218, "user_id": 6141164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746cee9f4b40ab1d17bb0834b78afb2b?s=128&d=identicon&r=PG&f=1", "display_name": "swapmeet_Lou", "link": "https://stackoverflow.com/users/6141164/swapmeet-lou"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1554929695, "post_id": 55621026, "comment_id": 97935299, "body": "Nope.. it still sends as null. I have this as a little test.  if(uc == &quot;Test String&quot;)             {                 return Content(&quot;uc is Test string.&quot;);             }   This is in the controller"}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1554929750, "post_id": 55621026, "comment_id": 97935328, "body": "Why not just use break points instead of writing code-based tests? Case in point, my example had &quot;Test string&quot; but you&#39;re testing for &quot;Test String&quot;, which are not equal due to case sensitivity. Not sure that matters but just a note. Also - what is <code>$(&quot;#Id&quot;)</code>? A <code>&lt;form&gt;</code>?"}, {"owner": {"reputation": 218, "user_id": 6141164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746cee9f4b40ab1d17bb0834b78afb2b?s=128&d=identicon&r=PG&f=1", "display_name": "swapmeet_Lou", "link": "https://stackoverflow.com/users/6141164/swapmeet-lou"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1554929973, "post_id": 55621026, "comment_id": 97935437, "body": "You&#39;re right. Break points is a much better idea. I&#39;m terrible at using them and can&#39;t really see what I&#39;m looking for that way. So, the code based on this works okay. I capitalized the Test String in the check. I even shortened it &quot;Test&quot;  It still comes back null."}, {"owner": {"reputation": 218, "user_id": 6141164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746cee9f4b40ab1d17bb0834b78afb2b?s=128&d=identicon&r=PG&f=1", "display_name": "swapmeet_Lou", "link": "https://stackoverflow.com/users/6141164/swapmeet-lou"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1554930184, "post_id": 55621026, "comment_id": 97935528, "body": "P.S $(&quot;#Id&quot;) comes from this   @Html.HiddenFor(model =&gt; model.Id) .. the alerts I have in the Jquery pull the correct value out and display it for me."}, {"owner": {"reputation": 218, "user_id": 6141164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746cee9f4b40ab1d17bb0834b78afb2b?s=128&d=identicon&r=PG&f=1", "display_name": "swapmeet_Lou", "link": "https://stackoverflow.com/users/6141164/swapmeet-lou"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1554930442, "post_id": 55621026, "comment_id": 97935633, "body": "I figured it out. I&#39;ll post below."}], "answers": [{"tags": [], "owner": {"reputation": 218, "user_id": 6141164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746cee9f4b40ab1d17bb0834b78afb2b?s=128&d=identicon&r=PG&f=1", "display_name": "swapmeet_Lou", "link": "https://stackoverflow.com/users/6141164/swapmeet-lou"}, "is_accepted": false, "score": 0, "last_activity_date": 1554930674, "creation_date": 1554930674, "answer_id": 55621384, "question_id": 55621026, "link": "https://stackoverflow.com/questions/55621026/jquery-post-method-is-sending-a-null-value-how-to-pass-actual-value-to-control/55621384#55621384", "title": "Jquery .post method is sending a null value. How to pass actual value to controller?", "body": "<p>I don't know why, but changing my $.post() call to an $.ajax({}) call solved the issue. As you can see above, I had the $.post call. Using this instead, </p>\n\n<pre><code> $.ajax({\n            type: \"POST\",\n            url: \"/Home/MmsAndNotes\",\n            dataType: 'text',\n            data: { Id: Uc }\n        });\n</code></pre>\n\n<p>Solved it. I thought Jquery's shortened calls worked the same way. They certainly might, but doing it this way was the only way it worked for me. </p>\n\n<p>P.S. Thanks Tyler (above) for your comments. </p>\n"}, {"comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1554989773, "post_id": 55621389, "comment_id": 97958839, "body": "If the value were empty, the result wouldn&#39;t be <code>null</code>, but an empty string."}, {"owner": {"reputation": 768, "user_id": 10646305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CIFfJ.jpg?s=128&g=1", "display_name": "Alaaeddine HFIDHI", "link": "https://stackoverflow.com/users/10646305/alaaeddine-hfidhi"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1554991774, "post_id": 55621389, "comment_id": 97960271, "body": "can you explain more ?"}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1554992983, "post_id": 55621389, "comment_id": 97961086, "body": "If <code>.val()</code> were empty, it would be set to <code>&quot;&quot;</code> (an empty string). <code>&quot;&quot;</code> and <code>null</code> are not the same. OP&#39;s code confirms that the value is <code>null</code>."}], "tags": [], "owner": {"reputation": 768, "user_id": 10646305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CIFfJ.jpg?s=128&g=1", "display_name": "Alaaeddine HFIDHI", "link": "https://stackoverflow.com/users/10646305/alaaeddine-hfidhi"}, "is_accepted": false, "score": -1, "last_activity_date": 1554930702, "creation_date": 1554930702, "answer_id": 55621389, "question_id": 55621026, "link": "https://stackoverflow.com/questions/55621026/jquery-post-method-is-sending-a-null-value-how-to-pass-actual-value-to-control/55621389#55621389", "title": "Jquery .post method is sending a null value. How to pass actual value to controller?", "body": "<p>this solution should be work  : </p>\n\n<pre><code>    $(document).ready(function () {\n            $.ajax({\n        url: '/Home/MmsAndNotes',\n        type: 'GET',\n        dataType: \"html\",\n\n        data: { uc : $(\"#Id\").val() }, \n     success: function (result) { \n         code here\n                               }\n    });\n        })\n</code></pre>\n\n<p><strong>You need to verify if $(\"#Id\").val() is not empty</strong> </p>\n"}], "owner": {"reputation": 218, "user_id": 6141164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746cee9f4b40ab1d17bb0834b78afb2b?s=128&d=identicon&r=PG&f=1", "display_name": "swapmeet_Lou", "link": "https://stackoverflow.com/users/6141164/swapmeet-lou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554967670, "creation_date": 1554928881, "last_edit_date": 1554967670, "question_id": 55621026, "link": "https://stackoverflow.com/questions/55621026/jquery-post-method-is-sending-a-null-value-how-to-pass-actual-value-to-control", "title": "Jquery .post method is sending a null value. How to pass actual value to controller?", "body": "<p>I have a controller that applies to an edit view in asp.net MVC. I have an actionlink that sends the row Id to the controller which then brings back the correct row to see in the associated view. </p>\n\n<p>I then have a partial view below that. That also requires a parameter in order to bring associated data from another table.</p>\n\n<p>I have a Jquery .post call that runs after the page is loaded. I can alert out and show the exact value I want to send to the controller.</p>\n\n<pre><code>   $(document).ready(function () {\n        var url = \"/Home/MmsAndNotes\";\n        var Uc = $(\"#Id\").serialize();\n        alert(Uc);\n        $.post(url, {Id: Uc}, function (data) {\n          alert(\"what is Uc now? \" + uc); //just for testing\n        });\n    })\n</code></pre>\n\n<p>I have also used it this way. </p>\n\n<pre><code>$(document).ready(function () {\n        var url = \"/Home/MmsAndNotes\";\n        var Uc = $(\"#Id\").val();\n        alert(Uc);\n        $.post(url, Uc, function (data) {\n\n        });\n    })\n</code></pre>\n\n<p>the alerts come up and show the value I want. However, when the .post call runs, it sends a null value. Here is my controller.</p>\n\n<pre><code> public ActionResult MmsAndNotes(string Id)\n    {\n        //Declare LogisticsVM for individual policy info\n        LogisticsMMS_NotesVM model;\n        if(uc == null)\n        {\n            return Content(\"uc is empty.\");\n        }\n\n        int val = Convert.ToInt32(uc);\n\n        using (Db db = new Db())\n        {\n            LogisticsMMS_NotesDTO dto = db.LogisticsMMS.Find(val);\n\n            //confirm policy exists\n            if (dto == null)\n            {\n                return Content(\"This policy cannot be found.\" + val);\n            }\n\n            model = new LogisticsMMS_NotesVM(dto);\n        }\n\n        return PartialView(model);\n    }\n</code></pre>\n\n<p>It always returns as uc is empty. I repeat, when the alerts come up. I get the correct value to send to the controller. But once it sends, something happens and it converts to null. HELPPPPP.. please .. I'm losing my mind over this one. </p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 23854, "user_id": 70345, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/aV45a.jpg?s=128&g=1", "display_name": "Ian Kemp", "link": "https://stackoverflow.com/users/70345/ian-kemp"}, "edited": false, "score": 0, "creation_date": 1554928326, "post_id": 55620820, "comment_id": 97934717, "body": "Sounds like binding redirects to me."}, {"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 1, "creation_date": 1554928346, "post_id": 55620820, "comment_id": 97934727, "body": "You may have got this error because you had the 32 bit version of the dll and your project was x64 - or the other way round. When you switched frameworks your project got set to the correct versions. The <a href=\"https://www.tiepie.com/en/libtiepie-sdk/windows\" rel=\"nofollow noreferrer\">library offers 32 and 64 bit versions</a> - which one did you download and what&#39;s your project platform setting? Also, will this app have users? You may have to see which versions work on their PCs. See <a href=\"https://www.codeofclimber.ru/images/2015-04-10.right-net45-console-prefer-32bit-checkbox.png\" rel=\"nofollow noreferrer\">this image</a> for where to see your settings."}, {"owner": {"reputation": 84, "user_id": 8657981, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/58f3af04c096668a5d455f64ae21c27e?s=128&d=identicon&r=PG&f=1", "display_name": "OsakaRhymes", "link": "https://stackoverflow.com/users/8657981/osakarhymes"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 1, "creation_date": 1554928713, "post_id": 55620820, "comment_id": 97934861, "body": "@stuartd I think you&#39;re on the right track. I have a baseline .sln on 4.6.1 that has never been downgraded (still throws exceptions on the .dll load). In that project I just tried changing the target platform in visual studio from Any CPU to x86 and to x64. It fails on Any CPU, fails on x86, and works on x64. So something somewhere is being changed to prefer x64 after the downgrade/upgrade. On the other projects I downgraded and upgraded I still have the target platform set to Any CPU.  I specifically downloaded only the 64 bit version."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1554930778, "post_id": 55620820, "comment_id": 97935752, "body": "Are you using source control?  The diff of before and after should reveal the cause."}, {"owner": {"reputation": 84, "user_id": 8657981, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/58f3af04c096668a5d455f64ae21c27e?s=128&d=identicon&r=PG&f=1", "display_name": "OsakaRhymes", "link": "https://stackoverflow.com/users/8657981/osakarhymes"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1554931489, "post_id": 55620820, "comment_id": 97936042, "body": "@Amy That is a great idea. It was the :Prefer 32-bit&quot; flag that changed. I had excluded this as an exact cause because I tried that earlier. However, since trying that I realized that there was a section of code I had removed that was apparently required. The documentation does not mark this code as required during startup, but I have to query the Library version before I am allowed to use it in any other way. If I do not query it, I get an error that looks very similar to the one I was getting originally. Very weird design, and lacking in documentation unfortunately."}], "owner": {"reputation": 84, "user_id": 8657981, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/58f3af04c096668a5d455f64ae21c27e?s=128&d=identicon&r=PG&f=1", "display_name": "OsakaRhymes", "link": "https://stackoverflow.com/users/8657981/osakarhymes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554928078, "creation_date": 1554927904, "last_edit_date": 1554928078, "question_id": 55620820, "link": "https://stackoverflow.com/questions/55620820/why-does-downgrading-my-framework-version-and-then-upgrading-again-allow-this-d", "title": "Why does downgrading my framework version and then upgrading again allow this .dll to load properly?", "body": "<p>I am trying to automate some data collection using an Oscilloscope. I have a USB scope with plenty of <a href=\"https://www.tiepie.com/en/libtiepie-sdk/c-sharp\" rel=\"nofollow noreferrer\">examples</a>. The examples worked just fine, but when I tried to create my own project things stopped working. I have mirrored their setup with respect to the <code>.dll</code> location and which is referenced in the project. Whenever the program tried to access any part of their <code>.dll</code> I continue to get </p>\n\n<blockquote>\n  <p>An attempt was made to load a program with an incorrect format. (Exception from HRESULT: 0x8007000B)\". </p>\n</blockquote>\n\n<p>There is however, nothing wrong with the <code>.dll</code>s. They are copied and pasted straight from the examples.</p>\n\n<p>After changing a single variable many times over I found out how to fix the issue, at least in the short term. I found that I was targeting a different framework than they were. They target <code>2.0</code> and I was targeting the current <code>4.6.1</code>. The page linked above says it should work with .NET 2.0 and newer. So I downgraded my project to <code>2.0</code> and now I do not get an exception when interacting with the <code>.dll</code>. Then if I upgraded to <code>4.6.1</code> it would continue to work.</p>\n\n<p>My question is why, if possible to explain without their source code, does downgrading and upgrading again fix the issue?</p>\n\n<p>Also, does this \"fix\" pose any long term issues that I need to be aware of?</p>\n"}, {"tags": ["c#", "command-line-interface", ".net-core-2.2"], "answers": [{"tags": [], "owner": {"reputation": 428, "user_id": 833831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7dc02eaa95c3d6139b34d685ff0bed6?s=128&d=identicon&r=PG", "display_name": "user833831", "link": "https://stackoverflow.com/users/833831/user833831"}, "is_accepted": false, "score": 1, "last_activity_date": 1554928495, "creation_date": 1554928495, "answer_id": 55620948, "question_id": 55620780, "link": "https://stackoverflow.com/questions/55620780/net-core-global-to-and-self-contained-exe/55620948#55620948", "title": ".NET Core Global To and Self Contained exe", "body": "<p>You need two csprojs. One for the nuget package and one for the exe. Make the exe one use the nuget package one.</p>\n"}, {"comments": [{"owner": {"reputation": 4681, "user_id": 1012984, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/78c40743c7d3a4cfa070bf72af576589?s=128&d=identicon&r=PG", "display_name": "Zeus82", "link": "https://stackoverflow.com/users/1012984/zeus82"}, "edited": false, "score": 0, "creation_date": 1555682111, "post_id": 55719519, "comment_id": 98200428, "body": "Can you explain what &quot;$(RuntimeIdentifier) == &#39;&#39;&quot; does?"}], "tags": [], "owner": {"reputation": 2215, "user_id": 309797, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8ae25bcdef62d80a3965c61ec4ee7a8e?s=128&d=identicon&r=PG", "display_name": "fra", "link": "https://stackoverflow.com/users/309797/fra"}, "is_accepted": false, "score": 0, "last_activity_date": 1555693569, "last_edit_date": 1555693569, "creation_date": 1555472339, "answer_id": 55719519, "question_id": 55620780, "link": "https://stackoverflow.com/questions/55620780/net-core-global-to-and-self-contained-exe/55719519#55719519", "title": ".NET Core Global To and Self Contained exe", "body": "<p>I ran into the same issue.\nI'm using a separate property group defined like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;PropertyGroup Condition=\"$(TargetFramework) != 'net462'\"&gt;\n    &lt;PackAsTool&gt;true&lt;/PackAsTool&gt;\n    &lt;ToolCommandName&gt;my-command&lt;/ToolCommandName&gt;\n    &lt;PackageOutputPath&gt;./nupkg&lt;/PackageOutputPath&gt;\n&lt;/PropertyGroup&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 381, "user_id": 2721453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bc58e955ec8a9c2abc46df9e569ba53?s=128&d=identicon&r=PG", "display_name": "Windsting", "link": "https://stackoverflow.com/users/2721453/windsting"}, "is_accepted": false, "score": 0, "last_activity_date": 1555592734, "creation_date": 1555592734, "answer_id": 55746678, "question_id": 55620780, "link": "https://stackoverflow.com/questions/55620780/net-core-global-to-and-self-contained-exe/55746678#55746678", "title": ".NET Core Global To and Self Contained exe", "body": "<p>Same issue here, found a <a href=\"https://github.com/dotnet/cli/issues/10607#issuecomment-454528443\" rel=\"nofollow noreferrer\">replay on GitHub</a></p>\n\n<p>just removed the directive</p>\n\n<pre><code>&lt;PackAsTool&gt;true&lt;/PackAsTool&gt;\n</code></pre>\n\n<p>in the .csproj file, it just worked like before.</p>\n"}], "owner": {"reputation": 4681, "user_id": 1012984, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/78c40743c7d3a4cfa070bf72af576589?s=128&d=identicon&r=PG", "display_name": "Zeus82", "link": "https://stackoverflow.com/users/1012984/zeus82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1555693569, "creation_date": 1554927776, "question_id": 55620780, "link": "https://stackoverflow.com/questions/55620780/net-core-global-to-and-self-contained-exe", "title": ".NET Core Global To and Self Contained exe", "body": "<p>I am creating an exe that I want to have as a 'dotnetcore global tool' and also as a stand-alone exe.  This is what my csproj looks like:</p>\n\n<pre><code>  &lt;PropertyGroup&gt;\n    &lt;OutputType&gt;Exe&lt;/OutputType&gt;\n    &lt;TargetFramework&gt;netcoreapp2.2&lt;/TargetFramework&gt;\n    &lt;LangVersion&gt;7.1&lt;/LangVersion&gt;\n    &lt;CopyLocalLockFileAssemblies&gt;true&lt;/CopyLocalLockFileAssemblies&gt;\n    &lt;PlatformTarget&gt;AnyCPU&lt;/PlatformTarget&gt;\n    &lt;TargetLatestRuntimePatch&gt;true&lt;/TargetLatestRuntimePatch&gt;\n    &lt;PackAsTool&gt;true&lt;/PackAsTool&gt;\n    &lt;IsPackable&gt;true&lt;/IsPackable&gt;\n    &lt;ToolCommandName&gt;HostRunner&lt;/ToolCommandName&gt;\n    &lt;PackageOutputPath&gt;./nupkg&lt;/PackageOutputPath&gt;\n    &lt;AssemblyName&gt;HostRunner&lt;/AssemblyName&gt;\n  &lt;/PropertyGroup&gt;\n</code></pre>\n\n<p>I can run <code>dotnet pack</code> no problem, but when I run</p>\n\n<pre><code>dotnet publish my.csproj -r=win10-x64 -c=Debug --self-contained\n</code></pre>\n\n<p>I get an error saying <code>error NETSDK1053: Pack as tool does not support self contained.</code></p>\n\n<p>What am I doing wrong?!</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 3511, "user_id": 4416750, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/067235b492b0e0006e6ce8f5f8bc523a?s=128&d=identicon&r=PG&f=1", "display_name": "Lews Therin", "link": "https://stackoverflow.com/users/4416750/lews-therin"}, "edited": false, "score": 1, "creation_date": 1554927719, "post_id": 55620725, "comment_id": 97934461, "body": "None of the code you posted compiles..."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1554927837, "post_id": 55620725, "comment_id": 97934511, "body": "First you need to use a <code>for</code> loop to iterate over the <code>fileList</code> array. Then you need to look at the documentation for <code>string</code> to find a function to get the characters at the end."}, {"owner": {"reputation": 6459, "user_id": 461444, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/b3S2E.jpg?s=128&g=1", "display_name": "AFract", "link": "https://stackoverflow.com/users/461444/afract"}, "edited": false, "score": 1, "creation_date": 1554927873, "post_id": 55620725, "comment_id": 97934523, "body": "Your code does not compile (however the reason for this is obvious) and you don&#39;t post any attempt to solve the question. If you are developing a media player, sorting file name according their extensions is something incredibly simple."}, {"owner": {"reputation": 158, "user_id": 4884819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a57a2ef359dc13d7d24e1d3ec4c2ad78?s=128&d=identicon&r=PG&f=1", "display_name": "savvamadar", "link": "https://stackoverflow.com/users/4884819/savvamadar"}, "edited": false, "score": 0, "creation_date": 1554928233, "post_id": 55620725, "comment_id": 97934680, "body": "You probably want to use a List/ ArrayList since the array size would be dynamic. I&#39;d do something like this: ```     string[] fileList = new string[]{&quot;pic.jpg&quot;,&quot;pic2.jpg&quot;,&quot;movie.mp4&quot;};     string filter = &quot;.jpg&quot;     List&lt;string&gt; filteredList = new List&lt;string&gt;();     for(int j=0;j&lt;fileList.Length;j++){         if(fileList[j].Substring(fileList[j].LastIndexOf(&quot;.&quot;))==filt&zwnj;&#8203;er){             filteredList.Add(fileList[j]);         }     } ``` filteredList will now contain all the file names that end in &quot;.jpg&quot;. You can access the list the same way you can an array."}], "answers": [{"comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1554928212, "post_id": 55620837, "comment_id": 97934667, "body": "Please use proper methods to deal with file names/extensions - <code>Path.GetExtension</code> in particular (<a href=\"https://stackoverflow.com/questions/13003555/c-sharp-how-to-extract-the-file-name-and-extension-from-a-path\" title=\"c sharp how to extract the file name and extension from a path\">stackoverflow.com/questions/13003555/&hellip;</a> covers all of them if you need link)"}, {"owner": {"reputation": 7130, "user_id": 3311799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vPfSH.png?s=128&g=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/3311799/johnny"}, "edited": false, "score": 0, "creation_date": 1554928658, "post_id": 55620837, "comment_id": 97934849, "body": "What if you have file <code>File.jpg.mp4</code> :)"}], "tags": [], "owner": {"reputation": 1115, "user_id": 925513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a07786c1b10be9f82525af0ba3ccf25?s=128&d=identicon&r=PG", "display_name": "Blast_dan", "link": "https://stackoverflow.com/users/925513/blast-dan"}, "is_accepted": false, "score": 0, "last_activity_date": 1554927993, "creation_date": 1554927993, "answer_id": 55620837, "question_id": 55620725, "link": "https://stackoverflow.com/questions/55620725/how-to-extract-the-substring-within-the-element-of-an-array/55620837#55620837", "title": "How to extract the substring within the element of an array", "body": "<p>if your first line is an array of strings the following should work to query your array into two different arrays. You will need to add a using statement for System.Linq as well.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var pictures = fileList.Where(p =&gt; p.IndexOf(\".jpg\") &gt; 0);\nvar videos = fileList.Where(v =&gt; v.IndexOf(\".mp4\") &gt; 0);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1554929892, "post_id": 55620933, "comment_id": 97935394, "body": "Since code is essentially the same as <a href=\"https://stackoverflow.com/a/36138402/477420\">suggested duplicate</a> consider at least explaining why yours better (like &quot;HashSet of one element is far superior to Contains on array of one element&quot;)"}, {"owner": {"reputation": 7130, "user_id": 3311799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vPfSH.png?s=128&g=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/3311799/johnny"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1554930188, "post_id": 55620933, "comment_id": 97935529, "body": "@AlexeiLevenkov Didn&#39;t check duplicates at all :). Of couse, it is not superior(for small num of element) it is just the first option always if you need the search O(1)..."}], "tags": [], "owner": {"reputation": 7130, "user_id": 3311799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vPfSH.png?s=128&g=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/3311799/johnny"}, "is_accepted": false, "score": 0, "last_activity_date": 1554928432, "creation_date": 1554928432, "answer_id": 55620933, "question_id": 55620725, "link": "https://stackoverflow.com/questions/55620725/how-to-extract-the-substring-within-the-element-of-an-array/55620933#55620933", "title": "How to extract the substring within the element of an array", "body": "<p>Something like this:</p>\n\n<pre><code>var photoExt = new HashSet&lt;string&gt;{\".jpg\"};\nvar videoExt = new HashSet&lt;string&gt;{\".mp4\"};\n\nstring[] fileList = new [] { \"Animals.jpg\", \"cars.mp4\", \n        \"planes.mp4\", \"landscape.jpg\", \n        \"gameplay.mp4\", \"freind.mp4\", \n        \"grildfriend.jpg\", \"travel.mp4\", \n        \"school.jpg\", \"youtube.mp4\", \"asdada.jpg\"};\n\nstring[] photos = fileList.Where(f =&gt; photoExt.Contains(Path.GetExtension(f))).ToArray();\nstring[] videos = fileList.Where(f =&gt; videoExt.Contains(Path.GetExtension(f))).ToArray();\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9991058, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-I7cNftt9-Eo/AAAAAAAAAAI/AAAAAAAAAB0/vJTEOsVxMlw/photo.jpg?sz=128", "display_name": "Erick Aquino", "link": "https://stackoverflow.com/users/9991058/erick-aquino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "closed_date": 1554928131, "answer_count": 2, "score": 0, "last_activity_date": 1554928432, "creation_date": 1554927562, "last_edit_date": 1554927703, "question_id": 55620725, "link": "https://stackoverflow.com/questions/55620725/how-to-extract-the-substring-within-the-element-of-an-array", "closed_reason": "Duplicate", "title": "How to extract the substring within the element of an array", "body": "<p>I am creating a photo and video viewer in which each one has an array with the elements that are going to be inserted and I want to filter its format to store them in a third list</p>\n\n<p>I had a player where one had a array and an intercommunication for photos and videos, then only in the photo section you could only add photos and in the videos you could only add videos, then what I want to do is that in a third array I add either Photo or video and filtering them looking for the extension of the file to add them to their corresponding array.</p>\n\n<p>insert files without a specific order:</p>\n\n<pre><code>string fileList = { \"Animals.jpg\", \"cars.mp4\", \"planes.mp4\", \"landscape.jpg\", \"gameplay.mp4\", \"freind.mp4\", \"grildfriend.jpg\", \"travel.mp4\", \"school.jpg\", \"youtube.mp4\", \"asdada.jpg\"};\n</code></pre>\n\n<p>and then it will be like that:</p>\n\n<pre><code>string PhotoList[] = { \"Animals.jpg\", \"landscape.jpg\", \"grildfriend.jpg\", \"school.jpg\",\"asdada.jpg\" };\nstring VideoList[] = { \"cars.mp4\", \"planes.mp4\", \"gameplay.mp4\" \"freind.mp4\", \"travel.mp4\", \"youtube.mp4\" };\n</code></pre>\n\n<p>so far I can only concatenate the two array in a array but this keeps the order of the previous two</p>\n"}, {"tags": ["c#", "entity-framework", "linq", "lambda", "expression"], "comments": [{"owner": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "edited": false, "score": 2, "creation_date": 1554927629, "post_id": 55620681, "comment_id": 97934425, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3846716/method-cannot-be-translated-into-a-store-expression\">Method cannot be translated into a store expression</a>"}, {"owner": {"reputation": 371, "user_id": 3751355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea8eb9e91d3a186a803a9adf5e05341?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/3751355/jim"}, "reply_to_user": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "edited": false, "score": 0, "creation_date": 1554928138, "post_id": 55620681, "comment_id": 97934640, "body": "@AleksAndreev It&#39;s definitely the same error, but not the same problem. Hes joining new relations and I&#39;m stacking expressions"}, {"owner": {"reputation": 127019, "user_id": 59303, "user_type": "moderator", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/gIt1g.png?s=128&g=1", "display_name": "ChrisF", "link": "https://stackoverflow.com/users/59303/chrisf"}, "edited": false, "score": 0, "creation_date": 1554928982, "post_id": 55620681, "comment_id": 97934996, "body": "If you comment out <code>HasProductsWithState</code> does it produce the same error on <code>HasChildrenWithName</code>, or does that translate OK?"}, {"owner": {"reputation": 371, "user_id": 3751355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea8eb9e91d3a186a803a9adf5e05341?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/3751355/jim"}, "edited": false, "score": 0, "creation_date": 1554929235, "post_id": 55620681, "comment_id": 97935117, "body": "It will produce the same error, because recursive like this eturn maingroups.Where(x =&gt; x.Subgroups.AsQueryable().HasProductsWithState(state).Any()) as IQueryable&lt;TEntity&gt;; is probably the wrong way to do it."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1554931173, "post_id": 55620681, "comment_id": 97935932, "body": "You seem to have a lot of <code>AsQueryable</code> that should be unnecessary - you should know the type at that point and whether it is <code>IQueryable</code> already..."}, {"owner": {"reputation": 371, "user_id": 3751355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea8eb9e91d3a186a803a9adf5e05341?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/3751355/jim"}, "edited": false, "score": 0, "creation_date": 1554935983, "post_id": 55620681, "comment_id": 97937491, "body": "I have them .AsQueryable since the Maingroup.Subgroups is a ICollection and not IQuerable"}, {"owner": {"reputation": 258, "user_id": 4682601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9681c33e3a82bba82dd4876b02b41bf?s=128&d=identicon&r=PG&f=1", "display_name": "Andriy Shevchenko", "link": "https://stackoverflow.com/users/4682601/andriy-shevchenko"}, "edited": false, "score": 0, "creation_date": 1555157907, "post_id": 55620681, "comment_id": 98017398, "body": "@Jim can your solution use SQL?"}, {"owner": {"reputation": 258, "user_id": 4682601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9681c33e3a82bba82dd4876b02b41bf?s=128&d=identicon&r=PG&f=1", "display_name": "Andriy Shevchenko", "link": "https://stackoverflow.com/users/4682601/andriy-shevchenko"}, "edited": false, "score": 0, "creation_date": 1555158459, "post_id": 55620681, "comment_id": 98017561, "body": "@Jim could you please post your code for Maingroup and other classes?"}], "answers": [{"comments": [{"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 1, "creation_date": 1555339789, "post_id": 55679355, "comment_id": 98066463, "body": "While this is improving the custom extension method structure, it does not address / solve the original problem. Which is <i>custom methods</i> cannot be translated to SQL. So in your final &quot;solution&quot;, <code>return maingroups.Where(mainGroup =&gt; mainGroup.SubGroups.HasProductsWithState(state));</code> has exactly the same issue - method <code>HasProductsWithState</code> cannot be translated. Note that the &quot;call&quot; is inside query expression tree, so the method will not be called at all."}, {"owner": {"reputation": 371, "user_id": 3751355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea8eb9e91d3a186a803a9adf5e05341?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/3751355/jim"}, "edited": false, "score": 0, "creation_date": 1555437100, "post_id": 55679355, "comment_id": 98108509, "body": "@harald, This is a good explanation of a possible solution but unfortunatly it won&#39;t work. <code>Products</code> in <code>Subgroup</code> is an <code>ICollection</code>, therefor <code>subGroup.Products.HasAnyWithState(state)</code> will tell you the <code>ICollection</code> cannot be casted to an <code>IQueryable</code>  I wan&#39;t the eager loaded items to be filtered aswell   <code>&#39;ICollection&lt;Subgroup&gt;&#39; does not contain a definition for &#39;HasProductsWithState&#39; and the best extension method overload &#39;ProductServiceExtensions.HasProductsWithState(IQueryable&lt;Su&zwnj;&#8203;bgroup&gt;, bool?)&#39; requires a receiver of type &#39;IQueryable&lt;Subgroup&gt;&#39;</code>"}], "tags": [], "owner": {"reputation": 23543, "user_id": 2281790, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pP0ow.jpg?s=128&g=1", "display_name": "Harald Coppoolse", "link": "https://stackoverflow.com/users/2281790/harald-coppoolse"}, "is_accepted": false, "score": 3, "last_activity_date": 1555271010, "last_edit_date": 1592644375, "creation_date": 1555271010, "answer_id": 55679355, "question_id": 55620681, "link": "https://stackoverflow.com/questions/55620681/nested-expression-building-with-linq-and-entity-framework/55679355#55679355", "title": "Nested expression building with linq and Entity Framework", "body": "<h2>The cause of your problem</h2>\n<p>You have to be aware between an IEnumerable and an IQueryable. An IEnumerable object has everything in it to enumerate over all the elements: you can ask for the first element of the sequence, and once you've got an element, you can ask for the next element, until there are no more elements.</p>\n<p>An IQueryable seems similar, however, the IQueryable does not hold everything to enumerate the sequence. It holds an <code>Expression</code> and a <code>Provider</code>. The <code>Expression</code> is a generic form of what must be queried. The <code>Provider</code> knows who must execute the query (usually a database management system), how to communicate with this executor and which language to use (usually something SQL-like).</p>\n<p>As soon as you start enumerating, either explicitly by calling <code>GetEnumerator</code> and <code>MoveNext</code>, or implicitly by calling <code>foreach</code>, <code>ToList</code>, <code>FirstOrDefault</code>, <code>Count</code>, etc, the <code>Expression</code> is sent to the <code>Provider</code>, who will translate it into SQL and call the DBMS. The returned data is presented as an IEnumerable object, which is enumerated, using <code>GetEnumerator</code></p>\n<p>Because the Provider has to translate the <code>Expression</code> into SQL, the <code>Expression</code> may only call functions that can be translated into SQL. Alas, the <code>Provider</code> does not know <code>HasProductsWithState</code>, nor any of your own defined functions, and thus can't translate it into SQL. In fact, the entity framework provider also does not know how to translate several standard LINQ functions, and thus they can't be used <code>AsQueryable</code>. See <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/ef/language-reference/supported-and-unsupported-linq-methods-linq-to-entities\" rel=\"nofollow noreferrer\">Supported and Unsupported LINQ methods</a>.</p>\n<p>So you'll have to stick to functions that return an IQueryable where the Expression contains only supported functions.</p>\n<h2>Class Description</h2>\n<p>Alas you forgot to give us your entity classes, so I'll have to make some assumptions about them.</p>\n<p>Apparently have a DbContext with at least three DbSets: <code>MainGroups</code>, <code>SubGroups</code> and <code>Products</code>.</p>\n<p>There seems to be a one-to-many (or possible many-to-many) relation between <code>MaingGroups</code> and <code>SubGroups</code>: every <code>MainGroup</code> has zero or more <code>SubGroups</code>.</p>\n<p>It seems that there is also a one-to-many relation between <code>SubGroups</code> and <code>Products</code>: every <code>SubGroup</code> has zero or more <code>Products</code>.</p>\n<p>Alas you forgot to mentions that return relation: does every <code>Product</code> belong to exactly one <code>SubGroup</code> (one-to-many), or does every <code>Product</code> belong to zero or more <code>SubGroups</code> (many-to-many`)?</p>\n<p>If you've followed the entity framework code first conventions, you will have classes similar to this:</p>\n<pre><code>class MainGroup\n{\n    public int Id {get; set;}\n    ...\n\n    // every MainGroup has zero or more SubGroups (one-to-many or many-to-many)\n    public virtual ICollection&lt;SubGroup&gt; SubGroups {get; set;}\n}\nclass SubGroup\n{\n    public int Id {get; set;}\n    ...\n\n    // every SubGroup has zero or more Product(one-to-many or many-to-many)\n    public virtual ICollection&lt;Product&gt; Products{get; set;}\n\n    // alas I don't know the return relation\n    // one-to-many: every SubGroup belongs to exactly one MainGroup using foreign key\n    public int MainGroupId {get; set;}\n    public virtual MainGroup MainGroup {get; set;}\n    // or every SubGroup has zero or more MainGroups:\n    public virtual ICollection&lt;MainGroup&gt; MainGroups {get; set;}\n}\n</code></pre>\n<p>Something similar for Product:</p>\n<pre><code>class Product\n{\n    public int Id {get; set;}\n    public bool? IsActive {get; set;} // might be a non-nullable property\n    ...\n\n    // alas I don't know the return relation\n    // one-to-many: every Productbelongs to exactly one SubGroup using foreign key\n    public int SubGroupId {get; set;}\n    public virtual SubGroup SubGroup {get; set;}\n    // or every Product has zero or more SubGroups:\n    public virtual ICollection&lt;SubGroup&gt; SubGroups {get; set;}\n}\n</code></pre>\n<p>And of cours your DbContext:</p>\n<pre><code>class MyDbContext : DbContext\n{\n    public DbSet&lt;MainGroup&gt; MainGroups {get; set;}\n    public DbSet&lt;SubGroup&gt; SubGroups {get; set;}\n    public DbSet&lt;Product&gt; Products {get; set;}\n}\n</code></pre>\n<p>This is all that entity framework needs to know to detect your tables, the columns in your tables and the relations between the tables (one-to-many, many-to-many, one-to-zero-or-one). Only if you want to deviate from the standard naming you'll need attributes of fluent API.</p>\n<blockquote>\n<p>In entity framework the columns of the tables are represented by non-virtual properties. The virtual properties represent the relations between the tables (one-to-many, many-to-many).</p>\n</blockquote>\n<p>Note that although the <code>SubGroups</code> of a <code>MainGroup</code> is declared as a collection, if you query the <code>SubGroups</code> of the <code>MaingGroup with Id 10</code> you'll still get an IQueryable.</p>\n<h2>Requirements</h2>\n<p>Given a queryable sequence of <code>Products</code> and a nullable Boolean <code>State</code>, <code>HasProductsWithState(products, state)</code> should return the queryable sequence of <code>Products</code> that have a value of <code>IsActive</code> equal to <code>State</code></p>\n<p>Given a queryable sequence of <code>SubGroups</code> and a nullable Boolean <code>State</code>, <code>HasProductsWithState(subGroups, state)</code> should return the queryable sequence of <code>SubGroups</code> that have at least one <code>Product</code> that &quot;HasProductsWithState(Product, State)1</p>\n<p>Given a queryable sequence of <code>MainGroups</code> and a nullable Boolean <code>State</code>, <code>HasProductsWithState(mainGroups, state)</code> should return the queryable sequence of <code>MainGroups</code>, that contains all <code>MainGroups</code> that have at least one <code>SubGroup</code> that <code>HasProductsWithState(SubGroup, State)</code></p>\n<h2>Solution</h2>\n<p>Well If you write the requirements like this, the extension methods are easy:</p>\n<pre><code>IQueryable&lt;Product&gt; WhereHasState(this IQueryable&lt;Product&gt; products, bool? state)\n{\n    return products.Where(product =&gt; product.IsActive == state);\n}\n</code></pre>\n<p>Because this function does not check whether a Product has this state, but returns all Product that have this state, I chose to use a different name.</p>\n<pre><code>bool HasAnyWithState(this IQueryable&lt;Product&gt; products, bool? state)\n{\n    return products.WhereHasState(state).Any();\n}\n</code></pre>\n<p>Your code will be slightly different if IsActive is a non-nullable property.</p>\n<p>I'll do something similar with <code>SubGroups</code>:</p>\n<pre><code>IQueryable&lt;SubGroup&gt; WhereAnyProductHasState(this IQueryable&lt;SubGroup&gt; subGroups, bool? state)\n{\n    return subgroups.Where(subGroup =&gt; subGroup.Products.HasAnyWithState(state));\n}\n\nbool HasProductsWithState(this IQueryable&lt;SubGroup&gt; subGroups, bool? state)\n{\n     return subGroups.WhereAnyProductHasState(state).Any();\n}\n</code></pre>\n<p>Well, you'll know the drill by now for <code>MainGroups</code>:</p>\n<pre><code>IQueryable&lt;MainGroup&gt; WhereAnyProductHasState(this IQueryable&lt;MainGroup&gt; mainGroups, bool? state)\n{\n    return maingroups.Where(mainGroup =&gt; mainGroup.SubGroups.HasProductsWithState(state));\n}\n\nbool HasProductsWithState(this IQueryable&lt;MainGroup&gt; mainGroups, bool? state)\n{\n     return mainGroups.WhereAnyProductHasState(state).Any();\n}\n</code></pre>\n<p>If you look really closely, you'll see that I didn't use any self-defined function. My function calls will only change the <code>Expression</code>. The changed <code>Expression</code> can be translated into SQL.</p>\n<p>I've separated the function into a lot of smaller functions, because you didn't say whether you want to use <code>HasProductsWithState(this IQueryable&lt;SubGroup&gt;, bool?)</code> and <code>HasProductsWithState(this IQueryable&lt;Product&gt;, bool?)</code>.</p>\n<p>TODO: do something similar for similar for <code>HasChildrenWithName</code>: separate into smaller functions that contain only LINQ functions, and nothing else</p>\n<p>If you'll only call <code>HasProductsWithState(this IQueryable&lt;MainGroup&gt;, bool?)</code> you can do it in one function, using `SelectMany:</p>\n<pre><code>IQueryable&lt;MainGroup&gt; HasProductsWithState(this IQueryable&lt;MainGroup&gt; mainGroups, bool? state)\n{\n    return mainGroups\n        .Where(mainGroup =&gt; mainGroup.SelectMany(mainGroup.SubGroups)\n                                     .SelectMany(subGroup =&gt; subGroup.Products)\n                                     .Where(product =&gt; product.IsActive == state)\n                                     .Any() );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": true, "score": 2, "last_activity_date": 1555777876, "creation_date": 1555777876, "answer_id": 55775536, "question_id": 55620681, "link": "https://stackoverflow.com/questions/55620681/nested-expression-building-with-linq-and-entity-framework/55775536#55775536", "title": "Nested expression building with linq and Entity Framework", "body": "<blockquote>\n  <p>But when I walk through my code at runtime it does not enter the function again when  </p>\n\n<pre><code>   return maingroups.Where(x =&gt; x.Subgroups.AsQueryable().HasProductsWithState(state)\n</code></pre>\n</blockquote>\n\n<p>Welcome to the world of expression trees!</p>\n\n<pre><code>x =&gt; x.Subgroups.AsQueryable().HasProductsWithState(state)\n</code></pre>\n\n<p>is lambda expression (<code>Expression&lt;Func&lt;...&gt;</code>) with body</p>\n\n<pre><code>x.Subgroups.AsQueryable().HasProductsWithState(state)\n</code></pre>\n\n<p>The body is expression tree, in other words - code as data, hence is <strong>never</strong> executed (except if compiled to delegate as in LINQ to Objects).  </p>\n\n<p>It's easily overlooked since visually lambda expressions look like delegates. Even Harald in their answer after all explanations that one should not use custom methods, as a solution actually provides several <strong>custom</strong> methods with the rationale <em>\"I didn't use any self-defined function. My function calls will only change the Expression. The changed Expression can be translated into SQL\"</em>. Sure, but if your functions are <em>called</em>! Which of course does not happen when they are inside expression tree.</p>\n\n<p>With that being said, there is no good general solution. What I can offer is solution for your particular problem - transforming custom methods which receive <code>IQueryable&lt;T&gt;</code> plus other <em>simple</em> parameters and return <code>IQueryable&lt;T&gt;</code>.</p>\n\n<p>The idea is to use custom <code>ExpressionVisitor</code> which identifies the \"calls\" to such method inside expression tree, actually calls them and replaces them with the result of the call.</p>\n\n<p>The problem is to call</p>\n\n<pre><code>x.Subgroups.AsQueryable().HasProductsWithState(state)\n</code></pre>\n\n<p>when we have no actual <code>x</code> object. The trick is to call them with fake queryable expression (like LINQ to Objects <code>Enumerable&lt;T&gt;.Empty().AsQueryble()</code>) and then use another expression visitor to replace the fake expression with the original expression in the result (pretty much like <code>string.Replace</code>, but for expressions).</p>\n\n<p>Here is the sample implementation of the above:</p>\n\n<pre><code>public static class QueryTransformExtensions\n{ \n    public static IQueryable&lt;T&gt; TransformFilters&lt;T&gt;(this IQueryable&lt;T&gt; source)\n    {\n        var expression = new TranformVisitor().Visit(source.Expression);\n        if (expression == source.Expression) return source;\n        return source.Provider.CreateQuery&lt;T&gt;(expression);\n    }\n\n    class TranformVisitor : ExpressionVisitor\n    {\n        protected override Expression VisitMethodCall(MethodCallExpression node)\n        {\n            if (node.Method.IsStatic &amp;&amp; node.Method.Name.StartsWith(\"Has\")\n                &amp;&amp; node.Type.IsGenericType &amp;&amp; node.Type.GetGenericTypeDefinition() == typeof(IQueryable&lt;&gt;)\n                &amp;&amp; node.Arguments.Count &gt; 0 &amp;&amp; node.Arguments.First().Type == node.Type)\n            {\n                var source = Visit(node.Arguments.First());\n                var elementType = source.Type.GetGenericArguments()[0];\n                var fakeQuery = EmptyQuery(elementType);\n                var args = node.Arguments\n                    .Select((arg, i) =&gt; i == 0 ? fakeQuery : Evaluate(Visit(arg)))\n                    .ToArray();\n                var result = (IQueryable)node.Method.Invoke(null, args);\n                var transformed = result.Expression.Replace(fakeQuery.Expression, source);\n                return Visit(transformed); // Apply recursively\n            }\n            return base.VisitMethodCall(node);\n        }\n\n        static IQueryable EmptyQuery(Type elementType) =&gt;\n            Array.CreateInstance(elementType, 0).AsQueryable();\n\n        static object Evaluate(Expression source)\n        {\n            if (source is ConstantExpression constant)\n                return constant.Value;\n            if (source is MemberExpression member)\n            {\n                var instance = member.Expression != null ? Evaluate(member.Expression) : null;\n                if (member.Member is FieldInfo field)\n                    return field.GetValue(instance);\n                if (member.Member is PropertyInfo property)\n                    return property.GetValue(instance);\n            }\n            throw new NotSupportedException();\n        }\n    }\n\n    static Expression Replace(this Expression source, Expression from, Expression to) =&gt;\n        new ReplaceVisitor { From = from, To = to }.Visit(source);\n\n    class ReplaceVisitor : ExpressionVisitor\n    {\n        public Expression From;\n        public Expression To;\n        public override Expression Visit(Expression node) =&gt;\n            node == From ? To : base.Visit(node);\n    }\n}\n</code></pre>\n\n<p>Now all you need is to call <code>.TransformFilters()</code> extension methods at the end of your queries, for instance in your sample</p>\n\n<pre><code>var result = query.AsQueryable()\n    // ...\n    .TransformFilters();\n</code></pre>\n\n<p>You can also call it on intermediate queries. Just make sure the call is outside expression tree :)</p>\n\n<p>Note that the sample implementation is processing <code>static</code> methods having first parameter <code>IQueryable&lt;T&gt;</code>, returning <code>IQueryable&lt;T&gt;</code> and name starting with <code>Has</code>. The last is to skip <code>Queryable</code> and EF extension methods. In the real code you should use some better criteria - for instance the type of the defining class, or  custom attribute etc. </p>\n"}], "owner": {"reputation": 371, "user_id": 3751355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea8eb9e91d3a186a803a9adf5e05341?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/3751355/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1414, "favorite_count": 1, "accepted_answer_id": 55775536, "answer_count": 2, "score": 5, "last_activity_date": 1555777876, "creation_date": 1554927378, "last_edit_date": 1555436432, "question_id": 55620681, "link": "https://stackoverflow.com/questions/55620681/nested-expression-building-with-linq-and-entity-framework", "title": "Nested expression building with linq and Entity Framework", "body": "<p>I'm trying to make a service that returns a catalog based on the filters.</p>\n\n<p>I've seen a few results on the internet, but not quite my issue. I hope you can help me with mine.</p>\n\n<p>The issue is that this query build cannot be translated into a store expression:</p>\n\n<blockquote>\n  <p>'LINQ to Entities does not recognize the method 'System.Linq.IQueryable'1[App.Data.Models.Subgroup] HasProductsWithState[Subgroup](System.Linq.IQueryable'1[App.Data.Models.Subgroup], System.Nullable`1[System.Boolean])' method, and this method cannot be translated into a store expression.'</p>\n</blockquote>\n\n<p>How can I make it so the query can be translated into a store expression.\nPlease don't suggest <code>.ToList()</code> as a answer as I don't want this to run in memory.</p>\n\n<p>So what I have is:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    bool? isActive = null;\n    string search = null;\n\n    DbSet&lt;Maingroup&gt; query = context.Set&lt;Maingroup&gt;();\n\n    var result = query.AsQueryable()\n                      .HasProductsWithState(isActive)\n                      .HasChildrenWithName(search)\n                      .OrderBy(x =&gt; x.SortOrder)\n                      .Select(x =&gt; new CatalogViewModel.MaingroupViewModel()\n                              {\n                                  Maingroup = x,\n                                  Subgroups = x.Subgroups.AsQueryable()\n                                               .HasProductsWithState(isActive)\n                                               .HasChildrenWithName(search)\n                                               .OrderBy(y =&gt; y.SortOrder)\n                                               .Select(y =&gt; new CatalogViewModel.SubgroupViewModel()\n                        {\n                            Subgroup = y,\n                            Products = y.Products.AsQueryable()\n                                .HasProductsWithState(isActive)\n                                .HasChildrenWithName(search)\n                                .OrderBy(z =&gt; z.SortOrder)\n                                .Select(z =&gt; new CatalogViewModel.ProductViewModel()\n                                {\n                                    Product = z\n                                })\n                        })\n                });         \n\n    return new CatalogViewModel() { Maingroups = await result.ToListAsync() };\n</code></pre>\n\n<p>In the code below you can see that I recursively call the extension to try and stack the expression. But when I walk through my code at runtime it does not enter the function again when</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    return maingroups.Where(x =&gt; x.Subgroups.AsQueryable().HasProductsWithState(state).Any()) as IQueryable&lt;TEntity&gt;;\n</code></pre>\n\n<p>is called.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    public static class ProductServiceExtensions\n    {\n        public static IQueryable&lt;TEntity&gt; HasProductsWithState&lt;TEntity&gt;(this IQueryable&lt;TEntity&gt; source, bool? state)\n        {\n            if (source is IQueryable&lt;Maingroup&gt; maingroups)\n            {\n                return maingroups.Where(x =&gt; x.Subgroups.AsQueryable().HasProductsWithState(state).Any()) as IQueryable&lt;TEntity&gt;;\n            }\n            else if (source is IQueryable&lt;Subgroup&gt; subgroups)\n            {\n                return subgroups.Where(x =&gt; x.Products.AsQueryable().HasProductsWithState(state).Any()) as IQueryable&lt;TEntity&gt;;\n            }\n            else if (source is IQueryable&lt;Product&gt; products)\n            {\n                return products.Where(x =&gt; x.IsActive == state) as IQueryable&lt;TEntity&gt;;\n            }\n\n            return source;\n        }\n\n        public static IQueryable&lt;TEntity&gt; HasChildrenWithName&lt;TEntity&gt;(this IQueryable&lt;TEntity&gt; source, string search)\n        {\n            if (source is IQueryable&lt;Maingroup&gt; maingroups)\n            {\n                return maingroups.Where(x =&gt; search == null || x.Name.ToLower().Contains(search) || x.Subgroups.AsQueryable().HasChildrenWithName(search).Any()) as IQueryable&lt;TEntity&gt;;\n            }\n            else if (source is IQueryable&lt;Subgroup&gt; subgroups)\n            {\n                return subgroups.Where(x =&gt; search == null || x.Name.ToLower().Contains(search) || x.Products.AsQueryable().HasChildrenWithName(search).Any()) as IQueryable&lt;TEntity&gt;;\n            }\n            else if (source is IQueryable&lt;Product&gt; products)\n            {\n                return products.Where(x =&gt; search == null || x.Name.ToLower().Contains(search)) as IQueryable&lt;TEntity&gt;;\n            }\n\n            return source;\n        }\n    }\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Missing classes:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    public class Maingroup\n    {\n        public long Id { get; set; }\n        public string Name { get; set; }\n        ...\n        public virtual ICollection&lt;Subgroup&gt; Subgroups { get; set; }\n    }\n</code></pre>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    public class Subgroup\n    {\n        public long Id { get; set; }\n        public string Name { get; set; }\n\n        public long MaingroupId { get; set; }\n        public virtual Maingroup Maingroup { get; set; }\n        ...\n        public virtual ICollection&lt;Product&gt; Products { get; set; }\n    }\n</code></pre>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    public class Product\n    {\n        public long Id { get; set; }\n        public string Name { get; set; }\n\n        public long SubgroupId { get; set; }\n        public virtual Subgroup Subgroup { get; set; }\n        ...\n        public bool IsActive { get; set; }\n    }\n</code></pre>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1554926815, "post_id": 55620526, "comment_id": 97934056, "body": "what ui framework?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10311801"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1554926865, "post_id": 55620526, "comment_id": 97934071, "body": "System windows forms"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1554927049, "post_id": 55620526, "comment_id": 97934170, "body": "Side note: <a href=\"https://stackoverflow.com/questions/9303257/how-to-decode-a-unicode-character-in-a-string\">duplicate</a> provide answer for what you (or pretty much anyone asking for that) need, and not what is asked here... Try to get solid understanding of strings, string literals and how strings shown in debugger before moving to more complex text operations..."}], "owner": {"user_type": "does_not_exist", "display_name": "user10311801"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 209, "favorite_count": 0, "closed_date": 1554926914, "answer_count": 0, "score": 0, "last_activity_date": 1554926973, "creation_date": 1554926694, "last_edit_date": 1554926973, "question_id": 55620526, "link": "https://stackoverflow.com/questions/55620526/how-can-i-convert-u-in-a-string-to-u", "closed_reason": "Duplicate", "title": "How can I convert &quot;\\\\u&quot; in a string to &quot;\\u&quot;", "body": "<p>I got the following string that I input in the textbox:</p>\n\n<pre><code>string text = @\"\\u2003 its \\u2001 \\u2000\";\n</code></pre>\n\n<p>How can I replace <code>@\"\\u\"</code> with <code>\\u</code> dynamically?</p>\n\n<p>Example if I type in that textbox <code>\\u2004</code>, right after inputting the last number/character it would appear as the special unicode character.</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 330, "user_id": 11341179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/688c10d31ef9d5a6ea8675627ded48cb?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Baba", "link": "https://stackoverflow.com/users/11341179/ali-baba"}, "is_accepted": true, "score": 0, "last_activity_date": 1554927995, "creation_date": 1554927995, "answer_id": 55620838, "question_id": 55620525, "link": "https://stackoverflow.com/questions/55620525/how-can-i-detect-a-mouse-click-using-an-edge-collider-2d/55620838#55620838", "title": "How can I detect a mouse click using an Edge Collider 2D?", "body": "<p><code>OnMouseDown</code> only works if your EdgeCollider has an  Edge Radius that is greater than 0. If your Collider is infinitely thin, you can't really hit it with your mouse</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5971254"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 431, "favorite_count": 0, "accepted_answer_id": 55620838, "answer_count": 1, "score": 0, "last_activity_date": 1554927995, "creation_date": 1554926688, "question_id": 55620525, "link": "https://stackoverflow.com/questions/55620525/how-can-i-detect-a-mouse-click-using-an-edge-collider-2d", "title": "How can I detect a mouse click using an Edge Collider 2D?", "body": "<p>Using the function</p>\n\n<pre><code>    void OnMouseDown() {\n    // Do code\n    }\n</code></pre>\n\n<p>I can check if my object's box collider is clicked. When I switch the collider to be an edge collider it no longer detects any mouse clicks.</p>\n\n<p>Is it impossible to use OnMouseDown() for Edge Colliders?</p>\n"}, {"tags": ["c#", "asp.net", "session-cookies", "saml-2.0"], "owner": {"reputation": 11, "user_id": 7352419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b39d849357f03d5de3e916d31d980bc?s=128&d=identicon&r=PG&f=1", "display_name": "Dale1010", "link": "https://stackoverflow.com/users/7352419/dale1010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554927337, "creation_date": 1554926400, "last_edit_date": 1554927337, "question_id": 55620461, "link": "https://stackoverflow.com/questions/55620461/owin-external-cookie-disappearing", "title": "OWIN External Cookie disappearing", "body": "<p>Intermittently our External authentication cookies are not returning.\nWe are using</p>\n\n<ol>\n<li>OWIN as the middleware layer  </li>\n<li>.Net 4.62 </li>\n<li>SessionState  </li>\n<li>Systain SAML  </li>\n<li>2 IIS Web Servers</li>\n</ol>\n\n<p>The following links refer to what I believe the problem is</p>\n\n<p><a href=\"http://appetere.com/post/owinresponse-cookies-not-set-when-remove-an-httpresponse-cookie\" rel=\"nofollow noreferrer\">http://appetere.com/post/owinresponse-cookies-not-set-when-remove-an-httpresponse-cookie</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/20737578/asp-net-sessionid-owin-cookies-do-not-send-to-browser\">ASP.NET_SessionId + OWIN Cookies do not send to browser</a></p>\n\n<p>I've tried setting the session as follows <code>Session[\"Workaround\"] = 0;</code></p>\n\n<p>We initialize the Cookie as follows</p>\n\n<pre><code>public void ConfigureAuth(IAppBuilder app) \n{ \n    app.UseExternalSignInCookie(\"ExternalCookie\");\n    ...etc\n</code></pre>\n\n<p>On the callback we get the result as follows</p>\n\n<pre><code>AuthenticateResult authenticateResult = await this.AuthenticationManager.AuthenticateAsync(\"ExternalCookie\");\n</code></pre>\n\n<p>I'd like to try using the following mentioned in the links above to resolve it <code>OnSendingHeaders(state =&gt; {...</code> but I'm unsure of how to implement it</p>\n"}, {"tags": ["c#", "dependency-injection", "architecture", "system.reactive"], "comments": [{"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1554944947, "post_id": 55620404, "comment_id": 97939429, "body": "&quot;Under the hood it uses Observable.Timer so there is a cost involved that means I&#39;d not want to create too many of these&quot; - is there a performance and/or cost issue here? Have you measured it? Rx has been written to reuse resources like timers."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1554945193, "post_id": 55620404, "comment_id": 97939472, "body": "The only way that I can recommend any approach to cache observables is to see a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of a basic, measurable, uncached implementation. Then I could implement a cache and see the measured differences. Right now you&#39;ve only shown us a basic signature that really doesn&#39;t give us any idea if there is a problem or if an alternative is solving that potential problem."}, {"owner": {"reputation": 11, "user_id": 11165100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a09d578617a6e5299ba8b6793958a06?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/11165100/joe"}, "reply_to_user": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1554965841, "post_id": 55620404, "comment_id": 97944771, "body": "Thanks, @Enigmativity. I was afraid the measuring would come into play here hence made a note about the real-life case being different. I will update the question."}], "owner": {"reputation": 11, "user_id": 11165100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a09d578617a6e5299ba8b6793958a06?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/11165100/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554975954, "creation_date": 1554926185, "last_edit_date": 1554975954, "question_id": 55620404, "link": "https://stackoverflow.com/questions/55620404/managing-iobservable-dependencies", "title": "Managing IObservable dependencies", "body": "<p>I have an parameterized Observable that I create using a factory, i.e.</p>\n\n<pre><code>// tick when the day changes in a given timezone\nIObservable&lt;DateTime&gt; GetInstrumentTzDateRollObservable(string timeZoneName) \n</code></pre>\n\n<p>Under the hood it uses Observable.Timer so there is a cost involved that means I'd not want to create too many of these (the example is simplified, the real life one has much higher cost per observable).</p>\n\n<p>Now, if there is only one consumer everything is simple - we just continue building the pipeline. But the subscribers are dynamic, i.e. the user can open a new screen that will need the same data. It seems what I need is a way to cache observables per timezone so that a consumer would get a stream from this cache if present (GetOrAdd). The simple solution is of course a class that holds a dictionary of these observables. </p>\n\n<p>My question is isn't there a better way to share these intermediate streams by registering them with special DI container or similar which would in essence provide the same functionality as the cache described above. I read enough about service locator anti-pattern and not using DI for anything but instantiation so it seems it is not recommended. Nevertheless I don't really see what my own class would do much differently from a DI container.</p>\n\n<p><strong>Update</strong>: as requested, I want to provide a more realistic scenario of a perceived high cost of generating elements of an observable. I hope this one is clearer.</p>\n\n<p>There is a database that holds data for all instruments. There is a loader that can retrieve data per instrument. There is a notification stream that ticks when the data was updated. The loader also needs the date to prepare the loaded data. The result is then presented as an observable stream:</p>\n\n<pre><code>    IObservable&lt;IntrumentData&gt; GetExpensiveDbDataStreamPerIntrument(string instrumentName)\n    {\n        // date provider ticks when a day in a given timezone changes prompting us to reload from source\n        _dateProvider.GetInstrumentTzDateRollObservable(instrumentName)\n            // combine with new data notifications to force a reload\n            .CombineLatest(_newDataNotificationObservable.GetNotificationsForInstrument(instrumentName), (date, event) =&gt; date)\n            .Select(date =&gt; _dataLoader.LoadData(instrumentName, date))\n            // this has been expensive to load so we want to be able to share the result\n            .Replay(1).RefCount();\n    }\n</code></pre>\n\n<p>So - how can I share these expensive streams when the client can subscribe and unsubscribe dynamically selecting instruments from a long list and using multiple screens that would need the same instrument data?</p>\n"}, {"tags": ["c#", "list", "listbox"], "comments": [{"owner": {"reputation": 3511, "user_id": 4416750, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/067235b492b0e0006e6ce8f5f8bc523a?s=128&d=identicon&r=PG&f=1", "display_name": "Lews Therin", "link": "https://stackoverflow.com/users/4416750/lews-therin"}, "edited": false, "score": 2, "creation_date": 1554925827, "post_id": 55620262, "comment_id": 97933635, "body": "This looks like a great fit for regular expressions."}, {"owner": {"reputation": 1670, "user_id": 2116350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3312d97415dd6087903f8a43e3c2f9b0?s=128&d=identicon&r=PG", "display_name": "Charles May", "link": "https://stackoverflow.com/users/2116350/charles-may"}, "edited": false, "score": 1, "creation_date": 1554926096, "post_id": 55620262, "comment_id": 97933756, "body": "I think the op&#39;s question is how to put them is separate lists by their number."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1554926135, "post_id": 55620262, "comment_id": 97933776, "body": "Please show us an example of what is your expected output"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1554926477, "post_id": 55620262, "comment_id": 97933916, "body": "And, is it possible to have a <i>Section_100</i> or a <i>Section_1000</i>?"}, {"owner": {"reputation": 1670, "user_id": 2116350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3312d97415dd6087903f8a43e3c2f9b0?s=128&d=identicon&r=PG", "display_name": "Charles May", "link": "https://stackoverflow.com/users/2116350/charles-may"}, "edited": false, "score": 0, "creation_date": 1554926532, "post_id": 55620262, "comment_id": 97933936, "body": "is it always Staging_Section_##?. If so, just store the current one and on the next loop if that substring is not the same as your stored one, create a new list and add the current one. Each time saving to ensure that you are comparing the previous for a change."}, {"owner": {"reputation": 368, "user_id": 7405312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Wz1uhBTOyxw/AAAAAAAAAAI/AAAAAAAAA5o/JlT31wBSGM0/photo.jpg?sz=128", "display_name": "SQLserving", "link": "https://stackoverflow.com/users/7405312/sqlserving"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1554927541, "post_id": 55620262, "comment_id": 97934385, "body": "@Steve no it will remain below 100 sections"}], "answers": [{"comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1554926428, "post_id": 55620389, "comment_id": 97933894, "body": "That Substring(0,18) will be a problem if we have a <i>...Section_100...</i>"}, {"owner": {"reputation": 658, "user_id": 6177689, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/o5C91.jpg?s=128&g=1", "display_name": "Ingenioushax", "link": "https://stackoverflow.com/users/6177689/ingenioushax"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1554928747, "post_id": 55620389, "comment_id": 97934875, "body": "I agree. I&#39;d recommend splitting on &#39;_&#39; and just joining index 1 and 2."}], "tags": [], "owner": {"reputation": 658, "user_id": 6177689, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/o5C91.jpg?s=128&g=1", "display_name": "Ingenioushax", "link": "https://stackoverflow.com/users/6177689/ingenioushax"}, "is_accepted": true, "score": 1, "last_activity_date": 1554926160, "creation_date": 1554926160, "answer_id": 55620389, "question_id": 55620262, "link": "https://stackoverflow.com/questions/55620262/separating-strings-by-some-text-within-listbox/55620389#55620389", "title": "separating strings by some text within listbox", "body": "<p>I would use a <code>Dictionary&lt;string, List&lt;string&gt;&gt;</code> for this. Each 'section' that is parsed would be a key, and the remaining portion would the the value.</p>\n\n<pre><code>Dictionary&lt;string, List&lt;string&gt;&gt; myDict = new Dictionary&lt;string, List&lt;string&gt;&gt;();\nforeach (var it in uploadBox.Items)\n{\n    if (it.ToString().Contains(\"Section\"))\n    {\n        section = it.ToString().Substring(0, 18);\n        found = it.ToString().IndexOf(\"_\");\n        section = section.Substring(found + 1);\n        sectionNum = section.Substring(8, 2);\n\n        if(!myDict.ContainsKey(sectionNum))\n        {\n            myDict.Add(sectionNum, new List&lt;string&gt; { someOtherValue });\n        }\n        else\n        {\n            myDict[sectionNum].Add(someOtherValue);\n        }\n    }\n}\n</code></pre>\n\n<p>Unless I have completely misinterpreted your question, I think this is a potential solution to your dynamic objects.</p>\n"}, {"tags": [], "owner": {"reputation": 2100, "user_id": 11099, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3e07c332737b7858ebecb731c6bf4470?s=128&d=identicon&r=PG", "display_name": "Pedro", "link": "https://stackoverflow.com/users/11099/pedro"}, "is_accepted": false, "score": 0, "last_activity_date": 1554926467, "creation_date": 1554926467, "answer_id": 55620477, "question_id": 55620262, "link": "https://stackoverflow.com/questions/55620262/separating-strings-by-some-text-within-listbox/55620477#55620477", "title": "separating strings by some text within listbox", "body": "<p>you could do something like this:</p>\n\n<pre><code>var sections = new Dictionary&lt;string, List&lt;string&gt;&gt;();\n\nforeach(var it in uploadBox.Items)\n{\n    var item = it.ToString();\n\n    if(item.Contains(\"Section\"))\n    {\n\n        var section = GetSection(item);\n\n        if(!sections.ContainsKey(section))\n        {\n            sections.Add(section, new List&lt;string&gt;());            \n        } \n\n        sections[section].Add(item);\n    }    \n}\n\nprivate string GetSection(string item)\n{\n    var split = item.Split(\"_\");\n    return $\"{split[1]}_{split[2]}\";    \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": false, "score": 0, "last_activity_date": 1554928955, "creation_date": 1554928955, "answer_id": 55621045, "question_id": 55620262, "link": "https://stackoverflow.com/questions/55620262/separating-strings-by-some-text-within-listbox/55621045#55621045", "title": "separating strings by some text within listbox", "body": "<p>It is best to regex for this kind of task:</p>\n\n<pre><code>uploadBox.Items\n    .GroupBy(x =&gt; Regex.Match(x.ToString(), @\"^\\w+_Section_(?&lt;section&gt;\\d+)\").Groups[\"section\"].Value)\n</code></pre>\n"}], "owner": {"reputation": 368, "user_id": 7405312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Wz1uhBTOyxw/AAAAAAAAAAI/AAAAAAAAA5o/JlT31wBSGM0/photo.jpg?sz=128", "display_name": "SQLserving", "link": "https://stackoverflow.com/users/7405312/sqlserving"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 55620389, "answer_count": 3, "score": 0, "last_activity_date": 1554928955, "creation_date": 1554925601, "last_edit_date": 1592644375, "question_id": 55620262, "link": "https://stackoverflow.com/questions/55620262/separating-strings-by-some-text-within-listbox", "title": "separating strings by some text within listbox", "body": "<p>I have a <code>ListBox</code> where table names are written like this:</p>\n<pre><code>Staging_Section_01_2019_03_19_01  \nStaging_Section_01_2019_03_20_01  \nStaging_Section_23_2019_03_21_01  \nStaging_Section_52_2019_03_23_01  \nStaging_Section_52_2019_03_24_01  \n</code></pre>\n<p>What I am trying to do is to separate them by Section Number, so I want all <code>Section_01</code> in one <code>List</code> object and <code>Section_23</code> in another <code>List</code> object, so on and so forth. The dynamic nature is whats making it difficult for me.</p>\n<p>So far, I have the following:</p>\n<pre><code>foreach (var it in uploadBox.Items)\n{\n    if (it.ToString().Contains(&quot;Section&quot;))\n    {\n        section = it.ToString().Substring(0, 18);\n        found = it.ToString().IndexOf(&quot;_&quot;);\n        section = section.Substring(found + 1);\n        sectionNum = section.Substring(8, 2);\n    }\n}\n</code></pre>\n<p>I have gotten the <code>sectionNum</code> which would just be the number and section, which is the string like <code>Section_01</code>.</p>\n<p>Any idea on how to approach this?</p>\n<p>The expected output would be something like this:</p>\n<h3>List 1</h3>\n<pre><code>Staging_Section_01_2019_03_19_01  \nStaging_Section_01_2019_03_20_01  \n</code></pre>\n<h3>List 2</h3>\n<pre><code>Staging_Section_23_2019_03_21_01  \n</code></pre>\n<h3>List 3</h3>\n<pre><code>Staging_Section_52_2019_03_23_01  \nStaging_Section_52_2019_03_24_01  \n</code></pre>\n"}, {"tags": ["c#", ".net", "wcf", "soap", ".net-4.6"], "answers": [{"tags": [], "owner": {"reputation": 5866, "user_id": 2102132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pk78.png?s=128&g=1", "display_name": "Milney", "link": "https://stackoverflow.com/users/2102132/milney"}, "is_accepted": false, "score": 0, "last_activity_date": 1554932679, "creation_date": 1554932679, "answer_id": 55621738, "question_id": 55620230, "link": "https://stackoverflow.com/questions/55620230/could-not-establish-trust-relationship-for-the-ssl-tls-secure-channel-with-auth/55621738#55621738", "title": "\u201cCould not establish trust relationship for the SSL/TLS secure channel with authority\u201d for SOAP in .NET 4.6.2", "body": "<p>ServerCertificateValidationCallback requires <strong>atleast</strong> .Net 4.5 - it should work fine in 4.6.2. If it isn't working try to set it before you instantiate the client.</p>\n\n<p>As a side note you really shouldn't disable validate globally, even if it is 'just for testing' as it is quite a large security issue and those famous last words before the test solution suddenly goes live and your too busy to remember to take it out! </p>\n\n<p>How exactly are you making the call? All mechanisms have also more focused ways to disable the check for just that one call.</p>\n\n<p>Alternatively just put a self-signed certificate on the endpoint and trust it on your dev machine, then you don't open any security holes.</p>\n"}, {"tags": [], "owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "is_accepted": false, "score": 3, "last_activity_date": 1555037127, "creation_date": 1555037127, "answer_id": 55643761, "question_id": 55620230, "link": "https://stackoverflow.com/questions/55620230/could-not-establish-trust-relationship-for-the-ssl-tls-secure-channel-with-auth/55643761#55643761", "title": "\u201cCould not establish trust relationship for the SSL/TLS secure channel with authority\u201d for SOAP in .NET 4.6.2", "body": "<p>For the validation of the server certificate, you could use the following code as an alternative, it works well in Asp.net Core project as well.</p>\n\n<pre><code>//client is a proxy class object.\n           client.ClientCredentials.ServiceCertificate.SslCertificateAuthentication =\n    new X509ServiceCertificateAuthentication()\n    {\n        CertificateValidationMode = X509CertificateValidationMode.None,\n        RevocationMode = X509RevocationMode.NoCheck\n    };\n</code></pre>\n\n<p>Feel free to let me know if the problem still exists.</p>\n"}], "owner": {"reputation": 2158, "user_id": 1535349, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/e09da026507a6121afc647cf2c75abe2?s=128&d=identicon&r=PG", "display_name": "kroe761", "link": "https://stackoverflow.com/users/1535349/kroe761"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4540, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1555037127, "creation_date": 1554925493, "question_id": 55620230, "link": "https://stackoverflow.com/questions/55620230/could-not-establish-trust-relationship-for-the-ssl-tls-secure-channel-with-auth", "title": "\u201cCould not establish trust relationship for the SSL/TLS secure channel with authority\u201d for SOAP in .NET 4.6.2", "body": "<p>I am trying to make a SOAP WCF call to an internal application from .NET 4.6.2 and I get the error above.  I found a solution that I thought would work, but upon further investigation it is only applicable to .NET 4.5:</p>\n\n<pre><code>System.Net.ServicePointManager.ServerCertificateValidationCallback +=\n            (se, cert, chain, sslerror) =&gt; true;\n</code></pre>\n\n<p>Is there a comperable solution for .NET 4.6?  I am not concerned about the security implications, this is for internal testing only.  </p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1554925694, "post_id": 55620229, "comment_id": 97933577, "body": "I feel you&#39;re abusing C#&#39;s anonymous types. Why not use a strongly-typed tuple parameter instead?"}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 2, "creation_date": 1554926001, "post_id": 55620229, "comment_id": 97933708, "body": "My recommendation is don&#39;t have methods written to be used differently from different calling methods. If <code>otherParams</code> can be different things, how would anyone know what it might be? If you post an example of what some of the different variations are on <a href=\"https://softwareengineering.stackexchange.com/\">https://softwareengineering.stackexchange.com/</a> then there might be some suggestions about which parts can be reused and combined and which to keep completely separate. Because combining to reduce duplication is good, just not in a way that makes the intentions unclear."}, {"owner": {"reputation": 1400, "user_id": 4761773, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/44baf0a2e1e701d2ecf851e3f06c46b7?s=128&d=identicon&r=PG&f=1", "display_name": "TheFallenOne", "link": "https://stackoverflow.com/users/4761773/thefallenone"}, "reply_to_user": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1554926072, "post_id": 55620229, "comment_id": 97933747, "body": "@Dai My understanding might be completely wrong, but can I use tuple when I am not always sure of the number of parameters? Because in case 1, there&#39;s 1, in case 2, there&#39;s 2 and I might have a case where there are 3."}, {"owner": {"reputation": 20373, "user_id": 1671558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cNgN2.png?s=128&g=1", "display_name": "Ilya Chernomordik", "link": "https://stackoverflow.com/users/1671558/ilya-chernomordik"}, "edited": false, "score": 1, "creation_date": 1554926108, "post_id": 55620229, "comment_id": 97933764, "body": "You can&#39;t use tuple for that, but why not create an ordinary class?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1554926160, "post_id": 55620229, "comment_id": 97933783, "body": "That should be formalized as different method signatures."}], "answers": [{"tags": [], "owner": {"reputation": 20373, "user_id": 1671558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cNgN2.png?s=128&g=1", "display_name": "Ilya Chernomordik", "link": "https://stackoverflow.com/users/1671558/ilya-chernomordik"}, "is_accepted": true, "score": 4, "last_activity_date": 1554925987, "creation_date": 1554925987, "answer_id": 55620352, "question_id": 55620229, "link": "https://stackoverflow.com/questions/55620229/checking-if-the-object-parameter-contains-datetime/55620352#55620352", "title": "Checking if the object parameter contains datetime", "body": "<p>You can use <code>dynamic</code> instead of <code>Object</code> and then check</p>\n\n<pre><code>if (otherParams?.portDate is DateTime)\n{ ...}\n</code></pre>\n\n<p>Though I agree with the comment that you seem to use the anonymous classes in a wrong way. If you know what you are receiving just create a real class that will have <code>DateTime portDate</code> so that you know for sure.</p>\n"}, {"tags": [], "owner": {"reputation": 862, "user_id": 9334796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yJmwh.png?s=128&g=1", "display_name": "Black Hole", "link": "https://stackoverflow.com/users/9334796/black-hole"}, "is_accepted": false, "score": 1, "last_activity_date": 1554927041, "last_edit_date": 1554927041, "creation_date": 1554926316, "answer_id": 55620437, "question_id": 55620229, "link": "https://stackoverflow.com/questions/55620229/checking-if-the-object-parameter-contains-datetime/55620437#55620437", "title": "Checking if the object parameter contains datetime", "body": "<p>you can see all the properties of the object and check if one of thoses are datetime</p>\n\n<pre><code>    object example  = new {si= DateTime.Now, no= \"no\"}; //object example\n\n    var typevar  = example.GetType().GetProperties(); //get all te props\n    //lets loop all the props\n    foreach(var i in typevar){\n       if(i.PropertyType == typeof(System.DateTime)){\n         //if is DateTime well write the name of prop with i.Name \n         Console.WriteLine(\"The propiertie {0} is date time\", i.Name);\n       }\n    }\n</code></pre>\n\n<p>it also work for dynamic parameters</p>\n"}, {"tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": false, "score": 1, "last_activity_date": 1554928983, "last_edit_date": 1554928983, "creation_date": 1554926726, "answer_id": 55620535, "question_id": 55620229, "link": "https://stackoverflow.com/questions/55620229/checking-if-the-object-parameter-contains-datetime/55620535#55620535", "title": "Checking if the object parameter contains datetime", "body": "<p>Your question indicates that if <code>otherParams</code> is not a <code>DateTime</code> you'll use <code>DateTime.Now</code>. That suggests that if <code>otherParams</code> isn't a <code>DateTime</code> then it isn't used. </p>\n\n<p>If that's the case then a better signature might be:</p>\n\n<pre><code>public void CreateNew(FileModel data, DateTime? portDate = null)\n</code></pre>\n\n<p>That makes it clear to the caller that <code>portDate</code> is supposed to be a <code>DateTime</code>, but it's optional. Then you can do this:</p>\n\n<pre><code>portDate = portDate ?? DateTime.Now;\n</code></pre>\n\n<p>So that if it has no value, it gets replaced with <code>DateTime.Now</code>.</p>\n\n<p>If there are different ways to call it, you can provide different overloads depending on how it should be called. </p>\n\n<p>You could also add:</p>\n\n<pre><code>public void CreateNew(FileModel data, Countries countries, DateTime? portDate = null)\n</code></pre>\n\n<p>If it's possible that either one could be null but they shouldn't both be null, you could create signatures reflecting that and then have each of them call a <code>private</code> method that handles the nulls. That way you communicate the expectations more clearly.</p>\n\n<p>If something else needs to call a similar method but the second parameter might be something entirely different (not a date) then it's better to create a different method. If the type of the parameter is <code>object</code> and one possibility is that it might be a <code>DateTime</code> and there's at least one other correct type, then there's no way for the caller to know what they should pass. For example, they could call:</p>\n\n<pre><code>CreateNew(someFileModel, new List&lt;string&gt;());\n</code></pre>\n\n<p>...and it will compile, but your method won't have any use for that <code>List&lt;string&gt;</code> and might even throw an exception. Type safety is very valuable because it allows us to get all that correct up front. The code won't even compile if we're not passing the right type. We don't want our code to compile and then give us a runtime error if we can avoid it.</p>\n\n<p>As a broad guideline, we should only use <code>object</code> if the type really doesn't matter at all. You can pass objects to <code>String.Format</code> because in most cases it's just going to call <code>ToString()</code> so the type doesn't matter. 90% or more of the time (I'd say closer to 99.5%) the type <em>does</em> matter. If we get boxed in and feel like we need to use <code>dynamic</code> or <code>object</code> then we should step back and try to unpaint ourselves from that corner.</p>\n"}], "owner": {"reputation": 1400, "user_id": 4761773, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/44baf0a2e1e701d2ecf851e3f06c46b7?s=128&d=identicon&r=PG&f=1", "display_name": "TheFallenOne", "link": "https://stackoverflow.com/users/4761773/thefallenone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "accepted_answer_id": 55620352, "answer_count": 3, "score": -1, "last_activity_date": 1555021882, "creation_date": 1554925486, "last_edit_date": 1555021882, "question_id": 55620229, "link": "https://stackoverflow.com/questions/55620229/checking-if-the-object-parameter-contains-datetime", "title": "Checking if the object parameter contains datetime", "body": "<p>I have a method with object parameter so that it can be used differently by different calling methods. Inside the method, I need to check whether the first parameter of the object is date or not, if not set today's date.</p>\n\n<pre><code>public void CreateNew(FileModel data, Object otherParams = null)\n{\n     DateTime portDate = DateTime.Now;\n     if (otherParams is DateTime)\n         portDate = (DateTime)otherParams;\n\n    //In case 1 portDate is portDate value and in case 2 portDate value id \n    //DateTime.Now() even though portDate contains a value.\n}\n</code></pre>\n\n<p>I pass an object to that method in the form in two ways as below.</p>\n\n<pre><code>CreateNew(fileData,new {portDate=portDate});\nCreateNew(fileData,new {portDate=portDate,countries=countries});\n</code></pre>\n\n<p>The above code works for the first case but fails for the second case and the portDate is always today's date. So how can I have a generic date check case to properly process both cases?</p>\n"}, {"tags": ["c#", "npoco"], "comments": [{"owner": {"reputation": 76, "user_id": 4636912, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vku_N6a2EMk/AAAAAAAAAAI/AAAAAAAAAAA/s90205ldhps/photo.jpg?sz=128", "display_name": "Kris Camilleri", "link": "https://stackoverflow.com/users/4636912/kris-camilleri"}, "edited": false, "score": 0, "creation_date": 1578322135, "post_id": 55620147, "comment_id": 105391467, "body": "Did you ever get to the bottom of this? I ask as I&#39;m facing a similar predicament."}, {"owner": {"reputation": 259, "user_id": 1166061, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/pNGYS.jpg?s=128&g=1", "display_name": "jorgeAChacon", "link": "https://stackoverflow.com/users/1166061/jorgeachacon"}, "reply_to_user": {"reputation": 76, "user_id": 4636912, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vku_N6a2EMk/AAAAAAAAAAI/AAAAAAAAAAA/s90205ldhps/photo.jpg?sz=128", "display_name": "Kris Camilleri", "link": "https://stackoverflow.com/users/4636912/kris-camilleri"}, "edited": false, "score": 0, "creation_date": 1581104432, "post_id": 55620147, "comment_id": 106331853, "body": "Yes it does. Just by inspecting the queries, you&#39;ll be able to see that strings are not being appended."}], "owner": {"reputation": 259, "user_id": 1166061, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/pNGYS.jpg?s=128&g=1", "display_name": "jorgeAChacon", "link": "https://stackoverflow.com/users/1166061/jorgeachacon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554925175, "creation_date": 1554925175, "question_id": 55620147, "link": "https://stackoverflow.com/questions/55620147/does-npoco-appendarg1-arg2-prevents-sql-injection", "title": "Does NPOCO Append(arg1, arg2) prevents SQL injection?", "body": "<p>It is not clear to me by looking at the source code if the method \n<code>public Sql Append(string sql, params object[] args)</code> in the <a href=\"https://github.com/schotime/NPoco/blob/master/src/NPoco/Sql.cs\" rel=\"nofollow noreferrer\">NPOCO</a> library prevents SQL injection.</p>\n\n<p>For simplicity(my query is more complex than this), given the following example, with <code>filter</code> being a param passed by the client:</p>\n\n<pre><code>var sql = new Sql();\nsql.Append(\"SELECT * FROM Request WHERE [Company] LIKE @0\", $\"%{filter}%\");\n</code></pre>\n\n<p>Is this code prone to SQL injection?</p>\n"}, {"tags": ["c#", "oop", "builder"], "comments": [{"owner": {"reputation": 3511, "user_id": 4416750, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/067235b492b0e0006e6ce8f5f8bc523a?s=128&d=identicon&r=PG&f=1", "display_name": "Lews Therin", "link": "https://stackoverflow.com/users/4416750/lews-therin"}, "edited": false, "score": 0, "creation_date": 1554925019, "post_id": 55619976, "comment_id": 97933247, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/6320393/how-to-create-a-class-which-can-only-have-a-single-instance-in-c-sharp\">How to create a class which can only have a single instance in C#</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1339, "user_id": 1181234, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5d89bf1739f52918009a70b3454860c2?s=128&d=identicon&r=PG", "display_name": "Matthew Underwood", "link": "https://stackoverflow.com/users/1181234/matthew-underwood"}, "edited": false, "score": 0, "creation_date": 1554925133, "post_id": 55620101, "comment_id": 97933297, "body": "Would there be a way to make sure it instances just a single instance? Despite the amount of calls to the derived Builders?"}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "reply_to_user": {"reputation": 1339, "user_id": 1181234, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5d89bf1739f52918009a70b3454860c2?s=128&d=identicon&r=PG", "display_name": "Matthew Underwood", "link": "https://stackoverflow.com/users/1181234/matthew-underwood"}, "edited": false, "score": 0, "creation_date": 1554925161, "post_id": 55620101, "comment_id": 97933314, "body": "The first question should really be why you&#39;re deriving in the first place?"}, {"owner": {"reputation": 3511, "user_id": 4416750, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/067235b492b0e0006e6ce8f5f8bc523a?s=128&d=identicon&r=PG&f=1", "display_name": "Lews Therin", "link": "https://stackoverflow.com/users/4416750/lews-therin"}, "edited": false, "score": 0, "creation_date": 1554925171, "post_id": 55620101, "comment_id": 97933318, "body": "This is the correct cause (so upvoted) but a complete answer should also discuss how to fix the problem."}, {"owner": {"reputation": 1339, "user_id": 1181234, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5d89bf1739f52918009a70b3454860c2?s=128&d=identicon&r=PG", "display_name": "Matthew Underwood", "link": "https://stackoverflow.com/users/1181234/matthew-underwood"}, "edited": false, "score": 0, "creation_date": 1554925349, "post_id": 55620101, "comment_id": 97933416, "body": "The code was an example from a tutorial which I thought would work. I don&#39;t mind not deriving, I just need a fix really."}], "tags": [], "owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "is_accepted": true, "score": 2, "last_activity_date": 1554925805, "last_edit_date": 1554925805, "creation_date": 1554924937, "answer_id": 55620101, "question_id": 55619976, "link": "https://stackoverflow.com/questions/55619976/builder-class-needs-to-create-only-a-single-instance-of-what-its-building/55620101#55620101", "title": "Builder class needs to create only a single instance of what its building", "body": "<p>Every derived builder inherits from <code>PersonBuilder</code> so when you new up a <code>PersonJobBuilder</code> you're also new'ing up a <code>Person</code></p>\n\n<pre><code>var pb = new PersonBuilder();\n\npublic PersonAddressBuilder Lives =&gt; new PersonAddressBuilder(person);\npublic PersonJobBuilder Works =&gt; new PersonJobBuilder(person);\n</code></pre>\n\n<p>Each new's up a <code>Person</code> thus, three instances.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>A quick fix would be to make your <code>Person</code> instance static such that only one ever exists. Technically you're tutorials code does work it just doesn't guarantee that one person object is created but you're always operating on the current person.</p>\n\n<pre><code>public class Person\n{\n    // address\n    public string StreetAddress, Postcode, City;\n\n    // employment\n    public string CompanyName, Position;\n\n    public int AnnualIncome;\n\n    public Person()\n    {\n        Console.WriteLine(\"Person instanced\");\n    }\n\n    public override string ToString()\n    {\n        return $\"{nameof(StreetAddress)}: {StreetAddress}, {nameof(Postcode)}: {Postcode}, {nameof(City)}: {City}, {nameof(CompanyName)}: {CompanyName}, {nameof(Position)}: {Position}, {nameof(AnnualIncome)}: {AnnualIncome}\";\n    }\n}\n\npublic class PersonBuilder\n{\n    protected static Person _person = new Person();\n    public PersonAddressBuilder Lives =&gt; new PersonAddressBuilder(_person);\n    public PersonJobBuilder Works =&gt; new PersonJobBuilder(_person);\n\n    public Person Build()\n    {\n        return _person;\n    }\n}\n\npublic class PersonJobBuilder : PersonBuilder\n{\n    public PersonJobBuilder(Person person)\n    {\n        _person = person;\n    }\n\n    public PersonJobBuilder At(string companyName)\n    {\n        _person.CompanyName = companyName;\n        return this;\n    }\n\n    public PersonJobBuilder AsA(string position)\n    {\n        _person.Position = position;\n        return this;\n    }\n\n    public PersonJobBuilder Earning(int annualIncome)\n    {\n        _person.AnnualIncome = annualIncome;\n        return this;\n    }\n}\n\npublic class PersonAddressBuilder : PersonBuilder\n{\n    public PersonAddressBuilder(Person person)\n    {\n        _person = person;\n    }\n\n    public PersonAddressBuilder At(string streetAddress)\n    {\n        _person.StreetAddress = streetAddress;\n        return this;\n    }\n\n    public PersonAddressBuilder WithPostcode(string postcode)\n    {\n        _person.Postcode = postcode;\n        return this;\n    }\n\n    public PersonAddressBuilder In(string city)\n    {\n        _person.City = city;\n        return this;\n    }\n\n}\n\npublic class Demo\n{\n    static void Main(string[] args)\n    {\n        var pb = new PersonBuilder();\n        Person person = pb\n          .Lives\n            .At(\"123 London Road\")\n            .In(\"London\")\n            .WithPostcode(\"SW12BC\")\n          .Works\n            .At(\"Fabrikam\")\n            .AsA(\"Engineer\")\n            .Earning(123000).Build();\n\n        WriteLine(person);\n        Console.ReadLine();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1339, "user_id": 1181234, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5d89bf1739f52918009a70b3454860c2?s=128&d=identicon&r=PG", "display_name": "Matthew Underwood", "link": "https://stackoverflow.com/users/1181234/matthew-underwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 55620101, "answer_count": 1, "score": 0, "last_activity_date": 1554925905, "creation_date": 1554924430, "last_edit_date": 1554925705, "question_id": 55619976, "link": "https://stackoverflow.com/questions/55619976/builder-class-needs-to-create-only-a-single-instance-of-what-its-building", "title": "Builder class needs to create only a single instance of what its building", "body": "<p>I am trying to create a builder class that will build a single instance of Person object. Problem is that it creates three Person objects. I know this as it triggers the constructor three times (It writes three times to the console). How can I make it so it only creates the one?</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Runtime.CompilerServices;\nusing System.Text;\nusing System.Threading.Tasks;\nusing static System.Console;\n\nnamespace DotNetDesignPatternDemos.Creational.BuilderFacets\n{\n  public class Person\n  {\n    // address\n    public string StreetAddress, Postcode, City;\n\n    // employment\n    public string CompanyName, Position;\n\n    public int AnnualIncome;\n\n    public Person()\n    {\n      Console.WriteLine(\"Person instanced\");\n    }\n\n    public override string ToString()\n    {\n      return $\"{nameof(StreetAddress)}: {StreetAddress}, {nameof(Postcode)}: {Postcode}, {nameof(City)}: {City}, {nameof(CompanyName)}: {CompanyName}, {nameof(Position)}: {Position}, {nameof(AnnualIncome)}: {AnnualIncome}\";\n    }\n  }\n\n  public class PersonBuilder  \n  {\n    protected Person person = new Person();\n    public PersonAddressBuilder Lives =&gt; new PersonAddressBuilder(person);\n    public PersonJobBuilder Works =&gt; new PersonJobBuilder(person);\n\n    public Person Build()\n    {\n      return this.person;\n    }\n  }\n\n  public class PersonJobBuilder : PersonBuilder\n  {\n    public PersonJobBuilder(Person person)\n    {\n      this.person = person;\n    }\n\n    public PersonJobBuilder At(string companyName)\n    {\n      person.CompanyName = companyName;\n      return this;\n    }\n\n    public PersonJobBuilder AsA(string position)\n    {\n      person.Position = position;\n      return this;\n    }\n\n    public PersonJobBuilder Earning(int annualIncome)\n    {\n      person.AnnualIncome = annualIncome;\n      return this;\n    }\n  }\n\n  public class PersonAddressBuilder : PersonBuilder\n  {\n    public PersonAddressBuilder(Person person)\n    {\n      this.person = person;\n    }\n\n    public PersonAddressBuilder At(string streetAddress)\n    {\n      person.StreetAddress = streetAddress;\n      return this;\n    }\n\n    public PersonAddressBuilder WithPostcode(string postcode)\n    {\n      person.Postcode = postcode;\n      return this;\n    }\n\n    public PersonAddressBuilder In(string city)\n    {\n      person.City = city;\n      return this;\n    }\n\n  }\n\n  public class Demo\n  {\n    static void Main(string[] args)\n    {\n      var pb = new PersonBuilder();\n      Person person = pb\n        .Lives\n          .At(\"123 London Road\")\n          .In(\"London\")\n          .WithPostcode(\"SW12BC\")\n        .Works\n          .At(\"Fabrikam\")\n          .AsA(\"Engineer\")\n          .Earning(123000).Build();\n\n      WriteLine(person);\n    }\n  }\n}\n</code></pre>\n\n<p>Results in </p>\n\n<pre><code>Person instanced\nPerson instanced\nPerson instanced\nStreetAddress: 123 London Road, Postcode: SW12BC, City: London, CompanyName: Fab\nrikam, Position: Engineer, AnnualIncome: 123000\n</code></pre>\n\n<p>Essentially it will need to create a single Person instance per instance of the Builder.</p>\n\n<p>I dont think Singleton is the solution as I dont need a globally accessible object.</p>\n"}, {"tags": ["c#", "nlog"], "comments": [{"owner": {"reputation": 2100, "user_id": 11099, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3e07c332737b7858ebecb731c6bf4470?s=128&d=identicon&r=PG", "display_name": "Pedro", "link": "https://stackoverflow.com/users/11099/pedro"}, "edited": false, "score": 1, "creation_date": 1554924590, "post_id": 55619941, "comment_id": 97933062, "body": "to get a more meaningfull error, try making your <code>m_nLog</code> variable <i>non-static</i> so that it gets initialized later, thus being able to provide you with a better error message than an TypeInitializationException."}, {"owner": {"reputation": 11822, "user_id": 193178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DUlHJ.png?s=128&g=1", "display_name": "Rolf Kristensen", "link": "https://stackoverflow.com/users/193178/rolf-kristensen"}, "edited": false, "score": 1, "creation_date": 1554926587, "post_id": 55619941, "comment_id": 97933953, "body": "Also make sure to remove <code>throwExceptions=&quot;true&quot;</code> it is only meant for NLog Unit Testing. Try also to enable the NLog InternalLogger by configuring <code>internalLogLevel=&quot;Trace&quot;</code> and look in the log file <code>c:\\temp\\nlog-internal.log</code>. See <a href=\"https://github.com/NLog/NLog/wiki/Logging-troubleshooting\" rel=\"nofollow noreferrer\">github.com/NLog/NLog/wiki/Logging-troubleshooting</a>"}, {"owner": {"reputation": 1, "user_id": 11342106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c90a436ee5e35eb0e3742f6784d527aa?s=128&d=identicon&r=PG&f=1", "display_name": "bsstreet", "link": "https://stackoverflow.com/users/11342106/bsstreet"}, "edited": false, "score": 0, "creation_date": 1555070792, "post_id": 55619941, "comment_id": 97991069, "body": "Can&#39;t believe I didn&#39;t think to remove static for better testing.  I&#39;m sure I just followed the NLog tutorial when I first added logging a few years ago. Worked out of the box and never looked back till now!  Turns out, NLog couldn&#39;t find the configuration file. Even though, I set NLog.config file with &quot;Build Action = Content&quot; and &quot;Copy to Output Directory = Copy always&quot;, my class starts and external program and used a working directory that is different. In the end, a week wasted, but user error!  Thanks for the advise Pedro!"}, {"owner": {"reputation": 1, "user_id": 11342106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c90a436ee5e35eb0e3742f6784d527aa?s=128&d=identicon&r=PG&f=1", "display_name": "bsstreet", "link": "https://stackoverflow.com/users/11342106/bsstreet"}, "edited": false, "score": 0, "creation_date": 1555070839, "post_id": 55619941, "comment_id": 97991092, "body": "Rolf, I appreciate you help as well - I had already tried everything in the NLog Troubleshooting link (should have mentioned in my original post)."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11342106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c90a436ee5e35eb0e3742f6784d527aa?s=128&d=identicon&r=PG&f=1", "display_name": "bsstreet", "link": "https://stackoverflow.com/users/11342106/bsstreet"}, "edited": false, "score": 0, "creation_date": 1555071714, "post_id": 55650590, "comment_id": 97991546, "body": "Finally figured it out this morning with Pedro&#39;s suggestion above.  Turns out, even though I verified the NLog configuration file existed, my class app is launched with an external application that has a different working directory (complete user error). Once I copied over the config, all worked perfectly!  I had tried all 3 suggestions you posted above, which I found in previous posts (should have mentioned in original post).  Sorry for wasting anyone&#39;s time!"}], "tags": [], "owner": {"reputation": 26197, "user_id": 201303, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AQoqr.jpg?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/201303/julian"}, "is_accepted": false, "score": 1, "last_activity_date": 1555068342, "creation_date": 1555068342, "answer_id": 55650590, "question_id": 55619941, "link": "https://stackoverflow.com/questions/55619941/nlog-getcurrentclasslogger-throws-typeinitializationexception/55650590#55650590", "title": "NLog GetCurrentClassLogger() throws TypeInitializationException", "body": "<p>If there is an issue in NLog, e.g. a wrong logging configuration, NLog could throw an exception.</p>\n\n<p>If this exception is throw before the startup type is contructed, .NET will hide the exception with a <code>TypeInitializationException</code> (See also <a href=\"https://stackoverflow.com/questions/34994470/better-typeinitializationexception-innerexception-is-also-null\">Better TypeInitializationException (innerException is also null)</a>). </p>\n\n<p>E.g. in this case:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>class Program\n{\n    // this throws a NLogConfigurationException because of bad config. (like invalid XML)\n    // as this issue will be throw before Main() is called, you will get\n    // a TypeInitializationException instead of a NLogConfigurationException\n    private static Logger logger = LogManager.GetCurrentClassLogger();\n\n    static void Main()\n    {\n        Console.WriteLine(\"Press any key\");\n        Console.ReadLine();\n    }\n}\n</code></pre>\n\n<h2>Solutions</h2>\n\n<p>3 possible solutions:</p>\n\n<h3>Using lazy</h3>\n\n<pre><code>class Program\n{\n    private static Lazy&lt;Logger&gt; logger = new Lazy&lt;Logger&gt;(() =&gt; LogManager.GetCurrentClassLogger());\n\n    static void Main()\n    {\n        Console.WriteLine(\"Press any key\");\n        Console.ReadLine();\n    }\n}\n</code></pre>\n\n<h3>Create the logger in the main()</h3>\n\n<pre class=\"lang-cs prettyprint-override\"><code>class Program\n{\n    private static Logger logger;\n\n    static void Main()\n    {\n        logger = LogManager.GetCurrentClassLogger();\n        Console.WriteLine(\"Press any key\");\n        Console.ReadLine();\n    }\n}\n</code></pre>\n\n<h3>Create a local logger</h3>\n\n<pre class=\"lang-cs prettyprint-override\"><code>class Program\n{\n    static void Main()\n    {\n        private logger = LogManager.GetCurrentClassLogger();\n        Console.WriteLine(\"Press any key\");\n        Console.ReadLine();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11342106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c90a436ee5e35eb0e3742f6784d527aa?s=128&d=identicon&r=PG&f=1", "display_name": "bsstreet", "link": "https://stackoverflow.com/users/11342106/bsstreet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 774, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555068342, "creation_date": 1554924313, "question_id": 55619941, "link": "https://stackoverflow.com/questions/55619941/nlog-getcurrentclasslogger-throws-typeinitializationexception", "title": "NLog GetCurrentClassLogger() throws TypeInitializationException", "body": "<p>I'm porting code that has worked for a few years now from a machine running Windows 7 to Windows 10.  The project is a Class Library that uses .NET Framework 4.5.2 with NLog 4.4.12.  After recompiling, the application throws a TypeInitializationException in the constructor.</p>\n\n<p>Tried the following:</p>\n\n<ol>\n<li>Comment out NLog code - <strong>success</strong>.</li>\n<li>Upgraded NLog to 4.6.2 - <strong>fail</strong>.</li>\n<li>Created a Test Console Application to verify NLog was installed properly - <strong>success</strong>.</li>\n<li>Tried stripping down NLog.config to just console target/rule - <strong>fail</strong>.</li>\n<li>Rebuilt class step-by-step - <strong>fails</strong> immediately when introduction NLog intializer.</li>\n</ol>\n\n<p>Throws exception on (won't even enter constructor): <code>private static NLog.Logger m_nLog = LogManager.GetCurrentClassLogger();</code></p>\n\n<p>NLog.config:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;nlog xmlns=\"http://www.nlog-project.org/schemas/NLog.xsd\" \n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n    xsi:schemaLocation=\"http://www.nlog-project.org/schemas/NLog.xsd NLog.xsd\" \n    autoReload=\"true\" \n    throwExceptions=\"true\" \n    internalLogLevel=\"Off\" internalLogFile=\"c:\\temp\\nlog-internal.log\"&gt;\n\n&lt;targets&gt;\n    &lt;target name=\"console\" xsi:type=\"Console\" \n        layout     = \"${time} ${uppercase:${level}} ${message}\" /&gt;\n\n    &lt;target name=\"logfile\" xsi:type=\"File\" \n        fileName   = \"${basedir}/Logs/${shortdate}.log\" \n        layout     = \"${time} ${uppercase:${level}} ${message}\" /&gt;\n&lt;/targets&gt;\n\n&lt;rules&gt;\n    &lt;logger name=\"*\" minlevel=\"Info\"  writeTo=\"console\" /&gt;\n    &lt;logger name=\"*\" minlevel=\"Trace\" writeTo=\"logfile\" /&gt;\n&lt;/rules&gt;\n</code></pre>\n\n<p></p>\n\n<ul>\n<li>same NLog.Config used with Test Console Application, which works.</li>\n</ul>\n\n<p>No idea how to proceed or determine the inner exception.</p>\n"}, {"tags": ["c#", "xaml", "button", "uwp", "click"], "comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 2, "creation_date": 1554924060, "post_id": 55619799, "comment_id": 97932856, "body": "Your example code doesn&#39;t match anything in your xaml. You can get the button from the <code>object sender</code> or get it by name <code>addToFevBtn</code>"}, {"owner": {"reputation": 435, "user_id": 6662984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cccAu.png?s=128&g=1", "display_name": "Mahmudul Hasan", "link": "https://stackoverflow.com/users/6662984/mahmudul-hasan"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1554965704, "post_id": 55619799, "comment_id": 97944697, "body": "The C# code is not mine; I copied from another answer. I&#39;ve added the link."}], "answers": [{"tags": [], "owner": {"reputation": 25248, "user_id": 7254781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsIFV.jpg?s=128&g=1", "display_name": "Nico Zhu - MSFT", "link": "https://stackoverflow.com/users/7254781/nico-zhu-msft"}, "is_accepted": true, "score": 1, "last_activity_date": 1554965535, "creation_date": 1554965535, "answer_id": 55626349, "question_id": 55619799, "link": "https://stackoverflow.com/questions/55619799/how-to-change-gridview-button-content-on-click/55626349#55626349", "title": "How to change GridView button content on click?", "body": "<p>For your requirement, The better way is that bind button's <code>Foreground</code> property with <code>Boolean</code> value then use <code>IValueConverter</code> to convert it into <code>SolidColorBrush</code>. You could change the symbol's color by modifying <code>IsFav</code> value in the button click method .</p>\n\n<pre><code>public sealed partial class MainPage : Page\n{\n    public MainPage()\n    {\n        this.InitializeComponent();\n    }\n    public List&lt;Item&gt; Items { get; set; }\n    protected override void OnNavigatedTo(NavigationEventArgs e)\n    {\n        base.OnNavigatedTo(e);\n\n        Items = new List&lt;Item&gt;();\n        Items.Add(new Item { Name = \"Nice Day\", IsFav = true });\n        Items.Add(new Item { Name = \"Nice Day\", IsFav = false });\n        Items.Add(new Item { Name = \"Nice Day\", IsFav = false });\n    }\n\n    private void AddToFevBtn_Click(object sender, RoutedEventArgs e)\n    {\n        var btn = sender as Button;\n        var item = btn.DataContext as Item;\n        item.IsFav = !item.IsFav;\n    }\n}\npublic class Item : INotifyPropertyChanged\n{\n    public bool IsFav\n    {\n        get\n        {\n            return isFav;\n\n        }\n        set\n        {\n            isFav = value;\n            OnPropertyChanged();\n        }\n    }\n    private bool isFav;\n\n    public string Name { get; set; }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    public void OnPropertyChanged([CallerMemberName] string propertyName = null)\n    {\n        // Raise the PropertyChanged event, passing the name of the property whose value has changed.\n        if (PropertyChanged != null)\n        {\n            this.PropertyChanged(this, new PropertyChangedEventArgs(propertyName));\n        }\n\n    }\n}\n\npublic class ColorConverter : IValueConverter\n{\n    public object Convert(object value, Type targetType, object parameter, string language)\n    {\n        if (Boolean.Parse(value.ToString()))\n        {\n            return new SolidColorBrush(Colors.Red);\n        }\n        else\n        {\n            return new SolidColorBrush(Colors.Black);\n        }\n    }\n\n    public object ConvertBack(object value, Type targetType, object parameter, string language)\n    {\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n\n<p><strong>Xaml</strong></p>\n\n<pre><code>&lt;Page.Resources&gt;\n    &lt;local:ColorConverter x:Key=\"Converter\"/&gt;\n&lt;/Page.Resources&gt;\n&lt;Grid&gt;\n    &lt;GridView ItemsSource=\"{x:Bind Items}\"&gt;\n        &lt;GridView.ItemTemplate&gt;\n            &lt;DataTemplate&gt;\n                &lt;StackPanel Orientation=\"Vertical\" Width=\"100\" &gt;\n                    &lt;TextBlock Text=\"{Binding Name}\"\n                              TextAlignment=\"Center\" \n                              HorizontalAlignment=\"Center\" \n                              Margin=\"0,10,0,0\"/&gt;\n                    &lt;Button Style=\"{StaticResource TextBlockButtonStyle}\" \n                    HorizontalAlignment=\"Center\"\n                    Margin=\"0,30,0,0\"\n                    Content=\"&amp;#xEB51;\" \n                    FontSize=\"25\"\n                    FontFamily=\"Segoe MDL2 Assets\"     \n                    Foreground=\"{Binding IsFav,Converter={StaticResource Converter}}\"\n                           Click=\"AddToFevBtn_Click\"\n                    x:Name=\"addToFevBtn\"\n                  /&gt;\n                &lt;/StackPanel&gt;\n\n            &lt;/DataTemplate&gt;\n        &lt;/GridView.ItemTemplate&gt;\n    &lt;/GridView&gt;\n&lt;/Grid&gt;\n</code></pre>\n"}], "owner": {"reputation": 435, "user_id": 6662984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cccAu.png?s=128&g=1", "display_name": "Mahmudul Hasan", "link": "https://stackoverflow.com/users/6662984/mahmudul-hasan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 55626349, "answer_count": 1, "score": 0, "last_activity_date": 1554965535, "creation_date": 1554923630, "question_id": 55619799, "link": "https://stackoverflow.com/questions/55619799/how-to-change-gridview-button-content-on-click", "title": "How to change GridView button content on click?", "body": "<p>In my app, there is an option where the user can add an item to their favorite list.</p>\n\n<p>The button contains a love symbol. I want to change the color when the item is already on the favorite list. </p>\n\n<p>I've tried this method, but it doesn't work, because the button is a GridView item.</p>\n\n<pre><code>private void OrdersButton_Click(object sender, EventArgs e)\n{\n    if (OrdersButton.Text == \"Turn Orders On\")\n    {\n        OrdersButton.Text = \"Turn Orders Off\";\n    }\n    else if (OrdersButton.Text == \"Turn Orders Off\")\n    {\n        OrdersButton.Text = \"Turn Orders On\";\n    }\n}\n</code></pre>\n\n<p>[Answer from this post - <a href=\"https://stackoverflow.com/questions/15400421/change-button-text-after-click-then-change-it-back-after-clicking-again\">Change button text after click, then change it back after clicking again</a>]</p>\n\n<p>Here is my button code-</p>\n\n<pre><code>&lt;Button Style=\"{StaticResource TextBlockButtonStyle}\"\n        Margin=\"2,0\"\n        Content=\"&amp;#xEB51;\" \n        FontFamily=\"Segoe MDL2 Assets\"\n        x:Name=\"addToFevBtn\"\n        Click=\"AddToFevBtn_Click\"/&gt;\n</code></pre>\n\n<p>So my question is how I can do that?</p>\n"}, {"tags": ["c#", "asp.net", "httpwebrequest", "httpwebresponse"], "comments": [{"owner": {"reputation": 105, "user_id": 4696054, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102678980618252/picture?type=large", "display_name": "Peter Chikov", "link": "https://stackoverflow.com/users/4696054/peter-chikov"}, "reply_to_user": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 1, "creation_date": 1554924473, "post_id": 55619681, "comment_id": 97933021, "body": "Error is on this line: var response = (HttpWebResponse)request.GetResponse()"}, {"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1554924643, "post_id": 55619681, "comment_id": 97933085, "body": "Have you tried anything to fix the error? If so, what have you tried? Posting code and saying &quot;This doesn&#39;t work&quot; doesn&#39;t get very far :)"}, {"owner": {"reputation": 105, "user_id": 4696054, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102678980618252/picture?type=large", "display_name": "Peter Chikov", "link": "https://stackoverflow.com/users/4696054/peter-chikov"}, "reply_to_user": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1554924749, "post_id": 55619681, "comment_id": 97933132, "body": "Please suggest what is there to try? I had an error in ASP.NET, I created a console app, copied the same code, and the code started working... I am stumped"}, {"owner": {"reputation": 105, "user_id": 4696054, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102678980618252/picture?type=large", "display_name": "Peter Chikov", "link": "https://stackoverflow.com/users/4696054/peter-chikov"}, "reply_to_user": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1554924933, "post_id": 55619681, "comment_id": 97933210, "body": "Fiddler says: fiddler.network.https&gt; HTTPS handshake to stg.mul-bill.jp (for #27) failed. System.IO.IOException Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. &lt; An existing connection was forcibly closed by the remote host If that helps."}], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 4696054, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102678980618252/picture?type=large", "display_name": "Peter Chikov", "link": "https://stackoverflow.com/users/4696054/peter-chikov"}, "is_accepted": true, "score": 0, "last_activity_date": 1555529901, "creation_date": 1555529901, "answer_id": 55734856, "question_id": 55619681, "link": "https://stackoverflow.com/questions/55619681/httpwebrequest-httpwebresponse-only-works-from-console-app-not-asp-net/55734856#55734856", "title": "HttpWebRequest/HttpWebResponse only works from Console app not ASP.NET", "body": "<p>Having not found a better solution and having code release deadline I am just going to call a Console app from the ASP.NET code. Solution is below</p>\n\n<pre><code>    ProcessStartInfo startInfo = new ProcessStartInfo\n    {\n        FileName = @\"C:\\Debug\\ConsoleApp.exe\",\n        UseShellExecute = false,\n        RedirectStandardOutput = true,\n\n        Arguments = PREREQ_URL + \" \" + basicUserName\n    };\n    if (basicPassword.Length &gt; 0) startInfo.Arguments += \" \" + basicPassword;\n\n    string responseString = Process.Start(startInfo).StandardOutput.ReadLine();\n    return responseString;\n</code></pre>\n\n<p>I realize that this is not an ideal solution and will delete/modify this answer if someone suggests a better approach.</p>\n"}, {"tags": [], "owner": {"reputation": 378, "user_id": 2214993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f0f8911ef43c4f647acbd5df40e9a4b?s=128&d=identicon&r=PG", "display_name": "Vlad S.", "link": "https://stackoverflow.com/users/2214993/vlad-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1593703909, "creation_date": 1593703909, "answer_id": 62699926, "question_id": 55619681, "link": "https://stackoverflow.com/questions/55619681/httpwebrequest-httpwebresponse-only-works-from-console-app-not-asp-net/62699926#62699926", "title": "HttpWebRequest/HttpWebResponse only works from Console app not ASP.NET", "body": "<p>I use HttpWebRequest in an ASP.NET application and works just fine.</p>\n<p>Based on the error you see in Fiddler I would say it is a problem with the HTTPS certificate validation or the default security protocol. Probably a different default policy applies when you run the code in a console application and that is why it works there.\nTry to add these lines below the <em>WebRequest.Create(..)</em></p>\n<pre><code>    ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;\n\n    // Skip validation of remote server's SSL/TLS certificate\n    ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4808706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8de569022fc0f5d258bf96533e5e94f5?s=128&d=identicon&r=PG&f=1", "display_name": "Jerome Du", "link": "https://stackoverflow.com/users/4808706/jerome-du"}, "is_accepted": false, "score": 0, "last_activity_date": 1608177871, "last_edit_date": 1608177871, "creation_date": 1608177184, "answer_id": 65334499, "question_id": 55619681, "link": "https://stackoverflow.com/questions/55619681/httpwebrequest-httpwebresponse-only-works-from-console-app-not-asp-net/65334499#65334499", "title": "HttpWebRequest/HttpWebResponse only works from Console app not ASP.NET", "body": "<p>I had same problem and resolved with setting proxy of httpwebrequest as below.</p>\n<pre><code>httpRequest.Proxy = new WebProxy(hostname, portno);\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 4696054, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102678980618252/picture?type=large", "display_name": "Peter Chikov", "link": "https://stackoverflow.com/users/4696054/peter-chikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 55734856, "answer_count": 3, "score": 0, "last_activity_date": 1608177871, "creation_date": 1554923140, "last_edit_date": 1555084868, "question_id": 55619681, "link": "https://stackoverflow.com/questions/55619681/httpwebrequest-httpwebresponse-only-works-from-console-app-not-asp-net", "title": "HttpWebRequest/HttpWebResponse only works from Console app not ASP.NET", "body": "<p>When I run the code below from a console app it works perfectly.</p>\n\n<pre><code>        Uri prereqUri = new Uri(PREREQ_URL);\n        HttpWebRequest request = (HttpWebRequest)WebRequest.Create(prereqUri);\n\n        request.PreAuthenticate = true;\n        request.Headers.Add(HttpRequestHeader.Authorization, authorization);\n        request.Method = \"POST\";\n        request.KeepAlive = true;\n\n        string responseString = \"\";\n        using (var response = (HttpWebResponse)request.GetResponse())\n        {\n            responseString = new StreamReader(response.GetResponseStream()).ReadToEnd();\n        }\n</code></pre>\n\n<p>However when I run the same code from ASP.NET I get: </p>\n\n<p>\"System.IO.IOException Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host.\"<br>\non var response = (HttpWebResponse)request.GetResponse()</p>\n\n<p>Any ideas, please.</p>\n\n<p><strong>Update:</strong> The remote end is not seeing the data we send through ASP.NET so the problem is definitely on the sending side.<br>\n<strong>Update 2 :</strong> Some sites, suggest impersonation, that didn't work :(</p>\n"}, {"tags": ["c#", "c++", "unity3d", "shader", "fragment-shader"], "comments": [{"owner": {"reputation": 1578, "user_id": 342842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a98efa40198faaa312c6465b969f1fae?s=128&d=identicon&r=PG", "display_name": "Immersive", "link": "https://stackoverflow.com/users/342842/immersive"}, "edited": false, "score": 0, "creation_date": 1554965645, "post_id": 55619589, "comment_id": 97944676, "body": "I&#39;m not really up to speed on Unity&#39;s shaders, but your &#39;new&#39; one still has two <code>Pass</code> blocks.  Are you sure that&#39;s correct?"}, {"owner": {"reputation": 1085, "user_id": 9312961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fcb11419419d32ed648a34f4ef12e?s=128&d=identicon&r=PG&f=1", "display_name": "Kalle Halvarsson", "link": "https://stackoverflow.com/users/9312961/kalle-halvarsson"}, "reply_to_user": {"reputation": 1578, "user_id": 342842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a98efa40198faaa312c6465b969f1fae?s=128&d=identicon&r=PG", "display_name": "Immersive", "link": "https://stackoverflow.com/users/342842/immersive"}, "edited": false, "score": 0, "creation_date": 1554967945, "post_id": 55619589, "comment_id": 97945829, "body": "@Immersive, singe-pass in this case refers to rendering both eyes simultaneously for VR - it&#39;s not related to the render passes inside the shader."}], "owner": {"reputation": 1, "user_id": 7376304, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vcNKa9WZG-E/AAAAAAAAAAI/AAAAAAAADeE/q41KjFjiIJI/photo.jpg?sz=128", "display_name": "Yamraj 6", "link": "https://stackoverflow.com/users/7376304/yamraj-6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 298, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554922760, "creation_date": 1554922760, "question_id": 55619589, "link": "https://stackoverflow.com/questions/55619589/convert-multipass-blur-shader-to-singlepass-rendering-mode", "title": "Convert multipass blur shader to singlepass (rendering mode)", "body": "<p>I have blur shader to Unity and this shader doesn't support SinglePass rendering mode (after build on Oculus GO with SinglePass graphic artifacts appear). I tried to implement support for SinglePass rendering using Unity guides, but with no effects. I do not have any ideas what could be wrong.</p>\n\n<p>Unity SinglePass guidies I tried applied:\n<a href=\"https://docs.unity3d.com/Manual/SinglePassStereoRendering.html\" rel=\"nofollow noreferrer\">https://docs.unity3d.com/Manual/SinglePassStereoRendering.html</a>\n<a href=\"https://docs.unity3d.com/Manual/SinglePassInstancing.html\" rel=\"nofollow noreferrer\">https://docs.unity3d.com/Manual/SinglePassInstancing.html</a></p>\n\n<p>OLD VERSION NOT SUPPORTED SINGLE PASS RENDERING:</p>\n\n<p>Shader \"Custom/BLUR\" {\n    Properties\n    {\n        _Radius(\"Radius\", Range(1, 255)) = 1\n    }</p>\n\n<pre><code>Category\n{\n    Tags{ \"Queue\" = \"Transparent\" \"IgnoreProjector\" = \"True\" \"RenderType\" = \"Opaque\" }\n\n    SubShader\n    {\n        GrabPass\n        {\n            Tags{ \"LightMode\" = \"Always\" }\n        }\n\n        Pass\n        {\n            Tags{ \"LightMode\" = \"Always\" }\n\n            CGPROGRAM\n            #pragma vertex vert\n            #pragma fragment frag\n            #pragma fragmentoption ARB_precision_hint_fastest\n            #include \"UnityCG.cginc\"\n\n            struct appdata_t\n            {\n                float4 vertex : POSITION;\n                float2 texcoord: TEXCOORD0;\n            };\n\n            struct v2f\n            {\n                float4 vertex : POSITION;\n                float4 uvgrab : TEXCOORD0;\n            };\n\n            v2f vert(appdata_t v)\n            {\n                v2f o;\n                o.vertex = UnityObjectToClipPos(v.vertex);\n                #if UNITY_UV_STARTS_AT_TOP\n                float scale = -1.0;\n                #else\n                float scale = 1.0;\n                #endif\n                o.uvgrab.xy = (float2(o.vertex.x, o.vertex.y*scale) + o.vertex.w) * 0.5;\n                o.uvgrab.zw = o.vertex.zw;\n                return o;\n            }\n\n            sampler2D _GrabTexture;\n            float4 _GrabTexture_TexelSize;\n            float _Radius;\n\n            half4 frag(v2f i) : COLOR\n            {\n                half4 sum = half4(0,0,0,0);\n\n                #define GRABXYPIXEL(kernelx, kernely) tex2Dproj( _GrabTexture, UNITY_PROJ_COORD(float4(i.uvgrab.x + _GrabTexture_TexelSize.x * kernelx, i.uvgrab.y + _GrabTexture_TexelSize.y * kernely, i.uvgrab.z, i.uvgrab.w)))\n\n                sum += GRABXYPIXEL(0.0, 0.0);\n                int measurments = 1;\n\n                for (float range = 0.1f; range &lt;= _Radius; range += 0.1f)\n                {\n                    sum += GRABXYPIXEL(range, range);\n                    sum += GRABXYPIXEL(range, -range);\n                    sum += GRABXYPIXEL(-range, range);\n                    sum += GRABXYPIXEL(-range, -range);\n                    measurments += 4;\n                }\n\n                return sum / measurments;\n            }\n            ENDCG\n        }\n        GrabPass\n        {\n            Tags{ \"LightMode\" = \"Always\" }\n        }\n\n        Pass\n        {\n            Tags{ \"LightMode\" = \"Always\" }\n\n            CGPROGRAM\n            #pragma vertex vert\n            #pragma fragment frag\n            #pragma fragmentoption ARB_precision_hint_fastest\n            #include \"UnityCG.cginc\"\n\n            struct appdata_t\n            {\n                float4 vertex : POSITION;\n                float2 texcoord: TEXCOORD0;\n            };\n\n            struct v2f\n            {\n                float4 vertex : POSITION;\n                float4 uvgrab : TEXCOORD0;\n            };\n\n            v2f vert(appdata_t v)\n            {\n                v2f o;\n                 o.vertex = UnityObjectToClipPos(v.vertex);\n                #if UNITY_UV_STARTS_AT_TOP\n                float scale = -1.0;\n                #else\n                float scale = 1.0;\n                #endif                  \n                o.uvgrab.xy = (float2(o.vertex.x, o.vertex.y*scale) + o.vertex.w) * 0.5;\n                o.uvgrab.zw = o.vertex.zw;\n                return o;\n            }\n\n            sampler2D _GrabTexture;\n            float4 _GrabTexture_TexelSize;\n            float _Radius;\n\n            half4 frag(v2f i) : COLOR\n            {\n\n                half4 sum = half4(0,0,0,0);\n                float radius = 1.41421356237 * _Radius;\n\n                #define GRABXYPIXEL(kernelx, kernely) tex2Dproj( _GrabTexture, UNITY_PROJ_COORD(float4(i.uvgrab.x + _GrabTexture_TexelSize.x * kernelx, i.uvgrab.y + _GrabTexture_TexelSize.y * kernely, i.uvgrab.z, i.uvgrab.w)))\n\n                sum += GRABXYPIXEL(0.0, 0.0);\n                int measurments = 1;\n\n                for (float range = 1.41421356237f; range &lt;= radius * 1.41; range += 1.41421356237f)\n                {\n                    sum += GRABXYPIXEL(range, 0);\n                    sum += GRABXYPIXEL(-range, 0);\n                    sum += GRABXYPIXEL(0, range);\n                    sum += GRABXYPIXEL(0, -range);\n                    measurments += 4;\n                }\n\n                return sum / measurments;\n            }\n            ENDCG\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>MY NON-WORKING CHANGES:</p>\n\n<p>Shader \"Custom/BLUR\" {\n    Properties\n    {\n        _Radius(\"Radius\", Range(1, 255)) = 1\n    }</p>\n\n<pre><code>Category\n{\n    Tags{ \"Queue\" = \"Transparent\" \"IgnoreProjector\" = \"True\" \"RenderType\" = \"Opaque\" }\n\n    SubShader\n    {\n        GrabPass\n        {\n            Tags{ \"LightMode\" = \"Always\" }\n        }\n\n        Pass\n        {\n            Tags{ \"LightMode\" = \"Always\" }\n\n            CGPROGRAM\n            #pragma vertex vert\n            #pragma fragment frag\n            #pragma fragmentoption ARB_precision_hint_fastest\n            #include \"UnityCG.cginc\"\n\n            struct appdata_t\n            {\n                float4 vertex : POSITION;\n                float2 texcoord: TEXCOORD0;\n            };\n\n            struct v2f\n            {\n                float4 vertex : POSITION;\n                float4 uvgrab : TEXCOORD0;\n            };\n\n            v2f vert(appdata_t v)\n            {\n                v2f o;\n                o.vertex = UnityObjectToClipPos(v.vertex);\n                #if UNITY_UV_STARTS_AT_TOP\n                float scale = -1.0;\n                #else\n                float scale = 1.0;\n                #endif\n\n                o.uvgrab.xy = (float2(o.vertex.x, o.vertex.y*scale) + o.vertex.w) * 0.5;\n                o.uvgrab.zw = o.vertex.zw;\n                return o;\n            }\n\n            sampler2D _GrabTexture;\n            float4 _GrabTexture_TexelSize;\n            float _Radius;\n            half4 _MainTex_ST;\n\n            half4 frag(v2f i) : SV_Target\n            {\n                half4 sum = half4(0,0,0,0);\n\n                #if UNITY_SINGLE_PASS\n                    #define GRABXYPIXEL(kernelx, kernely) tex2Dproj( _GrabTexture, UNITY_PROJ_COORD(UnityStereoScreenSpaceUVAdjust(float4(i.uvgrab.x + _GrabTexture_TexelSize.x * kernelx, i.uvgrab.y + _GrabTexture_TexelSize.y * kernely, i.uvgrab.z, i.uvgrab.w),_MainTex_ST)))\n                #else\n                    #define GRABXYPIXEL(kernelx, kernely) tex2Dproj( _GrabTexture, UNITY_PROJ_COORD(float4(i.uvgrab.x + _GrabTexture_TexelSize.x * kernelx, i.uvgrab.y + _GrabTexture_TexelSize.y * kernely, i.uvgrab.z, i.uvgrab.w)))\n                #endif\n                sum += GRABXYPIXEL(0.0, 0.0);\n                int measurments = 1;\n\n                for (float range = 0.1f; range &lt;= _Radius; range += 0.1f)\n                {\n                    sum += GRABXYPIXEL(range, range);\n                    sum += GRABXYPIXEL(range, -range);\n                    sum += GRABXYPIXEL(-range, range);\n                    sum += GRABXYPIXEL(-range, -range);\n                    measurments += 4;\n                }\n\n                return sum / measurments;\n            }\n            ENDCG\n        }\n        GrabPass\n        {\n            Tags{ \"LightMode\" = \"Always\" }\n        }\n\n        Pass\n        {\n            Tags{ \"LightMode\" = \"Always\" }\n\n            CGPROGRAM\n            #pragma vertex vert\n            #pragma fragment frag\n            #pragma fragmentoption ARB_precision_hint_fastest\n            #include \"UnityCG.cginc\"\n\n            struct appdata_t\n            {\n                float4 vertex : POSITION;\n                float2 texcoord: TEXCOORD0;\n            };\n\n            struct v2f\n            {\n                float4 vertex : POSITION;\n                float4 uvgrab : TEXCOORD0;\n            };\n\n            v2f vert(appdata_t v)\n            {\n                v2f o;\n                 o.vertex = UnityObjectToClipPos(v.vertex);\n                #if UNITY_UV_STARTS_AT_TOP\n                float scale = -1.0;\n                #else\n                float scale = 1.0;\n                #endif\n\n                o.uvgrab.xy = (float2(o.vertex.x, o.vertex.y*scale) + o.vertex.w) * 0.5;\n                o.uvgrab.zw = o.vertex.zw;\n                return o;\n            }\n\n            sampler2D _GrabTexture;\n            float4 _GrabTexture_TexelSize;\n            float _Radius;\n            half4 _MainTex_ST;\n\n            half4 frag(v2f i) : SV_Target\n            {\n\n                half4 sum = half4(0,0,0,0);\n                float radius = 1.41421356237 * _Radius;\n\n                #if UNITY_SINGLE_PASS\n                #define GRABXYPIXEL(kernelx, kernely) tex2Dproj( _GrabTexture, UNITY_PROJ_COORD(UnityStereoScreenSpaceUVAdjust(float4(i.uvgrab.x + _GrabTexture_TexelSize.x * kernelx, i.uvgrab.y + _GrabTexture_TexelSize.y * kernely, i.uvgrab.z, i.uvgrab.w),_MainTex_ST)))\n                #else\n                #define GRABXYPIXEL(kernelx, kernely) tex2Dproj( _GrabTexture, UNITY_PROJ_COORD(float4(i.uvgrab.x + _GrabTexture_TexelSize.x * kernelx, i.uvgrab.y + _GrabTexture_TexelSize.y * kernely, i.uvgrab.z, i.uvgrab.w)))\n                #endif\n                sum += GRABXYPIXEL(0.0, 0.0);\n                int measurments = 1;\n\n                for (float range = 1.41421356237f; range &lt;= radius * 1.41; range += 1.41421356237f)\n                {\n                    sum += GRABXYPIXEL(range, 0);\n                    sum += GRABXYPIXEL(-range, 0);\n                    sum += GRABXYPIXEL(0, range);\n                    sum += GRABXYPIXEL(0, -range);\n                    measurments += 4;\n                }\n\n                return sum / measurments;\n            }\n            ENDCG\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I expect this shader will support SinglePass VR rendering mode.</p>\n"}, {"tags": ["c#", "azure", "azure-eventgrid"], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 8084828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad0Yr.jpg?s=128&g=1", "display_name": "Roman Kiss", "link": "https://stackoverflow.com/users/8084828/roman-kiss"}, "is_accepted": false, "score": 0, "last_activity_date": 1555118142, "last_edit_date": 1555118142, "creation_date": 1554934371, "answer_id": 55622022, "question_id": 55619479, "link": "https://stackoverflow.com/questions/55619479/can-azure-storage-events-be-used-for-web-farm/55622022#55622022", "title": "can azure storage events be used for web farm", "body": "<p>The Azure Event Grid is a Pub/Sub model for pushing (distributing) the events to the subscribers based on their subscription such as a logical connectivity metadata. In other words, there is no listener on this Pub/Sub model.</p>\n\n<p>In your scenario, the event from the event driven blob storage is pushed to the Azure Relay service with a Hybrid Connections. Note, that the Hybrid Connections uses Websockets on port 443 with SSL (https). More details about the Azure Relay Hybrid Connections protocol can be found <a href=\"https://docs.microsoft.com/en-us/azure/service-bus-relay/relay-hybrid-connections-protocol\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Based on this protocol, your receivers on the same Azure Relay Hybrid Connections will <strong>balanced</strong>, in other words, the Azure Relay Hybrid Connections didn't support the UDP port.</p>\n\n<p>The solution for your scenario (the event message broadcasting) is using an <em>EventGridTrigger</em> function with a <a href=\"https://azure.microsoft.com/en-us/blog/real-time-serverless-applications-with-the-signalr-service-bindings-in-azure-functions/\" rel=\"nofollow noreferrer\">SignalR Service</a> output binding as a subscriber for your event driven blob storage.  </p>\n\n<p><strong>Update:</strong></p>\n\n<p>The following screen snippet shows broadcasting an event from the blob storage to the web farm servers based on the AEG and SignalR Service integrated with an EventGridTrigger function:</p>\n\n<p><a href=\"https://i.stack.imgur.com/U7iEd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U7iEd.png\" alt=\"enter image description here\"></a></p>\n\n<p>Using a <em>SignalRService</em> extension for function is very straightforward, see the following example:</p>\n\n<pre><code>    #r \"Microsoft.Azure.WebJobs.Extensions.SignalRService\"\n\n    using Microsoft.Azure.WebJobs.Extensions.SignalRService;\n\n    public static async Task Run(string eventGridEvent, IAsyncCollector&lt;SignalRMessage&gt; signalRMessages, ILogger log)\n    {\n        log.LogInformation(eventGridEvent);\n\n        await signalRMessages.AddAsync(\n            new SignalRMessage\n            {\n                Target = \"Broadcasting\",\n                Arguments = new[] {eventGridEvent }\n            });  \n    }\n</code></pre>\n\n<p>and the function.json:</p>\n\n<pre><code>    {\n        \"bindings\": [\n         {\n          \"type\": \"eventGridTrigger\",\n          \"name\": \"eventGridEvent\",\n          \"direction\": \"in\"\n         },\n         {\n            \"type\": \"signalR\",\n            \"name\": \"signalRMessages\",\n            \"hubName\": \"mySignalRHubName\",\n            \"connectionStringSetting\": \"AzureSignalRConnectionString\",\n            \"direction\": \"out\"\n         }\n         ],\n        \"disabled\": false\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "is_accepted": false, "score": 0, "last_activity_date": 1554935879, "creation_date": 1554935879, "answer_id": 55622231, "question_id": 55619479, "link": "https://stackoverflow.com/questions/55619479/can-azure-storage-events-be-used-for-web-farm/55622231#55622231", "title": "can azure storage events be used for web farm", "body": "<p>Another option if you aren't married to using Azure Tables, is using Cosmos DB with Azure Functions and SignalR.  I've done something like this for another project, very scalable and near real time.</p>\n\n<p><a href=\"https://anthonychu.ca/post/cosmosdb-real-time-azure-functions-signalr-service/\" rel=\"nofollow noreferrer\">Broadcast Real-time Updates from Cosmos DB with SignalR Service and Azure Functions</a></p>\n"}], "owner": {"reputation": 61, "user_id": 1558782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/962054b6ececac5acad1bc3baa0778eb?s=128&d=identicon&r=PG", "display_name": "user1558782", "link": "https://stackoverflow.com/users/1558782/user1558782"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1555118142, "creation_date": 1554922250, "question_id": 55619479, "link": "https://stackoverflow.com/questions/55619479/can-azure-storage-events-be-used-for-web-farm", "title": "can azure storage events be used for web farm", "body": "<p>I want to know if anyone has used event grid subscription (on blob storage) in a web farm setting.</p>\n\n<p>I have created an event grid subscription on blob storage with a hybrid connection.</p>\n\n<p>If you have several (listener) applications, can you configure an event grid subscription that can \"hit\" each application?</p>\n"}, {"tags": ["c#", "mstest", "ants"], "comments": [{"owner": {"reputation": 365, "user_id": 3211332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b5a89ad95770357a4c386ba97c94cc9?s=128&d=identicon&r=PG&f=1", "display_name": "Renato Chencinski", "link": "https://stackoverflow.com/users/3211332/renato-chencinski"}, "edited": false, "score": 1, "creation_date": 1554924096, "post_id": 55619412, "comment_id": 97932875, "body": "You should also include ANTS Performance Profiler version for future reference."}, {"owner": {"reputation": 71, "user_id": 11342147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d25b0ae32df0b3769a0a3f1de5b0fdd?s=128&d=identicon&r=PG&f=1", "display_name": "Giuliana", "link": "https://stackoverflow.com/users/11342147/giuliana"}, "reply_to_user": {"reputation": 365, "user_id": 3211332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b5a89ad95770357a4c386ba97c94cc9?s=128&d=identicon&r=PG&f=1", "display_name": "Renato Chencinski", "link": "https://stackoverflow.com/users/3211332/renato-chencinski"}, "edited": false, "score": 0, "creation_date": 1554925696, "post_id": 55619412, "comment_id": 97933578, "body": "Edited @RenatoChencinski, thank you :)"}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 11342147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d25b0ae32df0b3769a0a3f1de5b0fdd?s=128&d=identicon&r=PG&f=1", "display_name": "Giuliana", "link": "https://stackoverflow.com/users/11342147/giuliana"}, "is_accepted": true, "score": 1, "last_activity_date": 1554925872, "last_edit_date": 1554925872, "creation_date": 1554922258, "answer_id": 55619483, "question_id": 55619412, "link": "https://stackoverflow.com/questions/55619412/missing-source-code-using-mstest-with-ants-performance-profiler/55619483#55619483", "title": "Missing source code using MSTest with ANTS Performance Profiler", "body": "<p>We got in touch with RedGate Support and they solved our problem.</p>\n\n<p>Running the profiler with the <code>/testcontainer</code>\u200b command line argument by itself worked! Turns out the /testsettings parameter was the one causing the malfunction and then, once I removed it, the profiler was able to see the source code.</p>\n\n<p>Obs: The <code>/testsettings</code> argument was required after we changed our testing tool to MSTest. It was responsible for referencing some of our dependencies. After removing the parameter, the solution was to hardcode the path of our dependencies, just for the sake of the test.</p>\n"}], "owner": {"reputation": 71, "user_id": 11342147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d25b0ae32df0b3769a0a3f1de5b0fdd?s=128&d=identicon&r=PG&f=1", "display_name": "Giuliana", "link": "https://stackoverflow.com/users/11342147/giuliana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 55619483, "answer_count": 1, "score": 1, "last_activity_date": 1554925872, "creation_date": 1554921979, "last_edit_date": 1554925686, "question_id": 55619412, "link": "https://stackoverflow.com/questions/55619412/missing-source-code-using-mstest-with-ants-performance-profiler", "title": "Missing source code using MSTest with ANTS Performance Profiler", "body": "<p>We're working on a project for a customer that uses ASP.NET C# with EF 6 and .Net Framework 4.6.1. We have some Integration Tests and Unit Tests which are running a bit slow, so we decided to run a profiler. In our searches, we came across ANTS Performance Profiler and decided to give it a go.</p>\n\n<p>We created a profiling session with a .NET executable and configured the profiling mode as <code>line-level &amp; method-level timings - All methods inc. framework</code>. However, when running the profiler we don't see any of our methods and are faced with the error message </p>\n\n<blockquote>\n  <p>The profiler did not find any methods with the source code. To see all profiled methods, in Display Options below select 'All methods.</p>\n</blockquote>\n\n<p>How can I solve this?</p>\n\n<hr>\n\n<p>We initially experienced this problem using VSTest and then decided to change to MSTest, since it seems to have a better documentation (<a href=\"https://documentation.red-gate.com/app10/setting-up-and-running-a-profiling-session/choosing-application-types-and-settings/profiling-tests-in-mstest\" rel=\"nofollow noreferrer\">1</a>). It also didn't work.</p>\n\n<p>We did some investigation and tried a few links (<a href=\"https://documentation.red-gate.com/app10/troubleshooting/common-issues/troubleshooting-missing-results?_ga=2.228334804.851125267.1554820875-5103429.1550498932\" rel=\"nofollow noreferrer\">2</a>) (<a href=\"https://documentation.red-gate.com/app10/troubleshooting/common-issues/troubleshooting-pdb-problems?_ga=2.228334804.851125267.1554820875-5103429.1550498932\" rel=\"nofollow noreferrer\">3</a>), but none of them helped.\nWe found out that a possible problem was ANTS Profiler not locating the <code>.pdb</code> file. However, we verified that the <code>.pdb</code> file exists in the same folder and has the same name as the assembly's DLL. We also ran Process Monitor and confirmed the process <code>MSTest.exe</code> is reading the correct <code>.pdb</code> file</p>\n\n<p>Here are the startup options: </p>\n\n<ul>\n<li>Path to .NET executable: <code>C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\TestAgent\\Common7\\IDE\\MSTest.exe</code> </li>\n<li>Command line arguments: <code>/testcontainer:Projeto.dll /test:Projeto.Features._001_UsuarioFeature._001_A_1_1* /testsettings:\"C:\\Users\\Documents\\projeto\\TestSettings1.testsettings\"</code></li>\n<li>Working directory: <code>C:\\Users\\Documents\\projeto\\bin\\Debug</code></li>\n</ul>\n\n<p>Additional info:</p>\n\n<ul>\n<li><p>We are running ANTS Performance Profiler version 10.1.5.1275 </p></li>\n<li><p>Operating System: Windows 10 Enterprise</p></li>\n</ul>\n"}, {"tags": ["c#", "winforms", "double-click", "borderless"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 1698781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb99cde625fc23a162282dd13e7507ae?s=128&d=identicon&r=PG", "display_name": "rcolombari", "link": "https://stackoverflow.com/users/1698781/rcolombari"}, "edited": false, "score": 0, "creation_date": 1554923350, "post_id": 55619522, "comment_id": 97932566, "body": "Worked. Thanks a lot"}], "tags": [], "owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "is_accepted": true, "score": 1, "last_activity_date": 1554922443, "creation_date": 1554922443, "answer_id": 55619522, "question_id": 55619367, "link": "https://stackoverflow.com/questions/55619367/double-click-event-on-borderless-forms/55619522#55619522", "title": "Double-click event on borderless forms", "body": "<p>Try checking for the e.Clicks value:</p>\n\n<pre><code>protected override void OnMouseDown(MouseEventArgs e) {\n  base.OnMouseDown(e);\n\n  if (e.Button == MouseButtons.Left) {\n    if (e.Clicks &gt; 1) {\n      // do something with double-click\n    } else {\n      ReleaseCapture();\n      SendMessage(Handle, WM_NCLBUTTONDOWN, HT_CAPTION, 0);\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 1698781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb99cde625fc23a162282dd13e7507ae?s=128&d=identicon&r=PG", "display_name": "rcolombari", "link": "https://stackoverflow.com/users/1698781/rcolombari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 55619522, "answer_count": 1, "score": 1, "last_activity_date": 1554922443, "creation_date": 1554921847, "last_edit_date": 1554921976, "question_id": 55619367, "link": "https://stackoverflow.com/questions/55619367/double-click-event-on-borderless-forms", "title": "Double-click event on borderless forms", "body": "<p>I created a borderless form and I've been able to activate the form move event through this code:</p>\n\n<pre><code>[System.Runtime.InteropServices.DllImportAttribute(\"user32.dll\")]\npublic static extern int SendMessage(IntPtr hWnd, int Msg, int wParam, int lParam);\n[System.Runtime.InteropServices.DllImportAttribute(\"user32.dll\")]\npublic static extern bool ReleaseCapture();\n\nprivate void FASTMain_MouseDown(object sender, MouseEventArgs e)\n{\n    if (e.Button == MouseButtons.Left)\n    {\n        ReleaseCapture();\n        SendMessage(Handle, WM_NCLBUTTONDOWN, HT_CAPTION, 0);\n    }\n}\n\nprivate void FASTMain_Move(object sender, EventArgs e)\n{\n    WindowState = FormWindowState.Normal;\n}\n</code></pre>\n\n<p>I would like to know if it is possible to intercept the mouse double-click event on the form as well.</p>\n"}, {"tags": ["c#", "entity-framework", "asp.net-core"], "comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1554921999, "post_id": 55619364, "comment_id": 97931954, "body": "Don&#39;t pass the identity column property to the Insert, it&#39;s telling you why it&#39;s a problem in your first error message. The database is setup to not allow custom values in your Identity column, as it appears it auto-increments."}, {"owner": {"reputation": 51, "user_id": 11301535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c993b703d9117602376a9b1005b5207?s=128&d=identicon&r=PG&f=1", "display_name": "kamilm758", "link": "https://stackoverflow.com/users/11301535/kamilm758"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1554922168, "post_id": 55619364, "comment_id": 97932021, "body": "Thanks, Without identity Id_mema will AutoNumber?"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1554922274, "post_id": 55619364, "comment_id": 97932086, "body": "When you place this line <code>IDENTITY(1, 1)</code> it&#39;s telling the database to add 1 to the next insert as the <code>id_mema</code> value, you can exclude properties from insertion in entity framework in different ways, please see this article (<a href=\"https://stackoverflow.com/questions/16340142/how-to-ignore-a-particular-field-from-an-entity-model-upon-insert\" title=\"how to ignore a particular field from an entity model upon insert\">stackoverflow.com/questions/16340142/&hellip;</a>)"}, {"owner": {"reputation": 51, "user_id": 11301535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c993b703d9117602376a9b1005b5207?s=128&d=identicon&r=PG&f=1", "display_name": "kamilm758", "link": "https://stackoverflow.com/users/11301535/kamilm758"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1554923572, "post_id": 55619364, "comment_id": 97932655, "body": "Why my way is wrong? I read on other forums and it should work"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1554923656, "post_id": 55619364, "comment_id": 97932690, "body": "Did you read the article I posted in my previous comment? Your model I&#39;m assuming has a property which relates to the identity column in your database table, you need to tell Entity Framework not to use that property when inserting. The article I linked you to has different approaches for excluding a model property from insert."}], "answers": [{"tags": [], "owner": {"reputation": 1278, "user_id": 2145293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e28ca7f819a4bf6074ca3fe244a51b52?s=128&d=identicon&r=PG", "display_name": "Ed Mendez", "link": "https://stackoverflow.com/users/2145293/ed-mendez"}, "is_accepted": false, "score": 1, "last_activity_date": 1554933946, "creation_date": 1554933946, "answer_id": 55621954, "question_id": 55619364, "link": "https://stackoverflow.com/questions/55619364/insert-values-into-database-entity-framework/55621954#55621954", "title": "Insert values into database- Entity Framework", "body": "<p>If you are c# class to define your entities you might need to do something like this...</p>\n\n<pre><code>   public class Memy\n    {\n        [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n        public int Id_Mema { get; set; }\n        public string Autor { get; set; }\n</code></pre>\n\n<p>Or if you are defining your entity attributes using fluent API you might need to do something like this;</p>\n\n<pre><code> protected override void OnModelCreating(ModelBuilder modelBuilder)\n    {\n        modelBuilder.Entity&lt;Memy&gt;()\n            .Property(p =&gt; p.Id_mema)\n            .ValueGeneratedOnAdd();\n    }\n</code></pre>\n\n<p>This <a href=\"https://www.learnentityframeworkcore.com/configuration/fluent-api/valuegeneratedonadd-method\" rel=\"nofollow noreferrer\">here</a> should have more information on using the Fluent API and <a href=\"https://www.learnentityframeworkcore.com/configuration/data-annotation-attributes/databasegenerated-attribute\" rel=\"nofollow noreferrer\">here</a> for more information on decorating your POCOs with attributes to handle the auto-increment. </p>\n\n<p>-HTH</p>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 3832071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6a76677b1afaef65951af522c35641e?s=128&d=identicon&r=PG&f=1", "display_name": "Kamal Singh", "link": "https://stackoverflow.com/users/3832071/kamal-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1554970846, "creation_date": 1554970846, "answer_id": 55627842, "question_id": 55619364, "link": "https://stackoverflow.com/questions/55619364/insert-values-into-database-entity-framework/55627842#55627842", "title": "Insert values into database- Entity Framework", "body": "<p>This error suggests the following:\nYour Memy table is set to 'Is Identity' = 'True' with auto increment.\nSo you can't insert explict key values, which is logical.\nPlease check in your function, perhaps your method parameter object in <code>CreateMeme</code> has a value for <code>memy.Id_Mema</code>. </p>\n\n<pre><code>[HttpPost]\n[ValidateAntiForgeryToken]\npublic async Task&lt;IActionResult&gt; CreateMeme(Memy memy)\n</code></pre>\n\n<p>Make sure <code>memy.Id_Mema</code> is not assigned by your code explicitly.\nHope this helps.</p>\n"}], "owner": {"reputation": 51, "user_id": 11301535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c993b703d9117602376a9b1005b5207?s=128&d=identicon&r=PG&f=1", "display_name": "kamilm758", "link": "https://stackoverflow.com/users/11301535/kamilm758"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1554975294, "creation_date": 1554921841, "last_edit_date": 1554975294, "question_id": 55619364, "link": "https://stackoverflow.com/questions/55619364/insert-values-into-database-entity-framework", "title": "Insert values into database- Entity Framework", "body": "<p>Why this code doesn't work?\nI want insert into database record with currently logged in user's UserName.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[HttpPost]\n        [ValidateAntiForgeryToken]\n        public async Task&lt;IActionResult&gt; CreateMeme(Memy memy)\n        {\n            var user=await GetCurrentUser();\n            memy.Autor = user.UserName;\n            memy.Like = 0;\n            memy.Dislike = 0;\n            if (ModelState.IsValid)\n            {\n                _context.Memy.Add(memy);\n                _context.SaveChanges();\n                return RedirectToAction(\"Index\");\n            }\n\n            return View(memy);\n        }\n</code></pre>\n\n<p>This is table:</p>\n\n<pre><code>CREATE TABLE [dbo].[Memy] (\n    [Id_mema] INT  IDENTITY (1, 1) NOT NULL,\n    [autor]   TEXT NULL,\n    [like]    INT  NULL,\n    [dislike] INT  NULL,\n    PRIMARY KEY CLUSTERED ([Id_mema] ASC)\n);\n</code></pre>\n\n<p>I have 2 errors:\n\" Cannot insert explicit value for identity column in table 'Memy' when IDENTITY_INSERT is set to OFF\"</p>\n\n<p>And</p>\n\n<p>\"An error occurred while updating the entries. See the inner exception for details\"</p>\n\n<p>How to resolve this?</p>\n\n<p>EDIT\nMethod <code>CreateMeme</code></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[HttpPost]\n        [ValidateAntiForgeryToken]\n        public async Task&lt;IActionResult&gt; CreateMeme(Memy memy)\n        {\n            var user=await GetCurrentUser();\n            memy.Autor = user.UserName;\n            memy.Like = 0;\n            memy.Dislike = 0;\n            if (ModelState.IsValid)\n            {\n                _context.Memy.Add(memy);\n                _context.SaveChanges();\n                return RedirectToAction(\"Index\", \"Home\", new { area = \"\" });\n            }\n\n            return View(memy);\n        }\n</code></pre>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 1, "creation_date": 1554921765, "post_id": 55619275, "comment_id": 97931841, "body": "Is it necessary to save it in a file? What about creating a database and storing employee info there? If it has to be a file, are you wanting to create a csv or plain text, etc.?"}, {"owner": {"reputation": 195, "user_id": 11472946, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e8vpCEL5a-4/AAAAAAAAAAI/AAAAAAAAAAs/xxodI-34Dzo/photo.jpg?sz=128", "display_name": "Alex Laquerre", "link": "https://stackoverflow.com/users/11472946/alex-laquerre"}, "edited": false, "score": 1, "creation_date": 1554922179, "post_id": 55619275, "comment_id": 97932025, "body": "Overload the <code>ToString</code> funciton in your <code>Employee</code> class and use that."}, {"owner": {"reputation": 3, "user_id": 11342144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c36e5e0533320c7bb94da5ead91045?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/11342144/ethan"}, "edited": false, "score": 0, "creation_date": 1554923124, "post_id": 55619275, "comment_id": 97932464, "body": "Ryan Wilson, that&#39;s an option as well, though I&#39;m afraid it requires pre-installed programs to run it on a PC? I&#39;m looking forward to creating a program that can be installed on any other PC"}, {"owner": {"reputation": 3, "user_id": 11342144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c36e5e0533320c7bb94da5ead91045?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/11342144/ethan"}, "edited": false, "score": 0, "creation_date": 1554927974, "post_id": 55619275, "comment_id": 97934568, "body": "Maybe this will help someone. <code>Console.WriteLine(&quot;{0}&quot;, employees.Select(e =&gt; e.ToString()).ToArray());</code> displays first element (class) of the list: &quot;1, James, Funny&quot; <code>Console.WriteLine(&quot;{1}&quot;, employees.Select(e =&gt; e.ToString()).ToArray());</code> displays second one: &quot;2, John, Just John&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11342144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c36e5e0533320c7bb94da5ead91045?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/11342144/ethan"}, "edited": false, "score": 0, "creation_date": 1554922883, "post_id": 55619438, "comment_id": 97932356, "body": "Thank you very much, that really helped me. I was looking exactly for THIS solution, that&#39;s awesome. You&#39;re missing one round bracket in the last line and also I think we should mention that this requires <code>using System.Linq;</code> Though it works, I&#39;m going to check the documentation because of some aspects of the code a little bit confusing, but I hope I&#39;ll understand after some research. Thanks, you helped me make a little breakthrough"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 3, "user_id": 11342144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c36e5e0533320c7bb94da5ead91045?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/11342144/ethan"}, "edited": false, "score": 0, "creation_date": 1554923314, "post_id": 55619438, "comment_id": 97932553, "body": "@Ethan It&#39;s normal for <code>using</code> statements to be omitted, particularly when framework namespaces are involved."}, {"owner": {"reputation": 3, "user_id": 11342144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c36e5e0533320c7bb94da5ead91045?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/11342144/ethan"}, "edited": false, "score": 0, "creation_date": 1554923978, "post_id": 55619438, "comment_id": 97932812, "body": "Could you please tell how to load data from a file to the list?"}, {"owner": {"reputation": 28228, "user_id": 7132550, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1063981417044495/picture?type=large", "display_name": "Micha\u0142 Turczyn", "link": "https://stackoverflow.com/users/7132550/micha%c5%82-turczyn"}, "reply_to_user": {"reputation": 3, "user_id": 11342144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c36e5e0533320c7bb94da5ead91045?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/11342144/ethan"}, "edited": false, "score": 0, "creation_date": 1554924845, "post_id": 55619438, "comment_id": 97933170, "body": "@Ethan <code>File.ReadAllLines</code> is what you need. I also recommend reading about <code>File</code> class and exploring it&#39;s static methods for reading and writeing to file."}, {"owner": {"reputation": 3, "user_id": 11342144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c36e5e0533320c7bb94da5ead91045?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/11342144/ethan"}, "edited": false, "score": 0, "creation_date": 1554925236, "post_id": 55619438, "comment_id": 97933352, "body": "So, how do I convert a line from a file to Employee type? I tried <code>List&lt;Employee&gt; employees = File.ReadAllLines(&quot;d:\\\\employees.txt&quot;).ToList();</code> and it says it cannot implicitly convert type ...&lt;string&gt;... to ...&lt;Work.Employee&gt;"}, {"owner": {"reputation": 28228, "user_id": 7132550, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1063981417044495/picture?type=large", "display_name": "Micha\u0142 Turczyn", "link": "https://stackoverflow.com/users/7132550/micha%c5%82-turczyn"}, "reply_to_user": {"reputation": 3, "user_id": 11342144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c36e5e0533320c7bb94da5ead91045?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/11342144/ethan"}, "edited": false, "score": 0, "creation_date": 1554925768, "post_id": 55619438, "comment_id": 97933614, "body": "@Ethan <code>File.ReadAllLines(&quot;d:\\\\employees.txt&quot;).Select(l =&gt; l.Split(&quot;,&quot;).Select(i =&gt; i.Trim())).Select( l =&gt; new Employee(int.Parse(l[0]), l[1], l[2])).ToList();</code>"}, {"owner": {"reputation": 3, "user_id": 11342144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c36e5e0533320c7bb94da5ead91045?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/11342144/ethan"}, "edited": false, "score": 0, "creation_date": 1554926495, "post_id": 55619438, "comment_id": 97933923, "body": "For some reason, I can&#39;t get it working. It keeps saying that &quot;Employee does not contain a constructor that takes that many arguments&quot;, &quot;Argument 2: cannot convert from &#39;char&#39; to &#39;string&#39;&quot;, &quot;ToList does not exist in the current context&quot;... Why is it? Though I start to understand how it works"}, {"owner": {"reputation": 3, "user_id": 11342144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c36e5e0533320c7bb94da5ead91045?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/11342144/ethan"}, "edited": false, "score": 0, "creation_date": 1554926671, "post_id": 55619438, "comment_id": 97933986, "body": "Now it says only &quot;Cannot apply indexing with [] to an expression of type &#39;IEnumerable&lt;string&gt;&quot; three times"}, {"owner": {"reputation": 28228, "user_id": 7132550, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1063981417044495/picture?type=large", "display_name": "Micha\u0142 Turczyn", "link": "https://stackoverflow.com/users/7132550/micha%c5%82-turczyn"}, "reply_to_user": {"reputation": 3, "user_id": 11342144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c36e5e0533320c7bb94da5ead91045?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/11342144/ethan"}, "edited": false, "score": 0, "creation_date": 1554926789, "post_id": 55619438, "comment_id": 97934037, "body": "@Ethan Try <code>File.ReadAllLines(&quot;d:\\\\employees.txt&quot;).Select(l =&gt; l.Split(&quot;,&quot;).Select(i =&gt; i.Trim()).ToArray()).Select( l =&gt; new Employee(int.Parse(l[0]), l[1], l[2])).ToList();</code>"}, {"owner": {"reputation": 3, "user_id": 11342144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c36e5e0533320c7bb94da5ead91045?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/11342144/ethan"}, "edited": false, "score": 0, "creation_date": 1554927123, "post_id": 55619438, "comment_id": 97934205, "body": "This one is working. So it was because we needed to make an array out of the data before loading it, I suppose"}], "tags": [], "owner": {"reputation": 28228, "user_id": 7132550, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1063981417044495/picture?type=large", "display_name": "Micha\u0142 Turczyn", "link": "https://stackoverflow.com/users/7132550/micha%c5%82-turczyn"}, "is_accepted": true, "score": 1, "last_activity_date": 1554922072, "creation_date": 1554922072, "answer_id": 55619438, "question_id": 55619275, "link": "https://stackoverflow.com/questions/55619275/how-can-i-save-a-list-of-classes-in-a-file-can-i-display-certain-classes-of-a-l/55619438#55619438", "title": "How can I save a list of classes in a file? Can I display certain classes of a list through console?", "body": "<p>Firsly, why you are creating instance of <code>Program</code> class, just make method as well as the list <code>static</code> and use them directly in <code>Main</code> method.</p>\n\n<p>Secondly, why you created method <code>CreateEmployee</code>? Just define constructor for your <code>Employee</code> class, which will do the work of assigning values to fields.</p>\n\n<p>Finally, what you looking for is string representation of your object of type <code>Employee</code>. Overriding <code>ToString</code> method is the key here.</p>\n\n<p>So your class should look like:</p>\n\n<pre><code>public class Employee\n{\n    public int ID;\n    public string Name;\n    public string Description;\n\n    public Employee(int ID, string Name, string Description)\n    {\n        this.ID = ID;\n        this.Name = Name;\n        this.Description = Description;\n    }\n\n    public override string ToString()\n    {\n        return $\"{ID}, {Name}, {Description}\";\n    }\n}\n</code></pre>\n\n<p>Having this, you could write your <code>Main</code> method like this:</p>\n\n<pre><code>List&lt;Employee&gt; employees = new List&lt;Employee&gt;();\nemployees.Add(new Employee(1, \"James\", \"Funny\"));\nFile.WriteAllLines(\"file path\", employees.Select(e =&gt; e.ToString()).ToArray();\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11342144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c36e5e0533320c7bb94da5ead91045?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/11342144/ethan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 55619438, "answer_count": 1, "score": 0, "last_activity_date": 1554922329, "creation_date": 1554921469, "last_edit_date": 1554922329, "question_id": 55619275, "link": "https://stackoverflow.com/questions/55619275/how-can-i-save-a-list-of-classes-in-a-file-can-i-display-certain-classes-of-a-l", "title": "How can I save a list of classes in a file? Can I display certain classes of a list through console?", "body": "<p>Let's say there's a class \"Employee\". It has Name (string) and Description (string).</p>\n\n<p>I made a list called \"Employees\" which supposed to contain different \"Employee\" classes with different parameters.</p>\n\n<p>I've tried displaying it with foreach operator, however, it returns only \".Employee\" string.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\n\nnamespace Work\n{\n    // Employee class\n    public class Employee\n    {\n        public int ID;\n        public string Name;\n        public string Description;\n    }\n\n    class Program\n    {\n\n        // Create a list\n        List&lt;Employee&gt; employees = new List&lt;Employee&gt;();\n\n        // Add new employye method\n        private void CreateEmployee(int id, string name, string description)\n        {\n            Employee employee = new Employee();\n            employee.ID = id;\n            employee.Name = name;\n            employee.Description = description;\n\n            employees.Add(employee);\n        }\n\n        static void Main(string[] args)\n        {\n            // Neccessary because void Main() is static field\n            Program P = new Program();\n            // Calling method and adding new employee with new parameters to the list\n            P.CreateEmployee(1, \"James\", \"Funny\");\n\n            // Now's the question:\n            // How to access this data?\n            // I would like to make a file which would contain all information in the list, which I can read and load in a list again\n            // Or just at least display it to the console\n        }\n    }\n}\n</code></pre>\n\n<p>Basically, I want a file that would be like:</p>\n\n<pre><code>1,\"James\",\"Funny\";\n2,\"John\",\"Just John\";\n</code></pre>\n\n<p>Though, I'm not sure that <b>\"\"</b> are necessary for saving strings.</p>\n"}, {"tags": ["c#", "arrays"], "comments": [{"owner": {"reputation": 1765, "user_id": 11143190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jgNjw.jpg?s=128&g=1", "display_name": "Zain Arshad", "link": "https://stackoverflow.com/users/11143190/zain-arshad"}, "edited": false, "score": 1, "creation_date": 1554921750, "post_id": 55619268, "comment_id": 97931833, "body": "These are actually strings and not numbers ?? ://///"}, {"owner": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "edited": false, "score": 0, "creation_date": 1554921785, "post_id": 55619268, "comment_id": 97931851, "body": "What is item type of <code>low256</code>? Is it string? And does all items in <code>low256</code> are actualy float/double in string presentation? If all answers is &quot;yes&quot; just use <code>double.Parse</code> and compare items as numbers"}, {"owner": {"reputation": 7, "user_id": 11325910, "user_type": "registered", "profile_image": "https://graph.facebook.com/1177357269102863/picture?type=large", "display_name": "Curtis Wallace", "link": "https://stackoverflow.com/users/11325910/curtis-wallace"}, "edited": false, "score": 0, "creation_date": 1554922000, "post_id": 55619268, "comment_id": 97931955, "body": "Yes low256 is a string array. Where should I put double.Parse in my code sorry?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1554922678, "post_id": 55619268, "comment_id": 97932255, "body": "There is absolutely nothing wrong with the results of the sort - looks perfectly fine for what you&#39;ve coded up - you obviously confirmed that <code>string.Compare(&quot;0.4236&quot;, &quot;-0.4180&quot;) == string.Compare(&quot;0.4236&quot;, &quot;0.4180&quot;)</code> is true (as <code>-</code> is ignored by default string comparisons) as well as are happy with <code>&quot;12&quot; &lt; &quot;2&quot;</code> since you pick string comparison. This is probably duplicate of some <a href=\"https://stackoverflow.com/questions/2244480/string-comparison-in-net-vs\">&quot;C# - why &#39;-&#39; ignored in string comparison&quot;</a> - unless you actually looking to sort numbers..."}, {"owner": {"reputation": 7, "user_id": 11325910, "user_type": "registered", "profile_image": "https://graph.facebook.com/1177357269102863/picture?type=large", "display_name": "Curtis Wallace", "link": "https://stackoverflow.com/users/11325910/curtis-wallace"}, "edited": false, "score": 0, "creation_date": 1554922981, "post_id": 55619268, "comment_id": 97932399, "body": "Yes I was trying to sort numbers, but I couldn&#39;t change the data type to decimal for example, because I get a System.Format exception and I can not use a simple operator such as &lt;, because it can not be used to compare a string data type."}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 11325910, "user_type": "registered", "profile_image": "https://graph.facebook.com/1177357269102863/picture?type=large", "display_name": "Curtis Wallace", "link": "https://stackoverflow.com/users/11325910/curtis-wallace"}, "edited": false, "score": 0, "creation_date": 1554923595, "post_id": 55619637, "comment_id": 97932668, "body": "Thankyou for helping a newbie out Aleks, I will remember this for the future in my coding projects."}], "tags": [], "owner": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "is_accepted": true, "score": 1, "last_activity_date": 1554922973, "creation_date": 1554922973, "answer_id": 55619637, "question_id": 55619268, "link": "https://stackoverflow.com/questions/55619268/why-does-my-sorting-algorithm-not-correctly-sort-all-of-my-values-in-an-array/55619637#55619637", "title": "Why does my sorting algorithm not correctly sort all of my values in an array?", "body": "<p>In your inner loop you can parse items you need to compare:</p>\n\n<pre><code>for (int j = i + 1; j &lt; low256.Length; j++)\n{\n    counter += 1;\n    var a = double.Parse(low256[i]);\n    var b = double.Parse(low256[j]);\n    if (a.CompareTo(b) == 1) // change to -1 to order by descending\n    // rest of code\n</code></pre>\n\n<p>If this is not a homework use linq:</p>\n\n<pre><code>low256 = low256\n  .Select(double.Parse)\n  .OrderBy(x =&gt; x)\n  .Select(x =&gt; x.ToString(\"0.0000\"))\n  .ToArray();\n</code></pre>\n\n<p>Also it is bad idea to do some sort on numerics in string presentation. So it would be better to convert all items in <code>low256</code> to doubles first and then do what you need</p>\n"}], "owner": {"reputation": 7, "user_id": 11325910, "user_type": "registered", "profile_image": "https://graph.facebook.com/1177357269102863/picture?type=large", "display_name": "Curtis Wallace", "link": "https://stackoverflow.com/users/11325910/curtis-wallace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "closed_date": 1554972820, "accepted_answer_id": 55619637, "answer_count": 1, "score": -4, "last_activity_date": 1554927120, "creation_date": 1554921424, "last_edit_date": 1554927120, "question_id": 55619268, "link": "https://stackoverflow.com/questions/55619268/why-does-my-sorting-algorithm-not-correctly-sort-all-of-my-values-in-an-array", "closed_reason": "Not suitable for this site", "title": "Why does my sorting algorithm not correctly sort all of my values in an array?", "body": "<p>I have created a sorting algorithm to sort an array in my program. The algorithm sorts most of the array fine, however a few of the values near the end of the array arent in the correct position at all.</p>\n\n<pre><code>string temp;\nint counter = 0;\ndo\n{\n    for (int i = 0; i &lt; low256.Length - 1; i++)\n    {\n        for (int j = i + 1; j &lt; low256.Length; j++)\n        {\n            counter += 1;\n            if (string.Compare(low256[i], low256[j]) == -1)\n            {\n                temp = low256[i];\n                low256[i] = low256[j];\n                low256[j] = temp;\n                counter = 0;\n            }\n        }\n    }\n} while (counter &lt;= 255);\n\nforeach(string value in low256)\n{\n    Console.Write(value + \" \");\n}\n</code></pre>\n\n<p>This is what is printed to the console after running the program: </p>\n\n<pre><code>-9.7067  -8.6887  -8.0983  -8.0075  -7.9666  -7.9489  -7.6039  -7.5488  \n-7.3513  -6.9742  -6.9052  -6.8570  -6.7794  -6.7452  -6.6020  -6.5882  \n-6.4784  -6.3746  -6.3607  -6.3009  -6.2648  -6.1930  -6.1609  -5.9756  \n-5.9369  -5.9168  -5.8945  -5.8634  -5.7830  -5.7047  -5.6102  -5.5937  \n-5.5481  -5.5326  -5.4321  -5.1973  -5.1795  -5.1056  -5.0968  -5.0614  \n-5.0608  -4.9593  -4.8816  -4.8364  -4.8080  -4.7547  -4.7408  -4.7365  \n-4.7127  -4.7031  -4.5894  -4.5882  -4.5257  -4.4337  -4.4300  -4.4292  \n-4.4101  -4.3792  -4.3786  -4.3208  -4.3167  -4.2972  -4.2907  -4.1644  \n-4.1373  -4.1147  -4.1108  -4.1058  -4.1052  -4.0797  -4.0521  -4.0468  \n-4.0301  -4.0268  -4.0207  -4.0183  -4.0053  -3.9670  -3.9084  -3.8817  \n-3.7977  -3.7881  -3.7660  -3.7522  -3.7302  -3.7159  -3.7108  -3.6910  \n-3.6878  -3.6477  -3.6458  -3.5687  -3.5389  -3.5337  -3.4929  -3.4872  \n-3.4664  -3.4661  -3.4490  -3.4167  -3.4156  -3.4129  -3.4128  -3.4052  \n-3.3939  -3.3758  -3.3587  -3.3560  -3.3456  -3.3152  -3.2829  -3.2744  \n-3.1604  -3.1455  3.1389  -3.0993  -3.0205  -3.0090  -3.0059  -2.9945  \n-2.9888  -2.9774  -2.9658  -2.9553  -2.9482  -2.8881  -2.8579  -2.8461  \n-2.8410  -2.8053  -2.7924  -2.7467  -2.7309  -2.6911  -2.6730  -2.6556  \n 2.6365  -2.6039  -2.5892  -2.5890  -2.5782  -2.5590  -2.5356  -2.4829  \n-2.4732  -2.4509  -2.4489  -2.4485  -2.4439  -2.4173  -2.4172  -2.4146  \n-2.3862  -2.3849  -2.3792  -2.3264  2.3110  -2.3061  -2.3004  -2.2941  \n-2.2638  -2.2634  -2.2483  -2.2432  -2.2276  -2.2249  -2.1916  -2.1864  \n-2.1530  -2.1132  -2.0508  -2.0225  -2.0215  -2.0099  1.9737  -1.9679  \n 1.9267  -1.9198  -1.8669  -1.8634  -1.8601  -1.8265  -1.8077  -1.8073  \n-1.7836  -1.7579  -1.7535  -1.7461  -1.7441  -1.7276  -1.6917  -1.6747  \n 1.6397  -1.6188  -1.6033  -1.5840  -1.5717  -1.5640  -1.5091  -1.5078  \n-1.4936  1.4928  -1.4872  -1.4680  -1.4533  1.4052  -1.3884  -1.3876  \n-1.2864  -1.2753  1.2380  -1.2229  -1.1996  -1.1638  -1.1551  1.1389  \n-1.0769  -1.0610  -0.9981  -0.9516  -0.8525  0.8319  -0.8293  0.7427  0.7006  \n 0.6687  -0.6509  0.6507  -0.6426  -0.5913  0.5592  0.5588  -0.5507  -0.5409  \n-0.5287  -0.5132  -0.4933  -0.4753  -0.4281  0.4236  -0.4180  0.4096  - \n 0.3986  -0.3790  0.3696  -0.3360  -0.2987  0.2985  -0.2915  0.2743  0.2053  \n 0.1976  0.1418  -0.1022  -0.0594  0.0357\n</code></pre>\n\n<p>As you can see it returns the array with some of the values in the wrong position such as 0.4236 being put before -0.4180.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "linq", "entity-framework-core", "iqueryable"], "comments": [{"owner": {"reputation": 31408, "user_id": 243245, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/aed5c13647d581ae231f019a886e05a8?s=128&d=identicon&r=PG", "display_name": "Rup", "link": "https://stackoverflow.com/users/243245/rup"}, "edited": false, "score": 0, "creation_date": 1554921600, "post_id": 55619231, "comment_id": 97931750, "body": "Do all Films definitely have Media, Audio and FilmGenre linked entities? Are you .including them? I&#39;d guess you need to check e.g. <code>f =&gt; (f.Media != null) &amp;&amp; (f.Media.Name == vm.MediaFilter)</code>. But I&#39;d guess the NPE here means this isn&#39;t being translated into SQL to execute on the database, as you probably want it to be."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 2, "creation_date": 1554923148, "post_id": 55619231, "comment_id": 97932468, "body": "Add each <code>WhereIf</code> one at a time. Something you are doing is causing EF Core to split the query and run part of it in LINQ to Objects (it isn&#39;t as capable as EF 6 at translating to SQL) and that is your core (npi) issue."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1554924092, "post_id": 55619231, "comment_id": 97932872, "body": "The way it&#39;s shown, it should work. There must be something causing client evaluation. What happens if you configure [Optional behavior: throw an exception for client evaluation ](<a href=\"https://docs.microsoft.com/en-us/ef/core/querying/client-eval#optional-behavior-throw-an-exception-for-client-evaluation\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/ef/core/querying/&hellip;</a>)?"}, {"owner": {"reputation": 21, "user_id": 7381468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158008096285134/picture?type=large", "display_name": "Kevin Childs", "link": "https://stackoverflow.com/users/7381468/kevin-childs"}, "reply_to_user": {"reputation": 31408, "user_id": 243245, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/aed5c13647d581ae231f019a886e05a8?s=128&d=identicon&r=PG", "display_name": "Rup", "link": "https://stackoverflow.com/users/243245/rup"}, "edited": false, "score": 0, "creation_date": 1554927624, "post_id": 55619231, "comment_id": 97934418, "body": "@Rup Yes, all of those items are included (and verified during debugging that they are present)."}, {"owner": {"reputation": 21, "user_id": 7381468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158008096285134/picture?type=large", "display_name": "Kevin Childs", "link": "https://stackoverflow.com/users/7381468/kevin-childs"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1554927628, "post_id": 55619231, "comment_id": 97934424, "body": "@NetMage It has been tested separately as well."}, {"owner": {"reputation": 6459, "user_id": 461444, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/b3S2E.jpg?s=128&g=1", "display_name": "AFract", "link": "https://stackoverflow.com/users/461444/afract"}, "edited": false, "score": 0, "creation_date": 1554928520, "post_id": 55619231, "comment_id": 97934797, "body": "I find your &quot;WhereIf&quot; approach cumbersome and unpleasant to read. You could build much cleaner code by using the PredicateBuilder class of LINQKit for example. Apart that your code seems ok, as long as you&#39;re sure that all properties of Films are correctly instantiated, and also the same for your &quot;vm&quot; object when the predicate is actually executed. You could also use ?. operator to increase code robustness."}, {"owner": {"reputation": 10104, "user_id": 111794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c209be384649abcc5a4bf8babb132572?s=128&d=identicon&r=PG", "display_name": "Zev Spitz", "link": "https://stackoverflow.com/users/111794/zev-spitz"}, "edited": false, "score": 0, "creation_date": 1554929101, "post_id": 55619231, "comment_id": 97935056, "body": "What happens if you call <code>_context.Films.ToList()</code>?"}, {"owner": {"reputation": 21, "user_id": 7381468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158008096285134/picture?type=large", "display_name": "Kevin Childs", "link": "https://stackoverflow.com/users/7381468/kevin-childs"}, "reply_to_user": {"reputation": 10104, "user_id": 111794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c209be384649abcc5a4bf8babb132572?s=128&d=identicon&r=PG", "display_name": "Zev Spitz", "link": "https://stackoverflow.com/users/111794/zev-spitz"}, "edited": false, "score": 0, "creation_date": 1554929844, "post_id": 55619231, "comment_id": 97935372, "body": "@ZevSpitz I get a List of All the Films in the db."}, {"owner": {"reputation": 10104, "user_id": 111794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c209be384649abcc5a4bf8babb132572?s=128&d=identicon&r=PG", "display_name": "Zev Spitz", "link": "https://stackoverflow.com/users/111794/zev-spitz"}, "edited": false, "score": 0, "creation_date": 1554930144, "post_id": 55619231, "comment_id": 97935504, "body": "Are you getting the NRE after the successive <code>WhereIf</code>s but before calling <code>.ToList()</code>? Or only after the <code>.ToList()</code>? If you call <code>.First()</code> (and assuming there is no sorting in your query) do you also get an NRE? You may need to pass successively larger values into <code>.Take</code> to find the exact object which is causing the problem. Also, could you include the stack trace of the NRE?"}, {"owner": {"reputation": 7399, "user_id": 800524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02839e8311c198171b66b57d1d0cc023?s=128&d=identicon&r=PG", "display_name": "acelent", "link": "https://stackoverflow.com/users/800524/acelent"}, "edited": false, "score": 0, "creation_date": 1554930244, "post_id": 55619231, "comment_id": 97935550, "body": "Try using variables instead of <code>vm.*</code>.  The expression-to-sql of EF core should be able expand such variables to their current value.  Or check if you&#39;re setting <code>vm</code> to <code>null</code> before you materialize/execute the query, or if you&#39;re disposing or resetting it."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1554930922, "post_id": 55619231, "comment_id": 97935817, "body": "And when tested separately, does adding any one cause the error, or only after a certain one, or...?"}, {"owner": {"reputation": 21, "user_id": 7381468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158008096285134/picture?type=large", "display_name": "Kevin Childs", "link": "https://stackoverflow.com/users/7381468/kevin-childs"}, "reply_to_user": {"reputation": 7399, "user_id": 800524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02839e8311c198171b66b57d1d0cc023?s=128&d=identicon&r=PG", "display_name": "acelent", "link": "https://stackoverflow.com/users/800524/acelent"}, "edited": false, "score": 0, "creation_date": 1554931060, "post_id": 55619231, "comment_id": 97935882, "body": "@acelent I have verified vm.* values.  And I have even tested with a hard-coded value."}, {"owner": {"reputation": 21, "user_id": 7381468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158008096285134/picture?type=large", "display_name": "Kevin Childs", "link": "https://stackoverflow.com/users/7381468/kevin-childs"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1554931349, "post_id": 55619231, "comment_id": 97935995, "body": "@NetMage when tested separately, it shows up whenever it gets to the first filter value that is not null (except the SearchValue one).  So if I filter by the Audio, it will get all the objects with the SearchValue, skip over the Media one since it is null, and once it does the query inside the WhereIf on the Audio the NRE shows up.  It doesn&#39;t actually break the application until I do a ToList() later, but if I check the value of source before it returns from the WhereIf, I can see it."}, {"owner": {"reputation": 21, "user_id": 7381468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158008096285134/picture?type=large", "display_name": "Kevin Childs", "link": "https://stackoverflow.com/users/7381468/kevin-childs"}, "reply_to_user": {"reputation": 10104, "user_id": 111794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c209be384649abcc5a4bf8babb132572?s=128&d=identicon&r=PG", "display_name": "Zev Spitz", "link": "https://stackoverflow.com/users/111794/zev-spitz"}, "edited": false, "score": 0, "creation_date": 1554931642, "post_id": 55619231, "comment_id": 97936092, "body": "@ZevSpitz The NRE shows up beore the WhereIf returns.  The application doesn&#39;t break until ToList() is called, but the NRE is there prior."}, {"owner": {"reputation": 21, "user_id": 7381468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158008096285134/picture?type=large", "display_name": "Kevin Childs", "link": "https://stackoverflow.com/users/7381468/kevin-childs"}, "reply_to_user": {"reputation": 10104, "user_id": 111794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c209be384649abcc5a4bf8babb132572?s=128&d=identicon&r=PG", "display_name": "Zev Spitz", "link": "https://stackoverflow.com/users/111794/zev-spitz"}, "edited": false, "score": 0, "creation_date": 1554932222, "post_id": 55619231, "comment_id": 97936299, "body": "@ZevSpitz - Added the stack trace."}, {"owner": {"reputation": 749, "user_id": 5243838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c3333402b98730e685330516b5b1c2?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Polyderopoulos", "link": "https://stackoverflow.com/users/5243838/nick-polyderopoulos"}, "edited": false, "score": 0, "creation_date": 1554934205, "post_id": 55619231, "comment_id": 97936955, "body": "Could you try to use calls that do not use methods like <code>.ToLower()</code>, <code>.Contains()</code> Just to try and exclude the case that for some reason the provider cannot give you the correct representation in sql. (I know its an edge case )"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1554934547, "post_id": 55619231, "comment_id": 97937058, "body": "I don&#39;t think you understood. By testing separately, I mean comment out all the calls to <code>WhereIf</code> except one, and see what happens in that one case. I also don&#39;t think you understand how <code>IQueryable</code> works - an expression that returns an <code>IQueryable</code> does not evaluate any code - it just builds a data structure representing the query that will be executed when needed - such as in a <code>foreach</code>, after a <code>ToList</code> or <code>AsEnumerable</code>, etc."}, {"owner": {"reputation": 21, "user_id": 7381468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158008096285134/picture?type=large", "display_name": "Kevin Childs", "link": "https://stackoverflow.com/users/7381468/kevin-childs"}, "reply_to_user": {"reputation": 749, "user_id": 5243838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c3333402b98730e685330516b5b1c2?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Polyderopoulos", "link": "https://stackoverflow.com/users/5243838/nick-polyderopoulos"}, "edited": false, "score": 0, "creation_date": 1554989136, "post_id": 55619231, "comment_id": 97958370, "body": "@NickPolyderopoulos The filter that actually uses .ToLower() and .Contains() is the one that goes through without a problem."}, {"owner": {"reputation": 21, "user_id": 7381468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158008096285134/picture?type=large", "display_name": "Kevin Childs", "link": "https://stackoverflow.com/users/7381468/kevin-childs"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1554992623, "post_id": 55619231, "comment_id": 97960847, "body": "@NetMage Yes, I&#39;ve tried only doing single filters, and I&#39;ve stepped through the code, so I&#39;m seeing when things occur.  See pictures added."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1555064499, "post_id": 55619231, "comment_id": 97987754, "body": "Try commenting out all <code>Include</code> / <code>ThenInclude</code> lines and see if it works. It would be nice if you can create a small console project which reproduces the issue."}, {"owner": {"reputation": 21, "user_id": 7381468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158008096285134/picture?type=large", "display_name": "Kevin Childs", "link": "https://stackoverflow.com/users/7381468/kevin-childs"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 1, "creation_date": 1555083388, "post_id": 55619231, "comment_id": 97998970, "body": "@IvanStoev I think I got it figured out now.  It goes back to what you mentioned about client evaluation.  I forgot to add on here another Where that was being performed based on the User of the application.  Once I took that out and put it elsewhere, it worked. I&#39;m still not sure about the timing of everything and why the first filter based on SearchValue didn&#39;t cause the issue as well, but that does seem to be the culprit.  That&#39;s my bad for not showing that bit on here.  Thank you for the assistance."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7381468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158008096285134/picture?type=large", "display_name": "Kevin Childs", "link": "https://stackoverflow.com/users/7381468/kevin-childs"}, "edited": false, "score": 0, "creation_date": 1554929788, "post_id": 55621163, "comment_id": 97935343, "body": "That is what I had tried before (last year), and that came up with the same problem, with the same fix...getting a list first and then doing the filter."}, {"owner": {"reputation": 112, "user_id": 2512889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d8adc58bd04246a7b077a1304cbe66?s=128&d=identicon&r=PG", "display_name": "Zach Painter", "link": "https://stackoverflow.com/users/2512889/zach-painter"}, "reply_to_user": {"reputation": 21, "user_id": 7381468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158008096285134/picture?type=large", "display_name": "Kevin Childs", "link": "https://stackoverflow.com/users/7381468/kevin-childs"}, "edited": false, "score": 0, "creation_date": 1554930972, "post_id": 55621163, "comment_id": 97935842, "body": "Is it possible that FilmGenres, Media, and Audio are null?  I know if using .net core, lazy loading is not enabled by default so you would need to call include."}, {"owner": {"reputation": 21, "user_id": 7381468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158008096285134/picture?type=large", "display_name": "Kevin Childs", "link": "https://stackoverflow.com/users/7381468/kevin-childs"}, "edited": false, "score": 0, "creation_date": 1554932157, "post_id": 55621163, "comment_id": 97936274, "body": "No, they have values.  I can try narrowing my searchValue so it&#39;s a very small number of objects and verifying each object manually."}, {"owner": {"reputation": 21, "user_id": 7381468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158008096285134/picture?type=large", "display_name": "Kevin Childs", "link": "https://stackoverflow.com/users/7381468/kevin-childs"}, "edited": false, "score": 0, "creation_date": 1554932586, "post_id": 55621163, "comment_id": 97936415, "body": "I just verified that the objects existing prior to applying the AudioFilter did have all the necessary values populated."}, {"owner": {"reputation": 112, "user_id": 2512889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d8adc58bd04246a7b077a1304cbe66?s=128&d=identicon&r=PG", "display_name": "Zach Painter", "link": "https://stackoverflow.com/users/2512889/zach-painter"}, "reply_to_user": {"reputation": 21, "user_id": 7381468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158008096285134/picture?type=large", "display_name": "Kevin Childs", "link": "https://stackoverflow.com/users/7381468/kevin-childs"}, "edited": false, "score": 0, "creation_date": 1555098415, "post_id": 55621163, "comment_id": 98005601, "body": "Ahh ok... Unsure what is happening then to get null reference."}], "tags": [], "owner": {"reputation": 112, "user_id": 2512889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d8adc58bd04246a7b077a1304cbe66?s=128&d=identicon&r=PG", "display_name": "Zach Painter", "link": "https://stackoverflow.com/users/2512889/zach-painter"}, "is_accepted": false, "score": 0, "last_activity_date": 1554931347, "last_edit_date": 1554931347, "creation_date": 1554929586, "answer_id": 55621163, "question_id": 55619231, "link": "https://stackoverflow.com/questions/55619231/why-cant-i-filter-an-iqueryable-like-i-can-with-a-list/55621163#55621163", "title": "Why can&#39;t I filter an IQueryable like I can with a List?", "body": "<p>I always just use a simple OR operator instead of WhereIf</p>\n\n<pre><code> IQueryable&lt;Film&gt; films = _context.Films\n    .Include(x =&gt; x.Media)\n    .Include(x =&gt; x.Audio)\n    .Include(x =&gt; x.FilmGenres)\n    .ThenInclude(g =&gt; g.Genre)\n                .Where(f =&gt; string.IsNullOrEmpty(vm.SearchValue) || f.Name.ToLower().Contains(vm.SearchValue.ToLower()))\n                .Where(f =&gt; string.IsNullOrEmpty(vm.MediaFilter) || f.Media.Name == vm.MediaFilter)\n                .Where(f =&gt; string.IsNullOrEmpty(vm.AudioFilter) || f.Audio.Name == vm.AudioFilter)\n                .Where(f =&gt; string.IsNullOrEmpty(vm.GenreFilter) || (f.FilmGenres.Any(fg =&gt; fg.Genre != null &amp;&amp; fg.Genre.Name == vm.GenreFilter)));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 7381468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158008096285134/picture?type=large", "display_name": "Kevin Childs", "link": "https://stackoverflow.com/users/7381468/kevin-childs"}, "edited": false, "score": 0, "creation_date": 1554993091, "post_id": 55634532, "comment_id": 97961158, "body": "I have actually tried all of that (except for using different variables for each separation).  The WhereIf did originally return source.Where(predicate), but I added the other line for debugging so that I could see what was being returned.    It&#39;s also important to note, that before I even used a WhereIf, using .Where(f =&gt; string.IsNullOrEmpty(vm.MediaFilter) || f.Media.Name == vm.MediaFilter) had the same result."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 3, "creation_date": 1555002770, "post_id": 55634532, "comment_id": 97966927, "body": "Actually, thinking that the assigment to <code>source</code> is an issue shows a lack of understanding of how C# works. <code>source</code> is an object reference, and re-assigning it to point to a different object does nothing to the original object. See the source for <a href=\"https://referencesource.microsoft.com/#System.Core/System/Linq/IQueryable.cs,fceeefcb290fb6aa\" rel=\"nofollow noreferrer\"><code>Where</code></a> for (functionally) the same thing."}], "tags": [], "owner": {"reputation": 2041, "user_id": 6321291, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/25f2ca2f73db77b821c5a5ddb8e54203?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/6321291/kevin"}, "is_accepted": false, "score": -1, "last_activity_date": 1554991710, "creation_date": 1554991710, "answer_id": 55634532, "question_id": 55619231, "link": "https://stackoverflow.com/questions/55619231/why-cant-i-filter-an-iqueryable-like-i-can-with-a-list/55634532#55634532", "title": "Why can&#39;t I filter an IQueryable like I can with a List?", "body": "<p>This answer's off the cuff and is a bit of guesswork on my part, so I apologize if it's not helpful.</p>\n\n<p>Anyway, a couple things are standing out to me.</p>\n\n<p>First, your WhereIf() function - it's not quite doing what a Where() would do.  Where() takes a source and returns a second source where the recordset is winnowed down.  Notably, it doesn't <em>change</em> the original datasource at all.  Well, your WhereIf() is trying to do that - it's changing the 'source' variable that's being passed in to the function.  I did some googling, and the IQueryable <em>doesn't</em> look like it's immutable which means it can be changed without creating a new class instance, so I'm not positive that this line of code isn't screwing up the foundation its building off of:</p>\n\n<pre><code>source = source.Where(predicate);\n</code></pre>\n\n<p>... it would explain the results you're getting.  The first 'WhereIf' with a true condition works, but the subsequent one doesn't - because the first one messed with the base object it was working off of.  At the very least, you should change it to 'return source.Where(predicate)', simply for code clarity (since your existing code makes it look like its <em>trying</em> to change it.)</p>\n\n<p>Second, have you tried breaking the statement up?  I mean, something like this:</p>\n\n<pre><code>var results = SomeLinq.SomeStatement(a =&gt; something(a))\n        .Where(b =&gt; b == something)\n        .Where(c =&gt; c == something)\n</code></pre>\n\n<p>... is the same thing as:</p>\n\n<pre><code>var mainQueryable = SomeLinq.SomeStatement(a =&gt; something(a));\nvar filtered = mainQueryable.Where(b =&gt; b == something);\nvar results = filtered.Where(c =&gt; c == something);\n</code></pre>\n\n<p>Which in turn would let you simplify the picture down for LINQ:</p>\n\n<pre><code>IQueryable&lt;Film&gt; films = _context.Films\n    .Include(f =&gt; f.Media)\n    .Include(f=&gt; f.Audio)\n    .Include(f =&gt; f.FilmGenres)\n    .ThenInclude(fg =&gt; fg.Genre);\nif (!string.IsNullOrEmpty(vm.SearchValue)) films = films.Where(f =&gt; f.Equals(vm.SearchValue, StringComparison.OrdinalIgnoreCase);\nif (!string.IsNullOrEmpty(vm.MediaFilter)) films = films.Where(f =&gt; f.Media.Name == vm.MediaFilter);\n// etc...\n</code></pre>\n\n<p>... so the final LINQ statement doesn't have superfluous WHERE clauses that don't actually filter anything down.</p>\n\n<p>Anyway, hope these help out a bit.</p>\n"}], "owner": {"reputation": 21, "user_id": 7381468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158008096285134/picture?type=large", "display_name": "Kevin Childs", "link": "https://stackoverflow.com/users/7381468/kevin-childs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1365, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1555087055, "creation_date": 1554921273, "last_edit_date": 1555087055, "question_id": 55619231, "link": "https://stackoverflow.com/questions/55619231/why-cant-i-filter-an-iqueryable-like-i-can-with-a-list", "title": "Why can&#39;t I filter an IQueryable like I can with a List?", "body": "<p>I'm refactoring a project a little bit and have come back to a problem that I never got solved in the past.  I am trying to perform multiple filters on a query of an EF Core db.  </p>\n\n<p>In the past I had tried to setup a series of Where statements that did a check on if the filter statement was null OR by matching the filter.</p>\n\n<p>This returned a nullReferenceException somewhere in the query.  I resolved that issue by running my query without the filters and then applying the filters to my List afterwards.</p>\n\n<p>I came back and created a WhereIf extension and hoped it would maybe fix my issues while also making the code a little cleaner, but the same issue pops up.</p>\n\n<p>I currently have four filters I am trying to run on the query, and it passes the initial filter fine, but if any of the other three filters are chosen, the query has a nullReferenceException.</p>\n\n<p>This again works if I get a list from a general query and the first filter, and then subsequently apply the filters to my list.</p>\n\n<p>This is what I'd like to do:</p>\n\n<pre><code>IQueryable&lt;Film&gt; films = _context.Films\n    .Include(f =&gt; f.Media)\n    .Include(f=&gt; f.Audio)\n    .Include(f =&gt; f.FilmGenres)\n        .ThenInclude(fg =&gt; fg.Genre)\n    .WhereIf(!string.IsNullOrEmpty(vm.SearchValue), f =&gt; f.Name.ToLower().Contains(vm.SearchValue.ToLower()))\n    .WhereIf(!string.IsNullOrEmpty(vm.MediaFilter), f =&gt; f.Media.Name == vm.MediaFilter)\n    .WhereIf(!string.IsNullOrEmpty(vm.AudioFilter), f =&gt; f.Audio.Name == vm.AudioFilter)\n    .WhereIf(!string.IsNullOrEmpty(vm.GenreFilter), f =&gt; f.FilmGenres.Any(fg =&gt; fg.Genre != null &amp;&amp; fg.Genre.Name == vm.GenreFilter));\n</code></pre>\n\n<p>Here is the WhereIf method:</p>\n\n<pre><code>public static IQueryable&lt;TSource&gt; WhereIf&lt;TSource&gt;(this IQueryable&lt;TSource&gt; source, bool condition, Expression&lt;Func&lt;TSource, bool&gt;&gt; predicate)\n        {\n            // Performs a Where only when the condition is met\n\n            if (condition)\n            {\n                source = source.Where(predicate);\n                return source;\n            }\n\n            return source;\n        }\n</code></pre>\n\n<p>The filter on vm.SearchValue goes through fine, and when I step through it, the value is a IQueryable as expected.  Once it hits any of the other filters, then it comes back with the nullReferenceException (when it finally gets to the ToList() later on).  If I look at the value of source prior to return, it shows it having the null exception in the Result View.  </p>\n\n<p>I have tried doing each line one by one (with a films = film.Where(...)).  I have tried skipping the WhereIf and just doing if statements and a standard Where, and all of this has the same result.  </p>\n\n<p>It is only when I create a List object, populated by a general query of the data, and then filter that List object that I get it to work.  </p>\n\n<p>So, what is the problem with filtering on an IQueryable in EF Core?  Is this not allowed, or am I doing something wrong?</p>\n\n<p>Update: All of the Film objects do have Media/Audio/FilmGenre objects and everything has been Included.  And I have verified that items in the IQueryable source has all of these items prior to the Where statement in the WhereIf method.</p>\n\n<p>I have tried separating each filter statement out separately, and that includes skipping the WhereIf method and using if statements as well.</p>\n\n<p>Additionally, only one filter can be selected at a time (for now).  Those that aren't selected result in the condition being false and there is no problem.  It only hiccups when working on an active filter.  For example, I'll do an initial search that only checks the vm.SearchValue.  That will give me a list of Film's and options to filter and sort.  Then when I select to filter by Audio or Media, etc., I get the problem.  </p>\n\n<p>Here is the stack trace:</p>\n\n<pre><code>   at lambda_method(Closure , InternalEntityEntry )\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.SimpleNonNullableDependentKeyValueFactory`1.TryCreateFromCurrentValues(InternalEntityEntry entry, TKey&amp; key)\n   at Microsoft.EntityFrameworkCore.Query.Internal.WeakReferenceIdentityMap`1.CreateIncludeKeyComparer(INavigation navigation, InternalEntityEntry entry)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryBuffer.IncludeCore(Object entity, INavigation navigation)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryBuffer.Include(QueryContext queryContext, Object entity, IReadOnlyList`1 navigationPath, IReadOnlyList`1 relatedEntitiesLoaders, Int32 currentNavigationIndex, Boolean queryStateManager)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryBuffer.Include(QueryContext queryContext, Object entity, IReadOnlyList`1 navigationPath, IReadOnlyList`1 relatedEntitiesLoaders, Boolean queryStateManager)\n   at Microsoft.EntityFrameworkCore.Query.Internal.GroupJoinInclude.GroupJoinIncludeContext.Include(Object entity)\n   at Microsoft.EntityFrameworkCore.Query.Internal.GroupJoinInclude.GroupJoinIncludeContext.Include(Object entity)\n   at Microsoft.EntityFrameworkCore.Query.Internal.GroupJoinInclude.GroupJoinIncludeContext.Include(Object entity)\n   at Microsoft.EntityFrameworkCore.Query.Internal.GroupJoinInclude.GroupJoinIncludeContext.Include(Object entity)\n   at Microsoft.EntityFrameworkCore.Query.QueryMethodProvider.&lt;_GroupJoin&gt;d__26`4.MoveNext()\n   at System.Linq.Enumerable.&lt;SelectManyIterator&gt;d__165`3.MoveNext()\n   at System.Linq.Enumerable.WhereSelectEnumerableIterator`2.MoveNext()\n   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.&lt;_TrackEntities&gt;d__15`2.MoveNext()\n   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()\n   at System.Collections.Generic.EnumerableHelpers.ToArray[T](IEnumerable`1 source, Int32&amp; length)\n   at System.Collections.Generic.EnumerableHelpers.ToArray[T](IEnumerable`1 source)\n   at System.Linq.SystemCore_EnumerableDebugView`1.get_Items()\n</code></pre>\n\n<p>Images Below:</p>\n\n<ol>\n<li>Here is source's Results View when going through the SearchValue filter prior to the Where statement in WhereIf</li>\n<li>Here it is after that Where statement</li>\n<li>Here it's going through the AudioFilter - predicate shown.</li>\n<li>Here is the source prior to the Where statement when doing the AudioFilter - same as after the SearchValue filtering</li>\n<li>And finally, after doing the Where when doing the Audio filtering</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/jt1Nm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jt1Nm.jpg\" alt=\"Here is source&#39;s Results View when going through the SearchValue filter prior to the Where statement in WhereIf\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/0KorX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0KorX.jpg\" alt=\"Here it is after that Where statement\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/VZzFu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VZzFu.jpg\" alt=\"Here it&#39;s going through the AudioFilter - predicate shown.\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/EX3mD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EX3mD.jpg\" alt=\"Here is the source prior to the Where statement when doing the AudioFilter - same as after the SearchValue filtering\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/edqMy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/edqMy.jpg\" alt=\"And finally, after doing the Where when doing the Audio filtering\"></a></p>\n\n<p>UPDATE: This has been resolved.  There was another check involving the application user that was causing a client side evaluation, that was moved and now the query works as intended.</p>\n"}, {"tags": ["c#", "asp.net", "ajax", "webmethod"], "comments": [{"owner": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "edited": false, "score": 1, "creation_date": 1554921265, "post_id": 55619194, "comment_id": 97931575, "body": "Are you sure it&#39;s not in <code>retValue</code> itself?"}, {"owner": {"reputation": 134, "user_id": 6941621, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hNQw4DEZkPs/AAAAAAAAAAI/AAAAAAAAABY/Wd09C9bszfI/photo.jpg?sz=128", "display_name": "gmdev86", "link": "https://stackoverflow.com/users/6941621/gmdev86"}, "edited": false, "score": 0, "creation_date": 1554921293, "post_id": 55619194, "comment_id": 97931594, "body": "console.log(retValue); and see what you get in the console"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1554921356, "post_id": 55619194, "comment_id": 97931629, "body": "Thanks for trying to create <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, but &quot;.d&quot; part in <code>retValue.d</code> look very strange - make sure you&#39;ve updated both parts of the sample to match."}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1554921422, "post_id": 55619194, "comment_id": 97931656, "body": "Your ajax&#39;s <code>dataType</code> is set to <code>json</code>, yet you are returning html as a string? I think that could prove problematic. (<a href=\"https://stackoverflow.com/questions/2722750/ajax-datatype\">stackoverflow.com/questions/2722750/ajax-datatype</a>)"}, {"owner": {"reputation": 51, "user_id": 5473430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1325cddc808164acad6694d5256f70e8?s=128&d=identicon&r=PG&f=1", "display_name": "MotleyDrew", "link": "https://stackoverflow.com/users/5473430/motleydrew"}, "edited": false, "score": 0, "creation_date": 1554922658, "post_id": 55619194, "comment_id": 97932249, "body": "Jimenmex, yes, it&#39;s not in retValue itself. The return from retValue is [object Object]."}, {"owner": {"reputation": 51, "user_id": 5473430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1325cddc808164acad6694d5256f70e8?s=128&d=identicon&r=PG&f=1", "display_name": "MotleyDrew", "link": "https://stackoverflow.com/users/5473430/motleydrew"}, "edited": false, "score": 0, "creation_date": 1554922938, "post_id": 55619194, "comment_id": 97932380, "body": "Alexei Levenkov , that is irrelevant. For the sake of the example, I should have given them different names, as the retValue in the web method is not the same var as the retValue in the AJAX call. I can see how that miight come across as confusing."}, {"owner": {"reputation": 12868, "user_id": 2373249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/byIOk.jpg?s=128&g=1", "display_name": "hardkoded", "link": "https://stackoverflow.com/users/2373249/hardkoded"}, "edited": false, "score": 0, "creation_date": 1554923038, "post_id": 55619194, "comment_id": 97932428, "body": "I have one small example like yours and it&#39;s working. <a href=\"https://github.com/kblok/StackOverflowExamples/blob/master/AspNetDemoProject/AspNetDemoProject/Demos/WebMethodTest.aspx.cs#L38\" rel=\"nofollow noreferrer\">github.com/kblok/StackOverflowExamples/blob/master/&hellip;</a>"}], "owner": {"reputation": 51, "user_id": 5473430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1325cddc808164acad6694d5256f70e8?s=128&d=identicon&r=PG&f=1", "display_name": "MotleyDrew", "link": "https://stackoverflow.com/users/5473430/motleydrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554921150, "creation_date": 1554921150, "question_id": 55619194, "link": "https://stackoverflow.com/questions/55619194/undefined-result-from-ajax-success", "title": "Undefined result from AJAX success", "body": "<p>I'm getting the result, \"undefined\", from my AJAX call in the success block.</p>\n\n<ol>\n<li>AJAX calls a web method in my cs file, while passing a vale (a date).</li>\n<li>My web method build s a calendar from the date and passes all of the HTML code back.</li>\n<li>The success function does not pick up the data passed from the web method.</li>\n</ol>\n\n<p>I have used the exact same code on a few other web apps, and it works great, just not on this one. The difference is, I'm not using a blank .net web forms build, but a template with bootstrap. \nI have verified that the web method is correctly building the calendar text/HTML, it's just not getting read by the result.d in the AJAX success. \nI have looked through other posts of users having the same issue, but none of the solutions worked for me.</p>\n\n<pre><code>$.ajax({\n         type: \"POST\",\n         url: \"Calendar.aspx/getCal\",\n         data: \"{'dateParam': '\" + newDate + \"'}\",\n         contentType: \"application/json; charset=utf-8\",\n         dataType: \"json\",\n            success: function (retValue)\n            {\n                var myReturn = retValue.d;\n                document.getElementById(\"divPh\").innerHTML = myReturn;\n            }                    ,\n            error: function (data) {\n                 alert('error: ' + data.status);\n            }\n        });\n\n//Web Method on Calendar.aspx.cs page. Pulled out complicated code to simply\n//show a hard-coded return.\n[WebMethod]\n[ScriptMethod(UseHttpGet = false)]\npublic static string getCal(string dateParam)\n{\n     string retValue = \"This Sucks\";\n     return retValue;\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "powershell"], "comments": [{"owner": {"reputation": 9946, "user_id": 1025407, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b1d0712a91d7eb5dcccdfcde0e3d7bb8?s=128&d=identicon&r=PG", "display_name": "SuperJMN", "link": "https://stackoverflow.com/users/1025407/superjmn"}, "reply_to_user": {"reputation": 326, "user_id": 10005750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CCLRr.jpg?s=128&g=1", "display_name": "lwolf", "link": "https://stackoverflow.com/users/10005750/lwolf"}, "edited": false, "score": 3, "creation_date": 1554921440, "post_id": 55619139, "comment_id": 97931668, "body": "@lwolf It&#39;s not a duplicate. I&#39;m trying to do it from .NET (C#)"}, {"owner": {"reputation": 39264, "user_id": 3905079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54d4c111c4564b116ff1efca8c56788?s=128&d=identicon&r=PG", "display_name": "briantist", "link": "https://stackoverflow.com/users/3905079/briantist"}, "edited": false, "score": 1, "creation_date": 1554921663, "post_id": 55619139, "comment_id": 97931785, "body": "If you&#39;re using a specific PowerShell assembly, then that&#39;s the version you&#39;re using in your application. What&#39;s on the system doesn&#39;t really matter. But the linked question will still tell you a version, if you execute that PowerShell from within C#. If you want to know the version of one of the possible executables, then you should start that executable process and check its version. Remember that Windows PowerShell and any number of PowerShell Core versions can exist  side-by-side. So you have to decide what it is you want to do and know before this question can reliably be answered."}, {"owner": {"reputation": 18739, "user_id": 4003407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1bb6a20caae0ab19fe7eab3ac3f74fb?s=128&d=identicon&r=PG&f=1", "display_name": "user4003407", "link": "https://stackoverflow.com/users/4003407/user4003407"}, "reply_to_user": {"reputation": 39264, "user_id": 3905079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54d4c111c4564b116ff1efca8c56788?s=128&d=identicon&r=PG", "display_name": "briantist", "link": "https://stackoverflow.com/users/3905079/briantist"}, "edited": false, "score": 2, "creation_date": 1554922418, "post_id": 55619139, "comment_id": 97932148, "body": "@briantist You are not correct. Reference assemblies are only for reference, them does not need to contain actual code. Application will use assemblies provided by system."}, {"owner": {"reputation": 39264, "user_id": 3905079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54d4c111c4564b116ff1efca8c56788?s=128&d=identicon&r=PG", "display_name": "briantist", "link": "https://stackoverflow.com/users/3905079/briantist"}, "reply_to_user": {"reputation": 18739, "user_id": 4003407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1bb6a20caae0ab19fe7eab3ac3f74fb?s=128&d=identicon&r=PG&f=1", "display_name": "user4003407", "link": "https://stackoverflow.com/users/4003407/user4003407"}, "edited": false, "score": 2, "creation_date": 1554922557, "post_id": 55619139, "comment_id": 97932203, "body": "Thank you @PetSerAl, you are correct, my mistake. I think this can be still be answered by the linked question, but if you think it deserves its own feel free to reopen (or comment as such and I&#39;ll do it)."}, {"owner": {"reputation": 1246, "user_id": 1184584, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6b2bce72442446c98570d1451ea2d1c0?s=128&d=identicon&r=PG", "display_name": "Nandun", "link": "https://stackoverflow.com/users/1184584/nandun"}, "reply_to_user": {"reputation": 39264, "user_id": 3905079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54d4c111c4564b116ff1efca8c56788?s=128&d=identicon&r=PG", "display_name": "briantist", "link": "https://stackoverflow.com/users/3905079/briantist"}, "edited": false, "score": 0, "creation_date": 1616171688, "post_id": 55619139, "comment_id": 117928000, "body": "@briantist - i think this should be re-opened. OP is specifically asking a way to do this from C#, and the linked question is PowerShell. please re-open."}, {"owner": {"reputation": 39264, "user_id": 3905079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54d4c111c4564b116ff1efca8c56788?s=128&d=identicon&r=PG", "display_name": "briantist", "link": "https://stackoverflow.com/users/3905079/briantist"}, "reply_to_user": {"reputation": 1246, "user_id": 1184584, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6b2bce72442446c98570d1451ea2d1c0?s=128&d=identicon&r=PG", "display_name": "Nandun", "link": "https://stackoverflow.com/users/1184584/nandun"}, "edited": false, "score": 0, "creation_date": 1616175553, "post_id": 55619139, "comment_id": 117929748, "body": "@Nandun PowerShell is itself a .Net assembly, so it can be executed from C#, hosted directly, to find the answer, as PowerShell itself sees it (this is all in process), and if the desired version is instead that of an external executable, then the question is about starting a process from C# which I believe is also answered elsewhere. IMO it&#39;s the right duplicate, but if enough people vote to reopen it (anyone with 3000+ rep can do so) I won&#39;t weigh in or try to change that decision."}, {"owner": {"reputation": 1246, "user_id": 1184584, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6b2bce72442446c98570d1451ea2d1c0?s=128&d=identicon&r=PG", "display_name": "Nandun", "link": "https://stackoverflow.com/users/1184584/nandun"}, "reply_to_user": {"reputation": 39264, "user_id": 3905079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54d4c111c4564b116ff1efca8c56788?s=128&d=identicon&r=PG", "display_name": "briantist", "link": "https://stackoverflow.com/users/3905079/briantist"}, "edited": false, "score": 0, "creation_date": 1616180176, "post_id": 55619139, "comment_id": 117931692, "body": "@briantist in powershell, the version is stores in $PSVersionTable variable. and it is very simple to get it in PS. in C#, it seems its no where near that simple. seems you need to traverse the registry, to get the PS version, and is completely different. Maybe its not, but i wouldn&#39;t know because this question was prematurely closed!."}, {"owner": {"reputation": 39264, "user_id": 3905079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54d4c111c4564b116ff1efca8c56788?s=128&d=identicon&r=PG", "display_name": "briantist", "link": "https://stackoverflow.com/users/3905079/briantist"}, "reply_to_user": {"reputation": 1246, "user_id": 1184584, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6b2bce72442446c98570d1451ea2d1c0?s=128&d=identicon&r=PG", "display_name": "Nandun", "link": "https://stackoverflow.com/users/1184584/nandun"}, "edited": false, "score": 0, "creation_date": 1616182127, "post_id": 55619139, "comment_id": 117932349, "body": "@Nandun you may want to look up how to execute PowerShell from C#, as it&#39;s quite simple. Here&#39;s one example, there are many more: <a href=\"https://stackoverflow.com/a/56123976/3905079\">stackoverflow.com/a/56123976/3905079</a>"}], "owner": {"reputation": 9946, "user_id": 1025407, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b1d0712a91d7eb5dcccdfcde0e3d7bb8?s=128&d=identicon&r=PG", "display_name": "SuperJMN", "link": "https://stackoverflow.com/users/1025407/superjmn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 605, "favorite_count": 0, "closed_date": 1554921736, "answer_count": 0, "score": 1, "last_activity_date": 1554920906, "creation_date": 1554920906, "question_id": 55619139, "link": "https://stackoverflow.com/questions/55619139/checking-installed-powershell-version-from-c", "closed_reason": "Duplicate", "title": "Checking installed PowerShell version from C#", "body": "<p>Is there a good way to check if the PS version is, for example >= 5.0.0?</p>\n\n<p>NOTE:\nI'm already using this NugetPackage:\n<code>Microsoft.PowerShell.5.ReferenceAssemblies</code></p>\n"}, {"tags": ["c#", "jquery", "asp.net-mvc", "typescript", "systemjs"], "comments": [{"owner": {"reputation": 408, "user_id": 6165803, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/YmmD1.jpg?s=128&g=1", "display_name": "Coding Freak", "link": "https://stackoverflow.com/users/6165803/coding-freak"}, "edited": false, "score": 0, "creation_date": 1554966124, "post_id": 55619119, "comment_id": 97944913, "body": "Are you sure javascript is loaded before the call for your JS file?"}], "answers": [{"tags": [], "owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "is_accepted": true, "score": 1, "last_activity_date": 1554967601, "creation_date": 1554967601, "answer_id": 55626891, "question_id": 55619119, "link": "https://stackoverflow.com/questions/55619119/how-to-call-function-through-onclick-when-js-is-loaded-through-system-js/55626891#55626891", "title": "How to call function through onclick when JS is loaded through System.js", "body": "<p><code>&lt;div onclick=\"load('@item.Id')\"&gt;&lt;/div&gt;</code> This old-school-pure-html way of binding event listener requires <code>load</code> to be a global scope function.</p>\n\n<p>System.js import your <code>main.js</code>, but it kinda scopes it up in a closure I guess. <code>load</code> is no longer accessible in global scope, thus the bug.</p>\n"}], "owner": {"reputation": 1996, "user_id": 1523851, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cedeada4c0d57aa39caca645e437ed93?s=128&d=identicon&r=PG", "display_name": "TrueEddie", "link": "https://stackoverflow.com/users/1523851/trueeddie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 55626891, "answer_count": 1, "score": 0, "last_activity_date": 1554967601, "creation_date": 1554920854, "last_edit_date": 1554965759, "question_id": 55619119, "link": "https://stackoverflow.com/questions/55619119/how-to-call-function-through-onclick-when-js-is-loaded-through-system-js", "title": "How to call function through onclick when JS is loaded through System.js", "body": "<p>I'm have an typescript file in my MVC project that has gotten quite large. I want to break it up use System.js to load the files.</p>\n\n<p>I have included the system.js reference within my _Layout.cshtml view.</p>\n\n<pre><code>&lt;script src=\"~/Scripts/system.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    $(document).ready(function ()\n    {\n        System.import(\"Scripts/main.js\");\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>My main.ts file has a function that loads an item.</p>\n\n<pre><code>function load(id: string): void\n{\n    // Stuff\n}\n</code></pre>\n\n<p>In my Index.cshtml view I have a div that calls the function when it's clicked.</p>\n\n<pre><code>&lt;div onclick=\"load('@item.Id')\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>But everytime I click on the div I get the following error in the console:</p>\n\n<pre><code>Uncaught ReferenceError: load is not defined at HTMLDivElement.onclick ((index):41)\n</code></pre>\n\n<p>Looking at the network traffic I can see that main.js is loaded by system.js. But for some reason the functions cannot be accessed via the HTML. Am I doing the something in the wrong spot? Or is there a specific way I need to setup my typescript file to call the function?</p>\n\n<p>Thanks for any help.</p>\n"}, {"tags": ["c#", "graphics"], "comments": [{"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1554923924, "post_id": 55618956, "comment_id": 97932793, "body": "Is this WinForms? You have to <a href=\"https://stackoverflow.com/questions/8996409/\">draw in the Paint event</a>, not in the mouse or button click."}, {"owner": {"reputation": 30659, "user_id": 1210053, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8cee821e7bf4acaa7f0de12d603b9f1d?s=128&d=identicon&r=PG", "display_name": "Nico Schertler", "link": "https://stackoverflow.com/users/1210053/nico-schertler"}, "edited": false, "score": 0, "creation_date": 1554928221, "post_id": 55618956, "comment_id": 97934671, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8996409/drawing-with-winforms\">Drawing with Winforms</a>"}, {"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 1, "creation_date": 1554928490, "post_id": 55618956, "comment_id": 97934780, "body": "Firstly, as others have commented, you should only draw on the form in the forms <code>OnPaint</code> method override.  You should never use <code>CreateGraphics</code> in order to draw on a form.  Secondly, in your <code>Main</code> method, you call <code>Application.Run(board);</code> which is a blocking call so the next line never gets called until after the form closes."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1554933124, "post_id": 55618956, "comment_id": 97936597, "body": "Never use <code>control.CreateGraphics</code>! Never try to cache a <code>Graphics</code> object! Either draw into a <code>Bitmap bmp</code> using a <code>Graphics g = Graphics.FromImage(bmp)</code> or in the <code>Paint</code> event of a control, using the <code>e.Graphics</code> parameter.."}, {"owner": {"reputation": 11, "user_id": 11342044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGlGo.png?s=128&g=1", "display_name": "5H40N1", "link": "https://stackoverflow.com/users/11342044/5h40n1"}, "edited": false, "score": 0, "creation_date": 1555058816, "post_id": 55618956, "comment_id": 97984543, "body": "1.@ChrisDunaway If <code>Application.Run(board);</code> stops futrher code from executing how do I &quot;make it work&quot;? I want to call my <code>DrawWorld</code> method and paint on my form with it. 2.Okay, thanks to you I got it to work with <code>OnPaint</code> method override, but now my question is: how do I make it so that when I call <code>DrawWorld</code> , a whole grid of cells is drawn? Right now when I run my program only one cell is drawn."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11342044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGlGo.png?s=128&g=1", "display_name": "5H40N1", "link": "https://stackoverflow.com/users/11342044/5h40n1"}, "edited": false, "score": 0, "creation_date": 1555072260, "post_id": 55649410, "comment_id": 97991868, "body": "Ok, so what about <code>Application.Run(board)</code> ? how can I work with that?"}, {"owner": {"reputation": 24411, "user_id": 292411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8fdeba51c2ba145110541a5bb19696?s=128&d=identicon&r=PG&f=1", "display_name": "C.Evenhuis", "link": "https://stackoverflow.com/users/292411/c-evenhuis"}, "reply_to_user": {"reputation": 11, "user_id": 11342044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGlGo.png?s=128&g=1", "display_name": "5H40N1", "link": "https://stackoverflow.com/users/11342044/5h40n1"}, "edited": false, "score": 0, "creation_date": 1555318364, "post_id": 55649410, "comment_id": 98054698, "body": "In WinForms the idea is that you give control to the OS using <code>Application.Run()</code>, and then respond to events."}], "tags": [], "owner": {"reputation": 24411, "user_id": 292411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8fdeba51c2ba145110541a5bb19696?s=128&d=identicon&r=PG&f=1", "display_name": "C.Evenhuis", "link": "https://stackoverflow.com/users/292411/c-evenhuis"}, "is_accepted": false, "score": 1, "last_activity_date": 1555064196, "creation_date": 1555064196, "answer_id": 55649410, "question_id": 55618956, "link": "https://stackoverflow.com/questions/55618956/why-do-my-methods-to-draw-on-a-form-not-work-c/55649410#55649410", "title": "Why do my methods to draw on a form not work? ( C# )", "body": "<p>Instead of trying to draw \"this cell now\", you should draw the entire <code>World</code> \"on demand\" whenever <code>OnPaint</code> is called. </p>\n\n<p>You can cause a repaint by calling <code>Invalidate()</code> on the form, for instance when something in the <code>World</code> has changed. <code>OnPaint</code> will also be called automatically, for instance when your form is first shown, or when it reappears after having been hidden by another window.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11342044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGlGo.png?s=128&g=1", "display_name": "5H40N1", "link": "https://stackoverflow.com/users/11342044/5h40n1"}, "is_accepted": false, "score": 0, "last_activity_date": 1555417638, "creation_date": 1555417638, "answer_id": 55708153, "question_id": 55618956, "link": "https://stackoverflow.com/questions/55618956/why-do-my-methods-to-draw-on-a-form-not-work-c/55708153#55708153", "title": "Why do my methods to draw on a form not work? ( C# )", "body": "<p>Okay okay, so after understanding that I can't do it \"my way\" (use a method called outside Board class to draw on a Form) I did some reaserch and added a timer + set <code>OptimizedDoubleBuffer</code> to <code>true</code>. Thanks to everyone that helped, if someone wants to see my existing Board class it looks like this: <a href=\"https://pastebin.com/CP9XRN6r\" rel=\"nofollow noreferrer\">https://pastebin.com/CP9XRN6r</a> (didn't want to take up space with unnecessary code), hope you'll have a great day and my post will help someone someday ^.^</p>\n"}], "owner": {"reputation": 11, "user_id": 11342044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGlGo.png?s=128&g=1", "display_name": "5H40N1", "link": "https://stackoverflow.com/users/11342044/5h40n1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1555417638, "creation_date": 1554920222, "last_edit_date": 1555417219, "question_id": 55618956, "link": "https://stackoverflow.com/questions/55618956/why-do-my-methods-to-draw-on-a-form-not-work-c", "title": "Why do my methods to draw on a form not work? ( C# )", "body": "<p>[SOLVED]\nI'm trying to simulate \"the game of life\" both in console and by drawing it, but my form is plain and white. How can I make my methods usable?</p>\n\n<p>I'm doing it as my first time c# code, in VisualStudio 2019, just to get along with object-based languages. I tried event-based drawing (mouseclicks, buttons) and everything was fine.</p>\n\n<p>My form class looks like this:</p>\n\n<pre><code>public partial class Board : Form\n{\n    private int BOARDWIDTH;\n    private int BOARDHEIGHT;\n    private int cellSize;\n    private bool paint = false; //ADDED IN\n    private World world;\n    Graphics drawArea;\n    public Board(World world, int cellsize)\n    {\n        this.BOARDHEIGHT = world.getWorldHeight() * cellsize;\n        this.BOARDWIDTH = world.getWorldWidth() * cellsize;\n        InitializeComponent();\n        drawingArea.SetBounds(0, 0, this.BOARDWIDTH, this.BOARDHEIGHT);\n        drawArea = drawingArea.CreateGraphics();\n        this.cellSize = cellsize;\n        this.world = world;\n    }\n    public void updateBoard(World world)\n    {\n        this.world = world;\n    }\n    protected override void OnPaint(PaintEventArgs e) // ADDED IN (Basically previous DrawCell inside)\n    {\n        base.OnPaint(e);\n        if(paint)\n        {\n            Rectangle rect = new Rectangle(x*this.cellSize, y*this.cellSize, \nthis.cellSize, this.cellSize);\n\n            if (this.world.getCellState(x, y))\n            {\n                rect.Height--;\n                rect.Width--;\n                using (Pen wPen = new Pen(Color.Black))\n                {\n                    e.Graphics.DrawRectangle(wPen, rect);\n                }\n\n            }\n            else\n            {\n                using (SolidBrush bBrush = new SolidBrush(Color.Black))\n                {\n                    e.Graphics.FillRectangle(bBrush, rect);\n                }\n\n            }\n            paint = false;\n        }\n    }\n    private void DrawCell(int x, int y) //CHANGED\n    {\n        this.x = x;\n        this.y = y;\n        paint = true;\n    }\n    public void DrawWorld(int refreshRate)\n    {\n        for(int i = 0; i &lt; this.world.getWorldHeight(); i++)\n        {\n            for(int j = 0; j &lt;this.world.getWorldWidth(); j++)\n            {\n                DrawCell(j, i);\n            }\n        }\n    }\n}\n}\n</code></pre>\n\n<p>and my main looks like this:</p>\n\n<pre><code>static void Main()\n{\n        Application.EnableVisualStyles();\n        Application.SetCompatibleTextRenderingDefault(false);\n        World world = new World(20, 20);\n        world.createRandomWorld();\n        Board board = new Board(world, 10);\n        Application.Run(board);\n        board.DrawWorld(10);\n}\n</code></pre>\n\n<p>I want to get a grid of black/white squares, white with borders. Now the only thing I get is that my code is not crashing</p>\n\n<p>[Edit] I added the <code>OnPaint</code> and changed a bit my <code>DrawCell</code> method and I have something now (it draws, yaaay) but I get only one cell, not the whole grid. Also, my <code>bool paint</code> solution feels like an workaround, not a proper way to do this. If anything, I'd love to see \"proper\" working code, besause I don't the definitions/examples that are on the web (microsoft page) don't show me how can I make it work my way ^.^</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 3, "creation_date": 1554920383, "post_id": 55618938, "comment_id": 97931187, "body": "When you use <code>FirstOrDefault</code>, the enumeration is evaluated only until the first match is found. If the <code>ToList</code> throws that exception, then <code>methodLabels</code> has at least 2 elements, and one of them returns negative for <code>t.Name.IndexOf(d.Name)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4124, "user_id": 5095128, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/B20V1.jpg?s=128&g=1", "display_name": "Rani Radcliff", "link": "https://stackoverflow.com/users/5095128/rani-radcliff"}, "edited": false, "score": 0, "creation_date": 1554923102, "post_id": 55619580, "comment_id": 97932455, "body": "Cannot use contains.  That is what we had first and it was returning extras.  I&#39;ll try your suggestion and see if it works.  Sounds reasonable.  Thanks much for your help."}, {"owner": {"reputation": 4124, "user_id": 5095128, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/B20V1.jpg?s=128&g=1", "display_name": "Rani Radcliff", "link": "https://stackoverflow.com/users/5095128/rani-radcliff"}, "edited": false, "score": 0, "creation_date": 1554923422, "post_id": 55619580, "comment_id": 97932591, "body": "AWESOME!  Worked like a charm!  Thanks a million!"}], "tags": [], "owner": {"reputation": 1342, "user_id": 11159372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d20f93538bee9bec455c5325a031218?s=128&d=identicon&r=PG", "display_name": "Anu6is", "link": "https://stackoverflow.com/users/11159372/anu6is"}, "is_accepted": true, "score": 3, "last_activity_date": 1554922706, "creation_date": 1554922706, "answer_id": 55619580, "question_id": 55618938, "link": "https://stackoverflow.com/questions/55618938/why-does-tolist-throw-an-exception-when-only-1-record-is-returned/55619580#55619580", "title": "Why Does ToList throw an Exception when only 1 record is returned", "body": "<p>Your exception <code>\"Count cannot be less than zero. Parameter name: count\".</code> is referring to the second parameter in the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.string.remove?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">String.Remove</a> method. <code>IndexOf</code> is likely returning negative 1 when the method name is not found in your string. Since using remove within the lambda does not actually allow you to return a list with the prefix removed, you could consider simply using <code>String.Contains</code>. If that however is too broad and can possibly return false positives, you can update your current check to cater for when the method name is not found.  </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var labels = methodLabels\n    .Where(t =&gt; t.Name.Remove(0, Math.Max(0,t.Name.IndexOf(d.Name))) == d.Name)\n    .ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1695, "user_id": 2355482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZzgtK.png?s=128&g=1", "display_name": "DoronG", "link": "https://stackoverflow.com/users/2355482/dorong"}, "is_accepted": false, "score": 0, "last_activity_date": 1554922977, "creation_date": 1554922977, "answer_id": 55619642, "question_id": 55618938, "link": "https://stackoverflow.com/questions/55618938/why-does-tolist-throw-an-exception-when-only-1-record-is-returned/55619642#55619642", "title": "Why Does ToList throw an Exception when only 1 record is returned", "body": "<p>My guess is that the error is coming from the <code>Remove</code> method call, because the <code>IndexOf</code> method returns a <code>-1</code> for one of the items in <code>methodLabels</code> as its <code>Name</code> does <strong>not</strong> contain the value in <code>d.Name</code>.</p>\n\n<p>When you do <code>FirstOrDefault</code>, as mentioned by <a href=\"https://stackoverflow.com/users/2141621/camilo-terevinto\">Camilo Terevinto</a>, it will return the first one that matches your <code>Where</code> predicate and will stop processing the next items in <code>methodLabels</code>; but when you do <code>ToList</code> it will go over <strong>all</strong> of the items in <code>methodLabels</code> and one of the items will cause the error to be thrown.</p>\n\n<p>See the documentation for <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.string.remove?view=netframework-4.7.2#System_String_Remove_System_Int32_System_Int32_\" rel=\"nofollow noreferrer\"><code>String.Remove</code></a></p>\n\n<blockquote>\n  <p><strong>Exceptions</strong>\n  <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.argumentoutofrangeexception?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">ArgumentOutOfRangeException</a> Either <code>startIndex</code> or <code>count</code> is less than zero.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "is_accepted": false, "score": 0, "last_activity_date": 1554924469, "creation_date": 1554924469, "answer_id": 55619989, "question_id": 55618938, "link": "https://stackoverflow.com/questions/55618938/why-does-tolist-throw-an-exception-when-only-1-record-is-returned/55619989#55619989", "title": "Why Does ToList throw an Exception when only 1 record is returned", "body": "<p>Does this work?</p>\n\n<pre><code>var labels = methodLabels\n    .Where(t =&gt; t.Name.Remove(0, Math.Max(0, t.Name.IndexOf(d.Name))) == d.Name)\n    .ToList();\n</code></pre>\n"}], "owner": {"reputation": 4124, "user_id": 5095128, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/B20V1.jpg?s=128&g=1", "display_name": "Rani Radcliff", "link": "https://stackoverflow.com/users/5095128/rani-radcliff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 55619580, "answer_count": 3, "score": 1, "last_activity_date": 1554924469, "creation_date": 1554920122, "last_edit_date": 1554920413, "question_id": 55618938, "link": "https://stackoverflow.com/questions/55618938/why-does-tolist-throw-an-exception-when-only-1-record-is-returned", "title": "Why Does ToList throw an Exception when only 1 record is returned", "body": "<p>I have a lambda expression that finds all of the labels on a form that contain the name of a particular method (labels are created dynamically and contain a prefix and the method name).  The expression removes the prefix and evaluates whether what is left matches the method name.  All was working fine until I ran across a method that returned only one label.   When it hits this line:</p>\n\n<pre><code>var labels = methodLabels\n    .Where(t =&gt; t.Name.Remove(0, t.Name.IndexOf(d.Name)) == d.Name)\n    .ToList();\n</code></pre>\n\n<p>It throws an exception \"Count cannot be less than zero.\nParameter name: count\".  However, if I change ToList() to FirstOrDefault(), it works just fine and returns the correct label.  This is in a foreach loop:</p>\n\n<pre><code>foreach (var d in remainingMethods)\n{\n    var labels = methodLabels.Where(t =&gt; t.Name.Remove(0, t.Name.IndexOf(d.Name)) == d.Name).ToList();\n\n    foreach (var l in labels)\n</code></pre>\n\n<p>I'm not finding anything online that addresses my issue.  If anyone knows why this is occurring or can help with a work around, I would appreciate it.  I cannot just change it to FirstOrDefault() in case the query does return more than one record.  Any assistance is greatly appreciated.</p>\n"}, {"tags": ["c#", "iis", "active-directory"], "comments": [{"owner": {"reputation": 421, "user_id": 5387119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c21dedd5c02f20dff384544f6c53f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Rich-Lang", "link": "https://stackoverflow.com/users/5387119/rich-lang"}, "edited": false, "score": 0, "creation_date": 1554922198, "post_id": 55618934, "comment_id": 97932038, "body": "Do you have details about the specific exception that is thrown?   I did notice that you&#39;re using &quot;documentFolder&quot; in one example and &quot;securityFolder&quot; in the other.  Are you certain is a permission Access Denied issue?"}, {"owner": {"reputation": 421, "user_id": 5387119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c21dedd5c02f20dff384544f6c53f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Rich-Lang", "link": "https://stackoverflow.com/users/5387119/rich-lang"}, "edited": false, "score": 1, "creation_date": 1554922793, "post_id": 55618934, "comment_id": 97932314, "body": "Application_Start won&#39;t run under the context of a user.  Impersonation will cause requests to run under the logged in user, but not Application_Start"}, {"owner": {"reputation": 1025, "user_id": 892327, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/514c202d037a37225c9fc8e4c0829f0d?s=128&d=identicon&r=PG", "display_name": "Nielsvh", "link": "https://stackoverflow.com/users/892327/nielsvh"}, "reply_to_user": {"reputation": 421, "user_id": 5387119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c21dedd5c02f20dff384544f6c53f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Rich-Lang", "link": "https://stackoverflow.com/users/5387119/rich-lang"}, "edited": false, "score": 0, "creation_date": 1554924410, "post_id": 55618934, "comment_id": 97932993, "body": "@Rich-Lang, I added the exception messages inline. &quot;securityFolder&quot; is a subfolder of &quot;documentFolder&quot;. I do have access to files in &quot;documentFolder&quot;, but not &quot;securityFolder&quot;."}, {"owner": {"reputation": 421, "user_id": 5387119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c21dedd5c02f20dff384544f6c53f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Rich-Lang", "link": "https://stackoverflow.com/users/5387119/rich-lang"}, "edited": false, "score": 0, "creation_date": 1554924876, "post_id": 55618934, "comment_id": 97933187, "body": "I just reread your post and you say: &quot;At a later point...&quot;  Is that to say that is also performed in your Application_Start?   If so, that&#39;s 100% your problem."}, {"owner": {"reputation": 1025, "user_id": 892327, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/514c202d037a37225c9fc8e4c0829f0d?s=128&d=identicon&r=PG", "display_name": "Nielsvh", "link": "https://stackoverflow.com/users/892327/nielsvh"}, "reply_to_user": {"reputation": 421, "user_id": 5387119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c21dedd5c02f20dff384544f6c53f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Rich-Lang", "link": "https://stackoverflow.com/users/5387119/rich-lang"}, "edited": false, "score": 0, "creation_date": 1554925215, "post_id": 55618934, "comment_id": 97933343, "body": "@Rich-Lang, no, the &quot;at a later point&quot; is from a click event handler. Code updated again."}, {"owner": {"reputation": 421, "user_id": 5387119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c21dedd5c02f20dff384544f6c53f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Rich-Lang", "link": "https://stackoverflow.com/users/5387119/rich-lang"}, "edited": false, "score": 0, "creation_date": 1554925572, "post_id": 55618934, "comment_id": 97933526, "body": "The error message you are showing is what I get when I disable Impersonation.   I would recommend getting a ProcMon trace (<a href=\"https://docs.microsoft.com/en-us/sysinternals/downloads/procmon\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/sysinternals/downloads/procmon</a>) and examine the entries where W3WP.exe tries to connect to your folder.  I&#39;d expect you&#39;d get an Access Denied, but take a look at the Properties to see if it is impersonating a user or not."}, {"owner": {"reputation": 1025, "user_id": 892327, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/514c202d037a37225c9fc8e4c0829f0d?s=128&d=identicon&r=PG", "display_name": "Nielsvh", "link": "https://stackoverflow.com/users/892327/nielsvh"}, "reply_to_user": {"reputation": 421, "user_id": 5387119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c21dedd5c02f20dff384544f6c53f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Rich-Lang", "link": "https://stackoverflow.com/users/5387119/rich-lang"}, "edited": false, "score": 0, "creation_date": 1554937923, "post_id": 55618934, "comment_id": 97937977, "body": "@Rich-Lang, updated question with procmon results. Is there a chance that GetAccessControl would fail for a directory I actually have access to?"}, {"owner": {"reputation": 421, "user_id": 5387119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c21dedd5c02f20dff384544f6c53f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Rich-Lang", "link": "https://stackoverflow.com/users/5387119/rich-lang"}, "edited": false, "score": 0, "creation_date": 1554960229, "post_id": 55618934, "comment_id": 97942618, "body": "Give a thorough read thru <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.directory.getaccesscontrol?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a> and see if anything stands out.   I notice the ProcMon entry is looking for ReadAttributes Access.  From the above link:   &gt; In NTFS environments, ReadAttributes and ReadExtendedAttributes are granted to the user if the user has ListDirectory rights on the parent folder. To deny ReadAttributes and ReadExtendedAttributes, deny ListDirectory on the parent directory."}], "answers": [{"tags": [], "owner": {"reputation": 1025, "user_id": 892327, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/514c202d037a37225c9fc8e4c0829f0d?s=128&d=identicon&r=PG", "display_name": "Nielsvh", "link": "https://stackoverflow.com/users/892327/nielsvh"}, "is_accepted": true, "score": 0, "last_activity_date": 1555101775, "creation_date": 1555101775, "answer_id": 55659162, "question_id": 55618934, "link": "https://stackoverflow.com/questions/55618934/use-ntfs-security-in-iis-for-given-user/55659162#55659162", "title": "Use NTFS security in IIS for given user", "body": "<p>The issue was that I was using the threadpool in order to do some background work (indexing files). It appears, <a href=\"https://stackoverflow.com/a/27312537/892327\">according to this SO answer</a>, that the threadpool doesn't carry over the credentials that were used to create it. I should have checked within the actual thread to see what the context was...</p>\n"}], "owner": {"reputation": 1025, "user_id": 892327, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/514c202d037a37225c9fc8e4c0829f0d?s=128&d=identicon&r=PG", "display_name": "Nielsvh", "link": "https://stackoverflow.com/users/892327/nielsvh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 55659162, "answer_count": 1, "score": 0, "last_activity_date": 1555101775, "creation_date": 1554920106, "last_edit_date": 1592644375, "question_id": 55618934, "link": "https://stackoverflow.com/questions/55618934/use-ntfs-security-in-iis-for-given-user", "title": "Use NTFS security in IIS for given user", "body": "<p>I have a website that is attempting to retrieve documents from a folder that's restricted to specific AD groups/users. Given a user that's authenticated using Windows Authentication, I wish to attempt to check if they have access to a specific location and display/hide documents as needed. I was under the impression that using Windows Authentication and ASP.NET Impersonation would use the current user's credentials when executing a request, rather than the Application Pool's credentials, but this doesn't seem to be the case because I'm an admin capable of opening the restricted folders in Windows Explorer, but I can't read them from my application.</p>\n<p>Is there any way to use the current requesting user's credentials to access files on the local filesystem?</p>\n<p>In my web.config:</p>\n<pre><code>&lt;appSettings&gt;\n    &lt;add key=&quot;documentFolder&quot; value=&quot;C:\\Users\\auser\\source\\repos\\myapp\\myapp\\docs\\folder1,C:\\Users\\auser\\source\\repos\\myapp\\myapp\\docs\\folder2,C:\\Users\\auser\\source\\repos\\myapp\\myapp\\docs\\secured&quot; /&gt;\n    &lt;add key=&quot;securityFolder&quot; value=&quot;C:\\Users\\auser\\source\\repos\\myapp\\myapp\\docs\\secured&quot;/&gt;\n&lt;/appSettings&gt;\n&lt;system.web&gt;\n  &lt;authentication mode=&quot;Windows&quot; /&gt;\n  &lt;identity impersonate=&quot;true&quot;/&gt;\n  &lt;authorization&gt;\n    &lt;deny users=&quot;?&quot; /&gt;\n  &lt;/authorization&gt;\n&lt;/system.web&gt;\n</code></pre>\n<p>I'm attempting to access files in two places. First, I index them (for now this runs from Application_Start):</p>\n<pre><code>var dirs = ConfigurationManager.AppSettings[&quot;documentFolder&quot;].ToString().Split(',');\n\nforeach (var dir in dirs)\n{\n    foreach (var file in Directory.GetFiles(dir, &quot;*.pdf&quot;, SearchOption.TopDirectoryOnly))\n    {\n        try\n        {\n            FileStream fs = new FileStream(file, FileMode.Open, FileAccess.Read); // &lt;-- Fails with &quot;Access to the path 'C:\\Users\\auser\\source\\repos\\myapp\\myapp\\docs\\secured' is denied.&quot;\n        }\n        catch (Exception ex)\n        {\n            logger.Error(&quot;Failed to read file.&quot;, ex);\n        }\n    }\n}\n</code></pre>\n<p>At a later point I attempt to check if the user has access:</p>\n<pre><code>protected void Button1_Click(object sender, EventArgs e)\n{\n    bool canSeeSecurityDocuments;\n    try\n    {\n        System.Security.AccessControl.DirectorySecurity ds = Directory.GetAccessControl(ConfigurationManager.AppSettings[&quot;securityFolder&quot;].ToString()); &lt;-- Fails with &quot;Attempted to perform an unauthorized operation.&quot;\n        canSeeSecurityDocuments = true;\n    }\n    catch (Exception ex)\n    {\n        canSeeSecurityDocuments = false;\n    }\n}\n</code></pre>\n<p>From procmon:</p>\n<blockquote>\n<p>Desired Access:    Read Attributes, Read Control</p>\n<p>Disposition:   Open</p>\n<p>Options:   Open Reparse Point</p>\n<p>Attributes:    n/a</p>\n<p>ShareMode: Read, Write, Delete</p>\n<p>AllocationSize:    n/a</p>\n<p>Impersonating: mydomain\\myuserid &lt;- redacted, but correct.</p>\n</blockquote>\n<p>Based off research about integrated vs classic pipelines, I moved the <code>GetFiles</code> call to a different location and wrapped it in a <code>WindowsImpersonationContext</code> to see if that'd force impersonation, which it didn't. (From <a href=\"https://stackoverflow.com/a/22692556/892327\">this SO answer</a>):</p>\n<pre><code>var current = System.Security.Principal.WindowsIdentity.GetCurrent();\nlogger.Debug(current.Name); &lt;-- This is my identity\n\nWindowsIdentity clientId = (WindowsIdentity)User.Identity;\n\nusing (WindowsImpersonationContext wic = clientId.Impersonate())\n{\n    current = System.Security.Principal.WindowsIdentity.GetCurrent();\n    logger.Debug(current.Name); &lt;-- This is still my identity\n\n    // call to GetFiles, as above. Still fails.\n}\n\ncurrent = System.Security.Principal.WindowsIdentity.GetCurrent();\nlogger.Debug(current.Name); &lt;-- still me. Nothing seems to change.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2ZVZy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ZVZy.jpg\" alt=\"Procmon Event tab\" /></a>\n<a href=\"https://i.stack.imgur.com/X0NpU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X0NpU.jpg\" alt=\"Procmon Process tab\" /></a></p>\n"}, {"tags": ["c#", "decompiling", "compile-time-constant", "ilspy"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 3, "creation_date": 1554921064, "post_id": 55618930, "comment_id": 97931494, "body": "Possibly ILSpy just knows the value of common constants like <code>Math.PI</code> when it sees them."}], "answers": [{"comments": [{"owner": {"reputation": 247, "user_id": 5890294, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Xcy0u.png?s=128&g=1", "display_name": "AstroRP", "link": "https://stackoverflow.com/users/5890294/astrorp"}, "edited": false, "score": 0, "creation_date": 1554921140, "post_id": 55619109, "comment_id": 97931532, "body": "<code>Math.PI</code> is definitely a const, it&#39;s declaration: <code>public const double PI = 3.1415926535897931;</code>"}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "reply_to_user": {"reputation": 247, "user_id": 5890294, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Xcy0u.png?s=128&g=1", "display_name": "AstroRP", "link": "https://stackoverflow.com/users/5890294/astrorp"}, "edited": false, "score": 0, "creation_date": 1554921186, "post_id": 55619109, "comment_id": 97931547, "body": "I was just going by the MSDN documentation from <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.math.pi?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>, which lists it as a field."}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "reply_to_user": {"reputation": 247, "user_id": 5890294, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Xcy0u.png?s=128&g=1", "display_name": "AstroRP", "link": "https://stackoverflow.com/users/5890294/astrorp"}, "edited": false, "score": 0, "creation_date": 1554921219, "post_id": 55619109, "comment_id": 97931559, "body": "The value you give is also different from the value in the linked documentation."}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "reply_to_user": {"reputation": 247, "user_id": 5890294, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Xcy0u.png?s=128&g=1", "display_name": "AstroRP", "link": "https://stackoverflow.com/users/5890294/astrorp"}, "edited": false, "score": 0, "creation_date": 1554921397, "post_id": 55619109, "comment_id": 97931647, "body": "According to the <a href=\"https://referencesource.microsoft.com/#mscorlib/system/math.cs,fa5fd1f4e5f6f911,references\" rel=\"nofollow noreferrer\">C# Reference Source</a>, you are correct. it is declared as a constant.  I will adjust my answer."}], "tags": [], "owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "is_accepted": false, "score": 0, "last_activity_date": 1554922604, "last_edit_date": 1554922604, "creation_date": 1554920830, "answer_id": 55619109, "question_id": 55618930, "link": "https://stackoverflow.com/questions/55618930/how-is-a-decompiler-able-to-recognize-a-compiled-constant/55619109#55619109", "title": "How is a decompiler able to recognize a compiled constant?", "body": "<p>A quick test in LINQPad shows some differences in the IL code generated (PI constant value copied from <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.math.pi?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>Source:</p>\n\n<pre><code>void Main()\n{\n    double a = Math.PI;\n    double b = 3.14159265358979;\n}\n</code></pre>\n\n<hr>\n\n<p>IL:</p>\n\n<pre><code>IL_0000:  nop         \nIL_0001:  ldc.r8      18 2D 44 54 FB 21 09 40 \nIL_000A:  stloc.0     // a\nIL_000B:  ldc.r8      11 2D 44 54 FB 21 09 40 \nIL_0014:  stloc.1     // b\nIL_0015:  ret   \n</code></pre>\n\n<p>There does seem to be a subtle difference in the IL code generated between the constant and the literal values, but I'm not sure exactly what it means yet.</p>\n\n<hr>\n\n<p>The above values from the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.math.pi?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">MSDN documentation</a> seem to contradict information from the <a href=\"https://referencesource.microsoft.com/#mscorlib/system/math.cs,fa5fd1f4e5f6f911,references\" rel=\"nofollow noreferrer\">.NET Reference Source</a> (See comments).  With adjusted code from the source, the IL is identical.</p>\n\n<p>Source:</p>\n\n<pre><code>void Main()\n{\n    var a = Math.PI;\n    var b = 3.14159265358979323846;\n}\n</code></pre>\n\n<p>IL:</p>\n\n<pre><code>IL_0000:  nop         \nIL_0001:  ldc.r8      18 2D 44 54 FB 21 09 40 \nIL_000A:  stloc.0     // a\nIL_000B:  ldc.r8      18 2D 44 54 FB 21 09 40 \nIL_0014:  stloc.1     // b\nIL_0015:  ret   \n</code></pre>\n\n<hr>\n\n<p>As an aside, it looks like there is an <a href=\"https://github.com/dotnet/dotnet-api-docs/issues/2043\" rel=\"nofollow noreferrer\">open issue</a> to address the documentation / source code inconsistency.</p>\n"}, {"comments": [{"owner": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1554921987, "post_id": 55619234, "comment_id": 97931944, "body": "How then the ILSpy is able to recognize not well known constants ?"}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1554922232, "post_id": 55619234, "comment_id": 97932061, "body": "Do you have an example of  a non-well-known constant that it recognizes?"}, {"owner": {"reputation": 850, "user_id": 2992984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wTzZo.png?s=128&g=1", "display_name": "Ghost4Man", "link": "https://stackoverflow.com/users/2992984/ghost4man"}, "reply_to_user": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1554922293, "post_id": 55619234, "comment_id": 97932099, "body": "@DmytroMukalov It can probably recognize non-well-known constants from the debug symbols (PDB files), but I haven&#39;t tested this."}, {"owner": {"reputation": 247, "user_id": 5890294, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Xcy0u.png?s=128&g=1", "display_name": "AstroRP", "link": "https://stackoverflow.com/users/5890294/astrorp"}, "reply_to_user": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1554922461, "post_id": 55619234, "comment_id": 97932168, "body": "@DmytroMukalov I just tested, and it didn&#39;t recognize <code>Math.PI * 254.543</code>, even with &#39;use debug symbols&#39; on"}], "tags": [], "owner": {"reputation": 850, "user_id": 2992984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wTzZo.png?s=128&g=1", "display_name": "Ghost4Man", "link": "https://stackoverflow.com/users/2992984/ghost4man"}, "is_accepted": true, "score": 6, "last_activity_date": 1554921279, "creation_date": 1554921279, "answer_id": 55619234, "question_id": 55618930, "link": "https://stackoverflow.com/questions/55618930/how-is-a-decompiler-able-to-recognize-a-compiled-constant/55619234#55619234", "title": "How is a decompiler able to recognize a compiled constant?", "body": "<p>As you can see in this <a href=\"https://github.com/icsharpcode/ILSpy/issues/517\" rel=\"noreferrer\">ILSpy issue</a> and the corresponding <a href=\"https://github.com/icsharpcode/ILSpy/pull/1350/files/9e71e7fe09ba8a60a019f72a054bcc9cbd8cecd5\" rel=\"noreferrer\">pull request</a>, this was specifically implemented (hardcoded) for well-known values such as <code>Math.PI</code>.</p>\n\n<p>From the GitHub issue:</p>\n\n<blockquote>\n  <p>I suppose to calculate pi coefficient by following way: \n  <code>c = Math.PI / constant</code>. If we getting \"good\" value (equal exactly to 1.0, 2.0, 0.5, 1/180 and so on), we simply replacing it with symbolic expression (Math.PI, Math.PI * 2, Math.PI / 2, Math.PI / 180 and so on).</p>\n</blockquote>\n"}], "owner": {"reputation": 247, "user_id": 5890294, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Xcy0u.png?s=128&g=1", "display_name": "AstroRP", "link": "https://stackoverflow.com/users/5890294/astrorp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 55619234, "answer_count": 2, "score": 3, "last_activity_date": 1555360642, "creation_date": 1554920080, "last_edit_date": 1555360642, "question_id": 55618930, "link": "https://stackoverflow.com/questions/55618930/how-is-a-decompiler-able-to-recognize-a-compiled-constant", "title": "How is a decompiler able to recognize a compiled constant?", "body": "<p>I am using ILSpy to decompile the assemblies of .Net and look into the code. As I was browsing the code of <code>System.Windows.Vector.AngleBetween(Vector, Vector)</code> in <code>WindowsBase.dll</code>, I stumbled across something bizarre.</p>\n\n<p>This is the full code of the function:</p>\n\n<pre><code>public static double AngleBetween(Vector vector1, Vector vector2)\n{\n    double y = vector1._x * vector2._y - vector2._x * vector1._y;\n    double x = vector1._x * vector2._x + vector1._y * vector2._y;\n    return Math.Atan2(y, x) * (180.0 / Math.PI);\n}\n</code></pre>\n\n<p>Apparently ILSpy could recognize <code>Math.PI</code>, which is a constant. </p>\n\n<p>This is what <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/constants\" rel=\"nofollow noreferrer\">Microsoft Docs</a> says about constants in C#:</p>\n\n<blockquote>\n  <p>In fact, when the compiler encounters a constant identifier in C# source code, it substitutes the literal value directly into the intermediate language (IL) code that it produces.</p>\n</blockquote>\n\n<p>Based on this, what ILSpy did seems impossible.</p>\n\n<p>Note: this behavior is present even if the \"Use variable names from debug symbols, if available\" and \"Show info from debug symbols, if available\"\n options are unchecked in the settings.</p>\n"}, {"tags": ["c#", "android", "xamarin"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 2758739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a579c2e31ee0a6e913c1235264360e0e?s=128&d=identicon&r=PG&f=1", "display_name": "a.b", "link": "https://stackoverflow.com/users/2758739/a-b"}, "edited": false, "score": 0, "creation_date": 1554982180, "post_id": 55626597, "comment_id": 97954030, "body": "not an animated gif just a gif based format with one single frame/image"}, {"owner": {"reputation": 7502, "user_id": 6717445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZcOO7.jpg?s=128&g=1", "display_name": "Cherry Bu - MSFT", "link": "https://stackoverflow.com/users/6717445/cherry-bu-msft"}, "reply_to_user": {"reputation": 27, "user_id": 2758739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a579c2e31ee0a6e913c1235264360e0e?s=128&d=identicon&r=PG&f=1", "display_name": "a.b", "link": "https://stackoverflow.com/users/2758739/a-b"}, "edited": false, "score": 0, "creation_date": 1556766312, "post_id": 55626597, "comment_id": 98543010, "body": "I think it is impossible to create animation from single image."}, {"owner": {"reputation": 27, "user_id": 2758739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a579c2e31ee0a6e913c1235264360e0e?s=128&d=identicon&r=PG&f=1", "display_name": "a.b", "link": "https://stackoverflow.com/users/2758739/a-b"}, "edited": false, "score": 0, "creation_date": 1556881030, "post_id": 55626597, "comment_id": 98587459, "body": "ok. assume I have several bitmap images. how to convert them to gif? note that the System.Drawing namespace can not be used in xamarin android."}], "tags": [], "owner": {"reputation": 7502, "user_id": 6717445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZcOO7.jpg?s=128&g=1", "display_name": "Cherry Bu - MSFT", "link": "https://stackoverflow.com/users/6717445/cherry-bu-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1554966517, "creation_date": 1554966517, "answer_id": 55626597, "question_id": 55618927, "link": "https://stackoverflow.com/questions/55618927/how-to-convert-a-bitmap-image-to-a-gif-in-xamarin-android/55626597#55626597", "title": "How to convert a bitmap image to a gif in xamarin android?", "body": "<p>As far as I know, you can animate multiple images, you can not create animation from single image.</p>\n\n<p>For multiple images, you want to make gif, you can take a look the following thread:\n<a href=\"https://stackoverflow.com/questions/43757632/how-to-make-simple-image-to-animated-image-like-gif\">How to make simple image to animated image like GIF?</a></p>\n"}], "owner": {"reputation": 27, "user_id": 2758739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a579c2e31ee0a6e913c1235264360e0e?s=128&d=identicon&r=PG&f=1", "display_name": "a.b", "link": "https://stackoverflow.com/users/2758739/a-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 216, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554966517, "creation_date": 1554920072, "question_id": 55618927, "link": "https://stackoverflow.com/questions/55618927/how-to-convert-a-bitmap-image-to-a-gif-in-xamarin-android", "title": "How to convert a bitmap image to a gif in xamarin android?", "body": "<p>I want to convert an bitmap image to gif format in xamarin android. can anybody help?</p>\n"}, {"tags": ["c#", "linq", "asp.net-core"], "comments": [{"owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1554920141, "post_id": 55618912, "comment_id": 97931076, "body": "<code>_ctx.Rows.Select(x =&gt; x.Id).Max()</code>  line is causing the error. There is no rows."}, {"owner": {"reputation": 77, "user_id": 11192945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cf7c71dd0dc8edae6904a372da89ac1?s=128&d=identicon&r=PG&f=1", "display_name": "gigiLaTrottola", "link": "https://stackoverflow.com/users/11192945/gigilatrottola"}, "reply_to_user": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1554920370, "post_id": 55618912, "comment_id": 97931180, "body": "what i shoud do to insert an Id ? in my composite key i cant add autoincrement"}, {"owner": {"reputation": 171, "user_id": 6646992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d075bd24d5d74681cfbe38bf0ded232?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/6646992/sergey"}, "edited": false, "score": 0, "creation_date": 1554920432, "post_id": 55618912, "comment_id": 97931215, "body": "you can check if there are some rows before calling Max() : try something like _ctx.Rows.Any() ? _ctx.Rows.Select(x =&gt; x.Id).Max() + 1 : 1"}, {"owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1554920474, "post_id": 55618912, "comment_id": 97931237, "body": "<code>ctx.Rows.Select(x =&gt; x.Id).DefaultIfEmpty().Max() + 1,</code>-Please try with this and let me know"}, {"owner": {"reputation": 77, "user_id": 11192945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cf7c71dd0dc8edae6904a372da89ac1?s=128&d=identicon&r=PG&f=1", "display_name": "gigiLaTrottola", "link": "https://stackoverflow.com/users/11192945/gigilatrottola"}, "edited": false, "score": 1, "creation_date": 1554920730, "post_id": 55618912, "comment_id": 97931339, "body": "yes seems correct! tks a lot ! bye"}, {"owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1554921103, "post_id": 55618912, "comment_id": 97931514, "body": "@gigiLaTrottola Give a upvote too please! I deserve it! :)"}], "answers": [{"tags": [], "owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "is_accepted": true, "score": 0, "last_activity_date": 1554920833, "creation_date": 1554920833, "answer_id": 55619111, "question_id": 55618912, "link": "https://stackoverflow.com/questions/55618912/sequence-contains-no-elements-on-http-post/55619111#55619111", "title": "Sequence contains no elements on http post", "body": "<p><code>_ctx.Rows.Select(x =&gt; x.Id).Max()</code> line is causing the error. So replace this line with the following:</p>\n\n<pre><code>ctx.Rows.Select(x =&gt; x.Id).DefaultIfEmpty().Max() + 1\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 11192945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cf7c71dd0dc8edae6904a372da89ac1?s=128&d=identicon&r=PG&f=1", "display_name": "gigiLaTrottola", "link": "https://stackoverflow.com/users/11192945/gigilatrottola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 55619111, "answer_count": 1, "score": 1, "last_activity_date": 1554920833, "creation_date": 1554920017, "last_edit_date": 1554920159, "question_id": 55618912, "link": "https://stackoverflow.com/questions/55618912/sequence-contains-no-elements-on-http-post", "title": "Sequence contains no elements on http post", "body": "<p>In an Httpost in asp.net core i get \n\"sequence contains no elements\"\nThe post should save on database Order and OrderItems</p>\n\n<p>The strange is that in debug with break point i see the sequence has elements</p>\n\n<pre><code>var order = new Ordcli\n        {\n            Id= guid,\n            year = model.Year,\n            OrderDate = model.Date,\n            ...\n            OrderItems = model.OrderItems.Select(i =&gt; new Rows\n            {\n                Id = _ctx.Rows.Select(x =&gt; x.Id).Max() + 1,\n                ProductCode = i.Code,\n                Qty = i.Qty\n                ...\n            }).ToList()\n        };\n</code></pre>\n\n<p>Again if i put the mouse over the OrderItems i see the collection</p>\n"}, {"tags": ["c#", "xaml", "uwp"], "comments": [{"owner": {"reputation": 501, "user_id": 2707152, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/FSNw4.jpg?s=128&g=1", "display_name": "Gail Foad", "link": "https://stackoverflow.com/users/2707152/gail-foad"}, "edited": false, "score": 0, "creation_date": 1554920488, "post_id": 55618819, "comment_id": 97931244, "body": "This might help <a href=\"https://stackoverflow.com/questions/36623733/c-sharp-uwp-how-to-get-the-value-of-changed-comboboxitem\" title=\"c sharp uwp how to get the value of changed comboboxitem\">stackoverflow.com/questions/36623733/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 25248, "user_id": 7254781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsIFV.jpg?s=128&g=1", "display_name": "Nico Zhu - MSFT", "link": "https://stackoverflow.com/users/7254781/nico-zhu-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1554952524, "creation_date": 1554952524, "answer_id": 55624154, "question_id": 55618819, "link": "https://stackoverflow.com/questions/55618819/how-to-link-mediaplayerelement-and-combobox/55624154#55624154", "title": "How to link MediaPlayerElement and ComboBox", "body": "<p>For your requirement, you could create <code>MediaItem</code> model class to save the picked file, And pass the <code>MediaItem</code> collection to comboBox data source.</p>\n\n<p><strong>MediaItem</strong></p>\n\n<pre><code>public class MediaItem\n{\n    public string FileName { get; set; }\n    public StorageFile File { get; set; }\n}\n</code></pre>\n\n<p><strong>Xaml</strong></p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;Button\n        x:Name=\"loadbtn\"\n        Width=\"658\"\n        Height=\"87\"\n        Margin=\"92,186,0,0\"\n        HorizontalAlignment=\"Left\"\n        VerticalAlignment=\"Top\"\n        Click=\"Loadbtn_Click\"\n        Content=\"Button\"\n        /&gt;\n    &lt;ComboBox\n        x:Name=\"comboBox\"\n        Width=\"658\"\n        Height=\"129\"\n        Margin=\"92,324,0,0\"\n        HorizontalAlignment=\"Left\"\n        VerticalAlignment=\"Top\"\n        DisplayMemberPath=\"FileName\"\n        Header=\"Media Library\"\n        IsDropDownOpen=\"True\"\n        IsTextSearchEnabled=\"True\"  \n        SelectionChanged=\"ComboBox_SelectionChanged\"\n        /&gt;\n    &lt;MediaPlayerElement\n        x:Name=\"mediaPlayerElement\"\n        Width=\"658\"\n        Height=\"129\"\n        Margin=\"92,473,0,0\"\n        HorizontalAlignment=\"Left\"\n        VerticalAlignment=\"Top\"\n        AreTransportControlsEnabled=\"True\"\n        AutoPlay=\"True\"\n        FocusVisualPrimaryBrush=\"White\"\n        FocusVisualSecondaryBrush=\"White\"\n        /&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p><strong>Code Behind</strong></p>\n\n<pre><code>private async void Loadbtn_Click(object sender, RoutedEventArgs e)\n{\n    var picker = new Windows.Storage.Pickers.FileOpenPicker();\n    picker.ViewMode = Windows.Storage.Pickers.PickerViewMode.Thumbnail;\n    picker.SuggestedStartLocation = Windows.Storage.Pickers.PickerLocationId.MusicLibrary;\n    picker.FileTypeFilter.Add(\".mp3\");\n    picker.FileTypeFilter.Add(\".wav\");\n    picker.FileTypeFilter.Add(\".mp4\");\n\n    var files = await picker.PickMultipleFilesAsync();\n    if (files.Count &gt; 0)\n    {\n\n        foreach (StorageFile file in files)\n        {\n            var item = new MediaItem { File = file, FileName = file.Name };\n            comboBox.Items.Add(item);\n        }\n\n    }\n    else\n    {\n        throw new Exception(\"Operation cancelled\");\n    }\n}\n\nprivate void ComboBox_SelectionChanged(object sender, SelectionChangedEventArgs e)\n{\n    var mediaitem = comboBox.SelectedItem as MediaItem;\n    mediaPlayerElement.MediaPlayer.SetFileSource(mediaitem.File);\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11342059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff1cb11d9045015b0e78f00244d80eb?s=128&d=identicon&r=PG&f=1", "display_name": "Donny boy", "link": "https://stackoverflow.com/users/11342059/donny-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 55624154, "answer_count": 1, "score": 1, "last_activity_date": 1554952524, "creation_date": 1554919652, "last_edit_date": 1554924263, "question_id": 55618819, "link": "https://stackoverflow.com/questions/55618819/how-to-link-mediaplayerelement-and-combobox", "title": "How to link MediaPlayerElement and ComboBox", "body": "<p>I'm busy with a project where the user can import media files into a ComboBox and select a media file to play. I can select the item, but it does not load it into the MediaPlayerElement to Play. I'm sure it has to do with my ComboBox \"SelectionChanged\", but I do not know how to implement it.</p>\n\n<p><strong>XAML CODE</strong></p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;Button x:Name=\"loadbtn\" Content=\"Button\" HorizontalAlignment=\"Left\" Margin=\"92,186,0,0\" VerticalAlignment=\"Top\" Height=\"87\" Width=\"658\" Click=\"Loadbtn_Click\"/&gt;\n    &lt;ComboBox IsTextSearchEnabled=\"True\" x:Name=\"comboBox\" Header=\"Media Library\" Height=\"129\" Width=\"658\" HorizontalAlignment=\"Left\" Margin=\"92,324,0,0\" VerticalAlignment=\"Top\" IsDropDownOpen=\"True\" SelectionChanged=\"ComboBox_SelectionChanged\"/&gt;\n    &lt;MediaPlayerElement x:Name=\"mediaPlayerElement\"  Width=\"658\" Height=\"129\" AutoPlay=\"True\" AreTransportControlsEnabled=\"True\" Margin=\"92,473,0,0\" FocusVisualSecondaryBrush=\"White\" FocusVisualPrimaryBrush=\"White\" VerticalAlignment=\"Top\" HorizontalAlignment=\"Left\"/&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p><strong>XAML.CS CODE</strong></p>\n\n<pre><code>public sealed partial class MainPage : Page\n{\n    MediaPlayerElement mediaP = new MediaPlayerElement();\n\n    public MainPage()\n    {\n        this.InitializeComponent();\n    }\n\n    public List&lt;string&gt; filePath = new List&lt;string&gt;();\n    public List&lt;string&gt; fileName = new List&lt;string&gt;();\n\n    public async void MpPlayer()\n    {\n        var picker = new Windows.Storage.Pickers.FileOpenPicker();\n        picker.ViewMode = Windows.Storage.Pickers.PickerViewMode.Thumbnail;\n        picker.SuggestedStartLocation = Windows.Storage.Pickers.PickerLocationId.MusicLibrary;\n        picker.FileTypeFilter.Add(\".mp3\");\n        picker.FileTypeFilter.Add(\".wav\");\n        picker.FileTypeFilter.Add(\".mp4\");\n\n        var files = await picker.PickMultipleFilesAsync();\n        if (files.Count &gt; 0)\n        {\n            StringBuilder output = new StringBuilder(\"Picked files:\\n\");\n\n            // Application now has read/write access to the picked file(s)\n            foreach (Windows.Storage.StorageFile file in files)\n            {\n                output.Append(file.Name + \"\\n\");\n            }\n            this.textBlock.Text = output.ToString();\n\n        }\n        else\n        {\n            this.textBlock.Text = \"Operation cancelled.\";\n        }\n\n        foreach (StorageFile file in files)\n        {\n            filePath.Add(file.Path.ToString());\n            fileName.Add(file.Name.ToString());\n            comboBox.Items.Add(file.Name.ToString());\n        }\n    }\n\n    private void Loadbtn_Click(object sender, RoutedEventArgs e)\n    {\n        MpPlayer();\n    }\n\n    private void ComboBox_SelectionChanged(object sender, SelectionChangedEventArgs e)\n    {\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "azure-active-directory", "single-sign-on", "saml-2.0"], "answers": [{"tags": [], "owner": {"reputation": 4491, "user_id": 6049604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1612c1d48cc981963c4fc034ff322e8d?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit Verma", "link": "https://stackoverflow.com/users/6049604/mohit-verma"}, "is_accepted": false, "score": 1, "last_activity_date": 1588154203, "last_edit_date": 1588154203, "creation_date": 1555933805, "answer_id": 55793957, "question_id": 55618815, "link": "https://stackoverflow.com/questions/55618815/azure-active-directory-sso-with-asp-net-webforms/55793957#55793957", "title": "Azure Active Directory SSO with Asp.net Webforms", "body": "<p>I recommend you to use ADFS 2.0 , it is very helpful in terms of claims mapping and works with AD.</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/magazine/ee335705.aspx\" rel=\"nofollow noreferrer\">http://msdn.microsoft.com/en-us/magazine/ee335705.aspx</a></p>\n\n<p>Your app would receive and parse the final claims returned to your web server after the authentication loop.</p>\n\n<p>Only problem is ADFS only works with AD, so it would work as an IdP if we assume all identity providers are AD-based. For other LDAPs you have to look for other solutions. </p>\n\n<p>Also for the SAML response, it's an XML input which you can read like below</p>\n\n<pre><code>XDocument responseDoc = XDocument.Load(@\"XMLFile1.xml\");\nXNamespace pr = \"urn:oasis:names:tc:SAML:1.0:protocol\";\nXNamespace ast = \"urn:oasis:names:tc:SAML:1.0:assertion\";\n\n\nXElement status = responseDoc.Element(pr + \"Response\").Element(pr + \"Status\");\nstring statusCode = (string)status.Element(pr + \"StatusCode\").Attribute(\"Value\");\nstring statusMessage = (string)status.Element(pr + \"StatusMessage\");\n\nConsole.WriteLine(\"Status code: {0}; message: {1}.\", statusCode, statusMessage);\n\nXElement attStatement = responseDoc.Element(pr + \"Response\").Element(ast + \"Assertion\").Element(ast + \"AttributeStatement\");\nstring surname = (string)attStatement.Elements(ast + \"Attribute\").First(a =&gt; a.Attribute(\"AttributeName\").Value == \"Surname\").Element(ast + \"AttributeValue\");\nstring firstname = (string)attStatement.Elements(ast + \"Attribute\").First(a =&gt; a.Attribute(\"AttributeName\").Value == \"FirstName\").Element(ast + \"AttributeValue\");\nstring nrn = (string)attStatement.Elements(ast + \"Attribute\").First(a =&gt; a.Attribute(\"AttributeName\").Value == \"NRN\").Element(ast + \"AttributeValue\");\n\nConsole.WriteLine(\"First name: {0}, last name: {1}; NRN: {2}\", firstname, surname, nrn);\n</code></pre>\n\n<p>Check this thread for further information</p>\n\n<p><a href=\"https://forums.asp.net/t/1490469.aspx?parse+SAML+XML+response\" rel=\"nofollow noreferrer\">https://forums.asp.net/t/1490469.aspx?parse+SAML+XML+response</a></p>\n\n<p>Hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 450, "user_id": 1341640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc53acf2b43ddee6c41209bca7b396fb?s=128&d=identicon&r=PG", "display_name": "Sergey Khutornoy", "link": "https://stackoverflow.com/users/1341640/sergey-khutornoy"}, "is_accepted": false, "score": 0, "last_activity_date": 1557532661, "creation_date": 1557532661, "answer_id": 56086121, "question_id": 55618815, "link": "https://stackoverflow.com/questions/55618815/azure-active-directory-sso-with-asp-net-webforms/56086121#56086121", "title": "Azure Active Directory SSO with Asp.net Webforms", "body": "<p>You can use <a href=\"https://msdn.microsoft.com/en-us/library/ee748484.aspx\" rel=\"nofollow noreferrer\">Windows Identity Foundation 3.5</a> that adds support of <a href=\"https://docs.microsoft.com/en-us/azure/active-directory/manage-apps/what-is-single-sign-on\" rel=\"nofollow noreferrer\">WS-Federation</a> protocol to ASP.NET applications. .Net Framework 3.5 doesn't support SAML protocol. Azure AD supports both WS-Federation and SAML protocols for SSO.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/active-directory/manage-apps/what-is-single-sign-on\" rel=\"nofollow noreferrer\">Azure AD SSO Configuration instructions</a> for WS-Federation protocol. Instructions are similar to SAML ones.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/ee748484.aspx\" rel=\"nofollow noreferrer\">Windows Identity Foundation 3.5</a> provides two HttpModules for IIS that supports WS-Federation authentication: <code>WSFederationAuthenticationModule</code> and <code>SessionAuthenticationModule</code>.</p>\n\n<p><a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=4451\" rel=\"nofollow noreferrer\">Windows Identity Foundation 3.5 SDK</a></p>\n\n<p>If you can upgrade your application to .Net Framework 4.5, you will benefit from having <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/security/index\" rel=\"nofollow noreferrer\">Windows Identity Foundation 4.5</a> fully integrated into .Net Framework itself.</p>\n"}], "owner": {"reputation": 330, "user_id": 1841340, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/dca3d.jpg?s=128&g=1", "display_name": "Sreekanth Mohan", "link": "https://stackoverflow.com/users/1841340/sreekanth-mohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1969, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1588154203, "creation_date": 1554919640, "question_id": 55618815, "link": "https://stackoverflow.com/questions/55618815/azure-active-directory-sso-with-asp-net-webforms", "title": "Azure Active Directory SSO with Asp.net Webforms", "body": "<p>We have an Asp.Net Webforms application in .Net 3.5, which is already having an authentication module with FormsAuthentication. For a new requirement, we need to implement SSO(SAML) with Azure Active Directory. </p>\n\n<p>We have made required configurations in Azure AD by following the article <a href=\"https://docs.microsoft.com/en-us/azure/active-directory/manage-apps/configure-single-sign-on-non-gallery-applications\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/active-directory/manage-apps/configure-single-sign-on-non-gallery-applications</a> .\nNext step is to retrieve a claim value from the SAML Response from Azure AD. We identified the SAML response using SAML Tracer extension in Firefox.\nThe SAML response screenshot follows.</p>\n\n<p><a href=\"https://i.stack.imgur.com/q6vNw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q6vNw.png\" alt=\"enter image description here\"></a></p>\n\n<p>How to parse this response in the Login page of the application using C# and extract the claim value? </p>\n"}, {"tags": ["c#", "frameworks", "entity"], "comments": [{"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1554919641, "post_id": 55618793, "comment_id": 97930810, "body": "That error is not pointing to your query, <code>_db</code> has been disposed somehow, where is <code>_db</code> coming from? Dependency injection?"}, {"owner": {"reputation": 1, "user_id": 10912702, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pU3DZc8ui3Y/AAAAAAAAAAI/AAAAAAAAEJM/5IEQxxO3MoE/photo.jpg?sz=128", "display_name": "WMmaster", "link": "https://stackoverflow.com/users/10912702/wmmaster"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1554921358, "post_id": 55618793, "comment_id": 97931631, "body": "_db is just the db context"}, {"owner": {"reputation": 1, "user_id": 10912702, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pU3DZc8ui3Y/AAAAAAAAAAI/AAAAAAAAEJM/5IEQxxO3MoE/photo.jpg?sz=128", "display_name": "WMmaster", "link": "https://stackoverflow.com/users/10912702/wmmaster"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1554921373, "post_id": 55618793, "comment_id": 97931640, "body": "private SkipContext _db = new SkipContext();"}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1554921419, "post_id": 55618793, "comment_id": 97931653, "body": "Yes that&amp;#39;s standard, but by the time you try to use it it&amp;#39;s disposed. The problemyour having is elsewhere in you code."}, {"owner": {"reputation": 1, "user_id": 10912702, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pU3DZc8ui3Y/AAAAAAAAAAI/AAAAAAAAEJM/5IEQxxO3MoE/photo.jpg?sz=128", "display_name": "WMmaster", "link": "https://stackoverflow.com/users/10912702/wmmaster"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1554921555, "post_id": 55618793, "comment_id": 97931723, "body": "If I use the code in debug mode step by step the error arose on that line of code. I&#39;m also using an external application like LinqPad4 to test my queries and actually it didn&#39;t give me any problem"}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1554921936, "post_id": 55618793, "comment_id": 97931921, "body": "Yes it will be because it&#39;s disposed. If you have <code>_db</code> as a private variable and at anytime use it in a using block it will be disposed and all subsequent calls to it will fall."}, {"owner": {"reputation": 1, "user_id": 10912702, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pU3DZc8ui3Y/AAAAAAAAAAI/AAAAAAAAEJM/5IEQxxO3MoE/photo.jpg?sz=128", "display_name": "WMmaster", "link": "https://stackoverflow.com/users/10912702/wmmaster"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1554922452, "post_id": 55618793, "comment_id": 97932165, "body": "ok, I understood what you mean... I&#39;m probably using the same object instance before that line of code. thanks a lot"}], "owner": {"reputation": 1, "user_id": 10912702, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pU3DZc8ui3Y/AAAAAAAAAAI/AAAAAAAAEJM/5IEQxxO3MoE/photo.jpg?sz=128", "display_name": "WMmaster", "link": "https://stackoverflow.com/users/10912702/wmmaster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554919553, "creation_date": 1554919531, "last_edit_date": 1554919553, "question_id": 55618793, "link": "https://stackoverflow.com/questions/55618793/filter-on-a-collection-navigation-property", "title": "filter on a collection navigation property", "body": "<p>I have this Entity </p>\n\n<pre><code>public class EventoBarca\n{\n    [Key, Column(Order = 0)]\n    public int EventoID { get; set; }\n    [Key, Column(Order = 1)]\n    public int BarcaID { get; set; }\n\n    public virtual ICollection&lt;Tesserato&gt; Tesserati { get; set; }\n}\n</code></pre>\n\n<p>and I need to filter the BarcaId where the EventoBarca has a specific EventoID and Tesserato has a specific TesseratoId</p>\n\n<p>this is the query I'm using:</p>\n\n<pre><code>int ba = _db.ListEventiBarche.Include(\"Tesserati\").Where(i =&gt; (i.Tesserati.Any(j =&gt; j.TesseratoID.ToString() == teid) &amp;&amp; i.EventoID.ToString() == evid)).Select(i =&gt; i.BarcaID).FirstOrDefault(); \n</code></pre>\n\n<p>but I receive this error message:\nThe operation cannot be completed because the DbContext has been disposed.</p>\n\n<p>What is it wrong in my query ?</p>\n"}, {"tags": ["c#", "selenium", "internet-explorer-11"], "comments": [{"owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1554965516, "post_id": 55618777, "comment_id": 97944604, "body": "For testing purpose, Try to remove the options parameter and try to create the object of the driver. Than try to replace your URL with the URL of any other site to check whether it is opening it or not. If it opens the page than try to make a test with each option to check whether any one of them creating this issue or not."}, {"owner": {"reputation": 746, "user_id": 841801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12e1a8a6581ab973e1b462fa41130ddf?s=128&d=identicon&r=PG", "display_name": "Joseph White", "link": "https://stackoverflow.com/users/841801/joseph-white"}, "reply_to_user": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1554996999, "post_id": 55618777, "comment_id": 97963786, "body": "Thanks, but I tried all that first. It was only with the options I have now that I could even get it to automatically open IE. The code never makes it to the line where it navigates to my site. The exception is always thrown on the previous line so it doesn&#39;t matter what I put in for the website."}, {"owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1555383498, "post_id": 55618777, "comment_id": 98081510, "body": "For a testing purpose, Can you try to make a test after turning off the protected mode? Let us know about the testing result. I also suggest you to run the code on other machine to check whether it generates similar error or it can work without any issue."}, {"owner": {"reputation": 746, "user_id": 841801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12e1a8a6581ab973e1b462fa41130ddf?s=128&d=identicon&r=PG", "display_name": "Joseph White", "link": "https://stackoverflow.com/users/841801/joseph-white"}, "reply_to_user": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1555383715, "post_id": 55618777, "comment_id": 98081559, "body": "I&#39;m sorry, I guess I didn&#39;t make it clear that I&#39;ve tested with protected mode off in all areas and again with protected mode on in all areas and I get the same result either way. I will try my code on another computer that is not on my client&#39;s network. Because so far, I&#39;ve tested on three different computers but because the IT department has locked down making certain changes to IE, I&#39;ve had to set the values using Registry hacks. I will test on my personal computer where I have full control and see if it works."}, {"owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1555470806, "post_id": 55618777, "comment_id": 98118654, "body": "You can let us know about your testing result on other machine. We will try to provide further suggestions, If needed."}], "owner": {"reputation": 746, "user_id": 841801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12e1a8a6581ab973e1b462fa41130ddf?s=128&d=identicon&r=PG", "display_name": "Joseph White", "link": "https://stackoverflow.com/users/841801/joseph-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 327, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554919448, "creation_date": 1554919448, "question_id": 55618777, "link": "https://stackoverflow.com/questions/55618777/how-to-force-selenium-internetexplorerdriver-to-move-past-initial-page-timeout", "title": "How to Force Selenium InternetExplorerDriver to move past initial page timeout", "body": "<p>I'm using the 32 bit, version 3.14 version of the IEDriverServer.\nI'm using IE v11 and have turned on protected mode in all zones.\nI have the following code:</p>\n\n<pre><code>using OpenQA.Selenium;\nusing OpenQA.Selenium.IE;\n\nnamespace ConsoleApp1\n{\n    internal class Program\n    {\n      private static void Main(string[] args)\n      {\n        var options = new InternetExplorerOptions\n        {\n            IntroduceInstabilityByIgnoringProtectedModeSettings = true,\n            EnableNativeEvents = false,\n            IgnoreZoomLevel = true,\n            EnsureCleanSession = true,\n            ForceCreateProcessApi = true,\n        };\n\n        IWebDriver driver = new InternetExplorerDriver(&lt;path to IEDriverServer&gt;, options);\n        driver.Navigate().GoToUrl(\"http://localhost:60448/Account/Login\");\n    }\n  }\n}\n</code></pre>\n\n<ul>\n<li>When I run the console app, I get a console telling me the IEDriverServer version and what port it is listening on.</li>\n<li>I see an IE dialog pop up that is deleting the browser cache and history. </li>\n<li>Then IE v11 opens up with <code>localhost:&lt;whatever port the IEDriverServer is listening on&gt;</code></li>\n<li>In the browser, there is the text: <code>This is the initial start page for the WebDriver server.</code></li>\n<li><p>A minute later, Visual Studio shows me this exception:</p>\n\n<p><code>The HTTP request to the remote WebDriver server for URL\nhttp://localhost:&lt;whatever port the console said the driver was listening on&gt;/session timed out after 60 seconds.</code></p></li>\n</ul>\n\n<p>The exception is happening on the line that instantiates the <code>new InternetExplorerDriver</code> even though I see an open instance of IE and it is displaying the page that is supposedly not responding.</p>\n\n<p>Please help if you know how to get past this line.</p>\n"}, {"tags": ["c#", "entity-framework", "asp.net-web-api", "data-annotations"], "comments": [{"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1555074941, "post_id": 55618749, "comment_id": 97993469, "body": "<code>IsDone == true</code> and <code>IsDone == false</code> is pretty readable."}], "answers": [{"comments": [{"owner": {"reputation": 397, "user_id": 6803457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31af94693f0fa05f83fca446f868e455?s=128&d=identicon&r=PG&f=1", "display_name": "J-Yen", "link": "https://stackoverflow.com/users/6803457/j-yen"}, "edited": false, "score": 0, "creation_date": 1555321985, "post_id": 55652438, "comment_id": 98056532, "body": "Thanks for your comment. Can be an alternative solution indeed."}], "tags": [], "owner": {"reputation": 5605, "user_id": 2611237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gd9EW.jpg?s=128&g=1", "display_name": "Andrei Dragotoniu", "link": "https://stackoverflow.com/users/2611237/andrei-dragotoniu"}, "is_accepted": true, "score": 2, "last_activity_date": 1555074804, "creation_date": 1555074804, "answer_id": 55652438, "question_id": 55618749, "link": "https://stackoverflow.com/questions/55618749/required-attribute-for-primitive-types-makes-no-sense/55652438#55652438", "title": "Required attribute for primitive types makes no sense", "body": "<p>There are a number of options here. \nWhat you want is a triple state mechanism : not set, true, false</p>\n\n<p>Nullable bool does provide that, however the main question is if this is clear to consumers.</p>\n\n<p>A second option would be to create a triple state enum and use that instead. </p>\n\n<ul>\n<li>Is it clearer? Maybe</li>\n<li>Is it extensible? Yes, but do we really require more then 3 states?</li>\n</ul>\n\n<p>Between the two, I would go with a nullable bool myself. In the end it's a pick your poison kind of situation.</p>\n"}], "owner": {"reputation": 397, "user_id": 6803457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31af94693f0fa05f83fca446f868e455?s=128&d=identicon&r=PG&f=1", "display_name": "J-Yen", "link": "https://stackoverflow.com/users/6803457/j-yen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 1, "accepted_answer_id": 55652438, "answer_count": 1, "score": 3, "last_activity_date": 1555074804, "creation_date": 1554919315, "last_edit_date": 1554924004, "question_id": 55618749, "link": "https://stackoverflow.com/questions/55618749/required-attribute-for-primitive-types-makes-no-sense", "title": "Required attribute for primitive types makes no sense", "body": "<p>In my use case I need a required boolean property, for example:</p>\n\n<pre><code>public class Todo \n{ \n    [Required] \n    public bool IsDone {get; set; } \n}\n</code></pre>\n\n<p>I experienced a bug in my Entity Framework project due to a missing property mapping (value was not set) of a boolean property. As a result I always stored the default boolean value \u2018false\u2019 while it\u2019s actually not filled in. When not filled in I expect to throw a validation exception but because it\u2019s a primitive type the validation attribute makes no sense as it always have a default value which is sufficient to pass. I don\u2019t want to have a default value and the validation attribute should throw an exception when the value is not set.  </p>\n\n<p>A solution what I came up with is to use nullable booleans with the required attribute. In case the property is not set the required attribute will throw an exception which is great. On the other side it's pretty weird to have a required nullable boolean because you known it's always filled in (due to the required attribute) and it makes the business logic about this property less readable (IsDone.HasValue? IsDone.Value : false; /<em>Should not be possible because it's required</em>/).</p>\n\n<p>Any other solutions possible?</p>\n"}, {"tags": ["c#", "json.net", "nuget", "assembly-binding-redirect"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1554919473, "post_id": 55618738, "comment_id": 97930767, "body": "Newtonsoft.JSON almost certainly follows Semantic Versioning, which means that a major version change does not guarantee backwards compatibility. Your safe choices are any version of Newtonsoft.Json that is still major version 6. For example 6.0.9 or above, but not 7.x.x or 8.x.x.  If 8.x.x still works, good for you, but you probably ought to test the sh*t out of it."}, {"owner": {"reputation": 90360, "user_id": 61164, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/782a1ccf1b45f8dbb5116f950d61f661?s=128&d=identicon&r=PG", "display_name": "Erik Funkenbusch", "link": "https://stackoverflow.com/users/61164/erik-funkenbusch"}, "edited": false, "score": 0, "creation_date": 1554919589, "post_id": 55618738, "comment_id": 97930794, "body": "You&#39;re only looking at the Nuget dependencies, not the assembly dependencies.  Each assembly is bound to a specific version of an assembly, particularly those that are strongly named.  Redirects allow the runtime to bind to different versions than those that the applicaitons are linked to."}, {"owner": {"reputation": 5988, "user_id": 2077201, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BiYVI.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/2077201/adam"}, "reply_to_user": {"reputation": 90360, "user_id": 61164, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/782a1ccf1b45f8dbb5116f950d61f661?s=128&d=identicon&r=PG", "display_name": "Erik Funkenbusch", "link": "https://stackoverflow.com/users/61164/erik-funkenbusch"}, "edited": false, "score": 0, "creation_date": 1554920321, "post_id": 55618738, "comment_id": 97931155, "body": "@ErikFunkenbusch what&#39;s the difference between a NuGet dependency and an assembly dependency? How can I view the assembly dependencies?"}, {"owner": {"reputation": 5988, "user_id": 2077201, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BiYVI.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/2077201/adam"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1554920799, "post_id": 55618738, "comment_id": 97931371, "body": "@RobertHarvey to your point, if it says that the NuGet requires &gt;= 6.0.2 perhaps that&#39;s an indication that it&#39;s fine to use a binding redirect here, i.e. even though the assembly has a baked in dependency on 6.x we&#39;re being told that it&#39;s fine to use anything greater than 6.0.2."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1554920997, "post_id": 55618738, "comment_id": 97931471, "body": "That&#39;s fair enough.  But generally, a major version change is used when you want to signal that you&#39;re breaking backward compatibility in some way."}, {"owner": {"reputation": 90360, "user_id": 61164, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/782a1ccf1b45f8dbb5116f950d61f661?s=128&d=identicon&r=PG", "display_name": "Erik Funkenbusch", "link": "https://stackoverflow.com/users/61164/erik-funkenbusch"}, "edited": false, "score": 0, "creation_date": 1554946237, "post_id": 55618738, "comment_id": 97939673, "body": "Every assembly has a specific 4 part version. x.x.x.x, while most nuget packages are 3 digit, and have no bearing on how the os binds the assemblies.  Assembly binding is low level, and unless there is a binding redirect, if assembly A is linked to version 1.0.0.0 then it will not load an assembly that is a different version.  The binding redirect tells the runtime it\u2019s ok to use a different version (or versions)"}, {"owner": {"reputation": 90360, "user_id": 61164, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/782a1ccf1b45f8dbb5116f950d61f661?s=128&d=identicon&r=PG", "display_name": "Erik Funkenbusch", "link": "https://stackoverflow.com/users/61164/erik-funkenbusch"}, "edited": false, "score": 0, "creation_date": 1554946660, "post_id": 55618738, "comment_id": 97939762, "body": "I suggest reading <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/app-domains/assembly-versioning\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/framework/app-domains/&hellip;</a> and <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/configure-apps/redirect-assembly-versions\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/framework/configure-apps/&hellip;</a>"}, {"owner": {"reputation": 5988, "user_id": 2077201, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BiYVI.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/2077201/adam"}, "reply_to_user": {"reputation": 90360, "user_id": 61164, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/782a1ccf1b45f8dbb5116f950d61f661?s=128&d=identicon&r=PG", "display_name": "Erik Funkenbusch", "link": "https://stackoverflow.com/users/61164/erik-funkenbusch"}, "edited": false, "score": 0, "creation_date": 1555020982, "post_id": 55618738, "comment_id": 97974067, "body": "@ErikFunkenbusch if assembly A is linked to version 1.0.0.0 will it load version 1.0.0.1? Does it have to be a 100% exact match?"}], "answers": [{"comments": [{"owner": {"reputation": 5988, "user_id": 2077201, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BiYVI.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/2077201/adam"}, "edited": false, "score": 0, "creation_date": 1554925024, "post_id": 55619466, "comment_id": 97933248, "body": "Can you provide a link to docs showing how to set the &quot;hook you can use to tell the loader to load the dll from a different directory, so when you really need to load different versions of the same assembly, you can&quot;?"}, {"owner": {"reputation": 5988, "user_id": 2077201, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BiYVI.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/2077201/adam"}, "edited": false, "score": 0, "creation_date": 1554925084, "post_id": 55619466, "comment_id": 97933276, "body": "I also wonder if it&#39;s possible to look at a NuGet package in my <code>packages folder</code> and determine the assembly dependencies?"}, {"owner": {"reputation": 5988, "user_id": 2077201, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BiYVI.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/2077201/adam"}, "edited": false, "score": 0, "creation_date": 1554925153, "post_id": 55619466, "comment_id": 97933310, "body": "Could you also comment on when it&#39;s safe to add a binding redirect? E.g. if the NuGet dependency is for &gt;= 6.0.8, is it safe to redirect to a higher version of the dependency even if the assembly dependency is for 6.0.8?"}, {"owner": {"reputation": 7498, "user_id": 2843065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f49e2e44f62a578e2685769bebcef8c?s=128&d=identicon&r=PG&f=1", "display_name": "zivkan", "link": "https://stackoverflow.com/users/2843065/zivkan"}, "reply_to_user": {"reputation": 5988, "user_id": 2077201, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BiYVI.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/2077201/adam"}, "edited": false, "score": 0, "creation_date": 1554928612, "post_id": 55619466, "comment_id": 97934832, "body": "I think in the .NET Framework you want to use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.appdomain.assemblyresolve?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">AppDomain.AssemblyResolve</a>. In .NET Core you&#39;ll want to look at <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.runtime.loader.assemblyloadcontext?view=netcore-2.2\" rel=\"nofollow noreferrer\">AssemblyLoadContext</a>. I think that Mono doesn&#39;t support loading different versions of an assembly at the same time."}, {"owner": {"reputation": 7498, "user_id": 2843065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f49e2e44f62a578e2685769bebcef8c?s=128&d=identicon&r=PG&f=1", "display_name": "zivkan", "link": "https://stackoverflow.com/users/2843065/zivkan"}, "reply_to_user": {"reputation": 5988, "user_id": 2077201, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BiYVI.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/2077201/adam"}, "edited": false, "score": 0, "creation_date": 1554929021, "post_id": 55619466, "comment_id": 97935011, "body": "You can find assembly references using ILSpy, ILDASM or similar tools. To do it programaitically, look for the library that ILSpy uses to disassemble managed dlls."}, {"owner": {"reputation": 7498, "user_id": 2843065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f49e2e44f62a578e2685769bebcef8c?s=128&d=identicon&r=PG&f=1", "display_name": "zivkan", "link": "https://stackoverflow.com/users/2843065/zivkan"}, "reply_to_user": {"reputation": 5988, "user_id": 2077201, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BiYVI.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/2077201/adam"}, "edited": false, "score": 0, "creation_date": 1554929138, "post_id": 55619466, "comment_id": 97935073, "body": "There&#39;s no rule about when it&#39;s safe to use binding redirects. If the higher version is backwards compatible with the lower version, then it&#39;s safe. If the versions are not 100% compatible, it might still be safe if the methods with the breaking change are never called. When you know different dependencies use an API from different versions of a package with breaking changes, only in this very specific case you know for certain that binding redirects won&#39;t work. So, it takes a lot of detailed analysis to be sure."}], "tags": [], "owner": {"reputation": 7498, "user_id": 2843065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f49e2e44f62a578e2685769bebcef8c?s=128&d=identicon&r=PG&f=1", "display_name": "zivkan", "link": "https://stackoverflow.com/users/2843065/zivkan"}, "is_accepted": true, "score": 4, "last_activity_date": 1613039041, "last_edit_date": 1613039041, "creation_date": 1554922189, "answer_id": 55619466, "question_id": 55618738, "link": "https://stackoverflow.com/questions/55618738/why-is-an-assembly-binding-redirect-required-for-this-project/55619466#55619466", "title": "Why is an assembly binding redirect required for this project?", "body": "<p>The .NET runtime has a concept called strong naming.</p>\n<p>I'm probably getting lots of technical details wrong, but basically an assembly that is not strongly named effectively says &quot;my name is <code>zivkan.utilities.dll</code>&quot;, and when another assembly is compiled against my assembly, the reference says &quot;I need the class named <code>zivkan.utilities.thing</code> from <code>zivkan.utilities.dll</code>&quot;. So, it knows nothing about versions and you can drop in any <code>zivkan.utilities.dll</code> that contains a <code>zivkan.utlities.thing</code> class and the runtime will try to run it.</p>\n<p>If I strong name sign <code>zivkan.utilities.dll</code>, now the assembles advertises itself as &quot;my name is <code>zivkan.utilites.dll</code> version 1.0.0 with public key ...&quot; (I'm going to leave the public key part out for the rest of my answer). Now, when another assembly is compiled against it, the compiled reference says &quot;I need <code>zivkan.utilities.dll</code> version 1.0.0&quot;. Now when this execute, the .NET runtime will only load <code>zivkan.utilities.dll</code> version 1.0.0 and fail if the version is different, like you saw, you get an error. The program can have a binding redirects to tell the .NET runtime assembly loader that when it sees a request for <code>zivkan.utilties</code> between the versions of 0.0.0.0 and 2.0.0.0 to use version 2.0.0.0, which is how you solved your problem.</p>\n<p>NuGet versions and assembly versions are two separate concepts, but since they're typically the same value (or a very similar value), it's not so different. Assembly versions are a run-time thing, while NuGet package versions are a build-time thing.</p>\n<p>So, imagine the situation without binding redirects. Your program, <code>CommandLineKeyVaultClient</code> is loaded and has a dependency on <code>Newtonsoft.Json</code> version 8.0.2. The .NET runtime loads <code>Newtonsoft.Json.dll</code> and confirms that it is indeed version 8.0.2. Then the .NET runtime sees that <code>CommandLineKeyVaultClient</code> also has a dependency on <code>Microsoft.Rest.ClientRuntime.dll</code>, let's say version 1.0.0.0. So, the .NET runtime loads that dll and confirms the assembly version number. <code>Microsoft.Rest.ClientRuntime.dll</code> has a dependency on <code>Newtonsoft.Json.dll</code> version 6.0.8. The .NET runtime sees that <code>Newtonsoft.Json</code> version 8.0.2 is already loaded, but the version doesn't match and there's no binding redirect, so let's try to load <code>Newtonsoft.Json.dll</code> on disk (there's actually a hook you can use to tell the loader to load the dll from a different directory, when you really need to load different versions of the same assembly, you can). When it tries, it sees the version of the assembly doesn't match the strong named dependency, and fails saying &quot;can't load <code>Newtonsoft.Json.dll</code> version 6.0.8&quot;, which is true because the version on disk is actually 8.0.2.</p>\n<p>If you use NuGet packages using PackageReference, NuGet will look not only at transitive NuGet dependencies, but also project dependencies and build a graph of all assemblies (project or nuget) that are needed. Then MSBuild should automatically detect when two different assemblies depend on different versions of the same assembly name and generate binding redirects. Therefore, when using PackageReference, this should not generally be a problem.</p>\n<p>However, if you use packages.config to define your NuGet dependencies, NuGet will try to add binding redirects when it detects a version conflict (which I think you can opt-out of). But since this is calculated at the time you modifiy NuGet dependencies in that project(install, upgrade or uninstall a package), it's possible to get the binding redirects out of sync, and there's an issue with project to project dependencies and what NuGet packages those project references use.</p>\n<p>Anyway, I hope this explains why you get the dll loading error when all your projects have NuGet dependency &gt;= 6.0.8. Again I repeat that assembly versions and NuGet versions are different things, even when they have the same value, and the .NET runtime allows you to load different versions of the same assembly at the same time and needs instructions when you don't want that, which is what binding redirects are.</p>\n"}], "owner": {"reputation": 5988, "user_id": 2077201, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BiYVI.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/2077201/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1231, "favorite_count": 0, "accepted_answer_id": 55619466, "answer_count": 1, "score": 0, "last_activity_date": 1613039041, "creation_date": 1554919277, "last_edit_date": 1592644375, "question_id": 55618738, "link": "https://stackoverflow.com/questions/55618738/why-is-an-assembly-binding-redirect-required-for-this-project", "title": "Why is an assembly binding redirect required for this project?", "body": "<p>I've used <a href=\"https://icanhasdot.net\" rel=\"nofollow noreferrer\">https://icanhasdot.net</a> to analyze the NuGet dependencies of a sample project I've been experimenting with. Here are the results:\n<a href=\"https://i.stack.imgur.com/8IJQj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8IJQj.png\" alt=\"enter image description here\" /></a></p>\n<p>The graph doesn't show specific versions, but I'm targeting .NET Framework 4.5 for the project and based on the &quot;Manage Nuget&quot; view in Visual Studio I know that all the NuGet Packages (i.e. all the green squares in the graph) in my project require Newtonsoft.Json <strong>&gt;=</strong> 6.0.8, e.g.:</p>\n<p><a href=\"https://i.stack.imgur.com/CZ7a6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CZ7a6.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to use a slightly newer version of Newtonsoft.Json for my project, so I've added version 8.0.2. Since this is definitely &gt;= 6.0.8 I wouldn't expect this to cause problems. However, when I run the program I immediately get a System.IO exception saying that Newtonsoft.Json 6 something was not found.</p>\n<p>I've fixed this problem by adding an app.config file with an assembly binding redirect (<a href=\"https://stackoverflow.com/questions/43365736/assembly-binding-redirect-how-and-why\">Assembly Binding redirect: How and Why?</a>) to the newer version of Newtonsoft.Json and this fixed the problem. However, I don't understand why such a binding would be required if all the NuGet packages my project depends on require &gt;= 6.0.8, which 8.0.2 definitely is.</p>\n"}, {"tags": ["c#", "asp.net-core"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 2, "creation_date": 1554919107, "post_id": 55618636, "comment_id": 97930567, "body": "&quot;this does not work properly for many reasons&quot;, you need to be explicit about those reasons."}, {"owner": {"reputation": 583, "user_id": 2720343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvJ2G.jpg?s=128&g=1", "display_name": "Dortimer", "link": "https://stackoverflow.com/users/2720343/dortimer"}, "edited": false, "score": 0, "creation_date": 1554919210, "post_id": 55618636, "comment_id": 97930607, "body": "Just out of curiosity, why do you want to conditionally register the dependency, instead of just not injecting it where it isn&#39;t needed? That seems like it might lend itself to problems when people try to use it throughout the application."}, {"owner": {"reputation": 2953, "user_id": 3769368, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3301727987157807f500ece485c1446d?s=128&d=identicon&r=PG&f=1", "display_name": "Rajmond Burgaj", "link": "https://stackoverflow.com/users/3769368/rajmond-burgaj"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1554919217, "post_id": 55618636, "comment_id": 97930612, "body": "@CamiloTerevinto one reason was for example Autofac throws an exception if it find a null value for the implementation"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1554919261, "post_id": 55618636, "comment_id": 97930623, "body": "Well, <code>default(TImplementation)</code> means <code>null</code>, what are you going to do with a <code>null</code>?"}, {"owner": {"reputation": 2953, "user_id": 3769368, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3301727987157807f500ece485c1446d?s=128&d=identicon&r=PG&f=1", "display_name": "Rajmond Burgaj", "link": "https://stackoverflow.com/users/3769368/rajmond-burgaj"}, "reply_to_user": {"reputation": 583, "user_id": 2720343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvJ2G.jpg?s=128&g=1", "display_name": "Dortimer", "link": "https://stackoverflow.com/users/2720343/dortimer"}, "edited": false, "score": 0, "creation_date": 1554919322, "post_id": 55618636, "comment_id": 97930664, "body": "@Dortimer I register 3 implementations and inject an IEnumerable&lt;MyInterface&gt; in a class, in there I have a foreach -&gt; doSomething, one of the implementation should not execute doSomething method in case a condition is met in startup, thats why I need to exclude it"}, {"owner": {"reputation": 2953, "user_id": 3769368, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3301727987157807f500ece485c1446d?s=128&d=identicon&r=PG&f=1", "display_name": "Rajmond Burgaj", "link": "https://stackoverflow.com/users/3769368/rajmond-burgaj"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1554919394, "post_id": 55618636, "comment_id": 97930700, "body": "@CamiloTerevinto remove it in the next step basically, as you can see I only register a null value because I need the IServiceProvider for the validateFunc"}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1554919472, "post_id": 55618636, "comment_id": 97930738, "body": "If a condition is met at startup that means you would only want to inject two implementations of <code>MyInterface</code> instead of three, then only register two instead of three. You almost certainly control what&#39;s going on at startup, so you shouldn&#39;t need to go back and inspect the service registrations. Is there some odd edge case where you don&#39;t or can&#39;t know what was registered?"}, {"owner": {"reputation": 2953, "user_id": 3769368, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3301727987157807f500ece485c1446d?s=128&d=identicon&r=PG&f=1", "display_name": "Rajmond Burgaj", "link": "https://stackoverflow.com/users/3769368/rajmond-burgaj"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1554919596, "post_id": 55618636, "comment_id": 97930796, "body": "@ScottHannen the condition needs IServiceProvider to be used because its not just a value in appSettings, its basically something taken from a web service. so I have to say if IServiceProvider.GetService&lt;MyWebService&gt;().IsValid =&gt; then register the interface, as you know you dont have IServiceProvider in startup without rebuilding the iServiceCollection, its more complicated than this but just as an example why I need the IServiceProvider"}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1554920273, "post_id": 55618636, "comment_id": 97931135, "body": "If it&#39;s an actual call to the web service then I would make that call independently of registering that service with the <code>IServiceCollection</code>. You can call the web service <i>without</i> resolving it from the <code>ServiceProvider</code> and then you know which other dependencies to resolve."}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 1, "creation_date": 1554922009, "post_id": 55618636, "comment_id": 97931958, "body": "This is a sign of unclear focus in your application domain. You <i>know</i> what dependencies your application has. If you don&#39;t, then your application is likely trying to do too much/take on roles it&#39;s not actually suited for."}, {"owner": {"reputation": 571, "user_id": 9053225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39e02cf834b2d31955b0824a3eb33db2?s=128&d=identicon&r=PG", "display_name": "RWRkeSBZ", "link": "https://stackoverflow.com/users/9053225/rwrkesbz"}, "reply_to_user": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1554928799, "post_id": 55618636, "comment_id": 97934902, "body": "Class dependencies are normally a static aspect of a design, so how they are set up is a decision taken right at the beginning of your design with no conditionality normally. I agree with @ChrisPratt that this is a code smell that you have to establish different dependencies based on some logic test."}], "answers": [{"tags": [], "owner": {"reputation": 36163, "user_id": 1823494, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90507a6f34195753c4bdebb6623a34b1?s=128&d=identicon&r=PG", "display_name": "Henk Mollema", "link": "https://stackoverflow.com/users/1823494/henk-mollema"}, "is_accepted": false, "score": 0, "last_activity_date": 1554967241, "creation_date": 1554967241, "answer_id": 55626775, "question_id": 55618636, "link": "https://stackoverflow.com/questions/55618636/add-a-dependency-based-on-some-conditions-in-aspnetcore/55626775#55626775", "title": "Add a dependency based on some conditions in AspNetCore", "body": "<p>You seem to be applying domain logic in your application startup/configuration phase which is, as pointed out in the comments, a code smell. I suggest you refactor your application to use the factory pattern to create the instance(s) of the requested services. The factory can utilize dependency injection itself to perform the conditional logic. For example:</p>\n\n<p>The services:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public interface IService { }\n\npublic class FooService : IService { }\n\n// And more implementations of IService...\n</code></pre>\n\n<p>The service factory:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public interface IServiceFactory\n{\n    IEnumerable&lt;IService&gt; GetServices();\n}\n\npublic class ServiceFactory : IServiceFactory\n{\n    public ServiceFactory(MyWebservice myWebservice) { }\n\n    public IEnumerable&lt;IService&gt; GetServices()\n    {\n        // Use MyWebservice to conditionally create the desired IService instances\n        // or use any other type of logic.\n    }\n}\n</code></pre>\n\n<p>After you add the <code>IServiceFactory</code> to your dependency injection container, you can inject it and use it to resolve the <code>IService</code> instances:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class SomeController\n{\n    public SomeController(IServiceFactory serviceFactory) { }\n\n    public IActionResult Get()\n    {\n        var services = _serviceFactory.GetServices();\n        // Do something with the created IService instances...\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2953, "user_id": 3769368, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3301727987157807f500ece485c1446d?s=128&d=identicon&r=PG&f=1", "display_name": "Rajmond Burgaj", "link": "https://stackoverflow.com/users/3769368/rajmond-burgaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554967241, "creation_date": 1554918875, "last_edit_date": 1554919057, "question_id": 55618636, "link": "https://stackoverflow.com/questions/55618636/add-a-dependency-based-on-some-conditions-in-aspnetcore", "title": "Add a dependency based on some conditions in AspNetCore", "body": "<p>I want to add a dependency if some condition is met, but to test the condition I need to make use of <code>IServiceProvider</code>. Is there a good way to do it?</p>\n\n<p>Here is my code but for sure this does not work properly for many reasons but thats what I have achieved so far:</p>\n\n<p>Also I don't want to rebuild the <code>IServiceCollection</code> twice!</p>\n\n<pre><code>public static IServiceCollection AddWithCondition&lt;TInterface, TImplementation&gt;(\n    this IServiceCollection collection, \n    Func&lt;IServiceProvider, bool&gt; validateFunc,\n    ServiceLifetime lifetime,\n    Func&lt;IServiceProvider, TImplementation&gt; factory)\n    where TImplementation :  class\n{ \n    collection.Add(new ServiceDescriptor(typeof(TInterface), p =&gt; validateFunc(p) ? factory(p) : default(TImplementation), lifetime));\n    var descriptorToRemove = collection.FirstOrDefault(d =&gt; d.ServiceType == typeof(TInterface) &amp;&amp; d.ImplementationInstance == default);\n    if (descriptorToRemove != null)\n        collection.Remove(descriptorToRemove);\n    return collection;\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 5, "creation_date": 1554918611, "post_id": 55618575, "comment_id": 97930358, "body": "Are you looking for AutoMapper perhaps?"}, {"owner": {"reputation": 51, "user_id": 11069793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6368d30bf15d27f13c0d8c4cf4c576?s=128&d=identicon&r=PG&f=1", "display_name": "biggfu444", "link": "https://stackoverflow.com/users/11069793/biggfu444"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1554919353, "post_id": 55618575, "comment_id": 97930677, "body": "No, I use AutoMapper to map my domain entities to my ViewModels, this is a bit different because I&#39;m mapping from a separate dll, one that I didn&#39;t write, I could also use this abstract class for mapping data objects to other entities separate from the one I&#39;m currently working on."}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 1534939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/067e3b1d4a3a72161cfc64145fcda4c5?s=128&d=identicon&r=PG", "display_name": "Talles Santana", "link": "https://stackoverflow.com/users/1534939/talles-santana"}, "is_accepted": false, "score": 0, "last_activity_date": 1554935707, "last_edit_date": 1554935707, "creation_date": 1554935339, "answer_id": 55622156, "question_id": 55618575, "link": "https://stackoverflow.com/questions/55618575/how-do-i-implement-extension-helper-methods-as-an-abstract-class-with-variable-p/55622156#55622156", "title": "How do I implement extension helper methods as an abstract class with variable parameters?", "body": "<p>I guess you can have a generic parser using Func. I just wrote a sample and hope it helps you.</p>\n\n<pre><code>public class ClassA\n{\n    public int SomeNumber { get; set; }\n\n    public string SomeString { get; set; }\n}\n\npublic class ClassB\n{\n    public int OtherNumber { get; set; }\n\n    public string OtherString { get; set; }\n}\n\npublic static class ExecuteParsingFunction\n{\n    public static TDestiny Parse&lt;TOrigin, TDestiny&gt;(TOrigin origin,\n                                Func&lt;TOrigin, TDestiny&gt; parserFunction)\n    {\n        return parserFunction(origin);\n    }\n}\n\npublic static class ParsingFunctions\n{\n    public static ClassB ParseAToB(ClassA a)\n    {\n        return new ClassB { OtherNumber = a.SomeNumber, OtherString = a.SomeString };\n    }\n\n    public static IEnumerable&lt;ClassB&gt; ParseManyAToB(IEnumerable&lt;ClassA&gt; aCollection)\n    {\n        foreach(var a in aCollection)\n            yield return ParseAToB(a);\n    }\n}\n\npublic void Sample()\n{\n    var a = new ClassA { SomeNumber = 1, SomeString = \"Test\" };\n    var manyAs = new List&lt;ClassA&gt; { a };\n\n    var b = ExecuteParsingFunction.Parse(a, ParserFunctions.ParseAToB);\n    var manyBs = ExecuteParsingFunction.Parse(manyAs, ParserFunctions.ParseManyAToB);\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 11069793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6368d30bf15d27f13c0d8c4cf4c576?s=128&d=identicon&r=PG&f=1", "display_name": "biggfu444", "link": "https://stackoverflow.com/users/11069793/biggfu444"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1554935707, "creation_date": 1554918552, "last_edit_date": 1554918576, "question_id": 55618575, "link": "https://stackoverflow.com/questions/55618575/how-do-i-implement-extension-helper-methods-as-an-abstract-class-with-variable-p", "title": "How do I implement extension helper methods as an abstract class with variable parameters?", "body": "<p>To cut down on reused code throughout my repository which gets values from another library, I wanted to create extension methods for \"parsing\"(for lack of a better word) one class to another.  How do I implement abstract methods with different parameters.</p>\n\n<p>I can't find anything that answers my question, and I'm not sure it can even be done.</p>\n\n<p>Instead of having something like this in multiple places.</p>\n\n<pre><code>var list = _library.GetList();\nvar model = list.Select(o =&gt; new ClassA()\n{\n   ID = o.ID, \n   Name = o.Name\n}).ToList&lt;ClassA&gt;();\n</code></pre>\n\n<p>I want extension methods so I can call something like </p>\n\n<pre><code>var list = _library.GetList();\nvar model = ExtensionClass.ParseMany(list);\n</code></pre>\n\n<p>But, I want to base this off an abstract class so it can be reused by mutliple different classes, so I have</p>\n\n<pre><code>public abstract class Parser&lt;U, T&gt; where T : class where U : class \n{\n   public abstract T ParseOne(U parser);\n   public abstract IEnumerable&lt;T&gt; ParseMany(IEnumerable&lt;U&gt; parser); \n}\n\npublic class ParseA&lt;ClassA, ClassADTO&gt; \n{\n   public override ClassA ParseOne(ClassADTO parser){ // }\n}\n</code></pre>\n\n<p>But it doesn't seem that my parameter that is passed in is the actual object, it says it's a KeyValuePair and now I'm lost.</p>\n\n<p>I expect to able to return a new instance based on my parameter, basically what I already do in my code multiple times.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1554918944, "post_id": 55618550, "comment_id": 97930486, "body": "Don&#39;t use <code>cmd.Parameters.Add</code> <b>and</b> <code>cmd.Parameters.AddWithValue</code>, use <code>cmd.Parameters.Add(&quot;RegionDescription&quot;, SqlDbType.VarChar,40).Value = item.Text.Trim();</code>"}, {"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 0, "creation_date": 1554919288, "post_id": 55618550, "comment_id": 97930646, "body": "You have <code>cmd</code> to which you&#39;re adding all your parameters - but you also have <code>comm</code> which you define a SQL query for and which you execute, You need to use <b>ONE</b> <code>SqlCommand</code> variable, assign the SQL query to it, add the parameters to it, and then execute it ....."}], "answers": [{"comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1554920033, "post_id": 55618837, "comment_id": 97931018, "body": "<code>using (SqlConnection conn = new SqlConnection(connectionString))</code> How is that <b>not</b> creating a new connection???  Also, <code>AddWithValue()</code> ought be avopided in favor of <code>Add()</code>"}, {"owner": {"reputation": 350, "user_id": 5821547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8584277d1136e863ab7a316bb5347226?s=128&d=identicon&r=PG", "display_name": "SharpNip", "link": "https://stackoverflow.com/users/5821547/sharpnip"}, "reply_to_user": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 1, "creation_date": 1554920442, "post_id": 55618837, "comment_id": 97931219, "body": "@MakeStackOverflowGoodAgain I think you may have misread my comment (though it was ambiguously worded), I didn&#39;t say &quot;not creating a new connection&quot; but not creating a new connection within a foreach loop, like in the original code. As for <code>AddWithValue()</code>, true enough, seeing as that&#39;ll implicitly convert the value passed using an nvarchar. I&#39;ll edit my response in a sec."}, {"owner": {"reputation": 137, "user_id": 5705766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4751eccaec59cc5f7066b1cf3949cb?s=128&d=identicon&r=PG&f=1", "display_name": "Alex M", "link": "https://stackoverflow.com/users/5705766/alex-m"}, "edited": false, "score": 1, "creation_date": 1554920919, "post_id": 55618837, "comment_id": 97931440, "body": "Add all your listitems to a datatable and use an adapter to update the datatable"}], "tags": [], "owner": {"reputation": 350, "user_id": 5821547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8584277d1136e863ab7a316bb5347226?s=128&d=identicon&r=PG", "display_name": "SharpNip", "link": "https://stackoverflow.com/users/5821547/sharpnip"}, "is_accepted": false, "score": 0, "last_activity_date": 1554920661, "last_edit_date": 1554920661, "creation_date": 1554919728, "answer_id": 55618837, "question_id": 55618550, "link": "https://stackoverflow.com/questions/55618550/i-have-a-listview-with-items-which-i-want-to-insert-into-a-sql-server-database/55618837#55618837", "title": "I have a listview with items which I want to insert into a SQL Server database", "body": "<p>Welcome to Stackoverflow,\nFirst up, I wouldn't recommend creating a new connection within your foreach to add items to your table.\nHere's what I'd recommend using instead:</p>\n\n<pre><code>try\n{\n    string connectionString = ConfigurationSettings.AppSettings[\"conn\"];\n    using (SqlConnection conn = new SqlConnection(connectionString))\n    {\n        SqlCommand cmd;\n        conn.Open();\n        string cmdString = @\"INSERT INTO Region (RegionDescription, Fname, Lname) \n                             VALUES (@RegionDescription, @Fname, @Lname)\";\n\n        foreach (ListViewItem item in lvregion.Items)\n        {\n            cmd = new SqlCommand(cmdString, conn);\n            cmd.Parameters.Add(\"@RegionDescription\", SqlDbType.VarChar, 40).Value = item.Text.Trim();\n            cmd.Parameters.Add(\"@Fname\", SqlDbType.VarChar, 40).Value = item.SubItems[1].Text.Trim();\n            cmd.Parameters.Add(\"@Lname\", SqlDbType.VarChar, 40).Value = item.SubItems[2].Text.Trim(); \n            cmd.ExecuteNonQuery();\n        }\n    }\n}\ncatch (Exception ex)\n{\n    MessageBox.Show(ex.Message);\n}\n</code></pre>\n\n<p>(Or at least this should have you on the right path.)</p>\n"}], "owner": {"reputation": 19, "user_id": 11341848, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8YhXlHKV8JY/AAAAAAAAAAI/AAAAAAAABQk/fXyBFFvajJQ/photo.jpg?sz=128", "display_name": "patrick njagi", "link": "https://stackoverflow.com/users/11341848/patrick-njagi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554920661, "creation_date": 1554918441, "last_edit_date": 1554919237, "question_id": 55618550, "link": "https://stackoverflow.com/questions/55618550/i-have-a-listview-with-items-which-i-want-to-insert-into-a-sql-server-database", "title": "I have a listview with items which I want to insert into a SQL Server database", "body": "<p>I want to save content of a listview into a SQL Server database.</p>\n\n<p>I've tried the commented code but get an error </p>\n\n<blockquote>\n  <p>Must declare scalar variable @Description</p>\n</blockquote>\n\n<p>Code:</p>\n\n<pre><code>private void btnFinish_Click(object sender, EventArgs e)\n{\n    SqlCommand cmd = new SqlCommand();\n\n    try\n    {\n        foreach (ListViewItem item in lvregion.Items)\n        {\n            SqlConnection conn;\n            SqlCommand comm;\n\n            string connectionString = ConfigurationSettings.AppSettings[\"conn\"];\n            conn = new SqlConnection(connectionString);\n\n            comm = new SqlCommand(\n              \"INSERT INTO Region (RegionDescription, Fname, Lname) \" +\n              \"VALUES (@RegionDescription, @Fname, @Lname)\", conn);\n            //cmd.Parameters.AddWithValue(\"RegionDescription\", item.Text.Trim());\n            //cmd.Parameters.AddWithValue(\"fname\", item.SubItems[1].Text.Trim());\n            //cmd.Parameters.AddWithValue(\"lname\", item.SubItems[2].Text.Trim());\n            cmd.Parameters.Add(\"RegionDescription\", SqlDbType.VarChar,40);\n            cmd.Parameters.AddWithValue(\"RegionDescription\", item.Text.Trim());\n            cmd.Parameters.Add(\"Fname\", SqlDbType.VarChar,40);\n            cmd.Parameters.AddWithValue(\"Fname\", item.SubItems[1].Text.Trim());\n            cmd.Parameters.Add(\"Lname\", SqlDbType.VarChar,40);\n            cmd.Parameters.AddWithValue(\"Lname\", item.SubItems[2].Text.Trim());\n\n            try\n            {\n                conn.Open();\n                comm.ExecuteNonQuery();\n            }\n            catch (Exception)\n            {\n                throw;\n            }\n            finally\n            {\n                conn.Close();\n            }\n        }\n    }\n    catch (Exception ex)\n    {\n        MessageBox.Show(ex.Message);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "parsing", "label", "eval"], "answers": [{"tags": [], "owner": {"reputation": 12868, "user_id": 2373249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/byIOk.jpg?s=128&g=1", "display_name": "hardkoded", "link": "https://stackoverflow.com/users/2373249/hardkoded"}, "is_accepted": true, "score": 4, "last_activity_date": 1554918437, "creation_date": 1554918437, "answer_id": 55618548, "question_id": 55618530, "link": "https://stackoverflow.com/questions/55618530/can-the-text-in-label-contain-eval/55618548#55618548", "title": "Can the text in label contain eval?", "body": "<p>I use to consider that a parser error. You can get this working doing this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>&lt;asp:Label ID=\"lblprodId\" runat=\"server\" Text='&lt;%# Eval(\"flavourID\") %&gt;'&gt;&lt;/asp:Label&gt;\n</code></pre>\n\n<p><em>Note: I changed double quotes with single quotes.</em></p>\n"}], "owner": {"reputation": 27, "user_id": 10853869, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-J893EXta6qE/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZupvZdyUcANwYAO5c17J-GgXOLJQ/mo/photo.jpg?sz=128", "display_name": "Gilson Lim", "link": "https://stackoverflow.com/users/10853869/gilson-lim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 55618548, "answer_count": 1, "score": 1, "last_activity_date": 1554918437, "creation_date": 1554918282, "question_id": 55618530, "link": "https://stackoverflow.com/questions/55618530/can-the-text-in-label-contain-eval", "title": "Can the text in label contain eval?", "body": "<pre><code>  &lt;asp:Label ID=\"lblprodId\" runat=\"server\" Text=\"&lt;%# Eval(\"flavourID\") %&gt;\"&gt;&lt;/asp:Label&gt;\n</code></pre>\n\n<p>I got parser error when i run this page.When I change it.</p>\n\n<pre><code>&lt;asp:Label ID=\"lblprodId\" runat=\"server\" Text=\"\"&gt;&lt;%# Eval(\"flavourID\") %&gt;&lt;/asp:Label&gt;\n</code></pre>\n\n<p>When i run this page there is no error</p>\n"}, {"tags": ["c#", "types", "ulong"], "comments": [{"owner": {"reputation": 114215, "user_id": 414076, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GTTci.png?s=128&g=1", "display_name": "Anthony Pegram", "link": "https://stackoverflow.com/users/414076/anthony-pegram"}, "edited": false, "score": 3, "creation_date": 1554918329, "post_id": 55618495, "comment_id": 97930225, "body": "Integer math. Convert one or both operands to double (or decimal, depending on which line you&#39;ve kept) before or while dividing."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 1, "creation_date": 1554918435, "post_id": 55618495, "comment_id": 97930277, "body": "Nothing to do with ulong:  <code>10 &#47; 11 = 0</code>"}, {"owner": {"reputation": 3199, "user_id": 532606, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/941d56c646cc53ab948f7d6b51fb8fa7?s=128&d=identicon&r=PG", "display_name": "SystemX17", "link": "https://stackoverflow.com/users/532606/systemx17"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1554919055, "post_id": 55618495, "comment_id": 97930538, "body": "@TaW 10 / 11 != 0 on a calculator. It was that I was working with ulong (integer) values as they were incorrectly cast for what I was trying to do. Thanks everyone for the help."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 1, "creation_date": 1554919504, "post_id": 55618495, "comment_id": 97930757, "body": "Indeed c# is not a calculator but a language. You have to understand the rules and it will reward you by doing ~anything you want.."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1554920527, "post_id": 55618495, "comment_id": 97931263, "body": "I <i>really</i> wish the C# compiler warned about this. &quot;Late conversion&quot; is a common error amongst both novice and experienced programmers. You also see it in multiplication, where we have <code>long r = a * b;</code> where <code>a</code> and <code>b</code> are integers big enough to overflow into a long when multiplied, but that&#39;s not what happens."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1554928067, "post_id": 55618495, "comment_id": 97934608, "body": "If the subject of how people get integer division wrong interests you, there are some good examples here: <a href=\"https://stackoverflow.com/questions/921180/how-can-i-ensure-that-a-division-of-integers-is-always-rounded-up/926806#926806\" title=\"how can i ensure that a division of integers is always rounded up\">stackoverflow.com/questions/921180/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 2, "creation_date": 1554918722, "post_id": 55618535, "comment_id": 97930397, "body": "<code>double(my.Info.AvailablePhysicalMemory)</code> doesn&#39;t compile, did you mean <code>(double)my.Info.AvailablePhysicalMemory</code>?"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 1, "creation_date": 1554919550, "post_id": 55618535, "comment_id": 97930783, "body": "You can also write <code>1.0 * my.Info.AvailablePhysicalMemory &#47; my.Info.TotalPhysicalMemory;</code>"}, {"owner": {"reputation": 4450, "user_id": 318857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/55ee19d0dd775596dbca5ba1cd92d6ad?s=128&d=identicon&r=PG", "display_name": "fluffy", "link": "https://stackoverflow.com/users/318857/fluffy"}, "reply_to_user": {"reputation": 3199, "user_id": 532606, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/941d56c646cc53ab948f7d6b51fb8fa7?s=128&d=identicon&r=PG", "display_name": "SystemX17", "link": "https://stackoverflow.com/users/532606/systemx17"}, "edited": false, "score": 0, "creation_date": 1554920166, "post_id": 55618535, "comment_id": 97931094, "body": "Thanks, I brainfarted on how C# casting looks. I&#39;d originally used <code>1.0</code> but switched to an explicit cast because I figured someone would peg it as bad style. :P  (Also @SystemX17 I&#39;m not a &#39;he&#39;)"}, {"owner": {"reputation": 3199, "user_id": 532606, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/941d56c646cc53ab948f7d6b51fb8fa7?s=128&d=identicon&r=PG", "display_name": "SystemX17", "link": "https://stackoverflow.com/users/532606/systemx17"}, "edited": false, "score": 1, "creation_date": 1554921075, "post_id": 55618535, "comment_id": 97931502, "body": "Have removed the gendered comment fluffy. My apologies."}], "tags": [], "owner": {"reputation": 4450, "user_id": 318857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/55ee19d0dd775596dbca5ba1cd92d6ad?s=128&d=identicon&r=PG", "display_name": "fluffy", "link": "https://stackoverflow.com/users/318857/fluffy"}, "is_accepted": true, "score": 1, "last_activity_date": 1554920130, "last_edit_date": 1554920130, "creation_date": 1554918344, "answer_id": 55618535, "question_id": 55618495, "link": "https://stackoverflow.com/questions/55618495/why-does-this-ulong-divided-by-ulong-give-me-0/55618535#55618535", "title": "Why does this ulong divided by ulong give me 0?", "body": "<p>You are trying to divide an integer by an integer, which always rounds down. You need to convert to a floating point number before you divide; for example:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>double percent = my.Info.AvailablePhysicalMemory * 1.0 / my.Info.TotalPhysicalMemory;\n</code></pre>\n"}], "owner": {"reputation": 3199, "user_id": 532606, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/941d56c646cc53ab948f7d6b51fb8fa7?s=128&d=identicon&r=PG", "display_name": "SystemX17", "link": "https://stackoverflow.com/users/532606/systemx17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "closed_date": 1554918389, "accepted_answer_id": 55618535, "answer_count": 1, "score": 0, "last_activity_date": 1554920130, "creation_date": 1554918168, "question_id": 55618495, "link": "https://stackoverflow.com/questions/55618495/why-does-this-ulong-divided-by-ulong-give-me-0", "closed_reason": "Duplicate", "title": "Why does this ulong divided by ulong give me 0?", "body": "<p>I am grabbing total RAM of a computer system and available RAM and trying to work out what percentage is available.</p>\n\n<p>I am using the following code:</p>\n\n<pre><code>double percent = my.Info.AvailablePhysicalMemory / my.Info.TotalPhysicalMemory;\n</code></pre>\n\n<p>and have also tried:</p>\n\n<pre><code>decimal percent = my.Info.AvailablePhysicalMemory / my.Info.TotalPhysicalMemory;\n</code></pre>\n\n<p>I am sure it's an issue with the type but I am unsure why both methods give a result of 0.</p>\n\n<p>The actual values are Total: 17072574464 and Available: 8746000384. The values come back from the system cast as ulong. So what does percent always equal 0? If I put the numbers in directly it works fine. Just can't use the ulong variables - hence why I am sure it's my lack of experience with types in C# that is the problem.</p>\n"}, {"tags": ["c#", "collections", "foreach"], "comments": [{"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 1, "creation_date": 1554917984, "post_id": 55618424, "comment_id": 97930042, "body": "Ofcourse you could do this in LINQ but what are you trying to optimize? what <i>looks slow</i>?"}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 1, "creation_date": 1554918085, "post_id": 55618424, "comment_id": 97930102, "body": "This would be best over at <a href=\"https://codereview.stackexchange.com/\">code review</a>..."}, {"owner": {"reputation": 17, "user_id": 10155631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c71238c1173b68a1ae3bb249255c0b?s=128&d=identicon&r=PG&f=1", "display_name": "Mojo Rising", "link": "https://stackoverflow.com/users/10155631/mojo-rising"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1554919892, "post_id": 55618424, "comment_id": 97930927, "body": "@JSteward I thought I could type something with a better runtime than a nested foreach."}], "owner": {"reputation": 17, "user_id": 10155631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c71238c1173b68a1ae3bb249255c0b?s=128&d=identicon&r=PG&f=1", "display_name": "Mojo Rising", "link": "https://stackoverflow.com/users/10155631/mojo-rising"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554918054, "creation_date": 1554917895, "last_edit_date": 1554918054, "question_id": 55618424, "link": "https://stackoverflow.com/questions/55618424/comparing-string-item-in-one-list-to-string-attribute-of-item-in-another-list", "title": "Comparing string item in one list to string attribute of item in another list", "body": "<p>I have two lists: one is a collection of strings, the other is a collection of objects that has string attributes. I'm trying to compare something in list 1 to an attribute of something in list 2.\nI know how to do it, but the code below looks rather slow, and I was looking for a way to optimize it/do it more cleanly. Below is what I already have:</p>\n\n<pre><code>foreach (var a in collectionOne)\n{\n  foreach (var b in collectionTwo)\n  {\n    if (a == b.Name)\n    {\n      //do something\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 3511, "user_id": 4416750, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/067235b492b0e0006e6ce8f5f8bc523a?s=128&d=identicon&r=PG&f=1", "display_name": "Lews Therin", "link": "https://stackoverflow.com/users/4416750/lews-therin"}, "edited": false, "score": 0, "creation_date": 1554917862, "post_id": 55618368, "comment_id": 97929978, "body": "Have you tried <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/generics/constraints-on-type-parameters\" rel=\"nofollow noreferrer\">generic type constraints</a>? Maybe something like <code>public class MyClass&lt;T&gt; where T : BaseAllowedType</code>"}, {"owner": {"reputation": 49661, "user_id": 781754, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4ee1072483e3ab3c7302820d04935328?s=128&d=identicon&r=PG", "display_name": "Daniel Mann", "link": "https://stackoverflow.com/users/781754/daniel-mann"}, "reply_to_user": {"reputation": 3511, "user_id": 4416750, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/067235b492b0e0006e6ce8f5f8bc523a?s=128&d=identicon&r=PG&f=1", "display_name": "Lews Therin", "link": "https://stackoverflow.com/users/4416750/lews-therin"}, "edited": false, "score": 1, "creation_date": 1554917916, "post_id": 55618368, "comment_id": 97930005, "body": "@LewsTherin C# doesn&#39;t allow for generic attributes, so that&#39;s not an option."}, {"owner": {"reputation": 3511, "user_id": 4416750, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/067235b492b0e0006e6ce8f5f8bc523a?s=128&d=identicon&r=PG&f=1", "display_name": "Lews Therin", "link": "https://stackoverflow.com/users/4416750/lews-therin"}, "reply_to_user": {"reputation": 49661, "user_id": 781754, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4ee1072483e3ab3c7302820d04935328?s=128&d=identicon&r=PG", "display_name": "Daniel Mann", "link": "https://stackoverflow.com/users/781754/daniel-mann"}, "edited": false, "score": 1, "creation_date": 1554918043, "post_id": 55618368, "comment_id": 97930079, "body": "@DanielMann I guess it depends on if the OP really needs it to be an attribute or if this is an <a href=\"https://meta.stackexchange.com/a/66378\">XY Problem</a>."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1554918217, "post_id": 55618368, "comment_id": 97930176, "body": "I don&#39;t see why this is downvoted; it is a perfectly reasonable question."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1554918443, "post_id": 55618368, "comment_id": 97930281, "body": "I note that you refer specifically to <i>arrays</i>. FYI C# has the same design flaw as Java, in that <i>unsafe array covariance</i> is legal.  That is, if you have a <code>Giraffe[]</code> in hand, you can assign it to an <code>Animal[]</code> variable, which will then crash horribly when you try to insert a <code>Turtle</code> into the array."}], "answers": [{"comments": [{"owner": {"reputation": 19790, "user_id": 857025, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wVO8p.png?s=128&g=1", "display_name": "Don Rhummy", "link": "https://stackoverflow.com/users/857025/don-rhummy"}, "edited": false, "score": 0, "creation_date": 1554918720, "post_id": 55618505, "comment_id": 97930394, "body": "Thank you for helping. I&#39;m not sure either of those achieve what I want. I believe your first one means that <code>Foo</code> cannot be an Attribute (which I need the main class to be), and your second one is expecting an <code>object</code> of type <code>T</code>, but I don&#39;t want an object, I want a reference to the type (e.g. <code>typeof(MyType)</code>)"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 19790, "user_id": 857025, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wVO8p.png?s=128&g=1", "display_name": "Don Rhummy", "link": "https://stackoverflow.com/users/857025/don-rhummy"}, "edited": false, "score": 0, "creation_date": 1554918815, "post_id": 55618505, "comment_id": 97930429, "body": "@DonRhummy: Oh, if you want these to be runtime type objects, you are out of luck. The C# <i>compile time type checker</i> does not traffic in <i>runtime type information</i> because the compile time type checker runs before runtime."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 19790, "user_id": 857025, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wVO8p.png?s=128&g=1", "display_name": "Don Rhummy", "link": "https://stackoverflow.com/users/857025/don-rhummy"}, "edited": false, "score": 1, "creation_date": 1554918880, "post_id": 55618505, "comment_id": 97930461, "body": "@DonRhummy: If you want an array of <code>Type</code> objects where the <code>Type</code> objects represent types that have a particular property, just check for that property at runtime and throw an exception if given a type that does not match your requirement."}, {"owner": {"reputation": 19790, "user_id": 857025, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wVO8p.png?s=128&g=1", "display_name": "Don Rhummy", "link": "https://stackoverflow.com/users/857025/don-rhummy"}, "edited": false, "score": 0, "creation_date": 1554919076, "post_id": 55618505, "comment_id": 97930546, "body": "ok, that&#39;s what I&#39;ll do. I was hoping it was built in to the language like in Java. Thanks! I&#39;ll use <code>Contract.Requires&lt;ArgumentException&gt;(...)</code>"}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 4, "last_activity_date": 1554918202, "creation_date": 1554918202, "answer_id": 55618505, "question_id": 55618368, "link": "https://stackoverflow.com/questions/55618368/in-c-how-have-field-thats-an-array-of-a-specific-typeor-anything-that-extends/55618505#55618505", "title": "In C# how have field that&#39;s an array of a specific Type(or anything that extends it)?", "body": "<p>First off, that is a <em>property</em>, not a <em>field</em>.</p>\n\n<p>Second, properties cannot be genericized in C#, and neither can attributes. (And neither can fields, for that matter. Only classes, structs, interfaces, delegates and methods can be genericized.)</p>\n\n<p>That said, we can take a stab at your question.</p>\n\n<p>There are two ways to put a constraint on a generic type parameter. The first is to put a constraint on the declaration of a generic class or method:</p>\n\n<pre><code>class Foo&lt;T&gt; where T : Animal {}\n</code></pre>\n\n<p>Now <code>Foo&lt;Giraffe&gt;</code> or <code>Foo&lt;Animal&gt;</code> or <code>Foo&lt;Turtle&gt;</code> are legal, but <code>Foo&lt;string&gt;</code> is not.</p>\n\n<p>Second, on interfaces and delegates you can put a covariance annotation:</p>\n\n<pre><code>interface IFoo&lt;out T&gt; \n{\n  T SomeProperty { get; }\n}\n</code></pre>\n\n<p>But <code>T</code> must be used only in <em>output</em> positions. With this constraint you can assign an <code>IFoo&lt;Giraffe&gt;</code> to a variable of type <code>IFoo&lt;Animal&gt;</code>, but not vice-versa.</p>\n\n<p>Between those two features it is usually possible to build a reasonable type constraint in C#.</p>\n"}], "owner": {"reputation": 19790, "user_id": 857025, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wVO8p.png?s=128&g=1", "display_name": "Don Rhummy", "link": "https://stackoverflow.com/users/857025/don-rhummy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1554918202, "creation_date": 1554917668, "question_id": 55618368, "link": "https://stackoverflow.com/questions/55618368/in-c-how-have-field-thats-an-array-of-a-specific-typeor-anything-that-extends", "title": "In C# how have field that&#39;s an array of a specific Type(or anything that extends it)?", "body": "<p>I want to do something like this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class MyAttribute : Attribute\n{\n    public Type&lt;BaseAllowedType&gt;[] handledTypes { get; set; }\n\n    //...elided...\n}\n</code></pre>\n\n<p>That would then only allow someone adding the attribute with the types that they handle if those types inherit from <code>BaseAllowedType</code>.</p>\n\n<p><em>Example:</em></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[MyAttribute(handledTypes = SubType)]\npublic class MyClass\n{\n}\n\npublic class SubType : BaseAllowedType\n{\n}\n</code></pre>\n\n<p>Is something like this possible in C#? (It is in Java, but not sure if C# allows it)</p>\n\n<p>In Java it would be <code>public Class&lt;? extends BaseAllowedType&gt;[] handledTypes</code></p>\n"}, {"tags": ["c#", "wpf", "data-binding", "dependency-properties"], "comments": [{"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1554917743, "post_id": 55618276, "comment_id": 97929919, "body": "You must not explicitly set the UserControl&#39;s DataContext (e.g. to <code>this</code> or to some property value of the control or some private view model). If you do that, a Binding like <code>CmdBtn=&quot;{Binding MyProperty}&quot;</code> won&#39;t work, because MyProperty is expected in the current DataContext, which should be inherited from the control&#39;s parent, e.g. the window."}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1554917800, "post_id": 55618276, "comment_id": 97929947, "body": "The MainWindow constructor however should set <code>DataContext = this;</code> because it owns <code>MyProperty</code>."}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1554917984, "post_id": 55618276, "comment_id": 97930043, "body": "And as explained in the answer to the original question, the Bindings in the UserControl&#39;s XAML should use RelativeSource, like <code>Kind=&quot;{Binding CmdBtn.Icon, RelativeSource={RelativeSource AncestorType=UserControl}}&quot;</code>"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1554918088, "post_id": 55618276, "comment_id": 97930108, "body": "Alternatively, keep <code>Kind=&quot;{Binding Icon}&quot;</code> but set the DataContext of the top level element in the UserControl: <code>&lt;Grid DataContext=&quot;{Binding CmdBtn, RelativeSource={RelativeSource AncestorType=UserControl}}&quot;&gt;</code>"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1554918269, "post_id": 55618276, "comment_id": 97930201, "body": "Finally, a better approach would be a UserControl that has no knowledge at all of a particular view model. Replace the <code>CmdBtn</code> property (and hence the dependency on a certain VM type) with two separate properties <code>Icon</code> and <code>PlaceHolder</code> that you individually bind to your view model by <code>&lt;cmdBtn:CommandButton_UC Icon=&quot;{Binding MyProperty.Icon}&quot; ...&#47;&gt;</code>"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1554918425, "post_id": 55618276, "comment_id": 97930272, "body": "As a note, trying to fire the PropertyChanged event from the CommandButton_VModel constructor is pointless. The PropertyChanged event will always be null there, hence the code is useless. It should be removed."}, {"owner": {"reputation": 21, "user_id": 11341634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc8c34f7a7993c0b5fa19873fa94c677?s=128&d=identicon&r=PG&f=1", "display_name": "Rodrigo Tavernaro Queiroz", "link": "https://stackoverflow.com/users/11341634/rodrigo-tavernaro-queiroz"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1554919872, "post_id": 55618276, "comment_id": 97930919, "body": "Thank you very much for your time Mr. Clemens, be sure I&#39;ll modify to that better approach you metioned on your comments. Regards"}], "owner": {"reputation": 21, "user_id": 11341634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc8c34f7a7993c0b5fa19873fa94c677?s=128&d=identicon&r=PG&f=1", "display_name": "Rodrigo Tavernaro Queiroz", "link": "https://stackoverflow.com/users/11341634/rodrigo-tavernaro-queiroz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "closed_date": 1554917625, "answer_count": 0, "score": 0, "last_activity_date": 1554917299, "creation_date": 1554917299, "question_id": 55618276, "link": "https://stackoverflow.com/questions/55618276/dependency-property-nerver-set-when-binding-with-a-custom-object", "closed_reason": "Duplicate", "title": "Dependency property nerver set when binding with a custom object", "body": "<p>I'm trying to bind passing the custom object of type \"CommandButton_VModel\" to an User control through a dependency property, but it seems the setter of this dp is never hit. I mean at the user control the dependency property is always null, could someone please advise-me on where am I failing?</p>\n\n<p>Here's my code below:</p>\n\n<p>UserControl XAML:</p>\n\n<pre><code>&lt;UserControl x:Class=\"FireAntTempConfigurer.UserControls.CommandButton_UC\"\n             xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n             xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" \n             xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\" \n             xmlns:local=\"clr-namespace:FireAntTempConfigurer.UserControls\"\n             xmlns:materialDesign=\"clr-namespace:MaterialDesignThemes.Wpf;assembly=MaterialDesignThemes.Wpf\"\n             mc:Ignorable=\"d\" \n             TextElement.Foreground=\"{DynamicResource MaterialDesignPaper}\"\n             d:DesignHeight=\"60 \" d:DesignWidth=\"60\"&gt;\n    &lt;Grid&gt;\n        &lt;Button Height=\"50\" Padding=\"0,0,0,0\" Margin=\"5\" ToolTip=\"{Binding PlaceHolder}\"&gt;\n            &lt;Button.Content&gt;\n                &lt;materialDesign:PackIcon Kind=\"{Binding Icon}\" Height=\"50\" Width=\"50\" /&gt;\n            &lt;/Button.Content&gt;\n        &lt;/Button&gt;\n    &lt;/Grid&gt;\n&lt;/UserControl&gt;\n</code></pre>\n\n<p>UserControl Code Behind</p>\n\n<pre><code>    public partial class CommandButton_UC : UserControl\n    {\n\n        public CommandButton_UC()\n        {\n            DataContext = CmdBtn;\n            InitializeComponent();\n        }\n\n        public CommandButton_VModel CmdBtn\n        {\n            get { return (CommandButton_VModel)GetValue(CmdBtnProperty); }\n            set { SetValue(CmdBtnProperty, value); }\n        }\n\n        public static readonly DependencyProperty CmdBtnProperty =\n            DependencyProperty.Register(\"CmdBtn\", typeof(CommandButton_VModel), typeof(CommandButton_UC), new PropertyMetadata(default(CommandButton_VModel)));\n    }\n</code></pre>\n\n<p>MainWindow XAML:</p>\n\n<pre><code>            &lt;StackPanel&gt;\n                &lt;TextBlock&gt;ToolBox:&lt;/TextBlock&gt;\n                &lt;Separator&gt;&lt;/Separator&gt;\n                &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                    &lt;cmdBtn:CommandButton_UC CmdBtn=\"{Binding MyProperty ,Mode=OneWayToSource}\"&gt;\n                    &lt;/cmdBtn:CommandButton_UC&gt;\n                &lt;/StackPanel&gt;\n            &lt;/StackPanel&gt;\n</code></pre>\n\n<p>MainWindow Code</p>\n\n<pre><code>    public partial class MainWindow : Window\n    {\n\n        public CommandButton_VModel MyProperty { get; set; }\n\n        public MainWindow()\n        {\n            MyProperty = new CommandButton_VModel { Icon = \"Plus\", PlaceHolder = \"Add\" };\n            DataContext = MyProperty;\n            InitializeComponent();\n        }\n\n\n    }\n</code></pre>\n\n<p>ViewModel</p>\n\n<pre><code>    public class CommandButton_VModel : INotifyPropertyChanged\n    {\n        public string Icon { get; set; }\n        public string PlaceHolder { get; set; }\n\n        public event PropertyChangedEventHandler PropertyChanged;\n\n        public CommandButton_VModel()\n        {\n            if (PropertyChanged != null)\n            {\n                PropertyChanged(this, new PropertyChangedEventArgs(\"Icon\"));\n                PropertyChanged(this, new PropertyChangedEventArgs(\"PlaceHolder\"));\n            }\n        }\n    }\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "unit-testing", "moq", "hangfire"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 8527078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02256ad7ef7f227853e08d746af37cdd?s=128&d=identicon&r=PG&f=1", "display_name": "keycad", "link": "https://stackoverflow.com/users/8527078/keycad"}, "edited": false, "score": 0, "creation_date": 1554965998, "post_id": 55619200, "comment_id": 97944853, "body": "That&#39;s not a possible assert... since that Create overload is an extension method. I had already tried that. I&#39;ll update my post"}, {"owner": {"reputation": 7130, "user_id": 3311799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vPfSH.png?s=128&g=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/3311799/johnny"}, "reply_to_user": {"reputation": 93, "user_id": 8527078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02256ad7ef7f227853e08d746af37cdd?s=128&d=identicon&r=PG&f=1", "display_name": "keycad", "link": "https://stackoverflow.com/users/8527078/keycad"}, "edited": false, "score": 0, "creation_date": 1554966916, "post_id": 55619200, "comment_id": 97945310, "body": "@keycad you are right, then just one level deeper :), I updated"}, {"owner": {"reputation": 93, "user_id": 8527078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02256ad7ef7f227853e08d746af37cdd?s=128&d=identicon&r=PG&f=1", "display_name": "keycad", "link": "https://stackoverflow.com/users/8527078/keycad"}, "edited": false, "score": 0, "creation_date": 1554967329, "post_id": 55619200, "comment_id": 97945515, "body": "So the problem was with my <code>IsAny&lt;EnqueuedState&gt;</code>, I wasn&#39;t using the proper interface, thank you :)"}], "tags": [], "owner": {"reputation": 7130, "user_id": 3311799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vPfSH.png?s=128&g=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/3311799/johnny"}, "is_accepted": true, "score": 3, "last_activity_date": 1554966882, "last_edit_date": 1554966882, "creation_date": 1554921169, "answer_id": 55619200, "question_id": 55618267, "link": "https://stackoverflow.com/questions/55618267/unit-test-ibackgroundjobclient-schedule/55619200#55619200", "title": "Unit test IBackgroundJobClient.Schedule", "body": "<p>The example you refer to uses different extension method which at the end calls different <code>IBackgroundJobClient</code> method, <a href=\"https://github.com/HangfireIO/Hangfire/blob/master/src/Hangfire.Core/BackgroundJobClientExtensions.cs#L44\" rel=\"nofollow noreferrer\">github</a>. The following method has been invoked:</p>\n\n<pre><code>client.Create(Expression&lt;Action&gt; methodCall, new EnqueuedState());\n</code></pre>\n\n<p>It perfectly fits the <code>Verify</code> within the example.</p>\n\n<hr>\n\n<p>On the other hand, your are calling <code>Schedule</code> method, <a href=\"https://github.com/HangfireIO/Hangfire/blob/master/src/Hangfire.Core/BackgroundJobClientExtensions.cs#L156\" rel=\"nofollow noreferrer\">github</a>. <code>Schedule</code> method at the end invokes the following:</p>\n\n<pre><code>client.Create(Expression&lt;Action&gt; methodCall, new ScheduledState(enqueueAt.UtcDateTime))\n</code></pre>\n\n<p>Which is also an expression method, so you need to dive deeper one more level where actual <code>interface</code> method has been called:</p>\n\n<pre><code>string Create([NotNull] Job job, [NotNull] IState state);\n</code></pre>\n\n<p>As you can see from the error itself your expectation doesn't match with the actual invocation:</p>\n\n<pre><code>Performed invocations: \nIBackgroundJobClient.Create(JobService.TaskFunction, ScheduledState)\n</code></pre>\n\n<p>Your assert should be something like this:</p>\n\n<pre><code>// Assert\nclient.Verify(x =&gt; x.Create(\n    It.IsAny&lt;Job&gt;(), //you could as in example check actual method name\n    It.IsAny&lt;IState&gt;()); //you could check actual offset\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 8527078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02256ad7ef7f227853e08d746af37cdd?s=128&d=identicon&r=PG&f=1", "display_name": "keycad", "link": "https://stackoverflow.com/users/8527078/keycad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 892, "favorite_count": 0, "accepted_answer_id": 55619200, "answer_count": 1, "score": 1, "last_activity_date": 1554966994, "creation_date": 1554917277, "last_edit_date": 1554966994, "question_id": 55618267, "link": "https://stackoverflow.com/questions/55618267/unit-test-ibackgroundjobclient-schedule", "title": "Unit test IBackgroundJobClient.Schedule", "body": "<p>I am using Hangfire to schedule some jobs. All my jobs have a schedule date, so I'm using Schedule static extension method </p>\n\n<pre><code>public static string Schedule([NotNull] this IBackgroundJobClient client, [InstantHandle][NotNull] Expression&lt;Action&gt; methodCall, DateTimeOffset enqueueAt);\n</code></pre>\n\n<p>I want to unit test my methods, so that I can check that Hangfire is actually being triggered.</p>\n\n<p>To do so, I've followed Hangfire's documentation on unit testing (<a href=\"https://docs.hangfire.io/en/latest/background-methods/writing-unit-tests.html\" rel=\"nofollow noreferrer\">https://docs.hangfire.io/en/latest/background-methods/writing-unit-tests.html</a>) which suggests mocking <code>IBackgroundJobClient</code> and verifying on the only public Create method it has: </p>\n\n<pre><code>string Create([NotNull] Job job, [NotNull] IState state);\n</code></pre>\n\n<p>But I can see that for Schedule invocations, this is not being called, another overload that is not public is being called instead, so I get the following error:</p>\n\n<pre><code>Message: Moq.MockException : \nExpected invocation on the mock at least once, but was never performed: x =&gt; x.Create(It.IsAny&lt;job&gt;(), It.IsAny&lt;enqueuedstate&gt;())\nNo setups configured.\n\nPerformed invocations: \nIBackgroundJobClient.Create(JobService.TaskFunction, ScheduledState)\n</code></pre>\n\n<p>Nevertheless, I've made an attempt with <code>Enqueue</code> method, and that seems to work with the mock. But I need to use <code>Schedule</code>. </p>\n\n<p>Another option would be to assert on the overload it is actually calling</p>\n\n<pre><code>public static string Create([NotNull] this IBackgroundJobClient client, [InstantHandle][NotNull] Expression&lt;Action&gt; methodCall, [NotNull] IState state);\n</code></pre>\n\n<p>But since it's an extension method, that's not a valid approach for Moq.</p>\n\n<p><code>Message: System.NotSupportedException : Invalid verify on an extension method: x =&gt; x.Create(It.IsAny&lt;Expression&lt;Action&gt;&gt;(), It.IsAny&lt;EnqueuedState&gt;())</code></p>\n\n<p>So how can I unit test Hangfire for <code>Schedule</code> method?</p>\n"}, {"tags": ["c#", ".net", "linq"], "comments": [{"owner": {"reputation": 2617, "user_id": 5789864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BTnom.jpg?s=128&g=1", "display_name": "Risto M", "link": "https://stackoverflow.com/users/5789864/risto-m"}, "edited": false, "score": 0, "creation_date": 1554917573, "post_id": 55618070, "comment_id": 97929837, "body": "I made an answer, but have to clarify, were you searching for next DayOfWeek or next DateTime?"}, {"owner": {"reputation": 2253, "user_id": 1405376, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EpyrE.png?s=128&g=1", "display_name": "jrn", "link": "https://stackoverflow.com/users/1405376/jrn"}, "reply_to_user": {"reputation": 2617, "user_id": 5789864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BTnom.jpg?s=128&g=1", "display_name": "Risto M", "link": "https://stackoverflow.com/users/5789864/risto-m"}, "edited": false, "score": 0, "creation_date": 1554917727, "post_id": 55618070, "comment_id": 97929908, "body": "Thank you for your answer @RistoM! I was searching for the next DateTime that matches the closest DayOfWeek in my list."}, {"owner": {"reputation": 2617, "user_id": 5789864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BTnom.jpg?s=128&g=1", "display_name": "Risto M", "link": "https://stackoverflow.com/users/5789864/risto-m"}, "edited": false, "score": 1, "creation_date": 1554917780, "post_id": 55618070, "comment_id": 97929935, "body": "Ok, Let&#39;s see if I can improve answer.."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1554917950, "post_id": 55618070, "comment_id": 97930024, "body": "Is the order in the list significant (e.g. if it was Mon,Sat,Thu would Thu lead to Mon or Sat)?"}, {"owner": {"reputation": 2253, "user_id": 1405376, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EpyrE.png?s=128&g=1", "display_name": "jrn", "link": "https://stackoverflow.com/users/1405376/jrn"}, "edited": false, "score": 0, "creation_date": 1554918032, "post_id": 55618070, "comment_id": 97930071, "body": "No, the order should not matter."}], "answers": [{"tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": true, "score": 2, "last_activity_date": 1554919024, "last_edit_date": 1554919024, "creation_date": 1554917940, "answer_id": 55618441, "question_id": 55618070, "link": "https://stackoverflow.com/questions/55618070/find-next-datetime-based-on-given-dayofweek-list/55618441#55618441", "title": "Find next DateTime based on given DayOfWeek List", "body": "<pre><code>public static DateTime GetNextDateOrSomething(DateTime start, IEnumerable&lt;DayOfWeek&gt; weekdays)\n{\n    if (!weekdays.Any()) throw new ArgumentException($\"{nameof(weekdays)} cannot be empty.\");\n    var increments = Enumerable.Range(1, 6);\n    var matchedIncrement = increments.FirstOrDefault(i =&gt; weekdays.Contains(start.AddDays(i).DayOfWeek));\n    return start.AddDays(matchedIncrement &gt; 0 ? matchedIncrement : 7);\n}\n\n[DataTestMethod]\n[DataRow(\"4/10/2019\", \"Wednesday,Thursday\", \"4/11/2019\")]\n[DataRow(\"4/10/2019\", \"Thursday\", \"4/11/2019\")]\n[DataRow(\"4/10/2019\", \"Monday,Tuesday\", \"4/15/2019\")]\n[DataRow(\"4/10/2019\", \"Tuesday\", \"4/16/2019\")]\npublic void TestDateMethod(string start, string weekdays, string expected)\n{\n    var startDate = DateTime.Parse(start);\n    var weekDaysList = weekdays.Split(',').Select(d =&gt; (DayOfWeek)Enum.Parse(typeof(DayOfWeek), d));\n    var expectedDate = DateTime.Parse(expected);\n    var result = GetNextDateOrSomething(startDate, weekDaysList);\n    Assert.AreEqual(expectedDate, result);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 1, "last_activity_date": 1554919093, "last_edit_date": 1554919093, "creation_date": 1554918511, "answer_id": 55618566, "question_id": 55618070, "link": "https://stackoverflow.com/questions/55618070/find-next-datetime-based-on-given-dayofweek-list/55618566#55618566", "title": "Find next DateTime based on given DayOfWeek List", "body": "<p>You can compute the (non-negative) distance between tomorrow and the next day of week in the list, then use the minimum distance to get the new date:</p>\n\n<pre><code>var tomorrowDOW = startDate.AddDays(1).DayOfWeek;\nvar dist = daysOfWeek.Select(w =&gt; (w - tomorrowDOW + 14) % 7).Min();\nvar nextDate = startDate.AddDays(dist + 1);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1554919141, "post_id": 55618678, "comment_id": 97930579, "body": "The answer is supposed to be the <i>date</i> of the next day of week, not the day of week."}], "tags": [], "owner": {"reputation": 115, "user_id": 2310774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EUsZq.jpg?s=128&g=1", "display_name": "Shameer A Mohammed", "link": "https://stackoverflow.com/users/2310774/shameer-a-mohammed"}, "is_accepted": false, "score": 1, "last_activity_date": 1554919823, "last_edit_date": 1554919823, "creation_date": 1554919040, "answer_id": 55618678, "question_id": 55618070, "link": "https://stackoverflow.com/questions/55618070/find-next-datetime-based-on-given-dayofweek-list/55618678#55618678", "title": "Find next DateTime based on given DayOfWeek List", "body": "<pre><code>class Program\n    {\n        static DateTime NextDay(List&lt;DayOfWeek&gt; workingDays, DateTime dateTime)\n        {\n            var result = dateTime;\n            var dayOfWeek = (int)dateTime.DayOfWeek;\n\n            dayOfWeek++;\n            result = result.AddDays(1);\n\n            while (!workingDays.Any(x=&gt; x == (DayOfWeek)dayOfWeek))\n            {\n                if (dayOfWeek &gt; (int)workingDays.Last())\n                {\n                    var delta = ((int)workingDays.First() + 7) - dayOfWeek;\n                    dayOfWeek = (int)workingDays.First();\n                    result = result.AddDays(delta);\n\n                }\n                else\n                {\n                    dayOfWeek++;\n                    result = result.AddDays(1);\n                }\n            }\n            return result;\n        }\n\n        static void Main(string[] args)\n        {\n            var workingDays = new List&lt;DayOfWeek&gt;()\n            {\n                DayOfWeek.Monday,\n                DayOfWeek.Thursday,\n                DayOfWeek.Saturday\n            };\n\n            workingDays.Sort();\n\n            var dayOfWeek = NextDay(workingDays, DateTime.Now);\n            Console.WriteLine(dayOfWeek.ToString());\n\n            dayOfWeek = NextDay(workingDays, DateTime.Now.AddDays(1));\n            Console.WriteLine(dayOfWeek.ToString());\n\n            dayOfWeek = NextDay(workingDays, DateTime.Now.AddDays(2));\n            Console.WriteLine(dayOfWeek.ToString());\n\n            dayOfWeek = NextDay(workingDays, DateTime.Now.AddDays(3));\n            Console.WriteLine(dayOfWeek.ToString());\n\n            Console.ReadLine();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2253, "user_id": 1405376, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EpyrE.png?s=128&g=1", "display_name": "jrn", "link": "https://stackoverflow.com/users/1405376/jrn"}, "is_accepted": false, "score": 1, "last_activity_date": 1554931491, "creation_date": 1554931491, "answer_id": 55621527, "question_id": 55618070, "link": "https://stackoverflow.com/questions/55618070/find-next-datetime-based-on-given-dayofweek-list/55621527#55621527", "title": "Find next DateTime based on given DayOfWeek List", "body": "<p>Besides the great answers posted for this question, here is another solution which worked great for me. I created the following private method to return the next DateTime based on a given DateTime for a List of valid DayOfWeek items:</p>\n\n<pre><code>private static DateTime NextDateTimeByDayOfWeek(DateTime target, List&lt;DayOfWeek&gt; validDaysOfWeek)\n    {\n        return Enumerable.Range(1, 7)\n            .Select(n =&gt; target.AddDays(n))\n            .First(date =&gt; validDaysOfWeek.Contains(date.DayOfWeek));\n    }\n</code></pre>\n"}], "owner": {"reputation": 2253, "user_id": 1405376, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EpyrE.png?s=128&g=1", "display_name": "jrn", "link": "https://stackoverflow.com/users/1405376/jrn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 55618441, "answer_count": 4, "score": 1, "last_activity_date": 1555021871, "creation_date": 1554916496, "last_edit_date": 1555021871, "question_id": 55618070, "link": "https://stackoverflow.com/questions/55618070/find-next-datetime-based-on-given-dayofweek-list", "title": "Find next DateTime based on given DayOfWeek List", "body": "<p>I have a list of DayOfWeek enum item: <code>var daysOfWeek = List&lt;DayOfWeek&gt;</code></p>\n\n<p>This list contains a variable amount of DaysOfWeek items, e.g. Monday, Thursday, Saturday.</p>\n\n<p>I would like to find the next DateTime to any given DateTime based on <code>List&lt;DayOfWeek&gt;</code>.</p>\n\n<p>If the given date would fall on a Wednesday, the next DateTime which should return would be a Thursday.</p>\n\n<p>If the given date would fall on a Thursday, the next DateTime which should return would be a Saturday.</p>\n\n<p>So far, I have been fiddling around with the some LINQ expressions and trying some options with the Min() extension method but have no code which I could share that would be workable. I am wondering if I am missing some real basic LINQ functionality.</p>\n\n<p>SO-Topics that have given me some ideas so far include <a href=\"https://stackoverflow.com/questions/46182046/find-closest-week-day-in-dayofweek-list/46185737#46185737\">this one</a> and <a href=\"https://stackoverflow.com/questions/20056048/linq-lambda-expression-find-the-closest-day-of-week-to-current-date-now\">that one</a>, however I was not able to produce a solution for my problem with their answers.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 158803, "user_id": 246342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ba0aea3f521082f18dd7c186e7d4c3?s=128&d=identicon&r=PG", "display_name": "Alex K.", "link": "https://stackoverflow.com/users/246342/alex-k"}, "edited": false, "score": 1, "creation_date": 1554916891, "post_id": 55618042, "comment_id": 97929490, "body": "A System.Diagnostics.Stopwatch() is the thing to use for millisecond timing, the update frequency of .Now is not guaranteed at all."}], "answers": [{"tags": [], "owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "is_accepted": true, "score": 0, "last_activity_date": 1554917236, "creation_date": 1554917236, "answer_id": 55618260, "question_id": 55618042, "link": "https://stackoverflow.com/questions/55618042/how-do-i-count-how-often-a-method-was-called-within-10-milliseconds/55618260#55618260", "title": "How do I count how often a method was called within 10 milliseconds?", "body": "<p><code>DateTime.Now</code> itself may take too much time being calculated, you'll be better off using a <code>System.Diagnostics.Stopwatch</code>.</p>\n\n<p>Something like this:</p>\n\n<pre><code>Stopwatch stopwatch = new Stopwatch();\nint counter = 0;\n\npublic void OnSensorChanged(SensorEvent e)\n{\n    if (!stopwatch.IsRunning)\n    {\n        // start the stopwatch\n        stopwatch.Start();\n    }\n    else\n    {\n        if (stopwatch.ElapsedMiliseconds &lt;= 10)\n        {\n            counter++;\n            return;\n        }\n    }\n\n    Console.WriteLine(counter);\n\n    // 10ms passed, restart the stopwatch\n    stopwatch.Restart();\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 11226661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kfXVw.jpg?s=128&g=1", "display_name": "meltemxxx", "link": "https://stackoverflow.com/users/11226661/meltemxxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 55618260, "answer_count": 1, "score": -1, "last_activity_date": 1554917236, "creation_date": 1554916409, "last_edit_date": 1554916779, "question_id": 55618042, "link": "https://stackoverflow.com/questions/55618042/how-do-i-count-how-often-a-method-was-called-within-10-milliseconds", "title": "How do I count how often a method was called within 10 milliseconds?", "body": "<p>I have a sensorlistener which runs the method \"onsensorchanged\" every single time an event has occured. Now I want to know how often this method is executed within 10 millisecond.</p>\n\n<p>I have a timespan (current Timestamp- previous Timestamp), which should execute \"counter++\" when my timespan(total millisec) is smaller then 10.\nUnfortunately my counter is always 0 somehow.\nI did the initializiation outside of the onSensorChanged method because it would always initialize each time the method would be running (to 0).</p>\n\n<pre><code>DateTime timestamp;\nDateTime timestampAlt;\nTimeSpan deltaT;\nint counter = 0;\n\npublic void OnSensorChanged(SensorEvent e)\n{\n    timestamp = System.DateTime.Now;    //timestamp of now\n    deltaT = timestamp - timestampAlt;  //delta of timestamp of event 1 and event 2\n\n    //if delta between two events happened before 10 milli sec past, ignore\n    if (deltaT.TotalMilliseconds &lt;= 10 || deltaT.TotalMilliseconds &lt;= -10) //deltaT.Seconds &lt;= 0.01\n    {\n        counter++;\n        return;\n    }\n\n    Console.WriteLine(counter);\n\n    //if 10 ms past, our previous timestamp become the old\n    timestampAlt = timestamp;\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "sql-server", ".net-core"], "answers": [{"comments": [{"owner": {"reputation": 2092, "user_id": 7926183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff222c5bfb610f85712e726ee7c5f93?s=128&d=identicon&r=PG&f=1", "display_name": "SMor", "link": "https://stackoverflow.com/users/7926183/smor"}, "edited": false, "score": 2, "creation_date": 1554917643, "post_id": 55618036, "comment_id": 97929870, "body": "Which is might be a license violation if the ERP is not developed internally."}], "tags": [], "owner": {"reputation": 137, "user_id": 5705766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4751eccaec59cc5f7066b1cf3949cb?s=128&d=identicon&r=PG&f=1", "display_name": "Alex M", "link": "https://stackoverflow.com/users/5705766/alex-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1554916400, "creation_date": 1554916400, "answer_id": 55618036, "question_id": 55618000, "link": "https://stackoverflow.com/questions/55618000/how-to-create-a-subscription-on-a-specific-sql-server-table-when-rows-are-added/55618036#55618036", "title": "How to create a subscription on a specific SQL Server table when rows are added?", "body": "<p>Triggers on insert. You have to configure the connections between your data sources. Make sure to test your triggers thoroughly</p>\n"}, {"tags": [], "owner": {"reputation": 1171, "user_id": 5022812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6be5e79bf480b95edc5ce5cbb7c7db?s=128&d=identicon&r=PG&f=1", "display_name": "hassan.ef", "link": "https://stackoverflow.com/users/5022812/hassan-ef"}, "is_accepted": false, "score": 1, "last_activity_date": 1554923031, "creation_date": 1554923031, "answer_id": 55619658, "question_id": 55618000, "link": "https://stackoverflow.com/questions/55618000/how-to-create-a-subscription-on-a-specific-sql-server-table-when-rows-are-added/55619658#55619658", "title": "How to create a subscription on a specific SQL Server table when rows are added?", "body": "<p>I think you can use SignalR, these are samples can be useful:<br>\n<a href=\"https://docs.microsoft.com/en-us/aspnet/signalr/overview/getting-started/tutorial-getting-started-with-signalr\" rel=\"nofollow noreferrer\">https://stackoverflow.com/questions/11140164/signalr-console-app-example</a></p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/aspnet/signalr/overview/getting-started/tutorial-getting-started-with-signalr\" rel=\"nofollow noreferrer\">SignalR-example2</a></p>\n"}], "owner": {"reputation": 41, "user_id": 10917838, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NJ0nV2igwyI/AAAAAAAAAAI/AAAAAAAABLM/g6XQnirhTGQ/photo.jpg?sz=128", "display_name": "Yuval Lerner", "link": "https://stackoverflow.com/users/10917838/yuval-lerner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "closed_date": 1554992083, "answer_count": 2, "score": 0, "last_activity_date": 1554923031, "creation_date": 1554916271, "last_edit_date": 1554917273, "question_id": 55618000, "link": "https://stackoverflow.com/questions/55618000/how-to-create-a-subscription-on-a-specific-sql-server-table-when-rows-are-added", "closed_reason": "Duplicate", "title": "How to create a subscription on a specific SQL Server table when rows are added?", "body": "<p>I have a back-end that synchronizes data from an ERP that's running in SQL Server.</p>\n\n<p>I don't want to run <code>select * from table where [not have processed filter]</code> every second to catch new data.</p>\n\n<p>When a new row is added to a specific table, I want to have some kind of event subscription that will cause my .NET Windows service to get this new data and just send it directly to the backend.</p>\n\n<p>In the backend I already have a channel that receives the data and updates whoever is subscribed in the frontend.</p>\n\n<p>I looked into Event Notification that exists since SQL Server 2016 but it doesn't look like what I'm looking for.</p>\n"}, {"tags": ["c#", "visual-studio", "visual-studio-2019"], "comments": [{"owner": {"reputation": 1088, "user_id": 4501035, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/90f6fd525f3b6f6f32b1649f24f49857?s=128&d=identicon&r=PG&f=1", "display_name": "Display name", "link": "https://stackoverflow.com/users/4501035/display-name"}, "edited": false, "score": 0, "creation_date": 1554916746, "post_id": 55617949, "comment_id": 97929407, "body": "In VS, each project has its own default namespace and when you add a class via the GUI the new class starts off with that name space. Same thing for the directory in which the project is located. The new class will have that directory as its parent. But that&#39;s about it. New classes start off with what the project has."}, {"owner": {"reputation": 19790, "user_id": 857025, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wVO8p.png?s=128&g=1", "display_name": "Don Rhummy", "link": "https://stackoverflow.com/users/857025/don-rhummy"}, "reply_to_user": {"reputation": 1088, "user_id": 4501035, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/90f6fd525f3b6f6f32b1649f24f49857?s=128&d=identicon&r=PG&f=1", "display_name": "Display name", "link": "https://stackoverflow.com/users/4501035/display-name"}, "edited": false, "score": 0, "creation_date": 1554916917, "post_id": 55617949, "comment_id": 97929509, "body": "@Displayname yes, I know. But I want to make a class that&#39;s in <code>&#47;&lt;project_root&gt;&#47;Database&#47;DbLoader.cs</code>. From what I can tell, that takes a lot of unecessary clicks to first create the folder, then create the file in that folder."}], "owner": {"reputation": 19790, "user_id": 857025, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wVO8p.png?s=128&g=1", "display_name": "Don Rhummy", "link": "https://stackoverflow.com/users/857025/don-rhummy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 524, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554916091, "creation_date": 1554916091, "question_id": 55617949, "link": "https://stackoverflow.com/questions/55617949/visual-studio-shortcut-way-to-add-new-class-with-namespace-and-auto-create-fold", "title": "Visual Studio: Shortcut/way to add new class with namespace and auto create folder (and put it there)?", "body": "<p>In IntelliJ, I can create a new class and if I name it <code>com.mystuff.db.DbLoader</code>, then it auto-creates the following directories and file:</p>\n\n<pre><code>com\n   /mystuff\n      /db\n         /DbLoader.java\n</code></pre>\n\n<p>Is there a shortcut for doing the same in Visual Studio for a C# class?</p>\n"}, {"tags": ["c#", "opengl", "opengl-compat"], "comments": [{"owner": {"reputation": 60686, "user_id": 277176, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2678da280c230bccef9781b8e5fbaf80?s=128&d=identicon&r=PG", "display_name": "Yakov Galka", "link": "https://stackoverflow.com/users/277176/yakov-galka"}, "edited": false, "score": 1, "creation_date": 1554917668, "post_id": 55617863, "comment_id": 97929878, "body": "How exactly do you expect to &#39;see the line&#39;? If it&#39;s parallel to the z-axis in orthographic projection then the start and end points of the line coincide on the screen, so it has zero length -- thus nothing is drawn."}, {"owner": {"reputation": 1, "user_id": 11045822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b99ce3667854f7bed5b319a32b20e04b?s=128&d=identicon&r=PG&f=1", "display_name": "jklasdf", "link": "https://stackoverflow.com/users/11045822/jklasdf"}, "reply_to_user": {"reputation": 60686, "user_id": 277176, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2678da280c230bccef9781b8e5fbaf80?s=128&d=identicon&r=PG", "display_name": "Yakov Galka", "link": "https://stackoverflow.com/users/277176/yakov-galka"}, "edited": false, "score": 0, "creation_date": 1554917960, "post_id": 55617863, "comment_id": 97930025, "body": "I want to see 1 point."}, {"owner": {"reputation": 60686, "user_id": 277176, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2678da280c230bccef9781b8e5fbaf80?s=128&d=identicon&r=PG", "display_name": "Yakov Galka", "link": "https://stackoverflow.com/users/277176/yakov-galka"}, "edited": false, "score": 0, "creation_date": 1554918055, "post_id": 55617863, "comment_id": 97930085, "body": "Then you&#39;ll need to draw it with <code>GL_POINTS</code> indeed. OpenGL won&#39;t do that automatically simply because it&#39;s not how it rasterizes lines."}, {"owner": {"reputation": 1, "user_id": 11045822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b99ce3667854f7bed5b319a32b20e04b?s=128&d=identicon&r=PG&f=1", "display_name": "jklasdf", "link": "https://stackoverflow.com/users/11045822/jklasdf"}, "reply_to_user": {"reputation": 60686, "user_id": 277176, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2678da280c230bccef9781b8e5fbaf80?s=128&d=identicon&r=PG", "display_name": "Yakov Galka", "link": "https://stackoverflow.com/users/277176/yakov-galka"}, "edited": false, "score": 0, "creation_date": 1554918322, "post_id": 55617863, "comment_id": 97930221, "body": "Thanks for advice."}], "owner": {"reputation": 1, "user_id": 11045822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b99ce3667854f7bed5b319a32b20e04b?s=128&d=identicon&r=PG&f=1", "display_name": "jklasdf", "link": "https://stackoverflow.com/users/11045822/jklasdf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554917676, "creation_date": 1554915730, "last_edit_date": 1554917676, "question_id": 55617863, "link": "https://stackoverflow.com/questions/55617863/sharpgl-can-see-a-line-parallel-to-the-z-axis", "title": "Sharpgl can see a line parallel to the Z axis", "body": "<p>I drew a line parallel to the Z axis in sharpgl. I set the camera above the Z axis, so I thought I would see 1 point, but I don't see it. Later I want to draw a large number of these lines side by side, now I'm trying on one.</p>\n\n<p>Camera settings:</p>\n\n<pre><code>gl.Ortho (0, 1595, 0, 1000, -30, 80);\n\ngl.LookAt(0.0f, 0.0f, 90.0f, 0.0f, 0.0f, 0.0f, 0.0f, 1.0f, 0.0f);\n</code></pre>\n\n<p>Line Drawing:</p>\n\n<pre><code>gl.LineWidth (100.0f);\ngl.Begin (OpenGL.GL_LINES);\ngl.Color (0, 0, 0);\ngl.Vertex (600, 600, 30);\ngl.Vertex (600, 600, 50);\ngl.End ();\ngl.Flush ();\n</code></pre>\n\n<p>When I draw a line at a different angle, you can see it:</p>\n\n<pre><code>gl.Vertex (180, 15, 20);\ngl.Vertex (800, 800, 20);\n</code></pre>\n\n<p>When I draw only a point, I also see it:         </p>\n\n<pre><code>gl.PointSize (100.0f);\ngl.Begin (OpenGL.GL_POINTS);\ngl.Color (0, 0, 0);\ngl.Vertex (800, 800, 20);\ngl.End ();\n</code></pre>\n\n<p>I need to see the line. Do I need to add a point to the beginning and end of a line, or is it just something to set the line to be visible?</p>\n"}, {"tags": ["c#", ".net-core", "identity"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10930073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/685eee14f52e8f1bcd6cacc530a3d546?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil M", "link": "https://stackoverflow.com/users/10930073/kamil-m"}, "edited": false, "score": 0, "creation_date": 1554923745, "post_id": 55618590, "comment_id": 97932732, "body": "Hello Dmitry! Thanks for reply. I tried this, but effect is the same. I don&#39;t see a ManageNav."}, {"owner": {"reputation": 25337, "user_id": 804385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f600efe82b7f3a1614af15cf3f833215?s=128&d=identicon&r=PG", "display_name": "Dmitry Pavlov", "link": "https://stackoverflow.com/users/804385/dmitry-pavlov"}, "reply_to_user": {"reputation": 3, "user_id": 10930073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/685eee14f52e8f1bcd6cacc530a3d546?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil M", "link": "https://stackoverflow.com/users/10930073/kamil-m"}, "edited": false, "score": 0, "creation_date": 1554924737, "post_id": 55618590, "comment_id": 97933127, "body": "@KamilM check this <a href=\"https://www.coderepo.blog/posts/building-elegant-applications-aspnet-core-mvc-2.1-coreui-2-bootstrap-4/#4-3-customize-identity-views\" rel=\"nofollow noreferrer\">coderepo.blog/posts/&hellip;</a> and that <a href=\"https://devblogs.microsoft.com/aspnet/asp-net-core-2-1-0-preview2-now-available/#user-content-customize-default-identity-ui\" rel=\"nofollow noreferrer\">devblogs.microsoft.com/aspnet/&hellip;</a>"}, {"owner": {"reputation": 166, "user_id": 1345055, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a59be6a143f47c3db2be744123e09407?s=128&d=identicon&r=PG", "display_name": "wondernate", "link": "https://stackoverflow.com/users/1345055/wondernate"}, "edited": false, "score": 1, "creation_date": 1584813220, "post_id": 55618590, "comment_id": 107555197, "body": "This partially worked.  I also had to add the namespace for my identity user to the razor and the MVC _ViewImports.cshtml files.   But big time thanks for getting me on the right track!"}, {"owner": {"reputation": 25337, "user_id": 804385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f600efe82b7f3a1614af15cf3f833215?s=128&d=identicon&r=PG", "display_name": "Dmitry Pavlov", "link": "https://stackoverflow.com/users/804385/dmitry-pavlov"}, "edited": false, "score": 0, "creation_date": 1584822172, "post_id": 55618590, "comment_id": 107558000, "body": "Make sure you have updated code to custom user / role types in your scaffolded views/pages for Identity (those are under Accounts area / folder)"}, {"owner": {"reputation": 77, "user_id": 2521257, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/sMN4I.jpg?s=128&g=1", "display_name": "user2521257", "link": "https://stackoverflow.com/users/2521257/user2521257"}, "reply_to_user": {"reputation": 166, "user_id": 1345055, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a59be6a143f47c3db2be744123e09407?s=128&d=identicon&r=PG", "display_name": "wondernate", "link": "https://stackoverflow.com/users/1345055/wondernate"}, "edited": false, "score": 1, "creation_date": 1590243908, "post_id": 55618590, "comment_id": 109610378, "body": "@wondernate Excellent suggestion. I&#39;ve just added my namespace in the _ViewImports files and the _ManageNav found the new ApplicationUser. Thanks."}], "tags": [], "owner": {"reputation": 25337, "user_id": 804385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f600efe82b7f3a1614af15cf3f833215?s=128&d=identicon&r=PG", "display_name": "Dmitry Pavlov", "link": "https://stackoverflow.com/users/804385/dmitry-pavlov"}, "is_accepted": true, "score": 2, "last_activity_date": 1554918623, "creation_date": 1554918623, "answer_id": 55618590, "question_id": 55617816, "link": "https://stackoverflow.com/questions/55617816/managenav-doesnt-work-after-add-my-own-identity-class/55618590#55618590", "title": "_ManageNav doesn&#39;t work after add my own Identity class", "body": "<p>I assume, you should use your custom class here: </p>\n\n<pre><code>@inject SignInManager&lt;MyAppUser&gt; SignInManager\n</code></pre>\n\n<p>instead of: </p>\n\n<pre><code>@inject SignInManager&lt;IdentityUser&gt; SignInManager\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10930073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/685eee14f52e8f1bcd6cacc530a3d546?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil M", "link": "https://stackoverflow.com/users/10930073/kamil-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 774, "favorite_count": 1, "accepted_answer_id": 55618590, "answer_count": 1, "score": 0, "last_activity_date": 1554918702, "creation_date": 1554915589, "last_edit_date": 1554918702, "question_id": 55617816, "link": "https://stackoverflow.com/questions/55617816/managenav-doesnt-work-after-add-my-own-identity-class", "title": "_ManageNav doesn&#39;t work after add my own Identity class", "body": "<p>I used Identity in .NET Core 2.1. MVC app and I have one problem. As long as I used build-in class IdentityUser, my _ManageNav works good: when I clicked on UserName, on the left side of my application I saw ManageNav menu. But I must implicate my own class, because I must have list for users:</p>\n\n<pre><code>public class MyAppUser : IdentityUser\n{\n    public ICollection&lt;Recipe&gt; Recipes { get; set; }\n}\n</code></pre>\n\n<p>Of course I change in Startup information about class:</p>\n\n<pre><code>services.AddIdentity&lt;MyAppUser, IdentityRole&gt;()\n            .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;()\n            .AddDefaultTokenProviders();\n</code></pre>\n\n<p>Also add a mail sender, because I had error with this:</p>\n\n<pre><code>services.AddTransient&lt;IEmailSender, MyAppMailSender&gt;();\n</code></pre>\n\n<p>My _ManaveNav is practically build-in, I didn't have to change anything because first I wanted configure my own class, this is my _ManageNav:</p>\n\n<pre><code>@inject SignInManager&lt;IdentityUser&gt; SignInManager\n@{\n    var hasExternalLogins = (await SignInManager.GetExternalAuthenticationSchemesAsync()).Any();\n}\n&lt;div class=\"menu-left\"&gt;\n    &lt;ul class=\"nav nav-pills nav-stacked\"&gt;\n        &lt;li class=\"@ManageNavPages.IndexNavClass(ViewContext)\"&gt;&lt;a asp-page=\"./Index\"&gt;Profile&lt;/a&gt;&lt;/li&gt;\n        &lt;li class=\"@ManageNavPages.ChangePasswordNavClass(ViewContext)\"&gt;&lt;a id=\"change-password\" asp-page=\"./ChangePassword\"&gt;Password&lt;/a&gt;&lt;/li&gt;\n        @if (hasExternalLogins)\n        {\n            &lt;li class=\"@ManageNavPages.ExternalLoginsNavClass(ViewContext)\"&gt;&lt;a id=\"external-login\" asp-page=\"./ExternalLogins\"&gt;External logins&lt;/a&gt;&lt;/li&gt;\n        }\n        &lt;li class=\"@ManageNavPages.TwoFactorAuthenticationNavClass(ViewContext)\"&gt;&lt;a asp-page=\"./TwoFactorAuthentication\"&gt;Two-factor authentication&lt;/a&gt;&lt;/li&gt;\n        &lt;li class=\"@ManageNavPages.PersonalDataNavClass(ViewContext)\"&gt;&lt;a asp-page=\"./PersonalData\"&gt;Personal data&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I tried with IdentityUser or MyAppUser in first line (@inject), but always I have default menu, which I have normal in app. My Identity layout:</p>\n\n<pre><code>@{\nLayout = \"/Areas/Identity/Pages/_Layout.cshtml\"; }\n\n&lt;h2&gt;Manage your account&lt;/h2&gt;\n&lt;partial name=\"_MenuTop\" /&gt;\n&lt;div class=\"all\"&gt;\n\n    &lt;partial name=\"_ManageNav\" /&gt;\n    &lt;div class=\"content\"&gt;\n        @RenderBody()\n    &lt;/div&gt;\n    &lt;partial name=\"_MenuRight\" /&gt;\n    &lt;div class=\"clearfix\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n@section Scripts {\n    @RenderSection(\"Scripts\", required: false)\n}\n</code></pre>\n\n<p>Maybe one of You have this problem in Your app? I think ManageNav and Layout is OK, because on version where I use IdentityUser ManageNav works great.</p>\n\n<p>Best regards,\nKamil</p>\n"}, {"tags": ["c#", "json.net", "azure-cosmosdb", "documentclient"], "comments": [{"owner": {"reputation": 4408, "user_id": 159828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8b9a05de69529b9c2db75401ebc90f82?s=128&d=identicon&r=PG", "display_name": "Bryan Lewis", "link": "https://stackoverflow.com/users/159828/bryan-lewis"}, "edited": false, "score": 0, "creation_date": 1554921917, "post_id": 55617750, "comment_id": 97931911, "body": "Perhaps a custom contract resolver, as mentioned here: <a href=\"https://stackoverflow.com/questions/6288660/ensuring-json-keys-are-lowercase-in-net/6288726\" title=\"ensuring json keys are lowercase in net\">stackoverflow.com/questions/6288660/&hellip;</a>"}, {"owner": {"reputation": 79, "user_id": 4060547, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9f1a8a6d28d2b22d0b2b552e9957f0eb?s=128&d=identicon&r=PG&f=1", "display_name": "Raju Donthula", "link": "https://stackoverflow.com/users/4060547/raju-donthula"}, "reply_to_user": {"reputation": 4408, "user_id": 159828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8b9a05de69529b9c2db75401ebc90f82?s=128&d=identicon&r=PG", "display_name": "Bryan Lewis", "link": "https://stackoverflow.com/users/159828/bryan-lewis"}, "edited": false, "score": 0, "creation_date": 1555049963, "post_id": 55617750, "comment_id": 97980540, "body": "Thanks for the response, but this custom contract resolver will work only for property names. I want to convert the values as well. like <code>var json = LowercaseJsonSerializer.SerializeObject(new { Foo = &quot;Bar&quot; }); &#47;&#47; { &quot;foo&quot;: &quot;bar&quot; }</code>"}, {"owner": {"reputation": 79, "user_id": 4060547, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9f1a8a6d28d2b22d0b2b552e9957f0eb?s=128&d=identicon&r=PG&f=1", "display_name": "Raju Donthula", "link": "https://stackoverflow.com/users/4060547/raju-donthula"}, "reply_to_user": {"reputation": 4408, "user_id": 159828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8b9a05de69529b9c2db75401ebc90f82?s=128&d=identicon&r=PG", "display_name": "Bryan Lewis", "link": "https://stackoverflow.com/users/159828/bryan-lewis"}, "edited": false, "score": 0, "creation_date": 1556301006, "post_id": 55617750, "comment_id": 98405220, "body": "any comments, please."}], "answers": [{"tags": [], "owner": {"reputation": 2573, "user_id": 11002318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85756b18c616fc16b00e34c03afc6575?s=128&d=identicon&r=PG&f=1", "display_name": "SamaraSoucy", "link": "https://stackoverflow.com/users/11002318/samarasoucy"}, "is_accepted": false, "score": 0, "last_activity_date": 1556505062, "creation_date": 1556505062, "answer_id": 55896276, "question_id": 55617750, "link": "https://stackoverflow.com/questions/55617750/lowercase-document-in-cosmosdb/55896276#55896276", "title": "Lowercase document in CosmosDB", "body": "<p>You can do this using a <a href=\"https://www.newtonsoft.com/json/help/html/CustomJsonConverter.htm\" rel=\"nofollow noreferrer\">custom converter</a>, but depending on how complex your objects are, this can become quite complicated. For example, one that can handle any object with string and int values, as well as IEnumerables, would look something like this:</p>\n\n<pre><code>public class CaseConverter : JsonConverter\n{\n    public override bool CanConvert(Type objectType)\n    {\n        return true;\n    }\n\n    public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)\n    {\n        throw new NotImplementedException();\n    }\n\n    public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n    {\n        if (value.GetType() == typeof(string) || value.GetType() ==  typeof(int))\n        {\n            writer.WriteValue(value.ToString().ToLower());\n        }\n        else\n        {\n\n            var enumerable = value as System.Collections.IEnumerable;\n\n            if (enumerable != null)\n            {\n\n                writer.WriteStartArray();\n\n                foreach (var item in enumerable)\n                {\n                    serializer.Serialize(writer, item);\n                }\n\n                writer.WriteEndArray();\n            }\n            else\n            {\n                writer.WriteStartObject();\n\n                PropertyInfo[] properties = value.GetType().GetProperties();\n                foreach (PropertyInfo pi in properties)\n                {\n                    writer.WritePropertyName(pi.Name.ToLower());\n                    serializer.Serialize(writer, pi.GetValue(value));\n                }\n\n                writer.WriteEndObject();\n            }\n        }\n    }\n</code></pre>\n\n<p>If you know what the object type you are serializing is, you can write your converter to be specific to that type instead of using reflection.</p>\n\n<p>When calling the custom converter, you just add it to the serializer settings.</p>\n\n<pre><code>    var client = new DocumentClient(new Uri(\"\"), \"\", serializerSettings: new JsonSerializerSettings\n    {\n        Converters = new List&lt;JsonConverter&gt;\n        {\n            new CaseConverter()\n        }\n    });\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 4060547, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9f1a8a6d28d2b22d0b2b552e9957f0eb?s=128&d=identicon&r=PG&f=1", "display_name": "Raju Donthula", "link": "https://stackoverflow.com/users/4060547/raju-donthula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556505062, "creation_date": 1554915260, "last_edit_date": 1554916956, "question_id": 55617750, "link": "https://stackoverflow.com/questions/55617750/lowercase-document-in-cosmosdb", "title": "Lowercase document in CosmosDB", "body": "<p>I am trying to store a document in lowercase (both property name and value) in the CosmosDB. I just want to make it on the <code>DocumentClient</code> level.\nI found the below code to apply <code>JsonSerializerSettings</code> while creating the client object. But this will be applicable only on property names. </p>\n\n<pre><code>var client = new DocumentClient(new Uri(\"\"), \"\", serializerSettings: new JsonSerializerSettings\n{\n    ContractResolver = new CamelCasePropertyNamesContractResolver()\n});\n</code></pre>\n\n<p>I can achieve this using the below code but I would like to do on the <code>JsonSerializerSettings</code> on <code>DocumentClient</code>.</p>\n\n<pre><code>var json = JsonConvert.SerializeObject(data);\nvar lowerCaseObject = json.ToLower();\n</code></pre>\n"}, {"tags": ["c#", ".net", "oracle", "oracle.manageddataaccess"], "comments": [{"owner": {"reputation": 134, "user_id": 6941621, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hNQw4DEZkPs/AAAAAAAAAAI/AAAAAAAAABY/Wd09C9bszfI/photo.jpg?sz=128", "display_name": "gmdev86", "link": "https://stackoverflow.com/users/6941621/gmdev86"}, "edited": false, "score": 0, "creation_date": 1554915656, "post_id": 55617719, "comment_id": 97928895, "body": "Could you create a stored procedure and use execute immediate? You would have to use execute immediate to drop the table."}, {"owner": {"reputation": 134, "user_id": 6941621, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hNQw4DEZkPs/AAAAAAAAAAI/AAAAAAAAABY/Wd09C9bszfI/photo.jpg?sz=128", "display_name": "gmdev86", "link": "https://stackoverflow.com/users/6941621/gmdev86"}, "edited": false, "score": 0, "creation_date": 1554915910, "post_id": 55617719, "comment_id": 97929013, "body": "You could also try this <a href=\"https://stackoverflow.com/questions/31917301/execute-multiple-queries-in-single-oracle-command-in-c-sharp\" title=\"execute multiple queries in single oracle command in c sharp\">stackoverflow.com/questions/31917301/&hellip;</a>"}, {"owner": {"reputation": 134, "user_id": 6941621, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hNQw4DEZkPs/AAAAAAAAAAI/AAAAAAAAABY/Wd09C9bszfI/photo.jpg?sz=128", "display_name": "gmdev86", "link": "https://stackoverflow.com/users/6941621/gmdev86"}, "edited": false, "score": 0, "creation_date": 1554915954, "post_id": 55617719, "comment_id": 97929030, "body": "execute immediate is what you will need in order to call multiple statements"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1554915961, "post_id": 55617719, "comment_id": 97929035, "body": "Might be irrelevant to Oracle but in MS SQL Server you can&#39;t do a drop and a create table and a query in the same batch. If Oracle has a batch separator like MSSQL&#39;s <code>GO</code> try putting that in between."}, {"owner": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "edited": false, "score": 0, "creation_date": 1554919023, "post_id": 55617719, "comment_id": 97930519, "body": "Typically you don&#39;t drop or create tables at runtime. What is your purpose?"}], "answers": [{"comments": [{"owner": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "edited": false, "score": 0, "creation_date": 1554918921, "post_id": 55618049, "comment_id": 97930476, "body": "<code>INSERT INTO ...</code> does not require <code>execute immediate</code>"}, {"owner": {"reputation": 75, "user_id": 6725755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0539a9010a87444fe55576278d231ddd?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Waqas", "link": "https://stackoverflow.com/users/6725755/muhammad-waqas"}, "edited": false, "score": 0, "creation_date": 1554975751, "post_id": 55618049, "comment_id": 97950257, "body": "no, it&#39;s not working with only Drop and Create statements as well"}], "tags": [], "owner": {"reputation": 134, "user_id": 6941621, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hNQw4DEZkPs/AAAAAAAAAAI/AAAAAAAAABY/Wd09C9bszfI/photo.jpg?sz=128", "display_name": "gmdev86", "link": "https://stackoverflow.com/users/6941621/gmdev86"}, "is_accepted": false, "score": 1, "last_activity_date": 1554916897, "last_edit_date": 1554916897, "creation_date": 1554916438, "answer_id": 55618049, "question_id": 55617719, "link": "https://stackoverflow.com/questions/55617719/how-to-execute-different-multiple-sql-statements-using-oraclecommand-c/55618049#55618049", "title": "How to execute different multiple SQL statements using OracleCommand C#", "body": "<p>execute immediate will give you the ability to execute more than one statement.</p>\n\n<pre><code>OracleConnection con = new OracleConnection(\"User Id=SYSTEM;Password=mw;Data Source=SampleDataSource\");  \n\nif (con.State != ConnectionState.Open)\n    con.Open();\n\nOracleCommand cmd = new OracleCommand();\ncmd.Connection = con;\ncmd.CommandText =\n    \"begin \" +\n    \"  execute immediate 'DROP TABLE CUSTOMERS';\" +\n    \"  execute immediate 'CREATE TABLE CUSTOMERS (ID INT NOT NULL PRIMARY KEY,NAME VARCHAR(12) NOT NULL, AGE INT, ADDRESS VARCHAR(12))';\" +\n    \"  execute immediate 'INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS) VALUES (1, 'Mark', 28, 'NY')';\" +\n    \"  execute immediate 'INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS) VALUES (2, 'John', 39, 'LA')';\" +\n    \"  execute immediate 'INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS) VALUES (3, 'Andy', 48, 'CA')';\" +\n    \"  execute immediate 'INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS) VALUES (4, 'Allan', 53, 'LA')';\" +\n    \"end;\"\ncmd.CommandType = CommandType.Text;\ntry\n{\n    cmd.ExecuteNonQuery();\n}\ncatch (OracleException e)\n{\n    error = e.Message;\n}\nfinally\n{\n    if (con.State == ConnectionState.Open)\n    {\n        con.Close();\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8810910"}, "is_accepted": false, "score": 0, "last_activity_date": 1554927473, "creation_date": 1554927473, "answer_id": 55620709, "question_id": 55617719, "link": "https://stackoverflow.com/questions/55617719/how-to-execute-different-multiple-sql-statements-using-oraclecommand-c/55620709#55620709", "title": "How to execute different multiple SQL statements using OracleCommand C#", "body": "<p>Maybe it's better when you use a command for each statement.\nBelow is an example with <a href=\"https://dapper-tutorial.net/dapper\" rel=\"nofollow noreferrer\">dapper</a>.</p>\n\n<pre><code>  const string dropTableCustomers = \"DROP TABLE CUSTOMERS\";\n\n  const string createTableCustomers = @\"    \n    CREATE TABLE CUSTOMERS (\n    ID INT NOT NULL PRIMARY KEY,\n    NAME VARCHAR(12) NOT NULL,\n    AGE INT,\n    ADDRESS VARCHAR(12))\";\n\n  const string insertCustomerMark = \"INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS) VALUES (1, 'Mark', 28, 'NY')\";\n  const string insertCustomerJohn = \"INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS) VALUES (2, 'John', 39, 'LA')\";\n\n  using (var connection = new OracleConnection(\"User Id=SYSTEM;Password=mw;Data Source=SampleDataSource\")) {\n    connection.Open();\n\n    connection.Execute(dropTableCustomers);\n    connection.Execute(createTableCustomers);\n    connection.Execute(insertCustomerMark);\n    connection.Execute(insertCustomerJohn);\n  }\n</code></pre>\n\n<p>If you need a transaction, you can do following:</p>\n\n<pre><code>  public static class DbConnectionFactory {\n    public static IDbConnection Create(string connectionString) {\n      var connection = new OracleConnection(connectionString);\n      connection.Open();\n\n      return connection;\n    }\n  }\n\n\n  const string dropTableCustomers = \"DROP TABLE CUSTOMERS\";\n\n  const string createTableCustomers = @\"    \n    CREATE TABLE CUSTOMERS (\n    ID INT NOT NULL PRIMARY KEY,\n    NAME VARCHAR(12) NOT NULL,\n    AGE INT,\n    ADDRESS VARCHAR(12))\";\n\n  const string insertCustomerMark = \"INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS) VALUES (1, 'Mark', 28, 'NY')\";\n  const string insertCustomerJohn = \"INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS) VALUES (2, 'John', 39, 'LA')\";\n\n  using (var connection = DbConnectionFactory.Create(\"User Id=SYSTEM;Password=mw;Data Source=SampleDataSource\"))\n  using (var transaction = connection.BeginTransaction()) {\n\n    connection.Execute(dropTableCustomers);\n    connection.Execute(createTableCustomers);\n    connection.Execute(insertCustomerMark);\n    connection.Execute(insertCustomerJohn);\n\n    transaction.Commit();\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92, "user_id": 9395204, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ikSV8e5RQus/AAAAAAAAAAI/AAAAAAAAA5k/sYZ4Vu-PfRc/photo.jpg?sz=128", "display_name": "Amol Tarte", "link": "https://stackoverflow.com/users/9395204/amol-tarte"}, "is_accepted": false, "score": 0, "last_activity_date": 1576734179, "creation_date": 1576734179, "answer_id": 59403855, "question_id": 55617719, "link": "https://stackoverflow.com/questions/55617719/how-to-execute-different-multiple-sql-statements-using-oraclecommand-c/59403855#59403855", "title": "How to execute different multiple SQL statements using OracleCommand C#", "body": "<pre><code>strSQL = @\"Insert all into NEW1(a,b) VALUES(1,2) \"\n                + \"INTO NEW1(a,b) VALUES(2, 3) \"\n                + \"INTO NEW1(a,b) VALUES(3, 4) \"\n                + \"INTO NEW2(a,b) VALUES(9, 9) \"\n                + \"INTO NEW2(a,b) VALUES(6, 6) \"\n                + \"SELECT * FROM DUAL\";\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 6725755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0539a9010a87444fe55576278d231ddd?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Waqas", "link": "https://stackoverflow.com/users/6725755/muhammad-waqas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1172, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1576734179, "creation_date": 1554915155, "question_id": 55617719, "link": "https://stackoverflow.com/questions/55617719/how-to-execute-different-multiple-sql-statements-using-oraclecommand-c", "title": "How to execute different multiple SQL statements using OracleCommand C#", "body": "<p>I am trying to execute different SQL statements using OracleCommand.</p>\n\n<pre><code>var conn = new OracleConnection(\"User Id=SYSTEM;Password=mw;Data Source=SampleDataSource\");\n// Open the connection\nif (conn.State != ConnectionState.Open)\n    conn.Open();\n\nstring sql = @\"\n    DROP TABLE CUSTOMERS;\n\n    CREATE TABLE CUSTOMERS (\n        ID INT NOT NULL PRIMARY KEY,\n        NAME VARCHAR(12) NOT NULL,\n        AGE INT,\n        ADDRESS VARCHAR(12)\n    );\n\n    INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS) VALUES (1, 'Mark', 28, 'NY');\n\n    INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS) VALUES (2, 'John', 39, 'LA');\n\n    INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS) VALUES (3, 'Andy', 48, 'CA');\n\n    INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS) VALUES (4, 'Allan', 53, 'LA');\n\";\n\nvar cmd = new OracleCommand(sql, conn);\ntry\n{\n    cmd.ExecuteNonQuery();\n}\ncatch (OracleException e)\n{\n    error = e.Message;\n}\nfinally\n{\n    if (conn.State == ConnectionState.Open)\n    {\n        conn.Close();\n    }\n}\n</code></pre>\n\n<p>I am getting the following exception.</p>\n\n<blockquote>\n  <p>ORA-00933: SQL command not properly ended</p>\n</blockquote>\n\n<p>When I enclose the multiple statements in BEGIN, END block then I am getting the following exception.</p>\n\n<blockquote>\n  <p>ORA-06550: line 2, column 1:\n  PLS-00103: Encountered the symbol \"DROP\" when expecting one of the following:</p>\n  \n  <p>( begin case declare exit for goto if loop mod null pragma raise return select update while with    &lt;&lt; continue close current delete fetch lock insert open rollback savepoint set sql execute commit forall merge pipe purge\n  json_exists json_value json_query json_object json_array </p>\n</blockquote>\n"}, {"tags": ["c#", "seh"], "comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1554915614, "post_id": 55617660, "comment_id": 97928874, "body": "First off, surely exception handling is per-thread, not per-process. Second, I don&#39;t understand what information you&#39;re trying to get, or why you want it; can you give an example?"}, {"owner": {"reputation": 4654, "user_id": 332733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BR7yE.jpg?s=128&g=1", "display_name": "Mgetz", "link": "https://stackoverflow.com/users/332733/mgetz"}, "edited": false, "score": 0, "creation_date": 1554915743, "post_id": 55617660, "comment_id": 97928943, "body": "Are you trying to examine this on a live exception or in a binary? Big differences depending on a lot of architecture specific things."}, {"owner": {"reputation": 33, "user_id": 11280399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10b2c75151e60819d565b5f7587fc7c2?s=128&d=identicon&r=PG&f=1", "display_name": "BobHaginab", "link": "https://stackoverflow.com/users/11280399/bobhaginab"}, "edited": false, "score": 0, "creation_date": 1554916851, "post_id": 55617660, "comment_id": 97929470, "body": "I am trying to examine this on a live exception."}], "owner": {"reputation": 33, "user_id": 11280399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10b2c75151e60819d565b5f7587fc7c2?s=128&d=identicon&r=PG&f=1", "display_name": "BobHaginab", "link": "https://stackoverflow.com/users/11280399/bobhaginab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554914913, "creation_date": 1554914913, "question_id": 55617660, "link": "https://stackoverflow.com/questions/55617660/is-it-possible-to-view-the-seh-chain-for-a-particular-process-using-c", "title": "Is it possible to view the seh chain for a particular process using C#", "body": "<p>Is it possible to get the SEH chain for a particular process using C# and if so can you point me to an explanation of how to do so?</p>\n"}, {"tags": ["c#", "arrays", ".net", "unity3d", "zxing.net"], "answers": [{"tags": [], "owner": {"reputation": 330, "user_id": 11341179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/688c10d31ef9d5a6ea8675627ded48cb?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Baba", "link": "https://stackoverflow.com/users/11341179/ali-baba"}, "is_accepted": true, "score": 1, "last_activity_date": 1554931289, "creation_date": 1554931289, "answer_id": 55621496, "question_id": 55617650, "link": "https://stackoverflow.com/questions/55617650/mirroring-in-image-vertical-from-a-byte-array/55621496#55621496", "title": "Mirroring in image vertical from a byte array", "body": "<p>I guess you're looking for something like this:</p>\n\n<p>Mirror vertically:</p>\n\n<pre><code>byte[] MirrorY(int size, byte[] inputArray)\n{\n    byte[] reversedArray = new byte[inputArray.Length];\n\n    for (int i = 0; i &lt; inputArray.Length/size; i++){ \n        System.Array.Copy(inputArray, reversedArray.Length - (i+ 1) * size, reversedArray, i* size, size);\n    }\n\n    return reversedArray;\n}\n</code></pre>\n\n<p>Mirror horizontally:</p>\n\n<pre><code>byte[] MirrorX(int size, byte[] inputArray)\n{\n    byte[] reversedArray = new byte[inputArray.Length];\n\n    for (int i = 0; i &lt; inputArray.Length/size; i++){ \n        for (int j = 0; j &lt; size; j++){ \n            reversedArray [i * size + j] = inputArray [(i + 1) * size - j - 1];\n        }\n    }\n\n    return reversedArray;\n}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 11341541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a033f1ac5a650de8b32a5b2f7f11930?s=128&d=identicon&r=PG&f=1", "display_name": "doome161", "link": "https://stackoverflow.com/users/11341541/doome161"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 55621496, "answer_count": 1, "score": 0, "last_activity_date": 1554931289, "creation_date": 1554914887, "last_edit_date": 1554921452, "question_id": 55617650, "link": "https://stackoverflow.com/questions/55617650/mirroring-in-image-vertical-from-a-byte-array", "title": "Mirroring in image vertical from a byte array", "body": "<p>I want to create a DataMatrix decoder in C#. I'm using the ZXing.NET libary for this. I already coded a QR decoder with ZXing, but somehow for the DataMatrix decoder i need to mirror the picture to get it successful decoded.</p>\n\n<p>So i have in image (128x128) its data is stored in a byte 1d array. The bytes in the array are representing the color of each pixel, so byte[0] would be the color of the pixel (0/0).</p>\n\n<p>Now i want to mirror the picture and save the mirrored picture in another byte array</p>\n\n<p>Can somebody tell me how to do this?</p>\n"}, {"tags": ["c#", "entity-framework", "code-first", "ef-code-first-mapping"], "comments": [{"owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1554914581, "post_id": 55617432, "comment_id": 97928350, "body": "What is the error message?"}, {"owner": {"reputation": 1439, "user_id": 1301310, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47625c8d474a71cdc237a5ef2c150dcf?s=128&d=identicon&r=PG", "display_name": "Gina Marano", "link": "https://stackoverflow.com/users/1301310/gina-marano"}, "reply_to_user": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1554915259, "post_id": 55617432, "comment_id": 97928684, "body": "@TanvirArjel added error message"}, {"owner": {"reputation": 1458, "user_id": 958306, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/WImjs.jpg?s=128&g=1", "display_name": "vivek", "link": "https://stackoverflow.com/users/958306/vivek"}, "edited": false, "score": 0, "creation_date": 1554915561, "post_id": 55617432, "comment_id": 97928846, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/9292738/entity-framework-4-0-error-113-multiplicity-is-not-valid-in-role\">Entity Framework 4.0: Error 113: Multiplicity is not valid in Role</a>"}, {"owner": {"reputation": 1439, "user_id": 1301310, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47625c8d474a71cdc237a5ef2c150dcf?s=128&d=identicon&r=PG", "display_name": "Gina Marano", "link": "https://stackoverflow.com/users/1301310/gina-marano"}, "reply_to_user": {"reputation": 1458, "user_id": 958306, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/WImjs.jpg?s=128&g=1", "display_name": "vivek", "link": "https://stackoverflow.com/users/958306/vivek"}, "edited": false, "score": 0, "creation_date": 1554915903, "post_id": 55617432, "comment_id": 97929010, "body": "@vivek just because I get the same error message does not necessarily mean same cause."}, {"owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 1, "creation_date": 1554916766, "post_id": 55617432, "comment_id": 97929414, "body": "@GinaMarano See my answer please! I have explained it and given the solution."}], "answers": [{"comments": [{"owner": {"reputation": 1439, "user_id": 1301310, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47625c8d474a71cdc237a5ef2c150dcf?s=128&d=identicon&r=PG", "display_name": "Gina Marano", "link": "https://stackoverflow.com/users/1301310/gina-marano"}, "edited": false, "score": 0, "creation_date": 1554923214, "post_id": 55618035, "comment_id": 97932506, "body": "I will give this a try... Only confused on how to seed the database"}, {"owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "reply_to_user": {"reputation": 1439, "user_id": 1301310, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47625c8d474a71cdc237a5ef2c150dcf?s=128&d=identicon&r=PG", "display_name": "Gina Marano", "link": "https://stackoverflow.com/users/1301310/gina-marano"}, "edited": false, "score": 0, "creation_date": 1554923262, "post_id": 55618035, "comment_id": 97932531, "body": "Mapping Navigation properties!"}, {"owner": {"reputation": 1439, "user_id": 1301310, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47625c8d474a71cdc237a5ef2c150dcf?s=128&d=identicon&r=PG", "display_name": "Gina Marano", "link": "https://stackoverflow.com/users/1301310/gina-marano"}, "edited": false, "score": 0, "creation_date": 1554924994, "post_id": 55618035, "comment_id": 97933234, "body": "Wow! this is the closest I have gotten. Database structure is correct. Left and right (well, the actual table names) have been populated. CsvHelper is probably puking on Linker.RightHand and Linker.LeftHand when seeding."}, {"owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "reply_to_user": {"reputation": 1439, "user_id": 1301310, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47625c8d474a71cdc237a5ef2c150dcf?s=128&d=identicon&r=PG", "display_name": "Gina Marano", "link": "https://stackoverflow.com/users/1301310/gina-marano"}, "edited": false, "score": 1, "creation_date": 1554963437, "post_id": 55618035, "comment_id": 97943761, "body": "You have to use <code>.Include(x =&gt; x.Linker)</code>"}, {"owner": {"reputation": 1439, "user_id": 1301310, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47625c8d474a71cdc237a5ef2c150dcf?s=128&d=identicon&r=PG", "display_name": "Gina Marano", "link": "https://stackoverflow.com/users/1301310/gina-marano"}, "edited": false, "score": 0, "creation_date": 1554963849, "post_id": 55618035, "comment_id": 97943904, "body": "thanks. But I found out the cause. The import didn&#39;t keep my primary key values, it reset them so nothing matches up. I&#39;m looking into it..."}, {"owner": {"reputation": 1439, "user_id": 1301310, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47625c8d474a71cdc237a5ef2c150dcf?s=128&d=identicon&r=PG", "display_name": "Gina Marano", "link": "https://stackoverflow.com/users/1301310/gina-marano"}, "edited": false, "score": 0, "creation_date": 1554964207, "post_id": 55618035, "comment_id": 97944065, "body": "(fixed my import issue), using include, I have Linker now. How do I get LeftHand from Linker?"}], "tags": [], "owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "is_accepted": true, "score": 1, "last_activity_date": 1554916395, "creation_date": 1554916395, "answer_id": 55618035, "question_id": 55617432, "link": "https://stackoverflow.com/questions/55617432/multiplicity-conflict-while-setting-up-entity-framework/55618035#55618035", "title": "Multiplicity conflict while setting up Entity Framework", "body": "<p>As <strong>Entity Framework 6.x</strong> does not support <code>one-to-one</code> relationship with explicit Foreign Key property and if you try to workaround it with <code>ForeignKey</code> data annotation, you'll get multiplicity error during the migration.</p>\n\n<p>So only solution is: Remove <code>RightHandId</code> and <code>LeftHandId</code> properties from <code>Linker</code>  model class as follows:</p>\n\n<pre><code>public class Linker\n{\n    [Key]\n    public int LinkerId { get; set; }\n    public string PropertyC { get; set; }\n\n    public RightHand RightHand { get; set; }\n    public LeftHand LeftHand { get; set; }\n}\n</code></pre>\n\n<p>Then your model configurations should be as follows:</p>\n\n<pre><code>protected override void OnModelCreating(DbModelBuilder modelBuilder)\n{\n        base.OnModelCreating(modelBuilder);\n\n        modelBuilder.Entity&lt;LeftHand&gt;().HasOptional(l =&gt; l.Linker)\n            .WithOptionalPrincipal(lf =&gt; lf.LeftHand)\n            .Map(lf =&gt; lf.MapKey(\"LeftHandId\"));\n\n        modelBuilder.Entity&lt;RightHand&gt;().HasOptional(l =&gt; l.Linker)\n            .WithOptionalPrincipal(lf =&gt; lf.RightHand)\n            .Map(lf =&gt; lf.MapKey(\"RightHandId\"));\n }\n</code></pre>\n"}], "owner": {"reputation": 1439, "user_id": 1301310, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47625c8d474a71cdc237a5ef2c150dcf?s=128&d=identicon&r=PG", "display_name": "Gina Marano", "link": "https://stackoverflow.com/users/1301310/gina-marano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 372, "favorite_count": 0, "accepted_answer_id": 55618035, "answer_count": 1, "score": 1, "last_activity_date": 1554919819, "creation_date": 1554914176, "last_edit_date": 1592644375, "question_id": 55617432, "link": "https://stackoverflow.com/questions/55617432/multiplicity-conflict-while-setting-up-entity-framework", "title": "Multiplicity conflict while setting up Entity Framework", "body": "<p>I have a more complicated question <a href=\"https://stackoverflow.com/questions/55605769/trouble-defining-entity-relationship-code-first?noredirect=1#comment97907346_55605769\">here</a></p>\n<p>But thought I would simplify it.</p>\n<p>Here are my dummied classes (the structure this is based on comes from the NDC so I don't have control over it):</p>\n<pre><code>public class RightHand\n{\n    [Key]\n    public int RightHandId { get; set; }\n    public string PropertyA { get; set; }\n\n    [Required]\n    public virtual Linker Linker { get; set; }\n}\n\npublic class LeftHand\n{\n    [Key]\n    public int LeftHandId { get; set; }\n    public string PropertyB { get; set; }\n\n    [Required]\n    public virtual Linker Linker { get; set; }\n}\n\npublic class Linker\n{\n    [Key]\n    public int LinkerId { get; set; }\n    [ForeignKey(&quot;RightHand&quot;)]\n    public int RightHandId { get; set; }\n    [ForeignKey(&quot;LeftHand&quot;)]\n    public int LeftHandId { get; set; }\n    public string PropertyC { get; set; }\n\n    [Required]\n    public virtual RightHand RightHand  { get; set; }\n    [Required]\n    public virtual LeftHand LeftHand  { get; set; }\n}\n</code></pre>\n<p>I've tried so many things so hopefully this simplified version can help someone help me.</p>\n<p>Over all, I want to search on:</p>\n<ul>\n<li>LeftHand.PropertyB and see the properties for RightHand</li>\n<li>As well, I want to search on RightHand.PropertyA and see the properties for Left Hand</li>\n</ul>\n<p>All in all, I don't care about Linker except that is what links LeftHand to RightHand. LeftHand and RightHand are one-to-one.</p>\n<pre><code>    protected override void OnModelCreating(DbModelBuilder modelBuilder)\n    {\n        modelBuilder.Entity&lt;RightHand&gt;()\n            .Property(x =&gt; x.RightHandId)\n            .HasDatabaseGeneratedOption(DatabaseGeneratedOption.None);\n\n        modelBuilder.Entity&lt;LeftHand&gt;()\n            .Property(x =&gt; x.LeftHandId)\n            .HasDatabaseGeneratedOption(DatabaseGeneratedOption.None);\n\n        modelBuilder.Entity&lt;Linker&gt;()\n            .Property(x =&gt; x.LinkerId)\n            .HasDatabaseGeneratedOption(DatabaseGeneratedOption.None);\n\n        modelBuilder.Entity&lt;Linker&gt;()\n            .HasRequired(nus =&gt; nus.LeftHand)\n            ;\n\n        modelBuilder.Entity&lt;Linker&gt;()\n            .HasRequired(nuu =&gt; nuu.RightHand)\n            ;\n    }\n</code></pre>\n<p>Thanks, I am using VS2017, EF 6.2, Code First, SQL Server</p>\n<p>I have tried different annotations but the one common error is:</p>\n<blockquote>\n<p>Linker_LeftHand_Source: : Multiplicity is not valid in Role 'Linker_LeftHand_Source' in relationship 'Linker_LeftHand'. Because the Dependent Role properties are not the key properties, the upper bound of the multiplicity of the Dependent Role must be '*'.</p>\n<p>Linker_RightHand_Source: : Multiplicity is not valid in Role 'Linker_RightHand_Source' in relationship 'Linker_RightHand'. Because the Dependent Role properties are not the key properties, the upper bound of the multiplicity of the Dependent Role must be '*'.</p>\n</blockquote>\n<p>What is different here than other multiplicity answers is the middle linker table.</p>\n"}, {"tags": ["c#", "akka.net"], "answers": [{"tags": [], "owner": {"reputation": 7330, "user_id": 377476, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ceb466e3992c9957759222a871897300?s=128&d=identicon&r=PG", "display_name": "Aaronontheweb", "link": "https://stackoverflow.com/users/377476/aaronontheweb"}, "is_accepted": false, "score": 0, "last_activity_date": 1555003065, "creation_date": 1555003065, "answer_id": 55638003, "question_id": 55617375, "link": "https://stackoverflow.com/questions/55617375/is-it-okay-to-send-messages-to-the-nobody-instance-actor-are-there-any-side-eff/55638003#55638003", "title": "Is it okay to send messages to the Nobody Instance actor? Are there any side-effects?", "body": "<p>It's perfectly safe to send messages to the <code>ActorRefs.Nobody</code> actor - those messages will be reported as <code>Deadletter</code>s but there's no harm.</p>\n"}], "owner": {"reputation": 1, "user_id": 11341597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClN7V.jpg?s=128&g=1", "display_name": "ThoughtHopper", "link": "https://stackoverflow.com/users/11341597/thoughthopper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555003065, "creation_date": 1554913945, "question_id": 55617375, "link": "https://stackoverflow.com/questions/55617375/is-it-okay-to-send-messages-to-the-nobody-instance-actor-are-there-any-side-eff", "title": "Is it okay to send messages to the Nobody Instance actor? Are there any side-effects?", "body": "<p>I want to use the Null Object pattern with the Nobody instance actor.\nUnder certain conditions my code would end up sending thousands of messages to the Nobody actor.</p>\n\n<p>I'm well aware that the Nobody instance is commonly used to test against a look up failure, to compare if an actor exists or not.</p>\n\n<p>Intended usage:</p>\n\n<pre><code>m_keepAliveActor = configuration.KeepAliveActor.Enabled ?\n Context.ActorOf(Props.Create&lt;KeepAliveActor&gt;()) : \n Nobody.Instance;\n....\nm_keepAliveActor.Tell(workItem);\n</code></pre>\n\n<p>I'd expect to have negligible impact.</p>\n\n<p>Is it ok?</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 4625, "user_id": 1478654, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BiUl3.png?s=128&g=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/1478654/clay"}, "edited": false, "score": 0, "creation_date": 1554919489, "post_id": 55617311, "comment_id": 97930749, "body": "Don&#39;t do the <code>store.Add(certificate)</code>...it&#39;s already there (or your main site wouldn&#39;t work).  The rest is probably fine. But...it&#39;s only going to work if your certificate is a <i>wildcard</i> certificate: <code>*.mydomain.com</code>"}, {"owner": {"reputation": 4625, "user_id": 1478654, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BiUl3.png?s=128&g=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/1478654/clay"}, "edited": false, "score": 0, "creation_date": 1554920037, "post_id": 55617311, "comment_id": 97931024, "body": "You have the find the certificate, not add it. See <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.security.cryptography.x509certificates.x509certificate2collection.find?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">X509Certificate2Collection.Find</a>"}, {"owner": {"reputation": 1, "user_id": 8771514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8eZhJ.jpg?s=128&g=1", "display_name": "Suvenjeet", "link": "https://stackoverflow.com/users/8771514/suvenjeet"}, "reply_to_user": {"reputation": 4625, "user_id": 1478654, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BiUl3.png?s=128&g=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/1478654/clay"}, "edited": false, "score": 0, "creation_date": 1555306780, "post_id": 55617311, "comment_id": 98050031, "body": "Thanks #Clay for responsing my issue."}], "owner": {"reputation": 1, "user_id": 8771514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8eZhJ.jpg?s=128&g=1", "display_name": "Suvenjeet", "link": "https://stackoverflow.com/users/8771514/suvenjeet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1554913674, "creation_date": 1554913674, "question_id": 55617311, "link": "https://stackoverflow.com/questions/55617311/attaching-ssl-certificate-to-sub-bindings-of-main-website-on-iis-server", "title": "Attaching SSL certificate to sub bindings of main website on IIS server", "body": "<p>I have created a sub binding to my main site and want to bind ssl certificate to the sub binding. Below is my code</p>\n\n<pre><code>string iisPortNumber = \"443\";\nstring iisBindingProtocol = \"https\";\nstring bindingUrl = \"subadmin.domain.com\";\nCreateBinding(iisSiteName, iisPortNumber, iisBindingProtocol, bindingUrl);\n\npublic void CreateBinding(string iisSiteName, string iisPortNumber, string iisBindingProtocol, string bindingUrl)\n        {\n\n            ServerManager serverMgr = new ServerManager();\n            String xSSLCertificate = @\"E:\\admin.domain.com.pfx\";\n            String xSSLCertificatePassword = @\"12345678\";\n            try\n            {\n                if (IsWebsiteExists(iisSiteName, serverMgr))\n                {\n                    Site siteName = serverMgr.Sites[iisSiteName];\n                    if (!IsExistsBinding(bindingUrl, siteName))\n                    {\n                        var mysite = serverMgr.Sites.Add(bindingUrl.ToString(), iisBindingProtocol, \"*:\" + iisPortNumber + \":\" + bindingUrl, bindingUrl);\n\n                        X509Store store = new X509Store(StoreName.My, StoreLocation.LocalMachine);\n                        store.Open(OpenFlags.OpenExistingOnly | OpenFlags.ReadWrite);\n                        X509Certificate2 certificate = new X509Certificate2(xSSLCertificate, xSSLCertificatePassword);\n                        store.Add(certificate);\n\n                        var binding = mysite.Bindings.Add(\"*:\" + iisPortNumber + \":\" + bindingUrl, certificate.GetCertHash(), bindingUrl);\n                        binding.Protocol = iisBindingProtocol;\n                        mysite.ApplicationDefaults.ApplicationPoolName = siteName.ToString();\n\n\n                        serverMgr.CommitChanges();\n                        store.Close();\n                    }\n                }\n                else\n                {\n\n                }\n            }\n            catch (Exception ex)\n            {\n                throw (ex);\n            }\n        }\n\n\n</code></pre>\n\n<p>But i am facing an error. i.e (Cannot create a file when that file already exists. (Exception from HRESULT: 0x800700B7)). Can someone help me.</p>\n"}, {"tags": ["c#", "methods", "properties", "boolean"], "comments": [{"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 0, "creation_date": 1554913499, "post_id": 55617217, "comment_id": 97927771, "body": "Aside from your actual problem, what if I told it to validate April 31st? There are better ways to do this where you don&#39;t need to roll your own solution."}, {"owner": {"reputation": 2617, "user_id": 5789864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BTnom.jpg?s=128&g=1", "display_name": "Risto M", "link": "https://stackoverflow.com/users/5789864/risto-m"}, "edited": false, "score": 1, "creation_date": 1554913578, "post_id": 55617217, "comment_id": 97927808, "body": "Works fine with CheckDate(1,1,2019)?"}, {"owner": {"reputation": 47, "user_id": 9874809, "user_type": "registered", "profile_image": "https://graph.facebook.com/2119049938351462/picture?type=large", "display_name": "Rok \u0160ekoranja", "link": "https://stackoverflow.com/users/9874809/rok-%c5%a0ekoranja"}, "reply_to_user": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 0, "creation_date": 1554913592, "post_id": 55617217, "comment_id": 97927816, "body": "This is just a simple example. I&#39;m going to add other validations later. For now I&#39;m only checking if day is between 1 and 31, month between 1 and 12, year between 1900 and 2100. @BrootsWaymb"}, {"owner": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "edited": false, "score": 3, "creation_date": 1554913613, "post_id": 55617217, "comment_id": 97927830, "body": "DateTime can already do this, so there is no need to reimplement it. You could use e.g. <code>static bool CheckDate(int d, int m, int y) { return min_year &lt;= y &amp;&amp; y &lt;= max_year &amp;&amp; DateTime.TryParse($&quot;{y}-{m}-{d}&quot;, out _); }</code>."}, {"owner": {"reputation": 364, "user_id": 7825830, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/lZxLx.png?s=128&g=1", "display_name": "Nii", "link": "https://stackoverflow.com/users/7825830/nii"}, "edited": false, "score": 0, "creation_date": 1554913627, "post_id": 55617217, "comment_id": 97927840, "body": "the way i see it, nothing&#39;s wrong. except, as Broots have said, this would return a false-positive result on non-valid date combination, i.e.: Feb 30, 2010"}, {"owner": {"reputation": 47, "user_id": 9874809, "user_type": "registered", "profile_image": "https://graph.facebook.com/2119049938351462/picture?type=large", "display_name": "Rok \u0160ekoranja", "link": "https://stackoverflow.com/users/9874809/rok-%c5%a0ekoranja"}, "reply_to_user": {"reputation": 2617, "user_id": 5789864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BTnom.jpg?s=128&g=1", "display_name": "Risto M", "link": "https://stackoverflow.com/users/5789864/risto-m"}, "edited": false, "score": 0, "creation_date": 1554913631, "post_id": 55617217, "comment_id": 97927847, "body": "Doesn&#39;t work @RistoM"}, {"owner": {"reputation": 5830, "user_id": 3776927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb2cca9626c6d445bd05297be86251?s=128&d=identicon&r=PG&f=1", "display_name": "derpirscher", "link": "https://stackoverflow.com/users/3776927/derpirscher"}, "edited": false, "score": 2, "creation_date": 1554913634, "post_id": 55617217, "comment_id": 97927851, "body": "If you do <code>CheckDate(5, 2000, 123456)</code>  it will return <code>true</code> because, once your d is between 1 and 31 you always return true. Same for <code>CheckDate(0, 5, 2000)</code>"}, {"owner": {"reputation": 2617, "user_id": 5789864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BTnom.jpg?s=128&g=1", "display_name": "Risto M", "link": "https://stackoverflow.com/users/5789864/risto-m"}, "edited": false, "score": 0, "creation_date": 1554913718, "post_id": 55617217, "comment_id": 97927905, "body": "@Rok\u0160ekoranja it returns true with <code>CheckDate(1,1,2019)</code>: <a href=\"https://dotnetfiddle.net/Fv8qiR\" rel=\"nofollow noreferrer\">dotnetfiddle.net/Fv8qiR</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1190, "user_id": 11291455, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DeXw9UBXxKQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reVpCjCZyaprKSzlRLY9Dy1QdNo1w/mo/photo.jpg?sz=128", "display_name": "Steve Todd", "link": "https://stackoverflow.com/users/11291455/steve-todd"}, "is_accepted": false, "score": -1, "last_activity_date": 1554913787, "creation_date": 1554913787, "answer_id": 55617332, "question_id": 55617217, "link": "https://stackoverflow.com/questions/55617217/how-to-check-if-date-is-valid-with-3-integers-method-returning-bool/55617332#55617332", "title": "How to check if date is valid with 3 integers? (Method returning bool)", "body": "<p>Or you could do this :</p>\n\n<pre><code>static bool CheckDate(int d, int m, int y) \n{\n   try\n   {\n      // This will throw an exception if the year, month or day are invalid\n      var temp = new DateTime(y, m, d);\n      return true;\n   }\n   except\n   {\n     return false;\n   }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5830, "user_id": 3776927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb2cca9626c6d445bd05297be86251?s=128&d=identicon&r=PG&f=1", "display_name": "derpirscher", "link": "https://stackoverflow.com/users/3776927/derpirscher"}, "edited": false, "score": 0, "creation_date": 1554914580, "post_id": 55617486, "comment_id": 97928348, "body": "You don&#39;t need the roundtrip of creating a string and parsing it again. You can just try to create a <code>new DateTime(y, m, d)</code> which will throw on any invalid date."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "reply_to_user": {"reputation": 5830, "user_id": 3776927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb2cca9626c6d445bd05297be86251?s=128&d=identicon&r=PG&f=1", "display_name": "derpirscher", "link": "https://stackoverflow.com/users/3776927/derpirscher"}, "edited": false, "score": 0, "creation_date": 1554914822, "post_id": 55617486, "comment_id": 97928482, "body": "No that&#39;s would be wrong because you will drive code using exceptions. TryParse will avoid a costly exception. This will be a lot faster with invalid dates."}, {"owner": {"reputation": 746, "user_id": 841801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12e1a8a6581ab973e1b462fa41130ddf?s=128&d=identicon&r=PG", "display_name": "Joseph White", "link": "https://stackoverflow.com/users/841801/joseph-white"}, "reply_to_user": {"reputation": 5830, "user_id": 3776927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb2cca9626c6d445bd05297be86251?s=128&d=identicon&r=PG&f=1", "display_name": "derpirscher", "link": "https://stackoverflow.com/users/3776927/derpirscher"}, "edited": false, "score": 1, "creation_date": 1554914838, "post_id": 55617486, "comment_id": 97928492, "body": "@derpirscher TryParseExact avoids throwing an exception though and you don&#39;t want to throw exceptions on purpose."}, {"owner": {"reputation": 2617, "user_id": 5789864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BTnom.jpg?s=128&g=1", "display_name": "Risto M", "link": "https://stackoverflow.com/users/5789864/risto-m"}, "edited": false, "score": 1, "creation_date": 1554914850, "post_id": 55617486, "comment_id": 97928500, "body": "In performance point of view, throwing exception is expensive to do. Good practice to avoid it in &quot;normal&quot; validation logic. EDIT: 3 similar comments simultaneously :)"}, {"owner": {"reputation": 746, "user_id": 841801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12e1a8a6581ab973e1b462fa41130ddf?s=128&d=identicon&r=PG", "display_name": "Joseph White", "link": "https://stackoverflow.com/users/841801/joseph-white"}, "edited": false, "score": 0, "creation_date": 1554914906, "post_id": 55617486, "comment_id": 97928527, "body": "Instead of returning the result of the TryParseExact, catch the result in a variable like this: var result = DateTime.TryParseExact . . . . And if it is false, return it but if it is true, check that the date is between January 1st 1900 and December 31st 2100"}, {"owner": {"reputation": 5830, "user_id": 3776927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb2cca9626c6d445bd05297be86251?s=128&d=identicon&r=PG&f=1", "display_name": "derpirscher", "link": "https://stackoverflow.com/users/3776927/derpirscher"}, "edited": false, "score": 0, "creation_date": 1554915436, "post_id": 55617486, "comment_id": 97928783, "body": "I had somewhere in my head that the <code>.TryParse()</code> methods do the exception handling internally. But seems I was wrong ..."}], "tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": false, "score": 2, "last_activity_date": 1554915143, "last_edit_date": 1554915143, "creation_date": 1554914389, "answer_id": 55617486, "question_id": 55617217, "link": "https://stackoverflow.com/questions/55617217/how-to-check-if-date-is-valid-with-3-integers-method-returning-bool/55617486#55617486", "title": "How to check if date is valid with 3 integers? (Method returning bool)", "body": "<p>As simple as possible, just convert your numbers to a string and then do a DateTime.TryParseExact with the format yyyyMMdd</p>\n\n<pre><code>bool CheckDate(int y, int m, int d)\n{\n\n    string t = $\"{y:D4}{m:D2}{d:D2}\";\n    return DateTime.TryParseExact(t, \"yyyyMMdd\", CultureInfo.InvariantCulture,DateTimeStyles.None,  out DateTime dt);\n}\n</code></pre>\n\n<p>Of course, if you want to limit the valid years you can add a simple logic to test the <em>y</em> variable as you already do now before building the string to parse.</p>\n\n<pre><code>if (y &lt; min_year || y &gt; max_year)\n    return false;\n....\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2617, "user_id": 5789864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BTnom.jpg?s=128&g=1", "display_name": "Risto M", "link": "https://stackoverflow.com/users/5789864/risto-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1554916651, "last_edit_date": 1554916651, "creation_date": 1554915650, "answer_id": 55617844, "question_id": 55617217, "link": "https://stackoverflow.com/questions/55617217/how-to-check-if-date-is-valid-with-3-integers-method-returning-bool/55617844#55617844", "title": "How to check if date is valid with 3 integers? (Method returning bool)", "body": "<p>I want to point out a possible bug and/or bad design in your property setter (this can be reason why your \"<em>Code always returns false</em>\"). </p>\n\n<p>If you look closely, you see that <code>CheckDate</code> is always called with parameters <code>dan</code>, <code>mesec</code> and <code>year</code>. As you know, <code>value</code> is the value to be setted (<code>Day = 1</code>, or <code>Day = 500</code>), but it is not part of <code>CheckDate</code>-call.</p>\n\n<p>If this is your purpose, I can say it is very bad design. You should call <code>CheckDate</code> straight in your code, not with <em>almost-side-effects-looking</em> property setter. </p>\n\n<pre><code>public int Day\n{\n    get\n    {\n        return day;\n    }\n    set\n    {\n        // Why this?\n        if (CheckDate(dan, mesec, year) == true)\n        {\n            day = value;\n        }\n        else\n        {\n            throw new Exception(\"Day is incorrect!\");\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 9874809, "user_type": "registered", "profile_image": "https://graph.facebook.com/2119049938351462/picture?type=large", "display_name": "Rok \u0160ekoranja", "link": "https://stackoverflow.com/users/9874809/rok-%c5%a0ekoranja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 55617844, "answer_count": 3, "score": 0, "last_activity_date": 1554916651, "creation_date": 1554913295, "last_edit_date": 1554913740, "question_id": 55617217, "link": "https://stackoverflow.com/questions/55617217/how-to-check-if-date-is-valid-with-3-integers-method-returning-bool", "title": "How to check if date is valid with 3 integers? (Method returning bool)", "body": "<p>I'm trying to make a method which checks if day, month and year are correctly inserted. Method returns TRUE if date is okay and FALSE if date is NOT okay. <strong>Problem: Code always returns false.</strong></p>\n\n<pre><code>const int max_year = 2100;\nconst int min_year = 1900;\n\nstatic bool CheckDate(int d, int m, int y)   \n{\n    if (d &lt; 1 || d &gt; 31)\n    {\n        if (m &lt; 1 || m &gt; 12)\n        {\n            if (y &lt; min_year || y &gt; max_year)\n            {\n                return false;\n            }\n            else\n            {\n                return true;\n            }\n        }\n        else\n        {\n            return true;\n        }\n    }\n    else\n    {\n        return true;\n    }\n}\n</code></pre>\n\n<p>And then I'm checking the date in the property like: </p>\n\n<pre><code>public int Day\n{\n    get\n    {\n        return day;\n    }\n    set\n    {\n        if (CheckDate(dan, mesec, year) == true)\n        {\n            day = value;\n        }\n        else\n        {\n            throw new Exception(\"Day is incorrect!\");\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "bash", "shell"], "comments": [{"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 1, "creation_date": 1554913437, "post_id": 55617186, "comment_id": 97927745, "body": "Your attempt works when the value <code>false</code> is between the quotes as <code>&quot;false&quot;</code>"}, {"owner": {"reputation": 416, "user_id": 4153864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb72e34f106c84398efa66fdb6d2951b?s=128&d=identicon&r=PG&f=1", "display_name": "Dfaure", "link": "https://stackoverflow.com/users/4153864/dfaure"}, "edited": false, "score": 0, "creation_date": 1554913445, "post_id": 55617186, "comment_id": 97927749, "body": "sed is working as a stream processor, ie. the result is written to the standard output. You should redirect it to a temporary file which you can move onto the original one thereafter."}, {"owner": {"reputation": 833, "user_id": 3475930, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oyWbp.jpg?s=128&g=1", "display_name": "envyM6", "link": "https://stackoverflow.com/users/3475930/envym6"}, "reply_to_user": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1554913531, "post_id": 55617186, "comment_id": 97927788, "body": "@Inian Thats right, but its a bool value so how do I go about changing that?"}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1554913706, "post_id": 55617186, "comment_id": 97927901, "body": "@envyM6: Are you suggesting that it could or could not be under quotes and can&#39;t be predicted?"}, {"owner": {"reputation": 31685, "user_id": 2458991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WWDzI.jpg?s=128&g=1", "display_name": "bruno", "link": "https://stackoverflow.com/users/2458991/bruno"}, "edited": false, "score": 1, "creation_date": 1554913914, "post_id": 55617186, "comment_id": 97928005, "body": "@envyM6 look at my answer"}, {"owner": {"reputation": 8293, "user_id": 8656552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FPg67.png?s=128&g=1", "display_name": "Paul Hodges", "link": "https://stackoverflow.com/users/8656552/paul-hodges"}, "edited": false, "score": 0, "creation_date": 1554915196, "post_id": 55617186, "comment_id": 97928650, "body": "Watch the whitespacing on this, guys. It <i>could</i> be really, <i>really</i> odd and still be valid.... Are we even 100% certain this will always be on the same line?"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1554916757, "post_id": 55617186, "comment_id": 97929410, "body": "I would suggest that value should be in a config file, so you don&#39;t need to edit your source files to modify it.&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 31685, "user_id": 2458991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WWDzI.jpg?s=128&g=1", "display_name": "bruno", "link": "https://stackoverflow.com/users/2458991/bruno"}, "reply_to_user": {"reputation": 833, "user_id": 3475930, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oyWbp.jpg?s=128&g=1", "display_name": "envyM6", "link": "https://stackoverflow.com/users/3475930/envym6"}, "edited": false, "score": 0, "creation_date": 1554914285, "post_id": 55617296, "comment_id": 97928186, "body": "what is your shell ? Try replacing &#39; by &quot;"}, {"owner": {"reputation": 31685, "user_id": 2458991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WWDzI.jpg?s=128&g=1", "display_name": "bruno", "link": "https://stackoverflow.com/users/2458991/bruno"}, "reply_to_user": {"reputation": 833, "user_id": 3475930, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oyWbp.jpg?s=128&g=1", "display_name": "envyM6", "link": "https://stackoverflow.com/users/3475930/envym6"}, "edited": false, "score": 0, "creation_date": 1554914630, "post_id": 55617296, "comment_id": 97928379, "body": "@envyM6 and what I can do with your remark ? you do not show the contents of the file before and efter"}, {"owner": {"reputation": 31685, "user_id": 2458991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WWDzI.jpg?s=128&g=1", "display_name": "bruno", "link": "https://stackoverflow.com/users/2458991/bruno"}, "reply_to_user": {"reputation": 833, "user_id": 3475930, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oyWbp.jpg?s=128&g=1", "display_name": "envyM6", "link": "https://stackoverflow.com/users/3475930/envym6"}, "edited": false, "score": 0, "creation_date": 1554914816, "post_id": 55617296, "comment_id": 97928478, "body": "do you have error messages when you execute it ? Do like I did indicating execution"}, {"owner": {"reputation": 31685, "user_id": 2458991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WWDzI.jpg?s=128&g=1", "display_name": "bruno", "link": "https://stackoverflow.com/users/2458991/bruno"}, "reply_to_user": {"reputation": 833, "user_id": 3475930, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oyWbp.jpg?s=128&g=1", "display_name": "envyM6", "link": "https://stackoverflow.com/users/3475930/envym6"}, "edited": false, "score": 0, "creation_date": 1554915596, "post_id": 55617296, "comment_id": 97928863, "body": "@envyM6 are you sure of the value of <code>${PATH_TO_FILE}</code> ?"}, {"owner": {"reputation": 833, "user_id": 3475930, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oyWbp.jpg?s=128&g=1", "display_name": "envyM6", "link": "https://stackoverflow.com/users/3475930/envym6"}, "edited": false, "score": 0, "creation_date": 1554915638, "post_id": 55617296, "comment_id": 97928882, "body": "yeah I can see the output"}, {"owner": {"reputation": 31685, "user_id": 2458991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WWDzI.jpg?s=128&g=1", "display_name": "bruno", "link": "https://stackoverflow.com/users/2458991/bruno"}, "reply_to_user": {"reputation": 833, "user_id": 3475930, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oyWbp.jpg?s=128&g=1", "display_name": "envyM6", "link": "https://stackoverflow.com/users/3475930/envym6"}, "edited": false, "score": 0, "creation_date": 1554915659, "post_id": 55617296, "comment_id": 97928897, "body": "@envyM6 what shell executes the script ?"}, {"owner": {"reputation": 833, "user_id": 3475930, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oyWbp.jpg?s=128&g=1", "display_name": "envyM6", "link": "https://stackoverflow.com/users/3475930/envym6"}, "reply_to_user": {"reputation": 31685, "user_id": 2458991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WWDzI.jpg?s=128&g=1", "display_name": "bruno", "link": "https://stackoverflow.com/users/2458991/bruno"}, "edited": false, "score": 0, "creation_date": 1554971966, "post_id": 55617296, "comment_id": 97947996, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/191641/discussion-between-envym6-and-bruno\">continue this discussion in chat</a>."}, {"owner": {"reputation": 31685, "user_id": 2458991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WWDzI.jpg?s=128&g=1", "display_name": "bruno", "link": "https://stackoverflow.com/users/2458991/bruno"}, "reply_to_user": {"reputation": 833, "user_id": 3475930, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oyWbp.jpg?s=128&g=1", "display_name": "envyM6", "link": "https://stackoverflow.com/users/3475930/envym6"}, "edited": false, "score": 0, "creation_date": 1554997553, "post_id": 55617296, "comment_id": 97964121, "body": "@envyM6 back home, it is needed to use the option <code>-e</code>, I edited my answer"}, {"owner": {"reputation": 833, "user_id": 3475930, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oyWbp.jpg?s=128&g=1", "display_name": "envyM6", "link": "https://stackoverflow.com/users/3475930/envym6"}, "edited": false, "score": 0, "creation_date": 1555057740, "post_id": 55617296, "comment_id": 97984036, "body": "Not to worry! Thanks for all the help and you got the credit for the answer!"}], "tags": [], "owner": {"reputation": 31685, "user_id": 2458991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WWDzI.jpg?s=128&g=1", "display_name": "bruno", "link": "https://stackoverflow.com/users/2458991/bruno"}, "is_accepted": true, "score": 1, "last_activity_date": 1554997505, "last_edit_date": 1554997505, "creation_date": 1554913597, "answer_id": 55617296, "question_id": 55617186, "link": "https://stackoverflow.com/questions/55617186/replace-boolean-value-using-bash-shell-in-a-class/55617296#55617296", "title": "Replace boolean value using bash/shell in a class", "body": "<p>do </p>\n\n<pre><code>sed  -i 's/FirstClass =[ \\t]*false/FirstClass = true/' ${PATH_TO_FILE}\n</code></pre>\n\n<p>Example :</p>\n\n<pre><code>pi@raspberrypi:/tmp $ cat f\npublic static class AppConfig\n{\n    public static bool FirstClass = false;\n}\npi@raspberrypi:/tmp $ sed -i  's/FirstClass =[ \\t]*false/FirstClass = true/' f\npi@raspberrypi:/tmp $ cat f\npublic static class AppConfig\n{\n    public static bool FirstClass = true;\n}\n</code></pre>\n\n<p>Also works if I can add spaces or tab before the <em>false</em> :</p>\n\n<pre><code>pi@raspberrypi:/tmp $ cat f\npublic static class AppConfig\n{\n    public static bool FirstClass =    false;\n}\npi@raspberrypi:/tmp $ sed -i  's/FirstClass =[ \\t]*false/FirstClass = true/' f\npi@raspberrypi:/tmp $ cat f\npublic static class AppConfig\n{\n    public static bool FirstClass = true;\n}\n</code></pre>\n\n<p>or of course if there none of them</p>\n\n<pre><code>pi@raspberrypi:/tmp $ cat f\npublic static class AppConfig\n{\n    public static bool FirstClass =false;\n}\npi@raspberrypi:/tmp $ sed -i  's/FirstClass =[\\t ]*false/FirstClass = true/' f\npi@raspberrypi:/tmp $ cat f\npublic static class AppConfig\n{\n    public static bool FirstClass = true;\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Edit</strong></p>\n\n<p>Under MacOS it is needed to use the option <code>-e</code> when there are other option(s), so</p>\n\n<pre><code>sed  -i -e \"s/FirstClass =[ \\t]*false/FirstClass = true/\" ${PATH_TO_FILE}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 833, "user_id": 3475930, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oyWbp.jpg?s=128&g=1", "display_name": "envyM6", "link": "https://stackoverflow.com/users/3475930/envym6"}, "edited": false, "score": 0, "creation_date": 1554914271, "post_id": 55617421, "comment_id": 97928178, "body": "Do i need to write it back to the file?"}, {"owner": {"reputation": 4578, "user_id": 2584475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b73e3a5a31ca53c6e58b1679a86c7a48?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/2584475/jack"}, "reply_to_user": {"reputation": 833, "user_id": 3475930, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oyWbp.jpg?s=128&g=1", "display_name": "envyM6", "link": "https://stackoverflow.com/users/3475930/envym6"}, "edited": false, "score": 0, "creation_date": 1554914766, "post_id": 55617421, "comment_id": 97928449, "body": "Of course.  I did not want to prejudice whether you used <code>-i</code> or piped to a new file to check it first.  I thought I&#39;d leave that to your discretion."}, {"owner": {"reputation": 833, "user_id": 3475930, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oyWbp.jpg?s=128&g=1", "display_name": "envyM6", "link": "https://stackoverflow.com/users/3475930/envym6"}, "edited": false, "score": 0, "creation_date": 1554914863, "post_id": 55617421, "comment_id": 97928508, "body": "No idea what you mean. Yes I&#39;m updating the original file. How can I go about doing it?"}, {"owner": {"reputation": 4578, "user_id": 2584475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b73e3a5a31ca53c6e58b1679a86c7a48?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/2584475/jack"}, "reply_to_user": {"reputation": 833, "user_id": 3475930, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oyWbp.jpg?s=128&g=1", "display_name": "envyM6", "link": "https://stackoverflow.com/users/3475930/envym6"}, "edited": false, "score": 0, "creation_date": 1554915126, "post_id": 55617421, "comment_id": 97928626, "body": "Just as you did in your original post... with the <code>-i</code> option on <code>sed</code>.  Or, you can run <code>sed &#39;&#47;public static bool FirstClass&#47;s&#47;false&#47;true&#47;&#39; ${PATH_TO_FILE} &gt; mytempfile.java</code>, then eye-ball <code>mytempfile.java</code> to make sure you didn&#39;t break anything before running <code>mv mytempfile.java ${PATH_TO_FILE}</code> to replace your original."}], "tags": [], "owner": {"reputation": 4578, "user_id": 2584475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b73e3a5a31ca53c6e58b1679a86c7a48?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/2584475/jack"}, "is_accepted": false, "score": 0, "last_activity_date": 1554914137, "creation_date": 1554914137, "answer_id": 55617421, "question_id": 55617186, "link": "https://stackoverflow.com/questions/55617186/replace-boolean-value-using-bash-shell-in-a-class/55617421#55617421", "title": "Replace boolean value using bash/shell in a class", "body": "<p>I think your best bet is to look for the line, and then substitute, rather than trying to substitute on all lines:</p>\n\n<pre><code>sed '/public static bool FirstClass/s/false/true/'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 833, "user_id": 3475930, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oyWbp.jpg?s=128&g=1", "display_name": "envyM6", "link": "https://stackoverflow.com/users/3475930/envym6"}, "is_accepted": false, "score": 0, "last_activity_date": 1554974912, "creation_date": 1554974912, "answer_id": 55629134, "question_id": 55617186, "link": "https://stackoverflow.com/questions/55617186/replace-boolean-value-using-bash-shell-in-a-class/55629134#55629134", "title": "Replace boolean value using bash/shell in a class", "body": "<p>Anyone else loosing their cool can simply use this to get things done.</p>\n\n<pre><code>sed -i -e 's/FirstClass = false/FirstClass = true/g' ${PATH_TO_FILE}\n\n\n                                  \u00af\\_(\u30c4)_/\u00af \n</code></pre>\n"}], "owner": {"reputation": 833, "user_id": 3475930, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oyWbp.jpg?s=128&g=1", "display_name": "envyM6", "link": "https://stackoverflow.com/users/3475930/envym6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 1, "accepted_answer_id": 55617296, "answer_count": 3, "score": 0, "last_activity_date": 1554997505, "creation_date": 1554913152, "last_edit_date": 1554974052, "question_id": 55617186, "link": "https://stackoverflow.com/questions/55617186/replace-boolean-value-using-bash-shell-in-a-class", "title": "Replace boolean value using bash/shell in a class", "body": "<p>Lets say I have a class as follows:</p>\n\n<pre><code>public static class AppConfig\n{\n    public static bool FirstClass = false;\n}\n</code></pre>\n\n<p>And I'm trying to replace the value to </p>\n\n<blockquote>\n  <p>true</p>\n</blockquote>\n\n<p>using <code>sed -i '' 's/FirstClass = \"[^\"]*\"/FirstClass = \"'true'\"/' ${PATH_TO_FILE}</code>\nbut the value is unchanged when I do </p>\n\n<pre><code>echo \"##[section][Pre-Build Action] - Config.cs File content:\"\ncat ${PATH_TO_FILE}\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>Shell </p>\n\n<pre><code># Update Config.cs\n   echo \"##[command][Pre-Build Action] - Updating Config.cs\"\n   sed  -i 's/FirstClass =[ \\t]*false/FirstClass = true/' ${CONFIG_FILE}\n\necho \"##[section][Pre-Build Action] - Config.cs File content:\"\ncat ${CONFIG_FILE}\n</code></pre>\n\n<p>For reference I'm running on a Mac and so is the build server</p>\n"}, {"tags": ["c#", "asp.net-core-mvc", "asp.net-core-2.1", "ubuntu-18.04", "nginx-reverse-proxy"], "answers": [{"tags": [], "owner": {"reputation": 491, "user_id": 1412765, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/eae7790ae3c2d3307d3cf4f6bbdaaeab?s=128&d=identicon&r=PG", "display_name": "Cal", "link": "https://stackoverflow.com/users/1412765/cal"}, "is_accepted": true, "score": 1, "last_activity_date": 1554960062, "last_edit_date": 1554960062, "creation_date": 1554948359, "answer_id": 55623669, "question_id": 55617084, "link": "https://stackoverflow.com/questions/55617084/asp-net-core-mvc-app-on-linux-cant-be-reached-from-outside-the-server/55623669#55623669", "title": "asp.net core mvc app on linux can&#39;t be reached from outside the server", "body": "<p>Well, I changed two things in /etc/nginx/sites-enabled/www.thesite.com file, and the web app is online again.</p>\n\n<ol>\n<li><p>In the Location section, change bypass_proxy line, from http to https</p></li>\n<li><p>In upstream section, change <code>\"server 127.0.0.1:5000;\"</code> to <code>\"server 127.0.0.1:5001;\"</code> </p></li>\n</ol>\n\n<p>That solved the problem. Although I don't know why.</p>\n\n<p>Also, I figured out how long the web app has been down, it was only one day. Because another service that was making use of the web app was working fine until the day before. I don't know why the nginx config file quit working without any change.\nI guess this is a special case, hopefully, it can help someone.</p>\n"}], "owner": {"reputation": 491, "user_id": 1412765, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/eae7790ae3c2d3307d3cf4f6bbdaaeab?s=128&d=identicon&r=PG", "display_name": "Cal", "link": "https://stackoverflow.com/users/1412765/cal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "accepted_answer_id": 55623669, "answer_count": 1, "score": 0, "last_activity_date": 1554963679, "creation_date": 1554912763, "last_edit_date": 1592644375, "question_id": 55617084, "link": "https://stackoverflow.com/questions/55617084/asp-net-core-mvc-app-on-linux-cant-be-reached-from-outside-the-server", "title": "asp.net core mvc app on linux can&#39;t be reached from outside the server", "body": "<p>It's an asp.net core 2.1 mvc application hosted on an ubuntu 18.04 with Nginx. UFW is disabled.\nThe web application was working in the beginning. When I found out it's down it has been some time.</p>\n<p>Using a browser I go to thesite.com, the browser was redirected to\n<a href=\"https://www.thesite.com:5001/\" rel=\"nofollow noreferrer\">https://www.thesite.com:5001/</a> with error:</p>\n<blockquote>\n<p>This site can\u2019t be reached</p>\n<p>ERR_CONNECTION_TIMED_OUT</p>\n</blockquote>\n<p>The port number was attached so it seems at least an outside request can reach Nginx.\nThen inside the box when I ran</p>\n<pre><code>wget https://localhost --no-check-certificate\n</code></pre>\n<p>I could get index.html which is the correct response. So it seems to me the web application is taking https requests.</p>\n<p>I have never changed default listening port, to verify, I ran this to check listening ports</p>\n<pre><code>sudo netstat -tnlp | grep :5001\n</code></pre>\n<p>The result shows dotnet is listening on port 5001 and 5000.</p>\n<p>In another attempt, I used visual studio debugger to attach to the linux dotnet process, and set a few breakpoints. I could see that when using a browser the breakpoint was not reached. But when using wget like above the breakpoint was reached.</p>\n<p>Any advice is appreciated. Thank you.</p>\n"}, {"tags": ["c#", "sql"], "comments": [{"owner": {"reputation": 5002, "user_id": 9131476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x7X4x.png?s=128&g=1", "display_name": "ITWeiHan", "link": "https://stackoverflow.com/users/9131476/itweihan"}, "edited": false, "score": 0, "creation_date": 1554913336, "post_id": 55617012, "comment_id": 97927687, "body": "<a href=\"https://gist.github.com/shps951023/75033925d7c64037dfb878ab9042eb91\" rel=\"nofollow noreferrer\">gist.github.com/shps951023/75033925d7c64037dfb878ab9042eb91</a>"}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 2, "creation_date": 1554914302, "post_id": 55617012, "comment_id": 97928191, "body": "Minor point: this won&#39;t even compile as written, due to <code>While</code> incorrectly being capitalized."}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1554917082, "post_id": 55617012, "comment_id": 97929581, "body": "This isn&#39;t valid C# or SQL. I don&#39;t see anything about a .doc file. And that&#39;s not how to add items to a ListBox control."}], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 10387486, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-allIDveH2No/AAAAAAAAAAI/AAAAAAAAACI/qPT13YX9dhY/photo.jpg?sz=128", "display_name": "Mercenary", "link": "https://stackoverflow.com/users/10387486/mercenary"}, "is_accepted": false, "score": 0, "last_activity_date": 1554921930, "creation_date": 1554921930, "answer_id": 55619391, "question_id": 55617012, "link": "https://stackoverflow.com/questions/55617012/how-to-write-in-file-the-result-of-query-in-c-for-example-name-salary/55619391#55619391", "title": "How to write in file the result of query in C#. For example (Name salary)", "body": "<p>You can use Docx library to do this.\n<a href=\"https://cathalscorner.blogspot.com/search?q=create\" rel=\"nofollow noreferrer\">https://cathalscorner.blogspot.com/search?q=create</a></p>\n\n<pre><code> // Create a new document.\nusing (DocX document = DocX.Create(\"Test.docx\"))\n{\n    // Create a new Paragraph with the text \"Hello World\".\n    Paragraph p = document.InsertParagraph(\"Hello World.\");\n\n    // Make this Paragraph flow right to left. Default is left to right.\n    p.Direction = Direction.RightToLeft;\n\n    // Save all changes made to this document.\n    document.Save();\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11047470, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J41xjTI6Xrg/AAAAAAAAAAI/AAAAAAAAABk/2fY-6raJwps/photo.jpg?sz=128", "display_name": "FrankenSHTEIN", "link": "https://stackoverflow.com/users/11047470/frankenshtein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1554921930, "creation_date": 1554912553, "last_edit_date": 1554914269, "question_id": 55617012, "link": "https://stackoverflow.com/questions/55617012/how-to-write-in-file-the-result-of-query-in-c-for-example-name-salary", "title": "How to write in file the result of query in C#. For example (Name salary)", "body": "<p>I need to write in .doc file the result of query in C#\n     Code</p>\n\n<pre><code>SqlCommand command = new SqlCommand(\"SELECT Id,Name,Price FROM [Products] WHERE [Id]=@Id \", sqlConnection);\nWhile (await sqlReader.ReadAsync()){\n    listBox3.Items.Add(Convert.ToString(sqlReader[\"id\"]) + \"  \" + \n    Convert.ToString(sqlReader[\"Name\"]) + \"  \" + (1 + ((readSearch1 - f) * 1.2) / f));\n}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "unity3d", "hololens", "mrtk"], "answers": [{"comments": [{"owner": {"reputation": 124, "user_id": 2560339, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7bc2a32cb12000a0c57a806330a61254?s=128&d=identicon&r=PG", "display_name": "Krth", "link": "https://stackoverflow.com/users/2560339/krth"}, "edited": false, "score": 4, "creation_date": 1555420648, "post_id": 55626479, "comment_id": 98098925, "body": "I am running on Windows 10 Insider preview with OS build : 18362.30 Version : 1903 and Also double checked with build setting Minimum SDK is 10.0.10240.0 Target SDK version is \u201cLatest installed\u201d. But still I am facing error at the time of build Error : Assets\\MixedRealityToolkit.Providers\\WindowsMixedReality\\Win&zwnj;&#8203;dowsMixedRealityArti&zwnj;&#8203;culatedHand.cs(418,7&zwnj;&#8203;3): error CS0246: The type or namespace name &#39;HandJointKind&#39; could not be found (are you missing a using directive or an assembly reference?)"}, {"owner": {"reputation": 85, "user_id": 7572109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45164c605dab89e15bc5064abad37e46?s=128&d=identicon&r=PG&f=1", "display_name": "Hectorales", "link": "https://stackoverflow.com/users/7572109/hectorales"}, "edited": false, "score": 0, "creation_date": 1555427427, "post_id": 55626479, "comment_id": 98103471, "body": "Great this works! No more errors before build, now though it seems the debugger gives me another error:  &quot;DEP6953: Failed to launch remote debugger with the following error: &#39;Command failed: 0x80070490&#39;. &quot;"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1571328977, "post_id": 55626479, "comment_id": 103213823, "body": "Did exactly this and still get <code>DEP3321: To deploy this application, your deployment target should be running Windows Universal Runtime version 10.0.18362.0 or higher. You currently are running version 10.0.17763.806. Please update your OS, or change your deployment target to a device with the appropriate version.</code>"}, {"owner": {"reputation": 2412, "user_id": 809040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nY6Us.jpg?s=128&g=1", "display_name": "Julia Schwarz", "link": "https://stackoverflow.com/users/809040/julia-schwarz"}, "edited": false, "score": 0, "creation_date": 1571948697, "post_id": 55626479, "comment_id": 103418248, "body": "It sounds like your HoloLens version is 10.0.17763, have you tried updating your HoloLens to a newer version? Go to Settings \u2192  Update \u2192 check for updates"}], "tags": [], "owner": {"reputation": 2412, "user_id": 809040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nY6Us.jpg?s=128&g=1", "display_name": "Julia Schwarz", "link": "https://stackoverflow.com/users/809040/julia-schwarz"}, "is_accepted": true, "score": 10, "last_activity_date": 1554966590, "last_edit_date": 1554966590, "creation_date": 1554966112, "answer_id": 55626479, "question_id": 55616928, "link": "https://stackoverflow.com/questions/55616928/mrtk-v2-need-to-update-hololens/55626479#55626479", "title": "MRTK (V2) Need to update Hololens?", "body": "<p>To fix this error you need to update your Build Settings so that the Minimum SDK version is at or lower than your HoloLens OS version. I usually use  10.0.10240.0. You still need to make sure that your target SDK version is \u201clatest installed\u201d. Try doing the following steps:</p>\n\n<ol>\n<li>Delete your generated UWP project.</li>\n<li>Open the build settings window in Unity.</li>\n<li>Make sure that Minimum SDK is is 10.0.10240.0</li>\n<li>Make sure that Target SDK version is \u201clatest installed\u201d</li>\n<li>Re-generate the solution and deploy to HoloLens.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 10104036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7FKyk.png?s=128&g=1", "display_name": "Ariel", "link": "https://stackoverflow.com/users/10104036/ariel"}, "is_accepted": false, "score": 1, "last_activity_date": 1555331852, "creation_date": 1555331852, "answer_id": 55689390, "question_id": 55616928, "link": "https://stackoverflow.com/questions/55616928/mrtk-v2-need-to-update-hololens/55689390#55689390", "title": "MRTK (V2) Need to update Hololens?", "body": "<p>Emphasize Bullet 3# in Julia answer.\nMinimum SDK <strong>must</strong> be 10.0.10240.0 otherwise you will get a fatal error on the first app run.</p>\n"}], "owner": {"reputation": 85, "user_id": 7572109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45164c605dab89e15bc5064abad37e46?s=128&d=identicon&r=PG&f=1", "display_name": "Hectorales", "link": "https://stackoverflow.com/users/7572109/hectorales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4008, "favorite_count": 2, "accepted_answer_id": 55626479, "answer_count": 2, "score": 6, "last_activity_date": 1571905363, "creation_date": 1554912284, "question_id": 55616928, "link": "https://stackoverflow.com/questions/55616928/mrtk-v2-need-to-update-hololens", "title": "MRTK (V2) Need to update Hololens?", "body": "<p>I'm trying to check out the new MRTK (V2) but I had been having troubles making the build, first on Unity which make me download the Windows SDK 18362, now I'm trying to continue the build on Visual Studio 2017 for testing but it brings me this error:</p>\n\n<p>To deploy this application, your deployment target should be running Windows Universal Runtime version 10.0.18362.0 or higher. You currently are running version 10.0.17134.80. Please update your OS, or change your deployment target to a device with the appropriate version.       </p>\n\n<p>My Windows 10 OS is 10.0.18632.30 but my HoloLens its on 10.0.17763.380 and its seems it won't update to a higher version even with Windows Insider enabled.</p>\n\n<p>I expect to test the premade demos of MRTK(V2) on my HoloLens 1.\nThe build on Visual Studio wont pass from the error of incompatible version.</p>\n"}, {"tags": ["c#", "lambda", "group-by", "expression", "expression-trees"], "comments": [{"owner": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "edited": false, "score": 0, "creation_date": 1554913949, "post_id": 55616916, "comment_id": 97928030, "body": "Please clarify do you want to group by members from one class (<code>ContactModel</code> in example) or you want to create lambda with anonymous object like <code>x =&gt; new { x.OrderId, x.Contact.ContactId}</code>?"}, {"owner": {"reputation": 8278, "user_id": 2901207, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tIung.png?s=128&g=1", "display_name": "CularBytes", "link": "https://stackoverflow.com/users/2901207/cularbytes"}, "reply_to_user": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "edited": false, "score": 0, "creation_date": 1554914112, "post_id": 55616916, "comment_id": 97928101, "body": "No the return type has to be IQueryable&lt;OrderModel&gt;, so no anonymous type. What I have written for <code>For a single and multiple properties of the same model</code> should work the same as for relational properties."}, {"owner": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "edited": false, "score": 1, "creation_date": 1554915115, "post_id": 55616916, "comment_id": 97928617, "body": "And what if user decide to group by <code>ClientNumber</code> and <code>OrderNumber</code>? Could you please show how that lambda should looks like?"}, {"owner": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "edited": false, "score": 0, "creation_date": 1554915592, "post_id": 55616916, "comment_id": 97928861, "body": "Please <a href=\"https://stackoverflow.com/posts/55616916/edit\">edit</a> your question and add more examples of lambda expressions you would like to generate. At the moment you showed only one <code>x =&gt; x.Contact.ContactId</code> but your generators accept a list of properties names"}, {"owner": {"reputation": 8278, "user_id": 2901207, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tIung.png?s=128&g=1", "display_name": "CularBytes", "link": "https://stackoverflow.com/users/2901207/cularbytes"}, "reply_to_user": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "edited": false, "score": 0, "creation_date": 1554916674, "post_id": 55616916, "comment_id": 97929375, "body": "@AleksAndreev I have edited the question, you did gave some eye-openers when I was searching for your answers, thanks already for that. I hope the update is clear."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1554918155, "post_id": 55616916, "comment_id": 97930145, "body": "The <code>select</code> idea looks flawed. Even if you create the selector expression, the query will return the same number of records as the source and not &quot;groups&quot;."}, {"owner": {"reputation": 8278, "user_id": 2901207, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tIung.png?s=128&g=1", "display_name": "CularBytes", "link": "https://stackoverflow.com/users/2901207/cularbytes"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1554918334, "post_id": 55616916, "comment_id": 97930228, "body": "@IvanStoev The <code>SelectMany</code> which I presented in my example is flawed, the &#39;working&#39; implementation that I represented actually works correctly, for properties of the same model"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 1, "creation_date": 1554919234, "post_id": 55616916, "comment_id": 97930616, "body": "Still doesn&#39;t make sense to me. For each <code>OrderModel</code> item in <code>orders</code>, the <code>Select</code>  would create a new <code>OrderModel</code> with some properties populated. How is that grouping at all? If the question is how to create dynamically <code>Select(item =&gt; new OrderModel() { Contact = new ContactModel() { ContactId = item.Contact.ContactId}, OrderId = item.OrderId  })</code>, then ok, we can probably provide a solution, but please update the question accordingly - remove all these explanations about grouping and call the custom method <code>Select</code>, currently all that is just confusing."}, {"owner": {"reputation": 8278, "user_id": 2901207, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tIung.png?s=128&g=1", "display_name": "CularBytes", "link": "https://stackoverflow.com/users/2901207/cularbytes"}, "edited": false, "score": 0, "creation_date": 1554926303, "post_id": 55616916, "comment_id": 97933840, "body": "Lol, those moments you realize a bit later what you have actually written down. You are right, the select is flawed. It gave the illusion that it was grouping but the same item that is grouped on is repeated, there is no grouping at all currently! 1 step forward, 3 steps backwards. Well at least we figured out how to do the <code>select</code> correctly (so that it shows correctly in the list), now the grouping part or distinct count?"}], "answers": [{"tags": [], "owner": {"reputation": 8278, "user_id": 2901207, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tIung.png?s=128&g=1", "display_name": "CularBytes", "link": "https://stackoverflow.com/users/2901207/cularbytes"}, "is_accepted": true, "score": 1, "last_activity_date": 1556025812, "last_edit_date": 1556025812, "creation_date": 1554919026, "answer_id": 55618671, "question_id": 55616916, "link": "https://stackoverflow.com/questions/55616916/build-relational-grouping-expression-tree-c/55618671#55618671", "title": "Build relational grouping expression tree c#", "body": "<p>There are two parts in this answer:</p>\n\n<ol>\n<li>Create a <code>GroupBy</code> expression and make sure the same return type is used.</li>\n<li>Create a <code>Select</code> expression from the result of the <code>GroupBy</code> expression</li>\n</ol>\n\n<p><strong>SELECT &amp; GROUPING - non-generic</strong></p>\n\n<p>So, the complete solution is below, but to give you an idea on how this works, see this piece of code, this is written in a non-generic version. The code for grouping is almost the same, the tiny difference is that a <code>Key.</code> property is added to the beginning.</p>\n\n<pre><code>public static IQueryable&lt;TModel&gt; GroupByExpression(List&lt;string&gt; propertyNames, IQueryable&lt;TModel&gt; sequence)\n{\n    var param = Expression.Parameter(typeof(TModel), \"item\");\n    Expression propertyExp = param;\n    var body = Expression.New(typeof(TModel).GetConstructors()[0]);\n    var bindings = new List&lt;MemberAssignment&gt;();\n    var queryOrders = orders.AsQueryable();\n    var orderBindings = new List&lt;MemberAssignment&gt;();\n\n    //..more code was here, see question\n\n    var orderParam = Expression.Parameter(typeof(OrderModel), \"item\");\n    Expression orderPropertyExp = orderParam;\n    var orderPropContact = typeof(OrderModel).GetProperty(\"Contact\");\n    orderPropertyExp = Expression.MakeMemberAccess(orderPropertyExp, orderPropContact);\n    var orderPropContactId = orderPropContact.PropertyType.GetProperty(\"ContactId\");\n    orderPropertyExp = Expression.MakeMemberAccess(orderPropertyExp, orderPropContactId);\n\n    var contactBody = Expression.New(typeof(ContactModel).GetConstructors()[0]);\n    var contactMemerAssignment = Expression.Bind(orderPropContactId, propertyExp);\n    orderBindings.Add(contactMemerAssignment);\n    var contactMemberInit = Expression.MemberInit(Expression.New(contactBody, orderBindings);\n\n    var orderContactMemberAssignment = Expression.Bind(orderPropContact, contactMemberInit);\n\n    var orderMemberInit = Expression.MemberInit(Expression.New(typeof(OrderModel).GetConstructors()[0]), new List&lt;MemberAssignment&gt;() {orderContactMemberAssignment});\n\n    //during debugging with the same model, I know TModel is OrderModel, so I can cast it\n    //of course this is just a quick hack to verify it is working correctly in AgGrid, and it is!\n    return (IQueryable&lt;TModel&gt;)queryOrders.Select(Expression.Lambda&lt;Func&lt;OrderModel, OrderModel&gt;&gt;(orderMemberInit, param));\n}\n</code></pre>\n\n<p>So now we need to do that in a generic way.</p>\n\n<p><strong>Grouping:</strong></p>\n\n<p>To do the grouping in a generic way, I found <a href=\"https://codereview.stackexchange.com/questions/173128/groupbyparams-string-fields#\">this amazing post</a>, he deserves a ton of credit to develop that part. However I had to modify it to make sure it also supports sub-relationships. In my example: <code>Order.Contact.ContactId</code>.</p>\n\n<p>I first wrote this recursive method to correctly get the <code>MemberAssignment</code> bindings.</p>\n\n<pre><code>    /// &lt;summary&gt;\n    /// Recursive get the MemberAssignment\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"param\"&gt;The initial paramter expression: var param =  Expression.Parameter(typeof(T), \"item\");&lt;/param&gt;\n    /// &lt;param name=\"baseType\"&gt;The type of the model that is being used&lt;/param&gt;\n    /// &lt;param name=\"propEx\"&gt;Can be equal to 'param' or when already started with the first property, use:  Expression.MakeMemberAccess(param, prop);&lt;/param&gt;\n    /// &lt;param name=\"properties\"&gt;The child properties, so not all the properties in the object, but the sub-properties of one property.&lt;/param&gt;\n    /// &lt;param name=\"index\"&gt;Index to start at&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    public static MemberAssignment RecursiveSelectBindings(ParameterExpression param, Type baseType, Expression propEx, string[] properties, int index)\n    {\n        //Get the first property from the list.\n        var prop = baseType.GetProperty(properties[index], BindingFlags.Instance | BindingFlags.NonPublic | BindingFlags.Public | BindingFlags.IgnoreCase);\n        var leftProperty = prop;\n        Expression selectPropEx = Expression.MakeMemberAccess(propEx, prop);\n        //If this is the last property, then bind it and return that Member assignment\n        if (properties.Length - 1 == index)\n        {\n            var memberAssignment = Expression.Bind(prop, selectPropEx);\n            return memberAssignment;\n        }\n\n        //If we have more sub-properties, make sure the sub-properties are correctly generated.\n        //Generate a \"new Model() { }\"\n        NewExpression selectSubBody = Expression.New(leftProperty.PropertyType.GetConstructors()[0]);\n        //Get the binding of the next property (recursive)\n        var getBinding = RecursiveSelectBindings(param, prop.PropertyType, selectPropEx, properties, index + 1);\n\n        MemberInitExpression selectSubMemberInit =\n            Expression.MemberInit(selectSubBody, new List&lt;MemberAssignment&gt;() { getBinding });\n\n        //Finish the binding by generating \"new Model() { Property = item.Property.Property } \n        //During debugging the code, it will become clear what is what.\n        MemberAssignment selectSubMemberAssignment = Expression.Bind(leftProperty, selectSubMemberInit);\n\n        return selectSubMemberAssignment;\n    }\n</code></pre>\n\n<p>Then thereafter, I could modify the <code>Select&lt;T&gt;</code> method of the <a href=\"https://codereview.stackexchange.com/questions/173128/groupbyparams-string-fields#\">post I mentioned</a>:</p>\n\n<pre><code>    static Expression Select&lt;T&gt;(this IQueryable&lt;T&gt; source, string[] fields)\n    {\n        var itemType = typeof(T);\n        var groupType = itemType; //itemType.Derive();\n        var itemParam = Expression.Parameter(itemType, \"x\");\n\n\n        List&lt;MemberAssignment&gt; bindings = new List&lt;MemberAssignment&gt;();\n        foreach (var property in fields)\n        {\n            Expression propertyExp;\n            if (property.Contains(\".\"))\n            {\n                string[] childProperties = property.Split('.');\n                var binding = RecursiveSelectBindings(itemParam, itemType, itemParam, childProperties, 0);\n                bindings.Add(binding);\n            }\n            else\n            {\n                var fieldValue = groupType.GetProperty(property, BindingFlags.Public | BindingFlags.Static | BindingFlags.Instance | BindingFlags.IgnoreCase);\n                var fieldValueOriginal = Expression.Property(itemParam, fieldValue ?? throw new InvalidOperationException());\n\n                var memberAssignment = Expression.Bind(fieldValue, fieldValueOriginal);\n                bindings.Add(memberAssignment);\n            }\n        }\n\n        var selector = Expression.MemberInit(Expression.New(groupType), bindings.ToArray());\n        return Expression.Lambda(selector, itemParam);\n    }\n</code></pre>\n\n<p>This above code is called by below code (which I didn't modify), but you can see it returns <code>IQueryable&lt;IGrouping&lt;T,T&gt;&gt;</code> type.</p>\n\n<pre><code>    static IQueryable&lt;IGrouping&lt;T, T&gt;&gt; GroupEntitiesBy&lt;T&gt;(this IQueryable&lt;T&gt; source, string[] fields)\n    {\n        var itemType = typeof(T);\n        var method = typeof(Queryable).GetMethods()\n                     .Where(m =&gt; m.Name == \"GroupBy\")\n                     .Single(m =&gt; m.GetParameters().Length == 2)\n                     .MakeGenericMethod(itemType, itemType);\n\n        var result = method.Invoke(null, new object[] { source, source.Select(fields) });\n        return (IQueryable&lt;IGrouping&lt;T, T&gt;&gt;)result;\n    }\n</code></pre>\n\n<p><strong>SELECT</strong></p>\n\n<p>So we have now done the <code>GroupBy</code> expression, what we now need to do is the <code>Select</code> expression. As I said before it is almost equal to the GroupBy, the only difference is that we have to add <code>Key.</code> infront of each property. This is because the <code>Key</code> is the result of the <code>GroupBy</code>, hence you need to start with this.</p>\n\n<pre><code>    public static IQueryable&lt;TModel&gt; GroupByExpression(List&lt;string&gt; propertyNames, IQueryable&lt;TModel&gt; sequence)\n    {\n       var grouping = sequence.GroupBy(propertyNames.ToArray());\n\n        var selectParam = Expression.Parameter(grouping.ElementType, \"item\");\n        Expression selectPropEx = selectParam;\n        var selectBody = Expression.New(typeof(TModel).GetConstructors()[0]);\n        var selectBindings = new List&lt;MemberAssignment&gt;();\n        foreach (var property in propertyNames)\n        {\n            var keyProp = \"Key.\" + property;\n            //support nested, relation grouping\n            string[] childProperties = keyProp.Split('.');\n            var prop = grouping.ElementType.GetProperty(childProperties[0], BindingFlags.Instance | BindingFlags.NonPublic | BindingFlags.Public | BindingFlags.IgnoreCase);\n            selectPropEx = Expression.MakeMemberAccess(selectParam, prop);\n\n            var binding = PropertyGrouping.RecursiveSelectBindings(selectParam, prop.PropertyType, selectPropEx, childProperties, 1);\n            selectBindings.Add(binding);\n        }\n\n        MemberInitExpression selectMemberInit = Expression.MemberInit(selectBody, selectBindings);\n\n        var queryable = grouping\n            .Select(Expression.Lambda&lt;Func&lt;IGrouping&lt;TModel, TModel&gt;, TModel&gt;&gt;(selectMemberInit, selectParam));\n        return queryable;\n\n    }\n</code></pre>\n\n<p><strong>GetHashCode()</strong></p>\n\n<p>Unfortunately, this still didn't work, up until I started implementing <code>GetHasCode()</code> and <code>Equals()</code> in each model that is used. During <code>Count()</code> or executing the query by doing <code>.ToList()</code> it will compare all objects to make sure objects are equal (or not) to each other. If they are equal: Same group. But because we generated those models on the fly, it does not have a way to correctly compare those objects based on memory location (by default).</p>\n\n<p>Luckily, you can generate those 2 methods very easily:</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/visualstudio/ide/reference/generate-equals-gethashcode-methods?view=vs-2019\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/visualstudio/ide/reference/generate-equals-gethashcode-methods?view=vs-2019</a> </p>\n\n<p>Make sure atleast all properties are included that you will use in the table (and can be grouped by).</p>\n"}, {"tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": false, "score": 2, "last_activity_date": 1554923226, "creation_date": 1554923226, "answer_id": 55619706, "question_id": 55616916, "link": "https://stackoverflow.com/questions/55616916/build-relational-grouping-expression-tree-c/55619706#55619706", "title": "Build relational grouping expression tree c#", "body": "<p>If the idea is to create dynamically a nested <code>MemberInit</code> selector, it could be done as follows:</p>\n\n<pre><code>public static class QueryableExtensions\n{\n    public static IQueryable&lt;T&gt; SelectMembers&lt;T&gt;(this IQueryable&lt;T&gt; source, IEnumerable&lt;string&gt; memberPaths)\n    {\n        var parameter = Expression.Parameter(typeof(T), \"item\");\n        var body = parameter.Select(memberPaths.Select(path =&gt; path.Split('.')));\n        var selector = Expression.Lambda&lt;Func&lt;T, T&gt;&gt;(body, parameter);\n        return source.Select(selector);\n    }\n\n    static Expression Select(this Expression source, IEnumerable&lt;string[]&gt; memberPaths, int depth = 0)\n    {\n        var bindings = memberPaths\n            .Where(path =&gt; depth &lt; path.Length)\n            .GroupBy(path =&gt; path[depth], (name, items) =&gt;\n            {\n                var item = Expression.PropertyOrField(source, name);\n                return Expression.Bind(item.Member, item.Select(items, depth + 1));\n            }).ToList();\n        if (bindings.Count == 0) return source;\n        return Expression.MemberInit(Expression.New(source.Type), bindings);\n    }\n}\n</code></pre>\n\n<p>Basically process member paths recursively, group each level by member name and bind the member to either source expression or <code>MemberInit</code> of source expression. </p>\n"}], "owner": {"reputation": 8278, "user_id": 2901207, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tIung.png?s=128&g=1", "display_name": "CularBytes", "link": "https://stackoverflow.com/users/2901207/cularbytes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 1, "accepted_answer_id": 55618671, "answer_count": 2, "score": 3, "last_activity_date": 1556025812, "creation_date": 1554912259, "last_edit_date": 1554930066, "question_id": 55616916, "link": "https://stackoverflow.com/questions/55616916/build-relational-grouping-expression-tree-c", "title": "Build relational grouping expression tree c#", "body": "<p><strong>Context:</strong></p>\n\n<p>Using Ag-Grid, users should be able to drag-drop columns they want to group on.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gQpIP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQpIP.png\" alt=\"enter image description here\"></a></p>\n\n<p>Let's say I have the following model and group by function:</p>\n\n<pre><code>List&lt;OrderModel&gt; orders = new List&lt;OrderModel&gt;()\n{\n    new OrderModel()\n    {\n        OrderId = 184214,\n        Contact = new ContactModel()\n        {\n            ContactId = 1000\n        }\n    }\n};\n\nvar queryOrders = orders.AsQueryable();\n</code></pre>\n\n<p><strong>Edit:</strong> So people have made me realize that in below question, I was actually focusing on dynamically <code>Select</code> the correct items (which is one of the requirements), I missed out on actually doing the grouping. Therefore some edits have been made to reflect both issues: Grouping and selecting, strongly typed.</p>\n\n<p>In a type-defined way:</p>\n\n<p><em>Single column</em></p>\n\n<pre><code>IQueryable&lt;OrderModel&gt; resultQueryable = queryOrders\n    .GroupBy(x =&gt; x.ExclPrice)\n    .Select(x =&gt; new OrderModel() { ExclPrice = x.Key.ExclPrice});\n</code></pre>\n\n<p><em>Multiple columns</em></p>\n\n<pre><code> IQueryable&lt;OrderModel&gt; resultQueryable = queryOrders\n            .GroupBy(x =&gt; new OrderModel() { Contact = new ContactModel(){ ContactId = x.Contact.ContactId }, ExclPrice = x.ExclPrice})\n            .Select(x =&gt; new OrderModel() {Contact = new ContactModel() {ContactId = x.Key.Contact.ContactId}, ExclPrice = x.Key.ExclPrice});\n</code></pre>\n\n<p>However, the last one doesn't work, defining an <code>OrderModel</code> within the <code>GroupBy</code> apparently gives issues when translating it to SQL.</p>\n\n<p>How do I build this <code>GroupBy</code>/ <code>Select</code> using Expressions?</p>\n\n<p>Currently, I have got so far to select the correct items, but no grouping is done yet.</p>\n\n<pre><code>public static IQueryable&lt;TModel&gt; GroupByExpression(List&lt;string&gt; propertyNames, IQueryable&lt;TModel&gt; sequence)\n{\n    var param = Expression.Parameter(typeof(TModel), \"item\");\n    var body = Expression.New(typeof(TModel).GetConstructors()[0]);\n    var bindings = new List&lt;MemberAssignment&gt;();\n    foreach (var property in propertyNames)\n    {\n        var fieldValue = typeof(TModel).GetProperty(property, BindingFlags.Public | BindingFlags.Static | BindingFlags.Instance | BindingFlags.IgnoreCase);\n\n        var fieldValueOriginal = Expression.Property(param, fieldValue ?? throw new InvalidOperationException());\n\n        var memberAssignment = Expression.Bind(fieldValue, fieldValueOriginal);\n        bindings.Add(memberAssignment);\n    }\n    var result = sequence.Select(Expression.Lambda&lt;Func&lt;TModel, TModel&gt;&gt;(Expression.MemberInit(body, bindings), param));\n    return result;\n}\n</code></pre>\n\n<p>This works fine until I want to introduce a relationship, so in my example, <code>item.Contact.ContactId</code>. </p>\n\n<p>I have tried to do it this way:</p>\n\n<pre><code>public static IQueryable&lt;TModel&gt; GroupByExpression(List&lt;string&gt; propertyNames, IQueryable&lt;TModel&gt; sequence)\n{\n    var param = Expression.Parameter(typeof(TModel), \"item\");\n    Expression propertyExp = param;\n    var body = Expression.New(typeof(TModel).GetConstructors()[0]);\n    var bindings = new List&lt;MemberAssignment&gt;();\n    foreach (var property in propertyNames)\n    {\n        if (property.Contains(\".\"))\n        {\n            //support nested, relation grouping\n            string[] childProperties = property.Split('.');\n            var prop = typeof(TModel).GetProperty(childProperties[0], BindingFlags.Instance | BindingFlags.NonPublic | BindingFlags.Public | BindingFlags.IgnoreCase);\n            propertyExp = Expression.MakeMemberAccess(param, prop);\n            //loop over the rest of the childs until we have reached the correct property\n            for (int i = 1; i &lt; childProperties.Length; i++)\n            {\n                prop = prop.PropertyType.GetProperty(childProperties[i],\n                    BindingFlags.Instance | BindingFlags.NonPublic | BindingFlags.Public | BindingFlags.IgnoreCase);\n                propertyExp = Expression.MakeMemberAccess(propertyExp, prop);\n\n                if (i == childProperties.Length - 1)//last item, this would be the grouping field item\n                {\n                    var memberAssignment = Expression.Bind(prop, propertyExp);\n                    bindings.Add(memberAssignment);\n                }\n            }\n        }\n        else\n        {\n            var fieldValue = typeof(TModel).GetProperty(property, BindingFlags.Public | BindingFlags.Static | BindingFlags.Instance | BindingFlags.IgnoreCase);\n\n            var fieldValueOriginal = Expression.Property(param, fieldValue ?? throw new InvalidOperationException());\n\n            var memberAssignment = Expression.Bind(fieldValue, fieldValueOriginal);\n            bindings.Add(memberAssignment);\n        }\n\n\n    }\n    var memInitExpress = Expression.MemberInit(body, bindings);\n    var result = sequence.Select(Expression.Lambda&lt;Func&lt;TModel, TModel&gt;&gt;(memInitExpress, param));\n    return result;\n}\n</code></pre>\n\n<p>Might look promising, but unfortunately, it throws an error at <code>var memInitExpress = Expression.MemberInit(body, bindings);</code> </p>\n\n<blockquote>\n  <p>ArgumentException ''ContactId' is not a member of type 'OrderModel''</p>\n</blockquote>\n\n<p>So this is how the expression looks like when grouping on multiple columns:</p>\n\n<p>Result of <code>Expression.MemberInit(body, bindings)</code> is:\n<code>{new OrderModel() {TotalInclPrice = item.TotalInclPrice, OrderId = item.OrderId}}</code></p>\n\n<p>So the entire expression is: <code>{item =&gt; new OrderModel() {TotalInclPrice = item.TotalInclPrice, OrderId = item.OrderId}}</code></p>\n\n<p>So now it is not so difficult to understand why I get the exception I mentioned, simply because it is using the <code>OrderModel</code> to Select the properties, and ContactId is not in that model. However I am limited and required to stick to <code>IQueryable&lt;OrderModel&gt;</code>, so the question now is how to create the expression to group by <code>ContactId</code> using the same model. I would guess I would actually need to have a expression with this:</p>\n\n<p>Result of <code>Expression.MemberInit(body, bindings)</code> would need to be:\n<code>{new OrderModel() { Contact = new ContactModel() { ContactId = item.Contact.ContactId} , OrderId = item.OrderId}}</code>. Something like this?</p>\n\n<p>So, I thought let's go back to the basics and do it step by step. Eventually, the for-loop creates the following expression. <a href=\"https://stackoverflow.com/a/55618671/2901207\">See my answer</a>  how I solve this part, <a href=\"https://stackoverflow.com/a/55619706/2901207\">Ivan's answer</a> seems to have solved this in a generic way but I did not test that code yet. However, this does not do the grouping yet, so after applying grouping, these answers might not work anymore.</p>\n\n<p>FYI: The AgGrid can find property relationships by just supplying the column field <code>contact.contactId</code>. So when the data is loaded, it just tries to find that property. I think when above expression is created, it would work within the Grid. I am trying myself now as well how to create sub-<code>MemberInit</code>'s, because I think that is the solution in order to successfully do it.  </p>\n"}, {"tags": ["c#", "android", "visual-studio", "debugging", "crash"], "comments": [{"owner": {"reputation": 717, "user_id": 4188684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb97b9c7751295149f50cd1cb422a25c?s=128&d=identicon&r=PG&f=1", "display_name": "Joachim Haglund", "link": "https://stackoverflow.com/users/4188684/joachim-haglund"}, "edited": false, "score": 0, "creation_date": 1555066356, "post_id": 55616865, "comment_id": 97988642, "body": "Having the same problem and have yet to find a solution. Seemingly it happends at random, have not been able to locate a source."}], "answers": [{"comments": [{"owner": {"reputation": 717, "user_id": 4188684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb97b9c7751295149f50cd1cb422a25c?s=128&d=identicon&r=PG&f=1", "display_name": "Joachim Haglund", "link": "https://stackoverflow.com/users/4188684/joachim-haglund"}, "edited": false, "score": 0, "creation_date": 1555325676, "post_id": 55650193, "comment_id": 98058300, "body": "Correction, did not solve the problem, only reduced it. Still happening jsut more rarely after i hcanged http client for some reason"}], "tags": [], "owner": {"reputation": 717, "user_id": 4188684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb97b9c7751295149f50cd1cb422a25c?s=128&d=identicon&r=PG&f=1", "display_name": "Joachim Haglund", "link": "https://stackoverflow.com/users/4188684/joachim-haglund"}, "is_accepted": false, "score": 0, "last_activity_date": 1555066957, "creation_date": 1555066957, "answer_id": 55650193, "question_id": 55616865, "link": "https://stackoverflow.com/questions/55616865/latest-vs-mac-updates-causes-sigsegv-at-setcontentviewresourceid-in-xamarin-an/55650193#55650193", "title": "Latest VS Mac updates causes SIGSEGV at SetContentView(resourceid) in Xamarin Android", "body": "<p>Found a workaround that seems to be working:\n<a href=\"https://i.stack.imgur.com/zdnXS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zdnXS.png\" alt=\"enter image description here\"></a></p>\n\n<p>Changing the HttpClient from <strong>Default</strong> to <strong>AndroidClientHandler</strong> solved the issue for me</p>\n"}, {"tags": [], "owner": {"reputation": 717, "user_id": 4188684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb97b9c7751295149f50cd1cb422a25c?s=128&d=identicon&r=PG&f=1", "display_name": "Joachim Haglund", "link": "https://stackoverflow.com/users/4188684/joachim-haglund"}, "is_accepted": false, "score": 0, "last_activity_date": 1555406519, "creation_date": 1555406519, "answer_id": 55704732, "question_id": 55616865, "link": "https://stackoverflow.com/questions/55616865/latest-vs-mac-updates-causes-sigsegv-at-setcontentviewresourceid-in-xamarin-an/55704732#55704732", "title": "Latest VS Mac updates causes SIGSEGV at SetContentView(resourceid) in Xamarin Android", "body": "<p>Just wanted to update incase more people are having trouble.\nThe VS team are aware of the issue and as of 2 hours ago they have a potential fix that they are testing and finalizing so hopefully we will be able to download a fixed version shortly. for updates check\n<a href=\"https://developercommunity.visualstudio.com/content/problem/515603/android-crashes-every-time-with-the-new-vs-for-mac.html\" rel=\"nofollow noreferrer\">this thread</a></p>\n"}], "owner": {"reputation": 805, "user_id": 2640458, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/dcgx7.png?s=128&g=1", "display_name": "Sev", "link": "https://stackoverflow.com/users/2640458/sev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1555406519, "creation_date": 1554912090, "last_edit_date": 1554912680, "question_id": 55616865, "link": "https://stackoverflow.com/questions/55616865/latest-vs-mac-updates-causes-sigsegv-at-setcontentviewresourceid-in-xamarin-an", "title": "Latest VS Mac updates causes SIGSEGV at SetContentView(resourceid) in Xamarin Android", "body": "<p>After updating VS Mac last week I now get a crash while running my app in debug mode. This is an existing app that has had no recent changes, and to be certain it is not a code change I loaded up a past build in source control and ran that with the same affect. I have tracked it down to calling <code>SetContentView(Resource.Layout.Main);</code> in the <code>OnCreate()</code> method of one of my <code>Activities</code>. This is not the first activity to show in the app, there is a log in activity that has no issues. But on my main page, the app dies without catching on an exception catch point. The crash happens regardless of device, but only in debug mode. And I can always launch the app directly from the device after it has installed and crashed. In my application output I get the below log which has not proven to be helpful. This is driving me nutty, please help, anyone!</p>\n\n<pre><code>[mono-rt] /proc/self/maps:\n[mono-rt] 12c00000-52c00000 rw-p 00000000 00:05 34637 /dev/ashmem/dalvik-main space (region space)_1589_1589 (deleted)\n[mono-rt] 6f2a1000-6f2b8000 rw-p 00000000 fd:03 393357 /data/dalvik-cache/arm64/system@framework@boot.art\n[mono-rt] 6f2b8000-6f53a000 rw-p 00000000 fd:03 393358 /data/dalvik-cache/arm64/system@framework@boot-core-oj.art\n[mono-rt] 6f53a000-6f640000 rw-p 00000000 fd:03 393361 /data/dalvik-cache/arm64/system@framework@boot-core-libart.art\n[mono-rt] 6f640000-6f675000 rw-p 00000000 fd:03 393363 /data/dalvik-cache/arm64/system@framework@boot-conscrypt.art\n[mono-rt] 6f675000-6f6b2000 rw-p 00000000 fd:03 393364 /data/dalvik-cache/arm64/system@framework@boot-okhttp.art\n[mono-rt] 6f6b2000-6f6b6000 rw-p 00000000 fd:03 393366 /data/dalvik-cache/arm64/system@framework@boot-legacy-test.art\n[mono-rt] 6f6b6000-6f6f9000 rw-p 00000000 fd:03 393368 /data/dalvik-cache/arm64/system@framework@boot-bouncycastle.art\n[mono-rt] 6f6f9000-6f734000 rw-p 00000000 fd:03 393370 /data/dalvik-cache/arm64/system@framework@boot-ext.art\n[mono-rt] 6f734000-70056000 rw-p 00000000 fd:03 393373 /data/dalvik-cache/arm64/system@framework@boot-framework.art\n[mono-rt] 70056000-7010d000 rw-p 00000000 fd:03 393375 /data/dalvik-cache/arm64/system@framework@boot-telephony-common.art\n[mono-rt] 7010d000-70116000 rw-p 00000000 fd:03 393377 /data/dalvik-cache/arm64/system@framework@boot-voip-common.art\n[mono-rt] 70116000-7011e000 rw-p 00000000 fd:03 393379 /data/dalvik-cache/arm64/system@framework@boot-ims-common.art\n[mono-rt] 7011e000-70142000 rw-p 00000000 fd:03 393381 /data/dalvik-cache/arm64/system@framework@boot-apache-xml.art\n[mono-rt] 70142000-7016e000 rw-p 00000000 fd:03 393383 /data/dalvik-cache/arm64/system@framework@boot-org.apache.http.legacy.boot.art\n[mono-rt] 7016e000-70173000 rw-p 00000000 fd:03 393385 /data/dalvik-cache/arm64/system@framework@boot-smartbondingservice.art\n[mono-rt] 70173000-7017a000 rw-p 00000000 fd:03 393387 /data/dalvik-cache/arm64/system@framework@boot-sprengine.art\n[mono-rt] 7017a000-7017b000 rw-p 00000000 fd:03 393389 /data/dalvik-cache/arm64/system@framework@boot-android.hidl.base-V1.0-java.art\n[mono-rt] 7017b000-7017e000 rw-p 00000000 fd:03 393391 /data/dalvik-cache/arm64/system@framework@boot-android.hidl.manager-V1.0-java.art\n[mono-rt] 7017e000-70188000 rw-p 00000000 fd:03 393393 /data/dalvik-cache/arm64/system@framework@boot-timakeystore.art\n[mono-rt] 70188000-70191000 rw-p 00000000 fd:03 393395 /data/dalvik-cache/arm64/system@framework@boot-fipstimakeystore.art\n[mono-rt] 70191000-70192000 rw-p 00000000 fd:03 393397 /data/dalvik-cache/arm64/system@framework@boot-ucmopensslenginehelper.art\n[mono-rt] 70192000-70196000 rw-p 00000000 fd:03 393399 /data/dalvik-cache/arm64/system@framework@boot-esecomm.art\n[mono-rt] 70196000-70197000 rw-p 00000000 fd:03 393401 /data/dalvik-cache/arm64/system@framework@boot-SemAudioThumbnail.art\n[mono-rt] 70197000-701d1000 rw-p 00000000 fd:03 393403 /data/dalvik-cache/arm64/system@framework@boot-knoxsdk.art\n[libc] Fatal signal 11 (SIGSEGV), code 1, fault addr 0xbc in tid 23274 (OS_GETTAGS_CALL)\n</code></pre>\n\n<p>If I go to android monitor and use <strong><em>logcat</em></strong>, I don't get much more:</p>\n\n<pre><code>04-09 09:32:59.458: E/mono-rt(25118): /proc/self/maps:\n04-09 09:32:59.458: E/mono-rt(25118): 12c00000-52c00000 rw-p 00000000 00:05 34637 /dev/ashmem/dalvik-main space (region space)_1589_1589 (deleted)\n04-09 09:32:59.458: E/mono-rt(25118): 6f2a1000-6f2b8000 rw-p 00000000 fd:03 393357 /data/dalvik-cache/arm64/system@framework@boot.art\n04-09 09:32:59.458: E/mono-rt(25118): 6f2b8000-6f53a000 rw-p 00000000 fd:03 393358 /data/dalvik-cache/arm64/system@framework@boot-core-oj.art\n04-09 09:32:59.458: E/mono-rt(25118): 6f53a000-6f640000 rw-p 00000000 fd:03 393361 /data/dalvik-cache/arm64/system@framework@boot-core-libart.art\n04-09 09:32:59.458: E/mono-rt(25118): 6f640000-6f675000 rw-p 00000000 fd:03 393363 /data/dalvik-cache/arm64/system@framework@boot-conscrypt.art\n04-09 09:32:59.458: E/mono-rt(25118): 6f675000-6f6b2000 rw-p 00000000 fd:03 393364 /data/dalvik-cache/arm64/system@framework@boot-okhttp.art\n04-09 09:32:59.458: E/mono-rt(25118): 6f6b2000-6f6b6000 rw-p 00000000 fd:03 393366 /data/dalvik-cache/arm64/system@framework@boot-legacy-test.art\n04-09 09:32:59.458: E/mono-rt(25118): 6f6b6000-6f6f9000 rw-p 00000000 fd:03 393368 /data/dalvik-cache/arm64/system@framework@boot-bouncycastle.art\n04-09 09:32:59.458: E/mono-rt(25118): 6f6f9000-6f734000 rw-p 00000000 fd:03 393370 /data/dalvik-cache/arm64/system@framework@boot-ext.art\n04-09 09:32:59.458: E/mono-rt(25118): 6f734000-70056000 rw-p 00000000 fd:03 393373 /data/dalvik-cache/arm64/system@framework@boot-framework.art\n04-09 09:32:59.458: E/mono-rt(25118): 70056000-7010d000 rw-p 00000000 fd:03 393375 /data/dalvik-cache/arm64/system@framework@boot-telephony-common.art\n04-09 09:32:59.458: E/mono-rt(25118): 7010d000-70116000 rw-p 00000000 fd:03 393377 /data/dalvik-cache/arm64/system@framework@boot-voip-common.art\n04-09 09:32:59.458: E/mono-rt(25118): 70116000-7011e000 rw-p 00000000 fd:03 393379 /data/dalvik-cache/arm64/system@framework@boot-ims-common.art\n04-09 09:32:59.458: E/mono-rt(25118): 7011e000-70142000 rw-p 00000000 fd:03 393381 /data/dalvik-cache/arm64/system@framework@boot-apache-xml.art\n04-09 09:32:59.458: E/mono-rt(25118): 70142000-7016e000 rw-p 00000000 fd:03 393383 /data/dalvik-cache/arm64/system@framework@boot-org.apache.http.legacy.boot.art\n04-09 09:32:59.458: E/mono-rt(25118): 7016e000-70173000 rw-p 00000000 fd:03 393385 /data/dalvik-cache/arm64/system@framework@boot-smartbondingservice.art\n04-09 09:32:59.458: E/mono-rt(25118): 70173000-7017a000 rw-p 00000000 fd:03 393387 /data/dalvik-cache/arm64/system@framework@boot-sprengine.art\n04-09 09:32:59.458: E/mono-rt(25118): 7017a000-7017b000 rw-p 00000000 fd:03 393389 /data/dalvik-cache/arm64/system@framework@boot-android.hidl.base-V1.0-java.art\n04-09 09:32:59.458: E/mono-rt(25118): 7017b000-7017e000 rw-p 00000000 fd:03 393391 /data/dalvik-cache/arm64/system@framework@boot-android.hidl.manager-V1.0-java.art\n04-09 09:32:59.458: E/mono-rt(25118): 7017e000-70188000 rw-p 00000000 fd:03 393393 /data/dalvik-cache/arm64/system@framework@boot-timakeystore.art\n04-09 09:32:59.458: E/mono-rt(25118): 70188000-70191000 rw-p 00000000 fd:03 393395 /data/dalvik-cache/arm64/system@framework@boot-fipstimakeystore.art\n04-09 09:32:59.458: E/mono-rt(25118): 70191000-70192000 rw-p 00000000 fd:03 393397 /data/dalvik-cache/arm64/system@framework@boot-ucmopensslenginehelper.art\n04-09 09:32:59.458: E/mono-rt(25118): 70192000-70196000 rw-p 00000000 fd:03 393399 /data/dalvik-cache/arm64/system@framework@boot-esecomm.art\n04-09 09:32:59.458: E/mono-rt(25118): 70196000-70197000 rw-p 00000000 fd:03 393401 /data/dalvik-cache/arm64/system@framework@boot-SemAudioThumbnail.art\n04-09 09:32:59.458: E/mono-rt(25118): 70197000-701d1000 rw-p 00000000 fd:03 393403 /data/dalvik-cache/arm64/system@framework@boot-knoxsdk.art\n04-09 09:32:59.459: A/libc(25118): Fatal signal 11 (SIGSEGV), code 1, fault addr 0xbc in tid 25282 (OS_GETTAGS_CALL)\n04-09 09:32:59.493: E/propClient(25287): PropClient failed to load\n04-09 09:32:59.521: A/DEBUG(25288): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\n04-09 09:32:59.521: A/DEBUG(25288): Build fingerprint: 'samsung/star2qltesq/star2qltesq:8.0.0/R16NW/88888:user/release-keys'\n04-09 09:32:59.521: A/DEBUG(25288): Revision: '14'\n04-09 09:32:59.521: A/DEBUG(25288): ABI: 'arm64'\n04-09 09:32:59.521: A/DEBUG(25288): pid: 25118, tid: 25282, name: OS_GETTAGS_CALL &gt;&gt;&gt; com.wallet.consumer &lt;&lt;&lt;\n04-09 09:32:59.521: A/DEBUG(25288): signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0xbc\n04-09 09:32:59.521: A/DEBUG(25288): Cause: null pointer dereference\n04-09 09:32:59.521: A/DEBUG(25288): x0 0000000000000000 x1 00000074b53a6648 x2 000000749b6f7178 x3 0000000000000008\n04-09 09:32:59.521: A/DEBUG(25288): x4 0000000000000000 x5 0000000000000002 x6 00000074a1bdea98 x7 0000000000000009\n04-09 09:32:59.521: A/DEBUG(25288): x8 00000074b53cc898 x9 0000000000000001 x10 0000000000000001 x11 0000000000000000\n04-09 09:32:59.521: A/DEBUG(25288): x12 0000000000000276 x13 0000000000005540 x14 000000000000000d x15 aaaaaaaaaaaaaaab\n04-09 09:32:59.521: A/DEBUG(25288): x16 00000074ab6849c0 x17 00000074c656cd00 x18 0000000000000001 x19 000000749b6f7178\n04-09 09:32:59.521: A/DEBUG(25288): x20 00000074b53a6648 x21 0000000000000000 x22 00000074bb162e86 x23 000000749f47eeb0\n04-09 09:32:59.521: A/DEBUG(25288): x24 0000000000000000 x25 00000074a7ddf700 x26 0000000000000000 x27 0000000000000000\n04-09 09:32:59.521: A/DEBUG(25288): x28 0000000000000000 x29 000000749b6f7160 x30 00000074ab4db484\n04-09 09:32:59.521: A/DEBUG(25288): sp 000000749b6f70d0 pc 00000074ab4db494 pstate 0000000060000000\n04-09 09:32:59.521: A/DEBUG(25288): backtrace:\n04-09 09:32:59.521: A/DEBUG(25288): #00 pc 0000000000199494 /data/app/Mono.Android.DebugRuntime-bgZa5Uoa74W6pXDFoMuSZw==/lib/arm64/libmonosgen-64bit-2.0.so\n04-09 09:32:59.521: A/DEBUG(25288): #01 pc 0000000000199480 /data/app/Mono.Android.DebugRuntime-bgZa5Uoa74W6pXDFoMuSZw==/lib/arm64/libmonosgen-64bit-2.0.so\n04-09 09:33:00.211: E/adbd(8161): recv: OPEN 00000261 00000000 000c:73 68 65 6C 6C 3A 70 73 20 2D 41 00\n</code></pre>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1554912152, "post_id": 55616845, "comment_id": 97927080, "body": "What type of exception are you trying to handle, we can&#39;t see that..."}, {"owner": {"reputation": 45, "user_id": 11246741, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AlKT0mautSw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfD2mHzjjUr3GvFk0qMU0HXqX5M-A/mo/photo.jpg?sz=128", "display_name": "lio programista", "link": "https://stackoverflow.com/users/11246741/lio-programista"}, "reply_to_user": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1554912527, "post_id": 55616845, "comment_id": 97927282, "body": "I would like to catch whenever the Entity database is not available"}], "owner": {"reputation": 45, "user_id": 11246741, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AlKT0mautSw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfD2mHzjjUr3GvFk0qMU0HXqX5M-A/mo/photo.jpg?sz=128", "display_name": "lio programista", "link": "https://stackoverflow.com/users/11246741/lio-programista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554912039, "creation_date": 1554912039, "question_id": 55616845, "link": "https://stackoverflow.com/questions/55616845/catch-no-entity-database-error-by-the-exception-type", "title": "Catch no entity database error by the exception type", "body": "<p>I am trying to put the code to sleep if the database is down. Everything is working fine. I am checking if the database is available by catching an exception then I am checking for the exception message. Is there any way for example the exception type, error number .....</p>\n\n<pre><code>if (ex.Message == \"The underlying provider failed on Open.\" || ex.Message == \"A transport-level error has occurred when receiving results from the server. (provider: Session Provider, error: 19 - Physical connection is not usable)\")\n{\n       CheckConnection();\n}\n</code></pre>\n"}, {"tags": ["c#", "azure", "asp.net-core", "kudu", "webjob"], "comments": [{"owner": {"reputation": 10995, "user_id": 10383250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86977ed7f8c387560ffd1c75bc41bedc?s=128&d=identicon&r=PG&f=1", "display_name": "George Chen", "link": "https://stackoverflow.com/users/10383250/george-chen"}, "edited": false, "score": 0, "creation_date": 1554949280, "post_id": 55616801, "comment_id": 97940274, "body": "Did you check the log, is there any errors reported?"}, {"owner": {"reputation": 15, "user_id": 11341371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c8bca1c60297011edebda0d97281bf?s=128&d=identicon&r=PG&f=1", "display_name": "Flatternschu", "link": "https://stackoverflow.com/users/11341371/flatternschu"}, "reply_to_user": {"reputation": 10995, "user_id": 10383250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86977ed7f8c387560ffd1c75bc41bedc?s=128&d=identicon&r=PG&f=1", "display_name": "George Chen", "link": "https://stackoverflow.com/users/10383250/george-chen"}, "edited": false, "score": 0, "creation_date": 1554977126, "post_id": 55616801, "comment_id": 97951130, "body": "@GeorgeChen there are no error logs, it just changes it&#39;s status to Running, then shows the exe path, and that&#39;s it. It doesn&#39;t even log that it&#39;s aborted eventually."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11341371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c8bca1c60297011edebda0d97281bf?s=128&d=identicon&r=PG&f=1", "display_name": "Flatternschu", "link": "https://stackoverflow.com/users/11341371/flatternschu"}, "edited": false, "score": 0, "creation_date": 1555684455, "post_id": 55704706, "comment_id": 98201405, "body": "I set it to higher value, but I don&#39;t really know if it changed anything. Logs were displayed correctly for last week anyway. I wonder if something happened or I just got lucky."}], "tags": [], "owner": {"reputation": 10995, "user_id": 10383250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86977ed7f8c387560ffd1c75bc41bedc?s=128&d=identicon&r=PG&f=1", "display_name": "George Chen", "link": "https://stackoverflow.com/users/10383250/george-chen"}, "is_accepted": true, "score": 0, "last_activity_date": 1555406404, "creation_date": 1555406404, "answer_id": 55704706, "question_id": 55616801, "link": "https://stackoverflow.com/questions/55616801/azure-webjob-logs-aborted-in-kudu-even-though-keeps-running/55704706#55704706", "title": "Azure webjob logs Aborted in Kudu even though keeps running", "body": "<p>If you already enable the always on, It maybe because the long-running job might be running in the background, butt SCM does not know it.</p>\n\n<p>So in this case, you could set <code>WEBJOBS_IDLE_TIMEOUT</code>(mostly this is enough) and/or <code>SCM_COMMAND_IDLE_TIMEOUT</code>(simply set both of them) on a high value under the configure in your app service. This is the time in seconds until Kudu will kill a WebJob that hasn't had any requests or output in the given time period. You could refer to this <a href=\"https://github.com/projectkudu/kudu/wiki/WebJobs#configuration-settings\" rel=\"nofollow noreferrer\">doc</a>.</p>\n"}], "owner": {"reputation": 15, "user_id": 11341371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c8bca1c60297011edebda0d97281bf?s=128&d=identicon&r=PG&f=1", "display_name": "Flatternschu", "link": "https://stackoverflow.com/users/11341371/flatternschu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "accepted_answer_id": 55704706, "answer_count": 1, "score": 0, "last_activity_date": 1555406404, "creation_date": 1554911870, "question_id": 55616801, "link": "https://stackoverflow.com/questions/55616801/azure-webjob-logs-aborted-in-kudu-even-though-keeps-running", "title": "Azure webjob logs Aborted in Kudu even though keeps running", "body": "<p>I have a long-running triggered webjob hosted on Azure that runs once per day. In most cases it is processed successfully with running time of about an hour, but from time to time I get Aborted status in Kudu with running time of \"less than 1ms\". The job actually keeps running, as I can see AppInsights traces appear, but for some reason Kudu immediately marks it Aborted.</p>\n\n<p>Always On is set to true in Service App settings, and it hosts many other jobs that don't suffer from such an issue.</p>\n\n<p>Could you please explain what can be a reason of this behavior and how can I fix this issue?</p>\n"}, {"tags": ["c#", "ios", "xamarin.ios"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 4619231, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10202935709947607/picture?type=large", "display_name": "Tom&#225;\u0161 Bul&#237;\u010dek", "link": "https://stackoverflow.com/users/4619231/tom%c3%a1%c5%a1-bul%c3%ad%c4%8dek"}, "edited": false, "score": 0, "creation_date": 1554913864, "post_id": 55617255, "comment_id": 97927982, "body": "I thought of similar solution, however in my app, there are labels with time and values that change every minute. Therefore I really need these updates to happen even when cell is swiped. It&#39;s not about one or two emails missing in my case, I wouldn&#39;t mind that, its about data being literally outdated. But thanks for answer. I might accept it in the future, if there will be no other way."}, {"owner": {"reputation": 544, "user_id": 1751300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/838d11bb7dd57a8b5fb7f0da9fd7a3d9?s=128&d=identicon&r=PG", "display_name": "Joshua Cleetus", "link": "https://stackoverflow.com/users/1751300/joshua-cleetus"}, "reply_to_user": {"reputation": 61, "user_id": 4619231, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10202935709947607/picture?type=large", "display_name": "Tom&#225;\u0161 Bul&#237;\u010dek", "link": "https://stackoverflow.com/users/4619231/tom%c3%a1%c5%a1-bul%c3%ad%c4%8dek"}, "edited": false, "score": 0, "creation_date": 1554915287, "post_id": 55617255, "comment_id": 97928702, "body": "This whole action will take only few seconds, if ur server is fast."}, {"owner": {"reputation": 544, "user_id": 1751300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/838d11bb7dd57a8b5fb7f0da9fd7a3d9?s=128&d=identicon&r=PG", "display_name": "Joshua Cleetus", "link": "https://stackoverflow.com/users/1751300/joshua-cleetus"}, "reply_to_user": {"reputation": 61, "user_id": 4619231, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10202935709947607/picture?type=large", "display_name": "Tom&#225;\u0161 Bul&#237;\u010dek", "link": "https://stackoverflow.com/users/4619231/tom%c3%a1%c5%a1-bul%c3%ad%c4%8dek"}, "edited": false, "score": 0, "creation_date": 1554915349, "post_id": 55617255, "comment_id": 97928737, "body": "Also while swiping a cell it is better to not update the tableview, as it can cause regressions."}], "tags": [], "owner": {"reputation": 544, "user_id": 1751300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/838d11bb7dd57a8b5fb7f0da9fd7a3d9?s=128&d=identicon&r=PG", "display_name": "Joshua Cleetus", "link": "https://stackoverflow.com/users/1751300/joshua-cleetus"}, "is_accepted": false, "score": 0, "last_activity_date": 1554913434, "creation_date": 1554913434, "answer_id": 55617255, "question_id": 55616693, "link": "https://stackoverflow.com/questions/55616693/swipe-cancels-when-table-reloads-data-uitableview-uitableviewcell-uitableview/55617255#55617255", "title": "Swipe cancels when table reloads data (UITableView, UITableViewCell, UITableViewDelegate)", "body": "<p>One solution is switch off the server update inside your app till you finish the swipe action, and only after the swipe cell action ( &amp; update server with this action, if you are updating the server with the delete action ) then only switch back on the server update. Otherwise even after the cell is updated with an action (say read/unread), a new update from server with the old data can affect your view. This is the way I used to update an email application with swipe to mark as read.</p>\n"}, {"tags": [], "owner": {"reputation": 831, "user_id": 624920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33250fe792b762562e65545cf45e3073?s=128&d=identicon&r=PG", "display_name": "Ryan Maloney", "link": "https://stackoverflow.com/users/624920/ryan-maloney"}, "is_accepted": false, "score": 0, "last_activity_date": 1554918663, "creation_date": 1554918663, "answer_id": 55618601, "question_id": 55616693, "link": "https://stackoverflow.com/questions/55616693/swipe-cancels-when-table-reloads-data-uitableview-uitableviewcell-uitableview/55618601#55618601", "title": "Swipe cancels when table reloads data (UITableView, UITableViewCell, UITableViewDelegate)", "body": "<p>Rather than updating the cells within <code>tableView(_, cellForRowAt:)</code>, you could update the views directly on the changed <code>UITableViewCell</code> subclasses.</p>\n"}], "owner": {"reputation": 61, "user_id": 4619231, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10202935709947607/picture?type=large", "display_name": "Tom&#225;\u0161 Bul&#237;\u010dek", "link": "https://stackoverflow.com/users/4619231/tom%c3%a1%c5%a1-bul%c3%ad%c4%8dek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554918663, "creation_date": 1554911419, "last_edit_date": 1554911712, "question_id": 55616693, "link": "https://stackoverflow.com/questions/55616693/swipe-cancels-when-table-reloads-data-uitableview-uitableviewcell-uitableview", "title": "Swipe cancels when table reloads data (UITableView, UITableViewCell, UITableViewDelegate)", "body": "<p>Is there a way to keep <code>UITableView's</code> <code>UITableViewCell</code> that is currently swiped left or right swiped, while the table reloads its data?</p>\n\n<p>I have a table that reloads data every minute to be up to date. I implemented swipes using <code>UITableViewDelegate</code> and everything worked just fine. Until the one-minute reload came and currently swiped cell went to non-swiped.</p>\n\n<p>I tried saving the info which cell was last swiped by <code>DidEndEditing</code>\nand <code>WillBeginEditing</code> methods - this works fine. But I found no way to programtically set the cell to \"swiped state\".</p>\n\n<p>Of course I tried (and it works) to prevent reloads when some cell is swiped. But that's not what I want, since it leaves the table not up to date while cell is swiped.</p>\n\n<p>Am I maybe missing some property of the table? Or is this simply not possible without implementing my own \"delegate\" and handling everything myself?</p>\n"}, {"tags": ["c#", "oracle", "if-statement"], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 11331299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a2678ce9a3f1dffce5e39d66e4df259?s=128&d=identicon&r=PG&f=1", "display_name": "Mladen S", "link": "https://stackoverflow.com/users/11331299/mladen-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1554912047, "last_edit_date": 1554912047, "creation_date": 1554911684, "answer_id": 55616762, "question_id": 55616646, "link": "https://stackoverflow.com/questions/55616646/oracle-if-statement-into-where-clause/55616762#55616762", "title": "Oracle - IF Statement into WHERE Clause", "body": "<p>Do you my have null value in columns PROFILO, SALAES, NUMEROCV.\nIf yes then you must set nvl on this columns in where part.</p>\n\n<p>Because you c# say that you may have null try this:</p>\n\n<pre><code> CREATE OR REPLACE PROCEDURE SP_S_RICCFEMESSE \n(\n    NUMEROCV        IN VARCHAR2,\n    PROFILO         IN NUMBER,\n    SALAES          IN NUMBER,\n    DATAINIZIO      IN VARCHAR2,\n    DATAFINE        IN VARCHAR2,\n    ric_carteemesse OUT SYS_REFCURSOR\n)\n\n\nAS \nBEGIN\n\nOPEN ric_carteemesse FOR\nSELECT DISTINCT A.*\n                ,DESCARDPRFCFR AS TIPO_CARTA\n                ,TO_CHAR(DATNAS,'DD/MM/YYYY') AS DATA_DI_NASCITA \n                ,TO_CHAR(A.DATIVOPSA,'DD/MM/YYYY HH24:MI:SS') AS DATA_EMISSIONE \n                ,TO_CHAR(DATINIVALRTA,'DD/MM/YYYY') AS INIZIO_VALIDITA_CARTA \n                ,TO_CHAR(DATFINIVALRTA,'DD/MM/YYYY') AS FINE_VALIDITA_CARTA \n                ,C.S_DENOMINAZIONE AS SALA_ES \n                ,CASE \n                    WHEN NVL(SCDUP,0) = '0' \n                    THEN 'NO' \n                    WHEN SCDUP &gt; 0 \n                    THEN 'SI' \n                END AS DUPLICATO \nFROM \nDEMIRTAFRC A \nINNER JOIN SMART_CARD B \n    ON A.CODSRE = B.COD_SM \nLEFT JOIN RIVENDITA C \n    ON B.S_POSTAZIONE_UM = TO_CHAR(C.COD_RIVENDITA) \nINNER JOIN DANACARDPRFCFR D ON A.CODPRF= D.CARDPRFCFR \nWHERE \n    (B.D_ELETTRIFICAZIONE BETWEEN TO_DATE(DATAINIZIO,'DD/MM/YYYY') AND TO_DATE(DATAFINE,'DD/MM/YYYY') \n    AND A.MDLCSG = 'CBM' AND CODSRE IS NOT NULL)\n    AND nvl(NUMEROCV, ' ') = (CASE WHEN nvl(NUMEROCV, ' ') &lt;&gt; ' ' \n                         THEN A.CODRTA\n                         ELSE null \n                    END)\n    AND nvl(PROFILO, 0) = (CASE WHEN nvl(PROFILO, 0) &lt;&gt; 0 \n                        THEN B.COD_REQUISITI\n                        ELSE null \n                   END)\n    AND NVL(SALAES, 0) = (CASE WHEN NVL(SALAES, 0) &lt;&gt; 999\n                       THEN B.S_POSTAZIONE_UM\n                       ELSE null \n                  END)\nORDER BY A.DATETR DESC;\n\nEND SP_S_RICCFEMESSE;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 136706, "user_id": 146325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09939a1d3bd9c1af199a948bdc68cb71?s=128&d=identicon&r=PG", "display_name": "APC", "link": "https://stackoverflow.com/users/146325/apc"}, "is_accepted": true, "score": 0, "last_activity_date": 1554912047, "creation_date": 1554912047, "answer_id": 55616848, "question_id": 55616646, "link": "https://stackoverflow.com/questions/55616646/oracle-if-statement-into-where-clause/55616848#55616848", "title": "Oracle - IF Statement into WHERE Clause", "body": "<p>NULL never equals NULL. So if any of the CASE statements go down the ELSE branch the statement will evaluate to FALSE. Also, in Oracle empty string is the same as NULL (yes, it's controversial but Oracle's been that way for almost forty years, it's just the way it is) which means this is always going to be FALSE: <code>NUMEROCV &lt;&gt; ''</code>.</p>\n\n<p>Simple solution is, don't use CASE in the WHERE clause. This is much clearer:</p>\n\n<pre><code>AND (NUMEROCV is null or NUMEROCV = A.CODRTA)\nAND (PROFILO = 0 or PROFILO = B.COD_REQUISITI)\nAND (SALAES = 999 or SALAES = B.S_POSTAZIONE_UM))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 58, "user_id": 11238624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1384a45b06138335db1dae8c298c22?s=128&d=identicon&r=PG&f=1", "display_name": "Johnie", "link": "https://stackoverflow.com/users/11238624/johnie"}, "is_accepted": false, "score": 0, "last_activity_date": 1554912565, "last_edit_date": 1554912565, "creation_date": 1554912253, "answer_id": 55616914, "question_id": 55616646, "link": "https://stackoverflow.com/questions/55616646/oracle-if-statement-into-where-clause/55616914#55616914", "title": "Oracle - IF Statement into WHERE Clause", "body": "<p>If you have a lot of criterias you can build sql dynamically</p>\n\n<p>Declare sql_statement</p>\n\n<pre><code>sql_statement VARCHAR2(...);\n\nsql_statement := 'SELECT .... WHERE ' // your select\n\nIF PROFILO &lt;&gt; 0 THEN // your criteria here\n    sql_statement := sql_statement || ' AND B.COD_REQUISITI = ' || PROFILO // your criteria here;\n\nEXECUTE IMMEDIATE(sql_statement);\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 11286099, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e2W7opJJuZc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reSE5OSkAxfULG9gw9v1VB0KiijBA/mo/photo.jpg?sz=128", "display_name": "Datus Wayne", "link": "https://stackoverflow.com/users/11286099/datus-wayne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 55616848, "answer_count": 3, "score": 1, "last_activity_date": 1556294173, "creation_date": 1554911205, "last_edit_date": 1556294173, "question_id": 55616646, "link": "https://stackoverflow.com/questions/55616646/oracle-if-statement-into-where-clause", "title": "Oracle - IF Statement into WHERE Clause", "body": "<p>I should translate the C# code into a stored procedure in Oracle.</p>\n\n<p>I wrote a stored procedure with case when in the where but the right data is not returned. Where am I wrong?</p>\n\n<p>The problem is to manage the IFs of the input parameters.</p>\n\n<p>Oracle:</p>\n\n<pre><code>CREATE OR REPLACE PROCEDURE SP_S_RICCFEMESSE \n(\n    NUMEROCV        IN VARCHAR2,\n    PROFILO         IN NUMBER,\n    SALAES          IN NUMBER,\n    DATAINIZIO      IN VARCHAR2,\n    DATAFINE        IN VARCHAR2,\n    ric_carteemesse OUT SYS_REFCURSOR\n)\nAS \nBEGIN\n    OPEN ric_carteemesse FOR\n       SELECT DISTINCT A.*\n                ,DESCARDPRFCFR AS TIPO_CARTA\n                ,TO_CHAR(DATNAS,'DD/MM/YYYY') AS DATA_DI_NASCITA \n                ,TO_CHAR(A.DATIVOPSA,'DD/MM/YYYY HH24:MI:SS') AS DATA_EMISSIONE \n                ,TO_CHAR(DATINIVALRTA,'DD/MM/YYYY') AS INIZIO_VALIDITA_CARTA \n                ,TO_CHAR(DATFINIVALRTA,'DD/MM/YYYY') AS FINE_VALIDITA_CARTA \n                ,C.S_DENOMINAZIONE AS SALA_ES \n                ,CASE \n                    WHEN NVL(SCDUP,0) = '0' \n                    THEN 'NO' \n                    WHEN SCDUP &gt; 0 \n                    THEN 'SI' \n                END AS DUPLICATO \nFROM \nDEMIRTAFRC A \nINNER JOIN SMART_CARD B \n    ON A.CODSRE = B.COD_SM \nLEFT JOIN RIVENDITA C \n    ON B.S_POSTAZIONE_UM = TO_CHAR(C.COD_RIVENDITA) \nINNER JOIN DANACARDPRFCFR D ON A.CODPRF= D.CARDPRFCFR \nWHERE \n    (B.D_ELETTRIFICAZIONE BETWEEN TO_DATE(DATAINIZIO,'DD/MM/YYYY') AND TO_DATE(DATAFINE,'DD/MM/YYYY') \n    AND A.MDLCSG = 'CBM' AND CODSRE IS NOT NULL)\n    AND NUMEROCV = (CASE WHEN NUMEROCV &lt;&gt; '' \n                         THEN A.CODRTA\n                         ELSE null \n                    END)\n    AND PROFILO = (CASE WHEN PROFILO &lt;&gt; 0 \n                        THEN B.COD_REQUISITI\n                        ELSE null \n                   END)\n    AND SALAES = (CASE WHEN SALAES &lt;&gt; 999\n                       THEN B.S_POSTAZIONE_UM\n                       ELSE null \n                  END)\nORDER BY A.DATETR DESC;\n\nEND SP_S_RICCFEMESSE;\n</code></pre>\n\n<p>This is code C# to replace:   </p>\n\n<pre><code>if (_NumCV.ToString().Trim() != \"\")\n                _cmd.CommandText += \" AND A.CODRTA = '\" + _NumCV + \"' \";\n\n            if (_Profilo != 0)\n                _cmd.CommandText += \" AND B.COD_REQUISITI = \" + _Profilo;\n\n            if (_SalaES != 999)\n                _cmd.CommandText += \" AND B.S_POSTAZIONE_UM = '\" + _SalaES + \"' \";\n</code></pre>\n"}, {"tags": ["c#", ".net-core", "named-pipes", "protobuf-net"], "answers": [{"tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": true, "score": 5, "last_activity_date": 1554915780, "creation_date": 1554915780, "answer_id": 55617872, "question_id": 55616643, "link": "https://stackoverflow.com/questions/55616643/failing-to-send-protobuf-stream-over-a-named-pipe-and-getting-result-back/55617872#55617872", "title": "Failing to send protobuf stream over a named pipe and getting result back", "body": "<p>protobuf is not a self-terminating data format; you need to use some kind of framing. Fortunately, the library includes a few basic implementations for your convenience, so : if you use <code>SerializeWithLengthPrefix</code> and <code>DeserializeWithLengthPrefix</code> (making sure to use the same configuration on both sides): it should work.</p>\n\n<p>Without framing: the nature of protobuf is \"read until the end of the stream\", i.e. exactly what you're seeing. The reason for this is that protobuf is desiged to be concatenatable (is that a word?) <strong>even for single messages</strong>.</p>\n"}], "owner": {"reputation": 3431, "user_id": 1215913, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/27ed7f8c0bda6500be9329da5d405714?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1215913/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1036, "favorite_count": 1, "accepted_answer_id": 55617872, "answer_count": 1, "score": 3, "last_activity_date": 1554915780, "creation_date": 1554911185, "last_edit_date": 1554912125, "question_id": 55616643, "link": "https://stackoverflow.com/questions/55616643/failing-to-send-protobuf-stream-over-a-named-pipe-and-getting-result-back", "title": "Failing to send protobuf stream over a named pipe and getting result back", "body": "<p>I have having troubles sending objects back and forth (duplex communication) using named pipes. The code:</p>\n\n<p>Dto:</p>\n\n<pre><code>[ProtoContract]\npublic class ServerResponse\n{\n    [ProtoMember(1)]\n    public string FirstName { get; set; }\n\n    [ProtoMember(2)]\n    public string LastName { get; set; }\n}\n\n[ProtoContract]\npublic class ServerRequest\n{\n    [ProtoMember(1)]\n    public string Name { get; set; }\n\n    [ProtoMember(2)]\n    public int Age { get; set; }\n}\n</code></pre>\n\n<p>Server:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    Console.WriteLine(\"Starting Server\");\n    StartServer();\n    Console.WriteLine(\"Press any key to stop server..\");\n    Console.ReadKey();\n}\n\nstatic void StartServer()\n{\n    Task.Factory.StartNew(() =&gt;\n    {\n        var server = new NamedPipeServerStream(\"MyPipes\");\n\n        server.WaitForConnection();\n        Console.WriteLine(\"Connected\");\n\n        //StreamReader reader = new StreamReader(server);\n        //StreamWriter writer = new StreamWriter(server);\n        while (true)\n        {\n            //string line = reader.ReadLine();\n            //Console.WriteLine(line);\n            //writer.WriteLine(line.ToUpper());\n            //writer.Flush();\n\n            var request = Serializer.Deserialize&lt;ServerRequest&gt;(server);\n            Console.WriteLine($\"Name: {request.Name}, Age: {request.Age}\");\n\n            var response = new ServerResponse() { FirstName = request.Name, LastName = \"Always this name!\" };\n            Serializer.Serialize(server, response);\n            server.Flush();\n        }\n    });\n}\n</code></pre>\n\n<p>Client:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    Console.WriteLine(\"Client\");\n\n    var client = new NamedPipeClientStream(\"MyPipes\");\n    client.Connect();\n\n    //StreamReader reader = new StreamReader(client);\n    //StreamWriter writer = new StreamWriter(client);\n    while (true)\n    {\n        //string input = Console.ReadLine();\n        //if (String.IsNullOrEmpty(input)) break;\n        //writer.WriteLine(input);\n        //writer.Flush();\n        //Console.WriteLine(reader.ReadLine());\n\n        string firstName = Console.ReadLine();\n        var request = new ServerRequest() { Name = firstName, Age = firstName.Length };\n        Serializer.Serialize(client, request);\n        client.Flush();\n\n        var response = Serializer.Deserialize&lt;ServerResponse&gt;(client);\n        Console.WriteLine($\"Name: {response.FirstName}, Age: {response.LastName}\");\n    }\n\n    Console.WriteLine(\"Done\");\n    Console.ReadKey();\n}\n</code></pre>\n\n<p>It works just fine, when sending a single line of <code>string</code>, but the <code>protobuf</code> fails on me.</p>\n\n<p>For some reason, <code>Deserialize</code> method seems to never stop reading data from stream, therefore I am never able to decode the incoding server request. But if the client is forcefully stopped, then the request gets received.</p>\n\n<p>I also tried using <code>SteamWriter</code> and <code>StreamReader</code> to no avail.. Is it possible to transmit protobuf objects in duplex communication? I would appreciate if somebody would point out what I am doing wrong..</p>\n"}, {"tags": ["c#", ".net", "api", "visual-studio-2017", "iis-8"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9743267, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BwngcHbUXgA/AAAAAAAAAAI/AAAAAAAADTY/3tViKrR-Nds/photo.jpg?sz=128", "display_name": "Gus Aguilar", "link": "https://stackoverflow.com/users/9743267/gus-aguilar"}, "edited": false, "score": 0, "creation_date": 1554912230, "post_id": 55616685, "comment_id": 97927121, "body": "Thank you!!!! I work, install Microsoft .NET Framework 4.6.1 and it worked, thanks a lot !!  <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=49982\" rel=\"nofollow noreferrer\">microsoft.com/en-us/download/details.aspx?id=49982</a>"}], "tags": [], "owner": {"reputation": 350, "user_id": 5821547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8584277d1136e863ab7a316bb5347226?s=128&d=identicon&r=PG", "display_name": "SharpNip", "link": "https://stackoverflow.com/users/5821547/sharpnip"}, "is_accepted": true, "score": 1, "last_activity_date": 1554911375, "creation_date": 1554911375, "answer_id": 55616685, "question_id": 55616638, "link": "https://stackoverflow.com/questions/55616638/unable-to-load-type-system-threading-asynclocal1-from-the-assembly-mscorlib/55616685#55616685", "title": "Unable to load type &#39;System.Threading.AsyncLocal`1&#39; from the assembly &#39;mscorlib, Version = 4.0.0.0, Culture = neutral,", "body": "<p>Chances are your server with Windows 2012 does not have the minimum .Net framework Dlls installed for System.Threading.AsyncLocal (.Net 4.6 and higher).\nIf there hasn't been any changes to your server, it probably only has .Net 4.5 installed.</p>\n"}], "owner": {"reputation": 3, "user_id": 9743267, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BwngcHbUXgA/AAAAAAAAAAI/AAAAAAAADTY/3tViKrR-Nds/photo.jpg?sz=128", "display_name": "Gus Aguilar", "link": "https://stackoverflow.com/users/9743267/gus-aguilar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 0, "accepted_answer_id": 55616685, "answer_count": 1, "score": 0, "last_activity_date": 1554911375, "creation_date": 1554911178, "question_id": 55616638, "link": "https://stackoverflow.com/questions/55616638/unable-to-load-type-system-threading-asynclocal1-from-the-assembly-mscorlib", "title": "Unable to load type &#39;System.Threading.AsyncLocal`1&#39; from the assembly &#39;mscorlib, Version = 4.0.0.0, Culture = neutral,", "body": "<p>have an API in visual studio 2017, but when I upload it to the server in windows server 2012, it says: Unable to load type 'System.Threading.AsyncLocal`1' from the assembly 'mscorlib, Version = 4.0.0.0, Culture = neutral, PublicKeyToken = b77a5c561934e089 '.</p>\n\n<p><a href=\"https://i.stack.imgur.com/kSHWE.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-identity"], "comments": [{"owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1554911422, "post_id": 55616629, "comment_id": 97926662, "body": "<code>ViewData[&quot;duplicateEmail&quot;]</code>- is it work?"}, {"owner": {"reputation": 51, "user_id": 11301535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c993b703d9117602376a9b1005b5207?s=128&d=identicon&r=PG&f=1", "display_name": "kamilm758", "link": "https://stackoverflow.com/users/11301535/kamilm758"}, "reply_to_user": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1554912479, "post_id": 55616629, "comment_id": 97927255, "body": "yes ViewData works"}, {"owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1554912560, "post_id": 55616629, "comment_id": 97927303, "body": "Then <code>ViewBag.pom</code> will also work. Please show your View code where you are uisng <code>ViewBag.pom</code>"}, {"owner": {"reputation": 51, "user_id": 11301535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c993b703d9117602376a9b1005b5207?s=128&d=identicon&r=PG&f=1", "display_name": "kamilm758", "link": "https://stackoverflow.com/users/11301535/kamilm758"}, "reply_to_user": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1554913445, "post_id": 55616629, "comment_id": 97927750, "body": "in the above code &quot;Viewbag&quot; is underlined in red, as if some &quot;using&quot; was missing"}, {"owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1554913477, "post_id": 55616629, "comment_id": 97927762, "body": "Add your View code to the question."}, {"owner": {"reputation": 51, "user_id": 11301535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c993b703d9117602376a9b1005b5207?s=128&d=identicon&r=PG&f=1", "display_name": "kamilm758", "link": "https://stackoverflow.com/users/11301535/kamilm758"}, "reply_to_user": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1554913794, "post_id": 55616629, "comment_id": 97927947, "body": "I can&#39;t -&gt; &quot;It looks like your post is mostly code; please add some more details.&quot; I&#39;m new on stackoverflow"}, {"owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1554913843, "post_id": 55616629, "comment_id": 97927968, "body": "Okay! Paste it to the comment."}, {"owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1554914204, "post_id": 55616629, "comment_id": 97928144, "body": "I see there is nothing wrong! Can you remote access with team viewer please?"}, {"owner": {"reputation": 51, "user_id": 11301535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c993b703d9117602376a9b1005b5207?s=128&d=identicon&r=PG&f=1", "display_name": "kamilm758", "link": "https://stackoverflow.com/users/11301535/kamilm758"}, "reply_to_user": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1554914473, "post_id": 55616629, "comment_id": 97928285, "body": "This problem is in marked file:  <a href=\"https://ibb.co/rZFk6Jt\" rel=\"nofollow noreferrer\">ibb.co/rZFk6Jt</a>"}], "answers": [{"tags": [], "owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "is_accepted": true, "score": 1, "last_activity_date": 1554983006, "last_edit_date": 1592644375, "creation_date": 1554915126, "answer_id": 55617713, "question_id": 55616629, "link": "https://stackoverflow.com/questions/55616629/transfer-of-value-from-register-controller/55617713#55617713", "title": "Transfer of value from register controller", "body": "<p>According to the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/views/overview?view=aspnetcore-2.2#weakly-typed-data-viewdata-viewdata-attribute-and-viewbag\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p><code>ViewBag</code> isn't available in Razor Pages.</p>\n</blockquote>\n<p>For more information around <em>why</em> isn't available out-of-the-box, see this <a href=\"https://github.com/aspnet/Mvc/issues/6754#issuecomment-326763351\" rel=\"nofollow noreferrer\">GitHub issue</a>, which includes a few comments from Damien Edwards himself:</p>\n<blockquote>\n<p>We purposefully didn't add ViewBag because I wanted to discourage its use.</p>\n<p>...</p>\n<p>ViewBag uses dynamic which in our testing introduces a measurable performance impact on the processing of pages or views that use it. As such, I'd rather it not be available by default.</p>\n</blockquote>\n<p>The solution is to either use an explicit property (as you're doing for <code>ReturnUrl</code>)  or just use <code>ViewData</code> (as you're doing for <code>duplicateEmail</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 768, "user_id": 10646305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CIFfJ.jpg?s=128&g=1", "display_name": "Alaaeddine HFIDHI", "link": "https://stackoverflow.com/users/10646305/alaaeddine-hfidhi"}, "is_accepted": false, "score": 0, "last_activity_date": 1554916387, "creation_date": 1554916387, "answer_id": 55618030, "question_id": 55616629, "link": "https://stackoverflow.com/questions/55616629/transfer-of-value-from-register-controller/55618030#55618030", "title": "Transfer of value from register controller", "body": "<p>try to replace the viewBag with a viewData : </p>\n\n<pre><code>ViewData[\"pom\"] = 100; \nViewData[\"duplicateEmail\"] = \"Email is already taken\";\nreturn Page();\n\n&lt;div class=\"row\"&gt;\n    &lt;div class=\"col-md-4\"&gt;\n        &lt;form asp-route-returnUrl=\"@Model.ReturnUrl\" method=\"post\"&gt;\n            &lt;h4&gt;Create a new account.&lt;/h4&gt;\n            &lt;h4&gt;@ViewData[\"duplicateEmail\"] error: @ViewData[\"pom\"]&lt;/h4&gt;\n            &lt;hr /&gt;\n</code></pre>\n\n<p><strong>ViewBag was intentionally left out in razor pages.</strong></p>\n"}], "owner": {"reputation": 51, "user_id": 11301535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c993b703d9117602376a9b1005b5207?s=128&d=identicon&r=PG&f=1", "display_name": "kamilm758", "link": "https://stackoverflow.com/users/11301535/kamilm758"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 55617713, "answer_count": 2, "score": 0, "last_activity_date": 1554983165, "creation_date": 1554911154, "last_edit_date": 1554983165, "question_id": 55616629, "link": "https://stackoverflow.com/questions/55616629/transfer-of-value-from-register-controller", "title": "Transfer of value from register controller", "body": "<p>I have a problem with transfer value from method \"OnPostAsync\" to Register.cshtml. ViewBag doesn't work.\nHow to resolve this problem.</p>\n\n<pre><code>public async Task&lt;IActionResult&gt; OnPostAsync(string returnUrl = null)\n{\n    returnUrl = returnUrl ?? Url.Content(\"~/\");\n    if (ModelState.IsValid)\n    {\n        var db = new ApplicationDbContext(_optionsBuilder.Options);\n        var email = db.Users.Where(s =&gt; s.Email == Input.Email);\n        if (email.Count() != 0)\n        {\n            ViewBag.pom = 100; // this doesn't work\n            ViewData[\"duplicateEmail\"] = \"Email is already taken\";\n            return Page();\n        }\n\n...\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>@{\n    ViewData[\"Title\"] = \"Register\";\n}\n\n&lt;h2&gt;@ViewData[\"Title\"]&lt;/h2&gt;\n\n&lt;div class=\"row\"&gt;\n    &lt;div class=\"col-md-4\"&gt;\n        &lt;form asp-route-returnUrl=\"@Model.ReturnUrl\" method=\"post\"&gt;\n            &lt;h4&gt;Create a new account.&lt;/h4&gt;\n            &lt;h4&gt;@ViewData[\"duplicateEmail\"] error: @ViewBag.pom&lt;/h4&gt;\n            &lt;hr /&gt;\n...\n</code></pre>\n"}]