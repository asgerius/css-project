[{"tags": ["c#", "msmq"], "comments": [{"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 1, "creation_date": 1508975668, "post_id": 46943694, "comment_id": 80834951, "body": "Can you not use <code>await Task.Delay(...)</code>? Your current code is blocking and that&#39;s a bad idea. Ideally you should post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for us to work with - without one it is usually quite difficult to give a good answer."}, {"owner": {"reputation": 611, "user_id": 1653400, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dd8c1abe5cc79cfbf4e064c031e0a56f?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1653400/andrew"}, "reply_to_user": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1508975888, "post_id": 46943694, "comment_id": 80835008, "body": "Thanks Enigmativity, what other information would be helpful for you? Also thanks for your answer. I am wondering what will happen if I use <code>await Task.Delay</code>, I will continue to receive messages from MSMQ, if there is 10 000 to receive, will this create 10 000 delay tasks?"}, {"owner": {"reputation": 611, "user_id": 1653400, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dd8c1abe5cc79cfbf4e064c031e0a56f?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1653400/andrew"}, "reply_to_user": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1508978677, "post_id": 46943694, "comment_id": 80835654, "body": "Thanks Enigmativity. Your solution works well because the code doesn&#39;t call the &#39;GetNextMessage&#39; until after the delay (or await), so the tasks will not pile up as I was concerned about."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1508980113, "post_id": 46943694, "comment_id": 80835962, "body": "What would be useful is a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - that means code that I can copy, paste, and run and see it work. Then I can offer working code in return."}, {"owner": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "edited": false, "score": 0, "creation_date": 1508986472, "post_id": 46943694, "comment_id": 80837487, "body": "is your code just waiting to process the message before processing the next one?"}, {"owner": {"reputation": 611, "user_id": 1653400, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dd8c1abe5cc79cfbf4e064c031e0a56f?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1653400/andrew"}, "edited": false, "score": 0, "creation_date": 1508989571, "post_id": 46943694, "comment_id": 80838215, "body": "Hi Keith, yes delay by milliseconds."}], "owner": {"reputation": 611, "user_id": 1653400, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dd8c1abe5cc79cfbf4e064c031e0a56f?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1653400/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508978610, "creation_date": 1508975161, "last_edit_date": 1508978610, "question_id": 46943694, "link": "https://stackoverflow.com/questions/46943694/wait-delay-before-firing-event", "title": "Wait/Delay before firing event", "body": "<p>I am receiving messages from MSMQ. An event is fired when a message is received, in some situations a delay be required before the event is fired. At the moment I have a <code>Task.Delay</code> to wait for the specified time before firing the event. I am wondering if anyone has a better solution or can see any problems in my current solution:</p>\n\n<pre><code>    private List&lt;Task&gt; _delayTasks = new List&lt;Task&gt;();\n\n    private void PeekComplete(object sender, msmq.PeekCompletedEventArgs e)\n    {\n            //..code to get mesage off the queue...\n\n            double delay = _messageTimeOut.TimeOutRequired(messageBody);\n\n            if (delay &gt; 0)\n            {\n                CreateDelayTask(delay, messageBody);\n                WaitDelays();\n            }\n            else\n            {\n                _OnMessageReceived?.Invoke(messageBody);\n                ProcessingCounter.Decrement();\n            }\n\n           GetNextMessage();\n\n    }\n\n    private void WaitDelays()\n    {\n        while (_delayTasks.Count &gt; 0)\n        {\n            int index = -1;\n\n            try\n            {\n                index = Task.WaitAny(_delayTasks.ToArray());\n            }\n            finally\n            {\n                if (index &gt; -1)\n                    _delayTasks.RemoveAt(index);\n            }\n\n        }\n    }\n\n    private void CreateDelayTask(double milliSecondsTimeOut, string messageBody)\n    {\n        var delay = (int)Math.Ceiling(milliSecondsTimeOut);\n\n        var task = Task.Delay(delay).ContinueWith((antecedent) =&gt;\n         {\n             try\n             {\n                 _OnMessageReceived?.Invoke(messageBody);\n             }\n             catch (Exception ex)\n             {\n                 _OnMessageReceivedError?.Invoke(ex, messageBody);\n             }\n             finally\n             {\n                 ProcessingCounter.Decrement();\n             }\n         });\n\n        _delayTasks.Add(task);\n    }\n</code></pre>\n"}, {"tags": ["c#", "dictionary", "key-value", "concurrentdictionary"], "answers": [{"tags": [], "owner": {"reputation": 25180, "user_id": 668272, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e4b4df6df17383aa6721c783a5a87335?s=128&d=identicon&r=PG", "display_name": "Bas", "link": "https://stackoverflow.com/users/668272/bas"}, "is_accepted": true, "score": 3, "last_activity_date": 1508975493, "creation_date": 1508975493, "answer_id": 46943738, "question_id": 46943687, "link": "https://stackoverflow.com/questions/46943687/concurrentdictionaryenum-a-enum-b-t/46943738#46943738", "title": "ConcurrentDictionary&lt;(enum a, enum b), T&gt;?", "body": "<p>This is syntax sugar for <strong>value tuples</strong> introduced in C# 7.0. In this case, it combines two values into a single value. Read more about value tuples <a href=\"https://blogs.msdn.microsoft.com/mazhou/2017/05/26/c-7-series-part-1-value-tuples/\" rel=\"nofollow noreferrer\">in this introduction</a>.</p>\n\n<p>The reason it can be used in a key of a dictionary is that the value is equatable, if each value in the tuple matches the other, it will be consider the same.</p>\n\n<p>For more information about value tuples vs class based tuples, see <a href=\"https://stackoverflow.com/questions/41084411/whats-the-difference-between-system-valuetuple-and-system-tuple\">What&#39;s the difference between System.ValueTuple and System.Tuple?</a></p>\n"}], "owner": {"reputation": 5073, "user_id": 445533, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/LDEQS.png?s=128&g=1", "display_name": "bretddog", "link": "https://stackoverflow.com/users/445533/bretddog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 46943738, "answer_count": 1, "score": 2, "last_activity_date": 1508975493, "creation_date": 1508975124, "question_id": 46943687, "link": "https://stackoverflow.com/questions/46943687/concurrentdictionaryenum-a-enum-b-t", "title": "ConcurrentDictionary&lt;(enum a, enum b), T&gt;?", "body": "<p>Found this in <a href=\"https://github.com/lbildzinkas/BitfinexApiSharp/blob/master/BitfinexApiSharp/BitfinexClientSharp/WSocket/WSocketClient.cs\" rel=\"nofollow noreferrer\">some api dode</a>. It's not accepted by VS 2015 to have two enums as key, and I've never seen such declaration before. I assume it has worked for whom wrote it, so what should I learn..?</p>\n\n<pre><code>private readonly ConcurrentDictionary&lt;(Pair c, ChannelType o), ClientWebSocket&gt; _wsClients;\n</code></pre>\n\n<p>Pair and ChannelType are enums. </p>\n"}, {"tags": ["c#", "reflection", "function-pointers"], "comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 3, "creation_date": 1508976137, "post_id": 46943682, "comment_id": 80835075, "body": "What exactly is a &quot;pointer to it&#39;s &#39;Test&#39; function&quot; in C# ?"}, {"owner": {"reputation": 178, "user_id": 7839602, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/h8q8Z.jpg?s=128&g=1", "display_name": "Steffen Cole Blake", "link": "https://stackoverflow.com/users/7839602/steffen-cole-blake"}, "edited": false, "score": 1, "creation_date": 1508978320, "post_id": 46943682, "comment_id": 80835576, "body": "Probably a Func&lt;&gt; or Action&lt;&gt; I assume"}, {"owner": {"reputation": 5240, "user_id": 1342454, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RDlqA.jpg?s=128&g=1", "display_name": "Curtis", "link": "https://stackoverflow.com/users/1342454/curtis"}, "edited": false, "score": 0, "creation_date": 1509049843, "post_id": 46943682, "comment_id": 80874281, "body": "Yes.  &#39;test&#39; is   Func&lt;bool&gt; test"}], "owner": {"reputation": 5240, "user_id": 1342454, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RDlqA.jpg?s=128&g=1", "display_name": "Curtis", "link": "https://stackoverflow.com/users/1342454/curtis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1509049635, "creation_date": 1508975056, "last_edit_date": 1509049635, "question_id": 46943682, "link": "https://stackoverflow.com/questions/46943682/how-can-i-get-the-class-name-from-a-function-pointer-in-c", "title": "How can I get the class name from a function pointer in C#?", "body": "<p>I have a base class \"TestBase\"</p>\n\n<p>Several test classes inherit from it and override the \"Test\" function of the base class.</p>\n\n<p>The TestBase class uses a 'TestRunner' class and passes it a pointer to it's 'Test' function (which is overridden).</p>\n\n<p>Inside 'TestRunner' a timeout may occur.  If this happens, I need to know the name of the derived class that the 'Test' pointer belongs to.</p>\n\n<p>All I have is the function pointer.  So basically, I want to know the name of the derived class that the 'Test' function pointer came from.</p>\n\n<p>I'm guessing Reflection can do this, but I'm having trouble finding out how..</p>\n\n<p>To clarify, the function pointer 'test' is defined as:</p>\n\n<pre><code>Func&lt;bool&gt; test\n</code></pre>\n\n<p>Passed in as follows:</p>\n\n<pre><code>public void RunTest(Func&lt;bool&gt; test, int timeoutInSeconds=30)\n{\n   ...\n   //Use 'test' to find out what class it came from...\n}\n</code></pre>\n"}, {"tags": ["c#", "outlook", "office-interop", "msg"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7627965, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c5264946cc3395b80aa8456b3def782c?s=128&d=identicon&r=PG&f=1", "display_name": "TNG", "link": "https://stackoverflow.com/users/7627965/tng"}, "edited": false, "score": 0, "creation_date": 1509319951, "post_id": 46944218, "comment_id": 80959238, "body": "Thank you Engene &amp; Dimitry&#39;s suggestion. Now, I can save the Sent message after handle the ItemAdd event on SaveSentMessageFolder."}, {"owner": {"reputation": 1, "user_id": 7627965, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c5264946cc3395b80aa8456b3def782c?s=128&d=identicon&r=PG&f=1", "display_name": "TNG", "link": "https://stackoverflow.com/users/7627965/tng"}, "edited": false, "score": 0, "creation_date": 1518061087, "post_id": 46944218, "comment_id": 84352405, "body": "I have a problem detecting event in ItemAdd of SaveSentMessageFolder. If I sent out bulk email (e.g. 50 emails), sometime some email are not detected in ItemAdd  event. But it is appear in Outlook Sent folder. Do you know how to fix it ? thanks !"}], "tags": [], "owner": {"reputation": 25947, "user_id": 1603351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lQ6aZ.jpg?s=128&g=1", "display_name": "Eugene Astafiev", "link": "https://stackoverflow.com/users/1603351/eugene-astafiev"}, "is_accepted": true, "score": 0, "last_activity_date": 1508979645, "creation_date": 1508979645, "answer_id": 46944218, "question_id": 46943679, "link": "https://stackoverflow.com/questions/46943679/how-to-save-a-sent-email-immediately-after-send/46944218#46944218", "title": "How to save a sent email immediately after Send?", "body": "<p>You need to handle the <a href=\"https://msdn.microsoft.com/en-us/vba/outlook-vba/articles/items-itemadd-event-outlook\" rel=\"nofollow noreferrer\">ItemAdd</a> event on the <code>Sent Items</code> folder. In the event handler you can call the <code>SaveAs</code> method.</p>\n\n<p>Also you may consider using the <a href=\"https://msdn.microsoft.com/en-us/VBA/outlook-vba/articles/mailitem-savesentmessagefolder-property-outlook?f1url=https%3A%2F%2Fmsdn.microsoft.com%2Fquery%2Fdev11.query%3FappId%3DDev11IDEF1%26l%3Den-US%26k%3Dk(vbaol11.chm1356)%3Bk(TargetFrameworkMoniker-Office.Version%3Dv15)%26rd%3Dtrue\" rel=\"nofollow noreferrer\">SaveSentMessageFolder</a> property of the MailItem class which allows to set a Folder object that represents the folder in which a copy of the e-mail message will be saved after being sent.</p>\n"}, {"tags": [], "owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1509038346, "creation_date": 1509038346, "answer_id": 46960240, "question_id": 46943679, "link": "https://stackoverflow.com/questions/46943679/how-to-save-a-sent-email-immediately-after-send/46960240#46960240", "title": "How to save a sent email immediately after Send?", "body": "<p>After you call Send, the only thing you can do with the message is release your reference to it - it now belongs to the transport provider.</p>\n\n<p>Also note that Send is asynchronous - the message becomes sent and its sender related properties are populated only after it is sent. Your fist chance to access the message in that state is when the <code>Items.ItemAdd</code> event fires n the Sent Items folder. </p>\n"}], "owner": {"reputation": 1, "user_id": 7627965, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c5264946cc3395b80aa8456b3def782c?s=128&d=identicon&r=PG&f=1", "display_name": "TNG", "link": "https://stackoverflow.com/users/7627965/tng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 912, "favorite_count": 0, "accepted_answer_id": 46944218, "answer_count": 2, "score": 0, "last_activity_date": 1509038346, "creation_date": 1508975037, "question_id": 46943679, "link": "https://stackoverflow.com/questions/46943679/how-to-save-a-sent-email-immediately-after-send", "title": "How to save a sent email immediately after Send?", "body": "<p>I have a seperate .Net application from Outlook. I would like to use Office.Interop (avoid redmeption.dll) to send and save the sent email from that application. But when I try to Save the email after Send() function, I got the exception that : \"The item has been moved or deleted.\"</p>\n\n<p>It seems Outlook is moved the email item after sent.</p>\n\n<p>so, can anyone suggest me the best ways how to save the \"Sent\" email item to disk ? </p>\n\n<p>I need the saved msg file have status 'sent'. so, saving Item_Send event is not working for my case. Thank you !</p>\n\n<p>Here is my codes</p>\n\n<pre><code>     public bool SendAndSavAs(Outlook.Account emailAccount, string toEmailAddress)\n    {\n        Outlook.MailItem mailItem = null;\n        try\n        {\n            mailItem = OutlookApp.CreateItem(Outlook.OlItemType.olMailItem) as Outlook.MailItem;\n            mailItem.Subject = \"Test Subject\";\n            mailItem.BodyFormat = Outlook.OlBodyFormat.olFormatPlain;\n            mailItem.Body = \"Test Body\";\n\n            // Add recipient using display name, alias, or smtp address\n            mailItem.Recipients.Add(toEmailAddress);\n            mailItem.Recipients.ResolveAll();\n            mailItem.SendUsingAccount = emailAccount;\n\n            // send email\n            mailItem.Send();\n\n            // save the Sent mail to local disk  (****but have exception occurs ****)\n            mailItem.SaveAs(@\"c:\\temp\\test.msg\");\n\n            return true;\n        }\n        catch (Exception ex)\n        {\n            throw ex;\n        }\n        finally\n        {\n            ReleaseComObject(mailItem);\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net", "azure"], "answers": [{"comments": [{"owner": {"reputation": 22657, "user_id": 22702, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aba04cdbc7a6735bf268d5cd0aee8af3?s=128&d=identicon&r=PG", "display_name": "willem", "link": "https://stackoverflow.com/users/22702/willem"}, "edited": false, "score": 3, "creation_date": 1518528023, "post_id": 46943848, "comment_id": 84535910, "body": "This. Is beautiful."}, {"owner": {"reputation": 69, "user_id": 1433302, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4713c32510237cbe5f6c23b06aeb9c8d?s=128&d=identicon&r=PG", "display_name": "Dnyati", "link": "https://stackoverflow.com/users/1433302/dnyati"}, "edited": false, "score": 0, "creation_date": 1611918553, "post_id": 46943848, "comment_id": 116610233, "body": "I am new to this but where it logs ? where to configure file path and log level ? in web.config how? Appreciate if you can give small sample."}, {"owner": {"reputation": 633, "user_id": 1781296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d12bdebcd8f9913948dfed0640529d14?s=128&d=identicon&r=PG", "display_name": "Vinil Narang", "link": "https://stackoverflow.com/users/1781296/vinil-narang"}, "edited": false, "score": 0, "creation_date": 1616027020, "post_id": 46943848, "comment_id": 117878010, "body": "This is helpful, thanks!"}], "tags": [], "owner": {"reputation": 19347, "user_id": 237858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a5eec61e0b38244cb4ba183daf93fe98?s=128&d=identicon&r=PG&f=1", "display_name": "nikib3ro", "link": "https://stackoverflow.com/users/237858/nikib3ro"}, "is_accepted": true, "score": 17, "last_activity_date": 1508976372, "creation_date": 1508976372, "answer_id": 46943848, "question_id": 46943669, "link": "https://stackoverflow.com/questions/46943669/microsoft-rest-serviceclienttracing-how-to-output-tracing-results-to-console-o/46943848#46943848", "title": "Microsoft Rest ServiceClientTracing - how to output tracing results to Console or Debug?", "body": "<p>Seems that this is not supported by default in <code>Microsoft.Rest.ClientRuntime</code> project, so you need to role your own class. For example:</p>\n\n<pre><code>class DebugTracer : IServiceClientTracingInterceptor\n{\n    public void Information(string message)\n    {\n        Debug.WriteLine(message);\n    }\n\n    public void TraceError(string invocationId, Exception exception)\n    {\n        Debug.WriteLine(\"Exception in {0}: {1}\", invocationId, exception);\n    }\n\n    public void ReceiveResponse(string invocationId, HttpResponseMessage response)\n    {\n        string requestAsString = (response == null ? string.Empty : response.AsFormattedString());\n        Debug.WriteLine(\"invocationId: {0}\\r\\nresponse: {1}\", invocationId, requestAsString);\n    }\n\n    public void SendRequest(string invocationId, HttpRequestMessage request)\n    {\n        string requestAsString = (request == null ? string.Empty : request.AsFormattedString());\n        Debug.WriteLine(\"invocationId: {0}\\r\\nrequest: {1}\", invocationId, requestAsString);\n    }\n\n    public void Configuration(string source, string name, string value)\n    {\n        Debug.WriteLine(\"Configuration: source={0}, name={1}, value={2}\", source, name, value);\n    }\n\n    public void EnterMethod(string invocationId, object instance, string method, IDictionary&lt;string, object&gt; parameters)\n    {\n        Debug.WriteLine(\"invocationId: {0}\\r\\ninstance: {1}\\r\\nmethod: {2}\\r\\nparameters: {3}\",\n            invocationId, instance, method, parameters.AsFormattedString());\n    }\n\n    public void ExitMethod(string invocationId, object returnValue)\n    {\n        string returnValueAsString = (returnValue == null ? string.Empty : returnValue.ToString());\n        Debug.WriteLine(\"Exit with invocation id {0}, the return value is {1}\",\n            invocationId, returnValueAsString);\n    }\n}\n</code></pre>\n\n<p><a href=\"https://github.com/stankovski/AutoRest/blob/master/ClientRuntimes/CSharp/Microsoft.Rest.ClientRuntime.Log4Net/Log4NetTracingInterceptor.cs\" rel=\"noreferrer\">Appropriated from Log4NetTracingInterceptor</a>. </p>\n\n<p>Now if you want to turn Tracing on all you need to do is:</p>\n\n<pre><code>ServiceClientTracing.IsEnabled = true;\nServiceClientTracing.AddTracingInterceptor(new DebugTracer());\n</code></pre>\n"}], "owner": {"reputation": 19347, "user_id": 237858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a5eec61e0b38244cb4ba183daf93fe98?s=128&d=identicon&r=PG&f=1", "display_name": "nikib3ro", "link": "https://stackoverflow.com/users/237858/nikib3ro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2271, "favorite_count": 2, "accepted_answer_id": 46943848, "answer_count": 1, "score": 5, "last_activity_date": 1508976372, "creation_date": 1508974959, "question_id": 46943669, "link": "https://stackoverflow.com/questions/46943669/microsoft-rest-serviceclienttracing-how-to-output-tracing-results-to-console-o", "title": "Microsoft Rest ServiceClientTracing - how to output tracing results to Console or Debug?", "body": "<p><code>ServiceClientTracing</code> class has <code>static boolean IsEnabled</code> property that allows you to turn tracing on. But when you set property to <code>true</code> no output is showing in Console/Debug or anywhere else.</p>\n\n<p>How to set tracing so that output is visible in either Console/Debug Window (or anywhere really)?</p>\n"}, {"tags": ["c#", "wcf", "serialization", "binary-serialization", "verbosity"], "comments": [{"owner": {"reputation": 8613, "user_id": 1644813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HgpPS.jpg?s=128&g=1", "display_name": "Kirill Shlenskiy", "link": "https://stackoverflow.com/users/1644813/kirill-shlenskiy"}, "edited": false, "score": 0, "creation_date": 1508983610, "post_id": 46943661, "comment_id": 80836809, "body": "With no warranties as to the applicability of the following to your specific situation (never used BinaryMessageEncoding, we stick with JSON), here are 2 things which you could look into: <code>[DataMember(EmitDefaultValue = false)]</code> and Dynamic Content Compression in IIS."}, {"owner": {"reputation": 4651, "user_id": 1878141, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/XYDte.jpg?s=128&g=1", "display_name": "Christian Findlay", "link": "https://stackoverflow.com/users/1878141/christian-findlay"}, "reply_to_user": {"reputation": 8613, "user_id": 1644813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HgpPS.jpg?s=128&g=1", "display_name": "Kirill Shlenskiy", "link": "https://stackoverflow.com/users/1644813/kirill-shlenskiy"}, "edited": false, "score": 0, "creation_date": 1508984872, "post_id": 46943661, "comment_id": 80837115, "body": "Thanks. Yes, we already use Dynamic Content Compression in IIS. This is a very important thing to get right. It&#39;s actually quite hard to set up on the server, but once it&#39;s done once, bandwidth does go down a lot."}, {"owner": {"reputation": 4651, "user_id": 1878141, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/XYDte.jpg?s=128&g=1", "display_name": "Christian Findlay", "link": "https://stackoverflow.com/users/1878141/christian-findlay"}, "reply_to_user": {"reputation": 8613, "user_id": 1644813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HgpPS.jpg?s=128&g=1", "display_name": "Kirill Shlenskiy", "link": "https://stackoverflow.com/users/1644813/kirill-shlenskiy"}, "edited": false, "score": 0, "creation_date": 1508985374, "post_id": 46943661, "comment_id": 80837241, "body": "You may be on to something with EmitDefaultValue. The doco says &quot;It is occasionally desirable to omit a data member from the serialized data when it is set to its default value. To do this, set the EmitDefaultValue property to false (it is true by default).&quot; . The word &quot;Emit&quot; threw me. It appears that it is a misspelling, and really should be &quot;OmitDefaultValue&quot;."}, {"owner": {"reputation": 4651, "user_id": 1878141, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/XYDte.jpg?s=128&g=1", "display_name": "Christian Findlay", "link": "https://stackoverflow.com/users/1878141/christian-findlay"}, "reply_to_user": {"reputation": 8613, "user_id": 1644813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HgpPS.jpg?s=128&g=1", "display_name": "Kirill Shlenskiy", "link": "https://stackoverflow.com/users/1644813/kirill-shlenskiy"}, "edited": false, "score": 0, "creation_date": 1509059912, "post_id": 46943661, "comment_id": 80878163, "body": "I tried this, and on the face of it, it made no difference..."}], "answers": [{"tags": [], "owner": {"reputation": 4651, "user_id": 1878141, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/XYDte.jpg?s=128&g=1", "display_name": "Christian Findlay", "link": "https://stackoverflow.com/users/1878141/christian-findlay"}, "is_accepted": true, "score": 0, "last_activity_date": 1508982601, "creation_date": 1508982601, "answer_id": 46944611, "question_id": 46943661, "link": "https://stackoverflow.com/questions/46943661/optimizing-wcf-bandwidth-transfer-reducing-verbosity/46944611#46944611", "title": "Optimizing WCF Bandwidth Transfer (Reducing Verbosity)", "body": "<p>Partial answer:\n<a href=\"https://bkiener.wordpress.com/2010/05/04/optimize-data-contracts-for-better-wcf-performance/\" rel=\"nofollow noreferrer\">https://bkiener.wordpress.com/2010/05/04/optimize-data-contracts-for-better-wcf-performance/</a></p>\n\n<p>One thing that can be done is to reduce the names of DataContracts and Properties by specifying their Name in the attribute itself. So, a property named \"ReallyLongPropertyNameThatEatsBandwidth\" could be aliased as \"a\". I did some basic tests with this and one of our calls went down from 188k to 168k. This still doesn't explain all the other junk in the transfer, but it helps.</p>\n"}], "owner": {"reputation": 4651, "user_id": 1878141, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/XYDte.jpg?s=128&g=1", "display_name": "Christian Findlay", "link": "https://stackoverflow.com/users/1878141/christian-findlay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 46944611, "answer_count": 1, "score": 0, "last_activity_date": 1508982601, "creation_date": 1508974889, "last_edit_date": 1508975316, "question_id": 46943661, "link": "https://stackoverflow.com/questions/46943661/optimizing-wcf-bandwidth-transfer-reducing-verbosity", "title": "Optimizing WCF Bandwidth Transfer (Reducing Verbosity)", "body": "<p>We are currently using WCF for our transfer between our clients and servers. We are using HttpTransportBinding, with BinaryMessageEncoding. The back end is .NET, and the front end is Xamarin (iOS, Android, Windows 10) and Silverlight. We are looking at different options for transfer. Of course there are REST, and Web Sockets as well, but my question pertains to serialization - not the actual protocol. I am however, looking at all of our options for reducing the bandwidth of transfer. </p>\n\n<p>The ultimate aim is to use binary serialization that only transfers minimal data in order for the DataContract serialization to work correctly. The transfer does not need to be human readable, and this is why we are not using Json. I am open to looking at other kinds of serialization, or other DataContractSerializers that will do the job, but what I'm struggling with right now, is that WCF sends way more data across the wire than is actually necessary. If I look at the data in Fiddler, I can see that it is sending DataMembers that are null or empty, XML namespaces that are totally irrelevant, and so on. </p>\n\n<p>Here is a typical piece of transfer:\n<a href=\"https://i.stack.imgur.com/mcoO6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mcoO6.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here you can see that I have tried to stop the DataContractSerializer from sending these things across the wire at the attribute level, but the DataContractSerializer ignores my pleas:</p>\n\n<pre><code>    [DataMember(IsRequired = false)]\n    bool IsPrimaryKeyOnly { get; set; }\n\n    [DataMember(IsRequired = false)]\n    ErrorDictionary ErrorDetails { get; set; }\n\n    [DataMember(IsRequired =false)]\n    bool IgnoreWarnings { get; set; }\n\n\n    [System.Runtime.Serialization.DataContractAttribute(IsReference = true, Namespace = \"\")]\n    [System.SerializableAttribute()]\n    public class AssetClass : Adapt.Model.RecordBase, Adapt.Model.IRecord\n    {\n    }\n</code></pre>\n\n<p><strong>Is there anything I can do to get the DataContractSerializer to honour my requests? Is there a more efficient DataContractSerializer that is compatible with Xamarin? Any other tricks to reduce WCF verbosity? Am I doing something wrong here in the way I am declaring my attributes, or am I wrong in thinking that the serializer should be smart enough not to include default values?</strong></p>\n\n<p><em>What is so frustrating about this is that other than this problem, WCF is a very good technology when you know that all the consumers of the service are going to be Microsoft based. On the face of it, it just seems as though Microsoft stopped bothering to improve WCF and its subsequent parts such as DataContractSerialization. I'd rather not wholesale replace the technology. I'd rather just fix the problem with the verbosity.</em> </p>\n\n<p>Please save alternative technology suggestions for comments only. </p>\n"}, {"tags": ["c#", "asp.net", "xamarin", "xamarin.forms", "c#-6.0"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 3, "creation_date": 1508975021, "post_id": 46943658, "comment_id": 80834785, "body": "Your observation should tell you something...perhaps that is not the right format?"}, {"owner": {"reputation": 3568, "user_id": 1110897, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/dwIuJ.jpg?s=128&g=1", "display_name": "Serge", "link": "https://stackoverflow.com/users/1110897/serge"}, "edited": false, "score": 0, "creation_date": 1508975687, "post_id": 46943658, "comment_id": 80834954, "body": "See format <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings\" rel=\"nofollow noreferrer\">format specifier documentation</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1370, "user_id": 1877752, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/yKkk4.png?s=128&g=1", "display_name": "Greg the Incredulous", "link": "https://stackoverflow.com/users/1877752/greg-the-incredulous"}, "is_accepted": true, "score": 7, "last_activity_date": 1508975216, "creation_date": 1508975216, "answer_id": 46943702, "question_id": 46943658, "link": "https://stackoverflow.com/questions/46943658/datetime-tryparseexact-returns-false-for-some-string-in-c/46943702#46943702", "title": "DateTime.TryParseExact returns false for some string in c#", "body": "<p>You need to change yyyy-MM-dd hh:mm:ss to yyyy-MM-dd HH:mm:ss, which is hours in 24 hour time.  Note the change from hh to HH.</p>\n\n<p>See here: <a href=\"https://stackoverflow.com/questions/3025361/c-sharp-datetime-to-yyyymmddhhmmss-format\">C# DateTime to &quot;YYYYMMDDHHMMSS&quot; format</a></p>\n"}], "owner": {"reputation": 463, "user_id": 3265665, "user_type": "registered", "accept_rate": 26, "profile_image": "https://graph.facebook.com/100001221165228/picture?type=large", "display_name": "RMR", "link": "https://stackoverflow.com/users/3265665/rmr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 977, "favorite_count": 0, "accepted_answer_id": 46943702, "answer_count": 1, "score": 0, "last_activity_date": 1508975216, "creation_date": 1508974865, "question_id": 46943658, "link": "https://stackoverflow.com/questions/46943658/datetime-tryparseexact-returns-false-for-some-string-in-c", "title": "DateTime.TryParseExact returns false for some string in c#", "body": "<p>I am facing an issue in the parsing of the date. I have made following common function.</p>\n\n<pre><code>public static string ConvertedDate(string date)\n        {\n            if(!string.IsNullOrEmpty(date))\n            {\n                DateTime returnValue;\n                bool flag = DateTime.TryParseExact(date, \"yyyy-MM-dd hh:mm:ss\", CultureInfo.InvariantCulture, DateTimeStyles.None, out returnValue);\n                return flag ? returnValue.ToString(\"MM.dd.yyyy\") : null;\n            }\n            else\n            {\n                return null;\n            }\n        }\n</code></pre>\n\n<p><strong>But very strange thing happens some strings are successfully converted into DateTime but some return false.</strong></p>\n\n<p>For example : </p>\n\n<blockquote>\n  <p>\"2017-05-11 12:00:24\" this string parse successfully.</p>\n  \n  <p>\"2015-03-06 20:18:42\" this string can not.</p>\n</blockquote>\n\n<p>The format of the string is same. </p>\n\n<p><strong>I observed that when \"hour(hh)\" goes above 12 then it cannot be parsed.</strong></p>\n"}, {"tags": ["c#", "datagridview", "datagrid"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 3974092, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LBlYm.jpg?s=128&g=1", "display_name": "thompogi", "link": "https://stackoverflow.com/users/3974092/thompogi"}, "edited": false, "score": 0, "creation_date": 1508978967, "post_id": 46943926, "comment_id": 80835712, "body": "Thanks red. Works like charm. How did you get the string with question mark. I&#39;ve just copy pasted it in my code."}, {"owner": {"reputation": 3935, "user_id": 6564276, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/24e7a72ccc1527b501c1672edff06203?s=128&d=identicon&r=PG&f=1", "display_name": "Vijunav Vastivch", "link": "https://stackoverflow.com/users/6564276/vijunav-vastivch"}, "reply_to_user": {"reputation": 39, "user_id": 3974092, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LBlYm.jpg?s=128&g=1", "display_name": "thompogi", "link": "https://stackoverflow.com/users/3974092/thompogi"}, "edited": false, "score": 0, "creation_date": 1508979243, "post_id": 46943926, "comment_id": 80835763, "body": "Trying to simulate your problem.. before it posted and well done."}, {"owner": {"reputation": 39, "user_id": 3974092, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LBlYm.jpg?s=128&g=1", "display_name": "thompogi", "link": "https://stackoverflow.com/users/3974092/thompogi"}, "edited": false, "score": 0, "creation_date": 1508979555, "post_id": 46943926, "comment_id": 80835837, "body": "Can&#39;t see \ufffd in charmap."}], "tags": [], "owner": {"reputation": 3935, "user_id": 6564276, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/24e7a72ccc1527b501c1672edff06203?s=128&d=identicon&r=PG&f=1", "display_name": "Vijunav Vastivch", "link": "https://stackoverflow.com/users/6564276/vijunav-vastivch"}, "is_accepted": true, "score": 1, "last_activity_date": 1508977389, "last_edit_date": 1508977389, "creation_date": 1508977068, "answer_id": 46943926, "question_id": 46943309, "link": "https://stackoverflow.com/questions/46943309/transfer-text-file-items-with-degree-symbol-to-datagridview/46943926#46943926", "title": "Transfer text file items with degree symbol to datagridview", "body": "<p>You can use something like this:</p>\n\n<pre><code>string str = \"this is my string with a \ufffd sign like this.\";\nstr = str.Replace('\ufffd', '\u00b0');\n</code></pre>\n\n<p>As a result:</p>\n\n<pre><code>this is my string with a \u00b0 sign like this.\n</code></pre>\n\n<p>If String like <code>\ufffd</code> then it will replace a <code>\u00b0</code> sign.</p>\n\n<p>Any symbol I guess you can do it with a <code>replace</code> function.</p>\n"}], "owner": {"reputation": 39, "user_id": 3974092, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LBlYm.jpg?s=128&g=1", "display_name": "thompogi", "link": "https://stackoverflow.com/users/3974092/thompogi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 46943926, "answer_count": 1, "score": 1, "last_activity_date": 1508977389, "creation_date": 1508972439, "last_edit_date": 1508974171, "question_id": 46943309, "link": "https://stackoverflow.com/questions/46943309/transfer-text-file-items-with-degree-symbol-to-datagridview", "title": "Transfer text file items with degree symbol to datagridview", "body": "<p>I am trying to input items in datagridview using text file.</p>\n\n<p>I have below code to transfer the values of a csv file to my datagridview.</p>\n\n<pre><code>private void TransfertoDataGridView()\n{\n    try\n    {\n        string SelectedReport = ReportsFilename;\n        System.IO.StreamReader file = new System.IO.StreamReader(SelectedReport);\n        string[] columnnames = file.ReadLine().Split(',');\n        DataTable dt = new DataTable();\n        foreach (string c in columnnames)\n        {\n            dt.Columns.Add(c);\n        }\n\n        dataGridView1.DataSource = null;\n        string newline;\n        while ((newline = file.ReadLine()) != null)\n        {\n            if (newline != \"\")\n            {\n                DataRow dr = dt.NewRow();\n                string[] values = newline.Split(',');\n                for (int i = 0; i &lt; values.Length; i++)\n                {\n                    try\n                    {\n                        dr[i] = values[i];\n                    }\n                    catch { }\n                }\n                dt.Rows.Add(dr);\n            }\n        }\n        file.Close();\n        dataGridView1.DataSource = dt;\n        this.dataGridView1.Columns[0].Visible = false;\n    }\n    catch\n    {\n        dataGridView1.DataSource = null;\n    }\n\n}\n</code></pre>\n\n<p>Below is how my csv file looks like,</p>\n\n<p>Column D has items with degree symbol.</p>\n\n<p><a href=\"https://i.stack.imgur.com/WyV9r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WyV9r.png\" alt=\"enter image description here\"></a></p>\n\n<p>And when I run the code, it transfers all the cell values but replaces the degree symbol with question mark \"?\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/9A7is.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9A7is.png\" alt=\"Degree Sign\"></a></p>\n\n<p>I need expert help on how I can input the degree symbol to the datagridview.</p>\n\n<p>Thank you very much in advanced for the help.</p>\n"}, {"tags": ["c#", "html", "asp.net-mvc"], "comments": [{"owner": {"reputation": 3638, "user_id": 1145114, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7bfed7438c368b3758b48965bc4545d6?s=128&d=identicon&r=PG", "display_name": "Luiso", "link": "https://stackoverflow.com/users/1145114/luiso"}, "edited": false, "score": 0, "creation_date": 1508973698, "post_id": 46943287, "comment_id": 80834415, "body": "Please, for the views say what code is for what view, if possible please paste the names."}], "answers": [{"tags": [], "owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "is_accepted": true, "score": 0, "last_activity_date": 1508976153, "creation_date": 1508976153, "answer_id": 46943825, "question_id": 46943287, "link": "https://stackoverflow.com/questions/46943287/the-webpage-cannot-be-found-after-submit-my-info/46943825#46943825", "title": "The webpage cannot be found after submit my info", "body": "<p>Your form action attribute value should be a valid url in your app. If you are using the form tag helper, you need to make sure you are passing the valid HttpPost action method name you want to submit to, as the <code>asp-action</code> attribute value.</p>\n\n<p>In your case, your http post action method name is <code>RsvpForm</code>, But in your form you had <code>RcvpForm</code> which is not a valid action method. So fix your form tag helper to use the correct action method and now it should work.</p>\n\n<pre><code>&lt;form asp-action=\"RsvpForm\" method=\"post\"&gt;\n   &lt;!-- Your existing form elements goes here--&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3935, "user_id": 6564276, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/24e7a72ccc1527b501c1672edff06203?s=128&d=identicon&r=PG&f=1", "display_name": "Vijunav Vastivch", "link": "https://stackoverflow.com/users/6564276/vijunav-vastivch"}, "is_accepted": false, "score": 0, "last_activity_date": 1508978750, "last_edit_date": 1508978750, "creation_date": 1508978422, "answer_id": 46944075, "question_id": 46943287, "link": "https://stackoverflow.com/questions/46943287/the-webpage-cannot-be-found-after-submit-my-info/46944075#46944075", "title": "The webpage cannot be found after submit my info", "body": "<p>Do it something like:</p>\n\n<p></p>\n\n<pre><code>    &lt;p&gt;\n        &lt;label asp-for=\"Name\"&gt;Your Name:&lt;/label&gt;\n        &lt;input asp-for=\"Name\" /&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n        &lt;label asp-for=\"Email\"&gt;Your Email:&lt;/label&gt;\n        &lt;input asp-for=\"Email\" /&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n        &lt;label asp-for=\"phone\"&gt;Your Phone:&lt;/label&gt;\n        &lt;input asp-for=\"phone\" /&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n        &lt;label&gt;Will you come?&lt;/label&gt;\n        &lt;select asp=\"WillAttend\"&gt;\n            &lt;option value=\"\"&gt;Choose an option&lt;/option&gt;\n            &lt;option value=\"true\"&gt;Yes&lt;/option&gt;\n            &lt;option value=\"false\"&gt;No&lt;/option&gt;\n        &lt;/select&gt;\n    &lt;/p&gt;\n    &lt;button type=\"Button\" id=\"submitme\" data-url=\"@Url.Action(\"RsvpForm\",\"Home\")\"&gt;Submit RSVP&lt;/button&gt;\n</code></pre>\n\n<p></p>\n\n<p>Ajax form like:</p>\n\n<pre><code>    $(\"#submitme\").on(\"click\", function () {\n\n      var url = $(this).data('url');\n\n       $.ajax({\n                            type: 'post',//this can be change to get or post\n                            url: url,\n                            success: function (response) {\n                                if (response != null &amp;&amp; response.success) {\n                                   Alert(\"Success\");\n\n                                    window.location.href = \"/Home/ActionNameHere\"; //You can redirect any action name here....\n                                } else {\n                                    // DoSomethingElse()\n\n                                      Alert(\"something wrong\");\n\n                                }\n                            }\n                        });\n\n    });\n</code></pre>\n"}], "owner": {"reputation": 652, "user_id": 7999588, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/WCjin.jpg?s=128&g=1", "display_name": "Ali Eshghi", "link": "https://stackoverflow.com/users/7999588/ali-eshghi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 46943825, "answer_count": 2, "score": 1, "last_activity_date": 1508978750, "creation_date": 1508972246, "question_id": 46943287, "link": "https://stackoverflow.com/questions/46943287/the-webpage-cannot-be-found-after-submit-my-info", "title": "The webpage cannot be found after submit my info", "body": "<p>I have view which name is thanks and I want to show this view after click submit , but its encounter with error like this:The webpage cannot be found \nHere is my code:</p>\n\n<pre><code> public class HomeController : Controller\n    {\n        public ViewResult Index()\n        {\n            int hour = DateTime.Now.Hour;\n            ViewBag.greeting = hour &lt; 12 ? \"Good Morning\" : \"Good Afternoon\";\n            return View (\"MyView\");\n        }\n        [HttpGet]\n        public ViewResult RsvpForm()\n        {\n            return View(\"RsvpForm\");\n\n        }\n        [HttpPost]\n\n        public ViewResult RsvpForm(GuestRespons GuestRespons)\n        {\n            Repository.AddResponse(GuestRespons);\n            return View(\"Thanks\", GuestRespons);\n\n        }\n\n    }\n</code></pre>\n\n<p>and this is my view :</p>\n\n<pre><code>@{Layout = null;\n}\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width\" /&gt;\n    &lt;title&gt;\n        Thanks\n    &lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;p&gt;\n        &lt;h1&gt;\n            thank you,@Model.Name!\n        &lt;/h1&gt;\n\n        @if (Model.WillAttend== true)\n        {\n            @:it's great that you are comming.we will see you soon.\n        }\n        else\n    {\n        @:Sorry to hear that, but Thanks for letting us to know.     \n    }\n    &lt;/p&gt;\n    &lt;p &gt;\n        click &lt;a asp-action=\"ListResponses\"&gt;here&lt;/a&gt; to see who is coming.\n    &lt;/p&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And this one is my button which should show thanks view:</p>\n\n<pre><code>@model FuturGoals_partyinvites_.Models.GuestRespons\n\n\n@{\n    Layout = null;\n}\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width\" /&gt;\n    &lt;title&gt;RsvpForm&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form asp-action=\"RcvpForm\" method=\"post\"&gt;\n\n        &lt;p&gt;\n            &lt;label asp-for=\"Name\"&gt;Your Name:&lt;/label&gt;\n            &lt;input asp-for=\"Name\" /&gt;\n        &lt;/p&gt;\n        &lt;p&gt;\n            &lt;label asp-for=\"Email\"&gt;Your Email:&lt;/label&gt;\n            &lt;input asp-for=\"Email\" /&gt;\n        &lt;/p&gt;\n        &lt;p&gt;\n            &lt;label asp-for=\"phone\"&gt;Your Phone:&lt;/label&gt;\n            &lt;input asp-for=\"phone\" /&gt;\n        &lt;/p&gt;\n        &lt;p&gt;\n            &lt;label&gt;Will you come?&lt;/label&gt;\n            &lt;select asp=\"WillAttend\"&gt;\n                &lt;option value=\"\"&gt;Choose an option&lt;/option&gt;\n                &lt;option value=\"true\"&gt;Yes&lt;/option&gt;\n                &lt;option value=\"false\"&gt;No&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/p&gt;\n        &lt;button type=\"submit\"&gt;Submit RSVP&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>well I don't know how get exception in mvc , I think problem should be with this line:</p>\n\n<pre><code>&lt;button type=\"submit\"&gt;Submit RSVP&lt;/button&gt;\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", ".net", "quickbooks"], "comments": [{"owner": {"reputation": 26447, "user_id": 26133, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dfe9cf5d0681a2cd730408d5ac909851?s=128&d=identicon&r=PG", "display_name": "Keith Palmer Jr.", "link": "https://stackoverflow.com/users/26133/keith-palmer-jr"}, "edited": false, "score": 0, "creation_date": 1508989441, "post_id": 46943283, "comment_id": 80838168, "body": "Post your code. Post the raw XML that gets sent to QuickBooks. Post whatever you get back. We can&#39;t help you if you don&#39;t post your code."}, {"owner": {"reputation": 26447, "user_id": 26133, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dfe9cf5d0681a2cd730408d5ac909851?s=128&d=identicon&r=PG", "display_name": "Keith Palmer Jr.", "link": "https://stackoverflow.com/users/26133/keith-palmer-jr"}, "edited": false, "score": 0, "creation_date": 1508989474, "post_id": 46943283, "comment_id": 80838179, "body": "Also, did you go through the troubleshooting list? <a href=\"https://help.developer.intuit.com/s/article/Troubleshooting-QuickBooks-Desktop-SDK-Issues\" rel=\"nofollow noreferrer\">help.developer.intuit.com/s/article/&hellip;</a>"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1509024612, "post_id": 46943283, "comment_id": 80858554, "body": "Language improvements."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8834433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8158af0fc0b07c35e9918dee66923ca4?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/8834433/richard"}, "is_accepted": false, "score": 1, "last_activity_date": 1509984241, "last_edit_date": 1509984241, "creation_date": 1509983882, "answer_id": 47140926, "question_id": 46943283, "link": "https://stackoverflow.com/questions/46943283/quick-books-sdk-billaddrq/47140926#47140926", "title": "Quick Books SDK - BillAddRq", "body": "<p>The problem was that I was providing both the ListID and the FullName for the vendor. The ListID I was providing was not the visible value that I thought was listed on the vendor form.</p>\n\n<p>This is the XML that was sent to QB from the app:</p>\n\n<pre><code>&lt;VendorRef&gt;\n&lt;ListID&gt;Acme Vendor 1&lt;/ListID&gt;\n&lt;FullName&gt;Acme Vendor 1&lt;/FullName&gt;\n&lt;/VendorRef&gt;\n</code></pre>\n\n<p>The ListID's are invalid for the Vendor and Account.</p>\n\n<p>Below are the responses from Intuit...</p>\n\n<p>You can either remove those lines OR look them up and use the actual value.\nThey will look something like this - 8000007C-1639597013</p>\n\n<p>You would need to do a VendorQuery to get the ListID.</p>\n\n<p>An option for the Bill is to NOT include the ListID field and just have the FullName. Because you had both, it tried to use ListID and since that was invalid it threw the error message. You can use ListID or FullName, but if both are specified ListID will take precedence. </p>\n"}], "owner": {"reputation": 21, "user_id": 8834433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8158af0fc0b07c35e9918dee66923ca4?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/8834433/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1509984241, "creation_date": 1508972239, "last_edit_date": 1509024612, "question_id": 46943283, "link": "https://stackoverflow.com/questions/46943283/quick-books-sdk-billaddrq", "title": "Quick Books SDK - BillAddRq", "body": "<p>I am having difficulties creating a <code>Bill</code> in QuickBooks via my 3rd party application developed in .NET 4.x and c# as the language. I am referencing <code>Interop.QBFC13.dll</code> I am using both the sample code provided online as well as a modified version of the sample code. There seems to be no errors thrown. However, no <code>Bill</code> is created on QB.</p>\n\n<p>I do have working code that creates an <code>Invoice</code> and a <code>PO</code> that works great  that I have been using for years.</p>\n\n<p>I would appreciate any insight on what could possible be preventing the Bill from being generated.\u200b</p>\n"}, {"tags": ["c#", "security", "system"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1508973046, "post_id": 46943207, "comment_id": 80834250, "body": "What you are describing makes no sense."}, {"owner": {"reputation": 3, "user_id": 8834414, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212953644252399/picture?type=large", "display_name": "gustavosj", "link": "https://stackoverflow.com/users/8834414/gustavosj"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1508976476, "post_id": 46943207, "comment_id": 80835167, "body": "Sorry if is not well explained. In my work we have a proxy that authenticate with kerberos to let the user browse the internet, if the user system tries to access to internet the access is denied. So for that i need to run this in user context but later in the program i have a function that needs to run a exe with admin privileges (classic user is not admin in his own machine) so thats what i need to do."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8834414, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212953644252399/picture?type=large", "display_name": "gustavosj", "link": "https://stackoverflow.com/users/8834414/gustavosj"}, "edited": false, "score": 0, "creation_date": 1509021060, "post_id": 46943461, "comment_id": 80855773, "body": "Thanks! is there a way to use the user logged in context insted of send user credentials?."}, {"owner": {"reputation": 3, "user_id": 8834414, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212953644252399/picture?type=large", "display_name": "gustavosj", "link": "https://stackoverflow.com/users/8834414/gustavosj"}, "edited": false, "score": 0, "creation_date": 1509024648, "post_id": 46943461, "comment_id": 80858586, "body": "if i use this: <code>using (var i = new ImpersonatedUser(&quot;user&quot;, &quot;domain&quot;, &quot;pass&quot;))             {                  Process startInfo = new Process();                 startInfo.StartInfo.FileName = @&quot;c:\\windows\\system32\\cmd.exe&quot;;                 startInfo.Start();                 startInfo.WaitForExit();                 var u = System.Environment.UserName;                 Dispose();             }</code>  the CMD doesnt launch with the expected user."}, {"owner": {"reputation": 1121, "user_id": 3618341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMB8m.png?s=128&g=1", "display_name": "flyte", "link": "https://stackoverflow.com/users/3618341/flyte"}, "reply_to_user": {"reputation": 3, "user_id": 8834414, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212953644252399/picture?type=large", "display_name": "gustavosj", "link": "https://stackoverflow.com/users/8834414/gustavosj"}, "edited": false, "score": 0, "creation_date": 1509032307, "post_id": 46943461, "comment_id": 80864250, "body": "If you want to start a process as a different user, then set the appropriate settings in the ProcessStartinfo. see <a href=\"https://stackoverflow.com/questions/6413900/launch-a-process-under-another-users-credentials\">here</a> for an example."}], "tags": [], "owner": {"reputation": 1121, "user_id": 3618341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMB8m.png?s=128&g=1", "display_name": "flyte", "link": "https://stackoverflow.com/users/3618341/flyte"}, "is_accepted": true, "score": 1, "last_activity_date": 1508973441, "creation_date": 1508973441, "answer_id": 46943461, "question_id": 46943207, "link": "https://stackoverflow.com/questions/46943207/c-how-to-change-user-context-in-app-running-on-system/46943461#46943461", "title": "C# How to change user context in app running on system", "body": "<p>I have used this code to impersonate certain operations </p>\n\n<pre><code>using System;\nusing System.ComponentModel;\nusing System.Runtime.InteropServices;\nusing System.Security.Principal;\nusing NLog;\nnamespace Core.Impersonation\n{\n    public class ImpersonatedUser : IDisposable\n    {\n        private static Logger logger = LogManager.GetCurrentClassLogger();\n        IntPtr userHandle;\n        WindowsImpersonationContext impersonationContext;\n        public ImpersonatedUser(string user, string domain, string password)\n        {\n            logger.Debug(\"Impersonating user: \" + domain + @\"\\\" + user);\n            userHandle = IntPtr.Zero;\n            bool loggedOn = LogonUser(\n                user,\n                domain,\n                password,\n                LogonType.Interactive,\n                LogonProvider.Default,\n                out userHandle);\n\n            if (!loggedOn)\n                throw new Win32Exception(Marshal.GetLastWin32Error());\n\n            // Begin impersonating the user\n            impersonationContext = WindowsIdentity.Impersonate(userHandle);\n        }\n\n        public void Dispose()\n        {\n            if (userHandle != IntPtr.Zero)\n            {\n                CloseHandle(userHandle);\n                userHandle = IntPtr.Zero;\n                impersonationContext.Undo();\n                logger.Debug(\"Finished Impersonating user\");\n            }\n        }\n\n        [DllImport(\"advapi32.dll\", SetLastError = true)]\n        static extern bool LogonUser(\n            string lpszUsername,\n            string lpszDomain,\n            string lpszPassword,\n            LogonType dwLogonType,\n            LogonProvider dwLogonProvider,\n            out IntPtr phToken\n            );\n\n        [DllImport(\"kernel32.dll\", SetLastError = true)]\n        static extern bool CloseHandle(IntPtr hHandle);\n\n        enum LogonType : int\n        {\n            Interactive = 2,\n            Network = 3,\n            Batch = 4,\n            Service = 5,\n            NetworkCleartext = 8,\n            NewCredentials = 9,\n        }\n\n        enum LogonProvider : int\n        {\n            Default = 0,\n        }\n    }\n}\n</code></pre>\n\n<p>and then usage:</p>\n\n<pre><code>using (var i = new ImpersonatedUser(\"someLogin\", \"someDomain\", \"thePassword\"))\n{\n    var u = System.Environment.UserName;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8834414, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212953644252399/picture?type=large", "display_name": "gustavosj", "link": "https://stackoverflow.com/users/8834414/gustavosj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2449, "favorite_count": 1, "accepted_answer_id": 46943461, "answer_count": 1, "score": -1, "last_activity_date": 1508973441, "creation_date": 1508971823, "question_id": 46943207, "link": "https://stackoverflow.com/questions/46943207/c-how-to-change-user-context-in-app-running-on-system", "title": "C# How to change user context in app running on system", "body": "<p>I have an application that runs with the system user. I need that some code in the app runs on user context (with the user itself). For example i need to use the webclient in user context because that way my firewall recognize the username, but later i need to run some other code ex. Running a exe in system context (with system user) because i need the privileges.</p>\n\n<p>Is there a way to do this?. </p>\n\n<p>Thanks!!!</p>\n"}, {"tags": ["c#", ".net", "multithreading", "asynchronous"], "answers": [{"comments": [{"owner": {"reputation": 102569, "user_id": 400547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bece78258b3847bca4ab1ee92ad92b88?s=128&d=identicon&r=PG", "display_name": "Jon Hanna", "link": "https://stackoverflow.com/users/400547/jon-hanna"}, "edited": false, "score": 2, "creation_date": 1508973805, "post_id": 46943228, "comment_id": 80834455, "body": "Your example should be either <code>return;</code> with <code>async</code> in the definition or <code>return Task.FromResult(0);</code> (or <code>Task.CompletedTask</code> for 4.6 and later) without <code>async</code>."}], "tags": [], "owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "is_accepted": false, "score": 4, "last_activity_date": 1508993553, "last_edit_date": 1508993553, "creation_date": 1508971961, "answer_id": 46943228, "question_id": 46943063, "link": "https://stackoverflow.com/questions/46943063/when-does-await-examine-the-awaitable/46943228#46943228", "title": "When does await examine the awaitable?", "body": "<p>It sounds like you think <code>async</code> makes method asynchronous which is not the case. <code>Async</code> only changes how code for the method is generated, but by itself it does not add any asynchronous steps nor run the method on another thread. See many questions like <a href=\"https://stackoverflow.com/questions/34680985/what-is-the-difference-between-asynchronous-programming-and-multithreading\">What is the difference between asynchronous programming and multithreading?</a>.</p>\n\n<p><code>await</code> examines awaitable at the same time irrespective whether it completed yet or not - method like  <code>BBBAsync()</code> will eventually return <code>Task</code> that may be either completed or not, but method will return. </p>\n\n<p>Here is an example of task completing synchronously:</p>\n\n<pre><code> async Task BBBAsync() // ignore CS1998 as we don't want `await` inside\n {\n      return;\n }\n\n // alternatively the same behavior just returning completed Task\n // with FromResult or Task.CompletedTask for 4.6 and later\n Task BB2Async() \n { \n      return Task.FromResult(0);\n }\n</code></pre>\n\n<p>You can await such task just fine, but this <code>BBBAsync</code> will complete synchronously and <code>await</code> will pick synchronous branch to continue.</p>\n\n<hr>\n\n<p>More realistic sample would be returning recently cached value synchronously. This code will generate full state machine for asynchronous execution, but every other call will return synchronously thus making corresponding <code>await</code> to continue synchronously too.</p>\n\n<pre><code> async Task&lt;int&gt; GetValueAsync()\n {\n      if (canReturnCached)\n      {\n         canReturnCached = false;\n         return cachedValue;\n      }\n\n      cachedValue = await SlowRemoteCallForValueAsync();\n      canReturnCached = true;\n      return cachedValue;\n  }\n</code></pre>\n"}], "owner": {"reputation": 4935, "user_id": 5482465, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/QHF0G.png?s=128&g=1", "display_name": "Money Sets You Free", "link": "https://stackoverflow.com/users/5482465/money-sets-you-free"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508993553, "creation_date": 1508970899, "last_edit_date": 1508972546, "question_id": 46943063, "link": "https://stackoverflow.com/questions/46943063/when-does-await-examine-the-awaitable", "title": "When does await examine the awaitable?", "body": "<p>Let me quote the code snippet and its relevant explanation from <a href=\"http://blog.stephencleary.com/2012/02/async-and-await.html\" rel=\"nofollow noreferrer\">Async and Await</a> article written by <a href=\"https://stackoverflow.com/users/263693/stephen-cleary\">Stephen Cleary</a> as follows.</p>\n\n<pre><code>public async Task DoSomethingAsync()\n{\n     // In the Real World, we would actually do something...\n     // For this example, we're just going to (asynchronously) wait 100ms.\n     await Task.Delay(100);\n}\n</code></pre>\n\n<blockquote>\n  <p>The beginning of an async method is executed just like any other method. That is, it runs synchronously until it hits an \u201cawait\u201d (or throws an exception).</p>\n  \n  <p>The \u201cawait\u201d keyword is where things can get asynchronous. Await is like a unary operator: it takes a single argument, an awaitable (an \u201cawaitable\u201d is an asynchronous operation). Await examines that awaitable to see if it has already completed; if the awaitable has already completed, then the method just continues running (synchronously, just like a regular method).</p>\n  \n  <p>If \u201cawait\u201d sees that the awaitable has not completed, then it acts asynchronously. It tells the awaitable to run the remainder of the method when it completes, and then returns from the async method.</p>\n</blockquote>\n\n<p>To accommodate more general case, let me define the code snippet as follows.</p>\n\n<pre><code>public async Task DoSomethingAsync()\n{\n  AAA();      \n  await BBBAsync;\n  CCC();\n}\n</code></pre>\n\n<p>where <code>BBBAsync</code> is the only \"awaitable\" operation or method.</p>\n\n<p>For the sake of simplicity, let's assume we  execute <code>DoSomethingAsync</code> from within the main app thread. So in my understanding,</p>\n\n<ul>\n<li><code>AAA()</code> will always be executed synchronously.</li>\n<li><code>BBBAsync()</code> will always be executed asynchronously no matter how <code>DoSomethingAsync()</code> is invoked.</li>\n<li><code>CCC()</code> may be executed either asynchronously or synchronously depending on the result of the <code>await</code> operator determines.</li>\n</ul>\n\n<p>It seems to me, the <code>await</code> operator always find the awaitable has not been completed yet because <code>await</code> always comes before <code>BBBAsync()</code> starts.</p>\n\n<h1>Question</h1>\n\n<p>When does await examine the awaitable?</p>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 0, "creation_date": 1508972850, "post_id": 46943053, "comment_id": 80834178, "body": "Hmm, you probably have a purpose in parsing that log but it does look like .NET unit test output that is just being very precise by showing that the values are of type Decimal. (C# literal Decimal values have an m suffix.)"}], "answers": [{"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1508970960, "creation_date": 1508970960, "answer_id": 46943069, "question_id": 46943053, "link": "https://stackoverflow.com/questions/46943053/c-remove-a-letter-that-trails-a-number-from-multiple-instances-in-a-string-whet/46943069#46943069", "title": "C# Remove a letter that trails a number from multiple instances in a string whether with Regex by another method", "body": "<p>You may use a capturing group with a replacement backreference in the replacement pattern:</p>\n\n<pre><code>example = Regex.Replace(example, @\"([0-9])[a-zA-Z]\\b\", \"$1\");\n</code></pre>\n\n<p>Note the <code>\\b</code> word boundary after the letter pattern, it is used to make sure the letter is at the end of the word.</p>\n\n<p>See the <a href=\"http://regexstorm.net/tester?p=%28%5B0-9%5D%29%5Ba-zA-Z%5D%5Cb&amp;i=Error%20Message%3A%20%22%20%20Expected%3A%20660m%20%20But%20was%3A%20%20600m%22%20Error%20Message%3A%20%22%20%20Expected%3A%20358m%20%20But%20was%3A%20%20325m%22%20Error%20Message%3A%20%22%20%20Expected%3A%201088m%20%20But%20was%3A%20%20995m%22%20Error%20Message%3A%20%22%20%20Expected%3A%2069.82m%20%20But%20was%3A%20%2067.96m%22%20Error%20Message%3A%20%22%20%20Expected%3A%201157.82m%20%20But%20was%3A%20%201062.96m%22&amp;r=%241\" rel=\"nofollow noreferrer\">regex demo</a>. Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/B1lsP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B1lsP.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Pattern details</strong></p>\n\n<ul>\n<li><code>([0-9])</code> - Capturing group 1 (later referred to with <code>$1</code>) matching any one digit</li>\n<li><code>[a-zA-Z]</code> - an ASCII letter</li>\n<li><code>\\b</code> - a trailing word boundary</li>\n</ul>\n"}], "owner": {"reputation": 15, "user_id": 1442661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0565288bb875ef4bf95b86e7deb4b12?s=128&d=identicon&r=PG", "display_name": "odinkruse", "link": "https://stackoverflow.com/users/1442661/odinkruse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 46943069, "answer_count": 1, "score": 1, "last_activity_date": 1508970960, "creation_date": 1508970846, "question_id": 46943053, "link": "https://stackoverflow.com/questions/46943053/c-remove-a-letter-that-trails-a-number-from-multiple-instances-in-a-string-whet", "title": "C# Remove a letter that trails a number from multiple instances in a string whether with Regex by another method", "body": "<p>I have a log giving me messages that look like this</p>\n\n<p><code>Error Message: \"  Expected: 660m  But was:  600m\" Error Message: \"  Expected: 358m  But was:  325m\" Error Message: \"  Expected: 1088m  But was:  995m\" Error Message: \"  Expected: 69.82m  But was:  67.96m\" Error Message: \"  Expected: 1157.82m  But was:  1062.96m\"</code></p>\n\n<p>I want to remove the 'm' trailing the numbers. I have attempted to use<code>Regex.Replace()</code> and I can select the entire pattern every time but now I need to replace it with just the digit component. My code for selecting</p>\n\n<pre><code>example = Regex.Replace(example,\"[0-9]+[a-zA-Z]{1}\", \"\");\n</code></pre>\n\n<p>Is there a way to just select the 'm' and replace it in every instance of the Regex pattern?</p>\n"}, {"tags": ["c#", "entity-framework", "linq", "lambda"], "answers": [{"comments": [{"owner": {"reputation": 517, "user_id": 2780806, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/593655217/picture?type=large", "display_name": "Michael", "link": "https://stackoverflow.com/users/2780806/michael"}, "edited": false, "score": 0, "creation_date": 1508981723, "post_id": 46943607, "comment_id": 80836362, "body": "You had the missing piece for me, even tho I found another bug. Thanks!  And to answer your question the RecordCount returns the number of records, but that&#39;s not what this query is pulling. I want the number of searches with a RecordCount &gt; 0."}], "tags": [], "owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "is_accepted": true, "score": 0, "last_activity_date": 1508974524, "creation_date": 1508974524, "answer_id": 46943607, "question_id": 46943030, "link": "https://stackoverflow.com/questions/46943030/converting-sql-group-by-to-ef-linq-lambda/46943607#46943607", "title": "converting SQL Group By to EF LINQ Lambda", "body": "<p>Just</p>\n\n<pre><code>RecordCount = sl.Select(r =&gt; r.recordCount).Count()\n</code></pre>\n\n<p>You don't need the Distinct(), and it is not the same as the DISTINCT in the SQL Query, which does nothing, since each row has a distinct searchValue after GROUP BY searchValue.</p>\n\n<p>But why</p>\n\n<pre><code>COUNT([ServicesTracking].[dbo].[SearchLogs].[recordCount]) AS [RecordCount]\n</code></pre>\n\n<p>?  You are counting the rows with non-null recordCount.  Should this be SUM()?</p>\n"}], "owner": {"reputation": 517, "user_id": 2780806, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/593655217/picture?type=large", "display_name": "Michael", "link": "https://stackoverflow.com/users/2780806/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 46943607, "answer_count": 1, "score": 0, "last_activity_date": 1508981500, "creation_date": 1508970670, "last_edit_date": 1508981500, "question_id": 46943030, "link": "https://stackoverflow.com/questions/46943030/converting-sql-group-by-to-ef-linq-lambda", "title": "converting SQL Group By to EF LINQ Lambda", "body": "<p>I have this query</p>\n\n<pre><code>SELECT \n    DISTINCT TOP 10 COUNT([ServicesTracking].[dbo].[SearchLogs].[recordCount]) AS [RecordCount], \n    [ServicesTracking].[dbo].[SearchLogs].[searchValue] AS [SearchValue] FROM [ServicesTracking].[dbo].[SearchLogs] \nWHERE (([ServicesTracking].[dbo].[SearchLogs].[searchType] = 'something'\n    AND [ServicesTracking].[dbo].[SearchLogs].[searchValue] &lt;&gt; ''\n    AND [ServicesTracking].[dbo].[SearchLogs].[recordCount] &gt; 0 \n    AND [ServicesTracking].[dbo].[SearchLogs].[appDomain] = 'localhost')) \nGROUP BY [ServicesTracking].[dbo].[SearchLogs].[searchValue] \nORDER BY RecordCount DESC\n</code></pre>\n\n<p>And I am trying to convert it into EF LINQ Lambda. This is what I came up with. EDIT: Fixed a bug with my successive queries.</p>\n\n<pre><code>IQueryable&lt;SearchLog&gt; query = _context.SearchLogs\n    .Where(sl =&gt; sl.appDomain == AppDomain)\n    .Where(sl =&gt; sl.searchType == SearchType)\n    .Where(sl =&gt; sl.searchValue != string.Empty);\n\n// Are we looking for terms that brought back results?\nif (_greaterThanZero) query = query.Where(sl =&gt; sl.recordCount &gt; 0);\n    else query = query.Where(sl =&gt; sl.recordCount == 0);\n\n// Date range being used?\nif (StartDate != DateTime.MinValue) query = query.Where(sl =&gt; sl.createDate &gt; DateUtilities.GetStartOfDay(StartDate));\nif (EndDate != DateTime.MinValue) query = query.Where(sl =&gt; sl.createDate &lt; DateUtilities.GetEndOfDay(EndDate));\nList&lt;SearchResultSet&gt; results = query\n    .GroupBy(sl =&gt; sl.searchValue)\n    .Select(sl =&gt; new SearchResultSet\n                  {\n                      SearchValue = sl.Key,\n                      RecordCount = sl.Select(r =&gt; r.recordCount)Distinct().Count()\n                  })\n    .OrderByDescending(sl =&gt; sl.RecordCount)\n    .Take(10)\n    .ToList();\nforeach (SearchResultSet result in results)\n    result.SearchValue = HttpContext.Current.Server.UrlDecode(result.SearchValue);\nreturn results;\n</code></pre>\n\n<p>It's not returning the same results. I'm fairly certain I have something mixed up in the GroupBy or Select statements. Any ideas?</p>\n"}, {"tags": ["c#", "entity-framework", "ef-code-first", "code-first"], "comments": [{"owner": {"reputation": 19413, "user_id": 581076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/KQGy0.png?s=128&g=1", "display_name": "tymtam", "link": "https://stackoverflow.com/users/581076/tymtam"}, "edited": false, "score": 0, "creation_date": 1508974898, "post_id": 46943004, "comment_id": 80834748, "body": "If agency has UserId it can only point to one user.   Start by:  1. Deleting <code>[Required]</code> on        [Required]      public virtual Users Users { get; set; }//Foriegn key  2. Deleting <code>UserId</code>        [ForeignKey(&quot;Users&quot;)]      public int UserId { get; set; }"}], "answers": [{"tags": [], "owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "is_accepted": false, "score": 0, "last_activity_date": 1508974828, "creation_date": 1508974828, "answer_id": 46943649, "question_id": 46943004, "link": "https://stackoverflow.com/questions/46943004/unable-to-save-data-using-entity-frame-work-code-first-technique/46943649#46943649", "title": "Unable to save data using entity frame work code first technique", "body": "<p>Just like the error says.</p>\n\n<blockquote>\n  <p>\"because the Dependent Role properties are not the key properties, the\n  upper bound of the multiplicity of the Dependent Role must be '*'\"</p>\n</blockquote>\n\n<p>The \"Dependent Role properties\" here means, eg Agency.UserId, and the \"multiplicity must be '*'\" means Users must have a collection of Agencies.  EG</p>\n\n<pre><code>public virtual ICollection&lt;Agency&gt; Agencies { get; } = new HashSet&lt;Agency&gt;();\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 2311409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de363bdea9c67533423977fa1169770a?s=128&d=identicon&r=PG", "display_name": "Bilal", "link": "https://stackoverflow.com/users/2311409/bilal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509000460, "creation_date": 1508970498, "last_edit_date": 1508971219, "question_id": 46943004, "link": "https://stackoverflow.com/questions/46943004/unable-to-save-data-using-entity-frame-work-code-first-technique", "title": "Unable to save data using entity frame work code first technique", "body": "<p>I am unable to save data using code first technique.\nhere is my context:\n</p>\n\n<pre><code>    public virtual DbSet&lt;Users&gt; User { get; set; }\n    public virtual DbSet&lt;Agency&gt; Agencies { get; set; }\n    public virtual DbSet&lt;ColdStorage&gt; ColdStorages { get; set; }\n    public virtual DbSet&lt;ShowRoom&gt; ShowRooms { get; set; }\n\n    protected override void OnModelCreating(DbModelBuilder modelBuilder)\n    {\n\n    }\n</code></pre>\n\n<p>and my user model is here:\n</p>\n\n<pre><code>    [Table(\"Users\")]\n      public class Users\n     {\n    [Key]\n    public int UserId { get; set; }\n    public string Name { get; set; }\n    public string Phone { get; set; }\n    public string Mobile { get; set; }\n    public string Email { get; set; }\n    public string Password { get; set; }\n    public bool isAgency { get; set; }\n    public bool isColdStorage { get; set; }\n    public string VerificationCode { get; set; }\n    public DateTime CreatedDate { get; set; }\n\n    // Reverse navigation\n    public virtual Agency Agency { get; set; }\n    public virtual ColdStorage ColdStorage { get; set; }\n    public virtual ShowRoom ShowRoom { get; set; }\n\n    public Users()\n    {\n        Agency = new Agency();\n        ColdStorage = new ColdStorage();\n        ShowRoom = new ShowRoom();\n    }\n}\n</code></pre>\n\n<p>and my other model is here:\n</p>\n\n<pre><code>  [Table(\"Agency\")]\n  public class Agency\n  {\n    [Key]\n    public int AgencyId { get; set; }\n    [ForeignKey(\"Users\")]\n    public int UserId { get; set; }\n\n    public string AgencyName { get; set; }\n\n    public string Address { get; set; }\n\n    public string City { get; set; }\n\n    public string Description { get; set; }\n\n    public DateTime CreatedDate { get; set; }\n    [Required]\n    public virtual Users Users { get; set; }//Foriegn key\n}\n</code></pre>\n\n<p>And the error is here:</p>\n\n<blockquote>\n  <p>Message\":\"An error has occurred.\",\"ExceptionMessage\":\"One or more validation errors were detected during model generation:\\r\\n\\r\\nColdStorage_Users_Source: : Multiplicity is not valid in Role 'ColdStorage_Users_Source' in relationship 'ColdStorage_Users'. Because the Dependent Role properties are not the key properties, the upper bound of the multiplicity of the Dependent Role must be '*'.\\r\\nShowRoom_Users_Source:</p>\n</blockquote>\n"}, {"tags": ["c#", "android", "xamarin.android"], "comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1509021800, "post_id": 46942980, "comment_id": 80856317, "body": "What type does <code>AddOnItemTouchListener</code> expect as its parameter?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8761788, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/486b8256bee9b3a3fd615e9632ab8965?s=128&d=identicon&r=PG&f=1", "display_name": "Gold", "link": "https://stackoverflow.com/users/8761788/gold"}, "edited": false, "score": 0, "creation_date": 1508992930, "post_id": 46943326, "comment_id": 80839094, "body": "thank you! it woks , but anyway I don&#39;t understand why it doesn&#39;t recognize &quot;this&quot; in recView.AddOnItemTouchListener(this)"}, {"owner": {"reputation": 10947, "user_id": 4094260, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/A5fz9.jpg?s=128&g=1", "display_name": "Nongthonbam Tonthoi", "link": "https://stackoverflow.com/users/4094260/nongthonbam-tonthoi"}, "reply_to_user": {"reputation": 11, "user_id": 8761788, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/486b8256bee9b3a3fd615e9632ab8965?s=128&d=identicon&r=PG&f=1", "display_name": "Gold", "link": "https://stackoverflow.com/users/8761788/gold"}, "edited": false, "score": 1, "creation_date": 1509011505, "post_id": 46943326, "comment_id": 80849319, "body": "@Gold there is a difference between IOnTouchListener and RecyclerView.IOnItemTouchListener"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1509021869, "post_id": 46943326, "comment_id": 80856377, "body": "@NongthonbamTonthoi By <code>IOnTouchListener</code>, I assume you mean <code>View.IOnTouchListener</code>, right?"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "reply_to_user": {"reputation": 11, "user_id": 8761788, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/486b8256bee9b3a3fd615e9632ab8965?s=128&d=identicon&r=PG&f=1", "display_name": "Gold", "link": "https://stackoverflow.com/users/8761788/gold"}, "edited": false, "score": 0, "creation_date": 1509021943, "post_id": 46943326, "comment_id": 80856425, "body": "@Gold The point is to look at the fully qualified name of the two interfaces named <code>IOnTouchListener</code>. You will find that either the packages or containing classes (or both) differ"}, {"owner": {"reputation": 10947, "user_id": 4094260, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/A5fz9.jpg?s=128&g=1", "display_name": "Nongthonbam Tonthoi", "link": "https://stackoverflow.com/users/4094260/nongthonbam-tonthoi"}, "edited": false, "score": 0, "creation_date": 1509021954, "post_id": 46943326, "comment_id": 80856432, "body": "Yes <code>View.IOnTouchListener</code>"}], "tags": [], "owner": {"reputation": 10947, "user_id": 4094260, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/A5fz9.jpg?s=128&g=1", "display_name": "Nongthonbam Tonthoi", "link": "https://stackoverflow.com/users/4094260/nongthonbam-tonthoi"}, "is_accepted": false, "score": 2, "last_activity_date": 1509021694, "last_edit_date": 1509021694, "creation_date": 1508972602, "answer_id": 46943326, "question_id": 46942980, "link": "https://stackoverflow.com/questions/46942980/why-i-can-not-use-this-in-addonitemtouchlistener-in-another-activity/46943326#46943326", "title": "Why I can not use &quot;this&quot; in AddOnItemTouchListener in another activity", "body": "<p>You can try this:</p>\n\n<pre><code>using Android.Support.V7.Widget;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>RecyclerView recView;\n//...\n//...\nrecView.AddOnItemTouchListener(new MyListener());\n</code></pre>\n\n<p>Now <code>MyListener</code> (which can be inside the same activity class) :</p>\n\n<pre><code>public class MyListener : Java.Lang.Object, RecyclerView.IOnItemTouchListener\n{\n    public MyListener()\n    {\n        //pass data if you want\n    }\n    public bool OnInterceptTouchEvent(RecyclerView recyclerView, MotionEvent @event)\n    {\n        //code here\n    }\n    public void OnRequestDisallowInterceptTouchEvent(bool disallow)\n    {\n        //code here\n    }\n    public void OnTouchEvent(RecyclerView recyclerView, MotionEvent @event)\n    {\n        //code here\n    }\n}\n</code></pre>\n\n<p>You can remove <code>IOnTouchListener</code> from the top as:</p>\n\n<pre><code>public class ContactsFragment : SupportFragment\n</code></pre>\n\n<p>It should work.</p>\n\n<p><strong>Edit:</strong></p>\n\n<blockquote>\n  <p>it is not valid type in given context</p>\n</blockquote>\n\n<p>Because you are doing :</p>\n\n<pre><code>public class ContactsFragment : SupportFragment, IOnTouchListener\n</code></pre>\n\n<p>instead of :</p>\n\n<pre><code>public class ContactsFragment : SupportFragment, RecyclerView.IOnItemTouchListener\n</code></pre>\n\n<p>and implement the methods:</p>\n\n<pre><code>public bool OnInterceptTouchEvent(RecyclerView recyclerView, MotionEvent @event)\n{\n    //code here\n}\npublic void OnRequestDisallowInterceptTouchEvent(bool disallow)\n{\n    //code here\n}\npublic void OnTouchEvent(RecyclerView recyclerView, MotionEvent @event)\n{\n    ////code here\n}\n</code></pre>\n\n<p>See <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.OnItemTouchListener.html\" rel=\"nofollow noreferrer\">RecyclerView.OnItemTouchListener</a> and <a href=\"https://developer.android.com/reference/android/view/View.OnTouchListener.html\" rel=\"nofollow noreferrer\">View.OnTouchListener</a></p>\n"}], "owner": {"reputation": 11, "user_id": 8761788, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/486b8256bee9b3a3fd615e9632ab8965?s=128&d=identicon&r=PG&f=1", "display_name": "Gold", "link": "https://stackoverflow.com/users/8761788/gold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509021694, "creation_date": 1508970355, "last_edit_date": 1508975144, "question_id": 46942980, "link": "https://stackoverflow.com/questions/46942980/why-i-can-not-use-this-in-addonitemtouchlistener-in-another-activity", "title": "Why I can not use &quot;this&quot; in AddOnItemTouchListener in another activity", "body": "<p>I have <code>public class ContactsFragment : SupportFragment, IOnTouchListener</code>. \nHere is code inside of <code>ContactsFragment</code>:</p>\n\n<pre><code>{\n    public Android.Support.V7.Widget.RecyclerView recView;\n    ...\n    recView.AddOnItemTouchListener(this);\n}\n</code></pre>\n\n<p>So when I tried to put \"<code>this</code>\" inside of <strong><code>recView.AddOnItemTouchListener(this)</code></strong>, it always give me error </p>\n\n<blockquote>\n  <p>it is not valid type in given context</p>\n</blockquote>\n"}, {"tags": ["c#", ".net", "winforms", "asynchronous"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 3, "creation_date": 1508970150, "post_id": 46942934, "comment_id": 80833304, "body": "I&#39;m surprised this even works.  You&#39;re executing <code>Form1.FileList.AddRange</code> from a <code>Task.Run()</code> which is on a different thread.  So I&#39;d assume you&#39;re thread deadlocking your own application.  What is FileList?"}, {"owner": {"reputation": 59, "user_id": 8834323, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lfawr1IM9PU/AAAAAAAAAAI/AAAAAAAAEHI/fuhBDkwXvXo/photo.jpg?sz=128", "display_name": "zirr", "link": "https://stackoverflow.com/users/8834323/zirr"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 1, "creation_date": 1508970290, "post_id": 46942934, "comment_id": 80833350, "body": "FileList is a static list&lt;string&gt;. It&#39;s static so I can add to it from FileParser.cs (I realise this is probably a completely idiotic way of doing it, but I wouldn&#39;t know how to go about changing it.)"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 1, "creation_date": 1508970375, "post_id": 46942934, "comment_id": 80833385, "body": "In this case, because you are <code>await</code> (literally waiting) for <code>ScanFilesTask()</code> to complete, it&#39;s blocking the UI thread."}, {"owner": {"reputation": 59, "user_id": 8834323, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lfawr1IM9PU/AAAAAAAAAAI/AAAAAAAAEHI/fuhBDkwXvXo/photo.jpg?sz=128", "display_name": "zirr", "link": "https://stackoverflow.com/users/8834323/zirr"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1508970765, "post_id": 46942934, "comment_id": 80833525, "body": "Thank you! It is working now - I moved the fileparsing logic inside the task, and it runs as expected. I really appreciate it!"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1508970864, "post_id": 46942934, "comment_id": 80833550, "body": "Not quite!  I&#39;m answering your question, with the best practices."}], "answers": [{"comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1508972303, "post_id": 46943121, "comment_id": 80834015, "body": "I would note that I should update this to avoid accessing the <code>_osu*</code> variables from inside the <code>Task.Run()</code>."}, {"owner": {"reputation": 59, "user_id": 8834323, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lfawr1IM9PU/AAAAAAAAAAI/AAAAAAAAEHI/fuhBDkwXvXo/photo.jpg?sz=128", "display_name": "zirr", "link": "https://stackoverflow.com/users/8834323/zirr"}, "edited": false, "score": 0, "creation_date": 1509050973, "post_id": 46943121, "comment_id": 80874907, "body": "Hi - Thank you a lot for the help. However, I ran into a problem.  Trying to do this  <code>.ContinueWith&lt;IEnumerable&lt;string&gt;&gt;((files) =&gt; {FileList.AddRange(files);BeginScanButton.Enabled = true;},TaskScheduler.FromCurrentSynchronizationContext());</code>  .  gives the error <code>&#39;Cannot resolve method ContinueWith(lambda expression System.Threading.Tasks.Taskscheduler)&#39;,</code>   I had a look myself, and I couldn&#39;t decode this error. Any clarification would be greatly appreciated."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "reply_to_user": {"reputation": 59, "user_id": 8834323, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lfawr1IM9PU/AAAAAAAAAAI/AAAAAAAAEHI/fuhBDkwXvXo/photo.jpg?sz=128", "display_name": "zirr", "link": "https://stackoverflow.com/users/8834323/zirr"}, "edited": false, "score": 0, "creation_date": 1509052272, "post_id": 46943121, "comment_id": 80875554, "body": "Updated.  I haven&#39;t used ContinueWith for a while, which passes the completed task into the Lamba."}, {"owner": {"reputation": 59, "user_id": 8834323, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lfawr1IM9PU/AAAAAAAAAAI/AAAAAAAAEHI/fuhBDkwXvXo/photo.jpg?sz=128", "display_name": "zirr", "link": "https://stackoverflow.com/users/8834323/zirr"}, "edited": false, "score": 0, "creation_date": 1509052756, "post_id": 46943121, "comment_id": 80875754, "body": "It seems I may be missing something. I am getting the same error, <a href=\"https://i.imgur.com/Fkkvrlq.png\" rel=\"nofollow noreferrer\">this one</a>."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "reply_to_user": {"reputation": 59, "user_id": 8834323, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lfawr1IM9PU/AAAAAAAAAAI/AAAAAAAAEHI/fuhBDkwXvXo/photo.jpg?sz=128", "display_name": "zirr", "link": "https://stackoverflow.com/users/8834323/zirr"}, "edited": false, "score": 0, "creation_date": 1509053292, "post_id": 46943121, "comment_id": 80875985, "body": "Can you copy just the <code>.ContinueWith()</code> to pastebin?"}, {"owner": {"reputation": 59, "user_id": 8834323, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lfawr1IM9PU/AAAAAAAAAAI/AAAAAAAAEHI/fuhBDkwXvXo/photo.jpg?sz=128", "display_name": "zirr", "link": "https://stackoverflow.com/users/8834323/zirr"}, "edited": false, "score": 0, "creation_date": 1509053979, "post_id": 46943121, "comment_id": 80876248, "body": "Actually - it seems like the error might be in the <code>=&gt;</code> part, as attempting to build it only gives me the error <code>Not all code paths return a value in lambda expression of type &#39;Func&lt;Task&lt;List&lt;string&gt;&gt;, IEnumerable&lt;string&gt;&gt;&#39;</code>"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "reply_to_user": {"reputation": 59, "user_id": 8834323, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lfawr1IM9PU/AAAAAAAAAAI/AAAAAAAAEHI/fuhBDkwXvXo/photo.jpg?sz=128", "display_name": "zirr", "link": "https://stackoverflow.com/users/8834323/zirr"}, "edited": false, "score": 0, "creation_date": 1509054736, "post_id": 46943121, "comment_id": 80876563, "body": "Oh my, I didn&#39;t need the generic <code>ContinueWith()</code>  try now (updated answer)."}], "tags": [], "owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "is_accepted": true, "score": 1, "last_activity_date": 1509054641, "last_edit_date": 1509054641, "creation_date": 1508971341, "answer_id": 46943121, "question_id": 46942934, "link": "https://stackoverflow.com/questions/46942934/issues-with-async-blocking-gui-thread-winforms/46943121#46943121", "title": "Issues with async blocking GUI thread, WinForms", "body": "<p>Things to read:</p>\n\n<p><a href=\"https://blog.stephencleary.com/2013/10/taskrun-etiquette-and-proper-usage.html\" rel=\"nofollow noreferrer\">Task.Run Etiquette and Proper Usage</a></p>\n\n<p><a href=\"https://blog.stephencleary.com/2013/05/taskrun-vs-backgroundworker-round-1.html\" rel=\"nofollow noreferrer\">Task.Run vs BackgroundWorker, Round 1: The Basic Pattern</a></p>\n\n<p><a href=\"https://blog.stephencleary.com/2014/04/a-tour-of-task-part-0-overview.html\" rel=\"nofollow noreferrer\">A Tour of Task, Part 0: Overview</a></p>\n\n<p>Excerpt:</p>\n\n<blockquote>\n  <ul>\n  <li><p>Developers who have used Task and the TPL (Task Parallel Library) since it was introduced in .NET 4.0. These developers are familiar with Task and how it is used in parallel processing. The danger that these developers face is that Task (as it is used by the TPL) is pretty much completely different than Task (as it is used by async).</p></li>\n  <li><p>Developers who have never heard of Task until async came along. To them, Task is just a part of async - one more (fairly complicated) thing to learn. \u201cContinuation\u201d is a foreign word. The danger that these developers face is assuming that every member of Task is applicable to async programming, which is most certainly not the case.</p></li>\n  </ul>\n</blockquote>\n\n<p>There is no point in Async, what you want is to run things in Parallel.  They are extremely different.  What you're looking for is:</p>\n\n<p>button:</p>\n\n<pre><code>private void BeginScanButton_Click(object sender, EventArgs e)\n{\n    BeginScanButton.Enabled = false;\n    if (_osuDirectory == null)\n        MessageBox.Show(\"You have not chosen an Osu! directory yet.\");\n        BeginScanButton.Enabled = false;\n    else\n    {\n        ScanFilesInParallel();\n    }\n}\n</code></pre>\n\n<p>ScanFiles</p>\n\n<pre><code>private void ScanFilesInParallel()\n{\n    FileList.Clear();\n    Task.Run(() =&gt;\n    {\n      var result = new List&lt;string&gt;();\n\n      if (_jpgFilesChecked)\n        result.AddRange(FileParser.ParseFiles(_osuDirectory, \"*.jpg\"));\n      if (_pngFilesChecked)\n        result.AddRange(FileParser.ParseFiles(_osuDirectory, \"*.png\"));\n      if (_wavFilesChecked)\n        result.AddRange(FileParser.ParseFiles(_osuDirectory, \"*.wav\"));\n      if (_aviFilesChecked)\n        result.AddRange(FileParser.ParseFiles(_osuDirectory, \".avi\"));\n\n      return result;\n     })\n     .ContinueWith((task) =&gt; {\n       FileList.AddRange(task.Result);\n       BeginScanButton.Enabled = true;\n     }, TaskScheduler.FromCurrentSynchronizationContext());\n}\n</code></pre>\n\n<p>ParseFiles</p>\n\n<pre><code>public IEnumerable&lt;string&gt; ParseFiles(string dir, string extension)\n{\n  var result = Directory.GetFiles(dir, extension, SearchOption.AllDirectories).ToList();\n\n  return result;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "is_accepted": false, "score": 0, "last_activity_date": 1508977525, "creation_date": 1508977525, "answer_id": 46943979, "question_id": 46942934, "link": "https://stackoverflow.com/questions/46942934/issues-with-async-blocking-gui-thread-winforms/46943979#46943979", "title": "Issues with async blocking GUI thread, WinForms", "body": "<p>Just to give you an alternative that I think reads a little better; try using Microsoft's Reactive Framework.</p>\n\n<p>Then you can do this:</p>\n\n<pre><code>private async void BeginScanButton_Click(object sender, EventArgs e)\n{\n    if (_osuDirectory == null)\n        MessageBox.Show(\"You have not chosen an Osu! directory yet.\");\n    else\n    {\n        var exts = new[]\n        {\n            _jpgFilesChecked ? \"*.jpg\" : null,\n            _pngFilesChecked ? \"*.png\" : null,\n            _wavFilesChecked ? \"*.wav\" : null,\n            _aviFilesChecked ? \"*.avi\" : null,\n        }.Where(x =&gt; x != null);\n\n        var query =\n            from ext in exts.ToObservable()\n            from fs in Observable.Start(() =&gt; FileParser.ParseFiles(_osuDirectory, ext))\n            from f in fs\n            select f;\n\n        var files = await query.ToArray();\n\n        FileList.AddRange(files);\n    }\n}\n\npublic static class FileParser\n{\n    public static string[] ParseFiles(string dir, string extension)\n    {\n        return Directory.GetFiles(dir, extension, SearchOption.AllDirectories);\n    }\n}\n</code></pre>\n\n<p>It's all processed in parallel and it completes on the UI thread.</p>\n\n<p>NuGet \"System.Reactive\", \"System.Reactive.Windows.Forms\" and/or \"System.Reactive.Windows.Threading\" (WPF) to get the bits.</p>\n"}], "owner": {"reputation": 59, "user_id": 8834323, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lfawr1IM9PU/AAAAAAAAAAI/AAAAAAAAEHI/fuhBDkwXvXo/photo.jpg?sz=128", "display_name": "zirr", "link": "https://stackoverflow.com/users/8834323/zirr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "accepted_answer_id": 46943121, "answer_count": 2, "score": -1, "last_activity_date": 1509054641, "creation_date": 1508969997, "question_id": 46942934, "link": "https://stackoverflow.com/questions/46942934/issues-with-async-blocking-gui-thread-winforms", "title": "Issues with async blocking GUI thread, WinForms", "body": "<p>I am having a strange issue with code that <em>should</em> work (to my best understanding), but it doesn't.</p>\n\n<p>I have a windows forms application. It has a button that scans through a selected directory, which can result in a very high amount of files found. When scanning ~50k files, it took about 10 seconds. </p>\n\n<p>I tried to implement async, to run the file scanning itself asynchronously to the main GUI, however this is causing trouble. The task itself runs fine, but it still blocks the GUI, resulting in freezing the whole application.</p>\n\n<p>This is the code I have for the button</p>\n\n<pre><code>private async void BeginScanButton_Click(object sender, EventArgs e)\n    {\n        if (_osuDirectory == null)\n            MessageBox.Show(\"You have not chosen an Osu! directory yet.\");\n        else\n        {\n            await ScanFilesTask();\n        }\n</code></pre>\n\n<p>There is a lot more but this is the relevant part of it.</p>\n\n<p>The task itself is</p>\n\n<pre><code> private Task ScanFilesTask()\n    {\n        FileList.Clear();\n            return Task.Run(() =&gt;\n            {\n                if (_jpgFilesChecked)\n                    FileParser.ParseFiles(_osuDirectory, \"*.jpg\");\n                if (_pngFilesChecked)\n                    FileParser.ParseFiles(_osuDirectory, \"*.png\");\n                if (_wavFilesChecked)\n                    FileParser.ParseFiles(_osuDirectory, \"*.wav\");\n                if (_aviFilesChecked)\n                    FileParser.ParseFiles(_osuDirectory, \".avi\");\n            });\n    }\n</code></pre>\n\n<p>And finally, the FileParser class is just</p>\n\n<pre><code>        public static void ParseFiles(string dir, string extension)\n        {\n            Form1.FileList.AddRange(Directory.GetFiles(dir, extension, SearchOption.AllDirectories));\n        }\n</code></pre>\n\n<p>(All of the code is up on a <a href=\"https://github.com/zirriously/OsuDeleter\" rel=\"nofollow noreferrer\" title=\"github repo\">github repo</a> if anyone wants to have a look. The relevant async code is in the AsyncTest branch.) </p>\n\n<p>Any help here would be very much appreciated. This is my first real C# project, and would very much appreciate any pointers in the right direction. Thanks in advance!</p>\n"}, {"tags": ["c#", "entity-framework", "linq", "optimization", "entity-framework-6"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1508974583, "post_id": 46942916, "comment_id": 80834661, "body": "What SQL does EF generate for each of the 3 alternatives?"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1508975970, "post_id": 46942916, "comment_id": 80835028, "body": "Do you have indexes in your database for the <code>StartDate</code> and <code>EndDate</code> columns?"}, {"owner": {"reputation": 1610, "user_id": 1842261, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0e47affe0b5b8143a52c6cd694abe6e8?s=128&d=identicon&r=PG", "display_name": "hbulens", "link": "https://stackoverflow.com/users/1842261/hbulens"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1508978268, "post_id": 46942916, "comment_id": 80835560, "body": "@NetMage No I don&#39;t. After having added them I don&#39;t see any noticable difference. Not surprising though as almost all records have distinct values. Maybe I can index on new Date columns which are basically date-only values from the start and end date columns. That should give better results but I don&#39;t know about the overhead of the two extra columns in the table (which already has too many columns imo)."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1509033923, "post_id": 46942916, "comment_id": 80865262, "body": "I doubt if a date only column/index would make a difference. I begin to wonder if the application of the filter is doing something to slow everything down, and not the filter itself. Can you show the calling/using code?"}, {"owner": {"reputation": 1610, "user_id": 1842261, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0e47affe0b5b8143a52c6cd694abe6e8?s=128&d=identicon&r=PG", "display_name": "hbulens", "link": "https://stackoverflow.com/users/1842261/hbulens"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1509117132, "post_id": 46942916, "comment_id": 80904029, "body": "@NetMage There&#39;s nothing fancy going on in the calling code. I&#39;ve got a web api that takes the three parameters and passes them on to the service layer (which is resolved by the DI container in the api controller). The only thing that happens here is the construction of the filter (see above), invoking the repository and mapping the (projected) entities to DTO objects. Part of the performance hit is because of the complex and deep graph but that&#39;s not something I can do anything about for now. The same process is used for all other endpoints and there are no performance problems there."}], "owner": {"reputation": 1610, "user_id": 1842261, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0e47affe0b5b8143a52c6cd694abe6e8?s=128&d=identicon&r=PG", "display_name": "hbulens", "link": "https://stackoverflow.com/users/1842261/hbulens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 480, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508970167, "creation_date": 1508969852, "last_edit_date": 1508970167, "question_id": 46942916, "link": "https://stackoverflow.com/questions/46942916/optimizing-date-comparison-query-in-entity-framework", "title": "Optimizing date comparison query in Entity Framework", "body": "<p>I am trying to optimize one of our most important queries and I would like to have some extra insights on how Entity Framework translates certain LINQ expressions. </p>\n\n<p>I am using the repository pattern so my service layer (where I define my queries) is unaware of the actual data layer, which (currently) limits me to using only Where statements. Using joins and other constructs may help but that would require a rewrite of certain parts of the application. I'd like to exhaust all other options first before considering that.</p>\n\n<p>I have come up with 3 variants of my query:</p>\n\n<pre><code>// Takes about 1900-2200ms for 120 records \npublic Expression&lt;Func&lt;Appointment, bool&gt;&gt; FilterByResources(DateTime startDate, DateTime endDate, IEnumerable&lt;int&gt; resourceIds)\n    {\n        // Appointments are filtered on the scheduler's start date, end date and the resources in the current page            \n        Expression&lt;Func&lt;Appointment, bool&gt;&gt; filter = (x) =&gt; x.Assignments.Any(z =&gt; resourceIds.Contains(z.ResourceId))\n        &amp;&amp;\n        // Appointment starts somewhere between the start and end date\n        ((DbFunctions.TruncateTime(x.StartDate).Value &gt;= startDate &amp;&amp; DbFunctions.TruncateTime(x.StartDate).Value &lt;= endDate) ||\n\n         // Appointment started earlier than start date but ends earlier than end date\n         (DbFunctions.TruncateTime(x.EndDate).Value &gt;= startDate &amp;&amp; DbFunctions.TruncateTime(x.EndDate).Value &lt;= endDate) ||\n\n         // Appointment starts and ends outside the boundaries\n         (DbFunctions.TruncateTime(x.StartDate).Value &lt;= startDate &amp;&amp; DbFunctions.TruncateTime(x.EndDate).Value &gt;= endDate));\n\n        return filter;\n}\n</code></pre>\n\n<p>Alternative #2:</p>\n\n<pre><code>// Takes about 2100ms for 120 records\npublic Expression&lt;Func&lt;Appointment, bool&gt;&gt; FilterByResources2(DateTime startDate, DateTime endDate, IEnumerable&lt;int&gt; resourceIds)\n{\n        DateTime truncatedStartDate = startDate.Date;\n        DateTime truncatedEndDate = endDate.EndOfDay(); // Extension method that formats the time to 23:59:59\n\n        // Appointments are filtered on the scheduler's start date, end date and the resources in the current page            \n        Expression&lt;Func&lt;Appointment, bool&gt;&gt; filter = (x) =&gt; x.Assignments.Any(z =&gt; resourceIds.Contains(z.ResourceId)) &amp;&amp; (\n         (x.StartDate &gt;= truncatedStartDate &amp;&amp; x.StartDate &lt;= truncatedEndDate) || // Appointment starts somewhere between the start and end date             \n         (x.EndDate &gt;= truncatedStartDate &amp;&amp; x.EndDate &lt;= truncatedEndDate) || // Appointment started earlier than start date but ends earlier than end date             \n         (x.StartDate &lt;= truncatedStartDate &amp;&amp; x.EndDate &gt;= truncatedEndDate) // Appointment starts and ends outside the boundaries\n        );\n\n        return filter;\n}\n</code></pre>\n\n<p>Alternative 3: </p>\n\n<pre><code>// Takes about 1900ms for 120 records\npublic Expression&lt;Func&lt;Appointment, bool&gt;&gt; FilterByResources(DateTime startDate, DateTime endDate, IEnumerable&lt;int&gt; resourceIds)\n{\n        DateTime truncatedStartDate = startDate.Date;\n        DateTime truncatedEndDate = endDate.EndOfDay(); // Extension method that formats the time to 23:59:59\n\n        // Appointments are filtered on the scheduler's start date, end date and the resources in the current page            \n        Expression&lt;Func&lt;Appointment, bool&gt;&gt; filter = (x) =&gt; x.Assignments.Any(z =&gt; resourceIds.Contains(z.ResourceId)) &amp;&amp; (\n         (x.StartDate.CompareTo(truncatedStartDate) &gt;= 0 &amp;&amp; x.StartDate.CompareTo(truncatedEndDate) &lt;= 0) || // Appointment starts somewhere between the start and end date             \n         (x.EndDate.CompareTo(truncatedStartDate) &gt;= 0 &amp;&amp; x.EndDate.CompareTo(truncatedEndDate) &lt;= 0) || // Appointment started earlier than start date but ends earlier than end date             \n         (x.StartDate.CompareTo(truncatedStartDate) &lt;= 0 &amp;&amp; x.EndDate.CompareTo(truncatedEndDate) &gt;= 0) // Appointment starts and ends outside the boundaries\n        );\n\n        return filter;\n}\n</code></pre>\n\n<p>A little explanation about this query: This query retrieves a list of appointments for a number of resources (i.e. people) between two dates. Because of that range, I need to include those records that start earlier, finish later or last longer than the range (hence the 3 expressions).</p>\n\n<p>I tried switching the order of the expressions but the results remain stable. On average it takes between 1800ms and 2200ms for the entire web api call (I use postman for my tests)</p>\n\n<p>So my question is how this query can be optimized? I think the date comparison expressions take the longest time but it may as well be the Any/Contains combination that slows down the query.</p>\n"}, {"tags": ["c#", "winforms", "visual-studio-2012"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1508971438, "post_id": 46942892, "comment_id": 80833745, "body": "How did you add these files to the project?  Is the designer.cs file shown as a sub-item of the form.cs file?"}, {"owner": {"reputation": 175, "user_id": 2653720, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/21f3af91c6025d95d4707da69a50332a?s=128&d=identicon&r=PG", "display_name": "marcelo", "link": "https://stackoverflow.com/users/2653720/marcelo"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1509008539, "post_id": 46942892, "comment_id": 80847139, "body": "Add existing item, navigated to the test project folder and selecting them. No, the designer.cs is not showing as a subitem; it shows as a separate item."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1509009818, "post_id": 46942892, "comment_id": 80848124, "body": "<a href=\"https://stackoverflow.com/questions/34010675/is-there-a-way-to-rebind-associate-a-designer-file-with-its-cs-file\" title=\"is there a way to rebind associate a designer file with its cs file\">stackoverflow.com/questions/34010675/&hellip;</a>"}, {"owner": {"reputation": 175, "user_id": 2653720, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/21f3af91c6025d95d4707da69a50332a?s=128&d=identicon&r=PG", "display_name": "marcelo", "link": "https://stackoverflow.com/users/2653720/marcelo"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1509015619, "post_id": 46942892, "comment_id": 80852039, "body": "May be it would be better to copy the entire folder (project included) and then add an existing project?"}, {"owner": {"reputation": 175, "user_id": 2653720, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/21f3af91c6025d95d4707da69a50332a?s=128&d=identicon&r=PG", "display_name": "marcelo", "link": "https://stackoverflow.com/users/2653720/marcelo"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1509017403, "post_id": 46942892, "comment_id": 80853225, "body": "Followed your link&#180;s recipe and it works! Thank you!"}, {"owner": {"reputation": 175, "user_id": 2653720, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/21f3af91c6025d95d4707da69a50332a?s=128&d=identicon&r=PG", "display_name": "marcelo", "link": "https://stackoverflow.com/users/2653720/marcelo"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1509029908, "post_id": 46942892, "comment_id": 80862654, "body": "I will put as an answer the tip Hans Passant gave me: <a href=\"https://stackoverflow.com/questions/34010675/is-there-a-way-to-rebind-associate-a-designer-file-with-its-cs-file\" title=\"is there a way to rebind associate a designer file with its cs file\">stackoverflow.com/questions/34010675/&hellip;</a>"}], "owner": {"reputation": 175, "user_id": 2653720, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/21f3af91c6025d95d4707da69a50332a?s=128&d=identicon&r=PG", "display_name": "marcelo", "link": "https://stackoverflow.com/users/2653720/marcelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508969730, "creation_date": 1508969730, "question_id": 46942892, "link": "https://stackoverflow.com/questions/46942892/visual-studio-2013-designer-shows-an-empty-form-but-on-runtime-it%c2%b4s-ok", "title": "Visual Studio 2013 designer shows an empty form, but on runtime it&#180;s ok", "body": "<p>I copied two forms (and the corresponding .designer files, of course) from a test project to the definitive location. Changed namespaces and the like.\nThe resulting app runs as expected; both forms are shown with all its controls and behavior. \nLater, I needed to work on one of the forms, to add some controls to it.\nBut the designer shows it as a virgin Form, default size included, no controls, etc. Nevertheless, both .designer.cs files have all the controls defined, initialized, some event handlers in place, etc\nI closed and reopened the solution, at no avail. \nCould someone help? If to add some controls to one of the forms a would need to entirely recreate it, it\u00b4s crazy. \nTIA</p>\n"}, {"tags": ["c#", "json"], "comments": [{"owner": {"reputation": 391, "user_id": 4872099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb364272966c092f667b6e280ad1aa2?s=128&d=identicon&r=PG&f=1", "display_name": "harandk", "link": "https://stackoverflow.com/users/4872099/harandk"}, "edited": false, "score": 0, "creation_date": 1508970300, "post_id": 46942871, "comment_id": 80833356, "body": "<code>string output = JsonConvert.SerializeObject(yourobject);</code> does that?!? The json representation reflects your class composition, that&#39;s the job"}], "answers": [{"tags": [], "owner": {"reputation": 371, "user_id": 3158482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a85b72b612d04718f123a2246bc608a?s=128&d=identicon&r=PG&f=1", "display_name": "mhenkel", "link": "https://stackoverflow.com/users/3158482/mhenkel"}, "is_accepted": false, "score": 4, "last_activity_date": 1508971249, "creation_date": 1508971249, "answer_id": 46943105, "question_id": 46942871, "link": "https://stackoverflow.com/questions/46942871/convert-c-classes-to-json/46943105#46943105", "title": "Convert C# classes to Json", "body": "<p>I am guessing you are using JSON.net.\nIf not you can get it over the Nuget-Packet Manager.</p>\n\n<p>You called your class \"Contacts\" are you wanting to have more than one contact? If yes, you might want to use a List on the RootObject.</p>\n\n<p>Now if you use:</p>\n\n<pre><code>var data = new Rootobject();\nvar dataString = JsonConvert.SerializeObject(data);\n</code></pre>\n\n<p>You have all your data in a string as requested. From here you could write it to a file.\nIf you want to change the data and read it again you would use something along this:</p>\n\n<pre><code>Rootobject data2 = JsonConvert.DeserializeObject&lt;Rootobject&gt;(dataString);\n</code></pre>\n\n<p>Now you could display the data somewhere or could change it through any input controls. (Website / Windows Form / XAML / Console ...)</p>\n\n<p>Any other things you could find at the official documentation for json.net (<a href=\"https://www.newtonsoft.com/json\" rel=\"nofollow noreferrer\">https://www.newtonsoft.com/json</a>)</p>\n\n<p>Otherwise your question is way too generic.</p>\n"}, {"tags": [], "owner": {"reputation": 364, "user_id": 7825830, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/lZxLx.png?s=128&g=1", "display_name": "Nii", "link": "https://stackoverflow.com/users/7825830/nii"}, "is_accepted": false, "score": 0, "last_activity_date": 1508980835, "creation_date": 1508980835, "answer_id": 46944378, "question_id": 46942871, "link": "https://stackoverflow.com/questions/46942871/convert-c-classes-to-json/46944378#46944378", "title": "Convert C# classes to Json", "body": "<p>As an alternative to <code>JSON.Net</code> you can also use one from <code>System.Web.Extensions</code> namespace:</p>\n\n<pre><code>using System.Web.Extensions;\n\n\npublic string SerializeClassToJSON(object baseClass)\n{\n    var jSerializer = new JavascriptSerializer();\n    var jsonString = jSerializer.Serialize(baseClass);\n\n    return jsonString;\n}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 7401153, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/89MNS.jpg?s=128&g=1", "display_name": "Carlos.Net", "link": "https://stackoverflow.com/users/7401153/carlos-net"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8488, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1508980835, "creation_date": 1508969608, "question_id": 46942871, "link": "https://stackoverflow.com/questions/46942871/convert-c-classes-to-json", "title": "Convert C# classes to Json", "body": "<p>How do i serialize multiple c# classes to one json string using . Be able to make the variables in the json data hold values that can change</p>\n\n<p>string outputJSON = JsonConvert.SerializeObject();</p>\n\n<p>i have the following classes </p>\n\n<pre><code> public class Rootobject\n    {\n    public string Number { get; set; }\n        public string RequestedDeviceType { get; set; }\n        public string DeliveryMethod { get; set; }\n        public Customer Customer { get; set; }\n        public Vehicle Vehicle { get; set; }\n    }\n\n    public class Customer\n    {\n        public Contacts Contacts { get; set; }\n        public string Name { get; set; }\n        public string Number { get; set; }\n        public bool OverrideData { get; set; }\n    }\n\n    public class Contacts\n    {\n        public string FirstName { get; set; }\n        public string Name { get; set; }\n        public string Email { get; set; }\n        public string City { get; set; }\n        public string Address { get; set; }\n        public string MobilePhone { get; set; }\n    }\n\n    public class Vehicle\n    {\n        public string VIN { get; set; }\n        public string MakeModelCode { get; set; }\n        public string LicensePlate { get; set; }\n        public string Make { get; set; }\n        public string Model { get; set; }\n        public int YearOfInitialRegistration { get; set; }\n        public string MotorType { get; set; }\n        public bool OverrideData { get; set; }\n    }\n\n}\n</code></pre>\n\n<p>They must serialize to the following structure of json structure and i must be able to capture user input and set the values into json file</p>\n\n<pre><code>{\n  \"Number\": \"xTest\",\n  \"RequestedDeviceType\": \"XXXX\",\n  \"DeliveryMethod\": \"XXXX\",\n  \"Customer\": {\n    \"Contacts\": {\n\n      \"FirstName\": \"John\",\n      \"Name\": \"Doe\",\n      \"Email\": \"mail@demo.com\",\n      \"City\": \"Harare\",\n      \"Address\": \"XXXXX\",\n      \"MobilePhone\": \"00000000\"\n\n    },\n    \"Name\": \"Peter Chaneta\",\n    \"Number\": \"4567865678\",\n    \"OverrideData\": true\n  },\n  \"Vehicle\": {\n    \"VIN\": \"weryts55444554\",\n    \"MakeModelCode\": \"34010\",\n    \"LicensePlate\": \"SS 100 GP\",\n    \"Make\": \"RANGE ROVER\",\n    \"Model\": \"SPORT\",\n    \"YearOfInitialRegistration\": 2016,\n    \"MotorType\": \"Petrol\",\n    \"OverrideData\": true\n  }\n}\n</code></pre>\n"}, {"tags": ["c#", "sqlite", "dapper", "dapper-contrib"], "comments": [{"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 3, "creation_date": 1509731287, "post_id": 46942845, "comment_id": 81153378, "body": "Maybe you just need to use more &quot;heavy&quot; ORM like Entity Framework where such things are already implemented?"}, {"owner": {"reputation": 124, "user_id": 1572750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KnQsa.jpg?s=128&g=1", "display_name": "Bruce Burge", "link": "https://stackoverflow.com/users/1572750/bruce-burge"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1509739188, "post_id": 46942845, "comment_id": 81157533, "body": "Unfortunately, the requirements at hand make entity unlikely, vs2017, sqlite, and EF aren&#39;t playing well, and won&#39;t likely for quite sometime."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 2, "creation_date": 1509739521, "post_id": 46942845, "comment_id": 81157730, "body": "You mean EF provider for sqlite generates bad queries? And NHibernate? Because &quot;is to be able to use complex objects both for retrieval and for writing back to the database&quot; is all what &quot;heavy&quot; ORMs are about basically."}, {"owner": {"reputation": 124, "user_id": 1572750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KnQsa.jpg?s=128&g=1", "display_name": "Bruce Burge", "link": "https://stackoverflow.com/users/1572750/bruce-burge"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1509745922, "post_id": 46942845, "comment_id": 81160276, "body": "No, basically changes to visual studio 2017 design-time installer, have caused the sqlite team to at least for now, drop support for design-time components. Managing EF without them, internally for us, it was deemed more trouble than it&#39;s worth to implement without. <a href=\"https://system.data.sqlite.org/index.html/tktview?name=8292431f51\" rel=\"nofollow noreferrer\">link</a>  I will look into NHibernate if I can&#39;t get any other answers with Dapper."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1509960603, "post_id": 46942845, "comment_id": 81216877, "body": "As for me, designer support is not required. Theree is code-first, or you can scaffold your database to model classes of you don&#39;t like code first. Also EF core (which can be used in full .NET too) supports SQLite (no designer also though, but there is no designer support for EF Core at all out of the box and people still happily use it)."}, {"owner": {"reputation": 12242, "user_id": 5779732, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/UBIhA.jpg?s=128&g=1", "display_name": "Amit Joshi", "link": "https://stackoverflow.com/users/5779732/amit-joshi"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1510054239, "post_id": 46942845, "comment_id": 81262857, "body": "I do not see major design issue with what you are doing considering you are using Dapper.Contrib. If you have complex requirements, better consider switching to full ORM as suggested by @Evk. Refer <a href=\"https://stackoverflow.com/a/45460483/5779732\">this</a> answer that shows how I implemented repository with DapperExtensions."}, {"owner": {"reputation": 9920, "user_id": 7599833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74ae2f4b27f5f727270818eba261aa0b?s=128&d=identicon&r=PG", "display_name": "Helder Sepulveda", "link": "https://stackoverflow.com/users/7599833/helder-sepulveda"}, "edited": false, "score": 0, "creation_date": 1510061763, "post_id": 46942845, "comment_id": 81268074, "body": "If sqlite is not a &quot;must have&quot; requirement, Maybe you should consider a NOSQL database like UnQLite or MongoDb?"}], "answers": [{"comments": [{"owner": {"reputation": 2764, "user_id": 1278204, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6a7ab997c42f99015f3cb779987ab080?s=128&d=identicon&r=PG", "display_name": "advapi", "link": "https://stackoverflow.com/users/1278204/advapi"}, "edited": false, "score": 0, "creation_date": 1531923139, "post_id": 47255925, "comment_id": 89779335, "body": "Excuse me, I&#39;m in your exact situation...what have you pointed to after Dapper?"}, {"owner": {"reputation": 124, "user_id": 1572750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KnQsa.jpg?s=128&g=1", "display_name": "Bruce Burge", "link": "https://stackoverflow.com/users/1572750/bruce-burge"}, "reply_to_user": {"reputation": 2764, "user_id": 1278204, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6a7ab997c42f99015f3cb779987ab080?s=128&d=identicon&r=PG", "display_name": "advapi", "link": "https://stackoverflow.com/users/1278204/advapi"}, "edited": false, "score": 0, "creation_date": 1531933367, "post_id": 47255925, "comment_id": 89786082, "body": "Entity Framework, it too has its challenges and is a bit painful setting up with vs2017 but overall, it has worked for my needs."}], "tags": [], "owner": {"reputation": 124, "user_id": 1572750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KnQsa.jpg?s=128&g=1", "display_name": "Bruce Burge", "link": "https://stackoverflow.com/users/1572750/bruce-burge"}, "is_accepted": true, "score": 2, "last_activity_date": 1510536674, "creation_date": 1510536674, "answer_id": 47255925, "question_id": 46942845, "link": "https://stackoverflow.com/questions/46942845/inserting-and-multimapping-using-dapper-contrib/47255925#47255925", "title": "Inserting and MultiMapping using Dapper.Contrib", "body": "<p>Sadly, given how poor the response was to this question, and Dapper.Contrib questions in general. I've decided to dump Dapper and switch to an ORM that better suites my needs.  Thanks for all those that offered suggestions.</p>\n"}], "owner": {"reputation": 124, "user_id": 1572750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KnQsa.jpg?s=128&g=1", "display_name": "Bruce Burge", "link": "https://stackoverflow.com/users/1572750/bruce-burge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2805, "favorite_count": 0, "accepted_answer_id": 47255925, "answer_count": 1, "score": 3, "last_activity_date": 1510536674, "creation_date": 1508969471, "question_id": 46942845, "link": "https://stackoverflow.com/questions/46942845/inserting-and-multimapping-using-dapper-contrib", "title": "Inserting and MultiMapping using Dapper.Contrib", "body": "<p>What I am attempting to do, is to be able to use complex objects both for retrieval and for writing back to the database.</p>\n\n<p>For example, I have two classes</p>\n\n<pre><code>[Table(\"Children\")]\npublic class Child\n{\n    public int Id { get; set; }\n    public int ParentId { get; set; }\n    public string Data { get; set; }\n}\n\n[Table(\"Parents\")]\npublic class Parent\n{\n    public int Id { get; set; }\n    public string Data { get; set; }\n    public List&lt;Child&gt; Children { get; set; }\n\n    public Parent()\n    {\n        Children = new List&lt;Child&gt;();\n    }\n}\n</code></pre>\n\n<p>I populate the Parent object using the method below</p>\n\n<pre><code>public List&lt;Parent&gt; GetAll()\n{\n    var parents = new List&lt;Parent&gt;();\n    using (SQLiteConnection conn = new SQLiteConnection(sqlConnectionString))\n    {\n        string sql = $@\"\n        SELECT * From Parents;\n        SELECT * FROM Children;\n        ;\";\n\n        var results = conn.QueryMultiple(sql);\n        parents = results.Read&lt;Parent&gt;().ToList();\n        var children = results.Read&lt;Child&gt;();\n        foreach (var parent in parents)\n        {\n            parent.Children = children.Where(a =&gt; a.ParentId == parent.Id).ToList();\n        }\n    }\n  return parents;\n}\n</code></pre>\n\n<p>My Question now that I have my populated object, say I want to make changes to Parent including adding/updating/remove values from Parent.Children</p>\n\n<p>This is my first pass at an update method, but I recognize there are issues here, such as making the determination to update or insert based on the child Id being zero or not, as well as this being a bit verbose.</p>\n\n<p><strong>Is there way, and am I missing some functionality of Dapper or Dapper.Contrib that would provide helper methods to make this process easier?</strong></p>\n\n<pre><code>public bool Update(Parent parent)\n{\n    bool result = true;\n    using (SQLiteConnection conn = new SQLiteConnection(sqlConnectionString))\n    {\n        conn.Open();\n        using (var tran = conn.BeginTransaction())\n        {\n            try\n            {\n                if (!conn.Update&lt;Parent&gt;(parent))\n                {\n                    result = false;\n                }\n\n                foreach (var element in parent.Children)\n                {\n                    if (element.Id == default(int))\n                    {\n                        conn.Insert&lt;Child&gt;(element);\n                    }\n                    else\n                    {\n                        if (!conn.Update&lt;Child&gt;(element))\n                        {\n                            result = false;\n                        }\n                    }\n                }\n                tran.Commit();\n            }\n            catch(Exception ex)\n            {\n                //logger.Error(ex,\"error attempting update\");\n                tran.Rollback();\n                throw;\n            }\n        }\n    }\n\n    return result;\n}\n</code></pre>\n"}, {"tags": ["c#", "android", "unity3d", "scene-manager"], "comments": [{"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 1, "creation_date": 1508969604, "post_id": 46942810, "comment_id": 80833119, "body": "The first thing I would do is to create an empty scene and try to load it then see what happens. If it crashes too then use <a href=\"https://stackoverflow.com/questions/44690357/how-to-read-debug-log-when-using-android\">this</a> answer to get the log and post it in your question. The log is really important to solve your problem here"}], "answers": [{"comments": [{"owner": {"reputation": 9668, "user_id": 1429487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/57fe7ba5bccd866ab2d9536243a8a25a?s=128&d=identicon&r=PG", "display_name": "Everts", "link": "https://stackoverflow.com/users/1429487/everts"}, "edited": false, "score": 0, "creation_date": 1509030149, "post_id": 46950892, "comment_id": 80862829, "body": "Valuable answer. Though it raises the question, shouldn&#39;t you make the build smaller?"}, {"owner": {"reputation": 973, "user_id": 4030305, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/01abc30ddd5340fff55b9bb20c19904c?s=128&d=identicon&r=PG", "display_name": "Angel Todorov", "link": "https://stackoverflow.com/users/4030305/angel-todorov"}, "edited": false, "score": 0, "creation_date": 1574963680, "post_id": 46950892, "comment_id": 104422291, "body": "@iOSTony - I have exactly the same problem - once the script reaches <code>SceneManager.LoadScene(&quot;02&quot;);</code>, the Android app freezes. Unchecking the above checkbox however did not do the trick for me. Any other suggestions? I am using Unity 2019.2."}], "tags": [], "owner": {"reputation": 135, "user_id": 5394298, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4fd0340ceb6aeb82982f2a3fd13efac7?s=128&d=identicon&r=PG&f=1", "display_name": "iOSTony", "link": "https://stackoverflow.com/users/5394298/iostony"}, "is_accepted": true, "score": 2, "last_activity_date": 1509010767, "creation_date": 1509010767, "answer_id": 46950892, "question_id": 46942810, "link": "https://stackoverflow.com/questions/46942810/scenemanager-loadscene-is-crashing-for-android-devices/46950892#46950892", "title": "SceneManager.LoadScene is crashing for Android Devices", "body": "<p>After more than 24 hours I solve the problem. I hope that my solution help other people because there isn't enough references on the web.\nWhen I created the <strong>APK</strong> file it was splitter with a second one of type <strong>OBB</strong>. This kind of files is required when the Android App is too big. In my case was set by default.</p>\n\n<p>The solution was to force the creation of the <strong>APK</strong> without the <strong>OBB</strong>. To do that you must get to <strong><em>Player Settings</em></strong> in Android, go to <strong><em>Publishing Settings</em></strong> and uncheck <strong><em>Split Application Binary</em></strong> (located at the bottom).</p>\n\n<p>Everything's working now and life is good again.</p>\n\n<p><a href=\"https://i.stack.imgur.com/w19Av.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w19Av.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 135, "user_id": 5394298, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4fd0340ceb6aeb82982f2a3fd13efac7?s=128&d=identicon&r=PG&f=1", "display_name": "iOSTony", "link": "https://stackoverflow.com/users/5394298/iostony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 952, "favorite_count": 0, "accepted_answer_id": 46950892, "answer_count": 1, "score": 0, "last_activity_date": 1509010767, "creation_date": 1508969261, "last_edit_date": 1508969355, "question_id": 46942810, "link": "https://stackoverflow.com/questions/46942810/scenemanager-loadscene-is-crashing-for-android-devices", "title": "SceneManager.LoadScene is crashing for Android Devices", "body": "<p>Ok, I've been testing a game with several scenes. In Unity and iOS devices, everything works perfect. In Android, always crash (or freeze if you prefer).\nI'm using Unity 2017.2.0f3. and the line of code that crash is the next one (nextScene is a string with the value of the next scene):</p>\n\n<pre><code> SceneManager.LoadScene (nextScene);\n</code></pre>\n\n<p>I've been trying other options like:</p>\n\n<pre><code> SceneManager.LoadScene (nextScene, LoadSceneMode.Single);\n</code></pre>\n\n<p>But this is not working neither. The last one I tried was:</p>\n\n<pre><code> SceneManager.UnloadSceneAsync(UIManager.Instance.currentScene);\n SceneManager.LoadScene (nextScene, LoadSceneMode.Single);\n</code></pre>\n\n<p>Again without success. Please I really need help with this. I've dealing with this problem for 24 hours. It's driving me crazy.</p>\n"}, {"tags": ["c#", "delphi", "dll", "parameter-passing", "pass-by-reference"], "comments": [{"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1508997703, "post_id": 46942809, "comment_id": 80840781, "body": "out int pArchivo is correct. Use that. The other error is due to the open array not matching the c#."}], "answers": [{"comments": [{"owner": {"reputation": 140, "user_id": 4783346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UpTixk9yxp4/AAAAAAAAAAI/AAAAAAAAAws/USNXJyO51G4/photo.jpg?sz=128", "display_name": "Erik Ferney Cubillos Garcia", "link": "https://stackoverflow.com/users/4783346/erik-ferney-cubillos-garcia"}, "edited": false, "score": 0, "creation_date": 1509031406, "post_id": 46944084, "comment_id": 80863692, "body": "Hi Remy, I have tried with all your suggested changes and all of them works so fine. I&#39;ve selected the last alternative, because it&#39;s the most easy way to do all that I need.   Again, thanks for your help and your time!!!"}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 2, "last_activity_date": 1508980344, "last_edit_date": 1508980344, "creation_date": 1508978484, "answer_id": 46944084, "question_id": 46942809, "link": "https://stackoverflow.com/questions/46942809/c-dll-library-does-not-return-output-parameters-value-to-a-delphi-application/46944084#46944084", "title": "C# Dll library does not return output parameters value to a Delphi application", "body": "<p>On the Delphi side, a function parameter directly declared as <code>array of ...</code> is known as an <a href=\"http://docwiki.embarcadero.com/RADStudio/en/Parameters_(Delphi)#Open_Array_Parameters\" rel=\"nofollow noreferrer\">\"open array\"</a>.  An \"open array\" gets passed by the compiler using <strong>2</strong> parameters - a pointer to the first array element, and the high index (not the length!) of the array.  This allows the calling code to pass either a static array or a dynamic array to the same parameter, and the compiler will pass the array data accordingly.</p>\n\n<p>But, your .NET code is expecting only 1 parameter for the array - a raw pointer to the 1st array element.  That is why you are not getting your output value correctly.  Your <code>lStream.Size</code> parameter value gets passed where the .NET code expects the 3rd parameter to be, so the <code>Size</code> value gets misinterpreted as the memory address where the .NET code writes its output <code>pArchivo</code> value to, hence the memory error.  Which won't matter anyway since you are corrupting the call stack!  You end up pushing <strong>4</strong> parameter values onto the stack, and then <code>stdcall</code> on the .NET side pops off only <strong>3</strong> parameter values during stack cleanup when the function exits.</p>\n\n<p>You need to change the declaration of your <code>Funcion</code> variable, either by:</p>\n\n<ul>\n<li><p><strong>keeping the <code>pDataIn</code> parameter declared as <code>array of Byte</code>, but removing the explicit <code>pInSize</code> parameter</strong>. Let the compiler pass it implicitly:</p>\n\n<pre><code>Funcion : procedure(pDataIn : array of Byte;\n                    //pInSize : Integer;\n                    var pDocumento : Integer\n                    ); stdcall;\n</code></pre>\n\n<p>You will then have to change the call of <code>Funcion()</code> to allocate +1 more byte for the <code>lArBytes</code> array so the compiler passes the correct size value to the <code>pSize</code> parameter:</p>\n\n<pre><code>SetLength(lArBytes, lStream.Size+1); // &lt;-- +1 here!\nlStream.Read(PByte(lArBytes)^, High(lArBytes)); // &lt;-- no +1 here!\n...\nFuncion(lArBytes{, High(lArBytes)}, lInDocSize);\n</code></pre>\n\n<p>Needless to say, this is not intuitive, though it <em>should</em> work since the behavior of open arrays is well-known, though it is a private implementation detail of the Delphi compiler.</p></li>\n<li><p><strong>using <code>PByte</code> (or just <code>Pointer</code>) instead of <code>array of Byte</code></strong>:</p>\n\n<pre><code>Funcion : procedure(pDataIn : PByte; // &lt;-- here\n                    pInSize : Integer;\n                    var pDocumento : Integer\n                    ); stdcall;\n</code></pre>\n\n<p>You will then have to change the call of <code>Funcion()</code> to pass a pointer to the 1st array element, and pass the array length explicitly:</p>\n\n<pre><code>SetLength(lArBytes, lStream.Size); // &lt;-- no +1 here!\nlStream.Read(PByte(lArBytes)^, Length(lArBytes)); // &lt;-- or here!\n...\nFuncion(@lArBytes[0]{or: PByte(lArBytes)}, Length(lArBytes), lInDocSize);\n</code></pre>\n\n<p>This is more intuitive, and closer to what the .NET code is expecting.</p></li>\n</ul>\n\n<p>Alternatively, I suggest you simply get rid of your <code>lArBytes</code> variable altogether.  You don't actually need it.  Since the .NET code is expecting a raw pointer to the byte data, simply pass your <code>TMemoryStream</code> data directly:</p>\n\n<pre><code>procedure TForm1.Button1Click(Sender: TObject);\nvar\n  lStream    : TMemoryStream;\n  lInDocSize : Integer;\n  lHndle : THandle;\n\n  Funcion : procedure(pDataIn : Pointer;\n                      pInSize : Integer;\n                      var pDocumento : Integer\n                      ); stdcall;\nbegin\n\n  lHndle := LoadLibrary('ClassLibrary1.dll');\n  if (lHndle &lt;&gt; 0) then\n  try\n    Funcion := GetProcAddress(lHndle, 'Funcion');\n    if Assigned(Funcion) then\n    begin\n      lInDocSize := 0;\n\n      lStream := TMemoryStream.Create;\n      try\n        lStream.LoadFromFile('Document1.PDF');\n        Funcion(lStream.Memory, lStream.Size, lInDocSize);\n      finally\n        lStream.Free;\n      end;\n\n      Label1.Caption := IntToStr(lInDocSize);\n    end;\n  finally\n    FreeLibrary(lHndle);\n  end;\nend;\n</code></pre>\n"}], "owner": {"reputation": 140, "user_id": 4783346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UpTixk9yxp4/AAAAAAAAAAI/AAAAAAAAAws/USNXJyO51G4/photo.jpg?sz=128", "display_name": "Erik Ferney Cubillos Garcia", "link": "https://stackoverflow.com/users/4783346/erik-ferney-cubillos-garcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 716, "favorite_count": 0, "accepted_answer_id": 46944084, "answer_count": 1, "score": 2, "last_activity_date": 1508980344, "creation_date": 1508969259, "question_id": 46942809, "link": "https://stackoverflow.com/questions/46942809/c-dll-library-does-not-return-output-parameters-value-to-a-delphi-application", "title": "C# Dll library does not return output parameters value to a Delphi application", "body": "<p>I've written a Dll with C# with an exported function that save a file. </p>\n\n<p>Here's the C# code</p>\n\n<pre><code>using RGiesecke.DllExport;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Runtime.InteropServices;\nusing System.IO;    \n\nnamespace ClassLibrary1\n{\n    public class Class1\n    {\n        [DllExport(\"Funcion\", CallingConvention = CallingConvention.StdCall)]\n        public static void Funcion(IntPtr pDataIn, Int32 pSize, [Out, MarshalAs(UnmanagedType.I4)] int pArchivo)\n        {\n            byte[] documento = new byte[pSize];\n            Marshal.Copy(pDataIn, documento, 0, pSize);\n            File.WriteAllBytes(\"Document2.pdf\", documento);            \n\n            pArchivo = 25;\n        }\n    }    \n}\n</code></pre>\n\n<p>In Delphi, I load the library and call the exported function and it works fine.</p>\n\n<p>Here's the Delphi Code</p>\n\n<pre><code>procedure TForm1.Button1Click(Sender: TObject);\nvar\n  lStream     : TMemoryStream;\n  lArBytes      : array of Byte;\n  lInDocSize : Integer;\n  lHndle : THandle;\n\n  Funcion : procedure(pDataIn : array of Byte;\n                      pInSize : Integer;\n                      var pDocumento : Integer\n                      ); stdcall;\nbegin\n\n  try\n    lHndle := LoadLibrary('ClassLibrary1.dll');\n\n    if (lHndle &lt;&gt; 0) then\n    begin\n\n      Funcion := GetProcAddress(lHndle, 'Funcion');\n\n      if Assigned(Funcion) then\n      begin\n        try\n          lStream := TMemoryStream.Create;\n\n          lStream.LoadFromFile('Document1.PDF');\n          lStream.Position := 0;\n\n          SetLength(lArBytes, lStream.Size);\n\n          lStream.Read(lArBytes[0], lStream.Size);\n\n          lInDocSize := 0;\n          Funcion(lArBytes, lStream.Size, lInDocSize);\n\n          Label1.Caption := IntToStr(lInDocSize);\n\n        except on E : Exception do\n          begin\n            RaiseLastOSError;\n            ShowMessage(e.Message);\n          end;\n        end;\n      end;\n    end;\n\n  finally\n  end;\n\nend;\n</code></pre>\n\n<p>I have an error with the output parameter, it is that always returns cero (0) value, not matter what value I assign to parameter, it always has cero value. </p>\n\n<p>I've changing the parameter like this</p>\n\n<pre><code>out int pArchivo\n</code></pre>\n\n<p>and</p>\n\n<pre><code>ref int pArchivo\n</code></pre>\n\n<p>But when the function finish I get a memory exception. </p>\n\n<p>With Marshal, function finish fine, without memory errors, but the output paramerter value is always cero (0).</p>\n\n<pre><code>[Out, MarshalAs(UnmanagedType.I4)] int pArchivo\n</code></pre>\n\n<p>I've read about this problem in this post in Stackoverflow</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24626404/passing-array-of-struct-from-c-sharp-to-delphi\">Passing array of struct from c# to Delphi</a></p>\n\n<p>But in my case, it doesn't work</p>\n\n<p>What I'm doing wrong?</p>\n\n<p>I hope that you could help... thank you so much</p>\n"}, {"tags": ["c#", "vba", "visio"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1508969648, "post_id": 46942757, "comment_id": 80833133, "body": "You can never beat code that runs <i>inside</i> the Visio process.  A Winforms project will always get hammered by the fundamental cost of having to cross the process boundary and requiring two thread-context switches.  A very simple property getter runs roughly 10,000x slower due to this overhead.  It hurts a lot less when the interop member is beefy.  You&#39;ll have to create an add-in to create comparable code."}, {"owner": {"reputation": 2141, "user_id": 6901081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb1b29a4b3f8fc693f0858f56d6ec0de?s=128&d=identicon&r=PG&f=1", "display_name": "jsotola", "link": "https://stackoverflow.com/users/6901081/jsotola"}, "edited": false, "score": 0, "creation_date": 1508978661, "post_id": 46942757, "comment_id": 80835653, "body": "this is not a VBA question then. please delete the VBA tag."}, {"owner": {"reputation": 4089, "user_id": 5106, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/482709c8157cf3e9dd67555a06b09370?s=128&d=identicon&r=PG", "display_name": "Jon Fournier", "link": "https://stackoverflow.com/users/5106/jon-fournier"}, "edited": false, "score": 2, "creation_date": 1508983022, "post_id": 46942757, "comment_id": 80836645, "body": "If you drop masters programmatically you can use the dropmany command and that can save a lot of time. You may have to get creative to use a master if you\u2019re currently just drawing geometry though."}], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 3417711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b9c911566df25175612f5428eaace038?s=128&d=identicon&r=PG&f=1", "display_name": "jediderek", "link": "https://stackoverflow.com/users/3417711/jediderek"}, "edited": false, "score": 0, "creation_date": 1509029347, "post_id": 46955261, "comment_id": 80862217, "body": "Thank you for your explanation. That makes sense. Yea I thought about the xml but that would be a nightmare. The performance bothers me more than my manager, he actually enjoys watching it build itself. If it becomes a big problem I will just use the functions in c# to call vba methods. Reason for c# is to make more readable and easier to use with our company software. Thanks for the link as well!"}], "tags": [], "owner": {"reputation": 7447, "user_id": 929187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/F5QPL.png?s=128&g=1", "display_name": "Nikolay", "link": "https://stackoverflow.com/users/929187/nikolay"}, "is_accepted": true, "score": 1, "last_activity_date": 1509024350, "last_edit_date": 1509024350, "creation_date": 1509023487, "answer_id": 46955261, "question_id": 46942757, "link": "https://stackoverflow.com/questions/46942757/vba-vs-c-speed-test-in-visio/46955261#46955261", "title": "VBA vs C# Speed Test in Visio", "body": "<p>First, you  cannot beat VBA at what it's the best... Like Hans Passant wrote, you loose a lot on interop. Especially if it is out-of-process call, this will be many times slower than in-process VBA call.\nAddin will help (the code will run in-process), but VBA  will still be faster, as still you have interop (assuming a dotnet add-in - Visio is a native app, so you will have COM interop  under the hood anyways)</p>\n\n<p>Option one is to do it in vba. Most people choose it. Means you forget about c# and your windows forms application.</p>\n\n<p>Option two is to minimize  interop (minimize number of Visio calls).\nAlso, Here are some hints\n<a href=\"https://blogs.msdn.microsoft.com/mailant/2004/09/22/dev-luv-visio-development-top-five-performance-tips/\" rel=\"nofollow noreferrer\">https://blogs.msdn.microsoft.com/mailant/2004/09/22/dev-luv-visio-development-top-five-performance-tips/</a></p>\n\n<p>Most of them apply to both vba and c# though. And you will not beat vba anyways, even if you follow all of them. Note that you can make VBA code much faster, if you follow them.</p>\n\n<p>One more option is to generate Visio file without Visio (as open xml). With that, you can beat VBA performance. But the amount of code you will need to write will be probably 20 times more than that of VBA, and you n\u00e8ed to know some visio intervals. </p>\n"}], "owner": {"reputation": 309, "user_id": 3417711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b9c911566df25175612f5428eaace038?s=128&d=identicon&r=PG&f=1", "display_name": "jediderek", "link": "https://stackoverflow.com/users/3417711/jediderek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 659, "favorite_count": 0, "accepted_answer_id": 46955261, "answer_count": 1, "score": 0, "last_activity_date": 1509024350, "creation_date": 1508968998, "question_id": 46942757, "link": "https://stackoverflow.com/questions/46942757/vba-vs-c-speed-test-in-visio", "title": "VBA vs C# Speed Test in Visio", "body": "<p>I was wondering if anyone has any tips on how to speed up automation in a Visio project in C#. The automation I have is building toilet stalls. I end up choosing to make 10 stalls, VBA takes about 3 seconds to make all the shapes. </p>\n\n<p>I just finish coverting the VBA into a c# Form Application using the Microsoft.Office.Interop.Visio library. To do the same test, it takes 14 seconds. </p>\n\n<p>I've been able to take off 3 seconds by making the visio application invisible and then making it visible after its done, but that is still not even close to what VBA does. </p>\n\n<p>I've noticed with C# I can see the visio drawing building itself with each shape while in VBA it does not. So I also tried using: \"Application.ScreenUpdating\". In c# it takes a short data type so to make it false I tried making it 0, and it did nothing. Also I tried turning it on in VBA using \"True\" but that didn't turn it on.</p>\n\n<p>So anymore more tips on making it faster? I'm surprised that VBA is faster than C#(maybe because its built into the Office Suite).</p>\n"}, {"tags": ["c#", "unity3d", "unity5"], "answers": [{"tags": [], "owner": {"reputation": 8919, "user_id": 1159604, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZNjba.png?s=128&g=1", "display_name": "Foggzie", "link": "https://stackoverflow.com/users/1159604/foggzie"}, "is_accepted": true, "score": 5, "last_activity_date": 1509558691, "last_edit_date": 1509558691, "creation_date": 1508969382, "answer_id": 46942824, "question_id": 46942692, "link": "https://stackoverflow.com/questions/46942692/why-when-setting-the-order-of-scripts-executing-still-one-script-is-executing-fi/46942824#46942824", "title": "Why when setting the order of scripts executing still one script is executing first?", "body": "<p>You have a yield in <code>Spawn()</code> coroutine:</p>\n\n<pre><code>yield return new WaitForSeconds(spawnSpeed);\n</code></pre>\n\n<p>The <code>Start()</code> functions are being called in the correct order but the first script is just starting a coroutine that yields after each iteration.  After the first yield, it's going to wait to continue until that <code>WaitForSeconds</code> ends; in the mean-time, the second script will run its <code>Start()</code>.</p>\n\n<p>As a solution, you aren't going to be able to fix this with script execution order.  Your second script will have to wait until the first script is done running its <code>Spawn()</code> coroutine. There are plenty of ways to do this but the easiest would be to either expose the <code>Coroutine</code> object returned by <code>StartCoroutine()</code> or make something like a <code>bool DoneSpawning</code> flag in your <code>SpawnObjects</code> class.</p>\n"}], "owner": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 46942824, "answer_count": 1, "score": 1, "last_activity_date": 1509558691, "creation_date": 1508968621, "question_id": 46942692, "link": "https://stackoverflow.com/questions/46942692/why-when-setting-the-order-of-scripts-executing-still-one-script-is-executing-fi", "title": "Why when setting the order of scripts executing still one script is executing first?", "body": "<p>I have two scripts attached to the same emptygameobject.\nThe first script is:</p>\n\n<pre><code>using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.IO;\nusing UnityEngine;\n\npublic class SpawnObjects : MonoBehaviour\n{\n    public int numberOfObjects;\n    public GameObject objectToPlace;\n    public Vector3 newObjectsSize = new Vector3(5, 5, 5);\n    public float spawnSpeed = 0.1f;\n\n    private int wallsLengthX;\n    private int wallsLengthZ;\n    private int wallsPosX;\n    private int wallsPosZ;\n    private int currentObjects;\n    private List&lt;GameObject&gt; objects = new List&lt;GameObject&gt;();\n\n    void Start()\n    {\n        var wi = GetComponent&lt;Walls&gt;();\n        wallsLengthX = (int)wi.lengthX;\n        wallsLengthZ = (int)wi.lengthZ;\n        wallsPosX = (int)wi.wallsStartPosition.x;\n        wallsPosZ = (int)wi.wallsStartPosition.z;\n\n        StartCoroutine(Spawn());\n    }\n\n    IEnumerator Spawn()\n    { \n        for (int i = 0; i &lt; numberOfObjects; i++)\n        {\n            GameObject newObject = (GameObject)Instantiate(objectToPlace);\n            newObject.transform.localScale = new Vector3(newObjectsSize.x, newObjectsSize.y, newObjectsSize.z);\n            newObject.transform.localPosition = GenerateRandomPositions(newObject);\n            newObject.name = \"Spawned Object\";\n            newObject.tag = \"Spawned Object\";\n            objects.Add(newObject);\n            yield return new WaitForSeconds(spawnSpeed);\n            currentObjects += 1;\n        }\n    }\n\n    private Vector3 GenerateRandomPositions(GameObject newObject)\n    {\n        float paddingX = Mathf.Clamp(newObject.transform.localScale.x, 0, wallsLengthX) / 2f;\n        float paddingZ = Mathf.Clamp(newObject.transform.localScale.z, 0, wallsLengthZ) / 2f;\n        float originX = wallsPosX + paddingX - wallsLengthX / 2f;\n        float originZ = wallsPosZ + paddingZ - wallsLengthZ / 2f;\n        float posx = UnityEngine.Random.Range(originX, originX + wallsLengthX - paddingX);\n        float posz = UnityEngine.Random.Range(originZ, originZ + wallsLengthZ - paddingZ);\n        float posy = Terrain.activeTerrain.SampleHeight(new Vector3(posx, 0, posz));\n\n        return new Vector3(posx, posy, posz);\n    }\n}\n</code></pre>\n\n<p>The second script:</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class WayPoints : MonoBehaviour\n{\n    public GameObject[] waypoints;\n    public Transform target;\n    public float moveSpeed = 10f;\n    public float moveSpeed1 = 10f;\n    public float slowDownSpeed = 3f;\n    public float reverseSlowDownSpeed = 3f;\n    public float rotationSpeed = 1f;\n\n    private Transform myTransform;\n    private int targetsIndex = 0;\n    private Vector3 originalPosition;\n    private GameObject[] robots;\n\n    public Transform reverseTarget;\n    private int reverseTargetsIndex = 0;\n    private Vector3 reverseOriginalPosition;\n\n    public bool random = false;\n\n    void Awake()\n    {\n        myTransform = transform;\n    }\n    // Use this for initialization\n    void Start()\n    {\n        waypoints = GameObject.FindGameObjectsWithTag(\"Spawned Object\");\n</code></pre>\n\n<p>The first script spawn new 10 cubes.\nBut the second script waypoints variable is getting only 1 \"Spawned Object\" and not 10.</p>\n\n<p>When i used a break point i see that it's executing the first script doing in the loop once:</p>\n\n<pre><code>for (int i = 0; i &lt; numberOfObjects; i++)\n</code></pre>\n\n<p>But then it's jumping to the second script getting one \"Spawned Object\" and then back to the first script and make the rest of the loop.</p>\n\n<p>And what i want is that it will make first the whole loop spawn 10 cubes thne to get them all with the second script.</p>\n\n<p>I even did in the editor: Edit > Project Settings > Script Execution Order\nBut still it's not doing first the whole loop only one iterate.</p>\n"}, {"tags": ["c#", "xamarin", "xamarin.ios", "xamarin.forms", "xamarin.android"], "answers": [{"comments": [{"owner": {"reputation": 1239, "user_id": 7255875, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cad68cb2930651b600be31d83ce4b11b?s=128&d=identicon&r=PG&f=1", "display_name": "Muhand Jumah", "link": "https://stackoverflow.com/users/7255875/muhand-jumah"}, "edited": false, "score": 0, "creation_date": 1508978114, "post_id": 46943187, "comment_id": 80835525, "body": "Thanks, that worked perfectly. I forced the linkage process using an init() method. I knew it was a linking issue but wasn&#39;t sure how to solve it. hope they fix this bug sometime soon."}], "tags": [], "owner": {"reputation": 12813, "user_id": 7292772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g3IQ0.png?s=128&g=1", "display_name": "Sharada Gururaj", "link": "https://stackoverflow.com/users/7292772/sharada-gururaj"}, "is_accepted": true, "score": 1, "last_activity_date": 1508971680, "creation_date": 1508971680, "answer_id": 46943187, "question_id": 46942630, "link": "https://stackoverflow.com/questions/46942630/xamarin-forms-xaml-xamlparseexception-position-5126/46943187#46943187", "title": "Xamarin.Forms.Xaml.XamlParseException: Position 51:26", "body": "<p>This is a known linking issue that is caused when all references are in XAML. You can try the options available in this answer -<a href=\"https://stackoverflow.com/a/43574309/7292772\">https://stackoverflow.com/a/43574309/7292772</a> </p>\n"}], "owner": {"reputation": 1239, "user_id": 7255875, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cad68cb2930651b600be31d83ce4b11b?s=128&d=identicon&r=PG&f=1", "display_name": "Muhand Jumah", "link": "https://stackoverflow.com/users/7255875/muhand-jumah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 611, "favorite_count": 0, "accepted_answer_id": 46943187, "answer_count": 1, "score": 0, "last_activity_date": 1508978610, "creation_date": 1508968325, "last_edit_date": 1508978610, "question_id": 46942630, "link": "https://stackoverflow.com/questions/46942630/xamarin-forms-xaml-xamlparseexception-position-5126", "title": "Xamarin.Forms.Xaml.XamlParseException: Position 51:26", "body": "<p>I am trying to make a custom controls library; I started by creating a project with a simple ContentView control; then I build it and import it into my second project and reference it in my XAML like this <code>xmlns:CustomControls=\"clr-namespace:MXControls.Other;assembly=MXControls\"</code></p>\n\n<p>and I call my control using this line of code:</p>\n\n<p><code>&lt;CustomControls:Checkbox/&gt;</code></p>\n\n<p>But unfortunately I get this error.\n<code>Xamarin.Forms.Xaml.XamlParseException: Position 51:26. Type CustomControls:Checkbox not found in xmlns clr-namespace:MXControls.Other;assembly=MXControls</code></p>\n\n<p>I double checked the assembly name as well as namespace and they are perfectly correct. </p>\n\n<p>I did further investigation and replicated that in my main project; so within my same project I created a .XAML file and did the exact samething and then referenced and it worked; but what I really want to do is create a separate project which will hold my custom controls. </p>\n\n<p>Any help would be appreciated.</p>\n\n<p><strong>EDIT: In case anyone is having this issue, I got to a solution by forcing the linkage process</strong></p>\n\n<ol>\n<li>In my library project I added a new static class and called it <code>Infrastructure</code></li>\n<li>I added a static method that does nothing\n<code>\npublic static class Infrastructure\n{\n    public static void init()\n    {\n    }\n}\n</code></li>\n<li>I went to my project which will import the library and under my IOS project I went to <code>AppDelegate.cs</code> and added <code>Infrastructure.Init();</code> in the <code>FinishedLaunching</code> method, obviously you have to use the proper namespace <code>e.g. using MXControls;</code></li>\n</ol>\n\n<p>Full code for ios project</p>\n\n<pre><code>    using System;\n    using System.Collections.Generic;\n    using System.Linq;\n\n    using Foundation;\n    using UIKit;\n    using MXControls3;\n    namespace LeagueStalker.iOS\n    {\n    // The UIApplicationDelegate for the application. This class is responsible for launching the \n    // User Interface of the application, as well as listening (and optionally responding) to \n    // application events from iOS.\n    [Register(\"AppDelegate\")]\n    public partial class AppDelegate : global::Xamarin.Forms.Platform.iOS.FormsApplicationDelegate\n    {\n        //\n        // This method is invoked when the application has loaded and is ready to run. In this \n        // method you should instantiate the window, load the UI into it and then make the window\n        // visible.\n        //\n        // You have 17 seconds to return from this method, or iOS will terminate your application.\n        //\n        public override bool FinishedLaunching(UIApplication app, NSDictionary options)\n        {\n            global::Xamarin.Forms.Forms.Init ();\n\n            Infrastructure.Init();\n\n\n            LoadApplication (new LeagueStalker.App ());\n            UIApplication.SharedApplication.SetStatusBarStyle(UIStatusBarStyle.LightContent, false);\n\n            return base.FinishedLaunching (app, options);\n\n        }\n    }\n  }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 16032, "user_id": 1248177, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce4713378691ec2899a27c845a3748f7?s=128&d=identicon&r=PG", "display_name": "aloisdg", "link": "https://stackoverflow.com/users/1248177/aloisdg"}, "edited": false, "score": 3, "creation_date": 1508968461, "post_id": 46942616, "comment_id": 80832733, "body": "What have you tried so far? Show us your code."}, {"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1508968482, "post_id": 46942616, "comment_id": 80832741, "body": "<i>I tried many things</i>.  What things did you try?  Show those attempts.  Perhaps show the ones that get you the closest to your goal."}, {"owner": {"reputation": 121, "user_id": 3877579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52e4f102cbb79303f383cd66475047d?s=128&d=identicon&r=PG&f=1", "display_name": "DanielVorph", "link": "https://stackoverflow.com/users/3877579/danielvorph"}, "edited": false, "score": 0, "creation_date": 1508968961, "post_id": 46942616, "comment_id": 80832907, "body": "it can be a List of tuple"}, {"owner": {"reputation": 9213, "user_id": 1988508, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X8yzA.jpg?s=128&g=1", "display_name": "Mohammed Noureldin", "link": "https://stackoverflow.com/users/1988508/mohammed-noureldin"}, "edited": false, "score": 0, "creation_date": 1508969534, "post_id": 46942616, "comment_id": 80833100, "body": "It depends also on what you are going to do with these data."}], "answers": [{"comments": [{"owner": {"reputation": 1121, "user_id": 3618341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMB8m.png?s=128&g=1", "display_name": "flyte", "link": "https://stackoverflow.com/users/3618341/flyte"}, "edited": false, "score": 0, "creation_date": 1509032596, "post_id": 46942886, "comment_id": 80864429, "body": "Why the down vote? Doesn&#39;t this answer the OP&#39;s question?!"}, {"owner": {"reputation": 637, "user_id": 2674545, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b457d0ae8b274c1e64eb463d367c330d?s=128&d=identicon&r=PG", "display_name": "Rok", "link": "https://stackoverflow.com/users/2674545/rok"}, "edited": false, "score": 0, "creation_date": 1509055167, "post_id": 46942886, "comment_id": 80876725, "body": "Someone probably down-voted you because direct answers on questions where it seems that OP doesn&#39;t have a clue what he is doing aren&#39;t encouraged here."}], "tags": [], "owner": {"reputation": 1121, "user_id": 3618341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMB8m.png?s=128&g=1", "display_name": "flyte", "link": "https://stackoverflow.com/users/3618341/flyte"}, "is_accepted": true, "score": -1, "last_activity_date": 1508969695, "creation_date": 1508969695, "answer_id": 46942886, "question_id": 46942616, "link": "https://stackoverflow.com/questions/46942616/whats-the-best-solution-to-recreate-this-array-in-c/46942886#46942886", "title": "Whats the best solution to recreate this array in c#?", "body": "<p>You didn't mention how you want to use the data, however I would do it this way:</p>\n\n<pre><code>var dict = new Dictionary&lt;string, Dictionary&lt;string, List&lt;double&gt;&gt;&gt;()\n{\n    { \"category1\", new Dictionary&lt;string,List&lt;double&gt;&gt;()\n        {\n            { \"Test1\", new List&lt;double&gt;{ 1463, 0.4, 0, 13 } },\n            { \"Test2\", new List&lt;double&gt;{ 1578, 0.5, 0, 4 } },\n            { \"Test3\", new List&lt;double&gt;{ 2683, 1, 0, 6 } },\n        }\n    },\n\n    { \"category2\", new Dictionary&lt;string,List&lt;double&gt;&gt;()\n        {\n            { \"Test4\", new List&lt;double&gt;{ 328, 0.4, 90, 5 } },\n            { \"Test5\", new List&lt;double&gt;{ 1463, 0.4, 0, 5 } },\n            { \"Test6\", new List&lt;double&gt;{ 346, 1, 90, 1.5 } },\n        }\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8268132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jEQQx.jpg?s=128&g=1", "display_name": "xLiquiiD", "link": "https://stackoverflow.com/users/8268132/xliquiid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 46942886, "answer_count": 1, "score": -3, "last_activity_date": 1508969695, "creation_date": 1508968281, "question_id": 46942616, "link": "https://stackoverflow.com/questions/46942616/whats-the-best-solution-to-recreate-this-array-in-c", "title": "Whats the best solution to recreate this array in c#?", "body": "<p>I tried many things but im not happy with the result, so i decided to ask: How can i recreate this array in c#?</p>\n\n<pre><code>local itemTable = {\n\n[\"category1\"] = {\n    {\"Test1\",1463,0.4,0,13},\n    {\"Test2\",1578,0.5,0,4},\n    {\"Test3\",2683,1,0,6},\n},\n\n[\"category2\"] = {\n    {\"Test4\",328,0.4,90,5},\n    {\"Test5\",1463,0.4,0,5},\n    {\"Test6\",346,1,90,1.5},\n},}\n</code></pre>\n\n<p>Btw. this array is from LUA.</p>\n"}, {"tags": ["c#", "xamarin.forms", "portable-class-library"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1508968266, "post_id": 46942571, "comment_id": 80832654, "body": "where is IsSelectedDeliveryIconVisible?  Is that a property on the VM, or on DeliveryMethod?  Remember that each cell in your list is bound to an instance of DeliveryMethod."}, {"owner": {"reputation": 121, "user_id": 6493540, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Tt1Tm.jpg?s=128&g=1", "display_name": "requenaxii", "link": "https://stackoverflow.com/users/6493540/requenaxii"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1508968859, "post_id": 46942571, "comment_id": 80832874, "body": "Hi @Jason, I updated the code. <code>IsSelectedDeliveryIconVisible</code> is a property on the VM."}], "answers": [{"tags": [], "owner": {"reputation": 3187, "user_id": 15904, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/7aec99975e9fa8fc8f6efcde09b3145c?s=128&d=identicon&r=PG", "display_name": "David Conlisk", "link": "https://stackoverflow.com/users/15904/david-conlisk"}, "is_accepted": true, "score": 1, "last_activity_date": 1509012565, "creation_date": 1509012565, "answer_id": 46951591, "question_id": 46942571, "link": "https://stackoverflow.com/questions/46942571/how-can-i-show-and-image-as-on-row-when-is-selected/46951591#46951591", "title": "How can I show and image as on row when is selected?", "body": "<p>I would make the IsSelectedDeliveryIconVisible an attribute of the DeliveryMethod class so it can have a different value for each item in the list. </p>\n\n<p>When a user selects a delivery method, you'll need to set IsSelectedDeliveryIconVisible for each item in the list (see code below). That will ensure that at most one icon is visible at one time. Your existing binding should work with this new code.</p>\n\n<pre><code>public class DeliveryMethod \n{\n    public int Id {get; set;}\n    public bool IsSelectedDeliveryIconVisible {get; set;}\n    // ...\n}\n\nDeliveryMethod _selectedDeliveryMethod;\npublic DeliveryMethod SelectedDeliveryMethod\n{\n    get { return _selectedDeliveryMethod; }\n    set\n    {\n        SetProperty(ref _selectedDeliveryMethod, value);\n        if (_selectedDeliveryMethod != null)\n        {\n            DeliveryMethodList.ForEach(d =&gt; { d.IsSelectedDeliveryIconVisible = (d.Id == value.Id); });\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 6493540, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Tt1Tm.jpg?s=128&g=1", "display_name": "requenaxii", "link": "https://stackoverflow.com/users/6493540/requenaxii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 46951591, "answer_count": 1, "score": 0, "last_activity_date": 1509012565, "creation_date": 1508968048, "last_edit_date": 1508968705, "question_id": 46942571, "link": "https://stackoverflow.com/questions/46942571/how-can-i-show-and-image-as-on-row-when-is-selected", "title": "How can I show and image as on row when is selected?", "body": "<p>I'm very new in Xamarin.Forms and I'm trying to show and icon as selected indicator into selected item on TableView, but actually I'm a little lost... </p>\n\n<p>My problem is, right now the icons are visible in each element of the list, I want set them as hidden by default and, when the user select any element of the list, show it (and of course, hide the icon of deselected row). </p>\n\n<p>Any hint to accomplish it? Any idea or hint should be very helpful. </p>\n\n<p>Here is the list code:</p>\n\n<pre><code>&lt;base:ListView\n                    ItemsSource=\"{Binding DeliveryMethodList}\"\n                    HorizontalOptions=\"FillAndExpand\"\n                    VerticalOptions=\"FillAndExpand\"\n                    RowHeight=\"60\"\n                    HeightRequest=\"120\"\n                    BackgroundColor=\"Transparent\"\n                    IsPullToRefreshEnabled=\"false\"\n                    SeparatorVisibility=\"None\"\n                    SelectedItem=\"{Binding SelectedDeliveryMethod}\"&gt;\n\n                    &lt;base:ListView.ItemTemplate&gt;\n                        &lt;DataTemplate&gt;\n                            &lt;ViewCell&gt;\n                             &lt;StackLayout \n                                    Orientation=\"Horizontal\"\n                                    HorizontalOptions=\"FillAndExpand\"\n                                    VerticalOptions=\"CenterAndExpand\"&gt;\n                                    &lt;base:Image\n                                        HeightRequest=\"{base:PointSize 15}\"\n                                        WidthRequest=\"{base:PointSize 15}\"\n                                        Source=\"{x:Static res:Images.AcceptIco}\"\n                                        IsVisible=\"{Binding IsSelectedDeliveryIconVisible}\"\n                                        VerticalOptions=\"Center\"\n                                        HorizontalOptions=\"Center\"/&gt;  \n\n                                    &lt;base:Label \n                                        FontSize=\"{StaticResource FontSizeMedium1}\"\n                                        Text=\"{Binding name}\"\n                                        HorizontalOptions=\"Center\"\n                                        VerticalOptions=\"Start\"\n                                        TextColor=\"White\"/&gt;\n                             &lt;/StackLayout&gt;\n                            &lt;/ViewCell&gt;\n                        &lt;/DataTemplate&gt;\n                    &lt;/base:ListView.ItemTemplate&gt;\n                &lt;/base:ListView&gt;\n</code></pre>\n\n<p>and here is my ViewModel method to selection and the item source: </p>\n\n<pre><code>    bool _isSelectedDeliveryIconVisible;\n    public bool IsSelectedDeliveryIconVisible\n    {\n        get { return _isSelectedDeliveryIconVisible; }\n        set { SetProperty(ref _isSelectedDeliveryIconVisible, value); }\n    }\n\n    ObservableCollection&lt;DeliveryMethod&gt; _deliveryMethodList;\n    public ObservableCollection&lt;DeliveryMethod&gt; DeliveryMethodList\n    {\n        get { return _deliveryMethodList; }\n        set { SetProperty(ref _deliveryMethodList, value); }\n    }\n\n    DeliveryMethod _selectedDeliveryMethod;\n    public DeliveryMethod SelectedDeliveryMethod\n    {\n        get { return _selectedDeliveryMethod; }\n        set\n        {\n            SetProperty(ref _selectedDeliveryMethod, value);\n            if (_selectedDeliveryMethod != null)\n            {\n                IsSelectedDeliveryIconVisible = true;\n            }\n        }\n    }\n</code></pre>\n\n<p>Best!</p>\n"}, {"tags": ["c#", "xml", "xamarin", "xamarin.android"], "comments": [{"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "edited": false, "score": 3, "creation_date": 1508968096, "post_id": 46942536, "comment_id": 80832592, "body": "How are you retrieving the value? i.e. What&#39;s the code you use to access <code>foo</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 456, "user_id": 7015157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MyLOh.png?s=128&g=1", "display_name": "Nikola Dim", "link": "https://stackoverflow.com/users/7015157/nikola-dim"}, "edited": false, "score": 0, "creation_date": 1508970515, "post_id": 46942677, "comment_id": 80833433, "body": "That works great thanks! Is there a way to access them without a function call? It doesn&#39;t sound important, but they are needed within switch, where I can only put constants. If not, I&#39;ll use a bunch of if else."}], "tags": [], "owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "is_accepted": true, "score": 2, "last_activity_date": 1508968550, "creation_date": 1508968550, "answer_id": 46942677, "question_id": 46942536, "link": "https://stackoverflow.com/questions/46942536/c-xml-constants/46942677#46942677", "title": "C# XML constants", "body": "<p><code>Resource.Integer.XXX</code> is the resource id <em>of</em> the entry, to retrieve the value of the id into a variable, use <code>Resources.GetInteger</code>:</p>\n\n<pre><code>var foo = Resources.GetInteger(Resource.Integer.foo);\nvar bar = Resources.GetInteger(Resource.Integer.bar);\n</code></pre>\n"}], "owner": {"reputation": 456, "user_id": 7015157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MyLOh.png?s=128&g=1", "display_name": "Nikola Dim", "link": "https://stackoverflow.com/users/7015157/nikola-dim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 46942677, "answer_count": 1, "score": 2, "last_activity_date": 1508968723, "creation_date": 1508967894, "last_edit_date": 1508968723, "question_id": 46942536, "link": "https://stackoverflow.com/questions/46942536/c-xml-constants", "title": "C# XML constants", "body": "<p>In integer.xml, which has the form of</p>\n\n<pre><code>&lt;resources&gt;\n  &lt;integer name=\"foo\"&gt;0x001&lt;/integer&gt;\n  &lt;integer name=\"bar\"&gt;0x002&lt;/integer&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>are the stored constants that are needed for both code and xml files.</p>\n\n<p>C# recognizes the Droid.Resource.Integer.foo, but it has some big random value to ID it, not the actual integer i need.\nIs there a way to access the int constants by their real value?</p>\n"}, {"tags": ["c#", "unit-testing", "moq"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1508976954, "post_id": 46942502, "comment_id": 80835271, "body": "The question in its current state is unclear as it is incomplete. Read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and then provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that can be used to better understand your problem."}, {"owner": {"reputation": 1403, "user_id": 5577416, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a8cc9163c517d1d081b19006c9a18712?s=128&d=identicon&r=PG&f=1", "display_name": "Graeme", "link": "https://stackoverflow.com/users/5577416/graeme"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1509009336, "post_id": 46942502, "comment_id": 80847770, "body": "I have updated to provide example code."}], "answers": [{"comments": [{"owner": {"reputation": 1403, "user_id": 5577416, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a8cc9163c517d1d081b19006c9a18712?s=128&d=identicon&r=PG&f=1", "display_name": "Graeme", "link": "https://stackoverflow.com/users/5577416/graeme"}, "edited": false, "score": 0, "creation_date": 1509011782, "post_id": 46950810, "comment_id": 80849498, "body": "I can work with that thanks!  I have modified my test to check the calls within Verify and then using your answer tested the values of what was passed individually with <code>Assert.AreEqual</code>.  This allows me to see which of the values are failing the test.  :)"}], "tags": [], "owner": {"reputation": 417, "user_id": 8635775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bbd81c879ee133a602ca022b65e39ca?s=128&d=identicon&r=PG&f=1", "display_name": "Reno", "link": "https://stackoverflow.com/users/8635775/reno"}, "is_accepted": true, "score": 2, "last_activity_date": 1509010599, "creation_date": 1509010599, "answer_id": 46950810, "question_id": 46942502, "link": "https://stackoverflow.com/questions/46942502/see-what-has-been-passed-to-a-mock/46950810#46950810", "title": "See what has been passed to a Mock?", "body": "<p>You can implement a callback in your mock setup:</p>\n\n<pre><code>[TestMethod]\n    public void Test1()\n    {\n        Mock&lt;myClass&gt; mMyClass = new Mock&lt;myClass&gt;();\n        sutClass sut = new sutClass();\n        sut.target = mMyClass.Object;\n\n        int passedValue = 0;\n\n        mMyClass.Setup(x =&gt; x.MyMethod(It.IsAny&lt;myClass.myStruct&gt;())).Callback&lt;myClass.myStruct&gt;((s) =&gt; { passedValue = s.thing; Console.Write(s.thing); });\n\n        sut.DoAThing();\n\n        mMyClass.Verify(x =&gt; x.MyMethod(It.Is&lt;myClass.myStruct&gt;(v =&gt; v.thing == 1)));\n    }\n</code></pre>\n\n<p>Here the value is set to passedValue and printed to the console</p>\n"}], "owner": {"reputation": 1403, "user_id": 5577416, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a8cc9163c517d1d081b19006c9a18712?s=128&d=identicon&r=PG&f=1", "display_name": "Graeme", "link": "https://stackoverflow.com/users/5577416/graeme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 46950810, "answer_count": 1, "score": 1, "last_activity_date": 1509010599, "creation_date": 1508967690, "last_edit_date": 1509009234, "question_id": 46942502, "link": "https://stackoverflow.com/questions/46942502/see-what-has-been-passed-to-a-mock", "title": "See what has been passed to a Mock?", "body": "<p>I have a mostly working unit test that checks a method is called, which works fine.  However I would like to check the parameters that are passed to that method.  Using <code>Verify</code> I can check if a particular set of arguments are passed, but if these are not passed and the test fails, is there a way of seeing what was actually passed to the method?</p>\n\n<p>Example:</p>\n\n<pre><code>sut.Setup(x =&gt; x.MyMethod(It.IsAny&lt;myClass&gt;()).Verifiable();\nsut.Object.DoAThing();\nsut.Verify(x =&gt; x.MyMethod(It.Is&lt;myClass&gt;(v =&gt; v.thing == 1)));\n</code></pre>\n\n<p>In my test this will fail (<code>v.thing</code> will be something other than 1), but what I would like to know is, what IS <code>v.thing</code> set to?  I'd like to know as I find this kind of feedback really helpful in debugging my code and unit tests.</p>\n\n<p>The error I am getting is simply saying that x.MyMethod (with those expected parameters) was never called.</p>\n\n<p>Is there a solution? am I missing something obvious? </p>\n\n<p>Minimal Example to illustrate my point:</p>\n\n<pre><code>public class myClass\n{\n    public struct myStruct {\n        public int thing;\n    }\n    public virtual void MyMethod(myStruct x )\n    {\n        // Code goes here\n    }\n}\n\npublic class sutClass\n{\n    public myClass target = new myClass();\n    public void DoAThing()\n    {\n        myClass.myStruct toBePassed = new myClass.myStruct { thing = 8 };\n\n        target.MyMethod(toBePassed);\n    }\n}\n\n[TestMethod]\npublic void Test1()\n{\n    Mock&lt;myClass&gt; mMyClass = new Mock&lt;myClass&gt;();\n    sutClass sut = new sutClass();\n    sut.target = mMyClass.Object;\n\n    mMyClass.Setup(x =&gt; x.MyMethod(It.IsAny&lt;myClass.myStruct&gt;())).Verifiable();\n\n    sut.DoAThing();\n\n    mMyClass.Verify(x =&gt; x.MyMethod(It.Is&lt;myClass.myStruct&gt;(v =&gt; v.thing == 1)));\n}\n</code></pre>\n\n<p>The above simple test will obviously return a fail.</p>\n\n<pre><code>Expected invocation on the mock at least once, but was never performed: x =&gt; x.MyMethod(It.Is&lt;myStruct&gt;(v =&gt; v.thing == 1))\n</code></pre>\n\n<p>What I would like to see is an output of what WAS passed to <code>MyMethod</code> what was the difference between what was expected and what actually happened.  Much like <code>Assert.AreEqual(expected, actual)</code> would return.  (the expected string and the actual string for example).</p>\n"}, {"tags": ["c#", "sql-server", "linq"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1508967734, "post_id": 46942470, "comment_id": 80832440, "body": "Please show us your existing LINQ attempt. Don&#39;t stress if it doesn&#39;t work - we just need to see where you are up to."}, {"owner": {"reputation": 4789, "user_id": 1735836, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ee6KW.png?s=128&g=1", "display_name": "Patricia", "link": "https://stackoverflow.com/users/1735836/patricia"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1508968176, "post_id": 46942470, "comment_id": 80832621, "body": "Well, my previous query used joins and it worked until the requirements changed 2 hours ago.  My research took me to this answer (<a href=\"https://stackoverflow.com/a/21941452/1735836\">stackoverflow.com/a/21941452/1735836</a>) which may be what I want but it&#39;s very complex and I&#39;m not sure that it is what I need.  The damn code is on a machine that is locked down.  So I will need to retype it.  I will post as soon as I can."}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "edited": false, "score": 0, "creation_date": 1508968367, "post_id": 46942470, "comment_id": 80832706, "body": "Here is your answer <a href=\"https://stackoverflow.com/a/27442658/1704458\">stackoverflow.com/a/27442658/1704458</a>"}], "answers": [{"tags": [], "owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "is_accepted": true, "score": 2, "last_activity_date": 1508969943, "last_edit_date": 1508969943, "creation_date": 1508968317, "answer_id": 46942625, "question_id": 46942470, "link": "https://stackoverflow.com/questions/46942470/linq-how-to-use-a-subselect-as-a-virtual-table-in-from/46942625#46942625", "title": "Linq how to use a subSelect as a virtual table in FROM", "body": "<p>Assume this represents your <code>meter_table</code> within your database\n in this case each element of the list represents a record in the database table holding the appropriate attributes \n i.e the table columns will become the properties of each object</p>\n\n<pre><code>List&lt;Meter&gt; meter_table = new List&lt;Meter&gt;();\n</code></pre>\n\n<p>Assume this represents the <code>facility_table</code> table you want to join with.\n    same goes here, each element of the list represents a record in the database table holding the appropriate attributes \n    i.e the table columns will become the properties of each object</p>\n\n<pre><code>List&lt;Facility&gt; facility_table = new List&lt;Facility&gt;();\n</code></pre>\n\n<p>then perform the inner join like so:</p>\n\n<pre><code>var query = from m in meter_table\n            join a in facility_table on m.meter_id equals a.fac_id\n            where a.id == 101\n            select new { meter_name = m.MeterName, \n                         loc_id = a.LocId, \n                         facility_name = a.FacilityName,\n                         meter_type = m.MeterType\n                       };\n</code></pre>\n\n<p>where <code>m.MeterName</code>, <code>a.LocId</code>, <code>a.FacilityName</code>, <code>m.MeterType</code> are properties of their respective types.</p>\n\n<p>it's also worth noting the variable <em>query</em> references an <em>IEnumerable</em> of anonymous types. However, if you want to return an <code>IEnumerable</code> of  strongly typed objects then feel free to define your own type with the appropriate properties then just change <code>select new</code> to:</p>\n\n<pre><code>select new typeName { /* assign values appropriately */}\n</code></pre>\n\n<p>of the above query.</p>\n"}], "owner": {"reputation": 4789, "user_id": 1735836, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ee6KW.png?s=128&g=1", "display_name": "Patricia", "link": "https://stackoverflow.com/users/1735836/patricia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "accepted_answer_id": 46942625, "answer_count": 1, "score": 1, "last_activity_date": 1508969943, "creation_date": 1508967526, "last_edit_date": 1508968066, "question_id": 46942470, "link": "https://stackoverflow.com/questions/46942470/linq-how-to-use-a-subselect-as-a-virtual-table-in-from", "title": "Linq how to use a subSelect as a virtual table in FROM", "body": "<p>There may be similar questions out here but none that I could find for doing a subSelect in the <strong>FROM</strong> clause as a virtual table.</p>\n\n<p>Most of the columns I need are in <strong>one</strong> table.  There are a few columns needed from different tables that I cannot join on without getting a Cartesian join.</p>\n\n<p>Here is my SQL query:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT meter_name, a.loc_id, a.loc_name, a.facility_name, meter_type\nFROM   meter_table, (SELECT  loc_id, loc_name, facility_name\n                     FROM    facility_table\n                     WHERE   id = 101) a\nWHERE meter_id = a.fac_id\n</code></pre>\n\n<p>I have no idea how to convert this into Linq and it must be done tonight for a demo in the morning.</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 91, "user_id": 8505558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fcc633c378c0e3ef3e82299f79659e9?s=128&d=identicon&r=PG&f=1", "display_name": "Arman Papikyan", "link": "https://stackoverflow.com/users/8505558/arman-papikyan"}, "edited": false, "score": 0, "creation_date": 1508967587, "post_id": 46942465, "comment_id": 80832372, "body": "You cant use Debug.Log like a Console.WriteLine, replace (string.Format(&quot;ID = {0}&quot;, logdebug) with (string.Format(&quot;ID = {0} &quot; +  logdebug)."}, {"owner": {"reputation": 77, "user_id": 3543432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b85a43b367761ee2843358b2d0e14f27?s=128&d=identicon&r=PG&f=1", "display_name": "A4Treok", "link": "https://stackoverflow.com/users/3543432/a4treok"}, "reply_to_user": {"reputation": 91, "user_id": 8505558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fcc633c378c0e3ef3e82299f79659e9?s=128&d=identicon&r=PG&f=1", "display_name": "Arman Papikyan", "link": "https://stackoverflow.com/users/8505558/arman-papikyan"}, "edited": false, "score": 0, "creation_date": 1508967992, "post_id": 46942465, "comment_id": 80832554, "body": "For some reason, it doesn&#39;t like that. I get <code>Exception in callback: System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. ---&gt; System.FormatException: Index (zero based) must be greater than or equal to zero and less than the size of the argument list.</code>"}, {"owner": {"reputation": 91, "user_id": 8505558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fcc633c378c0e3ef3e82299f79659e9?s=128&d=identicon&r=PG&f=1", "display_name": "Arman Papikyan", "link": "https://stackoverflow.com/users/8505558/arman-papikyan"}, "edited": false, "score": 0, "creation_date": 1508968587, "post_id": 46942465, "comment_id": 80832784, "body": "Than congratulations. Your problem of &#39;not showing the whole text&#39; was fixed, now it seems your vuMarkID is out of range (is less than 0), you have to fix that to use its value."}, {"owner": {"reputation": 8486, "user_id": 4366237, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/PeNn9.jpg?s=128&g=1", "display_name": "Umair M", "link": "https://stackoverflow.com/users/4366237/umair-m"}, "reply_to_user": {"reputation": 91, "user_id": 8505558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fcc633c378c0e3ef3e82299f79659e9?s=128&d=identicon&r=PG&f=1", "display_name": "Arman Papikyan", "link": "https://stackoverflow.com/users/8505558/arman-papikyan"}, "edited": false, "score": 0, "creation_date": 1509006707, "post_id": 46942465, "comment_id": 80845945, "body": "@ArmanPapikyan the exception is because of what you suggested. As it is wrong syntax of String.Format()."}, {"owner": {"reputation": 91, "user_id": 8505558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fcc633c378c0e3ef3e82299f79659e9?s=128&d=identicon&r=PG&f=1", "display_name": "Arman Papikyan", "link": "https://stackoverflow.com/users/8505558/arman-papikyan"}, "edited": false, "score": 0, "creation_date": 1509007781, "post_id": 46942465, "comment_id": 80846658, "body": "Oh that was an argument for string.Format, ok my bad. I thought oyu were passing it as an argument for Debug.Log."}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 3543432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b85a43b367761ee2843358b2d0e14f27?s=128&d=identicon&r=PG&f=1", "display_name": "A4Treok", "link": "https://stackoverflow.com/users/3543432/a4treok"}, "edited": false, "score": 0, "creation_date": 1509050782, "post_id": 46949502, "comment_id": 80874805, "body": "Ah, I found that vuMarkID actually has a length of 10 for some reason (even when it&#39;s just the world &quot;Table&quot;). However, I can&#39;t find out what the remaining characters are (I tried trim and replacing newline), so I can&#39;t post a solution yet. It may be how Unity treats them in the debugger. I appreciate the help though."}], "tags": [], "owner": {"reputation": 8486, "user_id": 4366237, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/PeNn9.jpg?s=128&g=1", "display_name": "Umair M", "link": "https://stackoverflow.com/users/4366237/umair-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1509007135, "creation_date": 1509007135, "answer_id": 46949502, "question_id": 46942465, "link": "https://stackoverflow.com/questions/46942465/unity-and-c-debuglog-not-printing-everything/46949502#46949502", "title": "Unity and C# DebugLog Not Printing Everything", "body": "<pre><code>if (vuMarkID.CompareTo(\"Table \") == 0)\n</code></pre>\n\n<p>Note the <code>\" \"</code>(space) after Table. </p>\n\n<p>If <code>vuMarkID</code> is \"Table\", it would go to else statement as it doesn't match.</p>\n\n<p>You need to remove space:</p>\n\n<pre><code>if (vuMarkID.Trim().CompareTo(\"Table\") == 0)\n</code></pre>\n\n<p>And to print object if its something else:</p>\n\n<p>do this:</p>\n\n<pre><code>string vuMarkID = GetVuMarkId(vuMarkObj).ToString();\nDebug.Log(vuMarkID); // this will always tell you id. No matter what it is.\n\nif (vuMarkID.CompareTo(\"Table\") == 0)\n{\n    Debug.Log(\"Table found from tracking!\");\n    // do table related stuff.\n}\n</code></pre>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 77, "user_id": 3543432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b85a43b367761ee2843358b2d0e14f27?s=128&d=identicon&r=PG&f=1", "display_name": "A4Treok", "link": "https://stackoverflow.com/users/3543432/a4treok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 439, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1595613104, "creation_date": 1508967487, "last_edit_date": 1595613104, "question_id": 46942465, "link": "https://stackoverflow.com/questions/46942465/unity-and-c-debuglog-not-printing-everything", "title": "Unity and C# DebugLog Not Printing Everything", "body": "<p>I'm working with Unity(+Vuforia), and I'm having some problems trying to print some variables that I want to identify the vuMark Augmented Reality Object (this a Vuforia thing) with, but I can't seem to get it to work.</p>\n\n<p>My code is below, where I want the vuMarkID to be compared to \"Table\". In the DebugLog, however, my second statement (<code>Debug.Log(\"vuMarkCompareToTable...\")</code>) returns 1. Even though the first statement (<code>Debug.Log(\"ID = {0}\"...)</code>) returns \"Table\". I have tried trimming the vuMarkID string object, and also tried converting it directly, as you see below.</p>\n\n<p>The other strange thing is nothing will print after \"Table\" in the debug log, for the first statement. I've tried concatenating using something like <code>vuMarkID+\"END\"</code>, and the statement just cuts off at \"Table\". I've even tried printing using <code>\"ID = {0}{0}\"</code>, and only the first \"Table\" prints. Even if the vuMarkID object changes (for instance, to Stool), it still does not print anything after the initial vuMarkID object.</p>\n\n<p>How can I get the Debug.Log to recognize text after \"Table\" and have the CompareTo function return 0 when the arguments are (seemingly) the same?</p>\n\n<p>Edit: I tried <code>Debug.Log(string.Format(\"ID = \" + vuMarkID + \"DONE\"));</code> as well (I'm trying to see if there's something after the text), but that also cuts off immediately after the vuMarkID. I tried replacing for newline, just in case it was there, but it didn't have an effect.</p>\n\n<pre><code>//Gets the id of a VuMark Object \nstring vuMarkID = GetVuMarkId(vuMarkObj).ToString();\nif (vuMarkID.CompareTo(\"Table \") == 0)\n{\n    Debug.Log(\"Table found from tracking!\");\n}\nelse\n{\n    string logdebug = vuMarkID;\n    object[] args = new object[] { (vuMarkID), vuMarkID.CompareTo(\"Table\") };\n    Debug.Log(string.Format(\"ID = {0}\", logdebug));\n    Debug.Log(\"vuMarkCompareToTable = \" + (vuMarkID.Trim().CompareTo(\"Table\")));\n\n}\n</code></pre>\n"}, {"tags": ["c#", "system.timers.timer"], "comments": [{"owner": {"reputation": 1121, "user_id": 3618341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMB8m.png?s=128&g=1", "display_name": "flyte", "link": "https://stackoverflow.com/users/3618341/flyte"}, "edited": false, "score": 0, "creation_date": 1508967491, "post_id": 46942349, "comment_id": 80832335, "body": "While this has been marked as duplicate, I would like to suggest not using <code>System.Timers</code>, but consider an approach using <a href=\"https://www.quartz-scheduler.net/\" rel=\"nofollow noreferrer\">Quartz.NET</a>"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 1121, "user_id": 3618341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMB8m.png?s=128&g=1", "display_name": "flyte", "link": "https://stackoverflow.com/users/3618341/flyte"}, "edited": false, "score": 0, "creation_date": 1508967768, "post_id": 46942349, "comment_id": 80832451, "body": "@flyte The duplicate specifically says not to use a timer, and to use a proper scheduling system."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1508968678, "post_id": 46942349, "comment_id": 80832810, "body": "Just set it for a day instead of a month.  Count down the days.  Easy peasy, just a variable instead of a complete library or a system service.  Do keep in mind that keeping a program running for a month requires a pretty solid electric company :)"}, {"owner": {"reputation": 1121, "user_id": 3618341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMB8m.png?s=128&g=1", "display_name": "flyte", "link": "https://stackoverflow.com/users/3618341/flyte"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1508969975, "post_id": 46942349, "comment_id": 80833250, "body": "@servy - show me where the duplicate suggests Quartz.NET as a &quot;proper scheduling system&quot;. It doesn&#39;t, which is the whole point of my comment."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 1121, "user_id": 3618341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMB8m.png?s=128&g=1", "display_name": "flyte", "link": "https://stackoverflow.com/users/3618341/flyte"}, "edited": false, "score": 0, "creation_date": 1509023965, "post_id": 46942349, "comment_id": 80857992, "body": "@flyte I didn&#39;t say it suggests Quartz specifically, it suggests an entirely different proper scheduling system."}], "owner": {"reputation": 4389, "user_id": 1472806, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/u20P2.jpg?s=128&g=1", "display_name": "bob.mazzo", "link": "https://stackoverflow.com/users/1472806/bob-mazzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "closed_date": 1508967187, "answer_count": 0, "score": 0, "last_activity_date": 1508966964, "creation_date": 1508966964, "question_id": 46942349, "link": "https://stackoverflow.com/questions/46942349/c-timer-method-limitations", "closed_reason": "Duplicate", "title": "c# Timer method limitations", "body": "<p>We're setting up a service which can handle daily/weekly/monthly/quarterly job runs.\nThe issue we are facing is regarding the quarterly jobs. We just discovered that, while running our job, it fails on the <code>Timer()</code> at this point in our code:</p>\n\n<pre><code>_tmr = new System.Timers.Timer(lapsed);\n</code></pre>\n\n<p>where var <code>lapsed</code> lapsed ending up being over 7,500,000,000 milliseconds.</p>\n\n<p>And the error was:</p>\n\n<p><code>Invalid valud 7,500,00,00 for parameter 'interval'</code></p>\n\n<p>So now that we understand the Timer() interval as per the <code>Timer()</code> definition:</p>\n\n<p><code>// Parameters:\n     //   interval:\n     //     The time, in milliseconds, between events. The value must be greater than zero\n     //     and less than or equal to System.Int32.MaxValue.</code></p>\n\n<p>We realize that we CANNOT pass an interval value larger than <code>System.Int32.MaxValue</code> (or 2,147,483,647)</p>\n\n<p><strong><em>MY PROBLEM:</em></strong></p>\n\n<p>I'm trying to think of a way to simulate this quarterly \"job service\" functionality, while working around this millisecond interval limitation.</p>\n\n<p>For example, perhaps I could flag a job for \"monthly\", but the logic will check the job weekly - and only execute the actual job object if we have reached the next quarter.</p>\n\n<p>I'm a little stuck on this, so any guidance and/or advice is greatly appreciated....</p>\n"}, {"tags": ["c#", "webforms", "timespan"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 2, "creation_date": 1508966985, "post_id": 46942282, "comment_id": 80832098, "body": "Why are you using <code>TimeSpan</code> to store dates (e.g. <code>finishTime</code>)?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1508967144, "post_id": 46942282, "comment_id": 80832184, "body": "12PM without any other context comes after 2PM so when you subtract 2PM - 12PM you get -10hours. You need to check if startTime is after finishTime and swap the two values if true."}, {"owner": {"reputation": 334, "user_id": 4668193, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/37da9945602522cb1cd758354248afd9?s=128&d=identicon&r=PG&f=1", "display_name": "maltman", "link": "https://stackoverflow.com/users/4668193/maltman"}, "edited": false, "score": 0, "creation_date": 1508967215, "post_id": 46942282, "comment_id": 80832212, "body": "@mjwillis.  No real reason.  I was dealing with TimeSpans so I made all TimeSpans"}], "answers": [{"comments": [{"owner": {"reputation": 334, "user_id": 4668193, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/37da9945602522cb1cd758354248afd9?s=128&d=identicon&r=PG&f=1", "display_name": "maltman", "link": "https://stackoverflow.com/users/4668193/maltman"}, "edited": false, "score": 0, "creation_date": 1508967422, "post_id": 46942419, "comment_id": 80832303, "body": "Ah ok.  That makes sense.  So for noon, could you just set it to 12 and for midnight set to 24?  Or would it be easier in the long run to just ditch the TimeSpans?"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "reply_to_user": {"reputation": 334, "user_id": 4668193, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/37da9945602522cb1cd758354248afd9?s=128&d=identicon&r=PG&f=1", "display_name": "maltman", "link": "https://stackoverflow.com/users/4668193/maltman"}, "edited": false, "score": 0, "creation_date": 1508967554, "post_id": 46942419, "comment_id": 80832360, "body": "It would be easier to choose a datatype that reflects the underlying concept. <code>TimeSpan</code> is not for storing a point in time (it is for storing duration). Can you make it work using <code>TimeSpan</code> rather than <code>DateTime</code>? Sure. Will it be hard to understand and maintain? Definitely."}, {"owner": {"reputation": 334, "user_id": 4668193, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/37da9945602522cb1cd758354248afd9?s=128&d=identicon&r=PG&f=1", "display_name": "maltman", "link": "https://stackoverflow.com/users/4668193/maltman"}, "edited": false, "score": 0, "creation_date": 1508967657, "post_id": 46942419, "comment_id": 80832402, "body": "Good point.  Thank you for the help.  I will convert my timespans to date time and then handle noon and midnight separately"}], "tags": [], "owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "is_accepted": true, "score": 1, "last_activity_date": 1508967276, "creation_date": 1508967276, "answer_id": 46942419, "question_id": 46942282, "link": "https://stackoverflow.com/questions/46942282/timespan-difference-not-calculating-correctly/46942419#46942419", "title": "Timespan difference not calculating correctly", "body": "<p>A <code>TimeSpan</code> is for storing a duration of time, not a time during the day.</p>\n\n<p>As such, while you believe you are storing \"12PM\", what you are actually storing is a 24 hour time period. And \"2PM\" is a 14 hour time period.</p>\n\n<p>Thus \"2PM\" - \"12PM\" = 14 hours - 24 hours (i.e. -10 hours).</p>\n\n<p>To solve this, you need to store date/time in <code>DateTime</code>, not <code>TimeSpan</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 334, "user_id": 4668193, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/37da9945602522cb1cd758354248afd9?s=128&d=identicon&r=PG&f=1", "display_name": "maltman", "link": "https://stackoverflow.com/users/4668193/maltman"}, "edited": false, "score": 0, "creation_date": 1508967534, "post_id": 46942432, "comment_id": 80832352, "body": "Same comment as other answer.  Would it work to just set 2 more if statements and set noon to 12 and midnight to 0?"}], "tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": false, "score": 1, "last_activity_date": 1508967332, "creation_date": 1508967332, "answer_id": 46942432, "question_id": 46942282, "link": "https://stackoverflow.com/questions/46942282/timespan-difference-not-calculating-correctly/46942432#46942432", "title": "Timespan difference not calculating correctly", "body": "<p>Your operations works only if the startTime is less than the finishTime otherwise all the results will come back as negatives. In your example 12 PM   comes after 2 PM so when you subtract 2 PM - 12 PM you get then -10 hours.<br>\nYou need to check if startTime is after finishTime and swap the two values if true</p>\n\n<pre><code>if (finishTime &lt; startTime)\n{\n    TimeSpan swap = finishTime;\n    finishTime = startTime;\n    startTime = swap;\n}\nTimeSpan diff = finishTime - startTime;\nstring time = String.Format(diff.TotalHours + \" Hours, \" + diff.Minutes + \" Minutes\");\n</code></pre>\n"}], "owner": {"reputation": 334, "user_id": 4668193, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/37da9945602522cb1cd758354248afd9?s=128&d=identicon&r=PG&f=1", "display_name": "maltman", "link": "https://stackoverflow.com/users/4668193/maltman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 46942419, "answer_count": 2, "score": 0, "last_activity_date": 1508967332, "creation_date": 1508966638, "last_edit_date": 1508966988, "question_id": 46942282, "link": "https://stackoverflow.com/questions/46942282/timespan-difference-not-calculating-correctly", "title": "Timespan difference not calculating correctly", "body": "<p>I am building a web form in C#.  I have 3 drops downs for Start Time (Start Hour, Start Minute, and Start Time of Day (AM or PM) and 3 for finish time.  My goal is to calculate the difference.  Everything works fine until I choose noon or midnight.  When I choose noon and debug, the value shows as 1.  Here is my code.</p>\n\n<pre><code>var startHourDDL = ddlStartHour.SelectedValue;\nvar startMinuteDDL = ddlStartMinute.SelectedValue;\nvar startTOD = ddlStartTOD.SelectedValue;\n\nint startHour = Convert.ToInt32(startHourDDL);\nint startMinute = Convert.ToInt32(startMinuteDDL);\n\nvar finishHourDDL = ddlFinishHour.SelectedValue;\nvar finishMinuteDDL = ddlFinishMinute.SelectedValue;\nvar finishTOD = ddlFinishTOD.SelectedValue;\n\nint finishHour = Convert.ToInt32(finishHourDDL);\nint finishMinute = Convert.ToInt32(finishMinuteDDL);\n\nif (startTOD == \"PM\")\n{\n    startTime = new TimeSpan(startHour + 12, startMinute, 0);\n}\n\nelse\n{\n    startTime = new TimeSpan(startHour, startMinute, 0);\n}\n\nif (finishTOD == \"PM\")\n{\n    finishTime = new TimeSpan(finishHour + 12, finishMinute, 0);\n}\n\nelse\n{\n    finishTime = new TimeSpan(finishHour, finishMinute, 0);\n}\n\nTimeSpan diff = finishTime - startTime;\nstring time = String.Format(diff.Hours + \" Hours, \" + diff.Minutes + \" Minutes\");\n\nlblDurAmount.Text = time;\n</code></pre>\n\n<p>So if I choose 2:00 PM for start time and 4:00 PM for finish time, the label shows 2 hours.  However, if I choose 12:00 PM for start time and 2:00 PM for finish time I get -10 hours.</p>\n\n<p>This is what I get for start time when I debug at 12:00 PM.</p>\n\n<pre><code>{1.00:00:00}\n</code></pre>\n\n<p>Here is what I get when I choose 5:00 PM</p>\n\n<pre><code>{17:00:00}\n</code></pre>\n\n<p>I can't figure out why it won't set noon to 24.  I even tried adding an if statement</p>\n\n<pre><code>if (startHour == 12 &amp;&amp; startTOD)\n{\n    startTime = new TimeSpan(24, startMinute, 0);\n}\n</code></pre>\n\n<p>But that didn't work either.  Value was still 1.00.</p>\n"}, {"tags": ["javascript", "c#", "asp.net-core"], "comments": [{"owner": {"reputation": 590, "user_id": 3154478, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8061ae3b91623466de6bce489a422a23?s=128&d=identicon&r=PG&f=1", "display_name": "Mkalafut", "link": "https://stackoverflow.com/users/3154478/mkalafut"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1508967057, "post_id": 46942151, "comment_id": 80832136, "body": "@mjwills I would like to solve this client-side.  That is the behavior I do not have that I would like to have."}, {"owner": {"reputation": 590, "user_id": 3154478, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8061ae3b91623466de6bce489a422a23?s=128&d=identicon&r=PG&f=1", "display_name": "Mkalafut", "link": "https://stackoverflow.com/users/3154478/mkalafut"}, "reply_to_user": {"reputation": 1609, "user_id": 2698341, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/483f9eb419f9f31ede6b9ffec853c8dd?s=128&d=identicon&r=PG&f=1", "display_name": "Aryan Firouzian", "link": "https://stackoverflow.com/users/2698341/aryan-firouzian"}, "edited": false, "score": 1, "creation_date": 1508967084, "post_id": 46942151, "comment_id": 80832161, "body": "@AryanFirouzyan I am not sure how that helps me in any way with this question."}, {"owner": {"reputation": 1609, "user_id": 2698341, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/483f9eb419f9f31ede6b9ffec853c8dd?s=128&d=identicon&r=PG&f=1", "display_name": "Aryan Firouzian", "link": "https://stackoverflow.com/users/2698341/aryan-firouzian"}, "edited": false, "score": 1, "creation_date": 1508967314, "post_id": 46942151, "comment_id": 80832260, "body": "sorry the question was not clear ( it is a client side problem). Ignore it."}], "answers": [{"comments": [{"owner": {"reputation": 590, "user_id": 3154478, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8061ae3b91623466de6bce489a422a23?s=128&d=identicon&r=PG&f=1", "display_name": "Mkalafut", "link": "https://stackoverflow.com/users/3154478/mkalafut"}, "edited": false, "score": 0, "creation_date": 1508968656, "post_id": 46942588, "comment_id": 80832801, "body": "I am including JQuery.  Thanks, Chris.  I will check it out and update."}, {"owner": {"reputation": 590, "user_id": 3154478, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8061ae3b91623466de6bce489a422a23?s=128&d=identicon&r=PG&f=1", "display_name": "Mkalafut", "link": "https://stackoverflow.com/users/3154478/mkalafut"}, "edited": false, "score": 0, "creation_date": 1509024264, "post_id": 46942588, "comment_id": 80858266, "body": "Hey Chris, I switched it around in my code but I noticed you use the year instead of quarter.  The year needs to be present in both monthly and quarterly selection.  Also this snippet isn&#39;t working.  Both boxes show up and nothing happens on change.  I am including JQuery 3.2.1 in my Bower packages."}, {"owner": {"reputation": 590, "user_id": 3154478, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8061ae3b91623466de6bce489a422a23?s=128&d=identicon&r=PG&f=1", "display_name": "Mkalafut", "link": "https://stackoverflow.com/users/3154478/mkalafut"}, "edited": false, "score": 0, "creation_date": 1509024747, "post_id": 46942588, "comment_id": 80858655, "body": "Could be a problem on my end, looking into it."}, {"owner": {"reputation": 353, "user_id": 5038805, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1454760098153298/picture?type=large", "display_name": "Chris Thompson", "link": "https://stackoverflow.com/users/5038805/chris-thompson"}, "reply_to_user": {"reputation": 590, "user_id": 3154478, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8061ae3b91623466de6bce489a422a23?s=128&d=identicon&r=PG&f=1", "display_name": "Mkalafut", "link": "https://stackoverflow.com/users/3154478/mkalafut"}, "edited": false, "score": 0, "creation_date": 1509137824, "post_id": 46942588, "comment_id": 80914032, "body": "In regards to both boxes showing up, you can either add a piece of javascript to the document ready portion of the snippet, that will hide the boxes, or you can set this up in the HTML using <code>style=&quot;display: none;&quot;</code>, which will force both of the boxes to not show up until the on change function shows one of them."}], "tags": [], "owner": {"reputation": 353, "user_id": 5038805, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1454760098153298/picture?type=large", "display_name": "Chris Thompson", "link": "https://stackoverflow.com/users/5038805/chris-thompson"}, "is_accepted": false, "score": 1, "last_activity_date": 1508968119, "creation_date": 1508968119, "answer_id": 46942588, "question_id": 46942151, "link": "https://stackoverflow.com/questions/46942151/how-to-create-a-cascading-selectlist-in-asp-net-core-mvc/46942588#46942588", "title": "How to create a cascading SelectList in ASP.Net Core MVC", "body": "<p>This should be pretty simple to do via javascript. My approach will use JQuery, if you aren't using JQuery there are resources available to help you convert it into native javascript code.</p>\n\n<pre><code>$(document).ready(function() {\n    $(\"#TimeSlice\").on(\"change\", function() {\n        var selectedValue = $(this).val();\n        if(val === \"Whatever the value of Monthly is here\")\n        {\n            $(\"#StartMonth\").show();\n            $(\"#StartYear\").hide();\n        }\n        else if(val === \"Whatever the value of Quarterly is here\"){     \n            $(\"#StartYear\").show();\n            $(\"#StartMonth\").hide();\n        }else{\n            //If you have any other options in the dropdown, such as a default value or placeholder, this will hide both quarterly and monthly\n            $(\"#StartYear\").hide();\n            $(\"#StartMonth\").hide();\n        }\n    }\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 590, "user_id": 3154478, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8061ae3b91623466de6bce489a422a23?s=128&d=identicon&r=PG&f=1", "display_name": "Mkalafut", "link": "https://stackoverflow.com/users/3154478/mkalafut"}, "edited": false, "score": 0, "creation_date": 1508987206, "post_id": 46942859, "comment_id": 80837680, "body": "Thanks for the detailed reply!  I will check it out tomorrow."}], "tags": [], "owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "is_accepted": false, "score": 1, "last_activity_date": 1508969527, "creation_date": 1508969527, "answer_id": 46942859, "question_id": 46942151, "link": "https://stackoverflow.com/questions/46942151/how-to-create-a-cascading-selectlist-in-asp-net-core-mvc/46942859#46942859", "title": "How to create a cascading SelectList in ASP.Net Core MVC", "body": "<p>There is nothing complicated to do this. All you do is, first render the first dropdown and listen to the change event of that and read the value and make an ajax call with selected value to the server where it will return the appropriate list of SelectListItems to render the second dropdown.   </p>\n\n<pre><code>public class DashboardChartsByMonthModel\n{\n   public List&lt;SelectListItem&gt; TimeSliceList { set;get;}\n   public int SelectedTimeSlice { set;get;}\n\n   public List&lt;SelectListItem&gt; TimeOptions{ set;get;}\n   public int SelectedTimeOption { set;get;}    \n}\n</code></pre>\n\n<p>in your GET action, you load the first dropdown data</p>\n\n<pre><code>public IActionResult Create()\n{\n  var vm= new DashboardChartsByMonthModel();\n  vm.TimeSliceList = new List&lt;SelectListItem&gt;\n  {\n        new SelectListItem {Selected = true, Text = \"Monthly\",\n                                             Value = TimeSlice.ByMonth.ToString()},\n        new SelectListItem {Selected = false, Text = \"Quarterly\",\n                                              Value = TimeSlice.ByQuarter.ToString()}\n  };\n  return View(vm);\n}\n</code></pre>\n\n<p>and in your view, use the SELECT tag helper</p>\n\n<pre><code>@model DashboardChartsByMonthModel\n&lt;form asp-action=\"Create\" asp-controller=\"Home\" method=\"post\"&gt;    \n    &lt;select asp-for=\"SelectedTimeSlice\" asp-items=\"@Model.TimeSliceList\"&gt;&lt;/select&gt;\n    &lt;select id=\"SelectedTimeOption\" name=\"SelectedTimeOption\" \n                                    data-url=\"@Url.Action(\"GetTimes\")\"&gt;&lt;/select&gt;\n    &lt;input type=\"submit\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>The javascript to handle change event is pretty simple with jQuery</p>\n\n<pre><code>$(function () {\n\n    $(\"#SelectedTimeSlice\").change(function() {\n        var v = $(this).val();\n        var url = $(\"#SelectedTimeOption\").data(\"url\") + '?value=' + v;\n        $.getJSON(url,function(data) {\n                $(\"#SelectedTimeOption\").empty();\n                $.each(data,\n                    function(i, item) {\n                        $(\"#SelectedTimeOption\")\n                     .append($(\"&lt;option&gt;\").text(item.text).val(item.value));\n                    });\n            });\n    });\n\n});\n</code></pre>\n\n<p>This expects you have an action method which accepts the selected option value  of first dropdown and return the options needed for second.</p>\n\n<pre><code>public IActionResult GetTimes(string value)\n{\n    if (value == TimeSlice.ByMonth.ToString())\n    {\n        var l = new List&lt;SelectListItem&gt;\n        {\n            new SelectListItem {Selected = true, Text = \"January\", Value = \"1\"},\n            new SelectListItem {Selected = false, Text = \"February\", Value = \"2\"}\n        };\n        return Json(l);\n    }\n    var t2 = new List&lt;SelectListItem&gt;\n    {\n        new SelectListItem {Selected = true, Text = \"Q1\", Value = \"1\"},\n        new SelectListItem {Selected = false, Text = \"Q2\", Value = \"2\"}\n    };\n    return Json(t2);\n}\n</code></pre>\n\n<p>The important to thing to notice is, In asp.net core the returned JSON is camel case. So for each select option, it is <code>text</code> and <code>value</code> instead of <code>Text</code> and <code>Value</code></p>\n"}], "owner": {"reputation": 590, "user_id": 3154478, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8061ae3b91623466de6bce489a422a23?s=128&d=identicon&r=PG&f=1", "display_name": "Mkalafut", "link": "https://stackoverflow.com/users/3154478/mkalafut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1684, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1509032679, "creation_date": 1508965993, "last_edit_date": 1508967101, "question_id": 46942151, "link": "https://stackoverflow.com/questions/46942151/how-to-create-a-cascading-selectlist-in-asp-net-core-mvc", "title": "How to create a cascading SelectList in ASP.Net Core MVC", "body": "<p>I had this working in a different application with the same model values, but I've run into a problem this time around.</p>\n\n<p>What I want to achieve is that when I select one value in one <code>SelectList</code>, the values in a different one are changed. This is not currently working.</p>\n\n<p>Say I have the following model:</p>\n\n<pre><code>public class DashboardChartsByMonthModel\n{\n    ...\n    public SelectList TimeSliceList { get; set; }\n    public TimeSlice TimeSliceVal { get; set; } // Timeslice is an Enum containing \"ByMonth\" and \"ByQuarter\"\n    public SelectList StartQuarterList { get; set; }\n    public string StartQuarter { get; set; }\n    public SelectList StartMonthList { get; set; }\n    public string StartMonth { get; set; }\n    public SelectList StartYearList { get; set; }\n    public string StartYear { get; set; }\n    ....\n    public void SetDefaults()\n    {\n        ...\n        TimeSliceList = new SelectList(new List&lt;SelectListItem&gt;\n        {\n            new SelectListItem {Selected = true, Text = \"Monthly\", Value = TimeSlice.ByMonth.ToString()},\n            new SelectListItem {Selected = false, Text = \"Quarterly\", Value = TimeSlice.ByQuarter.ToString()}\n        }, \"Value\", \"Text\");\n}\n        StartQuarterList = new SelectList(new List&lt;SelectListItem&gt;\n        {\n            new SelectListItem {Selected = true, Text = \"Q1\", Value = \"1\"},\n            new SelectListItem {Selected = false, Text = \"Q2\", Value = \"4\"},\n            new SelectListItem {Selected = false, Text = \"Q3\", Value = \"7\"},\n            new SelectListItem {Selected = false, Text = \"Q4\", Value = \"10\"}\n        }, \"Value\", \"Text\");\n\n        StartMonthList = new SelectList(new List&lt;SelectListItem&gt;\n        {\n            new SelectListItem {Selected = true, Text = \"January\", Value = \"1\"},\n            new SelectListItem {Selected = false, Text = \"February\", Value = \"2\"},\n            new SelectListItem {Selected = false, Text = \"March\", Value = \"3\"},\n            new SelectListItem {Selected = false, Text = \"April\", Value = \"4\"},\n            new SelectListItem {Selected = false, Text = \"May\", Value = \"5\"},\n            new SelectListItem {Selected = false, Text = \"June\", Value = \"6\"},\n            new SelectListItem {Selected = false, Text = \"July\", Value = \"7\"},\n            new SelectListItem {Selected = false, Text = \"August\", Value = \"8\"},\n            new SelectListItem {Selected = false, Text = \"September\", Value = \"9\"},\n            new SelectListItem {Selected = false, Text = \"October\", Value = \"10\"},\n            new SelectListItem {Selected = false, Text = \"November\", Value = \"11\"},\n            new SelectListItem {Selected = false, Text = \"December\", Value = \"12\"}\n        }, \"Value\", \"Text\");\n\n        StartYearList = new SelectList(new List&lt;SelectListItem&gt;\n        {\n            new SelectListItem {Selected = false, Text = \"2016\", Value = \"2016\"},\n            new SelectListItem {Selected = true, Text = \"2017\", Value = \"2017\"}\n        }, \"Value\", \"Text\");\n</code></pre>\n\n<p>And my view, a Razor(.cshtml) page, has the following:</p>\n\n<pre><code>&lt;body&gt;\n    ....\n    &lt;form method=\"post\"&gt;\n            &lt;h3&gt;By Month or Quarter&lt;/h3&gt;\n            &lt;select id=\"TimeSlice\" name=\"TimeSlice\" asp-for=\"TimeSliceVal\" asp-items=\"@Model.TimeSliceList\"&gt;&lt;/select&gt;\n            Start:&lt;select id=\"StartMonth\" name=\"StartMonth\" asp-for=\"StartMonth\" asp-items=\"@Model.StartMonthList\"&gt;&lt;/select&gt;\n            &lt;select id=\"StartYear\" name=\"StartYear\" asp-for=\"StartYear\" asp-items=\"@Model.StartYearList\"&gt;&lt;/select&gt;\n    ....\n</code></pre>\n\n<p>is there a way to have it so that if the value in the first SelectList is Monthly, it displays the values of the MonthList and vice versa so that when the first box is changed, the second box changes as well?</p>\n\n<p>I was able to solve this problem in one of my other applications but it was very cumbersome and relied on both of the SelectLists accessing the same model property.  I imagine there has to be a better way to do this.</p>\n"}, {"tags": ["c#", "novacode-docx"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5690556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea949773da5b9cf4331898d51f8772b9?s=128&d=identicon&r=PG", "display_name": "DLJonsson2008", "link": "https://stackoverflow.com/users/5690556/dljonsson2008"}, "is_accepted": false, "score": 0, "last_activity_date": 1518268204, "last_edit_date": 1518268204, "creation_date": 1518266885, "answer_id": 48720935, "question_id": 46942135, "link": "https://stackoverflow.com/questions/46942135/novacode-docx-inserting-a-table-in-the-right-place/48720935#48720935", "title": "Novacode DocX - Inserting a Table in the right place", "body": "<p>I've had similar problems in sorting out what sometimes seems an ambiguous\ninsertion/appending of images w/ Novacode and started putting images in tables\nto gain better control of placement and alignment in the document. </p>\n\n<p>Significant improvement was found using the <code>InsertTable()</code> command immediately after constructing each table, followed by <code>InsertParagraph([string])</code>.</p>\n\n<p>Not all of the document I'm building is contained in tables. \nSo the in linear sequence </p>\n\n<pre><code>//After building each table.\nNovacode.DocX.InsertTable([nameoftable])\n\n// For text content outside of tables \nNovacode.DocX.InsertParagraph([string])\n</code></pre>\n\n<p>Use of the above in my case enables a completely linear sequence.</p>\n"}], "owner": {"reputation": 1, "user_id": 8833942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6d8b758a4c3deff210a4af0fdca693?s=128&d=identicon&r=PG&f=1", "display_name": "James Higson", "link": "https://stackoverflow.com/users/8833942/james-higson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 664, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518268204, "creation_date": 1508965928, "question_id": 46942135, "link": "https://stackoverflow.com/questions/46942135/novacode-docx-inserting-a-table-in-the-right-place", "title": "Novacode DocX - Inserting a Table in the right place", "body": "<p>I have a document with a number of paragraphs, a table and then a few more paragraphs. Lets say the table has three columns and two rows where the first row is a header and the second row needs to be repeated for each item in a collection of data.  Also, the table may be repeated for each item in a collection of data.</p>\n\n<p>I load the document into a Novacode.DocX object then process each paragraph in the Paragraph collection, appending the paragraphs to a new DocX object based on certain instructions.  The instructions may indicate that the paragraphs are conditional or repeating.</p>\n\n<p>This works fine until I encounter a table.  Each cell in the table is represented as a paragraph (or paragraphs) in the collection of Paragraphs. The only distinguishing property is the paragraph's ParentContainer.  When I encounter a paragraph contained in a table, I attempt to append a table to the new document but this never ends up in the right place.  There doesn't appear to be any way to determine where in the document the table is to be positioned.  I have tried to find a connection between the items in the Tables collection and the items in the Paragraphs collection but there doesn't appear to be anything.  Also the Tables collection doesn't appear to have any properties relating to its location in the document.</p>\n\n<p>I am certain it can't be this hard.  What am I missing?</p>\n"}, {"tags": ["c#", "oracle", "dapper"], "answers": [{"tags": [], "owner": {"reputation": 739, "user_id": 4163768, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JKXht4IxpzU/AAAAAAAAAAI/AAAAAAAAA94/82XKnW1fGZo/photo.jpg?sz=128", "display_name": "Lingster", "link": "https://stackoverflow.com/users/4163768/lingster"}, "is_accepted": false, "score": 0, "last_activity_date": 1508971347, "creation_date": 1508971347, "answer_id": 46943123, "question_id": 46941978, "link": "https://stackoverflow.com/questions/46941978/map-multiple-child-objects-with-dapper/46943123#46943123", "title": "map multiple child objects with dapper", "body": "<p>If I understand well, you want to return objects of Class C which contains objects of ClassA/B. Ie nested classes within your ClassC. </p>\n\n<p>Have you considered looking at Slapper:\n<a href=\"https://github.com/SlapperAutoMapper/Slapper.AutoMapper\" rel=\"nofollow noreferrer\">https://github.com/SlapperAutoMapper/Slapper.AutoMapper</a></p>\n\n<p>which will map dapper data back to your classes? </p>\n\n<p>The oracle sql would look something like the below and you would alias the selected columns so that they map/correspond to the property names on you classA/classB:</p>\n\n<pre><code>select a.value1 as ClassOfA_InventoryOnHand, \n   a.ProjectedSales as ClassOfA_ProjectedSales, \n   b.ExpectedReturns as ClassOfB_ExpectedReturns, \nfrom a, b\n</code></pre>\n"}], "owner": {"reputation": 787, "user_id": 814341, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ITrxx.jpg?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/814341/ron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 336, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508971347, "creation_date": 1508965237, "question_id": 46941978, "link": "https://stackoverflow.com/questions/46941978/map-multiple-child-objects-with-dapper", "title": "map multiple child objects with dapper", "body": "<p>I have a series of entities that I need to return to a caller.  In some instances, they will want a Class A, in some a Class B, and in some both class A and B.  The data are related, all from one table and there are a decent number of columns. The current code calls A, maps it to C.ClassOfA, calls B and maps it to ClassOfB.  I can undo this mess of course, but I would like to return A and B as C with one call, but I'm struggling with Dapper (may be because this can't be done).  I know if A references B I can return all using multi-mapping, but that's not the case. Also, Oracle database (which is not my strongest suit) if that matters.  Suppose my two types are: </p>\n\n<pre><code>class A\n  int InventoryOnHand {get;set;}\n  int ProjectedSales {get;set;}\nclass B\n  int ExpectedReturns{get;set;}\n  int ProjectedProduction{get;set;}\n\nclass C\n  A ClassOfA{get;set;}\n  B ClassOfB{get;set;}\n</code></pre>\n\n<p>I can build the query I'm using dynamically and can return each type but I can't figure out how to map C such that the query that returns both A and B maps to C. I instead.  Is this possible? </p>\n\n<p>TIA</p>\n"}, {"tags": ["c#", "scope", "operators", "c#-7.0"], "answers": [{"tags": [], "owner": {"reputation": 2155, "user_id": 1089416, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a1bd757a761f8e0082a257ddb32ce645?s=128&d=identicon&r=PG", "display_name": "neizan", "link": "https://stackoverflow.com/users/1089416/neizan"}, "is_accepted": true, "score": 3, "last_activity_date": 1509019841, "last_edit_date": 1509019841, "creation_date": 1508965020, "answer_id": 46941918, "question_id": 46941917, "link": "https://stackoverflow.com/questions/46941917/variable-initialization-using-is-operator-gives-error-when-using-same-variable-n/46941918#46941918", "title": "Variable initialization using is operator gives error when using same variable name", "body": "<p><a href=\"https://www.danielcrabtree.com/blog/152/c-sharp-7-is-operator-patterns-you-wont-need-as-as-often\" rel=\"nofollow noreferrer\">This page</a> has a nice explanation of what is going on. Basically, just as the error indicates, the initialized variable is available in the enclosing scope of the <code>if</code> and <code>else if</code> statements. This is similar to how <code>out</code> parameters work. So, yes, when using a series of <code>if</code> statements, you may use a variable name only once.</p>\n\n<p>An alternative would be to use a <code>switch</code> instead of an <code>if</code>:</p>\n\n<pre><code>switch (item) {\n    case Dog animal:\n        // ...\n        break;\n    case Cat animal:\n        // ...\n        break;\n    case Animal animal:\n        // ...\n        break;\n    default:\n        // Interestingly, you cannot reuse the variable name here.\n        // But you could create a new scope and then reuse it.\n        {\n            Animal animal = ...\n        }\n        break;\n}\n</code></pre>\n\n<p>The variables initialized in the <code>switch</code> are limited to the scope of their <code>case</code>. <a href=\"https://stackoverflow.com/a/11409859/1089416\">See also</a>.</p>\n"}], "owner": {"reputation": 2155, "user_id": 1089416, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a1bd757a761f8e0082a257ddb32ce645?s=128&d=identicon&r=PG", "display_name": "neizan", "link": "https://stackoverflow.com/users/1089416/neizan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 46941918, "answer_count": 1, "score": 2, "last_activity_date": 1509019841, "creation_date": 1508965020, "question_id": 46941917, "link": "https://stackoverflow.com/questions/46941917/variable-initialization-using-is-operator-gives-error-when-using-same-variable-n", "title": "Variable initialization using is operator gives error when using same variable name", "body": "<p>I am using the C# 7.0 syntax to initialize a variable when checking the type using the <code>is</code> operator. I want to use the same variable name, say \"animal\", for all scenarios, like this:</p>\n\n<pre><code>// Yes, polymorphism may be better. This is just an illustration.\nif (item is Dog animal) { // ... }\nelse if (item is Cat animal) { // ... }\nelse if (item is Animal animal) { // ... }\nelse { // ... }\n</code></pre>\n\n<p>However, I get an error that says the variable name is used in an enclosing scope. Is there a way to get around this? I'd really rather not have to use different variable names for each <code>else if</code> statement.</p>\n"}, {"tags": ["c#", ".net", "visual-studio-2017"], "answers": [{"tags": [], "owner": {"reputation": 1935, "user_id": 2034048, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/aDv88.jpg?s=128&g=1", "display_name": "7 Reeds", "link": "https://stackoverflow.com/users/2034048/7-reeds"}, "is_accepted": false, "score": 0, "last_activity_date": 1509030029, "creation_date": 1509030029, "answer_id": 46957713, "question_id": 46941745, "link": "https://stackoverflow.com/questions/46941745/visual-studio-2017-web-deploy-emply-database-connection-strings/46957713#46957713", "title": "visual studio 2017 web deploy emply database connection strings", "body": "<p>Found the issue.  Something in the way the MySQL libs set themselves up puts a lot of bogus chaff in the web.config file.  All the entries mention <code>connectionStringName=\"LocalMySqlServer\"</code>.  I commented out all those blocks and it's working again.</p>\n\n<p>Also, even though web publish threw up a popup to tell me it had failed, it really hadn't.  It actually published to the remote dev site.  Running the app over there dumped enough error hints to find the info above.</p>\n"}], "owner": {"reputation": 1935, "user_id": 2034048, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/aDv88.jpg?s=128&g=1", "display_name": "7 Reeds", "link": "https://stackoverflow.com/users/2034048/7-reeds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 672, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509030029, "creation_date": 1508964287, "last_edit_date": 1508966589, "question_id": 46941745, "link": "https://stackoverflow.com/questions/46941745/visual-studio-2017-web-deploy-emply-database-connection-strings", "title": "visual studio 2017 web deploy emply database connection strings", "body": "<p>I have a C# app that was initially written in VS2015 but earlier this year we upgraded to 2017.  I opened the project in VS2017 months ago and kept going.  There is a long story that I don't think is relevant here about some serious weirdness that happened to that app related to <code>css</code> and <code>js</code> deployment in the last 4-5 business days.  Suffice it to say that I threw up my hands and created a new c#/.net framework project in VS2017 and copied the main source files and the web.config file over; re-made my models; brought in the necessary nuget packages, etc.  I built the project without issue.</p>\n\n<p>I am now trying to do a Web Deploy.  This should be a simple thing.  the \"release\" version of the project needs to have the relevant files transferred to an IIS dev server.  I did this many, many times with VS2017 before the weirdness.  It worked.</p>\n\n<p>Now, with a .Net Framework project created from scratch in VS2017 Web Deploy fails with the error </p>\n\n<pre><code>The 'Connection String' argument cannot be null or empty.\n</code></pre>\n\n<p>This is peculiar since when I created the Deploy profile I told it not to deploy databases.  It appears, however, that unchecking the \"Use this connection string at runtime\" boxes in the Web Deply settings is ignored.  Unchecking the boxes and saving the edits then re-editing the settings shows the boxes checked.  Unchecking, saving, exiting VS and re-entering has the boxes checked.</p>\n\n<p>I see the connection elements in the <code>Release.pubxml</code> file generated</p>\n\n<pre><code>    &lt;Project ToolsVersion=\"4.0\" xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\"&gt;\n      &lt;PropertyGroup&gt;\n        ...\n        &lt;PublishDatabaseSettings&gt;\n          &lt;Objects xmlns=\"\"&gt;\n            &lt;ObjectGroup Name=\"MsSQLEntities\" Order=\"1\" Enabled=\"False\"&gt;\n              &lt;Destination Path=\"\" /&gt;\n              &lt;Object Type=\"DbCodeFirst\"&gt;\n                &lt;Source Path=\"DBContext\" DbContext=\"myapp.Models.MsSQLEntities, My App\" Origin=\"Configuration\" /&gt;\n              &lt;/Object&gt;\n            &lt;/ObjectGroup&gt;\n            &lt;ObjectGroup Name=\"MySQLEntities\" Order=\"2\" Enabled=\"False\"&gt;\n              &lt;Destination Path=\"\" /&gt;\n              &lt;Object Type=\"DbCodeFirst\"&gt;\n                &lt;Source Path=\"DBContext\" DbContext=\"myapp.Models.MySQLEntities, My App\" Origin=\"Configuration\" /&gt;\n              &lt;/Object&gt;\n            &lt;/ObjectGroup&gt;\n          &lt;/Objects&gt;\n        &lt;/PublishDatabaseSettings&gt;\n      &lt;/PropertyGroup&gt;\n      &lt;ItemGroup&gt;\n        &lt;MSDeployParameterValue Include=\"MySQLEntities-Web.config Connection String\"&gt;\n          &lt;UpdateDestWebConfig&gt;False&lt;/UpdateDestWebConfig&gt;\n        &lt;/MSDeployParameterValue&gt;\n        &lt;MSDeployParameterValue Include=\"MsSQLEntities-Web.config Connection String\"&gt;\n          &lt;UpdateDestWebConfig&gt;False&lt;/UpdateDestWebConfig&gt;\n        &lt;/MSDeployParameterValue&gt;\n      &lt;/ItemGroup&gt;\n    &lt;/Project&gt;\n</code></pre>\n\n<p>I have looked at the <code>Release.pubxml</code> file from an earlier copy that was made of this project.  It would have been made bt vs2015.  Eventhough I <em>know</em> that I unchecked the DB connection boxes above; this file has full connection strings in it.  </p>\n\n<p>I have now tried copying the \"old\" pubxml file to the new project but nothing changes.</p>\n\n<p>Oh, just noticed in the pubxml file above it talks about \"DbCodeFirst\".  I am pretty sure this was all DB first.</p>\n\n<p>Help?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>sorry, somehow duplicated a section in the original</p>\n"}, {"tags": ["c#", "asp.net", "visual-studio-2017"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1508964793, "post_id": 46941718, "comment_id": 80831016, "body": "There is no way we can possibly answer this without seeing your code."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1508965294, "post_id": 46941718, "comment_id": 80831306, "body": "Open the source code (in notepad if necessary). What files are using <code>DirectoryWatcher</code>?"}, {"owner": {"reputation": 229, "user_id": 1184413, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1258ef8eac6e8731d2f9afcf24806db?s=128&d=identicon&r=PG&f=1", "display_name": "tech_geek23", "link": "https://stackoverflow.com/users/1184413/tech-geek23"}, "edited": false, "score": 0, "creation_date": 1508973722, "post_id": 46941718, "comment_id": 80834423, "body": "Okay so which bit of source code? I&#39;m all new to this and the only code we modified in class was the _layout.cshtml to changed the copywrite on the application."}], "owner": {"reputation": 229, "user_id": 1184413, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1258ef8eac6e8731d2f9afcf24806db?s=128&d=identicon&r=PG&f=1", "display_name": "tech_geek23", "link": "https://stackoverflow.com/users/1184413/tech-geek23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508964185, "creation_date": 1508964185, "question_id": 46941718, "link": "https://stackoverflow.com/questions/46941718/disposed-directorywatcher-in-vs2017", "title": "Disposed DirectoryWatcher in VS2017", "body": "<p>I'm working on a asp.net application and connected a ADO Data Entity Item. However, once I have it created I get \"Cannot load C:\\users.....\\RealEstateFirmEDM.edmx Cannot access a disposed object. Object name: 'DirectoryWatcher'\"</p>\n\n<p>What is going on here, I did not modify anything in the core of the app. Left it as is and the database if functional.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UArmm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UArmm.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "list", "linq"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1508965451, "post_id": 46941698, "comment_id": 80831393, "body": "Out of curiosity, is <code>HourOfDay</code> different than <code>TradingDate.Hour</code>? If not, why store the hour in more than one place? Seems like that could lead to some programming errors down the road..."}, {"owner": {"reputation": 81, "user_id": 8807306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8WXOj.jpg?s=128&g=1", "display_name": "JESteph", "link": "https://stackoverflow.com/users/8807306/jesteph"}, "edited": false, "score": 0, "creation_date": 1508966737, "post_id": 46941698, "comment_id": 80831992, "body": "are you looking to retrieve a single quantity value for all price below a threshold or are you looking to generate a list of total quantities at each price filtered by a certain threshold value?"}, {"owner": {"reputation": 33, "user_id": 7505039, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154885943707891/picture?type=large", "display_name": "Eamonn Sullivan", "link": "https://stackoverflow.com/users/7505039/eamonn-sullivan"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1508967254, "post_id": 46941698, "comment_id": 80832231, "body": "@RufusL The <code>TradingDate</code> does not include an hour, i.e. it will always be zero."}, {"owner": {"reputation": 33, "user_id": 7505039, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154885943707891/picture?type=large", "display_name": "Eamonn Sullivan", "link": "https://stackoverflow.com/users/7505039/eamonn-sullivan"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1508967328, "post_id": 46941698, "comment_id": 80832266, "body": "@mjwills and JESteph: Question has been edited with example input and output.  Cheers."}], "answers": [{"tags": [], "owner": {"reputation": 353, "user_id": 5038805, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1454760098153298/picture?type=large", "display_name": "Chris Thompson", "link": "https://stackoverflow.com/users/5038805/chris-thompson"}, "is_accepted": false, "score": 0, "last_activity_date": 1508967404, "creation_date": 1508967404, "answer_id": 46942452, "question_id": 46941698, "link": "https://stackoverflow.com/questions/46941698/how-to-get-grouped-values-from-list-within-list-with-linq/46942452#46942452", "title": "How to get grouped values from List within List with LINQ", "body": "<p>I believe I've been able to manage the groupings you are after, though I haven't done the summation of the (quantity)*(whatever price matches some condition), as hopefully that is something that you can customize however you need to.</p>\n\n<p>To get things grouped, I had to use several nested projections and do each grouping individually (it was actually quite fun to work this out, the big sticking point is that LINQ's IGrouping isn't as straightforward to use as you might expect, so each time I grouped I did a projection with a Select):</p>\n\n<pre><code>var projected = offers.GroupBy(x =&gt; x.ProductName)\n                                  .Select(x =&gt; new\n                                  {\n                                      ProductName = x.Key,\n                                      Dates = x.GroupBy(y =&gt; y.TradingDate).ToList()\n                                                            .Select(y =&gt; new\n                                                            {\n                                                                TradingDate = y.Key,\n                                                                Times = y.GroupBy(z =&gt; z.HourOfDay).ToList()\n                                                                                      .Select(zx =&gt; new\n                                                                                      {\n                                                                                          Time = zx.Key,\n                                                                                          Items = zx.ToList()\n                                                                                      })\n                                                            })\n                                  }).ToList();\n</code></pre>\n\n<p>Hopefully, this will give you enough to start on for doing your summation with whatever extra checks you need for 0 items, prices not high enough, and so on.</p>\n\n<p>Note that this query is probably not the most efficient if you're working directly with a database - it probably pulls more information than it really needs to at this point. I don't know enough about what you're working on to begin to optimize it, though.</p>\n"}, {"comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1508970757, "post_id": 46942736, "comment_id": 80833521, "body": "You have a nice idea in the flattening, but the rest doesn&#39;t answer the question at all."}], "tags": [], "owner": {"reputation": 371, "user_id": 4321926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P4V2Z.png?s=128&g=1", "display_name": "archnae", "link": "https://stackoverflow.com/users/4321926/archnae"}, "is_accepted": false, "score": 0, "last_activity_date": 1509028732, "last_edit_date": 1509028732, "creation_date": 1508968835, "answer_id": 46942736, "question_id": 46941698, "link": "https://stackoverflow.com/questions/46941698/how-to-get-grouped-values-from-list-within-list-with-linq/46942736#46942736", "title": "How to get grouped values from List within List with LINQ", "body": "<pre><code>        var offers = new List&lt;Offer&gt;();\n\n        // flatten the nested list linq-style\n        var flat = from x in offers\n            from y in x.OfferBands\n            select new {x.TradingDate, x.HourOfDay, x.ProductName, y.Price, y.Quantity};\n        var grouped = from x in flat\n            group x by new {x.TradingDate, x.HourOfDay, x.ProductName}\n            into g\n            select new\n            {\n                g.Key.TradingDate,\n                g.Key.HourOfDay,\n                g.Key.ProductName,\n                OfferBands = (from y in g\n                    group y by new {y.Price}\n                    into q\n                    select new {Price = q.Key, Quantity = q.Sum(_ =&gt; _.Quantity)}).ToList()\n            };\n        foreach (var item in grouped)\n        {\n            Console.WriteLine(\n                    \"TradingDate = {0}, HourOfDay = {1}, ProductName = {2}\",\n                    item.TradingDate,\n                    item.HourOfDay,\n                    item.ProductName);\n            foreach (var offer in item.OfferBands)\n                Console.WriteLine(\"    Price = {0}, Qty = {1}\", offer.Price, offer.Quantity);\n        }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 7505039, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154885943707891/picture?type=large", "display_name": "Eamonn Sullivan", "link": "https://stackoverflow.com/users/7505039/eamonn-sullivan"}, "edited": false, "score": 0, "creation_date": 1508970943, "post_id": 46942948, "comment_id": 80833576, "body": "Very good answer, thanks.  I can mostly follow this but it&#39;ll take me a bit of time to decipher exactly what&#39;s happening in each step.  That said, though I haven&#39;t tested it it looks like it should do everything I want, so I&#39;m marking it as the correct answer.  Cheers."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 33, "user_id": 7505039, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154885943707891/picture?type=large", "display_name": "Eamonn Sullivan", "link": "https://stackoverflow.com/users/7505039/eamonn-sullivan"}, "edited": false, "score": 0, "creation_date": 1508971877, "post_id": 46942948, "comment_id": 80833867, "body": "Your problem is somewhat complex, LINQ offers more than one way to do it ;) but if you have any questions I&#39;ll be glad to answer them. I tried the flattening idea and made it work as well, but I don&#39;t see much advantage over not flattening (easier to understand?) since you have to still do something to preserve the non-matching slots."}], "tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": true, "score": 0, "last_activity_date": 1508975760, "last_edit_date": 1508975760, "creation_date": 1508970095, "answer_id": 46942948, "question_id": 46941698, "link": "https://stackoverflow.com/questions/46941698/how-to-get-grouped-values-from-list-within-list-with-linq/46942948#46942948", "title": "How to get grouped values from List within List with LINQ", "body": "<p>First, you need to filter to get the desired <code>Offer</code>s with the matching <code>OfferBands</code>.</p>\n\n<p>You can create/pass-in a filter if you want to make this a function, I will just define it inline:</p>\n\n<pre><code>Func&lt;Band, bool&gt; filter = (Band b) =&gt; b.Price == 3;\n</code></pre>\n\n<p>Since you don't care about <code>ProductName</code>, I used an anonymous type, but you could use <code>Offer</code> instead. At this point, we throw out the empty slots as well:</p>\n\n<pre><code>var filteredOffers = offers.Select(o =&gt; new { TradingDate = o.TradingDate, HourOfDay = o.HourOfDay, OfferBands = o.OfferBands.Where(filter).ToList() }).Where(gb =&gt; gb.OfferBands.Count &gt; 0);\n</code></pre>\n\n<p>Now, since you want to include empty slots for <code>TradingDate</code>+<code>HourOfDay</code> that are in the original data but were filtered out, group the filtered data and create a dictionary:</p>\n\n<pre><code>var mapQuantity = filteredOffers.GroupBy(o =&gt; new { o.TradingDate, o.HourOfDay })\n                                .Select(og =&gt; new { og.Key.TradingDate, og.Key.HourOfDay, QuantitySum = og.Sum(o =&gt; o.OfferBands.Sum(ob =&gt; ob.Quantity)) })\n                                .ToDictionary(og =&gt; new { og.TradingDate, og.HourOfDay }, og =&gt; og.QuantitySum);\n</code></pre>\n\n<p>Then, going back to the original <code>offers</code> group find all the distinct slots (<code>TradingDate</code>+<code>HourOfDday</code>) and match them up to the <code>QuantitySum</code>, filling empty slots with <code>double.NaN</code> and convert to a <code>List</code>:</p>\n\n<pre><code>var ans = offers.Select(o =&gt; new { o.TradingDate, o.HourOfDay }).Distinct().OrderBy(g =&gt; g.TradingDate).ThenBy(g =&gt; g.HourOfDay).Select(g =&gt; mapQuantity.TryGetValue(g, out var sumq) ? sumq : double.NaN).ToList();\n</code></pre>\n\n<p>After re-thinking, I realized you could simplify by preserving the slots that are empty in the <code>filteredOffers</code> and then set their values after grouping:</p>\n\n<pre><code>var filteredOffers = offers.Select(o =&gt; new { TradingDate = o.TradingDate, HourOfDay = o.HourOfDay, OfferBands = o.OfferBands.Where(filter).ToList() });\n\nvar ans = filteredOffers.GroupBy(o =&gt; new { o.TradingDate, o.HourOfDay })\n                        .OrderBy(og =&gt; og.Key.TradingDate).ThenBy(og =&gt; og.Key.HourOfDay)\n                        .Select(og =&gt; (og.Sum(o =&gt; o.OfferBands.Count) &gt; 0 ? og.Sum(o =&gt; o.OfferBands.Sum(ob =&gt; ob.Quantity)) : double.NaN));\n</code></pre>\n\n<p>By using the <code>IGrouping</code> <code>Key</code> to remember the slots, you can simplify the query:</p>\n\n<pre><code>var ans = offers.GroupBy(o =&gt; new { o.TradingDate, o.HourOfDay }, o =&gt; o.OfferBands)\n                .OrderBy(obg =&gt; obg.Key.TradingDate).ThenBy(obg =&gt; obg.Key.HourOfDay)\n                .Select(obg =&gt; {\n                    var filteredOBs = obg.SelectMany(ob =&gt; ob).Where(filter).ToList();\n                    return filteredOBs.Count &gt; 0 ? filteredOBs.Sum(b =&gt; b.Quantity) : double.NaN;\n                });\n</code></pre>\n\n<p>If you are willing to give up the <code>double.NaN</code> for zero instead, you can make this even simpler:</p>\n\n<pre><code>var ans = offers.GroupBy(o =&gt; new { o.TradingDate, o.HourOfDay }, o =&gt; o.OfferBands)\n                .OrderBy(obg =&gt; obg.Key.TradingDate).ThenBy(obg =&gt; obg.Key.HourOfDay)\n                .Select(obg =&gt; obg.SelectMany(ob =&gt; ob).Where(filter).Sum(b =&gt; b.Quantity));\n</code></pre>\n\n<p>Finally, to finish the dead horse off, some special extension methods can preserve the <code>NaN</code> returning property and use the simple query form:</p>\n\n<pre><code>public static class Ext {\n    static double ValuePreservingAdd(double a, double b)  =&gt; double.IsNaN(a) ? b : double.IsNaN(b) ? a : a + b;\n    public static double ValuePreservingSum(this IEnumerable&lt;double&gt; src) =&gt; src.Aggregate(double.NaN, (a, b) =&gt; ValuePreservingAdd(a, b));\n    public static double ValuePreservingSum&lt;T&gt;(this IEnumerable&lt;T&gt; src, Func&lt;T, double&gt; select) =&gt; src.Select(s =&gt; select(s)).Aggregate(double.NaN, (a, b) =&gt; ValuePreservingAdd(a, b));\n}\n\nvar ans = offers.GroupBy(o =&gt; new { o.TradingDate, o.HourOfDay }, o =&gt; o.OfferBands)\n                .OrderBy(obg =&gt; obg.Key.TradingDate).ThenBy(obg =&gt; obg.Key.HourOfDay)\n                .Select(obg =&gt; obg.SelectMany(ob =&gt; ob).Where(filter).ValuePreservingSum(b =&gt; b.Quantity));\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7505039, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154885943707891/picture?type=large", "display_name": "Eamonn Sullivan", "link": "https://stackoverflow.com/users/7505039/eamonn-sullivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 46942948, "answer_count": 3, "score": -1, "last_activity_date": 1509028732, "creation_date": 1508964085, "last_edit_date": 1508967046, "question_id": 46941698, "link": "https://stackoverflow.com/questions/46941698/how-to-get-grouped-values-from-list-within-list-with-linq", "title": "How to get grouped values from List within List with LINQ", "body": "<p>I'm looking to retrieve a list of the sum of property values in a list that is itself a property of another list, grouped by properties in the parent list, using LINQ.</p>\n\n<p>To explain, I have a list of offers in a market with a trading date and hour of the day for a range of products, and a list of price and quantity bands within each offer.  My classes are:</p>\n\n<pre><code>public class Offer\n{\n    public DateTime TradingDate { get; set; }\n    public int HourOfDay { get; set; }\n    public string ProductName { get; set; }\n    public List&lt;Band&gt; OfferBands { get; set; }\n}\n\npublic class Band\n{\n    public decimal Price { get; set; }\n    public double Quantity { get; set; }\n}\n</code></pre>\n\n<p>And what I'm looking to retrieve is the sum of <code>Quantity</code> for a certain <code>Price</code> for each <code>TradingDate</code> and <code>HourOfDay</code>, for every <code>ProductName</code>.</p>\n\n<p>I haven't come up with a working solution, but as a start I'm trying something like (with a <code>List&lt;Offer&gt; offers</code> containing all offers, to retrieve quantities where the offer price &lt; $10):</p>\n\n<pre><code>List&lt;double&gt; quantities = offers.SelectMany(o =&gt; o.Bands).Where(b =&gt; b.Price &lt; 10).Select(b =&gt; b.Quantity)\n</code></pre>\n\n<p>But I don't know how to <code>GroupBy</code> the <code>TradingDate</code> and <code>HourOfDay</code> and retrieve the sum of <code>Quantity</code>.  There can be multiple <code>Offer</code>s with multiple <code>OfferBand</code>s for different products, with various combinations of offer <code>Price</code>s, and I just want to get sum of <code>Quantity</code> for all products at a certain price grouped by date and time.</p>\n\n<p>I could achieve this programmatically but I would like a LINQ solution.  Thanks for your help.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>What I forgot to mention is that, where there are no <code>Quantity</code>s at the specified <code>Price</code> for a <code>TradingDate</code> and <code>HourOfDay</code> I would like to retrieve  <code>double.NaN</code> (or <code>0</code>).</p>\n\n<p>With example data <code>List&lt;Offer&gt; offers</code> containing six <code>Offer</code>s:</p>\n\n<pre><code>TradingDate | HourOfDay | ProductName |       OfferBands\n===================================================================\n01/01/2017  |     1     | Chocolate   | Price = 2, Quantity = 6\n            |           |             | Price = 5, Quantity = 10\n-------------------------------------------------------------------\n01/01/2017  |     2     | Chocolate   | Price = 3, Quantity = 6\n            |           |             | Price = 5, Quantity = 20\n-------------------------------------------------------------------\n02/01/2017  |     1     | Chocolate   | Price = 3, Quantity = 7\n            |           |             | Price = 6, Quantity = 9\n-------------------------------------------------------------------\n01/01/2017  |     1     | Cake        | Price = 5, Quantity = 11\n            |           |             | Price = 8, Quantity = 3\n-------------------------------------------------------------------\n01/01/2017  |     2     | Cake        | Price = 2, Quantity = 1\n            |           |             | Price = 8, Quantity = 4\n-------------------------------------------------------------------\n02/01/2017  |     1     | Cake        | Price = 3, Quantity = 9\n            |           |             | Price = 5, Quantity = 13\n-------------------------------------------------------------------\n</code></pre>\n\n<p>Selecting a sum of quantities for a given price, grouped by date and time, would give a <code>List&lt;double&gt;</code> output:</p>\n\n<p>Where price >= 5</p>\n\n<pre><code>{ 24, 24, 22 }\n</code></pre>\n\n<p>Where price = 2</p>\n\n<pre><code>{ 6, 1, double.NaN }\n</code></pre>\n\n<p>Where price = 3</p>\n\n<pre><code>{ double.NaN, 6, 16 }\n</code></pre>\n\n<p>...where the output is the sum of quantities for all products at the specified prices for 01/01/2017 hour 1, 01/01/2017 hour 2, and 02/01/2017 hour 1.</p>\n\n<p>Hopefully that is clear to follow.</p>\n"}, {"tags": ["c#", "winforms", "dynamic", "closures", "eventhandler"], "comments": [{"owner": {"reputation": 5132, "user_id": 860539, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/67357f937a65dfdb36192e0f47f6b044?s=128&d=identicon&r=PG", "display_name": "PeteGO", "link": "https://stackoverflow.com/users/860539/petego"}, "edited": false, "score": 0, "creation_date": 1508967083, "post_id": 46941566, "comment_id": 80832158, "body": "What&#39;s the issue you are encountering?"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5700510, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6cb3a4d2bcf0e3a54dd782f7b52c59f8?s=128&d=identicon&r=PG&f=1", "display_name": "AlWooz", "link": "https://stackoverflow.com/users/5700510/alwooz"}, "edited": false, "score": 0, "creation_date": 1509546109, "post_id": 46942615, "comment_id": 81061179, "body": "Hi PeteGo, I was able to figure something out that works (sort of) what I want. The code is posted below."}], "tags": [], "owner": {"reputation": 5132, "user_id": 860539, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/67357f937a65dfdb36192e0f47f6b044?s=128&d=identicon&r=PG", "display_name": "PeteGO", "link": "https://stackoverflow.com/users/860539/petego"}, "is_accepted": false, "score": 2, "last_activity_date": 1508968808, "last_edit_date": 1508968808, "creation_date": 1508968279, "answer_id": 46942615, "question_id": 46941566, "link": "https://stackoverflow.com/questions/46941566/c-dynamic-buttons-with-dynamic-data-entering/46942615#46942615", "title": "C# - Dynamic buttons with dynamic data-entering", "body": "<p>I think the problem you are experiencing is regarding <a href=\"https://en.wikipedia.org/wiki/Closure_(computer_programming)\" rel=\"nofollow noreferrer\">closures</a>.</p>\n\n<p>In your example you are adding the event handler with a delegate that's referencing the variable <code>i</code> which changes each loop iteration.  So when the event handler is actually executed (when the button is clicked) <code>i</code> is out of scope.</p>\n\n<p>You could do something like this:</p>\n\n<pre><code>private void Form1_Shown(object sender, EventArgs e)\n{\n    var items = new[] { \"Item One\", \"Item Two\", \"Item Three\", \"Item Four\", \"Item Five\" };\n\n    for (int i = 0; i &lt; items.Length; i++)\n    {\n        var btn = new Button\n        {\n            Text = $\"Button {i + 1}\",\n            Tag = items[i]\n        };\n\n        btn.Click += (object obj, EventArgs args) \n            =&gt;\n            {\n                MessageBox.Show($\"Hello.  {((Button)obj).Tag}\");\n            };\n\n        flowLayoutPanel1.Controls.Add(btn);\n    }\n}\n</code></pre>\n\n<p>In your case - the button's tag can be set to <code>data.Devices[i]</code> - in other words it doesn't have to be a string it can be an object.</p>\n"}, {"comments": [{"owner": {"reputation": 5132, "user_id": 860539, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/67357f937a65dfdb36192e0f47f6b044?s=128&d=identicon&r=PG", "display_name": "PeteGO", "link": "https://stackoverflow.com/users/860539/petego"}, "edited": false, "score": 0, "creation_date": 1509649609, "post_id": 47057372, "comment_id": 81114945, "body": "Glad to hear it works.  Personally I would have tried to avoid the string manipulation and gone with <code>_button.Tag =   data.Devices[i]</code> and refer to that in the event handler <code>Device d = (Device)((Button)sender).Tag;</code>"}, {"owner": {"reputation": 5132, "user_id": 860539, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/67357f937a65dfdb36192e0f47f6b044?s=128&d=identicon&r=PG", "display_name": "PeteGO", "link": "https://stackoverflow.com/users/860539/petego"}, "edited": false, "score": 0, "creation_date": 1509649948, "post_id": 47057372, "comment_id": 81115128, "body": "I think the problem with the loop is that you&#39;re iterating over a collection that you&#39;re modifying.  <code>Controls.ToList().RemoveAll(x =&gt; x.Name == &quot;dynamicButton&quot;);</code>"}], "tags": [], "owner": {"reputation": 33, "user_id": 5700510, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6cb3a4d2bcf0e3a54dd782f7b52c59f8?s=128&d=identicon&r=PG&f=1", "display_name": "AlWooz", "link": "https://stackoverflow.com/users/5700510/alwooz"}, "is_accepted": true, "score": 0, "last_activity_date": 1509547095, "creation_date": 1509547095, "answer_id": 47057372, "question_id": 46941566, "link": "https://stackoverflow.com/questions/46941566/c-dynamic-buttons-with-dynamic-data-entering/47057372#47057372", "title": "C# - Dynamic buttons with dynamic data-entering", "body": "<p>I start off by creating the buttons with the and placing them on the screen.</p>\n\n<pre><code>for (int i = 0; i &lt; data.Devices.Length; i++){\nButton _button = new Button();\n_button.Size = new System.Drawing.Size(100, 55);\n_button.Text = data.Devices[i].Alias;\n_button.Name = \"dynamicButton\";\n_button.FlatStyle = FlatStyle.Flat;\n_button.Tag =   data.Devices[i].Alias + \"|\" + \n                data.Devices[i].DeviceId + \"|\" + \n                data.Devices[i].LastSeen + \"|\" + \n                data.Devices[i].OnlineState + \"|\" + \n                data.Devices[i].Description + \"|\" + \n                data.Devices[i].RemotecontrolId; \n\n_button.Location = new System.Drawing.Point(x, y);\nx += 110;\nif (x &gt; 1850)\n{\n    y += 60;\n    x = 30;\n}\n_button.Click += new EventHandler(bt_click);\nControls.Add(_button);\n}\n</code></pre>\n\n<p>And then using the onclick event.</p>\n\n<pre><code>protected void bt_click(object sender, EventArgs e)\n    {\n        Button btn = sender as Button;\n        String[] information = btn.Tag.ToString().Split('|');\n        String present = \"Namn: \" + information[0]\n                        + \"\\nDeviceID: \" + information[1]\n                        + \"\\nSenast uppe: \" + information[2]\n                        + \"\\nStatus: \" + information[3]\n                        + \"\\nEmail: \" + information[4]\n                        + \"\\nTW-ID: \" + information[5];\n        MessageBox.Show(present);\n        //DO THE THINGS WITH THE INFORMATION                \n    }\n</code></pre>\n\n<p>And then to unload everything and eventually updating the status of the device.</p>\n\n<pre><code>for (int i = 0; i &lt; 10; i++)\n        {\n            foreach (Control item in Controls.OfType&lt;Control&gt;())\n            {\n                if (item.Name == \"dynamicButton\")\n                {\n                    Controls.Remove(item);                        \n                }\n            }\n        }\n</code></pre>\n\n<p>For some reason I have to loop that thing a couple of times, beacuse it won't delete them all, but instead deleting them in some pattern.\n(only takes every other one each time)</p>\n\n<p>I looped it 10 times for good measures.</p>\n\n<p>It does exactly what I want it to do, and new devices gets added automaticly and removed devices dissapears just as fast.</p>\n"}], "owner": {"reputation": 33, "user_id": 5700510, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6cb3a4d2bcf0e3a54dd782f7b52c59f8?s=128&d=identicon&r=PG&f=1", "display_name": "AlWooz", "link": "https://stackoverflow.com/users/5700510/alwooz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 47057372, "answer_count": 2, "score": 0, "last_activity_date": 1509547095, "creation_date": 1508963540, "last_edit_date": 1508968646, "question_id": 46941566, "link": "https://stackoverflow.com/questions/46941566/c-dynamic-buttons-with-dynamic-data-entering", "title": "C# - Dynamic buttons with dynamic data-entering", "body": "<p>I have a bit of an issue here.</p>\n\n<p>I'm trying to create dynamic clickevents with variable data.</p>\n\n<pre><code>for(int i = 0; i &lt; data.Devices.Length; i++)\n{\n    Button _button = new Button();\n    _button.Size = new Size(100, 15);\n    _button.Text = data.Devices[i].Alias;\n    _button.Name = \"textbox\" + i.ToString();\n    _button.Location = new Point(x,y);\n    x += 110;\n\n    if(x &gt; 1850)\n    {\n        y += 50;\n        x = 10;\n    }\n\n    if (data.Devices[i].OnlineState == \"Online\")\n    {\n        _button.BackColor = Color.Green;\n    }\n    else\n    {\n        _button.BackColor = Color.Red;\n    }\n\n     _button.Click += (Sender, args) =&gt;\n     {\n         MessageBox.Show(data.Devices[i].Alias);\n     };\n\n     Controls.Add(_button);\n }\n</code></pre>\n\n<p>The idea here is that I'll create buttons until length of the list is done (The list and position of these objects vary).</p>\n\n<p>What I'm looking for is to make a bunch of buttons, and when you click on the button there should you'll open another screen with some statistics attached to that object.</p>\n\n<p>Since the data will vary A LOT there is no way to hardcode each scenario, but instead I'm looking to do the same thing as you can do in Android, see below.</p>\n\n<pre><code>for (int i = 1; i &lt;= 20; i++) {\n    LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\n        LinearLayout.LayoutParams.MATCH_PARENT,\n        LinearLayout.LayoutParams.WRAP_CONTENT);\n\n    Button btn = new Button(this);\n    btn.setId(i);\n    final int id_ = btn.getId();\n    btn.setText(\"button \" + id_);\n    btn.setBackgroundColor(Color.rgb(70, 80, 90));\n    linear.addView(btn, params);\n    btn1 = ((Button) findViewById(id_));\n\n    btn1.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View view) {\n            Toast.makeText(view.getContext(), \"Button clicked index = \" + id_, Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n\n<p>Is there any way I can achieve this?</p>\n\n<p>Kind Regards.</p>\n"}, {"tags": ["c#", "pdf", "hl7", "nhapi"], "comments": [{"owner": {"reputation": 3630, "user_id": 338403, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CLTsS.jpg?s=128&g=1", "display_name": "MB34", "link": "https://stackoverflow.com/users/338403/mb34"}, "edited": false, "score": 0, "creation_date": 1508964016, "post_id": 46941487, "comment_id": 80830580, "body": "Did you decode it from base64?"}, {"owner": {"reputation": 61, "user_id": 4645842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-olHBZxZaPr0/AAAAAAAAAAI/AAAAAAAAAaQ/8vCZqJG6ww0/photo.jpg?sz=128", "display_name": "Samin Khan", "link": "https://stackoverflow.com/users/4645842/samin-khan"}, "reply_to_user": {"reputation": 3630, "user_id": 338403, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CLTsS.jpg?s=128&g=1", "display_name": "MB34", "link": "https://stackoverflow.com/users/338403/mb34"}, "edited": false, "score": 0, "creation_date": 1508964157, "post_id": 46941487, "comment_id": 80830644, "body": "Not yet since I can&#39;t access obx.GetObservationValue(0).Data. I can see it when I set a break point but can&#39;t assign the base64 value string/var. With var, obx.GetObservationValue(0).Data shows up as an object."}, {"owner": {"reputation": 3630, "user_id": 338403, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CLTsS.jpg?s=128&g=1", "display_name": "MB34", "link": "https://stackoverflow.com/users/338403/mb34"}, "edited": false, "score": 0, "creation_date": 1508964238, "post_id": 46941487, "comment_id": 80830691, "body": "You mean you get an error trying to decode the variable pdfFile?"}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1508964326, "post_id": 46941487, "comment_id": 80830751, "body": "Looking at the properties on whatever object that is, it looks like it is a base object you have. There is a <code>TypeName</code> property specified, You probably need to cast it to that type to give you the properties you need. <code>ED</code> looks to me like it could mean Electronic Document. Check to see if there is an <code>ED</code> class you can cast to. Assuming you don&#39;t see <code>Data</code> as an accessible property."}, {"owner": {"reputation": 61, "user_id": 4645842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-olHBZxZaPr0/AAAAAAAAAAI/AAAAAAAAAaQ/8vCZqJG6ww0/photo.jpg?sz=128", "display_name": "Samin Khan", "link": "https://stackoverflow.com/users/4645842/samin-khan"}, "edited": false, "score": 0, "creation_date": 1508964412, "post_id": 46941487, "comment_id": 80830796, "body": "I don&#39;t get any error. I see the attached image (mouse over pdffile) when it hits the breakpoint. I need to save Data = &quot;JVBERi0xLjYKJdP0zOEKMSAwIG9iago8PAovQ3JlYXRvcihUZWxlcmlrI..&zwnj;&#8203;.&quot; to a string."}, {"owner": {"reputation": 61, "user_id": 4645842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-olHBZxZaPr0/AAAAAAAAAAI/AAAAAAAAAaQ/8vCZqJG6ww0/photo.jpg?sz=128", "display_name": "Samin Khan", "link": "https://stackoverflow.com/users/4645842/samin-khan"}, "reply_to_user": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1508964731, "post_id": 46941487, "comment_id": 80830965, "body": "@TyCobb I added a new screenshot after casting as ED. Please check. Same issue."}], "answers": [{"tags": [], "owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "is_accepted": true, "score": 2, "last_activity_date": 1508964788, "creation_date": 1508964788, "answer_id": 46941870, "question_id": 46941487, "link": "https://stackoverflow.com/questions/46941487/extract-pdf-from-hl7/46941870#46941870", "title": "Extract PDF from HL7", "body": "<p>Just going off the original screenshot, you should be able to do the following:</p>\n\n<pre><code>var ed = axc.Data as ED;\nif (ed != null)\n{\n    var bytes = Convert.FromBase64String(ed.Data);\n    File.WriteAllBytes(\"SomeFileName.pdf\", bytes);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 4645842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-olHBZxZaPr0/AAAAAAAAAAI/AAAAAAAAAaQ/8vCZqJG6ww0/photo.jpg?sz=128", "display_name": "Samin Khan", "link": "https://stackoverflow.com/users/4645842/samin-khan"}, "is_accepted": false, "score": 2, "last_activity_date": 1508965168, "creation_date": 1508965168, "answer_id": 46941955, "question_id": 46941487, "link": "https://stackoverflow.com/questions/46941487/extract-pdf-from-hl7/46941955#46941955", "title": "Extract PDF from HL7", "body": "<pre><code>        ED embeddedPDF = (ED)obx.GetObservationValue(0).Data;\n\n        if (embeddedPDF != null)\n        {\n           var bytes = Convert.FromBase64String(embeddedPDF.Data.Value);\n           File.WriteAllBytes(\"SomeFileName.pdf\", bytes);\n        }\n</code></pre>\n\n<p>Thanks a lot everyone. </p>\n"}], "owner": {"reputation": 61, "user_id": 4645842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-olHBZxZaPr0/AAAAAAAAAAI/AAAAAAAAAaQ/8vCZqJG6ww0/photo.jpg?sz=128", "display_name": "Samin Khan", "link": "https://stackoverflow.com/users/4645842/samin-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1461, "favorite_count": 1, "accepted_answer_id": 46941870, "answer_count": 2, "score": 2, "last_activity_date": 1508965168, "creation_date": 1508963205, "last_edit_date": 1508964667, "question_id": 46941487, "link": "https://stackoverflow.com/questions/46941487/extract-pdf-from-hl7", "title": "Extract PDF from HL7", "body": "<p>I am writing a program in C# that will parse the HL7 message and will write the data to a Text File. The HL7 also contains an embedded PDF in base64 format. I have to decode the base64 encoded pdf and it too.</p>\n\n<pre><code>        string fileLocation = @\"hl7file.hl7\";\n\n        var message = File.ReadAllText(fileLocation);\n\n        PipeParser parser = new PipeParser();\n\n        IMessage m = parser.Parse(message);//str message will contain your HL7 Message\n        ADT_A03 adtA02 = m as ADT_A03;\n\n        ORU_R01 oru = m as ORU_R01;\n        ORU_R01_PATIENT patient = oru.GetPATIENT_RESULT().PATIENT;\n\n        ORU_R01_ORDER_OBSERVATION orderObservation = oru.GetPATIENT_RESULT().GetORDER_OBSERVATION();\n        OBR obr = orderObservation.OBR;\n\n        PID pid = patient.PID;\n\n        string PatientId = pid.GetPatientIdentifierList(0).IDNumber.ToString();\n\n        ORU_R01_OBSERVATION observation = orderObservation.GetOBSERVATION(0);\n        OBX obx = observation.OBX;\n\n\n        var pdfFile = obx.GetObservationValue(0).data;\n\n        Dictionary&lt;string, string&gt; hl7Data = new Dictionary&lt;string, string&gt;();\n\n        hl7Data.Add(\"Patient ID\", PatientId = pid.GetPatientIdentifierList(0).IDNumber.ToString());\n        hl7Data.Add(\"Last_Name\", pid.GetPatientName(0).FamilyName.Surname.Value);\n        hl7Data.Add(\"First_Name\", pid.GetPatientName(0).GivenName.Value);\n        hl7Data.Add(\"DOB\", pid.DateTimeOfBirth.Time.ToString());\n        hl7Data.Add(\"Sex\", pid.AdministrativeSex.Value);\n        hl7Data.Add(\"Address\", pid.GetPatientAddress(0).StreetAddress.StreetOrMailingAddress.Value);\n        hl7Data.Add(\"City\", pid.GetPatientAddress(0).City.Value);\n        hl7Data.Add(\"State\", pid.GetPatientAddress(0).StateOrProvince.Value);\n        hl7Data.Add(\"Zip_Code\", pid.GetPatientAddress(0).ZipOrPostalCode.Value);\n        hl7Data.Add(\"Signature_Required\", obr.PriorityOBR.Value);\n        hl7Data.Add(\"Referring_Physician_Last_Name\", obr.GetOrderingProvider(0).FamilyName.Surname.Value);\n        hl7Data.Add(\"Referring_Physician_First_Name\", obr.GetOrderingProvider(0).GivenName.Value);\n        hl7Data.Add(\"NPI\", obr.GetOrderingProvider(0).IdentifierTypeCode.Value);\n        hl7Data.Add(\"Observation_Date\", obr.ObservationDateTime.Time.ToString());\n        hl7Data.Add(\"File_Type\", obr.UniversalServiceIdentifier.Identifier.Value);\n        hl7Data.Add(\"File_Description\", obr.UniversalServiceIdentifier.Text.Value);\n\n        using (StreamWriter file = new StreamWriter(@\"C:\\Users\\samin.khan\\Desktop\\myfile.txt\"))\n        {\n            foreach (var entry in hl7Data)\n            {\n                file.WriteLine(\"{0}: {1}\", entry.Key, entry.Value);\n            }\n        }\n</code></pre>\n\n<p>So the line var pdfFile = obx.GetObservationValue(0).data shows the PDF in base64 format, but I am not able to access the data. I can clearly see the pdf value inside the pdffile object but can't access it. Please check the image attachment.</p>\n\n<p>How do I access the PDF data?</p>\n\n<p>Using:</p>\n\n<pre><code> using NHapi.Base.Parser;\n using NHapi.Model.V25.Datatype;\n using NHapi.Model.V25.Message;\n using NHapi.Model.V25.Group;\n using NHapi.Model.V25.Segment;\n using NHapi.Base.Model;\n</code></pre>\n\n<p>Image: <a href=\"https://i.stack.imgur.com/27YOC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/27YOC.png\" alt=\"Can&#39;t access Data item in object\"></a></p>\n\n<p>After casting it as ED (Encapsulated Data) object:<a href=\"https://i.stack.imgur.com/UzSUG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UzSUG.png\" alt=\"After casting it as ED object\"></a></p>\n"}, {"tags": ["c#", "class", "validation", "methods"], "comments": [{"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 1, "creation_date": 1508963372, "post_id": 46941456, "comment_id": 80830292, "body": "The thing is you&#39;re declaring a public method that expects a list of something that is internal"}, {"owner": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "edited": false, "score": 0, "creation_date": 1509923002, "post_id": 46941456, "comment_id": 81205307, "body": "Did you manage to solve your issue?"}, {"owner": {"reputation": 154, "user_id": 8302527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c573ddefa8f463f0b16b7e6d8ad7267f?s=128&d=identicon&r=PG&f=1", "display_name": "Nicole", "link": "https://stackoverflow.com/users/8302527/nicole"}, "edited": false, "score": 0, "creation_date": 1510171606, "post_id": 46941456, "comment_id": 81326724, "body": "Yes I ended up making the class public"}], "answers": [{"tags": [], "owner": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "is_accepted": false, "score": 1, "last_activity_date": 1508963348, "creation_date": 1508963348, "answer_id": 46941516, "question_id": 46941456, "link": "https://stackoverflow.com/questions/46941456/can-validation-be-coded-in-the-class-with-the-following-error-inconsistent-acce/46941516#46941516", "title": "Can validation be coded in the class with the following error? Inconsistent Accessibility: Parameter Type Is Less Accessible Than Method", "body": "<p>The default class access level is <code>internal</code> if not specified. Assuming that the class that has the <code>IsUniquePermit</code> method is public, then you're exposing the <code>BuildingPermit</code> class as part of your public API, but the class isn't available. Short answer is to make <code>BuildingPermit</code> public.</p>\n\n<p>More info about it is here: <a href=\"https://stackoverflow.com/a/2521492/149436\">https://stackoverflow.com/a/2521492/149436</a></p>\n"}, {"tags": [], "owner": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "is_accepted": false, "score": 0, "last_activity_date": 1508964346, "creation_date": 1508964346, "answer_id": 46941761, "question_id": 46941456, "link": "https://stackoverflow.com/questions/46941456/can-validation-be-coded-in-the-class-with-the-following-error-inconsistent-acce/46941761#46941761", "title": "Can validation be coded in the class with the following error? Inconsistent Accessibility: Parameter Type Is Less Accessible Than Method", "body": "<p>You can create an Interface, that is public and keep the class internal.</p>\n\n<pre><code>public interface IBuildingPermit\n{\n\n    public DateTime issuanceDate\n    {\n        get;\n        set;\n    }\n\n    public string permitNo\n    {\n        get;\n        set;\n    }\n}\n</code></pre>\n\n<p>Implement it to your class:</p>\n\n<pre><code>class BuildingPermit : IBuildingPermit\n{\n    DateTime _issuanceDate;\n    string _permitNo;\n\n    public BuildingPermit(DateTime issuanceDate, string permitNo)\n    {\n        _issuanceDate = issuanceDate;\n        _permitNo = permitNo;\n    }\n\n\n    public DateTime issuanceDate\n    {\n        get\n        {\n            return _issuanceDate;\n        }\n\n        set\n        {\n            _issuanceDate = value;\n        }\n    }\n\n    public string permitNo\n    {\n        get\n        {\n            return _permitNo;\n        }\n        set\n        {\n            _permitNo = value;\n        }\n    }\n}\n</code></pre>\n\n<p>And change the Method like this:</p>\n\n<pre><code>public static bool IsUniquePermit(TextBox textbox, List&lt;IBuildingPermit&gt; buildingPermitList)\n    {\n        foreach (IBuildingPermit bp in buildingPermitList)\n        {\n            if (textbox.Text == bp.permitNo)\n            {\n                MessageBox.Show(\"That permit number has been previously issued\");\n                return false;\n            }\n            else\n            {\n                return true;\n            }\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 154, "user_id": 8302527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c573ddefa8f463f0b16b7e6d8ad7267f?s=128&d=identicon&r=PG&f=1", "display_name": "Nicole", "link": "https://stackoverflow.com/users/8302527/nicole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "closed_date": 1510011634, "answer_count": 2, "score": 0, "last_activity_date": 1508964346, "creation_date": 1508963083, "question_id": 46941456, "link": "https://stackoverflow.com/questions/46941456/can-validation-be-coded-in-the-class-with-the-following-error-inconsistent-acce", "closed_reason": "Duplicate", "title": "Can validation be coded in the class with the following error? Inconsistent Accessibility: Parameter Type Is Less Accessible Than Method", "body": "<p>My project has 3 classes. A form class with a textbox and a datetimepicker, a class called BuildingPermit and a class called Validator.</p>\n\n<p>I'm using the Validator class to have handle generic data validation such as throwing an error whether or not the text box is blank or has enough characters. </p>\n\n<p>I'd also like like to create a method in the Validator class that compares the values in the text box to a list of values to see if it already exists.  I've written the method below and I'm getting an inconsistent accessibility error.</p>\n\n<p>Can you please help me understand why I'm still getting the error when I change the building permit class access to internal?  Or would I have to handle the validation directly in the form?</p>\n\n<p>Thanks</p>\n\n<pre><code>      public static bool IsUniquePermit(TextBox textbox, List&lt;BuildingPermit&gt; buildingPermitList)\n    {\n        foreach (BuildingPermit bp in buildingPermitList)\n        {\n            if (textbox.Text == bp.permitNo)\n            {\n                MessageBox.Show(\"That permit number has been previously issued\");\n                return false;\n            }\n            else\n            {\n                return true;\n            }\n        }\n    }\n</code></pre>\n\n<p>For reference, the BuildingPermit class is below.</p>\n\n<pre><code>  class BuildingPermit\n{\n    DateTime _issuanceDate;\n    string _permitNo;\n\n    public BuildingPermit(DateTime issuanceDate, string permitNo)\n    {\n        _issuanceDate = issuanceDate;\n        _permitNo = permitNo;\n    }\n\n\n    public DateTime issuanceDate\n    {\n        get\n        {\n            return _issuanceDate;\n        }\n\n        set\n        {\n            _issuanceDate = value;\n        }\n    }\n\n    public string permitNo\n    {\n        get\n        {\n            return _permitNo;\n        }\n        set\n        {\n            _permitNo = value;\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "logging", "windows-services", "filesystemwatcher"], "comments": [{"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 0, "creation_date": 1508963275, "post_id": 46941449, "comment_id": 80830254, "body": "That is not a windows service code, just a console app. First create correct sample where you have a message pump (like a winforms code) which responds to &quot;start&quot;, &quot;stop&quot; etc."}, {"owner": {"reputation": 199, "user_id": 5272740, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d171d615ba7da8335044482e2f05d94e?s=128&d=identicon&r=PG&f=1", "display_name": "Kenta", "link": "https://stackoverflow.com/users/5272740/kenta"}, "reply_to_user": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 0, "creation_date": 1508964243, "post_id": 46941449, "comment_id": 80830693, "body": "@L.B trying to make sure my code works before I put it in a service because it is easier to debug imo"}, {"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 0, "creation_date": 1508964339, "post_id": 46941449, "comment_id": 80830756, "body": "But a console app is not a right way to test. use at least a winforms app"}, {"owner": {"reputation": 6266, "user_id": 5497207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e185da0f69447ef588089e15e15198?s=128&d=identicon&r=PG&f=1", "display_name": "Oguz Ozgul", "link": "https://stackoverflow.com/users/5497207/oguz-ozgul"}, "edited": false, "score": 0, "creation_date": 1508970069, "post_id": 46941449, "comment_id": 80833284, "body": "What is in the while(true) block? This will utilize 100% CPU. In a Windows service, you just initialize your FileSystemWatcher in the OnStart method and do nothing else. The service is then running, waiting for events, consuming 0% CPU"}], "answers": [{"tags": [], "owner": {"reputation": 2001, "user_id": 1161635, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xeNhp.jpg?s=128&g=1", "display_name": "Herman", "link": "https://stackoverflow.com/users/1161635/herman"}, "is_accepted": true, "score": 0, "last_activity_date": 1508973655, "creation_date": 1508973655, "answer_id": 46943487, "question_id": 46941449, "link": "https://stackoverflow.com/questions/46941449/waiting-while-filesystemwatcher-is-monitoring-directory/46943487#46943487", "title": "Waiting while FileSystemWatcher is monitoring directory", "body": "<p>You can start a message pump using Application.Run() from WinForms.</p>\n\n<pre><code>using System.Windows.Forms;\n// The class that handles the creation of the application windows\nclass MyApplicationContext : ApplicationContext {\n\n    private MyApplicationContext() {\n        // Handle the ApplicationExit event to know when the application is exiting.\n        Application.ApplicationExit += new EventHandler(this.OnApplicationExit);\n\n        log_watcher = new FileSystemWatcher();\n        log_watcher.Path = Path.GetDirectoryName(pathToFile);\n        log_watcher.Filter = recent_file.Name;\n        log_watcher.NotifyFilter = NotifyFilters.LastWrite;\n        log_watcher.Changed += new FileSystemEventHandler(OnChanged);\n\n        log_watcher.EnableRaisingEvents = true;\n    }\n\n    public static void OnChanged(object sender, FileSystemEventArgs e) {\n        Console.WriteLine(\"File has changed\");\n    }\n\n    private void OnApplicationExit(object sender, EventArgs e) {\n        Console.WriteLine(\"File monitor exited.\");\n    }\n\n    [STAThread]\n    static void Main(string[] args) {\n\n        // Create the MyApplicationContext, that derives from     ApplicationContext,\n        // that manages when the application should exit.\n\n        MyApplicationContext context = new MyApplicationContext();\n\n        // Run the application with the specific context. It will exit when\n        // all forms are closed.\n        Application.Run(context);\n\n    }\n}\n</code></pre>\n\n<p>See <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.application.run?view=netframework-4.7.1#System_Windows_Forms_Application_Run_System_Windows_Forms_ApplicationContext_\" rel=\"nofollow noreferrer\" title=\"Run&#40;ApplicationContext&#41;\">Run(ApplicationContext)</a> on docs.microsoft.com.</p>\n"}], "owner": {"reputation": 199, "user_id": 5272740, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d171d615ba7da8335044482e2f05d94e?s=128&d=identicon&r=PG&f=1", "display_name": "Kenta", "link": "https://stackoverflow.com/users/5272740/kenta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 46943487, "answer_count": 1, "score": -1, "last_activity_date": 1508973655, "creation_date": 1508963041, "question_id": 46941449, "link": "https://stackoverflow.com/questions/46941449/waiting-while-filesystemwatcher-is-monitoring-directory", "title": "Waiting while FileSystemWatcher is monitoring directory", "body": "<p>I am trying to monitor a log file for changes. My code is working, and does everything it should. However, as I want this to run as a windows service and be constantly monitoring I'm not sure of the proper way to set it into a waiting state. Here is what it's doing at the moment.</p>\n\n<pre><code>    public static void Main()\n    {\n            log_watcher = new FileSystemWatcher();\n            log_watcher.Path = Path.GetDirectoryName(pathToFile);\n            log_watcher.Filter = recent_file.Name;\n            log_watcher.NotifyFilter = NotifyFilters.LastWrite;\n            log_watcher.Changed += new FileSystemEventHandler(OnChanged);\n\n            log_watcher.EnableRaisingEvents = true;\n            //do rest of stuff OnChanged\n            while (true)\n            {\n\n            }\n    }\n</code></pre>\n\n<p>And then just a simple:</p>\n\n<pre><code>    public static void OnChanged(object sender, FileSystemEventArgs e)\n    {\n        Console.WriteLine(\"File has changed\");\n    }\n</code></pre>\n\n<p>What would be a better way in a windows service to do this?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "iis"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1508963346, "post_id": 46941416, "comment_id": 80830278, "body": "Are you able to access pages within the application?"}, {"owner": {"reputation": 974, "user_id": 5908918, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2FlVc.jpg?s=128&g=1", "display_name": "Vin Shahrdar", "link": "https://stackoverflow.com/users/5908918/vin-shahrdar"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1508963728, "post_id": 46941416, "comment_id": 80830454, "body": "@mason Yes, the pages are accessible, but my scheduler thread is never spawned because Application[&quot;ApplicationName&quot;] is not set by Application_Start."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1508964553, "post_id": 46941416, "comment_id": 80830858, "body": "Your logged events never get logged? What about other methods within your global.asax?"}, {"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 1, "creation_date": 1508965793, "post_id": 46941416, "comment_id": 80831563, "body": "If you are not finding anything in the event log, make sure your event log is set up correctly and that it has permission to write.  It&#39;s possibly failing on the first line silently."}, {"owner": {"reputation": 974, "user_id": 5908918, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2FlVc.jpg?s=128&g=1", "display_name": "Vin Shahrdar", "link": "https://stackoverflow.com/users/5908918/vin-shahrdar"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1508967360, "post_id": 46941416, "comment_id": 80832276, "body": "@mason Nothing is logged from global.asax in that client server. In our QA server it works fine and we can see the logs."}, {"owner": {"reputation": 974, "user_id": 5908918, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2FlVc.jpg?s=128&g=1", "display_name": "Vin Shahrdar", "link": "https://stackoverflow.com/users/5908918/vin-shahrdar"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1508967376, "post_id": 46941416, "comment_id": 80832286, "body": "@mjwills Nope. Not on the client server."}, {"owner": {"reputation": 974, "user_id": 5908918, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2FlVc.jpg?s=128&g=1", "display_name": "Vin Shahrdar", "link": "https://stackoverflow.com/users/5908918/vin-shahrdar"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1508967427, "post_id": 46941416, "comment_id": 80832305, "body": "@mjwills Yes, we are certain that Application_Start doesn&#39;t get fired. It&#39;s as if IIS is not able to recognize the pre-compiled global.asax."}, {"owner": {"reputation": 974, "user_id": 5908918, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2FlVc.jpg?s=128&g=1", "display_name": "Vin Shahrdar", "link": "https://stackoverflow.com/users/5908918/vin-shahrdar"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1508967927, "post_id": 46941416, "comment_id": 80832524, "body": "@mjwills Nothing got logged on machine B."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1508967973, "post_id": 46941416, "comment_id": 80832550, "body": "Please update your post to include the entire file that method is contained in."}, {"owner": {"reputation": 974, "user_id": 5908918, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2FlVc.jpg?s=128&g=1", "display_name": "Vin Shahrdar", "link": "https://stackoverflow.com/users/5908918/vin-shahrdar"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1508969338, "post_id": 46941416, "comment_id": 80833032, "body": "@mjwills Sure. Done."}, {"owner": {"reputation": 974, "user_id": 5908918, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2FlVc.jpg?s=128&g=1", "display_name": "Vin Shahrdar", "link": "https://stackoverflow.com/users/5908918/vin-shahrdar"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1508970335, "post_id": 46941416, "comment_id": 80833367, "body": "@mjwills I don&#39;t know if this helps, but that windows server that has issues has KB3102467 installed for its latest update. Could this be the issue?"}, {"owner": {"reputation": 2727, "user_id": 336511, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/51f8d82b3af6acd50a0fe8a76eceb5db?s=128&d=identicon&r=PG", "display_name": "Daniel B", "link": "https://stackoverflow.com/users/336511/daniel-b"}, "edited": false, "score": 0, "creation_date": 1508970405, "post_id": 46941416, "comment_id": 80833399, "body": "@VinShahrdar can u comment the code inside application_start &amp;build then run to see it&#39;s rasing?"}, {"owner": {"reputation": 974, "user_id": 5908918, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2FlVc.jpg?s=128&g=1", "display_name": "Vin Shahrdar", "link": "https://stackoverflow.com/users/5908918/vin-shahrdar"}, "reply_to_user": {"reputation": 2727, "user_id": 336511, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/51f8d82b3af6acd50a0fe8a76eceb5db?s=128&d=identicon&r=PG", "display_name": "Daniel B", "link": "https://stackoverflow.com/users/336511/daniel-b"}, "edited": false, "score": 0, "creation_date": 1508971985, "post_id": 46941416, "comment_id": 80833900, "body": "@DanielB, I did that. Nothing happens. Application_Start is never called. No errors are warnings are detected in the Event Viewer."}, {"owner": {"reputation": 2727, "user_id": 336511, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/51f8d82b3af6acd50a0fe8a76eceb5db?s=128&d=identicon&r=PG", "display_name": "Daniel B", "link": "https://stackoverflow.com/users/336511/daniel-b"}, "edited": false, "score": 0, "creation_date": 1509195308, "post_id": 46941416, "comment_id": 80926344, "body": "Inherits=&quot;WebFramework.GlobalBase&quot; look for GlobalBase class not file"}, {"owner": {"reputation": 974, "user_id": 5908918, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2FlVc.jpg?s=128&g=1", "display_name": "Vin Shahrdar", "link": "https://stackoverflow.com/users/5908918/vin-shahrdar"}, "reply_to_user": {"reputation": 2727, "user_id": 336511, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/51f8d82b3af6acd50a0fe8a76eceb5db?s=128&d=identicon&r=PG", "display_name": "Daniel B", "link": "https://stackoverflow.com/users/336511/daniel-b"}, "edited": false, "score": 0, "creation_date": 1509459788, "post_id": 46941416, "comment_id": 81021863, "body": "@DanielB I meant the file that contains the class. The class doesn&#39;t have anything interesting. It is just an Init() that initializes some static variables."}], "answers": [{"tags": [], "owner": {"reputation": 974, "user_id": 5908918, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2FlVc.jpg?s=128&g=1", "display_name": "Vin Shahrdar", "link": "https://stackoverflow.com/users/5908918/vin-shahrdar"}, "is_accepted": true, "score": 0, "last_activity_date": 1509716996, "creation_date": 1509716996, "answer_id": 47097379, "question_id": 46941416, "link": "https://stackoverflow.com/questions/46941416/application-start-is-not-getting-fired-in-global-asax/47097379#47097379", "title": "Application_Start() is not getting fired in Global.asax", "body": "<p>It was a Windows issue! After installing the latest Windows Server 2012 R2 updates, this issue is not happening anymore!</p>\n"}], "owner": {"reputation": 974, "user_id": 5908918, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2FlVc.jpg?s=128&g=1", "display_name": "Vin Shahrdar", "link": "https://stackoverflow.com/users/5908918/vin-shahrdar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1264, "favorite_count": 0, "accepted_answer_id": 47097379, "answer_count": 1, "score": 1, "last_activity_date": 1509716996, "creation_date": 1508962926, "last_edit_date": 1508968441, "question_id": 46941416, "link": "https://stackoverflow.com/questions/46941416/application-start-is-not-getting-fired-in-global-asax", "title": "Application_Start() is not getting fired in Global.asax", "body": "<p>This works fine locally, and in our QA servers. However, in one of our client servers, it appears that Application_Start() is not getting fired at all.</p>\n\n<p>My Application_Start() looks like this:</p>\n\n<pre><code>void Application_Start(object sender, EventArgs e)\n{\n    EventLogging.LogEvent(\"Application_Start() fired in Global.asax.\", EventLogging.LogLevel.Basic);\n    Application[\"ApplicationName\"] = \"My Application Name\";\n    EventLogging.LogVerbose(\"Application_Start() - ApplicationName: \" + (Application[\"ApplicationName\"] ?? \"NA\"));\n}\n</code></pre>\n\n<p>In one of my code modules, I check for Application[\"ApplicationName\"], and if it has a value, I start a long-running scheduler thread. The problem is that this Application[\"ApplicationName\"] is never set by Application_Start().</p>\n\n<p>What I have tried so far:</p>\n\n<ol>\n<li>My ASP.NET website is pre-compiled, so I verified that <code>PrecompiledApp.config</code> is in the root directory of my website</li>\n<li>I verified that <code>App_global.asax.dll</code>, <code>App_global.asax.compiled</code> and <code>App_global.asax.pdb</code>are present in the bin directory.</li>\n<li>I verified that the app pool is running in classic mode</li>\n<li>I cleared the temporary ASP.net files</li>\n</ol>\n\n<p>My website's IIS app pool has the following properties:</p>\n\n<ol>\n<li>NET CLR version: v4.0</li>\n<li>Enable 32-Bit Applications = true</li>\n<li>managed Pipeline Mode = Classic</li>\n<li>Start Mode = OnDemand</li>\n</ol>\n\n<p>I am positive that there is some kind of a configuration on this server that is causing <code>Application_Start()</code> to not fire, but I'm not sure what it is.</p>\n\n<p>I have read and tried the suggested methods below, but had no luck so far:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/1632636/global-asax-not-loading-for-precompiled-asp-net-website\">Global.asax not loading for precompiled asp.net website</a></li>\n<li><a href=\"https://stackoverflow.com/questions/39300257/application-start-is-not-being-called-in-iis\">Application_Start is not being called in IIS</a></li>\n<li><a href=\"https://stackoverflow.com/questions/17091534/application-start-is-not-firing-in-iis\">Application_Start is not firing in IIS</a></li>\n</ol>\n\n<p>This has been driving me crazy. Please help. Thanks!</p>\n\n<p>Edit: As you requested, here is my entire global.asax:</p>\n\n<pre><code>&lt;%@ Application Language=\"C#\" Inherits=\"WebFramework.GlobalBase\" %&gt;\n&lt;%@ Import Namespace=\"System\" %&gt;\n&lt;%@ Import Namespace=\"System.Web\" %&gt;\n&lt;%@ Import Namespace=\"System.Web.Http\" %&gt;\n&lt;%@ Import Namespace=\"System.Web.Mvc\" %&gt;\n&lt;%@ Import Namespace=\"System.Web.Routing\" %&gt;\n&lt;%@ Import Namespace=\"System.Reflection\" %&gt;\n\n&lt;script runat=\"server\"&gt;\n\n    void Application_Start(object sender, EventArgs e)\n    {\n        EventLogging.LogEvent(\"Application_Start() fired in Global.asax.\", EventLogging.LogLevel.Basic);\n        AreaRegistration.RegisterAllAreas();\n        FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);\n        RouteConfig.RegisterRoutes(RouteTable.Routes);\n\n        Application[\"ApplicationName\"] = \"My Application\";\n        EventLogging.LogVerbose(\"Application_Start() - ApplicationName: \" + (Application[\"ApplicationName\"] ?? \"NA\"));\n    }\n\n    void Application_End(object sender, EventArgs e)\n    {\n        //  Code that runs on application shutdown\n    }\n\n    void Application_Error(object sender, EventArgs e)\n    {\n        // Code that runs when an unhandled error occurs\n    }\n\n    void Session_Start(object sender, EventArgs e)\n    {\n        // Code that runs when a new session is started\n\n    }\n\n    void Session_End(object sender, EventArgs e)\n    {\n        // Code that runs when a session ends. \n        // Note: The Session_End event is raised only when the sessionstate mode\n        // is set to InProc in the Web.config file. If session mode is set to StateServer \n        // or SQLServer, the event is not raised.\n\n    }\n\n    public override string GetVaryByCustomString(HttpContext context, string custom)\n    {\n        if (custom.ToLower() == \"sessionid\")\n        {\n            return context.Session.SessionID;\n        }\n        return base.GetVaryByCustomString(context, custom);\n    }\n\n&lt;/script&gt;\n</code></pre>\n\n<p>Note: GlobalBase.cs is basically a cs file that does nothing.</p>\n"}, {"tags": ["c#", "sql-server", "logging", "serilog"], "comments": [{"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1508963174, "post_id": 46941413, "comment_id": 80830219, "body": "You didn&#39;t mention <a href=\"https://github.com/serilog/serilog-sinks-mssqlserver\" rel=\"nofollow noreferrer\">creating the necessary table or using <code>autoCreateSqlTable</code>.</a>"}, {"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1508963909, "post_id": 46941413, "comment_id": 80830535, "body": "Do I still need to create the table if I already have the table inside my db and I setup the connection string or no? I saw that in the tutorial but I wasn&#39;t sure if that applied to me @Crowcoder. Thanks!"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1508964013, "post_id": 46941413, "comment_id": 80830578, "body": "You should be good if you already have the table, I just wasn&#39;t sure since you went over all your steps except that one."}, {"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1508964076, "post_id": 46941413, "comment_id": 80830607, "body": "ah ok, just edited my post to include that part. Any other ideas what could be wrong? Thanks :)"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1508964304, "post_id": 46941413, "comment_id": 80830732, "body": "I see you don&#39;t set <code>MinimumLevel</code> on <code>LoggerConfiguration</code> - unless <code>restrictedToMinimumLevel: LogEventLevel.Debug</code> takes care of that. I don&#39;t have much experience using that particular sink."}, {"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1508964996, "post_id": 46941413, "comment_id": 80831126, "body": "@Crowcoder yeah that takes care of that. Through the MSSQLServer sink. It uses a restrictedToMinimumLevel instead."}, {"owner": {"reputation": 2021, "user_id": 5576498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PexHb.png?s=128&g=1", "display_name": "AminGolmahalle", "link": "https://stackoverflow.com/users/5576498/amingolmahalle"}, "edited": false, "score": 0, "creation_date": 1550556249, "post_id": 46941413, "comment_id": 96300415, "body": "This Link Just Sample Serilog Sink To Sql server Launch on Asp.Net Mvc and Asp.net WebApi GitHub. <a href=\"https://github.com/amingolmahalle/Serilog_Sink_To_SqlServer/tree/master\" rel=\"nofollow noreferrer\">github.com/amingolmahalle/Serilog_Sink_To_SqlServer/tree/mas&zwnj;&#8203;ter</a>"}], "answers": [{"tags": [], "owner": {"reputation": 506, "user_id": 2416451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cSAdi.jpg?s=128&g=1", "display_name": "mukesh joshi", "link": "https://stackoverflow.com/users/2416451/mukesh-joshi"}, "is_accepted": false, "score": 3, "last_activity_date": 1548928593, "creation_date": 1548928593, "answer_id": 54457863, "question_id": 46941413, "link": "https://stackoverflow.com/questions/46941413/setting-up-serilog-to-write-logs-to-sql-server-db-table/54457863#54457863", "title": "Setting up Serilog to write logs to SQL Server db table", "body": "<p>Can you try using the self logging of serilog to see what is happening:</p>\n\n<p>If you are using .net core, put following in Program.main()</p>\n\n<pre><code>Serilog.Debugging.SelfLog.Enable(msg =&gt;\n{\nDebug.Print(msg);\nDebugger.Break();\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 9039569, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gHAFUV5vShA/AAAAAAAAAAI/AAAAAAAAALE/OrcjPc6dc-c/photo.jpg?sz=128", "display_name": "B3HI13", "link": "https://stackoverflow.com/users/9039569/b3hi13"}, "is_accepted": false, "score": 0, "last_activity_date": 1586763194, "creation_date": 1586763194, "answer_id": 61183319, "question_id": 46941413, "link": "https://stackoverflow.com/questions/46941413/setting-up-serilog-to-write-logs-to-sql-server-db-table/61183319#61183319", "title": "Setting up Serilog to write logs to SQL Server db table", "body": "<p>You should write </p>\n\n<pre><code>_Logger.Dispose();\n</code></pre>\n\n<p>after </p>\n\n<pre><code>_Logger.Error(LogEventLevel.Error,\n                \"{LogTimestamp}{RecordNum}{ComputerName}{ProcessTimeStamp}{LogGroup}\" +\n                \"{Type}{EventId}{UserId}{Line}\" +\n                \"{Description}{Source}{Data}{AddTimestamp}{DeviceID}\",\n                infoToLog.LogTimestamp, infoToLog.RecordNum,\n                infoToLog.ComputerName, infoToLog.ProcessTimestamp,\n                infoToLog.LogGroup, infoToLog.Type,\n                infoToLog.EventId, infoToLog.UserId,\n                infoToLog.Line, infoToLog.Description,\n                infoToLog.Source, infoToLog.Data,\n                infoToLog.AddTimestamp, infoToLog.DeviceId);\n</code></pre>\n"}], "owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11525, "favorite_count": 1, "answer_count": 2, "score": 12, "last_activity_date": 1586763194, "creation_date": 1508962913, "last_edit_date": 1508964055, "question_id": 46941413, "link": "https://stackoverflow.com/questions/46941413/setting-up-serilog-to-write-logs-to-sql-server-db-table", "title": "Setting up Serilog to write logs to SQL Server db table", "body": "<p>I'm trying to set up Serilog to write logs to my db table. </p>\n\n<p>Here's the breakdown of what I did to try and set up logging to SQL Server. </p>\n\n<p>1) Install the Nuget Packages, Serilog and Serilog.Sinks.MSSqlServer</p>\n\n<p>2) I set up a class called Logger.cs that houses all the configuration for Serilog: </p>\n\n<pre><code>public static class Logger\n{\n    private static readonly ILogger _Logger;\n\n    static Logger()\n    {\n\n        var connStr = \"data source=DESKTOP-BLAH;Initial Catalog=DBNAME;Trusted_Connection=True;\";\n\n        _Logger = new LoggerConfiguration()\n            .WriteTo.MSSqlServer(connStr, \"ApplicationLogs\", \n            columnOptions: GetSqlColumnOptions(), restrictedToMinimumLevel: LogEventLevel.Debug, batchPostingLimit: 1)\n            .CreateLogger();\n\n        Serilog.Debugging.SelfLog.Enable(msg =&gt; Debug.WriteLine(msg));\n\n    }\n\n    public static ColumnOptions GetSqlColumnOptions()\n    {\n        var colOptions = new ColumnOptions();\n\n        colOptions.Store.Remove(StandardColumn.Properties);\n        colOptions.Store.Remove(StandardColumn.MessageTemplate);\n        colOptions.Store.Remove(StandardColumn.Message);\n        colOptions.Store.Remove(StandardColumn.Exception);\n        colOptions.Store.Remove(StandardColumn.TimeStamp);\n        colOptions.Store.Remove(StandardColumn.Level);\n\n        colOptions.AdditionalDataColumns = new Collection&lt;DataColumn&gt;\n        {\n            new DataColumn{DataType = typeof(DateTime), ColumnName = \"LogTimeStamp\"},\n            new DataColumn{DataType = typeof(Int32), ColumnName = \"RecordNum\"},\n            new DataColumn{DataType = typeof(string), ColumnName = \"ComputerName\"},\n            new DataColumn{DataType = typeof(DateTime), ColumnName = \"ProcessTimeStamp\"},\n            new DataColumn{DataType = typeof(string), ColumnName = \"LogGroup\"},\n            new DataColumn{DataType = typeof(string), ColumnName = \"Type\"},\n            new DataColumn{DataType = typeof(Int32), ColumnName = \"EventId\"},\n            new DataColumn{DataType = typeof(string), ColumnName = \"UserId\"},\n            new DataColumn{DataType = typeof(Int32), ColumnName = \"Line\"},\n            new DataColumn{DataType = typeof(string), ColumnName = \"Description\"},\n            new DataColumn{DataType = typeof(string), ColumnName = \"Source\"},\n            new DataColumn{DataType = typeof(string), ColumnName = \"Data\"},\n            new DataColumn{DataType = typeof(DateTime), ColumnName = \"AddTimestamp\"},\n            new DataColumn{DataType = typeof(string), ColumnName = \"DeviceID\"}\n\n        };\n        return colOptions;\n    }\n\n\n    public static void WriteError(ApplicationLog infoToLog)\n    {\n        try\n        {        \n            _Logger.Error(LogEventLevel.Error,\n                    \"{LogTimestamp}{RecordNum}{ComputerName}{ProcessTimeStamp}{LogGroup}\" +\n                    \"{Type}{EventId}{UserId}{Line}\" +\n                    \"{Description}{Source}{Data}{AddTimestamp}{DeviceID}\",\n                    infoToLog.LogTimestamp, infoToLog.RecordNum,\n                    infoToLog.ComputerName, infoToLog.ProcessTimestamp,\n                    infoToLog.LogGroup, infoToLog.Type,\n                    infoToLog.EventId, infoToLog.UserId,\n                    infoToLog.Line, infoToLog.Description,\n                    infoToLog.Source, infoToLog.Data,\n                    infoToLog.AddTimestamp, infoToLog.DeviceId);\n        }\n        catch(Exception ex)\n        {\n\n        }\n    }\n}\n</code></pre>\n\n<p>3) Then I believe I should be good to go and I set it up like this: </p>\n\n<pre><code>ApplicationLog appLog = new ApplicationLog()\n{\n    LogTimestamp = DateTime.Now,\n    RecordNum = 1,\n    ComputerName = Environment.MachineName,\n    ProcessTimestamp = DateTime.Now,\n    LogGroup = \"10\",\n    Type = \"T\",\n    EventId = 23,\n    UserId = Environment.UserName,\n    Line = 0,\n    Description = \"Duplicate Failed to Upload\",\n    Source = \"FooController.cs\",\n    Data = \"DBNAME\",\n    AddTimestamp = DateTime.Now,\n    DeviceId = \"15\"\n\n};\n\nLogger.WriteError(appLog);\n</code></pre>\n\n<p>4) Created table in my DB already and just waiting for the data from logging to populate. </p>\n\n<p>However, it seems like it still doesn't get saved in my SQL Server db table. </p>\n\n<p>I'm wondering if I missed any steps or what I did wrong for the setup here? </p>\n"}, {"tags": ["c#", "multithreading"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 3, "creation_date": 1508962929, "post_id": 46941372, "comment_id": 80830092, "body": "You are sharing a <code>List&lt;string&gt;</code> between threads.  If any of those threads modify the list, you must manage access to it using <code>lock()</code>"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1508964713, "post_id": 46941372, "comment_id": 80830958, "body": "Please include your calling code (with multiple calls to <code>ListOfFieldValue</code>)."}, {"owner": {"reputation": 280, "user_id": 1171842, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MVMMj.jpg?s=128&g=1", "display_name": "Yogi", "link": "https://stackoverflow.com/users/1171842/yogi"}, "edited": false, "score": 0, "creation_date": 1508965014, "post_id": 46941372, "comment_id": 80831135, "body": "I just pasted it in the original post, thank you Amy"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1508965969, "post_id": 46941372, "comment_id": 80831652, "body": "Your current code in your question does not compile (sometimes you use <code>result</code>, sometimes <code>_result</code>). This makes it hard to give advice. <i>Also, please update with the full stack trace of the exception that occurs.</i>"}], "answers": [{"comments": [{"owner": {"reputation": 280, "user_id": 1171842, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MVMMj.jpg?s=128&g=1", "display_name": "Yogi", "link": "https://stackoverflow.com/users/1171842/yogi"}, "edited": false, "score": 0, "creation_date": 1508964613, "post_id": 46941529, "comment_id": 80830900, "body": "Thank you Amy and sjb, I have been moving that _result in and out of the method, it works for the first event OnRecordsFound, but then the second time OnRecordsFound event is triggered, it complained about the object reference, even though _result, or result when I put it in the method, is populated with correct data. I&#39;m sorry I thought result was lost but apparently the event thought result was lost, or something in that effect."}], "tags": [], "owner": {"reputation": 941, "user_id": 6090828, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/m03cT.png?s=128&g=1", "display_name": "sjb-sjb", "link": "https://stackoverflow.com/users/6090828/sjb-sjb"}, "is_accepted": false, "score": 0, "last_activity_date": 1508963401, "creation_date": 1508963401, "answer_id": 46941529, "question_id": 46941372, "link": "https://stackoverflow.com/questions/46941372/how-to-use-delegate-and-event-in-multi-threading-c/46941529#46941529", "title": "How to use delegate and event in multi-threading c#", "body": "<p>At a quick glance, assuming that your three threads are invoking ListOfFielfValue on the same object, it looks like your multiple threads are all writing to a shared variable, _result. You need to make this a local variable in the method. </p>\n\n<p>Objects are shared across threads. If you want to have multiple threads access the same object then you will need some kind of locking. </p>\n"}, {"comments": [{"owner": {"reputation": 280, "user_id": 1171842, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MVMMj.jpg?s=128&g=1", "display_name": "Yogi", "link": "https://stackoverflow.com/users/1171842/yogi"}, "edited": false, "score": 0, "creation_date": 1508967189, "post_id": 46942328, "comment_id": 80832199, "body": "This works, so the problem was not that the process was not sequential in each thread, but it was the += that needs to preceed the actual call to the method (ListOfFieldValue in this case) . And yes I agree that would be a good practice. Thank you Zer0!"}], "tags": [], "owner": {"reputation": 6297, "user_id": 3980331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBLDe.png?s=128&g=1", "display_name": "Zer0", "link": "https://stackoverflow.com/users/3980331/zer0"}, "is_accepted": false, "score": 2, "last_activity_date": 1508966857, "creation_date": 1508966857, "answer_id": 46942328, "question_id": 46941372, "link": "https://stackoverflow.com/questions/46941372/how-to-use-delegate-and-event-in-multi-threading-c/46942328#46942328", "title": "How to use delegate and event in multi-threading c#", "body": "<pre><code>Thread thread = new Thread(() =&gt;\n{\n    ST_Process stp = new ST_Process(connStr);\n    stp.OnRecordsFound += new GetStringArrayResult(getEvent);\n    stp.ListOfFieldValue(tf.TableName, tf.FieldName);\n});\n</code></pre>\n\n<p>You need to subscribe to the event first.  Also, whenever calling events it is good practice to check for null:</p>\n\n<pre><code>var e = someEvent;\nif (e != null)\n    e();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1037, "user_id": 282326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hHSFZ.jpg?s=128&g=1", "display_name": "Jorgen Thelin", "link": "https://stackoverflow.com/users/282326/jorgen-thelin"}, "is_accepted": false, "score": 2, "last_activity_date": 1508967437, "last_edit_date": 1592644375, "creation_date": 1508967437, "answer_id": 46942458, "question_id": 46941372, "link": "https://stackoverflow.com/questions/46941372/how-to-use-delegate-and-event-in-multi-threading-c/46942458#46942458", "title": "How to use delegate and event in multi-threading c#", "body": "<p>Instance methods of the <code>List&lt;T&gt;</code> class which write data (such as <code>Add</code>) are not thread safe, so cannot be used by multiple threads.</p>\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.list-1?view=netframework-4.7.1#Thread_Safety\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.list-1?view=netframework-4.7.1#Thread_Safety</a></p>\n<blockquote>\n<p><strong>Thread Safety</strong></p>\n<p>Public static (Shared in Visual Basic) members of this type are thread safe. Any instance members are not guaranteed to be thread safe.</p>\n<p>It is safe to perform multiple read operations on a List, but issues can occur if the collection is modified while it\u2019s being read. To ensure thread safety, lock the collection during a read or write operation. To enable a collection to be accessed by multiple threads for reading and writing, you must implement your own synchronization. For collections with built-in synchronization, see the classes in the System.Collections.Concurrent namespace.</p>\n</blockquote>\n<p>Instead, you should use a thread-safe collection class such as <code>System.Collections.Concurrent.ConcurrentQueue</code></p>\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/standard/collections/thread-safe/\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/standard/collections/thread-safe/</a></p>\n"}], "owner": {"reputation": 280, "user_id": 1171842, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MVMMj.jpg?s=128&g=1", "display_name": "Yogi", "link": "https://stackoverflow.com/users/1171842/yogi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1588, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1508968530, "creation_date": 1508962763, "last_edit_date": 1508968530, "question_id": 46941372, "link": "https://stackoverflow.com/questions/46941372/how-to-use-delegate-and-event-in-multi-threading-c", "title": "How to use delegate and event in multi-threading c#", "body": "<p>I'm experimenting with multi-thread coding. If I would like to execute processes in parallel. Say, I would like to query table A, table B, and table C simultaneously. Within each thread, I am doing SqlCommand .ExecuteReader like this:</p>\n\n<p>using System.Collections.Generic;\nusing System.Data.SqlClient;</p>\n\n<pre><code>namespace MultiThread2\n{\n    public class TableFieldArray\n    {\n        public string TableName { get; set; }\n        public string FieldName { get; set; }\n    }\n\n    static class MTProcess\n    {\n        const string connStr = \"server=***;database=***;user id=***;password=***\";\n\n        public static event GetStringArrayResult OnRecordsFoundMTS;\n\n        public static void GetStringArrays(TableFieldArray[] tableFieldArray)\n        {\n            foreach (TableFieldArray tf in tableFieldArray)\n            {\n                Thread thread = new Thread(() =&gt;\n                {\n                    ST_Process stp = new ST_Process(connStr);\n                    stp.ListOfFieldValue(tf.TableName, tf.FieldName);\n                    stp.OnRecordsFound += new GetStringArrayResult(getEvent);\n                });\n\n                thread.Start();\n            }\n        }\n\n        private static void getEvent(string[] result)\n        {\n            OnRecordsFoundMTS(result);\n            return;\n        }\n\n// ---------------\n\n    public delegate void GetStringArrayResult(string[] output);\n\n    class ST_Process\n    {\n        public event GetStringArrayResult OnRecordsFound;\n\n        private readonly string _connStr;\n\n        public ST_Process(string connectionString)\n        {\n            _connStr = connectionString;\n        }\n\n        public void ListOfFieldValue(string tableName, string fieldName)\n        {\n            List&lt;string&gt; result = new List&lt;string&gt;();\n            using (SqlConnection sqlConn = new SqlConnection(_connStr))\n            {\n                sqlConn.Open();\n                string sqlText = string.Format(\"SELECT TOP 100 {0} FROM {1} \", fieldName, tableName);\n                using (SqlCommand sqlcmd = new SqlCommand(sqlText, sqlConn) { CommandType = System.Data.CommandType.Text })\n                {\n                    var r = sqlcmd.ExecuteReader();\n                    while (r.Read())\n                    {\n                        result.Add(r[fieldName].ToString());\n                    }\n                    OnRecordsFound(_result.ToArray());\n                }\n                sqlConn.Close();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The problem is, when executed in separate threads, OnRecordsFound(_result.ToArray()) causes object reference not set to an instance of an object exception error. Any idea how to make this setup work with multi-thread environment?</p>\n"}, {"tags": ["c#", ".net", "nuget", "azure-devops", ".net-standard"], "comments": [{"owner": {"reputation": 7152, "user_id": 578843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/obGLo.jpg?s=128&g=1", "display_name": "Styxxy", "link": "https://stackoverflow.com/users/578843/styxxy"}, "edited": false, "score": 0, "creation_date": 1508969776, "post_id": 46941247, "comment_id": 80833190, "body": "Did you include the Nuget Restore build task before the solution build?"}, {"owner": {"reputation": 5392, "user_id": 1396994, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7742f086edc869b1ddb3fa6179651689?s=128&d=identicon&r=PG", "display_name": "Cam Bruce", "link": "https://stackoverflow.com/users/1396994/cam-bruce"}, "reply_to_user": {"reputation": 7152, "user_id": 578843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/obGLo.jpg?s=128&g=1", "display_name": "Styxxy", "link": "https://stackoverflow.com/users/578843/styxxy"}, "edited": false, "score": 0, "creation_date": 1508969897, "post_id": 46941247, "comment_id": 80833225, "body": "Yes, i have the Nuget package restore before the solution build. This error only started happening after introducing a .NET core / standard dependency into the solution"}, {"owner": {"reputation": 50853, "user_id": 181087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85700c2c160866ef6924fc491a3ce574?s=128&d=identicon&r=PG", "display_name": "NightOwl888", "link": "https://stackoverflow.com/users/181087/nightowl888"}, "edited": false, "score": 0, "creation_date": 1508969923, "post_id": 46941247, "comment_id": 80833236, "body": "Have you checked to see if the <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/net-standard\" rel=\"nofollow noreferrer\">.NET Standard version</a> is compatible with the framework you are targeting? It seems that both the .NET Standard version number and target framework are relevant to the question, so you should add them."}, {"owner": {"reputation": 5392, "user_id": 1396994, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7742f086edc869b1ddb3fa6179651689?s=128&d=identicon&r=PG", "display_name": "Cam Bruce", "link": "https://stackoverflow.com/users/1396994/cam-bruce"}, "edited": false, "score": 0, "creation_date": 1508971279, "post_id": 46941247, "comment_id": 80833689, "body": "updated with .net framework and .net standard versions"}, {"owner": {"reputation": 7052, "user_id": 2084315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/650350a4564c8b0eaeddbe972a48f076?s=128&d=identicon&r=PG&f=1", "display_name": "ps2goat", "link": "https://stackoverflow.com/users/2084315/ps2goat"}, "edited": false, "score": 0, "creation_date": 1508972625, "post_id": 46941247, "comment_id": 80834106, "body": "Ensure that your build agent and the build step target VS 2017.  I&#39;m not sure if that helps this case at all, but it helped with a different issue."}, {"owner": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "edited": false, "score": 0, "creation_date": 1509005624, "post_id": 46941247, "comment_id": 80845223, "body": "Can you reproduce this issue with the new projects? Can you share the detail log on the OneDrive? Try to add NuGet Tool Installer task (install 4.3.0) before NuGet restore task."}, {"owner": {"reputation": 4059, "user_id": 1289864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sg1kP.jpg?s=128&g=1", "display_name": "Ken Tucker", "link": "https://stackoverflow.com/users/1289864/ken-tucker"}, "edited": false, "score": 0, "creation_date": 1509284350, "post_id": 46941247, "comment_id": 80948213, "body": "Have the console app target 4.6.1 instead of 4.6.2"}, {"owner": {"reputation": 5392, "user_id": 1396994, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7742f086edc869b1ddb3fa6179651689?s=128&d=identicon&r=PG", "display_name": "Cam Bruce", "link": "https://stackoverflow.com/users/1396994/cam-bruce"}, "edited": false, "score": 0, "creation_date": 1509725679, "post_id": 46941247, "comment_id": 81150182, "body": "Why would changing the framework to 4.6.1 fix it?"}], "owner": {"reputation": 5392, "user_id": 1396994, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7742f086edc869b1ddb3fa6179651689?s=128&d=identicon&r=PG", "display_name": "Cam Bruce", "link": "https://stackoverflow.com/users/1396994/cam-bruce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508971261, "creation_date": 1508962253, "last_edit_date": 1508971261, "question_id": 46941247, "link": "https://stackoverflow.com/questions/46941247/building-vs-solution-with-net-standard-components", "title": "Building VS Solution with .NET Standard components", "body": "<p>I'm having issues building a Visual Studio 2017 solution, where one of the class library projects contains references to .NET Standard / Core component (<code>Microsoft.Exensions.Logging</code>). </p>\n\n<p>My class library is <strong>.NET 4.6.2</strong>, and referencing <strong>.NET Standard 2.01</strong>.</p>\n\n<p>Everything builds and runs fine within Visual Studio, however, when trying to create a build in Visual Studio Online, i get the following error. The build had previously been working, and i am doing a Nuget package restore.</p>\n\n<pre><code>&gt;     MyWeb.csproj (1080, 5)\n&gt;     MyWeb.csproj(1080,5): Error : This project references NuGet package(s) that are missing on this computer. Use NuGet Package\n&gt; Restore to download them. For more information, see\n&gt; http://go.microsoft.com/fwlink/?LinkID=322105. The missing file is\n&gt; ..\\packages\\Microsoft.Bcl.Build.1.0.21\\build\\Microsoft.Bcl.Build.targets.\n</code></pre>\n\n<p>Any insight?</p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["c#", "android", "xamarin", "xamarin.android"], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 7687032, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d990fe78e88aa3b0609bb7dae34b74a?s=128&d=identicon&r=PG&f=1", "display_name": "Bobh", "link": "https://stackoverflow.com/users/7687032/bobh"}, "edited": false, "score": 0, "creation_date": 1508964135, "post_id": 46941385, "comment_id": 80830627, "body": "I didn&#39;t test because that was not the question, The question was about syntax, and Visual Studio says that&#39;s the right syntax. Thank you. Marked as accepted"}], "tags": [], "owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "is_accepted": true, "score": 5, "last_activity_date": 1508962813, "creation_date": 1508962813, "answer_id": 46941385, "question_id": 46941217, "link": "https://stackoverflow.com/questions/46941217/how-to-use-setaction-in-xamarin/46941385#46941385", "title": "How to use SetAction in Xamarin", "body": "<p><code>Android.Provider.Settings.ActionRequestIgnoreBatteryOptimizations</code>:</p>\n\n<ul>\n<li>android.settings.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS</li>\n</ul>\n\n<p><code>Android.Provider.Settings.ActionIgnoreBatteryOptimizationSettings</code>:</p>\n\n<ul>\n<li>android.settings.IGNORE_BATTERY_OPTIMIZATION_SETTINGS</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>intent.SetAction(Android.Provider.Settings.ActionRequestIgnoreBatteryOptimizations);\nintent.SetAction(Android.Provider.Settings.ActionIgnoreBatteryOptimizationSettings);\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 7687032, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d990fe78e88aa3b0609bb7dae34b74a?s=128&d=identicon&r=PG&f=1", "display_name": "Bobh", "link": "https://stackoverflow.com/users/7687032/bobh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1710, "favorite_count": 0, "accepted_answer_id": 46941385, "answer_count": 1, "score": 2, "last_activity_date": 1508964330, "creation_date": 1508962126, "last_edit_date": 1508964330, "question_id": 46941217, "link": "https://stackoverflow.com/questions/46941217/how-to-use-setaction-in-xamarin", "title": "How to use SetAction in Xamarin", "body": "<p>I'm trying to whitelist my app on Android 6.0 or greater. I have seen Android code to do this, but it doesn't translate in Xamarin and Xamarin documentation only tells you that SetAction takes a string as an argument, and then a link to Android documentation which doesn't end up being the same.</p>\n\n<p>Here's the Android code that Xamarin will not accept</p>\n\n<pre><code>intent.setAction(Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS);\n</code></pre>\n\n<p>It doesn't like Settings. I've read the Xamarin documentation which says that SetAction() takes a string arg, and that's all they say and point you to Android documentation.</p>\n\n<p>Note, I am calling this in a javascript interface class and I tried this but it doesn't work</p>\n\n<pre><code>class MyJSInterface : Java.Lang.Object\n    {\n    Context context;\n    public MyJSInterface(Context context)\n        {\n            this.context = context;\n        }\n    [Export]\n    [JavascriptInterface]\n    public void SetDozeOptimization()\n        {\n            Toast.MakeText(context, \"launch optimization\", ToastLength.Short).Show();\n\n            setDozeComplete = false;\n            Intent intent = new Intent();\n            String packageName = context.PackageName;\n            PowerManager pm = (PowerManager)context.GetSystemService(Context.PowerService);\n            if (pm.IsIgnoringBatteryOptimizations(packageName))\n                intent.SetAction(\"ACTION_IGNORE_BATTERY_OPTIMIZATION_SETTINGS\");\n            else\n            {\n                intent.SetAction(\"ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS\");\n                intent.SetData(Android.Net.Uri.Parse(\"package:\" + packageName));\n            }\n            context.StartActivity(intent);\n        }\n\n}\n</code></pre>\n\n<p>So what is the correct syntax to accomplish this?</p>\n"}, {"tags": ["c#", "web-services", "uwp", "async-await"], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 3624566, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f3719744296efd7fe6a13b2548f620c9?s=128&d=identicon&r=PG&f=1", "display_name": "Wacho", "link": "https://stackoverflow.com/users/3624566/wacho"}, "is_accepted": true, "score": 2, "last_activity_date": 1509676079, "creation_date": 1509676079, "answer_id": 47087575, "question_id": 46941191, "link": "https://stackoverflow.com/questions/46941191/a-method-was-called-at-an-unexpected-time-from-ihttpfilter-sendrequestasync/47087575#47087575", "title": "A method was called at an unexpected time from IHttpFilter.SendRequestAsync", "body": "<p>Ok, after struggling with this for a long time, I ended up doing this:</p>\n\n<pre><code>public override IAsyncOperationWithProgress&lt;HttpResponseMessage, HttpProgress&gt; SendRequestAsync(HttpRequestMessage request)\n{\n    return AsyncInfo.Run&lt;HttpResponseMessage, HttpProgress&gt;(async (cancellationToken, progress) =&gt;\n    {\n        var retry = true;\n        if (TokenManager.TokenExists)\n        {\n            var now = DateTimeOffset.UtcNow.ToUnixTimeSeconds();\n            if (now &gt; TokenManager.Token.ExpiresOn)\n            {\n                retry = false;\n                await RefreshTokenAsync();\n            }\n            request.Headers.Authorization = new HttpCredentialsHeaderValue(TokenManager.Token.TokenType, TokenManager.Token.AccessToken);\n        }\n\n        HttpResponseMessage response = await InnerFilter.SendRequestAsync(request).AsTask(cancellationToken, progress);\n\n        cancellationToken.ThrowIfCancellationRequested();\n\n        if (response.StatusCode == HttpStatusCode.Unauthorized)\n        {\n            var authHeader = response.Headers.WwwAuthenticate.SingleOrDefault(x =&gt; x.Scheme == \"Bearer\");\n            if (authHeader != null)\n            {\n                var challenge = ParseChallenge(authHeader.Parameters);\n                if (challenge.Error == \"token_expired\" &amp;&amp; retry)\n                {\n                    var secondRequest = request.Clone();\n                    var success = await RefreshTokenAsync();\n                    if (success)\n                    {\n                        secondRequest.Headers.Authorization = new HttpCredentialsHeaderValue(TokenManager.Token.TokenType, TokenManager.Token.AccessToken);\n                        response = await InnerFilter.SendRequestAsync(secondRequest).AsTask(cancellationToken, progress);\n                    }\n                }\n            }\n        }\n\n        return response;\n    });\n}\n\npublic static HttpRequestMessage Clone(this HttpRequestMessage request)\n{\n    var clone = new HttpRequestMessage(request.Method, request.RequestUri)\n    {\n        Content = request.Content\n    };\n    foreach (KeyValuePair&lt;string, object&gt; prop in request.Properties.ToList())\n    {\n        clone.Properties.Add(prop);\n    }\n    foreach (KeyValuePair&lt;string, string&gt; header in request.Headers.ToList())\n    {\n        clone.Headers.Add(header.Key, header.Value);\n    }\n\n    return clone;\n}\n</code></pre>\n\n<p>Because I needed to re-send the request, I made a second request cloning the first one.</p>\n"}], "owner": {"reputation": 101, "user_id": 3624566, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f3719744296efd7fe6a13b2548f620c9?s=128&d=identicon&r=PG&f=1", "display_name": "Wacho", "link": "https://stackoverflow.com/users/3624566/wacho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 47087575, "answer_count": 1, "score": 1, "last_activity_date": 1509676079, "creation_date": 1508961963, "last_edit_date": 1509233793, "question_id": 46941191, "link": "https://stackoverflow.com/questions/46941191/a-method-was-called-at-an-unexpected-time-from-ihttpfilter-sendrequestasync", "title": "A method was called at an unexpected time from IHttpFilter.SendRequestAsync", "body": "<p>I'm developing an UWP app that calls a web service. For that I use a HttpClient object from Windows.Web.Http namespace and I pass a IHttpFilter object to its constructor. This filter is responsible for the authentication process. I based my solution following this <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.web.http.filters\" rel=\"nofollow noreferrer\">link</a> and the authentication logic is based on <a href=\"https://rnd.feide.no/2012/04/19/best-practice-for-dealing-with-oauth-2-0-token-expiration-at-the-consumer/\" rel=\"nofollow noreferrer\">this</a></p>\n\n<p>I don't know what I'm doing wrong but I got this exception: A method was called at an unexpected time. (Exception from HRESULT: 0x8000000E)</p>\n\n<p>The scenario that I'm testing is when the token is invalid despite it is assumed it is valid. In this case the (now > TokenManager.Token.ExpiresOn) condition is false, then an authorization header is added (with an invalid token), then a request is sent, then the http response code and www-authenticate header is inspected and if it is neccessary, a new access token must be requested by means of refresh token in order to do a retry. It is when I reach this line when the exception is thrown (the second time): response = await InnerFilter.SendRequestAsync(request).AsTask(cancellationToken, progress);</p>\n\n<p>I have no idea what I'm doing wrong. I have seen another questions where people got this error and usually it's because they try to get the task's result without waiting for the task's completion but I'm using the await keyword in all asynchronous methods.</p>\n\n<pre><code>public class AuthFilter : HttpFilter\n{\n    public override IAsyncOperationWithProgress&lt;HttpResponseMessage, HttpProgress&gt; SendRequestAsync(HttpRequestMessage request)\n    {\n        return AsyncInfo.Run&lt;HttpResponseMessage, HttpProgress&gt;(async (cancellationToken, progress) =&gt;\n        {\n            var retry = true;\n            if (TokenManager.TokenExists)\n            {\n                var now = DateTimeOffset.UtcNow.ToUnixTimeSeconds();\n                if (now &gt; TokenManager.Token.ExpiresOn)\n                {\n                    retry = false;\n                    await RefreshTokenAsync();\n                }\n                request.Headers.Authorization = new HttpCredentialsHeaderValue(TokenManager.Token.TokenType, TokenManager.Token.AccessToken);\n            }\n\n            HttpResponseMessage response = await InnerFilter.SendRequestAsync(request).AsTask(cancellationToken, progress);\n\n            cancellationToken.ThrowIfCancellationRequested();\n\n            if (response.StatusCode == HttpStatusCode.Unauthorized)\n            {\n                var authHeader = response.Headers.WwwAuthenticate.SingleOrDefault(x =&gt; x.Scheme == \"Bearer\");\n                if (authHeader != null)\n                {\n                    var challenge = ParseChallenge(authHeader.Parameters);\n                    if (challenge.Error == \"token_expired\" &amp;&amp; retry)\n                    {\n                        var success = await RefreshTokenAsync();\n                        if (success)\n                        {\n                            request.Headers.Authorization = new HttpCredentialsHeaderValue(TokenManager.Token.TokenType, TokenManager.Token.AccessToken);\n                            response = await InnerFilter.SendRequestAsync(request).AsTask(cancellationToken, progress);\n                        }\n                    }\n                }\n            }\n\n            return response;\n        });\n    }\n\n    private async Task&lt;bool&gt; RefreshTokenAsync()\n    {\n        using (var httpClient = new HttpClient())\n        {\n            httpClient.DefaultRequestHeaders.Accept.Add(new HttpMediaTypeWithQualityHeaderValue(\"application/json\"));\n            var content = new HttpStringContent(JsonConvert.SerializeObject(new { RefreshToken = TokenManager.Token.RefreshToken }), UnicodeEncoding.Utf8, \"application/json\");\n            var response = await httpClient.PostAsync(SettingsService.Instance.WebApiUri.Append(\"api/login/refresh-token\"), content);\n            if (response.IsSuccessStatusCode)\n                TokenManager.Token = JsonConvert.DeserializeObject&lt;Token&gt;(await response.Content.ReadAsStringAsync());\n            return response.IsSuccessStatusCode;\n        }\n    }\n\n    private (string Realm, string Error, string ErrorDescription) ParseChallenge(IEnumerable&lt;HttpNameValueHeaderValue&gt; input)\n    {\n        var realm = input.SingleOrDefault(x =&gt; x.Name == \"realm\")?.Value ?? string.Empty;\n        var error = input.SingleOrDefault(x =&gt; x.Name == \"error\")?.Value ?? string.Empty;\n        var errorDescription = input.SingleOrDefault(x =&gt; x.Name == \"error_description\")?.Value ?? string.Empty;\n        return (realm, error, errorDescription);\n    }\n\n    public override void Dispose()\n    {\n        InnerFilter.Dispose();\n        GC.SuppressFinalize(this);\n    }\n}\n\npublic abstract class HttpFilter : IHttpFilter\n{\n    public IHttpFilter InnerFilter { get; set; }\n    public HttpFilter()\n    {\n        InnerFilter = new HttpBaseProtocolFilter();\n    }\n    public abstract IAsyncOperationWithProgress&lt;HttpResponseMessage, HttpProgress&gt; SendRequestAsync(HttpRequestMessage request);\n    public abstract void Dispose();\n}\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>According to these links (<a href=\"https://stackoverflow.com/questions/18000583/re-send-httprequestmessage-exception\">link</a>, <a href=\"https://stackoverflow.com/questions/25047311/the-request-message-was-already-sent-cannot-send-the-same-request-message-multi\">link</a>), it seems to be that I cannot send the same request twice. But I need to re-send the same request but with different authentication header. How can I achieve that?</p>\n"}, {"tags": ["c#", "azure", "azure-functions", "azure-app-service-plans"], "answers": [{"comments": [{"owner": {"reputation": 1093, "user_id": 42685, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/02935b3a2a92ac465c16aaca6ee75d8a?s=128&d=identicon&r=PG", "display_name": "Hugh", "link": "https://stackoverflow.com/users/42685/hugh"}, "edited": false, "score": 0, "creation_date": 1508964315, "post_id": 46941553, "comment_id": 80830739, "body": "Thank you! By switching to use the x86 version of my mixed-mode assembly, I&#39;m back in business. But yeah... we&#39;re going to want that 64-bit support for the long term."}], "tags": [], "owner": {"reputation": 11333, "user_id": 1177901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cMxOK.jpg?s=128&g=1", "display_name": "Fabio Cavalcante", "link": "https://stackoverflow.com/users/1177901/fabio-cavalcante"}, "is_accepted": true, "score": 1, "last_activity_date": 1508976587, "last_edit_date": 1508976587, "creation_date": 1508963491, "answer_id": 46941553, "question_id": 46941171, "link": "https://stackoverflow.com/questions/46941171/azure-function-referencing-mixed-mode-assembly/46941553#46941553", "title": "Azure Function referencing mixed-mode assembly", "body": "<p>The error is happening at build time when the SDK launches the build task to generate the build artifacts/function metadata.</p>\n\n<p>I've opened this issue with the details to track the bug: <a href=\"https://github.com/Azure/azure-functions-vs-build-sdk/issues/131\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-functions-vs-build-sdk/issues/131</a></p>\n\n<p>Actual x64 CLI releases would also be required for successful local testing, and this is tracked here: <a href=\"https://github.com/Azure/azure-functions-cli/issues/117\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-functions-cli/issues/117</a></p>\n"}], "owner": {"reputation": 1093, "user_id": 42685, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/02935b3a2a92ac465c16aaca6ee75d8a?s=128&d=identicon&r=PG", "display_name": "Hugh", "link": "https://stackoverflow.com/users/42685/hugh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "accepted_answer_id": 46941553, "answer_count": 1, "score": 3, "last_activity_date": 1509303554, "creation_date": 1508961856, "last_edit_date": 1509303554, "question_id": 46941171, "link": "https://stackoverflow.com/questions/46941171/azure-function-referencing-mixed-mode-assembly", "title": "Azure Function referencing mixed-mode assembly", "body": "<p>TL;DR: Is it possible to use mixed-mode assemblies in Azure Functions?</p>\n\n<p>Details: I have an in-house mixed-mode assembly that I'm trying to use in an Azure Function. When I try to build, I get the following error:</p>\n\n<pre><code>------ Build started: Project: AzureDemo, Configuration: Debug x64 ------\nAzureDemo -&gt; C:\\src\\local\\2017\\AzureDemo\\bin\\x64\\Debug\\net462\\bin\\AzureDemo.dll\nC:\\Users\\hugh\\.nuget\\packages\\microsoft.net.sdk.functions\\1.0.2\\build\\netstandard1.0\\Microsoft.NET.Sdk.Functions.Build.targets(31,5): error : Could not load file or assembly 'file:///C:\\src\\local\\2017\\AzureDemo\\bin\\x64\\Debug\\net462\\bin\\AzureDemo.dll' or one of its dependencies. An attempt was made to load a program with an incorrect format.\nDone building project \"AzureDemo.csproj\" -- FAILED.\n</code></pre>\n\n<p>For clarity, the in-house library is x64 and my demo project is also x64, so it's not an x86/x64 problem.</p>\n\n<p>Also, when I take the code out of the Azure Function project and put it in a plain old .NET Core 2.0 project, it builds just fine. <strong>edit</strong>: it <em>builds</em> fine, but it still doesn't run (<code>System.EntryPointNotFoundException: A library name must be specified in a DllImport attribute applied to non-IJW methods.</code>). So I may be in deeper water than I thought.</p>\n\n<p>I'm kind of afraid Azure Functions won't work with mixed-mode assemblies... but I haven't found any definitive statement to that effect.</p>\n\n<p>I'm also a little concerned that the fact that it's using <code>netstandard1.0</code> might have something to do with it.</p>\n"}, {"tags": ["c#", "visual-studio", "validation", "xaml", "mvvm"], "comments": [{"owner": {"reputation": 622, "user_id": 3828636, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5ea56e797f81f5613bbd31b4d61af2d1?s=128&d=identicon&r=PG&f=1", "display_name": "Icet", "link": "https://stackoverflow.com/users/3828636/icet"}, "edited": false, "score": 0, "creation_date": 1509020798, "post_id": 46941166, "comment_id": 80855589, "body": "Could you upload screen of it?"}, {"owner": {"reputation": 9, "user_id": 8803549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882b2697de5034ad1607bcc2d0f139a3?s=128&d=identicon&r=PG&f=1", "display_name": "itsasecrettoeveryone", "link": "https://stackoverflow.com/users/8803549/itsasecrettoeveryone"}, "reply_to_user": {"reputation": 622, "user_id": 3828636, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5ea56e797f81f5613bbd31b4d61af2d1?s=128&d=identicon&r=PG&f=1", "display_name": "Icet", "link": "https://stackoverflow.com/users/3828636/icet"}, "edited": false, "score": 0, "creation_date": 1509026294, "post_id": 46941166, "comment_id": 80859866, "body": "<a href=\"https://imgur.com/a/dHTiG\" rel=\"nofollow noreferrer\">link</a> Behind the red box, there&#39;s  a checkbox that I&#39;d like to be selectable"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 0, "creation_date": 1509033868, "post_id": 46941166, "comment_id": 80865228, "body": "This is easily discoverable.  See the section &quot;Specifying a Custom Validation Style&quot; here <a href=\"https://blogs.msdn.microsoft.com/bethmassi/2008/06/27/displaying-data-validation-messages-in-wpf/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/bethmassi/2008/06/27/&hellip;</a> that will lead you to other resources.  Try something and come back when you have problems."}], "owner": {"reputation": 9, "user_id": 8803549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882b2697de5034ad1607bcc2d0f139a3?s=128&d=identicon&r=PG&f=1", "display_name": "itsasecrettoeveryone", "link": "https://stackoverflow.com/users/8803549/itsasecrettoeveryone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508961837, "creation_date": 1508961837, "question_id": 46941166, "link": "https://stackoverflow.com/questions/46941166/change-direction-of-validation-message-from-wpf-error", "title": "Change direction of validation message from wpf error.", "body": "<p>When my textbox's validation is triggered as an error, the message automatically appears on the right. Is there a way to reconfigure this so that it appears on the left or top of the textbox? </p>\n\n<p>When it appears, it blocks access to another control. </p>\n"}, {"tags": ["c#", "async-await"], "comments": [{"owner": {"reputation": 21178, "user_id": 89586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fe3afc9020eddb5c7445e286eead4a?s=128&d=identicon&r=PG", "display_name": "Matthew Whited", "link": "https://stackoverflow.com/users/89586/matthew-whited"}, "edited": false, "score": 0, "creation_date": 1508961943, "post_id": 46941144, "comment_id": 80829606, "body": "You aren&#39;t waiting on your awaiter."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 3, "creation_date": 1508962170, "post_id": 46941144, "comment_id": 80829708, "body": "You should not be relying on private implementation details of a feature.  If a given method needs access to a particular instance, you should be explicitly exposing that instance so that you can reliably access it, rather than trying to find private implementation details that may or may not have the information you want."}, {"owner": {"reputation": 115, "user_id": 3547817, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/7f3663419a4584eed394d6c2d7dd58c9?s=128&d=identicon&r=PG&f=1", "display_name": "user3547817", "link": "https://stackoverflow.com/users/3547817/user3547817"}, "edited": false, "score": 0, "creation_date": 1508962864, "post_id": 46941144, "comment_id": 80830063, "body": "I am not relying on that, just wanted to know how the CLR tracks it down to the root of an await..."}, {"owner": {"reputation": 21178, "user_id": 89586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fe3afc9020eddb5c7445e286eead4a?s=128&d=identicon&r=PG", "display_name": "Matthew Whited", "link": "https://stackoverflow.com/users/89586/matthew-whited"}, "edited": false, "score": 0, "creation_date": 1509025938, "post_id": 46941144, "comment_id": 80859595, "body": "The CLR doesn&#39;t.  The compiler writes a state machine to convert the code back to the calback pattern."}, {"owner": {"reputation": 115, "user_id": 3547817, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/7f3663419a4584eed394d6c2d7dd58c9?s=128&d=identicon&r=PG&f=1", "display_name": "user3547817", "link": "https://stackoverflow.com/users/3547817/user3547817"}, "edited": false, "score": 0, "creation_date": 1509116922, "post_id": 46941144, "comment_id": 80903885, "body": "how? Any documentation about the generated IL state machine?"}], "answers": [{"tags": [], "owner": {"reputation": 21178, "user_id": 89586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fe3afc9020eddb5c7445e286eead4a?s=128&d=identicon&r=PG", "display_name": "Matthew Whited", "link": "https://stackoverflow.com/users/89586/matthew-whited"}, "is_accepted": false, "score": 0, "last_activity_date": 1508962181, "creation_date": 1508962181, "answer_id": 46941228, "question_id": 46941144, "link": "https://stackoverflow.com/questions/46941144/asyncawait-il-code/46941228#46941228", "title": "Async&amp;Await IL Code", "body": "<pre><code>using System;\nusing System.Diagnostics;\n\nnamespace Cli\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            new Program().TestMethod();\n        }\n\n        private void TestMethod()\n        {\n            var sf = new StackFrame(1); //get caller stackframe\n            var mi = sf.GetMethod(); //get method info of caller\n            Console.WriteLine(\"{0}::{1}\", mi.DeclaringType, mi.Name);\n            // Cli.Program::Main\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "is_accepted": false, "score": 3, "last_activity_date": 1508964840, "last_edit_date": 1508964840, "creation_date": 1508963931, "answer_id": 46941659, "question_id": 46941144, "link": "https://stackoverflow.com/questions/46941144/asyncawait-il-code/46941659#46941659", "title": "Async&amp;Await IL Code", "body": "<blockquote>\n  <p>how i can determine within the \"static TestMethod\" from which method i was called</p>\n</blockquote>\n\n<p>You can use <a href=\"https://msdn.microsoft.com/en-us/library/system.runtime.compilerservices.callermembernameattribute(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>CallerMemberName</code></a>  attribute</p>\n\n<pre><code>static void Main(string[] args)\n{\n    new Program().TestMethod();\n    Console.ReadLine();\n}\n\nprivate async void TestMethod([CallerMemberName]string caller = \"\")\n{\n    Console.WriteLine(caller);\n}\n</code></pre>\n\n<p>PS: You can also use <code>CallerFilePath</code> or <code>CallerLineNumber</code></p>\n"}], "owner": {"reputation": 115, "user_id": 3547817, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/7f3663419a4584eed394d6c2d7dd58c9?s=128&d=identicon&r=PG&f=1", "display_name": "user3547817", "link": "https://stackoverflow.com/users/3547817/user3547817"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1508964840, "creation_date": 1508961743, "question_id": 46941144, "link": "https://stackoverflow.com/questions/46941144/asyncawait-il-code", "title": "Async&amp;Await IL Code", "body": "<p>If i implement a default async/await method like:</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        new Program().TestMethod();\n    }\n\n    private async void TestMethod()\n    {\n        await Task.Delay(10);\n    }\n}\n</code></pre>\n\n<p>The generated IL-Code and the async state machine contains a field \"this\" with a reference to the instance which invoked the method. If the code is adjusted to a static one, there is of course no \"this\" value.</p>\n\n<p>Not to do this via reflection, more from perspective of the CLR or the debugger.\nDoes anyone know how i can determine within the \"static TestMethod\" from which method i was called - on the IL level!</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        TestMethod();\n    }\n\n    private static async void TestMethod()\n    {\n        await Task.Delay(10);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio-2015", "msbuild", "msbuild-task"], "comments": [{"owner": {"reputation": 1202, "user_id": 6106148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce00d790b247669fc262896e207d2339?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey L", "link": "https://stackoverflow.com/users/6106148/sergey-l"}, "edited": false, "score": 0, "creation_date": 1508963059, "post_id": 46940942, "comment_id": 80830155, "body": "How do you know that the CopyFiles target is not executed? Do you have the build log? You can use &lt;Message..&gt; to explicitly log that a target was executed."}, {"owner": {"reputation": 495, "user_id": 8233658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bfb22fd2c4992390483cef8c5fae8e3c?s=128&d=identicon&r=PG&f=1", "display_name": "rds80", "link": "https://stackoverflow.com/users/8233658/rds80"}, "reply_to_user": {"reputation": 1202, "user_id": 6106148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce00d790b247669fc262896e207d2339?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey L", "link": "https://stackoverflow.com/users/6106148/sergey-l"}, "edited": false, "score": 0, "creation_date": 1508963267, "post_id": 46940942, "comment_id": 80830251, "body": "Cool.  Didn&#39;t know I could use the Message to do that. Will figure out how to do that.  Two ways that I know: 1) Lib files didn&#39;t get copied to the dll folder 2) I don&#39;t see the copy output in the msbuild command window."}], "answers": [{"comments": [{"owner": {"reputation": 495, "user_id": 8233658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bfb22fd2c4992390483cef8c5fae8e3c?s=128&d=identicon&r=PG&f=1", "display_name": "rds80", "link": "https://stackoverflow.com/users/8233658/rds80"}, "edited": false, "score": 0, "creation_date": 1509023148, "post_id": 46946521, "comment_id": 80857368, "body": "Works now.  Thanks. I was thinking of using a Sleep or Thread task, but this is much better.  Do you know of a link that explains the concept of having an ItemGroup within a target? I don&#39;t clearly understand how adding the &lt;ItemGroup&gt; within the Copy target forces a delay."}, {"owner": {"reputation": 51483, "user_id": 7460777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938b7ee32587b28c8634edec4a0f90c2?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Liu-MSFT", "link": "https://stackoverflow.com/users/7460777/leo-liu-msft"}, "reply_to_user": {"reputation": 495, "user_id": 8233658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bfb22fd2c4992390483cef8c5fae8e3c?s=128&d=identicon&r=PG&f=1", "display_name": "rds80", "link": "https://stackoverflow.com/users/8233658/rds80"}, "edited": false, "score": 0, "creation_date": 1509070482, "post_id": 46946521, "comment_id": 80880458, "body": "Before answer this question, I have tried to find the relevant documents about different between ItemGroup inside target and outside target, unfortunately, I have not found a document to illustrate the problem. If I later found the relevant documents, I will let you know."}, {"owner": {"reputation": 141, "user_id": 1745750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/945203feb3209b83d846e640dc8144de?s=128&d=identicon&r=PG", "display_name": "Alin Mircea", "link": "https://stackoverflow.com/users/1745750/alin-mircea"}, "edited": false, "score": 0, "creation_date": 1593008776, "post_id": 46946521, "comment_id": 110630021, "body": "The files are not copied because there are no files to copy. ItemGroup outside the Target gets evaluated before the first target will be executed, at which point there are no files to copy. This is happening because of the order of execuation"}], "tags": [], "owner": {"reputation": 51483, "user_id": 7460777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938b7ee32587b28c8634edec4a0f90c2?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Liu-MSFT", "link": "https://stackoverflow.com/users/7460777/leo-liu-msft"}, "is_accepted": true, "score": 2, "last_activity_date": 1508996116, "creation_date": 1508996116, "answer_id": 46946521, "question_id": 46940942, "link": "https://stackoverflow.com/questions/46940942/using-copy-task-with-unzip-task-in-msbuild/46946521#46946521", "title": "Using copy task with unzip task in msbuild", "body": "<blockquote>\n  <p>I'm not sure why the \"CopyFiles\" target doesn't run the first time... but that didn't run the CopyFiles target after the UnzipDLL target.</p>\n</blockquote>\n\n<p><strong>The problem was ItemGroup. It need write inside Copy target.</strong></p>\n\n<p>The msbuild script should be:</p>\n\n<pre><code>  &lt;Target Name=\"CopyFiles\"&gt;\n    &lt;ItemGroup&gt;\n      &lt;LibFiles Include=\"$(ReleasePath)\\exe\\dll\\lib\\**\\*.*;$(ReleasePath)\\exe\\dll\\lib\\*.*\" /&gt;\n    &lt;/ItemGroup&gt;\n    &lt;Copy SourceFiles=\"@(LibFiles)\" DestinationFolder=\"$(ReleasePath)\\exe\\dll\\%(RecursiveDir)\" /&gt;   \n  &lt;/Target&gt;\n</code></pre>\n\n<p>When we use <code>ItemGroup</code> to handle the batch file out of target, MSBuild will preprocessed those files. When we execute our MSBuild scripts, targets <code>unzip</code> and <code>Copy</code> will be completed in a very short time, however, <strong>the actual completion of the unzip will be a few seconds delay</strong>. So the CopyFiles target  is actually executed. But the Copy task doesn't copy the files(Because unzip has not yet been completed). That the reason why the copy task not executed at first time but executed at second time.</p>\n\n<p>So, to resolve this issue, just need write <code>ItemGroup</code> inside copy target.</p>\n"}], "owner": {"reputation": 495, "user_id": 8233658, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bfb22fd2c4992390483cef8c5fae8e3c?s=128&d=identicon&r=PG&f=1", "display_name": "rds80", "link": "https://stackoverflow.com/users/8233658/rds80"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 915, "favorite_count": 1, "accepted_answer_id": 46946521, "answer_count": 1, "score": 3, "last_activity_date": 1508996116, "creation_date": 1508960897, "last_edit_date": 1508964358, "question_id": 46940942, "link": "https://stackoverflow.com/questions/46940942/using-copy-task-with-unzip-task-in-msbuild", "title": "Using copy task with unzip task in msbuild", "body": "<p>In the msbuild script below, the first time I run the csproject the following targets get executed in sequence:</p>\n\n<p>1) UnzipDLL <br/>\n2) DeleteExtraneousDirs</p>\n\n<p>If I was to run the csproject for the second time, the following targets get executed in sequence:</p>\n\n<p>1) UnzipDLL <br/>\n2) CopyFiles <br/>\n3) DeleteExtraneousDirs</p>\n\n<p>I'm not sure why the \"CopyFiles\" target doesn't run the first time.  I also tried specifying the target orders by adding \"BeforeTargets\", \"AfterTargets\", and/or \"DependsOnTargets\", but that didn't run the CopyFiles target after the UnzipDLL target.</p>\n\n<p>Also, if I specify the DefaultTargets as only \"UnzipDLL\" and \"CopyFiles\", only the \"UnzipDLL\" task runs the first time I run the csproject project and both tasks \"UnzipDLL\" and \"CopyFiles\" run the second time the csporjects gets executed.</p>\n\n<p>Below is the msbuild script.  Thanks for the help!    </p>\n\n<pre><code>&lt;Project ToolsVersion=\"14.0\" DefaultTargets=\"UnzipDLL;CopyFiles;DeleteExtraneousDirs\" xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\"&gt; \n  &lt;PropertyGroup&gt;\n    &lt;ReleasePath&gt;..\\..\\..\\..\\..\\TDS&lt;/ReleasePath&gt;\n    &lt;RelDirectory&gt;$(ReleasePath)\\exe\\dll\\_rels&lt;/RelDirectory&gt;\n    &lt;LibDirectory&gt;$(ReleasePath)\\exe\\dll\\lib&lt;/LibDirectory&gt;\n  &lt;/PropertyGroup&gt;\n  &lt;ItemGroup&gt;\n    &lt;LibFiles Include=\"$(ReleasePath)\\exe\\dll\\lib\\**\\*.*;$(ReleasePath)\\exe\\dll\\lib\\*.*\" /&gt;\n  &lt;/ItemGroup&gt;\n  &lt;Target Name=\"UnzipDLL\"&gt; \n     &lt;Unzip ZipFileName=\"$(ReleasePath)\\exe\\utils\\TDS.Packages.1.0.0.nupkg\" \n        TargetDirectory=\"$(ReleasePath)\\exe\\dll\\\" /&gt; \n  &lt;/Target&gt;\n  &lt;Target Name=\"CopyFiles\"&gt;\n     &lt;Copy SourceFiles=\"@(LibFiles)\" DestinationFolder=\"$(ReleasePath)\\exe\\dll\\%(RecursiveDir)\" /&gt;\n  &lt;/Target&gt;\n  &lt;Target Name=\"DeleteExtraneousDirs\"&gt;\n     &lt;Delete Files=\"@(LibFiles)\" /&gt;\n     &lt;RemoveDir Directories=\"$(RelDirectory);$(LibDirectory)\" /&gt;\n  &lt;/Target&gt;\n&lt;/Project&gt;\n</code></pre>\n\n<p><strong>UPDATE</strong> <br/>\nTo SergeyL's point, the CopyFiles target does get executed.  But the Copy task doesn't copy the files from the exe\\dll\\lib folder to the exe\\dll\\ folder.  I found this out by adding Message tasks before and after the Copy task.</p>\n"}, {"tags": ["c#", "xamarin.forms", "xamarin.android", "intentservice"], "answers": [{"comments": [{"owner": {"reputation": 2624, "user_id": 2794280, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/zsXSk.png?s=128&g=1", "display_name": "kgzdev", "link": "https://stackoverflow.com/users/2794280/kgzdev"}, "edited": false, "score": 0, "creation_date": 1509054178, "post_id": 46950223, "comment_id": 80876330, "body": "Thank you for answer @YorkShen, I will give a try, and then will tell the result."}], "tags": [], "owner": {"reputation": 8446, "user_id": 7718924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iQFOf.jpg?s=128&g=1", "display_name": "Eren Shen", "link": "https://stackoverflow.com/users/7718924/eren-shen"}, "is_accepted": true, "score": 0, "last_activity_date": 1509011871, "last_edit_date": 1509011871, "creation_date": 1509009079, "answer_id": 46950223, "question_id": 46940936, "link": "https://stackoverflow.com/questions/46940936/xamarin-forms-android-save-store-some-data-on-onhandleintent-event/46950223#46950223", "title": "Xamarin.Forms Android: Save/Store some data on OnHandleIntent event", "body": "<blockquote>\n  <p>Xamarin.Forms Android: Save/Store some data on OnHandleIntent event</p>\n</blockquote>\n\n<p>The <code>Application.Current.Properties</code> is just a dictionary of objects you can stick anything you want in there, including your own classes which will get serialized, and the properties collection is read from a file  and this is done automatically. </p>\n\n<p>However, the entire dictionary is serialized together in a file, an exception during reading or deserialization of that file will be catched and just leave you with an empty Properties collection.</p>\n\n<p><strong>Solution :</strong></p>\n\n<p>You could use <a href=\"https://developer.android.com/reference/android/content/SharedPreferences.html\" rel=\"nofollow noreferrer\">SharedPreferences</a> to <strong>Save/Store</strong> some data, as the document said :</p>\n\n<blockquote>\n  <p>The SharedPreferences class provides a general framework that allows you to save and retrieve persistent key-value pairs of primitive data types. You can use SharedPreferences to save any primitive data: booleans, floats, ints, longs, and strings. <strong>This data will persist across user sessions (even if your application is killed).</strong></p>\n</blockquote>\n\n<p>In <code>Xamarin.Android</code>, You'll need to get the instance of <a href=\"https://developer.xamarin.com/api/type/Android.Content.ISharedPreferences/\" rel=\"nofollow noreferrer\">ISharedPreferences</a> and use that to update/change/delete preferences. As <a href=\"https://forums.xamarin.com/discussion/4758/android-shared-preference\" rel=\"nofollow noreferrer\">Tom Opgenorth</a> said, there are a couple of ways to get an instance of <code>ISharedPreferences</code> :</p>\n\n<ul>\n<li><p><strong>Activity.GetPreferences</strong></p>\n\n<p>would get you preferences specific to that activity. Probably not what you want.</p></li>\n<li><p><strong>Context.GetSharedPreferences</strong></p>\n\n<p>can get you application level preferences.</p></li>\n<li><p><strong>PreferenceManager.DefaultSharedPreferences</strong></p>\n\n<p>will give you an ISharedPreference instance for a given context.</p></li>\n</ul>\n\n<p>The actual saving is done by an instance of <code>ISharedPreferencesEditor</code>, which you get get by invoking the method <code>ISharedPreferencesEditor.Apply()</code>. Here is an example :</p>\n\n<p>Save your data :</p>\n\n<pre><code>ISharedPreferences prefs = PreferenceManager.GetDefaultSharedPreferences(this);\nISharedPreferencesEditor editor = prefs.Edit();\neditor.PutString(\"number\", \"Value\");\neditor.Apply();\n</code></pre>\n\n<p>Restore your data : </p>\n\n<pre><code>ISharedPreferences prefs = PreferenceManager.GetDefaultSharedPreferences(this);\nvar a = prefs.GetString(\"number\", \"null\");//\"null\" is the default value\n</code></pre>\n"}], "owner": {"reputation": 2624, "user_id": 2794280, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/zsXSk.png?s=128&g=1", "display_name": "kgzdev", "link": "https://stackoverflow.com/users/2794280/kgzdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 573, "favorite_count": 0, "accepted_answer_id": 46950223, "answer_count": 1, "score": 0, "last_activity_date": 1509011871, "creation_date": 1508960880, "last_edit_date": 1508961374, "question_id": 46940936, "link": "https://stackoverflow.com/questions/46940936/xamarin-forms-android-save-store-some-data-on-onhandleintent-event", "title": "Xamarin.Forms Android: Save/Store some data on OnHandleIntent event", "body": "<p><strong>Xamarin.Forms Droid project:</strong> How to store some data on <code>OnHandleIntent</code> event. I'm trying save data in <code>Application.Current.Properties</code>. When application active/open there is no problem, but when application closed data not saved. Any help would be appreciated. Below code example:</p>\n\n<pre><code>[Service]\npublic class GCMIntentService : IntentService\n{\n    //other methods\n\n    protected async override void OnHandleIntent(Intent intent)\n    {\n        //Some code for push notification\n        Application.Current.Properties.Add(\"key\", \"value\");\n        Application.Current.SavePropertiesAsync();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "task-parallel-library"], "comments": [{"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 1, "creation_date": 1508964901, "post_id": 46940934, "comment_id": 80831078, "body": "<code>.Result</code> is a blocking call. You&#39;ll need to make <code>Load</code> <code>async</code> and <code>await Task.WhenAny(..)</code>."}, {"owner": {"reputation": 16672, "user_id": 1045881, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a373ba8a6075c8647dab8ef37c160870?s=128&d=identicon&r=PG", "display_name": "toddmo", "link": "https://stackoverflow.com/users/1045881/toddmo"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1508979131, "post_id": 46940934, "comment_id": 80835740, "body": "@JSteward, thank you, but I&#39;m afraid that does not prevent the application from hanging when the transform goes into never never land"}, {"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1509034768, "post_id": 46940934, "comment_id": 80865782, "body": "Farm it out to a separate process. <code>TerminateProcess</code> is very reliable. Overkill? Not really. The problem is that if a synchronous method decides to keep running, there&#39;s nothing you can do short of aborting the thread (which is such a bad mechanism that the general recommendation is to just exit the process instead). Tasks don&#39;t fix that -- they instead allow you to ignore the runaway thread and continue, which doesn&#39;t fix the underlying problem that you have a runaway thread, and will eventually result in an unresponsive <i>machine</i> if you repeat this trick."}, {"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1509034812, "post_id": 46940934, "comment_id": 80865809, "body": "Alternatively, look into other libraries for XSLT transform, like Saxon, that may take more pains to avoid these problems. Disclaimer: no personal experience."}, {"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1509035008, "post_id": 46940934, "comment_id": 80865946, "body": "The fact that the thread isn&#39;t responding to <code>Thread.Abort</code> is a sign that it&#39;s blocked in a <code>finally</code>, or in unmanaged code, since <code>Thread.Abort</code> only takes effect at a point the CLR decides that now might not be a terrible time to abort. If you want to get to the bottom of things, you can break out a debugger and check the stack at the point it&#39;s not doing anything, but this assumes you can cook up actual workarounds for the problems you find, whatever they are. My money&#39;s still on sequestering this stuff in its own service, or switching libraries."}, {"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1509035630, "post_id": 46940934, "comment_id": 80866311, "body": "A <code>Thread.Abort</code> request on a worker thread (like the one <code>Task</code> is running on) may or may not be completely ignored, but is certainly a terrible idea regardless. If you want to explicitly manipulate a thread, don&#39;t use <code>Task.Run</code> at all, just use <code>new Thread()</code> and <code>Thread.Join</code> to wait on it."}, {"owner": {"reputation": 16672, "user_id": 1045881, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a373ba8a6075c8647dab8ef37c160870?s=128&d=identicon&r=PG", "display_name": "toddmo", "link": "https://stackoverflow.com/users/1045881/toddmo"}, "reply_to_user": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1509038373, "post_id": 46940934, "comment_id": 80867840, "body": "@JeroenMostert, I believe that&#39;s effectively what I did. Check out my answer. Except, I looked as the &quot;compiled transform assembly&quot; with reflector and it&#39;s no longer and xslt file, but rather generated code."}, {"owner": {"reputation": 16672, "user_id": 1045881, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a373ba8a6075c8647dab8ef37c160870?s=128&d=identicon&r=PG", "display_name": "toddmo", "link": "https://stackoverflow.com/users/1045881/toddmo"}, "reply_to_user": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1509039227, "post_id": 46940934, "comment_id": 80868315, "body": "@JeroenMostert, I do appreciate all the feedback. Now that I fixed the hang, I tried to get rid of the <code>Thread.Abort()</code>. Unfortunately, the application still hangs without it. Even though at least it didn&#39;t kill Visual Studio. <code>Thread.Abort()</code> didn&#39;t even work until I compiled the transform into the seperate assembly. I&#39;ll try <code>new Thread()</code> and <code>Thread.Join</code>"}], "answers": [{"tags": [], "owner": {"reputation": 16672, "user_id": 1045881, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a373ba8a6075c8647dab8ef37c160870?s=128&d=identicon&r=PG", "display_name": "toddmo", "link": "https://stackoverflow.com/users/1045881/toddmo"}, "is_accepted": true, "score": 2, "last_activity_date": 1509038606, "last_edit_date": 1509038606, "creation_date": 1509038212, "answer_id": 46960204, "question_id": 46940934, "link": "https://stackoverflow.com/questions/46940934/how-to-put-a-timeout-on-transform/46960204#46960204", "title": "How to put a timeout on Transform", "body": "<h1>Here's how I solved the issue</h1>\n\n<p>I took my xsl and compiled it into an assembly and referenced that assembly from my project (which is called <code>Library</code>)</p>\n\n<p>Advantages:</p>\n\n<ul>\n<li>Fixed the hang</li>\n<li>Compiled xslt into an assembly is supposedly much faster</li>\n</ul>\n\n<p>Disadvantages:</p>\n\n<ul>\n<li>You tell me! I don't know :)</li>\n</ul>\n\n<p><strong>Library Properties / Build Events / Pre-build Event</strong></p>\n\n<pre><code>\"C:\\Program Files (x86)\\Microsoft SDKs\\Windows\\v10.0A\\bin\\NETFX 4.7 Tools\\xsltc.exe\" /settings:script+ /class:Transform \"myStylesheet.xslt\"\n</code></pre>\n\n<p><strong>Library / References</strong></p>\n\n<p><code>+ myStylesheet.dll</code></p>\n\n<p><strong>Loading the compiled transform</strong></p>\n\n<pre><code>private static XslCompiledTransform xslTransform;\nprivate static XslCompiledTransform XslTransform\n{\n  get\n  {\n    if (xslTransform == null)\n    {\n      xslTransform = new XslCompiledTransform();\n      xslTransform.Load(typeof(Transform));\n    }\n    return xslTransform;\n  }\n}\n</code></pre>\n\n<p><strong>Calling the transform</strong></p>\n\n<p>Same as updated code in the Question</p>\n"}], "owner": {"reputation": 16672, "user_id": 1045881, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a373ba8a6075c8647dab8ef37c160870?s=128&d=identicon&r=PG", "display_name": "toddmo", "link": "https://stackoverflow.com/users/1045881/toddmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 0, "accepted_answer_id": 46960204, "answer_count": 1, "score": 0, "last_activity_date": 1509038606, "creation_date": 1508960870, "last_edit_date": 1509034250, "question_id": 46940934, "link": "https://stackoverflow.com/questions/46940934/how-to-put-a-timeout-on-transform", "title": "How to put a timeout on Transform", "body": "<p>The <code>XslCompiledTransform.Transform</code> will hang under certain conditions (stack overflow, infinite loop, etc). This is a data (input) dependent error, so I don't have complete control in preventing it. If this happens, I'd like to be notified gracefully, but I don't want it to destroy my application process and hence the GUI where the user is inputting the input, which may be \"valid\" but \"incomplete\".</p>\n\n<p>If I run the xslt file manually, I get </p>\n\n<blockquote>\n  <p>Process is terminated due to StackOverflowException</p>\n</blockquote>\n\n<p>But <code>XslCompiledTransform.Transform()</code> will hang my application <strong>forever</strong>.</p>\n\n<p>So, I want to wrap that call in a timeout, but nothing I've tried seems to work. It still hangs the application.</p>\n\n<p>I want the thread that has the try block to not be hung. I want to create two tasks, one for Transform and the other timeout. Then start both at the same time. I don't know but I think the <code>Run</code> is running before the outer statement gets a chance to wire up the timeout and use the <code>WhenAny</code>. </p>\n\n<p>How can this be fixed?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I updated the code to reflect my current attempt. I can get into the <code>if</code> block if it times out, but whether I abort the thread or not, the application still hangs. I don't understand what it is about <code>XslCompiledTransform.Transform</code> that insists on taking the whole application down if it goes down.</p>\n\n<pre><code>public static Object Load(string mathML)\n{\n  if (mathML == Notebooks.InputCell.EMPTY_MATH)\n    return null;\n  XmlDocument input = new XmlDocument();\n  input.LoadXml(mathML);\n  XmlDocument target = new XmlDocument(input.CreateNavigator().NameTable);\n  using (XmlWriter writer = target.CreateNavigator().AppendChild())\n  {\n    try\n    {\n      Thread thread = null;\n      var task = Task.Run(() =&gt; \n      {\n        thread = Thread.CurrentThread;\n        XmlTransform.Transform(input, writer);\n      });\n      if (!task.Wait(TimeSpan.FromSeconds(5)))\n      {\n        thread.Abort();\n        throw new TimeoutException();\n      }\n    }\n    catch (XsltException xex)\n    {\n      if (xex.Message == \"An item of type 'Attribute' cannot be constructed within a node of type 'Root'.\")\n        return null;\n      else\n        throw;\n    }\n  }\n  return Load(target);\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "windows", "service", "servicecontroller"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1508964593, "post_id": 46940794, "comment_id": 80830882, "body": "What have you tried? <a href=\"https://www.google.com.au/search?q=Access+is+denied+remote+services\" rel=\"nofollow noreferrer\">google.com.au/search?q=Access+is+denied+remote+services</a>"}, {"owner": {"reputation": 21, "user_id": 8598017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2293f1c3bfbaa9bb36b8bc1e9ed31dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8598017/tim"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1508965249, "post_id": 46940794, "comment_id": 80831279, "body": "I&#39;ve only tried turning off firewalls and running Visual Studio in admin mode on the other computer to access the service on my local. All had the same result - my ServiceController object had all properties that were InvalidOperationException errors."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1508965318, "post_id": 46940794, "comment_id": 80831324, "body": "I&#39;d recommend reading that google link and giving some of the suggestions there a try."}, {"owner": {"reputation": 21, "user_id": 8598017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2293f1c3bfbaa9bb36b8bc1e9ed31dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8598017/tim"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1508965384, "post_id": 46940794, "comment_id": 80831353, "body": "Similarly to others, my program will be used on several other computers across the network. Thus, I&#39;m not really inclined to add them all onto the Win34 admin group or use Impersonation and give my user/password inside the code. I mean, that would have to be a last resort I guess."}, {"owner": {"reputation": 21, "user_id": 8598017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2293f1c3bfbaa9bb36b8bc1e9ed31dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8598017/tim"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1509659481, "post_id": 46940794, "comment_id": 81119766, "body": "To anyone who wants an update...  To be honest, there wasn&#39;t really a workaround as SCM (Service Control Manager) requires admin privileges when accessing another remote computer. So instead of checking the status of the Windows Service, I ended up adding an additional WCF service that is hosted in the Windows Service.  What that, I added a method called CheckServiceStatus that literally returns a true.  Now on my client side, I add a service reference to WCF service and call that method. It&#39;ll always return true if the service is running, throw exception if not running (and return false)."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8598017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2293f1c3bfbaa9bb36b8bc1e9ed31dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8598017/tim"}, "is_accepted": true, "score": 0, "last_activity_date": 1510769270, "creation_date": 1510769270, "answer_id": 47314431, "question_id": 46940794, "link": "https://stackoverflow.com/questions/46940794/cant-access-servicecontroller-invalidoperationexception-when-trying-to-read-o/47314431#47314431", "title": "Can&#39;t access ServiceController (InvalidOperationException) when trying to read on remote/another computer", "body": "<p>So as I said in the comments, I was not able to get around the SCM (Service Control Manager) due to admin privileges when accessing another remote computer (makes sense if you think about security). However, I did find another solution that was more or less a workaround. I'll post the solution here in case anyone finds it helpful.</p>\n\n<p>So to check the status of the Windows Service (like if it's running or not), I added an additional WCF service that is hosted in the Windows Service. So now the service can expose a method that literally just returns true. </p>\n\n<p>Essentially the thought-process around it was that if the WCF service is accessible then that means the Window Service is running, and thus will always return true. If the Windows service is down, the WCF service will also be down and thus making that method not available. You wouldn't get anything to return, so you would know that the service is down and not running.</p>\n\n<p>Hope that helps someone! I know it's not really a direct solution to the problem I had originally asked, but it was a workaround, indirect solution. </p>\n"}], "owner": {"reputation": 21, "user_id": 8598017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2293f1c3bfbaa9bb36b8bc1e9ed31dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8598017/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1160, "favorite_count": 1, "accepted_answer_id": 47314431, "answer_count": 1, "score": 0, "last_activity_date": 1510769270, "creation_date": 1508960318, "last_edit_date": 1508961180, "question_id": 46940794, "link": "https://stackoverflow.com/questions/46940794/cant-access-servicecontroller-invalidoperationexception-when-trying-to-read-o", "title": "Can&#39;t access ServiceController (InvalidOperationException) when trying to read on remote/another computer", "body": "<p>I have a local service running on my computer and trying to get other computers to be able to read the status of my service (whether it's running, stopped, etc.) However, I am unable to as I get an InvalidOperationException error, saying that I am unable to open Service Control Manager. Locally, I am able to, but on another remote computer I am unable to. The ServiceController (cs) object just returns an object with properties that all have the InvalidOperationException error.</p>\n\n<p>I've tried closing down all the firewalls on the other computers, tried running Visual Studio on Administrator privileges, but nothing seems to be working. I've noticed that others suggested hard coding your admin credentials and using WindowsIdentity and Impersonation but that wouldn't work for my project (as it wouldn't be a viable solution at my workplace - wouldn't make sense with the business logic as don't want to give clients any in-house credentials). </p>\n\n<p>Here's my snippet of code: </p>\n\n<pre><code>    public bool CheckServiceStatus()\n    {\n        try\n        {\n            string machineName = pubSubConfig.MachineName;\n            string serviceName = pubSubConfig.ServiceName;\n\n            System.ServiceProcess.ServiceController cs = new System.ServiceProcess.ServiceController(serviceName, machineName);\n\n            if (cs != null &amp;&amp; cs.ServiceName == serviceName &amp;&amp; cs.Status == System.ServiceProcess.ServiceControllerStatus.Running)\n            {\n                return true;\n            }                \n        }\n        catch(Exception ex)\n        {\n            Trace.TraceError(\"Unable to check service status: /r/n {0}\", ex.Message);\n        }\n        return false;\n    }\n</code></pre>\n\n<p>The error is this:</p>\n\n<pre><code>System.InvalidOperationException: Cannot open Service Control Manager on computer '___'. \nThis operation might require other privileges. ---&gt; System.ComponentModel.Win32Exception: Access is denied\n</code></pre>\n\n<p>Does anyone know any workarounds as to how I can get other computers running my C# program to be able to read the ServiceController object? </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "wpf", "gridview", "data-binding"], "answers": [{"tags": [], "owner": {"reputation": 7906, "user_id": 4620101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rPIEi.jpg?s=128&g=1", "display_name": "Szabolcs D&#233;zsi", "link": "https://stackoverflow.com/users/4620101/szabolcs-d%c3%a9zsi"}, "is_accepted": false, "score": 1, "last_activity_date": 1508977925, "creation_date": 1508977925, "answer_id": 46944026, "question_id": 46940785, "link": "https://stackoverflow.com/questions/46940785/how-to-create-a-gridview-programatically-where-column-have-celltemplates/46944026#46944026", "title": "How to create a GridView programatically where column have CellTemplates?", "body": "<p>Here's a full example for creating the desired <code>ListView</code> in code-behind.</p>\n\n<p>XAML:</p>\n\n<pre><code>&lt;StackPanel&gt;\n    &lt;ListView x:Name=\"MyListView\" ItemsSource=\"{Binding Items}\"&gt;&lt;/ListView&gt;\n    &lt;Button Content=\"Create View\" Click=\"CreateViewButtonClicked\"&gt;&lt;/Button&gt;\n&lt;/StackPanel&gt;\n</code></pre>\n\n<p>Code-behind:</p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    private GridViewColumn Column_1;\n    private GridViewColumn Column_2;\n    private GridViewColumn Column_3;\n    private GridViewColumn Column_4;\n\n    public MainWindow()\n    {\n        InitializeComponent();\n\n        DataContext = this;\n\n        InitializeColumn1();\n        InitializeColumn2();\n        InitializeColumn3();\n        InitializeColumn4();\n\n        SetItemsSource();\n    }\n\n    private void SetItemsSource()\n    {\n        Items = new ObservableCollection&lt;MyDataClass&gt;\n        {\n            new MyDataClass\n            {\n                Icon = new BitmapImage(new Uri(\"https://www.gravatar.com/avatar/b6f0ad4cd865587a782bf697d3b18d18?s=32&amp;d=identicon&amp;r=PG&amp;f=1\")),\n                Column1_Content = \"Column1 Content\",\n                Column2_Content = \"Column2 Content\",\n                Column3_Content = \"Column3 Content\",\n                Column4_Content = \"Column4 Content\"\n            }\n        };\n    }\n\n    private void InitializeColumn1()\n    {\n        var column1Template = new FrameworkElementFactory(typeof(DockPanel));\n        var column1TemplateImage = new FrameworkElementFactory(typeof(Image));\n        column1TemplateImage.SetValue(WidthProperty, 15d);\n        column1TemplateImage.SetValue(HeightProperty, 15d);\n        column1TemplateImage.SetBinding(Image.SourceProperty, new Binding(\"Icon\"));\n        column1TemplateImage.SetValue(DockPanel.DockProperty, Dock.Left);\n        var column1TemplateLabel = new FrameworkElementFactory(typeof(Label));\n        column1TemplateLabel.SetBinding(ContentProperty, new Binding(\"Column1_Content\"));\n        column1TemplateLabel.SetValue(WidthProperty, 180d);\n        column1TemplateLabel.SetValue(FontSizeProperty, 12d);\n        column1TemplateLabel.SetValue(HorizontalContentAlignmentProperty, HorizontalAlignment.Left);\n        column1TemplateLabel.SetValue(DockPanel.DockProperty, Dock.Left);\n\n        column1Template.AppendChild(column1TemplateImage);\n        column1Template.AppendChild(column1TemplateLabel);\n\n        Column_1 = new GridViewColumn\n        {\n            Header = \"Column1\",\n            Width = 200,\n            CellTemplate = new DataTemplate { VisualTree = column1Template }\n        };\n    }\n\n    private void InitializeColumn2()\n    {\n        Column_2 = new GridViewColumn\n        {\n            Header = \"Column2\",\n            Width = 175,\n            DisplayMemberBinding = new Binding(\"Column2_Content\")\n        };\n    }\n\n    private void InitializeColumn3()\n    {\n        Column_3 = new GridViewColumn\n        {\n            Header = \"Column3\",\n            Width = 100,\n            DisplayMemberBinding = new Binding(\"Column3_Content\")\n        };\n    }\n\n    private void InitializeColumn4()\n    {\n        Column_4 = new GridViewColumn\n        {\n            Header = \"Column4\",\n            Width = 100,\n            DisplayMemberBinding = new Binding(\"Column4_Content\")\n        };\n    }\n\n    private void CreateViewButtonClicked(object sender, RoutedEventArgs e)\n    {\n        var gridView = new GridView();\n\n        gridView.Columns.Add(Column_1);\n        gridView.Columns.Add(Column_2);\n        gridView.Columns.Add(Column_3);\n        gridView.Columns.Add(Column_4);\n\n        MyListView.View = gridView;\n    }\n\n    public static readonly DependencyProperty ItemsProperty = DependencyProperty.Register(\n        \"Items\", typeof(ObservableCollection&lt;MyDataClass&gt;), typeof(MainWindow), new PropertyMetadata(default(ObservableCollection&lt;MyDataClass&gt;)));\n\n    public ObservableCollection&lt;MyDataClass&gt; Items\n    {\n        get { return (ObservableCollection&lt;MyDataClass&gt;) GetValue(ItemsProperty); }\n        set { SetValue(ItemsProperty, value); }\n    }\n}\n</code></pre>\n\n<p>This contains an empty <code>ListView</code> initially and a <code>Button</code>. When the button is clicked the <code>CreateViewButtonClicked</code> method is called and creates the <code>GridView</code> and adds the previously initialized columns to its <code>Columns</code> collection, then sets it as the <code>View</code> of the <code>ListView</code>.</p>\n\n<p>Output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lMD03.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lMD03.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 8495043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd91b92e6609328b68a6e71506369d4b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei", "link": "https://stackoverflow.com/users/8495043/andrei"}, "edited": false, "score": 0, "creation_date": 1509040371, "post_id": 46944114, "comment_id": 80868939, "body": "Just tested this and it works like a charm. One modification tho : replaced WidthProperty/HeightProperty on both items with FrameWorkElement.WidthProperty, FrameWorkElement.HeightProperty. FontSizeProperty and HorizontalAlignmentProperty with Label.FontSizeProperty and Label.HorizontalAlignmentProperty, and the numeric values to 15.0 etc."}], "tags": [], "owner": {"reputation": 888, "user_id": 7893169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czWDi.png?s=128&g=1", "display_name": "Iron", "link": "https://stackoverflow.com/users/7893169/iron"}, "is_accepted": false, "score": 2, "last_activity_date": 1508979599, "last_edit_date": 1508979599, "creation_date": 1508978770, "answer_id": 46944114, "question_id": 46940785, "link": "https://stackoverflow.com/questions/46940785/how-to-create-a-gridview-programatically-where-column-have-celltemplates/46944114#46944114", "title": "How to create a GridView programatically where column have CellTemplates?", "body": "<p>The essential to create the <code>CellTemplate(DataTemplate)</code> is setting the <code>VisualTree</code> with a <code>FrameworkElementFactory</code>: </p>\n\n<pre><code>// Image\nvar imageFactory = new FrameworkElementFactory(typeof(Image));\nimageFactory.SetValue(WidthProperty, 15);\nimageFactory.SetValue(HeightProperty, 15);\nimageFactory.SetBinding(Image.SourceProperty, new Binding(\"Icon\"));\nimageFactory.SetValue(DockPanel.DockProperty, Dock.Left);\n\n// Label\nvar labelFactory = new FrameworkElementFactory(typeof(Label));\nlabelFactory.SetBinding(ContentProperty, new Binding(\"Column1_Content\"));\nlabelFactory.SetValue(WidthProperty, 180);\nlabelFactory.SetValue(FontSizeProperty, 12);\nlabelFactory.SetValue(HorizontalContentAlignmentProperty, HorizontalAlignment.Left);\nlabelFactory.SetValue(DockPanel.DockProperty, Dock.Left);\n\n// DockPanel\nvar dockPanelFactory = new FrameworkElementFactory(typeof(DockPanel));\ndockPanelFactory.AppendChild(imageFactory);\ndockPanelFactory.AppendChild(labelFactory);\n\nGridViewColumn Column_1 = new GridViewColumn()\n{\n    Header = \"Column_1\",\n    Width = 200\n};\n\nDataTemplate template = new DataTemplate\n{\n    VisualTree = dockPanelFactory\n};\n\nColumn_1.CellTemplate = template;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8495043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd91b92e6609328b68a6e71506369d4b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei", "link": "https://stackoverflow.com/users/8495043/andrei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1508979599, "creation_date": 1508960280, "last_edit_date": 1508968018, "question_id": 46940785, "link": "https://stackoverflow.com/questions/46940785/how-to-create-a-gridview-programatically-where-column-have-celltemplates", "title": "How to create a GridView programatically where column have CellTemplates?", "body": "<p>XAML Code: </p>\n\n<pre><code>&lt;ListView x:Name=\"ListDisplay\"\n          Grid.Column=\"1\"&gt;\n   &lt;ListView.View&gt;\n      &lt;GridView&gt;\n          &lt;GridViewColumn x:Name=\"Column_1\" \n                          x:FieldModifier=\"private\" \n                          Header=\"Column1\" \n                          Width=\"200\"&gt;\n               &lt;GridViewColumn.CellTemplate&gt;\n                   &lt;DataTemplate&gt;\n                       &lt;DockPanel&gt;\n                           &lt;Image Width=\"15\" \n                                  Height=\"15\" \n                                  Source=\"{Binding Icon}\"  \n                                  DockPanel.Dock=\"Left\"/&gt;\n                           &lt;Label Content=\"{Binding Column1_Content}\" \n                                  Width=\"180\" \n                                  FontSize=\"12\" \n                                  HorizontalContentAlignment=\"Left\" \n                                  DockPanel.Dock=\"Left\"/&gt;\n                        &lt;/DockPanel&gt;\n                   &lt;/DataTemplate&gt;\n               &lt;/GridViewColumn.CellTemplate&gt;\n           &lt;/GridViewColumn&gt;\n           &lt;GridViewColumn x:Name=\"Column_2\" x:FieldModifier=\"private\" \n                           Header=\"Column2\" \n                           DisplayMemberBinding=\"{Binding Column2_Content}\" \n                           Width=\"175\"/&gt;\n           &lt;GridViewColumn x:Name=\"Column_3\" \n                           x:FieldModifier=\"private\" \n                           Header=\"Column3\" \n                           DisplayMemberBinding=\"{Binding Column3_Content}\" \n                           Width=\"100\"/&gt;\n           &lt;GridViewColumn x:Name=\"Column_4\" x:FieldModifier=\"private\" \n                           Header=\"Column4\" \n                           DisplayMemberBinding=\"{Binding Column4_Content}\" \n                           Width=\"100\"/&gt;\n       &lt;/GridView&gt;\n   &lt;/ListView.View&gt;\n&lt;/ListView&gt;\n</code></pre>\n\n<p>C# Class: </p>\n\n<pre><code>internal class MyDataClass\n{\n    public BitmapSource Icon { get; set; }\n    public string Column1_Content { get; set; }\n    public string Column2_Content { get; set; }\n    public string Column3_Content { get; set; }\n    public string Column4_Content { get; set; }\n}\n</code></pre>\n\n<p>This is basically a ListView with 4 columns, and the first column has an image on the left. Everything works so far.</p>\n\n<p>What I want to do is transform the whole</p>\n\n<pre><code>&lt;ListView.View&gt;\n...\n&lt;/ListView.View&gt;\n</code></pre>\n\n<p>part of the code into c# code.</p>\n\n<p>So the code will look like this: </p>\n\n<pre><code>GridView View = new GridView();\n\nGridViewColumn Column_2 = new GridViewColumn()\n{\n    Header = \"Column2\",\n    DisplayMemberBinding = new Binding(\"Column2_Content\"), \n    Width = 175\n};\n\n// Same thing for columns 3 and 4\n\nView.Columns.Add(Column_2);\nView.Columns.Add(Column_3);\nView.Columns.Add(Column_4);\nListDisplay.View = View;\n</code></pre>\n\n<p>Problem is, I have absolutely no idea how to do the binding on the icon source and label content and create the GridViewColumn for column 1 programmatically (in c#).</p>\n"}, {"tags": ["c#", "wpf", "events", "key"], "comments": [{"owner": {"reputation": 314, "user_id": 2815553, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4e7d46ec6cbd6bfe27df399bc0af4b74?s=128&d=identicon&r=PG&f=1", "display_name": "Ecnerwal", "link": "https://stackoverflow.com/users/2815553/ecnerwal"}, "edited": false, "score": 0, "creation_date": 1508960432, "post_id": 46940773, "comment_id": 80828787, "body": "You keyboard really have a comma in the numpad?"}, {"owner": {"reputation": 227, "user_id": 7610283, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7be7baacf653a24c9bf88dcff3dde16f?s=128&d=identicon&r=PG&f=1", "display_name": "Batmannn", "link": "https://stackoverflow.com/users/7610283/batmannn"}, "reply_to_user": {"reputation": 314, "user_id": 2815553, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4e7d46ec6cbd6bfe27df399bc0af4b74?s=128&d=identicon&r=PG&f=1", "display_name": "Ecnerwal", "link": "https://stackoverflow.com/users/2815553/ecnerwal"}, "edited": false, "score": 1, "creation_date": 1508960515, "post_id": 46940773, "comment_id": 80828854, "body": "Yes. It depends on keyboard layout. For English layout Decimal is dot, for Russian layout Decimal is comma. I need to handle it."}, {"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "reply_to_user": {"reputation": 314, "user_id": 2815553, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4e7d46ec6cbd6bfe27df399bc0af4b74?s=128&d=identicon&r=PG&f=1", "display_name": "Ecnerwal", "link": "https://stackoverflow.com/users/2815553/ecnerwal"}, "edited": false, "score": 0, "creation_date": 1508960654, "post_id": 46940773, "comment_id": 80828924, "body": "@Ecnerwal the key right to &#39;0&#39;. <code>.</code> or <code>,</code> depending on localization"}], "answers": [{"comments": [{"owner": {"reputation": 227, "user_id": 7610283, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7be7baacf653a24c9bf88dcff3dde16f?s=128&d=identicon&r=PG&f=1", "display_name": "Batmannn", "link": "https://stackoverflow.com/users/7610283/batmannn"}, "edited": false, "score": 0, "creation_date": 1508961816, "post_id": 46940880, "comment_id": 80829531, "body": "And that&#39;s a problem: I need to allow only comma in Decimal"}, {"owner": {"reputation": 36783, "user_id": 2946329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9ygJ.jpg?s=128&g=1", "display_name": "Salah Akbari", "link": "https://stackoverflow.com/users/2946329/salah-akbari"}, "reply_to_user": {"reputation": 227, "user_id": 7610283, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7be7baacf653a24c9bf88dcff3dde16f?s=128&d=identicon&r=PG&f=1", "display_name": "Batmannn", "link": "https://stackoverflow.com/users/7610283/batmannn"}, "edited": false, "score": 0, "creation_date": 1508961903, "post_id": 46940880, "comment_id": 80829578, "body": "@Batmannn Did you test it? It only allow comma in <code>Decimal</code> while you are using <i>Russian layout</i>. It just allow <code>.</code> only when you are using another layout like US layout. So what is the problem this is exactly what is expected."}, {"owner": {"reputation": 227, "user_id": 7610283, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7be7baacf653a24c9bf88dcff3dde16f?s=128&d=identicon&r=PG&f=1", "display_name": "Batmannn", "link": "https://stackoverflow.com/users/7610283/batmannn"}, "edited": false, "score": 0, "creation_date": 1508962110, "post_id": 46940880, "comment_id": 80829678, "body": "I tested it. When I use English layout - it allows dots, when I use Russian layout - it allows commas (dots and commas are decimal). But I need to forbid dots as decimals while I have English layout."}, {"owner": {"reputation": 227, "user_id": 7610283, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7be7baacf653a24c9bf88dcff3dde16f?s=128&d=identicon&r=PG&f=1", "display_name": "Batmannn", "link": "https://stackoverflow.com/users/7610283/batmannn"}, "edited": false, "score": 0, "creation_date": 1508962229, "post_id": 46940880, "comment_id": 80829741, "body": "I need something like this: if (Decimal is comma) - allow if (Decimal is dot) - forbid"}, {"owner": {"reputation": 36783, "user_id": 2946329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9ygJ.jpg?s=128&g=1", "display_name": "Salah Akbari", "link": "https://stackoverflow.com/users/2946329/salah-akbari"}, "reply_to_user": {"reputation": 227, "user_id": 7610283, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7be7baacf653a24c9bf88dcff3dde16f?s=128&d=identicon&r=PG&f=1", "display_name": "Batmannn", "link": "https://stackoverflow.com/users/7610283/batmannn"}, "edited": false, "score": 0, "creation_date": 1508962242, "post_id": 46940880, "comment_id": 80829747, "body": "@Batmannn This is impossible because culture decimal separator is used by default depending on localization!"}, {"owner": {"reputation": 227, "user_id": 7610283, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7be7baacf653a24c9bf88dcff3dde16f?s=128&d=identicon&r=PG&f=1", "display_name": "Batmannn", "link": "https://stackoverflow.com/users/7610283/batmannn"}, "edited": false, "score": 0, "creation_date": 1508962368, "post_id": 46940880, "comment_id": 80829819, "body": "Uh oh, that&#39;s a problem :C"}], "tags": [], "owner": {"reputation": 36783, "user_id": 2946329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9ygJ.jpg?s=128&g=1", "display_name": "Salah Akbari", "link": "https://stackoverflow.com/users/2946329/salah-akbari"}, "is_accepted": false, "score": 0, "last_activity_date": 1509040498, "last_edit_date": 1509040498, "creation_date": 1508960674, "answer_id": 46940880, "question_id": 46940773, "link": "https://stackoverflow.com/questions/46940773/how-to-allow-only-comma-for-decimal/46940880#46940880", "title": "How to allow only comma for decimal?", "body": "<p>You can use <a href=\"https://msdn.microsoft.com/en-us/library/aa250037(v=vs.60).aspx\" rel=\"nofollow noreferrer\"><code>Key.Decimal</code></a>. It is a key on the numpad that corresponds to <code>.</code> on the US layout, and <code>,</code> on the Russian layout.</p>\n\n<pre><code>e.Handled = !((e.Key &gt;= Key.D0 &amp;&amp; e.Key &lt;= Key.D9) || \n            (e.Key &gt;= Key.NumPad0 &amp;&amp; e.Key &lt;= Key.NumPad9) ||\n            e.Key == Key.Space || e.Key == Key.Decimal);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1508982256, "last_edit_date": 1508982256, "creation_date": 1508981843, "answer_id": 46944524, "question_id": 46940773, "link": "https://stackoverflow.com/questions/46940773/how-to-allow-only-comma-for-decimal/46944524#46944524", "title": "How to allow only comma for decimal?", "body": "<p>According to the comments in another answer, it sounds like what you are asking for is how to determine <code>if (decimal is comma)</code>. If that's the case, then this should help:</p>\n\n<pre><code>var decimalSeparator = System.Globalization.CultureInfo.CurrentCulture\n    .NumberFormat.NumberDecimalSeparator.ToString();\n\ne.Handled = !((e.Key &gt;= Key.D0 &amp;&amp; e.Key &lt;= Key.D9) || \n              (e.Key &gt;= Key.NumPad0 &amp;&amp; e.Key &lt;= Key.NumPad9) ||\n              (e.Key == Key.Space) || \n              (e.Key == Key.Decimal &amp;&amp; decimalSeparator == \",\"));\n</code></pre>\n"}], "owner": {"reputation": 227, "user_id": 7610283, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7be7baacf653a24c9bf88dcff3dde16f?s=128&d=identicon&r=PG&f=1", "display_name": "Batmannn", "link": "https://stackoverflow.com/users/7610283/batmannn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 306, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1509040498, "creation_date": 1508960230, "last_edit_date": 1508963225, "question_id": 46940773, "link": "https://stackoverflow.com/questions/46940773/how-to-allow-only-comma-for-decimal", "title": "How to allow only comma for decimal?", "body": "<p>I need to restrict all symbols, except space, 0-9 in numeric keyboard, 0-9 in numpad and comma. I handled everything but comma in numpad:</p>\n\n<pre><code>e.Handled = !((e.Key &gt;= Key.D0 &amp;&amp; e.Key &lt;= Key.D9) || \n        (e.Key &gt;= Key.NumPad0 &amp;&amp; e.Key &lt;= Key.NumPad9) ||\n        e.Key == Key.Space || e.Key == Key.OemComma);\n</code></pre>\n\n<p>The problem with comma in numpad is recognized as <code>Decimal</code>, but <code>Decimal</code> is also a dot, which I should forbid. </p>\n\n<p>How can I separate <code>Decimal</code> by dot and comma? </p>\n"}, {"tags": ["c#", "asp.net-core", "configuration", "asp.net-core-mvc", "appsettings"], "comments": [{"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 3, "creation_date": 1508963735, "post_id": 46940710, "comment_id": 80830455, "body": "Please <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration\" rel=\"nofollow noreferrer\">read the documentation</a> on how to use configuration. You have improperly set up the configuration in your startup class."}, {"owner": {"reputation": 3920, "user_id": 1215594, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/21de36376cdb9babb57fcd5d678a1b25?s=128&d=identicon&r=PG", "display_name": "Ranadheer Reddy", "link": "https://stackoverflow.com/users/1215594/ranadheer-reddy"}, "edited": false, "score": 0, "creation_date": 1539095107, "post_id": 46940710, "comment_id": 92372058, "body": "this can be even simplified just by using dependency injection of IConfiguration. Which is explained here <a href=\"http://www.coding-issues.com/2018/10/read-values-from-appsettings-json-.net-core.html\" rel=\"nofollow noreferrer\">coding-issues.com/2018/10/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 833, "user_id": 4112702, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jGRqI.jpg?s=128&g=1", "display_name": "Lukas Hieronimus Adler", "link": "https://stackoverflow.com/users/4112702/lukas-hieronimus-adler"}, "edited": false, "score": 0, "creation_date": 1515571782, "post_id": 46940811, "comment_id": 83345245, "body": "How can i access the Values in the Class which holds my Data?"}, {"owner": {"reputation": 16037, "user_id": 2410655, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aBhdJ.jpg?s=128&g=1", "display_name": "David Liang", "link": "https://stackoverflow.com/users/2410655/david-liang"}, "reply_to_user": {"reputation": 833, "user_id": 4112702, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jGRqI.jpg?s=128&g=1", "display_name": "Lukas Hieronimus Adler", "link": "https://stackoverflow.com/users/4112702/lukas-hieronimus-adler"}, "edited": false, "score": 0, "creation_date": 1515629801, "post_id": 46940811, "comment_id": 83377359, "body": "@LukasHieronimusAdler: See <code>Controller</code> sample section in the original question?? Access the value by doing <code>IOptions&lt;AppSettings&gt; settings</code> and <code>settings.Value</code>??"}, {"owner": {"reputation": 833, "user_id": 4112702, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jGRqI.jpg?s=128&g=1", "display_name": "Lukas Hieronimus Adler", "link": "https://stackoverflow.com/users/4112702/lukas-hieronimus-adler"}, "edited": false, "score": 0, "creation_date": 1515757798, "post_id": 46940811, "comment_id": 83432930, "body": "@DavidLiang if i change the appsettings.json file manually during runtime, my IOptions&lt;AppSettings&gt; settings Object doesn&#39;t get the changed values. Whats wrong? If added this: .AddJsonFile(&quot;appsettings.json&quot;, optional: false, reloadOnChange: true) For me, it should reload on an external change right?"}, {"owner": {"reputation": 16037, "user_id": 2410655, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aBhdJ.jpg?s=128&g=1", "display_name": "David Liang", "link": "https://stackoverflow.com/users/2410655/david-liang"}, "reply_to_user": {"reputation": 833, "user_id": 4112702, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jGRqI.jpg?s=128&g=1", "display_name": "Lukas Hieronimus Adler", "link": "https://stackoverflow.com/users/4112702/lukas-hieronimus-adler"}, "edited": false, "score": 1, "creation_date": 1515780376, "post_id": 46940811, "comment_id": 83445819, "body": "@LukasHieronimusAdler: You might want to use <code>IOptionsSnapshot&lt;T&gt;</code> instead of <code>IOptions&lt;T&gt;</code>. You can take a look at this article: <a href=\"https://offering.solutions/blog/articles/2017/02/17/automatically-reload-typed-configuration-in-asp-net-core/\" rel=\"nofollow noreferrer\">offering.solutions/blog/articles/2017/02/17/&hellip;</a>. I haven&#39;t had chance to try it myself though."}, {"owner": {"reputation": 833, "user_id": 4112702, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jGRqI.jpg?s=128&g=1", "display_name": "Lukas Hieronimus Adler", "link": "https://stackoverflow.com/users/4112702/lukas-hieronimus-adler"}, "edited": false, "score": 0, "creation_date": 1516012838, "post_id": 46940811, "comment_id": 83505252, "body": "@DavidLiang yes its still working, but i cant access the IOptionsSnapshot&lt;T&gt; from normal Classes. If i pass the IOptionsSnapshot&lt;T&gt; in the constructor like in controller-classes its needed to pass this object manually but how can i access it? Hopefully you know what i mean. Thanks for your help"}, {"owner": {"reputation": 16037, "user_id": 2410655, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aBhdJ.jpg?s=128&g=1", "display_name": "David Liang", "link": "https://stackoverflow.com/users/2410655/david-liang"}, "edited": false, "score": 0, "creation_date": 1516040648, "post_id": 46940811, "comment_id": 83520546, "body": "I think you access <code>IOptionsSnapshot&lt;T&gt;</code> class the same way you access <code>IOptions&lt;T&gt;</code>? And in order for classes to be able to receive <code>IOptionsSnapshot&lt;T&gt;</code>, you just need to inject <code>T</code> in the Startup, same way with <code>IOptions&lt;T&gt;</code>! Please read through the article multiple times and find the Microsoft docs on this subject. Without taking a look at your source code, I don&#39;t get what problem you&#39;re facing. Sorry"}, {"owner": {"reputation": 3664, "user_id": 457030, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/1z8W4.png?s=128&g=1", "display_name": "Syaiful Nizam Yahya", "link": "https://stackoverflow.com/users/457030/syaiful-nizam-yahya"}, "edited": false, "score": 2, "creation_date": 1531446604, "post_id": 46940811, "comment_id": 89609519, "body": "Could you make it simple like a snippet?"}, {"owner": {"reputation": 1783, "user_id": 104641, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/36Fjc.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/104641/aaron"}, "edited": false, "score": 11, "creation_date": 1540079284, "post_id": 46940811, "comment_id": 92732800, "body": "What a horrible step backwards from full stack .net"}, {"owner": {"reputation": 604, "user_id": 3323141, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ulT3b.gif?s=128&g=1", "display_name": "Tomas Bruckner", "link": "https://stackoverflow.com/users/3323141/tomas-bruckner"}, "edited": false, "score": 4, "creation_date": 1569758286, "post_id": 46940811, "comment_id": 102692848, "body": "Ok, so for .NET Core 3 you need Microsoft.Extensions.Options.ConfigurationExtensions package and it works fine"}, {"owner": {"reputation": 2339, "user_id": 1080648, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0593c59136894f53c635146e70209d4b?s=128&d=identicon&r=PG", "display_name": "Jon Story", "link": "https://stackoverflow.com/users/1080648/jon-story"}, "edited": false, "score": 1, "creation_date": 1586885610, "post_id": 46940811, "comment_id": 108291636, "body": "It&#39;s ridiculous that we need this much of an explanation to access a simple application setting... something that used to be one line in .NET Framework. I understand that dependency injection is generally a good thing, but in this instance it&#39;s a nuisance rather than a help. For once, it feels like C# is thinking about code, not the developer - it&#39;s all going a bit Java"}, {"owner": {"reputation": 4861, "user_id": 1203116, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/4yYl3.jpg?s=128&g=1", "display_name": "J&#233;r&#244;me MEVEL", "link": "https://stackoverflow.com/users/1203116/j%c3%a9r%c3%b4me-mevel"}, "edited": false, "score": 2, "creation_date": 1601976009, "post_id": 46940811, "comment_id": 113566372, "body": "Note for future self: The <code>GetValue&lt;T&gt;</code> method is in the <code>Microsoft.Extensions.Configuration.Binder</code> Nuget package"}], "tags": [], "owner": {"reputation": 16037, "user_id": 2410655, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aBhdJ.jpg?s=128&g=1", "display_name": "David Liang", "link": "https://stackoverflow.com/users/2410655/david-liang"}, "is_accepted": true, "score": 314, "last_activity_date": 1594305039, "last_edit_date": 1594305039, "creation_date": 1508960407, "answer_id": 46940811, "question_id": 46940710, "link": "https://stackoverflow.com/questions/46940710/getting-value-from-appsettings-json-in-net-core/46940811#46940811", "title": "Getting value from appsettings.json in .net core", "body": "<h1>Program and Startup class</h1>\n<h2>.NET Core 2.x</h2>\n<p>You don't need to new <code>IConfiguration</code> in the <code>Startup</code> constructor. Its implementation will be injected by the DI system.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>// Program.cs\npublic class Program\n{\n    public static void Main(string[] args)\n    {\n        BuildWebHost(args).Run();\n    }\n\n    public static IWebHost BuildWebHost(string[] args) =&gt;\n        WebHost.CreateDefaultBuilder(args)\n            .UseStartup&lt;Startup&gt;()\n            .Build();            \n}\n\n// Startup.cs\npublic class Startup\n{\n    public IHostingEnvironment HostingEnvironment { get; private set; }\n    public IConfiguration Configuration { get; private set; }\n\n    public Startup(IConfiguration configuration, IHostingEnvironment env)\n    {\n        this.HostingEnvironment = env;\n        this.Configuration = configuration;\n    }\n}\n</code></pre>\n<h2>.NET Core 1.x</h2>\n<p>You need to tell <code>Startup</code> to load the appsettings files.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>// Program.cs\npublic class Program\n{\n    public static void Main(string[] args)\n    {\n        var host = new WebHostBuilder()\n            .UseKestrel()\n            .UseContentRoot(Directory.GetCurrentDirectory())\n            .UseIISIntegration()\n            .UseStartup&lt;Startup&gt;()\n            .UseApplicationInsights()\n            .Build();\n\n        host.Run();\n    }\n}\n\n//Startup.cs\npublic class Startup\n{\n    public IConfigurationRoot Configuration { get; private set; }\n\n    public Startup(IHostingEnvironment env)\n    {\n        var builder = new ConfigurationBuilder()\n            .SetBasePath(env.ContentRootPath)\n            .AddJsonFile(&quot;appsettings.json&quot;, optional: false, reloadOnChange: true)\n            .AddJsonFile($&quot;appsettings.{env.EnvironmentName}.json&quot;, optional: true)\n            .AddEnvironmentVariables();\n\n        this.Configuration = builder.Build();\n    }\n    ...\n}\n</code></pre>\n<br />\n<h1>Getting Values</h1>\n<p>There are many ways you can get the value you configure from the app settings:</p>\n<ul>\n<li>Simple way using <code>ConfigurationBuilder.GetValue&lt;T&gt;</code></li>\n<li>Using <em><a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-2.2\" rel=\"noreferrer\">Options Pattern</a></em></li>\n</ul>\n<p>Let's say your <code>appsettings.json</code> looks like this:</p>\n<pre><code>{\n    &quot;ConnectionStrings&quot;: {\n        ...\n    },\n    &quot;AppIdentitySettings&quot;: {\n        &quot;User&quot;: {\n            &quot;RequireUniqueEmail&quot;: true\n        },\n        &quot;Password&quot;: {\n            &quot;RequiredLength&quot;: 6,\n            &quot;RequireLowercase&quot;: true,\n            &quot;RequireUppercase&quot;: true,\n            &quot;RequireDigit&quot;: true,\n            &quot;RequireNonAlphanumeric&quot;: true\n        },\n        &quot;Lockout&quot;: {\n            &quot;AllowedForNewUsers&quot;: true,\n            &quot;DefaultLockoutTimeSpanInMins&quot;: 30,\n            &quot;MaxFailedAccessAttempts&quot;: 5\n        }\n    },\n    &quot;Recaptcha&quot;: { \n        ...\n    },\n    ...\n}\n</code></pre>\n<h2>Simple Way</h2>\n<p>You can inject the whole configuration into the constructor of your controller/class (via <code>IConfiguration</code>) and get the value you want with a specified key:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public class AccountController : Controller\n{\n    private readonly IConfiguration _config;\n\n    public AccountController(IConfiguration config)\n    {\n        _config = config;\n    }\n\n    [AllowAnonymous]\n    public IActionResult ResetPassword(int userId, string code)\n    {\n        var vm = new ResetPasswordViewModel\n        {\n            PasswordRequiredLength = _config.GetValue&lt;int&gt;(\n                &quot;AppIdentitySettings:Password:RequiredLength&quot;),\n            RequireUppercase = _config.GetValue&lt;bool&gt;(\n                &quot;AppIdentitySettings:Password:RequireUppercase&quot;)\n        };\n\n        return View(vm);\n    }\n}\n</code></pre>\n<h2>Options Pattern</h2>\n<p>The <code>ConfigurationBuilder.GetValue&lt;T&gt;</code> works great if you only need one or two values from the app settings. But if you want to get multiple values from the app settings, or you don't want to hard code those key strings in multiple places, it might be easier to use <em>Options Pattern</em>. The options pattern uses classes to represent the hierarchy/structure.</p>\n<p>To use options pattern:</p>\n<ol>\n<li>Define classes to represent the structure</li>\n<li>Register the configuration instance which those classes bind against</li>\n<li>Inject <code>IOptions&lt;T&gt;</code> into the constructor of the controller/class you want to get values on</li>\n</ol>\n<h3>1. Define configuration classes to represent the structure</h3>\n<p>You can define classes with properties that <strong>need to exactly match</strong> the keys in your app settings. The name of the class does't have to match the name of the section in the app settings:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public class AppIdentitySettings\n{\n    public UserSettings User { get; set; }\n    public PasswordSettings Password { get; set; }\n    public LockoutSettings Lockout { get; set; }\n}\n\npublic class UserSettings\n{\n    public bool RequireUniqueEmail { get; set; }\n}\n\npublic class PasswordSettings\n{\n    public int RequiredLength { get; set; }\n    public bool RequireLowercase { get; set; }\n    public bool RequireUppercase { get; set; }\n    public bool RequireDigit { get; set; }\n    public bool RequireNonAlphanumeric { get; set; }\n}\n\npublic class LockoutSettings\n{\n    public bool AllowedForNewUsers { get; set; }\n    public int DefaultLockoutTimeSpanInMins { get; set; }\n    public int MaxFailedAccessAttempts { get; set; }\n}\n</code></pre>\n<h3>2. Register the configuration instance</h3>\n<p>And then you need to register this configuration instance in <code>ConfigureServices()</code> in the start up:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>using Microsoft.Extensions.Configuration;\nusing Microsoft.Extensions.DependencyInjection;\n...\n\nnamespace DL.SO.UI.Web\n{\n    public class Startup\n    {\n        ...\n        public void ConfigureServices(IServiceCollection services)\n        {\n            ...\n            var identitySettingsSection = \n                _configuration.GetSection(&quot;AppIdentitySettings&quot;);\n            services.Configure&lt;AppIdentitySettings&gt;(identitySettingsSection);\n            ...\n        }\n        ...\n    }\n}\n</code></pre>\n<h3>3. Inject IOptions</h3>\n<p>Lastly on the controller/class you want to get the values, you need to inject <code>IOptions&lt;AppIdentitySettings&gt;</code> through constructor:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public class AccountController : Controller\n{\n    private readonly AppIdentitySettings _appIdentitySettings;\n\n    public AccountController(IOptions&lt;AppIdentitySettings&gt; appIdentitySettingsAccessor)\n    {\n        _appIdentitySettings = appIdentitySettingsAccessor.Value;\n    }\n\n    [AllowAnonymous]\n    public IActionResult ResetPassword(int userId, string code)\n    {\n        var vm = new ResetPasswordViewModel\n        {\n            PasswordRequiredLength = _appIdentitySettings.Password.RequiredLength,\n            RequireUppercase = _appIdentitySettings.Password.RequireUppercase\n        };\n\n        return View(vm);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1987, "user_id": 7540393, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/yVoRD.jpg?s=128&g=1", "display_name": "Arthur Attout", "link": "https://stackoverflow.com/users/7540393/arthur-attout"}, "edited": false, "score": 1, "creation_date": 1523947472, "post_id": 48925990, "comment_id": 86758141, "body": "What about nested objects ?"}, {"owner": {"reputation": 315, "user_id": 3227662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a05e589a07c559cb55748386b8ab6da?s=128&d=identicon&r=PG&f=1", "display_name": "WeHaveCookies", "link": "https://stackoverflow.com/users/3227662/wehavecookies"}, "edited": false, "score": 9, "creation_date": 1526422292, "post_id": 48925990, "comment_id": 87736304, "body": "Nested objects can be obtained with Configuration[&quot;MyConfig:SomethingNested&quot;]"}, {"owner": {"reputation": 174, "user_id": 3201580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1246caadf3b855e32850f0e51f158457?s=128&d=identicon&r=PG&f=1", "display_name": "mvdgun", "link": "https://stackoverflow.com/users/3201580/mvdgun"}, "edited": false, "score": 1, "creation_date": 1554263795, "post_id": 48925990, "comment_id": 97682285, "body": "As can be seen in the file <a href=\"https://github.com/aspnet/AspNetCore/blob/master/src/DefaultBuilder/src/WebHost.cs\" rel=\"nofollow noreferrer\">github.com/aspnet/AspNetCore/blob/master/src/DefaultBuilder/&zwnj;&#8203;src/&hellip;</a> at line 167 ASP.NET Core currently loads <code>appsettings.json</code> + <code>appsettings.{env.EnvironmentName}.json</code>. So the statement that ASP.NET Core only loads Development, Staging and Production appsettings.json files is currently incorrect."}, {"owner": {"reputation": 9207, "user_id": 631527, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/92e59.jpg?s=128&g=1", "display_name": "Toolkit", "link": "https://stackoverflow.com/users/631527/toolkit"}, "edited": false, "score": 1, "creation_date": 1564741671, "post_id": 48925990, "comment_id": 101139363, "body": "so am I supposed to set Windows variable <code>ASPNETCORE_ENVIRONMENT</code> every time? Things were way easier in .Net 4. These JSON fanatics did screw it up big time"}, {"owner": {"reputation": 16285, "user_id": 213469, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/3qx5g.jpg?s=128&g=1", "display_name": "Aseem Gautam", "link": "https://stackoverflow.com/users/213469/aseem-gautam"}, "reply_to_user": {"reputation": 9207, "user_id": 631527, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/92e59.jpg?s=128&g=1", "display_name": "Toolkit", "link": "https://stackoverflow.com/users/631527/toolkit"}, "edited": false, "score": 0, "creation_date": 1564741867, "post_id": 48925990, "comment_id": 101139462, "body": "@Toolkit You can set the environment variable globally. <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/environments?view=aspnetcore-2.2#set-the-environment\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/core/fundamentals/&hellip;</a>"}], "tags": [], "owner": {"reputation": 16285, "user_id": 213469, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/3qx5g.jpg?s=128&g=1", "display_name": "Aseem Gautam", "link": "https://stackoverflow.com/users/213469/aseem-gautam"}, "is_accepted": false, "score": 53, "last_activity_date": 1541760314, "last_edit_date": 1541760314, "creation_date": 1519297936, "answer_id": 48925990, "question_id": 46940710, "link": "https://stackoverflow.com/questions/46940710/getting-value-from-appsettings-json-in-net-core/48925990#48925990", "title": "Getting value from appsettings.json in .net core", "body": "<p>Adding to David Liang's answer for <strong>Core 2.0</strong> - </p>\n\n<p><code>appsettings.json</code> file's are linked to <code>ASPNETCORE_ENVIRONMENT</code> variable.</p>\n\n<p><code>ASPNETCORE_ENVIRONMENT</code> can be set to any value, but three values are supported by the framework: <code>Development</code>, <code>Staging</code>, and <code>Production</code>. If <code>ASPNETCORE_ENVIRONMENT</code> isn't set, it will default to <code>Production</code>.</p>\n\n<p>For these three values these <strong>appsettings.ASPNETCORE_ENVIRONMENT.json</strong> files are supported out of the box - <code>appsettings.Staging.json</code>, <code>appsettings.Development.json</code> and <code>appsettings.Production.json</code></p>\n\n<p>The above three application setting json files can be used to configure multiple environments.</p>\n\n<p><strong>Example - <code>appsettings.Staging.json</code></strong> </p>\n\n\n\n<pre><code>{\n    \"Logging\": {\n        \"IncludeScopes\": false,\n        \"LogLevel\": {\n            \"System\": \"Information\",\n            \"Microsoft\": \"Information\"\n        }\n    },\n    \"MyConfig\": \"My Config Value for staging.\"\n}\n</code></pre>\n\n<p>Use <strong><code>Configuration[\"config_var\"]</code></strong> to retrieve any configuration value.</p>\n\n\n\n<pre><code>public class Startup\n{\n    public Startup(IHostingEnvironment env, IConfiguration config)\n    {\n        Environment = env;\n        Configuration = config;\n        var myconfig = Configuration[\"MyConfig\"];\n    }\n\n    public IConfiguration Configuration { get; }\n    public IHostingEnvironment Environment { get; }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 432, "user_id": 2826794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07b76946a2a87f05ea35fc692dcd467b?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233; Mantas", "link": "https://stackoverflow.com/users/2826794/andr%c3%a9-mantas"}, "edited": false, "score": 4, "creation_date": 1570545937, "post_id": 51780754, "comment_id": 102942167, "body": "Don&#39;t use this in production. This approach was what caused memory leaks in our web api. If you are using netcore you can inject IConfiguration literally anywhere, just see the above answers."}, {"owner": {"reputation": 511, "user_id": 1707033, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d1788fa5a08d764ff4bac03f89b27d7?s=128&d=identicon&r=PG", "display_name": "HellBaby", "link": "https://stackoverflow.com/users/1707033/hellbaby"}, "edited": false, "score": 0, "creation_date": 1596177715, "post_id": 51780754, "comment_id": 111733974, "body": "I would not recommend injecting <code>IConfiguration</code> everywhere, because this might cause in some security issues; what you can do instead is to create some abstraction layers of what you need from that configuration and use those where you need it. In this way your code is more secured and your code will not depend of IConfiguration or any implementation."}], "tags": [], "owner": {"reputation": 1061, "user_id": 10206741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f0e220c5042e83f02e6004c3510e656?s=128&d=identicon&r=PG&f=1", "display_name": "shajji", "link": "https://stackoverflow.com/users/10206741/shajji"}, "is_accepted": false, "score": 60, "last_activity_date": 1534323722, "last_edit_date": 1534323722, "creation_date": 1533884382, "answer_id": 51780754, "question_id": 46940710, "link": "https://stackoverflow.com/questions/46940710/getting-value-from-appsettings-json-in-net-core/51780754#51780754", "title": "Getting value from appsettings.json in .net core", "body": "<p>Just create An AnyName.cs file and paste following code.</p>\n\n<pre><code>using System;\nusing System.IO;\nusing Microsoft.Extensions.Configuration;\n\nnamespace Custom\n{\n    static class ConfigurationManager\n    {\n        public static IConfiguration AppSetting { get; }\n        static ConfigurationManager()\n        {\n            AppSetting = new ConfigurationBuilder()\n                    .SetBasePath(Directory.GetCurrentDirectory())\n                    .AddJsonFile(\"YouAppSettingFile.json\")\n                    .Build();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Must replace YouAppSettingFile.json file name with your file name.</strong><br>\nYour .json file should look like below.</p>\n\n<pre><code>{\n    \"GrandParent_Key\" : {\n        \"Parent_Key\" : {\n            \"Child_Key\" : \"value1\"\n        }\n    },\n    \"Parent_Key\" : {\n        \"Child_Key\" : \"value2\"\n    },\n    \"Child_Key\" : \"value3\"\n}\n</code></pre>\n\n<p>Now you can use it.<br/>\nDon't forget to <strong>Add Reference</strong> in your class where you want to use.</p>\n\n<pre><code>using Custom;\n</code></pre>\n\n<p>Code to retrieve value.</p>\n\n<pre><code>string value1 = ConfigurationManager.AppSetting[\"GrandParent_Key:Parent_Key:Child_Key\"];\nstring value2 = ConfigurationManager.AppSetting[\"Parent_Key:Child_Key\"];\nstring value3 = ConfigurationManager.AppSetting[\"Child_Key\"];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2179, "user_id": 1712913, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/e0Q1b.jpg?s=128&g=1", "display_name": "harveyt", "link": "https://stackoverflow.com/users/1712913/harveyt"}, "edited": false, "score": 6, "creation_date": 1540570222, "post_id": 53012480, "comment_id": 92928598, "body": "Reading the other answers, this should be the best."}, {"owner": {"reputation": 356, "user_id": 6640681, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/dNH86.jpg?s=128&g=1", "display_name": "Arthur Medeiros", "link": "https://stackoverflow.com/users/6640681/arthur-medeiros"}, "edited": false, "score": 1, "creation_date": 1573492336, "post_id": 53012480, "comment_id": 103891349, "body": "I was missing  <code>services.AddSingleton(Configuration);</code> , now it works"}], "tags": [], "owner": {"reputation": 2179, "user_id": 1712913, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/e0Q1b.jpg?s=128&g=1", "display_name": "harveyt", "link": "https://stackoverflow.com/users/1712913/harveyt"}, "is_accepted": false, "score": 36, "last_activity_date": 1540569769, "creation_date": 1540569769, "answer_id": 53012480, "question_id": 46940710, "link": "https://stackoverflow.com/questions/46940710/getting-value-from-appsettings-json-in-net-core/53012480#53012480", "title": "Getting value from appsettings.json in .net core", "body": "<p>I guess the simplest way is by DI. An example of reaching into Controller.</p>\n\n<pre><code>// StartUp.cs\npublic void ConfigureServices(IServiceCollection services)\n{\n    ...\n    // for get appsettings from anywhere\n    services.AddSingleton(Configuration);\n}\n\npublic class ContactUsController : Controller\n{\n    readonly IConfiguration _configuration;\n\n    public ContactUsController(\n        IConfiguration configuration)\n    {\n        _configuration = configuration;\n\n        // sample:\n        var apiKey = _configuration.GetValue&lt;string&gt;(\"SendGrid:CAAO\");\n        ...\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 1737237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a88ad530820ead646a393935f126d7?s=128&d=identicon&r=PG", "display_name": "Lizo Matala", "link": "https://stackoverflow.com/users/1737237/lizo-matala"}, "is_accepted": false, "score": 2, "last_activity_date": 1550244829, "last_edit_date": 1550244829, "creation_date": 1541577666, "answer_id": 53185484, "question_id": 46940710, "link": "https://stackoverflow.com/questions/46940710/getting-value-from-appsettings-json-in-net-core/53185484#53185484", "title": "Getting value from appsettings.json in .net core", "body": "<p>In my case it was simple as using the Bind() method on the Configuration object. And then add the object as singleton in the DI.</p>\n\n<pre><code>var instructionSettings = new InstructionSettings();\nConfiguration.Bind(\"InstructionSettings\", instructionSettings);\nservices.AddSingleton(typeof(IInstructionSettings), (serviceProvider) =&gt; instructionSettings);\n</code></pre>\n\n<p>The Instruction object can be as complex as you want.</p>\n\n<pre><code>{  \n \"InstructionSettings\": {\n    \"Header\": \"uat_TEST\",\n    \"SVSCode\": \"FICA\",\n    \"CallBackUrl\": \"https://UATEnviro.companyName.co.za/suite/webapi/receiveCallback\",\n    \"Username\": \"s_integrat\",\n    \"Password\": \"X@nkmail6\",\n    \"Defaults\": {\n    \"Language\": \"ENG\",\n    \"ContactDetails\":{\n       \"StreetNumber\": \"9\",\n       \"StreetName\": \"Nano Drive\",\n       \"City\": \"Johannesburg\",\n       \"Suburb\": \"Sandton\",\n       \"Province\": \"Gauteng\",\n       \"PostCode\": \"2196\",\n       \"Email\": \"ourDefaultEmail@companyName.co.za\",\n       \"CellNumber\": \"0833 468 378\",\n       \"HomeNumber\": \"0833 468 378\",\n      }\n      \"CountryOfBirth\": \"710\"\n    }\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 179, "user_id": 3974313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efbcb7df52d4a7cbb9f6a10eba1c489f?s=128&d=identicon&r=PG&f=1", "display_name": "Jacques Olivier", "link": "https://stackoverflow.com/users/3974313/jacques-olivier"}, "edited": false, "score": 2, "creation_date": 1555482265, "post_id": 54060567, "comment_id": 98121837, "body": "It was the &#39;Configuration[&quot;Grandfather:Father:Child&quot;]&#39; syntax that helped me."}, {"owner": {"reputation": 2669, "user_id": 780861, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/094ca0545895773e8e0aedc0eddc55e9?s=128&d=identicon&r=PG", "display_name": "jolySoft", "link": "https://stackoverflow.com/users/780861/jolysoft"}, "edited": false, "score": 2, "creation_date": 1562765162, "post_id": 54060567, "comment_id": 100479945, "body": "This is an outstanding answer in the way it is structured, clear and to the point.  Great communication"}], "tags": [], "owner": {"reputation": 7248, "user_id": 3380497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aMLSV.jpg?s=128&g=1", "display_name": "Shadi Namrouti", "link": "https://stackoverflow.com/users/3380497/shadi-namrouti"}, "is_accepted": false, "score": 14, "last_activity_date": 1546770167, "creation_date": 1546770167, "answer_id": 54060567, "question_id": 46940710, "link": "https://stackoverflow.com/questions/46940710/getting-value-from-appsettings-json-in-net-core/54060567#54060567", "title": "Getting value from appsettings.json in .net core", "body": "<p>In the constructor of Startup class, you can access appsettings.json and many other settings using the injected IConfiguration object:</p>\n\n<p><strong>Startup.cs Constructor</strong></p>\n\n<pre><code>    public Startup(IConfiguration configuration)\n    {\n        Configuration = configuration;\n\n        //here you go\n        var myvalue = Configuration[\"Grandfather:Father:Child\"];\n\n    }\n\npublic IConfiguration Configuration { get; }\n</code></pre>\n\n<p><strong>Contents of</strong> <em>appsettings.json</em></p>\n\n<pre><code>  {\n  \"Grandfather\": {\n    \"Father\": {\n      \"Child\": \"myvalue\"\n    }\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 585, "user_id": 706611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/222b15b3deef5e32b1fef33f01b44336?s=128&d=identicon&r=PG", "display_name": "Carlos ABS", "link": "https://stackoverflow.com/users/706611/carlos-abs"}, "edited": false, "score": 5, "creation_date": 1555526940, "post_id": 54193478, "comment_id": 98146793, "body": "Incomplete answer"}], "tags": [], "owner": {"reputation": 79, "user_id": 5466370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc9501f912ae0b0838f047fe874cee27?s=128&d=identicon&r=PG&f=1", "display_name": "sepideh dalirpour", "link": "https://stackoverflow.com/users/5466370/sepideh-dalirpour"}, "is_accepted": false, "score": 7, "last_activity_date": 1547532274, "creation_date": 1547532274, "answer_id": 54193478, "question_id": 46940710, "link": "https://stackoverflow.com/questions/46940710/getting-value-from-appsettings-json-in-net-core/54193478#54193478", "title": "Getting value from appsettings.json in .net core", "body": "<pre><code>    public static void GetSection()\n    {\n        Configuration = new ConfigurationBuilder()\n            .SetBasePath(env.ContentRootPath)\n            .AddJsonFile(\"appsettings.json\")\n            .Build();\n\n        string BConfig = Configuration.GetSection(\"ConnectionStrings\")[\"BConnection\"];\n\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 8214788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1evkv.jpg?s=128&g=1", "display_name": "Meghnath Das", "link": "https://stackoverflow.com/users/8214788/meghnath-das"}, "is_accepted": false, "score": 0, "last_activity_date": 1587362573, "creation_date": 1587362573, "answer_id": 61316026, "question_id": 46940710, "link": "https://stackoverflow.com/questions/46940710/getting-value-from-appsettings-json-in-net-core/61316026#61316026", "title": "Getting value from appsettings.json in .net core", "body": "<p><strong>I think the best option is:</strong></p>\n\n<ol>\n<li><p>Create a model class as config schema</p></li>\n<li><p>Register in DI:\nservices.Configure(Configuration.GetSection(\"democonfig\"));</p></li>\n<li><p>Get the values as model object from DI in your controller:</p>\n\n<pre><code>private readonly your_model myConfig;\npublic DemoController(IOptions&lt;your_model&gt; configOps)\n{\n    this.myConfig = configOps.Value;\n}\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 10379, "user_id": 263832, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2096b47631d1c0690f7a149de682b19b?s=128&d=identicon&r=PG", "display_name": "xr280xr", "link": "https://stackoverflow.com/users/263832/xr280xr"}, "edited": false, "score": 0, "creation_date": 1593472696, "post_id": 61361672, "comment_id": 110788635, "body": "Where can I learn more about the <code>IConfiguration[&quot;Parent:Child&quot;]</code> syntax?"}, {"owner": {"reputation": 6313, "user_id": 525558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bzaq1.png?s=128&g=1", "display_name": "Craig", "link": "https://stackoverflow.com/users/525558/craig"}, "reply_to_user": {"reputation": 10379, "user_id": 263832, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2096b47631d1c0690f7a149de682b19b?s=128&d=identicon&r=PG", "display_name": "xr280xr", "link": "https://stackoverflow.com/users/263832/xr280xr"}, "edited": false, "score": 0, "creation_date": 1598111455, "post_id": 61361672, "comment_id": 112354136, "body": "@xr280xr You can find the syntax details here <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#hierarchical-configuration-data\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/core/fundamentals/configurat&zwnj;&#8203;ion/&hellip;</a> and here <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#configuration-keys-and-values\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/core/fundamentals/configurat&zwnj;&#8203;ion/&hellip;</a> Same page different sections but that page in general contains the details."}, {"owner": {"reputation": 6313, "user_id": 525558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bzaq1.png?s=128&g=1", "display_name": "Craig", "link": "https://stackoverflow.com/users/525558/craig"}, "reply_to_user": {"reputation": 10379, "user_id": 263832, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2096b47631d1c0690f7a149de682b19b?s=128&d=identicon&r=PG", "display_name": "xr280xr", "link": "https://stackoverflow.com/users/263832/xr280xr"}, "edited": false, "score": 0, "creation_date": 1598112784, "post_id": 61361672, "comment_id": 112354510, "body": "@xr280xr Worth mentioning that using the options pattern is the preferred method of getting config values. <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#bind-hierarchical-configuration-data-using-the-options-pattern\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/core/fundamentals/configurat&zwnj;&#8203;ion/&hellip;</a>"}], "tags": [], "owner": {"reputation": 36989, "user_id": 3850405, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b2b9eece8c493ba7ddcff82f845ff2af?s=128&d=identicon&r=PG&f=1", "display_name": "Ogglas", "link": "https://stackoverflow.com/users/3850405/ogglas"}, "is_accepted": false, "score": 4, "last_activity_date": 1587547710, "creation_date": 1587547710, "answer_id": 61361672, "question_id": 46940710, "link": "https://stackoverflow.com/questions/46940710/getting-value-from-appsettings-json-in-net-core/61361672#61361672", "title": "Getting value from appsettings.json in .net core", "body": "<p>For ASP.NET Core 3.1 you can follow this guide:</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1</a></p>\n\n<p>When you create a new ASP.NET Core 3.1 project you will have the following configuration line in <code>Program.cs</code>:</p>\n\n<pre><code>Host.CreateDefaultBuilder(args)\n</code></pre>\n\n<p>This enables the following:</p>\n\n<ol>\n<li>ChainedConfigurationProvider : Adds an existing IConfiguration as a\nsource. In the default configuration case, adds the host\nconfiguration and setting it as the first source for the app\nconfiguration. </li>\n<li>appsettings.json using the JSON configuration\nprovider. </li>\n<li>appsettings.Environment.json using the JSON configuration\nprovider. For example, appsettings.Production.json and\nappsettings.Development.json. </li>\n<li>App secrets when the app runs in the\nDevelopment environment. </li>\n<li>Environment variables using the Environment\nVariables configuration provider. </li>\n<li>Command-line arguments using the\nCommand-line configuration provider.</li>\n</ol>\n\n<p>This means you can inject <code>IConfiguration</code> and fetch values with a string key, even nested values. Like <code>IConfiguration[\"Parent:Child\"];</code></p>\n\n<p>Example:</p>\n\n<p>appsettings.json</p>\n\n<pre><code>{\n  \"ApplicationInsights\":\n    {\n        \"Instrumentationkey\":\"putrealikeyhere\"\n    }\n}\n</code></pre>\n\n<p>WeatherForecast.cs</p>\n\n<pre><code>[ApiController]\n[Route(\"[controller]\")]\npublic class WeatherForecastController : ControllerBase\n{\n    private static readonly string[] Summaries = new[]\n    {\n        \"Freezing\", \"Bracing\", \"Chilly\", \"Cool\", \"Mild\", \"Warm\", \"Balmy\", \"Hot\", \"Sweltering\", \"Scorching\"\n    };\n\n    private readonly ILogger&lt;WeatherForecastController&gt; _logger;\n    private readonly IConfiguration _configuration;\n\n    public WeatherForecastController(ILogger&lt;WeatherForecastController&gt; logger, IConfiguration configuration)\n    {\n        _logger = logger;\n        _configuration = configuration;\n    }\n\n    [HttpGet]\n    public IEnumerable&lt;WeatherForecast&gt; Get()\n    {\n        var key = _configuration[\"ApplicationInsights:InstrumentationKey\"];\n\n        var rng = new Random();\n        return Enumerable.Range(1, 5).Select(index =&gt; new WeatherForecast\n        {\n            Date = DateTime.Now.AddDays(index),\n            TemperatureC = rng.Next(-20, 55),\n            Summary = Summaries[rng.Next(Summaries.Length)]\n        })\n        .ToArray();\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 13429745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Ghbw7-Qg6TkPpW1h_w0BuAh4muTOxhcsprRiuDq=k-s128", "display_name": "Dung Do Tien", "link": "https://stackoverflow.com/users/13429745/dung-do-tien"}, "is_accepted": false, "score": 1, "last_activity_date": 1591873957, "creation_date": 1591873957, "answer_id": 62323073, "question_id": 46940710, "link": "https://stackoverflow.com/questions/46940710/getting-value-from-appsettings-json-in-net-core/62323073#62323073", "title": "Getting value from appsettings.json in .net core", "body": "<p>From Asp.net core 2.2 to above you can code as below:</p>\n\n<p><strong>Step 1. Create an AppSettings class file.</strong></p>\n\n<p>This file contains some methods to help get value by key from the appsettings.json file. Look like as code below:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\n\nnamespace ReadConfig.Bsl\n{\n  public class AppSettings\n  {\n      private static AppSettings _instance;\n      private static readonly object ObjLocked = new object();\n      private IConfiguration _configuration;\n\n      protected AppSettings()\n      {\n      }\n\n      public void SetConfiguration(IConfiguration configuration)\n      {\n          _configuration = configuration;\n      }\n\n      public static AppSettings Instance\n      {\n          get\n          {\n              if (null == _instance)\n              {\n                  lock (ObjLocked)\n                  {\n                      if (null == _instance)\n                          _instance = new AppSettings();\n                  }\n              }\n              return _instance;\n          }\n      }\n\n      public string GetConnection(string key, string defaultValue = \"\")\n      {\n          try\n          {\n              return _configuration.GetConnectionString(key);\n          }\n          catch\n          {\n              return defaultValue;\n          }\n      }\n\n      public T Get&lt;T&gt;(string key = null)\n      {\n          if (string.IsNullOrWhiteSpace(key))\n              return _configuration.Get&lt;T&gt;();\n          else\n              return _configuration.GetSection(key).Get&lt;T&gt;();\n      }\n\n      public T Get&lt;T&gt;(string key, T defaultValue)\n      {\n          if (_configuration.GetSection(key) == null)\n              return defaultValue;\n\n          if (string.IsNullOrWhiteSpace(key))\n              return _configuration.Get&lt;T&gt;();\n          else\n              return _configuration.GetSection(key).Get&lt;T&gt;();\n      }\n\n      public static T GetObject&lt;T&gt;(string key = null)\n      {\n          if (string.IsNullOrWhiteSpace(key))\n              return Instance._configuration.Get&lt;T&gt;();\n          else\n          {\n              var section = Instance._configuration.GetSection(key);\n              return section.Get&lt;T&gt;();\n          }\n      }\n\n      public static T GetObject&lt;T&gt;(string key, T defaultValue)\n      {\n          if (Instance._configuration.GetSection(key) == null)\n              return defaultValue;\n\n          if (string.IsNullOrWhiteSpace(key))\n              return Instance._configuration.Get&lt;T&gt;();\n          else\n              return Instance._configuration.GetSection(key).Get&lt;T&gt;();\n      }\n  }\n}\n</code></pre>\n\n<p><strong>Step 2. Initial configuration for AppSettings object</strong></p>\n\n<p>We need to declare and load appsettings.json file when the application starts, and load configuration information for AppSettings object. We will do this work in the constructor of the Startup.cs file. \nPlease notice line <code>AppSettings.Instance.SetConfiguration(Configuration);</code>  </p>\n\n<pre><code>public Startup(IHostingEnvironment evm)\n{\n    var builder = new ConfigurationBuilder()\n      .SetBasePath(evm.ContentRootPath)\n      .AddJsonFile(\"appsettings.json\", true, true)\n      .AddJsonFile($\"appsettings.{evm.EnvironmentName}.json\", true)\n      .AddEnvironmentVariables();\n    Configuration = builder.Build(); // load all file config to Configuration property \n    AppSettings.Instance.SetConfiguration(Configuration);       \n}\n</code></pre>\n\n<p>Okay, now I have an appsettings.json file with some keys as below:</p>\n\n<pre><code>{\n  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Information\",\n      \"Microsoft\": \"Warning\",\n      \"Microsoft.Hosting.Lifetime\": \"Information\"\n    }\n  },\n  \"AllowedHosts\": \"*\",\n  \"ConnectionStrings\": {\n    \"ConnectionString\": \"Data Source=localhost;Initial Catalog=ReadConfig;Persist Security Info=True;User ID=sa;Password=12345;\"\n  },\n  \"MailConfig\": {\n    \"Servers\": {\n      \"MailGun\": {\n        \"Pass\": \"65-1B-C9-B9-27-00\",\n        \"Port\": \"587\",\n        \"Host\": \"smtp.gmail.com\"\n      }\n    },\n    \"Sender\": {\n      \"Email\": \"example@gmail.com\",\n      \"Pass\": \"123456\"\n    }\n  }\n}\n</code></pre>\n\n<p><strong>Step 3. Read config value from an action</strong></p>\n\n<p>I make demo an action in Home controller as below :</p>\n\n<pre><code>public class HomeController : Controller\n{\n    public IActionResult Index()\n    {\n        var connectionString = AppSettings.Instance.GetConnection(\"ConnectionString\");\n        var emailSender = AppSettings.Instance.Get&lt;string&gt;(\"MailConfig:Sender:Email\");\n        var emailHost = AppSettings.Instance.Get&lt;string&gt;(\"MailConfig:Servers:MailGun:Host\");\n\n        string returnText = \" 1. Connection String \\n\";\n        returnText += \"  \" +connectionString;\n        returnText += \"\\n 2. Email info\";\n        returnText += \"\\n Sender : \" + emailSender;\n        returnText += \"\\n Host : \" + emailHost;\n\n        return Content(returnText);\n    }\n}\n</code></pre>\n\n<p>And below is the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pIIZD.jpg\" rel=\"nofollow noreferrer\">Click to see result</a></p>\n\n<p>For more information, you can refer article <a href=\"https://quizdeveloper.com/tips/read-configuration-value-from-appsettingsdotjson-in-aspdotnet-core-aid24\" rel=\"nofollow noreferrer\">get value from appsettings.json</a> in asp.net core for more detail code.</p>\n"}, {"comments": [{"owner": {"reputation": 3031, "user_id": 735597, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/8hPeY.jpg?s=128&g=1", "display_name": "Nikhil Dinesh", "link": "https://stackoverflow.com/users/735597/nikhil-dinesh"}, "edited": false, "score": 0, "creation_date": 1608646974, "post_id": 63038729, "comment_id": 115642677, "body": "Works well in Dot net core 3.1"}], "tags": [], "owner": {"reputation": 11, "user_id": 8121392, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DUTm2qXw6Z0/AAAAAAAAAAI/AAAAAAAAACQ/1iILBxOADr8/photo.jpg?sz=128", "display_name": "Abhishek Pandey", "link": "https://stackoverflow.com/users/8121392/abhishek-pandey"}, "is_accepted": false, "score": 1, "last_activity_date": 1595434628, "creation_date": 1595434628, "answer_id": 63038729, "question_id": 46940710, "link": "https://stackoverflow.com/questions/46940710/getting-value-from-appsettings-json-in-net-core/63038729#63038729", "title": "Getting value from appsettings.json in .net core", "body": "<p>Its simple:\nIn appsettings.json</p>\n<pre><code>  &quot;MyValues&quot;: {\n    &quot;Value1&quot;: &quot;Xyz&quot;\n  }\n</code></pre>\n<p>In .cs file:</p>\n<pre><code>static IConfiguration conf = (new ConfigurationBuilder().SetBasePath(Directory.GetCurrentDirectory()).AddJsonFile(&quot;appsettings.json&quot;).Build());\n        public static string myValue1= conf[&quot;MyValues:Value1&quot;].ToString();\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12828722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CaYEA.jpg?s=128&g=1", "display_name": "Jorge Eduardo", "link": "https://stackoverflow.com/users/12828722/jorge-eduardo"}, "is_accepted": false, "score": 1, "last_activity_date": 1603263843, "creation_date": 1603263843, "answer_id": 64458286, "question_id": 46940710, "link": "https://stackoverflow.com/questions/46940710/getting-value-from-appsettings-json-in-net-core/64458286#64458286", "title": "Getting value from appsettings.json in .net core", "body": "<p><strong>.NET core 3.X</strong></p>\n<p>no need to create new model and to set in Startup.cs.</p>\n<p>Controller\nAdd new package - using Microsoft.Extensions.Configuration;</p>\n<pre><code>public class HomeController : Controller\n{\n    private readonly IConfiguration _mySettings;\n\n    public HomeController (IConfiguration mySettings)\n    {\n         _mySettings= mySettings;\n    }\n \n    //ex: you can get value on below function \n    public IEnumerable&lt;string&gt; Get()\n    {\n        var result = _config.GetValue&lt;string&gt;(&quot;AppSettings:Version&quot;); // &quot;One&quot;\n        return new string[] { result.ToString() };\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 14882288, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZppbenJBRHk/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucnPZp2iyUFZ54n3fX3ij717PzZHmg/s96-c/photo.jpg?sz=128", "display_name": "Bijin Palakkal", "link": "https://stackoverflow.com/users/14882288/bijin-palakkal"}, "is_accepted": false, "score": 0, "last_activity_date": 1610117540, "last_edit_date": 1610117540, "creation_date": 1610087457, "answer_id": 65624397, "question_id": 46940710, "link": "https://stackoverflow.com/questions/46940710/getting-value-from-appsettings-json-in-net-core/65624397#65624397", "title": "Getting value from appsettings.json in .net core", "body": "<ol>\n<li>Add the required key here like this. In this case its SecureCookies:</li>\n</ol>\n<p><img src=\"https://i.stack.imgur.com/xNLfD.jpg\" alt=\"Add the required key here like this. In this case its SecureCookies\" /></p>\n<ol start=\"2\">\n<li><p>In startup.cs, add the constructor</p>\n<pre><code> public Startup(IConfiguration configuration)\n {\n     Configuration = configuration;\n\n }\n public IConfiguration Configuration { get; }\n</code></pre>\n</li>\n<li><p>Access the settings using Configuration[&quot;SecureCookies&quot;]</p>\n</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "is_accepted": false, "score": 0, "last_activity_date": 1613399647, "creation_date": 1613399647, "answer_id": 66209946, "question_id": 46940710, "link": "https://stackoverflow.com/questions/46940710/getting-value-from-appsettings-json-in-net-core/66209946#66209946", "title": "Getting value from appsettings.json in .net core", "body": "<p>This tends to happen particularly with <a href=\"/questions/tagged/vscode\" class=\"post-tag\" title=\"show questions tagged &#39;vscode&#39;\" rel=\"tag\">vscode</a> as I'd assume because of how one configures the <code>launch.json</code>.</p>\n<p>Based on <a href=\"https://stackoverflow.com/a/54193478/7032856\">this answer</a> I had to reconfigure the base path the configuration is being searched for to that of <a href=\"https://stackoverflow.com/a/283917/7032856\">DLL's path</a>, and since the default setting was optional it was hard to track this down on a .net core 3.1 &amp; net 5.0 app. Here's how I've reconfigured</p>\n<p><code>Program.cs</code>:</p>\n<pre><code>using System;\nusing System.IO;\nusing System.Reflection;\nusing Microsoft.Extensions.Configuration;\nusing Microsoft.AspNetCore.Hosting;\nusing Microsoft.Extensions.Hosting;\n\nnamespace API\n{\n    public class Program\n    {\n        public static int Main(string[] args)\n        {\n            CreateHostBuilder(args).Build().Run();\n            return 0;\n        }\n\n        public static IHostBuilder CreateHostBuilder(string[] args)\n        {\n            return Host.CreateDefaultBuilder(args)\n            .ConfigureAppConfiguration(c =&gt;\n            {\n                var codeBase = Assembly.GetExecutingAssembly().Location;\n                var uri = new UriBuilder(codeBase);\n                var path = Uri.UnescapeDataString(uri.Path);\n                var assembyDirectory = Path.GetDirectoryName(path);\n                c.SetBasePath(assembyDirectory);\n            })\n            .ConfigureWebHostDefaults(webBuilder =&gt;\n            {\n                webBuilder.UseStartup&lt;Startup&gt;();\n            })\n            ;\n        }\n    }\n}\n</code></pre>\n<p>I could access the configuration fine in <code>Startup.cs</code>:</p>\n<pre><code>using Microsoft.AspNetCore.Builder;\nusing Microsoft.AspNetCore.Hosting;\nusing Microsoft.Extensions.Configuration;\nusing Microsoft.Extensions.DependencyInjection;\nusing Model;\n\nnamespace API\n{\n    public class Startup\n    {\n        public IConfiguration Configuration { get; }\n\n        public Startup(IConfiguration configuration)\n        {\n            Configuration = configuration;\n        }\n\n        // This method gets called by the runtime. Use this method to add services to the container.\n        public void ConfigureServices(IServiceCollection services)\n        {\n            var myOptions = Configuration.To&lt;ApiConfig&gt;();\n            services.AddAuthentication(myOptions.Secret);\n            services.AddControllers();\n        }\n\n        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n        public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n        {\n            app.UseRouting();\n            app.UseAuthentication();\n            app.UseAuthorization();\n            app.UseEndpoints(endpoints =&gt; { endpoints.MapControllers(); });\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 655, "user_id": 1928237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vVUr5.jpg?s=128&g=1", "display_name": "mRizvandi", "link": "https://stackoverflow.com/users/1928237/mrizvandi"}, "edited": false, "score": 0, "creation_date": 1617267386, "post_id": 66427369, "comment_id": 118258746, "body": "how to access the globalConfig in controller?"}, {"owner": {"reputation": 377, "user_id": 3812928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4dc137fa3a57edd0fe67e59245039be?s=128&d=identicon&r=PG&f=1", "display_name": "NotoriousPyro", "link": "https://stackoverflow.com/users/3812928/notoriouspyro"}, "reply_to_user": {"reputation": 655, "user_id": 1928237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vVUr5.jpg?s=128&g=1", "display_name": "mRizvandi", "link": "https://stackoverflow.com/users/1928237/mrizvandi"}, "edited": false, "score": 1, "creation_date": 1617372637, "post_id": 66427369, "comment_id": 118291938, "body": "I expanded the example. Hopefully this helps..."}], "tags": [], "owner": {"reputation": 377, "user_id": 3812928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4dc137fa3a57edd0fe67e59245039be?s=128&d=identicon&r=PG&f=1", "display_name": "NotoriousPyro", "link": "https://stackoverflow.com/users/3812928/notoriouspyro"}, "is_accepted": false, "score": 0, "last_activity_date": 1617373079, "last_edit_date": 1617373079, "creation_date": 1614622282, "answer_id": 66427369, "question_id": 46940710, "link": "https://stackoverflow.com/questions/46940710/getting-value-from-appsettings-json-in-net-core/66427369#66427369", "title": "Getting value from appsettings.json in .net core", "body": "<p>I found it easiest to do it the following with .NET Core 3+. I found all the other methods of using HostBuilders etc to be a bit longwinded and not as readable. This is not specifically for ASP.Net but you can adapt it...</p>\n<p>Create the json:</p>\n<pre><code>{\n&quot;GlobalConfig&quot;: {\n    &quot;BlacklistedPairs&quot;: [ &quot;USD&quot;, &quot;USDT&quot;, &quot;BUSD&quot;, &quot;TUSD&quot;, &quot;USDC&quot;, &quot;DAI&quot;, &quot;USDK&quot; ]\n},\n&quot;CoinTrackingConfig&quot;: {\n    &quot;Cookie1&quot;: &quot;&quot;,\n    &quot;Cookie2&quot;: &quot;&quot;,\n    &quot;ApiKey&quot;: &quot;&quot;,\n    &quot;ApiSecret&quot;: &quot;&quot;,\n    &quot;UpdateJobs&quot;: [\n    {\n        &quot;Name&quot;: &quot;Binance&quot;,\n        &quot;Path&quot;: &quot;binance_api&quot;,\n        &quot;JobId&quot;: 42202\n    },\n    {\n        &quot;Name&quot;: &quot;Bitfinex&quot;,\n        &quot;Path&quot;: &quot;bitfinex_api&quot;,\n        &quot;JobId&quot;: 9708\n    }\n    ]\n},\n&quot;DiscordConfig&quot;: {\n    &quot;BotToken&quot;: &quot;&quot;\n}\n}\n</code></pre>\n<p>Create the class for the json objects:</p>\n<pre><code>class GlobalConfig\n{\n    public string[] BlacklistedPairs { get; set; }\n}\nclass CoinTrackingConfig\n{\n    public string Cookie1 { get; set; }\n    public string Cookie2 { get; set; }\n    public string ApiKey { get; set; }\n    public string ApiSecret { get; set; }\n    public List&lt;CoinTrackingUpdateJobs&gt; UpdateJobs { get; set; }\n}\n\nclass CoinTrackingUpdateJobs\n{\n    public string Name { get; set; }\n    public string Path { get; set; }\n    public int JobId { get; set; }\n}\n\nclass DiscordConfig\n{\n    public string BotToken { get; set; }\n}\n</code></pre>\n<p>Create a helper class:</p>\n<pre><code>private class Config\n{\n    private IConfigurationRoot _configuration;\n    public Config(string config) =&gt; _configuration = new ConfigurationBuilder()\n            .AddJsonFile(config)\n            .Build();\n\n    public T Get&lt;T&gt;() where T : new()\n    {\n        var obj = new T();\n        _configuration.GetSection(typeof(T).Name).Bind(obj);\n        return obj;\n    }\n}\n</code></pre>\n<p>The service provider options and service constructor:</p>\n<pre><code>public class DiscordServiceOptions\n{\n    public string BotToken { get; set; }\n}\n\npublic DiscordService(IOptions&lt;DiscordServiceOptions&gt; options, ILogger&lt;DiscordService&gt; logger)\n{\n    _logger = logger;\n    _client = new DiscordSocketClient();\n    _client.Log += Log;\n    _client.Ready += OnReady;\n    _client.Disconnected += OnDisconnected;\n    _client.LoginAsync(TokenType.Bot, options.Value.BotToken);\n    _client.StartAsync();\n}\n</code></pre>\n<p>Initialise it like so (Pass in the config into the service provider - the IOptions will be passed in when the service is built):</p>\n<pre><code>static async Task Main(string[] args)\n{\n    var _config = new Config(&quot;config.json&quot;);\n\n    var globalConfig = config.Get&lt;GlobalConfig&gt;();\n    var coinTrackingConfig = config.Get&lt;CoinTrackingConfig&gt;();\n    var discordConfig = config.Get&lt;DiscordConfig&gt;();\n\n    _services = new ServiceCollection()\n        .AddOptions()\n        .Configure&lt;DiscordServiceOptions&gt;(options =&gt;\n        {\n            options.BotToken = discordConfig.BotToken;\n        })\n        .AddSingleton&lt;IDiscordService, DiscordService&gt;()\n        .AddLogging(logging =&gt;\n        {\n            logging.SetMinimumLevel(LogLevel.Trace);\n            logging.AddNLog(new NLogProviderOptions\n            {\n                CaptureMessageTemplates = true,\n                CaptureMessageProperties = true\n            });\n        })\n        .BuildServiceProvider();\n}\n</code></pre>\n"}], "owner": {"reputation": 2840, "user_id": 4183032, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7ffce9ee5bd94e563a2e2f3d9d3be863?s=128&d=identicon&r=PG&f=1", "display_name": "aman", "link": "https://stackoverflow.com/users/4183032/aman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346587, "favorite_count": 68, "accepted_answer_id": 46940811, "answer_count": 15, "score": 212, "last_activity_date": 1617373079, "creation_date": 1508959988, "last_edit_date": 1591617343, "question_id": 46940710, "link": "https://stackoverflow.com/questions/46940710/getting-value-from-appsettings-json-in-net-core", "title": "Getting value from appsettings.json in .net core", "body": "<p>Not sure what am I missing here but I am not able to get the values from my appsettings.json in my .net core application. I have my appsettings.json as:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n    \"AppSettings\": {\n        \"Version\": \"One\"\n    }\n}\n</code></pre>\n\n<p>Startup:</p>\n\n<pre><code>public class Startup\n{\n    private IConfigurationRoot _configuration;\n    public Startup(IHostingEnvironment env)\n    {\n        _configuration = new ConfigurationBuilder()\n    }\n    public void ConfigureServices(IServiceCollection services)\n    {\n      //Here I setup to read appsettings        \n      services.Configure&lt;AppSettings&gt;(_configuration.GetSection(\"AppSettings\"));\n    }\n}\n</code></pre>\n\n<p>Model:</p>\n\n<pre><code>public class AppSettings\n{\n    public string Version{ get; set; }\n}\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>public class HomeController : Controller\n{\n    private readonly AppSettings _mySettings;\n\n    public HomeController(IOptions&lt;AppSettings&gt; settings)\n    {\n        //This is always null\n        _mySettings = settings.Value;\n    }\n}\n</code></pre>\n\n<p><code>_mySettings</code> is always null. Is there something that I am missing here?</p>\n"}, {"tags": ["c#", "entity-framework", "asp.net-web-api", "odata"], "comments": [{"owner": {"reputation": 516, "user_id": 1182461, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/00308b8042dc6c9344c3db5e0e37ebec?s=128&d=identicon&r=PG", "display_name": "James Crosswell", "link": "https://stackoverflow.com/users/1182461/james-crosswell"}, "edited": false, "score": 0, "creation_date": 1508963395, "post_id": 46940668, "comment_id": 80830304, "body": "I think <a href=\"https://stackoverflow.com/questions/13372276/simple-way-to-transpose-columns-and-rows-in-sql/13377114#13377114\">this post</a> has the answer you&#39;re looking for."}, {"owner": {"reputation": 33, "user_id": 2167020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUdJ1.jpg?s=128&g=1", "display_name": "Gustavo Corr&#234;ia", "link": "https://stackoverflow.com/users/2167020/gustavo-corr%c3%aaia"}, "reply_to_user": {"reputation": 516, "user_id": 1182461, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/00308b8042dc6c9344c3db5e0e37ebec?s=128&d=identicon&r=PG", "display_name": "James Crosswell", "link": "https://stackoverflow.com/users/1182461/james-crosswell"}, "edited": false, "score": 0, "creation_date": 1509106503, "post_id": 46940668, "comment_id": 80897006, "body": "I used that post before to pivot the data on the DB, but that is not what I&#39;m looking for, the problem is in the models... I was able to do it with &quot;open types&quot; in OData."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 2167020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUdJ1.jpg?s=128&g=1", "display_name": "Gustavo Corr&#234;ia", "link": "https://stackoverflow.com/users/2167020/gustavo-corr%c3%aaia"}, "edited": false, "score": 0, "creation_date": 1509106364, "post_id": 46955444, "comment_id": 80896903, "body": "That worked! Thank you very much. Now the API is able to serve the open type, and some of the filters are working. I&#39;m still figuring out a way to $select on the open types, such as, if I wanted the API to return only the values of the year 1985..."}, {"owner": {"reputation": 3322, "user_id": 5061263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EZnQE.png?s=128&g=1", "display_name": "TomDoesCode", "link": "https://stackoverflow.com/users/5061263/tomdoescode"}, "reply_to_user": {"reputation": 33, "user_id": 2167020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUdJ1.jpg?s=128&g=1", "display_name": "Gustavo Corr&#234;ia", "link": "https://stackoverflow.com/users/2167020/gustavo-corr%c3%aaia"}, "edited": false, "score": 0, "creation_date": 1509106742, "post_id": 46955444, "comment_id": 80897130, "body": "That&#39;s great, can you accept the answer if it has solved the issue :)  You should be able to do <code>$select</code> and <code>$filter</code> on the dynamic properties as though they were normal properties"}, {"owner": {"reputation": 33, "user_id": 2167020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUdJ1.jpg?s=128&g=1", "display_name": "Gustavo Corr&#234;ia", "link": "https://stackoverflow.com/users/2167020/gustavo-corr%c3%aaia"}, "edited": false, "score": 0, "creation_date": 1509107481, "post_id": 46955444, "comment_id": 80897572, "body": "I&#39;m able to select on the properties that are not dynamic, when I try to <code>$select</code> on the year, I get the following error: <code>{     &quot;error&quot;: {         &quot;code&quot;: &quot;&quot;,         &quot;message&quot;: &quot;The query specified in the URI is not valid. An identifier was expected at position 0.&quot;,         &quot;innererror&quot;: {             &quot;message&quot;: &quot;An identifier was expected at position 0.&quot;,             &quot;type&quot;: &quot;Microsoft.OData.ODataException&quot;,             &quot;stacktrace&quot;: &quot;  ...</code>"}, {"owner": {"reputation": 3322, "user_id": 5061263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EZnQE.png?s=128&g=1", "display_name": "TomDoesCode", "link": "https://stackoverflow.com/users/5061263/tomdoescode"}, "reply_to_user": {"reputation": 33, "user_id": 2167020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUdJ1.jpg?s=128&g=1", "display_name": "Gustavo Corr&#234;ia", "link": "https://stackoverflow.com/users/2167020/gustavo-corr%c3%aaia"}, "edited": false, "score": 0, "creation_date": 1509108331, "post_id": 46955444, "comment_id": 80898098, "body": "Could you create a new question for this as it is a different problem to this question and that means that there will be a lot more space to see the issue. Make sure that you post the URL that you used in the questions"}, {"owner": {"reputation": 33, "user_id": 2167020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUdJ1.jpg?s=128&g=1", "display_name": "Gustavo Corr&#234;ia", "link": "https://stackoverflow.com/users/2167020/gustavo-corr%c3%aaia"}, "edited": false, "score": 0, "creation_date": 1509108980, "post_id": 46955444, "comment_id": 80898548, "body": "Yes!!! I will do it right now. =]... Am I supposed to close this question? How do I do it?"}, {"owner": {"reputation": 3322, "user_id": 5061263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EZnQE.png?s=128&g=1", "display_name": "TomDoesCode", "link": "https://stackoverflow.com/users/5061263/tomdoescode"}, "reply_to_user": {"reputation": 33, "user_id": 2167020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUdJ1.jpg?s=128&g=1", "display_name": "Gustavo Corr&#234;ia", "link": "https://stackoverflow.com/users/2167020/gustavo-corr%c3%aaia"}, "edited": false, "score": 0, "creation_date": 1509109873, "post_id": 46955444, "comment_id": 80899163, "body": "Don&#39;t forget to make this question as answered so that other people know that it is answered :)"}, {"owner": {"reputation": 33, "user_id": 2167020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUdJ1.jpg?s=128&g=1", "display_name": "Gustavo Corr&#234;ia", "link": "https://stackoverflow.com/users/2167020/gustavo-corr%c3%aaia"}, "edited": false, "score": 0, "creation_date": 1509110602, "post_id": 46955444, "comment_id": 80899613, "body": "Ok!! =] The other question is here: <a href=\"https://stackoverflow.com/questions/46976034/how-to-select-on-odata-open-data-type-query-not-valid-error\" title=\"how to select on odata open data type query not valid error\">stackoverflow.com/questions/46976034/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3322, "user_id": 5061263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EZnQE.png?s=128&g=1", "display_name": "TomDoesCode", "link": "https://stackoverflow.com/users/5061263/tomdoescode"}, "is_accepted": true, "score": 2, "last_activity_date": 1509023914, "creation_date": 1509023914, "answer_id": 46955444, "question_id": 46940668, "link": "https://stackoverflow.com/questions/46940668/how-to-have-dynamic-queryable-entities-in-odata-v4-api/46955444#46955444", "title": "How to have Dynamic Queryable Entities in OData v4 API?", "body": "<p>OData has a concept of \"open types\" that I think will help you to achieve what you are looking for. They essentially let you add any properties onto an object.</p>\n\n<p>If you are using the <code>ODataConventionModelBuilder</code>, it is as simple as adding a property of type <code>IDictionary&lt;string, object&gt;</code> to your model class like this:</p>\n\n<pre><code>public IDictionary&lt;string, object&gt; Properties { get; set; }\n</code></pre>\n\n<p>You can find more details here: \n<a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/use-open-types-in-odata-v4\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/use-open-types-in-odata-v4</a></p>\n"}], "owner": {"reputation": 33, "user_id": 2167020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUdJ1.jpg?s=128&g=1", "display_name": "Gustavo Corr&#234;ia", "link": "https://stackoverflow.com/users/2167020/gustavo-corr%c3%aaia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1886, "favorite_count": 1, "accepted_answer_id": 46955444, "answer_count": 1, "score": 3, "last_activity_date": 1509023914, "creation_date": 1508959855, "question_id": 46940668, "link": "https://stackoverflow.com/questions/46940668/how-to-have-dynamic-queryable-entities-in-odata-v4-api", "title": "How to have Dynamic Queryable Entities in OData v4 API?", "body": "<p>In the task of building a web api using OData v4, entity and C#, I got stuck in the following problem. I have a view in my DB (SQL Server) that has some yearly info as rows, such as... </p>\n\n<pre><code>    |Year |Value |\n     1985  8.7\n     1986  8.8\n</code></pre>\n\n<p>But I need to serve them as columns: </p>\n\n<pre><code>    |1985 |1986 |\n     8.7    8.8\n</code></pre>\n\n<p>The years are dynamic, I couldn't find a way to create a model class that is dynamic. Because of that, I couldn't find a way to serve the data in the controller. I was able to pivot the information using C# code, but OData doesn't serve it, because there was no corresponding model. </p>\n\n<p>I tried to use a library called <a href=\"http://www.codeducky.org/creating-dynamic-odata-grid-medallionodata-jquery-datatables/\" rel=\"nofollow noreferrer\">MedallionOdata</a>, it has a ODataEntity that was supposed to be dynamic and Queryable, but I couldn't make it work.</p>\n\n<p>What is the best way to serve dynamic entities keeping the queryable aspects of OData?</p>\n"}, {"tags": ["c#", "sql-server", "entity-framework", "asp.net-core-2.0"], "answers": [{"tags": [], "owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "is_accepted": true, "score": 1, "last_activity_date": 1508959565, "creation_date": 1508959565, "answer_id": 46940590, "question_id": 46940552, "link": "https://stackoverflow.com/questions/46940552/identity-insert-for-multiple-tables-in-net-core-2/46940590#46940590", "title": "IDENTITY_INSERT for multiple tables in .net core 2", "body": "<p>Nope. Look at the documentation of IDENTITY_INSERT. <a href=\"https://docs.microsoft.com/en-us/sql/t-sql/statements/set-identity-insert-transact-sql\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/sql/t-sql/statements/set-identity-insert-transact-sql</a></p>\n\n<p>It clearly states:</p>\n\n<blockquote>\n  <p>At any time, only one table in a session can have the IDENTITY_INSERT\n  property set to ON. If a table already has this property set to ON,\n  and a SET IDENTITY_INSERT ON statement is issued for another table,\n  SQL Server returns an error message that states SET IDENTITY_INSERT is\n  already ON and reports the table it is set ON for.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 632, "user_id": 9888512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/STXlb.jpg?s=128&g=1", "display_name": "MatterOfFact", "link": "https://stackoverflow.com/users/9888512/matteroffact"}, "edited": false, "score": 0, "creation_date": 1555482693, "post_id": 51321714, "comment_id": 98121980, "body": "Thank you for this approach. One additional question: How can I reset the service configuration after seeding? Thanks!"}], "tags": [], "owner": {"reputation": 11, "user_id": 10075149, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/544e11a8814a881ff64ad48b15d623fc?s=128&d=identicon&r=PG", "display_name": "Lars Mengel", "link": "https://stackoverflow.com/users/10075149/lars-mengel"}, "is_accepted": false, "score": 1, "last_activity_date": 1531473386, "creation_date": 1531473386, "answer_id": 51321714, "question_id": 46940552, "link": "https://stackoverflow.com/questions/46940552/identity-insert-for-multiple-tables-in-net-core-2/51321714#51321714", "title": "IDENTITY_INSERT for multiple tables in .net core 2", "body": "<p>I had the same Problem here while seeding data from an object tree stored in a json file. </p>\n\n<p>Example:</p>\n\n<pre><code>jsonData = System.IO.File.ReadAllText(@\"Data\\InputParameters.json\");\nvar inputParameters = JsonConvert.DeserializeObject&lt;List&lt;ParameterCategory&gt;&gt; jsonData, settings);\ncontext.AddRange(inputParameters);\ncontext.SaveChanges();\n</code></pre>\n\n<p>After a look at the EFCore sources I came up with the following solution:</p>\n\n<p><strong>1.</strong> Create a new class \"SqlServerUpdateSqlGeneratorInsertIdentity\" which is responsible for turning Identity_Insert on and off for each insert Operation:</p>\n\n<pre><code>using System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nusing Microsoft.EntityFrameworkCore.SqlServer.Update.Internal;\nusing Microsoft.EntityFrameworkCore.Storage;\nusing Microsoft.EntityFrameworkCore.Update;\n\n/// &lt;summary&gt;\n/// SqlServerUpdateSqlGenerator with Insert_Identity.\n/// &lt;/summary&gt;\npublic class SqlServerUpdateSqlGeneratorInsertIdentity : SqlServerUpdateSqlGenerator\n{\n    /// &lt;summary&gt;\n    /// Initializes a new instance of the &lt;see cref=\"SqlServerUpdateSqlGeneratorInsertIdentity\"/&gt; class.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"dependencies\"&gt;The dependencies.&lt;/param&gt;\n    public SqlServerUpdateSqlGeneratorInsertIdentity(UpdateSqlGeneratorDependencies dependencies)\n        : base(dependencies)\n    {\n    }\n\n    /// &lt;inheritdoc/&gt;\n    public override ResultSetMapping AppendBulkInsertOperation(\n        StringBuilder commandStringBuilder,\n        IReadOnlyList&lt;ModificationCommand&gt; modificationCommands,\n        int commandPosition)\n    {\n        var columns = modificationCommands[0].ColumnModifications.Where(o =&gt; o.IsWrite).Select(o =&gt; o.ColumnName)\n            .ToList();\n        var schema = modificationCommands[0].Schema;\n        var table = modificationCommands[0].TableName;\n\n        GenerateIdentityInsert(commandStringBuilder, table, schema, columns, on: true);\n        var result = base.AppendBulkInsertOperation(commandStringBuilder, modificationCommands, commandPosition);\n        GenerateIdentityInsert(commandStringBuilder, table, schema, columns, on: false);\n\n        return result;\n    }\n\n    private void GenerateIdentityInsert(\n        StringBuilder builder,\n        string table,\n        string schema,\n        IEnumerable&lt;string&gt; columns,\n        bool on)\n    {\n        var stringTypeMapping = Dependencies.TypeMappingSource.GetMapping(typeof(string));\n\n        builder.Append(\"IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE\").Append(\" [name] IN (\")\n            .Append(string.Join(\", \", columns.Select(stringTypeMapping.GenerateSqlLiteral)))\n            .Append(\") AND [object_id] = OBJECT_ID(\").Append(\n                stringTypeMapping.GenerateSqlLiteral(\n                    Dependencies.SqlGenerationHelper.DelimitIdentifier(table, schema))).AppendLine(\"))\");\n\n        builder.Append(\"SET IDENTITY_INSERT \")\n            .Append(Dependencies.SqlGenerationHelper.DelimitIdentifier(table, schema)).Append(on ? \" ON\" : \" OFF\")\n            .AppendLine(Dependencies.SqlGenerationHelper.StatementTerminator);\n    }\n}\n</code></pre>\n\n<p><strong>2.</strong> Replace the original \"SqlServerUpdateSqlGenerator\" by the inherited new one:</p>\n\n<p>In Startup.cs - ConfigureServices use the following code:</p>\n\n<pre><code>services.AddDbContext&lt;YourDataContext&gt;(options =&gt;\n{\n    options.UseSqlServer(YourConnectionString);\n    options.ReplaceService&lt;ISqlServerUpdateSqlGenerator, SqlServerUpdateSqlGeneratorInsertIdentity&gt;();\n});\n</code></pre>\n\n<p><strong>Or</strong> in YourDataContext.cs - OnConfiguring use this one (not tested):</p>\n\n<pre><code>options.ReplaceService&lt;ISqlServerUpdateSqlGenerator, SqlServerUpdateSqlGeneratorInsertIdentity&gt;();\n</code></pre>\n\n<p>It may be necessary to reset the service configuration to it\u00b4s original after seeding. In my case it wasn\u00b4t.</p>\n\n<p>Hope that\u00b4ll help someone...</p>\n"}], "owner": {"reputation": 1343, "user_id": 5478049, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d54b609773fe17890dac8e1bc6b96ee0?s=128&d=identicon&r=PG&f=1", "display_name": "Shiran Dror", "link": "https://stackoverflow.com/users/5478049/shiran-dror"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 861, "favorite_count": 0, "accepted_answer_id": 46940590, "answer_count": 2, "score": 0, "last_activity_date": 1531473386, "creation_date": 1508959415, "question_id": 46940552, "link": "https://stackoverflow.com/questions/46940552/identity-insert-for-multiple-tables-in-net-core-2", "title": "IDENTITY_INSERT for multiple tables in .net core 2", "body": "<p>I'm trying to migrate data from an existing database to a new one. The old database is very entangled, meaning most tables have relationships to many other tables based on foreign ids. I came across this solution for inserting ids:</p>\n\n<pre><code>using (var context = new EmployeeContext())\n{\n    context.Employees.Add(new Employee { EmployeeId = 100, Name = \"John Doe\" });\n    context.Employees.Add(new Employee { EmployeeId = 101, Name = \"Jane Doe\" });\n\n    context.Database.OpenConnection();\n    try\n    {\n        context.Database.ExecuteSqlCommand(\"SET IDENTITY_INSERT dbo.Employees ON\");\n        context.SaveChanges();\n        context.Database.ExecuteSqlCommand(\"SET IDENTITY_INSERT dbo.Employees OFF\");\n    }\n    finally\n    {\n        context.Database.CloseConnection();\n    }\n\n\n    foreach (var employee in context.Employees)\n    {\n        Console.WriteLine(employee.EmployeeId + \": \" + employee.Name);\n    }\n}\n</code></pre>\n\n<p>from this Microsoft guide: <a href=\"https://docs.microsoft.com/en-us/ef/core/saving/explicit-values-generated-properties\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/ef/core/saving/explicit-values-generated-properties</a></p>\n\n<p>Is there a way to set <code>IDENTITY_INSERT</code> on multiple tables before applying <code>context.SaveChanges();</code>?</p>\n"}, {"tags": ["c#", "azure", "azure-functions", "azure-web-app-service", "azure-webjobssdk"], "answers": [{"comments": [{"owner": {"reputation": 5172, "user_id": 171632, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17ca264278bb4819d7ea057e4888612f?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/171632/mike"}, "edited": false, "score": 0, "creation_date": 1508962498, "post_id": 46941022, "comment_id": 80829874, "body": "That was exactly the issue.  I had other code that required 8.x.x that I removed to simplify the example.  Once I removed the reference everything worked as expected.  Thanks!"}, {"owner": {"reputation": 30010, "user_id": 1171619, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6f1d9a240fc75d00c4a4ffa000ea4bd1?s=128&d=identicon&r=PG", "display_name": "Mikhail Shilkov", "link": "https://stackoverflow.com/users/1171619/mikhail-shilkov"}, "reply_to_user": {"reputation": 5172, "user_id": 171632, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17ca264278bb4819d7ea057e4888612f?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/171632/mike"}, "edited": false, "score": 0, "creation_date": 1508962834, "post_id": 46941022, "comment_id": 80830041, "body": "Yeh, that&#39;s a known problem with assembly version conflicts and lack of binding redirects. Very confusing, but no proper solution yet."}], "tags": [], "owner": {"reputation": 30010, "user_id": 1171619, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6f1d9a240fc75d00c4a4ffa000ea4bd1?s=128&d=identicon&r=PG", "display_name": "Mikhail Shilkov", "link": "https://stackoverflow.com/users/1171619/mikhail-shilkov"}, "is_accepted": true, "score": 6, "last_activity_date": 1508961255, "creation_date": 1508961255, "answer_id": 46941022, "question_id": 46940492, "link": "https://stackoverflow.com/questions/46940492/how-can-i-use-a-blobtrigger-to-bind-to-cloudblockblob-in-an-azure-function/46941022#46941022", "title": "How can I use a BlobTrigger to bind to CloudBlockBlob in an Azure Function?", "body": "<p>You are probably referencing some NuGet package that has a dependency on non-compatible version of <code>WindowsAzure.Storage</code> assembly (version <code>8.x.x</code>). If so, be sure to remove it. Unless you are using some additional binding, your <code>csproj</code> references should look as simple as this:</p>\n\n<pre><code>&lt;ItemGroup&gt;           \n    &lt;PackageReference Include=\"Microsoft.NET.Sdk.Functions\" Version=\"1.0.6\" /&gt;\n&lt;/ItemGroup&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 30010, "user_id": 1171619, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6f1d9a240fc75d00c4a4ffa000ea4bd1?s=128&d=identicon&r=PG", "display_name": "Mikhail Shilkov", "link": "https://stackoverflow.com/users/1171619/mikhail-shilkov"}, "edited": false, "score": 1, "creation_date": 1508962281, "post_id": 46941092, "comment_id": 80829771, "body": "He&#39;s probably just connecting to Azure Storage. Connectivity issue will give another error."}], "tags": [], "owner": {"reputation": 10685, "user_id": 4079967, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/509151049/picture?type=large", "display_name": "Kevin Smith", "link": "https://stackoverflow.com/users/4079967/kevin-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1508961548, "creation_date": 1508961548, "answer_id": 46941092, "question_id": 46940492, "link": "https://stackoverflow.com/questions/46940492/how-can-i-use-a-blobtrigger-to-bind-to-cloudblockblob-in-an-azure-function/46941092#46941092", "title": "How can I use a BlobTrigger to bind to CloudBlockBlob in an Azure Function?", "body": "<p>Make sure you are running the Azure Storage Emulator:</p>\n\n<pre><code>cd C:\\Program Files (x86)\\Microsoft SDKs\\Azure\\Storage Emulator\n\nC:\\Program Files (x86)\\Microsoft SDKs\\Azure\\Storage Emulator&gt; AzureStorageEmulator.exe start\nWindows Azure Storage Emulator 5.2.0.0 command line tool\nAutodetect requested. Autodetecting SQL Instance to use.\nLooking for a LocalDB Installation.\nProbing SQL Instance: '(localdb)\\MSSQLLocalDB'.\nFound a LocalDB Installation.\nProbing SQL Instance: '(localdb)\\MSSQLLocalDB'.\nFound SQL Instance (localdb)\\MSSQLLocalDB.\nCreating database AzureStorageEmulatorDb52 on SQL instance '(localdb)\\MSSQLLocalDB'.\n</code></pre>\n"}], "owner": {"reputation": 5172, "user_id": 171632, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17ca264278bb4819d7ea057e4888612f?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/171632/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2054, "favorite_count": 0, "accepted_answer_id": 46941022, "answer_count": 2, "score": 6, "last_activity_date": 1509303086, "creation_date": 1508959207, "last_edit_date": 1509303086, "question_id": 46940492, "link": "https://stackoverflow.com/questions/46940492/how-can-i-use-a-blobtrigger-to-bind-to-cloudblockblob-in-an-azure-function", "title": "How can I use a BlobTrigger to bind to CloudBlockBlob in an Azure Function?", "body": "<p>I have the following function in my project:</p>\n\n<pre><code>[FunctionName(\"my-func\")]\npublic static async Task Run([BlobTrigger(\"data/{name}\")] CloudBlockBlob blob, string name, TraceWriter log)\n{\n    log.Info($\"Started Processing: {name}\");\n\n    await blob.DeleteAsync();\n\n    log.Info($\"Finished Processing: {name}\");\n}\n</code></pre>\n\n<p>When I attempt to run the function locally using v1.0.4 of the Azure Functions CLI I get this error: </p>\n\n<pre><code>Microsoft.Azure.WebJobs.Host: Error indexing method 'SampleFunction.Run'. Microsoft.Azure.WebJobs.Host: Can't bind BlobTrigger to type 'Microsoft.WindowsAzure.Storage.Blob.CloudBlockBlob'.\n</code></pre>\n\n<p>All documentation I have seen for Azure Functions and WebJobs SDK say this is supported.</p>\n\n<p><a href=\"https://github.com/Azure/azure-webjobs-sdk/wiki/Blobs#-types-that-you-can-bind-to-blobs\" rel=\"noreferrer\">https://github.com/Azure/azure-webjobs-sdk/wiki/Blobs#-types-that-you-can-bind-to-blobs</a></p>\n"}, {"tags": ["c#", ".net", "algorithm", "sorting"], "comments": [{"owner": {"reputation": 90105, "user_id": 106159, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Qfp6z.png?s=128&g=1", "display_name": "Matthew Watson", "link": "https://stackoverflow.com/users/106159/matthew-watson"}, "edited": false, "score": 8, "creation_date": 1508958870, "post_id": 46940346, "comment_id": 80827950, "body": "Your example doesn&#39;t make sense. What happened to the <code>9</code>? Otherwise, I would suggest <a href=\"https://msdn.microsoft.com/en-us/library/8ce6t5ad(v=vs.110).aspx\" rel=\"nofollow noreferrer\">this</a>."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 90105, "user_id": 106159, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Qfp6z.png?s=128&g=1", "display_name": "Matthew Watson", "link": "https://stackoverflow.com/users/106159/matthew-watson"}, "edited": false, "score": 0, "creation_date": 1508959060, "post_id": 46940346, "comment_id": 80828059, "body": "@MatthewWatson the upper bound is exclusive (<code>[a, b)</code>) and doesn&#39;t include the <code>9</code>."}, {"owner": {"reputation": 90105, "user_id": 106159, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Qfp6z.png?s=128&g=1", "display_name": "Matthew Watson", "link": "https://stackoverflow.com/users/106159/matthew-watson"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 3, "creation_date": 1508959099, "post_id": 46940346, "comment_id": 80828076, "body": "@Amy If that were true, it wouldn&#39;t include the <code>5</code> either - but there it is, in the output..."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 90105, "user_id": 106159, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Qfp6z.png?s=128&g=1", "display_name": "Matthew Watson", "link": "https://stackoverflow.com/users/106159/matthew-watson"}, "edited": false, "score": 0, "creation_date": 1508959142, "post_id": 46940346, "comment_id": 80828099, "body": "@MatthewWatson the range is <code>[0,4)</code>, which is <code>1, 5, 3, 1</code>, which is sorted in place."}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1508959200, "post_id": 46940346, "comment_id": 80828138, "body": "@Amy right.. which means the <code>9</code> should be before the <code>2</code>, as it is outside the range that is being sorted, so it should be unchanged."}, {"owner": {"reputation": 90105, "user_id": 106159, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Qfp6z.png?s=128&g=1", "display_name": "Matthew Watson", "link": "https://stackoverflow.com/users/106159/matthew-watson"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1508959241, "post_id": 46940346, "comment_id": 80828157, "body": "@Amy But the output includes the <code>2, 4</code> at the end, so why doesn&#39;t it include the <code>9</code>? I&#39;m assuming the range is the range of indices to be sorted - so fine, it would sort within that range, but the other elements would remain - the number of items in the list wouldn&#39;t change, and one element wouldn&#39;t mysteriously go missing."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 90105, "user_id": 106159, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Qfp6z.png?s=128&g=1", "display_name": "Matthew Watson", "link": "https://stackoverflow.com/users/106159/matthew-watson"}, "edited": false, "score": 0, "creation_date": 1508959270, "post_id": 46940346, "comment_id": 80828174, "body": "@MatthewWatson I see now, I misunderstood your original comment.  Please disregard."}, {"owner": {"reputation": 90105, "user_id": 106159, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Qfp6z.png?s=128&g=1", "display_name": "Matthew Watson", "link": "https://stackoverflow.com/users/106159/matthew-watson"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1508959405, "post_id": 46940346, "comment_id": 80828252, "body": "@Amy Just to clarify, my &quot;if that were true&quot; comment was assuming that the range was related to element values rather than indices (which is what I thought you were getting at), hence that comment of mine doesn&#39;t actually make much sense... ;)"}, {"owner": {"reputation": 1531, "user_id": 4645236, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QVYcq.jpg?s=128&g=1", "display_name": "hellyale", "link": "https://stackoverflow.com/users/4645236/hellyale"}, "edited": false, "score": 0, "creation_date": 1508960933, "post_id": 46940346, "comment_id": 80829071, "body": "@Will best practice zombies is listed in your profile description twice"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 0, "creation_date": 1508961031, "post_id": 46940346, "comment_id": 80829132, "body": "Different phrasing for different purposes :/"}], "answers": [{"comments": [{"owner": {"reputation": 7770, "user_id": 2142028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ltfco.jpg?s=128&g=1", "display_name": "Maciej Los", "link": "https://stackoverflow.com/users/2142028/maciej-los"}, "edited": false, "score": 1, "creation_date": 1508959132, "post_id": 46940447, "comment_id": 80828093, "body": "The answer corresponds to @Matthew Watson comment ;) +1 for both of you."}, {"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 0, "creation_date": 1508959307, "post_id": 46940447, "comment_id": 80828196, "body": "I&#39;m getting <code>1, 1, 3, 5, 9, 2, 4</code> when I run this - which makes sense.  It doesn&#39;t match OP&#39;s desired output, though, which I&#39;m starting to believe is probably just a typo."}, {"owner": {"reputation": 1531, "user_id": 4645236, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QVYcq.jpg?s=128&g=1", "display_name": "hellyale", "link": "https://stackoverflow.com/users/4645236/hellyale"}, "reply_to_user": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 1, "creation_date": 1508959335, "post_id": 46940447, "comment_id": 80828207, "body": "@Jonesopolis pretty sure OP typo&#39;d"}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1508960955, "post_id": 46940447, "comment_id": 80829082, "body": "Just a note that <a href=\"https://msdn.microsoft.com/en-us/library/8ce6t5ad(v=vs.110).aspx\" rel=\"nofollow noreferrer\">MSDN says</a> you can pass <code>null</code> as the comparer, and it will automatically use the default for that type. It simplifies the code slightly."}], "tags": [], "owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "is_accepted": false, "score": 7, "last_activity_date": 1508959013, "creation_date": 1508959013, "answer_id": 46940447, "question_id": 46940346, "link": "https://stackoverflow.com/questions/46940346/does-net-have-a-way-to-sort-a-list-between-bounds/46940447#46940447", "title": "Does .NET have a way to sort a list between bounds?", "body": "<pre><code>var list = new List&lt;int&gt; { 1, 5, 3, 1, 9, 2, 4 };\nlist.Sort(0, 4,Comparer&lt;int&gt;.Default);\n</code></pre>\n"}], "owner": {"reputation": 279, "user_id": 8624349, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/8c1098b4c2bc79406948737f55157a65?s=128&d=identicon&r=PG&f=1", "display_name": "Questionaire", "link": "https://stackoverflow.com/users/8624349/questionaire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "closed_date": 1508964841, "answer_count": 1, "score": -1, "last_activity_date": 1508959013, "creation_date": 1508958667, "last_edit_date": 1508958916, "question_id": 46940346, "link": "https://stackoverflow.com/questions/46940346/does-net-have-a-way-to-sort-a-list-between-bounds", "closed_reason": "Not suitable for this site", "title": "Does .NET have a way to sort a list between bounds?", "body": "<p>Simple question so I don't have to reinvent the wheel if I don't have to. </p>\n\n<p>Does .NET have a method equivalent to </p>\n\n<pre><code>// sorts a list in-place between bounds [a, b)\npublic static void SortBounds&lt;T&gt;(this List&lt;T&gt; list, int a, int b)\n{\n    // ... \n}\n</code></pre>\n\n<p>(possibly with an optional predicate)?</p>\n\n<p>Example: </p>\n\n<pre><code>var list = {1, 5, 3, 1, 9, 2, 4 }\nlist.SortBounds(0, 4);\n// now list is {1, 1, 3, 5, 2, 4 }\n</code></pre>\n"}, {"tags": ["c#", "json", "xamarin.forms"], "answers": [{"comments": [{"owner": {"reputation": 1432, "user_id": 4371664, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/hamlb.png?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/4371664/robin"}, "edited": false, "score": 0, "creation_date": 1508958888, "post_id": 46940291, "comment_id": 80827958, "body": "I tried that too, but that didn&#39;t solve the issue... Also tried the edit you made with the SDK Assembly."}], "tags": [], "owner": {"reputation": 1121, "user_id": 3618341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tMB8m.png?s=128&g=1", "display_name": "flyte", "link": "https://stackoverflow.com/users/3618341/flyte"}, "is_accepted": false, "score": 0, "last_activity_date": 1508958512, "creation_date": 1508958512, "answer_id": 46940291, "question_id": 46940230, "link": "https://stackoverflow.com/questions/46940230/cant-deserializeobject-json-xamarin/46940291#46940291", "title": "Can&#39;t DeserializeObject Json Xamarin", "body": "<p>As the error message is indicating, try adding a default constructor to the class in question:</p>\n\n<pre><code> public class Data\n {\n    [JsonProperty(\"data\")]\n    public DJData DjData { get; set; }\n\n    public Data() {}\n }\n</code></pre>\n\n<p>Also check what <a href=\"https://stackoverflow.com/questions/27938529/jsonserializationexception-unable-to-find-a-constructor-on-xamarin-android\">this post</a> is suggesting:</p>\n\n<blockquote>\n  <p>In the 'Android options' tab of the project properties, there is a\n  'linker' tab. Is the selected option in the 'Linking' dropdown \"Sdk\n  Assemblies only\" or is it \"Sdk and user assemblies\"?</p>\n  \n  <p>If it is the latter, the parameterless constructor is skipped when\n  linking, because no use is detected. So change it to \"Sdk Assemblies\n  only\".</p>\n</blockquote>\n"}], "owner": {"reputation": 1432, "user_id": 4371664, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/hamlb.png?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/4371664/robin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508958512, "creation_date": 1508958297, "question_id": 46940230, "link": "https://stackoverflow.com/questions/46940230/cant-deserializeobject-json-xamarin", "title": "Can&#39;t DeserializeObject Json Xamarin", "body": "<p>I'm having trouble deserializing Json in xamarin.</p>\n\n<p>I'm getting this issue:</p>\n\n<pre><code>Newtonsoft.Json.JsonSerializationException: Unable to find a constructor to use for type RadioApp.Model.Data. A class should either have a default constructor, one constructor with arguments or a constructor marked with the JsonConstructor attribute. Path 'data', line 1, position 8.\n</code></pre>\n\n<p>Now, This is the class I'm using:</p>\n\n<pre><code>using Newtonsoft.Json;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace RadioApp.Model\n{\n    public class Data\n    {\n        [JsonProperty(\"data\")]\n        public DJData DjData { get; set; }\n    }\n\n\n    public class DJData\n    {\n        [JsonProperty(\"listeners\")]\n        public int Listeners { get; set; }\n        [JsonProperty(\"song\")]\n        public string Song { get; set; }\n        [JsonProperty(\"live_dj\")]\n        public string DJ { get; set; }\n        [JsonProperty(\"song_history\")]\n        public SongHistory[] song_history { get; set; }\n    }\n\n\n    public class SongHistory\n    {\n        public int playedat { get; set; }\n        public string title { get; set; }\n        public Metadata metadata { get; set; }\n    }\n\n    public class Metadata\n    {\n        public string tit2 { get; set; }\n    }\n\n\n\n}\n</code></pre>\n\n<p>Here is the string I get:</p>\n\n<pre><code>[0:] Result: {\"data\":{\"listeners\":78,\"song\":\"Shawn Wasabi - OTTER POP (ft. Hollis)\",\"live_dj\":\"Tyeisha\",\"mini_rooster\":[],\"song_history\":[{\"playedat\":1508958065,\"title\":\"Shawn Wasabi - OTTER POP (ft. Hollis)\",\"metadata\":{\"tit2\":\"Shawn Wasabi - OTTER POP (ft. Hollis)\"}},{\"playedat\":1508957837,\"title\":\"Katy Perry Ft. Nicki Minaj - Swish Swish\",\"metadata\":{\"tit2\":\"Katy Perry Ft. Nicki Minaj - Swish Swish\"}},{\"playedat\":1508957710,\"title\":\"HOUSE OF GOLDTWENTY ONE PILOTS\",\"metadata\":{\"tit2\":\"HOUSE OF GOLDTWENTY ONE PILOTS\"}},{\"playedat\":1508957363,\"title\":\"K.Flay - High Enough\",\"metadata\":{\"tit2\":\"K.Flay - High Enough\"}},{\"playedat\":1508957177,\"title\":\"Melanie Martinez - Dollhouse (Jai Wolf Remix)\",\"metadata\":{\"tit2\":\"Melanie Martinez - Dollhouse (Jai Wolf Remix)\"}},{\"playedat\":1508956744,\"title\":\"Calvin Harris Ft. Pharrell Williams, Katy Perry &amp; Big Sean - Feels\",\"metadata\":{\"tit2\":\"Calvin Harris Ft. Pharrell Williams, Katy Perry &amp; Big Sean - Feels\"}},{\"playedat\":1508956532,\"title\":\"Major Lazer, Travis Scott, Camila Cabello, Quavo - Know No Better (feat. Quavo)\",\"metadata\":{\"tit2\":\"Major Lazer, Travis Scott, Camila Cabello, Quavo - Know No Better (feat. Quavo)\"}},{\"playedat\":1508956039,\"title\":\"Darren Styles - Us Against The World (Da Tweekaz Remix)\",\"metadata\":{\"tit2\":\"Darren Styles - Us Against The World (Da Tweekaz Remix)\"}},{\"playedat\":1508955843,\"title\":\"Mullaha - For You Only\",\"metadata\":{\"tit2\":\"Mullaha - For You Only\"}},{\"playedat\":1508955498,\"title\":\"The Script - Rain\",\"metadata\":{\"tit2\":\"The Script - Rain\"}}]}}\n</code></pre>\n\n<p>have no idea what is going wrong here, I have used the same code (except there only was one class per file), in multiple projects and it worked like a charm, could someone explain me what's going on here?</p>\n"}, {"tags": ["c#", ".net", "visual-studio", "uwp", "mstest"], "answers": [{"tags": [], "owner": {"reputation": 5791, "user_id": 664389, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/jjDUE.jpg?s=128&g=1", "display_name": "Laith", "link": "https://stackoverflow.com/users/664389/laith"}, "is_accepted": false, "score": 0, "last_activity_date": 1508965717, "creation_date": 1508965717, "answer_id": 46942095, "question_id": 46940213, "link": "https://stackoverflow.com/questions/46940213/create-file-during-mstest-system-unauthorizedaccessexception/46942095#46942095", "title": "Create file during mstest - System.UnauthorizedAccessException", "body": "<p>I use <code>Path.GetTempPath()</code> to create temporary directories and files in unit tests that require physical disk access. The unit tests can run from an unknown context/location, so I found using the temp directory as a guaranteed way to create disposable files.</p>\n\n<pre><code>[TestMethod]\npublic void Test()\n{\n    var folder = Path.Combine(Path.GetTempPath(), \"Snapshots\");\n    string data = \"example data\";\n    string filename = Path.Combine(folder, \"Test.snap\");\n    File.WriteAllText(filename, json);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2223, "user_id": 5480409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ySDx0.png?s=128&g=1", "display_name": "Francesco B.", "link": "https://stackoverflow.com/users/5480409/francesco-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1508965869, "creation_date": 1508965869, "answer_id": 46942125, "question_id": 46940213, "link": "https://stackoverflow.com/questions/46940213/create-file-during-mstest-system-unauthorizedaccessexception/46942125#46942125", "title": "Create file during mstest - System.UnauthorizedAccessException", "body": "<p>How about checking if you gave permissions to the right folder?</p>\n\n<pre><code>        var folder = Path.Combine(Directory.GetCurrentDirectory(), \"../../../../Snapshots\");\n        string data = \"example data\";\n\n        // this variable will contain the actual folder; add a watch\n        // or bookmark it to check it\n        var actualPath = Path.GetFullPath(folder);\n\n        string filename = Path.Combine(folder, \"Test.snap\");\n        File.WriteAllText(filename, data);\n</code></pre>\n\n<p>Just in case, add the line below too (before <code>File.WriteAllText</code>); perhaps your file already exists as, I don't know, read-only:</p>\n\n<pre><code>        File.SetAttributes(filename, FileAttributes.Temporary);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1346, "user_id": 6670299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaf2bef1786e12d7095918a00e1c5faf?s=128&d=identicon&r=PG&f=1", "display_name": "Barry Wang", "link": "https://stackoverflow.com/users/6670299/barry-wang"}, "is_accepted": false, "score": 1, "last_activity_date": 1509088926, "creation_date": 1509088926, "answer_id": 46969607, "question_id": 46940213, "link": "https://stackoverflow.com/questions/46940213/create-file-during-mstest-system-unauthorizedaccessexception/46969607#46969607", "title": "Create file during mstest - System.UnauthorizedAccessException", "body": "<p>Please have a look at Rob's blog here:\n<a href=\"https://blogs.msdn.microsoft.com/wsdevsol/2012/12/04/skip-the-path-stick-to-the-storagefile/\" rel=\"nofollow noreferrer\">https://blogs.msdn.microsoft.com/wsdevsol/2012/12/04/skip-the-path-stick-to-the-storagefile/</a></p>\n\n<p>Here is the answer from Rob:</p>\n\n<blockquote>\n  <p>Windows Store apps run sandboxed and have very limited access to the\n  file system. For the most part, they can directly access only their\n  install folder and their application data folder. They do not have\n  permission to access the file system elsewhere (see File access and\n  permissions for more details).</p>\n  \n  <p>Access to other locations is available only through a broker process.\n  This broker process runs with the user\u2019s full privileges, and it can\n  use these privileges on the app\u2019s behalf for locations the app has\n  requested via capabilities, locations requested by the user via file\n  pickers, etc. The StorageItem encapsulates this brokerage procedure so\n  the app doesn\u2019t need to deal with it directly.\"</p>\n</blockquote>\n\n<p>In a UWP app we do not recommend path anymore. There are permission problems so broker is required when access some paths. I'm not familar with Unit Test. But if you are still using UWP function you should consider using StorageFile related API instead. </p>\n"}], "owner": {"reputation": 56, "user_id": 7728811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9ebcf151f6d3377a47972fa2a26befc?s=128&d=identicon&r=PG", "display_name": "Clarity", "link": "https://stackoverflow.com/users/7728811/clarity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 706, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1509088926, "creation_date": 1508958261, "question_id": 46940213, "link": "https://stackoverflow.com/questions/46940213/create-file-during-mstest-system-unauthorizedaccessexception", "title": "Create file during mstest - System.UnauthorizedAccessException", "body": "<p>I have a UWP C# app, with a unit testing project. In these unit test, I want to be able to write to a text file in order to make something like <a href=\"http://facebook.github.io/jest/docs/en/snapshot-testing.html\" rel=\"nofollow noreferrer\">snapshots in Jest</a>.</p>\n\n<p><code>Directory.GetCurrentDirectory()</code> returns <code>C:\\path\\to\\project\\bin\\x64\\Debug\\AppX</code>, so I made a folder in the project directory and am navigating to it, then attempting to create a file there.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[TestMethod]\npublic void Test()\n{\n    var folder = Path.Combine(Directory.GetCurrentDirectory(), \"../../../../Snapshots\");\n    string data = \"example data\";\n    string filename = Path.Combine(folder, \"Test.snap\");\n    File.WriteAllText(filename, json);\n}\n</code></pre>\n\n<p>However, this test produces a <code>System.UnauthorizedAccessException</code>. I went into the folder in windows and gave Everyone read/write permissions, but that didn't make any difference.</p>\n\n<p>I don't want to have to run Visual Studio as an administrator. Is this possible?</p>\n"}, {"tags": ["c#", "utf-8", "utf-16"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1508958521, "post_id": 46940188, "comment_id": 80827748, "body": "How about providing some example HTML that demonstrates the issue, so we can help you instead of tossing out random uninformed speculation? People with questions often share assumptions or suppositions about what&#39;s really causing their problem, but as you&#39;d expect from people who haven&#39;t <i>solved</i> their problems, the assumptions they come here with are not very often correct. My favorite problem solving heuristic: Write down the things you know with perfect certainty aren&#39;t the problem. It&#39;s usually one of those."}, {"owner": {"reputation": 147, "user_id": 6544462, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/244602f63556eaf2e44c2913ea1cefe7?s=128&d=identicon&r=PG&f=1", "display_name": "CatiaV5", "link": "https://stackoverflow.com/users/6544462/catiav5"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1508959332, "post_id": 46940188, "comment_id": 80828205, "body": "Hi Ed, I&#39;m sorry, you are right. I have edited the post now. I hope it is better this way now?"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1508959833, "post_id": 46940188, "comment_id": 80828487, "body": "Is this System.Windows.Forms.HtmlDocument rather than the AgilityPack HtmlDocument? Where are you getting it from? How are you loading the page? WebBrowser control?"}, {"owner": {"reputation": 147, "user_id": 6544462, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/244602f63556eaf2e44c2913ea1cefe7?s=128&d=identicon&r=PG&f=1", "display_name": "CatiaV5", "link": "https://stackoverflow.com/users/6544462/catiav5"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1508960560, "post_id": 46940188, "comment_id": 80828872, "body": "I put in the entire code now. It is a System.Windows.Forms.HtmlDocument. I used a Windows Forms App and WebBrowser control to load the page."}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 6544462, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/244602f63556eaf2e44c2913ea1cefe7?s=128&d=identicon&r=PG&f=1", "display_name": "CatiaV5", "link": "https://stackoverflow.com/users/6544462/catiav5"}, "edited": false, "score": 0, "creation_date": 1508961392, "post_id": 46940917, "comment_id": 80829315, "body": "Thank you so much for that! And sorry again for the vague post in the beginning!"}], "tags": [], "owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "is_accepted": false, "score": 1, "last_activity_date": 1508960813, "creation_date": 1508960813, "answer_id": 46940917, "question_id": 46940188, "link": "https://stackoverflow.com/questions/46940188/getelementbyid-not-working-maybe-convert-utf-16/46940917#46940917", "title": "GetElementById not working. Maybe convert UTF-16?", "body": "<p>It turns out that I should have asked you exactly what you meant by <em>\"I cannot use the \"GetElementById\"\"</em> before looking any further. Let this be a lesson to me. </p>\n\n<p>The problem is that <code>HtmlDocument.GetElementById()</code> returns <code>HtmlElement</code>, not <code>HtmlDocument</code>. Your code won't compile because you're trying to make an assignment that's not possible (nor desirable, for that matter). </p>\n\n<p>This will work:</p>\n\n<pre><code>var username = doc.GetElementById(\"wtLayoutLogin_SilkUIFramework_wt8_block_wtUsername_wtUsername_wtUsernameInput\");\nvar password = doc.GetElementById(\"wtLayoutLogin_SilkUIFramework_wt8_block_wtPassword_wtPassword_wtPasswordInput\");\nvar submit = doc.GetElementById(\"wtLayoutLogin_SilkUIFramework_wt8_block_wtAction_wtAction_wtLoginButton\");\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>HtmlElement username = doc.GetElementById(\"wtLayoutLogin_SilkUIFramework_wt8_block_wtUsername_wtUsername_wtUsernameInput\");\nHtmlElement password = doc.GetElementById(\"wtLayoutLogin_SilkUIFramework_wt8_block_wtPassword_wtPassword_wtPasswordInput\");\nHtmlElement submit = doc.GetElementById(\"wtLayoutLogin_SilkUIFramework_wt8_block_wtAction_wtAction_wtLoginButton\");\n</code></pre>\n\n<p>All <code>var</code> does is define the variable as whatever type you're trying to assign to it. HtmlDocument.GetElementById()<code>is declared as returning</code>HtmlElement<code>, so if you hover the mouse over</code>var<code>in those lines, it'll tell you that</code>HtmlElement<code>is the actual type of</code>username` or whatever. </p>\n\n<p>And jon.doe@gmail.com can now assume the Sun Warrior pose. </p>\n"}], "owner": {"reputation": 147, "user_id": 6544462, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/244602f63556eaf2e44c2913ea1cefe7?s=128&d=identicon&r=PG&f=1", "display_name": "CatiaV5", "link": "https://stackoverflow.com/users/6544462/catiav5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508961934, "creation_date": 1508958165, "last_edit_date": 1508961934, "question_id": 46940188, "link": "https://stackoverflow.com/questions/46940188/getelementbyid-not-working-maybe-convert-utf-16", "title": "GetElementById not working. Maybe convert UTF-16?", "body": "<p>Hi guys I have the following issue with my code, which should log me automatically onto a website <a href=\"https://app.xyz.com/LoginEntry.aspx\" rel=\"nofollow noreferrer\">https://app.xyz.com/LoginEntry.aspx</a> :</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace loggy\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void loggy_DocumentCompleted(object sender, WebBrowserDocumentCompletedEventArgs e)\n        {\n\n\n\n            try\n            {\n\n                HtmlDocument doc = loggy.Document;\n                HtmlDocument username = doc.GetElementById(\"wtLayoutLogin_SilkUIFramework_wt8_block_wtUsername_wtUsername_wtUsernameInput\");\n                HtmlDocument password = doc.GetElementById(\"wtLayoutLogin_SilkUIFramework_wt8_block_wtPassword_wtPassword_wtPasswordInput\");\n                HtmlDocument submit = doc.GetElementById(\"wtLayoutLogin_SilkUIFramework_wt8_block_wtAction_wtAction_wtLoginButton\");\n\n                username.SetAttribute(\"value\", \"jon.doe@gmail.com\");\n                password.SetAttribute(\"value\", \"123\");\n                submit.InvokeMember(\"click\");\n            }\n\n                catch\n            {\n\n            }\n\n\n        }\n    }\n    }\n</code></pre>\n\n<p>Inspecting the login field shows me the following:</p>\n\n<pre><code>&lt;input name=\"wtLayoutLogin$SilkUIFramework_wt8$block$wtUsername$wtUsername$wtUserNameInput\" type=\"text\" maxlength=\"250\" size=\"28\" id=\"wtLayoutLogin_SilkUIFramework_wt8_block_wtUsername_wtUsername_wtUserNameInput\" tabindex=\"2\" class=\"Mandatory\" placeholder=\"Email or Username\" onkeydown=\"return OsEnterKey('wtLayoutLogin_SilkUIFramework_wt8_block_wtAction_wtAction_wtLoginButton', arguments[0] || window.event)\" autofocus=\"autofocus\"&gt;\n</code></pre>\n\n<p>I cannot use the \"GetElementById\". I'm not very experienced in C# and I'm not sure how to convert the text so it is usable. </p>\n\n<p>Could someone help me out, please?</p>\n"}, {"tags": ["c#", ".net", "cil", "invalidprogramexception"], "comments": [{"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 1, "creation_date": 1508959565, "post_id": 46940169, "comment_id": 80828345, "body": "When you open your compiled DLL in ILSpy, does it show the code you expect to see? (Probably only in IL view - this probably won&#39;t decompile into C#, although I may be wrong.)"}, {"owner": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "edited": false, "score": 2, "creation_date": 1508960534, "post_id": 46940169, "comment_id": 80828862, "body": "Sadly, I cannot reproduce this. Is <code>ldarg.0</code> to <code>call</code> necessary?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1508961445, "post_id": 46940169, "comment_id": 80829343, "body": "Pretty unclear how peverify.exe could be used, it doesn&#39;t like localloc.  That ldarg.0 imbalances the stack, you are calling the default constructor of List&lt;&gt;.  Just delete it."}, {"owner": {"reputation": 10144, "user_id": 7256341, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RXEvi.jpg?s=128&g=1", "display_name": "valiano", "link": "https://stackoverflow.com/users/7256341/valiano"}, "reply_to_user": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1508996386, "post_id": 46940169, "comment_id": 80840207, "body": "@xxbbcc interesting, I didn&#39;t think of decompiling back that IL into C# - nice! It actually decompiles, I&#39;ll edit the question with the decompiled code."}, {"owner": {"reputation": 10144, "user_id": 7256341, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RXEvi.jpg?s=128&g=1", "display_name": "valiano", "link": "https://stackoverflow.com/users/7256341/valiano"}, "reply_to_user": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "edited": false, "score": 0, "creation_date": 1508996618, "post_id": 46940169, "comment_id": 80840293, "body": "@IllidanS4 Yes, it seems <code>ldarg.0</code> is necessary - that&#39;s taken directly from the original code. For completeness, I added also the following function call, and the 2nd local in <code>.locals</code>, to make the function code identical to the that of the original function."}, {"owner": {"reputation": 10144, "user_id": 7256341, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RXEvi.jpg?s=128&g=1", "display_name": "valiano", "link": "https://stackoverflow.com/users/7256341/valiano"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1508997249, "post_id": 46940169, "comment_id": 80840569, "body": "@HansPassant point taken about <code>peverify.exe</code>, thanks! I believe <code>ldarg.0</code> is nessesary, as it taken from the original and working code - I slightly updated the code in question (added a few more instructions and another local from the original function), hopefully to give a slightly clearer picture. If helpful, I could post the C#/IL code of involved functions."}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1508997406, "post_id": 46940169, "comment_id": 80840641, "body": "@valiano Is <code>localloc</code> injected (by re-writing the IL stream) or is it added manually during an ildasm-&gt;ilasm cycle?"}, {"owner": {"reputation": 10144, "user_id": 7256341, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RXEvi.jpg?s=128&g=1", "display_name": "valiano", "link": "https://stackoverflow.com/users/7256341/valiano"}, "reply_to_user": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "edited": false, "score": 0, "creation_date": 1508997659, "post_id": 46940169, "comment_id": 80840746, "body": "@xxbbcc usually, that <code>localloc</code> is added by IL rewriting in runtime, along with a bunch of other instructions. For ease of debugging, I&#39;m adding it manually to <code>ildasm</code> output and running again through <code>ilasm</code>."}, {"owner": {"reputation": 10144, "user_id": 7256341, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RXEvi.jpg?s=128&g=1", "display_name": "valiano", "link": "https://stackoverflow.com/users/7256341/valiano"}, "reply_to_user": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "edited": false, "score": 0, "creation_date": 1509017822, "post_id": 46940169, "comment_id": 80853490, "body": "@IllidanS4 @HansPassant <code>peverify</code> indicates that <code>ldarg.0</code> is for loading the <code>this</code> pointer which is consumed by the try block (if I&#39;m getting this right)"}], "answers": [{"comments": [{"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 2, "creation_date": 1509019560, "post_id": 46953662, "comment_id": 80854677, "body": "You may want to open an issue for the CoreCLR repository (which contains RyuJIT); there are <a href=\"https://github.com/dotnet/coreclr/search?type=Issues\" rel=\"nofollow noreferrer\">several</a> for <code>localloc</code> already. <code>localloc</code> isn&#39;t allowed in a <code>finally</code>, so it&#39;s possible the jitter is getting confused and disallows it entirely here, even though it&#39;s not in the block."}, {"owner": {"reputation": 10144, "user_id": 7256341, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RXEvi.jpg?s=128&g=1", "display_name": "valiano", "link": "https://stackoverflow.com/users/7256341/valiano"}, "reply_to_user": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1509021850, "post_id": 46953662, "comment_id": 80856357, "body": "@JeroenMostert thanks! I suspected this may be the case... I&#39;m running on .NET 4.6, so will check whether this reproduces on the latest CoreCLR. I noticed a similar bug that was already fixed, so chances are, this may be already fixed as well: <a href=\"https://github.com/dotnet/coreclr/blob/master/tests/src/JIT/Regression/VS-ia64-JIT/V1.2-M01/b10841/repro_good.il\" rel=\"nofollow noreferrer\">github.com/dotnet/coreclr/blob/master/tests/src/JIT/Regressi&zwnj;&#8203;on/&hellip;</a>"}, {"owner": {"reputation": 732, "user_id": 9750451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df0dd42da08ba3574f565287e531039?s=128&d=identicon&r=PG", "display_name": "Andy Ayers", "link": "https://stackoverflow.com/users/9750451/andy-ayers"}, "edited": false, "score": 1, "creation_date": 1528340237, "post_id": 46953662, "comment_id": 88472479, "body": "I couldn&#39;t repro this and couldn&#39;t quite follow all the description about exactly what was required to hit the issue you saw. If you put together a repro case I will take a more in-depth look."}, {"owner": {"reputation": 10144, "user_id": 7256341, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RXEvi.jpg?s=128&g=1", "display_name": "valiano", "link": "https://stackoverflow.com/users/7256341/valiano"}, "reply_to_user": {"reputation": 732, "user_id": 9750451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df0dd42da08ba3574f565287e531039?s=128&d=identicon&r=PG", "display_name": "Andy Ayers", "link": "https://stackoverflow.com/users/9750451/andy-ayers"}, "edited": false, "score": 0, "creation_date": 1528342075, "post_id": 46953662, "comment_id": 88472809, "body": "@AndyAyers Thanks! It&#39;s been a while but I&#39;ll try to put together a repro case"}], "tags": [], "owner": {"reputation": 10144, "user_id": 7256341, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RXEvi.jpg?s=128&g=1", "display_name": "valiano", "link": "https://stackoverflow.com/users/7256341/valiano"}, "is_accepted": true, "score": 2, "last_activity_date": 1527830670, "last_edit_date": 1527830670, "creation_date": 1509018864, "answer_id": 46953662, "question_id": 46940169, "link": "https://stackoverflow.com/questions/46940169/why-does-localloc-break-this-cil-method/46953662#46953662", "title": "Why does localloc break this CIL method?", "body": "<p>Sadly, it seems I hit a CLR bug...</p>\n\n<p>Everything is working when using the legacy JIT Compiler:</p>\n\n<p><code>set COMPLUS_useLegacyJit=1</code></p>\n\n<p>I wasn't able to isolate a specific RyuJit setting which may be causing this.\nI followed the recommendation in this article:<br>\n<a href=\"https://github.com/Microsoft/dotnet/blob/master/Documentation/testing-with-ryujit.md\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/dotnet/blob/master/Documentation/testing-with-ryujit.md</a></p>\n\n<p>Thanks to everyone who helped!</p>\n\n<p><strong>Aftermath:</strong></p>\n\n<p>Sometime after I came across the legacy JIT workaround, I realized that the issue only manifests when instrumenting <code>localloc</code> (which is a non verifiable opcode) into a <strong>security critical method called from a security transparent method</strong>. Only in this scenario, RyuJit would throw an <code>InvalidProgramException</code>, while Legacy JIT won't.</p>\n\n<p>In my reproduction, I disassembled and reassembled the DLL in question and modified the function code directly, keeping security attributes intact - \n specifically the <code>AllowPartiallyTrustedCallers</code> assembly attribute - which explains why the issue wasn't reproduced with an isolated example.</p>\n\n<p>It might be that in RyuJIT there's some security hardening compared to Legacy JIT which surfaces this issue, but still, the fact that <code>localloc</code> will cause the CLR to throw an <code>InvalidProgramException</code> depdending in the presence of try-catch and its relative location to the <code>localloc</code>, does seem like a subtle bug.</p>\n\n<p>Running <em>SecAnnotate.exe</em> (<a href=\"https://docs.microsoft.com/en-us/dotnet/framework/tools/secannotate-exe-net-security-annotator-tool\" rel=\"nofollow noreferrer\">.NET Security Annotator tool</a>) on the failing DLL was helpful in revealing the security issues between function calls.</p>\n\n<p>More on Security-Transparent Code:<br>\n<a href=\"https://docs.microsoft.com/en-us/dotnet/framework/misc/security-transparent-code\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/framework/misc/security-transparent-code</a></p>\n"}], "owner": {"reputation": 10144, "user_id": 7256341, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RXEvi.jpg?s=128&g=1", "display_name": "valiano", "link": "https://stackoverflow.com/users/7256341/valiano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 1, "accepted_answer_id": 46953662, "answer_count": 1, "score": 5, "last_activity_date": 1527830670, "creation_date": 1508958075, "last_edit_date": 1509011922, "question_id": 46940169, "link": "https://stackoverflow.com/questions/46940169/why-does-localloc-break-this-cil-method", "title": "Why does localloc break this CIL method?", "body": "<p>I have the following piece of reduced CIL code.<br>\nWhen this CIL method is executed, an <em>InvalidProgramException</em> is being thrown by the CLR:</p>\n\n<pre><code>  .method assembly hidebysig specialname rtspecialname \n          instance void  .ctor(class [mscorlib]System.Collections.Generic.IEnumerable`1&lt;class System.Windows.Input.StylusDeviceBase&gt; styluses) cil managed\n  {\n    .locals init (class [mscorlib]System.Collections.Generic.IEnumerator`1&lt;class System.Windows.Input.StylusDeviceBase&gt; V_0,\n         class System.Windows.Input.StylusDeviceBase V_1)\n\n    ldc.i4.8   // These instructions cause CIL to break \n    conv.u     //\n    localloc   //\n    pop        //\n\n    ldarg.0\n    newobj instance void class [mscorlib]System.Collections.Generic.List`1&lt;class System.Windows.Input.StylusDevice&gt;::.ctor()\n    call   instance void class [mscorlib]System.Collections.ObjectModel.ReadOnlyCollection`1&lt;class System.Windows.Input.StylusDevice&gt;::.ctor(class [mscorlib]System.Collections.Generic.IList`1&lt;!0&gt;)\n    ldarg.1\n    callvirt instance class [mscorlib]System.Collections.Generic.IEnumerator`1&lt;!0&gt; class [mscorlib]System.Collections.Generic.IEnumerable`1&lt;class System.Windows.Input.StylusDeviceBase&gt;::GetEnumerator()\n    stloc.0\n\n    .try\n    {\n       leave.s IL_0040\n    }\n    finally\n    {\n       endfinally\n    }   \n\n    IL_0040: ret\n  } // end of method StylusDeviceCollection::.ctor\n</code></pre>\n\n<p>My question is, why is this CIL code invalid?  </p>\n\n<p>Several obervations:<br>\n- If <code>localloc</code> is removed, the code runs fine. To my knowledge, <code>localloc</code> replaces the parameter size on the stack with an address, so the stack remains balanced, AFAICT.<br>\n- If the try and finally blocks are removed, the code runs fine.<br>\n- If the first block of instructions containing <code>localloc</code> is moved to after the try-finally block, the code runs fine.</p>\n\n<p>So it seems like something in the combination of localloc and the try-finally.</p>\n\n<p><strong>Some background:</strong></p>\n\n<p>I got to this point after the <em>InvalidProgramException</em> was thrown for the original method, due to some instrumentation made in runtime. My approach for debugging this, for figuring out what is wrong with the instrumentation, is:   </p>\n\n<ul>\n<li>Disassembling the faulty DLL with <code>ildasm</code>  </li>\n<li>Applying the instrumentation code to the crashing method  </li>\n<li>Recreating the DLL from the modified IL with <code>ilasm</code>  </li>\n<li>Running the program again, and verifying it crashes</li>\n<li>Keep reducing the IL code of the crashing method gradualy, down to the minimal scenario that causes the problem (and trying not to introduce bugs along the way...)</li>\n</ul>\n\n<p>Unfortunately, <code>peverify.exe /IL</code> did not indicate any error.\nI tried to console the ECMA spec and Serge Lidin's Expert .NET IL book, but couldn't figure out what is it that goes wrong.</p>\n\n<p>Is there something basic I am missing?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I slightly updated the IL code in question, to make it more complete (without modifying instructions). The second block of instructions, including <code>ldarg</code>, <code>newobj</code>, etc., is taken as is from the working code - the original method code.</p>\n\n<p>What's weird to me is, by removing either <code>localloc</code> or <code>.try</code>-<code>finally</code>, the code works - but none of these, to my knowledge, should change the balancing of the stack, compared to if they're present in the code.</p>\n\n<p>Here's the IL code decompiled into C# with ILSpy:</p>\n\n<pre><code>internal unsafe StylusDeviceCollection(IEnumerable&lt;StylusDeviceBase&gt; styluses)\n{\n    IntPtr arg_04_0 = stackalloc byte[(UIntPtr)8];\n    base..ctor(new List&lt;StylusDevice&gt;());\n    IEnumerator&lt;StylusDeviceBase&gt; enumerator = styluses.GetEnumerator();\n    try\n    {\n    }\n    finally\n    {\n    }\n}\n</code></pre>\n\n<p><strong>Edit 2:</strong></p>\n\n<p>More observations:<br>\n - Taking the <code>localloc</code> block of IL code, and moving it to the end of the function, code runs fine - so it seems that code on its own is OK.<br>\n - The issue does not reproduce when pasting similar IL code into a hello world test function.</p>\n\n<p>I'm very puzzled...</p>\n\n<p>I wish there was a way to get more information from the <em>InvalidProgramException</em>. It seems that the CLR doesn't attach the exact failure reason to the exception object.\nI also thought on debugging with CoreCLR debug build, but unforunately the program I'm debugging is not compatible with it...</p>\n"}, {"tags": ["c#", "printing", "fonts", "reportviewer"], "answers": [{"tags": [], "owner": {"reputation": 734, "user_id": 2850445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f420714c16170c87a92c8d39ee6dffdb?s=128&d=identicon&r=PG&f=1", "display_name": "Nirav Mistry", "link": "https://stackoverflow.com/users/2850445/nirav-mistry"}, "is_accepted": false, "score": 0, "last_activity_date": 1509011143, "creation_date": 1509011143, "answer_id": 46951051, "question_id": 46940122, "link": "https://stackoverflow.com/questions/46940122/c-report-viewer-font-stretched-when-printing/46951051#46951051", "title": "c# Report viewer font stretched when printing", "body": "<p>In this case, you have to set Report Page size, then Report controls property/font size etc and finally you need to take care while printing.</p>\n"}], "owner": {"reputation": 169, "user_id": 7008303, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d50f3c1f3d7a6a3c4867a8c11e836e5a?s=128&d=identicon&r=PG&f=1", "display_name": "ti034", "link": "https://stackoverflow.com/users/7008303/ti034"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 574, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1526711547, "creation_date": 1508957933, "question_id": 46940122, "link": "https://stackoverflow.com/questions/46940122/c-report-viewer-font-stretched-when-printing", "title": "c# Report viewer font stretched when printing", "body": "<p>We are using Report Viewer in a Windows Form application. The report appears OK when viewing it, but when printing the report or clicking the print layout, the font seems to stretch width-wise and the report spills over into another page. </p>\n\n<p>We've tried setting the cell padding to 0, this helps a bit but the font is still deformed and spills over to the next page. </p>\n\n<p>It works okay when saving to Word, but not to PDF.</p>\n\n<p>Is there a way to keep the same font as the viewer or a way to edit the code behind the print and print layout buttons? There may be a way to set the font or other settings there.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "sql-server", "entity-framework-6", "code-generation", "navigation-properties"], "comments": [{"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 2, "creation_date": 1508961455, "post_id": 46940109, "comment_id": 80829353, "body": "Related: <a href=\"https://stackoverflow.com/questions/12937193/improve-navigation-property-names-when-reverse-engineering-a-database\" title=\"improve navigation property names when reverse engineering a database\">stackoverflow.com/questions/12937193/&hellip;</a>"}], "owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1508957886, "creation_date": 1508957886, "question_id": 46940109, "link": "https://stackoverflow.com/questions/46940109/customizing-ef6-code-first-from-database-code-generation-to-get-more-meaningfu", "title": "Customizing EF6 &quot;code-first from database&quot; code generation to get more meaningful navigation property names", "body": "<p>I have a SQL Server based ASP.NET MVC 5 app, and I'm using Entity Framework 6 to talk to the database.</p>\n\n<p>We're using a \"hybrid\" approach - we manage all the database structure with classic SQL scripts which we deploy onto our DB server, and then we generate the \"code-first\" classes from that SQL Server database. This works reasonably well, for the most part.</p>\n\n<p>One thing that bugs me is the if a given table has multiple FK link to another table, the naming convention used by the EF6 code generation is pretty lame....</p>\n\n<p>Assume I have a table (and therefore entity) <code>Site</code> which represents a site somewhere, and this site has three links to a <code>Contact</code> table for various roles - the \"main\" contact, the \"support\" contact, and a \"sales\" contact. So my table in SQL Server looks something like this:</p>\n\n<pre><code>CREATE TABLE dbo.Site\n(\n    SiteID INT NOT NULL\n        CONSTRAINT PK_Site PRIMARY KEY CLUSTERED,\n    .... some other properties, of no interest or relevance here .....\n    MainContactId INT NOT NULL\n        CONSTRAINT FK_Site_MainContact FOREIGN KEY REFERENCES dbo.Contact(ContactId),\n    SalesContactId INT NOT NULL\n        CONSTRAINT FK_Site_SalesContact FOREIGN KEY REFERENCES dbo.Contact(ContactId),\n    SupportContactId INT NOT NULL\n        CONSTRAINT FK_Site_SupportContact FOREIGN KEY REFERENCES dbo.Contact(ContactId)\n)\n</code></pre>\n\n<p>I had been hoping that the EF6 code-first from existing database generation would be smart enough to read those column names and come up with meaningful names for the navigation properties on the entity - but alas, this is what I get instead:</p>\n\n<pre><code> [Table(\"Site\")]\n public partial class Site\n {\n    [DatabaseGenerated(DatabaseGeneratedOption.None)]\n    public int SiteID { get; set; }\n\n    public int MainContactId { get; set; }\n    public int SalesContactId { get; set; }\n    public int SupportContactId { get; set; }\n\n    public virtual Contact Contact { get; set; }        \n    public virtual Contact Contact1 { get; set; }\n    public virtual Contact Contact2 { get; set; }\n}\n</code></pre>\n\n<p>While the actual FK columns are OK - the \"deduced\" navigation properties are horrible - <code>Contact</code>,  <code>Contact1</code> and <code>Contact2</code> - seriously, is this the best naming??? I think not... I would <strong>much prefer</strong> to called them \"MainContact\", \"SalesContact\", \"SupportContact\" - wouldn't that make a lot more sense? And be clearer for later use?</p>\n\n<p>I installed the custom T4 templates (Nuget package \"EntityFramework.CodeTemplates.CSharp\"), and I see that there are a few interesting and potentially very useful helper classes being used (<code>CSharpCodeHelper</code>, <code>EdmHelper</code>, <code>EntitySet</code>, <code>DbModel</code> from the <code>Microsoft.Data.Entity.Design</code> and <code>System.Data.Entity.Infrastructure</code> namespaces) - unfortunately, most of them are sparsely documented, and also often their constructors are internal - so I cannot really build my own tool based on those ready-made classes.</p>\n\n<p>Any other approach? I'd really like to teach the code generation a few smarts - this right now is just not up to usual standards and requires me to make a lot of manual changes to generated files - a labor in vain, flushed down the digital toilet each time I need to re-generate the classes from the database.....</p>\n"}, {"tags": ["c#", "asp.net-mvc", "razor"], "comments": [{"owner": {"reputation": 4665, "user_id": 1035345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wcV3D.gif?s=128&g=1", "display_name": "twoleggedhorse", "link": "https://stackoverflow.com/users/1035345/twoleggedhorse"}, "edited": false, "score": 0, "creation_date": 1508957885, "post_id": 46940086, "comment_id": 80827332, "body": "You would use routing which is defined in the global asax"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1508957886, "post_id": 46940086, "comment_id": 80827335, "body": "<i>I do not want to use controller name and action name in url</i>..... why?"}], "answers": [{"comments": [{"owner": {"reputation": 1216, "user_id": 1817569, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fq6S4.jpg?s=128&g=1", "display_name": "Hamid", "link": "https://stackoverflow.com/users/1817569/hamid"}, "edited": false, "score": 0, "creation_date": 1508958500, "post_id": 46940140, "comment_id": 80827736, "body": "I am using MVC 5 controller and visual studio 2015"}, {"owner": {"reputation": 1216, "user_id": 1817569, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fq6S4.jpg?s=128&g=1", "display_name": "Hamid", "link": "https://stackoverflow.com/users/1817569/hamid"}, "edited": false, "score": 0, "creation_date": 1508958576, "post_id": 46940140, "comment_id": 80827782, "body": "error at : [HttpGet(&quot;{id}&quot;)]  , &#39;HttpGetAttribute&#39; does not contain a constructor that takes 1 arguments"}, {"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "reply_to_user": {"reputation": 1216, "user_id": 1817569, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fq6S4.jpg?s=128&g=1", "display_name": "Hamid", "link": "https://stackoverflow.com/users/1817569/hamid"}, "edited": false, "score": 0, "creation_date": 1508958856, "post_id": 46940140, "comment_id": 80827940, "body": "Try changing <code>HttpGet</code> back to <code>Route</code> for MVC5"}], "tags": [], "owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "is_accepted": true, "score": 2, "last_activity_date": 1508958844, "last_edit_date": 1508958844, "creation_date": 1508957989, "answer_id": 46940140, "question_id": 46940086, "link": "https://stackoverflow.com/questions/46940086/how-can-i-generate-specific-url/46940140#46940140", "title": "How can I generate specific Url", "body": "<p>I don't know what version of MVC you are using, but if you are on the newest version or .NET Core, if you used routing attributes, you'd achieve this by:</p>\n\n<pre><code>[Route(\"\")]\npublic class StoryController : Controller\n{\n    [Route(\"{id}\")]\n    public ActionResult Index(string id)\n    {\n        if(id ==\"some-id\"){\n\n        }\n       return View();\n    }\n}\n</code></pre>\n\n<p>Having a single parameter that is a string on your index-like route will definitely pose problems later with the routing engine though, when you try to add more controllers and views</p>\n"}], "owner": {"reputation": 1216, "user_id": 1817569, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fq6S4.jpg?s=128&g=1", "display_name": "Hamid", "link": "https://stackoverflow.com/users/1817569/hamid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 46940140, "answer_count": 1, "score": 0, "last_activity_date": 1509021830, "creation_date": 1508957795, "last_edit_date": 1509021830, "question_id": 46940086, "link": "https://stackoverflow.com/questions/46940086/how-can-i-generate-specific-url", "title": "How can I generate specific Url", "body": "<p>How to generate some URL like <a href=\"http://mysite/some-id\" rel=\"nofollow noreferrer\">http://mysite/some-id</a>  using below method?<br/>\nNote: <strong>I do not want to use controller name and action name in url</strong>. because the main site used this structure and my boss does not want to change it.</p>\n\n<pre><code>public class StoryController : Controller\n    {\n\n        public ActionResult Index(string id)\n        {\n            if(id ==\"some-id\"){\n\n            }\n           return View();\n        }\n    }\n</code></pre>\n"}, {"tags": ["javascript", "c#", "jquery", "asp.net-mvc", "razor"], "comments": [{"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 1, "creation_date": 1508957820, "post_id": 46940034, "comment_id": 80827295, "body": "Try renaming<code>prodID</code> to just <code>id</code> so that the default routing matches."}, {"owner": {"reputation": 68, "user_id": 2471103, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6d77bc0f4ef49e9966a90b36565daf7b?s=128&d=identicon&r=PG", "display_name": "user2471103", "link": "https://stackoverflow.com/users/2471103/user2471103"}, "reply_to_user": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1508957926, "post_id": 46940034, "comment_id": 80827365, "body": "Awesome, that worked, thank you stephen, I will mark it solved."}, {"owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "reply_to_user": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1508958384, "post_id": 46940034, "comment_id": 80827666, "body": "@stephen.vakil: this isn&#39;t the right way, the right way is to set the route using <code>[HttpGet]</code> attribute."}, {"owner": {"reputation": 68, "user_id": 2471103, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6d77bc0f4ef49e9966a90b36565daf7b?s=128&d=identicon&r=PG", "display_name": "user2471103", "link": "https://stackoverflow.com/users/2471103/user2471103"}, "reply_to_user": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "edited": false, "score": 0, "creation_date": 1508958516, "post_id": 46940034, "comment_id": 80827744, "body": "@Transcendent I tried using the [HttpGet] attribute and it did not work."}, {"owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "edited": false, "score": 0, "creation_date": 1508958546, "post_id": 46940034, "comment_id": 80827765, "body": "@user2471103: You used the wrong route template. Check my answer."}, {"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1508959255, "post_id": 46940034, "comment_id": 80828164, "body": "What the &quot;right&quot; way and wrong are are is subjective.  I would not want to put in a custom route for every action like that when just using the right naming convention suffices."}, {"owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "reply_to_user": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1508959407, "post_id": 46940034, "comment_id": 80828254, "body": "@stephen.vakil: The point is to show to the OP what is causing the problem. Although what you mentioned surely works, it does not describe why the problem has been caused and how it can be fixed in a standard way. Changing the property name to <code>id</code> is more of a workaround or a trick."}, {"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "reply_to_user": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "edited": false, "score": 0, "creation_date": 1508959647, "post_id": 46940034, "comment_id": 80828386, "body": "@Transcendent I strongly disagree.  It&#39;s not a workaround or trick.  It&#39;s how the default routes are intended to work.  MVC is a convention-based framework and the default convention is that the parameter is named <code>id</code>.  If you name your parameter something else, you must alter the route table in some manner.  If there are 30 action methods each with a different parameter name then you need 30 attributes bloating your routing table."}, {"owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "reply_to_user": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1508959717, "post_id": 46940034, "comment_id": 80828426, "body": "@stephen.vakil: Try to imagine a case where you both have an <code>id</code> and a <code>productId</code>. Then your solution will not work."}, {"owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "reply_to_user": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1508959796, "post_id": 46940034, "comment_id": 80828467, "body": "@stephen.vakil: Multiple required parameters is something which is very common particularly in Web API."}, {"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "reply_to_user": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "edited": false, "score": 0, "creation_date": 1508959799, "post_id": 46940034, "comment_id": 80828471, "body": "@Transcendent sounds like premature optimization to me to imagine scenarios where the default route doesn&#39;t work and therefore to never use the default route."}], "answers": [{"tags": [], "owner": {"reputation": 6379, "user_id": 4826138, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/TkJDs.jpg?s=128&g=1", "display_name": "Farhad Bagherlo", "link": "https://stackoverflow.com/users/4826138/farhad-bagherlo"}, "is_accepted": false, "score": 1, "last_activity_date": 1508958418, "last_edit_date": 1508958418, "creation_date": 1508957930, "answer_id": 46940121, "question_id": 46940034, "link": "https://stackoverflow.com/questions/46940034/mvc-controller-method-not-being-triggered-by-jquery-in-the-view/46940121#46940121", "title": "MVC controller method not being triggered by jquery in the view", "body": "<p>set Url by <code>Url.Action</code> </p>\n\n<pre><code> var Url='@(Url.Action(\"ActionName\",\"ConttrolerName\"))';\n</code></pre>\n\n<p>and Put the variable name of the sent with the same variable received</p>\n\n<p><code>SelectedID</code> to <code>ProdID</code></p>\n\n<hr>\n\n<pre><code>&lt;script type=\"text/jscript\"&gt;\n        $('#MyProducts').on(\"change\",function () {\n            var Url='@(Url.Action(\"LoadProducts\",\"Product\"))';\n            var SelectedProdID = $(this).find(\"option:selected\").val();\n            $.get( Url,{prodID:SelectedProdID}, function (data) {\n                window.alert(selectedID);\n            });\n        });\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "is_accepted": true, "score": 1, "last_activity_date": 1508959238, "last_edit_date": 1508959238, "creation_date": 1508958516, "answer_id": 46940292, "question_id": 46940034, "link": "https://stackoverflow.com/questions/46940034/mvc-controller-method-not-being-triggered-by-jquery-in-the-view/46940292#46940292", "title": "MVC controller method not being triggered by jquery in the view", "body": "<p>In your controller, you can use <code>HttpGetArribute</code> to define the route. Without specifying the route, the parameter is considered as optional and it should be called as <code>Product/LoadProducts?prodId=1</code>. Example of <code>HttpGetAttribute</code>:</p>\n\n<pre><code>[HttpGet(\"[controller]\\[action]\\{prodId}\")]\npublic ActionResult LoadProducts(int prodID)\n{\n     return View();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 4811627, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TuhQ-pWlNto/AAAAAAAAAAI/AAAAAAAAAIU/kn0PsY_oTNU/photo.jpg?sz=128", "display_name": "Collin Yeadon", "link": "https://stackoverflow.com/users/4811627/collin-yeadon"}, "is_accepted": false, "score": 1, "last_activity_date": 1508958997, "last_edit_date": 1508958997, "creation_date": 1508958613, "answer_id": 46940321, "question_id": 46940034, "link": "https://stackoverflow.com/questions/46940034/mvc-controller-method-not-being-triggered-by-jquery-in-the-view/46940321#46940321", "title": "MVC controller method not being triggered by jquery in the view", "body": "<p>Suggestion:  use script type=\"text/javascript\".  I am not an expert on which browsers support \"jscript\" but after 20 years of development I can assure you all browsers support javascript.</p>\n\n<p>Also, I would discourage you from using the code which Farhad Bagherlo posted.  If at all possible you should avoid using razor code inside your script tag because you may want to move this code into separate JS files or later on refactor to use TypeScript.  Also, why invoke a method on the server to get an endpoint/url if you already know the path which is needed.  seems wasteful.  However, you could use the method he outlined to ensure that you are actually giving the correct URL.  If his code works then what is the value of \"Url\"?  (also, the client side standard for naming variables is camelCase, so url should be lower.)</p>\n\n<p>If you are debugging your code and set a breakpoint in your controller. then you should be able to get it to break on that line by simply navigating to that route.</p>\n\n<p>If you go to <a href=\"http://localhost:post/Product/LoadProducts/1\" rel=\"nofollow noreferrer\">http://localhost:post/Product/LoadProducts/1</a> does it actually break on that line in Visual Studio? </p>\n\n<p>Edit:  @Transcendent is correct and would get my vote, need to understand how routing is defined vs arguments/parameters passed to the action method.  Nice call Transcendent!</p>\n"}, {"comments": [{"owner": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "edited": false, "score": 0, "creation_date": 1508959607, "post_id": 46940513, "comment_id": 80828364, "body": "But the use of section tag does not solve the problem of <code>separating java script from cshtml views</code>. It only allows for better organization of code."}, {"owner": {"reputation": 629, "user_id": 5149679, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-JNKdQGAc_6k/AAAAAAAAAAI/AAAAAAAAAJE/YFkWz23cO8Q/photo.jpg?sz=128", "display_name": "Svet Angelov", "link": "https://stackoverflow.com/users/5149679/svet-angelov"}, "reply_to_user": {"reputation": 4806, "user_id": 2592760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/AeQT0.jpg?s=128&g=1", "display_name": "Transcendent", "link": "https://stackoverflow.com/users/2592760/transcendent"}, "edited": false, "score": 0, "creation_date": 1508961642, "post_id": 46940513, "comment_id": 80829438, "body": "@Transcendent yes, that&#39;s true, I just wanted to show that if his code was like the edited version that I posted he then could separate it.  I was not showing the separation itself here.  Just the use of <code>data</code> on the div and then being able to retrieve the value in js."}], "tags": [], "owner": {"reputation": 629, "user_id": 5149679, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-JNKdQGAc_6k/AAAAAAAAAAI/AAAAAAAAAJE/YFkWz23cO8Q/photo.jpg?sz=128", "display_name": "Svet Angelov", "link": "https://stackoverflow.com/users/5149679/svet-angelov"}, "is_accepted": false, "score": 0, "last_activity_date": 1509026661, "last_edit_date": 1509026661, "creation_date": 1508959289, "answer_id": 46940513, "question_id": 46940034, "link": "https://stackoverflow.com/questions/46940034/mvc-controller-method-not-being-triggered-by-jquery-in-the-view/46940513#46940513", "title": "MVC controller method not being triggered by jquery in the view", "body": "<p>I agree with Collin on that using razor in your javascript marries them and that can be a pain if you try to split the js into its own file.  I recently had to go through it.</p>\n\n<p>Edit: This is just to show how to use <code>Url.Action</code> and still be able to separate js into a separate file by the use of <code>data</code> property in the div</p>\n\n<p>What I suggest is doing something like:</p>\n\n<pre><code>@section Scripts {\n&lt;script type=\"text/javascript\"&gt;\n    $('#MyProducts').change(function () {\n        var url = $('#mydiv').data('url') + '?prodId=' + selectedID;\n\n        var selectedID = $(this).val();\n        $.get(url, function (data) {\n            window.alert(selectedID);\n        });\n    });\n&lt;/script&gt;\n}\n\n&lt;div id=\"mydiv\" data-url=\"@(Url.Action(\"ActionName\",\"ConttrolerName\"))\"&gt;\n    @using (Html.BeginForm(\"Update\", \"Product\", FormMethod.Post, new\n    { enctype = \"multipart/form-data\" }))\n    {\n       @Html.DropDownList(\"MyProducts\", \n       (IEnumerable&lt;SelectListItem&gt;)ViewBag.MyProducts as \n           IEnumerable&lt;SelectListItem&gt;, \"Select\")\n    }\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 68, "user_id": 2471103, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6d77bc0f4ef49e9966a90b36565daf7b?s=128&d=identicon&r=PG", "display_name": "user2471103", "link": "https://stackoverflow.com/users/2471103/user2471103"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 46940292, "answer_count": 4, "score": 0, "last_activity_date": 1509026661, "creation_date": 1508957583, "last_edit_date": 1508957726, "question_id": 46940034, "link": "https://stackoverflow.com/questions/46940034/mvc-controller-method-not-being-triggered-by-jquery-in-the-view", "title": "MVC controller method not being triggered by jquery in the view", "body": "<p>I have the following method in a controller called \"ProductController\":</p>\n\n<pre><code>public ActionResult LoadProducts(int prodID)\n{\n    return View();\n}\n</code></pre>\n\n<p>I'm trying to trigger it from a view cshtml page this way:</p>\n\n<pre><code>@section Scripts {\n&lt;script type=\"text/jscript\"&gt;\n    $('#MyProducts').change(function () {\n        var selectedID = $(this).val();\n        $.get('/Product/LoadProducts/' + selectedID, function (data) {\n            window.alert(selectedID);\n        });\n    });\n&lt;/script&gt;\n}\n\n&lt;div&gt;\n    @using (Html.BeginForm(\"Update\", \"Product\", FormMethod.Post, new\n    { enctype = \"multipart/form-data\" }))\n    {\n       @Html.DropDownList(\"MyProducts\", \n       (IEnumerable&lt;SelectListItem&gt;)ViewBag.MyProducts as \n           IEnumerable&lt;SelectListItem&gt;, \"Select\")\n    }\n&lt;/div&gt;\n</code></pre>\n\n<p>The call to the jquery works when I change the value in the drop down, as I tested it via the popup box, but getting it to trigger the action method in the controller is not working.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 1, "creation_date": 1508957649, "post_id": 46940021, "comment_id": 80827198, "body": "Read about <code>Split</code>"}, {"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 1, "creation_date": 1508957650, "post_id": 46940021, "comment_id": 80827200, "body": "The third line has spaces in between the numbers and as such can&#39;t be parsed as an int."}, {"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 1, "creation_date": 1508957677, "post_id": 46940021, "comment_id": 80827220, "body": "Replace your reading code as <code>var line = fileReader.ReadLine(); processes = int.Parse(line);</code> and the debug code line by line <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>"}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1508957847, "post_id": 46940021, "comment_id": 80827309, "body": "I advise you to start looking at signatures and documentation of methods.<code>int.Parse(string)</code> does do what you think it does."}], "answers": [{"comments": [{"owner": {"reputation": 516, "user_id": 1182461, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/00308b8042dc6c9344c3db5e0e37ebec?s=128&d=identicon&r=PG", "display_name": "James Crosswell", "link": "https://stackoverflow.com/users/1182461/james-crosswell"}, "edited": false, "score": 0, "creation_date": 1508965157, "post_id": 46941751, "comment_id": 80831215, "body": "What&#39;s with the down vote? This is exactly why the original code is throwing an error (and without any further context for what the OP actually wants to do, it&#39;s hard to provide any more useful information on what the code should look like)."}], "tags": [], "owner": {"reputation": 516, "user_id": 1182461, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/00308b8042dc6c9344c3db5e0e37ebec?s=128&d=identicon&r=PG", "display_name": "James Crosswell", "link": "https://stackoverflow.com/users/1182461/james-crosswell"}, "is_accepted": false, "score": -2, "last_activity_date": 1508964295, "creation_date": 1508964295, "answer_id": 46941751, "question_id": 46940021, "link": "https://stackoverflow.com/questions/46940021/input-string-was-not-in-correct-format-when-reading-ints-from-a-file-into-an-arr/46941751#46941751", "title": "Input string was not in correct format when reading ints from a file into an array", "body": "<p>You can reproduce the same error with the following much simpler (but also buggy) code:</p>\n\n<pre><code>class Program\n{\n    public static void Main(string[] args)\n    {\n        var a = int.Parse(\"10 5 7\");\n        Console.WriteLine(a);\n        Console.ReadKey();\n    }\n}\n</code></pre>\n\n<p>Basically the int.Parse method doesn't know how to convert \"10 5 7\" into an integer... which is fair enough since it looks like 3 separate integers (maybe you expected it to come back with the answer 1057... but you'll have to remove the spaces if you want it to do that).</p>\n"}], "owner": {"reputation": 1, "user_id": 7687931, "user_type": "registered", "profile_image": "https://graph.facebook.com/1403058493079385/picture?type=large", "display_name": "Steven Smathers", "link": "https://stackoverflow.com/users/7687931/steven-smathers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1508964295, "creation_date": 1508957520, "question_id": 46940021, "link": "https://stackoverflow.com/questions/46940021/input-string-was-not-in-correct-format-when-reading-ints-from-a-file-into-an-arr", "title": "Input string was not in correct format when reading ints from a file into an array", "body": "<p>I am getting the error \"Input string was not in correct format\" when counter is equal to 2. In other words, when I am trying to put the value into resourceTypes.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.IO;\n\nnamespace Banking_Steven_Smathers\n{\n    class Program\n    {\n        public static int processes=0;\n        public static int resourceTypes=0;\n        public static int [,] allocation=new int[3,5];\n        public static int[,] max=new int[3,5];\n        public static int[,] need=new int[3,5];\n        public static int[] available=new int[3];\n\n        static void Main(string[] args)\n        {\n            readFile();\n            Console.ReadKey();\n        }\n\n        static void readFile()\n        {\n            StreamReader fileReader = new StreamReader(\"data.txt\");\n            int counter=0;\n            while (counter &lt;= 1)\n            {\n                processes = int.Parse(fileReader.ReadLine());\n                counter++;\n            }\n            while(counter&lt;=2)\n            {\n                resourceTypes = int.Parse(fileReader.ReadLine());\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>And here is the text file I'm trying to read from:</p>\n\n<pre><code>5\n3\n10 5 7\n0 1 0\n2 0 0\n3 0 2\n2 1 1\n0 0 2\n7 5 3\n3 2 2\n9 0 2\n2 2 2\n4 3 3\n</code></pre>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["c#", ".net", "entity-framework", "asp.net-core", "asp.net-core-2.0"], "comments": [{"owner": {"reputation": 1826, "user_id": 3078539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/z8LeR.jpg?s=128&g=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/3078539/artem"}, "edited": false, "score": 0, "creation_date": 1508957698, "post_id": 46940006, "comment_id": 80827232, "body": "Check your startup project and project selected in the dropdown in npm console. For me it works only when both are pointrf to data access library (where object classes are defined)"}, {"owner": {"reputation": 85, "user_id": 1934311, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/251cc095d6b69d57952e751971cef815?s=128&d=identicon&r=PG", "display_name": "Zozala", "link": "https://stackoverflow.com/users/1934311/zozala"}, "reply_to_user": {"reputation": 1826, "user_id": 3078539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/z8LeR.jpg?s=128&g=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/3078539/artem"}, "edited": false, "score": 0, "creation_date": 1509004361, "post_id": 46940006, "comment_id": 80844416, "body": "There&#39;s only one project at the moment :/"}], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 1934311, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/251cc095d6b69d57952e751971cef815?s=128&d=identicon&r=PG", "display_name": "Zozala", "link": "https://stackoverflow.com/users/1934311/zozala"}, "is_accepted": true, "score": 0, "last_activity_date": 1509009170, "creation_date": 1509009170, "answer_id": 46950260, "question_id": 46940006, "link": "https://stackoverflow.com/questions/46940006/net-core-2-entity-framework-migrations-not-working/46950260#46950260", "title": ".net core 2 entity framework migrations not working", "body": "<p>Omg such a stupid mistake (and I don't really understand it).</p>\n\n<p>I was using the command <code>dotnet ef migrations add InitialCreate</code> like this link sais <a href=\"https://docs.microsoft.com/en-us/aspnet/core/data/ef-mvc/migrations\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/data/ef-mvc/migrations</a></p>\n\n<p>This gives the error as posted but when I use <code>Add-Migration InitialCreate</code> it works just fine?</p>\n"}, {"tags": [], "owner": {"reputation": 8268, "user_id": 1233379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ewPVr.png?s=128&g=1", "display_name": "Darkseal", "link": "https://stackoverflow.com/users/1233379/darkseal"}, "is_accepted": false, "score": 0, "last_activity_date": 1539825566, "last_edit_date": 1539825566, "creation_date": 1512781011, "answer_id": 47724238, "question_id": 46940006, "link": "https://stackoverflow.com/questions/46940006/net-core-2-entity-framework-migrations-not-working/47724238#47724238", "title": ".net core 2 entity framework migrations not working", "body": "<p>Check if you have some DB initialization code (such as a data-seeding method) in the <strong>Startup.cs</strong> file's <code>Configure()</code> method: in case you do, you could fix your issue by removing that code from there and move it into the <strong>Program.cs</strong> file's <code>Main()</code> method in the following way:</p>\n\n<pre><code>public static void Main(string[] args)\n{\n    // REPLACE THIS:\n    // BuildWebHost(args).Run();\n\n    // WITH THIS:\n    var host = BuildWebHost(args);\n    using (var scope = host.Services.CreateScope())\n    {\n        // Retrieve your DbContext isntance here\n        var dbContext = scope.ServiceProvider.GetService&lt;ApplicationDbContext&gt;();\n\n        // place your DB seeding code here\n        DbSeeder.Seed(dbContext);\n    }\n    host.Run();\n\n    // ref.: https://docs.microsoft.com/en-us/aspnet/core/migration/1x-to-2x/\n}\n\npublic static IWebHost BuildWebHost(string[] args) =&gt;\n    WebHost.CreateDefaultBuilder(args)\n        .UseStartup&lt;Startup&gt;()\n        .Build();\n</code></pre>\n\n<p>Such kind of issues are due to the fact that in EF Core 2.x they changed the behaviour of how the <strong>BuildWebHost</strong> method works: now it invokes the <code>Configure</code> method in the <strong>Startup.cs</strong> file, which could lead to unexpected problems if that method contains some database initialization code. </p>\n\n<p>The major issue there is that such problems will most likely raise misleading exceptions whenever the seeding code runs before the first <code>dotnet ef migrations add</code> /  <code>dotnet ef database update</code> command execution \u2013 when the database doesn\u2019t yet exist: after that, they found a valid Database and do their job without raising any exception.</p>\n\n<p>For additional info, check the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/migration/1x-to-2x/#move-database-initialization-code\" rel=\"nofollow noreferrer\">MS official EF Core 1.x to 2.x migration guide</a> and also <a href=\"https://www.ryadel.com/en/buildwebhost-unable-to-create-an-object-of-type-applicationdbcontext-error-idesigntimedbcontextfactory-ef-core-2-fix/\" rel=\"nofollow noreferrer\">this blog post</a> that I wrote on this topic.</p>\n"}, {"tags": [], "owner": {"reputation": 835, "user_id": 5861620, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/qCn3a.jpg?s=128&g=1", "display_name": "hamid_reza hobab", "link": "https://stackoverflow.com/users/5861620/hamid-reza-hobab"}, "is_accepted": false, "score": 0, "last_activity_date": 1512792149, "creation_date": 1512792149, "answer_id": 47725204, "question_id": 46940006, "link": "https://stackoverflow.com/questions/46940006/net-core-2-entity-framework-migrations-not-working/47725204#47725204", "title": ".net core 2 entity framework migrations not working", "body": "<p>for Example if you have 2 project in your solution as : UiProject &amp; DataProject</p>\n\n<p>first set your ui project as startup. then in powershell goto the your DataAccess project then:</p>\n\n<pre><code>1: dotnet ef migrations add firstMigrate --startup-project ./UiProject\n2: dotnet ef database update --startup-project ./UiProject\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17274, "user_id": 1945957, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2b691806f42e351ccd9f0505b5f41719?s=128&d=identicon&r=PG", "display_name": "Jeremy Cook", "link": "https://stackoverflow.com/users/1945957/jeremy-cook"}, "is_accepted": false, "score": 0, "last_activity_date": 1592006345, "creation_date": 1592006345, "answer_id": 62354020, "question_id": 46940006, "link": "https://stackoverflow.com/questions/46940006/net-core-2-entity-framework-migrations-not-working/62354020#62354020", "title": ".net core 2 entity framework migrations not working", "body": "<p>When hitting errors like this it can be helpful to use the <code>-Verbose</code> flag in PowerShell or <code>--verbose</code> in the terminal to discover an exception in your code (or maybe a Nuget package you are using) that is being thrown during startup and killing EF Core's pipeline. It could be something related to a DbContext or something completely unrelated.</p>\n\n<pre><code>Add-Migration MyMigration -Verbose\n</code></pre>\n\n<p>or</p>\n\n<pre><code>dotnet ef migrations add MyMigration --verbose\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 1934311, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/251cc095d6b69d57952e751971cef815?s=128&d=identicon&r=PG", "display_name": "Zozala", "link": "https://stackoverflow.com/users/1934311/zozala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1874, "favorite_count": 1, "accepted_answer_id": 46950260, "answer_count": 4, "score": 0, "last_activity_date": 1592006345, "creation_date": 1508957429, "question_id": 46940006, "link": "https://stackoverflow.com/questions/46940006/net-core-2-entity-framework-migrations-not-working", "title": ".net core 2 entity framework migrations not working", "body": "<p>I'm having a problem with adding a database migration in .net core 2.0.\nI'm getting the following error:</p>\n\n<pre><code>An error occurred while calling method 'BuildWebHost' on class 'Program'. Continuing without the application service provider. Error: One or more errors occurred. (Webpack dev middleware failed because of an error while loading 'aspnet-webpack'. Error was: Error: Cannot find module 'aspnet-webpack'\n    at Function.Module._resolveFilename (module.js:469:15)\n    at Function.Module._load (module.js:417:25)\n    at Module.require (module.js:497:17)\n    at require (internal/module.js:20:19)\n    at Object.&lt;anonymous&gt; (C:\\Users\\Dries\\AppData\\Local\\Temp\\quzf2u2y.rt0:83:19)\n    at __webpack_require__ (C:\\Users\\Dries\\AppData\\Local\\Temp\\quzf2u2y.rt0:20:30)\n    at createWebpackDevServer (C:\\Users\\Dries\\AppData\\Local\\Temp\\quzf2u2y.rt0:62:26)\n    at C:\\Users\\Dries\\AppData\\Local\\Temp\\00o3h05d.izo:114:19\n    at IncomingMessage.&lt;anonymous&gt; (C:\\Users\\Dries\\AppData\\Local\\Temp\\00o3h05d.izo:133:38)\n    at emitNone (events.js:86:13)\nCurrent directory is: D:\\Projects\\Jeroen Fiers\\Projecten\\Fiers\\bin\\MCD\\Debug\\netcoreapp2.0\n)\nUnable to create an object of type 'ApplicationDbContext'. Add an implementation of 'IDesignTimeDbContextFactory&lt;ApplicationDbContext&gt;' to the project, or see https://go.microsoft.com/fwlink/?linkid=851728 for additional patterns supported at design time.\n</code></pre>\n\n<p>My Program.cs is adjusted to the following:</p>\n\n<pre><code>public class Program{\n    public static void Main(string[] args)\n    {\n        BuildWebHost(args).Run();\n    }\n    public static IWebHost BuildWebHost(string[] args) =&gt;\n        WebHost.CreateDefaultBuilder(args)\n            .UseStartup&lt;Startup&gt;()\n            .Build();\n}\n</code></pre>\n\n<p>The strange part is that the migrations have worked before (one time).</p>\n"}, {"tags": ["c#", "linq", "dictionary"], "comments": [{"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 1, "creation_date": 1508957400, "post_id": 46939960, "comment_id": 80827081, "body": "<code>Mydatatable.GroupBy(x=&gt;x.idGroup)</code> ? <code>Mydatatable.ToLookup(x=&gt;x.idGroup)</code> ?"}, {"owner": {"reputation": 6121, "user_id": 1292432, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f70769a552866d6f1cc3cf283933cb81?s=128&d=identicon&r=PG", "display_name": "Unbreakable", "link": "https://stackoverflow.com/users/1292432/unbreakable"}, "reply_to_user": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 0, "creation_date": 1508958053, "post_id": 46939960, "comment_id": 80827452, "body": "@L.B: I made an edit to my question. I have three columns but I want only two columns. Please see the original datatable once."}, {"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 0, "creation_date": 1508959337, "post_id": 46939960, "comment_id": 80828210, "body": "Unbreakable, groupby returns an IEnumerable of your type. So &quot;Select&quot; whatever you want"}], "answers": [{"comments": [{"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 0, "creation_date": 1508958086, "post_id": 46939996, "comment_id": 80827476, "body": "@Unbreakable - update should not make a difference for given answer"}, {"owner": {"reputation": 6121, "user_id": 1292432, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f70769a552866d6f1cc3cf283933cb81?s=128&d=identicon&r=PG", "display_name": "Unbreakable", "link": "https://stackoverflow.com/users/1292432/unbreakable"}, "edited": false, "score": 0, "creation_date": 1508958157, "post_id": 46939996, "comment_id": 80827523, "body": "Thank you so much. I am trying your solution now. Will update/ask my doubts accordingly. :)"}, {"owner": {"reputation": 6121, "user_id": 1292432, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f70769a552866d6f1cc3cf283933cb81?s=128&d=identicon&r=PG", "display_name": "Unbreakable", "link": "https://stackoverflow.com/users/1292432/unbreakable"}, "edited": false, "score": 0, "creation_date": 1508959282, "post_id": 46939996, "comment_id": 80828183, "body": "There seems to be slight oversight in your solution. The code <code>val =&gt; idUnit</code> needs to be replaced with <code>val =&gt; val.idUnit</code>. Kindly confirm"}, {"owner": {"reputation": 6121, "user_id": 1292432, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f70769a552866d6f1cc3cf283933cb81?s=128&d=identicon&r=PG", "display_name": "Unbreakable", "link": "https://stackoverflow.com/users/1292432/unbreakable"}, "edited": false, "score": 0, "creation_date": 1508959497, "post_id": 46939996, "comment_id": 80828308, "body": "Worked like a Charm. thanks for helping a junior developer."}, {"owner": {"reputation": 6121, "user_id": 1292432, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f70769a552866d6f1cc3cf283933cb81?s=128&d=identicon&r=PG", "display_name": "Unbreakable", "link": "https://stackoverflow.com/users/1292432/unbreakable"}, "reply_to_user": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 0, "creation_date": 1508959903, "post_id": 46939996, "comment_id": 80828520, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/157514/discussion-between-unbreakable-and-gilad-green\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "is_accepted": true, "score": 3, "last_activity_date": 1508959311, "last_edit_date": 1508959311, "creation_date": 1508957406, "answer_id": 46939996, "question_id": 46939960, "link": "https://stackoverflow.com/questions/46939960/how-to-create-group-by-in-linq-in-a-dictionary/46939996#46939996", "title": "How to create group By in LINQ in a dictionary", "body": "<p>First of all the error is because in your <code>ToDictionary</code> the value you specify is the <code>idUnit</code> which is an <code>int</code> and not a <code>List&lt;int&gt;</code> (for instance writing <code>p =&gt; new List&lt;int&gt; { p.idUnit }</code> would resolve that error)</p>\n\n<p>Then after that for a dictionary output first <code>GroupBy</code> and then <code>ToDictionary</code>. Otherwise you will get an exception stating the given key already exists in the dictionary.</p>\n\n<pre><code>var result = Mydatatable.GroupBy(key =&gt; key.idGroup, val =&gt; val.idUnit)\n                        .ToDictionary(key =&gt; key.Key, val =&gt; val.ToList());\n</code></pre>\n\n<p>Another option is to use a <code>Lookup</code> instead of a <code>Dictionary</code> and then just </p>\n\n<pre><code>var result = Mydatatable.ToLookup(p =&gt; p.idGroup, p =&gt; p.idUnit);\n</code></pre>\n"}], "owner": {"reputation": 6121, "user_id": 1292432, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f70769a552866d6f1cc3cf283933cb81?s=128&d=identicon&r=PG", "display_name": "Unbreakable", "link": "https://stackoverflow.com/users/1292432/unbreakable"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 46939996, "answer_count": 1, "score": -1, "last_activity_date": 1508959311, "creation_date": 1508957256, "last_edit_date": 1508958021, "question_id": 46939960, "link": "https://stackoverflow.com/questions/46939960/how-to-create-group-by-in-linq-in-a-dictionary", "title": "How to create group By in LINQ in a dictionary", "body": "<p>I am learning LINQ Query and stuck at one place. Suppose I have a <code>strongly typed datatable</code> like below</p>\n\n<pre><code>idGroup   idUnit    Status\n  1        12        foo\n  1        13        bar\n  1        15        hello\n  2        12        nofoo\n  2        16        nohello  \n</code></pre>\n\n<p>I want the result like below:</p>\n\n<pre><code> int     Generic List of int\n 1         12,13,15\n 2         12,16\n</code></pre>\n\n<p>So more like I want to create a dictionary but <strong>group by</strong> it based on <strong>idGroup</strong>.</p>\n\n<p>My Attempt:</p>\n\n<pre><code>Dictionary&lt;int, List&lt;int&gt;&gt; temp = Mydatatable.ToDictionary(p =&gt; p.idGroup, p =&gt; p.idUnit);\n</code></pre>\n\n<p>Error: Above LINQ will return me <code>&lt;int&gt;, &lt;int&gt;</code>, but my expected result is <code>&lt;int&gt;, List&lt;int&gt;</code>.`</p>\n\n<p>I want something like below:</p>\n\n<pre><code>Dictionary&lt;int, List&lt;int&gt;&gt; temp = Mydatatable.ToDictionary(p =&gt; p.idGroup, \n                                                           p =&gt; p.idUnit.ToList());\n</code></pre>\n"}, {"tags": ["c#", "asynchronous", "static", "task", "httpclient"], "comments": [{"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 0, "creation_date": 1508957389, "post_id": 46939959, "comment_id": 80827077, "body": "if <code>DownloadImage</code> is being called on the same instance of whatever class this code is in, then there is no difference"}, {"owner": {"reputation": 323, "user_id": 8833502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef045eadecdf4c33c93fe1d514bba8ab?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Layhey", "link": "https://stackoverflow.com/users/8833502/jim-layhey"}, "reply_to_user": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 0, "creation_date": 1508957710, "post_id": 46939959, "comment_id": 80827234, "body": "@Jonesopolis Yep, that&#39;s the case."}, {"owner": {"reputation": 323, "user_id": 8833502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef045eadecdf4c33c93fe1d514bba8ab?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Layhey", "link": "https://stackoverflow.com/users/8833502/jim-layhey"}, "reply_to_user": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 0, "creation_date": 1508957839, "post_id": 46939959, "comment_id": 80827305, "body": "Does anyone know when it would be appropriate to make a static HttpClient that is often reused? This post recommends making it so: <a href=\"https://aspnetmonsters.com/2016/08/2016-08-27-httpclientwrong/\" rel=\"nofollow noreferrer\">aspnetmonsters.com/2016/08/2016-08-27-httpclientwrong</a>"}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 1, "creation_date": 1508957855, "post_id": 46939959, "comment_id": 80827311, "body": "<a href=\"https://aspnetmonsters.com/2016/08/2016-08-27-httpclientwrong/\" rel=\"nofollow noreferrer\">HttpClient is fully thread-safe and reentrant</a>, so making it a static variable is actually the preferred way of interacting with it."}, {"owner": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "edited": false, "score": 1, "creation_date": 1508958412, "post_id": 46939959, "comment_id": 80827685, "body": "what is <code>temp</code>? And why isn&#39;t your <code>DownloadImage</code> <code>async</code>?"}, {"owner": {"reputation": 323, "user_id": 8833502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef045eadecdf4c33c93fe1d514bba8ab?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Layhey", "link": "https://stackoverflow.com/users/8833502/jim-layhey"}, "reply_to_user": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "edited": false, "score": 0, "creation_date": 1508958600, "post_id": 46939959, "comment_id": 80827798, "body": "@AkashKava Sorry, fixed that. I removed and renamed things to make what I was trying to show clearer and missed some things."}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "reply_to_user": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "edited": false, "score": 0, "creation_date": 1508958632, "post_id": 46939959, "comment_id": 80827822, "body": "As @AkashKava pointed out, your whole method should be marked with <code>async</code>, and return a <code>Task</code> (not <code>void</code>!).  As your method stands now, it won&#39;t even compile, since you can&#39;t use <code>await</code> in a non-async method. Also, calling <code>Result</code> on an async task without <code>await</code>, to try and invoke it synchronously, is a good way to deadlock things."}], "answers": [{"tags": [], "owner": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "is_accepted": true, "score": 2, "last_activity_date": 1508959327, "last_edit_date": 1508959327, "creation_date": 1508958340, "answer_id": 46940243, "question_id": 46939959, "link": "https://stackoverflow.com/questions/46939959/reusable-httpclient-instance-vs-static-variable-heavily-used-in-multiple-thread/46940243#46940243", "title": "Reusable HttpClient instance vs static variable (Heavily used in multiple threads)?", "body": "<p><strong>No</strong></p>\n\n<p>Since you are not using <code>async</code> version and you are calling <code>ReadAsByteArrayAsync().Result</code> you will most likely end up in deadlocks.</p>\n\n<p><strong>Recommended</strong></p>\n\n<p>Following is the most recommended way,</p>\n\n<pre><code>static HttpClient client = new HttpClient ();\n\npublic async Task DownloadImage(Object obj)\n{\n    using(FormUrlEncodedContent formContent = GetFormContent(Obj)) {\n       using(HttpResponseMessage Result = await \n           client.PostAsync(\"URL\", formContent)\n           .ConfigureAwait(false)){\n              byte[] Data = await Result.Content.ReadAsByteArrayAsync();\n              StaticClass.Images[Obj.ID] = ImageSource.FromStream(\n                   () =&gt; new MemoryStream(Data));\n        }\n    }\n\n}\n</code></pre>\n\n<p>Also don't call <code>Dispose</code>, use <code>using</code> block, <code>Dispose</code> will not be executed if an exception is thrown, <code>using</code> block will properly <code>Dispose</code> even in case of exception. </p>\n\n<p>As long as, all disposables are wrapped in <code>using</code> and <code>async await</code> are used properly, <code>HttpClient</code> will perform best with single static instance.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7406414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3mwDQO34WKQ/AAAAAAAAAAI/AAAAAAAAAF4/kiaSeAOXw0o/photo.jpg?sz=128", "display_name": "Angelos p", "link": "https://stackoverflow.com/users/7406414/angelos-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1576754774, "creation_date": 1576754774, "answer_id": 59408799, "question_id": 46939959, "link": "https://stackoverflow.com/questions/46939959/reusable-httpclient-instance-vs-static-variable-heavily-used-in-multiple-thread/59408799#59408799", "title": "Reusable HttpClient instance vs static variable (Heavily used in multiple threads)?", "body": "<p>HttpClient is intented by microsoft to be used as  a static object. Even if the time to instatiate it every time is trivial, because other issues could arise.\nhis link contains a simple implementation :\n<a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/advanced/calling-a-web-api-from-a-net-client\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/web-api/overview/advanced/calling-a-web-api-from-a-net-client</a> .</p>\n\n<p>Since you will be using the client in more more cases than simple getting an image I would suggest a class with static methods (async if you may) for get/post/put/delete where you would inserting method names and objects dynamically.</p>\n"}], "owner": {"reputation": 323, "user_id": 8833502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef045eadecdf4c33c93fe1d514bba8ab?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Layhey", "link": "https://stackoverflow.com/users/8833502/jim-layhey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5276, "favorite_count": 0, "accepted_answer_id": 46940243, "answer_count": 2, "score": 4, "last_activity_date": 1576754774, "creation_date": 1508957248, "last_edit_date": 1508958518, "question_id": 46939959, "link": "https://stackoverflow.com/questions/46939959/reusable-httpclient-instance-vs-static-variable-heavily-used-in-multiple-thread", "title": "Reusable HttpClient instance vs static variable (Heavily used in multiple threads)?", "body": "<p>I currently have an instance variable of a <code>HttpClient</code> which is used in an instance method to download an image. The method is always called in a <code>Task.Run()</code>.\nThis method can be called thousands of times in a minute and doesn't crash or produce any errors. But I just wanted to know what benefits, if any, there would be if I switched to a <code>static HttpClient</code>, apart from perhaps being more thread safe.</p>\n\n<p>Here is some code for context:</p>\n\n<pre><code>HttpClient client = new HttpClient(); // Make this static?\n\n// Always called in a Task.Run(() =&gt; DownloadImage(Obj));\npublic async void DownloadImage(Object obj)\n{\n    FormUrlEncodedContent formContent = GetFormContent(Obj);\n    HttpResponseMessage Result = await client.PostAsync(\"URL\", formContent).ConfigureAwait(false);\n    byte[] Data = Result.Content.ReadAsByteArrayAsync().Result;\n    StaticClass.Images[Obj.ID] = ImageSource.FromStream(() =&gt; new MemoryStream(Data));\n    formContent.Dispose();\n    Result.Dispose();\n}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "msbuild", "visual-studio-2017"], "comments": [{"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 1, "creation_date": 1508956844, "post_id": 46939827, "comment_id": 80826756, "body": "did you <a href=\"https://stackoverflow.com/questions/45613251/hide-files-in-csproj-without-excluding-them-from-build\">look here</a>?"}, {"owner": {"reputation": 12945, "user_id": 2246488, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7f300ea1293fd5e1b95783b6511d5a13?s=128&d=identicon&r=PG&f=1", "display_name": "James Wierzba", "link": "https://stackoverflow.com/users/2246488/james-wierzba"}, "reply_to_user": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 0, "creation_date": 1508956921, "post_id": 46939827, "comment_id": 80826798, "body": "@Jonesopolis The library responsible for including these dll&#39;s is not in my control, it is 3rd party package"}, {"owner": {"reputation": 23746, "user_id": 25071, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g92nf.jpg?s=128&g=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/25071/jimmy"}, "reply_to_user": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 0, "creation_date": 1509096618, "post_id": 46939827, "comment_id": 80890975, "body": "If you do something like @Jonesopolis linked to in your project file after the &lt;Import&gt; from the Nuget package, it should update those existing items to make them no longer visible."}], "answers": [{"tags": [], "owner": {"reputation": 51483, "user_id": 7460777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938b7ee32587b28c8634edec4a0f90c2?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Liu-MSFT", "link": "https://stackoverflow.com/users/7460777/leo-liu-msft"}, "is_accepted": false, "score": 2, "last_activity_date": 1509085400, "creation_date": 1509085400, "answer_id": 46968683, "question_id": 46939827, "link": "https://stackoverflow.com/questions/46939827/hide-files-with-some-extension-dll-in-visual-studio-solution-explorer/46968683#46968683", "title": "Hide files with some extension (dll) in visual studio solution explorer", "body": "<blockquote>\n  <p>How can I configure Visual Studio (2017) to not show these dlls? Some way to filter the view is a good enough fix for me.</p>\n</blockquote>\n\n<p>To my knowledge, there is no such configure Visual Studio (2017) to hide those <code>dlls</code>. Because those files are included via a <code>.targets</code> file included in a 3rd party nuget package, we could not handle those <code>dll</code> files <strong>directly</strong>. In addition, you also have no control over this third party package. </p>\n\n<p>So I am afraid you could not hide those <code>dll</code> files in Visual Studio 2017 without manipulating <code>dlls</code> files directly.</p>\n"}], "owner": {"reputation": 12945, "user_id": 2246488, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7f300ea1293fd5e1b95783b6511d5a13?s=128&d=identicon&r=PG&f=1", "display_name": "James Wierzba", "link": "https://stackoverflow.com/users/2246488/james-wierzba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1040, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1509085400, "creation_date": 1508956768, "last_edit_date": 1508957057, "question_id": 46939827, "link": "https://stackoverflow.com/questions/46939827/hide-files-with-some-extension-dll-in-visual-studio-solution-explorer", "title": "Hide files with some extension (dll) in visual studio solution explorer", "body": "<p>I have a VS2017 solution and project which is displaying these core dll libraries in solution explorer, which pollutes the view.</p>\n\n<p><a href=\"https://i.stack.imgur.com/R3P5G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R3P5G.png\" alt=\"enter image description here\"></a></p>\n\n<p>The dlls are included via a .targets file included in a 3rd party nuget package. \nI know this because when I try right click item -> remove, I get error prompt: </p>\n\n<blockquote>\n  <p>Cannot modify an evaluated object originating in an imported file\n  \"....nuget\\packages\\some.third.party.package\\1.0.0\\some.third.party.package.targets\"</p>\n</blockquote>\n\n<p>Obviously, best thing to do would be to solve root problem and not include these dlls files in msbuild targets file, however let's assume I cannot remove/modify/update this 3rd party library and it is necessary to use.</p>\n\n<p>How can I configure Visual Studio (2017) to not show these dlls? Some way to filter the view is a good enough fix for me.</p>\n"}, {"tags": ["c#", "dll", "merge"], "comments": [{"owner": {"reputation": 419, "user_id": 7806306, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Vnxdj8ACwOI/AAAAAAAAAAI/AAAAAAAAAY4/URQpzbwVFM4/photo.jpg?sz=128", "display_name": "Kuza Grave", "link": "https://stackoverflow.com/users/7806306/kuza-grave"}, "edited": false, "score": 0, "creation_date": 1508956943, "post_id": 46939715, "comment_id": 80826815, "body": "so this code is in Program.cs, and my form1 class uses metroframework, and my form 2 class uses NAudio, the Program.cs only calls form1, and form 1 calls form2."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1508965109, "post_id": 46939715, "comment_id": 80831191, "body": "The just-in-time compiler only asks for a DLL if it needs to compile code that uses it.  Just in time.  So set breakpoints on the NAudio calls to verify that they actually execute.  If they do then you&#39;ll have a reason to look for other places where naudio.dll might be stored.  Use Fuslogvw.exe and log all binds."}, {"owner": {"reputation": 419, "user_id": 7806306, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Vnxdj8ACwOI/AAAAAAAAAAI/AAAAAAAAAY4/URQpzbwVFM4/photo.jpg?sz=128", "display_name": "Kuza Grave", "link": "https://stackoverflow.com/users/7806306/kuza-grave"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1509143203, "post_id": 46939715, "comment_id": 80915799, "body": "NAudio loads just fine, ive used it for a while in the program, only now that i want to merge my dll&#39;s NAudio doesn&#39;t seem to be loaded the same way as my design Dll&#39;s"}, {"owner": {"reputation": 419, "user_id": 7806306, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Vnxdj8ACwOI/AAAAAAAAAAI/AAAAAAAAAY4/URQpzbwVFM4/photo.jpg?sz=128", "display_name": "Kuza Grave", "link": "https://stackoverflow.com/users/7806306/kuza-grave"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1509143274, "post_id": 46939715, "comment_id": 80915819, "body": "i&#39;ve seen some comments online about Managed and Unmanaged Dll&#39;s using different loading methods"}], "owner": {"reputation": 419, "user_id": 7806306, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Vnxdj8ACwOI/AAAAAAAAAAI/AAAAAAAAAY4/URQpzbwVFM4/photo.jpg?sz=128", "display_name": "Kuza Grave", "link": "https://stackoverflow.com/users/7806306/kuza-grave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508956341, "creation_date": 1508956341, "question_id": 46939715, "link": "https://stackoverflow.com/questions/46939715/merging-dll-into-c-exe-not-loading-dll-why", "title": "Merging DLL into C# Exe, not loading DLL, WHY?", "body": "<p>So i have to load some MetroFramework.Dll's and they work fine when merged , but i also use NAudio.dll that doesn't load at all once merged into the exe file.\nI tryed this code first:</p>\n\n<pre><code>AppDomain.CurrentDomain.AssemblyResolve += (sender, args) =&gt;\n    {\n\n        Assembly thisAssembly = Assembly.GetExecutingAssembly();\n\n        //Get the Name of the AssemblyFile\n        var name = args.Name.Substring(0, args.Name.IndexOf(',')) + \".dll\";\n\n        //Load form Embedded Resources - This Function is not called if the Assembly is in the Application Folder\n        var resources = thisAssembly.GetManifestResourceNames().Where(s =&gt; s.EndsWith(name));\n        if (resources.Count() &gt; 0)\n        {\n            var resourceName = resources.First();\n            using (Stream stream = thisAssembly.GetManifestResourceStream(resourceName))\n            {\n                if (stream == null) return null;\n                var block = new byte[stream.Length];\n                stream.Read(block, 0, block.Length);\n                return Assembly.Load(block);\n            }\n        }\n        return null;\n    };\n</code></pre>\n\n<p>And it only loads up MetroFramework... not NAudio.dll</p>\n\n<p>Then i changed to my current code:</p>\n\n<pre><code> AppDomain.CurrentDomain.AssemblyResolve += (sender, arg) =&gt;\n        {\n            if (arg.Name.StartsWith(\"NAudio\")) { return Assembly.Load(VASBUILD.Properties.Resources.NAudio); }\n            else if (arg.Name.StartsWith(\"MetroFramework\")) { return Assembly.Load(VASBUILD.Properties.Resources.MetroFramework); }\n            else if (arg.Name.StartsWith(\"MetroFramework_Design\")) { return Assembly.Load(VASBUILD.Properties.Resources.MetroFramework_Design);}\n            else if (arg.Name.StartsWith(\"MetroFramework_Fonts\")) { return Assembly.Load(VASBUILD.Properties.Resources.MetroFramework_Fonts); }\n            else\n            { return null; }\n\n        };\n</code></pre>\n\n<p>so why doesn't it work? does it need to be loaded using another way?</p>\n"}, {"tags": ["c#", "unity3d", "admob", "reward"], "comments": [{"owner": {"reputation": 718, "user_id": 830486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kSv6L.jpg?s=128&g=1", "display_name": "DSway", "link": "https://stackoverflow.com/users/830486/dsway"}, "edited": false, "score": 0, "creation_date": 1508958502, "post_id": 46939667, "comment_id": 80827737, "body": "Welcome to SO!  Your question would be more clear if you could explain whether the method is being called twice or if it&#39;s being called once but adding 20 points.  Looks like it could be because you add the event each time the ad is viewed, but never remove it."}, {"owner": {"reputation": 85, "user_id": 8833452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8efd65aa4857d39b6158678c4b8a60bf?s=128&d=identicon&r=PG&f=1", "display_name": "antal1208", "link": "https://stackoverflow.com/users/8833452/antal1208"}, "reply_to_user": {"reputation": 718, "user_id": 830486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kSv6L.jpg?s=128&g=1", "display_name": "DSway", "link": "https://stackoverflow.com/users/830486/dsway"}, "edited": false, "score": 0, "creation_date": 1509024446, "post_id": 46939667, "comment_id": 80858409, "body": "Thanks! :) Sry for my bad english... i want to said the method called twice and add 10+10 points. Cuz i checked method calls with Debug.Log! :)"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 8833452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8efd65aa4857d39b6158678c4b8a60bf?s=128&d=identicon&r=PG&f=1", "display_name": "antal1208", "link": "https://stackoverflow.com/users/8833452/antal1208"}, "edited": false, "score": 0, "creation_date": 1509024599, "post_id": 46939737, "comment_id": 80858541, "body": "Thanks for answare! If i add this line to Start method the first time when i watch video i get +20 point... next time i get 40 &gt;.&lt;"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 85, "user_id": 8833452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8efd65aa4857d39b6158678c4b8a60bf?s=128&d=identicon&r=PG&f=1", "display_name": "antal1208", "link": "https://stackoverflow.com/users/8833452/antal1208"}, "edited": false, "score": 0, "creation_date": 1509024999, "post_id": 46939737, "comment_id": 80858853, "body": "@antal1208 Did you remove the other `    rewardBasedVideo.OnAdRewarded += HandleRewardBasedVideoRewarded;` from <code>showAdd</code>?"}, {"owner": {"reputation": 85, "user_id": 8833452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8efd65aa4857d39b6158678c4b8a60bf?s=128&d=identicon&r=PG&f=1", "display_name": "antal1208", "link": "https://stackoverflow.com/users/8833452/antal1208"}, "edited": false, "score": 0, "creation_date": 1509026054, "post_id": 46939737, "comment_id": 80859673, "body": "Yeah i removed!"}, {"owner": {"reputation": 85, "user_id": 8833452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8efd65aa4857d39b6158678c4b8a60bf?s=128&d=identicon&r=PG&f=1", "display_name": "antal1208", "link": "https://stackoverflow.com/users/8833452/antal1208"}, "edited": false, "score": 0, "creation_date": 1509039858, "post_id": 46939737, "comment_id": 80868669, "body": "You have idea? :\\"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 85, "user_id": 8833452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8efd65aa4857d39b6158678c4b8a60bf?s=128&d=identicon&r=PG&f=1", "display_name": "antal1208", "link": "https://stackoverflow.com/users/8833452/antal1208"}, "edited": false, "score": 0, "creation_date": 1509040499, "post_id": 46939737, "comment_id": 80869020, "body": "Can you edit your question to show the full code? (remove the old)"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 85, "user_id": 8833452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8efd65aa4857d39b6158678c4b8a60bf?s=128&d=identicon&r=PG&f=1", "display_name": "antal1208", "link": "https://stackoverflow.com/users/8833452/antal1208"}, "edited": false, "score": 0, "creation_date": 1509045192, "post_id": 46939737, "comment_id": 80871685, "body": "Do you create that component multiple times? I&#39;d guess that <code>Start</code> is being called more than once"}, {"owner": {"reputation": 85, "user_id": 8833452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8efd65aa4857d39b6158678c4b8a60bf?s=128&d=identicon&r=PG&f=1", "display_name": "antal1208", "link": "https://stackoverflow.com/users/8833452/antal1208"}, "edited": false, "score": 0, "creation_date": 1509045263, "post_id": 46939737, "comment_id": 80871720, "body": "I checked it today but i dont find anything :\\"}], "tags": [], "owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "is_accepted": false, "score": 2, "last_activity_date": 1508956420, "creation_date": 1508956420, "answer_id": 46939737, "question_id": 46939667, "link": "https://stackoverflow.com/questions/46939667/unity-rewardad-function-call-more-time-not-just-once/46939737#46939737", "title": "Unity RewardAd function call more time not just once", "body": "<p>If you look at this method:</p>\n\n<pre><code>private void showAdd(RewardBasedVideoAd rewardBasedVideo)\n{\n    if (rewardBasedVideo.IsLoaded())\n    {\n        if (GameOverScript.GameOver) \n        {\n            rewardBasedVideo.Show ();\n            rewardBasedVideo.OnAdRewarded += HandleRewardBasedVideoRewarded;\n        }\n    }\n}\n</code></pre>\n\n<p>Every time it's called, it will add another listener of <code>HandleRewardBasedVideoRewarded</code> to <code>OnAdRewarded</code>. So, the first time it will call <code>HandleRewardBasedVideoRewarded</code> once; the second time twice; and so on.</p>\n\n<p>Normally, you would only add a listener once:</p>\n\n<pre><code>void Start()\n{\n    rewardBasedVideo = null;\n    GetComponent&lt;SpriteRenderer&gt; ().enabled = false;\n    //highscore = PlayerPrefs.GetInt (\"highscore\");\n    adUnitId = \"ca-app-pub-2**97684242*****/15*08*****\";\n    rewardBasedVideo = RewardBasedVideoAd.Instance;\n    AdRequest request = new AdRequest.Builder().Build();\n    rewardBasedVideo.LoadAd(request, adUnitId);\n\n    // Add a listener only when the script is loaded\n    rewardBasedVideo.OnAdRewarded += HandleRewardBasedVideoRewarded;\n}\n\nprivate void showAdd(RewardBasedVideoAd rewardBasedVideo)\n{\n    if (rewardBasedVideo.IsLoaded())\n    {\n        if (GameOverScript.GameOver) \n        {\n            rewardBasedVideo.Show ();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 8833452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8efd65aa4857d39b6158678c4b8a60bf?s=128&d=identicon&r=PG&f=1", "display_name": "antal1208", "link": "https://stackoverflow.com/users/8833452/antal1208"}, "is_accepted": false, "score": 0, "last_activity_date": 1509117257, "creation_date": 1509117257, "answer_id": 46978312, "question_id": 46939667, "link": "https://stackoverflow.com/questions/46939667/unity-rewardad-function-call-more-time-not-just-once/46978312#46978312", "title": "Unity RewardAd function call more time not just once", "body": "<p>I solved my problem! I think its little bit noob bits its work... :D</p>\n\n<pre><code>    using System.Collections;\n    using System.Collections.Generic;\n    using UnityEngine;\n    using GoogleMobileAds.Api;\n    using System.Threading;\n\n    public class RewardAd : MonoBehaviour {\n\n        public bool called;\n        public int highscore;\n        public int score;\n        public static GameObject drawscore_obj;\n        public RewardBasedVideoAd rewardBasedVideo = null;\n        public string adUnitId;\n\n        void Start()\n        {\n            called = false;\n            rewardBasedVideo = null;\n            GetComponent&lt;SpriteRenderer&gt; ().enabled = false;\n            //highscore = PlayerPrefs.GetInt (\"highscore\");\n            adUnitId = \"ca-app-pub-2879768424205988/1590886374\";\n            rewardBasedVideo = RewardBasedVideoAd.Instance;\n            AdRequest request = new AdRequest.Builder().Build();\n            rewardBasedVideo.LoadAd(request, adUnitId);\n            rewardBasedVideo.OnAdRewarded += HandleRewardBasedVideoRewarded;\n        }\n        void Update()\n        {\n            if (GameOverScript.GameOver) \n            {\n                GetComponent&lt;SpriteRenderer&gt; ().enabled = true;\n            }\n        }\n\n        void OnMouseDown()\n        {\n            showAdd(rewardBasedVideo);\n        }\n\n        private void showAdd(RewardBasedVideoAd rewardBasedVideo)\n        {\n            if (rewardBasedVideo.IsLoaded())\n            {\n                if (GameOverScript.GameOver) \n                {\n                    rewardBasedVideo.Show ();\n                    called = true;\n                }\n            }\n        }\n\n        public void HandleRewardBasedVideoRewarded(object sender, Reward args)\n        {   \n            if (called == true) \n            {\n                called = false;\n                highscore = PlayerPrefs.GetInt (\"highscore\");\n\n                if ((Controll.points + 10) &gt; highscore) {\n                    Controll.points += 10;\n                    if (Controll.points &gt; highscore) {\n                        PlayerPrefs.SetInt (\"highscore\", highscore);\n                    }\n                }\n            }\n         }\n      }\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 8833452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8efd65aa4857d39b6158678c4b8a60bf?s=128&d=identicon&r=PG&f=1", "display_name": "antal1208", "link": "https://stackoverflow.com/users/8833452/antal1208"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 591, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1509117257, "creation_date": 1508956151, "last_edit_date": 1509044830, "question_id": 46939667, "link": "https://stackoverflow.com/questions/46939667/unity-rewardad-function-call-more-time-not-just-once", "title": "Unity RewardAd function call more time not just once", "body": "<p>I want a RewardAd in my game. When you watch video you get +10 score to your current score not your high-score. </p>\n\n<p>You have a 45 high-score and you are now at 37, so you watch video for +10 score and you have 47 high-score it's fine. But if you do it again, the video gives you +20 score?! And the following time +30 and so on.</p>\n\n<pre><code>    using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing GoogleMobileAds.Api;\nusing System.Threading;\n\npublic class RewardAd : MonoBehaviour {\n\n    public int highscore;\n    public int score;\n    public static GameObject drawscore_obj;\n    public RewardBasedVideoAd rewardBasedVideo = null;\n    public string adUnitId;\n\n    void Start()\n    {\n        rewardBasedVideo = null;\n        GetComponent&lt;SpriteRenderer&gt; ().enabled = false;\n        //highscore = PlayerPrefs.GetInt (\"highscore\");\n        adUnitId = \"ca-app-pub-2879768424205988/1590886374\";\n        rewardBasedVideo = RewardBasedVideoAd.Instance;\n        AdRequest request = new AdRequest.Builder().Build();\n        rewardBasedVideo.LoadAd(request, adUnitId);\n        rewardBasedVideo.OnAdRewarded += HandleRewardBasedVideoRewarded;\n    }\n    void Update()\n    {\n        if (GameOverScript.GameOver) \n        {\n            GetComponent&lt;SpriteRenderer&gt; ().enabled = true;\n        }\n    }\n\n    void OnMouseDown()\n    {\n        showAdd(rewardBasedVideo);\n    }\n\n    private void showAdd(RewardBasedVideoAd rewardBasedVideo)\n    {\n        if (rewardBasedVideo.IsLoaded())\n        {\n            if (GameOverScript.GameOver) \n            {\n                rewardBasedVideo.Show ();\n            }\n        }\n    }\n\n    public void HandleRewardBasedVideoRewarded(object sender, Reward args)\n    {   \n        highscore = PlayerPrefs.GetInt (\"highscore\");\n\n        if ((Controll.points + 10) &gt; highscore) \n        {\n            Controll.points += 10;\n            if(Controll.points &gt; highscore)\n            {\n                PlayerPrefs.SetInt (\"highscore\", highscore);\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "wpf", "datagrid", "datagridtemplatecolumn"], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 658990, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/656e7ff439b6a66e05a0ebae9eb98084?s=128&d=identicon&r=PG", "display_name": "Ssebu", "link": "https://stackoverflow.com/users/658990/ssebu"}, "is_accepted": false, "score": 0, "last_activity_date": 1509043728, "creation_date": 1509043728, "answer_id": 46961731, "question_id": 46939637, "link": "https://stackoverflow.com/questions/46939637/in-wpf-when-using-a-datagrid-in-another-datagrids-datagridtemplatecolumn-can/46961731#46961731", "title": "In WPF, when using a DataGrid in another DataGrid&#39;s DataGridTemplateColumn, can I customize columns?", "body": "<p>I found a solution. I had to create a custom XAML string in code and then use a XamlReader to read it:</p>\n\n<pre><code>DataGridTemplateColumn gridColumn = new DataGridTemplateColumn();\ngridColumn.Header = patientColumnName;\ngridColumn.Width = DataGridLength.Auto;\n\nStringBuilder xamlBuilder = new StringBuilder();\nxamlBuilder.AppendLine(\"&lt;DataTemplate xmlns=\\\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\\\"&gt;\");\nxamlBuilder.AppendLine(\"    &lt;DataGrid ItemsSource = \\\"{Binding Visits}\\\" AutoGenerateColumns = \\\"False\\\" Margin = \\\"-10,-3,-10,-5\\\"&gt;\");\nxamlBuilder.AppendLine(\"        &lt;DataGrid.Columns&gt;\");\n// Put whatever here.\nxamlBuilder.AppendLine(\"        &lt;/DataGrid.Columns&gt;\");\nxamlBuilder.AppendLine(\"    &lt;/DataGrid&gt;\");\nxamlBuilder.AppendLine(\"&lt;/DataTemplate&gt;\");\n\nDataTemplate dataTemplate = XamlReader.Parse(xamlBuilder.ToString()) as DataTemplate;\n\ngridColumn.CellTemplate = dataTemplate;\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 658990, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/656e7ff439b6a66e05a0ebae9eb98084?s=128&d=identicon&r=PG", "display_name": "Ssebu", "link": "https://stackoverflow.com/users/658990/ssebu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 415, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1509043728, "creation_date": 1508956067, "last_edit_date": 1509027144, "question_id": 46939637, "link": "https://stackoverflow.com/questions/46939637/in-wpf-when-using-a-datagrid-in-another-datagrids-datagridtemplatecolumn-can", "title": "In WPF, when using a DataGrid in another DataGrid&#39;s DataGridTemplateColumn, can I customize columns?", "body": "<p>So I have the following data grid, bound to some dynamic data:</p>\n\n<pre><code>&lt;DataGrid x:Name=\"dataGrid\" AutoGenerateColumns=\"False\" ColumnHeaderStyle=\"{StaticResource timmy}\"&gt;\n    &lt;DataGrid.Columns&gt;\n        &lt;DataGridTextColumn Header=\"First Name\" Binding=\"{Binding FirstName}\"&gt;&lt;/DataGridTextColumn&gt;\n        &lt;DataGridTextColumn Header=\"Last Name\" Binding=\"{Binding LastName}\"&gt;&lt;/DataGridTextColumn&gt;\n        &lt;DataGridTemplateColumn Header=\"Cars\"&gt;\n            &lt;DataGridTemplateColumn.CellTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;DataGrid ItemsSource=\"{Binding Cars}\" AutoGenerateColumns=\"False\" Margin=\"-10,-3,-10,-5\" ColumnHeaderStyle=\"{StaticResource timmy2}\"&gt;\n                        &lt;DataGrid.Columns&gt;\n                            &lt;DataGridTextColumn Header=\"Brand\" Binding=\"{Binding Brand}\" Width=\"170\"&gt;&lt;/DataGridTextColumn&gt;\n                            &lt;DataGridTextColumn Header=\"Model\" Binding=\"{Binding Model}\" Width=\"170\"&gt;&lt;/DataGridTextColumn&gt;\n                        &lt;/DataGrid.Columns&gt;\n                    &lt;/DataGrid&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/DataGridTemplateColumn.CellTemplate&gt;\n        &lt;/DataGridTemplateColumn&gt;\n    &lt;/DataGrid.Columns&gt;\n&lt;/DataGrid&gt;\n</code></pre>\n\n<p>This prototype works well, but I now need to populate the inner DataGrid's columns at runtime. I know I can set a DataGridTemplateColumn programmatically like so:</p>\n\n<pre><code>DataGridTemplateColumn gridColumn = new DataGridTemplateColumn();\ngridColumn.Header = key;\ngridColumn.Width = DataGridLength.Auto;\ngridColumn.MinWidth = 160.0;\n\nvar dataGridFactory = new FrameworkElementFactory(typeof(DataGrid));\ngridColumn.CellTemplate = new DataTemplate() { VisualTree = dataGridFactory };\n\nthis.resultsDataGrid.Columns.Add(gridColumn);\n</code></pre>\n\n<p>However, since I'm dealing with a factory, how can I set my columns?</p>\n"}, {"tags": ["c#", ".net", "console-application", "listener"], "answers": [{"comments": [{"owner": {"reputation": 1080, "user_id": 6236042, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e5497b65b9cee66926fc896c5ea82674?s=128&d=identicon&r=PG&f=1", "display_name": "Klicker", "link": "https://stackoverflow.com/users/6236042/klicker"}, "edited": false, "score": 0, "creation_date": 1508956067, "post_id": 46939556, "comment_id": 80826309, "body": "This does exactly what I want, and it helps me understand what <code>KeyAvailable</code> is doing - it loops (waits), while there is no key available. as soon as there is a key available it breaks the loop, and goes on to check the key. Thanks very much!"}, {"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 1, "creation_date": 1508956318, "post_id": 46939556, "comment_id": 80826459, "body": "Sitting in that tight inner while loop doesn&#39;t seem like a good idea.  Why not just put all that code inside a single <code>if</code> statement and eliminate the inner while loop.  <code>do { if (Console.KeyAvailable) { key = Console.ReadKey(true).Key; ...} } while (key != ConsoleKey.Escape);</code>.  One other thing to consider, referencing the <code>Key</code> property directly on the <code>ReadKey</code> call causes you to lose other information about the keypress, such as which modifier keys are also pressed (Ctrl, Alt, Shift)."}, {"owner": {"reputation": 1080, "user_id": 6236042, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e5497b65b9cee66926fc896c5ea82674?s=128&d=identicon&r=PG&f=1", "display_name": "Klicker", "link": "https://stackoverflow.com/users/6236042/klicker"}, "reply_to_user": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1509041503, "post_id": 46939556, "comment_id": 80869570, "body": "You make a good point @ChrisDunaway,  but in your example, the variable <code>key</code> is only assigned a value after a key has been pressed. So its not possible to construct a do-while loop using criteria which is undefined. I guess you could always just assign it a temporary value to start the loop (?), but that seems messy - more messy (though maybe not as messy as constant while loop)... Please update me if Ive misunderstood. Thanks"}, {"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1509049451, "post_id": 46939556, "comment_id": 80874109, "body": "You would still define the <code>key</code> variable outside the loop as you have done so that it will not equal <code>ConsoleKey.Escape</code>.  You only need to call <code>ReadKey</code> if there is a key available.  As soon as a key is pressed, the next time <code>KeyAvailable</code> is checked it will be true and enter the if statement.  Does that make sense?"}], "tags": [], "owner": {"reputation": 8558, "user_id": 1375753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dfea40298dab8a6a7948115487ab1a5?s=128&d=identicon&r=PG", "display_name": "Ofir Winegarten", "link": "https://stackoverflow.com/users/1375753/ofir-winegarten"}, "is_accepted": true, "score": 1, "last_activity_date": 1508955787, "creation_date": 1508955787, "answer_id": 46939556, "question_id": 46939267, "link": "https://stackoverflow.com/questions/46939267/reading-key-press-in-console-app/46939556#46939556", "title": "Reading Key Press in Console App", "body": "<p>The reason for the behavior is simple:</p>\n\n<p>You get inside the nested loop as long as there is no key pressed.\nInside you are waiting for a key and read it - So again no key is available.\neven if you press escape, you are still inside the nested loop and never get out of it.</p>\n\n<p>What you should of done is loop until you have a key available, then read it and check its value:</p>\n\n<pre><code>ConsoleKey key;\ndo\n{\n    while (!Console.KeyAvailable)\n    {\n        // Do something, but don't read key here\n    }\n\n    // Key is available - read it\n    key = Console.ReadKey(true).Key;\n\n    if (key == ConsoleKey.NumPad1)\n    {\n        Console.WriteLine(ConsoleKey.NumPad1.ToString());\n    }\n    else if (key == ConsoleKey.NumPad2)\n    {\n        Console.WriteLine(ConsoleKey.NumPad1.ToString());\n    }\n\n} while (key != ConsoleKey.Escape);\n</code></pre>\n"}], "owner": {"reputation": 1080, "user_id": 6236042, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e5497b65b9cee66926fc896c5ea82674?s=128&d=identicon&r=PG&f=1", "display_name": "Klicker", "link": "https://stackoverflow.com/users/6236042/klicker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4770, "favorite_count": 1, "accepted_answer_id": 46939556, "answer_count": 1, "score": 0, "last_activity_date": 1508955787, "creation_date": 1508954782, "question_id": 46939267, "link": "https://stackoverflow.com/questions/46939267/reading-key-press-in-console-app", "title": "Reading Key Press in Console App", "body": "<p>I'm writing a small application which will wait for a key press, then perform an action based on what key is pressed. For example, if no key is pressed, it will just continue waiting, if key 1 is pressed, it will perform action 1, or if key 2 is pressed it will perform action 2. I have found several helpful posts so far, <a href=\"https://stackoverflow.com/questions/5891538/listen-for-key-press-in-net-console-app\">this one</a> being an example. From this, I have the following code so far.</p>\n\n<pre><code>do\n{\n    while (!Console.KeyAvailable)\n    {\n        if (Console.ReadKey(true).Key == ConsoleKey.NumPad1)\n        {\n            Console.WriteLine(ConsoleKey.NumPad1.ToString());\n        }\n        if (Console.ReadKey(true).Key == ConsoleKey.NumPad2)\n        {\n            Console.WriteLine(ConsoleKey.NumPad1.ToString());\n        }\n    }\n\n} while (Console.ReadKey(true).Key != ConsoleKey.Escape);\n</code></pre>\n\n<p>There's a couple of issue with this, which you may have guessed already. </p>\n\n<p><strong>1)</strong>\nUsing the <code>ReadKey</code> to detect which key is pressed results in a temporary pause, meaning the key will have to be pressed. I really need to find a way to avoid this. Possibly using <code>KeyAvailable</code>, but I'm not sure how you can use this to detect which key has been pressed - any ideas?</p>\n\n<p><strong>2)</strong>\nFor some reason, the <code>Escape</code> key does not escape out of the application. It does if I remove the <code>if</code> statements, however running the code as is above does not let me exit the application using the designated key - any ideas?</p>\n"}, {"tags": ["c#", "dependency-injection", "asp.net-core", "asp.net-core-mvc"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 2, "creation_date": 1508954977, "post_id": 46939239, "comment_id": 80825710, "body": "&quot;ConnectionString value inside MyConnectionString class is empty&quot;... <code>ConnectionString { get =&gt; return null; ...</code>, how do you expect it to return anything but <code>null</code>?"}, {"owner": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 4, "creation_date": 1508955437, "post_id": 46939239, "comment_id": 80825986, "body": "Also <code>using (var con = _connection)</code> effectively disposes the <code>_connection</code> after the first execution."}, {"owner": {"reputation": 4527, "user_id": 541065, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/447f6522620ddb164d15f777e8719bed?s=128&d=identicon&r=PG", "display_name": "Nikolaj Dam Larsen", "link": "https://stackoverflow.com/users/541065/nikolaj-dam-larsen"}, "edited": false, "score": 1, "creation_date": 1508956185, "post_id": 46939239, "comment_id": 80826387, "body": "You should instead create a new connection on every request. There&#39;ll be hardly any overhead, due to connection pooling. Also, what is the purpose of using a Facade to only expose certain of Dappers methods? I don&#39;t see any gain in this."}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "reply_to_user": {"reputation": 4527, "user_id": 541065, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/447f6522620ddb164d15f777e8719bed?s=128&d=identicon&r=PG", "display_name": "Nikolaj Dam Larsen", "link": "https://stackoverflow.com/users/541065/nikolaj-dam-larsen"}, "edited": false, "score": 0, "creation_date": 1508956748, "post_id": 46939239, "comment_id": 80826699, "body": "@NikolajDamLarsen Not all <code>IDbConnection</code> objects are cheap - connection-pooling only applies to SQL Server and possibly other third-party connections. Connections to Access/JET databases are expensive and should be long-lived, for example."}, {"owner": {"reputation": 4527, "user_id": 541065, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/447f6522620ddb164d15f777e8719bed?s=128&d=identicon&r=PG", "display_name": "Nikolaj Dam Larsen", "link": "https://stackoverflow.com/users/541065/nikolaj-dam-larsen"}, "reply_to_user": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1508956888, "post_id": 46939239, "comment_id": 80826781, "body": "@Dai Certainly, but based on his question I would safely assume he&#39;s using Sql Server, since he&#39;s creating <code>SqlConnection</code> objects."}, {"owner": {"reputation": 5308, "user_id": 2371128, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/OUH5w.png?s=128&g=1", "display_name": "Bagzli", "link": "https://stackoverflow.com/users/2371128/bagzli"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1508957420, "post_id": 46939239, "comment_id": 80827090, "body": "@CamiloTerevinto I don&#39;t think you understood the code. it is not supposed to return the connection outside of the object."}, {"owner": {"reputation": 5308, "user_id": 2371128, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/OUH5w.png?s=128&g=1", "display_name": "Bagzli", "link": "https://stackoverflow.com/users/2371128/bagzli"}, "reply_to_user": {"reputation": 4527, "user_id": 541065, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/447f6522620ddb164d15f777e8719bed?s=128&d=identicon&r=PG", "display_name": "Nikolaj Dam Larsen", "link": "https://stackoverflow.com/users/541065/nikolaj-dam-larsen"}, "edited": false, "score": 0, "creation_date": 1508957495, "post_id": 46939239, "comment_id": 80827123, "body": "@NikolajDamLarsen Thanks for the input, there are design reasons behind this that I would rather not get into as it is off topic. But bottom line, there actually is a benefit to what I am doing."}], "answers": [{"comments": [{"owner": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 1, "creation_date": 1508957414, "post_id": 46939958, "comment_id": 80827083, "body": "If you do this, you should either inject the <code>SqlConnection</code> or implement <code>IDisposable</code>."}, {"owner": {"reputation": 2321, "user_id": 5785572, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NcZz4ClhUWU/AAAAAAAAAAI/AAAAAAAAAPI/SOkHnSRAHGc/photo.jpg?sz=128", "display_name": "Etienne Faucher", "link": "https://stackoverflow.com/users/5785572/etienne-faucher"}, "reply_to_user": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 0, "creation_date": 1508957497, "post_id": 46939958, "comment_id": 80827124, "body": "True, I was wondering where his connection string was coming from. Surely from his constructor parameters."}, {"owner": {"reputation": 5308, "user_id": 2371128, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/OUH5w.png?s=128&g=1", "display_name": "Bagzli", "link": "https://stackoverflow.com/users/2371128/bagzli"}, "edited": false, "score": 0, "creation_date": 1508957687, "post_id": 46939958, "comment_id": 80827226, "body": "Thank you for the explanation. I thought that because I am creating a new variable, that the object gets duplicated and the new object gets disposed, not the original."}, {"owner": {"reputation": 5308, "user_id": 2371128, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/OUH5w.png?s=128&g=1", "display_name": "Bagzli", "link": "https://stackoverflow.com/users/2371128/bagzli"}, "edited": false, "score": 0, "creation_date": 1508957772, "post_id": 46939958, "comment_id": 80827265, "body": "I have a sub-question. I have some logic that reads the connection string from appsettings.json and then it decrypts it. This means that every time I open a connection, I have to do this step all over again. Does this feels too much processing? Does it has to be this way, is there a better way?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 5308, "user_id": 2371128, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/OUH5w.png?s=128&g=1", "display_name": "Bagzli", "link": "https://stackoverflow.com/users/2371128/bagzli"}, "edited": false, "score": 1, "creation_date": 1508957956, "post_id": 46939958, "comment_id": 80827384, "body": "@Bojan Connections should live as little as possible. You could store the decrypted value in-memory and discard the connection"}, {"owner": {"reputation": 5308, "user_id": 2371128, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/OUH5w.png?s=128&g=1", "display_name": "Bagzli", "link": "https://stackoverflow.com/users/2371128/bagzli"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1508958104, "post_id": 46939958, "comment_id": 80827492, "body": "@CamiloTerevinto I&#39;ve been taught that storing the connection string in a variable is bad practice. One of the reasons why I have the <code>ConnectionString { get =&gt; null;}</code> is to prevent any class from reading it."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 1, "creation_date": 1508958194, "post_id": 46939958, "comment_id": 80827555, "body": "It&#39;s bad to store the constant value, not a decrypted/processed/built one, as a <code>private static</code> field. If I wanted, I could read it from the <code>_connection</code> field anyway"}, {"owner": {"reputation": 2321, "user_id": 5785572, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NcZz4ClhUWU/AAAAAAAAAAI/AAAAAAAAAPI/SOkHnSRAHGc/photo.jpg?sz=128", "display_name": "Etienne Faucher", "link": "https://stackoverflow.com/users/5785572/etienne-faucher"}, "reply_to_user": {"reputation": 5308, "user_id": 2371128, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/OUH5w.png?s=128&g=1", "display_name": "Bagzli", "link": "https://stackoverflow.com/users/2371128/bagzli"}, "edited": false, "score": 0, "creation_date": 1508958614, "post_id": 46939958, "comment_id": 80827808, "body": "@Bojan: You should keep your connection as short-lived as possible, even if it is creating your connection everytime you want to connect to the database. The fact that you were taught that is that your <code>appsetting.json</code> file may change during the life of your class. This means that you don&#39;t get the latest value of your settings."}, {"owner": {"reputation": 4527, "user_id": 541065, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/447f6522620ddb164d15f777e8719bed?s=128&d=identicon&r=PG", "display_name": "Nikolaj Dam Larsen", "link": "https://stackoverflow.com/users/541065/nikolaj-dam-larsen"}, "edited": false, "score": 1, "creation_date": 1508958620, "post_id": 46939958, "comment_id": 80827815, "body": "Keeping the connection alive in the <code>MyConnectionString</code> class may have unfortunate consequences depending how it is registered with the IoC container. I definitely agree that you should dispose the connection immediately after using it, if for nothing else than to free up the connection in the pool."}, {"owner": {"reputation": 5308, "user_id": 2371128, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/OUH5w.png?s=128&g=1", "display_name": "Bagzli", "link": "https://stackoverflow.com/users/2371128/bagzli"}, "edited": false, "score": 0, "creation_date": 1508958951, "post_id": 46939958, "comment_id": 80827991, "body": "I do agree that it needs to be disposed of right away. I am just contemplating the extra processing I would do for each query just to get that connection versus storing the decrypted value somewhere. Maybe SecureString is way to go? Loop through it each time after to get the value, would be less processing than reading from file and decrypting each time."}, {"owner": {"reputation": 2321, "user_id": 5785572, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NcZz4ClhUWU/AAAAAAAAAAI/AAAAAAAAAPI/SOkHnSRAHGc/photo.jpg?sz=128", "display_name": "Etienne Faucher", "link": "https://stackoverflow.com/users/5785572/etienne-faucher"}, "edited": false, "score": 0, "creation_date": 1508959364, "post_id": 46939958, "comment_id": 80828219, "body": "You could add a cache validation unto your decrypted connectionstring. You read/decrypt the connection string and keep it inside your class with a <code>DateTime _lastReadConnectionString</code>. Whenever a certain delay is hit, you refresh and read/decrypt the connection string. You can also force the refresh by invoking the class to refresh his connection string whenever you like."}, {"owner": {"reputation": 4527, "user_id": 541065, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/447f6522620ddb164d15f777e8719bed?s=128&d=identicon&r=PG", "display_name": "Nikolaj Dam Larsen", "link": "https://stackoverflow.com/users/541065/nikolaj-dam-larsen"}, "edited": false, "score": 0, "creation_date": 1508959374, "post_id": 46939958, "comment_id": 80828227, "body": "Configure your connection string on application startup and store it in a private readonly variable passed in the constructor for the SqlConnectionFactory that Etienne suggested above. If you&#39;re concerned that your connection string is exposed in memory after encryption, you have different issues to worry about. You may have misunderstood that bad practice you mention about storing the connection string in a variable."}, {"owner": {"reputation": 5308, "user_id": 2371128, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/OUH5w.png?s=128&g=1", "display_name": "Bagzli", "link": "https://stackoverflow.com/users/2371128/bagzli"}, "edited": false, "score": 0, "creation_date": 1508959565, "post_id": 46939958, "comment_id": 80828343, "body": "From my understanding is the possibility of memory dumps exposing the string is what the big fear is."}, {"owner": {"reputation": 2321, "user_id": 5785572, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NcZz4ClhUWU/AAAAAAAAAAI/AAAAAAAAAPI/SOkHnSRAHGc/photo.jpg?sz=128", "display_name": "Etienne Faucher", "link": "https://stackoverflow.com/users/5785572/etienne-faucher"}, "edited": false, "score": 0, "creation_date": 1508960012, "post_id": 46939958, "comment_id": 80828564, "body": "I would recommend at this moment creating a new question about the memory dumps and connection strings. I&#39;m sure someone actually thought about a solution for this matter."}], "tags": [], "owner": {"reputation": 2321, "user_id": 5785572, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NcZz4ClhUWU/AAAAAAAAAAI/AAAAAAAAAPI/SOkHnSRAHGc/photo.jpg?sz=128", "display_name": "Etienne Faucher", "link": "https://stackoverflow.com/users/5785572/etienne-faucher"}, "is_accepted": true, "score": 4, "last_activity_date": 1508958655, "last_edit_date": 1508958655, "creation_date": 1508957246, "answer_id": 46939958, "question_id": 46939239, "link": "https://stackoverflow.com/questions/46939239/connectionstring-lost-on-second-execute/46939958#46939958", "title": "ConnectionString lost on second execute", "body": "<p>wrapping the <code>Connection</code> inside a <code>using</code> disposes the <code>Connection</code> at his end of execution: just as @Jasen said in comments.</p>\n\n<p>I would, in your case, just get the connection and execute on the <code>Connection</code> created in the constructor: removing the <code>using</code> completely.</p>\n\n<p>You should not create the <code>SqlConnection</code>, since you are implementing dependency injection. You should:</p>\n\n<ul>\n<li>Implement <code>IDisposable</code> to dispose your connection when your class is collected.</li>\n<li>Pass a <code>SqlConnection</code> factory to create your <code>SqlConnection</code>, seperating your creation logic from your class.</li>\n</ul>\n\n<p>Your class should resemble something like this:</p>\n\n<pre><code>public class MyConnectionString : IMyConnectionString\n{\n    private readonly IDbConnection _connection;\n\n    public int ConnectionTimeout =&gt; _connection.ConnectionTimeout;\n    public string Database =&gt; _connection.Database;\n    public string ConnectionString \n    {     \n        get =&gt; null; \n        set =&gt; _connection.ConnectionString = value; \n    }\n\n    public ConnectionState State =&gt; _connection.State;\n\n    public MyConnectionString(IOptions&lt;ConnectionProviderOptions&gt; connProvOpts, EncryptionHelper encHelper)\n    {\n        string con = \"some logic to get the connection string.\";\n        _connection = new SqlConnection(con);\n    }\n\n    public int Execute(string query, object parameters = null)\n    {\n        return _connection.Execute(query, parameters);\n    }\n}\n</code></pre>\n\n<p>With <code>IDisposable</code> implementation:</p>\n\n<pre><code>using System;\npublic class MyConnectionString : IMyConnectionString, IDisposable\n{\n    private readonly IDbConnection _connection;\n\n    public int ConnectionTimeout =&gt; _connection.ConnectionTimeout;\n    public string Database =&gt; _connection.Database;\n    public string ConnectionString \n    {     \n        get =&gt; null; \n        set =&gt; _connection.ConnectionString = value; \n    }\n\n    public ConnectionState State =&gt; _connection.State;\n\n    public MyConnectionString(IOptions&lt;ConnectionProviderOptions&gt; connProvOpts, EncryptionHelper encHelper)\n    {\n        string con = \"some logic to get the connection string.\";\n        _connection = new SqlConnection(con);\n    }\n\n    public int Execute(string query, object parameters = null)\n    {\n        return _connection.Execute(query, parameters);\n    }\n\n    public void Dispose()\n    {\n        _connection.Dispose();\n    }\n}\n</code></pre>\n\n<p>With your own <code>ISqlConnectionFactory</code> factory:</p>\n\n<pre><code>public class MyConnectionString : IMyConnectionString, IDisposable\n{\n    private readonly IDbConnection _connection;\n    private readonly ISqlConnectionFactory _factory;\n\n    public int ConnectionTimeout =&gt; _connection.ConnectionTimeout;\n    public string Database =&gt; _connection.Database;\n    public string ConnectionString \n    {     \n        get =&gt; null; \n        set =&gt; _connection.ConnectionString = value; \n    }\n\n    public ConnectionState State =&gt; _connection.State;\n\n    public MyConnectionString(IOptions&lt;ConnectionProviderOptions&gt; connProvOpts, EncryptionHelper encHelper, ISqlConnectionFactory factory)\n    {\n        _factory = factory;\n        _connection = _factory.CreateConnection(connProvOpts, encHelper);\n    }\n\n    public int Execute(string query, object parameters = null)\n    {\n        return _connection.Execute(query, parameters);\n    }\n}\n\npublic interface ISqlConnectionFactory\n{\n    SqlConnection CreateConnection(IOptions&lt;ConnectionProviderOptions&gt; connProvOpts, EncryptionHelper encHelper);\n}\n\npublic class SqlConnectionFactory : ISqlConnectionFactory\n{\n    public SqlConnectionFactory()\n    {\n         // Maybe initialization?\n    }\n\n    public SqlConnection CreateConnection(IOptions&lt;ConnectionProviderOptions&gt; connProvOpts, EncryptionHelper encHelper)\n    {\n        string con = \"some logic to get the connection string.\";\n        _connection = new SqlConnection(con);\n    }\n}\n</code></pre>\n\n<p>Personally, I would have created and disposed the <code>Connection</code> each time <code>Execute</code> is invoked. This means that outside of <code>Execute</code>, your connection is closed and resources are released.</p>\n"}], "owner": {"reputation": 5308, "user_id": 2371128, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/OUH5w.png?s=128&g=1", "display_name": "Bagzli", "link": "https://stackoverflow.com/users/2371128/bagzli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 781, "favorite_count": 0, "accepted_answer_id": 46939958, "answer_count": 1, "score": 1, "last_activity_date": 1508958655, "creation_date": 1508954679, "last_edit_date": 1508956617, "question_id": 46939239, "link": "https://stackoverflow.com/questions/46939239/connectionstring-lost-on-second-execute", "title": "ConnectionString lost on second execute", "body": "<p>I am using asp.net core 2.0 and dapper. I have a class that wraps an IDbConnection Interface and only exposes certain methods. Here is a short version of that class.</p>\n\n<pre><code>public class MyConnectionString : IMyConnectionString\n{\n    private readonly IDbConnection _connection;\n\n    public int ConnectionTimeout =&gt; _connection.ConnectionTimeout;\n    public string Database =&gt; _connection.Database;\n    public string ConnectionString { get =&gt; null; set =&gt; _connection.ConnectionString = value; }\n    public ConnectionState State =&gt; _connection.State;\n\n    public MyConnectionString(IOptions&lt;ConnectionProviderOptions&gt; connProvOpts, EncryptionHelper encHelper)\n    {\n        var con = \"some logic to get the connection string.\";\n        _connection = new SqlConnection(con);\n    }\n\n    public int Execute(string query, object parameters = null)\n    {\n        using (var con = _connection) { return con.Execute(query, parameters); }\n    }\n}\n</code></pre>\n\n<p>I am injecting this class via a constructor to my Repository services. For example, this is a method that would call it:</p>\n\n<pre><code>internal class SomeRepository\n{\n    private readonly IMyConnectionString _connection;\n\n    public SomeRepository(IMyConnectionString connection)\n    {\n        _connection = connection;\n    }\n\n    public void ExecuteSomeQuery(Object params)\n    {\n        var query = \"Some query...\";\n        _connection.Execute(query, params);\n    }\n}\n</code></pre>\n\n<p>Now the problem is that if I call <code>_connection.Execute(query, params);</code> twice in a single request (2 different services), the second time it gets called the <code>ConnectionString</code> value inside <code>MyConnectionString</code> class is empty. I have tried binding it in Transient and Request scope to see if it would preserve it, but no luck. Any idea on why this is happening or how can I preserve it so that I won't have to create the connection string every time it is requested?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "web-config", "enterprise-library"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1508955235, "post_id": 46939230, "comment_id": 80825856, "body": "Why does this matter?"}, {"owner": {"reputation": 9864, "user_id": 158008, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/834ab5fa1dd4a0ce31b808afdf0ff03c?s=128&d=identicon&r=PG", "display_name": "James123", "link": "https://stackoverflow.com/users/158008/james123"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1508955356, "post_id": 46939230, "comment_id": 80825931, "body": "There are lot of warning writing on event log. I want turn off for some time until it resolved"}], "owner": {"reputation": 9864, "user_id": 158008, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/834ab5fa1dd4a0ce31b808afdf0ff03c?s=128&d=identicon&r=PG", "display_name": "James123", "link": "https://stackoverflow.com/users/158008/james123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508955261, "creation_date": 1508954651, "last_edit_date": 1508955261, "question_id": 46939230, "link": "https://stackoverflow.com/questions/46939230/prevent-errors-warnings-from-being-logged-to-event-viewer", "title": "Prevent errors, warnings from being logged to event viewer", "body": "<p>I would like to stop writing logs (error, warning) to event viewer. I am already using  EnterpriseLibrary.Logging to Rolling Flat file. </p>\n\n<p>But want to stop to write to event log. Is there any configuration that I can use in web.config</p>\n"}, {"tags": ["c#", "unity3d", "logging", "unity5"], "comments": [{"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1508955213, "post_id": 46939214, "comment_id": 80825843, "body": "You need to show the variables and the current way you are using to output variables that makes Unity unresponsive. You can edit that into your question."}, {"owner": {"reputation": 7554, "user_id": 1322271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a87d7d548a034485028d036e6844006f?s=128&d=identicon&r=PG", "display_name": "Madmenyo", "link": "https://stackoverflow.com/users/1322271/madmenyo"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1508959004, "post_id": 46939214, "comment_id": 80828030, "body": "@Programmer I would love to show some code but it is irrelevant, just <code>Debug.Log(&quot;hello world&quot;);</code> 10k times each update and you see what I mean."}], "answers": [{"comments": [{"owner": {"reputation": 7554, "user_id": 1322271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a87d7d548a034485028d036e6844006f?s=128&d=identicon&r=PG", "display_name": "Madmenyo", "link": "https://stackoverflow.com/users/1322271/madmenyo"}, "edited": false, "score": 0, "creation_date": 1508958654, "post_id": 46939458, "comment_id": 80827838, "body": "Converting values to a string shouldn&#39;t take significant time. I&#39;m doing this all the time outside of Unity without problems. The rest makes a lot of sense, thank you I will start making a basic and generic console that I can use in future projects too."}, {"owner": {"reputation": 11125, "user_id": 1387174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c4cb458658b24227da74b4dea41075?s=128&d=identicon&r=PG", "display_name": "Serlite", "link": "https://stackoverflow.com/users/1387174/serlite"}, "reply_to_user": {"reputation": 7554, "user_id": 1322271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a87d7d548a034485028d036e6844006f?s=128&d=identicon&r=PG", "display_name": "Madmenyo", "link": "https://stackoverflow.com/users/1322271/madmenyo"}, "edited": false, "score": 0, "creation_date": 1508959897, "post_id": 46939458, "comment_id": 80828517, "body": "@Madmenyo Yeah, the string conversion likely isn&#39;t the slow part by far - it&#39;s really generating the stack trace that bogs things down. I&#39;ll make an edit to mention that. In any case, glad I could help out!"}], "tags": [], "owner": {"reputation": 11125, "user_id": 1387174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c4cb458658b24227da74b4dea41075?s=128&d=identicon&r=PG", "display_name": "Serlite", "link": "https://stackoverflow.com/users/1387174/serlite"}, "is_accepted": true, "score": 3, "last_activity_date": 1508960320, "last_edit_date": 1508960320, "creation_date": 1508955449, "answer_id": 46939458, "question_id": 46939214, "link": "https://stackoverflow.com/questions/46939214/debug-log-is-too-slow-to-output-a-lot-of-variables-quickly/46939458#46939458", "title": "Debug.Log() is too slow to output a lot of variables quickly", "body": "<p><code>Debug.Log()</code> is incredibly slow in Unity, and can really throw a wrench in performance if you're printing data at high rates (such as in a loop). A big part of the problem is all the extra processing that goes into generating those messages - aside from converting the given value to a string (which has negligible impact on performance), it also has to generate a stack trace so it can link back to the line of code where the logging occurred (see this <a href=\"http://answers.unity3d.com/questions/896463/why-on-earth-debuglog-is-so-slowglitchy.html\" rel=\"nofollow noreferrer\">Unity Answer</a>), which is comparatively slow.</p>\n\n<p>In games, it's a common practice to create an in-game debug output (think of the console in Bethesda games where you can see game events and enter developer commands). Skipping the overhead from <code>Debug.Log()</code> by writing the text you need to output into that output display saves a lot of processing power, and also lets you view debug output with less hassle on mobile devices.</p>\n\n<p>The simplest solution here (short of just not logging so frequently) is to make a <code>Canvas</code> object, add a <code>Text</code> object to it for your debug output, then add a script with a few static methods to append to the <code>Text</code> content so you can reference them (and write to your display) from anywhere in your code.</p>\n\n<p>Alternatively, you can write the output to a file at regular intervals if the text will be too lengthy/generated too quickly to read in real-time, then review it after the code runs.</p>\n"}], "owner": {"reputation": 7554, "user_id": 1322271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a87d7d548a034485028d036e6844006f?s=128&d=identicon&r=PG", "display_name": "Madmenyo", "link": "https://stackoverflow.com/users/1322271/madmenyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 753, "favorite_count": 0, "accepted_answer_id": 46939458, "answer_count": 1, "score": 0, "last_activity_date": 1508960320, "creation_date": 1508954618, "last_edit_date": 1508955703, "question_id": 46939214, "link": "https://stackoverflow.com/questions/46939214/debug-log-is-too-slow-to-output-a-lot-of-variables-quickly", "title": "Debug.Log() is too slow to output a lot of variables quickly", "body": "<p>I'm used to output variables to the console in Java, a quick and dirty way to debug and often showed me what was wrong with my code. Unfortunately using <code>Debug.Log</code> in Unity takes a lot of resources somehow. I'm currently generating a simple map in about 80ms, but since there are some problems I'd just like to output some variables, now this makes my map generate in a minute or two. Doing something like this in the update method makes Unity unresponsive and can crash without saving scene edits.</p>\n"}, {"tags": ["c#", ".net", "xml", "serialization", "deserialization"], "comments": [{"owner": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "edited": false, "score": 1, "creation_date": 1508954670, "post_id": 46939211, "comment_id": 80825530, "body": "You forgot to tell us what the error is."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1508954943, "post_id": 46939211, "comment_id": 80825698, "body": "Please check <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> guidance on providing code... Serializes generally ignore methods, so without actual error message or complete code to reproduce the error it is hard to guess what is wrong."}, {"owner": {"reputation": 13386, "user_id": 5114784, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/OcTVf.jpg?s=128&g=1", "display_name": "Gy&#246;rgy K\u0151szeg", "link": "https://stackoverflow.com/users/5114784/gy%c3%b6rgy-k%c5%91szeg"}, "edited": false, "score": 0, "creation_date": 1508955000, "post_id": 46939211, "comment_id": 80825720, "body": "And <code>[Serializable]</code> is not needed unless you want to use <code>BinaryFormatter</code> for serialization."}, {"owner": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "edited": false, "score": 0, "creation_date": 1508955242, "post_id": 46939211, "comment_id": 80825864, "body": "Are there no inner exceptions within those? <a href=\"https://stackoverflow.com/a/60581/1945651\">This answer</a> suggests that &quot;There was an error reflecting type&quot; errors have an inner exception indicating the root cause."}], "answers": [{"tags": [], "owner": {"reputation": 7, "user_id": 7920178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d591dabf31af2dd9d44e6c1ccbf5e71?s=128&d=identicon&r=PG&f=1", "display_name": "BruteForce", "link": "https://stackoverflow.com/users/7920178/bruteforce"}, "is_accepted": false, "score": 1, "last_activity_date": 1508956365, "creation_date": 1508956365, "answer_id": 46939719, "question_id": 46939211, "link": "https://stackoverflow.com/questions/46939211/net-4-6-methods-in-serializable-class/46939719#46939719", "title": ".net 4.6 Methods in Serializable class", "body": "<p>Fixed it :</p>\n\n<pre><code>[XmlElement(\"CEK\")]\npublic string CEK { private get; set; }\n</code></pre>\n\n<p>This property caused exception; you can't make get a private method in serializable class.</p>\n"}], "owner": {"reputation": 7, "user_id": 7920178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d591dabf31af2dd9d44e6c1ccbf5e71?s=128&d=identicon&r=PG&f=1", "display_name": "BruteForce", "link": "https://stackoverflow.com/users/7920178/bruteforce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1508956365, "creation_date": 1508954613, "last_edit_date": 1508954976, "question_id": 46939211, "link": "https://stackoverflow.com/questions/46939211/net-4-6-methods-in-serializable-class", "title": ".net 4.6 Methods in Serializable class", "body": "<p>I am new to serialization and am facing a problem. I have a serializable class, which MUST contain a method. But because of that method I am getting an error during initialization of serializer (when i comment the method, no errors are thrown).\nThe question - is there a way to mark method in the class so serializer would ignore it and work properly?</p>\n\n<p>This is my serializable class: </p>\n\n<pre><code>[Serializable]\n    public class Key\n    {\n        [XmlAttribute(\"Id\")]\n        public Guid Id { get; set; }\n\n        [XmlAttribute(\"Kid\")]\n        public Guid Kid { get; set; }\n\n        [XmlElement(\"CEK\")]\n        public string CEK { private get; set; }\n\n        public string Foo()\n        {...}\n    }\n</code></pre>\n\n<p>I have a little modified it in terms of privacy of data, but it doesn't influence the topic.</p>\n\n<p>Here is how I do the serialization:</p>\n\n<pre><code>        StringReader strReader = null;\n            XmlSerializer serializer = null;\n            XmlTextReader xmlReader = null;\n            Object obj = null;\n            try\n            {\n                strReader = new StringReader(xml);\n                serializer = new XmlSerializer(objectType,\n                    new XmlRootAttribute\n                    {\n                        ElementName = \"someNS\",\n                        Namespace = \"url.to.some.namespace\"\n                    });\n                xmlReader = new XmlTextReader(strReader);\n                obj = serializer.Deserialize(xmlReader);\n         }\n</code></pre>\n\n<p>Error is thrown at this part:</p>\n\n<pre><code>serializer = new XmlSerializer(objectType,\n    new XmlRootAttribute\n    {\n        ElementName = \"someNS\",\n        Namespace = \"url.to.some.namespace\"\n    });\n</code></pre>\n\n<p>UPDATE:\nRight, forgot about the error. It is the following:</p>\n\n<blockquote>\n  <p>System.InvalidOperationException:'There was an error reflecting type\n  'MyProject.Objects.Key'.'</p>\n</blockquote>\n\n<p>and inner exeptions:</p>\n\n<blockquote>\n  <p>InvalidOperationException: There was an error reflecting property\n  'Key'.\n  InvalidOperationException: There was an error reflecting type 'MyProject.Objects.Key'.</p>\n</blockquote>\n"}, {"tags": ["c#", "wpf", "transparency", "setparent"], "comments": [{"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1508956278, "post_id": 46939196, "comment_id": 80826439, "body": "Is it related to parent-child relationships somehow? Or question is just about transparency?"}, {"owner": {"reputation": 339, "user_id": 823432, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/376daa8673ac832061be236958074530?s=128&d=identicon&r=PG", "display_name": "Hexum064", "link": "https://stackoverflow.com/users/823432/hexum064"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1508960382, "post_id": 46939196, "comment_id": 80828755, "body": "@Evk, well, more about transparency. But it seems this problem with resizing the child window only manifests itself when the window IS a child window AND when that window&#39;s WindowStyle=None."}], "owner": {"reputation": 339, "user_id": 823432, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/376daa8673ac832061be236958074530?s=128&d=identicon&r=PG", "display_name": "Hexum064", "link": "https://stackoverflow.com/users/823432/hexum064"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1508961121, "creation_date": 1508954579, "last_edit_date": 1508961121, "question_id": 46939196, "link": "https://stackoverflow.com/questions/46939196/setting-client-area-tansparency-in-wpf-child-windows", "title": "Setting Client Area Tansparency in WPF Child Windows", "body": "<p>So, I've been experimenting with child windows in WPF, using <code>SetParent</code>, and trying to set up some transparency on the child window. It looks like I've got a bit of a catch-22. </p>\n\n<p>If I set the child's <code>WindowStyle = None</code>, as it seems is required for transparency, I cannot move/resize the child correctly. If I don't set the <code>WindowStyle</code>, I can't get transparency. </p>\n\n<p>Does anyone have any ideas on either how to move/resize the child window correctly, when it's <code>WindowStyle = None</code>, or to get transparency without <code>WindowStyle = None</code>?</p>\n\n<p>The parent window and child window are in separate processes. I am running on Windows 7. I am happy to use WinApi calls, language is in C#.</p>\n\n<p>I should note that the user should not be able to reposition or resize the child window directly. The child window gets resized when the parent window is resized, so that the size of the child is alwasy relative to the size of the parent window.And, because the parent and child window are in separate processes, I am using SetWindowPos to resize the child window.</p>\n\n<p>The example\n<a href=\"https://github.com/Hexum064/TransparentChild\" rel=\"nofollow noreferrer\">https://github.com/Hexum064/TransparentChild</a></p>\n"}, {"tags": ["c#", "wpf", "datagrid"], "answers": [{"tags": [], "owner": {"reputation": 116, "user_id": 7851703, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/76b5c7adbdf26bba65c12b5c6ab53316?s=128&d=identicon&r=PG&f=1", "display_name": "VegaBrothers", "link": "https://stackoverflow.com/users/7851703/vegabrothers"}, "is_accepted": false, "score": 0, "last_activity_date": 1509086396, "last_edit_date": 1509086396, "creation_date": 1508999430, "answer_id": 46947266, "question_id": 46939168, "link": "https://stackoverflow.com/questions/46939168/wpf-how-to-make-datagrid-cell-editable/46947266#46947266", "title": "WPF,, How to make Datagrid cell Editable?", "body": "<p>On your data grid have this event enabled</p>\n\n<pre><code>SelectionUnit=\"CellOrRowHeader\" DataGridCell.Selected=\"Grid_Selected\"\n</code></pre>\n\n<p>Then in code behind do this.</p>\n\n<pre><code>        private void Grid_Selected(object sender, RoutedEventArgs e)\n        {\n            if (e.OriginalSource.GetType() == typeof(DataGridCell))\n            {\n                DataGridCell cell = (e.OriginalSource as DataGridCell);\n                if (cell.IsReadOnly == true)\n                    return;\n                // Starts the Edit on the row;\n                DataGrid grd = (DataGrid)sender;\n                grd.BeginEdit(e);\n                cell.IsEditing = true;\n                string cellValue = GetSelectedCellValue();\n            }\n        }\n\n        public string GetSelectedCellValue()\n        {\n\n            DataGridCellInfo cells = Grid.SelectedCells[0];\n\n            string columnName = cells.Column.SortMemberPath;\n\n            var item = cells.Item;\n\n            if (item == null || columnName == null) return null;\n\n            object result = item.GetType().GetProperty(columnName).GetValue(item, null);\n\n            if (result == null) return null;\n\n            return result.ToString();\n        }\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 7561553, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/08593fdf3bf2ac93bf1caa59a274e18f?s=128&d=identicon&r=PG&f=1", "display_name": "MMG", "link": "https://stackoverflow.com/users/7561553/mmg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2165, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509086396, "creation_date": 1508954455, "question_id": 46939168, "link": "https://stackoverflow.com/questions/46939168/wpf-how-to-make-datagrid-cell-editable", "title": "WPF,, How to make Datagrid cell Editable?", "body": "<p>I want to make datagrid column cell editable so that user can write something and i May get that text in code behind variable. I tried to add textbox it works and provides a extbox in cell but I can not able to get the typed text in variable it is giving null value. I tried the following\nIn xaml</p>\n\n<pre><code> &lt;DataGridTextColumn Header=\"Result\" Binding=\"{Binding Result}\" Width=\"10*\" ElementStyle=\"{StaticResource CenterAligned}\" IsReadOnly=\"False\"&gt;\n                &lt;DataGridTextColumn.CellStyle&gt;\n                    &lt;Style TargetType=\"DataGridCell\"&gt;\n                        &lt;Setter Property=\"Template\"&gt;\n                            &lt;Setter.Value&gt;\n                                &lt;ControlTemplate TargetType=\"DataGridCell\"&gt;\n                                    &lt;TextBox Name=\"datagridTextBox\" Style=\"{StaticResource basicTextBoxStyle}\"&gt;&lt;/TextBox&gt;\n                                &lt;/ControlTemplate&gt;\n                            &lt;/Setter.Value&gt;\n                        &lt;/Setter&gt;\n                    &lt;/Style&gt;\n                &lt;/DataGridTextColumn.CellStyle&gt;\n            &lt;/DataGridTextColumn&gt;  \n</code></pre>\n\n<p>In code behind tried this but not succesfull as it is returning null</p>\n\n<pre><code>   for (int i = 0; i &lt; AllTestsDataGrid.Items.Count; i++)\n        {\n            DataGridRow row = AllTestsDataGrid.ItemContainerGenerator.ContainerFromIndex(i) as DataGridRow;\n  TextBox ele1 = ((ContentPresenter)(AllTestsDataGrid.Columns[2].GetCellContent(row))).Content as TextBox;\nstring value= ele1.Text;\n}\n</code></pre>\n\n<p>Please help. Thanks in advance</p>\n"}, {"tags": ["c#", "asp.net", "entity-framework", "linq", "include"], "comments": [{"owner": {"reputation": 998, "user_id": 4684493, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1b14bb87a971478b4a6e098f78648a07?s=128&d=identicon&r=PG&f=1", "display_name": "Hintham", "link": "https://stackoverflow.com/users/4684493/hintham"}, "edited": false, "score": 1, "creation_date": 1508957195, "post_id": 46939091, "comment_id": 80826966, "body": "Can you show the code for the dbcontext class (<code>_context</code>)"}, {"owner": {"reputation": 1, "user_id": 8832220, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rV2Blq6DgmY/AAAAAAAAAAI/AAAAAAAAAJY/jDtGrMfMJ6w/photo.jpg?sz=128", "display_name": "Mar&#237;a Celia Ibarra", "link": "https://stackoverflow.com/users/8832220/mar%c3%ada-celia-ibarra"}, "reply_to_user": {"reputation": 998, "user_id": 4684493, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1b14bb87a971478b4a6e098f78648a07?s=128&d=identicon&r=PG&f=1", "display_name": "Hintham", "link": "https://stackoverflow.com/users/4684493/hintham"}, "edited": false, "score": 0, "creation_date": 1509152017, "post_id": 46939091, "comment_id": 80917778, "body": "I fixed the problem. It worked. I&#39;d explain how at the end of my question. Thanks for your answer."}], "owner": {"reputation": 1, "user_id": 8832220, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rV2Blq6DgmY/AAAAAAAAAAI/AAAAAAAAAJY/jDtGrMfMJ6w/photo.jpg?sz=128", "display_name": "Mar&#237;a Celia Ibarra", "link": "https://stackoverflow.com/users/8832220/mar%c3%ada-celia-ibarra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1509152131, "creation_date": 1508954217, "last_edit_date": 1509152131, "question_id": 46939091, "link": "https://stackoverflow.com/questions/46939091/linq-include-method-run-time-error", "title": "LINQ Include method run-time error", "body": "<p>I\u2019m working with \nVisual Studio 2017 Express, \nASP.NET Core 1.1<br>\nEntityFramework 1.0.0 , \nMicrosoft .Net Framework 4.7.02046, \nSQL Server  2012 LocalDB</p>\n\n<p>I\u2019m experienced in app &amp; DB developing. I\u2019m newbie with this tech. I\u2019ve read many docs &amp; courses making a good experience. Now I\u00b4m developing my first real app.\nI apologize for my English.</p>\n\n<p><strong>The problem</strong>\nThere are 4 tables:\n[The relations][1]</p>\n\n<p>1) This Works OK: let me show a list of Paciente with the list of Reserva for each one.</p>\n\n<pre><code>public async Task&lt;IActionResult&gt; Details(int? id)\n    {\n        if (id == null)\n        {\n            return NotFound();\n        }\n\n        var paciente = await _context.Pacientes\n            .Include(p =&gt; p.Reservas)\n            .AsNoTracking()\n            .SingleOrDefaultAsync(m =&gt; m.PacienteID == id);\n        if (paciente == null)\n        {\n            return NotFound();\n        }\n\n        return View(paciente);\n    }\n</code></pre>\n\n<p>2) This gives a runtime error:\nSqlException: Invalid object name 'ProfesionalPorReserva'.</p>\n\n<pre><code>public async Task&lt;IActionResult&gt; Details(int? id)\n    {\n        if (id == null)\n        {\n            return NotFound();\n        }\n\n        var profesional = await _context.Profesionales\n          .Include(p =&gt; p.ProfesionalPorReservas)  //this line is the problem\n            .AsNoTracking()\n            .SingleOrDefaultAsync(m =&gt; m.ID == id);\n        if (profesional == null)\n        {\n            return NotFound();\n        }\n\n        return View(profesional);\n    }\n</code></pre>\n\n<p>3) Same problema as 2)\n SqlException: Invalid object name 'ProfesionalPorReserva'.</p>\n\n<pre><code>public async Task&lt;IActionResult&gt; Details(int? id)\n    {\n        if (id == null)\n        {\n            return NotFound();\n        }\n\n        var reserva = await _context.Reservas\n           // .Include(r =&gt; r.ProfesionalPorReservas)\n            .AsNoTracking()\n            .SingleOrDefaultAsync(m =&gt; m.ReservaID == id);\n        if (reserva == null)\n        {\n            return NotFound();\n        }\n\n        return View(reserva);\n    }\n</code></pre>\n\n<p>I fixed the problem adding, as sugested the IntelligentSense:</p>\n\n<pre><code>var reserva = await _context.Reservas\n   .Include(r =&gt; r.ProfesionalPorReservas)\n           .ThenInclude( navigationPropertyPath: p =&gt; p.Profesional)\n   .Include(r =&gt; r.ProfesionalPorReservas)\n            .ThenInclude(navigationPropertyPath: r =&gt; r.Rol)\n            .AsNoTracking()\n            .SingleOrDefaultAsync(m =&gt; m.ReservaID == id);\n</code></pre>\n\n<p>adding <strong>navigationPropertyPath:</strong> was the solution.</p>\n"}, {"tags": ["c#", "asp.net", "windows-services"], "comments": [{"owner": {"reputation": 121, "user_id": 7468305, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b97cbb2e461556a15cec2ebebf109413?s=128&d=identicon&r=PG&f=1", "display_name": "good.learner", "link": "https://stackoverflow.com/users/7468305/good-learner"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1508954847, "post_id": 46939075, "comment_id": 80825636, "body": "@mason updated.."}, {"owner": {"reputation": 121, "user_id": 7468305, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b97cbb2e461556a15cec2ebebf109413?s=128&d=identicon&r=PG&f=1", "display_name": "good.learner", "link": "https://stackoverflow.com/users/7468305/good-learner"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1508955021, "post_id": 46939075, "comment_id": 80825734, "body": "@mason updated.."}, {"owner": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 0, "creation_date": 1508955878, "post_id": 46939075, "comment_id": 80826224, "body": "Well, <code>Access is Denied</code> seems pretty clear to me.  Most likely, your service is running as a system user, and not your local user.  It would then not have access."}], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 7468305, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b97cbb2e461556a15cec2ebebf109413?s=128&d=identicon&r=PG&f=1", "display_name": "good.learner", "link": "https://stackoverflow.com/users/7468305/good-learner"}, "is_accepted": false, "score": 0, "last_activity_date": 1508956865, "creation_date": 1508956865, "answer_id": 46939856, "question_id": 46939075, "link": "https://stackoverflow.com/questions/46939075/windows-service-to-read-emails-c/46939856#46939856", "title": "windows service to read emails c#", "body": "<p>This should not have been written as a Windows Service. For a \"scheduled\" application, you could have written this as a normal console application and setup the schedule to run it using Windows Scheduler. You can also set it up to run as you instead of as the system.</p>\n"}], "owner": {"reputation": 121, "user_id": 7468305, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b97cbb2e461556a15cec2ebebf109413?s=128&d=identicon&r=PG&f=1", "display_name": "good.learner", "link": "https://stackoverflow.com/users/7468305/good-learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 697, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1508956865, "creation_date": 1508954146, "last_edit_date": 1508955011, "question_id": 46939075, "link": "https://stackoverflow.com/questions/46939075/windows-service-to-read-emails-c", "title": "windows service to read emails c#", "body": "<p>I am trying to write a windows service which check my outlook inbox every minute.</p>\n\n<p>I have the following code setup.</p>\n\n<pre><code>    protected override void OnStart(string[] args)\n    {\n        timeDelay = new System.Timers.Timer(30000);\n        timeDelay = new System.Timers.Timer();\n        timeDelay.Elapsed += new System.Timers.ElapsedEventHandler(WorkProcess);\n        timeDelay.Enabled = true;\n    }\n\n    public void WorkProcess(object sender, System.Timers.ElapsedEventArgs e)\n    {\n        ReadMyEmail();\n    }\n\n  private void ReadMyEmail()\n    {\n        string content;\n        Application outlookApplication = null;\n        NameSpace outlookNamespace = null;\n        MAPIFolder inboxFolder = null;\n        Items mailItems = null;\n\n        try\n        {\n            outlookApplication = new Application(); // m getting the error here...\n            outlookNamespace = outlookApplication.GetNamespace(\"MAPI\");\n            inboxFolder = outlookNamespace.GetDefaultFolder(OlDefaultFolders.olFolderInbox);\n            mailItems = inboxFolder.Items;\n\n            foreach (MailItem item in mailItems)\n            {\n                if (item.UnRead)\n                ......\n                ...... all the code for reading emails.\n\n            }\n        }\n     }\n</code></pre>\n\n<p>I am getting the following error while i am trying to debug the application.</p>\n\n<blockquote>\n  <p>Retrieving the COM class factory for component with CLSID {00024500-0000-0000-C000-000000000046} failed due to the following error: 80070005 Access is denied. (Exception from HRESULT: 0x80070005 (E_ACCESSDENIED))</p>\n</blockquote>\n\n<p>What am I doing wrong here.. I am just trying to read emails using a service.</p>\n"}, {"tags": ["c#", "json", "deserialization"], "comments": [{"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 5, "creation_date": 1508954223, "post_id": 46939072, "comment_id": 80825292, "body": "Your json is array (starts with &quot;[&quot;, ends with &quot;]&quot;), so you should deserialize it to <code>ResultModel[]</code>, not to single <code>ResultModel</code>."}, {"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 2, "creation_date": 1508954254, "post_id": 46939072, "comment_id": 80825311, "body": "<code>DeserializeObject&lt;IEnumerable&lt;ResultModel&gt;&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "is_accepted": false, "score": 1, "last_activity_date": 1508954579, "creation_date": 1508954579, "answer_id": 46939197, "question_id": 46939072, "link": "https://stackoverflow.com/questions/46939072/deserialization-issue-by-newtonsoft/46939197#46939197", "title": "Deserialization Issue by Newtonsoft", "body": "<p>If you're sure that there will be at most one model, you can do:</p>\n\n<pre><code>var model = JsonConvert.DeserializeObject&lt;IEnumerable&lt;ResultModel&gt;&gt;(json).FirstOrDefault();\n</code></pre>\n\n<p>Otherwise, you should deserialize it to a collection of models, as suggested in the comments:</p>\n\n<pre><code>// models is an IEnumerable&lt;ResultModel&gt;\nvar models = JsonConvert.DeserializeObject&lt;IEnumerable&lt;ResultModel&gt;&gt;(json);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "is_accepted": true, "score": 2, "last_activity_date": 1508954586, "creation_date": 1508954586, "answer_id": 46939199, "question_id": 46939072, "link": "https://stackoverflow.com/questions/46939072/deserialization-issue-by-newtonsoft/46939199#46939199", "title": "Deserialization Issue by Newtonsoft", "body": "<p>It's easy to miss that your JSON is really array, even if it contains just one object. So you have to deserialize it to array:</p>\n\n<pre><code>var model = Newtonsoft.Json.JsonConvert.DeserializeObject&lt;ResultModel[]&gt;(json);\n</code></pre>\n"}], "owner": {"reputation": 1914, "user_id": 3214054, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9878c6cbe8260f6c6ac2878d32d3e919?s=128&d=identicon&r=PG&f=1", "display_name": "pejman", "link": "https://stackoverflow.com/users/3214054/pejman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 46939199, "answer_count": 2, "score": 0, "last_activity_date": 1508954586, "creation_date": 1508954140, "question_id": 46939072, "link": "https://stackoverflow.com/questions/46939072/deserialization-issue-by-newtonsoft", "title": "Deserialization Issue by Newtonsoft", "body": "<p>I want to deserilize this <code>Json</code> to Model, this is the\nJson: <code>[{\"dimensions\": [ \"www \"], \"metrics \": [{ \"values \": [ \"2 \" ]},{ \"values \": [ \"0 \"]}]}]</code></p>\n\n<p>and i create this model to deserialize json to this model:</p>\n\n<pre><code>public class ResultModel\n{\n    public List&lt;string&gt; dimensions { get; set; }\n    public List&lt;Metric&gt; metrics { get; set; }\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>public class Metric\n{\n    public List&lt;string&gt; values { get; set; }\n}\n</code></pre>\n\n<p>and using <code>Newtonsoft</code> for this:</p>\n\n<pre><code> var model = Newtonsoft.Json.JsonConvert.DeserializeObject&lt;ResultModel&gt;(json);\n</code></pre>\n\n<p>but it doesnot work and give me this error:</p>\n\n<blockquote>\n  <p>'Cannot deserialize the current JSON array (e.g. [1,2,3]) into type 'ResultModel' because the type requires a JSON object (e.g. {\"name\":\"value\"}) to deserialize correctly'.</p>\n</blockquote>\n\n<p>What is the problem?</p>\n"}, {"tags": ["c#", "visual-studio", "entity-framework"], "comments": [{"owner": {"reputation": 979, "user_id": 8622724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b3ce7d21a0ab72b7622fd07785c375?s=128&d=identicon&r=PG&f=1", "display_name": "Tracy Moody", "link": "https://stackoverflow.com/users/8622724/tracy-moody"}, "edited": false, "score": 0, "creation_date": 1508954551, "post_id": 46939042, "comment_id": 80825468, "body": "Is that column referenced in your database context class? Or in the class definition for <code>Cotacao</code>?"}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "edited": false, "score": 0, "creation_date": 1508954804, "post_id": 46939042, "comment_id": 80825604, "body": "What is your deployment? IIS? May be you need to purge temp internet files?"}, {"owner": {"reputation": 427, "user_id": 7257078, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/225521307870826/picture?type=large", "display_name": "Sergio Di Fiore", "link": "https://stackoverflow.com/users/7257078/sergio-di-fiore"}, "edited": false, "score": 0, "creation_date": 1508954906, "post_id": 46939042, "comment_id": 80825679, "body": "That Apelido column doesn&#39;t exist in the database... Was totally misplaced. I&#39;m using IIS Express...."}, {"owner": {"reputation": 427, "user_id": 7257078, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/225521307870826/picture?type=large", "display_name": "Sergio Di Fiore", "link": "https://stackoverflow.com/users/7257078/sergio-di-fiore"}, "edited": false, "score": 0, "creation_date": 1508955106, "post_id": 46939042, "comment_id": 80825781, "body": "Tough that&#39;s a console application... It doesn&#39;t use IIS"}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "edited": false, "score": 0, "creation_date": 1508955117, "post_id": 46939042, "comment_id": 80825786, "body": "If you use IIS - immediately stop using Excel Interop. doing this - <code>new Excel.Application();</code> on web server is very bad practice. what you should do instead, use <code>microsoft.ace.oledb</code> provider to work with Excel. Now. Again. You removed the line from a source file. But where is the guarantee that code executing is in fact derived from that source?"}, {"owner": {"reputation": 427, "user_id": 7257078, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/225521307870826/picture?type=large", "display_name": "Sergio Di Fiore", "link": "https://stackoverflow.com/users/7257078/sergio-di-fiore"}, "edited": false, "score": 1, "creation_date": 1508955448, "post_id": 46939042, "comment_id": 80825994, "body": "I&#39;m not using IIS but thanks for the advice&gt; I start the debugger and that&#39;s the only code available... It can&#39;t be another."}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "edited": false, "score": 0, "creation_date": 1508956532, "post_id": 46939042, "comment_id": 80826570, "body": "May be your problem is simple - you removed the line but this action has not removed property <code>Apelido</code> from the model. Your DB has no such column but property is there on the model. Hence you have this issue. Find model class <code>Cotacao</code> and remove <code>Apelido</code> there"}], "owner": {"reputation": 427, "user_id": 7257078, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/225521307870826/picture?type=large", "display_name": "Sergio Di Fiore", "link": "https://stackoverflow.com/users/7257078/sergio-di-fiore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508954876, "creation_date": 1508954043, "last_edit_date": 1508954876, "question_id": 46939042, "link": "https://stackoverflow.com/questions/46939042/remove-already-deleted-line", "title": "Remove already deleted line", "body": "<p>The following code:</p>\n\n<pre><code>Excel.Application xlApp = new Excel.Application();\nExcel.Workbook workbook = xlApp.Workbooks.Open(Files.Cotacao);\nExcel._Worksheet worksheet = workbook.Sheets[2];\nExcel.Range range = worksheet.UsedRange;\n\n{\n    for (int i = 2; i &lt; range.Rows.Count + 1; i++)\n    {\n        int j = 0;\n        var data = new Cotacao\n        {\n            DateTime = DateTime.Now,\n            Descricao = range.Cells[i, 10] != null &amp;&amp; range.Cells[i, 10].Value2 != null\n                ? range.Cells[i, 10].Value2.ToString()\n                : \"--\",\n            ProdutoId = range.Cells[i, 1] != null &amp;&amp; range.Cells[i, 1].Value2 != null\n                ? Select.Produto(range.Cells[i, 1].Value2.ToString())\n                : 4642\n        };\n\n        db.Cotacoes.Add(data);\n        db.SaveChanges();\n        Console.WriteLine(i);\n    }\n}\n</code></pre>\n\n<p>Had a wrongly typed line:</p>\n\n<pre><code>Apelido = range.Cells[i, 10] != null &amp;&amp; range.Cells[i, 10].Value2 != null\n  ? range.Cells[i, 10].Value2.ToString()\n  : \"--\",\n</code></pre>\n\n<p>Which was removed as can be seen.</p>\n\n<p>Despite this removal, I get an error message during the <code>SaveChanges</code> telling that the column name <code>Apelido</code> is invalid:</p>\n\n<blockquote>\n  <p>System.Data.SqlClient.SqlException: Invalid column name 'Apelido'</p>\n</blockquote>\n\n<p>How can I get rid of this <code>Apelido</code> since it's not even there?</p>\n"}, {"tags": ["c#", "memorystream"], "comments": [{"owner": {"reputation": 6266, "user_id": 5497207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e185da0f69447ef588089e15e15198?s=128&d=identicon&r=PG&f=1", "display_name": "Oguz Ozgul", "link": "https://stackoverflow.com/users/5497207/oguz-ozgul"}, "edited": false, "score": 0, "creation_date": 1508954777, "post_id": 46938917, "comment_id": 80825587, "body": "Why a memory stream? If you are going to process it later, why not just copy it to the temp folder? Storing such a big data in memory (Resulting in allocating 800MB s of memory for a file) is not a good design decision in my opinion, no offense."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1508963745, "post_id": 46938917, "comment_id": 80830459, "body": "Allocating such a large chunk of contiguous memory can only ever work when you remove the jitter forcing.  Project &gt; Properties &gt; Build tab, untick the &quot;Prefer 32-bit&quot; checkbox."}], "answers": [{"tags": [], "owner": {"reputation": 156, "user_id": 3178666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/022f23ed24e04848e72e435b681656d2?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/3178666/rob"}, "is_accepted": false, "score": 1, "last_activity_date": 1508954925, "creation_date": 1508954925, "answer_id": 46939306, "question_id": 46938917, "link": "https://stackoverflow.com/questions/46938917/memorystream-outofmemoryexception-when-trying-to-allocate-space/46939306#46939306", "title": "MemoryStream - OutOfMemoryException when trying to allocate space", "body": "<p>I am not sure what the processing involves, but the HttpPostedFileBase already contains a stream with the data. You can use that stream to process what you need to do. </p>\n\n<p>If you really need to move back and forth or multiple times over the stream, and the input stream does not support seeking/positioning, you may want to stream the data to a temporary local file first and then use a file stream to do your processing against that file.</p>\n\n<p>If many people uploading via your web app, the array size you specified would quickly eat up all memory using a MemoryStream. </p>\n"}], "owner": {"reputation": 33, "user_id": 6489629, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3f4c0dcf8ce6a53a8230e67c783b2912?s=128&d=identicon&r=PG", "display_name": "lrossignol", "link": "https://stackoverflow.com/users/6489629/lrossignol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508954925, "creation_date": 1508953615, "question_id": 46938917, "link": "https://stackoverflow.com/questions/46938917/memorystream-outofmemoryexception-when-trying-to-allocate-space", "title": "MemoryStream - OutOfMemoryException when trying to allocate space", "body": "<p>I'm attempting to take a large file, uploaded from a web app, and make it a memorystream for processing later. I was receiving OutOfMemory exceptions when trying to copy the HttpPostedFileBase's inputstream into a new MemoryStream. During troubleshooting, I tried just creating a new MemoryStream and allocate the same amount of space (roughly) as the length of the InputStream (935,638,275), like so:</p>\n\n<pre><code>MemoryStream memStream = new MemoryStream(935700000);\n</code></pre>\n\n<p>Even doing this results in a System.OutOfMemoryException on this line.</p>\n\n<p>I only slightly understand MemoryStreams, and this seems to be something to do with how MemoryStreams buffer data. Is there a way for me to get all of the data into one MemoryStream without too much fuss?</p>\n"}, {"tags": ["c#", "xamarin.forms", "azure-sql-database", "azure-mobile-services"], "comments": [{"owner": {"reputation": 5976, "user_id": 295480, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/50764660d78a93b3e757b781fa57ce32?s=128&d=identicon&r=PG", "display_name": "LDJ", "link": "https://stackoverflow.com/users/295480/ldj"}, "edited": false, "score": 3, "creation_date": 1508953541, "post_id": 46938851, "comment_id": 80824894, "body": "Too little detail here. What are you using to pull the data? Are you using Entity Framework? What is your select query? Have you tried debugging your Mobile service to see what it is returning?"}, {"owner": {"reputation": 58, "user_id": 7963425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ba4d0c8c15c9dcd59f59043de4fa87a?s=128&d=identicon&r=PG&f=1", "display_name": "bhaskar", "link": "https://stackoverflow.com/users/7963425/bhaskar"}, "reply_to_user": {"reputation": 5976, "user_id": 295480, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/50764660d78a93b3e757b781fa57ce32?s=128&d=identicon&r=PG", "display_name": "LDJ", "link": "https://stackoverflow.com/users/295480/ldj"}, "edited": false, "score": 1, "creation_date": 1509030719, "post_id": 46938851, "comment_id": 80863234, "body": "we are using entity framework for pushing and pulling data to database but entity framework is our backend application and it is working fine with database and my issue is with mobile application installed in hand held device. I think there is some problem with communication between hand held application and database."}], "answers": [{"comments": [{"owner": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 0, "creation_date": 1508989608, "post_id": 46943005, "comment_id": 80838220, "body": "How does this answer the OP&#39;s question? They have shown zero code, and stated that things worked and then they didn&#39;t. I don&#39;t see how this is related to how they build their API."}], "tags": [], "owner": {"reputation": 11424, "user_id": 8184139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ic5yh.jpg?s=128&g=1", "display_name": "Alberto Morillo", "link": "https://stackoverflow.com/users/8184139/alberto-morillo"}, "is_accepted": false, "score": -1, "last_activity_date": 1508970501, "creation_date": 1508970501, "answer_id": 46943005, "question_id": 46938851, "link": "https://stackoverflow.com/questions/46938851/mobile-application-using-xamarin-forms-and-azure-sql-database/46943005#46943005", "title": "mobile application using xamarin forms and Azure SQL Database", "body": "<p>The recommended way to connect to the database is using an API that will manage the interaction with the database. The mobile application should consume that API. Try using a .NET API. That should solve the issue.</p>\n\n<p>If you want your application to operate offline also, you can retrieve data using the API and then store it locally using SQLLite, Realm, or Azure Easy Table. <a href=\"https://blog.xamarin.com/getting-started-azure-mobile-apps-easy-tables/\" rel=\"nofollow noreferrer\">Azure Easy Table</a> is the easiest way to do it. <a href=\"https://realm.io/docs/xamarin/1.5.0/api/\" rel=\"nofollow noreferrer\">Realm</a> is gaining a lot of adoption.</p>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 17081, "user_id": 6755924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2016daeafc6c9469fde7bab85f8214d6?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce Chen", "link": "https://stackoverflow.com/users/6755924/bruce-chen"}, "is_accepted": true, "score": 0, "last_activity_date": 1508988695, "creation_date": 1508988695, "answer_id": 46945432, "question_id": 46938851, "link": "https://stackoverflow.com/questions/46938851/mobile-application-using-xamarin-forms-and-azure-sql-database/46945432#46945432", "title": "mobile application using xamarin forms and Azure SQL Database", "body": "<blockquote>\n  <p>I have built a mobile application using Xamarin forms and my application works fine for 3 days i.e it pulls the data from Azure database exactly how I wanted but on 4th day it only pulls 1 item even though there are many. </p>\n</blockquote>\n\n<p>AFAIK, when using offline sync, you could invoke the <code>PullAsync</code> without pass the query ID, then all records would be retrieved from your remote table. While if you specific the query ID, the mobile SDK would perform the incremental sync. For more details, you could refer to <a href=\"https://docs.microsoft.com/en-us/azure/app-service-mobile/app-service-mobile-offline-data-sync#how-sync-works\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>I would recommend you use <a href=\"https://www.telerik.com/fiddler\" rel=\"nofollow noreferrer\">fiddler</a> to capture the network traces when you pull the data in your mobile client. Moreover, you could call the Http table API via postman or the browser for retrieving the data from your remote table as follows to narrow this issue:</p>\n\n<pre><code>Get https://{your-appname}.azurewebsites.net/tables/{table-name}?ZUMO-API-VERSION=2.0.0\n</code></pre>\n\n<p><strong>Note:</strong> If you enable the authentication, you need to specific the <code>x-zumo-auth</code> header with the value via <code>MobileServiceClient.CurrentUser.MobileServiceAuthenticationToken</code> after you invoked the <code>MobileServiceClient.LoginAsync</code> for logging. Moreover, there has the max page size up to 50 for a single GET operation.</p>\n\n<p>Additionally, you need to make sure your remote table records have not been marked as deleted. If you still could not locate this issue, you could update your question with the code snippet to pull the data and the detailed network traces when calling the pull operation.</p>\n\n<p>Here are some useful tutorials, you could refer to them:</p>\n\n<p><a href=\"https://shellmonger.com/2016/04/27/30-days-of-zumo-v2-azure-mobile-apps-day-13-the-http-table-interface/\" rel=\"nofollow noreferrer\">30 DAYS OF ZUMO.V2 (AZURE MOBILE APPS): DAY 13 \u2013 THE HTTP TABLE INTERFACE</a></p>\n\n<p><a href=\"https://adrianhall.github.io/develop-mobile-apps-with-csharp-and-azure/chapter3/client/\" rel=\"nofollow noreferrer\">Chapter 3 - Data Access and Offline Sync</a></p>\n"}], "owner": {"reputation": 58, "user_id": 7963425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ba4d0c8c15c9dcd59f59043de4fa87a?s=128&d=identicon&r=PG&f=1", "display_name": "bhaskar", "link": "https://stackoverflow.com/users/7963425/bhaskar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 523, "favorite_count": 1, "accepted_answer_id": 46945432, "answer_count": 2, "score": -1, "last_activity_date": 1508988695, "creation_date": 1508953389, "question_id": 46938851, "link": "https://stackoverflow.com/questions/46938851/mobile-application-using-xamarin-forms-and-azure-sql-database", "title": "mobile application using xamarin forms and Azure SQL Database", "body": "<p>I have built a mobile application using Xamarin forms and my application works fine for 3 days i.e it pulls the data from Azure database exactly how I wanted but on 4th day it only pulls 1 item even though there are many. Any idea what is causing problem. I am confused where exactly the problem is, whether with Xamarin part or database part.</p>\n"}, {"tags": ["c#", "wpf", "xaml"], "answers": [{"comments": [{"owner": {"reputation": 1329, "user_id": 5686352, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XzZNx.png?s=128&g=1", "display_name": "appa yip yip", "link": "https://stackoverflow.com/users/5686352/appa-yip-yip"}, "edited": false, "score": 0, "creation_date": 1508954162, "post_id": 46939012, "comment_id": 80825255, "body": "Setting <code>TextAlignment</code> to <code>Center</code> instead of <code>HorizontalAlignment</code> does solve the problem. But that&#39;s definitelly a weird behavior. If the control has and need more space (even though it&#39;s set to align center), why doesn&#39;t it use that space? And if it doesn&#39;t use that space, why doesn&#39;t the text wrap?"}, {"owner": {"reputation": 21, "user_id": 8833136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0977ffefffff86de00c926054bc44716?s=128&d=identicon&r=PG&f=1", "display_name": "psadauskas", "link": "https://stackoverflow.com/users/8833136/psadauskas"}, "reply_to_user": {"reputation": 1329, "user_id": 5686352, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XzZNx.png?s=128&g=1", "display_name": "appa yip yip", "link": "https://stackoverflow.com/users/5686352/appa-yip-yip"}, "edited": false, "score": 0, "creation_date": 1508954655, "post_id": 46939012, "comment_id": 80825522, "body": "Setting the TextAlignment instead of the HorizontalAlignment does work, but I agree with @appayipyip. I&#39;m ok with the text being cut off at the end, but it&#39;s odd that there is missing text in the middle."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1508955082, "post_id": 46939012, "comment_id": 80825765, "body": "What it&#39;s doing, I believe, is wrapping weirdly. <code>ABCDEE IAATA Corp.</code> (with a second &quot;E&quot;) works as you&#39;d expect. It also wraps properly if I set <code>FontSize=&quot;13.341&quot;</code> or <code>FontSize=&quot;13.256&quot;</code>. I&#39;ve been playing with it and I think it&#39;s possible you&#39;ve just stumbled onto a corner case where the wrapping algorithm fails."}], "tags": [], "owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "is_accepted": false, "score": 3, "last_activity_date": 1508958374, "last_edit_date": 1508958374, "creation_date": 1508953933, "answer_id": 46939012, "question_id": 46938827, "link": "https://stackoverflow.com/questions/46938827/middle-word-in-xaml-textblock-is-missing-but-last-word-is-not/46939012#46939012", "title": "Middle word in Xaml TextBlock is missing, but last word is not", "body": "<p>If you want your textblock to have the same width as the parent, don't set HorizontalAlignment to Left. As a grid child, it'll default to Stretch, which is what you want. Set TextAlignment on the TextBlock to align the text, if desired. </p>\n\n<p>I wonder if this might not be a funny corner case for the arithmetic in the wrapping algorithm, where the \"missing\" text is just placed out of sight: If I dial FontSize down to 13.256 (but not 13.257), it wraps properly. If I dial it up to 13.341 (but not 13.3405), it wraps properly. </p>\n"}], "owner": {"reputation": 21, "user_id": 8833136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0977ffefffff86de00c926054bc44716?s=128&d=identicon&r=PG&f=1", "display_name": "psadauskas", "link": "https://stackoverflow.com/users/8833136/psadauskas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1509040851, "creation_date": 1508953315, "last_edit_date": 1509040851, "question_id": 46938827, "link": "https://stackoverflow.com/questions/46938827/middle-word-in-xaml-textblock-is-missing-but-last-word-is-not", "title": "Middle word in Xaml TextBlock is missing, but last word is not", "body": "<p>I have some text I'm trying to display in xaml, but it looks like it's getting cut off in the middle, but the next word appears. Here's the xaml I have.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Grid xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"&gt;\n    &lt;Grid.ColumnDefinitions&gt;\n        &lt;ColumnDefinition Width=\"115\" /&gt;\n    &lt;/Grid.ColumnDefinitions&gt;\n    &lt;TextBlock TextWrapping=\"Wrap\" HorizontalAlignment=\"Center\" FontFamily=\"Arial\" FontSize=\"13.33333333\"&gt;ABCDE IAATA Corp.&lt;/TextBlock&gt;\n&lt;/Grid&gt;                         \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/mfNkC.png\" rel=\"nofollow noreferrer\">Which results in this</a>. Note that the middle word (IAATA) is missing, but the final word (Corp.) is there. Any idea what is going on here? I'd expect that the third word would get wrapped onto a new line, or the second word would appear, with the final word being cutoff, or even both the second and third word getting cut off but not this. </p>\n\n<p>I was able to test this in VS and Kaxaml</p>\n\n<p><strong>Update</strong> \nFor some more context, the xaml coming in is generated from else where. I later do some measuring on the xaml elements, which throws a 'FatalExecutionEngineError' exception, which immediately kills the application. </p>\n\n<p>The message is </p>\n\n<pre><code>Managed Debugging Assistant 'FatalExecutionEngineError' has detected a problem in \n'C:\\Projects\\TestFailFast\\TestFailFast\\bin\\Debug\\TestFailFast.vshost.exe'.\n\nAdditional information: The runtime has encountered a fatal error. The address of the error was at 0x583ee28b, on thread 0x2af0. The error code is 0x80131623. This error may be a bug in the CLR or in the unsafe or non-verifiable portions of user code. Common sources of this bug include user marshaling errors for COM-interop or PInvoke, which may corrupt the stack\n</code></pre>\n\n<p>and the stacktrace gotten through the event viewer logs is </p>\n\n<pre>Application: Services.BackEnd.exe Framework Version: v4.0.30319 \n\nDescription: The application requested process termination through System.Environment.FailFast(string message). \nMessage: Unrecoverable system error. \nStack: at \n  System.Environment.FailFast(System.String) at \n  System.Windows.Controls.TextBlock.IsAtCaretUnitBoundary(System.Windows.Documents.ITextPointer, Int32, Int32) at \n  System.Windows.Documents.TextContainer.IsAtCaretUnitBoundary(System.Windows.Documents.TextPointer) at \n  System.Windows.Documents.TextPointer.System.Windows.Documents.ITextPointer.get_IsAtCaretUnitBoundary() at System.Windows.Documents.TextPointerBase.IsAtCaretUnitBoundary(System.Windows.Documents.ITextPointer) at System.Windows.Documents.TextPointerBase.MoveToNextInsertionPosition(System.Windows.Documents.ITextPointer, System.Windows.Documents.LogicalDirection) at \n  System.Windows.Documents.TextPointer.System.Windows.Documents.ITextPointer.GetNextInsertionPosition(System.Windows.Documents.LogicalDirection) \n...</pre>\n\n<p>This is only exposed if I have the above xaml wrapped in a FixedDocument like </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;FixedDocument xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"&gt;\n&lt;PageContent&gt;\n    &lt;FixedPage&gt;\n        &lt;Grid xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"&gt;\n            &lt;Grid.ColumnDefinitions&gt;\n                &lt;ColumnDefinition Width=\"115\" /&gt;\n            &lt;/Grid.ColumnDefinitions&gt;\n            &lt;TextBlock Text=\"ABCDE IAATA Corp.\" FontFamily=\"Arial\" FontSize=\"13.333333\" TextWrapping=\"Wrap\" HorizontalAlignment=\"Center\"/&gt;\n        &lt;/Grid&gt;\n    &lt;/FixedPage&gt;\n&lt;/PageContent&gt;\n&lt;/FixedDocument&gt;\n</code></pre>\n\n<p>I have a sample reproducer here</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>class Program {\n    [STAThread]\n    static void Main(string[] args) {\n        var fixedPageXaml = @\"&lt;FixedDocument xmlns=\"\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\"&gt;\n&lt;PageContent&gt;\n    &lt;FixedPage&gt;\n        &lt;Grid xmlns=\"\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\"&gt;\n            &lt;Grid.ColumnDefinitions&gt;\n                &lt;ColumnDefinition Width=\"\"115\"\" /&gt;\n            &lt;/Grid.ColumnDefinitions&gt;\n            &lt;TextBlock Text=\"\"ABCDE IAATA Corp.\"\" FontFamily=\"\"Arial\"\" FontSize=\"\"13.333333\"\" TextWrapping=\"\"Wrap\"\" HorizontalAlignment=\"\"Center\"\"/&gt;\n        &lt;/Grid&gt;\n    &lt;/FixedPage&gt;\n&lt;/PageContent&gt;\n&lt;/FixedDocument&gt;\";\n\n        //Search through all xaml elements untill the TextBlock is found\n        var textBlock = FindTextBlock(XamlReader.Parse(fixedPageXaml));\n        var inline = textBlock.Inlines.FirstInline;\n\n        //Get a TextPointer to the end of a line that is specified relative to the current text pointer \n        // Add 1 to get the beginning of the line following the one count is requesting\n        var nextLineStart = inline.ElementStart.GetLineStartPosition(0 + 1); \n\n        if (nextLineStart != null) {\n            //Get the insertion position at the end of the document\n            //CRASH!\n            var nextPos =  nextLineStart.GetNextInsertionPosition(LogicalDirection.Backward);\n        }\n\n\n        Console.WriteLine(\"Done\");\n        Console.Read();\n    }\n\n    private static TextBlock FindTextBlock(object root) {\n        var fe = root;\n        while (fe.GetType() != typeof(TextBlock)) {\n            if (fe is FixedDocument) {\n                foreach (var p in ((FixedDocument)fe).Pages) {\n                    var ret = FindTextBlock(p);\n                    if (ret != null) {\n                        return ret;\n                    }\n                }\n            } else if (fe is FixedPage) {\n                foreach (UIElement c in ((FixedPage)fe).Children) {\n                    var ret = FindTextBlock(c);\n                    if (ret != null) {\n                        return ret;\n                    }\n                }\n            } else if (fe is PageContent) {\n                fe = ((PageContent)fe).Child;\n            } else if (fe is Grid) {\n                foreach (UIElement c in ((Grid)fe).Children) {\n                    var ret = FindTextBlock(c);\n                    if (ret != null) {\n                        return ret;\n                    }\n                }\n            }\n        }\n        if (fe.GetType() == typeof(TextBlock)) {\n            return fe as TextBlock;\n        } else {\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p>This was tested in .net version 4.6.2</p>\n"}, {"tags": ["c#", "wpf", "visual-studio-2017", "firebird"], "comments": [{"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1508953731, "post_id": 46938746, "comment_id": 80825008, "body": "What version of the Firebird ado.net provider are you using?"}, {"owner": {"reputation": 97, "user_id": 7269364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2dc3ebe214afe763c019843aa1e6cf?s=128&d=identicon&r=PG&f=1", "display_name": "A Sousa", "link": "https://stackoverflow.com/users/7269364/a-sousa"}, "reply_to_user": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1508957260, "post_id": 46938746, "comment_id": 80827000, "body": "I&#39;ve grabbed the NuGet package, version 5.11.0, and I had to use that workaround involving accessing the privateregistry.bin for the provider to show on the list of registered providers on Visual Studio 2017"}], "answers": [{"tags": [], "owner": {"reputation": 97, "user_id": 7269364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2dc3ebe214afe763c019843aa1e6cf?s=128&d=identicon&r=PG&f=1", "display_name": "A Sousa", "link": "https://stackoverflow.com/users/7269364/a-sousa"}, "is_accepted": true, "score": 0, "last_activity_date": 1509021145, "creation_date": 1509021145, "answer_id": 46954443, "question_id": 46938746, "link": "https://stackoverflow.com/questions/46938746/firebird-connectionstring-change-during-runtime/46954443#46954443", "title": "Firebird ConnectionString Change during runtime", "body": "<p>I found what was the issue.\nI am instancing a inherited table adapter from the generated xsd file. When I declare a table adapter on my class it also inherits the connection string stored on app.config at the time of declaration. So it doesn't matter if I change app.config, as the declared table adapter is already stuck with the previous connection string.</p>\n\n<p>So, the solution was, rather than changing the connection string stored on app.config, I just had to change the connection string on the declared table adapter:</p>\n\n<pre><code>tB_STOCKTableAdapter1.Connection.ConnectionString = Properties.Settings.Default.ContingencyDB;\ntB_STK_PRODUCTTableAdapter1.Connection.ConnectionString = Properties.Settings.Default.ContingencyDB;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>tB_STOCKTableAdapter1.Connection.ConnectionString = Properties.Settings.Default.NetworkDB;\ntB_STK_PRODUCTTableAdapter1.Connection.ConnectionString = Properties.Settings.Default.NetworkDB;\n</code></pre>\n\n<p>Both ContingencyDB and NetworkDB are strings stored on app.config as a user-scoped string, which can be changed via a given \"Settings\" window presented to the user.</p>\n"}], "owner": {"reputation": 97, "user_id": 7269364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2dc3ebe214afe763c019843aa1e6cf?s=128&d=identicon&r=PG&f=1", "display_name": "A Sousa", "link": "https://stackoverflow.com/users/7269364/a-sousa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 46954443, "answer_count": 1, "score": 1, "last_activity_date": 1509021145, "creation_date": 1508953060, "last_edit_date": 1508953669, "question_id": 46938746, "link": "https://stackoverflow.com/questions/46938746/firebird-connectionstring-change-during-runtime", "title": "Firebird ConnectionString Change during runtime", "body": "<p>I'm working on an app that has a live network database and a contingency local database, and it detects whether the live network db is accessible, and, if not, it times out after three seconds, changing the connectionstring to the local contingency database.</p>\n\n<p>Following tips here on SO, I managed to alter the connectionstring on app.config during run time <em>and</em> reload the settings.</p>\n\n<p>This is the method the app calls when a change on the connection string is needed:</p>\n\n<pre><code>    public static void ChangeConnectionString(string connectionstring)\n    {\n    var config = ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None);\n    var connectionStringsSection = (ConnectionStringsSection)config.GetSection(\"connectionStrings\");\n    connectionStringsSection.ConnectionStrings[0].ConnectionString = connectionstring;\n    var connectionStrings = config.ConnectionStrings;\n    foreach (ConnectionStringSettings connectionString in connectionStrings.ConnectionStrings)\n    {\n            connectionString.ConnectionString = connectionstring;\n    }\n    config.Save();\n    ConfigurationManager.RefreshSection(\"connectionStrings\");\n    PDV_WPF.Properties.Settings.Default.Save();\n    PDV_WPF.Properties.Settings.Default.Reload();\n    //Ensures the configuration is saved and reloaded.\n    FbConnection.ClearAllPools();\n    //Closes all currently open connections which might be using the old connection string.\n    Debug.WriteLine(\"==========Ran ChangeConnectionString\");\n    Debug.WriteLine(\"==========FDBConnString is:\");\n    Debug.WriteLine(\"==========\" + PDV_WPF.Properties.Settings.Default.FDBConnString);\n</code></pre>\n\n<p>After I disconnect my computer form the network, whenever I check the current FDBConnString, it correctly points to the local contingency database. However, on the very next line, when it tries to run a query, I get the following exception:</p>\n\n<pre><code>Inner Exception 1:\nIscException: Unable to complete network request to host \"dbserver\".\n\nInner Exception 2:\nSocketException: Este host n\u00e3o \u00e9 conhecido //(This host is unknown)\n</code></pre>\n\n<p>Full exception details: <a href=\"https://pastebin.com/3syLvsQf\" rel=\"nofollow noreferrer\">https://pastebin.com/3syLvsQf</a></p>\n\n<p>It seems that, even after I successfully change the connection string, and successfully reload the application config file, it still tries to open a connection using the old connection string. Even if I call Debug to print the current Properties.Settings.Default.FDBConnString right on the line above the call for FbConnection.Open(), it shows the <em>new string</em> rather than the incorrect, old one.</p>\n\n<p>Any insights on what might be going on?</p>\n"}, {"tags": ["c#", "sql", "asp.net", "database", "gridview"], "comments": [{"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "edited": false, "score": 1, "creation_date": 1508954879, "post_id": 46938738, "comment_id": 80825660, "body": "Either use a button per row and handle the click with the <code>OnRowCommand</code> or use a checkbox per row and loop when the button is pressed and update the DB accordingly. See my answer here to get you started: <a href=\"https://stackoverflow.com/questions/46795294/how-can-i-update-specific-gridview-columns-based-on-a-checkbox-in-one-column\" title=\"how can i update specific gridview columns based on a checkbox in one column\">stackoverflow.com/questions/46795294/&hellip;</a>"}, {"owner": {"reputation": 490, "user_id": 3236008, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/aba61c9e51d9fe105b5ecb76066b0d92?s=128&d=identicon&r=PG&f=1", "display_name": "mzh", "link": "https://stackoverflow.com/users/3236008/mzh"}, "edited": false, "score": 0, "creation_date": 1509012387, "post_id": 46938738, "comment_id": 80849916, "body": "Put check boxes in the first column of your grid view, this way the teacher will be able to select the students he wants to. And than in code behind of your button click even you can iterate through the grid view for selected people and perform whatever operation you want."}], "owner": {"reputation": 73, "user_id": 7959729, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2413f381f472966c46f16f251ae323d?s=128&d=identicon&r=PG&f=1", "display_name": "ielaajez", "link": "https://stackoverflow.com/users/7959729/ielaajez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508966839, "creation_date": 1508953039, "question_id": 46938738, "link": "https://stackoverflow.com/questions/46938738/how-to-select-people-from-gridview-and-then-perform-an-action-on-only-the-selec", "title": "How to select people from Gridview, and then perform an action on only the selected people?", "body": "<p>I'm making an ASP.net application connected to an MS acces database. \nThis application is meant for someone to monitor their clients.</p>\n\n<p>Every client get's a card with a code (Cardnumber), linked to the number of classes/lessons they have left to follow.</p>\n\n<p><strong>Example</strong><br>\nPerson 1 \"Elias\" wants to follow 10 lessons. He has CardNumber \"1\". This is all inserted in the MS acces database.<br>\nThen when lesson 1 is over, there are only 9 lessons left for him to follow. (10-1 = 9).<br></p>\n\n<p>I made a page where clients can see how much lessons there are left on their card with corresponding cardnumber now I want to make a page for the teacher where he can select wich students were taking class.</p>\n\n<p>So in my example, the teacher would select \"Elias\" and all the other students that were taking lessons and the number of lessons left on the student's card will automatically distract by 1.</p>\n\n<p><strong>My problem</strong>\n<br>I don't know how to use the gridview to make the teacher select people, and then only perform action on the cards of the persons with the corresponding cardnumbers.</p>\n\n<p><strong>What I have done</strong>\n<br>In my code below, i read the code from the MS acces database and then display it in a gridview.</p>\n\n<p>Code:\n\n<pre><code>    con.Open();\n    OleDbCommand cmd = new OleDbCommand();\n    cmd.Connection = con;\n    cmd.CommandText = \"SELECT * from [Rittenkaart];\"; // selecteert alle kolommen uit de tabel\n    DataTable daPersonen = new DataTable();\n    daPersonen.Load(cmd.ExecuteReader());\n\n    //vult de checkboxen\n    grid1.DataSource = daPersonen;\n    grid1.DataBind();\n</code></pre>\n\n<p>Result:\n<a href=\"https://i.stack.imgur.com/3mjo6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3mjo6.png\" alt=\"Result of code\"></a></p>\n\n<p>So beside all the extra information the only things that matter are the columns \"VolledigeNaam\" (<strong>Full Name</strong>) and \"AantalRitten\" (<strong>Number of lessons left on this card</strong>)</p>\n\n<p><strong>In short:</strong><br>\nI want the teacher to be able to select people from the database, and when he/she hits the button to distract their points/lessons left by one (because of course they have taken one class).</p>\n\n<p>Thanks,</p>\n\n<p>Elias</p>\n"}, {"tags": ["c#", "wpf"], "answers": [{"tags": [], "owner": {"reputation": 4582, "user_id": 23074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc385560654744f68bce86b2681dfbf2?s=128&d=identicon&r=PG", "display_name": "Eric Olsson", "link": "https://stackoverflow.com/users/23074/eric-olsson"}, "is_accepted": false, "score": 0, "last_activity_date": 1508954423, "creation_date": 1508954423, "answer_id": 46939152, "question_id": 46938676, "link": "https://stackoverflow.com/questions/46938676/how-to-bind-collection-of-object-to-text-boxes-in-wpf/46939152#46939152", "title": "how to bind collection of object to text boxes in wpf", "body": "<p>For this type of a relationship, it would be better to use an <code>ItemsControl</code> like a <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.listbox?view=netframework-4.7.1\" rel=\"nofollow noreferrer\">ListBox</a> or a <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.listview?view=netframework-4.7.1\" rel=\"nofollow noreferrer\">ListView</a> and bind the <code>ItemsSource</code> to the collection of <code>Address</code> objects.</p>\n\n<p>You can define a <code>DataTemplate</code> to format each individual <code>Address</code> object in the collection.</p>\n\n<p>One final note--if the collection of <code>Address</code> objects changes, those changes will not be propagated to the UI unless they are contained within a collection which implements <code>INotifyCollectionChanged</code> interface. Usually, the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.objectmodel.observablecollection-1?view=netframework-4.7.1\" rel=\"nofollow noreferrer\">ObservableCollection</a> suffices for this.</p>\n"}], "owner": {"reputation": 163, "user_id": 4511292, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/ff66b3f4eb3fd02a69ad21aead2e7063?s=128&d=identicon&r=PG&f=1", "display_name": "poc", "link": "https://stackoverflow.com/users/4511292/poc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508954423, "creation_date": 1508952811, "question_id": 46938676, "link": "https://stackoverflow.com/questions/46938676/how-to-bind-collection-of-object-to-text-boxes-in-wpf", "title": "how to bind collection of object to text boxes in wpf", "body": "<p>here my case things are bit complex  even not sure how to describe.</p>\n\n<p>I have a class called Employee. Employee has an other object called Address Structure I given below.</p>\n\n<pre><code> public class Employee \n {\n public List&lt;Address&gt; Addresses { get; set; }\n }\n\npublic class Address\n{\npublic string Text { get; set; }\n}\n</code></pre>\n\n<p>in wpf I am able to bind the data like</p>\n\n<pre><code>&lt;TextBox Grid.Row=\"1\" Grid.Column=\"1\" Text=\"{Binding Employee.Addresses/Text}\" Margin=\"0,0,0,29\" Grid.RowSpan=\"2\" /&gt;\n</code></pre>\n\n<p>Even if I have 3 address  I am getting only the first one. Even I he tried giving index like Address[1]/Text. Its not working can anyone help.</p>\n"}, {"tags": ["c#", "tcp"], "comments": [{"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 2, "creation_date": 1508952887, "post_id": 46938614, "comment_id": 80824520, "body": "<a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>"}, {"owner": {"reputation": 6266, "user_id": 5497207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e185da0f69447ef588089e15e15198?s=128&d=identicon&r=PG&f=1", "display_name": "Oguz Ozgul", "link": "https://stackoverflow.com/users/5497207/oguz-ozgul"}, "edited": false, "score": 0, "creation_date": 1508955236, "post_id": 46938614, "comment_id": 80825857, "body": "Where is the code where you are invoking these operations? You are obviously waiting for data on the client, that is never sent by the server, but why, we can&#39;t see yet"}], "answers": [{"tags": [], "owner": {"reputation": 24411, "user_id": 292411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8fdeba51c2ba145110541a5bb19696?s=128&d=identicon&r=PG&f=1", "display_name": "C.Evenhuis", "link": "https://stackoverflow.com/users/292411/c-evenhuis"}, "is_accepted": true, "score": 0, "last_activity_date": 1508956557, "creation_date": 1508956557, "answer_id": 46939767, "question_id": 46938614, "link": "https://stackoverflow.com/questions/46938614/tcpclient-stuck-on-read-when-i-try-to-retrieve-a-file-on-the-server/46939767#46939767", "title": "TCPclient stuck on read when I try to retrieve a file on the server", "body": "<p>Your program reads data from the stream until it reads 0 bytes:</p>\n\n<pre><code>while ((recByte = stream.Read(buffer, 0, buffer.Length)) &gt; 0)\n</code></pre>\n\n<p>However <code>NetworkStream</code> only returns 0 when the other side closes the connection. You have two options to fix this:</p>\n\n<ul>\n<li>Close the stream on the other side after all data has been sent, or</li>\n<li>Wrap the data in a message format, for instance first send the size of the data as a fixed-size message, followed by exactly that many bytes, so your client knows when it has completed downloading the file</li>\n</ul>\n"}], "owner": {"reputation": 3, "user_id": 8833012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80c9539f24905107feef227366ac91f8?s=128&d=identicon&r=PG&f=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/8833012/nico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 46939767, "answer_count": 1, "score": 0, "last_activity_date": 1508956557, "creation_date": 1508952642, "last_edit_date": 1508953836, "question_id": 46938614, "link": "https://stackoverflow.com/questions/46938614/tcpclient-stuck-on-read-when-i-try-to-retrieve-a-file-on-the-server", "title": "TCPclient stuck on read when I try to retrieve a file on the server", "body": "<p>I make a program to send a file to another computer for video encoding. File sends work. But when I uncomment function \"Download\" of the server to retrieve a file to the server, the client gets stuck at read (client \"Download\" function).</p>\n\n<p>Client :</p>\n\n<pre><code>static byte[] DownloadHASH(NetworkStream stream)\n{\n\n        byte[] check = new byte[32];\n\n        stream.Read(check, 0, 32);\n        return check;\n}\n\n\nstatic string Download(NetworkStream stream)\n{\n        int recByte = 0;\n        byte[] buffer = new byte[1024];\n        string tempFile = string.Format(@\"{0}.mkv\", Guid.NewGuid());\n        FileStream fstream = new FileStream(tempFile, FileMode.Create, FileAccess.Write);\n        Guid.NewGuid();\n\n        while ((recByte = stream.Read(buffer, 0, buffer.Length)) &gt; 0)\n        {\n            fstream.Write(buffer, 0, recByte);\n\n        }\n        fstream.Close();\n        return tempFile;\n }\n\n static void UpLoad(NetworkStream stream, string file) {\n        FileStream fs = new FileStream(file, FileMode.Open, FileAccess.Read);\n        byte[] bytes = new byte[1024];\n        int sendBytes = 0;\n        int offset = 0;\n        while ((sendBytes = fs.Read(bytes, offset, bytes.Length)) &gt; 0)\n        {\n\n            stream.Write(bytes, 0, sendBytes);\n        }\n  }\n</code></pre>\n\n<p>Server:</p>\n\n<pre><code>  FileStream fs = new FileStream(currentOp.file, FileMode.Open, FileAccess.Read);\n  stream.Write(currentOp.checksum, 0 , currentOp.checksum.Length);\n  byte[] bytes = new byte[1024];\n  int sendBytes = 0;\n  int offset = 0;\n  while ((sendBytes = fs.Read(bytes, offset, bytes.Length)) &gt; 0)\n  {\n\n      stream.Write(bytes, 0, sendBytes);\n  }\n  fs.Close();\n  //Download(stream);\n\n  void Download(NetworkStream stream)\n  {\n        int recByte = 0;\n        byte[] buffer = new byte[1024];\n        string tempFile = string.Format(@\"{0}.mp4\", Guid.NewGuid());\n        FileStream fstream = new FileStream(tempFile, FileMode.Create, FileAccess.Write);\n        Guid.NewGuid();\n\n        while ((recByte = stream.Read(buffer, 0, buffer.Length)) &gt; 0)\n        {\n            fstream.Read(buffer, 0, recByte);\n        }\n        fstream.Close();\n   }\n</code></pre>\n\n<p>I don't know why this append. Someone can help me?</p>\n"}, {"tags": ["c#", "xamarin.forms", "oxyplot"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 1, "creation_date": 1508952694, "post_id": 46938602, "comment_id": 80824419, "body": "you don&#39;t appear to be setting your BindingContext"}, {"owner": {"reputation": 1271, "user_id": 568273, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ca2295c9da7c79f9eb6b9d7e48cd9751?s=128&d=identicon&r=PG", "display_name": "eltiare", "link": "https://stackoverflow.com/users/568273/eltiare"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1508953107, "post_id": 46938602, "comment_id": 80824672, "body": "@Jason Is that required in this instance? I&#39;ve been able to bind to properties on the partial class before without setting it."}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 1, "creation_date": 1508953292, "post_id": 46938602, "comment_id": 80824775, "body": "AFAIK, you can either set it explicitly or inherit it, but it has to be set somewhere"}, {"owner": {"reputation": 5976, "user_id": 295480, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/50764660d78a93b3e757b781fa57ce32?s=128&d=identicon&r=PG", "display_name": "LDJ", "link": "https://stackoverflow.com/users/295480/ldj"}, "edited": false, "score": 1, "creation_date": 1508953475, "post_id": 46938602, "comment_id": 80824862, "body": "Have you tried setting vertical and horizontal options to centre and the height/width request at the same time? I&#39;ve got mine inside a grid and this works for me: &lt;oxy:PlotView x:Name=&quot;GraphPanel&quot; Model=&quot;{Binding ChartData}&quot;   Grid.Row=&quot;3&quot;                 VerticalOptions=&quot;Center&quot; HorizontalOptions=&quot;Center&quot; WidthRequest=&quot;500&quot; HeightRequest=&quot;300&quot; /&gt;"}, {"owner": {"reputation": 1271, "user_id": 568273, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ca2295c9da7c79f9eb6b9d7e48cd9751?s=128&d=identicon&r=PG", "display_name": "eltiare", "link": "https://stackoverflow.com/users/568273/eltiare"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1508953900, "post_id": 46938602, "comment_id": 80825099, "body": "@Jason: Welp, you were right. <code>BindingContext = this;</code> in the initializer made the graph appear."}], "answers": [{"tags": [], "owner": {"reputation": 1271, "user_id": 568273, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ca2295c9da7c79f9eb6b9d7e48cd9751?s=128&d=identicon&r=PG", "display_name": "eltiare", "link": "https://stackoverflow.com/users/568273/eltiare"}, "is_accepted": true, "score": 1, "last_activity_date": 1508954024, "creation_date": 1508954024, "answer_id": 46939032, "question_id": 46938602, "link": "https://stackoverflow.com/questions/46938602/oxyplot-not-showing-in-xamarin-forms/46939032#46939032", "title": "OxyPlot not showing in Xamarin Forms", "body": "<p>As per @Jason, I missed setting BindingContext. I find it incredibly odd that an error wasn't being thrown about a missing property...</p>\n"}], "owner": {"reputation": 1271, "user_id": 568273, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ca2295c9da7c79f9eb6b9d7e48cd9751?s=128&d=identicon&r=PG", "display_name": "eltiare", "link": "https://stackoverflow.com/users/568273/eltiare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 777, "favorite_count": 1, "accepted_answer_id": 46939032, "answer_count": 1, "score": 2, "last_activity_date": 1508954024, "creation_date": 1508952604, "question_id": 46938602, "link": "https://stackoverflow.com/questions/46938602/oxyplot-not-showing-in-xamarin-forms", "title": "OxyPlot not showing in Xamarin Forms", "body": "<p>There are dozens of issues about this particular problem, but none of the proposed solutions have worked for me. I cannot get OxyPlot to appear in iOS or Android. I've followed the setup instructions to add the various Init methods after Xamarin Forms init. What I have tried so far:</p>\n\n<ul>\n<li>Adding HeightRequest + WidthRequest</li>\n<li>Not putting it in a stack layout</li>\n<li>Adding a dummy variable after init</li>\n<li>Going to the latest unstable version via OxyPlot's nuget feed (<a href=\"https://www.myget.org/F/oxyplot\" rel=\"nofollow noreferrer\">https://www.myget.org/F/oxyplot</a>)</li>\n</ul>\n\n<p>I am using Xamarin Android version 25.4.0.2, Xamarin Forms 2.4.0.18342, and OxyPlot version 1.0.0.</p>\n\n<p>Here's the XAML:</p>\n\n\n\n<pre><code>&lt;ContentPage xmlns=\"http://xamarin.com/schemas/2014/forms\" \n        xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n        xmlns:oxy=\"clr-namespace:OxyPlot.Xamarin.Forms;assembly=OxyPlot.Xamarin.Forms\"\n        x:Class=\"Example.Stats\"\n        NavigationPage.HasNavigationBar=\"false\"&gt;\n    &lt;ContentPage.Content&gt;\n        &lt;AbsoluteLayout&gt;  \n            &lt;oxy:PlotView Model=\"{Binding Model}\"  \n                  AbsoluteLayout.LayoutBounds=\"20,0,.9,.9\" AbsoluteLayout.LayoutFlags=\"WidthProportional,HeightProportional\" /&gt;  \n        &lt;/AbsoluteLayout&gt;  \n    &lt;/ContentPage.Content&gt;\n&lt;/ContentPage&gt;\n</code></pre>\n\n<p>And the partial class: </p>\n\n<pre><code>namespace Gatemaster\n{\n    public partial class Stats : ContentPage\n    {\n        public PlotModel Model { \n            get {\n                var model = new PlotModel { Title = \"World population by continent\" };  \n                var ps = new PieSeries  \n                {        \n                    StrokeThickness = .25,  \n                    InsideLabelPosition = .25,  \n                    AngleSpan = 360,  \n                    StartAngle = 0  \n                };  \n\n                // http://www.nationsonline.org/oneworld/world_population.htm  \n                // http://en.wikipedia.org/wiki/Continent  \n                ps.Slices.Add(new PieSlice(\"Africa\", 1030) { IsExploded = false });  \n                ps.Slices.Add(new PieSlice(\"Americas\", 929) { IsExploded = false });  \n                ps.Slices.Add(new PieSlice(\"Asia\", 4157));  \n                ps.Slices.Add(new PieSlice(\"Europe\", 739) { IsExploded = false });  \n                ps.Slices.Add(new PieSlice(\"Oceania\", 35) { IsExploded = false });  \n                model.Series.Add(ps);\n                return model;\n            } \n            private set { \n\n            } \n        }\n\n        public Stats()\n        {\n            InitializeComponent();\n        }\n    }\n}\n</code></pre>\n"}]