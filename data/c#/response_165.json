[{"tags": ["c#"], "comments": [{"owner": {"reputation": 2626, "user_id": 863651, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad46e1336e43614ea24e0f42b9a383af?s=128&d=identicon&r=PG", "display_name": "XDS", "link": "https://stackoverflow.com/users/863651/xds"}, "edited": false, "score": 0, "creation_date": 1520467600, "post_id": 49163252, "comment_id": 85332238, "body": "I might be wrong but ... shouldn&#39;t the condition be:  m =&gt; m.AvailableDate.GetValueOrDefault() &gt;= NewPickupDateFrom &amp;&amp; m.PickUpDate.GetValueOrDefault() &lt;= NewPickupDateTo  Just a thought ..."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1520468817, "post_id": 49163252, "comment_id": 85332544, "body": "Why are you doing all that converting back and forth between dates and strings?"}, {"owner": {"reputation": 9, "user_id": 3374694, "user_type": "registered", "profile_image": "https://graph.facebook.com/1540987856/picture?type=large", "display_name": "Dakar2008", "link": "https://stackoverflow.com/users/3374694/dakar2008"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1520470339, "post_id": 49163252, "comment_id": 85332966, "body": "@RufusL because when i get the date it&#39;s MM-dd-yyyy and i need dd-MM-yyyy"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1520470760, "post_id": 49163252, "comment_id": 85333078, "body": "What type of object are you comparing it with? I assumed it was a nullable DateTime?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1520471378, "post_id": 49163252, "comment_id": 85333238, "body": "The MM-dd-yyyy stuff is only for formatting, it doesn&#39;t affect the underlying <code>DateTime</code> object, so you&#39;d only need to do that if you were storing your dates as strings. Which hopefully is not the case. :)"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 3374694, "user_type": "registered", "profile_image": "https://graph.facebook.com/1540987856/picture?type=large", "display_name": "Dakar2008", "link": "https://stackoverflow.com/users/3374694/dakar2008"}, "edited": false, "score": 0, "creation_date": 1520470486, "post_id": 49163570, "comment_id": 85333010, "body": "that would not work, because let&#39;s say that i want to see all tasks that can be picked up between 03-03-2018 and 23-03-2018 and a task is created where the pickup date is between the 03-03-2018 and 28-03-2018 i would not see them, i need to see the tasks as long as one of the values is in the range between the two dates."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 9, "user_id": 3374694, "user_type": "registered", "profile_image": "https://graph.facebook.com/1540987856/picture?type=large", "display_name": "Dakar2008", "link": "https://stackoverflow.com/users/3374694/dakar2008"}, "edited": false, "score": 0, "creation_date": 1520471032, "post_id": 49163570, "comment_id": 85333142, "body": "Ok, I guess I misunderstood your question...I updated the answer."}], "tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": true, "score": 0, "last_activity_date": 1520470940, "last_edit_date": 1520470940, "creation_date": 1520469361, "answer_id": 49163570, "question_id": 49163252, "link": "https://stackoverflow.com/questions/49163252/c-lambda-get-list-of-task-between-two-dates/49163570#49163570", "title": "c# lambda get list of task between two dates", "body": "<blockquote>\n  <p>\"Let's say that the user wants to view all results that's is available for pickup between the 01-03-2018 and 14-03-2018\"</p>\n</blockquote>\n\n<p>From your comment below, it sounds like you want to select all the tasks where either the AvailableDate or the PickupDate are between the PickupDateFrom (<code>01-03-2018</code>) the PickupDateTo (<code>14-03-2018</code>):</p>\n\n<pre><code>var availableTasks = tasks.Where(task =&gt; \n    (task.AvailableDate.GetValueOrDefault() &gt;= PickupDateFrom &amp;&amp; \n    task.AvailableDate.GetValueOrDefault() &lt;= PickupDateTo) || \n    (task.PickupDate.GetValueOrDefault() &lt;= PickupDateFrom &amp;&amp;\n    task.PickupDate.GetValueOrDefault() &lt;= PickupDateTo).ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 3374694, "user_type": "registered", "profile_image": "https://graph.facebook.com/1540987856/picture?type=large", "display_name": "Dakar2008", "link": "https://stackoverflow.com/users/3374694/dakar2008"}, "is_accepted": false, "score": 0, "last_activity_date": 1520471156, "creation_date": 1520471156, "answer_id": 49163800, "question_id": 49163252, "link": "https://stackoverflow.com/questions/49163252/c-lambda-get-list-of-task-between-two-dates/49163800#49163800", "title": "c# lambda get list of task between two dates", "body": "<p>Sorry for using your time guys, but i fould my solution, after a lot more headache:</p>\n\n<pre><code>tasks = tasks.Where(m =&gt; m.AvailableDate.GetValueOrDefault() &gt;= NewPickupDateFrom &amp;&amp; m.PickUpDate.GetValueOrDefault() &lt;= NewPickupDateTo || m.AvailableDate.GetValueOrDefault() &lt;= NewPickupDateFrom &amp;&amp; m.PickUpDate.GetValueOrDefault() &gt;= NewPickupDateTo || m.AvailableDate.GetValueOrDefault() &lt;= NewPickupDateTo &amp;&amp; m.PickUpDate.GetValueOrDefault() &gt;= NewPickupDateFrom).ToList();\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 3374694, "user_type": "registered", "profile_image": "https://graph.facebook.com/1540987856/picture?type=large", "display_name": "Dakar2008", "link": "https://stackoverflow.com/users/3374694/dakar2008"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 49163570, "answer_count": 2, "score": -1, "last_activity_date": 1520471156, "creation_date": 1520467112, "last_edit_date": 1520469279, "question_id": 49163252, "link": "https://stackoverflow.com/questions/49163252/c-lambda-get-list-of-task-between-two-dates", "title": "c# lambda get list of task between two dates", "body": "<p>my brain is boiling right now.</p>\n\n<p>I have a list of tasks where i am programming a search filter for, the users should be able to filter the result with dates, let's say that i create a task that can be picked up between 03-03-2018 and 23-03-2018, my problems is now the lambda expressions, i will try to explain it bette:</p>\n\n<p>in my Task model i have 4 different datetime objects that i work with,</p>\n\n<ul>\n<li>AvailableDate: Pickup date start</li>\n<li>PickupDate: Pickup date end</li>\n<li>RequestDate: Delivery date start</li>\n<li>DeliveryDateTo: Delivery date end</li>\n</ul>\n\n<p>my problems is that if the user choose to filter the search result like this:</p>\n\n<p>The user picks the dates with a datepicker, let's say that the user wants to view all results that's is avalible for pickup between the 01-03-2018 and 14-03-2018</p>\n\n<p>the task that is created should be visible because the user choose a date range where one of the dates is in between the pickup range, but it's not working like it should, i will post my code now:</p>\n\n<pre><code>string TempPickupDateFrom = PickupDateFrom.ToString();\nstring TempPickupDateTo = PickupDateTo.ToString();\nDateTime TempNewPickupDateFrom = DateTime.ParseExact(TempPickupDateFrom, \"MM-dd-yyyy HH:mm:ss\", System.Globalization.CultureInfo.InvariantCulture);\nDateTime TempNewPickupDateTo = DateTime.ParseExact(TempPickupDateTo, \"MM-dd-yyyy HH:mm:ss\", System.Globalization.CultureInfo.InvariantCulture);\nstring ConvertNewPickupDateFrom = TempNewPickupDateFrom.ToString(\"dd-MM-yyyy\");\nDateTime NewPickupDateFrom = DateTime.ParseExact(ConvertNewPickupDateFrom, \"dd-MM-yyyy\", System.Globalization.CultureInfo.InvariantCulture);\nstring ConvertNewPickupDateTo = TempNewPickupDateTo.ToString(\"dd-MM-yyyy\");\nDateTime NewPickupDateTo = DateTime.ParseExact(ConvertNewPickupDateTo, \"dd-MM-yyyy\", System.Globalization.CultureInfo.InvariantCulture);\ntasks = tasks.Where(m =&gt; m.AvailableDate.GetValueOrDefault() &lt;= NewPickupDateFrom || m.PickUpDate.GetValueOrDefault() &gt;= NewPickupDateTo).ToList();\n</code></pre>\n\n<p>Hopes this makes any sense to someone, i am getting nuts about it...</p>\n"}, {"tags": ["c#", "uwp", "youtube-api"], "answers": [{"tags": [], "owner": {"reputation": 7891, "user_id": 6782612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KuUfK.jpg?s=128&g=1", "display_name": "Xie Steven", "link": "https://stackoverflow.com/users/6782612/xie-steven"}, "is_accepted": true, "score": 2, "last_activity_date": 1520490906, "creation_date": 1520490906, "answer_id": 49166840, "question_id": 49163036, "link": "https://stackoverflow.com/questions/49163036/filestream-initialization-of-a-json-file-throws-system-notsupportedexception/49166840#49166840", "title": "FileStream initialization of a Json file throws System.NotSupportedException", "body": "<blockquote>\n  <p>I have imported the Json file onto my UWP project</p>\n</blockquote>\n\n<p>If you want to get the file from the root of your project. You could use <code>Package.Current.InstalledLocation.GetFileAsync</code> method to get the file. Then, you could get its file stream like the following:</p>\n\n<pre><code>StorageFile file = await Package.Current.InstalledLocation.GetFileAsync(\"client_secrets.json\");\nusing (var stream = await file.OpenStreamForReadAsync())\n{\n    //TODO:\n}\n</code></pre>\n\n<p>Please note that if you put this json file in your project directory, this file is read-only. If you want to read and write it, you could copy it to the Application Data store. For example: <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.storage.applicationdata#Windows_Storage_ApplicationData_LocalFolder\" rel=\"nofollow noreferrer\">LocalFolder</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "is_accepted": false, "score": 2, "last_activity_date": 1520496958, "creation_date": 1520496958, "answer_id": 49168386, "question_id": 49163036, "link": "https://stackoverflow.com/questions/49163036/filestream-initialization-of-a-json-file-throws-system-notsupportedexception/49168386#49168386", "title": "FileStream initialization of a Json file throws System.NotSupportedException", "body": "<p>The reason for the exception you are getting is that you are using the UWP specific URI <code>ms-appx:///</code> in the classic <code>System.IO.FileStream</code> API, which doesn't understand it.</p>\n\n<p>You have two options to access the file:</p>\n\n<h2><strong><code>System.IO</code></strong></h2>\n\n<p>Using the classic <code>System.IO</code> types, you need to use actual filesystem paths to access the file:</p>\n\n<pre><code>var filePath = Path.Combine(\n         Package.Current.InstalledLocation.Path,\n         \"client_secrets.json\");\nusing (var stream = new FileStream(\n      filePath, \n      FileMode.Open, FileAccess.Read))\n{\n   ...\n}\n</code></pre>\n\n<h2><code>StorageFile</code></h2>\n\n<p>You can use the <code>StorageFile</code> API, which is UWP specific and supports <code>ms-appx:///</code>. You can access the file either using <code>StorageFile.GetFileFromApplicationUriAsync</code> method or via <code>InstalledLocation</code> <code>StorageFolder</code> as @XavierXie suggests.</p>\n\n<p>The advantage of the <code>StorageFile</code> API is that it is asynchronous (non-blocking) and the recommended one in UWP, while the <code>System.IO</code> one is more universal and is actually more performant.</p>\n"}], "owner": {"reputation": 1599, "user_id": 8927944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f7e58148d066aaede1083074079a471?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233; B", "link": "https://stackoverflow.com/users/8927944/andr%c3%a9-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "accepted_answer_id": 49166840, "answer_count": 2, "score": 1, "last_activity_date": 1520496958, "creation_date": 1520465702, "last_edit_date": 1520496213, "question_id": 49163036, "link": "https://stackoverflow.com/questions/49163036/filestream-initialization-of-a-json-file-throws-system-notsupportedexception", "title": "FileStream initialization of a Json file throws System.NotSupportedException", "body": "<p>I was following one of the Youtube API's samples provided by <em>Google</em>, but so far without much success.\nThis particular API requires authorized access (OAuth 2.0), and therefore I had to get the <code>secrets</code> JSON file from the Google API Console, holding the required information for the <code>OAuth2</code> operation. </p>\n\n<p>I have imported the JSON file onto my UWP project, but whenever I try to set a stream to it I stumble across a <em>System.NotSupportedException</em>.</p>\n\n<pre><code>using (var stream = new FileStream(\"ms-appx:///client_secrets.json\", FileMode.Open, FileAccess.Read))\n{\n    credential = await GoogleWebAuthorizationBroker.AuthorizeAsync(\n        GoogleClientSecrets.Load(stream).Secrets,\n        // This OAuth 2.0 access scope allows for full read/write access to \n        // authenticated user's account.\n        new[] { YouTubeService.Scope.Youtube },\n        \"user\",\n        CancellationToken.None,\n        new FileDataStore(this.GetType().ToString())\n        );\n}\n</code></pre>\n\n<p>I have set the <em>BuildAction</em> of the JSON file to <em>Content</em> and the <em>Copy to Output Directory</em> to <em>Copy if newer</em> but also <em>Copy always</em>, but without any success.</p>\n\n<p>Any ideas? </p>\n\n<p>Ps: The file is at the root of the package location and therefore I have used the <code>ms-appx</code> URI scheme for simplicity. </p>\n"}, {"tags": ["c#", "asp.net", "webforms", "httphandler"], "comments": [{"owner": {"reputation": 44608, "user_id": 1127114, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb1b2345f4c7b696d7c0376d273d01b2?s=128&d=identicon&r=PG", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/1127114/michael-liu"}, "edited": false, "score": 1, "creation_date": 1520465078, "post_id": 49162855, "comment_id": 85331511, "body": "You can&#39;t write <code>new Debt(c)</code> because that&#39;s not the correct type to instantiate. At runtime, ASP.NET converts your .aspx markup into a dynamically generated subclass of <code>Debt</code>. That subclass will have an empty constructor."}, {"owner": {"reputation": 488, "user_id": 1988995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f30df2bad08438f2bcee012e4ba212?s=128&d=identicon&r=PG", "display_name": "mattfei", "link": "https://stackoverflow.com/users/1988995/mattfei"}, "edited": false, "score": 0, "creation_date": 1520469534, "post_id": 49162855, "comment_id": 85332734, "body": "Sounds like you want to do dependency injection in webforms. Here is the good news. In .net 4.7.2, DI is added in webforms. <a href=\"https://blogs.msdn.microsoft.com/dotnet/2018/02/05/announcing-net-framework-4-7-2-early-access-build-3052/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/dotnet/2018/02/05/&hellip;</a>"}, {"owner": {"reputation": 35, "user_id": 9335930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43053fafdb5828c299b2689fa1c76224?s=128&d=identicon&r=PG&f=1", "display_name": "Gabor", "link": "https://stackoverflow.com/users/9335930/gabor"}, "edited": false, "score": 0, "creation_date": 1520522078, "post_id": 49162855, "comment_id": 85358099, "body": "Can I then instastiate the generated <code>debt_aspx</code> class and set its Consumption property to <code>c</code>? At which lifecycle event is the generated subclass created? Or is it done at compilation?"}], "owner": {"reputation": 35, "user_id": 9335930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43053fafdb5828c299b2689fa1c76224?s=128&d=identicon&r=PG&f=1", "display_name": "Gabor", "link": "https://stackoverflow.com/users/9335930/gabor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 276, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520464666, "creation_date": 1520464666, "question_id": 49162855, "link": "https://stackoverflow.com/questions/49162855/passing-an-instance-of-a-system-web-ui-page-to-server-execute-or-transfer-metho", "title": "Passing an instance of a System.Web.UI.Page to Server.Execute or .Transfer method yields a blank page", "body": "<p>I have customized my <code>Debt : System.Web.UI.Page</code> (WebForms) class to have a property of type <code>Consumption</code>, which is initialized through the constructor.</p>\n\n<pre><code>public class Debt : System.Web.UI.Page {\n     public Consumption Consumption {get;set;}\n     public Debt(Consumption consumption) =&gt; Consumption = consumption;\n     ...\n}\n</code></pre>\n\n<p>I have a handler, which decides based on some parameters whether to transfer the request to the \"Debt\" page, or the \"Add\" page. But if we transfer to Debt page, I'd like to pass a Consumption object thru the constructor, like this:</p>\n\n<p>The handler (*.ashx):</p>\n\n<pre><code>public void ProcessRequest(HtmlContext context) {\n     Consumption c = [...retrieving the consumption...];\n     IHttpHandler handler = new Debt(c);\n     context.Server.Transfer(handler, false);\n}\n</code></pre>\n\n<p>The transfer happens, but I receive a blank page, instead of the expected \"Debt\" page.</p>\n\n<p>I've tried with <code>Execute()</code>, which requires a <code>TextWriter</code> parameter, but I couldn't force the <code>ProcessRequest</code> method of the Debt page to output its rendered HTML content (so that the <code>TextWriter</code> parameter of <code>Execute</code> can consume the output).</p>\n\n<p>I want to avoid <code>Response.Redirect</code>, as I want these two pages, \"Debt\" and \"Add\" accessible only thru a handler, not by typing them to the browser.</p>\n"}, {"tags": ["c#", "entity-framework", "asp.net-identity"], "comments": [{"owner": {"reputation": 7, "user_id": 7463666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d935ab15ab08e8751095843808f58d5b?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/7463666/luke"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1520465555, "post_id": 49162838, "comment_id": 85331661, "body": "@CamiloTerevinto Just made some edits. Hope they make the question clearer. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 7463666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d935ab15ab08e8751095843808f58d5b?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/7463666/luke"}, "edited": false, "score": 0, "creation_date": 1520466436, "post_id": 49163057, "comment_id": 85331915, "body": "Will &quot;public User Tenant { get; set; }&quot; get the userid of a user in my AspNetUsers table that have the role name of &quot;Tenant&quot; in my AspNetRoles table?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 7, "user_id": 7463666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d935ab15ab08e8751095843808f58d5b?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/7463666/luke"}, "edited": false, "score": 0, "creation_date": 1520466496, "post_id": 49163057, "comment_id": 85331934, "body": "Not automatically, no. In both cases you&#39;ll need to code that logic manually"}, {"owner": {"reputation": 7, "user_id": 7463666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d935ab15ab08e8751095843808f58d5b?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/7463666/luke"}, "edited": false, "score": 0, "creation_date": 1520467442, "post_id": 49163057, "comment_id": 85332192, "body": "That&#39;s what I&#39;m struggling to figure out... I originally created a landlord and tenant entity but read that it was best practice to differentiate users with roles and claims. Thank you anyway though!"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 7, "user_id": 7463666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d935ab15ab08e8751095843808f58d5b?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/7463666/luke"}, "edited": false, "score": 0, "creation_date": 1520467616, "post_id": 49163057, "comment_id": 85332248, "body": "@Luke There&#39;s no best practice there, it depends entirely on your business. It&#39;s easier to see if <code>Landord</code> is another entity though"}], "tags": [], "owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "is_accepted": true, "score": 1, "last_activity_date": 1520465898, "creation_date": 1520465898, "answer_id": 49163057, "question_id": 49162838, "link": "https://stackoverflow.com/questions/49162838/how-to-reference-two-userseach-with-a-different-role-in-an-entity-framework-cl/49163057#49163057", "title": "How to reference two users(each with a different role) in an Entity Framework Class", "body": "<p>You have two ways to do this:</p>\n\n<ol>\n<li><p>Keep your current model, and ensure you set up the navigational properties correctly:</p>\n\n<pre><code>public class Property\n{\n    public int PropertyId { get; set; }\n    public int TenantId { get; set; }\n    public int LandlordId { get; set; }\n\n    public User Tenant { get; set; }\n    public User Landlord { get; set; }\n}\n</code></pre>\n\n<p>Notice that, since this correctly follows convention over configuration, there's no need for applying <code>[ForeingKey]</code>.</p></li>\n<li><p>This is going to represent a bigger change in your application. You would need to introduce a <code>Landlord</code> and a <code>Tenant</code> entity:</p>\n\n<pre><code>public class Landlord\n{\n    ...\n    public int UserId { get; set; }\n    public User User { get; set }\n}\n\npublic class Tenant\n{\n    ...\n    public int UserId { get; set; }\n    public User User { get; set }\n}\n</code></pre>\n\n<p>And then map those to the <code>Property</code> entity:</p>\n\n<pre><code>public class Property\n{\n    public int PropertyId { get; set; }\n    public int TenantId { get; set; }\n    public int LandlordId { get; set; }\n\n    public Tenant Tenant { get; set; }\n    public Landlord Landlord { get; set; }\n}\n</code></pre></li>\n</ol>\n\n<p>Now, which of those approaches make more sense in your business domain and in this application is up to you to decide.</p>\n"}], "owner": {"reputation": 7, "user_id": 7463666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d935ab15ab08e8751095843808f58d5b?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/7463666/luke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 49163057, "answer_count": 1, "score": 0, "last_activity_date": 1520465898, "creation_date": 1520464591, "last_edit_date": 1520465398, "question_id": 49162838, "link": "https://stackoverflow.com/questions/49162838/how-to-reference-two-userseach-with-a-different-role-in-an-entity-framework-cl", "title": "How to reference two users(each with a different role) in an Entity Framework Class", "body": "<p>I have one entity that relates to two users in the AspNetUsers table:</p>\n\n<ol>\n<li>User with the role of Tenant</li>\n<li>User with the role of Landlord</li>\n<li>Property (Created with entity framework)</li>\n</ol>\n\n<p>I can't figure out how to relate 1 tenant and 1 landlord with 1 property when creating foreign key relationships in my property context. To do this I would need to implement two foreign keys in my property class but they would both be a UserID from Identity. That doesn't seem right though and I can't get my head around it. Below is what the beginning of my Property.cs file would look like.</p>\n\n<pre><code>public class Property\n{\n    [ScaffoldColumn(false)]\n    public string PropertyID { get; set; }\n    [Key, ForeignKey(\"User\")]\n    public string LandlordId { get;set; }\n    [Key, ForeignKey(\"User\")]\n    public string TenantId { get;set; }\n\n    //other fields\n\n    public virtual ApplicationUser User { get;set; }\n}\n</code></pre>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 658, "user_id": 6177689, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/o5C91.jpg?s=128&g=1", "display_name": "Ingenioushax", "link": "https://stackoverflow.com/users/6177689/ingenioushax"}, "edited": false, "score": 0, "creation_date": 1520464882, "post_id": 49162828, "comment_id": 85331447, "body": "How many elements are in your list?"}, {"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 0, "creation_date": 1520465152, "post_id": 49162828, "comment_id": 85331537, "body": "Either put it truely in memory with ToList(), or execute it in an stored procedure where you can better control the query"}, {"owner": {"reputation": 12002, "user_id": 2086, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4908618aea7c32eb0f94d398b57fa28d?s=128&d=identicon&r=PG", "display_name": "mcintyre321", "link": "https://stackoverflow.com/users/2086/mcintyre321"}, "edited": false, "score": 1, "creation_date": 1520465439, "post_id": 49162828, "comment_id": 85331624, "body": "L2O can be slow if you end up joining large collections together. You can speed it up if that&#39;s your problem using this technique: <a href=\"https://github.com/mcintyre321/LinqToAnything/wiki/Using-LinqToAnything-to-index-a-large-collection-using-a-hashtable\" rel=\"nofollow noreferrer\">github.com/mcintyre321/LinqToAnything/wiki/&hellip;</a>"}, {"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "edited": false, "score": 1, "creation_date": 1520465740, "post_id": 49162828, "comment_id": 85331715, "body": "What exactly is the goal of that query? Hard to tell but there&#39;s 2 self joins on that list, probably unnecessarily. I see a lot of questionable constructs being used, but it&#39;s hard to give a potential solution if we can&#39;t make out what it&#39;s doing."}, {"owner": {"reputation": 366, "user_id": 1663715, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e0c0ea0b26fc35e07d872554e8545bd8?s=128&d=identicon&r=PG", "display_name": "user1663715", "link": "https://stackoverflow.com/users/1663715/user1663715"}, "reply_to_user": {"reputation": 12002, "user_id": 2086, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4908618aea7c32eb0f94d398b57fa28d?s=128&d=identicon&r=PG", "display_name": "mcintyre321", "link": "https://stackoverflow.com/users/2086/mcintyre321"}, "edited": false, "score": 0, "creation_date": 1520467434, "post_id": 49162828, "comment_id": 85332188, "body": "@mcintyre321 as the list is big, I will try the indexing option. Thank you."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1520467441, "post_id": 49162828, "comment_id": 85332190, "body": "What is <code>Coalesce</code>?"}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1520467587, "post_id": 49162828, "comment_id": 85332232, "body": "If you really need that many joins maybe you should consider a different data structure, e.g. a linked list or classes that have references to their related objects."}, {"owner": {"reputation": 366, "user_id": 1663715, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e0c0ea0b26fc35e07d872554e8545bd8?s=128&d=identicon&r=PG", "display_name": "user1663715", "link": "https://stackoverflow.com/users/1663715/user1663715"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1520467679, "post_id": 49162828, "comment_id": 85332266, "body": "@NetMage my custom function - implementation of the SQL server Coalesce"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1520467861, "post_id": 49162828, "comment_id": 85332310, "body": "Are you sure the type of <code>list</code> is <code>List&lt;MDEntity&gt;</code>? If it is, why are you doing <code>select new MDEntity</code>?"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1520467924, "post_id": 49162828, "comment_id": 85332328, "body": "I would suggest considering <code>public static T Coalesce&lt;T&gt;(params T[] vals)  =&gt; vals.FirstOrDefault(v =&gt; v != null); </code> or better still, just doing <code>a ?? b</code> rather than pass two <code>null</code>s."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1520468718, "post_id": 49162828, "comment_id": 85332518, "body": "Why are you doing a <code>join</code> with <code>Section = (Guid?)null</code> on both sides - that codes does nothing..."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1520469457, "post_id": 49162828, "comment_id": 85332709, "body": "How many items end up in <code>result</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 12002, "user_id": 2086, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4908618aea7c32eb0f94d398b57fa28d?s=128&d=identicon&r=PG", "display_name": "mcintyre321", "link": "https://stackoverflow.com/users/2086/mcintyre321"}, "edited": false, "score": 0, "creation_date": 1520465486, "post_id": 49162941, "comment_id": 85331641, "body": "He/she says &quot;GetData returns List&lt;MDEntity&gt;&quot;"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 12002, "user_id": 2086, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4908618aea7c32eb0f94d398b57fa28d?s=128&d=identicon&r=PG", "display_name": "mcintyre321", "link": "https://stackoverflow.com/users/2086/mcintyre321"}, "edited": false, "score": 0, "creation_date": 1520467806, "post_id": 49162941, "comment_id": 85332295, "body": "@mcintyre321 If that is true, why have <code>select new MDEntity</code> ?"}], "tags": [], "owner": {"reputation": 6592, "user_id": 497745, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a498dd9b0f762bc846afc9b36056b92?s=128&d=identicon&r=PG", "display_name": "Ayo I", "link": "https://stackoverflow.com/users/497745/ayo-i"}, "is_accepted": false, "score": 0, "last_activity_date": 1520465079, "creation_date": 1520465079, "answer_id": 49162941, "question_id": 49162828, "link": "https://stackoverflow.com/questions/49162828/linq-query-for-an-in-memory-list-takes-seconds-on-tolist-call/49162941#49162941", "title": "LINQ query for an in-memory List takes seconds on ToList() call", "body": "<p>The ToList() call is the point at which the actual query executes. So that big block of code you have above, is being lazily executed at the moment that you call ToList().</p>\n\n<p>Given that I see you're able to use AsQueryable, I'm almost certain this is ultimately a database query under the covers. Although, I could be wrong.</p>\n\n<p>Prior to the ToList() call, C# does NO SQL calls. So actually, it is NOT an in-memory operation.</p>\n\n<p>That is a fairly sophisticated query, so I'm not surprised that it could take a few seconds for the database to complete the query and for C# to then return the resulting list.</p>\n"}], "owner": {"reputation": 366, "user_id": 1663715, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e0c0ea0b26fc35e07d872554e8545bd8?s=128&d=identicon&r=PG", "display_name": "user1663715", "link": "https://stackoverflow.com/users/1663715/user1663715"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520467431, "creation_date": 1520464539, "last_edit_date": 1520467431, "question_id": 49162828, "link": "https://stackoverflow.com/questions/49162828/linq-query-for-an-in-memory-list-takes-seconds-on-tolist-call", "title": "LINQ query for an in-memory List takes seconds on ToList() call", "body": "<p>The following LINQ query is slow even for an in-memory List. It takes seconds to execute. </p>\n\n<p>I tried both List and IQueryable and it is slow for both.</p>\n\n<p>Can you provide any advice why it is slow?</p>\n\n<p>edit:</p>\n\n<p>The list has 350,000 rows. The logic is converted from a stored procedure to cache table in a list and retrieve data from memory instead of hitting database multiple times.</p>\n\n<pre><code>var list = GetData().AsQueryable(); //GetData returns List&lt;MDEntity&gt;\nvar query = (from g in list join ux in list on new {\n    Page = sPage, g.Property, Product = sProdAll, Section = (Guid?) null\n  }\n  equals new {\n    ux.Page, ux.Property, ux.Product, Section = (Guid?) null\n  }\n  into ux_join from ux in ux_join.DefaultIfEmpty() join up in list on new {\n    Page = sPage,\n      g.Property,\n      Section = (Guid?) null\n  }\n  equals new {\n    up.Page,\n      up.Property,\n      Section = (Guid?) null\n  }\n  into up_join from up in up_join.DefaultIfEmpty() where(up.Product ?? string.Empty) == sProd || up.Product == sProdAlt where g.Section == (Guid?) null &amp;&amp;\n  g.Page == sPage &amp;&amp;\n  ((g.Product ?? string.Empty) == sProd || g.Product == sProdAlt || g.Product == sProdAll) orderby g.Property,\n  g.Product,\n  g.Language select new MDEntity {\n    Property = g.Property,\n      Product = (up.Page ?? string.Empty) == string.Empty ? Coalesce(up.Product, ux.Product, null, null) : Coalesce(up.Product, \"SA\", null, null),\n      Language = Coalesce(up.Language, ux.Language, null, null),\n      Value = Coalesce(up.Value, ux.Value, null, null)\n  });\nvar result = query.ToList();\n</code></pre>\n"}, {"tags": ["c#", ".net", "rest"], "comments": [{"owner": {"reputation": 442, "user_id": 3580273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b590099a1ac830b4ad86822fdb6d8260?s=128&d=identicon&r=PG", "display_name": "Khatibzadeh", "link": "https://stackoverflow.com/users/3580273/khatibzadeh"}, "edited": false, "score": 0, "creation_date": 1520465272, "post_id": 49162791, "comment_id": 85331574, "body": "HttpClient is not an option instead of WebClient?"}, {"owner": {"reputation": 1187, "user_id": 9393635, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2a956540dcbaa39914322d6a5e442125?s=128&d=identicon&r=PG&f=1", "display_name": "user9393635", "link": "https://stackoverflow.com/users/9393635/user9393635"}, "reply_to_user": {"reputation": 442, "user_id": 3580273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b590099a1ac830b4ad86822fdb6d8260?s=128&d=identicon&r=PG", "display_name": "Khatibzadeh", "link": "https://stackoverflow.com/users/3580273/khatibzadeh"}, "edited": false, "score": 0, "creation_date": 1520528516, "post_id": 49162791, "comment_id": 85362495, "body": "thanks khat I switched from webclient to httpclient based on your recommendation.  what is the history of these 2 implementations?  for example, was webclient the original option .net provided for calling rest services, but then they updated httpclient later on to be the better client for this?"}, {"owner": {"reputation": 442, "user_id": 3580273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b590099a1ac830b4ad86822fdb6d8260?s=128&d=identicon&r=PG", "display_name": "Khatibzadeh", "link": "https://stackoverflow.com/users/3580273/khatibzadeh"}, "edited": false, "score": 0, "creation_date": 1520528872, "post_id": 49162791, "comment_id": 85362711, "body": "you may look at following: <a href=\"http://www.diogonunes.com/blog/webclient-vs-httpclient-vs-httpwebrequest/\" rel=\"nofollow noreferrer\">diogonunes.com/blog/webclient-vs-httpclient-vs-httpwebreques&zwnj;&#8203;t</a>"}], "owner": {"reputation": 1187, "user_id": 9393635, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2a956540dcbaa39914322d6a5e442125?s=128&d=identicon&r=PG&f=1", "display_name": "user9393635", "link": "https://stackoverflow.com/users/9393635/user9393635"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520464316, "creation_date": 1520464316, "question_id": 49162791, "link": "https://stackoverflow.com/questions/49162791/is-there-a-built-in-way-to-set-a-timeout-value-for-webclient", "title": "is there a built-in way to set a timeout value for webclient?", "body": "<p>Is there a built-in way to set a timeout value for WebClient? My WebClient is timing out on a long-running REST call.  I googled for ways to increase the request timeout value for WebClient calls but I only found examples which created an extension class for WebClient.  It seems like .NET would have a built-in way to extend the timeout value for WebClient requests.  Do you know how to do this?</p>\n"}, {"tags": ["c#", ".net", "json", "linq", "json.net"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1520463282, "post_id": 49162537, "comment_id": 85330858, "body": "<a href=\"https://www.newtonsoft.com/json/help/html/QueryingLINQtoJSON.htm\" rel=\"nofollow noreferrer\">LINQ to JSON</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 291, "user_id": 4379237, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8230eb4290f28336c237a5af9096442c?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/4379237/richard"}, "edited": false, "score": 0, "creation_date": 1520463850, "post_id": 49162637, "comment_id": 85331086, "body": "Well, in my case if you notice my property name and the codition itself can be dynamic. I do not have a problem navigating to the values within my JsonObject."}, {"owner": {"reputation": 101, "user_id": 9354227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5df4935d3207356320826ba5ac819a9a?s=128&d=identicon&r=PG&f=1", "display_name": "kasuocore", "link": "https://stackoverflow.com/users/9354227/kasuocore"}, "reply_to_user": {"reputation": 291, "user_id": 4379237, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8230eb4290f28336c237a5af9096442c?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/4379237/richard"}, "edited": false, "score": 0, "creation_date": 1520464541, "post_id": 49162637, "comment_id": 85331344, "body": "Did you try DynamicExpresso for dynamic conditionals? <a href=\"https://github.com/davideicardi/DynamicExpresso\" rel=\"nofollow noreferrer\">github.com/davideicardi/DynamicExpresso</a>"}], "tags": [], "owner": {"reputation": 101, "user_id": 9354227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5df4935d3207356320826ba5ac819a9a?s=128&d=identicon&r=PG&f=1", "display_name": "kasuocore", "link": "https://stackoverflow.com/users/9354227/kasuocore"}, "is_accepted": false, "score": 0, "last_activity_date": 1520463523, "creation_date": 1520463523, "answer_id": 49162637, "question_id": 49162537, "link": "https://stackoverflow.com/questions/49162537/query-json-object-dynamically/49162637#49162637", "title": "Query Json Object dynamically", "body": "<p>You can use ExpandoObject:</p>\n\n<pre><code>var expandoObj = JsonConvert.DeserializeObject&lt;ExpandoObject&gt;(jsonObject);\n\nexpandoObj.yourProperty\n</code></pre>\n\n<p>JsonConvert is from Newtonsoft.Json package.</p>\n"}, {"tags": [], "owner": {"reputation": 17937, "user_id": 316300, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FXmiA.jpg?s=128&g=1", "display_name": "Dave Bish", "link": "https://stackoverflow.com/users/316300/dave-bish"}, "is_accepted": false, "score": 0, "last_activity_date": 1520464240, "creation_date": 1520464240, "answer_id": 49162780, "question_id": 49162537, "link": "https://stackoverflow.com/questions/49162537/query-json-object-dynamically/49162780#49162780", "title": "Query Json Object dynamically", "body": "<p>You may be able to use <a href=\"http://goessner.net/articles/JsonPath/\" rel=\"nofollow noreferrer\">Jpath</a>:</p>\n\n<pre><code>using Newtonsoft.Json -\n\n....\n\nvar json = @\"\n{\n    stuff : [\n        {\n            value : 1\n        },\n        { \n            value : 2\n        }       \n    ]\n}\";\n\n\nvar token = JToken.Parse(json);\n\nvar something = token.SelectTokens(\"$.stuff[?(@.value == 1)]\").ToList();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 291, "user_id": 4379237, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8230eb4290f28336c237a5af9096442c?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/4379237/richard"}, "edited": false, "score": 1, "creation_date": 1520879967, "post_id": 49163007, "comment_id": 85488248, "body": "This helped. Thank you."}], "tags": [], "owner": {"reputation": 278, "user_id": 4037796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OgnBn.jpg?s=128&g=1", "display_name": "ismael.", "link": "https://stackoverflow.com/users/4037796/ismael"}, "is_accepted": true, "score": 1, "last_activity_date": 1520467332, "last_edit_date": 1520467332, "creation_date": 1520465480, "answer_id": 49163007, "question_id": 49162537, "link": "https://stackoverflow.com/questions/49162537/query-json-object-dynamically/49163007#49163007", "title": "Query Json Object dynamically", "body": "<p>I can't comment for clarification (don't have the rep yet), but if you need to be able to read the property name because it's changing you can do this. You would have to know the name though.     </p>\n\n<pre><code>var JSONobj = JObject.Parse(json);\n\nforeach (JToken child in JSONobj.Children())\n{\n    var prop = child as JProperty; \n    var propertyName = prop.Name; // this will give you the name of the property\n    if (propertyName == \"DidWeCharge\")\n    {\n\n       var value = prop.Value; // Do something here with value?\n    }\n    if (propertyName == \"DidWeHold\")\n    {\n       var value = prop.Value; // Do something here with value?\n    }\n\n    var propertyType = prop.Value.Type; // this return the type as a JTokenType enum.\n}\n</code></pre>\n\n<p>I don't know how nested your JSON is, so you may have to traverse further down with another foreach on the child by doing child.Children(). </p>\n"}], "owner": {"reputation": 291, "user_id": 4379237, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8230eb4290f28336c237a5af9096442c?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/4379237/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1298, "favorite_count": 0, "accepted_answer_id": 49163007, "answer_count": 3, "score": 0, "last_activity_date": 1520467332, "creation_date": 1520463049, "question_id": 49162537, "link": "https://stackoverflow.com/questions/49162537/query-json-object-dynamically", "title": "Query Json Object dynamically", "body": "<p>I am trying to implement a dynamic condition on a JSON Object.\nAfter searching for a while, I am not able to find any resources which can meet my needs.</p>\n\n<p>In the below fashion, I am getting the JsonObject dynamic string into jsonObject variable.</p>\n\n<pre><code>   string inputFromAPI = client.GetStringAsync(URL).Result;\n   dynamic jsonObject = JValue.Parse(inputFromAPI);\n</code></pre>\n\n<p>I now have a condition which can change on need basis.For example I can have a condition which says \n\"inputFromAPI.DidWeCharge == true &amp;&amp; inputFromAPI.DidWeHold == false\"</p>\n\n<p>The above line can change on the fly. Any inputs how to address this will be greatly appreciated. </p>\n"}, {"tags": ["c#", "interface", "partial-classes"], "comments": [{"owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 1, "creation_date": 1520463165, "post_id": 49162530, "comment_id": 85330809, "body": "Composition pattern ?"}, {"owner": {"reputation": 109, "user_id": 6710482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5bd75d77269f231f1095013599677c8?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/6710482/jonathan"}, "reply_to_user": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1520463860, "post_id": 49162530, "comment_id": 85331092, "body": "Possibly. The way it works, when we import the service reference, we end up with Svc1Header, Svc2Header, Svc3Header...etc. They all have nearly identical structures, but because of the way they&#39;re named, they come in as distinct classes. We can&#39;t edit the services, but we want to apply something to be able to make a single call no matter what the class is to populate it with the default values. Otherwise, we&#39;ll have two or three dozen calls that we&#39;ll have to wire up individually, and keep track of."}, {"owner": {"reputation": 658, "user_id": 6177689, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/o5C91.jpg?s=128&g=1", "display_name": "Ingenioushax", "link": "https://stackoverflow.com/users/6177689/ingenioushax"}, "edited": false, "score": 0, "creation_date": 1520464582, "post_id": 49162530, "comment_id": 85331357, "body": "Adapter pattern?"}, {"owner": {"reputation": 109, "user_id": 6710482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5bd75d77269f231f1095013599677c8?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/6710482/jonathan"}, "edited": false, "score": 0, "creation_date": 1520465222, "post_id": 49162530, "comment_id": 85331558, "body": "I don&#39;t think Adapter Pattern gives me the ability to generalize the multiple classes into a single interface that I can send to a single function to populate it with common data."}, {"owner": {"reputation": 9448, "user_id": 491907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eAa3p.png?s=128&g=1", "display_name": "pinkfloydx33", "link": "https://stackoverflow.com/users/491907/pinkfloydx33"}, "edited": false, "score": 1, "creation_date": 1520470535, "post_id": 49162530, "comment_id": 85333019, "body": "The interface contract is that the property must be of type <code>IWSSvcInfo</code> and <i>not</i> (for example) the concrete type <code>Service2_WSSvcInfo</code> even though it <i>is</i> a <code>IWSSvcInfo</code>. Can you Implement additional explicit interface properties in your partial classes? <code>IWSSvcInfo IHeader.ServiceInfo { get { return ServiceInfo; } set { ServiceInfo = value; } }</code>"}, {"owner": {"reputation": 109, "user_id": 6710482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5bd75d77269f231f1095013599677c8?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/6710482/jonathan"}, "edited": false, "score": 0, "creation_date": 1520474154, "post_id": 49162530, "comment_id": 85333881, "body": "That&#39;s working. It&#39;s not as straightforward as I had hoped, but the one saving grace of the web service we&#39;re using is all the classes are named the same suffix so we can do copy/paste once we&#39;ve built out one of the classes. It just seems ridiculous that it doesn&#39;t understand that the class is an implementation of the interface."}], "owner": {"reputation": 109, "user_id": 6710482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5bd75d77269f231f1095013599677c8?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/6710482/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520465042, "creation_date": 1520463034, "last_edit_date": 1520465042, "question_id": 49162530, "link": "https://stackoverflow.com/questions/49162530/apply-interface-to-partial-class-which-returns-partial-class-that-needs-interfac", "title": "Apply Interface to partial class which returns partial class that needs interface", "body": "<p>I have a suite of web service functions from a 3rd party vendor which I am trying to connect to using a Service Reference. The functions all have a common data structure, but because of the naming convention, they are all brought in as separate classes. I would like to apply an interface to the partial classes that the wizard creates so that I can have one function to populate the common data for each. Here's my problem:</p>\n\n<p>From the import of the service, it creates a series of classes like this:</p>\n\n<pre><code>public partial class Service1_Header\n{\n   public Service1_WSSvcInfo ServiceInfo {get;set;}\n}\npublic partial class Service1_WSSvcInfo\n{\n   public string SvcName {get;set;}\n   public string SvcVersion {get;set;}\n}\n\npublic partial class Service2_Header\n{\n   public Service2_WSSvcInfo ServiceInfo {get;set;}\n}\npublic partial class Service2_WSSvcInfo\n{\n   public string SvcName {get;set;}\n   public string SvcVersion {get;set;}\n}\n\npublic partial class Service3_Header\n{\n   public Service3_WSSvcInfo ServiceInfo {get;set;}\n}\npublic partial class Service3_WSSvcInfo\n{\n   public string SvcName {get;set;}\n   public string SvcVersion {get;set;}\n}\n...\n</code></pre>\n\n<p>So I create my interface like this:</p>\n\n<pre><code>public interface IHeader\n{\n    IWSSvcInfo ServiceInfo {get;set;}\n}\npublic interface IWSSvcInfo\n{\n    string SvcName {get;set;}\n    string SvcVersion {get;set;}\n}\n</code></pre>\n\n<p>And then create a new file to assign the interfaces to the partial classes like so:</p>\n\n<pre><code>public partial class Service1_Header : IHeader\n{}\npublic partial class Service1_WSSvcInfo : IWSSvcInfo\n{}\npublic partial class Service2_Header : IHeader\n{}\npublic partial class Service2_WSSvcInfo : IWSSvcInfo\n{}\npublic partial class Service3_Header : IHeader\n{}\npublic partial class Service3_WSSvcInfo : IWSSvcInfo\n{}\n...\n</code></pre>\n\n<p>The problem I am having is that it doesn't recognize that I've assigned the interface IWSSvcInfo to Service[X]_WSSvcInfo, so even though the imported Service[X]_Header implements ServiceInfo which returns WSSvcInfo, and I've defined that class as implementing the interface, it says that Service[X]_Header doesn't implement \"IWSSvcInfo ServiceInfo\".</p>\n\n<p>I've tried generics, and that gets rid of that error, but the problem is 1) the classes I'm working with are complex, nested several levels deep; and 2) even when I was able to get the generic class to work (with really ugly code), it wouldn't call the method because the object I created from the top level class couldn't be recognized as implementing the entire interface structure. </p>\n\n<p>Is there a way to either attach nested interfaces to these nested classes (either with or without generics, but preferably without)? Or is there another method for taking these multiple classes that all have the same structure, and allowing one single method that can populate any of those types?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 1, "creation_date": 1520628818, "post_id": 49162525, "comment_id": 85409215, "body": "Each interception pipeline uses its own context. I think it wouldn&#39;t be desirable to have any interaction between them because they serve different purposes. Also, <code>UserState</code> is not a property of the base <code>DbInterceptionContext</code> class, they are separate properties in both subtypes. <i>And</i> <code>UserState</code> is obsolete. Maybe you should explain what you&#39;re trying to achieve so we can help find an alternative."}, {"owner": {"reputation": 460, "user_id": 1695009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c85359a31cf1799c597227423dfb98d?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Arustamyan", "link": "https://stackoverflow.com/users/1695009/sam-arustamyan"}, "reply_to_user": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1520865359, "post_id": 49162525, "comment_id": 85478919, "body": "You&#39;re right, it&#39;s not in the base class and there is no connection between the two. It seemed weird at first, but on the second thought, the query plans can be cached and the DbCommandTreeInterceptors may not be fired on subsequent queries, so not sharing the UserState makes sense. It would be nice to have access to the DbExpressionTree from the DbCommandInterceptors, but it&#39;s not supported according to a comment of this blog post: <a href=\"https://blog.oneunicorn.com/2013/05/14/ef6-sql-logging-part-3-interception-building-blocks/\" rel=\"nofollow noreferrer\">blog.oneunicorn.com/2013/05/14/&hellip;</a>"}], "owner": {"reputation": 460, "user_id": 1695009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c85359a31cf1799c597227423dfb98d?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Arustamyan", "link": "https://stackoverflow.com/users/1695009/sam-arustamyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1520611353, "creation_date": 1520463012, "last_edit_date": 1520611353, "question_id": 49162525, "link": "https://stackoverflow.com/questions/49162525/how-to-share-state-between-idbcommandtreeinterceptors-and-idbcommandinterceptors", "title": "How to share state between IDbCommandTreeInterceptors and IDbCommandInterceptors?", "body": "<p>Both <code>DbCommandTreeInterceptionContext</code> and <code>DbCommandInterceptionContext</code> contain a <code>UserState</code> property, but it's not transferred from one to the other. I.E. in this case:</p>\n\n<pre><code>public class DummyDbCommandTreeInterceptor : IDbCommandTreeInterceptor \n{\n    public void TreeCreated(DbCommandTreeInterceptionContext interceptionContext)\n    {\n         interceptionContext.UserState = \"test\";\n    }\n}\n\npublic class DummyDbCommandInterceptor : DbCommandInterceptor\n{\n    public override void ReaderExecuting(DbCommand command, \n         DbCommandInterceptionContext&lt;DbDataReader&gt; interceptionContext)\n    {\n         if (interceptionContext.UserState != \"test\")\n         {\n              throw new Exception(\"wtf\");\n         }\n    }\n}\n</code></pre>\n\n<p>The exception will be thrown. Is there any way to share the state between the two?</p>\n"}, {"tags": ["c#", "asp.net", "iis-8"], "comments": [{"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1520463538, "post_id": 49162442, "comment_id": 85330962, "body": "Are you using HttpContext.Current and async/threading?"}, {"owner": {"reputation": 565, "user_id": 2328086, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/723d09754b9a8dc210c3054c5018a0e2?s=128&d=identicon&r=PG", "display_name": "Ksliman", "link": "https://stackoverflow.com/users/2328086/ksliman"}, "reply_to_user": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1520475352, "post_id": 49162442, "comment_id": 85334147, "body": "no async or threading just regular old mvc actions being called"}, {"owner": {"reputation": 565, "user_id": 2328086, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/723d09754b9a8dc210c3054c5018a0e2?s=128&d=identicon&r=PG", "display_name": "Ksliman", "link": "https://stackoverflow.com/users/2328086/ksliman"}, "reply_to_user": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1520478326, "post_id": 49162442, "comment_id": 85334865, "body": "Figured it out, on a whim I checked our appPool Settings. For some strange reason it was set to 18 worker processes when that was changed to 1 the app is working all of a sudden. Not sure how that made the app go bat sh*t crazy but I will take the fix ."}], "answers": [{"comments": [{"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1520500752, "post_id": 49164703, "comment_id": 85344007, "body": "Likely this is not a fix but it&#39;s hiding most occurrences of the bug. The bug is still there. Using one worker usually is the right choice though so that&#39;s an improvement. If you want reliability try to reproduce with 18 workers and find the bug."}, {"owner": {"reputation": 565, "user_id": 2328086, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/723d09754b9a8dc210c3054c5018a0e2?s=128&d=identicon&r=PG", "display_name": "Ksliman", "link": "https://stackoverflow.com/users/2328086/ksliman"}, "reply_to_user": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1520550926, "post_id": 49164703, "comment_id": 85374023, "body": "So would the bug be in the code ? I ask because we didn&#39;t have an crazy exceptions in the logs until that day where it was changed.  Or would the bug be in server settings somewhere?"}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1520604706, "post_id": 49164703, "comment_id": 85396012, "body": "Are you saying there is no bug? Clearly there is, why else would your code crash. Worker processes do not share variables. There was no code/data interaction caused by multiple workers. Likely, the many workers caused higher load and different OS thread scheduled exposing a non-deterministic bug."}, {"owner": {"reputation": 565, "user_id": 2328086, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/723d09754b9a8dc210c3054c5018a0e2?s=128&d=identicon&r=PG", "display_name": "Ksliman", "link": "https://stackoverflow.com/users/2328086/ksliman"}, "reply_to_user": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1520611782, "post_id": 49164703, "comment_id": 85400485, "body": "No I was asking? I mean NRE where being thrown every time the Request object was being accessed at any location in the code."}], "tags": [], "owner": {"reputation": 565, "user_id": 2328086, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/723d09754b9a8dc210c3054c5018a0e2?s=128&d=identicon&r=PG", "display_name": "Ksliman", "link": "https://stackoverflow.com/users/2328086/ksliman"}, "is_accepted": false, "score": 0, "last_activity_date": 1520478427, "creation_date": 1520478427, "answer_id": 49164703, "question_id": 49162442, "link": "https://stackoverflow.com/questions/49162442/request-object-properties-are-null-intermittently/49164703#49164703", "title": "Request Object Properties are null intermittently", "body": "<p>For some strange reason someone change the AppPool Max worker process to 18 when I changed it back to 1 it all of sudden works like a champ. I Have no idea why 1 worker process works and 18 caused all sorts of crazy to happen. </p>\n"}], "owner": {"reputation": 565, "user_id": 2328086, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/723d09754b9a8dc210c3054c5018a0e2?s=128&d=identicon&r=PG", "display_name": "Ksliman", "link": "https://stackoverflow.com/users/2328086/ksliman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520478427, "creation_date": 1520462582, "question_id": 49162442, "link": "https://stackoverflow.com/questions/49162442/request-object-properties-are-null-intermittently", "title": "Request Object Properties are null intermittently", "body": "<p>I am at my wits end here! I have an ASP.NET MVC application on a IIS 8 web server in which every thing was working like a champ for 3 months and as of 3 days ago all of a sudden I am getting random Null Reference exceptions when the the code tries to access anything on the Request object.</p>\n\n<p>I mean something as simple as Request.Headers causes an NULL references exception to be thrown. I have checked the request body in the browser and my ops team have sent me logs where the request body looks good. </p>\n\n<p>Has anyone came across something like this before? I mean just all of sudden the request has null properties intermittently. For example sometimes the application loads just find and the user will do something that requires an MVC Action to be invoked where a header is checked or some other request property is accessed and when that happens boom its throws and other times its just fine. </p>\n"}, {"tags": ["c#", "xamarin", "mvvmcross"], "comments": [{"owner": {"reputation": 13852, "user_id": 1489968, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/uHIIM.png?s=128&g=1", "display_name": "Sven-Michael St&#252;be", "link": "https://stackoverflow.com/users/1489968/sven-michael-st%c3%bcbe"}, "edited": false, "score": 0, "creation_date": 1520493628, "post_id": 49162412, "comment_id": 85340030, "body": "where does it not show up? Android? iOS? Have you had a look at the output? Can you post it?"}, {"owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "reply_to_user": {"reputation": 13852, "user_id": 1489968, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/uHIIM.png?s=128&g=1", "display_name": "Sven-Michael St&#252;be", "link": "https://stackoverflow.com/users/1489968/sven-michael-st%c3%bcbe"}, "edited": false, "score": 0, "creation_date": 1520516567, "post_id": 49162412, "comment_id": 85354038, "body": "I am working on Android environment. I cannot able yo see loading dialog"}, {"owner": {"reputation": 1158, "user_id": 7236414, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/KhLFV.png?s=128&g=1", "display_name": "Csharpest", "link": "https://stackoverflow.com/users/7236414/csharpest"}, "edited": false, "score": 0, "creation_date": 1520602584, "post_id": 49162412, "comment_id": 85394686, "body": "Try using UserDialogs.Instance.ShowLoading(&quot;Loading...&quot;) to show it and UserDialogs.Instance.HideLoading(); to hide it afterwards"}], "answers": [{"comments": [{"owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "edited": false, "score": 0, "creation_date": 1520610333, "post_id": 49194600, "comment_id": 85399546, "body": "Still does not show. I believe it does not like to run in the background thread. I do not know how to handle."}, {"owner": {"reputation": 3581, "user_id": 6248510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ec67e75f692f7cf769d408697b1385b?s=128&d=identicon&r=PG", "display_name": "fmaccaroni", "link": "https://stackoverflow.com/users/6248510/fmaccaroni"}, "reply_to_user": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "edited": false, "score": 0, "creation_date": 1520611571, "post_id": 49194600, "comment_id": 85400350, "body": "You can try wrapping it in <code>this.InvokeOnMainThread(() =&gt; {...});</code>. Does your console shows any output of what might be happening?"}, {"owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "edited": false, "score": 0, "creation_date": 1520611655, "post_id": 49194600, "comment_id": 85400401, "body": "could you please insert into your answer?"}, {"owner": {"reputation": 3581, "user_id": 6248510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ec67e75f692f7cf769d408697b1385b?s=128&d=identicon&r=PG", "display_name": "fmaccaroni", "link": "https://stackoverflow.com/users/6248510/fmaccaroni"}, "reply_to_user": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "edited": false, "score": 0, "creation_date": 1520611920, "post_id": 49194600, "comment_id": 85400562, "body": "I&#39;ve thought it twice and it shouldn&#39;t be wrapped because you won&#39;t be able to await your classService correctly. Furthermore the examples given in <a href=\"https://github.com/aritchie/userdialogs/blob/master/src/Samples/Samples/ViewModels/ProgressViewModel.cs\" rel=\"nofollow noreferrer\">github.com/aritchie/userdialogs/blob/master/src/Samples/Samp&zwnj;&#8203;les/&hellip;</a> are all async commands so I don&#39;t think that is the problem. Could you please see in your output if you have something that points out to the problem? Also wrap your GetClasses() call in a try catch so you can see if that is breaking and thus finishes the dialog before you can see it"}, {"owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "edited": false, "score": 0, "creation_date": 1520613658, "post_id": 49194600, "comment_id": 85401527, "body": "why did you add <code>await Task.Delay(TimeSpan.FromSeconds(3));</code>, in the given link, they use it for demo purpose."}, {"owner": {"reputation": 3581, "user_id": 6248510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ec67e75f692f7cf769d408697b1385b?s=128&d=identicon&r=PG", "display_name": "fmaccaroni", "link": "https://stackoverflow.com/users/6248510/fmaccaroni"}, "reply_to_user": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "edited": false, "score": 0, "creation_date": 1520615416, "post_id": 49194600, "comment_id": 85402546, "body": "I also added it as demo/test, as you can see it is inside <code>MyTestCommand</code>. The <code>RefreshList</code> stays as it was wrapped in a try catch to see if you get an exception"}, {"owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "edited": false, "score": 0, "creation_date": 1520619655, "post_id": 49194600, "comment_id": 85404763, "body": "Still did not work. I have added try &amp; catch as well."}, {"owner": {"reputation": 3581, "user_id": 6248510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ec67e75f692f7cf769d408697b1385b?s=128&d=identicon&r=PG", "display_name": "fmaccaroni", "link": "https://stackoverflow.com/users/6248510/fmaccaroni"}, "reply_to_user": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "edited": false, "score": 0, "creation_date": 1520624114, "post_id": 49194600, "comment_id": 85406960, "body": "but does it never enter in the catch? And have you checked your output to see if there is some logs in there?"}, {"owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "edited": false, "score": 0, "creation_date": 1520628819, "post_id": 49194600, "comment_id": 85409216, "body": "It never enters to catch"}], "tags": [], "owner": {"reputation": 3581, "user_id": 6248510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ec67e75f692f7cf769d408697b1385b?s=128&d=identicon&r=PG", "display_name": "fmaccaroni", "link": "https://stackoverflow.com/users/6248510/fmaccaroni"}, "is_accepted": false, "score": 1, "last_activity_date": 1520612013, "last_edit_date": 1520612013, "creation_date": 1520601163, "answer_id": 49194600, "question_id": 49162412, "link": "https://stackoverflow.com/questions/49162412/userdialogs-loading-does-not-show-up/49194600#49194600", "title": "UserDialogs Loading does not show up", "body": "<p>If you are using <a href=\"https://www.nuget.org/packages/Acr.MvvmCross.Plugins.UserDialogs/\" rel=\"nofollow noreferrer\">Acr.MvvmCross.Plugins.UserDialogs</a> see that it's depreated and you should use directly <a href=\"https://github.com/aritchie/userdialogs\" rel=\"nofollow noreferrer\">Acr.UserDialogs</a>.</p>\n\n<p>Check if you have correctly initialized it as follows:</p>\n\n<p>You have to register it in App.cs of your PCL project:</p>\n\n<p><code>Mvx.RegisterSingleton&lt;IUserDialogs&gt;(() =&gt; UserDialogs.Instance);</code></p>\n\n<p>And init from the android platform project in your main activity:</p>\n\n<p><code>UserDialogs.Init(() =&gt; Mvx.Resolve&lt;IMvxAndroidCurrentTopActivity&gt;().Activity)</code></p>\n\n<p>Another thing to take into account is that you should inject it in your constructor as an <code>IUserDialogs</code> (you can use the static Instance way but it adds more flexibility and it is more testable by injecting it):</p>\n\n<pre><code>private readonly IUserDialogs _dialogs;\npublic ProgressViewModel(IUserDialogs dialogs)\n{\n    this._dialogs = dialogs;\n}\n</code></pre>\n\n<p>and use it like </p>\n\n<pre><code>private async Task RefreshList()\n{\n   using (this._dialogs.Loading(\"Loading...\"))\n   {\n       try\n       {\n           var task = await this._classService.GetClasses();\n       }\n       catch(Exception exc)\n       {\n           // This is done only for debugging to check if here lies the problem\n           throw exc;\n       }\n   }\n}\n</code></pre>\n\n<p>You can check if it is properly working by calling something like</p>\n\n<pre><code>public ICommand MyTestCommand\n{\n    get\n    {\n       return new MvxAsyncCommand(async () =&gt;\n       {\n         // the following should should Loading for 3 seconds\n          using (this._dialogs.Loading(\"Loading...\"))\n          {\n             await Task.Delay(TimeSpan.FromSeconds(3));\n          }\n       });\n    }\n }\n</code></pre>\n\n<p>HIH</p>\n"}, {"tags": [], "owner": {"reputation": 1244, "user_id": 1371962, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4b22525e2a0c67b89c8bd4d7ff659c12?s=128&d=identicon&r=PG", "display_name": "valentasm", "link": "https://stackoverflow.com/users/1371962/valentasm"}, "is_accepted": false, "score": 0, "last_activity_date": 1579518484, "creation_date": 1579518484, "answer_id": 59822002, "question_id": 49162412, "link": "https://stackoverflow.com/questions/49162412/userdialogs-loading-does-not-show-up/59822002#59822002", "title": "UserDialogs Loading does not show up", "body": "<p>I dont like this approuch but it works</p>\n\n<pre><code>Device.BeginInvokeOnMainThread(async () =&gt;\n{\n\n    try\n    {\n        using (UserDialogs.Instance.Loading((\"Loading...\")))\n        {\n            await Task.Delay(300);\n            await _syncController.SyncData();           \n            //Your Service code\n        }\n    }\n    catch (Exception ex)\n    {\n        var val = ex.Message;\n        UserDialogs.Instance.Alert(\"Test\", val.ToString(), \"Ok\");\n    }\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12506495, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAGFaMtzNE6IJ5dTdi041OaXCCkLyP_W-pHc2ba=k-s128", "display_name": "Christian Campos", "link": "https://stackoverflow.com/users/12506495/christian-campos"}, "is_accepted": false, "score": 0, "last_activity_date": 1585080924, "creation_date": 1585080924, "answer_id": 60838627, "question_id": 49162412, "link": "https://stackoverflow.com/questions/49162412/userdialogs-loading-does-not-show-up/60838627#60838627", "title": "UserDialogs Loading does not show up", "body": "<p>You are using Loading method, you should use ShowLoading method, for example:</p>\n\n<pre><code>UserDialogs.Instance.ShowLoading(\"Retrieving data...\");\n</code></pre>\n"}], "owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2821, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1585080924, "creation_date": 1520462392, "last_edit_date": 1520484614, "question_id": 49162412, "link": "https://stackoverflow.com/questions/49162412/userdialogs-loading-does-not-show-up", "title": "UserDialogs Loading does not show up", "body": "<p>I am trying to see Loading progress as follows, but it does not show up.</p>\n\n<p><strong>View.cs</strong></p>\n\n<pre><code>ViewModel.SelectedCommand.Execute(null);\n</code></pre>\n\n<p><strong>ViewModel.cs</strong></p>\n\n<pre><code>public ICommand SelectedCommand\n{\n    get\n    {\n       return new MvxAsyncCommand(async () =&gt;\n       {\n         // the following does not show loading\n          using (UserDialogs.Instance.Loading(\"Loading...\"))\n          {\n             var task = await _classroomService.GetClassRoomAsync(SelectedClassroom.Id);\n             ObservableCollection&lt;ClassroomViewModel&gt; class = new ObservableCollection&lt;ClassroomViewModel&gt;(task.ConvertAll(x =&gt; new ClassViewModel(x)));\n          }\n       });\n      }\n }\n</code></pre>\n\n<p><strong>Another example</strong></p>\n\n<pre><code>public ICommand ReloadCommand\n{\n    get\n    {\n      return new MvxAsyncCommand(async () =&gt;\n      {\n          await RefreshList();\n       });\n     }\n}\n\n// the following also does not show loading\nprivate async Task RefreshList()\n{\n   using (UserDialogs.Instance.Loading(\"Loading...\"))\n   {\n       var task = await _classService.GetClasses();\n   }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "console", "windows-services", "system.timers.timer"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9165508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d17ae43acbc65da9288da1bbebbd70f6?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Alejandro", "link": "https://stackoverflow.com/users/9165508/daniel-alejandro"}, "edited": false, "score": 0, "creation_date": 1520542414, "post_id": 49169417, "comment_id": 85370164, "body": "You&#39;re right. If I install the service, it works fine. I was looking a way to test without install but it&#39;s fine for me. Thanks so much."}], "tags": [], "owner": {"reputation": 1349, "user_id": 8672540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12936715a70f4eab018cabe75f7f0e7e?s=128&d=identicon&r=PG&f=1", "display_name": "Marius", "link": "https://stackoverflow.com/users/8672540/marius"}, "is_accepted": true, "score": 2, "last_activity_date": 1520500654, "creation_date": 1520500654, "answer_id": 49169417, "question_id": 49162347, "link": "https://stackoverflow.com/questions/49162347/windows-service-with-timer-not-working-without-console/49169417#49169417", "title": "windows service (with timer) not working without console", "body": "<p>When you run / debug your code in Visual Studio then <code>Environment.UserInteractive</code> is <code>true</code> and the process stops right away. This behaviour is by design and you should not do something to make it wait (e.g. call <code>Console.ReadLine()</code>). </p>\n\n<p>You need to run your code as a Windows service (instead of a console application) and then it will be managed by the Services Control Manager. This means that you can configure it to start automatically at system startup and to keep running. You can also start and stop it via the Services Snap-In in the Windows Management Console (<code>services.msc</code>). But for this to work you first need to install your service.</p>\n\n<p>Follow these steps:</p>\n\n<ol>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/framework/windows-services/how-to-create-windows-services\" rel=\"nofollow noreferrer\">Create a new 'Windows Service' project</a>. You will notice that the output type is already set to 'Windows Application'. </li>\n<li>Paste your code into the new <code>Program.cs</code> file and remove the <code>Console.ReadLine()</code> statement</li>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/framework/windows-services/how-to-add-installers-to-your-service-application\" rel=\"nofollow noreferrer\">Add an installer</a></li>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/framework/windows-services/walkthrough-creating-a-windows-service-application-in-the-component-designer#installing-the-service\" rel=\"nofollow noreferrer\">Install the service</a></li>\n<li>Run <code>services.msc</code>. You should find a service called 'Service1'. Right-click on it to start it.</li>\n<li>Go to the event log and you will find an entry every 2 seconds</li>\n</ol>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/framework/windows-services/introduction-to-windows-service-applications\" rel=\"nofollow noreferrer\">Introduction to Windows Service Applications</a></li>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/framework/windows-services/introduction-to-windows-service-applications\" rel=\"nofollow noreferrer\">How to: Create Windows Services</a></li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 9165508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d17ae43acbc65da9288da1bbebbd70f6?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Alejandro", "link": "https://stackoverflow.com/users/9165508/daniel-alejandro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 578, "favorite_count": 0, "accepted_answer_id": 49169417, "answer_count": 1, "score": 0, "last_activity_date": 1520500654, "creation_date": 1520462100, "question_id": 49162347, "link": "https://stackoverflow.com/questions/49162347/windows-service-with-timer-not-working-without-console", "title": "windows service (with timer) not working without console", "body": "<p>I make a windows service with Timers.Timer.\nIf i run as console app works fine, but if I change setting as windows app and  I comment all Console functions, the timer not working. with Console.ReadLine(); all good. but I dont should open console.</p>\n\n<pre><code> protected override void OnStart(string[] args)\n    {\n        AutoLog = false;\n        SetTimer();\n        Console.ReadLine();//if remove this line dont works\n    }\n</code></pre>\n\n<p>SetTimer()</p>\n\n<pre><code>private void SetTimer()\n    {\n        mytimer = new Timer();\n        mytimer.Interval = 2000;\n        mytimer.Elapsed += new ElapsedEventHandler(OnTimedEvent);\n        mytimer.Enabled = true;\n    }\n</code></pre>\n\n<p>OnTimedEvent()</p>\n\n<pre><code> private void OnTimedEvent(object source, ElapsedEventArgs e)\n    {\n        mytimer.Enabled = false;\n        EventLog evento1 = new EventLog();\n        evento1.Source = \"scPublicar\";\n        evento1.Log = \"Publicar\";\n        evento1.WriteEntry(\"Publicaci\u00f3n corriendo,  OnTimedEvent\");\n        mytimer.Enabled = true;\n    }\n</code></pre>\n\n<p>Program.cs Main()</p>\n\n<pre><code> static void Main(string[] args)\n    {\n        ServiceBase[] servicesToRun;\n        servicesToRun = new ServiceBase[] { new Publicar() };\n        if (Environment.UserInteractive)\n        {\n            MethodInfo onStartMethod = typeof(ServiceBase).GetMethod(\"OnStart\", BindingFlags.Instance | BindingFlags.NonPublic);\n            foreach (ServiceBase service in servicesToRun)\n            {\n                onStartMethod.Invoke(service, new object[] { new string[] { } });\n            }\n        }\n        else\n            ServiceBase.Run(servicesToRun);\n    }\n</code></pre>\n\n<p>Thanks for yours answers </p>\n"}, {"tags": ["c#", "xamarin.forms"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9459285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/059a29bbb8d60ac519f41733ecffb354?s=128&d=identicon&r=PG&f=1", "display_name": "momo9", "link": "https://stackoverflow.com/users/9459285/momo9"}, "edited": false, "score": 0, "creation_date": 1520466503, "post_id": 49162677, "comment_id": 85331935, "body": "Thank you very much"}], "tags": [], "owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "is_accepted": true, "score": 2, "last_activity_date": 1520471076, "last_edit_date": 1520471076, "creation_date": 1520463740, "answer_id": 49162677, "question_id": 49162325, "link": "https://stackoverflow.com/questions/49162325/how-to-add-text-and-images-to-the-page-in-xamarin-forms/49162677#49162677", "title": "How to add text and images to the page in Xamarin.forms", "body": "<pre><code>page1.Content = new StackLayout \n{ \n    Children = { \n        new Label { Text = \"Hello, World\" }, \n        new Button { Text = \"I'm a button\" }\n    }\n};\n</code></pre>\n\n<p>However, a better approach is to create a new file for each page that inherits from <code>ContentPage</code>.  This is much easier to maintain.</p>\n"}], "owner": {"reputation": 13, "user_id": 9459285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/059a29bbb8d60ac519f41733ecffb354?s=128&d=identicon&r=PG&f=1", "display_name": "momo9", "link": "https://stackoverflow.com/users/9459285/momo9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "accepted_answer_id": 49162677, "answer_count": 1, "score": 1, "last_activity_date": 1520471076, "creation_date": 1520461998, "last_edit_date": 1520471057, "question_id": 49162325, "link": "https://stackoverflow.com/questions/49162325/how-to-add-text-and-images-to-the-page-in-xamarin-forms", "title": "How to add text and images to the page in Xamarin.forms", "body": "<p>I created a tabbed page app that has three different pages, each page has a title and an icon,  but I don't know how to add text to each page. </p>\n\n<pre><code>var page1 = new ContentPage()\n{\n    Title = \"\",\n    Icon = \"icone1\",\n\n};\nvar page2 = new ContentPage()\n{\n    Title = \"\",\n    Icon = \"icone2\",\n\n};\nvar page3 = new ContentPage()\n{\n    Title = \"\",\n    Icon = \"icone3\"\n};\n\n// The root page of your application\nvar content = new TabbedPage()\n{\n    Title = \"TabbedPage\",\n\n\n\n    Children = {\n            page1,\n            page2,\n            page3\n    }\n\n};\n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api", "asp.net-web-api2", "odata"], "owner": {"reputation": 3763, "user_id": 17966, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a865f92a27debb610a5ba6245cacc842?s=128&d=identicon&r=PG", "display_name": "CBono", "link": "https://stackoverflow.com/users/17966/cbono"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 223, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1520461738, "creation_date": 1520461738, "question_id": 49162270, "link": "https://stackoverflow.com/questions/49162270/web-api-odata-possible-to-use-different-models-for-get-and-post", "title": "Web API + OData - Possible to use different models for GET and POST?", "body": "<p>I'm using Web API with Microsoft's OData implementation to build a RESTful service. For a given resource (here, <code>Employee</code>) I would like to return one representation for GET requests (i.e. when retrieving the collection or a single record), but accept a <em>different</em> representation for POST and PUT/PATCH requests.</p>\n\n<p>After building out my API project in this manner and attempting to create a new <code>Employee</code> via a POST request, I get this exception returned back:</p>\n\n<pre><code>{\n    \"error\": {\n        \"code\": \"\",\n        \"message\": \"The request is invalid.\",\n        \"innererror\": {\n            \"message\": \"employee : The entity type 'Api.DataContracts.Manage.EmployeeCreate' \n             is not compatible with the base type 'Api.DataContracts.View.Employee' \n             of the provided entity set 'MyProject.MyContainer.Employees'. When an entity \n             type is specified for an OData resource set or resource reader, it has to be \n             the same or a subtype of the base type of the specified entity set.\\r\\n\",\n            \"type\": \"\",\n            \"stacktrace\": \"\"\n        }\n    }\n}\n</code></pre>\n\n<p>To further elaborate on my scenario, here's the model I use to return results for GET requests:</p>\n\n<pre><code>namespace Api.DataContracts.View\n{\n    public class EmployeeView\n    {\n        public Guid Id { get; set; }\n\n        public string FirstName { get; set; }\n\n        public string LastName { get; set; }\n\n        public string CompanyName { get; set; } // fetched from a related table\n    }\n}\n</code></pre>\n\n<p>So far, so good. But when I want to create a new <code>Employee</code> I don't want an <code>Id</code> field (the database creates this). Nor do I want to accept a <code>CompanyName</code> field, as what I need at create time is a Company ID so I can properly set the relationship in the database. So that model looks like:</p>\n\n<pre><code>namespace Api.DataContracts.Manage\n{\n    public class EmployeeCreate\n    {    \n        public string FirstName { get; set; }\n\n        public string LastName { get; set; }\n\n        public Guid CompanyId { get; set; } \n    }\n}\n</code></pre>\n\n<p>The relevant signatures on my <code>EmployeeController</code> OData controller are:</p>\n\n<pre><code>[HttpGet]\n[ODataRoute(\"({key})\")]\npublic IHttpActionResult GetEmployee([FromODataUri] Guid key)\n// returns an Ok() with a EmployeeView model as the payload\n\n[HttpPost]\n[ODataRoute]\npublic IHttpActionResult AddEmployee(DataContracts.Manage.EmployeeCreate employee)\n</code></pre>\n\n<p>Lastly, I have this EDM model configuration:</p>\n\n<pre><code>var builder = new ODataConventionModelBuilder();\n\nbuilder.EntitySet&lt;DataContracts.View.EmployeeView&gt;(\"Employees\");\n\n// Had to add this to avoid a Media Formatter error\nbuilder.AddEntityType(typeof(DataContracts.Manage.EmployeeCreate));\n</code></pre>\n\n<p>In my research, both here on SO and on the Web at large, I've seen people ask similar (but not exactly the same) questions. The answers tend to point that this scenario should be possible, but it appears the use of Microsoft's OData libraries may make this impossible.</p>\n\n<p>I have not been able to figure out a solution or workaround to this problem. I've considered making one of the models a sub-type of the other (since inheritance is supported in OData) but that feels like it will potentially raise a new set of issues.</p>\n\n<p>Has anyone successfully used a similar architecture with Web API + OData?</p>\n"}, {"tags": ["c#", "asp.net", "globalization"], "answers": [{"comments": [{"owner": {"reputation": 516, "user_id": 1664043, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/53e05e732d6780bfad37f532f8571443?s=128&d=identicon&r=PG", "display_name": "user1664043", "link": "https://stackoverflow.com/users/1664043/user1664043"}, "edited": false, "score": 0, "creation_date": 1521215596, "post_id": 49162249, "comment_id": 85651007, "body": "Nope, the code is run the same in both conditions.  It was not optimized away as dead code.  The only thing that changes is the http header the browser users to say what locale the user prefers."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 516, "user_id": 1664043, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/53e05e732d6780bfad37f532f8571443?s=128&d=identicon&r=PG", "display_name": "user1664043", "link": "https://stackoverflow.com/users/1664043/user1664043"}, "edited": false, "score": 0, "creation_date": 1521235488, "post_id": 49162249, "comment_id": 85661462, "body": "@user1664043: Okay, I have to guess widly. Maybe partner laganguages mater? Way back when Langauge Packs were not freely downloadable, you bought a specific langauge/region but got some Partner Langauges alongside. i.e., both Germany and Canada Language Packs included French. So with some langaug packs you might get &quot;Haitian Creole&quot;. With others not. And it was mostly based on cultural proximity. Usually this seperate was removed with Windows 7+. But if your OS is old enough, it might still be in effect?"}, {"owner": {"reputation": 516, "user_id": 1664043, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/53e05e732d6780bfad37f532f8571443?s=128&d=identicon&r=PG", "display_name": "user1664043", "link": "https://stackoverflow.com/users/1664043/user1664043"}, "edited": false, "score": 0, "creation_date": 1521467898, "post_id": 49162249, "comment_id": 85729892, "body": "If there&#39;s some sort of &quot;buy two, get one free&quot; thing going on, wouldn&#39;t it still show up in the powershell [system.Globalization.CultureInfo]::GetCultures(&#39;AllCultures&zwnj;&#8203;&#39;) command?  I mean, if it&#39;s available on the system, however it got there, wouldn&#39;t it be on the list?"}], "tags": [], "owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "is_accepted": false, "score": 0, "last_activity_date": 1520465831, "last_edit_date": 1520465831, "creation_date": 1520461666, "answer_id": 49162249, "question_id": 49162152, "link": "https://stackoverflow.com/questions/49162152/system-global-culturenotfoundexception-on-some-systems-but-not-others/49162249#49162249", "title": "System.Global.CultureNotFoundException on some systems but not others", "body": "<p>There is a whole number of optimizations, the likely culprit here is the <a href=\"https://en.wikipedia.org/wiki/Just-in-time_compilation\" rel=\"nofollow noreferrer\">Just-in-time compiler</a>. If it detects anything it can classify as \"dead code\", it will not hesitate to cut it out.</p>\n\n<p>When I tried to write code that forced a OOM Exception on a x32 System with the 2 GiB Limit, I ran into just that issue: If the problematic part was detected as \"dead code\", I literally could not force a OOM. A simple output order solved the issue:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace OOM_32_forced\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            //each short is 2 byte big, Int32.MaxValue is 2^31.\n            //So this will require a bit above 2^32 byte, or 2 GiB\n            short[] Array = new short[Int32.MaxValue];\n\n            /*need to actually access that array\n            Otherwise JIT compiler and optimisations will just skip\n            the array definition and creation */\n            foreach (short value in Array)\n                Console.WriteLine(value);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 516, "user_id": 1664043, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/53e05e732d6780bfad37f532f8571443?s=128&d=identicon&r=PG", "display_name": "user1664043", "link": "https://stackoverflow.com/users/1664043/user1664043"}, "is_accepted": true, "score": 0, "last_activity_date": 1521470638, "creation_date": 1521470638, "answer_id": 49365659, "question_id": 49162152, "link": "https://stackoverflow.com/questions/49162152/system-global-culturenotfoundexception-on-some-systems-but-not-others/49365659#49365659", "title": "System.Global.CultureNotFoundException on some systems but not others", "body": "<p>It would appear that the System.Global.CultureNotFoundException exception occurs when your app <strong>has resx files for the locale code</strong> but the system at wide doesn't recognize it.</p>\n\n<p>Taking advantage of the IE 11 feature to enter any odd custom code you want, I added <strong>xx-xx</strong> and put it at the top of my list.  Of course, I don't have any resx files for xx-xx.</p>\n\n<p>Requests to the site with an Accept-Language header leading with xx-xx do not throw a System.Global.CultureNotFoundException exception; it just quietly moves on to the next one down in the list.</p>\n\n<p>The difference between my dev site and the other release builds was that my dev site had .ht.resx files in the build while the other qa sites did not</p>\n"}], "owner": {"reputation": 516, "user_id": 1664043, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/53e05e732d6780bfad37f532f8571443?s=128&d=identicon&r=PG", "display_name": "user1664043", "link": "https://stackoverflow.com/users/1664043/user1664043"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 49365659, "answer_count": 2, "score": 0, "last_activity_date": 1521470638, "creation_date": 1520461222, "question_id": 49162152, "link": "https://stackoverflow.com/questions/49162152/system-global-culturenotfoundexception-on-some-systems-but-not-others", "title": "System.Global.CultureNotFoundException on some systems but not others", "body": "<p>We had a request to add Haitian Creole resx files to our app from a customer.  We got the translations and I went to plug them in, but I immediately found there's scant browser support for <strong>ht</strong> as a language/locale code.  Chrome wouldn't let you enter it anywhere.  IE 11 let you enter it as a custom code.  Only Edge and Firefox offered it up.</p>\n\n<p>But the perplexing part to me is that when I go to a debug system with those resx files plugged in, and I hit the site with a browser, I get a System.Global.CultureNotFoundException on the following line:</p>\n\n<pre><code>CultureInfo ci = CultureInfo.CreateSpecificCulture(cultureName);\n</code></pre>\n\n<p>But if I go to a different system with our release build that <em>doesn't</em> have the resx files, there's no error.  Obviously I don't get any Haitian Creole translations either, but that same like of code does not blow up when presented with ht.</p>\n\n<p>I've executed the same powershell command to list the supported languages on both systems, and Haitian Creole is not on the list of either system.</p>\n\n<pre><code>[system.Globalization.CultureInfo]::GetCultures('AllCultures')\n</code></pre>\n\n<p>Is it some release mode build thing to quietly fall back to the system language when a browser presents an unrecognized code?  Near as I can tell the only differences between my test systems is release mode/no ht resx and debug mode/with ht resx.</p>\n\n<p>I don't get why I'm not getting the same exception in both places...</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "dll"], "comments": [{"owner": {"reputation": 2633, "user_id": 5359302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4edae8a9b44323b8b6908d4b0d410730?s=128&d=identicon&r=PG&f=1", "display_name": "George Alexandria", "link": "https://stackoverflow.com/users/5359302/george-alexandria"}, "edited": false, "score": 0, "creation_date": 1520461534, "post_id": 49162081, "comment_id": 85330163, "body": "Did you try just to search on <a href=\"https://stackoverflow.com/search?q=%5Bc%23%5D+System.DLLNotFoundException+\">SO</a> the same issues?"}, {"owner": {"reputation": 41, "user_id": 9365607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a2524fada16ab9863ddbd5ff0f70b6?s=128&d=identicon&r=PG&f=1", "display_name": "BBoone", "link": "https://stackoverflow.com/users/9365607/bboone"}, "reply_to_user": {"reputation": 2633, "user_id": 5359302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4edae8a9b44323b8b6908d4b0d410730?s=128&d=identicon&r=PG&f=1", "display_name": "George Alexandria", "link": "https://stackoverflow.com/users/5359302/george-alexandria"}, "edited": false, "score": 0, "creation_date": 1520462746, "post_id": 49162081, "comment_id": 85330663, "body": "yes I did but I did not see anything that would help"}], "owner": {"reputation": 41, "user_id": 9365607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a2524fada16ab9863ddbd5ff0f70b6?s=128&d=identicon&r=PG&f=1", "display_name": "BBoone", "link": "https://stackoverflow.com/users/9365607/bboone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520470500, "creation_date": 1520460903, "last_edit_date": 1520470500, "question_id": 49162081, "link": "https://stackoverflow.com/questions/49162081/system-dllnotfoundexception-unable-to-load-dll-tidas-dll-exception-from-hres", "title": "System.DllNotFoundException: Unable to load DLL &#39;TIDAS.DLL&#39; (Exception from HRESULT: 0x8007007E)", "body": "<p>I get the error:</p>\n\n<blockquote>\n  <p>System.DllNotFoundException: 'Unable to load DLL 'TIDAS.DLL':<br>\n  The specified module could not be found. (Exception from HRESULT: 0x8007007E)'</p>\n</blockquote>\n\n<p>I keep getting that runtime error.<br>\nBut I have all the files that goes with that <code>.DLL</code>. </p>\n\n<p>I have a solution that someone else made and it works fine.<br>\nBut my solution... I keep getting this error and I do not know why...  </p>\n\n<p>I am writing this program in C#.<br>\nI have all the same <code>.DLL</code>s like in the other solution...</p>\n\n<p>Any idea ? </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1520462043, "post_id": 49161986, "comment_id": 85330367, "body": "When you use File.ReadAllLines then you solved one problem only to produce a new one.  Reading one line at a time with StreamReader.ReadLine() and adding the ones you like to a <code>List&lt;string&gt;</code> tends to get you write the correct code.  Do the basic first, take the shortcuts later when you learned when they appropriate."}, {"owner": {"reputation": 29, "user_id": 9459104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i4DZH.jpg?s=128&g=1", "display_name": "Animal91", "link": "https://stackoverflow.com/users/9459104/animal91"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1520466932, "post_id": 49161986, "comment_id": 85332041, "body": "Thank you! My instructor isn\u2019t the best so I\u2019ve been googling everything and ReadAllLines was the first one I came across that automatically loaded an array."}], "answers": [{"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": true, "score": 3, "last_activity_date": 1520460598, "creation_date": 1520460598, "answer_id": 49162021, "question_id": 49161986, "link": "https://stackoverflow.com/questions/49161986/how-do-i-read-in-text-from-file-but-ignore-certain-lines-in-c/49162021#49162021", "title": "How do I read in text from file, but ignore certain lines in C#?", "body": "<p>Use <a href=\"https://msdn.microsoft.com/en-us/library/dd383503(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>File.ReadLines</code></a> followed by <code>Where</code>:</p>\n\n<pre><code>var allLines = File.ReadLines(file).Where(s =&gt; !s.StartsWith(\"#\")).ToArray();\n</code></pre>\n\n<p>This yields an array of all lines not starting in <code>\"#\"</code>.</p>\n\n<p><strong>Note:</strong> You should not catch <code>ArgumentNullException</code>, because it indicates a programming error. Instead you should check the values that you are about to pass to methods that could throw <code>ArgumentNullException</code> to avoid making a call that will throw the exception.</p>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 9459104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i4DZH.jpg?s=128&g=1", "display_name": "Animal91", "link": "https://stackoverflow.com/users/9459104/animal91"}, "edited": false, "score": 0, "creation_date": 1520467593, "post_id": 49162047, "comment_id": 85332236, "body": "Excellent, this will come in handy in the future for more dynamic programs. Thank you !"}], "tags": [], "owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "is_accepted": false, "score": 0, "last_activity_date": 1520463874, "last_edit_date": 1520463874, "creation_date": 1520460684, "answer_id": 49162047, "question_id": 49161986, "link": "https://stackoverflow.com/questions/49161986/how-do-i-read-in-text-from-file-but-ignore-certain-lines-in-c/49162047#49162047", "title": "How do I read in text from file, but ignore certain lines in C#?", "body": "<p>To filter an array : <strong>use Linq</strong></p>\n\n<p>As ReadAllLines returns an array of <code>string</code>, you can simply filter this array using Linq method <code>Where</code> and test for the beginning of the string with <code>StartsWith()</code> :</p>\n\n<pre><code>// ...\ntest = file.ReadAllLines(file);\n// return lines that don't start with '#'\nvar filteredLines = test.Where(line =&gt; !line.StartsWith(\"#\"));\n</code></pre>\n\n<p>You can also add several conditions in the predicate (the <code>line =&gt; boolean expression</code>), using any logical operators and functions you need.</p>\n\n<p>For instance, to also ignore lines starting with <code>//</code> :</p>\n\n<pre><code>// return lines that don't start with '#' and also that don't start with '//'\nvar filteredLines = file.ReadAllLines(file)\n    .Where(line =&gt; !line.StartsWith(\"#\") &amp;&amp; !line.StartsWith(\"//\"));\n</code></pre>\n\n<p><strong>Additional info :</strong> </p>\n\n<p>The type of <code>filteredLines</code> in these examples is <code>IEnumerable&lt;string&gt;</code>, meaning that you can use this result in a <code>foreach(string s in filteredLines)</code> , for instance.</p>\n\n<p>Depending on what you do with it afterwards, if you prefer to have an array <code>string[]</code>, just add <code>.ToArray()</code>.</p>\n\n<p>If you prefer to have a <code>List&lt;string&gt;</code>, just add <code>.ToList()</code>.</p>\n\n<p><strong>Note :</strong> you'll have to add <code>using System.Linq;</code> to the top of the .cs file, to be able to use the <code>Where</code>, <code>ToList</code>, and <code>ToArray</code> methods.</p>\n"}, {"comments": [{"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 0, "creation_date": 1520461882, "post_id": 49162133, "comment_id": 85330298, "body": "this will only remove the exact string from the the list. The character &#39;#&#39; is used for commenting (as in many text scripts), and so OP asked for the lines <i>beginning with</i> this special character"}], "tags": [], "owner": {"reputation": 1, "user_id": 5885789, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pssrKTeYFkY/AAAAAAAAAAI/AAAAAAAAMeQ/ZUO6stblyBg/photo.jpg?sz=128", "display_name": "Anonymos", "link": "https://stackoverflow.com/users/5885789/anonymos"}, "is_accepted": false, "score": -1, "last_activity_date": 1520461820, "last_edit_date": 1520461820, "creation_date": 1520461139, "answer_id": 49162133, "question_id": 49161986, "link": "https://stackoverflow.com/questions/49161986/how-do-i-read-in-text-from-file-but-ignore-certain-lines-in-c/49162133#49162133", "title": "How do I read in text from file, but ignore certain lines in C#?", "body": "<p>My solution was </p>\n\n<pre><code>test = file.ReadAllLines(file).Where(line =&gt; !string.Equals(line, \"your string\"));\n</code></pre>\n\n<p>this way you don't have to care about null , also if your comparison ignore upper/lowercase, you can do</p>\n\n<pre><code>test = file.ReadAllLines(file).Where(line =&gt; !string.Equals(line, \"your string\", StringComparison.InvariantCultureIgnoreCase)); \n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 9459104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i4DZH.jpg?s=128&g=1", "display_name": "Animal91", "link": "https://stackoverflow.com/users/9459104/animal91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 1, "accepted_answer_id": 49162021, "answer_count": 3, "score": 1, "last_activity_date": 1520463874, "creation_date": 1520460462, "last_edit_date": 1520460686, "question_id": 49161986, "link": "https://stackoverflow.com/questions/49161986/how-do-i-read-in-text-from-file-but-ignore-certain-lines-in-c", "title": "How do I read in text from file, but ignore certain lines in C#?", "body": "<p>I am just learning C# and I need to read text from a file into an array, but ignore lines beginning with certain special characters. I am using ReadAllLines to read in the text. </p>\n\n<p>What I am doing :</p>\n\n<pre><code>string file = openFileDialog1.FileName;\nfile_txtbx.Text = file;\ntry {\n    test = File.ReadAllLines(file); // reads file into array\n} catch (ArgumentNullException) {\n}\n</code></pre>\n\n<p>Example of my text file used to read in text :</p>\n\n<pre><code>A\nD\n# Next is incorrect\nC\n</code></pre>\n"}, {"tags": ["c#", "vb.net", "asp.net-core-2.0"], "comments": [{"owner": {"reputation": 850, "user_id": 7310452, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9036657207cb9a3f79bf42e2c2cd0863?s=128&d=identicon&r=PG&f=1", "display_name": "Umar Karimabadi", "link": "https://stackoverflow.com/users/7310452/umar-karimabadi"}, "edited": false, "score": 0, "creation_date": 1520461842, "post_id": 49161610, "comment_id": 85330279, "body": "It&#39;s totally possible to have .NET standard visual basic library. However, Microsoft.VisualBasic.Information is not supported in .net standard. What I think has happened, is your .net standard library is referencing a .net framework package and that is why it all seems to compile. If you visit this site, <a href=\"https://icanhasdot.net/\" rel=\"nofollow noreferrer\">icanhasdot.net</a> ,  you will see what dependencies in your vs library project are supported in .net core"}, {"owner": {"reputation": 50853, "user_id": 181087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85700c2c160866ef6924fc491a3ce574?s=128&d=identicon&r=PG", "display_name": "NightOwl888", "link": "https://stackoverflow.com/users/181087/nightowl888"}, "edited": false, "score": 0, "creation_date": 1520464455, "post_id": 49161610, "comment_id": 85331308, "body": "There is no such thing as .NET Standard 4.6.1. Is it .NET Framework 4.6.1, or is it .NET Standard 2.x or lower?"}], "owner": {"reputation": 59, "user_id": 833011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a96e8a5967b86248ac5e484e6c15cbd9?s=128&d=identicon&r=PG", "display_name": "user833011", "link": "https://stackoverflow.com/users/833011/user833011"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 410, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1520458571, "creation_date": 1520458571, "question_id": 49161610, "link": "https://stackoverflow.com/questions/49161610/system-typeloadexception-when-accessing-net-standard-4-6-1-visual-basic-class", "title": "System.TypeLoadException (when accessing .Net standard 4.6.1 Visual basic class library from ASP.Net core 2.0 Web API)", "body": "<p>I have a .Net standard 4.6.1 Visual basic class library and a ASP.Net core 2.0 Web API project created using C#. I'm trying to pass an object array from the web API to a function in Visual basic class library and get response object. \nI'm getting and error, System.TypeLoadException: Could not load type 'Microsoft.VisualBasic.Information' from assembly 'Microsoft.VisualBasic, Version=10.0.3.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a'.</p>\n\n<p>Is ASP.Net Core 2.0 not compatible in consuming a .Net Standard Visual basic Class library ? Can anyone please help me out on this ?</p>\n"}, {"tags": ["c#", "azure", "azure-functions", "asp.net-core-2.0", "azure-webjobs"], "comments": [{"owner": {"reputation": 882, "user_id": 8797362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXYOG.jpg?s=128&g=1", "display_name": "Mohit_Garg", "link": "https://stackoverflow.com/users/8797362/mohit-garg"}, "edited": false, "score": 0, "creation_date": 1520489880, "post_id": 49161601, "comment_id": 85338406, "body": "check this, it might help - <a href=\"https://social.msdn.microsoft.com/Forums/en-US/673b8cd7-8945-49e0-89e4-ee5bc06d21c3/function-host-is-not-running?forum=AzureFunctions\" rel=\"nofollow noreferrer\">social.msdn.microsoft.com/Forums/en-US/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 12931, "user_id": 2069, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/67BMA.jpg?s=128&g=1", "display_name": "Chris Gillum", "link": "https://stackoverflow.com/users/2069/chris-gillum"}, "is_accepted": true, "score": 14, "last_activity_date": 1520529980, "creation_date": 1520529980, "answer_id": 49179045, "question_id": 49161601, "link": "https://stackoverflow.com/questions/49161601/function-host-is-not-running/49179045#49179045", "title": "Function host is not running", "body": "<p>This usually means that there is some bad configuration in your function app which is causing the host to fail to start up. Things like having an invalid <code>host.json</code> or an invalid <code>proxies.json</code> file are a possible cause.</p>\n\n<p>To diagnose, it's best to look at the function host logs. If you open your function app in the Azure portal and turn on log streaming, you should be able to get more information about what's going on.</p>\n\n<p>If you're not able to find anything, please let us know the name of your function app either publicly or <a href=\"https://github.com/Azure/azure-webjobs-sdk-script/wiki/Sharing-Your-Function-App-name-privately\" rel=\"noreferrer\">privately</a> and we can help take a look at the logs for you.</p>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 9274341, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2GwLHvIi8Tc/AAAAAAAAAAI/AAAAAAAAABU/A6h0zy1rwZk/photo.jpg?sz=128", "display_name": "spartans bmk", "link": "https://stackoverflow.com/users/9274341/spartans-bmk"}, "is_accepted": false, "score": 2, "last_activity_date": 1520632200, "creation_date": 1520632200, "answer_id": 49202692, "question_id": 49161601, "link": "https://stackoverflow.com/questions/49161601/function-host-is-not-running/49202692#49202692", "title": "Function host is not running", "body": "<p>Thanks for responding. I see that time trigger function in it is getting an error thats causing host to stop.I resolved the error now Function host is working fine.</p>\n"}, {"tags": [], "owner": {"reputation": 590, "user_id": 2357447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97e89f2179aadcbfe5659ff5a274992f?s=128&d=identicon&r=PG&f=1", "display_name": "Erich Brunner", "link": "https://stackoverflow.com/users/2357447/erich-brunner"}, "is_accepted": false, "score": 1, "last_activity_date": 1537250584, "creation_date": 1537250584, "answer_id": 52379862, "question_id": 49161601, "link": "https://stackoverflow.com/questions/49161601/function-host-is-not-running/52379862#52379862", "title": "Function host is not running", "body": "<p>In Azure Function v2 you are required to set the runtime version in <a href=\"https://github.com/Azure/azure-functions-host/wiki/host.json-(v2)\" rel=\"nofollow noreferrer\">host.json</a></p>\n"}, {"comments": [{"owner": {"reputation": 2502, "user_id": 3311001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011dc5bf6a350b0334887a89ce06038f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Faltesek", "link": "https://stackoverflow.com/users/3311001/tom-faltesek"}, "edited": false, "score": 3, "creation_date": 1562086913, "post_id": 56508127, "comment_id": 100264340, "body": "Same for me. I had an error in my <code>Startup.cs</code> that didn&#39;t surface during local testing. It would have saved me some time if Azure provided some visibility. The errors were logged in Application Insights, but the only detail was &quot;503&quot;."}, {"owner": {"reputation": 9447, "user_id": 934407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e4853446771f472109e6944025c6791?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/934407/matt"}, "reply_to_user": {"reputation": 2502, "user_id": 3311001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011dc5bf6a350b0334887a89ce06038f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Faltesek", "link": "https://stackoverflow.com/users/3311001/tom-faltesek"}, "edited": false, "score": 3, "creation_date": 1562087372, "post_id": 56508127, "comment_id": 100264481, "body": "@t8tortotlover - yes I don\u2019t quite remember the details but it wasn\u2019t straightforward finding out that this was the issue for me either."}, {"owner": {"reputation": 397, "user_id": 1815825, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9d0749199e7978918d60a50bacd170ae?s=128&d=identicon&r=PG", "display_name": "alital", "link": "https://stackoverflow.com/users/1815825/alital"}, "edited": false, "score": 0, "creation_date": 1594212432, "post_id": 56508127, "comment_id": 111046759, "body": "I had the same issue but <a href=\"https://github.com/dotnet/extensions/issues/2931#issuecomment-653285478\" rel=\"nofollow noreferrer\">this comment</a> helped fixing it. Just changed the <code>AzureFunctionsVersion</code> in csproj file from <code>v2</code> to <code>v3</code>."}], "tags": [], "owner": {"reputation": 9447, "user_id": 934407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e4853446771f472109e6944025c6791?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/934407/matt"}, "is_accepted": false, "score": 9, "last_activity_date": 1560010923, "creation_date": 1560010923, "answer_id": 56508127, "question_id": 49161601, "link": "https://stackoverflow.com/questions/49161601/function-host-is-not-running/56508127#56508127", "title": "Function host is not running", "body": "<p>I was getting this after adding <a href=\"https://docs.microsoft.com/en-us/azure/azure-functions/functions-dotnet-dependency-injection\" rel=\"noreferrer\">dependency injection support</a> - I had an error in the startup class which stopped the host from starting.</p>\n"}, {"tags": [], "owner": {"reputation": 59056, "user_id": 6067741, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/x6Xoj.png?s=128&g=1", "display_name": "4c74356b41", "link": "https://stackoverflow.com/users/6067741/4c74356b41"}, "is_accepted": false, "score": 0, "last_activity_date": 1581069825, "creation_date": 1581069825, "answer_id": 60111166, "question_id": 49161601, "link": "https://stackoverflow.com/questions/49161601/function-host-is-not-running/60111166#60111166", "title": "Function host is not running", "body": "<p>So in my case I've had <a href=\"https://github.com/Azure/app-service-announcements/issues/137\" rel=\"nofollow noreferrer\">this</a> issue. So basically KUDU failed to delete <code>app_offline.htm</code> after the function was created\\updated.</p>\n"}], "owner": {"reputation": 191, "user_id": 9274341, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2GwLHvIi8Tc/AAAAAAAAAAI/AAAAAAAAABU/A6h0zy1rwZk/photo.jpg?sz=128", "display_name": "spartans bmk", "link": "https://stackoverflow.com/users/9274341/spartans-bmk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21945, "favorite_count": 1, "accepted_answer_id": 49179045, "answer_count": 5, "score": 15, "last_activity_date": 1611564142, "creation_date": 1520458535, "last_edit_date": 1520464202, "question_id": 49161601, "link": "https://stackoverflow.com/questions/49161601/function-host-is-not-running", "title": "Function host is not running", "body": "<p>I have a Function App in azure and when I hit the URL of the function app it says \"Function host is not running.\"\nI am not sure where I have to check and what needs to be changed.\nI tried restart but still no luck.</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 421, "user_id": 6197872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d16c15c701dd508494e87a494db80530?s=128&d=identicon&r=PG&f=1", "display_name": "Renardo", "link": "https://stackoverflow.com/users/6197872/renardo"}, "edited": false, "score": 0, "creation_date": 1520458851, "post_id": 49161579, "comment_id": 85329001, "body": "Since you are using a procedural / object oriented language the order of your statements determines the order of execution. So &quot;a&quot; is replaced first, and if the &quot;a&quot; was part of an &quot;aa&quot; it no longer is after that, because it&#39;s &quot;aba&quot; now."}, {"owner": {"reputation": 9448, "user_id": 491907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eAa3p.png?s=128&g=1", "display_name": "pinkfloydx33", "link": "https://stackoverflow.com/users/491907/pinkfloydx33"}, "edited": false, "score": 0, "creation_date": 1520463606, "post_id": 49161579, "comment_id": 85330990, "body": "Since &#39;bba&#39; contains &#39;a&#39; should it be ultimately converted to &#39;bbab&#39;? If <i>not</i>, you&#39;ll have to replace with temporary tokens and then replace those at the very end. If <code>StringBuilder</code> is not a requirement and you aren&#39;t concerned with performance, you may try switching to <code>Regex.Replace(string, string, MatchEvaluator)</code> using an alternation with longest substrings first or a greedy quantifier"}], "answers": [{"tags": [], "owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "is_accepted": false, "score": 1, "last_activity_date": 1520460408, "last_edit_date": 1520460408, "creation_date": 1520458844, "answer_id": 49161668, "question_id": 49161579, "link": "https://stackoverflow.com/questions/49161579/search-for-an-exact-phrase-and-change/49161668#49161668", "title": "Search for an exact phrase and change", "body": "<p>The easiest way is to replace the long tokens first.</p>\n\n<p>It looks like your replacement strings also contain \"a\". So you might need to replace them with a temporary string (one that is unlikely to occur in the original text), and then convert to the target string after you've processed them all.</p>\n\n<p>The only way to intelligently only replace \"a\" without replacing \"aa\" is to parse each character in the text to determine how long each token is. It's not that hard, but a lot more work than calling <code>Replace()</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "edited": false, "score": 0, "creation_date": 1520461886, "post_id": 49161672, "comment_id": 85330301, "body": "Using this code, &quot;aaa&quot; will be converted to &quot;bba&quot;, and then be converted to &quot;bbab&quot;. Are you sure that&#39;s what the OP wanted?"}], "tags": [], "owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "is_accepted": false, "score": 1, "last_activity_date": 1520458854, "creation_date": 1520458854, "answer_id": 49161672, "question_id": 49161579, "link": "https://stackoverflow.com/questions/49161579/search-for-an-exact-phrase-and-change/49161672#49161672", "title": "Search for an exact phrase and change", "body": "<p>Just do the replaces from the longest substring to the shortest one:</p>\n\n<pre><code>builders.Replace(\"aaa\", \"bba\");\nbuilders.Replace(\"aa\", \"bab\");\nbuilders.Replace(\"a\", \"ab\");\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 9218798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d36423797097405bb99465412c40983?s=128&d=identicon&r=PG&f=1", "display_name": "PYJTER", "link": "https://stackoverflow.com/users/9218798/pyjter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1520460408, "creation_date": 1520458428, "last_edit_date": 1520458528, "question_id": 49161579, "link": "https://stackoverflow.com/questions/49161579/search-for-an-exact-phrase-and-change", "title": "Search for an exact phrase and change", "body": "<p>I have a problem with changing values \u200b\u200binto a string.\nI have three values, e.g. a, aa, aaa</p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>StringBuilder builders = new StringBuilder(string);\nbuilders.Replace(\"a\", \"ab\");\nbuilders.Replace(\"aa\", \"bab\");\nbuilders.Replace(\"aaa\", \"bba\");\nstring new_string = builders.ToString();\n</code></pre>\n\n<p>How to do it to find exactly the value of 'aaa' because for this value both the condition of 'a' and 'aa' is also fulfilled.</p>\n"}, {"tags": ["c#", "asp.net", "iis", "asp.net-membership", "membership-provider"], "owner": {"reputation": 2351, "user_id": 2248454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c5e44138767fd0d78ebb619fb5a9a4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Jaroslav Kadlec", "link": "https://stackoverflow.com/users/2248454/jaroslav-kadlec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 3, "answer_count": 0, "score": 1, "last_activity_date": 1520610678, "creation_date": 1520458401, "last_edit_date": 1520610678, "question_id": 49161575, "link": "https://stackoverflow.com/questions/49161575/profilecommon-save-restarts-iis", "title": "ProfileCommon.Save() restarts IIS", "body": "<p>In my ManageAccounts.aspx page I use </p>\n\n<pre><code>&lt;asp:CreateUserWizard runat=\"server\" LoginCreatedUser=\"False\" ID=\"createWizard\" OnCreatedUser=\"CreatedUser\"&gt;\n</code></pre>\n\n<p>in it's code behind ManageAccounts.aspx.cs I have my callback</p>\n\n<pre><code>    protected void CreatedUser(object sender, EventArgs e)\n    {\n        // set up initial views for account\n        ProfileCommon thisProfile = Profile.GetProfile(createWizard.UserName);\n        thisProfile.SetPropertyValue(\"SomeProperty\", \"somevalue\");\n\n        try{\n            thisProfile.Save();\n        }\n        catch(Exception e){\n        // this is never hit\n        }\n    }\n</code></pre>\n\n<p>When <code>CreatedUser</code> is called after account is created everything works well until thisProfile.Save() is hit. Then application stops immediately. When debugging in Visual Studio after this line is executed application is stopped after error with just external call stack. OnError handler in Global.asax is not hit either so only exception message I'm getting is from Windows Event Log.</p>\n\n<pre><code>Log Name:      Application\nSource:        ASP.NET 4.0.30319.0\nDate:          3/7/2018 2:07:21 PM\nEvent ID:      1325\nTask Category: None\nLevel:         Error\nKeywords:      Classic\nUser:          N/A\nComputer:      C-Licensing-01\nDescription:\nAn unhandled exception occurred and the process was terminated.\n\nApplication ID: /LM/W3SVC/2/ROOT\n\nProcess ID: 4468\n\nException: System.Runtime.FatalException\n\nMessage: An asynchronous operation cannot be started at this time. Asynchronous operations may only be started within an asynchronous handler or module or during certain events in the Page lifecycle. If this exception occurred while executing a Page, ensure that the Page is marked &lt;%@ Page Async=\"true\" %&gt;. This exception may also indicate an attempt to call an \"async void\" method, which is generally unsupported within ASP.NET request processing. Instead, the asynchronous method should return a Task, and the caller should await it.\n\nStackTrace:    at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc&amp; rpc)\n   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc&amp; rpc)\n   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc&amp; rpc)\n   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc&amp; rpc)\n   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc&amp; rpc)\n   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc&amp; rpc)\n   at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)\n   at System.ServiceModel.Dispatcher.ChannelHandler.DispatchAndReleasePump(RequestContext request, Boolean cleanThread, OperationContext currentOperationContext)\n   at System.ServiceModel.Dispatcher.ChannelHandler.HandleRequest(RequestContext request, OperationContext currentOperationContext)\n   at System.ServiceModel.Dispatcher.ChannelHandler.AsyncMessagePump(IAsyncResult result)\n   at System.ServiceModel.Dispatcher.ChannelHandler.OnAsyncReceiveComplete(IAsyncResult result)\n   at System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\n   at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\n   at System.ServiceModel.Channels.TransportDuplexSessionChannel.TryReceiveAsyncResult.OnReceive(IAsyncResult result)\n   at System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\n   at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\n   at System.ServiceModel.Channels.SynchronizedMessageSource.ReceiveAsyncResult.OnReceiveComplete(Object state)\n   at System.ServiceModel.Channels.SessionConnectionReader.OnAsyncReadComplete(Object state)\n   at System.ServiceModel.Channels.StreamConnection.OnRead(IAsyncResult result)\n   at System.Runtime.Fx.AsyncThunk.UnhandledExceptionFrame(IAsyncResult result)\n   at System.Net.LazyAsyncResult.Complete(IntPtr userToken)\n   at System.Net.LazyAsyncResult.ProtectedInvokeCallback(Object result, IntPtr userToken)\n   at System.Net.Security._SslStream.ProcessFrameBody(Int32 readBytes, Byte[] buffer, Int32 offset, Int32 count, AsyncProtocolRequest asyncRequest)\n   at System.Net.Security._SslStream.ReadFrameCallback(AsyncProtocolRequest asyncRequest)\n   at System.Net.AsyncProtocolRequest.CompleteRequest(Int32 result)\n   at System.Net.FixedSizeReader.CheckCompletionBeforeNextRead(Int32 bytes)\n   at System.Net.FixedSizeReader.ReadCallback(IAsyncResult transportResult)\n   at System.Runtime.AsyncResult.Complete(Boolean completedSynchronously)\n   at System.ServiceModel.Channels.ConnectionStream.IOAsyncResult.OnAsyncIOComplete(Object state)\n   at System.ServiceModel.Channels.SocketConnection.FinishRead()\n   at System.ServiceModel.Channels.SocketConnection.OnReceiveAsync(Object sender, SocketAsyncEventArgs eventArgs)\n   at System.ServiceModel.Channels.SocketConnection.OnReceiveAsyncCompleted(Object sender, SocketAsyncEventArgs e)\n   at System.Net.Sockets.SocketAsyncEventArgs.OnCompleted(SocketAsyncEventArgs e)\n   at System.Net.Sockets.SocketAsyncEventArgs.FinishOperationSuccess(SocketError socketError, Int32 bytesTransferred, SocketFlags flags)\n   at System.Net.Sockets.SocketAsyncEventArgs.CompletionPortCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)\n   at System.Threading._IOCompletionCallback.PerformIOCompletionCallback(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* pOVERLAP)\n\nInnerException: System.InvalidOperationException\n\nMessage: An asynchronous operation cannot be started at this time. Asynchronous operations may only be started within an asynchronous handler or module or during certain events in the Page lifecycle. If this exception occurred while executing a Page, ensure that the Page is marked &lt;%@ Page Async=\"true\" %&gt;. This exception may also indicate an attempt to call an \"async void\" method, which is generally unsupported within ASP.NET request processing. Instead, the asynchronous method should return a Task, and the caller should await it.\n\nStackTrace:    at System.Web.AspNetSynchronizationContext.OperationStarted()\n   at System.ServiceModel.Dispatcher.ThreadBehavior.BindCore(MessageRpc&amp; rpc, Boolean startOperation)\n   at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc&amp; rpc)\nEvent Xml:\n&lt;Event xmlns=\"http://schemas.microsoft.com/win/2004/08/events/event\"&gt;\n  &lt;System&gt;\n    &lt;Provider Name=\"ASP.NET 4.0.30319.0\" /&gt;\n    &lt;EventID Qualifiers=\"49152\"&gt;1325&lt;/EventID&gt;\n    &lt;Level&gt;2&lt;/Level&gt;\n    &lt;Task&gt;0&lt;/Task&gt;\n    &lt;Keywords&gt;0x80000000000000&lt;/Keywords&gt;\n    &lt;TimeCreated SystemTime=\"2018-03-07T20:07:21.000000000Z\" /&gt;\n    &lt;EventRecordID&gt;6615&lt;/EventRecordID&gt;\n    &lt;Channel&gt;Application&lt;/Channel&gt;\n    &lt;Computer&gt;C-Licensing-01&lt;/Computer&gt;\n    &lt;Security /&gt;\n  &lt;/System&gt;\n  &lt;EventData&gt;\n    &lt;Data&gt;An unhandled exception occurred and the process was terminated.\n</code></pre>\n\n<p>Focusing especially on message:</p>\n\n<blockquote>\n  <p>An asynchronous operation cannot be started at this time. Asynchronous\n  operations may only be started within an asynchronous handler or\n  module or during certain events in the Page lifecycle. If this\n  exception occurred while executing a Page, ensure that the Page is\n  marked &lt;%@ Page Async=\"true\" %>. This exception may also indicate an\n  attempt to call an \"async void\" method, which is generally unsupported\n  within ASP.NET request processing. Instead, the asynchronous method\n  should return a Task, and the caller should await it.</p>\n</blockquote>\n\n<p>As I'm going one-by-one through all possibilities I can think about putting <code>&lt;%@ Page Async=\"true\" %&gt;</code> doesn't make any change in observed behavior.</p>\n\n<p>Second part of message doesn't seem relevant for me as I'm not using any <code>async void</code> method in my application.</p>\n\n<p>As a another weird thing is that this part of codebase was not modified for couple years but started to behave like this just few days ago so it was possibly caused by change in other part of application or by environmental change as another version of installed .NET framework.</p>\n\n<p>As this seems to be possibly caused by something environmental and may be hard to discover I'd be grateful for any hint how to get more information about what's going on in w3wp.exe in time of crash. </p>\n"}, {"tags": ["c#", "asp.net-mvc", "asynchronous", "async-await"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 1, "creation_date": 1520458689, "post_id": 49161573, "comment_id": 85328911, "body": "As an aside, I&#39;d start following .NET naming conventions - <code>Status</code> instead of <code>status</code>, <code>SaveBlobAsync</code> instead of <code>saveBlob</code>, etc."}], "answers": [{"comments": [{"owner": {"reputation": 917, "user_id": 578011, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b219fba85a0852f2aad3894aec4100c?s=128&d=identicon&r=PG", "display_name": "Paul Duer", "link": "https://stackoverflow.com/users/578011/paul-duer"}, "edited": false, "score": 0, "creation_date": 1520516278, "post_id": 49161616, "comment_id": 85353840, "body": "This did the trick! Thanks Jon and sorry about posting code not following convention. I wrote it quickly yesterday and didn&#39;t proof read it before I posted it and went home! Had to talk to my parents!"}], "tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 4, "last_activity_date": 1520458585, "creation_date": 1520458585, "answer_id": 49161616, "question_id": 49161573, "link": "https://stackoverflow.com/questions/49161573/how-do-i-use-the-async-await-functions-in-c-correctly/49161616#49161616", "title": "How do I use the Async Await functions in C# correctly", "body": "<p>I doubt that this has anything to do with async really. Currently you're copying one stream into a <code>MemoryStream</code>, but then leaving the \"cursor\" at the end of the <code>MemoryStream</code>... anything trying to read from it won't see the new data.</p>\n\n<p>The fix is really simple: just \"rewind\" the stream before you call your <code>saveBlob</code> method:</p>\n\n<pre><code>using (var stream = manager.GetStream())\n{\n   await itemFileUpload.MktRpt.CopyToAsync(stream);\n   stream.Position = 0;\n   await _azureStorageService.saveBlob(stream, Path.GetFileName(itemFileUpload.MktRpt.FileName));\n}\n</code></pre>\n\n<p>Alternatively, avoid the copying into the <code>MemoryStream</code> entirely:</p>\n\n<pre><code>using (var stream = itemFileUpload.MktRpt.OpenReadStream())\n{\n    await _azureStorageService.saveBlob(stream, Path.GetFileName(itemFileUpload.MktRpt.FileName));\n}\n</code></pre>\n"}], "owner": {"reputation": 917, "user_id": 578011, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b219fba85a0852f2aad3894aec4100c?s=128&d=identicon&r=PG", "display_name": "Paul Duer", "link": "https://stackoverflow.com/users/578011/paul-duer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 49161616, "answer_count": 1, "score": -1, "last_activity_date": 1520460015, "creation_date": 1520458372, "last_edit_date": 1520460015, "question_id": 49161573, "link": "https://stackoverflow.com/questions/49161573/how-do-i-use-the-async-await-functions-in-c-correctly", "title": "How do I use the Async Await functions in C# correctly", "body": "<p>I'm still having trouble understanding how to use Async methods. I have the following code in a controller.</p>\n\n<pre><code>[HttpPost]\npublic async Task&lt;IActionResult&gt; ManualUpload([Bind(\"MktRpt\")] ManualMktRptFileUpload itemFileUpload)\n{\n    var manager = new RecyclableMemoryStreamManager();\n    using (var stream = manager.GetStream())\n    {\n       await itemFileUpload.MktRpt.CopyToAsync(stream);\n       await _azureStorageService.saveBlob(stream, Path.GetFileName(itemFileUpload.MktRpt.FileName));\n    }\n\n    itemFileUpload.status = \"Success\";\n    return View(itemFileUpload);\n}\n</code></pre>\n\n<p>my service method is simple too: </p>\n\n<pre><code>public async Task saveBlob(MemoryStream stream, string filename)\n{\n    var blockBlob = _container.GetBlockBlobReference(filename);\n    await blockBlob.UploadFromStreamAsync(stream);\n}\n</code></pre>\n\n<p>along with a simple model class:</p>\n\n<pre><code>public class ManualMktRptFileUpload\n{\n    [Required]\n    [Display(Name = \"Manual Report\")]\n    public IFormFile MktRpt { get; set; }\n\n    public string status { get; set; } = \"Constructed\";\n}\n</code></pre>\n\n<p>When I check my Blob Container in Azure, the file is there BUT, it's zero bytes. </p>\n\n<p>I believe this is because I am not correctly waiting for the stream to transfer, but I don't know how to fix it.</p>\n"}, {"tags": ["c#", "ios", "xamarin", "printing", "xamarin.ios"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 1, "creation_date": 1520457778, "post_id": 49161345, "comment_id": 85328478, "body": "check out the Apple docs: <a href=\"https://developer.apple.com/documentation/uikit/uiprintinteractioncontrollerdelegate/1618178-printinteractioncontroller\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/uikit/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1520459696, "post_id": 49161345, "comment_id": 85329378, "body": "Hi Jason, thank you. But i struggle with the correct syntax in C#. Can you give me an example?"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1520459861, "post_id": 49161345, "comment_id": 85329451, "body": "No idea.  Iv&#39;e never used this API, and even Apple&#39;s sample code doesn&#39;t use it.  You might try asking on the Apple dev forums, but the answer they might give you will be in Swift or Obj-C"}, {"owner": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1520460425, "post_id": 49161345, "comment_id": 85329683, "body": "Maybe I&#39;m on the wrong way? <code>printer.ChoosePaper</code> could also be an option. but also here I have no idea how to set the property"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1520463525, "post_id": 49161345, "comment_id": 85330956, "body": "have you read the Apple docs on printing in iOS?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "edited": false, "score": 0, "creation_date": 1520493416, "post_id": 49162651, "comment_id": 85339928, "body": "That does not work for me. my <code>ChooseCutterBehavior</code> Method is never called. May be it is the wrong return type? i think it is supposed to be <code>UIPrintInteractionCutterBehavior</code> not <code>UIPrinterCutterBehavior</code> . Do you have any idea how to return a <code>UIPrintInteractionCutterBehavior</code> value?  Thanks!!"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "reply_to_user": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "edited": false, "score": 0, "creation_date": 1520524956, "post_id": 49162651, "comment_id": 85360134, "body": "@FSP You might want to read the Apple docs on how this works: <a href=\"https://developer.apple.com/documentation/uikit/uiprintinteractioncontrollerdelegate/1618178-printinteractioncontroller\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/uikit/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "edited": false, "score": 0, "creation_date": 1520537353, "post_id": 49162651, "comment_id": 85367547, "body": "sorry, i am very new to c# and xamarin. I have seen the Apple docs but unfortunately that does not help me. Can you give me an example? This line  <code>if (availableBehaviors.Contains((int)UIPrinterCutterBehavior.Cu&zwnj;&#8203;tAfterEachJob))</code> from your code does not work for me because NsNumber[] does not have definition for &quot;contains&quot;. Also, the ChooseCutterBehavor function in your example is never called and I can not figure out why. Thanks!"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "reply_to_user": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "edited": false, "score": 0, "creation_date": 1520538852, "post_id": 49162651, "comment_id": 85368340, "body": "@FSP <code>.Contains</code> comes from <code>System.Linq</code>, i.e. <code>using System.Linq;</code> Assuming the delegate (<code>IUIPrintInteractionControllerDelegate</code>) is assigned to the printer controller, it is up to the printer driver to call those methods, if the printer does not have paper cutter (or did not implement it in their driver), the <code>_:cutLengthFor:</code> delegate method and those the length of the paper (in points) is never asked for. Same for the <code>UIPrinterCutterBehavior</code>, if the printer does does not have that feature or did not implement it on iOS, the behavior is not asked for. What printer are you using?"}, {"owner": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "edited": false, "score": 0, "creation_date": 1520542678, "post_id": 49162651, "comment_id": 85370278, "body": "Thanks for your <code>using System.Linq</code> hint. now &quot;contains&quot; works but is still never called.   My Printer is a &quot;Star TSP654II&quot; with AirPrint, Ethernet, WLAN and Cutter. Obviously my Printer does not call the method (via airprint) But the cutter is working. When I print a html output, it does not matter how long the text is. currently it cuts every page. But I do not want to cut until the end of the job. That&#39;s why i want to set <code>UIPrinterCutterBehavior.CutAfterEachJob</code>. do you think this is the wrong way?"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "reply_to_user": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "edited": false, "score": 0, "creation_date": 1520553155, "post_id": 49162651, "comment_id": 85374713, "body": "@FSP Try implmenting some of the other delegate methods (i.e. ChoosePaper,  ChoosePaper, WillStartJob). They will be called a various times during the presentation of the printer controller, etc... ChooseCutterBehavior will be called during the run of actual print job if the printer provides the option to AirPrint (in your case). Use the &quot;Simulated Label Printer&quot; (via the <code>Printer Simulator.app</code> in the <code>Additional_Tools_for_Xcode</code> download) and choose either the 2&quot; or 4&quot; roll paper for it to test your code as that printer with a continuous paper roll calls for the cutter behavior."}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "reply_to_user": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "edited": false, "score": 0, "creation_date": 1520553260, "post_id": 49162651, "comment_id": 85374751, "body": "@FSP Then try your Star printer again to see if the call is made. Personally I&#39;ve use a lot of the Star printer line but avoid AirPrint, too slow and not enough control over the output, i.e. there are receipts produced when we partial cut vs full cut after each copy vs. each job. Items like this are not available via AirPrint...."}, {"owner": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "edited": false, "score": 0, "creation_date": 1520578594, "post_id": 49162651, "comment_id": 85381544, "body": "For me airprint seemed to be the most obvious way. Maybe it&#39;s the wrong way. How do you handle the printers? Do you have a link or an example? Thank you for all the tips and your patience!"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "reply_to_user": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "edited": false, "score": 0, "creation_date": 1520599461, "post_id": 49162651, "comment_id": 85392751, "body": "@FSP AirPrint is &quot;good&quot; at what it does... (with the Star line, I use their StarPRNT / PassPRN APIs, but they are not for the faint of heart ;-) Since you already have the HTML output done for AirPrint, use the &quot;Printer Simulator.app&quot; as I suggested above to test your code as that simulated printer does use the cutter behavior when a continuous paper roll is used."}, {"owner": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "edited": false, "score": 0, "creation_date": 1520611297, "post_id": 49162651, "comment_id": 85400171, "body": "Now I have tested with the &quot;simulated label printer&quot; and role paper. (i did&#39;t now it. This is really cool for testing!) Again, a long html text is displayed on several pages in the output.pdf and the ChoosCutterBehavior method is still not called. I can not figure out why"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "reply_to_user": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "edited": false, "score": 0, "creation_date": 1520616796, "post_id": 49162651, "comment_id": 85403337, "body": "@FSP Gotta love simulated printers, saved at least a tree or two in all the iOS testing I&#39;ve done  :-)  That printer&#39;s <code>ChooseCutterBehavior</code> should be called with the available behaviors of NoCut, PrinterDefault, &amp; CutAfterEachPage and that will happen right before the <code>WillStartJob</code> delegate protocol/method is called. Are you assigning the controller&#39;s delegate? Are other delegate methods triggering? Are you using the delegate that Xam will create if you assign an a <code>Func</code> against one of the exposed delegate methods on the <code>UIPrintInteractionController</code> itself?"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "reply_to_user": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "edited": false, "score": 0, "creation_date": 1520616915, "post_id": 49162651, "comment_id": 85403397, "body": "@FSP  Do not mix the two, you can not have multiple delegates, last one assigned wins. (Poor design choice by Xamarin to add this C# normalization without a guard on the <code>.Delegate</code> property, has burned many of my clients....)"}, {"owner": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "edited": false, "score": 1, "creation_date": 1520637665, "post_id": 49162651, "comment_id": 85412660, "body": "i started over with a new project and now my delegate method is called. Sorry, I do not know what it was.. as you say simulator respons is &quot;NoCut, PrinterDefault, &amp; CutAfterEachPage&quot;. But my Star Printer still does not call my ChooseCutterBehavior.  it seems like this is not implemented in the driver via Airprint. Therefore, I suspect that I have to solve my problem via a customized PageSize? For this I have created the &quot;ChoosePaper&quot; delegate method, which is (now) also called. I can see which paper is available. But I can not figure out how to set a Height (that fits my Output)."}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "reply_to_user": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "edited": false, "score": 0, "creation_date": 1520638650, "post_id": 49162651, "comment_id": 85412890, "body": "Glad you got it working at least.... There is a <code>CutLengthForPaper</code> protocol: <a href=\"https://developer.apple.com/documentation/uikit/uiprintinteractioncontrollerdelegate/1618179-printinteractioncontroller\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/uikit/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "edited": false, "score": 0, "creation_date": 1520673804, "post_id": 49162651, "comment_id": 85419627, "body": "This sounds very good. But with the apple doc i can&#39;t get it working. it is not calling my &quot;cutLengthForPaper&quot; Method. May be the naming or the type of my Method is wrong? i have this <code>[Export(&quot;printInteractionController:cutLengthForPaper:&quot;)]         public nfloat CutLengthForPaper(UIPrintInteractionController printInteractionController, UIPrintPaper paper) {nfloat cutLength = 1000; return cutLength;}</code>"}, {"owner": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "edited": false, "score": 0, "creation_date": 1520762026, "post_id": 49162651, "comment_id": 85441145, "body": "Ok, i got it. cutLengthForPaper is now called and is working. <code>[Export(&quot;printInteractionController:cutLengthForPaper:&quot;)] public nfloat CutLengthForPaper(UIPrintInteractionController printInteractionController, UIPrintPaper paper)         {            var CutLength = new nfloat(1000.0);             return CutLength;         }</code>"}, {"owner": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "edited": false, "score": 1, "creation_date": 1520762186, "post_id": 49162651, "comment_id": 85441181, "body": "but I&#39;m desperate with my Star Printer. CutLengthForPaper is also only called with the Printer Simulator. When I use the Star TSP Printer, he does not use this method. Do you have any idea how I can do that?"}, {"owner": {"reputation": 13086, "user_id": 728246, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/94e0c1c0015af161fd5c16ceca362e3b?s=128&d=identicon&r=PG", "display_name": "zumzum", "link": "https://stackoverflow.com/users/728246/zumzum"}, "edited": false, "score": 0, "creation_date": 1537406656, "post_id": 49162651, "comment_id": 91775881, "body": "same problem here. Using that same printer the cut delegate is not called. The other delegates are called but the cutLengthFor and the chooseCutterBehavior. I cannot connect to printer simulator so I don&#39;t have a way o test that, but the printer does not call those delegate methods."}], "tags": [], "owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "is_accepted": false, "score": 0, "last_activity_date": 1520466268, "last_edit_date": 1520466268, "creation_date": 1520463592, "answer_id": 49162651, "question_id": 49161345, "link": "https://stackoverflow.com/questions/49161345/c-xamarin-change-cutterbehavior-of-uikit-uiprintinteractioncontroller-choosecut/49162651#49162651", "title": "c# Xamarin Change CutterBehavior of UIKit.UIPrintInteractionController.ChooseCutterBehavior", "body": "<p>In your <code>IUIPrintInteractionControllerDelegate</code> implementation, add the optional <code>printInteractionController:chooseCutterBehavior:</code> method.</p>\n\n<p>This method <strong>may be</strong> called by the printer driver and will give the available (<code>UIPrinterCutterBehavior</code>) behaviors that this printer supports. You return one of the supported behaviors based upon your requirements.</p>\n\n<pre><code>public class MyPrintInteractionControllerDelegate : NSObject, IUIPrintInteractionControllerDelegate\n{\n    [Export(\"printInteractionController:chooseCutterBehavior:\")]\n    public UIPrinterCutterBehavior ChooseCutterBehavior(UIPrintInteractionController printInteractionController, NSNumber[] availableBehaviors)\n    {\n        // What does this printer support?\n        foreach (var whatsAvailable in availableBehaviors)\n        {\n            var nameofEnum = Enum.GetName(typeof(UIPrinterCutterBehavior), whatsAvailable.Int16Value);\n            Console.WriteLine($\"AvailableBehavior : {nameofEnum}\");\n        }\n\n        // If the printer supports CutAfterEachJob, use it, otherwise use the whatever the printer default is.\n        if (availableBehaviors.Contains((int)UIPrinterCutterBehavior.CutAfterEachJob))\n            return UIPrinterCutterBehavior.CutAfterEachJob;\n        else\n            return UIPrinterCutterBehavior.PrinterDefault;\n    }\n\n    //~~~ other delegate methods ~~~\n}\n</code></pre>\n\n<p>Now assign the delegate (<code>IUIPrintInteractionControllerDelegate</code>) to your <code>UIPrintInteractionController.SharedPrintController</code> instance:</p>\n\n<pre><code>var printer = UIPrintInteractionController.SharedPrintController;\nprinter.Delegate  = new MyPrintInteractionControllerDelegate();\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9458972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03486b08f98a9fe2a78e26a68e9d5c94?s=128&d=identicon&r=PG&f=1", "display_name": "FSP", "link": "https://stackoverflow.com/users/9458972/fsp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520466268, "creation_date": 1520457432, "last_edit_date": 1520464644, "question_id": 49161345, "link": "https://stackoverflow.com/questions/49161345/c-xamarin-change-cutterbehavior-of-uikit-uiprintinteractioncontroller-choosecut", "title": "c# Xamarin Change CutterBehavior of UIKit.UIPrintInteractionController.ChooseCutterBehavior", "body": "<p>I have a probably simple question for every pro coder:\nI would like to write an iOS app with xamarin in C# that prints html to a  receipt printer. For that I would like to adapt the default Cutterbeavior of the receipt printer.</p>\n\n<p>i have this Code which works perfect for me: </p>\n\n\n\n<pre><code>var printer = UIPrintInteractionController.SharedPrintController;\n            printer.ShowsPageRange = true;\n            printer.ShowsNumberOfCopies = true;\n            printer.ShowsPaperSelectionForLoadedPapers = true;\n            var page = @\"&lt;!DOCTYPE html&gt;&lt;style&gt;&lt;/style&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset='UTF-8'&gt;&lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt;Text to print&lt;/body&gt;&lt;/html&gt;\";\n            var textFormatter = new UIMarkupTextPrintFormatter(page);\n            printer.PrintFormatter = textFormatter;\n            printer.Present(true, (handler, completed, err) =&gt;\n                {\n                    if (!completed &amp;&amp; err != null)\n                    {\n                        Console.WriteLine(\"error\");\n                    }\n                });\n</code></pre>\n\n<p>and now i would like to customize this property:\n<code>printer.ChooseCutterBehavior</code></p>\n\n<p>Unfortunately, the documenation does not help me any further:\n<a href=\"https://developer.xamarin.com/api/property/UIKit.UIPrintInteractionController.ChooseCutterBehavior/\" rel=\"nofollow noreferrer\">https://developer.xamarin.com/api/property/UIKit.UIPrintInteractionController.ChooseCutterBehavior/</a></p>\n\n<p>How can I set the property ChooseCutterBehavior? Unfortunately, I can not continue at this point and I am grateful for any hint!</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "xaml", "uwp", "windows-10-universal"], "comments": [{"owner": {"reputation": 3704, "user_id": 1710577, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YoUi5.jpg?s=128&g=1", "display_name": "slayernoah", "link": "https://stackoverflow.com/users/1710577/slayernoah"}, "reply_to_user": {"reputation": 2616, "user_id": 4992212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cul0O.png?s=128&g=1", "display_name": "Tobias Theel", "link": "https://stackoverflow.com/users/4992212/tobias-theel"}, "edited": false, "score": 0, "creation_date": 1520472046, "post_id": 49161273, "comment_id": 85333412, "body": "@TobiasTheel thanks for the reply! But I don\u2019t see how to use DynamicResource with a Windows 10 UWP :/"}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "edited": false, "score": 2, "creation_date": 1520497166, "post_id": 49161273, "comment_id": 85341822, "body": "Unfortunately <code>DynamicResource</code> markup extension is not available in UWP"}], "answers": [{"comments": [{"owner": {"reputation": 1332, "user_id": 407177, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wko7I.jpg?s=128&g=1", "display_name": "Johnny Westlake", "link": "https://stackoverflow.com/users/407177/johnny-westlake"}, "edited": false, "score": 0, "creation_date": 1520500511, "post_id": 49168742, "comment_id": 85343873, "body": "Fwiw, x:Bind can bind to statics, so you could make CustomUISettings a setting class, if you wanted too."}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 1332, "user_id": 407177, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wko7I.jpg?s=128&g=1", "display_name": "Johnny Westlake", "link": "https://stackoverflow.com/users/407177/johnny-westlake"}, "edited": false, "score": 0, "creation_date": 1520500566, "post_id": 49168742, "comment_id": 85343902, "body": "True thing, I forgot about that :-) . I will update my answer with this! Thank you for the reminder!"}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 1332, "user_id": 407177, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wko7I.jpg?s=128&g=1", "display_name": "Johnny Westlake", "link": "https://stackoverflow.com/users/407177/johnny-westlake"}, "edited": false, "score": 0, "creation_date": 1520501007, "post_id": 49168742, "comment_id": 85344174, "body": "@Johnny Westlake - but wait, I am confuesd, Binding can bind to static, but does x:Bind? x:Bind binds only to code-behind properties and fields or is there some other syntax that allows this? And futher - the problem with static class is that it cannot implement <code>INotifyPropertyChanged</code> which is a problem here..."}, {"owner": {"reputation": 1332, "user_id": 407177, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wko7I.jpg?s=128&g=1", "display_name": "Johnny Westlake", "link": "https://stackoverflow.com/users/407177/johnny-westlake"}, "edited": false, "score": 0, "creation_date": 1520504964, "post_id": 49168742, "comment_id": 85346776, "body": "If I have a static class &quot;MyApp.Converters&quot;, you can add a namespace def (xmlns:my=&quot;using:MyApp&quot; for example) and then you can use {x:Bind my:Converters.Invert(...)}, which also works in datatemples- in this case you could have {x:Bind my:Resources.CustomUISettings.FontSize, Mode=OneWay}, where CustomUISettings is still an instance in the static"}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 1332, "user_id": 407177, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wko7I.jpg?s=128&g=1", "display_name": "Johnny Westlake", "link": "https://stackoverflow.com/users/407177/johnny-westlake"}, "edited": false, "score": 1, "creation_date": 1520516188, "post_id": 49168742, "comment_id": 85353764, "body": "@Johnny Westlake: That is weird, I can&#39;t get this to work on my end - I always jsut get &quot;Invalid binding path - Property &quot;my:Converters&quot; can&#39;t be found on type MainPage :-O"}], "tags": [], "owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "is_accepted": false, "score": 1, "last_activity_date": 1520498215, "creation_date": 1520498215, "answer_id": 49168742, "question_id": 49161273, "link": "https://stackoverflow.com/questions/49161273/how-to-easily-allow-users-to-update-styles-used-be-elements-in-xaml-uwp/49168742#49168742", "title": "How to easily allow users to update Styles used be elements in XAML (UWP)", "body": "<p>Unfortunately this kind of user-defined styling is not easily available in UWP. You can however implement a kind of styling solution using data binding.</p>\n\n<p>First step is to create a class like <code>CustomUISettings</code> which implements <code>INotifyPropertyChanged</code> and has properties like <code>HeaderFontSize</code>, etc.</p>\n\n<p>Now on app start create an instance of this class and add it as app resource:</p>\n\n<pre><code>Application.Current.Resources[\"CustomUISettings\"] = new CustomUISettings();\n</code></pre>\n\n<p>Now you can bind to the properties in this class anywhere in your code:</p>\n\n<pre><code>&lt;TextBox FontSize=\"{Binding HeaderFontSize, Source={StaticResource CustomUISettings}}\" /&gt;\n</code></pre>\n\n<p>You must use the classic <code>{Binding}</code> markup extension, because <code>{x:Bind}</code> does not support <code>Source</code> setting.</p>\n\n<p>To modify the UI settings you can just retrieve the instance anywhere and set the properties as you see fit:</p>\n\n<pre><code>var customUISettings = (CustomUISettings)Application.Current.Resources[\"CustomUISettings\"];\ncustomUISettings.HeaderFontSize = 50;\n</code></pre>\n\n<p>You must make sure that all properties in <code>CustomUISettings</code> class fire the <code>PropertyChanged</code> event. You can see how to implement <code>INotifyPropertyChanged</code> interface for example <a href=\"https://jeremybytes.blogspot.cz/2016/01/the-evolution-of-inotifypropertychanged.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 3704, "user_id": 1710577, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YoUi5.jpg?s=128&g=1", "display_name": "slayernoah", "link": "https://stackoverflow.com/users/1710577/slayernoah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1520504930, "creation_date": 1520457142, "question_id": 49161273, "link": "https://stackoverflow.com/questions/49161273/how-to-easily-allow-users-to-update-styles-used-be-elements-in-xaml-uwp", "title": "How to easily allow users to update Styles used be elements in XAML (UWP)", "body": "<p>This is for a Windows 10 UWP. I need to allow users to update values on Styles that are associated with elements used throughout the application (i.e allow users to change the font size of various textblocks, background color stackpanels etc.) . </p>\n\n<p>I currently have all my Styles in a separately file.</p>\n\n<p>My <code>App.xaml</code> is as below:</p>\n\n<pre><code>&lt;Application\n    x:Class=\"MyTestApp.App\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"&gt;\n\n    &lt;Application.Resources&gt;\n\n        &lt;ResourceDictionary&gt;\n            &lt;ResourceDictionary.MergedDictionaries&gt;\n                &lt;ResourceDictionary Source=\"/Styles/Styles.xaml\"/&gt;\n            &lt;/ResourceDictionary.MergedDictionaries&gt;\n        &lt;/ResourceDictionary&gt;\n\n    &lt;/Application.Resources&gt;\n\n&lt;/Application&gt;\n</code></pre>\n\n<p>My <code>Styles.xaml</code> (partial) is as below:</p>\n\n<pre><code>&lt;ResourceDictionary\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:converters=\"using:MyTestApp.Views\"\n    xmlns:x1=\"using:System\"&gt;\n\n    &lt;Style x:Key=\"HeaderTextBlocks\" TargetType=\"TextBlock\" BasedOn=\"{StaticResource TitleTextBlockStyle}\"&gt;\n        &lt;Setter Property=\"FontSize\" Value=\"24\"/&gt;\n        &lt;Setter Property=\"FontWeight\" Value=\"Normal\"/&gt;\n        &lt;Setter Property=\"TextWrapping\" Value=\"NoWrap\"/&gt;\n        &lt;Setter Property=\"HorizontalAlignment\" Value=\"Left\"/&gt;\n        &lt;Setter Property=\"VerticalAlignment\" Value=\"Bottom\"/&gt;\n        &lt;Setter Property=\"Margin\" Value=\"10,4,0,0\"/&gt;\n    &lt;/Style&gt;\n\n    &lt;Style x:Key=\"RegularTextBlocks\" TargetType=\"TextBlock\" BasedOn=\"{StaticResource TitleTextBlockStyle}\"&gt;\n        &lt;Setter Property=\"FontSize\" Value=\"12\"/&gt;\n        &lt;Setter Property=\"FontWeight\" Value=\"Normal\"/&gt;\n        &lt;Setter Property=\"TextWrapping\" Value=\"NoWrap\"/&gt;\n        &lt;Setter Property=\"HorizontalAlignment\" Value=\"Left\"/&gt;\n        &lt;Setter Property=\"VerticalAlignment\" Value=\"Bottom\"/&gt;\n        &lt;Setter Property=\"Margin\" Value=\"0,0,0,0\"/&gt;\n    &lt;/Style&gt;\n&lt;/ResourceDictionary&gt;\n</code></pre>\n\n<p>I refer to these styles on controls throughout the application using like this:</p>\n\n<pre><code>&lt;TextBlock Style=\"{StaticResource HeaderTextBlocks}\" /&gt;\n</code></pre>\n\n<p>I have created a Settings page (settings.xaml) which has textboxes for the users to update various style settings.</p>\n\n<p><strong>But I am not sure how I could bind these to the settings on the various styles on the styles.xaml file so that the styles are updated and the controls referring to the styles are updated when the user changes the value.</strong></p>\n\n<pre><code>&lt;TextBox Header=\"Font Size of Header TextBlocks\" Text=\"{x:Bind HeaderTextBlocks.FontSize ???, Mode=TwoWay}\" /&gt;\n&lt;TextBox Header=\"Font Size of Regular TextBlocks\" Text=\"{x:Bind RegularTextBlocks.FontSize???, Mode=TwoWay}\" /&gt;\n</code></pre>\n\n<p>Could someone please point me in the right direction? I am trying to do this with minimal (or no code behind) as possible.</p>\n"}, {"tags": ["c#", "vsto", "outlook-addin"], "answers": [{"tags": [], "owner": {"reputation": 231, "user_id": 5994845, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/YHyhn.gif?s=128&g=1", "display_name": "Maderas", "link": "https://stackoverflow.com/users/5994845/maderas"}, "is_accepted": true, "score": 0, "last_activity_date": 1521217496, "creation_date": 1521217496, "answer_id": 49325444, "question_id": 49161268, "link": "https://stackoverflow.com/questions/49161268/determine-if-email-send-was-canceled/49325444#49325444", "title": "Determine if Email send was canceled", "body": "<p>I found that the item close event was not being called but the inspector closed event was called after the send event. I re-structured my code and placed the saving code in the inspectors closed event.</p>\n"}], "owner": {"reputation": 231, "user_id": 5994845, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/YHyhn.gif?s=128&g=1", "display_name": "Maderas", "link": "https://stackoverflow.com/users/5994845/maderas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 49325444, "answer_count": 1, "score": 0, "last_activity_date": 1521217496, "creation_date": 1520457121, "question_id": 49161268, "link": "https://stackoverflow.com/questions/49161268/determine-if-email-send-was-canceled", "title": "Determine if Email send was canceled", "body": "<p>There are two add ins in my Outlook 2010 application. The first application is mine and the second is owned by someone else. Both applications use the Send event to do their work. The second application (not mine), sometimes, cancels the send event. Since my code has already run, that makes things bad for me as I save data to another service. </p>\n\n<p>I can't re-order the event calls (policy), so... how can I determine if a send was not canceled? I can't find an after send event and the close event isn't called on send.</p>\n\n<p>I want to run my code once I know, for sure, that the send went through.</p>\n"}, {"tags": ["c#", ".net", "collections"], "comments": [{"owner": {"reputation": 3882, "user_id": 4575929, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e50146004e704b77ad080bd302300685?s=128&d=identicon&r=PG&f=1", "display_name": "ISHIDA", "link": "https://stackoverflow.com/users/4575929/ishida"}, "edited": false, "score": 0, "creation_date": 1520457206, "post_id": 49161254, "comment_id": 85328186, "body": "You can use Linq and do a groupBy"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1520457228, "post_id": 49161254, "comment_id": 85328195, "body": "From your statement, &quot;consider a mapping like the example below where group 111 has 2 users 222 and 444&quot;, this implies a one-to- many relationship, and use KeyValuePairs&lt;int, List&lt;int&gt;&gt;, so keyvaluepair with key 111 would have list with 222, 444 and keyvaluepair with key 555 would have list with 222"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1520457236, "post_id": 49161254, "comment_id": 85328199, "body": "how do you obtain that data? With Linq you can create an IGrouping&lt;Tkey, TElement&gt; which is handy."}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 1, "creation_date": 1520457267, "post_id": 49161254, "comment_id": 85328220, "body": "Also  linq&#39;s <code>ToLookup</code>"}, {"owner": {"reputation": 1757, "user_id": 2145789, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c8942916c4014f0716cb41e9b2227314?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Bres", "link": "https://stackoverflow.com/users/2145789/abdulrahman-bres"}, "edited": false, "score": 0, "creation_date": 1520457522, "post_id": 49161254, "comment_id": 85328338, "body": "If you need to do lookup on both IDs, you can use two dictionaries"}], "answers": [{"tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 3, "last_activity_date": 1520457540, "creation_date": 1520457540, "answer_id": 49161374, "question_id": 49161254, "link": "https://stackoverflow.com/questions/49161254/what-would-be-the-most-appropriate-collection-to-use-for-this-scenario/49161374#49161374", "title": "What would be the most appropriate collection to use for this scenario?", "body": "<p>The data structure you want is called \"multimap\", \"multidictionary\", or \"multivaluedictionary\" depending on who you ask.</p>\n\n<p>There are lots of implementations of such; do a web search and you'll find some. For example:</p>\n\n<p><a href=\"https://blogs.msdn.microsoft.com/dotnet/2014/08/05/multidictionary-becomes-multivaluedictionary/\" rel=\"nofollow noreferrer\">https://blogs.msdn.microsoft.com/dotnet/2014/08/05/multidictionary-becomes-multivaluedictionary/</a></p>\n\n<p><a href=\"https://www.dotnetperls.com/multimap\" rel=\"nofollow noreferrer\">https://www.dotnetperls.com/multimap</a></p>\n\n<p>and so on.</p>\n"}, {"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 0, "last_activity_date": 1520458289, "creation_date": 1520458289, "answer_id": 49161550, "question_id": 49161254, "link": "https://stackoverflow.com/questions/49161254/what-would-be-the-most-appropriate-collection-to-use-for-this-scenario/49161550#49161550", "title": "What would be the most appropriate collection to use for this scenario?", "body": "<p>It is unfortunate that the <code>LookUp</code> class isn't fully public, but you can use Linq to create it:</p>\n\n<pre><code>public class GroupUserid {\n    public int group;\n    public int userid;\n}\n\nvar rawdata = List&lt;GroupUserid&gt;();\nvar groupMembership = rawdata.ToLookup(d =&gt; d.group, d =&gt; d.userid);\n</code></pre>\n\n<p>Then you can lookup the members of a group with:</p>\n\n<pre><code>var membersIn111 = groupMembership[111];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2445, "user_id": 2118609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ovygf.png?s=128&g=1", "display_name": "oliver", "link": "https://stackoverflow.com/users/2118609/oliver"}, "is_accepted": false, "score": 0, "last_activity_date": 1520462240, "last_edit_date": 1520462240, "creation_date": 1520461282, "answer_id": 49162171, "question_id": 49161254, "link": "https://stackoverflow.com/questions/49161254/what-would-be-the-most-appropriate-collection-to-use-for-this-scenario/49162171#49162171", "title": "What would be the most appropriate collection to use for this scenario?", "body": "<p>If all you want to find out is the users in a group and whether a specific user is in a given group most efficiently (i.e. for probably thousands of users), but you don't need to be that efficient in determining what groups a single user is in, you might also consider using</p>\n\n<pre><code>Dictionary&lt;int, HashSet&lt;int&gt;&gt; users = new Dictionary&lt;int, HashSet&lt;int&gt;&gt;();\n\n// Adding a new group:\nusers[newGroup] = new HashSet&lt;int&gt;();\n\n// Adding a new user to the group:\nusers[newGroup].Add(newUser);\n\n// Then to find all users in a group:\nHashSet&lt;int&gt; usersInAGroup = users[aGroup];\n\n// If you want to know very fast if a specific user is in this group, then:\nif (usersInAGroup.Contains(aUser)) {/* yes, the given user is in this group */};\n</code></pre>\n\n<p>HashSet is particularly optimized for the Contains() operation on a lot of elements.</p>\n"}], "owner": {"reputation": 1187, "user_id": 9393635, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2a956540dcbaa39914322d6a5e442125?s=128&d=identicon&r=PG&f=1", "display_name": "user9393635", "link": "https://stackoverflow.com/users/9393635/user9393635"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1520462240, "creation_date": 1520457021, "last_edit_date": 1520457109, "question_id": 49161254, "link": "https://stackoverflow.com/questions/49161254/what-would-be-the-most-appropriate-collection-to-use-for-this-scenario", "title": "What would be the most appropriate collection to use for this scenario?", "body": "<p>What would be the most appropriate collection to use for this scenario, based on the latest version of .NET/C#? I need to return a mapping of group id's with user id's. So consider a mapping like the example below where group 111 has 2 users 222 and 444:</p>\n\n<pre><code>111 222\n111 444\n555 222\n</code></pre>\n\n<p>A KeyValuePair would not be the most efficient b/c the data reflects a many-to-many relationship.</p>\n"}, {"tags": ["c#", "events"], "comments": [{"owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1520456959, "post_id": 49161221, "comment_id": 85328062, "body": "The whole point of <code>add</code> and <code>remove</code> syntax is customization."}], "answers": [{"comments": [{"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1520457245, "post_id": 49161279, "comment_id": 85328207, "body": "Wow! I never knew that!"}], "tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": true, "score": 8, "last_activity_date": 1520457329, "last_edit_date": 1520457329, "creation_date": 1520457165, "answer_id": 49161279, "question_id": 49161221, "link": "https://stackoverflow.com/questions/49161221/c-auto-implemented-events/49161279#49161279", "title": "C# - auto-implemented events", "body": "<p>Events are \"auto-events\" by default: when you write</p>\n\n<pre><code>public event EventHandler&lt;SomeEventArgs&gt; SomethingHappened;\n</code></pre>\n\n<p>you get the default behavior for both <code>add</code> and <code>remove</code>.</p>\n\n<p>Note that C# designers could not use the same syntax for auto-properties because it would collide with field declarations. In addition, they needed to supply syntax for letting you define visibility of <code>get</code> and <code>set</code> separately, so they invented the <code>{ get ; set; }</code> syntax.</p>\n"}], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 0, "accepted_answer_id": 49161279, "answer_count": 1, "score": 2, "last_activity_date": 1523019707, "creation_date": 1520456883, "last_edit_date": 1523019707, "question_id": 49161221, "link": "https://stackoverflow.com/questions/49161221/c-auto-implemented-events", "title": "C# - auto-implemented events", "body": "<p>In C# there are auto-implemented properties...</p>\n\n<pre><code>public int SomeValue { get; set; }\n</code></pre>\n\n<p>But why aren't there auto-implemented events?</p>\n\n<pre><code>public event EventHandler&lt;SomeEventArgs&gt; SomethingHappened { add; remove; }\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "entity-framework", "get", "request"], "comments": [{"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1520456776, "post_id": 49161151, "comment_id": 85327971, "body": "Once you have a collection of <code>RosterTime</code> access those properties. They could also be declared as collections, e.g. <code>public Shift[] Shifts</code> or <code>public IEnumerable&lt;Shift&gt; Shifts</code>. <code>Array</code> is not the collection type of array it&#39;s a class with static methods to manipulate arrays."}, {"owner": {"reputation": 138, "user_id": 4967968, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/988218484523218/picture?type=large", "display_name": "Josh Fletcher", "link": "https://stackoverflow.com/users/4967968/josh-fletcher"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1520457506, "post_id": 49161151, "comment_id": 85328328, "body": "I have updated to public Shifts[] Shifts { get; set; } and am getting an error of System.MissingMethodException: &#39;No parameterless constructor defined for this object.&#39; Edited original post showing the shift class"}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1520457664, "post_id": 49161151, "comment_id": 85328412, "body": "Ok did you modify <code>Costs</code> in the same way?"}, {"owner": {"reputation": 138, "user_id": 4967968, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/988218484523218/picture?type=large", "display_name": "Josh Fletcher", "link": "https://stackoverflow.com/users/4967968/josh-fletcher"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1520458016, "post_id": 49161151, "comment_id": 85328591, "body": "I hadn&#39;t touch costs yet but didnt think that would affect it"}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1520458163, "post_id": 49161151, "comment_id": 85328679, "body": "Well <code>Array</code> cannot be instantiated... So update that one too and if you still get the error then that will be pointing to <code>RosterTime</code>"}, {"owner": {"reputation": 138, "user_id": 4967968, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/988218484523218/picture?type=large", "display_name": "Josh Fletcher", "link": "https://stackoverflow.com/users/4967968/josh-fletcher"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1520458571, "post_id": 49161151, "comment_id": 85328861, "body": "Okay I have set up the Costs in the same way but am just stuck on this point when setting up costs: <a href=\"https://imgur.com/a/rV5dW\" rel=\"nofollow noreferrer\">imgur.com/a/rV5dW</a>. Thanks. Does Actual and Estimated need their own class aswell?"}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "reply_to_user": {"reputation": 138, "user_id": 4967968, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/988218484523218/picture?type=large", "display_name": "Josh Fletcher", "link": "https://stackoverflow.com/users/4967968/josh-fletcher"}, "edited": false, "score": 0, "creation_date": 1520458651, "post_id": 49161151, "comment_id": 85328897, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/166426/discussion-between-jsteward-and-josh-fletcher\">continue this discussion in chat</a>."}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1520525544, "post_id": 49161151, "comment_id": 85360540, "body": "Based on the discussion yesterday; the issue sounds like it&#39;s in your controller code. That would be specifically the code the uses EF to populate the bare <code>ReportTime</code> and collects that data needed to fill <code>Shifts</code> and <code>Costs</code>. The <code>RosterData</code> method does not seem to have any access to the information it would need to produce a fully formed <code>RosterTime</code>. On the server side once you have a bare <code>RosterTime</code> you&#39;ll need to either populate the <code>Shifts</code> and <code>Costs</code> manually or you can map them and use EF to populate those arrays through an  <code>.Include()</code>"}], "owner": {"reputation": 138, "user_id": 4967968, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/988218484523218/picture?type=large", "display_name": "Josh Fletcher", "link": "https://stackoverflow.com/users/4967968/josh-fletcher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520457417, "creation_date": 1520456573, "last_edit_date": 1520457417, "question_id": 49161151, "link": "https://stackoverflow.com/questions/49161151/restclient-get-pulling-from-data-and-an-array", "title": "RestClient GET pulling from data and an array", "body": "<p>I am trying to pull data out of an API and am needing to get some out of an Array when i pull (or just get the whole array).</p>\n\n<p>I am in C# asp.net Entity Framework</p>\n\n<pre><code>Date string \nIsPublicHoliday bool\n\nShifts = array  \n    employeeId guid  \n    startDate string \n    startTime string\n    duration int\n    unpaidBreaks int\n    notes string\n    roleId guid  \n    Status byte 0 = Draft, 1 = Published, 2 = Confirmed, 3 = Queried \n\n\nCosts array \n    employeeId guid  \n    date string In yyyy-MM-dd format \n    actual object  \n        cost decimal  \n        additionalCost decimal  \n    estimated object  \n        cost decimal  \n        additionalCost decimal  \n</code></pre>\n\n<p>So i need to pull in Date, Some from the shifts array and some from the costs Array.</p>\n\n<p>My current class structure is:</p>\n\n<pre><code>public partial class RosterTime\n{\n    [DatabaseGenerated(DatabaseGeneratedOption.None)]\n    public int SiteID { get; set; }\n\n    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public int RosterTimesUniqueID { get; set; }\n\n    public int RosterTime_Key { get; set; }\n\n    public int Contacts_Key { get; set; }\n\n    public DateTime? StartTime { get; set; }\n\n    public DateTime? EndTime { get; set; }\n\n    public TimeSpan? Breaks { get; set; }\n\n    public double? Hourly_Rate { get; set; }\n\n    public string PayrollID { get; set; }\n\n    [NotMapped]\n    public Array Shifts { get; set; }\n\n    [NotMapped]\n    public Array Costs { get; set; }\n</code></pre>\n\n<p>And My request is as such:</p>\n\n<pre><code>public List&lt;RosterTime&gt; RosterData(string rosterId)\n{\n    var request = Request(\"roster-data/\" + rosterId + \"?startDate=\" + DateTime.Now.AddMonths(-3).ToString(\"yyyy-MM-dd\") + \"&amp;endDate=\" +\n                            DateTime.Now.AddMonths(2).ToString(\"yyyy-MM-dd\"));\n\n    var result = _client.Execute&lt;List&lt;RosterTime&gt;&gt;(request);\n    return result.Data;\n}\n</code></pre>\n\n<p>How do i get the information out of those two arrays and save the data?</p>\n\n<p>EDIT:\nA shift class:</p>\n\n<pre><code>public class Shifts\n{\n    public Guid employeeId { get; set; }\n\n    public string startDate { get; set; }\n\n    public string startTime { get; set; }\n    public int duration { get; set; }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "json", "mongodb", "asp.net-web-api2", "bson"], "comments": [{"owner": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "edited": false, "score": 0, "creation_date": 1520487975, "post_id": 49160910, "comment_id": 85337725, "body": "I can&#39;t reproduce your problem. I&#39;ve created simple model with <code>BsonValue</code> property and it&#39;s serialized correctly with Json.Net (tried version 6.0 and 11.0). Could you please extend your question with model class definition (<code>ReportingSetDefinition</code>) and example of the document that causes the error."}, {"owner": {"reputation": 301, "user_id": 3971814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67931999ff7206ae355db3086eb028ae?s=128&d=identicon&r=PG&f=1", "display_name": "zephos2014", "link": "https://stackoverflow.com/users/3971814/zephos2014"}, "reply_to_user": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "edited": false, "score": 0, "creation_date": 1520530895, "post_id": 49160910, "comment_id": 85363938, "body": "CodeFuller I added the requested information. It is a pretty complicated system so I apologize for the amount of code I had to post. Thank you."}, {"owner": {"reputation": 301, "user_id": 3971814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67931999ff7206ae355db3086eb028ae?s=128&d=identicon&r=PG&f=1", "display_name": "zephos2014", "link": "https://stackoverflow.com/users/3971814/zephos2014"}, "reply_to_user": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "edited": false, "score": 0, "creation_date": 1520531544, "post_id": 49160910, "comment_id": 85364328, "body": "@CodeFuller Also I should add that I too can serialize things correctly if I do it manually using Json.NET. My question is how can I do so using the WebMethod&#39;s behind the scenes serialization?"}, {"owner": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "edited": false, "score": 0, "creation_date": 1520852401, "post_id": 49160910, "comment_id": 85470272, "body": "Seems like the problem is not with Json.Net serializer. Are you sure the response is formatted as JSON? Could you please update your answer with thrown exception with full stack trace?"}], "owner": {"reputation": 301, "user_id": 3971814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67931999ff7206ae355db3086eb028ae?s=128&d=identicon&r=PG&f=1", "display_name": "zephos2014", "link": "https://stackoverflow.com/users/3971814/zephos2014"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 770, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520535315, "creation_date": 1520455619, "last_edit_date": 1520535315, "question_id": 49160910, "link": "https://stackoverflow.com/questions/49160910/web-api-serialization-of-mongodb-bsonvalue-throwing-error", "title": "Web API Serialization of MongoDB BsonValue throwing error", "body": "<p>I have a class that uses MongoDB.Bson.BsonValue as the type for some properties. I can't use anything more specific because I need the property to be able to hold several different types in order to achieve the flexibility required.</p>\n\n<p>So far I have had no problems with this setup between MongoDB and my application, accept when I need to send these objects to the browser from a Web API WebMethod. In this case, the default JSON Serilization, which uses Json.NET behind the scenes, fails to serialize BsonValues to JSON. It gives this error:</p>\n\n<pre><code>Unable to cast object of type 'MongoDB.Bson.BsonString' to type 'MongoDB.Bson.BsonBoolean'.\n</code></pre>\n\n<p>I think what is going on here is that Json.Net is trying to serialize every property but most of the properties of BsonValue throw exceptions as they expect the user to know what type the value is and only use the properties for its actual type (i.e. AsBoolean, AsString, etc). </p>\n\n<p>After a lot of research, it seems like there are two possible fixes for this but I need some more specific info on how to implement them and which one I should use. </p>\n\n<p>The first is making my own MediaTypeFormatter, which I am reluctant to do because we have a very large application and I want to have as little impact on the rest of it as possible, and the MediaTypeFormatter is a global setting. The second is making a JsonConverter that can handle the BsonValue type, but I have some questions about how to do this.</p>\n\n<ul>\n<li><p>First off, how do I hijack the behind the scenes serialization to use my custom JsonConverter ONLY for serializing BsonValues?</p></li>\n<li><p>Second, which method on BsonValue will give me the correct value and format to pass to the JsonWriter in the JsonConverter? I read that ToJson() doesn't necessarily output fully valid Json and the RawValue property is deprecated.</p></li>\n</ul>\n\n<p>I already have a JsonConverter that I use for deserialization, so I will just enable it for serialization as well and implment the WriteJson method.</p>\n\n<p>I am using the MongoDB C# Driver version 2.5.</p>\n\n<p>The following is my JsonConverter:</p>\n\n<pre><code>    public class BsonValueConverter : JsonConverter\n{\n\n    public override bool CanConvert(Type objectType)\n    {\n\n        return (objectType == typeof(BsonValue) || objectType == typeof(BsonNull));\n\n    }\n\n    public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)\n    {\n        BsonValue val = BsonValue.Create(reader.Value);\n        return val;\n    }\n\n    public override bool CanWrite\n    {\n        get { return true; }\n    }\n\n    public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n    {\n        BsonValue val = value as BsonValue;\n        writer.WriteRawValue(val.??? /*What goes here?*/);\n    }\n\n\n}\n</code></pre>\n\n<p>My Webmethod is this: </p>\n\n<pre><code>    [WebMethod(true)]\npublic List&lt;DataPipeline.Model.ReportingSetDefinition&gt; GetAllReportingSetDefinitions()\n{\n    if (!CompanyNameSpace.Web.CompanyPage.GetLoggedInUser().HasValue)\n    {\n        throw new Exception(Utilities.CompanyMessage.UNAUTH_ACCESS_NOT_LOGGED_IN);\n    }\n\n    List&lt;DataPipeline.Model.ReportingSetDefinition&gt; defList = (List&lt;DataPipeline.Model.ReportingSetDefinition&gt;)DataSetDefinitionRepository.GetReportingSetDefinitions(CompanyNameSpace.Web.CompanyPage.GetLoggedInCompany().Value);\n\n    return defList; //this is where behind the scenes serialization to Json happens.\n}\n</code></pre>\n\n<p>Any help is greatly appreciated!</p>\n\n<p><strong>EDIT:</strong> As requested by CodeFuller, here is the model class definition (as well as the class it derives from), and the nested objects that contain the BsonValue and an example of an object that causes the error:</p>\n\n<pre><code>[Serializable]\npublic abstract class AbstractDataSetDefinition : IMongoDocumentModel\n{\n    [BsonId]\n    public string _id { get; set; }\n    public int CompanyID { get; set; }\n    //The left most data feed, which must be the new data that is being processed. Other data sources are joined on this data feed.\n    public string BaseFeed { get; set; }\n    //The source system of the base feed.\n    public string BaseSourceSystem { get; set; }\n    //An array of DataFeedJoin objects can pull in data from other data feeds.\n    public List&lt;DataFeedJoin&gt; Joins { get; set; }\n    public abstract AbstractDataSet GenerateDataSet(RawData rd, Dictionary&lt;int, RawData&gt; rawDataComponents);\n}\n\n[Serializable]\npublic class ReportingSetDefinition : AbstractDataSetDefinition\n{\n\n    //The name of the DataSet that will be generated. This is a handle that\n    //will be used to identify all DataSets generated by this DataSetDefinition.\n    public string ReportingSetName { get; set; }\n    public string ReportingSetFamily { get; set; }\n\n    //Mapping of which fields and from which data feed will populate the various collections of a DataSet.\n    public Dictionary&lt;string, AbstractDataFieldDefinition&gt; Dates { get; set; }\n    public Dictionary&lt;string, AbstractDataFieldDefinition&gt; EmpHierarchy { get; set; }\n    public Dictionary&lt;string, AbstractDataFieldDefinition&gt; ContactHierarchy { get; set; }\n    public Dictionary&lt;string, AbstractDataFieldDefinition&gt; Attributes { get; set; }\n    public Dictionary&lt;string, AbstractDataFieldDefinition&gt; DataFields { get; set; }\n}\n</code></pre>\n\n<p>The actual BsonValue property is nested inside the ReportingSetDefinition inside one of the implementations of AbstractDataFieldDefinition. The relevant classes are below:</p>\n\n<pre><code>[Serializable]\n[BsonKnownTypes(typeof(SimpleDataFieldDefinition), typeof(ComplexNumericDataFieldDefinition), typeof(ComplexStringDataFieldDefinition), typeof(ComplexDateDataFieldDefinition), typeof(ConditionalDataFieldDefinition))]\npublic abstract class AbstractDataFieldDefinition\n{\n    public abstract BsonValue GetFieldValue(Dictionary&lt;int, RawData&gt; RawDataComponents);\n    public abstract Dictionary&lt;string,string&gt; GetDetails();\n\n}\n</code></pre>\n\n<p>And finally:</p>\n\n<pre><code>[Serializable]\npublic class SimpleDataFieldDefinition : AbstractDataFieldDefinition\n{\n    [BsonIgnoreIfNull]\n    public int? JoinID { get; set; }\n    [BsonIgnoreIfNull]\n    public string Field { get; set; }\n    [BsonIgnoreIfNull]\n    public BsonValue DefaultValue { get; set; }\n    [BsonIgnoreIfNull]\n    public bool? IsDate { get; set; }\n\n    public SimpleDataFieldDefinition(){ }\n\n    public SimpleDataFieldDefinition(BsonValue defValue, bool isDate)\n    {\n        DefaultValue = defValue;\n        IsDate = isDate;\n    }\n}\n</code></pre>\n\n<p>Here is an example object in MongoDB that causes the error (I marked the values that are deserialized into BsonValue types in C#:</p>\n\n<pre><code>{\n\"_id\" : \"38_Test_DefaultValues\",\n\"CompanyID\" : 38,\n\"BaseFeed\" : \"TEST\",\n\"BaseSourceSystem\" : \"Company\",\n\"Joins\" : [],\n\"ReportingSetName\" : \"Test_DefaultValues\",\n\"ReportingSetFamily\" : \"Company\",\n\"Dates\" : {},\n\"EmpHierarchy\" : {},\n\"ContactHierarchy\" : {},\n\"Attributes\" : {},\n\"DataFields\" : {\n    \"String Value Test\" : {\n        \"_t\" : \"SimpleDataFieldDefinition\", \n        \"DefaultValue\" : \"Hello\", //This is a BsonValue in C# object\n        \"IsDate\" : false\n    },\n    \"Number Value Test\" : {\n        \"_t\" : \"SimpleDataFieldDefinition\",\n        \"DefaultValue\" : NumberLong(100), //This is a BsonValue in C# object\n        \"IsDate\" : false\n    },\n    \"Date Value Test\" : {\n        \"_t\" : \"SimpleDataFieldDefinition\",\n        \"DefaultValue\" : ISODate(\"2018-01-23T07:00:00.000Z\"), //This is a BsonValue in C# object\n        \"IsDate\" : true\n    },\n    \"Boolean Value Test\" : {\n        \"_t\" : \"SimpleDataFieldDefinition\", \n        \"DefaultValue\" : true, //This is a BsonValue in C# object\n        \"IsDate\" : false\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>EDIT:</strong> I have solved my problem using a workaround, however I don't really consider it a solution to the actual problem. I simply manually serialized my object list and returned a string from the web method, then parsed the Json string in my javascript in the front end. This method causes no errors.</p>\n\n<pre><code>    [WebMethod(true)]\npublic string GetAllReportingSetDefinitions()\n{\n    if (!Company.Web.CompanyPage.GetLoggedInUser().HasValue)\n    {\n        throw new Exception(Utilities.CompanyMessgage.UNAUTH_ACCESS_NOT_LOGGED_IN);\n    }\n\n    //System.Web.Http.GlobalConfiguration.Configuration.Formatters.RemoveAt(0);\n    //System.Web.Http.GlobalConfiguration.Configuration.Formatters.Insert(0, new PipelineUI.Serialization.PipelineToJsonFormatter());\n\n    List&lt;DataPipeline.Model.ReportingSetDefinition&gt; defList = (List&lt;DataPipeline.Model.ReportingSetDefinition&gt;)DataSetDefinitionRepository.GetReportingSetDefinitions(Company.Web.CompanyPage.GetLoggedInCompany().Value);\n\n    //JsonConverter[] converters = { new AbstractDataFieldDefinitionConverter(), new BsonValueConverter() };\n    string json = JsonConvert.SerializeObject(defList);\n\n    //return defList;\n    return json; \n}\n</code></pre>\n\n<p>And in my jsvascript I simply do JSON.Parse() on the return value. It's not ideal, but it works. If anyone can solve the original problem that would be great.</p>\n"}, {"tags": ["c#", "coded-ui-tests"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 1544658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0421b27d19a39547c0ef3ab6074150eb?s=128&d=identicon&r=PG", "display_name": "davefester", "link": "https://stackoverflow.com/users/1544658/davefester"}, "edited": false, "score": 0, "creation_date": 1520460981, "post_id": 49162030, "comment_id": 85329914, "body": "That helps with getting the button but the more complex problem is finding the row with the request number, and then finding that button."}, {"owner": {"reputation": 302, "user_id": 7280392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49f3523ce7c3b6530e462c06f2f43ad5?s=128&d=identicon&r=PG&f=1", "display_name": "Marius Steinbach", "link": "https://stackoverflow.com/users/7280392/marius-steinbach"}, "reply_to_user": {"reputation": 11, "user_id": 1544658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0421b27d19a39547c0ef3ab6074150eb?s=128&d=identicon&r=PG", "display_name": "davefester", "link": "https://stackoverflow.com/users/1544658/davefester"}, "edited": false, "score": 0, "creation_date": 1520461263, "post_id": 49162030, "comment_id": 85330040, "body": "You can not only search for HTML-Children, but also for Parents, if you are using HtmlAgilityPack."}, {"owner": {"reputation": 11, "user_id": 1544658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0421b27d19a39547c0ef3ab6074150eb?s=128&d=identicon&r=PG", "display_name": "davefester", "link": "https://stackoverflow.com/users/1544658/davefester"}, "edited": false, "score": 0, "creation_date": 1521149877, "post_id": 49162030, "comment_id": 85621331, "body": "Again I don&#39;t think this will help me seeing as when working with CodedUI tests you need HTML Elements."}], "tags": [], "owner": {"reputation": 302, "user_id": 7280392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49f3523ce7c3b6530e462c06f2f43ad5?s=128&d=identicon&r=PG&f=1", "display_name": "Marius Steinbach", "link": "https://stackoverflow.com/users/7280392/marius-steinbach"}, "is_accepted": false, "score": 0, "last_activity_date": 1520460624, "creation_date": 1520460624, "answer_id": 49162030, "question_id": 49160853, "link": "https://stackoverflow.com/questions/49160853/trying-to-locate-a-button-in-an-html-table-by-the-inner-text-of-a-cell-in-the-sa/49162030#49162030", "title": "Trying to locate a button in an html table by the inner text of a cell in the same row", "body": "<p>You can achieve this using HtmlAgilityPack (you can install it using Nuget).\nafter you have loaded the Html code to <code>string html</code>, you can search through it like this:</p>\n\n<pre><code>using HtmlAgilityPack;\n\n// Create the HtmlAgilityPack Document\nHtmlDocument Document = new HtmlDocument();\n// Fill the Document\nDocument.LoadHtml(html);\n// use the below function to load the Containing Node\nHtmlNode StartExNode = getStartExNode(Document);\n// Load the Button using the function below\nstring Button = getButton(StartExNode);\n\npublic HtmlNode getStartExNode(HtmlDocument Document)\n{\n    return Document // return the HtmlNode\n        .DocumentNode\n        .Descendants(\"div\") // Get all descendants of the type div\n        .Where(d =&gt;\n            d.Attributes.Contains(\"title\") &amp;&amp; // that conatin a title (you need to check to avoid null exceptions from the next query)\n            d.Attributes[\"title\"].Value.Contains(\"Start Examination\") // the title must match \"Start Examination\" \n        );\n}\n\npublic string getButton(HtmlNode Node)\n{\n    return Node // Return button as string\n        .Descendants(\"button\") // get all descendants of type button\n        .FirstOrDefault() // if there are more, use the first (more check to implement here)\n        .OuterHtml;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 1544658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0421b27d19a39547c0ef3ab6074150eb?s=128&d=identicon&r=PG", "display_name": "davefester", "link": "https://stackoverflow.com/users/1544658/davefester"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521150062, "creation_date": 1520455426, "last_edit_date": 1521150062, "question_id": 49160853, "link": "https://stackoverflow.com/questions/49160853/trying-to-locate-a-button-in-an-html-table-by-the-inner-text-of-a-cell-in-the-sa", "title": "Trying to locate a button in an html table by the inner text of a cell in the same row", "body": "<p>I am writing codedUI tests in C# and I need to locate a button that is in a row based off of what is contained another cell.</p>\n\n<p>The structure of the table is:</p>\n\n<pre><code>&lt;div class=\"requestGrid k-grid k-widget\" id=\"currentRequestArea\" data-bind=\"visible: workGridVisible, kendoGrid: gridOptions\" data-role=\"grid\"&gt;&lt;table role=\"grid\"&gt;&lt;tbody role=\"rowgroup\"&gt;\n&lt;tr data-bind=\"attr: { 'data-rowid': workItemID }, css: { 'k-state-selected': workItemID() === $parent.currentWorkItemID() }, template: 'colTmpl'\" data-rowid=\"2237852\"&gt;    \n&lt;td&gt;\n    &lt;div class=\"btn-group btn-group-sm\"&gt;\n        &lt;div style=\"width: 90px;\"&gt;\n            &lt;div title=\"Start Examination\" style=\"float: left;\" data-toggle=\"tooltip\" data-bind=\"attr: { title: actions.examineMessage }\" data-html=\"true\" data-placement=\"top\"&gt;\n                &lt;button class=\"btn btn-default\" type=\"button\" data-bind=\"clickDisableEnable: $parent.startExamination, enable: actions.canExamine\"&gt;&lt;i class=\"fa fa-folder-open-o\"&gt;&lt;/i&gt;&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/td&gt;\n&lt;td data-bind=\"click: $parent.openRequest\"&gt;\n    &lt;span data-bind=\"text: requestNumber\"&gt;D80103E&lt;/span&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p>I need to locate the div titled \"Start Examination\" based on the text in the cell with the data-bind of requestNumber.</p>\n\n<p>I have been able to locate the span containing the Request Number with this bit of code</p>\n\n<pre><code>        public HtmlSpan Request(string RRNumber)\n    {\n        if ((this.mRequest == null))\n        {                \n            this.mRequest = new HtmlSpan(this);\n            this.mRequest.SearchProperties.Add(new PropertyExpression(HtmlControl.PropertyNames.ControlDefinition, \"data-bind=\\\"text: requestNumber\\\"\", PropertyExpressionOperator.Contains));\n            this.mRequest.SearchProperties[HtmlSpan.PropertyNames.InnerText] = RRNumber; \n        }\n\n        return this.mRequest;\n\n    }\n\n    private HtmlSpan mRequest;\n</code></pre>\n\n<p>My next problem is trying to traverse up to the button that is in a sibling cell. Any help would be appreciated. </p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 2, "creation_date": 1520455424, "post_id": 49160833, "comment_id": 85327268, "body": "That&#39;s very inefficient; you&#39;re recompiling a new lambda &amp; round-tripping to SQL server in each iteration.  And you can have collisions."}, {"owner": {"reputation": 9612, "user_id": 966638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/31d781a78c971a09e39006c8d8cec138?s=128&d=identicon&r=PG", "display_name": "petko_stankoski", "link": "https://stackoverflow.com/users/966638/petko-stankoski"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1520455648, "post_id": 49160833, "comment_id": 85327393, "body": "@SLaks I won&#39;t have round-trips, first I will take all names from the table and then iterate through the list in memory."}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1520460351, "post_id": 49160833, "comment_id": 85329650, "body": "I&#39;m voting to close this question because question about improving <i>working</i> code are off-topic on Stack Overflow. Try <a href=\"https://codereview.stackexchange.com/help/on-topic\">Code Review</a>."}], "answers": [{"tags": [], "owner": {"reputation": 460, "user_id": 1695009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c85359a31cf1799c597227423dfb98d?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Arustamyan", "link": "https://stackoverflow.com/users/1695009/sam-arustamyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1520524673, "creation_date": 1520524673, "answer_id": 49177343, "question_id": 49160833, "link": "https://stackoverflow.com/questions/49160833/creating-extension-method-for-all-entities/49177343#49177343", "title": "Creating extension method for all entities", "body": "<p>Why not create an extension method on IQueryable itself? Something like this:</p>\n\n<pre><code>public static string GetUniqueName&lt;T&gt;(this IQueryable&lt;T&gt; query,\n    Expression&lt;Func&lt;T, string&gt;&gt; nameSelector, string prefix)\n{\n    var lastName = query.Select(nameSelector)\n        .Where(x =&gt; x.StartsWith(prefix))\n        .OrderByDescending(x =&gt; x.Length)\n        .ThenByDescending(x =&gt; x)\n        .FirstOrDefault();\n\n    return prefix + (GetCounter(lastName) + 1);\n}\n\npublic static int GetCounter(string name)\n{\n    if (string.IsNullOrEmpty(name))\n    {\n        return 0;\n    }\n    // Implement the retrieval of the counter from the name\n    throw new NotImplementedException();\n}\n</code></pre>\n\n<p>I don't know what constraints you want to pose on your data, so I assumed no names other than the auto-generated names start with the default prefix to keep it simple.</p>\n"}], "owner": {"reputation": 9612, "user_id": 966638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/31d781a78c971a09e39006c8d8cec138?s=128&d=identicon&r=PG", "display_name": "petko_stankoski", "link": "https://stackoverflow.com/users/966638/petko-stankoski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520524673, "creation_date": 1520455321, "last_edit_date": 1520455478, "question_id": 49160833, "link": "https://stackoverflow.com/questions/49160833/creating-extension-method-for-all-entities", "title": "Creating extension method for all entities", "body": "<p>My context class looks this:</p>\n\n<pre><code>public virtual DbSet&lt;MyTableItem&gt; MyTableItems { get; set; }\npublic virtual DbSet&lt;MyTableProduct&gt; MyTableProducts { get; set; }\npublic virtual DbSet&lt;MyTableKid&gt; MyTableKids { get; set; }\n</code></pre>\n\n<p>And these tables all have different columns.</p>\n\n<p>I want to create an extension method that will check if a name already exists and if it does it will increment it so that it will give me a unique name for a specific column. So if I call it for the MyTableItem which has item_name column, it will look in the values of the item_name column, for MyTableProduct table it will look in the prod_name column, etc.</p>\n\n<p>This is my current method:</p>\n\n<pre><code>public static string GetUniqueName&lt;T&gt;(this DbContext db, Expression&lt;Func&lt;T, bool&gt;&gt; filter, string columnName, string defaultName) where T : class\n{\n    var counter = 0;\n\n    var source = Expression.Parameter(typeof(T), \"source\");\n    var nameFilter = Expression.Lambda&lt;Func&lt;T, bool&gt;&gt;(Expression.Equal(Expression.Property(source, columnName), Expression.Constant(defaultName)), source);\n\n    while (db.Set&lt;T&gt;().Where(nameFilter).FirstOrDefault() != null)\n    {\n        counter++;\n        nameFilter = Expression.Lambda&lt;Func&lt;T, bool&gt;&gt;(Expression.Equal(Expression.Property(source, columnName), Expression.Constant(defaultName + \" (\" + counter + \")\")), source);\n    }\n\n    return defaultName + \" (\" + counter + \")\";\n}\n</code></pre>\n\n<p>And this works, however I don't like that this is an extension method for the whole dbContext class. I think it is better if it's for each of the tables.</p>\n"}, {"tags": ["c#", "oracle", "xamarin", "server", "intranet"], "answers": [{"tags": [], "owner": {"reputation": 592, "user_id": 7189343, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154824345213514/picture?type=large", "display_name": "Art\u016bras Palei\u010dikas", "link": "https://stackoverflow.com/users/7189343/art%c5%abras-palei%c4%8dikas"}, "is_accepted": true, "score": 2, "last_activity_date": 1520455226, "creation_date": 1520455226, "answer_id": 49160819, "question_id": 49160546, "link": "https://stackoverflow.com/questions/49160546/how-to-connect-xamarin-forms-app-with-oracle-remote-database-12c-release-2/49160819#49160819", "title": "How to connect xamarin forms app with oracle remote database 12c release 2?", "body": "<p>Create REST service, do not connect directly to external databases. Rethink you logic thinking about security (all authorization information will be available in decompiled android app), scalability and so on..</p>\n"}], "owner": {"reputation": 40, "user_id": 7829279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/032c23d8ee73b25c467f965a3e029499?s=128&d=identicon&r=PG&f=1", "display_name": "Tirth21896", "link": "https://stackoverflow.com/users/7829279/tirth21896"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1007, "favorite_count": 0, "accepted_answer_id": 49160819, "answer_count": 1, "score": -1, "last_activity_date": 1520455226, "creation_date": 1520454029, "question_id": 49160546, "link": "https://stackoverflow.com/questions/49160546/how-to-connect-xamarin-forms-app-with-oracle-remote-database-12c-release-2", "title": "How to connect xamarin forms app with oracle remote database 12c release 2?", "body": "<p>i am working on xamarin application trying to connect this xamarin pcl(portable class lib) project with a remote database server which uses 12.2 oracle database, I found one article about connecting c# to oracle database server based on that my code something like following ...</p>\n\n<p>xaml code:</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;ContentPage xmlns=\"http://xamarin.com/schemas/2014/forms\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n             xmlns:local=\"clr-namespace:datatest\"\n             x:Class=\"datatest.MainPage\"\n             Title=\"main\"&gt;\n    &lt;StackLayout&gt;\n        &lt;Button Clicked=\"btn_clicked\" Text=\"click me\" /&gt;\n    &lt;/StackLayout&gt;\n\n&lt;/ContentPage&gt;\n</code></pre>\n\n<p>c# code </p>\n\n<pre><code> using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing Xamarin.Forms;\nusing Oracle.DataAccess.Client;\nusing System.Data;\n\nnamespace datatest\n{\n    public partial class MainPage : ContentPage\n    {\n        public MainPage()\n        {\n            InitializeComponent();\n        }\n        string oradb = \"Data Source=(DESCRIPTION =\" + \"(ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))\" + \"(CONNECT_DATA =\" + \"(SERVER = DEDICATED)\" + \"(SERVICE_NAME = orcl.tdsb.on.ca)));\" + \"User Id= system;Password=&lt;strong&gt;Patel218&lt;/strong&gt;;\";\n\n\n        public void btn_click(object sender,EventArgs e) {\n\n            OracleConnection conn = new OracleConnection(oradb);\n            conn.Open();\n            if (conn.State == ConnectionState.Open)\n            {\n                DisplayAlert(\"connected\", \"wow\", \"ok\");\n            }\n            else\n            {\n                DisplayAlert(\"sorry\", \"sorry\", \"ok\");\n            }\n\n            // Close and Dispose OracleConnection object  \n            conn.Close();\n            conn.Dispose();\n\n            if (conn.State == ConnectionState.Closed)\n            {\n                DisplayAlert(\"disconnected\", \"wow\", \"ok\");\n            }\n            else\n            {\n                DisplayAlert(\"sorry\", \"sorry\", \"ok\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And i have double checked every possible thing  still its asking me for system.drawing and entity framework 6.0.0 which also i tried to enter but it is not ready to support some assemblies or some NuGet packeges now is there any other way to connect this kind of xamarin app with remote oracle database which is going to connect with the app using INTRANET connection in local area through a remote server which is on PC.</p>\n"}, {"tags": ["c#", "wpf", "wpftoolkit", "xceed"], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 1008511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b15521a5c75ce9ac536513f8fe1cd8fc?s=128&d=identicon&r=PG", "display_name": "BoJl4apa", "link": "https://stackoverflow.com/users/1008511/bojl4apa"}, "is_accepted": false, "score": 0, "last_activity_date": 1522154781, "creation_date": 1522154781, "answer_id": 49513247, "question_id": 49160476, "link": "https://stackoverflow.com/questions/49160476/wpftoolkit-aero2-failed-to-load/49513247#49513247", "title": "WPFToolkit.Aero2 failed to load", "body": "<p>just had the same issue, while using the WPFToolkit.Extended (standalone, old version)</p>\n\n<p>fixed it by removing the reference I had, and installing the nuget you refer to.</p>\n\n<p>my current references look like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KnRHq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KnRHq.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note, that I <strong>don't</strong> reference \"<strong>WPFToolkit</strong>\", while you - do.\nI would say, try removing the \"WPFToolkit\" reference, see if it helps. </p>\n"}], "owner": {"reputation": 769, "user_id": 1902346, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/6a700e6e67e464edb5fb139102641e6d?s=128&d=identicon&r=PG", "display_name": "user1902346", "link": "https://stackoverflow.com/users/1902346/user1902346"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 465, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522154781, "creation_date": 1520453690, "question_id": 49160476, "link": "https://stackoverflow.com/questions/49160476/wpftoolkit-aero2-failed-to-load", "title": "WPFToolkit.Aero2 failed to load", "body": "<p>I get this error when debugging:\nManaged Debugging Assistant 'BindingFailure' : 'The assembly with display name 'WPFToolkit.Aero2' failed to load in the 'Load' binding context of the AppDomain with ID 1. The cause of the failure was: System.IO.FileNotFoundException: Could not load file or assembly 'WPFToolkit.Aero2, Version=3.5.40128.1, Culture=neutral, PublicKeyToken=31bf3856ad364e35' or one of its dependencies. The system cannot find the file specified.'</p>\n\n<p>I tried uninstall the Extended WPF Toolkit nuget (3.3.0) and install again. didn't solve.</p>\n\n<p>What am I missing ?</p>\n\n<ul>\n<li>I am using VS Enterprise 2017 version 15.5.7, .NET 4.7.1. </li>\n<li>The exception is when I debug Managed debugging assistant on the upper\nline of my Xaml.</li>\n<li>My references are:</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/SK9Mo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SK9Mo.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 5280, "user_id": 439231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DL7Ei.jpg?s=128&g=1", "display_name": "Joe Wilson", "link": "https://stackoverflow.com/users/439231/joe-wilson"}, "edited": false, "score": 1, "creation_date": 1520457379, "post_id": 49160434, "comment_id": 85328265, "body": "This path exists? E:\\Projects\\FBClone\\FBClone\\Account\\Uploads\\"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1520460377, "post_id": 49160434, "comment_id": 85329664, "body": "Suggested reading:  <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>"}], "answers": [{"tags": [], "owner": {"reputation": 394, "user_id": 6788920, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207045659435349/picture?type=large", "display_name": "Phil N DeBlanc", "link": "https://stackoverflow.com/users/6788920/phil-n-deblanc"}, "is_accepted": true, "score": 0, "last_activity_date": 1520460198, "creation_date": 1520460198, "answer_id": 49161942, "question_id": 49160434, "link": "https://stackoverflow.com/questions/49160434/directorynotfoundexception-when-uploading-an-image/49161942#49161942", "title": "DirectoryNotFoundException when uploading an image", "body": "<p>Looking at <a href=\"https://stackoverflow.com/questions/1268766/writing-file-to-web-server-asp-net\">this SO link</a>, it appears that you need a tilde in front of Uploads:</p>\n\n<pre><code>account.file.SaveAs(Server.MapPath(\"~Uploads/\" + FileName));\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 8802494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/603f8d5f1c31a73a5847efee4f8a862e?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Saqib", "link": "https://stackoverflow.com/users/8802494/muhammad-saqib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 49161942, "answer_count": 1, "score": -2, "last_activity_date": 1520460198, "creation_date": 1520453476, "last_edit_date": 1520459505, "question_id": 49160434, "link": "https://stackoverflow.com/questions/49160434/directorynotfoundexception-when-uploading-an-image", "title": "DirectoryNotFoundException when uploading an image", "body": "<p>In this code,  an error occurs when I save a file to disk.</p>\n\n<pre><code>if (ModelState.IsValid)\n{\n    if (account.file != null)\n    {\n        string FileName = Path.GetFileName(account.file.FileName);\n        //Save files to disk\n        account.file.SaveAs(Server.MapPath(\"Uploads/\" + FileName));\n\n        //Add Entry to DataBase\n        string conection = ConfigurationManager.ConnectionStrings[\"ConnectionString\"].ConnectionString;\n        using (SqlConnection con = new SqlConnection(conection))\n        {\n\n            string InsertAccount = \"Insert into tblUser (FirstName,LastName,EmailAdress,UserName,Password,UserImage) values(@fname,@lname,@emailadress,@username,@password,@Userimagepath)\";\n            SqlCommand cmd = new SqlCommand(InsertAccount, con);\n            cmd.Parameters.AddWithValue(\"@fname\", account.FirstName);\n            cmd.Parameters.AddWithValue(\"@lname\", account.LastName);\n            cmd.Parameters.AddWithValue(\"@emailadress\", account.EmailAddress);\n            cmd.Parameters.AddWithValue(\"@username\", account.Username);\n            cmd.Parameters.AddWithValue(\"@password\", account.Password);\n            cmd.Parameters.AddWithValue(\"@UserimagePath\", \"Uploads/\" + FileName);\n            con.Open();\n            cmd.ExecuteNonQuery();\n            con.Close();\n        }\n\n    }\n}\n</code></pre>\n\n<p>Could not find a part of the path <code>E:\\Projects\\FBClone\\FBClone\\Account\\Uploads\\14494605_1912172235673452_6934911680009623037_n.jpg</code>.\nDescription: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. </p>\n\n<p>Exception Details: System.IO.DirectoryNotFoundException: Could not find a part of the path <code>E:\\Projects\\FBClone\\FBClone\\Account\\Uploads\\14494605_1912172235673452_6934911680009623037_n.jpg</code>.</p>\n\n<p>Source Error: </p>\n\n<pre><code>Line 30: string FileName = Path.GetFileName(account.file.FileName);\nLine 31: //Save files to disk\nLine 32: account.file.SaveAs(Server.MapPath(\"Uploads/\" + FileName));\nLine 33: \nLine 34: //Add Entry to DataBase\n</code></pre>\n\n<p>Source File: E:\\Projects\\FBClone\\FBClone\\Controllers\\AccountController.cs    Line: 32</p>\n"}, {"tags": ["c#", "xaml", "mvvm"], "comments": [{"owner": {"reputation": 588, "user_id": 8206887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c02dee972d9e212883be4f83c112f1?s=128&d=identicon&r=PG&f=1", "display_name": "Sudsy1002", "link": "https://stackoverflow.com/users/8206887/sudsy1002"}, "edited": false, "score": 2, "creation_date": 1520453064, "post_id": 49160307, "comment_id": 85326025, "body": "Please clarify what your actual questions is. As it is, I can&#39;t tell."}, {"owner": {"reputation": 953, "user_id": 6839733, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a7901f4883f321c0b966264c81e51e24?s=128&d=identicon&r=PG&f=1", "display_name": "Oystein", "link": "https://stackoverflow.com/users/6839733/oystein"}, "edited": false, "score": 0, "creation_date": 1520453157, "post_id": 49160307, "comment_id": 85326063, "body": "You need a return type on the <code>RemoteComputerVM()</code> method.  Seeing as you return <code>RST</code> which is of type <code>StringBuilder</code>, you need the return type of <code>RemoteComputerVM()</code> to be <code>StringBuilder</code>."}, {"owner": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 1, "creation_date": 1520453262, "post_id": 49160307, "comment_id": 85326130, "body": "You use binding to do this, you need to set the binding source on the list box. The views DataContext property should be the viewmodel, then your bindings in the view tell the view which bits of the viewmodel to connect to the view. Look at databinding in WPF."}, {"owner": {"reputation": 953, "user_id": 6839733, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a7901f4883f321c0b966264c81e51e24?s=128&d=identicon&r=PG&f=1", "display_name": "Oystein", "link": "https://stackoverflow.com/users/6839733/oystein"}, "edited": false, "score": 1, "creation_date": 1520453275, "post_id": 49160307, "comment_id": 85326134, "body": "Also, you&#39;re mixing up the public property / private backing field naming convention.  The convention is to have the lower case first letter on the name of backing field, and uppercase first letter on the public property name."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1520453546, "post_id": 49160307, "comment_id": 85326293, "body": "As a starter, what do you actually want to show in the list box? You know, a list box shows a list/collections of whatever items. But i can&#39;t see no list/collection of anything in your code. Show me in your code where you create/declare that list/collection of items you want to put in the list box..."}, {"owner": {"reputation": 329, "user_id": 3892997, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/kHY6Z.jpg?s=128&g=1", "display_name": "Besiktas", "link": "https://stackoverflow.com/users/3892997/besiktas"}, "reply_to_user": {"reputation": 588, "user_id": 8206887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c02dee972d9e212883be4f83c112f1?s=128&d=identicon&r=PG&f=1", "display_name": "Sudsy1002", "link": "https://stackoverflow.com/users/8206887/sudsy1002"}, "edited": false, "score": 0, "creation_date": 1520453751, "post_id": 49160307, "comment_id": 85326386, "body": "@Sudsy1002 I&#39;m trying to get the WMI results to show in the listbox I have in XAML view"}, {"owner": {"reputation": 329, "user_id": 3892997, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/kHY6Z.jpg?s=128&g=1", "display_name": "Besiktas", "link": "https://stackoverflow.com/users/3892997/besiktas"}, "edited": false, "score": 0, "creation_date": 1520453856, "post_id": 49160307, "comment_id": 85326446, "body": "@elgonzo before I started the MVVM part, I had it showing up directly in the listbox. Long story short, I was using a StringBuilder to gather all the info and then I was planning to show it on the listbox. I&#39;m assuming its a bad approach?"}, {"owner": {"reputation": 329, "user_id": 3892997, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/kHY6Z.jpg?s=128&g=1", "display_name": "Besiktas", "link": "https://stackoverflow.com/users/3892997/besiktas"}, "reply_to_user": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 0, "creation_date": 1520453937, "post_id": 49160307, "comment_id": 85326495, "body": "@Charleh I tried the &lt;window.resources&gt; to bind the source but autosense doesn&#39;t even recognize any code in the ViewModel."}, {"owner": {"reputation": 329, "user_id": 3892997, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/kHY6Z.jpg?s=128&g=1", "display_name": "Besiktas", "link": "https://stackoverflow.com/users/3892997/besiktas"}, "reply_to_user": {"reputation": 953, "user_id": 6839733, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a7901f4883f321c0b966264c81e51e24?s=128&d=identicon&r=PG&f=1", "display_name": "Oystein", "link": "https://stackoverflow.com/users/6839733/oystein"}, "edited": false, "score": 0, "creation_date": 1520453965, "post_id": 49160307, "comment_id": 85326510, "body": "@Oystein I think that&#39;s where I&#39;m getting confused. Can you please show me a code example?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1520454058, "post_id": 49160307, "comment_id": 85326558, "body": "@Besiktas, ask yourself: Is a StringBuilder a collection/list?"}, {"owner": {"reputation": 953, "user_id": 6839733, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a7901f4883f321c0b966264c81e51e24?s=128&d=identicon&r=PG&f=1", "display_name": "Oystein", "link": "https://stackoverflow.com/users/6839733/oystein"}, "edited": false, "score": 0, "creation_date": 1520454164, "post_id": 49160307, "comment_id": 85326602, "body": "@Besiktas See my answer."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "reply_to_user": {"reputation": 953, "user_id": 6839733, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a7901f4883f321c0b966264c81e51e24?s=128&d=identicon&r=PG&f=1", "display_name": "Oystein", "link": "https://stackoverflow.com/users/6839733/oystein"}, "edited": false, "score": 0, "creation_date": 1520454226, "post_id": 49160307, "comment_id": 85326639, "body": "@Oystein, how does that help with the listbox problem? If you are so eager to direct attention to your answer, make at least sure it makes a lick of sense with regard to the question/problem..."}, {"owner": {"reputation": 953, "user_id": 6839733, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a7901f4883f321c0b966264c81e51e24?s=128&d=identicon&r=PG&f=1", "display_name": "Oystein", "link": "https://stackoverflow.com/users/6839733/oystein"}, "edited": false, "score": 0, "creation_date": 1520454434, "post_id": 49160307, "comment_id": 85326749, "body": "@elgonzo See his comments in the code examples in his question, and you&#39;ll see it&#39;s related."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "reply_to_user": {"reputation": 953, "user_id": 6839733, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a7901f4883f321c0b966264c81e51e24?s=128&d=identicon&r=PG&f=1", "display_name": "Oystein", "link": "https://stackoverflow.com/users/6839733/oystein"}, "edited": false, "score": 0, "creation_date": 1520454590, "post_id": 49160307, "comment_id": 85326830, "body": "@Oystein, his real problem is to get the information he wants to display in his GUI to be displayed in his GUI. Your &quot;answer&quot; really doesn&#39;t address that elephant in the room, neither does it even try acknowledging the utter disconnect between StringBuilder and ListBox. which points rather towards a &quot;confusion problem&quot; than a &quot;technical&quot; programming problem..."}, {"owner": {"reputation": 953, "user_id": 6839733, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a7901f4883f321c0b966264c81e51e24?s=128&d=identicon&r=PG&f=1", "display_name": "Oystein", "link": "https://stackoverflow.com/users/6839733/oystein"}, "edited": false, "score": 0, "creation_date": 1520454771, "post_id": 49160307, "comment_id": 85326938, "body": "@elgonzo Seeing as it won&#39;t even build before addressing the return type of <code>RemoteComputerVM()</code> method, and any attempts to set the incorrectly named <code>_results</code> public property will get it stuck in a loop, I think that&#39;s a good place to start.  But hey, please add a better answer."}, {"owner": {"reputation": 329, "user_id": 3892997, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/kHY6Z.jpg?s=128&g=1", "display_name": "Besiktas", "link": "https://stackoverflow.com/users/3892997/besiktas"}, "reply_to_user": {"reputation": 953, "user_id": 6839733, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a7901f4883f321c0b966264c81e51e24?s=128&d=identicon&r=PG&f=1", "display_name": "Oystein", "link": "https://stackoverflow.com/users/6839733/oystein"}, "edited": false, "score": 0, "creation_date": 1520454790, "post_id": 49160307, "comment_id": 85326954, "body": "@Oystein I know Stringbuilder isn&#39;t a collection/list. I actually started this with a textbox. I know it doesn&#39;t help with the question. But thats where does the confusion is coming from. At this point I&#39;m just trying to get something out as result."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "reply_to_user": {"reputation": 953, "user_id": 6839733, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a7901f4883f321c0b966264c81e51e24?s=128&d=identicon&r=PG&f=1", "display_name": "Oystein", "link": "https://stackoverflow.com/users/6839733/oystein"}, "edited": false, "score": 0, "creation_date": 1520454828, "post_id": 49160307, "comment_id": 85326973, "body": "@Oystein, as i said in my comment before, it is a confusion problem, not a programming problem. Also, did you notice there is another answer already that actually tried to to actually address the problem (not by me, btw). Yeah, sure, whatever you say..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1520455027, "post_id": 49160307, "comment_id": 85327073, "body": "@Besiktas, then start by articulating what precisely you want to display in the listbox. I.e., what are the items (&quot;lines&quot;) supposed to be? Each item a different computer with its associated information? Or should the listbox just show information about one computer, with each item/line being one piece of information about that computer? (The foreach loop in your code make me think the former, but i am not sure)"}, {"owner": {"reputation": 329, "user_id": 3892997, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/kHY6Z.jpg?s=128&g=1", "display_name": "Besiktas", "link": "https://stackoverflow.com/users/3892997/besiktas"}, "edited": false, "score": 0, "creation_date": 1520455249, "post_id": 49160307, "comment_id": 85327177, "body": "@elgonzo I&#39;m just trying to get the WMI info from the remote computer to show on the list box. Something like   BuildNumber     : 0000 RegisteredUser  : UserName SerialNumber    : 0000-00000-00000-XXXXX Version         : 10.0.0000   On each line"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1520455298, "post_id": 49160307, "comment_id": 85327205, "body": "Do you mean <code>BuildNumber : 0000 RegisteredUser : UserName SerialNumber : 0000-00000-00000-XXXXX Version : 10.0.0000</code> as one item/line in the listbox? An multiple such lines for different computers?"}, {"owner": {"reputation": 329, "user_id": 3892997, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/kHY6Z.jpg?s=128&g=1", "display_name": "Besiktas", "link": "https://stackoverflow.com/users/3892997/besiktas"}, "edited": false, "score": 0, "creation_date": 1520455393, "post_id": 49160307, "comment_id": 85327247, "body": "yes exactly. Also, it really doesn&#39;t have to be a listbox as long as the format is readable aligned."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "reply_to_user": {"reputation": 329, "user_id": 3892997, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/kHY6Z.jpg?s=128&g=1", "display_name": "Besiktas", "link": "https://stackoverflow.com/users/3892997/besiktas"}, "edited": false, "score": 0, "creation_date": 1520455417, "post_id": 49160307, "comment_id": 85327262, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/166423/discussion-between-elgonzo-and-besiktas\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "is_accepted": false, "score": 0, "last_activity_date": 1520454040, "creation_date": 1520454040, "answer_id": 49160547, "question_id": 49160307, "link": "https://stackoverflow.com/questions/49160307/mvvm-how-to-bind-to-a-listbox/49160547#49160547", "title": "MVVM: How to bind to a ListBox?", "body": "<p><strong>Here's the simplest example to get started, should be self-explanative:</strong></p>\n\n<p>XAML:</p>\n\n<pre><code>&lt;Window\n    x:Class=\"WpfApp1.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:local=\"clr-namespace:WpfApp1\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    Title=\"MainWindow\"\n    Width=\"525\"\n    Height=\"350\"\n    d:DataContext=\"{d:DesignInstance local:Model}\"\n    mc:Ignorable=\"d\"&gt;\n    &lt;Window.DataContext&gt;\n        &lt;local:Model /&gt;\n    &lt;/Window.DataContext&gt;\n    &lt;StackPanel&gt;\n        &lt;Button\n            Command=\"{Binding UpdateText}\"\n            Content=\"Update text\" /&gt;\n        &lt;ListBox ItemsSource=\"{Binding Collection}\" /&gt;\n    &lt;/StackPanel&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>Model:</p>\n\n<pre><code>using System;\nusing System.Collections.ObjectModel;\nusing System.ComponentModel;\nusing System.Globalization;\nusing System.Runtime.CompilerServices;\n\nnamespace WpfApp1\n{\n    internal class Model : INotifyPropertyChanged\n    {\n        private ObservableCollection&lt;string&gt; _collection;\n\n        public Model()\n        {\n            UpdateText = new RelayCommand(UpdateTextExecute);\n            Collection = new ObservableCollection&lt;string&gt;();\n        }\n\n        public RelayCommand UpdateText { get; }\n\n        public ObservableCollection&lt;string&gt; Collection\n        {\n            get =&gt; _collection;\n            set\n            {\n                _collection = value;\n                OnPropertyChanged();\n            }\n        }\n\n        public event PropertyChangedEventHandler PropertyChanged;\n\n        private void UpdateTextExecute(object s)\n        {\n            var text = DateTime.Now.ToString(CultureInfo.InvariantCulture);\n            Collection.Add(text);\n        }\n\n        protected virtual void OnPropertyChanged([CallerMemberName] string propertyName = null)\n        {\n            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\n        }\n    }\n}\n</code></pre>\n\n<p>Command:</p>\n\n<pre><code>using System;\nusing System.Windows.Input;\n\nnamespace WpfApp1\n{\n    public class RelayCommand : ICommand\n    {\n        private readonly Func&lt;object, bool&gt; _canExecute;\n        private readonly Action&lt;object&gt; _execute;\n\n        public RelayCommand(Action&lt;object&gt; execute) : this(execute, s =&gt; true)\n        {\n        }\n\n        public RelayCommand(Action&lt;object&gt; execute, Func&lt;object, bool&gt; canExecute)\n        {\n            _execute = execute;\n            _canExecute = canExecute;\n        }\n\n        public bool CanExecute(object parameter)\n        {\n            return _canExecute(parameter);\n        }\n\n        public void Execute(object parameter)\n        {\n            _execute(parameter);\n        }\n\n        public event EventHandler CanExecuteChanged\n        {\n            add =&gt; CommandManager.RequerySuggested += value;\n            remove =&gt; CommandManager.RequerySuggested -= value;\n        }\n    }\n}\n</code></pre>\n\n<p>Now go and check the documentation on things you don't understand.</p>\n"}], "owner": {"reputation": 329, "user_id": 3892997, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/kHY6Z.jpg?s=128&g=1", "display_name": "Besiktas", "link": "https://stackoverflow.com/users/3892997/besiktas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520454128, "creation_date": 1520452943, "last_edit_date": 1520454110, "question_id": 49160307, "link": "https://stackoverflow.com/questions/49160307/mvvm-how-to-bind-to-a-listbox", "title": "MVVM: How to bind to a ListBox?", "body": "<p>As you will notice I'm new to WPF-MVVM.</p>\n\n<p>I'm trying to build a simple app to understand the basics. I read almost all the questions that's been asked here and some on other sites. I can't seem to wrap my mind around it with the examples/answers given.</p>\n\n<p>First the scenario:</p>\n\n<p>I want to get information from a remote computer using WMI. </p>\n\n<p>On my XAML I have two textboxes for computer name and the WMI_Class(<strong>For testing purposes I was using the Win32_OperatingSystem formated but would want this be optional eventually with different classes</strong>.</p>\n\n<p>In my project I have the following folders:\nViews\nModels\nViewModel</p>\n\n<p>I was able to get all the info I want without the MVVM part. Any help would be appreciated. My codes are below for this simple app.</p>\n\n<p><strong>XAML</strong></p>\n\n<pre><code>&lt;Window x:Class=\"RemoteComputerTest.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    xmlns:local=\"clr-namespace:RemoteComputerTest\"\n    xmlns:vm =\"clr-namespace:RemoteComputerTest.ViewModels\"\n    mc:Ignorable=\"d\"\n    Title=\"MainWindow\" Height=\"350\" Width=\"525\"&gt;\n&lt;Grid&gt;\n    &lt;Grid.ColumnDefinitions&gt;\n        &lt;ColumnDefinition /&gt;\n        &lt;ColumnDefinition /&gt;\n    &lt;/Grid.ColumnDefinitions&gt;\n    &lt;StackPanel Grid.Column=\"0\" Background=\"LightGray\"&gt;\n        &lt;Label Content=\"Computer Name\" /&gt;\n        &lt;TextBox x:Name=\"ComputerName\" Width=\"100\" Height=\"30\" /&gt;\n        &lt;Label Content=\"Class Name\" /&gt;\n    &lt;TextBox x:Name=\"ClassName\"\n                 Width=\"100\"\n                 Height=\"30\" \n             Margin=\"0,10,0,0\"/&gt;\n\n        &lt;Button x:Name=\"Submit\"\n                Height=\"40\"\n                Width=\"60\"\n                Margin=\"0,20,0,0\"\n                Content=\"Submit\"/&gt;\n    &lt;/StackPanel&gt;\n    &lt;ListBox Grid.Column=\"1\" Name=\"ListBox\" Background=\"LightBlue\"&gt;\n\n    &lt;/ListBox&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n\n<p>I've been playing around so much with the code that it may not make sense anymore</p>\n\n<p><strong>Model</strong></p>\n\n<pre><code>namespace RemoteComputerTest.Model\n{\n   public class sysInfo : INotifyPropertyChanged \n{\n    private string _computerName;\n\n    public string ComputerName\n    {\n        get { return _computerName; }\n        set {_computerName = value; }\n    }\n\n    private string _className;\n\n    public string ClassName\n    {\n        get { return _className; }\n        set { _className = value; }\n    }\n\n\n    StringBuilder _result = new StringBuilder();\n\n    public StringBuilder RemoteComputerInfoCustomized(string ComputerName)\n    {\n\n        _result.Clear();\n\n        try\n        {\n            ManagementScope ManagementScope1 = new ManagementScope(string.Format(\"\\\\\\\\{0}\\\\root\\\\cimv2\", ComputerName));\n            ManagementScope1.Connect();\n            ObjectGetOptions objectGetOptions = new ObjectGetOptions();\n            ManagementPath managementPath1 = new ManagementPath(ClassName);\n            ManagementClass ManagementClass1 = new ManagementClass(ManagementScope1, managementPath1, objectGetOptions);\n\n\n            foreach (ManagementObject ManagementObject1 in ManagementClass1.GetInstances())\n            {\n                // Display the remote computer information\n                this._result.Append(string.Format(\"Computer Name : {0}\", ManagementObject1[\"csname\"]));\n                this._result.Append(string.Format(\"Windows Directory : {0}\", ManagementObject1[\"WindowsDirectory\"]));\n                this._result.Append(string.Format(\"Operating System: {0}\", ManagementObject1[\"Caption\"]));\n                this._result.Append(string.Format(\"Version: {0}\", ManagementObject1[\"Version\"]));\n                this._result.Append(string.Format(\"Manufacturer : {0}\", ManagementObject1[\"Manufacturer\"]));\n                this._result.Append(string.Format(\"Latest bootup time : {0}\", ManagementObject1[\"LastBootUpTime\"]));\n            }\n        }\n        catch (Exception ex)\n        {\n            _result.Append(string.Format(\"Can't Connect to Computer: {0}\\n{1}\", ComputerName, ex.Message));\n        }\n\n        return _result;\n    }\n\n\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    private void OnPropertyChanged(string p)\n    {\n        PropertyChangedEventHandler ph = PropertyChanged;\n        if (ph != null)\n            ph(this, new PropertyChangedEventArgs(p));\n    }\n    }\n}\n</code></pre>\n\n<p>As far as the ViewModel, I really don't know what or how to call and write it to the listbox in the xaml. Code might be a mess and I apologize been working on this for few days not and gotten nowhere!</p>\n\n<p><strong>ViewModel</strong></p>\n\n<pre><code>namespace RemoteComputerTest.ViewModels\n{\n   public class sysInfoVM : INotifyPropertyChanged\n    {\n\n    private sysInfo _getremotecomputer;\n    public StringBuilder results;\n\n   //giving error \"must have a return type \n   public RemoteComputerVM(string compName, StringBuilder RST ) \n    {\n        _result = RST;\n        _getremotecomputer = new sysInfo();\n        _getremotecomputer.ComputerName = \"TEST-DESKTOP\";\n\n        return _results; //error here \"because viewmodel returns void keyword must not be followed with an object. Which I don't have void? \n\n\n    }\n\n\n    private StringBuilder Results;\n\n    public StringBuilder _results\n    {\n        get { return Results; }\n        set { _results = value; OnPropertyChanged(\"Results\"); }\n    }\n\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    private void OnPropertyChanged(string p)\n    {\n        PropertyChangedEventHandler ph = PropertyChanged;\n        if (ph != null)\n            ph(this, new PropertyChangedEventArgs(p));\n        }\n    }\n\n   }\n</code></pre>\n"}, {"tags": ["c#", "nunit", "autofixture"], "comments": [{"owner": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 0, "creation_date": 1520453533, "post_id": 49160306, "comment_id": 85326282, "body": "If you put a breakpoint at the <code>ReferenceEquals</code> in the <code>Fails</code> test method, what are the values of <code>container.Content1.Strings</code> and <code>container.Content2.Strings</code>"}, {"owner": {"reputation": 15391, "user_id": 1679537, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/98a2b2fb7ba8e1c1fa8e7bff95d523de?s=128&d=identicon&r=PG", "display_name": "xlecoustillier", "link": "https://stackoverflow.com/users/1679537/xlecoustillier"}, "reply_to_user": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 1, "creation_date": 1520453754, "post_id": 49160306, "comment_id": 85326388, "body": "@Hackerman In the passing test, they contain 3 different strings each, as AF is supposed to do by default when generating lists. In the failing test, they obviously contain nothing (being both a <code>new List&lt;Content&gt;()</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 15391, "user_id": 1679537, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/98a2b2fb7ba8e1c1fa8e7bff95d523de?s=128&d=identicon&r=PG", "display_name": "xlecoustillier", "link": "https://stackoverflow.com/users/1679537/xlecoustillier"}, "edited": false, "score": 0, "creation_date": 1520493927, "post_id": 49167084, "comment_id": 85340174, "body": "Thanks, this makes things clear. I couldn&#39;t agree more on not providing settable collections, struggling with historical code here. Should be done someday. Thanks !"}, {"owner": {"reputation": 454, "user_id": 2009373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHtOj.jpg?s=128&g=1", "display_name": "Alex Povar", "link": "https://stackoverflow.com/users/2009373/alex-povar"}, "edited": false, "score": 1, "creation_date": 1520505176, "post_id": 49167084, "comment_id": 85346920, "body": "BTW, we <a href=\"https://github.com/AutoFixture/AutoFixture/issues/708\" rel=\"nofollow noreferrer\">are going</a> to add <code>With()</code> method overload taking delegate as there are different scenarios when that might be handy. Therefore, if you are forced to have writable collections (e.g. because your type is a DTO), you&#39;ll have the better AutoFixture&#39;s API for that."}], "tags": [], "owner": {"reputation": 208473, "user_id": 126014, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/33526616d4a11f1630d4939b769cfbf9?s=128&d=identicon&r=PG", "display_name": "Mark Seemann", "link": "https://stackoverflow.com/users/126014/mark-seemann"}, "is_accepted": true, "score": 1, "last_activity_date": 1520491984, "creation_date": 1520491984, "answer_id": 49167084, "question_id": 49160306, "link": "https://stackoverflow.com/questions/49160306/why-a-customization-returns-the-same-instance-when-applied-on-two-different-prop/49167084#49167084", "title": "Why a customization returns the same instance when applied on two different properties?", "body": "<p>The <code>Customize&lt;T&gt;</code> API may be confusing, which is all my fault, but the delegates inside only run once, when you're done defining the customization. I understand why using delegates looks like deferred execution, but it isn't; it's a DSL. This sometimes causes confusion, which is an indication that it should have been designed differently, but now, ten years later, this is the API we have.</p>\n\n<p>The customization in the OP is equivalent to doing this:</p>\n\n<pre><code>public void Customize(IFixture fixture)\n{\n    var strings = new List&lt;string&gt;();\n    fixture.Customize&lt;Content&gt;(c =&gt; c\n        .With(x =&gt; x.Strings, strings));\n}\n</code></pre>\n\n<p>The <code>Customize(IFixture)</code> method only runs once per fixture. Notice that the arguments to <code>With</code> are made up of a lambda expression, and an object. The second argument is just an object, and since C# is eagerly evaluated, even if you put a method call there, that method call evaluates before <code>With</code> is called.</p>\n\n<p>What this customization does, then, is to create an empty list of strings (or, if you use <code>CreateMany</code>, a populated list of strings), and register <code>Content</code> such that, every time a <code>Content</code> object is created, its <code>Strings</code> property is assigned that particular object.</p>\n\n<p>To work around the problem, you could do something like this:</p>\n\n<pre><code>public void Customize(IFixture fixture)\n{\n    fixture.Customize&lt;Content&gt;(c =&gt; c\n        .Without(x =&gt; x.Strings)\n        .Do(x =&gt;\n        {\n            x.Strings = fixture.CreateMany&lt;string&gt;().ToList();\n        }));\n}\n</code></pre>\n\n<p>The <code>Do</code> method gives you true deferred execution, but (IIRC) the order in which it executes isn't strictly defined, so you should also use <code>.Without(x =&gt; x.Strings)</code> to ensure that AutoFixture doesn't overwrite the effects of the <code>Do</code> block.</p>\n\n<p>This passes both tests.</p>\n\n<p>All that said, you should <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/design-guidelines/guidelines-for-collections\" rel=\"nofollow noreferrer\">avoid writable collection properties</a>:</p>\n\n<blockquote>\n  <p><strong>DO NOT</strong> provide settable collection properties.</p>\n</blockquote>\n\n<p>If you follow the official Microsoft design guidelines, AutoFixture tends to work better for you.</p>\n"}], "owner": {"reputation": 15391, "user_id": 1679537, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/98a2b2fb7ba8e1c1fa8e7bff95d523de?s=128&d=identicon&r=PG", "display_name": "xlecoustillier", "link": "https://stackoverflow.com/users/1679537/xlecoustillier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 49167084, "answer_count": 1, "score": 1, "last_activity_date": 1520492028, "creation_date": 1520452935, "last_edit_date": 1520492028, "question_id": 49160306, "link": "https://stackoverflow.com/questions/49160306/why-a-customization-returns-the-same-instance-when-applied-on-two-different-prop", "title": "Why a customization returns the same instance when applied on two different properties?", "body": "<p>I'm encountering this strange behavior on AutoFixture 3.50.7 and 4.0 (Nunit 3.7) :</p>\n\n<p>When I generate an object containing two properties of the same type using the vanilla <code>Fixture</code> object, the test passes.</p>\n\n<p>When I apply this (admittedly dummy) customization, the test fails. The generated lists are in fact the same instance.</p>\n\n<p>What is happening ?</p>\n\n<pre><code>[TestFixture]\npublic class Test\n{\n    [Test]\n    public void Succeeds()\n    {\n        var fixture = new Fixture();\n\n        var container = fixture.Create&lt;Container&gt;();\n\n        ReferenceEquals(container.Content1.Strings, container.Content2.Strings).Should().BeFalse();\n    }\n\n    [Test]\n    public void Fails()\n    {\n        var fixture = new Fixture().Customize(new TestContentCustomization());\n\n        var container = fixture.Create&lt;Container&gt;();\n\n        ReferenceEquals(container.Content1.Strings, container.Content2.Strings).Should().BeFalse();\n    }\n}\n\npublic class TestContentCustomization : ICustomization\n{\n    public void Customize(IFixture fixture)\n    {\n        fixture.Customize&lt;Content&gt;(c =&gt; c\n            .With(x =&gt; x.Strings, new List&lt;string&gt;()));\n    }\n}\n\npublic class Container\n{\n    public Content Content1 { get; set; }\n    public Content Content2 { get; set; }\n}\n\npublic class Content\n{\n    public IList&lt;string&gt; Strings { get; set; }\n}\n</code></pre>\n\n<p>The test also fails if I ask AutoFixture to generate <code>fixture.CreateMany&lt;string&gt;(3).ToList()</code> instead of <code>new List&lt;string&gt;()</code> but of course, this time the list contains 3 different strings.</p>\n"}, {"tags": ["c#", "android", "unity3d", "onclick"], "comments": [{"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 2, "creation_date": 1520452379, "post_id": 49160100, "comment_id": 85325682, "body": "If you are actually using Unity 3.1f1, I suggest you update. That thing is very old that I am even surprised it opens at-all. If you update and still have issues then post your code in your question and a screenshot o where you put the breakpoint that&#39;s not working"}, {"owner": {"reputation": 1859, "user_id": 5260872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e08272816864f87e6b904fb63758f5bf?s=128&d=identicon&r=PG", "display_name": "Nish\u0101n Wickramarathna", "link": "https://stackoverflow.com/users/5260872/nish%c4%81n-wickramarathna"}, "edited": false, "score": 0, "creation_date": 1520494992, "post_id": 49160100, "comment_id": 85340711, "body": "Can you post your code? Its hard to guess the problem by just reading your description ."}, {"owner": {"reputation": 1, "user_id": 9352264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493191fd9c516e51f556b8d15d5c8ec3?s=128&d=identicon&r=PG&f=1", "display_name": "\u0420\u0443\u0441\u043b\u0430\u043d \u0428\u0435\u0432\u0447\u0435\u043d\u043a\u043e", "link": "https://stackoverflow.com/users/9352264/%d0%a0%d1%83%d1%81%d0%bb%d0%b0%d0%bd-%d0%a8%d0%b5%d0%b2%d1%87%d0%b5%d0%bd%d0%ba%d0%be"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1520525239, "post_id": 49160100, "comment_id": 85360336, "body": "@Programmer Does not show an error, or shows that I pressed the button. I added screenshots, I changed the version of Unity"}], "owner": {"reputation": 1, "user_id": 9352264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493191fd9c516e51f556b8d15d5c8ec3?s=128&d=identicon&r=PG&f=1", "display_name": "\u0420\u0443\u0441\u043b\u0430\u043d \u0428\u0435\u0432\u0447\u0435\u043d\u043a\u043e", "link": "https://stackoverflow.com/users/9352264/%d0%a0%d1%83%d1%81%d0%bb%d0%b0%d0%bd-%d0%a8%d0%b5%d0%b2%d1%87%d0%b5%d0%bd%d0%ba%d0%be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522122765, "creation_date": 1520452131, "last_edit_date": 1522122765, "question_id": 49160100, "link": "https://stackoverflow.com/questions/49160100/the-button-is-not-processed-unity3d-android", "title": "The button is not processed Unity3D - Android", "body": "<p>The button is not processed when it is clicked, although the script to the button is connected, the method is called, but the application does not stop using breakpoint when the button is clicked, what could be the problem?\nUnity 3.1f1 </p>\n\n<p><a href=\"https://i.stack.imgur.com/N1COa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N1COa.jpg\" alt=\"First image\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/BOIn6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BOIn6.jpg\" alt=\"Second image\"></a></p>\n"}, {"tags": ["c#", "2d", "xna-4.0", "z-order", "top-down"], "comments": [{"owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1520456432, "post_id": 49160079, "comment_id": 85327798, "body": "Since you&#39;re a newbie, something like <a href=\"http://www.mapeditor.org\" rel=\"nofollow noreferrer\">mapeditor.org</a> is probably going to help you."}, {"owner": {"reputation": 51, "user_id": 7148158, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24f061469676412a798592aa330c5086?s=128&d=identicon&r=PG&f=1", "display_name": "Lonchenzo", "link": "https://stackoverflow.com/users/7148158/lonchenzo"}, "reply_to_user": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1520457024, "post_id": 49160079, "comment_id": 85328095, "body": "Thank you. I would use this, but i have to find a way to do this through visual studio for my school"}, {"owner": {"reputation": 51, "user_id": 7148158, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24f061469676412a798592aa330c5086?s=128&d=identicon&r=PG&f=1", "display_name": "Lonchenzo", "link": "https://stackoverflow.com/users/7148158/lonchenzo"}, "reply_to_user": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 1, "creation_date": 1520457415, "post_id": 49160079, "comment_id": 85328282, "body": "that and id rather learn the hard way"}, {"owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1520458263, "post_id": 49160079, "comment_id": 85328725, "body": "Take a look at my answer, I guess you&#39;ll see the point, alternatively ask at <a href=\"https://gamedev.stackexchange.com/\">gamedev.stackexchange.com</a>, good luck !"}], "answers": [{"tags": [], "owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "is_accepted": true, "score": 1, "last_activity_date": 1520458220, "creation_date": 1520458220, "answer_id": 49161534, "question_id": 49160079, "link": "https://stackoverflow.com/questions/49160079/2d-depth-system-method-xna-c/49161534#49161534", "title": "2D Depth System Method XNA C#", "body": "<p><strong>Here's a way to do it:</strong></p>\n\n<p>Slice your sprites and do tile-based rendering, starting from the ground up to the sky.</p>\n\n<p>Say you have a tile grid whose each is 32*32 pixels, if you have a tree that is 32*96 pixels, then when sliced it will be like:</p>\n\n<pre><code>A // layer 2\nA // layer 1\nA // layer 0 (floor)\n</code></pre>\n\n<p><strong>Logic:</strong></p>\n\n<ul>\n<li>draw all tiles on floor 0</li>\n<li>draw all tiles on floor 1</li>\n<li>etc ...</li>\n</ul>\n\n<p>Then obviously the part that should hide your player will be drawn correctly (before, if player is behind).</p>\n\n<p>(note that the lowest tile of the tree should not be walk-able)</p>\n"}], "owner": {"reputation": 51, "user_id": 7148158, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24f061469676412a798592aa330c5086?s=128&d=identicon&r=PG&f=1", "display_name": "Lonchenzo", "link": "https://stackoverflow.com/users/7148158/lonchenzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "accepted_answer_id": 49161534, "answer_count": 1, "score": 3, "last_activity_date": 1520784862, "creation_date": 1520452053, "last_edit_date": 1520784862, "question_id": 49160079, "link": "https://stackoverflow.com/questions/49160079/2d-depth-system-method-xna-c", "title": "2D Depth System Method XNA C#", "body": "<p>I am creating a 2D Top-Down RPG game like the Legend of Zelda: A link to the past.</p>\n\n<p>when the player is drawn i want to update the tree depth so that it is over and under the player when the player Y position is higher or lower than the trees Y position, i think whether the tree is on top or not should be decided by the players Y position, being lower or higher. is it possible to do this in this way? can i change the layer depth in the update method?</p>\n\n<p>I'm not sure you can. i'm not very experienced when coding. If there's a right way of doing this even without useing the spriteBatch layer depth i would appreciate any help. </p>\n\n<p>I have discovered how to use the layer depth in the </p>\n\n<pre><code>spriteBatch.Draw();\n</code></pre>\n\n<p>Method. </p>\n\n<p>What i am attempting to do is shown in the images below</p>\n\n<p><a href=\"https://i.stack.imgur.com/2PO8e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2PO8e.png\" alt=\"Woman in Front of Tree\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/vubo6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vubo6.png\" alt=\"Woman Behind Tree\"></a></p>\n\n<p>The code i am using to separate trees from grass tiles uses layer depth like below:</p>\n\n<pre><code>spriteBatch.Begin(SpriteSortMode.FrontToBack, blendState = null, samplerState = null, DepthStencilState.DepthRead);\n\nspriteBatch.Draw(tree, treePos, null, null, Vector2.Zero, 0, null, Color.White, SpriteEffects.None, 0.6f);\n\nspriteBatch.End();\n</code></pre>\n\n<p>Tile draw method for the </p>\n\n<pre><code>tile\n</code></pre>\n\n<p>has the float value set </p>\n\n<pre><code>0.5f\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/PYGkU.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PYGkU.gif\" alt=\"Drawn image line with values and meanings\"></a></p>\n"}, {"tags": ["c#", "unit-testing", "moq"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1520452127, "post_id": 49160072, "comment_id": 85325542, "body": "That is not how to use the Verify call. It is used to verify if a member on the mock was invoked. not to assert values. check documentation <a href=\"https://github.com/Moq/moq4/wiki/Quickstart#verification\" rel=\"nofollow noreferrer\">github.com/Moq/moq4/wiki/Quickstart#verification</a>"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1520452339, "post_id": 49160072, "comment_id": 85325660, "body": "This appears to be an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. What is the ultimate goal you are trying to achieve? Provide more context about what you are trying to test and maybe more help can be provided"}, {"owner": {"reputation": 57, "user_id": 9145832, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59b1caac21873ed0120f0be4194d5424?s=128&d=identicon&r=PG&f=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/9145832/learner"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1520452351, "post_id": 49160072, "comment_id": 85325668, "body": "Ok, thanks for this :) shouldve look there before spending this time :). My goal was and is basically to learn more about moq, so I can use it for unit testing."}, {"owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "edited": false, "score": 1, "creation_date": 1522104615, "post_id": 49160072, "comment_id": 86007728, "body": "Just to add an alternative option to Nkosi&#39;s &quot;Fluent Assertions&quot; suggestion, <a href=\"http://nunit.org/\" rel=\"nofollow noreferrer\">NUnit</a> is a widely-used unit testing framework. With that, you could write <code>Assert.That(mockNoteContext.Object.Notes, Has.Count.EqualTo(1))</code>, which is also quite a natural way of specifying the expected outcome. Or you could stick with <code>Assert.That(mockNoteContext.Object.Notes,Count(), Is.EqualTo(1))</code>."}], "answers": [{"tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 0, "last_activity_date": 1520453248, "last_edit_date": 1520453248, "creation_date": 1520452491, "answer_id": 49160184, "question_id": 49160072, "link": "https://stackoverflow.com/questions/49160072/moq-evaluate-a-boolean-expression-in-verify/49160184#49160184", "title": "Moq, evaluate a boolean expression in Verify(()", "body": "<p>That is not how to use the <code>Verify</code> call. It is used to verify if a member on the mock was invoked. Not to assert values. </p>\n\n<p>Review the documentation <a href=\"https://github.com/Moq/moq4/wiki/Quickstart#verification\" rel=\"nofollow noreferrer\">https://github.com/Moq/moq4/wiki/Quickstart#verification</a></p>\n\n<p>What you suggested at the end of your question is the advised way to assert values.</p>\n\n<pre><code>var expected = 1;\nvar noteCount = mockNoteContext.Object.Notes.Count();\nAssert.AreEqual(expected, noteCount);\n</code></pre>\n\n<p>Reference <a href=\"https://github.com/Moq/moq4/wiki/Quickstart\" rel=\"nofollow noreferrer\">Moq Quickstart</a> to get a better understanding of how to use the mocking framework.</p>\n\n<p>There are also libraries that are used specifically for assertions.</p>\n\n<p>One such library is <a href=\"http://fluentassertions.com/\" rel=\"nofollow noreferrer\">Fluent Assertions</a></p>\n\n<blockquote>\n  <p>Fluent Assertions is a set of .NET extension methods that allow you to more naturally specify the expected outcome of unit tests.</p>\n</blockquote>\n\n<p>for example</p>\n\n<pre><code>var expected = 1;\nvar noteCount = mockNoteContext.Object.Notes.Count();\nnoteCount.Should().Be(expected); //&lt;-- fluent assertion\n</code></pre>\n\n<p>The two libraries can be used together to help when testing.</p>\n"}], "owner": {"reputation": 57, "user_id": 9145832, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59b1caac21873ed0120f0be4194d5424?s=128&d=identicon&r=PG&f=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/9145832/learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 819, "favorite_count": 0, "accepted_answer_id": 49160184, "answer_count": 1, "score": 1, "last_activity_date": 1520453526, "creation_date": 1520452022, "last_edit_date": 1520453526, "question_id": 49160072, "link": "https://stackoverflow.com/questions/49160072/moq-evaluate-a-boolean-expression-in-verify", "title": "Moq, evaluate a boolean expression in Verify(()", "body": "<p>Ok right, I'm trying to learn a bit about Moq and something puzzles me.</p>\n\n<p>I can setup a verify method to check if a method has been called, and this works perfectly. But I'd like to try something else:</p>\n\n<p>So, this is fine:</p>\n\n<pre><code>mockNoteContext.Verify(ctx =&gt; ctx.SaveChanges(), Times.Once);\n</code></pre>\n\n<p>But I try to stretch it a bit to do more checks:</p>\n\n<pre><code>mockNoteContext.Verify(ctx =&gt; ctx.Notes.Count() == 1);\n</code></pre>\n\n<p>Doesn't work, so I started playing around a bit and got the following:</p>\n\n<pre><code>Expression&lt;Func&lt;NoteContext, bool&gt;&gt; expr = ctx =&gt; ctx.Notes.Count() == 1;\nmockNoteContext.Verify(It.Is&lt;Expression&lt;Func&lt;NoteContext, bool&gt;&gt;&gt;(e =&gt; e == expr));\n</code></pre>\n\n<p>Which just gives a null value exception. But I don't understand why. Probably it doesn't know what to do with 'e'?. This all feels clunky to boot. How can I set this up properly?</p>\n\n<p>Of course I know I can just read:</p>\n\n<pre><code>var noteCount = mockNoteContext.Object.Notes.Count();\n</code></pre>\n\n<p>And Assert with that, but I'm just curious how I could leverage <code>Verify</code> to handle this for me :)</p>\n\n<p>Any help is welcome!</p>\n"}, {"tags": ["c#", "appdomain", "vstest.console.exe", "appdomainsetup"], "comments": [{"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1520454157, "post_id": 49160044, "comment_id": 85326599, "body": "Where are you trying to access <code>_Domain.DynamicDirectory</code>?  I don&#39;t see it in your code at all."}, {"owner": {"reputation": 323, "user_id": 2934433, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dfcae4424198ef593729f3f7f0435317?s=128&d=identicon&r=PG&f=1", "display_name": "user2934433", "link": "https://stackoverflow.com/users/2934433/user2934433"}, "reply_to_user": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1520457438, "post_id": 49160044, "comment_id": 85328289, "body": "I am doing it in next line using _Domain.DynamicDirectory. Which throws error &#39;The given path&#39;s format is not supported.&#39;, inspecting _Domain shows it does not even have property defined"}, {"owner": {"reputation": 7052, "user_id": 2084315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/650350a4564c8b0eaeddbe972a48f076?s=128&d=identicon&r=PG&f=1", "display_name": "ps2goat", "link": "https://stackoverflow.com/users/2084315/ps2goat"}, "edited": false, "score": 0, "creation_date": 1520630482, "post_id": 49160044, "comment_id": 85409917, "body": "which version of .net are you using?"}, {"owner": {"reputation": 323, "user_id": 2934433, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dfcae4424198ef593729f3f7f0435317?s=128&d=identicon&r=PG&f=1", "display_name": "user2934433", "link": "https://stackoverflow.com/users/2934433/user2934433"}, "edited": false, "score": 0, "creation_date": 1520633493, "post_id": 49160044, "comment_id": 85411183, "body": ".NET Framework 4.6.2"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1520658711, "post_id": 49160044, "comment_id": 85416347, "body": "You will have to go slower.  &quot;inspecting _Domain&quot; is not going to help you, it is a proxy.  Use <code>var path = _Domain.DynamicDirectory;</code> and tell us exactly what you see."}], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 2934433, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dfcae4424198ef593729f3f7f0435317?s=128&d=identicon&r=PG&f=1", "display_name": "user2934433", "link": "https://stackoverflow.com/users/2934433/user2934433"}, "edited": false, "score": 0, "creation_date": 1520832653, "post_id": 49206115, "comment_id": 85460761, "body": "It worked.  Just a doubt so with stack trace how did you endup realising that it is because of illegal character in friendly name."}, {"owner": {"reputation": 1349, "user_id": 8672540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12936715a70f4eab018cabe75f7f0e7e?s=128&d=identicon&r=PG&f=1", "display_name": "Marius", "link": "https://stackoverflow.com/users/8672540/marius"}, "reply_to_user": {"reputation": 323, "user_id": 2934433, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dfcae4424198ef593729f3f7f0435317?s=128&d=identicon&r=PG&f=1", "display_name": "user2934433", "link": "https://stackoverflow.com/users/2934433/user2934433"}, "edited": false, "score": 0, "creation_date": 1520835162, "post_id": 49206115, "comment_id": 85461587, "body": "I edited my answer and tried to clarify my line of thought when I looked at the stack trace and the reference source code."}], "tags": [], "owner": {"reputation": 1349, "user_id": 8672540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12936715a70f4eab018cabe75f7f0e7e?s=128&d=identicon&r=PG&f=1", "display_name": "Marius", "link": "https://stackoverflow.com/users/8672540/marius"}, "is_accepted": true, "score": 2, "last_activity_date": 1520835006, "last_edit_date": 1520835006, "creation_date": 1520663620, "answer_id": 49206115, "question_id": 49160044, "link": "https://stackoverflow.com/questions/49160044/appdomain-dynamicdirectory-is-not-generated/49206115#49206115", "title": "AppDomain.DynamicDirectory is not generated", "body": "<p><strong>Solution</strong></p>\n\n<p>Check if the <code>AppDomain.CurrentDomain.FriendlyName</code> contains illegal characters such as a colon (:). If yes you should sanitize <code>setup.ApplicationName</code> with one of the methods discussed in the SO question <a href=\"https://stackoverflow.com/questions/146134/how-to-remove-illegal-characters-from-path-and-filenames\">How to remove illegal characters from path and filenames?</a>.</p>\n\n<p><strong>Background</strong></p>\n\n<p>When I debugged the test I got a <code>System.NotSupportedException</code> with the message <code>The given path's format is not supported.</code>. </p>\n\n<p>The stack trace was</p>\n\n<pre><code>at System.Security.Permissions.FileIOPermission.EmulateFileIOPermissionChecks(String fullPath)\nat System.Security.Permissions.FileIOPermission.QuickDemand(FileIOPermissionAccess access, String fullPath, Boolean checkForDuplicates, Boolean needFullPath)\nat System.AppDomain.get_DynamicDirectory()\nat System.AppDomain.get_DynamicDirectory()\nat SO_AppDomain.Sut.Method() in &lt;path&gt;\\Program.cs:line 30\nat UnitTestProject1.UnitTest1.TestMethod1() in &lt;path&gt;\\UnitTest1.cs:line 14\n</code></pre>\n\n<p>And the value of <code>AppDomain.CurrentDomain.FriendlyName</code> was <code>TestSourceHost: Enumering assembly</code>. </p>\n\n<p>A quick look at the <a href=\"https://referencesource.microsoft.com/#mscorlib/system/io/pathinternal.cs,c6ce0a4dfda921b3\" rel=\"nofollow noreferrer\">reference source of <code>EmulateFileIOPermissionChecks</code></a> - which is the last method that appears in the stack trace - revealed that it throws a <code>NotSupportedException</code> if <a href=\"https://referencesource.microsoft.com/#mscorlib/system/io/pathinternal.cs,c6ce0a4dfda921b3\" rel=\"nofollow noreferrer\"><code>PathInternal.HasInvalidVolumeSeparator</code></a> returns true. That method contains the following comment:</p>\n\n<pre><code> // Toss out paths with colons that aren't a valid drive specifier.\n // Cannot start with a colon and can only be of the form \"C:\" or \"\\\\?\\C:\".\n</code></pre>\n\n<p>The string <code>TestSourceHost: Enumering assembly</code> clearly violates that rule.</p>\n"}], "owner": {"reputation": 323, "user_id": 2934433, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dfcae4424198ef593729f3f7f0435317?s=128&d=identicon&r=PG&f=1", "display_name": "user2934433", "link": "https://stackoverflow.com/users/2934433/user2934433"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 1, "accepted_answer_id": 49206115, "answer_count": 1, "score": 7, "last_activity_date": 1520835006, "creation_date": 1520451882, "last_edit_date": 1520638333, "question_id": 49160044, "link": "https://stackoverflow.com/questions/49160044/appdomain-dynamicdirectory-is-not-generated", "title": "AppDomain.DynamicDirectory is not generated", "body": "<p>I am creating a AppDomain using the below code</p>\n\n<pre><code>String pa = @\"C:\\Users\\user\\AppData\\Local\\Temp\\2\\db5fjamk.xnl\";\nSystem.IO.Directory.CreateDirectory(pa);\nAppDomainSetup setup = new AppDomainSetup();\nsetup.ApplicationBase = AppDomain.CurrentDomain.BaseDirectory; //f:\\projectpath\\out\\debug-i386-unittest\\UnitTests\nsetup.ApplicationName = string.Concat(AppDomain.CurrentDomain.FriendlyName, DateTime.UtcNow.Ticks); //UnitTestAdapter: Running test636559691791186101\nsetup.DynamicBase = pa;\nEvidence evidence = AppDomain.CurrentDomain.Evidence;\n_Domain = AppDomain.CreateDomain(setup.ApplicationName, evidence, setup);\n</code></pre>\n\n<p>But _Domain.DynamicDirectory property does not exist. <a href=\"https://msdn.microsoft.com/en-us/library/system.appdomain.dynamicdirectory(v=vs.110).aspx\" rel=\"noreferrer\">https://msdn.microsoft.com/en-us/library/system.appdomain.dynamicdirectory(v=vs.110).aspx</a> clearly says the AppDomainSetup.DynamicBase is used. </p>\n\n<p>What could be the reason executing in vstest.console.exe changes the behavior with App Domains. Is there a work around.</p>\n"}, {"tags": ["c#", "generics"], "comments": [{"owner": {"reputation": 2633, "user_id": 5359302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4edae8a9b44323b8b6908d4b0d410730?s=128&d=identicon&r=PG&f=1", "display_name": "George Alexandria", "link": "https://stackoverflow.com/users/5359302/george-alexandria"}, "edited": false, "score": 0, "creation_date": 1520451959, "post_id": 49160019, "comment_id": 85325453, "body": "<code>return this; &#47;&#47; Nope return (T) this; &#47;&#47; Nope</code> of course it wouldn&#39;t work because <code>this</code> is <code>Base&lt;T, TI&gt;</code>, not <code>TI</code>. Just try to <code>public Base&lt;T, TI&gt;Instance()</code>"}, {"owner": {"reputation": 7130, "user_id": 3311799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vPfSH.png?s=128&g=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/3311799/johnny"}, "edited": false, "score": 0, "creation_date": 1520451986, "post_id": 49160019, "comment_id": 85325470, "body": "Do you mean if <code>IFoo&lt;T&gt;</code>? Problem is that your <code>Base</code> class doesn&#39;t implement interfaces open generic type..."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1520451994, "post_id": 49160019, "comment_id": 85325477, "body": "No, that would not make sense. Also I do not see why you would want to, the first piece of code without the generics already expresses what you want to accomplish."}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 1, "creation_date": 1520452141, "post_id": 49160019, "comment_id": 85325551, "body": "In the second snippet <code>this</code> is some closed variant of <code>Base&lt;T, TI&gt;</code> not <code>TI</code>"}, {"owner": {"reputation": 601, "user_id": 4257226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/00e242d166545b1cadb4452890101b2b?s=128&d=identicon&r=PG", "display_name": "TiggerToo", "link": "https://stackoverflow.com/users/4257226/tiggertoo"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1520453040, "post_id": 49160019, "comment_id": 85326010, "body": "@Igor because I have 20 different classes that do what Foo does..."}, {"owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1520453807, "post_id": 49160019, "comment_id": 85326418, "body": "!stupidity possibility alert!  Can&#39;t all IFoo&lt;T&gt; derive from IFoo a la IEnumerable?"}], "answers": [{"comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "reply_to_user": {"reputation": 7130, "user_id": 3311799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vPfSH.png?s=128&g=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/3311799/johnny"}, "edited": false, "score": 1, "creation_date": 1520452344, "post_id": 49160063, "comment_id": 85325662, "body": "@Johnny: He&#39;s trying to use CRTP; as long as the derived classes do that correctly, this is fine."}, {"owner": {"reputation": 7130, "user_id": 3311799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vPfSH.png?s=128&g=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/3311799/johnny"}, "edited": false, "score": 0, "creation_date": 1520452476, "post_id": 49160063, "comment_id": 85325734, "body": "Agree, just worth mentioning."}], "tags": [], "owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "is_accepted": true, "score": 5, "last_activity_date": 1520451969, "creation_date": 1520451969, "answer_id": 49160063, "question_id": 49160019, "link": "https://stackoverflow.com/questions/49160019/how-can-i-return-a-class-instance-with-a-generic-type-as-an-interface-with-a-gen/49160063#49160063", "title": "How can I return a class instance with a generic type as an interface with a generic type?", "body": "<p>C# does not support this.</p>\n\n<p>The best you can do is</p>\n\n<pre><code>public class Base&lt;T, TI&gt; where T : Base&lt;T, TI&gt;, TI\n{\n    public TI Instance()\n    {\n        return (TI) (object) this; // Yep\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 601, "user_id": 4257226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/00e242d166545b1cadb4452890101b2b?s=128&d=identicon&r=PG", "display_name": "TiggerToo", "link": "https://stackoverflow.com/users/4257226/tiggertoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 49160063, "answer_count": 1, "score": 1, "last_activity_date": 1520452243, "creation_date": 1520451759, "last_edit_date": 1520452243, "question_id": 49160019, "link": "https://stackoverflow.com/questions/49160019/how-can-i-return-a-class-instance-with-a-generic-type-as-an-interface-with-a-gen", "title": "How can I return a class instance with a generic type as an interface with a generic type?", "body": "<p>When I have a simple Class and Interface, I can do this:</p>\n\n<pre><code>public class Foo : IFoo\n{\n    public IFoo Instance()\n    {\n        return this;\n    }\n}\n</code></pre>\n\n<p>Is there a way to do the same thing when both are generics?</p>\n\n<pre><code>public class Base&lt;T, TI&gt;\n{\n    public TI Instance()\n    {\n        return this; // Nope\n        return (T) this; // Nope\n    }\n}\n\npublic class Foo : Base&lt;Foo, IFoo&gt;\n{\n\n}\n</code></pre>\n\n<p>However I try to do this, I'm getting a \"cannot implicitly convert type\" error.</p>\n"}, {"tags": ["c#", "reflection"], "comments": [{"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1520451985, "post_id": 49160003, "comment_id": 85325469, "body": "When you say <i>of a dynamic type</i> what exactly do you mean?  Late bound dynamic type, closed generic type, runtime only type?"}, {"owner": {"reputation": 2415, "user_id": 1877534, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3a70047b453ee30b738a7affd87f03af?s=128&d=identicon&r=PG", "display_name": "Andres", "link": "https://stackoverflow.com/users/1877534/andres"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1520452076, "post_id": 49160003, "comment_id": 85325517, "body": "Why the downvote? Its a clear question. Dynamic type means an unknown type until runtime."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 5, "creation_date": 1520452324, "post_id": 49160003, "comment_id": 85325651, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/15927028/how-to-call-a-generic-extension-method-with-reflection\">How to call a generic extension method with reflection?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3477, "user_id": 4035472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbc92ffb817c9fec91d1f6c7618c5c66?s=128&d=identicon&r=PG&f=1", "display_name": "thehennyy", "link": "https://stackoverflow.com/users/4035472/thehennyy"}, "edited": false, "score": 1, "creation_date": 1520454612, "post_id": 49160149, "comment_id": 85326841, "body": "To put it into other words: The first way is syntactic sugar, resolved by the compiler, for the second way."}, {"owner": {"reputation": 2415, "user_id": 1877534, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3a70047b453ee30b738a7affd87f03af?s=128&d=identicon&r=PG", "display_name": "Andres", "link": "https://stackoverflow.com/users/1877534/andres"}, "edited": false, "score": 0, "creation_date": 1520524432, "post_id": 49160149, "comment_id": 85359729, "body": "Ok, I get it. I was trying, but how can I pass the dbSetGeneric method as a parameter to the Queryable.AsQueryable() method? I&#180;ve been trying but can&#180;t get it working."}, {"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "reply_to_user": {"reputation": 2415, "user_id": 1877534, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3a70047b453ee30b738a7affd87f03af?s=128&d=identicon&r=PG", "display_name": "Andres", "link": "https://stackoverflow.com/users/1877534/andres"}, "edited": false, "score": 0, "creation_date": 1520524765, "post_id": 49160149, "comment_id": 85359972, "body": "@Andres Get method info for <code>Queryable.AsQueryable</code> with one argument. Call <code>MakeGenericMethod</code> on it, passing <code>property.DeclaringType</code> for the argument. You should be able to invoke the resultant <code>MethodInfo</code>."}, {"owner": {"reputation": 2415, "user_id": 1877534, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3a70047b453ee30b738a7affd87f03af?s=128&d=identicon&r=PG", "display_name": "Andres", "link": "https://stackoverflow.com/users/1877534/andres"}, "edited": false, "score": 0, "creation_date": 1520529969, "post_id": 49160149, "comment_id": 85363379, "body": "@dasblinkenlight I already got the method like this: <code>MethodInfo asQueryableMethod = typeof(Queryable).GetMethods().Where(x =&gt; x.Name == &quot;AsQueryable&quot; &amp;&amp; !x.IsGenericMethod).First();</code> But its argument is a generic method info. I need to create a methodinfo representing this: <code>Queryable.AsQueryable(this.DBContext.Set&lt;Type&gt;());</code>. How can I pass that <code>Set&lt;&gt;()</code> method as a parameter?"}], "tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 3, "last_activity_date": 1520452339, "creation_date": 1520452339, "answer_id": 49160149, "question_id": 49160003, "link": "https://stackoverflow.com/questions/49160003/chained-methods-reflection-execution/49160149#49160149", "title": "Chained methods reflection execution", "body": "<p>That's right, <code>DbSet&lt;T&gt;</code> implements <code>IQueryable&lt;T&gt;</code>, which exposes <code>AsQueryable&lt;T&gt;()</code> <a href=\"https://msdn.microsoft.com/en-us/library/bb507003(v=vs.110).aspx\" rel=\"nofollow noreferrer\">extension method</a>.</p>\n\n<p>C# offers two ways to invoke an extension method - as an instance method, i.e.</p>\n\n<pre><code>this.DBContext.Set&lt;UnknownType&gt;().AsQueryable();\n</code></pre>\n\n<p>or as a static method, i.e.</p>\n\n<pre><code>Queryable.AsQueryable(this.DBContext.Set&lt;UnknownType&gt;());\n</code></pre>\n\n<p>Reflection APIs, on the other hand, support only the second approach, i.e. the static method way of obtaining and invoking the method. You should get <code>MethodInfo</code> for generic <code>Queryable.AsQueryable</code>, and pass it an appropriate generic type parameter to make a <code>MethodInfo</code> object suitable for invocation.</p>\n"}], "owner": {"reputation": 2415, "user_id": 1877534, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3a70047b453ee30b738a7affd87f03af?s=128&d=identicon&r=PG", "display_name": "Andres", "link": "https://stackoverflow.com/users/1877534/andres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1520452344, "creation_date": 1520451695, "last_edit_date": 1520452344, "question_id": 49160003, "link": "https://stackoverflow.com/questions/49160003/chained-methods-reflection-execution", "title": "Chained methods reflection execution", "body": "<p>I need to execute some chained methods using reflection.</p>\n\n<p>What I\u00b4m trying to get is an IQueryable of a Entity Core DBContext Set of an unknown compile type:</p>\n\n<pre><code>var type = typeof(x);\nthis.DBContext.Set(type).AsQueryable();\n</code></pre>\n\n<p>Obviously, that code does not compile because Set is a generic Method where the type must be defined in compile time:</p>\n\n<pre><code>this.DBContext.Set&lt;TUnknownType&gt;().AsQueryable();\n</code></pre>\n\n<p>To solve that, I tried to execute the methods using reflection:</p>\n\n<pre><code>    MethodInfo dbSetMethod = typeof(DbContext).GetMethod(nameof(DbContext.Set));\n    MethodInfo generic = dbSetMethod.MakeGenericMethod(property.DeclaringType);\n\n    var asQueryableMethod = generic.ReturnType.GetMethod(\"AsQueryable\");\n    var result = asQueryableMethod.Invoke(this.DbContext, null);\n</code></pre>\n\n<p>But when I debug the code, I get a null in the line:</p>\n\n<pre><code>var asQueryableMethod = generic.ReturnType.GetMethod(\"AsQueryable\");\n</code></pre>\n\n<p>Apparently, the <code>dbContext.Set&lt;TUnknownType&gt;()</code> does not have the AsQueryable method. That method is an extension method coming from Linq I guess.</p>\n\n<p>What am I missing? Why is the method unavailable?</p>\n"}, {"tags": ["c#", "asp.net-core-mvc", "asp.net-identity", "asp.net-core-2.0"], "comments": [{"owner": {"reputation": 2348, "user_id": 1003150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TRzBI.jpg?s=128&g=1", "display_name": "Peter Riesz", "link": "https://stackoverflow.com/users/1003150/peter-riesz"}, "edited": false, "score": 3, "creation_date": 1520476644, "post_id": 49159944, "comment_id": 85334466, "body": "<code>UpdateRole</code> and <code>DeleteRole</code> perform some validation and will not throw on fail, instead they return an <code>IdentityResult</code> that may have some more information for you.  Try inspecting the result."}], "answers": [{"comments": [{"owner": {"reputation": 1075, "user_id": 1014674, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/752e679a313130c7818a6e71a428a18a?s=128&d=identicon&r=PG", "display_name": "Aldemar Cuartas Carvajal", "link": "https://stackoverflow.com/users/1014674/aldemar-cuartas-carvajal"}, "edited": false, "score": 0, "creation_date": 1530046759, "post_id": 50999404, "comment_id": 89093537, "body": "Although solution was found months ago, answer of Jason Caranzo is the right way of solving the issue, since to Update or Delete a role it&#39;s necessary to get the instance of the existing role data first from database by its id to be able to update or delete. Any entity object instance in EF seems to has its own id to connect it to the physical row table."}], "tags": [], "owner": {"reputation": 36, "user_id": 6760116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Hupm.jpg?s=128&g=1", "display_name": "jasonx", "link": "https://stackoverflow.com/users/6760116/jasonx"}, "is_accepted": true, "score": 2, "last_activity_date": 1529742690, "creation_date": 1529742690, "answer_id": 50999404, "question_id": 49159944, "link": "https://stackoverflow.com/questions/49159944/rolemanager-deleteasync-or-updateasync-not-working-as-expected-in-asp-net-core-2/50999404#50999404", "title": "RoleManager.DeleteAsync or UpdateAsync not working as expected in asp.net core 2.0", "body": "<pre><code>    [HttpPost]\n    [ValidateAntiForgeryToken]\n    public async Task&lt;ActionResult&gt; Edit(string id, [Bind(\"Id,Role\")] RoleViewModel pRole)\n    {\n        if (id != pRole.Id)\n        {\n            return NotFound();\n        }\n\n        if (ModelState.IsValid)\n        {\n            try\n            {\n                var role = await _roleManager.FindByIdAsync(pRole.Id);\n                role.Name = pRole.Role;\n                var result = await _roleManager.UpdateAsync(role);\n                if (!result.Succeeded)\n                {\n                    ModelState.AddModelError(\"\", result.Errors.First().ToString());\n                    return View();\n                }\n                return RedirectToAction(\"Index\");\n            } catch (Exception)\n            {\n                throw;\n            }\n        }\n        return View(pRole);\n    }\n</code></pre>\n"}], "owner": {"reputation": 1075, "user_id": 1014674, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/752e679a313130c7818a6e71a428a18a?s=128&d=identicon&r=PG", "display_name": "Aldemar Cuartas Carvajal", "link": "https://stackoverflow.com/users/1014674/aldemar-cuartas-carvajal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1624, "favorite_count": 0, "accepted_answer_id": 50999404, "answer_count": 1, "score": 1, "last_activity_date": 1529742690, "creation_date": 1520451467, "question_id": 49159944, "link": "https://stackoverflow.com/questions/49159944/rolemanager-deleteasync-or-updateasync-not-working-as-expected-in-asp-net-core-2", "title": "RoleManager.DeleteAsync or UpdateAsync not working as expected in asp.net core 2.0", "body": "<p>I'm using asp.net core 2.0 Identity and I have an ApplicationRole class that inherits from IdentityRole. According documentation RoleManager manages CRUD operations about roles for AspNetRoles table, so service is added in Startup class:</p>\n\n<pre><code>services.AddIdentity&lt;ApplicationUser, ApplicationRole&gt;()\n        .AddEntityFrameworkStores&lt;MyDbContext&gt;()\n        .AddDefaultTokenProviders();\n\nservices.AddAuthentication()\n</code></pre>\n\n<p>In configure method:</p>\n\n<pre><code>app.UseAuthentication();\n</code></pre>\n\n<p>In my controller:</p>\n\n<pre><code>public AdministrationController(\n            RoleManager&lt;ApplicationRole&gt; roleManager,\n            ILogger&lt;AccountController&gt; logger,\n            IStringLocalizer&lt;AccountController&gt; localizer)\n{\n   _roleManager = roleManager;\n}\n</code></pre>\n\n<p>Controller operations:</p>\n\n<pre><code>[HttpPost]\n        public async Task&lt;JsonResult&gt; Role_Create([DataSourceRequest] DataSourceRequest request, ApplicationRoleViewModel role)\n        {\n            if (role != null &amp;&amp; ModelState.IsValid)\n            {\n                ApplicationRole identityRole = new ApplicationRole();\n                identityRole.Name = role.Name;\n\n                if (await _roleManager.RoleExistsAsync(identityRole.Name))\n                {\n                    ModelState.AddModelError(\"Role\", \"Role already exists\");\n                }\n                else\n                {\n                    await _roleManager.CreateAsync(identityRole);\n                }\n            }\n\n            return Json(new[] { role }.ToDataSourceResult(request, ModelState));\n        }\n\n        [HttpPost]\n        public async Task&lt;JsonResult&gt; Role_Update([DataSourceRequest] DataSourceRequest request, ApplicationRoleViewModel role)\n        {\n            if (role != null &amp;&amp; ModelState.IsValid)\n            {\n                ApplicationRole identityRole = new ApplicationRole();\n                identityRole.Id = role.Id;\n                identityRole.Name = role.Name;\n                await _roleManager.UpdateAsync(identityRole);\n            }\n\n            return Json(new[] { role }.ToDataSourceResult(request, ModelState));\n        }\n\n        [HttpPost]\n        public async Task&lt;JsonResult&gt; Role_Delete([DataSourceRequest] DataSourceRequest request, ApplicationRoleViewModel role)\n        {\n            if (role != null)\n            {\n                ApplicationRole identityRole = new ApplicationRole();\n                identityRole.Id = role.Id;\n                identityRole.Name = role.Name;\n                if (await _roleManager.RoleExistsAsync(identityRole.Name))\n                {\n                    await _roleManager.DeleteAsync(identityRole);\n                }\n                else\n                {\n                    ModelState.AddModelError(\"Role\", \"Role doesn't exist\");\n                }\n            }\n\n            return Json(new[] { role }.ToDataSourceResult(request, ModelState));\n        }\n</code></pre>\n\n<p>_roleManager.CreateAsync method works as expected, role is inserted in AspNetRoles table, however _roleManager.UpdateAsync and _roleManager.DeleteAsync don't work as expected, table still shows same rows, not updated nor deleted.</p>\n\n<p>Table rows before operations:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vpm2x.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vpm2x.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Update operation:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZDZGs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZDZGs.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Delete operation:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EoVoJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EoVoJ.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>After operations, table shows same rows as indicated in first screenshot. It's supposed RoleManager class manages operation to the table.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework", "ef-fluent-api"], "answers": [{"comments": [{"owner": {"reputation": 546, "user_id": 2945814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4863addcf94423014049fe5474f74e22?s=128&d=identicon&r=PG&f=1", "display_name": "Derek", "link": "https://stackoverflow.com/users/2945814/derek"}, "edited": false, "score": 0, "creation_date": 1520516297, "post_id": 49160322, "comment_id": 85353853, "body": "I&#39;ve set this up, it the intention to change <code>public virtual ErrorLog ErrorLog { get; set; }</code> to <code>public virtual List&lt;ErrorLog&gt; ErrorLogs { get; set; }</code>?  (on the <code>AccessLog</code> class)"}, {"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "reply_to_user": {"reputation": 546, "user_id": 2945814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4863addcf94423014049fe5474f74e22?s=128&d=identicon&r=PG&f=1", "display_name": "Derek", "link": "https://stackoverflow.com/users/2945814/derek"}, "edited": false, "score": 0, "creation_date": 1520522694, "post_id": 49160322, "comment_id": 85358526, "body": "No, you don&#39;t need to do that. The <code>WithMany()</code> is just a mechanism(hack) for EF to configure a working solution."}, {"owner": {"reputation": 546, "user_id": 2945814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4863addcf94423014049fe5474f74e22?s=128&d=identicon&r=PG&f=1", "display_name": "Derek", "link": "https://stackoverflow.com/users/2945814/derek"}, "edited": false, "score": 0, "creation_date": 1520531971, "post_id": 49160322, "comment_id": 85364533, "body": "I just noticed that the <code>AccessLog</code> table has <code>ErrorLog_Oid</code> in it when I have <code>public virtual ErrorLog ErrorLog { get; set; }</code>.  Is there something I need to configure with <code>.Entity&lt;AccessLog&gt;</code> or does AccessLog need to have a ForeignKey for the ErrorLog property?"}, {"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "reply_to_user": {"reputation": 546, "user_id": 2945814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4863addcf94423014049fe5474f74e22?s=128&d=identicon&r=PG&f=1", "display_name": "Derek", "link": "https://stackoverflow.com/users/2945814/derek"}, "edited": false, "score": 0, "creation_date": 1520537345, "post_id": 49160322, "comment_id": 85367544, "body": "Correct. Your other option is to make AccessLogId both a PK and a FK to ErrorLog. Your inheritance structure would interfere with that currently."}, {"owner": {"reputation": 546, "user_id": 2945814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4863addcf94423014049fe5474f74e22?s=128&d=identicon&r=PG&f=1", "display_name": "Derek", "link": "https://stackoverflow.com/users/2945814/derek"}, "edited": false, "score": 0, "creation_date": 1520541516, "post_id": 49160322, "comment_id": 85369688, "body": "I always thought the inheritance of <code>BaseLogObject</code> would get in the way of something, am I able to <code>override</code> the Oid and put Annotations on it? Thank you for all your help btw."}, {"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "reply_to_user": {"reputation": 546, "user_id": 2945814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4863addcf94423014049fe5474f74e22?s=128&d=identicon&r=PG&f=1", "display_name": "Derek", "link": "https://stackoverflow.com/users/2945814/derek"}, "edited": false, "score": 0, "creation_date": 1520542616, "post_id": 49160322, "comment_id": 85370248, "body": "I&#39;m not sure. The only inheritance I&#39;ve used is TPH."}], "tags": [], "owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "is_accepted": false, "score": 1, "last_activity_date": 1520453016, "creation_date": 1520453016, "answer_id": 49160322, "question_id": 49159939, "link": "https://stackoverflow.com/questions/49159939/fluentapi-setup-for-one-to-zero-or-one-without-mapkey/49160322#49160322", "title": "FluentAPI setup for one-to-zero-or-one without MapKey", "body": "<p>Asked many times out here. It is not a well supported relationship. You either have to share a primary key, or set it up as follows:</p>\n\n<pre><code>modelBuilder.Entity&lt;ErrorLog&gt;()\n    .HasOptional(e =&gt; e.AccessLog)\n    .WithMany()\n    .HasForeignKey(e =&gt; e.AccessLogID);\n</code></pre>\n\n<p>Similar <a href=\"https://stackoverflow.com/questions/14701378/implementing-zero-or-one-to-zero-or-one-relationship-in-ef-code-first-by-fluent\">here</a> and <a href=\"https://stackoverflow.com/questions/28499126/one-or-zero-to-one-entity-framework-code-first-fluentapi\">here</a>.</p>\n"}], "owner": {"reputation": 546, "user_id": 2945814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4863addcf94423014049fe5474f74e22?s=128&d=identicon&r=PG&f=1", "display_name": "Derek", "link": "https://stackoverflow.com/users/2945814/derek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520453016, "creation_date": 1520451441, "question_id": 49159939, "link": "https://stackoverflow.com/questions/49159939/fluentapi-setup-for-one-to-zero-or-one-without-mapkey", "title": "FluentAPI setup for one-to-zero-or-one without MapKey", "body": "<p>I'm trying to setup a one to zero-or-one relationship, I thought I had it worked out, but I was wrong as I testing further.  I clearly do not understand FluentAPI too well, but I also see that many have had the same or similar issue I am experiencing</p>\n\n<p>Here are my Classes:</p>\n\n<pre><code>public class BaseLogObject\n{\n    public BaseLogObject()\n    {\n        Oid = Guid.NewGuid();\n        Date = DateTime.Now;\n    }\n\n    [Key]\n    [Column(Order = 0)]\n    public Guid Oid { get; set; }\n\n    [ScaffoldColumn(true)]\n    [Display(Name = \"Date\")]\n    [Required]\n    [Column(Order = 1)]\n    public DateTime Date { get; set; }\n}\n\npublic class AccessLog : BaseLogObject\n{\n    public virtual ErrorLog ErrorLog { get; set; }\n}\n\npublic class ErrorLog : BaseLogObject\n{\n    //Hoping to keep this property, but .MapKey give \"Unique\" error\n    [Display(Name = \"Access Log\")]\n    public virtual Guid? AccessLogID { get; set; }\n\n    public virtual AccessLog AccessLog { get; set; }\n}\n</code></pre>\n\n<p>FluentAPI setup:</p>\n\n<pre><code>protected override void OnModelCreating(DbModelBuilder modelBuilder)\n{\n    modelBuilder.Entity&lt;ErrorLog&gt;()\n        .HasOptional(a =&gt; a.AccessLog)\n        .WithOptionalDependent(x =&gt; x.ErrorLog)\n        .Map(a =&gt; a.MapKey(\"AccessLogID\"));\n\n    //Thought this worked, but AccessLogID became the PrimaryKey\n    //modelBuilder.Entity&lt;ErrorLog&gt;().HasKey(x =&gt; x.AccessLogID);\n    //modelBuilder.Entity&lt;ErrorLog&gt;().HasRequired(x =&gt; x.AccessLog);\n\n    //This creates a new column in SQL (AccessLog_Oid)\n    //modelBuilder.Entity&lt;AccessLog&gt;()\n    //  .HasOptional(pi =&gt; pi.ErrorLog)\n    //  .WithOptionalDependent(x =&gt; x.AccessLog);\n\n    //Tried reversing the relationship, no go\n    //modelBuilder.Entity&lt;AccessLog&gt;()\n    //  .HasOptional(x =&gt; x.ErrorLog)\n    //  .WithRequired(x =&gt; x.AccessLog);\n\n    base.OnModelCreating(modelBuilder);\n}   \n</code></pre>\n\n<blockquote>\n  <p>AccessLogID: Name: Each property name in a type must be unique. Property name 'AccessLogID' is already defined.</p>\n</blockquote>\n\n<p>I understand that <code>AccessLogID</code> is a duplicate, but was hoping that I could leave it in my <code>ErrorLog</code> model so I can reference it throughout the application (techincally, I am saving the Guid in a Session and logging Errors/Exceptions to it as needed, I am trying to avoid storing the entire Object, just the Guid).</p>\n"}, {"tags": ["c#", "roslyn"], "answers": [{"comments": [{"owner": {"reputation": 1230, "user_id": 2686399, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Gi3zf.jpg?s=128&g=1", "display_name": "jrandomuser", "link": "https://stackoverflow.com/users/2686399/jrandomuser"}, "edited": false, "score": 0, "creation_date": 1520455815, "post_id": 49160130, "comment_id": 85327477, "body": "I&#39;m missing something here though.  Calling.GetType off of the SemanticModel doesn&#39;t take any parms, its just the standard GetType off of Object.  I thought maybe you meant .GetTypeInfo(node) which gives you a TypeInfo Object but that doesn&#39;t have any &quot;AllInterfaces&quot; method?"}, {"owner": {"reputation": 1230, "user_id": 2686399, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Gi3zf.jpg?s=128&g=1", "display_name": "jrandomuser", "link": "https://stackoverflow.com/users/2686399/jrandomuser"}, "edited": false, "score": 0, "creation_date": 1520456193, "post_id": 49160130, "comment_id": 85327659, "body": "I thought maybe you were referring to .GetSymbolInfo off of scemanticmodel but that only returns a SymbolInfo and not an ITypeSymbol."}, {"owner": {"reputation": 1230, "user_id": 2686399, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Gi3zf.jpg?s=128&g=1", "display_name": "jrandomuser", "link": "https://stackoverflow.com/users/2686399/jrandomuser"}, "edited": false, "score": 0, "creation_date": 1520456914, "post_id": 49160130, "comment_id": 85328037, "body": "I found it, its GetDeclaredSymbol off of semantic model:  var classSymbol = sModel.GetDeclaredSymbol(root.DescendantNodes().OfType&lt;Class&zwnj;&#8203;DeclarationSyntax&gt;()&zwnj;&#8203;.First());"}], "tags": [], "owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "is_accepted": false, "score": 1, "last_activity_date": 1520457101, "last_edit_date": 1520457101, "creation_date": 1520452277, "answer_id": 49160130, "question_id": 49159819, "link": "https://stackoverflow.com/questions/49159819/roslyn-csharpsyntaxrewriter-get-a-list-of-implemented-interfaces/49160130#49160130", "title": "Roslyn CSharpSyntaxRewriter Get A List of Implemented Interfaces", "body": "<p>You need to use the semantic model:</p>\n\n<ol>\n<li>Call <code>GetDeclaredSymbol(classDeclarationSyntax)</code> to get the <code>ITypeSymbol</code> for the class.</li>\n<li>Call <a href=\"http://source.roslyn.io/#Microsoft.CodeAnalysis/Symbols/ITypeSymbol.cs,46\" rel=\"nofollow noreferrer\"><code>AllInterfaces</code></a> to get all of its implemented interfaces.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1230, "user_id": 2686399, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Gi3zf.jpg?s=128&g=1", "display_name": "jrandomuser", "link": "https://stackoverflow.com/users/2686399/jrandomuser"}, "is_accepted": false, "score": 1, "last_activity_date": 1520457376, "creation_date": 1520457376, "answer_id": 49161328, "question_id": 49159819, "link": "https://stackoverflow.com/questions/49159819/roslyn-csharpsyntaxrewriter-get-a-list-of-implemented-interfaces/49161328#49161328", "title": "Roslyn CSharpSyntaxRewriter Get A List of Implemented Interfaces", "body": "<p>This information is available from the <code>INamedTypedSymbol</code> for the Class which can be obtained through the <code>SemanticModel GetDeclaredSymbol</code> Method.  Once you have the Symbol for the Class you can call <code>AllInterfaces</code> to get a collection of implemented interfaces.</p>\n\n<pre><code>    public override SyntaxNode VisitClassDeclaration(ClassDeclarationSyntax node)\n    {\n        var tree = node.SyntaxTree;\n        var root = tree.GetRoot();            \n        var sModel = comp.GetSemanticModel(node.SyntaxTree);\n        var classSymbol = sModel.GetDeclaredSymbol(root.DescendantNodes().OfType&lt;ClassDeclarationSyntax&gt;().First());\n\n        var implementedInterfaces = classSymbol.AllInterfaces;\n\n        return base.VisitClassDeclaration(node);\n    }\n</code></pre>\n"}], "owner": {"reputation": 1230, "user_id": 2686399, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Gi3zf.jpg?s=128&g=1", "display_name": "jrandomuser", "link": "https://stackoverflow.com/users/2686399/jrandomuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 883, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1520457376, "creation_date": 1520450884, "last_edit_date": 1520452732, "question_id": 49159819, "link": "https://stackoverflow.com/questions/49159819/roslyn-csharpsyntaxrewriter-get-a-list-of-implemented-interfaces", "title": "Roslyn CSharpSyntaxRewriter Get A List of Implemented Interfaces", "body": "<p>I have a CustomRewriter implementing CSharpSyntaxRewriter.  Within either the VisitClassDeclaration or VisitMethodDeclaration I need to check for ANY Interfaces that the class might implement. </p>\n\n<p>The reason is that VisitMethodDeclaration is looking for methods that make data calls and is adding a parameter to the method.  This is working.  However, if modifies a method signature I need it to check if the Method altered comes from an implemented interface and if it does then modify the Interface as well.</p>\n\n<p>I cannot figure out a way to get this information from Class &amp; Method DeclarationNode parms nor the Syntax Tree or Syntax Nodes.  I also added Compilation as a Constructor Parm in an effort to use it to get the SchematicModel and somehow go from there, but without any luck.</p>\n\n<pre><code>public class DetermineIfInterfaceMethodRewriter : CSharpSyntaxRewriter\n{\n    private string Test = string.Empty;\n    private Compilation comp;\n    public DetermineIfInterfaceMethodRewriter(Compilation compilation)\n    {\n        this.comp = compilation;\n    }\n    public override SyntaxNode VisitClassDeclaration(ClassDeclarationSyntax node)\n    {  \n        return base.VisitClassDeclaration(node);\n    }\n    public override SyntaxNode VisitMethodDeclaration(MethodDeclarationSyntax node)\n    {\n        var tree = node.SyntaxTree;\n        var root = tree.GetRoot();\n\n        return node;\n    } \n}\n</code></pre>\n"}, {"tags": ["c#", "debugging", "roslyn", "vs-extensibility"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 1, "creation_date": 1520452392, "post_id": 49159806, "comment_id": 85325686, "body": "Enable Break on handled exceptions and see if anything happens."}, {"owner": {"reputation": 86, "user_id": 5419504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7c3d877daf7ce0b50c783db3e6bfa6c?s=128&d=identicon&r=PG&f=1", "display_name": "JCoyle", "link": "https://stackoverflow.com/users/5419504/jcoyle"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1520453798, "post_id": 49159806, "comment_id": 85326414, "body": "@SLaks I&#39;m getting a load of AdalSilentTokenAcquisitionExceptions and RuntimeBinderExceptions for Newtonsoft json types, though I&#39;m getting these when it does successfully debug. It definitely does seem to be a debugging issue though, since including that line of code means I can&#39;t even use Debug.WriteLine to write to the output window"}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1520455443, "post_id": 49159806, "comment_id": 85327280, "body": "You can ignore most of those."}, {"owner": {"reputation": 86, "user_id": 5419504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7c3d877daf7ce0b50c783db3e6bfa6c?s=128&d=identicon&r=PG&f=1", "display_name": "JCoyle", "link": "https://stackoverflow.com/users/5419504/jcoyle"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1520456394, "post_id": 49159806, "comment_id": 85327770, "body": "I managed to find that it was a problem with Microsoft.CodeAnalysis.CSharp loading, I found another so question here <a href=\"https://stackoverflow.com/questions/42536506/could-not-load-file-or-assembly-microsoft-codeanalysis-version-1-3-1-0-cultu\" title=\"could not load file or assembly microsoft codeanalysis version 1 3 1 0 cultu\">stackoverflow.com/questions/42536506/&hellip;</a> I&#39;m currently updating vs to see if that sorts the problem"}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1520457064, "post_id": 49159806, "comment_id": 85328116, "body": "Sounds like you&#39;re referencing a different version of Roslyn or setting it to Copy Local."}, {"owner": {"reputation": 86, "user_id": 5419504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7c3d877daf7ce0b50c783db3e6bfa6c?s=128&d=identicon&r=PG&f=1", "display_name": "JCoyle", "link": "https://stackoverflow.com/users/5419504/jcoyle"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1520460238, "post_id": 49159806, "comment_id": 85329607, "body": "I think versioning was the problem. After updating to the latest version of VS17, everything is working again. Thanks for your help @Slaks"}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 5419504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7c3d877daf7ce0b50c783db3e6bfa6c?s=128&d=identicon&r=PG&f=1", "display_name": "JCoyle", "link": "https://stackoverflow.com/users/5419504/jcoyle"}, "is_accepted": false, "score": 0, "last_activity_date": 1520460325, "creation_date": 1520460325, "answer_id": 49161967, "question_id": 49159806, "link": "https://stackoverflow.com/questions/49159806/vsix-roslyn-debugging-extremely-odd-behaviour/49161967#49161967", "title": "VSIX roslyn debugging, extremely odd behaviour", "body": "<p>The issue was that Microsoft.CodeAnalysis.CSharp was failing to load. In order to fix the problem I had to update to the latest version of visual studio</p>\n"}], "owner": {"reputation": 86, "user_id": 5419504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a7c3d877daf7ce0b50c783db3e6bfa6c?s=128&d=identicon&r=PG&f=1", "display_name": "JCoyle", "link": "https://stackoverflow.com/users/5419504/jcoyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520460325, "creation_date": 1520450804, "last_edit_date": 1520450994, "question_id": 49159806, "link": "https://stackoverflow.com/questions/49159806/vsix-roslyn-debugging-extremely-odd-behaviour", "title": "VSIX roslyn debugging, extremely odd behaviour", "body": "<p>I've been trying to get my feet wet with vs extensions &amp; roslyn though I seem to have hit a roadblock pretty early on. I'm trying to detect when a file is saved, then analyse it to find certain base classes, properties etc.</p>\n\n<p>I've got the following code in my package at the moment which successfully gets the contents of the saved file:</p>\n\n<pre><code>protected override void Initialize()\n{\n    base.Initialize();\n    SetupEvents();\n}\n\nprivate DTE _dte;\nprivate Events _dteEvents;\nprivate DocumentEvents _dteDocEvents;\n\nprivate void SetupEvents()\n{\n    _dte = (DTE)GetService(typeof(SDTE));\n    _dteEvents = _dte.Events;\n    _dteDocEvents = _dteEvents.DocumentEvents;\n    _dteDocEvents.DocumentSaved += _dteDocEvents_DocumentSaved;\n}\n\n\nprivate void _dteDocEvents_DocumentSaved(Document document)\n{\n    string text = document.GetDocumentText();\n    //var syntaxTree = Microsoft.CodeAnalysis.CSharp.CSharpSyntaxTree.ParseText(text);\n}\n</code></pre>\n\n<p>I've got a breakpoint on the first line of my _dteDocEvents_DocumentSaved handler where I can see that the code is being hit. However, if I just uncomment the syntaxTree declaration line, my handler suddenly isn't getting called any more. This behaviour makes absolutely no sense to me, how can an additional line of code in my handler prevent the handler from being called at all?</p>\n\n<p>Does anyone have any possible suggestions what could be going on here?</p>\n\n<p>Thanks</p>\n\n<p>James</p>\n"}, {"tags": ["c#", "ldap"], "comments": [{"owner": {"reputation": 6571, "user_id": 903056, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ioOMs.jpg?s=128&g=1", "display_name": "EkoostikMartin", "link": "https://stackoverflow.com/users/903056/ekoostikmartin"}, "edited": false, "score": 0, "creation_date": 1520451172, "post_id": 49159795, "comment_id": 85325014, "body": "You are essentially talking about the first few phases of compiler construction here. It&#39;s not something you can throw together in a single function in a few hours."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1520451344, "post_id": 49159795, "comment_id": 85325104, "body": "I don&#39;t know of any library that exposes a service to parse an LDAP query string into an AST."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1520451744, "post_id": 49159795, "comment_id": 85325327, "body": "Just an idea here, use a regex to extract each english name (<code>objectClass</code>, <code>computer</code>, <code>department</code>, <code>location</code>), and the results, and produce a <i>possible</i> match if two queries have the same set of words and the same results.  It can have false positives, but might be sufficient."}, {"owner": {"reputation": 1051, "user_id": 3481891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9253abac96b2a3454e169fd5d927c9ef?s=128&d=identicon&r=PG&f=1", "display_name": "quest4truth", "link": "https://stackoverflow.com/users/3481891/quest4truth"}, "edited": false, "score": 0, "creation_date": 1520452395, "post_id": 49159795, "comment_id": 85325688, "body": "I&#39;m using regex&#39;s now.  The GUI constrains possible filters to certain forms, so I don&#39;t have to solve the general case.  Still, I was hoping not to reinvent the wheel if someone had played with this before."}], "owner": {"reputation": 1051, "user_id": 3481891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9253abac96b2a3454e169fd5d927c9ef?s=128&d=identicon&r=PG&f=1", "display_name": "quest4truth", "link": "https://stackoverflow.com/users/3481891/quest4truth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520451116, "creation_date": 1520450764, "last_edit_date": 1520451116, "question_id": 49159795, "link": "https://stackoverflow.com/questions/49159795/how-can-i-detect-logically-equivalent-filters-for-directorysearcher", "title": "How can I detect logically equivalent filters for DirectorySearcher?", "body": "<p>The <code>System.DirectoryServices.DirectorySearcher</code> class uses a simple string for it's <code>Filter</code> property, so I can have two different strings which are not equal to each other but which will perform logically in the exact same way.  Is there a built-in way to determine logical equivalency?  If not, has anyone tackled this before?</p>\n\n<p>Explanation:  I am using <code>DirectorySearcher</code> to return relevant data from Active Directory based on a filter supplied by the user.  I'm counting objects and attributes, and trying to streamline the whole thing by keeping aggregate values to preclude executing the same query more than once.</p>\n\n<p>Here's a simple example of two filters for the <code>DirectorySearcher</code> which are logically equivalent but not testable by comparing strings:</p>\n\n<pre><code>\"(&amp;(objectClass=computer)(|(location=*)(!(department=*))))\"\n\"(&amp;(objectClass=computer)(|(!(department=*))(location=*)))\"\n</code></pre>\n\n<p>I would like a way to say <code>FilterA.LogicallyEquals(FilterB)</code>.</p>\n"}, {"tags": ["c#", "excel"], "comments": [{"owner": {"reputation": 9, "user_id": 8921842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a51ddf8efc0f470da07638a5b474d26?s=128&d=identicon&r=PG&f=1", "display_name": "Tremor", "link": "https://stackoverflow.com/users/8921842/tremor"}, "reply_to_user": {"reputation": 127100, "user_id": 4851590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9xlEi.jpg?s=128&g=1", "display_name": "Scott Craner", "link": "https://stackoverflow.com/users/4851590/scott-craner"}, "edited": false, "score": 0, "creation_date": 1520451574, "post_id": 49159757, "comment_id": 85325240, "body": "Sorry.  It is C#."}, {"owner": {"reputation": 21742, "user_id": 4650297, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/x1byc.jpg?s=128&g=1", "display_name": "BruceWayne", "link": "https://stackoverflow.com/users/4650297/brucewayne"}, "edited": false, "score": 0, "creation_date": 1520452319, "post_id": 49159757, "comment_id": 85325647, "body": "What if you did a loop to check if <code>lastRow = 1</code>. If it&#39;s equal to 1, then set <code>range</code> to column 2 and try again, etc.? Perhaps a <code>while lastRow = 1</code> loop or something?"}, {"owner": {"reputation": 5019, "user_id": 8260484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35e7d5435c75864734b3ef3bcbc271e5?s=128&d=identicon&r=PG&f=1", "display_name": "cybernetic.nomad", "link": "https://stackoverflow.com/users/8260484/cybernetic-nomad"}, "edited": false, "score": 0, "creation_date": 1520452915, "post_id": 49159757, "comment_id": 85325955, "body": "<a href=\"https://stackoverflow.com/questions/1284388/how-to-get-the-range-of-occupied-cells-in-excel-sheet\">This</a> could help"}, {"owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "edited": false, "score": 0, "creation_date": 1520453064, "post_id": 49159757, "comment_id": 85326027, "body": "var rowCount =  worksheet .Dimension.End.Row ? <a href=\"https://stackoverflow.com/questions/18733810/programmatically-getting-the-total-no-of-rows-having-data-in-excel-sheet-using\" title=\"programmatically getting the total no of rows having data in excel sheet using\">stackoverflow.com/questions/18733810/&hellip;</a>"}, {"owner": {"reputation": 9, "user_id": 8921842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a51ddf8efc0f470da07638a5b474d26?s=128&d=identicon&r=PG&f=1", "display_name": "Tremor", "link": "https://stackoverflow.com/users/8921842/tremor"}, "edited": false, "score": 0, "creation_date": 1520532640, "post_id": 49159757, "comment_id": 85364912, "body": "Thanks BruceWayne.  I was able to get your suggestion to work."}], "owner": {"reputation": 9, "user_id": 8921842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a51ddf8efc0f470da07638a5b474d26?s=128&d=identicon&r=PG&f=1", "display_name": "Tremor", "link": "https://stackoverflow.com/users/8921842/tremor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520451586, "creation_date": 1520450627, "last_edit_date": 1520451586, "question_id": 49159757, "link": "https://stackoverflow.com/questions/49159757/find-last-row-of-an-excel-file-when-column-1-is-empty", "title": "Find last row of an excel file when column 1 is empty", "body": "<p>I am using the following code to determine the last row of the Excel file before I start reading.  If column1 values are empty then it does not work.  Is there a way to check all rows or row 2  </p>\n\n<pre><code>            //Count number of rows\n            range = (Excel.Range)xlWorkSheet.Cells[xlWorkSheet.Rows.Count, 1];\n\n            //Get directoryname\n            string directoryname = Path.GetDirectoryName(edifile);\n\n            //Remove special characters\n            string filenameNoExt = RemoveSpecialCharacters(Path.GetFileNameWithoutExtension(edifile));\n\n            //Build Unique Guid Filename\n            csvfile = path + filenameNoExt + \"_\" + Utilities.GetMyGUID();\n\n\n            //xlUp will move up the worksheet to find the last cell with data.\n            long lastRow = (long)range.get_End(Excel.XlDirection.xlUp).Row;\n</code></pre>\n"}, {"tags": ["c#", "json", "json.net", "deserialization"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4573148"}, "edited": false, "score": 0, "creation_date": 1520451547, "post_id": 49159697, "comment_id": 85325221, "body": "I suggest using custom jsonconverter and check if fields exist, see link to post here <a href=\"https://stackoverflow.com/questions/8030538/how-to-implement-custom-jsonconverter-in-json-net-to-deserialize-a-list-of-base\" title=\"how to implement custom jsonconverter in json net to deserialize a list of base\">stackoverflow.com/questions/8030538/&hellip;</a>"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1520452606, "post_id": 49159697, "comment_id": 85325806, "body": "Why not just use a <a href=\"https://en.wikipedia.org/wiki/Data_transfer_object\" rel=\"nofollow noreferrer\">DTO</a>?"}, {"owner": {"reputation": 13, "user_id": 4630202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd4dad822e9d4c3a33a8690a271383a1?s=128&d=identicon&r=PG&f=1", "display_name": "RBeaulieu", "link": "https://stackoverflow.com/users/4630202/rbeaulieu"}, "edited": false, "score": 0, "creation_date": 1520453308, "post_id": 49159697, "comment_id": 85326155, "body": "I don&#39;t get to control what I&#39;m receiving (the data is provided in JSON by a vendor), only how its interpreted and stored."}], "owner": {"reputation": 13, "user_id": 4630202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd4dad822e9d4c3a33a8690a271383a1?s=128&d=identicon&r=PG&f=1", "display_name": "RBeaulieu", "link": "https://stackoverflow.com/users/4630202/rbeaulieu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 518, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1520450999, "creation_date": 1520450372, "last_edit_date": 1520450999, "question_id": 49159697, "link": "https://stackoverflow.com/questions/49159697/deserializing-json-child-object-values-into-parent-object-using-jsonconvert-dese", "title": "Deserializing JSON child object values into parent object using JsonConvert.DeserializeObject&lt;T&gt; using nested converters", "body": "<p>I'm receiving some oddly formatted JSON that I want to store in a single object. It looks something like this:</p>\n\n<pre><code>{\n    \"parentObject\": \n    {\n        \"id\": 123456,\n        \"pointlessChildObject\": \n        {\n            \"stringThatCouldBeStoredInParent\": \"test\",\n            \"epochTimeThatCouldBeStoredInParent\": \"1520452800\"\n        }\n    }\n}\n</code></pre>\n\n<p>At first, I thought this would be simple thanks to a solution by Brian Rogers that I found: <a href=\"https://stackoverflow.com/questions/33088462/can-i-specify-a-path-in-an-attribute-to-map-a-property-in-my-class-to-a-child-pr\">Can I specify a path in an attribute to map a property in my class to a child property in my JSON?</a></p>\n\n<p>However, if you implement this solution, you can't use another converter for converting those values into something else at the same time (A nested <code>[JsonConverter(typeof(SecondsEpochConverter))]</code> for the epoch time for example). And of course, because this is C#, you can't have a set that's different than your type (convert <code>int</code> to <code>DateTime</code> in set). I'm trying to add code to Brian's solution such that it calls the nested converter, but now we're getting into ridiculous territory; I'm creating a single use <code>JSONTextReader</code> just to have the value passed to the nested converters, and I'm pretty sure I'm overthinking this.</p>\n\n<p>Does anyone know of a better solution?</p>\n"}, {"tags": ["c#", "nhibernate"], "comments": [{"owner": {"reputation": 5975, "user_id": 187365, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/CIlaX.jpg?s=128&g=1", "display_name": "Fran", "link": "https://stackoverflow.com/users/187365/fran"}, "edited": false, "score": 0, "creation_date": 1520521376, "post_id": 49159639, "comment_id": 85357580, "body": "If this is a new application, use nhibernate mapping by code."}], "answers": [{"tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": false, "score": 0, "last_activity_date": 1520493141, "creation_date": 1520493141, "answer_id": 49167361, "question_id": 49159639, "link": "https://stackoverflow.com/questions/49159639/nhibernate-error-severity-code-description-project-file-line-suppression-state/49167361#49167361", "title": "NHibernate error: Severity Code Description Project File Line Suppression State Error Unrecognized configuration section session-factory", "body": "<p>Check the doc for more configuration examples</p>\n\n<h3><a href=\"http://nhibernate.info/doc/nh/en/index.html#example-weblog-code\" rel=\"nofollow noreferrer\">Chapter 23. Example: Weblog Application</a></h3>\n\n<p>here is a snippet of such setting <em>(check the <strong><code>&lt;configSections&gt;</code></strong>)</em>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;configuration&gt;\n  &lt;!-- Add this element --&gt;\n  &lt;configSections&gt;\n    &lt;section\n        name=\"hibernate-configuration\"\n        type=\"NHibernate.Cfg.ConfigurationSectionHandler, NHibernate\" /&gt;\n  &lt;/configSections&gt;\n\n  &lt;!-- Add this element --&gt;\n  &lt;hibernate-configuration xmlns=\"urn:nhibernate-configuration-2.2\"&gt;\n    &lt;session-factory&gt;\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 8104042, "user_type": "registered", "profile_image": "https://graph.facebook.com/1661301807217249/picture?type=large", "display_name": "Lucas Navarro", "link": "https://stackoverflow.com/users/8104042/lucas-navarro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 579, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520493141, "creation_date": 1520450152, "question_id": 49159639, "link": "https://stackoverflow.com/questions/49159639/nhibernate-error-severity-code-description-project-file-line-suppression-state", "title": "NHibernate error: Severity Code Description Project File Line Suppression State Error Unrecognized configuration section session-factory", "body": "<p>I am trying to connect my aplication to a sql server 2012 database, but its not working and its giving the error that appears on the title, someone could help me? here is the code: </p>\n\n<pre><code>`\n\n&lt;?xml version=\"1.0\"?&gt;\n    &lt;configuration&gt;\n      &lt;!-- an ISessionFactory instance --&gt;\n      &lt;session-factory&gt;\n        &lt;!-- properties --&gt;\n        &lt;property name=\"connection.connection_string\"&gt;\n          User ID=****;Password=****;Data Source=****;Initial Catalog=****;\n        &lt;/property&gt;\n        &lt;property name=\"show_sql\"&gt;false&lt;/property&gt;\n        &lt;property name=\"dialect\"&gt;NHibernate.Dialect.MsSql2012Dialect&lt;/property&gt;\n        &lt;!-- mapping files --&gt;\n        &lt;mapping resource=\"NHibernate.Auction.Item.hbm.xml\" assembly=\"NHibernate.Auction\"/&gt;\n        &lt;mapping resource=\"NHibernate.Auction.Bid.hbm.xml\" assembly=\"NHibernate.Auction\"/&gt;\n      &lt;/session-factory&gt;\n      &lt;system.web&gt;\n        &lt;compilation debug=\"true\"/&gt;\n      &lt;/system.web&gt;\n    &lt;/configuration&gt;\n</code></pre>\n\n<p>`</p>\n"}, {"tags": ["c#", "entity-framework-core"], "answers": [{"tags": [], "owner": {"reputation": 2580, "user_id": 4606208, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/5a92e802d5bb996c72c9ad646668d611?s=128&d=identicon&r=PG", "display_name": "Detilium", "link": "https://stackoverflow.com/users/4606208/detilium"}, "is_accepted": false, "score": 0, "last_activity_date": 1520450665, "creation_date": 1520450665, "answer_id": 49159769, "question_id": 49159604, "link": "https://stackoverflow.com/questions/49159604/one-to-one-relation-on-to-many-relation-using-same-entity/49159769#49159769", "title": "One-to-one relation + on-to-many relation using same entity", "body": "<p>I managed to solve my issue using the Entity Framework Fluent API, like this:</p>\n\n<pre><code>protected override void OnModelCreating(ModelBuilder modelBuilder)\n{\n    base.OnModelCreating(modelBuilder);\n\n    modelBuilder.Entity&lt;ContactPerson&gt;(e =&gt;\n        e.HasOne(r =&gt; r.Customer).WithMany(c =&gt; c.ContactPersons)\n    );\n}\n</code></pre>\n"}], "owner": {"reputation": 2580, "user_id": 4606208, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/5a92e802d5bb996c72c9ad646668d611?s=128&d=identicon&r=PG", "display_name": "Detilium", "link": "https://stackoverflow.com/users/4606208/detilium"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 416, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527630721, "creation_date": 1520450016, "last_edit_date": 1527630721, "question_id": 49159604, "link": "https://stackoverflow.com/questions/49159604/one-to-one-relation-on-to-many-relation-using-same-entity", "title": "One-to-one relation + on-to-many relation using same entity", "body": "<p>I'm trying to create a customer entity that has multiple contact persons, as well as one primary contact person, but I can't seem to add the migration, as I'm getting the following error:</p>\n\n<blockquote>\n  <p>Unable to determine the relationship represented by navigation property 'ContactPerson.Customer' of type 'Customer'. Either manually configure the relationship, or ignore this property using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.</p>\n</blockquote>\n\n<p><strong>Customer</strong></p>\n\n<pre><code>public class Customer\n{\n    public Guid CustomerId { get; set; }\n    public string Name { get; set; }\n    public DateTime CreateDate { get; set; }\n    public string City { get; set; }\n    public string Address { get; set; }\n\n    // Contact person data\n    public virtual ContactPerson PrimaryContactPerson { get; set; }\n    public virtual ICollection&lt;ContactPerson&gt; ContactPersons { get; set; }\n}\n</code></pre>\n\n<p><strong>ContactPerson</strong></p>\n\n<pre><code>public class ContactPerson\n{\n    public Guid ContactPersonId { get; set; }\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n\n    public virtual Customer Customer { get; set; }\n}\n</code></pre>\n\n<p>I tried adding the foreign keys myself, and annotating the foreign key property with my entity, on both the <code>Customer</code> entity as well as the <code>ContactPerson</code> entity, like this:</p>\n\n<pre><code>public class ContactPerson\n{\n    public Guid ContactPersonId { get; set; }\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n\n    [ForeignKey(\"Customer\")]\n    public Guid CustomerId { get; set; }\n    public virtual Customer Customer { get; set; }\n}\n</code></pre>\n\n<p>But it doesn't seem to make any difference, I'm still getting the same error. How can it be that EF can't determine the relationship? </p>\n\n<p>I suppose it has something to do with the one-to-one relation simultaneously existing with the one-to-many relation, but I can't seem to wrap my head around this issue. Advice and suggestion are highly appreciated!</p>\n\n<p>If I comment out the <code>PrimaryContactPerson</code> property, EF adds the migration just fine, so I'm positive that this has something to do with the two different relations.</p>\n"}, {"tags": ["c#", "xml", "uwp", "windows-store-apps", "win-universal-app"], "answers": [{"comments": [{"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "edited": false, "score": 0, "creation_date": 1520451591, "post_id": 49159916, "comment_id": 85325247, "body": "Though you&#39;re referring to a different framework (see the link I supplied in the question), I think your answer regarding the namespace may be correct."}, {"owner": {"reputation": 386, "user_id": 7007925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e20c65576e0e1a912180d2617470a76?s=128&d=identicon&r=PG&f=1", "display_name": "Wiz", "link": "https://stackoverflow.com/users/7007925/wiz"}, "reply_to_user": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "edited": false, "score": 0, "creation_date": 1520452998, "post_id": 49159916, "comment_id": 85325989, "body": "Sorry about that - I didn&#39;t notice it was linked to a different page. I believe DOM should be similar although I unfortunately couldn&#39;t find a better reference on Microsoft&#39;s site."}], "tags": [], "owner": {"reputation": 386, "user_id": 7007925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e20c65576e0e1a912180d2617470a76?s=128&d=identicon&r=PG&f=1", "display_name": "Wiz", "link": "https://stackoverflow.com/users/7007925/wiz"}, "is_accepted": true, "score": 3, "last_activity_date": 1520451360, "creation_date": 1520451360, "answer_id": 49159916, "question_id": 49159558, "link": "https://stackoverflow.com/questions/49159558/does-xmldocument-createelement-only-create-an-element/49159916#49159916", "title": "Does &#39;XmlDocument.CreateElement();&#39; ONLY create an element?", "body": "<p>The remarks in Microsoft's Documentation mentions that default attributes are created on the returned object. Namespaces come to mind as they may be automatically applied to the new element based on the XmlDocument's schema/defaults.</p>\n\n<p>It also states that it must be manually added to the desired parent node.</p>\n\n<p>From <a href=\"https://msdn.microsoft.com/en-us/library/fw1ys7w6(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/fw1ys7w6(v=vs.110).aspx</a></p>\n\n<blockquote>\n  <p>Note that the instance returned implements the XmlElement interface, so default attributes would be created directly on the returned object.</p>\n  \n  <p>Although this method creates the new object in the context of the document, it does not automatically add the new object to the document tree. To add the new object, you must explicitly call one of the node insert methods.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 2012, "user_id": 5228324, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/263db94bf76b7586da6f1c90b6596556?s=128&d=identicon&r=PG&f=1", "display_name": "Developer Guy", "link": "https://stackoverflow.com/users/5228324/developer-guy"}, "is_accepted": false, "score": 0, "last_activity_date": 1520452647, "creation_date": 1520452647, "answer_id": 49160231, "question_id": 49159558, "link": "https://stackoverflow.com/questions/49159558/does-xmldocument-createelement-only-create-an-element/49160231#49160231", "title": "Does &#39;XmlDocument.CreateElement();&#39; ONLY create an element?", "body": "<p>I think the reason that the method doesn't automatically add the element as a child like you were expecting is because there would be no way to know where the element should be added. The document could have many children and there is nothing to specify which element the created element should be added to. It can't just add it by default to the root element, because there's a good chance that isn't always going to be the desired location.</p>\n\n<p>As previously mentioned, the perks of having it be an instance method rather than a static method would be to automatically create the default attributes (such as namespace) on the newly created element. That way once it is created it should just need to be added to the proper location in the document.</p>\n"}], "owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 49159916, "answer_count": 2, "score": 1, "last_activity_date": 1520452647, "creation_date": 1520449826, "question_id": 49159558, "link": "https://stackoverflow.com/questions/49159558/does-xmldocument-createelement-only-create-an-element", "title": "Does &#39;XmlDocument.CreateElement();&#39; ONLY create an element?", "body": "<p>It seems like <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.data.xml.dom.xmldocument#Windows_Data_Xml_Dom_XmlDocument_CreateElement_\" rel=\"nofollow noreferrer\">someXml.CreateElement(\"abc\");</a> does only one thing: create the element. It does not add it as a child as I expected, nor does it seem to do anything else.</p>\n\n<p>But that doesn't make much sense. Why create an element with an instance method instead of with a static method? That would indicate that it <em>does</em> have some relationship to the instance. But I couldn't find anything and hence my question.</p>\n"}, {"tags": ["c#", "interface"], "comments": [{"owner": {"reputation": 850, "user_id": 2324316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/99bdc93b3fdd9a41fcbd08b728c02ece?s=128&d=identicon&r=PG", "display_name": "Kyle G.", "link": "https://stackoverflow.com/users/2324316/kyle-g"}, "edited": false, "score": 0, "creation_date": 1520450502, "post_id": 49159483, "comment_id": 85324636, "body": "@elgonzo My goal is not to mock the internal method (my tests don&#39;t require it to be mocked). This issue is caused by replacing the concrete class <code>MyClass</code> with the interface <code>IMyClass</code>: the internal method becomes invisible/inaccessible because it is not exposed through the interface."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1520450712, "post_id": 49159483, "comment_id": 85324765, "body": "Wait... so you want to mock parts of MyClass while not mocking other parts of MyClass? Something does not seem to add up, or i completely misunderstand you..."}, {"owner": {"reputation": 850, "user_id": 2324316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/99bdc93b3fdd9a41fcbd08b728c02ece?s=128&d=identicon&r=PG", "display_name": "Kyle G.", "link": "https://stackoverflow.com/users/2324316/kyle-g"}, "edited": false, "score": 0, "creation_date": 1520450987, "post_id": 49159483, "comment_id": 85324921, "body": "@elgonzo I&#39;m likely just not explaining myself very well. The question is not about mocking, per se. The issue came up while trying to make things easier to mock (i.e. by using DI with interfaces rather than tightly coupling <code>ContainerClass</code> to <code>MyClass</code>) because other (legacy) code calls the internal method on <code>MyClass</code> <i>through</i> an instance of the <code>ContainerClass</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1520451232, "post_id": 49159483, "comment_id": 85325048, "body": "Ah, okay. Got you now. Would it be feasible to use some abstract base class instead of an interface? The base class could provide the (virtual) internal method. And you would then have two different implementations based on this abstract base class; one normal &quot;production class&quot;, and another implementation for testing (with or without individual overrides of the public and/or internal methods)"}, {"owner": {"reputation": 850, "user_id": 2324316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/99bdc93b3fdd9a41fcbd08b728c02ece?s=128&d=identicon&r=PG", "display_name": "Kyle G.", "link": "https://stackoverflow.com/users/2324316/kyle-g"}, "edited": false, "score": 0, "creation_date": 1520451379, "post_id": 49159483, "comment_id": 85325124, "body": "Hmmm, you might be on to something there. I&#39;m trying another possible solution out right now, but if that doesn&#39;t work I&#39;ll try yours."}, {"owner": {"reputation": 850, "user_id": 2324316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/99bdc93b3fdd9a41fcbd08b728c02ece?s=128&d=identicon&r=PG", "display_name": "Kyle G.", "link": "https://stackoverflow.com/users/2324316/kyle-g"}, "edited": false, "score": 0, "creation_date": 1520453803, "post_id": 49159483, "comment_id": 85326417, "body": "@InBetween unfortunately it cannot (that was actually my first thought). elgonzo&#39;s suggesting looks to be working well so far!"}, {"owner": {"reputation": 30926, "user_id": 767890, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e169a8a6d170a77b83dd8244df5f6890?s=128&d=identicon&r=PG", "display_name": "InBetween", "link": "https://stackoverflow.com/users/767890/inbetween"}, "edited": false, "score": 0, "creation_date": 1520453836, "post_id": 49159483, "comment_id": 85326439, "body": "I was asking because in your question it <i>is</i> internal, seemed weird."}, {"owner": {"reputation": 850, "user_id": 2324316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/99bdc93b3fdd9a41fcbd08b728c02ece?s=128&d=identicon&r=PG", "display_name": "Kyle G.", "link": "https://stackoverflow.com/users/2324316/kyle-g"}, "edited": false, "score": 0, "creation_date": 1520454300, "post_id": 49159483, "comment_id": 85326676, "body": "I probably could have been more clear: <code>ContainerClass</code> gets used both internally <i>and</i> externally. My understanding is that the <code>internal</code> modifier on the <code>InternalMethod()</code> protects that method from being called from outside the assembly, regardless of <i>how</i> it gets called."}], "answers": [{"tags": [], "owner": {"reputation": 115, "user_id": 3613883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a461b43581fbe31710d1ef464458eec?s=128&d=identicon&r=PG&f=1", "display_name": "jesm00", "link": "https://stackoverflow.com/users/3613883/jesm00"}, "is_accepted": false, "score": 3, "last_activity_date": 1520453997, "creation_date": 1520453997, "answer_id": 49160542, "question_id": 49159483, "link": "https://stackoverflow.com/questions/49159483/accessing-internal-methods-through-a-public-interface/49160542#49160542", "title": "Accessing internal methods through a public interface", "body": "<p>An option is to create two interfaces, one public and one internal:</p>\n\n<pre><code>public interface IMyClassPublic\n{\n    void PublicMethod();\n}\n\ninternal interface IMyClassInternal\n{\n    void InternalMethod();\n}\n</code></pre>\n\n<p>Implement both of them in <code>MyClass</code> (you need to implement <code>IMyClassInternal</code> explicitly since it's internal):</p>\n\n<pre><code>public class MyClass : IMyClassPublic, IMyClassInternal\n{\n    public void PublicMethod() {  }\n    void IMyClassInternal.InternalMethod() {  }\n}\n</code></pre>\n\n<p>And change <code>ContainerClass</code> so that it exposes both interfaces separately (and probably make <code>myClass</code> private):</p>\n\n<pre><code>public class ContainerClass\n{\n    private MyClass myClass;\n    public IMyClassPublic myClassPublic\n    {\n        get\n        {\n            return myClass;\n        }\n    }\n\n    internal IMyClassInternal myClassInternal\n    {\n        get\n        {\n            return myClass;\n        }\n    }\n}\n</code></pre>\n\n<p>Now you can mock both of them, use the internal method as <code>containerClass.myClassInternal.InternalMethod()</code> and the public method as <code>containerClass.myClassPublic.PublicMethod()</code>.</p>\n"}], "owner": {"reputation": 850, "user_id": 2324316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/99bdc93b3fdd9a41fcbd08b728c02ece?s=128&d=identicon&r=PG", "display_name": "Kyle G.", "link": "https://stackoverflow.com/users/2324316/kyle-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "closed_date": 1520456769, "answer_count": 1, "score": 2, "last_activity_date": 1520453997, "creation_date": 1520449540, "last_edit_date": 1520450801, "question_id": 49159483, "link": "https://stackoverflow.com/questions/49159483/accessing-internal-methods-through-a-public-interface", "closed_reason": "Duplicate", "title": "Accessing internal methods through a public interface", "body": "<h2>The Situation</h2>\n\n<p>Suppose I have a class with an internal method:</p>\n\n<pre><code>class MyClass : IMyClass\n{\n    public void PublicMethod() { ... }\n    internal void InternalMethod() { ... }\n}\n</code></pre>\n\n<p>that implements an interface:</p>\n\n<pre><code>interface IMyClass\n{\n    void PublicMethod() { ... }\n}\n</code></pre>\n\n<p>And a container class that holds an instance of <code>MyClass</code> and other concrete classes:</p>\n\n<pre><code>class ContainerClass\n{\n    public MyClass myClass;\n    ...\n}\n</code></pre>\n\n<p><code>ContainerClass</code> is used by various assemblies. When used within the same assembly as <code>MyClass</code> the calling method can invoke <code>containerClass.myClass.InternalMethod()</code></p>\n\n<hr>\n\n<h2>The Problem</h2>\n\n<p>In an effort to make things more easily mockable for testing, I am now trying to replace the <code>ContainerClass</code>'s properties with interfaces rather than concrete classes, e.g.:</p>\n\n<pre><code>class ContainerClass\n{\n    public IMyClass myClass;\n    ...\n}\n</code></pre>\n\n<p><em>But,</em> if I do that, <code>InternalMethod</code> can no longer be invoked using <code>containerClass.myClass.InternalMethod()</code> because the method doesn't exist on the interface... nor <strong>can</strong> it, because it is <code>internal</code>. However, I cannot make the interface internal because <code>ContainerClass</code> is used by other assemblies as well.</p>\n\n<p>Let's assume that I cannot change the <code>internal</code> access to that method. Is there another way?</p>\n\n<hr>\n\n<p><strong>EDIT:</strong> This is different from <a href=\"https://stackoverflow.com/questions/2772621/how-to-mock-the-internal-method-of-a-class\">How to Mock the Internal Method of a class?</a> because I am not trying to mock the internal method, I am trying to keep it exposed when replacing a concrete class (<code>MyClass</code>) with an interface (<code>IMyClass</code>).</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 1, "creation_date": 1520450348, "post_id": 49159454, "comment_id": 85324558, "body": "Is the Balance textbox remaining empty, or does it show something?"}, {"owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1520450611, "post_id": 49159454, "comment_id": 85324698, "body": "Quick hacks for ensuring the input is always numeric in WinForms: use either MaskedTextBox or NumericUpDown.  Also, when doing annualrate = annualrate / 100; if anualratei is int and lower than 100, you will get 0. You should do double realRate = (double)annualRate /100; also, care for double monthlyrate = annualrate / 12; as well!!! the right side is right now treated as int, so if annualrate &lt; 12 it will set monthly rate to 0.0d. Also, balance++;  ??? It makes no sense to increment balance by 1. There might be other issues, these are the first that pop up to me"}, {"owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1520450822, "post_id": 49159454, "comment_id": 85324826, "body": "Also, you might want to separate initial calculations from the click, and also make the two other textboxes readonly after &quot;next month&quot; is clicked and perhaps a reset button to re-enable input. otherwise, with this code you get gibberish if they are edited!"}], "answers": [{"comments": [{"owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1520453124, "post_id": 49160188, "comment_id": 85326047, "body": "&quot;For example, 50% rate will give you 0.5 which will result into just 0 because you are forcing Integers&quot; - this is not quite right. Integer division happens at once, there is no &quot;in between&quot; there is no 0.5 that becomes 0, only 0"}, {"owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1520454009, "post_id": 49160188, "comment_id": 85326534, "body": "Also, what about the balance++ line? How does that ever make sense?"}, {"owner": {"reputation": 1, "user_id": 9458425, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zlogAaxKESE/AAAAAAAAAAI/AAAAAAAAAYE/fPbm4rYZMGA/photo.jpg?sz=128", "display_name": "Denis Popa", "link": "https://stackoverflow.com/users/9458425/denis-popa"}, "edited": false, "score": 0, "creation_date": 1520466861, "post_id": 49160188, "comment_id": 85332017, "body": "Granted, the balance++ thing was just a hail mary at that point."}, {"owner": {"reputation": 157, "user_id": 7395362, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/25c2a366f1acf10510b40518cb84d016?s=128&d=identicon&r=PG&f=1", "display_name": "CubanTurin", "link": "https://stackoverflow.com/users/7395362/cubanturin"}, "edited": false, "score": 0, "creation_date": 1520624823, "post_id": 49160188, "comment_id": 85407284, "body": "#Alexandru Clon\u021bea is right, it all happens at once. I was just stating the &quot;mathematics&quot; behind it for explanation. I&#39;ll edit accordingly"}], "tags": [], "owner": {"reputation": 157, "user_id": 7395362, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/25c2a366f1acf10510b40518cb84d016?s=128&d=identicon&r=PG&f=1", "display_name": "CubanTurin", "link": "https://stackoverflow.com/users/7395362/cubanturin"}, "is_accepted": false, "score": 0, "last_activity_date": 1520624922, "last_edit_date": 1520624922, "creation_date": 1520452495, "answer_id": 49160188, "question_id": 49159454, "link": "https://stackoverflow.com/questions/49159454/c-update-values-of-readonly-textboxes-after-each-click/49160188#49160188", "title": "C#: Update values of readonly textboxes after each click", "body": "<p>You're actually doing it right, the problem is that you're always getting the same result after the initial calculation due to a variable type problem.</p>\n\n<p>The problem is the fact that the local variable \"annualrate\" is Integer.</p>\n\n<p>Initially it makes sense since you are forcing them to write an integer number in the text box. Yet problem arises when you make it an actual rate by dividing it by 100.</p>\n\n<pre><code>annualrate = annualrate / 100;\n</code></pre>\n\n<p>Unless the rate in the text box is greater or equal to 100 you will always get a rate of zero because mathematically the result of any number between 0 and 100 (not including 100) divided by 100 is always between 0 and 1 (not including 1). For example, 50% rate should give you 0.5 but will result into just 0 because of the Integer division.</p>\n\n<p>An easy fix will be:</p>\n\n<pre><code>...\ndouble realannualrate = annualrate / 100;\ndouble monthlyrate = realannualrate / 12;\n...\n</code></pre>\n\n<p>You might also want to consider moving calculations and initialization to a separate functions</p>\n"}], "owner": {"reputation": 1, "user_id": 9458425, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zlogAaxKESE/AAAAAAAAAAI/AAAAAAAAAYE/fPbm4rYZMGA/photo.jpg?sz=128", "display_name": "Denis Popa", "link": "https://stackoverflow.com/users/9458425/denis-popa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520624922, "creation_date": 1520449462, "last_edit_date": 1520467264, "question_id": 49159454, "link": "https://stackoverflow.com/questions/49159454/c-update-values-of-readonly-textboxes-after-each-click", "title": "C#: Update values of readonly textboxes after each click", "body": "<p>I'm trying to update values in read-only text boxes \"Number of Months\" and \"Balance\" after each click. In the given context both of these should have a starting value of 0 when the application begins. They should be updated after each click with the number of months simply adding up (1, 2, 3, etc.). The balance should show a specific value added up with each click.</p>\n\n<p>The balance is equal to the monthly savings amount with the return of interest <em>compounded monthly</em>, so it would be dependent on the amount of months generated after each click.</p>\n\n<p>I can make the month counter tick after each click as you'll see in the code, but I can't figure out how to update the balance and display it after each activation of the \"Next Month\" button. </p>\n\n<pre><code>public partial class frmSavingsCalculator : Form\n{\n    public frmSavingsCalculator()\n    {\n        InitializeComponent();\n    }\n\n    int months = 0;\n    double balance = 0;\n\n    private void btnNext_Click(object sender, EventArgs e)\n    {\n        double monthlypmt;\n        int annualrate;\n\n        if (double.TryParse(txtMonthlySavings.Text, out monthlypmt))\n        {\n            if (int.TryParse(txtAnnualInt.Text, out annualrate))\n            {\n                annualrate = annualrate / 100;\n                double monthlyrate = annualrate / 12;\n                double changerate = (1 + monthlyrate);\n\n                txtMonths.Text = months.ToString();\n\n                months++;\n\n                balance = monthlypmt + Math.Pow(changerate, months);\n\n                txtBalance.Text = balance.ToString(\"c\");\n                balance++;       \n            }\n            else\n            {\n                MessageBox.Show(\"Please insert valid interest rate.\");\n            }\n        }\n        else\n        {\n            MessageBox.Show(\"Please insert valid number.\");\n        }\n    }\n\n        private void btnExit_Click(object sender, EventArgs e)\n    {\n        this.Close();\n    }\n}\n</code></pre>\n\n<p>My form:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gL4X0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gL4X0.png\" alt=\"enter image description here\"></a></p>\n\n<p>P.S. Here is the updated code, and yes I have additional problems!</p>\n\n<p>namespace Assignment1_BTM380\n{\n    public partial class frmSavingsCalculator : Form\n    {\n        public frmSavingsCalculator()\n        {\n            InitializeComponent();\n        }</p>\n\n<pre><code>    int months = 0;\n    double balance = 0;\n\n    private void btnNext_Click(object sender, EventArgs e)\n    {\n        double monthlypmt;\n        int annualrate;\n\n\n        if (double.TryParse(txtMonthlySavings.Text, out monthlypmt))\n        {\n            if (int.TryParse(txtAnnualInt.Text, out annualrate))\n            {\n                double realannualrate = (double) annualrate / 100;\n                double monthlyrate = realannualrate / 12;\n                double interest = (monthlypmt * monthlyrate);\n\n                txtMonths.Text = months.ToString();\n\n                months++;\n\n                balance = monthlypmt + balance * (Math.Pow(1+monthlyrate,months));\n\n\n\n                txtBalance.Text = balance.ToString(\"c\");\n\n\n\n\n            }\n            else\n            {\n                MessageBox.Show(\"Please insert valid interest rate.\");\n            }\n        }\n        else\n        {\n            MessageBox.Show(\"Please insert valid number.\");\n        }\n\n\n\n\n\n\n    }\n\n    private void btnExit_Click(object sender, EventArgs e)\n    {\n        this.Close();\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>SO, if you have the patience, bear with me. I managed to get the two text boxes to react each time I click the \"Next Month\" button, only I can't seem to get the appropriate values in the Balance. According to my professor's example, after 12 months, the Balance should display $619.86, only it shows $868.06 in my Form. I think the problem is with the Balance calculation, which I hope some of you can comment on. </p>\n\n<p>Thanks to everyone who took the time to reply!</p>\n"}, {"tags": ["c#", "azure", "xml-serialization", "azure-functions"], "comments": [{"owner": {"reputation": 30010, "user_id": 1171619, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6f1d9a240fc75d00c4a4ffa000ea4bd1?s=128&d=identicon&r=PG", "display_name": "Mikhail Shilkov", "link": "https://stackoverflow.com/users/1171619/mikhail-shilkov"}, "edited": false, "score": 0, "creation_date": 1520460198, "post_id": 49159453, "comment_id": 85329588, "body": "Sounds like <a href=\"https://github.com/dotnet/corefx/issues/26224\" rel=\"nofollow noreferrer\">this issue</a>"}], "answers": [{"tags": [], "owner": {"reputation": 12931, "user_id": 2069, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/67BMA.jpg?s=128&g=1", "display_name": "Chris Gillum", "link": "https://stackoverflow.com/users/2069/chris-gillum"}, "is_accepted": false, "score": 0, "last_activity_date": 1520536843, "creation_date": 1520536843, "answer_id": 49180897, "question_id": 49159453, "link": "https://stackoverflow.com/questions/49159453/exception-when-creating-xmlserializer-inside-an-azure-function-v2/49180897#49180897", "title": "Exception when creating XmlSerializer inside an Azure Function V2", "body": "<p>Taking Mikhail's response and mentioning it here, I think you're running into a bug with .NET Core: <a href=\"https://github.com/dotnet/corefx/issues/26224\" rel=\"nofollow noreferrer\">https://github.com/dotnet/corefx/issues/26224</a></p>\n\n<p>It looks like this fix will go out with .NET Core 2.1.0, so once we've added that version of .NET Core to Azure Functions, this issue will be resolved.</p>\n"}], "owner": {"reputation": 1417, "user_id": 6835380, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/D0iXZ.jpg?s=128&g=1", "display_name": "aaronR", "link": "https://stackoverflow.com/users/6835380/aaronr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 319, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521209098, "creation_date": 1520449455, "last_edit_date": 1521209098, "question_id": 49159453, "link": "https://stackoverflow.com/questions/49159453/exception-when-creating-xmlserializer-inside-an-azure-function-v2", "title": "Exception when creating XmlSerializer inside an Azure Function V2", "body": "<p>I have an Azure Function V2 where I am trying to serialize an object to XML.</p>\n\n<p>My object is declared in the run.csx file. (See the code below.)</p>\n\n<p>function.json file</p>\n\n<pre><code>{\"frameworks\": \n {  \n  \"net461\":\n  { \n   \"dependencies\":\n   {                  \n     \"System.Xml.XmlSerializer\":\"4.3.0\"\n   }\n  }\n },\n  \"bindings\": [\n    {\n      \"authLevel\": \"function\",\n      \"name\": \"req\",\n      \"type\": \"httpTrigger\",\n      \"direction\": \"in\",\n      \"methods\": [\n        \"get\",\n        \"post\"\n      ]\n    },\n    {\n      \"name\": \"$return\",\n      \"type\": \"http\",\n      \"direction\": \"out\"\n    }\n  ]\n}\n</code></pre>\n\n<p>run.csx file</p>\n\n<pre><code>#r \"System.Xml.XmlSerializer\"\n\nusing System.Net;\nusing System.Configuration;\nusing System.Threading.Tasks;\nusing System.Xml;\nusing System.Xml.Serialization;\nusing Microsoft.AspNetCore.Mvc;\nusing Microsoft.Extensions.Primitives;\n\npublic static IActionResult Run(HttpRequest req, TraceWriter log)\n{\n    var fileName = \"test.dat\";\n    FunctionResult resultSet = new FunctionResult(fileName);\n\n    string xmlString = \"\";\n\n    log.Info(\"typeof:\" + typeof(FunctionResult));\n    //This next line throws the error.\n    var xmlserializer = new XmlSerializer(typeof(FunctionResult));\n\n    var stringWriter = new StringWriter();\n\n    using (var writer =  XmlWriter.Create(stringWriter))\n    {\n        xmlserializer.Serialize(writer, resultSet.Rows);\n        xmlString = stringWriter.ToString();\n    }\n\n\n}\n\n//My Object has more attributes than this but this is a simplified version.\n//I still get exceptions with this simple object.\npublic class FunctionResult\n{\n    public FunctionResult(string fileName)\n    {                   \n        FileName = fileName;\n    }\n\n    public string FileName { get; set; }        \n}\n</code></pre>\n\n<p>When I make the call to create the XML Serializer off of the type of my FunctionResult object it throws the following error.</p>\n\n<blockquote>\n  <p>Exception while executing function: Functions.HttpTriggerCSharp1.\n  System.Private.CoreLib: Exception has been thrown by the target of an\n  invocation. System.Private.CoreLib: The path is not of a legal form.\n  Parameter name: path.</p>\n</blockquote>\n\n<p>When I log the result of 'typeof(FunctionResult)' I get the following:</p>\n\n<p>Code that logs the following result:</p>\n\n<pre><code>log.Info(\"typeof:\" + typeof(FunctionResult));\n</code></pre>\n\n<blockquote>\n  <p>2018-03-07T18:56:49.213 typeof:Submission#0+FunctionResult</p>\n</blockquote>\n"}, {"tags": ["c#", "uwp", "serial-port"], "comments": [{"owner": {"reputation": 1548, "user_id": 2009197, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kzFYk.png?s=128&g=1", "display_name": "Baddack", "link": "https://stackoverflow.com/users/2009197/baddack"}, "edited": false, "score": 0, "creation_date": 1520450396, "post_id": 49159414, "comment_id": 85324581, "body": "Check out <a href=\"https://github.com/Microsoft/Windows-iotcore-samples/blob/develop/Samples/SerialUART/CS/README.md\" rel=\"nofollow noreferrer\">this example</a> scroll down to the <code>Using the SerialSample App</code> section."}, {"owner": {"reputation": 5710, "user_id": 85661, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2dbf658a6000684870711ebf974eaae8?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Is Fiddling By Firelight", "link": "https://stackoverflow.com/users/85661/dan-is-fiddling-by-firelight"}, "reply_to_user": {"reputation": 1548, "user_id": 2009197, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kzFYk.png?s=128&g=1", "display_name": "Baddack", "link": "https://stackoverflow.com/users/2009197/baddack"}, "edited": false, "score": 0, "creation_date": 1520450748, "post_id": 49159414, "comment_id": 85324786, "body": "@Baddack That appears to be using a USB-RS232 adapter in the middle.  I&#39;m trying to find a way to avoid that.  Unlike consumer PCs industrial/embedded systems still have native hardware ports, and while a USB dongle might only be $10 that adds up to a lot of what looks like &#39;wasted&#39; money when you&#39;re building thousands of systems.  Never mind problems when someone goes to service a device and tries removing the adapter and connecting to the hardware port."}, {"owner": {"reputation": 5710, "user_id": 85661, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2dbf658a6000684870711ebf974eaae8?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Is Fiddling By Firelight", "link": "https://stackoverflow.com/users/85661/dan-is-fiddling-by-firelight"}, "reply_to_user": {"reputation": 1548, "user_id": 2009197, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kzFYk.png?s=128&g=1", "display_name": "Baddack", "link": "https://stackoverflow.com/users/2009197/baddack"}, "edited": false, "score": 0, "creation_date": 1520451088, "post_id": 49159414, "comment_id": 85324975, "body": "@Baddack Reading down to the &quot;Let&#39;s look at the code&quot; section confirms that it&#39;s using <code>Windows.Devices.SerialCommunications</code> namespace which only supports USB based adapters on a PC."}, {"owner": {"reputation": 222, "user_id": 9102905, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5440a73127b27ba751049a687c7e5257?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/9102905/daniel"}, "edited": false, "score": 0, "creation_date": 1520518651, "post_id": 49159414, "comment_id": 85355505, "body": "I used the same namespace while writing an app for a RaspberryPi. I was using the hardware ports and not any USB ports. At a PC I think you should just give it a try and just let your app connect to the COM Port. The only thing I noticed that&#39;s definitely not working is a virtual COM port. As long as your port has a VID/PID it shoul work."}, {"owner": {"reputation": 5710, "user_id": 85661, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2dbf658a6000684870711ebf974eaae8?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Is Fiddling By Firelight", "link": "https://stackoverflow.com/users/85661/dan-is-fiddling-by-firelight"}, "reply_to_user": {"reputation": 222, "user_id": 9102905, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5440a73127b27ba751049a687c7e5257?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/9102905/daniel"}, "edited": false, "score": 0, "creation_date": 1520867318, "post_id": 49159414, "comment_id": 85480332, "body": "@Daniel I don&#39;t currently have a PC with a hardware COM port to test (my concern was with future proofing against hardware changes).  As far as it working on your RPi, I know I saw on some piece of MS documentation that I read last week that they had different sets of supported ports for IoT vs PC use."}], "owner": {"reputation": 5710, "user_id": 85661, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2dbf658a6000684870711ebf974eaae8?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Is Fiddling By Firelight", "link": "https://stackoverflow.com/users/85661/dan-is-fiddling-by-firelight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 316, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1520449306, "creation_date": 1520449306, "question_id": 49159414, "link": "https://stackoverflow.com/questions/49159414/is-there-any-way-to-access-native-hardware-rs-232-ports-ie-not-usb-to-rs-232-do", "title": "Is there any way to access native hardware RS-232 ports (ie not USB to RS-232 dongles) in UWP apps", "body": "<p>UWP provides the <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.devices.serialcommunication\" rel=\"nofollow noreferrer\"><code>Windows.Devices.SerialCommunication</code></a> namespace.  However the documentation says that:</p>\n\n<blockquote>\n  <p>In this release, the namespace supports devices that belong to the USB CDC device class. This includes ports exposed by Serial-to-USB adapters and internal USB to serial bridge chips like those used in Arduino Uno R3s.</p>\n  \n  <p>System-internal or on-chassis serial ports may be enumerated by DeviceInformation.FindAllAsync(), but cannot be opened by SerialDevice.FromIdAsync() because they currently are not supported. However, serial ports connected over USB, such as on USB-to-Serial cables are supported.</p>\n</blockquote>\n\n<p>Is there any way to get around that limitation and communicate with native COM ports via UWP?</p>\n"}, {"tags": ["c#", "sql-server", "sqlcommand", "executenonquery"], "comments": [{"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1520449707, "post_id": 49159342, "comment_id": 85324151, "body": "Something tickles my brain about there being a bug/bugs in the TDS parser/network code causing these kinds of hangs. What&#39;s your .NET version? Can you enable framework debugging and breaking into the code to see where, exactly, it stops? Does it happen on any size of <code>data</code> -- what if you grow or shrink it by a few bytes? (And how big is <code>data</code>, anyway?)"}, {"owner": {"reputation": 497, "user_id": 1503663, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0203b3b5e7ee3f5557d305338896b972?s=128&d=identicon&r=PG", "display_name": "Thomas KiTe Trentin", "link": "https://stackoverflow.com/users/1503663/thomas-kite-trentin"}, "reply_to_user": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1520450092, "post_id": 49159342, "comment_id": 85324388, "body": "It hangs no matter the size of the file (data). I&#39;ve tried with files ranging from 700ko to 4Mo (mainly images). The delay vary a bit regarding the size but it still takes much longer that the actual insert which is done quickly (I check it in parallel through SSMS). I&#39;m using .NET 4.6, SQL server 2017 (maybe 2016, not sure with which my company sticks at the moment). I&#39;ve entered in debug mode to check where the code is hung, and it appears to be on the executenonquery line."}, {"owner": {"reputation": 5868, "user_id": 2557263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28006d7f96af66be38c4c9bd52af344?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/2557263/alejandro"}, "edited": false, "score": 0, "creation_date": 1520450333, "post_id": 49159342, "comment_id": 85324548, "body": "Have a look at the profiler, does the query appears? How much duration, reads and writes does it shows? Compare those with the manual run of the query, it could be a parameter sniffing problem."}, {"owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1520451024, "post_id": 49159342, "comment_id": 85324946, "body": "Could you post the whole code block that makes the connection and command sans sensitive data? Also, you are 100% sure that it&#39;s that line that hangs?"}, {"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1520451417, "post_id": 49159342, "comment_id": 85325147, "body": "@ThomasKiTeTrentin: it&#39;s not hung on that line -- it only appears that way to you because you&#39;ve got &quot;debug just my code&quot; enabled. If you enable framework debugging and source stepping, you can get down to the point in the framework where it actually hangs -- you&#39;d expect it to be on network I/O, but you never know. Setting this up takes a few steps, though (and isn&#39;t really worth it if it <i>does</i> turn out to be waiting on network I/O) so try other low hanging fruit first. For starters, you can use Wireshark to see when the server sends back the &quot;done&quot; packet."}, {"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1520451756, "post_id": 49159342, "comment_id": 85325336, "body": "Oh, also, if you haven&#39;t already done so, make sure to also time it with everything in release mode, no debugger attached, and no SQL profiler traces enabled. All of these are known to slow things down, sometimes pathologically."}, {"owner": {"reputation": 497, "user_id": 1503663, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0203b3b5e7ee3f5557d305338896b972?s=128&d=identicon&r=PG", "display_name": "Thomas KiTe Trentin", "link": "https://stackoverflow.com/users/1503663/thomas-kite-trentin"}, "edited": false, "score": 0, "creation_date": 1520452927, "post_id": 49159342, "comment_id": 85325960, "body": "With a relatively small image it is nearly instant. with a 700ko+ it takes a minute and I only have the message &quot;trace skipped records&quot; in profiler (I don&#39;t have access to run the profiler directly on the server unfortunately). I still have server side logs which I can access, and I can see that my procedure took 44s to return all while the data was still inserted and accessible through my manual select. I edited the post with the SQL command creation part. I tried in release mode, it doesn&#39;t go any faster."}, {"owner": {"reputation": 497, "user_id": 1503663, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0203b3b5e7ee3f5557d305338896b972?s=128&d=identicon&r=PG", "display_name": "Thomas KiTe Trentin", "link": "https://stackoverflow.com/users/1503663/thomas-kite-trentin"}, "edited": false, "score": 0, "creation_date": 1520453128, "post_id": 49159342, "comment_id": 85326049, "body": "Ah, note that it is really slow on the development environment, but the same code doesn&#39;t cause any issue on our test / prod envs yet. I copied the dev table content to the test&#39;s, but the issue still doesn&#39;t appear."}, {"owner": {"reputation": 18960, "user_id": 3312, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d66d5925cf7d5fc1375ddfd93335a921?s=128&d=identicon&r=PG", "display_name": "Jesse C. Slicer", "link": "https://stackoverflow.com/users/3312/jesse-c-slicer"}, "edited": false, "score": 0, "creation_date": 1520455508, "post_id": 49159342, "comment_id": 85327312, "body": "probably would be good to dispose (via <code>using</code>) both <code>target</code> (definitely) and <code>fichier.InputStream</code> (probably) after you assign to <code>data</code>."}, {"owner": {"reputation": 34977, "user_id": 3711162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7XKVx.png?s=128&g=1", "display_name": "Dan Guzman", "link": "https://stackoverflow.com/users/3711162/dan-guzman"}, "edited": false, "score": 0, "creation_date": 1520474764, "post_id": 49159342, "comment_id": 85334019, "body": "@ThomasKiTeTrentin, the Profiler &quot;trace skipped records&quot; is generally bad, meaning that the Profiler tracing is stressing the server. Do you have the problem with no traces running?"}, {"owner": {"reputation": 1433, "user_id": 1350922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/393eb91b6b740db8d5084127b8d433a5?s=128&d=identicon&r=PG", "display_name": "Hainan Zhao", "link": "https://stackoverflow.com/users/1350922/hainan-zhao"}, "edited": false, "score": 0, "creation_date": 1545240847, "post_id": 49159342, "comment_id": 94560741, "body": "Just curious, is -1 a valid parameter? Why   dont you put the data.Length there instead? cmd.Parameters.Add(&quot;@FichierBinary_IN&quot;, SqlDbType.VarBinary, -1).Value = data;"}], "owner": {"reputation": 497, "user_id": 1503663, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0203b3b5e7ee3f5557d305338896b972?s=128&d=identicon&r=PG", "display_name": "Thomas KiTe Trentin", "link": "https://stackoverflow.com/users/1503663/thomas-kite-trentin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 690, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1520452864, "creation_date": 1520449072, "last_edit_date": 1520452864, "question_id": 49159342, "link": "https://stackoverflow.com/questions/49159342/sqlcommand-executenonquery-hangs", "title": "SqlCommand.ExecuteNonQuery hangs", "body": "<p>I am having a strange issue on the project I'm currently working on:</p>\n\n<p>I upload a file into a table, as a varbinary as follows but the ExecuteNonQuery is stuck for approximately a minute.</p>\n\n<pre><code>cmd.Parameters.Add(\"@FichierBinary_IN\", SqlDbType.VarBinary, -1).Value = data;\ncmd.ExecuteNonQuery();\n</code></pre>\n\n<p>The weird thing is when I do a manual select to the DB I can see that the row has been created successfully within a few seconds, while the execute is still hanging.</p>\n\n<pre><code>select top 1 * from [Actions].[ItemFichier]\norder by IdItemFichier DESC\n</code></pre>\n\n<p>The stored procedure I'm calling is pretty simple: just a single insert in a table, without any more logic in it. When I run the insert manually in SSMS \nwith a copy of what I can get through SQL profiler, it is nearly instantly executed.</p>\n\n<p>What could be the source of this issue ?</p>\n\n<p><strong>EDIT: added the DB call code</strong></p>\n\n<pre><code>byte[] data = null;\n\nMemoryStream target = new MemoryStream();\nfichier.InputStream.CopyTo(target);\ndata = ImageHelper.ScaleImage(target.ToArray(), 1024, 1024);\n\n\nvar objParametre = new{\n                            FichierNom = fileName,\n                            MimeType = mimeType,\n                            Extension = ext,\n                            IdAction = idAction,\n                            IdVariance = idVariance,\n                            FichierParentItemType = paramFichierParentItemType,\n                            IdParentTemp = idParentTemp\n                        };\nusing (SqlCommand cmd = AppUTrakk.Current.SqlHelper.CreateCommand(\"Actions.pAddSetItemFichier\", objParametre))\n{\n    cmd.CommandTimeout = 180;\n    cmd.Parameters.Add(\"@FichierBinary_IN\", SqlDbType.VarBinary, -1).Value = data;\n    cmd.ExecuteNonQuery();                           \n}\n</code></pre>\n\n<p>AppUTrakk.Current.SqlHelper.CreateCommand just create the SqlCommand / connection with some default parameters, and fichier is a HttpPostedFileBase.</p>\n"}, {"tags": ["c#", "azure", "azure-functions"], "answers": [{"comments": [{"owner": {"reputation": 11784, "user_id": 179386, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Nsg7j.jpg?s=128&g=1", "display_name": "Jeff LaFay", "link": "https://stackoverflow.com/users/179386/jeff-lafay"}, "edited": false, "score": 0, "creation_date": 1520451047, "post_id": 49159565, "comment_id": 85324953, "body": "Perfect! That answered my question. I&#39;ve yet to see that in the azure documentation. Thanks so much!"}], "tags": [], "owner": {"reputation": 30010, "user_id": 1171619, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6f1d9a240fc75d00c4a4ffa000ea4bd1?s=128&d=identicon&r=PG", "display_name": "Mikhail Shilkov", "link": "https://stackoverflow.com/users/1171619/mikhail-shilkov"}, "is_accepted": false, "score": 4, "last_activity_date": 1520451778, "last_edit_date": 1520451778, "creation_date": 1520449853, "answer_id": 49159565, "question_id": 49159325, "link": "https://stackoverflow.com/questions/49159325/read-timer-trigger-schedule-from-configuration/49159565#49159565", "title": "Read Timer Trigger Schedule from Configuration", "body": "<p>Define your trigger as <code>[TimerTrigger(\"%myschedule%\")]</code> and then add an application setting <code>myschedule</code> with appropriate value (e.g. <code>*/15 * * * * *</code>).</p>\n\n<p>See <a href=\"https://docs.microsoft.com/en-us/azure/azure-functions/functions-dotnet-class-library#binding-expressions\" rel=\"nofollow noreferrer\">Binding expressions</a>.</p>\n"}], "owner": {"reputation": 11784, "user_id": 179386, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Nsg7j.jpg?s=128&g=1", "display_name": "Jeff LaFay", "link": "https://stackoverflow.com/users/179386/jeff-lafay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1520451778, "creation_date": 1520448998, "question_id": 49159325, "link": "https://stackoverflow.com/questions/49159325/read-timer-trigger-schedule-from-configuration", "title": "Read Timer Trigger Schedule from Configuration", "body": "<p>I have a function app DLL project and I want to be able to change the schedule of a timer trigger with configuration but the schedule is passed as an attribute parameter. Meaning, that I can only pass in compile time values rather than dynamically.</p>\n\n<p>Is there a way to read it from app settings or elsewhere so I don't have to make a code change whenever I want to update a schedule?</p>\n\n<p>Here's an example of what I presently have with the attribute parameter</p>\n\n<pre><code>[Function(\"MyTimeTriggeredFunction\")]\npublic static async void Run([TimerTrigger(\"*/15 * * * * *\")] TimerInfo timer, TraceWriter log)\n{\n    log.Info(\"Doing some timely work ...\");\n    // and other stuff .....\n}\n</code></pre>\n"}, {"tags": ["c#", "w3wp", "unauthorizedaccessexcepti"], "comments": [{"owner": {"reputation": 4945, "user_id": 1891133, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DHTbb.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/1891133/max"}, "edited": false, "score": 0, "creation_date": 1520448782, "post_id": 49159227, "comment_id": 85323591, "body": "Witch authentication do you use ? Try to add IISUSR to the folder"}, {"owner": {"reputation": 450, "user_id": 1534500, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1cd5fb24b40e3bef2f6715bfaedfd756?s=128&d=identicon&r=PG", "display_name": "StarNamer", "link": "https://stackoverflow.com/users/1534500/starnamer"}, "reply_to_user": {"reputation": 4945, "user_id": 1891133, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DHTbb.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/1891133/max"}, "edited": false, "score": 0, "creation_date": 1520503719, "post_id": 49159227, "comment_id": 85345975, "body": "IIS_IUSRS is a server level account and cannot be added to domain groups. In any event, I&#39;m not using anonymous access."}], "answers": [{"comments": [{"owner": {"reputation": 450, "user_id": 1534500, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1cd5fb24b40e3bef2f6715bfaedfd756?s=128&d=identicon&r=PG", "display_name": "StarNamer", "link": "https://stackoverflow.com/users/1534500/starnamer"}, "edited": false, "score": 0, "creation_date": 1520503128, "post_id": 49159314, "comment_id": 85345596, "body": "Both the account specified on the application pool and my account which is being impersonated and is the value returned by System.Environment.Username have full control on the share and all folders (and files)."}, {"owner": {"reputation": 450, "user_id": 1534500, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1cd5fb24b40e3bef2f6715bfaedfd756?s=128&d=identicon&r=PG", "display_name": "StarNamer", "link": "https://stackoverflow.com/users/1534500/starnamer"}, "edited": false, "score": 0, "creation_date": 1520504010, "post_id": 49159314, "comment_id": 85346150, "body": "I already stated in the original question that my account can access the UNC from the server and have since logged on as the application pool account and checked that it also has access from file explorer."}], "tags": [], "owner": {"reputation": 11522, "user_id": 120753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8mz8N.jpg?s=128&g=1", "display_name": "Babak Naffas", "link": "https://stackoverflow.com/users/120753/babak-naffas"}, "is_accepted": false, "score": 0, "last_activity_date": 1520448971, "creation_date": 1520448971, "answer_id": 49159314, "question_id": 49159227, "link": "https://stackoverflow.com/questions/49159227/system-unauthorizedaccessexception-when-executing-directoryinfo-getfiles-fro/49159314#49159314", "title": "System.UnauthorizedAccessException when executing DirectoryInfo().GetFiles() from W3WP - Why?", "body": "<p>You are getting different results because your permissions are different than that of the account running your app in IIS.</p>\n\n<p>Check the account that is running the application pool for your IIS site and make sure that account has access to the UNC path you are trying to access.</p>\n"}, {"comments": [{"owner": {"reputation": 450, "user_id": 1534500, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1cd5fb24b40e3bef2f6715bfaedfd756?s=128&d=identicon&r=PG", "display_name": "StarNamer", "link": "https://stackoverflow.com/users/1534500/starnamer"}, "edited": false, "score": 0, "creation_date": 1520511386, "post_id": 49171508, "comment_id": 85350617, "body": "That seems to be it. My workaround is to wrap the calls in <code>using (var wic = WindowsIndentity.Impersonate(IntPtr.Zero) { ... }</code> which makes it use the application pool account instead."}], "tags": [], "owner": {"reputation": 4945, "user_id": 1891133, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DHTbb.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/1891133/max"}, "is_accepted": true, "score": 2, "last_activity_date": 1520506881, "creation_date": 1520506881, "answer_id": 49171508, "question_id": 49159227, "link": "https://stackoverflow.com/questions/49159227/system-unauthorizedaccessexception-when-executing-directoryinfo-getfiles-fro/49171508#49171508", "title": "System.UnauthorizedAccessException when executing DirectoryInfo().GetFiles() from W3WP - Why?", "body": "<p>It seems that you have a \"double-hop\" problem.</p>\n\n<p>When you authenticate to the IIS server is the first 'hop'.<br>\nWhen IIS tries to access UNC, is the second hop which is not allowed.  </p>\n\n<p>IIS cannot in turn pass on your credentials to the UNC.</p>\n\n<p>For more infos see this articles</p>\n\n<p><a href=\"https://forums.iis.net/t/1230468.aspx\" rel=\"nofollow noreferrer\">UNC Path Access Denied error</a></p>\n\n<p><a href=\"https://weblogs.asp.net/owscott/iis-windows-authentication-and-the-double-hop-issue\" rel=\"nofollow noreferrer\">Double Hop Problem</a></p>\n"}], "owner": {"reputation": 450, "user_id": 1534500, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1cd5fb24b40e3bef2f6715bfaedfd756?s=128&d=identicon&r=PG", "display_name": "StarNamer", "link": "https://stackoverflow.com/users/1534500/starnamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 727, "favorite_count": 0, "accepted_answer_id": 49171508, "answer_count": 2, "score": 0, "last_activity_date": 1520506881, "creation_date": 1520448557, "last_edit_date": 1520504057, "question_id": 49159227, "link": "https://stackoverflow.com/questions/49159227/system-unauthorizedaccessexception-when-executing-directoryinfo-getfiles-fro", "title": "System.UnauthorizedAccessException when executing DirectoryInfo().GetFiles() from W3WP - Why?", "body": "<p>I am running an ASP.NET webform which is trying to get the contents of a shared folder using <code>new DirectoryInfo(path).GetFiles(pattern)</code>. The application pool is set to run with a domain username, but at the point of execution it is impersonating my username. I am in a group which has <em>Full Control</em> access to all folders in the tree and has <em>Full Control</em> access the share. In addition, I have given <code>Everyone</code> <em>Read</em>, <em>Read &amp; Execute</em> and <em>List folder contents</em> access to the folder tree and <em>Read &amp; execute</em> access to the share.</p>\n\n<p>However, when the statement is executed I get a <code>System.UnauthorizedAccessException:'Access to the path '\\\\server\\share\\sub1\\sub2' is denied.</code></p>\n\n<p>Running SysInternals' Process Monitor, the event shows:</p>\n\n<pre><code>Desired Access: Read Data/List Directory, Synchronize\nDisposition:    Open\nOptions:        Directory, Synchronous IO Non-Alert, Open For Backup\nAttributes:     n/a\nShareMode:      Read, Write Delete\nAllocationSize: n/a\nImpersonating:  &lt;MyUsername&gt;\n</code></pre>\n\n<p>Running a command window on the same server, I get no error when getting a directory listing of the folder or accessing any files in the folder.</p>\n\n<p>What am I missing?</p>\n\n<p>Why is the response, viewed in Process Monitor, <strong>ACCESS DENIED</strong> with the Operation given as <strong>CreateFile</strong>?</p>\n\n<p>Short of giving <code>Everyone</code> <em>Full Control</em> (which I don't think would help) I can't think of any more permissions to grant.</p>\n\n<p>Note, I also tried <code>Directory.EnumerateFiles(path, pattern)</code> with the same result.</p>\n\n<p>Update:</p>\n\n<p>The Authentication on the web site is <code>Windows Authentication</code> and <code>ASP.NET impersonation</code>; anonymous access is disabled. The particular page does not override this.</p>\n"}, {"tags": ["c#", "vsto", "contextmenu", "outlook-addin", "outlook-2013"], "comments": [{"owner": {"reputation": 2264, "user_id": 1659719, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/36b791661bd8e18a8cc7b6c081d6611e?s=128&d=identicon&r=PG", "display_name": "Shyam sundar shah", "link": "https://stackoverflow.com/users/1659719/shyam-sundar-shah"}, "edited": false, "score": 0, "creation_date": 1520495667, "post_id": 49159216, "comment_id": 85341064, "body": "Web addin does not allow to add context menu\\"}, {"owner": {"reputation": 11, "user_id": 9458431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b84440ef02088e2eed559bf7dd787351?s=128&d=identicon&r=PG&f=1", "display_name": "Jeand", "link": "https://stackoverflow.com/users/9458431/jeand"}, "reply_to_user": {"reputation": 2264, "user_id": 1659719, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/36b791661bd8e18a8cc7b6c081d6611e?s=128&d=identicon&r=PG", "display_name": "Shyam sundar shah", "link": "https://stackoverflow.com/users/1659719/shyam-sundar-shah"}, "edited": false, "score": 0, "creation_date": 1520520332, "post_id": 49159216, "comment_id": 85356771, "body": "It is not a web addin."}, {"owner": {"reputation": 2264, "user_id": 1659719, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/36b791661bd8e18a8cc7b6c081d6611e?s=128&d=identicon&r=PG", "display_name": "Shyam sundar shah", "link": "https://stackoverflow.com/users/1659719/shyam-sundar-shah"}, "edited": false, "score": 0, "creation_date": 1520771046, "post_id": 49159216, "comment_id": 85443505, "body": "yes, you can get contact email address  in call back method. If it is oeky for you let me know. if will give code, if you need paid version trainining let me know :)"}, {"owner": {"reputation": 11, "user_id": 9458431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b84440ef02088e2eed559bf7dd787351?s=128&d=identicon&r=PG&f=1", "display_name": "Jeand", "link": "https://stackoverflow.com/users/9458431/jeand"}, "reply_to_user": {"reputation": 2264, "user_id": 1659719, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/36b791661bd8e18a8cc7b6c081d6611e?s=128&d=identicon&r=PG", "display_name": "Shyam sundar shah", "link": "https://stackoverflow.com/users/1659719/shyam-sundar-shah"}, "edited": false, "score": 0, "creation_date": 1520890588, "post_id": 49159216, "comment_id": 85493528, "body": "I already have one call back method on my new contextmenu item to have an action. But for this action I need the right clicked contact email address. If you can give some clues on how to do this it will be awesome!"}], "answers": [{"tags": [], "owner": {"reputation": 34, "user_id": 2464004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2J6nR.jpg?s=128&g=1", "display_name": "KhaledZero", "link": "https://stackoverflow.com/users/2464004/khaledzero"}, "is_accepted": false, "score": 1, "last_activity_date": 1554497978, "creation_date": 1554497978, "answer_id": 55543282, "question_id": 49159216, "link": "https://stackoverflow.com/questions/49159216/find-out-which-contact-the-user-right-clicked-on/55543282#55543282", "title": "Find out which contact the user right clicked on", "body": "<p>Maybe too late but can be helpful for others!</p>\n\n<p><strong>XML</strong></p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;customUI xmlns=\"http://schemas.microsoft.com/office/2009/07/customui\" onLoad=\"Ribbon_Load\"&gt;\n      &lt;contextMenus&gt;\n        &lt;contextMenu idMso=\"ContextMenuContactCardRecipient\"&gt;\n          &lt;button id=\"myMenuBtn\"\n              label=\"get mail email\"\n              onAction=\"lookForMe\"\n              visible=\"true\"/&gt;\n        &lt;/contextMenu&gt;\n      &lt;/contextMenus&gt;\n    &lt;/customUI&gt;\n</code></pre>\n\n<p><strong>C#</strong></p>\n\n<pre><code>        public void lookForMe(IRibbonControl control)\n    {\n        Office.IMsoContactCard card = control.Context as Office.IMsoContactCard;\n        string email = GetSmtpAddress(card);\n        if (email != null)\n        {\n            System.Diagnostics.Process.Start(\"https://org.ad.com/\" + email);\n        }\n    }\n\n    private string GetSmtpAddress(Office.IMsoContactCard card)\n    {\n        if (card.AddressType == Office.MsoContactCardAddressType.msoContactCardAddressTypeOutlook)\n        {\n            Microsoft.Office.Interop.Outlook.Application host = Globals.ThisAddIn.Application;\n            Microsoft.Office.Interop.Outlook.AddressEntry ae = host.Session.GetAddressEntryFromID(card.Address);\n\n            if ((ae.AddressEntryUserType == Microsoft.Office.Interop.Outlook.OlAddressEntryUserType.olExchangeUserAddressEntry \n                || ae.AddressEntryUserType == Microsoft.Office.Interop.Outlook.OlAddressEntryUserType.olExchangeRemoteUserAddressEntry))\n            {\n                Microsoft.Office.Interop.Outlook.ExchangeUser ex = ae.GetExchangeUser();\n                return ex.PrimarySmtpAddress;\n            }\n            else\n                throw new System.Exception(\"unvalid address entry not found.\");\n        }\n        else\n            return card.Address;\n    }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9458431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b84440ef02088e2eed559bf7dd787351?s=128&d=identicon&r=PG&f=1", "display_name": "Jeand", "link": "https://stackoverflow.com/users/9458431/jeand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554497978, "creation_date": 1520448498, "last_edit_date": 1521667820, "question_id": 49159216, "link": "https://stackoverflow.com/questions/49159216/find-out-which-contact-the-user-right-clicked-on", "title": "Find out which contact the user right clicked on", "body": "<p>thank you in advance for your help. I have been looking for a solution by myself for a while.</p>\n\n<p>The context: I added a new context menu when the user right-clicks on a contact. Its id is <code>ContextMenuContactCardRecipient</code>. </p>\n\n<p>The problem: When the user is in this context menu and clicks on my new button, I need to know which contact the user right-clicked to get to the context menu.</p>\n\n<p>I could not find a way to retrieve the contact items details... Does anyone have an idea on how I can do this?</p>\n\n<p>The answer provided here does not work for me:\n<a href=\"https://stackoverflow.com/questions/29970060/how-can-i-reliably-get-the-object-of-a-contact-context-menu-in-an-outlook-2013-a/49415654?noredirect=1#comment85833033_49415654\">How can I reliably get the object of a contact context menu in an Outlook 2013 addin?</a></p>\n\n<p>Thank you!</p>\n"}, {"tags": ["c#", "oracle", ".net-core"], "comments": [{"owner": {"reputation": 11683, "user_id": 1570854, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ef6Ng.jpg?s=128&g=1", "display_name": "Lesiak", "link": "https://stackoverflow.com/users/1570854/lesiak"}, "edited": false, "score": 2, "creation_date": 1520490683, "post_id": 49159199, "comment_id": 85338692, "body": "You mention having added <code>Oracle.ManagedDataAccess.Client</code> while the package name is <code>Oracle.ManagedDataAccess.Core</code>. Is that a typo? Can you show us your dependenceis in <code>.csproj</code>?"}, {"owner": {"reputation": 455, "user_id": 7004017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fSKRE.jpg?s=128&g=1", "display_name": "lat94", "link": "https://stackoverflow.com/users/7004017/lat94"}, "reply_to_user": {"reputation": 11683, "user_id": 1570854, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ef6Ng.jpg?s=128&g=1", "display_name": "Lesiak", "link": "https://stackoverflow.com/users/1570854/lesiak"}, "edited": false, "score": 0, "creation_date": 1520508047, "post_id": 49159199, "comment_id": 85348592, "body": "@Lesiak you could not be more right, thanks! But that is an error someone else might fall in too. Because when you download the zip file from <a href=\"http://www.oracle.com/technetwork/topics/dotnet/downloads/odpnetcorebeta-4077982.html\" rel=\"nofollow noreferrer\">oracle link</a> the dll name is <code>Oracle.ManagedDataAccess.dll</code>"}], "answers": [{"comments": [{"owner": {"reputation": 11683, "user_id": 1570854, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ef6Ng.jpg?s=128&g=1", "display_name": "Lesiak", "link": "https://stackoverflow.com/users/1570854/lesiak"}, "edited": false, "score": 0, "creation_date": 1520527563, "post_id": 49171996, "comment_id": 85361879, "body": "To be precise, Oracle.ManagedDataAccess.Core is a NuPkg, not a dll. The problem with the link is that the download has a zip extension, not NuPkg. That is the reason why nuget doesn&#39;t notice it in local repository."}, {"owner": {"reputation": 455, "user_id": 7004017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fSKRE.jpg?s=128&g=1", "display_name": "lat94", "link": "https://stackoverflow.com/users/7004017/lat94"}, "reply_to_user": {"reputation": 11683, "user_id": 1570854, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ef6Ng.jpg?s=128&g=1", "display_name": "Lesiak", "link": "https://stackoverflow.com/users/1570854/lesiak"}, "edited": false, "score": 0, "creation_date": 1520529126, "post_id": 49171996, "comment_id": 85362884, "body": "you will find the &quot;Oracle.ManagedDataAccess.dll&quot; if you unzip the file, inside &quot;~/Oracle.ManagedDataAccess.Core.2.12.0-beta2/lib/netstandar&zwnj;&#8203;d2.0&quot;. I had to move it to my project&#39;s binary folder &quot;~/bin&quot;."}, {"owner": {"reputation": 11683, "user_id": 1570854, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ef6Ng.jpg?s=128&g=1", "display_name": "Lesiak", "link": "https://stackoverflow.com/users/1570854/lesiak"}, "edited": false, "score": 0, "creation_date": 1520530013, "post_id": 49171996, "comment_id": 85363412, "body": "Correct, this is one way to deal with downloaded nupkg. Other is to setup a local nuget repo. But the driver is finally in official NuGet repo, so we don&#39;t have to do this."}], "tags": [], "owner": {"reputation": 455, "user_id": 7004017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fSKRE.jpg?s=128&g=1", "display_name": "lat94", "link": "https://stackoverflow.com/users/7004017/lat94"}, "is_accepted": true, "score": 6, "last_activity_date": 1520509460, "last_edit_date": 1520509460, "creation_date": 1520508494, "answer_id": 49171996, "question_id": 49159199, "link": "https://stackoverflow.com/questions/49159199/connect-to-oracle-database-in-dotnet-mvc-application/49171996#49171996", "title": "Connect to Oracle database in dotnet mvc application", "body": "<p>As @Lesiak stated, I used the wrong package (the right one is <code>Oracle.ManagedDataAccess.Core.dll</code>).  But that is an error someone else might fall in too. Because when you download the zip file from <a href=\"http://www.oracle.com/technetwork/topics/dotnet/downloads/odpnetcorebeta-4077982.html\" rel=\"noreferrer\">Oracle Link</a> the dll name is <code>Oracle.ManagedDataAccess.dll</code> instead of <code>Oracle.ManagedDataAccess.Core.dll</code> that's error prone.</p>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 2974870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hl1Kl.jpg?s=128&g=1", "display_name": "ppenchev", "link": "https://stackoverflow.com/users/2974870/ppenchev"}, "edited": false, "score": 1, "creation_date": 1569407672, "post_id": 53284051, "comment_id": 102584959, "body": "Yep, that worked for me .net core 2.2 - thanks! I didn&#39;t notice before your comment that there is core version"}], "tags": [], "owner": {"reputation": 341, "user_id": 10646931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZQIb.jpg?s=128&g=1", "display_name": "Nathan Raine", "link": "https://stackoverflow.com/users/10646931/nathan-raine"}, "is_accepted": false, "score": 23, "last_activity_date": 1542122080, "creation_date": 1542122080, "answer_id": 53284051, "question_id": 49159199, "link": "https://stackoverflow.com/questions/49159199/connect-to-oracle-database-in-dotnet-mvc-application/53284051#53284051", "title": "Connect to Oracle database in dotnet mvc application", "body": "<p>For me, the solution was to install the <code>Oracle.ManagedDataAccess.Core</code> NuGet package <strong>only</strong>.  I had <code>Oracle.ManagedDataAccess</code> installed as well and I needed to uninstall them to fix the error.</p>\n"}, {"tags": [], "owner": {"reputation": 1056, "user_id": 1898992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13f1427d27e1a26bbb7b42efde6eee9a?s=128&d=identicon&r=PG", "display_name": "Mimina", "link": "https://stackoverflow.com/users/1898992/mimina"}, "is_accepted": false, "score": 0, "last_activity_date": 1613725768, "creation_date": 1613725768, "answer_id": 66274636, "question_id": 49159199, "link": "https://stackoverflow.com/questions/49159199/connect-to-oracle-database-in-dotnet-mvc-application/66274636#66274636", "title": "Connect to Oracle database in dotnet mvc application", "body": "<p>Install <a href=\"https://www.nuget.org/packages/Oracle.ManagedDataAccess.Core/\" rel=\"nofollow noreferrer\">Oracle.ManagedDataAccess.Core</a> nuget package to your project.<br />\nMake sure code below is included in your .csproj file:</p>\n<pre><code>&lt;PackageReference Include=&quot;Oracle.ManagedDataAccess.Core&quot; Version=&quot;3.21.1&quot; /&gt;\n</code></pre>\n<p>Also <strong>uninstall &quot;Oracle.ManagedDataAccess&quot;</strong> from your project.<br />\nMake sure code below is <strong>removed</strong> from your .csproj file:</p>\n<pre><code>&lt;PackageReference Include=&quot;Oracle.ManagedDataAccess&quot; Version=&quot;19.10.1&quot; /&gt;\n</code></pre>\n"}], "owner": {"reputation": 455, "user_id": 7004017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fSKRE.jpg?s=128&g=1", "display_name": "lat94", "link": "https://stackoverflow.com/users/7004017/lat94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6591, "favorite_count": 1, "accepted_answer_id": 49171996, "answer_count": 3, "score": 9, "last_activity_date": 1613725768, "creation_date": 1520448426, "question_id": 49159199, "link": "https://stackoverflow.com/questions/49159199/connect-to-oracle-database-in-dotnet-mvc-application", "title": "Connect to Oracle database in dotnet mvc application", "body": "<p>Oracle released a beta version <a href=\"http://www.oracle.com/technetwork/topics/dotnet/downloads/odpnetcorebeta-4077982.html\" rel=\"noreferrer\">driver ODP for dotnet core 2</a>(Finally!). But I can't make it work. Does anybody did it? If yes, please send me the code or help me fixing this one \\o</p>\n\n<p><strong>Useful</strong>: I am using Visual Code, project \"dotnet new mvc\" (.net 2) and I installed <code>Oracle.ManagedDataAccess.Client</code> via Nuget Add Package facility (CTRL + P, ...)\nHere my code:</p>\n\n<pre><code>public static OracleConnection AbrirSigmaUser(AutenticacaoModel autenticacao)\n        {\n            try\n            {\n\n                string _connectionString;\n\n                _connectionString = \"Data Source=(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=192.168.0.15)(PORT=1521))(CONNECT_DATA=(SERVICE_NAME=databaseName)));User Id=UserName;Password=***;\";\n\n\n                OracleConnection conexao = new OracleConnection();\n                conexao.ConnectionString = _connectionString;\n\n                //right here the program exit\n                conexao.Open();             \n\n\n\n\n                return conexao;\n            }\n            catch (System.Exception ex)\n            {               \n\n                throw new Exception(\"N\u00e3o foi poss\u00edvel conectar ao banco de dados!\" + \"\\nErro: \" + ex.Message);\n            }\n        }\n</code></pre>\n\n<p>The compiler was throwing a lot of exceptions about missing dlls, so I installed them via Nuget Add Package facility:</p>\n\n<pre><code>//required for connection\nusing Oracle.ManagedDataAccess.Client;\nusing System.Configuration;\nusing System.Security.Permissions;\nusing System.Security.Principal;\n</code></pre>\n\n<p>After adding all dlls asked, the program goes to conexao.Open() and never comes back, throwing an unhandled exception:</p>\n\n<pre><code>Unhandled Exception: System.TypeLoadException: Could not load type 'System.Security.Principal.WindowsImpersonationContext' from assembly 'mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089'.\n   at OracleInternal.ConnectionPool.PoolManager`3.CreateNewPRThreadFunc(Object state)\n   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)\n   at System.Threading.ThreadPoolWorkQueue.Dispatch()\nThe program '[8860] Sensatta-Analytcs.dll' has exited with code 0 (0x0).\n</code></pre>\n\n<p>Is all of it really needed to make a simple connection?</p>\n\n<p>If there's something missing(e.g code samples) in order to figure out my issue, just tell me!</p>\n"}, {"tags": ["c#", "asp.net-core-2.0", "dotnet-httpclient"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user985372"}, "edited": false, "score": 0, "creation_date": 1520448553, "post_id": 49159194, "comment_id": 85323460, "body": "These are both just console examples"}, {"owner": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "edited": false, "score": 0, "creation_date": 1520448655, "post_id": 49159194, "comment_id": 85323519, "body": "So what is the problem with .Net Core code? You get 401 error?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user985372"}, "reply_to_user": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "edited": false, "score": 0, "creation_date": 1520448779, "post_id": 49159194, "comment_id": 85323587, "body": "Sorry, yes, unauthorized 401"}, {"owner": {"reputation": 2826, "user_id": 4222487, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/idvz6.jpg?s=128&g=1", "display_name": "FaizanHussainRabbani", "link": "https://stackoverflow.com/users/4222487/faizanhussainrabbani"}, "edited": false, "score": 2, "creation_date": 1520448953, "post_id": 49159194, "comment_id": 85323703, "body": "You can use Fiddler to capture both requests and compare the difference."}, {"owner": {"user_type": "does_not_exist", "display_name": "user985372"}, "edited": false, "score": 0, "creation_date": 1520449384, "post_id": 49159194, "comment_id": 85323981, "body": "Good idea Faizan, but thought I&#39;d be doing something studpid. .Net version 4.7 by the way."}, {"owner": {"reputation": 32179, "user_id": 62600, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/122fffb7bc691c8e7e5e5b2308517257?s=128&d=identicon&r=PG", "display_name": "Todd Menier", "link": "https://stackoverflow.com/users/62600/todd-menier"}, "edited": false, "score": 0, "creation_date": 1520693270, "post_id": 49159194, "comment_id": 85425174, "body": "In the first example you&#39;re using Windows credentials. In the second you&#39;re using both Windows credentials and Basic authentication. I doubt that was your intent, not sure if you just copied that from somewhere or what but try removing the entire line that starts with <code>client.DefaultRequestHeaders...</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user985372"}, "edited": false, "score": 0, "creation_date": 1521138203, "post_id": 49159194, "comment_id": 85615518, "body": "Thanks Todd. Just trying different variations, monkey fashion. Same effect.Looking at Fiddler output, they are almost identical. www Authenticate hash is different in a few chars; assume the time changes On the succesful attempt I get two 401 results then a 200 with the data; unsuccesful gives three 401 results. I cannot see much difference in the raw results."}, {"owner": {"user_type": "does_not_exist", "display_name": "user985372"}, "edited": false, "score": 0, "creation_date": 1521138620, "post_id": 49159194, "comment_id": 85615728, "body": "Looking at the headers, the unsuccessful attempt has a Transport &gt; Connection:Keep-Alive in the second of the 401 results, whereas the successful attempt doesn&#39;t."}, {"owner": {"reputation": 52402, "user_id": 47633, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b072fc2897196b3bafcd337bc9c91e2d?s=128&d=identicon&r=PG", "display_name": "opensas", "link": "https://stackoverflow.com/users/47633/opensas"}, "edited": false, "score": 0, "creation_date": 1557984466, "post_id": 49159194, "comment_id": 98950462, "body": "Seems like a very basic thing to do, is it possible to do it with netcore? I&#39;m surprised no answer came out..."}], "owner": {"user_type": "does_not_exist", "display_name": "user985372"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1938, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1520448413, "creation_date": 1520448413, "question_id": 49159194, "link": "https://stackoverflow.com/questions/49159194/net-core-httpclient-authorization", "title": ".Net Core httpClient authorization", "body": "<p>I have a WebClient interface to an API, which works, </p>\n\n<pre><code>class Program\n    {\n        static void Main(string[] args)\n        {\n            // Create an empty instance of the NetworkCredential class.\n            NetworkCredential myCredentials = new NetworkCredential(\"\", \"\", \"\");\n            myCredentials.Domain = \"\";\n            myCredentials.UserName = \"myusername\";\n            myCredentials.Password = \"mypassword\";\n            var url = \"http://blablabla\";\n            // Create a WebRequest with the specified URL.\n            WebRequest myWebRequest = WebRequest.Create(url);\n            myWebRequest.Credentials = myCredentials;\n\n            // Send the request and wait for a response.\n            WebResponse myWebResponse = myWebRequest.GetResponse();\n            // Process the response.\n            Stream dataStream = myWebResponse.GetResponseStream();\n            StreamReader reader = new StreamReader(dataStream);\n            // Read the content. \n            string responseFromServer = reader.ReadToEnd();\n            // Display the content. \n            Console.WriteLine(responseFromServer);\n            Console.ReadKey();\n            // Release the resources of the response object.\n            myWebResponse.Close();\n        }\n    }\n</code></pre>\n\n<p>But cannot get the equivalent going with Core v2, this is my current code, but I've been through a number of variations and Google searches; would welcome some help. The API is a JSON feed.</p>\n\n<pre><code>class Program\n{\n    private static HttpClient client = new HttpClient();\n    static void Main(string[] args)\n    {\n        Console.WriteLine(\"Starting...\");\n        ProcessWebRequest().Wait();\n    }\n\n    private static async Task ProcessWebRequest()\n    {\n        var credentials = new NetworkCredential(\"myusername\", \"mypassword\");\n        var handler = new HttpClientHandler { Credentials = credentials };\n        var url = \"http://blablabla\";\n\n        client = new HttpClient(handler);\n        client.DefaultRequestHeaders.Authorization\n                = new AuthenticationHeaderValue(\"Basic\",\n                    Convert.ToBase64String(\n                        System.Text.ASCIIEncoding.ASCII.GetBytes(\n                            string.Format(\"{0}:{1}\", \"myusername\", \"mypassword\"))));\n\n        var stringTask = client.GetStringAsync(url);\n        var msg = await stringTask;\n        Console.Write(msg);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "angular", "asp.net-core"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 1, "creation_date": 1520448655, "post_id": 49159173, "comment_id": 85323520, "body": "You are asking about extremely different stuff that by their own most is too broad for this site. Your title is barely even mentioned in the question  at the top. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. As an extra, there&#39;s no easy way to handle all of this"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1520449323, "post_id": 49159173, "comment_id": 85323942, "body": "This feels like 3 questions in one. The actual posted answer is pretty accurate in terms of the stated question. Your other two really have nothing to do with .NET Core vs ASP.NET"}], "answers": [{"tags": [], "owner": {"reputation": 5440, "user_id": 417866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958d07f426a20a9bc1bb7db75086f9d5?s=128&d=identicon&r=PG", "display_name": "Arash Motamedi", "link": "https://stackoverflow.com/users/417866/arash-motamedi"}, "is_accepted": false, "score": 1, "last_activity_date": 1520453317, "last_edit_date": 1520453317, "creation_date": 1520449431, "answer_id": 49159447, "question_id": 49159173, "link": "https://stackoverflow.com/questions/49159173/sharing-routes-and-controllers-between-asp-net-and-asp-net-core-projects-in-same/49159447#49159447", "title": "Sharing routes and controllers between ASP.NET and ASP.NET Core projects in same solution", "body": "<p>I'm working on a large project that consists of some legacy code (ASP.NET MVC), some SPA (React in my case), some newer Web API backend (ASP.NET Core), and here's how I've evolved in my journey:</p>\n\n<ol>\n<li><p>Develop your SPA entirely outside of your .NET solution. This liberates you to use more Typescript + Javascript savvy IDEs (VS Code in my case), debug them with the tooling provided by your framework (Angular, React, etc.), and take advantage of more advanced client-side debugging mechanisms built into Chrome, and even some IDEs (again, VS Code does an excellent job debugging client-side Javascript via its Chrome debugging interface integration). Caveat: you'll have to invent a bit of a <strong>debug-build-deploy</strong> workflow to string together debug-time hot-reload capabilities, build-time bundling and minifying, publish-time copying of assets, etc. </p></li>\n<li><p>If you're in the process of moving your backend from an ASP.NET codebase to the ASP.NET Core codebase, start by having your client call two different end-points (one running your legacy backend hosting legacy APIs, the other running your new backend). Then, incrementally port code into your new codebase and evolve your client to call the new backend for the APIs that you've ported. Eventually, sunset your legacy backend once all APIs are ported. In the meantime, you may also have to proxy some backend calls from your ASP.NET Core codebase to your legacy ASP.NET codebase.</p></li>\n<li><p>Finally, and I say this deliberately, if your client-side application is going to be an SPA, do consider Node JS for your backend. </p></li>\n</ol>\n\n<p>This is where my journey has taken me so far. I consistently found the Big VS lacking in features and tooling when it came to client-side Javascript coding and debugging, whereas VS Code is a leading IDE for just this sort of work. Hence, my motivation to move my client-side development work entirely out of my VS solution. </p>\n\n<p>Finally, I'm using Typescript for both the client-side SPA, as well as for my new Node JS backend. I can't imagine coding a big JS project without Typescript. But with it, I'm developing both our React frontend as well as our Node JS backend confidently and with ease. No more duplicate object interface/class definitions, redundant DTOs, etc. Things just meld together more nicely and coherently. And I'm saying this as a fan and long-time ASP.NET + Core developer, so no ideological motivations here, just practical reasoning. </p>\n"}], "owner": {"reputation": 16892, "user_id": 2109585, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/00d53bca302dc31b964bb0dec61359e3?s=128&d=identicon&r=PG", "display_name": "JDillon522", "link": "https://stackoverflow.com/users/2109585/jdillon522"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "closed_date": 1520456442, "answer_count": 1, "score": 0, "last_activity_date": 1520453317, "creation_date": 1520448305, "last_edit_date": 1520449153, "question_id": 49159173, "link": "https://stackoverflow.com/questions/49159173/sharing-routes-and-controllers-between-asp-net-and-asp-net-core-projects-in-same", "closed_reason": "Needs more focus", "title": "Sharing routes and controllers between ASP.NET and ASP.NET Core projects in same solution", "body": "<p><strong>Question</strong>: How do I configure a solution with a .NET Core application to use the same controllers, routes, and authentication handled by an ASP.NET application in the same solution? </p>\n\n<p><strong>Background</strong>: I have a project that is a single page application built with the ASP.NET Single Page Application template included in VS. The template creates a project using knockout as the SPA library. I am going to greatly expand the codebase of the application and we are going to move it to an Angular project. </p>\n\n<p>I'd like to use the new Angular template that properly takes advantage of the Angular CLI as well as uses the more lightweight .NET Core. The problem is that I dont know how to take advantage of all the backend codebase currently maintained in the original ASP.NET application from the .NET Core project in the same solution.</p>\n\n<p>I am able to develop the Angular application within the original ASP.NET application by creating a ClientApp directory and building a new Angular CLI application in that directory. I develop using the <code>ng build --watch</code> command which outputs static files on every save to a ClientDist directory. I can then serve up the rendered static assets from any given route by adding a few adjustments to my web.confg and calling the following in the associated controller: </p>\n\n<pre><code>public ActionResult Index()\n    {\n        return new FilePathResult(\"/ClientDist/index.html\", \"text/html\");\n    }\n</code></pre>\n\n<p>The major downside to this approach is: </p>\n\n<ol>\n<li>I believe it muddles concerns of the codebase. An Angular CLI application is a very large undertaking that should be seperate from the rest of the backend codebase as much as possible. </li>\n<li>(the real downside) I cant figure out how to debug my Typescript files in the browser. Normally when you develop an Angular CLI app you can set breakpoints in the compiled code thats then mapped to the original Typescript file. With this model I only have the compiled code. Its doable right now since its a small application, but it'll hamstring us latter.</li>\n</ol>\n"}, {"tags": ["c#", "c++", "opencv", "emgucv"], "comments": [{"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 1, "creation_date": 1520452700, "post_id": 49158952, "comment_id": 85325854, "body": "The <a href=\"https://docs.opencv.org/trunk/d3/d63/classcv_1_1Mat.html#aa5d20fc86d41d59e4d71ae93daee9726\" rel=\"nofollow noreferrer\">documentation</a> seems to do a fairly good job, IMHO. Since you&#39;re new to OpenCV, it may be prudent to familiarize yourself with it and use it."}], "answers": [{"tags": [], "owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "is_accepted": true, "score": 0, "last_activity_date": 1520449158, "creation_date": 1520449158, "answer_id": 49159369, "question_id": 49158952, "link": "https://stackoverflow.com/questions/49158952/what-is-opencvs-equivalent-in-emgucv-atucharcy-cx/49159369#49159369", "title": "What is OpenCV&#39;s equivalent in EmguCV .at&lt;uchar&gt;(cy, cx)?", "body": "<p>The line is used to change the pixel intensity.</p>\n\n<p>Here it is the gray intensity I guess.</p>\n\n<p>try this;</p>\n\n<pre><code>Image&lt;Gray,Byte&gt; imageGray; // Assume you have this Object\nimageGray[x, y] = new Gray(255);\n</code></pre>\n\n<p>For grayscale it seems order is x ,y only .... But for color it seems the order is y,x.</p>\n\n<p>Search for   <strong><em>grayscale image</em></strong> </p>\n\n<p>in <a href=\"http://www.emgu.com/wiki/index.php/Working_with_Images\" rel=\"nofollow noreferrer\">http://www.emgu.com/wiki/index.php/Working_with_Images</a></p>\n"}], "owner": {"reputation": 871, "user_id": 2733661, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wXewt.jpg?s=128&g=1", "display_name": "BorHunter", "link": "https://stackoverflow.com/users/2733661/borhunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "accepted_answer_id": 49159369, "answer_count": 1, "score": 0, "last_activity_date": 1520452607, "creation_date": 1520447463, "last_edit_date": 1520452607, "question_id": 49158952, "link": "https://stackoverflow.com/questions/49158952/what-is-opencvs-equivalent-in-emgucv-atucharcy-cx", "title": "What is OpenCV&#39;s equivalent in EmguCV .at&lt;uchar&gt;(cy, cx)?", "body": "<p>I'm new in c++ and opencv, my familiar language is c#.\nFound some kind of code and in this code has a line:</p>\n\n<pre><code>dst.at&lt;uchar&gt;(cy, cx) = 255;\n</code></pre>\n\n<p>Where dst is destination image, in C# is <code>Image&lt;Gray, Byte&gt;</code>. As I understood from a line in this byte writes some color.</p>\n\n<p>Does anyone can explain me this line and which equivalent for it in emgucv?</p>\n"}, {"tags": ["c#", "entity-framework", "generics", "dbcontext"], "comments": [{"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 1, "creation_date": 1520448083, "post_id": 49158852, "comment_id": 85323225, "body": "It might help a little if you replace <code>T</code>, <code>ClassA</code>, <code>ClassB</code>, <code>TypeA</code>, and <code>TypeB</code> with something meaningful. It makes the relationship between them unclear and maybe even suggests a relationship where none exists. It just adds a level of cognitive load (for me, anyway.)"}, {"owner": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1520448161, "post_id": 49158852, "comment_id": 85323265, "body": "@ScottHannen I&#39;ll try to be more descriptive - will edit the post."}, {"owner": {"reputation": 5385, "user_id": 973795, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/xIqI6.jpg?s=128&g=1", "display_name": "JohnTortugo", "link": "https://stackoverflow.com/users/973795/johntortugo"}, "edited": false, "score": 0, "creation_date": 1520448396, "post_id": 49158852, "comment_id": 85323386, "body": "You should only put on parent/base classes what is common to all derived classes."}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 2, "creation_date": 1520448496, "post_id": 49158852, "comment_id": 85323435, "body": "You cannot have a class where some instances of the class expose a property and others don&#39;t. It&#39;s impossible. You could move the properties to more derived types. This sounds like an XY problem. There shouldn&#39;t be a reason for what you&#39;re trying to do. Why can&#39;t these be two different classes with their own properties? It&#39;s very likely that whatever you&#39;re trying to avoid doing is what you should be doing."}, {"owner": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1520448601, "post_id": 49158852, "comment_id": 85323488, "body": "@ScottHannen I thought that too but i was curious if there&#39;s any way to accomplish this - was wondering perhaps generic implementation offers something like this ..."}, {"owner": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 1, "creation_date": 1520449361, "post_id": 49158852, "comment_id": 85323968, "body": "@ScottHannen basically these classes are unit of work / repo implementation - but instead of them working with one data connection there are 2 separate ones (one for SQL db and one for oracle) - So When i started coding the repository it was working perfectly with one data context but then when I started adding another one I thought I could make repo generic enough to work with both contexts - it works fine except exposing all properties. You&#39;re right it does sound like XY problem - but I was curious to find out."}], "answers": [{"comments": [{"owner": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "edited": false, "score": 0, "creation_date": 1520448786, "post_id": 49159206, "comment_id": 85323594, "body": "&quot;If TypeA and TypeB are in the same inheritance tree&quot; unfortunately not. TypeA and TypeB both belong to 2 separate EF entities (Sql &amp; Oracle - as i&#39;m dealing with 2 data connections)"}, {"owner": {"reputation": 137, "user_id": 2633727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb1478aad234d7804cc5632d9e1652a5?s=128&d=identicon&r=PG", "display_name": "raouf ben hassine", "link": "https://stackoverflow.com/users/2633727/raouf-ben-hassine"}, "reply_to_user": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "edited": false, "score": 1, "creation_date": 1520449969, "post_id": 49159206, "comment_id": 85324303, "body": "Try my solution without the clause on the second generic parameter on ClassA. I have edited my answer with an example, check it."}, {"owner": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "edited": false, "score": 0, "creation_date": 1520450055, "post_id": 49159206, "comment_id": 85324360, "body": "You mean not having where PropType : TypesBaseClassOrSharedContract ?"}, {"owner": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "edited": false, "score": 0, "creation_date": 1520450184, "post_id": 49159206, "comment_id": 85324445, "body": "I should have mentioned that there are many such &#39;types&#39; not just one per context."}, {"owner": {"reputation": 137, "user_id": 2633727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb1478aad234d7804cc5632d9e1652a5?s=128&d=identicon&r=PG", "display_name": "raouf ben hassine", "link": "https://stackoverflow.com/users/2633727/raouf-ben-hassine"}, "reply_to_user": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "edited": false, "score": 0, "creation_date": 1520450788, "post_id": 49159206, "comment_id": 85324807, "body": "It shouldn&#39;t be a problem. In fact, you can leave the unit of work open and close it only on instantiation. I am going to re-edit my answer in light of your last comment. Since I understand your requirements better now"}, {"owner": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "edited": false, "score": 0, "creation_date": 1520451258, "post_id": 49159206, "comment_id": 85325063, "body": "But that would require me to pass type each time i create an instance of unit of work... like say I have 10 types (models) for SqlContext - I&#39;d have to instantiate new UnitOfWork&lt;SqlContext , TypeC&gt;())"}, {"owner": {"reputation": 137, "user_id": 2633727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb1478aad234d7804cc5632d9e1652a5?s=128&d=identicon&r=PG", "display_name": "raouf ben hassine", "link": "https://stackoverflow.com/users/2633727/raouf-ben-hassine"}, "reply_to_user": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "edited": false, "score": 1, "creation_date": 1520451503, "post_id": 49159206, "comment_id": 85325189, "body": "Yes, of course.   The thing is, the unit of work being generic, means you would need to close it at some point before running the application.  My solution actually is less code. Instead, of having one class/file per model you will only have the generic UoW and you close it on each instantiation."}, {"owner": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "edited": false, "score": 0, "creation_date": 1520452853, "post_id": 49159206, "comment_id": 85325929, "body": "The problem with this is when I&#39;m performing operations on multiple entities eg: oraclePersonUoW.SomeOperation requires updating oracleBookUoW i&#39;d have to create another instance just to do so... What i&#39;m looking to do is have one instance that works with all entities - which is how I had it before oracle came in... :-/ Did you see John Wu&#39;s suggestion?"}, {"owner": {"reputation": 137, "user_id": 2633727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb1478aad234d7804cc5632d9e1652a5?s=128&d=identicon&r=PG", "display_name": "raouf ben hassine", "link": "https://stackoverflow.com/users/2633727/raouf-ben-hassine"}, "reply_to_user": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "edited": false, "score": 0, "creation_date": 1520454342, "post_id": 49159206, "comment_id": 85326699, "body": "You could do something like what Micosoft does with tuples <a href=\"https://msdn.microsoft.com/en-us/library/system.tuple(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/system.tuple(v=vs.110).aspx</a>"}, {"owner": {"reputation": 137, "user_id": 2633727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb1478aad234d7804cc5632d9e1652a5?s=128&d=identicon&r=PG", "display_name": "raouf ben hassine", "link": "https://stackoverflow.com/users/2633727/raouf-ben-hassine"}, "reply_to_user": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "edited": false, "score": 0, "creation_date": 1520524571, "post_id": 49159206, "comment_id": 85359820, "body": "What solution did you go for?"}, {"owner": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "edited": false, "score": 0, "creation_date": 1520526467, "post_id": 49159206, "comment_id": 85361200, "body": "Not a fan of working with tuples to be honest. I went with John Wu&#39;s solution - it works perfectly with the rest of my WCF app structure for example. Thank you for all your time and effort - def learned some new things from this convo! Cheers"}, {"owner": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "edited": false, "score": 0, "creation_date": 1520546108, "post_id": 49159206, "comment_id": 85372060, "body": "I actually ended up not taking John Wu&#39;s approach - I like it but theres another way to make Repo and unit of work both generic enough to work with both Models - I did use your approach but in a slightly different manner.  I&#39;ll add that as an answer as this comment section is getting bigger."}], "tags": [], "owner": {"reputation": 137, "user_id": 2633727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb1478aad234d7804cc5632d9e1652a5?s=128&d=identicon&r=PG", "display_name": "raouf ben hassine", "link": "https://stackoverflow.com/users/2633727/raouf-ben-hassine"}, "is_accepted": false, "score": 1, "last_activity_date": 1520452244, "last_edit_date": 1520452244, "creation_date": 1520448464, "answer_id": 49159206, "question_id": 49158852, "link": "https://stackoverflow.com/questions/49158852/expose-properties-based-on-instance-of-a-class/49159206#49159206", "title": "Expose properties based on instance of a class", "body": "<p>No, itsn't doable.</p>\n\n<p>Once you the code is inside the class's brackets it is inside. It will expose all properties.</p>\n\n<p>A solution might be : </p>\n\n<pre><code>public class UnitOfWork&lt;T, CT&gt; : IDisposable \n        where T : DbContext, new(){\n    private readonly T context = new T();\n\n    private DbRepository&lt;CT&gt; _type;\n\n    public DbRepository&lt;CT&gt; Repository\n    {\n        get\n        {\n            return _type ?? (_type= new DbRepository&lt;CT&gt;(context);\n        }\n    }    \n\n} \n</code></pre>\n\n<p>Following are some use cases:</p>\n\n<pre><code>var oraclePersonUoW = new UnitOfWork&lt;OracleContext, Person&gt;();\nvar oracleBookUoW = new UnitOfWork&lt;OracleContext, Book&gt;();\nvar sqlPersonUoW = new UnitOfWork&lt;SqlContext, Person&gt;();\nvar sqlBookUoW = new UnitOfWork&lt;SqlContext, Book&gt;();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "edited": false, "score": 0, "creation_date": 1520449727, "post_id": 49159491, "comment_id": 85324160, "body": "That does make sense now - after reading some of the comments here. I edited to the post to be more descriptive."}, {"owner": {"reputation": 137, "user_id": 2633727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb1478aad234d7804cc5632d9e1652a5?s=128&d=identicon&r=PG", "display_name": "raouf ben hassine", "link": "https://stackoverflow.com/users/2633727/raouf-ben-hassine"}, "reply_to_user": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "edited": false, "score": 0, "creation_date": 1520450898, "post_id": 49159491, "comment_id": 85324867, "body": "@Johny has a unit of work that works with models. He should be able to make the unit of work generic."}], "tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": false, "score": 2, "last_activity_date": 1520449554, "creation_date": 1520449554, "answer_id": 49159491, "question_id": 49158852, "link": "https://stackoverflow.com/questions/49158852/expose-properties-based-on-instance-of-a-class/49159491#49159491", "title": "Expose properties based on instance of a class", "body": "<p><code>ClassA</code> clealry isn't generic.  For it to be generic it would need to be designed in order to function properly <em>regardless</em> of what type is provided as the generic argument.  Your type doesn't do that, it only actually supports two different types, and it needs to function differently depending on which of the two types of provided.</p>\n\n<p>The solution there is to <em>have two classes</em>, one for the SQL version and one for the Oracle version, each with the members that are appropriate for their context.</p>\n"}, {"comments": [{"owner": {"reputation": 137, "user_id": 2633727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb1478aad234d7804cc5632d9e1652a5?s=128&d=identicon&r=PG", "display_name": "raouf ben hassine", "link": "https://stackoverflow.com/users/2633727/raouf-ben-hassine"}, "edited": false, "score": 0, "creation_date": 1520453214, "post_id": 49159964, "comment_id": 85326105, "body": "This doesn&#39;t solve the problem if if the parent class is supposed to contain the UoW methods sincz those depend onthe repository."}, {"owner": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "edited": false, "score": 0, "creation_date": 1520611569, "post_id": 49159964, "comment_id": 85400346, "body": "@JohnWu thank you for your post - i&#39;m marking this as answer."}], "tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": true, "score": 2, "last_activity_date": 1520451873, "last_edit_date": 1520451873, "creation_date": 1520451541, "answer_id": 49159964, "question_id": 49158852, "link": "https://stackoverflow.com/questions/49158852/expose-properties-based-on-instance-of-a-class/49159964#49159964", "title": "Expose properties based on instance of a class", "body": "<p>Seems like Oracle and SQL are different enough where you'd want different classes. You can still derive from a base, like this:</p>\n\n<pre><code>public class UnitofWork&lt;T&gt; : IDisposable where T : DbContext, new()\n{\n    //Same as you had it, but without TypeAProp and TypeBProp,\n    //which we will add to the subclasses below\n}\n\npublic class SqlServerUnitOfWork : UnitOfWork&lt;SqlContext&gt;\n{\n    protected DbRepository&lt;TypeA&gt; _typeA;\n\n    public DbRepository&lt;TypeA&gt; TypeAProp\n    {\n        get\n        {\n            return _typeA;\n        }\n    }\n}\n\npublic class OracleUnitOfWork : UnitOfWork&lt;OracleContext&gt;\n{\n    protected DbRepository&lt;TypeB&gt; _typeB;\n\n    public DbRepository&lt;TypeB&gt; TypeBProp\n    {\n        get\n        {\n            return _typeB;\n        }\n    }\n}\n</code></pre>\n\n<p>Call it with:</p>\n\n<pre><code>var sqlDb = new SqlServerUnitOfWork();\nvar a = sqlDb.TypeAProp;\nvar oracleDb = new OracleUnitOfWork();\nvar b = oracleDb.TypeBProp;\n</code></pre>\n"}], "owner": {"reputation": 361, "user_id": 1209645, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KUoMA.jpg?s=128&g=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/1209645/johny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 1, "accepted_answer_id": 49159964, "answer_count": 3, "score": 0, "last_activity_date": 1520452244, "creation_date": 1520447020, "last_edit_date": 1520449592, "question_id": 49158852, "link": "https://stackoverflow.com/questions/49158852/expose-properties-based-on-instance-of-a-class", "title": "Expose properties based on instance of a class", "body": "<p>I have a class as below:</p>\n\n<pre><code>public class UnitofWork&lt;T&gt; : IDisposable where T : DbContext, new(){\n    private readonly T context = new T();\n    private DbRepository&lt;TypeA&gt; _typeA;\n    private DbRepository&lt;TypeB&gt; _typeB;\n\n    public DbRepository&lt;TypeA&gt; TypeAProp\n    {\n        get\n        {\n            return _typeA ?? (_typeA= new DbRepository&lt;TypeA&gt;(context as SqlContext));\n        }\n    }\n\n    public DbRepository&lt;TypeB&gt; TypeBProp\n    {\n        get\n        {\n            return _typeB ?? (_typeB= new DbRepository&lt;TypeB&gt;(context as OracleContext));\n        }\n    }\n} \n</code></pre>\n\n<p><strong>SqlContext</strong> and <strong>OracleContext</strong> are both children classes of DbContext.\nTypeA &amp; TypeB are auto generated entities by EF.</p>\n\n<p>What I'm trying to accomplish here is that say that I create an instance of ClassA object.. </p>\n\n<pre><code>var sqlDb = new UnitofWork&lt;SqlContext&gt;();\n</code></pre>\n\n<p>I do not want to expose the property TypeBProp for this instance of object. Same way if I create ClassA instance as below, I do not want to expose the TypeAProp.</p>\n\n<pre><code>var oracleDb = new UnitofWork&lt;OracleContext&gt;();\n</code></pre>\n\n<p>Is it at all even possible? \nThanks in Advance!</p>\n\n<ul>\n<li>Johny</li>\n</ul>\n"}, {"tags": ["c#", "serial-port", "uart", "modbus"], "comments": [{"owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1520452967, "post_id": 49158823, "comment_id": 85325975, "body": "<a href=\"https://stackoverflow.com/questions/3293889/how-to-auto-detect-arduino-com-port\" title=\"how to auto detect arduino com port\">stackoverflow.com/questions/3293889/&hellip;</a>"}, {"owner": {"reputation": 2605, "user_id": 1235291, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77a089d834e26344c1eaafd1728c08c2?s=128&d=identicon&r=PG", "display_name": "Q-bertsuit", "link": "https://stackoverflow.com/users/1235291/q-bertsuit"}, "reply_to_user": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1520495876, "post_id": 49158823, "comment_id": 85341157, "body": "@Aybe Thanks for the link, this shows how to get a list of all connected devices, but not how to find the communication parameters."}, {"owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1520496469, "post_id": 49158823, "comment_id": 85341472, "body": "What you should do then, like many programs, have known devices whose settings are known but also the ability to add a custom one. I mean there&#39;s no magic in the end, either a device can auto negotiate but in your case it&#39;s not PnP else you know safe or optimal settings. Hope that makes sense."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1520516738, "post_id": 49158823, "comment_id": 85354149, "body": "Serial ports are stone-age technology.  Finding out how to configure a serial port is something you do the old-fashioned way, you ask.  Or you take advantage of modern technology with email or a telephone.  Somebody always knows, at a minimum the guy on the other end of the wire.  If you are not going to be on-site when this is commissioned then do make sure you make these settings part of your program configuration."}], "answers": [{"tags": [], "owner": {"reputation": 2395, "user_id": 624483, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UZa0K.png?s=128&g=1", "display_name": "rm5248", "link": "https://stackoverflow.com/users/624483/rm5248"}, "is_accepted": true, "score": 2, "last_activity_date": 1520515621, "creation_date": 1520515621, "answer_id": 49174230, "question_id": 49158823, "link": "https://stackoverflow.com/questions/49158823/automatically-detecting-and-connecting-to-a-device-on-a-virtual-com-port/49174230#49174230", "title": "Automatically detecting and connecting to a device on a virtual COM-port", "body": "<blockquote>\n  <p>Is there a standard way of \"scanning\" the virtual COM-ports for a device and figuring out the communication parameters?</p>\n</blockquote>\n\n<p>No.</p>\n\n<p>Unless the device specifically supports it, there's no standard way to auto-negotiate the baud rate.  If a device does support it, it requires that a known sequence of characters be transmitted to the device, so it can detect the proper baud rate.</p>\n\n<p>Given that Modbus doesn't have any support for auto baud rate, this would have to be implemented in a device-specific manner as it would fall outside of the Modbus specification.  So you always have to set up your serial settings every time.</p>\n"}], "owner": {"reputation": 2605, "user_id": 1235291, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77a089d834e26344c1eaafd1728c08c2?s=128&d=identicon&r=PG", "display_name": "Q-bertsuit", "link": "https://stackoverflow.com/users/1235291/q-bertsuit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "accepted_answer_id": 49174230, "answer_count": 1, "score": 0, "last_activity_date": 1520515621, "creation_date": 1520446935, "question_id": 49158823, "link": "https://stackoverflow.com/questions/49158823/automatically-detecting-and-connecting-to-a-device-on-a-virtual-com-port", "title": "Automatically detecting and connecting to a device on a virtual COM-port", "body": "<p>I'm working on an embedded device that communicates using Modbus RTU. A single slave device may be configured with different baud rates, parities, data bits and stop bit.</p>\n\n<p>When I connect a slave device to my computer, I have to know the exact configuration of the device in order to communicate with it. In C# for example, you would open a connection in the following way:</p>\n\n<pre><code>SerialPort port = new SerialPort(\"COM1\", 9600, Parity.None, 8, StopBits.One);\n</code></pre>\n\n<p>Is there a standard way of \"scanning\" the virtual COM-ports for a device and figuring out the communication parameters? It would be really great to just plug my device into a USB-port and and connect to it with a single click.</p>\n"}, {"tags": ["c#", "xamarin.forms", "xamarin.android"], "answers": [{"comments": [{"owner": {"reputation": 668, "user_id": 4881193, "user_type": "registered", "accept_rate": 28, "profile_image": "https://lh6.googleusercontent.com/-B25Bged-Zug/AAAAAAAAAAI/AAAAAAAAAPY/uNl_OaceoCg/photo.jpg?sz=128", "display_name": "Ashish Kumar", "link": "https://stackoverflow.com/users/4881193/ashish-kumar"}, "edited": false, "score": 0, "creation_date": 1521031629, "post_id": 49164354, "comment_id": 85558720, "body": "Their is one more issue with Time Picker, say you selected 1 hour and the value changed binded to Time Picker changed to 2 hrs from backend and when you open the Time Picker it will still open with 1 hour selected not 2 hrs . Any solution ?"}, {"owner": {"reputation": 11286, "user_id": 5953643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e03e28629383def59c31d54fb8bb3982?s=128&d=identicon&r=PG", "display_name": "Brandon Minnick", "link": "https://stackoverflow.com/users/5953643/brandon-minnick"}, "reply_to_user": {"reputation": 668, "user_id": 4881193, "user_type": "registered", "accept_rate": 28, "profile_image": "https://lh6.googleusercontent.com/-B25Bged-Zug/AAAAAAAAAAI/AAAAAAAAAPY/uNl_OaceoCg/photo.jpg?sz=128", "display_name": "Ashish Kumar", "link": "https://stackoverflow.com/users/4881193/ashish-kumar"}, "edited": false, "score": 0, "creation_date": 1521032824, "post_id": 49164354, "comment_id": 85559528, "body": "Hey Ashish, happy to help! Can you open a new question and post its link here?"}, {"owner": {"reputation": 668, "user_id": 4881193, "user_type": "registered", "accept_rate": 28, "profile_image": "https://lh6.googleusercontent.com/-B25Bged-Zug/AAAAAAAAAAI/AAAAAAAAAPY/uNl_OaceoCg/photo.jpg?sz=128", "display_name": "Ashish Kumar", "link": "https://stackoverflow.com/users/4881193/ashish-kumar"}, "edited": false, "score": 0, "creation_date": 1521034875, "post_id": 49164354, "comment_id": 85561111, "body": "Hey Brandon, please check the following link : <a href=\"https://stackoverflow.com/questions/49279271/24-hours-time-picker-selected-time\" title=\"24 hours time picker selected time\">stackoverflow.com/questions/49279271/&hellip;</a>"}], "tags": [], "owner": {"reputation": 11286, "user_id": 5953643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e03e28629383def59c31d54fb8bb3982?s=128&d=identicon&r=PG", "display_name": "Brandon Minnick", "link": "https://stackoverflow.com/users/5953643/brandon-minnick"}, "is_accepted": true, "score": 3, "last_activity_date": 1595876458, "last_edit_date": 1595876458, "creation_date": 1520475746, "answer_id": 49164354, "question_id": 49158815, "link": "https://stackoverflow.com/questions/49158815/24-hours-timepicker-with-focused-and-unfocused-events/49164354#49164354", "title": "24 hours TimePicker with Focused and Unfocused events", "body": "<p>Here is a completed sample: <a href=\"https://github.com/brminnick/24HourTimePicker\" rel=\"nofollow noreferrer\">https://github.com/brminnick/24HourTimePicker</a></p>\n<p><img src=\"https://user-images.githubusercontent.com/13558917/88422369-ffe5d280-cd9e-11ea-94a9-51e1ab47b022.gif\" alt=\"\" /></p>\n<h1>Explanation</h1>\n<p>The author of this custom control forgot to fire <code>Focused</code> and <code>Unfocused</code> in the Android Custom Renderer.</p>\n<p>We can fire these events by calling <code>ElementController.SetValueFromRenderer(VisualElement.IsFocusedPropertyKey, [true/false]);</code> from the Android Custom Renderer when <code>FocusChanged</code> fires.</p>\n<p>This custom Android control also doesn't clear focus once the time is set, so we'll add <code>ClearFocus()</code> to <code>OnTimeSet</code> too.</p>\n<h1>Xamarin.Forms 2.4 Code</h1>\n<p>Because the sample was written in Xamarin.Forms v2.4, here's the answer if you are continuing with Xamarin.Forms v2.4.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\n\nusing Android.App;\nusing Android.Content;\nusing Android.Runtime;\n\nusing TimePickerDemo.CustomControls;\nusing TimePickerDemo.Droid;\n\nusing Xamarin.Forms;\nusing Xamarin.Forms.Platform.Android;\n\n[assembly: ExportRenderer(typeof(CustomTimePicker24H), typeof(CustomTimePicker24HRenderer))]\nnamespace TimePickerDemo.Droid\n{\n    public class CustomTimePicker24HRenderer : ViewRenderer&lt;Xamarin.Forms.TimePicker, Android.Widget.EditText&gt;, TimePickerDialog.IOnTimeSetListener, IJavaObject, IDisposable\n    {\n        private TimePickerDialog dialog = null;\n\n        IElementController ElementController =&gt; Element as IElementController;\n\n        protected override void OnElementChanged(ElementChangedEventArgs&lt;Xamarin.Forms.TimePicker&gt; e)\n        {\n            base.OnElementChanged(e);\n            this.SetNativeControl(new Android.Widget.EditText(Forms.Context));\n            this.Control.Click += Control_Click;\n            this.Control.Text = DateTime.Now.ToString(&quot;HH:mm&quot;);\n            this.Control.KeyListener = null;\n            this.Control.FocusChange += Control_FocusChange;\n        }\n\n        void Control_FocusChange(object sender, Android.Views.View.FocusChangeEventArgs e)\n        {\n            if (e.HasFocus)\n            {\n                ShowTimePicker();\n                ElementController.SetValueFromRenderer(VisualElement.IsFocusedPropertyKey, true);\n            }\n            else\n            {\n                ElementController.SetValueFromRenderer(VisualElement.IsFocusedPropertyKey, false);\n            }\n        }\n\n        void Control_Click(object sender, EventArgs e)\n        {\n            ShowTimePicker();\n        }\n\n        private void ShowTimePicker()\n        {\n            if (dialog == null)\n            {\n                dialog = new TimePickerDialog(Forms.Context, this, DateTime.Now.Hour, DateTime.Now.Minute, true);\n            }\n\n            dialog.Show();\n        }\n\n        public void OnTimeSet(Android.Widget.TimePicker view, int hourOfDay, int minute)\n        {\n            var time = new TimeSpan(hourOfDay, minute, 0);\n            this.Element.SetValue(Xamarin.Forms.TimePicker.TimeProperty, time);\n\n            this.Control.Text = time.ToString(@&quot;hh\\:mm&quot;);\n\n            this.ClearFocus();\n        }\n    }\n}\n</code></pre>\n<h1>Xamarin.Forms 2.5+ Answer</h1>\n<p>Xamarin.Forms v2.5 deprecated <code>Forms.Context</code> and also requires an overloaded constructor to be used for Custom Renderers.</p>\n<p>To replace <code>Forms.Context</code>, we'll need to install the <a href=\"https://www.nuget.org/packages/Plugin.CurrentActivity/\" rel=\"nofollow noreferrer\">Plugin.CurrentActivity NuGet Package</a>.</p>\n<pre><code>using System;\n\nusing Android.App;\nusing Android.Content;\nusing Android.Runtime;\n\nusing TimePickerDemo.CustomControls;\nusing TimePickerDemo.Droid;\n\nusing Xamarin.Forms;\nusing Xamarin.Forms.Platform.Android;\n\n[assembly: ExportRenderer(typeof(CustomTimePicker24H), typeof(CustomTimePicker24HRenderer))]\nnamespace TimePickerDemo.Droid\n{\n    public class CustomTimePicker24HRenderer : ViewRenderer&lt;Xamarin.Forms.TimePicker, Android.Widget.EditText&gt;, TimePickerDialog.IOnTimeSetListener, IJavaObject, IDisposable\n    {\n        private TimePickerDialog dialog = null;\n\n        public CustomTimePicker24HRenderer(Context context) : base(context)\n        {\n            \n        }\n\n        Context CurrentContext =&gt; Plugin.CurrentActivity.CrossCurrentActivity.Current.Activity;\n        IElementController ElementController =&gt; Element as IElementController;\n\n        protected override void OnElementChanged(ElementChangedEventArgs&lt;Xamarin.Forms.TimePicker&gt; e)\n        {\n            base.OnElementChanged(e);\n            this.SetNativeControl(new Android.Widget.EditText(CurrentContext));\n            this.Control.Click += Control_Click;\n            this.Control.Text = DateTime.Now.ToString(&quot;HH:mm&quot;);\n            this.Control.KeyListener = null;\n            this.Control.FocusChange += Control_FocusChange;\n        }\n\n        void Control_FocusChange(object sender, Android.Views.View.FocusChangeEventArgs e)\n        {\n            if (e.HasFocus)\n            {\n                ShowTimePicker();\n                ElementController.SetValueFromRenderer(VisualElement.IsFocusedPropertyKey, true);\n            }\n            else\n            {\n                ElementController.SetValueFromRenderer(VisualElement.IsFocusedPropertyKey, false);\n            }\n        }\n\n        void Control_Click(object sender, EventArgs e)\n        {\n            ShowTimePicker();\n        }\n\n        private void ShowTimePicker()\n        {\n            if (dialog == null)\n            {\n                dialog = new TimePickerDialog(CurrentContext, this, DateTime.Now.Hour, DateTime.Now.Minute, true);\n            }\n\n            dialog.Show();\n        }\n\n        public void OnTimeSet(Android.Widget.TimePicker view, int hourOfDay, int minute)\n        {\n            var time = new TimeSpan(hourOfDay, minute, 0);\n            this.Element.SetValue(Xamarin.Forms.TimePicker.TimeProperty, time);\n\n            this.Control.Text = time.ToString(@&quot;hh\\:mm&quot;);\n\n            this.ClearFocus();\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 668, "user_id": 4881193, "user_type": "registered", "accept_rate": 28, "profile_image": "https://lh6.googleusercontent.com/-B25Bged-Zug/AAAAAAAAAAI/AAAAAAAAAPY/uNl_OaceoCg/photo.jpg?sz=128", "display_name": "Ashish Kumar", "link": "https://stackoverflow.com/users/4881193/ashish-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 650, "favorite_count": 0, "accepted_answer_id": 49164354, "answer_count": 1, "score": 2, "last_activity_date": 1595876458, "creation_date": 1520446907, "last_edit_date": 1520475844, "question_id": 49158815, "link": "https://stackoverflow.com/questions/49158815/24-hours-timepicker-with-focused-and-unfocused-events", "title": "24 hours TimePicker with Focused and Unfocused events", "body": "<p>I tried implementing 24 Hour <code>Time Picker</code> as given here <a href=\"https://code.msdn.microsoft.com/windowsapps/Time-Picker-as-24-Hours-9e9a2431\" rel=\"nofollow noreferrer\">24 Hour TimePicker</a> in XF project.</p>\n\n<p>But it doesn't fire the <code>Focus</code> and <code>Unfocused</code> event on Android. Has anyone implemented this?</p>\n"}, {"tags": ["c#", "unity3d", "texture2d", "terrain", "heightmap"], "answers": [{"tags": [], "owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "is_accepted": false, "score": 2, "last_activity_date": 1520450176, "creation_date": 1520450176, "answer_id": 49159645, "question_id": 49158749, "link": "https://stackoverflow.com/questions/49158749/trying-to-set-heightmaps-depending-on-image-texture-colors-through-code/49159645#49159645", "title": "Trying to set heightmaps depending on image texture colors through code", "body": "<p><strong>I didn't really bother assigning the texture, I'll let you do that.</strong></p>\n\n<ul>\n<li>create a new scene</li>\n<li>add a terrain</li>\n<li>add the following component</li>\n</ul>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>using UnityEngine;\n\nnamespace Assets\n{\n    public class Test : MonoBehaviour\n    {\n        public Texture2D Texture2D;\n\n        private void OnEnable()\n        {\n            var terrain = GetComponent&lt;Terrain&gt;();\n            var data = terrain.terrainData;\n            var hw = data.heightmapWidth;\n            var hh = data.heightmapHeight;\n            var heights = data.GetHeights(0, 0, hw, hh);\n\n            for (var y = 0; y &lt; hh; y++)\n            {\n                for (var x = 0; x &lt; hw; x++)\n                {\n                    // normalize coordinates\n                    var x1 = 1.0f / hw * x * Texture2D.width;\n                    var y1 = 1.0f / hh * y * Texture2D.height;\n\n                    // get color height\n                    var pixel = Texture2D.GetPixel((int) x1, (int) y1);\n                    var f = pixel.grayscale; // defines height\n                    var g = f * f * f; // some smoothing\n                    var s = 0.025f; // some scaling\n\n                    heights[x, y] = g * s;\n                }\n            }\n\n            data.SetHeights(0, 0, heights);\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/BJl99.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BJl99.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/DCc8B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DCc8B.png\" alt=\"enter image description here\"></a></p>\n\n<p>The most interesting thing in this is the smoothing, it dramatically improves the output.</p>\n\n<p>Additionally, you could find <a href=\"https://en.wikipedia.org/wiki/Color_difference\" rel=\"nofollow noreferrer\">which color the pixel is close to</a> from a pre-defined list (e.g. water, grass) and interpolate/smooth.</p>\n\n<p>Also, you might need to adjust the code since I'm not very familiar with <code>TerrainData</code>.</p>\n"}], "owner": {"reputation": 1896, "user_id": 3286975, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/N9TO9.png?s=128&g=1", "display_name": "z3nth10n", "link": "https://stackoverflow.com/users/3286975/z3nth10n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1214, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1548351573, "creation_date": 1520446709, "last_edit_date": 1548351573, "question_id": 49158749, "link": "https://stackoverflow.com/questions/49158749/trying-to-set-heightmaps-depending-on-image-texture-colors-through-code", "title": "Trying to set heightmaps depending on image texture colors through code", "body": "<p>Well I'm trying to set the heightmap of a terrain from an image / texture colors (from pixels), I made this simple example:</p>\n\n<pre><code>using UnityEngine;\n\npublic class TerrainExample : MonoBehaviour\n{\n    public Texture2D map, grassTexture;\n    public float amp = 8;\n    public Color waterColor = new Color(0.427f, 0.588f, 0.737f); //new Color32(127, 168, 200, 255); //0.427, 0.588, 0.737\n\n    private Vector3 mapPlane = new Vector3(4200, 0, 3000);\n\n    public void Start()\n    {\n        GameObject TerrainObj = new GameObject(\"TerrainObj\");\n        TerrainData _TerrainData = new TerrainData();\n        Debug.Log(new Vector3(mapPlane.x, 600, mapPlane.z));\n        _TerrainData.size = new Vector3(mapPlane.x / (1.6f * amp), 600, mapPlane.z / (1.6f * amp));\n        _TerrainData.heightmapResolution = 4096;\n        _TerrainData.baseMapResolution = 1024;\n        _TerrainData.SetDetailResolution(1024, 16);\n\n        //Set terrain data\n        int _heightmapWidth = _TerrainData.heightmapWidth,\n            _heightmapHeight = _TerrainData.heightmapHeight;\n        float[,] heights = new float[_heightmapWidth, _heightmapHeight];\n        float stepX = (float)map.width / _heightmapWidth, stepY = (float)map.height / _heightmapHeight;\n        int w = 0;\n        for (float i = 0; i &lt; map.width; i += stepX)\n            for (float k = 0; k &lt; map.height; k += stepY)\n            {\n                int ii = (int)i, kk = (int)k, i2 = (int)(i / stepX), k2 = (int)(k / stepY);\n                heights[i2, k2] = map.GetPixel(ii, kk) == waterColor ? .25f : .5f;\n            }\n        _TerrainData.SetHeights(0, 0, heights);\n\n        //Set terrain grass texture\n        SplatPrototype terrainTexture = new SplatPrototype();\n        terrainTexture.texture = grassTexture;\n        SplatPrototype[] splatPrototype = new SplatPrototype[1] { terrainTexture };\n        _TerrainData.splatPrototypes = splatPrototype;\n        TerrainCollider _TerrainCollider = TerrainObj.AddComponent&lt;TerrainCollider&gt;();\n        Terrain _Terrain2 = TerrainObj.AddComponent&lt;Terrain&gt;();\n        _TerrainCollider.terrainData = _TerrainData;\n        _Terrain2.terrainData = _TerrainData;\n        TerrainObj.transform.position = -mapPlane * 10 / 2 + Vector3.up * 100;\n    }\n}\n</code></pre>\n\n<p>My map texture is the following:</p>\n\n<p><img src=\"https://i.stack.imgur.com/QMnbb.jpg\" alt=\"enter image description here\"></p>\n\n<p>The original map has 7000x5000 px, and my heightmap has 4096 units. So, I have to make a little translation, by calculating the step of every iteration (as you can see in <strong>line 25</strong>)</p>\n\n<p>What I do is simple, I only put a 0.25f of the height (600/4 = 150) when there is water and 0.5f of the height (600 / 2 = 300) when there is something different from water. <strong>(Line 31)</strong></p>\n\n<p>But for some reason I only get this weird lines across the terrain:</p>\n\n<p><img src=\"https://i.stack.imgur.com/GXmlT.png\" alt=\"enter image description here\"></p>\n\n<p>What I'm missing???</p>\n\n<p>Here is a <a href=\"https://mega.nz/#!apBHUIRQ!7TwWxZ96r-jdssDtcagwgnRhxoDlklQrtazi3w4FiYQ\" rel=\"nofollow noreferrer\">Unitypackage</a>.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "api", "asp.net-web-api", "http-post"], "comments": [{"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 1, "creation_date": 1520446642, "post_id": 49158705, "comment_id": 85322345, "body": "I assume you don&#39;t want to just put it in an <code>xml</code> datatype column of the database? If you want a model, copy the xml, go to Visual Studio in a blank class file and choose Edit, paste special, paste xml as classes, then clean up the inane data types it sets."}, {"owner": {"reputation": 101, "user_id": 7767419, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VqDOc.png?s=128&g=1", "display_name": "FrankCastle616", "link": "https://stackoverflow.com/users/7767419/frankcastle616"}, "reply_to_user": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1520447168, "post_id": 49158705, "comment_id": 85322661, "body": "thanks, I did try that and you are right there is a lot of clean up required"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 7767419, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VqDOc.png?s=128&g=1", "display_name": "FrankCastle616", "link": "https://stackoverflow.com/users/7767419/frankcastle616"}, "edited": false, "score": 0, "creation_date": 1520448023, "post_id": 49158731, "comment_id": 85323180, "body": "So I have the model now thanks to that awesome model generator. Do I then declare multiple parameters with each class in the Post method like my code above shows now?"}, {"owner": {"reputation": 3839, "user_id": 9429059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt79X.jpg?s=128&g=1", "display_name": "Mihir Dave", "link": "https://stackoverflow.com/users/9429059/mihir-dave"}, "reply_to_user": {"reputation": 101, "user_id": 7767419, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VqDOc.png?s=128&g=1", "display_name": "FrankCastle616", "link": "https://stackoverflow.com/users/7767419/frankcastle616"}, "edited": false, "score": 0, "creation_date": 1520449172, "post_id": 49158731, "comment_id": 85323835, "body": "@FrankCastle616 Hope Updated answer will help you."}, {"owner": {"reputation": 101, "user_id": 7767419, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VqDOc.png?s=128&g=1", "display_name": "FrankCastle616", "link": "https://stackoverflow.com/users/7767419/frankcastle616"}, "edited": false, "score": 0, "creation_date": 1520449827, "post_id": 49158731, "comment_id": 85324223, "body": "Ok, that makes more sense. My final question (I promise), How does the controller handle the XML such as reading and then sending it to a DB. Sorry again for being a C# noob"}, {"owner": {"reputation": 3839, "user_id": 9429059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt79X.jpg?s=128&g=1", "display_name": "Mihir Dave", "link": "https://stackoverflow.com/users/9429059/mihir-dave"}, "reply_to_user": {"reputation": 101, "user_id": 7767419, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VqDOc.png?s=128&g=1", "display_name": "FrankCastle616", "link": "https://stackoverflow.com/users/7767419/frankcastle616"}, "edited": false, "score": 0, "creation_date": 1520450061, "post_id": 49158731, "comment_id": 85324363, "body": "@FrankCastle616 it is broad question but i&#39;ll try to answer it shortly let say you have 5 columns in sql database and 5 properties in your model, so you&#39;ll write insert into query for that sql table and in param you&#39;ll pass property of model. Hope this makes sense."}, {"owner": {"reputation": 101, "user_id": 7767419, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VqDOc.png?s=128&g=1", "display_name": "FrankCastle616", "link": "https://stackoverflow.com/users/7767419/frankcastle616"}, "edited": false, "score": 0, "creation_date": 1520450461, "post_id": 49158731, "comment_id": 85324615, "body": "I lied, not my final question (lol). Yeah I understand your comment, I guess my question focuses more on how do I get the values of each XML node (stream reader?) in the controller and assign it to the correct model property?"}, {"owner": {"reputation": 3839, "user_id": 9429059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt79X.jpg?s=128&g=1", "display_name": "Mihir Dave", "link": "https://stackoverflow.com/users/9429059/mihir-dave"}, "reply_to_user": {"reputation": 101, "user_id": 7767419, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VqDOc.png?s=128&g=1", "display_name": "FrankCastle616", "link": "https://stackoverflow.com/users/7767419/frankcastle616"}, "edited": false, "score": 0, "creation_date": 1520450639, "post_id": 49158731, "comment_id": 85324719, "body": "You can try POSTMAN <a href=\"https://www.getpostman.com/\" rel=\"nofollow noreferrer\">getpostman.com</a> to call your API and know how your API will behave when any web hook hits your API."}, {"owner": {"reputation": 101, "user_id": 7767419, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VqDOc.png?s=128&g=1", "display_name": "FrankCastle616", "link": "https://stackoverflow.com/users/7767419/frankcastle616"}, "edited": false, "score": 0, "creation_date": 1520450918, "post_id": 49158731, "comment_id": 85324879, "body": "I am currently using that and Fiddler to send post requests to the API. However the &#39;data&#39; parameter from the POST method is showing null"}, {"owner": {"reputation": 3839, "user_id": 9429059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt79X.jpg?s=128&g=1", "display_name": "Mihir Dave", "link": "https://stackoverflow.com/users/9429059/mihir-dave"}, "reply_to_user": {"reputation": 101, "user_id": 7767419, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VqDOc.png?s=128&g=1", "display_name": "FrankCastle616", "link": "https://stackoverflow.com/users/7767419/frankcastle616"}, "edited": false, "score": 0, "creation_date": 1520451102, "post_id": 49158731, "comment_id": 85324978, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/166421/discussion-between-mihir-dave-and-frankcastle616\">continue this discussion in chat</a>."}, {"owner": {"reputation": 101, "user_id": 7767419, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VqDOc.png?s=128&g=1", "display_name": "FrankCastle616", "link": "https://stackoverflow.com/users/7767419/frankcastle616"}, "edited": false, "score": 0, "creation_date": 1520453203, "post_id": 49158731, "comment_id": 85326097, "body": "Fixed issue by adding User-Agent: Fiddler in post header. Thanks again for the help, it helped out greatly"}], "tags": [], "owner": {"reputation": 3839, "user_id": 9429059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt79X.jpg?s=128&g=1", "display_name": "Mihir Dave", "link": "https://stackoverflow.com/users/9429059/mihir-dave"}, "is_accepted": true, "score": 1, "last_activity_date": 1520449144, "last_edit_date": 1520449144, "creation_date": 1520446624, "answer_id": 49158731, "question_id": 49158705, "link": "https://stackoverflow.com/questions/49158705/capture-xml-from-http-post-c/49158731#49158731", "title": "Capture XML from HTTP Post C#", "body": "<p>Generate your Model class from <a href=\"http://xmltocsharp.azurewebsites.net/\" rel=\"nofollow noreferrer\">Model Generator</a>\nand then you can continue on your path.</p>\n\n<p>DocuSignEnvelopeInformation is your root object all incoming data will be wrapped inside that Check out Code</p>\n\n<pre><code>namespace DocuSignAPI.Controllers\n{\n    public class DocuSignEnvelopeController : ApiController\n    {\n        [HttpPost]\n        public void Post(Models.DocuSignEnvelopeInformation data)\n        {\n\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 7767419, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VqDOc.png?s=128&g=1", "display_name": "FrankCastle616", "link": "https://stackoverflow.com/users/7767419/frankcastle616"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 49158731, "answer_count": 1, "score": 0, "last_activity_date": 1520449144, "creation_date": 1520446500, "last_edit_date": 1520447896, "question_id": 49158705, "link": "https://stackoverflow.com/questions/49158705/capture-xml-from-http-post-c", "title": "Capture XML from HTTP Post C#", "body": "<p>So I have started to work on a webhooks implementation of DocuSign. I need to accept the XML in a Web API(C#) from a HTTP post(docusign connect) and then send that data to SQL Server.The main problem is that the XML has numerous children and I am not sure how to map that to a Model. I have looked tirelessly for a solution to accept the XML in the Post controller and then send it to SQL table, but have not found anything that works. Any guidance would be appreciated. </p>\n\n<p>Here is a sample of the XML</p>\n\n<pre><code>&lt;DocuSignEnvelopeInformation&gt;\n&lt;EnvelopeStatus&gt;\n&lt;RecipientStatuses&gt;\n&lt;RecipientStatus&gt;\n&lt;Type&gt;Signer&lt;/Type&gt;\n&lt;Email&gt;user@user.com&lt;/Email&gt;\n&lt;UserName&gt;test user&lt;/UserName&gt;\n&lt;RoutingOrder&gt;1&lt;/RoutingOrder&gt;\n&lt;Sent&gt;2018-03-05T10:44:06.443&lt;/Sent&gt;\n&lt;Delivered&gt;2018-03-05T10:45:22.443&lt;/Delivered&gt;\n&lt;Signed&gt;2018-03-05T10:45:24.413&lt;/Signed&gt;\n&lt;DeclineReason/&gt;\n&lt;Status&gt;Completed&lt;/Status&gt;\n&lt;RecipientIPAddress&gt;00.00.00.00&lt;/RecipientIPAddress&gt;\n&lt;RecipientId&gt;aa923fgf2-e59d-45df-8447-8e55437b6cf7&lt;/RecipientId&gt;\n&lt;/RecipientStatus&gt;\n&lt;/RecipientStatuses&gt;\n&lt;TimeGenerated&gt;2018-03-05T10:45:42.6635679&lt;/TimeGenerated&gt;\n&lt;EnvelopeID&gt;3034gfdfd3-e6c3-4dsg6-af18-252f8fdsf3b5&lt;/EnvelopeID&gt;\n&lt;Subject&gt;Testing Webhooks DocuSign&lt;/Subject&gt;\n&lt;Created&gt;2018-03-05T10:42:59.24&lt;/Created&gt;\n&lt;Sent&gt;2018-03-05T10:45:25.617&lt;/Sent&gt;\n&lt;/EnvelopeStatus&gt;\n&lt;/DocuSignEnvelopeInformation&gt;\n\nusing System.Web.Http;\n\nnamespace DocuSignAPI.Controllers\n{\n    public class DocuSignEnvelopeController : ApiController\n    {\n        [HttpPost]\n        public void Post([FromBody]  Models.EnvelopeStatus envelope, Models.RecipientStatus status, Models.RecipientStatuses statuses, Models.DocuSignEnvelopeInformation info)\n        {\n\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "configuration", "web-config"], "comments": [{"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1520448368, "post_id": 49158673, "comment_id": 85323370, "body": "If you manage your custom headers using an <code>HttpModule</code> then that class can get the header names and values from anywhere. You don&#39;t have to write custom file handling. You could just create a simple custom configuration section which you can load using <code>ConfigurationManager</code>, and then you can split that section into a separate file using <code>configSource</code>."}], "owner": {"reputation": 1347, "user_id": 2101226, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/10e67048c0e8d473cd61517a920e68c3?s=128&d=identicon&r=PG", "display_name": "HardLuck", "link": "https://stackoverflow.com/users/2101226/hardluck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 385, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1520446378, "creation_date": 1520446378, "question_id": 49158673, "link": "https://stackoverflow.com/questions/49158673/web-config-separate-customheaders-section", "title": "Web.config separate customHeaders section", "body": "<p>I'd like to separate my <code>Web.config</code> file, specifically the <code>customHeaders</code> section of <code>system.webServer -&gt; httpProtocol</code>. I've tried replacing</p>\n\n<pre><code>&lt;httpProtocol&gt;\n  &lt;customHeaders&gt;\n    &lt;remove name=\"X-Powered-By\"&gt;&lt;/remove&gt;\n    &lt;add name=\"X-XSS-Protection\" value=\"1; mode=block\"&gt;&lt;/add&gt;\n  &lt;/customHeaders&gt;\n&lt;/httpProtocol&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>&lt;httpProtocol&gt;\n  &lt;customHeaders configSource=\"WebConfigShards/CustomHeaders.config\" &gt;\n  &lt;/customHeaders&gt;\n&lt;/httpProtocol&gt;\n</code></pre>\n\n<p>But apparently <code>configSource</code> attribute is not supported here. Is there any other solution to this issue beside loading custom file via code from app start?</p>\n"}, {"tags": ["c#", "sql", "linq"], "comments": [{"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 5, "creation_date": 1520446365, "post_id": 49158622, "comment_id": 85322204, "body": "Your return type right now is an enumerable of an anonymous type. You could make a class to represent that anonymous type and return <code>IEnumerable&lt;YourType&gt;</code> for your wuery."}, {"owner": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "edited": false, "score": 4, "creation_date": 1520446425, "post_id": 49158622, "comment_id": 85322235, "body": "Sounds like you want an IQueryable&lt;T&gt; for a return type..."}, {"owner": {"reputation": 544, "user_id": 1440614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ccdf3935bd6110ad841f2bac695a28e?s=128&d=identicon&r=PG", "display_name": "Jared Stroebele", "link": "https://stackoverflow.com/users/1440614/jared-stroebele"}, "edited": false, "score": 0, "creation_date": 1520446460, "post_id": 49158622, "comment_id": 85322249, "body": "Microsoft docs <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/linq/return-a-query-from-a-method\" rel=\"nofollow noreferrer\">return-a-query-from-a-method</a>"}, {"owner": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "reply_to_user": {"reputation": 544, "user_id": 1440614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ccdf3935bd6110ad841f2bac695a28e?s=128&d=identicon&r=PG", "display_name": "Jared Stroebele", "link": "https://stackoverflow.com/users/1440614/jared-stroebele"}, "edited": false, "score": 0, "creation_date": 1520446723, "post_id": 49158622, "comment_id": 85322380, "body": "@JaredStroeb I don&#39;t think that&#39;s correct as its about Object-to-LINQ, not Database-to-LINQ. His method would need to return IQueryable instead of IEnumerable."}, {"owner": {"reputation": 544, "user_id": 1440614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ccdf3935bd6110ad841f2bac695a28e?s=128&d=identicon&r=PG", "display_name": "Jared Stroebele", "link": "https://stackoverflow.com/users/1440614/jared-stroebele"}, "reply_to_user": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "edited": false, "score": 0, "creation_date": 1520447077, "post_id": 49158622, "comment_id": 85322611, "body": "@ckuri Looks like both will work IEnumerable is inherited by IQueryable, Hence IQueryable has all the features of IEnumerable and it has its own features. <a href=\"http://www.dotnettricks.com/learn/linq/ienumerable-vs-iqueryable\" rel=\"nofollow noreferrer\">ienumerable vs iqueryable</a>"}, {"owner": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "reply_to_user": {"reputation": 544, "user_id": 1440614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ccdf3935bd6110ad841f2bac695a28e?s=128&d=identicon&r=PG", "display_name": "Jared Stroebele", "link": "https://stackoverflow.com/users/1440614/jared-stroebele"}, "edited": false, "score": 2, "creation_date": 1520448035, "post_id": 49158622, "comment_id": 85323186, "body": "@JaredStroeb You are right, but I don&#39;t think you can extend the query with a further Where or Select statement. The signature for Where is Queryable.Where(IQueryable&lt;T&gt; source, Expression&lt;Func&lt;T, bool&gt;&gt; predicate) vs Enumerable.Where(IEnumerable&lt;T&gt; source, Func&lt;T, bool&gt; predicate). Queryables build an expression tree, which can be parsed and converted to an SQL statement. This isn&#39;t possible for Enumerables, thus I would assume when you return an IEnumerable and try to add an Where, it would execute the query on the database and run the Where on the results."}], "answers": [{"comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1520447330, "post_id": 49158842, "comment_id": 85322764, "body": "This will throw an <code>ObjectDisposedException</code> once the result is enumerated because of the <code>using</code> statement on the <code>DbContext</code>."}, {"owner": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "edited": false, "score": 1, "creation_date": 1520448385, "post_id": 49158842, "comment_id": 85323377, "body": "This is inefficient, because when do the foreach on the query it will issue a database request and return all columns of TimeEntries. The Select will be done on the database results in memory. If you would return an IQueryable instead of an IEnumerable, the select will affect the database query and it will only fetch the ProjectName column."}], "tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": false, "score": 0, "last_activity_date": 1520446992, "creation_date": 1520446992, "answer_id": 49158842, "question_id": 49158622, "link": "https://stackoverflow.com/questions/49158622/returning-a-linq-database-query-from-a-method/49158842#49158842", "title": "Returning a LINQ database query from a Method", "body": "<p>It is easy to return the enumerator, but you can't return an enumerator for an anonymous type, unfortunately. Probably the easiest path forward for you would be to return enumerator over the full row object, like this:</p>\n\n<pre><code>public IEnumerable&lt;TimeEntries&gt; GetTimeEntries()\n{\n    using (ProjectTrackingDBEntities context = new ProjectTrackingDBEntities())\n    {\n        return context.TimeEntries\n            .Where\n            (\n                Entry =&gt; \n                Entry.Date &gt;= FilterProjectAfterDate &amp;&amp;\n                Entry.Date &lt;= FilterProjectBeforerDate &amp;&amp;\n                (FilterProjectName != null ? Entry.ProjectName.Contains(FilterProjectName) : true)\n            )\n            .GroupBy(m =&gt; new { m.ProjectName, m.Phase })\n            .Join\n            (\n                context.Projects, \n                m =&gt; new { m.Key.ProjectName, m.Key.Phase }, \n                w =&gt; new { w.ProjectName, w.Phase }, \n                (m, w) =&gt; new { te = m, proj = w }\n            );\n    }\n)\n</code></pre>\n\n<p>}</p>\n\n<p>And use it like this:</p>\n\n<pre><code>var query = GetTimeEntries();\nforeach (var row in query.Select( m =&gt; new { Name = row.te.Key.ProjectName })\n{\n    Console.WriteLine(row.Name);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 233, "user_id": 8297345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/65d32a5b9febb9846598749237f3aa72?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Obermuller", "link": "https://stackoverflow.com/users/8297345/eric-obermuller"}, "edited": false, "score": 0, "creation_date": 1520447282, "post_id": 49158844, "comment_id": 85322738, "body": "Okay I see what your saying. Now does it make a difference that I am using an ADO.net model to represent my Projects? Could I avoid having to create a ProjectModel.cs somehow? Or would it just be considered better to go ahead and create the ProjectModel.cs"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 233, "user_id": 8297345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/65d32a5b9febb9846598749237f3aa72?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Obermuller", "link": "https://stackoverflow.com/users/8297345/eric-obermuller"}, "edited": false, "score": 0, "creation_date": 1520447409, "post_id": 49158844, "comment_id": 85322812, "body": "@EricObermuller - You can&#39;t reuse models that the DbContext type is already aware of (ie. used for mapping). You have to create a new Model that you will project your result into. I guessed on a good name for the model, change it as you see fit. You can also move these to a different namespace if that makes more sense."}], "tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": true, "score": 4, "last_activity_date": 1520446998, "creation_date": 1520446998, "answer_id": 49158844, "question_id": 49158622, "link": "https://stackoverflow.com/questions/49158622/returning-a-linq-database-query-from-a-method/49158844#49158844", "title": "Returning a LINQ database query from a Method", "body": "<p>You want to return <code>IQueryable&lt;T&gt;</code> with a known model that represents what it is you are returning. You should not return an anonymous type. Also you want to pass in the <code>DbContext</code> so it can be disposed of by the caller and not in the method otherwise you will receive an exception that the <code>DbContext</code> has been disposed of.</p>\n\n<p>For example:</p>\n\n<pre><code>public IQueryable&lt;ProjectModel&gt; GetProjectQuery(ProjectTrackingDBEntities context) {\n\n    return context.TimeEntries.Where(Entry =&gt; Entry.Date &gt;= FilterProjectAfterDate\n                                &amp;&amp; Entry.Date &lt;= FilterProjectBeforerDate\n                                &amp;&amp; (FilterProjectName != null ? Entry.ProjectName.Contains(FilterProjectName) : true))\n        .GroupBy(m =&gt; new { m.ProjectName, m.Phase })\n        .Join(context.Projects, m =&gt; new { m.Key.ProjectName, m.Key.Phase }, w =&gt; new { w.ProjectName, w.Phase }, (m, w) =&gt; new { te = m, proj = w })\n        .Select(m =&gt; new ProjectModel\n        {\n            Name = m.te.Key.ProjectName,\n            Phase = m.te.Key.Phase,\n            TimeWorked = m.te.Sum(w =&gt; w.TimeWorked),\n            ProposedCompletionDate = m.proj.ProposedCompletionDate,\n            ActualCompletionDate = m.proj.ActualCompletionDate,\n            Active = m.proj.Active,\n            StartDate = m.proj.StartDate,\n            Description = m.proj.Description,\n            EstimatedHours = m.proj.EstimatedHours\n        });\n}\n</code></pre>\n\n<p><strong>ProjectModel.cs</strong></p>\n\n<pre><code>public class ProjectModel {\n    public string Name {get;set;}\n    public string Phase {get;set;}\n    // rest of properties\n}\n</code></pre>\n\n<p>Calling code</p>\n\n<pre><code>using (ProjectTrackingDBEntities context = new ProjectTrackingDBEntities())\n{   \n    var ReturnedQuery = GetProjectsQuery(context);\n    foreach(var item in ReturnedQuery)\n    {\n        //do stuff\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 233, "user_id": 8297345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/65d32a5b9febb9846598749237f3aa72?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Obermuller", "link": "https://stackoverflow.com/users/8297345/eric-obermuller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 49158844, "answer_count": 2, "score": 3, "last_activity_date": 1520458456, "creation_date": 1520446189, "last_edit_date": 1520458456, "question_id": 49158622, "link": "https://stackoverflow.com/questions/49158622/returning-a-linq-database-query-from-a-method", "title": "Returning a LINQ database query from a Method", "body": "<p>Hello everyone I have this query I am performing in multiple places. Instead of retyping the query over and over, I would like to be able to call a method that returns the query. I am not sure what to put as the return type for the method or if this is even possible to do. I use the query to write a csv file of the information, and I use the query to add items to my observable collection that is bound to a list view.</p>\n\n<pre><code>using (ProjectTrackingDBEntities context = new ProjectTrackingDBEntities())\n{\n    var result = context.TimeEntries.Where(Entry =&gt; Entry.Date &gt;= FilterProjectAfterDate\n                                &amp;&amp; Entry.Date &lt;= FilterProjectBeforerDate\n                                &amp;&amp; (FilterProjectName != null ? Entry.ProjectName.Contains(FilterProjectName) : true))\n        .GroupBy(m =&gt; new { m.ProjectName, m.Phase })\n        .Join(context.Projects, m =&gt; new { m.Key.ProjectName, m.Key.Phase }, w =&gt; new { w.ProjectName, w.Phase }, (m, w) =&gt; new { te = m, proj = w })\n        .Select(m =&gt; new\n        {\n            Name = m.te.Key.ProjectName,\n            Phase = m.te.Key.Phase,\n            TimeWorked = m.te.Sum(w =&gt; w.TimeWorked),\n            ProposedCompletionDate = m.proj.ProposedCompletionDate,\n            ActualCompletionDate = m.proj.ActualCompletionDate,\n            Active = m.proj.Active,\n            StartDate = m.proj.StartDate,\n            Description = m.proj.Description,\n            EstimatedHours = m.proj.EstimatedHours\n        });\n}\n</code></pre>\n\n<p>I am able to do both right now by retyping the query and performing the subsequent <code>foreach()</code> loops on the data. I would rather be able to do something like:</p>\n\n<pre><code>var ReturnedQuery = GetProjectsQuery();\nforeach(var item in ReturnedQuery)\n{\n    //do stuff\n}\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["c#", "xml", "serialization", "xml-parsing", "xml-deserialization"], "comments": [{"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1520445766, "post_id": 49158501, "comment_id": 85321836, "body": "Paste XML as Classes, just make that valid xml first"}, {"owner": {"reputation": 1, "user_id": 9458121, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Miguel Carvajal", "link": "https://stackoverflow.com/users/9458121/miguel-carvajal"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1520446003, "post_id": 49158501, "comment_id": 85321978, "body": "That Xml is my input. I would need to read, update then probably save."}, {"owner": {"reputation": 13397, "user_id": 2287576, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iCua4.jpg?s=128&g=1", "display_name": "Andrew Truckle", "link": "https://stackoverflow.com/users/2287576/andrew-truckle"}, "edited": false, "score": 0, "creation_date": 1520446872, "post_id": 49158501, "comment_id": 85322484, "body": "Out of interest why do you need three different parameter names. They could all be called AttrName for example. Just curious. \ud83d\ude00"}], "answers": [{"comments": [{"owner": {"reputation": 13397, "user_id": 2287576, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iCua4.jpg?s=128&g=1", "display_name": "Andrew Truckle", "link": "https://stackoverflow.com/users/2287576/andrew-truckle"}, "edited": false, "score": 0, "creation_date": 1520446943, "post_id": 49158598, "comment_id": 85322526, "body": "Never knew about that feature. I wrote mine manually. I am going to see if I can use this to compare the results in my C# project with my own code..\ud83d\udc40"}], "tags": [], "owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "is_accepted": false, "score": 2, "last_activity_date": 1520446099, "creation_date": 1520446099, "answer_id": 49158598, "question_id": 49158501, "link": "https://stackoverflow.com/questions/49158501/deserializing-xml-attributes-from-the-same-xml-element-c/49158598#49158598", "title": "Deserializing XML attributes from the same Xml element c#", "body": "<p>You can use these classes to serialize/deserialize your xml. Note this is a feature in VS: <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wcf/generating-data-type-classes-from-xml\" rel=\"nofollow noreferrer\">Paste XML as Classes</a></p>\n\n<pre><code>// NOTE: Generated code may require at least .NET Framework 4.5 or .NET Core/Standard 2.0.\n/// &lt;remarks/&gt;\n[System.SerializableAttribute()]\n[System.ComponentModel.DesignerCategoryAttribute(\"code\")]\n[System.Xml.Serialization.XmlTypeAttribute(AnonymousType = true)]\n[System.Xml.Serialization.XmlRootAttribute(Namespace = \"\", IsNullable = false)]\npublic partial class Configuration\n{\n\n    private ConfigurationParameter[] parametersField;\n\n    /// &lt;remarks/&gt;\n    [System.Xml.Serialization.XmlArrayItemAttribute(\"Parameter\", IsNullable = false)]\n    public ConfigurationParameter[] Parameters\n    {\n        get\n        {\n            return this.parametersField;\n        }\n        set\n        {\n            this.parametersField = value;\n        }\n    }\n}\n\n/// &lt;remarks/&gt;\n[System.SerializableAttribute()]\n[System.ComponentModel.DesignerCategoryAttribute(\"code\")]\n[System.Xml.Serialization.XmlTypeAttribute(AnonymousType = true)]\npublic partial class ConfigurationParameter\n{\n\n    private string attrName1Field;\n\n    private string attrName2Field;\n\n    private string attrName3Field;\n\n    /// &lt;remarks/&gt;\n    [System.Xml.Serialization.XmlAttributeAttribute()]\n    public string AttrName1\n    {\n        get\n        {\n            return this.attrName1Field;\n        }\n        set\n        {\n            this.attrName1Field = value;\n        }\n    }\n\n    /// &lt;remarks/&gt;\n    [System.Xml.Serialization.XmlAttributeAttribute()]\n    public string AttrName2\n    {\n        get\n        {\n            return this.attrName2Field;\n        }\n        set\n        {\n            this.attrName2Field = value;\n        }\n    }\n\n    /// &lt;remarks/&gt;\n    [System.Xml.Serialization.XmlAttributeAttribute()]\n    public string AttrName3\n    {\n        get\n        {\n            return this.attrName3Field;\n        }\n        set\n        {\n            this.attrName3Field = value;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9458121, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Miguel Carvajal", "link": "https://stackoverflow.com/users/9458121/miguel-carvajal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1520446778, "creation_date": 1520445722, "last_edit_date": 1520446778, "question_id": 49158501, "link": "https://stackoverflow.com/questions/49158501/deserializing-xml-attributes-from-the-same-xml-element-c", "title": "Deserializing XML attributes from the same Xml element c#", "body": "<p>I want to deseralize the following XML in C#</p>\n\n<pre><code>&lt;Configuration&gt;\n    &lt;Parameters&gt;\n        &lt;Parameter AttrName1 = \"AttrValue1\"/&gt;\n        &lt;Parameter AttrName2 = \"AttrValue2\"/&gt;\n        &lt;Parameter AttrName3 = \"AttrValue3\"/&gt;\n    &lt;/Parameters&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>I am having trouble because Attributes names and values are all differents for the same value.</p>\n\n<p>Thank you so much.</p>\n"}, {"tags": ["c#", "asp.net", "mongodb", "asp.net-core", "mongodb-.net-driver"], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 5979369, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/1059660057410095/picture?type=large", "display_name": "Andr&#233; Azevedo", "link": "https://stackoverflow.com/users/5979369/andr%c3%a9-azevedo"}, "edited": false, "score": 0, "creation_date": 1520454244, "post_id": 49158929, "comment_id": 85326652, "body": "That works on that particular case only, how can I do if I have more than 2 expected filters? Like this: &quot;states&quot; : [333,444,555,666] &quot;texts&quot; : [&quot;SD&quot; , &quot;TT&quot;] ?"}, {"owner": {"reputation": 40100, "user_id": 6238977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kBcTp.png?s=128&g=1", "display_name": "mickl", "link": "https://stackoverflow.com/users/6238977/mickl"}, "reply_to_user": {"reputation": 175, "user_id": 5979369, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/1059660057410095/picture?type=large", "display_name": "Andr&#233; Azevedo", "link": "https://stackoverflow.com/users/5979369/andr%c3%a9-azevedo"}, "edited": false, "score": 0, "creation_date": 1520456211, "post_id": 49158929, "comment_id": 85327670, "body": "@Andr&#233;Azevedo I assume that you expect 4*2 results or empty array in that case ? If that&#39;s true please check my updated answer"}, {"owner": {"reputation": 175, "user_id": 5979369, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/1059660057410095/picture?type=large", "display_name": "Andr&#233; Azevedo", "link": "https://stackoverflow.com/users/5979369/andr%c3%a9-azevedo"}, "edited": false, "score": 0, "creation_date": 1520457608, "post_id": 49158929, "comment_id": 85328375, "body": "I will give you an image where there is some elaborated examples, please see this link and tell me if this is possible with your code: <a href=\"https://imgur.com/a/qhpfQ\" rel=\"nofollow noreferrer\">imgur.com/a/qhpfQ</a>"}, {"owner": {"reputation": 40100, "user_id": 6238977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kBcTp.png?s=128&g=1", "display_name": "mickl", "link": "https://stackoverflow.com/users/6238977/mickl"}, "reply_to_user": {"reputation": 175, "user_id": 5979369, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/1059660057410095/picture?type=large", "display_name": "Andr&#233; Azevedo", "link": "https://stackoverflow.com/users/5979369/andr%c3%a9-azevedo"}, "edited": false, "score": 0, "creation_date": 1520459162, "post_id": 49158929, "comment_id": 85329153, "body": "@Andr&#233;Azevedo try my code, it should be working fine"}, {"owner": {"reputation": 175, "user_id": 5979369, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/1059660057410095/picture?type=large", "display_name": "Andr&#233; Azevedo", "link": "https://stackoverflow.com/users/5979369/andr%c3%a9-azevedo"}, "edited": false, "score": 0, "creation_date": 1520459281, "post_id": 49158929, "comment_id": 85329202, "body": "I only can do it tomorrow and I will give you my feedback. I gave you my point and I will mark this answer as correct if it works!"}], "tags": [], "owner": {"reputation": 40100, "user_id": 6238977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kBcTp.png?s=128&g=1", "display_name": "mickl", "link": "https://stackoverflow.com/users/6238977/mickl"}, "is_accepted": true, "score": 1, "last_activity_date": 1520459143, "last_edit_date": 1520459143, "creation_date": 1520447358, "answer_id": 49158929, "question_id": 49158487, "link": "https://stackoverflow.com/questions/49158487/what-filter-definition-for-mongodb-should-i-use-in-c/49158929#49158929", "title": "What filter definition for MongoDb should I use in C#?", "body": "<p>You can specify a list of expected filters, then use <code>$or</code> query like below and before you return results you need to check whether length of expected filters has the same value as length of returned results.</p>\n\n<p>In MongoShell your query could look like this:</p>\n\n<pre><code>db.Filter.find(\n  {\n     $or: [\n       { State: \"333\", Text: \"SD\" },\n       { State: \"444\", Text: \"SD\" }\n     ]\n   }\n )\n</code></pre>\n\n<p>And your C# logic could be like below:</p>\n\n<pre><code>var states = new[] { \"333\", \"444\" };\nvar texts = new[] { \"SD\" };\nvar expectedNumberOfResults = states.Length * texts.Length;\n\nIEnumerable&lt;FilterClass&gt; result;\nvar filters = from state in states\n              from text in texts\n              select Builders&lt;FilterClass&gt;.Filter.Where(f =&gt; f.Text == text &amp;&amp; f.State == state);\n\nFilterDefinition&lt;FilterClass&gt; q = Builders&lt;FilterClass&gt;.Filter.Or(filters);\n\nvar query = collection.Find(q);\n\nif(query.Count() == expectedNumberOfResults)\n{\n    result = query.ToList();\n}\nelse\n{\n    result = Enumerable.Empty&lt;FilterClass&gt;();\n}\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 5979369, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/1059660057410095/picture?type=large", "display_name": "Andr&#233; Azevedo", "link": "https://stackoverflow.com/users/5979369/andr%c3%a9-azevedo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "accepted_answer_id": 49158929, "answer_count": 1, "score": 0, "last_activity_date": 1520459143, "creation_date": 1520445660, "last_edit_date": 1520454305, "question_id": 49158487, "link": "https://stackoverflow.com/questions/49158487/what-filter-definition-for-mongodb-should-i-use-in-c", "title": "What filter definition for MongoDb should I use in C#?", "body": "<p>imagine this situation:</p>\n\n<p>I have a entity called <strong>Filter</strong> with:</p>\n\n<p><code>string Text { get; set; }\n string State { get; set; }\n</code></p>\n\n<p>So in my Mongo collection I have this documents (filters):</p>\n\n<pre><code>{\n\"id\" : \"1\",\n\"State\" : \"333\",\n\"Text\" : \"SD\"\n},\n{\n\"id\" : \"2\",\n\"State\" : \"444\",\n\"Text\" : \"X\"\n}\n</code></pre>\n\n<p>Now I have a service that it is supposed to return all the documents with the match of texts and states. </p>\n\n<p>So imagine my service receives a <code>IEnumerable&lt;string&gt; texts</code> and  a <code>IEnumerable&lt;string&gt; states</code> with this values:</p>\n\n<pre><code>\"states\" : [\"333\",\"444\"],\n\"texts\" : [\"SD\"]\n</code></pre>\n\n<p>And the service should return <code>[]</code> because there aren't Filters with <strong>state \"333\"</strong> and <strong>state \"444\"</strong> with <strong>text \"SD\"</strong> at the same time. It only should return Results if my collection had this documents:</p>\n\n<pre><code>{\n\"id\" : \"1\",\n\"State\" : \"333\",\n\"Text\" : \"SD\"\n},\n{\n\"id\" : \"2\",\n\"State\" : \"444\",\n\"Text\" : \"SD\"\n}\n</code></pre>\n\n<p>Then the response would be: </p>\n\n<pre><code>{\n\"id\" : \"1\",\n\"State\" : \"333\",\n\"Text\" : \"SD\"\n},\n{\n\"id\" : \"2\",\n\"State\" : \"444\",\n\"Text\" : \"SD\"\n}\n</code></pre>\n\n<p>My actual code to create my Filter Definition for this situation is:</p>\n\n<pre><code>    private FilterDefinition&lt;MyFilterEntity&gt; CreateFilterForMyFilterEntity(IEnumerable&lt;string&gt; texts, IEnumerable&lt;string&gt; states)\n    {\n        var filterBuilder = Builders&lt;MyFilterEntity&gt;.Filter;\n        var filter = filterBuilder.Empty;\n\n        if (ListNotNullOrEmpty(texts))\n        {\n            filter = filter &amp; filterBuilder.In(rf =&gt; rf.Text, texts);\n        }\n\n        if (ListNotNullOrEmpty(states))\n        {\n            filter = filter &amp; filterBuilder.In(rf =&gt; rf.State, states);\n        }\n\n        return filter;\n    }\n</code></pre>\n\n<p>But for my example case this code returns the response: </p>\n\n<pre><code>{\n\"id\" : \"1\",\n\"State\" : \"333\",\n\"Text\" : \"SD\"\n}\n</code></pre>\n\n<p>when it should be <code>[]</code> as I said before. </p>\n\n<p>Is there a way to solve this situation? Thank you.</p>\n\n<p>I am using ASP.NET Core 2.0 with MongoDb.Driver 2.5.0.</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1520445554, "post_id": 49158441, "comment_id": 85321726, "body": "You may want to post some of the code you have attempted or else you are likely to get down votes and may not get much in the way of help."}], "answers": [{"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": true, "score": 1, "last_activity_date": 1520449080, "creation_date": 1520449080, "answer_id": 49159347, "question_id": 49158441, "link": "https://stackoverflow.com/questions/49158441/sql-to-linq-multiple-tables-left-outer-join-with-where-clause-referring-right/49159347#49159347", "title": "SQL to LINQ - multiple tables left outer join with where clause referring right table", "body": "<p>Your SQL query seems very questionable to me (since ux is a <code>LEFT JOIN</code> and (presumably) not referenced in the rest of the query, it adds nothing), and I had to assume the <code>ORDER BY</code> was on the <code>g</code> columns since it wasn't specified (and I am surprised that isn't rejected by SQL as ambiguous), but here is my try at the translation:</p>\n\n<pre><code>var ans = from g in MD\n          join ux in MD on new { TXT_Page = sPage, g.TXT_Property, TXT_Product = sProdAll, GID_Section = (string)null } equals new { ux.TXT_Page, ux.TXT_Property, ux.TXT_Product, ux.GID_Section } into uxj\n          from ux in uxj.DefaultIfEmpty()\n          join up in MD on new { TXT_Page = sPage, g.TXT_Property, GID_Section = (string)null } equals new { up.TXT_Page, up.TXT_Property, up.GID_Section } into upj\n          from up in upj.DefaultIfEmpty()\n          where up == null || (up.TXT_Product ?? \"\") == sProd || up.TXT_Product == sProdAlt\n          where g.GID_Section == null &amp;&amp; g.TXT_Page == sPage &amp;&amp;\n                ((g.TXT_Product ?? \"\") == sProd || g.TXT_Product == sProdAlt || g.TXT_Product == sProdAll)\n          orderby g.TXT_Property, g.TXT_Product, g.TXT_Language\n          select new { g.TXT_Property, up.TXT_Page };\n</code></pre>\n\n<p>Note: I put in the <code>up == null</code> because because otherwise the <code>where</code> might reject where the <code>LEFT JOIN</code> in SQL wouldn't.</p>\n\n<p>I assumed the type of <code>GID_Section</code> was <code>string</code>, but you can cast the <code>null</code>s to the right type.</p>\n\n<p>Here is my SQL conversion recipe, though your SQL was a bit trickier since it combined <code>LEFT JOIN</code> and non-equijoin.</p>\n\n<p>For translating SQL to LINQ query comprehension:</p>\n\n<ol>\n<li>Translate <code>FROM</code> subselects as separately declared variables.</li>\n<li>Translate each clause in LINQ clause order, translating monadic and aggregate operators (<code>DISTINCT</code>, <code>TOP</code>, <code>MIN</code>, <code>MAX</code> etc) into functions applied to the whole LINQ query.</li>\n<li>Use table aliases as range variables. Use column aliases as anonymous type field names.</li>\n<li>Use anonymous types (<code>new {</code> ... <code>}</code>) for multiple columns.</li>\n<li><code>JOIN</code> conditions that aren't all equality tests with <code>AND</code> must be handled using <code>where</code> clauses outside the join, or with cross product (<code>from</code> ... <code>from</code> ...) and then <code>where</code></li>\n<li><code>JOIN</code> conditions that are multiple <code>AND</code>ed equality tests between the two tables should be translated into anonymous objects</li>\n<li><code>LEFT JOIN</code> is simulated by using <code>into</code> <em>joinvariable</em> and doing another from <code>from</code> the <em>joinvariable</em> followed by <code>.DefaultIfEmpty()</code>.</li>\n<li>Replace <code>COALESCE</code> with the conditional operator (<code>?:</code>)and a <code>null</code> test.</li>\n<li>Translate <code>IN</code> to <code>.Contains()</code> and <code>NOT IN</code> to <code>!</code>...<code>Contains()</code>, using literal arrays or array variables for constant lists.</li>\n<li>Translate <em>x</em> <code>BETWEEN</code> <em>low</em> <code>AND</code> <em>high</em> to <em>low</em> <code>&lt;=</code> <em>x</em> <code>&amp;&amp;</code> <em>x</em> <code>&lt;=</code> <em>high</em>.</li>\n<li>Translate <code>CASE</code> to the ternary conditional operator <code>?:</code>.</li>\n<li><code>SELECT *</code> must be replaced with select range_variable or for joins, an anonymous object containing all the range variables.</li>\n<li><code>SELECT</code> fields must be replaced with <code>select new {</code> ... <code>}</code> creating an anonymous object with all the desired fields or expressions.</li>\n<li>Proper <code>FULL OUTER JOIN</code> must be handled with an extension method.</li>\n</ol>\n"}], "owner": {"reputation": 366, "user_id": 1663715, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e0c0ea0b26fc35e07d872554e8545bd8?s=128&d=identicon&r=PG", "display_name": "user1663715", "link": "https://stackoverflow.com/users/1663715/user1663715"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 323, "favorite_count": 0, "accepted_answer_id": 49159347, "answer_count": 1, "score": 0, "last_activity_date": 1520449080, "creation_date": 1520445481, "last_edit_date": 1520446607, "question_id": 49158441, "link": "https://stackoverflow.com/questions/49158441/sql-to-linq-multiple-tables-left-outer-join-with-where-clause-referring-right", "title": "SQL to LINQ - multiple tables left outer join with where clause referring right table", "body": "<p>I have this following query and want to convert to LINQ.</p>\n\n<p>I have tried LINQPad and Linqer but getting an error in Visual Studio.</p>\n\n<pre><code>SELECT DISTINCT\n                g.TXT_Property,\n                up.TXT_Page\n            FROM MD g\n\n            LEFT JOIN MD ux ON ux.TXT_Page = @sPage \n                AND ux.TXT_Property = g.TXT_Property \n                AND ux.TXT_Product = @sProdAll \n                AND ux.GID_Section IS NULL\n\n            LEFT JOIN MD up ON up.TXT_Page = @sPage \n                AND up.TXT_Property = g.TXT_Property \n                AND (ISNULL(up.TXT_Product, '') = @sProd or up.TXT_Product = @sProdAlt) \n                AND up.GID_Section IS NULL\n            WHERE \n\n                (g.GID_Section IS NULL) \n                AND g.TXT_Page = @sPage \n                and (ISNULL(g.TXT_Product, '') = @sProd or g.TXT_Product = @sProdAlt or g.TXT_Product = @sProdAll)\n            ORDER BY TXT_Property, TXT_Product, TXT_Language\n</code></pre>\n\n<p>This what I have tried:</p>\n\n<pre><code>                var query2 = from g in list\n                             join ux in list\n                                  on g.Property equals ux.Property into g_ux\n                             where ux.Page == sPage\n                             &amp;&amp; ux.Product == sProdAll\n                             &amp;&amp; ux.Section == null \n</code></pre>\n\n<p>And this is another try. </p>\n\n<p>I have referred to \n<a href=\"https://stackoverflow.com/questions/49158441/sql-to-linq-multiple-tables-left-outer-join-with-where-clause-referring-right\">SQL to LINQ - multiple tables left outer join with where clause referring right table</a></p>\n\n<p>// Another query</p>\n\n<pre><code>var query = (from g in\n                                 ((from d in list\n                                   where ((d.Section == null || d.Section == uSection) &amp;&amp; (d.Product == sProd || (sProd == \"\" &amp;&amp; d.Product == null) || (d.Product == sProdAlt) || (d.Product == sProdAll)))\n                                   select (new { d.Property })).ToList())\n\n                             join gx in\n                                 ((from d in list\n                                   where (d.Section == null) &amp;&amp; (d.Product == sProdAll)\n                                   select (new { d.Property, d.Page, d.Product, d.Language, d.Value, d.Section })).ToList())\n                                     on g.Property equals gx.Property into res1\n                             from a1 in res1.DefaultIfEmpty()\n\n                             join gp in\n                                 ((from d in list\n                                   where (d.Section == null) &amp;&amp; (d.Product == sProd || (sProd == \"\" &amp;&amp; d.Product == null) || (d.Product == sProdAlt))\n                                   select (new { d.Property, d.Page, d.Product, d.Language, d.Value, d.Section })).ToList())\n                                   on g.Property equals gp.Property into res2\n                             from a2 in res2.DefaultIfEmpty()\n\n                             join ux in\n                                 ((from d in list\n                                   where (d.Section == uSection) &amp;&amp; (d.Product == sProdAll)\n                                   select (new { d.Property, d.Page, d.Product, d.Language, d.Value, d.Section })).ToList())\n                                   on g.Property equals ux.Property into res3\n                             from a3 in res3.DefaultIfEmpty()\n\n                             join up in\n                                 ((from d in list\n                                   where (d.Section == uSection) &amp;&amp; (d.Product == sProd || (sProd == \"\" &amp;&amp; d.Product == null) || (d.Product == sProdAlt))\n                                   select (new { d.Property, d.Page, d.Product, d.Language, d.Value, d.Section })).ToList())\n                                     on g.Property equals up.Property into res4\n                             from a4 in res4.DefaultIfEmpty()\n\n                             orderby (new\n                             {\n                                 TXT_Property = g.Property,\n                                 TXT_Product = Coalesce((Coalesce(a4.Page, \"\") == \"\" ? Coalesce(a4.Product, a3.Product) : Coalesce(a4.Product, \"SA\")), a3.Product, (Coalesce(a2.Page, \"\") == \"\" ? Coalesce(a2.Product, a1.Product) : Coalesce(a2.Product, \"SA\")), a1.Product),\n                                 TXT_Language = Coalesce(a4.Language, a3.Language, a2.Language, a1.Language),\n                             })\n                             select (new\n                             {\n                                 TXT_Property = g.Property,\n                                 TXT_Product = Coalesce((Coalesce(a4.Page, \"\") == \"\" ? Coalesce(a4.Product, a3.Product) : Coalesce(a4.Product, \"SA\")), a3.Product, (Coalesce(a2.Page, \"\") == \"\" ? Coalesce(a2.Product, a1.Product) : Coalesce(a2.Product, \"SA\")), a1.Product),\n                                 TXT_Language = Coalesce(a4.Language, a3.Language, a2.Language, a1.Language),\n                                 TXT_Value = Coalesce(a4.Value, a3.Value, a2.Value, a1.Value)\n                             }));\n</code></pre>\n"}, {"tags": ["c#", "mysql", "database", "sql-injection", "sqlparameter"], "answers": [{"comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1520445494, "post_id": 49158340, "comment_id": 85321694, "body": "Indeed. The identification as &quot;this is a string literal&quot; is already done by the SQL Paramters. That is one big reason we use them - there is no type ambiguity. The quotes do make sense as a primitive (and easily breakable) protection against SQL Injections with Stroing Connaction but you are going beyond that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8210624"}, "edited": false, "score": 0, "creation_date": 1520445521, "post_id": 49158340, "comment_id": 85321709, "body": "I have another problem in that.  string sql = &quot;SELECT * FROM @dbname.ananmez_genel Where hasta_id=@hastaid&quot;; I try to set dbname like parameter but return &quot;Fatal error encountered during command execution.&quot; error."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1520445574, "post_id": 49158340, "comment_id": 85321735, "body": "@kamilkunt: You can not give the DB or Tablenames as a paramter. SQL simply does not support that. For this part you have to use string conaction. Note that string connaction from within something like a switch/case block should be save. It is save, so long as the user did not enter it manually."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1520445584, "post_id": 49158340, "comment_id": 85321739, "body": "@kamilkunt: No, you can&#39;t use parameters for things like database, table or column names. They&#39;re for <i>values</i>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8210624"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1520445653, "post_id": 49158340, "comment_id": 85321787, "body": "What more can I do for security? @Christopher"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1520446758, "post_id": 49158340, "comment_id": 85322403, "body": "@kamilkunt: That&#39;s outside the scope of this question. Comments on answers should really be for clarification of the answer provided to the question asked."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1520457312, "post_id": 49158340, "comment_id": 85328238, "body": "@kamilkunt: The correct rule is: &quot;Never use string conaction with direct userinput to build a querry&quot;. I had a case where I had to switch on the table/contents of a IN clause, wich was beyond Paramters in that language. But this switch happened on a basic 2 letter key provided by the user. Wich was then filtered through a switch/case statement with default. So any value I was conacting there, I was generating myself. Those values I could conact without worry."}], "tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": false, "score": 8, "last_activity_date": 1520445117, "creation_date": 1520445117, "answer_id": 49158340, "question_id": 49158289, "link": "https://stackoverflow.com/questions/49158289/how-to-set-sql-parameters/49158340#49158340", "title": "How to set sql parameters", "body": "<p>This part is the problem:</p>\n\n<pre><code>Where hasta_id='@hastaid'\n</code></pre>\n\n<p>That's not using a parameter - that's searching for rows where the value of <code>hasta_id</code> is exactly the string <code>@hastaid</code>, because you've put it in a string literal. You need to get rid of the quotes:</p>\n\n<pre><code>Where hasta_id=@hastaid\n</code></pre>\n\n<p><em>Then</em> it's looking for rows where the value of <code>hasta_id</code> matches the value of the parameter <code>@hastaid</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8210624"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520445714, "creation_date": 1520444985, "last_edit_date": 1520445714, "question_id": 49158289, "link": "https://stackoverflow.com/questions/49158289/how-to-set-sql-parameters", "title": "How to set sql parameters", "body": "<p>I try that code for use sql parameters but didnt work and didnt return any error. How can I fix it?</p>\n\n<pre><code>string sql = \"SELECT * FROM \"+mw.db_name+\".ananmez_genel Where hasta_id='@hastaid'\";\n\nstring connectionString = ConfigurationManager.ConnectionStrings[\"MYDBConnectionString\"].ConnectionString;\n\nusing (MySqlConnection connect = new MySqlConnection(connectionString))\n{\n    using (MySqlCommand cmd = new MySqlCommand(sql, connect))\n    {\n        connect.Open();\n        cmd.Parameters.AddWithValue(\"@hastaid\",hasta_id);\n        MySqlDataReader mdr;\n        mdr = cmd.ExecuteReader();\n\n        if (mdr.Read())\n        {\n            for (int i = 0; i &lt; 20; i++)\n            {\n                arti = (i + 1).ToString();\n                kontrol = mdr.GetString(\"c_\" + arti);\n                if (kontrol == \"True\")\n                {\n                    ananmezcheck.ananmez_gnlkontrol(i, check);\n                }\n            }\n            yirmibir.Text = mdr.GetString(\"txt_1\");\n        }\n        connect.Close();\n    }\n</code></pre>\n\n<p>If i using just like that, it works:</p>\n\n<pre><code>string sql = \"SELECT * FROM \"+mw.db_name+\".ananmez_genel Where hasta_id='\"+hastaid+\"'\";\n</code></pre>\n\n<p>so there is no problem in the database.</p>\n"}, {"tags": ["c#", "sql", "linq"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 1, "creation_date": 1520444984, "post_id": 49158243, "comment_id": 85321393, "body": "I would always do filtering/checking like that in the Query itself. Retreiving the Data to your client to do filtering/checks there is asking to get issues liek Race conditoins, excessive Network load and what not. As for &quot;find if data is within range&quot; problem, that is a problem that vexes me too."}, {"owner": {"reputation": 2826, "user_id": 4222487, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/idvz6.jpg?s=128&g=1", "display_name": "FaizanHussainRabbani", "link": "https://stackoverflow.com/users/4222487/faizanhussainrabbani"}, "edited": false, "score": 0, "creation_date": 1520445594, "post_id": 49158243, "comment_id": 85321751, "body": "Can you check <code>.Status</code> of this range?"}, {"owner": {"reputation": 2826, "user_id": 4222487, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/idvz6.jpg?s=128&g=1", "display_name": "FaizanHussainRabbani", "link": "https://stackoverflow.com/users/4222487/faizanhussainrabbani"}, "edited": false, "score": 0, "creation_date": 1520445957, "post_id": 49158243, "comment_id": 85321944, "body": "I don&#39;t think there can be any date range that doesn&#39;t fall in these conditions."}, {"owner": {"reputation": 123, "user_id": 6251789, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b39888807c890205290c300e7ee92b8?s=128&d=identicon&r=PG&f=1", "display_name": "user2019", "link": "https://stackoverflow.com/users/6251789/user2019"}, "reply_to_user": {"reputation": 2826, "user_id": 4222487, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/idvz6.jpg?s=128&g=1", "display_name": "FaizanHussainRabbani", "link": "https://stackoverflow.com/users/4222487/faizanhussainrabbani"}, "edited": false, "score": 0, "creation_date": 1520447370, "post_id": 49158243, "comment_id": 85322784, "body": "You are right @FaizanRabbani, do you have any idea how can i allow user to input if their start and end date dosent fall in to the existing entry. .Staus i have to use Queued because there might my other entry within same time range but in different status. I am not concern about those status."}, {"owner": {"reputation": 2826, "user_id": 4222487, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/idvz6.jpg?s=128&g=1", "display_name": "FaizanHussainRabbani", "link": "https://stackoverflow.com/users/4222487/faizanhussainrabbani"}, "edited": false, "score": 0, "creation_date": 1520447650, "post_id": 49158243, "comment_id": 85322956, "body": "@Shaif Do you only want both start and end to don&#39;t fall in existing range? Are these ranges okay: <code>2018-01-08</code> &amp; <code>2018-01-15</code> <code>2018-01-02</code> &amp; <code>2018-01-07</code> <code>2018-01-01</code> &amp; <code>2018-01-15</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 6251789, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b39888807c890205290c300e7ee92b8?s=128&d=identicon&r=PG&f=1", "display_name": "user2019", "link": "https://stackoverflow.com/users/6251789/user2019"}, "edited": false, "score": 0, "creation_date": 1520447272, "post_id": 49158621, "comment_id": 85322731, "body": "Than you @Sudsy1002 but the problem if i follow your code user can&#39;t create entry for start and end date lesser then DB. for example if someone try to add an entry 2018-01-04 to 2018-01-05 it will prevent them"}, {"owner": {"reputation": 588, "user_id": 8206887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c02dee972d9e212883be4f83c112f1?s=128&d=identicon&r=PG&f=1", "display_name": "Sudsy1002", "link": "https://stackoverflow.com/users/8206887/sudsy1002"}, "reply_to_user": {"reputation": 123, "user_id": 6251789, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b39888807c890205290c300e7ee92b8?s=128&d=identicon&r=PG&f=1", "display_name": "user2019", "link": "https://stackoverflow.com/users/6251789/user2019"}, "edited": false, "score": 0, "creation_date": 1520447975, "post_id": 49158621, "comment_id": 85323153, "body": "@Shaif I&#39;ve editted so that the <code>StartDate</code> can be the same value as the <code>UserEndDate</code> and the <code>EndDate</code> can be the same value as the <code>UserStartDate</code> but cannot satisfy both (as that would result in overlapping data)."}, {"owner": {"reputation": 129, "user_id": 9420968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZmvzT.jpg?s=128&g=1", "display_name": "toornt", "link": "https://stackoverflow.com/users/9420968/toornt"}, "edited": false, "score": 0, "creation_date": 1520448000, "post_id": 49158621, "comment_id": 85323169, "body": "You should use <code>.Any()</code> instead of <code>.ToList()</code> and a <code>.Count&gt;0</code> afterwards for performance reasons, though. This way in a case where there are lots of lines in the DB you don&#39;t get millions of matches."}, {"owner": {"reputation": 123, "user_id": 6251789, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b39888807c890205290c300e7ee92b8?s=128&d=identicon&r=PG&f=1", "display_name": "user2019", "link": "https://stackoverflow.com/users/6251789/user2019"}, "edited": false, "score": 0, "creation_date": 1520448853, "post_id": 49158621, "comment_id": 85323631, "body": "Thank you so much @Sudsy1002 . Problem resolved. I have just added another check point for not to allow user add entry within the rime range.  <code>st.StartDate &lt;= UserStartDate &amp;&amp; st.EndDate &gt;= User.EndDate &amp;&amp; st.Status == &quot;Queued&quot;</code>"}, {"owner": {"reputation": 588, "user_id": 8206887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c02dee972d9e212883be4f83c112f1?s=128&d=identicon&r=PG&f=1", "display_name": "Sudsy1002", "link": "https://stackoverflow.com/users/8206887/sudsy1002"}, "reply_to_user": {"reputation": 123, "user_id": 6251789, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b39888807c890205290c300e7ee92b8?s=128&d=identicon&r=PG&f=1", "display_name": "user2019", "link": "https://stackoverflow.com/users/6251789/user2019"}, "edited": false, "score": 0, "creation_date": 1520449953, "post_id": 49158621, "comment_id": 85324288, "body": "@Shaif And thank you for your coment. Answer updated."}], "tags": [], "owner": {"reputation": 588, "user_id": 8206887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c02dee972d9e212883be4f83c112f1?s=128&d=identicon&r=PG&f=1", "display_name": "Sudsy1002", "link": "https://stackoverflow.com/users/8206887/sudsy1002"}, "is_accepted": true, "score": 3, "last_activity_date": 1522772524, "last_edit_date": 1522772524, "creation_date": 1520446185, "answer_id": 49158621, "question_id": 49158243, "link": "https://stackoverflow.com/questions/49158243/insert-in-to-db-if-input-doesnt-fall-within-a-range/49158621#49158621", "title": "Insert in to DB if input doesn&#39;t fall within a range", "body": "<p>Your logic is a bit off. In all of your conditions, you compare <code>StartDate</code> to <code>UserStartDate</code> and <code>EndDate</code> to <code>UserEndDate</code>. Instead, you should be comparing the same thing in each condition. See below:</p>\n\n<pre><code>var stDate = dbcontext.tables\n             .Where(st =&gt;  st.Status == \"Queued\" \n               &amp;&amp; (  st.StartDate &gt;= UserStartDate &amp;&amp; st.StartDate &lt; UserEndDate   \n                  || st.StartDate &gt; UserStartDate  &amp;&amp; st.StartDate &lt;= UserEndDate  \n                  || st.EndDate &gt;= UserStartDate   &amp;&amp; st.EndDate &lt; UserEndDate     \n                  || st.EndDate &gt; UserStartDate    &amp;&amp; st.EndDate &lt;= UserEndDate )\n              ).ToList();\n</code></pre>\n\n<p>Notice that the <code>StartDate</code> is compared to both <code>UserStartDate</code> and <code>UserEndDate</code>in the top 2 conditions and the <code>EndDate</code> is compared to both <code>UserStartDate</code> and <code>UserEndDate</code>in the bottom 2 conditions. </p>\n\n<blockquote>\n  <p>i should not allow that, because in my DB i have already an entry that is common within this time range.</p>\n</blockquote>\n\n<p>That means that the only conditions you are worried about is if the <code>UserStartDate</code> and <code>UserEndDate</code> are on opposite sides of either your <code>StartDate</code> or <code>EndDate</code> as shown below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/r2oqv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r2oqv.png\" alt=\"enter image description here\"></a></p>\n\n<p>If Either of these conditions are met, you will always be within the same date range.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>The code above was updated as the OP indicated that the <code>UserStartDate</code> could actually be the same as the <code>EndDate</code> or the <code>UserEndDate</code> could be the same as the <code>StartDate</code> but don't count as overlapping data.</p>\n\n<p><strong>Update2:</strong></p>\n\n<p>As the OP pointed out, I forgot about the case where both the <code>UserStartDate</code> and <code>UserEndDate</code> were within the date range. Per the OP's comment, that line is the following:</p>\n\n<pre><code>st.StartDate &lt;= UserStartDate &amp;&amp; st.EndDate &gt;= User.EndDate &amp;&amp; st.Status == \"Queued\"\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 6251789, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b39888807c890205290c300e7ee92b8?s=128&d=identicon&r=PG&f=1", "display_name": "user2019", "link": "https://stackoverflow.com/users/6251789/user2019"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 49158621, "answer_count": 1, "score": -1, "last_activity_date": 1522772524, "creation_date": 1520444832, "question_id": 49158243, "link": "https://stackoverflow.com/questions/49158243/insert-in-to-db-if-input-doesnt-fall-within-a-range", "title": "Insert in to DB if input doesn&#39;t fall within a range", "body": "<p>As a input i am getting  startDate and endDate. I have to do a linq query from client side to check if there is any existing entry in DB within this time.</p>\n\n<p>For example, in my DB if i have an entry with StartDate of 2018-01-05 and enddate of 2018-01-09 and user tries to put another entry with start date of 2018-01-04 and enddate of 2018-01-06 i should not allow that, because in my DB i have already an entry that is common within this time range. Here is my code</p>\n\n<pre><code> var stDate = dbcontext.tables.Where( st =&gt; \n                             st.StartDate &lt;= UserStartDate &amp;&amp; st.EndDate &gt;= UserEndDate &amp;&amp; st.Status == \"Queued\" ||\n                             st.StartDate &gt;= UserStartDate &amp;&amp; st.EndDate &gt;= UserEndDate &amp;&amp; st.Status == \"Queued\" ||\n                             st.StartDate &lt;= UserStartDate &amp;&amp; st.EndDate &lt;= UserEndDate &amp;&amp; st.Status == \"Queued\" ||\n                             st.StartDate &gt;= UserStartDate &amp;&amp; st.EndDate &lt;= UserEndDate &amp;&amp; st.Status == \"Queued\").ToList();\n                if (stDate.Count &gt;0 )\n                {\n                    //notification to user(\"There is an existing request within this time range\");\n                }\n                else\n                {\n                    // do the rest operation\n                }\n</code></pre>\n\n<p>But the problem is if someone tries to enter an entry from 2018-01-09 to 2018-01-10 it falls under 3 condition and application is not taking this entry.\nAny suggestion for me how can i improve my code?</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 1, "creation_date": 1520444534, "post_id": 49158121, "comment_id": 85321109, "body": "<code>DateTime.Now</code> has imprecision of ~10ms. <code>timeSinceLevelLoad</code> tells you time in seconds which for your needs is useless."}, {"owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 1, "creation_date": 1520444590, "post_id": 49158121, "comment_id": 85321151, "body": "Beware that Unity timer loses precision on long sessions (~8 hours onwards)."}, {"owner": {"reputation": 2488, "user_id": 7764329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0dbb5b33bbcd830553cc0b7b050abc8c?s=128&d=identicon&r=PG&f=1", "display_name": "Question3r", "link": "https://stackoverflow.com/users/7764329/question3r"}, "edited": false, "score": 0, "creation_date": 1520445771, "post_id": 49158121, "comment_id": 85321838, "body": "I added one more way, seems the <code>Stopwatch</code> might be the best?"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1520446450, "post_id": 49158121, "comment_id": 85322244, "body": "This is about precision? <code>Time.deltaTime</code> is and should be the most with  best precision. Unfortunately, I can&#39;t prove this so it&#39;s not worth adding as an answer but I&#39;ve seen similar question on <a href=\"https://gamedev.stackexchange.com/\">gamedev</a> which proved that <code>Time.deltaTime</code> is more precise. Can&#39;t find it anymore"}, {"owner": {"reputation": 2488, "user_id": 7764329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0dbb5b33bbcd830553cc0b7b050abc8c?s=128&d=identicon&r=PG&f=1", "display_name": "Question3r", "link": "https://stackoverflow.com/users/7764329/question3r"}, "edited": false, "score": 0, "creation_date": 1520447678, "post_id": 49158121, "comment_id": 85322979, "body": "hm okay, I don&#39;t know sorry"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 1, "creation_date": 1520448791, "post_id": 49158121, "comment_id": 85323596, "body": "Found it. Read the answers from <a href=\"https://gamedev.stackexchange.com/questions/141807/what-happens-when-time-time-gets-very-large-in-unity\">this</a> post. <code>Time.deltaTime</code> is more precise than subtracting two time stamps."}], "answers": [{"comments": [{"owner": {"reputation": 2488, "user_id": 7764329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0dbb5b33bbcd830553cc0b7b050abc8c?s=128&d=identicon&r=PG&f=1", "display_name": "Question3r", "link": "https://stackoverflow.com/users/7764329/question3r"}, "edited": false, "score": 0, "creation_date": 1520445946, "post_id": 49158523, "comment_id": 85321935, "body": "sorry I just added the <code>Stopwatch</code> to my question some seconds ago :P but thanks"}], "tags": [], "owner": {"reputation": 53, "user_id": 7101623, "user_type": "registered", "profile_image": "https://graph.facebook.com/1360774530602266/picture?type=large", "display_name": "Chandler", "link": "https://stackoverflow.com/users/7101623/chandler"}, "is_accepted": true, "score": 1, "last_activity_date": 1520445803, "creation_date": 1520445803, "answer_id": 49158523, "question_id": 49158121, "link": "https://stackoverflow.com/questions/49158121/create-a-speedrun-timer-in-unity-c/49158523#49158523", "title": "create a speedrun timer in Unity / C#", "body": "<p>The last solution appears to be the best, but I would move <code>currentTime</code> to a class property so that you could access it elsewhere.</p>\n\n<pre><code>DateTime startTime;\npublic TimeSpan timeElapsed { get; private set; }\n\nprivate void Start()\n{\n\n    startTime = DateTime.Now;\n}\n\nprivate void Update()\n{\n    this.timeElapsed= DateTime.Now - startTime;\n}\n</code></pre>\n\n<p>Or you could use the <a href=\"https://www.dotnetperls.com/stopwatch\" rel=\"nofollow noreferrer\">StopWatch</a> class. This gives you a few options to choose from as your output. Like such:</p>\n\n<pre><code>private StopWatch stopwatch;\npublic TimeSpan timeElapsed { get; private set; }\n\nprivate void Start()\n{\n    stopwatch = new StopWatch();\n    stopwatch.Start();\n}\n\nprivate void Update()\n{\n    timeElapsed = stopwatch.ElapsedMilliseconds;\n}\n</code></pre>\n"}], "owner": {"reputation": 2488, "user_id": 7764329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0dbb5b33bbcd830553cc0b7b050abc8c?s=128&d=identicon&r=PG&f=1", "display_name": "Question3r", "link": "https://stackoverflow.com/users/7764329/question3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1364, "favorite_count": 0, "accepted_answer_id": 49158523, "answer_count": 1, "score": 0, "last_activity_date": 1520445803, "creation_date": 1520444408, "last_edit_date": 1520445736, "question_id": 49158121, "link": "https://stackoverflow.com/questions/49158121/create-a-speedrun-timer-in-unity-c", "title": "create a speedrun timer in Unity / C#", "body": "<p>I want to create a timer that counts up. This timer has to be very precisely because it represents the current level timer for speedrunners.</p>\n\n<p>I tested some ways..</p>\n\n<p>using <strong>Time.deltaTime</strong></p>\n\n<pre><code>float currentTime = 0;\n\nprivate void Update()\n{\n    currentTime += Time.deltaTime;\n}\n</code></pre>\n\n<p>using <strong>Time.timeSinceLevelLoad</strong></p>\n\n<pre><code>    float startTime;\n\n    private void Start()\n    {\n        startTime = Time.timeSinceLevelLoad;\n    }\n\n    private void Update()\n    {\n        float currentTime = Time.timeSinceLevelLoad - startTime;\n    }\n</code></pre>\n\n<p>using <strong>DateTime.Now</strong></p>\n\n<pre><code>DateTime startTime;\n\nprivate void Start()\n{\n    startTime = DateTime.Now;\n}\n\nprivate void Update()\n{\n    TimeSpan currentTime = DateTime.Now - startTime;\n}\n</code></pre>\n\n<p>using <strong>System.Diagnostics.Stopwatch</strong></p>\n\n<pre><code>private Stopwatch watch;\n\nprivate void Start()\n{\n    watch = new Stopwatch();\n    watch.Start();\n}\n\nprivate void Update()\n{\n    TimeSpan currentTime = watch.Elapsed;\n}\n</code></pre>\n\n<p>Which one might be the best?</p>\n"}, {"tags": ["c#", "arrays", "sorting", "random", "bubble-sort"], "comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 1, "creation_date": 1520444272, "post_id": 49158015, "comment_id": 85320947, "body": "So you have a class variable named arraytwenty and a local variable in GenArray20_Click named arraytwenty?? Try removing the int[] arraytwenty = new int[20]; in public void GenArray20_Click()"}, {"owner": {"reputation": 11, "user_id": 9381617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4aa569342faf0244e119b236cb59768a?s=128&d=identicon&r=PG&f=1", "display_name": "grootpoot", "link": "https://stackoverflow.com/users/9381617/grootpoot"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1520444366, "post_id": 49158015, "comment_id": 85321010, "body": "yes. any improvements i can make in my code will be appreciated"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 1, "creation_date": 1520444430, "post_id": 49158015, "comment_id": 85321051, "body": "That is the problem, the local variable in GenArray20_Click is local to that method, it loses scope after GenArray20_Click returns. You should be populating your class array inside GenArray20_Click as that has scope inside your sort. Please see answer below."}, {"owner": {"reputation": 11, "user_id": 9381617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4aa569342faf0244e119b236cb59768a?s=128&d=identicon&r=PG&f=1", "display_name": "grootpoot", "link": "https://stackoverflow.com/users/9381617/grootpoot"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1520445331, "post_id": 49158015, "comment_id": 85321593, "body": "thanks guys. i appreciate it. still new to all this coding."}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1520446064, "post_id": 49158015, "comment_id": 85322024, "body": "Is C# the first programming language you have worked with?"}, {"owner": {"reputation": 11, "user_id": 9381617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4aa569342faf0244e119b236cb59768a?s=128&d=identicon&r=PG&f=1", "display_name": "grootpoot", "link": "https://stackoverflow.com/users/9381617/grootpoot"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1520521485, "post_id": 49158015, "comment_id": 85357664, "body": "yeah it is. started about a month ago"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1520522415, "post_id": 49158015, "comment_id": 85358330, "body": "you have a book to read through and help you learn or have you just been reading things online?"}, {"owner": {"reputation": 11, "user_id": 9381617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4aa569342faf0244e119b236cb59768a?s=128&d=identicon&r=PG&f=1", "display_name": "grootpoot", "link": "https://stackoverflow.com/users/9381617/grootpoot"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1520535058, "post_id": 49158015, "comment_id": 85366362, "body": "i am in a college studying it, but yeah not getting alot of help or instructions. The guy who teaches us, moves to fast through the work. still looking for a good book to help me on this"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1520535630, "post_id": 49158015, "comment_id": 85366667, "body": "Love how that works, you pay for an education but the teacher&#39;s don&#39;t take the time to teach you anything. Must be nice to be a college prof."}], "answers": [{"comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1520444742, "post_id": 49158141, "comment_id": 85321237, "body": "Please read <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>. There&#39;s absolutely no point to copy the entire unchanged code, making your answer uselessly long"}, {"owner": {"reputation": 3839, "user_id": 9429059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt79X.jpg?s=128&g=1", "display_name": "Mihir Dave", "link": "https://stackoverflow.com/users/9429059/mihir-dave"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1520444828, "post_id": 49158141, "comment_id": 85321295, "body": "@CamiloTerevinto Done and thanks for pointing it out.!"}], "tags": [], "owner": {"reputation": 3839, "user_id": 9429059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt79X.jpg?s=128&g=1", "display_name": "Mihir Dave", "link": "https://stackoverflow.com/users/9429059/mihir-dave"}, "is_accepted": false, "score": 0, "last_activity_date": 1520444808, "last_edit_date": 1520444808, "creation_date": 1520444493, "answer_id": 49158141, "question_id": 49158015, "link": "https://stackoverflow.com/questions/49158015/need-help-sorting-my-array-using-bubble-method-because-my-text-box-to-show-the-s/49158141#49158141", "title": "need help sorting my array using bubble method because my text box to show the sorted numbers only show 0", "body": "<p>You have local initlization of array inside GenArray20_Click so it was using local copy to populate Data</p>\n\n<p>Please try this updated code.</p>\n\n<p><strong>Please Update this Part</strong></p>\n\n<pre><code>    public void GenArray20_Click(object sender, RoutedEventArgs e)\n    {\n        // You have local initilization of array\n        // so code inside this method will load data into this array instead of global\n        //int[] arraytwenty = new int[20];\n        Random Number = new Random();\n\n        for (int i = 0; i &lt; 20; i++)\n        {\n            int randomnum = Number.Next(1, 101);\n            arraytwenty[i] = randomnum;\n\n            Original20Array.Text = Original20Array.Text + \" \" + Convert.ToString(arraytwenty[i]);\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "is_accepted": true, "score": 2, "last_activity_date": 1520444677, "creation_date": 1520444677, "answer_id": 49158196, "question_id": 49158015, "link": "https://stackoverflow.com/questions/49158015/need-help-sorting-my-array-using-bubble-method-because-my-text-box-to-show-the-s/49158196#49158196", "title": "need help sorting my array using bubble method because my text box to show the sorted numbers only show 0", "body": "<p>Don't use the same name for variables, it can cause unintended behavior as you have found out:</p>\n\n<pre><code>namespace RandomArray\n{\n    /// &lt;summary&gt;\n    /// An empty page that can be used on its own or navigated to within    a       Frame.\n    /// &lt;/summary&gt;\n    public sealed partial class Arraytwenty : Page\n    {\n        //Declare your class array for storing integers, this will have scope in any method of your class\n        private int[] arraytwenty;\n\n        public Arraytwenty()\n        {\n            //initialize your array\n            this.arraytwenty = new int[20];\n            this.InitializeComponent();\n        }\n\n        public void GenArray20_Click(object sender, RoutedEventArgs e)\n        {\n            //Don't create a local array when you want to use it in your other class methods\n            //int[] arraytwenty = new int[20];\n            Random Number = new Random();\n\n            for (int i = 0; i &lt; 20; i++)\n            {\n                int randomnum = Number.Next(1, 101);\n                arraytwenty[i] = randomnum;\n\n                Original20Array.Text = Original20Array.Text + \" \" + Convert.ToString(arraytwenty[i]);\n            }\n\n\n\n\n        }\n\n        private void bubsortbtn_Click(object sender, RoutedEventArgs e)\n        {\n            int temp = 0;\n            for (int i = 0; i &lt; arraytwenty.Length; i++)\n            {\n                for (int j = 0; j &lt; arraytwenty.Length - 1; j++)\n                {\n                    if (arraytwenty[j] &gt; arraytwenty[j + 1])\n                    {\n                        temp = arraytwenty[j + 1];\n                        arraytwenty[j + 1] = arraytwenty[j];\n                        arraytwenty[j] = temp;\n                    }\n                }\n            }\n            string value = \" \";\n            for (int i = 0; i &lt; arraytwenty.Length; i++)\n            {\n                value += arraytwenty[i].ToString() + \" \";\n\n\n            }\n\n            bubblesortTextbox.Text = value;\n\n        }\n\n        private void clrArraytwenty_Click(object sender, RoutedEventArgs e)\n        {\n            Original20Array.Text = String.Empty;\n            bubblesortTextbox.Text = String.Empty;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9381617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4aa569342faf0244e119b236cb59768a?s=128&d=identicon&r=PG&f=1", "display_name": "grootpoot", "link": "https://stackoverflow.com/users/9381617/grootpoot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "closed_date": 1520447594, "accepted_answer_id": 49158196, "answer_count": 2, "score": -2, "last_activity_date": 1520444808, "creation_date": 1520444033, "last_edit_date": 1520444275, "question_id": 49158015, "link": "https://stackoverflow.com/questions/49158015/need-help-sorting-my-array-using-bubble-method-because-my-text-box-to-show-the-s", "closed_reason": "Needs details or clarity", "title": "need help sorting my array using bubble method because my text box to show the sorted numbers only show 0", "body": "<p>I created an array that takes in random numbers when you click the button and that is all working. then i have a button to sort the numbers using bubble sort and show it in a other <code>textbox</code>, but when I click the sort button, all i get is repeated 0's. I need help fixing my error please.</p>\n\n<pre><code>namespace RandomArray\n{\n    /// &lt;summary&gt;\n    /// An empty page that can be used on its own or navigated to within    a       Frame.\n    /// &lt;/summary&gt;\n    public sealed partial class Arraytwenty : Page\n    {\n        public Arraytwenty()\n        {\n            this.InitializeComponent();\n        }\n        int[] arraytwenty = new int[20];\n        public void GenArray20_Click(object sender, RoutedEventArgs e)\n        {\n            int[] arraytwenty = new int[20];\n            Random Number = new Random();\n\n            for (int i = 0; i &lt; 20; i++)\n            {\n                int randomnum = Number.Next(1, 101);\n                arraytwenty[i] = randomnum;\n\n                Original20Array.Text = Original20Array.Text + \" \" + Convert.ToString(arraytwenty[i]);\n            }\n\n\n\n\n        }\n\n        private void bubsortbtn_Click(object sender, RoutedEventArgs e)\n        {\n            int temp = 0;\n            for (int i = 0; i &lt; arraytwenty.Length; i++)\n            {\n                for (int j = 0; j &lt; arraytwenty.Length - 1; j++)\n                {\n                    if (arraytwenty[j] &gt; arraytwenty[j + 1])\n                    {\n                        temp = arraytwenty[j + 1];\n                        arraytwenty[j + 1] = arraytwenty[j];\n                        arraytwenty[j] = temp;\n                    }\n                }\n            }\n            string value = \" \";\n            for (int i = 0; i &lt; arraytwenty.Length; i++)\n            {\n                value += arraytwenty[i].ToString() + \" \";\n\n\n            }\n\n            bubblesortTextbox.Text = value;\n\n        }\n\n        private void clrArraytwenty_Click(object sender, RoutedEventArgs e)\n        {\n            Original20Array.Text = String.Empty;\n            bubblesortTextbox.Text = String.Empty;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "datagridview", "cells"], "comments": [{"owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1520444655, "post_id": 49157990, "comment_id": 85321180, "body": "You mean removing blank rows, right ?"}, {"owner": {"reputation": 137, "user_id": 7397075, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10154609584168880/picture?type=large", "display_name": "Michael Lewis", "link": "https://stackoverflow.com/users/7397075/michael-lewis"}, "reply_to_user": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1520445988, "post_id": 49157990, "comment_id": 85321964, "body": "@Aybe no i need all blank cells removed. if the blank row is removed it will only remove the one row and shift boston celtics up one."}, {"owner": {"reputation": 137, "user_id": 7397075, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10154609584168880/picture?type=large", "display_name": "Michael Lewis", "link": "https://stackoverflow.com/users/7397075/michael-lewis"}, "reply_to_user": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1520447382, "post_id": 49157990, "comment_id": 85322792, "body": "@Aybe for instance : for (int i = dvpdt.Rows.Count - 1; i &gt;= 0; i--)                 {                     if (dvpdt.Rows[i][&quot;Atlanta Hawks&quot;] == DBNull.Value)                     {                         dvpdt.Rows[i].Delete();                     }                 }  would remove any row that shows blank within the atlanta column, I want it only to remove the cells so the boston column is side by side to the atlanta column(and same with brooklyn column"}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 7397075, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10154609584168880/picture?type=large", "display_name": "Michael Lewis", "link": "https://stackoverflow.com/users/7397075/michael-lewis"}, "edited": false, "score": 0, "creation_date": 1520897199, "post_id": 49162340, "comment_id": 85495738, "body": "That did not work, or I must be doing something wrong still. I will post the code I tried above."}], "tags": [], "owner": {"reputation": 1, "user_id": 9260582, "user_type": "registered", "profile_image": "https://graph.facebook.com/1741507699242033/picture?type=large", "display_name": "Mohamad Nawzad Karim", "link": "https://stackoverflow.com/users/9260582/mohamad-nawzad-karim"}, "is_accepted": false, "score": 0, "last_activity_date": 1521125384, "last_edit_date": 1521125384, "creation_date": 1520462064, "answer_id": 49162340, "question_id": 49157990, "link": "https://stackoverflow.com/questions/49157990/c-removing-blank-cells-from-datagridview/49162340#49162340", "title": "C# Removing blank cells from datagridview", "body": "<p>you added this blank to your database before you can write in database after that open DataGridView you don't see any blank  </p>\n"}, {"tags": [], "owner": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "is_accepted": false, "score": 0, "last_activity_date": 1521175127, "last_edit_date": 1521175127, "creation_date": 1520994528, "answer_id": 49268868, "question_id": 49157990, "link": "https://stackoverflow.com/questions/49157990/c-removing-blank-cells-from-datagridview/49268868#49268868", "title": "C# Removing blank cells from datagridview", "body": "<p>I am confident that the posted code is \u201ccreating\u201d the empty cells that you want to remove. If you trace the code, you will see that you are adding rows for each team and simply moving each team over one column. I am guessing you should return to the top of the grid when adding the next team. Given this, the cells you want to remove are \u201ccreated\u201d from not moving the next team up to the first row. The code simply ADDS a new row in the three (3) <code>foreach</code> loops.</p>\n\n<p>From a \u201cbig picture\u201d, it appears you are getting some NBA data/stats from some website. The data/stats are formatted in a particular way. The goal is to \u201cparse\u201d the data/stats such that the data can be displayed to the user in a readable fashion. I hope I have this right.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Y4xjf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y4xjf.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>To help, I would recommend you create a <code>TeamStat</code> Class. Reason being it will make things much easier when you have to get a stat or a team. Currently the code simply adds the values (TeamStats) to the <code>DataTable</code>. The Class could be simple like below.</p>\n\n<pre><code>public class TeamStat {\n  public string TeamName { get; set; }\n  public List&lt;string&gt; TeamStats { get; set; }\n\n  public TeamStat(string teamName) {\n    TeamName = teamName;\n    TeamStats = new List&lt;string&gt;();\n  }\n\n  public TeamStat() {\n    TeamName = \"\";\n    TeamStats = new List&lt;string&gt;();\n  }\n}\n</code></pre>\n\n<p>Next, when the code gets the data from the website, it appears redundant to keep calling the website for data. Picking one team at a time appears unnecessary. I recommend you grab all the data, since you can take advantage of its formatting. \u201cTake advantage\u201d, means we want to break (split) the stats into Teams!</p>\n\n<p>Upon closer examination of the returned string from the website, it appears the \u201c}\u201d character is at the end of each teams stats. This will allow the code to be \u201csplit\u201d on each team. The point being, that the current code is simply grabbing a subset of the data for each team needed.</p>\n\n<p>I am guessing that using a <code>List&lt;TeamStat&gt;</code> may come in handy. With this approach, I am thinking of grabbing ALL the data, and fill a <code>List</code> with <code>TeamStat</code>s for all the teams. With this approach, you could display the teams any way you like without calling the website for each team. Without question, this will be easier to manage and it would be rudimentary to create a <code>DataTable</code> of your choice from this list.</p>\n\n<p>The <code>GetAllStatsDataString</code> method returns a semi formatted string of ALL the teams data/stats. The \u201cstart\u201d and \u201cend\u201d indexes come from a closer examination for the returned string. The formatting is kept to minimum, and was edited to facilitate the ability to \u201csplit\u201d the string into \u201cteams\u201d such that each team\u2019s stats ends with the \u201c}\u201d (close bracket) character.</p>\n\n<pre><code>private string GetAllStatsDataString() {\n  HtmlAgilityPack.HtmlDocument doc = new HtmlWeb().Load(\"https://rotogrinders.com/grids/nba-defense-vs-position-cheat-sheet-1493632?site=fanduele\");\n  HtmlNode node = doc.DocumentNode.SelectSingleNode(\"//section[@class='bdy content article full cflex reset long table-page']/following-sibling::script[1]\");\n  int TeamStart = node.InnerText.IndexOf(\"TEAM\") + 4;\n  int TeamsEnd = node.InnerText.IndexOf(\"];\") - TeamStart;\n  return node.InnerText.Substring(TeamStart, TeamsEnd).Replace(\"TEAM\", \"\").Replace(\"\\\"\", \"\").Replace(\"{\",\"\").Trim();\n}\n</code></pre>\n\n<p>Next, is the <code>GetAllTeamStats(string data)</code> that takes the string returned from above and splits it on the \u201c}\u201d character to get a string array with each teams stats. Each string array entry will be a team name and its data/stats. Create a <code>List&lt;TeamStat&gt;</code> <code>stats</code> to hold each teams stats. Before the team is added to the list, we need to convert the string into a <code>TeamStat</code> object. This is accomplished with the <code>GetTeamStat</code> method.</p>\n\n<pre><code>private List&lt;TeamStat&gt; GetAllTeamStats(string data) {\n  List&lt;TeamStat&gt; stats = new List&lt;TeamStat&gt;();\n  string[] teamSplit = data.Split('}');\n  TeamStat curTeamStat;\n  foreach (string curTeam in teamSplit) {\n    if (curTeam != \"\") {\n      curTeamStat = GetTeamStat(curTeam);\n      stats.Add(curTeamStat);\n    }\n  }\n  return stats;\n}\n</code></pre>\n\n<p>The <code>GetTeamStat</code> method takes a string, then parses that string into a new <code>TeamStat</code> object, and returns that <code>TeamStat</code> object, which in turn will be added to the <code>List&lt;TeamStat&gt;</code> <code>TeamStat</code> in the previous method.</p>\n\n<pre><code>private TeamStat GetTeamStat(string teamString) {\n  string[] statSplit = teamString.Substring(1).Split(',');\n  string tName = statSplit[0].Replace(\":\", \"\").Trim();\n  TeamStat teamStat = new TeamStat(tName);\n  for (int i = 1; i &lt; statSplit.Length; i++) {\n    if (statSplit[i] != null &amp;&amp; statSplit[i] != \"\") {\n      teamStat.TeamStats.Add(statSplit[i]);\n    }\n  }\n  return teamStat;\n}\n</code></pre>\n\n<p>At this stage, we now have a list of <code>TeamStat</code> objects, one for each team. You could possibly use this as a data source, however as stated earlier, it would not be difficult to create a <code>DataTable</code> using the list of team stats. The only problem here is deciding which teams to display in the <code>DataTable</code>. In the code below I simply use all the teams, however, it would not be difficult to display only the teams the user wanted.</p>\n\n<p>Considering this, it is not necessarily known how many columns are to be displayed; therefore, the code simply loops through all the teams in the list, one column for each team. Next issue is how many rows is the table going to need assuming the number of stats between each team MAY be different. To ensure all stats are displayed, a check is made to get the largest stat list from all the teams. This will determine the number of rows needed. Lastly, fill those rows with data from the <code>List&lt;TeamStat&gt;</code> <code>TeamStats</code>. Below is the code to return the <code>DataTable</code></p>\n\n<pre><code>private DataTable GetGridDT() {\n  DataTable dt = new DataTable();\n  SetDataTableColumnsAndRows(dt);\n  FillRows(dt);\n  return dt;\n}\n\nprivate void SetDataTableColumnsAndRows(DataTable dt) {\n  int totalRows = 0;\n  foreach(TeamStat curTeam in TeamStats) {\n    dt.Columns.Add(curTeam.TeamName, typeof(string));\n    totalRows = Math.Max(totalRows, curTeam.TeamStats.Count);\n  }\n  // set rows here to max length to avoid having to check for different length stats\n  for (int i = 0; i &lt; totalRows; i++) {\n    dt.Rows.Add();\n  }\n}\n</code></pre>\n\n<p>NOTE: the \u201csplitting\u201d here is separating the stat name and the stat data. Example, the stat is of the form \u201cPG RK:26\u201d\u2026 after splitting this string on \u201c:\u201d we can get the name or the value.</p>\n\n<pre><code>private void FillRows(DataTable dt) {\n  int currentColumn = 0;\n  int currentRow;\n  string[] splitArray;\n  foreach (TeamStat curTeam in TeamStats) {\n    currentRow = 0;\n    foreach (string curStat in curTeam.TeamStats) {\n      splitArray = curStat.Split(':');\n      dt.Rows[currentRow][currentColumn] = splitArray[1].Trim();\n      currentRow++;\n    }\n    currentColumn++;\n  }\n}\n</code></pre>\n\n<p>Finally, the last problem is to add the row headers for the grid for each stat. Each stat cell currently has the stats \u201cname\u201d and this is what is used for the row headers. NOTE: call this method AFTER you have set the grids data source.</p>\n\n<pre><code>private void SetGridRowHeaders() {\n  int rowIndex = 0;\n  string[] splitArray;\n  foreach (string curHeader in TeamStats[0].TeamStats) {\n    splitArray = curHeader.Split(':');\n    dataGridView1.Rows[rowIndex].HeaderCell.Value =  splitArray[0].Trim();\n    rowIndex++;\n  }\n}\n</code></pre>\n\n<p>Lastly the form load method to put it all together\u2026</p>\n\n<pre><code>DataTable TeamDataTable;\nstring AllStatsString;\nList&lt;TeamStat&gt; TeamStats;\n\npublic Form_NBA_Stats() {\n  InitializeComponent();\n}\n\nprivate void Form_NBA_Stats_Load(object sender, EventArgs e) {\n  AllStatsString = GetAllStatsDataString();\n  TeamStats = GetAllTeamStats(AllStatsString);\n  TeamDataTable = GetGridDT();\n  dataGridView1.DataSource = TeamDataTable;\n  SetGridRowHeaders();\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 137, "user_id": 7397075, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10154609584168880/picture?type=large", "display_name": "Michael Lewis", "link": "https://stackoverflow.com/users/7397075/michael-lewis"}, "edited": false, "score": 0, "creation_date": 1521052928, "post_id": 49270465, "comment_id": 85573759, "body": "Thank you oakar. I think this is closer to what I am looking for. I am getting a An unhandled exception of type &#39;System.ArgumentOutOfRangeException&#39; occurred in mscorlib.dll  Additional information: Index was out of range. Must be non-negative and less than the size of the collection."}], "tags": [], "owner": {"reputation": 227, "user_id": 7645527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd6d8859f31a8d88b0f06a32dcf98b80?s=128&d=identicon&r=PG&f=1", "display_name": "Oakar", "link": "https://stackoverflow.com/users/7645527/oakar"}, "is_accepted": true, "score": 1, "last_activity_date": 1521006264, "creation_date": 1521006264, "answer_id": 49270465, "question_id": 49157990, "link": "https://stackoverflow.com/questions/49157990/c-removing-blank-cells-from-datagridview/49270465#49270465", "title": "C# Removing blank cells from datagridview", "body": "<p>You can try something like this, I do not have time to test this but it should work, if it does not work after some changings it may work, this may give you an idea about how to do it.</p>\n\n<pre><code>        for (int i = dataGridView1.Rows.Count; i &gt; -1; --i)\n        {\n            DataGridViewRow row = dataGridView1.Rows[i];\n            if (!row.IsNewRow &amp;&amp; row.Cells[0].Value == null)\n            {\n                dataGridView1.Rows.RemoveAt(i);\n            }\n\n            DataGridViewColumn clmn = dataGridView1.Columns[i];\n            if (row.Cells[0].Value == null)\n            {\n                dataGridView1.Columns.RemoveAt(i);\n            }\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 4362975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r1bKB.png?s=128&g=1", "display_name": "adnan Alyaari", "link": "https://stackoverflow.com/users/4362975/adnan-alyaari"}, "is_accepted": false, "score": 0, "last_activity_date": 1595446155, "last_edit_date": 1595446155, "creation_date": 1595445644, "answer_id": 63041668, "question_id": 49157990, "link": "https://stackoverflow.com/questions/49157990/c-removing-blank-cells-from-datagridview/63041668#63041668", "title": "C# Removing blank cells from datagridview", "body": "<p>if you want to remove any empty row or any rows contains empty cell just you can use this code :</p>\n<pre><code> for (int i = 0;i&lt;dataGridView1.Rows.count-1;i++)\n        {\n            \n                if (dataGridView1.Rows[i].Cells[0].Value.ToString() ==&quot;&quot; | dataGridView1.Rows[i].Cells[1].Value.ToString()==&quot;&quot;| dataGridView1.Rows[i].Cells[2].Value.ToString()==&quot;&quot;)\n                {\n                    dataGridView1.Rows.RemoveAt(i);\n                    i--;\n                }}\n         \n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 7397075, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10154609584168880/picture?type=large", "display_name": "Michael Lewis", "link": "https://stackoverflow.com/users/7397075/michael-lewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1095, "favorite_count": 1, "accepted_answer_id": 49270465, "answer_count": 4, "score": 0, "last_activity_date": 1595446155, "creation_date": 1520443934, "last_edit_date": 1520897393, "question_id": 49157990, "link": "https://stackoverflow.com/questions/49157990/c-removing-blank-cells-from-datagridview", "title": "C# Removing blank cells from datagridview", "body": "<p>Is there a way to remove blank/null cells from datagrid view? </p>\n\n<pre><code>    private void button1_Click(object sender, EventArgs e)\n    {\n\n        DataTable dvpdt = new DataTable();\n\n        HtmlAgilityPack.HtmlDocument doc;\n        doc = new HtmlWeb().Load(\"https://rotogrinders.com/grids/nba-defense-vs-position-cheat-sheet-1493632?site=fanduele\");\n        HtmlNode node = doc.DocumentNode.SelectSingleNode(\"//section[@class='bdy content article full cflex reset long table-page']/following-sibling::script[1]\");\n        //Atlanta DVP: \n        int atlantastart = node.InnerText.IndexOf(\"Atlanta Hawks\");\n        int atlantalength = node.InnerText.IndexOf(\"Boston Celtics\") - atlantastart;\n        string atlantaoutput = node.InnerText.Substring(atlantastart, atlantalength).Replace(\"TEAM\", \"\").Replace(\"\\\"\", \"\").Replace(\"{:\", \"\").Replace(\"FPPG:\", \"\").Trim();\n        string[] atlantasplit = atlantaoutput.Split(',');\n\n\n        DataColumn dc = new DataColumn(\"Atlanta Hawks\");\n        DataColumn bdc = new DataColumn(\"Boston Celtics\");\n        DataColumn brdc = new DataColumn(\"Brooklyn Nets\");\n\n\n\n        dvpdt.Columns.Add(dc);\n        DataRow dr = dvpdt.NewRow();\n\n\n        foreach (string atlantaitem in atlantasplit)\n        {\n            dr = dvpdt.NewRow();\n            dr[\"Atlanta Hawks\"] = atlantaitem;\n            dvpdt.Rows.Add(dr);\n\n        }\n\n        //Boston DVP:\n        int bostonstart = node.InnerText.IndexOf(\"Boston Celtics\");\n        int bostonlength = node.InnerText.IndexOf(\"Brooklyn Nets\") - bostonstart;\n        string bostonoutput = node.InnerText.Substring(bostonstart, bostonlength).Replace(\"TEAM\", \"\").Replace(\"\\\"\", \"\").Replace(\"{:\", \"\").Replace(\"FPPG:\", \"\").Trim();\n        string[] bostonsplit = bostonoutput.Split(',');\n\n\n        dvpdt.Columns.Add(bdc);\n\n        foreach (string bostonitem in bostonsplit)\n        {\n            dr = dvpdt.NewRow();\n            dr[\"Boston Celtics\"] = bostonitem;\n            dvpdt.Rows.Add(dr);\n        }\n\n        //Brooklyn DVP:\n        int brooklynstart = node.InnerText.IndexOf(\"Brooklyn Nets\");\n        int brooklynlength = node.InnerText.IndexOf(\"Charlotte Hornets\") - brooklynstart;\n        string brooklynoutput = node.InnerText.Substring(brooklynstart, brooklynlength).Replace(\"TEAM\", \"\").Replace(\"\\\"\", \"\").Replace(\"{:\", \"\").Replace(\"FPPG:\", \"\").Trim();\n        string[] brooklynsplit = brooklynoutput.Split(',');\n        dvpdt.Columns.Add(brdc);\n\n        foreach (string brooklynitem in brooklynsplit)\n        {\n            dr = dvpdt.NewRow();\n            dr[\"Brooklyn Nets\"] = brooklynitem;\n            dvpdt.Rows.Add(dr);\n        }\n\n        //end team load\n        //Bind Datasource\n        dataGridView2.DataSource = dvpdt;\n\n        foreach (DataGridViewRow row in dataGridView2.Rows)\n        {\n\n            string t = row.Cells[0].Value == null ? String.Empty : row.Cells[0].Value.ToString();\n            string a = row.Cells[1].Value == null ? String.Empty : row.Cells[1].Value.ToString();\n            string b = row.Cells[2].Value == null ? String.Empty : row.Cells[2].Value.ToString();\n\n            if (t.Contains(\"PG RK\"))\n            {\n                dataGridView2.Rows.Remove(row);\n            }\n            if (t.Contains(\"SG RK\"))\n            {\n                dataGridView2.Rows.Remove(row);\n            }\n            if (t.Contains(\"C RK\"))\n            {\n                dataGridView2.Rows.Remove(row);\n            }\n            if (t.Contains(\"PF RK\"))\n            {\n                dataGridView2.Rows.Remove(row);\n            }\n            if (t.Contains(\"SF RK\"))\n            {\n                dataGridView2.Rows.Remove(row);\n            }\n\n\n            if (a.Contains(\"PG RK\"))\n            {\n                dataGridView2.Rows.Remove(row);\n            }\n            if (a.Contains(\"SG RK\"))\n            {\n                dataGridView2.Rows.Remove(row);\n            }\n            if (a.Contains(\"C RK\"))\n            {\n                dataGridView2.Rows.Remove(row);\n            }\n            if (a.Contains(\"PF RK\"))\n            {\n                dataGridView2.Rows.Remove(row);\n            }\n            if (a.Contains(\"SF RK\"))\n            {\n                dataGridView2.Rows.Remove(row);\n            }\n\n\n            if (b.Contains(\"PG RK\"))\n            {\n                dataGridView2.Rows.Remove(row);\n            }\n            if (b.Contains(\"SG RK\"))\n            {\n                dataGridView2.Rows.Remove(row);\n            }\n            if (b.Contains(\"C RK\"))\n            {\n                dataGridView2.Rows.Remove(row);\n            }\n            if (b.Contains(\"PF RK\"))\n            {\n                dataGridView2.Rows.Remove(row);\n            }\n            if (b.Contains(\"SF RK\"))\n            {\n                dataGridView2.Rows.Remove(row);\n            }\n\n\n\n        }\n\n\n\n\n    }\n</code></pre>\n\n<p>Here is a screen shot demonstrating and  example of what it looks like currently when ordering by the atlanta hawks column. I am trying to have all columns match up so I can compare the data side by side. </p>\n\n<p><a href=\"https://i.stack.imgur.com/gAMFe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gAMFe.png\" alt=\"dgv\"></a></p>\n\n<p>I tried searching for similar issues but having some issue. I think the closest thing I found was to import the data into a List. </p>\n\n<p><a href=\"https://i.stack.imgur.com/I6NhH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I6NhH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Update: I tried the following to try to separate the two columns but this did not work either:</p>\n\n<pre><code> private void button1_Click(object sender, EventArgs e)\n    {\n\n        DataTable dvpdt = new DataTable();\n\n        HtmlAgilityPack.HtmlDocument doc;\n        doc = new HtmlWeb().Load(\"https://rotogrinders.com/grids/nba-defense-vs-position-cheat-sheet-1493632?site=fanduele\");\n        HtmlNode node = doc.DocumentNode.SelectSingleNode(\"//section[@class='bdy content article full cflex reset long table-page']/following-sibling::script[1]\");\n\n        DataColumn dc = new DataColumn(\"Atlanta Hawks\");\n        DataColumn bdc = new DataColumn(\"Boston Celtics\");\n        DataColumn brdc = new DataColumn(\"Brooklyn Nets\");\n        DataRow dr = dvpdt.NewRow();\n\n        //Add Columns \n        dvpdt.Columns.Add(dc);\n        dvpdt.Columns.Add(bdc);\n\n\n\n        //Atlanta DVP: \n        int atlantastart = node.InnerText.IndexOf(\"Atlanta Hawks\");\n        int atlantapglength = node.InnerText.IndexOf(\"PG RK\") - atlantastart;\n        int atlantasglength = node.InnerText.IndexOf(\"SG RK\") - atlantastart;\n        int atlantasflength = node.InnerText.IndexOf(\"SF RK\") - atlantastart;\n        int atlantapflength = node.InnerText.IndexOf(\"PF RK\") - atlantastart;\n        int atlantaclength = node.InnerText.IndexOf(\"C RK\") - atlantastart;\n        string atlantapgoutput = node.InnerText.Substring(atlantastart, atlantapglength).Replace(\"TEAM\", \"\").Replace(\"\\\"\", \"\").Replace(\"{:\", \"\").Replace(\"FPPG:\", \"\").Replace(\"Atlanta Hawks\", \"\");\n        string[] atlantapgsplit = atlantapgoutput.Split(',');\n        string atlantasgoutput = node.InnerText.Substring(atlantastart, atlantasglength).Replace(\"TEAM\", \"\").Replace(\"\\\"\", \"\").Replace(\"{:\", \"\").Replace(\"FPPG:\", \"\").Replace(\"Atlanta Hawks\", \"\");\n        string[] atlantasgsplit = atlantasgoutput.Split(',');\n\n        foreach (string atlantaitem in atlantasgsplit)\n        {\n            dr = dvpdt.NewRow();\n            dr[\"Atlanta Hawks\"] = atlantaitem;\n            dvpdt.Rows.Add(dr);\n\n        }\n\n\n\n        //Boston DVP:\n        int bostonstart = node.InnerText.IndexOf(\"Boston Celtics\");\n        int bostonpglength = node.InnerText.IndexOf(\"PG RK\") - atlantastart;\n        string bostonpgoutput = node.InnerText.Substring(bostonstart, bostonpglength).Replace(\"TEAM\", \"\").Replace(\"\\\"\", \"\").Replace(\"{:\", \"\").Replace(\"FPPG:\", \"\").Replace(\"Boston Celtics\", \"\");\n        string[] bostonpgsplit = bostonpgoutput.Split(',');\n\n        foreach (string bostonitem in bostonpgsplit)\n        {\n            dr = dvpdt.NewRow();\n            dr[\"Boston Celtics\"] = bostonitem;\n            dvpdt.Rows.Add(dr);\n\n        }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/xRZ94.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xRZ94.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "opengl", "opentk"], "answers": [{"tags": [], "owner": {"reputation": 374839, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "is_accepted": false, "score": 1, "last_activity_date": 1520453867, "creation_date": 1520453867, "answer_id": 49160518, "question_id": 49157954, "link": "https://stackoverflow.com/questions/49157954/opentk-opengl-version/49160518#49160518", "title": "Opentk Opengl Version", "body": "<p>Why would there be problems? OpenGL is <em>backwards compatible</em>, so code written against one version will execute on a higher version.</p>\n\n<p>The only time OpenGL broke compatibility was with the core/compatibility profile distinction, and core profiles are always opt-in. But core profiles are also the only mandatory implementations. That is, if an implementation offers 3.2 core, it may <em>or may not</em> offer 3.2 compatibility. The reverse is not allowed; if it offers 3.2 compatibility, it <em>must</em> offer 3.2 core as well.</p>\n"}], "owner": {"reputation": 31, "user_id": 4154260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b2e4c45a2470b6240a36faa495de4ea?s=128&d=identicon&r=PG&f=1", "display_name": "Lee Baker", "link": "https://stackoverflow.com/users/4154260/lee-baker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1494, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1520453867, "creation_date": 1520443823, "question_id": 49157954, "link": "https://stackoverflow.com/questions/49157954/opentk-opengl-version", "title": "Opentk Opengl Version", "body": "<p>I have a Windows C# application which uses OpenTK. The application performs some relatively simple drawing but also calls into a C++ developed dll for additional openGL drawing/rendering.</p>\n\n<p>The application and c++ dll have been developed against openGL version 1.1 so when I modified the creation of the OpenTK GLControl from version 1.1 to version 3.0,  as shown:</p>\n\n<p>From</p>\n\n<pre><code>private OpenTK.GLControl m_OpenGLDisplay = new OpenTK.GLControl(new OpenTK.Graphics.GraphicsMode(32, 24, 8, 0), 1, 1, OpenTK.Graphics.GraphicsContextFlags.Default);\n</code></pre>\n\n<p>To</p>\n\n<pre><code>private OpenTK.GLControl m_OpenGLDisplay = new OpenTK.GLControl(new OpenTK.Graphics.GraphicsMode(32, 24, 8, 0), 3, 0, OpenTK.Graphics.GraphicsContextFlags.ForwardCompatible);\n</code></pre>\n\n<p>I was expecting to encounter no end of problems.  Unfortunately the application seems to behave no different regardless of the version I enter  - up to 4.0(including the error status from GL.GetError).</p>\n\n<p>Any explanation would be appreciated.</p>\n"}, {"tags": ["c#", "json", "azure", "azure-data-lake", "u-sql"], "answers": [{"tags": [], "owner": {"reputation": 669, "user_id": 6691192, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-okG0l-9evf4/AAAAAAAAAAI/AAAAAAAAAnQ/Q2RC2SOSlk4/photo.jpg?sz=128", "display_name": "Simon Zeinstra", "link": "https://stackoverflow.com/users/6691192/simon-zeinstra"}, "is_accepted": false, "score": 1, "last_activity_date": 1520511323, "creation_date": 1520511323, "answer_id": 49172858, "question_id": 49157901, "link": "https://stackoverflow.com/questions/49157901/u-sql-query-error-in-azure-data-lake/49172858#49172858", "title": "U-SQL Query Error in Azure Data Lake", "body": "<p>Like in SQL you can use SELECT only once in your statement, like you did for the EXTRACT statement, so your code should look like this:</p>\n\n<pre><code>@jsonnodes =\nSELECT \n    Partition string, \n    JsonApp.JsonFunctions.JsonTuple(System).Values AS system_array,\n    JsonApp.JsonFunctions.JsonTuple(Custom).Values AS custom_array,\n    ttl\nFROM @json;\n</code></pre>\n\n<p>When you look at the JSON path examples <a href=\"http://goessner.net/articles/JsonPath/\" rel=\"nofollow noreferrer\">here</a> you can see that  you can use the $..* path to take all objects or $[*] for only first level objects. </p>\n"}, {"tags": [], "owner": {"reputation": 6694, "user_id": 1318169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTG3p.jpg?s=128&g=1", "display_name": "Michael Rys", "link": "https://stackoverflow.com/users/1318169/michael-rys"}, "is_accepted": false, "score": 2, "last_activity_date": 1521509940, "creation_date": 1521509940, "answer_id": 49375073, "question_id": 49157901, "link": "https://stackoverflow.com/questions/49157901/u-sql-query-error-in-azure-data-lake/49375073#49375073", "title": "U-SQL Query Error in Azure Data Lake", "body": "<p>To correct Simon's answer:</p>\n\n<p>The original script used invalid syntax (a column name/type pair outside of a SELECT or EXTRACT and then several SELECT clauses in a single query):</p>\n\n<pre><code>@jsonnodes =\n  Partition string, \n  SELECT JsonApp.JsonFunctions.JsonTuple(System).Values AS system_array,\n  SELECT JsonApp.JsonFunctions.JsonTuple(Custom).Values AS custom_array,\n  ttl\n  FROM @json;\n</code></pre>\n\n<p>You probably just want to select the already extracted column and the individual expressions, so you move the name (<strong>without the type!</strong>) into the <code>SELECT</code> statement and only use <strong>one</strong> <code>SELECT</code> clause as follows:</p>\n\n<pre><code>@jsonnodes =\nSELECT \n    Partition, \n    JsonApp.JsonFunctions.JsonTuple(System).Values AS system_array,\n    JsonApp.JsonFunctions.JsonTuple(Custom).Values AS custom_array,\n    ttl\nFROM @json;\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 6502946, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e2a33fe53e264e795ba5c91337172c49?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Markman", "link": "https://stackoverflow.com/users/6502946/andy-markman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1452, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521509940, "creation_date": 1520443678, "question_id": 49157901, "link": "https://stackoverflow.com/questions/49157901/u-sql-query-error-in-azure-data-lake", "title": "U-SQL Query Error in Azure Data Lake", "body": "<p>I am getting an error in U-SQL query:</p>\n\n<pre><code>E_CSC_USER_SYNTAXERROR: syntax error. Expected one of: '.' ALL ANTISEMIJOIN ANY AS BROADCASTLEFT BROADCASTRIGHT CROSS DISTINCT EXCEPT FULL FULLCROSS GROUP HASH HAVING INDEXLOOKUP INNER INTERSECT JOIN LEFT LOOP MERGE ON OPTION ORDER OUTER OUTER UNION PAIR PIVOT PRESORT PRODUCE READONLY REQUIRED RIGHT SAMPLE SEMIJOIN SERIAL SORTED TO UNIFORM UNION UNIVERSE UNPIVOT USING WHERE WITH ';' '(' ')' ','\nLine 19\nComponent\nCSC\nMessage\nsyntax error. Expected one of: '.' ALL ANTISEMIJOIN ANY AS BROADCASTLEFT BROADCASTRIGHT CROSS DISTINCT EXCEPT FULL FULLCROSS GROUP HASH HAVING INDEXLOOKUP INNER INTERSECT JOIN LEFT LOOP MERGE ON OPTION ORDER OUTER OUTER UNION PAIR PIVOT PRESORT PRODUCE READONLY REQUIRED RIGHT SAMPLE SEMIJOIN SERIAL SORTED TO UNIFORM UNION UNIVERSE UNPIVOT USING WHERE WITH ';' '(' ')' ','\nResolution\nCorrect the script syntax, using expected token(s) as a guide.\nDescription\nInvalid syntax found in the script.\nDetails\nat token 'string', line 19\nnear the ###:\n**************\n\n    Custom string,\n    ttl int\n    FROM @INPUT_FILE\n    USING new Microsoft.Analytics.Samples.Formats.Json.JsonExtractor(\"$.[*]\");\n\n@jsonnodes =\n    Partition  ### string, \n    SELECT JsonApp.JsonFunctions.JsonTuple(System).Values AS system_array,\n    SELECT JsonApp.JsonFunctions.JsonTuple(Custom).Values AS custom_array,\n</code></pre>\n\n<p>Here is my u-sql query:</p>\n\n<pre><code>@json =\n    EXTRACT \n    Partition string, \n    System string,\n    Custom string,\n    ttl int\n    FROM @INPUT_FILE\n    USING new Microsoft.Analytics.Samples.Formats.Json.JsonExtractor(\"$.[*]\");\n\n@jsonnodes =\n    Partition string, \n    SELECT JsonApp.JsonFunctions.JsonTuple(System).Values AS system_array,\n    SELECT JsonApp.JsonFunctions.JsonTuple(Custom).Values AS custom_array,\n    ttl\n    FROM @json;\n</code></pre>\n\n<p>I am getting the error, while extracting the values in the @jsonnodes query.</p>\n\n<p>Also, what json path should be used to go through all the objects in the JSON?</p>\n"}, {"tags": ["c#", "wpf", "console-application"], "comments": [{"owner": {"reputation": 5439, "user_id": 1736047, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GY4YE.jpg?s=128&g=1", "display_name": "STLDev", "link": "https://stackoverflow.com/users/1736047/stldev"}, "edited": false, "score": 0, "creation_date": 1520443943, "post_id": 49157883, "comment_id": 85320771, "body": "Are you implying that this is a WPF application that outputs messages to a command window (cmd.exe)?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 340, "user_id": 4555317, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wgVkb.jpg?s=128&g=1", "display_name": "Agent_Orange", "link": "https://stackoverflow.com/users/4555317/agent-orange"}, "edited": false, "score": 1, "creation_date": 1520443957, "post_id": 49157883, "comment_id": 85320782, "body": "@Agent_Orange Please refrain from commenting when you clearly don&#39;t know the site rules. Also, this is not your typical forum where you write <code>lel</code> and <code>:v</code> like if you were 14"}, {"owner": {"reputation": 2119, "user_id": 5879778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ELi77pnET0A/AAAAAAAAAAI/AAAAAAAAAEQ/7gEOlIOZ6ow/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/5879778/chris"}, "reply_to_user": {"reputation": 340, "user_id": 4555317, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wgVkb.jpg?s=128&g=1", "display_name": "Agent_Orange", "link": "https://stackoverflow.com/users/4555317/agent-orange"}, "edited": false, "score": 0, "creation_date": 1520443996, "post_id": 49157883, "comment_id": 85320801, "body": "@Agent_Orange Well to be fair, it&#39;s not like I actually <i>wanted</i> to recreate the question. I&#39;m fully aware of the rules, but my question was up for literally 45 seconds and the person who closed it, couldn&#39;t have possibly read the issue because the answer it was marked as a duplicate with an outdated WinForms solution that does not work for my particular situation and then closed it. I waited a little bit to see if anyone would at least comment, but I got nothing so I wanted at least a fair attempt at getting some advice."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 4, "creation_date": 1520444059, "post_id": 49157883, "comment_id": 85320831, "body": "AttachConsole is a pretty bad idea.  There are now <i>two</i> programs that read input from the console, the command processor (cmd.exe) and your program.  Which is why it looks like you have to press Enter, it gives your app a turn to read input.  Cmd.exe displaying the prompt should be noticeable.  You must use start /wait yourapp.exe to start your program.   A simple hack is to write a very small console mode app that does nothing but start your main program.  Rename it to yourapp.com and it is automagically the one that runs from a command prompt."}, {"owner": {"reputation": 2119, "user_id": 5879778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ELi77pnET0A/AAAAAAAAAAI/AAAAAAAAAEQ/7gEOlIOZ6ow/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/5879778/chris"}, "reply_to_user": {"reputation": 5439, "user_id": 1736047, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GY4YE.jpg?s=128&g=1", "display_name": "STLDev", "link": "https://stackoverflow.com/users/1736047/stldev"}, "edited": false, "score": 0, "creation_date": 1520444069, "post_id": 49157883, "comment_id": 85320837, "body": "@STLDeveloper Correct! Basically it&#39;s an application that can run through the GUI or through the command line. All of the functionality of the application itself works perfectly fine. However, if I run it from the command line, it runs as expected with the exception that it always waits for me to press &quot;Enter&quot; before it actually finishes."}, {"owner": {"reputation": 2119, "user_id": 5879778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ELi77pnET0A/AAAAAAAAAAI/AAAAAAAAAEQ/7gEOlIOZ6ow/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/5879778/chris"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1520444259, "post_id": 49157883, "comment_id": 85320940, "body": "@HansPassant Ohhhh... Okay. See, I&#39;m glad I got a chance to actually get a response like that this time because that was an intricacy I didn&#39;t know about. That&#39;s something I&#39;ll take into consideration and think about a redesign. I appreciate the feedback. Thank you very much for the insight."}, {"owner": {"reputation": 340, "user_id": 4555317, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wgVkb.jpg?s=128&g=1", "display_name": "Agent_Orange", "link": "https://stackoverflow.com/users/4555317/agent-orange"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1520479100, "post_id": 49157883, "comment_id": 85335059, "body": "@Camilo Terevinto hmm i apologize for doing that, but can you please send me a link of rules of commenting cuz i cant find it in help of stackoverflow."}], "owner": {"reputation": 2119, "user_id": 5879778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ELi77pnET0A/AAAAAAAAAAI/AAAAAAAAAEQ/7gEOlIOZ6ow/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/5879778/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1520443623, "creation_date": 1520443623, "question_id": 49157883, "link": "https://stackoverflow.com/questions/49157883/how-to-not-make-a-console-application-wait-for-input", "title": "How to NOT make a console application wait for input", "body": "<p><strong>Quick note for reviewers:</strong> Since my question was randomly closed and marked as an \"exact\" duplicate, I was forced unfortunately to make this question again. Please actually <em>read</em> the problem before randomly marking and closing the question as an exact duplicate of a WinForms issue in which the solution <em>does not</em> work for me. Especially an out of date answer that I wouldn't get a response to if I needed clarification anyway. I'll be happy to add some clarification if necessary. :)</p>\n\n<p>I just want my question the ability to be actually answered by other users, don't just needlessly close my question because you think an answer that works for an entirely different application structure, works. Make sure that the answer that you provide actually <em>works</em> before closing.</p>\n\n<hr>\n\n<p>I feel as though I'm missing something extremely simple/stupid here so forgive me if this is a dumb question. To summarize:</p>\n\n<p>I created a Windows Application. All of the stuff in the application works as intended. This Windows Application however can also utilize the command line interface by accepting switches which will then invoke some of of the methodology within the application. I got <em>that</em> working as intended as well. </p>\n\n<p>So let's say for example I run the application in the command line like <code>MyApp.exe -help</code>. The application will output the results to the Console as expected. However, whenever I write to the console, it <strong>always</strong> waits for me to press Enter before it actually returns to the state in which I can run other commands. i.e.</p>\n\n<p><code>C:\\Users\\user\\Desktop&gt;_</code></p>\n\n<p>The extremely stripped down version of the code, for visual purposes would be:</p>\n\n<pre><code>public partial class App : Application\n{\n  protected override void OnStartup(StartupEventArgs e)\n  {\n    base.OnStartup(e);\n\n    if(e.Args.Length &gt; 0)\n    {\n      AttachConsole(-1);\n      Console.WriteLine(\"Pretend this a helpful message\");\n    }\n    else\n    {\n      new MainWindow().ShowDialog();\n    }\n    Shutdown();\n  }\n}\n</code></pre>\n\n<p>How can I make it <em>not</em> do this? </p>\n\n<p>This isn't a showstopper or anything, it's just something that's annoying me and would be nice to resolve. I'm also slightly thinking ahead to when I run batch scripts upon my application; if not returning to the default console will have any repercussions.</p>\n\n<p>Thanks in advance if anyone can help point me in the right direction.</p>\n"}, {"tags": ["c#", "uwp"], "answers": [{"comments": [{"owner": {"reputation": 222, "user_id": 9102905, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5440a73127b27ba751049a687c7e5257?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/9102905/daniel"}, "edited": false, "score": 0, "creation_date": 1520518887, "post_id": 49158122, "comment_id": 85355687, "body": "You don&#39;t have to add it to the app.cs file. You can just create it in a new class file and implement a singleton to acces the file from wherever you want. <a href=\"http://csharpindepth.com/Articles/General/Singleton.aspx\" rel=\"nofollow noreferrer\">csharpindepth.com/Articles/General/Singleton.aspx</a>"}, {"owner": {"reputation": 41, "user_id": 5696314, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10205528605510125/picture?type=large", "display_name": "Zygmunt Ko\u0142odziejczyk", "link": "https://stackoverflow.com/users/5696314/zygmunt-ko%c5%82odziejczyk"}, "reply_to_user": {"reputation": 222, "user_id": 9102905, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5440a73127b27ba751049a687c7e5257?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/9102905/daniel"}, "edited": false, "score": 0, "creation_date": 1520538914, "post_id": 49158122, "comment_id": 85368375, "body": "@Daniel thank You sir for more info! i will check it for sure :)"}], "tags": [], "owner": {"reputation": 41, "user_id": 5696314, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10205528605510125/picture?type=large", "display_name": "Zygmunt Ko\u0142odziejczyk", "link": "https://stackoverflow.com/users/5696314/zygmunt-ko%c5%82odziejczyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1520444871, "last_edit_date": 1520444871, "creation_date": 1520444414, "answer_id": 49158122, "question_id": 49157863, "link": "https://stackoverflow.com/questions/49157863/passing-lists-between-pages/49158122#49158122", "title": "Passing lists between pages", "body": "<p>OK! because I've found an answer for my question i'm posting it for the future.</p>\n\n<p>First i've aded a public list in app.cs</p>\n\n<pre><code>sealed partial class App : Application\n{\n    public List&lt;AB&gt; absList = new List&lt;AB&gt;();\n\n    public App()\n    {\n        this.InitializeComponent();\n        this.Suspending += OnSuspending;\n    }\n}\n</code></pre>\n\n<p>Later in page cs file, simply call it like</p>\n\n<pre><code>foreach(var dupa in ((App)Application.Current).absList)\n{\n    CB.Items.Add(dupa.name);\n}\n</code></pre>\n\n<p>Where CB is name of combobox</p>\n"}], "owner": {"reputation": 41, "user_id": 5696314, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10205528605510125/picture?type=large", "display_name": "Zygmunt Ko\u0142odziejczyk", "link": "https://stackoverflow.com/users/5696314/zygmunt-ko%c5%82odziejczyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520444871, "creation_date": 1520443552, "last_edit_date": 1520444829, "question_id": 49157863, "link": "https://stackoverflow.com/questions/49157863/passing-lists-between-pages", "title": "Passing lists between pages", "body": "<p>I'm trying to pass list of objects between pages in my app.</p>\n\n<p>Right now, I've something like this:</p>\n\n<pre><code>List&lt;AB&gt; abs = new List&lt;AB&gt;();\n\nprotected override void OnNavigatedFrom(NavigationEventArgs e)\n{\n    base.OnNavigatedFrom(e);\n    abs.Clear();\n\n    foreach (var obj in e.Parameter as List&lt;AB&gt;)\n    {\n        abs.Add(dupa);\n    }\n}\n</code></pre>\n\n<p>but it doesn't work at all. Can anyone help me with this?</p>\n"}, {"tags": ["c#", "asp.net", "vb.net"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 2, "creation_date": 1520443518, "post_id": 49157821, "comment_id": 85320532, "body": "Did you try with a tool such as <a href=\"http://converter.telerik.com/\" rel=\"nofollow noreferrer\">converter.telerik.com</a> or <a href=\"https://www.developerfusion.com/tools/convert/csharp-to-vb/\" rel=\"nofollow noreferrer\">developerfusion.com/tools/convert/csharp-to-vb</a>?"}, {"owner": {"reputation": 869, "user_id": 8512043, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/74d05d31d90cb4b94612de99d0f26b86?s=128&d=identicon&r=PG&f=1", "display_name": "user8512043", "link": "https://stackoverflow.com/users/8512043/user8512043"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1520443629, "post_id": 49157821, "comment_id": 85320597, "body": "I&#39;ve tried with the other one but failed. Will the above work?"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1520443686, "post_id": 49157821, "comment_id": 85320637, "body": "Why not try it, it only takes a few seconds? Btw where did you get the idea that the equivalent of C#&#39;s <code>using</code> was <code>Import</code> or <code>Imports</code> in VB.NET? AFAIK the equivalent is <code>Using</code>. <a href=\"https://docs.microsoft.com/en-us/dotnet/visual-basic/language-reference/statements/using-statement\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/visual-basic/language-refere&zwnj;&#8203;nce/&hellip;</a>, <a href=\"https://docs.microsoft.com/en-us/dotnet/visual-basic/language-reference/statements/imports-statement-net-namespace-and-type\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/visual-basic/language-refere&zwnj;&#8203;nce/&hellip;</a>"}, {"owner": {"reputation": 486, "user_id": 1281882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c027d17a457d44408dd006b478e77bc?s=128&d=identicon&r=PG", "display_name": "lcryder", "link": "https://stackoverflow.com/users/1281882/lcryder"}, "edited": false, "score": 0, "creation_date": 1520443802, "post_id": 49157821, "comment_id": 85320693, "body": "<a href=\"http://converter.telerik.com/\" rel=\"nofollow noreferrer\">converter.telerik.com</a> both of your functions converted."}, {"owner": {"reputation": 869, "user_id": 8512043, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/74d05d31d90cb4b94612de99d0f26b86?s=128&d=identicon&r=PG&f=1", "display_name": "user8512043", "link": "https://stackoverflow.com/users/8512043/user8512043"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1520444719, "post_id": 49157821, "comment_id": 85321227, "body": "Tried with the above tools and worked perfectly. But it&#39;s unable to convert the quotations that I&#39;ve shown in the image - Section SOAPReqBody.LoadXml(). Any idea to resolve them @ADyson?"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 1, "creation_date": 1520446437, "post_id": 49157821, "comment_id": 85322241, "body": "Other than the use of &amp; instead of + for concatenation, there&#39;s not much difference in how Strings are declared in vb and c#. You might need to join between the multiple lines of code using &amp;_. You can easily look up all this syntax in the language documentation"}, {"owner": {"reputation": 869, "user_id": 8512043, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/74d05d31d90cb4b94612de99d0f26b86?s=128&d=identicon&r=PG&f=1", "display_name": "user8512043", "link": "https://stackoverflow.com/users/8512043/user8512043"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1520499650, "post_id": 49157821, "comment_id": 85343298, "body": "Worked perfectly @ADyson and thanks a lot. You can post your comments as an answer, so that I can mark it."}], "answers": [{"tags": [], "owner": {"reputation": 1846, "user_id": 448014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70fe8e4ef537ccbebecc5bc3ef2d7c11?s=128&d=identicon&r=PG", "display_name": "boruchsiper", "link": "https://stackoverflow.com/users/448014/boruchsiper"}, "is_accepted": false, "score": 0, "last_activity_date": 1520443937, "creation_date": 1520443937, "answer_id": 49157992, "question_id": 49157821, "link": "https://stackoverflow.com/questions/49157821/conversion-of-calling-soap-web-service/49157992#49157992", "title": "Conversion of Calling SOAP Web Service", "body": "<p>Use string interpolation with $ in vb as you use @ in c#</p>\n\n<pre><code>Dim str = $\"&lt;?xml version=\"\"1.0\"\" encoding=\"\"utf-8\"\"?&gt;\n                              &lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=\"\"http://schemas.xmlsoap.org/soap/envelope/\"\"&gt;\n                              &lt;SOAP-ENV:Header&gt;\n                                &lt;wsse:Security xmlns:wsse=\"\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\"&gt;\n                                  &lt;wsse:UsernameToken&gt;\n                                       &lt;wsse:Username&gt;\" + username + $\"&lt;/wsse:Username&gt;\n                                       &lt;wsse:Password&gt;\" + password + $\"&lt;/wsse:Password&gt;\n                                    &lt;/wsse:UsernameToken&gt;\n                                 &lt;/wsse:Security&gt;\n                             &lt;/SOAP-ENV:Header&gt;\n                             &lt;SOAP-ENV:Body&gt;\n                               &lt;OTA_PingRQ xmlns=\"\"http://www.opentravel.org/OTA/2003/05\"\" EchoToken=\"\"abc123\"\" TimeStamp=\"\"2016-07-12T10:00:29.0Z\"\" Version=\"\"1\"\"&gt;\n                                 &lt;EchoData&gt; Hello World &lt;/EchoData&gt;\n                               &lt;/OTA_PingRQ&gt;\n                             &lt;/SOAP-ENV:Body&gt;\n                             &lt;/SOAP-ENV:Envelope&gt;\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1356, "user_id": 832705, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8aa8f64125693b41f20e280c8b20469d?s=128&d=identicon&r=PG", "display_name": "stackuser83", "link": "https://stackoverflow.com/users/832705/stackuser83"}, "is_accepted": false, "score": 1, "last_activity_date": 1520443953, "creation_date": 1520443953, "answer_id": 49157995, "question_id": 49157821, "link": "https://stackoverflow.com/questions/49157821/conversion-of-calling-soap-web-service/49157995#49157995", "title": "Conversion of Calling SOAP Web Service", "body": "<p>One of the problems with your VB code is that you need to indicate when a string literal is longer than one line using the underscore character and concatenation operator (&amp;).  Example:</p>\n\n<pre><code>exampleliteral = _\n\"First few words of sentence that is longer than one line, \" _\n&amp; \"more words on second line, \" _\n&amp; \"end of sentence.\"\n</code></pre>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/visual-basic/programming-guide/program-structure/how-to-break-and-combine-statements-in-code\" rel=\"nofollow noreferrer\">MSDN documentation about it here</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/461714/single-statement-across-multiple-lines-in-vb-net-without-the-underscore-characte\">Stack Overflow question and answers about it here</a></p>\n"}, {"tags": [], "owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "is_accepted": true, "score": 1, "last_activity_date": 1520502427, "creation_date": 1520502427, "answer_id": 49170027, "question_id": 49157821, "link": "https://stackoverflow.com/questions/49157821/conversion-of-calling-soap-web-service/49170027#49170027", "title": "Conversion of Calling SOAP Web Service", "body": "<p>You can convert the majority of the code automatically using a tool, there are many available, but a couple of examples are <a href=\"http://converter.telerik.com/\" rel=\"nofollow noreferrer\">http://converter.telerik.com/</a> or <a href=\"https://www.developerfusion.com/tools/convert/csharp-to-vb/\" rel=\"nofollow noreferrer\">https://www.developerfusion.com/tools/convert/csharp-to-vb/</a>.</p>\n\n<p>You may find it chokes a bit on the multi-line split string. However, it's not too hard to resolve. Other than the use of <code>&amp;</code> instead of <code>+</code> for concatenation, there's not much difference in how Strings are declared in VB.NET and C#. You might need to join between the multiple lines of text using <code>_</code>. You can easily look up all this syntax in the language documentation if you have further issues with it.</p>\n\n<p>P.S. In your manual attempt, the use of VB's <code>Imports</code> in place of C#'s <code>using</code> is incorrect. The direct equivalent in VB is simply <code>Using</code>. See <a href=\"https://docs.microsoft.com/en-us/dotnet/visual-basic/language-reference/statements/using-statement\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/visual-basic/language-reference/statements/using-statement</a> and  <a href=\"https://docs.microsoft.com/en-us/dotnet/visual-basic/language-reference/statements/imports-statement-net-namespace-and-type\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/visual-basic/language-reference/statements/imports-statement-net-namespace-and-type</a> for details of the two keywords in VB.NET.</p>\n"}], "owner": {"reputation": 869, "user_id": 8512043, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/74d05d31d90cb4b94612de99d0f26b86?s=128&d=identicon&r=PG&f=1", "display_name": "user8512043", "link": "https://stackoverflow.com/users/8512043/user8512043"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "accepted_answer_id": 49170027, "answer_count": 3, "score": 0, "last_activity_date": 1520502427, "creation_date": 1520443415, "question_id": 49157821, "link": "https://stackoverflow.com/questions/49157821/conversion-of-calling-soap-web-service", "title": "Conversion of Calling SOAP Web Service", "body": "<p>First of all, apologies for this question. Let me write first, I've tried the below code for calling a <code>SOAP</code> web service using <code>C#</code> that worked perfectly. Now I am stuck with the conversion of the code into <code>VB.NET</code>:</p>\n\n<pre><code>public void CallService(string username, string password)\n{\n    HttpWebRequest request = CreateSOAPWebRequest();\n    XmlDocument SOAPReqBody = new XmlDocument();\n\n    SOAPReqBody.LoadXml(@\"&lt;?xml version=\"\"1.0\"\" encoding=\"\"utf-8\"\"?&gt;\n                              &lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=\"\"http://schemas.xmlsoap.org/soap/envelope/\"\"&gt;\n                              &lt;SOAP-ENV:Header&gt;\n                                &lt;wsse:Security xmlns:wsse=\"\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\"&gt;\n                                  &lt;wsse:UsernameToken&gt;\n                                       &lt;wsse:Username&gt;\" + username + @\"&lt;/wsse:Username&gt;\n                                       &lt;wsse:Password&gt;\" + password + @\"&lt;/wsse:Password&gt;\n                                    &lt;/wsse:UsernameToken&gt;\n                                 &lt;/wsse:Security&gt;\n                             &lt;/SOAP-ENV:Header&gt;\n                             &lt;SOAP-ENV:Body&gt;\n                               &lt;OTA_PingRQ xmlns=\"\"http://www.opentravel.org/OTA/2003/05\"\" EchoToken=\"\"abc123\"\" TimeStamp=\"\"2016-07-12T10:00:29.0Z\"\" Version=\"\"1\"\"&gt;\n                                 &lt;EchoData&gt; Hello World &lt;/EchoData&gt;\n                               &lt;/OTA_PingRQ&gt;\n                             &lt;/SOAP-ENV:Body&gt;\n                             &lt;/SOAP-ENV:Envelope&gt;\");\n\n     using (Stream stream = request.GetRequestStream())\n     {\n        SOAPReqBody.Save(stream);\n     }\n\n     ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;\n     using (WebResponse Serviceres = request.GetResponse())\n     {\n         using (StreamReader rd = new StreamReader(Serviceres.GetResponseStream()))\n         {\n              var ServiceResult = rd.ReadToEnd();\n              lblMsg.Text = ServiceResult;\n         }\n     }\n }\n\n public HttpWebRequest CreateSOAPWebRequest()\n {\n    HttpWebRequest Req = (HttpWebRequest)WebRequest.Create(@\"https://cmtpi.siteminder.com/pmsxchangev2/services/CITRUS\");\n    Req.Headers.Add(@\"SOAP:Action\");\n    Req.ContentType = \"text/xml;charset=\\\"utf-8\\\"\";\n    Req.Accept = \"text/xml\";\n    Req.Method = \"POST\";\n    return Req;\n }\n</code></pre>\n\n<p>The above is a working code and my problem is when I try to convert it <code>VB.NET</code> and there are few errors with quotations and even the <strong>Import</strong> keyword (Instead of <code>using</code> in <code>C#</code>) shows error as follows: I am not that expert with <code>VB.NET</code> and would just expect some directions to make it work (Googled but unable to find the appropriate solution)</p>\n\n<pre><code>Public Sub CallService(ByVal username As String, ByVal password As String)\n    Dim request As HttpWebRequest = CreateSOAPWebRequest()\n    Dim SOAPReqBody As XmlDocument = New XmlDocument()\n\n        SOAPReqBody.LoadXml(\"&lt;?xml version=\"\"1.0\"\" encoding=\"\"utf-8\"\"?&gt;\n                            &lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http:schemas.xmlsoap.org/soap/envelope/\"\"&gt;\n                              &lt;SOAP-ENV:Header&gt;\n                                &lt;wsse:Security xmlns:wsse=\"\"http:'docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\"&gt;\n                                  &lt;wsse:UsernameToken&gt;\n                                       &lt;wsse:Username&gt;\" + username + \"&lt;/wsse:Username&gt;\n                                       &lt;wsse:Password&gt;\" + password + \"&lt;/wsse:Password&gt;\n                                    &lt;/wsse:UsernameToken&gt;\n                                 &lt;/wsse:Security&gt;\n                             &lt;/SOAP-ENV:Header&gt;\n                             &lt;SOAP-ENV:Body&gt;\n                               &lt;OTA_PingRQ xmlns=\"\"http:'www.opentravel.org/OTA/2003/05\"\" EchoToken=\"\"abc123\"\" TimeStamp=\"\"2016-07-12T10:00:29.0Z\"\" Version=\"\"1\"\"&gt;\n                                 &lt;EchoData&gt; Hello World &lt;/EchoData&gt;\n                               &lt;/OTA_PingRQ&gt;\n                             &lt;/SOAP-ENV:Body&gt;\n                             &lt;/SOAP-ENV:Envelope&gt;\")\n\n        Imports (Stream stream = request.GetRequestStream())\n        {\n    SOAPReqBody.Save(Stream)\n        }\n\n    ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12\n        Imports (WebResponse Serviceres = request.GetResponse())\n        {\n            Imports (StreamReader rd = New StreamReader(Serviceres.GetResponseStream()))\n            {\n    Dim ServiceResult As Var = rd.ReadToEnd()\n    Console.WriteLine(ServiceResult)\n\n    Console.ReadLine()\n            }\n        }\n    End Sub\n\nPublic Function CreateSOAPWebRequest() As HttpWebRequest\n    Dim Req As HttpWebRequest = CType(WebRequest.Create(\"https://cmtpi.siteminder.com/pmsxchangev2/services/CITRUS\"), HttpWebRequest)\n    Req.Headers.Add(\"SOAP:Action\")\n        Req.ContentType = \"text/xml;charset=\\\"utf-8\\\"\"\n    Req.Accept = \"text/xml\"\n    Req.Method = \"POST\"\n    Return Req\nEnd Function\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/tzwpz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tzwpz.png\" alt=\"Sample Code\"></a></p>\n"}, {"tags": ["c#", "xpath", "xelement", "system.xml"], "answers": [{"comments": [{"owner": {"reputation": 17346, "user_id": 1693085, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/89d96f4a92f0053e9f2c9a8b06c011a0?s=128&d=identicon&r=PG", "display_name": "John Bustos", "link": "https://stackoverflow.com/users/1693085/john-bustos"}, "edited": false, "score": 0, "creation_date": 1520453205, "post_id": 49158800, "comment_id": 85326099, "body": "Awesome reply - Especially thank you for that link!!! - Looks like maybe Saxon might be the way to go. THANK YOU!!"}], "tags": [], "owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "is_accepted": true, "score": 1, "last_activity_date": 1520446868, "creation_date": 1520446868, "answer_id": 49158800, "question_id": 49157805, "link": "https://stackoverflow.com/questions/49157805/xelement-xpathevaluate-not-evaluating-exponential-numbers-correctly/49158800#49158800", "title": "XElement.XPathEvaluate not evaluating exponential numbers correctly", "body": "<p>XPath 2.0 does allow them -- but <code>XPathEvaluate</code> only supports XPath 1.0. This is not a shortcoming of <code>XElement</code>; .NET never added support past 1.0.</p>\n\n<p>If you must use XPath here, see <a href=\"https://github.com/maxtoroq/dotnet-xml#xpath-xquery-and-xslt\" rel=\"nofollow noreferrer\">this list</a> for third-party support.</p>\n\n<p>If you don't need to do use XPath for the calculation per se but are just looking for a way to do this in C#, that's simple enough of course:</p>\n\n<pre><code>var value = x.XPathSelectElements(@\"/Vals[@id=\"\"Val2\"\"]/*\").Sum(s =&gt; (double) s);\n</code></pre>\n\n<p>But if the <code>Sum</code> part is supposed to be performed dynamically from arbitrary expressions you can pass in, you'll need a full XPath processor.</p>\n"}], "owner": {"reputation": 17346, "user_id": 1693085, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/89d96f4a92f0053e9f2c9a8b06c011a0?s=128&d=identicon&r=PG", "display_name": "John Bustos", "link": "https://stackoverflow.com/users/1693085/john-bustos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 49158800, "answer_count": 1, "score": 1, "last_activity_date": 1520446868, "creation_date": 1520443368, "last_edit_date": 1520445137, "question_id": 49157805, "link": "https://stackoverflow.com/questions/49157805/xelement-xpathevaluate-not-evaluating-exponential-numbers-correctly", "title": "XElement.XPathEvaluate not evaluating exponential numbers correctly", "body": "<p>In my C# Program, I am loading a <code>System.Xml.Linq.Xelement</code> variable with a portion of an XML file I'm trying to parse and feeding it various XPaths to evaluate values for using the <code>XPathEvaluate()</code> method.</p>\n\n<p>My challenge is that my XML has some numbers stored as exponential numbers and the XPath is ignoring them even though I'm reading that XPath 2.0 should allow for these being understood to be numbers.</p>\n\n<p>A sample would look as follows:</p>\n\n<p>XML (<code>childNode</code>):</p>\n\n<pre><code>&lt;Parent&gt;\n&lt;Vals id=\"Val1\"&gt;\n  &lt;abc&gt;1.8&lt;/abc&gt;\n&lt;/Vals&gt;\n&lt;Vals id=\"Val2\"&gt;\n  &lt;abc&gt;4.8552829108959736E-5&lt;/abc&gt;\n  &lt;def&gt;4.940657864520423E-4&lt;/def&gt;\n  &lt;ghi&gt;0.1262403356384331&lt;/ghi&gt;\n  &lt;jkl&gt;0.0&lt;/jkl&gt;\n&lt;/Vals&gt;\n&lt;/Parent&gt;\n</code></pre>\n\n<p>XPath (<code>myXPath</code>):</p>\n\n<pre><code>sum(Parent/Vals[@id=\"Val2\"]/*[self::abc | self::def | self::ghi | self::jkl][number(.)=number(.)])\n</code></pre>\n\n<p>and my code looks like:</p>\n\n<pre><code>var value= childNode.XPathEvaluate(myXPath);\n</code></pre>\n\n<p>I would expect the value to be:</p>\n\n<pre><code>value = 4.8552829108959736E-5 + 4.940657864520423E-4 + 0.126240335638433 + 0\n      = 0.126782954253994\n</code></pre>\n\n<p>But, rather I get:</p>\n\n<pre><code>value = 0.126240335638433 + 0\n      = 0.126240335638433\n</code></pre>\n\n<p>Any thoughts about any way this can be fixed in my C# code?</p>\n"}, {"tags": ["c#", "asp.net-core"], "answers": [{"tags": [], "owner": {"reputation": 39709, "user_id": 2833802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PzEYJ.jpg?s=128&g=1", "display_name": "Set", "link": "https://stackoverflow.com/users/2833802/set"}, "is_accepted": false, "score": 4, "last_activity_date": 1520449538, "creation_date": 1520449538, "answer_id": 49159482, "question_id": 49157646, "link": "https://stackoverflow.com/questions/49157646/adding-response-headers-with-custom-middleware-asp-net-core/49159482#49159482", "title": "Adding Response Headers with Custom Middleware Asp.Net-Core", "body": "<p>The correct way is to register <code>context.Response.OnStarting</code> callback before <code>await _next(context);</code> as one of the next middlewares in pipeline will start the response. </p>\n\n<p>In other words, with the current implementation, your <code>OnStarting</code> callback is not fired as is registered too late. Change middleware code to</p>\n\n<pre><code>if (!string.IsNullOrWhiteSpace(corrID?.ID))\n{\n    context.Response.OnStarting((state) =&gt;\n    {\n        context.Response.Headers.Add(\"Correlation-ID\", corrID.ID);\n        return Task.FromResult(0);\n    }, context);\n}\n\nawait _next(context);\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 9447101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d08be12df46c4494020837e1fad39097?s=128&d=identicon&r=PG&f=1", "display_name": "beetlejuice", "link": "https://stackoverflow.com/users/9447101/beetlejuice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3051, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1520449538, "creation_date": 1520442780, "last_edit_date": 1520448991, "question_id": 49157646, "link": "https://stackoverflow.com/questions/49157646/adding-response-headers-with-custom-middleware-asp-net-core", "title": "Adding Response Headers with Custom Middleware Asp.Net-Core", "body": "<p>I have 3 microservices and try to create correlation id to keep track of the every log issues. If corrID is not null when request comes, then I set it. If not, it is generated. And then passed to the next. I want to see  corrId for 3 services' logs. If I used the code below everything works well. But swagger does not work. </p>\n\n<p>Exception: headers are read-only response has already started. </p>\n\n<pre><code> public async Task Invoke(HttpContext context)\n            {\n                string key = context.Request.Headers.Keys.FirstOrDefault(n =&gt; n.Equals(\"Correlation-ID\"));\n\n                var corrID = context.RequestServices.GetService&lt;CorrelationID_Global&gt;();\n\n                if (corrID != null)\n                {\n                    if (!string.IsNullOrWhiteSpace(key))\n                    {\n\n                        corrID.ID = context.Request.Headers[key].ToString();\n                    }\n                    else\n                    {\n                        corrID.ID = Guid.NewGuid().ToString();\n\n                    }\n                }\n\n                await _next(context);\n\n                if (!string.IsNullOrWhiteSpace(corrID?.ID))\n                {               \n                        context.Response.Headers.Add(\"Correlation-ID\", corrID.ID);\n                }\n\n            }\n</code></pre>\n\n<p>To solve swagger problem,  I change the last if statement using this link: <a href=\"https://stackoverflow.com/questions/37395227/add-response-headers-to-asp-net-core-middleware\">Add Response Headers to ASP.NET Core Middleware</a> </p>\n\n<pre><code>  if (!string.IsNullOrWhiteSpace(corrID?.ID))\n    {\n        context.Response.OnStarting((state) =&gt;\n        {\n            context.Response.Headers.Add(\"Correlation-ID\", corrID.ID);\n            return Task.FromResult(0);\n        },null);\n    }\n</code></pre>\n\n<p>However, this time I cannot see correlation-Id at responses' log of services.Thus corrID of requests' log changes as usual. How can I handle this problem? Thanks.  </p>\n"}, {"tags": ["c#", "properties", "checkedlistbox"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1520443820, "post_id": 49157598, "comment_id": 85320704, "body": "It doesn&#39;t get simpler than the linked post.  Create the class first, rebuild, then put the control on your form."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8833922"}, "edited": false, "score": 0, "creation_date": 1520447883, "post_id": 49158587, "comment_id": 85323096, "body": "Tysm... i think I somewhat understand now."}], "tags": [], "owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "is_accepted": true, "score": 0, "last_activity_date": 1520446053, "creation_date": 1520446053, "answer_id": 49158587, "question_id": 49157598, "link": "https://stackoverflow.com/questions/49157598/itemheight-property-for-checkedlistbox/49158587#49158587", "title": "ItemHeight Property for CheckedListBox?", "body": "<p><strong>Here are two examples:</strong></p>\n\n<ul>\n<li>one with a fixed item height</li>\n<li>one that fetches item height externally, useful so you can reuse the same control over and over</li>\n</ul>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>using System;\nusing System.Windows.Forms;\n\nnamespace WindowsFormsApp1\n{\n    public class Example1 : CheckedListBox\n    {\n        public override int ItemHeight\n        {\n            get { return 100; }\n        }\n    }\n\n    public class Example2 : CheckedListBox\n    {\n        private readonly Func&lt;int&gt; _itemHeight;\n\n        public Example2(Func&lt;int&gt; itemHeight)\n        {\n            _itemHeight = itemHeight;\n        }\n\n        public override int ItemHeight\n        {\n            get { return _itemHeight(); }\n        }\n    }\n\n    public class Example2Test\n    {\n        public Example2Test()\n        {\n            var example2 = new Example2(GetItemHeight);\n        }\n\n        private int GetItemHeight()\n        {\n            return 100;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Note:</strong></p>\n\n<p>Rebuild your project first, then find your newly created custom control in Toolbox window.</p>\n\n<p><a href=\"https://i.stack.imgur.com/mJ2YT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mJ2YT.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8833922"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "closed_date": 1520448238, "accepted_answer_id": 49158587, "answer_count": 1, "score": 1, "last_activity_date": 1520446053, "creation_date": 1520442612, "question_id": 49157598, "link": "https://stackoverflow.com/questions/49157598/itemheight-property-for-checkedlistbox", "closed_reason": "Duplicate", "title": "ItemHeight Property for CheckedListBox?", "body": "<p>So I'm new to coding and just messing around with Visual C#. I'm trying to space out the items in the CheckedListBox, and I realized there is no ItemHeight Property unlike the ListBox. I've done some searching and came across some similar threads, both on this site and others showing what to do. However, like I said, I'm super new to programming and have no idea how to implement the code suggested by this <a href=\"https://stackoverflow.com/questions/8959146/how-to-change-checkedlistbox-item-vertical-space\">thread</a>. </p>\n\n<p>Can someone guide me on how I to \"override a class\" or something? In like simpler words and show me where and how I can make the CheckedListBox prettier by spacing the stuff out?</p>\n"}, {"tags": ["c#", ".net", "mef"], "answers": [{"tags": [], "owner": {"reputation": 692, "user_id": 2234468, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/100003522407693/picture?type=large", "display_name": "William Thomas Waller", "link": "https://stackoverflow.com/users/2234468/william-thomas-waller"}, "is_accepted": false, "score": 1, "last_activity_date": 1520521518, "last_edit_date": 1520521518, "creation_date": 1520520441, "answer_id": 49175915, "question_id": 49157431, "link": "https://stackoverflow.com/questions/49157431/how-to-export-same-metadata-multiple-times-on-same-class/49175915#49175915", "title": "How to export same metadata multiple times on same class", "body": "<p>I solved my issue by splitting <code>ExportHandledNamespaceAttribute</code> into a single <code>Export</code> on <code>INamespaceHandler</code> and a <code>MetadataAttribute</code> on the namespace identifiers with a custom metadata view, as below. The trick here is to get the contracts between the import expected by <code>INamespaceHandlerMetadata</code> and the export provided by <code>HandlesNamespaceAttribute</code> exactly right. Let me know if I can improve/clarify this answer any:</p>\n\n<pre><code>[Export(typeof(INamespaceHandler))]\n[HandlesNamespace(\"System\", \"Data\")]\n[HandlesNamespace(\"System\", \"Core\")]    \npublic class NamespaceHandler : INamespaceHandler { }\n\n[MetadataViewImplementation(typeof(NamespaceHandlerMetadata))]\npublic interface INamespaceHandlerMetadata\n{\n    string[] HandledNamespaces { get; set; }\n}\n\npublic class NamespaceHandlerMetadata : INamespaceHandlerMetadata \n{\n    string[] HandledNamespaces { get; set; }\n\n    public NamespaceHandlerMetadata(IDictionary&lt;string, object&gt; exportedMetadata)\n    {\n        HandledNamespaces = exportedMetadata[nameof(HandledNamespaces)];\n    }\n}\n\n[MetadataAttribute]\n[AttributeUsage(AttributeTargets.Class, AllowMultiple = true)]\npublic class HandlesNamespaceAttribute : Attribute\n{\n    private string _namespaceDelimiter = \".\";\n\n    // Because the attribute is marked AllowMultiple = true, this will get exported \n    // as a string[], despite it appearing to only be set once in the constructor below\n    public string HandledNamespaces { get; }\n\n    public ExportHandledNamespaceAttribute(params string[] namespaceIdentifiers) \n           : base(typeof(INamespaceHandler))\n    {\n        string namespace = String.Join(_namespaceDelimiter, namespaceIdentifiers);\n        HandledNamespaces = namespace;\n    }\n}\n</code></pre>\n\n<p>The example usage is the same as in the question, querying for an export of <code>Lazy&lt;INamespaceHandler, INamespaceHandlerMetadata&gt;</code> and getting its <code>HandledNamespaces</code>. But another example use case is below, using <code>ImportMany</code></p>\n\n<pre><code>public class NamespaceHandlerManager, IPartImportsSatisfiedNotification\n{\n    [ImportMany]\n    public IEnumerable&lt;Lazy&lt;INamespaceHandler, INamespaceHandlerMetadata&gt;&gt; NamespaceHandlers { get; set; }\n\n    public NamespaceHandlerManager() { }\n\n    public void OnImportsSatisfied()\n    {\n        // NamespaceHandlers will be populated with the exports from any \n        // loaded assemblies by this point, do what you want with it\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 692, "user_id": 2234468, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/100003522407693/picture?type=large", "display_name": "William Thomas Waller", "link": "https://stackoverflow.com/users/2234468/william-thomas-waller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520521518, "creation_date": 1520442028, "last_edit_date": 1520521058, "question_id": 49157431, "link": "https://stackoverflow.com/questions/49157431/how-to-export-same-metadata-multiple-times-on-same-class", "title": "How to export same metadata multiple times on same class", "body": "<p>Given an exported class with an associated metadata view, is it possible to export the same metadata view multiple times into effectively a single metadata object? Below is an example of why I would want to do this, i.e. the metadata being exported is multiple lists of strings, which logically makes more sense as multiple attributes:</p>\n\n<pre><code>[ExportHandledNamespace(\"System\", \"Data\")]\n[ExportHandledNamespace(\"System\", \"Core\")]    \npublic class NamespaceHandler : INamespaceHandler { }\n\npublic interface INamespaceHandlerMetadata\n{\n    string[] HandledNamespaces { get; }\n}\n\n[MetadataAttribute]\n[AttributeUsage(AttributeTargets.Class)]\npublic class ExportHandledNamespaceAttribute : ExportAttribute, INamespaceHandlerMetadata\n{\n    // In my use case, NamespaceHandler would be in a plugin assembly \n    // and I don't want them using this delimiter themselves\n    private string _namespaceDelimiter = \".\";\n\n    public string[] HandledNamespaces { get; }\n\n    public ExportHandledNamespaceAttribute(params string[] namespaceIdentifiers) \n           : base(typeof(INamespaceHandler))\n    {\n        string namespace = String.Join(_namespaceDelimiter, namespaceIdentifiers);\n        // Somehow add this to an existing metadata view's HandledNamespaces\n    }\n}\n</code></pre>\n\n<p>This is how I would want to use such an export:</p>\n\n<pre><code>public void ExampleUsageMethod() \n{\n    var handler = mefContainer.GetExports&lt;INamespaceHandler, INamespaceHandlerMetadata&gt;().First();\n    string[] handledNamespaces = handler.Metadata.HandledNamespaces;\n}\n</code></pre>\n"}, {"tags": ["c#", "restsharp"], "comments": [{"owner": {"reputation": 12946, "user_id": 484041, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/y7OPa.jpg?s=128&g=1", "display_name": "Alexey Zimarev", "link": "https://stackoverflow.com/users/484041/alexey-zimarev"}, "edited": false, "score": 0, "creation_date": 1520449710, "post_id": 49157359, "comment_id": 85324152, "body": "If you are <i>uploading</i>, where are you adding the file???"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 9346734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d2ee3f613eeeca9b4c6f8966e0bf9c4?s=128&d=identicon&r=PG&f=1", "display_name": "Viakode", "link": "https://stackoverflow.com/users/9346734/viakode"}, "edited": false, "score": 0, "creation_date": 1520448778, "post_id": 49159186, "comment_id": 85323585, "body": "Thanks @MD , and i am sorry but can you just a single parameter to [multiparted data], so that i can have idea about that."}, {"owner": {"reputation": 189, "user_id": 1462316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaIB8.png?s=128&g=1", "display_name": "Mohammad Mahmudul Hasan", "link": "https://stackoverflow.com/users/1462316/mohammad-mahmudul-hasan"}, "reply_to_user": {"reputation": 15, "user_id": 9346734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d2ee3f613eeeca9b4c6f8966e0bf9c4?s=128&d=identicon&r=PG&f=1", "display_name": "Viakode", "link": "https://stackoverflow.com/users/9346734/viakode"}, "edited": false, "score": 0, "creation_date": 1520449214, "post_id": 49159186, "comment_id": 85323864, "body": "@EnhanceLabs please follow this question, you will get a proper idea, <a href=\"https://stackoverflow.com/questions/219827/multipart-forms-from-c-sharp-client\" title=\"multipart forms from c sharp client\">stackoverflow.com/questions/219827/&hellip;</a>"}, {"owner": {"reputation": 15, "user_id": 9346734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d2ee3f613eeeca9b4c6f8966e0bf9c4?s=128&d=identicon&r=PG&f=1", "display_name": "Viakode", "link": "https://stackoverflow.com/users/9346734/viakode"}, "edited": false, "score": 0, "creation_date": 1520453532, "post_id": 49159186, "comment_id": 85326280, "body": "Done bro. Thanks  :)"}], "tags": [], "owner": {"reputation": 189, "user_id": 1462316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaIB8.png?s=128&g=1", "display_name": "Mohammad Mahmudul Hasan", "link": "https://stackoverflow.com/users/1462316/mohammad-mahmudul-hasan"}, "is_accepted": true, "score": 0, "last_activity_date": 1520448394, "creation_date": 1520448394, "answer_id": 49159186, "question_id": 49157359, "link": "https://stackoverflow.com/questions/49157359/upload-video-file-from-harddisk-to-server-restsharp/49159186#49159186", "title": "Upload Video File From Harddisk to server RestSHARP", "body": "<p>If you want to upload a file using POST request via multipart uploading, then use this format</p>\n\n<pre><code>var client = new RestClient(\"https://www.xxxx.com/File.php\");\nvar request = new RestRequest(Method.POST);\n\nrequest.AddHeader(\"content-type\", \"multipart/form-data; [boundary info]\");\nrequest.AddParameter(\"multipart/form-data\",[multiparted data], \nParameterType.RequestBody);\nIRestResponse response = client.Execute(request);\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 9346734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d2ee3f613eeeca9b4c6f8966e0bf9c4?s=128&d=identicon&r=PG&f=1", "display_name": "Viakode", "link": "https://stackoverflow.com/users/9346734/viakode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "accepted_answer_id": 49159186, "answer_count": 1, "score": 0, "last_activity_date": 1520448394, "creation_date": 1520441778, "last_edit_date": 1520447459, "question_id": 49157359, "link": "https://stackoverflow.com/questions/49157359/upload-video-file-from-harddisk-to-server-restsharp", "title": "Upload Video File From Harddisk to server RestSHARP", "body": "<p>I am new to RestSharp, using C# WPF, i want to upload a video (mp4) file to server using PHP API and RestSharp.</p>\n\n<pre><code>var Client = new RestClient(\"https://www.XXXX.com/\");\nvar Request = new RestRequest(\"FILE.php\", Method.POST);\nRequest.AddParameter(\"uniqueID\", DeviceID);\nRequest.AddParameter(\"POSTID\", POSTID);\nRequest.AddParameter(\"outPutVideoPath\", outPutVideoPath);\nRequest.AddParameter(\"accesstoken\", \"TOKEN\");\n</code></pre>\n\n<p>This is not uploading file.</p>\n"}, {"tags": ["c#", "asp.net", "webforms"], "comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1520441549, "post_id": 49157230, "comment_id": 85319236, "body": "possible duplicate of: <a href=\"https://stackoverflow.com/questions/5189593/disable-asp-net-button-after-click-to-prevent-double-clicking\" title=\"disable asp net button after click to prevent double clicking\">stackoverflow.com/questions/5189593/&hellip;</a>"}, {"owner": {"reputation": 4677, "user_id": 519348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TIdre.jpg?s=128&g=1", "display_name": "TZHX", "link": "https://stackoverflow.com/users/519348/tzhx"}, "edited": false, "score": 0, "creation_date": 1520441559, "post_id": 49157230, "comment_id": 85319253, "body": "You need to handle this, at least initially, on the client side."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 4677, "user_id": 519348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TIdre.jpg?s=128&g=1", "display_name": "TZHX", "link": "https://stackoverflow.com/users/519348/tzhx"}, "edited": false, "score": 0, "creation_date": 1520441696, "post_id": 49157230, "comment_id": 85319343, "body": "@TZHX correct, for usability, but as you hint at, client side isn&#39;t sufficient. SQL Server integrity should be leveraged, possibly through entity framework. It depends on what the action means though, it might not be critical."}], "answers": [{"comments": [{"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "edited": false, "score": 0, "creation_date": 1520444398, "post_id": 49157485, "comment_id": 85321034, "body": "You don&#39;t need to re-enable it in code behind since the disabling is done by javascript and will be lost on PostBack."}], "tags": [], "owner": {"reputation": 1, "user_id": 9457871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0594f72f880ad06891ecc8eb8876abbc?s=128&d=identicon&r=PG&f=1", "display_name": "Godber", "link": "https://stackoverflow.com/users/9457871/godber"}, "is_accepted": false, "score": 0, "last_activity_date": 1520442193, "creation_date": 1520442193, "answer_id": 49157485, "question_id": 49157230, "link": "https://stackoverflow.com/questions/49157230/asp-net-webform-how-to-stop-the-clicking-of-a-button-multiple-times/49157485#49157485", "title": "ASP.NET Webform - how to stop the clicking of a button multiple times", "body": "<p><strong>Ryan Wilson</strong> was correct - It is a duplicate question.</p>\n\n<p>Thanks to <strong>kmonty</strong> on other post for solving this for me.</p>\n\n<p>For reference, the below worked for me. </p>\n\n<blockquote>\n  <p>Here is a solution that works for the asp.net button object. On the\n  front end, add these attributes to your asp:Button definition:</p>\n\n<pre><code>&lt;asp:Button ... OnClientClick=\"this.disabled=true;\" UseSubmitBehavior=\"false\" /&gt;\n</code></pre>\n  \n  <p>In the back end, in the click event handler method call, add this code\n  to the end (preferably in a finally block)</p>\n\n<pre><code>myButton.Enabled = true;\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 9457871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0594f72f880ad06891ecc8eb8876abbc?s=128&d=identicon&r=PG&f=1", "display_name": "Godber", "link": "https://stackoverflow.com/users/9457871/godber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520442193, "creation_date": 1520441404, "question_id": 49157230, "link": "https://stackoverflow.com/questions/49157230/asp-net-webform-how-to-stop-the-clicking-of-a-button-multiple-times", "title": "ASP.NET Webform - how to stop the clicking of a button multiple times", "body": "<p>New here and relatively new to development and very new to ASP. </p>\n\n<p>I have created a WCF service with a method that ultimately inserts a record into a SQL table and calls an email send class. </p>\n\n<p>On my ASP web form that consumes the service, I have a button that invokes one of the methods.</p>\n\n<p>What I dont understand and wish to fix, the method all in takes around 10 seconds to complete (I need to get this down but thats for further down the line). I can keep clicking the button before the first click has had a chance to complete and in turn send the email. With each click, it queues up and before you know it you have 10 identical emails. </p>\n\n<p>I want to disable the button until the method has returned. </p>\n\n<p>I have spent all day trying to resolve this and have looked and multiple forums, coming up with nothing. So any help is appreciated. - I cant work out what I'm missing. </p>\n\n<p>Service Method;     </p>\n\n<pre><code>public class A : IA\n    {\n        public int Set_A(string a, int t, string d, string c, int f)\n        {\n            using (var dbAbs = new Entities())\n            {\n                if (a != \"\" &amp;&amp; d != \"\" &amp;&amp; c != \"\")\n                {\n            // Do stuff - add to entity etc. \n                        if (tl != null)\n                        {\n                            try\n                            {\n                                SendMail(tl.TL_E, a, t, d, c, f);\n                            }\n                            catch (Exception ex)\n                            {\n                                throw new Exception(ex.Message);\n                            }\n                            Retval = dbAbs.SaveChanges();\n                        }\n                        else\n                        {\n                            retval = -99;\n                        }\n                        return retval;                   \n                }\n                else return -1;\n            }\n        }\n</code></pre>\n\n<p>Code behind the button click on the web form;</p>\n\n<pre><code>protected void AddA_Click(object sender, EventArgs e)\n{\n    AddA.Enabled = false;\n    AddA.Visible = false;\n    var absvc = new AService.AClient();\n\n// setting up variables\n\n    int ret = absvc.Set_A(a, ab, d, c, f);\n\n//error handling\n\n    AddA.Enabled = true;\n    AddA.Visible = true;\n}\n</code></pre>\n\n<p>As you can see, I've tried to use .Enabled and .Visible but they never seem to work. </p>\n\n<p>Any help is appreciate, I've ive not provided enough info just shout at me!</p>\n\n<p>Cheers\nLiam</p>\n"}, {"tags": ["c#", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "edited": false, "score": 0, "creation_date": 1520441008, "post_id": 49157037, "comment_id": 85318911, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/31423773/how-to-start-ie-in-private-mode-in-c-sharp-with-selenium-webdriver\">How to start IE in private mode in c# with selenium webdriver</a>"}, {"owner": {"reputation": 31, "user_id": 9457893, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dolev Cohen", "link": "https://stackoverflow.com/users/9457893/dolev-cohen"}, "reply_to_user": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "edited": false, "score": 1, "creation_date": 1520441094, "post_id": 49157037, "comment_id": 85318956, "body": "I tried the options that suggested in the answer but it doesn&#39;t work. maybe the version has changed since then"}, {"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "edited": false, "score": 0, "creation_date": 1520441121, "post_id": 49157037, "comment_id": 85318974, "body": "Ah, ok makes sense"}, {"owner": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 0, "creation_date": 1520441148, "post_id": 49157037, "comment_id": 85318994, "body": "What version of the IE driver is it?"}, {"owner": {"reputation": 31, "user_id": 9457893, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dolev Cohen", "link": "https://stackoverflow.com/users/9457893/dolev-cohen"}, "edited": false, "score": 1, "creation_date": 1520441200, "post_id": 49157037, "comment_id": 85319028, "body": "IEDriverServer_Win32_3.9.0"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 9457893, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dolev Cohen", "link": "https://stackoverflow.com/users/9457893/dolev-cohen"}, "is_accepted": false, "score": 1, "last_activity_date": 1520493500, "creation_date": 1520493500, "answer_id": 49167445, "question_id": 49157037, "link": "https://stackoverflow.com/questions/49157037/running-internet-explorer-selenium-web-driver-in-private-mode-c/49167445#49167445", "title": "Running Internet Explorer selenium web driver in private mode c#", "body": "<p>Solved by using  IEDriverServer_x64_3.8.0. probably bug in the 3.9 and the 32 bit versions</p>\n"}], "owner": {"reputation": 31, "user_id": 9457893, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dolev Cohen", "link": "https://stackoverflow.com/users/9457893/dolev-cohen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 776, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1520493500, "creation_date": 1520440833, "last_edit_date": 1520442016, "question_id": 49157037, "link": "https://stackoverflow.com/questions/49157037/running-internet-explorer-selenium-web-driver-in-private-mode-c", "title": "Running Internet Explorer selenium web driver in private mode c#", "body": "<p>I'm building UI automation tests using selenium, and I want to test our product with internet explorer browser. I'm trying to create InternetExplorerDriver using selenium 3.4.</p>\n\n<p>But when I set the options to run in private mode, the IE browser doesn't launch. The options I set are:</p>\n\n<pre><code>ForceCreateProcessApi = true,\n\nBrowserCommandLineArguments = \"-private\".\n\nprivate IWebDriver CreateInternetExplorerDriver()\n    {\n        InternetExplorerOptions options = new InternetExplorerOptions()\n        {\n            IntroduceInstabilityByIgnoringProtectedModeSettings = true,\n            IgnoreZoomLevel = true,\n            InitialBrowserUrl = \"about:InPrivate\",\n            EnsureCleanSession = true,\n            BrowserCommandLineArguments = \"-private\",\n            ForceCreateProcessApi = true\n        };\n\n        // Create a webdriver instance to automate the browser.\n        return new InternetExplorerDriver(_webDriverDirectory, options, TimeSpan.FromSeconds(DriverCommandTimeout * 3));\n    }\n</code></pre>\n\n<p>The code run in VS 2017, windows 10 ,64-bit, and try to run Internet explorer driver 32-bit.</p>\n"}, {"tags": ["c#", "oauth-2.0", "botframework", "direct-line-botframework"], "comments": [{"owner": {"reputation": 439, "user_id": 3527063, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/076ad5ea16c8a4b5a4e9ec72b5c42fa4?s=128&d=identicon&r=PG&f=1", "display_name": "user3527063", "link": "https://stackoverflow.com/users/3527063/user3527063"}, "edited": false, "score": 0, "creation_date": 1520442061, "post_id": 49157025, "comment_id": 85319616, "body": "Can i set BOTState in my web client as soon as successfull authentication so that it can be accessed in my Bramework:                        var botCred = new MicrosoftAppCredentials(                 ConfigurationManager.AppSettings[&quot;MicrosoftAppId&quot;],                 ConfigurationManager.AppSettings[&quot;MicrosoftAppPassword&quot;]);             var stateClient = new StateClient(botCred);             BotState botState = new BotState(stateClient);             BotData botData = new BotData(eTag: &quot;*&quot;);             botData.SetProperty&lt;string&gt;(&quot;AccessToken&quot;, authResult.AccessToken);"}, {"owner": {"reputation": 3399, "user_id": 3011564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/USArP.png?s=128&g=1", "display_name": "D4RKCIDE", "link": "https://stackoverflow.com/users/3011564/d4rkcide"}, "edited": false, "score": 0, "creation_date": 1522870265, "post_id": 49157025, "comment_id": 86327287, "body": "Did you ever find a solution for this?"}, {"owner": {"reputation": 439, "user_id": 3527063, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/076ad5ea16c8a4b5a4e9ec72b5c42fa4?s=128&d=identicon&r=PG&f=1", "display_name": "user3527063", "link": "https://stackoverflow.com/users/3527063/user3527063"}, "reply_to_user": {"reputation": 3399, "user_id": 3011564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/USArP.png?s=128&g=1", "display_name": "D4RKCIDE", "link": "https://stackoverflow.com/users/3011564/d4rkcide"}, "edited": false, "score": 0, "creation_date": 1522955340, "post_id": 49157025, "comment_id": 86371215, "body": "not yet jason !!"}], "owner": {"reputation": 439, "user_id": 3527063, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/076ad5ea16c8a4b5a4e9ec72b5c42fa4?s=128&d=identicon&r=PG&f=1", "display_name": "user3527063", "link": "https://stackoverflow.com/users/3527063/user3527063"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520440801, "creation_date": 1520440801, "question_id": 49157025, "link": "https://stackoverflow.com/questions/49157025/bot-authentication-using-the-external-client", "title": "BOT Authentication Using the external client", "body": "<p>I have enabled the Cortana channel in BOT framework. The BOT framework is used from the client application through the directline channel.\nFollowing is my work scenario:\n - For couple of actions in BOT framework, i need to authenticate the user through the client application (internally it uses Owin.Oauth for External providers such as google, FB authentication)\n - Then retrieve the access token in the BOT framework from the client and then pass that to my authorized service for the further activity</p>\n\n<ul>\n<li><p>I need to achieve this in both <strong>Cortana and client BOT directline</strong> as well</p></li>\n<li><p><strong>Following are the different steps I followed:</strong></p></li>\n</ul>\n\n<p>1)  CORTANA - Enabled the Connected Account service But its not my requirement since i always need to force the user to login to the client application before the activity. Also, Connected account is tied to the Cortana. In my scenario, the user should be logged in to the client in order to use the BOT feature</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/cortana/skills/configure-connected-account\" rel=\"nofollow noreferrer\">Connected Account</a></p>\n\n<p>2) I checked the following code sample in BOT Auth and it does the authentication  inside BOT framework using the OAuth</p>\n\n<p><a href=\"https://github.com/MicrosoftDX/botauth/tree/master/CSharp/SampleGenericOAuth2Bot\" rel=\"nofollow noreferrer\">BOT framework OAuth</a>\nI dont want to handle the authentication in my BOT framework as well</p>\n\n<p>All I need is a Auth token from the client which i can use to authorize my WEB API from the BOT framework for the same provider</p>\n\n<p>I tried the following to get the auth token and the user Identity information from the client through BOT framework but not yet tested completely. I am not sure the cookie and other implications</p>\n\n<p><strong>MY Client application Strtup Auth:</strong></p>\n\n<pre><code> public void ConfigureAuth(IAppBuilder app)\n    {\n        // Configure the db context, user manager and signin manager to use a single instance per request\n        app.CreatePerOwinContext(ApplicationDbContext.Create);\n        app.CreatePerOwinContext&lt;ApplicationUserManager&gt;(ApplicationUserManager.Create);\n        app.CreatePerOwinContext&lt;ApplicationSignInManager&gt;(ApplicationSignInManager.Create);\n\n        // Enable the application to use a cookie to store information for the signed in user\n        app.UseCookieAuthentication(new CookieAuthenticationOptions\n        {\n            AuthenticationType = DefaultAuthenticationTypes.ApplicationCookie,\n            LoginPath = new PathString(\"/Account/Login\"),\n             Provider = new CookieAuthenticationProvider\n            {\n                 OnValidateIdentity = SecurityStampValidator.OnValidateIdentity&lt;ApplicationUserManager, ApplicationUser&gt;(\n                    validateInterval: TimeSpan.FromMinutes(20),\n                    regenerateIdentity: (manager, user) =&gt; user.GenerateUserIdentityAsync(manager))\n            }\n        });\n         app.UseExternalSignInCookie(DefaultAuthenticationTypes.ExternalCookie);\n\n         app.UseTwoFactorSignInCookie(DefaultAuthenticationTypes.TwoFactorCookie, TimeSpan.FromMinutes(5));\n        app.UseTwoFactorRememberBrowserCookie(DefaultAuthenticationTypes.TwoFactorRememberBrowserCookie);\n\n         app.UseOAuthBearerTokens(OAuthOptions);\n        app.UseGoogleAuthentication(new GoogleOAuth2AuthenticationOptions()\n        {\n            ClientId = ConfigurationManager.AppSettings[\"googleclientid\"],\n            ClientSecret = ConfigurationManager.AppSettings[\"googleclientsecret\"],\n            Provider = new GoogleOAuth2AuthenticationProvider()\n\n        });\n</code></pre>\n\n<p>Is there any API call that i can use from API to get the following details from the client because I dont know which email address that the user used while logging in to the client application</p>\n\n<p>1) Provider</p>\n\n<p>2) User Email address</p>\n\n<p>3) Authtoken and validity </p>\n"}, {"tags": ["c#", "asp.net-web-api", "cors"], "answers": [{"tags": [], "owner": {"reputation": 1817, "user_id": 9428912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c80843c1952d2228dea4e310470c54?s=128&d=identicon&r=PG&f=1", "display_name": "J.Loscos", "link": "https://stackoverflow.com/users/9428912/j-loscos"}, "is_accepted": false, "score": 1, "last_activity_date": 1520441610, "creation_date": 1520441610, "answer_id": 49157292, "question_id": 49157010, "link": "https://stackoverflow.com/questions/49157010/401-2-response-when-call-web-api-from-mvc-project/49157292#49157292", "title": "401.2 response when call WEB API from MVC project", "body": "<p>I have encountered the same probleme. IIS Express does not seem to use the custom headers in the web.config.</p>\n\n<p>I fixed it by adding in the global.asax.cs :</p>\n\n<pre><code>    protected void Application_AuthenticateRequest(object sender, EventArgs e)\n    {\n        if (Context.Request.Headers.AllKeys.Contains(\"Origin\"))\n        {\n            Context.Response.AddHeader(\"Access-Control-Allow-Origin\", \"http://localhost:57062\");\n            Context.Response.AddHeader(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n            Context.Response.AddHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE, PATCH, OPTIONS\");\n            Context.Response.AddHeader(\"Access-Control-Allow-Credentials\", \"true\");\n            if (Context.Request.HttpMethod == \"OPTIONS\") Context.Response.End();\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 2942, "user_id": 4436077, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/958db005e9c5216e82e4e346174bb6bb?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4436077/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520458010, "creation_date": 1520440740, "last_edit_date": 1520458010, "question_id": 49157010, "link": "https://stackoverflow.com/questions/49157010/401-2-response-when-call-web-api-from-mvc-project", "title": "401.2 response when call WEB API from MVC project", "body": "<p>I am running a WEB API project locally through Visual studio, on port 49374.</p>\n\n<p>I am then running an MVC project locally through VS, on port 57062.</p>\n\n<p>I am trying to call an API in my WEB API project (49374), from the MVC project(57062), but am getting a 401.2 response, see below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/eHpwA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eHpwA.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I call the API directly from the browser, it works fine.</p>\n\n<p>CORS is setup in the Web API Web config as follows:\n        </p>\n\n<pre><code>        &lt;customHeaders&gt;\n            &lt;add name=\"Access-Control-Allow-Origin\" value=\"http://localhost:57062\" /&gt;\n            &lt;add name=\"Access-Control-Allow-Methods\" value=\"GET, POST, OPTIONS, PUT, DELETE\" /&gt;\n            &lt;add name=\"Access-Control-Allow-Headers\" value=\"Content-Type, Accept\" /&gt;\n            &lt;add name=\"Access-Control-Allow-Credentials\" value=\"true\" /&gt;\n            &lt;!--&lt;add name=\"Access-Control-Allow-Credential-Header\" value=\"true\"/&gt;--&gt;\n\n        &lt;/customHeaders&gt;\n    &lt;/httpProtocol&gt;\n</code></pre>\n\n<p>and the project has the following settings on VS:\n<a href=\"https://i.stack.imgur.com/5ndXO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5ndXO.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am out of ideas as to what the problem could be  - can anyone suggest anything?</p>\n"}, {"tags": ["c#", "envdte"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 3, "creation_date": 1520440782, "post_id": 49157007, "comment_id": 85318748, "body": "You&#39;re looking for Roslyn, which does exactly that."}, {"owner": {"reputation": 9606, "user_id": 254257, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/cc352d092caa8e1d41aa7b42b4b2f0c0?s=128&d=identicon&r=PG", "display_name": "SventoryMang", "link": "https://stackoverflow.com/users/254257/sventorymang"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1520440846, "post_id": 49157007, "comment_id": 85318791, "body": "I thought Roslyn was the compiler for .NET since Core? How do I use it in a console app?"}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1520440945, "post_id": 49157007, "comment_id": 85318856, "body": "Roslyn is the C# &amp; VB compiler, and is not directly related to (and in fact predates) .Net Core.  And it has APIs that do exactly what you want."}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1520440984, "post_id": 49157007, "comment_id": 85318887, "body": "@SventoryMang its a compiler infrastructure. it has a ton of code analysis features."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1520441322, "post_id": 49157007, "comment_id": 85319104, "body": "Here is a link to get you started: <a href=\"https://github.com/dotnet/roslyn/wiki/Getting-Started-C%23-Syntax-Analysis\" rel=\"nofollow noreferrer\">github.com/dotnet/roslyn/wiki/&hellip;</a>"}, {"owner": {"reputation": 9606, "user_id": 254257, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/cc352d092caa8e1d41aa7b42b4b2f0c0?s=128&d=identicon&r=PG", "display_name": "SventoryMang", "link": "https://stackoverflow.com/users/254257/sventorymang"}, "edited": false, "score": 0, "creation_date": 1520441377, "post_id": 49157007, "comment_id": 85319138, "body": "Thanks for the info. If someone wants to post an answer to the question that would be much appreciated as a &quot;jump start&quot;, but I will begin researching this."}, {"owner": {"reputation": 9606, "user_id": 254257, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/cc352d092caa8e1d41aa7b42b4b2f0c0?s=128&d=identicon&r=PG", "display_name": "SventoryMang", "link": "https://stackoverflow.com/users/254257/sventorymang"}, "edited": false, "score": 0, "creation_date": 1520441650, "post_id": 49157007, "comment_id": 85319314, "body": "So is CodeDom <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/reflection-and-codedom/using-the-codedom\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/framework/&hellip;</a> something that preceded Roslyn? Or part of it and that&#39;s the right track?"}], "answers": [{"comments": [{"owner": {"reputation": 9606, "user_id": 254257, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/cc352d092caa8e1d41aa7b42b4b2f0c0?s=128&d=identicon&r=PG", "display_name": "SventoryMang", "link": "https://stackoverflow.com/users/254257/sventorymang"}, "edited": false, "score": 0, "creation_date": 1520455499, "post_id": 49159141, "comment_id": 85327308, "body": "That&#39;s using reflection to create an instance of a type, I don&#39;t want to create an instance, I want to edit the code (and save it to the file) that has that type declaration in the file."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1655141"}, "is_accepted": false, "score": 0, "last_activity_date": 1520448208, "creation_date": 1520448208, "answer_id": 49159141, "question_id": 49157007, "link": "https://stackoverflow.com/questions/49157007/c-net-how-can-i-programmatically-load-edit-and-save-source-code-files-w-o-u/49159141#49159141", "title": "C#/.NET, How can I programmatically load, edit, and save source code files w/o using plain string manipulation?", "body": "<p>You can compile C# in runtime <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.csharp.csharpcodeprovider(v=vs.110).aspx\" rel=\"nofollow noreferrer\">using CodeDom</a>. This is also included in Mono.</p>\n\n<p>The <code>CodeProvider</code> will generate a DLL file when compile code. You can load the DLL in runtime using <a href=\"https://msdn.microsoft.com/en-us/library/36az8x58(v=vs.110).aspx\" rel=\"nofollow noreferrer\">AppDomain</a>. And then can find a <code>System.Type</code> in the assembly using <code>System.Reflection.Assembly</code> what from you've compiled the code.</p>\n\n<p>Finally, you can create an instance from the <code>System.Type</code> with <code>System.Activator.CreateInstance()</code>.</p>\n"}], "owner": {"reputation": 9606, "user_id": 254257, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/cc352d092caa8e1d41aa7b42b4b2f0c0?s=128&d=identicon&r=PG", "display_name": "SventoryMang", "link": "https://stackoverflow.com/users/254257/sventorymang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1520448208, "creation_date": 1520440734, "last_edit_date": 1520440789, "question_id": 49157007, "link": "https://stackoverflow.com/questions/49157007/c-net-how-can-i-programmatically-load-edit-and-save-source-code-files-w-o-u", "title": "C#/.NET, How can I programmatically load, edit, and save source code files w/o using plain string manipulation?", "body": "<p>In a console app. </p>\n\n<p>Say I have a class source code file <code>MyClass.cs</code>. Is there some API to be able to load this file as a \"source code file/class\"? I know how to load a file and read its contents, and I know how to use reflection to read class members and all that but neither is quite what I would need. </p>\n\n<p>And I really don't want to have to use plain string manipulation if I just loaded and read the file contents as a string.</p>\n\n<p>I would imagine/hope there would be some API to be like this pseudocode:</p>\n\n<pre><code>var sourceCodeClass = ReadFileAsSourceCode(\"{Path}/MyClass.cs\");\nsourceCodeClass.AddProperty([either string declaration or some strongly typed way of creating one with like 'SourceCodeProperty' or something]);\nsourceCodeClass.OutputAsFile(\"{Path}/MyClass.cs\");\n</code></pre>\n\n<p>or something. It seems like this would be available in the EnvDTE area for creating VS extensions, but I suspect both my googlefu and documentation for that are weak.</p>\n"}, {"tags": ["c#", "xml", "serialization", "xml-namespaces"], "comments": [{"owner": {"reputation": 361, "user_id": 3370471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dxa59.png?s=128&g=1", "display_name": "Shorstok", "link": "https://stackoverflow.com/users/3370471/shorstok"}, "edited": false, "score": 1, "creation_date": 1520441777, "post_id": 49156904, "comment_id": 85319397, "body": "Could you provide code to reproduce your issue? Because changing   <code>[XmlElement(&quot;States&quot;), XmlArrayItem(&quot;State&quot;)]</code> to <code>[XmlArray(&quot;States&quot;), XmlArrayItem(&quot;State&quot;)]</code> alone makes everything to serialize-deserialize fine, without namespace issues"}, {"owner": {"reputation": 157, "user_id": 892910, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d4bc3d62ae1e611d7178ac7f4b35ff50?s=128&d=identicon&r=PG", "display_name": "Jan Discart", "link": "https://stackoverflow.com/users/892910/jan-discart"}, "reply_to_user": {"reputation": 361, "user_id": 3370471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dxa59.png?s=128&g=1", "display_name": "Shorstok", "link": "https://stackoverflow.com/users/3370471/shorstok"}, "edited": false, "score": 1, "creation_date": 1520450623, "post_id": 49156904, "comment_id": 85324708, "body": "@Shorstok I thought I created a minimal example above extracted from my larger project, and it seems indeed that the situation depicted above works just fine when I set it up running in Fiddle. So there is indeed no issue to be seen here. Thanks for this sanity check!"}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 892910, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d4bc3d62ae1e611d7178ac7f4b35ff50?s=128&d=identicon&r=PG", "display_name": "Jan Discart", "link": "https://stackoverflow.com/users/892910/jan-discart"}, "edited": false, "score": 0, "creation_date": 1520450883, "post_id": 49157187, "comment_id": 85324862, "body": "Thanks for your answer. Although it is a valid solution to the problem, it&#39;s not the type of solution I was looking for. In certain situations you indeed have the control to alter the output format of the document, but that&#39;s not always the case. So I was specifically looking for a solution involving namespaces. In the comments below my question, @Shorstok pointed out that there is no actual issue to be seen in the code posted."}], "tags": [], "owner": {"reputation": 2445, "user_id": 2118609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ovygf.png?s=128&g=1", "display_name": "oliver", "link": "https://stackoverflow.com/users/2118609/oliver"}, "is_accepted": false, "score": 0, "last_activity_date": 1520441654, "last_edit_date": 1520441654, "creation_date": 1520441276, "answer_id": 49157187, "question_id": 49156904, "link": "https://stackoverflow.com/questions/49156904/c-xml-serialization-attributes-and-namespaces/49157187#49157187", "title": "C# XML Serialization: Attributes and Namespaces", "body": "<p>You could just give the different signatures/types different attribute names</p>\n\n<pre><code>public class DroneState\n{\n    [XmlAttribute(\"timestampInt\")]\n    public int timestamp;\n\n    //...\n}\n\npublic class SensorState\n{\n    [XmlAttribute(\"timestampFloat\")]\n    public float timestamp;\n\n    //...\n}\n</code></pre>\n\n<p>or timestampDrone / timestampSensor for that matter.</p>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 892910, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d4bc3d62ae1e611d7178ac7f4b35ff50?s=128&d=identicon&r=PG", "display_name": "Jan Discart", "link": "https://stackoverflow.com/users/892910/jan-discart"}, "is_accepted": false, "score": 0, "last_activity_date": 1520451186, "creation_date": 1520451186, "answer_id": 49159872, "question_id": 49156904, "link": "https://stackoverflow.com/questions/49156904/c-xml-serialization-attributes-and-namespaces/49159872#49159872", "title": "C# XML Serialization: Attributes and Namespaces", "body": "<p>In the code posted above, no actual problems are defined. It compiles and runs fine and I though that this was a minimal example of the issue I thought I encountered. I identified the cause of the issue to be 2 fields writing to the same attribute, which gave reason to exception being thrown. This was solely caused by a lack of oversight on my part.</p>\n\n<p>The code giving the issue:</p>\n\n<pre><code>[XmlAttribute(\"timestamp\")]\npublic long timestamp;\n\n[Quite a bit of other members...]\n\n[XmlAttribute(\"timestamp\")]\npublic float acceleration;\n</code></pre>\n\n<p>Letting the <code>acceleration</code> member write to an appropriate attribute solved the problem.</p>\n"}], "owner": {"reputation": 157, "user_id": 892910, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d4bc3d62ae1e611d7178ac7f4b35ff50?s=128&d=identicon&r=PG", "display_name": "Jan Discart", "link": "https://stackoverflow.com/users/892910/jan-discart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1520451186, "creation_date": 1520440376, "question_id": 49156904, "link": "https://stackoverflow.com/questions/49156904/c-xml-serialization-attributes-and-namespaces", "title": "C# XML Serialization: Attributes and Namespaces", "body": "<p>In a logging structure, I have a list of states and within each state, there are several fields, each having a few attributes. Some of those fields have a attributes with the same name, but with different types, i.e. int versus float. Notice the 'timestamp' attribute in this particular example:</p>\n\n<pre><code>public class DroneState\n{\n    [XmlAttribute(\"timestamp\")]\n    public int timestamp;\n\n    ...\n}\n\npublic class SensorState\n{\n    [XmlAttribute(\"timestamp\")]\n    public float timestamp;\n\n    ...\n}\n\npublic class CombinedState\n{\n    [XmlElement(\"DroneState\")]\n    public DroneState droneState = null;\n    [XmlElement(\"Sensor\")]\n    public SensorState sensorState = null;\n}\n\npublic class FlightLog\n{\n    [XmlElement(\"States\"), XmlArrayItem(\"State\")]\n    public List&lt;CombinedState&gt; states = new List&lt;CombinedState&gt;();\n\n    public static void SaveToFile(FlightLog flightLog, string file)\n    {\n        XmlSerializer serializer = new XmlSerializer(typeof(FlightLog));\n        string xml = string.Empty;\n        // serialize and return string\n        using (StringWriter writer = new StringWriter())\n        {\n            serializer.Serialize(writer, flightLog);\n            xml = writer.ToString();\n        }\n\n        File.WriteAllText(file, xml);\n    }\n}\n</code></pre>\n\n<p>Using this code to generate an XML document, I get struck with the following exception:</p>\n\n<blockquote>\n  <p>InvalidOperationException: The XML attribute named 'timestamp' from namespace '' is already present in the current scope. Use XML attributes to specify another XML name or namespace for the attribute.</p>\n</blockquote>\n\n<p>This is something I could have expected, but I don't seem to be capable of solving it. Whatever I try with regards to adding a namespace for each attribute, it keeps complaining that the attributes are allocated in the '' namespace.</p>\n\n<p>What are the steps to take in making sure that each timestamp attribute is placed in its own namespace?</p>\n"}, {"tags": ["c#", "entity-framework", "asp.net-web-api2", "automapper", "repository-design"], "comments": [{"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1520451214, "post_id": 49156799, "comment_id": 85325034, "body": "Model1 is a child of Model2. If you don&#39;t want that added in the same step then either set it&#39;s EntityState to unchanged or set the nav to null. <a href=\"https://stackoverflow.com/questions/25441027/how-do-i-stop-entity-framework-from-trying-to-save-insert-child-objects\" title=\"how do i stop entity framework from trying to save insert child objects\">stackoverflow.com/questions/25441027/&hellip;</a>"}, {"owner": {"reputation": 1601, "user_id": 1882844, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/JmhB5.jpg?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/1882844/akhil"}, "reply_to_user": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1520475250, "post_id": 49156799, "comment_id": 85334129, "body": "nice i got that. Then i think issue in AutoMapper mapping. While mapping ViewModel to Model, it created Parent object. That is the issue. Any solution to avoid this?"}, {"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1520522888, "post_id": 49156799, "comment_id": 85358659, "body": "Yes, tell automapper to ignore it in your mapping config: <code>.ForMember(dest =&gt; dest.Model1, opt =&gt; opt.Ignore())</code>"}], "owner": {"reputation": 1601, "user_id": 1882844, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/JmhB5.jpg?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/1882844/akhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520440076, "creation_date": 1520440076, "question_id": 49156799, "link": "https://stackoverflow.com/questions/49156799/child-model-creation-failed-when-viewmodel-have-basemodel-property", "title": "Child Model Creation Failed when ViewModel have BaseModel property", "body": "<p>I am using WebAPI2 and i have 2 models</p>\n\n<pre><code>public class Model1\n{\n    public int Id { get; set; }\n    [Required]\n    public string Name { get; set; }\n    public string Description { get; set; }\n\n    public IList&lt;Model2&gt; Children{ get; set; }\n}\n\npublic class Model2\n{\n    public int Id { get; set; }\n    [Required]\n    public string Name { get; set; }\n    public string Description { get; set; }\n    public int Model1Id { get; set; }\n\n    public virtual Model1 Model1 { get; set; }\n}\n</code></pre>\n\n<p>In my view model i am convertinh this to ViewModel using <strong>Automapper</strong>\nMy CRUD operations of first one is fine as ViewModel also same as Model1.</p>\n\n<p>For my second model (Model2), the following is my ViewModel</p>\n\n<pre><code> public class Model2ViewModel\n{\n    public int Id { get; internal set; }\n    [Required]\n    public string Name { get; set; }\n    public string Description { get; set; }\n    public int Model1Id { get; set; }\n\n     public string Model1Name { get; internal set; }\n     public string Model1Description { get; internal set; }\n}\n</code></pre>\n\n<p>My code like below;</p>\n\n<pre><code>    public async Task&lt;IHttpActionResult&gt; Post(int model1Id, Model2ViewModel model)\n    {\n        try\n        {\n            model.Model1Id= model1Id;\n            var item = Mapper.Map&lt;Model2&gt;(model);\n\n             myRepo.Add(item);\n             myRepo.SaveAsync()\n            if (!result)\n            {\n                return BadRequest(\"Could not Save to the database\");\n            }\n\n            return Created(uri, Mapper.Map&lt;Model2ViewModel&gt;(item));\n        }\n        catch (ArgumentException ex)\n        {\n            ModelState.AddModelError(ex.ParamName, ex.Message);\n            return BadRequest(ModelState);\n        }\n    }\n</code></pre>\n\n<p>I am using Repository Pattern and the logic in add record is below;</p>\n\n<pre><code>    public void Add(T entity)\n    {\n        entity.RecordStatus = DataStatus.Active;\n        entity.CreatedDate = entity.UpdatedDate = DateTime.UtcNow;\n        _context.Set&lt;T&gt;().Add(entity);\n    }\n\n    public async Task&lt;bool&gt; SaveAsync()\n    {\n        int count = await _context.SaveChangesAsync();\n        return count &gt; 0;\n    }\n</code></pre>\n\n<p>When i use post method of Model2 , i got error like Name is Required of Model1. Why Model1 also trying to create. Please help me</p>\n\n<p><em>Note: For simplicity i added my repo calling, directly in the controller code. In real code it calling business method and from there only repo called.</em></p>\n"}, {"tags": ["c#", "asp.net", "sql-server", "transactions", "rollback"], "comments": [{"owner": {"reputation": 73, "user_id": 3502955, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4f4e2bfcc93908b0bd35462e6839a8c4?s=128&d=identicon&r=PG&f=1", "display_name": "vedbhawsar", "link": "https://stackoverflow.com/users/3502955/vedbhawsar"}, "edited": false, "score": 0, "creation_date": 1520440231, "post_id": 49156748, "comment_id": 85318392, "body": "Replace <code>int</code> in the line <code>var id = (int) command.ExecuteScalar();</code>  with <code>Int32</code> Class. ExecuteScalar() returns an Object. This should work"}, {"owner": {"reputation": 6432, "user_id": 33082, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Xil7X.jpg?s=128&g=1", "display_name": "Michael G", "link": "https://stackoverflow.com/users/33082/michael-g"}, "reply_to_user": {"reputation": 73, "user_id": 3502955, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4f4e2bfcc93908b0bd35462e6839a8c4?s=128&d=identicon&r=PG&f=1", "display_name": "vedbhawsar", "link": "https://stackoverflow.com/users/3502955/vedbhawsar"}, "edited": false, "score": 1, "creation_date": 1520440477, "post_id": 49156748, "comment_id": 85318545, "body": "@vedbhawsar: int is an alias name for Int32.."}, {"owner": {"reputation": 73, "user_id": 3502955, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4f4e2bfcc93908b0bd35462e6839a8c4?s=128&d=identicon&r=PG&f=1", "display_name": "vedbhawsar", "link": "https://stackoverflow.com/users/3502955/vedbhawsar"}, "reply_to_user": {"reputation": 6432, "user_id": 33082, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Xil7X.jpg?s=128&g=1", "display_name": "Michael G", "link": "https://stackoverflow.com/users/33082/michael-g"}, "edited": false, "score": 0, "creation_date": 1520440741, "post_id": 49156748, "comment_id": 85318721, "body": "@MichaelG You are are right, but using <code>Int32</code> saves you when <code>ExecuteScalar()</code> returns <code>null</code>  as  <code>Convert.ToInt32(null) = 0</code>"}, {"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 0, "creation_date": 1520450398, "post_id": 49156748, "comment_id": 85324582, "body": "You should check out <a href=\"http://blogs.msmvps.com/jcoehoorn/blog/2014/05/12/can-we-stop-using-addwithvalue-already/\" rel=\"nofollow noreferrer\">Can we stop using AddWithValue() already?</a> and stop using <code>.AddWithValue()</code> - it can lead to unexpected and surprising results..."}], "answers": [{"tags": [], "owner": {"reputation": 3982, "user_id": 5695953, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b50e1603f447a4a31cded4a14edfeff9?s=128&d=identicon&r=PG&f=1", "display_name": "Md. Suman Kabir", "link": "https://stackoverflow.com/users/5695953/md-suman-kabir"}, "is_accepted": false, "score": 0, "last_activity_date": 1520440605, "last_edit_date": 1520440605, "creation_date": 1520440361, "answer_id": 49156902, "question_id": 49156748, "link": "https://stackoverflow.com/questions/49156748/c-retrieving-inserted-id-inside-transaction/49156902#49156902", "title": "c# Retrieving Inserted ID inside Transaction", "body": "<p>Use this SQL syntax to get the inserted ID :</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO Students (FirstName, MiddleName, LastName) OUTPUT Inserted.ID .... \n</code></pre>\n\n<p>And then </p>\n\n<pre><code>int id = command.ExecuteScalar();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 4160181, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1536f745673c2af1a1226c1fcc57733e?s=128&d=identicon&r=PG&f=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/4160181/lex"}, "edited": false, "score": 0, "creation_date": 1520440942, "post_id": 49156937, "comment_id": 85318853, "body": "Thanks! I didn&#39;t know i had to return the inserted identity. However, now i&#39;m getting exception <code>Specified cast is not valid</code>. I&#39;ve tried casting to both (int) and (Int32). What should i be casting to?"}, {"owner": {"reputation": 59, "user_id": 4160181, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1536f745673c2af1a1226c1fcc57733e?s=128&d=identicon&r=PG&f=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/4160181/lex"}, "edited": false, "score": 0, "creation_date": 1520442002, "post_id": 49156937, "comment_id": 85319570, "body": "I got it to work using this but also <code>Convert.ToInt32(cmd.ExecuteScalar());</code> as @vedbhawsar suggested. It wouldn&#39;t work any other way I tried it."}], "tags": [], "owner": {"reputation": 709, "user_id": 725297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77ea8fef21e60a690dfff9d3f5c63ea3?s=128&d=identicon&r=PG", "display_name": "KorsG", "link": "https://stackoverflow.com/users/725297/korsg"}, "is_accepted": true, "score": 3, "last_activity_date": 1520440460, "creation_date": 1520440460, "answer_id": 49156937, "question_id": 49156748, "link": "https://stackoverflow.com/questions/49156748/c-retrieving-inserted-id-inside-transaction/49156937#49156937", "title": "c# Retrieving Inserted ID inside Transaction", "body": "<p>I assume that a column in the Students table is setup as an identity column, and that you use SQL Server 2008+.</p>\n\n<p>In that case you need to change your SQL statement to return the inserted identity value like this:</p>\n\n<pre><code>  string insertStudent = \"INSERT INTO Students (FirstName, MiddleName, LastName)\" +\n            \" VALUES (@firstName, @middleName, @lastName);\" +\n            \" SELECT SCOPE_IDENTITY();\";\n</code></pre>\n\n<p>More information regarding SCOPE_IDENTITY can be found here: <a href=\"https://docs.microsoft.com/en-us/sql/t-sql/functions/scope-identity-transact-sql\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/sql/t-sql/functions/scope-identity-transact-sql</a></p>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 3502955, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4f4e2bfcc93908b0bd35462e6839a8c4?s=128&d=identicon&r=PG&f=1", "display_name": "vedbhawsar", "link": "https://stackoverflow.com/users/3502955/vedbhawsar"}, "is_accepted": false, "score": 0, "last_activity_date": 1520440511, "creation_date": 1520440511, "answer_id": 49156957, "question_id": 49156748, "link": "https://stackoverflow.com/questions/49156748/c-retrieving-inserted-id-inside-transaction/49156957#49156957", "title": "c# Retrieving Inserted ID inside Transaction", "body": "<p>Just change the code</p>\n\n<pre><code>  var id = (int) command.ExecuteScalar();\n</code></pre>\n\n<p>as:</p>\n\n<pre><code>int id = Convert.ToInt32(cmd.ExecuteScalar());\n</code></pre>\n\n<p>This will ensure that even if ExecuteScalar returns null, as result of not selecting anything in stored procedure, countDis will have a value of 0. Because Convert.ToInt32(null) = 0.</p>\n"}], "owner": {"reputation": 59, "user_id": 4160181, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1536f745673c2af1a1226c1fcc57733e?s=128&d=identicon&r=PG&f=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/4160181/lex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2623, "favorite_count": 0, "accepted_answer_id": 49156937, "answer_count": 3, "score": 3, "last_activity_date": 1520450381, "creation_date": 1520439912, "last_edit_date": 1520450381, "question_id": 49156748, "link": "https://stackoverflow.com/questions/49156748/c-retrieving-inserted-id-inside-transaction", "title": "c# Retrieving Inserted ID inside Transaction", "body": "<p>I have a bunch of inserts which I want to have in a transaction so I can rollback in case of any errors. Now my issue is that for some of the inserts I need the ID of the previous insert. However, doing <code>var id = (int)command.ExecuteScalar();</code> throws an exception (\"Object reference not set to an instance of an object\"). If i run <code>command.ExecuteScalar()</code> without trying to assign the result the code work perfectly fine. Is it possible to get ID before committing the transaction? If no, what are my alternatives?</p>\n\n<p>My code: </p>\n\n<pre><code>using (SqlConnection connection = new SqlConnection(\"ConnectionHere\")\n{\n            connection.Open();\n\n            SqlCommand command = connection.CreateCommand();\n            SqlTransaction transaction;\n\n            // Start a local transaction.\n            transaction = connection.BeginTransaction();\n            command.Connection = connection;\n            command.Transaction = transaction;\n\n            try\n            {                    \n                string insertStudent = \"INSERT INTO Students (FirstName, MiddleName, LastName)\" +\n                \" VALUES (@firstName, @middleName, @lastName)\";\n\n                command.CommandText = insertStudent;\n                command.Parameters.AddWithValue(\"@firstName\", application.FirstName);\n                command.Parameters.AddWithValue(\"@middleName\", application.MiddleName);\n                command.Parameters.AddWithValue(\"@lastName\", application.LastName);\n\n                var id = (int) command.ExecuteScalar();//EXCEPTION THROWN HERE\n\n                // Attempt to commit the transaction.\n                transaction.Commit();\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine(\"Commit Exception Type: {0}\", ex.GetType());\n                Console.WriteLine(\"  Message: {0}\", ex.Message);\n\n                // Attempt to roll back the transaction.        \n                transaction.Rollback();\n            }\n}\n</code></pre>\n"}, {"tags": ["c#", "dependency-injection", "inversion-of-control", "structuremap"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 1901534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b6SRA.png?s=128&g=1", "display_name": "Navid K", "link": "https://stackoverflow.com/users/1901534/navid-k"}, "edited": false, "score": 0, "creation_date": 1520495716, "post_id": 49157202, "comment_id": 85341088, "body": "Thank you, but I am confused a little bit because of this line in documentation: &#39;The easiest way to think of Transient is that a single object instance will be created for each top level call to Container.GetInstance() (or any other object resolution method on the IContainer interface).&#39;  Could you please explain it to me? What is the difference between this and Singletone?"}, {"owner": {"reputation": 50853, "user_id": 181087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85700c2c160866ef6924fc491a3ce574?s=128&d=identicon&r=PG", "display_name": "NightOwl888", "link": "https://stackoverflow.com/users/181087/nightowl888"}, "reply_to_user": {"reputation": 65, "user_id": 1901534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b6SRA.png?s=128&g=1", "display_name": "Navid K", "link": "https://stackoverflow.com/users/1901534/navid-k"}, "edited": false, "score": 0, "creation_date": 1520503666, "post_id": 49157202, "comment_id": 85345941, "body": "I added an example to the answer."}], "tags": [], "owner": {"reputation": 50853, "user_id": 181087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85700c2c160866ef6924fc491a3ce574?s=128&d=identicon&r=PG", "display_name": "NightOwl888", "link": "https://stackoverflow.com/users/181087/nightowl888"}, "is_accepted": true, "score": 5, "last_activity_date": 1520503558, "last_edit_date": 1592644375, "creation_date": 1520441319, "answer_id": 49157202, "question_id": 49156716, "link": "https://stackoverflow.com/questions/49156716/confusion-with-structuremap-4-6-transient-lifecycle/49157202#49157202", "title": "Confusion with StructureMap 4.6 Transient Lifecycle", "body": "<p>Your understanding of the <a href=\"http://structuremap.github.io/object-lifecycle/supported-lifecycles/\" rel=\"nofollow noreferrer\">documentation</a> is incorrect.</p>\n<blockquote>\n<ul>\n<li>Transient -- The default lifecycle. A new object is created for each logical request to resolve an object graph from the container.</li>\n<li>Singleton -- Only one object instance will be created for the container and any children or nested containers created by that container</li>\n</ul>\n</blockquote>\n<p>You are using <em>Transient</em>, which means you get an instance <strong>every time <code>Resolve</code> is called</strong>.</p>\n<p>But the behavior you are describing is for <em>Singleton</em>, which means to create the instance <strong>only the first time <code>Resolve</code> is called</strong>.</p>\n<p>To get the behavior you want, you have to change the registration type to <strong>Singleton</strong>.</p>\n<pre><code>public class ConsoleRegistry : Registry\n{\n    public ConsoleRegistry()\n    {\n        Scan(_ =&gt;\n        {\n            _.TheCallingAssembly();\n            _.With(new SingletonConvention&lt;IFileService&gt;());\n            _.WithDefaultConventions();\n        });\n    }\n}\n\ninternal class SingletonConvention&lt;TPluginFamily&gt; : IRegistrationConvention\n{\n    public void Process(Type type, Registry registry)\n    {\n        if (!type.IsConcrete() || !type.CanBeCreated() || !type.AllInterfaces().Contains(typeof(TPluginFamily))) return;\n\n        registry.For(typeof(TPluginFamily)).Singleton().Use(type);\n    }\n}\n</code></pre>\n<p>Reference: <a href=\"https://stackoverflow.com/q/977862\">How can I configure Structuremap to auto scan type in Assembly and Cache by Singleton?</a></p>\n<h2>Singleton VS Transient Example</h2>\n<p>The easiest way to think about this is by showing an example <em>without</em> using a DI container.</p>\n<h3>Services</h3>\n<p>Here we have a service and an application service. The only real difference here is that the application service is intended to be <em>the entire application graph</em>.</p>\n<pre><code>public class Service\n{\n    public string Name { get; private set; } = Guid.NewGuid().ToString();\n}\n\npublic class Application\n{\n    private readonly Service singleton;\n    private readonly Service transient;\n\n    public Application(Service singleton, Service transient)\n    {\n        this.singleton = singleton;\n        this.transient = transient;\n    }\n\n    public Service Singleton { get { return singleton; } }\n    public Service Transient { get { return transient; } }\n}\n</code></pre>\n<h3>Container</h3>\n<p>In our container, we register 2 instances of <code>Service</code>, one singleton and one transient. The singleton is only instantiated <strong>once per container instance</strong>. The transient is instantiated <strong>every time <code>Resolve</code> is called</strong>.</p>\n<pre><code>public class MyContainer\n{\n    private readonly Service singleton = new Service();\n\n    public Application Resolve()\n    {\n        return new Application(\n            singleton: this.singleton, \n            transient: new Service());\n    }\n}\n</code></pre>\n<h3>Usage</h3>\n<p>In a real world application, there would only be one instance of <code>Application</code>. However, we are showing two <code>Application</code> instances to demonstrate that a service registered as <code>Singleton</code> will be the same instance for the same container instance. A transient will be created each time <code>Resolve</code> is called.</p>\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        var container = new MyContainer();\n\n        var application1 = container.Resolve();\n        var application2 = container.Resolve();\n\n\n        Console.WriteLine($&quot;application1.Transient.Name: {application1.Transient.Name}&quot;);\n        Console.WriteLine($&quot;application2.Transient.Name: {application2.Transient.Name}&quot;);\n        Console.WriteLine();\n        Console.WriteLine($&quot;application1.Singleton.Name: {application1.Singleton.Name}&quot;);\n        Console.WriteLine($&quot;application2.Singleton.Name: {application2.Singleton.Name}&quot;);\n\n        Console.ReadKey();\n    }\n}\n</code></pre>\n<h3>Output</h3>\n<blockquote>\n<p>application1.Transient.Name: dc134d4d-75c8-4f6a-a1a5-367156506671\napplication2.Transient.Name: f3012ea2-4955-4cfa-8257-8e03a00b1e99</p>\n<p>application1.Singleton.Name: 86d06d7d-a611-4f57-be98-036464797a41\napplication2.Singleton.Name: 86d06d7d-a611-4f57-be98-036464797a41</p>\n</blockquote>\n"}], "owner": {"reputation": 65, "user_id": 1901534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b6SRA.png?s=128&g=1", "display_name": "Navid K", "link": "https://stackoverflow.com/users/1901534/navid-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 1, "accepted_answer_id": 49157202, "answer_count": 1, "score": 3, "last_activity_date": 1520503558, "creation_date": 1520439799, "last_edit_date": 1520441599, "question_id": 49156716, "link": "https://stackoverflow.com/questions/49156716/confusion-with-structuremap-4-6-transient-lifecycle", "title": "Confusion with StructureMap 4.6 Transient Lifecycle", "body": "<p>I am using StructureMap 4.6 as my IoC Container. I am a bit confused about its lifecycles. As I have read in its documentation, Transient will create a single instance of the object per container. <a href=\"http://structuremap.github.io/object-lifecycle/supported-lifecycles/\" rel=\"nofollow noreferrer\">Supported Lifecycles</a></p>\n\n<p>I am checking this scenario by creating a simple Console Application project. My code is as below: </p>\n\n<h2>Program.cs</h2>\n\n<pre><code>class Program\n{\n    private static IContainer _Container;\n    static void Main(string[] args)\n    {\n        _Container = Container.For&lt;ConsoleRegistry&gt;();\n\n        var serv1 = _Container.GetInstance&lt;IFileService&gt;();\n        Console.WriteLine($\"Name: {_Container.Name}\");\n        Console.WriteLine(serv1.GetUniqueID());\n\n        var serv2 = _Container.GetInstance&lt;IFileService&gt;();\n        Console.WriteLine($\"Name: {_Container.Name}\");\n        Console.WriteLine(serv2.GetUniqueID());\n\n        Console.ReadKey();\n    }\n}\n</code></pre>\n\n<h2>ConsoleRegistry.cs</h2>\n\n<pre><code>public class ConsoleRegistry : Registry\n{\n    public ConsoleRegistry()\n    {\n        Scan(_ =&gt;\n        {\n            _.TheCallingAssembly();\n            _.WithDefaultConventions();\n        });\n    }\n}\n</code></pre>\n\n<h2>IFileSerivce.cs</h2>\n\n<pre><code>public interface IFileService\n{\n    string Read(string path);\n\n    void Write(string path, string content);\n\n    bool FileExists(string path);\n\n    string GetUniqueID();\n}\n</code></pre>\n\n<h2>FileService.cs</h2>\n\n<pre><code>public class FileService : IFileService\n{\n    private static int instanceCounter;\n    private readonly int instanceId;\n\n    public FileService()\n    {\n        this.instanceId = ++instanceCounter;\n        Console.WriteLine(\"File Service is Created.\");\n    }\n\n    public int UniqueID\n    {\n        get { return this.instanceId; }\n    }\n\n    public string GetUniqueID()\n    {\n        return UniqueID.ToString();\n    }\n\n    public string Read(string path)\n    {\n        return File.ReadAllText(path);\n    }\n\n    public void Write(string path, string content)\n    {\n        File.WriteAllText(path, content);\n    }\n\n    public bool FileExists(string path)\n    {\n        return File.Exists(path);\n    }\n}\n</code></pre>\n\n<p>When I run the application the result is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZqY9F.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZqY9F.jpg\" alt=\"Output\"></a></p>\n\n<p>My question is when I resolve an instance of <code>IFileService</code>, I have expected to get a single instance of <code>FileService</code> per container. But, as you can see it gives two different instances. Why is that the case?</p>\n"}, {"tags": ["c#", "android", "sql-server", "xamarin", "dll"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 1, "creation_date": 1520440731, "post_id": 49156656, "comment_id": 85318715, "body": "do you have any reason to believe that this library will work with Android?  Not every arbitrary .NET library will work in Xamarin projects"}, {"owner": {"reputation": 1796, "user_id": 5745500, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10204922936423622/picture?type=large", "display_name": "Catarina Ferreira", "link": "https://stackoverflow.com/users/5745500/catarina-ferreira"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1520441949, "post_id": 49156656, "comment_id": 85319530, "body": "Yes because if I comment that part, it works!!"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 1, "creation_date": 1520443808, "post_id": 49156656, "comment_id": 85320695, "body": "that would lead me to the exact opposite conclusion"}, {"owner": {"reputation": 1796, "user_id": 5745500, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10204922936423622/picture?type=large", "display_name": "Catarina Ferreira", "link": "https://stackoverflow.com/users/5745500/catarina-ferreira"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1520444573, "post_id": 49156656, "comment_id": 85321134, "body": "You&#39;re not understanding. I need that library to reuse code. When I add it to android project doesn&#39;t show any error, but it crashes. But I&#39;m not calling the method in any time"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1655141"}, "is_accepted": true, "score": 1, "last_activity_date": 1520445351, "last_edit_date": 1520445351, "creation_date": 1520445026, "answer_id": 49158303, "question_id": 49156656, "link": "https://stackoverflow.com/questions/49156656/xamarin-android-c-using-microsoft-sqlserver-management/49158303#49158303", "title": "Xamarin Android C# - using Microsoft.SqlServer.Management", "body": "<p>In most cases of 3rd party libraries, the C#(CIL) just invoke the native(C/C++) functions. Not implemented by itself even though the CoreFX.</p>\n\n<p>It means that if the library has been implemented in target platform's (Android in your case) native code, you can invoke them in C# using DLL import or binding library otherwise impossible.</p>\n\n<p>If you planned to make a shared assembly, you must check portability of the dependencies first. For example, the <code>System.Drawing.Bitmap</code> is possible in <code>.NET Framework</code> but <code>Xamarin</code>. Therefore, you must not use it in shared assembly which for <code>.NET Framework</code> and <code>Xamarin</code>.</p>\n\n<p>And <a href=\"https://docs.microsoft.com/da-dk/dotnet/api/\" rel=\"nofollow noreferrer\">this</a> is really helpful for it. The .NET API browser. You can search any class of C# and get the portability information about .NET Core, Standard, Framework, Xamarin and so on.</p>\n"}], "owner": {"reputation": 1796, "user_id": 5745500, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10204922936423622/picture?type=large", "display_name": "Catarina Ferreira", "link": "https://stackoverflow.com/users/5745500/catarina-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 49158303, "answer_count": 1, "score": 3, "last_activity_date": 1562946518, "creation_date": 1520439618, "last_edit_date": 1562946518, "question_id": 49156656, "link": "https://stackoverflow.com/questions/49156656/xamarin-android-c-using-microsoft-sqlserver-management", "title": "Xamarin Android C# - using Microsoft.SqlServer.Management", "body": "<p>I'm working on <strong>Android App</strong> in <strong>Xamarin</strong> with <strong>C#</strong> code.</p>\n\n<p>I have a <strong>library dll</strong> created by me that I'm using has an reference in the <strong>AndroidApp</strong>.</p>\n\n<p>But I have a problem with one file.</p>\n\n<p>It includes this:</p>\n\n<pre><code>using Microsoft.SqlServer.Management.Smo;\nusing Microsoft.SqlServer.Management.Common;\n</code></pre>\n\n<p>This works fine in the original library, but using it has reference in my AndroidApp project makes app crash while is loaded, it opens but right after it crashes and without the file that includes this two references it works fine.</p>\n\n<p>I know it because I've commented the code that uses this references and then works fine.</p>\n\n<p>The output doesn't show any information about this error</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 21874, "user_id": 526704, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/UJEcq.jpg?s=128&g=1", "display_name": "DLeh", "link": "https://stackoverflow.com/users/526704/dleh"}, "edited": false, "score": 2, "creation_date": 1520439578, "post_id": 49156605, "comment_id": 85317938, "body": "how big is the string?"}, {"owner": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 0, "creation_date": 1520439616, "post_id": 49156605, "comment_id": 85317973, "body": "It&#39;s not the number of records that effect this it&#39;s the size of the string. The only way you could make it more efficient for multiple strings would be threading, i.e. <code>Parrellel.ForEach</code>"}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "reply_to_user": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 0, "creation_date": 1520439642, "post_id": 49156605, "comment_id": 85317991, "body": "@Liam Where is this &quot;huge string&quot;? I don&#39;t see one in the question."}, {"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 1, "creation_date": 1520439645, "post_id": 49156605, "comment_id": 85317994, "body": "How many elements are there in the input array? Can you modify the input array in place instead of creating a new one?"}, {"owner": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "edited": false, "score": 0, "creation_date": 1520439687, "post_id": 49156605, "comment_id": 85318020, "body": "What exactly is the data in <code>to</code>? Is each element a single GUID or are they massive strings that have guids somewhere in them or something else entirely?"}, {"owner": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "reply_to_user": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1520439693, "post_id": 49156605, "comment_id": 85318027, "body": "what point are you trying to make here @spender?"}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "reply_to_user": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 2, "creation_date": 1520439741, "post_id": 49156605, "comment_id": 85318062, "body": "@Liam My point is that the OP has a large array of small strings."}, {"owner": {"reputation": 35626, "user_id": 224370, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CPH4K.jpg?s=128&g=1", "display_name": "Ian Mercer", "link": "https://stackoverflow.com/users/224370/ian-mercer"}, "edited": false, "score": 3, "creation_date": 1520439892, "post_id": 49156605, "comment_id": 85318165, "body": "Have you tried a simple foreach loop modifying the array elements <i>in-place</i> instead of creating another large array?"}, {"owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1520440745, "post_id": 49156605, "comment_id": 85318723, "body": "How large is the list of replacements you need to perform? Is it always replacing multiple guids to the same guid?"}, {"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "edited": false, "score": 2, "creation_date": 1520441256, "post_id": 49156605, "comment_id": 85319072, "body": "How positive are you that this is the code leading to your OutOfMemoryException? I&#39;m able to run your code with a million copies of your sample input, in a 32-bit .NET environment without any problems."}, {"owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1520442398, "post_id": 49156605, "comment_id": 85319839, "body": "I re-read the question, what is the occupied memory BEFORE this method is executed and after?"}], "answers": [{"tags": [], "owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "is_accepted": false, "score": 0, "last_activity_date": 1520441948, "last_edit_date": 1520441948, "creation_date": 1520439949, "answer_id": 49156764, "question_id": 49156605, "link": "https://stackoverflow.com/questions/49156605/replacing-strings-in-a-string-array-efficiently/49156764#49156764", "title": "Replacing strings in a string array efficiently", "body": "<p>I'd do this in a single sweep by using a regex to extract fields, then a dictionary of replacements to apply the change, then to reconstitute the string:</p>\n\n<pre><code>IDictionary&lt;string, string&gt; replacements = new Dictionary&lt;string, string&gt;\n{\n    {\"76cd4297-1e31-dc11-95d8-0019bb2ca0a0\",\"something else\"},\n    //etc\n};\nvar newData = data\n    //.AsParallel() //for speed\n    .Select(d =&gt; Regex.Match(d, @\"^(?&lt;f1&gt;[^\\|]*)\\|(?&lt;f2&gt;[^;]*);(?&lt;f3&gt;[^\\|]*)\\|(?&lt;f4&gt;.*)$\"))\n    .Where(m =&gt; m.Success)\n    .Select(m =&gt; new\n    {\n        field1 = m.Groups[\"f1\"].Value,\n        field2 = m.Groups[\"f2\"].Value,\n        field3 = m.Groups[\"f3\"].Value,\n        field4 = m.Groups[\"f4\"].Value\n    })\n    .Select(x =&gt; new\n    {\n        x.field1,\n        field2 = replacements.TryGetValue(x.field2, out string r2) ? r2 : x.field2,\n        x.field3,\n        field4 = replacements.TryGetValue(x.field4, out string r4) ? r4 : x.field4\n    })\n    .Select(x =&gt; $\"{x.field1}|{x.field2};{x.field3}|{x.field4}\")\n    .ToArray();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 2, "creation_date": 1520441066, "post_id": 49156940, "comment_id": 85318936, "body": "This puts all the <code>to[]</code> records in one big string. The Replace() calls will be much slower."}, {"owner": {"reputation": 1043, "user_id": 904380, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/288b08ade0d4baafff21b1bb3093a07d?s=128&d=identicon&r=PG", "display_name": "Sampath", "link": "https://stackoverflow.com/users/904380/sampath"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1520441378, "post_id": 49156940, "comment_id": 85319141, "body": "@HenkHolterman But I think still it faster than multiple string.Replace() calls."}], "tags": [], "owner": {"reputation": 1043, "user_id": 904380, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/288b08ade0d4baafff21b1bb3093a07d?s=128&d=identicon&r=PG", "display_name": "Sampath", "link": "https://stackoverflow.com/users/904380/sampath"}, "is_accepted": false, "score": -1, "last_activity_date": 1520440476, "creation_date": 1520440476, "answer_id": 49156940, "question_id": 49156605, "link": "https://stackoverflow.com/questions/49156605/replacing-strings-in-a-string-array-efficiently/49156940#49156940", "title": "Replacing strings in a string array efficiently", "body": "<p>Have you tested with StringBuilder?</p>\n\n<pre><code>StringBuilder sb = new StringBuilder(string.Join(\",\", this.to));\n\n      string tempStr = sb\n            .Replace(\"e77f75b7-2373-dc11-8f13-0019bb2ca0a0\", \"1fe8f3f6-fe17-e811-80d8-00155d5ce473\")\n            .Replace(\"fbd0c892-2373-dc11-8f13-0019bb2ca0a0\", \"1fe8f3f6-fe17-e811-80d8-00155d5ce473\")\n            .Replace(\"76cd4297-1e31-dc11-95d8-0019bb2ca0a0\", \"eb892fb0-fe17-e811-80d8-00155d5ce473\")\n            .Replace(\"cd42bb68-2073-dc11-8f13-0019bb2ca0a0\", \"dc6077e2-fe17-e811-80d8-00155d5ce473\")\n            .Replace(\"96b97150-cd45-e111-a3d5-00155d10010f\", \"1fe8f3f6-fe17-e811-80d8-00155d5ce473\")\n            .ToString();\n\n      var newArray = tempStr.Split(',');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 1, "creation_date": 1520441262, "post_id": 49156958, "comment_id": 85319074, "body": "In order to apply this solution, you need to do extra parsing. according to OP&#39;s row format."}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "reply_to_user": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1520441614, "post_id": 49156958, "comment_id": 85319287, "body": "Thanks @AlexandruClon\u021bea - that was edited in after the fact. Will see how to adapt this."}, {"owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 1, "creation_date": 1520445958, "post_id": 49156958, "comment_id": 85321945, "body": "Upvoting.  I wonder if Regex.Replace(&quot;a|b|c|d|e&quot;, &quot;newVal&quot;) would be less iterations. I know regex.Replace is slower for the same number of steps... I just wonder if performance would be better because of the fewer overall &quot;perceived&quot; iterations. Also, I wonder why OP is getting OOM"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "reply_to_user": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 0, "creation_date": 1520446231, "post_id": 49156958, "comment_id": 85322112, "body": "@AlexandruClon\u021bea I only replace once for each existing key - courtesty of the linq-where before it. Regex.Replace with or&#39;ed conditions would probably not work, as each guid is repleaced by something different, so you would have to use multiple single replaces as well. The Linq to get if a key is in the string could be still apllied, but then you test string.Replace() vs. regex.Replace - I like regex but sometimes its easier to just use the inbuilt ones. Regex replace also would have to deal with it, if 2 guids in the same line should be replaced so you ned another loop - makes it less easy."}, {"owner": {"reputation": 1161, "user_id": 8695782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4yVb.jpg?s=128&g=1", "display_name": "Alexandru Clon\u021bea", "link": "https://stackoverflow.com/users/8695782/alexandru-clon%c8%9bea"}, "edited": false, "score": 1, "creation_date": 1520446325, "post_id": 49156958, "comment_id": 85322181, "body": "It just seemed to me from OP&#39;s sample that the target guid is the same. I imagine it might represent something like group membership business-wide.... (i.e &quot;I want this to be the new ... something for these&quot; is the actual business need, the &quot;transaction&quot;) That&#39;s why I said maybe just one would work"}], "tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": true, "score": 3, "last_activity_date": 1520445415, "last_edit_date": 1520445415, "creation_date": 1520440518, "answer_id": 49156958, "question_id": 49156605, "link": "https://stackoverflow.com/questions/49156605/replacing-strings-in-a-string-array-efficiently/49156958#49156958", "title": "Replacing strings in a string array efficiently", "body": "<p>I would use a replacement dictionary - its easier to maintain and easier to understand (I think) so its easier all the way:  </p>\n\n<p><strong>Boilerplate and create demo data / replace dict:</strong> </p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Data;\nusing System.Linq;\n\ninternal class Program\n{\n    static void Main(string[] args)\n    {\n        // c#7 inline func\n        string[] CreateDemoData(Dictionary&lt;string, string&gt; replDict)\n        {\n            // c#7 inline func\n            string FilText(string s) =&gt; $\"Some text| that also incudes; {s} and more.\";\n\n            return Enumerable\n                .Range(1, 5)\n                .Select(i =&gt; FilText(Guid.NewGuid().ToString()))\n                .Concat(replDict.Keys.Select(k =&gt; FilText(k)))\n                .OrderBy(t =&gt; Guid.NewGuid().GetHashCode())\n                .ToArray();\n        }\n\n        // replacement dict\n        var d = new Dictionary&lt;string, string&gt;\n        {\n            [\"e77f75b7-2373-dc11-8f13-0019bb2ca0a0\"] = \"e77f75b7-replaced\",\n            [\"fbd0c892-2373-dc11-8f13-0019bb2ca0a0\"] = \"fbd0c892-replaced\",\n            [\"76cd4297-1e31-dc11-95d8-0019bb2ca0a0\"] = \"76cd4297-replaced\",\n            [\"cd42bb68-2073-dc11-8f13-0019bb2ca0a0\"] = \"cd42bb68-replaced\",\n            [\"96b97150-cd45-e111-a3d5-00155d10010f\"] = \"96b97150-replaced\",\n        };\n\n        var arr = CreateDemoData(d);\n</code></pre>\n\n<p><strong>Code that creates the actual replaced array:</strong></p>\n\n<pre><code>        // c#7 inline func\n        string Replace(string a, Dictionary&lt;string, string&gt; dic)\n        {\n            foreach (var key in dic.Keys.Where(k =&gt; a.Contains(k)))\n                a = a.Replace(key, dic[key]);\n\n            return a;\n        }\n\n        // select value from dict in key in dict else leave unmodified            \n        var b = arr.Select(a =&gt; Replace(a, d));\n        // if you have really that much data (20k guids of ~50byte length\n        // is not really much imho) you can use the same approach for in\n        // place replacement - just foreach over your array.\n</code></pre>\n\n<p><strong>Output code:</strong></p>\n\n<pre><code>        Console.WriteLine(\"\\nBefore:\");\n        foreach (var s in arr)\n            Console.WriteLine(s);\n\n        Console.WriteLine(\"\\nAfter:\");\n        foreach (var s in b)\n            Console.WriteLine(s);\n\n        Console.ReadLine(); \n    }\n}\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>Before:\nSome text| that also incudes; a5ceefd8-1388-47cd-b69e-55b6ddbbc133 and more.\nSome text| that also incudes; 76cd4297-1e31-dc11-95d8-0019bb2ca0a0 and more.\nSome text| that also incudes; 3311a8c5-015e-4260-af80-86b20b277234 and more.\nSome text| that also incudes; ed10c79c-dad6-4c88-865c-4d7624945d66 and more.\nSome text| that also incudes; 96b97150-cd45-e111-a3d5-00155d10010f and more.\nSome text| that also incudes; 0226d9b1-c5f0-41fb-9294-bc9297e8afd9 and more.\nSome text| that also incudes; e77f75b7-2373-dc11-8f13-0019bb2ca0a0 and more.\nSome text| that also incudes; a04d1e34-e7bc-4bbc-ae0e-12ec846a353c and more.\nSome text| that also incudes; cd42bb68-2073-dc11-8f13-0019bb2ca0a0 and more.\nSome text| that also incudes; fbd0c892-2373-dc11-8f13-0019bb2ca0a0 and more.\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>After:\nSome text| that also incudes; a5ceefd8-1388-47cd-b69e-55b6ddbbc133 and more.\nSome text| that also incudes; 76cd4297-replaced and more.\nSome text| that also incudes; 3311a8c5-015e-4260-af80-86b20b277234 and more.\nSome text| that also incudes; ed10c79c-dad6-4c88-865c-4d7624945d66 and more.\nSome text| that also incudes; 96b97150-replaced and more.\nSome text| that also incudes; 0226d9b1-c5f0-41fb-9294-bc9297e8afd9 and more.\nSome text| that also incudes; e77f75b7-replaced and more.\nSome text| that also incudes; a04d1e34-e7bc-4bbc-ae0e-12ec846a353c and more.\nSome text| that also incudes; cd42bb68-replaced and more.\nSome text| that also incudes; fbd0c892-replaced and more.\n</code></pre>\n"}], "owner": {"reputation": 1013, "user_id": 1298114, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ad552e1f69775c4696b9b4a859c58888?s=128&d=identicon&r=PG", "display_name": "creatiive", "link": "https://stackoverflow.com/users/1298114/creatiive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 49156958, "answer_count": 3, "score": 0, "last_activity_date": 1520445415, "creation_date": 1520439461, "last_edit_date": 1520440280, "question_id": 49156605, "link": "https://stackoverflow.com/questions/49156605/replacing-strings-in-a-string-array-efficiently", "title": "Replacing strings in a string array efficiently", "body": "<p>I have a string array full of guids.  I am trying to replace certain guids with different guids. My approach is below;</p>\n\n<pre><code>var newArray = this.to.Select(s =&gt; s.Replace(\"e77f75b7-2373-dc11-8f13-0019bb2ca0a0\", \"1fe8f3f6-fe17-e811-80d8-00155d5ce473\")\n    .Replace(\"fbd0c892-2373-dc11-8f13-0019bb2ca0a0\", \"1fe8f3f6-fe17-e811-80d8-00155d5ce473\")\n    .Replace(\"76cd4297-1e31-dc11-95d8-0019bb2ca0a0\", \"eb892fb0-fe17-e811-80d8-00155d5ce473\")\n    .Replace(\"cd42bb68-2073-dc11-8f13-0019bb2ca0a0\", \"dc6077e2-fe17-e811-80d8-00155d5ce473\")\n    .Replace(\"96b97150-cd45-e111-a3d5-00155d10010f\", \"1fe8f3f6-fe17-e811-80d8-00155d5ce473\")\n    ).ToArray();\n</code></pre>\n\n<p>I have a few fields I am doing this for and it is leading to an OutOfMemoryException.  Is it because the Replace() method is creating a new array every time?  Is there a more efficient way to do this with an array of strings? This method is running for tens of thousands of records and so I think this is the issue.  When I comment these lines out then i do not get the exception.</p>\n\n<p>EDIT:  The data in the 'to' variable is a short string in each case, but this is run for thousands of records.  So 'to' might look like this for one record;</p>\n\n<pre><code>\"systemuser|76cd4297-1e31-dc11-95d8-0019bb2ca0a0;contact|96b97150-cd45-e111-a3d5-00155d10010f\"\n</code></pre>\n\n<p>It might have any of the guids I want to replace in it, so even though it might only have one guid in for that record, I need to run the full set of replaces() just in case it has any of them in it.</p>\n\n<p>Any pointers would be great! Thanks.</p>\n"}]