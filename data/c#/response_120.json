[{"tags": ["c#", "cil", "reflection.emit", "dynamicmethod"], "comments": [{"owner": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "edited": false, "score": 0, "creation_date": 1494067179, "post_id": 43646430, "comment_id": 74677350, "body": "Confirmed that neither <code>stfld</code> nor <code>ldflda</code> work in this case. Are you open to more &quot;hackish&quot; approaches? By the way, <code>readonly</code> fields may be cached in the application, which means that the value you set may not be immediately visible."}, {"owner": {"reputation": 1546, "user_id": 635314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23a36fa0bc0cf5a7acd594c6bd1e2716?s=128&d=identicon&r=PG", "display_name": "Reuben Bond", "link": "https://stackoverflow.com/users/635314/reuben-bond"}, "reply_to_user": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "edited": false, "score": 0, "creation_date": 1494115316, "post_id": 43646430, "comment_id": 74690875, "body": "I&#39;m open to any kind of approach. This is for deserialization &amp; deep-copying, so the object has just been constructed and no external code will have a chance to cache the value."}, {"owner": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "edited": false, "score": 0, "creation_date": 1494439901, "post_id": 43646430, "comment_id": 74833575, "body": "Please send feedback if my solution works."}, {"owner": {"reputation": 1546, "user_id": 635314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23a36fa0bc0cf5a7acd594c6bd1e2716?s=128&d=identicon&r=PG", "display_name": "Reuben Bond", "link": "https://stackoverflow.com/users/635314/reuben-bond"}, "reply_to_user": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "edited": false, "score": 0, "creation_date": 1494453151, "post_id": 43646430, "comment_id": 74840541, "body": "Will do, and thank you @IllidanS4 :) Is SharpUtils available as a NuGet package? I couldn&#39;t find it"}, {"owner": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "edited": false, "score": 0, "creation_date": 1494458080, "post_id": 43646430, "comment_id": 74842125, "body": "Sadly, no, but you can copy the relevant methods to your code. <i>FromMethodInfo</i> is just a shorthand to obtain the return type and parameter types of the method, and <i>NewCustomDelegateType</i> is a call to internal .NET methods."}], "answers": [{"comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1493271949, "post_id": 43647251, "comment_id": 74346887, "body": "I&#39;d also suggest removing non-English documentation, and empty doc comments."}, {"owner": {"reputation": 11, "user_id": 7928434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d1cb8d7e938c7168226c9a0460db857?s=128&d=identicon&r=PG&f=1", "display_name": "liubiaoyong", "link": "https://stackoverflow.com/users/7928434/liubiaoyong"}, "reply_to_user": {"reputation": 812, "user_id": 2809449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef1c1cd381b8be336e6749dbf1c6a765?s=128&d=identicon&r=PG&f=1", "display_name": "Aimee Borda", "link": "https://stackoverflow.com/users/2809449/aimee-borda"}, "edited": false, "score": 0, "creation_date": 1493293422, "post_id": 43647251, "comment_id": 74360757, "body": "@Aimee Borada,  sorry, the code can not work while the field is readonly."}], "tags": [], "owner": {"reputation": 11, "user_id": 7928434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d1cb8d7e938c7168226c9a0460db857?s=128&d=identicon&r=PG&f=1", "display_name": "liubiaoyong", "link": "https://stackoverflow.com/users/7928434/liubiaoyong"}, "is_accepted": false, "score": 0, "last_activity_date": 1493289864, "last_edit_date": 1493289864, "creation_date": 1493257198, "answer_id": 43647251, "question_id": 43646430, "link": "https://stackoverflow.com/questions/43646430/creating-a-dynamicmethod-to-set-a-readonly-field-on-any-type/43647251#43647251", "title": "Creating a DynamicMethod to set a readonly field on any type", "body": "<p>I have some exits code may be help you. </p>\n\n<pre><code>/// &lt;summary&gt;\n    /// create a getter delegate for a static field.\n    /// &lt;/summary&gt;\n    /// &lt;typeparam name=\"TField\"&gt;&lt;/typeparam&gt;\n    /// &lt;param name=\"staticType\"&gt;the type that contains the field. &lt;/param&gt;\n    /// &lt;param name=\"fieldName\"&gt;the field that you want to get the value.&lt;/param&gt;\n    /// &lt;returns&gt;the getter delegate.&lt;/returns&gt;\n    public static Func&lt;TField&gt; CreateStaticFieldGetter&lt;TField&gt;(Type staticType, string fieldName)\n    {\n        var fieldInfo = staticType.GetField(fieldName, BindingFlags.NonPublic | BindingFlags.Static);\n        var body = Expression.Field(null, fieldInfo);\n        Expression&lt;Func&lt;TField&gt;&gt; lambda = Expression.Lambda&lt;Func&lt;TField&gt;&gt;(body);\n        return lambda.Compile();\n    }\n\n\n    public static Action&lt;TField&gt; CreateStaticFieldSetter&lt;TField&gt;(Type staticType, string fieldName)\n    {\n        ParameterExpression p1 = Expression.Parameter(typeof(TField), \"p1\");\n        var fieldInfo = staticType.GetField(fieldName, BindingFlags.NonPublic | BindingFlags.Static);\n        var leftExpr = Expression.Field(null, fieldInfo);\n        var body = Expression.Assign(leftExpr, p1);\n        Expression&lt;Action&lt;TField&gt;&gt; lambda = Expression.Lambda&lt;Action&lt;TField&gt;&gt;(body, p1);\n        return lambda.Compile();\n    }\n\n\n\n    public static Func&lt;TTarget, TField&gt; CreateInstanceFieldGetter&lt;TTarget, TField&gt;(string fieldName)\n    {\n        ParameterExpression p1 = Expression.Parameter(typeof(TTarget), \"p1\");\n        var fieldInfo = typeof(TTarget).GetField(fieldName, BindingFlags.NonPublic | BindingFlags.Instance);\n        var body = Expression.Field(Expression.Convert(p1, typeof(TTarget)), fieldInfo);\n        Expression&lt;Func&lt;TTarget, TField&gt;&gt; lambda = Expression.Lambda&lt;Func&lt;TTarget, TField&gt;&gt;(body, p1);\n        return lambda.Compile();\n    }\n\n\n\n    public static Action&lt;TTarget, TProperty&gt; CreateInstanceFieldSetter&lt;TTarget, TProperty&gt;(string filedName)\n    {\n        ParameterExpression p1 = Expression.Parameter(typeof(TTarget), \"p1\");\n        ParameterExpression p2 = Expression.Parameter(typeof(TProperty), \"p2\");\n\n        var member = typeof(TTarget).GetField(filedName, BindingFlags.NonPublic | BindingFlags.Instance);\n        var m1 = Expression.MakeMemberAccess(Expression.Convert(p1, typeof(TTarget)), member);\n        BinaryExpression body = Expression.Assign(m1, p2);\n\n        Expression&lt;Action&lt;TTarget, TProperty&gt;&gt; lambda = Expression.Lambda&lt;Action&lt;TTarget, TProperty&gt;&gt;(body, p1, p2);\n        return lambda.Compile();\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9718, "user_id": 1424244, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d8d370542399af1afe3202ed1fc1ab88?s=128&d=identicon&r=PG", "display_name": "IS4", "link": "https://stackoverflow.com/users/1424244/is4"}, "is_accepted": false, "score": 1, "last_activity_date": 1494070947, "creation_date": 1494070947, "answer_id": 43820029, "question_id": 43646430, "link": "https://stackoverflow.com/questions/43646430/creating-a-dynamicmethod-to-set-a-readonly-field-on-any-type/43820029#43820029", "title": "Creating a DynamicMethod to set a readonly field on any type", "body": "<p>Dynamic methods are quite limited in modifying their security. I suspect using an <em>AssemblyBuilder</em> instead may bypass the security checks, but I haven't tried that.</p>\n\n<p>Instead, what <em>may</em> be able to achieve this is using other methods that access fields, in the <em>TypedReference</em> type.</p>\n\n<pre><code>public static unsafe void SetValue&lt;T&gt;(object inst, FieldInfo fi, T val)\n{\n    var mi = typeof(TypedReference).GetMethod(\"InternalMakeTypedReference\", BindingFlags.NonPublic | BindingFlags.Static);\n    var sig = MethodSignature.FromMethodInfo(mi);\n    var del = ReflectionTools.NewCustomDelegateType(sig.ReturnType, sig.ParameterTypes);\n    var inv = mi.CreateDelegate(del);\n    TypedReference tr;\n    var ptr = Pointer.Box(&amp;tr, typeof(void*));\n    inv.DynamicInvoke(ptr, inst, new[]{fi.FieldHandle.Value}, fi.FieldType);\n    __refvalue(tr, T) = val;\n}\n</code></pre>\n\n<p><em>FromMethodInfo</em> and <em>NewCustomDelegateType</em> are from <em><a href=\"https://github.com/IllidanS4/SharpUtils\" rel=\"nofollow noreferrer\">SharpUtils</a></em> and are required to invoke <em>InternalMakeTypedReference</em>, which is able to obtain a reference to any field. Its signature looks like this:</p>\n\n<pre><code>private unsafe static extern void InternalMakeTypedReference(void* result, object target, IntPtr[] flds, RuntimeType lastFieldType);\n</code></pre>\n\n<p>You can replace the library methods with your own, they are needed just to build the appropriate delegate type (<em>Action</em> cannot be used due to the pointer). You cannot create the delegate type directly because of the internal <em>RuntimeType</em>. Surprisingly, <em>DynamicInvoke</em> works on the delegate, and the type reference is created.</p>\n\n<p>However, to use this voodoo, I had to lower the security checks in the assembly a bit, so I am not sure if it also works in your assembly system:</p>\n\n<pre><code>[assembly: System.Security.SecurityRules(System.Security.SecurityRuleSet.Level1, SkipVerificationInFullTrust=true)]\n</code></pre>\n\n<p>Also please note that this code uses quite a number of undocumented features, and may stop working at any time. Use only at your own risk.</p>\n"}], "owner": {"reputation": 1546, "user_id": 635314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23a36fa0bc0cf5a7acd594c6bd1e2716?s=128&d=identicon&r=PG", "display_name": "Reuben Bond", "link": "https://stackoverflow.com/users/635314/reuben-bond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 582, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1494070947, "creation_date": 1493250977, "question_id": 43646430, "link": "https://stackoverflow.com/questions/43646430/creating-a-dynamicmethod-to-set-a-readonly-field-on-any-type", "title": "Creating a DynamicMethod to set a readonly field on any type", "body": "<p>My aim is to create a delegate at runtime which can set any field (including <code>readonly</code>) in any reference type to a user-specified value. Unfortunately, my current implementation throws a <code>VerificationException</code> at runtime when the assemblies containing the types specify the <code>[AllowPartiallyTrustedCallers]</code> attribute.</p>\n\n<p><code>AssemblyOne</code>:\n</p>\n\n<pre><code>[assembly: AllowPartiallyTrustedCallers]\npublic class TypeOne\n{\n    public TypeOne(TypeTwo typeTwoField)\n    {\n        this.TypeTwoField = typeTwoField;\n    }\n\n    public TypeTwo TypeTwoField { get; }\n}\n</code></pre>\n\n<p><code>AssemblyTwo</code>:\n</p>\n\n<pre><code>[assembly: AllowPartiallyTrustedCallers]\npublic class TypeTwo\n{\n    public TypeTwo(int i)\n    {\n        this.Int = i;\n    }\n\n    public int Int { get; }\n}\n</code></pre>\n\n<p><code>Main</code>:\n</p>\n\n<pre><code>using System;\nusing System.Reflection;\nusing System.Reflection.Emit;\nusing AssemblyOne;\nusing AssemblyTwo;\n\nnamespace Main\n{\n    class Program\n    {\n        public class MyType\n        {\n            public MyType(TypeOne typeOneField)\n            {\n                this.TypeOneField = typeOneField;\n            }\n\n            public TypeOne TypeOneField { get; }\n        }\n\n        static void Main(string[] args)\n        {\n            var fieldInfo = typeof(TypeOne)\n                .GetTypeInfo()\n                .GetField(\n                    \"&lt;TypeTwoField&gt;k__BackingField\",\n                    BindingFlags.Instance | BindingFlags.NonPublic |\n                    BindingFlags.Public);\n            var setter = (Action&lt;TypeOne, TypeTwo&gt;) GetReferenceSetter(fieldInfo);\n            var myType = new MyType(new TypeOne(new TypeTwo(1)));\n\n            // Throws VerificationException\n            setter(myType.TypeOneField, new TypeTwo(2));\n        }\n\n        public static Delegate GetReferenceSetter(FieldInfo field)\n        {\n            var delegateType = typeof(Action&lt;,&gt;)\n                .MakeGenericType(field.DeclaringType, field.FieldType);\n\n            var method = new DynamicMethod(\n                field.Name + \"Set\",\n                null,\n                new[] {field.DeclaringType, field.FieldType},\n                field.DeclaringType,\n                skipVisibility: true);\n\n            var emitter = method.GetILGenerator();\n            emitter.Emit(OpCodes.Ldarg_0);\n            emitter.Emit(OpCodes.Ldarg_1);\n            emitter.Emit(OpCodes.Stfld, field);\n            emitter.Emit(OpCodes.Ret);\n\n            return method.CreateDelegate(delegateType);\n        }\n    }\n}\n</code></pre>\n\n<p>So <code>MyType</code> has a <code>TypeOne</code> which has a readonly <code>TypeTwo</code>. In this scenario, the <code>DynamicMethod</code> throws a <code>VerificationException</code> at runtime.</p>\n\n<p>Is it possible to create such a delegate which works for any declaring type + field type which you throw at it? If so, how?</p>\n\n<p>I realize that <code>readonly</code> fields ought never be set after construction, but the purpose of this is for deserialization &amp; deep-copying.</p>\n"}, {"tags": ["c#", "json", "json.net", ".net-core"], "comments": [{"owner": {"reputation": 1201, "user_id": 7809966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/862c13f954da7a79d58c4342b200752a?s=128&d=identicon&r=PG", "display_name": "Austin Winstanley", "link": "https://stackoverflow.com/users/7809966/austin-winstanley"}, "edited": false, "score": 0, "creation_date": 1493251677, "post_id": 43646415, "comment_id": 74341315, "body": "Is that an array? It&#39;s not surrounded by square brackets. Any JSON converter is going to think that is one object. It&#39;s valid JSON, but it seems like an odd result. What is the source?"}, {"owner": {"reputation": 85, "user_id": 4904604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/502f55eac0b40b5848e9fd8dcb62afa6?s=128&d=identicon&r=PG&f=1", "display_name": "jasont20015", "link": "https://stackoverflow.com/users/4904604/jasont20015"}, "reply_to_user": {"reputation": 1201, "user_id": 7809966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/862c13f954da7a79d58c4342b200752a?s=128&d=identicon&r=PG", "display_name": "Austin Winstanley", "link": "https://stackoverflow.com/users/7809966/austin-winstanley"}, "edited": false, "score": 0, "creation_date": 1493254374, "post_id": 43646415, "comment_id": 74341949, "body": "@AustinWinstanley I get the json from <a href=\"https://rsbuddy.com/exchange/names.json\" rel=\"nofollow noreferrer\">here</a> it&#39;s basically a site to collect all the items from a game I play, with the ids, the problem is I need the id&#39;s which is in this case the name of the object, and the name of the items. They have one more api but the other one just contains a little more information, still has ids as object names"}], "answers": [{"tags": [], "owner": {"reputation": 108943, "user_id": 10263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e51Ks.jpg?s=128&g=1", "display_name": "Brian Rogers", "link": "https://stackoverflow.com/users/10263/brian-rogers"}, "is_accepted": true, "score": 15, "last_activity_date": 1493256425, "last_edit_date": 1493256425, "creation_date": 1493255337, "answer_id": 43646973, "question_id": 43646415, "link": "https://stackoverflow.com/questions/43646415/how-can-i-deserialize-a-json-dataset-in-net-core/43646973#43646973", "title": "How can I deserialize a json dataset in .net core", "body": "<p>You can handle this situation by deserializing into a <code>Dictionary&lt;string, T&gt;</code> where <code>T</code> is a class to hold the item data, for example:</p>\n\n<pre><code>public class Item\n{\n    public string Name { get; set; }\n    public int Store { get; set; }\n}\n</code></pre>\n\n<p>Deserialize like this:</p>\n\n<pre><code>var dict = JsonConvert.DeserializeObject&lt;Dictionary&lt;string, Item&gt;&gt;(json);\n</code></pre>\n\n<p>Fiddle: <a href=\"https://dotnetfiddle.net/hf1NPP\" rel=\"noreferrer\">https://dotnetfiddle.net/hf1NPP</a></p>\n"}], "owner": {"reputation": 85, "user_id": 4904604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/502f55eac0b40b5848e9fd8dcb62afa6?s=128&d=identicon&r=PG&f=1", "display_name": "jasont20015", "link": "https://stackoverflow.com/users/4904604/jasont20015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17922, "favorite_count": 3, "accepted_answer_id": 43646973, "answer_count": 1, "score": 7, "last_activity_date": 1493256425, "creation_date": 1493250915, "question_id": 43646415, "link": "https://stackoverflow.com/questions/43646415/how-can-i-deserialize-a-json-dataset-in-net-core", "title": "How can I deserialize a json dataset in .net core", "body": "<p>I'm trying to fetch different items from an api, which returns a json. The problem I'm having is getting the properties from the json since it isn't always the same name. I've deserialized json files before, but they were different from this one. Here's the json I have:</p>\n\n<pre><code>{\"2\": {\"name\": \"Cannonball\", \"store\": 5}, \"6\": {\"name\": \"Cannon base\", \"store\": 187500}, \"12289\": {\"name\": \"Mithril platelegs (t)\", \"store\": 2600}, \"8\": {\"name\": \"Cannon stand\", \"store\": 187500}, \"10\": {\"name\": \"Cannon barrels\", \"store\": 187500}, \"12\": {\"name\": \"Cannon furnace\", \"store\": 187500}}\n</code></pre>\n\n<p>It's actually a little bigger then this, but I can't figure out how to easily deserialize it, since the id doesn't have a real name, on the documentation of newtonsoft.json I saw something about using datasets, I don't know if that'd actually work but I've seen they have been removed. I'd really love to get this working since it's kinda been bothering me for quite some time now.</p>\n\n<p>If there's anyone who knows how to do this, any help would be greatly appreciated.</p>\n"}, {"tags": ["c#", "regex", "string"], "comments": [{"owner": {"reputation": 2812, "user_id": 714151, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/IeorE.jpg?s=128&g=1", "display_name": "MrZander", "link": "https://stackoverflow.com/users/714151/mrzander"}, "edited": false, "score": 0, "creation_date": 1493250702, "post_id": 43646358, "comment_id": 74341060, "body": "Does it have to be a regex?"}, {"owner": {"reputation": 2812, "user_id": 714151, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/IeorE.jpg?s=128&g=1", "display_name": "MrZander", "link": "https://stackoverflow.com/users/714151/mrzander"}, "edited": false, "score": 0, "creation_date": 1493250872, "post_id": 43646358, "comment_id": 74341101, "body": "Also, what does this have to do with Python?"}, {"owner": {"reputation": 1040, "user_id": 914249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UYDb.png?s=128&g=1", "display_name": "Mad Myche", "link": "https://stackoverflow.com/users/914249/mad-myche"}, "edited": false, "score": 0, "creation_date": 1493255600, "post_id": 43646358, "comment_id": 74342263, "body": "Please put actual code and test string into a formatted block, my ancient eyeballs cannot decode the inline gibberish"}, {"owner": {"reputation": 11, "user_id": 4714705, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d28b28808b9fc236acd31085ec1590b9?s=128&d=identicon&r=PG&f=1", "display_name": "Morepork", "link": "https://stackoverflow.com/users/4714705/morepork"}, "edited": false, "score": 0, "creation_date": 1493266319, "post_id": 43646358, "comment_id": 74345052, "body": "@Mr, Zander: Yes, it needs to be a Regex. As a Programmer, I COULD write my own solution and do the process myself, but I don&#39;t see any point in re-inventing the wheel, and I would like to learn more, so I would be interested to see what a Regex-experienced person can come up with. The Python tag was added because I was told that python and C# are very similar and someone in the Python community might be knowledgeable."}, {"owner": {"reputation": 11, "user_id": 4714705, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d28b28808b9fc236acd31085ec1590b9?s=128&d=identicon&r=PG&f=1", "display_name": "Morepork", "link": "https://stackoverflow.com/users/4714705/morepork"}, "reply_to_user": {"reputation": 1040, "user_id": 914249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UYDb.png?s=128&g=1", "display_name": "Mad Myche", "link": "https://stackoverflow.com/users/914249/mad-myche"}, "edited": false, "score": 0, "creation_date": 1493266718, "post_id": 43646358, "comment_id": 74345166, "body": "@Mad Myche: here is code:  OUTFile = Regex.Replace(OUTFile, matchstring, fixstr, RegexOptions.IgnoreCase);"}, {"owner": {"reputation": 11, "user_id": 4714705, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d28b28808b9fc236acd31085ec1590b9?s=128&d=identicon&r=PG&f=1", "display_name": "Morepork", "link": "https://stackoverflow.com/users/4714705/morepork"}, "reply_to_user": {"reputation": 1040, "user_id": 914249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UYDb.png?s=128&g=1", "display_name": "Mad Myche", "link": "https://stackoverflow.com/users/914249/mad-myche"}, "edited": false, "score": 0, "creation_date": 1493267562, "post_id": 43646358, "comment_id": 74345371, "body": "@Mad Myche: here is code:                      &#39;{                         //sample string...                         string OUTFILE = &quot;link-xxx link-aaa-sss link-xxx-bbb link-xxx link-xxx.&quot;;                         string matchstring = &quot;link-xxx&quot; + &quot;[ |\\\\.]&quot;;                          // current Regex...                         OUTFile = Regex.Replace(OUTFile, matchstring, &quot;link_xxx&quot;, RegexOptions.IgnoreCase);                      }&#39; ;     (Sorry, I can&#39;t get this editor to format it any better...)"}, {"owner": {"reputation": 2812, "user_id": 714151, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/IeorE.jpg?s=128&g=1", "display_name": "MrZander", "link": "https://stackoverflow.com/users/714151/mrzander"}, "edited": false, "score": 0, "creation_date": 1493308476, "post_id": 43646358, "comment_id": 74372010, "body": "@Morepork edit your original post and add the code there."}, {"owner": {"reputation": 2812, "user_id": 714151, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/IeorE.jpg?s=128&g=1", "display_name": "MrZander", "link": "https://stackoverflow.com/users/714151/mrzander"}, "edited": false, "score": 0, "creation_date": 1493309071, "post_id": 43646358, "comment_id": 74372398, "body": "I guess if you want to learn regex, then fine. But a non-regex solution is pretty trivial, and definitely not &quot;re-inventing the wheel&quot;. Here is a pretty simple solution with LINQ: <code>string.Join(&quot; &quot;, input.Split(&#39; &#39;).Select(f =&gt; f == &quot;link-xxx&quot; ? &quot;link_xxx&quot; : f));</code>"}, {"owner": {"reputation": 11, "user_id": 4714705, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d28b28808b9fc236acd31085ec1590b9?s=128&d=identicon&r=PG&f=1", "display_name": "Morepork", "link": "https://stackoverflow.com/users/4714705/morepork"}, "reply_to_user": {"reputation": 2812, "user_id": 714151, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/IeorE.jpg?s=128&g=1", "display_name": "MrZander", "link": "https://stackoverflow.com/users/714151/mrzander"}, "edited": false, "score": 0, "creation_date": 1493342580, "post_id": 43646358, "comment_id": 74387625, "body": "@MrZander:  Thanks for the editing advice. I use LINQ all the time but I don&#39;t see it as approriate here. Everything is relative; It would take me 20 minutes to analyze your LINQ statement (Join? Split? why?...) , but for you, it is a &quot;simple solution&quot;. Fair enough. Joshua&#39;s solution took me 2 minutes to analyze, was explained simply and clearly as I requested, and has added to my store of regex knowledge. Nevertheless, I appreciate your response. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4714705, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d28b28808b9fc236acd31085ec1590b9?s=128&d=identicon&r=PG&f=1", "display_name": "Morepork", "link": "https://stackoverflow.com/users/4714705/morepork"}, "edited": false, "score": 0, "creation_date": 1493331214, "post_id": 43648804, "comment_id": 74384385, "body": "Thank you so much. This is exactly the elegance I was looking for and I have improved my knowledge of regexes. Really appreciate your trouble. Thanks again. I&#39;m not sure how to mark this as an answer but I&#39;ll certainly try and upvote your respsonse."}, {"owner": {"reputation": 11, "user_id": 4714705, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d28b28808b9fc236acd31085ec1590b9?s=128&d=identicon&r=PG&f=1", "display_name": "Morepork", "link": "https://stackoverflow.com/users/4714705/morepork"}, "edited": false, "score": 0, "creation_date": 1493332072, "post_id": 43648804, "comment_id": 74384652, "body": "(OK, managed to figure out upvote and marking as answer but I don&#39;t have enough points to be able to upvote you. Thanks again; it is a really nice solution"}], "tags": [], "owner": {"reputation": 606, "user_id": 1831350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d2373dc9cc496b033af909beb21c2e9?s=128&d=identicon&r=PG", "display_name": "Joshua Webb", "link": "https://stackoverflow.com/users/1831350/joshua-webb"}, "is_accepted": true, "score": 0, "last_activity_date": 1493268197, "creation_date": 1493268197, "answer_id": 43648804, "question_id": 43646358, "link": "https://stackoverflow.com/questions/43646358/prevent-regex-from-devouring-optional-part-of-the-match/43648804#43648804", "title": "Prevent Regex from devouring optional part of the match", "body": "<p>You should be able to achieve the behavior you want with \"capture groups\"</p>\n\n<pre><code>var matchstring = @\"link-xxx([ \\.]|$)\";\nvar fixstr = @\"link_xxx$1\";\n</code></pre>\n\n<p>The parenthesis around the last part of the <code>matchstring</code> will retain whatever matched inside it, and the <code>$1</code> in the <code>fixstr</code> will substitute whatever was captured by that group.</p>\n\n<p>I've also modified your punctuation section a little bit, presuming you want to replace a match if it happens to be the last word in the input (by adding the <code>|$</code>). A <code>|</code> inside a character class <code>[]</code> is a literal <code>|</code> character, so I removed it assuming you don't actually expect that in your input.</p>\n"}], "owner": {"reputation": 11, "user_id": 4714705, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d28b28808b9fc236acd31085ec1590b9?s=128&d=identicon&r=PG&f=1", "display_name": "Morepork", "link": "https://stackoverflow.com/users/4714705/morepork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 43648804, "answer_count": 1, "score": 0, "last_activity_date": 1493308411, "creation_date": 1493250496, "last_edit_date": 1493308411, "question_id": 43646358, "link": "https://stackoverflow.com/questions/43646358/prevent-regex-from-devouring-optional-part-of-the-match", "title": "Prevent Regex from devouring optional part of the match", "body": "<p>I'v searched extensively but I can't find a simple answer to this and my Regex experience is limited. I'd appreciate a simple solution that is explained, please.</p>\n\n<p>I have a very large string and I need to substitute certain words in it as follows:</p>\n\n<p>Example: wherever you find the string \"LINK-ABC\" make it \"LINK_ABC\". </p>\n\n<p>I wrote my Regex Match and Replace strings:\n<code>@\"LINK-ABC\", @\"LINK_ABC\"</code> and it worked.</p>\n\n<p>But there were a couple of things I had not recognized. \nThere COULD be words in the file like this:</p>\n\n<blockquote>\n  <p>LINK-ABC-DEF  LINK-ABC-GHI-JKL ... and so on.</p>\n</blockquote>\n\n<p>So I get \"LINK_ABC-DEF\"  etc. (which is NOT what I want; this should have remained intact...)</p>\n\n<p>Once I realized the problem it seemed that what I REALLY wanted was to recognize ONLY the word being matched and leave any cases where it was in combination with something else, unchanged. It seemed to me that if I checked for a space or period on the Match word, that should do it, so...</p>\n\n<pre><code>@\"LINK-ABC[ |\\\\.]\",@\"LINK_ABC\"\n</code></pre>\n\n<p>... and now I have stumbled. </p>\n\n<p>Sample string:</p>\n\n<blockquote>\n  <p>link-xxx link-aaa-sss link-xxx-bbb link-xxx link-xxx.</p>\n</blockquote>\n\n<p>Match/Replace string:</p>\n\n<pre><code>link-xxx[ |\\\\.],link_xxx\n</code></pre>\n\n<p>Result string:</p>\n\n<blockquote>\n  <p>link_xxxlink-aaa-sss link-xxx-bbb link_xxxlink_xxx</p>\n</blockquote>\n\n<p>The replacements are correct, BUT the trailing comma or period has been \"devoured\" and so the result string is wrong.</p>\n\n<p>Is there a way that I can match so that if it matches on space, the replacement will have a space and if it matches on a period, the replacement will have a period? I s'pose I could do 2 separate matches but I'd like to increase my understanding of Regex and do it more elegantly if it is possible.</p>\n"}, {"tags": ["c#", "asp.net-core", "async-await"], "answers": [{"comments": [{"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1493466514, "post_id": 43693926, "comment_id": 74435560, "body": "If the request-abort CT is coming in v2, what does the CT (the one passed to controller methods) do today?"}, {"owner": {"reputation": 32660, "user_id": 45091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d6161f7a9eaf37fa9df33b656d870b7?s=128&d=identicon&r=PG", "display_name": "davidfowl", "link": "https://stackoverflow.com/users/45091/davidfowl"}, "reply_to_user": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 1, "creation_date": 1493487895, "post_id": 43693926, "comment_id": 74442261, "body": "It gets trigged if the client sends an RST in Kestrel or if you directly call HttpContext.Abort"}], "tags": [], "owner": {"reputation": 32660, "user_id": 45091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d6161f7a9eaf37fa9df33b656d870b7?s=128&d=identicon&r=PG", "display_name": "davidfowl", "link": "https://stackoverflow.com/users/45091/davidfowl"}, "is_accepted": true, "score": 6, "last_activity_date": 1493457858, "creation_date": 1493457858, "answer_id": 43693926, "question_id": 43646343, "link": "https://stackoverflow.com/questions/43646343/what-are-possible-issues-if-we-await-a-long-async-operation-in-asp-net-core/43693926#43693926", "title": "What are possible issues if we await a long async operation in ASP.NET Core?", "body": "<p>In ASP.NET Core 1.1 the socket will stay in the CLOSE_WAIT state until the application <code>Task</code> completes. That could lead to resource exhaustion on the server side if you have lots of long running tasks on the server where the client has already disconnected (refreshed the page in your case).</p>\n\n<blockquote>\n  <p>Is there an important server-side difference between those two approaches, e.g. in reliability, timeouts, etc? Does ASP.NET Core ever abort threads on a timeout?</p>\n</blockquote>\n\n<p>Thread aborts aren't a \"thing\" in .NET Core anymore and wouldn't work for async code anyways (there's no active thread when you're awaiting).</p>\n\n<p>In the next version of ASP.NET Core (2.x at time of writing) the RequestAborted cancellation token trigger when the client socket sends a FIN so you'll be able to react to clients disconnecting to cancel long running work. On top of that, it will close the socket even before the application completes.</p>\n"}], "owner": {"reputation": 19601, "user_id": 39068, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ecc96b01307b339812f5d1b2936ac9bc?s=128&d=identicon&r=PG", "display_name": "Andrey Shchekin", "link": "https://stackoverflow.com/users/39068/andrey-shchekin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 640, "favorite_count": 1, "accepted_answer_id": 43693926, "answer_count": 1, "score": 9, "last_activity_date": 1493457858, "creation_date": 1493250376, "last_edit_date": 1493375716, "question_id": 43646343, "link": "https://stackoverflow.com/questions/43646343/what-are-possible-issues-if-we-await-a-long-async-operation-in-asp-net-core", "title": "What are possible issues if we await a long async operation in ASP.NET Core?", "body": "<p>Consider these two controller methods:</p>\n\n<pre><code>public async Task DoAsync() {\n    await TaskThatRunsFor10MinutesAsync().ConfigureAwait(false);\n}\n\npublic void DoWithTaskRunAndReturnEarly() {\n    Task.Run(() =&gt; TaskThatRunsFor10MinutesAsync());\n}\n</code></pre>\n\n<p>Let's say on the client side we don't care about the response. We might wait for it to complete, we might abandon it half-way due user refreshing the page -- but it doesn't matter that <code>DoWithTaskRunAndReturnEarly</code> returns earlier.</p>\n\n<p>Is there an important server-side difference between those two approaches, e.g. in reliability, timeouts, etc? Does ASP.NET Core ever abort threads on a timeout?</p>\n"}, {"tags": ["c#", "asp.net", "signalr", "signalr-hub"], "comments": [{"owner": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1493333128, "post_id": 43646334, "comment_id": 74385023, "body": "If you don&#39;t have authentication enabled how anyone is supposed to know who is connecting? How are you preventing random people from connecting?"}, {"owner": {"reputation": 444, "user_id": 7926795, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1cb25845af383769732b7afd4a4f0222?s=128&d=identicon&r=PG", "display_name": "nik", "link": "https://stackoverflow.com/users/7926795/nik"}, "reply_to_user": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1493335134, "post_id": 43646334, "comment_id": 74385628, "body": "@Pawel  The form doesn&#39;t need any kind of Authentication it should be open to everyone and because of that I don&#39;t know how specify a user as I have the connection Id but because there is no username how I can find which connection belongs to which user."}, {"owner": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1493335378, "post_id": 43646334, "comment_id": 74385691, "body": "In general - If no one provides the name how/where you can get the name at all? There is no name in the system. You have connection id because SignalR generates connection id but it does not generate any names - they need to come from somewhere and typically authentication is the way to go."}, {"owner": {"reputation": 444, "user_id": 7926795, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1cb25845af383769732b7afd4a4f0222?s=128&d=identicon&r=PG", "display_name": "nik", "link": "https://stackoverflow.com/users/7926795/nik"}, "reply_to_user": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1493336890, "post_id": 43646334, "comment_id": 74386134, "body": "@Pawel I was thinking the same way. By looking at the documentation I find I need to piece of info to target a specific user \u2013 name and collection Id. So if the random user call the customer service and the representative wants to help him in the screen there is no way to connect this 2 together if there is no authentication involve."}, {"owner": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1493337444, "post_id": 43646334, "comment_id": 74386312, "body": "No, you need only connection id e.g. <code>Clients.Client(Context.ConnectionId).clientMethod(arguments)</code>&zwnj;&#8203;. <a href=\"https://docs.microsoft.com/en-us/aspnet/signalr/overview/guide-to-the-api/hubs-api-guide-server\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/signalr/overview/&hellip;</a> contains name only because the client expects it and it is somehow provided (like in the chat sample the client provides his name when starting the chat). addContosoChatMessageToPage in the article is just the client side method and you decide what arguments it takes."}, {"owner": {"reputation": 444, "user_id": 7926795, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1cb25845af383769732b7afd4a4f0222?s=128&d=identicon&r=PG", "display_name": "nik", "link": "https://stackoverflow.com/users/7926795/nik"}, "reply_to_user": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1493393234, "post_id": 43646334, "comment_id": 74413566, "body": "@Pawel but for example this line:     Clients.Client(Context.ConnectionId).broadcastMessage(name, message); sent a message to same user that calls, I want to send a message to another user."}, {"owner": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1493395237, "post_id": 43646334, "comment_id": 74414845, "body": "You need to know the connection id of the user you want to send the message and use it instead of <code>Context.ConnectionId</code>"}, {"owner": {"reputation": 444, "user_id": 7926795, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1cb25845af383769732b7afd4a4f0222?s=128&d=identicon&r=PG", "display_name": "nik", "link": "https://stackoverflow.com/users/7926795/nik"}, "reply_to_user": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1493396414, "post_id": 43646334, "comment_id": 74415560, "body": "@Pawel But the connectionId is associated with the browser and if the user open the new one connectionId would change."}], "answers": [{"comments": [{"owner": {"reputation": 444, "user_id": 7926795, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1cb25845af383769732b7afd4a4f0222?s=128&d=identicon&r=PG", "display_name": "nik", "link": "https://stackoverflow.com/users/7926795/nik"}, "edited": false, "score": 0, "creation_date": 1493308521, "post_id": 43650166, "comment_id": 74372039, "body": "yes that is what exactly what I have started on. but what if I don&#39;t want to broadcast to all like instead of Clients.All.broadcastMessage(name, message); just send it to specific user. I know I have to use connectionId, but can I do without username&#39;"}], "tags": [], "owner": {"reputation": 602, "user_id": 3696238, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2e37657692b42b4c1a6c5a103946ffdd?s=128&d=identicon&r=PG&f=1", "display_name": "janitha000", "link": "https://stackoverflow.com/users/3696238/janitha000"}, "is_accepted": true, "score": 0, "last_activity_date": 1493274565, "creation_date": 1493274565, "answer_id": 43650166, "question_id": 43646334, "link": "https://stackoverflow.com/questions/43646334/connect-to-specific-user-in-signalr-without-username/43650166#43650166", "title": "Connect to specific user in SignalR without username", "body": "<p>Have you considered in to looking this tutorial provided by SignalR team? \n<a href=\"https://docs.microsoft.com/en-us/aspnet/signalr/overview/getting-started/tutorial-getting-started-with-signalr\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/signalr/overview/getting-started/tutorial-getting-started-with-signalr</a></p>\n"}], "owner": {"reputation": 444, "user_id": 7926795, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1cb25845af383769732b7afd4a4f0222?s=128&d=identicon&r=PG", "display_name": "nik", "link": "https://stackoverflow.com/users/7926795/nik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "accepted_answer_id": 43650166, "answer_count": 1, "score": 2, "last_activity_date": 1493274565, "creation_date": 1493250295, "question_id": 43646334, "link": "https://stackoverflow.com/questions/43646334/connect-to-specific-user-in-signalr-without-username", "title": "Connect to specific user in SignalR without username", "body": "<p>I am new to SignalR. I need to develop a form that when user fill it out the representative can see her input and help her. \nConsider the user is at home and rep is at office. Also there is no authentication involve. I know there is ConnectionId that I can use but is it doable without username? In this way how I can connect rep to specific User?</p>\n"}, {"tags": ["c#", "visual-studio"], "comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 1, "creation_date": 1493250772, "post_id": 43646302, "comment_id": 74341077, "body": "A nice (related) summary from Jon Skeet here too <a href=\"http://stackoverflow.com/a/1735060/1663001\">stackoverflow.com/a/1735060/1663001</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1493251110, "post_id": 43646379, "comment_id": 74341173, "body": "Thanks. Why are the terms so redundant/duplicate/convoluted?"}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 5, "last_activity_date": 1493269864, "last_edit_date": 1493269864, "creation_date": 1493250704, "answer_id": 43646379, "question_id": 43646302, "link": "https://stackoverflow.com/questions/43646302/meanings-of-constructed-types-bounded-types-and-unbounded-types/43646379#43646379", "title": "Meanings of constructed types, bounded types and unbounded types?", "body": "<blockquote>\n  <p>Is the concept of \"constructed type\" the same as the concept of \"bounded generic type\"?</p>\n</blockquote>\n\n<p>Yes, modulo your typo. You meant to say \"bound generic type\", not \"bounded generic type\".</p>\n\n<blockquote>\n  <p>Is a non-generic type both an unbound and bound type?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<blockquote>\n  <p>Why are the terms so redundant/duplicate/convoluted?</p>\n</blockquote>\n\n<p>The terms were invented for the convenience of the specification authors and the compiler team. The only redundancy you've identified is that <em>constructed</em> is equal to <em>bound generic</em>, which seems pretty reasonable to me. I don't see any duplication or convolution.</p>\n\n<p>If these terms seem complicated, well then I submit to you that <em>type theory of modern line-of-business OO languages is a complicated subject</em>; its jargon reflects that complexity.</p>\n\n<p>It might help to think about it this way. Suppose we have a class C that takes n type arguments, for n >= 0:</p>\n\n<ul>\n<li>The concept <em>C-that-takes-n-type-arguments</em> is an <em>unbound</em> type.</li>\n<li>The concept <em>C-with-n-type-arguments</em> is a <em>bound</em> type.</li>\n<li>A <em>bound generic type</em> must be a generic type that has been <em>constructed with type arguments</em>, so we call it a <em>constructed type</em>.</li>\n</ul>\n\n<p>Plainly if n == 0 then C is both a bound and an unbound type at the same time.</p>\n"}], "owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1493269864, "creation_date": 1493250002, "last_edit_date": 1592644375, "question_id": 43646302, "link": "https://stackoverflow.com/questions/43646302/meanings-of-constructed-types-bounded-types-and-unbounded-types", "title": "Meanings of constructed types, bounded types and unbounded types?", "body": "<p>From C# 5.0 Specifications</p>\n<blockquote>\n<p><strong>4.4 Constructed types</strong></p>\n<p>A generic type declaration, by itself, denotes <strong>an unbound generic\ntype</strong> that is used as a \u201cblueprint\u201d to form  many different types, by\nway of applying type arguments. The type arguments are written within\nangle brackets  (&lt; and &gt;) immediately following the name of the\ngeneric type.  An unbound generic type can only be used within a\ntypeof-expression (\u00a77.6.11).   A type that includes at least one type\nargument is  called <strong>a constructed type</strong>. A constructed type can be\nused in most places in the language in which a type name  can appear.\nAn unbound generic type can only be used within a typeof-expression\n(\u00a77.6.11).<br />\n<strong>Constructed types</strong> can also be used in expressions as simple names (\u00a77.6.2) or when accessing a member  (\u00a77.6.4).</p>\n</blockquote>\n<p>Is the concept of &quot;constructed type&quot; the same as the concept of &quot;bounded generic type&quot;?</p>\n<blockquote>\n<p><strong>4.4.3 Bound and unbound types</strong></p>\n<p>The term <strong>unbound type</strong> refers to a non-generic type or an unbound\ngeneric type. The term <strong>bound type</strong> refers to a non-generic type or a\nconstructed type.</p>\n<p><strong>An unbound type</strong> refers to the entity declared by a\ntype declaration. <strong>An unbound generic type</strong> is not itself a type,  and\ncannot be used as the type of a variable, argument or return value, or\nas a base type. The only construct in  which an unbound generic type\ncan be referenced is the typeof expression (\u00a77.6.11).</p>\n</blockquote>\n<p>Is a non-generic type both an unbound and bound type?</p>\n"}, {"tags": ["c#", "asp.net", ".net", "automapper"], "answers": [{"comments": [{"owner": {"reputation": 749, "user_id": 5108909, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2aaeedaf64b312dc7bbc672dfe0759f2?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/5108909/andrew"}, "edited": false, "score": 1, "creation_date": 1493252894, "post_id": 43646369, "comment_id": 74341612, "body": "Awsome, thank you! I love simple answers. I&#39;m not sure why I didn&#39;t think I could pass ISearch into the map method if it wasn&#39;t defined in the config!"}], "tags": [], "owner": {"reputation": 214980, "user_id": 470005, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/09536b39b586f3ae555f8ce20d5d8bd1?s=128&d=identicon&r=PG", "display_name": "Sergey Berezovskiy", "link": "https://stackoverflow.com/users/470005/sergey-berezovskiy"}, "is_accepted": true, "score": 2, "last_activity_date": 1493250632, "creation_date": 1493250632, "answer_id": 43646369, "question_id": 43646227, "link": "https://stackoverflow.com/questions/43646227/automapper-create-custom-property-map-where-source-object-isnt-known-and-prop/43646369#43646369", "title": "Automapper - create custom property map where source object isn&#39;t known and property names don&#39;t match?", "body": "<p>Simply create maps for each interface implementations (thus you also will use mappings only for properties which exist in each class - i.e. no attempt to map <code>Prop2</code> for <code>Search1</code> class):</p>\n\n<pre><code>var config = new MapperConfiguration(cfg =&gt; {\n    cfg.CreateMap&lt;Search1, SearchFinal&gt;()\n        .ForMember(dest =&gt; dest.Prop1, opts =&gt; opts.MapFrom(src =&gt; src.PROP1));\n\n    cfg.CreateMap&lt;Search2, SearchFinal&gt;()\n        .ForMember(dest =&gt; dest.Prop2, opts =&gt; opts.MapFrom(src =&gt; src.PROP2));\n});\n</code></pre>\n\n<p>Next pass some implementation of <code>ISearch</code> interface which is mapped to <code>SearchFinal</code>:</p>\n\n<pre><code>ISearch search = new Search1 { PROP1 = \"foo\" };\n// note that you are mapping variable of ISearch type here\nSearchFinal test = mapper.Map&lt;SearchFinal&gt;(search);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\n  \"Prop1\": \"foo\",\n  \"Prop2\": null\n}\n</code></pre>\n"}], "owner": {"reputation": 749, "user_id": 5108909, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2aaeedaf64b312dc7bbc672dfe0759f2?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/5108909/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "accepted_answer_id": 43646369, "answer_count": 1, "score": 1, "last_activity_date": 1493250632, "creation_date": 1493249480, "question_id": 43646227, "link": "https://stackoverflow.com/questions/43646227/automapper-create-custom-property-map-where-source-object-isnt-known-and-prop", "title": "Automapper - create custom property map where source object isn&#39;t known and property names don&#39;t match?", "body": "<p>That title is confusing. It's a little easier to show with code. Here are the background classes:</p>\n\n<pre><code>public interface ISearch { }\n\npublic class Search1 : ISearch\n{\n    public string PROP1 { get; set; }\n}\n\npublic class Search2 : ISearch\n{\n    public string PROP2 { get; set; }\n}\n\npublic class SearchFinal\n{\n    public string Prop1 { get; set; }\n    public string Prop2 { get; set; }\n}\n</code></pre>\n\n<p>And this is what I'm trying to do:</p>\n\n<pre><code>public class SomeClass\n{\n    IMapper mapper;\n\n    public SomeClass()\n    {\n        //This config fails validation\n        var config = new MapperConfiguration(cfg =&gt; {\n            cfg.CreateMap&lt;ISearch, SearchFinal&gt;()\n                .ForMember(dest =&gt; dest.Prop1, opts =&gt; opts.MapFrom(\"PROP1\"))\n                .ForMember(dest =&gt; dest.Prop2, opts =&gt; opts.MapFrom(\"PROP2\"));\n        });\n        mapper = new Mapper(config);\n    }\n\n    public void SearchMethod(ISearch search)\n    {\n        SearchFinal test = mapper.Map&lt;SearchFinal&gt;(search);\n\n        // Do query stuff\n    }\n}\n</code></pre>\n\n<p>The config fails validation at run-time because the \"PROP1\" / \"PROP2\" properties don't exist in the interface. Is there a way to set this map up? Any other ways around this problem without restructuring this admit-ably ugly code structure?</p>\n"}, {"tags": ["c#", "asp.net", "requiredfieldvalidator"], "comments": [{"owner": {"reputation": 4174, "user_id": 6056671, "user_type": "registered", "profile_image": "https://graph.facebook.com/556434547863701/picture?type=large", "display_name": "R&#239;sh&#239;K&#234;sh K&#252;mar", "link": "https://stackoverflow.com/users/6056671/r%c3%afsh%c3%afk%c3%aash-k%c3%bcmar"}, "edited": false, "score": 0, "creation_date": 1493249835, "post_id": 43646208, "comment_id": 74340833, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/11100230/requiredfieldvalidator-with-validationgroup-doesnt-validate\">RequiredFieldValidator with ValidationGroup doesn&#39;t validate</a>"}, {"owner": {"reputation": 4174, "user_id": 6056671, "user_type": "registered", "profile_image": "https://graph.facebook.com/556434547863701/picture?type=large", "display_name": "R&#239;sh&#239;K&#234;sh K&#252;mar", "link": "https://stackoverflow.com/users/6056671/r%c3%afsh%c3%afk%c3%aash-k%c3%bcmar"}, "edited": false, "score": 0, "creation_date": 1493249936, "post_id": 43646208, "comment_id": 74340858, "body": "<a href=\"http://stackoverflow.com/questions/11100230/requiredfieldvalidator-with-validationgroup-doesnt-validate\" title=\"requiredfieldvalidator with validationgroup doesnt validate\">stackoverflow.com/questions/11100230/&hellip;</a> ..."}], "answers": [{"tags": [], "owner": {"reputation": 4174, "user_id": 6056671, "user_type": "registered", "profile_image": "https://graph.facebook.com/556434547863701/picture?type=large", "display_name": "R&#239;sh&#239;K&#234;sh K&#252;mar", "link": "https://stackoverflow.com/users/6056671/r%c3%afsh%c3%afk%c3%aash-k%c3%bcmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1493250350, "creation_date": 1493250350, "answer_id": 43646340, "question_id": 43646208, "link": "https://stackoverflow.com/questions/43646208/requiredfieldsvalidatior-asp-net-c/43646340#43646340", "title": "RequiredFieldsValidatior asp.net c#", "body": "<p><strong>Try to use Like This..</strong></p>\n\n<pre><code>Name: \n&lt;asp:TextBox ID=\"txtNewName\" runat=\"server\" /&gt;\n&lt;asp:RequiredFieldValidator ID=\"vldtxtNewName\" runat=\"server\"\n     ControlToValidate=\"txtNewName\" ValidationGroup=\"NewDepartmentValidationGroup\" \n     ErrorMessage=\"Required Field\" /&gt;&lt;br /&gt;\nDescription: \n&lt;asp:TextBox ID=\"txtNewDescription\" runat=\"server\" /&gt;\n&lt;asp:RequiredFieldValidator ID=\"vldtxtNewDescription\" runat=\"server\" \n    ControlToValidate=\"txtNewDescription\" ErrorMessage=\"Required Field\"\n    ValidationGroup=\"NewDepartmentValidationGroup\" /&gt;&lt;br /&gt;\n&lt;asp:Button ID=\"cmdCreate\" runat=\"server\" Text=\"Create\"\n     ValidationGroup=\"NewDepartmentValidationGroup\" OnClick=\"cmdCreate_Click\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "is_accepted": true, "score": 0, "last_activity_date": 1493251639, "creation_date": 1493251639, "answer_id": 43646528, "question_id": 43646208, "link": "https://stackoverflow.com/questions/43646208/requiredfieldsvalidatior-asp-net-c/43646528#43646528", "title": "RequiredFieldsValidatior asp.net c#", "body": "<p>You need to add your validation group to your <code>CommandField</code>. E.g : </p>\n\n<pre><code>&lt;asp:CommandField ValidationGroup=\"1\" ButtonType=\"Button\" ShowInsertButton=\"True\" /&gt;\n</code></pre>\n\n<p>I'd also suggest using a more meaningful name for your Validation Groups</p>\n"}], "owner": {"reputation": 21, "user_id": 7871341, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/40e9c4bed3a035f70d0561c1d4d4048e?s=128&d=identicon&r=PG&f=1", "display_name": "Abd mohd", "link": "https://stackoverflow.com/users/7871341/abd-mohd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 43646528, "answer_count": 2, "score": 0, "last_activity_date": 1493251639, "creation_date": 1493249401, "question_id": 43646208, "link": "https://stackoverflow.com/questions/43646208/requiredfieldsvalidatior-asp-net-c", "title": "RequiredFieldsValidatior asp.net c#", "body": "<p>I have a page with two detailsView and I have tried to add a RequiredFieldsValidator for all fields and it worked fine but when I add the ValidationGroup the validation doesn't work at all</p>\n\n<p>What is the problem</p>\n\n<p>First DetailsView:</p>\n\n<pre><code>&lt;asp:DetailsView ID=\"DetailsView1\" runat=\"server\" AutoGenerateRows=\"False\" \n        CellPadding=\"4\" DataKeyNames=\"Username\" DataSourceID=\"SqlDataSource3\" \n           ForeColor=\"#333333\" GridLines=\"None\" Height=\"50px\" Width=\"267px\" \n            style=\"margin-top: 0px; text-align: left;\" \n           onitemupdated=\"DetailsView1_ItemUpdated\" onitemdeleted=\"DetailsView1_ItemDeleted\" \n           oniteminserted=\"DetailsView1_ItemInserted\" DefaultMode=\"Insert\"&gt;\n        &lt;AlternatingRowStyle BackColor=\"White\" ForeColor=\"#284775\" /&gt;\n        &lt;CommandRowStyle BackColor=\"#E2DED6\" Font-Bold=\"True\" /&gt;\n        &lt;EditRowStyle BackColor=\"#999999\" /&gt;\n        &lt;FieldHeaderStyle BackColor=\"#E9ECF1\" Font-Bold=\"True\" /&gt;\n        &lt;Fields&gt;\n            &lt;asp:TemplateField HeaderText=\"Username\" SortExpression=\"Username\"&gt;\n                &lt;EditItemTemplate&gt;\n                    &lt;asp:Label ID=\"Label1\" runat=\"server\" Text='&lt;%# Eval(\"Username\") %&gt;'&gt;&lt;/asp:Label&gt;\n                &lt;/EditItemTemplate&gt;\n                &lt;InsertItemTemplate&gt;\n                    &lt;asp:TextBox ID=\"TextBox1\" runat=\"server\" Text='&lt;%# Bind(\"Username\") %&gt;' \n                        ValidationGroup=\"1\" Width=\"100px\"&gt;&lt;/asp:TextBox&gt;\n                    &lt;asp:RequiredFieldValidator id=\"RequiredFieldValidator1\" runat=\"server\" \n                        ErrorMessage=\"Required\" ControlToValidate=\"TextBox1\" ForeColor=\"Red\" \n                        ValidationGroup=\"1\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                &lt;/InsertItemTemplate&gt;\n                &lt;ItemTemplate&gt;\n                    &lt;asp:Label ID=\"Label2\" runat=\"server\" Text='&lt;%# Bind(\"Username\") %&gt;'&gt;&lt;/asp:Label&gt;\n                &lt;/ItemTemplate&gt;\n            &lt;/asp:TemplateField&gt;\n            &lt;asp:TemplateField HeaderText=\"Password\" SortExpression=\"Password\"&gt;\n                &lt;EditItemTemplate&gt;\n                    &lt;asp:TextBox ID=\"TextBox2\" runat=\"server\" Text='&lt;%# Bind(\"Password\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                &lt;/EditItemTemplate&gt;\n                &lt;InsertItemTemplate&gt;\n                    &lt;asp:TextBox ID=\"TextBox2\" runat=\"server\" Text='&lt;%# Bind(\"Password\") %&gt;' \n                        Height=\"22px\" ValidationGroup=\"1\" Width=\"100px\"&gt;&lt;/asp:TextBox&gt;\n                    &lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator2\" runat=\"server\" \n                        ControlToValidate=\"TextBox2\" ErrorMessage=\"Required\" ForeColor=\"Red\" \n                        ValidationGroup=\"1\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                &lt;/InsertItemTemplate&gt;\n                &lt;ItemTemplate&gt;\n                    &lt;span ID=\"idControl\"&gt;DetailsView1&lt;/span&gt; - Field[1] - Password\n                &lt;/ItemTemplate&gt;\n            &lt;/asp:TemplateField&gt;\n            &lt;asp:TemplateField HeaderText=\"UserType\" SortExpression=\"UserType\"&gt;\n                &lt;EditItemTemplate&gt;\n                    &lt;asp:TextBox ID=\"TextBox1\" runat=\"server\" Text='&lt;%# Bind(\"UserType\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                &lt;/EditItemTemplate&gt;\n                &lt;InsertItemTemplate&gt;\n                    &lt;asp:DropDownList ID=\"DropDownList4\" runat=\"server\" \n                        ConnectionString =\"&lt;%$ConnectionStrings: ConnectionString %&gt;\" \n                        SelectedValue='&lt;%# Bind(\"UserType\") %&gt;' ValidationGroup=\"1\"&gt;\n                    &lt;asp:ListItem&gt;--Select--&lt;/asp:ListItem&gt;\n                    &lt;asp:ListItem&gt;employee&lt;/asp:ListItem&gt;\n                    &lt;asp:ListItem&gt;doctor&lt;/asp:ListItem&gt;\n                    &lt;asp:ListItem&gt;student&lt;/asp:ListItem&gt;\n                    &lt;/asp:DropDownList&gt; \n                    &lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator3\" runat=\"server\" \n                        ControlToValidate=\"DropDownList4\" ErrorMessage=\"Required\" ForeColor=\"Red\" \n                        InitialValue=\"--Select--\" ValidationGroup=\"1\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                &lt;/InsertItemTemplate&gt;\n                &lt;ItemTemplate&gt;\n                    &lt;asp:Label ID=\"Label1\" runat=\"server\" Text='&lt;%# Bind(\"UserType\") %&gt;'&gt;&lt;/asp:Label&gt;\n                &lt;/ItemTemplate&gt;\n            &lt;/asp:TemplateField&gt;\n            &lt;asp:CommandField ButtonType=\"Button\" ShowInsertButton=\"True\" /&gt;\n        &lt;/Fields&gt;\n        &lt;FooterStyle BackColor=\"#5D7B9D\" Font-Bold=\"True\" ForeColor=\"White\" /&gt;\n        &lt;HeaderStyle BackColor=\"#5D7B9D\" Font-Bold=\"True\" ForeColor=\"White\" /&gt;\n        &lt;PagerStyle BackColor=\"#284775\" ForeColor=\"White\" HorizontalAlign=\"Center\" /&gt;\n        &lt;RowStyle BackColor=\"#F7F6F3\" ForeColor=\"#333333\" /&gt;\n    &lt;/asp:DetailsView&gt;\n</code></pre>\n\n<p>Second DetailsView:</p>\n\n<pre><code>&lt;asp:DetailsView ID=\"DetailsView4\" runat=\"server\" AutoGenerateRows=\"False\" \n            CellPadding=\"4\" DataKeyNames=\"St_ID\" DataSourceID=\"SqlDataSource4\" \n            DefaultMode=\"Insert\" ForeColor=\"#333333\" GridLines=\"None\" Height=\"50px\" \n            Width=\"291px\"&gt;\n            &lt;AlternatingRowStyle BackColor=\"White\" ForeColor=\"#284775\" /&gt;\n            &lt;CommandRowStyle BackColor=\"#E2DED6\" Font-Bold=\"True\" /&gt;\n            &lt;EditRowStyle BackColor=\"#999999\" /&gt;\n            &lt;FieldHeaderStyle BackColor=\"#E9ECF1\" Font-Bold=\"True\" /&gt;\n            &lt;Fields&gt;\n                &lt;asp:TemplateField HeaderText=\"Student ID\" SortExpression=\"St_ID\"&gt;\n                    &lt;EditItemTemplate&gt;\n                        &lt;asp:Label ID=\"Label1\" runat=\"server\" Text='&lt;%# Eval(\"St_ID\") %&gt;'&gt;&lt;/asp:Label&gt;\n                    &lt;/EditItemTemplate&gt;\n                    &lt;InsertItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox1\" runat=\"server\" Text='&lt;%# Bind(\"St_ID\") %&gt;' \n                            ValidationGroup=\"2\"&gt;&lt;/asp:TextBox&gt;\n                        &lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator1\" runat=\"server\" \n                            ControlToValidate=\"TextBox1\" ErrorMessage=\"Required\" ForeColor=\"Red\" \n                            ValidationGroup=\"2\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                    &lt;/InsertItemTemplate&gt;\n                    &lt;ItemTemplate&gt;\n                        &lt;asp:Label ID=\"Label1\" runat=\"server\" Text='&lt;%# Bind(\"St_ID\") %&gt;'&gt;&lt;/asp:Label&gt;\n                    &lt;/ItemTemplate&gt;\n                    &lt;ItemStyle Width=\"120px\" /&gt;\n                &lt;/asp:TemplateField&gt;\n                &lt;asp:TemplateField HeaderText=\"Username\" SortExpression=\"Username\"&gt;\n                    &lt;EditItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox5\" runat=\"server\" Text='&lt;%# Bind(\"Username\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                    &lt;/EditItemTemplate&gt;\n                    &lt;InsertItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox3\" runat=\"server\" Text='&lt;%# Bind(\"Username\") %&gt;' \n                            ValidationGroup=\"2\"&gt;&lt;/asp:TextBox&gt;\n                        &lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator2\" runat=\"server\" \n                            ControlToValidate=\"TextBox3\" ErrorMessage=\"Required\" ForeColor=\"Red\" \n                            ValidationGroup=\"2\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                    &lt;/InsertItemTemplate&gt;\n                    &lt;ItemTemplate&gt;\n                        &lt;asp:Label ID=\"Label5\" runat=\"server\" Text='&lt;%# Bind(\"Username\") %&gt;'&gt;&lt;/asp:Label&gt;\n                    &lt;/ItemTemplate&gt;\n                &lt;/asp:TemplateField&gt;\n                &lt;asp:TemplateField HeaderText=\"Name\" SortExpression=\"Name\"&gt;\n                    &lt;EditItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox6\" runat=\"server\" Text='&lt;%# Bind(\"Name\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                    &lt;/EditItemTemplate&gt;\n                    &lt;InsertItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox4\" runat=\"server\" Text='&lt;%# Bind(\"Name\") %&gt;' \n                            ValidationGroup=\"2\"&gt;&lt;/asp:TextBox&gt;\n                        &lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator3\" runat=\"server\" \n                            ControlToValidate=\"TextBox4\" ErrorMessage=\"Required\" ForeColor=\"Red\" \n                            ValidationGroup=\"2\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                    &lt;/InsertItemTemplate&gt;\n                    &lt;ItemTemplate&gt;\n                        &lt;asp:Label ID=\"Label6\" runat=\"server\" Text='&lt;%# Bind(\"Name\") %&gt;'&gt;&lt;/asp:Label&gt;\n                    &lt;/ItemTemplate&gt;\n                &lt;/asp:TemplateField&gt;\n                &lt;asp:TemplateField HeaderText=\"Nationality\" SortExpression=\"Nationality\"&gt;\n                    &lt;ItemTemplate&gt;\n                        &lt;asp:Label ID=\"Label4\" runat=\"server\" Text='&lt;%# Bind(\"Nationality\") %&gt;'&gt;&lt;/asp:Label&gt;\n                    &lt;/ItemTemplate&gt;\n                    &lt;EditItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox4\" runat=\"server\" Text='&lt;%# Bind(\"Nationality\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                    &lt;/EditItemTemplate&gt;\n                    &lt;InsertItemTemplate&gt;\n                        &lt;asp:DropDownList ID=\"DropDownList5\" runat=\"server\" \n                            SelectedValue='&lt;%# Bind(\"Nationality\") %&gt;' ValidationGroup=\"2\"&gt;\n                        &lt;asp:ListItem&gt;--Select--&lt;/asp:ListItem&gt;\n                        &lt;asp:ListItem&gt;Egypt&lt;/asp:ListItem&gt;\n                        &lt;asp:ListItem&gt;Jordan&lt;/asp:ListItem&gt;\n                        &lt;asp:ListItem&gt;Lebanon&lt;/asp:ListItem&gt;\n                        &lt;asp:ListItem&gt;Palestine&lt;/asp:ListItem&gt;\n                        &lt;asp:ListItem&gt;Sudan&lt;/asp:ListItem&gt;\n                        &lt;asp:ListItem&gt;Syria&lt;/asp:ListItem&gt;\n                        &lt;asp:ListItem&gt;UAE&lt;/asp:ListItem&gt;\n                        &lt;asp:ListItem&gt;Yemen&lt;/asp:ListItem&gt;\n                        &lt;/asp:DropDownList&gt;\n                        &lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator4\" runat=\"server\" \n                            ControlToValidate=\"DropDownList5\" ErrorMessage=\"Required\" ForeColor=\"Red\" \n                            InitialValue=\"--Select--\" ValidationGroup=\"2\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                    &lt;/InsertItemTemplate&gt;\n                &lt;/asp:TemplateField&gt;\n                &lt;asp:TemplateField HeaderText=\"Gender\" SortExpression=\"Gender\"&gt;\n                    &lt;ItemTemplate&gt;\n                        &lt;asp:Label ID=\"Label1\" runat=\"server\" Text='&lt;%# Bind(\"Gender\") %&gt;'&gt;&lt;/asp:Label&gt;\n                    &lt;/ItemTemplate&gt;\n                    &lt;EditItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox1\" runat=\"server\" Text='&lt;%# Bind(\"Gender\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                    &lt;/EditItemTemplate&gt;\n                    &lt;InsertItemTemplate&gt;\n                        &lt;asp:DropDownList ID=\"DropDownList1\" runat=\"server\" \n                            SelectedValue='&lt;%# Bind(\"Gender\") %&gt;' ValidationGroup=\"2\"&gt;\n                        &lt;asp:ListItem&gt;--Select--&lt;/asp:ListItem&gt;\n                        &lt;asp:ListItem&gt;Male&lt;/asp:ListItem&gt;\n                        &lt;asp:ListItem&gt;Female&lt;/asp:ListItem&gt;\n                        &lt;/asp:DropDownList&gt;\n                        &lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator5\" runat=\"server\" \n                            ControlToValidate=\"DropDownList1\" ErrorMessage=\"Required\" ForeColor=\"Red\" \n                            InitialValue=\"--Select--\" ValidationGroup=\"2\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                    &lt;/InsertItemTemplate&gt;\n                    &lt;ItemTemplate&gt;\n                        &lt;asp:Label ID=\"Label3\" runat=\"server\" Text='&lt;%# Bind(\"Major_ID\") %&gt;'&gt;&lt;/asp:Label&gt;\n                    &lt;/ItemTemplate&gt;\n                &lt;/asp:TemplateField&gt;\n                &lt;asp:TemplateField HeaderText=\"DateOfBirth\" SortExpression=\"DateOfBirth\"&gt;\n                    &lt;EditItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox2\" runat=\"server\" Text='&lt;%# Bind(\"DateOfBirth\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                    &lt;/EditItemTemplate&gt;\n                    &lt;InsertItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox2\" runat=\"server\" TextMode=\"Date\" \n                            Text='&lt;%# Bind(\"DateOfBirth\") %&gt;' ValidationGroup=\"2\"&gt;&lt;/asp:TextBox&gt;\n                        &lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator6\" runat=\"server\" \n                            ControlToValidate=\"TextBox2\" ErrorMessage=\"Required\" ForeColor=\"Red\" \n                            ValidationGroup=\"2\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                    &lt;/InsertItemTemplate&gt;\n                    &lt;ItemTemplate&gt;\n                        &lt;asp:Label ID=\"Label2\" runat=\"server\" Text='&lt;%# Bind(\"DateOfBirth\") %&gt;'&gt;&lt;/asp:Label&gt;\n                    &lt;/ItemTemplate&gt;\n                &lt;/asp:TemplateField&gt;\n                &lt;asp:TemplateField HeaderText=\"MobileNo\" SortExpression=\"MobileNo\"&gt;\n                    &lt;EditItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox7\" runat=\"server\" Text='&lt;%# Bind(\"MobileNo\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                    &lt;/EditItemTemplate&gt;\n                    &lt;InsertItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox5\" runat=\"server\" Text='&lt;%# Bind(\"MobileNo\") %&gt;' \n                            maxlength=\"10\" ValidationGroup=\"2\"&gt;&lt;/asp:TextBox&gt;\n                        &lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator7\" runat=\"server\" \n                            ControlToValidate=\"TextBox7\" ErrorMessage=\"Required\" ForeColor=\"Red\" \n                            ValidationGroup=\"2\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                        &lt;br /&gt;\n                        &lt;asp:RegularExpressionValidator ID=\"RegularExpresphone1\" \n                            ValidationGroup=\"phone\" Display=\"Dynamic\" ControlToValidate=\"TextBox5\" \n                            runat=\"server\" ErrorMessage=\"Phone Number should be 10 Digits (only numbers).\" \n                            SetFocusOnError=\"True\" ValidationExpression=\"^\\d{10}$\" Font-Bold=\"False\" \n                            ForeColor=\"Red\"&gt;&lt;/asp:RegularExpressionValidator&gt;\n                        &lt;/InsertItemTemplate&gt;\n                    &lt;ItemTemplate&gt;\n                        &lt;asp:Label ID=\"Label7\" runat=\"server\" Text='&lt;%# Bind(\"MobileNo\") %&gt;'&gt;&lt;/asp:Label&gt;\n                    &lt;/ItemTemplate&gt;\n                &lt;/asp:TemplateField&gt;\n                &lt;asp:TemplateField HeaderText=\"Major\" SortExpression=\"Major_ID\"&gt;\n                    &lt;EditItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox3\" runat=\"server\" Text='&lt;%# Bind(\"Major_ID\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                    &lt;/EditItemTemplate&gt;\n                    &lt;InsertItemTemplate&gt;\n                        &lt;asp:DropDownList ID=\"DropDownList2\" runat=\"server\" \n                            DataSourceID=\"SqlDataSource4\" DataTextField=\"MajorName\" \n                            DataValueField=\"Major_ID\" SelectedValue='&lt;%# Bind(\"Major_ID\") %&gt;' \n                            ValidationGroup=\"2\"&gt;&lt;/asp:DropDownList&gt;\n                        &lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator8\" runat=\"server\" \n                            ControlToValidate=\"DropDownList2\" ErrorMessage=\"Required\" ForeColor=\"Red\" \n                            InitialValue=\"--Select--\" ValidationGroup=\"2\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                    &lt;asp:SqlDataSource ID=\"SqlDataSource4\" runat=\"server\" ConnectionString =\"&lt;%$ConnectionStrings: ConnectionString %&gt;\" SelectCommand=\"SELECT Major_ID, MajorName FROM Major\"&gt;&lt;/asp:SqlDataSource&gt;\n                    &lt;/InsertItemTemplate&gt;\n                &lt;/asp:TemplateField&gt;\n                &lt;asp:TemplateField HeaderText=\"School Graduation Year\" \n                    SortExpression=\"School_Graduation_Year\"&gt;\n                    &lt;EditItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox8\" runat=\"server\" \n                            Text='&lt;%# Bind(\"School_Graduation_Year\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                    &lt;/EditItemTemplate&gt;\n                    &lt;InsertItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox6\" runat=\"server\" \n                            Text='&lt;%# Bind(\"School_Graduation_Year\") %&gt;' ValidationGroup=\"2\"&gt;&lt;/asp:TextBox&gt;\n                        &lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator9\" runat=\"server\" \n                            ControlToValidate=\"TextBox6\" ErrorMessage=\"Required\" ForeColor=\"Red\" \n                            ValidationGroup=\"2\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                    &lt;/InsertItemTemplate&gt;\n                    &lt;ItemTemplate&gt;\n                        &lt;asp:Label ID=\"Label8\" runat=\"server\" \n                            Text='&lt;%# Bind(\"School_Graduation_Year\") %&gt;'&gt;&lt;/asp:Label&gt;\n                    &lt;/ItemTemplate&gt;\n                &lt;/asp:TemplateField&gt;\n                &lt;asp:TemplateField HeaderText=\"School Grade\" SortExpression=\"School_Grade\"&gt;\n                    &lt;EditItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox9\" runat=\"server\" Text='&lt;%# Bind(\"School_Grade\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                    &lt;/EditItemTemplate&gt;\n                    &lt;InsertItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox7\" runat=\"server\" Text='&lt;%# Bind(\"School_Grade\") %&gt;' \n                            ValidationGroup=\"2\"&gt;&lt;/asp:TextBox&gt;\n                        &lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator10\" runat=\"server\" \n                            ControlToValidate=\"TextBox7\" ErrorMessage=\"Required\" ForeColor=\"Red\" \n                            ValidationGroup=\"2\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                    &lt;/InsertItemTemplate&gt;\n                    &lt;ItemTemplate&gt;\n                        &lt;asp:Label ID=\"Label9\" runat=\"server\" Text='&lt;%# Bind(\"School_Grade\") %&gt;'&gt;&lt;/asp:Label&gt;\n                    &lt;/ItemTemplate&gt;\n                &lt;/asp:TemplateField&gt;\n                &lt;asp:TemplateField HeaderText=\"Join Year\" SortExpression=\"Join_Year\"&gt;\n                    &lt;EditItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox10\" runat=\"server\" Text='&lt;%# Bind(\"Join_Year\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                    &lt;/EditItemTemplate&gt;\n                    &lt;InsertItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox8\" runat=\"server\" Text='&lt;%# Bind(\"Join_Year\") %&gt;' \n                            ValidationGroup=\"2\"&gt;&lt;/asp:TextBox&gt;\n                        &lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator12\" runat=\"server\" \n                            ControlToValidate=\"TextBox8\" ErrorMessage=\"Required\" ForeColor=\"Red\" \n                            ValidationGroup=\"2\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                    &lt;/InsertItemTemplate&gt;\n                    &lt;ItemTemplate&gt;\n                        &lt;asp:Label ID=\"Label10\" runat=\"server\" Text='&lt;%# Bind(\"Join_Year\") %&gt;'&gt;&lt;/asp:Label&gt;\n                    &lt;/ItemTemplate&gt;\n                &lt;/asp:TemplateField&gt;\n                &lt;asp:TemplateField HeaderText=\"Email\" SortExpression=\"Email\"&gt;\n                    &lt;EditItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox11\" runat=\"server\" Text='&lt;%# Bind(\"Email\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                    &lt;/EditItemTemplate&gt;\n                    &lt;InsertItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox9\" runat=\"server\" Text='&lt;%# Bind(\"Email\") %&gt;' \n                            TextMode=\"Email\" ValidationGroup=\"2\"&gt;&lt;/asp:TextBox&gt;\n                        &lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator13\" runat=\"server\" \n                            ControlToValidate=\"TextBox9\" ErrorMessage=\"Required\" ForeColor=\"Red\" \n                            ValidationGroup=\"2\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                    &lt;/InsertItemTemplate&gt;\n                    &lt;ItemTemplate&gt;\n                        &lt;asp:Label ID=\"Label11\" runat=\"server\" Text='&lt;%# Bind(\"Email\") %&gt;'&gt;&lt;/asp:Label&gt;\n                    &lt;/ItemTemplate&gt;\n                &lt;/asp:TemplateField&gt;\n                &lt;asp:TemplateField HeaderText=\"Address\" SortExpression=\"Address\"&gt;\n                    &lt;EditItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox12\" runat=\"server\" Text='&lt;%# Bind(\"Address\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                    &lt;/EditItemTemplate&gt;\n                    &lt;InsertItemTemplate&gt;\n                        &lt;asp:TextBox ID=\"TextBox10\" runat=\"server\" Text='&lt;%# Bind(\"Address\") %&gt;' \n                            ValidationGroup=\"2\"&gt;&lt;/asp:TextBox&gt;\n                        &lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator15\" runat=\"server\" \n                            ControlToValidate=\"TextBox10\" ValidationGroup=\"2\" ErrorMessage=\"Required\" ForeColor=\"Red\" \n                            &gt;&lt;/asp:RequiredFieldValidator&gt;\n                    &lt;/InsertItemTemplate&gt;\n                    &lt;ItemTemplate&gt;\n                        &lt;asp:Label ID=\"Label12\" runat=\"server\" Text='&lt;%# Bind(\"Address\") %&gt;'&gt;&lt;/asp:Label&gt;\n                    &lt;/ItemTemplate&gt;\n                &lt;/asp:TemplateField&gt;\n                &lt;asp:CommandField ButtonType=\"Button\" ShowInsertButton=\"True\" /&gt;\n            &lt;/Fields&gt;\n            &lt;FooterStyle BackColor=\"#5D7B9D\" Font-Bold=\"True\" ForeColor=\"White\" /&gt;\n            &lt;HeaderStyle BackColor=\"#5D7B9D\" Font-Bold=\"True\" ForeColor=\"White\" /&gt;\n            &lt;PagerStyle BackColor=\"#284775\" ForeColor=\"White\" HorizontalAlign=\"Center\" /&gt;\n            &lt;RowStyle BackColor=\"#F7F6F3\" ForeColor=\"#333333\" /&gt;\n        &lt;/asp:DetailsView&gt;\n</code></pre>\n"}, {"tags": ["c#", "random"], "comments": [{"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1493248075, "post_id": 43645967, "comment_id": 74340339, "body": "You don&#39;t want to do this recursively, but the main problem is that you&#39;re creating a <code>new Random()</code> every iteration of a tight loop, meaning it&#39;ll be initialized with the same seed value (the current time) and produce the same sequence."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1493248209, "post_id": 43645967, "comment_id": 74340383, "body": "You should camelCase your local variables and PascalCase your method names to make the code more readable. And your GenerateNewNumber method should probably take in an argument specifying how many numbers you want, and then return the list of numbers it generates."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "reply_to_user": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1493248730, "post_id": 43645967, "comment_id": 74340539, "body": "@CodeCaster see my answer <a href=\"http://stackoverflow.com/questions/767999/random-number-generator-only-generating-one-random-number/43646093#43646093\">here</a>"}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "reply_to_user": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1493248879, "post_id": 43645967, "comment_id": 74340580, "body": "@CodingYoshi I think that answer doesn&#39;t really answer the question you posted it to."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "reply_to_user": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1493249232, "post_id": 43645967, "comment_id": 74340688, "body": "@CodeCaster then why did you mark this as a duplicate of that?"}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1493249318, "post_id": 43645967, "comment_id": 74340706, "body": "Because <i>this</i> question is <i>&quot;Why does my number generator function generate the same number&quot;</i>, which the duplicate addresses, and your answer answers the question <i>&quot;How can I generate some numbers within a certain range&quot;</i>."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1493249399, "post_id": 43645967, "comment_id": 74340729, "body": "No it generates unique numbers within a certain range. Anyhow sorry for asking you to see my answer. I meant to tell the OP."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "reply_to_user": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1493251109, "post_id": 43645967, "comment_id": 74341172, "body": "@CodingYoshi standard answer to &quot;unique random numbers&quot; is pick as necessary while shuffleing at the same time for reasonably sized ranges (O(1) for each number or O(numbers_to_pick) total)... And your code does not work anyway for huge ranges when you need to pick almost all numbers."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1493255453, "post_id": 43645967, "comment_id": 74342226, "body": "@alexeilevenkov can you elaborate please? Why wouldn&#39;t my answer work? I can see it will take longer as it fills up but why won&#39;t it work? Any reading you can suggest please"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1493267050, "post_id": 43645967, "comment_id": 74345251, "body": "I&#39;ve commented and voted accordingly on your post (in my first comment I missed the fact code is just incorrect)"}], "owner": {"reputation": 29, "user_id": 7903937, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2e6fb5a4d2ee81a13b50797f1ed99a66?s=128&d=identicon&r=PG&f=1", "display_name": "Quinnos Romynos", "link": "https://stackoverflow.com/users/7903937/quinnos-romynos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "closed_date": 1493248042, "answer_count": 0, "score": 0, "last_activity_date": 1493247953, "creation_date": 1493247953, "question_id": 43645967, "link": "https://stackoverflow.com/questions/43645967/random-number-generator-loop-isnt-working", "closed_reason": "Duplicate", "title": "Random number generator loop isnt working", "body": "<p>Theres probably something wrong with the flow of logic in this code, though i thought i would post it here to see if its something simple i am missing.\n(It probably is, as i am currently quite new to c#).</p>\n\n<p>This script is supposed to generate X amount of random numbers between a High value and a Low value, as well as ensuring it does not generate the same random number twice.</p>\n\n<p>Right now, the script is not having any errors, but is only creating one random number, regardless of the defined 'amount' of numbers to create.</p>\n\n<p>I tried changing \"int numberof = 11; to a public int, but apparently that breaks the entire program and i dont know why.</p>\n\n<p>Anyway, support is appreciated. Thanks :)</p>\n\n<p>Code:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace Randomnumbers\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            int numberof = 11;\n            Console.WriteLine(\"Numbers Generated:\");\n            while (numberof &gt; 0) //Repeats this loop once for each \"numberof\". (until the number hits zero)\n            {\n                numberof = numberof - 1;\n                generatenewnumber(); //Calls the function\n            }\n            if (numberof == 0)\n            {\n                Console.ReadLine(); // Here so the program doesnt instantly close\n            }\n        }\n\n        static void generatenewnumber()\n        {\n            var rng = new Random();\n            int lowrange = 0;\n            int highrange = 50;\n            int numberof = 11;\n            int number = rng.Next(lowrange, highrange); //Sets the number to a random number between the high and low values.\n            var generated = new List&lt;int&gt;(); // Creates a list of numbers that have been generated already to prevent double-ups.\n            while (numberof &gt; 0)\n            {\n                if (generated.Contains(number)) // Checks if the rg'd number has already been made.\n                {\n                    generatenewnumber(); //Calls the function above\n                }\n                else\n                {\n                    numberof = numberof - 1;\n                    generated.Add(number); // Adds the genereated number to the list.\n                    Console.WriteLine(number); // Prints the number. \n                    Console.ReadLine();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "regex"], "answers": [{"comments": [{"owner": {"reputation": 3651, "user_id": 383779, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/363c7fb07b9e121acdb8c40115b94e34?s=128&d=identicon&r=PG", "display_name": "sergiol", "link": "https://stackoverflow.com/users/383779/sergiol"}, "edited": false, "score": 0, "creation_date": 1493248893, "post_id": 43646088, "comment_id": 74340586, "body": "It seems to me it would return the two values. I think @Seth Pacheco should instead change the the expression to be <i>word boundary</i> or <i>word end</i> after <code>mary</code>. I don&#39;t know the specific escape sequence for it in C#, but he can search."}, {"owner": {"reputation": 1618, "user_id": 305043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7e3e44a7fa84d1449455aba670a48187?s=128&d=identicon&r=PG&f=1", "display_name": "PM.", "link": "https://stackoverflow.com/users/305043/pm"}, "reply_to_user": {"reputation": 3651, "user_id": 383779, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/363c7fb07b9e121acdb8c40115b94e34?s=128&d=identicon&r=PG", "display_name": "sergiol", "link": "https://stackoverflow.com/users/383779/sergiol"}, "edited": false, "score": 0, "creation_date": 1493255964, "post_id": 43646088, "comment_id": 74342360, "body": "I am not sure about other conditions but I tested these two inputs in my console application and got just one in the output."}, {"owner": {"reputation": 3651, "user_id": 383779, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/363c7fb07b9e121acdb8c40115b94e34?s=128&d=identicon&r=PG", "display_name": "sergiol", "link": "https://stackoverflow.com/users/383779/sergiol"}, "edited": false, "score": 1, "creation_date": 1493257272, "post_id": 43646088, "comment_id": 74342684, "body": "OP needs to clarify what is the criteria for accepting/rejecting an entry into the list."}, {"owner": {"reputation": 3, "user_id": 7928196, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BWsM7RoR168/AAAAAAAAAAI/AAAAAAAADrg/t5QtSzAlPW4/photo.jpg?sz=128", "display_name": "SPACH", "link": "https://stackoverflow.com/users/7928196/spach"}, "edited": false, "score": 0, "creation_date": 1493264409, "post_id": 43646088, "comment_id": 74344490, "body": "This answer does work with the example. The criteria for the search is to return anything that has &quot;st mary,&quot; &quot;st. mary,&quot; &quot;saint mary,&quot; or possibly the plural of mary (&quot;mary&#39;s&quot;). So if there was a couple more strings in the list, &quot;Cardiovascular Specialists Of Central Maryland,&quot; &quot;Centre Hospitalier St- Mary,&quot; &quot;Saint Mary&#39;s Home of Erie,&quot; and &quot;Carondelet St. Mary&#39;s Hospital.&quot; I would want the search to the last three not the first (&quot;Cardiovascular Specialists Of Central Maryland&quot;). Thanks in advance!"}], "tags": [], "owner": {"reputation": 1618, "user_id": 305043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7e3e44a7fa84d1449455aba670a48187?s=128&d=identicon&r=PG&f=1", "display_name": "PM.", "link": "https://stackoverflow.com/users/305043/pm"}, "is_accepted": false, "score": 0, "last_activity_date": 1493273917, "last_edit_date": 1493273917, "creation_date": 1493248668, "answer_id": 43646088, "question_id": 43645937, "link": "https://stackoverflow.com/questions/43645937/regex-searching-for-a-letter-starting-a-word-and-next-word-containing-another-wo/43646088#43646088", "title": "Regex searching for a letter starting a word and next word containing another word", "body": "<p>You need to change your regular expression like:</p>\n\n<p><code>var pattern = @\"(?&lt;!\\w)s\\w+[-|</code>|~|@|(|)|.]*[\\s]+Mary\";`</p>\n\n<p><strong>[-|`|~|@|(|)|.]</strong> specifies the special characters allowed between <strong>S*</strong> and Mary like <strong>St- Mary</strong></p>\n"}, {"tags": [], "owner": {"reputation": 3651, "user_id": 383779, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/363c7fb07b9e121acdb8c40115b94e34?s=128&d=identicon&r=PG", "display_name": "sergiol", "link": "https://stackoverflow.com/users/383779/sergiol"}, "is_accepted": false, "score": 0, "last_activity_date": 1493249421, "creation_date": 1493249421, "answer_id": 43646216, "question_id": 43645937, "link": "https://stackoverflow.com/questions/43645937/regex-searching-for-a-letter-starting-a-word-and-next-word-containing-another-wo/43646216#43646216", "title": "Regex searching for a letter starting a word and next word containing another word", "body": "<p>Put a <code>\\b</code> \u2014 which means <strong>word boundary</strong> after <code>mary</code>.</p>\n\n<p><a href=\"http://www.tutorialspoint.com/compile_csharp_online.php?PID=0Bw_CjBb95KQMRGhSQ01YRzBwODg\" rel=\"nofollow noreferrer\">demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 7928196, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BWsM7RoR168/AAAAAAAAAAI/AAAAAAAADrg/t5QtSzAlPW4/photo.jpg?sz=128", "display_name": "SPACH", "link": "https://stackoverflow.com/users/7928196/spach"}, "edited": false, "score": 0, "creation_date": 1493314127, "post_id": 43657784, "comment_id": 74375652, "body": "Would it be possible to skip a word? For example if I had an entry named &quot;Albuquerque Associated Podiatrists&quot; and I searched &#39;alb podia&#39; then it would return that entry. Right now the regex pattern will only return &quot;Albuquerque Associated Podiatrists&quot; if I search &#39;alb associa&#39; (after the space has to be the next word. What if it&#39;s a word in the name but not necessarily the next one). I just replaced the &#39;s&#39; and the &#39;mary&#39; exact charaters in the regex pattern for this example."}, {"owner": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "reply_to_user": {"reputation": 3, "user_id": 7928196, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BWsM7RoR168/AAAAAAAAAAI/AAAAAAAADrg/t5QtSzAlPW4/photo.jpg?sz=128", "display_name": "SPACH", "link": "https://stackoverflow.com/users/7928196/spach"}, "edited": false, "score": 0, "creation_date": 1493325321, "post_id": 43657784, "comment_id": 74381817, "body": "Are you now wanting to match strings like <code>Specialists of Maryland</code> that were excluded in the original question?"}], "tags": [], "owner": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "is_accepted": true, "score": 0, "last_activity_date": 1493295977, "creation_date": 1493295977, "answer_id": 43657784, "question_id": 43645937, "link": "https://stackoverflow.com/questions/43645937/regex-searching-for-a-letter-starting-a-word-and-next-word-containing-another-wo/43657784#43657784", "title": "Regex searching for a letter starting a word and next word containing another word", "body": "<p>The <code>.*</code> is the problem within the regular expression given in the question. That <code>.*</code> matches too much text. (Changing it to a non-greedy <code>.*?</code> will not work.)</p>\n\n<p>From the question and additional example in comments, the match should be of:</p>\n\n<ul>\n<li>A word starting with <code>s</code>. The definition of \"word\" is not precise but using \"any characters that are not spaces\" matches the examples.</li>\n<li>A separator between two words. Assume that one or more spaces is allowed.</li>\n<li>A word starting with the letters <code>mary</code>. Anything may follow these four characters.</li>\n</ul>\n\n<p>This leads to the simple regular expression: <code>\\bs[^ ]* +mary</code></p>\n\n<pre><code>\\b               A word boundary\ns                This exact character\n[^ ]*            Zero or more characters that are not spaces\n +               One or more spaces\nmary             These exact characters\n</code></pre>\n\n<hr>\n\n<p>Combining and sorting the examples in the question and the comments gives these as example that should match:</p>\n\n<pre><code>Avera St. Mary's Hospital\nCarondelet St. Mary's Hospital.\nCentre Hospitalier St- Mary,\nsaint mary,\nSaint Mary's Home of Erie,\nst mary\nst mary's\nst. mary,\n</code></pre>\n\n<p>These are example that should not match:</p>\n\n<pre><code>Arthritis Care Specialists of Maryland\nCardiovascular Specialists Of Central Maryland,\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7928196, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BWsM7RoR168/AAAAAAAAAAI/AAAAAAAADrg/t5QtSzAlPW4/photo.jpg?sz=128", "display_name": "SPACH", "link": "https://stackoverflow.com/users/7928196/spach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 43657784, "answer_count": 3, "score": 0, "last_activity_date": 1493295977, "creation_date": 1493247750, "question_id": 43645937, "link": "https://stackoverflow.com/questions/43645937/regex-searching-for-a-letter-starting-a-word-and-next-word-containing-another-wo", "title": "Regex searching for a letter starting a word and next word containing another word", "body": "<p>How might I search through a list of names and only return the names that have a word starting with 's' and the next word starting with 'mary'?</p>\n\n<p>For example, I have 2 titles: \"Avera St. Mary's Hospital\" and \"Arthritis Care Specialists of Maryland\". I search 'S Mary' and would like it to return \"Avera St. Mary's Hospital\" not \"Arthritis Care Specialists of Maryland\". My code returns both...Any help would be much appreciated!</p>\n\n<pre><code>var testList = new List&lt;string&gt;();\nList&lt;string&gt; titles = new List&lt;string&gt;();\ntitles.Add(\"Avera St. Mary's Hospital\");\ntitles.Add(\"Arthritis Care Specialists of Maryland\");\nforeach (var title in titles)\n{\n    var pattern = @\"(?&lt;!\\w)s.*\\smary\";\n    Regex r = new Regex(pattern, RegexOptions.IgnoreCase);\n    Match m = r.Match(title);\n    if (m.Success)\n    {\n        testList.Add(title);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "excel", "vsto", "excel-addins", "vba"], "answers": [{"tags": [], "owner": {"reputation": 12766, "user_id": 863240, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/a2221c5cbaa548f9022616b4f6d6a59a?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Du\u0161ek", "link": "https://stackoverflow.com/users/863240/daniel-du%c5%a1ek"}, "is_accepted": false, "score": 0, "last_activity_date": 1493296170, "creation_date": 1493296170, "answer_id": 43657857, "question_id": 43645854, "link": "https://stackoverflow.com/questions/43645854/listobject-contains-extra-headers-after-adding/43657857#43657857", "title": "ListObject contains extra headers after adding", "body": "<p>Here it will be probably necessary explicitly say where the <code>Source</code> is located otherwise Excel chooses the closest cells as source by himself. In the following code the <code>Source</code> is set to <code>Range[D3]</code>. Hope this will work with your xml data correctly.</p>\n\n<p>The <code>Add</code> method has some other parameter <code>Destination</code> which seems to be used to specify the upper left cell of the table but I was not able to make it work with source-Type <code>xlSrcXml</code>.  </p>\n\n<pre><code>listObject?.Delete();\nlistObject = sheet.ListObjects.Add(Source: ((Worksheet)sheet).Range[\"D3\"]);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 3082223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012ac619e3d6180811f12e38d3d42cd3?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Matveev", "link": "https://stackoverflow.com/users/3082223/michael-matveev"}, "is_accepted": false, "score": 1, "last_activity_date": 1493297918, "creation_date": 1493297918, "answer_id": 43658582, "question_id": 43645854, "link": "https://stackoverflow.com/questions/43645854/listobject-contains-extra-headers-after-adding/43658582#43658582", "title": "ListObject contains extra headers after adding", "body": "<p>It turned out that I have to specify both <code>Destination</code> and <code>Source</code> parameters pointed to the same range.</p>\n\n<pre><code>var tableCell = sheet.get_Range(\"D3\");\nlistObject = sheet.ListObjects.Add(SourceType: Excel.XlListObjectSourceType.xlSrcRange, Source: tableCell, Destination: tableCell, XlListObjectHasHeaders: Excel.XlYesNoGuess.xlNo);\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 3082223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012ac619e3d6180811f12e38d3d42cd3?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Matveev", "link": "https://stackoverflow.com/users/3082223/michael-matveev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1493297918, "creation_date": 1493247289, "last_edit_date": 1531161705, "question_id": 43645854, "link": "https://stackoverflow.com/questions/43645854/listobject-contains-extra-headers-after-adding", "title": "ListObject contains extra headers after adding", "body": "<p>I add a new ListObject on the worksheet starting from D3 cell and then create columns and bind them with XMLMap. Here is my code:</p>\n\n<pre><code>            Excel.Worksheet sheet = _workbook.Sheets[\"Data1\"];\n            sheet.Activate();\n            sheet.get_Range(\"D3\").Select();\n\n            var xmlMap = _workbook\n                .XmlMaps\n                .Add(collectionDatablock.GetSchema(), NetworkTree.RootName);\n            xmlMap.Name = collectionDatablock.Name;\n\n            var listObject = sheet\n                .ListObjects\n                .Cast&lt;Excel.ListObject&gt;()\n                .SingleOrDefault(l =&gt; l.Name == \"ListName\");\n\n            listObject?.Delete();\n            listObject = sheet.ListObjects.Add();\n\n            listObject.Name = \"ListName\";\n\n            var column = listObject\n                .ListColumns\n                .Cast&lt;Excel.ListColumn&gt;()\n                .First();\n\n            SetColumn(column, xmlMap, \"Col1\", \"/Root/Region/@UniqueName\");\n            var newColumn = listObject.ListColumns.Add();\n            SetColumn(newColumn, xmlMap, f, solution, \"Col2\", \"/Root/Region/@Code\");\n</code></pre>\n\n<p>And SetColumn method:</p>\n\n<pre><code>    private void SetColumn(Excel.ListColumn column, Excel.XmlMap map, string header, string path)\n    {\n        column.Name = GetColumnCaption(header);\n        column.XPath.SetValue(map, path);\n    }\n</code></pre>\n\n<p>This code work as expected on empty worksheet but if there are any data above table (for example D2 cell has a value) then the list table is moved up and D2 becomes the top left corner of table! Further more if D1, D2 and E2 cells have values then an extra column for table is generated, called \"Column2\". Seems Excel try to include all data from range above a table into ListObject. How to prevent it?</p>\n"}, {"tags": ["c#", "winforms", "datagridview"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1493246942, "post_id": 43645709, "comment_id": 74339936, "body": "where is you code that determines that Selected Row.. how do you have this setup to determine if the CELL or Row or Full ROW has been selected.. can you show you actual code where you are trying to determine the row Index or current row they are on..?"}, {"owner": {"reputation": 1362, "user_id": 4910205, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wz5LG.jpg?s=128&g=1", "display_name": "Brendan Gooden", "link": "https://stackoverflow.com/users/4910205/brendan-gooden"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1493247148, "post_id": 43645709, "comment_id": 74340005, "body": "@MethodMan see update."}, {"owner": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "edited": false, "score": 0, "creation_date": 1493247883, "post_id": 43645709, "comment_id": 74340263, "body": "I am not sure what the issue is\u2026 the code you posted DOES NOT return the same value for the two different rows. I put a message box to display <code>currentRowIndex</code> in the posted code and the numbers were NOT the same as you describe. Am I missing something?"}, {"owner": {"reputation": 1362, "user_id": 4910205, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wz5LG.jpg?s=128&g=1", "display_name": "Brendan Gooden", "link": "https://stackoverflow.com/users/4910205/brendan-gooden"}, "reply_to_user": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "edited": false, "score": 0, "creation_date": 1493248520, "post_id": 43645709, "comment_id": 74340475, "body": "@JohnG Could it be something to do with the fact that I&#39;m using ComboBox columns???"}, {"owner": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "edited": false, "score": 0, "creation_date": 1493248783, "post_id": 43645709, "comment_id": 74340553, "body": "A combo box column appears to make no difference\u2026 still the row indexes are different. I am curious why you would be concerned about WHICH row index is present\u2026If the selected row IS the NEW row, simply ignore it as the posted code appears to do successfully."}, {"owner": {"reputation": 1362, "user_id": 4910205, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wz5LG.jpg?s=128&g=1", "display_name": "Brendan Gooden", "link": "https://stackoverflow.com/users/4910205/brendan-gooden"}, "reply_to_user": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "edited": false, "score": 0, "creation_date": 1493249909, "post_id": 43645709, "comment_id": 74340852, "body": "@JohnG, that&#39;s the thing. It doesn&#39;t show the selected row as NEW row for some reason. Could be to do with the data binding do you think?"}, {"owner": {"reputation": 1362, "user_id": 4910205, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wz5LG.jpg?s=128&g=1", "display_name": "Brendan Gooden", "link": "https://stackoverflow.com/users/4910205/brendan-gooden"}, "edited": false, "score": 0, "creation_date": 1493250048, "post_id": 43645709, "comment_id": 74340886, "body": "Here&#39;s a video of me during debug mode, testing each row. <a href=\"https://www.dropbox.com/s/zhtw8p9cknxc1s2/Untitled.mp4?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/zhtw8p9cknxc1s2/Untitled.mp4?dl=0</a>"}, {"owner": {"reputation": 1362, "user_id": 4910205, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wz5LG.jpg?s=128&g=1", "display_name": "Brendan Gooden", "link": "https://stackoverflow.com/users/4910205/brendan-gooden"}, "edited": false, "score": 0, "creation_date": 1493250247, "post_id": 43645709, "comment_id": 74340947, "body": "Even <code>CurrentCell</code> displays ColumnIndex 3, RowIndex 1   for both above images."}, {"owner": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "edited": false, "score": 0, "creation_date": 1493252502, "post_id": 43645709, "comment_id": 74341521, "body": "You are correct... if the datagridview is data bound these indexes are not returning the correct row index. I will look into this, but I am guessing you may have to get the DataBoundItem for that row. I will get back if someone else does not supply an answer."}, {"owner": {"reputation": 1362, "user_id": 4910205, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wz5LG.jpg?s=128&g=1", "display_name": "Brendan Gooden", "link": "https://stackoverflow.com/users/4910205/brendan-gooden"}, "reply_to_user": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "edited": false, "score": 0, "creation_date": 1493253332, "post_id": 43645709, "comment_id": 74341697, "body": "Thanks @JohnG, appreciate it"}], "answers": [{"tags": [], "owner": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "is_accepted": true, "score": 2, "last_activity_date": 1493259493, "last_edit_date": 1493259493, "creation_date": 1493258885, "answer_id": 43647492, "question_id": 43645709, "link": "https://stackoverflow.com/questions/43645709/last-and-second-to-last-row-displaying-same-currentrow-index/43647492#43647492", "title": "Last and Second-to-Last row displaying same &#39;CurrentRow&#39; index", "body": "<p>I am not sure WHY the <code>IsNewRow</code> property is not working as described and I am also not sure WHY the returned index is the same for the new row and the last row with data.</p>\n\n<p>Below is a possible workaround. It appears that if you get the first <code>int trueRowIndex = dataGridView1.SelectedCells[0].RowIndex;</code> it will return the proper index.</p>\n\n<p>The previous statement will return the same index for the <code>datagridView1.CurrentCell.RowIndex</code> <strong>UNLESS</strong> it is the new row. The code below is an example of this.</p>\n\n<p>I wish I had a better answer as to WHY, unfortunately this alternative is the only solution I can suggest at this time. I will try to find out why the <code>IsNewRow</code> property does not work with DataBound Items. Hope this helps.</p>\n\n<pre><code>private void btnDelete_Click(object sender, EventArgs e) {\n  try {\n    int currentRowIndex = dataGridView1.CurrentCell.RowIndex;\n    int trueRowIndex = dataGridView1.SelectedCells[0].RowIndex;\n    //MessageBox.Show(\"currentRowIndex \" + currentRowIndex + \" true row index: \" + trueRowIndex);\n    if (currentRowIndex != trueRowIndex) {\n      MessageBox.Show(\"Row Is New Row\");\n    }\n    else {\n      MessageBox.Show(\"Row Is not New Row\");\n      dataGridView1.Rows.RemoveAt(dataGridView1.CurrentRow.Index);\n      //new SqlCommand(\"DELETE FROM IncomingVisitorList WHERE Counter = \" + counter, SqlConnection).ExecuteNonQuery();\n    }\n  }\n  catch (Exception ex) {\n    MessageBox.Show(\"Error: \" + ex.Message);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1362, "user_id": 4910205, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wz5LG.jpg?s=128&g=1", "display_name": "Brendan Gooden", "link": "https://stackoverflow.com/users/4910205/brendan-gooden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 1, "closed_date": 1493281769, "accepted_answer_id": 43647492, "answer_count": 1, "score": 1, "last_activity_date": 1493277270, "creation_date": 1493246516, "last_edit_date": 1493277270, "question_id": 43645709, "link": "https://stackoverflow.com/questions/43645709/last-and-second-to-last-row-displaying-same-currentrow-index", "closed_reason": "Needs more focus", "title": "Last and Second-to-Last row displaying same &#39;CurrentRow&#39; index", "body": "<p>In my DataBound DataGridView in Winforms C# (bound to DataTable), I'm trying to determine if the user has selected the <code>NewRow</code> that is automatically added every time more data is added to the grid. If the <code>NewRow</code> is selected, I want to ignore the Delete Row click, however in the below 2 screenshots, <code>datagridview1.CurrentRow.Index</code> is returning the same value. Any help is much appreciated!</p>\n\n<p><a href=\"https://i.stack.imgur.com/jkGuU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jkGuU.jpg\" alt=\"\"></a><a href=\"https://i.stack.imgur.com/GHdzF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GHdzF.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>In both the above cases, <code>datagridview1.CurrentRow.Index</code> displayed <code>1</code></p>\n\n<p>I tried using <code>datagridview1.CurrentRow.IsNewRow</code> however because the index is showing the same, it obviously doesn't work.</p>\n\n<p>This is the code for the <code>deleteRow</code> button</p>\n\n<pre><code>private void btnDeleteRow_Click(object sender, EventArgs e)\n{\n    try\n    {\n        int currentRowIndex = dataGridView1.CurrentRow.Index; // TESTING DURING DEBUG, THIS PRODUCES THE SAME VALUE FOR BOTH ROWS PICTURED\n        if (dataGridView1.CurrentRow.IsNewRow) return;\n        var counter = dataGridView1.CurrentRow.Cells[0].Value;\n        dataGridView1.Rows.RemoveAt(dataGridView1.CurrentRow.Index);\n        new SqlCommand(\"DELETE FROM IncomingVisitorList WHERE Counter = \" + counter, SqlConnection).ExecuteNonQuery();\n\n    }\n    catch { } // SUPPRESS/IGNORE NULL ROW EXCEPTION\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "listbox"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1493246655, "post_id": 43645650, "comment_id": 74339827, "body": "why don&#39;t you for starters, show us what you have tried on your own.. second of all you can store the values in a <code>List&lt;object&gt;</code> for testing by creating an instance of that for example  <code>var myTypes = new List&lt;object&gt;(){ string, string, double, Color, douuble, string, double}</code>"}, {"owner": {"reputation": 9031, "user_id": 3667257, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/tmhZR.jpg?s=128&g=1", "display_name": "AnjumSKhan", "link": "https://stackoverflow.com/users/3667257/anjumskhan"}, "edited": false, "score": 0, "creation_date": 1493271207, "post_id": 43645650, "comment_id": 74346592, "body": "Use separate <code>List&lt;T&gt; objects</code> as <code>ListBox.ItemsSource</code>, see <code>https:&#47;&#47;wpf.2000things.com&#47;</code> for good tutorials."}, {"owner": {"reputation": 1488, "user_id": 1663332, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c66bc55f6591fd70fe616a3905a72241?s=128&d=identicon&r=PG&f=1", "display_name": "Naresh Ravlani", "link": "https://stackoverflow.com/users/1663332/naresh-ravlani"}, "edited": false, "score": 0, "creation_date": 1493271352, "post_id": 43645650, "comment_id": 74346653, "body": "I think main problem here is to classify data in different lists of metal, double and colour and not just to load them into a single list or ItemsSource"}], "answers": [{"tags": [], "owner": {"reputation": 1488, "user_id": 1663332, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c66bc55f6591fd70fe616a3905a72241?s=128&d=identicon&r=PG&f=1", "display_name": "Naresh Ravlani", "link": "https://stackoverflow.com/users/1663332/naresh-ravlani"}, "is_accepted": false, "score": 0, "last_activity_date": 1493271409, "creation_date": 1493271409, "answer_id": 43649400, "question_id": 43645650, "link": "https://stackoverflow.com/questions/43645650/store-data-of-different-types-using-listboxes/43649400#43649400", "title": "store data of different types using listboxes", "body": "<p>This is pretty straight forward. Read a file in stream reader. Split stream with commas and create a list of strings out of it. Apply following filter methods to classify data in Metal, Color and Double. Here, I have used reference of System.Drawing to check the colour name.</p>\n\n<pre><code>private void ClassifyData()\n        {\n            double dblValue = 0;\n            foreach (var item in RandomData)\n            {\n                if (double.TryParse(item, out dblValue))\n                {\n                    dblList.Add(dblValue);\n                }\n                else if (CheckColor(item))\n                {\n                    ColorList.Add(item);\n                }\n                else\n                {\n                    MetalList.Add(item);\n                }\n            }\n        }\n\n        private bool CheckColor(string colorName)\n        {\n            Color c = Color.FromName(colorName);\n            if (c.IsKnownColor)\n                return true;\n            return false;\n        }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7896290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a630a082b6e894b4139378cda046524?s=128&d=identicon&r=PG&f=1", "display_name": "adamat", "link": "https://stackoverflow.com/users/7896290/adamat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1493271409, "creation_date": 1493246189, "last_edit_date": 1493247226, "question_id": 43645650, "link": "https://stackoverflow.com/questions/43645650/store-data-of-different-types-using-listboxes", "title": "store data of different types using listboxes", "body": "<p>i have a file which has  three types of data the first is type of metal second being a colour and the thrid being quantity of colour , but the number of times they appear in the text file changes (last two types of data),</p>\n\n<pre><code>     led, black, 0.50, blue, 0.75, green, 0.60 \n     copper,blue, 0.48, red, 0.88, pink, 0.33\n     steel, red, 0.65, black, 0.55\n     iron, white, 0.5\n     copper, black, 1, red, 0.80\n     steel, red, 0.62, yellow, 0.50\n     copper, blue, 0.48\n</code></pre>\n\n<p>I need a stream reader to read this data in and store it in an appropriate data structure. which then can be used in different parts of my application in WPF, for example the metal type will be placed in one listbox and the other two will be placed in another list box. </p>\n\n<pre><code>     StreamReader reader = new StreamReader(File.OpenRead(\"paint.txt\"));\n        string line;\n        while ((line = reader.ReadLine()) != null)\n        {\n\n            string[] items = line.Split(',');\n            cat1 = (items[2]);\n            string path = null;\n            ;\n\n            string[] led = new string[items.Length];\n            string[] copper = new string[items.Length];\n\n\n            for (int i = 0; i &lt; items.Length; i++)\n            {\n                led[i] = items[i];\n                copper[j] = items[i]\n\n\n                foreach (string paint in items)\n                {\n                    if (paint.StartsWith(\"led\")) /// paint\n                    {\n                        path = paint;\n                        led[i] = paint;\n\n                    }\n\n                    if (paint.StartsWith(\"copper\")) /// paint\n                    {\n                        path = paint;\n                        led[i] = paint;\n\n                    }\n                }\n\n            }\n\n        }\n\n}\n</code></pre>\n\n<p>what i've done so far</p>\n"}, {"tags": ["c#", "jquery", "mysql", "asp.net", "ajax"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7928075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47b1ceae8e2b0a16923057f0e8a2434c?s=128&d=identicon&r=PG&f=1", "display_name": "J Pham", "link": "https://stackoverflow.com/users/7928075/j-pham"}, "is_accepted": false, "score": 0, "last_activity_date": 1493341706, "creation_date": 1493341706, "answer_id": 43670339, "question_id": 43645589, "link": "https://stackoverflow.com/questions/43645589/ajax-get-request-returning-404-when-trying-to-call-a-function-located-in-a-web-s/43670339#43670339", "title": "ajax GET request returning 404 when trying to call a function located in a web service", "body": "<p>So I ended up creating an empty project and copying code over to it, and my Jquery code started working. It must have been some issue with Visual Studios.</p>\n"}], "owner": {"reputation": 11, "user_id": 7928075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47b1ceae8e2b0a16923057f0e8a2434c?s=128&d=identicon&r=PG&f=1", "display_name": "J Pham", "link": "https://stackoverflow.com/users/7928075/j-pham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1493341706, "creation_date": 1493245921, "last_edit_date": 1493260683, "question_id": 43645589, "link": "https://stackoverflow.com/questions/43645589/ajax-get-request-returning-404-when-trying-to-call-a-function-located-in-a-web-s", "title": "ajax GET request returning 404 when trying to call a function located in a web service", "body": "<p>I am trying to populate a drop down list with data that is returned via ajax GET to mySQL database table.\nIf i try navigating to /CustomerService.svc in the browser then the page shows up, but if i try to go to /CustomerService.svc/GetCustomers then I get error status code 404: url not found/resource failed to load.\nMy error as copied from the Chrome Dev Tools Console:</p>\n\n<pre><code>GET http://localhost:54522/CustomerService.svc/GetCustomer 404 (Not Found)\nsend @ jquery.min.js:2\najax @ jquery.min.js:2\nCustomerDropDown @ Customer.js:142\n(anonymous) @ Customer.js:13\ndispatch @ jquery.min.js:2\nh @ jquery.min.js:2\n</code></pre>\n\n<p>[This is the DevTools console in Chrome.][1]\n[This is the error page shown when I request the URL through ajax.][2]</p>\n\n<p>CODE:</p>\n\n<pre><code>//In Customer.js:\n\n    $(\"#edit-tab\").click(function () {\n            CustomerDropDown('inputCustomerSelect');\n        });\n\n    function CustomerDropDown(elementId) {\n            var element = \"#\" + elementId;\n            var removeOptions = element + \" option\";\n            $(removeOptions).remove();\n        $.ajax({\n            url: '/CustomerService.svc/GetCustomers',\n            method: 'GET',\n            dataType: 'json',\n            contentType: \"application/json; charset=utf-8\",\n            success: function (data) {\n                var customers = data;\n                var selectHtml = \"\";\n                selectHtml += \"&lt;option value='0'&gt;  Select Customer &lt;/option&gt;\";\n                customers.forEach(function (customer) {\n                    selectHtml += \"&lt;option value='\" + customer.id + \"'&gt;\" + customer.companyName + \"&lt;/option&gt;\";\n                });\n\n                $(element).append(selectHtml);\n\n            },\n            fail: function (data) {\n                alert(\"Failed to change customer due to:\" + data.d);\n            },\n            error: function (jqXHR, status, error) {\n                alert(jqXHR.statusText);\n                //alert('Status Code=' + jqXHR.status + ' Status=' + status + ' Error=' + error);\n            }\n        });\n    }\n\n//In CustomerService.svc:\n\n        namespace DPQ_AdminDatabaseEditor_WebApp\n        {\n            [ServiceContract(Namespace = \"\")]\n            [AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)]\n            public class CustomerService\n            {\n                // To use HTTP GET, add [WebGet] attribute. (Default ResponseFormat is WebMessageFormat.Json)\n                // To create an operation that returns XML,\n                //     add [WebGet(ResponseFormat=WebMessageFormat.Xml)],\n                //     and include the following line in the operation body:\n                //         WebOperationContext.Current.OutgoingResponse.ContentType = \"text/xml\";\n\n                // Add more operations here and mark them with [OperationContract]\n            [OperationContract]\n            [WebInvoke(Method = \"GET\",\n               BodyStyle = WebMessageBodyStyle.Bare,\n               ResponseFormat = WebMessageFormat.Json\n              )]\n            public List&lt;Customer&gt; GetCustomers()\n            {\n                CustomerDB customerDb = new CustomerDB();\n                List&lt;Customer&gt; costumers = customerDb.getCustomerList;\n                return costumers;\n            }\n    }\n    }\n\n//In CustomerDB.cs:\n\n    public List&lt;Customer&gt; getCustomerList\n            {\n                get\n                {\n                    MySqlConnection connection = new MySqlConnection(mySQLConnStr);\n                    string sel = \"SELECT * \" +\n                            \"FROM customer \" +\n                            \"ORDER BY name ASC\";\n\n                    MySqlCommand command = new MySqlCommand(sel, connection);\n\n                    try\n                    {\n                        connection.Open();\n                        customerList = new List&lt;Customer&gt;();\n\n                        MySqlDataReader mSqlReader = command.ExecuteReader();\n\n                        DataTable dtList = new DataTable();\n                        dtList.Load(mSqlReader);\n                        foreach (DataRow row in dtList.Rows)\n                        {\n                            int id = Convert.ToInt32(mSqlReader[\"id\"]);\n                            string compName = Convert.ToString(row[\"name\"]);\n                            decimal markup = Convert.ToInt32(row[\"markup\"]);\n                            decimal adder = Convert.ToInt32(row[\"adder\"]);\n                            bool active = Convert.ToBoolean(row[\"active\"]);\n\n                            Customer record = new Customer\n                            {\n                                id = id,\n                                companyName = compName,\n                                markup = markup,\n                                adder = adder,\n                                active = active\n                            };\n\n                            customerList.Add(record);\n                        }\n\n                        connection.Close();\n\n                    }\n                    catch (MySqlException ee)\n                    {\n                        connection.Close();\n                        Console.Write(ee.Message.ToString());\n                        return null;\n                    }\n                    return customerList;\n                }\n\n            }\n</code></pre>\n\n<p>I've also tried the url as 'h.t.tp://localhost:54522/CustomerService.svc/GetCustomers' and get the same error.[This is the project solution explorer.][3]</p>\n\n<p>In Web.config:</p>\n\n<pre><code>&lt;system.serviceModel&gt;\n    &lt;behaviors&gt;\n      &lt;endpointBehaviors&gt;\n        &lt;behavior name=\"DPQ_AdminDatabaseEditor_WebApp.CustomerServiceAspNetAjaxBehavior\"&gt;\n          &lt;webHttp /&gt;\n        &lt;/behavior&gt;\n        &lt;behavior name=\"DPQ_AdminDatabaseEditor_WebApp.VendorServiceAspNetAjaxBehavior\"&gt;\n          &lt;webHttp /&gt;\n        &lt;/behavior&gt;\n      &lt;/endpointBehaviors&gt;\n      &lt;serviceBehaviors&gt;\n        &lt;behavior name=\"\"&gt;\n          &lt;serviceMetadata httpGetEnabled=\"true\" httpsGetEnabled=\"true\" /&gt;\n          &lt;serviceDebug includeExceptionDetailInFaults=\"false\" /&gt;\n        &lt;/behavior&gt;\n      &lt;/serviceBehaviors&gt;\n    &lt;/behaviors&gt;\n    &lt;serviceHostingEnvironment aspNetCompatibilityEnabled=\"true\"\n      multipleSiteBindingsEnabled=\"true\" /&gt;\n    &lt;services&gt;\n      &lt;service name=\"DPQ_AdminDatabaseEditor_WebApp.CustomerService\"&gt;\n        &lt;endpoint address=\"\" behaviorConfiguration=\"DPQ_AdminDatabaseEditor_WebApp.CustomerServiceAspNetAjaxBehavior\"\n          binding=\"webHttpBinding\" contract=\"DPQ_AdminDatabaseEditor_WebApp.CustomerService\" /&gt;\n      &lt;/service&gt;\n      &lt;service name=\"DPQ_AdminDatabaseEditor_WebApp.VendorService\"&gt;\n        &lt;endpoint address=\"\" behaviorConfiguration=\"DPQ_AdminDatabaseEditor_WebApp.VendorServiceAspNetAjaxBehavior\"\n          binding=\"webHttpBinding\" contract=\"DPQ_AdminDatabaseEditor_WebApp.VendorService\" /&gt;\n      &lt;/service&gt;\n    &lt;/services&gt;\n  &lt;/system.serviceModel&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net", ".net", "linq"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1493245904, "post_id": 43645559, "comment_id": 74339586, "body": "first question I would ask is <code>Do you even understand the code that&#39;s been handed to &#47; given to you</code>? learn lambda expressions you could do this in so many different ways.. also ..there are plenty of examples on the web on how to do this.."}, {"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1493246110, "post_id": 43645559, "comment_id": 74339657, "body": "I DO understand it but its very ugly, so I wonder if there is a one liner code to do that validation"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1493249692, "post_id": 43645559, "comment_id": 74340799, "body": "This code only allows <code>c1</code> to be <code>nullOrEmpty</code> and still return <code>true</code>. Is that by design or is it a bug?"}], "answers": [{"tags": [], "owner": {"reputation": 8116, "user_id": 404421, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c0055698b6d967477739f6c9868ebb14?s=128&d=identicon&r=PG", "display_name": "Bojan Komazec", "link": "https://stackoverflow.com/users/404421/bojan-komazec"}, "is_accepted": true, "score": 3, "last_activity_date": 1493247153, "creation_date": 1493247153, "answer_id": 43645825, "question_id": 43645559, "link": "https://stackoverflow.com/questions/43645559/how-to-validate-that-4-fields-are-not-repeated-in-any-manner/43645825#43645825", "title": "How to validate that 4 fields are not repeated in any manner", "body": "<p>Just an idea:</p>\n\n<pre><code>var cellphones = new string[] { c1, c2, c3, c4 };\nbool allDistinct = cellphones.Distinct().Count() == cellphones.Count();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10981, "user_id": 291224, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2a2b1de121a75b7e9d4d92ad3f807e01?s=128&d=identicon&r=PG&f=1", "display_name": "Simsons", "link": "https://stackoverflow.com/users/291224/simsons"}, "is_accepted": false, "score": 1, "last_activity_date": 1493249197, "last_edit_date": 1493249197, "creation_date": 1493247686, "answer_id": 43645924, "question_id": 43645559, "link": "https://stackoverflow.com/questions/43645559/how-to-validate-that-4-fields-are-not-repeated-in-any-manner/43645924#43645924", "title": "How to validate that 4 fields are not repeated in any manner", "body": "<p>Get the distinct records and compare.</p>\n\n<pre><code>private bool Celularesvalidation(string c1, string c2, string c3, string c4)\n{\n    var cellPhones = new[] { c1,c2,c3,c4};\n    var distinctCellPhones   = cellPhones.Distinct();\n    return  distinctCellPhones.Count() &lt; cellPhones.Count();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1493250126, "last_edit_date": 1493250126, "creation_date": 1493249325, "answer_id": 43646198, "question_id": 43645559, "link": "https://stackoverflow.com/questions/43645559/how-to-validate-that-4-fields-are-not-repeated-in-any-manner/43646198#43646198", "title": "How to validate that 4 fields are not repeated in any manner", "body": "<p>Yeah, you can do it in one line if you really want to. This example also includes enforcing that none of them are null or empty:</p>\n\n<pre><code>private bool CelularesValidation(string c1, string c2, string c3, string c4)\n{\n    return new[] { c1, c2, c3, c4 }.Where(c =&gt; !string.IsNullOrEmpty(c))\n        .Distinct().Count() == 4;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1493344215, "post_id": 43646775, "comment_id": 74387981, "body": "I dont really understand this one, can you ellaborate?"}, {"owner": {"reputation": 646, "user_id": 1712323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74cdc66029fd25c13bb83971e6a34b6b?s=128&d=identicon&r=PG&f=1", "display_name": "loneshark99", "link": "https://stackoverflow.com/users/1712323/loneshark99"}, "reply_to_user": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1493348395, "post_id": 43646775, "comment_id": 74388928, "body": "@LuisValencia-MVP I added an image to the solution, Best way to see this in action is using Linqpad. First does a group by and using the grouping for each it will check is any one of them is repeated and if repeated , returns true."}], "tags": [], "owner": {"reputation": 646, "user_id": 1712323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74cdc66029fd25c13bb83971e6a34b6b?s=128&d=identicon&r=PG&f=1", "display_name": "loneshark99", "link": "https://stackoverflow.com/users/1712323/loneshark99"}, "is_accepted": false, "score": 0, "last_activity_date": 1493348204, "last_edit_date": 1493348204, "creation_date": 1493253600, "answer_id": 43646775, "question_id": 43645559, "link": "https://stackoverflow.com/questions/43645559/how-to-validate-that-4-fields-are-not-repeated-in-any-manner/43646775#43646775", "title": "How to validate that 4 fields are not repeated in any manner", "body": "<p>Another way of doing same thing</p>\n\n<p><a href=\"https://i.stack.imgur.com/sOSQq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sOSQq.png\" alt=\"Using Linqpad\"></a></p>\n\n<pre><code>   var list = new List&lt;string&gt; { c1, c2, c3, c4 };\n    var result = list.GroupBy(l =&gt; l, (a, b) =&gt; new { Key = a, Count = b.Count() }).Where(obj =&gt; obj.Count &gt; 1 &amp;&amp; !string.IsNullOrWhiteSpace(obj.Key)).FirstOrDefault() != null;\n    result.Dump();\n</code></pre>\n"}], "owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 43645825, "answer_count": 4, "score": 0, "last_activity_date": 1493348204, "creation_date": 1493245764, "last_edit_date": 1493249470, "question_id": 43645559, "link": "https://stackoverflow.com/questions/43645559/how-to-validate-that-4-fields-are-not-repeated-in-any-manner", "title": "How to validate that 4 fields are not repeated in any manner", "body": "<p>I have a form with a form with 4 fields that are cellphones, I need to validate that neither of those 4 fields are repeated within them.</p>\n\n<p>I didnt develop this myself, this was done by one of our devs, so I wonder if there is a way to do this in one line with linq or dictionaries?</p>\n\n<pre><code>private bool Celularesvalidation(string c1, string c2, string c3, string c4)\n{\n    var rs = false;\n    if (!string.IsNullOrEmpty(c2))\n    {\n        if (c1 == c2)\n        {\n            rs = true;\n        }\n    }\n    if (!string.IsNullOrEmpty(c3))\n    {\n        if (c3 == c1 || c3 == c2)\n        {\n            rs = true;\n        }\n    }\n    if (!string.IsNullOrEmpty(c4))\n    {\n        if (c4 == c1 || c4 == c2 || c4 == c3)\n        {\n            rs = true;\n        }\n    }\n\n    return rs;\n}\n</code></pre>\n"}, {"tags": ["c#", "android", "xamarin"], "comments": [{"owner": {"reputation": 6495, "user_id": 1082327, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/FzJNd.jpg?s=128&g=1", "display_name": "PoweredByOrange", "link": "https://stackoverflow.com/users/1082327/poweredbyorange"}, "edited": false, "score": 0, "creation_date": 1493245448, "post_id": 43645487, "comment_id": 74339434, "body": "If you&#39;re using C# 6 I think you can do <code>nameof(item.Age)</code> to get &quot;Age&quot; back. But something tells me the column name should already be in your object..."}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1493245495, "post_id": 43645487, "comment_id": 74339450, "body": "you want to iterate through each column of the table?"}, {"owner": {"reputation": 61, "user_id": 1659216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5da83f63bce904e2de95e181e0bf8ee?s=128&d=identicon&r=PG", "display_name": "miko", "link": "https://stackoverflow.com/users/1659216/miko"}, "edited": false, "score": 0, "creation_date": 1493245561, "post_id": 43645487, "comment_id": 74339473, "body": "yes i cant do nameof(item.Age) because its a loop, the name of the column is dynamic"}, {"owner": {"reputation": 61, "user_id": 1659216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5da83f63bce904e2de95e181e0bf8ee?s=128&d=identicon&r=PG", "display_name": "miko", "link": "https://stackoverflow.com/users/1659216/miko"}, "edited": false, "score": 0, "creation_date": 1493246238, "post_id": 43645487, "comment_id": 74339695, "body": "in php i can do <code>foreach ($array as $key =&gt; $value) {}</code> and <code>$key</code> represents the name of the column"}], "answers": [{"tags": [], "owner": {"reputation": 10981, "user_id": 291224, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2a2b1de121a75b7e9d4d92ad3f807e01?s=128&d=identicon&r=PG&f=1", "display_name": "Simsons", "link": "https://stackoverflow.com/users/291224/simsons"}, "is_accepted": false, "score": 0, "last_activity_date": 1493246744, "creation_date": 1493246744, "answer_id": 43645757, "question_id": 43645487, "link": "https://stackoverflow.com/questions/43645487/how-do-i-get-the-name-of-the-variable/43645757#43645757", "title": "How do I get the name of the variable?", "body": "<p>Given that table means sql table you could do something like:</p>\n\n<pre><code>public Dictionary&lt;string, string&gt; GetRegistry()\n        {\n\n\n            var table = this.connection.Table&lt;Registry&gt;();\n            Dictionary&lt;string, string&gt; RegistryItems = new Dictionary&lt;string, string&gt;();\n\n            var ages = table.Select(X =&gt; x.Name == \"Age\").ToList();\n\n        }\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 1659216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5da83f63bce904e2de95e181e0bf8ee?s=128&d=identicon&r=PG", "display_name": "miko", "link": "https://stackoverflow.com/users/1659216/miko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "closed_date": 1493250833, "answer_count": 1, "score": 0, "last_activity_date": 1493246744, "creation_date": 1493245313, "question_id": 43645487, "link": "https://stackoverflow.com/questions/43645487/how-do-i-get-the-name-of-the-variable", "closed_reason": "Duplicate", "title": "How do I get the name of the variable?", "body": "<p>I want to return some values using sqlite database with the following code:</p>\n\n<pre><code>    public Dictionary&lt;string, string&gt; GetRegistry()\n    {\n        var table = this.connection.Table&lt;Registry&gt;();\n        Dictionary&lt;string, string&gt; RegistryItems = new Dictionary&lt;string, string&gt;();\n\n        foreach (var item in table)\n        {\n\n        }\n    }\n</code></pre>\n\n<p>Given that <code>var item</code> represents an sql table item, so saying <code>item.Age</code> will be an age and so on. I want to be able to return a dictionary where i can do something like this:</p>\n\n<pre><code>Dictionary registry = this.GetRegistry();\nint myAge = registry[\"Age\"];\n</code></pre>\n\n<p>What should I do within the <code>foreach</code> clause to make this happen?\nThanks in advance!</p>\n"}, {"tags": ["c#", "azure", "azure-functions", "resx"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 519356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f09a4ea0145b54e2553960004fb4237?s=128&d=identicon&r=PG", "display_name": "des", "link": "https://stackoverflow.com/users/519356/des"}, "is_accepted": false, "score": 2, "last_activity_date": 1518070083, "creation_date": 1518070083, "answer_id": 48678685, "question_id": 43645305, "link": "https://stackoverflow.com/questions/43645305/using-resx-file-in-azure-function-app/48678685#48678685", "title": "Using .resx file in Azure Function App", "body": "<p><a href=\"https://github.com/Azure/Azure-Functions/issues/581\" rel=\"nofollow noreferrer\">It doesn't look like resource files are supported properly yet</a>.</p>\n\n<p>I worked around by reading the embedded resource file(s) into a resource set.</p>\n\n<pre><code>var culture = CultureInfo.CurrentUICulture;\nvar resourceName = $\"FunctionApp.Properties.Resources.{culture.TwoLetterISOLanguageName}.resources\";\nvar cultureResourceSet = new ResourceSet(Assembly.GetExecutingAssembly().GetManifestResourceStream(resourceName));\nvar localizedString = cultureResourceSet.GetString(resourceKey);\n// fallback to default language if not found\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14875, "user_id": 1100248, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/uE79r.jpg?s=128&g=1", "display_name": "Vova Bilyachat", "link": "https://stackoverflow.com/users/1100248/vova-bilyachat"}, "is_accepted": false, "score": 0, "last_activity_date": 1552621432, "creation_date": 1552621432, "answer_id": 55175233, "question_id": 43645305, "link": "https://stackoverflow.com/questions/43645305/using-resx-file-in-azure-function-app/55175233#55175233", "title": "Using .resx file in Azure Function App", "body": "<p>Provided answer did not help me so I've done small wrapper</p>\n\n<pre><code>  public static class ResourceWrapper\n    {\n        private static Dictionary&lt;string, ResourceSet&gt; _resourceSets = new Dictionary&lt;string, ResourceSet&gt;();\n        static ResourceWrapper()\n        {\n            _resourceSets.Add(\"uk\", Load(\"uk\"));\n            _resourceSets.Add(\"ru\", Load(\"ru\"));\n            _resourceSets.Add(\"en\", Emails.ResourceManager.GetResourceSet(CultureInfo.InvariantCulture, false, false));\n        }\n\n        private static ResourceSet Load(string lang)\n        {\n            var asm = System.Reflection.Assembly.LoadFrom(Path.Combine(Environment.CurrentDirectory, \"bin\", lang, \"Function.App.resources.dll\"));\n             var resourceName = $\"Function.App.Resources.Emails.{lang}.resources\";\n             var tt = asm.GetManifestResourceNames();\n            return new ResourceSet(asm.GetManifestResourceStream(resourceName));\n        }\n\n        public static string GetString(string key)\n        {\n            return _resourceSets[CultureInfo.CurrentUICulture.TwoLetterISOLanguageName].GetString(key);\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11490951, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OUlzH0Dbrsk/AAAAAAAAAAI/AAAAAAAAAAA/QOuHBMRzHvc/photo.jpg?sz=128", "display_name": "Gonza", "link": "https://stackoverflow.com/users/11490951/gonza"}, "is_accepted": false, "score": 0, "last_activity_date": 1557726857, "creation_date": 1557726857, "answer_id": 56106444, "question_id": 43645305, "link": "https://stackoverflow.com/questions/43645305/using-resx-file-in-azure-function-app/56106444#56106444", "title": "Using .resx file in Azure Function App", "body": "<p>this was my solution:</p>\n\n<p>First i do this:</p>\n\n<pre><code>    public void SetLanguage(FunctionRequestDTO data)\n    {\n\n        if (string.IsNullOrWhiteSpace(data.LanguageSetting))\n        {\n            Thread.CurrentThread.CurrentCulture = CultureInfo.InvariantCulture;\n            Thread.CurrentThread.CurrentUICulture = CultureInfo.InvariantCulture;\n        }\n        else\n        {\n            Thread.CurrentThread.CurrentCulture = CultureInfo.CreateSpecificCulture(data.LanguageSetting);\n            Thread.CurrentThread.CurrentUICulture = CultureInfo.CreateSpecificCulture(data.LanguageSetting);\n        }\n\n        ResourceWrapper.Load(Thread.CurrentThread.CurrentCulture.Name.ToLower());\n    }\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>   public static class ResourceWrapper\n    {\n        private static Dictionary&lt;string, ResourceSet&gt; ResourceSets = new Dictionary&lt;string, ResourceSet&gt;();\n\n        private const string DEFAULT_LANGUAGE_VALUE = \"default\";\n\n        static ResourceWrapper()\n        {\n            try\n            {\n                ResourceSets.Add(DEFAULT_LANGUAGE_VALUE, new ResourceSet(Assembly.GetExecutingAssembly().GetManifestResourceStream(\"Function.Logic.Resources.Resource.resources\")));\n            }\n            catch { }\n        }\n\n        public static void Load(string lang)\n        {\n            if (string.IsNullOrEmpty(lang) || ResourceSets.ContainsKey(lang))\n            {\n                return;\n            }\n\n            lock (new object())\n            {\n                if (ResourceSets.ContainsKey(lang))\n                {\n                    return;\n                }\n\n                try\n                {\n                    string rootPath = Environment.CurrentDirectory;\n\n                    if (!string.IsNullOrEmpty(Environment.GetEnvironmentVariable(\"HOME\")))\n                    {\n                        rootPath = Environment.GetEnvironmentVariable(\"HOME\") + \"\\\\site\\\\wwwroot\\\\\";\n                    }\n\n                    var asm = Assembly.LoadFrom(Path.Combine(rootPath, \"bin\", lang, \"Function.Logic.resources.dll\"));\n                    var resourceName = $\"Function.Logic.Resources.Resource.{lang}.resources\";\n                    ResourceSets.Add(lang, new ResourceSet(asm.GetManifestResourceStream(resourceName)));\n                }\n                catch { }\n            }\n        }\n\n        public static string GetString(string key)\n        {\n            string value = \"\";\n\n            try\n            {\n                string language = System.Threading.Thread.CurrentThread.CurrentCulture.Name.ToLower();\n\n                if (string.IsNullOrEmpty(language))\n                {\n                    language = DEFAULT_LANGUAGE_VALUE;\n                }\n\n                if (ResourceSets.ContainsKey(language))\n                {\n                    value = ResourceSets[language].GetString(key);\n                }\n\n            }\n            catch { }\n\n            return value ?? \"\";\n        }\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 4322226, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh5.googleusercontent.com/-R1rSbSAYNfw/AAAAAAAAAAI/AAAAAAAAAEw/HZjjV-2LzAA/photo.jpg?sz=128", "display_name": "Scott Lewis", "link": "https://stackoverflow.com/users/4322226/scott-lewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2781, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1557726857, "creation_date": 1493244390, "last_edit_date": 1528927855, "question_id": 43645305, "link": "https://stackoverflow.com/questions/43645305/using-resx-file-in-azure-function-app", "title": "Using .resx file in Azure Function App", "body": "<p>I am creating a new webhook C# function in Azure that I wish to return fixed content in different translations depending on either an incoming lang query parameter or the Accept-Language header. </p>\n\n<p>For storing the different translations I naturally think of .resx files. Is there a way to utilize .resx files in Azure Function Apps? </p>\n"}, {"tags": ["c#", "asp.net-mvc", "linq", "asp.net-core", "asp.net-mvc-viewmodel"], "comments": [{"owner": {"reputation": 8137, "user_id": 2559709, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/RHGiu.jpg?s=128&g=1", "display_name": "Alex Zhukovskiy", "link": "https://stackoverflow.com/users/2559709/alex-zhukovskiy"}, "edited": false, "score": 1, "creation_date": 1493244427, "post_id": 43645289, "comment_id": 74339038, "body": "Why not just settng a field value? How you expect it to be calculated? I don&#39;t see any <code>quantity</code> property here.   P.S. how does this compile? C# doesn&#39;t have a <code>real</code> keyword. Are you using roslyn converter or something?"}, {"owner": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "reply_to_user": {"reputation": 8137, "user_id": 2559709, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/RHGiu.jpg?s=128&g=1", "display_name": "Alex Zhukovskiy", "link": "https://stackoverflow.com/users/2559709/alex-zhukovskiy"}, "edited": false, "score": 0, "creation_date": 1493244732, "post_id": 43645289, "comment_id": 74339183, "body": "@AlexZhukovskiy I meant <code>float</code> that gets converted to real in SQL Server during migration. I&#39;ve corrected the typo after you pointed it out (thanks). No I&#39;m not using any converter. Just simple migration to SQL Server 2012."}, {"owner": {"reputation": 8137, "user_id": 2559709, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/RHGiu.jpg?s=128&g=1", "display_name": "Alex Zhukovskiy", "link": "https://stackoverflow.com/users/2559709/alex-zhukovskiy"}, "edited": false, "score": 0, "creation_date": 1493245003, "post_id": 43645289, "comment_id": 74339278, "body": "Okay, but you still be not answering how GrandTotal should be formed. Or you just want to duplicate one single value in all <code>CategProdViewModel</code> objects? It&#39;s possible but seems to be a mistake in logic."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1493245320, "post_id": 43645289, "comment_id": 74339395, "body": "@nam A grand total will be formed using a group by but you need to tell us if it will be by ProductName or by Category and ProductName or ...?"}, {"owner": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "reply_to_user": {"reputation": 8137, "user_id": 2559709, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/RHGiu.jpg?s=128&g=1", "display_name": "Alex Zhukovskiy", "link": "https://stackoverflow.com/users/2559709/alex-zhukovskiy"}, "edited": false, "score": 0, "creation_date": 1493245426, "post_id": 43645289, "comment_id": 74339429, "body": "@AlexZhukovskiy We are displaying the details about a selected product in a selected category as: <code>CategoryName, ProductName, Sale</code>. Let&#39;s say total product sold within a Fiscal Year were x number. Then x number of rows are displayed in a table with above mentioned columns and at the end of the sale column the grand total of that sales is displayed."}, {"owner": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "reply_to_user": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1493245967, "post_id": 43645289, "comment_id": 74339610, "body": "@CodingYoshi From one dropdown, user selects a category and then from another dropdown user selects a product from that selected category. Based on that selection a grand total of that sale column during the current Fiscal Year is displayed as described in my above comment."}], "answers": [{"comments": [{"owner": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "edited": false, "score": 0, "creation_date": 1493250002, "post_id": 43645347, "comment_id": 74340874, "body": "Your suggested solution gave me the results I needed. But - as <code>@CodingYoshi</code> eluded to in his suggested response - the <code>TotalSales</code> column is repeated (although with correct result) in each row. However in a <code>@foreach</code> statement in my View I&#39;m not using <code>TotalSales</code> column - I&#39;m using it only at the end for a GrandTotal. So it works. Now there may be a debatable issue on whether to use your suggested approach or the one <code>@CodingYoshi</code> provided or there may be some other possible ways of doing it. Plus, you provided your suggested solution based on the info you were given."}, {"owner": {"reputation": 1201, "user_id": 7809966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/862c13f954da7a79d58c4342b200752a?s=128&d=identicon&r=PG", "display_name": "Austin Winstanley", "link": "https://stackoverflow.com/users/7809966/austin-winstanley"}, "reply_to_user": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "edited": false, "score": 0, "creation_date": 1493250517, "post_id": 43645347, "comment_id": 74341010, "body": "Yea, it definitely wasn&#39;t a complete solution. If I were doing this I would <code>Group</code> and sum them. You might want to check into doing it that way instead of the <code>foreach</code>. They both work, it&#39;s mostly preference. Glad you got it working."}, {"owner": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "edited": false, "score": 0, "creation_date": 1493250830, "post_id": 43645347, "comment_id": 74341089, "body": "I did have to use <code>foreach</code> since I am displaying a table row for <code>each sale</code> of a selected product of a selected category (from a dropdown) as explained in my comments to <code>@AlexZhukovskiy</code>."}], "tags": [], "owner": {"reputation": 1201, "user_id": 7809966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/862c13f954da7a79d58c4342b200752a?s=128&d=identicon&r=PG", "display_name": "Austin Winstanley", "link": "https://stackoverflow.com/users/7809966/austin-winstanley"}, "is_accepted": true, "score": 0, "last_activity_date": 1493244636, "creation_date": 1493244636, "answer_id": 43645347, "question_id": 43645289, "link": "https://stackoverflow.com/questions/43645289/loading-linq-results-into-a-viewmodel-that-has-a-calculated-attribute-column/43645347#43645347", "title": "Loading LINQ results into a ViewModel that has a calculated attribute (column)", "body": "<p>You don't clarify the structure of <code>Product</code>, but you can <a href=\"https://msdn.microsoft.com/en-us/library/bb534734(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Sum</a> multiple values</p>\n\n<pre><code>var innerJoinQuery =  from category in categories\n       join prod in products on category.ID equals prod.CategoryID\n       select new CategProdViewModel { \n           Category = category.Name, \n           ProductName = prod.Name, \n           Sale = prod.Sale, \n           TotalSales = products.Sum(t =&gt; t.Sale) \n};\n</code></pre>\n\n<p>Without more about the code, it's hard to say, and also, the <code>prod.sale</code> is probably only going to be the amount of the last product. You can use <code>Sum(this IEnumerable&lt;TSource&gt; source, Func&lt;TSource,\u2002double&gt; selector)</code> to sum the total of multiple items.</p>\n\n<p>This is a quick answer. It will probably need to be altered depending on what the rest of your code looks like. You can also <a href=\"https://msdn.microsoft.com/en-us/library/bb545971.aspx\" rel=\"nofollow noreferrer\">Group</a> the query results to sum.</p>\n"}, {"comments": [{"owner": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "edited": false, "score": 0, "creation_date": 1493250552, "post_id": 43645734, "comment_id": 74341019, "body": "Thank you for providing another way of doing it. Your code is good in that <code>TotalSale</code> column is not repeated in the query result. And may be better performance wise (although some may argue that the <code>sum()</code> function iterates throw rows internally anyway). Your code should benefit the other readers of your response, as well."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "reply_to_user": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "edited": false, "score": 0, "creation_date": 1493254005, "post_id": 43645734, "comment_id": 74341862, "body": "It has to iterate to get the sum. There is no other way. But your model is cleaner now and you are not sending so much data across the wire."}, {"owner": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "edited": false, "score": 0, "creation_date": 1493262983, "post_id": 43645734, "comment_id": 74344101, "body": "I agree with you - the heavy lifting is done on server side and less data is sent across the wire. Also, I&#39;ve corrected one minor typo on my ViewModel that you may want to correct as well - I meant the data type of <code>TotalSale</code> to be <code>float</code> in the ViewModel."}], "tags": [], "owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "is_accepted": false, "score": 2, "last_activity_date": 1493249551, "last_edit_date": 1493249551, "creation_date": 1493246647, "answer_id": 43645734, "question_id": 43645289, "link": "https://stackoverflow.com/questions/43645289/loading-linq-results-into-a-viewmodel-that-has-a-calculated-attribute-column/43645734#43645734", "title": "Loading LINQ results into a ViewModel that has a calculated attribute (column)", "body": "<p>You will have many of these in your view:</p>\n\n<pre><code>public class CategProdViewModel\n{\n    public string Category { get; set; }\n    public string ProductName { get; set; }\n    public float Sale { get; set; }\n    public real TotalSale { get; set; }\n}\n</code></pre>\n\n<p>But you will only have the last property <code>TotalSale</code> once. Therefore, change your view model to this:</p>\n\n<pre><code>public class CategProdViewModel\n{\n    public string Category { get; set; }\n    public string ProductName { get; set; }\n    public float Sale { get; set; }\n}\n</code></pre>\n\n<p>Create this model for your view and pass it to your view.</p>\n\n<pre><code>public class UseThisOnYourView // Give it another name\n{\n    public List&lt;CategProdViewModel&gt; Items { get; set; }\n    public real TotalSale { get { return this.Items.Sum(x =&gt; x.Sale); } }\n}\n</code></pre>\n\n<p>Then your query will be like this:</p>\n\n<pre><code>var innerJoinQuery =  from category in categories\n       join prod in products on category.ID equals prod.CategoryID\n       select new CategProdViewModel { Category = category.Name, ProductName = prod.Name, Sale = prod.Sale };\n\nvar model = new UseThisOnYourView\n            { \n                Items = innerJoinQuery.ToList()\n            };\n</code></pre>\n\n<p>NOTE: Please keep in mind you will need to adjust your view to use the new type you are passing to it and adjust the code accordingly.</p>\n"}], "owner": {"reputation": 15178, "user_id": 1232087, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5dd18aac5106e03afdffc1da755b1695?s=128&d=identicon&r=PG", "display_name": "nam", "link": "https://stackoverflow.com/users/1232087/nam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1218, "favorite_count": 0, "accepted_answer_id": 43645347, "answer_count": 2, "score": 0, "last_activity_date": 1493262455, "creation_date": 1493244257, "last_edit_date": 1493262455, "question_id": 43645289, "link": "https://stackoverflow.com/questions/43645289/loading-linq-results-into-a-viewmodel-that-has-a-calculated-attribute-column", "title": "Loading LINQ results into a ViewModel that has a calculated attribute (column)", "body": "<p>I've seen the scenarios where a ViewModel is populated with one LINQ query as shown below. <strong>Question</strong>: How can I populate the <code>TotalSale</code> attribute (column) - that is a grand total of Sale column - of the following ViewModel? <strong>Note</strong>: I'm using latest version of ASP.NET Core with VS2015. </p>\n\n<p><strong>ViewModel:</strong></p>\n\n<pre><code>public class CategProdViewModel\n{\n    public string Category { get; set; }\n    public string ProductName { get; set; }\n    public float Sale { get; set; }\n    public float TotalSale { get; set; }\n}\n</code></pre>\n\n<p><strong>Controller</strong>:</p>\n\n<pre><code>var innerJoinQuery =  from category in categories\n       join prod in products on category.ID equals prod.CategoryID\n       select new CategProdViewModel { Category = category.Name, ProductName = prod.Name, Sale = prod.Sale }; \n</code></pre>\n"}, {"tags": ["c#", "post", "httpwebrequest", "ebay-api"], "answers": [{"tags": [], "owner": {"reputation": 4537, "user_id": 677824, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/V0zui.jpg?s=128&g=1", "display_name": "Yuriy Zaletskyy", "link": "https://stackoverflow.com/users/677824/yuriy-zaletskyy"}, "is_accepted": false, "score": 0, "last_activity_date": 1494014262, "creation_date": 1494014262, "answer_id": 43812884, "question_id": 43645145, "link": "https://stackoverflow.com/questions/43645145/c-ebay-api-post-order-check-eligibility-using-httpwebrequest/43812884#43812884", "title": "C# Ebay API Post-Order check_eligibility using HttpWebRequest", "body": "<p>Please try this code:</p>\n\n<pre><code>private void MakeRequests()\n{\n    HttpWebResponse response;\n\n    if (RequestEbay(out response))\n    {\n        response.Close();\n    }\n}\n\nprivate bool RequestEbay(out HttpWebResponse response)\n{\n    response = null;\n\n    try\n    {\n        HttpWebRequest request = (HttpWebRequest)WebRequest.Create(\"https://api.ebay.com/ws/api.dll\");\n\n        request.Headers.Add(\"X-EBAY-API-SITEID\", @\"0\");\n        request.Headers.Add(\"X-EBAY-API-COMPATIBILITY-LEVEL\", @\"967\");\n        request.Headers.Add(\"X-EBAY-API-CALL-NAME\", @\"GetOrders\");\n\n        request.Method = \"POST\";\n        request.ServicePoint.Expect100Continue = false;\n\n        string body = @\"&lt;?xml version=\"\"1.0\"\" encoding=\"\"utf-8\"\"?&gt;\n        &lt;GetOrdersRequest xmlns=\"\"urn:ebay:apis:eBLBaseComponents\"\"&gt;\n          &lt;RequesterCredentials&gt;\n            &lt;eBayAuthToken&gt;!!!!!!!!!!!!!!!!YOUR EBAY TOKEN!!!!!!!!!!!!!!!!1&lt;/eBayAuthToken&gt;\n          &lt;/RequesterCredentials&gt;\n         &lt;ErrorLanguage&gt;en_US&lt;/ErrorLanguage&gt;\n         &lt;WarningLevel&gt;High&lt;/WarningLevel&gt;\n          &lt;CreateTimeFrom&gt;2016-12-01T19:09:02.768Z&lt;/CreateTimeFrom&gt;\n          &lt;CreateTimeTo&gt;2017-12-15T19:09:02.768Z&lt;/CreateTimeTo&gt;\n          &lt;OrderRole&gt;Seller&lt;/OrderRole&gt;\n        &lt;/GetOrdersRequest&gt;\";\n                byte[] postBytes = System.Text.Encoding.UTF8.GetBytes(body);\n                request.ContentLength = postBytes.Length;\n                Stream stream = request.GetRequestStream();\n                stream.Write(postBytes, 0, postBytes.Length);\n                stream.Close();\n\n                response = (HttpWebResponse)request.GetResponse();\n    }\n    catch (WebException e)\n    {\n        if (e.Status == WebExceptionStatus.ProtocolError) response = (HttpWebResponse)e.Response;\n        else return false;\n    }\n    catch (Exception)\n    {\n        if(response != null) response.Close();\n        return false;\n    }\n\n    return true;\n}      \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 321, "user_id": 5415162, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1f9c49d9cf645c99a8a2aec82bac902c?s=128&d=identicon&r=PG&f=1", "display_name": "Roro", "link": "https://stackoverflow.com/users/5415162/roro"}, "is_accepted": true, "score": 2, "last_activity_date": 1494201399, "creation_date": 1494201399, "answer_id": 43837956, "question_id": 43645145, "link": "https://stackoverflow.com/questions/43645145/c-ebay-api-post-order-check-eligibility-using-httpwebrequest/43837956#43837956", "title": "C# Ebay API Post-Order check_eligibility using HttpWebRequest", "body": "<p>My second code example ended up being the correct way to solve my problem.  What I realized was my json was slightly off.  I was missing the extra } at the end.  The below updated json syntax fixed my problem going with the code from my second example.  </p>\n\n<pre><code>var json = \"{\\\"legacyOrderId\\\":\\\"\" + ebayFullOrderId + \"\\\"}\";\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 5415162, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1f9c49d9cf645c99a8a2aec82bac902c?s=128&d=identicon&r=PG&f=1", "display_name": "Roro", "link": "https://stackoverflow.com/users/5415162/roro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 0, "accepted_answer_id": 43837956, "answer_count": 2, "score": 2, "last_activity_date": 1561741940, "creation_date": 1493243555, "last_edit_date": 1561741940, "question_id": 43645145, "link": "https://stackoverflow.com/questions/43645145/c-ebay-api-post-order-check-eligibility-using-httpwebrequest", "title": "C# Ebay API Post-Order check_eligibility using HttpWebRequest", "body": "<p>I'm trying to use the check_eligibility call from the eBay Post-Order API in C# very unsuccessfully.  Every time I get a bad response.  Here is one way I've tried: </p>\n\n<pre><code>string url = \"https://api.ebay.com/post-order/v2/cancellation/check_eligibility\";\n        HttpWebRequest cancelOrderRequest = (HttpWebRequest)WebRequest.Create(url);\n\n        cancelOrderRequest.Headers.Add(\"Authorization\", \"TOKEN \" + AuthToken);\n        cancelOrderRequest.ContentType = \"application/json\"; \n        cancelOrderRequest.Accept = \"application/json\"; \n        cancelOrderRequest.Headers.Add(\"X-EBAY-C-MARKETPLACE-ID\", \"EBAY_US\"); \n\n        cancelOrderRequest.Headers.Add(\"legacyOrderId\", ebayFullOrderId);\n\n        cancelOrderRequest.Method = \"POST\";\n\n\n        HttpWebResponse response = (HttpWebResponse)cancelOrderRequest.GetResponse();\n</code></pre>\n\n<p>And here is another way I've tried: </p>\n\n<pre><code>string url = \"https://api.ebay.com/post-order/v2/cancellation/check_eligibility\";\n        var httpWebRequest = (HttpWebRequest)WebRequest.Create(url);\n        httpWebRequest.ContentType = \"application/json\";\n        httpWebRequest.Method = \"POST\";\n        httpWebRequest.Headers.Add(\"Authorization\", \"TOKEN \" + AuthToken);\n        httpWebRequest.Headers.Add(\"X-EBAY-C-MARKETPLACE-ID\", \"EBAY_US\");\n        httpWebRequest.Accept = \"application/json\"; \n\n        using (var streamWriter = new StreamWriter(httpWebRequest.GetRequestStream()))\n        {\n            string json = \"{\\\"legacyOrderId\\\":\\\"###-###\\\"\";\n\n            streamWriter.Write(json);\n            streamWriter.Flush();\n            streamWriter.Close();\n        }\n\n        var httpResponse = (HttpWebResponse)httpWebRequest.GetResponse();\n        using (var streamReader = new StreamReader(httpResponse.GetResponseStream()))\n        {\n            var result = streamReader.ReadToEnd();\n        }\n</code></pre>\n\n<p>Regardless of which way I try both came back with the same message, \"The remote server returned an error: (400) Bad Request.\"  If anyone could point me in the right direction I'd greatly appreciate it.  Thanks.  </p>\n"}, {"tags": ["c#", "selenium", "selenium-webdriver", "selenium-chromedriver"], "answers": [{"comments": [{"owner": {"reputation": 1638, "user_id": 3637700, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/100001086420872/picture?type=large", "display_name": "Darkbound", "link": "https://stackoverflow.com/users/3637700/darkbound"}, "edited": false, "score": 0, "creation_date": 1493302139, "post_id": 43658865, "comment_id": 74367535, "body": "Thats the other strange thing, I don&#39;t have driver.WindowHandles.Last()"}, {"owner": {"reputation": 807, "user_id": 3993805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYDRm.jpg?s=128&g=1", "display_name": "Rushby", "link": "https://stackoverflow.com/users/3993805/rushby"}, "edited": false, "score": 2, "creation_date": 1493302568, "post_id": 43658865, "comment_id": 74367844, "body": "Add &quot;using System.Linq;&quot; for access to Linq methods."}, {"owner": {"reputation": 1638, "user_id": 3637700, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/100001086420872/picture?type=large", "display_name": "Darkbound", "link": "https://stackoverflow.com/users/3637700/darkbound"}, "edited": false, "score": 0, "creation_date": 1493308845, "post_id": 43658865, "comment_id": 74372242, "body": "Tried, still not working, just nothing happens, no matter what combination I try with Keys.Control its not working, but Keys.Shift is working..."}, {"owner": {"reputation": 1638, "user_id": 3637700, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/100001086420872/picture?type=large", "display_name": "Darkbound", "link": "https://stackoverflow.com/users/3637700/darkbound"}, "edited": false, "score": 0, "creation_date": 1493312982, "post_id": 43658865, "comment_id": 74374966, "body": "I have just tried running my code on Internet Explorer driver and it works, but it does not work with Chrome..??"}, {"owner": {"reputation": 171, "user_id": 2649319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/beadfa73b7cca207166b2812b8b36634?s=128&d=identicon&r=PG", "display_name": "Donald Rich", "link": "https://stackoverflow.com/users/2649319/donald-rich"}, "edited": false, "score": 0, "creation_date": 1552297999, "post_id": 43658865, "comment_id": 96941322, "body": "Does not work with SeleniumDriver v3.141.0 and ChromeDriver  2.45.615291. A new tab does not open."}], "tags": [], "owner": {"reputation": 150, "user_id": 7855921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-jcGm6JSxXVY/AAAAAAAAAAI/AAAAAAAAABM/HJTKe8FPGGY/photo.jpg?sz=128", "display_name": "Jordan Benyon", "link": "https://stackoverflow.com/users/7855921/jordan-benyon"}, "is_accepted": false, "score": 1, "last_activity_date": 1493298616, "creation_date": 1493298616, "answer_id": 43658865, "question_id": 43645129, "link": "https://stackoverflow.com/questions/43645129/selenium-c-open-new-tab-ctrlt-not-working-with-chrome/43658865#43658865", "title": "Selenium C# Open New Tab CTRL+T Not working with CHROME", "body": "<p>Try this </p>\n\n<pre><code>driver.FindElement(By.CssSelector(\"body\")).SendKeys(Keys.Control + \"t\");\ndriver.SwitchTo().Window(driver.WindowHandles.Last());\ndriver.Navigate().GoToUrl(\"http://www.google.com\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1638, "user_id": 3637700, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/100001086420872/picture?type=large", "display_name": "Darkbound", "link": "https://stackoverflow.com/users/3637700/darkbound"}, "edited": false, "score": 0, "creation_date": 1493302059, "post_id": 43659760, "comment_id": 74367485, "body": "Thanks, but I am not on Mac"}, {"owner": {"reputation": 807, "user_id": 3993805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYDRm.jpg?s=128&g=1", "display_name": "Rushby", "link": "https://stackoverflow.com/users/3993805/rushby"}, "reply_to_user": {"reputation": 1638, "user_id": 3637700, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/100001086420872/picture?type=large", "display_name": "Darkbound", "link": "https://stackoverflow.com/users/3637700/darkbound"}, "edited": false, "score": 0, "creation_date": 1493302423, "post_id": 43659760, "comment_id": 74367738, "body": "No problem just a thought - your code looks reasonable."}], "tags": [], "owner": {"reputation": 807, "user_id": 3993805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYDRm.jpg?s=128&g=1", "display_name": "Rushby", "link": "https://stackoverflow.com/users/3993805/rushby"}, "is_accepted": false, "score": 0, "last_activity_date": 1493300841, "creation_date": 1493300841, "answer_id": 43659760, "question_id": 43645129, "link": "https://stackoverflow.com/questions/43645129/selenium-c-open-new-tab-ctrlt-not-working-with-chrome/43659760#43659760", "title": "Selenium C# Open New Tab CTRL+T Not working with CHROME", "body": "<p>If your on a mac, use Keys.Command instead of Keys.Control:</p>\n\n<pre><code>body.SendKeys(Keys.Command + \"t\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1934, "user_id": 1092437, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/392956db2c5137b51e52e6e80a67e35c?s=128&d=identicon&r=PG", "display_name": "Jeflopo", "link": "https://stackoverflow.com/users/1092437/jeflopo"}, "edited": false, "score": 0, "creation_date": 1524240338, "post_id": 43665060, "comment_id": 86907738, "body": "Google, don&#39;t be evil &#172;&#172; Thanks for the info ! Upvoted."}], "tags": [], "owner": {"reputation": 429, "user_id": 7055056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfd5bcd45ae995b9c3a9a18182d27f81?s=128&d=identicon&r=PG&f=1", "display_name": "Sunshine", "link": "https://stackoverflow.com/users/7055056/sunshine"}, "is_accepted": false, "score": 6, "last_activity_date": 1493316502, "creation_date": 1493316502, "answer_id": 43665060, "question_id": 43645129, "link": "https://stackoverflow.com/questions/43645129/selenium-c-open-new-tab-ctrlt-not-working-with-chrome/43665060#43665060", "title": "Selenium C# Open New Tab CTRL+T Not working with CHROME", "body": "<p>Looks like it's a \"feature\" of the chrome driver.</p>\n\n<p><a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=581\" rel=\"noreferrer\">https://bugs.chromium.org/p/chromedriver/issues/detail?id=581</a></p>\n\n<blockquote>\n  <p>This is a limitation in the way we simulate keyboard input in ChromeDriver. Keys get sent directly to the render process, bypassing the browser process. So any keyboard shortcut handlers in the browser process will not be invoked by sendKeys().</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1638, "user_id": 3637700, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/100001086420872/picture?type=large", "display_name": "Darkbound", "link": "https://stackoverflow.com/users/3637700/darkbound"}, "is_accepted": true, "score": 13, "last_activity_date": 1493318359, "creation_date": 1493318359, "answer_id": 43665616, "question_id": 43645129, "link": "https://stackoverflow.com/questions/43645129/selenium-c-open-new-tab-ctrlt-not-working-with-chrome/43665616#43665616", "title": "Selenium C# Open New Tab CTRL+T Not working with CHROME", "body": "<p>Thanks for the answers! I did it with JavaScript.</p>\n\n<pre><code>((IJavaScriptExecutor)driver).ExecuteScript(\"window.open();\");\n</code></pre>\n"}], "owner": {"reputation": 1638, "user_id": 3637700, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/100001086420872/picture?type=large", "display_name": "Darkbound", "link": "https://stackoverflow.com/users/3637700/darkbound"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10092, "favorite_count": 1, "accepted_answer_id": 43665616, "answer_count": 4, "score": 9, "last_activity_date": 1493318359, "creation_date": 1493243471, "last_edit_date": 1493313027, "question_id": 43645129, "link": "https://stackoverflow.com/questions/43645129/selenium-c-open-new-tab-ctrlt-not-working-with-chrome", "title": "Selenium C# Open New Tab CTRL+T Not working with CHROME", "body": "<pre><code>static void Main()\n{\n    IWebDriver driver = new ChromeDriver();\n    driver.Navigate().GoToUrl(\"http://google.com\");\n    IWebElement body = driver.FindElement(By.TagName(\"body\"));\n\n    body.SendKeys(Keys.Control + \"t\");\n\n}\n</code></pre>\n\n<p>This is the code that I am trying to use to open a new tab and its not working, I am not getting any errors nothing, the driver opens Google and thats all....\nI have searched a lot and found many tutorials even videos where people are using the exact same code and it works for them, but for me it doesnt and I can't figure it out...</p>\n\n<p>I tried sending Keys.Shift + \"t\" to the search field and it works, it writes a capital T in the field</p>\n\n<p>I have also tried</p>\n\n<pre><code>Actions act = new Actions(driver);\nact.KeyDown(Keys.Control).SendKeys(\"t\").Perform();\n</code></pre>\n\n<p>And it still does not work, but again if I change Keys.Control to Keys.Shift it writes, seems like nothing that involves Keys.Control is working!!</p>\n\n<p>Edit: I have tried running the code with a IE Driver and it worked there, it opens new tab, but it does not open new tabs on Chrome?</p>\n"}, {"tags": ["c#", "sonarqube"], "comments": [{"owner": {"reputation": 20794, "user_id": 2662707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruzzB.jpg?s=128&g=1", "display_name": "G. Ann - SonarSource Team", "link": "https://stackoverflow.com/users/2662707/g-ann-sonarsource-team"}, "edited": false, "score": 0, "creation_date": 1493289886, "post_id": 43645123, "comment_id": 74358178, "body": "You want to exclude them completely from analysis or only from duplication detection?"}, {"owner": {"reputation": 35, "user_id": 7915410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-3acwGitsAqg/AAAAAAAAAAI/AAAAAAAAAH8/uBZlIN92xvM/photo.jpg?sz=128", "display_name": "Jose Francisco", "link": "https://stackoverflow.com/users/7915410/jose-francisco"}, "reply_to_user": {"reputation": 20794, "user_id": 2662707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruzzB.jpg?s=128&g=1", "display_name": "G. Ann - SonarSource Team", "link": "https://stackoverflow.com/users/2662707/g-ann-sonarsource-team"}, "edited": false, "score": 0, "creation_date": 1493308661, "post_id": 43645123, "comment_id": 74372118, "body": "Hello, I want to exclude only Duplicate Code files located in the Templates project. On the other hand I want to exclude from the analysis the Entities project which is a very old code and we are in the process of migrating it step by step in time."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 7915410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-3acwGitsAqg/AAAAAAAAAAI/AAAAAAAAAH8/uBZlIN92xvM/photo.jpg?sz=128", "display_name": "Jose Francisco", "link": "https://stackoverflow.com/users/7915410/jose-francisco"}, "edited": false, "score": 0, "creation_date": 1493322120, "post_id": 43663122, "comment_id": 74380120, "body": "I have configured it on the server side in the Configuration section of the Duplications tab, as I mentioned in the question initially, after running the analysis I did not report any code duplication for my Models project. Sonar.cpd.exclusions = D: /SYACSoftware/DG/00_Transversal/DG.Models / ** / * .cs"}, {"owner": {"reputation": 35, "user_id": 7915410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-3acwGitsAqg/AAAAAAAAAAI/AAAAAAAAAH8/uBZlIN92xvM/photo.jpg?sz=128", "display_name": "Jose Francisco", "link": "https://stackoverflow.com/users/7915410/jose-francisco"}, "edited": false, "score": 0, "creation_date": 1493322163, "post_id": 43663122, "comment_id": 74380147, "body": "However, I still have another pending project &quot;Entities Project&quot; which has very old code that we will be migrating little by little in the new version, I want to exclude it from the analysis, but without affecting other projects.It is necessary to configure each file of this project with the java syntax, so that it can exclude the whole project?, are thousands of files."}, {"owner": {"reputation": 20794, "user_id": 2662707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruzzB.jpg?s=128&g=1", "display_name": "G. Ann - SonarSource Team", "link": "https://stackoverflow.com/users/2662707/g-ann-sonarsource-team"}, "reply_to_user": {"reputation": 35, "user_id": 7915410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-3acwGitsAqg/AAAAAAAAAAI/AAAAAAAAAH8/uBZlIN92xvM/photo.jpg?sz=128", "display_name": "Jose Francisco", "link": "https://stackoverflow.com/users/7915410/jose-francisco"}, "edited": false, "score": 0, "creation_date": 1493380690, "post_id": 43663122, "comment_id": 74405253, "body": "@JoseFrancisco you&#39;re setting regexes that describes the path(s) to ignore. Depending on the project structure, you should be able to do that in just a few passes."}, {"owner": {"reputation": 35, "user_id": 7915410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-3acwGitsAqg/AAAAAAAAAAI/AAAAAAAAAH8/uBZlIN92xvM/photo.jpg?sz=128", "display_name": "Jose Francisco", "link": "https://stackoverflow.com/users/7915410/jose-francisco"}, "edited": false, "score": 0, "creation_date": 1493389835, "post_id": 43663122, "comment_id": 74411351, "body": "Hello, yesterday I did the test for each module that we had to exclude in Duplications and due to our business logic for the noise generated in each analysis, I succeeded, finally the Duplication exclusion worked as follows:     00_Transversal/PY.Models/DG.Models/**  And for the exclusion of the old code and code generated by the IDE, in the analysis no longer reported and worked like this:     01_Files/PY.Entities/**     ** / Properties / **  Thanks for the help. Resolved."}], "tags": [], "owner": {"reputation": 20794, "user_id": 2662707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruzzB.jpg?s=128&g=1", "display_name": "G. Ann - SonarSource Team", "link": "https://stackoverflow.com/users/2662707/g-ann-sonarsource-team"}, "is_accepted": true, "score": 0, "last_activity_date": 1493310037, "creation_date": 1493310037, "answer_id": 43663122, "question_id": 43645123, "link": "https://stackoverflow.com/questions/43645123/how-to-combine-sonar-cpd-exclusions-with-the-parameters-in-sonarqube-server/43663122#43663122", "title": "How to combine &quot;sonar.cpd.exclusions&quot; with the parameters in SONARQUBE Server?", "body": "<p>To exclude a file or directory entirely from analysis, go to <strong>Administration > General Settings > Analysis Scope > Files</strong> and set <code>sonar.exclusions</code> using a (Java-syntax) regular expression to describe what should be left out.</p>\n\n<p>To exclude a file or directory from duplication detection, you want to set <code>sonar.cpd.exclusions</code>, as you surmised. Again, use a (Java-syntax) regex for this value.</p>\n\n<p>Regarding whether to set this in analysis parameters or the server, I'd personally set it server-side. Just cleaner, IMO.</p>\n"}, {"tags": [], "owner": {"reputation": 619, "user_id": 2616440, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d5c73e78326fcf5639e6ed82c986701b?s=128&d=identicon&r=PG", "display_name": "wOOdy...", "link": "https://stackoverflow.com/users/2616440/woody"}, "is_accepted": false, "score": 0, "last_activity_date": 1619146481, "creation_date": 1619146481, "answer_id": 67223359, "question_id": 43645123, "link": "https://stackoverflow.com/questions/43645123/how-to-combine-sonar-cpd-exclusions-with-the-parameters-in-sonarqube-server/67223359#67223359", "title": "How to combine &quot;sonar.cpd.exclusions&quot; with the parameters in SONARQUBE Server?", "body": "<p>The properties are set via ItemGroup in each .csproj file, this way:</p>\n<pre><code>&lt;ItemGroup&gt;\n  &lt;SonarQubeSetting Include=&quot;sonar.cpd.exclusions&quot;&gt;\n    &lt;Value&gt;Models/**/*.cs&lt;/Value&gt;\n  &lt;/SonarQubeSetting&gt;\n&lt;/ItemGroup&gt;\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 7915410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-3acwGitsAqg/AAAAAAAAAAI/AAAAAAAAAH8/uBZlIN92xvM/photo.jpg?sz=128", "display_name": "Jose Francisco", "link": "https://stackoverflow.com/users/7915410/jose-francisco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2658, "favorite_count": 0, "accepted_answer_id": 43663122, "answer_count": 2, "score": 0, "last_activity_date": 1619146481, "creation_date": 1493243441, "question_id": 43645123, "link": "https://stackoverflow.com/questions/43645123/how-to-combine-sonar-cpd-exclusions-with-the-parameters-in-sonarqube-server", "title": "How to combine &quot;sonar.cpd.exclusions&quot; with the parameters in SONARQUBE Server?", "body": "<p>According to the structure of our project, if I want to exclude the .cs files from PY.Models \\ Module1, PY.Entities \\ Module1, PY.Entities \\ Module2, PY.Entities \\ Module3 and that \"PY. Repository.ModuleN \"are not going to be excluded ?. How to combine \"sonar.cpd.exclusions\" with the parameters in SONARQUBE Server?</p>\n\n<pre><code>D:\\MYCOMPANY \\ MYPROJECT\\00_Transversal\\PY.Models\\PY.Models\\Modulo1--\nD:\\MYCOMPANY\\MYPROJECT\\00_Transversal\\PY.Models\\PY.Models\\Modulo2\nD:\\MYCOMPANY\\MYPROJECT\\00_Transversal\\PY.Models\\PY.Models\\Modulo3\n\nD:\\MYCOMPANY \\ MYPROJECT \\01_Data\\PY.Entities\\PY.Entities\\Module1--\nD:\\MYCOMPANY \\ MYPROJECT \\01_Data\\PY.Entities\\PY.Entities\\Module2--\nD:\\MYCOMPANY \\ MYPROJECT \\01_Data\\PY.Entities\\PY.Entities\\Module3--\n\nD:\\MYCOMPANY\\MYPROJECT\\01_Data\\PY.Repository.Module1\nD:\\MYCOMPANY\\MYPROJECT\\01_Data\\PY.Repository.Module2\nD:\\MYCOMPANY\\MYPROJECT\\01_Data\\PY.Repository.Module3\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/H0gRM.png\" rel=\"nofollow noreferrer\">Configuration On the SONARQUBE-Duplications Tab-page Server</a></p>\n"}, {"tags": ["c#", "ios", "sqlite", "xamarin.ios", "sqlite-net"], "comments": [{"owner": {"reputation": 4474, "user_id": 1134836, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eb27fea85ac4312aaea6c32ba027fdf5?s=128&d=identicon&r=PG", "display_name": "valdetero", "link": "https://stackoverflow.com/users/1134836/valdetero"}, "edited": false, "score": 0, "creation_date": 1493245932, "post_id": 43645099, "comment_id": 74339600, "body": "What type is returned by <code>service.GetSumPerpetrationParts(immobilePerpetrationId);</code>? Because that is what you are inserting."}], "answers": [{"comments": [{"owner": {"reputation": 667, "user_id": 1696354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aa405968b4d69ddb78df1071f0399fa7?s=128&d=identicon&r=PG", "display_name": "WhiteIntel", "link": "https://stackoverflow.com/users/1696354/whiteintel"}, "edited": false, "score": 0, "creation_date": 1493246817, "post_id": 43645632, "comment_id": 74339890, "body": "Oh my god, I can&#180;t believe that I tried to insert just an integer value into my database! Thank you very much!"}], "tags": [], "owner": {"reputation": 4474, "user_id": 1134836, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eb27fea85ac4312aaea6c32ba027fdf5?s=128&d=identicon&r=PG", "display_name": "valdetero", "link": "https://stackoverflow.com/users/1134836/valdetero"}, "is_accepted": true, "score": 3, "last_activity_date": 1493246079, "creation_date": 1493246079, "answer_id": 43645632, "question_id": 43645099, "link": "https://stackoverflow.com/questions/43645099/sqlite-net-pcl-sqlite-sqliteexception-near-syntax-error/43645632#43645632", "title": "sqlite-net-pcl {SQLite.SQLiteException: near &quot;)&quot;: syntax error", "body": "<p>Should this:</p>\n\n\n\n<pre><code>await con.InsertAsync(perpetrationPartCount);\n</code></pre>\n\n<p>be:</p>\n\n<pre><code>await con.InsertAsync(model);\n</code></pre>\n\n<p>We can't tell what type <code>perpetrationPartCount</code> is based on your code. It might not be a <code>PPPCount</code> and therefore that entity might not be the issue.</p>\n"}], "owner": {"reputation": 667, "user_id": 1696354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aa405968b4d69ddb78df1071f0399fa7?s=128&d=identicon&r=PG", "display_name": "WhiteIntel", "link": "https://stackoverflow.com/users/1696354/whiteintel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1138, "favorite_count": 0, "accepted_answer_id": 43645632, "answer_count": 1, "score": 0, "last_activity_date": 1493246079, "creation_date": 1493243322, "question_id": 43645099, "link": "https://stackoverflow.com/questions/43645099/sqlite-net-pcl-sqlite-sqliteexception-near-syntax-error", "title": "sqlite-net-pcl {SQLite.SQLiteException: near &quot;)&quot;: syntax error", "body": "<p>I\u00b4m currently developing an iOS App with Xamarin and ran into a strange error with sqlite-net-pcl:</p>\n\n<pre><code>{SQLite.SQLiteException: near \")\": syntax error   at SQLite.SQLite3.Prepare2 (SQLitePCL.sqlite3 db, System.String query) [0x0001e] in &lt;49ac49cfb94341128f6929b3ff2090ee&gt;:0    at SQLite.PreparedSqlLiteInsertCommand.Prepare () [0x00011] in &lt;49ac49cfb94341128f6929b\u2026}\n</code></pre>\n\n<p>The error occours when I want to insert into a table of the following model:</p>\n\n<pre><code>public class PPPCount\n{\n    public PPPCount()\n    {\n    }\n\n    [PrimaryKey]\n    public int Id { get; set; }\n    public string PerpePartCount { get; set; }\n}\n</code></pre>\n\n<p>Here is the calling code:</p>\n\n<pre><code>try\n{\n    var con = await DbFactory.Instance();\n    var perpetrationPartCount = await \n        service.GetSumPerpetrationParts(immobilePerpetrationId);\n\n    var dbModel = await con.FindAsync&lt;PPPCount&gt;(immobilePerpetrationId);\n    if (dbModel == null)\n    {\n        var model = new PPPCount();\n\n        model.Id = immobilePerpetrationId;\n        model.PerpePartCount = perpetrationPartCount;\n\n        //This causes the exception!!!!\n        await con.InsertAsync(perpetrationPartCount);\n    }\n    else\n    {\n        if (dbModel.PerpePartCount != perpetrationPartCount)\n        {\n            dbModel.PerpePartCount = perpetrationPartCount;\n            await con.UpdateAsync(dbModel);\n        }\n    }\n    return perpetrationPartCount;\n}\ncatch (Exception e)\n{\n    //AlertHelper.ShowError(e.Message);\n}\n</code></pre>\n\n<p>The code of the DbFactory that creates and holds my sqlite connection object:</p>\n\n<pre><code>public class DbFactory\n{\n    private static SQLiteAsyncConnection connection;\n\n    public static async Task&lt;SQLiteAsyncConnection&gt; Instance()\n    {\n        if (connection == null)\n        {\n            bool deleteDb = false;\n            string folder = Environment.GetFolderPath(Environment.SpecialFolder.Personal);\n            var dbPath = System.IO.Path.Combine(folder, \"..\", \"immotech_offline.db3\");\n\n            if (File.Exists(dbPath) &amp;&amp; deleteDb)\n            {\n                File.Delete(dbPath);\n            }\n\n            connection = new SQLiteAsyncConnection(dbPath);\n\n            try\n            {\n\n                await connection.CreateTableAsync&lt;ImmobilePerpetration&gt;();\n                await connection.CreateTableAsync&lt;Customer&gt;();\n                await connection.CreateTableAsync&lt;PPPCount&gt;();\n            }\n            catch (Exception e)\n            {\n                //TODO: Delete this part!\n                int i = 0;\n            }\n        }\n\n        return connection;\n    }\n}\n</code></pre>\n\n<p>The strange thing is I can work with the two other models without any problems!\nI really can\u00b4t explain what is causing this error and I tried to enable the tracing to show the SQL-Statements, but unfortunatelly the Async version of the sqlite connection object doesn\u00b4t provide a tracing.</p>\n\n<p>Then I tried the same code in synchronous version with tracing enabled and this is the result:</p>\n\n<pre><code>insert  into \"Int32\"() values ()\n</code></pre>\n\n<p>Well this is very clear why it isn\u00b4t working, but how can such a statement be generated? Did I missed something or it is a bug?</p>\n\n<p>UPDATE: Yes I used the search function and no case fits for my problem.</p>\n"}, {"tags": ["javascript", "c#", "asp.net", "iframe"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 5215180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc944c2b86e72ddacc87c3ebee4c8507?s=128&d=identicon&r=PG&f=1", "display_name": "Gez", "link": "https://stackoverflow.com/users/5215180/gez"}, "is_accepted": true, "score": 0, "last_activity_date": 1493283486, "creation_date": 1493283486, "answer_id": 43653171, "question_id": 43645010, "link": "https://stackoverflow.com/questions/43645010/stop-webpage-in-iframe-from-reloading-on-postback/43653171#43653171", "title": "Stop webpage in iframe from reloading on postback", "body": "<p>You could wrap the elements that will change during the postback inside an UpdatePanel. Providing the iframe is then outside of the UpdatePanel, it should not reload when posting back.</p>\n"}], "owner": {"reputation": 13, "user_id": 7927997, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154860880469678/picture?type=large", "display_name": "enski", "link": "https://stackoverflow.com/users/7927997/enski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1084, "favorite_count": 0, "accepted_answer_id": 43653171, "answer_count": 1, "score": 1, "last_activity_date": 1493283486, "creation_date": 1493242976, "last_edit_date": 1493259888, "question_id": 43645010, "link": "https://stackoverflow.com/questions/43645010/stop-webpage-in-iframe-from-reloading-on-postback", "title": "Stop webpage in iframe from reloading on postback", "body": "<p>How do I prevent a webpage in an Iframe from reloading when the parent page does a postback?\nBelow is a simple .aspx page. When I click Button1, which does a postback, the iframe that has blank.aspx as its source is reloaded. How can I prevent this from happening?  Code is below.</p>\n\n<pre><code>       &lt;div&gt;\n        This is an empty page with a button to open a modal window in an iframe\n        &lt;asp:Button ID=\"Button1\" runat=\"server\" Text=\"Postback\" OnClick=\"Button1_Click\" /&gt;\n    &amp;nbsp;&lt;asp:Label ID=\"lblPostback\" runat=\"server\" Text=\"Initial Load\"&gt;&lt;/asp:Label&gt;\n                &lt;!-- Trigger/Open The Modal --&gt;\n&lt;button id=\"myBtn\" type=\"button\"&gt;Open Modal&lt;/button&gt;\n\n&lt;!-- The Modal --&gt;\n&lt;div id=\"myModal\" class=\"modal\"&gt;\n\n  &lt;!-- Modal content --&gt;\n  &lt;div class=\"modal-content\"&gt;\n    &lt;span class=\"close\"&gt;&amp;times;&lt;/span&gt;\n    &lt;p&gt;Some text in the Modal..&lt;/p&gt;\n      &lt;iframe src=\"Site/Public/blank.aspx\"&gt;&lt;/iframe&gt;\n  &lt;/div&gt;\n\n&lt;/div&gt;\n        &lt;script&gt;\n        // Get the modal\n        var modal = document.getElementById('myModal');\n\n        // Get the button that opens the modal\n        var btn = document.getElementById(\"myBtn\");\n\n        // Get the &lt;span&gt; element that closes the modal\n        var span = document.getElementsByClassName(\"close\")[0];\n\n        // When the user clicks on the button, open the modal\n        btn.onclick = function () {\n            modal.style.display = \"block\";\n        }\n\n        // When the user clicks on &lt;span&gt; (x), close the modal\n        span.onclick = function () {\n            modal.style.display = \"none\";\n        }\n\n         //When the user clicks anywhere outside of the modal, close it\n        window.onclick = function (event) {\n            if (event.target == modal) {\n                modal.style.display = \"none\";\n            }\n        }\n    &lt;/script&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-core", "active-directory", "entity-framework-core"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1493243329, "post_id": 43644939, "comment_id": 74338580, "body": "are you familiar with <code>AD as well as PrincipalContext</code> have you tried to execute a simple google search..?"}, {"owner": {"reputation": 2287, "user_id": 5509340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ufchr.jpg?s=128&g=1", "display_name": "H. Herzl", "link": "https://stackoverflow.com/users/5509340/h-herzl"}, "edited": false, "score": 0, "creation_date": 1493273700, "post_id": 43644939, "comment_id": 74347616, "body": "As you said, you can create an instance in web project with user info: domain, user name, roles, etc and pass that instance to another layers"}, {"owner": {"reputation": 1410, "user_id": 6105961, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/HARTH.png?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/6105961/ben"}, "edited": false, "score": 0, "creation_date": 1493301667, "post_id": 43644939, "comment_id": 74367178, "body": "MethodMan - If I am posting on StackOverFlow then one should assume I have tried a simple Google Search and cannot easily find an answer to my problem. If a simple Google search is the answer then please post a link so we can discuss if that truly is the correct answer."}, {"owner": {"reputation": 1410, "user_id": 6105961, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/HARTH.png?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/6105961/ben"}, "edited": false, "score": 0, "creation_date": 1493301758, "post_id": 43644939, "comment_id": 74367256, "body": "H. Herzl - I agree with your answer if I posted from my view back to my web controller but I am not. I am making ajax calls directly to my Application/Web Api layer which does not have access to User.Identity.Name"}], "owner": {"reputation": 1410, "user_id": 6105961, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/HARTH.png?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/6105961/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493301451, "creation_date": 1493242702, "last_edit_date": 1493301451, "question_id": 43644939, "link": "https://stackoverflow.com/questions/43644939/accessing-users-windows-nt-throughout-a-n-tier-application", "title": "Accessing User&#39;s Windows NT throughout a N-Tier Application", "body": "<p>I am using asp.net boilerplate core mvc c# jquery web project. This project is broken up into layers (web, application, core, ef core). My question is how do you access a user's windows nt (HttpContext.User.Identity.Name) throughout the many layers of your project? For example, if I was to make an ajax call directly to my application layer (api) then how do I access windows nt. The User.Identity.Name should only be accessible in the web project. I'm thinking some type of class that contains the user's nt that is loaded on startup and somehow maintained and dependency injected into the application layer as needed. What is the recommended way?</p>\n\n<p><strong>EDIT 1:</strong>\nI understand that if I was to post from my view back to my controller then I could get the user nt and pass it to my application layer. But, that does not account for when I make an ajax call directly to my application layer.\nAlso, I do know how to access PrincipalContext but as stated above I have to know the user nt of the current active user which is only present in the web layer. </p>\n"}, {"tags": ["c#", "dictionary", "types", "json.net", ".net-4.5"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1493242800, "post_id": 43644931, "comment_id": 74338367, "body": "You&#39;re confusing runtime type and compile-time type.  You do need to cast."}, {"owner": {"reputation": 59217, "user_id": 156695, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3390f053c9414f150c48f700afaa3e7a?s=128&d=identicon&r=PG", "display_name": "Tigran", "link": "https://stackoverflow.com/users/156695/tigran"}, "edited": false, "score": 1, "creation_date": 1493242817, "post_id": 43644931, "comment_id": 74338371, "body": "Debugger has sufficient <i>runtime</i> information about a type you&#39;re questioning, hence is able to provide to you smooth user experience. The real type is still <code>object</code> as you would expect it to be."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 2, "creation_date": 1493242842, "post_id": 43644931, "comment_id": 74338384, "body": "the NewtonSoft.Json framework interprets the value type based on JSON schema"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1493242999, "post_id": 43644931, "comment_id": 74338452, "body": "@Nkosi There&#39;s no schema here"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1493243130, "post_id": 43644931, "comment_id": 74338514, "body": "@DavidG <code>&quot;value&quot;: 68.107</code> is a <code>float</code>, <code>&quot;value&quot;: &quot;68.107&quot;</code> is a <code>String</code>"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1493243373, "post_id": 43644931, "comment_id": 74338602, "body": "@Nkosi Yes, but that&#39;s not a schema, that&#39;s just the converter figuring out what to do with the string inside the JSON snippet."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1493243405, "post_id": 43644931, "comment_id": 74338614, "body": "@DavidG and is that not based on default schema for JSON?"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1493243460, "post_id": 43644931, "comment_id": 74338638, "body": "@Nkosi I don&#39;t really know what you mean by &quot;default schema&quot;"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1493243696, "post_id": 43644931, "comment_id": 74338736, "body": "@DavidG then I guess I may be using the wrong term. JSON data type specifications would probably better explain what I meant."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1493243722, "post_id": 43644931, "comment_id": 74338747, "body": "@Nkosi Ah yes, JSON schema is a very different thing!"}], "answers": [{"comments": [{"owner": {"reputation": 1600, "user_id": 488905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9ef80f7136172367861b0d5c0ab49b1?s=128&d=identicon&r=PG", "display_name": "wllmsaccnt", "link": "https://stackoverflow.com/users/488905/wllmsaccnt"}, "edited": false, "score": 0, "creation_date": 1493243004, "post_id": 43644989, "comment_id": 74338460, "body": "You mean serializes it according to its type. When it deserializes it is guessing based on the serialized value, as at that point it has no type information."}, {"owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "reply_to_user": {"reputation": 1600, "user_id": 488905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9ef80f7136172367861b0d5c0ab49b1?s=128&d=identicon&r=PG", "display_name": "wllmsaccnt", "link": "https://stackoverflow.com/users/488905/wllmsaccnt"}, "edited": false, "score": 0, "creation_date": 1493243132, "post_id": 43644989, "comment_id": 74338516, "body": "@wllmsaccnt yes, ofcourse, although you could help it by specifying <code>JsonConvert.Deserialize&lt;string, double&gt;(json)</code>"}, {"owner": {"reputation": 8137, "user_id": 2559709, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/RHGiu.jpg?s=128&g=1", "display_name": "Alex Zhukovskiy", "link": "https://stackoverflow.com/users/2559709/alex-zhukovskiy"}, "edited": false, "score": 0, "creation_date": 1493244880, "post_id": 43644989, "comment_id": 74339237, "body": "It&#39;s very odd that JSON.Net deserializes it in anything but string. It may use some heuristics, but that doesn&#39;t make any big sense, just treat all values as strings (JSON is a string format) and you&#39;re golden. It seems that it is working so because it should be able to parse inner object so it is doing it eagerly, and tries to determine most convenient type."}], "tags": [], "owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "is_accepted": true, "score": 1, "last_activity_date": 1493243015, "last_edit_date": 1493243015, "creation_date": 1493242897, "answer_id": 43644989, "question_id": 43644931, "link": "https://stackoverflow.com/questions/43644931/how-does-dictionarystring-object-know-the-type-of-the-value/43644989#43644989", "title": "How does Dictionary&lt;string, object&gt; know the type of the value?", "body": "<p>When you call </p>\n\n<pre><code>JsonConvert.SerializeObject(dict);\n</code></pre>\n\n<p>this takes an object, which then figures out the type, and stores it accordingly.</p>\n\n<p>Therefore for each item in the dictionary entry. it first checks the type and then deserializes it according to its type.</p>\n\n<p>If you wanted to use the object outside of JSON, you would have to check yourself with something like </p>\n\n<pre><code>var o = dict[\"Car\"];\n\nif(o is int) return (int)o; // or whatever you want to do with an int\nif(o is decimal) return (decimal)o; // or whatever you want to do with an decimal\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1493244533, "creation_date": 1493244533, "answer_id": 43645331, "question_id": 43644931, "link": "https://stackoverflow.com/questions/43644931/how-does-dictionarystring-object-know-the-type-of-the-value/43645331#43645331", "title": "How does Dictionary&lt;string, object&gt; know the type of the value?", "body": "<p>When you inspect an instance in the debugger, the debugger just shows you the output of the <code>.ToString()</code> for the item. Run the following code:</p>\n\n<pre><code>namespace ConsoleApplication1\n{\n    public class Program\n    {\n        private static void Main(string[] args)\n        {\n            var dic = new Dictionary&lt;string, object&gt;\n            {\n                { \"One\", \"1\" }, { \"Two\", 2 },\n                { \"Three\", 3.0 }, { \"Four\", new Person() },\n                { \"Five\", new SimplePerson() },\n\n            };\n            foreach (var thisItem in dic)\n            {\n                // thisItem.Value will show \"1\", 2, 3, \"Test\" \n                // and ConsoleApplication1.SimplePerson\n                Console.WriteLine($\"{ thisItem.Key } : { thisItem.Value }\");\n            }\n\n            var obj = JsonConvert.SerializeObject(dic);\n        }\n    }\n\n    public class SimplePerson\n    {\n\n    }\n    public class Person\n    {\n        public override string ToString()\n        {\n            return \"Test\";\n        }\n    }\n}\n</code></pre>\n\n<p>When you hover over the <code>this.Value</code>, it will show the result of <code>ToString()</code>. So it will show the following:</p>\n\n<pre><code>\"1\"\n2\n3\n\"Test\" // since Person class overrides the ToString()\n// since by default when ToString() is called it will print out the object.\nConsoleApplication1.SimplePerson \n</code></pre>\n\n<hr>\n\n<p><strong>Serialization</strong></p>\n\n<p>For serialization, it will produce the following:</p>\n\n<pre><code>{\n    \"One\": \"1\",\n    \"Two\": 2,\n    \"Three\": 3.0,\n    \"Four\": {\n\n    },\n    \"Five\": {\n\n    }\n}\n</code></pre>\n\n<p>They are all boxed as <code>object</code> types but when the underlying type is whatever the type is. So in our case <code>String\",</code>Int<code>,</code>Double<code>,</code>Person<code>and</code>SimplePerson`. Therefore, during serialization it is unboxed.</p>\n"}], "owner": {"reputation": 24440, "user_id": 98215, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/767934a648524da57388558217ad9c2d?s=128&d=identicon&r=PG", "display_name": "DenaliHardtail", "link": "https://stackoverflow.com/users/98215/denalihardtail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 0, "accepted_answer_id": 43644989, "answer_count": 2, "score": 0, "last_activity_date": 1493244533, "creation_date": 1493242649, "question_id": 43644931, "link": "https://stackoverflow.com/questions/43644931/how-does-dictionarystring-object-know-the-type-of-the-value", "title": "How does Dictionary&lt;string, object&gt; know the type of the value?", "body": "<p>Consider this code:</p>\n\n<pre><code>JObject obj = JObject.Parse(json);\n\nDictionary&lt;string,object&gt; dict = new Dictionary&lt;string, object&gt;();\n\nList&lt;string&gt; parameters = new List&lt;string&gt;{\"Car\", \"Truck\", \"Van\"};\n\nforeach (var p in parameters)\n{\n    JToken token = obj.SelectToken(string.Format(\"$.results[?(@.paramName == '{0}')]['value']\", p));\n    dict[p] = token.Value&lt;object&gt;();\n}\n\nstring jsonOutput = JsonConvert.SerializeObject(dict);\n</code></pre>\n\n<p>where <code>json</code> contains, in part:</p>\n\n<pre><code>{\n    \"paramName\": \"Car\",\n    \"value\": 68.107\n},\n{\n    \"paramName\": \"Truck\",\n    \"value\": 48.451\n},\n{\n    \"paramName\": \"Van\",\n    \"value\": 798300\n}\n</code></pre>\n\n<p>While debugging this, I inspected the dictionary and found the values were not of type <code>object</code> but actual numeric types like <code>integer</code> and <code>float</code>. Since the dictionary was declared as <code>Dictionary&lt;string, object&gt; dict = new Dictionary&lt;string, object&gt;();</code> I expected the values to be of type <code>object</code> and that I would need to cast them upon use.</p>\n\n<p>The JSON output string is <code>{\"Car\":68.107,\"Truck\":48.451,\"Van\":798300}</code>. </p>\n\n<p>How does the dictionary know the type of the value and why do I get the actual type instead of the base type <code>object</code>?</p>\n"}, {"tags": ["c#", "validation", "servicestack", "fluent", "fluentvalidation"], "comments": [{"owner": {"reputation": 322, "user_id": 3593041, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fo7S1.jpg?s=128&g=1", "display_name": "anveshtummala", "link": "https://stackoverflow.com/users/3593041/anveshtummala"}, "edited": false, "score": 0, "creation_date": 1493243287, "post_id": 43644875, "comment_id": 74338571, "body": "I found this <a href=\"http://stackoverflow.com/questions/21605534/stop-fluent-validation-on-first-failure\" title=\"stop fluent validation on first failure\">stackoverflow.com/questions/21605534/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 322, "user_id": 3593041, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fo7S1.jpg?s=128&g=1", "display_name": "anveshtummala", "link": "https://stackoverflow.com/users/3593041/anveshtummala"}, "edited": false, "score": 0, "creation_date": 1493243768, "post_id": 43644981, "comment_id": 74338767, "body": "What if my function IsValidRequest need all param1, param2, param3 to be not null.Thank you for the quick reply Sergey."}, {"owner": {"reputation": 322, "user_id": 3593041, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fo7S1.jpg?s=128&g=1", "display_name": "anveshtummala", "link": "https://stackoverflow.com/users/3593041/anveshtummala"}, "edited": false, "score": 0, "creation_date": 1493296151, "post_id": 43644981, "comment_id": 74362928, "body": "This is great, but I still have one issue with it. I am not able to give users an individual message of param1 is missing or param2 is missing before calling my IsValidRequest function. Now I am restricted to give the error message only for Invalid Request."}, {"owner": {"reputation": 214980, "user_id": 470005, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/09536b39b586f3ae555f8ce20d5d8bd1?s=128&d=identicon&r=PG", "display_name": "Sergey Berezovskiy", "link": "https://stackoverflow.com/users/470005/sergey-berezovskiy"}, "reply_to_user": {"reputation": 322, "user_id": 3593041, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fo7S1.jpg?s=128&g=1", "display_name": "anveshtummala", "link": "https://stackoverflow.com/users/3593041/anveshtummala"}, "edited": false, "score": 0, "creation_date": 1493297038, "post_id": 43644981, "comment_id": 74363637, "body": "@anveshtummala just don&#39;t remove validation rules for params. They will do validation. And if all params are specified, then IsValidRequest validation will run"}, {"owner": {"reputation": 322, "user_id": 3593041, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fo7S1.jpg?s=128&g=1", "display_name": "anveshtummala", "link": "https://stackoverflow.com/users/3593041/anveshtummala"}, "edited": false, "score": 1, "creation_date": 1493298474, "post_id": 43644981, "comment_id": 74364740, "body": "Easy fix, but for me it seems like some flexibility is missing. CascadeMode = CascadeMode.StopOnFirstFailure; only works inside each Rulefor but not for an each RuleFor inside a Ruleset"}, {"owner": {"reputation": 214980, "user_id": 470005, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/09536b39b586f3ae555f8ce20d5d8bd1?s=128&d=identicon&r=PG", "display_name": "Sergey Berezovskiy", "link": "https://stackoverflow.com/users/470005/sergey-berezovskiy"}, "reply_to_user": {"reputation": 322, "user_id": 3593041, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fo7S1.jpg?s=128&g=1", "display_name": "anveshtummala", "link": "https://stackoverflow.com/users/3593041/anveshtummala"}, "edited": false, "score": 2, "creation_date": 1493298605, "post_id": 43644981, "comment_id": 74364827, "body": "@anveshtummala totally agree with you. I would also expect to have an option to stop validation after any validator in any rule fails"}, {"owner": {"reputation": 17564, "user_id": 2780791, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1feea731a99cb95e342d196802bb868a?s=128&d=identicon&r=PG&f=1", "display_name": "Alexei - check Codidact", "link": "https://stackoverflow.com/users/2780791/alexei-check-codidact"}, "edited": false, "score": 0, "creation_date": 1615907177, "post_id": 43644981, "comment_id": 117834033, "body": "<code>CascadeMode.Stop</code> should be used instead of <code>CascadeMode.StopOnFirstFailure</code> (deprecated)."}], "tags": [], "owner": {"reputation": 214980, "user_id": 470005, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/09536b39b586f3ae555f8ce20d5d8bd1?s=128&d=identicon&r=PG", "display_name": "Sergey Berezovskiy", "link": "https://stackoverflow.com/users/470005/sergey-berezovskiy"}, "is_accepted": true, "score": 9, "last_activity_date": 1493245455, "last_edit_date": 1493245455, "creation_date": 1493242868, "answer_id": 43644981, "question_id": 43644875, "link": "https://stackoverflow.com/questions/43644875/skip-executing-other-validation-rules-in-the-fluent-validation-ruleset-if-one-o/43644981#43644981", "title": "Skip Executing other Validation Rules in the Fluent validation Ruleset, if one of them fails", "body": "<p>By default, FluentValidation uses <code>Continue</code> cascade mode for invoking validators in rule definition (i.e. it invokes all validators). You should use <code>StopOnFirstFailure</code> mode to stop execution after first validator fails:</p>\n\n<pre><code>ValidatorOptions.CascadeMode = CascadeMode.StopOnFirstFailure;\n</code></pre>\n\n<p>Note that this will set <code>StopOnFirstFailure</code> mode globally. If you want to specify this mode for particular validators, you can use property of validator class:</p>\n\n<pre><code>public class RequestValidator : AbstractValidator&lt;Request&gt;\n{\n   public RequestValidator()\n   {\n       CascadeMode = CascadeMode.StopOnFirstFailure;\n\n       RuleFor(req =&gt; req.param1)\n          .NotEmpty().WithMessage(\"param1 is missing.\")\n          .Must((req, param1) =&gt; IsValidRequest(req)).WithMessage(\"Invalid request.\");\n       RuleFor(req =&gt; req.param2).NotEmpty().WithMessage(\"param2 is missing.\");\n       RuleFor(req =&gt; req.param3).NotEmpty().WithMessage(\"param3 is missing.\");\n   }\n}\n</code></pre>\n\n<p>In the example above <code>Must</code> validator will not be executed if <code>NotEmpty</code> validator fails.</p>\n\n<hr>\n\n<p>If you want to execute <code>Must</code> validator only when all three parameters are not empty, then <code>When</code> is the best option:</p>\n\n<pre><code>When(req =&gt; !String.IsNullOrEmpty(req.param1) \n         &amp;&amp; !String.IsNullOrEmpty(req.param2)\n         &amp;&amp; !String.IsNullOrEmpty(req.param3), () =&gt; {\n     RuleFor(req =&gt; req.param1)\n        .Must((req, param1) =&gt; IsValidRequest(req)).WithMessage(\"Invalid request.\");\n});\n</code></pre>\n\n<p>You can move precondition check to separate method:</p>\n\n<pre><code> private bool AllParametersSpecified(Request req)\n {\n     return !String.IsNullOrEmpty(req.param1) \n         &amp;&amp; !String.IsNullOrEmpty(req.param2)\n         &amp;&amp; !String.IsNullOrEmpty(req.param3);\n }\n</code></pre>\n\n<p>And condition whill be much more readable:</p>\n\n<pre><code>When(AllParametersSpecified, () =&gt; {\n     RuleFor(req =&gt; req.param1)\n        .Must((req, param1) =&gt; IsValidRequest(req)).WithMessage(\"Invalid request.\");\n});\n</code></pre>\n"}], "owner": {"reputation": 322, "user_id": 3593041, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fo7S1.jpg?s=128&g=1", "display_name": "anveshtummala", "link": "https://stackoverflow.com/users/3593041/anveshtummala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4048, "favorite_count": 2, "accepted_answer_id": 43644981, "answer_count": 1, "score": 3, "last_activity_date": 1493245455, "creation_date": 1493242351, "question_id": 43644875, "link": "https://stackoverflow.com/questions/43644875/skip-executing-other-validation-rules-in-the-fluent-validation-ruleset-if-one-o", "title": "Skip Executing other Validation Rules in the Fluent validation Ruleset, if one of them fails", "body": "<p>Is there any way to skips executing the validation rules in the Ruleset if one of them fails. </p>\n\n<p>I have this following rules for my API endpoint</p>\n\n<p>param1, param2, param3</p>\n\n<pre><code>RuleSet  =&gt; \n     RuleFor(req =&gt; req.param1).NotEmpty().WithMessage(\"param1 is missing.\");\n     RuleFor(req =&gt; req.param2).NotEmpty().WithMessage(\"param2 is missing.\");\n     RuleFor(req =&gt; req.param3).NotEmpty().WithMessage(\"param3 is missing.\");\n     RuleFor(req =&gt; req.param1).Must((req, param1) =&gt; IsValidRequest(req)).WithMessage(\"Invalid request.\");\n</code></pre>\n\n<p>In my IsValidRequest(req) I again have to verify for param1, param2, param3 exist before doing my custom validation as even if the above rules fails all other validations will still continue to try. </p>\n"}, {"tags": ["c#", "asp.net-mvc", "unit-testing"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 1, "creation_date": 1493242423, "post_id": 43644808, "comment_id": 74338228, "body": "Show the method under test. <code>getStatusInfoTEST</code> is the data a concrete type or an anonymous type?"}], "answers": [{"tags": [], "owner": {"reputation": 178, "user_id": 7839602, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/h8q8Z.jpg?s=128&g=1", "display_name": "Steffen Cole Blake", "link": "https://stackoverflow.com/users/7839602/steffen-cole-blake"}, "is_accepted": false, "score": 0, "last_activity_date": 1493256807, "creation_date": 1493256807, "answer_id": 43647191, "question_id": 43644808, "link": "https://stackoverflow.com/questions/43644808/i-need-help-unit-testing-jsonresults-in-mvc-net-site/43647191#43647191", "title": "I need help Unit Testing JsonResults in MVC.Net site", "body": "<p>You should extract your controller's logic to some form of Service Class. This makes unit testing significantly easier.</p>\n\n<p>The controller should just focus on taking the Service's raw value (probably a dictionary or IList or whatever) and abstract it into the JSON object.</p>\n\n<p>Then you can just focus on unit testing the service much easier.</p>\n\n<p>I've always been of the opinion that if you are unit testing your Controller's, you're doing it wrong. Models and Services should be unit tested, Controller's just bind the two together, but shouldn't have anything involving testable since their logic is implicit.</p>\n\n<p>This helps you detangle your layers.</p>\n"}], "owner": {"reputation": 1, "user_id": 7927956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b44ba3fd21ffdbb3a2b0ba3d87337bb7?s=128&d=identicon&r=PG&f=1", "display_name": "mrotor", "link": "https://stackoverflow.com/users/7927956/mrotor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493256807, "creation_date": 1493242052, "question_id": 43644808, "link": "https://stackoverflow.com/questions/43644808/i-need-help-unit-testing-jsonresults-in-mvc-net-site", "title": "I need help Unit Testing JsonResults in MVC.Net site", "body": "<p>I am getting an error trying to Unit Test a JsonResult in my MVC.Net application.</p>\n\n<p>I see that I am retrieving data using dynamic in my test, but when I do an Assert.AreEqual I get an error.</p>\n\n<p>What am I doing wrong?  How can I fix this?</p>\n\n<p>I have included the code I use in my unit test as well as the error that I am getting (see images below):</p>\n\n<p><strong>CODE USED IN UNIT TEST</strong></p>\n\n<pre><code>   [TestMethod]\n   public void getStatusesInfoTESTTest()\n   {\n       const int statusID = 12;\n       MasterDataController controller = new MasterDataController();\n       var result = controller.getStatusInfoTEST(statusID) as JsonResult;\n       dynamic data = result.Data;\n       Assert.AreEqual(\"TESTING 123\", data.MasterDataDescription);\n    }\n</code></pre>\n\n<p><strong>ERROR I GET:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/HRQUb.png\" rel=\"nofollow noreferrer\">IMAGE OF ERROR I GET</a></p>\n\n<p><strong>ERROR MESSAGE:</strong></p>\n\n<p><em>An exception of type 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' occurred in System.Core.dll but was not handled in user code</em> </p>\n\n<p><strong>IMAGE OF THE DATA I GET BACK</strong>\n<a href=\"https://i.stack.imgur.com/SVXUP.png\" rel=\"nofollow noreferrer\">IMAGE OF RETURNED DATA</a></p>\n\n<p>Thanks for your help,\nmrotor</p>\n"}, {"tags": ["c#", "wpf", "data-binding", "commandbinding"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1493242265, "post_id": 43644798, "comment_id": 74338147, "body": "do a google search on the follow, that would have been the first thing I would have done <code>C# stackoverflow TextBlock.Text Binding StringFormat</code>"}, {"owner": {"reputation": 654, "user_id": 6360671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tPvw0.jpg?s=128&g=1", "display_name": "dcdgo", "link": "https://stackoverflow.com/users/6360671/dcdgo"}, "edited": false, "score": 0, "creation_date": 1493243624, "post_id": 43644798, "comment_id": 74338705, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/3616555/hide-or-disable-input-gesture-text-in-wpf\">Hide or disable Input Gesture Text in wpf</a>"}], "answers": [{"comments": [{"owner": {"reputation": 968, "user_id": 587967, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4qH7K.jpg?s=128&g=1", "display_name": "Dbloom", "link": "https://stackoverflow.com/users/587967/dbloom"}, "edited": false, "score": 0, "creation_date": 1493315059, "post_id": 43645911, "comment_id": 74376214, "body": "I am trying to re-use the same Open command to avoid having more code that does mostly the same thing: Open a file. The difference between the code run when a user clicks File-&gt;Open and when they click Recent packages-&gt;FileName is that the former opens a dialog box to let the user choose the file to open, and the latter uses the path from the menu to open the file."}, {"owner": {"reputation": 968, "user_id": 587967, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4qH7K.jpg?s=128&g=1", "display_name": "Dbloom", "link": "https://stackoverflow.com/users/587967/dbloom"}, "edited": false, "score": 0, "creation_date": 1493315063, "post_id": 43645911, "comment_id": 74376217, "body": "But I do agree with the points you bring up. Perhaps I could let the Open command and this new RoutedUICommand handle the task of getting the file to open, and then use a common method to actually do the opening, thus avoiding repeating code in two difference places."}], "tags": [], "owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "is_accepted": true, "score": 1, "last_activity_date": 1493247602, "last_edit_date": 1495542361, "creation_date": 1493247602, "answer_id": 43645911, "question_id": 43644798, "link": "https://stackoverflow.com/questions/43644798/how-do-i-use-stringformat-to-get-rid-of-the-inputgesture-text-when-a-ui-element/43645911#43645911", "title": "How do I use StringFormat to get rid of the InputGesture text when a UI element is bound to a command?", "body": "<blockquote>\n  <p>How do I use StringFormat to get rid of the InputGesture text when a UI element is bound to a command?</p>\n</blockquote>\n\n<p>You don't. The <code>Header</code> property has nothing to do with the display of the gesture text, and applying <code>StringFormat</code> or anything else to it won't have any effect.</p>\n\n<p>You could use the approach found in <a href=\"https://stackoverflow.com/questions/3616555/hide-or-disable-input-gesture-text-in-wpf\">Hide or disable Input Gesture Text in wpf</a>, suggested by <a href=\"https://stackoverflow.com/questions/43644798/how-do-i-use-stringformat-to-get-rid-of-the-inputgesture-text-when-a-ui-element#comment74338705_43644798\">the comment above</a>. In that case, you'd probably just set the alpha to 0 for the text color. But a simpler approach would be to just set the <code>MenuItem.InputGestureText</code> value to <code>\" \"</code> (note the space&hellip;if you use the empty string, WPF will ignore it).</p>\n\n<p>All that said, I think you are approaching this the wrong way.</p>\n\n<p>The reason you are getting the gesture text in the first place is because you are using <code>ApplicationCommands.Open</code> as the command for the menu item. But that's not really the right command. You already use that, for the \"Open package&hellip;\" command in your \"File\" menu. So it's not really the same command, is it?</p>\n\n<p>Even if you hide the input gesture text, that doesn't actually <em>remove</em> the gesture. It just doesn't document it in the menu. So, when the user presses <kbd>Ctrl</kbd>+<kbd>O</kbd>, which of these three menu items is it you expect to be executed? How do you expect WPF to be sure it will execute the command you wanted?</p>\n\n<p>In my opinion, you should define your own <code>ICommand</code> for use with these menu items, and leave the <code>ApplicationsCommand.Open</code> command out of it. Reserve that for the one command you do want a keyboard shortcut for. With your own <code>ICommand</code> (e.g. a <code>RoutedUICommand</code>) you can simply not define an input gesture/keyboard shortcut, and then there won't be any to display in the menu.</p>\n"}], "owner": {"reputation": 968, "user_id": 587967, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4qH7K.jpg?s=128&g=1", "display_name": "Dbloom", "link": "https://stackoverflow.com/users/587967/dbloom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 43645911, "answer_count": 1, "score": 2, "last_activity_date": 1493314026, "creation_date": 1493241998, "last_edit_date": 1493314026, "question_id": 43644798, "link": "https://stackoverflow.com/questions/43644798/how-do-i-use-stringformat-to-get-rid-of-the-inputgesture-text-when-a-ui-element", "title": "How do I use StringFormat to get rid of the InputGesture text when a UI element is bound to a command?", "body": "<p>I have a list of menu items that are bound to a string collection. Each of these menu items, when clicked, will fire my Open command. This is all working fine. </p>\n\n<p>How do I omit the Ctrl+O next to each of these menu items?</p>\n\n<p>Below is my XAML.</p>\n\n<pre><code>                &lt;MenuItem Header=\"Recent packages\" ItemsSource=\"{Binding Source={x:Static p:Settings.Default}, Path=RecentItems}\"&gt;\n                &lt;MenuItem.ItemTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;MenuItem CommandTarget=\"{Binding}\" Command=\"ApplicationCommands.Open\" CommandParameter=\"{Binding RelativeSource={RelativeSource Self}, Path=Header}\"&gt;\n                        &lt;MenuItem.Header&gt;\n                                &lt;TextBlock&gt;\n                                    &lt;TextBlock.Text&gt;\n                                        &lt;Binding StringFormat=\"{}{0}\" /&gt;\n                                    &lt;/TextBlock.Text&gt;\n                                &lt;/TextBlock&gt;\n                            &lt;/MenuItem.Header&gt;\n                        &lt;/MenuItem&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/MenuItem.ItemTemplate&gt;\n            &lt;/MenuItem&gt;\n</code></pre>\n\n<p>Here is a picture of what I am talking about.\n<a href=\"https://i.stack.imgur.com/ICnk5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ICnk5.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "html", "xml", "ms-word", "openxml"], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 4249808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66e556111f9aa9ae0a96eaa84942184?s=128&d=identicon&r=PG&f=1", "display_name": "Reconciler-STL", "link": "https://stackoverflow.com/users/4249808/reconciler-stl"}, "is_accepted": false, "score": 1, "last_activity_date": 1495655125, "creation_date": 1495655125, "answer_id": 44167236, "question_id": 43644792, "link": "https://stackoverflow.com/questions/43644792/openxml-how-to-convert-html-with-styles/44167236#44167236", "title": "Openxml - How to convert HTML with styles?", "body": "<p>In my experience, Word does not handle linked Stylesheets, such as . And, I even had to find them and remove them with a good RegularExpress because those tags still had some negative visual affects within the Word Document.</p>\n\n<p>When exporting to Word, I use HttpWebRequest to run my stylesheets, and stream their Response to a StringBuilder, all of the content placed within a style tag, and then I use string.Replace to replace some placeholder text on my markup (that placeholder text only shows when I am in Print to Word mode). Below, \"pageSource\" is the OnRender event's HtmlTextWriter text that I grab instead of going out to the browser (then I go from there to manipulate the HTML with string.Replace and Regex.Replace, etc). You may or may not need the CookieContainer and cookie foreach loop, depending on your site security (tokens) and other use of cookies. </p>\n\n<pre><code>    public string PutOurStylesInBlockForWordExport(string pageSource, string webRoot)\n    {\n        StringBuilder sb = new StringBuilder();\n        sb.AppendLine(@\"&lt;style type=\"\"text/css\"\"&gt;\");\n\n        HttpWebRequest req = WebRequest.Create(webRoot + \"Styles/reset.css\") as HttpWebRequest;\n        HttpWebRequest req2 = WebRequest.Create(webRoot + \"Styles/style.css\") as HttpWebRequest;\n        CookieContainer cc = new CookieContainer();\n        req.CookieContainer = cc;\n        req2.CookieContainer = cc;\n        var cookies = HttpContext.Current.Request.Cookies;\n        foreach (string key in cookies.AllKeys)\n        {\n            Cookie c = new Cookie(cookies[key].Name, cookies[key].Value);\n            Uri root = new Uri(webRoot);\n            req.CookieContainer.Add(root, c);\n            req2.CookieContainer.Add(root, c);\n        }\n\n        System.Net.WebResponse resp = req.GetResponse();\n        using (System.IO.StreamReader sr = new System.IO.StreamReader(resp.GetResponseStream()))\n        {\n            sb.Append(sr.ReadToEnd().Trim());\n        }\n\n        System.Net.WebResponse resp2 = req2.GetResponse();\n        using (System.IO.StreamReader sr = new System.IO.StreamReader(resp2.GetResponseStream()))\n        {\n            sb.Append(sr.ReadToEnd().Trim());\n        }\n\n        sb.AppendLine(@\"&lt;/style&gt;\");\n        return sb.ToString();\n    }\n</code></pre>\n"}], "owner": {"reputation": 1610, "user_id": 3418949, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/5BYeG.jpg?s=128&g=1", "display_name": "Olegs Jasjko", "link": "https://stackoverflow.com/users/3418949/olegs-jasjko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 934, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1495655125, "creation_date": 1493241971, "question_id": 43644792, "link": "https://stackoverflow.com/questions/43644792/openxml-how-to-convert-html-with-styles", "title": "Openxml - How to convert HTML with styles?", "body": "<p>I am trying to create Word document by using Openxml and got a problem when Openxml doesn't understand Html tags in a way I needed it.</p>\n\n<p>In my test project (to see how it works at all) I have done second thing:</p>\n\n<pre><code>using (var package = WordprocessingDocument.Create(filename, WordprocessingDocumentType.Document))\n{\n     package.AddMainDocumentPart();\n\n     var mainPart = package.MainDocumentPart;\n     mainPart.Document = new Document();\n     var body = new Body();\n\n     var sectionProp = new SectionProperties();\n     var pageSetup = new PageMargin() { Top = 1701, Left= 1134, Right = 1134, Bottom = 850 };\n     sectionProp.Append(pageSetup);\n\n     body.Append(sectionProp);\n\n     var converter = new HtmlConverter(mainPart);\n\n     var para = converter.Parse(@\"&lt;b&gt;Testing Html&lt;/b&gt;&lt;b&gt;Testing Html2&lt;/b&gt;\");\n\n     var runProp = new RunProperties();\n     runProp.Append(new Bold(), new FontSize() {Val = \"32\"});\n\n     var paragProp = new ParagraphProperties();\n     var justif = new Justification() {Val = JustificationValues.Center};\n     paragProp.Append(justif);\n\n     body.Append(new Paragraph(paragProp, new Run(runProp, new Text(\"&lt;b&gt;Testing&lt;/b&gt;\"))), para[0]);    \n     mainPart.Document.Append(body);\n}\n\nSystem.Diagnostics.Process.Start(filename);\n</code></pre>\n\n<p>I get it that Html2Openxml converts Html text to a bunch of paragraphs, <strong>but that the problem for me</strong>, because I also need to <strong>add some styles to it</strong>.</p>\n\n<p>Do I need to send some styles with html (how i supposed to do that, just style=\"\" everywhere or it can understand css to some extend?) to it to convert properly, or is there a way to somehow give to converted paragraph styles?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "linq", "razor"], "comments": [{"owner": {"reputation": 580, "user_id": 283344, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/eoJBg.jpg?s=128&g=1", "display_name": "Michael Burns", "link": "https://stackoverflow.com/users/283344/michael-burns"}, "edited": false, "score": 0, "creation_date": 1493242737, "post_id": 43644772, "comment_id": 74338337, "body": "Can you add your Position class?"}, {"owner": {"reputation": 1220, "user_id": 3327090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C2RDS.jpg?s=128&g=1", "display_name": "Element808", "link": "https://stackoverflow.com/users/3327090/element808"}, "reply_to_user": {"reputation": 580, "user_id": 283344, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/eoJBg.jpg?s=128&g=1", "display_name": "Michael Burns", "link": "https://stackoverflow.com/users/283344/michael-burns"}, "edited": false, "score": 0, "creation_date": 1493243602, "post_id": 43644772, "comment_id": 74338691, "body": "@MichaelBurns - added per your request"}], "answers": [{"comments": [{"owner": {"reputation": 1220, "user_id": 3327090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C2RDS.jpg?s=128&g=1", "display_name": "Element808", "link": "https://stackoverflow.com/users/3327090/element808"}, "edited": false, "score": 2, "creation_date": 1493243680, "post_id": 43645101, "comment_id": 74338730, "body": "&quot;left join&quot; is not valid LINQ syntax, unfortunately, otherwise this would be much more simple :)"}], "tags": [], "owner": {"reputation": 3172, "user_id": 6726592, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6xIeo.jpg?s=128&g=1", "display_name": "Roxy&#39;Pro", "link": "https://stackoverflow.com/users/6726592/roxypro"}, "is_accepted": false, "score": -1, "last_activity_date": 1493243328, "creation_date": 1493243328, "answer_id": 43645101, "question_id": 43644772, "link": "https://stackoverflow.com/questions/43644772/linq-return-all-records-and-groupby-on-mvc5-razor-view/43645101#43645101", "title": "LINQ return all records and groupby on MVC5 Razor View", "body": "<blockquote>\n  <p>\"I want it to return a list of all positions, even if there are no\n  people who match the position.\"</p>\n</blockquote>\n\n<p><strong>as you said</strong> that, you should simply do next (edit this part):</p>\n\n<p>before :</p>\n\n<pre><code>from a in db.Positions\njoin b in db.People \n</code></pre>\n\n<p>after :</p>\n\n<pre><code>from a in db.Positions\nleft join b in db.People \n</code></pre>\n\n<p>As you can see I applied <code>left join</code>, because The SQL <code>LEFT JOIN</code> returns all rows from the left table, even if there are no matches in the right table. This means that if the ON clause matches 0 (zero) records in the right table; the join will still return a row in the result, but with NULL in each column from the right table.</p>\n\n<p>This means that a left join returns all the values from the left table, plus matched values from the right table or NULL in case of no matching join predicate.</p>\n\n<p>I hope this helped to you,\nCheers</p>\n"}, {"comments": [{"owner": {"reputation": 1220, "user_id": 3327090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C2RDS.jpg?s=128&g=1", "display_name": "Element808", "link": "https://stackoverflow.com/users/3327090/element808"}, "edited": false, "score": 0, "creation_date": 1493526205, "post_id": 43702396, "comment_id": 74450509, "body": "Amazing, thorough answer. With your implementation, I&#39;m getting a couple of errors though. 1. The name &#39;a&#39; does not exist in the current context, and 2. &#39;AnonymousType#1&#39; does not contain a definition for &#39;Count&#39;. select new {                      CompanyName = e.Name,                     GradeName = c.Name,                     SeriesName = d.Name,                      PaybandName = p.Name,                     a.Authorized, // &lt;---- error 1                     Assigned = counts.Count() // &lt;---- error 2                  } into full"}, {"owner": {"reputation": 2648, "user_id": 1419947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8269d58e8e1211314659a4359a530f2e?s=128&d=identicon&r=PG", "display_name": "m1kael", "link": "https://stackoverflow.com/users/1419947/m1kael"}, "reply_to_user": {"reputation": 1220, "user_id": 3327090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C2RDS.jpg?s=128&g=1", "display_name": "Element808", "link": "https://stackoverflow.com/users/3327090/element808"}, "edited": false, "score": 1, "creation_date": 1493527404, "post_id": 43702396, "comment_id": 74450701, "body": "Sorry, you&#39;re right. Fixed them, please see the updated code. Basically, <code>Assigned = counts.Count()</code> should&#39;ve been <code>Assigned = counts.Count</code>; and as for <code>a.Authorized</code>, it should&#39;ve been included into the 1st group by and the re-used from there. Also, please note the use of the <code>class=&quot;company-name&quot;</code> attr in the view. It&#39;s needed to style the company name rows with CSS since we got rid of the multiple <code>thead</code>s."}, {"owner": {"reputation": 1220, "user_id": 3327090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C2RDS.jpg?s=128&g=1", "display_name": "Element808", "link": "https://stackoverflow.com/users/3327090/element808"}, "edited": false, "score": 0, "creation_date": 1493527992, "post_id": 43702396, "comment_id": 74450787, "body": "One last thing, on the view, replaced everything on the page with your code and passing into the view @model IEnumerable&lt;dynamic&gt;. I&#39;ve gone through everything and with the final select in the dynamic query, it should contain &quot;CompanyName&quot;, but getting an error of: &#39;object&#39; does not contain a definition for &#39;CompanyName&#39; on the view. Any ideas?"}, {"owner": {"reputation": 1220, "user_id": 3327090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C2RDS.jpg?s=128&g=1", "display_name": "Element808", "link": "https://stackoverflow.com/users/3327090/element808"}, "edited": false, "score": 0, "creation_date": 1493528229, "post_id": 43702396, "comment_id": 74450821, "body": "wrapped the dynamic query in () and added .AsEnumerable().Select(r =&gt; r.ToExpando()) to the end, now I&#39;m getting: &#39;object&#39; does not contain a definition for &#39;Grade&#39; on: &lt;td class=&quot;col-sm-2&quot;&gt;@companyItem.Grade&lt;/td&gt;"}, {"owner": {"reputation": 2648, "user_id": 1419947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8269d58e8e1211314659a4359a530f2e?s=128&d=identicon&r=PG", "display_name": "m1kael", "link": "https://stackoverflow.com/users/1419947/m1kael"}, "reply_to_user": {"reputation": 1220, "user_id": 3327090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C2RDS.jpg?s=128&g=1", "display_name": "Element808", "link": "https://stackoverflow.com/users/3327090/element808"}, "edited": false, "score": 1, "creation_date": 1493529852, "post_id": 43702396, "comment_id": 74451112, "body": "This is due to the combination of dynamic model and anonymous type being used as model. At runtime anonymous model is treated as an object, and objects don&#39;t have the properties we&#39;re trying to access. So here it&#39;s best to use a strongly-typed view model. I&#39;ll update the code now."}, {"owner": {"reputation": 1220, "user_id": 3327090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C2RDS.jpg?s=128&g=1", "display_name": "Element808", "link": "https://stackoverflow.com/users/3327090/element808"}, "edited": false, "score": 0, "creation_date": 1493530038, "post_id": 43702396, "comment_id": 74451145, "body": "Braddah, you&#39;re awesome. Mahalo! The anonymous types and dynamic models always have confused me. I look forward to the update. Thanks again!"}, {"owner": {"reputation": 2648, "user_id": 1419947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8269d58e8e1211314659a4359a530f2e?s=128&d=identicon&r=PG", "display_name": "m1kael", "link": "https://stackoverflow.com/users/1419947/m1kael"}, "reply_to_user": {"reputation": 1220, "user_id": 3327090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C2RDS.jpg?s=128&g=1", "display_name": "Element808", "link": "https://stackoverflow.com/users/3327090/element808"}, "edited": false, "score": 1, "creation_date": 1493531124, "post_id": 43702396, "comment_id": 74451318, "body": "You&#39;re welcome! See the updated code. You&#39;ll need to add two classes, update the final <code>select</code> in the query, and also update the view. Let me know if there are any other erorrs."}, {"owner": {"reputation": 1220, "user_id": 3327090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C2RDS.jpg?s=128&g=1", "display_name": "Element808", "link": "https://stackoverflow.com/users/3327090/element808"}, "edited": false, "score": 1, "creation_date": 1493533008, "post_id": 43702396, "comment_id": 74451695, "body": "There were a couple of small changes I had to make here and there and a missing .Key. but the solution is rock solid and I appreciate all the time and help with getting this working. I understand it so much more with the way you did it, and will help me in the long run. Thanks again, bro! Well earned bounty! (can&#39;t award it until 17 hrs from now though)"}], "tags": [], "owner": {"reputation": 2648, "user_id": 1419947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8269d58e8e1211314659a4359a530f2e?s=128&d=identicon&r=PG", "display_name": "m1kael", "link": "https://stackoverflow.com/users/1419947/m1kael"}, "is_accepted": true, "score": 2, "last_activity_date": 1493530894, "last_edit_date": 1493530894, "creation_date": 1493519979, "answer_id": 43702396, "question_id": 43644772, "link": "https://stackoverflow.com/questions/43644772/linq-return-all-records-and-groupby-on-mvc5-razor-view/43702396#43702396", "title": "LINQ return all records and groupby on MVC5 Razor View", "body": "<p>You need to slightly change the logic in you query to count earlier, and then things will become a bit easier. Please see the comments in the code snippet below:</p>\n\n<pre><code>            ...\n\n            from a in db.Positions\n                 join b in db.People \n                 on new { \n                     a.GradeId, \n                     a.SeriesId, \n                     a.CompanyId, \n                     a.PaybandId }\n                 equals new { \n                     b.GradeId, \n                     b.SeriesId, \n                     b.CompanyId, \n                     b.PaybandId } into ab\n                 from k in ab.DefaultIfEmpty()\n\n                 // you want to count the number of people per position here\n\n                 group k by new { a.GradeId, a.SeriesId, a.CompanyId, a.PaybandId, a.Authorized } into g\n                 select new { g.Key.GradeId, g.Key.SeriesId, g.Key.CompanyId, g.Key.PaybandId, g.Authorized, Count = g.Count(p =&gt; p != null) } into counts\n\n                 // at this point you have position info AND people count per position\n                 // next, you can do the remaining joins...\n\n                 join c in db.Grades on counts.GradeId equals c.Id\n                 join d in db.Series on counts.SeriesId equals d.Id\n                 join e in db.Companies on counts.CompanyId equals e.Id\n                 join p in db.Paybands on counts.PaybandId equals p.Id\n\n                 // ... and select full data set, including person count, required for the view\n\n                 select new { \n                    CompanyName = e.Name,\n                    GradeName = c.Name,\n                    SeriesName = d.Name, \n                    PaybandName = p.Name,\n                    counts.Authorized,\n                    Assigned = counts.Count\n                 } into full\n\n                 // one more step here that will help to tackle your second problem (grouping by company name in the view)\n                 // you want your data coming into the view be grouped by company name \n\n                 group full by full.CompanyName into groupByCompany\n\n                 select new CompanyInfo { CompanyName = groupByCompany.Key, CompanyItems = groupByCompany.Select(i =&gt; new CompanyItem { GradeName = i.GradeName, SeriesName = i.SeriesName, PaybandName = i.PaybandName, Authorized = i.Authorized, Assigned = i.Assigned }).ToList() }\n\n                ...\n</code></pre>\n\n<p>Then in the view you'll need to create 2 <code>@foreach</code> loops instead of one. The first, outer one, will loop over the collection above and render a row with the company name once, while the other, inner one, will loop over the <code>CompanyItems</code> property of each item in the collection and render a row per item under the company name row.</p>\n\n<p>Also, your generated HTML is not 100% valid as there are multiple <code>thead</code> tags which is <a href=\"https://www.w3.org/TR/html401/struct/tables.html#h-11.2.3\" rel=\"nofollow noreferrer\">not allowed</a>. Here's an edited version:</p>\n\n<pre><code>...\n@model IEnumerable&lt;CompanyInfo&gt;\n\n&lt;table class=\"table table-responsive table-hover\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th class=\"col-sm-1\"&gt;&lt;/th&gt;\n            &lt;th class=\"col-sm-2\"&gt;Grade&lt;/th&gt;\n            &lt;th class=\"col-sm-2\"&gt;Series&lt;/th&gt;\n            &lt;th class=\"col-sm-2\"&gt;Payband&lt;/th&gt;\n            &lt;th class=\"col-sm-2\"&gt;Authorized&lt;/th&gt;\n            &lt;th class=\"col-sm-2\"&gt;Assigned&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    @foreach (CompanyInfo item in Model)\n    {\n        &lt;tbody&gt;\n            &lt;tr class=\"company-name\"&gt;\n                &lt;th class=\"panel-bg\" colspan=\"6\"&gt;@item.CompanyName&lt;/th&gt;\n            &lt;/tr&gt;\n            @foreach (CompanyItem companyItem in item.CompanyItems)\n            {\n                &lt;tr&gt;\n                    &lt;td class=\"col-sm-1\"&gt;&lt;/td&gt;\n                    &lt;td class=\"col-sm-2\"&gt;@companyItem.Grade&lt;/td&gt;\n                    &lt;td class=\"col-sm-2\"&gt;@companyItem.Series&lt;/td&gt;\n                    &lt;td class=\"col-sm-2\"&gt;@companyItem.Payband&lt;/td&gt;\n                    &lt;td class=\"col-sm-2\"&gt;@companyItem.Authorized&lt;/td&gt;\n                    &lt;td class=\"col-sm-2\"&gt;@companyItem.Assigned&lt;/td&gt;\n                &lt;/tr&gt;\n            }\n        &lt;/tbody&gt;\n    }\n&lt;/table&gt;\n\n...\n</code></pre>\n\n<p>To use a strongly-typed view model, add these two classes:</p>\n\n<pre><code>class CompanyInfo\n{\n    public string CompanyName { get; set; }\n    public List&lt;CompanyItem&gt; CompanyItems { get; set; }\n}\n\nclass CompanyItem\n{\n    public string GradeName { get; set; }\n    public string SeriesName { get; set; }\n    public string PaybandName { get; set; }\n    public bool Authorized { get; set; }\n    public int Assigned { get; set; }\n}\n</code></pre>\n\n<p>and then update the code with accordance to the updates above.</p>\n"}], "owner": {"reputation": 1220, "user_id": 3327090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C2RDS.jpg?s=128&g=1", "display_name": "Element808", "link": "https://stackoverflow.com/users/3327090/element808"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 788, "favorite_count": 1, "accepted_answer_id": 43702396, "answer_count": 2, "score": 1, "last_activity_date": 1493530894, "creation_date": 1493241916, "last_edit_date": 1493243570, "question_id": 43644772, "link": "https://stackoverflow.com/questions/43644772/linq-return-all-records-and-groupby-on-mvc5-razor-view", "title": "LINQ return all records and groupby on MVC5 Razor View", "body": "<p>My query returns a list of people who match a specific position. I want it to return a list of all positions, even if there are no people who match the position. The reason I'm joining on people is because I need the count of \"Assigned\" which is a dynamically added count field that match the position. But if there are no people who match the position I want it to still return the billeted position but want \"Assigned\" to be set to 0.</p>\n\n<pre><code>    dynamic query = (from a in db.Positions\n                     join b in db.People \n                     on new { \n                         a.GradeId, \n                         a.SeriesId, \n                         a.CompanyId, \n                         a.PaybandId }\n                     equals new { \n                         b.GradeId, \n                         b.SeriesId, \n                         b.CompanyId, \n                         b.PaybandId } into ab\n                     from k in ab.DefaultIfEmpty()\n                     join c in db.Grades on k.GradeId equals c.Id\n                     join d in db.Series on k.SeriesId equals d.Id\n                     join e in db.Companies on k.CompanyId equals e.Id\n                     join p in db.Paybands on k.PaybandId equals p.Id\n                     group a by new { CompanyName = e.Name, \n                         GradeName = c.Name, \n                         SeriesName = d.Name, \n                         PaybandName = p.Name, \n                         a.Authorized } into f\n                     select new { Company = f.Key.CompanyName, \n                         Grade = f.Key.GradeName, \n                         Series = f.Key.SeriesName, \n                         Payband = f.Key.PaybandName, \n                         Authorized = f.Key.Authorized, \n                         Assigned = f.Count() }).AsEnumerable().Select(r =&gt; r.ToExpando());\n</code></pre>\n\n<p>Another issue I'm facing is that on the razor page, the Company is repeating. I'm needing the company heading to show up only once per company but want all positions to be listed below it.</p>\n\n<p>Here's the view screenshot and razor script:\n<a href=\"https://i.stack.imgur.com/CqbTJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CqbTJ.jpg\" alt=\"Razor View Screenshot\"></a></p>\n\n<pre><code>@model  IEnumerable&lt;dynamic&gt;\n\n@{\n    Layout = \"~/Views/Shared/_Layout.cshtml\";\n}\n\n&lt;h2&gt;@ViewBag.Title&lt;/h2&gt;\n&lt;table class=\"table table-responsive table-hover\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th class=\"col-sm-1\"&gt;&lt;/th&gt;\n            &lt;th class=\"col-sm-2\"&gt;Grade&lt;/th&gt;\n            &lt;th class=\"col-sm-2\"&gt;Series&lt;/th&gt;\n            &lt;th class=\"col-sm-2\"&gt;Payband&lt;/th&gt;\n            &lt;th class=\"col-sm-2\"&gt;Authorized&lt;/th&gt;\n            &lt;th class=\"col-sm-2\"&gt;Assigned&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    @foreach (dynamic item in Model)\n    {\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th class=\"panel-bg\" colspan=\"6\"&gt;@item.Company&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &lt;tr&gt;\n                &lt;td class=\"col-sm-1\"&gt;&lt;/td&gt;\n                &lt;td class=\"col-sm-2\"&gt;@item.Grade&lt;/td&gt;\n                &lt;td class=\"col-sm-2\"&gt;@item.Series&lt;/td&gt;\n                &lt;td class=\"col-sm-2\"&gt;@item.Payband&lt;/td&gt;\n                &lt;td class=\"col-sm-2\"&gt;@item.Authorized&lt;/td&gt;\n                &lt;td class=\"col-sm-2\"&gt;@item.Assigned&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n    }\n&lt;/table&gt;\n</code></pre>\n\n<p>Any help is greatly appreciated!</p>\n\n<p>EDIT (Added Positions.cs class at request)</p>\n\n<pre><code>namespace CPR.Models\n{\nusing Newtonsoft.Json;\n    using System;\n    using System.Collections.Generic;\n    using System.ComponentModel.DataAnnotations;\n    using System.ComponentModel.DataAnnotations.Schema;\n    using System.Data.Entity.Spatial;\n\n    public partial class Positions\n    {\n        public Positions()\n        {\n\n        }\n\n        [Key]\n        public int Id { get; set; }\n\n        [Required]\n        public int CompanyId { get; set; }\n\n        [Required]\n        public int SeriesId { get; set; }\n\n        [Required]\n        public int GradeId { get; set; }\n\n        [Required]\n        public int PaybandId { get; set; }\n\n        [Required]\n        public int Authorized { get; set; }\n\n        public virtual Companies Companies { get; set; }\n\n        public virtual Series Series { get; set; }\n\n        public virtual Grades Grades { get; set; }\n\n        public virtual Paybands Paybands { get; set; }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "xml", "generics", "serialization"], "comments": [{"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1493242557, "post_id": 43644770, "comment_id": 74338268, "body": "You are asking independent questions.  Your first question, how to make the element name match the generic parameter type name, is very similar to <a href=\"https://stackoverflow.com/q/38344516/3744182\">C#: Best way to have XML element name from generic type name</a>.  For your second question, about how to modify the root name of a generic, you will need to subclass <code>LayoutArquivoXML&lt;AnotherLayout&gt;</code> or use <code>XmlRootAttribute</code> as shown <a href=\"http://stackoverflow.com/a/23897411/3744182\">here</a>."}], "answers": [{"comments": [{"owner": {"reputation": 2756, "user_id": 256925, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/mSZys.jpg?s=128&g=1", "display_name": "Ewerton", "link": "https://stackoverflow.com/users/256925/ewerton"}, "edited": false, "score": 1, "creation_date": 1494425899, "post_id": 43878970, "comment_id": 74824313, "body": "Thanks, its perfect!"}], "tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": true, "score": 1, "last_activity_date": 1494376390, "last_edit_date": 1494376390, "creation_date": 1494360435, "answer_id": 43878970, "question_id": 43644770, "link": "https://stackoverflow.com/questions/43644770/how-to-serialize-a-custom-object-with-a-list-of-another-custom-object-in-a-parti/43878970#43878970", "title": "How to serialize a custom object with a list of another custom object in a particular schema when this list of custom objects is a generic type", "body": "<p>There are two separate issues.</p>\n\n<blockquote>\n  <p>I don't want the tag <code>&lt;ItensLayout&gt;</code> tag in the XML. What i need to do to generate the XML in the desired schema?</p>\n</blockquote>\n\n<p>As explained in the <a href=\"https://docs.microsoft.com/en-us/dotnet/articles/framework/serialization/controlling-xml-serialization-using-attributes\" rel=\"nofollow noreferrer\">documentation</a> for <strong>Serializing an Array as a Sequence of Elements</strong>, to serialize an array (list, enumerable etc.) as flat sequence of XML elements, you need to apply <code>XmlElement</code> attribute to the property/field.</p>\n\n<blockquote>\n  <p>Also, the root tag <code>&lt;Servidor&gt;</code> will need to change according to the file i am generating</p>\n</blockquote>\n\n<p>This is controlled by the <code>XmlRoot</code> attribute.</p>\n\n<p>Now, all this applies if you are using concrete classes. In order to apply them dynamically to your generic class, you can use the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.xml.serialization.xmlattributeoverrides?view=netframework-4.7\" rel=\"nofollow noreferrer\"><code>XmlOverrides</code></a> class and the <code>XmlSerializer</code> <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.xml.serialization.xmlserializer?view=netframework-4.7\" rel=\"nofollow noreferrer\">constructors</a> accepting such parameter.</p>\n\n<p>To do that, first add an optional parameter to your original method:</p>\n\n<pre><code>public string Serializador&lt;T&gt;(T objeto, XmlAttributeOverrides overrides = null)\n{\n    string xml = string.Empty;\n    using (var sw = new ISO8859StringWriter())\n    {\n        XmlSerializerNamespaces ns = new XmlSerializerNamespaces();\n        ns.Add(\"\", \"\"); // to omit XML namespaces\n        var xs = new XmlSerializer(typeof(T), overrides);\n        xs.Serialize(sw, objeto, ns);\n        xml = sw.ToString();\n    }\n    return xml;\n}\n</code></pre>\n\n<p>Then create a specific method like this:</p>\n\n<pre><code>public string Serializador&lt;T&gt;(LayoutArquivoXML&lt;T&gt; objeto, string rootElementName, string contentElementName)\n     where T : ItemLayout\n{\n    var xmlAttrOverrides = new XmlAttributeOverrides();\n    // Root element name override\n    var xmlRootAttrs = new XmlAttributes();\n    xmlRootAttrs.XmlRoot = new XmlRootAttribute(rootElementName);\n    xmlAttrOverrides.Add(typeof(LayoutArquivoXML&lt;T&gt;), xmlRootAttrs);\n    // Content element name override\n    var xmlContentAttrs = new XmlAttributes();\n    xmlContentAttrs.XmlElements.Add(new XmlElementAttribute(contentElementName));\n    xmlAttrOverrides.Add(typeof(LayoutArquivoXML&lt;T&gt;), \"ItensLayout\", xmlContentAttrs);\n    // Call the original method passing the overrides\n    return Serializador(objeto, xmlAttrOverrides);\n}\n</code></pre>\n\n<p>Now you can achieve your goal by using something like this:</p>\n\n<pre><code>var source = new LayoutArquivoXML&lt;ServidorLayout&gt;\n{\n    VersaoLayout = \"0001\",\n    CodigoUJ = \"001001\",\n    ItensLayout = new List&lt;ServidorLayout&gt;\n    {\n        new ServidorLayout\n        {\n            CPFServidor = \"13579024681\",\n            Nome = \"Fulano Pereira Tal\",\n        },\n    }\n};\n\nvar xml = Serializador(source, \"Servidor\", \"ItemServidor\");\n</code></pre>\n\n<p>which produces:</p>\n\n<pre><code>&lt;Servidor&gt;\n  &lt;VersaoLayout&gt;0001&lt;/VersaoLayout&gt;\n  &lt;CodigoUJ&gt;001001&lt;/CodigoUJ&gt;\n  &lt;ItemServidor&gt;\n    &lt;CPFServidor&gt;13579024681&lt;/CPFServidor&gt;\n    &lt;NomeServidor&gt;Fulano Pereira Tal&lt;/NomeServidor&gt;\n  &lt;/ItemServidor&gt;\n&lt;/Servidor&gt;\n</code></pre>\n"}], "owner": {"reputation": 2756, "user_id": 256925, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/mSZys.jpg?s=128&g=1", "display_name": "Ewerton", "link": "https://stackoverflow.com/users/256925/ewerton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 43878970, "answer_count": 1, "score": 1, "last_activity_date": 1494376390, "creation_date": 1493241903, "question_id": 43644770, "link": "https://stackoverflow.com/questions/43644770/how-to-serialize-a-custom-object-with-a-list-of-another-custom-object-in-a-parti", "title": "How to serialize a custom object with a list of another custom object in a particular schema when this list of custom objects is a generic type", "body": "<p>I need to create a lot of XML files. They are very similar and they need to have the following schema:</p>\n\n<pre><code>&lt;Servidor&gt;\n  &lt;VersaoLayout&gt;0001&lt;/VersaoLayout&gt; &lt;!--Will not change--&gt;\n  &lt;CodigoUJ&gt;001001&lt;/CodigoUJ&gt;       &lt;!--Will not change--&gt;\n    &lt;ItemServidor&gt;                  &lt;!--A list of &lt;T&gt; that will change--&gt;\n      &lt;CPFServidor&gt;13579024681&lt;/CPFServidor&gt;\n      &lt;NomeServidor&gt;Fulano Pereira Tal&lt;/NomeServidor&gt;\n    &lt;/ItemServidor&gt;\n&lt;/Servidor&gt;\n</code></pre>\n\n<p>Note that the tags <code>&lt;VersaoLayout&gt;</code> and <code>&lt;CodigoUJ&gt;</code> are the same for all the files i need to create, the <code>&lt;ItemServidor&gt;</code> is the content that will vary. So i thought: Why not create just one class and use  generics to handle the differences for this case? And for now my classes are the following:</p>\n\n<pre><code>//Kind of a container class that will hold the content that will vary.\n[XmlRoot(\"Servidor\", ElementName=\"Servidor\")]\npublic class LayoutArquivoXML&lt;T&gt; where T : ItemLayout\n{\n    [XmlElement(\"VersaoLayout\")]\n    public string VersaoLayout { get; set; }\n\n    [XmlElement(\"CodigoUJ\")]\n    public string CodigoUJ { get; set; }\n\n    //[XmlArrayItem(\"ItemServidor\")]\n    public List&lt;T&gt; ItensLayout { get; set; }\n\n    // Constructors omited for simplicity\n}\n\n//A \"ContentClass\". I will have a bunch of classes similar to this\n[XmlRoot(\"ItemServidor\", ElementName = \"ItemServidor\")]\npublic class ServidorLayout : ItemLayout  \n{\n    [XmlElement(\"CPFServidor\")]\n    public string CPFServidor { get; set; }\n\n    [XmlElement(\"NomeServidor\")]\n    public string Nome { get; set; }\n}\n</code></pre>\n\n<p>I am instantiating my \"container class\" this way:</p>\n\n<pre><code>LayoutArquivoXML&lt;ServidorLayout&gt; layout = new Layout.LayoutArquivoXML&lt;ServidorLayout&gt;(\"versao01\", \"999\", lstItensLayout.ToList());\n</code></pre>\n\n<p>And my Serialization method is the following:</p>\n\n<pre><code> public string Serializador&lt;T&gt;(T objeto)\n {\n     string xml = string.Empty;\n     using (var sw = new ISO8859StringWriter())\n     {\n         XmlSerializerNamespaces ns = new XmlSerializerNamespaces();\n         ns.Add(\"\", \"\"); // to omit XML namespaces\n         var xs = new XmlSerializer(typeof(T));\n         xs.Serialize(sw, objeto, ns);\n      }\n      return xml;\n  }\n</code></pre>\n\n<p>These objects graph are generating a XML with the following schema:</p>\n\n<pre><code>&lt;Servidor&gt;\n  &lt;VersaoLayout&gt;versao01&lt;/VersaoLayout&gt;\n  &lt;CodigoUJ&gt;999&lt;/CodigoUJ&gt;\n  &lt;ItensLayout&gt;\n    &lt;ServidorLayout&gt;\n      &lt;CPFServidor&gt;4252813450&lt;/CPFServidor&gt;\n      &lt;NomeServidor&gt;Antonio de Sousa Muniz&lt;/NomeServidor&gt;\n    &lt;/ServidorLayout&gt;\n  &lt;/ItensLayout&gt;\n&lt;/Serv&gt;\n</code></pre>\n\n<p>I dont want the tag <code>&lt;ItensLayout&gt;</code> tag in the XML. What i need to do to generate the XML in the desired schema?</p>\n\n<p>Also, the root tag <code>&lt;Servidor&gt;</code> will need to change according to the file i am generating, imagine that i need to create another file where the root tag is <strong>Another</strong>, let say:</p>\n\n<pre><code>LayoutArquivoXML&lt;AnotherLayout&gt; layout = new Layout.LayoutArquivoXML&lt;AnotherLayout&gt;(\"versao01\", \"999\", anotherItensLayout.ToList());\n</code></pre>\n"}, {"tags": ["c#", "winforms", "printing", "file-watcher"], "comments": [{"owner": {"reputation": 697, "user_id": 7077113, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f01278ed8e09784fa1c0b8ca51405ece?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Harris", "link": "https://stackoverflow.com/users/7077113/andrew-harris"}, "edited": false, "score": 0, "creation_date": 1493242759, "post_id": 43644693, "comment_id": 74338349, "body": "I cant see you specifying the actual printer to print to."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1493242769, "post_id": 43644693, "comment_id": 74338354, "body": "try this link for ideas or do a google search - <a href=\"http://stackoverflow.com/questions/10572420/how-to-skip-the-dialog-of-printing-in-printdocument-print-and-print-page-direc\" title=\"how to skip the dialog of printing in printdocument print and print page direc\">stackoverflow.com/questions/10572420/&hellip;</a>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1493242887, "post_id": 43644693, "comment_id": 74338403, "body": "Where is <code>printDocument1</code> defined? I just copied and pasted your code, but I had to add <code>var printDocument1 = new PrintDocument();</code> for it to compile, and it printed fine to my default printer here at work with no dialogs."}, {"owner": {"reputation": 3, "user_id": 6513445, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WWlh_NzlDsY/AAAAAAAAAAI/AAAAAAAAM_4/YwlnLH_JBWc/photo.jpg?sz=128", "display_name": "Sergio Molina", "link": "https://stackoverflow.com/users/6513445/sergio-molina"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1493243638, "post_id": 43644693, "comment_id": 74338711, "body": "@RufusL I dragged the object from the printing toolBox, if you do that, you don&#39;t need to define it with code, visual studio does that for you. In your case, you did right with adding var to define it. Did it really printed without the dialog?"}, {"owner": {"reputation": 3, "user_id": 6513445, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WWlh_NzlDsY/AAAAAAAAAAI/AAAAAAAAM_4/YwlnLH_JBWc/photo.jpg?sz=128", "display_name": "Sergio Molina", "link": "https://stackoverflow.com/users/6513445/sergio-molina"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1493243848, "post_id": 43644693, "comment_id": 74338803, "body": "@MethodMan Actually I used his solution, you can see it in &quot;MyPrintMethod&quot;, defining the printController as StandarPrintController, but still pops up a save print output dialog."}, {"owner": {"reputation": 3, "user_id": 6513445, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WWlh_NzlDsY/AAAAAAAAAAI/AAAAAAAAM_4/YwlnLH_JBWc/photo.jpg?sz=128", "display_name": "Sergio Molina", "link": "https://stackoverflow.com/users/6513445/sergio-molina"}, "reply_to_user": {"reputation": 697, "user_id": 7077113, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f01278ed8e09784fa1c0b8ca51405ece?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Harris", "link": "https://stackoverflow.com/users/7077113/andrew-harris"}, "edited": false, "score": 0, "creation_date": 1493243964, "post_id": 43644693, "comment_id": 74338844, "body": "@AndrewHarris the print class sends the document to the default printer in Windows. The idea is that the user doesn&#39;t have to interact with any config dialog or save dialog, the user needs to download a file to a specific directory and the app will do the printing proccess automaticly"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1493245110, "post_id": 43644693, "comment_id": 74339312, "body": "Yes, because my default printer was a network printer. Probably yours is a document writer? Check my answer and see if it helps..."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6513445, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WWlh_NzlDsY/AAAAAAAAAAI/AAAAAAAAM_4/YwlnLH_JBWc/photo.jpg?sz=128", "display_name": "Sergio Molina", "link": "https://stackoverflow.com/users/6513445/sergio-molina"}, "edited": false, "score": 0, "creation_date": 1493245325, "post_id": 43645444, "comment_id": 74339397, "body": "Thank you, I will try your solution and if it works, I will select your answer as the best answer ;)"}, {"owner": {"reputation": 697, "user_id": 7077113, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f01278ed8e09784fa1c0b8ca51405ece?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Harris", "link": "https://stackoverflow.com/users/7077113/andrew-harris"}, "edited": false, "score": 0, "creation_date": 1493278561, "post_id": 43645444, "comment_id": 74350370, "body": "So if I understand this, you needed to specify the printer?"}, {"owner": {"reputation": 3, "user_id": 6513445, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WWlh_NzlDsY/AAAAAAAAAAI/AAAAAAAAM_4/YwlnLH_JBWc/photo.jpg?sz=128", "display_name": "Sergio Molina", "link": "https://stackoverflow.com/users/6513445/sergio-molina"}, "edited": false, "score": 0, "creation_date": 1493358454, "post_id": 43645444, "comment_id": 74391767, "body": "Hellow Andrew, my problem was that in my computer, I don&#39;t have any printer installed, so windows selects 1 of the following &quot;Microsoft XPS Document Writer or Microsoft Print to PDF&quot;. So those options prompts the user to save the print output. I tried this in another computer with a physical printer installed and it worked perfectly!"}], "tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": true, "score": 1, "last_activity_date": 1493246381, "last_edit_date": 1493246381, "creation_date": 1493245058, "answer_id": 43645444, "question_id": 43644693, "link": "https://stackoverflow.com/questions/43644693/how-to-remove-the-save-print-output-as-dialog-when-printing-a-txt-file-in-c/43645444#43645444", "title": "How to remove the &quot;Save Print output as&quot; dialog when printing a txt file in c#", "body": "<p>That dialog appears when the printer being used is a document writer, like <code>Microsoft XPS Document Writer</code> or <code>Microsoft Print to PDF</code>. Since you don't specify a printer by name, the problem is likely that this is the current default printer.</p>\n\n<p>If you know the name of the printer you want to use, then you can specify it like so:</p>\n\n<pre><code>printDocument1.PrinterSettings.PrinterName = \n    @\"\\\\printSrv.domain.corp.company.com\\bldg1-floor2-clr\";\n</code></pre>\n\n<p>If you don't know the name, then probably the best you can do is ask the user which one they want to print to. You can get a list of the installed printers like this:</p>\n\n<pre><code>var installedPrinters = PrinterSettings.InstalledPrinters;\n</code></pre>\n\n<p>And then when one is chosen, you can specify the name as in the first code sample. Here's some code that you can use to prompt the user for a printer, and set the printer to the one they choose:</p>\n\n<pre><code>Console.WriteLine(\"Please select one of the following printers:\");\nfor (int i = 0; i &lt; installedPrinters.Count; i++)\n{\n    Console.WriteLine($\" - {i + 1}: {installedPrinters[i]}\");\n}\n\nint printerIndex;\ndo\n{\n    Console.Write(\"Enter printer number (1 - {0}): \", installedPrinters.Count);\n} while (!int.TryParse(Console.ReadLine(), out printerIndex)\n         || printerIndex &lt; 1 \n         || printerIndex &gt; installedPrinters.Count);\n\nprintDocument1.PrinterSettings.PrinterName = installedPrinters[printerIndex - 1];\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6513445, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WWlh_NzlDsY/AAAAAAAAAAI/AAAAAAAAM_4/YwlnLH_JBWc/photo.jpg?sz=128", "display_name": "Sergio Molina", "link": "https://stackoverflow.com/users/6513445/sergio-molina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3280, "favorite_count": 0, "accepted_answer_id": 43645444, "answer_count": 1, "score": 0, "last_activity_date": 1493246381, "creation_date": 1493241519, "question_id": 43644693, "link": "https://stackoverflow.com/questions/43644693/how-to-remove-the-save-print-output-as-dialog-when-printing-a-txt-file-in-c", "title": "How to remove the &quot;Save Print output as&quot; dialog when printing a txt file in c#", "body": "<p>Hello stackoverflow community, I am developing a simple windows form application that has a listener in a specific directory listening for a txt file, if the listener detects a new file, it will automaticly send the txt file to a local default printer, but it also displays a \"Save print output as\" dialog and I need the printing proccess to be instant, without having to interact with any dialog.</p>\n\n<p>To do this I am using the current namespace \"using System.Drawing.Printing; using System.IO;\" and I have seen the definition of the Print() method but seems like the code is protected so I can't have access to remove the \"save print output as\" dialog. Any ideas?</p>\n\n<p>Here is my code...</p>\n\n<p>The fileWatcher:</p>\n\n<pre><code>private void fileSystemWatcher1_Created(object sender, FileSystemEventArgs e)\n{\n    try\n    {\n        MyPrintMethod(e.FullPath);\n    }\n    catch (IOException)\n    {\n    }\n}\n</code></pre>\n\n<p>My print method:</p>\n\n<pre><code>private void MyPrintMethod(string path)\n{\n    string s = File.ReadAllText(path);\n    printDocument1.PrintController = new StandardPrintController();\n    printDocument1.PrintPage += delegate (object sender1, PrintPageEventArgs e1)\n    {\n        e1.Graphics.DrawString(s, new Font(\"Times New Roman\", 12), new SolidBrush(Color.Black), new RectangleF(0, 0, printDocument1.DefaultPageSettings.PrintableArea.Width, printDocument1.DefaultPageSettings.PrintableArea.Height));\n\n    };\n    try\n    {\n        printDocument1.Print();\n    }\n    catch (Exception ex)\n    {\n        throw new Exception(\"Exception Occured While Printing\", ex);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core-mvc", "azure-active-directory", "openid-connect"], "comments": [{"owner": {"reputation": 21, "user_id": 7927919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b8ad1206358cf2857650e760e31c0b?s=128&d=identicon&r=PG&f=1", "display_name": "Jay Soares", "link": "https://stackoverflow.com/users/7927919/jay-soares"}, "edited": false, "score": 0, "creation_date": 1493244979, "post_id": 43644657, "comment_id": 74339268, "body": "I made a couple of changes to syntactical sugar, but the primary concept remains the same.  The one piece that seems to be manual is setting the Resource Uri.  If I had to request tokens for multiple resources, though, it might be best left the way that it is, and just call to a static method of an AccountService or something like that."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 7927919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b8ad1206358cf2857650e760e31c0b?s=128&d=identicon&r=PG&f=1", "display_name": "Jay Soares", "link": "https://stackoverflow.com/users/7927919/jay-soares"}, "is_accepted": true, "score": 1, "last_activity_date": 1493334233, "last_edit_date": 1493334233, "creation_date": 1493258521, "answer_id": 43647439, "question_id": 43644657, "link": "https://stackoverflow.com/questions/43644657/using-onauthorizationcodereceived-to-retrieve-azure-graphapi-accesstoken/43647439#43647439", "title": "Using OnAuthorizationCodeReceived to retrieve Azure GraphAPI AccessToken", "body": "<p>After looking through the code for Microsoft.AspNetCore.Authentication.OpenIdConnect, I realized that this library is disconnected from the Token Caching mechanism within the AuthenticationContext.  If I try and streamline the code, it will not trigger the caching mechanism which means the Bearer token needs to be retrieved on each request.</p>\n\n<p>Because I plan to use the TokenCache to reduce the calls to the API and eventually leverage my Redis cache, I need to leave that code in the OnAuthorizationCodeReceived method.</p>\n"}], "owner": {"reputation": 21, "user_id": 7927919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b8ad1206358cf2857650e760e31c0b?s=128&d=identicon&r=PG&f=1", "display_name": "Jay Soares", "link": "https://stackoverflow.com/users/7927919/jay-soares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3528, "favorite_count": 0, "accepted_answer_id": 43647439, "answer_count": 1, "score": 1, "last_activity_date": 1493334233, "creation_date": 1493241349, "last_edit_date": 1493334189, "question_id": 43644657, "link": "https://stackoverflow.com/questions/43644657/using-onauthorizationcodereceived-to-retrieve-azure-graphapi-accesstoken", "title": "Using OnAuthorizationCodeReceived to retrieve Azure GraphAPI AccessToken", "body": "<p>I am currently using code in my pipeline to cache the bearer token for the Graph API using Azure AD. This code was ported from a working ASP.NET 4 application, but it feels like the new OpenIdConnectOptions in Core should make this easier. Is there a more direct call that I can use in the OnAuthorizationCodeReceived event that will use the AuthenticationContext to cache the token once the code is received?  Here is my current code:</p>\n\n<pre><code>var azureSettings = app.ApplicationServices.GetService&lt;IOptions&lt;AzureSettings&gt;&gt;().Value;\napp.UseOpenIdConnectAuthentication(new OpenIdConnectOptions\n{\n    ClientId = azureSettings.ClientId,\n    ClientSecret = azureSettings.AppKey,\n    Authority = string.Format(azureSettings.AadInstance, azureSettings.TenantId),\n    Resource = azureSettings.GraphResourceUri,\n    ResponseType = OpenIdConnectResponseType.CodeIdToken,\n    TokenValidationParameters = new TokenValidationParameters\n    {\n        RoleClaimType = \"roles\"\n    },\n    Events = new OpenIdConnectEvents()\n    {\n        OnAuthorizationCodeReceived = (context) =&gt;\n        {\n            string resourceUri = azureSettings.GraphResourceUri;\n            var authContext = new AuthenticationContext(context.Options.Authority);\n            var credential = new ClientCredential(context.TokenEndpointRequest.ClientId, context.TokenEndpointRequest.ClientSecret);\n            var result = authContext.AcquireTokenByAuthorizationCodeAsync(context.TokenEndpointRequest.Code, new Uri(context.TokenEndpointRequest.RedirectUri), credential, resourceUri);\n\n            context.HandleCodeRedemption(result.AccessToken, result.IdToken);\n        }\n    }\n});\n</code></pre>\n\n<p>The above code works just fine, but it feels like I am duplicating a lot of code just to submit what is mostly contained inside of the AuthorizationCodeReceivedContext already.</p>\n\n<p>Is there an easier way that I am simply overlooking?</p>\n"}, {"tags": ["c#", "android", "xamarin", "async-await"], "comments": [{"owner": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "edited": false, "score": 2, "creation_date": 1493250550, "post_id": 43644617, "comment_id": 74341018, "body": "Are you sure the <code>catch</code> block isn&#39;t being executed? Or aren&#39;t you seeing the side effects of its execution? You have several dangerous anti patterns in your code: <code>async void</code> and creating tasks using the <code>Task</code> constructor and starting them."}], "owner": {"reputation": 301, "user_id": 7687032, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d990fe78e88aa3b0609bb7dae34b74a?s=128&d=identicon&r=PG&f=1", "display_name": "Bobh", "link": "https://stackoverflow.com/users/7687032/bobh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 293, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1493243744, "creation_date": 1493241184, "question_id": 43644617, "link": "https://stackoverflow.com/questions/43644617/try-catch-in-async-httpclient-call-doesnt-work-as-expected", "title": "Try catch in async HttpClient call doesn&#39;t work as expected", "body": "<p>I'm a little new to Android and Xamarin and async tasks in C#. I have an app with a splash activity that first checks for network connectivity, and then asynchronously checks the status of our the website via a get request to confirm that the website will show in a webview on main activity when it gets started. It checks for both non 200 status codes, and a general timeout, which happens when website is completely down.</p>\n\n<p>I purposefully have web the server completely down so that requests will time out, to simulate that real life situation.</p>\n\n<p>I set the timeout value as a property of the HttpClient instance. I thought that if anything times out, it should execute the catch which will change the TextView text that I have. But it never gets there. The app crashes after the exact timeout period I stipulated, so I guess at least my timeout is working. <strong>It does change the textview text to \"Checking website\", so I know it's at least attempting it</strong>.</p>\n\n<p>I don't have access to the debugger, long story. So i'm hoping someone can just easily see a problem or misunderstanding I have. Hopefully the code provided is complete enough for the problem without having unnecessary things, but I can certainly ad more if needed. Thx.</p>\n\n<pre><code>public class Splash : Activity\n{\n    static readonly string TAG = \"X:\" + typeof(Splash).Name;\n    TextView status = null;\n    Button quit = null;\n    protected override void OnCreate(Bundle savedInstanceState)\n    {\n        base.OnCreate(savedInstanceState);\n        Log.Debug(TAG, \"SplashActivity\");\n        SetContentView(Resource.Layout.Main);\n        status = FindViewById&lt;TextView&gt;(Resource.Id.status);\n        quit = FindViewById&lt;Button&gt;(Resource.Id.quit);\n        quit.Click += QuitApp;\n    }\n    protected override void OnResume()\n    {\n        base.OnResume();\n        CheckConnection(this);\n    }\n    public void CheckConnection(Context context)\n    {\n        status.Text = \"Checking connections\";\n        ConnectivityManager cm = (ConnectivityManager)context.GetSystemService(Context.ConnectivityService);\n        if (cm.ActiveNetworkInfo != null &amp;&amp; cm.ActiveNetworkInfo.IsConnected)\n        {\n            Task t = new Task(CheckWebsite);\n            t.Start();\n        }\n        else\n        {\n            status.Text = \"No Network Connection\";\n        }\n    }\n    public async void CheckWebsite()\n    {\n        status.Text = \"Checking Website\";\n        string page = \"http://example.com:6347/\";\n        HttpClient client = new HttpClient();\n        TimeSpan timespan = TimeSpan.FromMilliseconds(5000);\n        client.Timeout = timespan;\n        try\n        {\n            HttpResponseMessage response = await client.GetAsync(page);\n            if (response.IsSuccessStatusCode)\n            {\n                status.Text = \"Connection OK\";\n                client.Dispose();\n                response.Dispose();\n                await Task.Delay(1000);\n                StartActivity(new Intent(Application.Context, typeof(MainActivity)));\n            }\n            else\n            {\n                status.Text = \"Cannot connect to website\";\n                client.Dispose();\n                response.Dispose();\n                quit.Visibility = ViewStates.Visible;\n                await Task.Delay(2000);\n                status.Text = \"Connecting to Website\";\n                Task t = new Task(CheckWebsite);\n                t.Start();\n            }\n        }\n        catch(Exception err)\n        {\n            status.Text = \"Connection attempt timed out\";\n            quit.Visibility = ViewStates.Visible;\n            await Task.Delay(2000);\n            status.Text = \"Connecting to Website\";\n            Task t = new Task(CheckWebsite);\n            t.Start();\n        }                \n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "outlook"], "comments": [{"owner": {"reputation": 2123, "user_id": 2367096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GeWgS.png?s=128&g=1", "display_name": "Seano666", "link": "https://stackoverflow.com/users/2367096/seano666"}, "edited": false, "score": 0, "creation_date": 1493242258, "post_id": 43644524, "comment_id": 74338141, "body": "What&#39;s the directory path that it cant find?"}, {"owner": {"reputation": 4569, "user_id": 1669621, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eba05e844a79ffbb11c2de1caf618581?s=128&d=identicon&r=PG", "display_name": "moe", "link": "https://stackoverflow.com/users/1669621/moe"}, "reply_to_user": {"reputation": 2123, "user_id": 2367096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GeWgS.png?s=128&g=1", "display_name": "Seano666", "link": "https://stackoverflow.com/users/2367096/seano666"}, "edited": false, "score": 0, "creation_date": 1493242461, "post_id": 43644524, "comment_id": 74338240, "body": "i am not sure, but that is the error i am getting.."}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 1, "creation_date": 1493243268, "post_id": 43644524, "comment_id": 74338562, "body": "Does the server <i>have</i> Outlook installed? Have you considered just using <code>MailMessage</code> and <code>SmtpClient</code>?"}, {"owner": {"reputation": 4569, "user_id": 1669621, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eba05e844a79ffbb11c2de1caf618581?s=128&d=identicon&r=PG", "display_name": "moe", "link": "https://stackoverflow.com/users/1669621/moe"}, "edited": false, "score": 0, "creation_date": 1493243828, "post_id": 43644524, "comment_id": 74338790, "body": "yes it has outlook installed.  I don&#39;t want to send the email right away, i just want to open the outlook first and let the user send."}, {"owner": {"reputation": 25686, "user_id": 33051, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ef3e872b7359633a74dc57bd708fde22?s=128&d=identicon&r=PG", "display_name": "Zhaph - Ben Duguid", "link": "https://stackoverflow.com/users/33051/zhaph-ben-duguid"}, "edited": false, "score": 0, "creation_date": 1494973923, "post_id": 43644524, "comment_id": 75053451, "body": "Do you want the server admin to find all these copies of Outlook running with emails to send, or are you expecting the user of the web site to have outlook (or their preferred mail client) open with an email to send? If the later, then you need to use a link with the <code>mailto:</code> scheme - which will open a mail client on the users machine if they have one."}, {"owner": {"reputation": 690, "user_id": 3967709, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cbd703ea47b16b8f56e2f8f639c93ea7?s=128&d=identicon&r=PG&f=1", "display_name": "Gokul", "link": "https://stackoverflow.com/users/3967709/gokul"}, "edited": false, "score": 0, "creation_date": 1496398794, "post_id": 43644524, "comment_id": 75657191, "body": "Using Interop over web applications is not a good option. @moe"}], "answers": [{"tags": [], "owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1493245764, "creation_date": 1493245764, "answer_id": 43645558, "question_id": 43644524, "link": "https://stackoverflow.com/questions/43644524/open-outlook-from-code-behind-in-asp-net/43645558#43645558", "title": "Open Outlook from code behind in asp.net", "body": "<p>Your code would be running on the server where there is no interactive user to access Outlook. Worse than that, Outlook cannot be used from a service (such as IIS).</p>\n\n<p>Create an EML file and provide a link to your website user - Outlook (on the client side) will be happy to open and display it.</p>\n"}], "owner": {"reputation": 4569, "user_id": 1669621, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eba05e844a79ffbb11c2de1caf618581?s=128&d=identicon&r=PG", "display_name": "moe", "link": "https://stackoverflow.com/users/1669621/moe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 769, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493245764, "creation_date": 1493240788, "question_id": 43644524, "link": "https://stackoverflow.com/questions/43644524/open-outlook-from-code-behind-in-asp-net", "title": "Open Outlook from code behind in asp.net", "body": "<p>I am trying to open outlook from code behind but everything works fine for me when i run it from my local machine but i am getting an error when i deployed to the server. I am getting this error: </p>\n\n<pre><code>\"404 - File or directory not found.\nThe resource you are looking for might have been removed, had its name changed, or is temporarily unavailable.\"\n</code></pre>\n\n<p>I can't seem to figure out what the issue is so far. I need to use onrow command event so i can send a different email based on the command button that the user is selected. I just need the outlook to open and i am assigning programmatically the subject and body content and even the mailto.\nhere is my code:</p>\n\n<pre><code>&lt;asp:GridView ID=\"gvDetail\" runat=\"server\" CssClass=\"table table-hover table-bordered table-responsive\" ForeColor=\"#333333\" GridLines=\"None\"\n                CellPadding=\"4\" PageSize=\"200\" OnRowCommand=\"GridViews_RowCommand\" OnPageIndexChanging=\"OnPaging_gvDetail\"\n                AutoGenerateColumns=\"false\" AllowSorting=\"true\" AllowPaging=\"true\" EnableViewState=\"True\"&gt;\n                &lt;AlternatingRowStyle BackColor=\"#F3F3F3\" /&gt;\n                &lt;Columns&gt;\n\n\n                  &lt;asp:BoundField DataField=\"contract_name\" HeaderText=\"Category\" /&gt;\n                  &lt;asp:BoundField DataField=\"vendor_name\" HeaderText=\"Vendor Name\" /&gt;\n\n\n                  &lt;asp:ButtonField HeaderText=\"Reconciliation of Spend Metrics\" ButtonType=\"Image\" ImageUrl=\"~/img/mail.png\"  ControlStyle-Width=\"30px\" ControlStyle-Height=\"30px\" CommandName=\"Select\" /&gt;\n                  &lt;asp:ButtonField HeaderText=\"Request Call/Meeting with Supplier\" ButtonType=\"Image\" ImageUrl=\"~/img/mail.png\" ControlStyle-Width=\"30px\" ControlStyle-Height=\"30px\" CommandName=\"Select1\" /&gt;\n\n                &lt;/Columns&gt;\n                &lt;HeaderStyle CssClass=\"GridviewScrollHeader\" BackColor=\"#1C5E55\" Font-Bold=\"True\" ForeColor=\"White\" /&gt;\n                &lt;RowStyle CssClass=\"GridviewScrollItem\" ForeColor=\"#000066\" /&gt;\n              &lt;/asp:GridView&gt;\n</code></pre>\n\n<p>code behind</p>\n\n<pre><code> protected void GridViews_RowCommand(object sender, GridViewCommandEventArgs e)\n    {\n\n      SqlConnection con = new SqlConnection(ConfigurationManager.ConnectionStrings[\"myConn\"].ToString());\n\n\n      Microsoft.Office.Interop.Outlook.Application oApp = new Microsoft.Office.Interop.Outlook.Application();\n      Microsoft.Office.Interop.Outlook.MailItem oMsg = (Microsoft.Office.Interop.Outlook.MailItem)oApp.CreateItem(Microsoft.Office.Interop.Outlook.OlItemType.olMailItem);\n\n\n        if (e.CommandName == \"Select\")\n        {\n\n          int rowIndex = Convert.ToInt32(e.CommandArgument);\n          string contractname = gvDetail.Rows[rowIndex].Cells[0].Text;\n          string vendorname = gvDetail.Rows[rowIndex].Cells[1].Text;\n\n           oMsg.Subject = \"test\";\n          oMsg.BodyFormat = Microsoft.Office.Interop.Outlook.OlBodyFormat.olFormatHTML;\n          oMsg.HTMLBody = \"&lt;p&gt; \"test...\" + Environment.NewLine + \"&lt;/p&gt;\"; //Here comes your body;\n\n          oMsg.Display(false); //In order to display it in modal inspector change the argument to true\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "dapper"], "answers": [{"tags": [], "owner": {"reputation": 8471, "user_id": 1460042, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b022777f4316d1565620050e21682e6?s=128&d=identicon&r=PG", "display_name": "Void Ray", "link": "https://stackoverflow.com/users/1460042/void-ray"}, "is_accepted": true, "score": 1, "last_activity_date": 1493309463, "last_edit_date": 1495542358, "creation_date": 1493309463, "answer_id": 43662893, "question_id": 43644515, "link": "https://stackoverflow.com/questions/43644515/dapper-multi-mapping/43662893#43662893", "title": "Dapper Multi-Mapping", "body": "<p>Out of the box Dapper's Multi-Mapping supports about 7 objects to be mapped. An alternative, is to use QueryMultiple. See this <a href=\"https://stackoverflow.com/questions/17046792/dapper-multi-map-next-level/17050416#17050416\">thread</a> for an example, it is very similar...</p>\n"}], "owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1373, "favorite_count": 0, "accepted_answer_id": 43662893, "answer_count": 1, "score": 1, "last_activity_date": 1493309463, "creation_date": 1493240743, "question_id": 43644515, "link": "https://stackoverflow.com/questions/43644515/dapper-multi-mapping", "title": "Dapper Multi-Mapping", "body": "<p>Inside the Dapper documentation I can clearly see the multi-mapping for a semi-simple object or simple object.  For instance:</p>\n\n<pre><code>public class Post\n{\n     public int Id { get; set; }\n     public string Name { get; set; }\n     public User Owner { get; set; }\n}\n\npublic class User\n{\n     public int Id { get; set; }\n     public string Name { get; set; }\n}\n\nIDbConnection.QueryAsync&lt;Post, User, Post&gt;(query, (post, user) =&gt; { post.Owner = user; return post; }, new { Id = id }, null, true, \"id\", CommandType.Text);\n</code></pre>\n\n<p>The question, is how to have Dapper handle more complex objects that have more than one inner object.  For instance:</p>\n\n<pre><code>public class PlotStemDomain\n{\n     public int Id { get; set; }\n     ...\n     public PlotDomain Plot { get; set; }\n     public SpeciesDomain species { get; set; }\n}\n\npublic class PlotDomain\n{\n     public int Id { get; set; }\n     ...\n}\n\npublic class SpeciesDomain\n{\n     public int Id { get; set; }\n     ...\n}\n</code></pre>\n\n<p>When it appears to only handle a single <code>Func&lt;Post, User, Post&gt;</code>.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "office-interop", "comexception", "interopservices"], "comments": [{"owner": {"reputation": 2865, "user_id": 733760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U1L53.jpg?s=128&g=1", "display_name": "AlexDev", "link": "https://stackoverflow.com/users/733760/alexdev"}, "edited": false, "score": 1, "creation_date": 1493240897, "post_id": 43644441, "comment_id": 74337493, "body": "The drives are probably not mapped in the account you are using."}], "answers": [{"tags": [], "owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "is_accepted": false, "score": 0, "last_activity_date": 1493247953, "creation_date": 1493247953, "answer_id": 43645968, "question_id": 43644441, "link": "https://stackoverflow.com/questions/43644441/system-runtime-interopservices-comexception-0x800a1436/43645968#43645968", "title": "System.Runtime.InteropServices.COMException (0x800A1436)", "body": "<p>Kb257757 <a href=\"https://support.microsoft.com/en-us/help/257757/considerations-for-server-side-automation-of-office\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-us/help/257757/considerations-for-server-side-automation-of-office</a></p>\n\n<p>Server-side automation of office is not supported using Interop, try using an XML based approach such as ClosedXML which is available from NuGet.</p>\n"}, {"tags": [], "owner": {"reputation": 25947, "user_id": 1603351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lQ6aZ.jpg?s=128&g=1", "display_name": "Eugene Astafiev", "link": "https://stackoverflow.com/users/1603351/eugene-astafiev"}, "is_accepted": true, "score": 0, "last_activity_date": 1493279653, "creation_date": 1493279653, "answer_id": 43651800, "question_id": 43644441, "link": "https://stackoverflow.com/questions/43644441/system-runtime-interopservices-comexception-0x800a1436/43651800#43651800", "title": "System.Runtime.InteropServices.COMException (0x800A1436)", "body": "<p>You may consider using the Open XML SDK for dealing with open XML documents (.docx), see <a href=\"https://msdn.microsoft.com/en-us/library/office/bb448854.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow noreferrer\">Welcome to the Open XML SDK 2.5 for Office</a>. Or any other third-party components designed for the server-sider execution (for example, Aspose). </p>\n\n<p>Microsoft does not currently recommend, and does not support, Automation of Microsoft Office applications from any unattended, non-interactive client application or component (including ASP, ASP.NET, DCOM, and NT Services), because Office may exhibit unstable behavior and/or deadlock when Office is run in this environment.</p>\n\n<p>If you are building a solution that runs in a server-side context, you should try to use components that have been made safe for unattended execution. Or, you should try to find alternatives that allow at least part of the code to run client-side. If you use an Office application from a server-side solution, the application will lack many of the necessary capabilities to run successfully. Additionally, you will be taking risks with the stability of your overall solution. Read more about that in the <a href=\"https://support.microsoft.com/en-us/help/257757/considerations-for-server-side-automation-of-office\" rel=\"nofollow noreferrer\">Considerations for server-side Automation of Office</a> article. </p>\n"}], "owner": {"reputation": 3, "user_id": 3066180, "user_type": "registered", "profile_image": "https://graph.facebook.com/674739440/picture?type=large", "display_name": "Alejo9552", "link": "https://stackoverflow.com/users/3066180/alejo9552"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1247, "favorite_count": 1, "accepted_answer_id": 43651800, "answer_count": 2, "score": 0, "last_activity_date": 1493279653, "creation_date": 1493240459, "question_id": 43644441, "link": "https://stackoverflow.com/questions/43644441/system-runtime-interopservices-comexception-0x800a1436", "title": "System.Runtime.InteropServices.COMException (0x800A1436)", "body": "<p>We are trying to open a Word template which resides on a Shared Drive using Office Interop Services on an MVC application.The solution is working locally, but once is deployed to the server the following message appears:</p>\n\n<pre><code>The File was not created: System.Runtime.InteropServices.COMException (0x800A1436): This file could not be found\n</code></pre>\n\n<p>ApplicationPool is running under a domain user account which already has permissions on the shared drive.</p>\n\n<p>Any suggestion?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "linq", "asp.net-mvc-5"], "comments": [{"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 1, "creation_date": 1493240736, "post_id": 43644398, "comment_id": 74337391, "body": "All your types will be contained in the assembly.  Check out <code>System.Reflection.Assembly.GetExecutingAssembly()</code>."}], "answers": [{"comments": [{"owner": {"reputation": 593, "user_id": 7385487, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9595050727cd75da59744df6ea312420?s=128&d=identicon&r=PG&f=1", "display_name": "RandomHandle", "link": "https://stackoverflow.com/users/7385487/randomhandle"}, "edited": false, "score": 0, "creation_date": 1493243234, "post_id": 43644552, "comment_id": 74338548, "body": "I had to change <code>typeof(RoleAuthorize)</code> to <code>typeof(RoleAuthorizeAttribute)</code> because the latter is the name of the class. Otherwise it works very well."}, {"owner": {"reputation": 1522, "user_id": 920557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2512beb374867670c718a53d55e7351?s=128&d=identicon&r=PG", "display_name": "Eugene Komisarenko", "link": "https://stackoverflow.com/users/920557/eugene-komisarenko"}, "reply_to_user": {"reputation": 593, "user_id": 7385487, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9595050727cd75da59744df6ea312420?s=128&d=identicon&r=PG&f=1", "display_name": "RandomHandle", "link": "https://stackoverflow.com/users/7385487/randomhandle"}, "edited": false, "score": 0, "creation_date": 1493243387, "post_id": 43644552, "comment_id": 74338608, "body": "I am glad it helped you, reflection is the way to go for the tasks of reporting and static analysis of the structure of the code. It fails miserably when it comes to the actual body of the methods and properties )), but that&#39;s a different story."}], "tags": [], "owner": {"reputation": 1522, "user_id": 920557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2512beb374867670c718a53d55e7351?s=128&d=identicon&r=PG", "display_name": "Eugene Komisarenko", "link": "https://stackoverflow.com/users/920557/eugene-komisarenko"}, "is_accepted": true, "score": 2, "last_activity_date": 1493241615, "last_edit_date": 1493241615, "creation_date": 1493240907, "answer_id": 43644552, "question_id": 43644398, "link": "https://stackoverflow.com/questions/43644398/how-to-query-asp-net-mvc-5-application-for-class-level-attributes/43644552#43644552", "title": "How to query ASP.NET MVC 5 application for class-level attributes", "body": "<p>You would need to use reflection for that and a query similar to below.</p>\n\n<pre><code>var controllersByAreas = Assembly.GetAssembly(typeof(CreditLogCreditSumController))\n    .GetTypes()\n    .Where(type =&gt; type.IsClass\n                    &amp;&amp; type.IsSubclassOf(typeof(Controller))\n                    &amp;&amp; type.GetCustomAttributes(typeof(RoleAuthorize), false).Any())\n    .GroupBy(x =&gt; x.Namespace);\n</code></pre>\n\n<p>In addition to just searching for the attribute you may consider extracting the attribute and check for its properties. Resulting set can be then grouped and printed out.</p>\n\n<p>If Areas of your controllers belong to specific namespaces you may consider grouping by <code>Namespace</code> property of the <code>Type</code> too, see updated code.</p>\n"}], "owner": {"reputation": 593, "user_id": 7385487, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9595050727cd75da59744df6ea312420?s=128&d=identicon&r=PG&f=1", "display_name": "RandomHandle", "link": "https://stackoverflow.com/users/7385487/randomhandle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "accepted_answer_id": 43644552, "answer_count": 1, "score": 1, "last_activity_date": 1493241615, "creation_date": 1493240334, "last_edit_date": 1493240791, "question_id": 43644398, "link": "https://stackoverflow.com/questions/43644398/how-to-query-asp-net-mvc-5-application-for-class-level-attributes", "title": "How to query ASP.NET MVC 5 application for class-level attributes", "body": "<p>In my MVC 5 controllers, I often place a class-level custom attribute to manage user access permissions, e.g.</p>\n\n<pre><code>[RoleAuthorize(\"CreditSlipLog\")]\npublic class CreditLogCreditSumController : Controller\n{\n</code></pre>\n\n<p>I was wondering if it is possible to query the application to list the existing attributes for each controller class in my application (spread across multiple areas).</p>\n\n<p>I know how to write LINQ queries, but I don't know what object to select against. In <strong>pseudo-code</strong>, I imagine something like this:</p>\n\n<pre><code>var list = (queryable list of areas, classes and their attributes)\n           .Where(controller has \"RoleAuthorize\" custom filter)\n           .Select(m=&gt; new {\n                       Area = m.Area,\n                       Controller = m.ControllerName,\n                       RoleAuthorizeValue = m.ControllerAttributeValue\n                   }).ToList();\n</code></pre>\n\n<p>where, \"RoleAuthorizeValue\" is parameter value of [RoleAuthorize]</p>\n\n<p>So an example result might look like this:</p>\n\n<pre><code>Area   | Controller                    | RoleAuthorizeValue\n------------------------------------------------------------\nCredit | CreditLogCreditSumController  | CreditSlipLog\n</code></pre>\n\n<p>Is there a single object I can query against, or is the query going to be very messy? Or is it something that is even possible? While I can do this manually, it is a very large application and still subject to change, making a manual document quickly out of sync with any changes in the application.</p>\n"}, {"tags": ["c#", "asp.net-mvc-5"], "comments": [{"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1493241343, "post_id": 43644395, "comment_id": 74337687, "body": "<code>@if(!string.IsNullOrEmpty(model.property))</code>"}, {"owner": {"reputation": 87, "user_id": 4517286, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/841ab95420f06a386702c4d462675238?s=128&d=identicon&r=PG&f=1", "display_name": "max b", "link": "https://stackoverflow.com/users/4517286/max-b"}, "reply_to_user": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1493241795, "post_id": 43644395, "comment_id": 74337903, "body": "looks promising, thanks! but were does it goes to, View? Controller? I&#39;m a beginner in ASP.Net"}, {"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1493241974, "post_id": 43644395, "comment_id": 74337998, "body": "it&#39;s prefixed with an <code>@</code>.  That makes it Razor syntax."}, {"owner": {"reputation": 87, "user_id": 4517286, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/841ab95420f06a386702c4d462675238?s=128&d=identicon&r=PG&f=1", "display_name": "max b", "link": "https://stackoverflow.com/users/4517286/max-b"}, "reply_to_user": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1493242831, "post_id": 43644395, "comment_id": 74338376, "body": "it helped, thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 4517286, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/841ab95420f06a386702c4d462675238?s=128&d=identicon&r=PG&f=1", "display_name": "max b", "link": "https://stackoverflow.com/users/4517286/max-b"}, "edited": false, "score": 0, "creation_date": 1493273736, "post_id": 43647490, "comment_id": 74347631, "body": "Yes, this way it works like a charm. Appreciate your help."}], "tags": [], "owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "is_accepted": true, "score": 1, "last_activity_date": 1493258855, "creation_date": 1493258855, "answer_id": 43647490, "question_id": 43644395, "link": "https://stackoverflow.com/questions/43644395/iframe-and-image-container-code-improvements-mvc-5/43647490#43647490", "title": "iframe and image container code improvements MVC 5", "body": "<pre><code>@if (!string.IsNullOrEmpty(b.ImagePath)) { \n    @&lt;div style=\"float: right; margin: 10px 10px 25px 25px; height: 100px; width:150px\"&gt;\n        &lt;div id=\"imageContainer\"&gt;           \n             &lt;img src=\"~/Images/@Html.Raw(b.ImagePath))\" style='height: 100%; width: 100%;' /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n}\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 4517286, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/841ab95420f06a386702c4d462675238?s=128&d=identicon&r=PG&f=1", "display_name": "max b", "link": "https://stackoverflow.com/users/4517286/max-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "accepted_answer_id": 43647490, "answer_count": 1, "score": 0, "last_activity_date": 1493258855, "creation_date": 1493240311, "last_edit_date": 1493243613, "question_id": 43644395, "link": "https://stackoverflow.com/questions/43644395/iframe-and-image-container-code-improvements-mvc-5", "title": "iframe and image container code improvements MVC 5", "body": "<p>As a part of my first project i had to implement image and video display in views using MVC 5. It is working and i'm quite happy with the achievement, however there are some improvements had to be made, how would you recommend to improve following code:</p>\n\n<p>to display a picture i used this code:</p>\n\n<pre><code>&lt;div style=\"float: none; margin: auto auto 30px auto  ;height: 280px; width: 400px; \"&gt;\n    &lt;div id=\"imageContainer\"&gt;\n        &lt;img src=\"~/Images/@Html.Raw(Model.ImagePath)\"  /&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>in a case when i don't provide a path, this container stays empty but still visible as empty block on the page with image icon, indicating that image suppose to be here... How i can get rid of it, if i dont want picture to be shown in this view?</p>\n\n<p>The same situation with video container, i simply using embeded youtube link as a <code>Videolink</code> for video:</p>\n\n<pre><code> &lt;iframe src=@Html.Raw(Model.VideoLink) width=\"560\" height=\"315\" frameborder=\"1\" align=\"middle\" display:block style=\"margin:auto auto 30px auto\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>If i provide <code>Videolink</code> - it works fine, if i dont, i have a container showing an error. Is there a way to simply hide those containers if there are no input made?</p>\n\n<p>i'll show you the way i set it all up, it all in one class <code>Media</code></p>\n\n<pre><code> public class Media\n    {\n        public int Id { get; set; }\n        public string title { get; set; }\n        [Required, StringLength(512)]\n        public string description { get; set; }\n        [Required]\n        [AllowHtml]\n        public string body { get; set; }\n        public string ImagePath { get; set; }\n        public string VideoLink { get; set; }\n        public string Source { get; set; }\n        public TagsEnum TagsEnum { get; set; }\n        [Column(TypeName = \"datetime2\")]\n        [DisplayFormat(DataFormatString = \"{0:dd MMMM , yyyy HH:mm}\", ApplyFormatInEditMode = true)]\n        public DateTime? NewsDate { get; set; }\n\n    }\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>this is what i think it should look like using Sam's advise, right? If so, it is still not giving right result</p>\n\n<pre><code>@if (!string.IsNullOrEmpty(b.ImagePath)) \n    { \n\n    }\n    else\n    { \n            &lt;div style=\"float: right; margin: 10px 10px 25px 25px; height: 100px; width:150px\"&gt;\n                &lt;div id=\"imageContainer\"&gt;           \n                     &lt;img src=\"~/Images/@Html.Raw(b.ImagePath))\" style='height: 100%; width: 100%;' /&gt;\n                   &lt;/div&gt;\n            &lt;/div&gt;\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net", "asp.net-mvc", "entity-framework", "model"], "comments": [{"owner": {"reputation": 11, "user_id": 7927868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OXvlr.png?s=128&g=1", "display_name": "Matt M", "link": "https://stackoverflow.com/users/7927868/matt-m"}, "edited": false, "score": 0, "creation_date": 1493240354, "post_id": 43644394, "comment_id": 74337190, "body": "Just to clarify, when I try this code Id is always null."}, {"owner": {"reputation": 11, "user_id": 7927868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OXvlr.png?s=128&g=1", "display_name": "Matt M", "link": "https://stackoverflow.com/users/7927868/matt-m"}, "edited": false, "score": 2, "creation_date": 1493241218, "post_id": 43644394, "comment_id": 74337631, "body": "Nevermind, after some debugging it turns out that this indeed works.  I was returning an IEnumerable list and some of the users weren&#39;t in roles and that&#39;s why this failed.  Awesome that this works!"}], "owner": {"reputation": 11, "user_id": 7927868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OXvlr.png?s=128&g=1", "display_name": "Matt M", "link": "https://stackoverflow.com/users/7927868/matt-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1493272240, "creation_date": 1493240309, "last_edit_date": 1493272240, "question_id": 43644394, "link": "https://stackoverflow.com/questions/43644394/populating-a-notmapped-property-in-a-c-model-using-values-from-the-model", "title": "Populating a NotMapped Property in a C# Model Using Values from the model", "body": "<p>I'm trying to populate a read-only property in a c# model.  The idea is as follows:</p>\n\n<pre><code>public class UserProfile : BaseModel\n{\n    [Key]\n    public string Id { get; set; }\n\n    [Required]\n    [Display(Name = \"First Name\")]\n    public string FirstName { get; set; }\n\n    [Required]\n    [Display(Name = \"Last Name\")]\n    public string LastName { get; set; }\n\n    [NotMapped]\n    public string UserType {\n        get\n        {\n            return UserManager.GetRoles(Id).First();\n        }\n    }\n}\n</code></pre>\n\n<p>I want to get the Roles that this user is in based on the value of the Id property when the model is being rendered.  Is there a method like \"onCreating\" that I can use to get the values that Entity framework has mapped to the properties and then use those value to populate the UserType value?  If there is a better way to do this open to ideas.  Thanks so much!</p>\n\n<p>EDIT: This works!  Just had a user that wasn't in a role which is why it failed.  Hope this helps someone struggling with the same concept.</p>\n"}, {"tags": ["c#", "msbuild", "installshield"], "answers": [{"tags": [], "owner": {"reputation": 15266, "user_id": 89999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26e95045ab2611253f7dcd8b71e2174c?s=128&d=identicon&r=PG", "display_name": "Michael Urman", "link": "https://stackoverflow.com/users/89999/michael-urman"}, "is_accepted": false, "score": 0, "last_activity_date": 1493300015, "creation_date": 1493300015, "answer_id": 43659446, "question_id": 43644393, "link": "https://stackoverflow.com/questions/43644393/missing-dlls-and-custom-actions-when-using-msbuild-to-build-visual-studio-solut/43659446#43659446", "title": "Missing DLL&#39;s and Custom Actions when using MSBuild to build Visual Studio Solution with InstallShield Pro Project", "body": "<p>If you are using project output groups (like Primary Output), your choices are limited. You have to use either the VS integrated build (via devenv), or MSBuild; iscmdbld is unable to resolve project output groups.</p>\n\n<p>Your other alternative is to change from project output groups to using static (or dynamic) file links that don't require Visual Studio's knowledge. I tend to prefer static links, as it's easy to tell exactly what's in the project. More importantly, with static links you can't silently lose files that you'd previously added, thus it's easier to avoid potentially breaking component or upgrade rules.</p>\n"}, {"tags": [], "owner": {"reputation": 201, "user_id": 1756892, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/deaa6201d7a3d37172cb2fe6121385e7?s=128&d=identicon&r=PG", "display_name": "Marc Chu", "link": "https://stackoverflow.com/users/1756892/marc-chu"}, "is_accepted": false, "score": 0, "last_activity_date": 1503682642, "creation_date": 1503682642, "answer_id": 45886813, "question_id": 43644393, "link": "https://stackoverflow.com/questions/43644393/missing-dlls-and-custom-actions-when-using-msbuild-to-build-visual-studio-solut/45886813#45886813", "title": "Missing DLL&#39;s and Custom Actions when using MSBuild to build Visual Studio Solution with InstallShield Pro Project", "body": "<p>Hopefully, this isn't too old to be of use.  InstallShield is the absolute worst, I know.  </p>\n\n<p>If you edit your .isproj in a plain-text editor, you'll see that it's just a regular MSBuild script.  You'll see that there is a lot of commented out stuff that explains (poorly) things you can add to it.  Find the ItemGroup that contains the explanation about \"ProjectReference items\" and add a node of the following form:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!-- The ProjectReference items refer to any Visual Studio solutions you want to automatically probe for Project Output Groups.  --&gt;\r\n&lt;ProjectReference Include=\"..\\Path\\To\\Your\\Proj.csproj\"&gt;\r\n   &lt;Project&gt;{2d3f37cc-0e93-4673-a3df-59c556185f71}&lt;/Project&gt;\r\n   &lt;Name&gt;Name Of Project As It Appears in VS&lt;/Name&gt;\r\n&lt;/ProjectReference&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>After adding the above to all of my .isproj files, my automated build worked fine.  Why the idiots at InstallShield never saw fit to add this capability to the UI, I'll never understand.</p>\n\n<p>Unfortunately, I don't have any answer to the Custom Action problem, if it's not related to the above.</p>\n"}], "owner": {"reputation": 55, "user_id": 1832788, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/794a71255b6d07d11e0358d2cb6cb841?s=128&d=identicon&r=PG", "display_name": "Fluzzarn", "link": "https://stackoverflow.com/users/1832788/fluzzarn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1503682642, "creation_date": 1493240309, "question_id": 43644393, "link": "https://stackoverflow.com/questions/43644393/missing-dlls-and-custom-actions-when-using-msbuild-to-build-visual-studio-solut", "title": "Missing DLL&#39;s and Custom Actions when using MSBuild to build Visual Studio Solution with InstallShield Pro Project", "body": "<p>I am currently trying to automate our .NET builds and have currently run into a snag. When building the project in Visual Studio on a machine with a InstallShield 2016 Professional License, everything builds fine. However, when trying to use MSBuild to build the VS Solution on a machine with InstallShield 2016 Standalone, the resulting MSI does not have a required DLL or a Custom Action. Meanwhile, trying to build the .ism using Iscmdbld results in the inability to find the Primary Output of the csproj's, Even after building in Devenv</p>\n"}, {"tags": ["c#", ".net", "dictionary", "data-binding", "tuples"], "comments": [{"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 0, "creation_date": 1493240764, "post_id": 43644388, "comment_id": 74337412, "body": "This might answer your question: <a href=\"http://stackoverflow.com/a/43209056/880990\">stackoverflow.com/a/43209056/880990</a>"}, {"owner": {"reputation": 307, "user_id": 4338174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/334ac18135209f975002a145d860eedc?s=128&d=identicon&r=PG&f=1", "display_name": "TheIntern", "link": "https://stackoverflow.com/users/4338174/theintern"}, "reply_to_user": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 0, "creation_date": 1493241860, "post_id": 43644388, "comment_id": 74337942, "body": "Thanks Olivier, but that is for the new C#7 ValueTuple type. I am using the old C#6 Tuple type, which is bindable. See e.g. <a href=\"https://msdn.microsoft.com/en-us/library/dd386940(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/dd386940(v=vs.110).aspx</a>. So I&#39;m not sure if the question you posted can help me."}], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 4338174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/334ac18135209f975002a145d860eedc?s=128&d=identicon&r=PG&f=1", "display_name": "TheIntern", "link": "https://stackoverflow.com/users/4338174/theintern"}, "edited": false, "score": 0, "creation_date": 1494445832, "post_id": 43645018, "comment_id": 74837020, "body": "Very elegant alternate solution. Thanks!"}], "tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": true, "score": 1, "last_activity_date": 1493243000, "creation_date": 1493243000, "answer_id": 43645018, "question_id": 43644388, "link": "https://stackoverflow.com/questions/43644388/data-binding-to-dictionary-with-tuple-key-in-c/43645018#43645018", "title": "Data binding to dictionary with Tuple key in C#", "body": "<p>Actually, multi-indexer is supported by data-binding. The syntax is the following:</p>\n\n<blockquote>\n<pre><code>&lt;object Path=\"[index1,index2...]\" .../&gt;  \nor  \n&lt;object Path=\"propertyName[index,index2...]\" .../&gt;\n</code></pre>\n  \n  <p>-- <a href=\"https://msdn.microsoft.com/en-us/library/ms742451(v=vs.110).aspx\" rel=\"nofollow noreferrer\">PropertyPath XAML Syntax</a></p>\n</blockquote>\n\n<p>However, creating a <code>Tuple</code> within a XAML path can be quite difficult. There is 2 solutions to this:</p>\n\n<ol>\n<li>Create a custom markup extension to generate the <code>Tuple</code></li>\n<li>Create a dictionary that support multi-indexer</li>\n</ol>\n\n<p>The easiest and cleanest is probably solution#2. (<code>PathToDictionary[{ns:Tuple a,b,c}]</code> vs <code>PathToDictionary[a,b,c]</code>).</p>\n\n<hr>\n\n<p>Use this as the dictionary:</p>\n\n<pre><code>public class TripleKeyedDictionary&lt;TKey1, TKey2, TKey3, TValue&gt; : Dictionary&lt;Tuple&lt;TKey1, TKey2, TKey3&gt;, TValue&gt;\n{\n    public TValue this [TKey1 key1, TKey2 key2, TKey3 key3]\n    {\n        get { return this[Tuple.Create(key1, key2, key3)]; }\n        set { this[Tuple.Create(key1, key2, key3)] = value; }\n    }\n}\n</code></pre>\n\n<p>Example of usage: <code>PathToDictionary[Banana,b,c]</code></p>\n\n<p>Full example for LINQPad:</p>\n\n<pre><code>void Main()\n{\n    var data = new\n    {\n        Lookup = new TripleKeyedDictionary&lt;Fruit, string, string, string&gt;\n        {\n            { Tuple.Create(Fruit.Banana, \"b\", \"c\"), \"value\" }\n        }\n    };\n\n    var binding = new Binding(\"Lookup[Banana,b,c]\");\n    binding.Mode = BindingMode.OneWay;\n    binding.Source = data;\n    binding.FallbackValue = \"fallback\";\n    binding.TargetNullValue = \"null\";\n\n    var block = new TextBlock().Dump();\n    block.SetBinding(TextBlock.TextProperty, binding);\n}\n\n// Define other methods and classes here\npublic enum Fruit\n{\n    Apple, Banana, Cactus\n}\npublic class TripleKeyedDictionary&lt;TKey1, TKey2, TKey3, TValue&gt; : Dictionary&lt;Tuple&lt;TKey1, TKey2, TKey3&gt;, TValue&gt;\n{\n    public TValue this [TKey1 key1, TKey2 key2, TKey3 key3]\n    {\n        get { return this[Tuple.Create(key1, key2, key3)]; }\n        set { this[Tuple.Create(key1, key2, key3)] = value; }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 4338174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/334ac18135209f975002a145d860eedc?s=128&d=identicon&r=PG&f=1", "display_name": "TheIntern", "link": "https://stackoverflow.com/users/4338174/theintern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 0, "accepted_answer_id": 43645018, "answer_count": 1, "score": 1, "last_activity_date": 1493243000, "creation_date": 1493240293, "question_id": 43644388, "link": "https://stackoverflow.com/questions/43644388/data-binding-to-dictionary-with-tuple-key-in-c", "title": "Data binding to dictionary with Tuple key in C#", "body": "<p>I have a <code>Dictionary&lt;Tuple&lt;SomeEnum, double, string&gt;, double&gt;</code> that I'm trying to bind to in Xamarin. I'm just trying to bind the value (the double) to a label, nothing terribly fancy. The problem I'm having is that I can't figure out the path syntax to bind to a Tuple key. I know that with a <code>Dictionary&lt;string, double&gt;</code> I would just let <code>Path=\"[\" + keyString + \"]\"</code>, for example, but I can't figure out what to do if I want to use a Tuple as the key. Even <a href=\"https://msdn.microsoft.com/en-us/library/ms752300(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Microsoft's page on data binding path syntax in C#</a> doesn't seem to explicitly handle this case, although it does note that </p>\n\n<blockquote>\n  <p>Inside indexers you can have multiple indexer parameters separated by commas (,). The type of each parameter can be specified with parentheses. For example, you can have <code>Path=\"[(sys:Int32)42,(sys:Int32)24]\"</code>, where sys is mapped to the System namespace.</p>\n</blockquote>\n\n<p>Now, I'd assume that this holds for single indexer objects too. So in my dictionary case, I suppose I would have something like <code>Path=\"[(sys:Tuple&lt;SomeEnum, sys:double, sys:string&gt;)???]\"</code>, but I'm not sure what goes where <code>???</code> is. And I'm not sure if I'd need a namespace before <code>SomeEnum</code>. And finally, I can't seem to find any more detailed documentation. So I'll take help on any of these fronts. </p>\n\n<p>Ultimately, I fear I may have to just give up, switch to a <code>Dictionary&lt;string, double&gt;</code>, and let the string be the <code>.ToString()</code> concatenation of the types in the Tuple, e.g. by letting each key be <code>string key = SomeEnum.SomeValue + \",\" + someDouble + \",\" + someString</code>, but I'd really just prefer to do this correctly. I'm open to changing the Tuple to another non-string type if that helps though. Perhaps some other immutable type? I'm not terribly proficient with C# data binding beyond the basics, so any help or ideas are greatly appreciated.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "asp.net-mvc-5.2"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 7858425, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d77cdb36a938e2f25d829877dfa6a0d?s=128&d=identicon&r=PG&f=1", "display_name": "ahosam", "link": "https://stackoverflow.com/users/7858425/ahosam"}, "edited": false, "score": 0, "creation_date": 1493284702, "post_id": 43646397, "comment_id": 74354563, "body": "I use <code>mysession</code> as model on view, i want to pass <code>mysession</code> to view and <code>SessionParameters</code> at the same time ? , mysession  this  is a global variable an instance of the <code>SessionHelper</code> class  , i use this instance  while making the design of the page . when i test your code now i have this error <i>The page isn\u2019t redirecting properly</i>"}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "reply_to_user": {"reputation": 107, "user_id": 7858425, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d77cdb36a938e2f25d829877dfa6a0d?s=128&d=identicon&r=PG&f=1", "display_name": "ahosam", "link": "https://stackoverflow.com/users/7858425/ahosam"}, "edited": false, "score": 0, "creation_date": 1493322050, "post_id": 43646397, "comment_id": 74380083, "body": "I didn&#39;t notice you are using mvc4. Did you try my code without mysession (and setting the viewmodel in the view to SessionParameters)? If so, then this may not work because you are using mvc4. I know this code works in mvc5. Though I think this should work in mvc4 as well."}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "reply_to_user": {"reputation": 107, "user_id": 7858425, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d77cdb36a938e2f25d829877dfa6a0d?s=128&d=identicon&r=PG&f=1", "display_name": "ahosam", "link": "https://stackoverflow.com/users/7858425/ahosam"}, "edited": false, "score": 0, "creation_date": 1493322403, "post_id": 43646397, "comment_id": 74380274, "body": "As a sidenote. I don&#39;t think mysession is suitable as ViewModel. I use ViewModels for the model data only. This ViewModel is a simple DTO (like the example). If I want additional information I can use ViewBag. Like lookup data for dropdownlist, page title, etc. I never use session information because I store the information in the url or I retrieve the information from the database (easy for authenticated users)."}, {"owner": {"reputation": 107, "user_id": 7858425, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d77cdb36a938e2f25d829877dfa6a0d?s=128&d=identicon&r=PG&f=1", "display_name": "ahosam", "link": "https://stackoverflow.com/users/7858425/ahosam"}, "edited": false, "score": 0, "creation_date": 1493546427, "post_id": 43646397, "comment_id": 74454754, "body": "I am using mvc 5.2 VS_2017 and still the code did not work"}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "reply_to_user": {"reputation": 107, "user_id": 7858425, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d77cdb36a938e2f25d829877dfa6a0d?s=128&d=identicon&r=PG&f=1", "display_name": "ahosam", "link": "https://stackoverflow.com/users/7858425/ahosam"}, "edited": false, "score": 0, "creation_date": 1493546837, "post_id": 43646397, "comment_id": 74454848, "body": "Can you be more specific? Assuming you have the code in  my example. If you set a breakpoint on &#39;if (!ModelState.IsValid)&#39;. Does pars have a value? If you skip pageload and move to &#39;return View(pars)&#39;, what happens? Make sure that the view uses SessionParameters. Comment code in the view that can&#39;t be mapped to SessionParameters."}, {"owner": {"reputation": 107, "user_id": 7858425, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d77cdb36a938e2f25d829877dfa6a0d?s=128&d=identicon&r=PG&f=1", "display_name": "ahosam", "link": "https://stackoverflow.com/users/7858425/ahosam"}, "edited": false, "score": 0, "creation_date": 1493549082, "post_id": 43646397, "comment_id": 74455446, "body": "I set a breakpoint on &#39;if (!ModelState.IsValid)&#39; pars have a value ,if i skip pageload and move to &#39;return View(pars)&#39; he dose not move to &#39;return View(pars)&#39; he just move to (!ModelState.IsValid)&#39; and retrun <code>RedirectToAction(&quot;Index&quot;, routeValues: new SessionParameters());</code> also the view used SessionParameters as a  model but still have the same problem , the problem is i get the <code>SessionParameters</code> on the url as a query string but i don&#39;t have the design or the search criteria gives me this message   <b>The page isn\u2019t redirecting properly</b>"}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "reply_to_user": {"reputation": 107, "user_id": 7858425, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d77cdb36a938e2f25d829877dfa6a0d?s=128&d=identicon&r=PG&f=1", "display_name": "ahosam", "link": "https://stackoverflow.com/users/7858425/ahosam"}, "edited": false, "score": 0, "creation_date": 1493550052, "post_id": 43646397, "comment_id": 74455667, "body": "I think the redirect works, but you are rerouted to the method again. You move to return View(pars) and then re-enter the method. I think there is something in your routing what causes the redirect. Perhaps you&#39;ll need to set some session variable that is now null."}, {"owner": {"reputation": 107, "user_id": 7858425, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d77cdb36a938e2f25d829877dfa6a0d?s=128&d=identicon&r=PG&f=1", "display_name": "ahosam", "link": "https://stackoverflow.com/users/7858425/ahosam"}, "edited": false, "score": 0, "creation_date": 1493556261, "post_id": 43646397, "comment_id": 74457284, "body": "Now,when i set breakpoint on ` if (!ModelState.IsValid)`  is = false,  when i skip pageload and move to &#39;return View(pars)&#39;  and the view  uses SessionParameters i see the search criteria but i don&#39;t have the query string parameters on the top of URL"}], "tags": [], "owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "is_accepted": false, "score": 0, "last_activity_date": 1493250800, "creation_date": 1493250800, "answer_id": 43646397, "question_id": 43644385, "link": "https://stackoverflow.com/questions/43644385/asp-net-mvc-add-a-query-string-to-a-route-when-the-page-load/43646397#43646397", "title": "ASP.NET MVC add a query string to a route when the page load", "body": "<p>I am not sure why you would need a session if you want to store the information in the url. In my answer I am not using the session, but instead focus on the url.</p>\n\n<p>First of all you can use an object to automatically bind the parameters:</p>\n\n<pre><code>//using System.ComponentModel.DataAnnotations;\n\npublic class SessionParameters\n{\n    [Required]\n    public string Rate { get; set; } = \"\";\n    [Required]\n    public string Culture { get; set; } = \"En\";\n    [Required]\n    public int HotelID { get; set; } = 0;\n    public int SearchCriteria_NumberOfAdultsPerRoom { get; set; }\n    public int SearchCriteria_NumberOfChildrenPerRoom { get; set; }\n    public int SearchCriteria_NumberOfRooms { get; set; }\n    public int MaximumNumberOfRooms { get; set; } = 4;\n    public int MaximumNumberOfAdultsPerRoom { get; set; } = 4;\n    public int MaximumNumberOfChildrenPerRoom { get; set; } = 3;\n    public int MaximumDaysAheadBookable { get; set; } = 450;\n    public int MaximumDaysBetweenCheckinCheckout { get; set; } = 31;\n    // You may want to use a specific format for dates.\n    public DateTime Checkin { get; set; } = DateTime.Today.Date;\n    public DateTime Checkout { get; set; } = DateTime.Today.Date.AddDays(1);\n}\n</code></pre>\n\n<p>Notice the Required fields. In your controller add the class as parameter:</p>\n\n<pre><code>public class HomeController : Controller\n{\n    SessionHelper mysession = new SessionHelper();\n\n    [HttpGet]\n    [ActionName(\"Index\")]\n    public ActionResult Index_Get(SessionParameters pars)\n    {\n        if (!ModelState.IsValid)\n            return RedirectToAction(\"Index\", routeValues: new SessionParameters());\n\n        //checkURL();                        \n\n        pageload();\n\n        return View(pars);            \n    }\n }\n</code></pre>\n\n<p>How this works: pars will be initialized as a new SessionParameters object (meaning that the default values are set!) where present url parameters are overwritten with the actual value.</p>\n\n<p>We cannot tell whether this is a first entry, but we can test the ModelState. If invalid, we need to set the default values.</p>\n\n<p>What will work in this case, is the Rate field. Rate is required but has a default value of \"\". This will cause ModelState to be invalid if Rate is omitted.</p>\n\n<p>So in case you hit <a href=\"http://myapp.com\" rel=\"nofollow noreferrer\">http://myapp.com</a>, pars is automatically mapped as a new SessionParameters object. And because Rate == \"\" ModelState wil not be valid. Now we can redirect to the same action with the new SessionParameters (containing the default values) which are now shown as parameters in the url. </p>\n\n<p>It may not be exactly what you are looking for, but I hope this gives you an idea on how you may solve this issue.</p>\n"}], "owner": {"reputation": 107, "user_id": 7858425, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d77cdb36a938e2f25d829877dfa6a0d?s=128&d=identicon&r=PG&f=1", "display_name": "ahosam", "link": "https://stackoverflow.com/users/7858425/ahosam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 980, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1493541018, "creation_date": 1493240289, "last_edit_date": 1493541018, "question_id": 43644385, "link": "https://stackoverflow.com/questions/43644385/asp-net-mvc-add-a-query-string-to-a-route-when-the-page-load", "title": "ASP.NET MVC add a query string to a route when the page load", "body": "<p>I have a MVC 5 web site search criteria , when my page first loads, the URL looks like this: <a href=\"http://myapp.com\" rel=\"nofollow noreferrer\">http://myapp.com</a>. </p>\n\n<p>However, I'd like it to look like this: <a href=\"http://myapp.com?HotelID=12&amp;Rate=\" rel=\"nofollow noreferrer\">http://myapp.com?HotelID=12&amp;Rate=</a>'abc'&amp;Culture='En' and so on (?HotelID=12&amp;Rate='abc'&amp;Culture='En'  is the important part).</p>\n\n<p>also i have class session-helper has the default values that i want to put it inside query string on page load i don't know if that possible .</p>\n\n<p>this is the session helper-class :</p>\n\n<pre><code> public  class SessionHelper\n{\n    public SessionHelper()\n    {\n        // ------ Set default values here \n        Rate = \"\";\n        HotelID = 0;\n        CSS_FileName = \"default.css\";\n        Culture = \"En\";                        \n        Checkin = DateTime.Today.Date;\n        Checkout = DateTime.Today.Date.AddDays(1);\n        //Maximum numbers\n        MaximumNumberOfRooms = 4;\n        MaximumNumberOfAdultsPerRoom = 4;\n        MaximumNumberOfChildrenPerRoom = 3;\n        MaximumDaysAheadBookable = 450;\n        MaximumDaysBetweenCheckinCheckout = 31;\n\n        // You don't need to create an instance on the first page, this will be created on the class constuctor\n        IBE_DLL_Instance = new RHN_IBE.IBE();\n    }\n\n    #region String properties\n    public  string Rate\n    {\n        get { return HttpContext.Current.Session[\"Rate\"] as string; }\n\n        set { HttpContext.Current.Session[\"Rate\"] = value; }\n    }\n\n    public string CSS_FileName\n    {\n        get { return HttpContext.Current.Session[\"CSS_FileName\"] as string; }\n        set { HttpContext.Current.Session[\"CSS_FileName\"] = value; }\n    }\n    public string Culture\n    {\n        get { return HttpContext.Current.Session[\"Culture\"] as string; }\n        set { HttpContext.Current.Session[\"Culture\"] = value; }\n    }\n\n\n    #endregion\n\n    #region Integer properties\n    public int HotelID\n    {\n        get { return (int)(HttpContext.Current.Session[\"HotelID\"]); }\n        set { HttpContext.Current.Session[\"HotelID\"] = value; }\n    }\n\n    public int SearchCriteria_NumberOfAdultsPerRoom\n    {\n        get { return (int)(HttpContext.Current.Session[\"SearchCriteria_NumberOfAdultsPerRoom\"]); }\n        set { HttpContext.Current.Session[\"SearchCriteria_NumberOfAdultsPerRoom\"] = value; }\n    }\n    public int SearchCriteria_NumberOfChildrenPerRoom\n    {\n        get { return (int)(HttpContext.Current.Session[\"SearchCriteria_NumberOfChildrenPerRoom\"]); }\n        set { HttpContext.Current.Session[\"SearchCriteria_NumberOfChildrenPerRoom\"] = value; }\n    }\n    public int SearchCriteria_NumberOfRooms\n    {\n        get { return (int)(HttpContext.Current.Session[\"SearchCriteria_NumberOfRooms\"]); }\n        set { HttpContext.Current.Session[\"SearchCriteria_NumberOfRooms\"] = value; }\n    }\n\n    //Maximum numbers defaulot value \n    public int MaximumNumberOfRooms\n    {\n        get { return (int)(HttpContext.Current.Session[\"MaximumNumberOfRooms\"]); }\n        set { HttpContext.Current.Session[\"MaximumNumberOfRooms\"] = value; }\n    }\n\n    public int MaximumNumberOfAdultsPerRoom\n    {\n        get { return (int)(HttpContext.Current.Session[\"MaximumNumberOfAdultsPerRoom\"]); }\n        set { HttpContext.Current.Session[\"MaximumNumberOfAdultsPerRoom\"] = value; }\n    }\n\n    public int MaximumNumberOfChildrenPerRoom\n    {\n        get { return (int)(HttpContext.Current.Session[\"MaximumNumberOfChildrenPerRoom\"]); }\n        set { HttpContext.Current.Session[\"MaximumNumberOfChildrenPerRoom\"] = value; }\n    }\n\n    public int MaximumDaysAheadBookable\n    {\n        get { return (int)(HttpContext.Current.Session[\"MaximumDaysAheadBookable\"]); }\n        set { HttpContext.Current.Session[\"MaximumDaysAheadBookable\"] = value; }\n    }\n\n    public int MaximumDaysBetweenCheckinCheckout\n    {\n        get { return (int)(HttpContext.Current.Session[\"MaximumDaysBetweenCheckinCheckout\"]); }\n        set { HttpContext.Current.Session[\"MaximumDaysBetweenCheckinCheckout\"] = value; }\n    }\n\n\n\n    #endregion\n\n    #region Date properties\n    public DateTime Checkin\n    {\n        get { return (DateTime)(HttpContext.Current.Session[\"Checkin\"]); }\n        set { HttpContext.Current.Session[\"Checkin\"] = value; }\n    }\n\n    public DateTime Checkout\n    {\n        get { return (DateTime)(HttpContext.Current.Session[\"Checkout\"]); }\n        set { HttpContext.Current.Session[\"Checkout\"] = value; }\n    }\n\n    #endregion\n\n    #region DLL Instance \n    public RHN_IBE.IBE IBE_DLL_Instance\n    {\n        get { return (RHN_IBE.IBE)(HttpContext.Current.Session[\"IBE_DLL_Instance\"]); }\n        set { HttpContext.Current.Session[\"IBE_DLL_Instance\"] = value; }\n    }\n    #endregion\n\n}\n</code></pre>\n\n<p>This is my controller i initialize session-helper class as global variable to call it once the page load and sit the default values on page-load</p>\n\n<pre><code>public class HomeController : Controller\n{\n    SessionHelper mysession = new SessionHelper();\n    [HttpGet]\n    [ActionName(\"Index\")]\n    public ActionResult Index_Get()\n    {\n        //checkURL();                        \n\n        pageload();\n\n        return View(mysession);            \n    }\n }\n</code></pre>\n\n<p>And this is my form :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@using (Html.BeginForm(\"Index\", \"Home\", FormMethod.Get))\r\n                  {\r\n                    &lt;div class=\"row\"&gt;\r\n                        &lt;div class=\"col-xs-6 col-sm-6 col-md-4 col-lg-2\"&gt;\r\n                            &lt;p class=\"font\"&gt;@Resource.criteria_Arrival&lt;/p&gt;\r\n                            &lt;input class=\"calendarr font\" name=\"Arrival\" readonly type=\"text\" id=\"Arrival\" onchange=\"changedDate()\"&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=\"col-xs-6 col-sm-6 col-md-4 col-lg-2\"&gt;\r\n                            &lt;p class=\"font\"&gt;@Resource.criteria_Departure&lt;/p&gt;\r\n                            &lt;input class=\"calendarr font\" name=\"Departure\" readonly type=\"text\" id=\"Departure\"&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=\"col-xs-6 col-sm-6 col-md-4 col-lg-2 font\"&gt;\r\n                            &lt;p&gt;@Resource.criteria_Rooms&lt;/p&gt;                            \r\n                            &lt;select id=\"Rooms\" name=\"Rooms\" class=\"dropdown\"&gt;\r\n                                @for (int i = 1; i &lt;= Model.MaximumNumberOfRooms; i++)\r\n                                {                                   \r\n                                   &lt;option value=\"@i\"&gt;@i&lt;/option&gt;                                   \r\n                                }\r\n                            &lt;/select&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=\"clearfix visible-md-block\"&gt;\r\n                        &lt;/div&gt;\r\n\r\n                        &lt;div class=\"col-xs-6 col-sm-6 col-md-4 col-lg-2 font\"&gt;\r\n                            &lt;p&gt;@Resource.criteria_Persons&lt;/p&gt;\r\n                            &lt;select id=\"Persons\" name=\"Persons\" class=\"dropdown\"&gt;\r\n                                @for (int j = 1; j &lt;= Model.MaximumNumberOfAdultsPerRoom; j++)\r\n                                {                                                                       \r\n                                &lt;option value=\"@j\"&gt;@j&lt;/option&gt;                                   \r\n                                }\r\n                            &lt;/select&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=\"col-xs-6 col-sm-6 col-md-4 col-lg-1 font\"&gt;\r\n                            &lt;p&gt;@Resource.criteria_Children&lt;/p&gt;\r\n                            &lt;select id=\"Childrens\" name=\"Childrens\" class=\"dropdown\"&gt;\r\n                                @for (int c = 1; c &lt;= Model.MaximumNumberOfChildrenPerRoom; c++)\r\n                                {                                   \r\n                                &lt;option value=\"@c\"&gt;@c&lt;/option&gt;                                    \r\n                                }\r\n                            &lt;/select&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=\"col-xs-6 col-sm-6 col-md-4 col-lg-3 font\"&gt;\r\n                            &lt;br /&gt;\r\n                            &lt;input type=\"submit\" class=\"btns\" value=@Resource.criteria_btn_Search /&gt;&lt;br /&gt;\r\n                            &lt;a href=\"javascript:void(0);\" class=\"Login\" style=\"font-size: x-small; color: #337ab7; float: right; position: relative; left: -14px; top: 10px;\"&gt;@Resource.criteria_link_AlreadyamemberLogin&lt;/a&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=\"clearfix visible-lg-block\"&gt;\r\n                        &lt;/div&gt;\r\n\r\n                    &lt;/div&gt;\r\n                  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I tried several ways but not worked with me any advice . thanks</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc"], "comments": [{"owner": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 0, "creation_date": 1493240318, "post_id": 43644302, "comment_id": 74337164, "body": "What do you intend to do with the difference?"}], "answers": [{"comments": [{"owner": {"reputation": 1276, "user_id": 2453740, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TC4Qy.jpg?s=128&g=1", "display_name": "James Haug", "link": "https://stackoverflow.com/users/2453740/james-haug"}, "edited": false, "score": 0, "creation_date": 1493303432, "post_id": 43644435, "comment_id": 74368477, "body": "Just a note that <code>TotalHrs</code> can not be used in an EF/Linq-2-Sql query. The LINQ statement must be Linq-2-Objects (It needs to operate on an Enumerable as opposed to a Queryable)."}], "tags": [], "owner": {"reputation": 21716, "user_id": 2401769, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wkEbw.jpg?s=128&g=1", "display_name": "Matias Cicero", "link": "https://stackoverflow.com/users/2401769/matias-cicero"}, "is_accepted": true, "score": 1, "last_activity_date": 1493240436, "creation_date": 1493240436, "answer_id": 43644435, "question_id": 43644302, "link": "https://stackoverflow.com/questions/43644302/calculate-difference-between-two-datetime-in-mvc-5/43644435#43644435", "title": "Calculate difference between two datetime in MVC 5", "body": "<p>I would oppose to store such calculation on the database, when you can easily do it on client side as you have all the necessary information.</p>\n\n<p>Add a new property and specify just a get accesor:</p>\n\n<pre><code>public class Hour\n{\n   // ...\n   [NotMapped]\n   public TimeSpan TotalHrs\n   {\n       get\n       {\n           return this.StartDateTime - this.EndDatetime;\n       }\n   }\n   // ...\n}\n</code></pre>\n\n<p>Then you can just access it like any other property in your view, controller or any class that consumes it.</p>\n\n<pre><code>TimeSpan val = hour.TotalHrs;\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 3517016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/961392ec1c4fc336a450521bbefdb7eb?s=128&d=identicon&r=PG&f=1", "display_name": "Miniols", "link": "https://stackoverflow.com/users/3517016/miniols"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3636, "favorite_count": 0, "accepted_answer_id": 43644435, "answer_count": 1, "score": 1, "last_activity_date": 1493240436, "creation_date": 1493239911, "last_edit_date": 1493240127, "question_id": 43644302, "link": "https://stackoverflow.com/questions/43644302/calculate-difference-between-two-datetime-in-mvc-5", "title": "Calculate difference between two datetime in MVC 5", "body": "<p>I am in the process of learning ASP.NET and MVC with Entity Framework, which is why this question may seem trivial to some of you.</p>\n\n<p>My objective is relatively simple:\nI have a model (Hour.cs) like this:</p>\n\n<pre><code>public class Hour\n{\n    public int ID { get; set; }\n    public int UsrID { get; set; }\n    [DataType(DataType.Time)]\n    [DisplayFormat(ApplyFormatInEditMode = true, DataFormatString = \"{0:HH:mm}\")]\n    public DateTime StartDateTime { get; set; }\n    [DataType(DataType.Time)]\n    [DisplayFormat(ApplyFormatInEditMode = true, DataFormatString = \"{0:HH:mm}\")]\n    public DateTime EndDatetime { get; set; }\n    public int? ProjectID { get; set; }\n    public virtual Project Project { get; set; }\n    public virtual Usr Usr { get; set; }\n}\n</code></pre>\n\n<p>I currently have a view that shows information in a table/list:\n<code>StartDateTime</code>,<code>EndDateTime</code>, <code>UsrID</code>, <code>ProjectID</code></p>\n\n<p>I want to add a column for TotalHrs represented by the difference between <code>StartDateTime</code> and <code>EndDateTime</code>.</p>\n\n<p>To get the difference I have read numerous articles telling me to use timespan somewhere in the lines of:</p>\n\n<pre><code>Timspan diff = StartDateTime - EndDateTime;\n</code></pre>\n\n<p>What I do not understand is where to insert this code. I am assuming it is in the controller, but I do no understand how. \nMy Index method looks like this:</p>\n\n<pre><code>public ActionResult Index()\n    {\n        var hours = db.Hours\n            .Include(c =&gt; c.Usr)\n            .Include(p =&gt; p.Project);\n\n                   return View(hours.ToList());\n    }\n</code></pre>\n\n<p>Any pointers appreciated!</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 21716, "user_id": 2401769, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wkEbw.jpg?s=128&g=1", "display_name": "Matias Cicero", "link": "https://stackoverflow.com/users/2401769/matias-cicero"}, "edited": false, "score": 0, "creation_date": 1493240029, "post_id": 43644261, "comment_id": 74336996, "body": "You can try subscribing to the <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.frameworkelement.sourceupdated(v=vs.110).aspx\" rel=\"nofollow noreferrer\">SourceUpdated EventHandler</a>"}, {"owner": {"reputation": 351, "user_id": 3122254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6227e2f57205012430af0348eaf1e822?s=128&d=identicon&r=PG&f=1", "display_name": "macieqqq", "link": "https://stackoverflow.com/users/3122254/macieqqq"}, "edited": false, "score": 0, "creation_date": 1493241979, "post_id": 43644261, "comment_id": 74337999, "body": "Can you describe the context? Why you need this? You can try to use DataContextChagnedEvent or forcibly update bindings but I suppose that this is not the real problem."}, {"owner": {"reputation": 23, "user_id": 7696800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac1a3fa2f9c90257e1bed35fedd34c9?s=128&d=identicon&r=PG&f=1", "display_name": "Ted", "link": "https://stackoverflow.com/users/7696800/ted"}, "reply_to_user": {"reputation": 351, "user_id": 3122254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6227e2f57205012430af0348eaf1e822?s=128&d=identicon&r=PG&f=1", "display_name": "macieqqq", "link": "https://stackoverflow.com/users/3122254/macieqqq"}, "edited": false, "score": 0, "creation_date": 1493242315, "post_id": 43644261, "comment_id": 74338171, "body": "@ Matias Will try the sourceupdated trigger.  @macieqqq: In a nutshell: 1. User selects an option 2. in the background a generic list is populated on load, and a second list, that is linked to the user&#39;s selection is appended to the combobox 3. The delay present a &quot;loading&quot; label and checks to see if the new values from the user selection is populated. 4. The &quot;loading&quot; label is removed and the updated combobox is displayed."}, {"owner": {"reputation": 9031, "user_id": 3667257, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/tmhZR.jpg?s=128&g=1", "display_name": "AnjumSKhan", "link": "https://stackoverflow.com/users/3667257/anjumskhan"}, "edited": false, "score": 0, "creation_date": 1493271573, "post_id": 43644261, "comment_id": 74346732, "body": "Try using <code>SourceUpdated</code> / <code>TargetUpdated</code> events."}, {"owner": {"reputation": 23, "user_id": 7696800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac1a3fa2f9c90257e1bed35fedd34c9?s=128&d=identicon&r=PG&f=1", "display_name": "Ted", "link": "https://stackoverflow.com/users/7696800/ted"}, "edited": false, "score": 0, "creation_date": 1524094358, "post_id": 43644261, "comment_id": 86841747, "body": "I decided to prepopulate an empty row to eliminate any errors."}], "answers": [{"tags": [], "owner": {"reputation": 351, "user_id": 3122254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6227e2f57205012430af0348eaf1e822?s=128&d=identicon&r=PG&f=1", "display_name": "macieqqq", "link": "https://stackoverflow.com/users/3122254/macieqqq"}, "is_accepted": false, "score": 0, "last_activity_date": 1493242333, "creation_date": 1493242333, "answer_id": 43644870, "question_id": 43644261, "link": "https://stackoverflow.com/questions/43644261/how-can-i-check-to-see-if-binding-is-complete-for-a-combobox/43644870#43644870", "title": "How can I check to see if binding is complete for a combobox", "body": "<p>Binding is completed when event Loaded triggers.\nYou can attach to the Loaded event. It works if the binding is not Async.</p>\n"}], "owner": {"reputation": 23, "user_id": 7696800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac1a3fa2f9c90257e1bed35fedd34c9?s=128&d=identicon&r=PG&f=1", "display_name": "Ted", "link": "https://stackoverflow.com/users/7696800/ted"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524094358, "creation_date": 1493239726, "question_id": 43644261, "link": "https://stackoverflow.com/questions/43644261/how-can-i-check-to-see-if-binding-is-complete-for-a-combobox", "title": "How can I check to see if binding is complete for a combobox", "body": "<p>I am a noob to coding so please be patient with me (I've not written anything in over a decade and it is not like riding a bike). </p>\n\n<p>I am using wpf to create a client application and I need to be able to figure out when a combobox has been bound. </p>\n\n<p>I tried using Items.count > 1 in an async call with a wait but the problem is some selection may not return any values.</p>\n\n<p>Here is my code behind (It is an action based on the selection change of another combobox) </p>\n\n<pre><code>    private async void belistbox_SelectionChanged(object sender, System.Windows.Controls.SelectionChangedEventArgs e)\n    {\n        beOslist.Items.Clear();\n        belistbox.IsDropDownOpen = false;\n        while (hiddenPortallist.Items.Count &lt; 1)\n        {\n            waitAction();\n            await Task.Delay(4);             \n        }\n\n        var beval = belistbox.SelectedValue.ToString();\n        enumImages(beval);\n\n        while (hiddenbeOSlist.Items.Count &lt; 1)\n        {\n            waitAction();\n            await Task.Delay(4);\n        }\n\n        OSLabel2.Visibility = Visibility.Visible;\n\n        addCombobox();\n\n\n    }\n</code></pre>\n"}, {"tags": ["c#", "datetime", "dst"], "comments": [{"owner": {"reputation": 3117, "user_id": 1585868, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5a0379b0735326a4d3dd0a18515e32af?s=128&d=identicon&r=PG", "display_name": "leigero", "link": "https://stackoverflow.com/users/1585868/leigero"}, "edited": false, "score": 0, "creation_date": 1493240095, "post_id": 43644252, "comment_id": 74337030, "body": "What happens if you run this the very next day (not across a time change)?"}, {"owner": {"reputation": 21389, "user_id": 12484, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08f53f1d60bb079c102eb9738f24888d?s=128&d=identicon&r=PG", "display_name": "Jon Schneider", "link": "https://stackoverflow.com/users/12484/jon-schneider"}, "reply_to_user": {"reputation": 3117, "user_id": 1585868, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5a0379b0735326a4d3dd0a18515e32af?s=128&d=identicon&r=PG", "display_name": "leigero", "link": "https://stackoverflow.com/users/1585868/leigero"}, "edited": false, "score": 0, "creation_date": 1493240169, "post_id": 43644252, "comment_id": 74337079, "body": "@leigero The result TimeSpan is still 3 hours.  The two IsDaylightSavingTime calls both return True.  The timezone offset for both dates shows as -4."}, {"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1493241450, "post_id": 43644252, "comment_id": 74337741, "body": "<code>DateTime</code> does not contain any timezone info.  Use <code>DateTimeOffset</code>."}, {"owner": {"reputation": 21389, "user_id": 12484, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08f53f1d60bb079c102eb9738f24888d?s=128&d=identicon&r=PG", "display_name": "Jon Schneider", "link": "https://stackoverflow.com/users/12484/jon-schneider"}, "reply_to_user": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1493241530, "post_id": 43644252, "comment_id": 74337777, "body": "@SamAxe I suspect you&#39;re probably right, but can you explain further (maybe in an answer on this question)? What&#39;s the deal with the TimeZoneInfo.ConvertTime method which takes a time zone and returns a DateTime, if DateTime does not contain any timezone info?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1493243538, "post_id": 43644252, "comment_id": 74338665, "body": "Bit of a judgment call, but they decided to implement the ~1 nanosecond version.  Instead of the hundreds of nanoseconds it would take to figure out the UTC time.  Speed is a feature too.  DateTimeOffset always stores UTC time internally so doesn&#39;t have this problem.  Live and learn, for Microsoft too."}, {"owner": {"reputation": 21389, "user_id": 12484, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08f53f1d60bb079c102eb9738f24888d?s=128&d=identicon&r=PG", "display_name": "Jon Schneider", "link": "https://stackoverflow.com/users/12484/jon-schneider"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1493243847, "post_id": 43644252, "comment_id": 74338802, "body": "@HansPassant Are you saying it&#39;s the addition/subtraction operators and methods on DateTime that aren&#39;t converting to UTC?  If you could expand your comment into an answer, that would help a lot. I&#39;m still unclear on exactly why the DateTime class reports the correct time offsets (-5 and -4 respectively) for my two DateTime objects, yet subtracting them (evidently?) ignores those same offsets."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1493244405, "post_id": 43644252, "comment_id": 74339027, "body": "DateTime.ToString() is allowed to be slow, strings are for humans, so it does take its merry time to calculate the UTC offset."}], "answers": [{"comments": [{"owner": {"reputation": 21389, "user_id": 12484, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08f53f1d60bb079c102eb9738f24888d?s=128&d=identicon&r=PG", "display_name": "Jon Schneider", "link": "https://stackoverflow.com/users/12484/jon-schneider"}, "edited": false, "score": 0, "creation_date": 1493240866, "post_id": 43644504, "comment_id": 74337472, "body": "I actually did try using the .Subtract method instead of the minus operator when I was playing around with this prior to posting. However, I was using DateTime objects, not DateTimeOffset, and the code still returned a 3 hour TimeSpan.  I&#39;m starting to suspect that trying to do math with DateTime objects as in my example isn&#39;t the right approach, although I don&#39;t really understand WHY that is yet."}, {"owner": {"reputation": 363, "user_id": 7504134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BUH1g.jpg?s=128&g=1", "display_name": "ReRoute", "link": "https://stackoverflow.com/users/7504134/reroute"}, "edited": false, "score": 0, "creation_date": 1493241090, "post_id": 43644504, "comment_id": 74337581, "body": "Still yields the same 3 hours as up there."}, {"owner": {"reputation": 21389, "user_id": 12484, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08f53f1d60bb079c102eb9738f24888d?s=128&d=identicon&r=PG", "display_name": "Jon Schneider", "link": "https://stackoverflow.com/users/12484/jon-schneider"}, "edited": false, "score": 0, "creation_date": 1493243122, "post_id": 43644504, "comment_id": 74338512, "body": "Can you explain why using DateTime doesn&#39;t work? I&#39;m still confused by why subtracting 2017-03-12 01:00 -5 (i.e. 6:00 UTC) from 2017-03-12 04:00 -4 (i.e. 8:00 UTC) yields 3."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 2, "creation_date": 1493244997, "post_id": 43644504, "comment_id": 74339273, "body": "Firstly, <code>fourAm.Subtract(oneAm)</code> calls <code>DateTime.Subtract</code>, not <code>DateTimeOffset.Subtract</code>. Secondly, the documentation you link to says the opposite: it specifically says that in languages that support operator overloading, you can just use <code>-</code> instead of calling <code>Subtract</code>."}], "tags": [], "owner": {"reputation": 3117, "user_id": 1585868, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5a0379b0735326a4d3dd0a18515e32af?s=128&d=identicon&r=PG", "display_name": "leigero", "link": "https://stackoverflow.com/users/1585868/leigero"}, "is_accepted": false, "score": -2, "last_activity_date": 1493240704, "creation_date": 1493240704, "answer_id": 43644504, "question_id": 43644252, "link": "https://stackoverflow.com/questions/43644252/why-doesnt-subtracting-two-local-datetime-values-appear-to-account-for-daylight/43644504#43644504", "title": "Why doesn&#39;t subtracting two local DateTime values appear to account for Daylight Saving Time?", "body": "<p>So this is addressed in the <a href=\"https://msdn.microsoft.com/en-us/library/bb354180(v=vs.110).aspx\" rel=\"nofollow noreferrer\">MSDN</a> documentation.</p>\n\n<p>Basicaly, when subtracting one date from another you should be using <code>DateTimeOffset.Subtract()</code> and not arithmetic subtraction as you have here.</p>\n\n<pre><code>TimeSpan difference = fourAm.Subtract(oneAm);\n</code></pre>\n\n<p>Yields the expected 2 hour time difference.</p>\n"}, {"comments": [{"owner": {"reputation": 21389, "user_id": 12484, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08f53f1d60bb079c102eb9738f24888d?s=128&d=identicon&r=PG", "display_name": "Jon Schneider", "link": "https://stackoverflow.com/users/12484/jon-schneider"}, "edited": false, "score": 0, "creation_date": 1493243064, "post_id": 43644962, "comment_id": 74338494, "body": "Thanks. Can you explain why this is necessary, though? I&#39;m still confused by why just subtracting 2017-03-12 01:00 -5 (i.e. 6:00 UTC) from 2017-03-12 04:00 -4 (i.e. 8:00 UTC) yields 3."}, {"owner": {"reputation": 363, "user_id": 7504134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BUH1g.jpg?s=128&g=1", "display_name": "ReRoute", "link": "https://stackoverflow.com/users/7504134/reroute"}, "reply_to_user": {"reputation": 21389, "user_id": 12484, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08f53f1d60bb079c102eb9738f24888d?s=128&d=identicon&r=PG", "display_name": "Jon Schneider", "link": "https://stackoverflow.com/users/12484/jon-schneider"}, "edited": false, "score": 0, "creation_date": 1493243409, "post_id": 43644962, "comment_id": 74338617, "body": "As I understand it, the language can understand that it is in fact when time shifts but when you do the time-span it is not accounted for and is looked at as if you are taking a span between 12/03/2017 01.00.00 and 12/03/2017 04.00.00. Aka 4 -1. I found this article helpful in explaining how Daylight Savings Time is understood. It is towards the bottom : <a href=\"https://msdn.microsoft.com/en-us/library/ms973825.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ms973825.aspx</a>"}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 0, "creation_date": 1493244342, "post_id": 43644962, "comment_id": 74339004, "body": "This is still problematic, as the local time zone is being introduced in the conversion functions.  You&#39;re converting <i>from</i> local time <i>to</i> eastern time.  This is not the same as applying the eastern time zone offset.  Also, the <code>DaylightTime.Delta</code> object here is just going to be 1 hour.  It does not do what you think it does.  Really, the <code>GetDaylightChanges</code> method is rarely useful."}], "tags": [], "owner": {"reputation": 363, "user_id": 7504134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BUH1g.jpg?s=128&g=1", "display_name": "ReRoute", "link": "https://stackoverflow.com/users/7504134/reroute"}, "is_accepted": false, "score": -1, "last_activity_date": 1493242814, "creation_date": 1493242814, "answer_id": 43644962, "question_id": 43644252, "link": "https://stackoverflow.com/questions/43644252/why-doesnt-subtracting-two-local-datetime-values-appear-to-account-for-daylight/43644962#43644962", "title": "Why doesn&#39;t subtracting two local DateTime values appear to account for Daylight Saving Time?", "body": "<p>Ok, so I made some minor changes to your code. Not sure if this is what you are trying to achieve or not but this will give you what you want...</p>\n\n<pre><code>static void Main() {\n        TimeZoneInfo easternStandardTime = TimeZoneInfo.FindSystemTimeZoneById(\"Eastern Standard Time\");\n        TimeZone timeZone = TimeZone.CurrentTimeZone;\n\n        DateTime oneAm = TimeZoneInfo.ConvertTime(new DateTime(2017, 03, 12, 01, 00, 00), easternStandardTime);\n        DateTime fourAm = TimeZoneInfo.ConvertTime(new DateTime(2017, 03, 12, 04, 00, 00), easternStandardTime);\n\n        DaylightTime time = timeZone.GetDaylightChanges(fourAm.Year);\n\n        TimeSpan difference = ((fourAm - time.Delta) - oneAm);\n\n        Console.WriteLine(oneAm);\n        Console.WriteLine(fourAm);\n        Console.WriteLine(TimeZoneInfo.Local.IsDaylightSavingTime(oneAm));\n        Console.WriteLine(TimeZoneInfo.Local.IsDaylightSavingTime(fourAm));\n        Console.WriteLine(difference);\n        Console.ReadLine();\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "is_accepted": true, "score": 8, "last_activity_date": 1493249476, "last_edit_date": 1495540010, "creation_date": 1493244160, "answer_id": 43645275, "question_id": 43644252, "link": "https://stackoverflow.com/questions/43644252/why-doesnt-subtracting-two-local-datetime-values-appear-to-account-for-daylight/43645275#43645275", "title": "Why doesn&#39;t subtracting two local DateTime values appear to account for Daylight Saving Time?", "body": "<p>Observe:</p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>// These are just plain unspecified DateTimes\nDateTime dtOneAm = new DateTime(2017, 03, 12, 01, 00, 00);\nDateTime dtFourAm = new DateTime(2017, 03, 12, 04, 00, 00);\n\n// The difference is not going to do anything other than 4-1=3\nTimeSpan difference1 = dtFourAm - dtOneAm;\n\n// ... but we have a time zone to consider!\nTimeZoneInfo eastern = TimeZoneInfo.FindSystemTimeZoneById(\"Eastern Standard Time\");\n\n// Use that time zone to get DateTimeOffset values.\n// The GetUtcOffset method has what we need.\nDateTimeOffset dtoOneAmEastern = new DateTimeOffset(dtOneAm, eastern.GetUtcOffset(dtOneAm));\nDateTimeOffset dtoFourAmEastern = new DateTimeOffset(dtFourAm, eastern.GetUtcOffset(dtFourAm));\n\n// Subtracting these will take the offset into account!\n// It essentially does this: [4-(-4)]-[1-(-5)] = 8-6 = 2\nTimeSpan difference2 = dtoFourAmEastern - dtoOneAmEastern;\n\n// Let's see the results\nConsole.WriteLine(\"dtOneAm: {0:o} (Kind: {1})\", dtOneAm, dtOneAm.Kind);\nConsole.WriteLine(\"dtFourAm: {0:o} (Kind: {1})\", dtFourAm, dtOneAm.Kind);\nConsole.WriteLine(\"difference1: {0}\", difference1);\n\nConsole.WriteLine(\"dtoOneAmEastern: {0:o})\", dtoOneAmEastern);\nConsole.WriteLine(\"dtoFourAmEastern: {0:o})\", dtoFourAmEastern);\nConsole.WriteLine(\"difference2: {0}\", difference2);\n</code></pre>\n\n<p>Results:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>dtOneAm: 2017-03-12T01:00:00.0000000 (Kind: Unspecified)\ndtFourAm: 2017-03-12T04:00:00.0000000 (Kind: Unspecified)\ndifference1: 03:00:00\n\ndtoOneAmEastern: 2017-03-12T01:00:00.0000000-05:00)\ndtoFourAmEastern: 2017-03-12T04:00:00.0000000-04:00)\ndifference2: 02:00:00\n</code></pre>\n\n<p>Note that <code>DateTime</code> carries a <code>DateTimeKind</code> in its <code>Kind</code> property, which is <code>Unspecified</code> by default.  It doesn't belong to any particular time zone.  <code>DateTimeOffset</code> <em>doesn't</em> have a kind, it has an <code>Offset</code>, which tells you how far that local time is offset from UTC.  <em>Neither</em> of these give you the time zone.  That is what <code>TimeZoneInfo</code> object is doing.  See \"time zone != offset\" in <a href=\"https://stackoverflow.com/tags/timezone/info\">the timezone tag wiki</a>.</p>\n\n<p>The part I think you are perhaps frustrated with, is that for several historical reasons, the <code>DateTime</code> object does not <em>ever</em> understand time zones when doing math, even when you might have <code>DateTimeKind.Local</code>.  It <em>could</em> have been implemented to observe the transitions of the local time zone, but it was not done that way.</p>\n\n<p>You also might be interested in <a href=\"http://nodatime.org\" rel=\"noreferrer\">Noda Time</a>, which gives a very different API for date and time in .NET, in a much more sensible and purposeful way.</p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>using NodaTime;\n\n...\n\n// Start with just the local values.\n// They are local to *somewhere*, who knows where?  We didn't say.\nLocalDateTime ldtOneAm = new LocalDateTime(2017, 3, 12, 1, 0, 0);\nLocalDateTime ldtFourAm = new LocalDateTime(2017, 3, 12, 4, 0, 0);\n\n// The following won't compile, because LocalDateTime does not reference\n// a linear time scale!\n// Duration difference = ldtFourAm - ldtOneAm;\n\n// We can get the 3 hour period, but what does that really tell us?\nPeriod period = Period.Between(ldtOneAm, ldtFourAm, PeriodUnits.Hours);\n\n// But now lets introduce a time zone\nDateTimeZone eastern = DateTimeZoneProviders.Tzdb[\"America/New_York\"];\n\n// And apply the zone to our local values.\n// We'll choose to be lenient about DST gaps &amp; overlaps.\nZonedDateTime zdtOneAmEastern = ldtOneAm.InZoneLeniently(eastern);\nZonedDateTime zdtFourAmEastern = ldtFourAm.InZoneLeniently(eastern);\n\n// Now we can get the difference as an exact elapsed amount of time\nDuration difference = zdtFourAmEastern - zdtOneAmEastern;\n\n\n// Dump the output\nConsole.WriteLine(\"ldtOneAm: {0}\", ldtOneAm);\nConsole.WriteLine(\"ldtFourAm: {0}\", ldtFourAm);\nConsole.WriteLine(\"period: {0}\", period);\n\nConsole.WriteLine(\"zdtOneAmEastern: {0}\", zdtOneAmEastern);\nConsole.WriteLine(\"zdtFourAmEastern: {0}\", zdtFourAmEastern);\nConsole.WriteLine(\"difference: {0}\", difference);\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>ldtOneAm: 3/12/2017 1:00:00 AM\nldtFourAm: 3/12/2017 4:00:00 AM\nperiod: PT3H\n\nzdtOneAmEastern: 2017-03-12T01:00:00 America/New_York (-05)\nzdtFourAmEastern: 2017-03-12T04:00:00 America/New_York (-04)\ndifference: 0:02:00:00\n</code></pre>\n\n<p>We can see a period of three hours, but it doesn't really mean the same as the elapsed time.  It just means the two local values are three hours apart in their position on a clock.  NodaTime understands the difference between these concepts, while .Net's built-in types do not.</p>\n\n<p>Some follow-up reading for you:</p>\n\n<ul>\n<li><a href=\"http://blog.nodatime.org/2011/08/what-wrong-with-datetime-anyway.html\" rel=\"noreferrer\">What's wrong with DateTime anyway?</a></li>\n<li><a href=\"https://codeblog.jonskeet.uk/2012/05/02/more-fun-with-datetime/\" rel=\"noreferrer\">More Fun with DateTime</a></li>\n<li><a href=\"http://codeofmatt.com/2013/04/25/the-case-against-datetime-now/\" rel=\"noreferrer\">The case against DateTime.Now</a></li>\n<li><a href=\"http://codeofmatt.com/2015/03/06/common-daylight-saving-time-mistakes-for-net-developers/\" rel=\"noreferrer\">Five Common Daylight Saving Time Antipatterns of .NET Developers</a></li>\n</ul>\n\n<p>Oh, and one other thing.  Your code has this...</p>\n\n<pre><code>DateTime oneAm = TimeZoneInfo.ConvertTime(new DateTime(2017, 03, 12, 01, 00, 00), easternStandardTime);\n</code></pre>\n\n<p>Since the <code>DateTime</code> you create has unspecified kind, you are asking to convert <em>from your computer's local time zone</em> to Eastern time.  If you happen to be <em>not</em> in Eastern time, your <code>oneAm</code> variable might not be 1 AM at all!</p>\n"}], "owner": {"reputation": 21389, "user_id": 12484, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08f53f1d60bb079c102eb9738f24888d?s=128&d=identicon&r=PG", "display_name": "Jon Schneider", "link": "https://stackoverflow.com/users/12484/jon-schneider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1971, "favorite_count": 2, "accepted_answer_id": 43645275, "answer_count": 3, "score": 4, "last_activity_date": 1493249476, "creation_date": 1493239700, "question_id": 43644252, "link": "https://stackoverflow.com/questions/43644252/why-doesnt-subtracting-two-local-datetime-values-appear-to-account-for-daylight", "title": "Why doesn&#39;t subtracting two local DateTime values appear to account for Daylight Saving Time?", "body": "<p>I'm playing with some C# code to try to gain an understanding of how subtracting DateTime objects in C# works with respect to Daylight Saving Time.</p>\n\n<p>Per Google and other sources, the Daylight Saving Time \"spring ahead\" event in the Eastern Standard Time zone in 2017 was at 2:00am on March 12.  So, the first few hours of the day on that date were:</p>\n\n<pre><code>   12:00am - 1:00am\n    1:00am - 2:00am\n   (There was no 2:00am - 3:00am hour due to the \"spring ahead\")\n    3:00am - 4:00am\n</code></pre>\n\n<p>So, if I were to calculate the time differential between 1:00am and 4:00am in that time zone on that date, I'd expect the result to be <strong>2</strong> hours.</p>\n\n<p>However, the code I put together to try to simulate this problem is returning a <strong>3</strong> hour TimeSpan.</p>\n\n<p>Code:</p>\n\n<pre><code>TimeZoneInfo easternStandardTime = TimeZoneInfo.FindSystemTimeZoneById(\"Eastern Standard Time\");\n\nDateTime oneAm = TimeZoneInfo.ConvertTime(new DateTime(2017, 03, 12, 01, 00, 00), easternStandardTime);\nDateTime fourAm = TimeZoneInfo.ConvertTime(new DateTime(2017, 03, 12, 04, 00, 00), easternStandardTime);\n\nTimeSpan difference = (fourAm - oneAm);\n\nConsole.WriteLine(oneAm);\nConsole.WriteLine(fourAm);\nConsole.WriteLine(TimeZoneInfo.Local.IsDaylightSavingTime(oneAm));\nConsole.WriteLine(TimeZoneInfo.Local.IsDaylightSavingTime(fourAm));\nConsole.WriteLine(difference);\n</code></pre>\n\n<p>On my PC, this generates:</p>\n\n<pre><code>2017-03-12 01:00:00.000 -5\n2017-03-12 04:00:00.000 -4\nFalse\nTrue\n03:00:00\n</code></pre>\n\n<p>All of that output is as expected -- except that final value of 3 hours, which as I noted above, I would expect to be 2 hours instead.</p>\n\n<p>Obviously, my code isn't correctly simulating the situation that I have in mind.  What is the flaw?</p>\n"}, {"tags": ["c#", "wcf", "service", "uwp"], "comments": [{"owner": {"reputation": 197, "user_id": 5566737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5645b3ee7fe0507850a04e2b72ca4892?s=128&d=identicon&r=PG&f=1", "display_name": "Scavenger", "link": "https://stackoverflow.com/users/5566737/scavenger"}, "edited": false, "score": 0, "creation_date": 1493275951, "post_id": 43644166, "comment_id": 74348798, "body": "What do you mean &quot;the service is logged in as the current user&quot;? At first, you said &quot;I do not want to install and run the service on the client&quot;. Then you said &quot;Everything is running on the client machine&quot;. So I&#39;m confused with what you want to do. Could you clarify your specific problem or add additional details to highlight exactly what you need."}, {"owner": {"reputation": 657, "user_id": 727271, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3d4736a67308038e9d5953dd5e85a307?s=128&d=identicon&r=PG", "display_name": "digthewells", "link": "https://stackoverflow.com/users/727271/digthewells"}, "reply_to_user": {"reputation": 197, "user_id": 5566737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5645b3ee7fe0507850a04e2b72ca4892?s=128&d=identicon&r=PG&f=1", "display_name": "Scavenger", "link": "https://stackoverflow.com/users/5566737/scavenger"}, "edited": false, "score": 0, "creation_date": 1493301378, "post_id": 43644166, "comment_id": 74366968, "body": "Sorry.  When I start the windows service as the currently logged on user it works.  When I start the service as local system it does not work because of permissions.  I want to run the service with a local system account, but have all of the calls in the WCF service (running within the windows service) use the locally logged in user to execute.  When I say everything is running on the client machine all calls in the service send and receive data to a local database, no remote database so everything is stored directly on the machine...I thought this might be helpful information.  Thank you."}], "owner": {"reputation": 657, "user_id": 727271, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3d4736a67308038e9d5953dd5e85a307?s=128&d=identicon&r=PG", "display_name": "digthewells", "link": "https://stackoverflow.com/users/727271/digthewells"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493313003, "creation_date": 1493239356, "last_edit_date": 1493313003, "question_id": 43644166, "link": "https://stackoverflow.com/questions/43644166/how-do-i-impersonate-the-logged-in-user-within-a-wcf-service-hosted-in-a-windows", "title": "How do I Impersonate the logged in user within a WCF service hosted in a windows service?", "body": "<p>I have a WCF Service hosted inside of a Windows Service on Windows 10 that makes calls to SQL Server.  I use this service within a UWP application and it works perfectly if the service is logged in as the current user.  However, I do not want to run the service on the client using the client's credentials because they change.  I want to run the service as a local system account and run each operation in the WCF service (running inside the windows service) as the user that is currently logged in to the machine.</p>\n\n<p>Everything is running on the client machine, including the database.  There are no remote calls if that makes any difference.  </p>\n\n<p>I have tried setting <code>impersonateCallerForAllOperations=\"true\"</code> in the WCF Service app.config and/or <code>[OperationBehavior(Impersonation = ImpersonationOption.Required)]</code> in the service file and the windows service will not start with either or these options.</p>\n\n<p>I have not had to implement a system like this before. This is all because I have to use SQL Server as the database in a UWP app. If there is a better way let me know.</p>\n\n<p>If anyone has any idea if this can be done without running the service as the current user I would appreciate it.</p>\n"}, {"tags": ["c#", "singleton", "inversion-of-control", "simple-injector"], "comments": [{"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1493239529, "post_id": 43643984, "comment_id": 74336729, "body": "&quot;we&#39;ve got a bunch of singleton services that are not used for any given operation, and they load with every use... this is annoyingly slow.&quot; This is something you <i>have</i> to elaborate on, because Simple Injector is fast, and creation of classes <a href=\"http://blog.ploeh.dk/2011/03/03/InjectionConstructorsshouldbesimple/\" rel=\"nofollow noreferrer\">should be fast</a>. Why is this slow?"}, {"owner": {"reputation": 19855, "user_id": 610217, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/80e2b03303cbd7c31c63ba90655ef22e?s=128&d=identicon&r=PG", "display_name": "Jeremy Holovacs", "link": "https://stackoverflow.com/users/610217/jeremy-holovacs"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1493239663, "post_id": 43643984, "comment_id": 74336800, "body": "@Steven the singleton classes themselves are slow to instantiate.  Many of them are API consumers, where it collects an authentication token or something from a remote site, or builds a cache internally."}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1493239876, "post_id": 43643984, "comment_id": 74336926, "body": "I would like to (again) refer to <a href=\"http://blog.ploeh.dk/2011/03/03/InjectionConstructorsshouldbesimple/\" rel=\"nofollow noreferrer\">this article</a>. You should do <i>nothing</i> of any computational relevance inside a constructor. If you need to build up a cache, do it lazily: not during construction."}, {"owner": {"reputation": 19855, "user_id": 610217, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/80e2b03303cbd7c31c63ba90655ef22e?s=128&d=identicon&r=PG", "display_name": "Jeremy Holovacs", "link": "https://stackoverflow.com/users/610217/jeremy-holovacs"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 1, "creation_date": 1493240002, "post_id": 43643984, "comment_id": 74336982, "body": "@Steven you&#39;re talking about best practices, and nothing about this chimera represents best practices.  It&#39;s this frankenstein piece of code that&#39;s used <i>everywhere</i>, and we are prohibited from refactoring it out of existence.  I have to work from where I am."}], "answers": [{"comments": [{"owner": {"reputation": 19855, "user_id": 610217, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/80e2b03303cbd7c31c63ba90655ef22e?s=128&d=identicon&r=PG", "display_name": "Jeremy Holovacs", "link": "https://stackoverflow.com/users/610217/jeremy-holovacs"}, "edited": false, "score": 0, "creation_date": 1493239577, "post_id": 43644192, "comment_id": 74336750, "body": "From what I read, this requires me to inject <code>Lazy&lt;IMyService&gt;</code> as the dependency in my singleton classes, which couples my services to SimpleInjector.  Is that not true?"}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 2, "creation_date": 1493239633, "post_id": 43644192, "comment_id": 74336785, "body": "<code>System.Lazy&lt;T&gt;</code> is a .NET class; there&#39;s nothing Simple Injector specific to <code>Lazy&lt;T&gt;</code>."}, {"owner": {"reputation": 19855, "user_id": 610217, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/80e2b03303cbd7c31c63ba90655ef22e?s=128&d=identicon&r=PG", "display_name": "Jeremy Holovacs", "link": "https://stackoverflow.com/users/610217/jeremy-holovacs"}, "edited": false, "score": 1, "creation_date": 1493239756, "post_id": 43644192, "comment_id": 74336857, "body": "I... did not realize this.  I will look into it."}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1493239761, "post_id": 43644192, "comment_id": 74336861, "body": "There are however different reasons why injecting <code>Lazy&lt;T&gt;</code> might be a bad idea. The docs already <a href=\"https://simpleinjector.readthedocs.io/en/latest/howto.html#lazy\" rel=\"nofollow noreferrer\">state</a> &quot;instead of polluting the API of your application with Lazy&lt;T&gt; dependencies, it is usually cleaner to hide the Lazy&lt;T&gt; behind a proxy, as shown in the following example.&quot;. The use of <code>Lazy&lt;T&gt;</code> is a DIP violation, as explained <a href=\"https://stackoverflow.com/a/21724609/264697\">here</a>."}, {"owner": {"reputation": 19855, "user_id": 610217, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/80e2b03303cbd7c31c63ba90655ef22e?s=128&d=identicon&r=PG", "display_name": "Jeremy Holovacs", "link": "https://stackoverflow.com/users/610217/jeremy-holovacs"}, "edited": false, "score": 0, "creation_date": 1493239872, "post_id": 43644192, "comment_id": 74336923, "body": "Indeed.  It had a smell to me, but it&#39;s a lot less knowing it&#39;s a CLR generic.  I had just assumed that it was part of the SimpleInjector library."}, {"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 0, "creation_date": 1493240031, "post_id": 43644192, "comment_id": 74336997, "body": "Yeah, therefore I mentioned the decorator pattern as a second solution. It allows you to either lazily instantiate the service inside the decorator (Steven calls it a proxy) yourself, or to use the <code>Lazy&lt;T&gt;</code> wrapper for this inside the decorator."}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 1, "creation_date": 1493240182, "post_id": 43644192, "comment_id": 74337088, "body": "About Oliver&#39;s update, you can inject a <code>Func&lt;T&gt;</code> into your decorator; they can allow delaying creation as well."}], "tags": [], "owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "is_accepted": true, "score": 5, "last_activity_date": 1493240216, "last_edit_date": 1493240216, "creation_date": 1493239445, "answer_id": 43644192, "question_id": 43643984, "link": "https://stackoverflow.com/questions/43643984/simpleinjector-lazy-instantiate-a-singleton-that-has-dependencies-on-first-u/43644192#43644192", "title": "SimpleInjector - &quot;Lazy&quot; Instantiate a singleton that has dependencies on first use", "body": "<p>SimpleInjector allows you to <a href=\"http://simpleinjector.readthedocs.io/en/latest/howto.html#register-factory-delegates\" rel=\"noreferrer\">register factory delegates</a>.</p>\n\n<pre><code>// From the link above, chapter \"Lazy\"\ncontainer.Register&lt;Lazy&lt;IMyService&gt;&gt;(\n    () =&gt; new Lazy&lt;IMyService&gt;(container.GetInstance&lt;RealService&gt;));\n</code></pre>\n\n<p>Another possibility is to use a <a href=\"https://simpleinjector.readthedocs.io/en/latest/aop.html#decoration\" rel=\"noreferrer\">decorator</a>. SimpleInjector allows you to do this as well. The advantage over the first solution (where you have to call <code>lazyService.Value.DoSomething();</code>) is, that you can make this change transparent. I.e. the decorator implements the service and you can call <code>decoratedService.DoSomething();</code></p>\n"}], "owner": {"reputation": 19855, "user_id": 610217, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/80e2b03303cbd7c31c63ba90655ef22e?s=128&d=identicon&r=PG", "display_name": "Jeremy Holovacs", "link": "https://stackoverflow.com/users/610217/jeremy-holovacs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1326, "favorite_count": 1, "accepted_answer_id": 43644192, "answer_count": 1, "score": 1, "last_activity_date": 1493240216, "creation_date": 1493238624, "question_id": 43643984, "link": "https://stackoverflow.com/questions/43643984/simpleinjector-lazy-instantiate-a-singleton-that-has-dependencies-on-first-u", "title": "SimpleInjector - &quot;Lazy&quot; Instantiate a singleton that has dependencies on first use", "body": "<p>We have a console app that does a lot of different things.  A LOT of different things, and what it does depends on what we pass in as command line parameters.  It was originally built this way so that it only took up one licensed spot in our build server, and I've met with a bunch of resistance when suggesting splitting it out.</p>\n\n<p>This app uses SimpleInjector for IoC... the problem is, we've got a bunch of singleton services that are not used for any given operation, and they load with every use... this is annoyingly slow.  I only want to load the dependencies that are actually used for any given operation.</p>\n\n<p>It looks like there's a lot of documentation around the <code>Lazy&lt;TService&gt;</code>, but in practice it's pretty frustrating.  It seems that Lazy constructor is unaware of the container it's being used in, so it must use a parameterless constructor or a value factory that also seems unaware of the container the dependencies are in.</p>\n\n<p>Is what I want to do possible with SimpleInjector?  I've been playing with all sorts of versions of the Lazy generic but I can't seem to get what I want.</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1493238618, "post_id": 43643901, "comment_id": 74336258, "body": "Scenes cause a lot of headaches because data isn&#39;t <i>supposed</i> to persist across them and doing the things that keep objects loaded introduce their own headaches. Make sure that your Netowrk Manager isn&#39;t being duplicated (or ovewriting the existing instance&#39;s data trying to instantiate)."}, {"owner": {"reputation": 219, "user_id": 7095312, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/04ed2d227318d5846739b5a9b3fbac7f?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Upson", "link": "https://stackoverflow.com/users/7095312/thomas-upson"}, "reply_to_user": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1493239036, "post_id": 43643901, "comment_id": 74336490, "body": "I&#39;ve just got the networkmanager script that unity gives as a component added to an empty gameobject called <i>NETMANAGER</i> and for some reason it keeps everything the same when switching from the lobby to the game but when leaving the game and returning back to the lobby, the HostGame script attached to the networkmanager object turns into one of those blank scripts."}], "answers": [{"tags": [], "owner": {"reputation": 3418, "user_id": 5710651, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/69f58189b58863e69b489c06f45f09c3?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Hilbert", "link": "https://stackoverflow.com/users/5710651/thomas-hilbert"}, "is_accepted": false, "score": 0, "last_activity_date": 1493479308, "creation_date": 1493479308, "answer_id": 43697339, "question_id": 43643901, "link": "https://stackoverflow.com/questions/43643901/unity-c-script-on-network-manager-disabled-on-scene-change-even-with-dontde/43697339#43697339", "title": "Unity (C#) - Script on network manager disabled on scene change even with dontdestroyonload", "body": "<p>If I got you right you have the NetworkManager on a GameObject <code>N</code> in the Lobby scene, with its <code>Dont Destroy On Load</code> property set.\nAlso, you have another GameObject <code>R</code> in the scene which references <code>N</code>.</p>\n\n<p>Now this happens:</p>\n\n<ul>\n<li>Game Starts</li>\n<li>You are in \"Lobby.scene\"</li>\n<li>On Login\n\n<ul>\n<li>Everything in \"Lobby.scene\" except GameObject <code>N</code> (because of DontDestroyOnLoad) is destroyed.</li>\n<li>NetworkManager loads scene \"Game.scene\"</li>\n</ul></li>\n<li>Game runs for a while</li>\n<li>On Logout\n\n<ul>\n<li>Everything in \"Game.scene\" except <code>N</code> (because of DontDestroyOnLoad) is destroyed.</li>\n<li>NetworkManager loads scene \"Lobby.scene\"</li>\n<li>You now have 2 GameObjects <code>N</code> #1 and <code>N</code> #2 with a NetworkManager, as the original was never destroyed, but you also loaded a new instance from \"Lobby.scene\"</li>\n<li><code>R</code> was loaded from \"Lobby.scene\" and references <code>N</code> #2</li>\n<li>NetworkManager #2 executes its <code>Awake()</code>, detects that there already is another NetworkManager, and destroys itself and its GameObject <code>N</code> #2</li>\n<li><code>R</code> now has a Missing reference, as <code>N</code> #2 no longer exists</li>\n</ul></li>\n</ul>\n\n<p>You can verify that this is the problem by setting <code>LogLevel</code> on your NetworkManager to \"Developer\". After returning to the Lobby you should see the following log output in your Console:</p>\n\n<pre><code> Multiple NetworkManagers detected in the scene. Only one NetworkManager can exist at a time. The duplicate NetworkManager will not be used.\n</code></pre>\n\n<p>My solution to this problem usually is not having a NetworkManager in the scene at all, but instantiating it from code on game startup. That way I have full control over its lifetime.</p>\n"}], "owner": {"reputation": 219, "user_id": 7095312, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/04ed2d227318d5846739b5a9b3fbac7f?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Upson", "link": "https://stackoverflow.com/users/7095312/thomas-upson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 865, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493479308, "creation_date": 1493238366, "question_id": 43643901, "link": "https://stackoverflow.com/questions/43643901/unity-c-script-on-network-manager-disabled-on-scene-change-even-with-dontde", "title": "Unity (C#) - Script on network manager disabled on scene change even with dontdestroyonload", "body": "<p>So I added a script called \"HostGame\" to my Network Manager and when the \"Create Lobby\" button is pressed, \"HostGame\" triggers a function that starts a matchmaking match. When I press the leave game button, a different script disconnects me from the match and the game changes back to the lobby scene as it should, however the create lobby button has lost its reference to the host game script even though the Network Manager never went away.</p>\n\n<p>I added an \"OnDisable\" event to \"HostGame\" which wrote to the console when it was disabled and it was the moment I pressed leave game where \"HostGame\" was disabled.</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc-4", "c#-4.0", "razor"], "comments": [{"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1493238889, "post_id": 43643871, "comment_id": 74336399, "body": "7:00pm <i>IS</i> 19:00."}, {"owner": {"reputation": 13, "user_id": 7832038, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2b8ad4f743ff69cf4199953393b03cd3?s=128&d=identicon&r=PG&f=1", "display_name": "user7832038", "link": "https://stackoverflow.com/users/7832038/user7832038"}, "reply_to_user": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1493246693, "post_id": 43643871, "comment_id": 74339845, "body": "Actual answer is 15:00 (3 p.m.) and not 19:00. I am getting the time (19:00) which is local time zone time selected (EST which is 15:00) + UTC time from EST time Zone (which is 4 hours more) and that adds up to 19:00. How can I get rid of UTC time??"}, {"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1493258731, "post_id": 43643871, "comment_id": 74343094, "body": "You would need to go back to 1879 and stop Sir Sanford Fleming from <a href=\"https://en.wikipedia.org/wiki/Time_zone#Worldwide_time_zones\" rel=\"nofollow noreferrer\">proposing a worldwide system of time zones</a>."}], "owner": {"reputation": 13, "user_id": 7832038, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2b8ad4f743ff69cf4199953393b03cd3?s=128&d=identicon&r=PG&f=1", "display_name": "user7832038", "link": "https://stackoverflow.com/users/7832038/user7832038"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493238233, "creation_date": 1493238233, "question_id": 43643871, "link": "https://stackoverflow.com/questions/43643871/starttime-value-is-not-correct-and-adding-utc-time-according-to-timezone-on-top", "title": "Starttime value is not correct and adding UTC time according to TimeZone on Top of what is at the backend field", "body": "<p>In actual code below in view section I am getting FormattedStartTime value at least 4 hours more than what it should be. Like if actual value is 3 p.m. then it is showing 19:00 instead of 15:00. At backend, field value is 3 p.m. and rather than displaying 15:00 on frontend view, it is displaying 19:00.</p>\n\n<p>I think that it is converting backend field value into UTC time first according to TimeZone and then displaying that UTC time on front end. How can I fix this issue?? \nHow can I convert any front end time which is in UTC according to my time zone, back to actual value according to my time zone?? My time zone is EST.</p>\n\n<p>How it can work universally?? People could be sitting in any timezone.</p>\n\n<p>After I debug the Code Start date is coming as 4/13/2017 7:00:00 PM and FormattedStartTime is coming as 19:00.</p>\n\n<p>Model Class:</p>\n\n<pre><code>public DateTime? StartDate { get; set; }\n\npublic string FormattedStartTime =&gt; StartDate?.ToString(\"HH:mm\");\n\npublic bool HideTimestamp { get; set; }\n</code></pre>\n\n<p>Razor View:</p>\n\n<pre><code>if (!Model.HideTimestamp)\n{\n&lt;span&gt;@Model.FormattedStartDate @Model.FormattedStartTime&lt;/span&gt;\n}\n</code></pre>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 2812, "user_id": 714151, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/IeorE.jpg?s=128&g=1", "display_name": "MrZander", "link": "https://stackoverflow.com/users/714151/mrzander"}, "edited": false, "score": 1, "creation_date": 1493238606, "post_id": 43643841, "comment_id": 74336254, "body": "<a href=\"https://github.com/sebastienros/jint\" rel=\"nofollow noreferrer\">github.com/sebastienros/jint</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5144, "user_id": 1262354, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1246662503f962e09f5572bb1d5b7436?s=128&d=identicon&r=PG", "display_name": "Stefano d&#39;Antonio", "link": "https://stackoverflow.com/users/1262354/stefano-dantonio"}, "is_accepted": true, "score": 4, "last_activity_date": 1493238779, "last_edit_date": 1493238779, "creation_date": 1493238393, "answer_id": 43643908, "question_id": 43643841, "link": "https://stackoverflow.com/questions/43643841/how-can-i-execute-javascript-code-in-c-net/43643908#43643908", "title": "How can I execute Javascript code in C# (.NET)", "body": "<p>The <code>Chromium Embedded Framework</code> has <strong>C#</strong> bindings: <code>CefSharp</code></p>\n\n<p>It will run your <strong>JavaScript</strong> and it can work without UI or rendering the result if you need:</p>\n\n<p><a href=\"https://cefsharp.github.io/\" rel=\"nofollow noreferrer\">https://cefsharp.github.io/</a></p>\n\n<p>The FAQ contains a specific answer to your question, too: </p>\n\n<p><a href=\"https://github.com/cefsharp/CefSharp/wiki/Frequently-asked-questions#CallJS\" rel=\"nofollow noreferrer\">https://github.com/cefsharp/CefSharp/wiki/Frequently-asked-questions#CallJS</a></p>\n"}], "owner": {"reputation": 485, "user_id": 3161817, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/yeFIG.png?s=128&g=1", "display_name": "pdube", "link": "https://stackoverflow.com/users/3161817/pdube"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4797, "favorite_count": 1, "closed_date": 1493240075, "accepted_answer_id": 43643908, "answer_count": 1, "score": 3, "last_activity_date": 1493685531, "creation_date": 1493238139, "last_edit_date": 1493685531, "question_id": 43643841, "link": "https://stackoverflow.com/questions/43643841/how-can-i-execute-javascript-code-in-c-net", "closed_reason": "Duplicate", "title": "How can I execute Javascript code in C# (.NET)", "body": "<p>I am exploring the possibilities of Blockly and would like to take the code generated by Blockly, store it in database and run it later. Of course it will not be executed in a View. I understand that Javascript is a client language but is there a way I can execute Javascript code in C#?</p>\n"}, {"tags": ["c#", "oop", "messagebox"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6528852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bb9c2e6f7def44fcf34366027678d01?s=128&d=identicon&r=PG&f=1", "display_name": "Nanyo", "link": "https://stackoverflow.com/users/6528852/nanyo"}, "edited": false, "score": 0, "creation_date": 1493238362, "post_id": 43643756, "comment_id": 74336133, "body": "That makes sense. Thank you! Will change it in a bit. Unfortunately I can&#39;t upvote you yet :/ but thanks anyway"}, {"owner": {"reputation": 33, "user_id": 6528852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bb9c2e6f7def44fcf34366027678d01?s=128&d=identicon&r=PG&f=1", "display_name": "Nanyo", "link": "https://stackoverflow.com/users/6528852/nanyo"}, "edited": false, "score": 0, "creation_date": 1493238724, "post_id": 43643756, "comment_id": 74336313, "body": "I fixed my problem! Thanks a lot!"}], "tags": [], "owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "is_accepted": true, "score": 7, "last_activity_date": 1493237787, "creation_date": 1493237787, "answer_id": 43643756, "question_id": 43643711, "link": "https://stackoverflow.com/questions/43643711/c-message-box-appears-twice/43643756#43643756", "title": "C# message box appears twice", "body": "<p>You are subscribing to the event an additional time each time you click it on this line:  </p>\n\n<pre><code>webBrowser1.DocumentCompleted += GetImg;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6528852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bb9c2e6f7def44fcf34366027678d01?s=128&d=identicon&r=PG&f=1", "display_name": "Nanyo", "link": "https://stackoverflow.com/users/6528852/nanyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 43643756, "answer_count": 1, "score": 0, "last_activity_date": 1493237805, "creation_date": 1493237607, "last_edit_date": 1493237805, "question_id": 43643711, "link": "https://stackoverflow.com/questions/43643711/c-message-box-appears-twice", "title": "C# message box appears twice", "body": "<p>I am trying to do a simple World of Warcraft profile picture \"extractor\". Here is my code:</p>\n\n<pre><code>private void pictureBox1_Click(object sender, EventArgs e)\n{\n    if (textBox4.Text != \"\")\n    {\n        webBrowser1.ScriptErrorsSuppressed = true;\n        webBrowser1.Navigate(\"https://worldofwarcraft.com/en-gb/search?q=\" + textBox4.Text);\n        webBrowser1.DocumentCompleted += GetImg;\n    }\n}\nprivate void GetImg(object sender, WebBrowserDocumentCompletedEventArgs e)\n{\n    string result = \"\";\n    foreach (HtmlElement el in webBrowser1.Document.GetElementsByTagName(\"div\"))\n        if (el.GetAttribute(\"className\") == \"Avatar-image\")\n        {\n            result = (el.OuterHtml).Substring(el.OuterHtml.IndexOf(\"https\"));\n            result = result.Substring(0, result.IndexOf(\")\"));\n            pictureBox1.ImageLocation = result;\n            DialogResult YESNO = MessageBox.Show(\"Is this your character?\", \"Select your char\", MessageBoxButtons.YesNo, MessageBoxIcon.Question);\n            if (YESNO == DialogResult.Yes)\n            {\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The problem is that I click the image once and if the character is the right one I click \"Yes\" and everything is good. However if I click the image a second time the message box will pop up, then I chose my answer BUT the message box pops up again. If I am to click the image a third time, the message box will appear 3 times...\nAny ideas?</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6"], "comments": [{"owner": {"reputation": 13828, "user_id": 4588915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CTCr8.png?s=128&g=1", "display_name": "Jakub Lortz", "link": "https://stackoverflow.com/users/4588915/jakub-lortz"}, "edited": false, "score": 3, "creation_date": 1493237970, "post_id": 43643685, "comment_id": 74335903, "body": "It&#39;s not because of <code>Add</code> or <code>AddRange</code>, it&#39;s because the version with <code>Add</code> was calling <code>db.SaveChanges()</code> for every event. If you move it out of the loop the results should be similar."}], "answers": [{"tags": [], "owner": {"reputation": 9228, "user_id": 5619143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01615deeac61a4ab97c164b94c5e92c4?s=128&d=identicon&r=PG", "display_name": "Jonathan Magnan", "link": "https://stackoverflow.com/users/5619143/jonathan-magnan"}, "is_accepted": true, "score": 20, "last_activity_date": 1534976709, "last_edit_date": 1534976709, "creation_date": 1493295368, "answer_id": 43657561, "question_id": 43643685, "link": "https://stackoverflow.com/questions/43643685/entity-framework-6-dbset-addrange-vs-idbset-add-how-can-addrange-be-so-much-fa/43657561#43657561", "title": "Entity Framework 6 DbSet AddRange vs IDbSet Add - How Can AddRange be so much faster?", "body": "<p>As Jakub answered, calling SaveChanges after every added entity was not helping. But you would still get some performance problems even if you move it out. That will not fix the performance issue caused by the Add method.</p>\n\n<h2>Add vs AddRange</h2>\n\n<p>That's a very common error to use the Add method to add multiple entities. In fact, it's the DetectChanges method that's <strong>INSANELY</strong> slow.</p>\n\n<ul>\n<li>The Add method DetectChanges after every record added.</li>\n<li>The AddRange method DetectChanges after all records are added.</li>\n</ul>\n\n<p>See: <a href=\"http://entityframework.net/improve-ef-add-performance\" rel=\"noreferrer\">Entity Framework - Performance Add</a></p>\n\n<hr>\n\n<blockquote>\n  <p>It is perhaps not SqlBulkCopy fast, but it is still a huge improvement</p>\n</blockquote>\n\n<p>It's possible to get performance VERY close to SqlBulkCopy.</p>\n\n<p><strong>Disclaimer</strong>: I'm the owner of the project <a href=\"http://entityframework-extensions.net/\" rel=\"noreferrer\">Entity Framework Extensions</a></p>\n\n<p><em>(This library is NOT free)</em></p>\n\n<p>This library can make your code more efficient by allowing you to save multiples entities at once. All bulk operations are supported:</p>\n\n<ul>\n<li>BulkSaveChanges</li>\n<li>BulkInsert</li>\n<li>BulkUpdate</li>\n<li>BulkDelete</li>\n<li>BulkMerge</li>\n<li>BulkSynchronize</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>// Easy to use\ncontext.BulkSaveChanges();\n\n// Easy to customize\ncontext.BulkSaveChanges(bulk =&gt; bulk.BatchSize = 100);\n\n// Perform Bulk Operations\ncontext.BulkDelete(customers);\ncontext.BulkInsert(customers);\ncontext.BulkUpdate(customers);\n\n// Customize Primary Key\ncontext.BulkMerge(customers, operation =&gt; {\n   operation.ColumnPrimaryKeyExpression = \n        customer =&gt; customer.Code;\n});\n</code></pre>\n"}], "owner": {"reputation": 36989, "user_id": 3850405, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b2b9eece8c493ba7ddcff82f845ff2af?s=128&d=identicon&r=PG&f=1", "display_name": "Ogglas", "link": "https://stackoverflow.com/users/3850405/ogglas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8511, "favorite_count": 1, "accepted_answer_id": 43657561, "answer_count": 1, "score": 12, "last_activity_date": 1534976709, "creation_date": 1493237465, "question_id": 43643685, "link": "https://stackoverflow.com/questions/43643685/entity-framework-6-dbset-addrange-vs-idbset-add-how-can-addrange-be-so-much-fa", "title": "Entity Framework 6 DbSet AddRange vs IDbSet Add - How Can AddRange be so much faster?", "body": "<p>I was playing around with Entity Framework 6 on my home computer and decided to try out inserting a fairly large amount of rows, around 430k. </p>\n\n<p>My first try looked like this, yes I know it can be better but it was for research anyway:</p>\n\n<pre><code>var watch = System.Diagnostics.Stopwatch.StartNew();\nforeach (var event in group)\n{\n    db.Events.Add(event);\n    db.SaveChanges();\n}\n\nvar dbCount = db.Events.Count(x =&gt; x.ImportInformation.FileName == group.Key);\n\nif (dbCount != group.Count())\n{\n    throw new Exception(\"Mismatch between rows added for file and current number of rows!\");\n}\n\nwatch.Stop();\nConsole.WriteLine($\"Added {dbCount} events to database in {watch.Elapsed.ToString()}\");\n</code></pre>\n\n<p>Started it in the evening and checked back when I got home from work. This was the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UBZoz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UBZoz.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see 64523 events were added in the first 4 hours and 41 minutes but then it got a lot slower and the next 66985 events took 14 hours and 51 minutes. I checked the database and the program was still inserting events but at an extremely low speed. I then decided to try the \"new\" <a href=\"https://msdn.microsoft.com/en-US/library/system.data.entity.dbset.addrange(v=vs.113).aspx\" rel=\"noreferrer\">AddRange</a> method for DbSet.</p>\n\n<p>I switched my models from <code>IDbSet</code> to <code>DbSet</code> and replaced the <code>foreach</code> loop with this:</p>\n\n<pre><code>db.Events.AddRange(group);\ndb.SaveChanges();\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/E07gI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/E07gI.png\" alt=\"enter image description here\"></a></p>\n\n<p>I could now add 60k+ events in around 30 seconds. It is perhaps not <a href=\"https://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlbulkcopy.aspx\" rel=\"noreferrer\">SqlBulkCopy</a> fast but it is still a huge improvement. What is happening under the hood to achieve this? I thought I was gonna check <code>SQL Server Profiler</code> tomorrow for queries but It would be nice with an explanation what happens in code as well.</p>\n"}, {"tags": ["c#", "sql-server", "entity-framework", "database-connection"], "answers": [{"tags": [], "owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "is_accepted": true, "score": 1, "last_activity_date": 1493381678, "last_edit_date": 1493381678, "creation_date": 1493237860, "answer_id": 43643776, "question_id": 43643652, "link": "https://stackoverflow.com/questions/43643652/do-users-have-to-be-associated-with-the-schema-that-app-is-in-in-order-to-use-i/43643776#43643776", "title": "Do users have to be associated with the schema that app is in, in order to use it in an app?", "body": "<p>It looks like you have Windows Authentication. This means, that a user logged into Windows is automatically logged into the database. But this does not mean that this user is automatically allowed to do things in the db. He also must have rights granted.</p>\n\n<p>You can use default roles for this or create your own roles (and attribute them to the users) for more sophisticated scenarios. If you create your own roles, you must grant them rights for all objects these users can use. Example:</p>\n\n<pre><code>GRANT SELECT, INSERT, UPDATE, DELETE ON MyTable TO AdvancedUserRole;\nGRANT SELECT ON CustomersView TO AdvancedUserRole;\n\nGRANT SELECT ON MyTable TO SimpleUserRole;\nGRANT SELECT ON CustomersView TO SimpleUserRole;\n</code></pre>\n\n<p>If you are using default roles, users that are not <code>db_owner</code> need to be at least <code>db_reader</code> and possibly also <code>db_writer</code> if they are allowed to insert/update data.</p>\n"}], "owner": {"reputation": 3319, "user_id": 197791, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/LzPaY.png?s=128&g=1", "display_name": "Rod", "link": "https://stackoverflow.com/users/197791/rod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15, "favorite_count": 0, "accepted_answer_id": 43643776, "answer_count": 1, "score": 0, "last_activity_date": 1493381850, "creation_date": 1493237347, "last_edit_date": 1495542358, "question_id": 43643652, "link": "https://stackoverflow.com/questions/43643652/do-users-have-to-be-associated-with-the-schema-that-app-is-in-in-order-to-use-i", "title": "Do users have to be associated with the schema that app is in, in order to use it in an app?", "body": "<p>I'm having problems making a test user account access the database for a new app we're writing. Whenever I try to run the app I get the following error:</p>\n\n<p>\"The underlying provider failed on Open. Login failed for user OURDOMAIN\\App.Test_User\"</p>\n\n<p>In trying to figure out what's wrong and looking for answers I came across this question posted here: <a href=\"https://stackoverflow.com/questions/3589231/ado-net-connection-string\">ADO.NET Connection String</a>. I then checked the database and found that every one of us on the development team's default schema is our own domain login (not sure what that does) and the database role we're all in adds us to db_owner. Seems to me like we'd have a pass on everything, whereas the user's default schema is dbo. They should at least also have access to the additional schemas our database and app uses. But that referenced article says that the connection string cannot specify the schema. So I'm no sure how we'd get to it using EF. What am I missing here?</p>\n"}, {"tags": ["c#", "sql", "sql-server", "r", "ggplot2"], "comments": [{"owner": {"reputation": 162158, "user_id": 2372064, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vFfVt.jpg?s=128&g=1", "display_name": "MrFlick", "link": "https://stackoverflow.com/users/2372064/mrflick"}, "edited": false, "score": 0, "creation_date": 1493239246, "post_id": 43643568, "comment_id": 74336594, "body": "All the graphics devices seem to require a file path to render a lot and cannot write directly to connections. You&#39;d have to write it to disk, then read the bytes back into R."}], "owner": {"reputation": 165, "user_id": 4925557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aada0439eb10613256faf5dd2c52f710?s=128&d=identicon&r=PG&f=1", "display_name": "innocentunremarkable", "link": "https://stackoverflow.com/users/4925557/innocentunremarkable"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 249, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1493238375, "creation_date": 1493237027, "last_edit_date": 1495541402, "question_id": 43643568, "link": "https://stackoverflow.com/questions/43643568/convert-r-plot-to-binary-byte-array", "title": "Convert R plot to binary/byte array", "body": "<p>I've created a plot in R using ggplot2 (base plot works here too). I'd like to \"convert\" it to binary form and save it in my SQL Server database as a <code>varbinary(max)</code>. Is this clear? Is this possible? </p>\n\n<p>As an analog, in C#, I can accomplish this by creating a Bitmap image, saving it to a <code>MemoryStream</code> object, converting it via <code>ToArray()</code>, then saving it in SQL Server as <code>SqlDbType.Binary</code>. (i.e. this process: <a href=\"https://stackoverflow.com/questions/25400555/save-and-retrieve-image-binary-from-sql-server-using-entity-framework-6\">Save and retrieve image (binary) from SQL Server using Entity Framework 6</a>)</p>\n\n<p>So can I do something like this in R?</p>\n"}, {"tags": ["c#", "jquery", "asp.net-mvc", "bootbox"], "comments": [{"owner": {"reputation": 3789, "user_id": 2547971, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/918f673df604db4f4b9c4a0be2283c1f?s=128&d=identicon&r=PG", "display_name": "Keith", "link": "https://stackoverflow.com/users/2547971/keith"}, "edited": false, "score": 1, "creation_date": 1493237281, "post_id": 43643549, "comment_id": 74335537, "body": "that almost seems like a z-index thing where everything shows up at the same time and its just out of order"}, {"owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "reply_to_user": {"reputation": 3789, "user_id": 2547971, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/918f673df604db4f4b9c4a0be2283c1f?s=128&d=identicon&r=PG", "display_name": "Keith", "link": "https://stackoverflow.com/users/2547971/keith"}, "edited": false, "score": 0, "creation_date": 1493293780, "post_id": 43643549, "comment_id": 74361023, "body": "@Keith so what do you recommend?"}, {"owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "reply_to_user": {"reputation": 3789, "user_id": 2547971, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/918f673df604db4f4b9c4a0be2283c1f?s=128&d=identicon&r=PG", "display_name": "Keith", "link": "https://stackoverflow.com/users/2547971/keith"}, "edited": false, "score": 0, "creation_date": 1493296701, "post_id": 43643549, "comment_id": 74363364, "body": "@Keith in bootstrap.css.. the class for <code>.modal-backdrop</code> has a z-index of 1040"}, {"owner": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "edited": false, "score": 0, "creation_date": 1493609672, "post_id": 43643549, "comment_id": 74471534, "body": "jQuery UI and Bootbox don&#39;t normally play well together, as some of their CSS classes and JavaScript functions clash. I would recommend using one or the other, or checking out <a href=\"http://jquery-ui-bootstrap.github.io/jquery-ui-bootstrap/\" rel=\"nofollow noreferrer\">jQuery UI Bootstrap</a> (although that hasn&#39;t been updated in a while)."}], "answers": [{"tags": [], "owner": {"reputation": 1886, "user_id": 5547573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U3lEB.jpg?s=128&g=1", "display_name": "kblau", "link": "https://stackoverflow.com/users/5547573/kblau"}, "is_accepted": false, "score": 0, "last_activity_date": 1493245813, "creation_date": 1493245813, "answer_id": 43645569, "question_id": 43643549, "link": "https://stackoverflow.com/questions/43643549/jquery-bootbox-screen-is-greyed-out/43645569#43645569", "title": "jquery bootbox screen is greyed out", "body": "<p>This worked for me.  You can try this please:</p>\n\n<p>View:</p>\n\n<pre><code>@{\n    Layout = null;\n}\n\n&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width\" /&gt;\n    &lt;title&gt;Index58&lt;/title&gt;\n    &lt;script src=\"~/Scripts/jquery-1.12.4.min.js\"&gt;&lt;/script&gt;\n    &lt;link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\"&gt;\n    &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"~/Scripts/bootbox.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        $(function () {\n            $(\"#btn\").click(function () {\n                bootbox.confirm(\"This is the default confirm!\",\n                    function (result) {\n                        console.log('This was logged in the callback: ' + result);\n                    });\n            })\n        })\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div&gt;\n        &lt;input type=\"button\" value=\"ShowModal\" id=\"btn\" /&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1213, "user_id": 7714663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ByDL9.jpg?s=128&g=1", "display_name": "this.girish", "link": "https://stackoverflow.com/users/7714663/this-girish"}, "reply_to_user": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "edited": false, "score": 0, "creation_date": 1493296359, "post_id": 43646294, "comment_id": 74363117, "body": "first hide your modal div element. $(&#39;#modalId&#39;).modal(&#39;hide&#39;);"}, {"owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "edited": false, "score": 0, "creation_date": 1493296457, "post_id": 43646294, "comment_id": 74363196, "body": "Where do I put that? Also, I don&#39;t have a modalid.. this modal is created on the fly with bootbox"}, {"owner": {"reputation": 1213, "user_id": 7714663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ByDL9.jpg?s=128&g=1", "display_name": "this.girish", "link": "https://stackoverflow.com/users/7714663/this-girish"}, "reply_to_user": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "edited": false, "score": 0, "creation_date": 1493296701, "post_id": 43646294, "comment_id": 74363363, "body": "share your full code or make jsfiddle so that i can look into it"}, {"owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "edited": false, "score": 0, "creation_date": 1493296735, "post_id": 43646294, "comment_id": 74363391, "body": "when you say full code, do you mean the script that I have already put at the top? or what?"}, {"owner": {"reputation": 1213, "user_id": 7714663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ByDL9.jpg?s=128&g=1", "display_name": "this.girish", "link": "https://stackoverflow.com/users/7714663/this-girish"}, "reply_to_user": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "edited": false, "score": 0, "creation_date": 1493296847, "post_id": 43646294, "comment_id": 74363482, "body": "your html and scripts associated with your modal pop up"}, {"owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "edited": false, "score": 0, "creation_date": 1493297482, "post_id": 43646294, "comment_id": 74363995, "body": "I created a test <a href=\"https://jsfiddle.net/mq3qhgrg/\" rel=\"nofollow noreferrer\">jsfiddle</a>.. when you click &#39;Delete&#39; everything else becomes un-selectable.. but you don&#39;t see the modal for some reason"}, {"owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "edited": false, "score": 0, "creation_date": 1493297700, "post_id": 43646294, "comment_id": 74364184, "body": "Okay, I just updated the <a href=\"https://jsfiddle.net/7m5rwou1/\" rel=\"nofollow noreferrer\">fiddle</a>.. and it&#39;s working appropriately"}, {"owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "edited": false, "score": 0, "creation_date": 1493298433, "post_id": 43646294, "comment_id": 74364721, "body": "I fixed it, in my css, i just changed the z-index to 0 for <code>.modal-bootstrap</code>"}], "tags": [], "owner": {"reputation": 1213, "user_id": 7714663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ByDL9.jpg?s=128&g=1", "display_name": "this.girish", "link": "https://stackoverflow.com/users/7714663/this-girish"}, "is_accepted": true, "score": 2, "last_activity_date": 1493250406, "last_edit_date": 1493250406, "creation_date": 1493249939, "answer_id": 43646294, "question_id": 43643549, "link": "https://stackoverflow.com/questions/43643549/jquery-bootbox-screen-is-greyed-out/43646294#43646294", "title": "jquery bootbox screen is greyed out", "body": "<p>please do inspect element check out classes applied to modal and main body in your page,i'm pretty sure this is because modal-backdrop active and stucked\nhere are few things you can do</p>\n\n<p>1) just add data-dismiss=\"modal\" to button</p>\n\n<p>2)If modal hide or visible, faded background is remained and does not let you click any where you can forcefully remove those by using below piece of code.</p>\n\n<p>first hide your modal div element.</p>\n\n<pre><code>$('modalId').modal('hide');\n</code></pre>\n\n<p>secondly remove 'modal-open' class from body and '.modal-backdrop' at the end of the page.</p>\n\n<pre><code>$('body').removeClass('modal-open');\n$('.modal-backdrop').remove();\n</code></pre>\n"}], "owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "accepted_answer_id": 43646294, "answer_count": 2, "score": 0, "last_activity_date": 1493294503, "creation_date": 1493236959, "last_edit_date": 1493294503, "question_id": 43643549, "link": "https://stackoverflow.com/questions/43643549/jquery-bootbox-screen-is-greyed-out", "title": "jquery bootbox screen is greyed out", "body": "<p>I am using <code>bootbox.confirm</code> with an ajax call, and I get the confirm box, but my screen is greyed out and I'm unable to select anything.</p>\n\n<p>Here is what it looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EwoXx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EwoXx.png\" alt=\"enter image description here\"></a></p>\n\n<p>My first thought is that maybe my scripts are referenced wrong in <code>_Layout</code>, but I'm not sure:</p>\n\n<pre><code>@Styles.Render(\"~/Content/css\")\n@Scripts.Render(\"~/bundles/modernizr\")\n@Scripts.Render(\"~/bundles/jquery\")\n@Scripts.Render(\"~/bundles/bootstrap\")\n</code></pre>\n\n<p><strong>Bundles</strong></p>\n\n<pre><code>bundles.Add(new ScriptBundle(\"~/bundles/jquery\").Include(\n    \"~/Scripts/jquery-{version}.js\",\n    \"~/Scripts/moment.js\",\n    \"~/Scripts/bootstrap-datetimepicker.js\",\n    \"~/Scripts/jquery-ui.js\",\n    \"~/Scripts/Scripts.js\"\n);\n\nbundles.Add(new ScriptBundle(\"~/bundles/bootstrap\").Include(\n    \"~/Scripts/bootstrap.js\",\n    \"~/Scripts/bootbox.js\",\n    \"~/Scripts/respond.js\"));\n</code></pre>\n\n<p>When inspecting here is what I have:</p>\n\n<pre><code>&lt;body class=\"modal-open\"&gt;\n\n&lt;div class=\"modal-backdrop fade in\"&gt;&lt;/div&gt;\n&lt;div class=\"modal-dialog\"&gt;...&lt;/div&gt;\n</code></pre>\n\n<p>Here is my script:</p>\n\n<pre><code>$(document).ready(function () {\n\n    var table = $(\"#Table\").DataTable();\n\n    $(\"#Table.js-delete\").on(\"click\",\n        function () {\n\n            var link = $(this);\n            $(\"body\").removeClass(\"modal-open\");\n\n\n            bootbox.confirm(\"Are you sure you want to delete this?\",\n                function (result) {\n\n                    $(\".modal-backdrop\").remove();\n                    if (result) {\n                        $.ajax({\n                            url: \"/api/Informations/\" + $(this).attr(\"data-id\"),\n                            method: \"DELETE\",\n                            success: function () {\n                                table.row(link.parents(\"tr\")).remove().draw();\n                                link.parents(\"tr\").remove();\n                            }\n                        });\n                    }\n                });\n\n\n            });\n    });\n</code></pre>\n"}, {"tags": ["c#", "json", "xaml", "xamarin.forms", "json-deserialization"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 1, "creation_date": 1493237023, "post_id": 43643507, "comment_id": 74335406, "body": "your json array [] is contained within an object {} - so there is a mismatch between your json and what you&#39;re trying to deserialize into.  You need to fix one or the other so they both match."}, {"owner": {"reputation": 125, "user_id": 1288622, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e41f9992261086286b7edccbf829b762?s=128&d=identicon&r=PG", "display_name": "PeterG", "link": "https://stackoverflow.com/users/1288622/peterg"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1493238772, "post_id": 43643507, "comment_id": 74336334, "body": "Thank you Jason. I changed the structure and was able to deserialize and bind with no problem. I have spent weeks trying to figure this out so thank you."}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 1288622, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e41f9992261086286b7edccbf829b762?s=128&d=identicon&r=PG", "display_name": "PeterG", "link": "https://stackoverflow.com/users/1288622/peterg"}, "edited": false, "score": 0, "creation_date": 1493238803, "post_id": 43643624, "comment_id": 74336354, "body": "I don&#39;t really understand what this means, but I am very interested. Do you know where documentation would be for this?"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1493239286, "post_id": 43643624, "comment_id": 74336616, "body": "this basically the same thing I recommended - it parses the data into a generic json container, extracts just the array, and then deserializes it"}], "tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": false, "score": 0, "last_activity_date": 1493239624, "last_edit_date": 1493239624, "creation_date": 1493237247, "answer_id": 43643624, "question_id": 43643507, "link": "https://stackoverflow.com/questions/43643507/unable-to-deserialize-json-into-an-observablecollection-and-bind-to-xaml-in-xama/43643624#43643624", "title": "Unable to Deserialize json into an ObservableCollection and bind to xaml in Xamarin.Forms", "body": "<p><code>alerts</code> are nested under a root object, hence why you can't deserialize it directly.</p>\n\n<p>But, you can try this:</p>\n\n<pre><code>JObject.Parse(content)\n    .SelectToken(\"alerts\")\n    .ToObject&lt;ObservableCollection&lt;Alert&gt;&gt;();\n</code></pre>\n\n<hr>\n\n<p>This should help you understand the problem:\n<a href=\"https://i.stack.imgur.com/ikTlJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ikTlJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>The json that you have is like <code>RootObjectWithNestedNumberList</code>, but you were trying to deserialize it as a <code>SimpleNumberList</code>. Obviously, it wasn't going to work.</p>\n"}], "owner": {"reputation": 125, "user_id": 1288622, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e41f9992261086286b7edccbf829b762?s=128&d=identicon&r=PG", "display_name": "PeterG", "link": "https://stackoverflow.com/users/1288622/peterg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 517, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1493267043, "creation_date": 1493236807, "last_edit_date": 1493267043, "question_id": 43643507, "link": "https://stackoverflow.com/questions/43643507/unable-to-deserialize-json-into-an-observablecollection-and-bind-to-xaml-in-xama", "title": "Unable to Deserialize json into an ObservableCollection and bind to xaml in Xamarin.Forms", "body": "<p>I am trying to deserialize simple json to an ObservableCollection. When I set a breakpoint for the Deserialization nothing seems to happen. The method never completes and it doesn't throw an error. I am able to get the json and convert to a string, just not deserialize to an ObservableCollection.</p>\n\n<p>Am I missing something? I have looked at every code example I could find for deserializing to an object and can't seem to make it work.</p>\n\n<p>This is the code for my Xamarin.Forms page.</p>\n\n<pre><code>public partial class Notification : ContentPage\n{\n    public Notification()\n    {\n        InitializeComponent();\n        this.BindingContext = NotificationData();\n    }\n\n    public async Task NotificationData()\n    {\n        ObservableCollection&lt;Alert&gt; notification = await GetAlert();\n        NotificationList.ItemsSource = notification;\n    }\n    public static async Task&lt;ObservableCollection&lt;Alert&gt;&gt; GetAlert()\n    {\n        string WPPosts = \"https://www.url.com/alerts.json\";\n        HttpClient client = new HttpClient();\n        var response = await client.GetAsync(WPPosts).ConfigureAwait(false);\n\n        if (response != null)\n        {\n            ObservableCollection&lt;Alert&gt; data = new ObservableCollection&lt;Alert&gt;();\n            string content = response.Content.ReadAsStringAsync().Result;\n            //string content_sanitized = RemoveHTMLTags(content);\n            data = JsonConvert.DeserializeObject&lt;ObservableCollection&lt;Alert&gt;&gt;(content);\n            return data;\n        }\n        else { return null; }\n    }\n    public class Alert\n    {\n        public string title { get; set; }\n        public string imgUrl { get; set; }\n        public string content { get; set; }\n    }\n\n    public class RootObject\n    {\n        public List&lt;Alert&gt; alerts { get; set; }\n    }\n}\n</code></pre>\n\n<p>This is my Xaml.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;ContentPage xmlns=\"http://xamarin.com/schemas/2014/forms\" Title=\"News \nand Alerts\" xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\" \nx:Class=\"JenksTrash.Notification\" xmlns:local=\"clr-\nnamespace:JenksTrash\" &gt;\n&lt;ListView x:Name=\"NotificationList\"&gt;\n    &lt;ListView.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;ViewCell&gt;\n                &lt;Grid&gt;\n                    &lt;Grid.ColumnDefinitions&gt;\n                        &lt;ColumnDefinition Width=\"1\" /&gt;\n                        &lt;ColumnDefinition Width=\"7*\" /&gt;\n                    &lt;/Grid.ColumnDefinitions&gt;\n                        &lt;Label Text=\"{Binding title}\" FontAttributes=\"Bold\" /&gt;\n                        &lt;Label Text=\"{Binding content}\" FontAttributes=\"Bold\" /&gt;\n                    &lt;/Grid&gt;\n            &lt;/ViewCell&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/ListView.ItemTemplate&gt;\n&lt;/ListView&gt;\n</code></pre>\n\n<p></p>\n\n<p>Any help understanding this would be amazing.</p>\n"}, {"tags": ["c#", "entity-framework-6", "hierarchy"], "comments": [{"owner": {"reputation": 896, "user_id": 7912895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1ebbc42dba5b9d9ad985deb30bd69ad?s=128&d=identicon&r=PG&f=1", "display_name": "nocodename", "link": "https://stackoverflow.com/users/7912895/nocodename"}, "edited": false, "score": 0, "creation_date": 1493239025, "post_id": 43643481, "comment_id": 74336481, "body": "Can you share example of how are you adding new rows to <code>OrgStructure</code> table?"}, {"owner": {"reputation": 6512, "user_id": 2238791, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/22e9c60b9c05421e69c0c02d4ad88edc?s=128&d=identicon&r=PG", "display_name": "Pankaj Kapare", "link": "https://stackoverflow.com/users/2238791/pankaj-kapare"}, "reply_to_user": {"reputation": 896, "user_id": 7912895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1ebbc42dba5b9d9ad985deb30bd69ad?s=128&d=identicon&r=PG&f=1", "display_name": "nocodename", "link": "https://stackoverflow.com/users/7912895/nocodename"}, "edited": false, "score": 0, "creation_date": 1493239291, "post_id": 43643481, "comment_id": 74336620, "body": "@nocodename : I have manually populated table and just trying to retrieve existing data using DbContext."}, {"owner": {"reputation": 896, "user_id": 7912895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1ebbc42dba5b9d9ad985deb30bd69ad?s=128&d=identicon&r=PG&f=1", "display_name": "nocodename", "link": "https://stackoverflow.com/users/7912895/nocodename"}, "edited": false, "score": 0, "creation_date": 1493239950, "post_id": 43643481, "comment_id": 74336958, "body": "Something I&#39;ve just noticed - should <code>Id</code> property be set as <code>IsOptional()</code> ? Have you tried map it as required with <code>Computed</code> DatabaseGeneratedOption?"}, {"owner": {"reputation": 6512, "user_id": 2238791, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/22e9c60b9c05421e69c0c02d4ad88edc?s=128&d=identicon&r=PG", "display_name": "Pankaj Kapare", "link": "https://stackoverflow.com/users/2238791/pankaj-kapare"}, "reply_to_user": {"reputation": 896, "user_id": 7912895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1ebbc42dba5b9d9ad985deb30bd69ad?s=128&d=identicon&r=PG&f=1", "display_name": "nocodename", "link": "https://stackoverflow.com/users/7912895/nocodename"}, "edited": false, "score": 0, "creation_date": 1493240243, "post_id": 43643481, "comment_id": 74337114, "body": "@nocodename: Sorry IsOptional() was there by mistake. I was trying something else. Updated question."}, {"owner": {"reputation": 896, "user_id": 7912895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1ebbc42dba5b9d9ad985deb30bd69ad?s=128&d=identicon&r=PG&f=1", "display_name": "nocodename", "link": "https://stackoverflow.com/users/7912895/nocodename"}, "edited": false, "score": 0, "creation_date": 1493244307, "post_id": 43643481, "comment_id": 74338994, "body": "Can you provide me with your code to get data?"}, {"owner": {"reputation": 6512, "user_id": 2238791, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/22e9c60b9c05421e69c0c02d4ad88edc?s=128&d=identicon&r=PG", "display_name": "Pankaj Kapare", "link": "https://stackoverflow.com/users/2238791/pankaj-kapare"}, "reply_to_user": {"reputation": 896, "user_id": 7912895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1ebbc42dba5b9d9ad985deb30bd69ad?s=128&d=identicon&r=PG&f=1", "display_name": "nocodename", "link": "https://stackoverflow.com/users/7912895/nocodename"}, "edited": false, "score": 0, "creation_date": 1493245623, "post_id": 43643481, "comment_id": 74339490, "body": "@nocodename: Updated question with required details."}, {"owner": {"reputation": 896, "user_id": 7912895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1ebbc42dba5b9d9ad985deb30bd69ad?s=128&d=identicon&r=PG&f=1", "display_name": "nocodename", "link": "https://stackoverflow.com/users/7912895/nocodename"}, "edited": false, "score": 0, "creation_date": 1493245849, "post_id": 43643481, "comment_id": 74339567, "body": "Have you tried skipping <code>Take()</code> method? Maybe fork doesn&#39;t implement it? One way or another, I don&#39;t have any other idea of how to help you :( I suggest addressing the question to the fork author. Sorry :/"}], "answers": [{"comments": [{"owner": {"reputation": 6512, "user_id": 2238791, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/22e9c60b9c05421e69c0c02d4ad88edc?s=128&d=identicon&r=PG", "display_name": "Pankaj Kapare", "link": "https://stackoverflow.com/users/2238791/pankaj-kapare"}, "edited": false, "score": 0, "creation_date": 1493239209, "post_id": 43644090, "comment_id": 74336576, "body": "Tried setting it to Computed but didn&#39;t help."}], "tags": [], "owner": {"reputation": 3794, "user_id": 7614076, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2273909efe93ebcc8a6cdf7b8f5f4a27?s=128&d=identicon&r=PG&f=1", "display_name": "Akos Nagy", "link": "https://stackoverflow.com/users/7614076/akos-nagy"}, "is_accepted": false, "score": 0, "last_activity_date": 1493239034, "creation_date": 1493239034, "answer_id": 43644090, "question_id": 43643481, "link": "https://stackoverflow.com/questions/43643481/entity-framework-6-1-3-hierarchy-id-not-working/43644090#43644090", "title": "Entity Framework 6.1.3 Hierarchy id not working", "body": "<p>Have you tried using using <code>Computed</code> as the <code>DatabaseGeneratedOption</code> instead of <code>None</code>?</p>\n"}, {"tags": [], "owner": {"reputation": 6512, "user_id": 2238791, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/22e9c60b9c05421e69c0c02d4ad88edc?s=128&d=identicon&r=PG", "display_name": "Pankaj Kapare", "link": "https://stackoverflow.com/users/2238791/pankaj-kapare"}, "is_accepted": true, "score": 1, "last_activity_date": 1493335382, "creation_date": 1493335382, "answer_id": 43669452, "question_id": 43643481, "link": "https://stackoverflow.com/questions/43643481/entity-framework-6-1-3-hierarchy-id-not-working/43669452#43669452", "title": "Entity Framework 6.1.3 Hierarchy id not working", "body": "<p>I figured it out. Actually error message is bit misleading. When I removed \"Level\" property from entity definition and mapping it worked like charm. It was breaking because Level column is defined as computed column which auto picks smallint as datatype whereas in entity definition its type is int. </p>\n"}], "owner": {"reputation": 6512, "user_id": 2238791, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/22e9c60b9c05421e69c0c02d4ad88edc?s=128&d=identicon&r=PG", "display_name": "Pankaj Kapare", "link": "https://stackoverflow.com/users/2238791/pankaj-kapare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1235, "favorite_count": 0, "accepted_answer_id": 43669452, "answer_count": 2, "score": 2, "last_activity_date": 1553846746, "creation_date": 1493236712, "last_edit_date": 1493245590, "question_id": 43643481, "link": "https://stackoverflow.com/questions/43643481/entity-framework-6-1-3-hierarchy-id-not-working", "title": "Entity Framework 6.1.3 Hierarchy id not working", "body": "<p>I am trying to use SQL server HierarchyId data type with Entity Framework. Since entity framework doesn't have support for HierarchyId data type I am using Entity Framework fork which has hierarchyid support:\n<a href=\"https://entityframework.codeplex.com/SourceControl/network/forks/zgabi/EfHierarchyId/latest\" rel=\"nofollow noreferrer\">https://entityframework.codeplex.com/SourceControl/network/forks/zgabi/EfHierarchyId/latest</a></p>\n\n<p>DB Table is as follows:</p>\n\n<pre><code>CREATE TABLE OrgStructure(\n    [Id] [hierarchyid] NOT NULL,\n    [Level]  AS ([Id].[GetLevel]()),\n    [NodeId] [int] IDENTITY(1,1) NOT NULL,\n    [Title] [varchar](50) NULL)\n</code></pre>\n\n<p>My Entity which uses HierarchyId data type is defined follows:</p>\n\n<pre><code>public class OrgStructure\n{        \n    public HierarchyId  Id { get; set; }\n    public Nullable&lt;int&gt; Level { get; set; }\n    public int NodeId { get; set; }\n    public string Title { get; set; }\n}\n</code></pre>\n\n<p>and EntityFramework Mapping configuration is defined as:</p>\n\n<pre><code>public class OrgStructureMapping: EntityTypeConfiguration&lt;OrgStructure&gt;\n{\n    public OrgStructureMapping()\n    {\n        // Primary Key\n        this.HasKey(t =&gt; t.Id);\n\n        // Properties\n        this.Property(t =&gt; t.Id)\n            .HasColumnType(\"hierarchyId\")\n            .HasDatabaseGeneratedOption(DatabaseGeneratedOption.Computed);\n\n        this.Property(t =&gt; t.NodeId)\n            .HasDatabaseGeneratedOption(DatabaseGeneratedOption.Identity);\n\n        this.Property(t =&gt; t.Title)\n            .HasMaxLength(50);\n\n        // Table &amp; Column Mappings\n        this.ToTable(\"OrgStructure\");\n        this.Property(t =&gt; t.Id).HasColumnName(\"Id\");\n        this.Property(t =&gt; t.Level).HasColumnName(\"Level\");\n        this.Property(t =&gt; t.NodeId).HasColumnName(\"NodeId\");\n        this.Property(t =&gt; t.Title).HasColumnName(\"Title\");\n    }\n}\n</code></pre>\n\n<p>DBContext is as follows:</p>\n\n<pre><code>public partial class VisibilityHierarchyDBContext : DbContext\n{\n\n    public virtual DbSet&lt;OrgStructure&gt; OrgStructure { get; set; }\n\n    public VisibilityHierarchyDBContext(string nameOrConnectionString)\n    : base(nameOrConnectionString)\n    {\n    }\n\n    protected override void OnModelCreating(DbModelBuilder modelBuilder)\n    {\n        modelBuilder.Configurations.Add(new OrgStructureMapping());            \n    }\n}\n</code></pre>\n\n<p>Registered DbContext in startup.cs as follows</p>\n\n<pre><code>public void ConfigureServices(IServiceCollection services)\n    {\n        services.AddScoped&lt;VisibilityHierarchyDBContext&gt;((s) =&gt; new VisibilityHierarchyDBContext(Configuration.GetConnectionString(\"VisibilityDB\")));\n\n        // Add framework services.\n        services.AddMvc();\n    }\n</code></pre>\n\n<p>Using DBContext as follows:</p>\n\n<pre><code>public class HomeController : Controller\n{\n    VisibilityHierarchyDBContext context;\n    public HomeController(VisibilityHierarchyDBContext context)\n    {\n        this.context = context;\n    }\n    public IActionResult Index()\n    {\n        var o = context.OrgStructure.Take(5).ToList();  /* Exception is  thrown here */\n\n        return View();\n    }\n }\n</code></pre>\n\n<p>I am getting following error in Index action shown above:</p>\n\n<blockquote>\n  <p>The 'Id' property on 'OrgStructure' could not be set to a\n  'Microsoft.SqlServer.Types.SqlHierarchyId' value. You must set this\n  property to a non-null value of type\n  'System.Data.Entity.Hierarchy.HierarchyId'.</p>\n</blockquote>\n\n<p>Any help to resolve this error is much appreciated. </p>\n"}, {"tags": ["c#", "mysql", "sql", "entity-framework"], "answers": [{"comments": [{"owner": {"reputation": 521, "user_id": 6388133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-SXZ5vceuH2w/AAAAAAAAAAI/AAAAAAAAB8Y/nkYNFjYTeB0/photo.jpg?sz=128", "display_name": "robotHamster", "link": "https://stackoverflow.com/users/6388133/robothamster"}, "edited": false, "score": 0, "creation_date": 1493239924, "post_id": 43643878, "comment_id": 74336945, "body": "Thank you! I will take a look at the blog post tonight and see how it can help me:)"}], "tags": [], "owner": {"reputation": 25, "user_id": 6782951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce340a6856f206ba2c1a228282e3142a?s=128&d=identicon&r=PG&f=1", "display_name": "SImonThrane", "link": "https://stackoverflow.com/users/6782951/simonthrane"}, "is_accepted": false, "score": 1, "last_activity_date": 1493238271, "creation_date": 1493238271, "answer_id": 43643878, "question_id": 43643427, "link": "https://stackoverflow.com/questions/43643427/entity-framework-select-from-user-specified-table/43643878#43643878", "title": "Entity Framework select from user specified table", "body": "<p>First of all a simple improvement is to use db.apples.Find(id) instead og db.Single(x=>x.id==id). Find is faster when you have the id.</p>\n\n<p>You can use a generic Repository to mmake calls to the Database. \nThis article <a href=\"http://www.tugberkugurlu.com/archive/generic-repository-pattern-entity-framework-asp-net-mvc-and-unit-testing-triangle\" rel=\"nofollow noreferrer\">http://www.tugberkugurlu.com/archive/generic-repository-pattern-entity-framework-asp-net-mvc-and-unit-testing-triangle</a> gives a fine explanation of the content.</p>\n"}, {"comments": [{"owner": {"reputation": 521, "user_id": 6388133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-SXZ5vceuH2w/AAAAAAAAAAI/AAAAAAAAB8Y/nkYNFjYTeB0/photo.jpg?sz=128", "display_name": "robotHamster", "link": "https://stackoverflow.com/users/6388133/robothamster"}, "edited": false, "score": 0, "creation_date": 1493246365, "post_id": 43644336, "comment_id": 74339747, "body": "Would that not still require me to specify the table in code? I mean that in a sense where I will have to go through and compare the string and call the function with the correct DBSet depending on what the string fetched from UI says?  It does significantly reduce the amount of duplicated code"}, {"owner": {"reputation": 521, "user_id": 6388133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-SXZ5vceuH2w/AAAAAAAAAAI/AAAAAAAAB8Y/nkYNFjYTeB0/photo.jpg?sz=128", "display_name": "robotHamster", "link": "https://stackoverflow.com/users/6388133/robothamster"}, "edited": false, "score": 0, "creation_date": 1493247044, "post_id": 43644336, "comment_id": 74339981, "body": "Actually, I just tried implementing it and it does a good job of reducing the code for me! Thanks a lot!"}], "tags": [], "owner": {"reputation": 1248, "user_id": 2616741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afe6f38fb256637ed91e17e820a7d3cf?s=128&d=identicon&r=PG", "display_name": "Ruben Vardanyan", "link": "https://stackoverflow.com/users/2616741/ruben-vardanyan"}, "is_accepted": true, "score": 1, "last_activity_date": 1493240041, "creation_date": 1493240041, "answer_id": 43644336, "question_id": 43643427, "link": "https://stackoverflow.com/questions/43643427/entity-framework-select-from-user-specified-table/43644336#43644336", "title": "Entity Framework select from user specified table", "body": "<p>You can have an interface called for example <code>IExpirationDate</code> which looks like the following </p>\n\n<pre><code>public interface IExpirationDate\n{\n    DateTime ExpirationDate { get; set; }\n}\n</code></pre>\n\n<p>Your classes with <code>ExpirationDate</code> must implement <code>IExpirationDate</code>, for example</p>\n\n<pre><code>public class Orange : IExpirationDate\n{\n    //Other properties of the class\n\n    public DateTime ExpirationDate { get; set; } //Property from interface\n}\n</code></pre>\n\n<p>When all the required classes implementing <code>IExpirationDate</code> interface you can have one generic method to get the expiration date for any of them, which will look like this</p>\n\n<pre><code>public static DateTime GetExpirationDate&lt;T&gt;(long id) \n        where T : class, IExpirationDate\n{\n    using(var db = new myContext())\n    {\n        var entry = db.Set&lt;T&gt;.Find(id);\n        return entry.ExpirationDate;\n    }\n}\n</code></pre>\n\n<p>Now, to get the expiration date for the <code>Orange</code> class you can just call</p>\n\n<pre><code>var expirationDate = GetExpirationDate&lt;Orange&gt;(id);\n</code></pre>\n"}], "owner": {"reputation": 521, "user_id": 6388133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-SXZ5vceuH2w/AAAAAAAAAAI/AAAAAAAAB8Y/nkYNFjYTeB0/photo.jpg?sz=128", "display_name": "robotHamster", "link": "https://stackoverflow.com/users/6388133/robothamster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 43644336, "answer_count": 2, "score": 0, "last_activity_date": 1493240041, "creation_date": 1493236528, "question_id": 43643427, "link": "https://stackoverflow.com/questions/43643427/entity-framework-select-from-user-specified-table", "title": "Entity Framework select from user specified table", "body": "<p>I've looked around on this topic for a while now, but I couldn't find an answer that I actually understood (or someone asking about something close enough).</p>\n\n<p><strong>Problem Description:</strong>\nI have a database with multiple tables, say <code>apples</code>, <code>oranges</code>, and <code>bananas</code>. That have a bunch of information under each. One of those properties is common, let's say <code>expirationDate</code>.</p>\n\n<p>I need the user to be able to query the expiration date of one of those (for example, <code>apple</code> with <code>id=1</code>)</p>\n\n<p>The user can choose all of this in a GUI (a combo box with the table names and a textbox for <code>id</code>)</p>\n\n<p><strong>What I have so far:</strong>\nIn the background code/business logic, I have the following</p>\n\n<pre><code>.\n.\n.\nif(tableName.Equals(\"apples\"))\n  {\n      DateTime expDate = getAppleDetails(id)\n  }\nif(tableName.Equals(\"oranges\"))\n  {\n    //call function to select the single orangeEntry and do the rest\n  }\n\n}\nDateTime getAppleDetails(long id)\n{\n   using(var db = new myContext())\n   {\n     var appleEntry = db.apples.Single(x=&gt;x.id==id);\n     return appleEntry.ExpDate\n   }\n}\n</code></pre>\n\n<p><strong>What I'm looking for:</strong>\nThe above code shows you how with a larger sized database, I'll end having to duplicate A LOT of code. What's a better way of doing this in the same query?\nSomething like <code>db.TableNameHere.Single(x=&gt; x.id == id)</code> ?</p>\n"}, {"tags": ["c#", "botframework"], "answers": [{"comments": [{"owner": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "edited": false, "score": 0, "creation_date": 1493286255, "post_id": 43645025, "comment_id": 74355709, "body": "Was this useful?"}, {"owner": {"reputation": 13, "user_id": 7621546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed8e75e36d96dea35b7955eb28078ec?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando", "link": "https://stackoverflow.com/users/7621546/fernando"}, "edited": false, "score": 0, "creation_date": 1493293555, "post_id": 43645025, "comment_id": 74360843, "body": "Many many thanks, thats what I had missing, I tried before but needed System.Collections.Generic. Nothing like having this done first thing in the morning. Thank you !"}], "tags": [], "owner": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "is_accepted": true, "score": 1, "last_activity_date": 1493243019, "creation_date": 1493243019, "answer_id": 43645025, "question_id": 43643411, "link": "https://stackoverflow.com/questions/43643411/microsoft-bot-framework-and-attachments/43645025#43645025", "title": "Microsoft Bot Framework and attachments", "body": "<p>You need to initialize the <code>Attachments</code> list before adding the attachment.</p>\n\n<pre><code>reply.Attachments = new List&lt;Attachment&gt;();\nreply.Attachments.Add(attachment);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "edited": false, "score": 1, "creation_date": 1493286752, "post_id": 43651271, "comment_id": 74356047, "body": "Based on his code he is not doing this in the context of a dialog. So he don&#39;t have access to the dialog context."}], "tags": [], "owner": {"reputation": 848, "user_id": 7739945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2d696b738736bb5af8082f83ad929dd6?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Swager", "link": "https://stackoverflow.com/users/7739945/bob-swager"}, "is_accepted": false, "score": 1, "last_activity_date": 1493278122, "creation_date": 1493278122, "answer_id": 43651271, "question_id": 43643411, "link": "https://stackoverflow.com/questions/43643411/microsoft-bot-framework-and-attachments/43651271#43651271", "title": "Microsoft Bot Framework and attachments", "body": "<p>According to previous answer :</p>\n\n<p>If you want to reply without list of attachments you have to create something like this : </p>\n\n<pre><code>var msg = context.MakeMessage();\nmsg.Text = \"some text for your attachment\";\nmsg.Attachments.Add(att);\nawait context.PostAsync(msg);\n</code></pre>\n\n<p>You must have some text into reply message. Otherwise, it gives no error but not showing the message.\nI test it this way and it works.\nHope this will help you :)</p>\n"}], "owner": {"reputation": 13, "user_id": 7621546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed8e75e36d96dea35b7955eb28078ec?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando", "link": "https://stackoverflow.com/users/7621546/fernando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 873, "favorite_count": 1, "accepted_answer_id": 43645025, "answer_count": 2, "score": 1, "last_activity_date": 1493316343, "creation_date": 1493236481, "last_edit_date": 1493316343, "question_id": 43643411, "link": "https://stackoverflow.com/questions/43643411/microsoft-bot-framework-and-attachments", "title": "Microsoft Bot Framework and attachments", "body": "<p>I have a bot that works perfect but when I try to include attachments gives me Internal Server Error, what am I doing wrong? I use the Microsoft Bot Framework example.</p>\n\n<pre><code>Attachment attachment = new Attachment();\nattachment.ContentType = \"image/png\";\nattachment.ContentUrl = \"http://www.southsystem.net/ss3blue3d.jpg\";\nActivity reply = activity.CreateReply(\"test\");\nreply.Attachments.Add(attachment); // need to comment to work\nawait connector.Conversations.ReplyToActivityAsync(reply);\n</code></pre>\n\n<p>if I comment the <code>Attachments.Add</code> all works great and gives me no error. I'm dealing with this for days and tried everything. Any help very much appreciated.</p>\n"}, {"tags": ["c#", "multithreading", "asynchronous", ".net-core"], "comments": [{"owner": {"reputation": 2306, "user_id": 4430204, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ec62a73156d45585e587c05f9ecd062?s=128&d=identicon&r=PG", "display_name": "taquion", "link": "https://stackoverflow.com/users/4430204/taquion"}, "edited": false, "score": 5, "creation_date": 1493236607, "post_id": 43643405, "comment_id": 74335163, "body": "Sorry, but where is the Singleton? From your code I could call DataAccess constructor as many times as I want."}, {"owner": {"reputation": 441, "user_id": 2597205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SjaNF.jpg?s=128&g=1", "display_name": "Micteu", "link": "https://stackoverflow.com/users/2597205/micteu"}, "reply_to_user": {"reputation": 2306, "user_id": 4430204, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ec62a73156d45585e587c05f9ecd062?s=128&d=identicon&r=PG", "display_name": "taquion", "link": "https://stackoverflow.com/users/4430204/taquion"}, "edited": false, "score": 0, "creation_date": 1493236655, "post_id": 43643405, "comment_id": 74335180, "body": "I&#39;ll update it now. DataAccess is a singleton called by controllers."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1493236668, "post_id": 43643405, "comment_id": 74335190, "body": "Unless a given type specifically calls out in its documentation that it&#39;s designed to be called from multiple threads in parallel, and what the behavior will be if you do so, assume it isn&#39;t designed to be called from multiple threads and that will behave unexpectedly and erroneously if you do so."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 5, "creation_date": 1493236740, "post_id": 43643405, "comment_id": 74335229, "body": "@Micteu No, it&#39;s <i>not</i> a singleton.  It has a public constructor.  There can <i>absolutely</i> be more than one instance of it.  That you personally don&#39;t intend to create more than one doesn&#39;t make it a singleton.  You <i>forcing</i> there to be only one is what makes it a singleton, and you haven&#39;t done that."}, {"owner": {"reputation": 48011, "user_id": 563088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KilOi.jpg?s=128&g=1", "display_name": "Emond Erno", "link": "https://stackoverflow.com/users/563088/emond-erno"}, "edited": false, "score": 0, "creation_date": 1493236798, "post_id": 43643405, "comment_id": 74335270, "body": "DataAccess might not suffer from being shared, it&#39;s the IMongoClient that is shared across threads which might not be thread safe."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1493237009, "post_id": 43643405, "comment_id": 74335397, "body": "Why did you not add it as a transient instead of a singelton?"}, {"owner": {"reputation": 441, "user_id": 2597205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SjaNF.jpg?s=128&g=1", "display_name": "Micteu", "link": "https://stackoverflow.com/users/2597205/micteu"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1493237142, "post_id": 43643405, "comment_id": 74335463, "body": "@ScottChamberlain It is added as transient in my actual code. I was just curious what would happen if I switched it to singleton instead."}, {"owner": {"reputation": 441, "user_id": 2597205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SjaNF.jpg?s=128&g=1", "display_name": "Micteu", "link": "https://stackoverflow.com/users/2597205/micteu"}, "reply_to_user": {"reputation": 48011, "user_id": 563088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KilOi.jpg?s=128&g=1", "display_name": "Emond Erno", "link": "https://stackoverflow.com/users/563088/emond-erno"}, "edited": false, "score": 0, "creation_date": 1493237644, "post_id": 43643405, "comment_id": 74335745, "body": "@ErnodeWeerd The Mongo documentation indicates it can be shared. I should probably have mentioned that it also is set up as a singleton. <a href=\"http://mongodb.github.io/mongo-csharp-driver/2.4/reference/driver/connecting/#re-use\" rel=\"nofollow noreferrer\">mongodb.github.io/mongo-csharp-driver/2.4/reference/driver/&hellip;</a>"}, {"owner": {"reputation": 441, "user_id": 2597205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SjaNF.jpg?s=128&g=1", "display_name": "Micteu", "link": "https://stackoverflow.com/users/2597205/micteu"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1493239225, "post_id": 43643405, "comment_id": 74336584, "body": "@Servy so services.AddSingleton is a little misleading, since the class does not necessarily need to be set up to enforce being a singleton within itself for the application to use it as one?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1493239479, "post_id": 43643405, "comment_id": 74336705, "body": "@Micteu Again, I refer you to my previous comment.  You saying that you&#39;re only planning to create one instance doesn&#39;t make it a singleton.  You writing the code so that <i>creating multiple instances is impossible</i> is what makes it a singleton."}], "answers": [{"comments": [{"owner": {"reputation": 441, "user_id": 2597205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SjaNF.jpg?s=128&g=1", "display_name": "Micteu", "link": "https://stackoverflow.com/users/2597205/micteu"}, "edited": false, "score": 0, "creation_date": 1493239670, "post_id": 43643456, "comment_id": 74336806, "body": "Thanks for satisfying my curiosity instead of trying to make me feel stupid because my wording is a little off."}], "tags": [], "owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "is_accepted": true, "score": 1, "last_activity_date": 1493236638, "creation_date": 1493236638, "answer_id": 43643456, "question_id": 43643405, "link": "https://stackoverflow.com/questions/43643405/what-happens-when-a-single-instance-of-a-class-is-waiting-for-a-task/43643456#43643456", "title": "What happens when a single instance of a class is waiting for a task?", "body": "<p>Option 2: The singleton available and thread2 runs the same collection.Find method while thread1 is also running it.</p>\n\n<p>This is why when you write a singleton you must make sure the code is safe to run concurrently or in a renterent fashon. Usually this will require putting a <code>lock</code> around the resource which turns it from option 2 in to option 1.</p>\n"}], "owner": {"reputation": 441, "user_id": 2597205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SjaNF.jpg?s=128&g=1", "display_name": "Micteu", "link": "https://stackoverflow.com/users/2597205/micteu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 43643456, "answer_count": 1, "score": -1, "last_activity_date": 1493270705, "creation_date": 1493236450, "last_edit_date": 1493270705, "question_id": 43643405, "link": "https://stackoverflow.com/questions/43643405/what-happens-when-a-single-instance-of-a-class-is-waiting-for-a-task", "title": "What happens when a single instance of a class is waiting for a task?", "body": "<p><em>Edit: Changed \"singleton\" to \"single instance\" because it isn't a real singleton.</em></p>\n\n<p>Suppose you have a <code>DataAccess</code> class running as a single instance in your application. This one uses MongoDB, but it could apply to anything that has internal async calls.</p>\n\n<pre><code>public class DataAccess\n{\n    private IMongoDatabase _database;\n\n    public DataAccess(IMongoClient client)\n    {\n        _database = client.GetDatabase(\"myDataBase\");\n    }\n\n    public virtual async Task&lt;IEnumerable&lt;User&gt;&gt; GetUsers()\n    {\n        var collection = _database.GetCollection&lt;User&gt;(\"users\").Find(\"{}\");\n        return await collection.ToListAsync();\n    }\n}\n</code></pre>\n\n<p><code>DataAccess</code> is added as a \"singleton\" in my Startup class's ConfigureServices method:</p>\n\n<pre><code>services.AddSingleton&lt;DataAccess, DataAccess&gt;();\n</code></pre>\n\n<p>And then it is injected into controllers.</p>\n\n<p>Suppose I have thread1 calling DataAccess.GetUsers(), and that's waiting for the result from the ToListAsync method. Now thread2 calls DataAccess.GetUsers() while thread1 is waiting. What happens?</p>\n\n<ul>\n<li>Is the instance of DataAccess locked by thread1 so thread2 can't start executing the GetUsers method until thread1 is finished?</li>\n<li>Is the instance of DataAccess available and thread2 runs the same collection.Find method while thread1 is also running it?</li>\n<li>Is the instance of DataAccess available but thread2 gets put to sleep when it runs into the ToListAsync method that is already running?</li>\n</ul>\n"}, {"tags": ["c#", "functional-programming"], "comments": [{"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 1, "creation_date": 1493236192, "post_id": 43643271, "comment_id": 74334926, "body": "You need to import the containing namespace and use <code>new Left&lt;...&gt;</code> and new Right&lt;...&gt;`."}, {"owner": {"reputation": 61, "user_id": 6585508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ETnnV.jpg?s=128&g=1", "display_name": "Death of Rats", "link": "https://stackoverflow.com/users/6585508/death-of-rats"}, "reply_to_user": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 0, "creation_date": 1493240822, "post_id": 43643271, "comment_id": 74337447, "body": "thanks for answering Lee - normally Visual Studio is good enough to find this, but looking through the LanguageExt.Core package, I cannot find Left&lt;&gt; nor Right&lt;&gt; (which I expected to find in the same namespace as Either&lt;&gt;).  It makes me think I have misunderstood something fundamental here - hence the question."}, {"owner": {"reputation": 61, "user_id": 6585508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ETnnV.jpg?s=128&g=1", "display_name": "Death of Rats", "link": "https://stackoverflow.com/users/6585508/death-of-rats"}, "reply_to_user": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 1, "creation_date": 1493241827, "post_id": 43643271, "comment_id": 74337920, "body": "I found what I was missing - &quot;using static LanguageExt.Prelude;&quot; This resolved things correctly. Strange that Visual Studio behaves differently for this (and that I couldn&#39;t find anything via the Object Browser).  Thanks for your help Lee."}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 6585508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ETnnV.jpg?s=128&g=1", "display_name": "Death of Rats", "link": "https://stackoverflow.com/users/6585508/death-of-rats"}, "is_accepted": false, "score": 3, "last_activity_date": 1493242114, "creation_date": 1493242114, "answer_id": 43644816, "question_id": 43643271, "link": "https://stackoverflow.com/questions/43643271/gettings-started-with-language-ext-functional-c/43644816#43644816", "title": "gettings started with language.ext (functional C#)", "body": "<p>I was missing - \"using static LanguageExt.Prelude;\" Not sure why, but Visual Studio treated this a bit differently, and I couldn't find any reference to Left nor Right in the Object Browser.</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 6585508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ETnnV.jpg?s=128&g=1", "display_name": "Death of Rats", "link": "https://stackoverflow.com/users/6585508/death-of-rats"}, "edited": false, "score": 3, "creation_date": 1494594414, "post_id": 43886589, "comment_id": 74909161, "body": "thank you so much for taking the time to write an answer.  I really appreciate it.  I have been flirting with trying to learn functional programming for a little while now, and my question is in part the result of trying to take what I am reading in &quot;Functional Programming in C#&quot; and convert it to the expectations of the library that you have made. It also doesn&#39;t help that I&#39;m usually trying to do this at 11:30pm... ultimately this is something I would like to be able to apply at work, but it looks like I have a long way to go yet."}, {"owner": {"reputation": 1240, "user_id": 3384830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5oOUj.jpg?s=128&g=1", "display_name": "louthster", "link": "https://stackoverflow.com/users/3384830/louthster"}, "reply_to_user": {"reputation": 61, "user_id": 6585508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ETnnV.jpg?s=128&g=1", "display_name": "Death of Rats", "link": "https://stackoverflow.com/users/6585508/death-of-rats"}, "edited": false, "score": 0, "creation_date": 1494600144, "post_id": 43886589, "comment_id": 74913188, "body": "It takes a bit of time to get into the functional mindset for sure.  You&#39;ll have a series of aha moments where stuff falls into place.   I&#39;m a reformed OO programmer too and the process for me has been enlightening."}, {"owner": {"reputation": 61, "user_id": 6585508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ETnnV.jpg?s=128&g=1", "display_name": "Death of Rats", "link": "https://stackoverflow.com/users/6585508/death-of-rats"}, "edited": false, "score": 0, "creation_date": 1495140505, "post_id": 43886589, "comment_id": 75140014, "body": "Next on the agenda is to figure out smart constructors and validation.  I am hoping to build this into a proof of concept, combining functional with domain driven design concepts."}], "tags": [], "owner": {"reputation": 1240, "user_id": 3384830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5oOUj.jpg?s=128&g=1", "display_name": "louthster", "link": "https://stackoverflow.com/users/3384830/louthster"}, "is_accepted": false, "score": 4, "last_activity_date": 1494402947, "creation_date": 1494402947, "answer_id": 43886589, "question_id": 43643271, "link": "https://stackoverflow.com/questions/43643271/gettings-started-with-language-ext-functional-c/43886589#43886589", "title": "gettings started with language.ext (functional C#)", "body": "<p>I'm the author of Language-Ext.  <code>Left</code> and <code>Right</code> are constructor functions, rather than types in their own right, they both construct an <code>Either&lt;L, R&gt;</code>.  Many of the types have constructor functions in the static class <code>Prelude</code>, that's why you need to do <code>using static</code> on it.  It's not a namespace but a class.  </p>\n\n<p>You could have written:  <code>Prelude.Left&lt;L, R&gt;(...)</code> and <code>Prelude.Right&lt;L, R&gt;(...)</code>.</p>\n\n<p>This is to simulate algebraic data types (ADTs) in functional languages like F# where <code>Either</code> could be defined like so:</p>\n\n<pre><code>type Either&lt;'l, 'r&gt; =\n  | Left of l\n  | Right of r\n</code></pre>\n\n<p>Which would allow you to construct an <code>Either</code> like so: <code>Right(x)</code>.</p>\n\n<p>Other constructor functions are: <code>Some(x)</code> and <code>None</code> for <code>Option</code>, <code>List(x,y,z)</code> for <code>Lst</code>,  <code>Set(x,y,x)</code> for <code>Set</code>, etc.  </p>\n\n<p>The <code>Prelude</code> class makes it easy to include a ton of base functionality with one <code>using static</code>, rather than having to do <code>using static LanguageExt.Either</code>, <code>using static LanguageExt.Option</code>, etc.</p>\n\n<p>By the way, a more functional way to write your example would be:</p>\n\n<pre><code>public static Either&lt;string, AssignmentDate&gt; Create(DateTime date) =&gt;\n    date &lt; MinValue\n        ? Left&lt;string, AssignmentDate&gt;(\"date out of range\")\n        : Right&lt;string, AssignmentDate&gt;(date);\n</code></pre>\n\n<p>The reason is that the ternary operator is an expression, whereas you were using multiple statements to get the result.  If you're learning functional programming  you should always try to work with expressions wherever you can.  The exception is where you need to declare local variables, but mostly you can wring pure expressions in C#.  If your expressions get too big, break them down into smaller functions.  One side-effect of functional programming is that your functions will get smaller and smaller; sometimes only single line affairs.  </p>\n"}], "owner": {"reputation": 61, "user_id": 6585508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ETnnV.jpg?s=128&g=1", "display_name": "Death of Rats", "link": "https://stackoverflow.com/users/6585508/death-of-rats"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1361, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1494402947, "creation_date": 1493235986, "question_id": 43643271, "link": "https://stackoverflow.com/questions/43643271/gettings-started-with-language-ext-functional-c", "title": "gettings started with language.ext (functional C#)", "body": "<p>I'm trying to learn more about functional programming, using the language.ext (C#) library as a starting point.  I am trying to use an Either monad, but there is something I am missing.  See for a simple example:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace Dates\n{\n    public class AssignmentDate\n    {\n\n        public static Either&lt;string, AssignmentDate&gt; Create(DateTime date)\n        {\n            if (date &lt; MinValue)\n                return Left&lt;string, AssignmentDate&gt;(\"date out of range\");\n\n            return Right&lt;string, AssignmentDate&gt;(date);\n        }\n\n        public static DateTime MinValue =&gt; new DateTime(1950, 1, 1);\n    }\n}\n</code></pre>\n\n<p>The types Left&lt;> and Right&lt;> cannot resolve.  I am obviously missing something, but what?  Am I using Either&lt;> correctly?  Is this the correct way to return when using Either&lt;>? Can anyone point to more examples of language.ext?  Many thanks for any help provided.</p>\n"}, {"tags": ["c#", "uwp"], "comments": [{"owner": {"reputation": 1223, "user_id": 2366842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db1f21d133e897903c931feb815012b?s=128&d=identicon&r=PG", "display_name": "user2366842", "link": "https://stackoverflow.com/users/2366842/user2366842"}, "edited": false, "score": 0, "creation_date": 1493236223, "post_id": 43643239, "comment_id": 74334938, "body": "what&#39;s the data type of image1?  also what do you mean by &quot;it doesn&#39;t work&quot;"}, {"owner": {"reputation": 57, "user_id": 7081713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e455c5d8a21ffc5126ee00ca1a226efa?s=128&d=identicon&r=PG&f=1", "display_name": "Robert G.", "link": "https://stackoverflow.com/users/7081713/robert-g"}, "reply_to_user": {"reputation": 1223, "user_id": 2366842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db1f21d133e897903c931feb815012b?s=128&d=identicon&r=PG", "display_name": "user2366842", "link": "https://stackoverflow.com/users/2366842/user2366842"}, "edited": false, "score": 0, "creation_date": 1493236484, "post_id": 43643239, "comment_id": 74335087, "body": "image1 is a Windows.UI.Xaml.Controls.Image, and doing as above tells me that Bitmap doesn&#39;t contain a constructor, which contradicts with what they&#39;ve said on their site."}, {"owner": {"reputation": 1635, "user_id": 5224021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37c6e44eb453915965b37dcc4653c3cf?s=128&d=identicon&r=PG&f=1", "display_name": "interesting-name-here", "link": "https://stackoverflow.com/users/5224021/interesting-name-here"}, "edited": false, "score": 0, "creation_date": 1493236804, "post_id": 43643239, "comment_id": 74335275, "body": "Have you tried a direct cast? <code>Bitmap bitmap = image1 as Bitmap</code>"}, {"owner": {"reputation": 57, "user_id": 7081713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e455c5d8a21ffc5126ee00ca1a226efa?s=128&d=identicon&r=PG&f=1", "display_name": "Robert G.", "link": "https://stackoverflow.com/users/7081713/robert-g"}, "edited": false, "score": 0, "creation_date": 1493236868, "post_id": 43643239, "comment_id": 74335313, "body": "Yes, it gives me this error : Severity\tCode\tDescription\tProject\tFile\tLine\tSuppression State Error\tCS0039\tCannot convert type &#39;Windows.UI.Xaml.Controls.Image&#39; to &#39;System.Drawing.Bitmap&#39; via a reference conversion, boxing conversion, unboxing conversion, wrapping conversion, or null type conversion\tMyFirstJob\tC:\\Users\\Robert\\documents\\visual studio 2015\\Projects\\MyFirstJob\\MyFirstJob\\MainPage.xaml.cs\t69\tActi&zwnj;&#8203;ve"}], "answers": [{"comments": [{"owner": {"reputation": 3707, "user_id": 6116637, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/320f7774f91b46866e2fb6fb570a478a?s=128&d=identicon&r=PG&f=1", "display_name": "lindexi", "link": "https://stackoverflow.com/users/6116637/lindexi"}, "edited": false, "score": 0, "creation_date": 1493275033, "post_id": 43644318, "comment_id": 74348298, "body": "Can I see the  Aforge.Net source?"}, {"owner": {"reputation": 384, "user_id": 5212252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b16148a6004361969dfed25ef507a7bd?s=128&d=identicon&r=PG&f=1", "display_name": "Tee", "link": "https://stackoverflow.com/users/5212252/tee"}, "reply_to_user": {"reputation": 3707, "user_id": 6116637, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/320f7774f91b46866e2fb6fb570a478a?s=128&d=identicon&r=PG&f=1", "display_name": "lindexi", "link": "https://stackoverflow.com/users/6116637/lindexi"}, "edited": false, "score": 0, "creation_date": 1493300464, "post_id": 43644318, "comment_id": 74366253, "body": "Here&#39;s a <a href=\"https://code.google.com/archive/p/aforge/source/default/source\" rel=\"nofollow noreferrer\">link</a> to the official Aforge.Net source from their website"}, {"owner": {"reputation": 3707, "user_id": 6116637, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/320f7774f91b46866e2fb6fb570a478a?s=128&d=identicon&r=PG&f=1", "display_name": "lindexi", "link": "https://stackoverflow.com/users/6116637/lindexi"}, "edited": false, "score": 0, "creation_date": 1493340988, "post_id": 43644318, "comment_id": 74387291, "body": "Thx but vs say <code>aWriteableBitmapObject = (WriteableBitmap)bitmap;</code> the Bitmap  cant cast to WriteableBitmap"}], "tags": [], "owner": {"reputation": 384, "user_id": 5212252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b16148a6004361969dfed25ef507a7bd?s=128&d=identicon&r=PG&f=1", "display_name": "Tee", "link": "https://stackoverflow.com/users/5212252/tee"}, "is_accepted": true, "score": 2, "last_activity_date": 1493239977, "creation_date": 1493239977, "answer_id": 43644318, "question_id": 43643239, "link": "https://stackoverflow.com/questions/43643239/uwp-image-to-bitmap-conversion/43644318#43644318", "title": "UWP Image to Bitmap Conversion", "body": "<p>You can't convert directly between <code>System.Drawing.Bitmap</code> and <code>Windows.UI.Xaml.Controls.Image</code>. </p>\n\n<p>Think of AForge as using the <code>Bitmap</code> class, while UWP uses the <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.media.imaging.writeablebitmap\" rel=\"nofollow noreferrer\">WritableBitmap</a> for its images. You'll need to find a way to convert between the two.</p>\n\n<p>Take a look at the <a href=\"https://github.com/cureos/aforge#usage\" rel=\"nofollow noreferrer\">Usage</a> section of this <a href=\"https://github.com/cureos/aforge\" rel=\"nofollow noreferrer\">Aforge.Net library</a>, which provides one way of doing things (Quoted):</p>\n\n<pre><code>// Use explicit operator to convert from WriteableBitmap to Bitmap\nBitmap bitmap = (Bitmap)aWriteableBitmapObject;\n\n// Apply one or more filter functions on the Bitmap object\nvar filter1 = AForge.Imaging.Filters.Grayscale.CommonAlgorithms.RMY;\nbitmap = filter1.Apply(bitmap);\nvar filter2 = new AForge.Imaging.Filters.CannyEdgeDetector();\nfilter2.ApplyInPlace(bitmap);\n\n// Use explicit operator to convert back from Bitmap to WriteableBitmap\naWriteableBitmapObject = (WriteableBitmap)bitmap;\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 7081713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e455c5d8a21ffc5126ee00ca1a226efa?s=128&d=identicon&r=PG&f=1", "display_name": "Robert G.", "link": "https://stackoverflow.com/users/7081713/robert-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1048, "favorite_count": 0, "accepted_answer_id": 43644318, "answer_count": 1, "score": 1, "last_activity_date": 1493239977, "creation_date": 1493235900, "question_id": 43643239, "link": "https://stackoverflow.com/questions/43643239/uwp-image-to-bitmap-conversion", "title": "UWP Image to Bitmap Conversion", "body": "<p>I'm trying to convert an image to a bitmap in order to use AForge filters. On MSN website i saw that Bitmap has an image contructor but when i try it it doesn't work. This is the code i have :</p>\n\n<pre><code>                     Bitmap bitmap = new Bitmap(image1);\n</code></pre>\n"}, {"tags": ["c#", ".net", "winforms"], "comments": [{"owner": {"reputation": 1522, "user_id": 920557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2512beb374867670c718a53d55e7351?s=128&d=identicon&r=PG", "display_name": "Eugene Komisarenko", "link": "https://stackoverflow.com/users/920557/eugene-komisarenko"}, "edited": false, "score": 0, "creation_date": 1493236311, "post_id": 43643232, "comment_id": 74334986, "body": "Here seems to be the answer for you <a href=\"http://stackoverflow.com/a/28217960/920557\">stackoverflow.com/a/28217960/920557</a> and the idea I guess is to Dispose the client before opening the file again."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1493236374, "post_id": 43643232, "comment_id": 74335036, "body": "If you are writing to Most systems don&#39;t give you rights to create files on the root of <code>C:&#47;</code> unless your app is an administrator. You may want to try to save it in a subfolder."}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "reply_to_user": {"reputation": 1522, "user_id": 920557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2512beb374867670c718a53d55e7351?s=128&d=identicon&r=PG", "display_name": "Eugene Komisarenko", "link": "https://stackoverflow.com/users/920557/eugene-komisarenko"}, "edited": false, "score": 0, "creation_date": 1493236507, "post_id": 43643232, "comment_id": 74335106, "body": "Yes, @EugeneKomisarenko is right. There is no need for async call in your particular case. Just replace the second line with <code>wc.DownloadFile(link, @&quot;C:&#47;music.mp3&quot;);</code> and remove the third one."}, {"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 1, "creation_date": 1493236744, "post_id": 43643232, "comment_id": 74335233, "body": "You want to keep the Async method otherwise the UI will freeze up during download."}], "answers": [{"tags": [], "owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "is_accepted": true, "score": 2, "last_activity_date": 1493236705, "creation_date": 1493236705, "answer_id": 43643479, "question_id": 43643232, "link": "https://stackoverflow.com/questions/43643232/webclient-using-file-file-in-use-error/43643479#43643479", "title": "WebClient using file (file in use error)", "body": "<p>If using <code>WebClient.DownloadFileAsync</code> you should subscribe to the <code>DownloadFileCompleted</code> event and perform the remainder of your processing from that event.</p>\n\n<p>Quick and dirty:  </p>\n\n<pre><code>WebClient wc = new WebClient();\nwc.DownloadfileCompleted += completedHandler;\nUri link = new System.Uri(\"URL\");\nwc.DownloadFileAsync(link, @\"C:/music.mp3\");\n//handle.WaitOne();  // dunno what this is doing in here.\n\nfunction completedHandler(Object sender, AsyncCompletedEventArgs e) {\n    var file = TagLib.File.Create(@\"C:/music.mp3\");\n    file.Tag.Title = \"Title\";\n    file.Save();\n}\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 6121245, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-Kaz65qa3RGE/AAAAAAAAAAI/AAAAAAAAAC4/cwlbRhcrGRE/photo.jpg?sz=128", "display_name": "Chirag Galaiya", "link": "https://stackoverflow.com/users/6121245/chirag-galaiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 43643479, "answer_count": 1, "score": 0, "last_activity_date": 1493236705, "creation_date": 1493235882, "last_edit_date": 1493236131, "question_id": 43643232, "link": "https://stackoverflow.com/questions/43643232/webclient-using-file-file-in-use-error", "title": "WebClient using file (file in use error)", "body": "<p>I'm new to WinForms/C#/VB.NET and all and am trying to put together a simple application which downloads an MP3 file and edits its ID3 tags. This is what I've come up with so far :</p>\n\n<pre><code>Uri link = new System.Uri(\"URL\");\nwc.DownloadFileAsync(link, @\"C:/music.mp3\");\nhandle.WaitOne();\n\nvar file = TagLib.File.Create(@\"C:/music.mp3\");\nfile.Tag.Title = \"Title\";\nfile.Save();\n</code></pre>\n\n<p>The top section downloads the file with a pre-defined WebClient, but when I try to open the file in the first line of the second half, I run into this error <code>The process cannot access the file 'C:\\music.mp3' because it is being used by another process.</code> which I'm guessing is due to the WebClient.</p>\n\n<p>Any ideas on how to fix this? Thanks.</p>\n"}, {"tags": ["c#", "windows", "winforms", "user-controls", "tcpclient"], "comments": [{"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1493235943, "post_id": 43643138, "comment_id": 74334801, "body": "In your code I see a comment <code>&#47;&#47; The exception occurs in this function when resizing</code> If you have located an exception better post the exception info."}, {"owner": {"reputation": 105, "user_id": 513647, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b5e862f7f88d8d237c755237dfbc5e11?s=128&d=identicon&r=PG", "display_name": "user513647", "link": "https://stackoverflow.com/users/513647/user513647"}, "reply_to_user": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1493236222, "post_id": 43643138, "comment_id": 74334937, "body": "Done, the exception throws in the coditional statement for the while loop. The aClient.Client variable is set to null."}, {"owner": {"reputation": 160, "user_id": 7564365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3acde22065d5025393cf8898c64f8ab?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Mahajan ", "link": "https://stackoverflow.com/users/7564365/akshay-mahajan"}, "edited": false, "score": 0, "creation_date": 1493236226, "post_id": 43643138, "comment_id": 74334942, "body": "I don&#39;t think it has anything related to resizing. Is something null? What happens when you debug?"}, {"owner": {"reputation": 2812, "user_id": 714151, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/IeorE.jpg?s=128&g=1", "display_name": "MrZander", "link": "https://stackoverflow.com/users/714151/mrzander"}, "edited": false, "score": 0, "creation_date": 1493236387, "post_id": 43643138, "comment_id": 74335044, "body": "Sounds like some sort of general structural problem with your app.  Could be any number of things interacting with the UI from other places in your code..."}, {"owner": {"reputation": 105, "user_id": 513647, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b5e862f7f88d8d237c755237dfbc5e11?s=128&d=identicon&r=PG", "display_name": "user513647", "link": "https://stackoverflow.com/users/513647/user513647"}, "reply_to_user": {"reputation": 160, "user_id": 7564365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3acde22065d5025393cf8898c64f8ab?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Mahajan ", "link": "https://stackoverflow.com/users/7564365/akshay-mahajan"}, "edited": false, "score": 0, "creation_date": 1493236536, "post_id": 43643138, "comment_id": 74335119, "body": "@AkshayMahajan None of the other threads are doing anything interesting when the application breaks. No other function is called that touches the TcpClient. The destructor is not called, neither is the constructor. I do see that the layout of my application changes a moment before the exception is thrown, which is what leads me to believe it has something to do with resizing the application."}, {"owner": {"reputation": 678, "user_id": 557516, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/36Efb.jpg?s=128&g=1", "display_name": "Danny D", "link": "https://stackoverflow.com/users/557516/danny-d"}, "edited": false, "score": 0, "creation_date": 1493236946, "post_id": 43643138, "comment_id": 74335361, "body": "Does the control has default constructor if so it is not shown on the code and maybe your default constructor is not initializing the TCPClient?"}, {"owner": {"reputation": 105, "user_id": 513647, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b5e862f7f88d8d237c755237dfbc5e11?s=128&d=identicon&r=PG", "display_name": "user513647", "link": "https://stackoverflow.com/users/513647/user513647"}, "reply_to_user": {"reputation": 678, "user_id": 557516, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/36Efb.jpg?s=128&g=1", "display_name": "Danny D", "link": "https://stackoverflow.com/users/557516/danny-d"}, "edited": false, "score": 0, "creation_date": 1493237010, "post_id": 43643138, "comment_id": 74335398, "body": "@DannyD The TCPClient is initialized. The application works fine until I resize the application. At which point the TCPClient is set to null."}, {"owner": {"reputation": 678, "user_id": 557516, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/36Efb.jpg?s=128&g=1", "display_name": "Danny D", "link": "https://stackoverflow.com/users/557516/danny-d"}, "edited": false, "score": 0, "creation_date": 1493237772, "post_id": 43643138, "comment_id": 74335808, "body": "Best practice : if you are not planing to change the value of member field (tcpClient) outside the constructor declare it as readonly . this prevents accidental re-initialization of the fields ( which i think is whats happening here )"}, {"owner": {"reputation": 105, "user_id": 513647, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b5e862f7f88d8d237c755237dfbc5e11?s=128&d=identicon&r=PG", "display_name": "user513647", "link": "https://stackoverflow.com/users/513647/user513647"}, "reply_to_user": {"reputation": 678, "user_id": 557516, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/36Efb.jpg?s=128&g=1", "display_name": "Danny D", "link": "https://stackoverflow.com/users/557516/danny-d"}, "edited": false, "score": 0, "creation_date": 1493238414, "post_id": 43643138, "comment_id": 74336166, "body": "@DannyD Sadly this does not appear to have helped. I&#39;m starting to suspect a bug in the implementation of winforms itself, or some esoteric problem with garbage collection and object ownership. This bug only happens when I drag the form, and no where else in the code do I touch the TcpClient. Exactly the same problem occurs when I remove the client as a member from the UserControl and instead pass it as a parameter to the mainloop function by using ParameterizedThreadStart()."}], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 513647, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b5e862f7f88d8d237c755237dfbc5e11?s=128&d=identicon&r=PG", "display_name": "user513647", "link": "https://stackoverflow.com/users/513647/user513647"}, "is_accepted": false, "score": 0, "last_activity_date": 1493240601, "creation_date": 1493240601, "answer_id": 43644482, "question_id": 43643138, "link": "https://stackoverflow.com/questions/43643138/tcpclient-closes-when-resizing-control/43644482#43644482", "title": "TCPClient closes when resizing control", "body": "<p>I've solved the problem. It turned out to be an object ownership problem combined with the fact that winforms apparently triggers a garbage collection when resizing the form.</p>\n\n<p>Somewhere else in the code I create the connection that's used by the UserControl like this:</p>\n\n<pre><code>        public static TcpClient OpenSession(string ServerIp, int ServerPort)\n        {\n            cServerControl Result = new cServerControl(ServerIp, ServerPort);\n            Result.Connect();\n\n            // [SNIP]\n\n            return Result.TcpClient;\n        }\n</code></pre>\n\n<p>I think C# concludes that since the cServerControl is created in a thread that's separate from the thread that will later interact with the TcpClient, it can safely dispose of the TcpClient. Ignoring the fact that the TcpClient is explicitly transferred to the new thread. Changing the code to return the cServerControl (and using the cServerControl in the UserControl instead of the TcpClient) fixes the issue, as the cServerControl is now not marked for disposal.</p>\n"}], "owner": {"reputation": 105, "user_id": 513647, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b5e862f7f88d8d237c755237dfbc5e11?s=128&d=identicon&r=PG", "display_name": "user513647", "link": "https://stackoverflow.com/users/513647/user513647"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1493240601, "creation_date": 1493235519, "last_edit_date": 1493236115, "question_id": 43643138, "link": "https://stackoverflow.com/questions/43643138/tcpclient-closes-when-resizing-control", "title": "TCPClient closes when resizing control", "body": "<p>In a C# Winforms project I have a UserControl class that has a TcpClient as a private member.\nThe TcpClient is set to null when the user drags or otherwise resizes the UserControl's parent class. The TcpClient is not set to null when the the UserControl's parent starts maximized or minimized. The code that deals with the TcpClient runs in a seperate thead. I haven't been able to find any other users with this problem. </p>\n\n<p>I've tried setting breakpoints on the UserControl's constructor and destructor, to no avail. The code looks like this:</p>\n\n<pre><code>public partial class IPCInterface: UserControl\n{\n    private TcpClient aClient = null;\n    private bool IsRunning = true;\n    private Thread ShellThread = null;\n    // [SNIP]\n    private void MainLoop()\n    {\n        // The exception occurs in this function when resizing\n        try\n        { \n            // The exception is thrown here, aClient.Client.Get returns null -&gt; nullreference exception\n            while (IsRunning &amp;&amp; aClient.Client.Connected == true)\n            {\n                while (aClient.Client.Available &gt; 0)\n                    ShellInputOutputBox.Invoke(\n                        (MethodInvoker)delegate () \n                        {\n                            ShellInputOutputBox.Text += ReceiveString();\n                        });\n\n                Thread.Sleep(100);\n            }\n\n            if(aClient.Client.Connected == true)\n                aClient.Client.Close();\n        }\n        catch(Exception e)\n        {\n            MessageBox.Show(e.Message, \"Error\", MessageBoxButtons.OK, MessageBoxIcon.Error);  // The exception occurs here when resizing\n        }\n\n    }\n\n    public IPCInterface(TcpClient IPCStream)\n    {\n        InitializeComponent();\n\n        aClient = IPCStream;\n        ShellThread = new Thread(() =&gt; MainLoop());\n        ShellThread.Start();\n    }\n</code></pre>\n\n<p>I'm at wits end as to why this is happening. Does anybody know how I can counteract the closing of the socket? </p>\n\n<p>Additional information:</p>\n\n<p>The UserControl itself is located inside a tab interface which is also located in a tab interface (I'm not a UX designer...). All these interfaces are anchored to the outer edges of their parents so that they move when the user resizes the main form.</p>\n"}, {"tags": ["c#", "list", "visual-studio-debugging"], "answers": [{"tags": [], "owner": {"reputation": 708, "user_id": 6540292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dfac93d8c8c2c645ca2d70f2328e260?s=128&d=identicon&r=PG&f=1", "display_name": "Ray Fischer", "link": "https://stackoverflow.com/users/6540292/ray-fischer"}, "is_accepted": false, "score": 3, "last_activity_date": 1493238443, "creation_date": 1493238443, "answer_id": 43643920, "question_id": 43643137, "link": "https://stackoverflow.com/questions/43643137/how-do-i-set-the-debugger-to-catch-what-changed-the-variable/43643920#43643920", "title": "How do I set the debugger to catch what changed the variable", "body": "<p>When you create a List&lt;> (or any other container) from another container (as you do when you call list.ToList()) you do not create copies of all of the elements in the container.  You create new references to the items in the list that you're copying.  In CS parlance it's a shallow copy and not a deep copy.</p>\n\n<p>So, if you do this:</p>\n\n<pre><code>        int[] ia = new[] {0, 1, 2, 3, 4};\n        int[] ib = new[] {5, 6, 7, 8, 9};\n        List&lt;int[]&gt; la = new List&lt;int[]&gt;() { ia, ib };\n        List&lt;int[]&gt; lb = la.ToList();\n</code></pre>\n\n<p>Both lists refer to the same two arrays, and if you change one array like this:</p>\n\n<pre><code>        la[1][4] = 10;\n</code></pre>\n\n<p>Then lb[1][4] will also be 10 because the two lists each contain the same arrays.  Copying the list does not copy the elements in the list.</p>\n"}, {"comments": [{"owner": {"reputation": 2410, "user_id": 3261332, "user_type": "registered", "accept_rate": 59, "profile_image": "https://graph.facebook.com/100006905822881/picture?type=large", "display_name": "H A&#223;d&#248;&#181;", "link": "https://stackoverflow.com/users/3261332/h-a%c3%9fd%c3%b8%c2%b5"}, "edited": false, "score": 0, "creation_date": 1493581036, "post_id": 43643934, "comment_id": 74465017, "body": "How do I do if I want to copie a single element from <code>List&lt;int[]&gt;</code> not the hole list?"}], "tags": [], "owner": {"reputation": 1793, "user_id": 1974344, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/v0Gnp.png?s=128&g=1", "display_name": "Odrai", "link": "https://stackoverflow.com/users/1974344/odrai"}, "is_accepted": true, "score": 3, "last_activity_date": 1493238797, "last_edit_date": 1493238797, "creation_date": 1493238475, "answer_id": 43643934, "question_id": 43643137, "link": "https://stackoverflow.com/questions/43643137/how-do-i-set-the-debugger-to-catch-what-changed-the-variable/43643934#43643934", "title": "How do I set the debugger to catch what changed the variable", "body": "<p>The issue lies in the following code (snippet):</p>\n\n<pre><code>List&lt;int[]&gt; Sorted_list = list.ToList();\n</code></pre>\n\n<p>ToList will create a new list, but because in this case int[] is a reference type then the new list will contain references to the same arrays as the original list.</p>\n\n<p>Updating a value (of an array) referenced in the new list will also affect the equivalent value in the original list.</p>\n\n<pre><code>kmsList[0][0] = Sorted_list[0][0];\n</code></pre>\n\n<p>The solution is to create a real copy of 'list' and its items (in this case int[]):</p>\n\n<pre><code>List&lt;int[]&gt; Sorted_list  = list.ConvertAll(myArray =&gt; (int[])myArray.Clone());\n</code></pre>\n\n<p>This piece of code clones all arrays within the list to a new variable Sorted_list.</p>\n\n<p>A useful link that explains the difference between value and reference types is: <a href=\"https://msdn.microsoft.com/en-us/library/t63sy5hs.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/t63sy5hs.aspx</a></p>\n\n<p><strong>Reference Types</strong></p>\n\n<p>A reference type contains a pointer to another memory location that holds the data. </p>\n\n<p>Reference types include the following:</p>\n\n<ul>\n<li>String </li>\n<li><strong>All arrays, even if their elements are value types Class</strong></li>\n<li>types, such as Form </li>\n<li>Delegates</li>\n</ul>\n"}], "owner": {"reputation": 2410, "user_id": 3261332, "user_type": "registered", "accept_rate": 59, "profile_image": "https://graph.facebook.com/100006905822881/picture?type=large", "display_name": "H A&#223;d&#248;&#181;", "link": "https://stackoverflow.com/users/3261332/h-a%c3%9fd%c3%b8%c2%b5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 43643934, "answer_count": 2, "score": 2, "last_activity_date": 1493238797, "creation_date": 1493235514, "question_id": 43643137, "link": "https://stackoverflow.com/questions/43643137/how-do-i-set-the-debugger-to-catch-what-changed-the-variable", "title": "How do I set the debugger to catch what changed the variable", "body": "<p>I am implementing the NEH algorithm following this slide and video:\n<a href=\"http://mams.rmit.edu.au/b5oatq61pmjl.pdf\" rel=\"nofollow noreferrer\">http://mams.rmit.edu.au/b5oatq61pmjl.pdf</a>\n<a href=\"https://www.youtube.com/watch?v=TcBzEyCQBxw\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=TcBzEyCQBxw</a></p>\n\n<p>My problem during the test is the variable <code>Sorted_list</code> got changed which cause different results from what I expect:\nThis the portion where I have the problem but I couldn't know what it changes it(I used breakpoints and watch variable window):</p>\n\n<pre><code>for (int i = 0; i &lt; kmsList.Count; i++)\n    {\n        for (int j = 0; j &lt; kmsList[i].Length - 1; j++)\n        {\n            /*\n            *\n            *   HERE Sorted_list GET MODIFIED UNEXPECTEDLY\n            */\n            if (i == 0 &amp;&amp; j == 0)\n                kmsList[0][0] = Sorted_list[0][0];\n            else if (i == 0)\n                kmsList[0][j] = kmsList[0][j - 1] + Sorted_list[0][j];\n            else if (j == 0)\n                kmsList[i][0] = kmsList[i - 1][0] + Sorted_list[i][0];\n        }\n    }\n</code></pre>\n\n<p>Complete implementation:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace FINAL_NEH\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Console.WriteLine(\"entre the nmbr of jobs   : \");\n            string row = Console.ReadLine();\n            Console.WriteLine(\"entre the nmbr of machines : \");\n            string column = Console.ReadLine();\n\n            int job = int.Parse(row.ToString());\n            int machine = int.Parse(column.ToString());\n\n            List&lt;int[]&gt; list = new List&lt;int[]&gt;();\n            // read the nmbrs and put it in list-----------------------------------------------------  \n            for (int i = 0; i &lt; job; i++)\n            {\n                list.Add(new int[machine + 1]);\n                for (int j = 0; j &lt; machine; j++)\n                {\n                    list[i][j] = int.Parse(Console.ReadLine());\n                }\n\n                list[i][list[i].Length - 1] = int.Parse((i + 1).ToString()); //Last Elemnt Is Job Number-\n            }\n\n            // show the list----------------------------------------------------------------------------\n            for (int i = 0; i &lt; job; i++)\n            {\n                for (int j = 0; j &lt; machine + 1; j++)\n                {\n                    Console.Write(\"\\t\" + \"[\" + list[i][j] + \"]\");\n                }\n\n                Console.WriteLine();\n            }\n\n            // sort the list------------------------------------------------------------------------------\n            for (int i = 0; i &lt; list.Count; i++)\n            {\n                for (int j = i + 1; j &lt; list.Count; j++)\n                {\n                    int sumI = 0, sumJ = 0;\n\n                    for (int a = 0; a &lt; list[i].Length - 1; a++)\n                    {\n                        sumI += list[i][a];\n                    }\n\n                    for (int a = 0; a &lt; list[j].Length - 1; a++)\n                    {\n                        sumJ += list[j][a];\n                    }\n\n                    if (sumI &lt; sumJ)\n                    {\n                        int[] temp = new int[int.Parse(job.ToString())];\n                        temp = list[i];\n                        list[i] = list[j];\n                        list[j] = temp;\n                    }\n                }\n\n\n            }\n\n            Console.Write(\"\\n\\n-----------------after sorting ------------------------------------\\n\\n\");\n\n            // shaw the list after sorting------------------------------------------\n            for (int i = 0; i &lt; job; i++)\n            {\n                for (int j = 0; j &lt; machine + 1; j++)\n                {\n                    Console.Write(\"\\t\" + \"[\" + list[i][j] + \"]\");\n                }\n\n                Console.WriteLine();\n            }\n\n\n\n            // clculate the maxpane of the first 2 jobs---------------------------------------\n            List&lt;int[]&gt; initMaxpane = new List&lt;int[]&gt;();\n            initMaxpane.Add((int[])list[0].Clone());\n            initMaxpane.Add((int[])list[1].Clone());\n\n            // calculer maxspan of  first jobs..............................................\n            for (int i = 0; i &lt; initMaxpane.Count; i++)\n            {\n                for (int j = 0; j &lt; initMaxpane[i].Length - 1; j++)\n                {\n                    if (j == 0 &amp;&amp; i == 0)\n                        initMaxpane[0][0] = list[i][j];\n                    else if (i == 0)\n                        initMaxpane[0][j] = (int)(initMaxpane[0][j - 1] + list[0][j]);\n                    else if (j == 0)\n                        initMaxpane[i][0] = (int)(initMaxpane[i - 1][0] + list[i][0]);\n                }\n            }\n\n            for (int i = 1; i &lt; initMaxpane.Count; i++)\n            {\n                for (int j = 1; j &lt; initMaxpane[i].Length - 1; j++)\n                {\n                    if ((initMaxpane[i][j - 1] &gt; initMaxpane[i - 1][j]))\n                        initMaxpane[i][j] = (int)(initMaxpane[i][j - 1] + list[i][j]);\n                    else\n                        initMaxpane[i][j] = (int)(initMaxpane[i - 1][j] + list[i][j]);\n                }\n            }\n\n            int Cmax = initMaxpane[initMaxpane.Count - 1][initMaxpane[initMaxpane.Count - 1].Length - 2];\n\n\n\n            Console.WriteLine(\"\\n\\n-------the maxpane offirst jobs----------\");\n            for (int i = 0; i &lt; initMaxpane.Count; i++)\n            {\n                for (int j = 0; j &lt; initMaxpane[i].Length; j++)\n                {\n                    Console.Write(\"\\t\" + \"[\" + initMaxpane[i][j] + \"]\");\n                }\n\n                Console.WriteLine();\n            }\n\n\n            List&lt;int[]&gt; initMaxpane2 = new List&lt;int[]&gt;();\n            initMaxpane2.Add(list.ElementAt(1));\n            initMaxpane2.Add(list.ElementAt(0));\n\n            // calculer maxspan of  first jobs reverse..............................................\n            for (int i = 0; i &lt; initMaxpane2.Count; i++)\n            {\n                for (int j = 0; j &lt; initMaxpane2[i].Length - 1; j++)\n                {\n                    if (j == 0 &amp;&amp; i == 0)\n                        initMaxpane2[0][0] = list[i][j];\n                    else if (i == 0)\n                        initMaxpane2[0][j] = (int)(initMaxpane2[0][j - 1] + list[0][j]);\n                    else if (j == 0)\n                        initMaxpane2[i][0] = (int)(initMaxpane2[i - 1][0] + list[i][0]);\n                }\n            }\n\n            for (int i = 1; i &lt; initMaxpane2.Count; i++)\n            {\n                for (int j = 1; j &lt; initMaxpane2[i].Length - 1; j++)\n                {\n                    if ((initMaxpane2[i][j - 1] &gt; initMaxpane2[i - 1][j]))\n                        initMaxpane2[i][j] = (int)(initMaxpane2[i][j - 1] + list[i][j]);\n                    else\n                        initMaxpane2[i][j] = (int)(initMaxpane2[i - 1][j] + list[i][j]);\n                }\n            }\n\n            int Cmax2 = initMaxpane2[initMaxpane2.Count - 1][initMaxpane2[initMaxpane2.Count - 1].Length - 2];\n            Console.WriteLine(\"\\n\\n-------the maxpane of first jobs (reverse)----------\");\n            for (int i = 0; i &lt; initMaxpane2.Count; i++)\n            {\n                for (int j = 0; j &lt; initMaxpane2[i].Length; j++)\n                {\n                    Console.Write(\"\\t\" + \"[\" + initMaxpane2[i][j] + \"]\");\n                }\n\n                Console.WriteLine();\n            }\n\n            List&lt;int[]&gt; MaxpaneList = new List&lt;int[]&gt;();\n            if (Cmax &gt; Cmax2)\n            {\n                MaxpaneList.Add((int[])list[1].Clone());\n                MaxpaneList.Add((int[])list[0].Clone());\n            }\n            else\n            {\n                MaxpaneList.Add((int[])list[0].Clone());\n                MaxpaneList.Add((int[])list[1].Clone());\n            }\n\n            List&lt;int[]&gt; bestSequenceList = null;\n            List&lt;int[]&gt; kmsList = null;\n            List&lt;int[]&gt; Sorted_list = list.ToList();\n            int bestCma = 0;\n            //int maxspan = 0;\n\n            for (int jo = 2; jo &lt; job; jo++)\n            {\n                for (int ins = 0; ins &lt;= MaxpaneList.Count; ins++)\n                {\n                    MaxpaneList.Insert(ins, list[jo]);\n                    kmsList = MaxpaneList.ToList();\n                    int Cma = 0;\n                    for (int i = 0; i &lt; kmsList.Count; i++)\n                    {\n                        for (int j = 0; j &lt; kmsList[i].Length - 1; j++)\n                        {\n                            /*\n                            *\n                            *   HERE Sorted_list GET MODIFIED UNEXPECTEDLY\n                            */\n                            if (i == 0 &amp;&amp; j == 0)\n                                kmsList[0][0] = Sorted_list[0][0];\n                            else if (i == 0)\n                                kmsList[0][j] = kmsList[0][j - 1] + Sorted_list[0][j];\n                            else if (j == 0)\n                                kmsList[i][0] = kmsList[i - 1][0] + Sorted_list[i][0];\n                        }\n                    }\n\n                    for (int i = 1; i &lt; kmsList.Count; i++)\n                    {\n                        for (int j = 1; j &lt; kmsList[i].Length - 1; j++)\n                        {\n                            if ((kmsList[i][j - 1] &gt; kmsList[i - 1][j]))\n                                kmsList[i][j] = kmsList[i][j - 1] + Sorted_list[i][j];\n                            else\n                                kmsList[i][j] = kmsList[i - 1][j] + Sorted_list[i][j];\n                        }\n                    }\n\n                    Cma = kmsList[kmsList.Count - 1][kmsList[kmsList.Count - 1].Length - 2];\n                    Console.WriteLine(\"\\n\\n\\n------- the maxpane sequence ----------\");\n                    for (int i = 0; i &lt; MaxpaneList.Count; i++)\n                    {\n                        for (int j = 0; j &lt; MaxpaneList[i].Length; j++)\n                        {\n                            Console.Write(\"\\t\" + \"[\" + MaxpaneList[i][j] + \"]\");\n                        }\n\n                        Console.WriteLine();\n                    }\n\n                    Console.WriteLine(\"MAX   : \" + Cma + \"\\n\\n\\n\");\n                    if (ins == 0)\n                    {\n                        bestCma = Cma;\n                    }\n\n                    if (jo == 2 &amp;&amp; ins == 0)\n                    {\n                        bestSequenceList = MaxpaneList.ToList();\n                        bestCma = Cma;\n                    }\n                    else\n                    {\n                        if (bestCma &gt; Cma)\n                        {\n                            bestSequenceList = MaxpaneList.ToList();\n                            bestCma = Cma;\n                        }\n                    }\n\n                    MaxpaneList.RemoveAt(ins);\n                }\n\n                MaxpaneList = bestSequenceList.ToList();\n            }\n\n            Console.ReadLine();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "xml", "validation", "xsd", "xmlreader"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 6621720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21685a47a5195a87db9feea1fb61a97f?s=128&d=identicon&r=PG&f=1", "display_name": "Kaman Poole", "link": "https://stackoverflow.com/users/6621720/kaman-poole"}, "edited": false, "score": 0, "creation_date": 1493302963, "post_id": 43652689, "comment_id": 74368129, "body": "Thanks for the help! So that means that in the XML file, if I use an xsi:schemaLocation attribute, then I shouldn&#39;t add the schema using Schemas.Add in the XmlReaderSettings? So if I used an xsi:noSchemaLocation attribute then I would have to add the schema to the XmlReaderSettings in order to have the XML validated?"}], "tags": [], "owner": {"reputation": 23254, "user_id": 1320845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c806c11bc65456280ef4832f82441d43?s=128&d=identicon&r=PG", "display_name": "Charles Mager", "link": "https://stackoverflow.com/users/1320845/charles-mager"}, "is_accepted": true, "score": 0, "last_activity_date": 1493282113, "creation_date": 1493282113, "answer_id": 43652689, "question_id": 43643088, "link": "https://stackoverflow.com/questions/43643088/c-deserializing-and-validating-an-xml-file-against-an-xsd-using-xmlreader-crea/43652689#43652689", "title": "C# Deserializing, and validating an XML file against an XSD using XmlReader.Create isn&#39;t working", "body": "<p>The cause of your exception is that your document has a schema location hint that loads the schema, but you've already loaded it. </p>\n\n<p>Either don't pre-load the schema or remove the <code>xsi:schemaLocation</code> attribute from your document.</p>\n"}], "owner": {"reputation": 67, "user_id": 6621720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21685a47a5195a87db9feea1fb61a97f?s=128&d=identicon&r=PG&f=1", "display_name": "Kaman Poole", "link": "https://stackoverflow.com/users/6621720/kaman-poole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1827, "favorite_count": 0, "accepted_answer_id": 43652689, "answer_count": 1, "score": 0, "last_activity_date": 1493282113, "creation_date": 1493235369, "last_edit_date": 1493240461, "question_id": 43643088, "link": "https://stackoverflow.com/questions/43643088/c-deserializing-and-validating-an-xml-file-against-an-xsd-using-xmlreader-crea", "title": "C# Deserializing, and validating an XML file against an XSD using XmlReader.Create isn&#39;t working", "body": "<p>I am using Visual Studio 2015.\nI apologize for the poorly named \"firstName\" element. It should have been \"fullName\", but since I already generated the class for the schema, and this is just for my own learning, I left it as is.\nI have an XML schema here:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;xs:schema id=\"address-schema\"\ntargetNamespace=\"http://tempuri.org/address-schema.xsd\"\nelementFormDefault=\"qualified\"\nattributeFormDefault=\"qualified\"\nxmlns:addr=\"http://tempuri.org/address-schema.xsd\"\nxmlns:mstns=\"http://tempuri.org/address-schema.xsd\"\nxmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\n&gt;\n  &lt;xs:element name=\"address\"&gt;\n    &lt;xs:complexType&gt;\n      &lt;xs:sequence&gt;\n        &lt;xs:element name=\"firstName\"&gt;\n          &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n              &lt;xs:element name=\"first\" type=\"addr:nameComponent\"/&gt;\n              &lt;xs:element name=\"middle\" type=\"addr:nameComponent\" minOccurs=\"0\"/&gt;\n              &lt;xs:element name=\"last\" type=\"addr:nameComponent\"/&gt;\n            &lt;/xs:sequence&gt;\n          &lt;/xs:complexType&gt;\n        &lt;/xs:element&gt;\n      &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n  &lt;/xs:element&gt;\n\n  &lt;xs:complexType name=\"nameComponent\"&gt;\n    &lt;xs:simpleContent&gt;\n      &lt;xs:extension base=\"xs:string\"/&gt;\n    &lt;/xs:simpleContent&gt;\n  &lt;/xs:complexType&gt;\n\n&lt;/xs:schema&gt;\n</code></pre>\n\n<p>And an XML file that I think conforms to the schema:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;addr:address xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n          xsi:schemaLocation=\"http://tempuri.org/address-schema.xsd address-schema.xsd\" \n          xmlns:addr=\"http://tempuri.org/address-schema.xsd\"&gt;\n  &lt;addr:firstName&gt;\n    &lt;addr:first&gt;Some&lt;/addr:first&gt;\n    &lt;addr:middle&gt;Bodys&lt;/addr:middle&gt;\n    &lt;addr:last&gt;Name&lt;/addr:last&gt;\n  &lt;/addr:firstName&gt;\n&lt;/addr:address&gt;\n</code></pre>\n\n<p>And the code that is attempting to validate the XML is here (note that the \"address\" class that the XML file is getting deserialized into is an auto generated class from xsd.exe):</p>\n\n<pre><code>address address;\nvar xmlSchemaSerializer = new XmlSerializer(typeof(XmlSchema));\nvar addressXmlSerializer = new XmlSerializer(typeof(address));\n\nvar schemas = new XmlSchemaSet();\nXmlSchema schema;\nusing (var xsdStream = File.OpenRead(\"address-schema.xsd\"))\n{\n    schema = (XmlSchema)xmlSchemaSerializer.Deserialize(xsdStream);\n}\nschemas.Add(schema);\nvar settings = new XmlReaderSettings\n{\n    Schemas = schemas,\n    ValidationType = ValidationType.Schema,\n    ValidationFlags = XmlSchemaValidationFlags.ProcessIdentityConstraints | XmlSchemaValidationFlags.ReportValidationWarnings | XmlSchemaValidationFlags.ProcessInlineSchema | XmlSchemaValidationFlags.ProcessSchemaLocation\n};\nsettings.ValidationEventHandler += (sender, arguments) =&gt;\n{\n    throw new XmlSchemaValidationException(arguments.Message);\n};\n\nusing(Stream addressXmlStream = File.OpenRead(\"address-doc.xml\"))\nusing (XmlReader reader = XmlReader.Create(addressXmlStream, settings))\n{\n    address = (address)addressXmlSerializer.Deserialize(reader);\n}\nConsole.WriteLine(address.firstName.first.Value == \"Some\" ? \"Success!\" : \"Fail\");\nConsole.ReadKey();\n</code></pre>\n\n<p>The exception ('System.Xml.Schema.XmlSchemaValidationException'The global element '<a href=\"http://tempuri.org/address-schema.xsd:address\" rel=\"nofollow noreferrer\">http://tempuri.org/address-schema.xsd:address</a>' has already been declared.) is thrown in the ValidationEventHandler.\nAny help or suggestions would be appreciated. Thanks in advance!</p>\n"}, {"tags": ["c#", "reflection", "json.net"], "answers": [{"comments": [{"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1493241646, "post_id": 43644455, "comment_id": 74337829, "body": "My answer also misses one of the requirements of the question. You&#39;re looking to instantiate an object, not to start with an instance and populate properties as needed. But in that scenario I&#39;d still lean toward setting defaults on the properties so that they aren&#39;t null in the first place. Then you just create a new instance of the base type and the rest takes care of itself."}], "tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": false, "score": 1, "last_activity_date": 1493240500, "creation_date": 1493240500, "answer_id": 43644455, "question_id": 43643051, "link": "https://stackoverflow.com/questions/43643051/instantiate-an-instance-of-a-type-including-all-object-properties-and-adhere-to/43644455#43644455", "title": "Instantiate an instance of a Type including all object properties and adhere to inheritance", "body": "<p>This hastily-written class begins to address your question. It returns the settable properties which return reference types and walks through them recursively, creating instances as needed. </p>\n\n<p>It doesn't cover </p>\n\n<ul>\n<li>Indexed properties</li>\n<li>Depth of recursion</li>\n</ul>\n\n<p>You may be better off just setting defaults on the properties themselves so that the class won't be created with undesirable nulls.</p>\n\n<pre><code>public class PropertyPopulator\n{\n    public void PopulateProperties(object target)\n    {\n        var properties = target.GetType()\n            .GetProperties(BindingFlags.Instance | BindingFlags.Public)\n            .Where(p =&gt; p.PropertyType.IsClass &amp;&amp; p.CanWrite &amp;&amp; p.CanRead);\n        foreach (var property in properties)\n        {\n            var propertyValue = property.GetValue(target);\n            if (propertyValue == null)\n            {\n                var constructor = property.PropertyType.GetConstructor(new Type[] { });\n                if (constructor != null)\n                {\n                    propertyValue = constructor.Invoke(new object[] { });\n                    property.SetValue(target, propertyValue);\n                    PopulateProperties(propertyValue);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 108943, "user_id": 10263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e51Ks.jpg?s=128&g=1", "display_name": "Brian Rogers", "link": "https://stackoverflow.com/users/10263/brian-rogers"}, "is_accepted": true, "score": 1, "last_activity_date": 1493241606, "last_edit_date": 1493241606, "creation_date": 1493240553, "answer_id": 43644465, "question_id": 43643051, "link": "https://stackoverflow.com/questions/43643051/instantiate-an-instance-of-a-type-including-all-object-properties-and-adhere-to/43644465#43644465", "title": "Instantiate an instance of a Type including all object properties and adhere to inheritance", "body": "<p>As far as I know there is not a built-in way to do this short of writing your own recursive method.<br>\nHowever, assuming that:</p>\n\n<ol>\n<li>your classes all have parameterless (default) constructors, </li>\n<li>the non-primitive properties are all concrete types (not interfaces), and </li>\n<li>you don't have any reference loops in your class structure,</li>\n</ol>\n\n<p>then you can create such a method in about a dozen lines of code:</p>\n\n<pre><code>public static string CreateDefaultEmptyJson(Type type)\n{\n    return JsonConvert.SerializeObject(RecursiveCreateInstance(type), Formatting.Indented);\n}\n\npublic static object RecursiveCreateInstance(Type type)\n{\n    object obj = null;\n    ConstructorInfo ctor = type.GetConstructor(Type.EmptyTypes);\n    if (ctor != null)\n    {\n        obj = ctor.Invoke(null);\n        foreach (PropertyInfo prop in type.GetProperties())\n        {\n            Type propType = prop.PropertyType;\n            if (prop.CanWrite &amp;&amp; propType.IsClass)\n            {\n                prop.SetValue(obj, RecursiveCreateInstance(propType));\n            }\n        }\n    }\n    return obj;\n}\n</code></pre>\n\n<p>Fiddle: <a href=\"https://dotnetfiddle.net/3VMTsC\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/3VMTsC</a></p>\n\n<p>If the above assumptions don't hold, then things get complicated fast.  If you're running into issues where you need an easy way to create fake objects for testing purposes, then you might want to look into using a <a href=\"https://www.google.com/search?q=mocking+framework+c%23\" rel=\"nofollow noreferrer\">mocking framework</a>.</p>\n"}], "owner": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 43644465, "answer_count": 2, "score": 0, "last_activity_date": 1493241606, "creation_date": 1493235280, "question_id": 43643051, "link": "https://stackoverflow.com/questions/43643051/instantiate-an-instance-of-a-type-including-all-object-properties-and-adhere-to", "title": "Instantiate an instance of a Type including all object properties and adhere to inheritance", "body": "<p>I'm not sure if that title is reflective of the actual question, so let me explain. Is there a way to instantiate a class and recursively instantiate all properties that are classes?</p>\n\n<p>For example : </p>\n\n<pre><code>public class Base\n{\n    public int BaseValue{ get; set;} \n}\n\npublic class Extended : Base\n{\n    public int ExtendedValue{ get; set;}\n    public AnotherExtendedClass AnotherClass { get; set;}\n}\n</code></pre>\n\n<p>I  would like to create a json payload comprised of an empty instance of <code>Extended</code> with all default values and properties instantiated. And use it like:</p>\n\n<pre><code>string representation = Test.CreateDefaultEmptyJson(Extended);\n\npublic static string CreateDefaultEmptyJson(Type type)\n{\n    JsonSerializerSettings settings = new JsonSerializerSettings().Configure();\n    var defaultInstance= Activator.CreateInstance(type);\n    return JsonConvert.SerializeObject(defaultInstance, settings);\n}\n</code></pre>\n\n<p>The output does not include the <code>Extended</code> class properties. I get back :</p>\n\n<pre><code>{\n    \"BaseValue\":0\n}\n</code></pre>\n\n<p>When I would really like to see ( or something similar ):</p>\n\n<pre><code>{\n    \"BaseValue\":0,\n    {\n         \"ExtendedValue\":0,\n         {\n             ...\n         }\n    }\n}\n</code></pre>\n\n<p>I suppose I could recursively iterate all types of <code>Extended</code> and call the default constructor, however, before I go down that road there may be a few lines of code to accomplish the same.</p>\n"}, {"tags": ["c#", "azure"], "answers": [{"tags": [], "owner": {"reputation": 646, "user_id": 1712323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74cdc66029fd25c13bb83971e6a34b6b?s=128&d=identicon&r=PG&f=1", "display_name": "loneshark99", "link": "https://stackoverflow.com/users/1712323/loneshark99"}, "is_accepted": false, "score": 0, "last_activity_date": 1493239644, "last_edit_date": 1493239644, "creation_date": 1493239335, "answer_id": 43644161, "question_id": 43643032, "link": "https://stackoverflow.com/questions/43643032/how-to-improve-archiving-data-to-azure-storage/43644161#43644161", "title": "How to improve archiving data to Azure storage", "body": "<p>1) If you want to Upload the file with better performance you need to set the <code>CloudBlobClient.ParallelOperationThreadCount</code> on the blobClient to a higher number. This will upload the file in different threads. You can see in fiddler how the file is sent. </p>\n\n<p>You can read more about it here :: <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.windowsazure.storage.blob.cloudblobclient.paralleloperationthreadcount\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/microsoft.windowsazure.storage.blob.cloudblobclient.paralleloperationthreadcount</a></p>\n\n<p><a href=\"https://blogs.msdn.microsoft.com/avkashchauhan/2012/02/21/windows-azure-blob-upload-scenarios/\" rel=\"nofollow noreferrer\">https://blogs.msdn.microsoft.com/avkashchauhan/2012/02/21/windows-azure-blob-upload-scenarios/</a></p>\n\n<p>2) Apart from this you might want to gzip the file to reduce the file size but you will have to compress/uncompress it everytime.</p>\n\n<p>3) Another option is, if this is an offline process you can use the AzCopy exe from microsoft to upload the file. You can read more about it here. </p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/storage/storage-use-azcopy\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/storage/storage-use-azcopy</a></p>\n"}], "owner": {"reputation": 2475, "user_id": 1522049, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/aebfb5ebd2ed5331ab3bbe866e81b8ca?s=128&d=identicon&r=PG", "display_name": "andrewb", "link": "https://stackoverflow.com/users/1522049/andrewb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493239644, "creation_date": 1493235226, "question_id": 43643032, "link": "https://stackoverflow.com/questions/43643032/how-to-improve-archiving-data-to-azure-storage", "title": "How to improve archiving data to Azure storage", "body": "<p>I have a need to archive data from a SQL Server database to a Azure storage container blob.</p>\n\n<p>The data is retrieved by a stored procedure (basically return all data which is older than n days). There are about 1.4 million rows of data which need to be saved to a blob in Azure.</p>\n\n<p>The process takes quite a while to complete so is there a way I can speed this up? A C# console application is used to retrieve the data and upload it to Azure. Here is the relevant code.</p>\n\n<pre><code>CloudStorageAccount storageAccount = CloudStorageAccount.Parse(\"snip\");\nCloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();\nCloudBlobContainer container = blobClient.GetContainerReference(\"core-backups\");\nCloudBlockBlob blob = container.GetBlockBlobReference(\"2017/04/26/data.txt\");\n\nvar data = new DataTable();\nusing (SqlConnection conn = new SqlConnection(\"snip\"))\n{\n    conn.Open();\n    SqlCommand getOldLogData = new SqlCommand(\"backup_sp\", conn);\n    getOldLogData.CommandType = CommandType.StoredProcedure;\n    getOldLogData.CommandTimeout = 300;\n    getOldLogData.Parameters.AddWithValue(\"@Days\", 30);\n    using (SqlDataAdapter adr = new SqlDataAdapter(getOldLogData))\n    {\n        adr.Fill(data);\n    }\n}\n\nusing (var writeStream = blob.OpenWrite())\n{\n    using (var writer = new StreamWriter(writeStream))\n    {\n        data.WriteXml(writer, XmlWriteMode.WriteSchema);\n    }\n}\n</code></pre>\n\n<p>The file saved in Azure is 540 MB, so I am looking for a way to make the upload to Azure more efficient, and also if possible how to compress the data so the filesize is smaller? We may in the future want to restore the data which is backed up.</p>\n"}, {"tags": ["c#", "arrays", "loops", "console-application"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1493235405, "post_id": 43643010, "comment_id": 74334473, "body": "It stops because you return immediately after finding the first match. You should continue and save all the indexes found in another array (or better a <code>List&lt;int&gt;</code>)  and then return that array or list."}, {"owner": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1493235464, "post_id": 43643010, "comment_id": 74334511, "body": "You return immediately when you find one result. Rather change the code to add the results to a list and then result an array based on that. Then give that to the output method. Also it&#39;s not smart to have separate arrays for this, better learn basic object oriented methods and create a class that includes the data. This way you don&#39;t get mismatching arrays ever."}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1493235622, "post_id": 43643010, "comment_id": 74334604, "body": "Parallel arrays of &quot;associated&quot; data is usually not a good idea. A better way to &quot;associate&quot; the data is by putting them into a <code>class Student { }</code>, then you just have an array of the <code>class</code>."}], "answers": [{"tags": [], "owner": {"reputation": 5172, "user_id": 1411104, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d76247ee9f2ba6c7c79fc5cea3e8fba2?s=128&d=identicon&r=PG", "display_name": "MistyK", "link": "https://stackoverflow.com/users/1411104/mistyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1493235369, "creation_date": 1493235369, "answer_id": 43643086, "question_id": 43643010, "link": "https://stackoverflow.com/questions/43643010/how-to-loop-through-array-to-find-all-occurrences-of-an-element-c/43643086#43643086", "title": "How to loop through array to find all occurrences of an element C#", "body": "<p>Linq is perfect for it:</p>\n\n<pre><code>  var choosenGrades = studentGrade.Where(x=&gt;x == userInput).ToList();\n</code></pre>\n\n<p>Remember to add import <code>System.Linq</code></p>\n"}, {"tags": [], "owner": {"reputation": 1275, "user_id": 1623418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DqmiD.jpg?s=128&g=1", "display_name": "KingPancake", "link": "https://stackoverflow.com/users/1623418/kingpancake"}, "is_accepted": false, "score": 0, "last_activity_date": 1493235672, "creation_date": 1493235672, "answer_id": 43643173, "question_id": 43643010, "link": "https://stackoverflow.com/questions/43643010/how-to-loop-through-array-to-find-all-occurrences-of-an-element-c/43643173#43643173", "title": "How to loop through array to find all occurrences of an element C#", "body": "<p>The reason your loop is ending after one is because you are returning the first instance of the subscript and the function ends there. </p>\n\n<p>you should create a list of subscripts to return.</p>\n\n<p>so you search function should be changed to something like this </p>\n\n<pre><code>public static List&lt;int&gt; Search(int[] studentGrade, int userInput, ref int counter)\n    {\n        var listOfSubscripts = new List&lt;int&gt;();\n        counter = 0;\n\n        for (int s = 0; s &lt; studentGrade.Length; s++)\n        {\n            counter++;                             \n\n            if (studentGrade[s] == userInput)\n                listOfSubscripts.Add(s);\n        }\n\n        return listOfSubscripts;\n    }\n</code></pre>\n\n<p>And then your show results function should be like</p>\n\n<pre><code>public static void ShowResults(int userInput, List&lt;int&gt; subscripts, int counter)\n{\n\n    //LOOP THROUGH ARRAY\n    Console.WriteLine();\n    Console.WriteLine(\"The following students have that grade: \");\n    Console.WriteLine();\n\n        if (subscript == -1)\n            Console.WriteLine(\"{0} is NOT in array, # of comparisons is {1}\",\n                userInput, counter);\n        else\n        {\n            foreach(var subscript in subscripts)\n            {\n                Console.WriteLine(\"{0} {1}\", studentName[subscript].PadRight(20), studentGrade[subscript].ToString().PadRight(5));\n            }\n        }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2868, "user_id": 922202, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a909d49e7e0b73f4b1e10dc15b3e20f?s=128&d=identicon&r=PG", "display_name": "Guillaume CR", "link": "https://stackoverflow.com/users/922202/guillaume-cr"}, "is_accepted": false, "score": 1, "last_activity_date": 1493236208, "creation_date": 1493236208, "answer_id": 43643334, "question_id": 43643010, "link": "https://stackoverflow.com/questions/43643010/how-to-loop-through-array-to-find-all-occurrences-of-an-element-c/43643334#43643334", "title": "How to loop through array to find all occurrences of an element C#", "body": "<p>Good programming is the art of reducing cognitive load. In your architecture, you - the programmer - know that both arrays are related to each other. If you create a Student class as such:</p>\n\n<pre><code>public class Student\n{\n    public string Name;\n    public int Grade;\n}\n</code></pre>\n\n<p>Now you can create a</p>\n\n<pre><code>var students = new List&lt;Student&gt;();\n</code></pre>\n\n<p>At this point, the compiler knows to associate student names and their grades, and you don't have to remember which arrays are correlated.</p>\n\n<p>You can now return your filtered list using System.Linq as such:</p>\n\n<pre><code>return students.Where(x =&gt; x.Grade == 87);\n</code></pre>\n\n<p>You have reduced cognitive load. This may seem trivial for your example, but it becomes central to good programming in a large organization where you will spend most of your time maintaining someone else's code.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6470193, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/db224f3888f3b483bf5cc85f870d7605?s=128&d=identicon&r=PG&f=1", "display_name": "Casey Smith", "link": "https://stackoverflow.com/users/6470193/casey-smith"}, "edited": false, "score": 0, "creation_date": 1493305678, "post_id": 43643350, "comment_id": 74370067, "body": "Thank you for your help Dmitry."}], "tags": [], "owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "is_accepted": true, "score": 0, "last_activity_date": 1493236285, "creation_date": 1493236285, "answer_id": 43643350, "question_id": 43643010, "link": "https://stackoverflow.com/questions/43643010/how-to-loop-through-array-to-find-all-occurrences-of-an-element-c/43643350#43643350", "title": "How to loop through array to find all occurrences of an element C#", "body": "<p>First, let's state the problem. We have two arrays:</p>\n\n<pre><code> string[] studentName = new string[] {\n   \"Amy\", \"Bob\", \"Charly\", \"Dimitry\", \"Eva\",\n };\n\n int[] studentGrade = new int[] {\n   80, 70, 80, 95, 68,         \n }; \n</code></pre>\n\n<p>And you want to get all the students with the given grade. E.g. <code>\"Amy\"</code> and <code>\"Charly\"</code> for <code>80</code>.\nIf it's your case you have to scan both arrays:</p>\n\n<pre><code> private static List&lt;string&gt; Search(string[] studentName, int[] studentGrade, int grade) {\n   List&lt;string&gt; result = new List&lt;string&gt;();\n\n   // Let's use good old for loop instead of Linq\n   for (int i = 0; i &lt; studentGrade.Length; ++i)\n     if (studentGrade[i] == grade)\n       result.Add(studentName[i]);\n\n   return result; \n }\n\n public static void ShowResults(int userInput) {\n   Console.WriteLine();\n   Console.WriteLine(\"The following students have that grade: \");\n   Console.WriteLine();\n\n   List&lt;string&gt; list = Search(studentGrade, studentName, userInput); \n\n   if (list.Count &lt;= 0)\n     Console.WriteLine(\"{0} is NOT in array\", userInput);\n   else\n     Console.WriteLine(\"{0} {1}\", string.Join(\", \", list), userInput);\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6470193, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/db224f3888f3b483bf5cc85f870d7605?s=128&d=identicon&r=PG&f=1", "display_name": "Casey Smith", "link": "https://stackoverflow.com/users/6470193/casey-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 951, "favorite_count": 0, "accepted_answer_id": 43643350, "answer_count": 4, "score": -1, "last_activity_date": 1493272793, "creation_date": 1493235128, "last_edit_date": 1493272793, "question_id": 43643010, "link": "https://stackoverflow.com/questions/43643010/how-to-loop-through-array-to-find-all-occurrences-of-an-element-c", "title": "How to loop through array to find all occurrences of an element C#", "body": "<p>I'm pretty new to programming,</p>\n\n<p>I have two arrays that correspond with eachother.\nThe First displays student names the other displays the students grade.</p>\n\n<p>My goal is to loop through the arrays and print out all of the students who have the grade\n87 for example.</p>\n\n<p>As of right now I am able to print the first person with that grade, however the loop ends once it finds the first grade.</p>\n\n<p>I'm having trouble figuring out how to find ALL of the people with that grade. Any help would be appreciated. Thanks</p>\n\n<pre><code>     public static void OptionTwo()\n    {\n        LoadArray();\n\n        Console.WriteLine(\"Enter a student grade to see all students with that grade\");\n        int userInput = Convert.ToInt32(Console.ReadLine());\n\n        int subscript;\n\n        subscript = Search(studentGrade, userInput, ref counter);\n        ShowResults(userInput, subscript, counter);\n    }\n\n    public static int Search(int[] studentGrade, int userInput, ref int counter)\n    {\n        counter = 0;\n\n        for (int s = 0; s &lt; studentGrade.Length; s++)\n        {\n            counter++;                             \n\n            if (studentGrade[s] == userInput)\n                return s;\n        }\n        return -1;\n    }\n\n    public static void ShowResults(int userInput, int subscript, int counter)\n    {\n\n        //LOOP THROUGH ARRAY\n        Console.WriteLine();\n        Console.WriteLine(\"The following students have that grade: \");\n        Console.WriteLine();\n\n            if (subscript == -1)\n                Console.WriteLine(\"{0} is NOT in array, # of comparisons is {1}\",\n                    userInput, counter);\n            else\n                Console.WriteLine(\"{0} {1}\", studentName[subscript].PadRight(20), studentGrade[subscript].ToString().PadRight(5));\n    }\n</code></pre>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 1, "creation_date": 1493235286, "post_id": 43643001, "comment_id": 74334408, "body": "Are you sure this is what you want? It seems like <code>countrypk</code> is unique so it won&#39;t help grouping by it. Please show desired output"}, {"owner": {"reputation": 125, "user_id": 2769810, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4b25b6612f71146dfca0a0c0c7e9044f?s=128&d=identicon&r=PG&f=1", "display_name": "user2769810", "link": "https://stackoverflow.com/users/2769810/user2769810"}, "reply_to_user": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 1, "creation_date": 1493235565, "post_id": 43643001, "comment_id": 74334569, "body": "I Fixed my post."}, {"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 0, "creation_date": 1493235653, "post_id": 43643001, "comment_id": 74334622, "body": "It seems like all you need is just getting 2 out of the 4 columns but no grouping. Is that what you need?"}, {"owner": {"reputation": 125, "user_id": 2769810, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4b25b6612f71146dfca0a0c0c7e9044f?s=128&d=identicon&r=PG&f=1", "display_name": "user2769810", "link": "https://stackoverflow.com/users/2769810/user2769810"}, "reply_to_user": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 1, "creation_date": 1493235743, "post_id": 43643001, "comment_id": 74334681, "body": "You are full of good questions. I fixed the post. The desired output is 2 rows, with 2 columns"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 2769810, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4b25b6612f71146dfca0a0c0c7e9044f?s=128&d=identicon&r=PG&f=1", "display_name": "user2769810", "link": "https://stackoverflow.com/users/2769810/user2769810"}, "edited": false, "score": 0, "creation_date": 1493241128, "post_id": 43643229, "comment_id": 74337594, "body": "Thanks for the answer. For the GroupBy overload, is it grouping by item followed by selector?"}, {"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "reply_to_user": {"reputation": 125, "user_id": 2769810, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4b25b6612f71146dfca0a0c0c7e9044f?s=128&d=identicon&r=PG&f=1", "display_name": "user2769810", "link": "https://stackoverflow.com/users/2769810/user2769810"}, "edited": false, "score": 0, "creation_date": 1493271160, "post_id": 43643229, "comment_id": 74346570, "body": "@user2769810 - you can read more on MSDN but basically it&#39;s the equivalent for the query syntax of <code>group &#47;*the selector -what data to group*&#47; by &#47;*the key*&#47; into g</code>"}], "tags": [], "owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "is_accepted": true, "score": 2, "last_activity_date": 1493236832, "last_edit_date": 1493236832, "creation_date": 1493235869, "answer_id": 43643229, "question_id": 43643001, "link": "https://stackoverflow.com/questions/43643001/linq-group-by-and-retrieve-common-property/43643229#43643229", "title": "LINQ: Group By, and retrieve common property", "body": "<p>The addition of the <code>Where</code> is not needed. If you have a group it contains at least a single item in it. You can do something like this:</p>\n\n<pre><code>list1.GroupBy(item =&gt; item.countrypk)\n     .Select(item =&gt; new { item.Key, item.First().countryname} );\n</code></pre>\n\n<p>Or using a different overload of <code>GroupBy</code>:</p>\n\n<pre><code>list1.GroupBy(item =&gt; item.countrypk, \n              selector =&gt; new { selector.countrypk, selector.countryname} )\n     .Select(group =&gt; group.First())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6778, "user_id": 2023861, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a45c405990aa8f4b4b0877f3423ba5bd?s=128&d=identicon&r=PG", "display_name": "user2023861", "link": "https://stackoverflow.com/users/2023861/user2023861"}, "is_accepted": false, "score": 0, "last_activity_date": 1493236317, "last_edit_date": 1493236317, "creation_date": 1493235904, "answer_id": 43643241, "question_id": 43643001, "link": "https://stackoverflow.com/questions/43643001/linq-group-by-and-retrieve-common-property/43643241#43643241", "title": "LINQ: Group By, and retrieve common property", "body": "<p>If you grouped by countrypk, your result set wouldn't have duplicates in it.  Your desired result set has duplicate countrypk values in it (1).  To get your desired result set, do this:</p>\n\n<pre><code>var finalList = list1.Select(s =&gt; new { s.countrypk, s.countryname });\n</code></pre>\n\n<p>Edit: nevermind this part above, OP editted the question.</p>\n\n<hr>\n\n<p><code>I want to be able to group by countrypk, and retrieve the country name</code> What you're asking for is different than what your result set shows.  If you want a map of countrypk to country name using your <code>list1</code>, here's one way to do it:</p>\n\n<pre><code>var finalList = list1\n    .GroupBy(g =&gt; new { g.countrypk, g.countryname })\n    .ToDictionary(k =&gt; k.Key.countrypk, v =&gt; v.Key.countryname);\n</code></pre>\n\n<p>Note that you don't need <code>GroupBy</code> to do this.  Here's another solution:</p>\n\n<pre><code>var finalList = list1\n    .Select(s =&gt; new { s.countrypk, s.countryname })\n    .Distinct()\n    .ToDictionary(k =&gt; k.countrypk, v =&gt; v.countryname);\n</code></pre>\n\n<p>In either case, to get the country name for id 1, do this:</p>\n\n<pre><code>var countryName = finalList[1];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": false, "score": 0, "last_activity_date": 1493236442, "creation_date": 1493236442, "answer_id": 43643403, "question_id": 43643001, "link": "https://stackoverflow.com/questions/43643001/linq-group-by-and-retrieve-common-property/43643403#43643403", "title": "LINQ: Group By, and retrieve common property", "body": "<p>Try the following</p>\n\n<pre><code>var finalList = list1\n    .GroupBy(item =&gt; item.countrypk)\n    .Select(g =&gt; new { countrypk = g.Key, countryname = g.First().countryname });\n</code></pre>\n\n<p>which should provided the desired output</p>\n"}, {"tags": [], "owner": {"reputation": 5172, "user_id": 1411104, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d76247ee9f2ba6c7c79fc5cea3e8fba2?s=128&d=identicon&r=PG", "display_name": "MistyK", "link": "https://stackoverflow.com/users/1411104/mistyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1493236485, "creation_date": 1493236485, "answer_id": 43643412, "question_id": 43643001, "link": "https://stackoverflow.com/questions/43643001/linq-group-by-and-retrieve-common-property/43643412#43643412", "title": "LINQ: Group By, and retrieve common property", "body": "<p>Basically you want to remove duplicates by countrypk and select only first two columns? Use this extension:</p>\n\n<pre><code>public static IEnumerable&lt;TSource&gt; DistinctBy&lt;TSource, TResult&gt;(this IEnumerable&lt;TSource&gt; source, Func&lt;TSource, TResult&gt; selector)\n    {\n        HashSet&lt;TResult&gt; set = new HashSet&lt;TResult&gt;();\n\n        foreach(var item in source)\n        {\n            var selectedValue = selector(item);\n\n            if (set.Add(selectedValue))\n                yield return item;\n        }\n    }\n</code></pre>\n\n<p>And then </p>\n\n<pre><code>var finalList = list1\n    .DistinctBy(item =&gt; item.countrypk)\n    .Select(item=&gt; new {item.countrypk, item.countryname })\n    .ToList();\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 2769810, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4b25b6612f71146dfca0a0c0c7e9044f?s=128&d=identicon&r=PG&f=1", "display_name": "user2769810", "link": "https://stackoverflow.com/users/2769810/user2769810"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 43643229, "answer_count": 4, "score": 1, "last_activity_date": 1493236832, "creation_date": 1493235088, "last_edit_date": 1493235708, "question_id": 43643001, "link": "https://stackoverflow.com/questions/43643001/linq-group-by-and-retrieve-common-property", "title": "LINQ: Group By, and retrieve common property", "body": "<p>I have the following dataset, which is stored in a variable called list1.</p>\n\n<pre><code>countrypk | countryname | statepk | statename\n---------------------------------------------\n1           USA           1         New York\n1           USA           2         California\n2           Canada        3         Manitoba\n</code></pre>\n\n<p>I want to be able to group by countrypk, and retrieve the country name.</p>\n\n<p>I have the following LINQ that achieves that effect, but was wondering if there was a better or more straight forward way to do it in LINQ. </p>\n\n<pre><code>var finalList = list1\n    .GroupBy(item =&gt; item.countrypk)\n    .Where(item =&gt; item.Count() &gt; 0)\n    .Select(item =&gt; item.First())\n</code></pre>\n\n<p>The desired output is:</p>\n\n<pre><code>countrypk | countryname \n---------------------------------------------\n1           USA                  \n2           Canada        \n</code></pre>\n"}, {"tags": ["javascript", "c#", "html", "asp.net"], "comments": [{"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 1, "creation_date": 1493235228, "post_id": 43642992, "comment_id": 74334367, "body": "You can&#39;t do that, if you want to be able to manipulate the controls on the server side, then you must create them on the server side."}, {"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1493235381, "post_id": 43642992, "comment_id": 74334458, "body": "You can get the values server side only if they have a name attribute, and you use something like <code>Request.Form[&quot;element_name&quot;]</code> to get the value."}, {"owner": {"reputation": 162, "user_id": 5038224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6KTim.png?s=128&g=1", "display_name": "darkfolcer", "link": "https://stackoverflow.com/users/5038224/darkfolcer"}, "edited": false, "score": 0, "creation_date": 1493235795, "post_id": 43642992, "comment_id": 74334712, "body": "My main problem is to let user add more textbox when creating a question with choices. Is there any efficient way that you can advice?."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1493240972, "post_id": 43642992, "comment_id": 74337532, "body": "Yes. Do what Sam just advised - create them with a &quot;name&quot; attribute and then you can reference them on the server."}], "owner": {"reputation": 162, "user_id": 5038224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6KTim.png?s=128&g=1", "display_name": "darkfolcer", "link": "https://stackoverflow.com/users/5038224/darkfolcer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493235073, "creation_date": 1493235073, "question_id": 43642992, "link": "https://stackoverflow.com/questions/43642992/c-loop-through-html-textarea", "title": "C# - Loop through HTML textarea", "body": "<p>I am generating HTML text areas with javascript code below:</p>\n\n<pre><code> &lt;script&gt;\n    $(document).ready(function () {\n        var i = 1;\n        $('#add').click(function () {\n            i++;\n            $('#dynamic_field').append('&lt;tr id=\"row' + i + '\"&gt;&lt;td&gt;&lt;textarea runat=\"server\" id=\"choice\"  placeholder=\"Enter choice text\" class=\"form-control\"&gt;&lt;/textarea&gt;&lt;/td&gt;&lt;td&gt;&lt;button type=\"button\" name=\"remove\" id=\"' + i + '\" class=\"btn btn-danger btn_remove\"&gt;X&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt;');\n        });\n        $(document).on('click', '.btn_remove', function () {\n            var button_id = $(this).attr(\"id\");\n            $('#row' + button_id + '').remove();\n        });\n\n    });\n</code></pre>\n\n<p></p>\n\n<p>After generating text areas, i want to get values of it. I have tried to get values with the code below:</p>\n\n<pre><code>   foreach (Control item in this.Controls)\n    {\n        ArrayList ary = new ArrayList();\n        //We just need HtmlInputCheckBox \n        System.Web.UI.HtmlControls.HtmlTextArea _cbx = item as System.Web.UI.HtmlControls.HtmlTextArea;\n        if (_cbx != null)\n        {\n\n\n            ary.Add(_cbx.Attributes[\"id\"].ToString());\n\n\n        }\n\n    }\n</code></pre>\n\n<p>But, it can not find any values. Any help will be appreciated, thank you.</p>\n"}, {"tags": ["c#", "xml", "unit-testing", "moq", "amazon-mws"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1493238779, "post_id": 43642965, "comment_id": 74336335, "body": "Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (code) that demonstrates the scenario and better explains your issue."}, {"owner": {"reputation": 603, "user_id": 2935417, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e49ce8abb431cab85168e8132eeeb072?s=128&d=identicon&r=PG&f=1", "display_name": "ifinlay", "link": "https://stackoverflow.com/users/2935417/ifinlay"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1493282947, "post_id": 43642965, "comment_id": 74353283, "body": "@Nkosi All done."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1493284129, "post_id": 43642965, "comment_id": 74354158, "body": "This looks like a simple case of having to read the XML file deserializing it from XML to the desired object type. Just want to make sure I understand what you want done."}, {"owner": {"reputation": 603, "user_id": 2935417, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e49ce8abb431cab85168e8132eeeb072?s=128&d=identicon&r=PG&f=1", "display_name": "ifinlay", "link": "https://stackoverflow.com/users/2935417/ifinlay"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1493291037, "post_id": 43642965, "comment_id": 74358979, "body": "Ah that makes perfect sense.  Best therefore that I abandon my current strategy of using the MWS scratchpad to obtain xml and pasting this into a file.  Better to code something that reads from the API and serialises this into a file.  I can then deserialize this when testing.  Happy to mark this as the answer if you&#39;d care to post something below."}, {"owner": {"reputation": 9893, "user_id": 3047, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0d77fde263c9e03e7db21808acd5de0c?s=128&d=identicon&r=PG", "display_name": "ScottG", "link": "https://stackoverflow.com/users/3047/scottg"}, "edited": false, "score": 0, "creation_date": 1493295489, "post_id": 43642965, "comment_id": 74362366, "body": "The MarketplaceWebServiceProductsSample.cs file included in the client library is the starting point.  Fill in your details, uncomment your code and follow through in the debugger.  You will see how It deserializes into the appropriate object for you.  You could do it manually of course, but just look at the code, it&#39;s all there."}, {"owner": {"reputation": 603, "user_id": 2935417, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e49ce8abb431cab85168e8132eeeb072?s=128&d=identicon&r=PG&f=1", "display_name": "ifinlay", "link": "https://stackoverflow.com/users/2935417/ifinlay"}, "reply_to_user": {"reputation": 9893, "user_id": 3047, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0d77fde263c9e03e7db21808acd5de0c?s=128&d=identicon&r=PG", "display_name": "ScottG", "link": "https://stackoverflow.com/users/3047/scottg"}, "edited": false, "score": 1, "creation_date": 1493299681, "post_id": 43642965, "comment_id": 74365645, "body": "@ScottG Many thanks for this. Delving around in the client library I see that MarketplaceWebServiceProductsMock.cs gives me a fully worked example.  Coupled with the remarks from Nkosi it looks like I can get a useful abstraction going here.  I&#39;ll post some working code once I have it."}, {"owner": {"reputation": 9893, "user_id": 3047, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0d77fde263c9e03e7db21808acd5de0c?s=128&d=identicon&r=PG", "display_name": "ScottG", "link": "https://stackoverflow.com/users/3047/scottg"}, "edited": false, "score": 0, "creation_date": 1493299722, "post_id": 43642965, "comment_id": 74365675, "body": "Great to hear, good luck!"}], "answers": [{"comments": [{"owner": {"reputation": 603, "user_id": 2935417, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e49ce8abb431cab85168e8132eeeb072?s=128&d=identicon&r=PG&f=1", "display_name": "ifinlay", "link": "https://stackoverflow.com/users/2935417/ifinlay"}, "edited": false, "score": 0, "creation_date": 1493281572, "post_id": 43647258, "comment_id": 74352340, "body": "Thanks for taking the time to reply. I&#39;ve also used these libraries successfully and have a couple of projects live.  The issue here is that I&#39;m trying to create unit tests that simulate API responses so that results are predictable. Hence I&#39;m trying to fetch a real API response, store it and reuse it again in tests.  I fetch and store to an xml file using MWS scratchpad and an editor.  I can&#39;t figure out how to coerce file contents into a ListMatchProductsResponse object however."}], "tags": [], "owner": {"reputation": 9893, "user_id": 3047, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0d77fde263c9e03e7db21808acd5de0c?s=128&d=identicon&r=PG", "display_name": "ScottG", "link": "https://stackoverflow.com/users/3047/scottg"}, "is_accepted": false, "score": 0, "last_activity_date": 1493257273, "creation_date": 1493257273, "answer_id": 43647258, "question_id": 43642965, "link": "https://stackoverflow.com/questions/43642965/how-to-moq-responses-from-amazon-mws-for-unit-testing/43647258#43647258", "title": "How to moq responses from Amazon MWS for unit testing", "body": "<p>The <a href=\"https://developer.amazonservices.com/doc/products/products/v20111001/cSharp.html/135-9205645-9734230\" rel=\"nofollow noreferrer\">C# client library</a> has been around for several years and works right out of the box.  You don't have to deal with any XML, the deserializing is included.  If you don't want to use their code but want to see how it's done, open it up into Visual Studio and copy out the parts you want.  I have used all of the C# libraries and they're pretty good.  You find what operation you want and uncomment their code and run.  I believe they have sample XML data with all the responses that you'll get from the various operations.</p>\n"}, {"comments": [{"owner": {"reputation": 603, "user_id": 2935417, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e49ce8abb431cab85168e8132eeeb072?s=128&d=identicon&r=PG&f=1", "display_name": "ifinlay", "link": "https://stackoverflow.com/users/2935417/ifinlay"}, "edited": false, "score": 0, "creation_date": 1493291418, "post_id": 43656026, "comment_id": 74359240, "body": "Thanks.  Will update my code example once I&#39;ve tidied things up."}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 1, "last_activity_date": 1493291479, "last_edit_date": 1493291479, "creation_date": 1493291245, "answer_id": 43656026, "question_id": 43642965, "link": "https://stackoverflow.com/questions/43642965/how-to-moq-responses-from-amazon-mws-for-unit-testing/43656026#43656026", "title": "How to moq responses from Amazon MWS for unit testing", "body": "<p>This looks like a simple case of having to read the XML file and then deserializing it from XML to the desired object type.</p>\n\n<p>Better yet you can abstract that behind a service that performs your desired behavior without tightly coupling the code to implementation concerns.</p>\n\n<p>Treat the the MWS as a 3rd part service and wrap that behind an abstraction you have total control over. That way you can configure the desired behavior when testing.</p>\n"}, {"tags": [], "owner": {"reputation": 603, "user_id": 2935417, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e49ce8abb431cab85168e8132eeeb072?s=128&d=identicon&r=PG&f=1", "display_name": "ifinlay", "link": "https://stackoverflow.com/users/2935417/ifinlay"}, "is_accepted": false, "score": 1, "last_activity_date": 1493310244, "creation_date": 1493310244, "answer_id": 43663196, "question_id": 43642965, "link": "https://stackoverflow.com/questions/43642965/how-to-moq-responses-from-amazon-mws-for-unit-testing/43663196#43663196", "title": "How to moq responses from Amazon MWS for unit testing", "body": "<p>Based on the great responses from @Nkosi and @ScottG I now have a working solution which turns out to be unspeakably simple, albeit with a few important points to note.  So the unit test code goes:</p>\n\n<pre><code>[TestClass]\npublic class PossibleAmazonProductMatchesTests\n{\n    [TestMethod]\n    public void Test1()\n    {\n        // Arrange\n\n        var moqClient = new MarketplaceWebServiceProductsMock();\n\n        // Act\n\n        PossibleAmazonProductMatches possibleAmazonProductMatches = new PossibleAmazonProductMatches(\"spanners\", moqClient);\n\n        // Assert\n\n        Assert.IsTrue(possibleAmazonProductMatches.PossibleProductList.Count == 10);\n    }\n}\n</code></pre>\n\n<p>..and that's it.  Could it get any simpler!</p>\n\n<p>For abstraction the object under test (PossibleAmazonProductMatches) has this constructor:</p>\n\n<pre><code>public PossibleAmazonProductMatches(string searchTerm, MarketplaceWebServiceProducts.MarketplaceWebServiceProducts client)\n{\n    // Some processing\n}\n</code></pre>\n\n<p>The important points to note are:</p>\n\n<ul>\n<li>MarketplaceWebServiceProducts is actually an <em>interface</em> despite the fact that it doesn't follow the ISomething naming convention.</li>\n<li>MarketplaceWebServiceProducts is also used as a <em>namespace name</em> hence the need for the doubled up MarketplaceWebServiceProducts.MarketplaceWebServiceProducts syntax in the PossibleAmazonProductMatches constructor.</li>\n<li>MarketplaceWebServiceProductsMock is included in the MWS package so there's nothing to code.</li>\n<li><p>By default MarketplaceWebServiceProductsMock reads from a fixed xml template file buried in the assembly and uses this to build your test response.  You edit this file as required.  I actually want to create my own xml files sourced from the MWS scratchpad and want to store these in a more convenient location.  I thought I could inherit from MarketplaceWebServiceProductsMock and override the relevant code to do this but this turns out to be buried in a private method.  I've therefore simply copied the MarketplaceWebServiceProductsMock and altered it to meet my needs. Hence my mock now looks like this:</p>\n\n<pre><code>using MarketplaceWebServiceProducts.Model;\nusing System;\nusing System.IO;\nusing MWSClientCsRuntime;\n\nnamespace AmazonMWS.Tests\n{\npublic class MyMWSMock : MarketplaceWebServiceProducts.MarketplaceWebServiceProducts\n{\n\n    // Definitions of most methods removed for brevity. They all match the pattern of ListMatchingProductsResponse.\n\n    public ListMatchingProductsResponse ListMatchingProducts(ListMatchingProductsRequest request)\n    {\n        return newResponse&lt;ListMatchingProductsResponse&gt;();\n    }\n\n    private T newResponse&lt;T&gt;() where T : IMWSResponse\n    {\n        FileStream xmlIn = File.Open(\"D:\\\\MyTestDataFolder\\\\Test1.xml\", FileMode.Open);\n        try\n        {\n            StreamReader xmlInReader = new StreamReader(xmlIn);\n            string xmlStr = xmlInReader.ReadToEnd();\n\n            MwsXmlReader reader = new MwsXmlReader(xmlStr);\n            T obj = (T)Activator.CreateInstance(typeof(T));\n            obj.ReadFragmentFrom(reader);\n            obj.ResponseHeaderMetadata = new ResponseHeaderMetadata(\"mockRequestId\", \"A,B,C\", \"mockTimestamp\", 0d, 0d, new DateTime());\n            return obj;\n        }\n        catch (Exception e)\n        {\n            throw MwsUtil.Wrap(e);\n        }\n        finally\n        {\n            if (xmlIn != null) { xmlIn.Close(); }\n        }\n    }\n}\n</code></pre>\n\n<p>}</p></li>\n</ul>\n"}], "owner": {"reputation": 603, "user_id": 2935417, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e49ce8abb431cab85168e8132eeeb072?s=128&d=identicon&r=PG&f=1", "display_name": "ifinlay", "link": "https://stackoverflow.com/users/2935417/ifinlay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 547, "favorite_count": 0, "accepted_answer_id": 43656026, "answer_count": 3, "score": 2, "last_activity_date": 1493310244, "creation_date": 1493234932, "last_edit_date": 1493291298, "question_id": 43642965, "link": "https://stackoverflow.com/questions/43642965/how-to-moq-responses-from-amazon-mws-for-unit-testing", "title": "How to moq responses from Amazon MWS for unit testing", "body": "<p><strong>Context</strong></p>\n\n<p>I'm unit testing a C# .Net class that calls the <code>ListMatchingProducts</code> operation in the Amazon MWS API (using MWSClientCsRuntime).</p>\n\n<p><strong>Issue</strong></p>\n\n<p>The Amazon MWS API is a moving target with product data changing all the time so I'd like to be able to moq the <code>ListMatchingProductsResponse</code> object that the API returns.  I can fetch API responses using the MWS scratchpad and store these in xml files. But then, in unit tests, I need to coerce data from these files into a <code>ListMatchingProductsResponse</code> object.</p>\n\n<p><strong>Question</strong></p>\n\n<p>How can I load this xml data into a <code>ListMatchingProductsResponse</code> object? (I notice that the object has a <code>ReadFragmentsFrom</code> method but I can't see how this might be used).</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>[TestClass]\npublic class PossibleAmazonProductMatchesTests\n{\n    string testDataDirectory = Directory.GetParent(Directory.GetCurrentDirectory()).Parent.FullName + @\"\\Test data\";\n\n    [TestMethod]\n    public void FindSpanners()\n    {\n        // Arrange\n\n        ListMatchingProductsRequest request = new ListMatchingProductsRequest(\"secret key\", \"market id\", \"spanner\");\n        ListMatchingProductsResult result = new ListMatchingProductsResult();\n\n        ListMatchingProductsResponse response = new ListMatchingProductsResponse();\n\n        string xmlString = File.ReadAllText(this.testDataDirectory + @\"\\Spanners Response.xml\");\n\n        // *** The issue - How do I coerce xmlString into response? ***\n\n        var client = new Mock&lt;MarketplaceWebServiceProductsClient&gt;();\n        client.Setup(c =&gt; c.ListMatchingProducts(request)).Returns(response);\n\n        // Act\n\n        // This is the method being tested. It calls ListMatchingProducts which is being mocked.\n        PossibleAmazonProductMatches possibleAmazonProductMatches = new PossibleAmazonProductMatches(\"spanners\", client);\n\n        // Assert\n\n        Assert.IsTrue(possibleAmazonProductMatches.SpannersFound == true);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "selenium", "selenium-webdriver", "utf-8"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 7216333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2761bb09cbe8b69a2ffed72823a6bff9?s=128&d=identicon&r=PG&f=1", "display_name": "mdieod", "link": "https://stackoverflow.com/users/7216333/mdieod"}, "edited": false, "score": 0, "creation_date": 1493235917, "post_id": 43643058, "comment_id": 74334780, "body": "Still same <a href=\"http://prntscr.com/f16v7b\" rel=\"nofollow noreferrer\">prntscr.com/f16v7b</a> when I do <code>MessageBox.Show(namex);</code> before inserting in .csv file it showing me normal chars so before insertion everything is normal. Any clue ?"}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "reply_to_user": {"reputation": 49, "user_id": 7216333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2761bb09cbe8b69a2ffed72823a6bff9?s=128&d=identicon&r=PG&f=1", "display_name": "mdieod", "link": "https://stackoverflow.com/users/7216333/mdieod"}, "edited": false, "score": 0, "creation_date": 1493236794, "post_id": 43643058, "comment_id": 74335268, "body": "@mdieod could you test if this code generates the correct result? <a href=\"https://pastebin.com/L947k1Nw\" rel=\"nofollow noreferrer\">pastebin.com/L947k1Nw</a>"}, {"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1493237751, "post_id": 43643058, "comment_id": 74335798, "body": "What happens when you open your csv file with notepad instead of Excel? If you go to Data-&gt;From Text in Excel and if you have the wrong encoding selected then it reads the bits wrong and shows incorrect characters."}, {"owner": {"reputation": 49, "user_id": 7216333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2761bb09cbe8b69a2ffed72823a6bff9?s=128&d=identicon&r=PG&f=1", "display_name": "mdieod", "link": "https://stackoverflow.com/users/7216333/mdieod"}, "reply_to_user": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1493238393, "post_id": 43643058, "comment_id": 74336155, "body": "@Quantic When I try to import data from text then it automatically set Windows (ANSI) and works normal. I still don&#39;t see how this can help me ?"}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "reply_to_user": {"reputation": 49, "user_id": 7216333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2761bb09cbe8b69a2ffed72823a6bff9?s=128&d=identicon&r=PG&f=1", "display_name": "mdieod", "link": "https://stackoverflow.com/users/7216333/mdieod"}, "edited": false, "score": 0, "creation_date": 1493238537, "post_id": 43643058, "comment_id": 74336223, "body": "@mdieod It seems that Excel is opening the file incorrectly. Can you test this code. I&#39;ve added a BOM in the beginning of the file. <a href=\"https://pastebin.com/dYPUxRPn\" rel=\"nofollow noreferrer\">pastebin.com/dYPUxRPn</a>"}, {"owner": {"reputation": 49, "user_id": 7216333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2761bb09cbe8b69a2ffed72823a6bff9?s=128&d=identicon&r=PG&f=1", "display_name": "mdieod", "link": "https://stackoverflow.com/users/7216333/mdieod"}, "edited": false, "score": 0, "creation_date": 1493238881, "post_id": 43643058, "comment_id": 74336395, "body": "@Xiaoy312 Still does not work, I just change append to true and ran it with your BOM and same result."}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "reply_to_user": {"reputation": 49, "user_id": 7216333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2761bb09cbe8b69a2ffed72823a6bff9?s=128&d=identicon&r=PG&f=1", "display_name": "mdieod", "link": "https://stackoverflow.com/users/7216333/mdieod"}, "edited": false, "score": 0, "creation_date": 1493239163, "post_id": 43643058, "comment_id": 74336557, "body": "@mdieod No, you have to run the script as is. Create a new project and run it. The goal is to test if adding the BOM solves your issue or not, and it has to be the <i>VERT FIRST</i> bytes of the file."}, {"owner": {"reputation": 49, "user_id": 7216333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2761bb09cbe8b69a2ffed72823a6bff9?s=128&d=identicon&r=PG&f=1", "display_name": "mdieod", "link": "https://stackoverflow.com/users/7216333/mdieod"}, "edited": false, "score": 0, "creation_date": 1493239495, "post_id": 43643058, "comment_id": 74336716, "body": "@Xiaoy312 Ok, I just created new project and I pasted the whole code and still same issue... <a href=\"http://prntscr.com/f17npu\" rel=\"nofollow noreferrer\">prntscr.com/f17npu</a>"}, {"owner": {"reputation": 49, "user_id": 7216333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2761bb09cbe8b69a2ffed72823a6bff9?s=128&d=identicon&r=PG&f=1", "display_name": "mdieod", "link": "https://stackoverflow.com/users/7216333/mdieod"}, "edited": false, "score": 0, "creation_date": 1493239719, "post_id": 43643058, "comment_id": 74336831, "body": "Interesting I just changed it to UTF8 in your code and it works right now, you said before it should be windows-1252, but why now it works with UTF8 ?"}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1493240205, "post_id": 43643058, "comment_id": 74337098, "body": "So, it was fixed with UTF-8 with BOM?"}, {"owner": {"reputation": 49, "user_id": 7216333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2761bb09cbe8b69a2ffed72823a6bff9?s=128&d=identicon&r=PG&f=1", "display_name": "mdieod", "link": "https://stackoverflow.com/users/7216333/mdieod"}, "edited": false, "score": 0, "creation_date": 1493240397, "post_id": 43643058, "comment_id": 74337214, "body": "@Xiaoy312 Yes, Thank you very much for helping me, it matters a lot to me. I will accept  your answer. Again THANK YOU!"}], "tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": true, "score": 1, "last_activity_date": 1493240713, "last_edit_date": 1493240713, "creation_date": 1493235302, "answer_id": 43643058, "question_id": 43642935, "link": "https://stackoverflow.com/questions/43642935/c-writing-to-file-using-utf8/43643058#43643058", "title": "C# writing to file using UTF8", "body": "<p><del>You should use windows-1252(or, <code>Encoding.GetEncoding(1252)</code>) instead of UTF-8, for Danish.</del></p>\n\n<hr>\n\n<p>EDIT:</p>\n\n<p>It was a missing BOM issue causing Excel unable to read the file properly.</p>\n\n<pre><code>// notice we are creating a new file here\nusing (var writer = new StreamWriter(path, false, Encoding.UTF8))\n{\n    // Add a BOM in the beginning of the file\n    var preamble = Encoding.UTF8.GetPreamble();\n    writer.BaseStream.Write(preamble, 0, preamble.Length);\n\n    // write data...\n    writer.WriteLine(string.Join(\",\", \"Danhostel R\u00f8nne\", \"Arsenalvej 12 3700 R\u00f8nne\"));\n}\n\n// when you write the same file again, you don't need to append the BOM again\nusing (var writer = new StreamWriter(path, true, Encoding.UTF8))\n{\n    // write more data...\n    writer.WriteLine(string.Join(\",\", \"Danhostel R\u00f8nne\", \"Arsenalvej 12 3700 R\u00f8nne\"));\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 7216333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2761bb09cbe8b69a2ffed72823a6bff9?s=128&d=identicon&r=PG&f=1", "display_name": "mdieod", "link": "https://stackoverflow.com/users/7216333/mdieod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 43643058, "answer_count": 1, "score": 0, "last_activity_date": 1493255839, "creation_date": 1493234834, "last_edit_date": 1493255839, "question_id": 43642935, "link": "https://stackoverflow.com/questions/43642935/c-writing-to-file-using-utf8", "title": "C# writing to file using UTF8", "body": "<p>I have this simple code:</p>\n\n<pre><code>using (var sw = new StreamWriter(path + kat + \"/\" + namec, true, Encoding.UTF8))\n{\n    sw.WriteLine(namex + \",\" + address + \",\" + web + \",\" + email + \",\" + phone + \",\" + linksx + \",\" + transport);\n}\n</code></pre>\n\n<p>I using Selenium Web Driver to download data from Denmark website, example link:<a href=\"http://www.visitdenmark.dk/da/danmark/danhostel-roenne-gdk614558\" rel=\"nofollow noreferrer\">http://www.visitdenmark.dk/da/danmark/danhostel-roenne-gdk614558</a>  </p>\n\n<p>Then I store it in .csv file, but still I have characters like this \u0102 instead of this \u00f8. As you can see I set <code>Encoding.UTF8</code> Also it becoming more interesting when I set bool append to false, then everything is normal, but it does not help me because I need to append that file with new data. How can I fix this ? </p>\n"}, {"tags": ["c#", "nuget", "generator", "t4", "nuspec"], "comments": [{"owner": {"reputation": 826, "user_id": 6025198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/44742715a6c94cf5525f63b9482aae6d?s=128&d=identicon&r=PG&f=1", "display_name": "BetterLateThanNever", "link": "https://stackoverflow.com/users/6025198/betterlatethannever"}, "edited": false, "score": 0, "creation_date": 1493234848, "post_id": 43642875, "comment_id": 74334155, "body": "<a href=\"https://docs.microsoft.com/en-us/nuget/tools/nuget-exe-cli-reference#excluding-development-dependencies-when-creating-packages\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/nuget/tools/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "is_accepted": true, "score": 1, "last_activity_date": 1493237017, "creation_date": 1493237017, "answer_id": 43643562, "question_id": 43642875, "link": "https://stackoverflow.com/questions/43642875/nuget-package-is-not-including-self-as-a-dependency/43643562#43643562", "title": "Nuget Package is not including self as a dependency", "body": "<p>Incase anyone else is wondering all you have to do is add another line to the files and reference your dll like so:</p>\n\n<pre><code>&lt;file src=\"bin\\Debug\\DTOCodeGenerator.dll\" target=\"lib\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 43643562, "answer_count": 1, "score": 1, "last_activity_date": 1493237093, "creation_date": 1493234666, "last_edit_date": 1493237093, "question_id": 43642875, "link": "https://stackoverflow.com/questions/43642875/nuget-package-is-not-including-self-as-a-dependency", "title": "Nuget Package is not including self as a dependency", "body": "<p>I'm creating a nuget package out of a class library.  I have explicit includes for files which works fine, but my dll is not being included in the package.  It was my impression that a nuget package by default would include itself as a dll in the package I could be mistaken. My nuspec file looks like so:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\"?&gt;\n  &lt;package &gt;\n    &lt;metadata&gt;\n      &lt;id&gt;DTOCodeGenerator&lt;/id&gt;\n      &lt;version&gt;1.0.0.1&lt;/version&gt;\n      &lt;title&gt;DTO Code Generator&lt;/title&gt;\n      &lt;authors&gt;Short Circuit&lt;/authors&gt;\n      &lt;owners&gt;J5&lt;/owners&gt;\n      &lt;requireLicenseAcceptance&gt;false&lt;/requireLicenseAcceptance&gt;\n      &lt;description&gt;DTO Code Generator Includes the needed include tt files to generate interface backed DTO's with adapter generation&lt;/description&gt;\n      &lt;releaseNotes&gt;&lt;/releaseNotes&gt;\n      &lt;copyright&gt;Copyright 2017&lt;/copyright&gt;\n      &lt;tags&gt;DTOGenerator T4&lt;/tags&gt;\n      &lt;dependencies&gt;\n        &lt;dependency id=\"EntireOne.Shared.T4\" version=\"2.0.10.24\" /&gt;\n      &lt;/dependencies&gt;\n    &lt;/metadata&gt;\n    &lt;files&gt;\n      &lt;file src=\"T4Generators\\AutoMapperExtensions.ttinclude\" target=\"content\\T4Generators\\AutoMapperExtensions.ttinclude\"/&gt;\n      &lt;file src=\"T4Generators\\ConstGenerator.ttinclude\" target=\"content\\T4Generators\\ConstGenerator.ttinclude\"/&gt;\n      &lt;file src=\"T4Generators\\DTOGenerator.ttinclude\" target=\"content\\T4Generators\\DTOGenerator.ttinclude\"/&gt;\n      &lt;file src=\"T4Generators\\EnumGenerator.ttinclude\" target=\"content\\T4Generators\\EnumGenerator.ttinclude\"/&gt;\n    &lt;/files&gt;\n  &lt;/package&gt;\n</code></pre>\n\n<p>how can I add my current dll into the nuget package</p>\n"}, {"tags": ["c#", "asp.net", "separation-of-concerns", "system.io.directory"], "comments": [{"owner": {"reputation": 366, "user_id": 4424962, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ePKbL5VvtQk/AAAAAAAAAAI/AAAAAAAAAFg/EqZX3m16YLs/photo.jpg?sz=128", "display_name": "Kris Coleman", "link": "https://stackoverflow.com/users/4424962/kris-coleman"}, "edited": false, "score": 0, "creation_date": 1493234621, "post_id": 43642803, "comment_id": 74334032, "body": "Hah, I may have just found it. I&#39;m using .net core, so I think this is the one I want to use: <code>AppContext.BaseDirectory</code>  thanks to <a href=\"http://www.anotherchris.net/csharp/6-ways-to-get-the-current-directory-in-csharp/\" rel=\"nofollow noreferrer\">anotherchris.net/csharp/&hellip;</a>"}, {"owner": {"reputation": 646, "user_id": 1712323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74cdc66029fd25c13bb83971e6a34b6b?s=128&d=identicon&r=PG&f=1", "display_name": "loneshark99", "link": "https://stackoverflow.com/users/1712323/loneshark99"}, "edited": false, "score": 0, "creation_date": 1493234696, "post_id": 43642803, "comment_id": 74334078, "body": "Server.MapPath(&quot;~&quot;)"}, {"owner": {"reputation": 366, "user_id": 4424962, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ePKbL5VvtQk/AAAAAAAAAAI/AAAAAAAAAFg/EqZX3m16YLs/photo.jpg?sz=128", "display_name": "Kris Coleman", "link": "https://stackoverflow.com/users/4424962/kris-coleman"}, "reply_to_user": {"reputation": 646, "user_id": 1712323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74cdc66029fd25c13bb83971e6a34b6b?s=128&d=identicon&r=PG&f=1", "display_name": "loneshark99", "link": "https://stackoverflow.com/users/1712323/loneshark99"}, "edited": false, "score": 0, "creation_date": 1493234852, "post_id": 43642803, "comment_id": 74334157, "body": "@loneshark99 I think that would work if the logic lived in the web project assembly itself - but the logic lives in its own encapsulated assembly, ignorant of web things, and doesn&#39;t have access to Server or HttpRuntime"}, {"owner": {"reputation": 646, "user_id": 1712323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74cdc66029fd25c13bb83971e6a34b6b?s=128&d=identicon&r=PG&f=1", "display_name": "loneshark99", "link": "https://stackoverflow.com/users/1712323/loneshark99"}, "edited": false, "score": 0, "creation_date": 1493235037, "post_id": 43642803, "comment_id": 74334253, "body": "Have you tried this in the assembly,  Environment.CurrentDirectory.  <a href=\"https://msdn.microsoft.com/en-us/library/system.environment.currentdirectory(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}, {"owner": {"reputation": 366, "user_id": 4424962, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ePKbL5VvtQk/AAAAAAAAAAI/AAAAAAAAAFg/EqZX3m16YLs/photo.jpg?sz=128", "display_name": "Kris Coleman", "link": "https://stackoverflow.com/users/4424962/kris-coleman"}, "reply_to_user": {"reputation": 646, "user_id": 1712323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74cdc66029fd25c13bb83971e6a34b6b?s=128&d=identicon&r=PG&f=1", "display_name": "loneshark99", "link": "https://stackoverflow.com/users/1712323/loneshark99"}, "edited": false, "score": 0, "creation_date": 1493236444, "post_id": 43642803, "comment_id": 74335074, "body": "@loneshark99 Environment.CurrentDirectory appears to be missing from .netstandard   I think AppContext.BaseDirectory may be the replacement for .netcore. Thanks for the help!"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "reply_to_user": {"reputation": 646, "user_id": 1712323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74cdc66029fd25c13bb83971e6a34b6b?s=128&d=identicon&r=PG&f=1", "display_name": "loneshark99", "link": "https://stackoverflow.com/users/1712323/loneshark99"}, "edited": false, "score": 1, "creation_date": 1493236515, "post_id": 43642803, "comment_id": 74335109, "body": "@loneshark99 also <code>Environment.CurrentDirectory</code> does not always point to the directly of the assembly. If you start the program using it&#39;s full path name current directory will be the directory you called it from not the directory of the program."}, {"owner": {"reputation": 366, "user_id": 4424962, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ePKbL5VvtQk/AAAAAAAAAAI/AAAAAAAAAFg/EqZX3m16YLs/photo.jpg?sz=128", "display_name": "Kris Coleman", "link": "https://stackoverflow.com/users/4424962/kris-coleman"}, "edited": false, "score": 0, "creation_date": 1493240712, "post_id": 43642803, "comment_id": 74337379, "body": "<code>AppContext.BaseDirectory</code> didn&#39;t work either. I&#39;m going to try this now <a href=\"https://github.com/aspnet/Home/issues/1107\" rel=\"nofollow noreferrer\">github.com/aspnet/Home/issues/1107</a>"}, {"owner": {"reputation": 646, "user_id": 1712323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74cdc66029fd25c13bb83971e6a34b6b?s=128&d=identicon&r=PG&f=1", "display_name": "loneshark99", "link": "https://stackoverflow.com/users/1712323/loneshark99"}, "edited": false, "score": 0, "creation_date": 1493244561, "post_id": 43642803, "comment_id": 74339107, "body": "@KrisColeman  I was thinking instead of doing all this ... why not just have the setting file as a embedded resource in the dll. <a href=\"http://dotnetdevblog.blogspot.com/2009/02/accessing-embedded-resources-in.html?m=1\" rel=\"nofollow noreferrer\">dotnetdevblog.blogspot.com/2009/02/&hellip;</a>"}, {"owner": {"reputation": 366, "user_id": 4424962, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ePKbL5VvtQk/AAAAAAAAAAI/AAAAAAAAAFg/EqZX3m16YLs/photo.jpg?sz=128", "display_name": "Kris Coleman", "link": "https://stackoverflow.com/users/4424962/kris-coleman"}, "reply_to_user": {"reputation": 646, "user_id": 1712323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74cdc66029fd25c13bb83971e6a34b6b?s=128&d=identicon&r=PG&f=1", "display_name": "loneshark99", "link": "https://stackoverflow.com/users/1712323/loneshark99"}, "edited": false, "score": 0, "creation_date": 1493247647, "post_id": 43642803, "comment_id": 74340182, "body": "@loneshark99 thanks! I&#39;m not sure if that will work since the settings come from another assembly. What i&#39;ve ended up doing is creating an ISettings interface, and I&#39;m using dependency injection with my host assembly to pass down a little concrete which knows about web things and can grab the right path for me. Thanks!"}], "owner": {"reputation": 366, "user_id": 4424962, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ePKbL5VvtQk/AAAAAAAAAAI/AAAAAAAAAFg/EqZX3m16YLs/photo.jpg?sz=128", "display_name": "Kris Coleman", "link": "https://stackoverflow.com/users/4424962/kris-coleman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493234426, "creation_date": 1493234426, "question_id": 43642803, "link": "https://stackoverflow.com/questions/43642803/best-way-to-determine-root-directory-of-project-even-if-in-a-web-project", "title": "Best way to determine root directory of project - even if in a web project", "body": "<p>I have a constructor of a class which needs to look in the root directory for a settings file. This is working fine for most project types, I grab the directory like this: </p>\n\n<p><code>new FileInfo(typeOfThisClass.GetTypeInfo().Assembly.Location).DirectoryName</code></p>\n\n<p>However, this is not working if I execute the constructor from within a web project, like a Web API. Instead, I'll get a path to a temp directory instead of the current project's root directory, like </p>\n\n<p><code>C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\root\\73891a9e\\147b8ade\\assembly\\dl3\\7d1ac62b\\0064ea47_c6bad201</code></p>\n\n<p>In the past, I've used this to get the root directory of a web project: \n<code>HttpRuntime.AppDomainAppPath</code></p>\n\n<p>However, the Constructor in question does not have access to HttpRuntime because it's in its own encapsulated assembly, which should be ignorant of anything related to web projects. I don't want to pass the string in, because I require my constructor to be parameterless. </p>\n\n<p>So how can I get the root directory in a consistent way that will work in any project, including web projects? </p>\n"}, {"tags": ["c#", "sql-server", "entity-framework", "ef-database-first"], "comments": [{"owner": {"reputation": 18407, "user_id": 797882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YKWuK.jpg?s=128&g=1", "display_name": "CodeNotFound", "link": "https://stackoverflow.com/users/797882/codenotfound"}, "edited": false, "score": 0, "creation_date": 1493234588, "post_id": 43642791, "comment_id": 74334015, "body": "Are you using SQL Server ?"}, {"owner": {"reputation": 137, "user_id": 3198393, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100003858212850/picture?type=large", "display_name": "Shubham Gupta", "link": "https://stackoverflow.com/users/3198393/shubham-gupta"}, "reply_to_user": {"reputation": 18407, "user_id": 797882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YKWuK.jpg?s=128&g=1", "display_name": "CodeNotFound", "link": "https://stackoverflow.com/users/797882/codenotfound"}, "edited": false, "score": 0, "creation_date": 1493234955, "post_id": 43642791, "comment_id": 74334212, "body": "Its an asp.net application using SQL Server localDB"}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 3198393, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100003858212850/picture?type=large", "display_name": "Shubham Gupta", "link": "https://stackoverflow.com/users/3198393/shubham-gupta"}, "edited": false, "score": 1, "creation_date": 1493237559, "post_id": 43643234, "comment_id": 74335689, "body": "Basically, i&#39;ll have to manually apply the constraint. to the database table. hmmm"}, {"owner": {"reputation": 732, "user_id": 2748245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/578784511/picture?type=large", "display_name": "Keith Harris", "link": "https://stackoverflow.com/users/2748245/keith-harris"}, "reply_to_user": {"reputation": 137, "user_id": 3198393, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100003858212850/picture?type=large", "display_name": "Shubham Gupta", "link": "https://stackoverflow.com/users/3198393/shubham-gupta"}, "edited": false, "score": 0, "creation_date": 1493256590, "post_id": 43643234, "comment_id": 74342497, "body": "Yes. The one advantage you have in adding the above line to the Configuration file over altering the database directly is that you don&#39;t have to remember to do it should you need to re-deploy the system from scratch."}], "tags": [], "owner": {"reputation": 732, "user_id": 2748245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/578784511/picture?type=large", "display_name": "Keith Harris", "link": "https://stackoverflow.com/users/2748245/keith-harris"}, "is_accepted": false, "score": 0, "last_activity_date": 1493235886, "creation_date": 1493235886, "answer_id": 43643234, "question_id": 43642791, "link": "https://stackoverflow.com/questions/43642791/updating-database-after-code-changes-in-entity-framework-database-first/43643234#43643234", "title": "Updating database after code changes in Entity framework Database First", "body": "<p>Adding constraints to a table is currently not possible with data annotations or fluid API. But the workaround is to issue a SQL command in your Configuration.cs file inside your Seed method:</p>\n\n<pre><code>db.Database.ExecuteSqlCommand(\"ALTER TABLE TravellerTripStatus ADD CONSTRAINT CK_TravellerTripStatus_OverallExperienceFb CHECK (OverallExperienceFb BETWEEN 0 AND 5)\");\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 3198393, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100003858212850/picture?type=large", "display_name": "Shubham Gupta", "link": "https://stackoverflow.com/users/3198393/shubham-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 332, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493236574, "creation_date": 1493234373, "last_edit_date": 1493236574, "question_id": 43642791, "link": "https://stackoverflow.com/questions/43642791/updating-database-after-code-changes-in-entity-framework-database-first", "title": "Updating database after code changes in Entity framework Database First", "body": "<p>I had a class named feedback generated via database first approach</p>\n\n<pre><code>public partial class Feedback\n{\n    public Nullable&lt;byte&gt; OverallExperienceFb { get; set; }\n    public Nullable&lt;byte&gt; FunFb { get; set; }\n    public Nullable&lt;byte&gt; FoodFb { get; set; }\n    public Nullable&lt;byte&gt; TravelFb { get; set; }\n    public Nullable&lt;byte&gt; PlanningFb { get; set; }\n    public Nullable&lt;byte&gt; MusicFb { get; set; }\n    public Nullable&lt;byte&gt; PlaceFb { get; set; }\n    public Nullable&lt;byte&gt; WeatherFb { get; set; }\n    public Nullable&lt;int&gt; Paid { get; set; }\n    public int ID{get; set;}\n}\n</code></pre>\n\n<p>I later added a constraint of range 0-5 on <code>overallFb</code> as following:-</p>\n\n<pre><code>public partial class TravellerTripStatus\n{\n    [Range(0,5)]\n    public Nullable&lt;byte&gt; OverallExperienceFb { get; set; }\n}\n</code></pre>\n\n<p>This change is reflecting on the GUI such that the edit form won't allow to enter value out of the range but <strong>how to make this change reflect into database</strong> (such that a check contraint automatically gets added to <code>overallFB</code> field of table definition)?</p>\n\n<p>When i try to generate database from model, no such constraint is enforced.</p>\n"}, {"tags": ["c#", "android", "ios", "bluetooth", "32feet"], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 7927428, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/453dedc5e3937db5bbdb3e629b6d4e40?s=128&d=identicon&r=PG&f=1", "display_name": "ATudor", "link": "https://stackoverflow.com/users/7927428/atudor"}, "is_accepted": true, "score": 0, "last_activity_date": 1493239639, "creation_date": 1493239639, "answer_id": 43644233, "question_id": 43642786, "link": "https://stackoverflow.com/questions/43642786/bluetooth-serialport-vs-obexfiletransfer/43644233#43644233", "title": "Bluetooth SerialPort vs ObexFileTransfer", "body": "<p>I solved the problem like this </p>\n\n<pre><code>       BluetoothDeviceInfo selecteddevice = bldialog.SelectedDevice;\n                if (selecteddevice.DeviceName.ToLower().Contains(\"iphone\"))\n                     serviceClass = BluetoothService.SerialPort;\n                else if (selecteddevice.DeviceName.ToLower().Contains(\"allview\"))\n                     serviceClass = new Guid(\"00001103-0000-1000-8000-00805f9b34fb\");\n                else serviceClass = BluetoothService.ObexFileTransfer;\n</code></pre>\n\n<p>Also if someone else got any idea about how i could connect to my galaxy tab i'm listening , i didn't manage to pair with it also . </p>\n"}], "owner": {"reputation": 91, "user_id": 7927428, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/453dedc5e3937db5bbdb3e629b6d4e40?s=128&d=identicon&r=PG&f=1", "display_name": "ATudor", "link": "https://stackoverflow.com/users/7927428/atudor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 1, "accepted_answer_id": 43644233, "answer_count": 1, "score": 0, "last_activity_date": 1493239639, "creation_date": 1493234349, "last_edit_date": 1493239385, "question_id": 43642786, "link": "https://stackoverflow.com/questions/43642786/bluetooth-serialport-vs-obexfiletransfer", "title": "Bluetooth SerialPort vs ObexFileTransfer", "body": "<p>Good afternoon . \nI'm working on a application that is suppose to transfer files from Computer to a Smartphone through Bluetooth but the pairing isn't working how i expected.</p>\n\n<p>Pairing with <strong>32feets</strong> Library :</p>\n\n<pre><code>BluetoothEndPoint remoteEndPoint = new BluetoothEndPoint(selecteddevice.DeviceAddress,BluetoothService.ObexFileTransfer); \n</code></pre>\n\n<p>The last parameter is suppose to be the Bluetooth adapter  GUID . If i feed it by </p>\n\n<ol>\n<li><p><strong>BluetoothService.SerialPort</strong> . I can connect only to Iphone SE</p></li>\n<li><p><strong>BluetoothService.ObexFileTransfer</strong> . I can connect only with Allview Soul Xtream Mini .\nAlso i got a galaxy tab 2 which i can't connect in either ways .\nI used a catch and the error is the following : </p>\n\n<ul>\n<li>ex  {\"The requested address is not valid in its context 4CBCA5CAA8A0:0000110600001000800000805f9b34fb\"} System.Net.Sockets.SocketException </li>\n</ul></li>\n</ol>\n\n<p>I have done some research and this is what i found :\n<a href=\"https://32feet.codeplex.com/wikipage?title=Errors\" rel=\"nofollow noreferrer\">https://32feet.codeplex.com/wikipage?title=Errors</a></p>\n\n<p>Pairing code : </p>\n\n<pre><code>private void Connect()\n      {\n           SelectBluetoothDeviceDialog bldialog = new SelectBluetoothDeviceDialog();\n           serviceClass = BluetoothService.SerialPort;\n           bldialog.ShowAuthenticated = true;\n           bldialog.ShowRemembered = true;\n           bldialog.ShowUnknown = true;\n\n           if (bldialog.ShowDialog() == System.Windows.Forms.DialogResult.OK)\n           {\n                if (bldialog.SelectedDevice == null)\n                {\n                     System.Windows.Forms.MessageBox.Show(\"No device selected\", \"Error\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n                     return; \n                }                       \n                BluetoothDeviceInfo selecteddevice = bldialog.SelectedDevice;\n                BluetoothEndPoint remoteEndPoint = new BluetoothEndPoint(selecteddevice.DeviceAddress, BluetoothService.ObexFileTransfer);\n\n                client = new BluetoothClient();\n                try\n                {\n                     client.Connect(remoteEndPoint);\n                }\n                catch (SocketException ex)\n                {\n                     return;\n                }\n                catch (ObjectDisposedException ex)\n                {\n                     return;\n                }\n                catch (IOException ex)\n                {\n                     return;\n                }\n\n                textBox.Text += string.Format(\"Connected to: {0}\", selecteddevice.DeviceName);\n                textBox.Text += string.Format(\"Bluetooth Device Browser. Current Device: {0}\", selecteddevice.DeviceName);\n\n           }\n      }\n</code></pre>\n\n<p>As Bluetooth i'm using ASUS USB-BT400 .\n<strong><em>What could i do in order to solve my connection problems ?</em></strong></p>\n"}, {"tags": ["c#", "wpf", "data-binding", "async-await"], "comments": [{"owner": {"reputation": 11751, "user_id": 473194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/15tk9.png?s=128&g=1", "display_name": "Colin Smith", "link": "https://stackoverflow.com/users/473194/colin-smith"}, "edited": false, "score": 0, "creation_date": 1493236221, "post_id": 43642764, "comment_id": 74334936, "body": "When an image that&#39;s been downloaded is fading in, you want to wait for it to be completed, before starting any new animation for any other images which may have been downloaded in that period, and that animation then needs to start from the &quot;beginning&quot; to fade in the next downloaded image, right ? (in which case you&#39;ll need a From)"}, {"owner": {"reputation": 497, "user_id": 2073282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5q8oL.png?s=128&g=1", "display_name": "CryShana", "link": "https://stackoverflow.com/users/2073282/cryshana"}, "reply_to_user": {"reputation": 11751, "user_id": 473194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/15tk9.png?s=128&g=1", "display_name": "Colin Smith", "link": "https://stackoverflow.com/users/473194/colin-smith"}, "edited": false, "score": 0, "creation_date": 1493236314, "post_id": 43642764, "comment_id": 74334989, "body": "The ListView contains multiple instances of my user controls. Each user control contains one image that is downloaded. So the animation just needs to go off once - when the image is downloaded. And never again."}, {"owner": {"reputation": 11751, "user_id": 473194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/15tk9.png?s=128&g=1", "display_name": "Colin Smith", "link": "https://stackoverflow.com/users/473194/colin-smith"}, "edited": false, "score": 0, "creation_date": 1493236485, "post_id": 43642764, "comment_id": 74335088, "body": "Do you create/use a new storyboard on each of your UserControl instances ?"}, {"owner": {"reputation": 497, "user_id": 2073282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5q8oL.png?s=128&g=1", "display_name": "CryShana", "link": "https://stackoverflow.com/users/2073282/cryshana"}, "reply_to_user": {"reputation": 11751, "user_id": 473194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/15tk9.png?s=128&g=1", "display_name": "Colin Smith", "link": "https://stackoverflow.com/users/473194/colin-smith"}, "edited": false, "score": 0, "creation_date": 1493236776, "post_id": 43642764, "comment_id": 74335255, "body": "I just edited my question and added the animation code that I used. And yes, this code is used on each of my UserControl instances."}], "owner": {"reputation": 497, "user_id": 2073282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5q8oL.png?s=128&g=1", "display_name": "CryShana", "link": "https://stackoverflow.com/users/2073282/cryshana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1493290289, "creation_date": 1493234289, "last_edit_date": 1592644375, "question_id": 43642764, "link": "https://stackoverflow.com/questions/43642764/binding-not-updating-before-all-tasks-are-finished", "title": "Binding not updating before all tasks are finished", "body": "<p>I have a ListView with a data template that contains my user control. This user control has a dependency property &quot;<code>MyObject</code>&quot; as well as an Image component that is bound to a property of &quot;<code>MyObject</code>&quot; of type <code>AsyncLazy&lt;BitmapImage&gt;</code>. The image is asynchronously downloaded in the background and returned (while also invoking an event). The invoked event starts the animation on my Image component to fade in and show the downloaded image.</p>\n<h1>The Problem</h1>\n<p>At first this performed as expected, <strong>but if images were downloaded at significanlty different times, the animation still started - but the images were not displayed until all images finished downloading</strong> - causing some images to just pop in - because the fade in animation already started for them before they were loaded.</p>\n<h1>A step further...</h1>\n<p>I went a step further and added a method for each user control that loads some data from a website in the background - it's rather long-running, so I simply start the Task when user control is initialized and that's it. The task should run in the background and store the result to a property of &quot;<code>MyObject</code>&quot; when finished <strong>without</strong> waiting for it.</p>\n<p>But for some reason - the images don't start downloading until the above-mentionted Task finishes.</p>\n<h1>Code</h1>\n<h2>XAML of my user control</h2>\n<pre><code>&lt;Image x:Name=&quot;mainImage&quot; Source=&quot;{Binding ImageMedium.Value.Result, IsAsync=True, UpdateSourceTrigger=PropertyChanged}&quot;/&gt;\n</code></pre>\n<h2>Properties within &quot;MyObject&quot;</h2>\n<pre><code>public AsyncLazy&lt;BitmapImage&gt; ImageMedium { get; }\npublic List&lt;MyEntry&gt; Entries { get; private set; }\n</code></pre>\n<h2>User Control Initialization</h2>\n<pre><code> public void Init()\n {\n      MyObject.GetEntries(); \n      // this long-running task should just run in the BG without waiting for it\n      // ...\n }\n</code></pre>\n<h2>&quot;GetEntries&quot; method</h2>\n<pre><code>public async Task GetEntries()\n{\n      var t = await Task.Run(() =&gt; Do some work... );                       \n      Entries = t; // store result to a MyObject property\n}\n</code></pre>\n<h2>Getting the image</h2>\n<pre><code>ImageMedium = new AsyncLazy&lt;BitmapImage&gt;(() =&gt;\n{\n      var data = GetImage(ImageSize.Medium); // normal long-running method\n      ImageLoaded?.Invoke(data, ImageSize.Medium); // event that starts animation\n      return data;\n});\n</code></pre>\n<h2>Animation</h2>\n<pre><code>control.MyObject.ImageLoaded += (img, s) =&gt;\n{\n    // start animation when Image is loaded\n    control.UIContext.Send(async (a) =&gt; {\n           await Task.Delay(500);\n           DoubleAnimation dan1 = new DoubleAnimation(1.0, TimeSpan.FromSeconds(0.7));\n           control.mainImage.BeginAnimation(OpacityProperty, dan1);\n     }, null);\n};\n</code></pre>\n<p>I also tried implementing <code>INotifyPropertyChanged</code> and notifying the change together with the invoking of the event - but solved nothing.</p>\n<p>EDIT: Upon further testing, it seems the Images DO start downloading before the long-running task finishes - but the downloading is delayed by about 20-30 seconds before it actually starts.</p>\n"}, {"tags": ["c#", "sql", "entity-framework", "linq"], "comments": [{"owner": {"reputation": 411, "user_id": 778536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23d88894d2db9282585a8086208431dd?s=128&d=identicon&r=PG", "display_name": "Raghu A", "link": "https://stackoverflow.com/users/778536/raghu-a"}, "edited": false, "score": 0, "creation_date": 1493234706, "post_id": 43642715, "comment_id": 74334083, "body": "How is it selecting only &quot;most recent&quot; Notation?"}], "answers": [{"comments": [{"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1493234786, "post_id": 43642859, "comment_id": 74334124, "body": "<code>GroupBy</code>, really? Reinventing the <code>GroupJoin</code> :)"}, {"owner": {"reputation": 119, "user_id": 1538776, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8a06ff3cbb5518a3d178215c326c6d49?s=128&d=identicon&r=PG", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/1538776/chris-turner"}, "edited": false, "score": 0, "creation_date": 1493235503, "post_id": 43642859, "comment_id": 74334535, "body": "@GiladGreen Thank you very much.  I have been working on this for a couple of hours.  One thing I noticed is that I have lost the third table reference.  &quot;from d in db.DCode&quot;  how would I go about adding the third table into this solution?"}, {"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "reply_to_user": {"reputation": 119, "user_id": 1538776, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8a06ff3cbb5518a3d178215c326c6d49?s=128&d=identicon&r=PG", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/1538776/chris-turner"}, "edited": false, "score": 0, "creation_date": 1493235574, "post_id": 43642859, "comment_id": 74334578, "body": "@ChrisTurner - I just removed it so it is simpler to see the main point of the answer. Just add another join the way I joined <code>notations</code> in the first example :)"}, {"owner": {"reputation": 119, "user_id": 1538776, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8a06ff3cbb5518a3d178215c326c6d49?s=128&d=identicon&r=PG", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/1538776/chris-turner"}, "edited": false, "score": 0, "creation_date": 1493235785, "post_id": 43642859, "comment_id": 74334703, "body": "@GiladGreen - Thanks again.  Very much appreciated."}, {"owner": {"reputation": 119, "user_id": 1538776, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8a06ff3cbb5518a3d178215c326c6d49?s=128&d=identicon&r=PG", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/1538776/chris-turner"}, "edited": false, "score": 0, "creation_date": 1493318739, "post_id": 43642859, "comment_id": 74378315, "body": "GiladGreen - A user pointed out an issue today.  Hopefully you can help me resolve it.  If there are no comments for the submission, it is not returning the submission.  Is there a way to make it return the submission with or without notes?"}, {"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "reply_to_user": {"reputation": 119, "user_id": 1538776, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8a06ff3cbb5518a3d178215c326c6d49?s=128&d=identicon&r=PG", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/1538776/chris-turner"}, "edited": false, "score": 0, "creation_date": 1493318924, "post_id": 43642859, "comment_id": 74378406, "body": "@Chris Turner - look at performi left joins with linq. SO&#39; linq documentation is a good start - wrote stuff there about it myself. For more assistance then it&#39;ll have to be in a separate question and after you give it a try ;)"}, {"owner": {"reputation": 119, "user_id": 1538776, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8a06ff3cbb5518a3d178215c326c6d49?s=128&d=identicon&r=PG", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/1538776/chris-turner"}, "edited": false, "score": 1, "creation_date": 1493319693, "post_id": 43642859, "comment_id": 74378843, "body": "@GiladGreen  Thanks for pointing me in the right direction. Figured it out in a few minutes.  Much appreciated.  It wasn&#39;t your code that had the error, it was when I re-added the &quot;join for d&quot;."}], "tags": [], "owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "is_accepted": true, "score": 2, "last_activity_date": 1493235182, "last_edit_date": 1493235182, "creation_date": 1493234612, "answer_id": 43642859, "question_id": 43642715, "link": "https://stackoverflow.com/questions/43642715/linq-to-entities-query/43642859#43642859", "title": "Linq to Entities Query -", "body": "<p>Try something along these lines. <strong>Group</strong> the notations by the submission and then retrieve only the <strong>first ordering descending</strong> by the <code>commentDate</code>:</p>\n\n<pre><code>var result = from s in db.Submissions\n             join n in db.notations on s.AppID equals n.AppID\n             where s.received &gt;= dts &amp;&amp; s.received &lt;= dte\n             group n by s into g\n             let recentNotation = g.OrderDescendingBy(item =&gt; item.commentDate).First()\n             select new ApplicationTrackingSystem.customModels.Export {\n                 AppID = g.Key.AppId,\n                 /* rest of s fields */,\n                 commentID = recentNotation.commentID,\n                 commentDate = recentNotation.commentDate,\n                 user = recentNotation.userID,\n                 comment = recentNotation.comment\n             };\n</code></pre>\n\n<hr>\n\n<p>As Ivan corrected me it is nicer to use <code>GroupJoin</code> instead:</p>\n\n<pre><code>var result = from s in db.Submissions\n             join n in db.notations on s.AppID equals n.AppID into g\n             from n in g.OrderDescendingBy(item =&gt; item.commentDate).First()\n             where s.received &gt;= dts &amp;&amp; s.received &lt;= dte\n             select new ApplicationTrackingSystem.customModels.Export {\n                 AppID = g.Key.AppId,\n                 /* rest of s fields */,\n                 commentID = n.commentID,\n                 commentDate = n.commentDate,\n                 user = n.userID,\n                 comment = n.comment\n             };\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 1538776, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8a06ff3cbb5518a3d178215c326c6d49?s=128&d=identicon&r=PG", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/1538776/chris-turner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 43642859, "answer_count": 1, "score": 1, "last_activity_date": 1493235182, "creation_date": 1493234071, "last_edit_date": 1493234702, "question_id": 43642715, "link": "https://stackoverflow.com/questions/43642715/linq-to-entities-query", "title": "Linq to Entities Query -", "body": "<p>I have two tables, <strong>Submissions</strong> and <strong>Notations</strong>.\n<strong>Submissions</strong> has single entries, and <strong>Notations</strong> has multiple entries for the submissions linked via <strong>AppID</strong>.</p>\n\n<p>What I am attempting to accomplish is to pull the submissions for a given date range, and the most recent notation to go with that submission.  </p>\n\n<p>I have managed to get all the data pulled; however, it is duplicating each submission record for every notation there is for the submission. </p>\n\n<p>Here is my current code.  Can anyone help me figure this one out?</p>\n\n<pre><code> var query = (from s in db.Submissions\n             from n in db.notations\n             from d in db.DCodes\n             where s.AppID == (int) n.AppID\n             &amp;&amp; s.DCode == d.DCode1\n             &amp;&amp; s.received &gt;= dts\n             &amp;&amp; s.received &lt;= dte\n             select new ApplicationTrackingSystem.customModels.Export\n             {\n                 AppID = s.AppID,\n                 received = s.received,\n                 //dcode = s.DCode, \n                 dcode = d.description,\n                 firstName = s.firstName,\n                 middleName = s.middleName,\n                 lastName = s.lastName,\n                 street = s.street,\n                 city = s.city,\n                 state = s.state,\n                 zip = s.zip,\n                 position = s.position,\n                 hearAbout = s.hearAbout,\n                 referredby = s.referredBy,\n                 email = s.email,\n                 commentID = n.commentID,\n                 commentDate = n.commentDate,\n                 user = n.userID,\n                 comment = n.comment\n             }).ToList();\n</code></pre>\n"}, {"tags": ["c#", "sqlite"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 3, "creation_date": 1493234016, "post_id": 43642648, "comment_id": 74333691, "body": "<b>WARNING</b>: Do not inject raw strings into your queries. <b>Always</b> <a href=\"http://bobby-tables.com/csharp\" rel=\"nofollow noreferrer\">properly escape</a> any and all user data or you&#39;ll create awful <a href=\"http://bobby-tables.com/\" rel=\"nofollow noreferrer\">SQL injection bugs</a>."}, {"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 1, "creation_date": 1493234022, "post_id": 43642648, "comment_id": 74333694, "body": "SQLite is not MySQL. Please correct your title and tags unless there is some aspect of MySQL that actually relates to your question."}, {"owner": {"reputation": 3846, "user_id": 499027, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/VEwX7.gif?s=128&g=1", "display_name": "logixologist", "link": "https://stackoverflow.com/users/499027/logixologist"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1493234046, "post_id": 43642648, "comment_id": 74333713, "body": "@tadman beat me to it :)"}, {"owner": {"reputation": 2730, "user_id": 2265446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39Qa6.png?s=128&g=1", "display_name": "Cleptus", "link": "https://stackoverflow.com/users/2265446/cleptus"}, "edited": false, "score": 2, "creation_date": 1493234101, "post_id": 43642648, "comment_id": 74333743, "body": "Show the SQL table definition, does it use indexes?"}, {"owner": {"reputation": 1439, "user_id": 5312245, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L-HQevIUjls/AAAAAAAAAAI/AAAAAAAABXo/xP1oI4FHXzM/photo.jpg?sz=128", "display_name": "Abdullah Dibas", "link": "https://stackoverflow.com/users/5312245/abdullah-dibas"}, "edited": false, "score": 1, "creation_date": 1493234199, "post_id": 43642648, "comment_id": 74333789, "body": "Away from the answer, you don&#39;t need to open and close the connection  since you&#39;re using &quot;Using&quot; statement."}, {"owner": {"reputation": 15207, "user_id": 4104224, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1UvuxsNkn9w/AAAAAAAAAAI/AAAAAAAAA10/vjzWlg3BR-U/photo.jpg?sz=128", "display_name": "Uueerdo", "link": "https://stackoverflow.com/users/4104224/uueerdo"}, "edited": false, "score": 0, "creation_date": 1493234422, "post_id": 43642648, "comment_id": 74333918, "body": "<i>&quot;I can not sort the dictionary either because I need it in its actual order.&quot;</i> There is no implicit order in SQL database tables; if you need an &quot;actual order&quot; you must store such ordering information with the data to be ordered; you should not rely on rows to be (or remain in) the order they were added."}, {"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "reply_to_user": {"reputation": 1439, "user_id": 5312245, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L-HQevIUjls/AAAAAAAAAAI/AAAAAAAABXo/xP1oI4FHXzM/photo.jpg?sz=128", "display_name": "Abdullah Dibas", "link": "https://stackoverflow.com/users/5312245/abdullah-dibas"}, "edited": false, "score": 0, "creation_date": 1493234457, "post_id": 43642648, "comment_id": 74333942, "body": "@AbdullahDibas the <a href=\"https://www.devart.com/dotconnect/sqlite/docs/Devart.Data.SQLite~Devart.Data.SQLite.SQLiteConnection~_ctor(String).html\" rel=\"nofollow noreferrer\">constructor does not create an open connection</a>, so the call <code>conn.Open()</code> is still required."}, {"owner": {"reputation": 1439, "user_id": 5312245, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L-HQevIUjls/AAAAAAAAAAI/AAAAAAAABXo/xP1oI4FHXzM/photo.jpg?sz=128", "display_name": "Abdullah Dibas", "link": "https://stackoverflow.com/users/5312245/abdullah-dibas"}, "reply_to_user": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1493234831, "post_id": 43642648, "comment_id": 74334147, "body": "@dlatikay thanks for correcting me."}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1493235282, "post_id": 43642648, "comment_id": 74334406, "body": "Aside from ensuring you have the proper indices, don&#39;t create a new connection for every query. Open your database once and query it repeatedly."}], "answers": [{"tags": [], "owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "is_accepted": true, "score": 1, "last_activity_date": 1493236022, "last_edit_date": 1493236022, "creation_date": 1493235144, "answer_id": 43643015, "question_id": 43642648, "link": "https://stackoverflow.com/questions/43642648/c-and-sqlite-query-execution-is-slow/43643015#43643015", "title": "c# and SQLite, query execution is slow", "body": "<p>To speed up the query, add an index to the <code>dictionary</code> table, include at least the <code>word</code> column (<a href=\"https://sqlite.org/queryplanner.html#fig4\" rel=\"nofollow noreferrer\">reference</a>):</p>\n\n<pre><code>CREATE INDEX IdxDictionary ON dictionary(word);\n</code></pre>\n\n<p>Depending on the number of readings per word, it may be worth comparing performance to that of a multi-column index:</p>\n\n<pre><code>CREATE INDEX IdxDictionary ON dictionary(word, reading);\n</code></pre>\n\n<p>The multi-column index will take up more space than the first one; if storage is of no concern, you can just create the second one.</p>\n\n<p>When we assume that <code>_word</code> and <code>_reading</code> are both user input, they need to be parametrized to prevent users from hacking your database:</p>\n\n<pre><code>string sql = \"SELECT * FROM dictionary WHERE word=@word AND reading=@reading\";\n\nusing(var command = new SQLiteCommand(sql, conn))\n{\n    command.Parameters.AddWithValue(\"@word\", _word);        \n    command.Parameters.AddWithValue(\"@reading\", _reading);        \n\n    ...\n}\n</code></pre>\n\n<p>If the number of expected matches is high, you could further optimize: Fetch only the <code>ID</code> and <code>definition</code> columns, <code>word</code> and <code>reading</code> are redundant.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 4797183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c50b1db56862b81cffea7401212a3f?s=128&d=identicon&r=PG", "display_name": "funkeyfreak", "link": "https://stackoverflow.com/users/4797183/funkeyfreak"}, "is_accepted": false, "score": 2, "last_activity_date": 1493236062, "last_edit_date": 1495540468, "creation_date": 1493235663, "answer_id": 43643171, "question_id": 43642648, "link": "https://stackoverflow.com/questions/43642648/c-and-sqlite-query-execution-is-slow/43643171#43643171", "title": "c# and SQLite, query execution is slow", "body": "<p>First off, congrats on starting your first C#/SQLite project, best of luck mate. I would recommend looking into restructuring your data a bit. For example:</p>\n\n<p>1) <strong>Table Structure.</strong> It sounds like there is a many to one relation on your word -> reading definitions. Meaning, you have many reading that may use the same work multiple times. You could then restructure your table structure to represent something like this:</p>\n\n<pre><code>   JD_Word               JD_Reading\n|------------|         |------------|\n|     ID     |  |-----&gt;|     ID     |\n|    Word    |  |      |   Reading  |\n| Reading ID |--|      |------------|\n| Definition |\n|------------|\n</code></pre>\n\n<p>2) <strong>Indexing.</strong> In general, it may be a good idea to create a simple index. As an overview, and index reduced the number of data pages your database has to scan. In SQLite, your primary key should be automatically indexed. More on that <a href=\"https://www.tutorialspoint.com/sqlite/sqlite_indexes.htm\" rel=\"nofollow noreferrer\">here</a>. You could create a multi column index on your JD_Reading Table:</p>\n\n<p>Current Structure:</p>\n\n<pre><code>CREATE INDEX dictionary_word ON dictionary(word);\n</code></pre>\n\n<p>Current Structure w/Muti-Column</p>\n\n<pre><code>CRAETE INDEX dictionary_word ON dictionary(word, reading);\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/723998/what-are-1nf-2nf-and-3nf-in-database-design\">3NF</a> (See first point):</p>\n\n<pre><code>CREATE INDEX dictionary_word ON JD_Word(Word);\nCREATE INDEX dictionary_reading ON JD_Reading(Reading);\n</code></pre>\n\n<p>3) There are many other options! Check out <a href=\"https://groups.google.com/forum/?hl=en-GB&amp;fromgroups#!topic/csharp-sqlite/f8v7yTLPlMk\" rel=\"nofollow noreferrer\">this post</a> highlighting some C#/SQLite performance issues. Leave a comment if you have any questions mate. Happy Programming. </p>\n"}], "owner": {"reputation": 3, "user_id": 7927314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d4698f14dad35059abb65976e9ee15f?s=128&d=identicon&r=PG&f=1", "display_name": "cophnia61", "link": "https://stackoverflow.com/users/7927314/cophnia61"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1059, "favorite_count": 0, "accepted_answer_id": 43643015, "answer_count": 2, "score": 0, "last_activity_date": 1493241988, "creation_date": 1493233856, "last_edit_date": 1493241988, "question_id": 43642648, "link": "https://stackoverflow.com/questions/43642648/c-and-sqlite-query-execution-is-slow", "title": "c# and SQLite, query execution is slow", "body": "<p>I start by saying that I'm a beginner with C# and SQL, so sorry if my code contains some rubbish.</p>\n\n<p>I've a sqlite table which is a Japanese Dictionary.<br>\nIt has the following rows:</p>\n\n<p><strong>ID</strong>: an unique, autoincremental integer;<br><strong>word</strong>: the word in Japanese \"ideograms\" (es.: \u5143\u6c17);<br><strong>reading</strong>: the phonetic reading of the word (es.: \u3052\u3093\u304d);<br><strong>definition</strong>: the dictionary definition for the word;</p>\n\n<p>A word may appear more than once inside the dictionary.<br>\nSometimes there may be multiple entries where both \"word\" and \"reding\" are the same, and I need to retrieve all of them:</p>\n\n<p><strong>ID - word - reading - definition</strong><br>1 - \u611b - \u3042\u3044 - Love;<br>2 - \u611b - \u3042\u3044 - The title of a 1800 book by ... ;</p>\n\n<p>This is how I retrieve the result:</p>\n\n<pre><code>void Search(string _word, string _reading) //es.: Search(\u611b, \u3042\u3044);\n{\n    ...\n    using(var conn = new SQLiteConnection(\"Data Source=dictsdb.sqlite;Version=3;\"))\n    {\n        conn.Open();\n        string sql = \"SELECT * FROM dictionary WHERE word = '\" + _word + \"' AND reading = '\" + _reading + \"'\";\n\n        using(var command = new SQLiteCommand(sql, conn))\n        {\n            using(var reader = command.ExecuteReader(CommandBehavior.CloseConnection))\n            {\n                while(reader.Read())\n                {\n                    (...)\n                }\n            }\n        }\n    conn.Close();\n    }\n...\n}\n</code></pre>\n\n<p>The dictionary is not sorted in a particular way, so I can not use optimized search algorithms.<br>\nI can not sort the dictionary either because I need it in its actual order.</p>\n\n<p>The slow part is the <code>command.ExecuteReader()</code>.<br>\nI suppose because for each search it must check all the entries of the dictionary, which is huge.</p>\n\n<p>Any suggestion to make it faster?</p>\n\n<p>EDIT: Thank you all for your suggestions! The index trick solved the issue and now is teen times faster! Thank to the other suggestions too, like the parametrized input one!</p>\n"}, {"tags": ["c#", "visual-studio", "visual-studio-2017"], "comments": [{"owner": {"reputation": 127444, "user_id": 492405, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/SSPGk.png?s=128&g=1", "display_name": "vcsjones", "link": "https://stackoverflow.com/users/492405/vcsjones"}, "edited": false, "score": 0, "creation_date": 1493233942, "post_id": 43642635, "comment_id": 74333647, "body": "What kind of project are you trying to create? If you are trying to create a UWP project, yes, Windows 10 is required."}, {"owner": {"reputation": 127444, "user_id": 492405, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/SSPGk.png?s=128&g=1", "display_name": "vcsjones", "link": "https://stackoverflow.com/users/492405/vcsjones"}, "edited": false, "score": 2, "creation_date": 1493233976, "post_id": 43642635, "comment_id": 74333666, "body": "If you are just trying to play with C#, make a Console Application. Or a Windows Form app."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1493234075, "post_id": 43642635, "comment_id": 74333728, "body": "Note to create a Windows form or console app you need to install the &quot;desktop development&quot; feature when installing vs2017"}, {"owner": {"reputation": 215, "user_id": 7763898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f7fd2a13b184040174b1cd91b026e43?s=128&d=identicon&r=PG&f=1", "display_name": "MStimp", "link": "https://stackoverflow.com/users/7763898/mstimp"}, "edited": false, "score": 0, "creation_date": 1493234259, "post_id": 43642635, "comment_id": 74333826, "body": "I have the universal windows platform development installed. I&#39;m trying to create a &quot;Blank App(Universal Windows)&quot;."}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 1, "creation_date": 1493234363, "post_id": 43642635, "comment_id": 74333878, "body": "As already stated <i>Universal Windows</i> Applications (UWP for short) require Windows 10 - you need to try a desktop solution"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 5, "creation_date": 1493234378, "post_id": 43642635, "comment_id": 74333890, "body": "A &quot;Blank App(Universal Windows)&quot; is for a UWP app, and UWP only runs on Windows 10. You&#39;ll need to do a console (reccomended), Windows Forms, WPF, or ASP.NET application."}, {"owner": {"reputation": 215, "user_id": 7763898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f7fd2a13b184040174b1cd91b026e43?s=128&d=identicon&r=PG&f=1", "display_name": "MStimp", "link": "https://stackoverflow.com/users/7763898/mstimp"}, "edited": false, "score": 0, "creation_date": 1493234383, "post_id": 43642635, "comment_id": 74333894, "body": "I don&#39;t see an option to create a console application or windows form app. Is there something else I have to install before I can use those?"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1493234417, "post_id": 43642635, "comment_id": 74333915, "body": "Templates &gt; Visual C# &gt; Windows Classic Desktop &gt; Console App. Or use the search box at the top right of the window."}, {"owner": {"reputation": 215, "user_id": 7763898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f7fd2a13b184040174b1cd91b026e43?s=128&d=identicon&r=PG&f=1", "display_name": "MStimp", "link": "https://stackoverflow.com/users/7763898/mstimp"}, "edited": false, "score": 0, "creation_date": 1493234584, "post_id": 43642635, "comment_id": 74334012, "body": "That&#39;s not an option on my window. I&#39;ve attached a link to an image of my options in my original question."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1493234591, "post_id": 43642635, "comment_id": 74334017, "body": "Based on the screenshot you&#39;ve posted, I suspect you need to run the Visual Studio 2017 installer and choose some additional options to install."}, {"owner": {"reputation": 215, "user_id": 7763898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f7fd2a13b184040174b1cd91b026e43?s=128&d=identicon&r=PG&f=1", "display_name": "MStimp", "link": "https://stackoverflow.com/users/7763898/mstimp"}, "edited": false, "score": 0, "creation_date": 1493234742, "post_id": 43642635, "comment_id": 74334106, "body": "Do you have an idea of what I should be looking for? I have the &quot;universal windows platform development&quot; installed. I think I see it now, I believe it&#39;s the .NET desktop development package."}], "answers": [{"tags": [], "owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "is_accepted": false, "score": 0, "last_activity_date": 1493234744, "creation_date": 1493234744, "answer_id": 43642904, "question_id": 43642635, "link": "https://stackoverflow.com/questions/43642635/visual-studio-requires-windows-10/43642904#43642904", "title": "Visual Studio requires windows 10?", "body": "<ol>\n<li>Start the Visual Studio Installer</li>\n<li>Select to Modify your current install.</li>\n<li>Check the box for \".NET Desktop Development\"</li>\n<li>Click the \"Modify\" button</li>\n</ol>\n\n<p>If you do not have the \".NET Desktop Development\" component installed, you will not be able to create .NET applications that will run on previous versions of Windows.</p>\n"}, {"tags": [], "owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "is_accepted": true, "score": 6, "last_activity_date": 1493235073, "last_edit_date": 1493235073, "creation_date": 1493234756, "answer_id": 43642911, "question_id": 43642635, "link": "https://stackoverflow.com/questions/43642635/visual-studio-requires-windows-10/43642911#43642911", "title": "Visual Studio requires windows 10?", "body": "<p>Rerun the Visual Studio 2017 installer (you can re-obtain it from <a href=\"https://www.visualstudio.com/vs/\" rel=\"noreferrer\">here</a> if you need to). Choose to modify your existing installation. Choose the \".NET Desktop Development\" workload which will allow you to create console apps (best for playing with new programming languages), Windows forms, and WPF applications.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Jxbyb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Jxbyb.png\" alt=\"enter image description here\"></a></p>\n\n<p>Once you've done that, launch Visual Studio 2017 and on the new project screen navigate to Templates > Visual C# > Windows Classic Desktop > Console App. Or search for \"console\".</p>\n\n<p>You may also consider the \".NET Core cross-platform development\" workload, which will let you create console applications that run on <a href=\"https://en.wikipedia.org/wiki/.NET_Framework#.NET_Core\" rel=\"noreferrer\">.NET Core</a> instead of the full .NET Framework. This is newer and there's less documentation for it, but it's the future of .NET development.</p>\n\n<p>Universal Windows Platform Development is for <a href=\"https://en.wikipedia.org/wiki/Universal_Windows_Platform_apps\" rel=\"noreferrer\">UWP apps</a>, which require Windows 10.</p>\n"}], "owner": {"reputation": 215, "user_id": 7763898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f7fd2a13b184040174b1cd91b026e43?s=128&d=identicon&r=PG&f=1", "display_name": "MStimp", "link": "https://stackoverflow.com/users/7763898/mstimp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2450, "favorite_count": 0, "accepted_answer_id": 43642911, "answer_count": 2, "score": 4, "last_activity_date": 1493235073, "creation_date": 1493233797, "last_edit_date": 1493234562, "question_id": 43642635, "link": "https://stackoverflow.com/questions/43642635/visual-studio-requires-windows-10", "title": "Visual Studio requires windows 10?", "body": "<p>I'm using windows 7 and I'm trying to learn C# using Visual Studio. If I try to make a new project it asks for a minimum and target version(The only options are windows 10). Afterwards, it tells me I can't open this kind of project without updating to windows 10. I can't update to windows 10, how can I use Visual Studio 2017 to make and compile a C# project on my windows 7 os?</p>\n\n<p>I have the universal windows platform development installed. \nI'm trying to create a \"Blank App(Universal Windows)\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/dwLXm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dwLXm.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "winforms", "animation", "sprite"], "comments": [{"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1493234621, "post_id": 43642629, "comment_id": 74334033, "body": "Why divide by 1000? And if you need to divide why not by 1000d ??"}, {"owner": {"reputation": 1, "user_id": 3156551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/671cdd14a52a4a2e0a153c0c6f1850e9?s=128&d=identicon&r=PG&f=1", "display_name": "Sergei Pogorelov", "link": "https://stackoverflow.com/users/3156551/sergei-pogorelov"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1493235185, "post_id": 43642629, "comment_id": 74334339, "body": "1000d is really better) thank you for that) but it doesn&#39;t solve my issue("}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1493236350, "post_id": 43642629, "comment_id": 74335019, "body": "But why divide ms by 1000 in the 1st place???? &#181;s? really?? Timer, btw has a resolution of being no faster than 20-30ms at best."}, {"owner": {"reputation": 1, "user_id": 3156551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/671cdd14a52a4a2e0a153c0c6f1850e9?s=128&d=identicon&r=PG&f=1", "display_name": "Sergei Pogorelov", "link": "https://stackoverflow.com/users/3156551/sergei-pogorelov"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1493236744, "post_id": 43642629, "comment_id": 74335232, "body": "I divide by 1000 because the method awaits the value in seconds, not in milliseconds.  20-30 ms at best? It means the timer approach doesn&#39;t work for me... I need FPS 30 as minimum."}, {"owner": {"reputation": 1, "user_id": 3156551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/671cdd14a52a4a2e0a153c0c6f1850e9?s=128&d=identicon&r=PG&f=1", "display_name": "Sergei Pogorelov", "link": "https://stackoverflow.com/users/3156551/sergei-pogorelov"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1493237176, "post_id": 43642629, "comment_id": 74335479, "body": "Do you know another approach except the usage of timers?"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1493237512, "post_id": 43642629, "comment_id": 74335667, "body": "No, they are the way to go in winforms. But, as I said Timer will not be better than 15-25 ms resolution! So setting it to 10ms will not result in 10ms intervals really!! So calculating the actual time to find the right positions is a good idea. Of course the time will greatly depend on the load your code creates.."}], "owner": {"reputation": 1, "user_id": 3156551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/671cdd14a52a4a2e0a153c0c6f1850e9?s=128&d=identicon&r=PG&f=1", "display_name": "Sergei Pogorelov", "link": "https://stackoverflow.com/users/3156551/sergei-pogorelov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493282536, "creation_date": 1493233782, "last_edit_date": 1493282536, "question_id": 43642629, "link": "https://stackoverflow.com/questions/43642629/how-to-update-an-animation-state-on-the-winforms-picture-box-using-sprites", "title": "How to update an animation state on the WinForms picture box using sprites", "body": "<p>I'm supposed to create a simple game with animations on Windows Forms. I decided to use the picture box as a canvas, and draw the game objects on it. The problem is, I can't figure out how I should update states of the game entities. Google says I need to create a timer and every tick to update the game objects and refresh the picture box. And when the event Paint happens, to render the game objects on the canvas. But for some reason, the time passed from the previous update is always different. And it causes animations rendered wrong.</p>\n\n<p>Take a look at the code and find the following line:</p>\n\n<pre><code>var dt = (double)(now - LastUpdate).Milliseconds / 1000;\n</code></pre>\n\n<p>There I'm trying to calculate the time passed from the previous tick. It's supposed to be always the value I set to the timer interval: 10 ms. But in reality I see different values such as 1, 5, 30, 500, 900. Because of it a lot of animation frames are missed.</p>\n\n<p>If I try the next code:</p>\n\n<pre><code>var dt = (double)MainTimer.Interval / 1000;\n</code></pre>\n\n<p>Then the hardcoded value will improve the entire picture and the animations will become stable. But this approach doesn't work for me either. Because in this case, the speed of animations depends on the computer performance.</p>\n\n<p>What is a correct way to update the state of animations? I haven't found anything except approaches with timers.</p>\n\n<p>Below the full version of the demo code. I also uploaded the VS project on the <a href=\"https://github.com/sergeypogorelov/winforms-sprite-animation\" rel=\"nofollow noreferrer\">GitHub</a>.</p>\n\n<pre><code>public partial class MainForm : Form\n{\n    public MainForm()\n    {\n        InitializeComponent();\n\n        var spriteMapImage = Image.FromFile(AppDomain.CurrentDomain.BaseDirectory + \"sprite-map.png\");\n\n        #region \"Init SpaceShipSprite\"\n        SpaceShipSprite = new Sprite(spriteMapImage);\n        SpaceShipSprite.PositionOnMap.X = 0;\n        SpaceShipSprite.PositionOnMap.Y = 0;\n        SpaceShipSprite.Size.Width = 39;\n        SpaceShipSprite.Size.Height = 39;\n        SpaceShipSprite.Animation.Speed = 16;\n        SpaceShipSprite.Animation.FrameOrder = new int[] { 0, 1 };\n        #endregion\n\n        #region \"Init ExplosionSprite\"\n        ExplosionSprite = new Sprite(spriteMapImage);\n        ExplosionSprite.PositionOnMap.X = 0;\n        ExplosionSprite.PositionOnMap.Y = 117;\n        ExplosionSprite.Size.Width = 39;\n        ExplosionSprite.Size.Height = 39;\n        ExplosionSprite.Animation.Speed = 16;\n        ExplosionSprite.Animation.FrameOrder = new int[] { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 };\n        #endregion\n\n        LastUpdate = DateTime.Now;\n    }\n\n    protected DateTime LastUpdate;\n\n    protected Sprite SpaceShipSprite { get; set; }\n\n    protected Sprite ExplosionSprite { get; set; }\n\n    protected void MainPictureBox_Paint(object sender, PaintEventArgs e)\n    {\n        e.Graphics.Clear(Color.Black);\n\n        SpaceShipSprite.Render(e.Graphics, new Point(0, 0), SpaceShipSprite.Size);\n        ExplosionSprite.Render(e.Graphics, new Point(0, 40), ExplosionSprite.Size);\n    }\n\n    protected void MainTimer_Tick(object sender, EventArgs e)\n    {\n        var now = DateTime.Now;\n\n        var dt = (double)(now - LastUpdate).Milliseconds / 1000;\n        //dt = (double)MainTimer.Interval / 1000;\n\n        SpaceShipSprite.Update(dt);\n        ExplosionSprite.Update(dt);\n\n        MainPictureBox.Refresh();\n    }\n\n    protected void MainForm_Load(object sender, EventArgs e)\n    {\n        MainTimer.Start();\n    }\n}\n\npublic class Sprite\n{\n    public Size Size;\n\n    public Point PositionOnMap;\n\n    public Image MapImage { get; private set; }\n\n    public AnimationInfo Animation { get; private set; }\n\n    public Sprite(Image spriteMapImage)\n    {\n        if (spriteMapImage == null)\n        {\n            throw new ArgumentNullException();\n        }\n\n        MapImage = spriteMapImage;\n        Animation = new AnimationInfo();\n    }\n\n    public void Update(double dt)\n    {\n        Animation.Update(dt);\n    }\n\n    public void Render(Graphics context, Point position, Size size)\n    {\n        if (context == null)\n        {\n            throw new ArgumentNullException();\n        }\n\n        var x = PositionOnMap.X;\n        var y = PositionOnMap.Y;\n\n        x += Animation.CurrentFrame * Size.Width;\n\n        var distRect = new Rectangle(position, size);\n        var srcRect = new Rectangle(x, y, Size.Width, Size.Height);\n\n        context.DrawImage(MapImage, distRect, srcRect, GraphicsUnit.Pixel);\n    }\n}\n\npublic class AnimationInfo\n{\n    public int Speed { get; set; }\n\n    public int[] FrameOrder { get; set; }\n\n    public int CurrentFrame\n    {\n        get\n        {\n            if (FrameOrder != null &amp;&amp; FrameOrder.Length &gt; 0)\n            {\n                var index = (int)Math.Floor(_countOfFramesPassed) % FrameOrder.Length;\n                return FrameOrder[index];\n            }\n\n            return 0;\n        }\n    }\n\n    public void Update(double dt)\n    {\n        _countOfFramesPassed += Speed * dt;\n    }\n\n    private double _countOfFramesPassed;\n}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio"], "comments": [{"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1493233802, "post_id": 43642545, "comment_id": 74333569, "body": "You should really only use solutions to group related projects.  It sounds like you are trying to place ALL your projects in a single solution - which is usually a bad idea."}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "reply_to_user": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1493233915, "post_id": 43642545, "comment_id": 74333633, "body": "I am not asking whether it is a good idea to do that, but how to do that. Since you wonder, my purpose is to find all the references of an identity used across the projects (some projects are libraries, which are used by other projects which are either libraries or applications)."}, {"owner": {"reputation": 16152, "user_id": 205233, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd3b79356ba4ea1f7e8d6be783446e59?s=128&d=identicon&r=PG&f=1", "display_name": "Filburt", "link": "https://stackoverflow.com/users/205233/filburt"}, "edited": false, "score": 0, "creation_date": 1493234282, "post_id": 43642545, "comment_id": 74333835, "body": "Those <i>numerical strings</i> are your project guids. you can extract all information need for your .sln file from your .csproj files."}, {"owner": {"reputation": 16152, "user_id": 205233, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd3b79356ba4ea1f7e8d6be783446e59?s=128&d=identicon&r=PG&f=1", "display_name": "Filburt", "link": "https://stackoverflow.com/users/205233/filburt"}, "edited": false, "score": 0, "creation_date": 1493234423, "post_id": 43642545, "comment_id": 74333919, "body": "... and since your google-foo seems to be a little weak: <a href=\"https://msdn.microsoft.com/en-us/library/bb165951.aspx\" rel=\"nofollow noreferrer\">Solution (.Sln) File</a>"}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1493239377, "post_id": 43642545, "comment_id": 74336661, "body": "Perhaps you should ask for a method to &quot;find all the references of an identity used across the projects&quot;. You&#39;ve shown what you are considering, there may be alternatives."}], "owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493233896, "creation_date": 1493233470, "last_edit_date": 1493233896, "question_id": 43642545, "link": "https://stackoverflow.com/questions/43642545/create-a-solution-which-have-all-the-existing-projects-directly-or-indirectly-un", "title": "Create a solution which have all the existing projects directly or indirectly under a directory?", "body": "<p>I have many Visual Studio C# projects, stored in their own directories. </p>\n\n<p>I would like to create a solution which contains all the projects.</p>\n\n<p>The basic idea I have is to </p>\n\n<ol>\n<li>first go to the common ancestor directory of the projects, and use GNU <code>find</code> to find all the <code>.csproj</code> files recursively under it. Add the pathnames of all the found <code>.csproj</code> files into a file. \nThe first step requires me some effort to find how to use <code>find</code> to do that.</li>\n<li><p>formulate the file into a <code>.sln</code> file. The second step is more of a\nproblem, because how can I write a <code>.sln</code> file for given <code>.csproj</code>\nfiles? For example, I checked at the <code>.sln</code> file of an existing\nsolution, and couldn't figure out what the numerical strings mean\nand how to generate them.</p>\n\n<pre><code>Microsoft Visual Studio Solution File, Format Version 11.00\n# Visual Studio 2010\nProject(\"{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}\") = \"myProject\", \"myProject.csproj\", \"{D36E9F63-37D8-43F3-BF87-EA1F5D31B971}\"\nEndProject\nGlobal\n        GlobalSection(SolutionConfigurationPlatforms) = preSolution\n                Debug|Any CPU = Debug|Any CPU\n                Release|Any CPU = Release|Any CPU\n        EndGlobalSection\n        GlobalSection(ProjectConfigurationPlatforms) = postSolution\n                {D36E9F63-37D8-43F3-BF87-EA1F5D31B971}.Debug|Any CPU.ActiveCfg = Debug|Any CPU\n                {D36E9F63-37D8-43F3-BF87-EA1F5D31B971}.Debug|Any CPU.Build.0 = Debug|Any CPU\n                {D36E9F63-37D8-43F3-BF87-EA1F5D31B971}.Release|Any CPU.ActiveCfg = \nRelease|Any CPU\n                {D36E9F63-37D8-43F3-BF87-EA1F5D31B971}.Release|Any CPU.Build.0 =\nRelease|Any CPU\n        EndGlobalSection\n        GlobalSection(SolutionProperties) = preSolution\n                HideSolutionNode = FALSE\n        EndGlobalSection\nEndGlobal\n</code></pre></li>\n</ol>\n\n<p>An alternative idea is as following. In Visual Studio 2015, I might create an empty solution, and add the projects to the solution one by one. But there are so many projects, and if in the future there are projects added or removed, I have to create a new solution all over again.</p>\n\n<p>So what shall I do?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 117, "user_id": 7875771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1308509495930954/picture?type=large", "display_name": "ldn", "link": "https://stackoverflow.com/users/7875771/ldn"}, "reply_to_user": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 0, "creation_date": 1493233499, "post_id": 43642526, "comment_id": 74333383, "body": "@GiladGreen, well no, i dont have much experience with linq"}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 1, "creation_date": 1493233512, "post_id": 43642526, "comment_id": 74333390, "body": "<code>var grouped = myList.GroupBy(g =&gt; new { g.GroupName, g.Class })</code>"}, {"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 0, "creation_date": 1493233542, "post_id": 43642526, "comment_id": 74333407, "body": "@DagvanorovLkhagvajav - still it is best to show what you have tried"}, {"owner": {"reputation": 7876, "user_id": 2321874, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fbIIO.jpg?s=128&g=1", "display_name": "Mihai Caracostea", "link": "https://stackoverflow.com/users/2321874/mihai-caracostea"}, "edited": false, "score": 1, "creation_date": 1493233684, "post_id": 43642526, "comment_id": 74333486, "body": "Read on Linq GroupBy and show some minimum research effort..."}], "answers": [{"tags": [], "owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "is_accepted": true, "score": 2, "last_activity_date": 1506696052, "last_edit_date": 1506696052, "creation_date": 1493233790, "answer_id": 43642632, "question_id": 43642526, "link": "https://stackoverflow.com/questions/43642526/c-split-listclass-into-listlistclass-group/43642632#43642632", "title": "C#, Split List&lt;Class&gt; into List&lt;List&lt;Class&gt;&gt; (group)", "body": "<p>Simply use <code>GroupBy</code>. Then, as you want an inner list and not <code>IEnumerable</code> use <code>ToList()</code> for each group:</p>\n\n<pre><code>List&lt;CLA&gt; data = new List&lt;CLA&gt;();\nvar result = data.GroupBy(item =&gt; new { item.GroupName, item.Class })\n                    .Select(group =&gt; group.ToList()).ToList();\n</code></pre>\n\n<p>Unless for specific reasons consider returning <code>IEnumerable&lt;IEnumerable&lt;CLA&gt;&gt;</code> instead - shame to already execute the query if not yet needed:</p>\n\n<pre><code>var result = data.GroupBy(item =&gt; new { item.GroupName, item.Class })\n                    .Select(group =&gt; group);\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 7875771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1308509495930954/picture?type=large", "display_name": "ldn", "link": "https://stackoverflow.com/users/7875771/ldn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "accepted_answer_id": 43642632, "answer_count": 1, "score": -1, "last_activity_date": 1506696052, "creation_date": 1493233381, "last_edit_date": 1493233826, "question_id": 43642526, "link": "https://stackoverflow.com/questions/43642526/c-split-listclass-into-listlistclass-group", "title": "C#, Split List&lt;Class&gt; into List&lt;List&lt;Class&gt;&gt; (group)", "body": "<p>I have list of classes and how to split, group them?</p>\n\n<pre><code>class CLA \n{\n    string GroupName;\n    double Class;\n    double Value;\n}\n\n...\n\npublic List&lt;List&lt;CLA&gt;&gt; Dividr (List&lt;CLA&gt; a)\n{\n    List&lt;List&lt;CLA&gt; Clist = new List&lt;List&lt;CLA&gt;&gt;();\n    Clist.Addrange(...) //Here \n    returnn Clist;\n} \n</code></pre>\n\n<p>As for dividing, it would be split by it's properties, <code>GroupName</code>, Class. </p>\n\n<p>Example, if elements have same <code>GroupName</code> and Class it will be one List&lt;>.</p>\n"}, {"tags": ["c#", "html", "css", "asp.net"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 4760270, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/988b223f0a6d59ff0c6e4a22e04eb25b?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin D", "link": "https://stackoverflow.com/users/4760270/kevin-d"}, "edited": false, "score": 0, "creation_date": 1493316777, "post_id": 43644738, "comment_id": 74377201, "body": "For Issue 1, I tried using Literals and it adds them all to the page in code, but they dont actually show up on the page, its odd. I can copy and paste the code it generates and it works pefectly, but It wont work through this auto generation. I tried Server.HtmlDecode and then adding them through that, but It did nothing for me.  For Issue 2 I tried your suggested method but it doesnt seem to ever hit the ClickedCheckBox() when I step through it.   For Issue 3, It worked perfectly! Thanks a lot!"}], "tags": [], "owner": {"reputation": 433, "user_id": 1237248, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6d21ee0e983471d291670c48d0879ef8?s=128&d=identicon&r=PG", "display_name": "Matthew Eskolin", "link": "https://stackoverflow.com/users/1237248/matthew-eskolin"}, "is_accepted": false, "score": 0, "last_activity_date": 1493241745, "creation_date": 1493241745, "answer_id": 43644738, "question_id": 43642496, "link": "https://stackoverflow.com/questions/43642496/asp-net-c-dynamic-element-styling-and-events/43644738#43644738", "title": "ASP.NET C# Dynamic Element Styling and Events", "body": "<p><strong>Issue 1</strong>:\n<br>\nConsider Using the <a href=\"https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.literal(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Literal</a> Web Control and putting html elements inside of the text with your desired classes.  </p>\n\n<pre><code>        var ltl = new Literal();\n        ltl.ID = \"id_ltlName_\" + tempFlag;\n        ltl.Text = $\"&lt;div class='class1'&gt;{tempRow[1]}&gt;&lt;/div&gt;&lt;div&gt;{tempRow[2]}\";\n        pnlItem.Controls.Add(ltl);\n</code></pre>\n\n<p>You could also create an ascx user control, and load instances of that dynamically if you want more functionality inside of the panel.</p>\n\n<p><strong>Issue 2</strong>\nTo add events to a dynamically created control, use the += operator to add a handler to be called when the event is fired. For Example, to handle the CheckChanged event for a checkbox. Remember that with dynamic controls, these event handlers have to be registered on every postback.</p>\n\n<pre><code>var checkbox1 = new CheckBox();\ncheckbox1.CheckedChanged += ClickedCheckBox;\n\nprivate void ClickedCheckBox(object sender, EventArgs e)\n{\n    var checkbox1 = sender as CheckBox;\n}\n</code></pre>\n\n<p><strong>Issue 3</strong>\nYou have 2 tds next to each other. Try vertical-align:top on both of them</p>\n\n<pre><code>&lt;div runat=\"server\" id=\"divSearch\" class=\"divCenterItems\"&gt;\n    &lt;table class=\"searchTable\"&gt;\n        &lt;tr style=\"width: 100%\"&gt;\n            &lt;td style=\"vertical-align:top;width: 29%;\"&gt;\n            &lt;/td&gt;\n            &lt;td style=\"vertical-align:top;width: 69%\"&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 4760270, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/988b223f0a6d59ff0c6e4a22e04eb25b?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin D", "link": "https://stackoverflow.com/users/4760270/kevin-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 600, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1493241745, "creation_date": 1493233282, "question_id": 43642496, "link": "https://stackoverflow.com/questions/43642496/asp-net-c-dynamic-element-styling-and-events", "title": "ASP.NET C# Dynamic Element Styling and Events", "body": "<p>I am currently dynamically generating ASP elements on a website. The site displays items for a specific motorcycle based on the make/model/year. </p>\n\n<p><strong>Issue 1:</strong> I have all of the items displaying correctly, on the page, but I cannot figure out how to get my CSS styling to apply to the dynamically generated items. </p>\n\n<p>Heres what I have, it querys the items into a datatable first:</p>\n\n<pre><code>try\n{\n  int tempflag = 0;\n  foreach (DataRow tempRow in dt.Rows)\n  {\n    string tempCategory = tempRow[4].ToString();\n    string tempPartUrl = tempRow[5].ToString();\n    string tempImageUrl = tempRow[6].ToString();\n    string tempPartBrand = tempRow[7].ToString();\n    string tempPartName = tempRow[8].ToString();\n    string tempPrice = tempRow[9].ToString();\n    string tempStoreName = tempRow[10].ToString();\n\n    //panel to hold an item\n    Panel pnlItem = new Panel();\n    pnlItem.ID = \"id_pnItem_\" + tempflag;\n    pnlItem.CssClass = \"itemDiv\";\n    divSearchResultsBody.Controls.Add(pnlItem);\n\n    //image\n    Image tpImg = new Image();\n    tpImg.ID = \"id_tpImg_\" + tempflag;\n    tpImg.ImageUrl = tempImageUrl;\n    pnlItem.Controls.Add(tpImg);\n\n    Label lblBR = new Label();\n    lblBR.ID = \"frt\" + tempflag;\n    lblBR.Text = \"&lt;br /&gt;\";\n    pnlItem.Controls.Add(lblBR);\n\n    //brand\n    Label lblBrand = new Label();\n    lblBrand.ID = \"id_lblBrand_\" + tempflag;\n    lblBrand.Text = tempPartBrand;\n    pnlItem.Controls.Add(lblBrand);\n\n    //name\n    Label lblName = new Label();\n    lblName.ID = \"id_lblName_\" + tempflag;\n    lblName.Text = tempPartName;\n    pnlItem.Controls.Add(lblName);\n\n    //price\n    Label lblPrice = new Label();\n    lblPrice.ID = \"id_lblPrice_\" + tempflag;\n    lblPrice.Text = tempPrice;\n    pnlItem.Controls.Add(lblPrice);\n\n    //url\n    HyperLink hyp = new HyperLink();\n    hyp.ID = \"id_link_\" + tempflag;\n    hyp.NavigateUrl = tempPartUrl;\n    hyp.Text = \"View Part\";\n    pnlItem.Controls.Add(hyp);\n    tempflag++;              \n  }\n}\ncatch (Exception ex)\n{\n  handleTheError(ex);\n}\n</code></pre>\n\n<p>I'm not sure how to access my css sheet from the .aspx.cs. so all the elements are just smashed together one after another each in a panel.</p>\n\n<p><strong>Issue 2:</strong> I am also generating checkboxes based on the item's category's so I can create a filter. I grab distinct categories with a query and fill them into a datatable. I have all the checkboxes but I have no idea how to go about generating an event for them because they are dynamic, and I've only used events that are hard coded. The code is similar:</p>\n\n<pre><code>foreach (DataRow tempRow in dt2.Rows)\n{\n  string tempCategory = tempRow[0].ToString();\n  CheckBox cbCategory = new CheckBox();\n  cbCategory.ID = \"id_cbCategory_\" + tempflag2;\n  cbCategory.Text = tempCategory;\n  divFilterCategory.Controls.Add(cbCategory);\n\n  tempflag2++;\n} \n</code></pre>\n\n<p><strong>Issue 3:</strong> There are two divs that are next to each other, one for filter results that are generated, and another for the item results that are generated. As I mentioned they both generate properly at the moment, but for some reason when the items generate it shoots the second div halfway down the page. Pics:Before searching, After searching, Filters halfway down the page\n<a href=\"https://i.stack.imgur.com/bSS0u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bSS0u.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/XcEDa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XcEDa.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/GG8yw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GG8yw.png\" alt=\"enter image description here\"></a></p>\n\n<p>Heres what the initial design looks like</p>\n\n<pre><code>&lt;div runat=\"server\" id=\"divSearch\" class=\"divCenterItems\"&gt;\n    &lt;table class=\"searchTable\"&gt;\n        &lt;tr style=\"width: 100%\"&gt;\n            &lt;td style=\"width: 29%\"&gt;\n                &lt;div runat=\"server\" id=\"divSearchFiltersHeader\" class=\"divSearchHeaders\"&gt;\n                    &lt;asp:Label runat=\"server\" ID=\"lblFilterResults\" Text=\"Filter Results\" CssClass=\"headerLabels\"&gt;&lt;/asp:Label&gt;\n                &lt;/div&gt;\n                &lt;div runat=\"server\" id=\"divSearchFiltersBody\"&gt;\n                    &lt;div runat=\"server\" id=\"divFilterCategory\"&gt;&lt;/div&gt;\n                    &lt;div runat=\"server\" id=\"divFilterBrand\"&gt;&lt;/div&gt;\n                    &lt;div runat=\"server\" id=\"divFilterPrice\"&gt;&lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/td&gt;\n            &lt;td style=\"width: 69%\"&gt;\n                &lt;div runat=\"server\" id=\"divSearchResultsHeader\" class=\"divSearchHeaders\"&gt;\n                    &lt;asp:Label runat=\"server\" ID=\"lblSearchTitle\" Text=\"Search Results Title\" CssClass=\"headerLabels\"&gt;&lt;/asp:Label&gt;\n                &lt;/div&gt;\n                &lt;div runat=\"server\" id=\"divSearchResultsBody\"&gt;\n                    &lt;div runat=\"server\" id=\"divItemsMSS\"&gt;&lt;/div&gt;\n                    &lt;div runat=\"server\" id=\"divItemsRMATVMC\"&gt;&lt;/div&gt;\n                    &lt;div runat=\"server\" id=\"divItemsDK\"&gt;&lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Styles:</p>\n\n<pre><code>.divCenterItems\n{\n  border: 1px solid black;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.searchTable\n{\n  width: 100%;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n.divSearchHeaders\n{\n  border: 1px solid black;\n  background-image: url('../Resources/header.png');\n  background-repeat: no-repeat;\n  background-size: 100% 100%;\n  height: 30px;\n}\n.headerLabels \n{\n  color: white;\n  font-size: 16px;\n  line-height: 2em;\n  padding-left: 10px;\n}\n</code></pre>\n\n<p>Im not sure if any of these styles would be causing the filter div to act like this, but I've been playing around with them with no success. Any tips for tricks for these types of situations would be greatly appreciated, I'm new to dynamically generating elements. Cheers!</p>\n"}, {"tags": ["c#", "angularjs", "wcf"], "answers": [{"comments": [{"owner": {"reputation": 487, "user_id": 6762056, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/3gveB.jpg?s=128&g=1", "display_name": "sioesi", "link": "https://stackoverflow.com/users/6762056/sioesi"}, "edited": false, "score": 0, "creation_date": 1493233571, "post_id": 43642544, "comment_id": 74333423, "body": "Thanks for answering. When I change that content type, I get the error &quot;405 Method Not Allowed&quot;"}, {"owner": {"reputation": 955936, "user_id": 29407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e3a181e9cdd4757a8b416d93878770c5?s=128&d=identicon&r=PG", "display_name": "Darin Dimitrov", "link": "https://stackoverflow.com/users/29407/darin-dimitrov"}, "reply_to_user": {"reputation": 487, "user_id": 6762056, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/3gveB.jpg?s=128&g=1", "display_name": "sioesi", "link": "https://stackoverflow.com/users/6762056/sioesi"}, "edited": false, "score": 0, "creation_date": 1493233611, "post_id": 43642544, "comment_id": 74333445, "body": "Well, then you will need to fix your webserver, so that it accepts POST requests. The 405 status code usually indicates that the webserver doesn&#39;t understand the HTTP verb you are using."}, {"owner": {"reputation": 487, "user_id": 6762056, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/3gveB.jpg?s=128&g=1", "display_name": "sioesi", "link": "https://stackoverflow.com/users/6762056/sioesi"}, "edited": false, "score": 0, "creation_date": 1493233630, "post_id": 43642544, "comment_id": 74333456, "body": "I will add my service so you can see it."}, {"owner": {"reputation": 487, "user_id": 6762056, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/3gveB.jpg?s=128&g=1", "display_name": "sioesi", "link": "https://stackoverflow.com/users/6762056/sioesi"}, "edited": false, "score": 0, "creation_date": 1493238058, "post_id": 43642544, "comment_id": 74335949, "body": "Update mi question"}], "tags": [], "owner": {"reputation": 955936, "user_id": 29407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e3a181e9cdd4757a8b416d93878770c5?s=128&d=identicon&r=PG", "display_name": "Darin Dimitrov", "link": "https://stackoverflow.com/users/29407/darin-dimitrov"}, "is_accepted": false, "score": 1, "last_activity_date": 1493233580, "last_edit_date": 1493233580, "creation_date": 1493233466, "answer_id": 43642544, "question_id": 43642494, "link": "https://stackoverflow.com/questions/43642494/http-post-angular2/43642544#43642544", "title": "Http post Angular2", "body": "<p>This:</p>\n\n<pre><code>let data = JSON.stringify({ dato: 11 });\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>let headers = new Headers({ 'Content-Type': 'application/x-www-form-urlencoded'});\n</code></pre>\n\n<p>are terribly contradictory and inconsistent. </p>\n\n<p>Please try to be consistent when you make an HTTP request against a web server about how you are going to encode the request. So if intend to send a JSON body make sure that you specify the proper <code>Content-Type</code> request header, so that the server would know how to process this payload:</p>\n\n<pre><code>let headers = new Headers({ 'Content-Type': 'application/json'});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3561, "user_id": 5651109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c983c72e0f6564470dec5c14967eb894?s=128&d=identicon&r=PG&f=1", "display_name": "Navoneel Talukdar", "link": "https://stackoverflow.com/users/5651109/navoneel-talukdar"}, "is_accepted": false, "score": 0, "last_activity_date": 1494242762, "creation_date": 1494242762, "answer_id": 43846453, "question_id": 43642494, "link": "https://stackoverflow.com/questions/43642494/http-post-angular2/43846453#43846453", "title": "Http post Angular2", "body": "<p>In addition to what Darin has said I would say you are not using <code>BodyStyle = WebMessageBodyStyle.Wrapped</code> correctly.</p>\n\n<p>See your wcf method expects a single parameter so you could go ahead without wrappedrequest property.</p>\n\n<pre><code>[OperationContract]\n[WebInvoke(UriTemplate = \"/GetCaptaciones\", Method = \"POST\", ResponseFormat = WebMessageFormat.Json, RequestFormat=WebMessageFormat.Json)]\nList&lt;Captacion&gt; GetCaptaciones(int id_captador);\n</code></pre>\n\n<p>Wrapped request means there should be some wrapper object on top of the input properties which WCF method takes as argument.</p>\n\n<p>So something like this</p>\n\n<pre><code> var input =\n        {\n            \"CaptacionesInput\": \n            {\n                \"id_captador\": 11\n            }\n        };\n</code></pre>\n\n<p>Now wcf method becomes like </p>\n\n<pre><code>List&lt;Captacion&gt; GetCaptaciones(CaptacionesInputType CaptacionesInput);\n</code></pre>\n"}], "owner": {"reputation": 487, "user_id": 6762056, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/3gveB.jpg?s=128&g=1", "display_name": "sioesi", "link": "https://stackoverflow.com/users/6762056/sioesi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1494242762, "creation_date": 1493233274, "last_edit_date": 1493238045, "question_id": 43642494, "link": "https://stackoverflow.com/questions/43642494/http-post-angular2", "title": "Http post Angular2", "body": "<p>I am migrating an Ionic v1 application to Ionic v2. In one of my methods I make a call to a WCF service. In AngularJS I do it like this:</p>\n\n<pre><code>$http({\n method: 'POST',\n url: url,\n data: JSON.stringify({ dato: 11 }),\n dataType: \"json\",\n contentType: \"application/x-www-form-urlencoded\"\n})\n</code></pre>\n\n<p>And in Angular2 like this:</p>\n\n<pre><code>let data = JSON.stringify({ dato: 11 });\nlet headers = new Headers({ 'Content-Type': 'application/x-www-form-urlencoded'});\nlet options = new RequestOptions({ headers: headers });\nthis.http.post(url, data, options)\n.subscribe(data =&gt; {\n  console.log(data);\n}, error =&gt; {\n  console.log(\"Error\");\n});\n</code></pre>\n\n<p>However, I receive from my C# service an error and says that the format I send to my functions is 'RAW' while waiting for it to send JSON with Angular 2</p>\n\n<p>This error occurred to me in AngularJS but it was solved by adding the code I previously left in this post.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>My WCF service : </p>\n\n<pre><code>[OperationContract]\n[WebInvoke(UriTemplate = \"/GetCaptaciones\", Method = \"POST\", ResponseFormat = WebMessageFormat.Json, RequestFormat=WebMessageFormat.Json , BodyStyle = WebMessageBodyStyle.Wrapped)]\nList&lt;Captacion&gt; GetCaptaciones(int id_captador);\n</code></pre>\n\n<p>AND</p>\n\n<pre><code>let data = JSON.stringify({ id_captador: 11 });\nlet headers = new Headers({ 'Content-Type': 'application/json' });\nlet options = new RequestOptions({ headers: headers });\nthis.http.post(url + \"/GetCaptaciones\", data, options).subscribe(data =&gt; {\n  console.log(data);\n});\n</code></pre>\n\n<p>Not working, </p>\n\n<p>But if I test from POSTMAN this works</p>\n"}, {"tags": ["c#", "wpf", "scrollviewer", "itemscontrol"], "comments": [{"owner": {"reputation": 1885, "user_id": 4136104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/leewg.png?s=128&g=1", "display_name": "earloc", "link": "https://stackoverflow.com/users/4136104/earloc"}, "edited": false, "score": 0, "creation_date": 1493234661, "post_id": 43642454, "comment_id": 74334059, "body": "first, you are using a grid with no RowDefinition. Is that intended? Did you try StackPanel? RowDefinition? DockPanel? ListView?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6334012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac2c1221cd45007fa684b39a3e5ffde4?s=128&d=identicon&r=PG&f=1", "display_name": "R3dSparks", "link": "https://stackoverflow.com/users/6334012/r3dsparks"}, "edited": false, "score": 0, "creation_date": 1493235756, "post_id": 43642952, "comment_id": 74334689, "body": "Works greak, thank you so much. Never thougt about not using a StackPanel."}], "tags": [], "owner": {"reputation": 391, "user_id": 2329266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/loZ4b.png?s=128&g=1", "display_name": "Bohdan Biehov", "link": "https://stackoverflow.com/users/2329266/bohdan-biehov"}, "is_accepted": true, "score": 0, "last_activity_date": 1493235713, "last_edit_date": 1493235713, "creation_date": 1493234883, "answer_id": 43642952, "question_id": 43642454, "link": "https://stackoverflow.com/questions/43642454/whats-a-dynamic-way-implementing-a-scrollviewer-in-wpf/43642952#43642952", "title": "Whats a dynamic way implementing a ScrollViewer in Wpf", "body": "<p>It is not gonna work with StackPanel. StackPanel grows based on content. Actually it will work with stack panel but you need to define height of ScrollViewer. Use grid with row definitions. </p>\n\n<pre><code>   &lt;Window x:Class=\"WpfApplication3.MainWindow\"\n            xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n            xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n            xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n            xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n            xmlns:local=\"clr-namespace:WpfApplication3\"\n            mc:Ignorable=\"d\" Height=\"350\" Width=\"525\"  &gt;\n        &lt;Grid&gt;\n            &lt;Grid.RowDefinitions&gt;\n                &lt;RowDefinition Height=\"Auto\"/&gt;\n                &lt;RowDefinition Height=\"*\"/&gt;\n            &lt;/Grid.RowDefinitions&gt;\n\n            &lt;Menu Grid.Row=\"0\"&gt;\n                &lt;MenuItem Header=\"Items\"&gt;\n                    &lt;MenuItem Header=\"Add\" Click=\"MenuItem_OnClick\" /&gt;\n                &lt;/MenuItem&gt;\n            &lt;/Menu&gt;\n\n            &lt;Grid Grid.Row=\"1\"&gt;\n\n                &lt;Grid.ColumnDefinitions&gt;\n                    &lt;ColumnDefinition Width=\"*\"/&gt;\n                    &lt;ColumnDefinition Width=\"*\"/&gt;\n                &lt;/Grid.ColumnDefinitions&gt;\n                &lt;ScrollViewer VerticalScrollBarVisibility=\"Auto\" Grid.Column=\"0\"&gt;\n                    &lt;ItemsControl  Name=\"ItemViewerItemsControl\"&gt;\n                        &lt;ItemsControl.ItemTemplate&gt;\n                            &lt;DataTemplate&gt;\n                                &lt;StackPanel&gt;\n                                    &lt;TextBlock Text=\"{Binding Name}\" /&gt;\n                                &lt;/StackPanel&gt;\n                            &lt;/DataTemplate&gt;\n                        &lt;/ItemsControl.ItemTemplate&gt;\n                    &lt;/ItemsControl&gt;\n                &lt;/ScrollViewer&gt;\n            &lt;/Grid&gt;\n        &lt;/Grid&gt;\n    &lt;/Window&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6334012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac2c1221cd45007fa684b39a3e5ffde4?s=128&d=identicon&r=PG&f=1", "display_name": "R3dSparks", "link": "https://stackoverflow.com/users/6334012/r3dsparks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "accepted_answer_id": 43642952, "answer_count": 1, "score": 0, "last_activity_date": 1493244108, "creation_date": 1493233164, "last_edit_date": 1493244108, "question_id": 43642454, "link": "https://stackoverflow.com/questions/43642454/whats-a-dynamic-way-implementing-a-scrollviewer-in-wpf", "title": "Whats a dynamic way implementing a ScrollViewer in Wpf", "body": "<p>I am having trouble getting a <code>ScrollViewer</code> to work properly if it's not the only element in the window. I want to scroll through a list of items(a list set as <code>ItemsSource</code>) but also want other elements to be visible in my window. Now i don't know how to set the <code>height</code> relative to the other elements. Is that even a valid approach or am i doing it completly wrong?</p>\n\n<pre><code>&lt;Window x:Class=\"FactorioWpf.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    xmlns:local=\"clr-namespace:FactorioWpf\"\n    mc:Ignorable=\"d\"\n    Title=\"MainWindow\" Height=\"350\" Width=\"525\" \n    Closing=\"Window_Closing\"&gt;\n\n&lt;StackPanel&gt;\n\n    &lt;Menu&gt;\n        &lt;MenuItem Header=\"Items\"&gt;\n            &lt;MenuItem Header=\"Add\" Click=\"ItemsAdd_Click\" /&gt;\n        &lt;/MenuItem&gt;\n    &lt;/Menu&gt;\n\n    &lt;Grid&gt;\n\n        &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition Width=\"*\"/&gt;\n            &lt;ColumnDefinition Width=\"*\"/&gt;\n        &lt;/Grid.ColumnDefinitions&gt;\n\n        &lt;ScrollViewer Grid.Column=\"0\"&gt;\n            &lt;ItemsControl Name=\"ItemViewerItemsControl\"&gt;\n                &lt;ItemsControl.ItemTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;StackPanel&gt;\n                            &lt;TextBlock Text=\"{Binding Name}\" /&gt;\n                        &lt;/StackPanel&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/ItemsControl.ItemTemplate&gt;\n            &lt;/ItemsControl&gt;\n        &lt;/ScrollViewer&gt;\n\n    &lt;/Grid&gt;\n&lt;/StackPanel&gt;\n</code></pre>\n\n<p></p>\n\n<p>I searched for nearly three hours but the only solutions i could find, were to set the scroll viewer as the top element.</p>\n"}, {"tags": ["c#", "reference", "zipfile"], "comments": [{"owner": {"reputation": 955936, "user_id": 29407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e3a181e9cdd4757a8b416d93878770c5?s=128&d=identicon&r=PG", "display_name": "Darin Dimitrov", "link": "https://stackoverflow.com/users/29407/darin-dimitrov"}, "edited": false, "score": 0, "creation_date": 1493233238, "post_id": 43642443, "comment_id": 74333232, "body": "<code>Access to the path C:\\DotNetZip-04wnaxtt.tmp is denied.</code> - is there something unclear about the error message you are getting? It seems like it&#39;s already hinting you about what the problem might be - the process you are executing your code under doesn&#39;t appear to have sufficient privileges to write to this folder."}, {"owner": {"reputation": 1011, "user_id": 5048049, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/ffebbd1bbbac28a0036318dd762f7b17?s=128&d=identicon&r=PG&f=1", "display_name": "peval27", "link": "https://stackoverflow.com/users/5048049/peval27"}, "edited": false, "score": 0, "creation_date": 1493233371, "post_id": 43642443, "comment_id": 74333307, "body": "have you tried to specify a folder that you have access to?"}, {"owner": {"reputation": 131, "user_id": 4687388, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/62819d1691d6b66115d49cee8c1cb92b?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Gatto", "link": "https://stackoverflow.com/users/4687388/bob-gatto"}, "edited": false, "score": 0, "creation_date": 1493234825, "post_id": 43642443, "comment_id": 74334144, "body": "I have and that&#39;s when I get the error. I&#39;m secifying the root drive of the C hard drive, and it creates the tmp file on its own."}], "owner": {"reputation": 131, "user_id": 4687388, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/62819d1691d6b66115d49cee8c1cb92b?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Gatto", "link": "https://stackoverflow.com/users/4687388/bob-gatto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 616, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493233131, "creation_date": 1493233131, "question_id": 43642443, "link": "https://stackoverflow.com/questions/43642443/how-do-i-save-a-zip-file-to-a-specific-location-using-dotnetzip", "title": "How do I save a zip file to a specific location using DotNetZip?", "body": "<p>I'm working on a project that will be zipping directories using the DotNetZip reference. When I use the code:</p>\n\n<pre><code>using(ZipFile zip = new ZipFile())\n{\n  try\n  {\n    zip.AddDirectoryByName(label39.Text);\n    zip.Save(@\"C:\\SecZipped.zip\");\n  }\n  catch(Exception ex)\n  {\n    MessageBox.Show(\"ERROR:\\n\\n\" + ex.Message);\n    return;\n  }\n\n  MessageBox.Show(\"Finished.\");\n}\n</code></pre>\n\n<p>I get the error: Access to the path C:\\DotNetZip-04wnaxtt.tmp is denied.</p>\n\n<p>However, when I change @\"C:\\SecZipped.zip\" in the</p>\n\n<pre><code>zip.Save(@\"C:\\SecZipped.zip\");\n</code></pre>\n\n<p>to \"SecZipped.zip\" I get no error but the file is stored where the DotNetZip reference is located.</p>\n\n<p>So can I specify where the zip file is saved?</p>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["c#", "powershell"], "comments": [{"owner": {"reputation": 103396, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 1, "creation_date": 1493234864, "post_id": 43642423, "comment_id": 74334164, "body": "Looking at <a href=\"https://github.com/PowerShell/PowerShell/blob/7a55bf98b2370ab4817ab2533cb67673053ee446/src/System.Management.Automation/engine/hostifaces/PowerShell.cs\" rel=\"nofollow noreferrer\">the source code</a>, seems like the ErrorActionPreference from the PSInvocationSettings object is only ever taken into account when it&#39;s in &quot;batch mode&quot; whatever that means."}, {"owner": {"reputation": 2781, "user_id": 82834, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Cv90Z.jpg?s=128&g=1", "display_name": "Trondh", "link": "https://stackoverflow.com/users/82834/trondh"}, "reply_to_user": {"reputation": 103396, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 0, "creation_date": 1493237369, "post_id": 43642423, "comment_id": 74335589, "body": "wow thanks! I guess I&#39;ll just insert errorActionPreference with some good old fashioned string join instead. Thanks!"}, {"owner": {"reputation": 103396, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 1, "creation_date": 1493237500, "post_id": 43642423, "comment_id": 74335656, "body": "powershellInstance.AddStatement() after the last statement may trigger batch mode from what I read"}], "answers": [{"comments": [{"owner": {"reputation": 2781, "user_id": 82834, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Cv90Z.jpg?s=128&g=1", "display_name": "Trondh", "link": "https://stackoverflow.com/users/82834/trondh"}, "edited": false, "score": 0, "creation_date": 1493460392, "post_id": 43665766, "comment_id": 74433986, "body": "Thanks! I&#39;m not sure I agree with your conclusion tho. Even for a script containing a single command the difference between throwing a terminating error or simply exiting gracefully is pretty big - not in terms of how the powershell code itself behaves (as it&#39;s finished), but the calling .Net code will have to take extra steps to determine whether the PS script succeeded or not (Such as looking at the &quot;hasErrors&quot; attribute of the result obj."}], "tags": [], "owner": {"reputation": 103396, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "is_accepted": true, "score": 2, "last_activity_date": 1493318899, "creation_date": 1493318899, "answer_id": 43665766, "question_id": 43642423, "link": "https://stackoverflow.com/questions/43642423/powershell-begininvoke-psinvocationsettings-not-working/43665766#43665766", "title": "PowerShell BeginInvoke - PSInvocationSettings not working", "body": "<p>I took a look at the <code>PowerShell</code> class <a href=\"https://github.com/PowerShell/PowerShell/blob/7a55bf98b2370ab4817ab2533cb67673053ee446/src/System.Management.Automation/engine/hostifaces/PowerShell.cs\" rel=\"nofollow noreferrer\">source code on GitHub</a>. </p>\n\n<p>If you search through the source code, you'll find that the <code>ErrorActionPreference</code> property is only being honored when running in \"batch mode\". </p>\n\n<p>From looking at the code and tinkering around with the <code>PowerShell.Commands</code> property, it seems to me that this simply means that multiple statements have been added to the instance. This kinda makes sense - if there's only one statement to execute then there's no point to trying to figure out whether to continue or not.</p>\n\n<p>You should therefore be able to trigger inspection of the <code>ErrorActionPreference</code> property by simply adding an empty statement before executing:</p>\n\n<pre><code>powerShellInstance.AddStatement();\nIAsyncResult async = powerShellInstance.BeginInvoke&lt;PSObject, PSObject&gt;(null, output, powershellSettings, null, null);\n</code></pre>\n"}], "owner": {"reputation": 2781, "user_id": 82834, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Cv90Z.jpg?s=128&g=1", "display_name": "Trondh", "link": "https://stackoverflow.com/users/82834/trondh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 954, "favorite_count": 0, "accepted_answer_id": 43665766, "answer_count": 1, "score": 2, "last_activity_date": 1493318899, "creation_date": 1493233056, "question_id": 43642423, "link": "https://stackoverflow.com/questions/43642423/powershell-begininvoke-psinvocationsettings-not-working", "title": "PowerShell BeginInvoke - PSInvocationSettings not working", "body": "<p>I have the following c# code for calling powershell using BeginInvoke. I have the following requirements:\n- Eventhandlers for \"live\" streaming of the output, verbose and error streams\n- I need to be able to inject an <code>ErrorActionPreference</code> when executing the script</p>\n\n<p>My code looks as follows (<code>powershellScriptSettings.StopOnErrors</code> is always bool <code>true</code>):</p>\n\n<pre><code>powershellSettings.ErrorActionPreference = powershellScriptSettings.StopOnErrors ? ActionPreference.Stop : ActionPreference.Continue;\n\nIAsyncResult async = powerShellInstance.BeginInvoke&lt;PSObject, PSObject&gt;(null, output, powershellSettings, null, null);\n\n//wait for it to complete\ntry\n{\n    powerShellInstance.EndInvoke(async);\n}\n</code></pre>\n\n<p>Looking at the output stream, I can see that this code executes both write-error commands and that the value of $ErrorActionPreference is at its default (<code>Continue</code>):</p>\n\n<pre><code>$ErrorActionPreference\nWrite-error 'err1'\nWrite-Error 'err2'\n</code></pre>\n\n<p>So it's fairly obvious that my <code>powershellSettings</code> are not having an effect. I know I can just add the string <code>$ErrorActionPreference=Stop</code> to the beginning of my input script, but I kinda want to do it the \"C#\" way and use the available functionality in the Powershell api.</p>\n\n<p>I'm wondering if my code is faulty due to the fact that I haven't implemented BeginInvoke's callback function - I can't see that I need it as EndInvoke waits for the script to complete anyways. </p>\n\n<p>Any pointers appreciated!</p>\n"}, {"tags": ["c#", "asp.net", "detailsview"], "comments": [{"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1493239616, "post_id": 43642376, "comment_id": 74336775, "body": "What is the reason you don&#39;t want to use RequiredFieldsValidator?"}, {"owner": {"reputation": 21, "user_id": 7871341, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/40e9c4bed3a035f70d0561c1d4d4048e?s=128&d=identicon&r=PG&f=1", "display_name": "Abd mohd", "link": "https://stackoverflow.com/users/7871341/abd-mohd"}, "reply_to_user": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1493240217, "post_id": 43642376, "comment_id": 74337103, "body": "becaue it is required from me to not use it."}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1493240609, "post_id": 43642376, "comment_id": 74337335, "body": "Why go to the server to inject javascript? Add javascript to the page so you can validate the fields client side, before going to the server."}, {"owner": {"reputation": 21, "user_id": 7871341, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/40e9c4bed3a035f70d0561c1d4d4048e?s=128&d=identicon&r=PG&f=1", "display_name": "Abd mohd", "link": "https://stackoverflow.com/users/7871341/abd-mohd"}, "reply_to_user": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1493242551, "post_id": 43642376, "comment_id": 74338264, "body": "how to do it ,, I am a beginner."}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1493244496, "post_id": 43642376, "comment_id": 74339064, "body": "Validating ASP.NET Server Controls:  <a href=\"https://msdn.microsoft.com/en-us/library/aa479013.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/aa479013.aspx</a>"}], "owner": {"reputation": 21, "user_id": 7871341, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/40e9c4bed3a035f70d0561c1d4d4048e?s=128&d=identicon&r=PG&f=1", "display_name": "Abd mohd", "link": "https://stackoverflow.com/users/7871341/abd-mohd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1493233168, "creation_date": 1493232911, "last_edit_date": 1493233168, "question_id": 43642376, "link": "https://stackoverflow.com/questions/43642376/prevent-inserting-null-in-detailsview-asp-net-c", "title": "Prevent inserting null in detailsview ASP.NET C#", "body": "<p>I have a DetailsView with insert Button and I want to prevent inserting null value but I don't want to use RequiredFieldsValidator.</p>\n\n<p>I have the below code but I don't know where I should put it, as I want to display error message if there is any empty textbox before saving to database</p>\n\n<pre><code>TextBox txt1 = (TextBox)DetailsView2.FindControl(\"TextBox1\") as TextBox;\n\n if (txt1.Text == \"\")\n {\n    string message = \"Please Fill All the Fields\";\n    System.Text.StringBuilder sb = new System.Text.StringBuilder();\n    sb.Append(\"&lt;script type = 'text/javascript'&gt;\");\n    sb.Append(\"window.onload=function(){\");\n    sb.Append(\"alert('\");\n    sb.Append(message);\n    sb.Append(\"')};\");\n    sb.Append(\"&lt;/script&gt;\");\n    ClientScript.RegisterClientScriptBlock(this.GetType(), \"alert\", sb.ToString());\n }\n</code></pre>\n\n<h3>DetailsView code</h3>\n\n<pre><code>&lt;asp:DetailsView ID=\"DetailsView2\" runat=\"server\" AutoGenerateRows=\"False\" \n        CellPadding=\"4\" DataKeyNames=\"Username\" DataSourceID=\"SqlDataSource1\" \n        ForeColor=\"#333333\" GridLines=\"None\" Height=\"50px\" \n        Width=\"231px\" style=\"margin-top: 0px; text-align: left;\" \n        onitemupdated=\"DetailsView2_ItemUpdated\" DefaultMode=\"Insert\" \n        onitemdeleted=\"DetailsView2_ItemDeleted\" \n        oniteminserted=\"DetailsView2_ItemInserted\" \n        ondatabinding=\"DetailsView2_DataBinding\"&gt;\n        &lt;AlternatingRowStyle BackColor=\"White\" ForeColor=\"#284775\" /&gt;\n        &lt;CommandRowStyle BackColor=\"#E2DED6\" Font-Bold=\"True\" /&gt;\n        &lt;EditRowStyle BackColor=\"#999999\" /&gt;\n        &lt;FieldHeaderStyle BackColor=\"#E9ECF1\" Font-Bold=\"True\" /&gt;\n        &lt;Fields&gt;\n            &lt;asp:TemplateField HeaderText=\"Username\" SortExpression=\"Username\"&gt;\n                &lt;EditItemTemplate&gt;\n                    &lt;asp:Label ID=\"Label1\" runat=\"server\" Text='&lt;%# Eval(\"Username\") %&gt;'&gt;&lt;/asp:Label&gt;\n                &lt;/EditItemTemplate&gt;\n                &lt;InsertItemTemplate&gt;\n                    &lt;asp:TextBox ID=\"TextBox1\" runat=\"server\" Text='&lt;%# Bind(\"Username\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                &lt;/InsertItemTemplate&gt;\n                &lt;ItemTemplate&gt;\n                    &lt;asp:Label ID=\"Label2\" runat=\"server\" Text='&lt;%# Bind(\"Username\") %&gt;'&gt;&lt;/asp:Label&gt;\n                &lt;/ItemTemplate&gt;\n            &lt;/asp:TemplateField&gt;\n            &lt;asp:TemplateField HeaderText=\"Password\" SortExpression=\"Password\"&gt;\n                &lt;EditItemTemplate&gt;\n                    &lt;asp:TextBox ID=\"TextBox2\" runat=\"server\" Text='&lt;%# Bind(\"Password\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                &lt;/EditItemTemplate&gt;\n                &lt;InsertItemTemplate&gt;\n                    &lt;asp:TextBox ID=\"TextBox2\" runat=\"server\" Text='&lt;%# Bind(\"Password\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                &lt;/InsertItemTemplate&gt;\n                &lt;ItemTemplate&gt;\n                    &lt;asp:Label ID=\"Label3\" runat=\"server\" Text='&lt;%# Bind(\"Password\") %&gt;'&gt;&lt;/asp:Label&gt;\n                &lt;/ItemTemplate&gt;\n            &lt;/asp:TemplateField&gt;\n            &lt;asp:TemplateField HeaderText=\"UserType\" SortExpression=\"UserType\"&gt;\n                &lt;EditItemTemplate&gt;\n                    &lt;asp:TextBox ID=\"TextBox1\" runat=\"server\" Text='&lt;%# Bind(\"UserType\") %&gt;'&gt;&lt;/asp:TextBox&gt;\n                &lt;/EditItemTemplate&gt;\n                &lt;InsertItemTemplate&gt;\n                    &lt;asp:DropDownList ID=\"DropDownList1\" runat=\"server\" SelectedValue='&lt;%# Bind(\"UserType\") %&gt;'&gt;\n                    &lt;asp:ListItem&gt;--Select--&lt;/asp:ListItem&gt;\n                    &lt;asp:ListItem&gt;employee&lt;/asp:ListItem&gt;\n                    &lt;asp:ListItem&gt;doctor&lt;/asp:ListItem&gt;\n                    &lt;asp:ListItem&gt;student&lt;/asp:ListItem&gt;\n                    &lt;/asp:DropDownList&gt;\n                &lt;/InsertItemTemplate&gt;\n                &lt;ItemTemplate&gt;\n                    &lt;asp:Label ID=\"Label1\" runat=\"server\" Text='&lt;%# Bind(\"UserType\") %&gt;'&gt;&lt;/asp:Label&gt;\n                &lt;/ItemTemplate&gt;\n            &lt;/asp:TemplateField&gt;\n            &lt;asp:CommandField ButtonType=\"Button\" ShowInsertButton=\"True\" /&gt;\n        &lt;/Fields&gt;\n        &lt;FooterStyle BackColor=\"#5D7B9D\" Font-Bold=\"True\" ForeColor=\"White\" /&gt;\n        &lt;HeaderStyle BackColor=\"#5D7B9D\" Font-Bold=\"True\" ForeColor=\"White\" /&gt;\n        &lt;PagerStyle BackColor=\"#284775\" ForeColor=\"White\" HorizontalAlign=\"Center\" /&gt;\n        &lt;RowStyle BackColor=\"#F7F6F3\" ForeColor=\"#333333\" /&gt;\n    &lt;/asp:DetailsView&gt;\n</code></pre>\n"}, {"tags": ["c#", "html", "asp.net"], "comments": [{"owner": {"reputation": 2366, "user_id": 6327086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RCUf1.gif?s=128&g=1", "display_name": "Max Alexander Hanna", "link": "https://stackoverflow.com/users/6327086/max-alexander-hanna"}, "edited": false, "score": 0, "creation_date": 1493232917, "post_id": 43642338, "comment_id": 74333023, "body": "have you tried \\r\\n ?"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1493232959, "post_id": 43642338, "comment_id": 74333043, "body": "You know many users don&#39;t have an email client installed on their computers these days and just use web based mail? Perhaps this is a corporate environment where you know everyone has Outlook, but for a public application this isn&#39;t a good idea."}, {"owner": {"reputation": 313, "user_id": 5325661, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10153087421279212/picture?type=large", "display_name": "Jeff Cox", "link": "https://stackoverflow.com/users/5325661/jeff-cox"}, "edited": false, "score": 0, "creation_date": 1493233146, "post_id": 43642338, "comment_id": 74333162, "body": "It is for a corporate intranet app and Outlook is a part of standard PC deployment. Those that will be using this on a BYOD device won&#39;t be using email through it."}, {"owner": {"reputation": 5640, "user_id": 79152, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/49315b89a7e2aee9609a758434c26f9d?s=128&d=identicon&r=PG", "display_name": "maxbeaudoin", "link": "https://stackoverflow.com/users/79152/maxbeaudoin"}, "edited": false, "score": 1, "creation_date": 1493233761, "post_id": 43642338, "comment_id": 74333537, "body": "You&#39;re opening a process on the asp.net server.. How is this going work?"}, {"owner": {"reputation": 5640, "user_id": 79152, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/49315b89a7e2aee9609a758434c26f9d?s=128&d=identicon&r=PG", "display_name": "maxbeaudoin", "link": "https://stackoverflow.com/users/79152/maxbeaudoin"}, "edited": false, "score": 0, "creation_date": 1493233805, "post_id": 43642338, "comment_id": 74333572, "body": "Why not format it in HTML in the first place?"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "reply_to_user": {"reputation": 5640, "user_id": 79152, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/49315b89a7e2aee9609a758434c26f9d?s=128&d=identicon&r=PG", "display_name": "maxbeaudoin", "link": "https://stackoverflow.com/users/79152/maxbeaudoin"}, "edited": false, "score": 1, "creation_date": 1493239942, "post_id": 43642338, "comment_id": 74336954, "body": "This code is running on the web server? Process.Start runs on the server machine, as @maxbeaudoin alludes to. This will not work at that point. You would need to have an application running on the client machine to call Process.Start. You <i>could</i> embed your <code>mailto:</code> URI in a webpage however."}, {"owner": {"reputation": 313, "user_id": 5325661, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10153087421279212/picture?type=large", "display_name": "Jeff Cox", "link": "https://stackoverflow.com/users/5325661/jeff-cox"}, "edited": false, "score": 0, "creation_date": 1493240370, "post_id": 43642338, "comment_id": 74337197, "body": "Hrmmmm. I&#39;ve been doing all this on the IIS Express in Visual Studio... I just tried publishing to the IIS test server and I&#39;m getting an exception error.  I may just have to bite the bullet and make a form for To: and CC: and just code the sending using System.Net.Mail"}], "answers": [{"comments": [{"owner": {"reputation": 2978, "user_id": 760139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VrAo0.jpg?s=128&g=1", "display_name": "Tony Dong", "link": "https://stackoverflow.com/users/760139/tony-dong"}, "edited": false, "score": 0, "creation_date": 1493238097, "post_id": 43642459, "comment_id": 74335970, "body": ".Replace(&quot;\\r\\n&quot;, &quot;&lt;br /&gt;&quot;) will works for HTML format email body."}, {"owner": {"reputation": 313, "user_id": 5325661, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10153087421279212/picture?type=large", "display_name": "Jeff Cox", "link": "https://stackoverflow.com/users/5325661/jeff-cox"}, "edited": false, "score": 0, "creation_date": 1493239487, "post_id": 43642459, "comment_id": 74336709, "body": "That gets me the following output, again still on one line.  <code>...created or modified. &lt;br &#47;&gt;http:&#47;&#47;localhost:49768&#47;BookingForm&#47;538</code>"}, {"owner": {"reputation": 23000, "user_id": 1415614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/F6BHs.jpg?s=128&g=1", "display_name": "RonC", "link": "https://stackoverflow.com/users/1415614/ronc"}, "edited": false, "score": 0, "creation_date": 1493239776, "post_id": 43642459, "comment_id": 74336866, "body": "The &lt;br /&gt;  will force a new line when viewed in an html email."}], "tags": [], "owner": {"reputation": 23000, "user_id": 1415614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/F6BHs.jpg?s=128&g=1", "display_name": "RonC", "link": "https://stackoverflow.com/users/1415614/ronc"}, "is_accepted": false, "score": 2, "last_activity_date": 1493239793, "last_edit_date": 1493239793, "creation_date": 1493233172, "answer_id": 43642459, "question_id": 43642338, "link": "https://stackoverflow.com/questions/43642338/adding-newline-in-string-for-html-email-body/43642459#43642459", "title": "Adding Newline in string for HTML email body", "body": "<p>You might want to try <code>.Replace(\"\\r\\n\", \"&lt;br /&gt;\")</code> on the body <em>after</em> you have done your encoding of the body.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4357408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RbI2RsBRWGg/AAAAAAAAAAI/AAAAAAAAABw/wbUuJ_2oNdQ/photo.jpg?sz=128", "display_name": "Thaddeus Winker", "link": "https://stackoverflow.com/users/4357408/thaddeus-winker"}, "is_accepted": false, "score": 0, "last_activity_date": 1493233692, "creation_date": 1493233692, "answer_id": 43642611, "question_id": 43642338, "link": "https://stackoverflow.com/questions/43642338/adding-newline-in-string-for-html-email-body/43642611#43642611", "title": "Adding Newline in string for HTML email body", "body": "<p>You should probably use <a href=\"https://msdn.microsoft.com/en-us/library/system.text.stringbuilder(v=vs.110).aspx\" rel=\"nofollow noreferrer\">StringBuilder</a> here instead of String.</p>\n\n<p>You can then do the following:</p>\n\n<pre><code>StringBuilder builder = new StringBuilder();\nbuilder.AppendLine(string.Format(\"A Booking Form for Project #{0} - {1}\",lblProjectID.Text, lblProjectName.Text));\nbuilder.AppendLine(string.Format(\" - Release {0}  has been created or modified.\", strReleaseName));\nbuilder.AppendLine();\nbuilder.AppendLine(Request.Url.ToString());\nString strBody = builder.ToString();\n</code></pre>\n\n<p>You can also include (char)10 and (char)13 in your string creation. e.g.:</p>\n\n<pre><code>string.Format(\"First Line{0}{1}Second Line\", (char)10, (char)13);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4715194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a42354ef9e86388dbdbe50fec813e92?s=128&d=identicon&r=PG&f=1", "display_name": "amigatra", "link": "https://stackoverflow.com/users/4715194/amigatra"}, "is_accepted": false, "score": 0, "last_activity_date": 1609226710, "creation_date": 1609226710, "answer_id": 65488713, "question_id": 43642338, "link": "https://stackoverflow.com/questions/43642338/adding-newline-in-string-for-html-email-body/65488713#65488713", "title": "Adding Newline in string for HTML email body", "body": "<p>Model.Message = &quot;my message \\n second message&quot;;</p>\n<p>then add this style to string tag style=&quot;white-space: pre-line;&quot;\nexample <code>&lt;h3 style=&quot;white-space: pre-line;&quot;&gt;@Model.Message&lt;/h3&gt;</code></p>\n"}], "owner": {"reputation": 313, "user_id": 5325661, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10153087421279212/picture?type=large", "display_name": "Jeff Cox", "link": "https://stackoverflow.com/users/5325661/jeff-cox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2550, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1609226710, "creation_date": 1493232769, "last_edit_date": 1493237742, "question_id": 43642338, "link": "https://stackoverflow.com/questions/43642338/adding-newline-in-string-for-html-email-body", "title": "Adding Newline in string for HTML email body", "body": "<p>I'm trying to generate an email with some basic formatting based on labels in a FormView. I'm going the route of <code>Process.Start(\"mailto:...</code> instead of System.Net.Mail so the email opens up in the default email client to give the user a chance to edit To: CC: etc without making a new form just to handle that. I've got the following code-behind to handle an \"Email Form\" button for emailing the URL of the webform.</p>\n\n<pre><code>protected void fvBF_ItemCommand(object sender, FormViewCommandEventArgs e)\n{\n    if (e.CommandName == \"Email\")\n    {\n        Label lblBFID = (Label)fvBookingForm.FindControl(\"lblBFID\");\n        Label lblProjectID = (Label)fvBookingForm.FindControl(\"lblProjectNum\");\n        Label lblProjectName = (Label)fvBookingForm.FindControl(\"lblProjectName\");\n        Label lblReleaseName = (Label)fvBookingForm.FindControl(\"lblReleaseName\");\n        Label lblPMName = (Label)fvBookingForm.FindControl(\"lblPM\");\n\n        String strReleaseName = String.IsNullOrEmpty(lblReleaseName.Text) ? \"[Description]\" : lblReleaseName.Text;\n\n        String pmFirst = lblPMName.Text.ToString().Split()[0];\n        String pmLast = lblPMName.Text.ToString().Split()[1];\n\n        String strSubject = \"BF \" + lblBFID.Text + \" - \" + lblProjectName.Text  + \" - Release \" + strReleaseName;\n        String strBody = \"A Booking Form for Project #\"+ lblProjectID.Text + \" - \" + lblProjectName.Text + \n            \" - Release \" + strReleaseName + \" has been created or modified. \\n\\n\" + Request.Url.ToString();\n\n        Process.Start(\"mailto:\" + pmFirst + \".\" + pmLast + \"@company.com?subject=\" +\n            HttpUtility.HtmlAttributeEncode(strSubject) + \"&amp;body=\" +\n            HttpUtility.HtmlAttributeEncode(strBody).Replace(\"\\n\", Environment.NewLine));\n    }\n}\n</code></pre>\n\n<p>However, when the email is generated, there are no line breaks in the body between the \"A Booking Form....\" sentence and the URL. I've tried putting Environment.NewLine directly in the string.</p>\n\n<p><code>...created or modified. \" + Environment.Newline + Environment.NewLine + Request.Url.ToString();</code></p>\n\n<p>Which basically gives me the same results. I've tried replacing the \\n with <code>&lt;br /&gt;</code> which doesn't add the line break and for some reason, doesn't display the URL either. I can only guess that the problem has to do with the HtmlAttributeEncode() and getting it to parse the NewLine properly. Is there something I'm missing here?</p>\n"}, {"tags": ["c#", "sql", "linq", "join", "group-by"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1493233149, "post_id": 43642326, "comment_id": 74333169, "body": "Which table does <code>pId</code> belong too?"}, {"owner": {"reputation": 2760, "user_id": 2639188, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c1a58be9b3e79cc22a37cad79a992438?s=128&d=identicon&r=PG", "display_name": "DoIt", "link": "https://stackoverflow.com/users/2639188/doit"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1493233221, "post_id": 43642326, "comment_id": 74333219, "body": "@juharr It belongs to FillStat"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1493233262, "post_id": 43642326, "comment_id": 74333246, "body": "<code>var results = from c in db.FillStat from a in c.Activities where c.pId = 300 group c.sId by a.Activity into grp select new { Activity = grp.Key, Count = grp.Count()}</code>"}, {"owner": {"reputation": 3321, "user_id": 2323964, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e348b1e9034b66bcd141fe0e65eacb83?s=128&d=identicon&r=PG&f=1", "display_name": "Novaterata", "link": "https://stackoverflow.com/users/2323964/novaterata"}, "edited": false, "score": 1, "creation_date": 1493233723, "post_id": 43642326, "comment_id": 74333517, "body": "biggest difference is select is the last thing in Linq instead of the first, which makes much more sense to me. I suggest looking up general concepts of list comprehensions and map / reduce especially if you want to apply what you&#39;ve learned to other languages."}], "answers": [{"tags": [], "owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "is_accepted": true, "score": 2, "last_activity_date": 1506696073, "last_edit_date": 1506696073, "creation_date": 1493233282, "answer_id": 43642495, "question_id": 43642326, "link": "https://stackoverflow.com/questions/43642326/equivalent-c-linq-code-for-sql/43642495#43642495", "title": "Equivalent C# LINQ code for SQL", "body": "<p>Using query syntax it will look like this:</p>\n\n<pre><code>var result = from c in db.FillStat\n             join a in db.Activity on c.ActivityID equals a.Id\n             where c.pId = 300\n             group 1 by a.Activity into g\n             select new {\n                 Activity = g.Key,\n                 Count = g.Count()\n             };\n</code></pre>\n"}], "owner": {"reputation": 2760, "user_id": 2639188, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c1a58be9b3e79cc22a37cad79a992438?s=128&d=identicon&r=PG", "display_name": "DoIt", "link": "https://stackoverflow.com/users/2639188/doit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 43642495, "answer_count": 1, "score": 0, "last_activity_date": 1506696073, "creation_date": 1493232741, "last_edit_date": 1493233261, "question_id": 43642326, "link": "https://stackoverflow.com/questions/43642326/equivalent-c-linq-code-for-sql", "title": "Equivalent C# LINQ code for SQL", "body": "<p>c.I am new to LINQ and have the below SQL code which I would like an equivalent C# LINQ </p>\n\n<pre><code>SELECT\n    COUNT(c.sId)\n    ,a.Activity\nFROM FillStat c\nINNER JOIN Activity a\n    ON a.Id = c.ActivityID\nWHERE c.pId= 300\nGROUP BY a.Activity\n</code></pre>\n"}, {"tags": ["c#", "winforms", "naudio"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 2, "creation_date": 1493232803, "post_id": 43642292, "comment_id": 74332955, "body": "That code doesn&#39;t even look like it would compile."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 1, "creation_date": 1493235149, "post_id": 43642292, "comment_id": 74334323, "body": "Is <code>dso.Play();</code> a non blocking call? it could be that <code>ms</code> gets disposed before the sound is played, the Sleep keeps it from going out of scope. Maybe check for a blocking version of play and use that instead of Sleep?"}], "answers": [{"tags": [], "owner": {"reputation": 45124, "user_id": 7532, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/db4b131b1b1519a5a22f84b1e8737f9b?s=128&d=identicon&r=PG", "display_name": "Mark Heath", "link": "https://stackoverflow.com/users/7532/mark-heath"}, "is_accepted": true, "score": 1, "last_activity_date": 1493302158, "creation_date": 1493302158, "answer_id": 43660258, "question_id": 43642292, "link": "https://stackoverflow.com/questions/43642292/need-for-thread-sleep-when-playing-a-sound-array-using-directsoundout/43660258#43660258", "title": "Need for thread.sleep() when playing a sound array using DirectSoundOut", "body": "<p>The call to <code>Play</code> is not blocking. It simply starts playback. So you must keep <code>dso</code> alive until playback ends or you have stopped it manually.</p>\n\n<p>You can use code like this if you want to block yourself (obviously only use this if your audio isn't infinitely long)</p>\n\n<pre><code>dso.Play();\nwhile (dso.PlaybackState == PlaybackState.Playing)\n{\n    Thread.Sleep(500);\n}\ndso.Dispose();\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7416797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49571b5e3d0a070eb2c0327ce9961ea8?s=128&d=identicon&r=PG&f=1", "display_name": "A D", "link": "https://stackoverflow.com/users/7416797/a-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 43660258, "answer_count": 1, "score": -1, "last_activity_date": 1493302158, "creation_date": 1493232601, "last_edit_date": 1493236335, "question_id": 43642292, "link": "https://stackoverflow.com/questions/43642292/need-for-thread-sleep-when-playing-a-sound-array-using-directsoundout", "title": "Need for thread.sleep() when playing a sound array using DirectSoundOut", "body": "<pre><code>dso = new DirectSoundOut(Guid.Parse(AudioOutDevice));\nvar ms = new MemoryStream(soundArray.ToArray()))\n{\n    IWaveProvider provider = new RawSourceWaveStream(ms, new WaveFormat());\n    dso.Init(provider);\n    dso.Play();\n    Thread.Sleep(3000);\n}\n</code></pre>\n\n<p>I am able to play sound array through desired output device using the above code, and i am unable to hear the sound if there is thread.sleep. But I am unable to understand the reason for using thread.sleep. Can any one let me know the reason for thread.sleep()</p>\n"}, {"tags": ["c#", "asp.net", "gridview", "checkbox"], "owner": {"reputation": 345, "user_id": 5976543, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/tO0fM.jpg?s=128&g=1", "display_name": "Ken Carter", "link": "https://stackoverflow.com/users/5976543/ken-carter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1493232521, "creation_date": 1493232521, "question_id": 43642269, "link": "https://stackoverflow.com/questions/43642269/aspgridview-unbound-template-field-checkbox-clearing", "title": "asp:GridView unbound template field checkbox clearing", "body": "<p>A strange thing is going on here.  I had gotten the functionally of my page working the way I wanted it to but had some layout issues that were not what I really wanted. So in trying to fix these issues I found it easier to build a new master page rather than use the default Site.master page.  Something, which I had gotten fairly close to finding what was forcing one of my textboxes way more narrow than I wanted it. By building the new master page I alleviated that issue. BUT I introduced a behavioral issue in my code at the same time.</p>\n\n<p>Once I had the page looking the way I wanted it, I found that I had a problem with the asp:GridView on the page. I had created a column in the GridView which was based on an unbound Checkbox feature sitting in a template field.</p>\n\n<pre><code>&lt;asp:TemplateField HeaderText=\"Tag\" ItemStyle-HorizontalAlign=\"Center\"&gt;\n&lt;ItemTemplate&gt;\n    &lt;asp:CheckBox runat=\"server\" ID=\"TagRowChkBx\" /&gt;\n&lt;/ItemTemplate&gt;\n&lt;/asp:TemplateField&gt;\n</code></pre>\n\n<p>Prior to doing the new custom master page to fix the layout issue, these checkboxes would maintain their checks until they were manually unchecked.  After introducing the new master page the 'checks' go away after a selection is used.  These checkboxes I read to determine what rows I want to affect a change on in bulk. </p>\n\n<p>I would like to get the functionally back to remaining checked until the user chooses to uncheck them.</p>\n\n<p>Here is the code that causes them to be unchecked in bulk (unintended consequence of the master page change):</p>\n\n<pre><code>protected void EditSelctedBtn_Click(object sender, EventArgs e)\n{\n    //Read the column select drop down List into Local Varriables \n    String SelectedColumnItem = ColumnSelectDDL.SelectedItem.ToString();\n    String SelectedColumnValue = ColumnSelectDDL.SelectedValue.ToString();\n\n    // Caputre the checked rows to List\n    List&lt;int&gt; EditRows = new List&lt;int&gt;();\n    List&lt;string&gt; recordnumber = new List&lt;string&gt;();\n    foreach (GridViewRow grv in ActVulListGV.Rows)\n    {\n        if (((CheckBox)grv.FindControl(\"TagRowChkBx\")).Checked == true)\n        {\n            //get current row rowindex if  checkbox  in it is checked \n            EditRows.Add(grv.RowIndex);\n            //get the record number (RecID)\n            recordnumber.Add(grv.Cells[2].Text.ToString());\n        }\n    }\n\n// Place the List in an array \nint[] ERows = EditRows.ToArray();\n\n// Check the DDL values to make sure that the user has made a selection Warn if not.    \n     if (ColumnSelectDDL.SelectedValue == \"Choose Column To Edit\")\n    {\n        UserMessageLbl.ForeColor = System.Drawing.Color.Red;\n        UserMessageLbl.Font.Bold = true;\n\n        UserMessageLbl.Text = \" *** You must choose a column to edit! ***\";\n    mpePopUp.Show();\n    }\nelse\n    {\n// If Ticket # was selected enable Ticket # Panel\nif (ColumnSelectDDL.SelectedValue.ToString() == \"TicketNumber\")\n    {\n        EditTicketNumPnl.Visible = true;\n        EditTicketClosedPnl.Visible = false;\n        EditNotesPnl.Visible = false;\n        EditExceptionIDPnl.Visible = false;\n        TicketNumFocusTbx.Text = \"No Reference Data\";\n    }\n    // If Ticket Closed was selected enable Ticket Closed Panel\n    else if (ColumnSelectDDL.SelectedValue.ToString() == \"TicketClosed\")\n    {\n        EditTicketNumPnl.Visible = false;\n        EditTicketClosedPnl.Visible = true;\n        EditNotesPnl.Visible = false;\n        EditExceptionIDPnl.Visible = false;\n        TicketCldFocusTbx.Text = \"\";\n    }\n    // If Notes was selected enable Notes Panel\n    else if (ColumnSelectDDL.SelectedValue.ToString() == \"Notes\")\n    {\n        EditTicketNumPnl.Visible = false;\n        EditTicketClosedPnl.Visible = false;\n        EditNotesPnl.Visible = true;\n        EditExceptionIDPnl.Visible = false;\n        NotesFocusTbx.Text = \"No Reference Data\";\n    }\n    // If Exception ID was selected enable Exception ID Panel\n    else if(ColumnSelectDDL.SelectedValue.ToString() == \"Exception_ID\")\n    {\n        EditTicketNumPnl.Visible = false;\n        EditTicketClosedPnl.Visible = false;\n        EditNotesPnl.Visible = false;\n        EditExceptionIDPnl.Visible = true;\n        ExceptionIDFocusTbx.Text = \"No Reference Data\";\n    }\n    // format the popup and it's buttons\n    EditColMsgLbl.Font.Bold = true;\n    SelectedRowsMsgLbl.Font.Bold = true;\n\n    ColEditPnlExt.Show();\n    EditColLbl.Text = SelectedColumnItem;\n\n    SelectedRowsLbl.Text = \"\";\n    String divider = \"\";\n    int ticks = 0;\n\n    foreach (string record in recordnumber)\n    {\n        if (ticks &gt; 0)\n            {\n                divider = \", \";\n                ++ticks;\n            }\n        else\n            {\n                ++ticks;\n            }\n            SelectedRowsLbl.Text += divider.ToString() + record;\n        }\n\n    }\n}\n</code></pre>\n\n<p>Thoughts?</p>\n"}, {"tags": ["c#", "visual-studio", "windows-services", "visual-studio-debugging", "pdb-files"], "comments": [{"owner": {"reputation": 5606, "user_id": 6601554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d8e70907365c8fce9135ffe1e5868f?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Zhai-MSFT", "link": "https://stackoverflow.com/users/6601554/jack-zhai-msft"}, "edited": false, "score": 0, "creation_date": 1493272108, "post_id": 43642240, "comment_id": 74346951, "body": "Could you find the dll files or pdb file in your local machine? Please enable the Symbols Server under TOOLS-&gt;Options-&gt;Debugging-&gt;Symbols. In addition, whether these assemblies are installed from the Nuget package manage? If so, please make sure that whether you install the correct/matched version."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5327215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkNJA.jpg?s=128&g=1", "display_name": "mel", "link": "https://stackoverflow.com/users/5327215/mel"}, "edited": false, "score": 0, "creation_date": 1493235184, "post_id": 43642334, "comment_id": 74334338, "body": "where do I enter this command? I tried entering it in Visual studio command prompt in the debug folder of the solution with no luck"}, {"owner": {"reputation": 5606, "user_id": 6601554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d8e70907365c8fce9135ffe1e5868f?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Zhai-MSFT", "link": "https://stackoverflow.com/users/6601554/jack-zhai-msft"}, "reply_to_user": {"reputation": 25, "user_id": 5327215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkNJA.jpg?s=128&g=1", "display_name": "mel", "link": "https://stackoverflow.com/users/5327215/mel"}, "edited": false, "score": 0, "creation_date": 1493271646, "post_id": 43642334, "comment_id": 74346759, "body": "@mel, do you mean that you want to run the reg command line in the CMD?"}, {"owner": {"reputation": 1457, "user_id": 5132456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3b3bb3a7e7ee0a331e74bd428a434401?s=128&d=identicon&r=PG&f=1", "display_name": "wotanii", "link": "https://stackoverflow.com/users/5132456/wotanii"}, "edited": false, "score": 0, "creation_date": 1493284926, "post_id": 43642334, "comment_id": 74354717, "body": "yes, it has to be entered in CMD-shell. You could also use regedit.exe and search the key manually."}], "tags": [], "owner": {"reputation": 1457, "user_id": 5132456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3b3bb3a7e7ee0a331e74bd428a434401?s=128&d=identicon&r=PG&f=1", "display_name": "wotanii", "link": "https://stackoverflow.com/users/5132456/wotanii"}, "is_accepted": false, "score": 1, "last_activity_date": 1493284965, "last_edit_date": 1495540470, "creation_date": 1493232766, "answer_id": 43642334, "question_id": 43642240, "link": "https://stackoverflow.com/questions/43642240/c-visual-studio-service-debugging-the-breakpoint-will-not-currently-be-hit-no/43642334#43642334", "title": "C# Visual Studio Service Debugging &quot;The breakpoint will not currently be hit. No Symbols have been loaded for this document&quot;", "body": "<p>You can not attach the debugger, because you are lacking the right to do so. You can get this right only be flipping a certain bit in the registry.</p>\n\n<p><a href=\"https://stackoverflow.com/a/35715427/5132456\">See my earlier Answer:</a></p>\n\n<blockquote>\n  <p>Also start VisualStudio as Administrator and allow, that a process can\n  automatically be debugged by a different user:</p>\n\n<pre><code>reg add \"HKCR\\AppID\\{E62A7A31-6025-408E-87F6-81AEB0DC9347}\" /v AppIDFlags /t REG_DWORD /d 8 /f\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 2931, "user_id": 2505186, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DV6Bx.jpg?s=128&g=1", "display_name": "Tobias Knauss", "link": "https://stackoverflow.com/users/2505186/tobias-knauss"}, "is_accepted": true, "score": 5, "last_activity_date": 1493237499, "creation_date": 1493237499, "answer_id": 43643689, "question_id": 43642240, "link": "https://stackoverflow.com/questions/43642240/c-visual-studio-service-debugging-the-breakpoint-will-not-currently-be-hit-no/43643689#43643689", "title": "C# Visual Studio Service Debugging &quot;The breakpoint will not currently be hit. No Symbols have been loaded for this document&quot;", "body": "<p>I usually get this message when I have changed code in a project A and forgot to compile it.<br>\nThe other project B, which references project A, has the up-to-date source code of A on the screen, but started with an outdated assembly of A. So it cannot enable breakpoints because the code does not match the assembly.  </p>\n\n<p>There's one more thing, which in my opinion is a bug and a pain in the ass, but according to MS is by design (I have asked them):<br>\nSince Visual Studio 2015, the compilation of project B does NOT automatically include modified referenced assemblies, which in this example is assembly A. There is a local copy of A somewhere in B, which is used instead. Same result as above: up-to-date code, but outdated assembly.\n<strong>Instead of compiling, you have to rebuild it!</strong></p>\n\n<p>There's another one more thing:<br>\n<strong>You have to compile for DEBUG mode.</strong> In Release mode, the default project settings do not allow proper debugging, like they did in VS 2008 for example.</p>\n"}, {"tags": [], "owner": {"reputation": 87, "user_id": 6712829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8742f5dfd15e158de32d4e36e1314a7?s=128&d=identicon&r=PG&f=1", "display_name": "Zoltan", "link": "https://stackoverflow.com/users/6712829/zoltan"}, "is_accepted": false, "score": 0, "last_activity_date": 1574938377, "creation_date": 1574938377, "answer_id": 59087171, "question_id": 43642240, "link": "https://stackoverflow.com/questions/43642240/c-visual-studio-service-debugging-the-breakpoint-will-not-currently-be-hit-no/59087171#59087171", "title": "C# Visual Studio Service Debugging &quot;The breakpoint will not currently be hit. No Symbols have been loaded for this document&quot;", "body": "<p>If nothing help from above than make sure your files are open from the relevant project, not from another (old) one.</p>\n\n<p>Example:</p>\n\n<ul>\n<li><p>You working on a project, close the VS, but you left files (tabs) open in VS.</p></li>\n<li><p>Copy your project to a new folder and open solution. The files (tabs) will load from the old directory and if you want to debug then you cannot debug until you close them and reload them from the current folder.</p></li>\n</ul>\n\n<p>I was very close to reinstall my VS because nothing helped for me from another answers, but fortunately I realised this in my project and I can debug now.</p>\n"}], "owner": {"reputation": 25, "user_id": 5327215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkNJA.jpg?s=128&g=1", "display_name": "mel", "link": "https://stackoverflow.com/users/5327215/mel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5844, "favorite_count": 0, "accepted_answer_id": 43643689, "answer_count": 3, "score": 2, "last_activity_date": 1574938377, "creation_date": 1493232404, "question_id": 43642240, "link": "https://stackoverflow.com/questions/43642240/c-visual-studio-service-debugging-the-breakpoint-will-not-currently-be-hit-no", "title": "C# Visual Studio Service Debugging &quot;The breakpoint will not currently be hit. No Symbols have been loaded for this document&quot;", "body": "<p>New to Visual Studio and new to C#. Building a C# windows service called Transactional Messaging in Visual Studio 2017, which is dependent on a project called Outbound Messaging. When I start debugging and try adding breakpoints on the Outbound Messaging files, I get </p>\n\n<blockquote>\n  <p>\"The breakpoint will not currently be hit. No Symbols have been loaded\n  for this document\"</p>\n</blockquote>\n\n<p>From what I can tell, VS is only unable to load the pdb files for: log4net.dll, Castle.Windsor.dll, and Castle.Core.dll. I don't have this issue with adding breakpoints to files in the Transactional Messaging Service. I haven't been able to identify behavior patterns or a permanent fix, so at this point the error seems random. One minute I think I've found a fix, and when I try using that fix on the same error later in the day I have no luck. I am suspicious of a recent power outage that shut my computer down unexpectedly since it looks like pdb files can be cached, but have been told that would be a long shot. </p>\n\n<p>Steps I follow to debug the service:</p>\n\n<ol>\n<li>Stop Transactional Messaging Service via windows services applet</li>\n<li>Uninstall Transactional Messaging Service via VS command line using <code>installutil /u TransactionalMessaging.exe</code> in the Debug folder</li>\n<li>Clean Transactional Messaging Solution in Visual Studio</li>\n<li>Build Transactional Messaging Solution in Visual Studio (at one point a fix was to right click on each aspect of the solution in the solution explorer and build that individually)</li>\n<li>Install the Transactional Messaging Service via VS command line using <code>installutil TransactionalMessaging.exe</code> in the Debug folder</li>\n<li>Start the Transactional Messaging Service via windows service applet</li>\n<li>In VS, Debug > attach to process > Transactional Messaging</li>\n<li>Try adding breakpoints to files in Outbound Messaging service which gets me the above error.</li>\n</ol>\n\n<p>Steps I've tried to solve this error:</p>\n\n<ol>\n<li>Debug > Windows > Modules to manually load each module's symbols (pdb files for log4net.dll, Castle.Windsor.dll, and Castle.Core.dll cannot be found)\n<a href=\"https://i.stack.imgur.com/YVSay.png\" rel=\"nofollow noreferrer\">picture of modules</a></li>\n<li>Completely delete bin and obj folder between steps 2 and 3 above</li>\n<li>Project > Project properties > Build > Advanced > Debugging Information: full (for both Transactional Messaging and Outbound Messaging)</li>\n</ol>\n\n<p>I'm not sure if this is a lack of understanding of VS, C#, or the code base. Any insight is appreciated, I'm past the googling stage and posting a new question as a last resort.</p>\n"}, {"tags": ["c#", "azure", "azure-table-storage", "retrypolicy"], "answers": [{"comments": [{"owner": {"reputation": 3377, "user_id": 2349082, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6008ce4c063170435a93b7971ad14494?s=128&d=identicon&r=PG&f=1", "display_name": "tRuEsatm", "link": "https://stackoverflow.com/users/2349082/truesatm"}, "edited": false, "score": 0, "creation_date": 1493250062, "post_id": 43645948, "comment_id": 74340888, "body": "But where do I need to specify them?"}, {"owner": {"reputation": 5379, "user_id": 2995449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5d86c0a1ca294dcdf8a4156c997c43f?s=128&d=identicon&r=PG&f=1", "display_name": "Zhaoxing Lu", "link": "https://stackoverflow.com/users/2995449/zhaoxing-lu"}, "reply_to_user": {"reputation": 3377, "user_id": 2349082, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6008ce4c063170435a93b7971ad14494?s=128&d=identicon&r=PG&f=1", "display_name": "tRuEsatm", "link": "https://stackoverflow.com/users/2349082/truesatm"}, "edited": false, "score": 1, "creation_date": 1493255672, "post_id": 43645948, "comment_id": 74342274, "body": "new StorageUri(primaryUri, secondryUri)"}], "tags": [], "owner": {"reputation": 5379, "user_id": 2995449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5d86c0a1ca294dcdf8a4156c997c43f?s=128&d=identicon&r=PG&f=1", "display_name": "Zhaoxing Lu", "link": "https://stackoverflow.com/users/2995449/zhaoxing-lu"}, "is_accepted": true, "score": 4, "last_activity_date": 1493247835, "creation_date": 1493247835, "answer_id": 43645948, "question_id": 43642190, "link": "https://stackoverflow.com/questions/43642190/error-in-configuring-azure-storage-account-after-using-retry-policies/43645948#43645948", "title": "Error in Configuring Azure Storage Account after using Retry Policies", "body": "<p>You need to specify both PrimaryUri and SecondaryUri if LocationMode.PrimaryThenSecondary is chosen.</p>\n"}], "owner": {"reputation": 3377, "user_id": 2349082, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6008ce4c063170435a93b7971ad14494?s=128&d=identicon&r=PG&f=1", "display_name": "tRuEsatm", "link": "https://stackoverflow.com/users/2349082/truesatm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 451, "favorite_count": 0, "accepted_answer_id": 43645948, "answer_count": 1, "score": 2, "last_activity_date": 1493247835, "creation_date": 1493232198, "question_id": 43642190, "link": "https://stackoverflow.com/questions/43642190/error-in-configuring-azure-storage-account-after-using-retry-policies", "title": "Error in Configuring Azure Storage Account after using Retry Policies", "body": "<p>This is my code to Configure Azure Storage Account</p>\n\n<pre><code>public CloudTableClient ConfigureStorageAccount()\n{\n        var storageCred = new StorageCredentials(ConfigurationManager.AppSettings[\"SASToken\"]);\n\n        CloudTableClient = new CloudTableClient(\n                        new StorageUri(new Uri(ConfigurationManager.AppSettings[\"StorageAccountUri\"])), storageCred);\n\n\n\n        var backgroundRequestOption = new TableRequestOptions()\n        {\n            // Client has a default exponential retry policy with 4 sec delay and 3 retry attempts\n            // Retry delays will be approximately 3 sec, 7 sec, and 15 sec\n            MaximumExecutionTime = TimeSpan.FromSeconds(30),\n            // PrimaryThenSecondary in case of Read-access geo-redundant storage, else set this to PrimaryOnly\n            LocationMode = LocationMode.PrimaryThenSecondary,\n\n\n        };\n\n        CloudTableClient.DefaultRequestOptions = backgroundRequestOption;\n\n        return CloudTableClient;\n}\n</code></pre>\n\n<p>When I specify <code>backgroundRequestOption</code> I am getting an error <strong>The Uri for the target storage location is not specified. Please consider changing the request's location mode.</strong></p>\n\n<p>When I don't specify <code>backgroundRequestOption</code> I don't get any error. Where do I need to specify this URI?</p>\n"}, {"tags": ["c#", "entity-framework", "asp.net-core-mvc", "visual-studio-2017"], "answers": [{"tags": [], "owner": {"reputation": 306, "user_id": 339214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efbb9d4c6b22b96a44231b899c3f9354?s=128&d=identicon&r=PG", "display_name": "KD2ND", "link": "https://stackoverflow.com/users/339214/kd2nd"}, "is_accepted": false, "score": 1, "last_activity_date": 1493585044, "creation_date": 1493585044, "answer_id": 43711126, "question_id": 43642132, "link": "https://stackoverflow.com/questions/43642132/auto-populate-fields-based-on-a-single-field-on-tab-out-or-keypress/43711126#43711126", "title": "Auto Populate Fields Based on A Single Field On Tab Out or Keypress", "body": "<p>It can be done , although with a litte bit of javascript. Like so :</p>\n\n<p>Model : </p>\n\n<pre><code>public class EmployeesViewModel\n    {\n        public int SelectedOfficeID { get; set; }\n        public int SelectedEquipmentID { get; set; }\n\n        public int UserID { get; set; }\n        public string Name { get; set; }\n        public string Email { get; set; }\n        public string Phone { get; set; }\n\n        public List&lt;Office&gt; OfficeList { get; set; }\n        public List&lt;Equipment&gt;  EquipmentList { get; set; }\n    }\n\n    public class Equipment\n    {\n        public int EquipmentID { get; set; }\n        public string EquipmentName { get; set; }\n    }\n\n    public class Office\n    {\n        public int OfficeID { get; set; }\n        public string OfficeName { get; set; }\n    }\n</code></pre>\n\n<p>Controller :</p>\n\n<pre><code>public class EmployeesController : Controller\n{\n  public ActionResult Employee()\n  {\n    EmployeesViewModel model = new EmployeesViewModel();\n    SetEquipmentData(model);\n    SetOfficeData(model);\n    return View(model);\n  }\n\n\n[HttpPost]\npublic ActionResult Employee(EmployeesViewModel model)\n{\n    SetEquipmentData(model);\n    SetOfficeData(model);\n\n    // remove properties from modelstate in order to get modified values in view\n    ModelState.Remove(\"Name\");\n    ModelState.Remove(\"Phone\");\n    ModelState.Remove(\"Email\");\n\n    //SHOULD GET EMPLOYEE DATA FROM DB BASED ON UserID PROPERTY\n\n    // dummy data: \n    model.Name = \"John Doe\";\n    model.Phone = \"973-548-85965\";\n    model.Email = \"John@Company.com\";\n    return View(model);\n}\n\n\nprivate void SetEquipmentData(EmployeesViewModel model)\n{\n    // dummy data: \n    model.EquipmentList = new List&lt;Equipment&gt;();\n    model.EquipmentList.Add(new Equipment(){EquipmentID = 1, EquipmentName=\"Hammer\"});\n    model.EquipmentList.Add(new Equipment() { EquipmentID = 2, EquipmentName = \"Screwdriver\" });\n    model.EquipmentList.Add(new Equipment() { EquipmentID = 3, EquipmentName = \"Vise\" });\n    model.EquipmentList.Add(new Equipment() { EquipmentID = 4, EquipmentName = \"Plier\" });\n    model.EquipmentList.Add(new Equipment() { EquipmentID = 5, EquipmentName = \"Saw\" });\n}\n\nprivate void SetOfficeData(EmployeesViewModel model)\n{\n    // dummy data: \n    model.OfficeList = new List&lt;Office&gt;();\n    model.OfficeList.Add(new Office() { OfficeID = 10, OfficeName = \"Charleston\" });\n    model.OfficeList.Add(new Office() { OfficeID = 20, OfficeName = \"Springfield\" });\n    model.OfficeList.Add(new Office() { OfficeID = 30, OfficeName = \"Montclair\" });\n    model.OfficeList.Add(new Office() { OfficeID = 40, OfficeName = \"Louisville\" });\n    model.OfficeList.Add(new Office() { OfficeID = 50, OfficeName = \"Albany\" });\n}\n\n}\n</code></pre>\n\n<p>View :</p>\n\n<pre><code>&lt;div class=\"form-horizontal\"&gt;\n        &lt;h4&gt;Employee&lt;/h4&gt;\n        &lt;hr /&gt;\n     @using (Html.BeginForm(\"Employee\", \"Employees\", FormMethod.Post, new { id = \"EmployeeForm\", name = \"EmployeeForm\" }))\n     {  \n        @Html.ValidationSummary(true, \"\", new { @class = \"text-danger\" })\n        &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model =&gt; model.SelectedOfficeID, \"Office\", htmlAttributes: new { @class = \"control-label col-md-2\" })\n            &lt;div class=\"col-md-10\"&gt;\n                @Html.DropDownListFor(model =&gt; model.SelectedOfficeID, new SelectList(Model.OfficeList, \"OfficeID\", \"OfficeName\"))\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model =&gt; model.UserID, htmlAttributes: new { @class = \"control-label col-md-2\" })\n            &lt;div class=\"col-md-10\"&gt;\n                @Html.EditorFor(model =&gt; model.UserID, new { htmlAttributes = new { @class = \"form-control\" } })\n                @Html.ValidationMessageFor(model =&gt; model.UserID, \"\", new { @class = \"text-danger\" })\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model =&gt; model.Name, htmlAttributes: new { @class = \"control-label col-md-2\" })\n            &lt;div class=\"col-md-10\"&gt;\n                @Html.EditorFor(model =&gt; model.Name, new { htmlAttributes = new { @class = \"form-control\" } })\n                @Html.ValidationMessageFor(model =&gt; model.Name, \"\", new { @class = \"text-danger\" })\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model =&gt; model.Email, htmlAttributes: new { @class = \"control-label col-md-2\" })\n            &lt;div class=\"col-md-10\"&gt;\n                @Html.EditorFor(model =&gt; model.Email, new { htmlAttributes = new { @class = \"form-control\" } })\n                @Html.ValidationMessageFor(model =&gt; model.Email, \"\", new { @class = \"text-danger\" })\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model =&gt; model.Phone, htmlAttributes: new { @class = \"control-label col-md-2\" })\n            &lt;div class=\"col-md-10\"&gt;\n                @Html.EditorFor(model =&gt; model.Phone, new { htmlAttributes = new { @class = \"form-control\" } })\n                @Html.ValidationMessageFor(model =&gt; model.Phone, \"\", new { @class = \"text-danger\" })\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model =&gt; model.SelectedEquipmentID, \"Equipment\", htmlAttributes: new { @class = \"control-label col-md-2\" })\n            &lt;div class=\"col-md-10\"&gt;\n                 @Html.DropDownListFor(model =&gt; model.SelectedEquipmentID, new SelectList(Model.EquipmentList, \"EquipmentID\", \"EquipmentName\"))\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n     }\n        &lt;/div&gt;\n\n&lt;script type=\"text/javascript\"&gt;  \n    $('#UserID').bind('change', function(e) {\n        document.EmployeeForm.submit();\n    });\n&lt;/script&gt; \n</code></pre>\n"}], "owner": {"reputation": 2445, "user_id": 506205, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a45226708eef2a764d55d3caf3a34d68?s=128&d=identicon&r=PG", "display_name": "Nathan McKaskle", "link": "https://stackoverflow.com/users/506205/nathan-mckaskle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493585044, "creation_date": 1493232032, "question_id": 43642132, "link": "https://stackoverflow.com/questions/43642132/auto-populate-fields-based-on-a-single-field-on-tab-out-or-keypress", "title": "Auto Populate Fields Based on A Single Field On Tab Out or Keypress", "body": "<p>I am using a ASP.NET MVC project created using Entity Framework in Visual Studio 2017. I have a create view for an Employees controller where a user can enter inventory data. I'd like to have the user ID field auto populate data from Active Directory. How do I implement a keypress or tab out or field change event when the username is entered so it triggers a look up and returns and populates specific fields with relevant data?</p>\n\n<p>Here is an idea of what I'm looking at:</p>\n\n<p><a href=\"https://i.stack.imgur.com/v5h2E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v5h2E.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here's some of the CSHTML as is for reference:</p>\n\n<pre><code>&lt;div class=\"form-horizontal\"&gt;\n        &lt;h4&gt;Employee&lt;/h4&gt;\n        &lt;hr /&gt;\n        @Html.ValidationSummary(true, \"\", new { @class = \"text-danger\" })\n        &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model =&gt; model.OfficeId, \"Office\", htmlAttributes: new { @class = \"control-label col-md-2\" })\n            &lt;div class=\"col-md-10\"&gt;\n                @Html.DropDownList(\"OfficeId\", null, htmlAttributes: new { @class = \"form-control\" })\n                @Html.ValidationMessageFor(model =&gt; model.OfficeId, \"\", new { @class = \"text-danger\" })\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model =&gt; model.username, htmlAttributes: new { @class = \"control-label col-md-2\" })\n            &lt;div class=\"col-md-10\"&gt;\n                @Html.EditorFor(model =&gt; model.username, new { htmlAttributes = new { @class = \"form-control\" } })\n                @Html.ValidationMessageFor(model =&gt; model.username, \"\", new { @class = \"text-danger\" })\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model =&gt; model.FullName, htmlAttributes: new { @class = \"control-label col-md-2\" })\n            &lt;div class=\"col-md-10\"&gt;\n                @Html.EditorFor(model =&gt; model.FullName, new { htmlAttributes = new { @class = \"form-control\" } })\n                @Html.ValidationMessageFor(model =&gt; model.FullName, \"\", new { @class = \"text-danger\" })\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model =&gt; model.email, htmlAttributes: new { @class = \"control-label col-md-2\" })\n            &lt;div class=\"col-md-10\"&gt;\n                @Html.EditorFor(model =&gt; model.email, new { htmlAttributes = new { @class = \"form-control\" } })\n                @Html.ValidationMessageFor(model =&gt; model.email, \"\", new { @class = \"text-danger\" })\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model =&gt; model.phone, htmlAttributes: new { @class = \"control-label col-md-2\" })\n            &lt;div class=\"col-md-10\"&gt;\n                @Html.EditorFor(model =&gt; model.phone, new { htmlAttributes = new { @class = \"form-control\" } })\n                @Html.ValidationMessageFor(model =&gt; model.phone, \"\", new { @class = \"text-danger\" })\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model =&gt; model.EquipId, \"Equipment\", htmlAttributes: new { @class = \"control-label col-md-2\" })\n            &lt;div class=\"col-md-10\"&gt;\n                @Html.DropDownList(\"EquipId\", null, htmlAttributes: new { @class = \"form-control\" })\n                @Html.ValidationMessageFor(model =&gt; model.EquipId, \"\", new { @class = \"text-danger\" })\n            &lt;/div&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>I'm not familiar with ajax and I only know a little bit of javascript, I'd rather try to contain the code to C# though, as all the Active Directory related code is already written.</p>\n\n<p>Could I just add a \"Lookup\" button next to the User ID field and have them click that to populate? If so how?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "visual-studio-2017"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1493232044, "post_id": 43642083, "comment_id": 74332530, "body": "What kind of authentication model did you choose when creating your VS2017 MVC project?"}, {"owner": {"reputation": 53, "user_id": 2984280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b3182b71d6a22187b3573804c48daba?s=128&d=identicon&r=PG&f=1", "display_name": "Gma-X", "link": "https://stackoverflow.com/users/2984280/gma-x"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1493232518, "post_id": 43642083, "comment_id": 74332789, "body": "@itsme86 The default option is set to &#39;No Authentication&#39; and I left it like that, just like in the tutorial video."}, {"owner": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 2, "creation_date": 1493233778, "post_id": 43642083, "comment_id": 74333554, "body": "With the 2017 templates you should choose Individual User Accounts for authentication. Then the files you want scaffolded will be there."}, {"owner": {"reputation": 53, "user_id": 2984280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b3182b71d6a22187b3573804c48daba?s=128&d=identicon&r=PG&f=1", "display_name": "Gma-X", "link": "https://stackoverflow.com/users/2984280/gma-x"}, "reply_to_user": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 0, "creation_date": 1493234253, "post_id": 43642083, "comment_id": 74333824, "body": "@Jasen I just changed it and that did the trick! And I checked back just to see that the instructor also had individual user accounts on, but it was default with him, so I didn&#39;t change anything because he didn&#39;t. Blunder on my side. Thanks for the reaction."}], "answers": [{"comments": [{"owner": {"reputation": 4300, "user_id": 1831618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5dfe2d035618ae32da17c4cb6fe56dc2?s=128&d=identicon&r=PG", "display_name": "Rahat Khanna", "link": "https://stackoverflow.com/users/1831618/rahat-khanna"}, "edited": false, "score": 0, "creation_date": 1503649863, "post_id": 43642798, "comment_id": 78713061, "body": "How do I set the Authentication Model in Visual Studio for Mac, there is no option like this initially ?"}, {"owner": {"reputation": 84, "user_id": 8340027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9oswk.jpg?s=128&g=1", "display_name": "Venkatesh Dharavath", "link": "https://stackoverflow.com/users/8340027/venkatesh-dharavath"}, "edited": false, "score": 0, "creation_date": 1618219624, "post_id": 43642798, "comment_id": 118526850, "body": "Hello, Can you please share something about adding <code>Authentication Model</code> to <code>Individual User Accounts</code> while creating the project? I&#39;m using <code>Visual Studio 2019 Community edition</code> and I do not see any option to enable that after selecting <code>Authentication Model</code>"}], "tags": [], "owner": {"reputation": 53, "user_id": 2984280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b3182b71d6a22187b3573804c48daba?s=128&d=identicon&r=PG&f=1", "display_name": "Gma-X", "link": "https://stackoverflow.com/users/2984280/gma-x"}, "is_accepted": false, "score": 4, "last_activity_date": 1493234410, "creation_date": 1493234410, "answer_id": 43642798, "question_id": 43642083, "link": "https://stackoverflow.com/questions/43642083/visual-studio-2017-mvc-does-not-contain-all-source-folders/43642798#43642798", "title": "Visual Studio 2017 MVC does not contain all source folders", "body": "<p>Thanks to itsme86 and Jasen I found the \"issue\". Just needed to put the authentication model to \"Individual user accounts\" when creating the project. Stupid error from my side.</p>\n"}], "owner": {"reputation": 53, "user_id": 2984280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b3182b71d6a22187b3573804c48daba?s=128&d=identicon&r=PG&f=1", "display_name": "Gma-X", "link": "https://stackoverflow.com/users/2984280/gma-x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1088, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1493234410, "creation_date": 1493231851, "question_id": 43642083, "link": "https://stackoverflow.com/questions/43642083/visual-studio-2017-mvc-does-not-contain-all-source-folders", "title": "Visual Studio 2017 MVC does not contain all source folders", "body": "<p>I have an issue with the new Visual Studio 2017 when starting a new ASP.NET MVC project. Recently I started a course on Udemy: </p>\n\n<p><a href=\"https://www.udemy.com/the-complete-aspnet-mvc-5-course/learn/v4/content\" rel=\"nofollow noreferrer\">https://www.udemy.com/the-complete-aspnet-mvc-5-course/learn/v4/content</a></p>\n\n<p>In this course I obviously try to mimic the teacher as perfectly as possible. However, I bought a new laptop yesterday and installed VS2017 on it (apparently you cannot get VS2015 as easily anymore). I followed the same steps as with VS2015 on my previous laptop, but it seems that the files generated by VS2017 are less than those generated by VS2015. Two of the files I'm missing are:</p>\n\n<ul>\n<li>Startup.cs</li>\n<li>Models/IdentityModels.cs</li>\n</ul>\n\n<p>And there are several more missing, for instance regarding the Account Managing. The files in VS2017 look like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ybuFF.png\" rel=\"nofollow noreferrer\">VS2017 MVC generated files</a></p>\n\n<p>Unfortunately I don't have a snippet of the VS2015 version, since I already reset my old laptop to factory settings.</p>\n\n<p>Are there others with the same issue, or is this standard since VS2017? Right now I can just look at what the teacher does, but later on he will introduce logging in and authentication, at which point I assume I will need that Account Manager .cs file.</p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["c#", "list", "linq"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1493232147, "post_id": 43642074, "comment_id": 74332589, "body": "What have you tried? If you haven&#39;t tried anything yet, I&#39;d start with figuring out how to isolate the last word in each string."}, {"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 1, "creation_date": 1493232581, "post_id": 43642074, "comment_id": 74332827, "body": "&quot; the country will always be the last word&quot;...famous last words."}], "answers": [{"tags": [], "owner": {"reputation": 955936, "user_id": 29407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e3a181e9cdd4757a8b416d93878770c5?s=128&d=identicon&r=PG", "display_name": "Darin Dimitrov", "link": "https://stackoverflow.com/users/29407/darin-dimitrov"}, "is_accepted": false, "score": 0, "last_activity_date": 1493232140, "creation_date": 1493232140, "answer_id": 43642167, "question_id": 43642074, "link": "https://stackoverflow.com/questions/43642074/c-check-if-list-contains-similiar-strings-using-linq/43642167#43642167", "title": "C# Check If List Contains Similiar Strings Using LINQ", "body": "<p>You could split each element by spaces, then group by the last token and count the number of occurrences:</p>\n\n<pre><code>var data = new[] { \"Apples Oranges Canada\", \"Fruit Apples US\", \"Food Something US\", \"Another Word Japan\" };\nvar result = data.GroupBy(x =&gt;\n{\n    var tokens = x.Split(' ');\n    var country = tokens[tokens.Length - 1];\n    return country;\n})\n.Select(g =&gt; new\n{\n    Country = g.Key,\n    Count = g.Count(),\n});\n\nforeach (var item in result)\n{\n    Console.WriteLine(\"Country: {0}, Count: {1}\", item.Country, item.Count);\n}\n</code></pre>\n\n<p>Which will print:</p>\n\n<pre><code>Country: Canada, Count: 1\nCountry: US, Count: 2\nCountry: Japan, Count:\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1163, "user_id": 5481865, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/36eb3783cb07bbdff9581179614bcf5e?s=128&d=identicon&r=PG&f=1", "display_name": "FailedUnitTest", "link": "https://stackoverflow.com/users/5481865/failedunittest"}, "edited": false, "score": 2, "creation_date": 1493232547, "post_id": 43642170, "comment_id": 74332813, "body": "Substring, nice touch."}], "tags": [], "owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "is_accepted": true, "score": 6, "last_activity_date": 1493232151, "creation_date": 1493232151, "answer_id": 43642170, "question_id": 43642074, "link": "https://stackoverflow.com/questions/43642074/c-check-if-list-contains-similiar-strings-using-linq/43642170#43642170", "title": "C# Check If List Contains Similiar Strings Using LINQ", "body": "<p><em>Extract</em> countries, and <code>GroupBy</code> by them:</p>\n\n<pre><code> string[] source = new string[] {\n   \"Apples Oranges Canada\", \"Fruit Apples US\", \"Food Something US\", \"Another Word Japan\"};\n\n var result = source\n   .GroupBy(item =&gt; item.Substring(item.LastIndexOf(' ') + 1))\n   .OrderBy(chunk =&gt; chunk.Key)\n   .Select(chunk =&gt; $\"{chunk.Key,-8} appears {chunk.Count()} times\");\n\nConsole.Write(string.Join(Environment.NewLine, result));\n</code></pre>\n\n<p>Outcome:</p>\n\n<pre><code>Canada   appears 1 times\nJapan    appears 1 times\nUS       appears 2 times       \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 646, "user_id": 1712323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74cdc66029fd25c13bb83971e6a34b6b?s=128&d=identicon&r=PG&f=1", "display_name": "loneshark99", "link": "https://stackoverflow.com/users/1712323/loneshark99"}, "is_accepted": false, "score": 0, "last_activity_date": 1493233452, "last_edit_date": 1493233452, "creation_date": 1493232545, "answer_id": 43642274, "question_id": 43642074, "link": "https://stackoverflow.com/questions/43642074/c-check-if-list-contains-similiar-strings-using-linq/43642274#43642274", "title": "C# Check If List Contains Similiar Strings Using LINQ", "body": "<p>You can also do this  (Try in Linqpad) </p>\n\n<pre><code>var data = new[] { \"Apples Oranges Canada\", \"Fruit Apples US\", \"Food Something US\", \"Another Word YASH\" };\nvar result = data.GroupBy(x =&gt; x.Split(' ').LastOrDefault(),(a, b) =&gt; new { Country = a, Count = b.Count()});\nresult.Dump()\n</code></pre>\n"}], "owner": {"reputation": 272, "user_id": 5204008, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bf191886a44eac05746d590e922f1f9e?s=128&d=identicon&r=PG&f=1", "display_name": "HereToLearn", "link": "https://stackoverflow.com/users/5204008/heretolearn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 43642170, "answer_count": 3, "score": 1, "last_activity_date": 1493233452, "creation_date": 1493231819, "question_id": 43642074, "link": "https://stackoverflow.com/questions/43642074/c-check-if-list-contains-similiar-strings-using-linq", "title": "C# Check If List Contains Similiar Strings Using LINQ", "body": "<p>So I have a list that looks something like the following:</p>\n\n<pre><code>{\"Apples Oranges Canada\", \"Fruit Apples US\", \"Food Something US\", \"Another Word Japan\"}\n</code></pre>\n\n<p>How can I count how many times each country is mentioned in the list and return an integer? So Canada is mentioned once (1), US is mentioned twice (2) and Japan is mentioned once (1). </p>\n\n<p>Please note that the country will always be the last word in the list's element and I <strong>do not</strong> know what specific countries are in the list. </p>\n\n<p>Thank you</p>\n"}]