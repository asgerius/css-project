[{"tags": ["c#", "sqlite", "entity-framework-core", "in-memory-database"], "comments": [{"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1568850801, "post_id": 58001920, "comment_id": 102409646, "body": "<i>&quot;...and obviously I can&#39;t dispose the context and renew it because of it being in-memory...&quot;</i> - why not?"}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1568850875, "post_id": 58001920, "comment_id": 102409657, "body": "Please post <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> how you are creating your context for <i>&quot;...However when loading a list of entities from the dB, then related entities are getting populated, despite no &#39;.Include&#39; being used...&quot;</i>"}, {"owner": {"reputation": 169, "user_id": 742526, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/a67ffbb62faa787a34466a279f191a44?s=128&d=identicon&r=PG", "display_name": "d sharpe", "link": "https://stackoverflow.com/users/742526/d-sharpe"}, "reply_to_user": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1568857310, "post_id": 58001920, "comment_id": 102410741, "body": "@MickeyD. I cant dispose of the context, because as soon as you do, all content will be lost ! I"}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1568886897, "post_id": 58001920, "comment_id": 102421047, "body": "After googling and reading <a href=\"https://stackoverflow.com/a/50634745/585968\">this answer</a>, EF Core did not introduce automatic Lazy Loading (which would have explained your issue) until <a href=\"https://docs.microsoft.com/en-us/ef/core/querying/related-data#lazy-loading\" rel=\"nofollow noreferrer\"><b>EF Core 2.1</b></a>.  Considering you are using EFC v1.1x, you should only have <i>eager</i> and <i>explcit</i> at your disposal.  Not sure what is causing the issue sadly"}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1568887217, "post_id": 58001920, "comment_id": 102421225, "body": "<i>&quot;I <code>cant dispose</code> of the <code>context</code>, because as soon as you do, all content will be <code>lost</code> !&quot;</i> - <a href=\"https://docs.microsoft.com/en-us/ef/core/miscellaneous/testing/sqlite\" rel=\"nofollow noreferrer\">Incorrect</a>.  Perhaps you are thinking about the <i>connection</i>? Ensure you are using <code>DbContextOptionsBuilder</code>"}, {"owner": {"reputation": 555, "user_id": 1993024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2a2f0116be79c06f3277c8b168ebd4b1?s=128&d=identicon&r=PG", "display_name": "zoran", "link": "https://stackoverflow.com/users/1993024/zoran"}, "edited": false, "score": 0, "creation_date": 1582581244, "post_id": 58001920, "comment_id": 106819814, "body": "Did you found solution? I have the exact same problem with EF Core 3.1"}], "owner": {"reputation": 169, "user_id": 742526, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/a67ffbb62faa787a34466a279f191a44?s=128&d=identicon&r=PG", "display_name": "d sharpe", "link": "https://stackoverflow.com/users/742526/d-sharpe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1568866212, "creation_date": 1568849634, "last_edit_date": 1568866212, "question_id": 58001920, "link": "https://stackoverflow.com/questions/58001920/stop-related-entities-being-loaded-automatically-in-sqlite-in-memory-db-using-en", "title": "Stop related entities being loaded automatically in Sqlite in-memory dB using Entity Framework Core", "body": "<p>I'm using EF Core (v1.1.3) and C#.</p>\n\n<p>In my unit tests I create a sqlite in-memory database using the code-first db model, and then populate it with some test data. However when loading a list of entities from the dB, then related entities are getting populated, despite no '.Include' being used.</p>\n\n<p>If I use the same model to create an actual on-disk database and the do the same load, then the related entities only get loaded if I use an <code>.Include</code>.</p>\n\n<p>Is this a bug in the sqlite in-memory implementation (v1.1.0), or am I missing something? </p>\n\n<p>I have already checked that there is nothing being tracked in the database, and obviously I can't dispose the context and renew it because of it being in-memory, and I'm limited to this version of EF &amp; Sqlite currently, due to legacy reasons.</p>\n\n<p>Obviously I'd prefer to have an in-memory option for unit tests rather than start creating on-disk tests, for the performance.</p>\n"}, {"tags": ["c#", "decimal", "console-application", "rounding"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 2, "creation_date": 1568849531, "post_id": 58001880, "comment_id": 102409376, "body": "<code>&quot;Your average is {0:N2}&quot;</code>"}, {"owner": {"reputation": 34, "user_id": 4420102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jVqO6.png?s=128&g=1", "display_name": "owais shahab", "link": "https://stackoverflow.com/users/4420102/owais-shahab"}, "edited": false, "score": 0, "creation_date": 1568849871, "post_id": 58001880, "comment_id": 102409465, "body": "Visit <a href=\"https://stackoverflow.com/questions/15288134/how-to-display-values-only-upto-2-decimal-places\" title=\"how to display values only upto 2 decimal places\">stackoverflow.com/questions/15288134/&hellip;</a> *value.ToString(&quot;0.00&quot;);"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1568850021, "post_id": 58001880, "comment_id": 102409501, "body": "I&#39;d also strongly recommend <b>not</b> doing rounding when doing mathematical calculations <b>until the last possible calculation</b>. In other words, don&#39;t round two numbers and then divide them. Instead, do the division and round <b>once</b> at the end to get your output (or use the technique I suggested to avoid the need for explicit rounding)."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 12067253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c128aa2267b295ae14250288549997?s=128&d=identicon&r=PG&f=1", "display_name": "brainpain", "link": "https://stackoverflow.com/users/12067253/brainpain"}, "edited": false, "score": 0, "creation_date": 1568849835, "post_id": 58001901, "comment_id": 102409454, "body": "This worked marvelously. Can you please explain why the math.round goes where it does and what the MidpointRounding.AwayFromZero does? I am wanting to understand. :) Thank you."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "reply_to_user": {"reputation": 23, "user_id": 12067253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c128aa2267b295ae14250288549997?s=128&d=identicon&r=PG&f=1", "display_name": "brainpain", "link": "https://stackoverflow.com/users/12067253/brainpain"}, "edited": false, "score": 0, "creation_date": 1568849934, "post_id": 58001901, "comment_id": 102409483, "body": "You can Google what <code>MidpointRounding.AwayFromZero</code> does @brainpain. Basically it rounds from 0.5 upwards rather than doing bankers rounding."}, {"owner": {"reputation": 691, "user_id": 267814, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e147b5e19d2205af3597ee4b753fbbe9?s=128&d=identicon&r=PG", "display_name": "Arseniy Banayev", "link": "https://stackoverflow.com/users/267814/arseniy-banayev"}, "edited": false, "score": 0, "creation_date": 1568853051, "post_id": 58001901, "comment_id": 102409991, "body": "You should really only round if the rounded number is to be used in further calculations, not least because the logging code becomes less idiomatic and readable. Also, if <code>sum</code> is defined to only one decimal place (e.g., 35.5), then this prints <code>35.5</code>, not <code>35.50</code> as desired in the original question."}], "tags": [], "owner": {"reputation": 991, "user_id": 11981207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDMl-KbtprUZGl_XAs7czxfJgfDG0zK2kye2G75qA=k-s128", "display_name": "Kei", "link": "https://stackoverflow.com/users/11981207/kei"}, "is_accepted": true, "score": -1, "last_activity_date": 1568849455, "creation_date": 1568849455, "answer_id": 58001901, "question_id": 58001880, "link": "https://stackoverflow.com/questions/58001880/how-do-i-make-my-writeline-output-display-the-numeric-value-to-the-nearest-2-dec/58001901#58001901", "title": "How do I make my writeline output display the numeric value to the nearest 2 decimal?", "body": "<p>You can use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.math.round?view=netframework-4.8\" rel=\"nofollow noreferrer\">Math.Round</a></p>\n\n<pre><code>Console.WriteLine(\"Your average is {0}\", Math.Round(decimal.Round(sum, 2) / decimal.Round(totalLoops, 2), 2, MidpointRounding.AwayFromZero));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2011, "user_id": 6537701, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/513000037985985ad2541a504674f12e?s=128&d=identicon&r=PG&f=1", "display_name": "kurakura88", "link": "https://stackoverflow.com/users/6537701/kurakura88"}, "is_accepted": false, "score": 2, "last_activity_date": 1568850177, "creation_date": 1568850177, "answer_id": 58001966, "question_id": 58001880, "link": "https://stackoverflow.com/questions/58001880/how-do-i-make-my-writeline-output-display-the-numeric-value-to-the-nearest-2-dec/58001966#58001966", "title": "How do I make my writeline output display the numeric value to the nearest 2 decimal?", "body": "<p><code>{0:N2}</code> to get 2 decimals based on your locale. (The standard way)</p>\n\n<p><code>{0:0.00}</code> to always get 2 decimals, for ex: 2.00 will show 2.00.</p>\n\n<p><code>{0:0.##}</code> to show 2 decimals if they are non zero, for ex: 2.00 will show 2.</p>\n\n<p>Please read these for your reference:</p>\n\n<ul>\n<li><p><a href=\"https://docs.microsoft.com/en-us/dotnet/standard/base-types/standard-numeric-format-strings?view=netframework-4.8\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/standard/base-types/standard-numeric-format-strings?view=netframework-4.8</a></p></li>\n<li><p><a href=\"https://docs.microsoft.com/en-us/dotnet/standard/base-types/custom-numeric-format-strings?view=netframework-4.8\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/standard/base-types/custom-numeric-format-strings?view=netframework-4.8</a></p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 112, "user_id": 7137706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ed4ee70a461f834e54e4bde554380d5?s=128&d=identicon&r=PG", "display_name": "Terrence", "link": "https://stackoverflow.com/users/7137706/terrence"}, "is_accepted": false, "score": 0, "last_activity_date": 1568858377, "last_edit_date": 1568858377, "creation_date": 1568853950, "answer_id": 58002304, "question_id": 58001880, "link": "https://stackoverflow.com/questions/58001880/how-do-i-make-my-writeline-output-display-the-numeric-value-to-the-nearest-2-dec/58002304#58002304", "title": "How do I make my writeline output display the numeric value to the nearest 2 decimal?", "body": "<p>You want to force the string to show the decimals.</p>\n\n<p>Also, you probably only want to round the result of of the average.</p>\n\n<pre><code>Console.WriteLine(\"Your average is {0:N2}\", sum/totalLoops);\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 12067253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c128aa2267b295ae14250288549997?s=128&d=identicon&r=PG&f=1", "display_name": "brainpain", "link": "https://stackoverflow.com/users/12067253/brainpain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 58001901, "answer_count": 3, "score": 1, "last_activity_date": 1568858377, "creation_date": 1568849235, "last_edit_date": 1568849538, "question_id": 58001880, "link": "https://stackoverflow.com/questions/58001880/how-do-i-make-my-writeline-output-display-the-numeric-value-to-the-nearest-2-dec", "title": "How do I make my writeline output display the numeric value to the nearest 2 decimal?", "body": "<p>I am just needing to finish up this program for my assignment and I have completed the task that I want it to perform, yet I cannot for the life of me figure out how to make my output display the number value to the second decimal. (For example: 35.50) </p>\n\n<p>My program is meant to take the average of values, and give the numeric average in decimals. It does do that, but the decimal string is way longer than 2 decimal places. I'm hoping to get some advice on how to clean this up, and please give all answers with the explanation. Thank you so much! (The program I am using is visual studios 2017, and I am creating this code within the console app of C#)</p>\n\n<pre><code>static void Main(string[] args)\n    {\n\n        decimal counter = 1;\n        decimal sum = 0;\n        decimal totalLoops = 3;\n\n\n        while (counter &lt;= totalLoops)\n        {\n            Console.WriteLine(\"Please enter test score here:\");\n            string scoreInput = Console.ReadLine();\n            decimal score;\n            decimal.TryParse(scoreInput, out score);\n            sum += score;\n            counter++;\n\n        }\n\n        Console.WriteLine(\"Your average is {0}\", decimal.Round(sum, 2) / decimal.Round(totalLoops, 2));\n        Console.ReadKey();\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "iis", "model-view-controller", "routing"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12087681, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD-NDJO-Nl0g0qv8thOBeuZlKLcKMtmA46_PVDE=k-s128", "display_name": "Mandeep Singh", "link": "https://stackoverflow.com/users/12087681/mandeep-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1568853629, "creation_date": 1568853629, "answer_id": 58002274, "question_id": 58001771, "link": "https://stackoverflow.com/questions/58001771/asp-net-mvc-application-root-and-routing/58002274#58002274", "title": "ASP.Net MVC Application Root and Routing", "body": "<p>The route part is Products/Edit/ABC?Module=CS.</p>\n\n<ol>\n<li><p>A quick solution would be to add a global HTTP module which checks the /MYAPP/V1 part of the url and redirect user to /myapp/v1. (a simple comparision of if current url starts with <a href=\"http://yourdomain/MYAPP/V1\" rel=\"nofollow noreferrer\">http://yourdomain/MYAPP/V1</a>, make it case sensitive)</p></li>\n<li><p>You can also write your own extension to override the behaviour of ActionLink method.</p></li>\n</ol>\n\n<p>Source code of ActionLink method - \n<a href=\"https://github.com/aspnet/AspNetWebStack/blob/749384689e027a2fcd29eb79a9137b94cea611a8/src/System.Web.Mvc/Html/LinkExtensions.cs\" rel=\"nofollow noreferrer\">https://github.com/aspnet/AspNetWebStack/blob/749384689e027a2fcd29eb79a9137b94cea611a8/src/System.Web.Mvc/Html/LinkExtensions.cs</a></p>\n"}, {"tags": [], "owner": {"reputation": 15643, "user_id": 7609093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lwHJH.png?s=128&g=1", "display_name": "Brando Zhang", "link": "https://stackoverflow.com/users/7609093/brando-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1568961157, "creation_date": 1568961157, "answer_id": 58022917, "question_id": 58001771, "link": "https://stackoverflow.com/questions/58001771/asp-net-mvc-application-root-and-routing/58022917#58022917", "title": "ASP.Net MVC Application Root and Routing", "body": "<p>According to your description, I suggest you could consider using url rewrite to help you acheive this requirement.</p>\n\n<p>The url rewrite has build-in ToLower function which could help you make your url to lower.</p>\n\n<p>You could install it from this [url]{<a href=\"https://www.iis.net/downloads/microsoft/url-rewrite\" rel=\"nofollow noreferrer\">https://www.iis.net/downloads/microsoft/url-rewrite</a>}.</p>\n\n<p>Then you could add below config setting into your web.config: </p>\n\n<pre><code>            &lt;rule name=\"TolowerCase\" stopProcessing=\"true\"&gt;\n                &lt;match url=\".*\" /&gt;\n              &lt;conditions&gt;\n                    &lt;add input=\"{QUERY_STRING}\" pattern=\"(.*)\" /&gt;\n                    &lt;add input=\"{QUERY_STRING}\" pattern=\"([A-Z]+)\" ignoreCase=\"false\" /&gt;\n\n              &lt;/conditions&gt;\n                &lt;action type=\"Redirect\" url=\"http://{ToLower:{HTTP_HOST}{PATH_INFO}}?{ToLower:{QUERY_STRING}}\" appendQueryString=\"false\" /&gt;\n            &lt;/rule&gt;\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/N3aIp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N3aIp.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1013, "user_id": 209081, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eff1dea94b4b51d08897b41da87ee3a0?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/209081/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1568961157, "creation_date": 1568848148, "question_id": 58001771, "link": "https://stackoverflow.com/questions/58001771/asp-net-mvc-application-root-and-routing", "title": "ASP.Net MVC Application Root and Routing", "body": "<p>I have a requirement in an MVC app to set the app root to lowercase in all URLs without setting the ID and querystring to lowercase and not quite sure how to go about it.  I can't change the directories to lowercase and I have limited access to IIS so I'm hoping I can find a programmatic way to do this within the application.</p>\n\n<p>For instance if I have several versions of an app called MYAPP with 3 versions (V1, V2, V3) which each are in their own directories giving us /MYAPP/V1, /MYAPP/V2, and /MYAPP/V3.</p>\n\n<p>When MVC constructs the URL it will use the application root that is in uppercase, but I want to set it to lowercase, where </p>\n\n<pre><code>@Html.ActionLink(\"Edit\", \"Edit\", \"Products\", new { id = \"ABC\", Module = \"CS\" }, null)\n</code></pre>\n\n<p>would result in</p>\n\n<pre><code>&lt;a href=\"/myapp/v1/Products/Edit/ABC?Module=CS\"&gt;Edit&lt;/a&gt;\n</code></pre>\n\n<p>and not </p>\n\n<pre><code>&lt;a href=\"/MYAPP/V1/Products/Edit/ABC?Module=CS\"&gt;Edit&lt;/a&gt;\n</code></pre>\n\n<p>I have looked at using </p>\n\n<pre><code>routes.LowercaseUrls = true;\n</code></pre>\n\n<p>In the RouteConfig.cs but wouldn't that end up giving me </p>\n\n<pre><code>&lt;a href=\"/myapp/v1/products/edit/abc?module=cs\"&gt;Edit&lt;/a&gt;\n</code></pre>\n\n<p>Which is not what I want... any advise is greatly appreciated!</p>\n"}, {"tags": ["javascript", "c#", "html", "asp.net-mvc"], "comments": [{"owner": {"reputation": 420, "user_id": 7560262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10154358337802828/picture?type=large", "display_name": "Mauricio C&#225;rdenas", "link": "https://stackoverflow.com/users/7560262/mauricio-c%c3%a1rdenas"}, "edited": false, "score": 0, "creation_date": 1568848169, "post_id": 58001727, "comment_id": 102409143, "body": "I&#39;m not sure I&#39;m getting the problem, but you could hide the submit button and have a change event that checks if all fields are filled. If they are, you show the button, if not, it stays hidden.  As for the back-end part, you could use regular expressions to check you&#39;re getting what you want (also helps preventing injections)"}, {"owner": {"reputation": 420, "user_id": 7560262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10154358337802828/picture?type=large", "display_name": "Mauricio C&#225;rdenas", "link": "https://stackoverflow.com/users/7560262/mauricio-c%c3%a1rdenas"}, "edited": false, "score": 0, "creation_date": 1568848248, "post_id": 58001727, "comment_id": 102409149, "body": "Another option would be to &quot;catch&quot; the submit event and prevent it from occuring, then use your own handler to validate the fields :)   If you&#39;re jusing JQuery, you can use &quot;.preventDefault()&quot; and &quot;.stopPropagation()&quot; to achieve that."}, {"owner": {"reputation": 1, "user_id": 9427338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e9bd2f6d0cb931853916ae77a34fc8?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/9427338/john-doe"}, "reply_to_user": {"reputation": 420, "user_id": 7560262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10154358337802828/picture?type=large", "display_name": "Mauricio C&#225;rdenas", "link": "https://stackoverflow.com/users/7560262/mauricio-c%c3%a1rdenas"}, "edited": false, "score": 0, "creation_date": 1568848441, "post_id": 58001727, "comment_id": 102409177, "body": "You can leave me an example of how to make the change event that verifies if all the fields are filled"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1568848474, "post_id": 58001727, "comment_id": 102409184, "body": "Why not just add the <code>required</code> attribute to all of the <code>input</code>s that are required? You&#39;ve marked this <code>c#</code> but there is no C# code here. Finally, that JavaScript function doesn&#39;t make any sense out of context. Please <a href=\"https://stackoverflow.com/posts/58001727/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the back-end code that receives this data if you&#39;d like help with that."}, {"owner": {"reputation": 1, "user_id": 9427338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e9bd2f6d0cb931853916ae77a34fc8?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/9427338/john-doe"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1568848615, "post_id": 58001727, "comment_id": 102409199, "body": "@HereticMonkey If I do it with the required tag in html you can inspect the item through the browser and delete it and it is what I do not want, if I had already done so"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1568848871, "post_id": 58001727, "comment_id": 102409247, "body": "And you can do the same with any JavaScript you add. That&#39;s why you validate on the back-end also."}, {"owner": {"reputation": 1, "user_id": 9427338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e9bd2f6d0cb931853916ae77a34fc8?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/9427338/john-doe"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1568849569, "post_id": 58001727, "comment_id": 102409387, "body": "@HereticMonkey check again the question I just made the minimum reproducible example showing the controller"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1568849908, "post_id": 58001727, "comment_id": 102409477, "body": "I don&#39;t see how you&#39;re getting the data from the HTML form to the (MVC?) action. All you&#39;d need to do is check if those variables that start with <code>ticket</code> match <code>string.IsNullOrEmpty(ticketIdAppliInput)</code>. If so, it&#39;s invalid."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "reply_to_user": {"reputation": 420, "user_id": 7560262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10154358337802828/picture?type=large", "display_name": "Mauricio C&#225;rdenas", "link": "https://stackoverflow.com/users/7560262/mauricio-c%c3%a1rdenas"}, "edited": false, "score": 1, "creation_date": 1568849976, "post_id": 58001727, "comment_id": 102409491, "body": "@MauricioC&#225;rdenas You don&#39;t need jQuery to use <code>preventDefault()</code>, and you only need that, not <code>stopPropagation()</code> (which also doesn&#39;t require jQuery)."}, {"owner": {"reputation": 1, "user_id": 9427338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e9bd2f6d0cb931853916ae77a34fc8?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/9427338/john-doe"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1568850068, "post_id": 58001727, "comment_id": 102409509, "body": "@HereticMonkey It is correct I use MVC"}, {"owner": {"reputation": 1, "user_id": 9427338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e9bd2f6d0cb931853916ae77a34fc8?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/9427338/john-doe"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1568850435, "post_id": 58001727, "comment_id": 102409582, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/199656/discussion-between-sebastian-salazar-and-heretic-monkey\">continue this discussion in chat</a>."}, {"owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1568851286, "post_id": 58001727, "comment_id": 102409716, "body": "Most of this can be handled by your Model. Add the appropriate validation attributes to your public propertied and use the appropriate HTML helpers in your cshtml page: <a href=\"https://docs.microsoft.com/en-us/aspnet/mvc/overview/getting-started/introduction/adding-validation\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/mvc/overview/getting-started&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 420, "user_id": 7560262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10154358337802828/picture?type=large", "display_name": "Mauricio C&#225;rdenas", "link": "https://stackoverflow.com/users/7560262/mauricio-c%c3%a1rdenas"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1568853996, "post_id": 58001727, "comment_id": 102410169, "body": "@HereticMonkey yeah, you&#39;re right. I had a brain fart right there. Still, stopPropagation() helps sometimes. I&#39;ve had issues where I had preventDefault() only, but it wouldn&#39;t stop the parent trigger from happening"}], "answers": [{"comments": [{"owner": {"reputation": 20059, "user_id": 856353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4BHW9.jpg?s=128&g=1", "display_name": "Robert McKee", "link": "https://stackoverflow.com/users/856353/robert-mckee"}, "edited": false, "score": 0, "creation_date": 1569265955, "post_id": 58001906, "comment_id": 102533308, "body": "The HTML required attribute does not validate the inputs on the back end.  As such, those attributes should be considered an html progressive enhancement, and not to be trusted.  It&#39;s far too easy to bypass, so you need to also make the same check server-side."}], "tags": [], "owner": {"reputation": 34, "user_id": 4420102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jVqO6.png?s=128&g=1", "display_name": "owais shahab", "link": "https://stackoverflow.com/users/4420102/owais-shahab"}, "is_accepted": false, "score": 0, "last_activity_date": 1568849487, "creation_date": 1568849487, "answer_id": 58001906, "question_id": 58001727, "link": "https://stackoverflow.com/questions/58001727/how-to-validate-mandatory-fields-in-the-front-end-and-back-end/58001906#58001906", "title": "How to validate mandatory fields in the front-end and back-end", "body": "<p>In Html you can simple use required tag and there are lots of jquery library which will provide validation for you as well show popup custom message.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 9427338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e9bd2f6d0cb931853916ae77a34fc8?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/9427338/john-doe"}, "edited": false, "score": 0, "creation_date": 1568911801, "post_id": 58002138, "comment_id": 102435092, "body": "I would rather not change the html tags that I already have created, you have some other option"}, {"owner": {"reputation": 20059, "user_id": 856353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4BHW9.jpg?s=128&g=1", "display_name": "Robert McKee", "link": "https://stackoverflow.com/users/856353/robert-mckee"}, "reply_to_user": {"reputation": 1, "user_id": 9427338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e9bd2f6d0cb931853916ae77a34fc8?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/9427338/john-doe"}, "edited": false, "score": 0, "creation_date": 1568928323, "post_id": 58002138, "comment_id": 102441668, "body": "Your current view doesn&#39;t currently handle displaying error messages from the server, so you will need to address that anyhow.  But if you really want to continue down that path...  Then you&#39;ll need to change your inputs so that the values you may have posts get put back into the inputs on error as well.  And then handle all your validations on the client side by writing custom javascript."}, {"owner": {"reputation": 20059, "user_id": 856353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4BHW9.jpg?s=128&g=1", "display_name": "Robert McKee", "link": "https://stackoverflow.com/users/856353/robert-mckee"}, "reply_to_user": {"reputation": 1, "user_id": 9427338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e9bd2f6d0cb931853916ae77a34fc8?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/9427338/john-doe"}, "edited": false, "score": 0, "creation_date": 1568928572, "post_id": 58002138, "comment_id": 102441745, "body": "You will spend more time trying to avoid doing it the right way than just doing it the right way.  You shouldn&#39;t be trying to avoid making and using a model if you are using a MVC framework... That is the M in MVC after all."}], "tags": [], "owner": {"reputation": 20059, "user_id": 856353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4BHW9.jpg?s=128&g=1", "display_name": "Robert McKee", "link": "https://stackoverflow.com/users/856353/robert-mckee"}, "is_accepted": true, "score": 2, "last_activity_date": 1568855307, "last_edit_date": 1568855307, "creation_date": 1568852077, "answer_id": 58002138, "question_id": 58001727, "link": "https://stackoverflow.com/questions/58001727/how-to-validate-mandatory-fields-in-the-front-end-and-back-end/58002138#58002138", "title": "How to validate mandatory fields in the front-end and back-end", "body": "<p>Create yourself a model class:</p>\n\n<pre><code>public class MyData {\n  [Required]\n  [StringLength(9)]\n  [Display(Name=\"Id\")]\n  public string ticketIdAppliInput {get;set;}\n  [Required]\n  public string ticketNameAppliInput {get;set;}\n  [Required]\n  public string ticketEmailAppliInput {get;set;}\n}\n</code></pre>\n\n<p>Change your controller to take this class as input:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult CreateNewTicket(MyData data) {\n  if (ModelState.IsValid)\n    return Json(...);\n  return View(data);\n}\n</code></pre>\n\n<p>Then change your view to actually use this class (I'll do the first input for you):</p>\n\n<pre><code>@model MyData\n@using (Html.BeginForm())\n{\n  &lt;div id=\"informacionTicket\" class=\"user\"&gt;\n    &lt;div class=\"card shadow mb-4\"&gt;\n      &lt;div class=\"card-header py-3\"&gt;\n        &lt;h4 class=\"m-0 font-weight-bold text-primary\"&gt;\n          Applicant&lt;/h4&gt;\n      &lt;/div&gt;\n      &lt;div class=\"card-body\"&gt;\n        &lt;div class=\"mb-4\"&gt;\n          &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model=&gt;model.ticketIdAppliInput)\n            @Html.TextboxFor(model=&gt;model.ticketIdAppliInput, new { @type=\"text\", @class=\"form-control form-control-user\"})\n            @Html.ValidationMessageFor(model=&gt;model.ticketIdAppliInput)\n          &lt;/div&gt;\n          &lt;div class=\"form-group\"&gt;\n            &lt;label for=\"ticketNameAppliInput\"&gt;Full name:&lt;/label&gt;\n            &lt;input maxlength=\"100\" id=\"ticketNameAppliInput\" type=\"text\" name=\"nombre\" class=\"form-control form-control-user\" /&gt;\n          &lt;/div&gt;\n          &lt;div class=\"form-group\"&gt;\n            &lt;label for=\"ticketEmailAppliInput\"&gt;Email:&lt;/label&gt;\n            &lt;input maxlength=\"100\" id=\"ticketEmailAppliInput\" type=\"email\" name=\"email\" class=\"form-control form-control-user\" /&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;button type=\"button\" id=\"submit\" class=\"btn btn-primary btn-user btn-block\"&gt;Send&lt;/button&gt;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9427338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e9bd2f6d0cb931853916ae77a34fc8?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/9427338/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "accepted_answer_id": 58002138, "answer_count": 2, "score": -1, "last_activity_date": 1568855307, "creation_date": 1568847798, "last_edit_date": 1568850102, "question_id": 58001727, "link": "https://stackoverflow.com/questions/58001727/how-to-validate-mandatory-fields-in-the-front-end-and-back-end", "title": "How to validate mandatory fields in the front-end and back-end", "body": "<p>I am creating my form and I need to make some validations of some fields that are mandatory both in the front and in the back and that are not allowed to send until duly filled out.</p>\n\n<p>The following is the form with the fields.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\"&gt;\r\n\r\n&lt;form&gt;\r\n  &lt;div id=\"informacionTicket\" class=\"user\"&gt;\r\n    &lt;div class=\"card shadow mb-4\"&gt;\r\n      &lt;div class=\"card-header py-3\"&gt;\r\n        &lt;h4 class=\"m-0 font-weight-bold text-primary\"&gt;\r\n          Applicant&lt;/h4&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=\"card-body\"&gt;\r\n        &lt;div class=\"mb-4\"&gt;\r\n          &lt;div class=\"form-group\"&gt;\r\n            &lt;label for=\"ticketIdAppliInput\"&gt;Id:&lt;/label&gt;\r\n            &lt;input maxlength=\"9\" required id=\"ticketIdAppliInput\" type=\"text\" name=\"matricula\" onkeypress=\"if (isNaN(String.fromCharCode(event.keyCode))) return false;\" class=\"form-control form-control-user\" /&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=\"form-group\"&gt;\r\n            &lt;label for=\"ticketNameAppliInput\"&gt;Full name:&lt;/label&gt;\r\n            &lt;input maxlength=\"100\" id=\"ticketNameAppliInput\" type=\"text\" name=\"nombre\" class=\"form-control form-control-user\" /&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=\"form-group\"&gt;\r\n            &lt;label for=\"ticketEmailAppliInput\"&gt;Email:&lt;/label&gt;\r\n            &lt;input maxlength=\"100\" id=\"ticketEmailAppliInput\" type=\"email\" name=\"email\" class=\"form-control form-control-user\" /&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;button type=\"button\" id=\"submit\" class=\"btn btn-primary btn-user btn-block\"&gt;Send&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The following is the JavaScript function that sends the data.</p>\n\n<pre><code>function f_submitForm() {\n    form.append(\"ticketIdAppliInput\", document.getElementById(\"ticketIdAppliInput\").value);\n    form.append(\"ticketNameAppliInput\", document.getElementById(\"ticketNameAppliInput\").value);\n    form.append(\"ticketEmailAppliInput\", document.getElementById(\"ticketEmailAppliInput\").value);\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Add minimal reproducible example, form controller</p>\n\n<pre><code>[HttpPost]\npublic JsonResult CreateNewTicket()\n        {\n            var ticketIdAppliInput = Request.Form[\"ticketIdAppliInput\"];\n            var ticketNameAppliInput = Request.Form[\"ticketNameAppliInput\"];\n            var ticketEmailAppliInput = Request.Form[\"ticketEmailAppliInput\"];\n\n        try\n        {\n            using (var scope = new TransactionScope())\n            {               \n                var ticket = new TK_HD_TICKETS\n                {\n                    CUSTOMER_ID = ticketIdAppliInput,\n                    CUSTOMER_FULLNAME = ticketNameAppliInput,\n                    CUSTOMER_EMAIL = ticketEmailAppliInput,\n                    };\n                    var result = ticketCreate.CreateNewTicket(ticket);\n\n                    // If the ticket was not saved, the transaction is finished and we return the error message\n                    if (!result.Success)\n                    return Json(new TicketResult\n                    {\n                        IsValid = false,\n                        Error = \"The ticket could not be created, please try again.\"\n                    });\n            }\n        }catch (DbEntityValidationException ex)\n        {\n            // Failed to try to register data in the database\n            foreach (var e in ex.EntityValidationErrors)\n            foreach (var validationError in e.ValidationErrors)\n                Console.WriteLine(\"Property: \" + validationError.PropertyName + \" Error: \" +\n                                  validationError.ErrorMessage);\n\n            return Json(new TicketResult\n            {\n                IsValid = false,\n                Error = \"There was an error creating the ticket, please try again.\"\n            });\n        }\n        }\n</code></pre>\n"}, {"tags": ["java", "c#", "c", "windows", "command-line-arguments"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1568849080, "post_id": 58001676, "comment_id": 102409288, "body": "The rules appear to be here: <a href=\"https://docs.microsoft.com/en-us/previous-versions/17w5ykft(v=vs.85)\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/previous-versions/17w5ykft(v=vs.85)</a>"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 2, "creation_date": 1568849111, "post_id": 58001676, "comment_id": 102409294, "body": "@MarkPflug, the operating system has to parse the command line at least enough to determine what command to run in the (allowed) case that the <code>lpApplicationName</code> parameter is null.  Of course, given that Microsoft writes a lot of its own language runtimes, and that it is notorious for blending layers, I&#39;m not sure that the question is in fact inquiring about a meaningful distinction."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 3, "creation_date": 1568849223, "post_id": 58001676, "comment_id": 102409313, "body": "This is wildly dependent on the called-application. CreateProcess forwards the command line; the process entrypoint itself is utimately responsible for discerning the argument breakup. Ex: WinMainCRTStartup and wWinMainCRTStartup are the default entrypoints for MSVS-built C or C++ applications built as narrow or unicode respectively. Both are capable of breaking apart the cmd  line arguments from the CreateProcess arguments."}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 1, "creation_date": 1568850500, "post_id": 58001676, "comment_id": 102409596, "body": "It is up to the application and whatever language it is written in.  It is not the role of CreateProcess nor the OS to <i>&quot;[parse] lpCommandLine and turning it into args[].&quot;</i>.   <i><a href=\"https://docs.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa\" rel=\"nofollow noreferrer\">Tell me more</a></i>"}, {"owner": {"reputation": 24998, "user_id": 190371, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IRQaF.png?s=128&g=1", "display_name": "MarkPflug", "link": "https://stackoverflow.com/users/190371/markpflug"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1568905486, "post_id": 58001676, "comment_id": 102432007, "body": "@JohnBollinger I think the distinction is quite meaningful, in fact. If the args are parsed by the OS, then the behavior should be consistent regardless of language used. If the parsing is done by the language runtime itself, then the behavior might be different depending on how the language, or even the <i>version</i> of the language, happens to implement it."}], "answers": [{"comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1568867113, "post_id": 58001881, "comment_id": 102412384, "body": "If we don&#39;t use <code>lpApplicationName</code> to pass an explicit executable path, <code>CreateProcessW</code> parses the command line for the executable, with special handling for space and double quote. If there&#39;s no quoting, it consumes spaces until it finds an executable. For example, it may find <code>C:\\Program Files\\spam\\eggs.exe</code>, but not if <code>C:\\program.exe</code> exists."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1568867274, "post_id": 58001881, "comment_id": 102412429, "body": "If an application&#39;s runtime library of choice doesn&#39;t parse the command line, it can manually call <a href=\"https://docs.microsoft.com/en-us/windows/win32/api/shellapi/nf-shellapi-commandlinetoargvw\" rel=\"nofollow noreferrer\"><code>CommandLineToArgvW</code></a> with the Unicode command line from <a href=\"https://docs.microsoft.com/en-us/windows/win32/api/processenv/nf-processenv-getcommandlinew\" rel=\"nofollow noreferrer\"><code>GetCommandLineW</code></a>. This function is part of the Windows shell, shell32.dll."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10762593"}, "is_accepted": true, "score": 3, "last_activity_date": 1568849260, "creation_date": 1568849260, "answer_id": 58001881, "question_id": 58001676, "link": "https://stackoverflow.com/questions/58001676/what-parses-command-line-args-into-args-on-windows/58001881#58001881", "title": "What parses command line args into args[] on Windows?", "body": "<p>The runtime startup code linked into the program you're running.  For C, for example, it's crt0.c.</p>\n\n<p>The created process begins execution in user mode at some declared entry point, which is not <code>main</code>. It is the C runtime that calls <code>main</code>.</p>\n\n<p>Back when I was a Windows C programmer, the C runtime source code was included in the SDK.</p>\n"}], "owner": {"reputation": 24998, "user_id": 190371, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IRQaF.png?s=128&g=1", "display_name": "MarkPflug", "link": "https://stackoverflow.com/users/190371/markpflug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 1, "accepted_answer_id": 58001881, "answer_count": 1, "score": 4, "last_activity_date": 1568850553, "creation_date": 1568847213, "last_edit_date": 1568850553, "question_id": 58001676, "link": "https://stackoverflow.com/questions/58001676/what-parses-command-line-args-into-args-on-windows", "title": "What parses command line args into args[] on Windows?", "body": "<p>On Windows, the <a href=\"https://docs.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa\" rel=\"nofollow noreferrer\">CreateProcess</a> win32 function is used to create a new process. The signature for this function takes a pointer to the \"command line\" <code>lpCommandLine</code>, so the command line is passed as a single string.</p>\n\n<p>Every language that I'm familiar with (C, C++, C#, Java) allows a <code>main</code> function that accepts an array of strings. So, somewhere between CreateProcess and <code>main</code> there must be something that is parsing <code>lpCommandLine</code> and turning it into <code>args[]</code>. </p>\n\n<p>Where does this parsing code live? Is it part of the OS (inside <code>CreateProcess</code>), or is it part of each languages \"runtime\" (code that runs inside the new process before <code>main</code> is called)?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "adfs", "ws-federation"], "comments": [{"owner": {"reputation": 337, "user_id": 7014552, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/017ad89bcdcc57ae9ef465cd9f6d0e18?s=128&d=identicon&r=PG&f=1", "display_name": "JReno", "link": "https://stackoverflow.com/users/7014552/jreno"}, "edited": false, "score": 0, "creation_date": 1568869514, "post_id": 58001674, "comment_id": 102412939, "body": "Isn&#39;t the controller just based on the URL? So website/Account will be calling the AccountController. Set the RedirectUri of the SignIn function to website/Home or use Response.Redirect(&quot;website/Home&quot;)"}, {"owner": {"reputation": 3800, "user_id": 1807452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PfAC9.jpg?s=128&g=1", "display_name": "Rahul Sharma", "link": "https://stackoverflow.com/users/1807452/rahul-sharma"}, "edited": false, "score": 0, "creation_date": 1568871413, "post_id": 58001674, "comment_id": 102413484, "body": "Or you can simply do a <code>return RedirectToAction(&quot;Main&quot;, &quot;Home &quot;);</code> once you successfully authenticate a user in your <code>SignIn</code> method."}, {"owner": {"reputation": 3800, "user_id": 1807452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PfAC9.jpg?s=128&g=1", "display_name": "Rahul Sharma", "link": "https://stackoverflow.com/users/1807452/rahul-sharma"}, "edited": false, "score": 0, "creation_date": 1569214784, "post_id": 58001674, "comment_id": 102509231, "body": "Did you get this resolved?"}, {"owner": {"reputation": 109, "user_id": 3948726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Eimog.jpg?s=128&g=1", "display_name": "Juan Pinz&#243;n", "link": "https://stackoverflow.com/users/3948726/juan-pinz%c3%b3n"}, "reply_to_user": {"reputation": 3800, "user_id": 1807452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PfAC9.jpg?s=128&g=1", "display_name": "Rahul Sharma", "link": "https://stackoverflow.com/users/1807452/rahul-sharma"}, "edited": false, "score": 0, "creation_date": 1569253321, "post_id": 58001674, "comment_id": 102528002, "body": "@RahulSharma no, reading about it, I found that you can change the url after logging in the configuration of the relying party trust, but no more"}], "owner": {"reputation": 109, "user_id": 3948726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Eimog.jpg?s=128&g=1", "display_name": "Juan Pinz&#243;n", "link": "https://stackoverflow.com/users/3948726/juan-pinz%c3%b3n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 810, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568847208, "creation_date": 1568847208, "question_id": 58001674, "link": "https://stackoverflow.com/questions/58001674/how-to-change-redirect-controller-after-login-with-adfs-asp-net-mvc", "title": "How to change redirect controller after login with ADFS ASP.NET MVC?", "body": "<p>I am performing federated authentication in an ASP.NET MVC application, for which I use the following configuration code</p>\n\n<pre><code>public class Startup\n{\n    public void Configuration(IAppBuilder app)\n    {\n        // Para obtener m\u00e1s informaci\u00f3n sobre c\u00f3mo configurar la aplicaci\u00f3n, visite https://go.microsoft.com/fwlink/?LinkID=316888\n        ConfigureAuth(app);\n    }\n\n    public void ConfigureAuth(IAppBuilder app)\n    {\n        app.UseCookieAuthentication(\n        new CookieAuthenticationOptions\n        {\n            AuthenticationType = CookieAuthenticationDefaults.AuthenticationType\n        });\n        app.UseWsFederationAuthentication(\n        new WsFederationAuthenticationOptions\n        {\n            MetadataAddress = \"https://example.com/FederationMetadata/2007-06/FederationMetadata.xml\",\n            Wtrealm = \"https://example.com/appId\",\n        });\n\n        app.SetDefaultSignInAsAuthenticationType(CookieAuthenticationDefaults.AuthenticationType);\n    }\n}\n</code></pre>\n\n<p>AccountController</p>\n\n<pre><code>public class AccountController : Controller\n{\n    public void SignIn()\n    {\n        if (!Request.IsAuthenticated)\n        {\n            HttpContext.GetOwinContext().Authentication.Challenge(new AuthenticationProperties { RedirectUri = \"/\" }, \n                WsFederationAuthenticationDefaults.AuthenticationType);\n        }\n    }\n\n    public void SignOut()\n    {\n        string callbackUrl = Url.Action(\"SignOutCallback\", \"Account\", routeValues: null, protocol: Request.Url.Scheme);\n\n        HttpContext.GetOwinContext().Authentication.SignOut(\n            new AuthenticationProperties { RedirectUri = callbackUrl },\n            WsFederationAuthenticationDefaults.AuthenticationType, CookieAuthenticationDefaults.AuthenticationType);\n    }\n\n    public ActionResult SignOutCallback()\n    {\n        if (Request.IsAuthenticated)\n        {\n            // Redirigir a la p\u00e1gina principal si el usuario est\u00e1 autenticado.\n            return RedirectToAction(\"Index\", \"Inicio\");\n        }\n\n        return View();\n    }\n}\n</code></pre>\n\n<p>The login is successful, but, what I want to do is that at the moment of logging in, go to another controller, for example: Home / Main.</p>\n\n<p>The problem is that I don't understand how the mvc project works with federated authentication, how it knows what action or controller it should go to after logging in, since no configuration of that is done.</p>\n\n<p><strong>How can I change or configure the controller to go to after the successful login?</strong></p>\n"}, {"tags": ["c#", "console"], "comments": [{"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1568847299, "post_id": 58001663, "comment_id": 102408982, "body": "Q: What do you see when you step through the MSVS debugger?"}, {"owner": {"reputation": 107, "user_id": 11942479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f597d19efd9b7d1a7c9635b3051454?s=128&d=identicon&r=PG&f=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/11942479/isaac"}, "reply_to_user": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1568847384, "post_id": 58001663, "comment_id": 102409005, "body": "returns me this error: System.NullReferenceException: &#39;Object reference not defined for an instance of an object.&#39; System.Linq.Enumerable.LastOrDefault &lt;TSource&gt; (...) returned null."}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1568847523, "post_id": 58001663, "comment_id": 102409034, "body": "No!  I meant to step through the debugger <i>to see which variable is &quot;null&quot;</i>!  I suspect probably &quot;line&quot;...  Another thing you can try is using temp variable. EXAMPLE: <code>Group tmpGroup = groups.LastOrDefault();</code>  &quot;tmpGroup&quot; might easily be null sometimes :)"}, {"owner": {"reputation": 107, "user_id": 11942479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f597d19efd9b7d1a7c9635b3051454?s=128&d=identicon&r=PG&f=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/11942479/isaac"}, "reply_to_user": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1568847606, "post_id": 58001663, "comment_id": 102409047, "body": "Got it, is giving error in the else block"}], "answers": [{"tags": [], "owner": {"reputation": 5838, "user_id": 1075282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70efe94a6c2237ec96f429402a03a27d?s=128&d=identicon&r=PG", "display_name": "Renat", "link": "https://stackoverflow.com/users/1075282/renat"}, "is_accepted": false, "score": 0, "last_activity_date": 1568858206, "creation_date": 1568858206, "answer_id": 58002696, "question_id": 58001663, "link": "https://stackoverflow.com/questions/58001663/error-grouping-multiple-groups-in-one-list/58002696#58002696", "title": "Error grouping multiple groups in one list", "body": "<p>You may try:</p>\n\n<pre><code> groups.LastOrDefault()?.Sub?.Add(line); \n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 11942479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f597d19efd9b7d1a7c9635b3051454?s=128&d=identicon&r=PG&f=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/11942479/isaac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1568858206, "creation_date": 1568847101, "last_edit_date": 1568847546, "question_id": 58001663, "link": "https://stackoverflow.com/questions/58001663/error-grouping-multiple-groups-in-one-list", "title": "Error grouping multiple groups in one list", "body": "<p>I have some sets and the name of these sets will be random, it won't be sequential. The challenge I'm facing is to keep these sets on a list</p>\n\n<p>But first I created a class that will have the following values \u200b\u200bto store this information:</p>\n\n<pre><code> public class Group\n {\n     public string Name { get; set; }\n     public List&lt;string&gt; Sub { get; set; }\n }\n</code></pre>\n\n<p>Next I have the information below:</p>\n\n<pre><code>RandomName1:\n- line1\n- line2\n- line3\n\nRandomName4:\n- line1\n- line2\n- line3\n\nRandomName3:\n- line1\n- line2\n- line3\n</code></pre>\n\n<p>I have already tried to do the following to group these items above into the Group class:</p>\n\n<pre><code>string[] lines = File.ReadAllLines(\"groups.yml\",Encoding.Default);\n        List&lt;Group&gt; groups = new List&lt;Group&gt;();\n        Regex rgGroup = new Regex(@\".*?\\:\");\n        for (int i = 0; i &lt; lines.Length; i++)\n        {\n            string line = lines[i];\n            if (rgGroup.IsMatch(line))\n            {\n                groups.Add(new Group() { Name = line, Sub = new List&lt;string&gt;() });\n            }\n            else\n            {\n                 groups.LastOrDefault().Sub.Add(line);                    \n            }\n        }\n</code></pre>\n\n<p>The code is returning me this error:</p>\n\n<blockquote>\n  <p>System.NullReferenceException: 'Object reference not defined for an\n  instance of an object.' System.Linq.Enumerable.LastOrDefault \n  (...) returned null.</p>\n</blockquote>\n\n<p>. Looks like I made some inaccuracies in the code, why is this error showing up? Is there any other way to do this?</p>\n"}, {"tags": ["c#", "winforms", "exception", "io", "data-visualization"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1568844970, "post_id": 58001386, "comment_id": 102408426, "body": "It would be awesome if you could share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 2, "creation_date": 1568845021, "post_id": 58001386, "comment_id": 102408440, "body": "<code>when chart.SaveImage completes</code> It is synchronous. It completes when the method stops executing. Have you tried disabling your antivirus?"}, {"owner": {"reputation": 1453, "user_id": 378628, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a05b6891227acbc9c31e5bcbfa12f4ad?s=128&d=identicon&r=PG", "display_name": "Freakishly", "link": "https://stackoverflow.com/users/378628/freakishly"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1568850608, "post_id": 58001386, "comment_id": 102409617, "body": "Thank you. It was a filename collision bug, I was writing to the same filename \ud83e\udd26\u200d\u2642\ufe0f"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1568852509, "post_id": 58001386, "comment_id": 102409905, "body": "This is why a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is critical @Freakishly. ;)"}], "answers": [{"comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1568849581, "post_id": 58001638, "comment_id": 102409390, "body": "Did it work even if you commented out the <code>Dispose</code>?"}, {"owner": {"reputation": 1453, "user_id": 378628, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a05b6891227acbc9c31e5bcbfa12f4ad?s=128&d=identicon&r=PG", "display_name": "Freakishly", "link": "https://stackoverflow.com/users/378628/freakishly"}, "edited": false, "score": 0, "creation_date": 1568850692, "post_id": 58001638, "comment_id": 102409630, "body": "Yes it will work. It wasn&#39;t the Dispose that was tripping me up, it was writing to the same filename. I will post a better question with clearer code next time."}], "tags": [], "owner": {"reputation": 305, "user_id": 12042953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wQYru.png?s=128&g=1", "display_name": "Ndubuisi Jr", "link": "https://stackoverflow.com/users/12042953/ndubuisi-jr"}, "is_accepted": false, "score": 0, "last_activity_date": 1568846931, "creation_date": 1568846931, "answer_id": 58001638, "question_id": 58001386, "link": "https://stackoverflow.com/questions/58001386/how-can-i-tell-when-the-current-process-is-done-with-an-io-operation-specifical/58001638#58001638", "title": "How can I tell when the current process is done with an IO operation, specifically chart.SaveImage?", "body": "<p>That error simply means some process is still running on or with the file. It will make sense to call dispose on the chart object after saving.</p>\n\n<pre><code> var chart=new Chart(); // creating and plotting chart.\n chart.SaveImage(\"image.png\", ChartImageFormat.Png);\n chart.Dispose();      // Release all resources that has to do with the image.\n</code></pre>\n\n<p>When I performed a simple operation with the saved image using the code below, everything worked just fine.</p>\n\n<pre><code>var stream = File.Open(\"image.png\",FileMode.Open);\nConsole.WriteLine(stream.Length); // Output: 1068.\n</code></pre>\n"}], "owner": {"reputation": 1453, "user_id": 378628, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a05b6891227acbc9c31e5bcbfa12f4ad?s=128&d=identicon&r=PG", "display_name": "Freakishly", "link": "https://stackoverflow.com/users/378628/freakishly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1568846931, "creation_date": 1568844909, "question_id": 58001386, "link": "https://stackoverflow.com/questions/58001386/how-can-i-tell-when-the-current-process-is-done-with-an-io-operation-specifical", "title": "How can I tell when the current process is done with an IO operation, specifically chart.SaveImage?", "body": "<p>In my console app, I create a chart using the System.Windows.Forms.DataVisualization.Charting.Chart class. I am able to create the chart from my data and save the image using this call:</p>\n\n<pre><code>chart.SaveImage(chartImagePath, ChartImageFormat.Png);\n</code></pre>\n\n<p>Most of the tutorials online cover the saving of the image, which I have accomplished. The problem arises when I try to use this image that was just created. I want to save it to an attachments list, so I call this function: </p>\n\n<pre><code>internal static Attachment GetAttachment(string chartImagePath, string contentName)\n{\n    var attachment = new Attachment(chartImagePath);\n    attachment.ContentDisposition.Inline = true;\n    attachment.ContentDisposition.DispositionType = DispositionTypeNames.Inline;\n    attachment.ContentId = contentName;\n    attachment.ContentType.MediaType = \"image/png\";\n    attachment.ContentType.Name = Path.GetFileName(chartImagePath);\n    return attachment;\n}\n</code></pre>\n\n<p>The call to this function fails with an IOException: The process cannot access the file 'filename' because it is being used by another process.</p>\n\n<p>I have tried a couple of things: (1) checking for File.Exists(chartImagePath) before proceeding, but this doesn't help because the file does exist right after creation, but the process hasn't released it yet (2) using a retry pattern to swallow exceptions, 3 retries wasn't enough.</p>\n\n<p>I cannot find any documentation on when chart.SaveImage completes or if there is a function I can invoke asynchronously after that call completes. How can I fix this issue?</p>\n"}, {"tags": ["c#", "recursion", "button", "windows-forms-designer"], "comments": [{"owner": {"reputation": 6569, "user_id": 2309376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BddLg.png?s=128&g=1", "display_name": "Simply Ged", "link": "https://stackoverflow.com/users/2309376/simply-ged"}, "edited": false, "score": 1, "creation_date": 1568844656, "post_id": 58001268, "comment_id": 102408342, "body": "That&#39;s not a good idea. If you want to get repeated random data to update a field on a form then take a look at <a href=\"https://stackoverflow.com/a/23137100\">this answer</a> for more info"}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1568844658, "post_id": 58001268, "comment_id": 102408343, "body": "Polling is the term, not pulling. And the button is not the right tool for that. Use a timer. Ideally the Windows Forms timer. One button click starts the timer. Anotehr stops it. And every tick, you do your work. As long as you keep the invervall in the double digits at least, and the process is halfway quick, ther is not much to worry about."}], "answers": [{"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 2, "last_activity_date": 1568845838, "last_edit_date": 1568845838, "creation_date": 1568845452, "answer_id": 58001454, "question_id": 58001268, "link": "https://stackoverflow.com/questions/58001268/is-there-a-way-to-make-a-button-press-recursive-in-c-press-itself-again/58001454#58001454", "title": "Is there a way to make a button press recursive in C# (press itself again)?", "body": "<p>I think what you're looking for is the <code>Timer</code> control. You can set it to run at a certain interval, and define the code that runs at that interval. You can also control the starting and stopping of the timer, if you want to only start it when a button is pressed.</p>\n\n<p>For example, drop a <code>Timer</code> control on your form and try out this code:</p>\n\n<pre><code>private void Form1_Load(object sender, EventArgs e)\n{\n    // Set the interval to how often you want it to execute\n    timer1.Interval = (int)TimeSpan.FromSeconds(1).TotalMilliseconds;\n    // Set a method to run on every interval\n    timer1.Tick += Timer1_Tick;\n}\n\npublic void Start_Click(object sender, EventArgs e)\n{\n    // start or stop the timer\n    timer1.Enabled = !timer1.Enabled;\n\n    // Above we are just flipping the 'Enabled' property, but\n    // you could also call timer1.Start() (which is the same as \n    // setting 'Enabled = true') or timer1.Stop() (which is\n    // the same as setting 'Enabled = false')\n}\n\n// Put code in this method that should execute when the timer interval is reached\nprivate void Timer1_Tick(object sender, EventArgs e)\n{\n    var usage = new CpuUsage(); //placeholder class for getting the CPU use data\n    usage.setCPU(); //gets a random number\n    this.CPU.Text = usage.cpuUsage; //show the usage data on a textbox\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11926284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/273cda97dbd00cce98b6cba24edb2518?s=128&d=identicon&r=PG&f=1", "display_name": "RedXRed", "link": "https://stackoverflow.com/users/11926284/redxred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "closed_date": 1568846240, "answer_count": 1, "score": -1, "last_activity_date": 1568849654, "creation_date": 1568844063, "last_edit_date": 1568849654, "question_id": 58001268, "link": "https://stackoverflow.com/questions/58001268/is-there-a-way-to-make-a-button-press-recursive-in-c-press-itself-again", "closed_reason": "Duplicate", "title": "Is there a way to make a button press recursive in C# (press itself again)?", "body": "<p>I want to make a button run some code, then press itself again in Windows Forms. </p>\n\n<p>When I call the button itself I get the error: </p>\n\n<pre><code> System.StackOverflowException\n       HResult=0x800703E9\n       Source=&lt;Cannot evaluate the exception source&gt;\n       StackTrace:\n     &lt;Cannot evaluate the exception stack trace&gt;\n</code></pre>\n\n<p>I want to make a resource monitor program to get myself familiarized with <em>C#</em>. Right now I'm stuck at the string processing and displaying a constantly changing string. \nI'm using a randomly generated number as a placeholder, that I want to show and change permanently, imitating real data pulling.</p>\n\n<p>The code I have:</p>\n\n<pre><code>public void Start_Click(object sender, EventArgs e){\n      var usage =new CpuUsage(); //placeholder class for getting the CPU use data\n      usage.setCPU(); //gets a random number\n      this.CPU.Text = usage.cpuUsage; //show the usage data on a textbox\n      Start_Click(null, EventArgs.Empty); //call this button again here\n}\n</code></pre>\n\n<p>What I want to get look something like:</p>\n\n<ol>\n<li>Get data</li>\n<li>Show data using text box</li>\n<li>Redo this</li>\n</ol>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-mvc"], "comments": [{"owner": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "edited": false, "score": 0, "creation_date": 1568871189, "post_id": 58001231, "comment_id": 102413414, "body": "<i>&quot; find good data from id &quot;</i>  Do you mean to use id to get the data from  the <code>pokemonList </code> that is populated in <code>Index</code> method ?  <i>&quot; I do not have entity yet &quot;</i>  Does it mean that you did not save the data in the <code>Index</code> method to the database? What is the logic between view and controller ? Could you share the more details on the view ?"}, {"owner": {"reputation": 13, "user_id": 12082125, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212836008410086/picture?type=large", "display_name": "Alexandre Prod&#39;Hon", "link": "https://stackoverflow.com/users/12082125/alexandre-prodhon"}, "reply_to_user": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "edited": false, "score": 0, "creation_date": 1568880940, "post_id": 58001231, "comment_id": 102417851, "body": "Yes I have the Id of th selected Pokemon by a httpPost. My data are in the controller the data are not coming from A data base (sql)"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12082125, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212836008410086/picture?type=large", "display_name": "Alexandre Prod&#39;Hon", "link": "https://stackoverflow.com/users/12082125/alexandre-prodhon"}, "edited": false, "score": 0, "creation_date": 1568850418, "post_id": 58001902, "comment_id": 102409575, "body": "I cant acces to pokeList from action httpPost"}], "tags": [], "owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "is_accepted": false, "score": 0, "last_activity_date": 1568849457, "creation_date": 1568849457, "answer_id": 58001902, "question_id": 58001231, "link": "https://stackoverflow.com/questions/58001231/find-data-with-id-from-httppost/58001902#58001902", "title": "Find data with id from httpPost", "body": "<p>You can use LINQ to query the list for the Id you want.    </p>\n\n<pre><code>int PokemonId = 2; // input from http post    \nvar result = pokemonList.FirstOrDefault(p =&gt; p.Id == PokemonId);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 12082125, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212836008410086/picture?type=large", "display_name": "Alexandre Prod&#39;Hon", "link": "https://stackoverflow.com/users/12082125/alexandre-prodhon"}, "edited": false, "score": 0, "creation_date": 1568883280, "post_id": 58005967, "comment_id": 102419072, "body": "Thank you but is I put var = JsonConvert.SerializeObject(pokemonList).  This destroy my web site the design of it."}, {"owner": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "reply_to_user": {"reputation": 13, "user_id": 12082125, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212836008410086/picture?type=large", "display_name": "Alexandre Prod&#39;Hon", "link": "https://stackoverflow.com/users/12082125/alexandre-prodhon"}, "edited": false, "score": 0, "creation_date": 1568883784, "post_id": 58005967, "comment_id": 102419354, "body": "@AlexandreProd&#39;Hon, this is just to save the <code>pokemonlist</code> to <code>TempData</code>. The model returned by your page is still the <code>PokemonViewModel</code>. It should not be affected. If there is the error message, could you share it?"}, {"owner": {"reputation": 13, "user_id": 12082125, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212836008410086/picture?type=large", "display_name": "Alexandre Prod&#39;Hon", "link": "https://stackoverflow.com/users/12082125/alexandre-prodhon"}, "edited": false, "score": 0, "creation_date": 1568884366, "post_id": 58005967, "comment_id": 102419675, "body": "This is my website with var json ... <a href=\"https://ibb.co/McmTmg0\" rel=\"nofollow noreferrer\">ibb.co/McmTmg0</a>   /////  and this is my website without var json .... <a href=\"https://ibb.co/7n1FG0T\" rel=\"nofollow noreferrer\">ibb.co/7n1FG0T</a>"}, {"owner": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "reply_to_user": {"reputation": 13, "user_id": 12082125, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212836008410086/picture?type=large", "display_name": "Alexandre Prod&#39;Hon", "link": "https://stackoverflow.com/users/12082125/alexandre-prodhon"}, "edited": false, "score": 0, "creation_date": 1568885356, "post_id": 58005967, "comment_id": 102420197, "body": "What is the design of the related views(Index view and partial view)? Did you press F12 to use browser developer tools to check if errors occurred?"}, {"owner": {"reputation": 13, "user_id": 12082125, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212836008410086/picture?type=large", "display_name": "Alexandre Prod&#39;Hon", "link": "https://stackoverflow.com/users/12082125/alexandre-prodhon"}, "edited": false, "score": 0, "creation_date": 1568885823, "post_id": 58005967, "comment_id": 102420447, "body": "this is when I use your code :  <a href=\"https://ibb.co/3rQFCjd\" rel=\"nofollow noreferrer\">ibb.co/3rQFCjd</a> ////// The problem come only when I use TempData not var json = ..."}, {"owner": {"reputation": 13, "user_id": 12082125, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212836008410086/picture?type=large", "display_name": "Alexandre Prod&#39;Hon", "link": "https://stackoverflow.com/users/12082125/alexandre-prodhon"}, "edited": false, "score": 0, "creation_date": 1568893933, "post_id": 58005967, "comment_id": 102424935, "body": "The problem is the list stocked in TempData. When I remove this ligne everything go back to normal but I still cant access to PokemonList to my httpPost action..."}, {"owner": {"reputation": 13, "user_id": 12082125, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212836008410086/picture?type=large", "display_name": "Alexandre Prod&#39;Hon", "link": "https://stackoverflow.com/users/12082125/alexandre-prodhon"}, "edited": false, "score": 0, "creation_date": 1568894503, "post_id": 58005967, "comment_id": 102425242, "body": "I just saw on internet I get error 500 when trying to put a List in Tempdata."}, {"owner": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "reply_to_user": {"reputation": 13, "user_id": 12082125, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212836008410086/picture?type=large", "display_name": "Alexandre Prod&#39;Hon", "link": "https://stackoverflow.com/users/12082125/alexandre-prodhon"}, "edited": false, "score": 0, "creation_date": 1568943615, "post_id": 58005967, "comment_id": 102444662, "body": "@AlexandreProd&#39;Hon , glad you resolve the issue.If you find my workaround is helpful , could you mark my reply as an answer ? Thanks a lot !"}, {"owner": {"reputation": 13, "user_id": 12082125, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212836008410086/picture?type=large", "display_name": "Alexandre Prod&#39;Hon", "link": "https://stackoverflow.com/users/12082125/alexandre-prodhon"}, "edited": false, "score": 0, "creation_date": 1568944663, "post_id": 58005967, "comment_id": 102444852, "body": "I don&#39;t know how to do it sorry."}], "tags": [], "owner": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "is_accepted": true, "score": 0, "last_activity_date": 1568878531, "creation_date": 1568878531, "answer_id": 58005967, "question_id": 58001231, "link": "https://stackoverflow.com/questions/58001231/find-data-with-id-from-httppost/58005967#58005967", "title": "Find data with id from httpPost", "body": "<p>You could use <code>TempData</code> to pass data across different requests .<a href=\"https://hassantariqblog.wordpress.com/2016/09/02/mvc-when-to-use-keep-vs-peek-in-asp-net-mvc/\" rel=\"nofollow noreferrer\">TempData</a> is used to pass data from current request to subsequent request (means redirecting from one page to another). It\u2019s life is very short and lies only till the target view is fully loaded. But you can persist data in TempData by calling Keep() method.</p>\n\n<p>Here is a simple working demo </p>\n\n<p>Model:</p>\n\n<pre><code>public class PokemonModel\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public string UsName { get; set; }\n    public string JpName { get; set; }\n    public string Type1 { get; set; }\n    public string Type2 { get; set; }\n    public int Rate { get; set; }\n\n    public string Image { get; set; }\n}\n\npublic class PokemonViewModel\n{\n    public List&lt;PokemonModel&gt; Pokemons { get; set; }\n}\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>public IActionResult PokemonList()\n    {\n        #region ListeDesPokemons\n        var pokemonList = new List&lt;PokemonModel&gt;();\n        var Id = 1;\n        var Img = 1;\n\n        pokemonList.Add(new PokemonModel() { Id = Id++, Name = \"Bulbizarre\", UsName = \"Bulbasaur(us)\", JpName = \"\u30d5\u30b7\u30ae\u30c0\u30cd(jp)\", Type1 = \"Plante\", Type2 = \"Poison\", Rate = 45, Image = \"https://eternia.fr/public/media/pokedex/artworks/00\" + Img++ + \".png\" });\n        pokemonList.Add(new PokemonModel() { Id = Id++, Name = \"Herbizarre\", UsName = \"Ivysaur(us)\", JpName = \"\u30d5\u30b7\u30ae\u30bd\u30a6(jp)\", Type1 = \"Plante\", Type2 = \"Poison\", Rate = 45, Image = \"https://eternia.fr/public/media/pokedex/artworks/00\" + Img++ + \".png\" });\n\n        #endregion\n\n        var model = new PokemonViewModel();\n\n        model.Pokemons = pokemonList;\n        var json = JsonConvert.SerializeObject(pokemonList);\n        TempData[\"pokemonJson\"] = json;\n\n        ViewBag.TotalPokemon1G = pokemonList.Count;\n\n        return View(model);\n    }\n\n    [HttpPost]\n    public IActionResult PokemonDetails(int PokemonId)\n    {\n        var pokemonJson = TempData[\"pokemonJson\"].ToString();\n        TempData.Keep(\"pokemonJson\");\n        var pokemonList = JsonConvert.DeserializeObject&lt;List&lt;PokemonModel&gt;&gt;(pokemonJson);\n        var pokemon = pokemonList.SingleOrDefault(p =&gt; p.Id == PokemonId);\n        return PartialView(\"_PokemonDetails\",pokemon);\n    }\n</code></pre>\n\n<p>View:</p>\n\n<pre><code>@model WebApplication1.Models.PokemonViewModel\n\n\n&lt;table class=\"table\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n        &lt;th&gt;\n            @Html.DisplayNameFor(model =&gt; model.Pokemons[0].Name)\n        &lt;/th&gt;\n        &lt;th&gt;\n            @Html.DisplayNameFor(model =&gt; model.Pokemons[0].JpName)\n        &lt;/th&gt;\n        &lt;th&gt;\n            @Html.DisplayNameFor(model =&gt; model.Pokemons[0].UsName)\n        &lt;/th&gt;\n\n        &lt;th&gt;&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n    @foreach (var item in Model.Pokemons)\n    {\n        &lt;tr&gt;\n            &lt;td&gt;\n\n                @Html.DisplayFor(modelItem =&gt; item.Name)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.JpName)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.UsName)\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;input hidden  asp-for=\"@item.Id\" /&gt;\n                &lt;a href=\"javascript:;\" class=\"btnclick\"&gt;PokemonDetails&lt;/a&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    }\n  &lt;/tbody&gt;\n&lt;/table&gt;\n\n&lt;div id=\"pokemon\"&gt;&lt;/div&gt;\n@section Scripts{ \n&lt;script type=\"text/javascript\"&gt;\n    $(\".btnclick\").click(function () {\n        var id = $(this).closest(\"td\").find(\"input\").val();\n        $.ajax({\n            type: \"post\",\n            url: \"/Home/PokemonDetails?PokemonId=\" + id,\n            success: function (result) {\n                $(\"#pokemon\").html(result);\n            }\n        });\n    });\n\n&lt;/script&gt;  \n}\n</code></pre>\n\n<p>PartialView</p>\n\n<pre><code>@model WebApplication1.Models.PokemonModel\n&lt;div&gt;\n&lt;hr /&gt;\n&lt;dl class=\"dl-horizontal\"&gt;\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.Id)\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.Id)\n    &lt;/dd&gt;\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.Name)\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.Name)\n    &lt;/dd&gt;\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.JpName)\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.JpName)\n    &lt;/dd&gt;\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.UsName)\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.UsName)\n    &lt;/dd&gt;\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.Type1)\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.Type1)\n    &lt;/dd&gt;\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.Type2)\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.Type2)\n    &lt;/dd&gt;\n    &lt;dt&gt;\n        @Html.DisplayNameFor(model =&gt; model.Rate)\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        @Html.DisplayFor(model =&gt; model.Rate)\n    &lt;/dd&gt;\n&lt;/dl&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 12082125, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212836008410086/picture?type=large", "display_name": "Alexandre Prod&#39;Hon", "link": "https://stackoverflow.com/users/12082125/alexandre-prodhon"}, "is_accepted": false, "score": 0, "last_activity_date": 1568899740, "last_edit_date": 1568899740, "creation_date": 1568898184, "answer_id": 58011634, "question_id": 58001231, "link": "https://stackoverflow.com/questions/58001231/find-data-with-id-from-httppost/58011634#58011634", "title": "Find data with id from httpPost", "body": "<p>Ok I made it here is the answer.</p>\n\n<p>My controller: </p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>public IActionResult Index()\n{\n    #region ListeDesPokemons\n\n    var pokemonList = new List&lt;PokemonModel&gt;();\n    var Id = 1;\n    var Img = 1;\n\n    pokemonList.Add(new PokemonModel() { Id = Id++, Name = \"Bulbizarre\", UsName = \"Bulbasaur(us)\", JpName = \"\u30d5\u30b7\u30ae\u30c0\u30cd(jp)\", Type1 = \"Plante\", Type2 = \"Poison\", Rate = 45, Image = \"https://eternia.fr/public/media/pokedex/artworks/00\" + Img++ + \".png\" });\n    pokemonList.Add(new PokemonModel() { Id = Id++, Name = \"Herbizarre\", UsName = \"Ivysaur(us)\", JpName = \"\u30d5\u30b7\u30ae\u30bd\u30a6(jp)\", Type1 = \"Plante\", Type2 = \"Poison\", Rate = 45, Image = \"https://eternia.fr/public/media/pokedex/artworks/00\" + Img++ + \".png\" });\n     var model = new PokemonViewModel();\n\n    model.Pokemons = pokemonList;\n\n    var json = JsonConvert.SerializeObject(pokemonList);\n\n    TempData[\"pokemonListJson\"] = json;\n    TempData.Keep(\"PokemonListJson\");\n\n    ViewBag.TotalPokemon1G = pokemonList.Count;\n\n    return View(model);\n}\n\n\n [HttpPost]\npublic IActionResult PokemonDetails(int pokemonId)\n{\n    if (TempData[\"pokemonListJson\"] != null)\n    {\n        if (string.IsNullOrEmpty(TempData[\"pokemonListJson\"].ToString()))\n        {\n            return null;\n        }\n    }\n\n    var pokemonListJson = TempData[\"pokemonListJson\"].ToString();\n    TempData.Keep(\"PokemonListJson\");\n\n    var pokemonList = JsonConvert.DeserializeObject&lt;List&lt;PokemonModel&gt;&gt;(pokemonListJson);\n    var selectedPokemon = pokemonList.SingleOrDefault(p =&gt; p.Id == pokemonId);\n\n    if (selectedPokemon != null)\n    {\n        return PartialView(\"_PokemonDetails\", selectedPokemon);\n    }\n\n    return null;\n}\n</code></pre>\n\n<p>My partial View:</p>\n\n<pre class=\"lang-cshtml prettyprint-override\"><code>@model PokemonModel\n&lt;div id=\"taillDescriptionModal\" class=\"modal-dialog modal-dialog-scrollable mw-100 m-auto\" role=\"document\"&gt;\n    &lt;div class=\"modal-content\"&gt;\n        &lt;div class=\"modal-header\"&gt;\n            &lt;h5 id=\"modalLabelStack2\" class=\"modal-title font-weight-bold float-left\"&gt;n\u00b0 @Html.DisplayFor(model =&gt; model.Id)&lt;/h5&gt;\n            &lt;div id=\"nomPokemonStack2\" class=\"ml-auto\"&gt;\n                &lt;h5 id=\"Name\"&gt;@Html.DisplayFor(model =&gt; model.Name)&lt;/h5&gt;  &lt;h5 id=\"UsName\"&gt;@Html.DisplayFor(model =&gt; model.UsName)&lt;/h5&gt; &lt;h5 id=\"JpName\"&gt;@Html.DisplayFor(model =&gt; model.JpName)&lt;/h5&gt;\n            &lt;/div&gt;\n            &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"close\"&gt;\n                &lt;span class=\"text-danger\" aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n            &lt;/button&gt;\n        &lt;/div&gt;\n        &lt;div class=\"modal-body\"&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div class=\"col overflow-hidden\"&gt;\n                    &lt;img class=\"img-fluid rounded-lg\" src=\"@Html.DisplayFor(model =&gt; model.Image)\" alt=\"pokemon.Name\" /&gt;\n                &lt;/div&gt;\n                &lt;div class=\"col\"&gt;\n                    &lt;span&gt;Type : &lt;/span&gt;\n                    &lt;div class=\"col text-white\"&gt;\n                        &lt;span class=\"@Html.DisplayFor(model =&gt; model.Type1) badge\"&gt;@Html.DisplayFor(model =&gt; model.Type1)&lt;/span&gt;\n                        &lt;span class=\"@Html.DisplayFor(model =&gt; model.Type2) badge\"&gt;@Html.DisplayFor(model =&gt; model.Type2)&lt;/span&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"modal-footer\"&gt;\n            &lt;button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"&gt;Fermer&lt;/button&gt;\n            &lt;button type=\"submit\" class=\"btn btn-success\" onclick=\"afficheIdSurIndex(@Html.DisplayFor(model =&gt; model.Rate))\"&gt; Choisir&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n    function afficheIdSurIndex(selectedPokemonRate) {\n        $.ajax({\n            url: '/Pokedex/Calcul/',\n            type: 'POST',\n            dataType: \"html\",\n            data: { \"selectedPokemonRate\": selectedPokemonRate },\n            success: function () {\n                //enlever la classe pour afficher le contenu de la div\n                $('#Test').removeClass('text-hide');\n                //$('#Test').addClass('text-show');\n\n                var rateTxt = 'Taux de Capture du pok\u00e9mon s\u00e9lectionn\u00e9 : ' + selectedPokemonRate\n                //vider le contenu de la div\n                $(\"#Test\").empty();\n                //\u00e9crire dans la div\n                $(\"#Test\").append(rateTxt);\n\n                //fermer les modals\n                $('#pokemonDetails').modal('hide');\n                $('#choixPokemon').modal('hide');\n            }\n        })\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>My Index page:</p>\n\n<pre class=\"lang-cshtml prettyprint-override\"><code>@model PokemonViewModel\n@{\n    ViewData[\"Title\"] = \"Pokedex\";\n    Layout = \"~/Views/Shared/_LayoutPokemon.cshtml\";\n    &lt;script src=\"~/lib/jquery/dist/jquery.min.js\"&gt;&lt;/script&gt;\n\n}\n\n&lt;h1&gt;Pokedex&lt;/h1&gt;\n\n&lt;!-- Button choix Pok\u00e9mon modal --&gt;\n&lt;div class=\"container\"&gt;\n    &lt;button type=\"button\" class=\"btn btn-primary mb-2\" data-toggle=\"modal\" data-target=\"#choixPokemon\"&gt;\n        Pokemon 1G\n    &lt;/button&gt;\n&lt;/div&gt;\n\n&lt;!-- Modal choix Pok\u00e9mon --&gt;\n&lt;div id=\"choixPokemon\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"choixPokemonModalLabel\" aria-hidden=\"true\"&gt;\n    &lt;div id=\"modalWitdh\" class=\"modal-dialog modal-dialog-scrollable mw-100 m-auto\" role=\"document\"&gt;\n        &lt;div class=\"modal-content\"&gt;\n            &lt;div class=\"modal-header\"&gt;\n                &lt;h5 id=\"choixPokemonModalLabel\" class=\"modal-title\"&gt;Pok\u00e9dex premi\u00e8re g\u00e9n\u00e9ration, @ViewBag.TotalPokemon1G Pok\u00e9mons &lt;/h5&gt;\n                &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"&gt;\n                    &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n                &lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div class=\"modal-body text-center\"&gt;\n                &lt;div class=\"row\"&gt;\n                    @foreach (var pokemon in Model.Pokemons)\n                    {\n                        &lt;div class=\"col\"&gt;\n                            &lt;button type=\"submit\" class=\"btn\" onclick=\"getInfo(@pokemon.Id)\"&gt;\n                                &lt;div class=\"card text-center rounded-lg\"&gt;\n                                    &lt;div id=\"tailleCard\" class=\"card-body\"&gt;\n                                        &lt;h5 id=\"cardTitle\" class=\"card-title\"&gt;n\u00b0@pokemon.Id &lt;br /&gt; @pokemon.Name&lt;/h5&gt;\n                                        &lt;img id=\"tailleImg\" src=\"@pokemon.Image\" alt=\"@pokemon.Name\" /&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                            &lt;/button&gt;\n                        &lt;/div&gt;\n                    }\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"modal-footer\"&gt;\n                &lt;button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"&gt;Fermer&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;!-- Modal Description du pok\u00e9mon choisi --&gt;\n&lt;div id=\"pokemonDetails\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"descriptionPokemonModalLabel\" aria-hidden=\"true\"&gt;\n    @*Contenue dans vu partiel _PokemonDetails*@\n&lt;/div&gt;\n\n@*Div de collection des donn\u00e9s du pok\u00e9mon selectionn\u00e9 dans le deuxi\u00e8me modal.(donn\u00e9es provenant de la vue partiel _PokemonDetails) *@\n&lt;div class=\"row\"&gt;\n    &lt;div class=\"col\"&gt;\n        &lt;h6 id=\"Test\" class=\"text-hide\"&gt;&lt;/h6&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n@*button script pour collecter les donn\u00e9es du pok\u00e9mon s\u00e9lectionn\u00e9 dans le 1er modal*@\n&lt;script&gt;\n    function getInfo(pokemonId) {\n        event.preventDefault;\n        console.log(pokemonId);\n\n        $.ajax({\n            url: '/Pokedex/PokemonDetails/',\n            type: 'POST',\n            dataType: \"html\",\n            data: { \"pokemonId\": pokemonId },\n            success: function (response) {\n\n                $(\"#pokemonDetails\").html(response);\n                $('#pokemonDetails').modal('show');\n            }\n        })\n\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>In the startup page I need to add:</p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>services.AddMemoryCache();\nservices.AddSession();\nservices.AddMvc().AddSessionStateTempDataProvider();\n</code></pre>\n\n<p>I put everything here for help anyone who need help.</p>\n"}, {"comments": [{"owner": {"reputation": 156, "user_id": 11949264, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sWerH0eTbVs/AAAAAAAAAAI/AAAAAAAAABc/SqYeiOjPY8g/photo.jpg?sz=128", "display_name": "Nhien", "link": "https://stackoverflow.com/users/11949264/nhien"}, "reply_to_user": {"reputation": 13, "user_id": 12082125, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212836008410086/picture?type=large", "display_name": "Alexandre Prod&#39;Hon", "link": "https://stackoverflow.com/users/12082125/alexandre-prodhon"}, "edited": false, "score": 0, "creation_date": 1568909339, "post_id": 58012353, "comment_id": 102434008, "body": "which lines do you change ?"}, {"owner": {"reputation": 13, "user_id": 12082125, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212836008410086/picture?type=large", "display_name": "Alexandre Prod&#39;Hon", "link": "https://stackoverflow.com/users/12082125/alexandre-prodhon"}, "edited": false, "score": 0, "creation_date": 1568909891, "post_id": 58012353, "comment_id": 102434244, "body": "A lot look I post an answer"}], "tags": [], "owner": {"reputation": 156, "user_id": 11949264, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sWerH0eTbVs/AAAAAAAAAAI/AAAAAAAAABc/SqYeiOjPY8g/photo.jpg?sz=128", "display_name": "Nhien", "link": "https://stackoverflow.com/users/11949264/nhien"}, "is_accepted": false, "score": 0, "last_activity_date": 1568900283, "creation_date": 1568900283, "answer_id": 58012353, "question_id": 58001231, "link": "https://stackoverflow.com/questions/58001231/find-data-with-id-from-httppost/58012353#58012353", "title": "Find data with id from httpPost", "body": "<p>add a breakpoint in action PokemonDetails:</p>\n\n<pre><code>[HttpPost]\n        public IActionResult PokemonDetails(int pokemonId)\n        { // add break point here\n</code></pre>\n\n<p>when the break point is hit here, did you get pokemonId ?</p>\n"}], "owner": {"reputation": 13, "user_id": 12082125, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212836008410086/picture?type=large", "display_name": "Alexandre Prod&#39;Hon", "link": "https://stackoverflow.com/users/12082125/alexandre-prodhon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 58005967, "answer_count": 4, "score": 0, "last_activity_date": 1568900283, "creation_date": 1568843823, "last_edit_date": 1568848172, "question_id": 58001231, "link": "https://stackoverflow.com/questions/58001231/find-data-with-id-from-httppost", "title": "Find data with id from httpPost", "body": "<p>I made a HttpPost :</p>\n\n<pre><code>[HttpPost]\npublic IActionResult PokemonDetails(int PokemonId)\n{\n\n    return PartialView(\"_PokemonDetails\");\n}\n</code></pre>\n\n<p>I want to find all the data from the Id in the http.\nthe datas are in my controller :</p>\n\n<pre><code>public IActionResult Index()\n{\n    #region ListeDesPokemons\n    var pokemonList = new List&lt;PokemonModel&gt;();\n    var Id = 1;\n    var Img = 1;\n\n    pokemonList.Add(new PokemonModel() { Id = Id++, Name = \"Bulbizarre\", UsName = \"Bulbasaur(us)\", JpName = \"\u30d5\u30b7\u30ae\u30c0\u30cd(jp)\", Type1 = \"Plante\", Type2 = \"Poison\", Rate = 45, Image = \"https://eternia.fr/public/media/pokedex/artworks/00\" + Img++ + \".png\" });\n    pokemonList.Add(new PokemonModel() { Id = Id++, Name = \"Herbizarre\", UsName = \"Ivysaur(us)\", JpName = \"\u30d5\u30b7\u30ae\u30bd\u30a6(jp)\", Type1 = \"Plante\", Type2 = \"Poison\", Rate = 45, Image = \"https://eternia.fr/public/media/pokedex/artworks/00\" + Img++ + \".png\" });\n\n    #endregion\n\n    var model = new PokemonViewModel();\n\n    model.Pokemons = pokemonList;\n\n    ViewBag.TotalPokemon1G = pokemonList.Count;\n\n    return View(model);\n}\n</code></pre>\n\n<p>find good data from id thank you.\nI do not have entity yet.</p>\n"}, {"tags": ["c#", "asp.net", "html-parsing", "html-agility-pack"], "answers": [{"comments": [{"owner": {"reputation": 1687, "user_id": 9357872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ae075f639ca9e1d235ed30685d18e3?s=128&d=identicon&r=PG&f=1", "display_name": "Evik Ghazarian", "link": "https://stackoverflow.com/users/9357872/evik-ghazarian"}, "edited": false, "score": 0, "creation_date": 1568846146, "post_id": 58001354, "comment_id": 102408699, "body": "Perfect! Thanks Jeff!"}, {"owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "edited": false, "score": 0, "creation_date": 1568869020, "post_id": 58001354, "comment_id": 102412810, "body": "what is the purpose of <i>.Cast&lt;HtmlNode&gt;</i> please? I see it referenced here: <a href=\"https://html-agility-pack.net/knowledge-base/655603/html-agility-pack---parsing-tables\" rel=\"nofollow noreferrer\">html-agility-pack.net/knowledge-base/655603/&hellip;</a>  but it doesn&#39;t specifically talk about what is being done. It is handling the LINQ-to-Objects conversion?"}, {"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "reply_to_user": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "edited": false, "score": 1, "creation_date": 1568917656, "post_id": 58001354, "comment_id": 102437631, "body": "@QHarr: Actually it seems like the cast call is unnecessary here. Maybe once upon a time, it was, it&#39;s been a long time since I last used HtmlAgilityPack, or I might be mixing up how other libraries behaved. If I&#39;m not mistaken, <code>HtmlNodeCollection</code> only implemented (non-generic) <code>IEnumerable</code> which doesn&#39;t work with linq. So the <code>IEnumerable</code> would have to be <code>Cast&lt;&gt;()</code> to <code>IEnumerable&lt;HtmlNode&gt;</code>. But I guess this has changed since I last remembered."}, {"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "reply_to_user": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "edited": false, "score": 1, "creation_date": 1568918823, "post_id": 58001354, "comment_id": 102438141, "body": "@QHarr: So it looks like the cast was needed in versions prior to 1.4. But we&#39;re now in 1.11 and that was a long time ago."}], "tags": [], "owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "is_accepted": true, "score": 2, "last_activity_date": 1568917669, "last_edit_date": 1568917669, "creation_date": 1568844685, "answer_id": 58001354, "question_id": 58001123, "link": "https://stackoverflow.com/questions/58001123/get-href-tag-inner-text-from-html-html-agility-pack/58001354#58001354", "title": "Get href tag inner text from html (html agility pack)", "body": "<p>You're effectively  just collecting the inner text of the nodes. Do this:</p>\n\n<pre><code>var texts = doc.DocumentNode\n    .SelectNodes(\"//a[@href]\")\n    .Select(n =&gt; n.InnerText)\n    .Distinct()\n    .ToList();\n</code></pre>\n"}], "owner": {"reputation": 1687, "user_id": 9357872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ae075f639ca9e1d235ed30685d18e3?s=128&d=identicon&r=PG&f=1", "display_name": "Evik Ghazarian", "link": "https://stackoverflow.com/users/9357872/evik-ghazarian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 0, "accepted_answer_id": 58001354, "answer_count": 1, "score": 0, "last_activity_date": 1568917669, "creation_date": 1568843093, "question_id": 58001123, "link": "https://stackoverflow.com/questions/58001123/get-href-tag-inner-text-from-html-html-agility-pack", "title": "Get href tag inner text from html (html agility pack)", "body": "<p>I am successfully extracting the file names from all href tags in the html below and add it to a list.</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;ul class=\"resourcelist\"&gt;\n    &lt;li&gt;&lt;a href=\"/upload/Article/07.pdf\" target=\"_blank\"&gt;&lt;img src=\"/assets/images/pdf.png\" /&gt; &lt;strong&gt;SPEC SHEET: &lt;/strong&gt; d07&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"/upload/Article/73.pdf\" target=\"_blank\"&gt;&lt;img src=\"/assets/images/pdf.png\" /&gt; &lt;strong&gt;ASSEMBLY SHEET: &lt;/strong&gt; d73&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"/upload/Article/75.pdf\" target=\"_blank\"&gt;&lt;img src=\"/assets/images/pdf.png\" /&gt; &lt;strong&gt;ASSEMBLY SHEET: &lt;/strong&gt; d75&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"/upload/Article/71.pdf\" target=\"_blank\"&gt;&lt;img src=\"/assets/images/pdf.png\" /&gt; &lt;strong&gt;INSTALLATION SHEET: &lt;/strong&gt; d71&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p><strong>C# code to parse the html:</strong></p>\n\n<pre><code>    public List&lt;string&gt; LinksList = new List&lt;string&gt;();\n    public List&lt;string&gt; GetLinks()\n        {\n            var doc = new HtmlDocument();\n            doc.LoadHtml(GetProductDescription(\"TechnicalSpecifications\"));\n            HtmlNodeCollection nodes = doc.DocumentNode.SelectNodes(\"//a[@href]\");\n            foreach (var node in nodes)\n            {\n                var href = node.Attributes[\"href\"].Value.Split('/')[3];\n                if (!LinksList.Contains(href))\n                {\n                    LinksList.Add(href);\n                }\n\n            }\n            return LinksList;\n        }\n</code></pre>\n\n<p>Is there any possible way to target everything from the beginning  of <code>&lt;strong&gt;</code> + the text before closing a tag? (basically everything that is not in &lt; ... >)</p>\n\n<p>I have looked over tons of questions on SO nothing seems to be the answer for this.</p>\n\n<p><strong>Output example:</strong> </p>\n\n<p>SPEC SHEET: d07</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 243, "user_id": 11999903, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mArlBAHKa2sBcWE0ukXWnzf08owZejLx_C15-Ozhw=k-s128", "display_name": "Pedro Brito", "link": "https://stackoverflow.com/users/11999903/pedro-brito"}, "edited": false, "score": 0, "creation_date": 1568891146, "post_id": 58001058, "comment_id": 102423352, "body": "I don&#39;t know if i understood your question but, i would extract the id&#39;s to a list   List&lt;string&gt; values = JsonConvert.DeserializeObject&lt;List&lt;string&gt;&gt;(responseFromServ&zwnj;&#8203;er); And after that save them in a BD, InMemory, etc. Then you have the list of ID&#39;s and you can call the api"}, {"owner": {"reputation": 23, "user_id": 12055573, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDKtzkL4p7pSU9q1A_dl9c-tLE1X_E2hIBWBJtZgmg=k-s128", "display_name": "yaksh patel", "link": "https://stackoverflow.com/users/12055573/yaksh-patel"}, "reply_to_user": {"reputation": 243, "user_id": 11999903, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mArlBAHKa2sBcWE0ukXWnzf08owZejLx_C15-Ozhw=k-s128", "display_name": "Pedro Brito", "link": "https://stackoverflow.com/users/11999903/pedro-brito"}, "edited": false, "score": 0, "creation_date": 1568927726, "post_id": 58001058, "comment_id": 102441522, "body": "Hi I appreciate the response I will try this."}], "owner": {"reputation": 23, "user_id": 12055573, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDKtzkL4p7pSU9q1A_dl9c-tLE1X_E2hIBWBJtZgmg=k-s128", "display_name": "yaksh patel", "link": "https://stackoverflow.com/users/12055573/yaksh-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568889886, "creation_date": 1568842709, "last_edit_date": 1568889886, "question_id": 58001058, "link": "https://stackoverflow.com/questions/58001058/how-can-i-take-my-output-ids-and-use-it-to-get-more-informaiton", "title": "How can I take my output (IDs) and use it to Get more informaiton", "body": "<p>My first question got -4 votes rightfully. Hopefully I net positive with a better question.</p>\n\n<p>Using C#, I called hackernews API to Get the IDs of the top 500 stories.I receied the 500 ids (comma separated). \n- I want to learn how to use the IDs to call another API in order to retrieve the title and URL for each ID and store the output in a text file. \nThe next steps I would logically take are to\n- Store ID output in variable. (I believe its in the 'reader' variable in the code) \n- Use the stored values to somehow call the next API (I can insert each ID into the URL to get individual info but is there a Method i can use to indicate the code to get information from one id then move to the next if that makes sense?) '<a href=\"https://hacker-news.firebaseio.com/v0/item/\" rel=\"nofollow noreferrer\">https://hacker-news.firebaseio.com/v0/item/</a>.json?print=pretty'.</p>\n\n<p>I think I have to parse the data so I'm looking into that but any guidance or pointing I a direction is helpful. Thanks!</p>\n\n<p>This is the code I used to get the data. </p>\n\n<pre><code>using System;\nusing System.IO;\nusing System.Net;\n\nnamespace Request_API_Using_WebRequest\n{\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n\n            WebRequest.Create(\"https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty\");\n\n\n            WebResponse response = request.GetResponse();\n\n            Console.WriteLine(((HttpWebResponse)response).StatusDescription);\n\n            using (Stream dataStream = response.GetResponseStream())\n            {\n\n                StreamReader reader = new StreamReader(dataStream);\n\n                string responseFromServer = reader.ReadToEnd();\n\n                Console.WriteLine(responseFromServer);\n            }\n            //close the response.... does this close the prompt?\n            response.Close();\n            Console.ReadLine();\n\n\n        }\n    }\n}\n\n\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "msbuild", "roslyn"], "comments": [{"owner": {"reputation": 77196, "user_id": 784387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acd8ef9d33b72c888c544378a59be2b?s=128&d=identicon&r=PG", "display_name": "Martin Ullrich", "link": "https://stackoverflow.com/users/784387/martin-ullrich"}, "edited": false, "score": 0, "creation_date": 1568845183, "post_id": 58001040, "comment_id": 102408489, "body": "Why not migrate to a web application project in the first place?"}, {"owner": {"reputation": 3852, "user_id": 155191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7azq.jpg?s=128&g=1", "display_name": "Leandro T. C. Melo", "link": "https://stackoverflow.com/users/155191/leandro-t-c-melo"}, "reply_to_user": {"reputation": 77196, "user_id": 784387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acd8ef9d33b72c888c544378a59be2b?s=128&d=identicon&r=PG", "display_name": "Martin Ullrich", "link": "https://stackoverflow.com/users/784387/martin-ullrich"}, "edited": false, "score": 0, "creation_date": 1568902602, "post_id": 58001040, "comment_id": 102430283, "body": "@MartinUllrich I don&#39;t think that it&#39;s a good <i>selling approach</i> that you tell your clients that they need to refactor their project in order to use the tool you provide."}], "owner": {"reputation": 3852, "user_id": 155191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7azq.jpg?s=128&g=1", "display_name": "Leandro T. C. Melo", "link": "https://stackoverflow.com/users/155191/leandro-t-c-melo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1568843997, "creation_date": 1568842635, "last_edit_date": 1568843997, "question_id": 58001040, "link": "https://stackoverflow.com/questions/58001040/building-project-less-no-csproj-web-site-project-wsp-with-roslyn-not", "title": "Building &quot;project-less&quot; (no `.csproj`) Web Site Project (WSP) with Roslyn - not supported by MSBuildWorkspace", "body": "<p>We have a Roslyn-based static analysis tool. To build a C# project, either through an <code>.sln</code> or <code>.csproj</code> file, we use the <code>MSBuildWorkspace</code>. In this scenario, everything works well.</p>\n\n<p>Recently, I bumped into an old-style <a href=\"https://devblogs.microsoft.com/aspnet/converting-a-web-site-project-to-a-web-application-project/\" rel=\"nofollow noreferrer\">Web Site Project (WSP)</a>, one that does <strong>not</strong> contain a <code>.csproj</code> - pages are compiled on-demand by the server (unless if <a href=\"https://docs.microsoft.com/en-us/aspnet/web-forms/overview/older-versions-getting-started/deploying-web-site-projects/precompiling-your-website-cs\" rel=\"nofollow noreferrer\">precompiled</a>). Not surprisingly, the <code>MSBuildWorkspace</code> doesn't support such \"project-less\" projects, as confirmed by <a href=\"https://stackoverflow.com/questions/25070323/roslyn-workspace-opensolutionasync-projects-always-empty\">item 2 in this reply</a>.</p>\n\n<p>The difficulty now is to feed the build with the necessary dependencies/assemblies. To deal with such use case, our static analysis tool offers a flag like <code>-I path/to/dll</code> so that users can specify directories where to find those DLLs - and I create <code>MetadataRereferences</code> for them. While this approach works, it doesn't come with the best user-experience, because the user is not always a developer and might not know all the locations/details.</p>\n\n<p>I'd like to ask whether anyone is aware of an alternative approach to build a project-less Web Site Projects where we could \"instruct\"/setup Roslyn to mimic the process done by an actual web server to compile the <code>aspx.cs</code> files?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["c#", "unit-testing", ".net-core", "moq"], "comments": [{"owner": {"reputation": 6455, "user_id": 2363967, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e456a6a8bd35a0e65c22d202b48ccfa4?s=128&d=identicon&r=PG", "display_name": "Andrew Williamson", "link": "https://stackoverflow.com/users/2363967/andrew-williamson"}, "edited": false, "score": 0, "creation_date": 1568842640, "post_id": 58001010, "comment_id": 102407824, "body": "Specify the type arguments explicitly, i.e. <code>mock.Setup(b =&gt; b.HttpPost&lt;CustomDataModelRequest, CustomDataModelResponse&gt;(It.IsAny&lt;string&gt;(), It.IsAny &lt;CustomDataModelRequest&gt;(), null)).ReturnsAsync(...)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 48582, "user_id": 383710, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a139d0f3bf5fbce8838eee134b28c969?s=128&d=identicon&r=PG", "display_name": "DaveShaw", "link": "https://stackoverflow.com/users/383710/daveshaw"}, "is_accepted": true, "score": 1, "last_activity_date": 1568843620, "last_edit_date": 1568843620, "creation_date": 1568843083, "answer_id": 58001120, "question_id": 58001010, "link": "https://stackoverflow.com/questions/58001010/net-core-moq-method-with-generic-class-t-and-parameters/58001120#58001120", "title": "Net Core: Moq Method with Generic Class T and Parameters", "body": "<p>You need to supply the generic arguments to the <code>HttpPost</code> in the Setup, for example:</p>\n\n<pre><code>//                           T                         TV\n.Setup(b =&gt; b.HttpPost&lt;CustomDataModelRequest, CustomDataModelResponse&gt;(\n  It.IsAny&lt;string&gt;(), \n  It.IsAny&lt;CustomDataModelRequest&gt;(), \n  null))\n</code></pre>\n\n<p>As well as passing a value for the optional parameter.</p>\n\n<p>For the <code>Return</code> you can use:</p>\n\n<pre><code>.ReturnsAsync(new CustomDataModelResponse());\n</code></pre>\n\n<p>Then you can call it like so:</p>\n\n<pre><code>var result = await mock.Object.HttpPost&lt;CustomDataModelRequest, CustomDataModelResponse&gt;(\"\", new CustomDataModelRequest(), \"\");\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11973685"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 58001120, "answer_count": 1, "score": 0, "last_activity_date": 1568845944, "creation_date": 1568842431, "last_edit_date": 1568845944, "question_id": 58001010, "link": "https://stackoverflow.com/questions/58001010/net-core-moq-method-with-generic-class-t-and-parameters", "title": "Net Core: Moq Method with Generic Class T and Parameters", "body": "<p>I am trying to Moq this method below. How would I moq a method with a Generic Class T? Below is method and currently attemping solution,</p>\n\n<p><strong>Method:</strong></p>\n\n<pre><code>    public async Task&lt;TV&gt; HttpPost&lt;T, TV&gt;(string url, T prm, string accessToken = null)\n    {\n        try\n        {\n            if ((accessToken ?? \"\").Length &gt; 0)\n                _client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(\"Bearer\", accessToken);\n            using (var result = await _client.PostAsJsonAsync(url, prm))\n            {\n                result.EnsureSuccessStatusCode();\n                using (var content = result.Content)\n                {\n                    var ret = await content.ReadAsJsonAsync&lt;TV&gt;();\n                    return ret;\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            var message = $\"Url: {url}, Data: {JsonConvert.SerializeObject(prm)}\";\n            ex.Data[\"Url\"] = message;\n            throw;\n        }\n    }\n</code></pre>\n\n<p><strong>Attempt:</strong></p>\n\n<pre><code>        var mock = new Mock&lt;HttpDataLayerUtilsAsync&gt;();\n        mock.Setup(b =&gt; b.HttpPost(It.IsAny&lt;string&gt;, It.IsAny &lt;CustomDataModelRequest&gt;).Returns..\n</code></pre>\n\n<p>Resource:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5311023/mocking-generic-method-call-for-any-given-type-parameter\">Mocking generic method call for any given type parameter</a></p>\n"}, {"tags": ["c#", ".net"], "answers": [{"tags": [], "owner": {"reputation": 4090, "user_id": 190042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5ZXq7.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/190042/jonathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1568842248, "creation_date": 1568842248, "answer_id": 58000967, "question_id": 58000820, "link": "https://stackoverflow.com/questions/58000820/method-for-populating-data-into-a-class-that-calls-api-endpoints-not-working/58000967#58000967", "title": "Method for populating data into a class that calls API endpoints not working", "body": "<p>In your <code>GetZendeskOrgID</code>, the <code>CompanyID</code> parameter is likely coming in empty. If you require that it have a value, and if you require that that value is a positive integer, you should put error checking into that method. Something like:</p>\n\n<pre><code>if(string.IsNullOrEmpty(CompanyID)){\n    throw new NullReferenceException(\"CompanyId cannot be Null\", CompanyID);\n}\nvar outNum = -1;\nvar companyIdInt = Int.TryParse(CompanyId, out outNum)? OutNum : -1\nif(companyIdInt&lt;0){\n    throw new Exception(\"CompanyId must be a number greater than -1\");\n}\n</code></pre>\n\n<p>Or something like that...</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 11958150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aea9022669e536e453d1d7e27bcd59?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Syed", "link": "https://stackoverflow.com/users/11958150/ali-syed"}, "edited": false, "score": 0, "creation_date": 1568906530, "post_id": 58001207, "comment_id": 102432630, "body": "I&#39;ve updated my question. I&#39;ve changed my method to use a lambda when assigning between the two classes, but I am getting an error that states:  System.AggregateException   HResult=0x80131500   Message=One or more errors occurred. (Self referencing loop detected for property &#39;Task&#39; with type &#39;System.Runtime.CompilerServices.AsyncTaskMethodBuilder<code>1+Asy&zwnj;&#8203;ncStateMachineBox</code>1[Z&zwnj;&#8203;endeskiMIS.Function1&zwnj;&#8203;+ZendeskPerson,Zende&zwnj;&#8203;skiMIS.Function1+&lt;&gt;c&zwnj;&#8203;+&lt;&lt;PersonQuery&gt;b__4_&zwnj;&#8203;0&gt;d]&#39;. Path &#39;[0].StateMachine.&lt;&gt;t__builder&#39;.)   Source=System.Private.CoreLib   StackTrace:"}], "tags": [], "owner": {"reputation": 238, "user_id": 7651879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a9f8040619afd20d3d771c4646822a7?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Ali", "link": "https://stackoverflow.com/users/7651879/muhammad-ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1568843627, "creation_date": 1568843627, "answer_id": 58001207, "question_id": 58000820, "link": "https://stackoverflow.com/questions/58000820/method-for-populating-data-into-a-class-that-calls-api-endpoints-not-working/58001207#58001207", "title": "Method for populating data into a class that calls API endpoints not working", "body": "<p>As error says it is not able to convert void to int because organization_id is expecting integer back form function GetZendeskOrgID()\nbut you are not returning anything from this function make it return int like this\nI am assuming that your response object has integer property so you will have to return it like this</p>\n\n<pre><code> public static async Task&lt;int&gt; GetZendeskOrgID(string CompanyID )\n\n    {\n        using (HttpClient client = new HttpClient())\n        {\n            client.DefaultRequestHeaders.Accept.Clear();\n            client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n            client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(\n                \"Basic\", \"YMUZlOFhS\");\n            var response = await client.GetAsync(\"https://zendesk.com/api/v2/organizations/search.json?external_id=\" + CompanyID);\n\n             return response.oganization_id;\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11958150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aea9022669e536e453d1d7e27bcd59?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Syed", "link": "https://stackoverflow.com/users/11958150/ali-syed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1568906419, "creation_date": 1568841340, "last_edit_date": 1568906419, "question_id": 58000820, "link": "https://stackoverflow.com/questions/58000820/method-for-populating-data-into-a-class-that-calls-api-endpoints-not-working", "title": "Method for populating data into a class that calls API endpoints not working", "body": "<p>I am trying to call a web api to get some JSON data and parse it into my c# class. I've gotten this part down, but I am having trouble with using the returned data, specifically a field and call a second web api with this field as a parameter and grab the returned data to complete my model. \nThe problem is that I get an error when trying to call the GetZendeskOrgID method and the error states that it cannot convert void to int. </p>\n\n<p>What would be the best way to approach this?\nThanks in advance,</p>\n\n<p>Code below:\nI've scrubbed sensitive fields with random data so no worries. </p>\n\n<pre><code>public static async Task PersonQuery()\n        {\n            using (var client = new HttpClient())\n            {\n                // Format headers\n                client.DefaultRequestHeaders.Accept.Clear();\n                client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n                // Request token, and append to headers\n                await AddiMISTokenToHeaders(client);\n                // Query HTTP Service                \n                var response = await client.GetAsync(imisBaseURL + \"api/IQA?queryName=$/RAEted\");\n                if (response.IsSuccessStatusCode)\n                {\n                    JObject result = JObject.Parse(await response.Content.ReadAsStringAsync());\n                    var customersJson = (JArray)result[\"Items\"][\"$values\"];\n                    var customers = new List&lt;IMISCustomer&gt;();\n                    foreach (JObject o in customersJson)\n                    {\n                        var customerJson = (JArray)o[\"Properties\"][\"$values\"];\n                        customers.Add(BuildiMISCustomer(customerJson));\n                    }\n                    if (customers.Count &gt;= 1)\n                    {\n\n\n                        var persons = customers.Select(async customer =&gt; new ZendeskPerson\n                        {\n                            Name = customer.FullName,\n                            Email = customer.Email,\n                            external_id = customer.iMISId,\n                            WorkPhone = customer.WorkPhone,\n                            Organization_id = await GetZendeskOrgID(customer.CompanyiMISID)\n\n                        });\n                        var json = JsonConvert.SerializeObject(persons);\n\n    public static async Task&lt;dynamic&gt; GetZendeskOrgID(string CompanyiMISID)\n\n        {\n\n            using (HttpClient client = new HttpClient())\n            {\n                client.DefaultRequestHeaders.Accept.Clear();\n                client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n                client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(\n                    \"Basic\", \"YWUnMzMUZlOFhS\");\n\n                var response = await client.GetAsync(\"https://zendesk.com/api/v2/organizations/search.json?external_id=\" + CompanyiMISID);\n                dynamic data = JsonConvert.ToString(response);\n               return Convert.ToInt32(data.organization_id);\n            }\n        }\n\npublic class IMISCustomer\n        {\n            [JsonProperty(\"ResultRow\")]\n            public string ResultRow { get; set; }\n            [JsonProperty(\"Work Phone\")]\n            public string WorkPhone { get; set; }\n            [JsonProperty(\"Email\")]\n            public string Email { get; set; }\n            [JsonProperty(\"Full Name\")]\n            public string FullName { get; set; }\n            [JsonProperty(\"iMISId\")]\n            public string iMISId { get; set; }\n            [JsonProperty(\"Preferred Phone\")]\n            public string PreferredPhone { get; set; }\n            [JsonProperty(\"CompanyiMISID\")]\n            public string CompanyID { get; set; }\n        }\n   public class ZendeskPerson\n        {\n            [JsonProperty(\"name\")]\n            public string Name { get; set; }\n\n            [JsonProperty(\"email\")]\n            public string Email { get; set; }\n\n            [JsonProperty(\"external_id\")]\n            public string external_id { get; set; }\n\n            [JsonProperty(\"phone\")]\n            public string WorkPhone { get; set; }\n\n            [JsonProperty(\"organization_id\")]\n\n            public int Organization_id { get; set; }\n        }\n</code></pre>\n"}, {"tags": ["c#", "xamarin.android", "dynamics-crm"], "comments": [{"owner": {"reputation": 1257, "user_id": 9908376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTKOS.png?s=128&g=1", "display_name": "AndrewE", "link": "https://stackoverflow.com/users/9908376/andrewe"}, "edited": false, "score": 0, "creation_date": 1568841334, "post_id": 58000745, "comment_id": 102407408, "body": "Have you added the reference for DependencyAttribute?"}, {"owner": {"reputation": 20105, "user_id": 7920473, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10155688613669453/picture?type=large", "display_name": "Arun Vinoth", "link": "https://stackoverflow.com/users/7920473/arun-vinoth"}, "edited": false, "score": 0, "creation_date": 1568841389, "post_id": 58000745, "comment_id": 102407437, "body": "you mean DependencyService?"}, {"owner": {"reputation": 77, "user_id": 11895474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a63555072e88b6b3175145ee598089c?s=128&d=identicon&r=PG&f=1", "display_name": "Taniguchi.sales", "link": "https://stackoverflow.com/users/11895474/taniguchi-sales"}, "edited": false, "score": 0, "creation_date": 1568841549, "post_id": 58000745, "comment_id": 102407497, "body": "On nuget I ve installed dependency model and dependency and still show the same error"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 11895474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a63555072e88b6b3175145ee598089c?s=128&d=identicon&r=PG&f=1", "display_name": "Taniguchi.sales", "link": "https://stackoverflow.com/users/11895474/taniguchi-sales"}, "edited": false, "score": 0, "creation_date": 1568878203, "post_id": 58002966, "comment_id": 102416519, "body": "Thanks for answering @Leo Zhu, the code wont work because is made for xamarin forms"}, {"owner": {"reputation": 77, "user_id": 11895474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a63555072e88b6b3175145ee598089c?s=128&d=identicon&r=PG&f=1", "display_name": "Taniguchi.sales", "link": "https://stackoverflow.com/users/11895474/taniguchi-sales"}, "edited": false, "score": 0, "creation_date": 1568878256, "post_id": 58002966, "comment_id": 102416550, "body": "I would like to know if there is a native way to authenticate to azure"}, {"owner": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "reply_to_user": {"reputation": 77, "user_id": 11895474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a63555072e88b6b3175145ee598089c?s=128&d=identicon&r=PG&f=1", "display_name": "Taniguchi.sales", "link": "https://stackoverflow.com/users/11895474/taniguchi-sales"}, "edited": false, "score": 0, "creation_date": 1568880887, "post_id": 58002966, "comment_id": 102417828, "body": "maybe you could refer to <a href=\"https://docs.microsoft.com/en-us/azure/app-service-mobile/app-service-mobile-xamarin-android-get-started-users\" rel=\"nofollow noreferrer\">Add authentication to your Xamarin.Android app</a>"}, {"owner": {"reputation": 77, "user_id": 11895474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a63555072e88b6b3175145ee598089c?s=128&d=identicon&r=PG&f=1", "display_name": "Taniguchi.sales", "link": "https://stackoverflow.com/users/11895474/taniguchi-sales"}, "edited": false, "score": 0, "creation_date": 1568891867, "post_id": 58002966, "comment_id": 102423749, "body": "I would like to take it back what i said your code works for authentication in azure, @Leo Zhu thanks so much"}], "tags": [], "owner": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1568861290, "last_edit_date": 1568861290, "creation_date": 1568860740, "answer_id": 58002966, "question_id": 58000745, "link": "https://stackoverflow.com/questions/58000745/xamarin-android-why-authentication-to-azure-active-diretory-is-not-working/58002966#58002966", "title": "Xamarin Android: Why authentication to azure active diretory is not working", "body": "<blockquote>\n  <p>[assembly: Xamarin.Android.Dependency(typeof(App11.Authenticator))]</p>\n</blockquote>\n\n<p><strong>DependencyService</strong> is usually used in <strong>Xamarin.Forms</strong>,but now you are <strong>Xamarin.Android</strong> project.you dont need <strong>IAuthenticator</strong> and <strong>Authenticator</strong> class ,you could write the method in your activity directly like (I'm not sure your Authenticate method works\uff0conly for the error of Dependency):</p>\n\n<pre><code>private  async void Authenticate()\n    {\n        string Nome_Usuario = \"taniguchi.sales@ax4b.com\";\n        string clientId = \"2b121ed5-9fe6-4ddf-bdea-9bbe8cd37bd0\";\n        string authority = \"https://login.microsoftonline.com/ax4b.com\";\n        string returnUri = \"https://ax4bdev.crm2.dynamics.com\";\n        string graphResourceUri = \"https://ax4bdev.crm2.dynamics.com\";\n        var data = await Authenticate(authority, graphResourceUri, clientId, returnUri);\n\n    }\n\n    private async Task&lt;AuthenticationResult&gt; Authenticate(string authority, string resource, string clientId, string returnUri)\n    {\n        var authContext = new AuthenticationContext(authority);\n        if (authContext.TokenCache.ReadItems().Count() &gt; 0)\n            authContext = new AuthenticationContext(authContext.TokenCache.ReadItems().First().Authority);\n        var uri = new Uri(returnUri);\n\n        var platformParams = new PlatformParameters(this);\n        var authResult = await authContext.AcquireTokenAsync(resource, clientId, uri, platformParams);\n        return authResult;\n    }\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 11895474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a63555072e88b6b3175145ee598089c?s=128&d=identicon&r=PG&f=1", "display_name": "Taniguchi.sales", "link": "https://stackoverflow.com/users/11895474/taniguchi-sales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 58002966, "answer_count": 1, "score": 0, "last_activity_date": 1568861290, "creation_date": 1568840923, "question_id": 58000745, "link": "https://stackoverflow.com/questions/58000745/xamarin-android-why-authentication-to-azure-active-diretory-is-not-working", "title": "Xamarin Android: Why authentication to azure active diretory is not working", "body": "<p>Hello everyone my name is Taniguchi</p>\n\n<p>I am trying to authenticate to azure active directory but the  code sintaxe is showing an error.</p>\n\n<p>Authenticate interface:</p>\n\n<pre><code>public interface IAuthenticator\n{\n    Task&lt;AuthenticationResult&gt; Authenticate(string authority, string resource, string clientId, string returnUri);\n}\n</code></pre>\n\n<p>authenticator class:</p>\n\n<pre><code>[assembly: Xamarin.Android.Dependency(typeof(App11.Authenticator))]\npublic class Authenticator : IAuthenticator\n{\n    public async Task&lt;AuthenticationResult&gt; Authenticate(string authority, string resource, string clientId, string returnUri)\n    {\n        var authContext = new AuthenticationContext(authority);\n        if (authContext.TokenCache.ReadItems().Count() &gt; 0)\n            authContext = new AuthenticationContext(authContext.TokenCache.ReadItems().First().Authority);\n        var uri = new Uri(returnUri);\n\n        var platformParams = new PlatformParameters((Activity)Android.Context);\n        var authResult = await authContext.AcquireTokenAsync(resource, clientId, uri, platformParams);\n        return authResult;\n    }\n}\n</code></pre>\n\n<p>where i calling the authentification:</p>\n\n<pre><code>public class MainActivity : AppCompatActivity\n{\n    protected override void OnCreate(Bundle bundle)\n    {\n        base.OnCreate(bundle);\n        SetContentView(Resource.Layout.activity_main);\n        Authenticate();\n    }\n\n    public async void Authenticate()\n    {\n        string Nome_Usuario = \"taniguchi.sales@ax4b.com\";\n        string clientId = \"2b121ed5-9fe6-4ddf-bdea-9bbe8cd37bd0\";\n        string authority = \"https://login.microsoftonline.com/ax4b.com\";\n        string returnUri = \"https://ax4bdev.crm2.dynamics.com\";\n        string graphResourceUri = \"https://ax4bdev.crm2.dynamics.com\";\n        var auth = Xamarin.Android.DependencyService.Get&lt;IAuthenticator&gt;();\n        var data = await auth.Authenticate(authority, graphResourceUri, clientId, returnUri);\n    }\n\n    protected override void OnActivityResult(int requestCode, Result resultCode, Intent data)\n    {\n        base.OnActivityResult(requestCode, resultCode, data);\n        AuthenticationAgentContinuationHelper.SetAuthenticationAgentContinuationEventArgs(requestCode, resultCode, data);\n    }\n</code></pre>\n\n<p>The Line:</p>\n\n<pre><code>[assembly: Xamarin.Android.Dependency(typeof(App11.Authenticator))]\n</code></pre>\n\n<p>is showing the error: \nError   CS0234  The type or namespace name 'DependencyAttribute' does not exist in the namespace 'Xamarin.Android' (are you missing an assembly reference?)</p>\n"}, {"tags": ["c#", "asp.net", "frameworks", "graphql"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1568844040, "post_id": 58000744, "comment_id": 102408190, "body": "Are you referring to <a href=\"https://github.com/Dotnet-Boxed/Framework\" rel=\"nofollow noreferrer\">github.com/Dotnet-Boxed/Framework</a> ?"}, {"owner": {"reputation": 13, "user_id": 12016701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a88c8108cb023ad0cd5737307b2f06e4?s=128&d=identicon&r=PG&f=1", "display_name": "Gizmo0", "link": "https://stackoverflow.com/users/12016701/gizmo0"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1568847181, "post_id": 58000744, "comment_id": 102408954, "body": "Yes but this one specifically <a href=\"https://github.com/Dotnet-Boxed/Templates/blob/master/Docs/GraphQL.md\" rel=\"nofollow noreferrer\">github.com/Dotnet-Boxed/Templates/blob/master/Docs/GraphQL.m&zwnj;&#8203;d</a> I don&#39;t know if there is a difference though. There was no tag to use for this framework so I had to leave it out"}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 12016701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a88c8108cb023ad0cd5737307b2f06e4?s=128&d=identicon&r=PG&f=1", "display_name": "Gizmo0", "link": "https://stackoverflow.com/users/12016701/gizmo0"}, "is_accepted": false, "score": 0, "last_activity_date": 1568863118, "creation_date": 1568863118, "answer_id": 58003259, "question_id": 58000744, "link": "https://stackoverflow.com/questions/58000744/trying-to-get-net-boxed-framework-to-work-using-net-core-framework-3-0/58003259#58003259", "title": "Trying to get .Net Boxed Framework to work Using .Net Core Framework 3.0", "body": "<p>I am unsure if this is 100% correct because I have no way of testing it right now but here is what I did to get this code section above error free.</p>\n\n<pre><code> public void ConfigureServices(IServiceCollection services)\n        {\n            _ = services\n               .AddCorrelationIdFluent()\n               .AddCustomCaching()\n               .AddCustomOptions(this.configuration)\n               .AddCustomRouting()\n               .AddCustomResponseCompression()\n               .AddCustomStrictTransportSecurity()\n               .AddCustomHealthChecks()\n               .AddHttpContextAccessor()\n               .AddMvcCore()\n                   .SetCompatibilityVersion(CompatibilityVersion.Version_3_0)\n                   .AddAuthorization()\n                   .AddCustomJsonOptions(this.hostingEnvironment)\n                   .AddCustomCors()\n                   .AddCustomMvcOptions(this.hostingEnvironment);\n\n            _ = services\n               .AddCustomGraphQL(this.hostingEnvironment)\n               .AddCustomGraphQLAuthorization()\n               .AddProjectRepositories()\n               .AddProjectSchemas();\n\n            _ = services.AddMvc()\n                    .AddNewtonsoftJson();\n        }\n</code></pre>\n\n<p>I was told by a co-worker to take out the <code>.BuildServiceProvider</code> so that is why it is no longer there If this is wrong or anyone know a better way let us know :)</p>\n"}], "owner": {"reputation": 13, "user_id": 12016701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a88c8108cb023ad0cd5737307b2f06e4?s=128&d=identicon&r=PG&f=1", "display_name": "Gizmo0", "link": "https://stackoverflow.com/users/12016701/gizmo0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 745, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568866691, "creation_date": 1568840922, "last_edit_date": 1568866691, "question_id": 58000744, "link": "https://stackoverflow.com/questions/58000744/trying-to-get-net-boxed-framework-to-work-using-net-core-framework-3-0", "title": "Trying to get .Net Boxed Framework to work Using .Net Core Framework 3.0", "body": "<p>I have been asked to configure and figure out how to get the .NET boxed framework to work using .NET framework 3.0. I am stuck on how to fix this issue as I have never seen it before and don't quiet understand how to get it to work.</p>\n\n<p>If anyone has an idea or has gotten this frame work working in 3.0 help would be much appreciated.</p>\n\n<p>I have mainly been looking up other ways to use the <code>IServiceProvider</code> but the only sort of solution I have come up with is that I have to get all there services into a variable and inject it that way according to the error message anyway</p>\n\n<pre><code>public IServiceProvider ConfigureServices(IServiceCollection services) =&gt;\n            services\n                .AddCorrelationIdFluent()\n                .AddCustomCaching()\n                .AddCustomOptions(this.configuration)\n                .AddCustomRouting()\n                .AddCustomResponseCompression()\n                .AddCustomStrictTransportSecurity()\n                .AddCustomHealthChecks()\n                .AddHttpContextAccessor()\n                .AddMvcCore()\n                    .SetCompatibilityVersion(CompatibilityVersion.Version_3_0)\n                    .AddAuthorization()\n                    .AddJsonFormatters()\n                    .AddCustomJsonOptions(this.hostingEnvironment)\n                    .AddCustomCors()\n                    .AddCustomMvcOptions(this.hostingEnvironment)\n                .Services\n                .AddCustomGraphQL(this.hostingEnvironment)\n                .AddCustomGraphQLAuthorization()\n                .AddProjectRepositories()\n                .AddProjectSchemas()\n                .BuildServiceProvider();\n</code></pre>\n\n<p>This is what the error message says:</p>\n\n<blockquote>\n  <p>Calling 'BuildServiceProvider' from application code results in an additional copy of singleton services being created. Consider alternatives such as dependency injecting services as parameters to 'Configure'</p>\n</blockquote>\n\n<p><strong>Note:</strong> I have not added any extra code into the framework yet just trying to make it error free for version 3.0.</p>\n\n<p>If anyone has any ideas help would much appreciated.</p>\n"}, {"tags": ["javascript", "c#", "jquery", "html", "razor"], "answers": [{"comments": [{"owner": {"reputation": 36, "user_id": 10997208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cUUme.png?s=128&g=1", "display_name": "kopchaib", "link": "https://stackoverflow.com/users/10997208/kopchaib"}, "edited": false, "score": 1, "creation_date": 1568899121, "post_id": 58000836, "comment_id": 102428073, "body": "Yep! That worked, thanks. The only change I had to make to what was suggested in that link you posted was to change <code>$(window).load(function(){...})</code> to <code>$(window).on(&#39;load&#39;, function(){...})</code> due to an update later on in that answer: <a href=\"https://jquery.com/upgrade-guide/3.0/#breaking-change-load-unload-and-error-removed\" rel=\"nofollow noreferrer\">jquery.com/upgrade-guide/3.0/&hellip;</a>"}], "tags": [], "owner": {"reputation": 46, "user_id": 11660681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c59881a99aa2ca4e36c58baa3965a2?s=128&d=identicon&r=PG&f=1", "display_name": "Speedwagon", "link": "https://stackoverflow.com/users/11660681/speedwagon"}, "is_accepted": false, "score": 1, "last_activity_date": 1568841415, "creation_date": 1568841415, "answer_id": 58000836, "question_id": 58000710, "link": "https://stackoverflow.com/questions/58000710/is-it-possible-to-control-the-order-in-which-html-razor-components-render/58000836#58000836", "title": "Is it possible to control the order in which HTML Razor components render?", "body": "<p>This might work, try using $(window).load(function() instead of $(document).ready(function()</p>\n\n<pre><code>&lt;div&gt;\n...\n&lt;/div&gt;\n&lt;script src=\"...\"&gt;\n  $(window).load(function() {\n    myJs.init(params)\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>From the below link: \"executes when complete page is fully loaded, including all frames, objects and images\"</p>\n\n<p><a href=\"https://stackoverflow.com/questions/8396407/jquery-what-are-differences-between-document-ready-and-window-load\">jQuery - What are differences between $(document).ready and $(window).load?</a></p>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 10997208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cUUme.png?s=128&g=1", "display_name": "kopchaib", "link": "https://stackoverflow.com/users/10997208/kopchaib"}, "is_accepted": true, "score": 0, "last_activity_date": 1571239564, "creation_date": 1571239564, "answer_id": 58416825, "question_id": 58000710, "link": "https://stackoverflow.com/questions/58000710/is-it-possible-to-control-the-order-in-which-html-razor-components-render/58416825#58416825", "title": "Is it possible to control the order in which HTML Razor components render?", "body": "<p>I ended up having to just rearrange my page after a lot of trial and error looking for a fix for this - seems like there's no easy way around the order in which the razor loads on CSHTML pages.</p>\n"}], "owner": {"reputation": 36, "user_id": 10997208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cUUme.png?s=128&g=1", "display_name": "kopchaib", "link": "https://stackoverflow.com/users/10997208/kopchaib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 58416825, "answer_count": 2, "score": 1, "last_activity_date": 1571239564, "creation_date": 1568840723, "last_edit_date": 1571239508, "question_id": 58000710, "link": "https://stackoverflow.com/questions/58000710/is-it-possible-to-control-the-order-in-which-html-razor-components-render", "title": "Is it possible to control the order in which HTML Razor components render?", "body": "<p>I'm trying to render one of my pages, and I have an <code>Html.RenderAction()</code> call at the top of the div I'd like to display. I'd like to call one of my js initializer methods in <code>document.ready()</code> from inside the page that is displayed via my RenderAction call, but it seems to be triggering <code>document.ready()</code> before the html in the page after the <code>Html.RenderAction()</code> call. </p>\n\n<p>Because of this, the init function is checking data from a kendo element that hasn't loaded since it's being called before JQuery finishes up, and only sees the inputs that should be kendo inputs as default html <code>&lt;input&gt;</code> elements.</p>\n\n<p>In other words, is there a way to delay the loading / call of RenderAction until the page its inside of loads? Or should I just use some ugly CSS to keep the section I need at the top of my div? Very basic summary of my code below:</p>\n\n<pre><code>&lt;html&gt;\n...\n&lt;div&gt;\n  @Html.RenderAction(\"File that calls init() method\")\n  &lt;...rest of page that I need to load first, including kendo text boxes/&gt;\n&lt;/div&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>File that calls init() method</p>\n\n<pre><code>&lt;div&gt;\n...\n&lt;/div&gt;\n&lt;script src=\"...\"&gt;\n  $(document).ready(function() {\n    myJs.init(params)\n  }\n&lt;/script&gt;\n</code></pre>\n\n<hr>\n\n<hr>\n\n<p>Now that I've gone to implement the answer below elsewhere, I've realized that when switching from <code>document.ready</code> to <code>window.on('load',...)</code>, it's now broken another view that works similarly, but instead the <code>@Html.RenderAction</code> call is on the bottom:</p>\n\n<pre><code>...\n&lt;div&gt;\n  &lt;&gt;page including kendo inputs&lt;/&gt;\n  @Html.RenderAction(\"different file that calls same init() method\")\n&lt;/div&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>Basically, <code>document.ready</code> works for me if the razor is before the kendo, but not the other way around - and <code>window.on('load',function(){...})</code> works for the opposite.</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong> I ended up having to just rearrange my page after a lot of trial and error looking for a fix for this - seems like there's no easy way around the order in which the razor loads on CSHTML pages</p>\n"}, {"tags": ["c#", "network-programming", "udp", "client-server", "rtsp"], "answers": [{"tags": [], "owner": {"reputation": 4865, "user_id": 2378643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mt7f4.png?s=128&g=1", "display_name": "Anon Coward", "link": "https://stackoverflow.com/users/2378643/anon-coward"}, "is_accepted": false, "score": 1, "last_activity_date": 1568840460, "creation_date": 1568840460, "answer_id": 58000665, "question_id": 58000627, "link": "https://stackoverflow.com/questions/58000627/how-can-i-test-how-a-client-server-app-will-hold-up-in-different-network-traffic/58000665#58000665", "title": "How can I test how a client/server app will hold up in different network traffic conditions?", "body": "<p>There are a few paths to this.  For your specific use case, you're probably best off using a tool like <a href=\"http://jagt.github.io/clumsy/index.html\" rel=\"nofollow noreferrer\">Clumsy</a> to simulate bad network conditions.</p>\n\n<p>If you're looking to test web traffic, you can use <a href=\"https://www.telerik.com/fiddler\" rel=\"nofollow noreferrer\">Fiddler</a> to setup a proxy that you can configure to slow traffic.</p>\n\n<p>If you're looking to test how well a webpage loads, you can use Chrome's built in dev-tools to simulate a slow network connection.</p>\n"}], "owner": {"reputation": 555, "user_id": 802517, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ad7f305352e934eb80237f94315abe11?s=128&d=identicon&r=PG", "display_name": "Joseph", "link": "https://stackoverflow.com/users/802517/joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568840460, "creation_date": 1568840190, "question_id": 58000627, "link": "https://stackoverflow.com/questions/58000627/how-can-i-test-how-a-client-server-app-will-hold-up-in-different-network-traffic", "title": "How can I test how a client/server app will hold up in different network traffic conditions?", "body": "<p>I've recently been working on a project that involves a server app and a client app. The server streams video via UDP over a local network to the client, and the client buffers and displays it. I'm working on the client app, and have no control over the server app or any of the hardware or configuration behind it.</p>\n\n<p>Presently, the client works as intended with a minimal hardware/server setup provided to me by the client, running on a home wireless LAN. One camera source, one connection to the server. However, my customer mentioned that the video looked jittery when he took it to a trade show and attributed that to network traffic conditions. I am thinking it might have had to do with crowded airspace at the show as well.</p>\n\n<p>My issue is, I am a bit new to network programming and I am not sure how I can investigate, debug, and ultimately address the problem. How can I account for different real-world traffic conditions given my home network minimal setup? Ideally I could have a ton of these devices and a bunch of computers running the client to try out different configurations, but there must be some more scalable testing solution to analyze and debug performance under simulated or forced traffic conditions? What approaches might be fruitful?</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 20059, "user_id": 856353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4BHW9.jpg?s=128&g=1", "display_name": "Robert McKee", "link": "https://stackoverflow.com/users/856353/robert-mckee"}, "edited": false, "score": 1, "creation_date": 1568840300, "post_id": 58000566, "comment_id": 102407057, "body": "By looking at it, my first instinct would be that you are having issues with the fact that TCP is a streaming protocol and not a packet based protocol.  At the very least your code would have issues if a &quot;packet&quot; was split between TCP packets, or if multiple &quot;packet&quot;s were combined into a single TCP packet."}, {"owner": {"reputation": 20059, "user_id": 856353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4BHW9.jpg?s=128&g=1", "display_name": "Robert McKee", "link": "https://stackoverflow.com/users/856353/robert-mckee"}, "edited": false, "score": 0, "creation_date": 1568840564, "post_id": 58000566, "comment_id": 102407146, "body": "For example, what would your code do if you were sent and update, and that update was serialized into 20 bytes which are then split into two separate TCP packets, so that when you call <code>client.GetStream().Read(buffer, 0, buffer.Length);</code> on the server, you get 10 of the 20 bytes the first time you call it, and the remaining 10 bytes the second time you call it?"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "reply_to_user": {"reputation": 20059, "user_id": 856353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4BHW9.jpg?s=128&g=1", "display_name": "Robert McKee", "link": "https://stackoverflow.com/users/856353/robert-mckee"}, "edited": false, "score": 1, "creation_date": 1568840997, "post_id": 58000566, "comment_id": 102407286, "body": "To add to what @RobertMcKee said, I consider <a href=\"https://blog.stephencleary.com/2009/04/message-framing.html\" rel=\"nofollow noreferrer\">Message Framing</a> a must read for anyone doing TCP programming."}, {"owner": {"reputation": 4698, "user_id": 382783, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/03b84aa935e9f5fbae4cc5758240eb6d?s=128&d=identicon&r=PG", "display_name": "Boris B.", "link": "https://stackoverflow.com/users/382783/boris-b"}, "edited": false, "score": 1, "creation_date": 1568841359, "post_id": 58000566, "comment_id": 102407419, "body": "Just don&#39;t use your own intermediate buffer, instead pipe the NetworkStream to a JsonTextReader through a StreamReader like so: <code>var reader = new JsonTextReader(new StreamReader(client.GetStream()));</code> Your intermediate buffer will contain partial JSON messages that your JsonTextReader would not be able to ingest."}, {"owner": {"reputation": 4698, "user_id": 382783, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/03b84aa935e9f5fbae4cc5758240eb6d?s=128&d=identicon&r=PG", "display_name": "Boris B.", "link": "https://stackoverflow.com/users/382783/boris-b"}, "edited": false, "score": 2, "creation_date": 1568842787, "post_id": 58000566, "comment_id": 102407861, "body": "Also, the reason you&#39;re seeing the problem only when communicating with another device (another network interface) is because the MTU (maximum transmission unit) is much larger for the loopback adapter (localhost) then it is for a &quot;real&quot; network adapter, so in the case of localhost the entire JSON message would be transferred in one frame, but with a real network interface it would get chopped up into MTU-sized chunks (typically 1500 bytes)"}], "owner": {"reputation": 119, "user_id": 5939597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/106bcbdab7f949405f748d13a1a068ba?s=128&d=identicon&r=PG&f=1", "display_name": "Avagantamo", "link": "https://stackoverflow.com/users/5939597/avagantamo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568839794, "creation_date": 1568839794, "question_id": 58000566, "link": "https://stackoverflow.com/questions/58000566/c-tcp-packets-lost-when-using-different-devices-but-not-on-local-machine", "title": "C# TCP packets lost when using different devices but not on local machine", "body": "<p>Client code that sends data:</p>\n\n<pre><code>public void SendPointsUpdate(string teamName, int points, bool isHidden)\n    {\n        if (isDebug)\n            return;\n\n        var packet = new PointsUpdatePacket(teamName, points, isHidden);\n\n        var serializedPacket = JsonConvert.SerializeObject(packet);\n        var buff = Encoding.ASCII.GetBytes(serializedPacket);\n        client.GetStream().Write(buff, 0, buff.Length);\n    }\n</code></pre>\n\n<p>where client is TcpClient</p>\n\n<p>And Server where its received:</p>\n\n<pre><code>while (true)\n                {\n\n                    if (client.Connected)\n                    {\n                        try\n                        {\n                            if (!client.GetStream().DataAvailable)\n                                continue;\n\n                            var buffer = new byte[client.ReceiveBufferSize];\n                            client.GetStream().Read(buffer, 0, buffer.Length);\n\n                            var reader = new JsonTextReader(new StringReader(Encoding.ASCII.GetString(buffer)));\n                            reader.SupportMultipleContent = true;\n\n                            var packetList = new List&lt;Packet&gt;();\n                            try\n                            {\n                                while (true)\n                                {\n                                    if (!reader.Read())\n                                    {\n                                        break;\n                                    }\n\n                                    JsonSerializer serializer = new JsonSerializer();\n                                    Packet _packet = serializer.Deserialize&lt;Packet&gt;(reader);\n\n                                    packetList.Add(_packet);\n                                }\n\n                                foreach (var packet in packetList)\n                                {\n                                    //var packet = JsonConvert.DeserializeObject&lt;Packet&gt;(Encoding.ASCII.GetString(buffer));\n\n                                    switch (packet.PacketId)\n                                    {\n                                     //Do stuff\n                                    }\n                                }\n                             }\n</code></pre>\n\n<p>where client is TcpClient</p>\n\n<p>Now when its running on my local PC (both client and server) Everything works great. When I use another device some packets are lost and not executed. The client device is active all of the time and is sending the packets to the server. That is how 99% of the data transfers are taking place, from client to server. I dont understand why packets are not delivering at all.</p>\n"}, {"tags": ["c#", "entity-framework", ".net-core", "ef-core-2.2"], "comments": [{"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 1, "creation_date": 1568840388, "post_id": 58000560, "comment_id": 102407086, "body": "In the end, it&#39;s a SQL query.  Run it in the debugger, with a breakpoint at the call to <code>ToListAsync</code>.  Take a look at <code>query</code> and its generated SQL in the debugger.  Do a sanity check on the SQL.  Copy it over to SSMS and see if it takes a long time to run.  Then do the normal thing you&#39;d do to try to optimize a query (take a look at the query plan, possibly add indexes, etc.)."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1568841295, "post_id": 58000560, "comment_id": 102407394, "body": "Why are you running the query twice - once to create <code>list</code> and once to set <code>data.Data</code> - why not use <code>list</code> there?"}], "answers": [{"tags": [], "owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "is_accepted": false, "score": 0, "last_activity_date": 1568844119, "creation_date": 1568844119, "answer_id": 58001275, "question_id": 58000560, "link": "https://stackoverflow.com/questions/58000560/long-time-response-for-query-in-ef-core/58001275#58001275", "title": "Long time response for query in ef core", "body": "<p>A few suggestions:</p>\n\n<ol>\n<li>As NetMage points out, your first <code>.ToList()</code> call is a major issue. This is materializing the entire set to memory which means pulling all of that data from the DbServer to the web server. As far as I can see that was done just to get a count.</li>\n</ol>\n\n<p>Updated code:</p>\n\n<pre><code>query = Context.SaleTransaction\n               .Where(s =&gt; s.PayIn.Date &lt;= DateTimeOffset.UtcNow.Date.AddDays(6) \n                    &amp;&amp; s.Paid == false\n                    &amp;&amp; s.ProcessingPaid == false\n                    &amp;&amp; (s.Transaction.Status == TransactionStatus.Authorized || s.Transaction.Status == TransactionStatus.Paid) )\n                .GroupBy(s =&gt; new { s.AdminSaleId, s.PayIn.Date });\nvar rowCount = query.Count();\n</code></pre>\n\n<p>This will execute one query to get the count of groups without pulling back all of the data.</p>\n\n<ol start=\"2\">\n<li><p>When using projection (<code>Select</code>) You do not need to use the Include statements. Those only apply when retrieving the actual entity graph, such as during an Update.</p></li>\n<li><p>Next, once you calculate your paging figures from the Count:</p></li>\n</ol>\n\n<p>-</p>\n\n<pre><code>data.Data = await query.Select(s =&gt; new AdvanceIn()\n    {\n       Count = s.Count(),\n       NetAmountSum = s.Select(t =&gt; t.NetAmount).Sum(),\n       GrossAmountSum = s.Select(t =&gt; t.Transaction.GrossAmountWithoutSaleDiscount).Sum(),\n       AdminSale =  s.AdminSale.OrderBy(/* ?? */).Select(a =&gt; new SaleTransferReadModel \n       {\n           Id = a.Id,\n           PlaceName = a.PlaceName,\n           PlacePhoto = a.PlacePhoto\n       }).First(),\n       PayIn = s.Select(t =&gt; t.PayIn).First(), // Nope! don't return an Entity. Get a value or create a ViewModel like SaleTransferReadModel.\n       SaleTransactionId = String.Join(\",\", s.Select(x =&gt; x.Id.ToString())) // This might not work for EF2SQL... Consider returning the list of IDs and projecting to a Display String in the ViewModel.\n    }).OrderBy(s =&gt; s.PayIn)\n    .Skip(limit.Value * page)\n    .Take(limit.Value)\n    .ToListAsync();\n</code></pre>\n\n<p>This will run the second query to pull back just the selected page of data from the database. I'd be considering using async here to allow your web server to process requests while this query is running as it might take a second or so depending on the data involved.</p>\n\n<p>Key changes/notes here: Don't repeat the <code>First</code> call to populate the inner view model. Project it with <code>Select</code> based on the First desired child record. When using <code>First</code> etc. you should always include an <code>OrderBy</code> because you cannot rely on any default ordering.</p>\n\n<p>Next, the code is embedding an Entity, PayIn. Either take a field from PayIn to return or project it into a ViewModel. You don't want to embed any entities in your view model because when the serializer goes to turn it into JSON or whatever, it will touch any properties on PayIn and potentially trip lazy-loads.</p>\n\n<p>Lastly would be the <code>string.Join()</code> on the ID list. This <em>might</em> work, but it may not and EF core has a nasty habit of throwing up a warning that it's going to prematurely materialize a query to 2-step the projection which defeats the entire purpose. I would instead <code>Select</code> a <code>List&lt;string&gt;</code> of IDs into the view model, then expose an extra property on the view model that does a <code>string.Join()</code>.</p>\n\n<pre><code>public ICollection&lt;Guid&gt; SalesTransactionIds { get; set; } // Populate this in your Linq expression...\n\npublic string DisplaySalesTransactionIds \n{\n   get { return string.Join(\",\", SalesTransactionIds); }\n}\n</code></pre>\n\n<p>** note: If that gives you any grief about types, you can use <code>SalesTransactionIds.Select(x =&gt; x.ToString())</code> inside of the <code>Join</code>.</p>\n\n<p>When the serializer crawls that, the view/grid should get a string property in the view's model called DisplaySalesTransactionIds which will give you the comma-delimited list.</p>\n\n<p>Have a go with some of those and see if it speeds things up a bit.</p>\n"}], "owner": {"reputation": 21, "user_id": 5332064, "user_type": "registered", "profile_image": "https://graph.facebook.com/958434730883721/picture?type=large", "display_name": "Thuran Eduardo Crespi", "link": "https://stackoverflow.com/users/5332064/thuran-eduardo-crespi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1568844119, "creation_date": 1568839764, "question_id": 58000560, "link": "https://stackoverflow.com/questions/58000560/long-time-response-for-query-in-ef-core", "title": "Long time response for query in ef core", "body": "<p>I'm creating a select for transactions when group us per user and date, and i need show totalizers also. The result is correct but the time for processing this query is 60s.</p>\n\n<p>I'm using ef core 2.2 and i try using a similar linq expression but the time to response is the same.</p>\n\n<pre><code>public async Task&lt;ListDataPagination&lt;AdvanceIn, TotalizerAdvanceInDate&gt;&gt; AdvanceInDateAsync(int page, int? limit=15)\n        {\n            IQueryable&lt;AdvanceIn&gt; query;\n\n            var data = new ListDataPagination&lt;AdvanceIn, TotalizerAdvanceInDate&gt;();\n\n            query = Context.SaleTransaction\n                .Include(s =&gt; s.AdminSale)\n                .ThenInclude(a =&gt; a.PlaceCategory)\n                .Include(s =&gt; s.Transaction)\n                .Where(s =&gt; s.PayIn.Date &lt;= DateTimeOffset.UtcNow.Date.AddDays(6) \n                    &amp;&amp; s.Paid == false\n                    &amp;&amp; s.ProcessingPaid == false\n                    &amp;&amp; (s.Transaction.Status == TransactionStatus.Authorized || s.Transaction.Status == TransactionStatus.Paid) )\n                .GroupBy(s =&gt; new { s.AdminSaleId, s.PayIn.Date })\n                .Select(s =&gt; new AdvanceIn()\n                {\n                    Count = s.Count(),\n                    NetAmountSum = s.Select(t =&gt; t.NetAmount).Sum(),\n                    GrossAmountSum = s.Select(t =&gt; t.Transaction.GrossAmountWithoutSaleDiscount).Sum(),\n                    AdminSale = new SaleTransferReadModel {\n                        Id = s.Select(t =&gt; t.AdminSale).First().Id,\n                        PlaceName = s.Select(t =&gt; t.AdminSale).First().PlaceName,\n                        PlacePhoto = s.Select(t =&gt; t.AdminSale).First().PlacePhoto\n                    },\n                    PayIn = s.Select(t =&gt; t.PayIn).First(),\n                    SaleTransactionId = String.Join(\",\", s.Select(x =&gt; x.Id.ToString()))\n                })\n                .OrderBy(s =&gt; s.PayIn);\n\n            var list = await query.AsNoTracking().ToListAsync();\n            data.Totalizer = new  TotalizerAdvanceInDate {\n                Count = list.Sum(t =&gt; t.Count),\n                NetAmountSum = list.Sum(a =&gt; a.NetAmountSum),\n                GrossAmountSum = list.Sum(a =&gt; a.GrossAmountSum)\n            };\n\n            data.Page = page;\n            data.TotalItems = list.Count();\n            data.TotalPages = data.TotalItems / limit.Value;\n\n            data.Data = query.Skip(limit.Value * page)\n                   .Take(limit.Value)\n                   .ToList();\n\n\n            data.PageTotalizer = new TotalizerAdvanceInDate {\n                Count = data.Data.Sum(a =&gt; a.Count),\n                NetAmountSum = data.Data.Sum(a =&gt; a.NetAmountSum),\n                GrossAmountSum = data.Data.Sum(a =&gt; a.GrossAmountSum)\n            };\n\n            return data;\n        }\n</code></pre>\n\n<p>I expect reduce time for get this query response.</p>\n"}, {"tags": ["c#", "visual-studio-2010", "visual-studio-2015", ".net-4.0", ".net-4.7.2"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3188639"}, "edited": false, "score": 0, "creation_date": 1568846042, "post_id": 58000444, "comment_id": 102408669, "body": "This article may be helpful: <a href=\"https://blog.elmah.io/debugging-system-accessviolationexception/\" rel=\"nofollow noreferrer\">blog.elmah.io/debugging-system-accessviolationexception</a>"}, {"owner": {"reputation": 11, "user_id": 10424605, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ea61PsuO9h8/AAAAAAAAAAI/AAAAAAAAFqE/hAF79GdUfUI/photo.jpg?sz=128", "display_name": "saurav sam", "link": "https://stackoverflow.com/users/10424605/saurav-sam"}, "edited": false, "score": 1, "creation_date": 1568907220, "post_id": 58000444, "comment_id": 102432995, "body": "Sorry that article only explains how to handle these exceptions, but i need to fix and execute my code with the dll function as well."}], "owner": {"reputation": 11, "user_id": 10424605, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ea61PsuO9h8/AAAAAAAAAAI/AAAAAAAAFqE/hAF79GdUfUI/photo.jpg?sz=128", "display_name": "saurav sam", "link": "https://stackoverflow.com/users/10424605/saurav-sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1568839820, "creation_date": 1568839181, "last_edit_date": 1568839820, "question_id": 58000444, "link": "https://stackoverflow.com/questions/58000444/c-project-migrated-from-net-framework-4-0-to-4-5-return-error-system-accessvio", "title": "c# project migrated from .net framework 4.0 to 4.5 return error System.AccessViolationException", "body": "<p>I have a Windows Forms project built in C#, using .NET framework 4.0. The project was built in VS2010.</p>\n\n<p>This project uses functions written in C, which are used by the program through dlls. Everything was working fine in 4.0, I have a 32 bit and also a 64 bit version for this.</p>\n\n<p>But, I recently had to migrate it to VS2015 with .Net Framework 4.7.2.</p>\n\n<p>The 32 bit application ran without any issues. No new prompts from Visual Studio while opening it in 2015 either.</p>\n\n<p>But, the 64 bit application has some issues. The compilation and build was good. But when I try and use one of the C functions, it fails with the following error: </p>\n\n<blockquote>\n  <p>An unhandled exception of type 'System.AccessViolationException' occurred in ODT Admin.exe</p>\n  \n  <p>Additional information: Attempted to read or write protected memory. This is often an indication that other memory is corrupt.</p>\n</blockquote>\n\n<p>I tried to change the target framework to an older version and this problem starts right after .Net framework 4, so .Net Framework 5 also has this.</p>\n\n<p>Any help would be really appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "dynamic", "casting", "deserialization", "azure-cosmosdb"], "comments": [{"owner": {"reputation": 524, "user_id": 4904285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aed1ca8f3e70c78d88b24c42c6033e8?s=128&d=identicon&r=PG&f=1", "display_name": "Noremac", "link": "https://stackoverflow.com/users/4904285/noremac"}, "edited": false, "score": 1, "creation_date": 1568843664, "post_id": 58000314, "comment_id": 102408104, "body": "<code>(dynamic)document</code> should perform an operation similar to <code>(object)document</code>. Nothing else. The document is casted as a <code>dynamic</code> first to avoid having to write an explicit cast between type <code>T</code> and type <code>Document</code>. What is type <code>T</code> in your case? <code>T</code> has to be responsible for serializing (or deserializing) the document."}, {"owner": {"reputation": 665, "user_id": 10094995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b99ec0d6e420a4a49a242969c2f42d08?s=128&d=identicon&r=PG&f=1", "display_name": "JSON Brody", "link": "https://stackoverflow.com/users/10094995/json-brody"}, "reply_to_user": {"reputation": 524, "user_id": 4904285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aed1ca8f3e70c78d88b24c42c6033e8?s=128&d=identicon&r=PG&f=1", "display_name": "Noremac", "link": "https://stackoverflow.com/users/4904285/noremac"}, "edited": false, "score": 0, "creation_date": 1568844078, "post_id": 58000314, "comment_id": 102408201, "body": "T is just a poco defined manually. No operator overloads or anything, just fields."}], "answers": [{"comments": [{"owner": {"reputation": 665, "user_id": 10094995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b99ec0d6e420a4a49a242969c2f42d08?s=128&d=identicon&r=PG&f=1", "display_name": "JSON Brody", "link": "https://stackoverflow.com/users/10094995/json-brody"}, "edited": false, "score": 1, "creation_date": 1569818447, "post_id": 58019148, "comment_id": 102705092, "body": "I believe you misunderstood the problem. I am asking about why the code in my question works, not if there is a better way. What I have is actually provided by Microsoft support according to my team lead."}], "tags": [], "owner": {"reputation": 2026, "user_id": 2630668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/E7UtC.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/2630668/martin"}, "is_accepted": false, "score": 2, "last_activity_date": 1568928532, "creation_date": 1568928532, "answer_id": 58019148, "question_id": 58000314, "link": "https://stackoverflow.com/questions/58000314/how-does-dynamically-casting-microsoft-azure-documents-result-in-deserialization/58019148#58019148", "title": "How does dynamically casting Microsoft.Azure.Documents result in deserialization?", "body": "<p>If I get your question right. The target should be to have at the end the item of type <code>T</code> received from CosmosDB collection. <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.documents.client.documentclient.readdocumentasync?view=azure-dotnet#Microsoft_Azure_Documents_Client_DocumentClient_ReadDocumentAsync__1_System_String_Microsoft_Azure_Documents_Client_RequestOptions_System_Threading_CancellationToken_\" rel=\"nofollow noreferrer\">Have you seen the documentation?</a></p>\n\n<pre><code>public async Task&lt;T&gt; GetItemAsync&lt;T&gt; (...)\n{\n   var item = await client.ReadDocumentAsync&lt;T&gt;(...);\n   return item;\n}\n</code></pre>\n\n<p>... will give you the deserialized content of type <code>T</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 4, "last_activity_date": 1569849942, "last_edit_date": 1569849942, "creation_date": 1569848967, "answer_id": 58168592, "question_id": 58000314, "link": "https://stackoverflow.com/questions/58000314/how-does-dynamically-casting-microsoft-azure-documents-result-in-deserialization/58168592#58168592", "title": "How does dynamically casting Microsoft.Azure.Documents result in deserialization?", "body": "<p>There is a misconception here about what is actually happening behind the scenes.</p>\n\n<p>Some background first</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.documents.client.documentclient.readdocumentasync?view=azure-dotnet#Microsoft_Azure_Documents_Client_DocumentClient_ReadDocumentAsync_System_String_Microsoft_Azure_Documents_Client_RequestOptions_System_Threading_CancellationToken_\" rel=\"nofollow noreferrer\"><code>ReadDocumentAsync</code></a> returns a <code>DocumentResponse&lt;Document&gt;</code> which wraps a <code>Document</code> containing the read resource record. </p>\n\n<p><code>DocumentResponse&lt;Document&gt;</code> in turn has an <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.documents.client.documentresponse-1.op_implicit?view=azure-dotnet#Microsoft_Azure_Documents_Client_DocumentResponse_1_op_Implicit_Microsoft_Azure_Documents_Client_DocumentResponse__0___TDocument\" rel=\"nofollow noreferrer\"><code>implicit operator</code></a> that that allow it to be converted/cast to <code>Document</code></p>\n\n<p>hence</p>\n\n<pre><code>Document item = await client.ReadDocumentAsync&lt;T&gt;(...);\n//replaced var for to Document for demonstrative purposes.\n</code></pre>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.documents.document?view=azure-dotnet\" rel=\"nofollow noreferrer\"><code>Document</code></a> is derived from <code>IDynamicMetaObjectProvider</code></p>\n\n<pre><code>public class Document : Microsoft.Azure.Documents.Resource, System.Dynamic.IDynamicMetaObjectProvider\n\n// Inheritance: Object --&gt; JsonSerializable --&gt; Resource --&gt; Document\n// Implements: IDynamicMetaObjectProvider\n</code></pre>\n\n<blockquote>\n  <p>Represents a dynamic object, <strong>that can have its operations bound at runtime</strong>.</p>\n</blockquote>\n\n<p><strong><em>epmhasis mine</em></strong></p>\n\n<p>It is because of the <code>IDynamicMetaObjectProvider</code> that it is first cast to <code>dynamic</code> and then to the desired type.</p>\n\n<p>Behind the scenes the dynamic resource object will try to bind the contained members of the parsed document to that of the target strongly typed object.</p>\n\n<p>Saves you having to try and write an explicit conversion yourself for your desired types.</p>\n\n<p>You could have also used the generic overload as suggested in another answer.</p>\n"}], "owner": {"reputation": 665, "user_id": 10094995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b99ec0d6e420a4a49a242969c2f42d08?s=128&d=identicon&r=PG&f=1", "display_name": "JSON Brody", "link": "https://stackoverflow.com/users/10094995/json-brody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "accepted_answer_id": 58168592, "answer_count": 2, "score": 4, "last_activity_date": 1569849942, "creation_date": 1568838518, "question_id": 58000314, "link": "https://stackoverflow.com/questions/58000314/how-does-dynamically-casting-microsoft-azure-documents-result-in-deserialization", "title": "How does dynamically casting Microsoft.Azure.Documents result in deserialization?", "body": "<p>My team was given a sample file that demonstrates how to interface with CosmosDB in C# and convert resulting <code>Microsoft.Azure.Document</code> instances into POCOs. The documents are converted like this: <em>(Ellipses indicate left out logic for concision)</em></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public Task&lt;T&gt; GetItemAsync&lt;T&gt; (...)\n{\n\n    Document document = await client.ReadDocumentAsync(...);\n    return (T)(dynamic)document;\n\n}\n</code></pre>\n\n<p>It appears to me that <code>(dynamic)document</code> somehow serializes the document which would otherwise need to be done by specifying each JSON field individually. Seeing as how <code>dynamic</code> cast operations <strong>cannot</strong> be overloaded, I am at a loss as to what causes this deserialization to occur.</p>\n\n<p>What am I overlooking that is preventing me from understanding this operation?</p>\n"}, {"tags": ["c#", "asp.net", "sql-server", "jmeter"], "comments": [{"owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "edited": false, "score": 0, "creation_date": 1568863201, "post_id": 58000207, "comment_id": 102411728, "body": "Do you run distributed testing? If not <a href=\"https://jmeter.apache.org/usermanual/jmeter_distributed_testing_step_by_step.html\" rel=\"nofollow noreferrer\">jmeter.apache.org/usermanual/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12087061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b04b47a5080a64a0de2827aff48e2664?s=128&d=identicon&r=PG&f=1", "display_name": "DevP", "link": "https://stackoverflow.com/users/12087061/devp"}, "edited": false, "score": 0, "creation_date": 1568915855, "post_id": 58005695, "comment_id": 102436824, "body": "Upgrading the Server Configuration (CPU, RAM) works."}], "tags": [], "owner": {"reputation": 116880, "user_id": 2897748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d278f6ada8828c902a13ee8a5e523cce?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitri T", "link": "https://stackoverflow.com/users/2897748/dmitri-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1568877543, "creation_date": 1568877543, "answer_id": 58005695, "question_id": 58000207, "link": "https://stackoverflow.com/questions/58000207/getting-an-error-response-code-non-http-response-code-org-apache-http-conn-ht/58005695#58005695", "title": "Getting an error \u201cResponse code: Non HTTP response code: org.apache.http.conn.HttpHostConnectException\u201d in jmeter", "body": "<p><a href=\"https://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/conn/HttpHostConnectException.html\" rel=\"nofollow noreferrer\">HttpHostConnectException</a> is basically an instance of a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/ConnectException.html?is-external=true\" rel=\"nofollow noreferrer\">ConnectException</a> which:</p>\n\n<blockquote>\n  <p>Signals that an error occurred while attempting to connect a socket to a remote address and port. Typically, the connection was refused <strong>remotely</strong> (e.g., no process is listening on the remote address/port).</p>\n</blockquote>\n\n<p>So most probably the error is on your server side because JMeter attempts to establish the connection and fails to do this within the bounds of the defined timeout</p>\n\n<ol>\n<li><p>If you're absolutely sure that your application works normally you can increase connect timeout in <a href=\"https://www.blazemeter.com/blog/why-its-so-important-use-jmeters-http-request-defaults/\" rel=\"nofollow noreferrer\">HTTP Request Defaults</a> </p>\n\n<p><a href=\"https://i.stack.imgur.com/hoKtE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hoKtE.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>However a better idea would be getting to the bottom of the error and fixing it on server side, the most possible reasons are in:</p>\n\n<ul>\n<li>your application is overloaded, i.e. lacks essential resources like CPU, RAM, Network, etc. Make sure to set up monitoring of these metrics using i.e. <a href=\"https://docs.microsoft.com/en-us/azure/azure-monitor/overview\" rel=\"nofollow noreferrer\">Azure Monitor</a> or <a href=\"https://jmeter-plugins.org/wiki/PerfMon/\" rel=\"nofollow noreferrer\">JMeter PerfMon Plugin</a> </li>\n<li><p>your application infrastructure is not properly configured, make sure to double check if your backend is properly tuned for high loads including <a href=\"https://docs.microsoft.com/en-us/windows-server/administration/performance-tuning/role/web-server/tuning-iis-10\" rel=\"nofollow noreferrer\">IIS</a> and <a href=\"https://docs.microsoft.com/en-us/sql/relational-databases/performance/monitor-and-tune-for-performance?view=sql-server-2017\" rel=\"nofollow noreferrer\">MSSQL</a></p></li>\n<li><p>it might be the case your application code is problematic, i.e. it cannot handle more than X users due to poorly implemented algorithms. Consider using a profiler tool like <a href=\"https://www.nprofiler.com/\" rel=\"nofollow noreferrer\">NProfiler</a> or <a href=\"https://www.jetbrains.com/profiler/\" rel=\"nofollow noreferrer\">dotTrace</a> to detect the most expensive functions, largest objects, etc.</p></li>\n</ul></li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 12087061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b04b47a5080a64a0de2827aff48e2664?s=128&d=identicon&r=PG&f=1", "display_name": "DevP", "link": "https://stackoverflow.com/users/12087061/devp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568877543, "creation_date": 1568837970, "question_id": 58000207, "link": "https://stackoverflow.com/questions/58000207/getting-an-error-response-code-non-http-response-code-org-apache-http-conn-ht", "title": "Getting an error \u201cResponse code: Non HTTP response code: org.apache.http.conn.HttpHostConnectException\u201d in jmeter", "body": "<p>I am running a Load Test on my .Net web application using Jmeter.\nApplication Process: Launch - Login - Start Test - Answer Q&amp;A - Home Page - Logout</p>\n\n<p>Till 500 users or sometimes 750, the test is running successfully. But when I increase the load I get an Error:</p>\n\n<pre><code>Non HTTP response code: org.apache.http.conn.HttpHostConnectException/Non HTTP response message:\nConnect to www.demoname.com:80 [www.demoname.com\\/11.111.111.111] failed: Connection timed out: connect \n</code></pre>\n\n<p>'11.111.111.111' - is my Server IP address</p>\n\n<p>I have increased the jmeter.batch file Heap memory to HEAP=-Xms1g -Xmx4g -XX:MaxMetaspaceSize=256m</p>\n\n<p>Apache Jmeter version - 5.1.1r1855137</p>\n\n<p>Java Version - 1.8.0_221</p>\n\n<p>Server Configuration: Standard D4 v2 (8 vcpus, 28 GiB memory)</p>\n\n<p>How can I get rid of this error?</p>\n"}, {"tags": ["c#", "arrays", "algorithm", "time-complexity", "big-o"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1568838039, "post_id": 58000155, "comment_id": 102406236, "body": "Rather then a linked list, use a list with pre-set capacity. The Constructor of Lists allow you to specify a capacity. Something like A.Count should be a good upper bound. Do not use a linked list until you <i>actually</i> ran into problems. Their performance is hilariously bad compared to a good old list. At worst adding something at the end, requires going through the entire existing list (to find the element you need to add something at)."}, {"owner": {"reputation": 29444, "user_id": 3072788, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/220a45c2fcff7e7358d144551b116205?s=128&d=identicon&r=PG&f=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/3072788/alec"}, "edited": false, "score": 1, "creation_date": 1568838116, "post_id": 58000155, "comment_id": 102406272, "body": "&quot;Is there any way to solve this task and achieve O(n)?&quot;. No. The best you can get is probably O(m*log(n))."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1568838596, "post_id": 58000155, "comment_id": 102406461, "body": "Under what circumstances is knowing the complexity important?  Are you running code like this millions/billions of times and are having performance problems or are you trying to pre-optimize something?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1568839187, "post_id": 58000155, "comment_id": 102406664, "body": "HashSet is amortized O(1) for lookups, so doesn&#39;t factor into the overall complexity.  AddLast() is O(1).  You have a single for-loop so it is O(n).  Populating the hashset and copying to the array are O(n) as well, so it stays O(n).  The code is not optimal, but not what you asked about."}, {"owner": {"reputation": 23, "user_id": 12085723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6711386562fd199d024e00108a0ed94?s=128&d=identicon&r=PG&f=1", "display_name": "Faize13", "link": "https://stackoverflow.com/users/12085723/faize13"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1568906027, "post_id": 58000155, "comment_id": 102432346, "body": "@ErikPhilips I&#39;m trying to understand this time complexity thing (Big-O Notation) especially for functions with 2 variables as input. I remember I saw a task similar to mine and one of it&#39;s conditions were to achieve <code>O(n)</code> worst-case time complexity for a function with 2 string arrays (as input) and in a function you needed to simply check each element of both arrays for equality. I didn&#39;t believed that <code>O(n)</code> is possible here, so I had to ask out of curiosity."}, {"owner": {"reputation": 23, "user_id": 12085723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6711386562fd199d024e00108a0ed94?s=128&d=identicon&r=PG&f=1", "display_name": "Faize13", "link": "https://stackoverflow.com/users/12085723/faize13"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1568906706, "post_id": 58000155, "comment_id": 102432735, "body": "@HansPassant wow, is this really a <code>O(n)</code> approach?! - I&#39;m sorry, I&#39;m a bit confused not only because I&#39;m a newbie in this &quot;department&quot;, but also because there&#39;s so much different opinions on that matter. For example, the first answer below. Can you also please explain (in short) what do I need to do to make this code more optimal?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1568907066, "post_id": 58000155, "comment_id": 102432915, "body": "The hashset uses O(n) storage, trading memory for speed is one of the standard tricks.  Use List instead of LinkedList to improve locality of reference, change the return type to <code>IEnumerable&lt;int&gt;</code> so you don&#39;t have to copy."}], "answers": [{"comments": [{"owner": {"reputation": 44047, "user_id": 1400793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VxVK.png?s=128&g=1", "display_name": "Paul Hankin", "link": "https://stackoverflow.com/users/1400793/paul-hankin"}, "edited": false, "score": 0, "creation_date": 1568878824, "post_id": 58001302, "comment_id": 102416876, "body": "I think you&#39;ve got a typo -- I calculate the worst case for hashing is <code>O(km(n+m))</code> assuming you build a hashtable of B and look up all the elements of A in it (and your hashtable uses a linked list of items with the same hashcode)."}, {"owner": {"reputation": 23, "user_id": 12085723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6711386562fd199d024e00108a0ed94?s=128&d=identicon&r=PG&f=1", "display_name": "Faize13", "link": "https://stackoverflow.com/users/12085723/faize13"}, "edited": false, "score": 0, "creation_date": 1568910302, "post_id": 58001302, "comment_id": 102434438, "body": "@btilly Can you please clarify how did you calculate <code>O(k*(m + n))</code> for my second approach? You see, I&#39;m a newbie in this... so, in my understanding: 1. Initialization of HashSet and copying an array to it is an <code>O(n)</code> operation (space complexity, I believe???);  2. Single for-loop that executes <code>n</code> times, inside which we&#39;re checking whether the element in <code>A</code> is stored in the created <code>bSet</code> -&gt; it&#39;s still <code>O(n)</code> because HashSet <code>Contains()</code> method is in fact a constant <code>O(1)</code> operation;  3. Copying to a newly created array is also a linear time operation - <code>O(n)</code>. Am I right?"}, {"owner": {"reputation": 35084, "user_id": 585411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xvEpe.jpg?s=128&g=1", "display_name": "btilly", "link": "https://stackoverflow.com/users/585411/btilly"}, "reply_to_user": {"reputation": 23, "user_id": 12085723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6711386562fd199d024e00108a0ed94?s=128&d=identicon&r=PG&f=1", "display_name": "Faize13", "link": "https://stackoverflow.com/users/12085723/faize13"}, "edited": false, "score": 0, "creation_date": 1568912087, "post_id": 58001302, "comment_id": 102435198, "body": "@Faize13 When people talk about hash algorithms they often implicitly assume that computing a hash value is <code>O(1)</code>.  But in fact it isn&#39;t.  The longer the string you are hashing, the longer it takes to compute a hash value."}], "tags": [], "owner": {"reputation": 35084, "user_id": 585411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xvEpe.jpg?s=128&g=1", "display_name": "btilly", "link": "https://stackoverflow.com/users/585411/btilly"}, "is_accepted": true, "score": 3, "last_activity_date": 1568911987, "last_edit_date": 1568911987, "creation_date": 1568844281, "answer_id": 58001302, "question_id": 58000155, "link": "https://stackoverflow.com/questions/58000155/how-to-achieve-on-worst-case-time-complexity-for-this-function/58001302#58001302", "title": "How to achieve O(n) worst-case time complexity for this function?", "body": "<p>If you have <code>n</code> elements in <code>A</code>, <code>m</code> elements in <code>B</code>, and the strings are of length <code>k</code>, the expected time of a hashmap approach is <code>O(k*(m + n))</code>.  Unfortunately the worst time is <code>O(km(m + n))</code> if the hashing algorithm doesn't work. (The odds of which are very low.)  I had this wrong before, thanks to @PaulHankin for the correction.</p>\n\n<p>To get <code>O(k*(m + n))</code> <em>worst</em> time we have to take a very different approach.  What you do is build a <a href=\"https://en.wikipedia.org/wiki/Trie\" rel=\"nofollow noreferrer\">trie</a> out of B.  And now you go through each element of <code>A</code> and look it up in the trie.  Unlike a hash, a trie has guaranteed worst case performance (and better yet, allows prefix lookups even though we aren't using that).  This approach gives us not just expected average time <code>O(k*(m + n))</code> but also the same worst time.</p>\n\n<p>You cannot do better than this because just processing the lists requires processing <code>O(k*(m + n))</code> data.</p>\n"}, {"tags": [], "owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "is_accepted": false, "score": -1, "last_activity_date": 1568855731, "creation_date": 1568855731, "answer_id": 58002466, "question_id": 58000155, "link": "https://stackoverflow.com/questions/58000155/how-to-achieve-on-worst-case-time-complexity-for-this-function/58002466#58002466", "title": "How to achieve O(n) worst-case time complexity for this function?", "body": "<p>Here is how you could rewrite your second approach using LINQ, while also selecting case-insensitive string comparison:</p>\n\n<pre><code>public static int[] GetExistingStrings(string[] first, string[] second)\n{\n    var secondSet = new HashSet&lt;string&gt;(second, StringComparer.OrdinalIgnoreCase);\n    return first\n        .Select((e, i) =&gt; (Element : e, Index : i))\n        .Where(p =&gt; !secondSet.Contains(p.Element))\n        .Select(p =&gt; p.Index)\n        .ToArray();\n}\n</code></pre>\n\n<p>The time and space complexity is the same (O(n)). It's just a more fancy way to do the same thing.</p>\n"}], "owner": {"reputation": 23, "user_id": 12085723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6711386562fd199d024e00108a0ed94?s=128&d=identicon&r=PG&f=1", "display_name": "Faize13", "link": "https://stackoverflow.com/users/12085723/faize13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "accepted_answer_id": 58001302, "answer_count": 2, "score": 2, "last_activity_date": 1568911987, "creation_date": 1568837736, "question_id": 58000155, "link": "https://stackoverflow.com/questions/58000155/how-to-achieve-on-worst-case-time-complexity-for-this-function", "title": "How to achieve O(n) worst-case time complexity for this function?", "body": "<p>I'm having issues with a certain task. It's not a homework or anything, it's rather a personal matter now. And I want to know if there's even a solution for this...</p>\n\n<p>The point is to achieve <strong>expected O(n) worst-case time complexity</strong> of a function, that takes 2 string arrays as input (let's call first one <code>A</code>, and the second array <code>B</code>) and should return an array of integers where each element represents an index of the corresponding element in array <code>A</code>.</p>\n\n<p>So, this is how a function should look like:</p>\n\n<pre><code>private static int[] GetExistingStrings(string[] A, string[] B) { ... }\n</code></pre>\n\n<ul>\n<li>Array <code>A</code> contains all possible names</li>\n<li>Array <code>B</code> contains names which should be excluded (i.e. if some of the names stored in <code>B</code> array are also in the <code>A</code> array, their indices should not be included in an output int[] array; it's also possible that this array can contain some random strings which are not necessarily may present in the <code>A</code> array OR it may even be empty.</li>\n</ul>\n\n<p>For example, if we have these arrays:</p>\n\n<pre><code>string[] A = { \"one\", \"two\", \"three\", \"four\" }; // 0, 1, 2, 3\nstring[] B = { \"two\", \"three\" }; // Indices of \"two\" and \"three\" not taken into account\n</code></pre>\n\n<p>The function should return:</p>\n\n<pre><code>int[] result = { 0, 3 }; // Indices of \"one\" and \"four\"\n</code></pre>\n\n<p>At first, I tried doing it the obvious and simple way (with nested for-loops):</p>\n\n<pre><code>private static int[] GetExistingStrings(string[] A, string[] B)\n{\n    LinkedList&lt;int&gt; aIndices = new LinkedList&lt;int&gt;();\n\n    for (int n = 0; n &lt; A.Length; n++)\n    {\n        bool isExcluded = false;\n        for (int m = 0; m &lt; B.Length; m++)\n        {\n            if (A[n].Equals(B[m]))\n            {\n                isExcluded = true;\n                break;\n            }\n        }\n\n        if (!isExcluded)\n        {\n            aIndices.AddLast(i);\n        }\n    }\n\n    int[] resultArray = new int[aIndices.Count];\n    aIndices.CopyTo(resultArray, 0);\n    return resultArray;\n}\n</code></pre>\n\n<p>I used LinkedList because we can't possibly know what the ouput's array size should be and also because adding new nodes to this list is a constant <strong>O(1)</strong> operation. The problem here, of course, is that this function (as I assume) is <strong>O(n*M)</strong> time complexity. So, we need to find another way...</p>\n\n<p>My second approach was:</p>\n\n<pre><code>private static int[] GetExistingStrings(string[] A, string[] B)\n{\n    int n = A.Length;\n    int m = B.Length;\n\n    if (m == 0)\n    {\n        return GetDefaultOutputArray(n);\n    }\n\n    HashSet&lt;string&gt; bSet = new HashSet&lt;string&gt;(B);\n    LinkedList&lt;int&gt; aIndices = new LinkedList&lt;int&gt;();\n\n    for (int i = 0; i &lt; n; i++)\n    {\n        if (!bSet.Contains(A[i]))\n        {\n            aIndices.AddLast(i);\n        }\n    }\n\n    if (aIndices.Count &gt; 0)\n    {\n        int[] result = new int[aIndices.Count];\n        aIndices.CopyTo(result, 0);\n        return result;\n    }\n\n    return GetDefaultOutputArray(n);\n}\n\n// Just an utility function that returns a default array\n// with length \"arrayLength\", where first element is 0, next one is 1 and so on...\nprivate static int[] GetDefaultOutputArray(int arrayLength)\n{\n    int[] array = new int[arrayLength];\n    for (int i = 0; i &lt; arrayLength; i++)\n    {\n        array[i] = i;\n    }\n    return array;\n}\n</code></pre>\n\n<p>Here the idea was to add all elements of <code>B</code> array to a HashSet and then use it's method <code>Contains()</code> to check for equality in a for-loop. But I can't quite calculate time complexity of this function... I know for sure that the code in the for-loop will execute <code>n</code> times. But what bugs me the most is the HashSet initialization - should it be taken into account here? How does it affects time complexity? is this function <strong>O(n)</strong>? Or <strong>O(n+m)</strong> because of HashSet initialization?</p>\n\n<p>Is there any way to solve this task and achieve <strong>O(n)</strong>?</p>\n"}, {"tags": ["c#", ".net", "string", "struct", "c#-7.0"], "comments": [{"owner": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "edited": false, "score": 0, "creation_date": 1568837867, "post_id": 58000097, "comment_id": 102406172, "body": "ooooorrr make it a class?"}, {"owner": {"reputation": 3326, "user_id": 4331637, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2ce26e46b92a501954c36cf2e486d42c?s=128&d=identicon&r=PG&f=1", "display_name": "Enrico Massone", "link": "https://stackoverflow.com/users/4331637/enrico-massone"}, "reply_to_user": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "edited": false, "score": 1, "creation_date": 1568838047, "post_id": 58000097, "comment_id": 102406244, "body": "@Dave it is a struct because a struct is always guarantee to have a value, it cannot be a null reference. Let&#39;s suppose to make it a class. Doing so each time I use an instance of <code>NonEmptyString</code> I have to check whether it is a null reference. I would like to avoid so, in other words I would like to be sure that given an instance of <code>NonEmptyString</code> I have an actual value"}, {"owner": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "edited": false, "score": 1, "creation_date": 1568838320, "post_id": 58000097, "comment_id": 102406354, "body": "mmm yeah that&#39;s a valid point. Can you use c# 8&#39;s non-nullable reference types? or you could throw an exception in the parameterless ctor? I dont like that, but I&#39;m just spitballing, as they say"}, {"owner": {"reputation": 3326, "user_id": 4331637, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2ce26e46b92a501954c36cf2e486d42c?s=128&d=identicon&r=PG&f=1", "display_name": "Enrico Massone", "link": "https://stackoverflow.com/users/4331637/enrico-massone"}, "reply_to_user": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "edited": false, "score": 0, "creation_date": 1568838901, "post_id": 58000097, "comment_id": 102406573, "body": "@Dave unfortunately with C# 7 you cannot edit the default constructor of a struct. So the idea of adding a guard to it is not feasible. C# 8 with the idea of non nullable reference type could be helful. At the moment I can only evaluate to use it in new projects, because the change in the reference type semantic is a massive breaking change (there are plenty of code bases written under the assumption that a reference type can be null, based on what I know the default of C# 8 is assuming that a reference type cannot be null, you can be explicit if you want it to be nullable)"}, {"owner": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "edited": false, "score": 1, "creation_date": 1568840325, "post_id": 58000097, "comment_id": 102407062, "body": "my opinion is this... unless your default value is valid/useful in someway, how is &#39;N/A&#39; or &#39;empty string&#39; any better than an actual empty string? A default value is only useful if its valid, otherwise its literally pointless"}, {"owner": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "edited": false, "score": 1, "creation_date": 1568840383, "post_id": 58000097, "comment_id": 102407085, "body": "So as much as I dont like that it is run time validation as apposed to compile time, I think options 2 is better"}, {"owner": {"reputation": 3326, "user_id": 4331637, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2ce26e46b92a501954c36cf2e486d42c?s=128&d=identicon&r=PG&f=1", "display_name": "Enrico Massone", "link": "https://stackoverflow.com/users/4331637/enrico-massone"}, "reply_to_user": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "edited": false, "score": 1, "creation_date": 1568840543, "post_id": 58000097, "comment_id": 102407136, "body": "@Dave I agree with you. The idea of providing a meaningless default value just to avoid a null reference is a trick. Probably throwing at runtime it&#39;s better. That&#39;s the same approach Microsoft has used with Nullable&lt;T&gt;. in that case you are free to access the Value of an instance even when the value itself is missing, but in that case you get an InvalidOperationException at runtime"}], "answers": [{"comments": [{"owner": {"reputation": 3326, "user_id": 4331637, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2ce26e46b92a501954c36cf2e486d42c?s=128&d=identicon&r=PG&f=1", "display_name": "Enrico Massone", "link": "https://stackoverflow.com/users/4331637/enrico-massone"}, "edited": false, "score": 0, "creation_date": 1568840192, "post_id": 58000561, "comment_id": 102407022, "body": "the empty string is one of the values this type is meant to avoid. It&#39;s fine to provide a default value for uninitialized instances, but that value can&#39;t be null, string.empty or a sequence of spaces. Apart from this, you are basically suggesting of providing a default value for instances obtained via the default constructor, which is the first of my two proposals."}, {"owner": {"reputation": 8607, "user_id": 397807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3H1G9.jpg?s=128&g=1", "display_name": "tia", "link": "https://stackoverflow.com/users/397807/tia"}, "reply_to_user": {"reputation": 3326, "user_id": 4331637, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2ce26e46b92a501954c36cf2e486d42c?s=128&d=identicon&r=PG&f=1", "display_name": "Enrico Massone", "link": "https://stackoverflow.com/users/4331637/enrico-massone"}, "edited": false, "score": 0, "creation_date": 1568840397, "post_id": 58000561, "comment_id": 102407090, "body": "You can use <code>_value ?? &quot;N&#47;A&quot;</code> if you want it that way."}], "tags": [], "owner": {"reputation": 8607, "user_id": 397807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3H1G9.jpg?s=128&g=1", "display_name": "tia", "link": "https://stackoverflow.com/users/397807/tia"}, "is_accepted": false, "score": 0, "last_activity_date": 1568839772, "creation_date": 1568839772, "answer_id": 58000561, "question_id": 58000097, "link": "https://stackoverflow.com/questions/58000097/how-to-design-a-type-representing-a-string-neither-null-nor-white-space/58000561#58000561", "title": "How to design a type representing a string neither null nor white space", "body": "<p>Instead of using auto property, you can use backing field <code>_value</code> and implement getter for <code>Value</code> property instead. like</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public string Value =&gt; _value ?? \"\";\n</code></pre>\n\n<p>Then make every function works when <code>_value</code> is null;</p>\n"}, {"comments": [{"owner": {"reputation": 3326, "user_id": 4331637, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2ce26e46b92a501954c36cf2e486d42c?s=128&d=identicon&r=PG&f=1", "display_name": "Enrico Massone", "link": "https://stackoverflow.com/users/4331637/enrico-massone"}, "edited": false, "score": 0, "creation_date": 1568888619, "post_id": 58005937, "comment_id": 102422007, "body": "The whole point of my question is not how to actually implement a fallback value, instead I&#39;m looking for suggestions about the whole design of my type. I mean suggestions in order to get a type easy to use, well written and useful for the purpose of avoiding code repetition. In the comment you quoted above I was just saying that I don&#39;t like too much the idea of providing a fallback value, becase a value such as &quot;N.A.&quot; doesn&#39;t have a real meaning, it&#39;s just a way to always have a non null fallback for the Value property."}], "tags": [], "owner": {"reputation": 12976, "user_id": 3796048, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s49Fs.png?s=128&g=1", "display_name": "Mohit Shrivastava", "link": "https://stackoverflow.com/users/3796048/mohit-shrivastava"}, "is_accepted": false, "score": 0, "last_activity_date": 1568878393, "creation_date": 1568878393, "answer_id": 58005937, "question_id": 58000097, "link": "https://stackoverflow.com/questions/58000097/how-to-design-a-type-representing-a-string-neither-null-nor-white-space/58005937#58005937", "title": "How to design a type representing a string neither null nor white space", "body": "<p>I'm not sure if I understand your question well but I assume from </p>\n\n<blockquote>\n  <p>The idea of providing a meaningless default value just to avoid a null\n  reference is a trick. Probably throwing at runtime it's better. That's\n  the same approach Microsoft has used with Nullable. in that case\n  you are free to access the Value of an instance even when the value\n  itself is missing</p>\n</blockquote>\n\n<pre><code>public class Person \n{\n    private string _name;\n    public string Name\n    {\n        get { return _name; }\n        set\n        {\n            if(String.IsNullOrWhiteSpace(value) || String.IsNullOrEmpty(value))\n            {\n                value = \"NA\";\n            }\n            _name = value;\n        }\n    }\n\n   public Person(string name)\n   {\n      this.Name = name;\n   }\n}\n</code></pre>\n\n<p>This probably might help you. The code is untested, It is just to give you a glimpse of what you might be looking for.</p>\n"}], "owner": {"reputation": 3326, "user_id": 4331637, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2ce26e46b92a501954c36cf2e486d42c?s=128&d=identicon&r=PG&f=1", "display_name": "Enrico Massone", "link": "https://stackoverflow.com/users/4331637/enrico-massone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1568878393, "creation_date": 1568837459, "last_edit_date": 1568837893, "question_id": 58000097, "link": "https://stackoverflow.com/questions/58000097/how-to-design-a-type-representing-a-string-neither-null-nor-white-space", "title": "How to design a type representing a string neither null nor white space", "body": "<p>Many times we pass strings in the constructor of business entities and we want to be sure that those strings actually carry a value with them. In such a scenario we perform a validation of the constructor parameters and we throw an <code>ArgumentException</code> each time the passed in string is null or white space.</p>\n\n<p>This is an example of what I mean:</p>\n\n<pre><code>public class Person \n{\n   public string Name { get; }\n\n   public Person(string name)\n   {\n      if (string.IsNullOrWhiteSpace(name))\n      {\n         throw new ArgumentException(\"A person name cannot be null or white space\", nameof(name));\n      }\n\n      this.Name = name;\n   }\n}\n</code></pre>\n\n<p>Tired of repeting myself I decided to design an auto safe type representing a string neither null nor white space. This way I can directly use instances of that type in my business code and avoid any validation, because each instance of the type is auto safe (in other words the validation code is now in one place, the code for the type itself). </p>\n\n<p>This is the <code>NonEmptyString</code> struct (original code is <a href=\"https://github.com/deltatre-webplu/deltatre.utils/blob/master/src/Deltatre.Utils/Types/NonEmptyString.cs\" rel=\"nofollow noreferrer\">here</a>):</p>\n\n<pre><code>using System;\n\nnamespace Deltatre.Utils.Types\n{\n  /// &lt;summary&gt;\n  /// This type wraps a string which is guaranteed to be neither null nor white space\n  /// &lt;/summary&gt;\n  public struct NonEmptyString\n  {\n    /// &lt;summary&gt;\n    /// Implicit conversion from &lt;see cref=\"NonEmptyString\"/&gt; to &lt;see cref=\"string\"/&gt;\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"nonEmptyString\"&gt;The instance of &lt;see cref=\"NonEmptyString\"/&gt; to be converted&lt;/param&gt;\n    public static implicit operator string(NonEmptyString nonEmptyString)\n    {\n      return nonEmptyString.Value;\n    }\n\n    /// &lt;summary&gt;\n    /// Explicit conversion from &lt;see cref=\"string\"/&gt; to &lt;see cref=\"NonEmptyString\"/&gt;\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"value\"&gt;The instance of &lt;see cref=\"string\"/&gt; to be converted&lt;/param&gt;\n    /// &lt;exception cref=\"InvalidCastException\"&gt;Throws &lt;see cref=\"InvalidCastException\"/&gt; when &lt;paramref name=\"value\"/&gt; is null or white space&lt;/exception&gt;\n    public static explicit operator NonEmptyString(string value)\n    {\n      try\n      {\n        return new NonEmptyString(value);\n      }\n      catch (ArgumentException ex)\n      {\n        throw new InvalidCastException($\"Unable to convert the provided string to {typeof(NonEmptyString).Name}\", ex);\n      }\n    }\n\n    /// &lt;summary&gt;\n    /// Creates new instance of &lt;see cref=\"NonEmptyString\"/&gt;\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"value\"&gt;The string to be wrapped&lt;/param&gt;\n    /// &lt;exception cref=\"ArgumentException\"&gt;Throws &lt;see cref=\"ArgumentException\"/&gt; when parameter &lt;paramref name=\"value\"/&gt; is null or white space&lt;/exception&gt;\n    public NonEmptyString(string value)\n    {\n      if (string.IsNullOrWhiteSpace(value))\n        throw new ArgumentException($\"Parameter {nameof(value)} cannot be null or white space\", nameof(value));\n\n      this.Value = value;\n    }\n\n    /// &lt;summary&gt;\n    /// Gets the wrapped string\n    /// &lt;/summary&gt;\n    public string Value { get; }\n\n    /// &lt;summary&gt;Indicates whether this instance and a specified object are equal.&lt;/summary&gt;\n    /// &lt;param name=\"obj\"&gt;The object to compare with the current instance. &lt;/param&gt;\n    /// &lt;returns&gt;\n    ///     &lt;see langword=\"true\" /&gt; if &lt;paramref name=\"obj\" /&gt; and this instance are the same type and represent the same value; otherwise, &lt;see langword=\"false\" /&gt;. &lt;/returns&gt;\n    public override bool Equals(object obj)\n    {\n      if (!(obj is NonEmptyString))\n      {\n        return false;\n      }\n\n      var other = (NonEmptyString)obj;\n      return this.Value == other.Value;\n    }\n\n    /// &lt;summary&gt;Returns the hash code for this instance.&lt;/summary&gt;\n    /// &lt;returns&gt;A 32-bit signed integer that is the hash code for this instance.&lt;/returns&gt;\n    public override int GetHashCode()\n    {\n      unchecked\n      {\n        int hash = 17;\n        hash = (hash * 23) + (this.Value == null ? 0 : this.Value.GetHashCode());\n        return hash;\n      }\n    }\n\n    /// &lt;summary&gt;\n    /// Compares two instances of &lt;see cref=\"NonEmptyString\"/&gt; for equality\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"left\"&gt;An instance of &lt;see cref=\"NonEmptyString\"/&gt;&lt;/param&gt;\n    /// &lt;param name=\"right\"&gt;An instance of &lt;see cref=\"NonEmptyString\"/&gt;&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    public static bool operator ==(NonEmptyString left, NonEmptyString right)\n    {\n      return left.Equals(right);\n    }\n\n    /// &lt;summary&gt;\n    /// Compares two instances of &lt;see cref=\"NonEmptyString\"/&gt; for inequality\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"left\"&gt;An instance of &lt;see cref=\"NonEmptyString\"/&gt;&lt;/param&gt;\n    /// &lt;param name=\"right\"&gt;An instance of &lt;see cref=\"NonEmptyString\"/&gt;&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    public static bool operator !=(NonEmptyString left, NonEmptyString right)\n    {\n      return !(left == right);\n    }\n  }\n}\n</code></pre>\n\n<p>Using my new type I can change the previous code this way: </p>\n\n<pre><code>public class Person \n{\n  public NonEmptyString Name { get; }\n\n  public Person(NonEmptyString name)\n  {          \n    this.Name = name;\n  }\n}\n</code></pre>\n\n<p>The only issue with this design is represented by the <strong>default constructor</strong> which is always available because my type is a <code>struct</code>.</p>\n\n<p>If anyone using my code writes <code>var myString = new NonEmptyString();</code> he gets an instance of the type which encapsulates a <code>null</code> reference: this is something I would like to avoid because doing so the entire purpose of my auto safe type is invalidated. In other words I don't want to rely on the programmer not calling the default constructor, I would like to make it impossible to misuse this type. </p>\n\n<p>I came up with a couple of ideas:</p>\n\n<ul>\n<li><p>provide a default value for the read only property <code>Value</code>, something such as \"N.A.\". This way even when the default constructor is called the instance obtained encapsulates a non null and non white space value.</p></li>\n<li><p>adding a flag indicating whether the type has been initialized, having a default value of <code>false</code>. This state is read only and it is changed to <code>true</code> only in the constructor overload receiving a string parameter. This way a guard can be added to any member of the type, so that an <code>InvalidOperationException</code> can be raised each time a programmer tries to use a non initialized instance of the type (that is, an instance of the type obtained by calling the default constructor).</p></li>\n</ul>\n\n<p>Do you have any suggestion ? What approach do you prefer ?</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1568863744, "post_id": 58000011, "comment_id": 102411798, "body": "well basically the exception you get tells you .."}], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 6439069, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e7091253cae4bcad89cdbf63bcdd8f4a?s=128&d=identicon&r=PG", "display_name": "Angelsm", "link": "https://stackoverflow.com/users/6439069/angelsm"}, "edited": false, "score": 1, "creation_date": 1568878147, "post_id": 58000095, "comment_id": 102416489, "body": "I have removed MonoBehaviour in the BC_PlayerInfo class and the error has disappeared, but the LeaderboardNames aren&#39;t loaded in the foreach"}, {"owner": {"reputation": 323, "user_id": 6439069, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e7091253cae4bcad89cdbf63bcdd8f4a?s=128&d=identicon&r=PG", "display_name": "Angelsm", "link": "https://stackoverflow.com/users/6439069/angelsm"}, "edited": false, "score": 1, "creation_date": 1568892965, "post_id": 58000095, "comment_id": 102424371, "body": "I have got the solution changing &quot;private string SafeGet(JsonData jsonData, string key)&quot; for &quot;private string SafeGet(JsonData jsonData)&quot;. Thank you very much!!"}], "tags": [], "owner": {"reputation": 470, "user_id": 6730679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LqKkp.jpg?s=128&g=1", "display_name": "deruitda", "link": "https://stackoverflow.com/users/6730679/deruitda"}, "is_accepted": true, "score": 3, "last_activity_date": 1568837446, "creation_date": 1568837446, "answer_id": 58000095, "question_id": 58000011, "link": "https://stackoverflow.com/questions/58000011/how-to-fix-error-when-load-json-from-a-server/58000095#58000095", "title": "How to fix error when load Json from a server", "body": "<p>You can't instantiate objects that inherit from MonoBehavior, by using this line:</p>\n\n<pre><code>lblist.Add(new BC_PlayerInfo(leaderboardId));\n</code></pre>\n\n<p>you are creating a new instance of a Monobehavior, which is not allowed by Unity. See this post for more details: <a href=\"https://answers.unity.com/questions/653904/you-are-trying-to-create-a-monobehaviour-using-the-2.html\" rel=\"nofollow noreferrer\">https://answers.unity.com/questions/653904/you-are-trying-to-create-a-monobehaviour-using-the-2.html</a></p>\n\n<p>As for your solution, does this class really need to inherit from monobehavior? I would just remove that inheritance or create a separate class that does not inherit from monobehavior. </p>\n"}], "owner": {"reputation": 323, "user_id": 6439069, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e7091253cae4bcad89cdbf63bcdd8f4a?s=128&d=identicon&r=PG", "display_name": "Angelsm", "link": "https://stackoverflow.com/users/6439069/angelsm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 58000095, "answer_count": 1, "score": 0, "last_activity_date": 1568863656, "creation_date": 1568837054, "last_edit_date": 1568863656, "question_id": 58000011, "link": "https://stackoverflow.com/questions/58000011/how-to-fix-error-when-load-json-from-a-server", "title": "How to fix error when load Json from a server", "body": "<p>I want to get a JSON from a server but this error appears in the console:\u2028</p>\n\n<blockquote>\n  <p>You are trying to create a <code>MonoBehaviour</code> using the <code>'new'</code> keyword.  This is not allowed. <code>MonoBehaviour</code>s can only be added using <code>AddComponent()</code>. Alternatively, your script can inherit from <code>ScriptableObject</code> or no base class at all<br>\n  <code>UnityEngine.MonoBehaviour:.ctor()</code></p>\n</blockquote>\n\n<p>The JSON is like a list of names, for example </p>\n\n<blockquote>\n  <p>[\u201cleaderboard01\u201d, \u201cleaderboard02\u201d, \u2026]</p>\n</blockquote>\n\n<p>This is my code:</p>\n\n<pre><code>public class BC_PlayerInfo : MonoBehaviour \n{\n    public string LeaderboardId = \"\";\n\n    public BC_PlayerInfo(JsonData jsonData)\n    {\n        LeaderboardId = SafeGet(jsonData, \"leaderboardId\");\n    }\n\n    private string SafeGet(JsonData jsonData, string key)\n    {\n        var returnValue = \"\";\n\n        try\n        {\n            returnValue = jsonData[key].ToString();\n        }\n        catch (Exception e)\n        {\n        }\n\n        return returnValue;\n    }\n}\n</code></pre>\n\n<p>And...</p>\n\n<pre><code>private void GetLeaderboadsList()\n{\n    WebClient webClient = new WebClient();\n\n    string result = webClient.DownloadString(\"https://xxxxxxxxx.com/wp-json/vendor/v1/carambolaEventsNames\");\n\n    Debug.Log(\"Usuario creado en la WEB: \" + result);\n\n    List&lt;string&gt; leaderboardIds = new List&lt;string&gt;();\n\n    lblist.Clear();\n\n    var leaderboardsList = JsonMapper.ToObject(result);\n\n    foreach (JsonData leaderboardId in leaderboardsList) lblist.Add(new BC_PlayerInfo(leaderboardId));\n\n    foreach (var leaderboardId in lblist)\n    {\n        string _leaderboardId = leaderboardId.LeaderboardId;\n        Debug.Log(\"LeaderboardName: \" + _leaderboardId);\n    }\n}\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["c#", "xml", "encoding", "utf-8", "html-agility-pack"], "answers": [{"comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "reply_to_user": {"reputation": 59, "user_id": 12043307, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBtjYmWJ_yTer-Sh5xTAYZbF2mSD3FNb_7gb3oYmA=k-s128", "display_name": "Daniel Lima", "link": "https://stackoverflow.com/users/12043307/daniel-lima"}, "edited": false, "score": 0, "creation_date": 1568837933, "post_id": 57999979, "comment_id": 102406196, "body": "Are you asking how to pass parameters? See <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.streamreader.-ctor?view=netframework-4.8#System_IO_StreamReader__ctor_System_String_System_Text_Encoding_\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a> and  <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.text.encoding\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/system.text.encoding</a>"}], "tags": [], "owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "is_accepted": true, "score": 2, "last_activity_date": 1568836875, "creation_date": 1568836875, "answer_id": 57999979, "question_id": 57999969, "link": "https://stackoverflow.com/questions/57999969/c-htmlagilitypack-encoding-problem-when-loads-html/57999979#57999979", "title": "C# HtmlAgilityPack encoding problem when loads html", "body": "<p>You need to pass the encoding to the <code>StreamReader</code> constructor, which parses your file's bytes.</p>\n"}], "owner": {"reputation": 59, "user_id": 12043307, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBtjYmWJ_yTer-Sh5xTAYZbF2mSD3FNb_7gb3oYmA=k-s128", "display_name": "Daniel Lima", "link": "https://stackoverflow.com/users/12043307/daniel-lima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 57999979, "answer_count": 1, "score": 1, "last_activity_date": 1568838695, "creation_date": 1568836801, "last_edit_date": 1568837565, "question_id": 57999969, "link": "https://stackoverflow.com/questions/57999969/c-htmlagilitypack-encoding-problem-when-loads-html", "title": "C# HtmlAgilityPack encoding problem when loads html", "body": "<p>I'm using HTMLAGILITYPACK to extract all of data from a HTML local page but still have problem with special characters ... look it: <a href=\"https://prnt.sc/p7xegw\" rel=\"nofollow noreferrer\">https://prnt.sc/p7xegw</a> (I can't use ~,`,\u00b4,\u00e7 and others).</p>\n\n<p>This is my code to call my HTML page:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>System.IO.StreamReader myFile = new System.IO.StreamReader(\"C:/Users/Dev-02/Desktop/Daniel/xml_project/schemaproject/portal.html\");\n\nstring arquivohtml = myFile.ReadToEnd();\nHtmlAgilityPack.HtmlDocument doc = new HtmlAgilityPack.HtmlDocument();\n\ndoc.LoadHtml(arquivohtml);\n</code></pre>\n\n<p><strong>Is there a way to set my encoding while I'm calling my HTML page?</strong></p>\n"}, {"tags": ["c#", "asp.net-mvc"], "answers": [{"tags": [], "owner": {"reputation": 32697, "user_id": 34208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f98600a959a58d3bd851c12fec2e1f88?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/34208/david"}, "is_accepted": true, "score": 2, "last_activity_date": 1568836788, "creation_date": 1568836788, "answer_id": 57999966, "question_id": 57999862, "link": "https://stackoverflow.com/questions/57999862/redirect-and-add-new-parameters-in-asp-net/57999966#57999966", "title": "Redirect and add new parameters in ASP.NET", "body": "<p>When you use \"<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.mvc.redirectresult?view=aspnet-mvc-5.2\" rel=\"nofollow noreferrer\">RedirectResult</a>\", the new URL is sent back to the browser with a 302 status code.  Then the browser makes a 2nd request to download the new URL.  This means that the browser will need network connectivity to your 2nd server and the URL in the browser will change to show the new URL (including any token you append).</p>\n\n<p>To stop this from happening, your .Net code needs to make the 2nd web request itself.  In many cases, you can use the <a href=\"https://blogs.msdn.microsoft.com/friis/2016/08/25/setup-iis-with-url-rewrite-as-a-reverse-proxy-for-real-world-apps/\" rel=\"nofollow noreferrer\">IIS Rewrite module</a> to act as a reverse proxy to do this.  If that's doesn't give you enough options, you can make the request yourself by using the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.net.webclient.downloadstring?view=netframework-4.8\" rel=\"nofollow noreferrer\">WebClient</a> class.</p>\n"}], "owner": {"reputation": 2646, "user_id": 311063, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/mHZ7H.jpg?s=128&g=1", "display_name": "Miro J.", "link": "https://stackoverflow.com/users/311063/miro-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 57999966, "answer_count": 1, "score": 0, "last_activity_date": 1568836788, "creation_date": 1568836237, "question_id": 57999862, "link": "https://stackoverflow.com/questions/57999862/redirect-and-add-new-parameters-in-asp-net", "title": "Redirect and add new parameters in ASP.NET", "body": "<p>I have an ASP.NET web controller that receives requests from the front-end and needs to show a web page from another ASP.NET server. So far I have this and it does the simple job of redirecting:</p>\n\n<pre><code>public ActionResult RedirectToAdminPanel(string url)\n{\n    return new RedirectResult(url);\n}\n</code></pre>\n\n<p>The <code>url</code> contains some parameters and values, which I transfer to the other server. I need to have a few more I do not want to show in the front-end. An example is a <code>token</code>.</p>\n\n<p>I was going to concatenating the <code>url</code> with those hidden values in the method above but I wonder if there is a better way.</p>\n"}, {"tags": ["c#", "async-await", "dotnet-httpclient", ".net-standard-2.0"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1568836300, "post_id": 57999839, "comment_id": 102405593, "body": "I think a better way of doing this is to make the constructor <code>private</code>, and instead have a <code>public static async</code> method that constructs the object for you.  This way you can await the calls all the way through."}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 2, "creation_date": 1568836334, "post_id": 57999839, "comment_id": 102405606, "body": "or better yet use the httpclientfactory pattern in .net core 2.1"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1568836383, "post_id": 57999839, "comment_id": 102405624, "body": "@DanielA.White completely forgot that was a thing!  My second comment was going to be on the instantiation of the <code>HttpClient</code>.  Good call"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1568844264, "post_id": 57999839, "comment_id": 102408248, "body": "<code>When opening up Fiddler, no call has been made to the uri.</code> <code>And oddly enough I seem to get a call in Azure:</code> I can&#39;t see how both of those things could be true."}, {"owner": {"reputation": 1503, "user_id": 1087273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7c428d35d503602e4126925ed2b48e22?s=128&d=identicon&r=PG", "display_name": "CyclingFreak", "link": "https://stackoverflow.com/users/1087273/cyclingfreak"}, "edited": false, "score": 0, "creation_date": 1568921937, "post_id": 57999839, "comment_id": 102439403, "body": "Fiddler not showing but in Azure insight I do see calls. But I do see failed calls also when I&#39;m not testing. So, this might be an error. Set up HttpClientFactory with AutoFac, gives the same result. And a static factory method is also not ok because I have registered the services in DI."}, {"owner": {"reputation": 338, "user_id": 4094614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77X12.jpg?s=128&g=1", "display_name": "Chris McCowan", "link": "https://stackoverflow.com/users/4094614/chris-mccowan"}, "edited": false, "score": 0, "creation_date": 1568997026, "post_id": 57999839, "comment_id": 102466537, "body": "Your second one is returning the task, not the result and since a and httpClient are local variables they might be destroyed before you try to access the result later.) To make this more like the working example you would need to do var a = await httpClient.GetStringAsync(uri).ConfigureAwait(false).result;"}, {"owner": {"reputation": 28996, "user_id": 59119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/2RWB1.jpg?s=128&g=1", "display_name": "Natrium", "link": "https://stackoverflow.com/users/59119/natrium"}, "edited": false, "score": 0, "creation_date": 1592234281, "post_id": 57999839, "comment_id": 110345355, "body": "did you ever find a solution?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 28996, "user_id": 59119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/2RWB1.jpg?s=128&g=1", "display_name": "Natrium", "link": "https://stackoverflow.com/users/59119/natrium"}, "edited": false, "score": 1, "creation_date": 1592241736, "post_id": 57999839, "comment_id": 110349077, "body": "@Natrium I&#39;m inclined to say this is a dupe of: <a href=\"https://stackoverflow.com/questions/51283681/the-async-method-is-not-await/51284217#51284217\" title=\"the async method is not await\">stackoverflow.com/questions/51283681/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1503, "user_id": 1087273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7c428d35d503602e4126925ed2b48e22?s=128&d=identicon&r=PG", "display_name": "CyclingFreak", "link": "https://stackoverflow.com/users/1087273/cyclingfreak"}, "edited": false, "score": 0, "creation_date": 1568870598, "post_id": 58000470, "comment_id": 102413236, "body": "No, it&#39;s not stepping through."}, {"owner": {"reputation": 338, "user_id": 4094614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77X12.jpg?s=128&g=1", "display_name": "Chris McCowan", "link": "https://stackoverflow.com/users/4094614/chris-mccowan"}, "reply_to_user": {"reputation": 1503, "user_id": 1087273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7c428d35d503602e4126925ed2b48e22?s=128&d=identicon&r=PG", "display_name": "CyclingFreak", "link": "https://stackoverflow.com/users/1087273/cyclingfreak"}, "edited": false, "score": 0, "creation_date": 1568903390, "post_id": 58000470, "comment_id": 102430767, "body": "@CyclingFreak You can also try <code>var result = await httpClient.GetStringAsync(uri).ConfigureAwait(false).result</code>;"}, {"owner": {"reputation": 346, "user_id": 12080473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13b88945dc1c0e3c976ebb79f10f71a?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik", "link": "https://stackoverflow.com/users/12080473/karthik"}, "edited": false, "score": 0, "creation_date": 1592274764, "post_id": 58000470, "comment_id": 110360167, "body": "@ChrisMcCowan - Await and .result cannot be used together. .result usage will make the thread Sync"}], "tags": [], "owner": {"reputation": 338, "user_id": 4094614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77X12.jpg?s=128&g=1", "display_name": "Chris McCowan", "link": "https://stackoverflow.com/users/4094614/chris-mccowan"}, "is_accepted": false, "score": -5, "last_activity_date": 1570208215, "last_edit_date": 1570208215, "creation_date": 1568839329, "answer_id": 58000470, "question_id": 57999839, "link": "https://stackoverflow.com/questions/57999839/httpclient-getstringasync-is-not-executed/58000470#58000470", "title": "HttpClient.GetStringAsync is not executed", "body": "<p>I think your <code>result</code> variable that you are trying to Deserialize is a <code>Task&lt;string&gt;</code>.</p>\n\n<p>Try something like :</p>\n\n<p><code>var info = JsonConvert.DeserializeObject&lt;Models.ConnectionInfo&gt;(result.result);</code></p>\n\n<p>Update based on your Edits (Edit 2):\nIt sounds like you are looking for</p>\n\n<p><code>var result = await httpClient.GetStringAsync(uri).ConfigureAwait(false).result;</code></p>\n\n<p>Your two examples are not functionally equivalent.  The first is returning the actual result.  The second is returning the task.</p>\n"}, {"comments": [{"owner": {"reputation": 6057, "user_id": 543814, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sC2s7.png?s=128&g=1", "display_name": "Timo", "link": "https://stackoverflow.com/users/543814/timo"}, "edited": false, "score": 1, "creation_date": 1592558412, "post_id": 62393183, "comment_id": 110474344, "body": "I would add that you will probably want to await the created background Task. The most logical intent seems to be to wait until the request has finished, not until the user (if there actually is one) arbitrarily presses a key."}, {"owner": {"reputation": 3497, "user_id": 9212040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WLRKb.jpg?s=128&g=1", "display_name": "Arman Ebrahimpour", "link": "https://stackoverflow.com/users/9212040/arman-ebrahimpour"}, "reply_to_user": {"reputation": 6057, "user_id": 543814, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sC2s7.png?s=128&g=1", "display_name": "Timo", "link": "https://stackoverflow.com/users/543814/timo"}, "edited": false, "score": 1, "creation_date": 1592574262, "post_id": 62393183, "comment_id": 110481993, "body": "@Timo That press key was just to clarify the problem and somehow acts as <code>Press any key to exit...</code> but thanks for your hint"}], "tags": [], "owner": {"reputation": 3497, "user_id": 9212040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WLRKb.jpg?s=128&g=1", "display_name": "Arman Ebrahimpour", "link": "https://stackoverflow.com/users/9212040/arman-ebrahimpour"}, "is_accepted": false, "score": 11, "last_activity_date": 1592562600, "last_edit_date": 1592562600, "creation_date": 1592240330, "answer_id": 62393183, "question_id": 57999839, "link": "https://stackoverflow.com/questions/57999839/httpclient-getstringasync-is-not-executed/62393183#62393183", "title": "HttpClient.GetStringAsync is not executed", "body": "<p>I guess your issue raises because probably you run it in console application (or windows service) without any code snippet to keeps your app alive.</p>\n\n<blockquote>\n  <p>This code is not working:</p>\n</blockquote>\n\n<pre><code>static void Main(string[] args)\n{\n    Task.Run(async() =&gt; {\n        using (var httpClient = new HttpClient())\n        {\n            var a = await httpClient.GetStringAsync(uri);\n        }\n    });\n}\n</code></pre>\n\n<p>This code obviously doesn't work because <code>Task.Run</code> creates a background thread and <code>Main</code> method immediately being finished after that (and respectively it causes your task to be terminated).\nJust add <code>Console.ReadKey()</code> at the end of <code>Main</code> method to keeps it alive and you will see everything works well:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    Task.Run(async() =&gt; {\n        using (var httpClient = new HttpClient())\n        {\n            var a = await httpClient.GetStringAsync(uri);\n        }\n    });\n\n    Console.ReadKey();\n}\n</code></pre>\n\n<p>Another option is using new async entry points for <code>Main</code> method which are introduced in C# 8:</p>\n\n<pre><code>static async Task Main(string[] args)\n{\n    using (var httpClient = new HttpClient())\n    {\n        var a = await httpClient.GetStringAsync(uri);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 600, "user_id": 5607537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JRfmX.jpg?s=128&g=1", "display_name": "Sebastian S.", "link": "https://stackoverflow.com/users/5607537/sebastian-s"}, "edited": false, "score": 0, "creation_date": 1592642519, "post_id": 62422091, "comment_id": 110502153, "body": "This seems to me to be the correct answer, you need to await the generated task of Task.Run"}], "tags": [], "owner": {"reputation": 964, "user_id": 5350038, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ohHCz4nwXWk/AAAAAAAAAAI/AAAAAAAAAEk/IR4I5ew5asY/photo.jpg?sz=128", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/5350038/sebastian"}, "is_accepted": false, "score": 6, "last_activity_date": 1592372030, "creation_date": 1592372030, "answer_id": 62422091, "question_id": 57999839, "link": "https://stackoverflow.com/questions/57999839/httpclient-getstringasync-is-not-executed/62422091#62422091", "title": "HttpClient.GetStringAsync is not executed", "body": "<p>This might be an issue with calling async code in your constructor. You should make use of <code>.GetAwaiter().GetResult()</code> if you really want to run async code at that point:</p>\n\n<pre><code>public ChatViewModel(IChatService chatService)\n{\n    Task.Run(async () =&gt;\n    {\n        if (!chatService.IsConnected)\n        {\n            await chatService.CreateConnection();\n        }\n    }).GetAwaiter().GetResult();\n}\n</code></pre>\n\n<p>I would prefer a separated async Init method that will be called after the instance was created. Another possible solution would be to create an async GetInfo() method:</p>\n\n<pre><code>private async Task&lt;Models.ConnectionInfo&gt; GetInfo(){\n    if(_info != null)\n        return _info;\n\n    await semaphoreSlim.WaitAsync();\n    try{\n        if(_info != null)\n            return _info;\n\n        if (httpClient == null)\n        {\n            httpClient = new HttpClient();\n        }\n\n        var result = await httpClient.GetStringAsync(uri);\n\n        var info = JsonConvert.DeserializeObject&lt;Models.ConnectionInfo&gt;(result);\n\n        //... some other code ...\n\n        return _info = info;\n    } finally {\n        semaphoreSlim.Release();\n    }\n}\n</code></pre>\n\n<p>You can call that method to get your info and the code will only be run on first use.</p>\n"}, {"tags": [], "owner": {"reputation": 1153, "user_id": 4541097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gDuFW.jpg?s=128&g=1", "display_name": "Peyman Majidi", "link": "https://stackoverflow.com/users/4541097/peyman-majidi"}, "is_accepted": false, "score": 1, "last_activity_date": 1592564387, "last_edit_date": 1592564387, "creation_date": 1592563515, "answer_id": 62468529, "question_id": 57999839, "link": "https://stackoverflow.com/questions/57999839/httpclient-getstringasync-is-not-executed/62468529#62468529", "title": "HttpClient.GetStringAsync is not executed", "body": "<p>If you wanna run your code in console, you can add a while loop, it pauses your code until the result changed and the default value change to something else than <code>\"wait\"</code>.... So simple idea \ud83d\udca1 </p>\n\n<pre><code>static void Main(string[] args)\n{\n    var result =\"wait\";\n    Task.Run(async() =&gt; {\n        using (var httpClient = new HttpClient())\n        {\n            result = await httpClient.GetStringAsync(uri);\n        }\n    });\n    // display loading or kinda stuff\n    while( result==\"wait\");\n\n}\n</code></pre>\n\n<p>Happy coding  \ud83c\udf89</p>\n"}, {"tags": [], "owner": {"reputation": 575, "user_id": 5740995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea774236565a21e663ffff9459858afe?s=128&d=identicon&r=PG&f=1", "display_name": "Giorgi Chkhikvadze", "link": "https://stackoverflow.com/users/5740995/giorgi-chkhikvadze"}, "is_accepted": false, "score": 2, "last_activity_date": 1592570636, "creation_date": 1592570636, "answer_id": 62470592, "question_id": 57999839, "link": "https://stackoverflow.com/questions/57999839/httpclient-getstringasync-is-not-executed/62470592#62470592", "title": "HttpClient.GetStringAsync is not executed", "body": "<p>Main() method is entry point of you program. After Main method is called program exits, if there are not any foreground threads left running. when you run you download code in new Task, tasks in c# are executed on background thread, that means when Main() method is finished that thread will be aborted. And in you case \"Main\" method starts download task and finishes instantly because it is not waiting for that task, so download operation is aborted even before request is sent to server. You should wait for task at the end of Main() method.</p>\n"}, {"tags": [], "owner": {"reputation": 2372, "user_id": 468778, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/XgvcC.jpg?s=128&g=1", "display_name": "Roger Hill", "link": "https://stackoverflow.com/users/468778/roger-hill"}, "is_accepted": false, "score": 1, "last_activity_date": 1592793133, "creation_date": 1592793133, "answer_id": 62506634, "question_id": 57999839, "link": "https://stackoverflow.com/questions/57999839/httpclient-getstringasync-is-not-executed/62506634#62506634", "title": "HttpClient.GetStringAsync is not executed", "body": "<p>So, I see something funny that nobody else has mentioned. It might be related to the problem, but I cannot say for sure. Lets take a look at this.</p>\n<pre><code>static void Main(string[] args)\n{\n    Task.Run(async() =&gt; {\n        using (var httpClient = new HttpClient())\n        {\n            var a = await httpClient.GetStringAsync(uri);\n        }\n    });\n}\n</code></pre>\n<p>Now, when you are trying to build an app that is very performant using the HttpClient object, you usually create a instance and hold it for multiple sessions, rather than create and tear down the object for each call. There are plenty of other articles online about this, if you are interested in reading more. I usually just create a private static instance and reuse it.</p>\n<p>Now, the part that looks a little odd is your using inside of an async call. Normally, a using will auto dispose the object on exit from the block, but I don't know how this will interact with the async keyword. Under the covers there is probably a call back method being created that contains the disposal logic, so I think that it should work, but I have not tried what you are doing.</p>\n<p>You also might try making a GetAsync call to see if that can return something where the GetStringAsync is failing. I believe that it is doing a GetAsync, and then just doing the conversion to a string of the result for you. Testing using that method might shed some light on what is happening.</p>\n"}, {"tags": [], "owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "is_accepted": false, "score": 2, "last_activity_date": 1592793594, "creation_date": 1592793594, "answer_id": 62506688, "question_id": 57999839, "link": "https://stackoverflow.com/questions/57999839/httpclient-getstringasync-is-not-executed/62506688#62506688", "title": "HttpClient.GetStringAsync is not executed", "body": "<p>Do not start/initialize any <code>async</code> work in a <code>constructor</code>. Move that out into a separate function and call it.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>private readonly IChatService _chatService;\n\npublic ChatViewModel(IChatService chatService)\n{\n   _chatService = chatService;\n}\n\npublic async Task Initialize()\n{\n    if (!_chatService.IsConnected)\n    {\n        await _chatService.CreateConnection();\n    }\n}\n</code></pre>\n<p>Then in your <code>ChatService</code>, instead of <code>new</code>ing up an <code>HttpClient</code>, inject an <code>IHttpClientFactory</code></p>\n<pre class=\"lang-cs prettyprint-override\"><code>private readonly IHttpClientFactory _factory;\n\npublic ChatService(IHttpClientFactory factory)\n{\n    _factory = factory;\n}\n\npublic async Task CreateConnection()\n{\n   var httpClient = _factory.CreateClient();\n\n   var result = await httpClient.GetStringAsync(uri);\n\n   var info = JsonConvert.DeserializeObject&lt;Models.ConnectionInfo&gt;(result);\n\n}\n</code></pre>\n<p>In your Console app's <code>Main</code> function, you can either change the signature to <code>public static async Task Main()</code> if you are using modern C#</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public static async Task Main()\n{\n    var serviceCollection = new ServiceCollection();\n    serviceCollection.AddHttpClient();\n    serviceCollection.AddSingleton&lt;IChatService, ChatService&gt;();\n    var services = serviceCollection.BuildServiceProvider();\n    var instance = ActivatorUtilities.CreateInstance&lt;MyClass&gt;(services);\n    await instance.Run();\n}\n\npublic class MyClass\n{\n    private readonly IChatService _chatService;\n\n    public MyClass(IChatService chatService)\n    {\n        _chatService = chatService;\n    }\n\n    public async Task Run()\n    {\n        var viewModel = new ChatViewModel(_chatService);\n        await viewModel.Initialize();\n    }\n\n}\n</code></pre>\n<p>Or if you cannot change <code>Main</code>'s signature, you can do the following:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public static void Main()\n{\n    var serviceCollection = new ServiceCollection();\n    serviceCollection.AddHttpClient();\n    serviceCollection.AddSingleton&lt;IChatService, ChatService&gt;();\n    var services = serviceCollection.BuildServiceProvider();\n    var instance = ActivatorUtilities.CreateInstance&lt;MyClass&gt;(services);\n    instance.Run().GetAwaiter().GetResult();\n}\n</code></pre>\n"}], "owner": {"reputation": 1503, "user_id": 1087273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7c428d35d503602e4126925ed2b48e22?s=128&d=identicon&r=PG", "display_name": "CyclingFreak", "link": "https://stackoverflow.com/users/1087273/cyclingfreak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1309, "favorite_count": 1, "answer_count": 7, "score": 8, "last_activity_date": 1592793594, "creation_date": 1568836090, "last_edit_date": 1592746817, "question_id": 57999839, "link": "https://stackoverflow.com/questions/57999839/httpclient-getstringasync-is-not-executed", "title": "HttpClient.GetStringAsync is not executed", "body": "<p>The code runs in .NET Standard 2.0. I have a constructor calling a method which will call an Azure function like this:</p>\n<pre><code>public ChatViewModel(IChatService chatService)\n{\n    Task.Run(async () =&gt;\n    {\n        if (!chatService.IsConnected)\n        {\n            await chatService.CreateConnection();\n        }\n    });\n}\n</code></pre>\n<p>The method is like this:</p>\n<pre><code>public async Task CreateConnection()\n{\n   await semaphoreSlim.WaitAsync();\n\n   if (httpClient == null)\n   {\n        httpClient = new HttpClient();\n   }\n\n   var result = await httpClient.GetStringAsync(uri);\n\n   var info = JsonConvert.DeserializeObject&lt;Models.ConnectionInfo&gt;(result);\n\n   //... some other code ...\n   semaphoreSlim.Release();\n}\n</code></pre>\n<p>The code stops at</p>\n<blockquote>\n<p>await httpClient.GetStringAsync(uri)</p>\n</blockquote>\n<p>The URI is 100% valid, if I copy and paste it in the browser I get the JSON I wanted.</p>\n<p>When opening up Fiddler, no call has been made to the URI.</p>\n<p><strong>EDIT</strong>\nSource code is coming from this Github repo: <a href=\"https://github.com/PacktPublishing/Xamarin.Forms-Projects/tree/master/Chapter06-07/Chat/Chat\" rel=\"nofollow noreferrer\">https://github.com/PacktPublishing/Xamarin.Forms-Projects/tree/master/Chapter06-07/Chat/Chat</a></p>\n<p>And oddly enough I seem to get a call in Azure:\n<a href=\"https://i.stack.imgur.com/M6sC3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M6sC3.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>EDIT 2</strong>\nThis code is working:</p>\n<pre><code>static void Main(string[] args)\n{\n    using (var httpClient = new HttpClient())\n    {\n        var a = httpClient.GetStringAsync(uri).GetAwaiter().GetResult();\n    }\n}\n</code></pre>\n<p>This code is not working:</p>\n<pre><code>static void Main(string[] args)\n{\n    Task.Run(async() =&gt; {\n        using (var httpClient = new HttpClient())\n        {\n            var a = await httpClient.GetStringAsync(uri);\n        }\n    });\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "ef-code-first", "entity-framework-core"], "comments": [{"owner": {"reputation": 10256, "user_id": 1043380, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2388aa1beb9ac75029a5b4fafec11eec?s=128&d=identicon&r=PG", "display_name": "gunr2171", "link": "https://stackoverflow.com/users/1043380/gunr2171"}, "edited": false, "score": 0, "creation_date": 1568836034, "post_id": 57999731, "comment_id": 102405492, "body": "This is a question about <i>generating</i> the column, right? Not <i>using</i> the column?"}, {"owner": {"reputation": 63, "user_id": 11960843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8L7tKG3KYWg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reNgA5RKi1XuNJKDIIs8a-CerT6FQ/photo.jpg?sz=128", "display_name": "kianoush dortaj", "link": "https://stackoverflow.com/users/11960843/kianoush-dortaj"}, "reply_to_user": {"reputation": 10256, "user_id": 1043380, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2388aa1beb9ac75029a5b4fafec11eec?s=128&d=identicon&r=PG", "display_name": "gunr2171", "link": "https://stackoverflow.com/users/1043380/gunr2171"}, "edited": false, "score": 0, "creation_date": 1568836119, "post_id": 57999731, "comment_id": 102405524, "body": "@gunr2171 i need to add tow colmun in model with codefirst"}, {"owner": {"reputation": 10256, "user_id": 1043380, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2388aa1beb9ac75029a5b4fafec11eec?s=128&d=identicon&r=PG", "display_name": "gunr2171", "link": "https://stackoverflow.com/users/1043380/gunr2171"}, "edited": false, "score": 0, "creation_date": 1568836168, "post_id": 57999731, "comment_id": 102405539, "body": "Repeating what you said in your post when I ask a clarification question doesn&#39;t answer the question."}, {"owner": {"reputation": 10256, "user_id": 1043380, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2388aa1beb9ac75029a5b4fafec11eec?s=128&d=identicon&r=PG", "display_name": "gunr2171", "link": "https://stackoverflow.com/users/1043380/gunr2171"}, "edited": false, "score": 0, "creation_date": 1568836243, "post_id": 57999731, "comment_id": 102405570, "body": "<a href=\"https://stackoverflow.com/a/6924857/1043380\">This</a> is an answer from a previous version of EF. I doubt the functionally has changed."}, {"owner": {"reputation": 63, "user_id": 11960843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8L7tKG3KYWg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reNgA5RKi1XuNJKDIIs8a-CerT6FQ/photo.jpg?sz=128", "display_name": "kianoush dortaj", "link": "https://stackoverflow.com/users/11960843/kianoush-dortaj"}, "reply_to_user": {"reputation": 10256, "user_id": 1043380, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2388aa1beb9ac75029a5b4fafec11eec?s=128&d=identicon&r=PG", "display_name": "gunr2171", "link": "https://stackoverflow.com/users/1043380/gunr2171"}, "edited": false, "score": 0, "creation_date": 1568836254, "post_id": 57999731, "comment_id": 102405574, "body": "@gunr2171 <code>generation</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3381, "user_id": 1173307, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/661da69d4d513e5b58a94d670a136f5f?s=128&d=identicon&r=PG", "display_name": "pantonis", "link": "https://stackoverflow.com/users/1173307/pantonis"}, "edited": false, "score": 0, "creation_date": 1579875120, "post_id": 58003349, "comment_id": 105923501, "body": "so from your answer it means that EF Core cannot be used to store a file as a Filestream but instead only as varbinary?"}], "tags": [], "owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1568870070, "last_edit_date": 1568870070, "creation_date": 1568863899, "answer_id": 58003349, "question_id": 57999731, "link": "https://stackoverflow.com/questions/57999731/using-filestream-in-sql-with-code-first-in-asp-net-core/58003349#58003349", "title": "Using FileStream in SQL with code first in ASP.NET Core", "body": "<p>In EF core , you could not use <code>FileStream</code> to save file to database.</p>\n\n<p>Instead, you need to convert the file to <code>byte[]</code>(which will convert to varbinary(max) in sql server) and copy the file content over when uploading using a memory-stream for instance.</p>\n\n<p>Model:</p>\n\n<pre><code>public byte[] Picture { get; set; }\n</code></pre>\n\n<p>Convert file to byte array:</p>\n\n<pre><code>using (var ms = new MemoryStream())\n{\n  file.CopyTo(ms);\n  byte[] fileBytes = ms.ToArray();\n  string s = Convert.ToBase64String(fileBytes);\n  // act on the Base64 data\n}\n</code></pre>\n\n<p>Refer to</p>\n\n<p><a href=\"https://stackoverflow.com/questions/48845318/store-files-in-database-using-entity-framework-core\">Store files in database using Entity Framework Core</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/36432028/how-to-convert-a-file-into-byte-array-in-memory\">How to convert a file into byte array in memory?</a></p>\n"}], "owner": {"reputation": 63, "user_id": 11960843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8L7tKG3KYWg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reNgA5RKi1XuNJKDIIs8a-CerT6FQ/photo.jpg?sz=128", "display_name": "kianoush dortaj", "link": "https://stackoverflow.com/users/11960843/kianoush-dortaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2194, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1568870070, "creation_date": 1568835512, "last_edit_date": 1568835972, "question_id": 57999731, "link": "https://stackoverflow.com/questions/57999731/using-filestream-in-sql-with-code-first-in-asp-net-core", "title": "Using FileStream in SQL with code first in ASP.NET Core", "body": "<p>I need to create a table and use <code>FileStream</code> in that table. In the SQL Server table, I need to use this column:</p>\n\n<pre><code>CREATE TABLE TestTable\n(\n    FileID  UNIQUEIDENTIFIER NOT NULL ROWGUIDCOL UNIQUE DEFAULT(NEWID()),\n    Pic     VARBINARY(MAX) FILESTREAM NULL\n)\n</code></pre>\n\n<p>Now in EF Core code-first how can I create this column?</p>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 2, "creation_date": 1568835898, "post_id": 57999703, "comment_id": 102405438, "body": "This is not a question.  It is a list of requirements.  Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for help on how to write a great SO question."}, {"owner": {"reputation": 8844, "user_id": 8977696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5cHBe.jpg?s=128&g=1", "display_name": "R15", "link": "https://stackoverflow.com/users/8977696/r15"}, "edited": false, "score": 0, "creation_date": 1568870111, "post_id": 57999703, "comment_id": 102413095, "body": "@Navreet -  <i>where I can enter text in two labels</i>. How can you enter text in <code>Labels</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 12086955, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDfDYQhLK0HJN4czKASAQ8YtXhkIT_T0V2QrAQ7eA=k-s128", "display_name": "navreet sidhu", "link": "https://stackoverflow.com/users/12086955/navreet-sidhu"}, "edited": false, "score": 0, "creation_date": 1568945065, "post_id": 58004684, "comment_id": 102444910, "body": "Hi Thank you for your answer, can you tell me where should I declare the previousPageValue ?"}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "reply_to_user": {"reputation": 23, "user_id": 12086955, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDfDYQhLK0HJN4czKASAQ8YtXhkIT_T0V2QrAQ7eA=k-s128", "display_name": "navreet sidhu", "link": "https://stackoverflow.com/users/12086955/navreet-sidhu"}, "edited": false, "score": 0, "creation_date": 1568945419, "post_id": 58004684, "comment_id": 102444985, "body": "@navreetsidhu If be helpful ,you can mark it .And if other problems , also can update questuion."}, {"owner": {"reputation": 23, "user_id": 12086955, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDfDYQhLK0HJN4czKASAQ8YtXhkIT_T0V2QrAQ7eA=k-s128", "display_name": "navreet sidhu", "link": "https://stackoverflow.com/users/12086955/navreet-sidhu"}, "edited": false, "score": 0, "creation_date": 1568945969, "post_id": 58004684, "comment_id": 102445111, "body": "Yes the answer is helpful but can you tell me that you used previoudPageValue variable where did you declare it in SecondPage?"}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "reply_to_user": {"reputation": 23, "user_id": 12086955, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDfDYQhLK0HJN4czKASAQ8YtXhkIT_T0V2QrAQ7eA=k-s128", "display_name": "navreet sidhu", "link": "https://stackoverflow.com/users/12086955/navreet-sidhu"}, "edited": false, "score": 0, "creation_date": 1568946168, "post_id": 58004684, "comment_id": 102445154, "body": "@navreetsidhu Okey , it declared in <code>SecondPage.Xaml.cs</code> . I have updated answer ."}], "tags": [], "owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "is_accepted": true, "score": 0, "last_activity_date": 1568946245, "last_edit_date": 1568946245, "creation_date": 1568873428, "answer_id": 58004684, "question_id": 57999703, "link": "https://stackoverflow.com/questions/57999703/trying-to-change-a-label-from-two-enteries-when-button-pressed-and-display-on-an/58004684#58004684", "title": "Trying to change a Label from two enteries when Button pressed and display on another page? | Xamarin | C#", "body": "<p>If you mean <strong><em>enter text in two labels</em></strong> is <strong><em>the enter text in two entrys</em></strong> . Here is a sample for reference :</p>\n\n<p><strong>PageA</strong> - Xaml :</p>\n\n<pre><code>&lt;Entry x:Name=\"entryone\"/&gt;\n&lt;Entry x:Name=\"entrytwo\"/&gt;\n&lt;Button Text=\"Push\" Clicked=\"Button_Clicked\"/&gt;\n</code></pre>\n\n<p>ContentPage - <code>Button_Clicked</code> :</p>\n\n<pre><code>private void Button_Clicked(object sender, EventArgs e)\n{\n      SecondPage secondPage = new SecondPage();\n      secondPage.previousPageValue = entryone.Text + entrytwo.Text; //Set value to next page\n      Navigation.PushAsync(secondPage);\n }\n</code></pre>\n\n<p><strong>PageB</strong> - Xaml :</p>\n\n<pre><code>&lt;Label x:Name=\"label\"/&gt;\n</code></pre>\n\n<p>ContentPage - show value when page <code>OnAppearing</code> ;</p>\n\n<pre><code>public partial class SecondPage : ContentPage\n{\n    public string previousPageValue; //Declare here\n\n    public SecondPage()\n    {\n        InitializeComponent();\n    }\n\n    protected override void OnAppearing()\n    {\n        base.OnAppearing();\n        label.Text = previousPageValue;\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/VKJ52.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VKJ52.png\" alt=\"First Page\"></a> <a href=\"https://i.stack.imgur.com/pM7yB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pM7yB.png\" alt=\"Second Page\"></a></p>\n"}], "owner": {"reputation": 23, "user_id": 12086955, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDfDYQhLK0HJN4czKASAQ8YtXhkIT_T0V2QrAQ7eA=k-s128", "display_name": "navreet sidhu", "link": "https://stackoverflow.com/users/12086955/navreet-sidhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "closed_date": 1568875445, "accepted_answer_id": 58004684, "answer_count": 1, "score": -5, "last_activity_date": 1568946764, "creation_date": 1568835350, "last_edit_date": 1568946764, "question_id": 57999703, "link": "https://stackoverflow.com/questions/57999703/trying-to-change-a-label-from-two-enteries-when-button-pressed-and-display-on-an", "closed_reason": "Needs details or clarity", "title": "Trying to change a Label from two enteries when Button pressed and display on another page? | Xamarin | C#", "body": "<p>I'm trying to create a Xamarin App, where I can enter text in two entries and then after clicking the button, I want to display combination of the two entries on next page.\nHow to display labels in a list?</p>\n"}, {"tags": ["c#", "uwp", "windows-10-iot-core"], "answers": [{"comments": [{"owner": {"reputation": 178, "user_id": 11610611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a7fc322547b11ca7958b9257fba6dda?s=128&d=identicon&r=PG&f=1", "display_name": "BWhelan", "link": "https://stackoverflow.com/users/11610611/bwhelan"}, "edited": false, "score": 0, "creation_date": 1568910341, "post_id": 58003108, "comment_id": 102434461, "body": "Tried adding this to the OEMInput.xml and rebuilding the flash.ffu. Booted up and checked devcon.exe and dmaputil.exe and the Device Portal and have all the same results as previously mentioned in my question."}, {"owner": {"reputation": 4144, "user_id": 8546089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fZand.jpg?s=128&g=1", "display_name": "Michael Xu - MSFT", "link": "https://stackoverflow.com/users/8546089/michael-xu-msft"}, "reply_to_user": {"reputation": 178, "user_id": 11610611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a7fc322547b11ca7958b9257fba6dda?s=128&d=identicon&r=PG&f=1", "display_name": "BWhelan", "link": "https://stackoverflow.com/users/11610611/bwhelan"}, "edited": false, "score": 0, "creation_date": 1568949574, "post_id": 58003108, "comment_id": 102445747, "body": "Have you tested this issue with image downloaded from Microsoft, or flush your custom ffu image to a standard SBC board?"}, {"owner": {"reputation": 178, "user_id": 11610611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a7fc322547b11ca7958b9257fba6dda?s=128&d=identicon&r=PG&f=1", "display_name": "BWhelan", "link": "https://stackoverflow.com/users/11610611/bwhelan"}, "edited": false, "score": 0, "creation_date": 1568981844, "post_id": 58003108, "comment_id": 102458725, "body": "I haven&#39;t done either. I don&#39;t have a standard Raspberry Pi/MinnowBoard or anything to test with. By image downloaded from microsoft you mean the image flash.ffu&#39;s premade for those boards?"}, {"owner": {"reputation": 4144, "user_id": 8546089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fZand.jpg?s=128&g=1", "display_name": "Michael Xu - MSFT", "link": "https://stackoverflow.com/users/8546089/michael-xu-msft"}, "reply_to_user": {"reputation": 178, "user_id": 11610611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a7fc322547b11ca7958b9257fba6dda?s=128&d=identicon&r=PG&f=1", "display_name": "BWhelan", "link": "https://stackoverflow.com/users/11610611/bwhelan"}, "edited": false, "score": 0, "creation_date": 1569218453, "post_id": 58003108, "comment_id": 102510160, "body": "Yes, you can try to download the image provided by Microsoft and then test this issue."}, {"owner": {"reputation": 178, "user_id": 11610611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a7fc322547b11ca7958b9257fba6dda?s=128&d=identicon&r=PG&f=1", "display_name": "BWhelan", "link": "https://stackoverflow.com/users/11610611/bwhelan"}, "edited": false, "score": 0, "creation_date": 1569252770, "post_id": 58003108, "comment_id": 102527726, "body": "Tried to use the ioT Dashboard to install the Intel (Minnowboard (x64)) Image on a USB and run it on my board. It just continues booting indefinitely"}, {"owner": {"reputation": 4144, "user_id": 8546089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fZand.jpg?s=128&g=1", "display_name": "Michael Xu - MSFT", "link": "https://stackoverflow.com/users/8546089/michael-xu-msft"}, "reply_to_user": {"reputation": 178, "user_id": 11610611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a7fc322547b11ca7958b9257fba6dda?s=128&d=identicon&r=PG&f=1", "display_name": "BWhelan", "link": "https://stackoverflow.com/users/11610611/bwhelan"}, "edited": false, "score": 0, "creation_date": 1569316291, "post_id": 58003108, "comment_id": 102548306, "body": "@BWhelan, i have updated my response. Hope this solution helpful for you."}], "tags": [], "owner": {"reputation": 4144, "user_id": 8546089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fZand.jpg?s=128&g=1", "display_name": "Michael Xu - MSFT", "link": "https://stackoverflow.com/users/8546089/michael-xu-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1569316260, "last_edit_date": 1569316260, "creation_date": 1568861931, "answer_id": 58003108, "question_id": 57999700, "link": "https://stackoverflow.com/questions/57999700/how-to-enable-lightningproviders-for-gpio/58003108#58003108", "title": "How to enable LightningProviders for GPIO?", "body": "<p>Please confirm if you have added the <strong>IOT_DMAP_DRIVER</strong> feature in your OEMInput.xml, this feature will add the DMAP driver in the image. If IOT_DMAP_DRIVER is removed from the OEMInput.xml, the Default Driver Controller will be blank in device protal, and dmaputil will be not available on Windows IoT Core. Please see the <a href=\"https://docs.microsoft.com/en-us/windows-hardware/manufacture/iot/iot-core-feature-list\" rel=\"nofollow noreferrer\">IoT Core feature list</a>.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>You can download the source of <a href=\"https://github.com/ms-iot/lightning/\" rel=\"nofollow noreferrer\">Lighting Provider</a>, and then deploy and debug in your custom image.</p>\n"}], "owner": {"reputation": 178, "user_id": 11610611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a7fc322547b11ca7958b9257fba6dda?s=128&d=identicon&r=PG&f=1", "display_name": "BWhelan", "link": "https://stackoverflow.com/users/11610611/bwhelan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 58003108, "answer_count": 1, "score": 0, "last_activity_date": 1569316260, "creation_date": 1568835332, "last_edit_date": 1568838633, "question_id": 57999700, "link": "https://stackoverflow.com/questions/57999700/how-to-enable-lightningproviders-for-gpio", "title": "How to enable LightningProviders for GPIO?", "body": "<p>I am trying to access the GPIO on my custom SBC using Windows 10 IoT Core. I have discovered that I must use <a href=\"https://docs.microsoft.com/en-us/windows/iot-core/develop-your-app/lightningproviders\" rel=\"nofollow noreferrer\">LightningProviders</a> to accomplish this . So I tried to follow this guide to use lightning providers properly. </p>\n\n<p>I used very simple code:</p>\n\n<pre><code>            if (LightningProvider.IsLightningEnabled)\n            {\n                LowLevelDevicesController.DefaultProvider = LightningProvider.GetAggregateProvider();\n            }\n            GpioStatus = \"Initializing...\";\n            var gpio = GpioController.GetDefault();\n            if (gpio == null)\n            {\n                GpioStatus = \"There is no GPIO controller on this device.\";\n            }\n            else\n            {\n                gpio.OpenPin(1).Write(GpioPinValue.High);\n                GpioStatus = gpio.OpenPin(1).Read().ToString();\n            }\n</code></pre>\n\n<p>Where GpioStatus is output text on a UI.</p>\n\n<p>I discovered that if I run the <code>LowLevelDevicesController.DefaultProvider = LightningProvider.GetAggregateProvider();</code> line outside of the enabled check, it picks up the GPIO controller and lets me detect how many pins I have and read them (All low). However I can't change the DriveMode or write to the pins without error. The error I get just says to <code>Make sure the LightningProviders are enabled</code>.</p>\n\n<p>This brings me back to the guide I linked at the start. It suggests to enable DMAP drivers using the Device Portal for W10IoT or DMAPUtil.exe. I have tried both. In the Device Portal the area where it should be is just blank. And in the command line trying to use the DMAPUtil.exe only returns that <code>dmaputil.exe is not available on this system</code>.</p>\n\n<p>Therefore I am asking if there is any other way to enable the LightningProviders or if there a way to know if they are incompatible with my board?</p>\n\n<p>Thanks!</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Also tried using the devcon.exe commands in the W10IoT Command line.\nI am able to locate the Direct memory access controller but when i do <code>devcon.exe enable *PNP0200</code> it says it is enabled but remains disabled when checked with <code>devcon.exe status *PNP0200</code></p>\n"}, {"tags": ["c#", "unit-testing", "nunit", "autofac", "automoq"], "answers": [{"tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 1, "last_activity_date": 1568983090, "last_edit_date": 1568983090, "creation_date": 1568982579, "answer_id": 58028436, "question_id": 57999505, "link": "https://stackoverflow.com/questions/57999505/how-to-mock-property-injection-dependency-using-automock/58028436#58028436", "title": "How to mock property injection dependency using AutoMock", "body": "<p>Because <a href=\"https://autofaccn.readthedocs.io/en/latest/register/registration.html#property-injection\" rel=\"nofollow noreferrer\"><strong>property injection is not recommended in the majority of cases</strong></a>, the approach will need to be changed to accommodate that case</p>\n\n<p>The following example registers the subject with the <code>PropertiesAutowired()</code> modifier to inject properties:</p>\n\n<pre><code>using Autofac;\nusing Autofac.Extras.Moq;\nusing FluentAssertions;\nusing Microsoft.VisualStudio.TestTools.UnitTesting;\n\n[TestClass]\npublic class AutoMockTests {\n    [TestMethod]\n    public void Should_AutoMock_PropertyInjection() {\n        using (var mock = AutoMock.GetLoose(builder =&gt; {\n            builder.RegisterType&lt;SystemUnderTest&gt;().PropertiesAutowired();\n        })) {\n            // Arrange\n            var expected = \"expected value\";\n            mock.Mock&lt;IDependency&gt;().Setup(x =&gt; x.GetValue()).Returns(expected);\n            var sut = mock.Create&lt;SystemUnderTest&gt;();\n\n            sut.Dependency.Should().NotBeNull(); //property should be injected\n\n            // Act\n            var actual = sut.DoWork();\n\n            // Assert - assert on the mock\n            mock.Mock&lt;IDependency&gt;().Verify(x =&gt; x.GetValue());\n            Assert.AreEqual(expected, actual);\n        }\n    }\n}\n</code></pre>\n\n<p>Where definitions used in this example ...</p>\n\n<pre><code>public class SystemUnderTest {\n    public SystemUnderTest() {\n    }\n\n    public IDependency Dependency { get; set; }\n\n\n    public string DoWork() {\n        return this.Dependency.GetValue();\n    }\n}\n\npublic interface IDependency {\n    string GetValue();\n}\n</code></pre>\n"}], "owner": {"reputation": 2457, "user_id": 2182021, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/66c241a6b45efd7ce9f9f827d6b91c33?s=128&d=identicon&r=PG", "display_name": "dsi", "link": "https://stackoverflow.com/users/2182021/dsi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1023, "favorite_count": 0, "accepted_answer_id": 58028436, "answer_count": 1, "score": 1, "last_activity_date": 1568983090, "creation_date": 1568834408, "last_edit_date": 1568982859, "question_id": 57999505, "link": "https://stackoverflow.com/questions/57999505/how-to-mock-property-injection-dependency-using-automock", "title": "How to mock property injection dependency using AutoMock", "body": "<p>How to mock a property injection.</p>\n\n<pre><code>using (var mock = AutoMock.GetLoose())\n{\n    // mock.Mock creates the mock for constructor injected property \n    // but not property injection (propertywiredup). \n}\n</code></pre>\n\n<p>I could not find similar here to mock property injection.</p>\n"}, {"tags": ["c#", "unity3d", "animation"], "comments": [{"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1568834223, "post_id": 57999381, "comment_id": 102404801, "body": "&quot;only position, rotation and scale curve are supported&quot; <code>AnimationCurve</code> is not one of those."}, {"owner": {"reputation": 73, "user_id": 7095131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a8deb10b6f4a0016bb91a21faad09a6?s=128&d=identicon&r=PG&f=1", "display_name": "Ice.Rain", "link": "https://stackoverflow.com/users/7095131/ice-rain"}, "reply_to_user": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1568849150, "post_id": 57999381, "comment_id": 102409298, "body": "But in Unity API &quot;AnimationClip.SetCurve&quot; is used with an AnimationCurve. And when i read the memory for the data and use this code to modify the curve, it works without any error"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1568906786, "post_id": 57999381, "comment_id": 102432770, "body": "That&#39;s really strange ... When I implemented and wrote <a href=\"https://stackoverflow.com/a/57852262/7111561\">my answer</a> I tested it with only nested <code>Transform</code> components animated and it worked for me without a problem"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1568907323, "post_id": 57999381, "comment_id": 102433038, "body": "How do you read/write the file currently? Is it possible there is an additional hidden symbol like a <code>&#47;r</code> or <code>&#47;n</code> in the string from file? Shouldn&#39;t be the case using my binaryformatter solution but you never know ... Can you maybe check if both strings are really equal?"}, {"owner": {"reputation": 73, "user_id": 7095131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a8deb10b6f4a0016bb91a21faad09a6?s=128&d=identicon&r=PG&f=1", "display_name": "Ice.Rain", "link": "https://stackoverflow.com/users/7095131/ice-rain"}, "edited": false, "score": 0, "creation_date": 1568926289, "post_id": 57999381, "comment_id": 102441073, "body": "Hello derHugo. Glad to see you helping here. I have read your code and tried myself, it does work well and helped me a lot when designing this code, but because this is my graduate project so i&#39;m avoiding to copy and paste code directly from yours. And get confused by why it work in different way when exported into a plaintext than byte stream. So maybe i will go for your solution and try to get familize with serialization."}], "owner": {"reputation": 73, "user_id": 7095131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a8deb10b6f4a0016bb91a21faad09a6?s=128&d=identicon&r=PG&f=1", "display_name": "Ice.Rain", "link": "https://stackoverflow.com/users/7095131/ice-rain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 376, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1603498338, "creation_date": 1568833727, "last_edit_date": 1568926334, "question_id": 57999381, "link": "https://stackoverflow.com/questions/57999381/what-does-it-mean-by-cannot-bind-generic-curve-on-transform-component", "title": "What does it mean by &quot;Cannot bind generic curve on Transform component&quot;", "body": "<p>When i try to apply an override to my animation clip. It gives me this warning and stop the program.</p>\n\n<p>\"Cannot bind generic curve on Transform component, only position, rotation and scale curve are supported.\"</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    void CopyAnimationClip()\n    {\n        Animation_Copy = new AnimationClip();\n        for (int i = 0; i &lt; keyframedata.Length; i++)\n        {\n            AnimationCurve newCurve = new AnimationCurve(keyframedata[i]);\n            Animation_Copy.SetCurve(RelativePath[i], typeof(Transform), propertyName[i], newCurve);\n        }\n        animOverride[\"BounceAnimation\"] = Animation_Copy; //Where the warning comes from\n    }\n</code></pre>\n\n<p>And the propertyName here is \"LocalPosition.y\", \"LocalScale.y\", \"LocalScale.x\". And RelativePath is empty (i'm animating the root object).</p>\n\n<p>What feels strange to me is\nThis only happens when i try to export the animation data to a file and then import it back. When i directly read the animation data from the animation clip and put it back it works fine.(I have another piece of code can read the data from animation clip and store them into the array above). I'm saving the data in plain text. Could that be the problem? (I still feel confused about serialization and deserialization so i didn't use them)</p>\n\n<p><strong>To DerHugo's question</strong></p>\n\n<p>Yes there are some difference. Because the property name i read from the animation is \"m_LocalePosition.y\" and when i use this in the constructor to create the curve (Again, only when i try to load from file), Unity gave me</p>\n\n<p>\"Can't assign curve because m_LocalPosition.y\n is not a valid Transform property.\"</p>\n\n<p>And i checked the API for unity animation, it seems there isn't something like \"m_\", so have to do this before i write it into the file. I don't need this step when i read it directly from Unity animation clip at runtime.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code> propertyName[i] = propertyName[i].Replace(\"m_\", \"\");\n</code></pre>\n\n<p>Then i can create the curve and then i get the problem above.</p>\n\n<p>Here is the code i use to read data from the Animation clip</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    void LoadAnimationDataFromEditor()\n    {\n        //Get the curve binding in the animation.\n        UnityEditor.EditorCurveBinding[] curveBindings = UnityEditor.AnimationUtility.GetCurveBindings(InputAnimation);\n        //Get the binded curve in the curve binding.\n        AnimationCurve[] curves = new AnimationCurve[curveBindings.Length];\n        //Create and store the data needed to create a curve\n        keyframedata = new Keyframe[curves.Length][];\n            //The array to keep the original keyframe value.\n        keyframeValues = new float[curves.Length][];\n        RelativePath = new string[curves.Length];\n        propertyName = new string[curves.Length];\n        for (int i = 0; i &lt; curves.Length; i++)\n        {\n            //Store curve data\n            RelativePath[i] = curveBindings[i].path;\n            propertyName[i] = curveBindings[i].propertyName;\n            curves[i] = UnityEditor.AnimationUtility.GetEditorCurve(InputAnimation, curveBindings[i]);\n\n            //Get key frame in each curve\n            Keyframe[] keyframes = curves[i].keys;\n            //Create an array of keyframes to store the game keyframe data\n            keyframedata[i] = new Keyframe[curves[i].keys.Length];\n            keyframeValues[i] = new float[curves[i].keys.Length];\n            for (int a = 0; a &lt; keyframes.Length; a++)\n            {\n                //Copy the keyframe data to array for editing test\n                keyframedata[i][a] = keyframes[a];\n                keyframeValues[i][a] = keyframes[a].value;\n            }\n        }\n    }\n\n//And the code to modify the animation data\n    void SliderListener()\n    {\n        keyframedata[0][0].value = keyframeValues[0][0] + HeightSlider.value;\n        keyframedata[0][2].value = keyframeValues[0][2] + HeightSlider.value;\n        CopyAnimationClip();\n    }\n\n//The code to save animation to file\n    void SaveAnimationToFile(string path)\n    {\n        for (int i = 0; i &lt; RelativePath.Length; i++)\n        {\n            //The animation data file is the file to store animation data like keyframes;\n            string animationdatafilepath = path + \"/\" + RelativePath[i] + \"/\" + propertyName[i] + \".txt\";\n            if (File.Exists(animationdatafilepath))\n            {\n                //If the file already exists, delete and create new one.\n                File.Delete(animationdatafilepath);\n                Debug.Log(\"Already have a file with same name, overwrite\");\n            }\n            using (StreamWriter sw = File.CreateText(animationdatafilepath))\n            {\n                sw.WriteLine(RelativePath[i]);//Write the relative path of the transform\n                propertyName[i] = propertyName[i].Replace(\"m_\", \"\");\n                sw.WriteLine(propertyName[i]);//Write the property name of the transform\n                sw.WriteLine(keyframedata[i].Length);//Write how many keyframes are there in the curve (so when loading the program knows how many to expect)\n                for (int c = 0; c &lt; keyframedata[i].Length; c++)\n                {\n                    sw.WriteLine(keyframedata[i][c].time.ToString(\"F7\") + \",\"//Keep 7 decimals, that is almost the maximum accurate for float\n                        + keyframedata[i][c].value.ToString(\"F7\") + \",\"\n                        + keyframedata[i][c].inTangent.ToString(\"F7\") + \",\"\n                        + keyframedata[i][c].outTangent.ToString(\"F7\") + \",\"\n                        + keyframedata[i][c].weightedMode + \",\"\n                        + keyframedata[i][c].inWeight.ToString(\"F7\") + \",\"\n                        + keyframedata[i][c].outWeight.ToString(\"F7\"));\n                }\n            }\n            Debug.Log(\"File has been created at \" + animationdatafilepath);\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api", "text"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1568833067, "post_id": 57999185, "comment_id": 102404290, "body": "Is it possible for the caller to explicitly state what the encoding will be in the http header? Or does the caller not know either..."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1568833143, "post_id": 57999185, "comment_id": 102404325, "body": "If the caller does not know you will have to check the byte order marks in the stream header. Do a google search on how to do that, there are various articles and also <a href=\"https://stackoverflow.com\">Stack Overflow</a> questions / answers that address this."}, {"owner": {"reputation": 1531, "user_id": 1533068, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5g9lz.jpg?s=128&g=1", "display_name": "sfaust", "link": "https://stackoverflow.com/users/1533068/sfaust"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1568836267, "post_id": 57999185, "comment_id": 102405580, "body": "Client does not know either unfortunately (unless there is a way for javascipt/typescript/angular to detect that but I doubt it).  I guess I will be doing some research on byte order marks... thanks"}], "owner": {"reputation": 1531, "user_id": 1533068, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5g9lz.jpg?s=128&g=1", "display_name": "sfaust", "link": "https://stackoverflow.com/users/1533068/sfaust"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568832847, "creation_date": 1568832847, "question_id": 57999185, "link": "https://stackoverflow.com/questions/57999185/how-to-read-stream-encoding-in-uploaded-text-file-in-webapi", "title": "How to read stream encoding in uploaded text file in WebAPI", "body": "<p>I have a web API that receives uploaded text files and parses them out, but they may be in different encodings.  I have this code to read the upload:</p>\n\n<pre><code>var file = Request.Form.Files[0];\nusing (var sr = new StreamReader(file.OpenReadStream(), true))\n{\n      textData = await sr.ReadToEndAsync().ConfigureAwait(false);\n}\n</code></pre>\n\n<p>I have this unit tested and I have sample files in Unicode and UTF-8 that the tests upload and it all parses out correctly.  However, when I upload to my Azure repository and it runs testing there (in Ubuntu) the tests fail and it's not getting the data right.  If I do it like this:</p>\n\n<pre><code>var file = Request.Form.Files[0];\nusing (var sr = new StreamReader(file.OpenReadStream(), Encoding.Unicode, true))\n{\n      textData = await sr.ReadToEndAsync().ConfigureAwait(false);\n}\n</code></pre>\n\n<p>It works for the Unicode but not for UTF-8.  How to I get it to handle both?</p>\n"}, {"tags": ["c#", "asp.net", "multithreading", "task"], "comments": [{"owner": {"reputation": 2295, "user_id": 1262541, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8d7544724fcfc5be9d94eb10cc3ec47c?s=128&d=identicon&r=PG", "display_name": "Seabizkit", "link": "https://stackoverflow.com/users/1262541/seabizkit"}, "edited": false, "score": 1, "creation_date": 1568832702, "post_id": 57999046, "comment_id": 102404141, "body": "the reason you are getting that error is because you are trying to read from the <b>same file</b> from <b>multiple threads</b>. change your code to read once this does not need to be done in each thread and can not be done at the same time, once pass a copy of the contents to the multiple threads for writing.... ensuring their names are unique if same directory."}, {"owner": {"reputation": 2295, "user_id": 1262541, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8d7544724fcfc5be9d94eb10cc3ec47c?s=128&d=identicon&r=PG", "display_name": "Seabizkit", "link": "https://stackoverflow.com/users/1262541/seabizkit"}, "edited": false, "score": 0, "creation_date": 1568832948, "post_id": 57999046, "comment_id": 102404237, "body": "this is like the strangest things ive seen to test, what would you gain from knowing if it was 1 sec or 1 min, it would depend if you antivirus software has on-access* scanning on or not, if not you would have to scheduled a scan, hence most gd once hence on-access scanning."}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1568832978, "post_id": 57999046, "comment_id": 102404254, "body": "It isn&#39;t the same file, though, unless I&#39;m missing something. The variable <code>i</code> is passed to each thread/task and incorporated into the file name."}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1568833035, "post_id": 57999046, "comment_id": 102404276, "body": "Note that trying to start 1000 tasks isn&#39;t going to make all 1000 writes happen concurrently. There&#39;s a limit to how many tasks (or threads) will be scheduled."}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 1, "creation_date": 1568833079, "post_id": 57999046, "comment_id": 102404299, "body": "You can cut down significantly on IO requests (and improve the concurrency of your test) by using a file watcher to watch for deletion rather than polling File.Exists in a tight loop for a thousand files."}, {"owner": {"reputation": 153, "user_id": 1416033, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Tbunw.jpg?s=128&g=1", "display_name": "Hiral", "link": "https://stackoverflow.com/users/1416033/hiral"}, "reply_to_user": {"reputation": 2295, "user_id": 1262541, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8d7544724fcfc5be9d94eb10cc3ec47c?s=128&d=identicon&r=PG", "display_name": "Seabizkit", "link": "https://stackoverflow.com/users/1262541/seabizkit"}, "edited": false, "score": 0, "creation_date": 1568833284, "post_id": 57999046, "comment_id": 102404394, "body": "@Seabizkit I am not reading file, I am writing in file. I want to see how fast files get quarantined so that I can put that much wait in real application."}, {"owner": {"reputation": 153, "user_id": 1416033, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Tbunw.jpg?s=128&g=1", "display_name": "Hiral", "link": "https://stackoverflow.com/users/1416033/hiral"}, "edited": false, "score": 0, "creation_date": 1568833312, "post_id": 57999046, "comment_id": 102404411, "body": "@EricJ.Even tho I take 200 files, I still get exception."}, {"owner": {"reputation": 2295, "user_id": 1262541, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8d7544724fcfc5be9d94eb10cc3ec47c?s=128&d=identicon&r=PG", "display_name": "Seabizkit", "link": "https://stackoverflow.com/users/1262541/seabizkit"}, "edited": false, "score": 0, "creation_date": 1568834116, "post_id": 57999046, "comment_id": 102404767, "body": "<a href=\"https://stackoverflow.com/questions/26741191/ioexception-the-process-cannot-access-the-file-file-path-because-it-is-being\" title=\"ioexception the process cannot access the file file path because it is being\">stackoverflow.com/questions/26741191/&hellip;</a>, maybe its the anti virus software &quot;being used by another process&quot;"}, {"owner": {"reputation": 836, "user_id": 2907343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fd4ace93a8683b4f48cc7423a09d38?s=128&d=identicon&r=PG", "display_name": "Nicklaus Brain", "link": "https://stackoverflow.com/users/2907343/nicklaus-brain"}, "edited": false, "score": 0, "creation_date": 1568884276, "post_id": 57999046, "comment_id": 102419632, "body": "@Hiral please check my solution below, it should work out"}], "answers": [{"comments": [{"owner": {"reputation": 2295, "user_id": 1262541, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8d7544724fcfc5be9d94eb10cc3ec47c?s=128&d=identicon&r=PG", "display_name": "Seabizkit", "link": "https://stackoverflow.com/users/1262541/seabizkit"}, "edited": false, "score": 0, "creation_date": 1568834070, "post_id": 57999372, "comment_id": 102404742, "body": "not sure what value this adds, still not making sense."}, {"owner": {"reputation": 153, "user_id": 1416033, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Tbunw.jpg?s=128&g=1", "display_name": "Hiral", "link": "https://stackoverflow.com/users/1416033/hiral"}, "edited": false, "score": 0, "creation_date": 1568834503, "post_id": 57999372, "comment_id": 102404904, "body": "This solution didn&#39;t help."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1562155"}, "is_accepted": false, "score": 0, "last_activity_date": 1568834134, "last_edit_date": 1568834134, "creation_date": 1568833676, "answer_id": 57999372, "question_id": 57999046, "link": "https://stackoverflow.com/questions/57999046/create-multiple-files-using-multiple-threads-c/57999372#57999372", "title": "create multiple files using multiple threads c#", "body": "<p>Have you tried something like this in your loop:</p>\n\n<pre><code>    int x = i;\n    var thread = new Thread(() =&gt; GenerateVirusFile(x));\n</code></pre>\n\n<p>this prevents that the same <code>i</code> is used for more threads/file names.</p>\n"}, {"tags": [], "owner": {"reputation": 836, "user_id": 2907343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fd4ace93a8683b4f48cc7423a09d38?s=128&d=identicon&r=PG", "display_name": "Nicklaus Brain", "link": "https://stackoverflow.com/users/2907343/nicklaus-brain"}, "is_accepted": true, "score": 1, "last_activity_date": 1568834547, "creation_date": 1568834547, "answer_id": 57999534, "question_id": 57999046, "link": "https://stackoverflow.com/questions/57999046/create-multiple-files-using-multiple-threads-c/57999534#57999534", "title": "create multiple files using multiple threads c#", "body": "<p>The problem is in the following code:</p>\n\n<pre><code>for (int i = 0; i &lt; counter; i++)\n{\n    var thread = new Thread(() =&gt; GenerateVirusFile(i));\n    thread.Start();\n}\n</code></pre>\n\n<p>The closure <code>() =&gt; GenerateVirusFile(i)</code> is referencing changing variable\nRewrite it in the following way:</p>\n\n<pre><code>Parallel.For(0, counter, GenerateVirusFile);\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 1416033, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Tbunw.jpg?s=128&g=1", "display_name": "Hiral", "link": "https://stackoverflow.com/users/1416033/hiral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "accepted_answer_id": 57999534, "answer_count": 2, "score": 1, "last_activity_date": 1568836668, "creation_date": 1568832140, "question_id": 57999046, "link": "https://stackoverflow.com/questions/57999046/create-multiple-files-using-multiple-threads-c", "title": "create multiple files using multiple threads c#", "body": "<p>I am creating console app to simulate server. I create multiple virus files together using multiple threads to see whether all files get quarantined, if yes, how long it takes to quarantined. The problem with multithreading application is one thread starts writing another thread so I get exception - <strong>The process can not access the file X because the file is being used by another process</strong>. This is the reason that all files don't get quarantined. I use framework 4.5.2\nI have created app using thread and task. I don't get the desire result. What is the best practice to write this app? Thank you for helping me in advance.</p>\n\n<p>Using Thread:</p>\n\n<pre><code>class Program\n{\n    static string folderPath;\n    static readonly string fileContent = @\"X5O!P%@AP[4\\PZX54(P^)7CC)7}$EICAR-STANDARD-ANTIVIRUS-TEST-FILE!$H+H*\";\n\n    static void Main(string[] args)\n    {\n        folderPath = \"F:\\VirusScan\";\n\n        int counter = 1000;\n        for (int i = 0; i &lt; counter; i++)\n        {\n            var thread = new Thread(() =&gt; GenerateVirusFile(i));\n            thread.Start();\n        }\n\n        Console.ReadKey();\n    }\n\n    static void GenerateVirusFile(int i)\n    {\n        string filePath = $@\"{folderPath}\\TestForVirusScan_{i}_{DateTime.Now.ToString(\"yyyyMMddHHmmssffff\")}.txt\";\n\n        try\n        {\n            using (StreamWriter writer = new StreamWriter(filePath))\n            {\n                writer.WriteLine(fileContent);\n            }\n\n            var timer = Stopwatch.StartNew();\n            while (true)\n            {\n                if (!File.Exists(filePath))\n                {\n                    Console.WriteLine($\"{i}: File was removed in {timer.ElapsedMilliseconds}ms\");\n                    break;\n                }\n                else\n                {\n                    Thread.Sleep(1);\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine($\"{i}: Exception {ex.GetType().Name} occurred: {ex.Message}\");\n        }\n    }\n}\n</code></pre>\n\n<p>Using Task:</p>\n\n<pre><code>class Program\n{\n    static string folderPath;\n    static readonly string fileContent = @\"X5O!P%@AP[4\\PZX54(P^)7CC)7}$EICAR-STANDARD-ANTIVIRUS-TEST-FILE!$H+H*\";\n\n    static void Main(string[] args)\n    {\n        folderPath = \"F:\\VirusScan\";\n\n        int counter = 1000;\n        List&lt;Task&gt; tasks = new List&lt;Task&gt;();\n\n        for (int i = 1; i &lt;= counter; i++)\n        {\n            Task newTask = new Task((x) =&gt; GenerateVirusFile(x), i);                \n            tasks.Add(newTask);\n        }\n\n        foreach (var task in tasks)\n        {\n            task.Start();\n        }\n\n        Task.WaitAll(tasks.ToArray()); \n\n        Console.ReadKey();\n    }\n\n    public static void GenerateVirusFile(object i)\n    {\n        string filePath = $@\"{folderPath}\\TestForVirusScan_{i}_{DateTime.Now.ToString(\"yyyyMMddHHmmssffff\")}.txt\";\n\n        try\n        {\n            using (StreamWriter writer = new StreamWriter(filePath))\n            {\n                writer.WriteLine(fileContent);\n            }\n\n            var timer = Stopwatch.StartNew();\n            while (true)\n            {\n                if (!File.Exists(filePath))\n                {\n                    Console.WriteLine($\"{i}: File was removed in {timer.ElapsedMilliseconds}ms\");\n                    break;\n                }\n                else\n                {\n                    Thread.Sleep(1);\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine($\"{i}: Exception {ex.GetType().Name} occurred: {ex.Message}\");\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "visual-studio-2017", "environment-variables"], "answers": [{"comments": [{"owner": {"reputation": 585, "user_id": 6610036, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0469947022a1bdbb4422f3570da7dd80?s=128&d=identicon&r=PG&f=1", "display_name": "Trevor Bye", "link": "https://stackoverflow.com/users/6610036/trevor-bye"}, "edited": false, "score": 2, "creation_date": 1568908596, "post_id": 57999174, "comment_id": 102433668, "body": "So simple yet exactly what I needed, didn&#39;t know you could do this."}], "tags": [], "owner": {"reputation": 350, "user_id": 11697802, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PIeSeEpG05s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9pMPA1FYPN99XArKBn9M-8pY5eA/photo.jpg?sz=128", "display_name": "ShaneDemskie", "link": "https://stackoverflow.com/users/11697802/shanedemskie"}, "is_accepted": true, "score": 1, "last_activity_date": 1568832738, "creation_date": 1568832738, "answer_id": 57999174, "question_id": 57998874, "link": "https://stackoverflow.com/questions/57998874/vs-2017-asp-net-local-environment-variables/57999174#57999174", "title": "VS 2017 ASP.NET Local environment variables", "body": "<p>You can use <code>Environment.SetEnvironmentVariable(string newVariableName, string value)</code> to setup the environment variable locally. </p>\n\n<p>Take a look at the official Microsoft documentation <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.environment.setenvironmentvariable?view=netframework-4.8\" rel=\"nofollow noreferrer\">here</a>. </p>\n"}], "owner": {"reputation": 585, "user_id": 6610036, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0469947022a1bdbb4422f3570da7dd80?s=128&d=identicon&r=PG&f=1", "display_name": "Trevor Bye", "link": "https://stackoverflow.com/users/6610036/trevor-bye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "accepted_answer_id": 57999174, "answer_count": 1, "score": 1, "last_activity_date": 1568832738, "creation_date": 1568831370, "question_id": 57998874, "link": "https://stackoverflow.com/questions/57998874/vs-2017-asp-net-local-environment-variables", "title": "VS 2017 ASP.NET Local environment variables", "body": "<p>I have an ASP.NET (.NET Framework 4.6.1) application deployed on Azure app service. In the app service container I have defined environment variables and I access them using:</p>\n\n<pre><code>using System;\nprivate string _secret = Environment.GetEnvironmentVariable(\"SOME_SECRET\");\n</code></pre>\n\n<p>This works perfectly, but when running locally and doing development, I would like to define environment variables that can be accessed using the same design pattern. <a href=\"https://forums.asp.net/t/2133476.aspx?Setting+and+using+Environment+Variables+in+Visual+Studio+2017\" rel=\"nofollow noreferrer\">This link</a> has an example of creating environment variables with an appsetting.json file, but it uses a different design pattern, and you access the variables with the <code>IConfiguration</code> interface.</p>\n\n<p>My goal is to define my environment variables locally so that my app will run the same way it does on Azure, without changing all this code just to get environment variables to work locally. Additionally, I would have to have both design patterns present and some type of switch based on the runtime. Too much bloat for us.</p>\n\n<p>This seems like it should be trivial but I can't find a good solution.  </p>\n"}, {"tags": ["c#", "selenium", "selenium-webdriver", "appium"], "comments": [{"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1568834275, "post_id": 57998733, "comment_id": 102404821, "body": "On iOS or Android?  What browser?  What display resolution?  Creating a one-size-fits-all solution will not be trivial IMHO.  You will likely have better luck with a commercial tool."}, {"owner": {"reputation": 129, "user_id": 9846107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e91d3a7a6ccfcfbd02842a3a32ec5caa?s=128&d=identicon&r=PG&f=1", "display_name": "Abhi3106", "link": "https://stackoverflow.com/users/9846107/abhi3106"}, "reply_to_user": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1568844608, "post_id": 57998733, "comment_id": 102408332, "body": "We usually perform testing on all three devices (a web browser, Android device and an IOS device.)"}], "answers": [{"tags": [], "owner": {"reputation": 542, "user_id": 4540638, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HXM7W8Cz0Dk/AAAAAAAAAAI/AAAAAAAAGRU/OHS2Tpjn214/photo.jpg?sz=128", "display_name": "J.D. Cain", "link": "https://stackoverflow.com/users/4540638/j-d-cain"}, "is_accepted": true, "score": 3, "last_activity_date": 1568832120, "creation_date": 1568832120, "answer_id": 57999040, "question_id": 57998733, "link": "https://stackoverflow.com/questions/57998733/can-we-validate-text-alignment-on-a-webpage-mobile-app-using-selenium-appium/57999040#57999040", "title": "Can we validate text alignment on a webpage/Mobile App using Selenium/Appium", "body": "<p>There is a <a href=\"https://seleniumhq.github.io/selenium/docs/api/dotnet/html/P_OpenQA_Selenium_IWebElement_Location.htm\" rel=\"nofollow noreferrer\">location</a> property on IWebElement which returns a point value.</p>\n\n<blockquote>\n  <p>Gets a Point object containing the coordinates of the upper-left corner of this element relative to the upper-left corner of the page.</p>\n</blockquote>\n\n<p>So you could compare the 2 objects to see if the relative position of one element is to the left or right of another. </p>\n"}], "owner": {"reputation": 129, "user_id": 9846107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e91d3a7a6ccfcfbd02842a3a32ec5caa?s=128&d=identicon&r=PG&f=1", "display_name": "Abhi3106", "link": "https://stackoverflow.com/users/9846107/abhi3106"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 1, "accepted_answer_id": 57999040, "answer_count": 1, "score": 3, "last_activity_date": 1568833856, "creation_date": 1568830844, "last_edit_date": 1568833856, "question_id": 57998733, "link": "https://stackoverflow.com/questions/57998733/can-we-validate-text-alignment-on-a-webpage-mobile-app-using-selenium-appium", "title": "Can we validate text alignment on a webpage/Mobile App using Selenium/Appium", "body": "<p>Imagine that a mobile app or a web form contains 2 buttons \"OK\" and \"Cancel\". \nAs per the requirement, OK should be placed to the left side of Cancel button. \nEx:</p>\n\n<p>OK     CANCEL</p>\n\n<p>Is there a possible way to validate that Cancel button is present to the right side of OK button using Selenium/Appium. </p>\n\n<p>Currently, I am manually validating this scenario by taking screenshot. </p>\n\n<p>I am using C#. </p>\n\n<p>Any suggestions or advises would be highly appreciated.  </p>\n"}, {"tags": ["java", "c#", ".net", "encryption", "cryptography"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1568831013, "post_id": 57998662, "comment_id": 102403453, "body": "I had same issue years ago.  I finally tried every combination of parameters.  I put each option in a separate for loop and then added an exception handle so when I got an exception the loops would continue.   Tried something like 128 combinations and found the compatible one.  I had an encrypted message that was output by java.  It was easier to first to get decryption to work."}, {"owner": {"reputation": 79, "user_id": 11894839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19a79d0f9a8c78fa57a5498e6cb25cbb?s=128&d=identicon&r=PG&f=1", "display_name": "KamilITS", "link": "https://stackoverflow.com/users/11894839/kamilits"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1568831268, "post_id": 57998662, "comment_id": 102403553, "body": "@jdweng wow, so there is not one answer to my question? Can you find this class? or is it impassible? :("}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 11894839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19a79d0f9a8c78fa57a5498e6cb25cbb?s=128&d=identicon&r=PG&f=1", "display_name": "KamilITS", "link": "https://stackoverflow.com/users/11894839/kamilits"}, "edited": false, "score": 0, "creation_date": 1568838636, "post_id": 57999202, "comment_id": 102406472, "body": "hmm i have <code>System.ArgumentNullException: &#39;Buffer cannot be null. Parameter name: buffer&#39;</code>"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1568840110, "post_id": 57999202, "comment_id": 102406995, "body": "You may want to look at key sizes : <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.security.cryptography.keysizes?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1568845173, "post_id": 57999202, "comment_id": 102408486, "body": "Although this is all good advice, it doesn&#39;t solve the issue in the question."}], "tags": [], "owner": {"reputation": 36, "user_id": 6111766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad02a5aff49bb2e3673321ac0fca4d08?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan P", "link": "https://stackoverflow.com/users/6111766/dylan-p"}, "is_accepted": false, "score": -1, "last_activity_date": 1568832933, "creation_date": 1568832933, "answer_id": 57999202, "question_id": 57998662, "link": "https://stackoverflow.com/questions/57998662/java-cipher-getinstancersa-ecb-nopadding-equivalent-in-c-i-cant-encrypt/57999202#57999202", "title": "Java Cipher.getInstance(&quot;RSA/ECB/NoPadding&quot;); equivalent in C#? I can&#39;t encrypt message in .net framework application", "body": "<p>These days it's discouraged to use <code>RSACryptoServiceProvider</code> as it only works on Windows. What I usually do is have my public keys and private keys in <strong>PEM format</strong>, and load it using a <a href=\"https://nuget.org/packages/Ultz.Extensions.PrivacyEnhancedMail\" rel=\"nofollow noreferrer\">helper library</a> I wrote a while back.</p>\n\n<p>Here's a sample that will load a PEM private key and encrypt some data using PKCS #1:</p>\n\n<pre><code>var privateKeyString = File.ReadAllText(privateKeyPath);\nvar rsa = PemExt.DecodeRsaPrivateKey(PemExt.GetBytesFromPem(privateKeyString, \"RSA PRIVATE KEY\"));\nvar encryptedEverything = rsa.Encrypt(message, RSAEncryptionPadding.Pkcs1);\n</code></pre>\n\n<p>If you also have the public key, you can load both using the <code>Pem.GetCertificateAndKey</code> method which is far less complex.</p>\n\n<pre><code>var privateKeyString = File.ReadAllText(privateKeyPath);\nvar publicKeyString = File.ReadAllText(publicKeyPath);\nvar (cert, rsa) = Pem.GetCertificateAndKey(publicKeyString, privateKeyString);\nvar encryptedEverything = rsa.Encrypt(message, RSAEncryptionPadding.Pkcs1);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 11894839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19a79d0f9a8c78fa57a5498e6cb25cbb?s=128&d=identicon&r=PG&f=1", "display_name": "KamilITS", "link": "https://stackoverflow.com/users/11894839/kamilits"}, "edited": false, "score": 0, "creation_date": 1568841905, "post_id": 58000866, "comment_id": 102407614, "body": "Have you any sample how to use hybrid encryption in this case?"}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "reply_to_user": {"reputation": 79, "user_id": 11894839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19a79d0f9a8c78fa57a5498e6cb25cbb?s=128&d=identicon&r=PG&f=1", "display_name": "KamilITS", "link": "https://stackoverflow.com/users/11894839/kamilits"}, "edited": false, "score": 0, "creation_date": 1568842881, "post_id": 58000866, "comment_id": 102407887, "body": "<a href=\"https://riptutorial.com/java/example/7290/an-example-using-a-hybrid-cryptosystem-consisting-of-oaep-and-gcm\" rel=\"nofollow noreferrer\">This one</a> looks rather OK, although using GCM with public key crypto is a bit dangerous; you&#39;d want to <i>sign</i> the data as an adversary can also encrypt using the public key, so the authentication tag doesn&#39;t protect against all scenarios... I&#39;d rather use CTR and add a signature, but both CTR and GCM seem to be missing in action in C#, and CBC is vulnerable against padding oracle attacks."}, {"owner": {"reputation": 3791, "user_id": 1820553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NZb6uZzo4Gg/AAAAAAAAAAI/AAAAAAAAAo0/xTr6RvgMTRw/photo.jpg?sz=128", "display_name": "kelalaka", "link": "https://stackoverflow.com/users/1820553/kelalaka"}, "edited": false, "score": 0, "creation_date": 1568883455, "post_id": 58000866, "comment_id": 102419164, "body": "Hmm. MS has a good choice here. In general, I think no padding was available since the programmer will handle it. But in general, totally eliminating seems a good action."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "reply_to_user": {"reputation": 3791, "user_id": 1820553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NZb6uZzo4Gg/AAAAAAAAAAI/AAAAAAAAAo0/xTr6RvgMTRw/photo.jpg?sz=128", "display_name": "kelalaka", "link": "https://stackoverflow.com/users/1820553/kelalaka"}, "edited": false, "score": 0, "creation_date": 1568883825, "post_id": 58000866, "comment_id": 102419376, "body": "@kelalaka Well, there are secure schemes such as RSA-KEM that do not use any padding, and since exposing the private key operation isn&#39;t thought to make the private key at risk, it does make the API much less flexible. RSA without padding is insecure, but the user could have their own secure scheme in mind. I would have added <code>None</code> as option in a lower-end, general purpose API... I&#39;m not sure if <code>null</code> would work, but I suppose not. I&#39;ve actually removed that &quot;for good purpose&quot; from my answer."}, {"owner": {"reputation": 3791, "user_id": 1820553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NZb6uZzo4Gg/AAAAAAAAAAI/AAAAAAAAAo0/xTr6RvgMTRw/photo.jpg?sz=128", "display_name": "kelalaka", "link": "https://stackoverflow.com/users/1820553/kelalaka"}, "edited": false, "score": 0, "creation_date": 1568884249, "post_id": 58000866, "comment_id": 102419615, "body": "That is a reason to include <code>NoPadding</code>, in my opinion, too. However, what we see here, in general, people use it without reading it. Maybe, there should be a code-time, compile-time, or run-time warnings if <code>NoPadding</code> is used that can be suppressed like in Java annotations."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 1, "creation_date": 1568885554, "post_id": 58000866, "comment_id": 102420300, "body": "I&#39;m pretty sure that you can configure your favorite code checker to do so, and I am pretty sure that security-targeting tools already do this. It is another question if the Java <i>compiler</i> needs to check the contents of a string (or parameter value / choice of enum). But honestly, these kind of decisions should be put in a protocol description and then reviewed. If you let the developer make the choice himself then you&#39;re already too late (the dev. can take the role of designer and post the protocol on github for review, in case of lone wolf)."}, {"owner": {"reputation": 79, "user_id": 11894839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19a79d0f9a8c78fa57a5498e6cb25cbb?s=128&d=identicon&r=PG&f=1", "display_name": "KamilITS", "link": "https://stackoverflow.com/users/11894839/kamilits"}, "edited": false, "score": 0, "creation_date": 1568886121, "post_id": 58000866, "comment_id": 102420615, "body": "hmm no matter how insecure will be this app, if i want to be hacked, why somebody want to disallow me to do that? i just want to make a simply app working on localhost to make simply requests to other (an old app) to rewrite this api. it still don&#39;t need even internet connection in that first app."}, {"owner": {"reputation": 79, "user_id": 11894839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19a79d0f9a8c78fa57a5498e6cb25cbb?s=128&d=identicon&r=PG&f=1", "display_name": "KamilITS", "link": "https://stackoverflow.com/users/11894839/kamilits"}, "edited": false, "score": 0, "creation_date": 1568886198, "post_id": 58000866, "comment_id": 102420663, "body": "@MaartenBodewes ad. your comment from 12hours ago, i mean C# hybrid encryption"}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1568886463, "post_id": 58000866, "comment_id": 102420824, "body": "You can use Bouncy Castle to perform raw modular exponentiation (or rather raw CRT based calculations for private key operations, but yeah). I think it will always now left-pad zero bytes where required to get a result that has the same size in octets as the modulus, but I&#39;d rather make sure of that. If it is not in the official API then you need a library or do it yourself, but the latter is not recommended for crypto as it invariably leads to e.g. timing attacks. But as you are already hellbound to shoot yourself in the foot..."}], "tags": [], "owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "is_accepted": false, "score": 1, "last_activity_date": 1568883908, "last_edit_date": 1568883908, "creation_date": 1568841619, "answer_id": 58000866, "question_id": 57998662, "link": "https://stackoverflow.com/questions/57998662/java-cipher-getinstancersa-ecb-nopadding-equivalent-in-c-i-cant-encrypt/58000866#58000866", "title": "Java Cipher.getInstance(&quot;RSA/ECB/NoPadding&quot;); equivalent in C#? I can&#39;t encrypt message in .net framework application", "body": "<p>Your friend has a simply <em>insecure</em> method to perform encryption. You should never use \"NoPadding\" as that would be using \"textbook\" or \"raw\" RSA. To show what attacks are possible if you do can be found <a href=\"https://crypto.stackexchange.com/q/20085/1172\">here</a> (note the person asking the question for this specific purpose). <code>NoPadding</code> does indeed not be available in the Microsoft classes - I presume using <code>null</code> doesn't work.</p>\n\n<p>Furthermore, to encrypt larger messages you should be using <em>hybrid encryption</em> where a randomly generated AES key is wrapped (/encrypted) using the public RSA key, and the message specific AES key is then used to encrypt the data. That way you can encrypt any size of message, and you just get a one time overhead of - in your case - 128 bytes for a 1024 bit RSA key (both regarding performance <em>and</em> size of encrypted message).</p>\n\n<p>You'd want to use a larger key size than 1024 bits though, I'd at least double the key size. I'd also consider one of the OAEP schemes instead. There are attacks possible on PKCS#1 padding, so those are arguably less secure than the newer OAEP schemes.</p>\n"}], "owner": {"reputation": 79, "user_id": 11894839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19a79d0f9a8c78fa57a5498e6cb25cbb?s=128&d=identicon&r=PG&f=1", "display_name": "KamilITS", "link": "https://stackoverflow.com/users/11894839/kamilits"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 993, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1568883908, "creation_date": 1568830545, "question_id": 57998662, "link": "https://stackoverflow.com/questions/57998662/java-cipher-getinstancersa-ecb-nopadding-equivalent-in-c-i-cant-encrypt", "title": "Java Cipher.getInstance(&quot;RSA/ECB/NoPadding&quot;); equivalent in C#? I can&#39;t encrypt message in .net framework application", "body": "<p>My friend has simply method in Java:</p>\n\n<pre><code> public static byte[] encrypt(byte[] msg, PrivateKey key) throws InvalidKeyException, BadPaddingException, IllegalBlockSizeException, NoSuchPaddingException, NoSuchAlgorithmException {\n        final Cipher cipher = Cipher.getInstance(\"RSA/ECB/NoPadding\");\n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        return cipher.doFinal(msg);\n    }\n</code></pre>\n\n<p>I need to encrypt message the same way in C#. I tried to use </p>\n\n<pre><code>RSACryptoServiceProvider provider = new RSACryptoServiceProvider();\nprovider.FromXmlString(privkey);\nbyte[] encryptedEverything = provider.Encrypt(message, false/*tried every options of this constructor*/);\n</code></pre>\n\n<p>but i have a <code>System.Security.Cryptography.CryptographicException: 'Bad Length.'</code>. \nWhen i splited my <code>byte[256]</code> message to two <code>byte[128]</code> messages, sign, and then merge them i finally had a byte[512] message. I know why, but i had to try. </p>\n\n<p>How to sign this message with c# .net Framework? Is there any equivalent for Java Cipher? .net looks to be very careful with cryptography, i dont know why. </p>\n"}, {"tags": ["c#", "webcam", "emgucv", "face-detection", "face-recognition"], "comments": [{"owner": {"reputation": 21321, "user_id": 3088349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5cbe13d76e559198ea6857799b044b?s=128&d=identicon&r=PG", "display_name": "maytham-\u026f\u0250\u0265\u0287\u028e\u0250\u026f", "link": "https://stackoverflow.com/users/3088349/maytham-%c9%af%c9%90%c9%a5%ca%87%ca%8e%c9%90%c9%af"}, "edited": false, "score": 0, "creation_date": 1568837016, "post_id": 57998621, "comment_id": 102405872, "body": "does it return any exception?"}, {"owner": {"reputation": 37, "user_id": 11615393, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-R7XEg-jCUBE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZsMfKFlxGhOliZ4dXqIaDQ7XPEQ/mo/photo.jpg?sz=128", "display_name": "Bilal Hassan", "link": "https://stackoverflow.com/users/11615393/bilal-hassan"}, "reply_to_user": {"reputation": 21321, "user_id": 3088349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5cbe13d76e559198ea6857799b044b?s=128&d=identicon&r=PG", "display_name": "maytham-\u026f\u0250\u0265\u0287\u028e\u0250\u026f", "link": "https://stackoverflow.com/users/3088349/maytham-%c9%af%c9%90%c9%a5%ca%87%ca%8e%c9%90%c9%af"}, "edited": false, "score": 0, "creation_date": 1568920374, "post_id": 57998621, "comment_id": 102438737, "body": "This error occurs sometimes in Design and design disappears <i>Could not find type &#39;Emgu.CV.UI.ImageBox&#39;. Please make sure that the assembly that contains this type is referenced. If this type is a part of your development project, make sure that the project has been successfully built using settings for your current platform or Any CPU.</i>"}, {"owner": {"reputation": 21321, "user_id": 3088349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5cbe13d76e559198ea6857799b044b?s=128&d=identicon&r=PG", "display_name": "maytham-\u026f\u0250\u0265\u0287\u028e\u0250\u026f", "link": "https://stackoverflow.com/users/3088349/maytham-%c9%af%c9%90%c9%a5%ca%87%ca%8e%c9%90%c9%af"}, "edited": false, "score": 0, "creation_date": 1568924076, "post_id": 57998621, "comment_id": 102440287, "body": "I will try to look at it, if I can find thing I will get back."}, {"owner": {"reputation": 37, "user_id": 11615393, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-R7XEg-jCUBE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZsMfKFlxGhOliZ4dXqIaDQ7XPEQ/mo/photo.jpg?sz=128", "display_name": "Bilal Hassan", "link": "https://stackoverflow.com/users/11615393/bilal-hassan"}, "reply_to_user": {"reputation": 21321, "user_id": 3088349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5cbe13d76e559198ea6857799b044b?s=128&d=identicon&r=PG", "display_name": "maytham-\u026f\u0250\u0265\u0287\u028e\u0250\u026f", "link": "https://stackoverflow.com/users/3088349/maytham-%c9%af%c9%90%c9%a5%ca%87%ca%8e%c9%90%c9%af"}, "edited": false, "score": 0, "creation_date": 1568924440, "post_id": 57998621, "comment_id": 102440414, "body": "ok i&#39;ll wait sir :)"}, {"owner": {"reputation": 21321, "user_id": 3088349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5cbe13d76e559198ea6857799b044b?s=128&d=identicon&r=PG", "display_name": "maytham-\u026f\u0250\u0265\u0287\u028e\u0250\u026f", "link": "https://stackoverflow.com/users/3088349/maytham-%c9%af%c9%90%c9%a5%ca%87%ca%8e%c9%90%c9%af"}, "edited": false, "score": 0, "creation_date": 1568924531, "post_id": 57998621, "comment_id": 102440454, "body": "One thing mean while, when you ask question about Emgu.CV make your method show things related to Emgu, the method you have has Sql and and few other stuff. just make tiny and clear. ;)"}], "owner": {"reputation": 37, "user_id": 11615393, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-R7XEg-jCUBE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZsMfKFlxGhOliZ4dXqIaDQ7XPEQ/mo/photo.jpg?sz=128", "display_name": "Bilal Hassan", "link": "https://stackoverflow.com/users/11615393/bilal-hassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568830402, "creation_date": 1568830402, "question_id": 57998621, "link": "https://stackoverflow.com/questions/57998621/web-camera-hangs-when-i-try-to-open-it-to-recognize-the-detected-face-using-emgu", "title": "Web Camera Hangs when I try to open it to recognize the detected face using Emgu CV", "body": "<p>I am developing Teacher Attendance Management System using face recognition technique in C# using Emgu CV, first of all teachers' faces will be trained (registered) then their attendance will be marked using Face Recognition technique. But whenever I try to open camera for face recognition it freezes after some seconds and does not respond. First I thought it is because of continuously attempt oof insertion of attendance into database (primary key in <strong>Attendance</strong> table is <strong>name + date</strong> so no duplicate attendance will be marked of a teacher) but when I commented out all code related to database it freezes too. Anyone knows how can I overcome this issue ? Here is my <strong>FrameProceedure</strong> methode it will run when my form will be loaded as follows <code>Application.Idle += new EventHandler(FrameProcedure);</code></p>\n\n<p><strong><em>FrameProceedure</em></strong> Method :</p>\n\n<pre><code>private void FrameProcedure(object sender, EventArgs e)\n        {\n            try\n            {\n                // Thread.Sleep(1000);\n                Users.Add(\"\");\n                Frame = camera.QueryFrame().Resize(320, 240, Emgu.CV.CvEnum.INTER.CV_INTER_CUBIC);\n                grayFace = Frame.Convert&lt;Gray, Byte&gt;();\n                MCvAvgComp[][] facesDetectedNow = grayFace.DetectHaarCascade(faceDetected, 1.2, 10, Emgu.CV.CvEnum.HAAR_DETECTION_TYPE.DO_CANNY_PRUNING, new Size(20, 20));\n                foreach (MCvAvgComp f in facesDetectedNow[0])\n                {\n                    result = Frame.Copy(f.rect).Convert&lt;Gray, Byte&gt;().Resize(100, 100, Emgu.CV.CvEnum.INTER.CV_INTER_CUBIC);\n                    Frame.Draw(f.rect, new Bgr(Color.Green), 3);\n                    if (trainingImages.ToArray().Length != 0)\n                    {\n\n                        MCvTermCriteria termCriterias = new MCvTermCriteria(Count, 0.001);\n                        EigenObjectRecognizer recognizer = new EigenObjectRecognizer(trainingImages.ToArray(), labels.ToArray(), 1500, ref termCriterias);\n                        name = recognizer.Recognize(result);\n                        Frame.Draw(name, ref font, new Point(f.rect.X - 2, f.rect.Y - 2), new Bgr(Color.Red));\n\n                        if (name != null)\n                        {\n                            try\n                            {\n\n                                MySqlConnection databaseConnection = new MySqlConnection(connString);\n                                int id = 0;\n                                MySqlCommand cmd;\n\n                                //Check if the face recognized exists in the Registration Table then retrieve its ID to store in Attendance Table\n\n                                cmd = new MySqlCommand(\"SELECT id FROM mydb.registration WHERE name = @n\", databaseConnection);\n                                cmd.Parameters.Add(\"@n\", MySqlDbType.Text);\n                                cmd.Parameters[\"@n\"].Value = name;\n                                MySqlDataReader myReader;\n\n                                databaseConnection.Open();\n                                myReader = cmd.ExecuteReader();\n                                while (myReader.Read())\n                                {\n                                    id = (int)(myReader[\"id\"]);\n\n                                }\n                                databaseConnection.Close();\n                                //If ID is retrieved successfully (means face exists in Registration Table)  \n                                if (id != 0)\n                                {\n                                    MySqlConnection dbconn = new MySqlConnection(connString);\n                                    dbconn.Open();\n                                    MySqlCommand comm = dbconn.CreateCommand();\n                                    comm.CommandText = \"UPDATE mydb.attendance SET att_status = @status WHERE id = '\" + id + \"' AND att_status = '' AND name = '\" + name + \"' AND att_status = ''\";\n                                    comm.Parameters.Add(\"?status\", MySqlDbType.VarChar).Value = \"P\";\n                                    comm.ExecuteNonQuery();\n                                    dbconn.Close();\n                                   Frame.Draw(name + \" Marked Present\", ref font, new Point(f.rect.X - 2, f.rect.Y - 2), new Bgr(Color.Yellow));\n                                    SystemSounds.Beep.Play();\n                                }\n                            }\n                            catch (Exception ee)\n                            {\n                                 ```\n                            }\n                        }                 \n                        Users.Add(\"\");\n                    }\n                    imageBox1.Image = Frame;\n                    names = \"\";\n                    Users.Clear();\n                }\n            }\n            catch (Exception ee)\n            {\n                //  MessageBox.Show(ee.ToString());\n            }\n        }\n\n</code></pre>\n"}, {"tags": ["c#", "dependency-injection", "unity-container"], "comments": [{"owner": {"reputation": 58863, "user_id": 1875256, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/no10d.jpg?s=128&g=1", "display_name": "Ehsan Sajjad", "link": "https://stackoverflow.com/users/1875256/ehsan-sajjad"}, "edited": false, "score": 0, "creation_date": 1568830298, "post_id": 57998571, "comment_id": 102403149, "body": "your dbcontext has constructor with or without parameters? container needs to know from where to take <code>DbContext</code> object as it is required in constructor"}, {"owner": {"reputation": 65, "user_id": 10062990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb60fd86f684a03ad2759e60da30626?s=128&d=identicon&r=PG&f=1", "display_name": "Arpit", "link": "https://stackoverflow.com/users/10062990/arpit"}, "reply_to_user": {"reputation": 58863, "user_id": 1875256, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/no10d.jpg?s=128&g=1", "display_name": "Ehsan Sajjad", "link": "https://stackoverflow.com/users/1875256/ehsan-sajjad"}, "edited": false, "score": 0, "creation_date": 1568830407, "post_id": 57998571, "comment_id": 102403209, "body": "Here is the DbContext constructor code:  public DataContext() : base(&quot;DefaultConnection&quot;)         {          }"}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1568830988, "post_id": 57998571, "comment_id": 102403441, "body": "Your injecting <code>DbContext</code> not a <code>DataContext</code>, it seems as though you actually want to inject <code>DataContext</code> since that&#39;s what has the default constructor. So you want <code>public SqlRepository(DataContext context)</code>"}, {"owner": {"reputation": 65, "user_id": 10062990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb60fd86f684a03ad2759e60da30626?s=128&d=identicon&r=PG&f=1", "display_name": "Arpit", "link": "https://stackoverflow.com/users/10062990/arpit"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1568831644, "post_id": 57998571, "comment_id": 102403710, "body": "Thanks man @JSteward for pointing out &quot;You are injecting DbContext, not a DataContext&quot;. Actually DataContext was inheriting DbContext.So in SqlRepository constructor instead of passing DataContext, I was passing DbContext by mistake. Changed it and it worked. Thanks."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1568850823, "post_id": 57998571, "comment_id": 102409653, "body": "@Arpit you could have also left it as <code>DbContext</code> and just registered the type  <code>container.RegisterType&lt;DbContext, DataContext&gt;();</code>"}], "owner": {"reputation": 65, "user_id": 10062990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb60fd86f684a03ad2759e60da30626?s=128&d=identicon&r=PG&f=1", "display_name": "Arpit", "link": "https://stackoverflow.com/users/10062990/arpit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5675, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568831114, "creation_date": 1568830169, "last_edit_date": 1568830416, "question_id": 57998571, "link": "https://stackoverflow.com/questions/57998571/how-to-fix-exception-of-type-unity-exceptions-invalidregistrationexception-wa", "title": "How to fix: Exception of type &#39;Unity.Exceptions.InvalidRegistrationException&#39; was thrown", "body": "<p>in my application I have created SqlRepository to connect to SQL database using EF. And I have used Unity for dependency injection.\nSqlRepository constructor looks like this:</p>\n\n<pre><code> public SqlRepository(DbContext context)\n    {\n        this.context = context;\n        this.dbSet = context.Set&lt;T&gt;();\n    }\n</code></pre>\n\n<p>And in UnityConfig.cs file I have registered classes like this:</p>\n\n<pre><code>  container.RegisterType&lt;IRepository&lt;Product&gt;, SqlRepository&lt;Product&gt;&gt;();\n  container.RegisterType&lt;IRepository&lt;ProductCategory&gt;, SqlRepository&lt;ProductCategory&gt;&gt;();\n</code></pre>\n\n<p>Product and ProductCategory are basic classes with properties like Id/Name.</p>\n\n<p>I am getting error Exception of type 'Unity.Exceptions.InvalidRegistrationException' was thrown. InvalidOperationException: Failed to select a constructor for System.Data.Entity.DbContext\nPlease help.</p>\n"}, {"tags": ["c#", "pdf", "pdf-generation"], "comments": [{"owner": {"reputation": 3835, "user_id": 4254700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5225a3969314fb32ff3192e48c752c1?s=128&d=identicon&r=PG", "display_name": "joelgeraci", "link": "https://stackoverflow.com/users/4254700/joelgeraci"}, "edited": false, "score": 0, "creation_date": 1568838911, "post_id": 57998502, "comment_id": 102406577, "body": "You can&#39;t. Even without an incremental update, if the number of bytes in the new object is different from the original, the xref table needs to change and then the fact that the two files are different will be obvious."}, {"owner": {"reputation": 2165, "user_id": 3761687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe84b940e9ab4cd6c22dc4969027dd89?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3761687/ryan"}, "edited": false, "score": 0, "creation_date": 1568915436, "post_id": 57998502, "comment_id": 102436648, "body": "&quot;without any trace&quot; could you elaborate on what you mean exactly by this?"}], "owner": {"reputation": 11, "user_id": 12020205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u66Db.jpg?s=128&g=1", "display_name": "Pajzano", "link": "https://stackoverflow.com/users/12020205/pajzano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568829878, "creation_date": 1568829878, "question_id": 57998502, "link": "https://stackoverflow.com/questions/57998502/how-to-edit-a-pdf-without-incremental-update", "title": "How to edit a PDF without incremental update?", "body": "<p>How to edit a PDF without incremental update? I want to change the text without any trace of editing and without being able to return to the old version. The file is not signed or protected. The PDF version is 1.4 the file was created by Apache FOP 1.0 but I don't have the XSL-FO file (I only have the XML file).</p>\n\n<p>The incremental update in a visible way (in notepad ++) adds new objects and I don't know which old objects to replace with new ones (if possible). I would like the edited file to keep the original structure (created by Apache FOP 1.0) and the PDF version.</p>\n\n<p>I can use a window application (Windows), console, website or something for C#</p>\n"}, {"tags": ["c#", "asp.net", "security", "ssl"], "comments": [{"owner": {"reputation": 10256, "user_id": 1043380, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2388aa1beb9ac75029a5b4fafec11eec?s=128&d=identicon&r=PG", "display_name": "gunr2171", "link": "https://stackoverflow.com/users/1043380/gunr2171"}, "edited": false, "score": 0, "creation_date": 1568829520, "post_id": 57998389, "comment_id": 102402842, "body": "Is the certificate of the website valid (both in name and date) and signed by a valid CA authority that is trusted by your computer&#39;s root store?"}, {"owner": {"reputation": 21, "user_id": 11911433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753b939704dd56dbda8dbab05117c6fb?s=128&d=identicon&r=PG&f=1", "display_name": "idelin", "link": "https://stackoverflow.com/users/11911433/idelin"}, "reply_to_user": {"reputation": 10256, "user_id": 1043380, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2388aa1beb9ac75029a5b4fafec11eec?s=128&d=identicon&r=PG", "display_name": "gunr2171", "link": "https://stackoverflow.com/users/1043380/gunr2171"}, "edited": false, "score": 0, "creation_date": 1568829700, "post_id": 57998389, "comment_id": 102402906, "body": "The website I&#39;m trying to access is not my website, it&#39;s the external client website.  The website works fine when I try viewing it via any known browser.  It&#39;s only failing when I try to access it via c#.  So back to your question, I would assume that the website has all valid certificates."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1568829841, "post_id": 57998389, "comment_id": 102402968, "body": "Increase logging verbosity and look at which part of the TLS handshake went wrong. Alternatively use a network sniffer but that will only give you part of the answers. PS: please use <code>example.com</code> when obfuscating names and not other imaginary names."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1568829908, "post_id": 57998389, "comment_id": 102402990, "body": "&quot;The website works fine when I try viewing it via any known browser. &quot; That does not help a lot because your Java code is certainly not using the same truststore than any browser, so if the problem is related to the certificate validation and which CA it uses, you need to make sure the truststore your java code uses has the relevant CA certificate(s). &quot;I would assume that the website has all valid certificates.&quot; TLS does not work like you seem to think it does, the client has to validate, based on local content, the remote certificate. Among other things."}, {"owner": {"reputation": 21, "user_id": 11911433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753b939704dd56dbda8dbab05117c6fb?s=128&d=identicon&r=PG&f=1", "display_name": "idelin", "link": "https://stackoverflow.com/users/11911433/idelin"}, "edited": false, "score": 0, "creation_date": 1568830272, "post_id": 57998389, "comment_id": 102403139, "body": "Patrick, thank you for your feedback.  I&#39;m really new to the SSL/TLS and certificates in general.  I&#39;ve never dealt with this stuff before.  I&#39;m really not sure if I understand where you&#39;re getting.  What exactly do I need to do in order to get my C# code working?"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1568830273, "post_id": 57998389, "comment_id": 102403140, "body": "Could be a problem with negotiating the algorithms/ciphers. Doing a packet capture (Wireshark) and examining the packets could help identify. You might also look at using <a href=\"https://www.nartac.com/Products/IISCrypto/\" rel=\"nofollow noreferrer\">IIS Crypto</a> and comparing the algorithms on your good computer vs the bad one. You will definitelly need to do as Simon&#39;s answer suggests though: .NET 4.5.2 won&#39;t negotiate TLS 1.2 by default unless you do that. You could also consider upgrading to latest version of .NET Framework, which should negotiate correct TLS version automatically - still wouldn&#39;t resolve algorithm/cipers."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11911433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753b939704dd56dbda8dbab05117c6fb?s=128&d=identicon&r=PG&f=1", "display_name": "idelin", "link": "https://stackoverflow.com/users/11911433/idelin"}, "edited": false, "score": 0, "creation_date": 1568829833, "post_id": 57998454, "comment_id": 102402960, "body": "Just tried it.  I added this code, but my app still threw same error."}], "tags": [], "owner": {"reputation": 220, "user_id": 10488031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50bc3ec2efb762c2782382002adf7e4f?s=128&d=identicon&r=PG&f=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/10488031/simon"}, "is_accepted": false, "score": 2, "last_activity_date": 1568829633, "creation_date": 1568829633, "answer_id": 57998454, "question_id": 57998389, "link": "https://stackoverflow.com/questions/57998389/getting-ssl-tls-error-while-scraping-a-secure-website-via-c-and-httpwebrequest/57998454#57998454", "title": "Getting SSL/TLS error while scraping a secure website via C# and HttpWebRequest", "body": "<p>This could be a TLS 1.2 problem. You have to tell C# to use TLS 1.2:</p>\n\n<pre><code>System.Net.ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;\n</code></pre>\n\n<p>add this code before your requests.</p>\n"}, {"comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 3, "creation_date": 1568832836, "post_id": 57998748, "comment_id": 102404191, "body": "....Simon suggested this very thing. So why are you posting a separate answer, and why did you tell him it didn&#39;t work? Also - you only need to run this line of code once in your application. It will stay on TLS 1.2 until your app restarts. So it makes the most sense to run it at the very beginning of your app, such as your Main method, Application_Start event etc."}, {"owner": {"reputation": 21, "user_id": 11911433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753b939704dd56dbda8dbab05117c6fb?s=128&d=identicon&r=PG&f=1", "display_name": "idelin", "link": "https://stackoverflow.com/users/11911433/idelin"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1568850503, "post_id": 57998748, "comment_id": 102409597, "body": "The problem is, in his solution he&#39;s not explaining where to use this line of code.  I kept trying it after I created HttpWebRequest and it kept throwing error.  Then I found out on one of the forums that someone recommended putting this line of code before creating HttpWebRequest.  That&#39;s why I decided to create a separate post.  But I still appreciate his and everyone else&#39;s help.  Thank you all so much!"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1568862190, "post_id": 57998748, "comment_id": 102411543, "body": "it says quite clearly in his answer to put it before the request"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1568898653, "post_id": 57998748, "comment_id": 102427775, "body": "You should delete this answer, accept Simon&#39;s, and remove the comment saying it didn&#39;t work."}], "tags": [], "owner": {"reputation": 21, "user_id": 11911433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753b939704dd56dbda8dbab05117c6fb?s=128&d=identicon&r=PG&f=1", "display_name": "idelin", "link": "https://stackoverflow.com/users/11911433/idelin"}, "is_accepted": false, "score": -4, "last_activity_date": 1568830890, "creation_date": 1568830890, "answer_id": 57998748, "question_id": 57998389, "link": "https://stackoverflow.com/questions/57998389/getting-ssl-tls-error-while-scraping-a-secure-website-via-c-and-httpwebrequest/57998748#57998748", "title": "Getting SSL/TLS error while scraping a secure website via C# and HttpWebRequest", "body": "<p>I found an answer to my question.  All that needs to be done is to add the following line of code before creating a request:</p>\n\n<pre><code>ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;\n\nHttpWebRequest request = (HttpWebRequest)WebRequest.Create(url);\n\n... and the rest is same as I had originally.\n</code></pre>\n\n<p>Now my app works great!</p>\n\n<p>Thank you!</p>\n"}], "owner": {"reputation": 21, "user_id": 11911433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753b939704dd56dbda8dbab05117c6fb?s=128&d=identicon&r=PG&f=1", "display_name": "idelin", "link": "https://stackoverflow.com/users/11911433/idelin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568830890, "creation_date": 1568829361, "last_edit_date": 1568830577, "question_id": 57998389, "link": "https://stackoverflow.com/questions/57998389/getting-ssl-tls-error-while-scraping-a-secure-website-via-c-and-httpwebrequest", "title": "Getting SSL/TLS error while scraping a secure website via C# and HttpWebRequest", "body": "<p>I'm trying to write C# code to scrape html code from a secure website (i.e. <a href=\"https://www.exampe.com\" rel=\"nofollow noreferrer\">https://www.exampe.com</a>).</p>\n\n<p>I'm using Visual Studio 2017 with .Net Framework 4.5.2.</p>\n\n<p>This is my code:</p>\n\n<pre><code>HttpWebRequest request = (HttpWebRequest)WebRequest.Create(url);\n\nusing (HttpWebResponse response = (HttpWebResponse)request.GetResponse())\nusing (Stream stream = response.GetResponseStream())\nusing (StreamReader reader = new StreamReader(stream))\n{\n    string html = reader.ReadToEnd();\n}\n</code></pre>\n\n<p>When the above code is run, the following error is raised at line #2, <code>GetResponse()</code>:</p>\n\n<blockquote>\n  <p>The request was aborted: Could not create SSL/TLS secure channel</p>\n</blockquote>\n\n<p>When I use regular HTTP URL, then the above code works fine. It only breaks on HTTPS.</p>\n\n<p>PS:</p>\n\n<ol>\n<li><p>This website is external, meaning outside of our network and works fine when I view it via any browser. I assume it's got all necessary legitimate and valid certificates.</p></li>\n<li><p>And by the way, my code works fine when I run it at home on a separate computer that's not connected to my company's network.</p></li>\n</ol>\n\n<p>Please help!</p>\n"}, {"tags": ["c#", "cross-platform", "inversion-of-control", "uno-platform"], "answers": [{"comments": [{"owner": {"reputation": 1507, "user_id": 997688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GYQbN.jpg?s=128&g=1", "display_name": "Paul Stanley", "link": "https://stackoverflow.com/users/997688/paul-stanley"}, "edited": false, "score": 0, "creation_date": 1568956863, "post_id": 58020991, "comment_id": 102447134, "body": "Yes of course you are right about new platforms. I followed the instructions on Nick&#39;s blog closely but I just couldntt get it to work - I think the problem was in the StarterApp class which would n&#39;t build. It so frustrating not to be able to use MVVM on such a promising platform."}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 1507, "user_id": 997688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GYQbN.jpg?s=128&g=1", "display_name": "Paul Stanley", "link": "https://stackoverflow.com/users/997688/paul-stanley"}, "edited": false, "score": 0, "creation_date": 1569056837, "post_id": 58020991, "comment_id": 102478590, "body": "Don&#39;t worry, it is coming and very soon :-) . The team has only limited resources at hand while they are doing so many different things at once, that&#39;s why there are still things like this missing. But if you have some spare time, any help and contributions are very appreciated :-)"}, {"owner": {"reputation": 1507, "user_id": 997688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GYQbN.jpg?s=128&g=1", "display_name": "Paul Stanley", "link": "https://stackoverflow.com/users/997688/paul-stanley"}, "edited": false, "score": 0, "creation_date": 1569065957, "post_id": 58020991, "comment_id": 102480502, "body": "I would but believe I would be out my depth."}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 1507, "user_id": 997688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GYQbN.jpg?s=128&g=1", "display_name": "Paul Stanley", "link": "https://stackoverflow.com/users/997688/paul-stanley"}, "edited": false, "score": 0, "creation_date": 1569150074, "post_id": 58020991, "comment_id": 102495728, "body": "Definitely not :-) ! You can start with any contribution, no matter how small. Documentation, bug fixes, anything is warmly welcome :-)"}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 1507, "user_id": 997688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GYQbN.jpg?s=128&g=1", "display_name": "Paul Stanley", "link": "https://stackoverflow.com/users/997688/paul-stanley"}, "edited": false, "score": 0, "creation_date": 1569264546, "post_id": 58020991, "comment_id": 102532729, "body": "Updated my answer with ReactiveUI, which already has first-party support"}, {"owner": {"reputation": 13166, "user_id": 61311, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EgbU7.jpg?s=128&g=1", "display_name": "Peter Morris", "link": "https://stackoverflow.com/users/61311/peter-morris"}, "edited": false, "score": 0, "creation_date": 1584984731, "post_id": 58020991, "comment_id": 107604256, "body": "How would I get the MS ServiceCollection to work with Uno so that anything I register in the ServiceCollection is injected into pages?"}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 13166, "user_id": 61311, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EgbU7.jpg?s=128&g=1", "display_name": "Peter Morris", "link": "https://stackoverflow.com/users/61311/peter-morris"}, "edited": false, "score": 0, "creation_date": 1585054141, "post_id": 58020991, "comment_id": 107626187, "body": "@PeterMorris UWP/Uno Pages must have a parameterless constructor so that Frame can perform navigation. That being said, dependency injection could be implemented for page&#39;s view models. I haven&#39;t tried that with ServiceCollection yet, but it is a good idea and I will try to make some simple MVVM infrastructure with Microsoft&#39;s dependency injection and write a blog about it :-)"}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 13166, "user_id": 61311, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EgbU7.jpg?s=128&g=1", "display_name": "Peter Morris", "link": "https://stackoverflow.com/users/61311/peter-morris"}, "edited": false, "score": 0, "creation_date": 1585495582, "post_id": 58020991, "comment_id": 107773182, "body": "@PeterMorris actually noticed this blog post shows Uno with Microsoft.Extensions.DependencyInjection - <a href=\"https://platform.uno/blog/getting-started-with-uno-platform-and-reactiveui/\" rel=\"nofollow noreferrer\">platform.uno/blog/&hellip;</a>"}, {"owner": {"reputation": 71, "user_id": 10368808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8IAe4.png?s=128&g=1", "display_name": "Tommy", "link": "https://stackoverflow.com/users/10368808/tommy"}, "edited": false, "score": 0, "creation_date": 1615237908, "post_id": 58020991, "comment_id": 117624772, "body": "Prism.Uno is supposed to be eligible to inject deps into Win UI ctors but only if the Win UI  project is being created in the Uno&#39;s ecosystem. Could you drop a guide how Win UI and Prism can incorporate via Uno ?"}], "tags": [], "owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "is_accepted": true, "score": 2, "last_activity_date": 1569264529, "last_edit_date": 1569264529, "creation_date": 1568946311, "answer_id": 58020991, "question_id": 57998357, "link": "https://stackoverflow.com/questions/57998357/uno-platform-using-dependency-injection/58020991#58020991", "title": "Uno Platform Using Dependency Injection", "body": "<p>Uno Platform can use any .NET Standard library, so you could potentially just install Autofac or Unity and plug it into your custom MVVM framework.</p>\n\n<p><strong>MvvmLight</strong> binding is provided via <a href=\"https://github.com/nventive/uno.mvvmlight\" rel=\"nofollow noreferrer\">Uno.MvvmLight</a>, which is also available as a <a href=\"https://www.nuget.org/packages/Uno.GalaSoft.MvvmLight.Platform/5.4.0-uno.134\" rel=\"nofollow noreferrer\">NuGet package in preview</a>. Although it hasn't been updated for a while, I will put up a Issue on GitHub to get it up to date again with the upstream.</p>\n\n<p>For my personal favorite <strong>MvvmCross</strong> - there is a <a href=\"https://github.com/MvvmCross/MvvmCross/pull/3495\" rel=\"nofollow noreferrer\">work in progress PR on GitHub</a>, which will bring Uno support directly into MvvmCross. But before that happens, you can follow the instructions from <strong>Nick Randolph</strong> <a href=\"https://nicksnettravels.builttoroam.com/uno-with-mvvmcross/\" rel=\"nofollow noreferrer\">on his blog</a> to get the preview version up and running.</p>\n\n<p>The platform is still quite new so it takes time for things to settle and third party libraries to adopt it, but after the release of WinUI 3.0 it should stabilize and the support should grow faster.</p>\n\n<h2>Update</h2>\n\n<p>I totally forgot to mention <a href=\"https://reactiveui.net/\" rel=\"nofollow noreferrer\"><strong>ReactiveUI</strong></a> which has first-party support for Uno Platform already.</p>\n"}], "owner": {"reputation": 1507, "user_id": 997688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GYQbN.jpg?s=128&g=1", "display_name": "Paul Stanley", "link": "https://stackoverflow.com/users/997688/paul-stanley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 496, "favorite_count": 0, "accepted_answer_id": 58020991, "answer_count": 1, "score": 1, "last_activity_date": 1569264529, "creation_date": 1568829216, "question_id": 57998357, "link": "https://stackoverflow.com/questions/57998357/uno-platform-using-dependency-injection", "title": "Uno Platform Using Dependency Injection", "body": "<p>I am trying to inject dependencies into a constructor of a ViewModel in a project using the Mvvm framework. I am using the Uno Platform. I tried Mvvm frameworks Prism and Mvvmcross but they remain incomplete and I couldn't get them to build. I am now trying Mvvmhelpers which builds fine but I don't think that caters for a IOC container.Could someone recommned a way forward?</p>\n"}, {"tags": ["c#", "entity-framework", "linq", "task-parallel-library"], "comments": [{"owner": {"reputation": 17, "user_id": 1928165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17d5ae19b9a3e16ee403d0af8d01dbb?s=128&d=identicon&r=PG", "display_name": "user1928165", "link": "https://stackoverflow.com/users/1928165/user1928165"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1568831487, "post_id": 57998342, "comment_id": 102403646, "body": "@JSteward I&#39;ve already read this thread it&#39;s asking to change auto generated code which is generated from entity framework. Then whenever we are updating procedure (adding/removing parameters) generated method will.be modified. Thats y I&#39;m creating wrapper method for this like mentioned in 2md method. Here my question is do we any alternative way instead of Task.Run( ) in wrapper method?"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 1928165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17d5ae19b9a3e16ee403d0af8d01dbb?s=128&d=identicon&r=PG", "display_name": "user1928165", "link": "https://stackoverflow.com/users/1928165/user1928165"}, "edited": false, "score": 0, "creation_date": 1568831561, "post_id": 57998764, "comment_id": 102403676, "body": "this is not solution for my case. Here my question is do we any alternative way instead of Task.Run( ) in wrapper method?"}, {"owner": {"reputation": 423, "user_id": 2854028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NFcb8.png?s=128&g=1", "display_name": "awais", "link": "https://stackoverflow.com/users/2854028/awais"}, "reply_to_user": {"reputation": 17, "user_id": 1928165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17d5ae19b9a3e16ee403d0af8d01dbb?s=128&d=identicon&r=PG", "display_name": "user1928165", "link": "https://stackoverflow.com/users/1928165/user1928165"}, "edited": false, "score": 1, "creation_date": 1568832482, "post_id": 57998764, "comment_id": 102404044, "body": "in above example you&#39;re not using forcefully <code>Task.Run()</code>. This is the recommended method to use <code>async</code> call in ef methods. Please read the article <a href=\"https://docs.microsoft.com/en-us/ef/ef6/fundamentals/async\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/ef/ef6/fundamentals/async</a>"}, {"owner": {"reputation": 423, "user_id": 2854028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NFcb8.png?s=128&g=1", "display_name": "awais", "link": "https://stackoverflow.com/users/2854028/awais"}, "reply_to_user": {"reputation": 17, "user_id": 1928165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17d5ae19b9a3e16ee403d0af8d01dbb?s=128&d=identicon&r=PG", "display_name": "user1928165", "link": "https://stackoverflow.com/users/1928165/user1928165"}, "edited": false, "score": 0, "creation_date": 1568834426, "post_id": 57998764, "comment_id": 102404879, "body": "@user1928165 I request you to give this answer useful or mark it as answer. Appreciated"}], "tags": [], "owner": {"reputation": 423, "user_id": 2854028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NFcb8.png?s=128&g=1", "display_name": "awais", "link": "https://stackoverflow.com/users/2854028/awais"}, "is_accepted": true, "score": 1, "last_activity_date": 1568830940, "creation_date": 1568830940, "answer_id": 57998764, "question_id": 57998342, "link": "https://stackoverflow.com/questions/57998342/entity-framework-database-first-approach-how-to-make-async-method/57998764#57998764", "title": "Entity Framework database-first approach - how to make async method?", "body": "<pre class=\"lang-cs prettyprint-override\"><code>    public static async Task PerformDatabaseOperations()\n                {\n                    using (var db = new BloggingContext())\n                    {\n                        // Create a new blog and save it\n                        db.Blogs.Add(new Blog\n                        {\n                            Name = \"Test Blog #\" + (db.Blogs.Count() + 1)\n                        });\n                        Console.WriteLine(\"Calling SaveChanges.\");\n                        await db.SaveChangesAsync();\n                        Console.WriteLine(\"SaveChanges completed.\");\n\n                        // Query for all blogs ordered by name\n                        Console.WriteLine(\"Executing query.\");\n                        var blogs = await (from b in db.Blogs\n                                    orderby b.Name\n                                    select b).ToListAsync();\n\n                        // Write all blogs out to Console\n                        Console.WriteLine(\"Query completed with following results:\");\n                        foreach (var blog in blogs)\n                        {\n                            Console.WriteLine(\" - \" + blog.Name);\n                        }\n                    }\n                }\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 1928165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17d5ae19b9a3e16ee403d0af8d01dbb?s=128&d=identicon&r=PG", "display_name": "user1928165", "link": "https://stackoverflow.com/users/1928165/user1928165"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 1, "closed_date": 1568970862, "accepted_answer_id": 57998764, "answer_count": 1, "score": -1, "last_activity_date": 1568830940, "creation_date": 1568829151, "last_edit_date": 1568830646, "question_id": 57998342, "link": "https://stackoverflow.com/questions/57998342/entity-framework-database-first-approach-how-to-make-async-method", "closed_reason": "Duplicate", "title": "Entity Framework database-first approach - how to make async method?", "body": "<p>I am generating method from stored procedure using Entity Framework with a database-first approach (like below).</p>\n\n<pre><code>public virtual ObjectResult&lt;GetPersons_Result&gt; GetPersons(Nullable&lt;int&gt; id)\n{\n    var idParameter = id.HasValue ?\n            new ObjectParameter(\"id\", id) :\n            new ObjectParameter(\"id\", typeof(int));\n\n    return ((IObjectContextAdapter)this).ObjectContext.ExecuteFunction&lt;GetPersons_Result&gt;(\"GetPersons\", idParameter);\n}\n</code></pre>\n\n<p>To make this run in asynchronous way, I wrapped this method in <code>Task.Run()</code> (like below)</p>\n\n<pre><code>public async Task&lt;object&gt; GetPersons(int id)\n{\n    IList&lt;GetPersons_Result&gt; persons;\n\n    using (var context = new PersonEntities())\n    {\n         persons = await Task.Run(() =&gt; \n                        context.GetPersons(id).SingleOrDefault());\n    }\n\n    return persons;\n} \n</code></pre>\n\n<p>Do we have any other options to make async call for this EF generated method?.</p>\n"}, {"tags": ["c#", "mvvm", "xamarin.forms", "prism"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 1, "creation_date": 1568829070, "post_id": 57998261, "comment_id": 102402669, "body": "you&#39;re trying to bind SelectedItem (which is ONE item) to Cart, which is a Collection.  That just won&#39;t work.  I don&#39;t think you&#39;re going to be able to do this purely with bindings - you probably need event handlers or commands on your first two CollectionViews that will update the Cart ObservableCollection"}, {"owner": {"reputation": 8866, "user_id": 5758420, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a47e2744f0e5b6f84407efd06dbee96f?s=128&d=identicon&r=PG&f=1", "display_name": "Haukinger", "link": "https://stackoverflow.com/users/5758420/haukinger"}, "edited": false, "score": 1, "creation_date": 1568839967, "post_id": 57998261, "comment_id": 102406944, "body": "and you don&#39;t want (public) setters on observable collections, btw"}, {"owner": {"reputation": 13, "user_id": 11058922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7f582366a7d75c0750dd3578436572?s=128&d=identicon&r=PG&f=1", "display_name": "rottter", "link": "https://stackoverflow.com/users/11058922/rottter"}, "reply_to_user": {"reputation": 8866, "user_id": 5758420, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a47e2744f0e5b6f84407efd06dbee96f?s=128&d=identicon&r=PG&f=1", "display_name": "Haukinger", "link": "https://stackoverflow.com/users/5758420/haukinger"}, "edited": false, "score": 0, "creation_date": 1568904195, "post_id": 57998261, "comment_id": 102431275, "body": "@Haukinger If I change them to private my xaml can&#39;t found the property"}, {"owner": {"reputation": 13, "user_id": 11058922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7f582366a7d75c0750dd3578436572?s=128&d=identicon&r=PG&f=1", "display_name": "rottter", "link": "https://stackoverflow.com/users/11058922/rottter"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1568904348, "post_id": 57998261, "comment_id": 102431371, "body": "@Jason You&#39;re right, I didn&#39;t pay attention to &quot;SelectedItem&quot; I was a little frustrated. I&#39;ll investigate about event handlers, thx a lot."}], "owner": {"reputation": 13, "user_id": 11058922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7f582366a7d75c0750dd3578436572?s=128&d=identicon&r=PG&f=1", "display_name": "rottter", "link": "https://stackoverflow.com/users/11058922/rottter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1298, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568829264, "creation_date": 1568828755, "last_edit_date": 1568829264, "question_id": 57998261, "link": "https://stackoverflow.com/questions/57998261/binding-selecteditem-from-collectionview", "title": "Binding SelectedItem from CollectionView", "body": "<p>I'm developing my frist app on xamarin-forms, using XamarinForms v4.2, Prism.Dryloc v7.2 and Refit. </p>\n\n<p>I have 3 collectionview on my MenuPage</p>\n\n<ol>\n<li>Food</li>\n<li>Drinks</li>\n<li>Cart</li>\n</ol>\n\n<p>A web service fills the first two and they work great, I need to select one of each one and I'm trying to binding the selected items to the Cart collection, I'm debugging to understand how it works but at the moment of selection this appear on my Debug Console:<br>\n <code>\"[0:] Binding: KioscoColab.Models.Menu can not be converted to type 'System.Collections.ObjectModel.ObservableCollection'1[KioscoColab.Models.Menu]</code></p>\n\n<p>Here is my code:</p>\n\n<p>ViewModel</p>\n\n<pre><code>...\n\nObservableCollection&lt;Menu&gt; _food;\nObservableCollection&lt;Menu&gt; _drinks;\nObservableCollection&lt;Menu&gt; _cart;\n\npublic ObservableCollection&lt;Menu&gt; Food\n{\n     get =&gt; _food;\n     set =&gt; SetProperty(ref _food, value);\n}\n\npublic ObservableCollection&lt;Menu&gt; Drinks\n{\n     get =&gt; _drinks;\n     set =&gt; SetProperty(ref _drinks, value);\n}\n\npublic ObservableCollection&lt;Menu&gt; Cart\n{\n     get =&gt; _cart;\n     set =&gt; SetProperty(ref _cart, value);\n}\n\n...\npublic async Task LoadMenu()\n{\n     //Here is my logic for the web service\n     ...\n     Food = new ObservableCollection&lt;Menu&gt;(food.Content);\n     Drinks = new ObservableCollection&lt;Menu&gt;(drinks.Content);\n     Cart = new ObservableCollection&lt;Menu&gt;();\n}\n...\n</code></pre>\n\n<p>XamlPage</p>\n\n<pre><code>&lt;!--  CollectionView Food--&gt;\n&lt;CollectionView\n            Grid.Row=\"1\"\n            Grid.Column=\"0\"\n            Margin=\"5\"\n            ItemsSource=\"{Binding Food}\"\n            SelectedItem=\"{Binding Cart, Mode=TwoWay}\"\n            SelectionMode=\"Single\"\n            VerticalScrollBarVisibility=\"Always\"&gt;\n            &lt;CollectionView.ItemsLayout&gt;\n                &lt;GridItemsLayout Orientation=\"Vertical\" /&gt;\n            &lt;/CollectionView.ItemsLayout&gt;\n            &lt;CollectionView.ItemTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;Grid Margin=\"5\"&gt;\n                        &lt;Grid.ColumnDefinitions&gt;\n                            &lt;ColumnDefinition Width=\"*\" /&gt;\n                            &lt;ColumnDefinition Width=\"*\" /&gt;\n                        &lt;/Grid.ColumnDefinitions&gt;\n                        &lt;Label\n                            Grid.Column=\"0\"\n                            FontSize=\"Medium\"\n                            Text=\"{Binding Description}\"\n                            VerticalOptions=\"Center\" /&gt;\n                        &lt;Label\n                            Grid.Column=\"1\"\n                            FontSize=\"Medium\"\n                            HorizontalTextAlignment=\"End\"\n                            Text=\"{Binding Price, StringFormat='{0:C}'}\"\n                            VerticalOptions=\"Center\" /&gt;\n                    &lt;/Grid&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/CollectionView.ItemTemplate&gt;\n        &lt;/CollectionView&gt;\n\n\n&lt;!--  CollectionView Cart  --&gt;\n&lt;CollectionView\n            Grid.Row=\"1\"\n            Grid.Column=\"1\"\n            Margin=\"5\"\n            ItemsSource=\"{Binding Cart}\"\n            VerticalScrollBarVisibility=\"Always\"&gt;            \n            &lt;CollectionView.ItemsLayout&gt;\n                &lt;GridItemsLayout Orientation=\"Vertical\" Span=\"2\" /&gt;\n            &lt;/CollectionView.ItemsLayout&gt;\n            &lt;CollectionView.ItemTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;Grid Margin=\"5\"&gt;\n                        &lt;Grid.ColumnDefinitions&gt;\n                            &lt;ColumnDefinition Width=\"*\" /&gt;\n                            &lt;ColumnDefinition Width=\"20\" /&gt;\n                        &lt;/Grid.ColumnDefinitions&gt;\n                        &lt;Label\n                            Grid.Column=\"0\"\n                            FontSize=\"18\"\n                            Text=\"{Binding Description}\"\n                            VerticalOptions=\"Center\" /&gt;\n                        &lt;Label\n                            Grid.Column=\"1\"\n                            FontSize=\"18\"\n                            Text=\"{Binding Price}\"\n                            VerticalOptions=\"End\" /&gt;\n                    &lt;/Grid&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/CollectionView.ItemTemplate&gt;\n        &lt;/CollectionView&gt;\n</code></pre>\n\n<p>How can I make the cast? Or what should I do?</p>\n"}, {"tags": ["c#", "python", "expression", "lambda-calculus"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 6177682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43c23b7359bbc7b706fa83668010a403?s=128&d=identicon&r=PG&f=1", "display_name": "Steve_S", "link": "https://stackoverflow.com/users/6177682/steve-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1600706920, "creation_date": 1600706920, "answer_id": 63996680, "question_id": 57998221, "link": "https://stackoverflow.com/questions/57998221/building-an-expression-in-python-dynamically/63996680#63996680", "title": "Building an expression in python dynamically", "body": "<p>Had a very similar issue and cs95's solution on the related post worked for me:</p>\n<p><a href=\"https://stackoverflow.com/questions/45925327/dynamically-filtering-a-pandas-dataframe\">Dynamically filtering a pandas dataframe</a></p>\n<p>Basically, string parsing + eval() looks like a good option, or df.query() if you're using pandas already.</p>\n"}], "owner": {"reputation": 113, "user_id": 9001283, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MyH6tMA6zKo/AAAAAAAAAAI/AAAAAAAAAvM/c1XHO14_2u8/photo.jpg?sz=128", "display_name": "vagdevi pedalenka", "link": "https://stackoverflow.com/users/9001283/vagdevi-pedalenka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1600706920, "creation_date": 1568828627, "question_id": 57998221, "link": "https://stackoverflow.com/questions/57998221/building-an-expression-in-python-dynamically", "title": "Building an expression in python dynamically", "body": "<p>I want to build an expression and evaluate it in python. Basically I will have Rule ID for which I need to build a Trigger condition (T), LHS (L), RHS (R) in the form of expression.</p>\n\n<p>All the data required to build the above 3 expression will be stored in a form of three tables in database. Let say,</p>\n\n<p>1) Constant table - stores rule Id and constants along with their order</p>\n\n<p>2) Operator table - stores rule Id and operators, prior operator along with their order</p>\n\n<p>3) Variable table - stores rule Id and variables, prior operator along with their order</p>\n\n<p>Tables data will be in form of</p>\n\n<p><a href=\"https://i.stack.imgur.com/oqJEf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oqJEf.png\" alt=\"enter image description here\"></a></p>\n\n<p>so based on the equation order id, I need to build T, L, R expression for the given RuleId.\nFor example: expression for the RuleId =3, T,L,R will be as follows</p>\n\n<p>T : ( ! 2204) and ( ! 2204)</p>\n\n<p>L : 2204</p>\n\n<p>R :  2204 * 2.00000</p>\n\n<p>Tried by building the expressions using stack, queue in C#, it worked fine.\nIs there any other easy way exists in python to achieve this?</p>\n"}, {"tags": ["c#", "gethashcode"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1568828769, "post_id": 57998214, "comment_id": 102402545, "body": "Every object in .Net implements GetHashCode. Are you asking for something else?"}, {"owner": {"reputation": 8284, "user_id": 3018377, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LlpBb.jpg?s=128&g=1", "display_name": "Loc", "link": "https://stackoverflow.com/users/3018377/loc"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1568828933, "post_id": 57998214, "comment_id": 102402609, "body": "@Amy: GetHashCode only came with default implementation. We still need to override it if we want use the object as map key or put the object into a hash set. See this: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.object.gethashcode?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1568829055, "post_id": 57998214, "comment_id": 102402661, "body": "What &quot;correct&quot; implementation?  .Net hash codes are not going to be the same as Java hash codes.  They are used for hash sets all the time without issue."}, {"owner": {"reputation": 8284, "user_id": 3018377, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LlpBb.jpg?s=128&g=1", "display_name": "Loc", "link": "https://stackoverflow.com/users/3018377/loc"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1568829248, "post_id": 57998214, "comment_id": 102402730, "body": "Why not the same? You are understanding wrong about object hash code and why we need it..."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1568829274, "post_id": 57998214, "comment_id": 102402744, "body": "You&#39;re right, I don&#39;t understand why the default implementation works for everyone else, but not for you."}, {"owner": {"reputation": 8284, "user_id": 3018377, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LlpBb.jpg?s=128&g=1", "display_name": "Loc", "link": "https://stackoverflow.com/users/3018377/loc"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1568829302, "post_id": 57998214, "comment_id": 102402748, "body": "I didn&#39;t say ANY C# objects we need to override getHashCode(). ONLY override for some cases."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1568829362, "post_id": 57998214, "comment_id": 102402769, "body": "If those classes need a special hash code, those classes will have implemented it.  If its your class, you can implement it, as you have.  The default hash code function works fine.  It&#39;s very unclear why it won&#39;t."}, {"owner": {"reputation": 8284, "user_id": 3018377, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LlpBb.jpg?s=128&g=1", "display_name": "Loc", "link": "https://stackoverflow.com/users/3018377/loc"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1568829453, "post_id": 57998214, "comment_id": 102402814, "body": "No. Default hash code does not work fine in my case if I want to put MyObject into a SET and use IndexOf function"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1568829506, "post_id": 57998214, "comment_id": 102402837, "body": "I already said the default hash code works just fine with sets.  Can you explain why you think it won&#39;t?"}, {"owner": {"reputation": 8284, "user_id": 3018377, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LlpBb.jpg?s=128&g=1", "display_name": "Loc", "link": "https://stackoverflow.com/users/3018377/loc"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1568829693, "post_id": 57998214, "comment_id": 102402902, "body": "If you read <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.object.gethashcode?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>, you will understand WHY"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1568829754, "post_id": 57998214, "comment_id": 102402930, "body": "I am familiar with that documentation, and have used .Net and <code>GetHashCode</code> with sets for <i>years</i>.  Why don&#39;t you just call <code>type.GetHashCode()</code> and <code>attrs.GetHashCode()</code> and call it a day?  Please explain why it works for everyone but not in your case."}, {"owner": {"reputation": 8284, "user_id": 3018377, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LlpBb.jpg?s=128&g=1", "display_name": "Loc", "link": "https://stackoverflow.com/users/3018377/loc"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1568829870, "post_id": 57998214, "comment_id": 102402980, "body": "Yes. It works but I have to handle NULL before calling GetHashCode...."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1568830123, "post_id": 57998214, "comment_id": 102403076, "body": "Yes, that is how you do it.  You can&#39;t call a method on a null object, so if its null, avoid calling that method.  You&#39;ll need to handle null values using an <code>if</code> conditional statement or null coalescing, or the null member propagation operator, or something else."}, {"owner": {"reputation": 8284, "user_id": 3018377, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LlpBb.jpg?s=128&g=1", "display_name": "Loc", "link": "https://stackoverflow.com/users/3018377/loc"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1568830197, "post_id": 57998214, "comment_id": 102403107, "body": "Yes. I can do that BUT it is not CONCISE way. that is why Java has Objects.hash and Objects.hashCode utility."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1568830415, "post_id": 57998214, "comment_id": 102403212, "body": "Oh, it&#39;s not concise.  Of course, I see that now in the <code>GetHashCode</code> documentation you wanted me to read.  I understand the issue now."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1568831601, "post_id": 57998214, "comment_id": 102403689, "body": "@Amy I&#39;ve edited post so it is clear what OP is looking for."}, {"owner": {"reputation": 8284, "user_id": 3018377, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LlpBb.jpg?s=128&g=1", "display_name": "Loc", "link": "https://stackoverflow.com/users/3018377/loc"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1568831970, "post_id": 57998214, "comment_id": 102403848, "body": "@AlexeiLevenkov. Thank you for your awesome edit. That is exactly my issue - CONCISE way!"}], "answers": [{"tags": [], "owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "is_accepted": true, "score": 4, "last_activity_date": 1568829080, "creation_date": 1568829080, "answer_id": 57998331, "question_id": 57998214, "link": "https://stackoverflow.com/questions/57998214/what-is-equivalent-for-java-objects-hash-and-objects-hashcode-in-c/57998331#57998331", "title": "What is equivalent for Java Objects.hash and Objects.hashCode in C#", "body": "<p>The .NET equivalent of this is the new <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.hashcode?view=netcore-2.2\" rel=\"nofollow noreferrer\"><code>System.HashCode</code></a>, in particular the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.hashcode.combine?view=netcore-2.2\" rel=\"nofollow noreferrer\"><code>HashCode.Combine&lt;&gt;</code></a> method which you can use to create a hash code from multiple values:</p>\n\n<pre><code>public class MyObject\n{\n    private int? type;\n    private string[] attrs;\n\n    public override int GetHashCode()\n        =&gt; HashCode.Combine(type, attrs);\n\n    // remember to also override Equals\n}\n</code></pre>\n\n<p>Note that this type is only available in .NET Core. If you are running on .NET Framework, you will have to implement the hash code calculation yourself. Good ways to do that are <a href=\"https://stackoverflow.com/q/263400/216074\">documented here</a>.</p>\n"}], "owner": {"reputation": 8284, "user_id": 3018377, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LlpBb.jpg?s=128&g=1", "display_name": "Loc", "link": "https://stackoverflow.com/users/3018377/loc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 863, "favorite_count": 1, "accepted_answer_id": 57998331, "answer_count": 1, "score": -1, "last_activity_date": 1568831577, "creation_date": 1568828610, "last_edit_date": 1568831577, "question_id": 57998214, "link": "https://stackoverflow.com/questions/57998214/what-is-equivalent-for-java-objects-hash-and-objects-hashcode-in-c", "title": "What is equivalent for Java Objects.hash and Objects.hashCode in C#", "body": "<p>Moving from Java to C# developer. In Java, I used a lot of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#hash-java.lang.Object...-\" rel=\"nofollow noreferrer\">Objects.hash(array)</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#hashCode-java.lang.Object-\" rel=\"nofollow noreferrer\">Objects.hashCode(object)</a> to build hash code of an object in hashCode function. I can't find any equivalent for those functions in C#. Any ideas?</p>\n\n<p>Indeed I can call <code>GetHashCode</code> and combine them as shown in <a href=\"https://stackoverflow.com/questions/18065251/concise-way-to-combine-field-hashcodes\">Concise way to combine field hashcodes?</a>, but that requires a lot of <code>null</code> checks for reference types and that is making code much longer than comparable Java code.</p>\n\n<p><strong>In Java:</strong></p>\n\n<pre><code>public class MyObject {\n\n    private Integer type;\n    private String[] attrs;\n\n    @Override\n    public int hashCode() {\n        int hash = 1, p = 31;\n        hash = p * hash + Objects.hashCode(type); // Handle Null case\n        hash = p * hash + Objects.hash(attrs); // Handle Null case\n        return hash;\n    }\n}\n</code></pre>\n\n<p><strong>In C#:</strong></p>\n\n<pre><code>public class MyObject {\n\n    private int? type;\n    private string[] attrs;\n\n    public override int GetHashCode()\n        int hash = 1, p = 31;\n        hash = p * hash + hash_of(type);    // Any utilities?\n        hash = p * hash + hash_of_array(attrs); // Any utilities?\n        return hash;\n    }\n}\n</code></pre>\n\n<p>Note: I'm not looking for compatible results (as I know that hash codes would be different for similar objects, and can be different even between versions/platform for the same framework) but rather code size.</p>\n"}, {"tags": ["c#", "url-rewriting", "url-routing", "global-asax"], "answers": [{"tags": [], "owner": {"reputation": 102, "user_id": 5617952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xSdBu.jpg?s=128&g=1", "display_name": "Michael Searson", "link": "https://stackoverflow.com/users/5617952/michael-searson"}, "is_accepted": true, "score": 0, "last_activity_date": 1568829255, "creation_date": 1568829255, "answer_id": 57998362, "question_id": 57998015, "link": "https://stackoverflow.com/questions/57998015/mappageroute-is-throwing-error-in-global-asax/57998362#57998362", "title": "MapPageRoute is throwing error in Global.asax", "body": "<p>Welcome to StackOverflow!</p>\n\n<p>Although <code>.MapPageRoute()</code> exists within the <code>System.Web.Routing</code> namespace this only applies to .NET versions <code>4.0</code> and higher. If you take a look at the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.routing.routecollection.mappageroute?view=netframework-4.8#applies-to\" rel=\"nofollow noreferrer\">Microsoft documentation</a> you'll see a heading at the bottom of the page called \"Applies To\".</p>\n\n<p>This section should appear on all pages, so whenever you encounter an <code>Error CS1061</code> it's worth checking the docs to see if it exists for the version of .NET you're targeting.</p>\n\n<p>To resolve this, the easiest thing to do would be to upgrade your project from .NET 3.5 to 4.0, or (if this is not appropriate for your situation) find another way to do your URL rewriting.</p>\n"}], "owner": {"reputation": 7, "user_id": 12086458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36e59b64a1ab53a5693fc799e92344dd?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/12086458/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 57998362, "answer_count": 1, "score": 0, "last_activity_date": 1568855324, "creation_date": 1568827723, "last_edit_date": 1568855324, "question_id": 57998015, "link": "https://stackoverflow.com/questions/57998015/mappageroute-is-throwing-error-in-global-asax", "title": "MapPageRoute is throwing error in Global.asax", "body": "<p>I am trying to re-write the URL for SEO friendly pattern. Best way is to remove the file extension. I visited some tutorial where the use of Global.asax file was suggested.</p>\n\n<p>I am using .net framework 3.5 and in which I am getting the below error: </p>\n\n<p>Error   CS1061  'RouteCollection' does not contain a definition for 'MapPageRoute' and no accessible extension method 'MapPageRoute' accepting a first argument of type 'RouteCollection' could be found (are you missing a using directive or an assembly reference?)</p>\n\n<p>I am using the code below in the global.asax file for routing.</p>\n\n<pre><code>&lt;%@ Application Language=\"C#\" %&gt;\n&lt;%@ Import Namespace=\"System.Web.Routing\" %&gt;\n&lt;script runat=\"server\"&gt;\n    void Application_Start(object sender, EventArgs e)\n    {\n        RegisterRoutes(RouteTable.Routes);\n    }\n\n    static void RegisterRoutes(RouteCollection routes)\n    {\n        routes.MapPageRoute(\"Customers\", \"Customers\", \"~/Customers.aspx\");\n        routes.MapPageRoute(\"CustomerDetails\", \"Customers/{CustomerId}\", \"~/CustomerDetails.aspx\");\n\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>Please help how to fix this issue.</p>\n\n<p>I have checked the reference of system.web.routing. Its correct.</p>\n"}, {"tags": ["c#", "mongodb"], "answers": [{"tags": [], "owner": {"reputation": 3584, "user_id": 4368485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1WnyN.png?s=128&g=1", "display_name": "\u0110\u0135 \u039d\u03b9\u0393\u039e\u0397\u039b\u03c8\u039a", "link": "https://stackoverflow.com/users/4368485/%c4%90%c4%b5-%ce%9d%ce%b9%ce%93%ce%9e%ce%97%ce%9b%cf%88%ce%9a"}, "is_accepted": false, "score": 0, "last_activity_date": 1569045498, "creation_date": 1569045498, "answer_id": 58037668, "question_id": 57998008, "link": "https://stackoverflow.com/questions/57998008/how-to-compare-property-in-using-mongodb-driver/58037668#58037668", "title": "How to compare property in using MongoDB Driver", "body": "<p><strong>MongoDB.Driver</strong>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    var res = collection.Find(\"{$expr:{$gt:['$Spent','$Budget']}}\")\n                        .ToList();\n</code></pre>\n\n<p><strong>MongoDB.Entities</strong>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using MongoDB.Entities;\n\nnamespace StackOverflow\n{\n    public class Program\n    {\n        public class Project : Entity\n        {\n            public decimal Budget { get; set; }\n            public decimal Spent { get; set; }\n        }\n\n        private static void Main(string[] args)\n        {\n            new DB(\"test\", \"localhost\");\n\n            (new Project\n            {\n                Budget = 10000,\n                Spent = 11000\n            }).Save();\n\n            var res = DB.Find&lt;Project&gt;()\n                        .MatchExpression(\"{$gt:['$Spent','$Budget']}\")\n                        .Execute();\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11867851, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LtmOaofjrPw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcty_fWCmD2vb07kzKOOaVTtQE4yQ/photo.jpg?sz=128", "display_name": "user11867851", "link": "https://stackoverflow.com/users/11867851/user11867851"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569045498, "creation_date": 1568827711, "last_edit_date": 1568831391, "question_id": 57998008, "link": "https://stackoverflow.com/questions/57998008/how-to-compare-property-in-using-mongodb-driver", "title": "How to compare property in using MongoDB Driver", "body": "<p>How can I translate <code>db.monthlyBudget.find( { $expr: { $gt: [ \"$spent\" , \"$budget\" ] } } )</code>\ninto C# using the MongoDB Driver.</p>\n\n<p>I have tried to do it like this:</p>\n\n<pre><code>new BsonDocumentFilterDefine&lt;T&gt;(new BsonDocument(\"$expr\",\" $gt: [ \\\"$spent\\\" , \\\"$budget\\\" ]\"))\n</code></pre>\n\n<p>But it does not work.</p>\n"}, {"tags": ["c#", "xamarin.android", "visual-studio-2019"], "answers": [{"tags": [], "owner": {"reputation": 1910, "user_id": 10308336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxGaJ.jpg?s=128&g=1", "display_name": "Jessie Zhang -MSFT", "link": "https://stackoverflow.com/users/10308336/jessie-zhang-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1568863122, "creation_date": 1568863122, "answer_id": 58003260, "question_id": 57997995, "link": "https://stackoverflow.com/questions/57997995/suggestion-regarding-free-natural-language-processing-api-for-xamarin-andriod-ap/58003260#58003260", "title": "Suggestion regarding free Natural Language Processing API for xamarin andriod app", "body": "<p>From the error,we will find that the Nuget is only available for .net framework >= 4.5</p>\n\n<blockquote>\n  <p>Error NU1202 Package OpenNLP 1.3.5 is not compatible with\n  monoandroid90 (MonoAndroid,Version=v9.0). Package OpenNLP 1.3.5\n  supports: net45 (.NETFramework,Version=v4.5) OCR Pro\n  C:\\Users\\Krant\\source\\repos\\OCR Pro\\OCR Pro.csproj 1</p>\n</blockquote>\n\n<p>So you can't install it for Xamarin Android project , only classic desktop .Net Framework applications.e.g. uwp or wpf.</p>\n"}], "owner": {"reputation": 55, "user_id": 11987896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bee76d8df7a76fa16b2424be1688ef92?s=128&d=identicon&r=PG&f=1", "display_name": "kiran kumar", "link": "https://stackoverflow.com/users/11987896/kiran-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 58003260, "answer_count": 1, "score": 0, "last_activity_date": 1568863122, "creation_date": 1568827634, "question_id": 57997995, "link": "https://stackoverflow.com/questions/57997995/suggestion-regarding-free-natural-language-processing-api-for-xamarin-andriod-ap", "title": "Suggestion regarding free Natural Language Processing API for xamarin andriod app", "body": "<p>I would like to develop a Natural language Processing App in xamarin andriod,I am looking for free API to use in my APP through google search I found OpenNLP is a free API to do tokenization, Parts of speech tagging etc but I dont know how to use this in my xamarin andriod APP. When I tried to install from Nuget package I am getting an incompitable error Please help me to find free API  </p>\n\n<p>Error   NU1202  Package OpenNLP 1.3.5 is not compatible with monoandroid90 (MonoAndroid,Version=v9.0). Package OpenNLP 1.3.5 supports: net45 (.NETFramework,Version=v4.5)   OCR Pro C:\\Users\\Krant\\source\\repos\\OCR Pro\\OCR Pro.csproj  1</p>\n"}, {"tags": ["c#", "unity3d", "terrain", "unity3d-terrain"], "comments": [{"owner": {"reputation": 3247, "user_id": 11124332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y0zWM.png?s=128&g=1", "display_name": "Menyus", "link": "https://stackoverflow.com/users/11124332/menyus"}, "edited": false, "score": 0, "creation_date": 1568828817, "post_id": 57997950, "comment_id": 102402568, "body": "Does development build produces any logs about the issue?"}, {"owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "reply_to_user": {"reputation": 3247, "user_id": 11124332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y0zWM.png?s=128&g=1", "display_name": "Menyus", "link": "https://stackoverflow.com/users/11124332/menyus"}, "edited": false, "score": 0, "creation_date": 1568830353, "post_id": 57997950, "comment_id": 102403187, "body": "No, I did not get any problem just this wired terrain."}, {"owner": {"reputation": 3247, "user_id": 11124332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y0zWM.png?s=128&g=1", "display_name": "Menyus", "link": "https://stackoverflow.com/users/11124332/menyus"}, "edited": false, "score": 0, "creation_date": 1568832471, "post_id": 57997950, "comment_id": 102404041, "body": "what shader you use for your terrain?"}, {"owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "reply_to_user": {"reputation": 3247, "user_id": 11124332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y0zWM.png?s=128&g=1", "display_name": "Menyus", "link": "https://stackoverflow.com/users/11124332/menyus"}, "edited": false, "score": 0, "creation_date": 1568839653, "post_id": 57997950, "comment_id": 102406832, "body": "Im using simple terrain with simple texture"}], "owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 158, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568827416, "creation_date": 1568827416, "question_id": 57997950, "link": "https://stackoverflow.com/questions/57997950/got-black-color-over-terrain-when-i-builded-for-android-on-unity", "title": "Got black color over terrain when I builded for Android on Unity", "body": "<p>I upgraded my project from <strong>Unity 2017</strong> to <strong>2019</strong> but when I build again the game for Android I got <strong>black color over terrain</strong>. </p>\n\n<p>I didn't get this problem in Unity 2017.</p>\n\n<p>Things I tried As I read in unity forum I changed Skybox to Color in lighting but nothing fixed my problem. See the images below.</p>\n\n<p>Any help, please?</p>\n\n<p><a href=\"https://i.stack.imgur.com/FS8s4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FS8s4.png\" alt=\"\"></a>\n<a href=\"https://i.stack.imgur.com/2lTrS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2lTrS.png\" alt=\"\"></a></p>\n"}, {"tags": ["c#", ".net", "dll", "vbscript", "dataset"], "comments": [{"owner": {"reputation": 3441, "user_id": 1747257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/FZsXW.jpg?s=128&g=1", "display_name": "Barshan Das", "link": "https://stackoverflow.com/users/1747257/barshan-das"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1568830587, "post_id": 57997929, "comment_id": 102403283, "body": "@JSteward How? The link you provided is about connecting to database from VBScript through ADO. After that the records are fetched through ADODB.Recordset. Here in my case it is a .Net System.Data.Dataset. Do you mean to say they are same? I do not think so. Educate me if I am wrong."}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1568830829, "post_id": 57997929, "comment_id": 102403380, "body": "Looks like my mistake, retracted, thought they were working with datasets as well."}, {"owner": {"reputation": 14608, "user_id": 692942, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2e501358dbf183e074c2f9a7896fbff?s=128&d=identicon&r=PG&f=1", "display_name": "user692942", "link": "https://stackoverflow.com/users/692942/user692942"}, "edited": false, "score": 0, "creation_date": 1568845532, "post_id": 57997929, "comment_id": 102408560, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1451956/calling-c-sharp-dll-in-vbscript\">Calling C# dll in vbscript</a>"}, {"owner": {"reputation": 3441, "user_id": 1747257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/FZsXW.jpg?s=128&g=1", "display_name": "Barshan Das", "link": "https://stackoverflow.com/users/1747257/barshan-das"}, "reply_to_user": {"reputation": 14608, "user_id": 692942, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2e501358dbf183e074c2f9a7896fbff?s=128&d=identicon&r=PG&f=1", "display_name": "user692942", "link": "https://stackoverflow.com/users/692942/user692942"}, "edited": false, "score": 0, "creation_date": 1568863156, "post_id": 57997929, "comment_id": 102411721, "body": "@Lankymart no it is not. My question is not about calling a dll and returning any value, but particular to System.data.dataset. I am stuck at how to extract data from a dataset after the dll returns the dataset ."}, {"owner": {"reputation": 14608, "user_id": 692942, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2e501358dbf183e074c2f9a7896fbff?s=128&d=identicon&r=PG&f=1", "display_name": "user692942", "link": "https://stackoverflow.com/users/692942/user692942"}, "edited": false, "score": 0, "creation_date": 1568876949, "post_id": 57997929, "comment_id": 102415873, "body": "What have you tried, just showing a comment in code saying <code>Stuck here:</code> with no actual attempt isn&#39;t very helpful. Have you actual tried to call some methods or properties of the <code>DataSet</code> object? Did you encounter an error when you tried? Can you show your attempts?"}, {"owner": {"reputation": 3441, "user_id": 1747257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/FZsXW.jpg?s=128&g=1", "display_name": "Barshan Das", "link": "https://stackoverflow.com/users/1747257/barshan-das"}, "edited": false, "score": 0, "creation_date": 1568884637, "post_id": 57997929, "comment_id": 102419808, "body": "Okay. Since I waned to put a short code in the Question and pin-point where exactly I am having problem, I did not put the entire code.  Now, I have edited my question to include what I have tried already. I know how to use a C# System.Data.Dataset in a C# code. I already tried the same syntax in VBScript and that did not work.  Do you know how to use a System.Data.Dataset in VBScript? Or, how do I convert a System.Data.Dataset returned by a .net dll in VBScript, so that I can access the data inside that?"}, {"owner": {"reputation": 14608, "user_id": 692942, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2e501358dbf183e074c2f9a7896fbff?s=128&d=identicon&r=PG&f=1", "display_name": "user692942", "link": "https://stackoverflow.com/users/692942/user692942"}, "edited": false, "score": 0, "creation_date": 1568891151, "post_id": 57997929, "comment_id": 102423357, "body": "@BarshanDas <code>dataset</code> variable is an object reference so you need to use <code>Set dataset = objSQLDB.RunSqlQuery(&quot;Select 1&quot;)</code> hence the <code>Object required</code> error."}, {"owner": {"reputation": 15773, "user_id": 893670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h53Sy.png?s=128&g=1", "display_name": "Kul-Tigin", "link": "https://stackoverflow.com/users/893670/kul-tigin"}, "edited": false, "score": 0, "creation_date": 1568891182, "post_id": 57997929, "comment_id": 102423371, "body": "@BarshanDas <code>System.Data.DataSet</code> is not a COM Visible object, so it&#39;s not possible to use it on VBScript side. Your best option is referencing ADODB in your .NET end and returning a Recordset from there."}, {"owner": {"reputation": 3441, "user_id": 1747257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/FZsXW.jpg?s=128&g=1", "display_name": "Barshan Das", "link": "https://stackoverflow.com/users/1747257/barshan-das"}, "reply_to_user": {"reputation": 14608, "user_id": 692942, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2e501358dbf183e074c2f9a7896fbff?s=128&d=identicon&r=PG&f=1", "display_name": "user692942", "link": "https://stackoverflow.com/users/692942/user692942"}, "edited": false, "score": 0, "creation_date": 1568920058, "post_id": 57997929, "comment_id": 102438626, "body": "@Lankymart your analysis does not help. I have tried putting Set dataset earlier and I get same Object required error. Please see my updated code. It does not make any difference. Please remove the duplicate mark from my question, because it is not a duplicate one."}, {"owner": {"reputation": 3441, "user_id": 1747257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/FZsXW.jpg?s=128&g=1", "display_name": "Barshan Das", "link": "https://stackoverflow.com/users/1747257/barshan-das"}, "reply_to_user": {"reputation": 15773, "user_id": 893670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h53Sy.png?s=128&g=1", "display_name": "Kul-Tigin", "link": "https://stackoverflow.com/users/893670/kul-tigin"}, "edited": false, "score": 0, "creation_date": 1568920233, "post_id": 57997929, "comment_id": 102438695, "body": "@Kul-Tigin I find your comment useful. What you are saying makes sense to me. That basically means System.Data.DataSet is a closed door for me.  Fine, I will try with ADODB Recordset."}, {"owner": {"reputation": 3441, "user_id": 1747257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/FZsXW.jpg?s=128&g=1", "display_name": "Barshan Das", "link": "https://stackoverflow.com/users/1747257/barshan-das"}, "edited": false, "score": 0, "creation_date": 1571310200, "post_id": 57997929, "comment_id": 103202763, "body": "Anyone facing the same problem, there are two ways. Either you can go for ADODB Recordset. Alternatively, you have to write a wrapper over Dataset to give you the data you want. I will add a full answer later."}], "owner": {"reputation": 3441, "user_id": 1747257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/FZsXW.jpg?s=128&g=1", "display_name": "Barshan Das", "link": "https://stackoverflow.com/users/1747257/barshan-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568919717, "creation_date": 1568827300, "last_edit_date": 1568919717, "question_id": 57997929, "link": "https://stackoverflow.com/questions/57997929/access-c-net-dataset-from-vbscript", "title": "Access C# .Net Dataset from VBScript", "body": "<p>I have a .Net dll which provides me exposed function RunSqlQuery(). This function returns System.Data.Dataset. I am calling this function from VBScript.</p>\n\n<p>If I use the C# syntax of dataset in VBScript, I get error \"Object required\"</p>\n\n<p>How can I get the data from the dataset in VBScript?</p>\n\n<p>.NET Dll function signature:</p>\n\n<pre><code>public DataSet RunSqlQuery(string query);\n</code></pre>\n\n<p>My VBScript code:</p>\n\n<pre><code>On Error Resume Next\nDim objSQLDB\nDim dataset\nDim retVal\n\nset objSQLDB = CreateObject(\"SQLManagement.SQLServer\")\nretVal = objSQLDB.Connect(\"server-address\", \"username\", \"password\")\n\nIf retVal = 0 Then\n    WScript.echo \"Failed to connect: \" &amp; Err.Number &amp; \" \" &amp; Err.Description \n    WScript.Quit\nEnd If\n\n'Any of the below two lines does not help resolving Object required error\ndataset = objSQLDB.RunSqlQuery(\"Select 1\")\n'set dataset = objSQLDB.RunSqlQuery(\"Select 1\")\n\nIf Err.Number &lt;&gt; 0 Then\n    WScript.echo \"Error running query: \" &amp; Err.Number &amp; \" \" &amp; Err.Description \n    WScript.Quit\nEnd If\n\n' Stuck here : how to extract data from the dataset\n' Below two lines does not work\n' Error message: Microsoft VBScript runtime error: Object required\n\nWScript.echo dataset.Tables.Count\nWScript.echo dataset.Tables[0].Rows.Count\n\nobjSQLDB.Disconnect\nobjSQLDB = Nothing\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "openid-connect"], "comments": [{"owner": {"reputation": 332, "user_id": 3817408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/791feee2ff46ab4c81e761014fca1273?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Brunner", "link": "https://stackoverflow.com/users/3817408/mike-brunner"}, "edited": false, "score": 0, "creation_date": 1588792392, "post_id": 57997795, "comment_id": 109039231, "body": "I&#39;m having the same problem.  Did you ever find an answer?"}, {"owner": {"reputation": 139, "user_id": 5121674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JjPUT.jpg?s=128&g=1", "display_name": "deathcat05", "link": "https://stackoverflow.com/users/5121674/deathcat05"}, "reply_to_user": {"reputation": 332, "user_id": 3817408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/791feee2ff46ab4c81e761014fca1273?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Brunner", "link": "https://stackoverflow.com/users/3817408/mike-brunner"}, "edited": false, "score": 0, "creation_date": 1588795077, "post_id": 57997795, "comment_id": 109040611, "body": "Hi, @MikeBrunner I looked back at my working solution (I&#39;ve since updated the nuget package to version 3.1.2.  But, I found <a href=\"https://docs.microsoft.com/en-us/aspnet/core/migration/22-to-30?view=aspnetcore-3.1&amp;tabs=visual-studio#migrate-startupconfigure\" rel=\"nofollow noreferrer\">this section of the Microsoft Docs</a> helpful.  I know I needed to make sure that <code>app.UseAuthentication()</code> was done <b>before</b> <code>app.UseAuthorization()</code>"}], "owner": {"reputation": 139, "user_id": 5121674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JjPUT.jpg?s=128&g=1", "display_name": "deathcat05", "link": "https://stackoverflow.com/users/5121674/deathcat05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1568826697, "creation_date": 1568826697, "question_id": 57997795, "link": "https://stackoverflow.com/questions/57997795/does-any-extra-configuration-need-to-be-done-for-iactioncontextaccessor-with-asp", "title": "Does any extra configuration need to be done for IActionContextAccessor with ASP.NET Core 3.0?", "body": "<p>So, I am trying to migrate my ASP.NET Core project to 3.0, and am having some breaking changes. I am trying to use OpenID Connect with AWS Cognito to authenticate users to the web application. Worked fine in my 2.2 project, but no longer works with 3.0 (preview 9).  </p>\n\n<p>This is the error I receive: </p>\n\n<pre><code>An unhandled exception has occurred while executing the request.\nSystem.ArgumentNullException: context (Parameter 'Value cannot be null or empty.')\n   at Microsoft.AspNetCore.Mvc.Routing.UrlHelperFactory.GetUrlHelper(ActionContext context)\n</code></pre>\n\n<p>It seems as though my <code>IActionContextAccessor</code> is now <code>null</code> when trying set this up. </p>\n\n<p><code>IActionContextAccessor</code> is injected in an <code>AuthenticationBuilder</code> function. </p>\n\n<p>I am not sure what might be the issue. </p>\n\n<p>In my startup.cs in the Configure function I have the following:</p>\n\n<pre><code>public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n        {\n            app.UsePathBase(\"/\");\n\n            if (env.IsDevelopment())\n            {\n                app.UseDeveloperExceptionPage();\n            }\n            else\n            {\n                app.UseExceptionHandler(\"/error/500/\");\n            }\n\n            app.UseStatusCodePagesWithRedirects(\"/error/{0}/\");\n            app.UseAuthentication();\n\n            if (env.IsProduction())\n            {\n                app.Use((context, next) =&gt;\n                {\n                    // https://github.com/aspnet/Security/issues/757\n                    context.Request.Scheme = \"https\";\n                    return next();\n                });\n            }\n\n            app.UseStaticFiles();\n\n            app.UseRouting();\n\n            //app.UseAuthentication();\n            app.UseAuthorization();\n\n            app.UseEndpoints(endpoints =&gt;\n            {\n                endpoints.MapControllerRoute(\n                    name: \"default\",\n                    pattern: \"{controller=Endpoints}/{action=Index}/{id?}\");\n                endpoints.MapRazorPages();\n            });\n        }\n</code></pre>\n\n<p>I have also included this in my <code>.csproj</code>: \n<code>&lt;PackageReference Include=\"Microsoft.AspNetCore.Authentication.OpenIdConnect\" Version=\"3.0.0-preview9.19424.4\" /&gt;</code>\nIs there some weird thing I'm now missing?</p>\n"}, {"tags": ["c#", "xamarin", "mono", "gtk#"], "comments": [{"owner": {"reputation": 58863, "user_id": 1875256, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/no10d.jpg?s=128&g=1", "display_name": "Ehsan Sajjad", "link": "https://stackoverflow.com/users/1875256/ehsan-sajjad"}, "edited": false, "score": 0, "creation_date": 1568826617, "post_id": 57997705, "comment_id": 102401739, "body": "check the output window there must be some other error also appearing there"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1568826654, "post_id": 57997705, "comment_id": 102401760, "body": "delete and re-install your GTK packages, delete your bin/obj folders, restart VS, rebuild"}, {"owner": {"reputation": 4595, "user_id": 1159763, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0622d669c6102714da374348a24df617?s=128&d=identicon&r=PG", "display_name": "ekolis", "link": "https://stackoverflow.com/users/1159763/ekolis"}, "edited": false, "score": 0, "creation_date": 1568827070, "post_id": 57997705, "comment_id": 102401916, "body": "Deleting bin and job and restarting Visual Studio didn&#39;t help. I see some warnings above the error that I&#39;ll past into my OP."}, {"owner": {"reputation": 1802, "user_id": 7034621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZCc06.jpg?s=128&g=1", "display_name": "orhtej2", "link": "https://stackoverflow.com/users/7034621/orhtej2"}, "edited": false, "score": 0, "creation_date": 1568840133, "post_id": 57997705, "comment_id": 102407003, "body": "<a href=\"https://github.com/xamarin/Xamarin.Forms/blob/master/Xamarin.Forms.Platform.GTK/Xamarin.Forms.Platform.GTK.csproj\" rel=\"nofollow noreferrer\">Xamarin.Forms.Platform.GTK is built to target .Net 4.7</a> despite <a href=\"https://github.com/xamarin/Xamarin.Forms/blob/master/.nuspec/Xamarin.Forms.Platform.GTK.nuspec\" rel=\"nofollow noreferrer\">its nuspec claiming otherwise</a>."}, {"owner": {"reputation": 1802, "user_id": 7034621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZCc06.jpg?s=128&g=1", "display_name": "orhtej2", "link": "https://stackoverflow.com/users/7034621/orhtej2"}, "edited": false, "score": 1, "creation_date": 1568840198, "post_id": 57997705, "comment_id": 102407024, "body": "However, why do you claim mono does not support .Net 4.7? It says it&#39;s compatible on its <a href=\"https://www.mono-project.com/docs/about-mono/compatibility/\" rel=\"nofollow noreferrer\">compatibility page</a>."}, {"owner": {"reputation": 4595, "user_id": 1159763, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0622d669c6102714da374348a24df617?s=128&d=identicon&r=PG", "display_name": "ekolis", "link": "https://stackoverflow.com/users/1159763/ekolis"}, "edited": false, "score": 0, "creation_date": 1568901549, "post_id": 57997705, "comment_id": 102429619, "body": "I got a <code>FileNotFoundException</code> for some system DLL or other when I try to run my app using .NET 4.7.2. Was going to post that error here instead of the error I&#39;m getting now, but I Googled it and people were saying that Mono doesn&#39;t support .NET 4.7.2. Of course, that could be old information... let me go find that error and share it here!"}, {"owner": {"reputation": 2099, "user_id": 6218092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kSB0h.png?s=128&g=1", "display_name": "muszeo", "link": "https://stackoverflow.com/users/6218092/muszeo"}, "edited": false, "score": 0, "creation_date": 1570510928, "post_id": 57997705, "comment_id": 102926523, "body": "update your mono version, it should support 4.7.2"}, {"owner": {"reputation": 2099, "user_id": 6218092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kSB0h.png?s=128&g=1", "display_name": "muszeo", "link": "https://stackoverflow.com/users/6218092/muszeo"}, "edited": false, "score": 0, "creation_date": 1570511066, "post_id": 57997705, "comment_id": 102926550, "body": "I expect Xamarin forms is leveraging the GTK libraries underneath, I wonder if installing the latest GTK# would do the trick?"}], "owner": {"reputation": 4595, "user_id": 1159763, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0622d669c6102714da374348a24df617?s=128&d=identicon&r=PG", "display_name": "ekolis", "link": "https://stackoverflow.com/users/1159763/ekolis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 232, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569261066, "creation_date": 1568826357, "last_edit_date": 1569261066, "question_id": 57997705, "link": "https://stackoverflow.com/questions/57997705/error-cs0234-after-changing-the-net-framework-version-of-my-xamarin-gtk-app", "title": "Error CS0234 after changing the .NET framework version of my Xamarin GTK# app", "body": "<p>Full error message:</p>\n\n<blockquote>\n  <p>error CS0234: The type or namespace name 'GTK' does not exist in the namespace 'Xamarin.Forms.Platform' (are you missing an assembly reference?)</p>\n</blockquote>\n\n<p>This occurs in Program.cs on this line:</p>\n\n<pre><code>using Xamarin.Forms.Platform.GTK;\n</code></pre>\n\n<p>The reason I had to change the .NET framework version is because I was trying to run the app on Linux, and Mono for Linux doesn't seem to support .NET Framework v4.7.2, so I changed it to 4.6.1 (the minimum required for Xamarin).</p>\n\n<p>The weird thing is, if I open the file in question, Visual Studio says there are no errors, but the error still pops up in the output window when I actually try to build the project...</p>\n\n<p>edit: there are some warnings above the error in the output window, here is the first one:</p>\n\n<blockquote>\n  <p>1>C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\MSBuild\\Current\\Bin\\Microsoft.Common.CurrentVersion.targets(2106,5): warning MSB3274: The primary reference \"Xamarin.Forms.Platform.GTK, Version=2.0.0.0, Culture=neutral, processorArchitecture=MSIL\" could not be resolved because it was built against the \".NETFramework,Version=v4.7\" framework. This is a higher version than the currently targeted framework \".NETFramework,Version=v4.6.1\".</p>\n</blockquote>\n\n<p>This looks like I need to update my nuget packages, so I reinstalled the two Xamarin packages (Xamarin.Forms and Xamarin.Forms.Platform.GTK), and... same warning! Why can't nuget get the version of the package that is compatible with the version of .NET that I'm using?</p>\n\n<p>edit: the reason I tried to change the .NET framework version is because I get this error running the Xamarin app on Linux:</p>\n\n<blockquote>\n  <p>Unhandled Exception:\n  System.IO.FileNotFoundException: Could not load file or assembly 'System.Runtime, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a' or one of its dependencies.\n  File name: 'System.Runtime, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a'\n  [ERROR] FATAL UNHANDLED EXCEPTION: System.IO.FileNotFoundException: Could not load file or assembly 'System.Runtime, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a' or one of its dependencies.\n  File name: 'System.Runtime, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a'</p>\n</blockquote>\n"}, {"tags": ["c#", "mongodb", "docker", ".net-core", "docker-compose"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 3162626, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5d6daf5870ae07e1dd6c13f02de56ea8?s=128&d=identicon&r=PG&f=1", "display_name": "user3162626", "link": "https://stackoverflow.com/users/3162626/user3162626"}, "edited": false, "score": 0, "creation_date": 1568837045, "post_id": 57997875, "comment_id": 102405882, "body": "hm I changed app settings.json but problem still exist.    &quot;ConnectionString&quot;: &quot;mongodb://mongo:27017&quot;,"}, {"owner": {"reputation": 561, "user_id": 1718290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/226cffc60246fd2830aab6d26882e009?s=128&d=identicon&r=PG", "display_name": "Bouzid Zitouni", "link": "https://stackoverflow.com/users/1718290/bouzid-zitouni"}, "reply_to_user": {"reputation": 33, "user_id": 3162626, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5d6daf5870ae07e1dd6c13f02de56ea8?s=128&d=identicon&r=PG&f=1", "display_name": "user3162626", "link": "https://stackoverflow.com/users/3162626/user3162626"}, "edited": false, "score": 0, "creation_date": 1569242034, "post_id": 57997875, "comment_id": 102521476, "body": "Is it still showing the same error? please share the new error that you&#39;re getting"}], "tags": [], "owner": {"reputation": 561, "user_id": 1718290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/226cffc60246fd2830aab6d26882e009?s=128&d=identicon&r=PG", "display_name": "Bouzid Zitouni", "link": "https://stackoverflow.com/users/1718290/bouzid-zitouni"}, "is_accepted": false, "score": 0, "last_activity_date": 1568827065, "creation_date": 1568827065, "answer_id": 57997875, "question_id": 57997583, "link": "https://stackoverflow.com/questions/57997583/webapi-doest-not-see-mongodb-in-docker-compose/57997875#57997875", "title": "Webapi doest not see MongoDB in docker-compose", "body": "<p>The problem is that you're referring to <code>localhost</code> in your webapi config. Please replace that with the docker hostname of t he mongoDB, in this case <code>mongo:27017</code></p>\n"}, {"tags": [], "owner": {"reputation": 58, "user_id": 4237531, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Bj612Rfacg0/AAAAAAAAAAI/AAAAAAAAA6g/mo6UUl4dwk8/photo.jpg?sz=128", "display_name": "Glagnar", "link": "https://stackoverflow.com/users/4237531/glagnar"}, "is_accepted": false, "score": 0, "last_activity_date": 1568828002, "creation_date": 1568828002, "answer_id": 57998071, "question_id": 57997583, "link": "https://stackoverflow.com/questions/57997583/webapi-doest-not-see-mongodb-in-docker-compose/57998071#57998071", "title": "Webapi doest not see MongoDB in docker-compose", "body": "<p>The problem seems not to be with your docker-compose file, but with the code that you have written in the webapi service. \nThe log that you have published shows an exception regarding the 'localhost:27017' endpoint, and the webapi should not look to localhost for the MongoDB. Instead try to use the environment variable that you set:</p>\n\n<pre><code>    environment:\n      MongoDB__Host: mongo\n</code></pre>\n\n<p>This means that the webapi should look to <code>mongo:27017</code> instead of <code>localhost:27017</code>. But don't hardcode mongo:27017, but instead read from the environment. The reason is that each service you have defined gets it own IP and hostname on the bridge network. In fact there is no reason for you to expose the 27017 port in your docker-compose file, as the communication will flow directly on the bridge network between services. </p>\n"}], "owner": {"reputation": 33, "user_id": 3162626, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5d6daf5870ae07e1dd6c13f02de56ea8?s=128&d=identicon&r=PG&f=1", "display_name": "user3162626", "link": "https://stackoverflow.com/users/3162626/user3162626"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 422, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568828002, "creation_date": 1568825833, "question_id": 57997583, "link": "https://stackoverflow.com/questions/57997583/webapi-doest-not-see-mongodb-in-docker-compose", "title": "Webapi doest not see MongoDB in docker-compose", "body": "<p>Im running docker-compose file which contains my WebApi and MongoDB\nI already created following docker-compose file but when im running it I am not able to perform any request.</p>\n\n<p>This is my docker compose file:</p>\n\n<pre><code>version: '3.1'\nservices:\nmongo:\n    image: mongo\n    restart: always\n    environment:\n      MONGODB_USER: \"admin\"\n      MONGODB_DATABASE: \"BooksDB\"\n      MONGODB_PASS: \"pass\"\n    ports:\n      - 27017:27017\nmongo-express:\n    image: mongo-express\n    restart: always\n    ports:\n      - 8081:8081\n    depends_on:\n      - mongo\nwebapi:\n    build: .\n    restart: always\n    ports:\n      - 5000:80\n    environment:\n      MongoDB__Host: mongo\n    depends_on:\n    - mongo\n</code></pre>\n\n<p>im receiving following error in docker container log:</p>\n\n<pre><code>fail: Microsoft.AspNetCore.Server.Kestrel[13]\n  Connection id \"0HLPSARCVM003\", Request id \"0HLPSARCVM003:00000001\": An unhandled exception was thrown by the  application.\nSystem.TimeoutException: A timeout occured after 30000ms selecting a   server using CompositeServerSelector{ Selectors =   MongoDB.Driver.MongoClient+AreSessionsSupportedServerSelector,   LatencyLimitingServerSelector{ AllowedLatencyRange = 00:00:00.0150000 }   }. Client view of cluster state is { ClusterId : \"1\", ConnectionMode :   \"Automatic\", Type : \"Unknown\", State : \"Disconnected\", Servers : [{   ServerId: \"{ ClusterId : 1, EndPoint : \"Unspecified/localhost:27017\" }\",     EndPoint: \"Unspecified/localhost:27017\", State: \"Disconnected\", Type:       \"Unknown\", HeartbeatException: \"MongoDB.Driver.MongoConnectionException:        An exception occurred while opening a connection to the server. ---&gt;      System.Net.Sockets.SocketException: Cannot assign requested address\n     at System.Net.Sockets.Socket.BeginConnectEx(EndPoint remoteEP,      Boolean flowContext, AsyncCallback callback, Object state)\n     at System.Net.Sockets.Socket.UnsafeBeginConnect(EndPoint    remoteEP, AsyncCallback callback, Object state, Boolean flowContext)\n     at System.Net.Sockets.Socket.BeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state)\n</code></pre>\n\n<p>at System.Net.Sockets.Socket.ConnectAsync(EndPoint remoteEP)\n   at MongoDB.Driver.Core.Connections.TcpStreamFactory.ConnectAsync(Socket socket, EndPoint endPoint, CancellationToken cancellationToken)\n   at MongoDB.Driver.Core.Connections.TcpStreamFactory.CreateStreamAsync(EndPoint endPoint, CancellationToken cancellationToken)\n   at MongoDB.Driver.Core.Connections.BinaryConnection.OpenHelperAsync(CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---</p>\n\n<p>do you know what im supposed to change in those docker-compose file ?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1568825906, "post_id": 57997536, "comment_id": 102401480, "body": "The <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.reflection.assembly.location?view=netframework-4.8\" rel=\"nofollow noreferrer\">documentation doesn&#39;t describe</a> it as returning null, although there is a situation where it can return an empty string. You could check the reference source if you wanted to be sure. Anyways, the exception message is wrong. The message should be &quot;Executing assembly location is null&quot;. If the executing assembly were null (not sure if that could happen) you would get a NullReferenceException in your if statement."}, {"owner": {"reputation": 243, "user_id": 11999903, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mArlBAHKa2sBcWE0ukXWnzf08owZejLx_C15-Ozhw=k-s128", "display_name": "Pedro Brito", "link": "https://stackoverflow.com/users/11999903/pedro-brito"}, "edited": false, "score": 0, "creation_date": 1568826117, "post_id": 57997536, "comment_id": 102401542, "body": "maybe when the assembly is not referenced the location is null, so this code probably is to make sure the assembly is referenced because probably is used by other assemblies."}], "answers": [{"comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1568835366, "post_id": 57998486, "comment_id": 102405228, "body": "RuntimeAssembly is only one of the concrete implementations of the Assembly base class.  AssemblyBuilder is another one, for example, it doesn&#39;t have a Location.  Anything is possible in a custom hosting scenario."}, {"owner": {"reputation": 836, "user_id": 2907343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fd4ace93a8683b4f48cc7423a09d38?s=128&d=identicon&r=PG", "display_name": "Nicklaus Brain", "link": "https://stackoverflow.com/users/2907343/nicklaus-brain"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1568835902, "post_id": 57998486, "comment_id": 102405441, "body": "Assembly.GetExecutingAssembly() always returns RuntimeAssembly: <a href=\"https://github.com/dotnet/coreclr/blob/master/src/System.Private.CoreLib/src/System/Reflection/Assembly.CoreCLR.cs\" rel=\"nofollow noreferrer\">github.com/dotnet/coreclr/blob/master/src/&hellip;</a>"}], "tags": [], "owner": {"reputation": 836, "user_id": 2907343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fd4ace93a8683b4f48cc7423a09d38?s=128&d=identicon&r=PG", "display_name": "Nicklaus Brain", "link": "https://stackoverflow.com/users/2907343/nicklaus-brain"}, "is_accepted": true, "score": 2, "last_activity_date": 1568829810, "last_edit_date": 1592644375, "creation_date": 1568829810, "answer_id": 57998486, "question_id": 57997536, "link": "https://stackoverflow.com/questions/57997536/can-be-assembly-location-equal-null/57998486#57998486", "title": "Can be assembly.Location equal null?", "body": "<ol>\n<li>Documentation clearly states that Location <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.reflection.assembly.location\" rel=\"nofollow noreferrer\">might return an empty string</a> (&quot;&quot;)</li>\n<li>Looking into source code you might might be interested in the following files:</li>\n</ol>\n<p>a) <a href=\"https://github.com/dotnet/coreclr/blob/master/src/System.Private.CoreLib/src/System/Reflection/RuntimeAssembly.cs\" rel=\"nofollow noreferrer\">RuntimeAssembly.cs</a></p>\n<pre><code>[DllImport(JitHelpers.QCall, CharSet = CharSet.Unicode)]\nprivate static extern void GetLocation(QCallAssembly assembly, StringHandleOnStack retString);\n</code></pre>\n<p>b) <a href=\"https://github.com/dotnet/coreclr/blob/master/src/vm/assemblynative.cpp\" rel=\"nofollow noreferrer\">assemblynative.cpp</a></p>\n<pre><code>void QCALLTYPE AssemblyNative::GetLocation(QCall::AssemblyHandle pAssembly, \nQCall::StringHandleOnStack retString)\n{\n    QCALL_CONTRACT;\n    BEGIN_QCALL;\n    {\n        retString.Set(pAssembly-&gt;GetFile()-&gt;GetPath());\n    }\n    END_QCALL;\n }\n</code></pre>\n<p>c) The last question is were can we find GetPath() implementation. Methinks it is here:\n<a href=\"https://github.com/dotnet/coreclr/blob/master/src/vm/peimagelayout.inl\" rel=\"nofollow noreferrer\">peimagelayout.inl</a>:</p>\n<pre><code>inline const SString &amp;PEImageLayout::GetPath()\n{\n    LIMITED_METHOD_CONTRACT;\n    return m_pOwner?m_pOwner-&gt;GetPath():SString::Empty();\n}\n</code></pre>\n<p>And it seems like it <strong>does not return nulls</strong> but empty strings.\nI am not at all strong in C++ so it would be nice if somebody confirm my assumption.</p>\n"}], "owner": {"reputation": 10045, "user_id": 1306132, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kVX7T.png?s=128&g=1", "display_name": "Andrey Bushman", "link": "https://stackoverflow.com/users/1306132/andrey-bushman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 57998486, "answer_count": 1, "score": 1, "last_activity_date": 1568829810, "creation_date": 1568825664, "question_id": 57997536, "link": "https://stackoverflow.com/questions/57997536/can-be-assembly-location-equal-null", "title": "Can be assembly.Location equal null?", "body": "<p>I find this code <a href=\"https://github.com/MscrmTools/XrmToolBox/blob/3023da8b168ceef1c00e98c68910c54ee390fbae/XrmToolBox/Program.cs#L147\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>var assembly = Assembly.GetExecutingAssembly();\nif (assembly.Location == null)\n{\n  throw new NullReferenceException(\"Executing assembly is null!\"); // Is it possible???\n}\n</code></pre>\n\n<p>Can be <code>assembly.Location</code> equal null?</p>\n"}, {"tags": ["c#", "visual-studio"], "comments": [{"owner": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 0, "creation_date": 1568825660, "post_id": 57997484, "comment_id": 102401388, "body": "<code>tlbinf32.dll</code> is a COM dll that should be registered, and it most likely already is. You add reference to COM dlls from the <a href=\"https://docs.microsoft.com/en-us/visualstudio/ide/how-to-add-or-remove-references-by-using-the-reference-manager?view=vs-2019#com-tab\" rel=\"nofollow noreferrer\">COM tab</a>"}, {"owner": {"reputation": 10104, "user_id": 111794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c209be384649abcc5a4bf8babb132572?s=128&d=identicon&r=PG", "display_name": "Zev Spitz", "link": "https://stackoverflow.com/users/111794/zev-spitz"}, "reply_to_user": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 1, "creation_date": 1568826216, "post_id": 57997484, "comment_id": 102401586, "body": "@GSerg It doesn&#39;t appear to be registered."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1568826887, "post_id": 57997484, "comment_id": 102401851, "body": "The IDE tries to maximize the odds that you can debug your program.  Which requires the component to be registered.  Since it is not, it tries to do it for you.  Kabloom when VS doesn&#39;t run elevated.  If you don&#39;t want to debug your program then run Tlbimp.exe instead to generate the interop library.  Okay on a build server.  You can check-in that library, the component is never going to change again."}, {"owner": {"reputation": 10104, "user_id": 111794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c209be384649abcc5a4bf8babb132572?s=128&d=identicon&r=PG", "display_name": "Zev Spitz", "link": "https://stackoverflow.com/users/111794/zev-spitz"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1568830535, "post_id": 57997484, "comment_id": 102403257, "body": "@HansPassant Running VS as administrator doesn&#39;t help."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1568830927, "post_id": 57997484, "comment_id": 102403417, "body": "Well, that was not my advice.  Get a good answer by explaining why you want to do this."}, {"owner": {"reputation": 10104, "user_id": 111794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c209be384649abcc5a4bf8babb132572?s=128&d=identicon&r=PG", "display_name": "Zev Spitz", "link": "https://stackoverflow.com/users/111794/zev-spitz"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1568832406, "post_id": 57997484, "comment_id": 102404018, "body": "@HansPassant <i>Kabloom when VS doesn&#39;t run elevated.</i> seems to imply that running VS elevated should work around the problem. Unless VS executes <code>regsvr32</code> under different permissions?"}, {"owner": {"reputation": 10104, "user_id": 111794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c209be384649abcc5a4bf8babb132572?s=128&d=identicon&r=PG", "display_name": "Zev Spitz", "link": "https://stackoverflow.com/users/111794/zev-spitz"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1568832516, "post_id": 57997484, "comment_id": 102404053, "body": "@HansPassant <i>Get a good answer by explaining why you want to do this.</i> I&#39;m trying to reopen an old project of mine. I was under the impression that it isn&#39;t necessary to register a COM component to use it from a .NET Framework project, and I seem to recall it &quot;just working&quot; in the past."}, {"owner": {"reputation": 2393, "user_id": 3116731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fqjdb.jpg?s=128&g=1", "display_name": "Se&#241;or CMasMas", "link": "https://stackoverflow.com/users/3116731/se%c3%b1or-cmasmas"}, "edited": false, "score": 0, "creation_date": 1568836367, "post_id": 57997484, "comment_id": 102405617, "body": "Perhaps I am being thick here.. have you tried registering the com dll the good old fashion way with regsvr32 just to see what happens? As an administrator: regsvr32 [path_to_dll]  ??  Again.. I might not be thinking this through.. :P"}, {"owner": {"reputation": 10104, "user_id": 111794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c209be384649abcc5a4bf8babb132572?s=128&d=identicon&r=PG", "display_name": "Zev Spitz", "link": "https://stackoverflow.com/users/111794/zev-spitz"}, "reply_to_user": {"reputation": 2393, "user_id": 3116731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fqjdb.jpg?s=128&g=1", "display_name": "Se&#241;or CMasMas", "link": "https://stackoverflow.com/users/3116731/se%c3%b1or-cmasmas"}, "edited": false, "score": 0, "creation_date": 1568836468, "post_id": 57997484, "comment_id": 102405659, "body": "@Se&#241;orCMasMas I was trying to avoid doing that, because this is only a one-time use of this project (and I know I can unregister once I&#39;m finished). But that is what I did in the end."}], "owner": {"reputation": 10104, "user_id": 111794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c209be384649abcc5a4bf8babb132572?s=128&d=identicon&r=PG", "display_name": "Zev Spitz", "link": "https://stackoverflow.com/users/111794/zev-spitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 370, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568830518, "creation_date": 1568825444, "last_edit_date": 1568830518, "question_id": 57997484, "link": "https://stackoverflow.com/questions/57997484/trying-to-add-unregistered-com-component", "title": "Trying to add unregistered COM component", "body": "<p>I am trying to add a reference to a non-.NET DLL to my project, but I get the following error:</p>\n\n<blockquote>\n  <p>A reference to 'C:\\path\\to\\dll\\tlbinf32.dll' could not be added. Could not register the ActiveX type library 'C:\\path\\to\\dll\\tlbinf32.dll\\1'. This is not a .NET assembly.</p>\n</blockquote>\n\n<p>This DLL is not registered on my machine, but AFAIK I shouldn't need to register it.</p>\n\n<p>I'm getting the same error from both VS 2019 and VS 2017.</p>\n\n<p>I can add a reference to this DLL in the VBA IDE, not from the list of registered type libraries, but using the <strong>Browse...</strong> button.</p>\n\n<p>How can I resolve this?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I tried to run Visual Studio as an administrator; I'm getting the same error.</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 2, "creation_date": 1568825472, "post_id": 57997405, "comment_id": 102401323, "body": "<code>List&lt;string[]&gt;.ToArray()</code> results in a <code>string[][]</code>, not a <code>string[,]</code>. Are you sure you declared your variable type properly?"}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 1, "creation_date": 1568827408, "post_id": 57997405, "comment_id": 102402037, "body": "There are two kinds of arrays in C# - n-Dimensional (e.g. 2D in your case) where the space allocated for each dimension is fixed, and jagged, which is an array of arrays, and where each row can contain a variable number of columns. You&#39;re mixing the two here."}], "answers": [{"comments": [{"owner": {"reputation": 114, "user_id": 9313796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I2Vtr.png?s=128&g=1", "display_name": "Wyeknott", "link": "https://stackoverflow.com/users/9313796/wyeknott"}, "edited": false, "score": 1, "creation_date": 1568896090, "post_id": 57998539, "comment_id": 102426161, "body": "Thanks. I didn&#39;t know this data type existed. I will read up more on it as I think it will be useful for future projects"}, {"owner": {"reputation": 350, "user_id": 11697802, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PIeSeEpG05s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9pMPA1FYPN99XArKBn9M-8pY5eA/photo.jpg?sz=128", "display_name": "ShaneDemskie", "link": "https://stackoverflow.com/users/11697802/shanedemskie"}, "reply_to_user": {"reputation": 114, "user_id": 9313796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I2Vtr.png?s=128&g=1", "display_name": "Wyeknott", "link": "https://stackoverflow.com/users/9313796/wyeknott"}, "edited": false, "score": 1, "creation_date": 1568896556, "post_id": 57998539, "comment_id": 102426428, "body": "Awesome, glad I could help!"}], "tags": [], "owner": {"reputation": 350, "user_id": 11697802, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PIeSeEpG05s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9pMPA1FYPN99XArKBn9M-8pY5eA/photo.jpg?sz=128", "display_name": "ShaneDemskie", "link": "https://stackoverflow.com/users/11697802/shanedemskie"}, "is_accepted": false, "score": 3, "last_activity_date": 1568830386, "last_edit_date": 1568830386, "creation_date": 1568830022, "answer_id": 57998539, "question_id": 57997405, "link": "https://stackoverflow.com/questions/57997405/reading-csv-of-unknown-number-of-rows-columns-into-unity-array/57998539#57998539", "title": "Reading CSV of unknown number of rows/columns into Unity array", "body": "<p>Since your data is in the form of a table, I highly suggest using a <a href=\"https://www.dotnetperls.com/dataset\" rel=\"nofollow noreferrer\">DataTable</a> instead of a 2d array like you're currently using to model/hold the data from your csv. </p>\n\n<p>There's a ton of pre baked functionality that comes with this data structure that will make working with your data much easier. </p>\n\n<p>If you take this route, you could then also use <a href=\"http://www.codeproject.com/KB/database/GenericParser.aspx\" rel=\"nofollow noreferrer\">this</a> which will copy CSV data into a DataTable using the structure of your CSV data to create the DataTable.</p>\n\n<p>It's very easy to configure and use.</p>\n\n<p>Just a small tip, you should always try to use data structures that best fit your task, whenever possible. Think of the data structures and algorithms you use as tools used to build a house, while you could certainly use a screw driver to pound in a nail, it's much easier and more efficient to use a hammer.  </p>\n"}, {"comments": [{"owner": {"reputation": 114, "user_id": 9313796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I2Vtr.png?s=128&g=1", "display_name": "Wyeknott", "link": "https://stackoverflow.com/users/9313796/wyeknott"}, "edited": false, "score": 1, "creation_date": 1568898205, "post_id": 58000263, "comment_id": 102427469, "body": "I accepted this one as it basically fixes my code.  However, the other answer about datatables is really useful as well"}], "tags": [], "owner": {"reputation": 180, "user_id": 2029760, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/52a2ace2b53fb4ecb3b152efbbc2ff24?s=128&d=identicon&r=PG", "display_name": "sanmeet", "link": "https://stackoverflow.com/users/2029760/sanmeet"}, "is_accepted": true, "score": 2, "last_activity_date": 1568838239, "creation_date": 1568838239, "answer_id": 58000263, "question_id": 57997405, "link": "https://stackoverflow.com/questions/57997405/reading-csv-of-unknown-number-of-rows-columns-into-unity-array/58000263#58000263", "title": "Reading CSV of unknown number of rows/columns into Unity array", "body": "<p>You can use this function to get 2d array.</p>\n\n<pre><code>static public string[,] SplitCsvGrid(string csvText)\n{\n    string[] lines = csvText.Split(\"\\n\"[0]);\n\n    // finds the max width of row\n    int width = 0;\n    for (int i = 0; i &lt; lines.Length; i++)\n    {\n        string[] row = SplitCsvLine(lines[i]);\n        width = Mathf.Max(width, row.Length);\n    }\n\n    // creates new 2D string grid to output to\n    string[,] outputGrid = new string[width + 1, lines.Length + 1];\n    for (int y = 0; y &lt; lines.Length; y++)\n    {\n        string[] row = SplitCsvLine(lines[y]);\n        for (int x = 0; x &lt; row.Length; x++)\n        {\n            outputGrid[x, y] = row[x];\n\n            // This line was to replace \"\" with \" in my output. \n            // Include or edit it as you wish.\n            outputGrid[x, y] = outputGrid[x, y].Replace(\"\\\"\\\"\", \"\\\"\");\n        }\n    }\n\n    return outputGrid;\n}\n</code></pre>\n"}], "owner": {"reputation": 114, "user_id": 9313796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I2Vtr.png?s=128&g=1", "display_name": "Wyeknott", "link": "https://stackoverflow.com/users/9313796/wyeknott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "accepted_answer_id": 58000263, "answer_count": 2, "score": 1, "last_activity_date": 1568838239, "creation_date": 1568825109, "question_id": 57997405, "link": "https://stackoverflow.com/questions/57997405/reading-csv-of-unknown-number-of-rows-columns-into-unity-array", "title": "Reading CSV of unknown number of rows/columns into Unity array", "body": "<p>I want a 2D array generated from a CSV file with unknown number of rows/columns. The column count is fixed based on the header data. I need to be able to process it as a grid going both across rows and down columns hence needing array.</p>\n\n<p>At the moment, I can split the data into rows, then split each row into components. I then add each row to a list. This all seems to work fine. </p>\n\n<p>What I cant do is convert a list of string arrays into a 2d array.</p>\n\n<p>It currently is failing on the line string[,] newCSV = csvFile.ToArray(); with error Cannot implicitly convert type 'string[][]' to 'string[ * , * ]' so I'm obviously not declaring something properly - I've just no idea what!</p>\n\n<pre><code>List&lt;string[]&gt; csvFile = new List&lt;string[]&gt;();\n\nvoid Start()\n{\n    // TODO: file picker\n    TextAsset sourceData = Resources.Load&lt;TextAsset&gt;(\"CSVData\");\n    if (sourceData != null)\n    { \n        // Each piece of data in a CSV has a newline at the end\n        // Split the base data into an array each time the newline char is found\n        string[] data = sourceData.text.Split(new char[] {'\\n'} );\n\n        for (int i = 0; i &lt; data.Length; i ++)\n        {\n            string[] row = data[i].Split(new char[] {','} );\n            Debug.Log(row[0] + \" \" + row[1]);\n            csvFile.Add(row);\n        }\n\n        string[,] newCSV = csvFile.ToArray();\n\n    } else {    \n        Debug.Log(\"Can't open source file\");\n    }\n</code></pre>\n"}, {"tags": ["c#", "linq", "dynamic"], "comments": [{"owner": {"reputation": 571, "user_id": 4078857, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wL1to.jpg?s=128&g=1", "display_name": "Rashid Ali", "link": "https://stackoverflow.com/users/4078857/rashid-ali"}, "edited": false, "score": 0, "creation_date": 1568824904, "post_id": 57997214, "comment_id": 102401079, "body": "You can get a field using reflection <code>System.Reflection.FieldInfo</code>, but how could you create variables in a <code>foreach</code> loop?"}, {"owner": {"reputation": 890, "user_id": 2130112, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VtyTf.jpg?s=128&g=1", "display_name": "KirstieBallance", "link": "https://stackoverflow.com/users/2130112/kirstieballance"}, "edited": false, "score": 0, "creation_date": 1568825054, "post_id": 57997214, "comment_id": 102401138, "body": "Local, designed to be passed as parameter values to some stored procedure.  I&#39;m from a DBA background, and starting to work with code that is literally 100&#39;s of lines of these types of variable assignments - specifically var nameofthing = this.nameofthing.FirstOrDefault(). Because of this concrete pattern, it seems like there has to be a better way to do this programatically (I may be wrong tho!)"}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1568825795, "post_id": 57997214, "comment_id": 102401446, "body": "&quot;Better&quot; is subjective. MickelsonMichael mentions reflection and yes, you can do that, but as I like to say, &quot;reflection is mad science.&quot; You&#39;re no longer programming to the goal; you&#39;re programming to programming to the goal [sic]. In other words, it&#39;s meta-programming. The intent of your code can get lost and that reduces maintainability. Frankly, trying to simplify this pattern probably isn&#39;t the best use of your energy."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1568829066, "post_id": 57997214, "comment_id": 102402665, "body": "This seems like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>. Perhaps with more information you would get more helpful answers. For example, what are the types of <code>GeneralSolution</code> or <code>PieceModel</code>? Think about how you would expect to write code to use the variables when you don&#39;t know their names or even that they exist?"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1568829632, "post_id": 57997214, "comment_id": 102402880, "body": "You seem to have inherited code from a maniac or possibly even a contractor, but if the code works reliably, you may be well-advised to leave it as it is. The alternative would be fully refactoring it, rather than just cleaning up the odd idiom while leaving the essential horror in full bloom. If you&#39;ll be expected to add substantial chunks of functionality going forward, I would almost certainly write very different code than the old guy did. Maybe the refactoring would be a suitable question for <a href=\"https://softwareengineering.stackexchange.com\">s/w engineering</a>. Here, it would be off topic."}], "answers": [{"tags": [], "owner": {"reputation": 820, "user_id": 3338349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8GKo.jpg?s=128&g=1", "display_name": "MickelsonMichael", "link": "https://stackoverflow.com/users/3338349/mickelsonmichael"}, "is_accepted": false, "score": 2, "last_activity_date": 1568825264, "creation_date": 1568825264, "answer_id": 57997448, "question_id": 57997214, "link": "https://stackoverflow.com/questions/57997214/dynamic-linq-firstordefault-statement/57997448#57997448", "title": "Dynamic Linq FirstOrDefault Statement", "body": "<p>Yes, you can do this with reflection, but it will require some work to get it into an easy to work with format and may not be recommended.</p>\n\n<p><a href=\"https://dotnetfiddle.net/7A5ctU\" rel=\"nofollow noreferrer\">See this dotnetfiddle for a quick example I threw together</a></p>\n\n<p>Essentially you can get all the properties of <code>this</code> by using the <code>typeof(this).GetProperties()</code> method. That will return you a list of <code>PropertyInfo</code> objects that you can then iterate through as I did in the fiddle. However, if there are any other properties on <code>this</code> you will also grab those, so you can use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.reflection.bindingflags?view=netframework-4.8\" rel=\"nofollow noreferrer\">BindingFlags</a> within the overload of the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.type.getproperties?view=netframework-4.8#System_Type_GetProperties_System_Reflection_BindingFlags_\" rel=\"nofollow noreferrer\">GetProperties</a> function.</p>\n\n<p>In the end it will probably be best for you to create some sort of container that has properties that you expect and want to iterate through. Or better yet, you may just have to accept that you are going to do a lot of <code>FirstOrDefaults</code>, which is a much safer route to go. Reflection can be tricky and confusing</p>\n\n<p>Feel free to ask any questions and I'll be happy to go into more detail</p>\n"}], "owner": {"reputation": 890, "user_id": 2130112, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VtyTf.jpg?s=128&g=1", "display_name": "KirstieBallance", "link": "https://stackoverflow.com/users/2130112/kirstieballance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568825264, "creation_date": 1568824316, "question_id": 57997214, "link": "https://stackoverflow.com/questions/57997214/dynamic-linq-firstordefault-statement", "title": "Dynamic Linq FirstOrDefault Statement", "body": "<p>Using C# 7+, I am instantiating a variable via a FirstOrDefault() statement. But it's repeated throughout the code for different variables. I'm wondering if/how I can build these statements dynamically.  This is what I currently have (notice that the variable name matches the DataTable name)</p>\n\n<pre><code>var generalSolution = this.GeneralSolution.FirstOrDefault();\nvar pieceModel = this.PieceModel.FirstOrDefault();\n.... many more of these same variable declarations.....\n</code></pre>\n\n<p>What I would like to do is given a list of strings, create each of these variables iteratively.  Something like:</p>\n\n<pre><code>foreach(var item in list)\n{\n    var somename = this.\"item\".FirstOrDefault();\n}\n</code></pre>\n\n<p>Is this even, at all, possible?</p>\n"}, {"tags": ["c#", "regex", "numbers"], "comments": [{"owner": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "edited": false, "score": 1, "creation_date": 1568824460, "post_id": 57997152, "comment_id": 102400914, "body": "<code>IsMatch</code> returns a <code>bool</code> if your <i>string</i> matches your pattern. <code>Match</code> returns an instance of the <code>Match</code> class and has <code>.Success</code> which is a bool doing the same thing as <code>IsMatch</code>. Also, your validation doesn&#39;t need Regex if you use <code>Int32.TryParse</code> instead. Your sample code won&#39;t compile because of the <code>Match</code> line being invalid and the <code>Int32.Parse()</code> will throw an error if the input is not an integer that can be parsed."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1568824705, "post_id": 57997152, "comment_id": 102401015, "body": "usually doing a search for what you want followed by the language you&#39;re using will get you to the documentation. go to google and search for &quot;regex.match c#&quot; and the first link is the doc (same thing with regex.ismatch)."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12086207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2933b22f68d20bd833ecb8355c0508e?s=128&d=identicon&r=PG&f=1", "display_name": "farb", "link": "https://stackoverflow.com/users/12086207/farb"}, "edited": false, "score": 0, "creation_date": 1568824297, "post_id": 57997192, "comment_id": 102400835, "body": "and what is the instance of the Match class?"}, {"owner": {"reputation": 360, "user_id": 9866642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e06c079ae6a6bc17974916a7980e8493?s=128&d=identicon&r=PG&f=1", "display_name": "Jawi", "link": "https://stackoverflow.com/users/9866642/jawi"}, "reply_to_user": {"reputation": 1, "user_id": 12086207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2933b22f68d20bd833ecb8355c0508e?s=128&d=identicon&r=PG&f=1", "display_name": "farb", "link": "https://stackoverflow.com/users/12086207/farb"}, "edited": false, "score": 0, "creation_date": 1568824330, "post_id": 57997192, "comment_id": 102400849, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.text.regularexpressions.match?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}], "tags": [], "owner": {"reputation": 360, "user_id": 9866642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e06c079ae6a6bc17974916a7980e8493?s=128&d=identicon&r=PG&f=1", "display_name": "Jawi", "link": "https://stackoverflow.com/users/9866642/jawi"}, "is_accepted": false, "score": 0, "last_activity_date": 1568824398, "last_edit_date": 1568824398, "creation_date": 1568824225, "answer_id": 57997192, "question_id": 57997152, "link": "https://stackoverflow.com/questions/57997152/checking-an-input-number-with-regular-expression/57997192#57997192", "title": "checking an input number with regular expression", "body": "<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.text.regularexpressions.regex?view=netframework-4.8\" rel=\"nofollow noreferrer\">Here</a> is the Windows Documentation for the <code>Regex</code> Class. <code>IsMatch</code> returns a boolean if the string matches the conditions. <code>Match</code> returns an instance of the <code>RegularExpressions.Match</code> class. In the above example, you should use the <code>IsMatch</code> Method.</p>\n"}], "owner": {"reputation": 1, "user_id": 12086207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2933b22f68d20bd833ecb8355c0508e?s=128&d=identicon&r=PG&f=1", "display_name": "farb", "link": "https://stackoverflow.com/users/12086207/farb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1568824398, "creation_date": 1568824039, "last_edit_date": 1568824209, "question_id": 57997152, "link": "https://stackoverflow.com/questions/57997152/checking-an-input-number-with-regular-expression", "title": "checking an input number with regular expression", "body": "<p>First, I wanna ask what is the difference between Regex.IsMatch and Regex.Match ?\nSecond, if I want to figure it out myself where should I go to? I mean, is there any help in c# to see what type does a method accept as input or how does it work at all?!!\nThird, I wanna check the input to see if it contains only numbers. \nAnd last, is there any website out there to give me regular expressions? It is a big story! I cannot memorize all the patterns and syntax!</p>\n\n<p>Please dont try with Int32.TryParse() ! I wanna do it with Regex.</p>\n\n<p>I tried this lines of code below:</p>\n\n<pre><code>string input = Int32.Parse(ConsoleReadLine().Trim());\npublic bool Validation (int myInt)\n{\n    return Regex.Match(myInt, @\"^[0 - 9] *$\");\n}\n</code></pre>\n"}, {"tags": ["c#", "sql-server"], "comments": [{"owner": {"reputation": 1505, "user_id": 2664729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/585561653cd0c111480149423882c5ab?s=128&d=identicon&r=PG", "display_name": "amcdermott", "link": "https://stackoverflow.com/users/2664729/amcdermott"}, "edited": false, "score": 0, "creation_date": 1568824654, "post_id": 57997060, "comment_id": 102400997, "body": "Could you pull back a datatable linking price groups to vendors and vendor details. Then, when a price group and/or is selected you can extract the relevant rows? If your database is reasonably small, this would limit your database hits."}, {"owner": {"reputation": 2334, "user_id": 7948962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b64557f8a617effccaf4426f16e9035?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob H", "link": "https://stackoverflow.com/users/7948962/jacob-h"}, "edited": false, "score": 0, "creation_date": 1568827380, "post_id": 57997060, "comment_id": 102402023, "body": "Create a variable to store the value of VENDORID and then pass it to your 2nd function/stored procedure. It seems like you do know how to do this already, so maybe you are not asking the right question?"}], "answers": [{"tags": [], "owner": {"reputation": 993, "user_id": 10103607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4490e1a73036fbc05ff6f08289679442?s=128&d=identicon&r=PG", "display_name": "akg179", "link": "https://stackoverflow.com/users/10103607/akg179"}, "is_accepted": true, "score": 1, "last_activity_date": 1568829248, "creation_date": 1568829248, "answer_id": 57998361, "question_id": 57997060, "link": "https://stackoverflow.com/questions/57997060/how-to-plug-info-from-one-stored-procedure-to-another/57998361#57998361", "title": "How to plug info from one stored procedure to another?", "body": "<p>Going by your example code it seems you are on the right track just that you need to invoke the <code>getVendorIDNotes</code> method from within the <code>getVendorIDNotesPONotifications</code> method and pass the <code>vendorID</code> to it. </p>\n\n<p>The dataset returned from <code>getVendorIDNotes</code> is further returned from the calling method i.e. <code>getVendorIDNotesPONotifications</code> and hence the logic in <code>LoadExtraVendorIDNotes</code> should work as expected.</p>\n"}], "owner": {"reputation": 75, "user_id": 11584201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oQtfo.jpg?s=128&g=1", "display_name": "Austin", "link": "https://stackoverflow.com/users/11584201/austin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 57998361, "answer_count": 1, "score": 0, "last_activity_date": 1568829248, "creation_date": 1568823649, "last_edit_date": 1568825648, "question_id": 57997060, "link": "https://stackoverflow.com/questions/57997060/how-to-plug-info-from-one-stored-procedure-to-another", "title": "How to plug info from one stored procedure to another?", "body": "<p>The way this works, a drop down list has Price Groups in it and I need to get that Price Group and plug it into the stored procedure (<code>_getVendorDetails</code>) to get the Vendor ID. Then I need to put the Vendor ID into another stored procedure (<code>DIST_get_POShortagesaAndExtra_VendorIDNotes</code>) to get notes about the Vendor ID.</p>\n\n<pre><code>protected void LoadExtraVendorIDNotes()\n{\n    if (ddlVendorPriceGroup.SelectedValue == \"NA\") \n        return;\n\n    DataSet ds = getVendorIDNotesPONotifications(ddlVendorPriceGroup.SelectedValue);\n\n    if (ds.Tables[0].Rows.Count &gt; 0)\n    {\n        DataTable dt = ds.Tables[0];\n\n        lblShipmentScrutinyLow.Visible = Convert.ToBoolean(dt.Rows[0][\"ShipmentScrutiny\"].ToString());\n        lblContainsKitsLow.Visible = Convert.ToBoolean(dt.Rows[0][\"ContainsKits\"].ToString());\n        lblShippingIssuesLow.Visible = Convert.ToBoolean(dt.Rows[0][\"ShippingIssues\"].ToString());\n        lblMeetingNotesLow.Text = Convert.ToString(dt.Rows[0][\"MeetingNotes\"].ToString());\n        lblMeetingNotesLow.Visible = Convert.ToString(dt.Rows[0][\"MeetingNotes\"].ToString()).Length &gt; 0;\n        lblShipmentNotesLow.Text = Convert.ToString(dt.Rows[0][\"ShippingNotes\"].ToString());\n        lblShipmentNotesLow.Visible = Convert.ToString(dt.Rows[0][\"ShippingNotes\"].ToString()).Length &gt; 0;\n    }\n}\n\nprotected DataSet getVendorIDNotes(string VENDORID)\n{\n    DataSet ds = new DataSet();\n\n    using (SqlConnection objConn = new SqlConnection(ConfigurationManager.AppSettings[\"MeyerConnectionString\"]))\n    {\n        using (SqlDataAdapter dadapter = new SqlDataAdapter())\n        {\n            dadapter.SelectCommand = new SqlCommand(\"DIST_get_POShortagesaAndExtra_VendorIDNotes\", objConn);\n            dadapter.SelectCommand.CommandType = CommandType.StoredProcedure;\n\n            SqlParameter vendorID = new SqlParameter(\"@VENDORID\", VENDORID);\n            dadapter.SelectCommand.Parameters.Add(vendorID);\n\n            dadapter.Fill(ds);\n        }\n    }\n\n    return ds;\n}\n\nprotected DataSet getVendorIDNotesPONotifications(string VENDORID)\n{\n    DataSet ds = new DataSet();\n\n    using (SqlConnection objConn = new SqlConnection(ConfigurationManager.AppSettings[\"MeyerConnectionString\"]))\n    {\n        using (SqlDataAdapter dadapter = new SqlDataAdapter())\n        {\n            dadapter.SelectCommand = new SqlCommand(\"_getVendorDetails\", objConn);\n            dadapter.SelectCommand.CommandType = CommandType.StoredProcedure;\n\n            SqlParameter vendorID = new SqlParameter(\"@pricegroup\", VENDORID);\n            dadapter.SelectCommand.Parameters.Add(vendorID);\n\n            dadapter.Fill(ds);\n        }\n    }\n\n    return ds;\n}\n</code></pre>\n"}, {"tags": ["c#", "jquery", "model-view-controller", "unobtrusive-validation"], "comments": [{"owner": {"reputation": 313, "user_id": 3381067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78fcc950db99fad3438a1f23d95c2d9e?s=128&d=identicon&r=PG&f=1", "display_name": "tmkiernan", "link": "https://stackoverflow.com/users/3381067/tmkiernan"}, "edited": false, "score": 0, "creation_date": 1568823800, "post_id": 57996911, "comment_id": 102400604, "body": "it looks like you are also using the valid jquery plugin, is it definitely passing the valid function and making the ajax request? What does your network inspector show?"}], "answers": [{"comments": [{"owner": {"reputation": 652, "user_id": 11350546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uumd7.jpg?s=128&g=1", "display_name": "Halden Collier", "link": "https://stackoverflow.com/users/11350546/halden-collier"}, "edited": false, "score": 1, "creation_date": 1569511446, "post_id": 57997788, "comment_id": 102628923, "body": "Thanks for the detailed answer, what I ended up doing was by using the reference you provided <a href=\"https://stackoverflow.com/questions/17381043/how-to-dynamically-add-required-attribute-to-textarea-tag-using-jquery/17381051#17381051\">here</a> and just added that <code>property</code> when it needed to be validated."}], "tags": [], "owner": {"reputation": 159, "user_id": 6248239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GP_1FtguPH0/AAAAAAAAAAI/AAAAAAAAAC4/_IejoLbs3gw/photo.jpg?sz=128", "display_name": "Grazina", "link": "https://stackoverflow.com/users/6248239/grazina"}, "is_accepted": true, "score": 1, "last_activity_date": 1568828717, "last_edit_date": 1568828717, "creation_date": 1568826695, "answer_id": 57997788, "question_id": 57996911, "link": "https://stackoverflow.com/questions/57996911/dont-validate-hidden-field-jquery/57997788#57997788", "title": "Don&#39;t validate hidden field (jQuery)", "body": "<p>I have two ideas you could go for in this case:</p>\n\n<ol>\n<li>Implement a custom jQuery validator to validate your textarea depending on the select element's value. </li>\n</ol>\n\n<p>For this approach, check jQuery documentation for <a href=\"https://jqueryvalidation.org/jQuery.validator.addMethod/\" rel=\"nofollow noreferrer\">validator.addMethod</a> and an <a href=\"https://stackoverflow.com/a/241202/6248239\">example here</a></p>\n\n<hr>\n\n<ol start=\"2\">\n<li>Another approach would be to add an onChange function to the select element and make the textarea required depending on the value </li>\n</ol>\n\n<p>For this approach, check <a href=\"https://stackoverflow.com/a/15960642/6248239\">this answer</a> to check how to add the onChange function, and <a href=\"https://stackoverflow.com/a/17381051/6248239\">this answer</a> to check how to set an element as required. </p>\n\n<p><hr></p>\n\n<h3>Update</h3>\n\n<p>Ok, after reading your question a second time, I believe you also want to validate your form on the server side. To do this, you could create a custom validation method and decorate your property with the method, like <a href=\"https://stackoverflow.com/questions/16100300/asp-net-mvc-custom-validation-by-dataannotation\">in this answer</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 993, "user_id": 10103607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4490e1a73036fbc05ff6f08289679442?s=128&d=identicon&r=PG", "display_name": "akg179", "link": "https://stackoverflow.com/users/10103607/akg179"}, "is_accepted": false, "score": 1, "last_activity_date": 1568828857, "creation_date": 1568828857, "answer_id": 57998278, "question_id": 57996911, "link": "https://stackoverflow.com/questions/57996911/dont-validate-hidden-field-jquery/57998278#57998278", "title": "Don&#39;t validate hidden field (jQuery)", "body": "<p>You can create your own validation attribute to place on top of 'Description' property in your model. </p>\n\n<p>You can learn about creating own validation attribute <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/models/validation?view=aspnetcore-2.2#custom-attributes\" rel=\"nofollow noreferrer\">here</a>. </p>\n\n<p>And in the <code>IsValid</code> method of the custom validation attribute class, you can implement the logic to determine the success condition for the validation which will be something similar to what you have mentioned in your example.</p>\n"}], "owner": {"reputation": 652, "user_id": 11350546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uumd7.jpg?s=128&g=1", "display_name": "Halden Collier", "link": "https://stackoverflow.com/users/11350546/halden-collier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 57997788, "answer_count": 2, "score": 0, "last_activity_date": 1568828857, "creation_date": 1568823127, "question_id": 57996911, "link": "https://stackoverflow.com/questions/57996911/dont-validate-hidden-field-jquery", "title": "Don&#39;t validate hidden field (jQuery)", "body": "<p>I have a form which has a <code>select</code> element, if the option 'Other' is selected a <code>textarea</code> will dropdown asking for extra information. </p>\n\n<p>I want this <code>textarea</code> to be required unless the <code>select</code> option isn't 'Other'.</p>\n\n<p>How would I go about doing this?</p>\n\n<p><strong>JavaScript</strong> (submitting the form to a controller)</p>\n\n<pre><code>var submitAnimatedForm = function (formHold, controllerURL, successMessage) {\n    if (formHold.length) {\n        var _form = formHold.find(\"form\");\n\n        _form.on(\"submit\", function (e) {\n            e.preventDefault();\n\n            // Disables submit button on click\n            $(':input[type=submit]').prop('disabled', true);\n\n            // If the form is valid, post AJAX.\n            if (_form.valid()) {\n                setTimeout(function () {\n                    $.ajax({\n                        type: 'POST',\n                        url: '/Umbraco/Surface/Contact/SubmitQuote',\n                        data: _form.serialize(),\n                        dataType: 'json',\n                        encode: true,\n                        success: function (data) {\n\n                            if (!data.success) {\n                                alert(\"ERR\"); // - This is what I keep getting back\n                            } else {\n                                alert(\"SUCCESS\");\n                            }\n\n                        },\n                        error: function (data) {\n                            console.log(\"ERR\");\n                        }\n                    });\n                }, 2000);\n            }\n        });\n    }\n};\n</code></pre>\n\n<p><strong>C#</strong> (Checking the model data)</p>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>if (!ModelState.IsValid)\n{\n    return Json (\n        new\n        {\n            success = false,\n            message = \"Sorry, we encountered an error.\"\n        }\n    );\n}\n\nreturn Json (\n    new\n    {\n        success = true,\n        message = \"Thank you, your request has been sent!\"\n    }\n);\n</code></pre>\n\n<p><strong>Model</strong></p>\n\n<pre><code>public class ServiceModel\n{\n    [Required(ErrorMessage = \"Your first name is required\")]\n    public String Firstname { get; set; }\n\n    [Required(ErrorMessage = \"Your last name is required\")]\n    public String Lastname { get; set; }\n\n    [Required(ErrorMessage = \"Your e-mail address is required\")]\n    [DataType(DataType.EmailAddress)]\n    public String Email { get; set; }\n\n    [Required(ErrorMessage = \"Your job location is required\")]\n    public String Location { get; set; }\n\n    [Required(ErrorMessage = \"This field is required\")]\n    public String Service { get; set; }\n\n    [Required(ErrorMessage = \"Your job description is required\")]\n    public String Description { get; set; }\n\n    public String EstimatedCost { get; set; }\n}\n</code></pre>\n\n<p>I assume it's something to do with my C# code, I believe I could do a fix like so:</p>\n\n<pre><code>if (objModel.Service == \"Other\") \n{\n    if (String.IsNullOrWhitespace(objModel.Description))\n    {\n        return Json (\n            new\n            {\n                success = false,\n                message = \"Please fill out your description!\"\n            }\n        )\n    }\n}\nelse\n{\n    // - Send an e-mail\n}\n</code></pre>\n\n<p>But the issue with this is the fact that it's not checking the rest of the model and only the service description.</p>\n\n<p>Any help would be appreciated! :)</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "security", ".net-core", "configuration"], "comments": [{"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1568823681, "post_id": 57996907, "comment_id": 102400555, "body": "Most likely yes, which is why the docs now advise against using <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.security.securestring?view=netcore-2.2#remarks\" rel=\"nofollow noreferrer\">SecureString</a> and there&#39;s even a <a href=\"https://github.com/dotnet/platform-compat/blob/master/docs/DE0001.md\" rel=\"nofollow noreferrer\">compatibility warning</a> about it. No matter what you do at <i>some</i> point the secret will be clear text. If someone can attach a debugger to your app and read its memory, you&#39;re toast already."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1568823978, "post_id": 57996907, "comment_id": 102400689, "body": "The source code for the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/key-vault-configuration?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\">Azure Key Vault Configuration provider</a> is available on <a href=\"https://github.com/aspnet/Extensions/tree/master/src/Configuration/Config.AzureKeyVault\" rel=\"nofollow noreferrer\">Gtihub</a>. You can check how they handle this situation, both in the docs and the source code itself"}, {"owner": {"reputation": 167, "user_id": 2281032, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a28372d45532da87e0be9510313c1304?s=128&d=identicon&r=PG", "display_name": "Jeffrey Quinn", "link": "https://stackoverflow.com/users/2281032/jeffrey-quinn"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1568826152, "post_id": 57996907, "comment_id": 102401550, "body": "@PanagiotisKanavos I did not even think to look at the Azure Key Vault implementation for guidance, but I did just as you suggested and it seems that it is implemented like how I was going about it (though they were much more elegant). So yeah, this a case of overthinking, storing in memory as plain text is probably the best place for it. If they have access to server and can get to the memory, well I do have much bigger problems."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1568826407, "post_id": 57996907, "comment_id": 102401651, "body": "You can check the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/data-protection/introduction?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\">data protection APIs</a> too. It does a different job - protecting data locally, but it could be useful as an add-on"}], "owner": {"reputation": 167, "user_id": 2281032, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a28372d45532da87e0be9510313c1304?s=128&d=identicon&r=PG", "display_name": "Jeffrey Quinn", "link": "https://stackoverflow.com/users/2281032/jeffrey-quinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568823115, "creation_date": 1568823115, "question_id": 57996907, "link": "https://stackoverflow.com/questions/57996907/storing-sensitive-configuration-data-in-memory", "title": "Storing sensitive configuration data in memory", "body": "<p>I am currently working on a new .net-core API and trying to settle on a way to access secrets/sensitive information that will be needed for everything to work smoothly. </p>\n\n<p>Currently I am creating a new configuration provider/source that will reach out to our vault server (using hashicorp vault) to grab all configuration data needed including: connection strings, and private key's for web tokens.</p>\n\n<p>This seemed like a good idea as I remove all sensitive information from config files like appsettings.json. however this would lead to the data being stored in memory as plain text which is a bit worrisome to me.</p>\n\n<p>I considered re-encrypting the data before putting into the config dictionary, but I would still need to have the decrypt key...so I feel like it is the same issue with an additional step. </p>\n\n<p>Is this just a case of overthinking things? Or should I reconsider having this data in configuration and make repeated calls to the vault for the data when needed?</p>\n"}, {"tags": ["c#", "visual-studio", "pdf", "itext"], "comments": [{"owner": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 0, "creation_date": 1568825693, "post_id": 57996893, "comment_id": 102401404, "body": "No answer to your question yet, I need more time to do that. But you already <code>return result</code> before you enter your second <code>if</code>, so that is effectively dead code."}, {"owner": {"reputation": 11, "user_id": 12020352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jhJYJAp8bK4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdY4wNAvUCkHbP8y9l4yJwc5RqUpQ/photo.jpg?sz=128", "display_name": "Daniel Bae", "link": "https://stackoverflow.com/users/12020352/daniel-bae"}, "reply_to_user": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 0, "creation_date": 1568827516, "post_id": 57996893, "comment_id": 102402085, "body": "@AmedeeVanGasse sorry about that, I edited out the first &quot;return result&quot; out. I used the return result to test whether or not the field value was returning null or not null. And it does return a &quot;Null&quot; value therefore it moves on to the &quot;else if&quot; statement."}, {"owner": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 0, "creation_date": 1568870679, "post_id": 57996893, "comment_id": 102413256, "body": "Your last <code>else</code> is redundant, however, if you invert your first <code>if</code>, then you have a Guard Clause. <a href=\"https://refactoring.com/catalog/replaceNestedConditionalWithGuardClauses.html\" rel=\"nofollow noreferrer\">refactoring.com/catalog/&hellip;</a>"}, {"owner": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 0, "creation_date": 1568870892, "post_id": 57996893, "comment_id": 102413331, "body": "And I believe that C# is also capable of doing a <code>switch</code> on strings, no? Make it easy for yourself, use <code>curVal.ToString().ToUpper()</code>."}, {"owner": {"reputation": 11, "user_id": 12020352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jhJYJAp8bK4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdY4wNAvUCkHbP8y9l4yJwc5RqUpQ/photo.jpg?sz=128", "display_name": "Daniel Bae", "link": "https://stackoverflow.com/users/12020352/daniel-bae"}, "reply_to_user": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 0, "creation_date": 1568922818, "post_id": 57996893, "comment_id": 102439788, "body": "@AmedeeVanGasse so the switch on strings is not what I am looking for. I am looking for the output value, &quot;United States&quot;, which was selected in a drop down menu in a pdf file. However, when reading the pdf file in Visual Studio, it is outputting that value as null."}], "owner": {"reputation": 11, "user_id": 12020352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jhJYJAp8bK4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdY4wNAvUCkHbP8y9l4yJwc5RqUpQ/photo.jpg?sz=128", "display_name": "Daniel Bae", "link": "https://stackoverflow.com/users/12020352/daniel-bae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568827400, "creation_date": 1568823056, "last_edit_date": 1568827400, "question_id": 57996893, "link": "https://stackoverflow.com/questions/57996893/how-do-i-get-the-value-of-a-drop-down-menu-from-a-pdf-file", "title": "How do I get the value of a drop down menu from a pdf file?", "body": "<p>I am ingesting a PDF file that has been filled out however, I am unable to retrieve the export value from a drop down menu that is present in the form. </p>\n\n<p>I am using Visual Studios to test and visualize the values that are filled out in the form, and the drop down menu has been the only issue that I have when trying to retrieve its' value. </p>\n\n<pre><code>AcroFields.Item items = resField.GetFieldItem(fieldNameInXFADictionary);\nPdfDictionary valueDict = items.GetValue(0);\nPdfName curVal = valueDict.GetAsName(PdfName.AS);\n\nif (curVal != null)\n{\n    String result = curVal.ToString();\n\n    if (result == \"/1\")\n    {\n        result = \"YES\";\n    }\n    else if (result == \"/Off\" || result == \"/OFF\")\n    {\n        result = \"NO\";\n    }\n    else if (result == \"/2\")\n    {\n        result = \"YES\";\n    }\n    count = 1;\n    return result;\n}\nelse if(curVal == null)\n{\n    return resField.Fields.Values.ToString();\n}\n</code></pre>\n\n<p>When testing, the field should not be <code>null</code>, however, when it is converted into <code>PdfName</code> <code>curVal</code>, it is determined as <code>null</code> which does not make much sense to me. \nTherefore, it enters the else statement which returns \"System.util.collections.LinkedDictionary`2+ValueCollection[System.String,iTextSharp.text.pdf.AcroFields+Item\" </p>\n\n<p>The value that is in the drop down menu is \"United States\".</p>\n"}, {"tags": ["c#", "unity3d", "simulation", "physics", "orbit"], "comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 1, "creation_date": 1568823790, "post_id": 57996836, "comment_id": 102400597, "body": "You could simulate the physics in parallel but 1. Unity doesn&#39;t support that, so you would have to implement your own physics engine and 2. it would probably be needlessly computationally intensive. A better approach could be to use <a href=\"https://en.wikipedia.org/wiki/Patched_conic_approximation\" rel=\"nofollow noreferrer\">patched conic approximation</a> to approximate orbital trajectories. I don&#39;t know of any canonical guides on this but here&#39;s a slideshow I found on google that could get you started: <a href=\"http://www.maia.ub.edu/dsg/wsem/documents/PatchedConics.pdf\" rel=\"nofollow noreferrer\">maia.ub.edu/dsg/wsem/documents/PatchedConics.pdf</a>"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1568823864, "post_id": 57996836, "comment_id": 102400633, "body": "If you can break this question down into smaller pieces we can probably answer those pieces but as written, I&#39;d say this question is too broad. Writing a whole patched conics approximator from scratch is too broad for one answer."}, {"owner": {"reputation": 5521, "user_id": 1253136, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/78ed265f0b33e2208570927bc7b5dcb4?s=128&d=identicon&r=PG", "display_name": "XenoRo", "link": "https://stackoverflow.com/users/1253136/xenoro"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 1, "creation_date": 1568825485, "post_id": 57996836, "comment_id": 102401329, "body": "@Ruzihm Unity actually <b>does</b> support that now. It has been implemented since 2018.3. See <a href=\"https://blogs.unity3d.com/2018/11/12/physics-changes-in-unity-2018-3-beta/\" rel=\"nofollow noreferrer\">Multi-Scene Physics on this page</a>. --- As for guides on implementation, I don&#39;t know of any either, but I haven&#39;t looked into it. There might be some blogposts about it if you look into KSP (Kerbal Space Program)."}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "reply_to_user": {"reputation": 5521, "user_id": 1253136, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/78ed265f0b33e2208570927bc7b5dcb4?s=128&d=identicon&r=PG", "display_name": "XenoRo", "link": "https://stackoverflow.com/users/1253136/xenoro"}, "edited": false, "score": 0, "creation_date": 1568826841, "post_id": 57996836, "comment_id": 102401828, "body": "@XenoRo Neat! I had no idea that existed. Looking further into it, it looks like you <b>can</b> use that to simulate multiple timesteps within the current <code>Update</code> call. Not sure how performant that is but that could do the trick!"}, {"owner": {"reputation": 35, "user_id": 12006240, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDbgHPJ4TotwwLBVC23qA9k9WNvZbsmObWaFa5E=k-s128", "display_name": "kieran P", "link": "https://stackoverflow.com/users/12006240/kieran-p"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1568834777, "post_id": 57996836, "comment_id": 102405004, "body": "@Ruzihm thanks so much for the info, I have found a much easier solution but I will look into patched conic approximations in the future because I do want to start learning a bit of astrophysics and things (most of it&#39;s still over my head)"}, {"owner": {"reputation": 35, "user_id": 12006240, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDbgHPJ4TotwwLBVC23qA9k9WNvZbsmObWaFa5E=k-s128", "display_name": "kieran P", "link": "https://stackoverflow.com/users/12006240/kieran-p"}, "reply_to_user": {"reputation": 5521, "user_id": 1253136, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/78ed265f0b33e2208570927bc7b5dcb4?s=128&d=identicon&r=PG", "display_name": "XenoRo", "link": "https://stackoverflow.com/users/1253136/xenoro"}, "edited": false, "score": 0, "creation_date": 1568834910, "post_id": 57996836, "comment_id": 102405059, "body": "@XenoRo Thanks for the answer, never heard of this and that it&#39;s REALLY good to know for the future."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 12006240, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDbgHPJ4TotwwLBVC23qA9k9WNvZbsmObWaFa5E=k-s128", "display_name": "kieran P", "link": "https://stackoverflow.com/users/12006240/kieran-p"}, "edited": false, "score": 0, "creation_date": 1568834419, "post_id": 57998714, "comment_id": 102404878, "body": "It worked perfectly! I can&#39;t believe how fast my computer generated that many points! Thank you so much!! you saved me so much headache :)"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1568834930, "post_id": 57998714, "comment_id": 102405065, "body": "Ah I thought the asker was asking about a long distance involving n bodies. good answer."}, {"owner": {"reputation": 5521, "user_id": 1253136, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/78ed265f0b33e2208570927bc7b5dcb4?s=128&d=identicon&r=PG", "display_name": "XenoRo", "link": "https://stackoverflow.com/users/1253136/xenoro"}, "edited": false, "score": 1, "creation_date": 1568837066, "post_id": 57998714, "comment_id": 102405889, "body": "Just a note: In environments with no drag (ie out of atmospheres) it can be calculated deterministically (no approximations) with orbital maths. You can then display with lines by approximating just the path with the technique of your choice (hint: a bezier path based on periapsis and apoapsis works great). This saves performance by not having to do repeated calculations with forces and positions. Basically, you eliminate the physics side of the approximations; which is the heaviest. See <a href=\"https://en.wikipedia.org/wiki/Orbital_eccentricity\" rel=\"nofollow noreferrer\">Orbital Eccentricity</a>"}, {"owner": {"reputation": 5521, "user_id": 1253136, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/78ed265f0b33e2208570927bc7b5dcb4?s=128&d=identicon&r=PG", "display_name": "XenoRo", "link": "https://stackoverflow.com/users/1253136/xenoro"}, "edited": false, "score": 0, "creation_date": 1568837198, "post_id": 57998714, "comment_id": 102405932, "body": "That is how KSP (Kerbal Space Program) does it. And I strongly suspect it is how Spaceflight Simulator does too. --- The downside is that it can handle only a single planetary/orbital body. N-body physics gets a LOT more complicated, and is where physics approximations are more widely used."}, {"owner": {"reputation": 499, "user_id": 2657597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd722d2a072baf7f1140c287ccb7e306?s=128&d=identicon&r=PG", "display_name": "Louis Garczynski", "link": "https://stackoverflow.com/users/2657597/louis-garczynski"}, "reply_to_user": {"reputation": 5521, "user_id": 1253136, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/78ed265f0b33e2208570927bc7b5dcb4?s=128&d=identicon&r=PG", "display_name": "XenoRo", "link": "https://stackoverflow.com/users/1253136/xenoro"}, "edited": false, "score": 0, "creation_date": 1568996964, "post_id": 57998714, "comment_id": 102466516, "body": "@XenoRo The problem is that this doesn&#39;t work for n-bodies, for which I believe the math gets much much more complex. It would also require to replace the physics engine by this mathematical prediction, which is simple, but might interfere with having collisions or other forces in his game. Another problem would be implementing drag, and recalculating the orbit every time the force is applied."}, {"owner": {"reputation": 5521, "user_id": 1253136, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/78ed265f0b33e2208570927bc7b5dcb4?s=128&d=identicon&r=PG", "display_name": "XenoRo", "link": "https://stackoverflow.com/users/1253136/xenoro"}, "edited": false, "score": 0, "creation_date": 1569007308, "post_id": 57998714, "comment_id": 102470260, "body": "On the first and third points, you are just repeating what I already pointed out. On the second point, why would it require replacing the physics engine? We are talking about the visual path prediction here, calculated ahead-of-time, not how the physics will behave in real time."}, {"owner": {"reputation": 499, "user_id": 2657597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd722d2a072baf7f1140c287ccb7e306?s=128&d=identicon&r=PG", "display_name": "Louis Garczynski", "link": "https://stackoverflow.com/users/2657597/louis-garczynski"}, "edited": false, "score": 0, "creation_date": 1569117893, "post_id": 57998714, "comment_id": 102490712, "body": "Unity doesn&#39;t apply forces in a mathematically perfect manner. Using conics would create an error unless you use it for movement as well as predictions."}], "tags": [], "owner": {"reputation": 499, "user_id": 2657597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd722d2a072baf7f1140c287ccb7e306?s=128&d=identicon&r=PG", "display_name": "Louis Garczynski", "link": "https://stackoverflow.com/users/2657597/louis-garczynski"}, "is_accepted": true, "score": 3, "last_activity_date": 1571009883, "last_edit_date": 1571009883, "creation_date": 1568830747, "answer_id": 57998714, "question_id": 57996836, "link": "https://stackoverflow.com/questions/57996836/how-does-spaceflight-simulator-predict-flight-paths/57998714#57998714", "title": "How does Spaceflight simulator predict flight-paths?", "body": "<p>Here's what your code is actually doing:</p>\n\n<pre><code>var sateliteCords = Satelite.transform.position;\nvar planetCords = gameObject.transform.position;\nvar distance = sateliteCords - planetCords;\ndistanceFromSatelite = distance.magnitude;\n\nF = (Gravity * Mass) / Mathf.Pow(distanceFromSatelite,2);\nforces = distance / distanceFromSatellite * -F;\nSatelite.GetComponent&lt;Rigidbody&gt;().AddForce(forces * Time.deltaTime, ForceMode.Force);\n</code></pre>\n\n<p>You can further reduce it by doing:</p>\n\n<pre><code>var distance = sateliteCords - planetCords;\ndistanceSqrMag = distance.sqrMagnitude;\n\nF = (Gravity * Mass) / distanceSqrMag;\nforces = distance.normalized * -F;\nSatelite.GetComponent&lt;Rigidbody&gt;().AddForce(forces * Time.deltaTime, ForceMode.Force);\n</code></pre>\n\n<p>Now that the code is much simpler, I can find a crucial mistake. ForceMode.Force already multiplies the Force by Time.deltaTime. What you want here is to switch to ForceMode.Impulse, or remove the deltaTime.</p>\n\n<pre><code>F = (Gravity * Mass) / distanceSqrMag;\nforces = distance.normalized * -F;\nSatelite.GetComponent&lt;Rigidbody&gt;().AddForce(forces, ForceMode.Force);\n</code></pre>\n\n<p>Or better yet, assuming Mass is the mass of the satellite, and gravity is not a general constant, but just the local gravity of your planet. ForceMode.Force divides the force by the mass of the rigidbody it is applied on.</p>\n\n<pre><code>F = Gravity / distanceSqrMag;\nforces = distance.normalized * -F;\nSatelite.GetComponent&lt;Rigidbody&gt;().AddForce(forces, ForceMode.Acceleration);\n</code></pre>\n\n<p>Now that's all out the way, you can do a very simple approximation by doing something like</p>\n\n<pre><code>var currentPos = _rigidBody.position;\nvar prevPos = currentPos;\nvar currentVelocity = _rigidBody.velocity;\nvar planetCords = gameObject.transform.position;\n\nfor (int i = 0; i &lt; stepCount; i++)\n{\n    var distance = planetCords - currentPos;\n\n    var forceMag = Gravity / distance.sqrMagnitude;\n    forces = distance.normalized * forceMag;\n    currentVelocity  += forces * Time.fixedDeltaTime;\n\n    currentPos += currentVelocity * Time.fixedDeltaTime;\n\n    //Replace by a TrailRenderer you reset each frame\n    Debug.DrawLine(prevPos, currentPos, Color.Red, Time.deltaTime);\n    prevPos = currentPos;\n}\n</code></pre>\n\n<p>Note that this code is untested, I probably made a mistake here or there, but that's the gist of it.</p>\n\n<p>Don't worry about getting any difference in trajectory, this is exactly what unity does to predict positions. No need for fancy calculations when you got all the computing power you need.</p>\n\n<p>If you want more than one-body gravity simulation, it's simple. Either apply the gravity of all planets, or simply the gravity of the closest planet taking its mass into account. I recommend the former if you have less than a dozen planets.</p>\n\n<p>You don't need conics, or advanced math, or any of that. You're not kerbal space program. Sometime brute force is the best solution. </p>\n"}], "owner": {"reputation": 35, "user_id": 12006240, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDbgHPJ4TotwwLBVC23qA9k9WNvZbsmObWaFa5E=k-s128", "display_name": "kieran P", "link": "https://stackoverflow.com/users/12006240/kieran-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 786, "favorite_count": 0, "accepted_answer_id": 57998714, "answer_count": 1, "score": 1, "last_activity_date": 1571009883, "creation_date": 1568822792, "question_id": 57996836, "link": "https://stackoverflow.com/questions/57996836/how-does-spaceflight-simulator-predict-flight-paths", "title": "How does Spaceflight simulator predict flight-paths?", "body": "<p>I am trying to make a game with Unity that uses rockets that are in orbit and can transition to different planets, but I need to predict the rocket path in real-time, depending on the current velocity/direction of the rocket allot like <a href=\"https://www.youtube.com/watch?v=bMv5LmSNgdo\" rel=\"nofollow noreferrer\">spaceflight simulator</a> does. <br/><br/>\nI have managed to get realistic physics and orbits when adding gravitational forces to a rigidBody:<br/></p>\n\n<pre><code>    var sateliteCords = Satelite.transform.position;\n    var planetCords = gameObject.transform.position;\n    var distance = sateliteCords - planetCords;\n    distanceFromSatelite = Vector3.Distance(Satelite.transform.position, gameObject.transform.position);\n    F = (Gravity * Mass) / Mathf.Pow(distanceFromSatelite,2);\n    forces = (distance / Mathf.Sqrt(Mathf.Pow(distance.x, 2)+ Mathf.Pow(distance.y, 2)+ Mathf.Pow(distance.z, 2))) * -F;\n    Satelite.GetComponent&lt;Rigidbody&gt;().AddForce(forces * Time.deltaTime, ForceMode.Force);\n</code></pre>\n\n<p>but I don't know how to predict future points in time to give me the orbit shape. <br/><br/>\nI have tried \"speeding up the simulation\" with <code>Time.timeScale = 50;</code> but it isn't fast enough. \nI read somewhere that I need a copy of the solar system running independently form the unity updates, and calculate the rocket trajectory from there but I don't know how to approach that.<br/><br/>\nI'm a bit of a noob when it comes to physics simulations so can one of you geniuses please help?</p>\n"}, {"tags": ["c#", "mocking", "nsubstitute"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 2, "creation_date": 1568823677, "post_id": 57996835, "comment_id": 102400552, "body": "members to be overridden need to be <code>virtual</code> in order to be mocked/stubbed. <a href=\"https://nsubstitute.github.io/help/partial-subs/\" rel=\"nofollow noreferrer\">nsubstitute.github.io/help/partial-subs</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1041, "user_id": 1073313, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0hAXX.jpg?s=128&g=1", "display_name": "Kjell Rilbe", "link": "https://stackoverflow.com/users/1073313/kjell-rilbe"}, "edited": false, "score": 0, "creation_date": 1568836050, "post_id": 57997359, "comment_id": 102405498, "body": "I&#39;ll try tomorrow. Just wanted to ask: I thought it was enough that it implements an interface method. Does it in fact <i>also</i> need to be declared virtual?"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 1041, "user_id": 1073313, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0hAXX.jpg?s=128&g=1", "display_name": "Kjell Rilbe", "link": "https://stackoverflow.com/users/1073313/kjell-rilbe"}, "edited": false, "score": 2, "creation_date": 1568844844, "post_id": 57997359, "comment_id": 102408388, "body": "Interfaces are by default overridable. You were not mocking the interface. If mocking a class the members to mock have to be abstract or virtual."}, {"owner": {"reputation": 1041, "user_id": 1073313, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0hAXX.jpg?s=128&g=1", "display_name": "Kjell Rilbe", "link": "https://stackoverflow.com/users/1073313/kjell-rilbe"}, "edited": false, "score": 0, "creation_date": 1568872602, "post_id": 57997359, "comment_id": 102413901, "body": "Understood, finally. :-) Thanks!"}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 5, "last_activity_date": 1568825569, "last_edit_date": 1592644375, "creation_date": 1568824944, "answer_id": 57997359, "question_id": 57996835, "link": "https://stackoverflow.com/questions/57996835/nsubstitute-forpartsof-when-calls-real-method/57997359#57997359", "title": "NSubstitute ForPartsOf...When calls real method", "body": "<p>When using NSubstitute, members to be mocked/stubbed need to be <code>virtual</code> in order to be overridden.</p>\n<h3>Reference <a href=\"https://nsubstitute.github.io/help/partial-subs/\" rel=\"nofollow noreferrer\">Partial subs and test spies</a></h3>\n<pre><code>public class MyClass : IMyClass {\n    private readonly ILogger log;\n\n    public MyClass(ILogger log) {\n        this.log = log;\n    }\n\n    public virtual bool NeedsMoreWork(Item item, out Part part) { //&lt;-- THIS IS NOW VIRTUAL\n        log.Debug($&quot;Examining item {item.Id}&quot;);\n        part = null;\n        if (item.Completed()) {\n            log.Debug($&quot;Item {item.Id} already completed.&quot;);\n            return false;\n        }\n        part = item.GetNextPart();\n        log.Debug($&quot;Item {item.Id} needs work on part {part.Id}.&quot;);\n        return true;            \n    }\n\n    public bool DoWork(Item item) {\n        if (!NeedsMoreWork(item, out Part part))\n            return false;\n        log.Debug($&quot;Starting work on part {part.Id}.&quot;);\n        // Do work on part.\n        log.Debug($&quot;Work completed on part {part.Id}.&quot;);\n        return true;\n    }\n}\n</code></pre>\n<p><code>NeedsMoreWork</code> can now be stubbed as needed</p>\n<pre><code>[TestMethod]\npublic void TestDoWork_Should_Return_False() {\n    //Arrange\n    var subject = Substitute.ForPartsOf&lt;MyClass&gt;(Substitute.For&lt;ILogger&gt;());\n    bool expected = false;\n    subject.Configure().NeedsMoreWork(Arg.Any&lt;Item&gt;(), out Arg.Any&lt;Part&gt;()).Returns(expected);\n\n    //Act\n    bool actual = subject.DoWork(new Item());\n\n    //Assert - FluentAssertions\n    actual.Should().Be(expected);\n}\n</code></pre>\n<blockquote>\n<p>Note the <strong>CAUTION</strong> comment. If we had not used <code>Configure()</code> here before <code>.NeedsMoreWork(...)</code> then the real method would have executed before we had a chance to override the behavior. In some cases this may not be a problem, but if in doubt make sure you call <code>Configure()</code> first so NSubstitute knows you are configuring a call and don\u2019t want to run any real code. <em><strong>(This still does not guarantee real code will not run \u2013 remember, NSubstitute will not prevent non-virtual calls from executing.)</strong></em></p>\n<p>The <code>Configure()</code> method is only available in NSubstitute 4.0 and above. For verisons prior to 4.0 we need to use <code>When .. DoNotCallBase</code></p>\n</blockquote>\n<p>note: <em>emphasis mine</em></p>\n"}], "owner": {"reputation": 1041, "user_id": 1073313, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0hAXX.jpg?s=128&g=1", "display_name": "Kjell Rilbe", "link": "https://stackoverflow.com/users/1073313/kjell-rilbe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "accepted_answer_id": 57997359, "answer_count": 1, "score": 1, "last_activity_date": 1568872669, "creation_date": 1568822792, "last_edit_date": 1568872669, "question_id": 57996835, "link": "https://stackoverflow.com/questions/57996835/nsubstitute-forpartsof-when-calls-real-method", "title": "NSubstitute ForPartsOf...When calls real method", "body": "<p>I'm trying to substitute a method using <code>ForPartsOf&lt;...&gt;()</code> and then <code>subst.Configure().MyMethod(...).Returns(...)</code> or <code>subst.When(x =&gt; x.MyMethod(..)).Returns(...)</code>, but in both cases the real <code>MyMethod</code> gets called. I was under the impression that both <code>Configure()</code> and <code>When()</code> was supposed to make sure the <code>MyMethod()</code> call was made in \"configure mode\", so that no real call will be made. Am I wrong? Or am I doing something wrong?</p>\n\n<p>Here below is a my (much simplified, and namechanged) code. For both <code>subst1</code> and <code>subst2</code>, the real <code>NeedsMoreWork</code> method gets called with <code>item == null</code>.</p>\n\n<pre><code>public interface IMyClass\n{\n    bool NeedsMoreWork(Item item, out Part part);\n    bool DoWork(Item item);\n}\n\npublic class MyClass : IMyClass\n{\n    private ILogger log;\n\n    public MyClass(ILogger log)\n    {\n        this.log = log;\n    }\n\n    public bool NeedsMoreWork(Item item, out Part part)\n    {\n        log.Debug($\"Examining item {item.Id}\");\n        part = null;\n        if (item.Completed())\n        {\n            log.Debug($\"Item {item.Id} already completed.\");\n            return false;\n        }\n        part = item.GetNextPart();\n        log.Debug($\"Item {item.Id} needs work on part {part.Id}.\");\n        return true;            \n    }\n\n    public bool DoWork(Item item)\n    {\n        if (!item.NeedsMoreWork(item, out Part part))\n            return false;\n        log.Debug($\"Starting work on part {part.Id}.\");\n        // Do work on part.\n        log.Debug($\"Work completed on part {part.Id}.\");\n        return true;\n    }\n}\n\n[TestMethod]\npublic void TestDoWork()\n{\n    // Version with Configure():\n    var subst1 = Substitute.ForPartsOf&lt;MyClass&gt;(Substitute.For&lt;ILogger&gt;());\n    subst1.Configure()\n        .NeedsMoreWork(Arg.Any&lt;Item&gt;(), out Arg.Any&lt;Part&gt;())\n        .Returns(false);\n\n    // Version with WhenForAnyArgs():\n    var subst2 = Substitute.ForPartsOf&lt;MyClass&gt;(Substitute.For&lt;ILogger&gt;());\n    subst2.WhenForAnyArgs(x =&gt; x.NeedsMoreWork(Arg.Any&lt;Item&gt;(), out Arg.Any&lt;Part&gt;())\n        .Returns(false);\n}\n</code></pre>\n"}, {"tags": ["c#", "windows", "environment-variables", "registry"], "comments": [{"owner": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 1, "creation_date": 1568823292, "post_id": 57996785, "comment_id": 102400405, "body": "It seems to be an <i>identity</i> reference, <code>typeof(System.Security.Principal.NTAccount)</code> should do (untested)."}, {"owner": {"reputation": 249, "user_id": 7277003, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e4d86d399ff2cca8ff66f6cac10b3ad4?s=128&d=identicon&r=PG&f=1", "display_name": "SampleTime", "link": "https://stackoverflow.com/users/7277003/sampletime"}, "reply_to_user": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 0, "creation_date": 1568824008, "post_id": 57996785, "comment_id": 102400702, "body": "@AdrianoRepetti Ok, now I need to know how to create an identity reference to my registry directory I guess?"}, {"owner": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 1, "creation_date": 1568824673, "post_id": 57996785, "comment_id": 102401008, "body": "No, just use the code in the comment."}, {"owner": {"reputation": 249, "user_id": 7277003, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e4d86d399ff2cca8ff66f6cac10b3ad4?s=128&d=identicon&r=PG&f=1", "display_name": "SampleTime", "link": "https://stackoverflow.com/users/7277003/sampletime"}, "reply_to_user": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 0, "creation_date": 1568825735, "post_id": 57996785, "comment_id": 102401421, "body": "@AdrianoRepetti Unfortunatly, the code returns null... I also don&#39;t see how it links to a concrete directory? Somewhere, I would have to define the directory."}, {"owner": {"reputation": 249, "user_id": 7277003, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e4d86d399ff2cca8ff66f6cac10b3ad4?s=128&d=identicon&r=PG&f=1", "display_name": "SampleTime", "link": "https://stackoverflow.com/users/7277003/sampletime"}, "reply_to_user": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 0, "creation_date": 1568826394, "post_id": 57996785, "comment_id": 102401650, "body": "@AdrianoRepetti Ok, I got it to work: on the key, GetAccessControl must be called. On its return value, we can use GetOwner. Thanks."}, {"owner": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 0, "creation_date": 1568873305, "post_id": 57996785, "comment_id": 102414196, "body": "post it as answer, I&#39;m sure someone else will need it!"}, {"owner": {"reputation": 249, "user_id": 7277003, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e4d86d399ff2cca8ff66f6cac10b3ad4?s=128&d=identicon&r=PG&f=1", "display_name": "SampleTime", "link": "https://stackoverflow.com/users/7277003/sampletime"}, "reply_to_user": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 0, "creation_date": 1568905595, "post_id": 57996785, "comment_id": 102432073, "body": "@AdrianoRepetti Good point, I added an answer."}], "answers": [{"tags": [], "owner": {"reputation": 249, "user_id": 7277003, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e4d86d399ff2cca8ff66f6cac10b3ad4?s=128&d=identicon&r=PG&f=1", "display_name": "SampleTime", "link": "https://stackoverflow.com/users/7277003/sampletime"}, "is_accepted": true, "score": 1, "last_activity_date": 1568905579, "creation_date": 1568905579, "answer_id": 58014016, "question_id": 57996785, "link": "https://stackoverflow.com/questions/57996785/registry-get-directory-owner-programmatically-using-c/58014016#58014016", "title": "Registry get directory owner programmatically using C#", "body": "<p>So, an implementation could look like:</p>\n\n<pre><code>string ReadRegOwner(string dir)\n{\n    RegistryKey key = Registry.CurrentUser.OpenSubKey(dir, false);\n    RegistrySecurity rs = key.GetAccessControl();\n    IdentityReference owner = rs.GetOwner(typeof(System.Security.Principal.NTAccount));\n\n    return owner.ToString();\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>string dir = @\"Software\\Microsoft\";\nstring owner = ReadRegOwner(dir); // Looks in HKEY_CURRENT_USER\n</code></pre>\n\n<p>Of course, <code>CurrentUser</code> could be also replaced if a different base key than <code>HKEY_CURRENT_USER</code> is desired.</p>\n"}], "owner": {"reputation": 249, "user_id": 7277003, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e4d86d399ff2cca8ff66f6cac10b3ad4?s=128&d=identicon&r=PG&f=1", "display_name": "SampleTime", "link": "https://stackoverflow.com/users/7277003/sampletime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 58014016, "answer_count": 1, "score": 0, "last_activity_date": 1568905579, "creation_date": 1568822567, "question_id": 57996785, "link": "https://stackoverflow.com/questions/57996785/registry-get-directory-owner-programmatically-using-c", "title": "Registry get directory owner programmatically using C#", "body": "<p>I want to read programmatically the owner of a directory (and its subdirectories) of the windows registry using C#.</p>\n\n<p>For example, assume my registry contains the directory <code>HKEY_CURRENT_USER\\Software\\Microsoft</code> which is owned by the user <code>SYSTEM</code>. A code example (leaving out the recursion over sub-directories of <code>dir</code>) how I intend to use it would be:</p>\n\n<pre><code>string dir = @\"HKEY_CURRENT_USER\\Software\\Microsoft\";\nstring owner = ReadRegOwner(dir); // owner is \"SYSTEM\"\n</code></pre>\n\n<p>However, I am not sure how to implement <code>ReadRegOwner</code> in C#. I have already found the <a href=\"https://docs.microsoft.com/de-de/dotnet/api/system.security.accesscontrol.registrysecurity?view=netframework-4.8\" rel=\"nofollow noreferrer\">RegistrySecurity</a> class, but I am not sure how to use it to get the owner of a registry directory. It has the <code>GetOwner</code> member function, but that function requires an argument of type <code>Type</code> and I am not sure what to pass there.</p>\n\n<p>Does anyone know how to implement this?</p>\n"}, {"tags": ["c#", "uwp", "out-of-memory", "win-universal-app", "dragonboard"], "comments": [{"owner": {"reputation": 938, "user_id": 4380513, "user_type": "registered", "profile_image": "https://graph.facebook.com/553865196/picture?type=large", "display_name": "Zakk Diaz", "link": "https://stackoverflow.com/users/4380513/zakk-diaz"}, "edited": false, "score": 0, "creation_date": 1568827910, "post_id": 57996662, "comment_id": 102402232, "body": "You&#39;re confident this is a build specific bug? Is the system actually running out of memory?"}, {"owner": {"reputation": 1656, "user_id": 5199288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q0Cru.jpg?s=128&g=1", "display_name": "MattWhilden", "link": "https://stackoverflow.com/users/5199288/mattwhilden"}, "edited": false, "score": 0, "creation_date": 1568831137, "post_id": 57996662, "comment_id": 102403496, "body": "I suspect you&#39;ll learn a lot more if you use the VS Memory Profiler tooling. Alternately, if you can collect a crash dump that could help you figure out what&#39;s using all the memory. At that point you can determine if it&#39;s a tooling issue or something you can work around. That&#39;s how I&#39;d approach the issue."}, {"owner": {"reputation": 509, "user_id": 5990549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2409923ad2afb10900f05f05a496dd5e?s=128&d=identicon&r=PG&f=1", "display_name": "andy", "link": "https://stackoverflow.com/users/5990549/andy"}, "reply_to_user": {"reputation": 938, "user_id": 4380513, "user_type": "registered", "profile_image": "https://graph.facebook.com/553865196/picture?type=large", "display_name": "Zakk Diaz", "link": "https://stackoverflow.com/users/4380513/zakk-diaz"}, "edited": false, "score": 0, "creation_date": 1568893094, "post_id": 57996662, "comment_id": 102424446, "body": "@Zakk Diaz, i think so, the build before didn&#39;t had that issue, since then i have not updated the app."}, {"owner": {"reputation": 509, "user_id": 5990549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2409923ad2afb10900f05f05a496dd5e?s=128&d=identicon&r=PG&f=1", "display_name": "andy", "link": "https://stackoverflow.com/users/5990549/andy"}, "reply_to_user": {"reputation": 1656, "user_id": 5199288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q0Cru.jpg?s=128&g=1", "display_name": "MattWhilden", "link": "https://stackoverflow.com/users/5199288/mattwhilden"}, "edited": false, "score": 0, "creation_date": 1568893202, "post_id": 57996662, "comment_id": 102424512, "body": "@Matt Whilden MSFT, how do i do collect a crash dump correctly? The device is running 24/7, so it is hard to tell when the Problem does occur. Some Kind of logger, which does work on the release version would be great for me."}, {"owner": {"reputation": 1656, "user_id": 5199288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q0Cru.jpg?s=128&g=1", "display_name": "MattWhilden", "link": "https://stackoverflow.com/users/5199288/mattwhilden"}, "edited": false, "score": 0, "creation_date": 1568917456, "post_id": 57996662, "comment_id": 102437527, "body": "I don&#39;t have much experience with IoT things but is seems like you should be able to collect a dump of a running process OR add automatic crash dump collection from the device portal. <a href=\"https://docs.microsoft.com/en-us/windows/iot-core/manage-your-device/DevicePortal\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/windows/iot-core/manage-your-device&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 509, "user_id": 5990549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2409923ad2afb10900f05f05a496dd5e?s=128&d=identicon&r=PG&f=1", "display_name": "andy", "link": "https://stackoverflow.com/users/5990549/andy"}, "edited": false, "score": 0, "creation_date": 1569084841, "post_id": 57996662, "comment_id": 102484964, "body": "When i have the crash dump file, how can i inspect it to find the issue?"}, {"owner": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "edited": false, "score": 0, "creation_date": 1569308149, "post_id": 57996662, "comment_id": 102544264, "body": "You can watch these two videos(<a href=\"https://channel9.msdn.com/Shows/Inside/C000027B\" rel=\"nofollow noreferrer\">channel9.msdn.com/Shows/Inside/C000027B</a> and <a href=\"https://channel9.msdn.com/Shows/Defrag-Tools/DefragTools-136-Debugging-User-Mode-Crash-Dumps-Part-2\" rel=\"nofollow noreferrer\">channel9.msdn.com/Shows/Defrag-Tools/&hellip;</a>). They talk about how to see the dump file."}], "owner": {"reputation": 509, "user_id": 5990549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2409923ad2afb10900f05f05a496dd5e?s=128&d=identicon&r=PG&f=1", "display_name": "andy", "link": "https://stackoverflow.com/users/5990549/andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1598034492, "creation_date": 1568822036, "last_edit_date": 1598034492, "question_id": 57996662, "link": "https://stackoverflow.com/questions/57996662/system-outofmemoryexception-since-windows-iot-core-build-10-0-17763-737", "title": "System.OutOfMemoryException since WIndows IoT Core build 10.0.17763.737", "body": "<p>My c# UWP app is running on Windows IoT Core (Dragonboard 410c). Inside my app i have a simple exception logger, for finding problems in my Code, because the Project is a larger one. Since i got the update to build 10.0.17763.737, i get a System.OutOfMemoryException every few days. What can i do at best?</p>\n"}, {"tags": ["c#", "azure", "azure-keyvault", "azure-batch"], "answers": [{"tags": [], "owner": {"reputation": 2327, "user_id": 3932615, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/NB1Ma.jpg?s=128&g=1", "display_name": "Neil P", "link": "https://stackoverflow.com/users/3932615/neil-p"}, "is_accepted": true, "score": 2, "last_activity_date": 1568878786, "creation_date": 1568878786, "answer_id": 58006043, "question_id": 57996578, "link": "https://stackoverflow.com/questions/57996578/how-to-authenticate-with-key-vault-from-azure-batch/58006043#58006043", "title": "How to authenticate with Key Vault from Azure Batch", "body": "<p>Using <a href=\"https://blogs.endjin.com/2015/02/generating-and-using-a-certificate-to-authorise-azure-automation/\" rel=\"nofollow noreferrer\">this article</a> as a guide, I added the below options to the <code>makecert</code> command.</p>\n\n<pre><code>-a sha256 -len 2048\n</code></pre>\n\n<p>This certificate on it's own still wont work, you then need to run <code>pvk2pfx</code> with only the below options:</p>\n\n<pre><code>pvk2pfx -pvk batchcertificate.pvk -spc batchcertificate.cer\n</code></pre>\n\n<p>This opens the wizard, using which you then need to:</p>\n\n<ol>\n<li>select \"yes export the private key\"</li>\n<li>Tick the following options:\n\n<ul>\n<li>\"include all certificates in the certification path if possible\"</li>\n<li>\"Export all extended properties\"</li>\n<li>\"Enable certificate privacy\"</li>\n</ul></li>\n<li>On the next page, add a password</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 12109626, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB11FOXDP8qUL4-NRtZTDRh1OF_SwPM034gKjwFcg=k-s128", "display_name": "Walter Barr Jr", "link": "https://stackoverflow.com/users/12109626/walter-barr-jr"}, "is_accepted": false, "score": 0, "last_activity_date": 1571083959, "creation_date": 1571083959, "answer_id": 58383483, "question_id": 57996578, "link": "https://stackoverflow.com/questions/57996578/how-to-authenticate-with-key-vault-from-azure-batch/58383483#58383483", "title": "How to authenticate with Key Vault from Azure Batch", "body": "<p>You can try your hand at this documentation as well: <a href=\"https://samcogan.com/secure-credential-access-with-azure-batch-and-keyvault/\" rel=\"nofollow noreferrer\">https://samcogan.com/secure-credential-access-with-azure-batch-and-keyvault/</a></p>\n\n<p>I believe that Microsoft will publish more documentation on this specifically in the future. </p>\n"}], "owner": {"reputation": 2327, "user_id": 3932615, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/NB1Ma.jpg?s=128&g=1", "display_name": "Neil P", "link": "https://stackoverflow.com/users/3932615/neil-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 1, "accepted_answer_id": 58006043, "answer_count": 2, "score": 1, "last_activity_date": 1571083959, "creation_date": 1568821722, "question_id": 57996578, "link": "https://stackoverflow.com/questions/57996578/how-to-authenticate-with-key-vault-from-azure-batch", "title": "How to authenticate with Key Vault from Azure Batch", "body": "<p>I've been following <a href=\"https://samcogan.com/secure-credential-access-with-azure-batch-and-keyvault/\" rel=\"nofollow noreferrer\">this guide</a> to use a certificate to authenticate with key vault from azure batch. \nEvery certificate I generate causes errors on import into azure batch, some examples are listed below:</p>\n\n<blockquote>\n  <p>code : InvalidPropertyValue\n  message : The value provided for one of the properties in the request body is invalid.\n  PropertyName: data\n  Reason: The specified data and the password do not match</p>\n</blockquote>\n\n<p>or </p>\n\n<blockquote>\n  <p>Unable to get property 'tbsCertificate' of undefined or null reference</p>\n</blockquote>\n\n<p>or </p>\n\n<blockquote>\n  <p>Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?</p>\n</blockquote>\n\n<p>Are there any requirements for the certificate that I'm not aware of? Alternatively is it possible to assign a managed identity or service principal to my Azure Batch Pool instead, if certificates are not working.</p>\n"}, {"tags": ["c#", "wpf", "xaml", "data-binding"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1568823335, "post_id": 57996536, "comment_id": 102400423, "body": "<code>Recycler_Data</code> needs to implement INotifyPropertyChanged. <code>PercentFull</code> needs to raise the <code>PropertyChanged</code> event, passing its own name <code>nameof(PercentFull)</code> in the event args, when its value changes. That is, if the problem is that you&#39;re changing the value of <code>PercentFull</code> after the progress bar is loaded, and you want to see the progress bar&#39;s Value changing. It&#39;s not clear from your question that <code>PercentFull</code> ever changes after initialization."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1568824146, "post_id": 57996536, "comment_id": 102400761, "body": "Bad luck on the two SO questions you found. Also, few WPF tutorials are written by anybody who knows anything about WPF. I usually point people to Rachel Lim&#39;s site. Binding to properties of ProgressBar is no different to binding to most other properties, so what you really needed, had you known, was a binding tutorial, not a progressbar tutorial."}], "answers": [{"tags": [], "owner": {"reputation": 304, "user_id": 11579952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XjF9A.jpg?s=128&g=1", "display_name": "Eric Warburton", "link": "https://stackoverflow.com/users/11579952/eric-warburton"}, "is_accepted": true, "score": 0, "last_activity_date": 1568830733, "creation_date": 1568830733, "answer_id": 57998711, "question_id": 57996536, "link": "https://stackoverflow.com/questions/57996536/data-binding-inside-progressbar-value-not-working-for-datagridtemplatecolumn/57998711#57998711", "title": "Data binding inside ProgressBar value not working for DataGridTemplateColumn", "body": "<p>It looks like an integer rounding problem here:</p>\n\n<pre><code>public int PercentFull { get; set;}\nPercentFull = (Convert.ToInt32(c.Quantity) / Convert.ToInt32(data.Capacity) * 100);\n</code></pre>\n\n<p>Say c.Quantity is 2 and data.Capacity is 60. This will say 2/60 which is 0 because the math is done as an int and integer math rounds down by default. Finally, 0 * 100 = 0 thus your result.</p>\n\n<p>You can fix it by using doubles:</p>\n\n<pre><code>public double PercentFull {get; set;}\nPercentFull = c.Quantity / Convert.ToDouble(data.Capacity) * 100;\n</code></pre>\n\n<p>If you want to keep the integer type: (Will have less precision)</p>\n\n<pre><code>public int PercentFull {get; set;}\nPercentFull = Convert.ToInt32(c.Quantity) * 100 / Convert.ToInt32(data.Capacity);\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11085819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MLiLB.jpg?s=128&g=1", "display_name": "David Palacios", "link": "https://stackoverflow.com/users/11085819/david-palacios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 57998711, "answer_count": 1, "score": 0, "last_activity_date": 1568830733, "creation_date": 1568821553, "last_edit_date": 1568822770, "question_id": 57996536, "link": "https://stackoverflow.com/questions/57996536/data-binding-inside-progressbar-value-not-working-for-datagridtemplatecolumn", "title": "Data binding inside ProgressBar value not working for DataGridTemplateColumn", "body": "<p>My problem is that I'm trying to display a ProgressBar value inside of a DataGridTemplateColumn, and the binding isn't wanting to work. It will work for my TextBlock (which is in the same Grid), but not the ProgressBar. </p>\n\n<p>I've gone to many references (Microsoft and StackOverFlow) to try and find my solution. However, none of them really help solve my solution with this binding.\nMain Helpful Examples: \n<a href=\"https://stackoverflow.com/questions/7209631/progress-bar-bind-value\">Progress Bar Bind Value</a> ,\n<a href=\"https://www.wpf-tutorial.com/misc-controls/the-progressbar-control/\" rel=\"nofollow noreferrer\">https://www.wpf-tutorial.com/misc-controls/the-progressbar-control/</a> ,\n<a href=\"https://stackoverflow.com/questions/49894696/wpf-how-to-display-text-on-progress-bar\">WPF how to display text on progress bar</a> </p>\n\n<p>Also, I was originally passing PercentFull a double value (which I don't think worked) so that is why I'm passing it an Int value instead. However, either way the binding doesn't want to cooperate. </p>\n\n<p>XAML</p>\n\n<pre><code>&lt;DataGrid x:Name=\"dgViewData2\" Grid.Column=\"0\" Grid.Row=\"3\" Grid.ColumnSpan=\"2\" Grid.RowSpan=\"3\" Background=\"Transparent\" Foreground=\"White\" AutoGenerateColumns=\"False\"\n    FontSize=\"18\" FontWeight=\"Medium\" BorderThickness=\"0\" HorizontalGridLinesBrush=\"White\" VerticalGridLinesBrush=\"White\" Margin=\"10\" IsHitTestVisible=\"False\" CanUserAddRows=\"False\"\n    ScrollViewer.CanContentScroll=\"True\" ScrollViewer.VerticalScrollBarVisibility=\"Auto\" ScrollViewer.HorizontalScrollBarVisibility=\"Auto\" HeadersVisibility=\"Column\" Visibility=\"Collapsed\"\n    GridLinesVisibility=\"All\" CanUserSortColumns=\"False\" IsReadOnly=\"True\"&gt;\n    &lt;DataGrid.Resources&gt;\n        &lt;Style TargetType=\"DataGrid\"&gt;\n            &lt;Setter Property=\"Background\" Value=\"Transparent\"/&gt;\n            &lt;Setter Property=\"Focusable\" Value=\"False\"/&gt;\n            &lt;Setter Property=\"IsHitTestVisible\" Value=\"True\"/&gt;\n        &lt;/Style&gt;\n        &lt;Style TargetType=\"DataGridColumnHeader\"&gt;\n            &lt;Setter Property=\"Background\" Value=\"Transparent\"/&gt;\n            &lt;Setter Property=\"Focusable\" Value=\"False\"/&gt;\n            &lt;Setter Property=\"HorizontalAlignment\" Value=\"Right\"/&gt;\n            &lt;Setter Property=\"FontWeight\" Value=\"Bold\"/&gt;\n            &lt;Setter Property=\"FontSize\" Value=\"20\"/&gt;\n        &lt;/Style&gt;\n        &lt;Style TargetType=\"DataGridRow\"&gt;\n            &lt;Setter Property=\"Background\" Value=\"Transparent\"/&gt;\n            &lt;Setter Property=\"Focusable\" Value=\"False\"/&gt;\n            &lt;Setter Property=\"HorizontalAlignment\" Value=\"Right\"/&gt;\n        &lt;/Style&gt;\n        &lt;Style TargetType=\"DataGridCell\"&gt;\n            &lt;Setter Property=\"HorizontalAlignment\" Value=\"Right\"/&gt;\n            &lt;Style.Triggers&gt;\n            &lt;Trigger Property=\"IsSelected\" Value=\"True\"&gt;\n                &lt;Setter Property=\"Background\" Value=\"{x:Null}\"/&gt;\n                &lt;Setter Property=\"BorderBrush\" Value=\"{x:Null}\"/&gt;\n                &lt;Setter Property=\"Foreground\" Value=\"Transparent\"/&gt;\n            &lt;/Trigger&gt;\n        &lt;/Style.Triggers&gt;\n        &lt;/Style&gt;\n    &lt;/DataGrid.Resources&gt;\n    &lt;DataGrid.Columns&gt;\n        &lt;DataGridTextColumn Width=\"150\"  Binding=\"{Binding Identifyer}\"/&gt;\n        &lt;DataGridTextColumn Width=\"*\"  Binding=\"{Binding Denomination}\"/&gt;\n        &lt;DataGridTextColumn Width=\"*\"  Binding=\"{Binding Quantity}\"/&gt;\n        &lt;DataGridTextColumn Width=\"*\" Binding=\"{Binding MaxQuantity}\"/&gt;\n        &lt;DataGridTextColumn Width=\"*\"  Binding=\"{Binding TotalValue}\"/&gt;\n        &lt;!--&lt;DataGridTextColumn Width=\"*\" Binding=\"{Binding PercentFull}\"/&gt;--&gt;\n        &lt;DataGridTemplateColumn Width=\"200\" Visibility=\"Visible\"&gt;\n        &lt;DataGridTemplateColumn.CellTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;Grid&gt;\n                &lt;ProgressBar Name=\"pbCash\" Width=\"200\" Minimum=\"{Binding Path=PercentFullMin}\" Maximum=\"{Binding Path=PercentFullMax}\" Value=\"{Binding Path=PercentFull}\" Background=\"Transparent\" Foreground=\"DarkGreen\" IsIndeterminate=\"False\"/&gt;\n                &lt;TextBlock x:Name=\"tbProgress\" Text=\"{Binding Path=PercentFullText, StringFormat={}{0}%}\"  HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" Background=\"Transparent\" Foreground=\"White\"/&gt;\n            &lt;/Grid&gt;\n        &lt;/DataTemplate&gt;\n        &lt;/DataGridTemplateColumn.CellTemplate&gt;\n        &lt;/DataGridTemplateColumn&gt;\n    &lt;/DataGrid.Columns&gt;\n&lt;/DataGrid&gt;\n</code></pre>\n\n<p>C# </p>\n\n<pre><code>public List&lt;Recycler_Data&gt; items2 { get; set; } = new List&lt;Recycler_Data&gt;(); //This is being set at the very top of the class.\n\n\nforeach (var r in data.Recyclers)\n{\n    foreach (var c in r.Contents)\n    {\n        //Inserting Column Headers\n        dgViewData2.Columns[0].Header = $\"{item.Name}\";\n        dgViewData2.Columns[1].Header = \"Value\";\n        dgViewData2.Columns[2].Header = \"Qty\";\n        dgViewData2.Columns[3].Header = \"Max Qty\";\n        dgViewData2.Columns[4].Header = \"Total\";\n        dgViewData2.Columns[5].Header = \"Full\";\n        string pfTxt = Convert.ToString((Convert.ToDouble(c.Quantity) / Convert.ToDouble(data.Capacity) * 100).ToString(\"0.00\"));\n        items2.Add(new Recycler_Data()\n        {\n            Identifyer = r.Identifyer,\n            Denomination = c.Denomination.ToString().Remove(0, 3).Insert(0, \" $\"),\n            Quantity = c.Quantity,\n            MaxQuantity = item.Capacity,\n            TotalValue = r.TotalValue.ToString().Remove(0, 3).Insert(0, \" $\"),\n            PercentFullText = pfTxt,\n            PercentFull = (Convert.ToInt32(c.Quantity) / Convert.ToInt32(data.Capacity) * 100),\n            PercentFullMax = 100, \n            PercentFullMin = 0\n        });\n    }\n}\ndgViewData2.ItemSource = items2;\n</code></pre>\n\n<pre><code>public class Recycler_Data\n{\n    public string Identifyer { get; set; }\n    public string Denomination { get; set; }\n    public long Quantity { get; set; }\n    public object MaxQuantity { get; set; }\n    public string TotalValue { get; set; }\n    public string PercentFullText { get; set; }\n    public int PercentFull { get; set; }\n    public int PercentFullMax { get; set; }\n    public int PercentFullMin { get; set; }\n}\n</code></pre>\n\n<p>So what I'm expecting is for the progress bar to show whatever number gets passed through PercentFull (obviously within 0 to 100).</p>\n"}, {"tags": ["c#", ".net", "wpf", "web-services", "soap"], "comments": [{"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1568835628, "post_id": 57996521, "comment_id": 102405320, "body": "Why aren&#39;t you using web api and an inherently url based approach?"}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1568896604, "post_id": 57996521, "comment_id": 102426460, "body": "How are you currently calling the web service from your WPF application?"}, {"owner": {"reputation": 2034, "user_id": 4469739, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cU6sp.jpg?s=128&g=1", "display_name": "thmspl", "link": "https://stackoverflow.com/users/4469739/thmspl"}, "reply_to_user": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1568898578, "post_id": 57996521, "comment_id": 102427723, "body": "@Andy I thought the webservice approach would be the better one but I&#39;m a beginner with .NET could be that I&#39;ve chosen the wrong approach."}, {"owner": {"reputation": 2034, "user_id": 4469739, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cU6sp.jpg?s=128&g=1", "display_name": "thmspl", "link": "https://stackoverflow.com/users/4469739/thmspl"}, "reply_to_user": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1568898619, "post_id": 57996521, "comment_id": 102427749, "body": "@mm8 I&#39;m calling it like this: &quot;Service service = new Service()&quot; and then something like &quot;service.getObjects()&quot;."}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1568899037, "post_id": 57996521, "comment_id": 102428026, "body": "Do you have any endpoints configured in your <code>App.config</code> or where do you set up these?"}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 1, "creation_date": 1568904239, "post_id": 57996521, "comment_id": 102431306, "body": "Web api just has a url you&#39;re going to httppost get, put or delete to. They are rest. The url is just a string so it&#39;s trivial to switch out. An &quot;endpoint&quot; is just a public method on a public class inherits from controller. You use httplclient to call one. They are easy because they&#39;re simple. Web api is currently the recommended way to offer a web service for these reasons. Nobody uses soap if they can avoid it and wcf is deprecated. <a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/advanced/calling-a-web-api-from-a-net-client\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/web-api/overview/advanced/&hellip;</a>"}], "owner": {"reputation": 2034, "user_id": 4469739, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cU6sp.jpg?s=128&g=1", "display_name": "thmspl", "link": "https://stackoverflow.com/users/4469739/thmspl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568821501, "creation_date": 1568821501, "question_id": 57996521, "link": "https://stackoverflow.com/questions/57996521/how-can-i-change-the-url-of-a-soap-service-in-the-configuration-of-an-wpf-applic", "title": "How can I change the URL of a SOAP service in the configuration of an WPF application", "body": "<p>I've created a new solution with a webservice project and a WPF project in it. After that I've added the webservice reference to the WPF project. This works perfectly in visual studio and I'm able to display data on my WPF application which I've got from the webservice.</p>\n\n<p>Now is my question if I release my webservice to a server where in my WPF do I have to configure the URL of my webservice?</p>\n\n<p>I've already tried the stuff of the following stackoverflow question\u2019s, but nothing worked:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5036308/dynamically-switch-wcf-web-service-reference-url-path-through-config-file\">Dynamically switch WCF Web Service Reference URL path through config file</a>\n- My service class doesn't have an Endpoint property which I could use.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/34563907/how-to-change-web-service-address-at-runtime\">How to Change Web service Address at Runtime?</a>\n- My service class also doesn't have an URL property which I could change.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3703844/consume-a-soap-web-service-without-relying-on-the-app-config\">Consume a SOAP web service without relying on the app.config</a>\n- I've added those lines in my config but it's still not connecting to an another webservice.</p>\n\n<hr>\n\n<p>What am I doing wrong? Or what am I not understanding? I'm new with .NET so i think this could be a beginner fail. Or is the usage of a SOAP Webservice in a WPF project not a good idea?</p>\n"}, {"tags": ["c#", "azure-functions", "azure-storage-account", "nagle"], "answers": [{"comments": [{"owner": {"reputation": 639, "user_id": 1566209, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/111f26569ccd9d8273def0084c88e74b?s=128&d=identicon&r=PG", "display_name": "FEST", "link": "https://stackoverflow.com/users/1566209/fest"}, "edited": false, "score": 0, "creation_date": 1568889088, "post_id": 58003692, "comment_id": 102422232, "body": "Hello @HariHaran, yes, this is what i could find but my question is: does this works even if i have my blob and table connection done via function bindings?"}], "tags": [], "owner": {"reputation": 2860, "user_id": 8368871, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/SQn6A.jpg?s=128&g=1", "display_name": "HariHaran", "link": "https://stackoverflow.com/users/8368871/hariharan"}, "is_accepted": false, "score": 1, "last_activity_date": 1568866999, "creation_date": 1568866999, "answer_id": 58003692, "question_id": 57996473, "link": "https://stackoverflow.com/questions/57996473/cazure-function-disable-nagles-algorithm-when-having-storage-account-bindi/58003692#58003692", "title": "(C#)Azure Function - Disable Nagle&#39;s algorithm when having storage account bindings", "body": "<p>The way to turn this off is by resetting the flag in <code>ServicePointManager</code>. The ServicePointManager is a .NET class that allows you to manage ServicePoint where each ServicePoint provides HTTP connection management. ServicePointManager also allows you to control settings like maximum connections, Expect 100, and Nagle for all ServicePoint instances. Therefore, if you want to turn Nagle off for just tables or just queues or just blobs in your application, you need to turn it off for the specific ServicePoint object in the ServicePointManager. Here is a code example for turning Nagle off for just the Queue and Table ServicePoints, but not Blob:</p>\n\n<pre><code>// cxnString = \"DefaultEndpointsProtocol=http;AccountName=myaccount;AccountKey=mykey\"\nCloudStorageAccount account = CloudStorageAccount.Parse(cxnString);\nServicePoint tableServicePoint = ServicePointManager.FindServicePoint(account.TableEndpoint);\ntableServicePoint.UseNagleAlgorithm = false;\nServicePoint queueServicePoint = ServicePointManager.FindServicePoint(account.QueueEndpoint);\nqueueServicePoint.UseNagleAlgorithm = false;\n</code></pre>\n\n<h3>For All blob/Table/Queue</h3>\n\n<p>you can just reset it at the very start of your application process by </p>\n\n<pre><code>// This sets it globally for all new ServicePoints\nServicePointManager.UseNagleAlgorithm = false; \n</code></pre>\n\n<p><strong>Important Read below :</strong></p>\n\n<p>Turning Nagle off should be considered for Table and Queue (and any protocol that deals with small sized messages). For large packet segments, Nagling does not have an impact since the segments will form a full packet and will not be withheld. But as always, we suggest that you test it for your data before turning Nagle off in production.</p>\n\n<p>Source : <a href=\"https://azure.microsoft.com/en-us/blog/azure-storage-performance-checklist/\" rel=\"nofollow noreferrer\">One</a> <a href=\"https://blogs.msdn.microsoft.com/windowsazurestorage/2010/06/25/nagles-algorithm-is-not-friendly-towards-small-requests/\" rel=\"nofollow noreferrer\">Two</a></p>\n"}, {"tags": [], "owner": {"reputation": 639, "user_id": 1566209, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/111f26569ccd9d8273def0084c88e74b?s=128&d=identicon&r=PG", "display_name": "FEST", "link": "https://stackoverflow.com/users/1566209/fest"}, "is_accepted": false, "score": 1, "last_activity_date": 1568899239, "creation_date": 1568899239, "answer_id": 58011992, "question_id": 57996473, "link": "https://stackoverflow.com/questions/57996473/cazure-function-disable-nagles-algorithm-when-having-storage-account-bindi/58011992#58011992", "title": "(C#)Azure Function - Disable Nagle&#39;s algorithm when having storage account bindings", "body": "<p>So my finding is that we should use HariHaran's answer (section \"For All blob/Table/Queue\") in the function static constructor. Not sure this is the best way but it seems to have worked for me.</p>\n\n<pre><code>public static class SampleFunction\n{\n    static SampleFunction()\n    {\n        ServicePointManager.UseNagleAlgorithm = false;\n    }\n\n    [FunctionName(\"SampleFunctionOperation1\")]\n    public static async Task&lt;IActionResult&gt; Operation1...\n\n}\n</code></pre>\n"}], "owner": {"reputation": 639, "user_id": 1566209, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/111f26569ccd9d8273def0084c88e74b?s=128&d=identicon&r=PG", "display_name": "FEST", "link": "https://stackoverflow.com/users/1566209/fest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1568899239, "creation_date": 1568821319, "question_id": 57996473, "link": "https://stackoverflow.com/questions/57996473/cazure-function-disable-nagles-algorithm-when-having-storage-account-bindi", "title": "(C#)Azure Function - Disable Nagle&#39;s algorithm when having storage account bindings", "body": "<p>Everywhere i see, to disable nagle's algorithm, you can do it by service point after creating the storage account client. I have also read in several places that this only works if you do it before the first request.</p>\n\n<p>In my case, my function (v2) uses bindings to storage account (both blob and table). So that means the first connection is done my the function and not my code so i'm wondering how i can disable this nagle's algorithm. Is there a setting for functions?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "switch-statement", "helper"], "comments": [{"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 4, "creation_date": 1568821265, "post_id": 57996436, "comment_id": 102399355, "body": "Take a look at a pattern matching switch statement: <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/pattern-matching\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/pattern-matching</a>.  It will make your code slightly better - no more type strings."}], "answers": [{"tags": [], "owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "is_accepted": true, "score": 1, "last_activity_date": 1568845442, "creation_date": 1568845442, "answer_id": 58001453, "question_id": 57996436, "link": "https://stackoverflow.com/questions/57996436/better-way-to-improve-my-helper-with-switch-statement/58001453#58001453", "title": "Better way to improve my helper with switch statement", "body": "<p>It's the end of the day, I thought I'd flesh out my comment.  This is what I meant by a <em>\"pattern matching switch statement\"</em>:</p>\n\n<pre><code> switch (widget)\n {\n     case Donut donut: @RenderGrid(donut);\n         break;\n     case Grid grid: @RenderGrid(grid);\n         break;\n     //etc.\n }\n</code></pre>\n\n<p>It's ever so slightly cleaner - but it is easier to read.</p>\n"}], "owner": {"reputation": 139, "user_id": 11935837, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YKuWXJObVnw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcqJ2l99oVFcvAPdfYdQdo2EM73oQ/photo.jpg?sz=128", "display_name": "Alexander Groshev", "link": "https://stackoverflow.com/users/11935837/alexander-groshev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 58001453, "answer_count": 1, "score": 0, "last_activity_date": 1568845442, "creation_date": 1568821174, "question_id": 57996436, "link": "https://stackoverflow.com/questions/57996436/better-way-to-improve-my-helper-with-switch-statement", "title": "Better way to improve my helper with switch statement", "body": "<p>I have html helper, that get widget object from the List and then renders it into html code:</p>\n\n<pre><code>@helper RenderWidgetByType(Widget widget)\n{\n\n    @RenderWidgetHeader(widget.Header);\n    switch (widget.Type)\n    {\n        case \"Table\": @RenderGrid((Grid)widget); break;\n\n        case \"Donut\": @RenderDonut((Donut)widget);break;\n    }\n\n}\n</code></pre>\n\n<p>I have this classes:</p>\n\n<pre><code>public class Widget{}\n\npublic interface IWidget&lt;T&gt;{}\n\npublic class Grid : Widget{}\n\npublic class Grid&lt;T&gt; : Grid, IWidget&lt;T&gt;\n\npublic class Donut: Widget{}\n\npublic class Donut&lt;T&gt; : Donut, IWidget&lt;T&gt;\n</code></pre>\n\n<p>and all my widgets goes inside List Widgets, where after in foreach loop i work with each widget.</p>\n\n<p>This code works fine. But I believe, there is a better way to do this. I don't see the solution at the moment, is there any way to improve my code somehow? </p>\n"}, {"tags": ["c#", "types"], "comments": [{"owner": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "edited": false, "score": 0, "creation_date": 1568821121, "post_id": 57996397, "comment_id": 102399281, "body": "Would <code>List&lt;Media&lt;object&gt;&gt;</code> work?"}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1568821200, "post_id": 57996397, "comment_id": 102399313, "body": "The most &quot;generic&quot; type would be <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.object?view=netframework-4.8\" rel=\"nofollow noreferrer\">System.Object</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12011474"}, "reply_to_user": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "edited": false, "score": 0, "creation_date": 1568821436, "post_id": 57996397, "comment_id": 102399456, "body": "When I use it, I get this error: Argument 1: cannot convert from &#39;Media&lt;Image&gt;&#39; to &#39;Media&lt;object&gt; This is the code I use to add it: track.Content.Add(new Media&lt;Image&gt;()); @dvo"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12011474"}, "reply_to_user": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1568821574, "post_id": 57996397, "comment_id": 102399539, "body": "That does not work either @paulsm4"}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1568821599, "post_id": 57996397, "comment_id": 102399552, "body": "Your problem is not creating a type that \u201ccan hold anything available\u201d, it is that you don&#39;t know what types your list contains. Just because you don&#39;t know what types they are does not mean they can be \u201canything available\u201d. You need to find out what types they actually are and create a list that can hold those types. The type system is there to do that for you, trying to circumvent it will not achieve what you are trying to do."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12011474"}, "reply_to_user": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1568821860, "post_id": 57996397, "comment_id": 102399715, "body": "Actually @DourHighArch I need the List to be able to contain a couple of things, Media&lt;Callout&gt;, Media&lt;Image&gt;, Media&lt;Text&gt;, and so on. I just don&#39;t know how to achieve that."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12011474"}, "edited": false, "score": 0, "creation_date": 1568822610, "post_id": 57996640, "comment_id": 102400101, "body": "I don&#39;t know how to implement that."}, {"owner": {"reputation": 675, "user_id": 10509640, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SSEe2Qy_9R0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX6AjzcpVs7WMIlnQhePVVdiYZoGQ/mo/photo.jpg?sz=128", "display_name": "Daniel Crha", "link": "https://stackoverflow.com/users/10509640/daniel-crha"}, "edited": false, "score": 0, "creation_date": 1568822819, "post_id": 57996640, "comment_id": 102400210, "body": "Which part specifically are you not sure about?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12011474"}, "edited": false, "score": 0, "creation_date": 1568823175, "post_id": 57996640, "comment_id": 102400366, "body": "I don&#39;t how interfaces work, so I&#39;m going to get into some research."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12011474"}, "edited": false, "score": 0, "creation_date": 1568828034, "post_id": 57996640, "comment_id": 102402272, "body": "It&#39;s working fine now, Thank You so much for the answer :). I could of spent days researching."}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1568833698, "post_id": 57996640, "comment_id": 102404580, "body": "Excellent answer!  ALSO: I was unfamiliar with the C# <code>out</code> keyword in the context of &quot;covariance&quot;: <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/out-generic-modifier\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/language-reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 675, "user_id": 10509640, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SSEe2Qy_9R0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX6AjzcpVs7WMIlnQhePVVdiYZoGQ/mo/photo.jpg?sz=128", "display_name": "Daniel Crha", "link": "https://stackoverflow.com/users/10509640/daniel-crha"}, "is_accepted": true, "score": 2, "last_activity_date": 1568821949, "creation_date": 1568821949, "answer_id": 57996640, "question_id": 57996397, "link": "https://stackoverflow.com/questions/57996397/how-do-i-create-a-list-of-a-type-that-can-hold-anything-available/57996640#57996640", "title": "How do I create a list of a type that can hold anything available?", "body": "<p>As paulsm4 mentioned in a comment, if you want truly <em>anything</em>, you could use a <code>List&lt;Media&lt;object&gt;&gt;</code>. The issue you were having with <code>track.Content.Add(new Media&lt;Image&gt;())</code> has to do with <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/generics/covariance-and-contravariance\" rel=\"nofollow noreferrer\">covariance</a>, which is quite an advanced concept. The TL;DR is that if you change</p>\n\n<pre><code>class Media&lt;T&gt;\n{\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>class Media&lt;out T&gt;\n{\n}\n</code></pre>\n\n<p>then it will work.</p>\n\n<p>However, I don't believe that's the answer you really need. Surely there must be <em>some</em> constraint on the things you can have in a <code>Media</code> object. Therefore the solution would be to create an interface like <code>IMediaContent</code> and require all things that can be in Media to implement it. Then you would declare Media as </p>\n\n<pre><code>class Media&lt;T&gt; where T : IMediaContent\n{\n}\n</code></pre>\n\n<p>Edit: I just read your new comment about only requiring <code>Callout</code>, <code>Image</code>, <code>Text</code> and so on. I would then declare these classes like </p>\n\n<pre><code>class Callout : IMediaContent\n{\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12011474"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 57996640, "answer_count": 1, "score": 1, "last_activity_date": 1568821949, "creation_date": 1568821001, "question_id": 57996397, "link": "https://stackoverflow.com/questions/57996397/how-do-i-create-a-list-of-a-type-that-can-hold-anything-available", "title": "How do I create a list of a type that can hold anything available?", "body": "<p>I'm not sure how to put my problem into words, but I'll try my best by showing the code and what the app should do.</p>\n\n<p>I'm creating an app that can create a video by creating a JSON file. This file will be opened with Camtasia.</p>\n\n<p>I have this class:</p>\n\n<pre><code>class Track\n{\n    public string Name { get; set; }\n    public bool IsLocked { get; set; } = false;\n    public List&lt;Media&lt;Callout&gt;&gt; Content { get; set; }\n}\n</code></pre>\n\n<p>And Media is in this file:</p>\n\n<pre><code>class Media&lt;T&gt;\n{\n}\n\nclass Callout\n{\n}\n</code></pre>\n\n<p>My problem is the List in the Track Class cannot only contain Media.\nI'll need extra things such as Media or Media</p>\n\n<p>What I want to do is let Content be a list of Media and Media can contain anything inside it.</p>\n\n<p>I hope my question is clear, if not, I'm willing to provide additional information or code.</p>\n"}, {"tags": ["c#", ".net", "sql-server", "stored-procedures"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1568822005, "post_id": 57996348, "comment_id": 102399793, "body": "Look at connection string.  You may be connected to a different MDF file."}, {"owner": {"reputation": 11, "user_id": 3116050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db909ece6a414cbc2223e5b9d014d57a?s=128&d=identicon&r=PG&f=1", "display_name": "user3116050", "link": "https://stackoverflow.com/users/3116050/user3116050"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1568884532, "post_id": 57996348, "comment_id": 102419765, "body": "I&#39;ve checked and i&#39;m not connected to a different mdf file."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1568884817, "post_id": 57996348, "comment_id": 102419915, "body": "The SQL is using table sys.dm_exec_procedure_stats while the stored procedure is using table TABLE."}, {"owner": {"reputation": 11, "user_id": 3116050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db909ece6a414cbc2223e5b9d014d57a?s=128&d=identicon&r=PG&f=1", "display_name": "user3116050", "link": "https://stackoverflow.com/users/3116050/user3116050"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1568887672, "post_id": 57996348, "comment_id": 102421479, "body": "I compared the last_elapsed_time and total_elapsed_time between executing the query in management studio and in code. both show the same time. Also, I created a new project using the same connection string and settings and it shows one count. I thought maybe issue with my code. so I used the sql profiler and it shows that the stored procedure has been executed once and the sys.dm_exec_proedure_stats show 10 times."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1568887900, "post_id": 57996348, "comment_id": 102421601, "body": "Did you run the stored procedure from SQL Server Management Studio?"}, {"owner": {"reputation": 11, "user_id": 3116050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db909ece6a414cbc2223e5b9d014d57a?s=128&d=identicon&r=PG&f=1", "display_name": "user3116050", "link": "https://stackoverflow.com/users/3116050/user3116050"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1568888044, "post_id": 57996348, "comment_id": 102421687, "body": "Yes, I did and it shows 1 count."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1568890907, "post_id": 57996348, "comment_id": 102423226, "body": "The only time I see issuers like this is if the wrong database is being used, or the WHERE in one case is using an integer for ID and another case using a string."}], "owner": {"reputation": 11, "user_id": 3116050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db909ece6a414cbc2223e5b9d014d57a?s=128&d=identicon&r=PG&f=1", "display_name": "user3116050", "link": "https://stackoverflow.com/users/3116050/user3116050"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568821916, "creation_date": 1568820791, "last_edit_date": 1568821916, "question_id": 57996348, "link": "https://stackoverflow.com/questions/57996348/sys-dm-exec-procedure-stats-table-showing-incorrect-execution-count-when-executi", "title": "sys.dm_exec_procedure_stats table showing incorrect execution count when executing stored procedure in c#", "body": "<p>I'm trying to execute a stored procedure in C# and when I select <code>sys.dm_exec_procedure_stats</code>, it shows that the code ran the query 10 times. I debugged my code and I used <code>DBCC FREEPROCCACHE</code> and <code>DBCC DROPCLEANBUFFERS</code> to clear SQL cache before execute the query again and after I step into <code>command.ExecuteReader()</code>, I executed the query below</p>\n\n<pre><code>SELECT TOP 50 \n    d.object_id,\n    d.database_id,\n    OBJECT_NAME(object_id, database_id) As 'Name',\n    d.cached_time,\n    d.last_execution_time,\n    d.last_worker_time,\n    d.total_elapsed_time,\n    d.total_worker_time,\n    d.total_elapsed_time / d.execution_count AS [avg_elapsed_time],\n    d.last_elapsed_time,\n    d.execution_count\nFROM\n    sys.dm_exec_procedure_stats AS d\nWHERE \n    d.database_id = DB_ID()\n</code></pre>\n\n<p>It showed that the code executed the stored procedure 10 times.</p>\n\n<p>I checked my code and I'm 100% sure that there isn't any code calling this stored procedure.</p>\n\n<p>I tried to execute the stored procedure in SQL Server 2012 Management Studio then ran the query above and it showed one execution count</p>\n\n<p>I'm using .Net framework 4.7.2, SQL Server 2008 R2 and Hangfire.</p>\n\n<pre><code>        using (SqlConnection connection = new SqlConnection(ConnectionString))\n        {\n            connection.Open();\n            SqlCommand command = new SqlCommand(\"[dbo].[Test_Select]\", connection);\n            command.Parameters.AddWithValue(\"@Number\", number);\n            command.CommandType = CommandType.StoredProcedure;\n\n            using (SqlDataReader Reader = command.ExecuteReader())\n            {\n                while (Reader.Read())\n                {\n</code></pre>\n\n<p>My stored procedure is really simple.</p>\n\n<pre><code>SELECT col\nFROM TABLE\nWHERE number = @number\n</code></pre>\n\n<p>Any help or advise would be appreciated.</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 2141, "user_id": 2029607, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/721e7dc1d51f729a9e59f50ed9094d6c?s=128&d=identicon&r=PG", "display_name": "XAMlMAX", "link": "https://stackoverflow.com/users/2029607/xamlmax"}, "edited": false, "score": 0, "creation_date": 1568824207, "post_id": 57996324, "comment_id": 102400790, "body": "Instead of handling a mutex you could use a simple <code>lock(){}</code>. Freezing means it is now thread safe, what thread is the call back on, is it UI or background?"}, {"owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "reply_to_user": {"reputation": 2141, "user_id": 2029607, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/721e7dc1d51f729a9e59f50ed9094d6c?s=128&d=identicon&r=PG", "display_name": "XAMlMAX", "link": "https://stackoverflow.com/users/2029607/xamlmax"}, "edited": false, "score": 0, "creation_date": 1568824297, "post_id": 57996324, "comment_id": 102400834, "body": "The callback in background."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1562155"}, "edited": false, "score": 3, "creation_date": 1568831176, "post_id": 57996324, "comment_id": 102403511, "body": "Could it be that the timer ticks more than once per image frame and sees a <code>ClassA.bGotFrame</code> as <code>true</code> for the same frame - and then tries to make two or more images with the same memory image? Maybe try to set <code>bGotFrame = false;</code>in <code>getFrame()</code>?"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 1, "creation_date": 1568909776, "post_id": 57996324, "comment_id": 102434194, "body": "I would also suggest not to create a new BitmapSource for each frame. Instead, assign a single WriteableBitmap once to the Image&#39;s Source property, then repeatedly update its BackBuffer property: <a href=\"https://stackoverflow.com/a/12587470/1136211\">stackoverflow.com/a/12587470/1136211</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4028, "user_id": 1721136, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9b4f8ad672610e3b4d2b2b47f52cb527?s=128&d=identicon&r=PG", "display_name": "Bill Tarbell", "link": "https://stackoverflow.com/users/1721136/bill-tarbell"}, "is_accepted": false, "score": -1, "last_activity_date": 1568879966, "creation_date": 1568879966, "answer_id": 58006361, "question_id": 57996324, "link": "https://stackoverflow.com/questions/57996324/updating-a-wpf-image-source-from-a-threaded-callback-in-a-c-dll/58006361#58006361", "title": "Updating a WPF image source from a threaded callback in a c++ dll", "body": "<p>I had a somewhat similar situation and ended up with the following approach. Perhaps doing the ImageSource conversion with GDI cleanup will help you.</p>\n\n<p>Xaml:</p>\n\n<pre><code>&lt;Image DockPanel.Dock=\"Left\" Source=\"{Binding AssistantLogo}\"\n       RenderOptions.BitmapScalingMode=\"NearestNeighbor\" UseLayoutRounding=\"True\"\n       Width=\"{Binding RelativeSource={RelativeSource Self}, Path=Source.PixelWidth}\" \n       Height=\"{Binding RelativeSource={RelativeSource Self}, Path=Source.PixelHeight}\"/&gt;\n</code></pre>\n\n<p>ViewModel:</p>\n\n<pre><code>if (Patient.ContainsMeaningfulData(applicationState.Patient))\n  _viewModel.AssistantLogo = bitmap1.ToImageSource();\nelse\n  _viewModel.AssistantLogo = bitmap2.ToImageSource();\n</code></pre>\n\n<p>Extension method:</p>\n\n<pre><code>using System.Windows;\nusing System.Windows.Interop;\nusing System.Windows.Media;\nusing System.Windows.Media.Imaging;\n\n    /// &lt;summary&gt;\n    /// Convert a winforms image to a wpf-usable imageSource\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"bitmap\"&gt;winforms image&lt;/param&gt;\n    /// &lt;returns&gt;wpf imageSource object&lt;/returns&gt;\n    public static ImageSource ToImageSource(this System.Drawing.Bitmap bitmap)\n    {\n      var hbitmap = bitmap.GetHbitmap();\n      try\n      {\n        var imageSource = Imaging.CreateBitmapSourceFromHBitmap(hbitmap, IntPtr.Zero, Int32Rect.Empty, BitmapSizeOptions.FromWidthAndHeight(bitmap.Width, bitmap.Height));\n\n        return imageSource;\n      }\n      finally\n      {\n        Gdi32.DeleteObject(hbitmap);\n      }\n    }\n</code></pre>\n"}], "owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1568879966, "creation_date": 1568820709, "question_id": 57996324, "link": "https://stackoverflow.com/questions/57996324/updating-a-wpf-image-source-from-a-threaded-callback-in-a-c-dll", "title": "Updating a WPF image source from a threaded callback in a c++ dll", "body": "<p>I have a c++ dll that connects to a webcam. I am trying to call these frames into a c# wpf application for display.</p>\n\n<p>I have a thread that runs in the dll and sends the data back via a callback, as below: The <code>Updated</code> function is called every new frame, and updates the <code>zedframe</code> data;</p>\n\n<pre><code>// class A\n//callback from a c++ dll.\n        public IntPtr zedFrame;\n        public Mutex mutex = new Mutex();\n        public bool bGotFrame = false;\n\n public event EventHandler Updated;\n\n        protected virtual void Updated(EventArgs e, IntPtr frame)\n        {\n\n            mutex.WaitOne();   // Wait until it is safe to enter.  \n            zedFrame = frame;\n            mutex.ReleaseMutex();    // Release the Mutex.\n\n            bGotFrame = true;\n\n        }\n</code></pre>\n\n<p>In the same class, i have this function that 'should' grab the frame data in a thread safe way.</p>\n\n<pre><code>public IntPtr getFrame()\n        {\n            IntPtr tmp;\n            mutex.WaitOne();   // Wait until it is safe to enter.  \n            tmp = zedFrame;\n            mutex.ReleaseMutex();    // Release the Mutex.\n\n            return tmp;\n        }\n</code></pre>\n\n<p>In a wpf form, I have an image:</p>\n\n<pre><code> &lt;Grid&gt;\n        &lt;Image Name=\"ImageCameraFrame\" Margin=\"5,5,5,5\" MouseDown=\"GetImageCoordsAt\"/&gt;       \n    &lt;/Grid&gt;\n</code></pre>\n\n<p>and in the cs for the form, I have a <code>DispatcherTimer</code></p>\n\n<p>//in the image form .xaml.cs</p>\n\n<pre><code> var timer = new DispatcherTimer\n                {\n                    Interval = TimeSpan.FromMilliseconds(100)\n                };\n\n                timer.Tick += Timer_Tick;\n\n                 private void Timer_Tick(object sender, EventArgs e)\n        {\n            if (ClassA.bGotFrame == true)\n            {\n                var data = ClassA.getFrame();\n                var width = 1280;\n                var height = 720;\n                var stride = 3 * width;\n                var bitmap = BitmapSource.Create(width, height, 96, 96,\n                    PixelFormats.Rgb24, null, data, stride * height, stride);\n                bitmap.Freeze();\n\n\n                ImageCameraFrame.Source = bitmap;\n\n            }\n\n        }\n</code></pre>\n\n<p>When I run this, it connects, shows a single frame, and then crashes the application. \nI am freezing the bitmap, and using a mutex. \nWhat am i doing wrong?</p>\n\n<p>Is it possible to bind the Image source to a variable in another class, updated in another thread? Or do I need the timer?</p>\n"}, {"tags": ["javascript", "c#", "jquery", "ajax"], "comments": [{"owner": {"reputation": 42804, "user_id": 2181397, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/616931b5c5ba8790a191fa6aea465c65?s=128&d=identicon&r=PG", "display_name": "brk", "link": "https://stackoverflow.com/users/2181397/brk"}, "edited": false, "score": 0, "creation_date": 1568820006, "post_id": 57996088, "comment_id": 102398615, "body": "what is the reason of setTimeout"}, {"owner": {"reputation": 43, "user_id": 5236692, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153197612228789/picture?type=large", "display_name": "Kyle D. Fiala", "link": "https://stackoverflow.com/users/5236692/kyle-d-fiala"}, "reply_to_user": {"reputation": 42804, "user_id": 2181397, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/616931b5c5ba8790a191fa6aea465c65?s=128&d=identicon&r=PG", "display_name": "brk", "link": "https://stackoverflow.com/users/2181397/brk"}, "edited": false, "score": 0, "creation_date": 1568820088, "post_id": 57996088, "comment_id": 102398661, "body": "@brk, this is just an inhouse thing we use if something is taking too long, this should have no baring on the chart. The page loads within a second."}, {"owner": {"reputation": 43, "user_id": 5236692, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153197612228789/picture?type=large", "display_name": "Kyle D. Fiala", "link": "https://stackoverflow.com/users/5236692/kyle-d-fiala"}, "reply_to_user": {"reputation": 42804, "user_id": 2181397, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/616931b5c5ba8790a191fa6aea465c65?s=128&d=identicon&r=PG", "display_name": "brk", "link": "https://stackoverflow.com/users/2181397/brk"}, "edited": false, "score": 0, "creation_date": 1568821078, "post_id": 57996088, "comment_id": 102399256, "body": "@brk, I also just tested this by removing the Timeout function. It had no affect. Till crazy drawing."}], "answers": [{"comments": [{"owner": {"reputation": 640, "user_id": 3935050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Zq5E.jpg?s=128&g=1", "display_name": "DetectivePikachu", "link": "https://stackoverflow.com/users/3935050/detectivepikachu"}, "edited": false, "score": 0, "creation_date": 1568821953, "post_id": 57996597, "comment_id": 102399757, "body": "Error - Uncaught Reference: getDayOfTheWeek is not defined"}, {"owner": {"reputation": 43, "user_id": 5236692, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153197612228789/picture?type=large", "display_name": "Kyle D. Fiala", "link": "https://stackoverflow.com/users/5236692/kyle-d-fiala"}, "edited": false, "score": 0, "creation_date": 1568822523, "post_id": 57996597, "comment_id": 102400064, "body": "This is actually a correct observation that is should be a single array, but i&#39;m most definitely not sending multiple arrays, the manual format in which you placed the array in your example is how the array is being provided. I&#39;ve found the solution, and will answer the question in a moment."}], "tags": [], "owner": {"reputation": 42804, "user_id": 2181397, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/616931b5c5ba8790a191fa6aea465c65?s=128&d=identicon&r=PG", "display_name": "brk", "link": "https://stackoverflow.com/users/2181397/brk"}, "is_accepted": false, "score": 0, "last_activity_date": 1568821796, "creation_date": 1568821796, "answer_id": 57996597, "question_id": 57996088, "link": "https://stackoverflow.com/questions/57996088/my-highchart-is-displaying-drawing-my-data-sporadically-instead-of-in-a-clean/57996597#57996597", "title": "My Highchart is displaying (drawing) my data sporadically, instead of in a clean line left to right", "body": "<p>For line chart you need all the data in a single array. Seem you have multiple array so it is plotting multiple line. In this example I have used <code>flat</code> to convert array of arrays to single array</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let data = [\r\n  [1561075200000, 144],\r\n  [1561161600000, 144],\r\n  [1561248000000, 144],\r\n  [1561334400000, 144],\r\n  [1561420800000, 144],\r\n  [1561507200000, 144],\r\n  [1561593600000, 144],\r\n  [1561680000000, 154],\r\n  [1561766400000, 154],\r\n  [1561852800000, 155],\r\n  [1561939200000, 155],\r\n  [1562025600000, 155],\r\n  [1562112000000, 155],\r\n  [1562198400000, 155],\r\n  [1562284800000, 155],\r\n  [1562371200000, 155],\r\n  [1562457600000, 155],\r\n  [1562544000000, 155],\r\n  [1562630400000, 155],\r\n  [1562716800000, 155],\r\n  [1562803200000, 155],\r\n  [1562889600000, 155],\r\n  [1562976000000, 155],\r\n  [1563062400000, 155],\r\n  [1563321600000, 155],\r\n  [1563408000000, 155],\r\n  [1563494400000, 155],\r\n  [1563580800000, 155],\r\n  [1563667200000, 155],\r\n  [1563753600000, 155],\r\n  [1563840000000, 155],\r\n  [1563926400000, 155],\r\n  [1564012800000, 155],\r\n  [1564099200000, 155],\r\n  [1564185600000, 155],\r\n  [1564272000000, 155],\r\n  [1564358400000, 155],\r\n  [1564444800000, 155],\r\n  [1564531200000, 156],\r\n  [1564617600000, 156],\r\n  [1564704000000, 156],\r\n  [1564790400000, 156],\r\n  [1564876800000, 156],\r\n  [1564963200000, 156],\r\n  [1565049600000, 156],\r\n  [1565136000000, 156],\r\n  [1565222400000, 156],\r\n  [1565308800000, 156],\r\n  [1565395200000, 156],\r\n  [1565481600000, 156],\r\n  [1565568000000, 156],\r\n  [1565654400000, 156],\r\n  [1565740800000, 156],\r\n  [1565827200000, 156],\r\n  [1565913600000, 156],\r\n  [1566000000000, 156],\r\n  [1566086400000, 156],\r\n  [1566172800000, 156],\r\n  [1566259200000, 157],\r\n  [1566345600000, 157],\r\n  [1566432000000, 157],\r\n  [1566518400000, 157],\r\n  [1566604800000, 157],\r\n  [1566777600000, 314],\r\n  [1566864000000, 314],\r\n  [1566950400000, 157],\r\n  [1567036800000, 158],\r\n  [1567555200000, 159],\r\n  [1567641600000, 159],\r\n  [1567728000000, 159],\r\n  [1567814400000, 158],\r\n  [1567900800000, 158],\r\n  [1567987200000, 158],\r\n  [1568073600000, 158],\r\n  [1568160000000, 159],\r\n  [1568246400000, 160],\r\n  [1568332800000, 159],\r\n  [1568419200000, 159],\r\n  [1568505600000, 159],\r\n  [1568592000000, 159],\r\n  [1568678400000, 159],\r\n  [1568764800000, 159]\r\n]\r\n\r\nlet processedAcbsArray = data.flat();\r\n\r\nvar chart = new Highcharts.Chart({\r\n  chart: {\r\n    plotBackgroundColor: null,\r\n    plotBorderWidth: 0,\r\n    plotShadow: false,\r\n    renderTo: \"acb-chart\",\r\n    type: \"line\",\r\n    zoomType: \"x\"\r\n  },\r\n  credits: {\r\n    enabled: false\r\n  },\r\n  exporting: {\r\n    enabled: false\r\n  },\r\n  legend: {\r\n    enabled: false\r\n  },\r\n  title: {\r\n    text: null\r\n  },\r\n  xAxis: {\r\n    type: \"datetime\",\r\n    dateTimeLabelFormats: {\r\n      month: \"%b '%y\"\r\n    },\r\n    tickInterval: 24 * 3600 * 1000 * 30\r\n  },\r\n  yAxis: {\r\n    title: {\r\n      enabled: false\r\n    },\r\n    labels: {\r\n      formatter: function() {\r\n        return this.value / 1000000 + \" Million\";\r\n      }\r\n    },\r\n    opposite: true\r\n  },\r\n  plotOptions: {\r\n    series: {\r\n      dataLabels: {\r\n        enabled: false,\r\n        y: 0\r\n      }\r\n    },\r\n    line: {\r\n      marker: {\r\n        enabled: true,\r\n        symbol: \"circle\",\r\n        radius: 4,\r\n        states: {\r\n          hover: {\r\n            enabled: true\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  tooltip: {\r\n    formatter: function() {\r\n      var date = new Date(this.x);\r\n      return getDayOfTheWeek(date.getDay()) + \", \" + getMonth(date.getMonth()) + \" \" + date.getDate() + \"&lt;br/&gt;Count: \" + this.y;\r\n    },\r\n    shared: true\r\n  },\r\n  series: [{\r\n    name: \"ACB Metric\",\r\n    type: \"line\",\r\n    color: \"#449d44\",\r\n    data: processedAcbsArray\r\n  }]\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://code.highcharts.com/highcharts.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://code.highcharts.com/modules/series-label.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://code.highcharts.com/modules/exporting.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://code.highcharts.com/modules/export-data.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"acb-chart\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 5236692, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153197612228789/picture?type=large", "display_name": "Kyle D. Fiala", "link": "https://stackoverflow.com/users/5236692/kyle-d-fiala"}, "is_accepted": true, "score": 1, "last_activity_date": 1568822703, "creation_date": 1568822703, "answer_id": 57996815, "question_id": 57996088, "link": "https://stackoverflow.com/questions/57996088/my-highchart-is-displaying-drawing-my-data-sporadically-instead-of-in-a-clean/57996815#57996815", "title": "My Highchart is displaying (drawing) my data sporadically, instead of in a clean line left to right", "body": "<p><a href=\"https://i.stack.imgur.com/ueqSn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ueqSn.png\" alt=\"enter image description here\"></a>Well, this is quite embarrassing but once I provided the arrays in the question. I noticed the timestamps..............</p>\n\n<p>Well, they are not in order...</p>\n\n<p>The chart plots points sequentially based on the order of my array. So I simply sorted the array by time stamp and voila ... Comes out correctly:</p>\n\n<pre><code>processedJson = processedJson.sort(function(timeStamp, count) {\n            if (timeStamp[0] === count[0]) {\n                return 0;\n            }\n            else\n            {\n                return (timeStamp[0] &lt; count[0]) ? -1 : 1;\n            }\n        });\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5236692, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153197612228789/picture?type=large", "display_name": "Kyle D. Fiala", "link": "https://stackoverflow.com/users/5236692/kyle-d-fiala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 57996815, "answer_count": 2, "score": 1, "last_activity_date": 1568822703, "creation_date": 1568819898, "question_id": 57996088, "link": "https://stackoverflow.com/questions/57996088/my-highchart-is-displaying-drawing-my-data-sporadically-instead-of-in-a-clean", "title": "My Highchart is displaying (drawing) my data sporadically, instead of in a clean line left to right", "body": "<p>I'm trying to take an 2D array [timestamp, count] and display it on a highchart for 90 days from left to right. The problem I'm having is the chart seems to be displaying this just completely sporadically. This is working with a smaller data set but when I introduce it to prod data it does this.</p>\n\n<p>Verified timestamps are correct.\nVerified that I'm passing my Array correctly in the Highchart initializer.</p>\n\n<pre><code>// Hichchart Initializer\nvar getAcbsOverLastNinetyDays = function () {\n        $.ajax({\n            url: \"/Home/ActualCashBalanceOverNinetyDays\",\n            success: function (data) {\n                var processedAcbsArray = processAcbs(data.acbs);\n                // Create Highchart using ProcessedAcbsArray\n                setTimeout(function () {\n                        var chart = new Highcharts.Chart({\n                            chart: {\n                                plotBackgroundColor: null,\n                                plotBorderWidth: 0,\n                                plotShadow: false,\n                                renderTo: \"acb-chart\",\n                                type: \"line\",\n                                zoomType: \"x\"\n                            },\n                            credits: {\n                                enabled: false\n                            },\n                            exporting: {\n                                enabled: false\n                            },\n                            legend: {\n                                enabled: false\n                            },\n                            title: {\n                                text: null\n                            },\n                            xAxis: {\n                                type: \"datetime\",\n                                dateTimeLabelFormats: {\n                                    month: \"%b '%y\"\n                                },\n                                tickInterval: 24 * 3600 * 1000 * 30\n                            },\n                            yAxis: {\n                                title: {\n                                    enabled: false\n                                },\n                                labels: {\n                                    formatter: function() {\n                                        return this.value / 1000000 + \" Million\";\n                                    }\n                                },\n                                opposite: true\n                            },\n                            plotOptions: {\n                                series: {\n                                    dataLabels: {\n                                        enabled: false,\n                                        y: 0\n                                    }\n                                },\n                                line: {\n                                    marker: {\n                                        enabled: true,\n                                        symbol: \"circle\",\n                                        radius: 4,\n                                        states: {\n                                            hover: {\n                                                enabled: true\n                                            }\n                                        }\n                                    }\n                                }\n                            },\n                            tooltip: {\n                                formatter: function () {\n                                    var date = new Date(this.x);\n                                    return getDayOfTheWeek(date.getDay()) + \", \" + getMonth(date.getMonth()) + \" \" + date.getDate() + \"&lt;br/&gt;Count: \" + this.y ;\n                                },\n                                shared: true\n                            },\n                            series: [\n                                {\n                                    name: \"ACB Metric\",\n                                    type: \"line\",\n                                    color: \"#449d44\",\n                                    data: processedAcbsArray\n                                }\n                            ]\n                        });\n                }, 500);\n            }\n        });\n    }\n\n// Exact Array I'm passing (processedAcbsArray):\n0: (2) [1561852800000, 1178820]\n1: (2) [1562544000000, 1175922]\n2: (2) [1566000000000, 1197105]\n3: (2) [1561420800000, 1174743]\n4: (2) [1564876800000, 1188984]\n5: (2) [1564963200000, 1188888]\n6: (2) [1566259200000, 1197595]\n7: (2) [1561593600000, 1176852]\n8: (2) [1561766400000, 1178268]\n9: (2) [1563321600000, 1181110]\n10: (2) [1563753600000, 1183704]\n11: (2) [1564617600000, 1188362]\n12: (2) [1565395200000, 1194474]\n13: (2) [1568764800000, 1214243]\n14: (2) [1561161600000, 1173741]\n15: (2) [1564444800000, 1186430]\n16: (2) [1566691200000, 1200370]\n17: (2) [1567468800000, 1203268]\n18: (2) [1561248000000, 1174900]\n19: (2) [1562803200000, 1177216]\n20: (2) [1564099200000, 1185568]\n21: (2) [1566432000000, 1198520]\n22: (2) [1567036800000, 1201729]\n23: (2) [1568678400000, 1213346]\n24: (2) [1562284800000, 1176398]\n25: (2) [1562371200000, 1176135]\n26: (2) [1563148800000, 1180086]\n27: (2) [1565913600000, 1196303]\n28: (2) [1566950400000, 1200921]\n29: (2) [1567382400000, 1203109]\n30: (2) [1568073600000, 1208852]\n31: (2) [1561680000000, 1177802]\n32: (2) [1566604800000, 1199785]\n33: (2) [1566777600000, 1200286]\n34: (2) [1567555200000, 1203566]\n35: (2) [1568160000000, 1209541]\n36: (2) [1568332800000, 1210798]\n37: (2) [1561507200000, 1175947]\n38: (2) [1561939200000, 1178728]\n39: (2) [1562112000000, 1179895]\n40: (2) [1562976000000, 1179537]\n41: (2) [1563580800000, 1182981]\n42: (2) [1565136000000, 1192402]\n43: (2) [1566518400000, 1199273]\n44: (2) [1567209600000, 1202617]\n45: (2) [1567728000000, 1207123]\n46: (2) [1568592000000, 1213318]\n47: (2) [1563235200000, 1180230]\n48: (2) [1565222400000, 1193112]\n49: (2) [1565308800000, 1194054]\n50: (2) [1566086400000, 1197578]\n51: (2) [1562025600000, 1178785]\n52: (2) [1565049600000, 1188992]\n53: (2) [1567900800000, 1209312]\n54: (2) [1568419200000, 1211391]\n55: (2) [1565568000000, 1194470]\n56: (2) [1566345600000, 1198096]\n57: (2) [1567123200000, 1202149]\n58: (2) [1567814400000, 1208609]\n59: (2) [1568505600000, 1213334]\n60: (2) [1561075200000, 1172732]\n61: (2) [1563840000000, 1183869]\n62: (2) [1564531200000, 1187235]\n63: (2) [1564704000000, 1189377]\n64: (2) [1564790400000, 1187994]\n65: (2) [1567641600000, 1205821]\n66: (2) [1563408000000, 1181493]\n67: (2) [1564185600000, 1185882]\n68: (2) [1564358400000, 1186309]\n69: (2) [1565740800000, 1194962]\n70: (2) [1567296000000, 1203209]\n71: (2) [1561334400000, 1174712]\n72: (2) [1562716800000, 1176777]\n73: (2) [1563494400000, 1182332]\n74: (2) [1564272000000, 1186470]\n75: (2) [1565654400000, 1194501]\n76: (2) [1562198400000, 1174925]\n77: (2) [1562630400000, 1176103]\n78: (2) [1562889600000, 1178945]\n79: (2) [1563667200000, 1183807]\n80: (2) [1565827200000, 1195435]\n81: (2) [1567987200000, 1209091]\n82: (2) [1565481600000, 1194600]\n83: (2) [1566172800000, 1197440]\n84: (2) [1566864000000, 1200207]\n85: (2) [1562457600000, 1176297]\n86: (2) [1563062400000, 1180220]\n87: (2) [1563926400000, 1184434]\n88: (2) [1564012800000, 1184820]\n89: (2) [1568246400000, 1210157]\nlength: 90\n__proto__: Array(0)\n</code></pre>\n\n<p>My expected results is that these points will display the count for each day for the past 90 days from left to right.</p>\n\n<p>Actual, its displaying All over the place, best I can describe is it looks like a total mess of cats cradle. I'll see if I can't provide a screenshot.</p>\n\n<p>This is my Actual once I introduce to prod, with the array provided Above.\n<a href=\"https://i.stack.imgur.com/aUnye.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aUnye.png\" alt=\"This is my actual from prod using the array provided Above\"></a></p>\n\n<p>Test Data, same initializer, only difference is smaller count value at least that i can tell.\n<a href=\"https://i.stack.imgur.com/oErVB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oErVB.png\" alt=\"This is my test data and it works great, only difference is smaller count. The codes identical\"></a></p>\n\n<pre><code>//Here's the test Data array:\n0: (2) [1561075200000, 144]\n1: (2) [1561161600000, 144]\n2: (2) [1561248000000, 144]\n3: (2) [1561334400000, 144]\n4: (2) [1561420800000, 144]\n5: (2) [1561507200000, 144]\n6: (2) [1561593600000, 144]\n7: (2) [1561680000000, 154]\n8: (2) [1561766400000, 154]\n9: (2) [1561852800000, 155]\n10: (2) [1561939200000, 155]\n11: (2) [1562025600000, 155]\n12: (2) [1562112000000, 155]\n13: (2) [1562198400000, 155]\n14: (2) [1562284800000, 155]\n15: (2) [1562371200000, 155]\n16: (2) [1562457600000, 155]\n17: (2) [1562544000000, 155]\n18: (2) [1562630400000, 155]\n19: (2) [1562716800000, 155]\n20: (2) [1562803200000, 155]\n21: (2) [1562889600000, 155]\n22: (2) [1562976000000, 155]\n23: (2) [1563062400000, 155]\n24: (2) [1563321600000, 155]\n25: (2) [1563408000000, 155]\n26: (2) [1563494400000, 155]\n27: (2) [1563580800000, 155]\n28: (2) [1563667200000, 155]\n29: (2) [1563753600000, 155]\n30: (2) [1563840000000, 155]\n31: (2) [1563926400000, 155]\n32: (2) [1564012800000, 155]\n33: (2) [1564099200000, 155]\n34: (2) [1564185600000, 155]\n35: (2) [1564272000000, 155]\n36: (2) [1564358400000, 155]\n37: (2) [1564444800000, 155]\n38: (2) [1564531200000, 156]\n39: (2) [1564617600000, 156]\n40: (2) [1564704000000, 156]\n41: (2) [1564790400000, 156]\n42: (2) [1564876800000, 156]\n43: (2) [1564963200000, 156]\n44: (2) [1565049600000, 156]\n45: (2) [1565136000000, 156]\n46: (2) [1565222400000, 156]\n47: (2) [1565308800000, 156]\n48: (2) [1565395200000, 156]\n49: (2) [1565481600000, 156]\n50: (2) [1565568000000, 156]\n51: (2) [1565654400000, 156]\n52: (2) [1565740800000, 156]\n53: (2) [1565827200000, 156]\n54: (2) [1565913600000, 156]\n55: (2) [1566000000000, 156]\n56: (2) [1566086400000, 156]\n57: (2) [1566172800000, 156]\n58: (2) [1566259200000, 157]\n59: (2) [1566345600000, 157]\n60: (2) [1566432000000, 157]\n61: (2) [1566518400000, 157]\n62: (2) [1566604800000, 157]\n63: (2) [1566777600000, 314]\n64: (2) [1566864000000, 314]\n65: (2) [1566950400000, 157]\n66: (2) [1567036800000, 158]\n67: (2) [1567555200000, 159]\n68: (2) [1567641600000, 159]\n69: (2) [1567728000000, 159]\n70: (2) [1567814400000, 158]\n71: (2) [1567900800000, 158]\n72: (2) [1567987200000, 158]\n73: (2) [1568073600000, 158]\n74: (2) [1568160000000, 159]\n75: (2) [1568246400000, 160]\n76: (2) [1568332800000, 159]\n77: (2) [1568419200000, 159]\n78: (2) [1568505600000, 159]\n79: (2) [1568592000000, 159]\n80: (2) [1568678400000, 159]\n81: (2) [1568764800000, 159]\nlength: 82\n__proto__: Array(0)\n</code></pre>\n"}, {"tags": ["c#", "asp.net", ".net", "webforms", "recaptcha"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 11074180, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_O6NUssNI7Y/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPKARrPOSnZPn8LX6f4owRaHTgoUQ/mo/photo.jpg?sz=128", "display_name": "Steve Miller", "link": "https://stackoverflow.com/users/11074180/steve-miller"}, "edited": false, "score": 0, "creation_date": 1568821396, "post_id": 57996171, "comment_id": 102399433, "body": "in short: I&#39;m using a WebMethod (CaptchaVerify) to deserialize the JSON results and another function (RecaptchaVerify) to get the response string. The WebMethod is calling the function for response string. &lt;br/&gt; Now I&#39;m only using in the registration form."}, {"owner": {"reputation": 1643, "user_id": 3057983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wNqvM.jpg?s=128&g=1", "display_name": "JohnH", "link": "https://stackoverflow.com/users/3057983/johnh"}, "edited": false, "score": 0, "creation_date": 1614784467, "post_id": 57996171, "comment_id": 117491445, "body": "Not putting reCaptcha into master pages makes sense. How is putting reCaptcha into a user control better than directly into individual content pages?"}], "tags": [], "owner": {"reputation": 61, "user_id": 12060508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd64252cfb93008f96ec899b5d398a04?s=128&d=identicon&r=PG&f=1", "display_name": "sthurston", "link": "https://stackoverflow.com/users/12060508/sthurston"}, "is_accepted": false, "score": 0, "last_activity_date": 1568820177, "creation_date": 1568820177, "answer_id": 57996171, "question_id": 57996062, "link": "https://stackoverflow.com/questions/57996062/google-recaptcha-in-master-page/57996171#57996171", "title": "Google reCaptcha in Master Page", "body": "<p>If the reCaptcha requires server side code and is not required on every page, stick it in a <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.ui.usercontrol?view=netframework-4.8\" rel=\"nofollow noreferrer\">user control</a> (.ascx file). Then reference this file on any pages that actually need it. Putting unnecessary code in a master page is not a good practice as it can lead to confusion (what does this code do?/why is it here?) and can potentially conflict with other code on your page.</p>\n"}], "owner": {"reputation": 35, "user_id": 11074180, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_O6NUssNI7Y/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPKARrPOSnZPn8LX6f4owRaHTgoUQ/mo/photo.jpg?sz=128", "display_name": "Steve Miller", "link": "https://stackoverflow.com/users/11074180/steve-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568820177, "creation_date": 1568819812, "question_id": 57996062, "link": "https://stackoverflow.com/questions/57996062/google-recaptcha-in-master-page", "title": "Google reCaptcha in Master Page", "body": "<p>I have a Master page and some Content pages (Home, Contact, About Us, Store, etc)</p>\n\n<p>My question is: \n-If I add an invisible reCaptcha v.3 from Google to the Master page, it will protect all my content pages ?</p>\n\n<p>-It is a good practice to add to Master Page or just for pages like: login, register?</p>\n\n<p>Thanks advanced</p>\n\n<p>(The website is written in asp.net 3.5 web-forms. ) </p>\n"}, {"tags": ["c#", "multithreading", "concurrency", "critical-section"], "answers": [{"comments": [{"owner": {"reputation": 219328, "user_id": 15498, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wi4EN.png?s=128&g=1", "display_name": "Damien_The_Unbeliever", "link": "https://stackoverflow.com/users/15498/damien-the-unbeliever"}, "edited": false, "score": 0, "creation_date": 1568821391, "post_id": 57996316, "comment_id": 102399429, "body": "For 1, you can have the threads compete to store a <code>Task</code> each obtains from a separate <code>TaskCompletionSource</code>. Same kind of logic as the <code>int</code>. Issue with <code>Lazy</code> is that other callers are blocked rather than getting some nice <code>Task</code> they can use later."}, {"owner": {"reputation": 3536, "user_id": 733163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/KlDPn.jpg?s=128&g=1", "display_name": "Hopeless", "link": "https://stackoverflow.com/users/733163/hopeless"}, "edited": false, "score": 0, "creation_date": 1568821789, "post_id": 57996316, "comment_id": 102399664, "body": "I&#39;m not sure how to exactly apply your idea in my code? Could you edit your answer with more detail? For your questions to make it clearer, actually my code is not doing any kind of initialization, all the static variables are also used for one group of requests (determined by some key data carried with them). In my snippet of code above, I simplified it to one group. The other threads can by-pass the critical section even when the triggering has not been done yet (even if it&#39;s failed)."}, {"owner": {"reputation": 3536, "user_id": 733163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/KlDPn.jpg?s=128&g=1", "display_name": "Hopeless", "link": "https://stackoverflow.com/users/733163/hopeless"}, "reply_to_user": {"reputation": 219328, "user_id": 15498, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wi4EN.png?s=128&g=1", "display_name": "Damien_The_Unbeliever", "link": "https://stackoverflow.com/users/15498/damien-the-unbeliever"}, "edited": false, "score": 0, "creation_date": 1568822044, "post_id": 57996316, "comment_id": 102399807, "body": "@Damien_The_Unbeliever it would be nice if you could add your own answer with a different idea, thank you."}, {"owner": {"reputation": 675, "user_id": 10509640, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SSEe2Qy_9R0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX6AjzcpVs7WMIlnQhePVVdiYZoGQ/mo/photo.jpg?sz=128", "display_name": "Daniel Crha", "link": "https://stackoverflow.com/users/10509640/daniel-crha"}, "edited": false, "score": 0, "creation_date": 1568822780, "post_id": 57996316, "comment_id": 102400193, "body": "I edited my answer to contain a code example. Hopefully it helps."}, {"owner": {"reputation": 3536, "user_id": 733163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/KlDPn.jpg?s=128&g=1", "display_name": "Hopeless", "link": "https://stackoverflow.com/users/733163/hopeless"}, "edited": false, "score": 0, "creation_date": 1568824002, "post_id": 57996316, "comment_id": 102400698, "body": "thanks for your edit, looks like I can understand it now. But when getting back to my original problem (as I said about grouping requests/threads), I think that trying to use <code>Interlocked.CompareExchange</code> is no longer suitable, looks like I can use <code>ConcurrentDictionary.AddOrUpdate</code> instead, do you think so? The value type can be <code>bool</code>, and the key type can be any containing data collected from each request/thread."}, {"owner": {"reputation": 3536, "user_id": 733163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/KlDPn.jpg?s=128&g=1", "display_name": "Hopeless", "link": "https://stackoverflow.com/users/733163/hopeless"}, "edited": false, "score": 0, "creation_date": 1568824162, "post_id": 57996316, "comment_id": 102400767, "body": "so the idea here is to use some <code>atomic operation method</code> like <code>Interlock.CompareExchange</code>, or as I think <code>ConcurrentDictionary.AddOrUpdate</code> (as atomic as well), right after that we have a valid (and safe) value to check before proceeding."}, {"owner": {"reputation": 675, "user_id": 10509640, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SSEe2Qy_9R0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX6AjzcpVs7WMIlnQhePVVdiYZoGQ/mo/photo.jpg?sz=128", "display_name": "Daniel Crha", "link": "https://stackoverflow.com/users/10509640/daniel-crha"}, "edited": false, "score": 0, "creation_date": 1568824350, "post_id": 57996316, "comment_id": 102400863, "body": "In that case I don&#39;t think I understand enough about your use case. I thought the issue was you wanted to run the critical section <i>at most once</i>, and all other threads would pass through. So you&#39;re saying you want to run this method at most once for each point of data? Or please elaborate further..."}, {"owner": {"reputation": 3536, "user_id": 733163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/KlDPn.jpg?s=128&g=1", "display_name": "Hopeless", "link": "https://stackoverflow.com/users/733163/hopeless"}, "edited": false, "score": 0, "creation_date": 1568830658, "post_id": 57996316, "comment_id": 102403309, "body": "@yawnston yes each group of threads (based on some specific data) should run through the section at most once. I&#39;m going to ask another question about <code>ConcurrentDictionary.AddOrUpdate</code>, actually your answer does satisfy what my original question posed. If possible please take a look at my <b>Update</b> in my original question for that extra question. Anyway sooner or later I&#39;ll accept your answer, if you could not help me with that extra-question, I will ask it in another separate question. Thanks!"}, {"owner": {"reputation": 675, "user_id": 10509640, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SSEe2Qy_9R0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX6AjzcpVs7WMIlnQhePVVdiYZoGQ/mo/photo.jpg?sz=128", "display_name": "Daniel Crha", "link": "https://stackoverflow.com/users/10509640/daniel-crha"}, "edited": false, "score": 0, "creation_date": 1568833950, "post_id": 57996316, "comment_id": 102404691, "body": "I was actually unsure about this so I read up on ConcurrentDictionary a bit and it does seem like it would fit your use case. The code marked with <code>&#47;&#47; ...</code> should indeed run at most once, since only a single thread (not necessarily the first to call that function) will be the one adding a value."}, {"owner": {"reputation": 3536, "user_id": 733163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/KlDPn.jpg?s=128&g=1", "display_name": "Hopeless", "link": "https://stackoverflow.com/users/733163/hopeless"}, "edited": false, "score": 0, "creation_date": 1568867540, "post_id": 57996316, "comment_id": 102412492, "body": "@yawnston actually I would like it to run at least once as well (so exactly once), I really doubt that somehow the <code>.AddOrUpdate</code> will return value updated (not added), and that will make the code inside <code>if</code> never run. I&#39;ve tried a simple demo at here <a href=\"https://dotnetfiddle.net/8v4xQp\" rel=\"nofollow noreferrer\">dotnetfiddle.net/8v4xQp</a> - looks like there is a chance that it&#39;s not run (tested by clicking Run multiple times). So it&#39;s a pity that I cannot rely on <code>.AddOrUpdate</code>."}, {"owner": {"reputation": 675, "user_id": 10509640, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SSEe2Qy_9R0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX6AjzcpVs7WMIlnQhePVVdiYZoGQ/mo/photo.jpg?sz=128", "display_name": "Daniel Crha", "link": "https://stackoverflow.com/users/10509640/daniel-crha"}, "reply_to_user": {"reputation": 3536, "user_id": 733163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/KlDPn.jpg?s=128&g=1", "display_name": "Hopeless", "link": "https://stackoverflow.com/users/733163/hopeless"}, "edited": false, "score": 0, "creation_date": 1568869399, "post_id": 57996316, "comment_id": 102412903, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/199664/discussion-between-yawnston-and-hopeless\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 675, "user_id": 10509640, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SSEe2Qy_9R0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX6AjzcpVs7WMIlnQhePVVdiYZoGQ/mo/photo.jpg?sz=128", "display_name": "Daniel Crha", "link": "https://stackoverflow.com/users/10509640/daniel-crha"}, "is_accepted": true, "score": 2, "last_activity_date": 1568822547, "last_edit_date": 1568822547, "creation_date": 1568820698, "answer_id": 57996316, "question_id": 57995909, "link": "https://stackoverflow.com/questions/57995909/how-to-trigger-once-by-any-concurrent-request-without-blocking-all-or-some-of-t/57996316#57996316", "title": "How to trigger once by any concurrent request without blocking all (or some of the others)?", "body": "<p>Could you perhaps create a variable <code>int i = 0</code>, and then whenever a thread gets to the critical section, it tries to <code>int result = Interlocked.CompareExchange(ref i, 1, 0)</code>? Then if <code>result == 0</code>, it means your thread is initializing, and otherwise it isn't.</p>\n\n<p>Some things to consider in this scenario are</p>\n\n<ol>\n<li>Do other threads have to wait for the critical section to finish initializing, or can they continue even when the critical section is not yet done? That could mean that the object is not initialized and is in some inconsistent state. If they do have to wait, maybe you could use Lazy or LazyInitializer instead.</li>\n<li>Is there another way to run this initialization? Perhaps it would be a better option to run this when the application is starting, instead of lazily in a multi-threaded scenario.</li>\n</ol>\n\n<p>Edit: your code might look like the following if I apply the <code>CompareExchange</code> approach:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>static int i = 0;\nvoid _someMethod(){\n    int result = Interlocked.CompareExchange(ref i, 1, 0);\n    if(result != 0) return;\n    //do some long running task by triggering an event for all registered\n    //handlers to do their own jobs ...\n    //...                 \n    }\n}\n</code></pre>\n\n<p>Just make sure that if you later decide to access <code>i</code> for any other reason, you always do it with an <code>Interlocked</code> operation, otherwise you could be unsealing a Pandora's box of issues.</p>\n"}], "owner": {"reputation": 3536, "user_id": 733163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/KlDPn.jpg?s=128&g=1", "display_name": "Hopeless", "link": "https://stackoverflow.com/users/733163/hopeless"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 57996316, "answer_count": 1, "score": 1, "last_activity_date": 1570651735, "creation_date": 1568819315, "last_edit_date": 1570651735, "question_id": 57995909, "link": "https://stackoverflow.com/questions/57995909/how-to-trigger-once-by-any-concurrent-request-without-blocking-all-or-some-of-t", "title": "How to trigger once by any concurrent request without blocking all (or some of the others)?", "body": "<p>I've known the use of <code>lock</code> to ensure that one section of code can only be run by one thread/request/execution flow at a time. But I'm not so sure how to ensure that the event will be triggered just once without blocking some threads/requests. Here is what I've tried to help minimize the number of blocked concurrent requests:</p>\n\n<pre><code>static bool _isTriggered;\nstatic bool _isTriggering;\nstatic object _o = new object();\nvoid _someMethod(){\n    if(_isTriggered || _isTriggering) return;\n    lock(_o){\n       if(_isTriggered) return;\n       _isTriggering = true;\n       //do some long running task by triggering an event for all registered\n       //handlers to do their own jobs ...\n       //...                 \n       _isTriggered = true;\n       _isTriggering = false;\n    }\n}\n</code></pre>\n\n<p>There are multiple threads or requests accessing that <code>_someMethod</code> concurrently. So you can see that there may be some requests passing the first check but be blocked by the <code>lock</code>. When the first running through that <code>lock</code>, all the others (passed the first check but blocked before) will run through that section each by each but will return immediately due to the second <code>if</code> check. (ensuring that the event is triggered just once).</p>\n\n<p>That <code>lock</code> is good if all the requests should run through the locked section of code. But here I just need one of them to run through that section, all the others should ignore (and really should not be blocked at all).</p>\n\n<p>Do you have any code solution to this issue to help minimize the number of blocked requests (to even no request being blocked)?</p>\n\n<h2>Update</h2>\n\n<p>Will this be ensured to be run exactly once (passing the check):</p>\n\n<pre><code>ConcurrentDictionary&lt;int, bool&gt; _dict = ...;\nif(!_dict.AddOrUpdate(someKey, false, (key, vl) =&gt; true)){\n   //...\n}\n</code></pre>\n\n<p>If that <code>.AddOrUpdate</code> always return <code>false</code> (as the added value) the first time, that would fit my requirement because all the next calls should call the update callback and return <code>true</code> (which will by-pass the <code>if</code> check). </p>\n"}, {"tags": ["c#", "azure-functions", "azureservicebus"], "answers": [{"tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": false, "score": 0, "last_activity_date": 1568820717, "last_edit_date": 1568820717, "creation_date": 1568820399, "answer_id": 57996238, "question_id": 57995906, "link": "https://stackoverflow.com/questions/57995906/system-invalidoperationexception-in-microsoft-azure-webjobs-servicebus-dll/57996238#57996238", "title": "System.InvalidOperationException in Microsoft.Azure.WebJobs.ServiceBus.dll", "body": "<p>Use <code>async Task</code> instead of <code>async void</code></p>\n\n<pre><code>[FunctionName(\"ConsumeNewClient\")]\npublic async Task EntryPoint(\n        [ServiceBusTrigger(queueName:LocalSettings.AvaloqServiceBusConfigurationValues.Queue, Connection = \"ServiceBusConnection\")]\n        string ceSbMsg, \n        [OrchestrationClient] \n        DurableOrchestrationClient starter, \n        ILogger log) {\n    var instanceId = await starter.StartNewAsync(\"PolicyOrchestrator\", ceSbMsg);\n    _logger.LogInformation(0, $\"[Interfaces.Avaloq.Presentation.AzureFunctions.ConsumeNewClient] - Started orchestration with ID = '{instanceId}'.\");\n}\n</code></pre>\n\n<p>the async void is most likely causing a fire and forget which throws the exception because of threading issues.</p>\n"}, {"tags": [], "owner": {"reputation": 5476, "user_id": 41169, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/eUuMy.jpg?s=128&g=1", "display_name": "Rob Bowman", "link": "https://stackoverflow.com/users/41169/rob-bowman"}, "is_accepted": false, "score": 0, "last_activity_date": 1568901117, "creation_date": 1568901117, "answer_id": 58012618, "question_id": 57995906, "link": "https://stackoverflow.com/questions/57995906/system-invalidoperationexception-in-microsoft-azure-webjobs-servicebus-dll/58012618#58012618", "title": "System.InvalidOperationException in Microsoft.Azure.WebJobs.ServiceBus.dll", "body": "<p>The problem was caused by the fact that I had failed to register a service (Mediatr) with the DI container. I was able to identify this by downloading the source code for Service Bus and stepping through with the VS debugger.</p>\n"}], "owner": {"reputation": 5476, "user_id": 41169, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/eUuMy.jpg?s=128&g=1", "display_name": "Rob Bowman", "link": "https://stackoverflow.com/users/41169/rob-bowman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568901117, "creation_date": 1568819297, "question_id": 57995906, "link": "https://stackoverflow.com/questions/57995906/system-invalidoperationexception-in-microsoft-azure-webjobs-servicebus-dll", "title": "System.InvalidOperationException in Microsoft.Azure.WebJobs.ServiceBus.dll", "body": "<p>I have a Azure Function (v2) that I would like to trigger against a service bus queue:</p>\n\n<pre><code>[FunctionName(\"ConsumeNewClient\")]\n        public async void EntryPoint([ServiceBusTrigger(queueName:LocalSettings.AvaloqServiceBusConfigurationValues.Queue,\n            Connection = \"ServiceBusConnection\")]\n            string ceSbMsg, [OrchestrationClient] DurableOrchestrationClient starter, ILogger log)\n        {\n            var instanceId = await starter.StartNewAsync(\"PolicyOrchestrator\", ceSbMsg);\n            _logger.LogInformation(0, $\"[Interfaces.Avaloq.Presentation.AzureFunctions.ConsumeNewClient] - Started orchestration with ID = '{instanceId}'.\");\n    }\n</code></pre>\n\n<p>When I debug from VS2019 I get the following message in the Output\\Debug window several times:</p>\n\n<p><em>Exception thrown: 'System.InvalidOperationException' in Microsoft.Azure.WebJobs.ServiceBus.dll</em></p>\n\n<p>The app continues until I place a message on the monitored queue (using service bus explorer) then I get the same exception another several times. I've set a breakpoint on the <em>var instanceId = ...</em> but this breakpoint is never hit.</p>\n\n<p>If I copy the same function and paste into an older solution (along with  then entry for ServiceBusConnection into local.settings.json) then everything works fine.</p>\n\n<p>Does anyone know of a way to get more detailed info about the exception that is being thrown in Microsoft.Azure.WebJobs.ServiceBus.dll?</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-migrations"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 1, "creation_date": 1568819397, "post_id": 57995905, "comment_id": 102398284, "body": "You can certainly <a href=\"https://stackoverflow.com/questions/22447331/manually-add-a-migration\">add an empty migration</a>"}, {"owner": {"reputation": 307, "user_id": 7437221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3bfc3ea7296467a2f62e36ecc2a1d79?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Sailer", "link": "https://stackoverflow.com/users/7437221/sean-sailer"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1568820026, "post_id": 57995905, "comment_id": 102398630, "body": "@stuartd thanks, this is what I need"}], "owner": {"reputation": 307, "user_id": 7437221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3bfc3ea7296467a2f62e36ecc2a1d79?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Sailer", "link": "https://stackoverflow.com/users/7437221/sean-sailer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568820054, "creation_date": 1568819288, "last_edit_date": 1568820054, "question_id": 57995905, "link": "https://stackoverflow.com/questions/57995905/entity-framework-migration-with-no-model-changes", "title": "Entity Framework Migration with no model changes", "body": "<p>I am wondering if it makes sense to create a migration for a scenario where there aren't necessarily <em>model changes</em>, but the enum property on a model has been changed. I'm using <code>.NET 4.6.2</code> and <code>Code-First Entity Framework</code></p>\n\n<p>I have the following EF-tracked log model:</p>\n\n<pre><code>[Table(\"Logs\")]\npublic class Log\n{\n    public int Id { get; set; }\n    public DateTime Timestamp { get; set; }\n    public LogType Type { get; set; } \n}\n\n</code></pre>\n\n<p>The <code>LogType</code> enum currently has around 40 values, of which, 13 have become obsolete or deprecated. I am going through the process of removing references to the obsolete/deprecated enum values. </p>\n\n<p>As such, the values of the <code>LogType</code> enum are being changed. For example, <code>LogType.ConnectionTimeout</code> used to have the value <code>16</code>, but now has the value <code>3</code>.</p>\n\n<p>In my database (MSSQL), the <code>Type</code> column is stored as an int, and I have written SQL that deletes all entries with an obsolete/deprecated enum value, and I have also written SQL that updates the other enum values to match what their new values are (e.g. changing 16 to 3 using my previous example of <code>Type.ConnectionTimeout</code>).</p>\n\n<p>My question is this: Is it a good practice to put that SQL in a migration that is able to be <code>Up()</code>'d and <code>Down()</code>'d? My other question is, is that even possible? Or does there need to be actual model changes to create a migration? I'd like to be able to have this SQL tracked and stored in version control, as well as the ability to <code>Up()</code> and <code>Down()</code> it in the future if need be.</p>\n\n<p>Thanks, and apologies in advance if this is a duplicate -- I wasn't able to find a similar question through my searches.</p>\n"}, {"tags": ["c#", "asp.net-mvc", ".net-core", "asp.net-core-mvc"], "answers": [{"tags": [], "owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "is_accepted": false, "score": 1, "last_activity_date": 1568819803, "creation_date": 1568819803, "answer_id": 57996057, "question_id": 57995869, "link": "https://stackoverflow.com/questions/57995869/core-mvc-published-app-partial-views-doesnt-work-in-aspnetcore-environment-pro/57996057#57996057", "title": ".Core mvc published app partial views doesnt work in ASPNETCORE_ENVIRONMENT &quot;production&quot; but working fine with &quot;development&quot;", "body": "<p>Based on your screenshots, it doesn't look like styling is being applied when in production, which would also suggest you're facing a similar problem with necessary JavaScript files. However, we don't have your layout to see what the problem might be.</p>\n\n<p>My best guess is that you have something like:</p>\n\n<pre><code>&lt;environment include=\"Development&gt;\n    &lt;script src=\"~/js/script.js\"&gt;&lt;/script&gt;\n&lt;/environment&gt;\n&lt;environment exclude=\"Development&gt;\n    &lt;script src=\"~/js/script.min.js\"&gt;&lt;/script&gt;\n&lt;/environment&gt;\n</code></pre>\n\n<p>I'm just using an example of a JS file here, but the same probably applies to your CSS as well, i.e. the production reference includes a <code>.min.js</code>/<code>.min.css</code> extension, instead of just <code>.js</code>/<code>.css</code>.</p>\n\n<p>By default, there's nothing that will take your JS/CSS files and minify them into <code>.min.js</code>/<code>.min.css</code> versions, so those files likely just don't even exist in production. Since all your JS/CSS file references are 404s, the style and functionality you expect don't exist either.</p>\n\n<p>To have these files created, you either need to include a <a href=\"https://docs.microsoft.com/en-us/aspnet/core/client-side/bundling-and-minification?view=aspnetcore-2.2&amp;tabs=visual-studio\" rel=\"nofollow noreferrer\"><code>bundleconfig.json</code></a>, or set up build tasks with something like Gulp or Grunt.</p>\n\n<p>Also, FWIW, you cannot include sections in a partial, so that <code>@section</code> block isn't doing anything.</p>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 7276224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2bb9fd01d5dc2992224035b5729b5873?s=128&d=identicon&r=PG&f=1", "display_name": "cezar5122", "link": "https://stackoverflow.com/users/7276224/cezar5122"}, "edited": false, "score": 0, "creation_date": 1568834114, "post_id": 57996079, "comment_id": 102404765, "body": "Yes u were right my layout page for production was not valid, everything is working fine now."}], "tags": [], "owner": {"reputation": 3806, "user_id": 7675833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBkWl.jpg?s=128&g=1", "display_name": "Travis Acton", "link": "https://stackoverflow.com/users/7675833/travis-acton"}, "is_accepted": true, "score": 1, "last_activity_date": 1568819877, "creation_date": 1568819877, "answer_id": 57996079, "question_id": 57995869, "link": "https://stackoverflow.com/questions/57995869/core-mvc-published-app-partial-views-doesnt-work-in-aspnetcore-environment-pro/57996079#57996079", "title": ".Core mvc published app partial views doesnt work in ASPNETCORE_ENVIRONMENT &quot;production&quot; but working fine with &quot;development&quot;", "body": "<p>The fact that it even shows up means your partial view IS in fact being served. From the screenshots you've shown, it looks like you are missing your css files.</p>\n\n<p>Open you prod site in chrome developer tools and inspect if the CSS files you are expecting are there, further check that they are accessible.</p>\n\n<p>In Core, go to your layout page and in the header, you will see something like below. It is telling it where and what to load based upon its operating environment. Dev vs Prod. Make sure those are valid. Alos make sure that your org is not blocking a CDN if you are using one as some have rules around their network.</p>\n\n<pre><code>&lt;environment include=\"Development\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"~/lib/bootstrap/dist/css/bootstrap.css\" /&gt;\n&lt;/environment&gt;\n&lt;environment exclude=\"Development\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n          asp-fallback-href=\"~/lib/bootstrap/dist/css/bootstrap.min.css\"\n          asp-fallback-test-class=\"sr-only\" asp-fallback-test-property=\"position\" asp-fallback-test-value=\"absolute\"\n          crossorigin=\"anonymous\"\n          integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"/&gt;\n&lt;/environment&gt;\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 7276224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2bb9fd01d5dc2992224035b5729b5873?s=128&d=identicon&r=PG&f=1", "display_name": "cezar5122", "link": "https://stackoverflow.com/users/7276224/cezar5122"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 57996079, "answer_count": 2, "score": 1, "last_activity_date": 1568874412, "creation_date": 1568819153, "last_edit_date": 1568874412, "question_id": 57995869, "link": "https://stackoverflow.com/questions/57995869/core-mvc-published-app-partial-views-doesnt-work-in-aspnetcore-environment-pro", "title": ".Core mvc published app partial views doesnt work in ASPNETCORE_ENVIRONMENT &quot;production&quot; but working fine with &quot;development&quot;", "body": "<p>When Im publish my .core mvc app no matter if I lunch it by .exe or in IIS my custom partial views doesnt render. This is how it should look (when Im debbugin it localy or publish to .exe and change environment to development):\n<a href=\"https://i.stack.imgur.com/tWOqP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tWOqP.png\" alt=\"![Working partial view\"></a>\nAnd this is how it looks after publishing on production environment:\n<a href=\"https://i.stack.imgur.com/4p0Ef.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4p0Ef.png\" alt=\"Not working\"></a>\nI've noticed that after triger event that make this partial view appear in working example url doesnt change(this is what I want) and looks like this <code>https://localhost:5002/CharacterAndItems/Index</code> but in secound one it changes <code>https://localhost:5002/CharacterAndItems/GetCharacter</code>\nI have no idea what causes this this problem. Here is my controller code: </p>\n\n<pre><code>[HttpPost]\npublic async Task&lt;IActionResult&gt; GetCharacter([FromForm] CharacterFindViewModel characterFindModel)\n{\n   var character = await _characterSerivce.GetCharacterByNameAsync(characterFindModel.CharacterName);\n   var item = await _itemSerivce.GetItemNameReturnItem(characterFindModel.ItemName, character);\n\n    model = new CharacterWithItemViewModel { character = character, item = item };\n    return PartialView(\"_CharacterPartial\", model);\n}\n</code></pre>\n\n<p>Partial view code: </p>\n\n<pre><code>@model App.ViewModels.CharacterWithItemViewModel\n\n&lt;div class=\"row form-group\" style=\"margin-top:15px\"&gt;\n    &lt;div class=\"col-md-6\"&gt;\n        &lt;div class=\"text-right\"&gt;\n            &lt;div&gt;\n                &lt;div class=\"text-left align-top\"&gt;\n                    Name: @Model.character.CharName CharacterId: @Model.character.ObjId ItemId: @Model.item.ItemId \n                    &lt;div id=\"Test\"&gt;\n                        Count: @Model.item.Count\n                    &lt;/div&gt;\n                    &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"col-md-6 text-right\"&gt;\n        &lt;form asp-controller=\"CharacterAndItems\" asp-action=\"AddItems\"\n              data-ajax=\"true\" data-ajax-method=\"post\"\n              data-ajax-mode=\"replace\" data-ajax-update=\"#Test\"&gt;\n            &lt;input type=\"hidden\" name=\"characterId\" value=\"@Model.character.ObjId\" /&gt;\n            &lt;input type=\"hidden\" name=\"itemId\" value=\"@Model.item.ItemId\" /&gt;\n            &lt;input class=\"form\" placeholder=\"Item quantity\" name=\"count\" style=\"text-align:center\" /&gt;\n            &lt;input type=\"submit\" value=\"Add items\" name=\"add\" class=\"btn btn-primary\" /&gt;\n            &lt;input type=\"submit\" value=\"Delete items\" name=\"delete\" class=\"btn btn-danger\" /&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n@section Scripts {\n    &lt;script&gt;\n        $.ajax({\n            url: '/CharacterAndItems/AddItems',\n            type = 'POST',\n            data: JSON.stringify(@Model)\n        })\n        var results = $(\"#Results\");\n    &lt;/script&gt;\n}\n</code></pre>\n"}, {"tags": ["c#", "list", "initialization"], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 10821521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9996a145d5430f2b643cc2648176b2b8?s=128&d=identicon&r=PG&f=1", "display_name": "Jubick", "link": "https://stackoverflow.com/users/10821521/jubick"}, "edited": false, "score": 1, "creation_date": 1568819552, "post_id": 57995953, "comment_id": 102398379, "body": "It worked thanks. I&#39;ll mark as correct as soon as i&#39;ll be able to"}], "tags": [], "owner": {"reputation": 360, "user_id": 9866642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e06c079ae6a6bc17974916a7980e8493?s=128&d=identicon&r=PG&f=1", "display_name": "Jawi", "link": "https://stackoverflow.com/users/9866642/jawi"}, "is_accepted": true, "score": 3, "last_activity_date": 1568819653, "last_edit_date": 1568819653, "creation_date": 1568819463, "answer_id": 57995953, "question_id": 57995854, "link": "https://stackoverflow.com/questions/57995854/how-can-i-initialize-list-of-reference-type-with-same-elements-that-will-use-sam/57995953#57995953", "title": "How can i initialize List of reference type with same elements that will use same constructor?", "body": "<p>You can use the System.Linq <code>Enumerable</code> class:</p>\n\n<pre><code>var Files = Enumerable.Repeat(new File(0), filesCount).ToList();\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 10821521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9996a145d5430f2b643cc2648176b2b8?s=128&d=identicon&r=PG&f=1", "display_name": "Jubick", "link": "https://stackoverflow.com/users/10821521/jubick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 57995953, "answer_count": 1, "score": 1, "last_activity_date": 1568819653, "creation_date": 1568819114, "question_id": 57995854, "link": "https://stackoverflow.com/questions/57995854/how-can-i-initialize-list-of-reference-type-with-same-elements-that-will-use-sam", "title": "How can i initialize List of reference type with same elements that will use same constructor?", "body": "<p>I want to initialize <code>List&lt;File&gt;</code> with exact size and all elements should be created using constructor with parameters. </p>\n\n<p>Here's File class:</p>\n\n<pre><code>public class File\n{\n    public int Value;\n    public File(int value)\n    {\n        Value = value;\n    }\n}\n</code></pre>\n\n<p>I cannot change this class.</p>\n\n<p>I tried using <code>Files = new List&lt;File&gt;(new File[filesCount])</code> but this way each element is null but atleast i got the size of List right. Then i used <code>Files.Foreach(x =&gt; x = new File(0))</code> and as it was expected it didn't work as we can't change object that we got while iterating. </p>\n\n<p>At the end of the day i want to have a <code>List&lt;File&gt;</code> where all items are <code>Files</code> and have <code>Value</code> of 0</p>\n"}, {"tags": ["c#", "active-directory", "ldap", "directorysearcher"], "comments": [{"owner": {"reputation": 61, "user_id": 12060508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd64252cfb93008f96ec899b5d398a04?s=128&d=identicon&r=PG&f=1", "display_name": "sthurston", "link": "https://stackoverflow.com/users/12060508/sthurston"}, "edited": false, "score": 0, "creation_date": 1568821162, "post_id": 57995805, "comment_id": 102399296, "body": "Show a code example of how you are calling this method. Are you saying that no matter what name and username you pass in as arguments, you always get the same result?"}], "answers": [{"tags": [], "owner": {"reputation": 156, "user_id": 2297436, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/gdLna.jpg?s=128&g=1", "display_name": "Arheisel", "link": "https://stackoverflow.com/users/2297436/arheisel"}, "is_accepted": false, "score": 0, "last_activity_date": 1568829901, "creation_date": 1568829901, "answer_id": 57998510, "question_id": 57995805, "link": "https://stackoverflow.com/questions/57995805/c-active-directory-directorysearcher-is-only-finding-my-own-user/57998510#57998510", "title": "C# Active Directory DirectorySearcher is only finding my own user", "body": "<p>Turns out it was all my fault. I did a login with another function earlier in the code which unknowingly to me changed the path variable I was using to the cn of the logged user, that's why this was not giving me any other results other than the logged in user. </p>\n\n<p>So this method works exactly as it should!</p>\n\n<p>My apologies.</p>\n"}], "owner": {"reputation": 156, "user_id": 2297436, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/gdLna.jpg?s=128&g=1", "display_name": "Arheisel", "link": "https://stackoverflow.com/users/2297436/arheisel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571586260, "creation_date": 1568818937, "last_edit_date": 1571586260, "question_id": 57995805, "link": "https://stackoverflow.com/questions/57995805/c-active-directory-directorysearcher-is-only-finding-my-own-user", "title": "C# Active Directory DirectorySearcher is only finding my own user", "body": "<p>I have a function that's meant to look up the displayName and mail fields of any users that match the given name. So far it works but it only ever returns the user that I log in as.</p>\n\n<p>I've already tried different versions of <code>DirectorySearcher</code>, like this:</p>\n\n<pre><code>new DirectorySearcher(\"LDAP://my.domain\");\nnew DirectorySearcher();\nnew DirectorySearcher(\"LDAP://my.domain/(&amp;(objectCategory=person)(objectClass=user)(anr={0}))\");\n</code></pre>\n\n<p>I've also tried different path formats and AuthenticationTypes. </p>\n\n<p>My Function: </p>\n\n<pre><code>/// &lt;summary&gt;\n/// Returns a Dictionary of Names and Emails that match the given name\n/// &lt;/summary&gt;\n/// &lt;param name=\"name\"&gt;Name to search for&lt;/param&gt;\n/// &lt;param name=\"domain\"&gt;Domain to log in to&lt;/param&gt;\n/// &lt;param name=\"username\"&gt;Username for login into AD&lt;/param&gt;\n/// &lt;param name=\"pwd\"&gt;Password for login into AD&lt;/param&gt;\n/// &lt;param name=\"count\"&gt;returns the number of results found&lt;/param&gt;\n/// &lt;returns&gt;Dictionary containing the Names and Emails of the users matched&lt;/returns&gt;\npublic Dictionary&lt;string, string&gt; GetPersonsEmailsByName(string name, string domain, string username, string pwd, out int count)\n{\n    count = 0;\n    if (String.IsNullOrEmpty(name)) return new Dictionary&lt;string, string&gt;();\n\n    try\n    {\n        string domainAndUsername = String.Format(@\"{0}\\{1}\", domain, username);\n        using (DirectoryEntry root = new DirectoryEntry(\"LDAP://my.domain\", domainAndUsername, pwd, AuthenticationTypes.Delegation))\n        {\n            DirectorySearcher search = new DirectorySearcher(root);\n            search.Filter = String.Format(\"(&amp;(objectCategory=person)(objectClass=user)(anr={0}))\", name);\n            search.SearchScope = SearchScope.Subtree;\n            search.PropertiesToLoad.Add(\"displayName\");\n            search.PropertiesToLoad.Add(\"mail\");\n            var dict = new Dictionary&lt;string, string&gt;();\n\n            SearchResultCollection result = search.FindAll();\n            count = result.Count;\n            foreach (SearchResult sr in result)\n            {\n                var de = sr.GetDirectoryEntry();\n                dict.Add((string)de.Properties[\"displayName\"].Value, (string)de.Properties[\"mail\"].Value);\n            }\n            return dict;\n        } \n\n    }\n    catch (Exception ex)\n    {\n        throw new Exception(\"Error obtaining persons: \" + ex.Message);\n    }\n\n}\n</code></pre>\n\n<p>And here is a sample output using this function:</p>\n\n<pre><code>User: john_doe\nPass:\nAuth OK\nName: Mike\nResults: 0\nName: carl\nResults: 0\nName: jo\nResults: 1\nJohn Doe: j_doe@domain.com\nName: john\nResults: 1\nJohn Doe: j_doe@domain.com\nName: j\nResults: 1\nJohn Doe: j_doe@domain.com\nName:\n</code></pre>\n\n<p>All I can ever get is my own name.</p>\n\n<p>Thanks in advance for your help.</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 2557, "user_id": 1504370, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/684d3b5b124885c32d0536b3460aed03?s=128&d=identicon&r=PG", "display_name": "billybob", "link": "https://stackoverflow.com/users/1504370/billybob"}, "edited": false, "score": 1, "creation_date": 1568819035, "post_id": 57995728, "comment_id": 102398079, "body": "Can you provide the stack trace of the error?"}, {"owner": {"reputation": 2557, "user_id": 1504370, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/684d3b5b124885c32d0536b3460aed03?s=128&d=identicon&r=PG", "display_name": "billybob", "link": "https://stackoverflow.com/users/1504370/billybob"}, "edited": false, "score": 0, "creation_date": 1568819121, "post_id": 57995728, "comment_id": 102398122, "body": "Are you sure that your SMTP settings are set properly?"}, {"owner": {"reputation": 452, "user_id": 9783864, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cbz4PFLg_dU/AAAAAAAAAAI/AAAAAAAAAQ8/VDhI5_a6Fx8/photo.jpg?sz=128", "display_name": "David Edel", "link": "https://stackoverflow.com/users/9783864/david-edel"}, "edited": false, "score": 0, "creation_date": 1568821520, "post_id": 57995728, "comment_id": 102399506, "body": "Don&#39;t you need to specify the port?"}, {"owner": {"reputation": 434, "user_id": 6045154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BpvkV.jpg?s=128&g=1", "display_name": "AsheraH", "link": "https://stackoverflow.com/users/6045154/asherah"}, "edited": false, "score": 0, "creation_date": 1568891897, "post_id": 57995728, "comment_id": 102423765, "body": "Try first sending the e-mail to one hardcoded recipient without attachments to see if it arrives at all."}, {"owner": {"reputation": 1124, "user_id": 5061176, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XRGlu.jpg?s=128&g=1", "display_name": "Mahesh Waghmare", "link": "https://stackoverflow.com/users/5061176/mahesh-waghmare"}, "edited": false, "score": 0, "creation_date": 1568891915, "post_id": 57995728, "comment_id": 102423780, "body": "Add <code>SmtpServer.Port = 587;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8506333, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0-0Ssff98qg/AAAAAAAAAAI/AAAAAAAAB8M/_9eaFEkZscU/photo.jpg?sz=128", "display_name": "salman mohideen", "link": "https://stackoverflow.com/users/8506333/salman-mohideen"}, "is_accepted": false, "score": 0, "last_activity_date": 1568893133, "last_edit_date": 1568893133, "creation_date": 1568891707, "answer_id": 58009762, "question_id": 57995728, "link": "https://stackoverflow.com/questions/57995728/smtpclient-sendmail-function-timeout-error/58009762#58009762", "title": "SmtpClient Send(Mail) function timeout error", "body": "<p>I Think you should specify the port number</p>\n\n<p>e.g.</p>\n\n<pre><code>SmtpClient(\"smtp.gmail.com\", 587) // This for gmail\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 12020266, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uJplmuK2Y8Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfHx0u9Xmnv15AK_FFKmho0D1xCGA/photo.jpg?sz=128", "display_name": "Hunter Lazenby", "link": "https://stackoverflow.com/users/12020266/hunter-lazenby"}, "is_accepted": false, "score": 1, "last_activity_date": 1569441396, "last_edit_date": 1569441396, "creation_date": 1569437864, "answer_id": 58104936, "question_id": 57995728, "link": "https://stackoverflow.com/questions/57995728/smtpclient-sendmail-function-timeout-error/58104936#58104936", "title": "SmtpClient Send(Mail) function timeout error", "body": "<p>I was able to get the host I needed and get the function to run. The company I wrote the code for had their own host server. All I did to fix the code was delete the line that included client.Credentials, because I did not need that, and in the quotes for client.Host I replaced \"pod51213.outlook.com\" with \"smtp.irco.com\", which is the mail server for the company I built the program for.</p>\n"}], "owner": {"reputation": 53, "user_id": 12020266, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uJplmuK2Y8Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfHx0u9Xmnv15AK_FFKmho0D1xCGA/photo.jpg?sz=128", "display_name": "Hunter Lazenby", "link": "https://stackoverflow.com/users/12020266/hunter-lazenby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1569441396, "creation_date": 1568818698, "last_edit_date": 1568827959, "question_id": 57995728, "link": "https://stackoverflow.com/questions/57995728/smtpclient-sendmail-function-timeout-error", "title": "SmtpClient Send(Mail) function timeout error", "body": "<p>I am trying to send out an email to a mailing list that I have created, but when I run the function it just times out. I am not sure whether it is a host error or if I'm missing code or what. I am running an mvc format program on a local server.</p>\n\n<p>I originally didn't have the credentials, but adding them changed nothing. Both before and after adding them all that happens is it loads for about a minute before reporting a timeout.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private void SendEmail(string sender, string[] attachments, List&lt;string&gt; recipients, ReleaseNotes notes, string username, string password)\n{\n    SmtpClient client = new SmtpClient();\n    MailMessage mail = new MailMessage();\n    mail.Subject = \"Software Release of VCM Version \" + notes.ReleaseVersion;\n    mail.From = new MailAddress(sender);\n    mail.Body = GetEmailBody(notes);\n    mail.IsBodyHtml = true;\n\n    foreach (string r in recipients)\n    {\n        mail.To.Add(r);\n    }\n\n    foreach (string a in attachments)\n    {\n        mail.Attachments.Add(new Attachment(a));\n    }\n\n    client.Host = \"pod51213.outlook.com\";\n    client.Credentials = new NetworkCredential(username, password);\n    client.UseDefaultCredentials = false;\n    client.DeliveryMethod = SmtpDeliveryMethod.Network;\n    client.Send(mail);\n}\n</code></pre>\n\n<p>I am supposed to see the email appear in my inbox while the screen switches over to a screen saying email was sent. Its not giving me an actual error code. It just says operation timed out.</p>\n"}, {"tags": ["c#", "xml", "asp.net-mvc"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1568822109, "post_id": 57995596, "comment_id": 102399853, "body": "Close VS before trying to edit a config file."}], "answers": [{"tags": [], "owner": {"reputation": 1694, "user_id": 7217806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb163419649048db63b30f1394c83af3?s=128&d=identicon&r=PG&f=1", "display_name": "user7217806", "link": "https://stackoverflow.com/users/7217806/user7217806"}, "is_accepted": false, "score": 0, "last_activity_date": 1568825749, "creation_date": 1568825749, "answer_id": 57997563, "question_id": 57995596, "link": "https://stackoverflow.com/questions/57995596/asp-net-mvc-configure-the-another-project-webconfig/57997563#57997563", "title": "ASP.NET MVC Configure the another project webconfig", "body": "<p>Assuming you have a good reason to do this, you could use something like:</p>\n\n<pre><code>var addElement = doc.Element(\"configuration\").Element(\"appSettings\").Elements().First(x =&gt; x.Attribute(\"key\").Value == \"DBNAME\");\nvar valueAttribute = addElement.Attribute(\"value\");\nvalueAttribute.Value = \"DEV_TEMP\";\n</code></pre>\n\n<p>Note that you also need to get the <code>configuration</code> element, and you can get the <code>add</code> element by selecting the element where the <code>key</code> attribute matches <code>DBNAME</code> as there could be multiple <code>add</code> elements. Also <code>value</code> is the attribute of <code>add</code>, not an element itself. See the <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/data/xml/xml-document-object-model-dom\" rel=\"nofollow noreferrer\">XML Document Object Model (DOM)\n</a> for further information.</p>\n"}], "owner": {"reputation": 1, "user_id": 12085752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c0831c156556aaba6fde4825bc7be9?s=128&d=identicon&r=PG&f=1", "display_name": "jrb", "link": "https://stackoverflow.com/users/12085752/jrb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568825749, "creation_date": 1568818249, "last_edit_date": 1568818773, "question_id": 57995596, "link": "https://stackoverflow.com/questions/57995596/asp-net-mvc-configure-the-another-project-webconfig", "title": "ASP.NET MVC Configure the another project webconfig", "body": "<p>I want ta change another Webconfig but I'm getting erors</p>\n\n<p>What I tried is</p>\n\n<pre><code>string path = \"E:\\\\username\\\\myprojects\\\\myproject\\\\Web.config\";\nConfiguration webConfig = WebConfigurationManager.OpenWebConfiguration(path);\nwebConfig.AppSettings.Settings.Add(\"DBNAME\", \"DEV_TEMP\");\nwebConfig.Save();\n</code></pre>\n\n<p>This said \" Web.config denied relative virtual paths\"</p>\n\n<p>and another I tried on webconfig</p>\n\n<pre><code> &lt;configuration&gt;\n   &lt;appSettings&gt;\n     &lt;add key=\"DBNAME\" value=\"DEV_DEVELOPMENT\"/&gt;\n   &lt;/appSettings&gt;\n</code></pre>\n\n<p>DBNAME value change to \"DEV_TEMP\"</p>\n\n<pre><code>XDocument doc=XDocument.Load(\"E:\\\\username\\\\myprojects\\\\myproject\\\\Web.config\");\n\ndoc.Element(\"appSettings\").Element(\"DBNAME\").Value = \"DEV_TEMP\";\ndoc.Save(\"Web.config\");\n</code></pre>\n\n<p>and it says Null reference</p>\n"}, {"tags": ["c#", ".net-core", "xunit"], "comments": [{"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 1, "creation_date": 1568859946, "post_id": 57995583, "comment_id": 102411165, "body": "Authorization attributes consumed by web framework (ASP.NET) somewhere in the middleware before controller action are executed. You are testing only the controller class."}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 6105100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d811583172973a8657baa0d2255c924?s=128&d=identicon&r=PG", "display_name": "Brandon Dahler", "link": "https://stackoverflow.com/users/6105100/brandon-dahler"}, "is_accepted": true, "score": 1, "last_activity_date": 1568844574, "creation_date": 1568844574, "answer_id": 58001339, "question_id": 57995583, "link": "https://stackoverflow.com/questions/57995583/xunit-question-about-unit-tests-without-authentication/58001339#58001339", "title": "Xunit - Question about Unit tests without authentication", "body": "<p>This code is correct. Your testing framework isn\u2019t actually running the Mvc pipeline or invocation code and that, simply put, is the reason you\u2019re not getting authorization errors. </p>\n\n<p>It\u2019s the same reason why you have to specify the action\u2019s parameter and call the method yourself instead of providing a HttpRequestMessage object with the correct url. </p>\n"}], "owner": {"reputation": 279, "user_id": 5291351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d620daa0925510bd53b69d94f2cfaeab?s=128&d=identicon&r=PG&f=1", "display_name": "Henning", "link": "https://stackoverflow.com/users/5291351/henning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 58001339, "answer_count": 1, "score": 0, "last_activity_date": 1568844574, "creation_date": 1568818188, "question_id": 57995583, "link": "https://stackoverflow.com/questions/57995583/xunit-question-about-unit-tests-without-authentication", "title": "Xunit - Question about Unit tests without authentication", "body": "<p>I am currently writing the unit tests for my REST-API controller. I noticed that I don't need authentication (JWT token) for the tests as I expected. But if I address the API via the Postman I do. Is this correct or do I have an error in my controller?</p>\n\n<p><strong>My API-Controller:</strong></p>\n\n<pre><code>[Authorize]\n[ApiController]\n[Route(\"persons\")]\npublic class PersonController : ControllerBase\n{\n    private readonly API_DB_Context dbContext;\n    private readonly IMapper mapper;\n\n    public PersonController(API_DB_Context context, IMapper mapper)\n    {\n        this.dbContext = context;\n        this.mapper = mapper;\n    }\n\n    [HttpGet(\"{id}\")]\n    public async Task&lt;IActionResult&gt; Get(long id)\n    {\n        PersonManager manager = new PersonManager(dbContext, mapper);\n        var myTask = Task.Run(() =&gt; manager.GetPersonDTO(id));\n        PersonDTO person = await myTask;\n\n        if (person == null)\n        {\n            return NotFound(\"The Person record couldn't be found.\");\n        }\n\n        return Ok(person);\n    }\n}\n</code></pre>\n\n<p><strong>My Integration Test:</strong></p>\n\n<pre><code>public class PersonControllerIntegrationTests : IDisposable\n{\n    private readonly IMapper mapper;\n    private readonly API_DB_Context context;\n\n    public PersonControllerIntegrationTests()\n    {\n        var mockMapper = new MapperConfiguration(cfg =&gt;\n        {\n            cfg.AddProfile(new MappingProfiles());\n        });\n        mapper = mockMapper.CreateMapper();\n\n        var serviceProvider = new ServiceCollection()\n        .AddEntityFrameworkSqlServer()\n        .BuildServiceProvider();\n\n        var builder = new DbContextOptionsBuilder&lt;API_DB_Context&gt;();\n\n        builder.UseSqlServer($\"Server=(local);Database=TestDb_{Guid.NewGuid()};Trusted_Connection=True;MultipleActiveResultSets=true\")\n                .UseInternalServiceProvider(serviceProvider);\n\n        context = new API_DB_Context(builder.Options);\n        context.Database.Migrate();\n\n        context.Person.AddRange(DbPersonDataRepositories.GetTestPerson());\n        context.SaveChanges();\n    }\n\n    [Theory]\n    [InlineData(1, \"Testuser\")]\n    [InlineData(2, \"John\")]\n    public async Task TestGetPersonItem(long personID, string expectedName)\n    {\n        // Arrange\n        PersonController controller = new PersonController(context, mapper);\n\n        // Act\n        var controllerResponse = await controller.Get(personID);\n\n        // Assert\n        var objectResult = Assert.IsAssignableFrom&lt;ObjectResult&gt;(controllerResponse);\n        PersonDTO model = Assert.IsAssignableFrom&lt;PersonDTO&gt;(objectResult.Value);\n        Assert.Equal(expectedName, model.lastName);\n        Assert.Equal(personID, model.id);\n    }\n\n    public void Dispose()\n    {\n        context.Database.EnsureDeleted();\n        context.Dispose();\n    }\n}\n</code></pre>\n\n<p>As you can see my unit test doesn't contain any code for authentication. For example creating the JWT token.</p>\n"}, {"tags": ["c#", "generics", "interface", ".net-assembly", "activator"], "comments": [{"owner": {"reputation": 13431, "user_id": 2169762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nns8w.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/2169762/martin"}, "edited": false, "score": 1, "creation_date": 1568818394, "post_id": 57995520, "comment_id": 102397707, "body": "&quot;<i>I want to avoid casting</i>&quot; - Why? Anyway, you could easily achieve this with Reflection which would allow you to dynamically invoke the method without explicitly knowing the type at compile time"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1568819530, "post_id": 57995520, "comment_id": 102398365, "body": "Is fc1() being called on the same object as fc2()? <code>fce2(fce1(float[]))</code> returns <code>byte[]</code>. It&#39;s not generic. Write a non-generic base interface with a method <code>byte[] fc2fc1(float[])</code>. Cast the new instance to that. Or did you mean for <code>T fce1(float[] data);</code> to be <code>T fce1(T[] data);</code>?"}, {"owner": {"reputation": 43, "user_id": 12085613, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xPihrIsqcvk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdBqwj1WldWMc71z4B4nTtE8vQZMg/photo.jpg?sz=128", "display_name": "Pavel Kudrna", "link": "https://stackoverflow.com/users/12085613/pavel-kudrna"}, "reply_to_user": {"reputation": 13431, "user_id": 2169762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nns8w.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/2169762/martin"}, "edited": false, "score": 0, "creation_date": 1568832534, "post_id": 57995520, "comment_id": 102404067, "body": "@Martin I also found a way to use the dynamic type, it is also a way. But the performance is low for both - Reflection and Dynamic."}, {"owner": {"reputation": 43, "user_id": 12085613, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xPihrIsqcvk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdBqwj1WldWMc71z4B4nTtE8vQZMg/photo.jpg?sz=128", "display_name": "Pavel Kudrna", "link": "https://stackoverflow.com/users/12085613/pavel-kudrna"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1568833096, "post_id": 57995520, "comment_id": 102404304, "body": "@EdPlunkett the reason I want both methods split in two is the balance the CPU load. Imagine the float[] input array in fce1 is e.g. 6M of Length and it is incoming each second...The fce1 should process the data and fce2 serialize the results. The serialization could be done independently, but the next float[] packet could be processed only after the previous was processed (because the incoming float[] data are just a chunk in continuous time series)..."}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 12085613, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xPihrIsqcvk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdBqwj1WldWMc71z4B4nTtE8vQZMg/photo.jpg?sz=128", "display_name": "Pavel Kudrna", "link": "https://stackoverflow.com/users/12085613/pavel-kudrna"}, "is_accepted": true, "score": 0, "last_activity_date": 1568833958, "creation_date": 1568833958, "answer_id": 57999424, "question_id": 57995520, "link": "https://stackoverflow.com/questions/57995520/how-to-cast-implementation-instance-to-interface-without-specifying-generic-argu/57999424#57999424", "title": "How to cast implementation instance to interface without specifying generic argument (the implementation knows it)?", "body": "<p>Using the dynamic type, the methods invocation could be made (only the first call takes a long time, then it is quite efficient.</p>\n\n<pre><code>float[] testingPacket = new float[6250000];\ndynamic instance = null;\n\nforeach (var d in assembly.GetExportedTypes())\n{\n    instance = Activator.CreateInstance(d);\n}\nint L = 0;\nfor (int i = 0; i &lt; L; ++i)\n{\n    dynamic result1 = instance.fce1(testingPacket);\n    byte[] buffer = instance.fce2(result1) as byte[];\n}\n</code></pre>\n\n<p>The higher the L is the duration period of the for cycle is closer to the duration of object casting and direct declaration using as IA. Thx.</p>\n"}], "owner": {"reputation": 43, "user_id": 12085613, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xPihrIsqcvk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdBqwj1WldWMc71z4B4nTtE8vQZMg/photo.jpg?sz=128", "display_name": "Pavel Kudrna", "link": "https://stackoverflow.com/users/12085613/pavel-kudrna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 57999424, "answer_count": 1, "score": 3, "last_activity_date": 1568833958, "creation_date": 1568817995, "last_edit_date": 1568818221, "question_id": 57995520, "link": "https://stackoverflow.com/questions/57995520/how-to-cast-implementation-instance-to-interface-without-specifying-generic-argu", "title": "How to cast implementation instance to interface without specifying generic argument (the implementation knows it)?", "body": "<p>I have an interface:</p>\n\n<pre><code>public interface IA&lt;T&gt;\n{\n     T fce1(float[] data);\n     byte[] fce2(T arg);        \n}\n</code></pre>\n\n<p>and I have its implementation which specifies certain T (so the implementation do not need anything else):</p>\n\n<pre><code>public class A : IA&lt;float&gt;\n{\n   public float fce1(float[] data)\n   {\n       return 1f;//data processing\n   }\n\n   public byte[] fce2(float arg)\n   {\n       return BitConverter.GetBytes(arg);//some kind of serialization\n   }        \n}\n</code></pre>\n\n<p>Class A is in a.dll and I want to get it and call the fce2(fce1()) (so there should be no uknown argument or type. I want to do something following:</p>\n\n<pre><code>var data = File.ReadAllBytes(\"a.dll\") \nvar assembly = Assembly.Load(data);\nvar expTypes = assembly.GetExportedTypes();\n\nforeach (var d in assembly.GetExportedTypes())\n{\n     var obj = Activator.CreateInstance(d);\n     if (obj is IA)\n     {\n          var kernel = obj as IA;\n          kernel.fce2(fce1());\n     }\n}\n</code></pre>\n\n<p>The purpose is to run fce1 as one Task later and fce2 as a second Task when fce1 provides result (this is simplyfied situation).</p>\n\n<p>I tried this with .NET 4.7</p>\n\n<p>I know it could be done to return the object from fce1 and then cast inside fce2 the object to desired type and process it? But is this the only way? I want to avoid casting.</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 2503, "user_id": 1795390, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/WACds.png?s=128&g=1", "display_name": "daremachine", "link": "https://stackoverflow.com/users/1795390/daremachine"}, "edited": false, "score": 1, "creation_date": 1568823949, "post_id": 57995497, "comment_id": 102400676, "body": "I think you should not use RedirectToAction but only return View with current model. Like your catch."}, {"owner": {"reputation": 2503, "user_id": 1795390, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/WACds.png?s=128&g=1", "display_name": "daremachine", "link": "https://stackoverflow.com/users/1795390/daremachine"}, "edited": false, "score": 0, "creation_date": 1568824521, "post_id": 57995497, "comment_id": 102400941, "body": "And also I think model validation is not nested by default. It work only for first view model."}, {"owner": {"reputation": 23, "user_id": 11989858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f20cda6b8870bdf94d96c6b0ba2774?s=128&d=identicon&r=PG&f=1", "display_name": "Sena", "link": "https://stackoverflow.com/users/11989858/sena"}, "reply_to_user": {"reputation": 2503, "user_id": 1795390, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/WACds.png?s=128&g=1", "display_name": "daremachine", "link": "https://stackoverflow.com/users/1795390/daremachine"}, "edited": false, "score": 0, "creation_date": 1568826103, "post_id": 57995497, "comment_id": 102401538, "body": "RedirectToAction doesn&#39;t change anything because i&#39;m using it for others model and the validation message is displayed when needed.  ModelValidation is working fine, when Name or Adress field ModelState.IsValid == false.  We can watch ModelStateDictionnary and it actually contain the error."}, {"owner": {"reputation": 23, "user_id": 11989858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f20cda6b8870bdf94d96c6b0ba2774?s=128&d=identicon&r=PG&f=1", "display_name": "Sena", "link": "https://stackoverflow.com/users/11989858/sena"}, "reply_to_user": {"reputation": 2503, "user_id": 1795390, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/WACds.png?s=128&g=1", "display_name": "daremachine", "link": "https://stackoverflow.com/users/1795390/daremachine"}, "edited": false, "score": 0, "creation_date": 1569835336, "post_id": 57995497, "comment_id": 102711535, "body": "@daremachine You were right about the return View. but it&#39;s weird that redirectToAction display validation message for model but not for a model in a viewmodel"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11989858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f20cda6b8870bdf94d96c6b0ba2774?s=128&d=identicon&r=PG&f=1", "display_name": "Sena", "link": "https://stackoverflow.com/users/11989858/sena"}, "edited": false, "score": 0, "creation_date": 1569835236, "post_id": 58114465, "comment_id": 102711479, "body": "It solved my problem, perhaps i still don&#39;t understand why RedirectToAction display validation message when i use a Model and doesn&#39;t display validation message when i use a Model in a ViewModel."}], "tags": [], "owner": {"reputation": 2476, "user_id": 9668530, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zL8vN.jpg?s=128&g=1", "display_name": "Alex Leo", "link": "https://stackoverflow.com/users/9668530/alex-leo"}, "is_accepted": true, "score": 1, "last_activity_date": 1569492567, "creation_date": 1569492567, "answer_id": 58114465, "question_id": 57995497, "link": "https://stackoverflow.com/questions/57995497/validation-message-doesnt-show-for-model-as-property-in-viewmodel/58114465#58114465", "title": "Validation Message doesn&#39;t show for model as property in viewmodel", "body": "<p>I believe that you should return View when the ModelState is invalid.</p>\n\n<ul>\n<li><p>Return View doesn't make a new requests, it just renders the view\nwithout changing URLs in the browser's address bar. </p></li>\n<li><p>Return RedirectToAction makes a new request and the URL in the browser's<br>\naddress bar is updated with the generated URL by MVC.</p>\n\n<pre><code>    try\n    {\n        if (ModelState.IsValid)\n        {\n            bool result = *DatabaseStuff*\n            if(result == true)\n            {\n                return RedirectToAction(\"Index\");\n            }\n            else\n            {\n                return View();\n            }\n        }\n        return View();\n    }\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 23, "user_id": 11989858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f20cda6b8870bdf94d96c6b0ba2774?s=128&d=identicon&r=PG&f=1", "display_name": "Sena", "link": "https://stackoverflow.com/users/11989858/sena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 58114465, "answer_count": 1, "score": 2, "last_activity_date": 1569492567, "creation_date": 1568817942, "question_id": 57995497, "link": "https://stackoverflow.com/questions/57995497/validation-message-doesnt-show-for-model-as-property-in-viewmodel", "title": "Validation Message doesn&#39;t show for model as property in viewmodel", "body": "<p>i've been struggling with Model validation message in asp.net</p>\n\n<p>I've got a model used by a viewmodel.\nI want my view to display validation errors if users don't fill required fields.</p>\n\n<p>My ModelState.IsValid is false when required fields are not fill (expected behaviour) but i can't see \nany error message</p>\n\n<p>My Model Class :</p>\n\n<pre><code>public class Model\n{\n        [Required(ErrorMessage = \"Name is required.\")]\n        public string Name { get; set; }\n\n        [Required(ErrorMessage = \"Adress is required.\")]\n        public string Adress { get; set; }\n}\n</code></pre>\n\n<p>My ViewModel Class:</p>\n\n<pre><code>public class ViewModel\n{\n        [Required]\n        public Model SelectedModel { get; set; }\n\n        public string Title { get; set;}\n}\n</code></pre>\n\n<p>My Controller:</p>\n\n<pre><code>        [HttpPost]\n        public ActionResult Create(ViewModel vm)\n        {\n            try\n            {\n                if (ModelState.IsValid)\n                {\n                    bool result = *DatabaseStuff*\n                    if(result == true)\n                    {\n                        return RedirectToAction(\"Index\");\n                    }\n                    else\n                    {\n                        return View();\n                    }\n                }\n                return RedirectToAction(\"Index\",vm);\n            }\n            catch\n            {\n                return View();\n            }\n        }\n</code></pre>\n\n<p>My View</p>\n\n<pre><code>@model ViewModel\n\n@using (Html.BeginForm(\"Create\", \"MyController\", FormMethod.Post))\n{\n    @Html.AntiForgeryToken()\n\n    &lt;div class=\"box box-primary\"&gt;\n        &lt;div class=\"box-header with-border\"&gt;\n            &lt;h4 class=\"box-title\"&gt;ViewModel Form&lt;/h4&gt;\n        &lt;/div&gt;\n        &lt;div class=\"box-body\"&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"col-md-12\"&gt;\n        @Html.ValidationSummary(true, \"\", new { @class = \"text-danger\" })\n\n        &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model =&gt; model.Title, htmlAttributes: new { @class = \"control-label\" })\n                @Html.EditorFor(model =&gt; model.Title, new { htmlAttributes = new { @class = \"form-control\" } })\n                @Html.ValidationMessageFor(model =&gt; model.Title, \"\", new { @class = \"text-danger\" })\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model =&gt; model.SelectedModel.Name, htmlAttributes: new { @class = \"control-label\" })\n                @Html.EditorFor(model =&gt; model.SelectedModel.Name, null, \"SelectedModel_Name\",new { htmlAttributes = new { @class = \"form-control\" } })\n                @Html.ValidationMessageFor(model =&gt; model.SelectedModel.Name, \"\", new { @class = \"text-danger\", @data_valmsg_for = \"SelectedModel_Name\" })\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model =&gt; model.SelectedModel.Adress, htmlAttributes: new { @class = \"control-label\" })\n                @Html.EditorFor(model =&gt; model.SelectedModel.Adress, null, \"SelectedModel_Adress\",new { htmlAttributes = new { @class = \"form-control\" } })\n                @Html.ValidationMessageFor(model =&gt; model.SelectedModel.Adress, \"\", new { @class = \"text-danger\", @data_valmsg_for = \"SelectedModel_Adress\" })\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;/div&gt;\n        &lt;div class=\"form-group\"&gt;\n            &lt;div class=\"box-footer\"&gt;\n                &lt;input type=\"submit\" value=\"Create\" class=\"btn btn-success pull-right\" /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n\n}\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "azure", ".net-core", "azureservicebus"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1568818247, "post_id": 57995489, "comment_id": 102397617, "body": "Why don&#39;t you tell us exactly what the error is? That&#39;s critical to the question and shouldn&#39;t be left out. And while you&#39;re at it take the time to format your code so it&#39;s more easily readable. Remove all that whitespace that isn&#39;t necessary."}, {"owner": {"reputation": 13382, "user_id": 428073, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/fca34fb2d6224dd1e55bd61491fcb9cb?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/428073/neo"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1568818380, "post_id": 57995489, "comment_id": 102397699, "body": "oh sorry my bad.. updated with error description , hope that will be helpful thanks"}], "answers": [{"comments": [{"owner": {"reputation": 13382, "user_id": 428073, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/fca34fb2d6224dd1e55bd61491fcb9cb?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/428073/neo"}, "edited": false, "score": 0, "creation_date": 1568819935, "post_id": 57995799, "comment_id": 102398566, "body": "thanks a lot ... how to read all possible messages at one go ?  have 5 messaged then at a time it will process only one :("}, {"owner": {"reputation": 98670, "user_id": 188096, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2hqrh.png?s=128&g=1", "display_name": "Gaurav Mantri", "link": "https://stackoverflow.com/users/188096/gaurav-mantri"}, "reply_to_user": {"reputation": 13382, "user_id": 428073, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/fca34fb2d6224dd1e55bd61491fcb9cb?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/428073/neo"}, "edited": false, "score": 1, "creation_date": 1568820862, "post_id": 57995799, "comment_id": 102399128, "body": "Please try to use <code>ReceiveBatchAsync()</code> - <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.servicebus.messaging.messagereceiver.receivebatchasync?view=azure-dotnet#Microsoft_ServiceBus_Messaging_MessageReceiver_ReceiveBatchAsync_System_Int32_\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 13382, "user_id": 428073, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/fca34fb2d6224dd1e55bd61491fcb9cb?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/428073/neo"}, "edited": false, "score": 0, "creation_date": 1568821317, "post_id": 57995799, "comment_id": 102399391, "body": "I tried ReceiveBatchAsync but i think using i&#39;m using .netcore gives error like - &#39;MessageReceiver&#39; does not contain a definition for &#39;ReceiveBatchAsync"}, {"owner": {"reputation": 13382, "user_id": 428073, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/fca34fb2d6224dd1e55bd61491fcb9cb?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/428073/neo"}, "edited": false, "score": 0, "creation_date": 1568821460, "post_id": 57995799, "comment_id": 102399475, "body": "i can do maxcount like this ReceiveAsync(10); will it affect ? how much maximum is good pls guide thanks"}, {"owner": {"reputation": 98670, "user_id": 188096, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2hqrh.png?s=128&g=1", "display_name": "Gaurav Mantri", "link": "https://stackoverflow.com/users/188096/gaurav-mantri"}, "reply_to_user": {"reputation": 13382, "user_id": 428073, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/fca34fb2d6224dd1e55bd61491fcb9cb?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/428073/neo"}, "edited": false, "score": 1, "creation_date": 1568821983, "post_id": 57995799, "comment_id": 102399784, "body": "Unfortunately I am not too familiar with .Net Core. I&#39;m hoping that someone who&#39;s an expert there will take a look and answer that. I would suggest posting a new question (to get more eyeballs)."}], "tags": [], "owner": {"reputation": 98670, "user_id": 188096, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2hqrh.png?s=128&g=1", "display_name": "Gaurav Mantri", "link": "https://stackoverflow.com/users/188096/gaurav-mantri"}, "is_accepted": true, "score": 3, "last_activity_date": 1568818925, "creation_date": 1568818925, "answer_id": 57995799, "question_id": 57995489, "link": "https://stackoverflow.com/questions/57995489/how-to-send-message-from-deadletter-topic-to-main-and-complete-it-using-net-cor/57995799#57995799", "title": "How to send message from Deadletter topic to Main and complete it using .net core c#", "body": "<p>Shouldn't you be using the lock token from the deadletter message?</p>\n\n<p>Essentially change this line of code:</p>\n\n<pre><code> await deadletterReceiver.CompleteAsync(newMessage.SystemProperties.LockToken); //Unlock the message and remove it from the DLQ\n</code></pre>\n\n<p>to</p>\n\n<pre><code> await deadletterReceiver.CompleteAsync(deadLetter.SystemProperties.LockToken); //Unlock the message and remove it from the DLQ\n</code></pre>\n"}], "owner": {"reputation": 13382, "user_id": 428073, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/fca34fb2d6224dd1e55bd61491fcb9cb?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/428073/neo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 1, "accepted_answer_id": 57995799, "answer_count": 1, "score": 0, "last_activity_date": 1568818925, "creation_date": 1568817911, "last_edit_date": 1568818904, "question_id": 57995489, "link": "https://stackoverflow.com/questions/57995489/how-to-send-message-from-deadletter-topic-to-main-and-complete-it-using-net-cor", "title": "How to send message from Deadletter topic to Main and complete it using .net core c#", "body": "<p>I'm able to send message to Main from Deadletter using below code but issue is unable to complete that message.</p>\n\n<p>error at this line - \n<code>await deadletterReceiver.CompleteAsync(newMessage.SystemProperties.LockToken);</code> </p>\n\n<blockquote>\n  <p>System.InvalidOperationException: Operation is not valid due to the\n  current state of the object.    at\n  Microsoft.Azure.ServiceBus.Message.SystemPropertiesCollection.ThrowIfNotReceived()\n  at\n  Microsoft.Azure.ServiceBus.Message.SystemPropertiesCollection.get_LockToken()</p>\n</blockquote>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public static async System.Threading.Tasks.Task RunAsync([TimerTrigger(\"0 */2 * * * *\")]TimerInfo myTimer, ILogger log)\n{\n    log.LogInformation($\"C# Timer trigger function executed at: {DateTime.Now}\");\n    try\n    {\n\n        var deadQueuePath = EntityNameHelper.FormatDeadLetterPath(\"demo/subscriptions/demo\");\n\n        MessageReceiver deadletterReceiver = new MessageReceiver(Environment.GetEnvironmentVariable(\"ConnectionStringSettingName\"), deadQueuePath, ReceiveMode.PeekLock,RetryPolicy.Default);\n        MessageSender sender = new MessageSender(Environment.GetEnvironmentVariable(\"ConnectionStringSettingName\"), \"demo\",RetryPolicy.Default);\n\n        var deadLetter = await deadletterReceiver.ReceiveAsync();\n        if (deadLetter != null)\n        {\n            log.LogInformation($\"got new message\");\n\n            Message newMessage = new Message(deadLetter.Body)\n            {\n                ContentType = deadLetter.ContentType,\n                CorrelationId = deadLetter.CorrelationId                          \n            };\n\n            //Send the message to the Active Queue\n            await sender.SendAsync(newMessage);\n            await deadletterReceiver.CompleteAsync(newMessage.SystemProperties.LockToken); //Unlock the message and remove it from the DLQ\n            log.LogInformation($\"Unlock the message and remove it from the DLQ\");\n        }\n    }\n    catch (Exception ex)\n    {\n        log.LogInformation($\"Exception: {ex}\");\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "winapi", "pinvoke"], "comments": [{"owner": {"reputation": 42375, "user_id": 21567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23a053b78fc2567576235b77fa2e4c16?s=128&d=identicon&r=PG", "display_name": "Christian.K", "link": "https://stackoverflow.com/users/21567/christian-k"}, "edited": false, "score": 2, "creation_date": 1568821051, "post_id": 57995482, "comment_id": 102399237, "body": "You&#39;d better have a complete example that can be run to attempt to reproduce what you see. Other than that, have you seen <a href=\"https://blogs.msdn.microsoft.com/winsdk/2015/08/28/logon-as-a-user-without-a-password/\" rel=\"nofollow noreferrer\">this</a>? From that article: <code>... how can you programmatically generate an S4U token? ... WindowsIdentity s4u = new WindowsIdentity(&quot;user@domain&quot;); ... You&#39;ll see that this code is much easier than calling LsaLogonUser()....</code>"}, {"owner": {"reputation": 6168, "user_id": 10611792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r727s.jpg?s=128&g=1", "display_name": "Drake Wu", "link": "https://stackoverflow.com/users/10611792/drake-wu"}, "edited": false, "score": 0, "creation_date": 1568866874, "post_id": 57995482, "comment_id": 102412334, "body": "Does this have <code>SeTcbPrivilege</code> permissions? Anyway, here is a <a href=\"https://social.msdn.microsoft.com/Forums/en-US/0f1c411b-996c-4a00-87bc-155f3a79feb3/inconsistent-behavior-of-lsalogonuser-windows-system-call?forum=vcgeneral\" rel=\"nofollow noreferrer\">sample</a> with <code>KerbS4ULogon</code> could help."}, {"owner": {"reputation": 113, "user_id": 2849221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/261f379ba619569efdf8fbeadf7f6981?s=128&d=identicon&r=PG&f=1", "display_name": "user2849221", "link": "https://stackoverflow.com/users/2849221/user2849221"}, "edited": false, "score": 0, "creation_date": 1569084937, "post_id": 57995482, "comment_id": 102484985, "body": "Thanks for your replies. I do know about creating a token via windowsidentity, but this is some code I was asked to make work. I am not sure of the utlimate objectives. Perhaps they are going to do some custom authentication which of course they could not do with  the new windowsidentitymethod. Regarding privileges, I am never sure if they need manually enabling or not (for some functions it seems to be enough that they exist) but I have anyway ensured SeTcbPrivilege was enabled."}, {"owner": {"reputation": 113, "user_id": 2849221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/261f379ba619569efdf8fbeadf7f6981?s=128&d=identicon&r=PG&f=1", "display_name": "user2849221", "link": "https://stackoverflow.com/users/2849221/user2849221"}, "edited": false, "score": 0, "creation_date": 1569085275, "post_id": 57995482, "comment_id": 102485066, "body": "I have noticed in some unrelated work that pinvoke.net sometimes does not match with current MS documentation (see DOCINFOW) so I will recheck all the declarations. Though I would be surprised if I had some declaration wrong and it still works as well as it does. I have come across just one other reference to the same problem on the Internet. This function seems to work for everyone once they get the arguments sorted. So I must be doing something wrong. Or there is some strange permission config in the domain I am using"}, {"owner": {"reputation": 113, "user_id": 2849221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/261f379ba619569efdf8fbeadf7f6981?s=128&d=identicon&r=PG&f=1", "display_name": "user2849221", "link": "https://stackoverflow.com/users/2849221/user2849221"}, "edited": false, "score": 0, "creation_date": 1569085881, "post_id": 57995482, "comment_id": 102485194, "body": "Drake Wu thanks for the link. I believe that is one of the many examples I have looked at to try to spot a flaw in my code. It looks like you work for MS? Are there any official support channels for problems such as this? Of course, I would expect to be charged, but that is not a problem"}, {"owner": {"reputation": 6168, "user_id": 10611792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r727s.jpg?s=128&g=1", "display_name": "Drake Wu", "link": "https://stackoverflow.com/users/10611792/drake-wu"}, "edited": false, "score": 0, "creation_date": 1569312568, "post_id": 57995482, "comment_id": 102546328, "body": "You may submit a feedback on <a href=\"https://github.com/MicrosoftDocs/feedback/issues\" rel=\"nofollow noreferrer\">feedback site</a> for microsoft docs, or sumbit it directly in feedback hub."}], "owner": {"reputation": 113, "user_id": 2849221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/261f379ba619569efdf8fbeadf7f6981?s=128&d=identicon&r=PG&f=1", "display_name": "user2849221", "link": "https://stackoverflow.com/users/2849221/user2849221"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568818339, "creation_date": 1568817884, "last_edit_date": 1568818339, "question_id": 57995482, "link": "https://stackoverflow.com/questions/57995482/lsalogonuser-does-not-return-token", "title": "lsalogonuser does not return token", "body": "<p>lsalogonuser does not return a token, even though the return is success and event viewer shows the user to be logged in</p>\n\n<p>The code matches many examples I found on the internet.\nSome of the parameters are tricky involving careful pointer manipulation to ensure contiguous data.\nBut I think all of that is probably ok, since I get a zero return code indicating success and the event viewer shows the user logged in.\nI have tried many variations of logon type. Some work and some don't. But I never get a non zero pointer for the token even for the ones that work</p>\n\n<p>One point of doubt was the kerb_logon_submit_type enum\nAt least one microsoft site makes no mention of the non linear values.\nBut I found the code below and indeed 12 seems to work for the s4u type\n(apart from non giving me a token)</p>\n\n<p>I am grateful for any ideas</p>\n\n<pre><code>enum KERB_LOGON_SUBMIT_TYPE {\n    KerbInteractiveLogon = 2,\n    KerbSmartCardLogon = 6,\n    KerbWorkstationUnlockLogon = 7,\n    KerbSmartCardUnlockLogon = 8,\n    KerbProxyLogon = 9,\n    KerbTicketLogon = 10,\n    KerbTicketUnlockLogon = 11,\n    KerbS4ULogon = 12,\n    KerbCertificateLogon = 13,\n    KerbCertificateS4ULogon = 14,\n    KerbCertificateUnlockLogon = 15,\n}\n\n[DllImport(\"secur32.dll\", SetLastError = true)]\nstatic extern uint LsaLogonUser(\n  [In] IntPtr LsaHandle,\n  [In] ref LSA_STRING OriginName,\n  [In] SECURITY_LOGON_TYPE LogonType,\n  [In] uint AuthenticationPackage,\n  [In] IntPtr AuthenticationInformation,\n  [In] uint AuthenticationInformationLength,\n  [In] IntPtr ptoken_groups,\n  [In] ref TOKEN_SOURCE SourceContext,\n  [Out] out IntPtr ProfileBuffer,\n  [Out] out uint ProfileBufferLength,\n  [Out] out LUID LogonId,\n  [Out] out IntPtr Token,\n  [Out] out QUOTA_LIMITS Quotas,\n  [Out] out uint SubStatus\n  );\n\n uint ntstatus = LsaLogonUser(lsahandle, ref origin_name, SECURITY_LOGON_TYPE.Network,\n      authentication_package, auth_info, auth_info_length,\n      IntPtr.Zero,\n      ref token_source,\n    out ProfileBuffer,\n    out ProfileBufferLength,\n    out LogonId,\n    out Token,\n    out quota_limits,\n    out SubStatus);\n</code></pre>\n\n<p>After the call the pointer to the token is always 0, even if the call \"succeeded\" in the sense that the user was logged in and it returned zero meaning success</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "reply_to_user": {"reputation": 213, "user_id": 7006502, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HyeUO6aKM5Q/AAAAAAAAAAI/AAAAAAAAAA8/FDss1XU4gZg/photo.jpg?sz=128", "display_name": "zhj", "link": "https://stackoverflow.com/users/7006502/zhj"}, "edited": false, "score": 0, "creation_date": 1568862344, "post_id": 57995662, "comment_id": 102411582, "body": "Well yes it&#39;s this or an additional <code>.</code> access everytime you access it"}], "tags": [], "owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "is_accepted": true, "score": 0, "last_activity_date": 1568818784, "last_edit_date": 1568818784, "creation_date": 1568818465, "answer_id": 57995662, "question_id": 57995272, "link": "https://stackoverflow.com/questions/57995272/copy-from-nets-data-to-logics-data-or-make-data-as-a-class-member/57995662#57995662", "title": "copy from net&#39;s data to logic&#39;s data or make data as a class member", "body": "<p>Well if you just don't like the <code>.</code> you could simply use <a href=\"https://docs.microsoft.com/dotnet/csharp/programming-guide/classes-and-structs/properties\" rel=\"nofollow noreferrer\">properties</a> like</p>\n\n<pre><code>public class BattleLogic\n{\n    public BattleData battleData;\n\n    // as expression body\n    public ulong id \n    {\n        get \n        {\n            return battleData.id; \n        }\n        set \n        {\n            battleData.id = value; \n        }\n    }\n    // basically the same as expression bodies\n    public string name { get =&gt; battleData.name; set =&gt; battleData.name = value; }\n    public int hp { get =&gt; battleData.hp; set =&gt; battleData.hp = value; }\n    public int atk { get =&gt; battleData.atk; set =&gt; battleData.atk = value; }\n}\n</code></pre>\n\n<p>Now you can read and write</p>\n\n<pre><code>var id = battleLogicReference.id;\nbattleLogicReference.name = \"XYZ\";\n</code></pre>\n"}], "owner": {"reputation": 213, "user_id": 7006502, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HyeUO6aKM5Q/AAAAAAAAAAI/AAAAAAAAAA8/FDss1XU4gZg/photo.jpg?sz=128", "display_name": "zhj", "link": "https://stackoverflow.com/users/7006502/zhj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 57995662, "answer_count": 1, "score": 0, "last_activity_date": 1568818784, "creation_date": 1568817239, "question_id": 57995272, "link": "https://stackoverflow.com/questions/57995272/copy-from-nets-data-to-logics-data-or-make-data-as-a-class-member", "title": "copy from net&#39;s data to logic&#39;s data or make data as a class member", "body": "<p>I'm using unity3d to develop a network game with ProtoBuff.</p>\n\n<p>I define a BattleData.proto</p>\n\n<pre><code>message BattleData\n{\n    required uint64  id = 1;\n    required string  name = 2;\n    required int32   hp  = 3;  \n    required int32   atk  = 4;  \n}\n</code></pre>\n\n<p>I recv data from net and deserialize the binary data to the class BattleData.</p>\n\n<p>now I have a problem about how to use it.</p>\n\n<p>If make data as a class member, I should use logic.battleData.XXX, otherwise I can use logic.atk as faster.</p>\n\n<p>I don't like the style one, because here is so many '.' , but if I \nchoose another, I must modify the class<code>BattleLogic</code> when the proto changed.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class BattleLogic{\n    public BattleData battleData;\n or???\n    public ulong id;\n    public string name;\n    public int hp;\n    public int atk;\n}\n\n</code></pre>\n"}, {"tags": ["c#", "mocking", "nsubstitute"], "comments": [{"owner": {"reputation": 1041, "user_id": 1073313, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0hAXX.jpg?s=128&g=1", "display_name": "Kjell Rilbe", "link": "https://stackoverflow.com/users/1073313/kjell-rilbe"}, "edited": false, "score": 0, "creation_date": 1568817494, "post_id": 57995234, "comment_id": 102397098, "body": "Come to think of it, I don&#39;t think my suggested approach would work. The <code>realObj.MyMethod()</code> call will make any internal calls to the real methods of <code>realObj</code>, rather than call the ones on <code>subst</code>, right?"}], "answers": [{"comments": [{"owner": {"reputation": 1041, "user_id": 1073313, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0hAXX.jpg?s=128&g=1", "display_name": "Kjell Rilbe", "link": "https://stackoverflow.com/users/1073313/kjell-rilbe"}, "edited": false, "score": 0, "creation_date": 1568889902, "post_id": 58005241, "comment_id": 102422690, "body": "Right, of course! Thanks! Re virtual, I&#39;ve already learned that it&#39;s not enough that a method implements an interface method. In fact, that&#39;s irrelevant; instead, being virtual is relevant. :-)"}, {"owner": {"reputation": 8768, "user_id": 906, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1390df8051dd4455a02939d2ec3c6d55?s=128&d=identicon&r=PG", "display_name": "David Tchepak", "link": "https://stackoverflow.com/users/906/david-tchepak"}, "reply_to_user": {"reputation": 1041, "user_id": 1073313, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0hAXX.jpg?s=128&g=1", "display_name": "Kjell Rilbe", "link": "https://stackoverflow.com/users/1073313/kjell-rilbe"}, "edited": false, "score": 1, "creation_date": 1568890396, "post_id": 58005241, "comment_id": 102422969, "body": "@KjellRilbe Here&#39;s an explanation for the <code>virtual</code>/interface requirement: <a href=\"https://nsubstitute.github.io/help/how-nsub-works/\" rel=\"nofollow noreferrer\">nsubstitute.github.io/help/how-nsub-works</a> The members need to be overridable so they can be replaced with substitute implementations."}, {"owner": {"reputation": 1041, "user_id": 1073313, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0hAXX.jpg?s=128&g=1", "display_name": "Kjell Rilbe", "link": "https://stackoverflow.com/users/1073313/kjell-rilbe"}, "edited": false, "score": 1, "creation_date": 1568903134, "post_id": 58005241, "comment_id": 102430593, "body": "Thanks, but I already understand it. I just didn&#39;t think properly. Ugh... Might be helpful to others though, so thanks for adding that comment."}], "tags": [], "owner": {"reputation": 8768, "user_id": 906, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1390df8051dd4455a02939d2ec3c6d55?s=128&d=identicon&r=PG", "display_name": "David Tchepak", "link": "https://stackoverflow.com/users/906/david-tchepak"}, "is_accepted": true, "score": 2, "last_activity_date": 1568875828, "creation_date": 1568875828, "answer_id": 58005241, "question_id": 57995234, "link": "https://stackoverflow.com/questions/57995234/nsubstitute-forpartsof-mock-all-methods-except-one/58005241#58005241", "title": "NSubstitute ForPartsOf mock all methods except one?", "body": "<p>You can opt-in to calling the base implementation of a normal sub.</p>\n\n<pre><code>public class MyClass\n{\n    public virtual int MyMethod() =&gt; 42;\n    public virtual int MyMethod1() =&gt; 1;\n    public virtual int MyMethod2() =&gt; 2;\n    public virtual int MyMethod3() =&gt; 3;\n}\n\n\n[Fact]\npublic void Sample() {\n    var sub = Substitute.For&lt;MyClass&gt;();\n\n    sub.When(x =&gt; x.MyMethod()).CallBase();            \n\n    // Returns from base:\n    Assert.Equal(42, sub.MyMethod());\n    // Other methods mocked (return default value for int):\n    Assert.Equal(0, sub.MyMethod1());\n    Assert.Equal(0, sub.MyMethod2());\n    Assert.Equal(0, sub.MyMethod3());\n}\n</code></pre>\n\n<p>Remember the disclaimer that all the methods on <code>MyClass</code> should be <code>virtual</code> for NSubstitute to be able to work with them. :)</p>\n"}], "owner": {"reputation": 1041, "user_id": 1073313, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0hAXX.jpg?s=128&g=1", "display_name": "Kjell Rilbe", "link": "https://stackoverflow.com/users/1073313/kjell-rilbe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 58005241, "answer_count": 1, "score": 1, "last_activity_date": 1568875828, "creation_date": 1568817100, "last_edit_date": 1568817724, "question_id": 57995234, "link": "https://stackoverflow.com/questions/57995234/nsubstitute-forpartsof-mock-all-methods-except-one", "title": "NSubstitute ForPartsOf mock all methods except one?", "body": "<p>Using NSubstitute, it's possible to mock only specific methods using <code>Substitute.ForPartsOf&lt;T&gt;()</code>. But this will by default call the real methods unless you specifically configure a method to be mocked, e.g. <code>mySubstitute.Configure().MyMethod().Returns(/*whatever*/)</code>.</p>\n\n<p>I would like to do the reverse: create a substitute that mocks all methods by default, and then specify one particular method to make a real call.</p>\n\n<p>Is there a nice clean way to do that?</p>\n\n<p>The best approach I've been able to come up with is (untested):</p>\n\n<pre><code>MyClass realObj = new MyClass();\nvar subst = Substitute.For&lt;MyClass&gt;();\nsubst.MyMethod().Returns(realObj.MyMethod());\n</code></pre>\n\n<p>I guess I'm looking for a shortcut to doing this:</p>\n\n<pre><code>var subst = Substitute.ForPartsOf&lt;MyClass&gt;();\n// Mock all methods except MyMethod:\nsubst.Configure().MyOtherMethod().Returns(/*whatever*/)\nsubst.Configure().MyThirdMethod().Returns(/*whatever*/)\n// ...\nsubst.Configure().MyLastMethod().Returns(/*whatever*/)\n</code></pre>\n"}, {"tags": ["c#", "json"], "comments": [{"owner": {"reputation": 13228, "user_id": 8398549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8tzrl.jpg?s=128&g=1", "display_name": "Cid", "link": "https://stackoverflow.com/users/8398549/cid"}, "edited": false, "score": 1, "creation_date": 1568817205, "post_id": 57995126, "comment_id": 102396909, "body": "<i>&quot;exactly with the following structure&quot;</i> You can&#39;t. This is invalid JSON (duplicated keys)"}, {"owner": {"reputation": 27, "user_id": 12078531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290a9ff98c11f6babd0af4befd121c8a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas R.", "link": "https://stackoverflow.com/users/12078531/lukas-r"}, "reply_to_user": {"reputation": 13228, "user_id": 8398549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8tzrl.jpg?s=128&g=1", "display_name": "Cid", "link": "https://stackoverflow.com/users/8398549/cid"}, "edited": false, "score": 0, "creation_date": 1568817463, "post_id": 57995126, "comment_id": 102397076, "body": "actually the <code>de:</code> is dynamic. every <code>de</code> has a different value. so no duplicated key. Sorry if I didnt explained this clearly"}, {"owner": {"reputation": 31375, "user_id": 659190, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7a16c1f4eac563f492421fefe315ed75?s=128&d=identicon&r=PG", "display_name": "Jodrell", "link": "https://stackoverflow.com/users/659190/jodrell"}, "edited": false, "score": 0, "creation_date": 1568818260, "post_id": 57995126, "comment_id": 102397625, "body": "Your question is hard to understand. Many JSON serialisers will convert <code>IDictionary&lt;TKey, TValue&gt;</code> to dynamically named values in JSON but, I don&#39;t understand how your desired JSON would map to your <code>Translations</code> type definition."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 12078531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290a9ff98c11f6babd0af4befd121c8a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas R.", "link": "https://stackoverflow.com/users/12078531/lukas-r"}, "edited": false, "score": 0, "creation_date": 1568818383, "post_id": 57995223, "comment_id": 102397701, "body": "Thank you at least I have the same structure as my Json Object now in C# but somehow  <code>JsonConvert.SerializeObject(dic)</code> only works with <code>&lt;string, string&gt;</code> not with <code>&lt;string, object&gt;</code>"}, {"owner": {"reputation": 27, "user_id": 12078531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290a9ff98c11f6babd0af4befd121c8a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas R.", "link": "https://stackoverflow.com/users/12078531/lukas-r"}, "edited": false, "score": 0, "creation_date": 1568819365, "post_id": 57995223, "comment_id": 102398266, "body": "works now. updated my question with my final solution. thanks for your help! Very easy solution"}], "tags": [], "owner": {"reputation": 372, "user_id": 3148919, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZCGjF.jpg?s=128&g=1", "display_name": "Riaz Raza", "link": "https://stackoverflow.com/users/3148919/riaz-raza"}, "is_accepted": true, "score": 0, "last_activity_date": 1568817815, "last_edit_date": 1568817815, "creation_date": 1568817078, "answer_id": 57995223, "question_id": 57995126, "link": "https://stackoverflow.com/questions/57995126/create-json-object-in-json-object-and-return-it-to-ajax/57995223#57995223", "title": "Create json Object in json Object and return it to Ajax", "body": "<p>You can use a dictionary of type <code>Dict&lt;string, object&gt;</code> instead of a class and populate it dynamically to match your required JSON object.</p>\n\n<p>UPDATE:</p>\n\n<p>Sample Code:</p>\n\n<pre><code>var dic = new Dictionary&lt;string, object&gt;();\n\ndic.Add(\"de\", new Dictionary&lt;string, object&gt;() { { \"en_GB\", \"en\" }, { \"de_DE\", \"de\" } });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62, "user_id": 11835629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NB1p.jpg?s=128&g=1", "display_name": "Anton Polchenko", "link": "https://stackoverflow.com/users/11835629/anton-polchenko"}, "edited": false, "score": 0, "creation_date": 1568818268, "post_id": 57995395, "comment_id": 102397636, "body": "@LukasR. It is actually not good tactic to form data on the client it will make your web page slow if you will do the parsing and other stuff on the client.  So my advice you should form your data in appropriate format on the server side."}], "tags": [], "owner": {"reputation": 62, "user_id": 11835629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NB1p.jpg?s=128&g=1", "display_name": "Anton Polchenko", "link": "https://stackoverflow.com/users/11835629/anton-polchenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1568817983, "last_edit_date": 1568817983, "creation_date": 1568817583, "answer_id": 57995395, "question_id": 57995126, "link": "https://stackoverflow.com/questions/57995126/create-json-object-in-json-object-and-return-it-to-ajax/57995395#57995395", "title": "Create json Object in json Object and return it to Ajax", "body": "<p>My advice would be, if you want to use a C# data model in JSON you have to modify your JS function that receive data so it will accept the data from C# model. This will be the more accurate way of doing it.</p>\n\n<p>But if you can't access the JS code or it is restricted from modification, you can use <strong>Newtonsoft</strong> <a href=\"https://www.newtonsoft.com/jsonschema/help/html/GenerateWithJsonNetAttributes.htm\" rel=\"nofollow noreferrer\">Json.NET</a> attributes this will allow you to make a modifications to your JSON document when building it from DataModel.</p>\n\n<p>Here is some example from Newtonsoft:</p>\n\n<pre><code>public class User\n{\n    // always require a string value\n    [JsonProperty(\"name\", Required = Required.Always)]\n    public string Name { get; set; }\n\n    // don't require any value\n    [JsonProperty(\"role\", NullValueHandling = NullValueHandling.Ignore)]\n    public string Role { get; set; }\n\n    // property is ignored\n    [JsonIgnore]\n    public string Password { get; set; }\n}\n</code></pre>\n\n<p>If this would't solve your problem it is always hardcode way of doing things with build the JSON string manually with Regex and etc. But I would recommend this as last option, in most cases it is possible to deal with JSON without hardcode.</p>\n\n<p>Referring to your comment that every <code>de:</code> is uniq, it is would be better to form your JSON documment as array.</p>\n\n<p>This will allow you to deserialize it as array and iterate through it.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 1519356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949608d24474fd4b793774655797dbfa?s=128&d=identicon&r=PG", "display_name": "ChronoMTB", "link": "https://stackoverflow.com/users/1519356/chronomtb"}, "is_accepted": false, "score": 0, "last_activity_date": 1568818807, "last_edit_date": 1568818807, "creation_date": 1568818346, "answer_id": 57995622, "question_id": 57995126, "link": "https://stackoverflow.com/questions/57995126/create-json-object-in-json-object-and-return-it-to-ajax/57995622#57995622", "title": "Create json Object in json Object and return it to Ajax", "body": "<p>If you do not wish to modify your existing data models, I believe you can achieve what you want with a <a href=\"https://www.newtonsoft.com/json/help/html/CustomJsonConverter.htm\" rel=\"nofollow noreferrer\">custom JsonConverter</a> (using Newtonsoft Json). I will try and put together a code sample later.</p>\n\n<p>That said, from what you have provided with your example, it looks like you are unnecessarily duplicating the data, which is hardly ever the best option.</p>\n"}], "owner": {"reputation": 27, "user_id": 12078531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290a9ff98c11f6babd0af4befd121c8a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas R.", "link": "https://stackoverflow.com/users/12078531/lukas-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 57995223, "answer_count": 3, "score": 1, "last_activity_date": 1568819553, "creation_date": 1568816796, "last_edit_date": 1568819553, "question_id": 57995126, "link": "https://stackoverflow.com/questions/57995126/create-json-object-in-json-object-and-return-it-to-ajax", "title": "Create json Object in json Object and return it to Ajax", "body": "<p>I currently have an <code>List&lt;Translations&gt;</code> in c# with this structure: </p>\n\n<pre><code>public class Translations\n{\n    public string en { get; set; }\n    public string de { get; set; }\n}\n</code></pre>\n\n<p>But I want to convert it now to an <strong>Json Object</strong> , because my function which calls this webservice by Ajax, needs the data exactly with the following structure:</p>\n\n<pre><code>{\n    de: { //-&gt; de stands for the stored value in translations class\n        'en_GB': en, //-&gt; en stand for stored  value in translations class\n        'de_DE': de // -&gt; de same value as the key de\n    }, \n    de: {\n        'en_GB': en,\n        'de_DE': de\n    },\n        de: {\n        'en_GB': en,\n        'de_DE': de\n    }, \n    ...\n}\n</code></pre>\n\n<p>How can I do that?\nI have already tried to create the classes I need with this tool: <a href=\"http://json2csharp.com/\" rel=\"nofollow noreferrer\">Json2CSharp</a> but the problem here is that I need to have <strong>dynamic key names</strong> of every object in my object. With this tool It creates me a static one for every object.</p>\n\n<p><strong>Solution</strong> <em>thanks to the help from Riaz Raza</em>:</p>\n\n<pre><code>public static string getTranslations()\n{\n    List&lt;Translations&gt; translations = Connector.TranslationList();\n    int count = translations.Count - 1;\n    var translationsObject = new Dictionary&lt;string, object&gt;();\n\n    for (int i = 0; i &lt;= count; i++)\n    {\n        translationsObject.Add(\n           translations[i].de,\n           new Dictionary&lt;string, object&gt;() {\n                 { \"en_GB\", translations[i].en },\n                 { \"de_DE\", translations[i].de } }\n             );\n\n    }\n\n    return JsonConvert.SerializeObject(translationsObject);\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "documentation"], "comments": [{"owner": {"reputation": 79, "user_id": 8071045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Lr8z.jpg?s=128&g=1", "display_name": "Mahan.A", "link": "https://stackoverflow.com/users/8071045/mahan-a"}, "edited": false, "score": 0, "creation_date": 1568817517, "post_id": 57995045, "comment_id": 102397114, "body": "<a href=\"https://devblogs.microsoft.com/dotnet/creating-interactive-net-documentation/\" rel=\"nofollow noreferrer\">Try.Net</a>  Something like this?"}, {"owner": {"reputation": 1472, "user_id": 2975589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yNmWF.png?s=128&g=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/2975589/maxim"}, "reply_to_user": {"reputation": 79, "user_id": 8071045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Lr8z.jpg?s=128&g=1", "display_name": "Mahan.A", "link": "https://stackoverflow.com/users/8071045/mahan-a"}, "edited": false, "score": 1, "creation_date": 1568818423, "post_id": 57995045, "comment_id": 102397733, "body": "No, Try.Net is a tool to <b>make your code inside Markdown files runnable</b>. I need a tool to generate docs from XML comments and host it online."}, {"owner": {"reputation": 79, "user_id": 8071045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Lr8z.jpg?s=128&g=1", "display_name": "Mahan.A", "link": "https://stackoverflow.com/users/8071045/mahan-a"}, "edited": false, "score": 0, "creation_date": 1568895073, "post_id": 57995045, "comment_id": 102425560, "body": "I see I understand, it seems like you may need specialist solution. I have used CAKE in the past to convert my mark downs inside code to be output as HTML and deployed those but that may not be enough for you either. Have a read of <a href=\"https://cakebuild.net/addins/markdown/\" rel=\"nofollow noreferrer\">Cake</a>. Its a really powerful tool that allows you to run build actions."}], "answers": [{"comments": [{"owner": {"reputation": 1472, "user_id": 2975589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yNmWF.png?s=128&g=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/2975589/maxim"}, "edited": false, "score": 0, "creation_date": 1568825900, "post_id": 57997485, "comment_id": 102401477, "body": "Yes, MS style doc iswhat I need. Does Sandcastle produce offline help file or hosts it somewhere on the web?"}, {"owner": {"reputation": 129, "user_id": 5552729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/663901f77417180727316a5d1908e11d?s=128&d=identicon&r=PG&f=1", "display_name": "jslowik", "link": "https://stackoverflow.com/users/5552729/jslowik"}, "reply_to_user": {"reputation": 1472, "user_id": 2975589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yNmWF.png?s=128&g=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/2975589/maxim"}, "edited": false, "score": 0, "creation_date": 1568826221, "post_id": 57997485, "comment_id": 102401590, "body": "It builds a second &quot;web app&quot; that in the few times I&#39;ve used it I just hosted alongside my deployed API. I&#39;ll admit to being far from an expert  user."}], "tags": [], "owner": {"reputation": 129, "user_id": 5552729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/663901f77417180727316a5d1908e11d?s=128&d=identicon&r=PG&f=1", "display_name": "jslowik", "link": "https://stackoverflow.com/users/5552729/jslowik"}, "is_accepted": true, "score": 1, "last_activity_date": 1568825444, "creation_date": 1568825444, "answer_id": 57997485, "question_id": 57995045, "link": "https://stackoverflow.com/questions/57995045/autodocumentation-for-c-code-hosted-online/57997485#57997485", "title": "Autodocumentation for C# code hosted online", "body": "<p>I've used Sandcastle in the past: <a href=\"https://github.com/EWSoftware/SHFB/wiki\" rel=\"nofollow noreferrer\">https://github.com/EWSoftware/SHFB/wiki</a></p>\n\n<p>Builds MS style documentation. Might be worth a look.</p>\n"}], "owner": {"reputation": 1472, "user_id": 2975589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yNmWF.png?s=128&g=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/2975589/maxim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 57997485, "answer_count": 1, "score": 0, "last_activity_date": 1568825444, "creation_date": 1568816582, "question_id": 57995045, "link": "https://stackoverflow.com/questions/57995045/autodocumentation-for-c-code-hosted-online", "title": "Autodocumentation for C# code hosted online", "body": "<p>Is there a service like <a href=\"https://readthedocs.org/\" rel=\"nofollow noreferrer\">ReadTheDocs</a> that allows you to automatically create documentation for C# code (from GitHub repo, for example) and host it on this service?</p>\n\n<p>I've tried ReadTheDocs and it seems it's for Python only.</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 2, "creation_date": 1568816818, "post_id": 57995032, "comment_id": 102396688, "body": "AFAIK, the answer is &quot;no; so don&#39;t do that&quot;"}, {"owner": {"reputation": 18719, "user_id": 1997232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/y6na2.png?s=128&g=1", "display_name": "Sinatr", "link": "https://stackoverflow.com/users/1997232/sinatr"}, "edited": false, "score": 0, "creation_date": 1568816990, "post_id": 57995032, "comment_id": 102396774, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/32000607/is-it-bad-practice-to-purposely-rely-on-linq-side-effects\">Is it bad practice to purposely rely on Linq Side Effects?</a>"}, {"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "reply_to_user": {"reputation": 18719, "user_id": 1997232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/y6na2.png?s=128&g=1", "display_name": "Sinatr", "link": "https://stackoverflow.com/users/1997232/sinatr"}, "edited": false, "score": 0, "creation_date": 1568817888, "post_id": 57995032, "comment_id": 102397391, "body": "@Sinatr, I&#39;m calling for a citation of documentation. I understand it&#39;s bad practice.  I understand what the implementation does.  I&#39;m looking for the specification, which I cannot find.  This is me saying that just because I haven&#39;t found any text that specifies the behaviour doesn&#39;t mean it doesn&#39;t exist.  I&#39;m wondering if someone can show me where it&#39;s written that either it&#39;s undefined behaviour, or it&#39;s permissible.  This is a <i>citation needed</i> request."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1568818140, "post_id": 57995032, "comment_id": 102397554, "body": "@Wyck the answer to that would be &quot;all of them&quot;. Is there a practical purpose to this or are you trying to convince someone that insists that nothing explicitly forbids side-effects? Because <i>nothing</i> does, but there are no guarantees either. LINQ is just the language. In LINQ to objects the source shows that the selector is called only once BUT a far more important consideration would be <i>how does GroupBy run?</i> Is it a greedy algorithm, ie it consume the entire source before producing results or not?"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1568818325, "post_id": 57995032, "comment_id": 102397669, "body": "In PLINQ, even working on an IEnumerable source, you&#39;d have no guarantee on the order the selector is called or even <i>which</i> thread would call it. In LINQ to Objects you can assume the source&#39;s order but what source would that be? LINQ operators can return custom enumerators and often do for performance reasons."}, {"owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 2, "creation_date": 1568818447, "post_id": 57995032, "comment_id": 102397755, "body": "I&#39;m not sure if this fits your case, but look here <a href=\"https://www.ecma-international.org/publications/files/ECMA-ST/ECMA-334.pdf\" rel=\"nofollow noreferrer\">Page 203</a>: <i>&quot;The C# language does not specify the execution semantics of query expressions&quot;</i>"}, {"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "reply_to_user": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 0, "creation_date": 1568818778, "post_id": 57995032, "comment_id": 102397956, "body": "@FCin  That&#39;s the kind of definitive thing I was looking for.  Thanks.  If you submit an answer, I will mark it as such."}], "answers": [{"comments": [{"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "edited": false, "score": 0, "creation_date": 1568818001, "post_id": 57995435, "comment_id": 102397470, "body": "I appreciate you delving into the implementation, but this is not a question of implementation.  This is a question of specification - requirements placed on all implementations."}, {"owner": {"reputation": 675, "user_id": 10509640, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SSEe2Qy_9R0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX6AjzcpVs7WMIlnQhePVVdiYZoGQ/mo/photo.jpg?sz=128", "display_name": "Daniel Crha", "link": "https://stackoverflow.com/users/10509640/daniel-crha"}, "reply_to_user": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "edited": false, "score": 0, "creation_date": 1568819343, "post_id": 57995435, "comment_id": 102398254, "body": "So out of curiosity, I peeked into the C# language spec. While LINQ is a part of the spec, it&#39;s merely the part that converts query syntax into method syntax. MSDN does mention that element groupings are emitted in the order that their first elements appear in the source, and that within a groupings the same ordering holds. This is still not part of any binding specification I know of though, so it could as well change between .NET versions."}], "tags": [], "owner": {"reputation": 675, "user_id": 10509640, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SSEe2Qy_9R0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX6AjzcpVs7WMIlnQhePVVdiYZoGQ/mo/photo.jpg?sz=128", "display_name": "Daniel Crha", "link": "https://stackoverflow.com/users/10509640/daniel-crha"}, "is_accepted": false, "score": 0, "last_activity_date": 1568817690, "creation_date": 1568817690, "answer_id": 57995435, "question_id": 57995032, "link": "https://stackoverflow.com/questions/57995032/what-are-we-guaranteed-regarding-side-effects-in-linq-predicates/57995435#57995435", "title": "What are we guaranteed regarding side-effects in LINQ predicates?", "body": "<p>From looking at the source code of GroupBy in corefx on GitHub, it does seems like the key selector function is indeed called once per element, and it is called in the order that the previous IEnumerable provides them. I would in no way consider this a guarantee though.</p>\n\n<p>In my view, any IEnumerables which cannot be enumerated multiple times safely are a big red flag that you may want to reconsider your design choices. An interesting issue that could arise from this is that for example if you view the contents of this IEnumerable in the Visual Studio debugger, it will probably break your code, since it would cause the <code>count</code> variable to go up.</p>\n\n<p>The reason this code hasn't exploded up until now is probably because the IEnumerable is never stored anywhere, since <code>.ToList</code> is called right away. Therefore there is no risk of multiple enumerations (again, with the caveat about viewing it in the debugger and so on).</p>\n"}, {"tags": [], "owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "is_accepted": true, "score": 1, "last_activity_date": 1568818946, "creation_date": 1568818946, "answer_id": 57995810, "question_id": 57995032, "link": "https://stackoverflow.com/questions/57995032/what-are-we-guaranteed-regarding-side-effects-in-linq-predicates/57995810#57995810", "title": "What are we guaranteed regarding side-effects in LINQ predicates?", "body": "<p>According to official <a href=\"https://www.ecma-international.org/publications/files/ECMA-ST/ECMA-334.pdf\" rel=\"nofollow noreferrer\">C# Language Specification</a>, on page 203, we can read (emphasis mine):</p>\n\n<blockquote>\n  <p>12.17.3.1 <strong>The C# language does not specify the execution semantics of query expressions</strong>. Rather, query expressions are\n  translated into invocations of methods that adhere to the\n  query-expression pattern (\u00a712.17.4). Specifically, query expressions\n  are translated into invocations of methods named Where, Select,\n  SelectMany, Join, GroupJoin, OrderBy, OrderByDescending, ThenBy,\n  ThenByDescending, GroupBy, and Cast. These methods are expected to\n  have particular signatures and return types, as described in \u00a712.17.4.\n  These methods may be instance methods of the object being queried or\n  extension methods that are external to the object. These methods\n  implement the actual execution of the query.</p>\n</blockquote>\n"}], "owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 57995810, "answer_count": 2, "score": 1, "last_activity_date": 1568818946, "creation_date": 1568816547, "last_edit_date": 1568818659, "question_id": 57995032, "link": "https://stackoverflow.com/questions/57995032/what-are-we-guaranteed-regarding-side-effects-in-linq-predicates", "title": "What are we guaranteed regarding side-effects in LINQ predicates?", "body": "<p>I just saw this bit of code that has a <code>count++</code> side-effect in the <code>.GroupBy</code> predicate.  (<a href=\"https://stackoverflow.com/q/57994218/1563833\">originally here</a>).</p>\n\n<pre class=\"lang-csharp prettyprint-override\"><code>object[,] data; // This contains all the data.\nint count = 0;\nList&lt;string[]&gt; dataList = data.Cast&lt;string&gt;()\n                          .GroupBy(x =&gt; count++ / data.GetLength(1))\n                          .Select(g =&gt; g.ToArray())\n                          .ToList();\n</code></pre>\n\n<p>This terrifies me because I have no idea how many times the implementation will invoke the <em>key selector</em> function.  And I also don't know if the function is guaranteed to be applied to each item in order.  I realize that, in practice, the implementation may very well just call the function once per item in order, but I never assumed that as being guaranteed, so I'm paranoid about depending on that behaviour -- especially given what may happen on other platforms, other future implementations, or after translation or deferred execution by other LINQ providers.</p>\n\n<p>As it pertains to a side-effect in the predicate, <strong>are we offered some kind of written guarantee</strong>, in terms of a LINQ specification or something, as to how many times the key selector function will be invoked, and in what order?</p>\n\n<p>Please, before you mark this question as a duplicate, I am looking for a citation of <strong>documentation or specification</strong> that says one way or the other whether this is undefined behaviour or not.</p>\n\n<hr>\n\n<p>For what it's worth, I would have written this kind of query the long way, by first performing a <em>select</em> query with a predicate that takes an index, then creating an anonymous object that includes the index and the original data, then grouping by that index, and finally selecting the original data out of the anonymous object.  That seems more like a <em>correct</em> way of doing functional programming.  And it also seems more like something that could be translated to a server-side query.  The side-effect in the predicate just seems wrong to me - and against the principles of both LINQ and functional programming, so I would assume there would be no guarantee specified and that this may very well be <strong><em>undefined behaviour</em></strong>.  Is it?</p>\n\n<p>I realize this question may be difficult to answer if the documentation and LINQ specification actually says nothing regarding side effects in predicates.  I want to know specifically whether:</p>\n\n<ol>\n<li>Specs say it's permissible and how. (I doubt it)</li>\n<li>Specs say it's undefined behaviour (I suspect this is true and am looking for a citation)</li>\n<li>Specs say nothing.  (Sloppy spec, if you ask me, but it would be nice to know if others have searched for language regarding side-effects and also come up empty.  Just because I can't find it doesn't mean it doesn't exist.)</li>\n</ol>\n"}, {"tags": ["c#"], "answers": [{"tags": [], "owner": {"reputation": 87, "user_id": 7309264, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205940507470822/picture?type=large", "display_name": "radren", "link": "https://stackoverflow.com/users/7309264/radren"}, "is_accepted": true, "score": 0, "last_activity_date": 1569123809, "last_edit_date": 1569123809, "creation_date": 1568866029, "answer_id": 58003585, "question_id": 57995030, "link": "https://stackoverflow.com/questions/57995030/how-to-group-and-name-series-chart-in-visual-studio-c/58003585#58003585", "title": "How to group and name series chart in visual studio c#", "body": "<p>I found my desired result by using this code</p>\n\n<pre><code>public void isichartdomestic(System.Data.DataTable initialDataSource)\n        {\n            chart3.Titles.Add(\"Your title\");\n            chart3.Legends.Add(\"Your Legend\");\n             for (int i = 1; i &lt; initialDataSource.Columns.Count; i++)\n            {\n                System.Windows.Forms.DataVisualization.Charting.Series series = new System.Windows.Forms.DataVisualization.Charting.Series();\n                foreach (DataRow dr in initialDataSource.Rows)\n                {\n                    double y = (double)dr[i];\n                    series.Points.AddXY(dr[\"DiscPort\"].ToString(), y);\n                    TotalDomestic += y;\n                }\n                chart3.Series.Add(series);\n                string NamaSeries = series.ToString();\n                NamaSeries = NamaSeries.Replace(\"Series-\",\"\");\n                chart3.Series[NamaSeries].IsValueShownAsLabel = true;\n                chart3.Series[NamaSeries].IsVisibleInLegend = true;\n                if (NamaSeries == \"Series1\")\n                {\n                    chart3.Series[NamaSeries].LegendText = \"Bag\";\n                }\n                else if (NamaSeries == \"Series2\")\n                {\n                    chart3.Series[NamaSeries].LegendText = \"Bulk\";\n                }\n                else if (NamaSeries == \"Series3\")\n                {\n                    chart3.Series[NamaSeries].LegendText = \"Clinker\";\n                }\n                else if (NamaSeries == \"Series4\")\n                {\n                    chart3.Series[NamaSeries].LegendText = \"Container\";\n                }\n            }\n            lb_TotalDomestic.Text = Convert.ToString(\"Total Domestic: \" + TotalDomestic);\n            TotalDomesticExport += TotalDomestic;\n\n        }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ROYVn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ROYVn.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 87, "user_id": 7309264, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205940507470822/picture?type=large", "display_name": "radren", "link": "https://stackoverflow.com/users/7309264/radren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 58003585, "answer_count": 1, "score": 0, "last_activity_date": 1569123809, "creation_date": 1568816535, "last_edit_date": 1568819497, "question_id": 57995030, "link": "https://stackoverflow.com/questions/57995030/how-to-group-and-name-series-chart-in-visual-studio-c", "title": "How to group and name series chart in visual studio c#", "body": "<p>I have DataGridView which consist of these data <a href=\"https://i.stack.imgur.com/p2GK2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p2GK2.png\" alt=\"sample DGV data\"></a></p>\n\n<p>From these data i would like to make the first column, airport name to group the third column and sum to their corresponding ActLoadQuantityTo which is in the fifth column, the cargo type which landed on the airport. right now my chart is messed up as it look like this </p>\n\n<pre><code>for (int j = 0; j &lt; dgv_3.Rows.Count; j++)\n        {\n            double Load_qty = 0;\n            double new_load_qty = 0;\n            DiscPort = dgv_3.Rows[j].Cells[\"ActDiscDischargingPort\"].Value.ToString();\n            DestType = dgv_3.Rows[j].Cells[\"SchLoadDestination\"].Value.ToString();\n            CargoType = dgv_3.Rows[j].Cells[\"SchLoadCargoType\"].Value.ToString();\n            string CargoType2 = \"Series-\" + CargoType;\n            Load_qty = Convert.ToDouble(dgv_3.Rows[j].Cells[\"ActLoadQuantityTon\"].Value);\n            if (chart3.Series.IndexOf(DiscPort) != -1)\n            {\n                chart3.Series[\"000 - Port\"].Points.AddY(Load_qty);\n            }\n            else\n            {\n                chart3.Series[\"000 - Port\"].Points.AddXY(DiscPort, Load_qty);\n            }\n        }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/J4IsL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J4IsL.png\" alt=\"enter image description here\"></a></p>\n\n<p>no grouping of series,etc. i've tried adding more series but it just doesn't make sense toward the DataGridView. and my expectation is that i would like the chart to look like this as I've described before</p>\n\n<p><a href=\"https://i.stack.imgur.com/haghd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/haghd.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any idea what set of code should it be?</p>\n"}, {"tags": ["c#", "http", "iis", "server", "reset"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1568816141, "post_id": 57994819, "comment_id": 102396238, "body": "This IIS site you&#39;re hitting - it&#39;s ASP.NET? If so, you should just be able to throw an exception from your site code."}, {"owner": {"reputation": 13, "user_id": 7043324, "user_type": "registered", "profile_image": "https://graph.facebook.com/1339230649442553/picture?type=large", "display_name": "Khatelyn Beluso", "link": "https://stackoverflow.com/users/7043324/khatelyn-beluso"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1568816739, "post_id": 57994819, "comment_id": 102396623, "body": "For now, I&#39;m testing with just local test sites (HTML, CSS) hosted in IIS. -- The final app will be deployed within our company to self heal (resetting in IIS) Site&#39;s that encountered server errors."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1568817545, "post_id": 57994819, "comment_id": 102397133, "body": "You know that just because a site throws a 500 doesn&#39;t mean the site needs to be restarted, right? 500 errors can happen for all sorts of different reasons on the server side - and restarting may not even fix them. In fact, I&#39;d guess that <i>most</i> 500 errors won&#39;t be fixed by restarting the site."}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1568825316, "post_id": 57994819, "comment_id": 102401256, "body": "This question in its current state cannot be answered. If you have control of that site, then its page can return any status code you like at any time you want. If you don&#39;t have control of that site, then there isn&#39;t much to discuss as you need the actual error to happen."}, {"owner": {"reputation": 13, "user_id": 7043324, "user_type": "registered", "profile_image": "https://graph.facebook.com/1339230649442553/picture?type=large", "display_name": "Khatelyn Beluso", "link": "https://stackoverflow.com/users/7043324/khatelyn-beluso"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1568906093, "post_id": 57994819, "comment_id": 102432396, "body": "@mason Yes I understand. Thanks for the insight however my app just simply &quot;attempts&quot; i thing is the right term, to try and fix the 500 error. If not the app will just log the event and send an email wo our administrators regarding the error. It&#39;s like our own httpstatus site monitoring but with an attempt to fix using rest. But thanka to you guys for all of your insights, learned so many things today since im new to IIS. Will be closing this question soon."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1568906216, "post_id": 57994819, "comment_id": 102432472, "body": "Your attempts are going to cause more harm than good. Imagine if you&#39;re using the site, then it goes down because <i>someone else</i> got a transient error. That&#39;s not proper monitoring. Identify what can go wrong with your app, such as connectivity  to web API&#39;s it might call, or databases. Create a status page that when you hit it, checks those things to make sure they&#39;re working. Then have your monitoring app hit that status page. If it&#39;s unavailable, send a notification to appropriate people. See <a href=\"https://docs.microsoft.com/en-us/azure/architecture/patterns/health-endpoint-monitoring\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/azure/architecture/patterns/&hellip;</a>"}, {"owner": {"reputation": 13, "user_id": 7043324, "user_type": "registered", "profile_image": "https://graph.facebook.com/1339230649442553/picture?type=large", "display_name": "Khatelyn Beluso", "link": "https://stackoverflow.com/users/7043324/khatelyn-beluso"}, "edited": false, "score": 0, "creation_date": 1568906387, "post_id": 57994819, "comment_id": 102432550, "body": "Oh, that&#39;s something to note down, got it. Sorry if I really sound like a noob to all of these server stuff. I really appreciate your answers"}], "owner": {"reputation": 13, "user_id": 7043324, "user_type": "registered", "profile_image": "https://graph.facebook.com/1339230649442553/picture?type=large", "display_name": "Khatelyn Beluso", "link": "https://stackoverflow.com/users/7043324/khatelyn-beluso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1568816352, "creation_date": 1568815947, "last_edit_date": 1568816352, "question_id": 57994819, "link": "https://stackoverflow.com/questions/57994819/simulating-a-server-error-on-iis-for-c-iis-resetter-app", "title": "Simulating a server error on IIS for C# IIS resetter app", "body": "<p>I developed an automation C# WinFormsApp which task is only to check website http statuses from my IIS server and if a website returns an error like <strong>error: 500-504</strong>, it will <strong>restart</strong> the Site in IIS and the error <strong>should be fixed</strong> due to the IIS reset.</p>\n\n<p>Is there any way of <strong>simulating/forcefully return errors like 503 or something from my site</strong>/IIS server so that I could <strong>test if resetting IIS Site</strong> really fixed the Site error?</p>\n"}]