[{"tags": ["typescript"], "comments": [{"owner": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "edited": false, "score": 1, "creation_date": 1507763725, "post_id": 46698509, "comment_id": 80345420, "body": "This is a duplicate question from the same person: <a href=\"https://stackoverflow.com/questions/46694669/typescript-how-to-get-function-by-name\" title=\"typescript how to get function by name\">stackoverflow.com/questions/46694669/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": false, "score": 0, "last_activity_date": 1507777327, "creation_date": 1507777327, "answer_id": 46700729, "question_id": 46698509, "link": "https://stackoverflow.com/questions/46698509/get-function-descriptor-by-name/46700729#46700729", "title": "Get function descriptor by name:", "body": "<p>You can add a index signature to your class:</p>\n\n<pre><code>class YourClass {\n    [key: string]: Function;\n\n    public someFunction(domContex: HTMLElement) {\n        let someData = domContext.dataset;\n        someData.filter(key =&gt; string.prototype.startsWith(\"event\"))\n            .foreach(key =&gt; domContext.bind(key.substr(5), this[someData[key]]);\n    }\n}\n</code></pre>\n\n<p>But this forces all your class members to be functions so you cannot have other properties.</p>\n\n<hr />\n\n<p>Or if you just want to bypass the type checking you can just cast <code>this</code> to any and access the function. Note that you will lose any type checking once you cast to <code>any</code>:</p>\n\n<pre><code>(this as any)[someData[key]]()\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 5050824, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1-X6rW9E0lY/AAAAAAAAAAI/AAAAAAAABFM/xe7p8bygNfU/photo.jpg?sz=128", "display_name": "Alexander Tolstikov", "link": "https://stackoverflow.com/users/5050824/alexander-tolstikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507777327, "creation_date": 1507760796, "last_edit_date": 1507761191, "question_id": 46698509, "link": "https://stackoverflow.com/questions/46698509/get-function-descriptor-by-name", "title": "Get function descriptor by name:", "body": "<p>How can I hook up an event to a function name which I have defined as a string? I'm tried this[funcName], but i'm get an error: \"type has no index signature\"?</p>\n\n<p>What is should be instead this[someData[key]] to get a delegate of current class by name.</p>\n\n<p>Test code sample:</p>\n\n<pre><code>&lt;div data-eventclick='ClickHandler' /&gt;\n...\npublic someFunction(domContex: HTMLElement) {\n   let someData = domContext.dataset;\n   someData.filter(key =&gt; string.prototype.startsWith(\"event\"))\n           .foreach(key =&gt; domContext.bind(key.substr(5), this[someData[key]]);\n}\n\n// It's can be as the result of this[someData[key]]\npublic ClickHandler() {\n    ...\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "firebase", "firebase-realtime-database", "observable"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 2288178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Cvuh.jpg?s=128&g=1", "display_name": "Xazzo", "link": "https://stackoverflow.com/users/2288178/xazzo"}, "edited": false, "score": 0, "creation_date": 1507822308, "post_id": 46701143, "comment_id": 80373401, "body": "thanks a lot, this really cleared it out so easy, now I understand why it was behaving like that. One little thing I still need to do a for loop after .map to iterate through each item in the list returned by firebase. <code>for(let booking of bookings){ ....</code>"}, {"owner": {"reputation": 11413, "user_id": 7176268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04229512cf43b446c03e7b902ca0b890?s=128&d=identicon&r=PG&f=1", "display_name": "LLai", "link": "https://stackoverflow.com/users/7176268/llai"}, "reply_to_user": {"reputation": 75, "user_id": 2288178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Cvuh.jpg?s=128&g=1", "display_name": "Xazzo", "link": "https://stackoverflow.com/users/2288178/xazzo"}, "edited": false, "score": 0, "creation_date": 1507824566, "post_id": 46701143, "comment_id": 80374779, "body": "@Xazzo good catch, I forgot to add that to my answer. updated"}], "tags": [], "owner": {"reputation": 11413, "user_id": 7176268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04229512cf43b446c03e7b902ca0b890?s=128&d=identicon&r=PG&f=1", "display_name": "LLai", "link": "https://stackoverflow.com/users/7176268/llai"}, "is_accepted": true, "score": 1, "last_activity_date": 1507824509, "last_edit_date": 1507824509, "creation_date": 1507780512, "answer_id": 46701143, "question_id": 46698328, "link": "https://stackoverflow.com/questions/46698328/angular-foreach-loop-on-returned-data-from-observable-firebase-driven/46701143#46701143", "title": "Angular forEach Loop on returned data from observable (Firebase driven)", "body": "<p>There is a disconnect in your <code>getPaymentsByDateRange()</code> method. You are returning the paymentsArray before it is populated.</p>\n\n<pre><code>getPaymentsByDateRange(startDate: number, endDate: number): Observable&lt;Payment[]&gt;{\n    let paymentsArray: Payment[] = [];\n    this.af.list('/bookings')\n        .subscribe(...); // asynchronous\n    // since this.af.list.subscribe is asynchronous, this returns before that call is finished.\n    return Observable.of(paymentsArray);\n}\n</code></pre>\n\n<p>You should instead return the <code>af.list</code> observable and subscribe only in the component. If you need to preprocess the data before the component uses it, you can use the rxjs .map operator</p>\n\n<pre><code>import 'rxjs/add/operator/map'; // import map operator\n\ngetPaymentsByDateRange(startDate: number, endDate: number): Observable&lt;Payment[]&gt;{\n    let paymentsArray: Payment[] = []; // you may want to move this inside the map. If you don't you may get duplicates everytime firebase emits the bookings\n    return this.af.list('/bookings')\n        .map(bookings =&gt; {\n            for(let booking of bookings){\n                if(booking.payments){\n                    for(let payment of booking.payments){\n                        //condition for date range\n                        if(startDate &lt;= payment.date &amp;&amp; payment.date &lt;= endDate){\n                            payment.booking_key = booking.$key; \n                            paymentsArray.push(payment);\n                        }\n                    }\n                }\n            }\n            //Sorting payments cronologicaly\n            paymentsArray.sort(function(paymentA, paymentB){\n                return paymentA.date - paymentB.date\n            });\n            return paymentsArray;\n        });\n}\n</code></pre>\n\n<p>This ensures that when you subscribe to this method, the onNext callback will only fire once the <code>af.list</code> observable emits.</p>\n\n<pre><code> this.paymentService.getPaymentsByDateRange(dates.startDate, dates.endDate)\n     .subscribe(payments =&gt; {\n         // fires when af.list observable emits\n     });\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 2288178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Cvuh.jpg?s=128&g=1", "display_name": "Xazzo", "link": "https://stackoverflow.com/users/2288178/xazzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14315, "favorite_count": 1, "accepted_answer_id": 46701143, "answer_count": 1, "score": 2, "last_activity_date": 1507824509, "creation_date": 1507759794, "last_edit_date": 1507779831, "question_id": 46698328, "link": "https://stackoverflow.com/questions/46698328/angular-foreach-loop-on-returned-data-from-observable-firebase-driven", "title": "Angular forEach Loop on returned data from observable (Firebase driven)", "body": "<p>I have an observable from a service that returns an array of Payment objects, once I subscribe to my observable I perform a loop to add the amounts of each of the objects in the array. the problem I'm having that on the first load the loop is not being executed for what I assume is because the data has not yet arrived, however, if I trigger .next on the subject of the observable it workes fine.</p>\n\n<p>The function of my component is like so:</p>\n\n<pre><code>paymentsSource = new Subject;\npayments$ = this.paymentsSource.asObservable();\npaymetsData:Payment[] = new Array();\ntotalPaymentsAmoutn:number = 0;\n\nngOnInit() {\n  this.payments$\n    .subscribe(\n     (dates:{startDate:number, endDate:number}) =&gt; {\n     //Here I need to performe some UTC and Locale conversion to dates thet are being passed on          \n      };\n      //Here I subscribe to my service          \n      this.paymentService.getPaymentsByDateRange(dates.startDate, dates.endDate)\n       .subscribe(\n         payments =&gt; {\n          this.totalPaymentsAmoutn = 0;\n          this.paymetsData = payments;\n          this.paymetsData.forEach( payment =&gt; {\n            this.totalPaymentsAmoutn += payment.amount;\n           })\n          });      \n       });\n\n\n//this.paymentsStartDate is declear some where else but it does exist previous to this point\nthis.paymentsSource.next({startDate:this.paymentsStartDate, endDate:this.paymentsStartDate});\n\n}\n\n//This function I can triger manualy on the view\nonPaymentDateRangeChanged($event){\n  this.paymentsSource.next({startDate:$event.startDate, endDate:$event.endDate});\n}\n</code></pre>\n\n<p>My Service function looks like this:</p>\n\n<pre><code>  getPaymentsByDateRange(startDate:number, endDate:number):Observable&lt;Payment[]&gt;{\n    let paymentsArray:Payment[] = [];\n    this.af.list('/bookings')\n      .subscribe(\n        (bookings) =&gt; {\n          for(let booking of bookings){\n            if(booking.payments){\n              for(let payment of booking.payments){\n                //condition for date range\n                if(startDate &lt;= payment.date &amp;&amp; payment.date &lt;= endDate){\n                  payment.booking_key = booking.$key; \n                  paymentsArray.push(payment);\n                }\n              }\n            }\n          }\n          //Sorting payments cronologicaly\n          paymentsArray.sort(function(paymentA, paymentB){\n            return paymentA.date - paymentB.date\n          });\n        }\n      );\n    return Observable.of(paymentsArray);\n  }\n</code></pre>\n\n<p>When the page loads I do get the array back and the view gets populated but the value for this.totalPaymentsAmoutn remains 0, if I trigger the function manually it returns the array and updates the this.totalPaymentsAmoutn perfectly.</p>\n\n<p>I am a bit new with Observables and I thought that once I subscribe to it if new data gets emitted It should run the script and update the data, I don't understand why on the first load is not working. I really think it has to do with not being able to perform the forEach loop since the array is still empty and I think that once the web sockets get connected consequent updates get push fast enough?</p>\n"}, {"tags": ["javascript", "typescript", "firebase", "google-cloud-functions"], "answers": [{"tags": [], "owner": {"reputation": 38514, "user_id": 394010, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aeeb400b9dfb7d0cd6fdcdfab9b84d6b?s=128&d=identicon&r=PG", "display_name": "Kato", "link": "https://stackoverflow.com/users/394010/kato"}, "is_accepted": true, "score": 2, "last_activity_date": 1507758483, "creation_date": 1507758483, "answer_id": 46698074, "question_id": 46697560, "link": "https://stackoverflow.com/questions/46697560/how-to-let-firebase-functions-find-index-js-from-another-directory/46698074#46698074", "title": "How to let Firebase functions find index.js from another directory?", "body": "<p>THere's currently no option to specify a different output folder for Functions, like you can for Hosting. So instead of this, you probably need to put your .ts files into a different folder (e.g. <code>myApp/functions_src</code>) and tell tsc to output the compiled versions into <code>myApp/functions</code> by using <code>--outdir ./functions</code> as <a href=\"https://stackoverflow.com/questions/24454371/typescript-how-to-keep-compiled-files-in-a-separate-directory\">described here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 531, "user_id": 3301056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d08bec4eb01cb0699bc7d23129ace59a?s=128&d=identicon&r=PG&f=1", "display_name": "Antony Harfield", "link": "https://stackoverflow.com/users/3301056/antony-harfield"}, "is_accepted": false, "score": 3, "last_activity_date": 1574264896, "creation_date": 1574264896, "answer_id": 58958333, "question_id": 46697560, "link": "https://stackoverflow.com/questions/46697560/how-to-let-firebase-functions-find-index-js-from-another-directory/58958333#58958333", "title": "How to let Firebase functions find index.js from another directory?", "body": "<p>By default, Firebase looks in the <code>functions/</code> folder for the source code but you can specify another folder by adding the following lines in <code>firebase.json</code>:</p>\n\n<pre><code>\"functions\": {\n  \"source\": \"another-folder\"\n}\n</code></pre>\n\n<p>Reference: <a href=\"https://firebase.google.com/docs/functions/manage-functions\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/functions/manage-functions</a></p>\n"}], "owner": {"reputation": 4733, "user_id": 1068497, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32c20ce344a5b5edf654c9bdfb61b947?s=128&d=identicon&r=PG", "display_name": "swang", "link": "https://stackoverflow.com/users/1068497/swang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 768, "favorite_count": 0, "accepted_answer_id": 46698074, "answer_count": 2, "score": 2, "last_activity_date": 1574264896, "creation_date": 1507755979, "question_id": 46697560, "link": "https://stackoverflow.com/questions/46697560/how-to-let-firebase-functions-find-index-js-from-another-directory", "title": "How to let Firebase functions find index.js from another directory?", "body": "<p>I'm using firebase functions with typescript similar to <a href=\"https://github.com/ultrasaurus/firebase-functions-typescript\" rel=\"nofollow noreferrer\">this instruction</a>. However, I want to keep all tsc compilation result in a separate build folder, so after <code>tsc</code> my project folder look like this:</p>\n\n<pre><code>myApp\n |__ functions\n      |__ src/index.ts\n      |__ build/src/index.js\n</code></pre>\n\n<p>How can I let firebase find <code>build/src/index.js</code> instead of <code>./index.js</code>? There doesn't seem to be a firebase deploy option for this.</p>\n\n<p>Currently I have to <code>cp build/src/index.js .</code> in my npm scripts but it feels like a hack.</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 1609, "user_id": 1156468, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/IndED.jpg?s=128&g=1", "display_name": "joHN", "link": "https://stackoverflow.com/users/1156468/john"}, "edited": false, "score": 0, "creation_date": 1507783350, "post_id": 46699558, "comment_id": 80350150, "body": "I like the concept of getting and adding token from the api service rather than each component. But isn&#39;t fetching token directly from db each time is an overhead, can I use it to store in local variable once fetched?"}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 1609, "user_id": 1156468, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/IndED.jpg?s=128&g=1", "display_name": "joHN", "link": "https://stackoverflow.com/users/1156468/john"}, "edited": false, "score": 1, "creation_date": 1507790138, "post_id": 46699558, "comment_id": 80352813, "body": "I think this is best when we consider the security of the app. I cannot see any performance issue here. And also you can nicely handle token expiration use case too. See <code>.catch((err: Error | Response) =&gt; {                 if (err instanceof Response &amp;&amp; err.status === 401) {                     this.events.publish(&#39;token-expiration&#39;);                 }                 return Observable.throw(err);             });</code>"}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 1609, "user_id": 1156468, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/IndED.jpg?s=128&g=1", "display_name": "joHN", "link": "https://stackoverflow.com/users/1156468/john"}, "edited": false, "score": 0, "creation_date": 1507832563, "post_id": 46699558, "comment_id": 80379149, "body": "Yes, Actually I have stored the <code>token</code> inside the <code>localstorage</code> i.e. <code>loggedInUser</code>."}], "tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": true, "score": 4, "last_activity_date": 1507769350, "last_edit_date": 1507769350, "creation_date": 1507768062, "answer_id": 46699558, "question_id": 46697445, "link": "https://stackoverflow.com/questions/46697445/ionic-3-how-to-ensure-db-data-fetched-before-view-is-loaded/46699558#46699558", "title": "Ionic 3 How to ensure db data fetched before view is loaded", "body": "<p>I have implemented above use case in this way.</p>\n\n<p>I have created <code>ApiService</code> for <code>CRUD</code> like below.That <code>code</code> is self-explanatory and if you need more info please let me know.</p>\n\n<p><em>api-service.ts</em></p>\n\n<pre><code>import { Injectable, } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\nimport { Headers, RequestOptions, BaseRequestOptions } from '@angular/http';\nimport { Storage } from '@ionic/storage';\nimport { Events } from 'ionic-angular';\n\n@Injectable()\nexport class ApiService {\n\n    constructor(private http: Http, private storage: Storage, private events: Events) { }\n\n    createHeader(headers: Headers) {\n        return new Promise((resolve, reject) =&gt; {\n            this.storage.get('loggedInUser')\n                .then((token: any) =&gt; {\n                    if (token) headers.append('Authorization', 'token ' + token.token);\n                    resolve(headers);\n                }, err =&gt; {\n                    resolve(headers);\n                });\n        });\n    }\n\n    get(api) {\n        let header = new Headers();\n        return Observable.fromPromise(this.createHeader(header))\n            .map(() =&gt; {\n                let options = new BaseRequestOptions();\n                options.withCredentials = true;\n                options.headers = header;\n                return options\n            })\n            .switchMap((options) =&gt; this.http.get(api, options))\n            .catch((err: Error | Response) =&gt; {\n                if (err instanceof Response &amp;&amp; err.status === 401) {\n                    this.events.publish('token-expiration');\n                }\n                return Observable.throw(err);\n            });\n    }\n\n    post(url, params): Observable&lt;any&gt; {\n        return new Observable(observer =&gt; {\n            let header = new Headers();\n            this.createHeader(header)\n                .then(() =&gt; {\n                    let options = new RequestOptions({ headers: header });\n                    this.http.post(url, params, options)\n                        .subscribe(response =&gt; {\n                            observer.next(response);\n                            observer.complete();\n                        }, (e) =&gt; {\n                            observer.error(e);\n                        });\n                })\n        })\n    }\n\n    delete(url) {\n        return new Observable(observer =&gt; {\n            let header = new Headers();\n            this.createHeader(header)\n                .then(() =&gt; {\n                    return this.http.delete(url, { headers: header, withCredentials: true })\n                        .subscribe(response =&gt; {\n                            observer.next(response);\n                            observer.complete();\n                        });\n                })\n        });\n    }\n\n}\n</code></pre>\n\n<p>Here I have created <code>loggedInUser</code> storage when the user logged into the app.It is also a <code>provider</code> as shown below.</p>\n\n<p><em>social-login.ts</em></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { ApiService } from \"../providers\";\nimport { LocalCacheServiceProvider } from \"../local-cache-service/local-cache-service\";\nimport { UserService } from \"../user-provider\";\nimport { Storage } from '@ionic/storage';\n\n\n@Injectable()\nexport class SocialLoginProvider {\n\n  constructor(private apiService: ApiService, private localCacheService: LocalCacheServiceProvider, private userService: UserService, private storage: Storage) {\n  }\n\n  //login To App\n  loginToApp(url: string, data: string) {\n    this.apiService.post(url, { access_token: data })\n      .map((res: any) =&gt; res.json())\n      .subscribe(res =&gt; {\n        this.setUserLocally(res);\n      });\n  }\n\n  //set User Locally\n  setUserLocally(user) {\n    this.localCacheService.clearAllKeys().then(() =&gt; {\n      this.userService.setLoggedInUser(user);\n      this.storage.set('loggedInUser', user);\n    });\n  }\n}\n</code></pre>\n\n<p>After that, I can consume above service (i.e. <code>ApiService</code>) through any of my <code>provider</code> (for <code>CRUD</code> operations) as shown below.</p>\n\n<p>This is the <code>ArticleService</code>.</p>\n\n<p><em>article-service.ts</em></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Observable } from \"rxjs/Observable\";\nimport 'rxjs/add/operator/map';\nimport { config } from '../config/config';\nimport { ApiService } from './api-service';\n\n\n@Injectable()\nexport class ArticleService {\n\n    constructor(private apiService: ApiService) {\n    }\n\n   getBookById(id) {\n        return this.apiService.get(`${config.getBookById}${id}/`).map((res: any) =&gt; res.json());\n    }  \n}\n</code></pre>\n\n<p>Above approach works perfectly fine for me.Hope this approach will help you too.If you need more help please let me know. </p>\n"}], "owner": {"reputation": 1609, "user_id": 1156468, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/IndED.jpg?s=128&g=1", "display_name": "joHN", "link": "https://stackoverflow.com/users/1156468/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2139, "favorite_count": 1, "accepted_answer_id": 46699558, "answer_count": 1, "score": 2, "last_activity_date": 1507769350, "creation_date": 1507755463, "last_edit_date": 1507768073, "question_id": 46697445, "link": "https://stackoverflow.com/questions/46697445/ionic-3-how-to-ensure-db-data-fetched-before-view-is-loaded", "title": "Ionic 3 How to ensure db data fetched before view is loaded", "body": "<p>I'm using token based authentication and token is already saved on DB.</p>\n\n<p>When app starts, I need to fetch the token from DB and make it available before making API calls. </p>\n\n<p>What is best way to do it:</p>\n\n<p>In Component:</p>\n\n<pre><code>ngOnit() {\nstorage.get('token').then((val) =&gt; {\n    Make api call here \n});\n}\n</code></pre>\n\n<p>Or in shared service:</p>\n\n<pre><code>getToken() {\n    return Promise((resolve, reject)=&gt;{\n       #if fetched once save in local var and resolve token  \n       #or fetch from DB and resolve token  \n    })\n}\n\n// On Component\nthis.sharedService.getToken().then((token)=&gt;{\n  //Make api call\n}\n</code></pre>\n\n<p>Is there any way I can ensure the DB token is fetched and store in shared services before view is loaded? The storage.get is a 'ES6 promise'</p>\n\n<p>Concern is responsibility of loading token before loading view is escalated to any bootstrapping event, so onViewLoad doesn't needs to be defined in each component.</p>\n"}, {"tags": ["javascript", "typescript", "nuget", "visual-studio-2017"], "answers": [{"tags": [], "owner": {"reputation": 51483, "user_id": 7460777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938b7ee32587b28c8634edec4a0f90c2?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Liu-MSFT", "link": "https://stackoverflow.com/users/7460777/leo-liu-msft"}, "is_accepted": true, "score": 3, "last_activity_date": 1507792033, "creation_date": 1507792033, "answer_id": 46703440, "question_id": 46696979, "link": "https://stackoverflow.com/questions/46696979/google-maps-api-v3-typescript-definition-file-bool-instead-of-boolean/46703440#46703440", "title": "Google Maps API v3 TypeScript Definition File bool instead of Boolean", "body": "<blockquote>\n  <p>Is there another way to fix this problem?</p>\n</blockquote>\n\n<p>AFAIK, what have you done is the correct way to fix this problem.</p>\n\n<p><strong>The type bool was renamed to <code>boolean</code> in TypeScript 0.9</strong> - the definitely typed declaration should been updated for this change for <code>google.maps</code>. But the latest update of this package is January 17, 2013 (1/17/2013):</p>\n\n<p><a href=\"https://i.stack.imgur.com/pHggN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pHggN.png\" alt=\"enter image description here\"></a></p>\n\n<p>After installed this package, we noticed that the definitely typed declaration are still use <code>bool</code>, so we need update those definitely typed declaration from <code>bool</code> to <code>boolean</code> manually before the author updates the package, otherwise, you may need to use the previous version of typescripts 0.9 in Visual Studio 2017.</p>\n"}], "owner": {"reputation": 649, "user_id": 1649515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32ecbed4e060b16e47f5b3af17cee1aa?s=128&d=identicon&r=PG", "display_name": "mkdave99", "link": "https://stackoverflow.com/users/1649515/mkdave99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 46703440, "answer_count": 1, "score": 3, "last_activity_date": 1507792033, "creation_date": 1507753674, "question_id": 46696979, "link": "https://stackoverflow.com/questions/46696979/google-maps-api-v3-typescript-definition-file-bool-instead-of-boolean", "title": "Google Maps API v3 TypeScript Definition File bool instead of Boolean", "body": "<p>After installing the latest Typescript Definition file for Google Maps using NuGet in Visual Studio 2017.  </p>\n\n<pre><code>Install-Package google.maps.d.ts -Version 1.0.10 \n</code></pre>\n\n<p>I get 118 occurrences of the following compiler error.\nError   TS2304  (TS) Cannot find name 'bool'</p>\n\n<p>My work around was to replace all occurrences of bool with Boolean.</p>\n\n<p>Is there another way to fix this problem?  </p>\n"}, {"tags": ["typescript", "error-handling", "angular2-forms", "angular-material2"], "comments": [{"owner": {"reputation": 3095, "user_id": 4811678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-r7uKZWJH11w/AAAAAAAAAAI/AAAAAAAAAHM/z23Cohreq6o/photo.jpg?sz=128", "display_name": "Will Howell", "link": "https://stackoverflow.com/users/4811678/will-howell"}, "edited": false, "score": 0, "creation_date": 1507754724, "post_id": 46696879, "comment_id": 80342227, "body": "Maybe take a look at this article <a href=\"https://blog.thoughtram.io/angular/2016/03/14/custom-validators-in-angular-2.html\" rel=\"nofollow noreferrer\">blog.thoughtram.io/angular/2016/03/14/&hellip;</a>?"}, {"owner": {"reputation": 3450, "user_id": 6191996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504f78646955fcac7085b880890cd82e?s=128&d=identicon&r=PG&f=1", "display_name": "jowey", "link": "https://stackoverflow.com/users/6191996/jowey"}, "edited": false, "score": 1, "creation_date": 1508923426, "post_id": 46696879, "comment_id": 80804002, "body": "Did you manage to get it working? If so could you share your solution please."}], "answers": [{"tags": [], "owner": {"reputation": 164, "user_id": 3051252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47bfb088780f8401ac9430a358e7d69c?s=128&d=identicon&r=PG", "display_name": "Thiago Coutinho", "link": "https://stackoverflow.com/users/3051252/thiago-coutinho"}, "is_accepted": false, "score": 3, "last_activity_date": 1523637606, "last_edit_date": 1523637606, "creation_date": 1512671782, "answer_id": 47701619, "question_id": 46696879, "link": "https://stackoverflow.com/questions/46696879/angular2-material-custom-validation-for-angular-material-input/47701619#47701619", "title": "Angular2 Material : Custom Validation for Angular Material Input", "body": "<p>You just have to change your function to receive a component as parameter and return null if everything is ok and an error object if it's not. Then, put it on the component validator's array.</p>\n\n<pre><code>// Control declaration\nemailFormControl = new FormControl('', [\n   Validators.required, \n   isUserNameTaken\n]\n\n// Correct validator funcion\nisUserNameTaken(component: Component): ValidationErrors {\n    this.attributeClasses = attributeClasseses;\n    this.attributeClasses.find( object =&gt; {\n        if(object.attributeClass === this.attributeClass) {\n            console.log(\"found \" + JSON.stringify(object));\n            // found the username\n            return {\n                username-already-taken: {\n                    username: component.value\n                }\n            };\n        }\n    });\n    // Everything is ok\n    return null;\n}\n</code></pre>\n\n<p>It's explained in more depth in the link that <a href=\"https://stackoverflow.com/users/4811678/will-howell\">Will Howell</a> put on the comments. It also explains how to do the same for non reactive forms.</p>\n\n<p><a href=\"https://blog.thoughtram.io/angular/2016/03/14/custom-validators-in-angular-2.html#building-a-custom-validator\" rel=\"nofollow noreferrer\">Tutorial</a></p>\n"}], "owner": {"reputation": 1551, "user_id": 1881894, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Xl24H.png?s=128&g=1", "display_name": "Morez", "link": "https://stackoverflow.com/users/1881894/morez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5660, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1523637606, "creation_date": 1507753224, "last_edit_date": 1507754659, "question_id": 46696879, "link": "https://stackoverflow.com/questions/46696879/angular2-material-custom-validation-for-angular-material-input", "title": "Angular2 Material : Custom Validation for Angular Material Input", "body": "<p>In my Angular 2 and material application, I want to check whether username has already taken or not. If it is already taken then it should show the error.</p>\n\n<p>I am following below guide.<br>\n<a href=\"https://material.angular.io/components/input/overview#error-messages\" rel=\"nofollow noreferrer\">https://material.angular.io/components/input/overview#error-messages</a> </p>\n\n<p><strong>Typescript file</strong></p>\n\n<pre><code>import {Component} from '@angular/core';\nimport {FormControl, Validators} from '@angular/forms';\n\nconst existingUserNames = ['rohit', 'mohit', 'ronit'];\n\n@Component({\n   selector: 'input-errors-example',\n   templateUrl: 'input-errors-example.html',\n   styleUrls: ['input-errors-example.css'],\n})\nexport class InputErrorsExample {\n\n    emailFormControl = new FormControl('', [\n         Validators.required\n    ]\n\n    // I want to call below isUserNameTaken function but dont know \n    // how to use it with Validators so that error message will be visible.\n\n    isUserNameTaken() : boolean {\n       this.attributeClasses = attributeClasseses;\n       this.attributeClasses.find( object =&gt; {\n           if(object.attributeClass === this.attributeClass) {\n               console.log(\"found \" + JSON.stringify(object));\n               return true;\n           }\n       });\n       return false;\n   }\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code> &lt;form class=\"example-form\"&gt;\n   &lt;md-form-field class=\"example-full-width\"&gt;\n     &lt;input mdInput placeholder=\"Email [formControl]=\"emailFormControl\"&gt;\n    &lt;md-error *ngIf=\"emailFormControl.hasError('required')\"&gt;\n      Email is &lt;strong&gt;required&lt;/strong&gt;\n    &lt;/md-error&gt;\n\n  &lt;!-- I want to make something like that - custom validation --&gt;\n\n     &lt;md-error *ngIf=\"emailFormControl.hasError('username-already-taken')\"&gt;\n        Username is already taken. Please try another.\n    &lt;/md-error&gt;\n  &lt;!-- custom validation end --&gt;        \n\n     &lt;/md-form-field&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["javascript", "typescript", "module", "requirejs", "amd"], "owner": {"reputation": 36, "user_id": 7907835, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431773586843351/picture?type=large", "display_name": "Lucas Paganini", "link": "https://stackoverflow.com/users/7907835/lucas-paganini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507752163, "creation_date": 1507752163, "question_id": 46696592, "link": "https://stackoverflow.com/questions/46696592/cant-setup-entry-initial-module-when-using-typescript-with-amd", "title": "Can&#39;t setup entry/initial module when using typescript with AMD", "body": "<p>Let's say I have a main module that should be the starting point for all the other necessary modules on my page. This module is the <code>main-module.ts</code>.</p>\n\n<p>I also have another module to format numbers, that's the <code>number-formatter.ts</code>. It's in the <code>services</code> folder.</p>\n\n<p>I want the Typescript Compiler to compile a single file, starting from the <code>main-module.ts</code> and import everything it requires.</p>\n\n<p>It does that, but the generated script doesn't execute the <code>main-module</code>. The correct way should be to generate the <code>main-module</code> as an anonymous module, that way, the requirejs will execute it ASAP. But it gives a name to the main module, and that ruins everything because no module is ever called.</p>\n\n<h2>What's an anonymous module?</h2>\n\n<p>It's a module without a name. Example:</p>\n\n<pre><code>define(['i-need-this', 'i-also-need-this'], function(){\n    // I do something here...\n});\n</code></pre>\n\n<p>If the module has a name, it will only be executed when it's called, but if it's anonymous, it will execute ASAP.</p>\n\n<p>Example of a module with a name:</p>\n\n<pre><code>define('this-is-my-name', ['i-need-this', 'i-also-need-this'], function(){\n        // I do something here...\n    });\n</code></pre>\n\n<p>The module above will only be executed if it's required (<code>require(['this-is-my-name'])</code>) or if some other module that was required has this module as a dependency.</p>\n\n<h1>The source code</h1>\n\n<h2>main-module.ts</h2>\n\n<pre><code>import { NumberFormatter } from '../services/number-formatter';\n\nalert(\n    NumberFormatter.toCurrency(\n        NumberFormatter.round(19284.18, {roundBy: 10})\n    )\n);\n</code></pre>\n\n<h2>number-formatter.ts</h2>\n\n<pre><code>export class NumberFormatter {\n\n    static round(value: number, options?: {roundBy: number}): number {\n\n        let defaultOptions: {roundBy: number} = {\n            roundBy: 1};\n        options = {...defaultOptions, ...options};\n\n        return Math\n            .round(value / options.roundBy) * options.roundBy;\n    }\n\n    static toCurrency(value: number, options?: {thousandsSeparator: string}): string {\n\n        let defaultOptions: {thousandsSeparator: string} = {\n            thousandsSeparator: '.'};\n        options = {...defaultOptions, ...options};\n\n        return value\n            .toFixed(2)\n            .toString()\n            .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \";\")\n            .replace(/\\./g, \",\")\n            .replace(/\\;/g, options.thousandsSeparator);\n    }\n\n}\n</code></pre>\n\n<h2>tsconfig.json</h2>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"lib\": [\n            \"dom\",\n            \"es5\",\n            \"scripthost\",\n            \"es2015.iterable\"\n        ],\n        \"target\": \"es5\",\n        \"outFile\": \"dist/script.js\",\n        \"module\": \"AMD\",\n        \"noEmitOnError\": false,\n        \"noImplicitAny\": true\n    },\n    \"include\": [\n        \"src/scripts/main-module.ts\"\n    ]\n}\n</code></pre>\n\n<h1>The generated code</h1>\n\n<p><strong>Don't freak out!</strong> There's a lot of stuff in the generated code, most of it is just converting everything to ES5. What's important here is that the main-module is named as <code>main-module</code>. If we just remove that name, everything works as expected.</p>\n\n<h2>script.js</h2>\n\n<pre><code>var __assign = (this &amp;&amp; this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i &lt; n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\ndefine(\"services/number-formatter\", [\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    var NumberFormatter = /** @class */ (function () {\n        function NumberFormatter() {\n        }\n        NumberFormatter.round = function (value, options) {\n            var defaultOptions = {\n                roundBy: 1\n            };\n            options = __assign({}, defaultOptions, options);\n            return Math\n                .round(value / options.roundBy) * options.roundBy;\n        };\n        NumberFormatter.toCurrency = function (value, options) {\n            var defaultOptions = {\n                thousandsSeparator: '.'\n            };\n            options = __assign({}, defaultOptions, options);\n            return value\n                .toFixed(2)\n                .toString()\n                .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \";\")\n                .replace(/\\./g, \",\")\n                .replace(/\\;/g, options.thousandsSeparator);\n        };\n        return NumberFormatter;\n    }());\n    exports.NumberFormatter = NumberFormatter;\n});\ndefine(\"main-module\", [\"require\", \"exports\", \"services/number-formatter\"], function (require, exports, number_formatter_1) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    alert(number_formatter_1.NumberFormatter.toCurrency(number_formatter_1.NumberFormatter.round(19284.18, { roundBy: 10 })));\n});\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 4010, "user_id": 1015495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XL7y1.jpg?s=128&g=1", "display_name": "Mike G", "link": "https://stackoverflow.com/users/1015495/mike-g"}, "edited": false, "score": 1, "creation_date": 1507751021, "post_id": 46696266, "comment_id": 80340351, "body": "Is this insufficient? <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/advanced-types.html</a>"}, {"owner": {"reputation": 4029, "user_id": 80280, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wfRgf.jpg?s=128&g=1", "display_name": "Eric Liprandi", "link": "https://stackoverflow.com/users/80280/eric-liprandi"}, "reply_to_user": {"reputation": 4010, "user_id": 1015495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XL7y1.jpg?s=128&g=1", "display_name": "Mike G", "link": "https://stackoverflow.com/users/1015495/mike-g"}, "edited": false, "score": 6, "creation_date": 1507751191, "post_id": 46696266, "comment_id": 80340428, "body": "yes. That&#39;s not an API documentation. That&#39;s a handbook, a guide, etc. For the past 15 years, I have been used to documentation about classes like this: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic?view=netframework-4.7\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "edited": false, "score": 0, "creation_date": 1507756934, "post_id": 46696266, "comment_id": 80343211, "body": "@EricLiprandi <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a> describes native JavaScript things (which are available in TypeScript too). I am not sure whether TypeScript actually defines any own types (probably, it does)"}, {"owner": {"reputation": 1, "user_id": 4272294, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001090148869/picture?type=large", "display_name": "Krzys", "link": "https://stackoverflow.com/users/4272294/krzys"}, "edited": false, "score": 4, "creation_date": 1531418219, "post_id": 46696266, "comment_id": 89605862, "body": "AFAIK it&#39;s not documented, but you can take a look to the source: <a href=\"https://github.com/Microsoft/TypeScript/blob/616e6e6ca3e87313cc111413ad74d0b49a6cf667/src/lib/es5.d.ts#L1331-L1394\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/blob/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2215, "user_id": 1075980, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/119d0b08394d2a9da34a3577421b37e4?s=128&d=identicon&r=PG", "display_name": "Zarepheth", "link": "https://stackoverflow.com/users/1075980/zarepheth"}, "edited": false, "score": 1, "creation_date": 1534860981, "post_id": 46697820, "comment_id": 90851523, "body": "Pressing [F12] just brings me to the *.d.ts files; which simply show the same information has the IDE&#39;s Intellisense. Actual behavior will not be found in them. As an example (and why I ended up here) I&#39;m looking for documentation for <code>Map&lt;K,V&gt;</code>, specifically the behavior of its <code>delete(k:K)</code> method and what happens if the key does not exist. That information is not readily found on the TypeScript documentation site - or anywhere else..."}, {"owner": {"reputation": 8361, "user_id": 439026, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb050c54b891309ffdd14a0e1fdd5e66?s=128&d=identicon&r=PG", "display_name": "zeh", "link": "https://stackoverflow.com/users/439026/zeh"}, "reply_to_user": {"reputation": 2215, "user_id": 1075980, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/119d0b08394d2a9da34a3577421b37e4?s=128&d=identicon&r=PG", "display_name": "Zarepheth", "link": "https://stackoverflow.com/users/1075980/zarepheth"}, "edited": false, "score": 0, "creation_date": 1534875856, "post_id": 46697820, "comment_id": 90859730, "body": "@Zarepheth As described, F12 takes you to the <i>definition</i>, not to the <i>implementation</i>. Nothing will; it&#39;s browser-specific native code, not JavaScript code (and much less TypeScript). In your case, if a key does not exist in <code>delete(k)</code> it simply returns <code>false</code>. That&#39;s described <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/delete\" rel=\"nofollow noreferrer\">in the documentation I linked to above</a> so I&#39;m not sure what else is needed."}], "tags": [], "owner": {"reputation": 8361, "user_id": 439026, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb050c54b891309ffdd14a0e1fdd5e66?s=128&d=identicon&r=PG", "display_name": "zeh", "link": "https://stackoverflow.com/users/439026/zeh"}, "is_accepted": false, "score": 4, "last_activity_date": 1507829747, "last_edit_date": 1507829747, "creation_date": 1507757163, "answer_id": 46697820, "question_id": 46696266, "link": "https://stackoverflow.com/questions/46696266/where-can-i-find-documentation-for-typescripts-built-in-types-and-standard-libr/46697820#46697820", "title": "Where can I find documentation for TypeScript&#39;s built-in types and standard library?", "body": "<p>This is not a TypeScript standard library, it's ECMAScript, so you won't find a TS-specific reference.</p>\n\n<p>Luckily there are lots of references for that around. I normally tend to just do a quick Google search and end up in places like <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects\" rel=\"nofollow noreferrer\">MDN</a>, which IMO the best place for modern JS reference. If you like Microsoft and MSDN stuff, they have <a href=\"https://docs.microsoft.com/en-us/scripting/javascript/reference/javascript-reference\" rel=\"nofollow noreferrer\">their own JS-specific reference</a>, but I don't think it's as good as MDN.</p>\n\n<p>The problem with the above is that it doesn't really refer to how types are treated by TS. You'll find a reference to <code>Map()</code>, not to <code>Map&lt;T1, T2&gt;()</code>. So which type to use where, especially where generics come into play, is a bit implied.</p>\n\n<p>I found that to quickly check how those types are treated, inspecting a type (e.g. hitting F12 when your cursor is over a type in Visual Studio Code) suffices. It'll take you to the specific (internal) definition of the type. For example, for <code>Map</code>, you'll be taken to <a href=\"https://github.com/Microsoft/TypeScript/blob/master/lib/lib.es6.d.ts#L4604\" rel=\"nofollow noreferrer\">this piece of code</a>. All the definition libs are also <a href=\"https://github.com/Microsoft/TypeScript/tree/master/lib\" rel=\"nofollow noreferrer\">available online</a> if you need to check them beforehand.</p>\n"}], "owner": {"reputation": 4029, "user_id": 80280, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wfRgf.jpg?s=128&g=1", "display_name": "Eric Liprandi", "link": "https://stackoverflow.com/users/80280/eric-liprandi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2392, "favorite_count": 1, "answer_count": 1, "score": 10, "last_activity_date": 1548111474, "creation_date": 1507750883, "question_id": 46696266, "link": "https://stackoverflow.com/questions/46696266/where-can-i-find-documentation-for-typescripts-built-in-types-and-standard-libr", "title": "Where can I find documentation for TypeScript&#39;s built-in types and standard library?", "body": "<p>I love working with TypesScript (as a former C# dev) and I spend hours every month browsing through the online <a href=\"https://www.typescriptlang.org/docs/home.html\" rel=\"noreferrer\">documentation</a>.</p>\n\n<p>However, I can't seem to find documentation about built-in types such as <code>Map&lt;T1,T2&gt;</code>, etc.</p>\n\n<p>The documentation refers to the <em>standard library</em> in a few places, but I also cannot seem to find documentation for that (for example, the <code>Partial&lt;T&gt;</code> awesome class.</p>\n\n<p>Am I just missing it?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 8265, "user_id": 2425396, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/32c3186cd3e9521009b79e70501057d8?s=128&d=identicon&r=PG", "display_name": "omeralper", "link": "https://stackoverflow.com/users/2425396/omeralper"}, "edited": false, "score": 2, "creation_date": 1507752516, "post_id": 46696143, "comment_id": 80341159, "body": "Don&#39;t edit your real object. Clone it."}], "answers": [{"comments": [{"owner": {"reputation": 275, "user_id": 18450, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b00fd3315b522e06fd03fe14fcc2e847?s=128&d=identicon&r=PG", "display_name": "Rob Murdoch", "link": "https://stackoverflow.com/users/18450/rob-murdoch"}, "edited": false, "score": 0, "creation_date": 1507766137, "post_id": 46697950, "comment_id": 80345981, "body": "If I understand this suggestion, I would have to manage some state to know what to reset the hero too."}], "tags": [], "owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "is_accepted": false, "score": 2, "last_activity_date": 1507757809, "creation_date": 1507757809, "answer_id": 46697950, "question_id": 46696143, "link": "https://stackoverflow.com/questions/46696143/undo-changes-to-model-state-when-angular-form-is-canceled/46697950#46697950", "title": "Undo changes to model state when angular form is canceled", "body": "<p>If you make a reset() method, where you set the default values, then you can call it whenever it's needed, as in ngOninit and reset button click:</p>\n\n<pre><code>  ngOnInit(){\n    this.reset();\n  }\n  reset(){\n    this.hero = new Hero(1,'Plunker');\n  }\n\n  cancel(myForm){\n    this.reset();\n  }\n</code></pre>\n\n<p><a href=\"https://plnkr.co/edit/kgLDqmrTtCHAuwpfwk1O?p=preview\" rel=\"nofollow noreferrer\">DEMO</a></p>\n\n<p>You can reunite cancel() and reset() by refactoring, but you may want keep it as is in case you add something else in cancel.</p>\n"}, {"comments": [{"owner": {"reputation": 275, "user_id": 18450, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b00fd3315b522e06fd03fe14fcc2e847?s=128&d=identicon&r=PG", "display_name": "Rob Murdoch", "link": "https://stackoverflow.com/users/18450/rob-murdoch"}, "edited": false, "score": 0, "creation_date": 1507902374, "post_id": 46699305, "comment_id": 80408930, "body": "Given what Vega posted in the other answer, I think we can conclude that when you want to provide a cancel form button, you have to use reactive forms."}], "tags": [], "owner": {"reputation": 275, "user_id": 18450, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b00fd3315b522e06fd03fe14fcc2e847?s=128&d=identicon&r=PG", "display_name": "Rob Murdoch", "link": "https://stackoverflow.com/users/18450/rob-murdoch"}, "is_accepted": false, "score": 2, "last_activity_date": 1507766349, "creation_date": 1507766349, "answer_id": 46699305, "question_id": 46696143, "link": "https://stackoverflow.com/questions/46696143/undo-changes-to-model-state-when-angular-form-is-canceled/46699305#46699305", "title": "Undo changes to model state when angular form is canceled", "body": "<p>From the angular documentation, I guess the solution is to use a reactive form instead of a template driven form.\n<a href=\"https://angular.io/guide/reactive-forms\" rel=\"nofollow noreferrer\">https://angular.io/guide/reactive-forms</a> reads (emphasis :</p>\n\n<blockquote>\n  <p>In keeping with the reactive paradigm, the component preserves the\n  immutability of the data model, treating it as a pure source of\n  original values. <em>Rather than update the data model directly, the\n  component extracts user changes</em> and forwards them to an external\n  component or service, which does something with them (such as saving\n  them) and returns a new data model to the component that reflects the\n  updated model state.</p>\n</blockquote>\n"}], "owner": {"reputation": 275, "user_id": 18450, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b00fd3315b522e06fd03fe14fcc2e847?s=128&d=identicon&r=PG", "display_name": "Rob Murdoch", "link": "https://stackoverflow.com/users/18450/rob-murdoch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10679, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1603994922, "creation_date": 1507750372, "last_edit_date": 1603994922, "question_id": 46696143, "link": "https://stackoverflow.com/questions/46696143/undo-changes-to-model-state-when-angular-form-is-canceled", "title": "Undo changes to model state when angular form is canceled", "body": "<p>In an Angular 4 application, I have a template driven form with controls bound to values in my component. When the form input changes the object bound to the input changes immediately (two-way binding). When the cancel button is clicked, I want to undo the change to the bound object. This allows the user to change values then change their mind and cancel their changes.</p>\n\n<p><a href=\"https://plnkr.co/edit/RnnPwtHZY0qTN1H6er0z?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/RnnPwtHZY0qTN1H6er0z?p=preview</a></p>\n\n<p>The plunker above has such a form with a bound field to read the hero.name</p>\n\n<pre><code>  &lt;h2&gt;{{hero.name}} details!&lt;/h2&gt;\n</code></pre>\n\n<p>An input bound to a hero object.</p>\n\n<pre><code>  &lt;form #myForm=\"ngForm\" (ngSubmit)=\"save(myForm)\"&gt;\n    &lt;div class=\"form-group\"&gt;\n      &lt;label&gt;name: &lt;/label&gt;\n      &lt;input name=\"heroName\" [(ngModel)]=\"hero.name\" placeholder=\"name\" /&gt;\n    &lt;/div&gt;\n    &lt;button (click)=\"cancel(myForm)\"&gt;Cancel&lt;/button&gt;\n    &lt;button type=\"submit\"&gt;Save&lt;/button&gt;\n  &lt;/form&gt;\n</code></pre>\n\n<p>The cancel button calls the ngForm's resetForm() method. </p>\n\n<pre><code>  cancel(myForm){\n    myForm.resetForm();\n  }\n</code></pre>\n\n<h3>Repro steps</h3>\n\n<ol>\n<li>Change the hero name; Observe the h2 changes immediately proving that the bound object changed as well</li>\n<li>Click cancel; Observe the name is cleared and the h2 changes because the hero.name is now null</li>\n</ol>\n\n<p>I expected the cancel button to change the hero.name back to the original value. Is this how resetForm() is supposed to work? Is there a different way?</p>\n"}, {"tags": ["arrays", "angular", "typescript", "ngfor"], "answers": [{"tags": [], "owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "is_accepted": false, "score": 0, "last_activity_date": 1507752114, "last_edit_date": 1507752114, "creation_date": 1507751700, "answer_id": 46696470, "question_id": 46696104, "link": "https://stackoverflow.com/questions/46696104/angular-2-ngfor-while-index-x/46696470#46696470", "title": "Angular 2 - ngFor while index &lt; x", "body": "<p>You could do something like:</p>\n\n<pre><code>get slicedList(){\n  return this.sliceList(this.patients,9);\n}\n\nprivate sliceList(list: string[], factor: number): string[][] {\n    const result: string[][] = [];\n    const totalIterations = Math.max(Math.ceil(list.length / factor),1);\n    let iteration = 0;\n\n    while (totalIterations &gt; iteration) {\n      const start = iteration * factor;\n      const end = Math.min((iteration + 1) * factor, list.length);\n      result.push(list.slice(start, end));\n      iteration++;\n    }\n    return result;\n  }\n</code></pre>\n\n<p>In template:</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let sublist of slicedList;index as listIndex\"&gt;\n  // sublist is a list of size N, with N &lt;= 9\n  List: {{i+1}}\n  &lt;ng-container *ngFor=\"let patient of sublist; index as patientIndex\"&gt;\n      {{patient | json}}\n      &lt;span&gt;Patient at index: {{(listIndex*9)+patientIndex}}&lt;/span&gt;\n   &lt;/ng-container&gt;\n&lt;/ng-container&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 8306654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/805dbaea763d8e3c35efdd81cd723c22?s=128&d=identicon&r=PG", "display_name": "ancasen", "link": "https://stackoverflow.com/users/8306654/ancasen"}, "edited": false, "score": 0, "creation_date": 1507853425, "post_id": 46696482, "comment_id": 80387987, "body": "This is great stuff! So obvious, yet so smart!"}], "tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": false, "score": 5, "last_activity_date": 1507751749, "creation_date": 1507751749, "answer_id": 46696482, "question_id": 46696104, "link": "https://stackoverflow.com/questions/46696104/angular-2-ngfor-while-index-x/46696482#46696482", "title": "Angular 2 - ngFor while index &lt; x", "body": "<p>One way of doing this is using <code>Array.prototype.slice</code> method:</p>\n\n<pre><code>&lt;div *ngIf=\"patients\" class=\"col-sm-4\" id=\"patientList\"&gt;\n\n  &lt;!--Patient 0 to 8 should go in this space--&gt;\n\n  &lt;table id=\"patientsTab\"&gt;\n    &lt;tr *ngFor=\"let patient of patients.slice(0, 8); let i = index;\" class=\"patientRow\" &gt;\n      &lt;td class=\"ptName\"&gt;&lt;button class=\"patientSelect\" (click)=\"selectPatient(i)\" &gt;{{ patient.firstName }} {{ patient.lastName }}&lt;/button&gt;&lt;/td&gt;\n      &lt;td class=\"ptPersonnr\"&gt;{{ patient.firstName }}&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/table&gt;\n&lt;/div&gt;\n\n&lt;div *ngIf=\"patients.length &gt; 9\" class=\"col-sm-4\"&gt;\n  &lt;div *ngFor=\"let patient of patients.slice(8, 13);\"&gt;\n    {{ patient.firstName }}\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-yxyvs2?file=app%2Fapp.component.ts\" rel=\"noreferrer\">Stackblitz Example</a></strong></p>\n"}, {"tags": [], "owner": {"reputation": 8265, "user_id": 2425396, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/32c3186cd3e9521009b79e70501057d8?s=128&d=identicon&r=PG", "display_name": "omeralper", "link": "https://stackoverflow.com/users/2425396/omeralper"}, "is_accepted": false, "score": 1, "last_activity_date": 1507753739, "creation_date": 1507753739, "answer_id": 46696991, "question_id": 46696104, "link": "https://stackoverflow.com/questions/46696104/angular-2-ngfor-while-index-x/46696991#46696991", "title": "Angular 2 - ngFor while index &lt; x", "body": "<p>In addition to @yurzui's answer, you may use angular pipes</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-qqy3rf?file=app/app.component.html\" rel=\"nofollow noreferrer\">Stackblitz Example</a></p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n@Pipe({name: 'stopat'})\nexport class StopAtPipe implements PipeTransform {\n  transform(value: Array&lt;any&gt;, start:number, end:number) {    \n    return value.slice(start,end);\n  }\n}\n\n&lt;div class=\"container\"&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div *ngIf=\"patients\" class=\"col-sm-4\" id=\"patientList\"&gt;\n\n      &lt;!--Patient 0 to 8 should go in this space--&gt;\n\n      &lt;table id=\"patientsTab\"&gt;\n        &lt;tr *ngFor=\"let patient of patients | stopat:0:8; let i = index;\" class=\"patientRow\" &gt;\n          &lt;td class=\"ptName\"&gt;&lt;button class=\"patientSelect\" (click)=\"selectPatient(i)\" &gt;{{ patient.firstName }} {{ patient.lastName }}&lt;/button&gt;&lt;/td&gt;\n          &lt;td class=\"ptPersonnr\"&gt;{{ patient.firstName }}&lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/table&gt;\n    &lt;/div&gt;\n\n    &lt;div *ngIf=\"patients.length &gt; 9\" class=\"col-sm-4\"&gt;\n      &lt;div *ngFor=\"let patient of patients | stopat:8:13;\"&gt;\n        {{ patient.firstName }}\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div *ngIf=\"patient\" class=\"col-sm-4\"&gt;\n\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 8306654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/805dbaea763d8e3c35efdd81cd723c22?s=128&d=identicon&r=PG", "display_name": "ancasen", "link": "https://stackoverflow.com/users/8306654/ancasen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3460, "favorite_count": 1, "answer_count": 3, "score": 5, "last_activity_date": 1507760302, "creation_date": 1507750208, "last_edit_date": 1507760302, "question_id": 46696104, "link": "https://stackoverflow.com/questions/46696104/angular-2-ngfor-while-index-x", "title": "Angular 2 - ngFor while index &lt; x", "body": "<p>I'm currently working on an angular app with an array of items (objects). I want to display each object in the array in its own list item, but want to limit the height of the list to 9 rows, before it starts on a new list next to it. So if the array has 13 elements, array[0] to array [8] should be listed in the first list, in the first column, while array [9] to array [12] should be listed in a new list. \nHow can I make *ngFor stop looping at index = 9, and start looping from there on another list?</p>\n\n<p>This is how my current code looks:</p>\n\n<pre><code>&lt;div *ngIf=\"patients\" class=\"col-sm-4\" id=\"patientList\"&gt;\n\n  &lt;!--Patient 0 to 8 should go in this space--&gt;\n\n  &lt;table id=\"patientsTab\"&gt;\n    &lt;tr *ngFor=\"let patient of patients; let i = index;\" class=\"patientRow\" &gt;\n      &lt;td class=\"ptName\"&gt;&lt;button class=\"patientSelect\" (click)=\"selectPatient(i)\" &gt;{{ patient.firstName }} {{ patient.lastName }}&lt;/button&gt;&lt;/td&gt;\n      &lt;td class=\"ptPersonnr\"&gt;{{ patient.personnr }}&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/table&gt;\n&lt;/div&gt;\n\n&lt;div *ngIf=\"patients.length &gt; 9\" class=\"col-sm-4\"&gt;\n\n  &lt;!--Patient 9 to 13 should go in this space--&gt;\n\n&lt;/div&gt;\n\n&lt;div *ngIf=\"patient\" class=\"col-sm-4\"&gt;\n\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "protractor"], "answers": [{"comments": [{"owner": {"reputation": 244, "user_id": 2718402, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e2a4a4e586830cec3687b3b3022879da?s=128&d=identicon&r=PG", "display_name": "S.Huston", "link": "https://stackoverflow.com/users/2718402/s-huston"}, "edited": false, "score": 0, "creation_date": 1507834087, "post_id": 46705750, "comment_id": 80379980, "body": "Thank you so much for the reference and then the custom example to apply the solution to my code.  I&#39;ve updated my question with the work I&#39;ve attempted.  Your explanation makes sense theoretically, but I&#39;m still having issues with stuff not pushing through. See if my update makes sense to you.  Thanks!"}], "tags": [], "owner": {"reputation": 130, "user_id": 2983330, "user_type": "registered", "profile_image": "https://graph.facebook.com/511210169/picture?type=large", "display_name": "Ross Johnson", "link": "https://stackoverflow.com/users/2983330/ross-johnson"}, "is_accepted": false, "score": 1, "last_activity_date": 1507799682, "creation_date": 1507799682, "answer_id": 46705750, "question_id": 46695906, "link": "https://stackoverflow.com/questions/46695906/how-to-collect-and-return-aggregated-data-as-an-array-from-a-table-in-protractor/46705750#46705750", "title": "How to collect and return aggregated data as an Array from a table in Protractor?", "body": "<p>As you've alluded to your issue is caused by the console.log returning the value of the variable before its actually been populated.</p>\n\n<p>I've taken a snippet from this answer which should allow you to solve it: <a href=\"https://stackoverflow.com/questions/24852126/is-there-a-way-to-resolve-multiple-promises-with-protractor\">Is there a way to resolve multiple promises with Protractor?</a></p>\n\n<pre><code>var x = element(by.id('x')).sendKeys('xxx');\nvar y = element(by.id('y')).sendKeys('yyy');\nvar z = element(by.id('z')).sendKeys('zzz');\n\nmyFun(x,y,z);\n//isEnabled() is contained in the expect() function, so it'll wait for\n// myFun() promise to be fulfilled\nexpect(element(by.id('myButton')).isEnabled()).toBe(true);\n\n\n// in a common function library\nfunction myFun(Xel,Yel,Zel) {\n  return protractor.promise.all([Xel,Yel,Zel]).then(function(results){\n     var xText = results[0];\n     var yText = results[1];\n     var zText = results[2];\n\n  });\n}\n</code></pre>\n\n<p>So in your code it would be something like</p>\n\n<pre><code>getImportDateSubmittedColumnValues() {\n    let promisesArray = [];\n    let stringDatesArray: Array&lt;string&gt; = [];\n    // currently this css selector gets rows in both import and export tables\n    // TODO: get better identifiers on the import and export tables and columns\n    element.all(by.css('md-card-content tbody tr.ng-tns-c3-0')).each(function(row, index){\n        // check outerHTML for presence of \"unclickable\", the rows in the export table\n        row.getAttribute('outerHTML').then(function(outerHTML:string) {\n            // specifically look for rows without unclickable\n            if(outerHTML.indexOf(\"unclickable\") &lt; 0){\n                // grab the columns and get the third column, where the date submitted field is\n                // TODO: get better identifiers on the import and export columns\n                promisesArray.push(row.all(by.css(\"td.ng-tns-c3-0\")).get(2).getText());\n            }\n        });\n    });\n    return protractor.promise.all(promisesArray).then(function(results){\n        // In here you'll have access to the results \n\n    });\n}\n</code></pre>\n\n<p>Theres quite a few different ways you could do it. You could process the data in that method at the end or I think you could return the array within that \"then\", and access it like so:</p>\n\n<pre><code>page.getImportDateSubmittedColumnValues().then((res) =&gt;{\n    //And then here you will have access to the array\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3635, "user_id": 1818555, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ed408bc60ee550853f439780c797ae08?s=128&d=identicon&r=PG", "display_name": "Brine", "link": "https://stackoverflow.com/users/1818555/brine"}, "is_accepted": false, "score": 1, "last_activity_date": 1507845340, "creation_date": 1507845340, "answer_id": 46719482, "question_id": 46695906, "link": "https://stackoverflow.com/questions/46695906/how-to-collect-and-return-aggregated-data-as-an-array-from-a-table-in-protractor/46719482#46719482", "title": "How to collect and return aggregated data as an Array from a table in Protractor?", "body": "<p>I don't do <em>the Typescript</em> but if you're just looking to get an array of locator texts back from your method, <em>something</em> resembling this should work...</p>\n\n<pre><code>getImportDateSubmittedColumnValues() {\n    let stringDatesArray: Array&lt;string&gt; = [];\n\n    $$('.import-component .created-date').each((cell, index) =&gt; {\n        cell.getText().then(text =&gt; {\n            stringDatesArray.push(text);\n        });\n    }).then(() =&gt; {\n        return stringDatesArray;\n    });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 244, "user_id": 2718402, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e2a4a4e586830cec3687b3b3022879da?s=128&d=identicon&r=PG", "display_name": "S.Huston", "link": "https://stackoverflow.com/users/2718402/s-huston"}, "is_accepted": true, "score": 1, "last_activity_date": 1508168398, "creation_date": 1508168398, "answer_id": 46774062, "question_id": 46695906, "link": "https://stackoverflow.com/questions/46695906/how-to-collect-and-return-aggregated-data-as-an-array-from-a-table-in-protractor/46774062#46774062", "title": "How to collect and return aggregated data as an Array from a table in Protractor?", "body": "<p>The answer ended up related to the answer posted on <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\">How do I return the response from an asynchronous call?</a></p>\n\n<p>The final PageObject class function:</p>\n\n<pre><code>import {browser, element, by, protractor} from 'protractor';\n\nexport class SpecMapperPage {\n    getImportDateSubmittedColumnValues() {\n        let stringDatesArray: Array&lt;string&gt; = [];\n        let promisesArray = [];\n        // return a promise promising that stringDatesArray will have an array of dates\n        return new Promise((resolve, reject) =&gt; {\n            // This CSS selector grabs the import table and any cells with the label .created-date\n            element.all(by.css('.import-component .created-date')).map((cell) =&gt; {\n                // Gather all the getText's we want the text from\n                promisesArray.push(cell.getText());\n            }).then(() =&gt; {\n                protractor.promise.all(promisesArray).then((results) =&gt; {\n                    // Resolve the getText's values and shove into array we want to return\n                    for(let result of results) {\n                        stringDatesArray.push(result);\n                    }\n                }).then(() =&gt; {\n                    // Set the filled array as the resolution to the returned promise\n                    resolve(stringDatesArray);\n                });\n            });\n        });\n    }\n}\n</code></pre>\n\n<p>The final test class:</p>\n\n<pre><code>import { SpecMapperPage } from \"./specMapper.po\";\nimport {browser, ExpectedConditions} from \"protractor\";\n\ndescribe('spec mapper app', () =&gt; {\n    let page: SpecMapperPage;\n    let PROJECT_ID: string = '57';\n    let PROJECT_NAME: string = 'DO NOT DELETE - AUTOMATED TESTING PROJECT';\n\n    beforeEach(() =&gt; {\n        page = new SpecMapperPage();\n    });\n\n    describe('import/export page', () =&gt; {\n        it('TC2963: ImportComponentGrid_ShouldDefaultSortBySubmittedDateInDescendingOrder_WhenPageIsLoaded', () =&gt; {\n            browser.waitForAngularEnabled(false);\n            // Step 1: Launch Map Data from Dashboard\n            page.navigateTo(PROJECT_ID);\n            browser.driver.sleep(5000).then(() =&gt; {\n                // Verify: Mapping Screen displays\n                // Verify on the specmapper page by checking the breadcrumbs\n                expect(page.getProjectNameBreadCrumbText()).toContain(PROJECT_NAME);\n                expect(page.getProjectMapperBreadCrumbText()).toEqual(\"MAPPER\");\n\n                // Verify: Verify Latest Submitted Date is displayed at the top\n                // Verify: Verify the Submitted Date column is in descending order\n                page.getImportDateSubmittedColumnValues().then((results) =&gt; {\n                    console.log(results);\n                });\n            });\n        });\n    });\n});\n</code></pre>\n\n<p>The biggest thing was waiting for the different calls to get done running and then waiting for the stringDataArray to be filled.  That required the promise(resolve,reject) structure I found in the SO post noted above.  I ended up using the lambda <code>(()=&gt;{})</code> function calls instead of declared <code>(function(){})</code> for a cleaner look, the method works the same either way.  None of the other proposed solutions successfully propagated the array of strings back to my test. I'm working in Typescript, with Protractor.</p>\n"}], "owner": {"reputation": 244, "user_id": 2718402, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e2a4a4e586830cec3687b3b3022879da?s=128&d=identicon&r=PG", "display_name": "S.Huston", "link": "https://stackoverflow.com/users/2718402/s-huston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1155, "favorite_count": 1, "accepted_answer_id": 46774062, "answer_count": 3, "score": 0, "last_activity_date": 1508168398, "creation_date": 1507749399, "last_edit_date": 1507834708, "question_id": 46695906, "link": "https://stackoverflow.com/questions/46695906/how-to-collect-and-return-aggregated-data-as-an-array-from-a-table-in-protractor", "title": "How to collect and return aggregated data as an Array from a table in Protractor?", "body": "<p>I am trying to aggregate a list of dates from a data table, written in Angular, in a Protractor test.  I'm doing the aggregation from a PageObject class that is called in the Protractor test. I know that my code is successfully grabbing the text I want, but when I try to console.log the returned array, I get an empty array.  I'm still new to Javascript/Typescript, Angular, and Protractor and this may be a result of my newness to the asynchronous nature of this development environment. </p>\n\n<p>Code is as follows,</p>\n\n<p><strong>The PageObject SpecMapper class with method:</strong></p>\n\n<pre><code>import { browser, element, by } from 'protractor';\n\nexport class SpecMapperPage {\n    getImportDateSubmittedColumnValues() {\n        let stringDatesArray: Array&lt;string&gt; = [];\n        // currently this css selector gets rows in both import and export tables\n        // TODO: get better identifiers on the import and export tables and columns\n        element.all(by.css('md-card-content tbody tr.ng-tns-c3-0')).each(function(row, index){\n            // check outerHTML for presence of \"unclickable\", the rows in the export table\n            row.getAttribute('outerHTML').then(function(outerHTML:string) {\n                // specifically look for rows without unclickable\n                if(outerHTML.indexOf(\"unclickable\") &lt; 0){\n                    // grab the columns and get the third column, where the date submitted field is\n                    // TODO: get better identifiers on the import and export columns\n                    row.all(by.css(\"td.ng-tns-c3-0\")).get(2).getText().then(function(text:string) {\n                       stringDatesArray.push(text);\n                    });\n                }\n            });\n        });\n        return stringDatesArray;\n    }\n}\n</code></pre>\n\n<p>I know it's not the prettiest code, but it's temporary place holder while my devs make me better attributes/classes/ids to grab my variables.  Key things to note is that I create a string Array to hold the values I consider relevant to be returned when the method is finished. </p>\n\n<p>I used WebStorm and put a breakpoint at the <code>stringDatesArray.push(text)</code> and <code>return stringDatesArray</code> lines. The first line shows that the <code>text</code> variable has a string variable that I'm looking for and is successfully getting pushed.  I see the success in debug mode as I can see the <code>stringDatesArray</code> and see the values in it.  The second line though, the array return, shows that the local variable <code>stringDatesArray</code> is empty.  This is echoed in the following code when I try to console.log the array:</p>\n\n<p><strong>The Protractor run Spec class with my test in it:</strong></p>\n\n<pre><code>import { SpecMapperPage } from \"./app.po\";\nimport {browser, ExpectedConditions} from \"protractor\";\n\ndescribe('spec mapper app', () =&gt; {\n    let page: SpecMapperPage;\n    let PROJECT_ID: string = '57';\n    let PROJECT_NAME: string = 'DO NOT DELETE - AUTOMATED TESTING PROJECT';\n\n    beforeEach(() =&gt; {\n        page = new SpecMapperPage();\n    });\n\n    describe('import/export page', () =&gt; {\n        it('verify sort order is desc', () =&gt; {\n            browser.waitForAngularEnabled(false);\n            // Step 1: Launch Map Data from Dashboard\n            page.navigateTo(PROJECT_ID);\n            browser.driver.sleep(5000).then(() =&gt; {\n                // Verify: Mapping Screen displays\n                // Verify on the specmapper page by checking the breadcrumbs\n                expect(page.getProjectNameBreadCrumbText()).toContain(PROJECT_NAME);\n                expect(page.getProjectMapperBreadCrumbText()).toEqual(\"MAPPER\");\n\n                // Verify: Verify Latest Submitted Date is displayed at the top\n                // Verify: Verify the Submitted Date column is in descending order\n                console.log(page.getImportDateSubmittedColumnValues());\n            });\n        });\n    });\n});\n</code></pre>\n\n<p>I acknowledge that this code is not actively using the niceties of Protractor, there's a known issue with our app that will not be addressed for a couple of months, so I am accessing the driver directly 99% of the time. </p>\n\n<p>You'll note that I call the method I posted above as the very last line in the <code>browser.driver.sleep().then()</code> clause, <code>page.getImportDateSubmittedColumnValues()</code>. </p>\n\n<p>I thought maybe I was running into asynchronous issues with the call being done before the page was loaded, thus I put it in the <code>.then()</code> clause; but learned with debugging that was not the case.  This code should work once I have the array returning properly though.  </p>\n\n<p>The console.log is printing an empty <code>[]</code> array. That is synonymous with the results I saw when debugging the above method directly in the PageObject SpecMapper class. I wish to do some verification that the strings are returned properly formatted, and then I'm going to do some date order comparisons. I feel like returning an array of data retrieved from a page is not an unusual request, but I can't seem to find a good way to Google what I'm trying to do.  </p>\n\n<p>My apologies if I am hitting some very obvious roadblock, I'm still learning the nuances of Typescript/Angular/Protractor.  Thank you for your consideration!</p>\n\n<hr>\n\n<p>My attempted to used collated promises seemed promising, but fell through on execution.  </p>\n\n<p><strong>My Updated PageObject SpecMapper Class</strong></p>\n\n<pre><code>import {browser, element, by, protractor} from 'protractor';\n\nexport class SpecMapperPage {\n    getImportDateSubmittedColumnValues() {\n        let promisesArray = [];\n        let stringDatesArray: Array&lt;string&gt; = [];\n        // This CSS selector grabs the import table and any cells with the label .created-date\n        element.all(by.css('.import-component .created-date')).each(function(cell, index) {\n            // cell.getText().then(function(text:string) {\n            //    console.log(text);\n            // });\n            promisesArray.push(cell.getText());\n        });\n        return protractor.promise.all(promisesArray).then(function(results) {\n           for(let result of results) {\n               stringDatesArray.push(result);\n           }\n           return stringDatesArray;\n        });\n    }\n}\n</code></pre>\n\n<p><strong>My Updated Spec test Using The Updated SpecMapper PO Class</strong> </p>\n\n<pre><code>import { SpecMapperPage } from \"./specMapper.po\";\nimport {browser, ExpectedConditions} from \"protractor\";\n\ndescribe('spec mapper app', () =&gt; {\n    let page: SpecMapperPage;\n    let PROJECT_ID: string = '57';\n    let PROJECT_NAME: string = 'DO NOT DELETE - AUTOMATED TESTING PROJECT';\n\n    beforeEach(() =&gt; {\n        page = new SpecMapperPage();\n    });\n\n    describe('import/export page', () =&gt; {\n        it('TC2963: ImportComponentGrid_ShouldDefaultSortBySubmittedDateInDescendingOrder_WhenPageIsLoaded', () =&gt; {\n            browser.waitForAngularEnabled(false);\n            // Step 1: Launch Map Data from Dashboard\n            page.navigateTo(PROJECT_ID);\n            browser.driver.sleep(5000).then(() =&gt; {\n                // Verify: Mapping Screen displays\n                // Verify on the specmapper page by checking the breadcrumbs\n                expect(page.getProjectNameBreadCrumbText()).toContain(PROJECT_NAME);\n                expect(page.getProjectMapperBreadCrumbText()).toEqual(\"MAPPER\");\n\n                // Verify: Verify Latest Submitted Date is displayed at the top\n                // Verify: Verify the Submitted Date column is in descending order\n                page.getImportDateSubmittedColumnValues().then(function(results) {\n                    for(let value of results) {\n                        console.log(\"a value is: \" + value);\n                    }\n                });\n            });\n        });\n    });\n});\n</code></pre>\n\n<p>When I breakpoint in the PO class at the <code>return stringDatesArray;</code> line, I have the following variables in my differing scopes.  Note that the promisesArray has 3 objects, but the results array going into the <code>protractor.promise.all(</code> block has 0 objects.  I'm not sure what my disconnect is. :/</p>\n\n<p><a href=\"https://i.stack.imgur.com/mCT0X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mCT0X.png\" alt=\"IntelliJ Debug Vars ScreenCap\"></a></p>\n\n<p>I think I'm running into a scopes problem that I am having issues understanding. You'll note the commented out promise resolution on the <code>getText()</code>, and this was my POC proving that I am getting the string values I'm expecting, so I'm not sure why it's not working in the Promise Array structure presented as a solution below. </p>\n\n<hr>\n\n<p>Only other related question that I could find has to do with grabbing a particular row of a table, not specifically aggregating the data to be returned for test verification in Protractor. You can find it <a href=\"https://stackoverflow.com/questions/25878496/how-to-handle-table-data-in-protractor\">here</a> if you're interested. </p>\n"}, {"tags": ["angular", "typescript", "primeng"], "comments": [{"owner": {"reputation": 389, "user_id": 2371215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4651132131eba1b4a741280d8779cea?s=128&d=identicon&r=PG", "display_name": "amburt05", "link": "https://stackoverflow.com/users/2371215/amburt05"}, "edited": false, "score": 0, "creation_date": 1507748733, "post_id": 46695675, "comment_id": 80339243, "body": "Have you verified the HTTP request is returning the data? Try sprinkling a console.log on the handler for the subscription    ngOnInit() {     this.getSources();     this.recordDisplayService.getSources().subscribe(sources =&gt; {this.sources = sources; console.log(sources); });    }"}, {"owner": {"reputation": 141, "user_id": 4360240, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/787fec0e4e3f2a7d6d6b7a37d271dadc?s=128&d=identicon&r=PG&f=1", "display_name": "azmatrix", "link": "https://stackoverflow.com/users/4360240/azmatrix"}, "reply_to_user": {"reputation": 389, "user_id": 2371215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4651132131eba1b4a741280d8779cea?s=128&d=identicon&r=PG", "display_name": "amburt05", "link": "https://stackoverflow.com/users/2371215/amburt05"}, "edited": false, "score": 0, "creation_date": 1507748848, "post_id": 46695675, "comment_id": 80339299, "body": "This is what I get: Subscriber {closed: false, _parent: null, _parents: null, _subscriptions: Array(1), syncErrorValue: null, \u2026}"}, {"owner": {"reputation": 2865, "user_id": 8468804, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/tBXMi.jpg?s=128&g=1", "display_name": "Chau Tran", "link": "https://stackoverflow.com/users/8468804/chau-tran"}, "edited": false, "score": 0, "creation_date": 1507774259, "post_id": 46695675, "comment_id": 80347862, "body": "What&#39;s your error in the console? Try console log your data coming back in .map function in the service also."}, {"owner": {"reputation": 141, "user_id": 4360240, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/787fec0e4e3f2a7d6d6b7a37d271dadc?s=128&d=identicon&r=PG&f=1", "display_name": "azmatrix", "link": "https://stackoverflow.com/users/4360240/azmatrix"}, "edited": false, "score": 0, "creation_date": 1507812976, "post_id": 46695675, "comment_id": 80366749, "body": "I&#39;m pulling the data as I can see it in my console, but it won&#39;t show up on the template"}], "answers": [{"tags": [], "owner": {"reputation": 389, "user_id": 2371215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4651132131eba1b4a741280d8779cea?s=128&d=identicon&r=PG", "display_name": "amburt05", "link": "https://stackoverflow.com/users/2371215/amburt05"}, "is_accepted": false, "score": 0, "last_activity_date": 1507748983, "creation_date": 1507748983, "answer_id": 46695814, "question_id": 46695675, "link": "https://stackoverflow.com/questions/46695675/angular-2-4-primeng-datalist-empty/46695814#46695814", "title": "Angular 2/4 PrimeNg DataList Empty", "body": "<p>I think you need to adjust your .map function</p>\n\n<pre><code>  getSources(): Observable&lt;Source[]&gt; {\n            return this.http.get('.../api/V1/Source/GetAll')\n                        .map(data =&gt;  {return this.extractData(data);})\n                        .catch(this.handleError);\n        }\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 4360240, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/787fec0e4e3f2a7d6d6b7a37d271dadc?s=128&d=identicon&r=PG&f=1", "display_name": "azmatrix", "link": "https://stackoverflow.com/users/4360240/azmatrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 425, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507748983, "creation_date": 1507748370, "last_edit_date": 1507748662, "question_id": 46695675, "link": "https://stackoverflow.com/questions/46695675/angular-2-4-primeng-datalist-empty", "title": "Angular 2/4 PrimeNg DataList Empty", "body": "<p>I'm trying to implement a PrimeNg data list in my app. Having trouble trying to figure out why nothing is being printed.</p>\n\n<p>Here's my record-display.component.html:</p>\n\n<pre><code> &lt;p-dataList [value]=\"sources\" [rows]=\"5\" emptyMessage=\"No Sources Added\"&gt;\n  &lt;p-header&gt;Sources&lt;/p-header&gt;\n  &lt;ng-template let-source pTemplate=\"item\"&gt;\n    &lt;div class=\"ui-g ui-fluid car-item\"&gt;\n      &lt;div class=\"ui-g-12 ui-md-12\"&gt;\n        &lt;p&gt;Test&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/ng-template&gt;\n&lt;/p-dataList&gt;\n</code></pre>\n\n<p>Here's my record-display.component.ts:</p>\n\n<pre><code>import { RecordDisplayService } from './record-display.service';\nimport { Source } from '../../../../objects/source';\nimport { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\n\n@Component({\n  selector: 'app-record-display',\n  templateUrl: './record-display.component.html',\n  styleUrls: ['./record-display.component.css']\n})\nexport class RecordDisplayComponent implements OnInit {\n\n  sources: any[];\n  allSources: Source[];\n\n  // @Input('list-items') listViewSets: any;\n  constructor(private recordDisplayService: RecordDisplayService) {\n\n  }\n\n  ngOnInit() {\n    this.getSources();\n    this.recordDisplayService.getSources().subscribe(sources =&gt; {this.sources = sources;});\n\n  }\n\n  getSources() {\n    this.recordDisplayService.getSources()\n        .subscribe(\n            data =&gt; this.allSources = data,\n           );\n  }\n }\n</code></pre>\n\n<p>Here's my record-display.service.ts</p>\n\n<pre><code>import { getSourceNodes } from '@angular/cli/lib/ast-tools';\nimport { Http, Response } from '@angular/http';\nimport { CREATE_COMMITMENT, Endpoint, GET_CREATE_ITEM_URL, QUERY_DOCUMENT_LINK } from '../../../../_config/links-config';\n// import { Tag } from '../objects/tag';\nimport { HttpService } from '../../../connection/http.service';\nimport { Commitment } from '../../../../objects/commitment';\nimport { Source } from '../../../../objects/source';\nimport { Statement } from '../../../../objects/statement';\nimport { Injectable } from '@angular/core';\nimport { Subscription, Subject, Observable } from 'rxjs/Rx';\nimport { GET_BY_PARTY_BODY, GET_BY_PARTY_URL, GET_DELETE_ITEM_URL, CONSTRUCT_QUERY_OBJECT } from \"../../../../_config/links-config\";\n\n@Injectable()\nexport class RecordDisplayService {\n\n\n  private subject = new Subject&lt;any&gt;();\n  constructor(private http: Http) {\n  }\n\n\n    getSources(): Observable&lt;Source[]&gt; {\n        return this.http.get('.../api/V1/Source/GetAll')\n                    .map(this.extractData)\n                    .catch(this.handleError);\n    }\n\n    private extractData(res: Response) {\n        let body = res.json();\n        return body;\n    }\n</code></pre>\n\n<p>I'm trying to the data from the api call and display the results using p-datalist.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "internet-explorer", "internet-explorer-11"], "comments": [{"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1507747010, "post_id": 46695280, "comment_id": 80338365, "body": "what change detection strategy you are using"}, {"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1507747040, "post_id": 46695280, "comment_id": 80338375, "body": "can you add your typescript component file as well"}], "answers": [{"tags": [], "owner": {"reputation": 16219, "user_id": 8011544, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-YtCjSKj6bBY/AAAAAAAAAAI/AAAAAAAAAAs/xLARQPguzJs/photo.jpg?sz=128", "display_name": "Melchia", "link": "https://stackoverflow.com/users/8011544/melchia"}, "is_accepted": true, "score": 3, "last_activity_date": 1507748093, "creation_date": 1507748093, "answer_id": 46695592, "question_id": 46695280, "link": "https://stackoverflow.com/questions/46695280/ie-error-with-angular-2/46695592#46695592", "title": "IE error with Angular 2", "body": "<p>It's perfectly normal that you get such errors in IE. It simply doesn't support all ES6 and then again you need to add some missing libraries in IE.<br>\nGo to <strong>src/polyfills.ts</strong> and replace its content with the following:</p>\n\n<pre><code>/** IE9, IE10 and IE11 requires all of the following polyfills. **/\nimport 'core-js/client/shim';\nimport 'core-js/es6/symbol';\nimport 'core-js/es6/object';\nimport 'core-js/es6/function';\nimport 'core-js/es6/parse-int';\nimport 'core-js/es6/parse-float';\nimport 'core-js/es6/number';\nimport 'core-js/es6/math';\nimport 'core-js/es6/string';\nimport 'core-js/es6/date';\nimport 'core-js/es6/array';\nimport 'core-js/es6/regexp';\nimport 'core-js/es6/map';\nimport 'core-js/es6/weak-map';\nimport 'core-js/es6/set';\n\n/** IE10 and IE11 requires the following for NgClass support on SVG elements */\nimport 'classlist.js';  // Run `npm install --save classlist.js`.\n\n/** Evergreen browsers require these. **/\nimport 'core-js/es6/reflect';\nimport 'core-js/es7/reflect';\n\n\n/**\n * Required to support Web Animations `@angular/animation`.\n * Needed for: All but Chrome, Firefox and Opera. http://caniuse.com/#feat=web-animation\n **/\nimport 'web-animations-js';  // Run `npm install --save web-animations-js`.\n\n\n\n * Zone JS is required by Angular itself.\n */\nimport 'zone.js/dist/zone';  // Included with Angular CLI.\n</code></pre>\n\n<p>Run the following commands:</p>\n\n<ol>\n<li>npm install --save classlist.js</li>\n<li>npm install --save web-animations-js</li>\n</ol>\n"}], "owner": {"reputation": 510, "user_id": 562911, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ySU8u.jpg?s=128&g=1", "display_name": "timmack", "link": "https://stackoverflow.com/users/562911/timmack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1201, "favorite_count": 0, "accepted_answer_id": 46695592, "answer_count": 1, "score": 2, "last_activity_date": 1517664067, "creation_date": 1507746886, "last_edit_date": 1517664067, "question_id": 46695280, "link": "https://stackoverflow.com/questions/46695280/ie-error-with-angular-2", "title": "IE error with Angular 2", "body": "<p>I need help on this IE error which I think relates on binding issue on my HTML page.\nI'm using IE 11 and Angular 2. It has no error on Chrome and Firefox but I got an error\non this with IE 11 only. I can't trace where the exact error is located on my page but I know it's on my HTML page somewhere because of this part of the error.</p>\n\n<p><strong><em>at View_EdataReportingComponent0.prototype.detectChangesInternal (Function code:2933:5)</em></strong></p>\n\n<p>Here's the screenshot from the console in IE which shows the error.\n<a href=\"https://i.stack.imgur.com/DpqfF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DpqfF.png\" alt=\"enter image description here\"></a></p>\n\n<p>And here's my HTML page...</p>\n\n<pre><code>&lt;div class=\"main-header row px-0\"&gt; \n        &lt;div class=\"upload-bar\" *ngIf=\"(uploader.progress || 0) &gt; 0 || isUploadFinished\"&gt;\n            &lt;span class=\"caption-left\"&gt;\n                &lt;i class=\"fa fa-upload\" aria-hidden=\"true\"&gt;&lt;/i&gt;  Uploading files &lt;b&gt;({{(uploader.progress || 0)}}%)&lt;/b&gt;\n            &lt;/span&gt;\n            &lt;span class=\"caption-right file-list\"&gt;\n                &lt;i class=\"mlcons_filled_close\" (click)=\"abortUploadingFiles($event)\" aria-hidden=\"true\"&gt;&lt;/i&gt;\n                &lt;a href=\"#\" class=\"a-link\" (click)=\"abortUploadingFiles($event)\" tabindex=\"0\"&gt;Cancel&lt;/a&gt;\n            &lt;/span&gt;\n            &lt;div class=\"upload-progress\" [ngStyle]=\"{ 'width': (uploader.progress || 0) + '%' }\"&gt; &lt;/div&gt;\n        &lt;/div&gt; \n    &lt;div class=\"container-fluid\"&gt;\n        &lt;div class=\"main-body container\"&gt;\n            &lt;h2 class=\"pull-left\"&gt;eData Reporting&lt;/h2&gt; &lt;!-- &lt;hermes-toast&gt;&lt;/hermes-toast&gt; --&gt;\n        &lt;/div&gt;\n        &lt;form (ngSubmit)=\"onSubmit(modalForm.value, $event)\" [formGroup]=\"modalForm\" name=\"eDataReportForm\" #eDataReportForm=\"ngForm\"&gt;       \n            &lt;div class=\"form-group col-md-6 col-lg-6 px-0-left data-form\"&gt;\n                &lt;div class=\"form-group col-md-12 col-lg-12\"&gt;\n                    &lt;div class=\"col-md-4 px-0 form-label\"&gt;\n                        &lt;label for=\"reportingFrequency\" class=\"label-Names- label-inline\"&gt;Reporting Frequency:&lt;/label&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"col-md-8 px-0\"&gt;\n                        &lt;div *ngIf=\"modalMode == modalModes.EditMode\"&gt;\n                            &lt;select id=\"report-frequency\" class=\"form-control\" formControlName=\"reportingFrequency\" (change)=\"setReportingFrequency()\" tabindex=\"0\"&gt;\n                                &lt;option value=\"null\"&gt;Please Select&lt;/option&gt;\n                                &lt;option *ngFor=\"let reportingFrequency of reportingFrequencies\" [value]=\"reportingFrequency.FieldValueKey\"&gt;{{reportingFrequency.DisplayName}}&lt;/option&gt;\n                            &lt;/select&gt;\n                        &lt;/div&gt;\n                        &lt;div id=\"report-freq-viewmode\" *ngIf=\"modalMode == modalModes.ViewMode\" class=\"view-mode\" &gt;\n                            {{originaleDataReport?.reportingFrequencyName &amp;&amp; originaleDataReport.reportingFrequencyName()}}\n                        &lt;/div&gt;\n\n                    &lt;/div&gt;\n\n                &lt;/div&gt;\n                &lt;div class=\"form-group col-md-12 col-lg-12\" *ngIf=\"(this.originaleDataReport.reportingFrequencyName &amp;&amp; this.originaleDataReport.reportingFrequencyName())=='Yes - Other' || freqReport=='Yes - Other' \"&gt;\n                    &lt;div class=\"col-md-4 px-0 form-label\"&gt;\n                        &lt;label for=\"other\" class=\"label-Names- label-inline\" [class.required-field]=\"modalMode != modalModes.ViewMode\"&gt;Other:&lt;/label&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"col-md-8 px-0\"&gt;\n                        &lt;div *ngIf=\"modalMode == modalModes.EditMode\"&gt;\n                            &lt;input id=\"other\"  maxlength=\"50\" formControlName=\"other\" type=\"text\" class=\"form-control\" (keydown)=\"otherValue($event)\" tabindex=\"0\"&gt;\n                            &lt;div *ngIf=\"modalForm.controls.other.invalid &amp;&amp; modalForm.controls.other.touched\" class=\"alert-danger\"&gt;\n                                &lt;span class=\"mlcons_circled_information\"&gt;&lt;span class=\"path1\"&gt;&lt;/span&gt;&lt;span class=\"path2\"&gt;&lt;/span&gt;&lt;/span&gt; Other is required.\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div *ngIf=\"modalMode == modalModes.ViewMode \" class=\"view-mode\" &gt;\n                            {{originaleDataReport?.FrequencyOtherNote}}\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n\n                &lt;div class=\"form-group col-md-12 col-lg-12\"&gt;\n                    &lt;div class=\"col-md-12 col-lg-12 px-0\"&gt;\n                        &lt;div class=\"col-md-4 px-0 form-label\"&gt;\n                            &lt;label for=\"report-type\" class=\"label-Names- label-inline\"&gt;Type of Report:&lt;/label&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"col-md-8 px-0\"&gt;\n                            &lt;div *ngIf=\"modalMode == modalModes.EditMode\"&gt;\n                                &lt;select id=\"report-type\" class=\"form-control\" formControlName=\"typeOfReport\" (change)=\"setTypeOfReport()\" tabindex=\"0\"&gt;\n                                    &lt;option value=\"null\"&gt;Please select&lt;/option&gt;\n                                    &lt;option *ngFor=\"let item of typeofReports\" [value]=\"item.FieldValueKey\"&gt;{{item.DisplayName}}&lt;/option&gt;\n                                &lt;/select&gt;\n                            &lt;/div&gt;\n                            &lt;div *ngIf=\"modalMode == modalModes.ViewMode\" class=\"view-mode\" &gt;\n                                {{originaleDataReport?.typeofReportsName &amp;&amp; originaleDataReport.typeofReportsName()}}\n                            &lt;/div&gt;\n\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n\n              &lt;div class=\"col-md-12 col-lg-12 \" *ngIf=\"(this.originaleDataReport.typeofReportsName &amp;&amp; this.originaleDataReport.typeofReportsName())=='Other' || typeReport=='Other'\"&gt;                  \n                        &lt;br /&gt;\n                        &lt;div *ngIf=\"modalMode == modalModes.ViewMode \" class=\"col-md-11 px-0 px-30-right\"&gt;\n                            &lt;label class=\"label-Names- label-inline\"&gt;Sample Report:&lt;/label&gt;\n                            &lt;div *ngFor=\"let item of fileAttachment\" class=\"file-list\"&gt;\n                                &lt;div *ngIf=\"item?.Sample_Report?.FileName\"&gt;\n                                    &lt;a id=\"link-icon\" href=\"#\" (click)=\"$event.preventDefault(); downloadFile($event)\"&gt;\n                                        &lt;file-icon [fileExtension]=\"item?.Sample_Report?.FileExtension\"&gt;&lt;/file-icon&gt;\n                                    &lt;/a&gt;\n                                    &lt;span class=\"file-info\"&gt;\n                                        &lt;label class=\"label-Names- label-inline\"&gt;\n                                            &lt;a id=\"link\" href=\"#\" (click)=\"$event.preventDefault(); downloadFile($event)\" class=\"a-link\"&gt;\n                                                {{ item?.Sample_Report?.FileNameDisplay }}\n                                            &lt;/a&gt;\n                                        &lt;/label&gt;\n                                    &lt;/span&gt; &lt;b&gt;({{ item?.Sample_Report?.FileSize/1024/1024 | number:'.2' }} MB)&lt;/b&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n\n                        &lt;div *ngIf=\"modalMode == modalModes.EditMode \" class=\"col-md-12 col-lg-12 px-0 px-30-right \"&gt;\n                            &lt;label for=\"file-upload\" class=\"label-Names-upload\"&gt;Sample Report&lt;/label&gt; &lt;label class=\"max-size-limit-label\"&gt;(Maximum file size is 20MB.)&lt;/label&gt;\n                            &lt;div *ngFor=\"let item of fileAttachment;\" class=\"added\" tabindex=\"0\"&gt;\n                                &lt;div *ngIf=\"item?.Sample_Report?.FileName &amp;&amp; !isSetforRemoval\"&gt;\n                                    &lt;a id=\"link-icon\" href=\"#\" (click)=\"$event.preventDefault(); downloadFile($event)\" class=\"pull-left\" tabindex=\"-1\"&gt;\n                                        &lt;file-icon [fileExtension]=\"item?.Sample_Report?.FileExtension\"&gt;&lt;/file-icon&gt;\n                                    &lt;/a&gt;\n                                    &lt;span class=\"file-info pull-left\"&gt;\n                                        &lt;label class=\"label-Names- label-inline file-limit\"&gt;\n                                            &lt;a id=\"link\" href=\"#\" (click)=\"$event.preventDefault(); downloadFile($event)\" class=\"a-link\" tabindex=\"-1\"&gt;\n                                                {{ item?.Sample_Report?.FileNameDisplay }}\n                                            &lt;/a&gt;\n                                        &lt;/label&gt;\n\n                                    &lt;/span&gt; &lt;b class=\"pull-left\"&gt;({{ item?.Sample_Report?.FileSize/1024/1024 | number:'.2' }} MB)&lt;/b&gt;\n\n                                    &lt;a href=\"#\" (click)=\"setToRemoveSampleFile($event)\" class=\"a-link pull-right\" tabindex=\"-1\"&gt;Remove&lt;/a&gt;\n                                    &lt;i class=\"mlcons_filled_close pull-right\" aria-hidden=\"true\" tabindex=\"-1\" (click)=\"setToRemoveSampleFile($event)\"&gt;&lt;/i&gt;\n                                &lt;/div&gt;\n                                &lt;div *ngIf=\"isSetforRemoval\"&gt;\n                                    &lt;span class=\"file-limit pull-left\"&gt;&lt;b&gt; {{ item?.Sample_Report?.FileNameDisplay }} &amp;nbsp;&lt;/b&gt;&lt;/span&gt;\n                                    &lt;a href=\"#\" (click)=\"KeepFileAttachment($event)\" class=\"a-link pull-right\"&gt;Keep File&lt;/a&gt;\n                                    &lt;i class=\"mlcons_stroke_refresh pull-right\" aria-hidden=\"true\" (click)=\"KeepFileAttachment($event)\"&gt;&lt;/i&gt;\n                                    &lt;span class=\"pull-left\"&gt; will be removed when you save.&lt;/span&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n\n                            &lt;br /&gt;\n                            &lt;div id=\"file-upload\" ng2FileDrop\n                                 [class.file-over]=\"hasDropZoneOver\"\n                                 (fileOver)=\"fileOver($event)\"\n                                 [uploader]=\"uploader\"\n                                 class=\"well drop-zone\" *ngIf=\"fileEmpty == null\"&gt;\n                                &lt;div class=\"form-group col-md-12 col-lg-12 \"&gt;\n                                    &lt;div class=\"col-md-2 col-lg-2 px-0\" *ngIf=\"uploadStatus == uploadStates.Ready &amp;&amp; uploader.queue.length == 0\"&gt;\n                                        &lt;div class=\"change-icon\" *ngIf=\"uploadStatus == uploadStates.Ready\"&gt;\n                                            &lt;span class=\"mlcons_stroke_add_doc\"&gt;\n                                                &lt;span class=\"path1\"&gt;&lt;/span&gt;&lt;span class=\"path2\"&gt;&lt;/span&gt;&lt;span class=\"path3\"&gt;&lt;/span&gt;&lt;span class=\"path4\"&gt;&lt;/span&gt;&lt;span class=\"path5\"&gt;&lt;/span&gt;&lt;span class=\"path6\"&gt;&lt;/span&gt;&lt;span class=\"path7\"&gt;&lt;/span&gt;&lt;span class=\"path8\"&gt;&lt;/span&gt;&lt;span class=\"path9\"&gt;&lt;/span&gt;\n                                            &lt;/span&gt;\n                                            &lt;span class=\"mlcons_stroke_upload_doc\"&gt;\n                                                &lt;span class=\"path1\"&gt;&lt;/span&gt;&lt;span class=\"path2\"&gt;&lt;/span&gt;&lt;span class=\"path3\"&gt;&lt;/span&gt;&lt;span class=\"path4\"&gt;&lt;/span&gt;&lt;span class=\"path5\"&gt;&lt;/span&gt;&lt;span class=\"path6\"&gt;&lt;/span&gt;&lt;span class=\"path7\"&gt;&lt;/span&gt;&lt;span class=\"path8\"&gt;&lt;/span&gt;&lt;span class=\"path9\"&gt;&lt;/span&gt;\n                                            &lt;/span&gt;\n                                        &lt;/div&gt;\n                                        &lt;span *ngIf=\"uploadStatus == uploadStates.Failed\" class=\"mlcons_stroke_failed_upload\"&gt;\n                                            &lt;span class=\"path1\"&gt;&lt;/span&gt;&lt;span class=\"path2\"&gt;&lt;/span&gt;&lt;span class=\"path3\"&gt;&lt;/span&gt;&lt;span class=\"path4\"&gt;&lt;/span&gt;&lt;span class=\"path5\"&gt;&lt;/span&gt;&lt;span class=\"path6\"&gt;&lt;/span&gt;&lt;span class=\"path7\"&gt;&lt;/span&gt;&lt;span class=\"path8\"&gt;&lt;/span&gt;&lt;span class=\"path9\"&gt;&lt;/span&gt;\n                                        &lt;/span&gt;\n                                        &lt;span *ngIf=\"uploadStatus == uploadStates.Uploading &amp;&amp; (uploader.progress || 0) &lt;= 99\" class=\"mlcons_stroke_upload_doc\"&gt;\n                                            &lt;span class=\"path1\"&gt;&lt;/span&gt;&lt;span class=\"path2\"&gt;&lt;/span&gt;&lt;span class=\"path3\"&gt;&lt;/span&gt;&lt;span class=\"path4\"&gt;&lt;/span&gt;&lt;span class=\"path5\"&gt;&lt;/span&gt;&lt;span class=\"path6\"&gt;&lt;/span&gt;&lt;span class=\"path7\"&gt;&lt;/span&gt;&lt;span class=\"path8\"&gt;&lt;/span&gt;&lt;span class=\"path9\"&gt;&lt;/span&gt;\n                                        &lt;/span&gt;\n                                        &lt;span *ngIf=\"uploadStatus == uploadStates.Uploading &amp;&amp; (uploader.progress || 0) &gt; 99\" class=\"mlcons_stroke_success_upload\"&gt;\n                                            &lt;span class=\"path1\"&gt;&lt;/span&gt;&lt;span class=\"path2\"&gt;&lt;/span&gt;&lt;span class=\"path3\"&gt;&lt;/span&gt;&lt;span class=\"path4\"&gt;&lt;/span&gt;&lt;span class=\"path5\"&gt;&lt;/span&gt;&lt;span class=\"path6\"&gt;&lt;/span&gt;&lt;span class=\"path7\"&gt;&lt;/span&gt;&lt;span class=\"path8\"&gt;&lt;/span&gt;&lt;span class=\"path9\"&gt;&lt;/span&gt;\n                                        &lt;/span&gt;\n                                    &lt;/div&gt;\n                                    &lt;div class=\"col-md-7 col-lg-7 px-0 margin-top-10\" *ngIf=\"uploadStatus == uploadStates.Ready &amp;&amp; uploader.queue.length == 0\"&gt;\n                                        &lt;div class=\"align-left\" *ngIf=\"uploadStatus == uploadStates.Ready\"&gt;Upload a file to the project.&lt;/div&gt;\n                                        &lt;div *ngIf=\"uploadStatus == uploadStates.Ready\"\n                                             class=\"second-message align-left\"&gt;Drag and drop a&lt;b&gt; file &lt;/b&gt;here or click Add File to browse.&lt;/div&gt;\n                                    &lt;/div&gt;\n                                    &lt;div class=\"col-md-8 col-lg-8 px-0\" *ngIf=\"(uploadStatus == uploadStates.Ready &amp;&amp; uploader.queue.length &gt; 0) || uploadStatus == uploadStates.Success || uploadStatus == uploadStates.Uploading || uploadStatus == uploadStates.Failed\"&gt;\n                                        &lt;div [class.failed]=\"uploadStatus == uploadStates.Failed\"\n                                             [class.upload]=\"uploadStatus == uploadStates.Uploading\"\n                                             class=\"file-info\"&gt;\n                                            &lt;file-icon [fileExtension]=\"fileExtension\"&gt;&lt;/file-icon&gt; &lt;div&gt;\n                                                {{fileInfo}}\n                                                &lt;span *ngIf=\"uploadStatus == uploadStates.Success || uploadStatus == uploadStates.Uploading\" class=\"mlcons_circled_check\"&gt;&lt;span class=\"path1\"&gt;&lt;/span&gt;&lt;span class=\"path2\"&gt;&lt;/span&gt;&lt;/span&gt;\n                                                &lt;span *ngIf=\"(uploadStatus == uploadStates.Failed &amp;&amp; !rename)\" class=\"mlcons_circled_error\"&gt;&lt;span class=\"path1\"&gt;&lt;/span&gt;&lt;span class=\"path2\"&gt;&lt;/span&gt;&lt;/span&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                    &lt;/div&gt;\n                                    &lt;div class=\"remove-file form-group col-md-4 col-lg-4 px-0\" *ngIf=\"uploadStatus == uploadStates.Ready &amp;&amp; uploader.queue.length &gt; 0\"&gt;\n                                        &lt;div class=\"link-margin-right pull-right px-0\" *ngIf=\"uploader.queue.length &gt; 0\"&gt;\n                                            &lt;div class=\"remove-file\"&gt;\n                                                &lt;span class=\"mlcons_filled_close\" (click)=\"$event.preventDefault(); remove()\"&gt;&lt;/span&gt; &lt;a href=\"#\" class=\"a-link\" (click)=\"$event.preventDefault(); remove()\"&gt;Remove&lt;/a&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                    &lt;/div&gt;\n                                    &lt;div class=\"form-group col-md-4 col-lg-4 px-0 remove-file\" *ngIf=\"uploadStatus == uploadStates.Uploading\"&gt;\n                                        &lt;div class=\"remove-file pull-right link-margin-right\"&gt;\n                                            &lt;span class=\"mlcons_filled_close\"&gt;&lt;/span&gt; &lt;a href=\"#\" class=\"a-link\" (click)=\"$event.preventDefault(); uploader.cancelAll()\"&gt;Cancel&lt;/a&gt;\n                                        &lt;/div&gt;\n                                    &lt;/div&gt;\n\n                                    &lt;div class=\"col-md-3 col-lg-3 add-file-btn\" *ngIf=\"uploadStatus == uploadStates.Ready &amp;&amp; uploader.queue.length == 0\"&gt;\n                                        &lt;input [hidden]=\"true\" #file type=\"file\" ng2FileSelect [uploader]=\"uploader\" (change)=\"fileChangeEvent($event)\" /&gt;\n                                        &lt;button (click)=\"$event.preventDefault(); file.click()\" class=\"btn btn-primary\"&gt;&lt;i class=\"mlcons_filled_add\"&gt;   &lt;/i&gt; Add File&lt;/button&gt;\n                                    &lt;/div&gt;\n                                    &lt;div class=\"form-group col-md-12 col-lg-12 px-0\"&gt;\n                                        &lt;div class=\"padding-lr-15 file-progress\"&gt;\n                                            &lt;div class=\"progress upload-progress\" *ngIf=\"uploadStatus == uploadStates.Uploading\"&gt;\n                                                &lt;div class=\"progress-bar\" [class.failed]=\"uploadStatus == uploadStates.Failed\" role=\"progressbar\" [ngStyle]=\"{ 'width': uploader.progress + '%' }\"&gt;&lt;/div&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                        &lt;div *ngIf=\"uploadStatus == uploadStates.Uploading &amp;&amp; uploader.progress &gt; 0\"\n                                             [class.failed]=\"uploadStatus == uploadStates.Failed\"\n                                             [class.upload]=\"uploadStatus == uploadStates.Uploading\"\n                                             class=\"file-info-progress padding-lr-15\"&gt;\n                                            Uploading file &lt;span&gt;({{uploader.progress || 0}}%)&lt;/span&gt;\n                                        &lt;/div&gt;\n                                        &lt;div *ngIf=\"fileExceeded\" class=\"duplicate-file-name-error\"&gt;\n                                            &lt;span class=\"mlcons_circled_information\"&gt;&lt;span class=\"path1\"&gt;&lt;/span&gt;&lt;span class=\"path2\"&gt;&lt;/span&gt;&lt;/span&gt; {{fileName}} exceeds the maximum size limit of 20 MB.\n                                        &lt;/div&gt;\n                                        &lt;div *ngIf=\"errorOccured &amp;&amp; uploadStatus == uploadStates.Failed\" class=\"duplicate-file-name-error\"&gt;\n                                            &lt;span class=\"mlcons_circled_information\"&gt;&lt;span class=\"path1\"&gt;&lt;/span&gt;&lt;span class=\"path2\"&gt;&lt;/span&gt;&lt;/span&gt; Upload was unsuccessful. Please try again.\n                                        &lt;/div&gt;\n                                    &lt;/div&gt;\n                                    &lt;div&gt;&amp;nbsp;&lt;/div&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n\n                &lt;div class=\"form-group col-md-12 col-lg-12 \"&gt;\n                    &lt;div class=\"col-md-4 px-0-left form-label\"&gt;\n                        &lt;label for=\"recipients\" class=\"label-Names- label-inline\"&gt;Recipients:&lt;/label&gt;\n                    &lt;/div&gt;\n                    &lt;br /&gt;\n                    &lt;div class=\"form-group col-md-12 col-lg-12 px-0\"&gt;\n                        &lt;textarea class=\"col-md-12 col-lg-12 px-2 textstyle\" [readonly]=\"modalMode != modalModes.EditMode\" maxlength=\"200\" id=\"recipients\" formControlName=\"recipients\" (keydown)=\"recipientValue($event)\" tabindex=\"0\"&gt;{{originaleDataReport?.Recipient}} &lt;/textarea&gt;                      \n                    &lt;/div&gt;               \n\n                    &lt;div class=\"form-group col-md-12 px-0 px-25-pad-bottom\"&gt;\n                        &lt;span class=\"col-md-12 border-bottom-1\"&gt;&lt;/span&gt;\n                        &lt;hr /&gt;\n                    &lt;/div&gt;\n                    &lt;div *ngIf=\"modalMode == modalModes.EditMode\" class=\"form-group col-lg-12 px-0\"&gt;                     \n                        &lt;button id=\"save-button\" name=\"save-button\" class=\"btn btn-primary\" [disabled]=\"!isButtonEnable \" type=\"submit\" &gt;Save Changes&lt;/button&gt; \n                        &lt;button id=\"cancel-button\" class=\"btn btn-default\" type=\"submit\" (keydown.Tab)=\"cancelButtonTab($event)\" (click)=\"cancelClick($event)\" tabindex=\"0\"&gt;Cancel&lt;/button&gt;\n                    &lt;/div&gt;\n                    &lt;div *ngIf=\"modalMode == modalModes.ViewMode\" class=\"form-group col-lg-12 px-0 footer-action\"&gt;\n                        &lt;span class=\"mlcons_filled_edit\"&gt;&lt;/span&gt; &lt;a id=\"edit-data\" class=\"a-link\" (keydown.Tab)=\"$event.preventDefault\" (keydown.enter)=\"onEditDataClicked($event)\" (click)=\"onEditDataClicked($event)\" &gt;Edit eData Reporting&lt;/a&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I hope somebody could help me find the cause of this error. Thanks</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4376, "user_id": 3380837, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eN16u.png?s=128&g=1", "display_name": "kat1330", "link": "https://stackoverflow.com/users/3380837/kat1330"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1507752373, "post_id": 46695121, "comment_id": 80341088, "body": "The only issue with your suggestion is I can access only to <code>setValidityForControl()</code>. All others types are hidden."}, {"owner": {"reputation": 144, "user_id": 5734876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d14b774c9d1b4466d4e0851a4024f47?s=128&d=identicon&r=PG", "display_name": "zion", "link": "https://stackoverflow.com/users/5734876/zion"}, "edited": false, "score": 0, "creation_date": 1585412073, "post_id": 46695121, "comment_id": 107751098, "body": "Did you had any success on this? I am trying the very same thing."}], "answers": [{"comments": [{"owner": {"reputation": 4376, "user_id": 3380837, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eN16u.png?s=128&g=1", "display_name": "kat1330", "link": "https://stackoverflow.com/users/3380837/kat1330"}, "edited": false, "score": 0, "creation_date": 1507750220, "post_id": 46695889, "comment_id": 80339929, "body": "But I want to extend existing type, I don&#39;t want to create new type."}, {"owner": {"reputation": 12274, "user_id": 3665878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16ee09d7771cf9f7f66e1701c8e61cdc?s=128&d=identicon&r=PG", "display_name": "Martin Ad&#225;mek", "link": "https://stackoverflow.com/users/3665878/martin-ad%c3%a1mek"}, "reply_to_user": {"reputation": 4376, "user_id": 3380837, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eN16u.png?s=128&g=1", "display_name": "kat1330", "link": "https://stackoverflow.com/users/3380837/kat1330"}, "edited": false, "score": 0, "creation_date": 1507750716, "post_id": 46695889, "comment_id": 80340170, "body": "Not sure it&#39;s possible, I guess it&#39;s not. But you definitely need to extend the class itself, not just its type. What is wrong with extending the class as I suggested? I think that is the way you should do it, as monkey patching existing classes is generally not a good practice."}, {"owner": {"reputation": 4376, "user_id": 3380837, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eN16u.png?s=128&g=1", "display_name": "kat1330", "link": "https://stackoverflow.com/users/3380837/kat1330"}, "edited": false, "score": 0, "creation_date": 1507751591, "post_id": 46695889, "comment_id": 80340651, "body": "I simply don&#39;t want to create new type and even if I do that I will need to extend some other types like <code>FormBuilder</code> etc."}, {"owner": {"reputation": 16898, "user_id": 696056, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0f1yI.jpg?s=128&g=1", "display_name": "cwharris", "link": "https://stackoverflow.com/users/696056/cwharris"}, "edited": false, "score": 0, "creation_date": 1507849778, "post_id": 46695889, "comment_id": 80387063, "body": "@MartinAd&#225;mek, <code>FormGroup</code> is defined as a class in an existing module. re-defining it as an interface should simply add properties to the class (a class and interface with the same name is effectively the same as merging those types together in to a single class)."}], "tags": [], "owner": {"reputation": 12274, "user_id": 3665878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16ee09d7771cf9f7f66e1701c8e61cdc?s=128&d=identicon&r=PG", "display_name": "Martin Ad&#225;mek", "link": "https://stackoverflow.com/users/3665878/martin-ad%c3%a1mek"}, "is_accepted": false, "score": 0, "last_activity_date": 1507749317, "creation_date": 1507749317, "answer_id": 46695889, "question_id": 46695121, "link": "https://stackoverflow.com/questions/46695121/extension-method-on-formgroup/46695889#46695889", "title": "Extension method on FormGroup", "body": "<p>You are defining <code>FormGroup</code> as <code>interface</code> which is basically declaration of its type. But then you are trying to adjust its prototype, and you can do this only with a value, not with a type. </p>\n\n<p>I would suggest creating your own wrapper for this and use it instead:</p>\n\n<pre><code>export class MyFormGroup extends FormGroup {\n\n  setErrorForControl(error: string, control: string) {\n    let errors = this.controls[control].errors;\n    errors = errors ? errors : {};\n\n    errors[error] = true;\n\n    this.controls[control].setErrors(errors);\n\n    console.log(this.controls[control].errors);\n  }\n\n}\n</code></pre>\n\n<p>Then you can use it:</p>\n\n<pre><code>this.myForm = new MyFormGroup(...);\nthis.myForm.setErrorForControl('someError', 'firstName');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4376, "user_id": 3380837, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eN16u.png?s=128&g=1", "display_name": "kat1330", "link": "https://stackoverflow.com/users/3380837/kat1330"}, "edited": false, "score": 0, "creation_date": 1507771710, "post_id": 46699877, "comment_id": 80347269, "body": "Do you have error: &#39;FormGroup&#39; only refers to a type, but is being used as a value here ? I was following similar example for Observables. But simply doesn&#39;t work."}, {"owner": {"reputation": 16898, "user_id": 696056, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0f1yI.jpg?s=128&g=1", "display_name": "cwharris", "link": "https://stackoverflow.com/users/696056/cwharris"}, "reply_to_user": {"reputation": 4376, "user_id": 3380837, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eN16u.png?s=128&g=1", "display_name": "kat1330", "link": "https://stackoverflow.com/users/3380837/kat1330"}, "edited": false, "score": 0, "creation_date": 1507771750, "post_id": 46699877, "comment_id": 80347279, "body": "I have that error if I forget to import the type when declaring an interface on top of it."}, {"owner": {"reputation": 4376, "user_id": 3380837, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eN16u.png?s=128&g=1", "display_name": "kat1330", "link": "https://stackoverflow.com/users/3380837/kat1330"}, "edited": false, "score": 0, "creation_date": 1507771948, "post_id": 46699877, "comment_id": 80347329, "body": "I still have that error and I updated example.  I already using import. I followed this approach for extending observable: <a href=\"https://blog.angular-university.io/debug-rxjs/\" rel=\"nofollow noreferrer\">blog.angular-university.io/debug-rxjs</a> But something is wrong with forms."}, {"owner": {"reputation": 4376, "user_id": 3380837, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eN16u.png?s=128&g=1", "display_name": "kat1330", "link": "https://stackoverflow.com/users/3380837/kat1330"}, "edited": false, "score": 0, "creation_date": 1507772815, "post_id": 46699877, "comment_id": 80347529, "body": "What is your version of TypeScript. I am using 2.4.2 and it doesn&#39;t work."}, {"owner": {"reputation": 16898, "user_id": 696056, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0f1yI.jpg?s=128&g=1", "display_name": "cwharris", "link": "https://stackoverflow.com/users/696056/cwharris"}, "reply_to_user": {"reputation": 4376, "user_id": 3380837, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eN16u.png?s=128&g=1", "display_name": "kat1330", "link": "https://stackoverflow.com/users/3380837/kat1330"}, "edited": false, "score": 0, "creation_date": 1507780304, "post_id": 46699877, "comment_id": 80349348, "body": "I&#39;m using <code>2.5.3</code>."}, {"owner": {"reputation": 16898, "user_id": 696056, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0f1yI.jpg?s=128&g=1", "display_name": "cwharris", "link": "https://stackoverflow.com/users/696056/cwharris"}, "reply_to_user": {"reputation": 4376, "user_id": 3380837, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eN16u.png?s=128&g=1", "display_name": "kat1330", "link": "https://stackoverflow.com/users/3380837/kat1330"}, "edited": false, "score": 0, "creation_date": 1507780355, "post_id": 46699877, "comment_id": 80349362, "body": "Can you navigate to Angular&#39;s type definition for <code>FormGroup</code>? The only thing I can think of is that <code>FormGroup</code> is an interface in your version of Angular. If that&#39;s true, extensions won&#39;t work."}, {"owner": {"reputation": 4376, "user_id": 3380837, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eN16u.png?s=128&g=1", "display_name": "kat1330", "link": "https://stackoverflow.com/users/3380837/kat1330"}, "edited": false, "score": 0, "creation_date": 1507832512, "post_id": 46699877, "comment_id": 80379124, "body": "Here is definition: <code>export declare class FormGroup extends AbstractControl</code> and version of <code>@angular&#47;forms</code> is 4.3.2."}, {"owner": {"reputation": 16898, "user_id": 696056, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0f1yI.jpg?s=128&g=1", "display_name": "cwharris", "link": "https://stackoverflow.com/users/696056/cwharris"}, "reply_to_user": {"reputation": 4376, "user_id": 3380837, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eN16u.png?s=128&g=1", "display_name": "kat1330", "link": "https://stackoverflow.com/users/3380837/kat1330"}, "edited": false, "score": 0, "creation_date": 1507849524, "post_id": 46699877, "comment_id": 80386999, "body": "I also checked the definition for <code>FormGroup</code> on Angular&#39;s master branch, and found it to be a class. That leads me to believe that you may not be importing that class in to the file where you are extending it (<code>import { FormGroup } from &quot;@angular&#47;forms&quot;</code>). If that&#39;s true, it generates the same error as if it were an interface (because your file defines it as an interface)."}, {"owner": {"reputation": 1542, "user_id": 2171266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H5A1q.jpg?s=128&g=1", "display_name": "Brandon.Staley", "link": "https://stackoverflow.com/users/2171266/brandon-staley"}, "edited": false, "score": 2, "creation_date": 1510081884, "post_id": 46699877, "comment_id": 81281173, "body": "try <code>declare module &#39;@angular&#47;forms&#47;src&#47;model&#39; {</code> instead"}], "tags": [], "owner": {"reputation": 16898, "user_id": 696056, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0f1yI.jpg?s=128&g=1", "display_name": "cwharris", "link": "https://stackoverflow.com/users/696056/cwharris"}, "is_accepted": false, "score": 0, "last_activity_date": 1507771651, "last_edit_date": 1507771651, "creation_date": 1507770940, "answer_id": 46699877, "question_id": 46695121, "link": "https://stackoverflow.com/questions/46695121/extension-method-on-formgroup/46699877#46699877", "title": "Extension method on FormGroup", "body": "<p>You need to import the class you want to extend, otherwise TypeScript doesn't know it's a class. If it thinks it's just an interface, it won't allow you to access <code>prototype</code> because interfaces don't exist at runtime.</p>\n\n<pre><code>import { FormGroup } from \"@angular/forms\";\n\ndeclare module '@angular/forms' {\n  interface FormGroup {\n    setErrorForControl: (error: string, control: string) =&gt; FormGroup;\n  }\n}\n\nFormGroup.prototype.setErrorForControl = function (error: string, control: string) {\n  let errors = this.controls[control].errors;\n  errors = errors ? errors : {};\n\n  errors[error] = true;\n\n  this.controls[control].setErrors(errors);\n\n  console.log(this.controls[control].errors);\n};\n</code></pre>\n\n<p>See example here: <a href=\"https://github.com/ReactiveX/rxjs/blob/master/src/add/operator/map.ts\" rel=\"nofollow noreferrer\">https://github.com/ReactiveX/rxjs/blob/master/src/add/operator/map.ts</a></p>\n"}], "owner": {"reputation": 4376, "user_id": 3380837, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eN16u.png?s=128&g=1", "display_name": "kat1330", "link": "https://stackoverflow.com/users/3380837/kat1330"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1547, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1507771834, "creation_date": 1507746273, "last_edit_date": 1507771834, "question_id": 46695121, "link": "https://stackoverflow.com/questions/46695121/extension-method-on-formgroup", "title": "Extension method on FormGroup", "body": "<p>I am using reactive forms and trying to create an extension method on <code>FormGroup</code>. My code is here:</p>\n\n<pre><code>import { FormGroup } from '@angular/forms';\n\ndeclare module '@angular/forms' {\n  interface FormGroup {\n    setErrorForControl: (error: string, control: string) =&gt; FormGroup;\n  }\n}\n\nFormGroup.prototype.setErrorForControl = function (error: string, control: string) {\n  let errors = this.controls[control].errors;\n  errors = errors ? errors : {};\n\n  errors[error] = true;\n\n  this.controls[control].setErrors(errors);\n\n  console.log(this.controls[control].errors);\n};\n</code></pre>\n\n<p>At first, this code doesn't compile. It says: </p>\n\n<blockquote>\n  <p><code>FormGroup</code> only refers to a type, but is being used as a value here.</p>\n</blockquote>\n\n<p>I would like to use my method in code like this:</p>\n\n<p><code>this.myForm.setErrorForControl('someError', 'nirstName');</code></p>\n\n<p>Basically I would like to pass control name and error name and this method should set error in form.</p>\n\n<p><strong>UPDATE:</strong> </p>\n\n<p>I can achieve this by adding:</p>\n\n<pre><code>FormGroup.prototype['setErrorForControl'] = function (error: string, control: string)\n</code></pre>\n\n<p>In the code I can do:</p>\n\n<pre><code>(&lt;any&gt;this.myForm).setErrorForControl('custom', 'FirstName');\n</code></pre>\n\n<p>Problem is because it doesn't exist on <code>FormGroup</code> type. Any solution?</p>\n"}, {"tags": ["json", "angular", "typescript", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507752273, "post_id": 46694787, "comment_id": 80341042, "body": "why do want to patch an array of questions in one question ? how this will be shown graphically in HTML ? i didn&#39;t get ur problem"}, {"owner": {"reputation": 1, "user_id": 8370176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a16e2bebcc9f7c254047f7f6e55281a?s=128&d=identicon&r=PG&f=1", "display_name": "chrishaxis", "link": "https://stackoverflow.com/users/8370176/chrishaxis"}, "reply_to_user": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507811730, "post_id": 46694787, "comment_id": 80365917, "body": "@Med_Ali_Rachid It is an array of questions for 1 assessment. So, the html will show an assessment name, type, status and description, but then the questions will be an array."}, {"owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507812102, "post_id": 46694787, "comment_id": 80366179, "body": "as i see in the object that u posted , <code>questions</code> is an object , not an array , can u please give me an example of the JSON coming from the server when the assessment contains more than one question"}, {"owner": {"reputation": 1, "user_id": 8370176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a16e2bebcc9f7c254047f7f6e55281a?s=128&d=identicon&r=PG&f=1", "display_name": "chrishaxis", "link": "https://stackoverflow.com/users/8370176/chrishaxis"}, "reply_to_user": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507820773, "post_id": 46694787, "comment_id": 80372382, "body": "Comments aren&#39;t letting me post json is just all runs together but:   <code>description: &quot;Six&quot; name: &quot;Template Six&quot; status: Not Started&quot; templateID: 3 templateQuestions: Array(3) 0{questionID: 6, name: &quot;Check your favorite one&quot;, goal: &quot;Any Goal&quot;, isAddToOverview: false, isDefaultToLastResponse: null, \u2026} 1{questionID: 3, name: &quot;Question 3&quot;, goal: &quot;Any Goal&quot;, isAddToOverview: false, isDefaultToLastResponse: null, \u2026} 2 {questionID: 1, name: &quot;Question 1&quot;, goal: &quot;Any Goal&quot;, isAddToOverview: false, isDefaultToLastResponse: null, \u2026}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8370176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a16e2bebcc9f7c254047f7f6e55281a?s=128&d=identicon&r=PG&f=1", "display_name": "chrishaxis", "link": "https://stackoverflow.com/users/8370176/chrishaxis"}, "edited": false, "score": 0, "creation_date": 1508159110, "post_id": 46745918, "comment_id": 80487483, "body": "Thanks! That got me a step closer I think. I&#39;m getting this error now: Cannot find a differ supporting object &#39;[object Object]&#39; of type &#39;object&#39;. NgFor only supports binding to Iterables such as Arrays. Is a form array not considered an array for the purposes or ngFor ?"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "reply_to_user": {"reputation": 1, "user_id": 8370176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a16e2bebcc9f7c254047f7f6e55281a?s=128&d=identicon&r=PG&f=1", "display_name": "chrishaxis", "link": "https://stackoverflow.com/users/8370176/chrishaxis"}, "edited": false, "score": 0, "creation_date": 1508224167, "post_id": 46745918, "comment_id": 80515002, "body": "Yes, it is considered as an array. How does your iteration look like? It should be something like <code>*ngFor=&quot;let question of caseAssessmentForm.controls.questions.controls&quot;</code>"}], "tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": false, "score": 2, "last_activity_date": 1507993196, "creation_date": 1507993196, "answer_id": 46745918, "question_id": 46694787, "link": "https://stackoverflow.com/questions/46694787/patch-array-of-values-to-reactive-form/46745918#46745918", "title": "Patch array of values to Reactive Form", "body": "<p>What you need to do is to iterate the incoming array, push each object as a FormGroup to an formArray. So the build could have an empty form array: </p>\n\n<pre><code>this.caseAssessmentForm = this.fb.group({\n  // more fields here...\n  questions: this.fb.array([])\n})\n</code></pre>\n\n<p>...where <code>fb</code> is referring to <code>FormBuilder</code>. </p>\n\n<p>When you get your data, you iterate it and push formgroups to that formarray <code>questions</code>, so:</p>\n\n<pre><code>...\nthis.caseAssessmentForm.patchValue({\n  ID: assessment.templateID,\n  name: assessment.name,\n  type: assessment.typeName,\n  status: \"Not Started\",\n  description: assessment.description,\n});\nthis.patchFormArray(); // call this to populate formarray!\n...\n\npatchFormArray() {\n  let ctrl = &lt;FormArray&gt;this.caseAssessmentForm.controls.questions;\n  this.assesment.templateQuestions.forEach(question =&gt; {\n    ctrl.push(this.fb.group({\n      questionScore: '',\n      questionAnswer: '',\n      questionGoal: question.goal,\n      questionName: question.name\n    }))\n  })\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8370176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a16e2bebcc9f7c254047f7f6e55281a?s=128&d=identicon&r=PG&f=1", "display_name": "chrishaxis", "link": "https://stackoverflow.com/users/8370176/chrishaxis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3091, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1522751443, "creation_date": 1507745032, "question_id": 46694787, "link": "https://stackoverflow.com/questions/46694787/patch-array-of-values-to-reactive-form", "title": "Patch array of values to Reactive Form", "body": "<p>I have a JSON response coming back from the server that is an assessment object with an array of questions. I need to path the values to my reactive form. This patch value function is working when there is only 1 question: </p>\n\n<pre><code>this.caseAssessmentForm.patchValue({\n  ID: assessment.templateID,\n  name: assessment.name,\n  type: assessment.typeName,\n  status: \"Not Started\",\n  description: assessment.description,\n  questions: {\n    questionScore: '',\n    questionAnswer: '',\n    questionGoal: assessment.templateQuestions[0].goal,\n    questionName: assessment.templateQuestions[0].name\n  }\n});\n</code></pre>\n\n<p>The problem is that once there are multiple questions returning, I can't patch the value as an array. I've tried using questions: this.FormBuiler.array([]), but I still can't figure out how to dynamically patch the values. Does anyone have any ideas? </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 1, "creation_date": 1507744732, "post_id": 46694669, "comment_id": 80337163, "body": "Where are the functions defined? If they&#39;re named functions, your should be able to refer them directly by name."}, {"owner": {"reputation": 11, "user_id": 8760770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af81f1260e3d56645c3e526aac982ebb?s=128&d=identicon&r=PG&f=1", "display_name": "\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0422\u043e\u043b\u0441\u0442\u0438\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/8760770/%d0%90%d0%bb%d0%b5%d0%ba%d1%81%d0%b0%d0%bd%d0%b4%d1%80-%d0%a2%d0%be%d0%bb%d1%81%d1%82%d0%b8%d0%ba%d0%be%d0%b2"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1507745142, "post_id": 46694669, "comment_id": 80337369, "body": "Ok, my bad, i will try to clarify:  for example my goal is to do something like: $(domElement).bind(eventKey, this[funcName]); funcName - is an argument of otherMethod, so i need to dynamically attach eventHandlers"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 3, "creation_date": 1507746409, "post_id": 46694669, "comment_id": 80338024, "body": "Hello and welcome to StackOverflow. You might want to learn about <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Examples</a>.  Right now we can only guess what kinds of things will fix your problem.  For example, you probably want <code>funcName</code> to be declared as type <code>keyof this</code> instead of <code>string</code>, so that <code>this[funcName]</code> resolves.  But for all I know this would lead to other problems.  So a complete and verifiable example would be best for everyone."}, {"owner": {"reputation": 1805, "user_id": 5865712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-Y5Rum91W6os/AAAAAAAAAAI/AAAAAAAAAGI/J3TK0_uwiHw/photo.jpg?sz=128", "display_name": "Chris Sharp", "link": "https://stackoverflow.com/users/5865712/chris-sharp"}, "edited": false, "score": 0, "creation_date": 1507746422, "post_id": 46694669, "comment_id": 80338033, "body": "Are you going to pass parameters into these functions?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8760770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af81f1260e3d56645c3e526aac982ebb?s=128&d=identicon&r=PG&f=1", "display_name": "\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0422\u043e\u043b\u0441\u0442\u0438\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/8760770/%d0%90%d0%bb%d0%b5%d0%ba%d1%81%d0%b0%d0%bd%d0%b4%d1%80-%d0%a2%d0%be%d0%bb%d1%81%d1%82%d0%b8%d0%ba%d0%be%d0%b2"}, "edited": false, "score": 1, "creation_date": 1507744791, "post_id": 46694712, "comment_id": 80337188, "body": "But i want to do it dynamically, funcName - is a string argument of some other function."}, {"owner": {"reputation": 84, "user_id": 5364503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a450857b57e2555596b9748f645c36a?s=128&d=identicon&r=PG", "display_name": "Jan Wilts", "link": "https://stackoverflow.com/users/5364503/jan-wilts"}, "reply_to_user": {"reputation": 11, "user_id": 8760770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af81f1260e3d56645c3e526aac982ebb?s=128&d=identicon&r=PG&f=1", "display_name": "\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0422\u043e\u043b\u0441\u0442\u0438\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/8760770/%d0%90%d0%bb%d0%b5%d0%ba%d1%81%d0%b0%d0%bd%d0%b4%d1%80-%d0%a2%d0%be%d0%bb%d1%81%d1%82%d0%b8%d0%ba%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1507744851, "post_id": 46694712, "comment_id": 80337222, "body": "Oh ok, sorry didn&#39;t get you. In that case you can use the javascript eval() function which turns a piece of string into code."}, {"owner": {"reputation": 11, "user_id": 8760770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af81f1260e3d56645c3e526aac982ebb?s=128&d=identicon&r=PG&f=1", "display_name": "\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0422\u043e\u043b\u0441\u0442\u0438\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/8760770/%d0%90%d0%bb%d0%b5%d0%ba%d1%81%d0%b0%d0%bd%d0%b4%d1%80-%d0%a2%d0%be%d0%bb%d1%81%d1%82%d0%b8%d0%ba%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1507745016, "post_id": 46694712, "comment_id": 80337312, "body": "No, i don&#39;t need to invoke it, i just want to bind it as event handler. Such as: $(domElement).bind(eventKey, this[funcName]);"}], "tags": [], "owner": {"reputation": 84, "user_id": 5364503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a450857b57e2555596b9748f645c36a?s=128&d=identicon&r=PG", "display_name": "Jan Wilts", "link": "https://stackoverflow.com/users/5364503/jan-wilts"}, "is_accepted": false, "score": -1, "last_activity_date": 1507744708, "creation_date": 1507744708, "answer_id": 46694712, "question_id": 46694669, "link": "https://stackoverflow.com/questions/46694669/typescript-how-to-get-function-by-name/46694712#46694712", "title": "TypeScript: how to get function by name?", "body": "<pre><code>this.functionName(arg1, arg2);\n</code></pre>\n\n<p>Replace <em>functionName</em> with the name of the function and enter replace arguments (if any or more) with <em>arg1, arg2</em>, if you have more just add more comma's.</p>\n"}], "owner": {"reputation": 11, "user_id": 8760770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af81f1260e3d56645c3e526aac982ebb?s=128&d=identicon&r=PG&f=1", "display_name": "\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0422\u043e\u043b\u0441\u0442\u0438\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/8760770/%d0%90%d0%bb%d0%b5%d0%ba%d1%81%d0%b0%d0%bd%d0%b4%d1%80-%d0%a2%d0%be%d0%bb%d1%81%d1%82%d0%b8%d0%ba%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507744708, "creation_date": 1507744559, "question_id": 46694669, "link": "https://stackoverflow.com/questions/46694669/typescript-how-to-get-function-by-name", "title": "TypeScript: how to get function by name?", "body": "<p>how to get a function by name, i'm tried this[funcName], but i'm get an error: \"type has no index signature\"?</p>\n"}, {"tags": ["angular", "typescript", "angular-router"], "answers": [{"comments": [{"owner": {"reputation": 555, "user_id": 4392140, "user_type": "registered", "accept_rate": 30, "profile_image": "https://graph.facebook.com/100006945120027/picture?type=large", "display_name": "T.Aoukar", "link": "https://stackoverflow.com/users/4392140/t-aoukar"}, "edited": false, "score": 0, "creation_date": 1507747510, "post_id": 46694827, "comment_id": 80338650, "body": "That&#39;s a good general solution, but if it&#39;s implemented as a service, I&#39;ll need to have access to route params in that service, passing it the route params from the resolver isn&#39;t a good solution since it means I&#39;m resolving the params twice, is there a way to avoid that too?"}], "tags": [], "owner": {"reputation": 813, "user_id": 4711184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BvHQe.jpg?s=128&g=1", "display_name": "Moema", "link": "https://stackoverflow.com/users/4711184/moema"}, "is_accepted": false, "score": 1, "last_activity_date": 1507745149, "creation_date": 1507745149, "answer_id": 46694827, "question_id": 46694615, "link": "https://stackoverflow.com/questions/46694615/resolver-dependency-in-angular-4/46694827#46694827", "title": "Resolver dependency in Angular 4", "body": "<p>If I didn't miss anything, it sounds like the third resolver (which has the common code) is just a service, so you can inject it into the other 2 services and access it from there. You don't need it as resolver. </p>\n"}], "owner": {"reputation": 555, "user_id": 4392140, "user_type": "registered", "accept_rate": 30, "profile_image": "https://graph.facebook.com/100006945120027/picture?type=large", "display_name": "T.Aoukar", "link": "https://stackoverflow.com/users/4392140/t-aoukar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 696, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1507745149, "creation_date": 1507744361, "question_id": 46694615, "link": "https://stackoverflow.com/questions/46694615/resolver-dependency-in-angular-4", "title": "Resolver dependency in Angular 4", "body": "<p>I have a route that activates 3 resolvers, a resolver is mapping a route parameter to an object, so it's something like a dictionary. The other 2 resolvers depend on this value in their work, so they should wait until the first one has resolved that part, then they can start.</p>\n\n<p>Initially, there were only 2 resolvers, but to keep my code DRY I've taken the first part to a 3rd resolver, which lead me into this problem.</p>\n\n<p>Is there support for such scenario in current Angular 4 version? or should I resort hacking my way using sideways??</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 7918896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/82c219c2dccf832b59e00f259aa0f4b2?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/7918896/thomas"}, "edited": false, "score": 0, "creation_date": 1507743378, "post_id": 46693989, "comment_id": 80336399, "body": "Still cant find homeParams. If i add homeParams to the export class, it is empty ofc. On the html, i can show the value with this:{{navParams.data.facebooknev}}"}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 45, "user_id": 7918896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/82c219c2dccf832b59e00f259aa0f4b2?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/7918896/thomas"}, "edited": false, "score": 0, "creation_date": 1507743507, "post_id": 46693989, "comment_id": 80336471, "body": "Can you show the <code>code</code> of how to access it? Put that on your question area above."}, {"owner": {"reputation": 45, "user_id": 7918896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/82c219c2dccf832b59e00f259aa0f4b2?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/7918896/thomas"}, "edited": false, "score": 0, "creation_date": 1507743817, "post_id": 46693989, "comment_id": 80336611, "body": "added more info"}, {"owner": {"reputation": 45, "user_id": 7918896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/82c219c2dccf832b59e00f259aa0f4b2?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/7918896/thomas"}, "edited": false, "score": 0, "creation_date": 1507748922, "post_id": 46693989, "comment_id": 80339331, "body": "unfortunately i am still stucked, how should i modify the modal.create part? :("}], "tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": false, "score": 0, "last_activity_date": 1507744030, "last_edit_date": 1507744030, "creation_date": 1507741870, "answer_id": 46693989, "question_id": 46693905, "link": "https://stackoverflow.com/questions/46693905/passing-navparams-in-tabs-ts-then-sending-them-to-modals/46693989#46693989", "title": "Passing navparams in tabs.ts then sending them to modals", "body": "<p>You need to do it as shown below:</p>\n\n<p><em>tabs.ts</em></p>\n\n<pre><code>openFeltoltes(){\n    const feltolt=this.modal.create(FogasfeltoltesPage,{data:this.homeParams});\n    feltolt.present();\n  }\n</code></pre>\n\n<p><strong>Retrieve it:</strong></p>\n\n<pre><code>  let facebookadatok= = this.navParams.get('data');\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 7918896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/82c219c2dccf832b59e00f259aa0f4b2?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/7918896/thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 278, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507744030, "creation_date": 1507741556, "last_edit_date": 1507743738, "question_id": 46693905, "link": "https://stackoverflow.com/questions/46693905/passing-navparams-in-tabs-ts-then-sending-them-to-modals", "title": "Passing navparams in tabs.ts then sending them to modals", "body": "<p>I have a problem. My app has facebook authentication and i am passing the parameters to all tab pages like this:</p>\n\n<p>tabs.ts</p>\n\n<pre><code>homeParams={\n    facebooknev: this.navParams.get('nev'),\n    facebookemail: this.navParams.get('email'),\n    facebookprofilkep: this.navParams.get('profilkep')\n\n  }\n</code></pre>\n\n<p>tabs.html</p>\n\n<pre><code>&lt;ion-tab [root]=\"tab1Root\" tabTitle=\"H\u00edrek\" tabIcon=\"home\" [rootParams]=\"homeParams\"&gt;&lt;/ion-tab&gt;\n  &lt;ion-tab [root]=\"tab2Root\" tabTitle=\"Tud\u00e1sb\u00e1zis\" tabIcon=\"information-circle\" [rootParams]=\"homeParams\"&gt;&lt;/ion-tab&gt;\n  &lt;ion-tab [root]=\"tab3Root\" tabTitle=\"Halsz\u00e1ml\u00e1l\u00f3\" tabIcon=\"contacts\" [rootParams]=\"homeParams\"&gt;&lt;/ion-tab&gt;\n</code></pre>\n\n<p>However when i am on the second tab page i am trying to open a modal page and send the parameters to that page(which is not a tabpage):</p>\n\n<pre><code>  openFeltoltes(){\n    const feltolt=this.modal.create(FogasfeltoltesPage,{data:this.homeParams});\n    feltolt.present();\n  }\n</code></pre>\n\n<p>Unfortunately cannot find homeParams with that code</p>\n\n<p>welcome.ts (where i get the facebook parameters from login):</p>\n\n<pre><code>  let facebookadatok={\n              nev: res.user.displayName,\n              email: res.user.email,\n              profilkep: res.user.photoURL\n            }\n            this.navCtrl.push(TabsPage,facebookadatok);\n</code></pre>\n\n<p>i can display data on any html pages which is part of the tabpage, but not on individual pages:</p>\n\n<pre><code>{{navParams.data.facebooknev}}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6", "fetch"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1507741339, "post_id": 46693818, "comment_id": 80335350, "body": "Please format/indent the code consistently and readably, it&#39;s very hard to follow the code as it is now."}, {"owner": {"reputation": 3238, "user_id": 7486612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bc85993039d8b9241a72ca5ceb4c4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Sidney", "link": "https://stackoverflow.com/users/7486612/sidney"}, "edited": false, "score": 1, "creation_date": 1507741825, "post_id": 46693818, "comment_id": 80335583, "body": "The problem is that the <code>.catch</code> returns undefined. If that were to run, you would not get an ItemEntity, like the type annotation says you should."}], "answers": [{"tags": [], "owner": {"reputation": 4147, "user_id": 2033671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8330c1fb886715affd5e852248394803?s=128&d=identicon&r=PG", "display_name": "Professor Allman", "link": "https://stackoverflow.com/users/2033671/professor-allman"}, "is_accepted": true, "score": 4, "last_activity_date": 1507743166, "creation_date": 1507743166, "answer_id": 46694309, "question_id": 46693818, "link": "https://stackoverflow.com/questions/46693818/error-when-add-catch-in-fetch/46694309#46694309", "title": "error when add catch in fetch", "body": "<p>It's telling you that you said your method is going to return a <code>Promise&lt;ItemEntity[]&gt;</code> but you are trying to return <code>Promise&lt;void&gt;</code></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch\" rel=\"nofollow noreferrer\">catch</a> in the middle of a promise chain is meant to attempt to recover and continue on the chain. You should only catch what you can recover from otherwise let the error propagate up and let someone else catch it.</p>\n\n<p>A simple recovery for your code would be to return an empty array. I would guess that subsequent calls to then would be able to handle an empty array. </p>\n\n<pre><code>return fetch(request)\n  .then( (response) =&gt; (response.json()) )\n  .then((items) =&gt; (this.resolveMembers(items))) \n  .catch((error) =&gt; {\n        console.log(error)\n        return []\n   })\n</code></pre>\n\n<p>Otherwise you can just not have your catch be part of the chain</p>\n\n<pre><code>var promise = fetch(request)\npromise.catch(console.log)\nreturn promise\n  .then( (response) =&gt; (response.json()) )\n  .then((items) =&gt; (this.resolveMembers(items))) \n</code></pre>\n"}], "owner": {"reputation": 2516, "user_id": 4458614, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/3c1ce9e7fc67789706f737a676d9b00b?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Reina Pascual", "link": "https://stackoverflow.com/users/4458614/juan-reina-pascual"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 46694309, "answer_count": 1, "score": 1, "last_activity_date": 1507743166, "creation_date": 1507741218, "last_edit_date": 1507741967, "question_id": 46693818, "link": "https://stackoverflow.com/questions/46693818/error-when-add-catch-in-fetch", "title": "error when add catch in fetch", "body": "<p>In my code, when I add the <code>catch</code>, typescript shows the next error:</p>\n\n<blockquote>\n  <p>[ts]\n   Type 'Promise' is not assignable to type 'Promise'.\n   Type 'void | ItemEntity[]' is not assignable to type 'ItemEntity[]'.\n      Type 'void' is not assignable to type 'ItemEntity[]'.</p>\n</blockquote>\n\n<p>Also with only one <code>then</code> and <code>cath</code> I don\u00b4t the error.</p>\n\n<p>The error appears when I use the two <code>then</code> and the <code>catch</code> together.</p>\n\n<p>This is the code:</p>\n\n<pre><code>// HTTP GET\ngetAllItems(): Promise&lt;ItemEntity[]&gt; {\n     const request = new Request('http://localhost:4000/api/items', {\n         method: 'GET',\n         mode: 'cors',\n         redirect: 'follow',\n         headers: new Headers({\n            'Content-Type': 'text/plain'\n         })\n     })\n\n     return fetch(request)\n      .then( (response) =&gt; (response.json()) )\n      .then( (items) =&gt; (this.resolveMembers(items)) )\n      // FIXME\n      //.catch( (error) =&gt; (console.log(error)) );  \n}\n\nprivate resolveMembers (data : any[]) : ItemEntity[] {\n    const items : ItemEntity[] = data.map((item) =&gt; {\n        let newItem : ItemEntity = new ItemEntity();\n        newItem.id = item.id;\n        newItem.task = item.task;\n        return newItem;\n    });\n    return items;\n}\n</code></pre>\n\n<p>I have checked the functionality without catch on a node server and the GET works fine.</p>\n"}, {"tags": ["angular", "typescript", "ionic2", "ionic3", "hybrid-mobile-app"], "answers": [{"tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": false, "score": 0, "last_activity_date": 1507740637, "creation_date": 1507740637, "answer_id": 46693655, "question_id": 46693396, "link": "https://stackoverflow.com/questions/46693396/is-there-any-way-to-create-apk-ipa-in-just-one-shot-in-ionic-just-like-phonegap/46693655#46693655", "title": "Is there any way to create APK, IPA in just one shot in IONIC just like Phonegap build?", "body": "<p>Yes, You can do that using <a href=\"https://ionicframework.com/docs/pro/package/\" rel=\"nofollow noreferrer\"><strong>Ionic Package</strong></a>.</p>\n\n<blockquote>\n  <p>Ionic Pro\u2019s Package feature makes it easy to build native app binaries\n  for iOS and Android in the cloud. Perfect for automating binary builds\n  and for developers using Windows that want to build iOS apps.</p>\n</blockquote>\n"}], "owner": {"reputation": 9, "user_id": 6806157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z4a7a.jpg?s=128&g=1", "display_name": "N.Srinivasulu Rao", "link": "https://stackoverflow.com/users/6806157/n-srinivasulu-rao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507740659, "creation_date": 1507739682, "last_edit_date": 1507740659, "question_id": 46693396, "link": "https://stackoverflow.com/questions/46693396/is-there-any-way-to-create-apk-ipa-in-just-one-shot-in-ionic-just-like-phonegap", "title": "Is there any way to create APK, IPA in just one shot in IONIC just like Phonegap build?", "body": "<p>I was working on an Ionic2 project, where my client is asking for installable mobile app files for 3-4 platforms together, I have seen in Cordova/PhoneGap if you upload any client-side based project wrapped in zip or RAR format and upload it in PhoneGap build, they immediately provide the installable/downloadable file for various platform in just one shot, as shown in this video link\n<a href=\"https://www.youtube.com/watch?v=UOjoNEUFeVE&amp;t=210s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=UOjoNEUFeVE&amp;t=210s</a></p>\n\n<p>I was wondering that is it possible in IONIC as well? because it is using the same Cordova for its framework development, Let me know.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 10, "last_activity_date": 1507748722, "last_edit_date": 1507748722, "creation_date": 1507739695, "answer_id": 46693398, "question_id": 46693350, "link": "https://stackoverflow.com/questions/46693350/default-implementation-of-method-in-interface/46693398#46693398", "title": "Default implementation of method in interface", "body": "<p>No.  Interfaces don't exist at runtime, so there's no way to add runtime code such as a method implementation.  If you post more specifics about your use case, a more specific or helpful answer may be possible.</p>\n\n<p>EDIT:</p>\n\n<p>Ah, you want <a href=\"https://en.wikipedia.org/wiki/Multiple_inheritance\" rel=\"noreferrer\">multiple inheritance</a> which you can't do with classes in JavaScript.  The solution you are probably looking for is <a href=\"https://www.typescriptlang.org/docs/handbook/mixins.html\" rel=\"noreferrer\">mixins</a>.  </p>\n\n<p>Adapting the example from the handbook:</p>\n\n<pre><code>class A {\n    somePropertyA: number;\n    someFunctionA() {\n        console.log(this.somePropertyA);\n    }\n\n}\n\nclass B {\n    somePropertyB: string;\n    someFunctionB() {\n      console.log(this.somePropertyB);\n    }\n\n}\n\ninterface C extends A, B {}\nclass C { \n    // initialize properties we care about\n    somePropertyA: number = 0;\n    somePropertyB: string = 'a';   \n}\napplyMixins(C, [A, B]);\n\nconst c = new C();\nc.someFunctionA(); // works\nc.someFunctionB(); // works        \n\n// keep this in a library somewhere    \nfunction applyMixins(derivedCtor: any, baseCtors: any[]) {\n    baseCtors.forEach(baseCtor =&gt; {\n        Object.getOwnPropertyNames(baseCtor.prototype).forEach(name =&gt; {\n            derivedCtor.prototype[name] = baseCtor.prototype[name];\n        });\n    });\n}\n</code></pre>\n\n<p>That should work for you.  Maybe eventually this can be done less painfully with <a href=\"https://github.com/Microsoft/TypeScript/issues/4881\" rel=\"noreferrer\">decorators</a>, but for now the above or something like it is probably your best bet.</p>\n"}], "owner": {"reputation": 356, "user_id": 6671654, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qITci.jpg?s=128&g=1", "display_name": "Micha\u0142 Lis", "link": "https://stackoverflow.com/users/6671654/micha%c5%82-lis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7747, "favorite_count": 2, "accepted_answer_id": 46693398, "answer_count": 1, "score": 7, "last_activity_date": 1507748722, "creation_date": 1507739542, "last_edit_date": 1507740639, "question_id": 46693350, "link": "https://stackoverflow.com/questions/46693350/default-implementation-of-method-in-interface", "title": "Default implementation of method in interface", "body": "<p>Is there any way to make default implementation of method in interface? I cannot make it in a baseclass unfortunately. I feel this is pretty easy question, but cannot find the right solution for a quite long moment.</p>\n\n<p>/edit In my example I need something like this:</p>\n\n<pre><code>class A {\n  somePropertyA;\n  someFunctionA() {\n    console.log(this.somePropertyA);\n  }\n}\nclass B {\n  somePropertyB;\n  someFunctionB() {\n    console.log(this.somePropertyB);\n  }\n}\nclass C {\n  // Here we want to have someFunctionA() and someFunctionB()\n  // without duplicating code of this implementation.\n}\n</code></pre>\n\n<p>The solution of B entends A and C extends B is for me a not so optimal.</p>\n"}, {"tags": ["arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "edited": false, "score": 0, "creation_date": 1507741435, "post_id": 46693123, "comment_id": 80335392, "body": "It&#39;s hard to exactly identify what you were trying to accomplish from the code without a reproduction. But anyway, could you show an example of this <code>array</code> object showing at least 2 elements in it?"}, {"owner": {"reputation": 789, "user_id": 5030271, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94768f7cf8157dc056a26b95991e2b3d?s=128&d=identicon&r=PG&f=1", "display_name": "DNorthrup", "link": "https://stackoverflow.com/users/5030271/dnorthrup"}, "reply_to_user": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "edited": false, "score": 0, "creation_date": 1507741834, "post_id": 46693123, "comment_id": 80335591, "body": "@amal Added - Thanks for the call out. New to Angular so unsure what all factors of code you need to review."}, {"owner": {"reputation": 1805, "user_id": 5865712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-Y5Rum91W6os/AAAAAAAAAAI/AAAAAAAAAGI/J3TK0_uwiHw/photo.jpg?sz=128", "display_name": "Chris Sharp", "link": "https://stackoverflow.com/users/5865712/chris-sharp"}, "edited": false, "score": 0, "creation_date": 1507741863, "post_id": 46693123, "comment_id": 80335605, "body": "Why do you have an if and an else if that both return true?"}, {"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "edited": false, "score": 0, "creation_date": 1507742823, "post_id": 46693123, "comment_id": 80336117, "body": "@DNorthrup I am not sure how you can expect <code>typeof thisVal === &#39;string&#39;</code> for the when the loop is running for <code>key=tags</code>, as it is an array. What <code>thisVal</code> do you expect to be matched with elements of <code>item.tags</code> array?"}], "owner": {"reputation": 789, "user_id": 5030271, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94768f7cf8157dc056a26b95991e2b3d?s=128&d=identicon&r=PG&f=1", "display_name": "DNorthrup", "link": "https://stackoverflow.com/users/5030271/dnorthrup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 414, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507741815, "creation_date": 1507738836, "last_edit_date": 1507741815, "question_id": 46693123, "link": "https://stackoverflow.com/questions/46693123/angular2-search-in-array-inside-of-an-array", "title": "Angular2 - search in array inside of an array", "body": "<p>I have an array of <code>events</code> and I have a <code>search()</code> function (below) that filters through it. Currently it only filters for <code>name</code> or <code>date</code>. Within my payload I have an array of <code>tags</code>, and I'm trying to figure out how to include it in the filtering of this. My current work-around is buttons that re-run the <code>/event</code> endpoint with search params which I don't like.</p>\n\n<pre><code>  search(array: any[], query: string, excludeProps?: string|string[], dateFormat?: string) {\n    if (!query || !this._objArrayCheck(array)) {\n      return array;\n    }\n    const lQuery = query.toLowerCase();\n    const isoDateRegex = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z/; // ISO UTC\n    const dateF = dateFormat ? dateFormat : 'medium';\n    const filteredArray = array.filter(item =&gt; {\n      for (const key in item) {\n        if (item.hasOwnProperty(key)) {\n          if (!excludeProps || excludeProps.indexOf(key) === -1) {\n            const thisVal = item[key];\n            if (\n              // Value is a string and NOT a UTC date\n            typeof thisVal === 'string' &amp;&amp;\n            !thisVal.match(isoDateRegex) &amp;&amp;\n            thisVal.toLowerCase().indexOf(lQuery) !== -1\n            ) {\n              return true;\n            } else if (\n              // Value is a Date object or UTC string\n            (thisVal instanceof Date || thisVal.toString().match(isoDateRegex)) &amp;&amp;\n            // https://angular.io/api/common/DatePipe\n            // Matching date format string passed in as param (or default to 'medium')\n            this.datePipe.transform(thisVal, dateF).toLowerCase().indexOf(lQuery) !== -1\n            ) {\n              return true;\n            }\n          }\n        }\n      }\n    });\n    return filteredArray;\n  }\n</code></pre>\n\n<p>I tried adding an addition else after the <code>date</code> finder and leverage a <code>for()</code> loop on <code>item.tags</code> but it seems typescript doesn't really let you do a traditional <code>for</code> loop. </p>\n\n<p>What is the actual method of handling this within Ang/Typescript?</p>\n\n<p><strong>Update</strong></p>\n\n<pre><code>  search(array: any[], query: string, excludeProps?: string|string[], dateFormat?: string) {\n    if (!query || !this._objArrayCheck(array)) {\n      return array;\n    }\n    const lQuery = query.toLowerCase();\n    const isoDateRegex = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z/; // ISO UTC\n    const dateF = dateFormat ? dateFormat : 'medium';\n    const filteredArray = array.filter(item =&gt; {\n      for (const key in item) {\n        if (item.hasOwnProperty(key)) {\n          if (!excludeProps || excludeProps.indexOf(key) === -1) {\n            const thisVal = item[key];\n            if (\n              // Value is a string and NOT a UTC date\n            typeof thisVal === 'string' &amp;&amp;\n            !thisVal.match(isoDateRegex) &amp;&amp;\n            thisVal.toLowerCase().indexOf(lQuery) !== -1\n            ) {\n              return true;\n            } else if (\n              // Value is a Date object or UTC string\n            (thisVal instanceof Date || thisVal.toString().match(isoDateRegex)) &amp;&amp;\n            // https://angular.io/api/common/DatePipe\n            // Matching date format string passed in as param (or default to 'medium')\n            this.datePipe.transform(thisVal, dateF).toLowerCase().indexOf(lQuery) !== -1\n            ) {\n              return true;\n            } else if (\n              typeof thisVal === 'string'\n            ) {\n              for (var i=0; i &lt; item.tags.length; i++) {\n                if (thisVal === item.tags[i]){\n                  return true;\n                }\n              }\n            }\n          }\n        }\n      }\n    });\n    return filteredArray;\n  }\n</code></pre>\n\n<p>I was thinking something similar to this but it doesn't seem to be returning anything.</p>\n\n<p><strong>sample Payload</strong></p>\n\n<pre><code>// collection: events\n{\n    \"_id\" : ObjectId(\"59dda4b702ac8332bcb90921\"),\n    \"title\" : \"Gantt Chart Example222dsda\",\n    \"location\" : \"Home\",\n    \"startDatetime\" : ISODate(\"2018-01-01T12:30:00.000-05:00\"),\n    \"endDatetime\" : ISODate(\"2018-01-02T12:30:00.000-05:00\"),\n    \"description\" : \"dsad\",\n    \"viewPublic\" : true,\n    \"tags\" : [\n        \"Gaming\",\n        \"Social\",\n        \"home\",\n        \"misc\"\n    ],\n    \"__v\" : NumberInt(\"0\")\n}\n</code></pre>\n\n<p>My function should be able to match 'gantt' to the title and still show the row. It should also be able to match 'gaming', 'social' 'home' etc and pull this same record due to the tags. It should be able to pull from the start or end date time.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 560, "user_id": 7723557, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pNfh9.jpg?s=128&g=1", "display_name": "Lucas David Ferrero", "link": "https://stackoverflow.com/users/7723557/lucas-david-ferrero"}, "edited": false, "score": 0, "creation_date": 1507739511, "post_id": 46693222, "comment_id": 80334295, "body": "Thanks. I&#39;m going to use it with a setter but is great that you&#39;ve clarified it."}, {"owner": {"reputation": 560, "user_id": 7723557, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pNfh9.jpg?s=128&g=1", "display_name": "Lucas David Ferrero", "link": "https://stackoverflow.com/users/7723557/lucas-david-ferrero"}, "edited": false, "score": 0, "creation_date": 1507740469, "post_id": 46693222, "comment_id": 80334842, "body": "I&#39;ve set user to private because polymorphism. The UserService is nearly created, later on it will have more logic."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1507739522, "last_edit_date": 1507739522, "creation_date": 1507739140, "answer_id": 46693222, "question_id": 46693000, "link": "https://stackoverflow.com/questions/46693000/cannot-invoke-an-expression-whose-type-lacks-a-call-signature-type-usermodel/46693222#46693222", "title": "Cannot invoke an expression whose type lacks a call signature. Type &#39;UserModel&#39; has no compatible call signatures", "body": "<p>Remove <code>get</code> and <code>set</code> from your methods in <code>UserService</code>:</p>\n\n<pre><code>@Injectable()\nexport class UserService {\n  private _user: UserModel;\n  constructor() {}\n\n  getUser(): UserModel {\n    return this._user;\n  }\n  setUser(user: UserModel) {\n    this._user = user;\n  }\n}\n</code></pre>\n\n<p>You probably don't want to use a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set\" rel=\"nofollow noreferrer\">setter</a> for <code>setUser()</code>.  A setter would get called if you did something like <code>this.userService.setUser = buildedUser</code>.  If you want to call it like <code>this.userService.setUser(buildedUser)</code> then <code>setUser()</code> is just a plain old method.</p>\n\n<p>Likewise, when you get the user, you probably want to call <code>const retrievedUser = this.userService.getUser()</code>, not <code>const retrievedUser = this.userService.getUser</code>.  The former is just a plain method, while the latter would be a getter.   </p>\n\n<hr>\n\n<p>If you really want to use getters and setters, you can keep <code>get</code> and <code>set</code> but maybe rename <code>getUser</code> and <code>setUser</code> to just <code>user</code>:</p>\n\n<pre><code>@Injectable()\nexport class UserService {\n  private _user: UserModel;\n  constructor() {}\n\n  get user(): UserModel {\n    return this._user;\n  }\n  set user(user: UserModel) {\n    this._user = user;\n  }\n}\n</code></pre>\n\n<p>and then call <code>this.userService.user = buildedUser</code> or <code>const retrievedUser = this.userService.user</code> and your setter and getter will be called.</p>\n\n<p>But the idea behind getters and setters is that callers see them as just property accesses whereas you can implement them as methods that do more than just getting and setting properties. If all you're doing is just getting and setting properties, you might as well just have a public property called <code>user</code>:</p>\n\n<pre><code>@Injectable()\nexport class UserService {\n  public user: UserModel;\n  constructor() {}\n}\n</code></pre>\n\n<p>Which would still let you do <code>this.userService.user = buildedUser</code> or <code>const retrievedUser = this.userService.user</code> with less fuss.</p>\n\n<hr>\n"}], "owner": {"reputation": 560, "user_id": 7723557, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pNfh9.jpg?s=128&g=1", "display_name": "Lucas David Ferrero", "link": "https://stackoverflow.com/users/7723557/lucas-david-ferrero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1401, "favorite_count": 0, "accepted_answer_id": 46693222, "answer_count": 1, "score": 1, "last_activity_date": 1555207745, "creation_date": 1507738438, "last_edit_date": 1555207745, "question_id": 46693000, "link": "https://stackoverflow.com/questions/46693000/cannot-invoke-an-expression-whose-type-lacks-a-call-signature-type-usermodel", "title": "Cannot invoke an expression whose type lacks a call signature. Type &#39;UserModel&#39; has no compatible call signatures", "body": "<p>I'm getting a type error when I'm trying to set a property in my user.service.ts.\nThis is how user.service looks like:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { UserModel } from '../models/user.model';\n\n@Injectable()\nexport class UserService {\n  private _user: UserModel;\n  constructor() {}\n\n  get getUser(): UserModel {\n    return this._user;\n  }\n  set setUser(user: UserModel) {\n    this._user = user;\n  }\n}\n</code></pre>\n\n<p>And UserModel:</p>\n\n<pre><code>export class UserModel {\n  constructor(public uid: string,\n              public displayName: string,\n              public email: string,\n              public photoUrl: string,\n              public providerId: string) {}\n}\n</code></pre>\n\n<p>Finally this is the auth.service where I got the error.</p>\n\n<pre><code>import {Injectable} from '@angular/core';\nimport * as firebase from 'firebase';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport {Router} from '@angular/router';\nimport { UserModel } from '../models/user.model';\nimport { UserService } from './user.service';\n\n\n@Injectable()\nexport class AuthService {\n  private _token: string = null;\n\n  // We use first login in app.module to check if is the first login. If it is we skip the refresh token method.\n  private _firstLogin = false;\n  constructor(private afAuth: AngularFireAuth,\n              private router: Router,\n              private userService: UserService) {}\n\n  get isFirstLogin() {\n    return this._firstLogin;\n  }\n  get getUserToken(): string{\n    return this._token;\n  }\n  set setUserToken(tk: string) {\n    this._token = tk;\n  }\n  // We define the Facebook provider and passing it to signin(). We do this for each provider that we want to integrate.\n  signinWithFacebook(): Promise&lt;any&gt; {\n    const fbProvider = new firebase.auth.FacebookAuthProvider();\n    return this.signin(this.afAuth.auth.signInWithPopup(fbProvider));\n  }\n\n  // If this method get resolved then we redirect the user to the home page and get the token.\n  // Besides, when this method execute the reject() we catch it in the login component and we handle the errors there.\n  // This method can be reusable across multiple providers such Facebook, Twitter, Github , etc.\n  signin(popupResult: Promise&lt;any&gt;): Promise&lt;any&gt; {\n    return popupResult\n      .then(\n        (res) =&gt; {\n          this._firstLogin = true;\n          const user: firebase.User = res.user.toJSON();\n          const credential = res.credential;\n          this._token = credential.accessToken;\n\n          // Initialising the user and passing to the user service's property (_user)\n          // TODO fix: Solucionar error de la l\u00ednea 51.\n          const providedData = user.providerData[0];\n          const buildedUser = new UserModel(providedData.uid, providedData.displayName,\n            providedData.email, providedData.photoURL, providedData.providerId);\n          this.userService.setUser(buildedUser); //HERE I GOT THE ERROR.\n\n          console.log(this._token);\n          console.log(user);\n        }\n      );\n  }\n}\n</code></pre>\n\n<p>I got the error when I'm trying to pass an UserModel from auth.service to user.service in this line of code: this.userService.setUser(buildedUser).\nI hope you get it and give me a solution and also tell me why is this happens.\nRegards!</p>\n"}, {"tags": ["angular", "typescript", "angular2-routing", "angular-components"], "comments": [{"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "edited": false, "score": 0, "creation_date": 1507736977, "post_id": 46692481, "comment_id": 80332794, "body": "would appreciate if you could make a reproduction to see what you did"}, {"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 1, "creation_date": 1507737728, "post_id": 46692481, "comment_id": 80333277, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/35273106/angular2-share-data-between-components-using-services\">Angular2 - Share data between components using services</a>"}, {"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 1, "creation_date": 1507737733, "post_id": 46692481, "comment_id": 80333281, "body": "Most likely a dup"}, {"owner": {"reputation": 3585, "user_id": 6281845, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-E_TiP_7bgZk/AAAAAAAAAAI/AAAAAAAAADM/MCJbAU0Z9ug/photo.jpg?sz=128", "display_name": "Alex Beugnet", "link": "https://stackoverflow.com/users/6281845/alex-beugnet"}, "edited": false, "score": 0, "creation_date": 1507737879, "post_id": 46692481, "comment_id": 80333353, "body": "Yes, a service is not used with <code>@Input</code> / <code>@Output</code>, this is to establish a communication between a parent / child component. Have a service holding the <code>currentUser</code> and manage its state with a getter / setter. Your components should then consume this data from the getter through dependency injection."}, {"owner": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 0, "creation_date": 1507740699, "post_id": 46692481, "comment_id": 80334961, "body": "Declare an rxjs <code>Subject</code> in your <code>LoginService</code>, and use that to emit <code>currentUser</code>, subscribe to that <code>Subject</code> in your header component. You&#39;ll find plenty of answer here on SO regarding that. For example, see this answer, this is exactly what you are looking for: <a href=\"https://stackoverflow.com/a/46049546/1791913\">stackoverflow.com/a/46049546/1791913</a>"}], "answers": [{"comments": [{"owner": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 0, "creation_date": 1507741109, "post_id": 46693658, "comment_id": 80335223, "body": "No, because the header is already initialized and <code>ngOnInit</code> will not fire again. This will not work. However, I agree with the part to provide service only once."}, {"owner": {"reputation": 4056, "user_id": 1576255, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/V5eQC.jpg?s=128&g=1", "display_name": "asmmahmud", "link": "https://stackoverflow.com/users/1576255/asmmahmud"}, "reply_to_user": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 0, "creation_date": 1507741206, "post_id": 46693658, "comment_id": 80335267, "body": "You shouldn&#39;t downvote your every answer. If you don&#39;t like any answer you can send a comment. You know this is utterly discouraging. You should communicate. This is how you will be able get a proper answer."}, {"owner": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 0, "creation_date": 1507741363, "post_id": 46693658, "comment_id": 80335359, "body": "I have downvoted because this answer does not solve the issue. Dont mean to discourage at all :) upvoted, now atleast correct the answer following this approach: <a href=\"https://stackoverflow.com/a/46049546/1791913\">stackoverflow.com/a/46049546/1791913</a>"}, {"owner": {"reputation": 4056, "user_id": 1576255, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/V5eQC.jpg?s=128&g=1", "display_name": "asmmahmud", "link": "https://stackoverflow.com/users/1576255/asmmahmud"}, "reply_to_user": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 0, "creation_date": 1507741564, "post_id": 46693658, "comment_id": 80335462, "body": "Have you tried to use EventEmitter or <code>BehaviorSubject</code>  for the communication purpose? BTW, you should give a snippet of your <code>LoginService</code> class."}, {"owner": {"reputation": 1828, "user_id": 2858948, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/Nj2c0.jpg?s=128&g=1", "display_name": "DaRoGa", "link": "https://stackoverflow.com/users/2858948/daroga"}, "edited": false, "score": 0, "creation_date": 1507793640, "post_id": 46693658, "comment_id": 80354635, "body": "This doesnt update the header. am i missing something? I will update my code with the new version and include the login service code"}, {"owner": {"reputation": 4056, "user_id": 1576255, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/V5eQC.jpg?s=128&g=1", "display_name": "asmmahmud", "link": "https://stackoverflow.com/users/1576255/asmmahmud"}, "edited": false, "score": 0, "creation_date": 1507798859, "post_id": 46693658, "comment_id": 80357645, "body": "I&#39;ve checked your updated code and updated my answer accordingly"}, {"owner": {"reputation": 1828, "user_id": 2858948, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/Nj2c0.jpg?s=128&g=1", "display_name": "DaRoGa", "link": "https://stackoverflow.com/users/2858948/daroga"}, "edited": false, "score": 0, "creation_date": 1507801789, "post_id": 46693658, "comment_id": 80359537, "body": "currentUser used in the .subscribe() in HeaderComponent is always null"}, {"owner": {"reputation": 1828, "user_id": 2858948, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/Nj2c0.jpg?s=128&g=1", "display_name": "DaRoGa", "link": "https://stackoverflow.com/users/2858948/daroga"}, "edited": false, "score": 0, "creation_date": 1507803650, "post_id": 46693658, "comment_id": 80360748, "body": "@asmmahmud i seem to have it working. however, my main problem now is that if somebody refreshes the page, the loginObservable$ status is reset to false and therefore it disappears. is there a way around this?"}, {"owner": {"reputation": 4056, "user_id": 1576255, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/V5eQC.jpg?s=128&g=1", "display_name": "asmmahmud", "link": "https://stackoverflow.com/users/1576255/asmmahmud"}, "edited": false, "score": 0, "creation_date": 1507803814, "post_id": 46693658, "comment_id": 80360848, "body": "this can also be fixed but that is another issue. You can ask another answer for that."}, {"owner": {"reputation": 1828, "user_id": 2858948, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/Nj2c0.jpg?s=128&g=1", "display_name": "DaRoGa", "link": "https://stackoverflow.com/users/2858948/daroga"}, "edited": false, "score": 0, "creation_date": 1507804190, "post_id": 46693658, "comment_id": 80361092, "body": "I have changed all sessionStorage to localStorage. is it this easy or is there something else to it? as this doesnt work"}, {"owner": {"reputation": 4056, "user_id": 1576255, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/V5eQC.jpg?s=128&g=1", "display_name": "asmmahmud", "link": "https://stackoverflow.com/users/1576255/asmmahmud"}, "edited": false, "score": 0, "creation_date": 1507804306, "post_id": 46693658, "comment_id": 80361156, "body": "SessionStorage should also work. There is some other issue surely."}], "tags": [], "owner": {"reputation": 4056, "user_id": 1576255, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/V5eQC.jpg?s=128&g=1", "display_name": "asmmahmud", "link": "https://stackoverflow.com/users/1576255/asmmahmud"}, "is_accepted": true, "score": 0, "last_activity_date": 1507802498, "last_edit_date": 1507802498, "creation_date": 1507740640, "answer_id": 46693658, "question_id": 46692481, "link": "https://stackoverflow.com/questions/46692481/communication-issue-between-two-angular2-components/46693658#46693658", "title": "Communication issue between two Angular2 components", "body": "<p>First of all, provide your <code>LoginService</code> to your root module instead of providing it in your <code>Header</code> and <code>Login</code> Component.</p>\n\n<pre><code>     @NgModule({\n         // other things\n      providers: [LoginService,..........],\n      bootstrap: [AppComponent]\n    })\n    export class AppModule { }\n</code></pre>\n\n<p>You've to use <code>EventEmiiter</code> or Rxjs <code>BehaviorSubject</code> for this kind of component to component communication. </p>\n\n<p>In general changing any value in one component doesn't trigger the change in other component unless you explicitly inform angular to do so. \nThere are couple of mechanisms for doing this. </p>\n\n<p>The best way would be to use a RxJs <a href=\"https://github.com/ReactiveX/rxjs/blob/master/doc/subject.md\" rel=\"nofollow noreferrer\">Subject</a> or <a href=\"https://xgrommx.github.io/rx-book/content/subjects/behavior_subject/index.html\" rel=\"nofollow noreferrer\">BehaviorSubject</a> for this purpose.</p>\n\n<p>You can create a <code>BehaviorSubject</code> in your <code>loginService</code> and the procedure is the following:</p>\n\n<p>LoginService Class:</p>\n\n<pre><code>   import 'rxjs/add/operator/do';\n   import 'rxjs/add/operator/share';\n\n  export class LoginService {\n\n       private loginbehaviorSubject = new BehaviorSubject&lt;boolean&gt;(true);\n       public loginObservable$ = this.loginbehaviorSubject.asObservable();\n\n      loginStatusChange(isLoggedIn: boolean){\n         this.loginbehaviorSubject.next(isLoggedIn);\n      }\n\n\n      login(user: User): ConnectableObservable&lt;any&gt; {\n        let result: User;\n        const body = JSON.stringify(user);\n        const headers = new Headers({\n          'Content-Type': 'application/json'\n        });\n        const options = new RequestOptions({\n          headers: headers\n        });\n        return this._http.post(this.authApiUrl, body, options)\n                                    .map(res =&gt; res.json())\n                                    .do( (res: User) =&gt; {\n                                          result = res;\n                                          if (result) {\n                                            user.securityGroups = result.securityGroups;\n                                            sessionStorage.setItem('user', JSON.stringify(user));\n                                          }\n                                        },\n                                        err =&gt; console.log(err)\n                                    )\n                                    .share();\n      }\n      removeUserFromSession(){\n          if(sessionStorage.getItem('user')){\n              sessionStorage.removeItem('user');\n          }       \n      }\n      logout() {\n        this.removeUserFromSession();\n        this.router.navigate(['login']);\n      }\n\n  }\n</code></pre>\n\n<p>In the <code>LoginComponent</code>:</p>\n\n<pre><code>  ngOnInit() {\n    if (this.loginService.getCurrentUser() !== null) {\n      this.router.navigate(['home']);\n    } \n  }\n\n  login() {\n    this.isLoading = true;\n    const obs = this.loginService.login(this.user);\n    obs.subscribe(\n      res =&gt; {\n        this.loginService.loginStatusChange(true);\n        if (res !== true) {\n            this.errorMsg = 'Incorrect Username / Password';\n        } else {\n            this.router.navigate(['home']);\n        }\n      },\n      err =&gt; {\n        this.isLoading = false;\n        this.errorMsg = err._body;\n        this.loginService.loginStatusChange(true);\n      },\n      () =&gt; {\n        this.isLoading = false;\n      }\n    );\n}\n</code></pre>\n\n<p>In the HeaderComponent: </p>\n\n<pre><code>  export class HeaderComponent implements OnInit {\n  public currentUser: string;\n\n  constructor(private loginService: LoginService) { }\n\n  ngOnInit() {\n    const currentUser = this.loginService.getCurrentUser();\n    if (currentUser !== null) {\n      this.currentUser = currentUser.username;\n\n    }\n\n    this.loginService.loginObservable$\n     .subscribe( (isStatusChanged) =&gt; {\n         const currentUser = this.loginService.getCurrentUser();\n         this.currentUser = currentUser.username;\n     });\n  }\n\n  logout() {\n    this.loginService.logout();\n    this.loginService.loginStatusChange(true); // notice this line\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1828, "user_id": 2858948, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/Nj2c0.jpg?s=128&g=1", "display_name": "DaRoGa", "link": "https://stackoverflow.com/users/2858948/daroga"}, "edited": false, "score": 0, "creation_date": 1507794852, "post_id": 46693980, "comment_id": 80355275, "body": "This seems a good approach however, i am struggling to get it working, would you be able to expand on your answer to show the correct way to subscribe etc?"}, {"owner": {"reputation": 1828, "user_id": 2858948, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/Nj2c0.jpg?s=128&g=1", "display_name": "DaRoGa", "link": "https://stackoverflow.com/users/2858948/daroga"}, "edited": false, "score": 0, "creation_date": 1507798177, "post_id": 46693980, "comment_id": 80357207, "body": "I cant seem to get the HeaderComponent to detect the changes and adapt the display accordingly"}], "tags": [], "owner": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "is_accepted": false, "score": 1, "last_activity_date": 1507742546, "last_edit_date": 1507742546, "creation_date": 1507741839, "answer_id": 46693980, "question_id": 46692481, "link": "https://stackoverflow.com/questions/46692481/communication-issue-between-two-angular2-components/46693980#46693980", "title": "Communication issue between two Angular2 components", "body": "<p>You should go with an EventBus, create a singleton service it must be a provider inside of your main module and don't put it as a provider in another place.</p>\n\n<p>The idea is:</p>\n\n<p>login.component.ts</p>\n\n<pre><code>constructor(public eventBus: EventBus) {}\n\nonLoginSuccess(currentUser: any): void {\n   this.eventBus.onLoginSuccess.next(currentUser);\n}\n</code></pre>\n\n<p>header.component.ts</p>\n\n<pre><code>constructor(public eventBus: EventBus) {\n   this.eventBus.onLoginSuccess.subscribe((currentUser: any) =&gt; this.currentUser = currentUser);\n}\n</code></pre>\n\n<p>eventbus.service.ts</p>\n\n<pre><code>@Injectable()\nexport class EventBus {\n   onLoginSuccess: Subject&lt;any&gt; = new Subject();\n}\n</code></pre>\n\n<p>Of course that you must handle the subscriptions and everything else, this is just a how-to.</p>\n\n<p>When your user has finished with the login, the <code>eventBus</code> will hit the <code>header component</code> with the <code>onLoginSuccess</code> event.</p>\n"}, {"tags": [], "owner": {"reputation": 202, "user_id": 7302220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff27f491ff92613094fb01d2ff964457?s=128&d=identicon&r=PG&f=1", "display_name": "mahESh", "link": "https://stackoverflow.com/users/7302220/mahesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1507974077, "creation_date": 1507974077, "answer_id": 46743084, "question_id": 46692481, "link": "https://stackoverflow.com/questions/46692481/communication-issue-between-two-angular2-components/46743084#46743084", "title": "Communication issue between two Angular2 components", "body": "<p>Make a singleton instance of LoginService.</p>\n\n<pre><code>@Injectable()\n export class LoginService {\n    static instance: LoginService;\n    constructor() {\n    return LoginService.instance = LoginService.instance || this;\n    }\n}\n</code></pre>\n\n<p>Include this singleton service to both route-oulet component and header Component.\nIn header component you can use ngOnChanges or ngDoCheck methods to watch the variable in login service and once its value is changed, the code inside the function will excute without refresh.</p>\n\n<p><code>ngOnChanges(changes: SimpleChanges) {}</code></p>\n\n<p><code>ngDoCheck() {}</code></p>\n"}], "owner": {"reputation": 1828, "user_id": 2858948, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/Nj2c0.jpg?s=128&g=1", "display_name": "DaRoGa", "link": "https://stackoverflow.com/users/2858948/daroga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 2, "accepted_answer_id": 46693658, "answer_count": 3, "score": 0, "last_activity_date": 1507974077, "creation_date": 1507736620, "last_edit_date": 1507798564, "question_id": 46692481, "link": "https://stackoverflow.com/questions/46692481/communication-issue-between-two-angular2-components", "title": "Communication issue between two Angular2 components", "body": "<p>I have 2 Angular2 components which I would like to be able to share a value.</p>\n\n<p>My App component code is:</p>\n\n<pre><code>&lt;app-header&gt;&lt;/app-header&gt;\n\n&lt;router-outlet&gt;&lt;/router-outlet&gt;\n\n&lt;app-footer&gt;&lt;/app-footer&gt;\n</code></pre>\n\n<p>My login component typescript code which is loaded in <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code> is:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { MatInput } from '@angular/material';\nimport { Router } from '@angular/router';\n\nimport { LoginService } from '../../services/login.service';\nimport { User } from '../../models/user';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  providers: [ LoginService ],\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  public user = new User('', '', new Array&lt;string&gt;());\n  public errorMsg = '';\n  public isLoading = false;\n\n  constructor(\n    private loginService: LoginService,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    if (this.loginService.getCurrentUser() !== null) {\n      this.router.navigate(['home']);\n    }\n  }\n\n  login() {\n    this.isLoading = true;\n    const obs = this.loginService.login(this.user);\n    obs.subscribe(\n      res =&gt; {\n        if (res !== true) {\n          this.errorMsg = 'Incorrect Username / Password';\n          this.loginService.loginStatusChange(false);\n        } else {\n          this.loginService.loginStatusChange(true);\n        }\n      },\n      err =&gt; {\n        this.isLoading = false;\n        this.errorMsg = err._body;\n        this.loginService.loginStatusChange(false);\n      },\n      () =&gt; {\n        this.isLoading = false;\n      }\n    );\n    obs.connect();\n  }\n}\n</code></pre>\n\n<p>My header component typescript is:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\nimport { User } from '../../models/user';\n\nimport { LoginService } from '../../services/login.service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  providers: [ LoginService ],\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent implements OnInit {\n  public currentUser: string;\n\n  constructor(private loginService: LoginService) { }\n\n  ngOnInit() {\n    const currentUser = this.loginService.getCurrentUser();\n    if (currentUser !== null) {\n      this.currentUser = currentUser.username;\n    }\n    this.loginService.loginObservable\n                  .map((status) =&gt; {\n                    if (status) {\n                      return this.loginService.getCurrentUser();\n                    }\n                    return null;\n                  }\n                )\n                .subscribe((user) =&gt; {\n                  const thisUser = this.loginService.getCurrentUser();\n                  if (thisUser !== null) {\n                    this.currentUser = thisUser.username;\n                  }\n                });\n  }\n\n  logout() {\n    this.loginService.logout();\n    this.loginService.loginStatusChange(false);\n  }\n}\n</code></pre>\n\n<p>And finally my header component view is:</p>\n\n<pre><code>&lt;div id=\"wrapper\"&gt;\n  &lt;section&gt;\n      &lt;div id=\"topHeader\"&gt;\n          &lt;div class=\"oLogo\"&gt;\n              &lt;img id=\"OLogoImg\" src=\"../../assets/images/Luceco-O-Logo-Transparent.png\" alt=\"o-logo\" height=\"20\" /&gt;\n          &lt;/div&gt;\n      &lt;/div&gt;\n  &lt;/section&gt;\n&lt;/div&gt;\n&lt;div class=\"container body-content\"&gt;\n  &lt;div id=\"header\"&gt;\n      &lt;div class=\"pageWrap\"&gt;\n          &lt;a id=\"logo\" &gt;\n              &lt;img id=\"logoImg\" src=\"../../assets/images/Luceco-Logo-Transparent.png\" alt=\"logo\" height=\"28\" /&gt;\n          &lt;/a&gt;\n          &lt;ul id=\"menu\"&gt;\n              &lt;li id=\"home-menu\" class=\"top-level home-menu\"&gt;\n              &lt;a href=\"#\"&gt;Home&lt;/a&gt;\n              &lt;/li&gt;\n\n&lt;--FOLLOWING COMPONENT NEEDS TO BE DISPLAYED AFTER LOGIN --&gt;\n\n              &lt;li *ngIf=\"currentUser != null\" id=\"logout-menu\" class=\"top-level logout-menu\"&gt;\n                &lt;a href=\"#\" (click)=\"logout()\"&gt;Log Out&lt;/a&gt;\n                &lt;/li&gt;\n          &lt;/ul&gt;\n      &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>LoginService:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http, Headers, RequestOptions, Response } from '@angular/http';\nimport { Router } from '@angular/router';\n\nimport 'rxjs/rx';\nimport { ConnectableObservable } from 'rxjs/rx';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Observable } from 'rxjs/Observable';\n\nimport { User } from '../models/user';\n\n@Injectable()\nexport class LoginService {\n  private authApiUrl = 'http://192.168.1.201/ForkliftHelperAPI/api/Auth';\n\n  private loginBehaviourSubject = new BehaviorSubject&lt;boolean&gt;(false);\n  public loginObservable = this.loginBehaviourSubject.asObservable();\n\n  constructor(private router: Router,\n              private _http: Http) { }\n\n  loginStatusChange(isLoggedIn: boolean) {\n    this.loginBehaviourSubject.next(isLoggedIn);\n  }\n\n  login(user: User): ConnectableObservable&lt;any&gt; {\n    let result: User;\n    const body = JSON.stringify(user);\n    const headers = new Headers({\n      'Content-Type': 'application/json'\n    });\n    const options = new RequestOptions({\n      headers: headers\n    });\n    const obsResponse = this._http.post(this.authApiUrl, body, options)\n                                .map(res =&gt; res.json())\n                                .publish();\n\n    obsResponse.subscribe(\n                (res: User) =&gt; {\n                  result = res;\n                  if (result) {\n                    user.securityGroups = result.securityGroups;\n                    sessionStorage.setItem('user', JSON.stringify(user));\n                    this.router.navigate(['home']);\n                  }\n                },\n                err =&gt; console.log(err)\n    );\n    return obsResponse;\n  }\n\n  logout() {\n    sessionStorage.removeItem('user');\n    this.router.navigate(['login']);\n  }\n\n  getCurrentUser() {\n    const storedUser = JSON.parse(sessionStorage.getItem('user'));\n    if (!storedUser) {\n      return null;\n    }\n    return new User(storedUser.username, storedUser.password, storedUser.securityGroups);\n  }\n\n  isLoggedIn() {\n    if (this.getCurrentUser() === null) {\n      this.router.navigate(['login']);\n    }\n  }\n}\n</code></pre>\n\n<p>So basically my issue is that when the login method of the LoginComponent is complete, i want it to set the currentUser variable within the HeaderComponent so that when the next page is produced by the router-outlet, the header displays the log out button correctly. The update happens correctly if you manually refresh the page after the redirect however, the header is not refreshed on redirect, only the contents of the router-outlet.</p>\n\n<p>I have tried using a service as well as using @Input() and @Output() but have had no luck, maybe I have been using them incorrectly.</p>\n\n<p>My main issue seems to be that when the redirects and navigation happens, the header and footer components are not refreshed as it is only the components within <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code> that are affected. I did it this way in order to prevent having to have the header and footer components in every other component but if thats the only way to achieve what i require then so be it.</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "typescript", "types", "enums", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1507737321, "last_edit_date": 1507737321, "creation_date": 1507736708, "answer_id": 46692510, "question_id": 46692388, "link": "https://stackoverflow.com/questions/46692388/typescript-newable-and-enum-reference/46692510#46692510", "title": "TypeScript newable and enum reference", "body": "<p><code>Foo</code> is both a value name and a type name.  As a value, it represents the object whose properties have keys <code>Bar</code> and <code>Baz</code> and whose values are <code>0</code> and <code>1</code>, respectively (it also has properties with keys <code>0</code> and <code>1</code> whose values are <code>\"Bar\"</code> and <code>\"Baz\"</code>, respectively.).  As a type, it represents the union of types of <code>Foo.Bar</code> and <code>Foo.Baz</code>. These are not the same: the value <code>Foo</code> is not of type <code>Foo</code>.</p>\n\n<p>This is like in a class (e.g., <code>class Bar {}</code>), where the value <code>Bar</code> represents the class constructor, and the type <code>Bar</code> represents the type of an instance of the class.  Again, the value <code>Bar</code> is not of type <code>Bar</code>.</p>\n\n<p>In both cases, if you want the type corresponding to the value with the name <code>Foo</code> or <code>Bar</code>, you use <code>typeof</code> with the value: </p>\n\n<pre><code>interface Sdk {\n    Blob: {\n        FooEnum: typeof Foo;\n    }\n}\n</code></pre>\n\n<p>Now <code>FooEnum</code> has the same type as the object <code>Foo</code>, and it should work for you.</p>\n\n<p>Good luck!</p>\n"}], "owner": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 46692510, "answer_count": 1, "score": 6, "last_activity_date": 1507882804, "creation_date": 1507736365, "last_edit_date": 1507882804, "question_id": 46692388, "link": "https://stackoverflow.com/questions/46692388/typescript-newable-and-enum-reference", "title": "TypeScript newable and enum reference", "body": "<p>I have an external SDK written in JavaScript which I am using. One of these modules, <code>Blob</code> is new-able, but also exposes an enum <code>FooEnum</code> (members <code>Bar</code> and <code>Baz</code>).</p>\n\n<p>The code for using this SDK in JavaScript is like so:</p>\n\n<pre><code>const blobInstance = new Sdk.Blob();\nconst fooType = Sdk.Blob.FooEnum.Baz;\n</code></pre>\n\n<p>I am now trying to write an interface that I can cast this SDK to in order to give me some type safety. Here is what I've got so far:</p>\n\n<pre><code>interface BlobInterface { }\n\nenum Foo {\n    Bar,\n    Baz\n}\n\ninterface Sdk {\n    Blob: {\n        new(): BlobInterface;\n        FooEnum: Foo;\n    }\n}\n</code></pre>\n\n<p>My problem, however, is that when I reference <code>Blob.FooEnum</code>, it thinks that <code>FooEnum</code> itself is actually a member of the enum <code>Foo</code> (i.e. it believes that it is <code>Bar</code> or <code>Baz</code>) and, therefore, doesn't let me get <code>Baz</code> from it.</p>\n\n<p>How can I tell TypeScript that <code>Blob.FooEnum</code> actually points to the enum itself and isn't a member of the enum?</p>\n"}, {"tags": ["typescript", "visual-studio-code", "rxjs", "angular-cli"], "answers": [{"tags": [], "owner": {"reputation": 2359, "user_id": 3013461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f6c3c01be262a56aa582cb22b0529e8?s=128&d=identicon&r=PG", "display_name": "delasteve", "link": "https://stackoverflow.com/users/3013461/delasteve"}, "is_accepted": false, "score": 1, "last_activity_date": 1507775552, "creation_date": 1507775552, "answer_id": 46700484, "question_id": 46692177, "link": "https://stackoverflow.com/questions/46692177/rxjs-observable-missing-definitions/46700484#46700484", "title": "RXJS Observable missing definitions", "body": "<p>It's very possible that in your larger project that you have imported the entire rxjs library by doing something like </p>\n\n<pre><code>import { Observable } from 'rxjs/Rx';\n</code></pre>\n\n<p>When it should be</p>\n\n<pre><code>import { Observable } from 'rxjs/Observable';\n</code></pre>\n\n<p>Without seeing all your usages of <code>rxjs</code>, this is my best guess.</p>\n"}], "owner": {"reputation": 4649, "user_id": 418549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/84e05e4e456ba5978c5dae06eace99db?s=128&d=identicon&r=PG", "display_name": "Tom Schreck", "link": "https://stackoverflow.com/users/418549/tom-schreck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1022, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507775552, "creation_date": 1507735729, "question_id": 46692177, "link": "https://stackoverflow.com/questions/46692177/rxjs-observable-missing-definitions", "title": "RXJS Observable missing definitions", "body": "<p>I started a new AngularCLI project in Visual Studio Code.  I'm using rxjs Observables, however, Observable is missing a lot of definitions compared to another AngularCLI project.  Both projects are using rxjs version 5.4.2.  My new AngularCLI project shows only 3 definitions for Observable and is finding those definitions in node_module\\rxjs\\add\\operator.  However, my other AngularCLI project lists 127 definitions for Observable but finds them in node_module\\rxjs\\add\\observable as well as node_module\\rxjs\\add\\operator.</p>\n\n<p>Here's an image of project with <strong>3 definitions</strong> sourced from node_module\\rxjs\\add\\operator:</p>\n\n<p><a href=\"https://i.stack.imgur.com/NAMbI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NAMbI.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here's an image of project with <strong>127 definitions</strong> sourced from node_module\\rxjs\\add\\observable and node_module\\rxjs\\add\\operator:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OruPx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OruPx.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've verified that node_module\\rxjs\\add\\observable and node_module\\rxjs\\add\\operator folders are the exact same in each project.</p>\n\n<p>Why is one project pulling definitions from multiple locations?  How do I get my project to find all of the definitions for an Observable?</p>\n\n<p>Thanks for your help.</p>\n"}, {"tags": ["twitter-bootstrap", "angular", "typescript", "ngx-bootstrap"], "answers": [{"tags": [], "owner": {"reputation": 518, "user_id": 9449389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f64798c6c7ef53243d7ba40c390f8261?s=128&d=identicon&r=PG&f=1", "display_name": "BlizZard", "link": "https://stackoverflow.com/users/9449389/blizzard"}, "is_accepted": false, "score": 0, "last_activity_date": 1525777752, "last_edit_date": 1525777752, "creation_date": 1525775612, "answer_id": 50231518, "question_id": 46692055, "link": "https://stackoverflow.com/questions/46692055/ngx-bootstrap-custom-typeahead-not-working/50231518#50231518", "title": "ngx-bootstrap Custom typeahead not working", "body": "<p>Call that function with (keyup). That will do the trick.<br>\nAnd whenever the user types a character, it will call the API and store the result in a variable, that variable will be passed as <code>[typeahead]=\"autoCompleteRef\"</code>.</p>\n\n<p>Call the function something like:  </p>\n\n<pre><code>&lt;input class=\"form-control\"\n       [(ngModel)]=\"autoCompleteSearchTerm\"\n       [typeahead]=\"autoCompleteRef\"\n       [typeaheadOptionField]=\"'name'\"\n       [typeaheadWaitMs]=\"300\"\n       [typeaheadMinLength]=\"1\"\n       (keyup)=\"typeaheadOnSelect($event)\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 940, "user_id": 6307745, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d334115a71495c3d8ce9f515b8bd72e?s=128&d=identicon&r=PG&f=1", "display_name": "derrickrozay", "link": "https://stackoverflow.com/users/6307745/derrickrozay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 907, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525777752, "creation_date": 1507735352, "last_edit_date": 1507736370, "question_id": 46692055, "link": "https://stackoverflow.com/questions/46692055/ngx-bootstrap-custom-typeahead-not-working", "title": "ngx-bootstrap Custom typeahead not working", "body": "<p>I'm trying to create a custom typeahead that searches my API every time the user types something but its not working. Its not even entering the <code>autocomplete()</code> function. I'm using Angular 4 CLI (1.4.2), bootstrap 4, and ngx-bootstrap (1.9.3). What am I doing wrong?</p>\n\n<p>component.ts</p>\n\n<pre><code>public autoCompleteRef = this.autoComplete.bind(this);\n\npublic autoComplete() {\n    let searchParams = new URLSearchParams();\n    searchParams.set('search', this.autoCompleteSearchTerm);\n\n    return this.http.get(this.api_url, {search: searchParams, headers: headers})\n        .map(res =&gt; res.json())\n        .map((el)=&gt; {\n            return el.map((data)=&gt; {\n                return ({id: data.id, name: data.name});\n            });\n        })\n        .toPromise();\n}\n\npublic typeaheadOnSelect(e): void {\n    console.log('Selected value: ', e.value);\n}\n</code></pre>\n\n<p>html</p>\n\n<pre><code>&lt;input class=\"form-control\"\n       [(ngModel)]=\"autoCompleteSearchTerm\"\n       [typeahead]=\"autoCompleteRef\"\n       [typeaheadOptionField]=\"'name'\"\n       [typeaheadWaitMs]=\"300\"\n       [typeaheadMinLength]=\"1\"\n       (typeaheadOnSelect)=\"typeaheadOnSelect($event)\"&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "typescript", "optimization", "angularjs-directive"], "answers": [{"tags": [], "owner": {"reputation": 551, "user_id": 1693613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6f3Yl.jpg?s=128&g=1", "display_name": "Sathyaraj Palanisamy", "link": "https://stackoverflow.com/users/1693613/sathyaraj-palanisamy"}, "is_accepted": false, "score": 0, "last_activity_date": 1510007547, "creation_date": 1510007547, "answer_id": 47146960, "question_id": 46692046, "link": "https://stackoverflow.com/questions/46692046/optimize-angularjs-1-5-7-directive-on-typescript-args-not-working-and-2-cla/47146960#47146960", "title": "Optimize AngularJS 1.5.7 directive on TypeScript - ...args not working and 2 classes are encapsulated", "body": "<p>Using types script , first you have to create directive using class and then you have to declare class as angular application directive through factory method of the class.</p>\n\n<p>Go through below reference link for better understanding.</p>\n\n<p><a href=\"http://blog.aaronholmes.net/writing-angularjs-directives-as-typescript-classes/\" rel=\"nofollow noreferrer\">Reference 1</a>\n<a href=\"https://stackoverflow.com/questions/26920055/define-angularjs-directive-using-typescript-and-inject-mechanism\">Reference 2</a></p>\n"}], "owner": {"reputation": 687, "user_id": 1362858, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/9353370b4e12ab9e66df775e3e13cf78?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/1362858/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510007547, "creation_date": 1507735322, "last_edit_date": 1508156665, "question_id": 46692046, "link": "https://stackoverflow.com/questions/46692046/optimize-angularjs-1-5-7-directive-on-typescript-args-not-working-and-2-cla", "title": "Optimize AngularJS 1.5.7 directive on TypeScript - ...args not working and 2 classes are encapsulated", "body": "<p>I'm developing on an old project which was developed with AngularJS 1.5.7. And I want to use TypeScript for new developed things. So only newly added things should be in TypeScript - no full migration at the moment.</p>\n\n<p>I was able to find out how to write a directive with TypeScript on AngularJS.</p>\n\n<pre><code>import * as angular from 'angular';\n\nangular\n    .module('starter.directives')\n    .directive('lateralScrollbar', ['$timeout', ($timeout) =&gt;\n        new (class {\n            restrict = 'A';\n\n            constructor(\n                private $timeout\n            ) { }\n\n            link(scope: ng.IScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) {\n                let directive = this;\n\n                new (class {\n                    constructor(\n                        scope: ng.IScope,\n                        element: ng.IAugmentedJQuery,\n                        attrs: ng.IAttributes\n                    ) {\n                        scope.something = 'Loading';\n                        /** 1. How to optimize hat \"directive\" is not needed here? Maybe that I can use \"this\" instead or \"parent\" */\n                        directive.$timeout(() =&gt; scope.something = 'OK', 1000);\n                    }\n                })(scope, element, attrs);\n            }\n            /** 2. How to optimize that I can pass the arguments with that the function was called. For example fn.apply(); and ...args? */\n        })($timeout)\n    ]);\n</code></pre>\n\n<p>You can see that there are 2 comments.</p>\n\n<ol>\n<li>How to optimize hat \"directive\" is not needed here? Maybe that I can use \"this\" instead or \"parent\"</li>\n<li>How to optimize that I can pass the arguments with that the function was called. For example fn.apply(); and ...args?</li>\n</ol>\n\n<p>So the first one is interesting. I think. Currently, I call the directive as normal as possible with an array of dependencies and the function at the end.\nBut there its unnecessary complex :-(\nThis function creates an object of the class in it. And then this class have a link function which defines the <code>directive</code> as <code>this</code> so that I can use the passed arguments in it. (i.e. $timeout).</p>\n\n<p>And the second thing is that I define the <code>$timeout</code> variable four times at the moment. 1 x on dependencies of the Angular directive. 1 x constructor of a class. 1 x argument for first class initialization. 1 x in function which is the wrapper of the first class.</p>\n\n<p>So this was one try of my but it fails because it can't handle this <code>...args</code> thing. Don't know how to optimize.</p>\n\n<pre><code>import * as angular from 'angular';\n\nangular\n    .module('starter.directives')\n    .directive('lateralScrollbar', ['$timeout', (...args) =&gt;\n        new (class {\n            restrict = 'A';\n\n            constructor(\n                private $timeout\n            ) { }\n\n            link(scope: ng.IScope, element: ng.IAugmentedJQuery, attrs: ng.IAttributes) {\n                let directive = this;\n\n                new (class {\n                    constructor(\n                        scope: ng.IScope,\n                        element: ng.IAugmentedJQuery,\n                        attrs: ng.IAttributes\n                    ) {\n                        scope.something = 'Loading';\n                        /** 1. How to optimize hat \"directive\" is not needed here? Maybe that I can use \"this\" instead or \"parent\" */\n                        directive.$timeout(() =&gt; scope.something = 'OK', 1000);\n                    }\n                })(scope, element, attrs);\n            }\n            /** 2. How to optimize that I can pass the arguments with that the function was called. For example fn.apply(); and ...args? */\n        })(args)\n    ]);\n</code></pre>\n\n<p><strong>Error: TS2554: Expected 1 arguments, but got 0.</strong></p>\n\n<p>Maybe someone can help me :-) Thank's in Advance!</p>\n"}, {"tags": ["angular", "typescript", "js-xlsx", "wijmo5"], "answers": [{"tags": [], "owner": {"reputation": 2985, "user_id": 5596484, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ae20b8cbc08efdac630b247d85c36309?s=128&d=identicon&r=PG", "display_name": "Stephen R. Smith", "link": "https://stackoverflow.com/users/5596484/stephen-r-smith"}, "is_accepted": true, "score": 0, "last_activity_date": 1508259692, "last_edit_date": 1508259692, "creation_date": 1507907674, "answer_id": 46733059, "question_id": 46692045, "link": "https://stackoverflow.com/questions/46692045/wijmo-excelimportexport-in-angular-2-project-window-require-is-not-a-function/46733059#46733059", "title": "Wijmo ExcelImportExport in Angular 2 project &#39;window.require is not a function&#39; error", "body": "<p>Importing the jszip library with a <code>&lt;script&gt;</code> tag in the index.html file solves the problem. I would like to have found a webpack solution, but this at least resolves the issue.</p>\n\n<pre><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 2985, "user_id": 5596484, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ae20b8cbc08efdac630b247d85c36309?s=128&d=identicon&r=PG", "display_name": "Stephen R. Smith", "link": "https://stackoverflow.com/users/5596484/stephen-r-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 0, "accepted_answer_id": 46733059, "answer_count": 1, "score": 0, "last_activity_date": 1508259692, "creation_date": 1507735318, "question_id": 46692045, "link": "https://stackoverflow.com/questions/46692045/wijmo-excelimportexport-in-angular-2-project-window-require-is-not-a-function", "title": "Wijmo ExcelImportExport in Angular 2 project &#39;window.require is not a function&#39; error", "body": "<p>I'm using the current build of Wijmo (5.20172.359) in an Angular 2 project (Angular 4.4.4, TypeScript 2.5.3). Everything I've been using (FlexGrid, FlexPie, FlexCharts) works fine, however... </p>\n\n<p>I'm trying to integrate the Excel Import functionality, and am using the ExcelImportExport project included in the TS/Angular2 Samples downloaded with the build, and I'm getting the following error on build:</p>\n\n<pre><code>Uncaught TypeError: window.require is not a function\n    at Object../node_modules/wijmo/wijmo.xlsx.js (app.js:86218)\n    at __webpack_require__ (app.js:678)\n    at fn (wijmo.grid.xlsx.js:13)\n    at Object../node_modules/wijmo/wijmo.grid.xlsx.js (app.js:86158)\n    at __webpack_require__ (app.js:678)\n    at fn (wijmo.grid.xlsx.js:13)\n    at Object../app/home/components/import-grid/import-grid.component.ts (app.js:12533)\n    at __webpack_require__ (app.js:678)\n    at fn (wijmo.grid.xlsx.js:13)\n    at Object../app/home/home.module.ts (app.js:19226)\n</code></pre>\n\n<p>I have the following imports in the component:</p>\n\n<pre><code>import * as JSZip from 'jszip';\nimport * as wjcGrid from 'wijmo/wijmo.grid';\nimport * as wjcCore from 'wijmo/wijmo';\nimport * as wjcXlsx from 'wijmo/wijmo.xlsx';\nimport * as wjcGridXlsx from 'wijmo/wijmo.grid.xlsx';\nimport { WjGridModule } from 'wijmo/wijmo.angular2.grid';\n</code></pre>\n\n<p>And the problem goes away if I remove the following:</p>\n\n<pre><code>import * as wjcGridXlsx from 'wijmo/wijmo.grid.xlsx';\n</code></pre>\n\n<p>However (obviously) the Excel import feature requires wjcGridXlsx, so that just indicates to me where the specific problem lies.</p>\n\n<p>I'm unclear how to resolve this.</p>\n\n<p>The wijmo.xlsx module seems to be a wrapper around <a href=\"https://github.com/SheetJS/js-xlsx\" rel=\"nofollow noreferrer\">https://github.com/SheetJS/js-xlsx</a>, and I can find some references to errors implementing that, but nothing that leads me to a solution.</p>\n\n<p>I'm using webpack, and not Angular CLI.</p>\n"}, {"tags": ["typescript", "design-patterns"], "comments": [{"owner": {"reputation": 4035, "user_id": 4162955, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LXfGt.png?s=128&g=1", "display_name": "Ziv Weissman", "link": "https://stackoverflow.com/users/4162955/ziv-weissman"}, "edited": false, "score": 0, "creation_date": 1508016450, "post_id": 46691804, "comment_id": 80445056, "body": "Maybe better post it in &quot;Code Review&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1508227583, "post_id": 46782210, "comment_id": 80516963, "body": "please see Update 1"}, {"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1508228314, "post_id": 46782210, "comment_id": 80517363, "body": "ok, first error was removed by adding this: columns: IColumn[], in the arrow function parameters"}, {"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1508229773, "post_id": 46782210, "comment_id": 80518211, "body": "OK fixed my Update already, now I get this question here: <a href=\"https://stackoverflow.com/questions/46785972/argument-of-type-x-string-string-items-ilistitem-columns-undefin\" title=\"argument of type x string string items ilistitem columns undefin\">stackoverflow.com/questions/46785972/&hellip;</a>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1508230953, "post_id": 46782210, "comment_id": 80518990, "body": "@LuisValencia sorry, I fixed the errors. I was missing <code>this.</code> for the extracted SFC. I also fixed the type of <code>columns</code> and <code>items</code>."}, {"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1508231566, "post_id": 46782210, "comment_id": 80519375, "body": "sorry, the setStateWithList does just not compile, I get the warning on the keypart concatenation"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1508232242, "post_id": 46782210, "comment_id": 80519775, "body": "@LuisValencia Updated"}, {"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1508232642, "post_id": 46782210, "comment_id": 80520025, "body": "sorry, same error after copy paste setStateWithList, I guess there is a small syntax error somewhere... never heard keyof in Typescript"}, {"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1508232842, "post_id": 46782210, "comment_id": 80520135, "body": "maybe we need to bring this to a chat"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "edited": false, "score": 0, "creation_date": 1508232983, "post_id": 46782210, "comment_id": 80520224, "body": "Sure, it has to do with <code>IFactoryMethodProps</code>"}, {"owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1508233056, "post_id": 46782210, "comment_id": 80520265, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/156897/discussion-between-luis-valencia-and-aluan-haddad\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": true, "score": 1, "last_activity_date": 1508235737, "last_edit_date": 1508235737, "creation_date": 1508212544, "answer_id": 46782210, "question_id": 46691804, "link": "https://stackoverflow.com/questions/46691804/refactor-react-component-to-make-it-shorter/46782210#46782210", "title": "Refactor react component to make it shorter", "body": "<p>You are right, it is too long, but that is because it is poorly factored. Fortunately, it can be improved in a straightforward fashion</p>\n\n<p>To start out, all of the calls to <code>setState</code> are the identical, with the exception of the <code>*ListItemState</code> used, across all of the cases of <code>readItems</code>. We should extract a function and call it in place, removing the duplication.</p>\n\n<p>So starting with the method <code>readItems</code> as</p>\n\n<pre><code>  private readItems() {\n    this.setState({\n      status: 'Loading all items...'\n    });\n    let factory = new ListItemFactory();\n\n    //Here its where we actually use the pattern to make our coding easier.\n    switch(this.props.listName)\n    {\n      case \"List\":\n        this.setState({\n          status: `Successfully loaded ${listItems.length} items`,\n          DetailsListItemState : {\n            items: announcementlistItems,\n            columns: []\n          }\n        });          \n        break;\n\n        break;\n      case \"Announcements\":\n        let announcementlistItems  = factory.getItems(this.props.spHttpClient, this.props.siteUrl, this.props.listName) as IAnnouncementListItem[];  \n        this.setState({\n          status: `Successfully loaded ${listItems.length} items`,\n          DetailsAnnouncementListItemState : {\n            items: announcementlistItems,\n            columns: []\n          }\n        });          \n        break;\n      case \"News\":\n        let newsListItems  = factory.getItems(this.props.spHttpClient, this.props.siteUrl, this.props.listName) as INewsListItem[];  \n        this.setState({\n          status: `Successfully loaded ${listItems.length} items`,\n          DetailsNewsListItemState : {\n            items: newsListItems,\n            columns: []\n          }\n        });      \n        break;\n      case \"Directory\":\n        let directoryListItems  = factory.getItems(this.props.spHttpClient, this.props.siteUrl, this.props.listName) as IDirectoryListItem[];  \n        this.setState&lt;keyof {}&gt;({\n          status: `Successfully loaded ${listItems.length} items`,\n          DetailsDirectoryListItemState : {\n            items: directoryListItems,\n            columns: []\n          }\n        });   \n        break;\n      default : \n        break;\n    }    \n  }\n</code></pre>\n\n<p>So lets extract a shared method</p>\n\n<pre><code>  setStateWithList() {\n    const factory = new ListItemFactory();\n    const items  = factory.getItems(this.props.spHttpClient,\n    this.props.siteUrl, this.props.listName); \n    const keyPart = this.props.listName === 'Items' ? '' : this.props.listName;    \n    this.setState({\n        status: `Successfully loaded ${items.length} items`,\n        ['Details' + keyPart + 'ListItemState' as keyof IFactoryMethodProps] : {\n          items,\n          columns: [\n          ]\n        }\n      });      \n    }\n</code></pre>\n\n<p>This leads us to</p>\n\n<pre><code>  private readItems() {\n    this.setState({\n      status: 'Loading all items...'\n    });\n\n    //Here its where we actually use the pattern to make our coding easier.\n    if (this.props.listName) {\n      this.setStateWithList();\n    }   \n  }\n</code></pre>\n\n<p>which is clear redundant so we can replace it with</p>\n\n<pre><code>  private readItems() {\n    this.setState({\n      status: 'Loading all items...'\n    });\n\n    if (this.props.listName) {\n      this.setStateWithList();\n    }  \n  }\n</code></pre>\n\n<p>Now, on to <code>render</code></p>\n\n<p>What we have</p>\n\n<pre><code>  public render() {\n    let { type, \n      status, \n      DetailsListItemState, \n      DetailsNewsListItemState, \n      DetailsDirectoryListItemState, \n      DetailsAnnouncementListItemState } = this.state;\n\n        switch(this.props.listName)\n        {\n          case \"List\":\n            return (\n              &lt;div&gt;\n                &lt;MarqueeSelection selection={ this._selection }&gt;\n                  &lt;DetailsList\n                    items={ DetailsListItemState.items }\n                    columns={ DetailsListItemState.columns }\n                    setKey='set'\n                    layoutMode={ DetailsListLayoutMode.fixedColumns }\n                    selection={ this._selection }\n                    selectionPreservedOnEmptyClick={ true }                \n                    compact={ true }\n                  /&gt;\n                &lt;/MarqueeSelection&gt;\n              &lt;/div&gt;\n            );         \n          case \"Announcements\":\n            return (\n              &lt;div&gt;\n                &lt;MarqueeSelection selection={ this._selection }&gt;\n                  &lt;DetailsList\n                    items={ DetailsAnnouncementListItemState.items }\n                    columns={ DetailsAnnouncementListItemState.columns }\n                    setKey='set'\n                    layoutMode={ DetailsListLayoutMode.fixedColumns }\n                    selection={ this._selection }\n                    selectionPreservedOnEmptyClick={ true }                \n                    compact={ true }\n                  /&gt;\n                &lt;/MarqueeSelection&gt;\n              &lt;/div&gt;\n            );\n        case \"News\":\n          return (\n            &lt;div&gt;\n              &lt;MarqueeSelection selection={ this._selection }&gt;\n                &lt;DetailsList\n                  items={ DetailsNewsListItemState.items }\n                  columns={ DetailsNewsListItemState.columns }\n                  setKey='set'\n                  layoutMode={ DetailsListLayoutMode.fixedColumns }\n                  selection={ this._selection }\n                  selectionPreservedOnEmptyClick={ true }                \n                  compact={ true }\n                /&gt;\n              &lt;/MarqueeSelection&gt;\n            &lt;/div&gt;\n          );\n        case \"Directory\":\n          return (\n            &lt;div&gt;\n              &lt;MarqueeSelection selection={ this._selection }&gt;\n                &lt;DetailsList\n                  items={ DetailsDirectoryListItemState.items }\n                  columns={ DetailsDirectoryListItemState.columns }\n                  setKey='set'\n                  layoutMode={ DetailsListLayoutMode.fixedColumns }\n                  selection={ this._selection }\n                  selectionPreservedOnEmptyClick={ true }                \n                  compact={ true }\n                /&gt;\n              &lt;/MarqueeSelection&gt;\n            &lt;/div&gt;\n          );\n        default : \n          break;\n      }\n    }     \n</code></pre>\n\n<p>We will apply the same approach as before also apply parameterization</p>\n\n<pre><code>  ListMarqueeSelection(itemState: {fixedColumns: number, colums: IColumn[], items: IListItem[] }) =&gt; (\n       &lt;div&gt;\n         &lt;MarqueeSelection selection={ this._selection }&gt;\n           &lt;DetailsList\n             items={ itemState.items }\n             columns={ itemState.columns }\n             setKey='set'\n             layoutMode={ DetailsListLayoutMode.fixedColumns }\n             selection={ this._selection }\n             selectionPreservedOnEmptyClick={ true }                \n             compact={ true }&gt;\n           &lt;/DetailsList\n         &lt;/MarqueeSelection&gt;\n     &lt;/div&gt;\n    );  \n</code></pre>\n\n<p>which leads us to</p>\n\n<pre><code>  render() {\n    switch(this.props.listName)\n    {\n        case \"List\":\n          return &lt;this.ListMarqueeSelection\n            itemState={this.state.DetailsListItemState}/&gt;;\n        case \"News\":\n          return &lt;this.ListMarqueeSelection\n            itemState={this.state.DetailsNewsListItemState}/&gt;;\n        case \"Announcements\":\n          return (&lt;this.ListMarqueeSelection\n            itemState={this.state.DetailsAnnouncementsListItemState}/&gt;;\n        case \"Directory\":\n          return &lt;this.ListMarqueeSelection\n            itemState={this.state.DetailsDirectoryListItemState}/&gt;;\n        default:\n          return undefined;\n    }\n  }\n</code></pre>\n\n<p>Finally, lets clean up the duplicate logic between the <code>constructor</code> and <code>componentWillReceiveProps</code> by extracting a shared method.</p>\n\n<p>Out <code>State</code> component ends up looking like</p>\n\n<pre><code>export default class FactoryMethod extends React.Component&lt;any, IFactoryMethodState&gt; {\n  listItemEntityTypeName?: string;\n  _selection: Selection;\n\n  constructor(props: IFactoryMethodProps, state: any) {\n    super(props);\n    setInitialState();\n  }\n\n  componentWillReceiveProps(nextProps: IFactoryMethodProps) {\n    this.listItemEntityTypeName = undefined;\n    setInitialState();\n  }    \n\n\n  render() {\n    switch(this.props.listName)\n    {\n        case \"List\":\n          return &lt;this.ListMarqueeSelection\n            itemState={this.state.DetailsListItemState}/&gt;;\n        case \"News\":\n          return &lt;this.ListMarqueeSelection\n            itemState={this.state.DetailsNewsListItemState}/&gt;;\n        case \"Announcements\":\n          return (&lt;this.ListMarqueeSelection\n            itemState={this.state.DetailsAnnouncementsListItemState}/&gt;;\n        case \"Directory\":\n          return &lt;this.ListMarqueeSelection\n            itemState={this.state.DetailsDirectoryListItemState}/&gt;;\n        default:\n          return undefined;\n    }\n  }\n\n  readItems() {\n    this.setState({\n      status: 'Loading all items...'\n    });\n\n\n    if (this.props.listName) {\n        this.setStateWithList();\n    }    \n  }\n\n  setInitialState() {\n    this.state = {\n      type: 'ListItem',\n      status: this.listNotConfigured(this.props)\n        ? 'Please configure list in Web Part properties'\n        : 'Ready',\n      DetailsListItemState:{\n        columns:[],\n        items:[]\n      },\n      DetailsNewsListItemState:{\n        columns:[],\n        items:[]\n      },\n      DetailsDirectoryListItemState:{\n        columns:[],\n        items:[]\n      },\n      DetailsAnnouncementListItemState:{\n        columns:[],\n        items:[]\n      },\n    };\n  }\n\n  ListMarqueeSelection = (itemState: {fixedColumns: number, colums: {}[], items: {}[] }) =&gt; (\n   &lt;div&gt;\n     &lt;MarqueeSelection selection={ this._selection }&gt;\n       &lt;DetailsList\n         items={ itemState.items }\n         columns={ itemState.columns }\n         setKey='set'\n         layoutMode={ DetailsListLayoutMode.fixedColumns }\n         selection={ this._selection }\n         selectionPreservedOnEmptyClick={ true }                \n         compact={ true }&gt;\n       &lt;/DetailsList\n     &lt;/MarqueeSelection&gt;\n   &lt;/div&gt;\n  );\n\n  setStateWithList() {\n    const factory = new ListItemFactory();\n    const items  = factory.getItems(this.props.spHttpClient,\n    this.props.siteUrl, this.props.listName);  \n    const keyPart = this.props.listName === 'Items' ? '' : this.props.listName;    \n\n    // the explicit specification of the type argument `keyof {}` is bad and\n    // it should not be required.\n    this.setState&lt;keyof {}&gt;({\n        status: `Successfully loaded ${items.length} items`,\n        ['Details' + keyPart + 'ListItemState'] : {\n          items,\n          columns: [\n          ]\n        }\n      });      \n  }\n\n  _getSelectionDetails() {\n    const selectionCount = this._selection.getSelectedCount();\n\n    switch (selectionCount) {\n      case 0:\n        return 'No items selected';\n      case 1:\n        return `1 item selected: ${this._selection.getSelection()[0]).name}`;\n      default:\n        return `${selectionCount} items selected`;\n    }\n  }\n\n  listNotConfigured(props: IFactoryMethodProps) {\n    return !props.listNane || props.listName.length === 0;\n  }\n}\n</code></pre>\n\n<p>Of course we could replace switch with another mechanism and improve more but that is a significant improvement.</p>\n\n<p>We can see that the problem was not switch but rather duplication and lost opportunities for ad-hoc subtyping</p>\n"}], "owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 46782210, "answer_count": 1, "score": 0, "last_activity_date": 1508235737, "creation_date": 1507734616, "last_edit_date": 1508227569, "question_id": 46691804, "link": "https://stackoverflow.com/questions/46691804/refactor-react-component-to-make-it-shorter", "title": "Refactor react component to make it shorter", "body": "<p>I have the following code, but first the explanation.\nI am using a REACTJS Office UI Component called details list:\n<a href=\"https://developer.microsoft.com/en-us/fabric#/components/detailslist\" rel=\"nofollow noreferrer\">https://developer.microsoft.com/en-us/fabric#/components/detailslist</a></p>\n\n<p>And I want my application to be able to render information from any type of Sharepoint List regardless of the columns the source has.  For that I am trying to implement a factory method design pattern like this:</p>\n\n<pre><code>export  interface IListItem {\n    [key: string]: any;\n    id: string;\n    title: string;\n    modified: Date;\n    created: Date;\n    modifiedby: string;\n    createdby: string;    \n}\n\nimport {IListItem} from './IListItem';\n\nexport interface  IAnnouncementListItem extends IListItem {\n    announcementBody: string;\n    expiryDate: Date;  \n}\n\nimport {IListItem} from './IListItem';\n\nexport interface IDirectoryListItem extends IListItem {\n        firstName: string;\n        lastName: string;\n        mobileNumber: string;\n        internalNumber: string;  \n}\n\n\nimport {IListItem} from './IListItem';\n\nexport interface  INewsListItem extends IListItem {\n    newsheader: string;\n    newsbody: string;\n    expiryDate: Date;\n}\n\nimport { IListItem } from './models/IListItem';\nimport { SPHttpClient, SPHttpClientResponse } from '@microsoft/sp-http';\nexport  interface IFactory{\n    getItems(requester: SPHttpClient, siteUrl: string, listName: string): IListItem[];\n}\n\nimport { SPHttpClient, SPHttpClientResponse } from '@microsoft/sp-http';\nimport { IWebPartContext } from '@microsoft/sp-webpart-base';\nimport { IListItem} from './models/IListItem';\nimport { IFactory } from './IFactory';\nimport { INewsListItem } from './models/INewsListItem';\nimport { IDirectoryListItem } from './models/IDirectoryListItem';\nimport { IAnnouncementListItem } from './models/IAnnouncementListItem';\n\nexport class ListItemFactory implements IFactory{   \n    getItems(requester: SPHttpClient, siteUrl: string, listName: string): IListItem[] {\n        switch(listName) {\n            case 'List':\n                let items: IListItem[];\n                requester.get(`${siteUrl}/_api/web/lists/getbytitle('${listName}')/items?$select=Title,Id`,\n                SPHttpClient.configurations.v1,\n                {\n                    headers: {\n                    'Accept': 'application/json;odata=nometadata',\n                    'odata-version': ''\n                    }\n                })\n                .then((response: SPHttpClientResponse): Promise&lt;{ value: IListItem[] }&gt; =&gt; {\n                    return response.json();\n                })\n                .then((response: { value: IListItem[] }): void =&gt; {\n                    items= response.value;\n                });\n                return items;\n            case 'News':\n                let newsitems: INewsListItem[];\n                requester.get(`${siteUrl}/_api/web/lists/getbytitle('${listName}')/items?$select=Title,Id`,\n                SPHttpClient.configurations.v1,\n                {\n                    headers: {\n                    'Accept': 'application/json;odata=nometadata',\n                    'odata-version': ''\n                    }\n                })\n                .then((response: SPHttpClientResponse): Promise&lt;{ value: INewsListItem[] }&gt; =&gt; {\n                    return response.json();\n                })\n                .then((response: { value: INewsListItem[] }): void =&gt; {\n                    newsitems= response.value;\n                });\n                return newsitems;\n            case 'Announcements':\n                let announcementitems: IAnnouncementListItem[];\n                requester.get(`${siteUrl}/_api/web/lists/getbytitle('${listName}')/items?$select=Title,Id`,\n                SPHttpClient.configurations.v1,\n                {\n                    headers: {\n                    'Accept': 'application/json;odata=nometadata',\n                    'odata-version': ''\n                    }\n                })\n                .then((response: SPHttpClientResponse): Promise&lt;{ value: IAnnouncementListItem[] }&gt; =&gt; {\n                    return response.json();\n                })\n                .then((response: { value: IAnnouncementListItem[] }): void =&gt; {\n                    announcementitems= response.value;\n                });\n                return announcementitems;\n            case 'Directory':\n                let directoryitems: IDirectoryListItem[];\n                requester.get(`${siteUrl}/_api/web/lists/getbytitle('${listName}')/items?$select=Title,Id`,\n                SPHttpClient.configurations.v1,\n                {\n                    headers: {\n                    'Accept': 'application/json;odata=nometadata',\n                    'odata-version': ''\n                    }\n                })\n                .then((response: SPHttpClientResponse): Promise&lt;{ value: IDirectoryListItem[] }&gt; =&gt; {\n                    return response.json();\n                })\n                .then((response: { value: IDirectoryListItem[] }): void =&gt; {\n                    items= response.value;\n                });\n                return directoryitems;\n            default:\n                return null;\n        }\n      }\n} \n    /* public getItems(requester: SPHttpClient, siteUrl: string, listName: string): IListItem[] {\n        let items: IListItem[];\n        requester.get(`${siteUrl}/_api/web/lists/getbytitle('${listName}')/items?$select=Title,Id`,\n        SPHttpClient.configurations.v1,\n        {\n            headers: {\n            'Accept': 'application/json;odata=nometadata',\n            'odata-version': ''\n            }\n        })\n        .then((response: SPHttpClientResponse): Promise&lt;{ value: IListItem[] }&gt; =&gt; {\n            return response.json();\n        })\n        .then((response: { value: IListItem[] }): void =&gt; {\n            items= response.value;\n        });\n        return items;\n    } */\n}\n</code></pre>\n\n<p>The state class:</p>\n\n<pre><code>import { IListItem } from './models/IListItem';\nimport { INewsListItem } from './models/INewsListItem';\nimport { IDirectoryListItem } from './models/IDirectoryListItem';\nimport { IAnnouncementListItem } from './models/IAnnouncementListItem';\nimport {\n  IColumn\n} from 'office-ui-fabric-react/lib/DetailsList';\n\nexport interface IFactoryMethodState{\n  type: string;\n  status: string;\n  DetailsListItemState: IDetailsListItemState;\n  DetailsNewsListItemState: IDetailsNewsListItemState;\n  DetailsDirectoryListItemState : IDetailsDirectoryListItemState;\n  DetailsAnnouncementListItemState : IDetailsAnnouncementListItemState;\n}\n\nexport interface IDetailsListItemState {\n  columns: IColumn[];\n  items: IListItem[];\n}\n\nexport interface IDetailsNewsListItemState {\n  columns: IColumn[];\n  items: INewsListItem[];\n}\n\nexport interface IDetailsDirectoryListItemState {\n  columns: IColumn[];\n  items: IDirectoryListItem[];\n}\n\nexport interface IDetailsAnnouncementListItemState {\n  columns: IColumn[];\n  items: IAnnouncementListItem[];\n}\n</code></pre>\n\n<p>as you can see, I have different types of results, so I encapsulated that info IfactoryMethodState</p>\n\n<p>Now in the component I use it like this:</p>\n\n<pre><code>import * as React from 'react';\nimport styles from './FactoryMethod.module.scss';\nimport { IFactoryMethodProps } from './IFactoryMethodProps';\nimport { \n  IDetailsListItemState,  \n  IDetailsNewsListItemState,\n  IDetailsDirectoryListItemState,\n  IDetailsAnnouncementListItemState,\n  IFactoryMethodState\n} from './IFactoryMethodState';\nimport { IListItem } from './models/IListItem';\nimport { IAnnouncementListItem } from './models/IAnnouncementListItem';\nimport { INewsListItem } from './models/INewsListItem';\nimport { IDirectoryListItem } from './models/IDirectoryListItem';\n\nimport { escape } from '@microsoft/sp-lodash-subset';\nimport { SPHttpClient, SPHttpClientResponse } from '@microsoft/sp-http';\nimport { ListItemFactory} from './ListItemFactory';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport {\n  DetailsList,\n  DetailsListLayoutMode,\n  Selection,\n  IColumn\n} from 'office-ui-fabric-react/lib/DetailsList';\nimport { MarqueeSelection } from 'office-ui-fabric-react/lib/MarqueeSelection';\nimport { autobind } from 'office-ui-fabric-react/lib/Utilities';\n\nlet _columns = [\n  {\n    key: 'column1',\n    name: 'Name',\n    fieldName: 'name',\n    minWidth: 100,\n    maxWidth: 200,\n    isResizable: true\n  },\n  {\n    key: 'column2',\n    name: 'Value',\n    fieldName: 'value',\n    minWidth: 100,\n    maxWidth: 200,\n    isResizable: true\n  },\n];\n\nexport default class FactoryMethod extends React.Component&lt;any, IFactoryMethodState&gt; {\n  private listItemEntityTypeName: string = undefined;\n  private _selection: Selection;\n\n  constructor(props: IFactoryMethodProps, state: any) {\n    super(props);\n\n    //Initialize state\n    this.state = {\n      type: 'ListItem',\n      status: this.listNotConfigured(this.props) ? 'Please configure list in Web Part properties' : 'Ready',\n      DetailsListItemState:{\n        columns:[],\n        items:[]\n      },\n      DetailsNewsListItemState:{\n        columns:[],\n        items:[]\n      },\n      DetailsDirectoryListItemState:{\n        columns:[],\n        items:[]\n      },\n      DetailsAnnouncementListItemState:{\n        columns:[],\n        items:[]\n      },\n    };\n  }\n\n  public componentWillReceiveProps(nextProps: IFactoryMethodProps): void {\n    this.listItemEntityTypeName = undefined;\n    //Initialize state\n    this.state = {\n      type: 'ListItem',\n      status: this.listNotConfigured(this.props) ? 'Please configure list in Web Part properties' : 'Ready',\n      DetailsListItemState:{\n        columns:[],\n        items:[]\n      },\n      DetailsNewsListItemState:{\n        columns:[],\n        items:[]\n      },\n      DetailsDirectoryListItemState:{\n        columns:[],\n        items:[]\n      },\n      DetailsAnnouncementListItemState:{\n        columns:[],\n        items:[]\n      },\n    };\n  }\n\n  public render(): React.ReactElement&lt;IFactoryMethodProps&gt; {\n    let { type, \n      status, \n      DetailsListItemState, \n      DetailsNewsListItemState, \n      DetailsDirectoryListItemState, \n      DetailsAnnouncementListItemState } = this.state;\n\n        switch(this.props.listName)\n        {\n          case \"List\":\n            return (\n              &lt;div&gt;\n                &lt;MarqueeSelection selection={ this._selection }&gt;\n                  &lt;DetailsList\n                    items={ DetailsListItemState.items }\n                    columns={ DetailsListItemState.columns }\n                    setKey='set'\n                    layoutMode={ DetailsListLayoutMode.fixedColumns }\n                    selection={ this._selection }\n                    selectionPreservedOnEmptyClick={ true }                \n                    compact={ true }\n                  /&gt;\n                &lt;/MarqueeSelection&gt;\n              &lt;/div&gt;\n            );         \n          case \"Announcements\":\n            return (\n              &lt;div&gt;\n                &lt;MarqueeSelection selection={ this._selection }&gt;\n                  &lt;DetailsList\n                    items={ DetailsAnnouncementListItemState.items }\n                    columns={ DetailsAnnouncementListItemState.columns }\n                    setKey='set'\n                    layoutMode={ DetailsListLayoutMode.fixedColumns }\n                    selection={ this._selection }\n                    selectionPreservedOnEmptyClick={ true }                \n                    compact={ true }\n                  /&gt;\n                &lt;/MarqueeSelection&gt;\n              &lt;/div&gt;\n            );\n        case \"News\":\n          return (\n            &lt;div&gt;\n              &lt;MarqueeSelection selection={ this._selection }&gt;\n                &lt;DetailsList\n                  items={ DetailsNewsListItemState.items }\n                  columns={ DetailsNewsListItemState.columns }\n                  setKey='set'\n                  layoutMode={ DetailsListLayoutMode.fixedColumns }\n                  selection={ this._selection }\n                  selectionPreservedOnEmptyClick={ true }                \n                  compact={ true }\n                /&gt;\n              &lt;/MarqueeSelection&gt;\n            &lt;/div&gt;\n          );\n        case \"Directory\":\n          return (\n            &lt;div&gt;\n              &lt;MarqueeSelection selection={ this._selection }&gt;\n                &lt;DetailsList\n                  items={ DetailsDirectoryListItemState.items }\n                  columns={ DetailsDirectoryListItemState.columns }\n                  setKey='set'\n                  layoutMode={ DetailsListLayoutMode.fixedColumns }\n                  selection={ this._selection }\n                  selectionPreservedOnEmptyClick={ true }                \n                  compact={ true }\n                /&gt;\n              &lt;/MarqueeSelection&gt;\n            &lt;/div&gt;\n          );\n        default : \n          break;\n      }\n  }\n\n  private readItems(): void {\n    this.setState({\n      status: 'Loading all items...'\n    });\n    let factory = new  ListItemFactory();\n\n    //Here its where we actually use the pattern to make our coding easier.\n    switch(this.props.listName)\n    {\n      case \"List\":\n        let listItems  = factory.getItems(this.props.spHttpClient, this.props.siteUrl, this.props.listName);  \n        this.setState({\n          status: `Successfully loaded ${listItems.length} items`,\n          DetailsListItemState : {\n            items: listItems,\n            columns: [\n            ]\n          }\n        });      \n        break;\n      case \"Announcements\":\n        let announcementlistItems  = factory.getItems(this.props.spHttpClient, this.props.siteUrl, this.props.listName) as IAnnouncementListItem[];  \n        this.setState({\n          status: `Successfully loaded ${listItems.length} items`,\n          DetailsAnnouncementListItemState : {\n            items: announcementlistItems,\n            columns: []\n          }\n        });          \n        break;\n      case \"News\":\n        let newsListItems  = factory.getItems(this.props.spHttpClient, this.props.siteUrl, this.props.listName) as INewsListItem[];  \n        this.setState({\n          status: `Successfully loaded ${listItems.length} items`,\n          DetailsNewsListItemState : {\n            items: newsListItems,\n            columns: []\n          }\n        });      \n        break;\n      case \"Directory\":\n        let directoryListItems  = factory.getItems(this.props.spHttpClient, this.props.siteUrl, this.props.listName) as IDirectoryListItem[];  \n        this.setState({\n          status: `Successfully loaded ${listItems.length} items`,\n          DetailsDirectoryListItemState : {\n            items: directoryListItems,\n            columns: []\n          }\n        });   \n        break;\n      default : \n        break;\n    }    \n  }\n\n  private _getSelectionDetails(): string {\n    let selectionCount = this._selection.getSelectedCount();\n\n    switch (selectionCount) {\n      case 0:\n        return 'No items selected';\n      case 1:\n        return '1 item selected: ' + (this._selection.getSelection()[0] as any).name;\n      default:\n        return `${selectionCount} items selected`;\n    }\n  }\n\n  private listNotConfigured(props: IFactoryMethodProps): boolean {\n    return props.listName === undefined ||\n      props.listName === null ||\n      props.listName.length === 0;\n  }\n\n\n}\n</code></pre>\n\n<p>What I dont like about this code:</p>\n\n<ol>\n<li><p>The switch statement, is there a way to rewrite it and make it shorter probably without the SWITCH?</p></li>\n<li><p>The state implementation, I am not quite convinced yet about it.</p></li>\n</ol>\n\n<p>Update 1:\nI see some things not right after making your changes:</p>\n\n<p>Error 1 here:</p>\n\n<p>public ListMarqueeSelection = (itemState: {fixedColumns: number, columns: {}[], items: {}[] }) => (\n    \n      \n        \n          compact={ true }>\n        \n      \n    \n   );</p>\n\n<blockquote>\n  <p>Type '{ items: {}[]; columns: {}[]; setKey: \"set\"; layoutMode:\n  DetailsListLayoutMode.fixedColumns; sele...' is not assignable to type\n  'IntrinsicAttributes &amp; IntrinsicClassAttributes &amp;\n  Readonly&lt;{ children?: ReactNode; }>...'.   Type '{ items: {}[];\n  columns: {}[]; setKey: \"set\"; layoutMode:\n  DetailsListLayoutMode.fixedColumns; sele...' is not assignable to type\n  'Readonly'.\n      Types of property 'columns' are incompatible.\n        Type '{}[]' is not assignable to type 'IColumn[]'. [ts] Type '{ items: {}[]; columns: {}[]; setKey: \"set\"; layoutMode:\n  DetailsListLayoutMode.fixedColumns; sele...' is not assignable to type\n  'IntrinsicAttributes &amp; IntrinsicClassAttributes &amp;\n  Readonly&lt;{ children?: ReactNode; }>...'.   Type '{ items: {}[];\n  columns: {}[]; setKey: \"set\"; layoutMode:\n  DetailsListLayoutMode.fixedColumns; sele...' is not assignable to type\n  'Readonly'.\n      Types of property 'columns' are incompatible.\n        Type '{}[]' is not assignable to type 'IColumn[]'.\n          Type '{}' is not assignable to type 'IColumn'.\n            Property 'key' is missing in type '{}'. (parameter) itemState: {\n      fixedColumns: number;\n      columns: {}[];\n      items: {}[]; }</p>\n</blockquote>\n\n<p>Error 2 here:</p>\n\n<pre><code>public render() {\n    let { type, \n      status, \n      DetailsListItemState, \n      DetailsNewsListItemState, \n      DetailsDirectoryListItemState, \n      DetailsAnnouncementListItemState } = this.state;\n\n      switch(this.props.listName)\n      {\n          case \"List\":\n            return &lt;ListMarqueeSelection itemState={this.state.DetailsListItemState}/&gt;;\n          case \"News\":\n            return &lt;ListMarqueeSelection itemState={this.state.DetailsNewsListItemState}/&gt;;\n          case \"Announcements\":\n            return &lt;ListMarqueeSelection itemState={this.state.DetailsAnnouncementListItemState}/&gt;;\n          case \"Directory\":\n            return &lt;ListMarqueeSelection itemState={this.state.DetailsDirectoryListItemState}/&gt;;\n          default:\n            return undefined;\n      }  \n  }\n</code></pre>\n\n<blockquote>\n  <p>Cannot find name 'ListMarqueeSelection'. Did you mean the instance\n  member 'this.ListMarqueeSelection'?</p>\n</blockquote>\n"}, {"tags": ["datetime", "typescript", "dynamics-crm", "crm", "xrmquery"], "answers": [{"tags": [], "owner": {"reputation": 5597, "user_id": 439761, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/720f3d96612655d4181d7cb93dda5e01?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik H", "link": "https://stackoverflow.com/users/439761/henrik-h"}, "is_accepted": false, "score": 3, "last_activity_date": 1507794564, "creation_date": 1507794564, "answer_id": 46704193, "question_id": 46691202, "link": "https://stackoverflow.com/questions/46691202/xrmquery-update-update-crm-date-field/46704193#46704193", "title": "xrmquery.update -&gt; update crm date field", "body": "<p>It looks like you have found a bug in relation to updating <em>Date and Time</em> fields in CRM through XrmQuery. </p>\n\n<p>I have created an issue for us to follow up on this: \n<a href=\"https://github.com/delegateas/XrmDefinitelyTyped/issues/29\" rel=\"nofollow noreferrer\">XrmQuery: Debug sending dates to CRM</a></p>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 1439549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8e25aae155d398327c1836fb0272a2f?s=128&d=identicon&r=PG", "display_name": "Magesoe", "link": "https://stackoverflow.com/users/1439549/magesoe"}, "is_accepted": false, "score": 3, "last_activity_date": 1507814885, "creation_date": 1507814885, "answer_id": 46710882, "question_id": 46691202, "link": "https://stackoverflow.com/questions/46691202/xrmquery-update-update-crm-date-field/46710882#46710882", "title": "xrmquery.update -&gt; update crm date field", "body": "<p>This issue has now been fixed in version 2.3.7</p>\n\n<p><a href=\"https://www.nuget.org/packages/Delegate.XrmDefinitelyTyped/\" rel=\"nofollow noreferrer\">https://www.nuget.org/packages/Delegate.XrmDefinitelyTyped/</a></p>\n"}], "owner": {"reputation": 87, "user_id": 2191138, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9ec043b8ac2688a2ccebe032ea7aa655?s=128&d=identicon&r=PG", "display_name": "Batsman", "link": "https://stackoverflow.com/users/2191138/batsman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1508278281, "creation_date": 1507733021, "last_edit_date": 1508278281, "question_id": 46691202, "link": "https://stackoverflow.com/questions/46691202/xrmquery-update-update-crm-date-field", "title": "xrmquery.update -&gt; update crm date field", "body": "<p>I'm writing a custom typescript page for a scan module.\nWhen a code is scanned a datetime field on a CRM record needs to be updated.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>XrmQuery.update(x =&gt; x.cgk_bonuses,\n            this.bonusId(),\n            { cgk_datescan: new Date() }) \n            .execute(id =&gt; { });\n</code></pre>\n\n<p>Does anyone know what I'm doing wrong for updating a datetime field?\nUpdate other fields works fine.</p>\n"}, {"tags": ["json", "angular", "typescript"], "comments": [{"owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507731326, "post_id": 46690400, "comment_id": 80328803, "body": "did u tried <code>this.nodes = data.json()</code> ?"}, {"owner": {"reputation": 233, "user_id": 8582143, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6feb1540dca79b4128307e40d606822b?s=128&d=identicon&r=PG&f=1", "display_name": "eli", "link": "https://stackoverflow.com/users/8582143/eli"}, "reply_to_user": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507731445, "post_id": 46690400, "comment_id": 80328901, "body": "@Med_Ali_Rachid yes , I tried it, but it doesn&#39;t work"}, {"owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507731581, "post_id": 46690400, "comment_id": 80329002, "body": "try to log <code>data</code> =&gt; <code>console.log(data)</code> , it shows the json ? @eli"}, {"owner": {"reputation": 233, "user_id": 8582143, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6feb1540dca79b4128307e40d606822b?s=128&d=identicon&r=PG&f=1", "display_name": "eli", "link": "https://stackoverflow.com/users/8582143/eli"}, "reply_to_user": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507731660, "post_id": 46690400, "comment_id": 80329062, "body": "@Med_Ali_Rachid yes, I ge the json in console"}, {"owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507731744, "post_id": 46690400, "comment_id": 80329137, "body": "what&#39;s the nature of the JSON is it an array, an object.. ? can u edit the post and show a screenshot of ur json"}, {"owner": {"reputation": 233, "user_id": 8582143, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6feb1540dca79b4128307e40d606822b?s=128&d=identicon&r=PG&f=1", "display_name": "eli", "link": "https://stackoverflow.com/users/8582143/eli"}, "reply_to_user": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507731836, "post_id": 46690400, "comment_id": 80329206, "body": "@Med_Ali_Rachid I updated the question"}, {"owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507731961, "post_id": 46690400, "comment_id": 80329302, "body": "u can&#39;t use the *ngFor to fetch an object .. usually we use it with arrays , here u can show your object directly like that : <code>&lt;p&gt;{{nodes.id}}&lt;&#47;p&gt;</code>"}, {"owner": {"reputation": 233, "user_id": 8582143, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6feb1540dca79b4128307e40d606822b?s=128&d=identicon&r=PG&f=1", "display_name": "eli", "link": "https://stackoverflow.com/users/8582143/eli"}, "reply_to_user": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507732048, "post_id": 46690400, "comment_id": 80329363, "body": "@Med_Ali_Rachid If I do that , I get : <code>Cannot read property &#39;id&#39; of undefined</code>"}, {"owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507732229, "post_id": 46690400, "comment_id": 80329507, "body": "since we are getting data in an asynchrounous way using subscribing ,the nodes is <code>undefined</code> at beginning , i think the solution is simply like that : <code>&lt;p&gt;{{nodes?.id}}&lt;&#47;p&gt;</code> (we added ? to test if nodes is not <code>undefined</code> )"}, {"owner": {"reputation": 233, "user_id": 8582143, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6feb1540dca79b4128307e40d606822b?s=128&d=identicon&r=PG&f=1", "display_name": "eli", "link": "https://stackoverflow.com/users/8582143/eli"}, "reply_to_user": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507732412, "post_id": 46690400, "comment_id": 80329636, "body": "@Med_Ali_Rachid I did that and I don&#39;t get any errors , but the data is not displaying"}, {"owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507732618, "post_id": 46690400, "comment_id": 80329771, "body": "so weird ! what if u do just this <code>&lt;p&gt;{{nodes}}&lt;&#47;p&gt;</code> ?  can you create a simple demo in plunker ?"}, {"owner": {"reputation": 233, "user_id": 8582143, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6feb1540dca79b4128307e40d606822b?s=128&d=identicon&r=PG&f=1", "display_name": "eli", "link": "https://stackoverflow.com/users/8582143/eli"}, "reply_to_user": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507732799, "post_id": 46690400, "comment_id": 80329873, "body": "@Med_Ali_Rachid your solution is fine, I had incorrectly written <code>{{nodes.description}}</code> instead of <code>{{node.name}}</code> at the template and that&#39;s why nothing was being displayed"}, {"owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507732968, "post_id": 46690400, "comment_id": 80330011, "body": "should i posted as an answer for ur question now ? (<code>&lt;p&gt;{{nodes?.id}}&lt;&#47;p&gt;</code> that worked fine , is it ? )"}, {"owner": {"reputation": 233, "user_id": 8582143, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6feb1540dca79b4128307e40d606822b?s=128&d=identicon&r=PG&f=1", "display_name": "eli", "link": "https://stackoverflow.com/users/8582143/eli"}, "reply_to_user": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507733017, "post_id": 46690400, "comment_id": 80330046, "body": "@Med_Ali_Rachid it works fine even without the <code>?</code>"}, {"owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1507733294, "post_id": 46690400, "comment_id": 80330227, "body": "Okey , I posted the answer in which i explain the cause of your problem :)"}], "answers": [{"comments": [{"owner": {"reputation": 233, "user_id": 8582143, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6feb1540dca79b4128307e40d606822b?s=128&d=identicon&r=PG&f=1", "display_name": "eli", "link": "https://stackoverflow.com/users/8582143/eli"}, "edited": false, "score": 0, "creation_date": 1507732946, "post_id": 46690935, "comment_id": 80329988, "body": "What if I had two or more JSON objects ?"}, {"owner": {"reputation": 13256, "user_id": 184245, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b6dc653a95b8e1359e7e08381fc3866e?s=128&d=identicon&r=PG", "display_name": "tilo", "link": "https://stackoverflow.com/users/184245/tilo"}, "reply_to_user": {"reputation": 233, "user_id": 8582143, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6feb1540dca79b4128307e40d606822b?s=128&d=identicon&r=PG&f=1", "display_name": "eli", "link": "https://stackoverflow.com/users/8582143/eli"}, "edited": false, "score": 0, "creation_date": 1507733066, "post_id": 46690935, "comment_id": 80330092, "body": "If it had (ie, your file contains an array), then you could use <code>ngFor</code>."}], "tags": [], "owner": {"reputation": 13256, "user_id": 184245, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b6dc653a95b8e1359e7e08381fc3866e?s=128&d=identicon&r=PG", "display_name": "tilo", "link": "https://stackoverflow.com/users/184245/tilo"}, "is_accepted": false, "score": 1, "last_activity_date": 1507732306, "creation_date": 1507732306, "answer_id": 46690935, "question_id": 46690400, "link": "https://stackoverflow.com/questions/46690400/how-to-display-json-web-response-in-angular-template/46690935#46690935", "title": "How to display json web response in angular template?", "body": "<p>First of all, your JSON is an object, not an array. Therefore, you can't use <code>ngFor</code>. As your object doesn't have a <code>description</code> property (but a <code>name</code>), you may display the name (make sure that nodes has been set) using this template:</p>\n\n<pre><code>&lt;p *ngIf=\"nodes\"&gt;{{ nodes.name }}&lt;/p&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "is_accepted": true, "score": 1, "last_activity_date": 1507733238, "creation_date": 1507733238, "answer_id": 46691281, "question_id": 46690400, "link": "https://stackoverflow.com/questions/46690400/how-to-display-json-web-response-in-angular-template/46691281#46691281", "title": "How to display json web response in angular template?", "body": "<p>After our investigations in comments the solution :</p>\n\n<ul>\n<li><code>*ngFor</code> shouldn't be used there since his JSON is an object not an array </li>\n</ul>\n\n<p>so the solution is simply : </p>\n\n<pre><code>&lt;p&gt; id : {{nodes.id}}&lt;/p&gt;\n&lt;p&gt; name : {{nodes.name}}&lt;/p&gt;\n&lt;p&gt; link : {{nodes.link}}&lt;/p&gt;\n</code></pre>\n"}], "owner": {"reputation": 233, "user_id": 8582143, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6feb1540dca79b4128307e40d606822b?s=128&d=identicon&r=PG&f=1", "display_name": "eli", "link": "https://stackoverflow.com/users/8582143/eli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 1, "accepted_answer_id": 46691281, "answer_count": 2, "score": 0, "last_activity_date": 1507733238, "creation_date": 1507730956, "last_edit_date": 1507732074, "question_id": 46690400, "link": "https://stackoverflow.com/questions/46690400/how-to-display-json-web-response-in-angular-template", "title": "How to display json web response in angular template?", "body": "<p>I am trying to display some JSON data that comes as HTTP web response, but it's not working.</p>\n\n<p>Below is my http request:</p>\n\n<pre><code>nodes: any;\n\nngOnInit(): void {\n    // Make the HTTP request:\n    this.http.get('/assets/TEST.json').subscribe(data =&gt; {\n        // Read the result field from the JSON response.\n        this.nodes=data;\n    });\n}\n</code></pre>\n\n<p>And this is the template:</p>\n\n<pre><code>&lt;div *ngFor=\"let node of nodes\"&gt;\n    &lt;p&gt;{{node.description}}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is my json data:</p>\n\n<pre><code>{\n    \"id\": 1,\n    \"name\": \"root1\",\n    \"link\": \"/login\"\n}\n</code></pre>\n\n<p>This the error I get in console:</p>\n\n<blockquote>\n  <p>Cannot find a differ supporting object '[object Object]' of type 'root1' where root1 is a component different from the one where the request is made.</p>\n</blockquote>\n"}, {"tags": ["json", "angular", "typescript", "angular-material2"], "answers": [{"tags": [], "owner": {"reputation": 362, "user_id": 2893542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cfa8ab288e40d7afc5b921ff3087bee?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2893542/john-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1508465342, "creation_date": 1508465342, "answer_id": 46841400, "question_id": 46690001, "link": "https://stackoverflow.com/questions/46690001/how-to-pass-dynamic-attribute-parameter-to-opendialog/46841400#46841400", "title": "How to pass dynamic attribute/parameter to openDialog?", "body": "<p>I just did something similar, though I'm a little bit confused by how you name the components (seems should be the other way around). <br> \nYou can try: fetch the data (user) first and then (actually) open the dialog in your controlling component:\n<br></p>\n\n<p><strong>edit-dialog.component.ts:</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>openDialog(id: string) {\n  this.loginService.getSingleUser(id)\n    .subscribe(user=&gt; {\n      const dialogRef = this.dialog.open(EditUserComponent, {\n        data: user\n      });\n\n      dialogRef.afterClosed().subscribe(result =&gt; {\n        console.log(`Dialog result: ${result}`);\n      });\n    });\n}\n</code></pre>\n\n<p>You can then access the dialog data (user) to render the dialog view:</p>\n\n<p><strong>edit-user.component.ts:</strong></p>\n\n<pre><code>ngOnInit() { \n  console.log(this.data);\n}\n</code></pre>\n\n<p>In this way, you can pass the id dynamically:\n</p>\n\n<pre><code>&lt;i class=\"material-icons\" (click)=\"openDialog(id)\"&gt;create&lt;/i&gt;\n</code></pre>\n\n<p>where the <code>id</code> can be a member of your controlling component.</p>\n"}], "owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 289, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1508465342, "creation_date": 1507729917, "last_edit_date": 1507734044, "question_id": 46690001, "link": "https://stackoverflow.com/questions/46690001/how-to-pass-dynamic-attribute-parameter-to-opendialog", "title": "How to pass dynamic attribute/parameter to openDialog?", "body": "<p>I need to pass the following ID: <code>59dc921ffedff606449abef5</code> dynamically to <code>MatDialog</code>. For testing proposes I'am using it as hard coded ID.</p>\n\n<p>Unfortunately all my searches and tries failed and I can't get the id dynamically into the function call. I tried also the <code>@input</code> feature, but it didn't help.</p>\n\n<p><strong><code>edit-dilog.component.ts</code></strong>:</p>\n\n<pre><code>export class EditDialogComponent implements OnInit {\ndialogResult:string = '';\nconstructor(public dialog:MatDialog, public loginService:LoginService ){ }\nngOnInit() {}\nopenDialog() {\n    this.dialog.open(EditUserComponent, { data: '59dc921ffedff606449abef5' })\n    .afterClosed()\n    .subscribe(result =&gt; this.dialogResult = result);\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong><code>edit-user.component.ts</code></strong>:</p>\n\n<pre><code>export class EditUserComponent implements OnInit {\n    public message:any [];\n    public resData: {};\n    constructor(public thisDialogRef: MatDialogRef&lt;EditUserComponent&gt;, \n                  @Inject(MAT_DIALOG_DATA) public data: number, \n                  public loginService: LoginService) { }\n      ngOnInit() {\n          this.loginService.getSingleUser(this.data)\n          .subscribe(data =&gt; {\n              this.resData = JSON.stringify(data);\n          })\n      }\n      onCloseConfirm() {\n          this.thisDialogRef.close('Confirm');\n      }\n      onCloseCancel() {\n          this.thisDialogRef.close('Cancel');\n      }\n}\n</code></pre>\n\n<p>The ID is coming from JSON Response in a service <strong>login-service.ts</strong>:</p>\n\n<pre><code>getSingleUser(id) {\n    return this.http.get(environment.urlSingleUsers + '/' + id, this.options)\n    .map(res =&gt; {\n        console.log('RES: ' + JSON.stringify( res.json() ) );\n        return res.json();\n    }).catch( ( error: any) =&gt; Observable.throw(error.json().error || 'Server error') );\n}\n\nextractData(result:Response):DialogUserData[] {\n    return result.json().message.map(issue =&gt; {\n        return {\n            ID: issue._id,\n            Email: issue.email,\n            Name: issue.fullName\n        }\n    });\n}\n</code></pre>\n\n<p>And here is where I do the call of <code>openDialog()</code>:</p>\n\n<pre><code>&lt;i class=\"material-icons\" (click)=\"openDialog()\"&gt;create&lt;/i&gt;\n</code></pre>\n\n<p>For more clarification here is how the JSON Response comes:</p>\n\n<pre><code>\"message\": [\n  {\n    \"_id\": \"59415f148911240fc812d393\",\n    \"email\": \"jane.doe@foo.de\",\n    \"fullName\": \"Jane Doe\",\n    \"__v\": 0,\n    \"created\": \"2017-06-14T16:06:44.457Z\"\n  },\n  {\n    \"_id\": \"5943b80be8b8b605686a67fb\",\n    \"email\": \"john.doe@foo.de\",\n    \"fullName\": \"John Doe\",\n    \"__v\": 0,\n    \"created\": \"2017-06-16T10:50:51.180Z\"\n  }\n]\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "angular2-template"], "answers": [{"tags": [], "owner": {"reputation": 96, "user_id": 8766150, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9mZaRecRyN0/AAAAAAAAAAI/AAAAAAAAACM/uGMyD_svb3w/photo.jpg?sz=128", "display_name": "Ivar Kallej&#228;rv", "link": "https://stackoverflow.com/users/8766150/ivar-kallej%c3%a4rv"}, "is_accepted": true, "score": 1, "last_activity_date": 1520608063, "creation_date": 1520608063, "answer_id": 49196649, "question_id": 46689840, "link": "https://stackoverflow.com/questions/46689840/tooltip-not-working-inside-a-tag-with-ngfor-attribute/49196649#49196649", "title": "Tooltip not working inside a tag with ngFor attribute", "body": "<p>I had a similar problem, here's an excerpt from <a href=\"https://github.com/angular/material2/issues/10039\" rel=\"nofollow noreferrer\">this</a> Github issue, that details what is wrong with the way you get your data for your *ngFor.</p>\n\n<hr>\n\n<p>Calling a function from the template is not a good practice and this is an example of why this recommendation exists.</p>\n\n<p>When the tooltip is fired in the first case, it starts an angular detection cycle, which in turn calls items() again and it tries to show the tooltip again and it starts another angular detection cycle and it goes on and on and on repeatedly.</p>\n\n<p>At first, the recommendation exists to avoid performance issues, but it has other consequences like in your case.</p>\n\n<p>If you put a console.log in items(), you'll see it keeps being called again and again...</p>\n\n<p>If calling a function is mandatory, use a pipe instead.</p>\n\n<hr>\n\n<p>So, in your code, if you used a pipe or an observable or array of some sort, then your tooltip would work, but currently it just keeps calling the function.</p>\n"}, {"tags": [], "owner": {"reputation": 1401, "user_id": 1385272, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LAPQQ.jpg?s=128&g=1", "display_name": "RooksStrife", "link": "https://stackoverflow.com/users/1385272/rooksstrife"}, "is_accepted": false, "score": 1, "last_activity_date": 1548360710, "creation_date": 1548360710, "answer_id": 54354607, "question_id": 46689840, "link": "https://stackoverflow.com/questions/46689840/tooltip-not-working-inside-a-tag-with-ngfor-attribute/54354607#54354607", "title": "Tooltip not working inside a tag with ngFor attribute", "body": "<p>This worked for me - add data-toggle=\"tooltip\" to the html tag - aka the tooltip.</p>\n\n<p>Then target the tooltip via the body $('body').tooltip({selector: '[data-toggle=\"tooltip\"]'});</p>\n"}], "owner": {"reputation": 833, "user_id": 2214751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/28f136c3e0b61b2eef4ee3ee1bac7858?s=128&d=identicon&r=PG", "display_name": "Juan Vega", "link": "https://stackoverflow.com/users/2214751/juan-vega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1506, "favorite_count": 0, "accepted_answer_id": 49196649, "answer_count": 2, "score": 0, "last_activity_date": 1548360710, "creation_date": 1507729457, "last_edit_date": 1507897438, "question_id": 46689840, "link": "https://stackoverflow.com/questions/46689840/tooltip-not-working-inside-a-tag-with-ngfor-attribute", "title": "Tooltip not working inside a tag with ngFor attribute", "body": "<p>Could someone explain to me why the tooltip in this piece of code using Angular 4 templates doesn't work?</p>\n\n<pre><code>&lt;template ngFor let-channel [ngForOf]=\"channels\"&gt;\n  &lt;td&gt;\n    &lt;em *ngFor=\"let color of findBallsColor()\" class=\"fa fa-circle {{ color }}\" [tooltip]=\"id\"&gt;&lt;/em&gt;\n  &lt;/td&gt;\n&lt;/template&gt;\n&lt;ng-template #id&gt;\n  test\n&lt;/ng-template&gt;\n</code></pre>\n\n<p>If I remove the <code>*ngFor</code> inside the <code>&lt;em&gt;</code> tag it works fine (showing just one element obviously). I'm quite new to Angular so probably I'm missing some understanding of how it really works here.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I found out the problem comes from the type returned from the Typescript function. In the code above, the list returned by <code>findBallsColor()</code> is actually an object that contains 4 fields. When I change it to just return a string it works. So the code looks similar to this:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;template ngFor let-channel [ngForOf]=\"channels\"&gt;\n  &lt;td&gt;\n    &lt;em *ngFor=\"let color of findBallsColor()\" class=\"fa fa-circle {{ status.color }}\" [tooltip]=\"id\"&gt;&lt;/em&gt;\n  &lt;/td&gt;\n&lt;/template&gt;\n&lt;ng-template #id&gt;\n  test\n&lt;/ng-template&gt;\n</code></pre>\n\n<p>TS:</p>\n\n<pre><code>findBallsColor():any[] {\n  return [{\"statut\":\"ERROR\",\"name\":\"name\",\"otherField\":\"value\",\"anotherField\":\"value\"}];\n}\n</code></pre>\n\n<p>Does anyone know the why of this behaviour?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 29178, "user_id": 206720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/394087ac877df47e3b54f03fe97df063?s=128&d=identicon&r=PG", "display_name": "Ondrej Slint&#225;k", "link": "https://stackoverflow.com/users/206720/ondrej-slint%c3%a1k"}, "edited": false, "score": 0, "creation_date": 1520018625, "post_id": 46689926, "comment_id": 85157806, "body": "Alternatively, if you need only sets from <code>es6</code> lib you can use <code>es2015.collection</code> instead."}], "tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": true, "score": 5, "last_activity_date": 1507729701, "creation_date": 1507729701, "answer_id": 46689926, "question_id": 46689487, "link": "https://stackoverflow.com/questions/46689487/set-only-refers-to-a-type-but-is-being-used-as-a-value-here-ts2693/46689926#46689926", "title": "&#39;Set&#39; only refers to a type, but is being used as a value here. (TS2693)", "body": "<p><code>Set</code> was added as part of ES6. If you are targetting ES5 or lower, you will get this error.</p>\n\n<p>You can fix this by either upgrading your target to <code>es6</code> in <code>tsconfig.json</code>:</p>\n\n<pre><code>\"compilerOptions\": {\n    \"target\": \"es6\",\n    // ...\n}\n</code></pre>\n\n<p>Or if you don't want to change your target, but you want your code to compile add <code>es6</code> to your <code>lib</code> options:</p>\n\n<pre><code>\"compilerOptions\": {\n    \"lib\": [\"es6\"],\n    // ...\n}\n</code></pre>\n\n<p>Do note that with this approach if the runtime environment does not support the <code>Set</code> class, then it will throw a runtime error.</p>\n"}], "owner": {"reputation": 529, "user_id": 4962361, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fc2f88372400539730425d63d8da624c?s=128&d=identicon&r=PG&f=1", "display_name": "kalpa", "link": "https://stackoverflow.com/users/4962361/kalpa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4467, "favorite_count": 0, "accepted_answer_id": 46689926, "answer_count": 1, "score": 4, "last_activity_date": 1507729701, "creation_date": 1507728530, "question_id": 46689487, "link": "https://stackoverflow.com/questions/46689487/set-only-refers-to-a-type-but-is-being-used-as-a-value-here-ts2693", "title": "&#39;Set&#39; only refers to a type, but is being used as a value here. (TS2693)", "body": "<p>Consider the following code for checking if array has duplicates.</p>\n\n<pre><code>let arr: number[] = [1,2,3,1];\n\nfunction hasDuplicates (arr: number[]): boolean {\n  return new Set(arr).size !== arr.length;\n}\n</code></pre>\n\n<p>But here I encounter typescript compiler error</p>\n\n<pre><code>'Set' only refers to a type, but is being used as a value here. (TS2693)\n</code></pre>\n\n<p>Any suggestions ?</p>\n"}, {"tags": ["reactjs", "typescript", "material-ui"], "answers": [{"comments": [{"owner": {"reputation": 1798, "user_id": 457056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04508bb89d3b21194b8db953d218b992?s=128&d=identicon&r=PG", "display_name": "wcandillon", "link": "https://stackoverflow.com/users/457056/wcandillon"}, "edited": false, "score": 0, "creation_date": 1507730143, "post_id": 46689654, "comment_id": 80327929, "body": "Thank you! Really appreciate it \u2764\ufe0f"}], "tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": true, "score": 6, "last_activity_date": 1507728990, "creation_date": 1507728990, "answer_id": 46689654, "question_id": 46689442, "link": "https://stackoverflow.com/questions/46689442/what-is-the-event-type-of-input-element-in-material-ui-v1/46689654#46689654", "title": "What is the event type of Input element in material-ui v1?", "body": "<p>Use <code>React.ChangeEvent&lt;HTMLInputElement&gt;</code>:</p>\n\n<pre><code>setNumberOfTickets(event: React.ChangeEvent&lt;HTMLInputElement&gt;) {\n\n    // Assuming `this._numberOfTickets` is a string. If not you have to parse it as a number\n    this._numberOfTickets = event.target.value; \n}\n</code></pre>\n"}], "owner": {"reputation": 1798, "user_id": 457056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04508bb89d3b21194b8db953d218b992?s=128&d=identicon&r=PG", "display_name": "wcandillon", "link": "https://stackoverflow.com/users/457056/wcandillon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 894, "favorite_count": 0, "accepted_answer_id": 46689654, "answer_count": 1, "score": 2, "last_activity_date": 1507728990, "creation_date": 1507728407, "question_id": 46689442, "link": "https://stackoverflow.com/questions/46689442/what-is-the-event-type-of-input-element-in-material-ui-v1", "title": "What is the event type of Input element in material-ui v1?", "body": "<p>I'm using material-ui v1 and I'm struggling to find the event type for input elements. Considering the code snippet below:</p>\n\n<pre><code>&lt;Select value={this.numberOfTickets} onChange={this.setNumberOfTickets}&gt;\n....\n</code></pre>\n\n<p>And the following <code>setNumberOfTickets</code> implementation:</p>\n\n<pre><code>@autobind @action\nsetNumberOfTickets(event: React.SyntheticEvent&lt;HTMLElement&gt;) {\n    // tslint:disable-next-line\n    this._numberOfTickets = (event.target as any).value;\n}\n</code></pre>\n\n<p>What is the correct type for <code>event</code> that would allow me to remove the <code>as any</code> cast?</p>\n"}, {"tags": ["node.js", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1054, "user_id": 1777162, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ac2a25ebc59fcf4600c5fb0f579de66f?s=128&d=identicon&r=PG", "display_name": "Alicia", "link": "https://stackoverflow.com/users/1777162/alicia"}, "edited": false, "score": 1, "creation_date": 1507841614, "post_id": 46692528, "comment_id": 80383833, "body": "<code>@types&#47;node</code> was what I was missing, after installing that importing <code>fs</code> and using node builtins just works. :) I also found the <code>ts-node</code> package helpful: it has a slightly slower startup than plain <code>node</code>, but in case of error you get a useful traceback (with references to <code>.ts</code> files, not <code>.js</code> ones), plus there is no need to run <code>tsc</code> to execute the code that way."}], "tags": [], "owner": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "is_accepted": true, "score": 0, "last_activity_date": 1507759156, "last_edit_date": 1507759156, "creation_date": 1507736807, "answer_id": 46692528, "question_id": 46689296, "link": "https://stackoverflow.com/questions/46689296/how-to-create-a-simple-hello-world-node-js-typescript-project-with-es6-modules/46692528#46692528", "title": "How to create a simple (Hello World) node.js TypeScript project with ES6 modules?", "body": "<p>If you are to run a typescript project with node you need to have at least node, npm and typescript installed on your plateform. </p>\n\n<p><strong>Using an IDE to setup the project</strong></p>\n\n<p>Using intelliJ IDEA or Webstorm (they are the ones I know the best), the compilation of typescript into javascript is done automatically; you only need to do some settings.</p>\n\n<p>Let us assume you have a file called project.ts containing your hello world code; IDEA or Webstorm will compile your code to project.js. Then you will only need to do <code>node project.js</code> to run your project.</p>\n\n<p><strong>Doing everything from scratch</strong></p>\n\n<p>First you need to know where exactly your npm packages are installed globally. This command can help you identify the path: <code>npm config get prefix</code>. In this folder, you should have a <code>nodes_modules</code> subfolder that contains the typescript module. If there is no typescript module, that is because you did not install typescript globally (<code>npm install -g typescript</code>). </p>\n\n<p>Then you have to add the path of the <code>bin of typescript subfolder</code> in your environment variable. </p>\n\n<p>Now you can compile the project with typescipt: <code>tsc project.ts</code> and you can run it <code>node project.js</code>.</p>\n\n<p><em>Since you are using node function like <code>fs</code> you will need to install node typings <code>npm install @types/node --save-dev</code> before compiling with <code>tsc</code>.</em></p>\n\n<p><strong>Compilation option</strong></p>\n\n<p>To enable or disable all strict type checking options, you might need to use compilation option. You have to create the file in which you will specify the compilation option: <code>tsc --init</code> will create a <code>tsconfig.json</code> in which you can specify what behaviour you would like to have during the compilation of your app. All options are listed <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 1054, "user_id": 1777162, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ac2a25ebc59fcf4600c5fb0f579de66f?s=128&d=identicon&r=PG", "display_name": "Alicia", "link": "https://stackoverflow.com/users/1777162/alicia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 765, "favorite_count": 1, "accepted_answer_id": 46692528, "answer_count": 1, "score": 2, "last_activity_date": 1507808822, "creation_date": 1507727988, "last_edit_date": 1507808822, "question_id": 46689296, "link": "https://stackoverflow.com/questions/46689296/how-to-create-a-simple-hello-world-node-js-typescript-project-with-es6-modules", "title": "How to create a simple (Hello World) node.js TypeScript project with ES6 modules?", "body": "<p>Imagine a very simple program with a main file and some functions in a separate file, using ES6 modules and intended to be run with node.js.</p>\n\n<p>my-utils.ts:</p>\n\n<pre><code>import * as fs from \"fs\";\n\nexport function readSimpleFile() {\n    return fs.fileReadSync(\"hello.txt\", \"utf-8\");\n}\n</code></pre>\n\n<p>main.ts:</p>\n\n<pre><code>import {readSimpleFile} from \"./my-utils\"\n\nconsole.log(readSimpleFile());\n</code></pre>\n\n<p>What is the minimum set of files I need to add to the project and commands I have to run to get it building, running and checking types?</p>\n"}, {"tags": ["angular", "typescript", "httpclient", "internet-explorer-11", "polyfills"], "comments": [{"owner": {"reputation": 109, "user_id": 10267017, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-L2IPdPgW_Zc/AAAAAAAAAAI/AAAAAAAAABE/tR5IbQq_IBk/photo.jpg?sz=128", "display_name": "luis alberto juarez", "link": "https://stackoverflow.com/users/10267017/luis-alberto-juarez"}, "edited": false, "score": 0, "creation_date": 1605227631, "post_id": 46689204, "comment_id": 114594284, "body": "have you fixed it? i have the same problem"}], "answers": [{"tags": [], "owner": {"reputation": 1118, "user_id": 2347137, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/vy9PI.png?s=128&g=1", "display_name": "Starscream", "link": "https://stackoverflow.com/users/2347137/starscream"}, "is_accepted": false, "score": 0, "last_activity_date": 1518969718, "last_edit_date": 1518969718, "creation_date": 1518796394, "answer_id": 48830392, "question_id": 46689204, "link": "https://stackoverflow.com/questions/46689204/polyfills-issues-with-internet-explorer-11-and-angular-httpclient-post/48830392#48830392", "title": "polyfills issues with Internet explorer 11 and angular HttpClient post", "body": "<p>Not 100% sure that I understood what you asked. It looks like a problem many angular users are having with IE. This problem is that http requests actually go through but are seen as errors by angular because it cannot parse the server response (but you talk about 500s ? If you actually get 500 Internal Server Errors then it's most likely a problem with your backend)</p>\n\n<p>If you don't get 500s but a behaviour suck as described above, this appears to be a bug on <em>IE11</em> (and maybe others) with angular 4+. It looks like HttpClient cannot parse empty 200 responses.</p>\n\n<p>Bug is tracked on the <a href=\"https://github.com/angular/angular/issues/18680\" rel=\"nofollow noreferrer\">angular repo</a>.</p>\n\n<p>Although it was fixed in <strong>angular 5.2.4</strong>, if you can't or won't update, multiple workaround seem to work:</p>\n\n<ul>\n<li>One possibility is to change your server to return <code>204 No Content</code> instead of <em>200</em> when the response body is empty</li>\n<li>Another possible workaround is to use an HTTP interceptor to do the work <a href=\"https://github.com/angular/angular/issues/18680\" rel=\"nofollow noreferrer\">as compeek suggested</a>.</li>\n</ul>\n\n<p>This is my solution:</p>\n\n<pre><code>@Injectable()\nexport class EmptyResponseBodyInterceptor implements HttpInterceptor {\nintercept(req: HttpRequest &lt; any &gt; , next: HttpHandler): Observable &lt; HttpEvent &lt; any &gt;&gt; {\n    req = req.clone({\n        responseType: 'text'\n    });\n\n    return next.handle(req)\n        .map((res) =&gt; {\n            if (res instanceof HttpResponse) {\n                if (res.body === 'OK') {\n                    res.clone({\n                        body: null\n                    });\n                } else {\n                    res = res.clone &lt; any &gt; ({\n                        body: res.body !== '' ? JSON.parse(res.body) : null\n                    });\n                }\n            }\n\n            return res;\n        });\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 87, "user_id": 3652948, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fweBA.jpg?s=128&g=1", "display_name": "Riekard", "link": "https://stackoverflow.com/users/3652948/riekard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2472, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1518969718, "creation_date": 1507727698, "question_id": 46689204, "link": "https://stackoverflow.com/questions/46689204/polyfills-issues-with-internet-explorer-11-and-angular-httpclient-post", "title": "polyfills issues with Internet explorer 11 and angular HttpClient post", "body": "<p>I'm having trouble getting my angular 4 application to work in IE 11 with the new httpclient post. This problem is only related to IE11 and is working fine in chrome.</p>\n\n<p>I keep getting the error Invalid character.\n<a href=\"https://i.stack.imgur.com/EaYW6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EaYW6.png\" alt=\"enter image description here\"></a></p>\n\n<p>From what I can see that differs is the post body that I send to the server. In the chrome browser it is formatted like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WvR7Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WvR7Q.png\" alt=\"enter image description here\"></a></p>\n\n<p>And in IE11 the same object is looking like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/XuuEV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XuuEV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can these Symbol properties mess up the object so that it wont be accepted on the server? If i dont parse the error message with an interceptor I just get Internal server error(500).</p>\n\n<p>This is the object that I specify to send in the body:</p>\n\n<p>let body =<br/>{<br/>\n                FromDate: form.fromDepDate,//Date <br/>\n                ToDate: form.toDepDate, //Date<br/>\n                UserIds: userIds //string array <br/>\n            };</p>\n"}, {"tags": ["typescript", "tsconfig"], "answers": [{"tags": [], "owner": {"reputation": 445, "user_id": 2208632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45937099f7500e657071e6b0e1803f96?s=128&d=identicon&r=PG", "display_name": "Patrik Forsberg", "link": "https://stackoverflow.com/users/2208632/patrik-forsberg"}, "is_accepted": true, "score": 2, "last_activity_date": 1515968625, "creation_date": 1515968625, "answer_id": 48254770, "question_id": 46689117, "link": "https://stackoverflow.com/questions/46689117/baseurl-of-tsconfig-json-does-not-work/48254770#48254770", "title": "baseUrl of tsconfig.json does not work", "body": "<p>The problem here is that the TypeScript compiler does not update the path in your JS files and the JavaScript Engine knows nothing about your TypeScript config, what you specify in your tsconfig is only used \"compile time\", when you have compiled your TypeScript into JS you need to do the same job as the TS compiler did but to save the resolved path in the JS file.</p>\n\n<p>Simply put, all JS files needs to be processed and the aliases replaced with \"real\" paths.</p>\n\n<p>People often suggest WebPack which is a monster, there are a really simple tool called <strong>tspath</strong> which your run in your project directory, it will read your tsconfig.json and update the JS source files accordingly!</p>\n\n<p>Install tspath an npm tool for resolving ts paths NOTE: tspath requires a very recent versison of node!</p>\n\n<pre><code>npm install -g tspath\n</code></pre>\n\n<p>After you have run the TypeScript compiler, from your project directory, run:</p>\n\n<pre><code>tspath\n</code></pre>\n\n<p>or</p>\n\n<pre><code>tspath -f\n</code></pre>\n\n<p>to skip the prompt!</p>\n\n<p>Read more at: <a href=\"https://www.npmjs.com/package/tspath\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/tspath</a></p>\n"}], "owner": {"reputation": 53, "user_id": 8758938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/133dcb690873596a0ab799b3224ad8b5?s=128&d=identicon&r=PG&f=1", "display_name": "PengJu.Duan", "link": "https://stackoverflow.com/users/8758938/pengju-duan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4431, "favorite_count": 1, "accepted_answer_id": 48254770, "answer_count": 1, "score": 5, "last_activity_date": 1517132381, "creation_date": 1507727460, "last_edit_date": 1507927902, "question_id": 46689117, "link": "https://stackoverflow.com/questions/46689117/baseurl-of-tsconfig-json-does-not-work", "title": "baseUrl of tsconfig.json does not work", "body": "<p>my project structure is\nsrc/\n  client/\n  modules/\n  server/\n    app.ts</p>\n\n<hr>\n\n<pre><code>src/\n  client/\n  modules/\n    DB/\n  server/\n    app.ts\ntsconfig.json\n</code></pre>\n\n<p>i import a module using non-relative import in app.ts file</p>\n\n<pre><code>import * as DB from '@modules/DB';\n</code></pre>\n\n<p>because i do not want using <code>from \"../modules/DB\"</code></p>\n\n<p>and my tsconfig.json is</p>\n\n<pre><code>{\n\"compileOnSave\": true,\n\"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"target\": \"ES6\",\n    \"noImplicitAny\": true,\n    \"sourceMap\": true,\n    \"preserveConstEnums\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": true,\n    \"traceResolution\": true,\n    \"rootDir\": \"./src\",\n    \"outDir\": \"./dist\",\n    \"declaration\": true,\n    \"typeRoots\": [\n        \"/\"\n    ],\n    \"baseUrl\": \"./src\",\n    \"paths\": {\n        \"@modules/*\": [\n            \"modules/*\"\n        ]\n    }\n},\n\"exclude\": [\n    \"src/client/\"\n]\n</code></pre>\n\n<p>}</p>\n\n<p>when i trace the resolution, got this</p>\n\n<pre><code>======== Module name '@modules/DB' was successfully resolved to '/Users/pengju/projects/pomelo-ts-starter/src/modules/DB/index.ts'. ========\n</code></pre>\n\n<p>it seems to successfuly import</p>\n\n<p>but when compiled, vscode still got wrong with </p>\n\n<pre><code>[ts] Cannot find module '@modules/DB'. \n</code></pre>\n\n<p>at  <code>import * as DB from '@modules/DB';</code> in app.ts</p>\n\n<p>then i check compiled app.js,\nfind <code>const DB = require(\"@modules/DB\");</code></p>\n\n<p>the baseUrl and paths options, cannot change the \"@modules/DB\" to \"../modules/DB\"? then,what does they do ?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 78907, "user_id": 107660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0167bade38130f13a5fc468c10388d9d?s=128&d=identicon&r=PG", "display_name": "Duncan", "link": "https://stackoverflow.com/users/107660/duncan"}, "edited": false, "score": 0, "creation_date": 1507727984, "post_id": 46689081, "comment_id": 80326242, "body": "The <code>itemOne</code> attribute does not have a <code>sibject</code> attribute, it has one called <code>subject</code>."}, {"owner": {"reputation": 6891, "user_id": 3859456, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0dbf7bc0c83ae7971af6f41ebf7c7330?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan002", "link": "https://stackoverflow.com/users/3859456/jonathan002"}, "reply_to_user": {"reputation": 78907, "user_id": 107660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0167bade38130f13a5fc468c10388d9d?s=128&d=identicon&r=PG", "display_name": "Duncan", "link": "https://stackoverflow.com/users/107660/duncan"}, "edited": false, "score": 0, "creation_date": 1507728234, "post_id": 46689081, "comment_id": 80326418, "body": "Sorry for the typo, I&#39;ve updated it. I&#39;ve tested it though with the right spelling. : )"}], "answers": [{"comments": [{"owner": {"reputation": 6891, "user_id": 3859456, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0dbf7bc0c83ae7971af6f41ebf7c7330?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan002", "link": "https://stackoverflow.com/users/3859456/jonathan002"}, "edited": false, "score": 0, "creation_date": 1507729418, "post_id": 46689388, "comment_id": 80327346, "body": "Ok thanks for the answer. Just want to double check if I understand this. So because under the hood, at the point when the class property is being initialized with this value, it technically has not yet have a set reference to be used/referred to. So I can only get the reference this.objectLiteral at a later time in my code. (e.g. setTimeout or I guess the constructor (since it worked there)"}, {"owner": {"reputation": 78907, "user_id": 107660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0167bade38130f13a5fc468c10388d9d?s=128&d=identicon&r=PG", "display_name": "Duncan", "link": "https://stackoverflow.com/users/107660/duncan"}, "reply_to_user": {"reputation": 6891, "user_id": 3859456, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0dbf7bc0c83ae7971af6f41ebf7c7330?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan002", "link": "https://stackoverflow.com/users/3859456/jonathan002"}, "edited": false, "score": 0, "creation_date": 1507729654, "post_id": 46689388, "comment_id": 80327530, "body": "Yes, you got it. Any assignment will fully evaluate the right hand side before it actually does the assignment, so if you reference the left hand side in the expression you get the old value which in this case is <code>undefined</code>. A simpler example of this is <code>x = x + 1</code> where the <code>x</code> on the right hand side refers to the old value of <code>x</code>."}, {"owner": {"reputation": 6891, "user_id": 3859456, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0dbf7bc0c83ae7971af6f41ebf7c7330?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan002", "link": "https://stackoverflow.com/users/3859456/jonathan002"}, "edited": false, "score": 0, "creation_date": 1507729952, "post_id": 46689388, "comment_id": 80327771, "body": "Thanks for this man. Really helped with this explanation. : )"}], "tags": [], "owner": {"reputation": 78907, "user_id": 107660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0167bade38130f13a5fc468c10388d9d?s=128&d=identicon&r=PG", "display_name": "Duncan", "link": "https://stackoverflow.com/users/107660/duncan"}, "is_accepted": true, "score": 0, "last_activity_date": 1507728223, "creation_date": 1507728223, "answer_id": 46689388, "question_id": 46689081, "link": "https://stackoverflow.com/questions/46689081/why-can-my-class-references-only-go-up-to-a-first-shallow-level-when-using-this/46689388#46689388", "title": "Why can my class references only go up to a first shallow level when using &#39;this&#39;?", "body": "<p>The problem is that at the point when the object to be assigned to <code>objectLiteral</code> is being constructed, <code>this.objectLiteral</code> itself is not set to anything. Take the fact you are initialising a class property out of the equation and consider just using ordinary variables:</p>\n\n<pre><code>  let objectLiteral = {\n    itemOne: {\n      subject: new Subject&lt;any&gt;(),\n      observable: objectLiteral.itemOne.subject.asObservable(), // Still won't work! `objectLiteral` not yet set\n    }\n  };\n</code></pre>\n\n<p>You cannot reference the value assigned to <code>objectLiteral</code> until after you have assigned it.</p>\n\n<p>The second part may look as though it works, but I think you'll find it is using the value <code>undefined</code>:</p>\n\n<pre><code>  workingReference: this.objectLiteral // undefined! /\n</code></pre>\n"}], "owner": {"reputation": 6891, "user_id": 3859456, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0dbf7bc0c83ae7971af6f41ebf7c7330?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan002", "link": "https://stackoverflow.com/users/3859456/jonathan002"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19, "favorite_count": 0, "accepted_answer_id": 46689388, "answer_count": 1, "score": 0, "last_activity_date": 1507728223, "creation_date": 1507727375, "last_edit_date": 1507728148, "question_id": 46689081, "link": "https://stackoverflow.com/questions/46689081/why-can-my-class-references-only-go-up-to-a-first-shallow-level-when-using-this", "title": "Why can my class references only go up to a first shallow level when using &#39;this&#39;?", "body": "<p>I have a class and I'm in a situation where I'm trying to initialize a property with reference's to itself to create an observable. I'm not allowed to do this though as I can only get a shallow reference of the property and can't go deeper.</p>\n\n<p>e.g.</p>\n\n<pre><code>class MyClass {\n  public objectLiteral = {\n    itemOne: {\n      subject: new Subject&lt;any&gt;(),\n      observable: this.objectLiteral.itemOne.subject.asObservable(), // Does not work (which is what I'm hoping to achieve)\n    },\n    itemTwo: {\n      workingReference: this.objectLiteral // This works though.. : /\n    }\n  };\n}\n</code></pre>\n\n<p>Main Questions:<br>\n1. Why can't I go deeper than <code>this.objectLiteral</code> inside the objectLiteral ?<br>\n2. If possible: How can I initialize the class to create an observable like this?</p>\n\n<p>Things to note:<br>\nI have been able to successfully add this in a loop at the constructor, but am really curious about point 1. Why can't I have a deeper reference?</p>\n"}, {"tags": ["javascript", "angular", "typescript", ".d.ts"], "comments": [{"owner": {"reputation": 111, "user_id": 7945532, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/13060d7fae629b98eada9cb26683bd32?s=128&d=identicon&r=PG&f=1", "display_name": "UghThatGUyAgain", "link": "https://stackoverflow.com/users/7945532/ughthatguyagain"}, "edited": false, "score": 0, "creation_date": 1507727367, "post_id": 46689021, "comment_id": 80325705, "body": "You understand that TypeScript transpiles to JavaScript, correct? Your d.ts is still going to be converted to d.js."}, {"owner": {"reputation": 69, "user_id": 2462756, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d3f330e866f9189bfc7e2f84dfdb0e02?s=128&d=identicon&r=PG", "display_name": "djdelarue", "link": "https://stackoverflow.com/users/2462756/djdelarue"}, "reply_to_user": {"reputation": 111, "user_id": 7945532, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/13060d7fae629b98eada9cb26683bd32?s=128&d=identicon&r=PG&f=1", "display_name": "UghThatGUyAgain", "link": "https://stackoverflow.com/users/7945532/ughthatguyagain"}, "edited": false, "score": 0, "creation_date": 1507727497, "post_id": 46689021, "comment_id": 80325826, "body": "Yeah but i need to have this d.ts and my problem is i don&#39;t find the correct syntax"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 2462756, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d3f330e866f9189bfc7e2f84dfdb0e02?s=128&d=identicon&r=PG", "display_name": "djdelarue", "link": "https://stackoverflow.com/users/2462756/djdelarue"}, "edited": false, "score": 0, "creation_date": 1507728394, "post_id": 46689188, "comment_id": 80326539, "body": "I import my d.ts file like this : /// &lt;reference path=&quot;../mynamespace.d.ts&quot;/&gt;  and import {Omswebrtc} from &#39;../mynamespace&#39;; unfornatally i have this error : mynamespace.d.ts&#39; is not a module."}], "tags": [], "owner": {"reputation": 744, "user_id": 6779132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c84aeba0b54dc545dff6b0adf6c9ca02?s=128&d=identicon&r=PG&f=1", "display_name": "Mat&#250;\u0161 Z&#225;bojn&#237;k", "link": "https://stackoverflow.com/users/6779132/mat%c3%ba%c5%a1-z%c3%a1bojn%c3%adk"}, "is_accepted": false, "score": 0, "last_activity_date": 1507727659, "creation_date": 1507727659, "answer_id": 46689188, "question_id": 46689021, "link": "https://stackoverflow.com/questions/46689021/use-js-file-with-angular-d-ts-file/46689188#46689188", "title": "Use js file with angular (d.ts file)", "body": "<p>Have you tried this?</p>\n\n<pre><code>export namespace MyNameSpace {\n   let usersSpeak: any;\n   let idSpeaker: number;\n   let remoteStreams: any;\n   function updateUser(id: number, value: string);\n   function stop(type: string, id: number);\n}\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 2462756, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d3f330e866f9189bfc7e2f84dfdb0e02?s=128&d=identicon&r=PG", "display_name": "djdelarue", "link": "https://stackoverflow.com/users/2462756/djdelarue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 258, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507727659, "creation_date": 1507727188, "last_edit_date": 1507727294, "question_id": 46689021, "link": "https://stackoverflow.com/questions/46689021/use-js-file-with-angular-d-ts-file", "title": "Use js file with angular (d.ts file)", "body": "<p>I try since yesterday to write a correct d.ts file in order to use my personal js file into angular.io</p>\n\n<p>This is a piece of my js file :</p>\n\n<pre><code>let usersSpeak = {};\nlet remoteStreams = [];\nlet idSpeaker;\nfunction updateUser(id, value) {\n   //do something\n}\n\nfunction stop(type, id) {\n    //do something\n}\n</code></pre>\n\n<p>For the moment my d.ts file looks like this :</p>\n\n<pre><code>declare namespace MyNamespace {\n   let usersSpeak: any;\n   let idSpeaker: number;\n   let remoteStreams: any;\n   function updateUser(id: number, value: string);\n   function stop(type: string, id: number);\n}\n</code></pre>\n\n<p>I know this can't work because i create a namespace MyNamespace which doesn't exist on my js.file but i tried a lot of things and nothing work...\nI succeed with this on my ts file directly :</p>\n\n<pre><code>declare let usersSpeak: any;\ndeclare let idSpeaker: any;\ndeclare let remoteStreams: any;\ndeclare let updateUser: any;\ndeclare let stop: any;\n</code></pre>\n\n<p>But that's not what i want, i really want a d.ts file </p>\n\n<p>Do you have any idea ?</p>\n"}, {"tags": ["reactjs", "typescript", "design-patterns"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1507729565, "last_edit_date": 1592644375, "creation_date": 1507729565, "answer_id": 46689879, "question_id": 46688667, "link": "https://stackoverflow.com/questions/46688667/argument-of-type-status-string-detailsannouncementlistitemstate-items-i/46689879#46689879", "title": "Argument of type &#39;{ status: string; DetailsAnnouncementListItemState: { items: IListItem[]; columns: undefined", "body": "<p>In what follows I am only going to talk about <code>IAnnouncementListItem</code> but you can use the same analysis for each of your subtypes.</p>\n<hr />\n<p>The error is correctly telling you that the compiler has no way to verify that <code>factory.getItems()</code> returns an array of <code>IAnnouncementListItem</code>.  As you said, <code>IAnnouncementListItem</code> <em>extends</em> <code>IListItem</code>, which means that every <code>IAnnouncementListItem</code> is an <code>IListItem</code>, but <em>not every <code>IListItem</code> is an <code>IAnnouncementListItem</code></em>.  So it is warning you that you are doing something unsafe by treating an array of <code>IListItem</code> as an array of <code>IAnnouncementListItem</code>.</p>\n<p>There are multiple ways to deal with it:</p>\n<hr />\n<h2>Type Assertions</h2>\n<p>One is to just tell the compiler that you know what you're doing and that it shouldn't worry, by asserting that the return value of <code>factory.getItems()</code> is the right type.</p>\n<pre><code>let announcementlistItems  = factory.getItems(\n  this.props.spHttpClient, this.props.siteUrl, this.props.listName\n) as IAnnouncementListItem[];  \n</code></pre>\n<p>This silences the compiler, but you lose the benefit of the compiler's type checking.</p>\n<hr />\n<h2>Runtime type guards</h2>\n<p>Another way is to take the result from <code>getItems()</code> and perform a runtime check to see if the return value is actually an array of <code>IAnnouncementListItem[]</code>.  Here's an example:</p>\n<pre><code>function isArrayOfIAnnouncementListItem(arr: IListItem[]): arr is IAnnouncementListItem[] {\n  return arr.every(listItem =&gt; 'announcementBody' in listItem);\n}\n</code></pre>\n<p>And then</p>\n<pre><code>let announcementlistItems  = factory.getItems(\n  this.props.spHttpClient, this.props.siteUrl, this.props.listName\n);\nif (!isArrayOfIAnnouncementListItem(announcementListItems)) {\n  throw new Error(&quot;Wrong Type or Something&quot;);\n}\n// now announcementListItems is known to be IAnnouncementListItem[]\n</code></pre>\n<p>This will make the compiler happy.  It's safer than a bare assertion, but you're still doing runtime checks.  If someone else implemented <code>getItems()</code>, this might be the best you could do.  But since <em>you're</em> implementing it, you can actually make <code>getItems()</code> itself safer:</p>\n<hr />\n<h2>Overload signature</h2>\n<p>Probably the best way to deal with it is to change the signature of <code>getItems()</code> so that it knows that the <code>listName</code> parameter affects the output type.  This can be done using <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#overloads\" rel=\"nofollow noreferrer\">overloads</a>:</p>\n<pre><code>// overloads\ngetItems(requester: SPHttpClient, siteUrl: string, listName: &quot;Announcements&quot;): IAnnouncementListItem[];\n// put other overloads for each allowable type here\n\n// implementation\ngetItems(requester: SPHttpClient, siteUrl: string, listName: string): IListItem[] | null; { // .. implementation\n</code></pre>\n<p>(You can get this behavior with generics instead of overloads if you want; more info available upon request)</p>\n<p>Now when you call <code>getItems()</code> you will be restricted to using a <code>listName</code> from the set of acceptable values, and the return type will be narrowed for you.</p>\n<hr />\n<p>So, you can do any of those if you want.  Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 46689879, "answer_count": 1, "score": 0, "last_activity_date": 1507729565, "creation_date": 1507726287, "question_id": 46688667, "link": "https://stackoverflow.com/questions/46688667/argument-of-type-status-string-detailsannouncementlistitemstate-items-i", "title": "Argument of type &#39;{ status: string; DetailsAnnouncementListItemState: { items: IListItem[]; columns: undefined", "body": "<p>I have the following error, and below I will try to explain what I am trying to accomplish:</p>\n\n<pre><code>[ts]\nArgument of type '{ status: string; DetailsAnnouncementListItemState: { items: IListItem[]; columns: undefined[]; }...' is not assignable to parameter of type 'Pick&lt;IFactoryMethodState, \"status\" | \"DetailsAnnouncementListItemState\"&gt;'.\n  Types of property 'DetailsAnnouncementListItemState' are incompatible.\n    Type '{ items: IListItem[]; columns: undefined[]; }' is not assignable to type 'IDetailsAnnouncementListItemState'.\n      Types of property 'items' are incompatible.\n        Type 'IListItem[]' is not assignable to type 'IAnnouncementListItem[]'.\n          Type 'IListItem' is not assignable to type 'IAnnouncementListItem'.\n            Property 'announcementBody' is missing in type 'IListItem'.\n</code></pre>\n\n<p>I have a base interface and extended interfaces that represent list items in sharepoint depending on the list, a normal list has id, title, createdby, createddate, etc, other lists inherit the same fields, but add additional fields, so my design is like this:</p>\n\n<pre><code>export  interface IListItem {\n    [key: string]: any;\n    id: string;\n    title: string;\n    modified: Date;\n    created: Date;\n    modifiedby: string;\n    createdby: string;    \n}\n\n\nimport {IListItem} from './IListItem';\n\nexport interface  INewsListItem extends IListItem {\n    newsheader: string;\n    newsbody: string;\n    expiryDate: Date;\n}\n\nimport {IListItem} from './IListItem';\n\nexport interface IDirectoryListItem extends IListItem {\n        firstName: string;\n        lastName: string;\n        mobileNumber: string;\n        internalNumber: string;  \n}\n\nimport {IListItem} from './IListItem';\n\nexport interface  IAnnouncementListItem extends IListItem {\n    announcementBody: string;\n    expiryDate: Date;  \n}\n</code></pre>\n\n<p>Now, I have a factory method design pattern like this:</p>\n\n<pre><code>import { IListItem } from './models/IListItem';\nimport { SPHttpClient, SPHttpClientResponse } from '@microsoft/sp-http';\nexport  interface IFactory{\n    getItems(requester: SPHttpClient, siteUrl: string, listName: string): IListItem[];\n}\n\nimport { SPHttpClient, SPHttpClientResponse } from '@microsoft/sp-http';\nimport { IWebPartContext } from '@microsoft/sp-webpart-base';\nimport { IListItem} from './models/IListItem';\nimport { IFactory } from './IFactory';\nimport { INewsListItem } from './models/INewsListItem';\nimport { IDirectoryListItem } from './models/IDirectoryListItem';\nimport { IAnnouncementListItem } from './models/IAnnouncementListItem';\n\nexport class ListItemFactory implements IFactory{   \n    getItems(requester: SPHttpClient, siteUrl: string, listName: string): IListItem[] {\n        switch(listName) {\n            case 'List':\n                let items: IListItem[];\n                requester.get(`${siteUrl}/_api/web/lists/getbytitle('${listName}')/items?$select=Title,Id`,\n                SPHttpClient.configurations.v1,\n                {\n                    headers: {\n                    'Accept': 'application/json;odata=nometadata',\n                    'odata-version': ''\n                    }\n                })\n                .then((response: SPHttpClientResponse): Promise&lt;{ value: IListItem[] }&gt; =&gt; {\n                    return response.json();\n                })\n                .then((response: { value: IListItem[] }): void =&gt; {\n                    items= response.value;\n                });\n                return items;\n            case 'News':\n                let newsitems: INewsListItem[];\n                requester.get(`${siteUrl}/_api/web/lists/getbytitle('${listName}')/items?$select=Title,Id`,\n                SPHttpClient.configurations.v1,\n                {\n                    headers: {\n                    'Accept': 'application/json;odata=nometadata',\n                    'odata-version': ''\n                    }\n                })\n                .then((response: SPHttpClientResponse): Promise&lt;{ value: INewsListItem[] }&gt; =&gt; {\n                    return response.json();\n                })\n                .then((response: { value: INewsListItem[] }): void =&gt; {\n                    newsitems= response.value;\n                });\n                return newsitems;\n            case 'Announcements':\n                let announcementitems: IAnnouncementListItem[];\n                requester.get(`${siteUrl}/_api/web/lists/getbytitle('${listName}')/items?$select=Title,Id`,\n                SPHttpClient.configurations.v1,\n                {\n                    headers: {\n                    'Accept': 'application/json;odata=nometadata',\n                    'odata-version': ''\n                    }\n                })\n                .then((response: SPHttpClientResponse): Promise&lt;{ value: IAnnouncementListItem[] }&gt; =&gt; {\n                    return response.json();\n                })\n                .then((response: { value: IAnnouncementListItem[] }): void =&gt; {\n                    announcementitems= response.value;\n                });\n                return announcementitems;\n            case 'Directory':\n                let directoryitems: IDirectoryListItem[];\n                requester.get(`${siteUrl}/_api/web/lists/getbytitle('${listName}')/items?$select=Title,Id`,\n                SPHttpClient.configurations.v1,\n                {\n                    headers: {\n                    'Accept': 'application/json;odata=nometadata',\n                    'odata-version': ''\n                    }\n                })\n                .then((response: SPHttpClientResponse): Promise&lt;{ value: IDirectoryListItem[] }&gt; =&gt; {\n                    return response.json();\n                })\n                .then((response: { value: IDirectoryListItem[] }): void =&gt; {\n                    items= response.value;\n                });\n                return directoryitems;\n            default:\n                return null;\n        }\n      }\n} \n</code></pre>\n\n<p>so far so god, however on my react component when I try to use it:</p>\n\n<pre><code> private readItems(): void {\n    this.setState({\n      status: 'Loading all items...'\n    });\n    let factory = new  ListItemFactory();\n\n    //Here its where we actually use the pattern to make our coding easier.\n    switch(this.props.listName)\n    {\n      case \"List\":\n        let listItems  = factory.getItems(this.props.spHttpClient, this.props.siteUrl, this.props.listName);  \n        this.setState({\n          status: `Successfully loaded ${listItems.length} items`,\n          DetailsListItemState : {\n            items: listItems,\n            columns: [\n            ]\n          }\n        });      \n        break;\n      case \"Announcements\":\n        let announcementlistItems  = factory.getItems(this.props.spHttpClient, this.props.siteUrl, this.props.listName);  \n        this.setState({\n          status: `Successfully loaded ${listItems.length} items`,\n          DetailsAnnouncementListItemState : {\n            items: announcementlistItems,\n            columns: []\n          }\n        });          \n        break;\n      case \"News\":\n        let newsFactory = new  NewsListItemFactory();\n        let newsListItems  = newsFactory._getItems(this.props.spHttpClient, this.props.siteUrl, this.props.listName);  \n        this.setState({\n          status: `Successfully loaded ${listItems.length} items`,\n          DetailsNewsListItemState : {\n            items: newsListItems,\n            columns: []\n          }\n        });      \n        break;\n      case \"Directory\":\n        let directoryFactory = new  DirectoryListItemFactory();\n        let directoryListItems  = directoryFactory._getItems(this.props.spHttpClient, this.props.siteUrl, this.props.listName);  \n        this.setState({\n          status: `Successfully loaded ${listItems.length} items`,\n          DetailsDirectoryListItemState : {\n            items: directoryListItems,\n            columns: []\n          }\n        });   \n        break;\n      default : \n        break;\n    }    \n  }\n</code></pre>\n\n<p>This is the place where I get the exception, the first switch case works fine, the second one doesnt, and I understand whats happening, getitems return ListItem[], but I am trying to assign the value to an AnnouncementListItem[]</p>\n\n<p>However I am not sure how to fix it, as you could see the newslisitem extends ListItem, and I want to make this solution as generic as possible</p>\n\n<p>Update, </p>\n\n<p>Forgot this file</p>\n\n<pre><code>import { IListItem } from './models/IListItem';\nimport { INewsListItem } from './models/INewsListItem';\nimport { IDirectoryListItem } from './models/IDirectoryListItem';\nimport { IAnnouncementListItem } from './models/IAnnouncementListItem';\nimport {\n  IColumn\n} from 'office-ui-fabric-react/lib/DetailsList';\n\nexport interface IFactoryMethodState{\n  type: string;\n  status: string;\n  DetailsListItemState: IDetailsListItemState;\n  DetailsNewsListItemState: IDetailsNewsListItemState;\n  DetailsDirectoryListItemState : IDetailsDirectoryListItemState;\n  DetailsAnnouncementListItemState : IDetailsAnnouncementListItemState;\n}\n\nexport interface IDetailsListItemState {\n  columns: IColumn[];\n  items: IListItem[];\n}\n\nexport interface IDetailsNewsListItemState {\n  columns: IColumn[];\n  items: INewsListItem[];\n}\n\nexport interface IDetailsDirectoryListItemState {\n  columns: IColumn[];\n  items: IDirectoryListItem[];\n}\n\nexport interface IDetailsAnnouncementListItemState {\n  columns: IColumn[];\n  items: IAnnouncementListItem[];\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 11449, "user_id": 6525724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CZEkk.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/6525724/nick"}, "edited": false, "score": 0, "creation_date": 1508157059, "post_id": 46688600, "comment_id": 80486065, "body": "Did you ever get this to work?"}], "owner": {"reputation": 39249, "user_id": 361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/932a90d841204bed64a5165e591c5332?s=128&d=identicon&r=PG", "display_name": "stimms", "link": "https://stackoverflow.com/users/361/stimms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1507733711, "creation_date": 1507726095, "last_edit_date": 1507733711, "question_id": 46688600, "link": "https://stackoverflow.com/questions/46688600/extending-module-when-entire-module-imported", "title": "Extending module when entire module imported", "body": "<p>I'm trying to extend the <code>d3</code> library with a new function in typescript but I'm running into a problem with figuring out the syntax. d3 is shipped as a collection of functions which are exported meaning you import it  as </p>\n\n<pre><code>import * as d3 from 'd3';\n</code></pre>\n\n<p>I've tried extending it as I would a static</p>\n\n<pre><code>import * as d3 from 'd3';\n\n\nfunction contextMenuFn() {\n    console.log('hey, I'm a context menu!');\n}\n\nd3.contextMenu = contextMenuFn;\n\ndeclare module 'd3' {\n    namespace d3 {\n        export let contextMenu: typeof contextMenuFn;\n    }\n}\n</code></pre>\n\n<p>However, the compiler rejects that as contextMenu doesn't exist on d3. What's the right syntax here?</p>\n\n<p><strong>Update</strong>: I also tried </p>\n\n<pre><code>import * as d3 from 'd3';\n\nfunction contextMenuFn() {\n    console.log('hey, context menu!');\n}\n\nd3.contextMenu = contextMenuFn;\n\ndeclare module 'd3' {\n    export let contextMenu: typeof contextMenuFn;\n}\n</code></pre>\n\n<p>but that reported \"Cannot assign to 'contextMenu' because it is constant or read-only property\"</p>\n"}, {"tags": ["reactjs", "typescript", "design-patterns"], "answers": [{"tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": true, "score": 1, "last_activity_date": 1507725055, "creation_date": 1507725055, "answer_id": 46688295, "question_id": 46688031, "link": "https://stackoverflow.com/questions/46688031/class-listitemfactory-incorrectly-implements-interface-ifactory-types-of-pr/46688295#46688295", "title": "Class &#39;ListItemFactory&#39; incorrectly implements interface &#39;IFactory&#39;. Types of property &#39;getItems&#39; are incompatible", "body": "<p>In your <code>IFactory</code> interface the signature for <code>getItems</code> is: <code>getItems(): IListItem[]</code>, but in your implementation, the signature is <code>getItems(requester: SPHttpClient, siteUrl: string, listName: string): IListItem[]</code> which do not match because of the extra parameters in the implementation. Change your <code>IFactory</code> interface to include these parameters:</p>\n\n<pre><code>export interface IFactory {\n    getItems(requester: string, siteUrl: string, listName: string): IListItem[]\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3097, "user_id": 4602928, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c04e59afdb86716b6221ed89dd3c26f1?s=128&d=identicon&r=PG&f=1", "display_name": "Wainage", "link": "https://stackoverflow.com/users/4602928/wainage"}, "is_accepted": false, "score": 0, "last_activity_date": 1507725225, "creation_date": 1507725225, "answer_id": 46688338, "question_id": 46688031, "link": "https://stackoverflow.com/questions/46688031/class-listitemfactory-incorrectly-implements-interface-ifactory-types-of-pr/46688338#46688338", "title": "Class &#39;ListItemFactory&#39; incorrectly implements interface &#39;IFactory&#39;. Types of property &#39;getItems&#39; are incompatible", "body": "<p>Your <code>getItem</code> signatures don't match. Try</p>\n\n<pre><code>export  interface IFactory{\n    getItems(requester: SPHttpClient, siteUrl: string, listName: string): IListItem[]\n}\n</code></pre>\n"}], "owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 46688295, "answer_count": 2, "score": 0, "last_activity_date": 1507725225, "creation_date": 1507724285, "question_id": 46688031, "link": "https://stackoverflow.com/questions/46688031/class-listitemfactory-incorrectly-implements-interface-ifactory-types-of-pr", "title": "Class &#39;ListItemFactory&#39; incorrectly implements interface &#39;IFactory&#39;. Types of property &#39;getItems&#39; are incompatible", "body": "<p>I am having the following error:</p>\n\n<blockquote>\n  <p>[ts]\n      Class 'ListItemFactory' incorrectly implements interface 'IFactory'.\n        Types of property 'getItems' are incompatible.\n          Type '(requester: SPHttpClient, siteUrl: string, listName: string) => IListItem[]' is not assignable to type '() => IListItem[]'</p>\n</blockquote>\n\n<p>I am trying to implement a simple factory method design pattern, the relevant code is like this:</p>\n\n<pre><code>export  interface IListItem {\n    [key: string]: any;\n    id: string;\n    title: string;\n    modified: Date;\n    created: Date;\n    modifiedby: string;\n    createdby: string;    \n}\n\nimport {IListItem} from './IListItem';\n\nexport interface IDirectoryListItem extends IListItem {\n        firstName: string;\n        lastName: string;\n        mobileNumber: string;\n        internalNumber: string;  \n}\n\nimport {IListItem} from './IListItem';\n\nexport interface  IAnnouncementListItem extends IListItem {\n    announcementBody: string;\n    expiryDate: Date;  \n}\n\n\nimport {IListItem} from './IListItem';\n\nexport interface  INewsListItem extends IListItem {\n    newsheader: string;\n    newsbody: string;\n    expiryDate: Date;\n}\n\nimport { IListItem } from './models/IListItem';\n\nexport  interface IFactory{\n    getItems(): IListItem[]\n}\n\nimport { SPHttpClient, SPHttpClientResponse } from '@microsoft/sp-http';\nimport { IWebPartContext } from '@microsoft/sp-webpart-base';\nimport { IListItem} from './models/IListItem';\nimport { IFactory } from './IFactory';\nimport { INewsListItem } from './models/INewsListItem';\nimport { IDirectoryListItem } from './models/IDirectoryListItem';\nimport { IAnnouncementListItem } from './models/IAnnouncementListItem';\n\nexport class ListItemFactory implements IFactory{   \n    getItems(requester: SPHttpClient, siteUrl: string, listName: string): IListItem[] {\n        switch(listName) {\n            case 'List':\n                let items: IListItem[];\n                requester.get(`${siteUrl}/_api/web/lists/getbytitle('${listName}')/items?$select=Title,Id`,\n                SPHttpClient.configurations.v1,\n                {\n                    headers: {\n                    'Accept': 'application/json;odata=nometadata',\n                    'odata-version': ''\n                    }\n                })\n                .then((response: SPHttpClientResponse): Promise&lt;{ value: IListItem[] }&gt; =&gt; {\n                    return response.json();\n                })\n                .then((response: { value: IListItem[] }): void =&gt; {\n                    items= response.value;\n                });\n                return items;\n            case 'News':\n                let newsitems: INewsListItem[];\n                requester.get(`${siteUrl}/_api/web/lists/getbytitle('${listName}')/items?$select=Title,Id`,\n                SPHttpClient.configurations.v1,\n                {\n                    headers: {\n                    'Accept': 'application/json;odata=nometadata',\n                    'odata-version': ''\n                    }\n                })\n                .then((response: SPHttpClientResponse): Promise&lt;{ value: INewsListItem[] }&gt; =&gt; {\n                    return response.json();\n                })\n                .then((response: { value: INewsListItem[] }): void =&gt; {\n                    newsitems= response.value;\n                });\n                return newsitems;\n            case 'Announcements':\n                let announcementitems: IAnnouncementListItem[];\n                requester.get(`${siteUrl}/_api/web/lists/getbytitle('${listName}')/items?$select=Title,Id`,\n                SPHttpClient.configurations.v1,\n                {\n                    headers: {\n                    'Accept': 'application/json;odata=nometadata',\n                    'odata-version': ''\n                    }\n                })\n                .then((response: SPHttpClientResponse): Promise&lt;{ value: IAnnouncementListItem[] }&gt; =&gt; {\n                    return response.json();\n                })\n                .then((response: { value: IAnnouncementListItem[] }): void =&gt; {\n                    announcementitems= response.value;\n                });\n                return announcementitems;\n            case 'Directory':\n                let directoryitems: IDirectoryListItem[];\n                requester.get(`${siteUrl}/_api/web/lists/getbytitle('${listName}')/items?$select=Title,Id`,\n                SPHttpClient.configurations.v1,\n                {\n                    headers: {\n                    'Accept': 'application/json;odata=nometadata',\n                    'odata-version': ''\n                    }\n                })\n                .then((response: SPHttpClientResponse): Promise&lt;{ value: IDirectoryListItem[] }&gt; =&gt; {\n                    return response.json();\n                })\n                .then((response: { value: IDirectoryListItem[] }): void =&gt; {\n                    items= response.value;\n                });\n                return directoryitems;\n            default:\n                return null;\n        }\n      }\n} \n</code></pre>\n\n<p>Error is in the last class ListItemFactory, but dont know why</p>\n"}, {"tags": ["angular", "typescript", "chart.js", "ng2-charts"], "answers": [{"tags": [], "owner": {"reputation": 2071, "user_id": 6100785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Q9qz.jpg?s=128&g=1", "display_name": "Rodris", "link": "https://stackoverflow.com/users/6100785/rodris"}, "is_accepted": false, "score": 0, "last_activity_date": 1507727250, "creation_date": 1507727250, "answer_id": 46689041, "question_id": 46687593, "link": "https://stackoverflow.com/questions/46687593/how-to-pass-dynamic-values-as-objects-inside-data-in-line-chart/46689041#46689041", "title": "How to pass dynamic values as objects inside data in line chart?", "body": "<p>Using the <a href=\"https://stackoverflow.com/a/8888498/6100785\">formatAMPM</a> as a helper, you can make something like:</p>\n\n<pre><code>data = objects.map(item =&gt; { return item.speed; })\nlabels = objects.map(item =&gt; { return formatAMPM(item.fixTime); })\n</code></pre>\n"}], "owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 621, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507727250, "creation_date": 1507722884, "last_edit_date": 1507723494, "question_id": 46687593, "link": "https://stackoverflow.com/questions/46687593/how-to-pass-dynamic-values-as-objects-inside-data-in-line-chart", "title": "How to pass dynamic values as objects inside data in line chart?", "body": "<p>I am using line chart to display the values of time in x-axis and speed of vehicle in y-axis and these both values needs to be come from api. As of now i am using static values like,</p>\n\n<p>playback.component.ts: </p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-play-back',\n  templateUrl: './play-back.component.html'\n})\nexport class PlayBackComponent {\n  // lineChart\n  public lineChartData:Array&lt;any&gt; = [\n    {data: [65, 59, 80, 81, 56, 55], label: 'travelled details'}\n  ];\n  public lineChartLabels:Array&lt;any&gt; = ['12:00 AM', '4:00 AM', '8:00 AM', '12:00 PM', '4:00 PM', '8:00 PM'];\n  public lineChartOptions:any = {\n    responsive: true\n  };\n  public lineChartLegend:boolean = true;\n  public lineChartType:string = 'line'; \n}\n</code></pre>\n\n<p>Instead of this static values in data and label, i have to pass the dynamic values from api which is in the form of objects. Those values are stored in chart details as in the image,</p>\n\n<p><a href=\"https://i.stack.imgur.com/hdRUY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hdRUY.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am passing integer as data values now in static but actually i need to pass the object from api inside the data, from the chart details object fixTime values in x-axis and speed value in y-axis. Kindly help me to solve this.</p>\n"}, {"tags": ["angular", "file", "typescript", "internet-explorer", "download"], "comments": [{"owner": {"reputation": 831, "user_id": 2159907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23f3e67a3c0fd17bfb9bf369b35fd431?s=128&d=identicon&r=PG", "display_name": "Rob Parsons", "link": "https://stackoverflow.com/users/2159907/rob-parsons"}, "edited": false, "score": 0, "creation_date": 1507761610, "post_id": 46687390, "comment_id": 80344839, "body": "IE11 does not support download attribute. Outcomes in IE differ when using the file: protocol. or localhost."}, {"owner": {"reputation": 2204, "user_id": 8744999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5a358087b8a9e7f9ace69d7af8b74700?s=128&d=identicon&r=PG", "display_name": "DonkeyBanana", "link": "https://stackoverflow.com/users/8744999/donkeybanana"}, "reply_to_user": {"reputation": 831, "user_id": 2159907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23f3e67a3c0fd17bfb9bf369b35fd431?s=128&d=identicon&r=PG", "display_name": "Rob Parsons", "link": "https://stackoverflow.com/users/2159907/rob-parsons"}, "edited": false, "score": 0, "creation_date": 1507787834, "post_id": 46687390, "comment_id": 80351808, "body": "And there&#39;s no workaround? I was hoping that it&#39;s possible to achieve <b>somehow</b>. I guess I&#39;m out of luck... Please post it as a reply so it can be (unwillingly) accepted. :)"}], "answers": [{"comments": [{"owner": {"reputation": 2204, "user_id": 8744999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5a358087b8a9e7f9ace69d7af8b74700?s=128&d=identicon&r=PG", "display_name": "DonkeyBanana", "link": "https://stackoverflow.com/users/8744999/donkeybanana"}, "edited": false, "score": 0, "creation_date": 1507973685, "post_id": 46725180, "comment_id": 80432151, "body": "Are you suggesting that the <code>emitFile</code> method should recognize what browser the application is run in and react accordingly? Or is there a way to call the proper version of it based on certain markup?"}, {"owner": {"reputation": 635, "user_id": 8769830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3963ab41bdc0b2f4b1cafafc2bbccb6d?s=128&d=identicon&r=PG&f=1", "display_name": "Romain B.", "link": "https://stackoverflow.com/users/8769830/romain-b"}, "reply_to_user": {"reputation": 2204, "user_id": 8744999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5a358087b8a9e7f9ace69d7af8b74700?s=128&d=identicon&r=PG", "display_name": "DonkeyBanana", "link": "https://stackoverflow.com/users/8744999/donkeybanana"}, "edited": false, "score": 0, "creation_date": 1508160526, "post_id": 46725180, "comment_id": 80488453, "body": "No, this solution will only work on IE and Edge because of the msSaveBlob function. You&#39;ll need to add a condition for FF and Chrome : <code>if(window.navigator.msSaveOrOpenBlob) &#47;&#47;IE &amp; Edge  { }else{&#47;&#47;Chrome &amp; FF} </code>"}], "tags": [], "owner": {"reputation": 635, "user_id": 8769830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3963ab41bdc0b2f4b1cafafc2bbccb6d?s=128&d=identicon&r=PG&f=1", "display_name": "Romain B.", "link": "https://stackoverflow.com/users/8769830/romain-b"}, "is_accepted": true, "score": 12, "last_activity_date": 1533740336, "last_edit_date": 1533740336, "creation_date": 1507881431, "answer_id": 46725180, "question_id": 46687390, "link": "https://stackoverflow.com/questions/46687390/unable-to-serve-a-file-to-download-in-ie-from-angular/46725180#46725180", "title": "Unable to serve a file to download in IE from Angular", "body": "<p>You should try using msSaveBlob() instead of the download attribute.</p>\n\n<pre><code>emitFile(stage: any): void {\n  const blob = new Blob([stage.elaboration], { type: \"text/csv\" });\n  window.navigator.msSaveBlob(blob,\"ff-rocks-ie-sucks.txt\");\n}\n</code></pre>\n\n<p>It should work fine for IE and Edge.</p>\n\n<p>EDIT : \nThe full solution for IE, FF and Chrome would be like that :</p>\n\n<pre><code>emitFile(stage: any): void {\n  const blob = new Blob([stage.elaboration], { type: \"text/csv\" });\n  if(window.navigator.msSaveOrOpenBlob) //IE &amp; Edge\n  {\n    //msSaveBlob only available for IE &amp; Edge\n    window.navigator.msSaveBlob(blob,\"ff-rocks-ie-sucks.txt\");\n  }\n  else //Chrome &amp; FF\n  {\n    const url = window.URL.createObjectURL(blob);\n    const anchor = document.createElement(\"a\");\n    anchor.href = url;\n    anchor.download = \"ff-rocks-ie-sucks.txt\";\n    document.body.appendChild(anchor); //For FF\n    anchor.click();\n    //It's better to remove the elem\n    document.body.removeChild(anchor);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2204, "user_id": 8744999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5a358087b8a9e7f9ace69d7af8b74700?s=128&d=identicon&r=PG", "display_name": "DonkeyBanana", "link": "https://stackoverflow.com/users/8744999/donkeybanana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5370, "favorite_count": 1, "accepted_answer_id": 46725180, "answer_count": 1, "score": 1, "last_activity_date": 1533740336, "creation_date": 1507722228, "question_id": 46687390, "link": "https://stackoverflow.com/questions/46687390/unable-to-serve-a-file-to-download-in-ie-from-angular", "title": "Unable to serve a file to download in IE from Angular", "body": "<p>I'm trying to produce a text file to my users and the code below does the job perfectly well in all browsers except IE and Edge (in the latter, I can't control the file's name but it's at least produced).</p>\n\n<pre><code>emitFile(stage: any): void {\n  const blob = new Blob([stage.elaboration], { type: \"text/csv\" });\n  const url = window.URL.createObjectURL(blob);\n  const anchor = document.createElement(\"a\");\n  anchor.href = url;\n  anchor.download = \"ff-rocks-ie-sucks.txt\";\n  anchor.click();\n}\n</code></pre>\n\n<p>There's <a href=\"https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7260192/\" rel=\"nofollow noreferrer\">an open issue ticket</a> in that regard but it's dated 18 months back and the recent activity is rather un-recent. It seems that it's a place where hopes come to die.</p>\n\n<p>I haven't found any reasonable workarounds. The ones I've seen were either non-working or included a (very wise but infeasible) suggestion to get <em>decent browsers for duck's sake</em>. And I believe it was more of a typo than a bird reference.</p>\n\n<p>What should be done about it?</p>\n"}, {"tags": ["angular", "typescript", "aspnetboilerplate"], "comments": [{"owner": {"reputation": 6318, "user_id": 1767482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf351ad2c1cfa7515edfbea5d13e5626?s=128&d=identicon&r=PG", "display_name": "Alper Ebicoglu", "link": "https://stackoverflow.com/users/1767482/alper-ebicoglu"}, "edited": false, "score": 0, "creation_date": 1507793150, "post_id": 46687110, "comment_id": 80354367, "body": "did you run  &quot;npm run build&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 1352, "user_id": 275011, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/170a59c4e66561fa74ece279c61fa029?s=128&d=identicon&r=PG", "display_name": "Sambo", "link": "https://stackoverflow.com/users/275011/sambo"}, "edited": false, "score": 0, "creation_date": 1560513228, "post_id": 46705124, "comment_id": 99771259, "body": "I was trying to do the same thing - your answer helped very much!"}], "tags": [], "owner": {"reputation": 1163, "user_id": 2859298, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/2fdd8fc9759ef8866046e7a94873965a?s=128&d=identicon&r=PG&f=1", "display_name": "user2859298", "link": "https://stackoverflow.com/users/2859298/user2859298"}, "is_accepted": true, "score": 6, "last_activity_date": 1507797827, "creation_date": 1507797827, "answer_id": 46705124, "question_id": 46687110, "link": "https://stackoverflow.com/questions/46687110/adding-aspnetboilerplate-com-to-existing-angular-project/46705124#46705124", "title": "Adding aspnetboilerplate.com to existing angular project", "body": "<p>I had to create a custom typing file i.e. typings.d.ts and add the following lines.</p>\n\n<pre><code>///&lt;reference path=\"../node_modules/abp-webresources/Abp/Framework/scripts/abp.d.ts\"/&gt;\n///&lt;reference path=\"../node_modules/abp-web-resources/Abp/Framework/scripts/libs/abp.jquery.d.ts\"/&gt;\n///&lt;reference path=\"../node_modules/abp-web-resources/Abp/Framework/scripts/libs/abp.signalr.d.ts\"/&gt;\n</code></pre>\n\n<p>I also added the following into my tsconfig.json file</p>\n\n<pre><code>\"baseUrl\": \".\",\n\"paths\": {\n  \"@abp/*\": [ \"../node_modules/abp-ng2-module/src/*\" ],\n  \"@app/*\": [ \"./app/*\" ],\n  \"@shared/*\": [ \"./shared/*\" ],\n  \"@node_modules/*\": [ \"../node_modules/*\" ]\n}\n</code></pre>\n"}], "owner": {"reputation": 1163, "user_id": 2859298, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/2fdd8fc9759ef8866046e7a94873965a?s=128&d=identicon&r=PG&f=1", "display_name": "user2859298", "link": "https://stackoverflow.com/users/2859298/user2859298"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1144, "favorite_count": 0, "accepted_answer_id": 46705124, "answer_count": 1, "score": 2, "last_activity_date": 1507797827, "creation_date": 1507721312, "question_id": 46687110, "link": "https://stackoverflow.com/questions/46687110/adding-aspnetboilerplate-com-to-existing-angular-project", "title": "Adding aspnetboilerplate.com to existing angular project", "body": "<p>I've created a project using the excellent aspnetboilerplate.com but i am trying to use it with my existing Angular project.</p>\n\n<p>I am trying to setup the authentication features (user logging in, etc).</p>\n\n<p>I've added the following packages to my package.json \"abp-ng2-module\" \"abp-web-resources\".</p>\n\n<p>I've also added the relevant typescript files to my angular application.</p>\n\n<p>When i look at the autogenerated project from aspnetboilerplate.com they are importing the modules like this:</p>\n\n<pre><code>import { PermissionCheckerService } from '@abp/auth/permission-checker.service';\n</code></pre>\n\n<p>However that doesn't work for me and VSCode reports that it can't find the module, i can import it like this :</p>\n\n<pre><code>import { PermissionCheckerService } from \"abp-ng2-module/dist/src/auth/permission-checker.service\";\n</code></pre>\n\n<p>When i try and build and run my app i get the following errors</p>\n\n<pre><code>TS2304: Cannot find name 'abp'.\n</code></pre>\n\n<p>the strange thing is this error show 5 or 6 times and not only relates to my local typescript files but also to the typescript files inside my packages.</p>\n\n<pre><code>ERROR in [at-loader] ./node_modules/abp-ng2-module/dist/src/features/feature-checker.service.d.ts:2:31 \nTS2503: Cannot find namespace 'abp'.\n</code></pre>\n\n<p>It appears to be something around namespaces but i'm not sure why the installed package doesn't even work?</p>\n"}, {"tags": ["node.js", "typescript", "tsc"], "answers": [{"comments": [{"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 0, "creation_date": 1507724890, "post_id": 46688147, "comment_id": 80323874, "body": "after the <code>setx</code> command, I think you have to reopen a new <code>cmd.exe</code> window, if I am not mistaken."}, {"owner": {"reputation": 234, "user_id": 7818210, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e328a75d56a7aa8abcaa0251a980ccb8?s=128&d=identicon&r=PG&f=1", "display_name": "ShwetaJ", "link": "https://stackoverflow.com/users/7818210/shwetaj"}, "edited": false, "score": 0, "creation_date": 1508834349, "post_id": 46688147, "comment_id": 80758352, "body": "I just installed node version 6.11 and everything worked. Not sure what the issue was. Thank you."}, {"owner": {"reputation": 510, "user_id": 3990652, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/ZmBpw.jpg?s=128&g=1", "display_name": "Alex Velickiy", "link": "https://stackoverflow.com/users/3990652/alex-velickiy"}, "edited": false, "score": 3, "creation_date": 1537280605, "post_id": 46688147, "comment_id": 91722253, "body": "I&#39;ve got interesting thing here. I&#39;ve installed typescript globally. Command %AppData%\\npm\\node_modules\\typescript\\bin\\tsc --version says that tsc not found, but when I run %AppData%\\npm\\tsc --version, It works, I get version output. This later directory is in my PATH. Nevertheless, when I try to rum tsc from arbitratry directory I get &#39;command not recognized&#39; error."}], "tags": [], "owner": {"reputation": 529, "user_id": 4962361, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fc2f88372400539730425d63d8da624c?s=128&d=identicon&r=PG&f=1", "display_name": "kalpa", "link": "https://stackoverflow.com/users/4962361/kalpa"}, "is_accepted": false, "score": 3, "last_activity_date": 1507724610, "creation_date": 1507724610, "answer_id": 46688147, "question_id": 46687102, "link": "https://stackoverflow.com/questions/46687102/tsc-is-not-recognized-as-an-internal-or-external-command/46688147#46688147", "title": "tsc is not recognized as an internal or external command", "body": "<p>The problem is likely that <code>tsc</code> is not in the system path.</p>\n\n<p>First, check if <code>tsc</code> is installed correctly. Open <code>cmd.exe</code> and type the following.</p>\n\n<pre><code>%AppData%\\npm\\node_modules\\typescript\\bin\\tsc --version\n</code></pre>\n\n<p>If there is a version log, then <code>tsc</code> is installed successfully.</p>\n\n<p>The next thing is to add it in PATH. Write in <code>cmd.exe</code></p>\n\n<pre><code>setx path \"%path%;%AppData%\\npm\\node_modules\\.bin\\\"\n</code></pre>\n\n<p>This should solve the issue.</p>\n\n<p>However, if the first command did not log the version,</p>\n\n<p>Check the install location using</p>\n\n<pre><code>npm list -g\n</code></pre>\n\n<p>If typescript appears in the output, copy the location to the PATH as</p>\n\n<pre><code>setx path \"%path%;&lt;--the tsc.exe path--&gt;\"\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 234, "user_id": 7818210, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e328a75d56a7aa8abcaa0251a980ccb8?s=128&d=identicon&r=PG&f=1", "display_name": "ShwetaJ", "link": "https://stackoverflow.com/users/7818210/shwetaj"}, "edited": false, "score": 0, "creation_date": 1508834387, "post_id": 46697977, "comment_id": 80758386, "body": "I just installed node version 6.11 and everything worked. Not sure what the issue was. Thank you."}], "tags": [], "owner": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "is_accepted": false, "score": 1, "last_activity_date": 1507757951, "creation_date": 1507757951, "answer_id": 46697977, "question_id": 46687102, "link": "https://stackoverflow.com/questions/46687102/tsc-is-not-recognized-as-an-internal-or-external-command/46697977#46697977", "title": "tsc is not recognized as an internal or external command", "body": "<p>Since you installed it globally and you had no error, I can assume that the installation succeeded. </p>\n\n<p>To be sure, you can run this command <code>npm config get prefix</code>. It will output the path of the folder containing all packages installed globally by npm. I you go to the folder specified by the path, there is a <code>nodes_modules</code> subfolder. It should contain a typescript folder if the installation succeeded. Then copy the <code>path of the bin</code> of the typescript folder in your environment variable. You should label the path <code>tsc</code>.</p>\n\n<p>Then you can use <code>tsc</code> in command line. </p>\n"}, {"tags": [], "owner": {"reputation": 234, "user_id": 7818210, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e328a75d56a7aa8abcaa0251a980ccb8?s=128&d=identicon&r=PG&f=1", "display_name": "ShwetaJ", "link": "https://stackoverflow.com/users/7818210/shwetaj"}, "is_accepted": true, "score": -1, "last_activity_date": 1508846775, "creation_date": 1508846775, "answer_id": 46910162, "question_id": 46687102, "link": "https://stackoverflow.com/questions/46687102/tsc-is-not-recognized-as-an-internal-or-external-command/46910162#46910162", "title": "tsc is not recognized as an internal or external command", "body": "<p>Install node version 6.11 and things work without any changes.</p>\n"}], "owner": {"reputation": 234, "user_id": 7818210, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e328a75d56a7aa8abcaa0251a980ccb8?s=128&d=identicon&r=PG&f=1", "display_name": "ShwetaJ", "link": "https://stackoverflow.com/users/7818210/shwetaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6609, "favorite_count": 0, "accepted_answer_id": 46910162, "answer_count": 3, "score": 3, "last_activity_date": 1508846775, "creation_date": 1507721294, "last_edit_date": 1507723409, "question_id": 46687102, "link": "https://stackoverflow.com/questions/46687102/tsc-is-not-recognized-as-an-internal-or-external-command", "title": "tsc is not recognized as an internal or external command", "body": "<p>I am using node version 6.9.2 with npm version 5.4.2 on Windows7. I have installed typescript with the command <code>npm install typescript -g</code>. </p>\n\n<p>However, when I run a demo file using command, <code>tsc</code>, I get an error: </p>\n\n<pre><code>\"tsc is not recognized as an internal or external command\". \n</code></pre>\n\n<p>Could anybody help? Other node modules get installed correctly and working fine. Not sure why typescript isn't working.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 29842, "user_id": 1641941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q8zet.png?s=128&g=1", "display_name": "HMR", "link": "https://stackoverflow.com/users/1641941/hmr"}, "edited": false, "score": 1, "creation_date": 1507721082, "post_id": 46686958, "comment_id": 80321366, "body": "Does the following work? <code>let ids: number[] = [];</code> and: <code>ids.push(new stuff(i.toString()).getUID());</code>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1507721137, "post_id": 46686958, "comment_id": 80321400, "body": "Why are you not initializing <code>ids</code>?  The compiler is correctly warning you that you are indexing into an undefined value, which will blow up at runtime."}, {"owner": {"reputation": 529, "user_id": 4962361, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fc2f88372400539730425d63d8da624c?s=128&d=identicon&r=PG&f=1", "display_name": "kalpa", "link": "https://stackoverflow.com/users/4962361/kalpa"}, "reply_to_user": {"reputation": 29842, "user_id": 1641941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q8zet.png?s=128&g=1", "display_name": "HMR", "link": "https://stackoverflow.com/users/1641941/hmr"}, "edited": false, "score": 0, "creation_date": 1507722724, "post_id": 46686958, "comment_id": 80322429, "body": "@HMR It does work. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 704, "user_id": 5303776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e8563a3fb854379e0173516b2cdbf35?s=128&d=identicon&r=PG", "display_name": "Motonstron", "link": "https://stackoverflow.com/users/5303776/motonstron"}, "edited": false, "score": 1, "creation_date": 1507721227, "post_id": 46687037, "comment_id": 80321464, "body": "The only thing I would do to this is make ids a const."}], "tags": [], "owner": {"reputation": 11659, "user_id": 259237, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7ac7a283f8d01cf0b64e714e579b7138?s=128&d=identicon&r=PG", "display_name": "Andr&#233;", "link": "https://stackoverflow.com/users/259237/andr%c3%a9"}, "is_accepted": true, "score": 4, "last_activity_date": 1507721120, "creation_date": 1507721120, "answer_id": 46687037, "question_id": 46686958, "link": "https://stackoverflow.com/questions/46686958/a-pattern-where-variable-is-used-before-being-assigned-ts2454-is-not-helpful/46687037#46687037", "title": "A pattern where &quot;Variable is used before being assigned&quot; (TS2454) is not helpful", "body": "<pre><code>let ids: number[] = [];\nfor ( let i = 0; i &lt; 100; i++){\n    ids.push(new stuff(i.toString()).getUID());\n}\n</code></pre>\n"}], "owner": {"reputation": 529, "user_id": 4962361, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fc2f88372400539730425d63d8da624c?s=128&d=identicon&r=PG&f=1", "display_name": "kalpa", "link": "https://stackoverflow.com/users/4962361/kalpa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2040, "favorite_count": 0, "accepted_answer_id": 46687037, "answer_count": 1, "score": 3, "last_activity_date": 1507721120, "creation_date": 1507720852, "question_id": 46686958, "link": "https://stackoverflow.com/questions/46686958/a-pattern-where-variable-is-used-before-being-assigned-ts2454-is-not-helpful", "title": "A pattern where &quot;Variable is used before being assigned&quot; (TS2454) is not helpful", "body": "<p>Consider the following code pattern,</p>\n\n<pre><code>class stuff {\n    public id: string;\n    public uid: number;\n    constructor(parameter: string){\n        this.id = parameter;\n    }\n    public getUID(): number {\n        return Date.now();\n    }\n}\n\nlet ids: number[]; /* 1: Here variable is not assigned */\nfor ( let i = 0; i &lt; 100; i++){\n    ids[i] = new stuff(i.toString()).getUID();\n    /* 2: Here ids[i] is used before initialized */\n}\n</code></pre>\n\n<p>In such a pattern, typescript won't compile with <code>\"strict\": true</code>.</p>\n\n<p>I could do <code>let ids:number[] | undefined</code> but that loses the value of using typescript.</p>\n\n<p>Is there any other pattern with which I can achieve the same behaviour?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "answers": [{"tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": true, "score": 2, "last_activity_date": 1507721280, "last_edit_date": 1507721280, "creation_date": 1507720587, "answer_id": 46686843, "question_id": 46686772, "link": "https://stackoverflow.com/questions/46686772/angular2-caching-practices/46686843#46686843", "title": "Angular2+ caching practices", "body": "<p>You can write it like this:</p>\n\n<pre><code>this._lazyValue.filter(Boolean)\n</code></pre>\n\n<p>That looks more clean.</p>\n\n<p>But it seems you don't need to be using <code>BehaviorSubject</code> at all and use <code>ReplaySubject(1)</code> instead.</p>\n"}], "owner": {"reputation": 1875, "user_id": 1736596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2hXRA.jpg?s=128&g=1", "display_name": "Minor Threat", "link": "https://stackoverflow.com/users/1736596/minor-threat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "closed_date": 1507720606, "accepted_answer_id": 46686843, "answer_count": 1, "score": 0, "last_activity_date": 1507723172, "creation_date": 1507720348, "last_edit_date": 1507723172, "question_id": 46686772, "link": "https://stackoverflow.com/questions/46686772/angular2-caching-practices", "closed_reason": "Duplicate", "title": "Angular2+ caching practices", "body": "<p>I'm experimenting with Angular 2 and caching of values received from backend services. I've noticed that I came to the following pattern - using <code>BehaviorSubject</code> with undefined initial value and filter it to postpone display of controls dependent on values received from backend.</p>\n\n<pre><code>private _lazyValue: BehaviorSubject&lt;ILazyValue&gt; =\n    new BehaviorSubject&lt;ILazyValue&gt;(undefined);\n\nget lazyValue(): Observable&lt;ILazyValue&gt; {\n  return this._lazyValue.filter(val =&gt; val !== undefined);\n}\n</code></pre>\n\n<p>Inside template:</p>\n\n<pre><code>&lt;div *ngIf=\"lazyValue | async; else nolv; let lv\"&gt;\n  &lt;app-some-control [lazy_value]=\"lv\"&gt;&lt;/app-some-control&gt;\n&lt;/div&gt;\n&lt;ng-template #nolv&gt;\n  &lt;span&gt;Loading...&lt;/span&gt;\n&lt;/ng-template&gt;\n</code></pre>\n\n<p><strong>Question:</strong> are there any shortcuts for this somewhat fishy expression: </p>\n\n<pre><code>this._lazyValue.filter(val =&gt; val !== undefined)\n</code></pre>\n\n<p>Do I misuse <code>BehaviorSubject</code> somehow?</p>\n"}, {"tags": ["angularjs", "node.js", "typescript", "selenium-webdriver", "protractor"], "comments": [{"owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1507717348, "post_id": 46685414, "comment_id": 80319056, "body": "What if you remove the done parameter? When you declare the done parameter you have to call it after the test is done."}], "answers": [{"comments": [{"owner": {"reputation": 2078, "user_id": 835611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9da9a8208412d5ddba0103adb1519725?s=128&d=identicon&r=PG&f=1", "display_name": "user835611", "link": "https://stackoverflow.com/users/835611/user835611"}, "reply_to_user": {"reputation": 181, "user_id": 7921312, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/11e6fc4094f23a9a1f20d82c02cc56c1?s=128&d=identicon&r=PG&f=1", "display_name": "danio900409", "link": "https://stackoverflow.com/users/7921312/danio900409"}, "edited": false, "score": 0, "creation_date": 1507732047, "post_id": 46686183, "comment_id": 80329361, "body": "I see, <code>email()</code> doesn&#39;t take a callback. You&#39;d have to modify <code>email</code> to take a callback and call that at the end of <code>email</code>."}, {"owner": {"reputation": 181, "user_id": 7921312, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/11e6fc4094f23a9a1f20d82c02cc56c1?s=128&d=identicon&r=PG&f=1", "display_name": "danio900409", "link": "https://stackoverflow.com/users/7921312/danio900409"}, "edited": false, "score": 0, "creation_date": 1507737480, "post_id": 46686183, "comment_id": 80333119, "body": "Can you guide me on how to do this?"}], "tags": [], "owner": {"reputation": 2078, "user_id": 835611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9da9a8208412d5ddba0103adb1519725?s=128&d=identicon&r=PG&f=1", "display_name": "user835611", "link": "https://stackoverflow.com/users/835611/user835611"}, "is_accepted": false, "score": 0, "last_activity_date": 1507718527, "creation_date": 1507718527, "answer_id": 46686183, "question_id": 46685414, "link": "https://stackoverflow.com/questions/46685414/how-to-work-around-timeout-in-test-typescript/46686183#46686183", "title": "How to work around timeout in test typescript", "body": "<p><code>done</code> has to be called for the test to finish. So either </p>\n\n<pre><code>it('address section', function(done){\n    browser.sleep(8000);\n    page.email(); \n    done();\n});\n</code></pre>\n\n<p>or, if page.email() takes a callback</p>\n\n<pre><code>it('address section', function(done){\n   browser.sleep(8000);\n   page.email(done); \n});\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 7921312, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/11e6fc4094f23a9a1f20d82c02cc56c1?s=128&d=identicon&r=PG&f=1", "display_name": "danio900409", "link": "https://stackoverflow.com/users/7921312/danio900409"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507718527, "creation_date": 1507716361, "question_id": 46685414, "link": "https://stackoverflow.com/questions/46685414/how-to-work-around-timeout-in-test-typescript", "title": "How to work around timeout in test typescript", "body": "<p>I call the calculator method to call the email () method but the elements do not complement the page and after a fairly long wait time throw out the timeout. Does anyone know how I can get around this? This is quite a hassle. I tried with the done () method, but it did not come out and I still got this message.</p>\n\n<p>app.e2e-spec.ts</p>\n\n<pre><code>import { Page } from './app.po';\nimport { Key, promise, browser, element, by } from 'protractor';\n\ndescribe('App', () =&gt; {\n  let page: Page;\n\n  beforeEach(() =&gt; {\n    page = new Page();\n  });\n\n  it('should show start page', () =&gt; {\n    page.navigateTo();\n    page.calculator();\n  });\n\n  it('address section', function(done){\n    browser.sleep(8000);\n    page.email(); \n  });\n});\n</code></pre>\n\n<p>app.po.ts</p>\n\n<pre><code>calculator(){\n    var amount = element(by.xpath(\".//*[@id='amount-slider-value']\"));\n    amount.sendKeys(protractor.Key.chord(protractor.Key.CONTROL, \"a\"));\n    var amountOfLoan =  Math.floor(Math.random() * 2500)+500;\n    element(by.xpath(\".//*[@id='amount-slider-value']\")).sendKeys(amountOfLoan);\n    browser.sleep(3000);\n    var day = element(by.xpath(\".//*[@id='period-slider-value']\"));\n    day.sendKeys(protractor.Key.chord(protractor.Key.CONTROL,\"a\"));\n    var loanDays = Math.floor(Math.random() * 30) + 1;\n    element(by.xpath(\".//*[@id='period-slider-value']\")).sendKeys(loanDays);\n    browser.sleep(3000);\n    element(by.xpath(\".//*[@id='agreemenet-container']\")).click();\n    element(by.xpath('//div/div[2]/div[3]/div/div[2]/div[2]/button')).click();\n    browser.sleep(3000);\n  }\n\n  email(){\n    var email = Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 8);\n    var emailField = email + \"@test.com\";\n    element(by.xpath('//section/form/div[1]/main/dynamic-form/form/div[1]/div[2]/div[1]/div/email-field/input')).clear();\n    browser.sleep(2000);\n    element(by.xpath('//section/form/div[1]/main/dynamic-form/form/div[1]/div[2]/div[1]/div/email-field/input')).sendKeys(emailField);\n  }\n</code></pre>\n\n<p>My log:</p>\n\n<pre><code>A Jasmine spec timed out. Resetting the WebDriver Control Flow.\nA Jasmine spec timed out. Resetting the WebDriver Control Flow.\n    \u00d7 address section\n      - Error: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.\n          at ontimeout (timers.js:386:11)\n          at tryOnTimeout (timers.js:250:5)\n      - Error: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.\n          at ontimeout (timers.js:386:11)\n          at tryOnTimeout (timers.js:250:5)\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "compiler-errors", "react-redux"], "comments": [{"owner": {"reputation": 6122, "user_id": 2197181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b8bfa78665dc670a7cbf3982432b2bb8?s=128&d=identicon&r=PG", "display_name": "JulienD", "link": "https://stackoverflow.com/users/2197181/juliend"}, "edited": false, "score": 1, "creation_date": 1507718966, "post_id": 46685353, "comment_id": 80320056, "body": "Could it be that you use the new React 16 but an incompatible version of react-redux? You should indicate the respective library versions."}, {"owner": {"reputation": 2170, "user_id": 954377, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fBrXL.png?s=128&g=1", "display_name": "pamelus", "link": "https://stackoverflow.com/users/954377/pamelus"}, "reply_to_user": {"reputation": 6122, "user_id": 2197181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b8bfa78665dc670a7cbf3982432b2bb8?s=128&d=identicon&r=PG", "display_name": "JulienD", "link": "https://stackoverflow.com/users/2197181/juliend"}, "edited": false, "score": 0, "creation_date": 1507722610, "post_id": 46685353, "comment_id": 80322355, "body": "Please provide version numbers for @types/react-redux, @types/react and @types/react-dom you use. As @JulienD mentioned, your typings for react-redux are not compatible with typings for react."}, {"owner": {"reputation": 3773, "user_id": 5232122, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/87ae151f27d7e84ac4f08d35f12a9d67?s=128&d=identicon&r=PG&f=1", "display_name": "Velidan", "link": "https://stackoverflow.com/users/5232122/velidan"}, "edited": false, "score": 0, "creation_date": 1507722723, "post_id": 46685353, "comment_id": 80322428, "body": "Sorry, I have forget to do it. I&#39;ll add it"}], "answers": [{"tags": [], "owner": {"reputation": 3773, "user_id": 5232122, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/87ae151f27d7e84ac4f08d35f12a9d67?s=128&d=identicon&r=PG&f=1", "display_name": "Velidan", "link": "https://stackoverflow.com/users/5232122/velidan"}, "is_accepted": false, "score": 0, "last_activity_date": 1507727053, "creation_date": 1507727053, "answer_id": 46688966, "question_id": 46685353, "link": "https://stackoverflow.com/questions/46685353/type-error-thrown-on-element/46688966#46688966", "title": "Type error thrown on element", "body": "<p>I have found the solution to fix this issue.</p>\n\n<p>As JulienD and pamelus have mentioned to check dependencies version I looked for the redux/react/dom release versions </p>\n\n<p>So when I updated these packages the typescript compiler started to work correctly </p>\n\n<pre><code>\"@types/react\": 16.0.7 -\"16.0.10\",\n\"@types/react-dom\": 15.5.5 -&gt; \"16.0.1\",\n\"@types/react-redux\": 5.0.9 -&gt; \"5.0.10\",\n</code></pre>\n\n<p>Hope it helps someone. Best regards.</p>\n"}], "owner": {"reputation": 3773, "user_id": 5232122, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/87ae151f27d7e84ac4f08d35f12a9d67?s=128&d=identicon&r=PG&f=1", "display_name": "Velidan", "link": "https://stackoverflow.com/users/5232122/velidan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507727053, "creation_date": 1507716240, "last_edit_date": 1507723235, "question_id": 46685353, "link": "https://stackoverflow.com/questions/46685353/type-error-thrown-on-element", "title": "Type error thrown on element", "body": "<p>I am working with react-redux and typescript so I have .tsx files. My simple code looks pretty simple and obvious but the typescript compiler throws me an type error of the Provider element so I don't understand what I did wrong.</p>\n\n<p>here is my simple code</p>\n\n<pre><code>import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { Route, Router } from 'react-router';\n\n...\n\nReactDOM.render(\n    &lt;Provider store={store}&gt;\n      &lt;Router history={history}&gt;\n        &lt;Route path='/' component={MyTopComponent} breadcrumbIgnore&gt;\n          &lt;Route\n            path='home'\n            component={MyComponent}\n          &gt;\n          &lt;/Route&gt;\n        &lt;/Route&gt;\n      &lt;/Router&gt;\n    &lt;/Provider&gt;,\n  document.getElementById('app'),\n);\n</code></pre>\n\n<p>And here is the error: </p>\n\n<pre><code>JSX element type 'Provider' is not a constructor function for JSX elements.\n  Types of property 'render' are incompatible.\n    Type '() =&gt; string | number | false | Element | Element[]' is not assignable to type '{ (): string | number | false | Element | Element[]; (): string | number | false | Element | Elem...'.\n      Type 'string | number | false | Element | Element[]' is not assignable to type 'false | Element'.\n        Type 'string' is not assignable to type 'false | Element'.\n</code></pre>\n\n<p>In the Sublime editor with TS support I have seen description of this error:</p>\n\n<pre><code>Property \"render\" are missing in type \"Provider\"\n</code></pre>\n\n<p>Thanks for any help!</p>\n\n<p>P.S. here is the packages versions</p>\n\n<pre><code>   \"devDependencies\": {\n    \"@types/react\": \"16.0.7\",\n    \"@types/react-dom\": \"15.5.5\",\n    \"@types/react-i18next\": \"4.6.0\",\n    \"@types/react-redux\": \"5.0.9\",\n    \"@types/react-test-renderer\": \"15.5.4\",\n    \"awesome-typescript-loader\": \"3.2.3\",\n    ...\n    \"tslint\": \"5.7.0\",\n    \"typescript\": \"2.5.3\",\n    ...\n  },\n  \"dependencies\": {\n    ... ,\n    \"i18next\": \"9.0.0\",\n    \"react\": \"15.6.1\",\n    \"react-dom\": \"15.6.1\",\n    \"react-dom-factories\": \"1.0.2\",\n    \"react-i18next\": \"6.0.0\",\n    \"react-redux\": \"5.0.6\",\n    \"react-router\": \"3.0.2\",\n\n    \"redux\": \"3.7.2\",\n    ...\n  },\n</code></pre>\n"}, {"tags": ["typescript", "enums"], "comments": [{"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1507713209, "post_id": 46684049, "comment_id": 80316195, "body": "You could use <code>while (this.state as any === ExampleState.Saving)</code> as a workaround. But I suggest you to <a href=\"https://github.com/Microsoft/TypeScript/issues\" rel=\"nofollow noreferrer\">submit the case to the TypeScript team</a>."}, {"owner": {"reputation": 8773, "user_id": 940933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OTQiq.jpg?s=128&g=1", "display_name": "Mikael Couzic", "link": "https://stackoverflow.com/users/940933/mikael-couzic"}, "edited": false, "score": 1, "creation_date": 1507723655, "post_id": 46684049, "comment_id": 80323066, "body": "Same suggestion, although I&#39;d rather do:  <code>while (this.state as ExampleState === ExampleState.Saving)</code>"}, {"owner": {"reputation": 3013, "user_id": 4516689, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xPRs0.png?s=128&g=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/4516689/markus"}, "edited": false, "score": 2, "creation_date": 1507724110, "post_id": 46684049, "comment_id": 80323349, "body": "There is a open issues about that: <a href=\"https://github.com/Microsoft/TypeScript/issues/9998\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/9998</a>"}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "reply_to_user": {"reputation": 3013, "user_id": 4516689, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xPRs0.png?s=128&g=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/4516689/markus"}, "edited": false, "score": 1, "creation_date": 1507729019, "post_id": 46684049, "comment_id": 80327035, "body": "In the issue posted by @Magu, there is <a href=\"https://github.com/Microsoft/TypeScript/issues/9998#issuecomment-235963457\" rel=\"nofollow noreferrer\">another workaround</a>. I think it&#39;s the best solution."}], "answers": [{"tags": [], "owner": {"reputation": 3013, "user_id": 4516689, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xPRs0.png?s=128&g=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/4516689/markus"}, "is_accepted": true, "score": 2, "last_activity_date": 1507733893, "creation_date": 1507733893, "answer_id": 46691527, "question_id": 46684049, "link": "https://stackoverflow.com/questions/46684049/typescript-compiler-error-when-comparing-mutable-enum-member-variables/46691527#46691527", "title": "Typescript compiler error when comparing mutable enum member variables", "body": "<p>This is an <a href=\"https://github.com/Microsoft/TypeScript/issues/9998\" rel=\"nofollow noreferrer\">know issus from the Control flow analysis</a>.</p>\n\n<p>As <a href=\"https://github.com/Microsoft/TypeScript/issues/9998#issuecomment-235963457\" rel=\"nofollow noreferrer\">another workaround</a> you can create a wrapper method for the state property. (Thanks @Paleo)</p>\n\n<p>Visit the <a href=\"http://www.typescriptlang.org/play/#src=enum%20ExampleState%20%7B%0D%0A%20Unset%20%3D%20-1%2C%0D%0A%20Unsaved%20%3D%200%2C%0D%0A%20Saving%20%3D%201%2C%0D%0A%20Saved%20%3D%202%0D%0A%7D%0D%0A%0D%0Aclass%20Example%20%7B%0D%0A%0D%0A%20private%20state%20%3A%20ExampleState%20%3D%20ExampleState.Unset%3B%0D%0A%0D%0A%20private%20State()%20%7B%20%0D%0A%20return%20this.state%3B%0D%0A%20%7D%0D%0A%0D%0A%20public%20Save()%20%7B%0D%0A%20if%20(this.State()%20%3D%3D%3D%20ExampleState.Unsaved)%20%7B%0D%0A%20this.BeginSaving()%3B%0D%0A%20while%20(this.State()%20%3D%3D%3D%20ExampleState.Saving)%20%7B%20%0D%0A%20this.CommitSave()%3B%0D%0A%20%7D%0D%0A%20%7D%0D%0A%20%7D%0D%0A%0D%0A%20private%20BeginSaving()%20%7B%0D%0A%20this.state%20%3D%20ExampleState.Saving%3B%0D%0A%20%7D%0D%0A%0D%0A%20private%20CommitSave()%20%7B%0D%0A%20this.state%20%3D%20ExampleState.Saved%3B%0D%0A%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">Playground</a>.</p>\n\n<pre><code>enum ExampleState {\n    Unset = -1,\n    Unsaved = 0,\n    Saving = 1,\n    Saved = 2\n}\n\nclass Example {\n\n    private state : ExampleState = ExampleState.Unset;\n\n    private State() { \n        return this.state;\n    }\n\n    public Save() {\n        if (this.State() === ExampleState.Unsaved) {\n            this.BeginSaving();\n            while (this.State() === ExampleState.Saving) { \n                this.CommitSave();\n            }\n        }\n    }\n\n    private BeginSaving() {\n        this.state = ExampleState.Saving;\n    }\n\n    private CommitSave() {\n        this.state = ExampleState.Saved;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1121, "user_id": 1707376, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/42896ce62355359f2fccceccff530973?s=128&d=identicon&r=PG", "display_name": "daw", "link": "https://stackoverflow.com/users/1707376/daw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 46691527, "answer_count": 1, "score": 4, "last_activity_date": 1507733893, "creation_date": 1507712405, "question_id": 46684049, "link": "https://stackoverflow.com/questions/46684049/typescript-compiler-error-when-comparing-mutable-enum-member-variables", "title": "Typescript compiler error when comparing mutable enum member variables", "body": "<p>I am getting the error:</p>\n\n<pre><code>TS2365: Operator '===' cannot be applied to types 'ExampleState.Unsaved' and 'ExampleState.Saving'.\n</code></pre>\n\n<p>When comparing an enum against a mutable member variable:</p>\n\n<pre><code>enum ExampleState {\n    Unset = -1,\n    Unsaved = 0,\n    Saving = 1,\n    Saved = 2\n}\n\nclass Example {\n\n    private state : ExampleState = ExampleState.Unset;\n\n    public Save() {\n        if (this.state === ExampleState.Unsaved) {\n            this.BeginSaving();\n            while (this.state === ExampleState.Saving) {  // !error!\n                this.CommitSave();\n            }\n        }\n    }\n\n    private BeginSaving() {\n        this.state = ExampleState.Saving;\n    }\n\n    private CommitSave() {\n        this.state = ExampleState.Saved;\n    }\n}\n</code></pre>\n\n<p>The real example is an async method that performs multiple attempts at saving -\n this has been simplified to just illustrate the error.</p>\n\n<p>Typescript doesn't seem to understand that this variable is mutable and overly aggressively assuming that it is not being changed. Why is this happening and what is the work-around?</p>\n"}, {"tags": ["angular", "typescript", "ionic3"], "comments": [{"owner": {"reputation": 2536, "user_id": 3432373, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dd9272a0aaa7744349c43b461406b276?s=128&d=identicon&r=PG&f=1", "display_name": "t3__rry", "link": "https://stackoverflow.com/users/3432373/t3-rry"}, "edited": false, "score": 0, "creation_date": 1507711697, "post_id": 46683603, "comment_id": 80315155, "body": "Did you test the API <code>get</code>call ? Does it returns an <code>Observable</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8590996"}, "reply_to_user": {"reputation": 2536, "user_id": 3432373, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dd9272a0aaa7744349c43b461406b276?s=128&d=identicon&r=PG&f=1", "display_name": "t3__rry", "link": "https://stackoverflow.com/users/3432373/t3-rry"}, "edited": false, "score": 0, "creation_date": 1507712674, "post_id": 46683603, "comment_id": 80315806, "body": "@t3__rry How can I check it? I don&#39;t know"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8590996"}, "edited": false, "score": 0, "creation_date": 1507712456, "post_id": 46683908, "comment_id": 80315668, "body": "That was one issue, now it takes the data in it. But not rendering in html."}], "tags": [], "owner": {"reputation": 241, "user_id": 7569858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OvcXq.jpg?s=128&g=1", "display_name": "alfredson", "link": "https://stackoverflow.com/users/7569858/alfredson"}, "is_accepted": false, "score": 1, "last_activity_date": 1507711999, "creation_date": 1507711999, "answer_id": 46683908, "question_id": 46683603, "link": "https://stackoverflow.com/questions/46683603/update-array-from-event-callback/46683908#46683908", "title": "Update array from event callback", "body": "<p>You are not initializing your consumer array.</p>\n\n<p>Change this line</p>\n\n<pre><code>let consumer: string[];\n</code></pre>\n\n<p>to</p>\n\n<pre><code>let consumer: string[] = [];\n</code></pre>\n\n<p>then it is an empty array and you can push some data in it.</p>\n\n<p>Regards</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8590996"}, "edited": false, "score": 0, "creation_date": 1507712491, "post_id": 46683909, "comment_id": 80315689, "body": "moving it to outside the constructor makes it in-accessible from callback"}, {"owner": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "edited": false, "score": 0, "creation_date": 1507712585, "post_id": 46683909, "comment_id": 80315747, "body": "consumer.push(msg.data); // &lt;=== but &quot;consumer is undefined here&quot; SHOULD BE this.consumer.push(msg.data); // &lt;=== but &quot;consumer is undefined here&quot;"}], "tags": [], "owner": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "is_accepted": true, "score": 1, "last_activity_date": 1507712005, "creation_date": 1507712005, "answer_id": 46683909, "question_id": 46683603, "link": "https://stackoverflow.com/questions/46683603/update-array-from-event-callback/46683909#46683909", "title": "Update array from event callback", "body": "<p>Move <code>let consumer: string[]; // &lt;=== Updating</code> this array outside of the constructor -> above it for example.</p>\n\n<p>Then, remove the 'let' keyword and initialize it to an empty array = [];\nNow you can use it in a template.</p>\n"}, {"comments": [{"owner": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "edited": false, "score": 1, "creation_date": 1507712903, "post_id": 46684069, "comment_id": 80315974, "body": "missing this before consumer.push"}], "tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": false, "score": 1, "last_activity_date": 1507713351, "last_edit_date": 1507713351, "creation_date": 1507712469, "answer_id": 46684069, "question_id": 46683603, "link": "https://stackoverflow.com/questions/46683603/update-array-from-event-callback/46684069#46684069", "title": "Update array from event callback", "body": "<p>You have two issues here:</p>\n\n<ol>\n<li><p><code>consumer</code> is not exposed by the component. It is available only inside the constructor. So you won't be able to loop though it in the template. Change it to a property.</p></li>\n<li><p><code>consumer</code> is never initialized. You have only given its type, but not assigned anything to it.</p></li>\n</ol>\n\n<p>You can fix these by declaring and initializing <code>consumer</code> as a property:</p>\n\n<pre><code>export class HomePage {\n  consumer: string[] = []; // Declare and initialize here\n  constructor(public navCtrl: NavController) {\n    const realtime = new Ably.Realtime('API-KEY');\n    const channel = realtime.channels.get(\"test\");\n    channel.subscribe((msg) =&gt; {\n\n      console.log(\"Received: \" + msg.data);\n      this.consumer.push(msg.data);\n\n    });\n  }\n\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8590996"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 1, "accepted_answer_id": 46683909, "answer_count": 3, "score": 2, "last_activity_date": 1507713351, "creation_date": 1507711128, "last_edit_date": 1507711235, "question_id": 46683603, "link": "https://stackoverflow.com/questions/46683603/update-array-from-event-callback", "title": "Update array from event callback", "body": "<p>I have to update an array <em>(which is bounded in my html template)</em> from an event based call back function. But it is <code>undefined</code> when I access it inside the callback.</p>\n\n<pre><code>export class HomePage {\n\n  constructor(public navCtrl: NavController) {\n    let consumer: string[]; // &lt;=== Updating this array\n    const realtime = new Ably.Realtime('API-KEY');\n    const channel = realtime.channels.get(\"test\");\n    channel.subscribe((msg) =&gt; {\n\n      console.log(\"Received: \" + msg.data);\n      consumer.push(msg.data); // &lt;=== but \"consumer is undefined here\"\n\n    });\n  }\n\n}\n</code></pre>\n\n<p>HTML TEMPLATE</p>\n\n<pre><code>  &lt;div&gt;\n    &lt;ul *ngFor=\"let item of consumer\"&gt;\n      &lt;li&gt;{{item}}&lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "url", "decoding", "browser-refresh"], "owner": {"reputation": 216, "user_id": 8757490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5e3da00615c9d9ddce54deb42b9a63f?s=128&d=identicon&r=PG&f=1", "display_name": "Etoon", "link": "https://stackoverflow.com/users/8757490/etoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1507711066, "creation_date": 1507711066, "question_id": 46683580, "link": "https://stackoverflow.com/questions/46683580/angular2-reloading-browser-page-decodes-url-to-3d", "title": "Angular2, Reloading browser page decodes URL [&#39;=&#39; to &#39;%3D&#39;]", "body": "<p>I already researched a lot due to this problem, but couldn't find anything yet.\nWhen I use my web-application by clicking on links, the browser is redirecting me without any problems.\nBut when I reload my browser by pressing F5 or the Reload button, my URL gets decoded, turning from </p>\n\n<blockquote>\n  <p><a href=\"http://localhost:4200/#/kalender;kuerzel=name/list\" rel=\"nofollow noreferrer\">http://localhost:4200/#/kalender;kuerzel=name/list</a>\n  to\n  <a href=\"http://localhost:4200/#/kalender;kuerzel%3Dname/list\" rel=\"nofollow noreferrer\">http://localhost:4200/#/kalender;kuerzel%3Dname/list</a></p>\n</blockquote>\n\n<p>causing the following error:</p>\n\n<blockquote>\n  <p>Error: Uncaught (in promise): Error: Cannot match any routes. URL\n  Segment: 'kalender;kuerzel%3Dname/list'</p>\n</blockquote>\n\n<p>That is the part of the code generating the link:</p>\n\n<pre><code>...\n    else {\n        this.router.navigate(\n            ['.', {kuerzel: this.calendarStore.addSelectedEmployee(query).join()}],\n            {relativeTo: this.route}\n    );\n</code></pre>\n\n<p>I get that problem only when I reload my browser. I am new here, so, if you need more information just ask.</p>\n"}, {"tags": ["angular", "typescript", "angular-forms", "reactive-forms"], "answers": [{"comments": [{"owner": {"reputation": 1275, "user_id": 4479510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1d7b848c7fca9ceb4840c999be0d756c?s=128&d=identicon&r=PG&f=1", "display_name": "RagnarLodbrok", "link": "https://stackoverflow.com/users/4479510/ragnarlodbrok"}, "edited": false, "score": 0, "creation_date": 1507708789, "post_id": 46682737, "comment_id": 80313403, "body": "Okay, that easy, huh.. Thank you, +1. I&#39;m accepting Medi_Ali_Rachid&#39;s as it&#39;s answering my question."}], "tags": [], "owner": {"reputation": 2536, "user_id": 3432373, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dd9272a0aaa7744349c43b461406b276?s=128&d=identicon&r=PG&f=1", "display_name": "t3__rry", "link": "https://stackoverflow.com/users/3432373/t3-rry"}, "is_accepted": false, "score": 3, "last_activity_date": 1507709704, "last_edit_date": 1507709704, "creation_date": 1507708303, "answer_id": 46682737, "question_id": 46682418, "link": "https://stackoverflow.com/questions/46682418/angular-reactiveforms-dynamically-set-validators-behave-unexpectedly/46682737#46682737", "title": "Angular ReactiveForms - Dynamically set validators behave unexpectedly", "body": "<p>Just add validators in the declaration of your form so that it validates length but is not required and remove your subscription to <code>valueChanges</code> as it redondant:</p>\n\n<pre><code>this.userForm = this.formBuilder.group({\n  username: ['', Validators.minLength(4)],\n});\n</code></pre>\n\n<p>I modified <a href=\"https://plnkr.co/edit/V1YGWh0tRqL6gXzbVGZj?p=preview\" rel=\"nofollow noreferrer\">your plunker</a></p>\n"}, {"comments": [{"owner": {"reputation": 1275, "user_id": 4479510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1d7b848c7fca9ceb4840c999be0d756c?s=128&d=identicon&r=PG&f=1", "display_name": "RagnarLodbrok", "link": "https://stackoverflow.com/users/4479510/ragnarlodbrok"}, "edited": false, "score": 0, "creation_date": 1507708853, "post_id": 46682784, "comment_id": 80313448, "body": "Thank you, I tried it with the <code>updateValueAndValidity</code> but, as you mentioned, got a <code>Maximum call stack size exceeded</code> error. But works as intended with the event."}, {"owner": {"reputation": 1074, "user_id": 599164, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ANS4B.jpg?s=128&g=1", "display_name": "Frankie Drake", "link": "https://stackoverflow.com/users/599164/frankie-drake"}, "edited": false, "score": 0, "creation_date": 1559740906, "post_id": 46682784, "comment_id": 99514211, "body": "Seems like an unnatural way of conditional validation"}], "tags": [], "owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "is_accepted": true, "score": 4, "last_activity_date": 1507708454, "creation_date": 1507708454, "answer_id": 46682784, "question_id": 46682418, "link": "https://stackoverflow.com/questions/46682418/angular-reactiveforms-dynamically-set-validators-behave-unexpectedly/46682784#46682784", "title": "Angular ReactiveForms - Dynamically set validators behave unexpectedly", "body": "<p>by subscribing in <code>ValueChanges</code> of the form control will cause this error <code>Maximum call stack size exceeded</code> , it's better to control the changes in the input using its events (keyup as example) .</p>\n\n<p>and don't forget to use <code>updateValueAndValidity</code> after setting new Validators to apply them .</p>\n\n<p>this is the new code for your component , it works good now :) </p>\n\n<pre><code>    //our root app component\nimport {Component, NgModule, VERSION} from '@angular/core'\nimport {BrowserModule} from '@angular/platform-browser'\nimport {FormBuilder, FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport {FormsModule, ReactiveFormsModule} from \"@angular/forms\";\n\n@Component({\n  selector: 'my-app',\n  template: `\n    &lt;div&gt;\n      &lt;form [formGroup]=\"userForm\"&gt;\n        &lt;section&gt;\n          &lt;div&gt;\n            &lt;label&gt;username&lt;/label&gt;\n            &lt;input (keyup)=\"inputValueChanged($event)\" formControlName=\"username\" type=\"text\"&gt;\n          &lt;/div&gt;\n          &lt;button [disabled]=\"disableSaveButton()\"&gt;Save&lt;/button&gt;\n        &lt;/section&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n  `,\n})\nexport class App implements OnInit {\n\n  userForm: formGroup\n\n  constructor(private formBuilder: FormBuilder) {\n  }\n\n  disableSaveButton(): boolean {\n    console.log(\"is valid:\", this.userForm.controls[\"username\"].valid);\n    return this.userForm.controls[\"username\"].invalid\n  }\n\n  ngOnInit(): void {\n    this.userForm = this.formBuilder.group({\n      username: '',\n    });\n  }\n\n  inputValueChanged(event){\n    let  value = this.userForm.controls[\"username\"].value;\n    if (value.length &gt; 0) {\n          console.log(\"should be invalid if &lt; 4\")\n          this.userForm.controls[\"username\"].setValidators([Validators.required, Validators.minLength(4)]);\n\n        } else {\n          console.log(\"should be valid\")\n          this.userForm.controls[\"username\"].setValidators([]); \n        }\n        this.userForm.controls[\"username\"].updateValueAndValidity();\n\n  }\n\n\n}\n\n@NgModule({\n  imports: [ BrowserModule, FormsModule, ReactiveFormsModule ],\n  declarations: [ App ],\n  bootstrap: [ App ]\n})\nexport class AppModule {}\n</code></pre>\n\n<p>hope it helps u :) </p>\n"}, {"tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": false, "score": 0, "last_activity_date": 1507715985, "creation_date": 1507715985, "answer_id": 46685260, "question_id": 46682418, "link": "https://stackoverflow.com/questions/46682418/angular-reactiveforms-dynamically-set-validators-behave-unexpectedly/46685260#46685260", "title": "Angular ReactiveForms - Dynamically set validators behave unexpectedly", "body": "<p>I suggested make a customValidator and modified this customValidator</p>\n\n<pre><code>ngOnInit(): void {\n    this.userForm = this.formBuilder.group({\n      username: ['',this.customValidator],\n    });\n}\n\ncustomValidator(input:Formcontrol)\n{\n    let condition:boolean\n    ...change condition depending some variables...\n    return condition?null:{errorDesc:\"Not Valid\"}\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1275, "user_id": 4479510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1d7b848c7fca9ceb4840c999be0d756c?s=128&d=identicon&r=PG&f=1", "display_name": "RagnarLodbrok", "link": "https://stackoverflow.com/users/4479510/ragnarlodbrok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2766, "favorite_count": 2, "accepted_answer_id": 46682784, "answer_count": 3, "score": 1, "last_activity_date": 1507715985, "creation_date": 1507707339, "question_id": 46682418, "link": "https://stackoverflow.com/questions/46682418/angular-reactiveforms-dynamically-set-validators-behave-unexpectedly", "title": "Angular ReactiveForms - Dynamically set validators behave unexpectedly", "body": "<p>I am trying to add dynamic validations to a <code>ReactiveForm</code> in Angular 4.</p>\n\n<p>My problem is that the <code>SetValidators()</code> function behaves somehow unexpectedly.</p>\n\n<p>I'd like to have this behaviour:</p>\n\n<p>The input field may be empty, but <strong>IF</strong> the user wants to input something, the input value has to be at least 4 chars long.</p>\n\n<p>I am not going to explain how exactly it behaves now, because I don't really know how it does.</p>\n\n<p>Please have a look at <a href=\"https://plnkr.co/edit/Xr8k3VksBzXDvAIdhz1p?p=preview\" rel=\"nofollow noreferrer\">this plunker</a>. It's pretty simple and demonstrates my problem.</p>\n\n<p>To my question: What am I doing wrong here? Is this the correct approach? Am I missing something? Either in the logic or in the HTML?</p>\n"}, {"tags": ["angular", "typescript", "angular-material2"], "answers": [{"comments": [{"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1507706206, "post_id": 46681391, "comment_id": 80311804, "body": "Great. works fine. Thanks for reference which I have already checked, but my Bad... just didn&#39;t implement it as it should be."}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1507723030, "post_id": 46681391, "comment_id": 80322642, "body": "@william-loham: Do you have an idea how to pass the id dynamically to: <code>dialog.open(id)</code> in this case?"}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1507723700, "post_id": 46681391, "comment_id": 80323095, "body": "I mean should be this kind on invoking: <code>this.dialog.open(EditUserComponent, { data: id })</code>"}, {"owner": {"reputation": 3179, "user_id": 6656422, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-ruwgjJVn5rk/AAAAAAAAAAI/AAAAAAAAAio/mSV4_HKnoJ4/photo.jpg?sz=128", "display_name": "William Lohan", "link": "https://stackoverflow.com/users/6656422/william-lohan"}, "reply_to_user": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1507746999, "post_id": 46681391, "comment_id": 80338358, "body": "Yes, <code>openDialog(id)</code> could take the parameter <code>id</code> then <code>this.dialog.open(EditUserComponent, { data: id })</code> in stead of the hard coded <code>&#39;59dc921ffedff606449abef5&#39;</code>"}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1507791019, "post_id": 46681391, "comment_id": 80353226, "body": "Yes, I know. the issue is that I can&#39;t pass it dynamically from the dataSource in: <code>users.component.ts</code>. Any idea?"}, {"owner": {"reputation": 3179, "user_id": 6656422, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-ruwgjJVn5rk/AAAAAAAAAAI/AAAAAAAAAio/mSV4_HKnoJ4/photo.jpg?sz=128", "display_name": "William Lohan", "link": "https://stackoverflow.com/users/6656422/william-lohan"}, "reply_to_user": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1507821076, "post_id": 46681391, "comment_id": 80372609, "body": "I&#39;m assuming <code>EditDialogComponent</code> is in <code>UsersComponent</code>: in <code>edit-dialog.component.ts</code>is  <code>@Input() public id: string;</code>, then in <code>users.component.html</code> <code>&lt;app-edit-dialog [id]=&quot;dynUserCompProp&quot;&gt;&lt;&#47;app-edit-dialog&gt;</code>."}], "tags": [], "owner": {"reputation": 3179, "user_id": 6656422, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-ruwgjJVn5rk/AAAAAAAAAAI/AAAAAAAAAio/mSV4_HKnoJ4/photo.jpg?sz=128", "display_name": "William Lohan", "link": "https://stackoverflow.com/users/6656422/william-lohan"}, "is_accepted": true, "score": 4, "last_activity_date": 1507704259, "last_edit_date": 1507704259, "creation_date": 1507703922, "answer_id": 46681391, "question_id": 46681061, "link": "https://stackoverflow.com/questions/46681061/how-to-pass-json-response-from-service-to-matdialog-window/46681391#46681391", "title": "How to pass JSON Response from service to MatDialog Window&#39;?", "body": "<ol>\n<li><p>Fetch JSON then open dialog  </p>\n\n<pre><code>openDialog() {\n    this.loginService.getSingleUser('59dc921ffedff606449abef5')\n        .map(data =&gt; {\n            return this.dialog.open(EditUserComponent, { data: data }).afterClosed();\n        }).subscribe(result =&gt; this.dialogResult = result);\n}\n</code></pre></li>\n</ol>\n\n<p>-- or --</p>\n\n<ol start=\"2\">\n<li><p>Open dialog immediately</p>\n\n<pre><code> openDialog() {\n    let request = this.loginService.getSingleUser('59dc921ffedff606449abef5');\n    this.dialog.open(EditUserComponent, { data: request })\n        .afterClosed()\n        .subscribe(result =&gt; this.dialogResult = result);\n}\n</code></pre>\n\n<p>then in dialog component:</p>\n\n<pre><code>constructor(\n    public thisDialogRef: MatDialogRef&lt;EditUserComponent&gt;,\n    @Inject(MAT_DIALOG_DATA) public data: Observable&lt;any&gt;) { }\n\nngOninit() {\n    this.data.subscribe(data =&gt; /* do stuff */);\n}\n</code></pre></li>\n</ol>\n\n<p>-- even better --</p>\n\n<ol start=\"3\">\n<li><p>inject service into dialog</p>\n\n<pre><code> openDialog() {\n    this.dialog.open(EditUserComponent, { data: '59dc921ffedff606449abef5' })\n        .afterClosed()\n        .subscribe(result =&gt; this.dialogResult = result);\n}\n</code></pre>\n\n<p>then in dialog component:</p>\n\n<pre><code>constructor(\n    public thisDialogRef: MatDialogRef&lt;EditUserComponent&gt;,\n    @Inject(MAT_DIALOG_DATA) public data: string,\n    public loginService: LoginService) { }\n\nngOninit() {\n    this.loginService.getSingleUser(data)\n        .subscribe(data =&gt; /* do stuff */);\n}\n</code></pre></li>\n</ol>\n\n<p><a href=\"https://material.angular.io/components/dialog/overview#sharing-data-with-the-dialog-component-\" rel=\"nofollow noreferrer\">https://material.angular.io/components/dialog/overview#sharing-data-with-the-dialog-component-</a></p>\n"}], "owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2222, "favorite_count": 2, "accepted_answer_id": 46681391, "answer_count": 1, "score": 1, "last_activity_date": 1542704923, "creation_date": 1507702747, "last_edit_date": 1542704923, "question_id": 46681061, "link": "https://stackoverflow.com/questions/46681061/how-to-pass-json-response-from-service-to-matdialog-window", "title": "How to pass JSON Response from service to MatDialog Window&#39;?", "body": "<p>I have a service where I execute a Http Request to fetch User data per ID... works fine. </p>\n\n<p>In the other hand I do have a <code>MatDialoge</code> where I need to display the JSON Response Data coming from the service. The background for the process is to provide a possibility in the <code>MatDialoge</code> to edit User Data, make changes, update and at the end execute another Http Request to update the user and close the dialog. It means I would use a submit button inside <code>MatDialog</code> to send the edited User/Employee Data.</p>\n\n<p>My first issue I'am facing now is how do I pass the data coming from Response to the <code>MatDialog</code>?</p>\n\n<p><strong><code>login.service.ts</code></strong>:</p>\n\n<pre><code>getSingleUser(id) {\n   let obsSingleUsersRequest = this.http.get(environment.urlSingleUsers + '/' + id, this.options)\n   .map(res =&gt; {\n       return res.json();\n   }).catch( ( error: any) =&gt; Observable.throw(error.json().error || 'Server error') );\n   return obsSingleUsersRequest;\n}\n</code></pre>\n\n<p>The component to execute and bind the button for <code>MatDilog</code>\n<strong><code>edit-dialog.component.ts</code></strong>:</p>\n\n<pre><code>import { Component, OnInit, Inject } from '@angular/core';\nimport { FormGroup, FormControl, Validators, FormBuilder } from \"@angular/forms\";\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport { EditUserComponent } from './edit-user/edit-user.component';\nimport { LoginService } from '../../_service/index';\n\n@Component({\n    selector: 'app-edit-dialog',\n    templateUrl: './edit-dialog.component.html',\n    styleUrls: ['./edit-dialog.component.css']\n})\nexport class EditDialogComponent implements OnInit {\n    dialogResult:string = '';\n\n    constructor(public dialog:MatDialog, public loginService:LoginService) {}\n    ngOnInit() {}\n    openDialog() {\n        let dialogRef = this.dialog.open(EditUserComponent, {\n            width: '600px'\n        });\n        this.loginService.getSingleUser('59dc921ffedff606449abef5')\n        .subscribe((res) =&gt; {\n              console.log('User Data EDIT DIALOG: ' + JSON.stringify(res) );\n          },\n          (err) =&gt; {\n              err;\n              console.log('IN COMPONENT: ' + err);\n          });\n        dialogRef.afterClosed().subscribe(result =&gt; {\n            console.log(`Dialog closed: ${result}`);\n            this.dialogResult = result;\n        })\n    }\n}\n</code></pre>\n\n<p>The Dialog Window component where I would like to display JSON Data Response and edit them. <strong><code>edit-user.component.ts</code></strong>: </p>\n\n<pre><code>import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { LoginService } from '../../../_service/index';\n\n\n@Component({\n    selector: 'app-edit-user',\n    templateUrl: './edit-user.component.html',\n    styleUrls: ['./edit-user.component.css']\n})\n\n\nexport class EditUserComponent implements OnInit {\n\n      constructor(\n          public thisDialogRef: MatDialogRef&lt;EditUserComponent&gt;,\n          @Inject(MAT_DIALOG_DATA) public data: string) { }\n\n          ngOnInit() {}\n\n      onCloseConfirm() {\n          this.thisDialogRef.close('Confirm');\n      }\n\n      onCloseCancel() {\n          this.thisDialogRef.close('Cancel');\n      }\n\n}\n</code></pre>\n\n<p><strong><code>edit-dilog.component.html</code></strong>:</p>\n\n<pre><code>&lt;mat-card-content&gt;\n   &lt;mat-button-group&gt;\n       &lt;i class=\"material-icons\" (click)=\"openDialog()\"&gt;create&lt;/i&gt;\n   &lt;/mat-button-group&gt;\n&lt;/mat-card-content&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 68, "user_id": 3551272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uUNdY.jpg?s=128&g=1", "display_name": "M.Mansoury", "link": "https://stackoverflow.com/users/3551272/m-mansoury"}, "edited": false, "score": 0, "creation_date": 1507702039, "post_id": 46680614, "comment_id": 80309584, "body": "If you are using TypeScript 2.0+ there is a good answer here : <a href=\"https://stackoverflow.com/questions/34925992/how-to-avoid-imports-with-very-long-relative-paths-in-angular-2\" title=\"how to avoid imports with very long relative paths in angular 2\">stackoverflow.com/questions/34925992/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2438, "user_id": 2759473, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/fkdGV.jpg?s=128&g=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/2759473/tomas"}, "edited": false, "score": 0, "creation_date": 1507703958, "post_id": 46680858, "comment_id": 80310470, "body": "Yeah, I know this feature is not related to Angular itself, Angular is just an example here :) Thank you for help"}], "tags": [], "owner": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "is_accepted": true, "score": 3, "last_activity_date": 1507702036, "last_edit_date": 1507702036, "creation_date": 1507701683, "answer_id": 46680858, "question_id": 46680614, "link": "https://stackoverflow.com/questions/46680614/angular-2-paths-setting/46680858#46680858", "title": "Angular 2 paths setting", "body": "<p>I think, what you're asking is a property of TypeScript compiler options. Look at this <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html#base-url\" rel=\"nofollow noreferrer\">document describing <code>baseUrl</code></a>.</p>\n\n<p>Since we're talking about <code>import ...</code> instruction, it's unrelated to Angular. You'll need to set it in your <code>tsconfig.json</code> file.</p>\n\n<p>Your \"non-relative paths\" (those without <code>..</code>) will be resolved starting the <code>baseUrl</code>. So, technically, they are still relative. The difference is instead of being relative to the <em>current file</em>, they will be relative to the <em>directory you specified</em>. You will still be able to use <code>..</code>-based imports if you want. You can even mix the import styles within the same file...</p>\n"}, {"tags": [], "owner": {"reputation": 2438, "user_id": 2759473, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/fkdGV.jpg?s=128&g=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/2759473/tomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1507878970, "creation_date": 1507878970, "answer_id": 46724451, "question_id": 46680614, "link": "https://stackoverflow.com/questions/46680614/angular-2-paths-setting/46724451#46724451", "title": "Angular 2 paths setting", "body": "<p>OP here again, I'd like to mention one important gotcha in \"non-relative paths\". As <a href=\"https://stackoverflow.com/a/46680858/2759473\">Igor Soloydenko answer</a> mentions <code>tsconfig.json</code> file, for myself it worked correctly after modifying <code>tsconfig.app.json</code> file, which in fact extends base <code>tsconfig.json</code>, but even though only working from app file level my changes were effective.</p>\n"}], "owner": {"reputation": 2438, "user_id": 2759473, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/fkdGV.jpg?s=128&g=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/2759473/tomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 46680858, "answer_count": 2, "score": 1, "last_activity_date": 1507878970, "creation_date": 1507700334, "last_edit_date": 1507704371, "question_id": 46680614, "link": "https://stackoverflow.com/questions/46680614/angular-2-paths-setting", "title": "Angular 2 paths setting", "body": "<p>For what keyword should I look to learn how to configure my Angular app to be able to load my internal modules with following:  </p>\n\n<p><code>import { MyModule } from 'cool/short/path';</code>  </p>\n\n<p>instead of:  </p>\n\n<p><code>import { MyModule } from './../../../modules/MyModle/my-module';</code></p>\n\n<p>I went through some tutorial mentioning how to configure <strong>whole</strong> app to use some kind of absolute path marking, but is it possible to configure single module in such manner? As a notable example I'd mention Angular modules, which are always referred with <code>@</code> and same path from whatever project location.</p>\n"}, {"tags": ["angularjs", "json", "typescript", "intellij-idea", "package.json"], "comments": [{"owner": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "edited": false, "score": 0, "creation_date": 1507700451, "post_id": 46680602, "comment_id": 80309060, "body": "<code>InitialiSation error</code> this does not seem to be a real error. Where and when exactly do you observe this error?"}, {"owner": {"reputation": 952, "user_id": 4336740, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kYejbu8R-9M/AAAAAAAAAAI/AAAAAAAAADg/rmlW6vr32qU/photo.jpg?sz=128", "display_name": "Mohammad nabil", "link": "https://stackoverflow.com/users/4336740/mohammad-nabil"}, "reply_to_user": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "edited": false, "score": 0, "creation_date": 1507700521, "post_id": 46680602, "comment_id": 80309079, "body": "When I have create main.ts file"}, {"owner": {"reputation": 952, "user_id": 4336740, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kYejbu8R-9M/AAAAAAAAAAI/AAAAAAAAADg/rmlW6vr32qU/photo.jpg?sz=128", "display_name": "Mohammad nabil", "link": "https://stackoverflow.com/users/4336740/mohammad-nabil"}, "reply_to_user": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "edited": false, "score": 0, "creation_date": 1507700548, "post_id": 46680602, "comment_id": 80309085, "body": "or any TypeScript file"}, {"owner": {"reputation": 952, "user_id": 4336740, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kYejbu8R-9M/AAAAAAAAAAI/AAAAAAAAADg/rmlW6vr32qU/photo.jpg?sz=128", "display_name": "Mohammad nabil", "link": "https://stackoverflow.com/users/4336740/mohammad-nabil"}, "reply_to_user": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "edited": false, "score": 0, "creation_date": 1507700664, "post_id": 46680602, "comment_id": 80309123, "body": "I have added the error screen shot in my question post pls.. look"}, {"owner": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "edited": false, "score": 0, "creation_date": 1507700961, "post_id": 46680602, "comment_id": 80309231, "body": "Try the following: 1) close the IDE; 2) remove <code>node_modules</code> directory entirely; 3) run <code>npm install</code>; 4) reopen your IDE; 5) test whether .ts files work now."}, {"owner": {"reputation": 952, "user_id": 4336740, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kYejbu8R-9M/AAAAAAAAAAI/AAAAAAAAADg/rmlW6vr32qU/photo.jpg?sz=128", "display_name": "Mohammad nabil", "link": "https://stackoverflow.com/users/4336740/mohammad-nabil"}, "reply_to_user": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "edited": false, "score": 0, "creation_date": 1507701193, "post_id": 46680602, "comment_id": 80309303, "body": "Thanks I&#39;ll try and update."}, {"owner": {"reputation": 952, "user_id": 4336740, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kYejbu8R-9M/AAAAAAAAAAI/AAAAAAAAADg/rmlW6vr32qU/photo.jpg?sz=128", "display_name": "Mohammad nabil", "link": "https://stackoverflow.com/users/4336740/mohammad-nabil"}, "reply_to_user": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "edited": false, "score": 0, "creation_date": 1507701585, "post_id": 46680602, "comment_id": 80309420, "body": "I have follows the steps, but same error getting."}], "answers": [{"tags": [], "owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "is_accepted": true, "score": 6, "last_activity_date": 1507732566, "creation_date": 1507732566, "answer_id": 46691021, "question_id": 46680602, "link": "https://stackoverflow.com/questions/46680602/typescript-initialization-error-when-compiling/46691021#46691021", "title": "Typescript initialization error when compiling", "body": "<p>TypeScript version you are using (2.5.3) is not compatible with TypeScript service integration available in <strong>2017.1.1</strong>. The issue is caused by breaking changes in service API (<a href=\"https://github.com/Microsoft/TypeScript/issues/15433\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/15433</a>).</p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/WEB-26641\" rel=\"noreferrer\">WEB-26641</a> is fixed in <strong>2017.1.3</strong>, so it's compatible with all TypeScript versions up to 2.4.\nBut 2.5.x adds more breaking changes. So, if you need using IDEA with TypeScript 2.5.3, please make sure to update to the most recent IDEA version.</p>\n"}], "owner": {"reputation": 952, "user_id": 4336740, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kYejbu8R-9M/AAAAAAAAAAI/AAAAAAAAADg/rmlW6vr32qU/photo.jpg?sz=128", "display_name": "Mohammad nabil", "link": "https://stackoverflow.com/users/4336740/mohammad-nabil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1675, "favorite_count": 0, "accepted_answer_id": 46691021, "answer_count": 1, "score": 2, "last_activity_date": 1507732566, "creation_date": 1507700245, "last_edit_date": 1507704311, "question_id": 46680602, "link": "https://stackoverflow.com/questions/46680602/typescript-initialization-error-when-compiling", "title": "Typescript initialization error when compiling", "body": "<p>Getting TypeScript error in IntelliJ-Idea 2017.1.1 IDE</p>\n\n<p>I have tried Enabled JavaScript, NodeJS and TypeScript Compiler.</p>\n\n<p>I have tried everything, but not getting fix, may I missing somewhere.</p>\n\n<blockquote>\n  <p>Error: Initialisation error (typescript). Cannot read property 'createHash of undefined</p>\n</blockquote>\n\n<p>Can any one help me to solve?</p>\n\n<p><a href=\"https://i.stack.imgur.com/qTjV6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qTjV6.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/AmtoJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AmtoJ.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>package.json</strong></p>\n\n<pre><code>{\n  \"name\": \"TempPractice\",\n  \"version\": \"0.0.1\",\n  \"description\": \"First Angular App\",\n  \"license\": \"MIT\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git@github.com:angularjs-de/angularjs-typescript-seed.git\"\n  },\n  \"main\": \"app/app.ts\",\n  \"scripts\": {\n    \"tsc\": \"tsc\",\n    \"tsc:w\": \"tsc -w\",\n    \"lite\": \"lite-server\",\n    \"typings\": \"typings\",\n    \"postinstall\": \"typings install\",\n    \"update-deps\": \"npm update\",\n    \"postupdate-deps\": \"bower update\",\n    \"prestart\": \"npm install\",\n    \"start\": \"http-server -a localhost -p 8000 -c-1 ./app\",\n    \"pretest\": \"npm install\",\n    \"test\": \"karma start karma.conf.js\",\n    \"test-single-run\": \"karma start karma.conf.js --single-run\",\n    \"preupdate-webdriver\": \"npm install\",\n    \"update-webdriver\": \"webdriver-manager update\",\n    \"preprotractor\": \"npm run update-webdriver\",\n    \"protractor\": \"protractor e2e-tests/protractor.conf.js\",\n    \"update-index-async\": \"node -e \\\"var fs=require('fs'),indexFile='app/index-async.html',loaderFile='app/bower_components/angular-loader/angular-loader.min.js',loaderText=fs.readFileSync(loaderFile,'utf-8').split(/sourceMappingURL=angular-loader.min.js.map/).join('sourceMappingURL=bower_components/angular-loader/angular-loader.min.js.map'),indexText=fs.readFileSync(indexFile,'utf-8').split(/\\\\/\\\\/@@NG_LOADER_START@@[\\\\s\\\\S]*\\\\/\\\\/@@NG_LOADER_END@@/).join('//@@NG_LOADER_START@@\\\\n'+loaderText+'    //@@NG_LOADER_END@@');fs.writeFileSync(indexFile,indexText);\\\"\"\n  },\n  \"dependencies\": {\n    \"@angular/common\": \"^4.4.4\",\n    \"@angular/compiler\": \"^4.4.4\",\n    \"@angular/core\": \"^4.4.4\",\n    \"@angular/forms\": \"^4.4.4\",\n    \"@angular/http\": \"^4.4.4\",\n    \"@angular/platform-browser\": \"^4.4.4\",\n    \"@angular/platform-browser-dynamic\": \"^4.4.4\",\n    \"@angular/router\": \"^4.4.4\",\n    \"angular-in-memory-web-api\": \"^0.5.0\",\n    \"angular-route\": \"^1.6.6\",\n    \"bootstrap\": \"^3.3.7\",\n    \"font-awesome\": \"^4.7.0\",\n    \"rxjs\": \"^5.4.3\",\n    \"ts-node\": \"^3.3.0\",\n    \"typescript\": \"^2.5.3\",\n    \"typings\": \"^2.1.1\",\n    \"zone.js\": \"^0.8.18\"\n  }\n}\n</code></pre>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>  {\n     \"compilerOptions\": {\n        \"module\": \"system\",\n        \"removeComments\": true,\n        \"preserveConstEnums\": true,\n        \"experimentalDecorators\": true,\n        \"emitDecoratorMetadata\": true,\n        \"sourceMap\": true,\n        \"inlineSources\": true,\n        \"target\": \"es5\"\n\n     },\n     \"compileOnSave\": false,\n     // Points folders and file to exclude\n     \"exclude\": [\n        \"node_modules\",\n        \"typings/main\",\n        \"typings/main.d.ts\"\n     ]\n  }\n</code></pre>\n\n<p><strong>typings.json</strong></p>\n\n<pre><code>  {  \n     \"ambientDependencies\": {  \n        \"es6-shim\": \"github:DefinitelyTyped/DefinitelyTyped/es6-shim/es6-shim.d.ts#7de6c3dd94feaeb21f20054b9f30d5dabc5efabd\",  \n        \"jasmine\": \"github:DefinitelyTyped/DefinitelyTyped/jasmine/jasmine.d.ts#7de6c3dd94feaeb21f20054b9f30d5dabc5efabd\"  \n     }  \n  }  \n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "is_accepted": true, "score": 0, "last_activity_date": 1507700577, "last_edit_date": 1507700577, "creation_date": 1507700234, "answer_id": 46680597, "question_id": 46680477, "link": "https://stackoverflow.com/questions/46680477/how-can-i-pass-an-angular2-method-in-my-component-as-the-callback-method-of-a-th/46680597#46680597", "title": "How can I pass an Angular2 method in my component as the callback method of a third party library?", "body": "<p>I think, you have two options.</p>\n\n<p><strong>1. <a href=\"https://basarat.gitbooks.io/typescript/docs/arrow-functions.html\" rel=\"nofollow noreferrer\">Arrow functions</a></strong></p>\n\n<p>They will preserve the reference to current object in <code>this</code>.</p>\n\n<pre><code>buttonClick() {\n    thirdPartyLib.open({\n        url: '{url goes here}',\n        messageListener: (eventData) =&gt; {\n            this.processResponse(eventData);\n        }\n    });\n}\n\nprocessResponse(eventData: any) {...}\n</code></pre>\n\n<p>Or even shorter form: <code>messageListener: eventData =&gt; this.processResponse(eventData)</code></p>\n\n<p><strong>2. \"that\" pattern</strong></p>\n\n<p><code>that</code> (or differently named) variable may hold reference to current object.</p>\n\n<pre><code>buttonClick() {\n    const that = this;\n    thirdPartyLib.open({\n        url: '{url goes here}',\n        messageListener: function(eventData) {\n            that.processResponse(eventData);\n        }\n    });\n}\n\nprocessResponse(eventData: any) {...}\n</code></pre>\n"}], "owner": {"reputation": 330, "user_id": 2019929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8j4a.jpg?s=128&g=1", "display_name": "Michael Jolley", "link": "https://stackoverflow.com/users/2019929/michael-jolley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 1, "accepted_answer_id": 46680597, "answer_count": 1, "score": 1, "last_activity_date": 1507700577, "creation_date": 1507699659, "question_id": 46680477, "link": "https://stackoverflow.com/questions/46680477/how-can-i-pass-an-angular2-method-in-my-component-as-the-callback-method-of-a-th", "title": "How can I pass an Angular2 method in my component as the callback method of a third party library?", "body": "<p>I've got an Angular2 application that references a third party library.  I reference that library in one of my components via:</p>\n\n<pre>\n\n    declare var thirdPartyLib: any;\n\n</pre>\n\n<p>Next I bind a button's click to the method below.</p>\n\n<pre>\n\n    buttonClick() {\n        thirdPartyLib.open({\n            url: '{url goes here}',\n            messageListener: function(eventData) {\n                this.processResponse(eventData);\n            }\n        });\n    }\n\n    processResponse(eventData: any) {...}\n\n</pre>\n\n<p>The problem is that when it fires the messageListener function I get an error that it \"can't read property processResponse of undefined.\"  I understand that there is an issue of scoping to 'this', but how do I call that method on my component from within that function?  Or is there another way completely to do something like this?</p>\n\n<p>Just for completeness, I've also attempted the following:</p>\n\n<pre>\n\n    buttonClick() {\n        var myMethod = this.processResponse;\n        thirdPartyLib.open({\n            url: '{url goes here}',\n            messageListener: myMethod\n        });\n    }\n\n    processResponse(eventData: any) {...}\n\n</pre>\n\n<p>The problem with this method is that <code>processResponse</code> calls a service as <code>this.someService.whatever(eventData.something);</code>.  Using this approach throws the same error but now for <code>this.someService</code>.</p>\n\n<p>Thanks in advance for the help!</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 8178585, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a632918d8ab4db375091913d8857143e?s=128&d=identicon&r=PG&f=1", "display_name": "Vluiz", "link": "https://stackoverflow.com/users/8178585/vluiz"}, "edited": false, "score": 0, "creation_date": 1507700585, "post_id": 46680556, "comment_id": 80309100, "body": "Thank you for the answer, but I&#39;m getting this error on the @HostBinding: &quot;TS2346: Supplied parameters do not match any signature of call target.&quot; Any idea why that is?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 145, "user_id": 8178585, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a632918d8ab4db375091913d8857143e?s=128&d=identicon&r=PG&f=1", "display_name": "Vluiz", "link": "https://stackoverflow.com/users/8178585/vluiz"}, "edited": false, "score": 0, "creation_date": 1507700741, "post_id": 46680556, "comment_id": 80309150, "body": "Sorry, the <code>[&#39;$event&#39;]</code> things weren&#39;t necessary but I forgot to remove them. If you want to use them you would need to add a parameter to the function signature like <code>onCtrlDown(e)</code>."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1507701171, "post_id": 46680556, "comment_id": 80309296, "body": "@yurzui thanks, I&#39;m getting really sloppy :-/ Thanks for the fixes!"}, {"owner": {"reputation": 145, "user_id": 8178585, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a632918d8ab4db375091913d8857143e?s=128&d=identicon&r=PG&f=1", "display_name": "Vluiz", "link": "https://stackoverflow.com/users/8178585/vluiz"}, "edited": false, "score": 0, "creation_date": 1507701775, "post_id": 46680556, "comment_id": 80309494, "body": "Thanks for the edit, but no matter if ctrl is pressed or not - I&#39;m getting false in the console.."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 145, "user_id": 8178585, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a632918d8ab4db375091913d8857143e?s=128&d=identicon&r=PG&f=1", "display_name": "Vluiz", "link": "https://stackoverflow.com/users/8178585/vluiz"}, "edited": false, "score": 0, "creation_date": 1507702189, "post_id": 46680556, "comment_id": 80309640, "body": "I fixed another mistake (sorry :-/ ) in my original code and added another variant worth trying."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 145, "user_id": 8178585, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a632918d8ab4db375091913d8857143e?s=128&d=identicon&r=PG&f=1", "display_name": "Vluiz", "link": "https://stackoverflow.com/users/8178585/vluiz"}, "edited": false, "score": 0, "creation_date": 1507702377, "post_id": 46680556, "comment_id": 80309702, "body": "There is a simpler answer. Updated again."}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 1, "creation_date": 1507702825, "post_id": 46680556, "comment_id": 80309916, "body": "Or like this <a href=\"https://github.com/angular/angular/blob/7ce9e06daba64d762d3e2e7cdee25d7226fb88e9/aio/src/app/app.component.ts#L236\" rel=\"nofollow noreferrer\">github.com/angular/angular/blob/&hellip;</a>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1507702878, "post_id": 46680556, "comment_id": 80309937, "body": "@yurzui embarrassing :D. Yup, that&#39;s a nice one."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 5, "last_activity_date": 1507702659, "last_edit_date": 1507702659, "creation_date": 1507700062, "answer_id": 46680556, "question_id": 46680449, "link": "https://stackoverflow.com/questions/46680449/angular-4-handle-two-events-at-the-same-time/46680556#46680556", "title": "Angular 4 - handle two events at the same time", "body": "<p>The <code>MouseEvent</code> event provides a <code>ctrlKey</code> property that allows to read the state of the <kbd>Ctrl</kbd> key state when the click happened  </p>\n\n<pre><code>@HostListener(\"click\", ['$event'])\nonDropdownItemClick( evt: MouseEvent) {\n  console.log('clicked - with ctrl pressed:', evt.ctrlKey);\n}\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/ctrlKey\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/ctrlKey</a></p>\n\n<p><strike>\nJust store the status of the control key in a field and read it in the click event:</p>\n\n<pre><code>ctrlDown = false;\n\n@HostListener('window:keydown.ctrl')\nonCtrlDown() {this.ctrlDown = true; }\n\n@HostListener('window:keydown.ctrl')\nonCtrlUp() {this.ctrlDown = false; }\n\n@HostListener(\"click\")\nonDropdownItemClick( evt: keyboardEvent) {\n  console.log('clicked - with ctrl pressed:', this.ctrlDown);\n}\n</code></pre>\n\n<p>If above doesn't work please try</p>\n\n<pre><code>@HostListener('window:keydown', ['$event'])\nonCtrlDown(event) {this.ctrlDown = event.ctrlKey; }\n\n@HostListener('window:keydown')\nonCtrlUp() {this.ctrlDown = false; }\n</code></pre>\n\n<p></strike></p>\n"}], "owner": {"reputation": 145, "user_id": 8178585, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a632918d8ab4db375091913d8857143e?s=128&d=identicon&r=PG&f=1", "display_name": "Vluiz", "link": "https://stackoverflow.com/users/8178585/vluiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1128, "favorite_count": 3, "accepted_answer_id": 46680556, "answer_count": 1, "score": 6, "last_activity_date": 1507702659, "creation_date": 1507699518, "question_id": 46680449, "link": "https://stackoverflow.com/questions/46680449/angular-4-handle-two-events-at-the-same-time", "title": "Angular 4 - handle two events at the same time", "body": "<p>I want to handle a click event + CTRL keypress event in the same function in my component.ts file, but I don't seem to find a solution anywhere. I've tried: </p>\n\n<pre><code>@HostListener(\"click\")\n    onDropdownItemClick( evt: keyboardEvent) {\n        console.log(evt.keyCode);\n    }\n</code></pre>\n\n<p>but it just returns \"ERROR TypeError: Cannot read property 'keyCode' of undefined\"</p>\n\n<p>I've also tried this too:</p>\n\n<pre><code>@Component({\n        selector: '....',\n        templateUrl: '....',\n        host: {\n            '(window:keydown)': 'findKey($event)',\n            '(window:mousedown)': 'findKey($event)'\n        }\n   });\n\nfindKey(event) {\n         if(event.ctrlKey &amp;&amp; event.which === 1){\n               console.log(\"CTRL + mouse-click\");\n        }\n    }\n</code></pre>\n\n<p>But it's not working either. Anyone have suggestions on how to catch both events at the same time? </p>\n"}, {"tags": ["typescript", "typescript-2.5", "typescript-decorator"], "answers": [{"comments": [{"owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "edited": false, "score": 1, "creation_date": 1507696223, "post_id": 46679740, "comment_id": 80307564, "body": "Thanks for the quick reply Aluan. Problems - in the originalMethod reference, webstorm complains that it cannot find either variable of this expression target[key]. Also, with the performValidation(...args), the validation is done by the angular framework when the method is passed as an array to the angular framework. I still cannot see how to do this. Cheers"}, {"owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "edited": false, "score": 1, "creation_date": 1507722259, "post_id": 46679740, "comment_id": 80322140, "body": "Thanks for your extensive and detail explanation Aluan. I will have to find a way to inject those validators though. I will explore using @Input() from angular4. Thanks again."}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 0, "last_activity_date": 1507697929, "last_edit_date": 1507697929, "creation_date": 1507695423, "answer_id": 46679740, "question_id": 46679298, "link": "https://stackoverflow.com/questions/46679298/creating-a-decorator-method-that-passes-an-argument-to-angular4-ngoninit/46679740#46679740", "title": "creating a decorator method that passes an argument to angular4 ngOnInit()", "body": "<p>Try something like</p>\n\n<pre><code>export function validators(...vals: Array&lt;(...args: any[]) =&gt; void&gt;) {\n  let form: FormGroup\n  return function &lt;T extends object&gt;(target: T, key: keyof T, descriptor: PropertyDescriptor) {\n\n    const originalMethod = descriptor.value\n\n    descriptor.value = function(...args: any[]) {\n       performValidation(...args);\n       originalMethod.call(target, ...args);\n    }\n    return descriptor;\n  }\n}\n</code></pre>\n\n<p>The reason for the generic is simply to ensure that the method is defined by the target object. It is not necessary but I find it valuable.</p>\n\n<p>To pass the validation array, <code>vals</code>, to the framework when the method is called is more complex.</p>\n\n<p>The simplest way is to store the validators themselves on a field of the class so they are available but that sort of defeats the purpose of using a decorator.</p>\n\n<p>For example we might write</p>\n\n<pre><code>export function validators(...vals: Array&lt;(...args: any[]) =&gt; void&gt;) {\n  return function &lt;T extends {validators: Array&lt;(...args: any[]) =&gt; void&gt;}&gt;(target: T) {\n    target.validators = vals;\n  }\n}\n</code></pre>\n\n<p>Such that our class would look like</p>\n\n<pre><code>export class PimMatInputComponent {\n  validators: (...vals: Array&lt;(...args: any[]) =&gt; void&gt; = [];\n\n  @validators([PimNgxFormValidators.notEmpty])\n  ngOnInit() {\n    this.form = this._fb.group({\n      entry: [ '', [this.validators]]\n    });\n\n    this.entryCtrl = this.form.controls['entry'];\n  }\n}\n</code></pre>\n\n<p>As you can see, we do not touch the descriptor in this case since we are simply using the decorator to attach validators to the class. But that makes decorator use superfluous since we could more readably write</p>\n\n<pre><code>export class PimMatInputComponent {\n  validators = [PimNgxFormValidators.notEmpty];\n\n  ngOnInit() {\n    this.form = this._fb.group({\n      entry: [ '', [this.validators]]\n    });\n\n    this.entryCtrl = this.form.controls['entry'];\n  }\n}\n</code></pre>\n\n<p>Method decorators are useful for validating for wrapping a method body. Often they can be used to validate arguments to the method but they cannot inject code into the implementation itself.</p>\n\n<p>For example, if we wish to validate the arguments passed to a method we could write a decorator like</p>\n\n<pre><code>export function validateArguments(...validators: Array&lt;(...as: any[]) =&gt; void&gt;) {\n  return &lt;T extends object&gt;(target, key: keyof T, descriptor: PropertyDescriptor) =&gt; {\n    const originalMethod = descriptor.value;\n    descriptor.value = (...args: any[]) =&gt; {\n      args.forEach(argument =&gt; {\n        validators.forEach(validate =&gt; {\n          validate(argument);\n        });\n      });\n\n      originalMethod.call(target, ...args);\n    };\n  };\n}\n</code></pre>\n\n<p>We could then apply it to an arbitrary method and pass in validators as follows</p>\n\n<pre><code>export class A {\n  @validateArguments(arg =&gt; {\n    if (arg === undefined) {\n      throw Error('required parameter not specified');\n    }\n  })\n  m(a, b, c) {\n    console.log('If we got here no arguments were undefined.');\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 735, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1507697929, "creation_date": 1507692520, "question_id": 46679298, "link": "https://stackoverflow.com/questions/46679298/creating-a-decorator-method-that-passes-an-argument-to-angular4-ngoninit", "title": "creating a decorator method that passes an argument to angular4 ngOnInit()", "body": "<p>I am attempting to pass a validator method into an angular4 reactive form for validation purposeses using a decorator.</p>\n\n<h2>component</h2>\n\n<pre><code>@AutoUnsubscribe( [] )\n@Component(\n    {\n      selector: 'pim-mat-input',\n      template: `\n        &lt;form\n            autocomplete = 'off'\n            [formGroup] = 'form'&gt;\n\n          &lt;section\n              fxLayout = 'column'\n              fxLayoutAlign = 'start start'&gt;\n            &lt;mat-form-field&gt;\n              &lt;input\n                  #input\n                  matInput\n                  formControlName = 'entry'&gt;\n            &lt;/mat-form-field&gt;\n          &lt;/section&gt;\n\n        &lt;/form&gt;\n      `,\n      styles: []\n    } )\nexport class PimMatInputComponent implements AfterViewInit, OnDestroy, OnInit {  \n  protected entryCtrl: AbstractControl\n  protected form: FormGroup\n\n  constructor( private _fb: FormBuilder ) {\n  }\n\n  @validators( [ PimNgxFormValidators.notEmpty ] )\n  ngOnInit() {\n    this.form = this._fb.group(\n        { entry: [ '', [ /*PimNgxFormValidators.notEmpty goes here*/] ] } )\n\n    this.entryCtrl = this.form.controls[ 'entry' ]\n\n  }\n\n  ngOnDestroy() {\n    // needed for @AutoUnsubscribe()\n  }\n\n  ngAfterViewInit(): void {\n  }\n}\n</code></pre>\n\n<h2>decorator attempt - incomplete</h2>\n\n<pre><code>export function validators( vals: Array&lt;Function&gt; = [] ) {\n  let form: FormGroup\n  return function( target: any, member: string, descriptor: PropertyDescriptor ) {\n\n    const originalMethod = descriptor.value\n\n    descriptor.value = function( ...args ) {\n\n     // What should I put here to allow the argument to be used in the component\n    }\n    return descriptor\n  }\n}\n</code></pre>\n\n<p>How do I get the decorator to pass its argument to the entry control in the form?</p>\n\n<p>Cheers</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "edited": false, "score": 0, "creation_date": 1507690942, "post_id": 46678993, "comment_id": 80306307, "body": "Number wouldn&#39;t be a valid input type for what you&#39;re trying to do, anyway. These aren&#39;t really numbers that you&#39;re dealing with, they just happen to look like numbers. maxlength and pattern don&#39;t work with number because they aren&#39;t valid attributes for number. They only have an effect in a browser that doesn&#39;t support the number input type."}, {"owner": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "edited": false, "score": 0, "creation_date": 1507691646, "post_id": 46678993, "comment_id": 80306459, "body": "I would also remove the <code>^</code> from your pattern - it shouldn&#39;t be necessary. You may also just be able to use a single field, assuming you&#39;re okay with using <code>&lt;input type=&quot;tel&quot; &#47;&gt;</code>: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/tel#Pattern_validation\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTML/Element/input/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1507745643, "post_id": 46679175, "comment_id": 80337624, "body": "I was just looking into some of the things you mentioned and I think they might help.  I would like to know if the <code>(focus)</code> part you added in is an actual method or property withing angular or is it simething you jsut made up?  I saw something similar done with <code>@Output</code> where you can set your event emitter that way.  Also why did you change the if conditions to check if they&#39;re empty?  I was saying <code>&gt;3</code> because say they had 2 digits of their area code in <code>first</code> and they selected on one of the other boxes for some reason, this code would allow them because <code>first</code> isn&#39;t empty."}, {"owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1507745729, "post_id": 46679175, "comment_id": 80337669, "body": "Plus this checks for if the field has a value, not how many digits the value has, which is why I was trying to use <code>.length</code>.  Other than that I&#39;m going to try to the other stuff and continue messing with it."}, {"owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1507745806, "post_id": 46679175, "comment_id": 80337709, "body": "also why did you take away the <code>ngModel</code>?"}, {"owner": {"reputation": 1087, "user_id": 7145293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AoYt4.jpg?s=128&g=1", "display_name": "Andresson", "link": "https://stackoverflow.com/users/7145293/andresson"}, "reply_to_user": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1507746767, "post_id": 46679175, "comment_id": 80338215, "body": "First, the (focus) part is not something i made up. In angular HTML DOM component&#39;s events are just like the normal events but instead of using onfocus, or onblur etc. you remove the &quot;on&quot; prefix.  Second, Im sorry to confuse you, your logic in selcection() function is probably completely valid.. the reason I changed it was to test it out for my self, which also answers why i took away the ngModel, because i was not sure why you where using <code>NumA...</code> But now I understand why."}], "tags": [], "owner": {"reputation": 1087, "user_id": 7145293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AoYt4.jpg?s=128&g=1", "display_name": "Andresson", "link": "https://stackoverflow.com/users/7145293/andresson"}, "is_accepted": false, "score": 1, "last_activity_date": 1507691525, "creation_date": 1507691525, "answer_id": 46679175, "question_id": 46678993, "link": "https://stackoverflow.com/questions/46678993/how-can-i-forcefully-select-a-text-input-through-an-onselect-function/46679175#46679175", "title": "How can I forcefully select a text input through an onselect function?", "body": "<p>I recommend using the \"angular way\"\nFirst of drop the document.getelementbyID();\ninstead. add tags to your inputs: \n<code>#first #second #third</code> and modify your view. Notice the event trigger, we changed it to (focus) to fire the selection function.</p>\n\n<pre><code>&lt;fieldset&gt;\n  &lt;p class=\"input-container\"&gt;\n    &lt;input #first class=\"phnA\" type=\"text\"\n       maxlength=\"3\"\n       pattern=\"^[0-9]{3}\"\n       placeholder =\"123\"\n       (focus)=\"selection(1)\"&gt;\n    &lt;input #second class=\"phnA\" type=\"text\"\n       maxlength=\"3\"\n       pattern=\"^[0-9]{3}\"\n       placeholder =\"456\"\n       (focus)=\"selection(2)\"&gt;\n    &lt;input #third class=\"phnB\" type=\"text\"\n       maxlength=\"4\"\n       pattern=\"^[0-9]{3}\"\n       placeholder =\"7890\"\n       (focus)=\"selection(3)\"&gt;\n</code></pre>\n\n<p></p>\n</p>\n\n<p>Update your component and add @ViewChild() - This is a one way to interact with native DOM elements in angular.</p>\n\n<pre><code>import { Component, ViewChild, ElementRef } from '@angular/core';\nexport class AppComponent {\n  @ViewChild('first') first: ElementRef;\n  @ViewChild('second') second: ElementRef;\n  @ViewChild('third') third: ElementRef;\n\n\n  constructor(){\n  }\n  selection(inputNumber){\n\n    if(inputNumber == 2) {\n      if(this.first.nativeElement.value === \"\") {\n        this.first.nativeElement.focus();\n        return;\n      }\n    }\n    if(inputNumber == 3) {\n      if(this.first.nativeElement.value === \"\") {\n        this.first.nativeElement.focus();\n        return;\n      }\n      if(this.second.nativeElement.value === \"\") {\n        this.second.nativeElement.focus();\n        return;\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>Hope this helped, More information about how @ViewChild() can be found <a href=\"http://learnangular2.com/viewChild/\" rel=\"nofollow noreferrer\">here.</a></p>\n"}, {"tags": [], "owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "is_accepted": true, "score": 0, "last_activity_date": 1507948727, "creation_date": 1507948727, "answer_id": 46740304, "question_id": 46678993, "link": "https://stackoverflow.com/questions/46678993/how-can-i-forcefully-select-a-text-input-through-an-onselect-function/46740304#46740304", "title": "How can I forcefully select a text input through an onselect function?", "body": "<p>Through using part of Andresson's answer I came up with a solution. The parts I used are</p>\n\n<ul>\n<li>View Child implementation</li>\n<li>(focus) implementation on HTML elements</li>\n</ul>\n\n<p>from there I created this function</p>\n\n<pre><code>selection(){\n    let a = this.first;\n    let b = this.second;\n    let c = this.third;\n\n    if(this.NumA.length &lt; 1 &amp;&amp; this.NumB.length &lt; 1 &amp;&amp; this.NumC.length &lt; 1 &amp;&amp; !event.keyCode)\n\n    { a.nativeElement.focus(); }\n\n    if(this.NumA.length &gt; 2 &amp;&amp; this.NumB.length &lt; 1 &amp;&amp; this.NumC.length &lt; 1 &amp;&amp; !event.keyCode)\n\n    { b.nativeElement.focus(); }\n\n    if(this.NumA.length &gt; 2 &amp;&amp; this.NumB.length &gt; 2 &amp;&amp; this.NumC.length &lt; 1 &amp;&amp; !event.keyCode)\n\n    {c.nativeElement.focus();}\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 1, "accepted_answer_id": 46740304, "answer_count": 2, "score": 0, "last_activity_date": 1507948727, "creation_date": 1507690104, "question_id": 46678993, "link": "https://stackoverflow.com/questions/46678993/how-can-i-forcefully-select-a-text-input-through-an-onselect-function", "title": "How can I forcefully select a text input through an onselect function?", "body": "<p>I'm building a component to serve as an input for taking phone numbers which <a href=\"https://plnkr.co/edit/2gHQwrqagGnbljo3bZmM?p=preview\" rel=\"nofollow noreferrer\">you can see here.</a></p>\n\n<p>I'm using 3 text inputs to take each portion of the phone number and would like to use a function that controls which gets selected based on an if condition.  So for example lets say the user clicks on what's technically the 3rd input to go about entering their number.  I want it to automatically set the focus to the first input so they can start in the right place.</p>\n\n<p>Here's my code so far.</p>\n\n<p>template</p>\n\n<pre><code>&lt;fieldset&gt;\n  &lt;p class=\"input-container\"&gt;\n    (\n    &lt;input id=\"first\" class=\"phnA\" type=\"text\"\n      maxlength=\"3\"\n      pattern=\"^[0-9]{3}\"\n      placeholder =\"123\"\n      [(ngModel)]=\"NumA\"\n      onselect=\"selection()\"\n    &gt;\n    )\n    &lt;input id=\"second\" class=\"phnA\" type=\"text\"\n      maxlength=\"3\"\n      pattern=\"^[0-9]{3}\"\n      placeholder =\"456\"\n      [(ngModel)]=\"NumB\"\n      onselect=\"selection()\"\n    &gt;\n    -\n    &lt;input id=\"third\" class=\"phnB\" type=\"text\"\n      maxlength=\"4\"\n      pattern=\"^[0-9]{3}\"\n      placeholder =\"7890\"\n      [(ngModel)]=\"NumC\"\n      onselect=\"selection()\"\n    &gt;\n  &lt;/p&gt;\n&lt;/fieldset&gt;\n</code></pre>\n\n<p>function in component class</p>\n\n<pre><code>selection(){\n    let a = document.getElementById('first');\n    let b = document.getElementById('second');\n    let c = document.getElementById('third');\n\n    if( this.NumA.length &gt; 3 ){\n      document.getElementById(\"first\").focus();\n    }\n\n    /*if(this.NumA.length &lt; 3){\n      a.focus();\n    }else if(this.NumA.length = 3 &amp;&amp; this.NumB.length &lt; 3){\n      b.focus();\n    }else if(this.NumA.length = 3 &amp;&amp; this.NumB.length = 3){\n      c.focus();\n    }*/\n  }\n</code></pre>\n\n<p>My first attempt is the chunk that's commented out.  I tried applying it directly to see if maybe I was losing something through making it a variable and it still doesn't force the cursor into the first input.  The regexp I'm using to force numbers isn't working either.  the <code>NumA, NumB, NumC</code> variables are all set to be <code>string</code> because <code>maxlength</code> for some reason doesn't work on <code>type=\"number</code> inputs which is a different issue, jsut mentioning for the sake of explaining why they're not of <code>number</code> type.  What am I doing wrong here?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "webpack", "angular-cli"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1507688696, "post_id": 46678343, "comment_id": 80305743, "body": "I <a href=\"https://medium.com/@aluanhaddad/is-invalid-semantically-as-ecmascript-which-forbids-calling-module-namespace-objects-35e0fccfc78a\" rel=\"nofollow noreferrer\">added a comment to that effect</a> to the article as well."}, {"owner": {"reputation": 18220, "user_id": 191647, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/BkIYy.jpg?s=128&g=1", "display_name": "Mohammad Dayyan", "link": "https://stackoverflow.com/users/191647/mohammad-dayyan"}, "edited": false, "score": 0, "creation_date": 1507699331, "post_id": 46678343, "comment_id": 80308589, "body": "Use new datepickers compatible with angular 4 like <a href=\"https://mds92.github.io/MdsDateTimePickerSample/sample/\" rel=\"nofollow noreferrer\">mds92.github.io/MdsDateTimePickerSample/sample</a>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 18220, "user_id": 191647, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/BkIYy.jpg?s=128&g=1", "display_name": "Mohammad Dayyan", "link": "https://stackoverflow.com/users/191647/mohammad-dayyan"}, "edited": false, "score": 0, "creation_date": 1507699564, "post_id": 46678343, "comment_id": 80308676, "body": "@MohammadDayyan that&#39;s nice that you made your own datepicker, but this is not an Angular version compatibility problem."}, {"owner": {"reputation": 910, "user_id": 1561971, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b696e03c3202ea05ecc82bd99cf76470?s=128&d=identicon&r=PG", "display_name": "Prashant Borde", "link": "https://stackoverflow.com/users/1561971/prashant-borde"}, "edited": false, "score": 0, "creation_date": 1507795309, "post_id": 46678343, "comment_id": 80355562, "body": "try <code>npm update</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1421, "user_id": 6444286, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-pzO7GYxFeWY/AAAAAAAAAAI/AAAAAAAAGxI/XFtZhhm_fyg/photo.jpg?sz=128", "display_name": "Adam Ranganathan", "link": "https://stackoverflow.com/users/6444286/adam-ranganathan"}, "edited": false, "score": 0, "creation_date": 1507698347, "post_id": 46679076, "comment_id": 80308217, "body": "Hi @Aluan, thanks for your reply.  I tried your suggestion but now have a different error:  <code>ERROR in C:&#47;Users&#47;...&#47;app.component.ts (6,8): Module &#39;&#39;jquery&#39;&#39; has no default export</code>.  Jquery was actually working fine with <code>import * as $ from &#39;jquery&#39;;</code>Any thoughts on this?"}, {"owner": {"reputation": 1421, "user_id": 6444286, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-pzO7GYxFeWY/AAAAAAAAAAI/AAAAAAAAGxI/XFtZhhm_fyg/photo.jpg?sz=128", "display_name": "Adam Ranganathan", "link": "https://stackoverflow.com/users/6444286/adam-ranganathan"}, "edited": false, "score": 0, "creation_date": 1507698447, "post_id": 46679076, "comment_id": 80308254, "body": "I also tried <code>import daterangepicker from &#39;bootstrap-daterangepicker&#39;;</code>  instead of  <code>require(&#39;bootstrap-daterangepicker&#39;);</code> as suggested in that tutorial.  And yet again a different error that daterangepicker is not a function:   <code>ERROR TypeError: __WEBPACK_IMPORTED_MODULE_4_jquery__(...).daterangepicker is not a function</code>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 1421, "user_id": 6444286, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-pzO7GYxFeWY/AAAAAAAAAAI/AAAAAAAAGxI/XFtZhhm_fyg/photo.jpg?sz=128", "display_name": "Adam Ranganathan", "link": "https://stackoverflow.com/users/6444286/adam-ranganathan"}, "edited": false, "score": 0, "creation_date": 1507698805, "post_id": 46679076, "comment_id": 80308406, "body": "You are missing <code>--allowSyntheticDefaultImports</code> See the last line of my answer. Add that to your <code>tsconfig</code>."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 1421, "user_id": 6444286, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-pzO7GYxFeWY/AAAAAAAAAAI/AAAAAAAAGxI/XFtZhhm_fyg/photo.jpg?sz=128", "display_name": "Adam Ranganathan", "link": "https://stackoverflow.com/users/6444286/adam-ranganathan"}, "edited": false, "score": 0, "creation_date": 1507699089, "post_id": 46679076, "comment_id": 80308507, "body": "<code>import daterangepicker from &#39;bootstrap-daterangepicker&#39;;</code> is not going to work because the datepicker module doesn&#39;t export <i>anything</i>, it mutates the <code>&#39;jquery&#39;</code> module. use <code>import &#39;bootstrap-daterangepicker&#39;;</code> as it says in the tutorial."}, {"owner": {"reputation": 1421, "user_id": 6444286, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-pzO7GYxFeWY/AAAAAAAAAAI/AAAAAAAAGxI/XFtZhhm_fyg/photo.jpg?sz=128", "display_name": "Adam Ranganathan", "link": "https://stackoverflow.com/users/6444286/adam-ranganathan"}, "edited": false, "score": 0, "creation_date": 1507699681, "post_id": 46679076, "comment_id": 80308727, "body": "@AIuan, thanks for your replies. I tried both changes, jquery works again, but I&#39;m back to the first error mentioned in the screenshot"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 1421, "user_id": 6444286, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-pzO7GYxFeWY/AAAAAAAAAAI/AAAAAAAAGxI/XFtZhhm_fyg/photo.jpg?sz=128", "display_name": "Adam Ranganathan", "link": "https://stackoverflow.com/users/6444286/adam-ranganathan"}, "edited": false, "score": 0, "creation_date": 1507699766, "post_id": 46679076, "comment_id": 80308766, "body": "@SriramRanganathan that is not very specific. How are you importing <code>&#39;bootstrap-daterangepicker&#39;</code>?"}, {"owner": {"reputation": 1421, "user_id": 6444286, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-pzO7GYxFeWY/AAAAAAAAAAI/AAAAAAAAGxI/XFtZhhm_fyg/photo.jpg?sz=128", "display_name": "Adam Ranganathan", "link": "https://stackoverflow.com/users/6444286/adam-ranganathan"}, "edited": false, "score": 0, "creation_date": 1507699893, "post_id": 46679076, "comment_id": 80308820, "body": "I tried the following:  <code>import $ from &#39;jquery&#39;;</code>  and  <code>import &#39;bootstrap-daterangepicker&#39;;</code>  also added <code>&quot;allowSyntheticDefaultImports&quot;: true</code> to tsconfig.json`"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 1421, "user_id": 6444286, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-pzO7GYxFeWY/AAAAAAAAAAI/AAAAAAAAGxI/XFtZhhm_fyg/photo.jpg?sz=128", "display_name": "Adam Ranganathan", "link": "https://stackoverflow.com/users/6444286/adam-ranganathan"}, "edited": false, "score": 0, "creation_date": 1507699947, "post_id": 46679076, "comment_id": 80308851, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/156415/discussion-between-aluan-haddad-and-sriram-ranganathan\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 1, "last_activity_date": 1507698998, "last_edit_date": 1507698998, "creation_date": 1507690776, "answer_id": 46679076, "question_id": 46678343, "link": "https://stackoverflow.com/questions/46678343/how-to-import-bootstrap-daterangepicker-in-angular-4-project/46679076#46679076", "title": "How to import bootstrap-daterangepicker in Angular 4 project?", "body": "<p>The problem is that the tutorial uses invalid ESM -> CommonJS interop. Use <code>import $ from jQuery;</code> instead. Calling a namespace import (<code>* as</code>) is invalid in ECMAScript.</p>\n\n<p><strong>TLDR:</strong> write</p>\n\n<pre><code>import $ from 'jquery';\nimport 'bootstrap-daterangepicker';\n</code></pre>\n\n<p>and set <code>--allowSyntheticDefaultImports</code> (<code>\"allowSyntheticDefaultImports\": true</code> in <code>\"compilerOptions\"</code>) so that TypeScript typechecks code using the synthesized default import correctly.</p>\n\n<p>I added <a href=\"https://medium.com/@aluanhaddad/is-invalid-semantically-as-ecmascript-which-forbids-calling-module-namespace-objects-35e0fccfc78a\" rel=\"nofollow noreferrer\">a comment to that effect</a> to the article as well. </p>\n\n<p><strong>Details:</strong></p>\n\n<p>Basically, the ECMASCript specification forbids calling <a href=\"https://www.ecma-international.org/ecma-262/8.0/#sec-module-namespace-objects\" rel=\"nofollow noreferrer\">Module Namespace Objects</a> as functions. When you use the syntax</p>\n\n<pre><code>import * as imported from 'some-module';\n</code></pre>\n\n<p>A module namespace object named <code>imported</code> is created. This objects exposes each export of the specified module for qualified access such as <code>imported.a</code> where <code>a</code> is exported by <code>'some-module'</code>. However, in an AMD or CommonJS module that only exports a single value it is common to export this value <em>as</em> the module itself. This is typically written as</p>\n\n<pre><code>// AMD\ndefine(function () {\n  const $ = {...}; // jquery implementation\n\n  return $;\n});\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>// CommonJS\nconst $ = {...}; // jquery implementation\n\nmodule.exports = $;\n</code></pre>\n\n<p>The value returned by <code>define</code> or the value assigned to <code>module.exports</code> represent the module itself.</p>\n\n<p>To import such an <em>export</em> one would typically write</p>\n\n<pre><code>// AMD\ndefine([\"jquery\"], function ($) {\n  $('div').text('set via jQuery');\n});\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>// CommonJS\nconst $ = requere(\"jquery\");\n$('div').text('set via jQuery');\n</code></pre>\n\n<p>Compare that to a named export typically written as</p>\n\n<pre><code>// AMD\ndefine(function () {\n  const $ = {...}; // jquery implementation\n\n  return {$};\n});\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>// CommonJS\nconst $ = {...}; // jquery implementation\n\nmodule.exports.$ = $;\n</code></pre>\n\n<p>To import such an <em>export</em> one would typically write</p>\n\n<pre><code>// AMD\ndefine([\"jquery\"], function ($) {\n  $.$('div').text('set via jQuery');\n});\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>// CommonJS\nconst $ = require(\"jquery\");\n$.$('div').text('set via jQuery');\n</code></pre>\n\n<p>Now back in the ES Module world, the <code>* as</code> syntax aggregates the named exported bindings into an object for dotted (<code>.</code>) access.</p>\n\n<p>In sharp contrast to AMD and CommonJS modules, in an ES Module everything exported must exported under a <em>name</em>.</p>\n\n<p>However, the utility and simplicity of exporting and importing a single value representing the module itself is still provided for in ES Modules by way of the <code>default</code> export/import syntax and semantics. That syntax is</p>\n\n<pre><code>// ESM\nconst something = {...};\nexport default $;\n</code></pre>\n\n<p>And is typically consumed as</p>\n\n<pre><code>// ESM\nimport $ from 'some-module';\n</code></pre>\n\n<p>This is conceptually similar to assigning to <code>module.exports</code> or returning a single value from <code>define</code> but in actuality, <code>default</code> is not anonymous it is an export <em>named</em> <code>default</code>.</p>\n\n<p>So the question becomes, when we have an AMD or CommonJS module that exports a value <em>as</em> the module itself (usually using one of the patterns described above), how do we import it into an ES Module? <code>require</code> is not available to us. We cannot import something without a name. Well interop, while somewhat in flux is to make the value of <code>module.exports</code> or that returned by <code>define</code> available as the <code>default</code> export. This poses a number of problems but it allows us to write </p>\n\n<pre><code>import $ from 'jquery';\n</code></pre>\n\n<p>This is viable because <code>default</code> which is just an export named <code>default</code> can be called. A namespace cannot be called.</p>\n\n<p>Unfortunately, due to fluctuations in the ES Module spec, the uncertainty of an interop mechanism every being specified, and for various historical reasons, TypeScript has historically gone a different rout, taking</p>\n\n<pre><code>import * as imported from 'some-module';\n</code></pre>\n\n<p>to imply</p>\n\n<pre><code>const imported = require('some-module');\n</code></pre>\n\n<p>At the <em>type</em> level. Furthermore, it does not <em>yet</em> automatically provide values exported as AMD and CommonJS Modules as the <code>default</code> which means that the correct syntax can fail at runtime.</p>\n\n<p>However, TypeScript <em>is</em> going to address this.</p>\n\n<p>In the meantime, if you use a module interop aware tool such as SystemJS or Webpack 3, you can correctly write</p>\n\n<pre><code>import imported from 'some-module';\n</code></pre>\n\n<p>today in TypeScript.\nSpecify the <code>--allowSyntheticDefaultImports</code> compiler option to enable proper typechecking of this syntax against AMD or CommonJS modules.</p>\n"}], "owner": {"reputation": 1421, "user_id": 6444286, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-pzO7GYxFeWY/AAAAAAAAAAI/AAAAAAAAGxI/XFtZhhm_fyg/photo.jpg?sz=128", "display_name": "Adam Ranganathan", "link": "https://stackoverflow.com/users/6444286/adam-ranganathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 962, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1507698998, "creation_date": 1507685248, "question_id": 46678343, "link": "https://stackoverflow.com/questions/46678343/how-to-import-bootstrap-daterangepicker-in-angular-4-project", "title": "How to import bootstrap-daterangepicker in Angular 4 project?", "body": "<p>I tried following instructions from <strong><a href=\"https://medium.com/@NetanelBasal/typescript-integrate-jquery-plugin-in-your-project-e28c6887d8dc\" rel=\"nofollow noreferrer\">this</a></strong> tutorial to integrate bootstrap-daterangepicker in my Angular 4 project but I get the following error and warning.  The error line is: <code>Uncaught TypeError: __webpack_require__.i(...) is not a function</code>.  Would anyone know how to fix this?</p>\n\n<p><a href=\"https://i.stack.imgur.com/UQHAU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UQHAU.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "angularfire2", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 86, "user_id": 2095118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecb688247bdc981924d2d99038813bac?s=128&d=identicon&r=PG&f=1", "display_name": "MiroO", "link": "https://stackoverflow.com/users/2095118/miroo"}, "edited": false, "score": 0, "creation_date": 1510429163, "post_id": 46678725, "comment_id": 81434603, "body": "Is it possible to use class instead of interface?"}], "tags": [], "owner": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "is_accepted": true, "score": 0, "last_activity_date": 1507688218, "creation_date": 1507688218, "answer_id": 46678725, "question_id": 46678338, "link": "https://stackoverflow.com/questions/46678338/interfaces-x-any/46678725#46678725", "title": "Interfaces x any", "body": "<p>Using <code>any</code> in this situation is a bad practice. Basically, you're throwing away one of the most important parts of TypeScript (<a href=\"https://basarat.gitbooks.io/typescript/content/docs/why-typescript.html\" rel=\"nofollow noreferrer\">which is type system</a>), and its benefits (compile time type checking). Do <strong>not</strong> do it unless it's a necessity. </p>\n\n<p>I recommend to use <code>any</code> in two situations only:</p>\n\n<ul>\n<li><p>when you are truly dealing with object of unpredictable types. Even then you may want to first declare an <code>interface</code> type to declare a contract (which in runtime may or may not be fulfilled).</p></li>\n<li><p>when you use \"<a href=\"https://basarat.gitbooks.io/typescript/docs/types/ambient/intro.html\" rel=\"nofollow noreferrer\">ambient declarations</a>\" for JavaScript libraries that do not have corresponding <code>@types/*</code> npm modules. This is really a last resort. Good news, ambient declarations are faced less and less frequently nowadays.</p></li>\n</ul>\n"}], "owner": {"reputation": 664, "user_id": 4576957, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/084a677ec0671afe0af7be674c9084e3?s=128&d=identicon&r=PG&f=1", "display_name": "GCoe", "link": "https://stackoverflow.com/users/4576957/gcoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 46678725, "answer_count": 1, "score": 1, "last_activity_date": 1507688218, "creation_date": 1507685216, "last_edit_date": 1507686001, "question_id": 46678338, "link": "https://stackoverflow.com/questions/46678338/interfaces-x-any", "title": "Interfaces x any", "body": "<p>Is there any drawbacks from using 'any' instead of an interface in cases like this ? </p>\n\n<p>First with an interface for Item :</p>\n\n<pre><code>imports ...\nexport interface Item { name: string; }\n\n@Component({\n  selector: 'app-root',\n  template: `\n  my template\n  `\n})\nexport class AppComponent {\n  private itemsCollection: AngularFirestoreCollection&lt;Item&gt;;\n  items: Observable&lt;Item[]&gt;;\n  constructor(private afs: AngularFirestore) {\n    this.itemsCollection = afs.collection&lt;Item&gt;('items');\n    this.items = this.itemsCollection.valueChanges();\n  }\n}\n</code></pre>\n\n<p>Without an interface, with 'any'</p>\n\n<pre><code>imports...\n\n@Component({\n  selector: 'app-root',\n  template: `\n     my template\n  `\n})\nexport class AppComponent {\n  private itemsCollection: AngularFirestoreCollection&lt;any&gt;;\n  items: Observable&lt;Any[]&gt;;\n  constructor(private afs: AngularFirestore) {\n    this.itemsCollection = afs.collection&lt;any&gt;('items');\n    this.items = this.itemsCollection.valueChanges();\n  }\n}\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["typescript", "ecmascript-6"], "answers": [{"tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": true, "score": 2, "last_activity_date": 1507684172, "last_edit_date": 1507684172, "creation_date": 1507683677, "answer_id": 46678140, "question_id": 46678095, "link": "https://stackoverflow.com/questions/46678095/return-object-from-promise-expected-function/46678140#46678140", "title": "Return object from Promise-expected function", "body": "<p>Any function that is preceded by the <code>async</code> keyword will automatically wrap its return value in a promise. There is no need to do so manually using <code>Promise.resolve()</code> or the like, although doing so is also perfectly fine.</p>\n\n<p>From <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function</a>:</p>\n\n<blockquote>\n  <p>When an async function is called, it returns a Promise. <strong>When the async function returns a value, the Promise will be resolved with the returned value.</strong>  When the async function throws an exception or some value, the Promise will be rejected with the thrown value.</p>\n</blockquote>\n\n<p>Emphasis mine. That process happens automatically as a consequence of declaring the function using the <code>async</code> keyword.</p>\n\n<p>Additionally, typescript is aware of that, so as long as you return a value that adheres to <code>Array&lt;Category&gt;</code>, typescript is satisfied, since it knows that it will be automatically wrapped into a <code>Promise&lt;Array&lt;Category&gt;&gt;</code>.</p>\n"}], "owner": {"reputation": 877, "user_id": 3448806, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/83b56aa525e2a6679486246548749e7b?s=128&d=identicon&r=PG&f=1", "display_name": "user3448806", "link": "https://stackoverflow.com/users/3448806/user3448806"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 0, "accepted_answer_id": 46678140, "answer_count": 1, "score": 0, "last_activity_date": 1507685267, "creation_date": 1507683270, "last_edit_date": 1507685267, "question_id": 46678095, "link": "https://stackoverflow.com/questions/46678095/return-object-from-promise-expected-function", "title": "Return object from Promise-expected function", "body": "<p>I wrote this function to get and cache some datas from API.</p>\n\n<pre><code>export class MyService {\n  static items: Array&lt;Post&gt; = null;\n\n  async getItems(): Promise&lt;Array&lt;Post&gt;&gt; {\n    if (MyService.items) {\n      return MyService.items;\n    }\n    else {\n      return this.doRequest();      \n    }\n  }\n\n  private async doRequest: Promise&lt;Array&lt;Post&gt;&gt; {\n    // get items from API.\n  }\n}\n</code></pre>\n\n<p>As I know, I must return a Promise from <code>getItems</code> function, something like: <code>return Promise.resolve(MyService.items)</code>, so why (and how) above function still work - I'm returning an object from a Promise-expected function ?</p>\n"}, {"tags": ["node.js", "typescript", "import", "require"], "comments": [{"owner": {"reputation": 168, "user_id": 1561853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77242b8e7a4e520ed7e9f1471bb454f5?s=128&d=identicon&r=PG&f=1", "display_name": "fs_", "link": "https://stackoverflow.com/users/1561853/fs"}, "edited": false, "score": 1, "creation_date": 1507680735, "post_id": 46677752, "comment_id": 80303909, "body": "Unless you include the typing definitions for express, the first form won&#39;t make sense - in which case you can use the second form, but the variable <code>express</code> will be of type <code>any</code>. You could include the definitions from here <a href=\"https://www.npmjs.com/package/@types/express\" rel=\"nofollow noreferrer\">npmjs.com/package/@types/express</a>"}, {"owner": {"reputation": 11222, "user_id": 147731, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/73a519bf50887858b8ca13bb8baa45a7?s=128&d=identicon&r=PG", "display_name": "Ryall", "link": "https://stackoverflow.com/users/147731/ryall"}, "edited": false, "score": 5, "creation_date": 1534438653, "post_id": 46677752, "comment_id": 90715568, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/31354559/using-node-js-require-vs-es6-import-export\">Using Node.js require vs. ES6 import/export</a>"}, {"owner": {"reputation": 7810, "user_id": 1010868, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b988b3cd58bd446c10f2ca668a2315dd?s=128&d=identicon&r=PG&f=1", "display_name": "Tomasz Gawel", "link": "https://stackoverflow.com/users/1010868/tomasz-gawel"}, "reply_to_user": {"reputation": 11222, "user_id": 147731, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/73a519bf50887858b8ca13bb8baa45a7?s=128&d=identicon&r=PG", "display_name": "Ryall", "link": "https://stackoverflow.com/users/147731/ryall"}, "edited": false, "score": 0, "creation_date": 1606220199, "post_id": 46677752, "comment_id": 114891471, "body": "@Ryall this is different question. Notice <code>import x = require(&#39;x&#39;)</code> is not the same as <code>var x = require(&#39;x&#39;)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 9, "creation_date": 1591324798, "post_id": 46677972, "comment_id": 110019241, "body": "Biggest difference that affects code is that exports in CommonJS modules are &quot;computed&quot;, whereas exports in an ESM module are static (pre-defined).  JS can determine the exports in an ESM module after only parsing the code (not yet running it).  In a commonJS module, the exports are only known when the module actually runs and you see what is assigned to <code>module.exports</code> when the module initialization code finishes running.  This difference alone creates compatibility headaches in trying to make a single module work for both ESM and CommonJS."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 1, "creation_date": 1591324890, "post_id": 46677972, "comment_id": 110019264, "body": "ESM modules are friendlier to bundlers, but are more restrictive to coders because you can&#39;t have computed exports in ESM modules."}], "tags": [], "owner": {"reputation": 28753, "user_id": 1138192, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4ed67a4983ab0568593e133930430941?s=128&d=identicon&r=PG", "display_name": "Always Sunny", "link": "https://stackoverflow.com/users/1138192/always-sunny"}, "is_accepted": true, "score": 380, "last_activity_date": 1575707088, "last_edit_date": 1575707088, "creation_date": 1507682287, "answer_id": 46677972, "question_id": 46677752, "link": "https://stackoverflow.com/questions/46677752/the-difference-between-requirex-and-import-x/46677972#46677972", "title": "The difference between &quot;require(x)&quot; and &quot;import x&quot;", "body": "<p>This simple diagram that helps me to understand the difference between <code>require</code> and <code>import</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5WgFJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5WgFJ.png\" alt=\"enter image description here\"></a> </p>\n\n<p><strong>Apart from that,</strong></p>\n\n<p>You <strong>can't</strong> selectively load only the pieces you need with <code>require</code> but with <code>imports</code>, you can selectively load only the pieces you need. <em>That can save memory.</em></p>\n\n<p>Loading is <strong>synchronous</strong>(step by step) for <code>require</code> on the other hand <code>import</code> can be asynchronous(without waiting for previous import) so it <em>can perform a little better than</em> <code>require</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 3379, "user_id": 2611688, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ToO1z.jpg?s=128&g=1", "display_name": "austinthemassive", "link": "https://stackoverflow.com/users/2611688/austinthemassive"}, "edited": false, "score": 1, "creation_date": 1507828916, "post_id": 46678619, "comment_id": 80377172, "body": "aaaaahhhhhh. Babel hasn&#39;t been installed on this particular project, which makes everything make sense. I thought that ES6 imports/exports were functional already, but now I understand that Babel is just changing everything to <code>require</code> anyway"}, {"owner": {"reputation": 1431, "user_id": 5935343, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0585055a48bc650bd103d82d82ae319e?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/5935343/juan"}, "edited": false, "score": 0, "creation_date": 1524244544, "post_id": 46678619, "comment_id": 86909912, "body": "stick to require for now. You can always change it in the future without any problem"}, {"owner": {"reputation": 1678, "user_id": 3672474, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rDa0a.jpg?s=128&g=1", "display_name": "PrivateOmega", "link": "https://stackoverflow.com/users/3672474/privateomega"}, "edited": false, "score": 4, "creation_date": 1554974654, "post_id": 46678619, "comment_id": 97949575, "body": "<code>import won&#39;t support node_modules</code> What did you mean by that?"}, {"owner": {"reputation": 374, "user_id": 2041005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNhLz.jpg?s=128&g=1", "display_name": "Rik", "link": "https://stackoverflow.com/users/2041005/rik"}, "edited": false, "score": 1, "creation_date": 1607043354, "post_id": 46678619, "comment_id": 115155926, "body": "<code>import</code> and <code>require</code> both scan <code>node_modules</code> for the package specified by the statement. <code>require</code> loads anything assigned to <code>module.exports</code> in the package to the variable it&#39;s assigned to, or global scope if no left hand is declared. However, <code>import</code> will only load an es6 default export by name, unless all are assigned to an alias: <code>import * as X from &#39;pkg&#39;</code>. You can import es6 packages with no default using <i>object destructuring</i> too: <code>import { X } from &#39;pkg&#39;</code>. It&#39;ll work the same as <code>require</code> if you import the entire package, including all exports, to global scope <code>import &#39;package&#39;</code>."}], "tags": [], "owner": {"reputation": 1648, "user_id": 5990446, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MkTvy.png?s=128&g=1", "display_name": "A-yon Lee", "link": "https://stackoverflow.com/users/5990446/a-yon-lee"}, "is_accepted": false, "score": 126, "last_activity_date": 1560672496, "last_edit_date": 1560672496, "creation_date": 1507687416, "answer_id": 46678619, "question_id": 46677752, "link": "https://stackoverflow.com/questions/46677752/the-difference-between-requirex-and-import-x/46678619#46678619", "title": "The difference between &quot;require(x)&quot; and &quot;import x&quot;", "body": "<p>The major difference between <code>require</code> and <code>import</code>, is that <code>require</code> will automatically scan <code>node_modules</code> to find modules, but <code>import</code>, which comes from ES6, won't. </p>\n\n<p>Most people use <a href=\"https://babeljs.io/\" rel=\"noreferrer\">babel</a> to compile <code>import</code> and <code>export</code>, which makes <code>import</code> act the same as <code>require</code>.</p>\n\n<p>The future version of Node.js might support <code>import</code> itself (actually, <a href=\"https://stackoverflow.com/a/37132668\">the experimental version already does</a>), and judging by Node.js' notes, <code>import</code> won't support <code>node_modules</code>, it base on ES6, and must specify the path of the module.</p>\n\n<p>So I would suggest you not use <code>import</code> with babel, but this feature is not yet confirmed, it might support <code>node_modules</code> in the future, who would know?</p>\n\n<hr>\n\n<p>For reference, below is an example of how babel can convert ES6's <code>import</code> syntax to CommonJS's <code>require</code> syntax.</p>\n\n<p>Say the file<code>app_es6.js</code> contains this import:</p>\n\n<pre><code>import format from 'date-fns/format';\n</code></pre>\n\n<p>This is a directive to import the <a href=\"https://date-fns.org/v1.30.1/docs/format\" rel=\"noreferrer\">format</a> function from the node package <a href=\"https://www.npmjs.com/package/date-fns\" rel=\"noreferrer\">date-fns</a>.  </p>\n\n<p>The related <code>package.json</code> file could contain something like this:</p>\n\n<pre><code>\"scripts\": {\n    \"start\": \"node app.js\",\n    \"build-server-file\": \"babel app_es6.js --out-file app.js\",\n    \"webpack\": \"webpack\"\n}\n</code></pre>\n\n<p>The related <code>.babelrc</code> file could be something like this:</p>\n\n<pre><code>{\n    \"presets\": [\n        [\n            \"env\",\n            {\n                \"targets\":\n                {\n                    \"node\": \"current\"\n                }\n            }\n        ]\n    ]\n}\n</code></pre>\n\n<p>This <code>build-server-file</code> script defined in the <code>package.json</code> file is a directive for babel to parse the <code>app_es6.js</code> file and output the file <code>app.js</code>.  </p>\n\n<p>After running the <code>build-server-file</code> script, if you open <code>app.js</code> and look for the <code>date-fns</code> import, you will see it has been converted into this:</p>\n\n<pre><code>var _format = require(\"date-fns/format\");\n\nvar _format2 = _interopRequireDefault(_format);\n</code></pre>\n\n<p>Most of that file is gobbledygook to most humans, however computers understand it.</p>\n\n<hr>\n\n<p>Also for reference, as an example of how a module can be created and imported into your project, if you install <code>date-fns</code> and then open <code>node_modules/date-fns/get_year/index.js</code> you can see it contains:</p>\n\n<pre><code>var parse = require('../parse/index.js')\n\nfunction getYear (dirtyDate) {\n  var date = parse(dirtyDate)\n  var year = date.getFullYear()\n  return year\n}\n\nmodule.exports = getYear\n</code></pre>\n\n<p>Using the babel process above, your <code>app_es6.js</code> file could then contain:</p>\n\n<pre><code>import getYear from 'date-fns/get_year';\n\n// Which year is 2 July 2014?\nvar result = getYear(new Date(2014, 6, 2))\n//=&gt; 2014\n</code></pre>\n\n<p>And babel would convert the imports to:</p>\n\n<pre><code>var _get_year = require(\"date-fns/get_year\");\n\nvar _get_year2 = _interopRequireDefault(_get_year);\n</code></pre>\n\n<p>And handle all references to the function accordingly.  </p>\n"}, {"comments": [{"owner": {"reputation": 374, "user_id": 2041005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNhLz.jpg?s=128&g=1", "display_name": "Rik", "link": "https://stackoverflow.com/users/2041005/rik"}, "edited": false, "score": 2, "creation_date": 1607040986, "post_id": 51759426, "comment_id": 115155437, "body": "This is definitely the right answer. The poster had an issue with using the es6 <code>import</code> statement, and was confused by the <b>express has no default export</b> error. This answer provides the solution. Modules with multiple (and even single) exports which do not define a <code>default export</code> will need to have all exports assigned to a named variable, as the answer explains:  <code>import * as whatever from &#39;package&#39;;</code>"}], "tags": [], "owner": {"reputation": 398, "user_id": 3558994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1kRPd.jpg?s=128&g=1", "display_name": "saikiran_hegde", "link": "https://stackoverflow.com/users/3558994/saikiran-hegde"}, "is_accepted": false, "score": 28, "last_activity_date": 1533792575, "creation_date": 1533792575, "answer_id": 51759426, "question_id": 46677752, "link": "https://stackoverflow.com/questions/46677752/the-difference-between-requirex-and-import-x/51759426#51759426", "title": "The difference between &quot;require(x)&quot; and &quot;import x&quot;", "body": "<p>Let me give an example for Including express module with require &amp; import</p>\n\n<p>-require</p>\n\n<pre><code>var express = require('express');\n</code></pre>\n\n<p>-import</p>\n\n<pre><code>import * as  express from 'express';\n</code></pre>\n\n<p>So after using any of the above statement we will have a variable called as 'express' with us. Now we can define 'app' variable as,</p>\n\n<pre><code>var app = express(); \n</code></pre>\n\n<p>So we use 'require' with 'CommonJS' and 'import' with 'ES6'.</p>\n\n<p>For more info on 'require' &amp; 'import', read through below links.</p>\n\n<p>require - <a href=\"https://medium.freecodecamp.org/requiring-modules-in-node-js-everything-you-need-to-know-e7fbd119be8\" rel=\"noreferrer\">Requiring modules in Node.js: Everything you need to know</a></p>\n\n<p>import - <a href=\"https://medium.com/the-node-js-collection/an-update-on-es6-modules-in-node-js-42c958b890c\" rel=\"noreferrer\">An Update on ES6 Modules in Node.js</a></p>\n"}, {"tags": [], "owner": {"reputation": 130, "user_id": 12440036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXfT0.png?s=128&g=1", "display_name": "LaZza", "link": "https://stackoverflow.com/users/12440036/lazza"}, "is_accepted": false, "score": 9, "last_activity_date": 1574791194, "creation_date": 1574791194, "answer_id": 59056876, "question_id": 46677752, "link": "https://stackoverflow.com/questions/46677752/the-difference-between-requirex-and-import-x/59056876#59056876", "title": "The difference between &quot;require(x)&quot; and &quot;import x&quot;", "body": "<p><strong>new ES6:</strong></p>\n\n<p>'import' should be used with 'export' key words to share variables/arrays/objects between js files:</p>\n\n<pre><code>export default myObject;\n\n//....in another file\n\nimport myObject from './otherFile.js';\n</code></pre>\n\n<p><strong>old skool:</strong></p>\n\n<p>'require' should be used with 'module.exports'</p>\n\n<pre><code> module.exports = myObject;\n\n//....in another file\n\nvar myObject = require('./otherFile.js');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 172, "user_id": 4604811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8438123485999dd1a3d1af1f5deb2a6?s=128&d=identicon&r=PG&f=1", "display_name": "pranav shinde", "link": "https://stackoverflow.com/users/4604811/pranav-shinde"}, "is_accepted": false, "score": 8, "last_activity_date": 1605492092, "creation_date": 1605492092, "answer_id": 64851779, "question_id": 46677752, "link": "https://stackoverflow.com/questions/46677752/the-difference-between-requirex-and-import-x/64851779#64851779", "title": "The difference between &quot;require(x)&quot; and &quot;import x&quot;", "body": "<p>I will make it simple,</p>\n<ul>\n<li>Import and Export are ES6 features(Next gen JS).</li>\n<li>Require is old school method of importing code from other files</li>\n</ul>\n<p>Major difference is in require, entire JS file is called or imported. Even if you don't need some part of it.</p>\n<pre><code>var myObject = require('./otherFile.js'); //This JS file will be imported fully.\n</code></pre>\n<p>Whereas in import you can extract only objects/functions/variables which are required.</p>\n<pre><code>import { getDate }from './utils.js'; \n//Here I am only pulling getDate method from the file instead of importing full file\n</code></pre>\n<p>Another major difference is you can use <code>require</code> anywhere in the program where as <code>import</code> should always be at the top of file</p>\n"}], "owner": {"reputation": 3379, "user_id": 2611688, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ToO1z.jpg?s=128&g=1", "display_name": "austinthemassive", "link": "https://stackoverflow.com/users/2611688/austinthemassive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191251, "favorite_count": 102, "protected_date": 1576569430, "accepted_answer_id": 46677972, "answer_count": 5, "score": 307, "last_activity_date": 1605492092, "creation_date": 1507680277, "last_edit_date": 1581657108, "question_id": 46677752, "link": "https://stackoverflow.com/questions/46677752/the-difference-between-requirex-and-import-x", "title": "The difference between &quot;require(x)&quot; and &quot;import x&quot;", "body": "<p>I've just started working on a small node project that will interface with a MongoDB. However, I cannot seem to get the relevant node modules to import correctly, even though I have installed them correctly via <code>npm</code>.</p>\n\n<p>For example, the following code throws an error, telling me that \"express has no default export\":</p>\n\n<pre><code>import express from \"express\";\n</code></pre>\n\n<p>However, this code works:</p>\n\n<pre><code>const express = require(\"express\");\n</code></pre>\n\n<p><strong>So my question is, what is the difference in how the import and variable/require methods function?</strong> I'd like to fix whatever is plaguing my imports on the project, as it seems likely to cause additional problems down the road.</p>\n"}, {"tags": ["angular", "typescript", "lambda"], "comments": [{"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 2, "creation_date": 1507679637, "post_id": 46677639, "comment_id": 80303671, "body": "The http.get function is async, so the getUsuarios() returns its result before the http call completes, that&#39;s why it returns null. You probably want to return the observable instead of the array."}], "answers": [{"comments": [{"owner": {"reputation": 669, "user_id": 8250830, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f0443bc84039aa7bf48e0124a11ae60d?s=128&d=identicon&r=PG&f=1", "display_name": "RottenCheese", "link": "https://stackoverflow.com/users/8250830/rottencheese"}, "edited": false, "score": 0, "creation_date": 1507680737, "post_id": 46677706, "comment_id": 80303910, "body": "Is there any way to know when the async execution is completed? Something like the <i>await</i> operator in C#."}, {"owner": {"reputation": 1087, "user_id": 7145293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AoYt4.jpg?s=128&g=1", "display_name": "Andresson", "link": "https://stackoverflow.com/users/7145293/andresson"}, "reply_to_user": {"reputation": 669, "user_id": 8250830, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f0443bc84039aa7bf48e0124a11ae60d?s=128&d=identicon&r=PG&f=1", "display_name": "RottenCheese", "link": "https://stackoverflow.com/users/8250830/rottencheese"}, "edited": false, "score": 0, "creation_date": 1507681458, "post_id": 46677706, "comment_id": 80304058, "body": "When the async execution is completed this gets executed: <code>.subscribe(data =&gt;{ &#47;&#47; here you can do something with your data.})</code>"}, {"owner": {"reputation": 669, "user_id": 8250830, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f0443bc84039aa7bf48e0124a11ae60d?s=128&d=identicon&r=PG&f=1", "display_name": "RottenCheese", "link": "https://stackoverflow.com/users/8250830/rottencheese"}, "edited": false, "score": 0, "creation_date": 1507684921, "post_id": 46677706, "comment_id": 80304853, "body": "Okay, just one more silly question. If I don&#39;t subscribe the <i>Observable</i>, is the http request still sent? I mean, I&#39;ll get a response back from the server but nothing will happen because I don&#39;t subscribe the <i>Observable</i>, right? I&#39;ll hold in the response within that <i>Observable</i>, right? That&#39;s what I mean. Or is it sent as soon as I do a subscription for that <i>Observable</i>? I don&#39;t know if I explained myself good-enough."}, {"owner": {"reputation": 1087, "user_id": 7145293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AoYt4.jpg?s=128&g=1", "display_name": "Andresson", "link": "https://stackoverflow.com/users/7145293/andresson"}, "reply_to_user": {"reputation": 669, "user_id": 8250830, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f0443bc84039aa7bf48e0124a11ae60d?s=128&d=identicon&r=PG&f=1", "display_name": "RottenCheese", "link": "https://stackoverflow.com/users/8250830/rottencheese"}, "edited": false, "score": 1, "creation_date": 1507687704, "post_id": 46677706, "comment_id": 80305519, "body": "Not silly question at all. Well observables can be a bit tricky, we got 2 types, a hot observable and a cold observable. http.post (and get, put, delete, etc) returns a cold Observable (&quot;..its underlying producer is created and activated during subscription&quot;). So yes it is sent as soon as you do a subscription for that Observable. Feel free to read more about it <a href=\"https://medium.com/@benlesh/hot-vs-cold-observables-f8094ed53339#.tofgfsou4\" rel=\"nofollow noreferrer\">here.</a>"}], "tags": [], "owner": {"reputation": 1087, "user_id": 7145293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AoYt4.jpg?s=128&g=1", "display_name": "Andresson", "link": "https://stackoverflow.com/users/7145293/andresson"}, "is_accepted": true, "score": 1, "last_activity_date": 1507680350, "last_edit_date": 1507680350, "creation_date": 1507679915, "answer_id": 46677706, "question_id": 46677639, "link": "https://stackoverflow.com/questions/46677639/lambda-expression-not-working-properly/46677706#46677706", "title": "Lambda Expression &quot;not working properly&quot;", "body": "<p>It is indeed working properly, the expect console output should be: </p>\n\n<p><code>undefined</code><br>\n<code>...some data</code>  </p>\n\n<p>The reason is that the http makes an asynchronous call meaning the first console.log() is not executed until you receive a response from the http request.<br>\nThe 2nd console.log() is not within the same scope as the http request so it gets executed first. You can read more information related to your question <a href=\"http://www.sohamkamani.com/blog/2016/03/14/wrapping-your-head-around-async-programming/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 669, "user_id": 8250830, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f0443bc84039aa7bf48e0124a11ae60d?s=128&d=identicon&r=PG&f=1", "display_name": "RottenCheese", "link": "https://stackoverflow.com/users/8250830/rottencheese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 46677706, "answer_count": 1, "score": 0, "last_activity_date": 1507680350, "creation_date": 1507679389, "last_edit_date": 1507679710, "question_id": 46677639, "link": "https://stackoverflow.com/questions/46677639/lambda-expression-not-working-properly", "title": "Lambda Expression &quot;not working properly&quot;", "body": "<p>I'm having troubles assigning a value to an array in a <em>Observable</em> in a <em>Lambda</em> expression.</p>\n\n<p>I have a class with this attribute:</p>\n\n<pre><code>usuarios: Usuario[];\n</code></pre>\n\n<p>I'm injecting a <em>Http</em> service. </p>\n\n<p>I have a function with the following:</p>\n\n<pre><code>getUsuarios(): Usuario[] {\n\n    this._http.get(\"http://localhost:3000/db\").map(data =&gt; data.json()).subscribe(data =&gt; {\n      this.usuarios = data[\"Usuarios\"];\n      console.log(this.usuarios);\n    });\n\n    console.log(this.usuarios);\n\n    return this.usuarios;\n  }\n</code></pre>\n\n<p>For some reasong, tho, in the console, with the first <em>console log</em> (the one within the lambda expression) shows the data perfectly.</p>\n\n<p>But if I console log again, this time outside the lambda expression, <code>this.usuarios</code> is empty (<em>undefined</em>).</p>\n\n<p>Why is that happening? </p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable", "subscription"], "comments": [{"owner": {"reputation": 4550, "user_id": 6664264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154344266054326/picture?type=large", "display_name": "Wandrille", "link": "https://stackoverflow.com/users/6664264/wandrille"}, "edited": false, "score": 0, "creation_date": 1507672685, "post_id": 46676453, "comment_id": 80301659, "body": "Sometimes, the problem comes from the unsubscribe method."}, {"owner": {"reputation": 3, "user_id": 7405253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ege37obP9os/AAAAAAAAAAI/AAAAAAAAELA/fpt-TDay8A0/photo.jpg?sz=128", "display_name": "Ruslan Tereshchenko", "link": "https://stackoverflow.com/users/7405253/ruslan-tereshchenko"}, "reply_to_user": {"reputation": 4550, "user_id": 6664264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154344266054326/picture?type=large", "display_name": "Wandrille", "link": "https://stackoverflow.com/users/6664264/wandrille"}, "edited": false, "score": 0, "creation_date": 1507726562, "post_id": 46676453, "comment_id": 80325051, "body": "In previous version of this code the unsubscribe method was absent, and problem was the same"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7405253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ege37obP9os/AAAAAAAAAAI/AAAAAAAAELA/fpt-TDay8A0/photo.jpg?sz=128", "display_name": "Ruslan Tereshchenko", "link": "https://stackoverflow.com/users/7405253/ruslan-tereshchenko"}, "edited": false, "score": 0, "creation_date": 1507730728, "post_id": 46678546, "comment_id": 80328379, "body": "This also did not solve the problem. I want to note that everything works if i use Promise instead of Observer."}], "tags": [], "owner": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1507686810, "creation_date": 1507686810, "answer_id": 46678546, "question_id": 46676453, "link": "https://stackoverflow.com/questions/46676453/why-angular-4-componets-view-doesnt-rerender-when-components-properties-are-c/46678546#46678546", "title": "Why angular 4 componet&#39;s view doesn&#39;t rerender when component&#39;s properties are changed in subscription callbacks?", "body": "<p>Try to change a few things:</p>\n\n<ul>\n<li>Annotate your component fields as correct inputs -- just prepend them with <code>@Input</code>;</li>\n<li>Make those fields public, either by specifying it explicitly or simply by removing the keyword <code>private</code>.</li>\n</ul>\n\n<hr>\n\n<pre><code>  @Input() showLoading = false;\n  @Input() showLoginForm = true;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7405253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ege37obP9os/AAAAAAAAAAI/AAAAAAAAELA/fpt-TDay8A0/photo.jpg?sz=128", "display_name": "Ruslan Tereshchenko", "link": "https://stackoverflow.com/users/7405253/ruslan-tereshchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1507731386, "creation_date": 1507671567, "last_edit_date": 1507731386, "question_id": 46676453, "link": "https://stackoverflow.com/questions/46676453/why-angular-4-componets-view-doesnt-rerender-when-components-properties-are-c", "title": "Why angular 4 componet&#39;s view doesn&#39;t rerender when component&#39;s properties are changed in subscription callbacks?", "body": "<p>I have written authentiction system in angular 4 using RxJS Observer feature. Querying to Oracle database is based on querystream converted to observer/observable in service, then in login component with log in form I subscribe to obervable in service to get result of authentication. Service's observable object, which is returned by method, publishes \"true\" or \"false\" if user is authenticated or not. By clicking on login button in login form component the loading animation is shown and login form is hidden. When user is authenticated router redirects user to feature pages. When user is not authenticated the loading animation is hidden and login form is shown again. But this does not work as expected. In console i see output that user is not logged in, and at the same time loading animation is still shown, form is hidden, despite properties of component display showLoading = false and showLoginForm = true</p>\n\n<p><strong>login.service.ts</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Injectable } from '@angular/core';\r\nimport { DbSelectService } from '../db/db-select.service';\r\nimport * as md5 from 'js-md5';\r\nimport { AuthModel, CurrentUserModel } from '../../data-models/data-models.interfaces';\r\nimport { DbSelectQueryParams } from '../../data-models/data-models.interfaces';\r\nimport { CurrentUserDbRow } from '../../data-models/db-responses.interfaces';\r\nimport { SessionService } from '../core/session.service';\r\nimport { CacheService } from '../feature/cache.service';\r\nimport { LoggerService } from '../core/logger.service';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Observer } from 'rxjs/Observer';\r\n\r\n@Injectable()\r\nexport class LoginService {\r\n\r\n    private currentAuthData: AuthModel;\r\n    private currentUser: CurrentUserModel;\r\n\r\n    constructor (\r\n        private dbSelect: DbSelectService,\r\n        private sessionService: SessionService,\r\n        private cacheService: CacheService,\r\n        private logger: LoggerService\r\n    ) {\r\n\r\n        this.currentAuthData = this.cacheService.getCurrentAuthDataCache();\r\n        this.currentUser = this.cacheService.getCurrentUser();\r\n\r\n    }\r\n\r\n    checkAccessRights (): Observable&lt;boolean&gt; {\r\n\r\n        return new Observable( (observer: Observer&lt;boolean&gt;) =&gt; {\r\n\r\n            const queryParams: DbSelectQueryParams = {\r\n                fields: [\r\n                    `NAME`,\r\n                    `ROLE`\r\n                ],\r\n                tables: [\r\n                    `SINS.P_USER`\r\n                ],\r\n                conditions: [\r\n                    `UPPER(P_USER.NAME) = UPPER(:username)`,\r\n                    `AND`,\r\n                    `PSWD = :password`,\r\n                    `AND`,\r\n                    `HASH = :hash`,\r\n                    `AND`,\r\n                    `LOCKED &lt;&gt; '1'`,\r\n                    `AND`,\r\n                    `ROWNUM = 1`\r\n                ]\r\n            };\r\n\r\n            const bindParams = {\r\n                username: this.currentAuthData.username,\r\n                password: this.currentAuthData.password,\r\n                hash: md5(this.currentAuthData.password)\r\n            };\r\n\r\n            let userIsAuthenticated = false;\r\n            const AUTHENTICATED = true;\r\n            const NOT_AUTHENTICATED = false;\r\n\r\n            this.dbSelect.select&lt;CurrentUserDbRow&gt;(queryParams, bindParams).subscribe(\r\n                user =&gt; {\r\n\r\n                    console.warn(user);\r\n                    this.currentUser.username = user.NAME.toUpperCase();\r\n                    this.currentUser.role = user.ROLE.toLowerCase();\r\n\r\n                    this.sessionService.getAccessToUser();\r\n\r\n                    userIsAuthenticated = true;\r\n\r\n                    observer.next(AUTHENTICATED);\r\n                    observer.complete();\r\n\r\n                },\r\n                err =&gt; {\r\n\r\n                    observer.error(err);\r\n                    this.logger.writeError(err);\r\n                    this.sessionService.closeSession();\r\n\r\n                },\r\n                () =&gt; {\r\n\r\n                    observer.next(NOT_AUTHENTICATED);\r\n                    observer.complete();\r\n\r\n                    if (userIsAuthenticated === NOT_AUTHENTICATED) {\r\n                        this.logger.writeNewError('logon denied');\r\n                        this.sessionService.closeSession();\r\n                    }\r\n\r\n                }\r\n            );\r\n\r\n        } );\r\n\r\n    }\r\n\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>login.component.ts</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Title } from '@angular/platform-browser';\r\nimport { AppConfig } from '../services/core/app-config.service';\r\nimport { remote } from 'electron';\r\nimport { LoginService } from '../services/auth/login.service';\r\nimport { AuthModel } from '../data-models/data-models.interfaces';\r\nimport { ToastService } from '../services/core/toast.service';\r\nimport { CacheService } from '../services/feature/cache.service';\r\nimport { AppConfigParamsModel, MaxLengthAndValueModel } from '../data-models/data-models.interfaces';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\n@Component({\r\n    selector: 'login',\r\n    styleUrls: ['app/login/login.component.css'],\r\n    templateUrl: 'app/login/login.component.html'\r\n})\r\n\r\nexport class LoginComponent implements OnInit, OnDestroy {\r\n\r\n    private pagename = '\u041b\u043e\u0433\u0438\u043d';\r\n    private showLoading = false;\r\n    private showLoginForm = true;\r\n    private loginSubscription: Subscription;\r\n\r\n    private authmodel: AuthModel;\r\n\r\n    private maxlength: MaxLengthAndValueModel = {\r\n        username: 32,\r\n        password: 32\r\n    };\r\n\r\n    constructor (\r\n        private titleService: Title,\r\n        private config: AppConfig,\r\n        private loginService: LoginService,\r\n        private toastService: ToastService,\r\n        private cacheService: CacheService\r\n    ) {\r\n\r\n        this.authmodel = this.cacheService.getCurrentAuthDataCache();\r\n\r\n    }\r\n\r\n    ngOnInit () {\r\n\r\n        this.config.getParams().then( (params: AppConfigParamsModel) =&gt; {\r\n\r\n            this.titleService.setTitle( `${params.appname} - ${this.pagename}` );\r\n\r\n        } );\r\n\r\n    }\r\n\r\n\r\n    ngOnDestroy () {\r\n\r\n        if (this.loginSubscription) {\r\n            this.loginSubscription.unsubscribe();\r\n        }\r\n\r\n    }\r\n\r\n\r\n    private onLogin (): void {\r\n\r\n        this.showLoadingAnimation();\r\n\r\n        this.loginSubscription = this.loginService.checkAccessRights().subscribe(\r\n            accessAllowed =&gt; {\r\n\r\n                if (accessAllowed) {\r\n\r\n                    this.toastService.showAdviceToast('\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!');\r\n\r\n                } else {\r\n\r\n                    this.hideLoadingAnimation();\r\n                    this.toastService.showErrorToastWithAdvice('\u0412\u0425\u041e\u0414 \u0417\u0410\u041f\u0420\u0415\u0429\u0401\u041d', '\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443');\r\n\r\n                }\r\n\r\n            },\r\n            err =&gt; {\r\n\r\n                this.hideLoadingAnimation();\r\n                this.toastService.showErrorToastWithAdvice('\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0439\u0442\u0438', '\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437');\r\n\r\n            }\r\n        );\r\n\r\n    }\r\n\r\n\r\n    private closeWindow (): void {\r\n\r\n        remote.getCurrentWindow().close();\r\n\r\n    }\r\n\r\n\r\n    private showLoadingAnimation(): void {\r\n\r\n        this.showLoading = true;\r\n        this.showLoginForm = false;\r\n        console.warn(this);\r\n\r\n    }\r\n\r\n\r\n    private hideLoadingAnimation(): void {\r\n\r\n        this.showLoading = false;\r\n        this.showLoginForm = true;\r\n        console.warn(this);\r\n\r\n    }\r\n\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But if i change service method just for experiment just like shown bellow (without subscription to querying results) component's view is rerendered well.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>checkAccessRights (): Observable&lt;boolean&gt; {\r\n\r\n        return new Observable( (observer: Observer&lt;boolean&gt;) =&gt; {\r\n\r\n            const AUTHENTICATED = true;\r\n            const NOT_AUTHENTICATED = false;\r\n\r\n            this.currentUser.username = 'ADMIN';\r\n            this.currentUser.role = 'admin';\r\n            this.sessionService.getAccessToUser();\r\n            observer.next(AUTHENTICATED);\r\n            observer.complete();\r\n\r\n        } );\r\n\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n\nI want to note, that everything works if i use Promise instead of Observer.</p>\n\n<p><strong>in service</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>checkAccessRights (): Promise&lt;boolean&gt; {\r\n\r\n        return new Promise( (resolve, reject) =&gt; {\r\n\r\n            const queryParams: DbSelectQueryParams = {\r\n                fields: [\r\n                    `NAME`,\r\n                    `ROLE`\r\n                ],\r\n                tables: [\r\n                    `SINS.P_USER`\r\n                ],\r\n                conditions: [\r\n                    `UPPER(P_USER.NAME) = UPPER(:username)`,\r\n                    `AND`,\r\n                    `PSWD = :password`,\r\n                    `AND`,\r\n                    `HASH = :hash`,\r\n                    `AND`,\r\n                    `LOCKED &lt;&gt; '1'`,\r\n                    `AND`,\r\n                    `ROWNUM = 1`\r\n                ]\r\n            };\r\n\r\n            const bindParams = {\r\n                username: this.currentAuthData.username,\r\n                password: this.currentAuthData.password,\r\n                hash: md5(this.currentAuthData.password)\r\n            };\r\n\r\n            let userIsAuthenticated = false;\r\n            const AUTHENTICATED = true;\r\n            const NOT_AUTHENTICATED = false;\r\n\r\n            this.dbSelect.select&lt;CurrentUserDbRow&gt;(queryParams, bindParams).subscribe(\r\n                user =&gt; {\r\n\r\n                    console.warn(user);\r\n                    this.currentUser.username = user.NAME.toUpperCase();\r\n                    this.currentUser.role = user.ROLE.toLowerCase();\r\n\r\n                    this.sessionService.getAccessToUser();\r\n\r\n                    userIsAuthenticated = true;\r\n\r\n                    resolve(AUTHENTICATED);\r\n\r\n                },\r\n                err =&gt; {\r\n\r\n                    reject(err);\r\n                    this.logger.writeError(err);\r\n\r\n                },\r\n                () =&gt; {\r\n\r\n                    resolve(NOT_AUTHENTICATED);\r\n\r\n                    if (userIsAuthenticated === NOT_AUTHENTICATED) {\r\n                        this.logger.writeNewError('logon denied');\r\n                    }\r\n\r\n                }\r\n            );\r\n\r\n        } );\r\n\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>in component</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>this.loginService.checkAccessRights().then(\r\n            accessAllowed =&gt; {\r\n\r\n                if (accessAllowed) {\r\n\r\n                    this.toastService.showAdviceToast('\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!');\r\n\r\n                } else {\r\n\r\n                    this.hideLoadingAnimation();\r\n                    this.toastService.showErrorToastWithAdvice('\u0412\u0425\u041e\u0414 \u0417\u0410\u041f\u0420\u0415\u0429\u0401\u041d', '\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443');\r\n\r\n                }\r\n\r\n            }\r\n        ).catch(\r\n            err =&gt; {\r\n\r\n                this.hideLoadingAnimation();\r\n                this.toastService.showErrorToastWithAdvice('\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0439\u0442\u0438', '\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437');\r\n\r\n            }\r\n        );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Help me, please, to solve this issue and make component rerendering as expected.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "nouislider"], "answers": [{"tags": [], "owner": {"reputation": 947, "user_id": 1467478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9vEsf.png?s=128&g=1", "display_name": "seN", "link": "https://stackoverflow.com/users/1467478/sen"}, "is_accepted": true, "score": 0, "last_activity_date": 1507671670, "creation_date": 1507671670, "answer_id": 46676477, "question_id": 46676150, "link": "https://stackoverflow.com/questions/46676150/javascript-plugins-in-angular-do-not-show-up-but-html-is-there/46676477#46676477", "title": "Javascript Plugins in Angular Do not show up, but HTML is there", "body": "<blockquote>\n  <p>I do not see anything in the browser - even though I can see the HTML being generated</p>\n</blockquote>\n\n<p>Did you include the CSS?</p>\n"}], "owner": {"reputation": 1111, "user_id": 101005, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eb32068a06f804edf9874e8c2b80a4f3?s=128&d=identicon&r=PG", "display_name": "puttputt", "link": "https://stackoverflow.com/users/101005/puttputt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 46676477, "answer_count": 1, "score": 0, "last_activity_date": 1507671670, "creation_date": 1507670079, "question_id": 46676150, "link": "https://stackoverflow.com/questions/46676150/javascript-plugins-in-angular-do-not-show-up-but-html-is-there", "title": "Javascript Plugins in Angular Do not show up, but HTML is there", "body": "<p>I'm trying to use a few different javascript libraries for a rangeslider. However, for each one I use, I do not see anything in the browser - even though I can see the HTML being generated. I have settled on using nouislider.</p>\n\n<pre><code>import { Component, ViewChild, ElementRef, OnInit, AfterViewInit} from '@angular/core';\nimport * as nouislider from 'nouislider';\n\n@Component({\n  selector: 'app-root',\n  template: '&lt;div #here&gt;&lt;/div&gt;',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements AfterViewInit {\n\n  @ViewChild('here') range : ElementRef\n\n  ngAfterViewInit() {\n    nouislider.create(this.range.nativeElement,\n      {\n        start: [20, 80],\n        connect: true,\n        range: {\n          'min': 0,\n          'max': 100\n        }\n    });\n  }\n}\n</code></pre>\n\n<p>And the result:\n<a href=\"https://i.stack.imgur.com/gIlt0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gIlt0.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there something I am missing? This is an empty Angular 4 project. I know there are directives for nouislider which are already made. However I have also not been able to get them to work.</p>\n"}, {"tags": ["reactjs", "typescript", "react-tsx"], "comments": [{"owner": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "edited": false, "score": 1, "creation_date": 1507668171, "post_id": 46675617, "comment_id": 80299608, "body": "You do realize that this is not typescript, right?"}, {"owner": {"reputation": 11009, "user_id": 926988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/65e075e9b0046ba87908d3561e810ba6?s=128&d=identicon&r=PG", "display_name": "zupa", "link": "https://stackoverflow.com/users/926988/zupa"}, "reply_to_user": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "edited": false, "score": 0, "creation_date": 1507668896, "post_id": 46675617, "comment_id": 80299992, "body": "@Amit, now that you say, I do, but I didn&#39;t realize at the time of asking. Thanks. So, then, any idea for a proper workflow for going JSX -&gt; TS -&gt; JS?"}, {"owner": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "edited": false, "score": 0, "creation_date": 1507669065, "post_id": 46675617, "comment_id": 80300073, "body": "No, personally, I dislike react precisely for this reason. I find this syntax awkward and distracting."}, {"owner": {"reputation": 11009, "user_id": 926988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/65e075e9b0046ba87908d3561e810ba6?s=128&d=identicon&r=PG", "display_name": "zupa", "link": "https://stackoverflow.com/users/926988/zupa"}, "reply_to_user": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "edited": false, "score": 0, "creation_date": 1507669341, "post_id": 46675617, "comment_id": 80300247, "body": "@Amit, I&#39;m looking for anything stable, so your suggestion of dropping TSX is in fact an improvement, thanks! Personally, I&#39;d prefer to keep it if there is a way."}], "answers": [{"comments": [{"owner": {"reputation": 11009, "user_id": 926988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/65e075e9b0046ba87908d3561e810ba6?s=128&d=identicon&r=PG", "display_name": "zupa", "link": "https://stackoverflow.com/users/926988/zupa"}, "edited": false, "score": 0, "creation_date": 1507680347, "post_id": 46677479, "comment_id": 80303813, "body": "Thanks for the answer. Actually, that&#39;s not my problem. It&#39;s that the constructor type mismatches that of the call <code>ReactDOM.render(&lt;App foo=&quot;foo&quot; bar=&quot;bar&quot; &#47;&gt;, root)</code>, which passes one object, not 2 strings."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1507678144, "creation_date": 1507678144, "answer_id": 46677479, "question_id": 46675617, "link": "https://stackoverflow.com/questions/46675617/typescript-not-catching-type-mismatch-react-tsx/46677479#46677479", "title": "typescript not catching type mismatch (react TSX)", "body": "<p>Your concern : </p>\n\n<pre><code>// WRONG, to work, it should be:\n//   constructor(props Props) {\nconstructor(foo: string, bar: string) {\n  super();\n}\n</code></pre>\n\n<p>is invalid because you can always inherit a class and provide your own constructor : </p>\n\n<pre><code>class A {\n  constructor(a: number) { }\n}\n\nclass B extends A {\n  // ALLOWED\n  constructor(b: string) {\n    super(123)\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11009, "user_id": 926988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/65e075e9b0046ba87908d3561e810ba6?s=128&d=identicon&r=PG", "display_name": "zupa", "link": "https://stackoverflow.com/users/926988/zupa"}, "edited": false, "score": 0, "creation_date": 1508087670, "post_id": 46751407, "comment_id": 80460740, "body": "I wanted to give you a bounty, but apparently I can only do so after 23hrs. Documenting it here, to avoid further answers."}], "tags": [], "owner": {"reputation": 9064, "user_id": 2999566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2355cb8d30b82296663928fdff698e38?s=128&d=identicon&r=PG", "display_name": "Mike Patrick", "link": "https://stackoverflow.com/users/2999566/mike-patrick"}, "is_accepted": true, "score": 1, "last_activity_date": 1508038349, "creation_date": 1508038349, "answer_id": 46751407, "question_id": 46675617, "link": "https://stackoverflow.com/questions/46675617/typescript-not-catching-type-mismatch-react-tsx/46751407#46751407", "title": "typescript not catching type mismatch (react TSX)", "body": "<p>You'll get the compiler complaints you're looking for if you remember to pass the <code>props</code> to <code>super()</code>.  This is just part of extending <code>React.Component</code>, and <a href=\"https://reactjs.org/docs/react-component.html#constructor\" rel=\"nofollow noreferrer\">should always be done.</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/nkLzW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nkLzW.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 11009, "user_id": 926988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/65e075e9b0046ba87908d3561e810ba6?s=128&d=identicon&r=PG", "display_name": "zupa", "link": "https://stackoverflow.com/users/926988/zupa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "accepted_answer_id": 46751407, "answer_count": 2, "score": 1, "last_activity_date": 1508087594, "creation_date": 1507668005, "last_edit_date": 1507717328, "question_id": 46675617, "link": "https://stackoverflow.com/questions/46675617/typescript-not-catching-type-mismatch-react-tsx", "title": "typescript not catching type mismatch (react TSX)", "body": "<p>TypeScript &amp; React newbie here. Why does TypeScript not yell at me for <code>constructor(foo: string)</code> input type not matching <code>{foo: string}</code>? (Note: one of them is a string, the other an object.)</p>\n\n<p>TypeScript will happily compile this, and of course the resulting code will blow up. I tried to turn on all the options tsconfig.json has to offer. I'm using typescript 2.5.3.</p>\n\n<p>Is there any way, like typescript config, code change, or anything else to harden the code to avoid this? Any ideas appreciated, my goal is to write stable code.</p>\n\n<p>import * as React from 'react';\n    import * as ReactDOM from 'react-dom';</p>\n\n<pre><code>class App extends React.Component&lt;{ foo: string }, { foo: string }&gt; {\n    // expects string\n    constructor(foo: string) {\n        super();\n        this.state = {\n            foo: foo\n        }\n    }\n    render() {\n        return &lt;div&gt;{this.state.foo}&lt;/div&gt;\n    }\n}\n\n// Passes object { foo: string }\nReactDOM.render(&lt;App foo=\"foo\" /&gt;, document.getElementById('root'))\n</code></pre>\n\n<p><strong>EDIT</strong>: simplified question</p>\n"}, {"tags": ["typescript", "ionic-framework"], "answers": [{"tags": [], "owner": {"reputation": 6729, "user_id": 6184203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed000dd4ea56a7da9bb47b2e095fa5e?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6184203/david"}, "is_accepted": true, "score": 0, "last_activity_date": 1507672840, "creation_date": 1507672840, "answer_id": 46676716, "question_id": 46675129, "link": "https://stackoverflow.com/questions/46675129/upload-the-additional-data-only-when-the-image-upload-is-finished-sequence/46676716#46676716", "title": "Upload the additional data only when the image upload is finished (sequence?)", "body": "<p>You can either put your <code>firebase.list</code> block into the then callback or you can use async/await to do so:</p>\n\n<pre><code>async adatfeltolt() {\n  let savepic = await this.mypicref.child(this.uid()).child('pic.jpg').putString(this.picdata, 'base64', { contentType: 'image/jpg' })\n  this.picurl = savepic.downloadURL;\n  this.firebasedb.list(\"/fogasok/\").push({\n    datum: this.fogasDatuma,\n    //halfaj: this.fogasHalfaj,\n    suly: this.fogasSuly,\n    egyeb: this.fogasEgyeb,\n    keplink: this.picurl\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 7918896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/82c219c2dccf832b59e00f259aa0f4b2?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/7918896/thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 46676716, "answer_count": 1, "score": 0, "last_activity_date": 1507672840, "creation_date": 1507666136, "question_id": 46675129, "link": "https://stackoverflow.com/questions/46675129/upload-the-additional-data-only-when-the-image-upload-is-finished-sequence", "title": "Upload the additional data only when the image upload is finished (sequence?)", "body": "<p>I have a problem with the code below. I am taking a photo with the camera then uploading the image to the firebase storage. However i am adding additional data too to the database and it is containing the photo url too. The script above start uploading the image to the storage but the other part of the code won't work because the this.picurl will have value only after the upload process is finished. </p>\n\n<p>How could i add a sequence so when the this.picurl=savepic.downloadURL finally available (image upload successful), rest of the code will run.</p>\n\n<pre><code>  adatfeltolt() {\n    this.mypicref.child(this.uid()).child('pic.jpg')\n    .putString(this.picdata, 'base64', { contentType: 'image/jpg' })\n    .then(savepic =&gt; {\n      this.picurl = savepic.downloadURL\n    })\n      this.firebasedb.list(\"/fogasok/\").push({\n      datum:this.fogasDatuma,\n      //halfaj:this.fogasHalfaj,\n      suly:this.fogasSuly,\n      egyeb:this.fogasEgyeb,\n      keplink:this.picurl\n    });\n\n  }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "combinelatest"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 4975676, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/503e77f60e53e608a396fc7b07c0f3ef?s=128&d=identicon&r=PG&f=1", "display_name": "natmegs", "link": "https://stackoverflow.com/users/4975676/natmegs"}, "edited": false, "score": 0, "creation_date": 1507664981, "post_id": 46674394, "comment_id": 80297965, "body": "This makes a lot of sense, thanks for the suggestion. I think I&#39;m missing something with my implementation, however, because now I&#39;m getting no table data (even when I change filters). I changed refreshUserList() { updateUsersTrigger.next(); } and call this in ngOnInit() but still no luck."}, {"owner": {"reputation": 4080, "user_id": 3547482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f93615ed584db10b4cc59daa1437b7e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Leonov", "link": "https://stackoverflow.com/users/3547482/alexander-leonov"}, "reply_to_user": {"reputation": 91, "user_id": 4975676, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/503e77f60e53e608a396fc7b07c0f3ef?s=128&d=identicon&r=PG&f=1", "display_name": "natmegs", "link": "https://stackoverflow.com/users/4975676/natmegs"}, "edited": false, "score": 0, "creation_date": 1507665327, "post_id": 46674394, "comment_id": 80298159, "body": "@natmegs, try something like this: <code>updateUsersTrigger.startWith(null).switchMap(() =&gt; ... call service ...)</code> instead of emitting something in ngOnInit() - I wouldn&#39;t expect it to work actually, I think it fires too early."}], "tags": [], "owner": {"reputation": 4080, "user_id": 3547482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f93615ed584db10b4cc59daa1437b7e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Leonov", "link": "https://stackoverflow.com/users/3547482/alexander-leonov"}, "is_accepted": true, "score": 2, "last_activity_date": 1507665756, "last_edit_date": 1507665756, "creation_date": 1507663360, "answer_id": 46674394, "question_id": 46674188, "link": "https://stackoverflow.com/questions/46674188/refreshing-list-using-combinelatest-angular2-rxjs/46674394#46674394", "title": "Refreshing list using combineLatest: Angular2 + RxJS", "body": "<p>The main problem is that in the case of user list update your users$ observable does not emit any new value. You have to make it do so.</p>\n\n<p>This is skeleton of an idea how to fix it:</p>\n\n<pre><code>const updateUsersTrigger = new Subject&lt;void&gt;();\n\nthis.displayUsers$ = Observable.combineLatest(\n    // switchMap() will re-subscribe to this.userService.getList() observable on each emit from updateUsersTrigger\n    // thus making http requests each time when user list should be updated.\n    updateUsersTrigger.startWith(null).switchMap(() =&gt; this.userService.getList()),\n    this.siteFilter$,\n    this.clientFilter$,\n    this.activeFilter$,\n    this.nameFilter$\n)\n    .map(([users, siteFilter, clientFilter, activeFilter, nameFilter]) =&gt; {\n\n    .......\n\n});\n\n// this will trigger user list update\nupdateUsersTrigger.next();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4080, "user_id": 3547482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f93615ed584db10b4cc59daa1437b7e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Leonov", "link": "https://stackoverflow.com/users/3547482/alexander-leonov"}, "edited": false, "score": 0, "creation_date": 1507664269, "post_id": 46674549, "comment_id": 80297639, "body": "Either way OP needs some observable to emit new array, be it http request or splice() result in some Observable.map() or something else."}], "tags": [], "owner": {"reputation": 74, "user_id": 6544028, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_gAXNL2aptA/AAAAAAAAAAI/AAAAAAAAAHo/s3zn6HhGWj0/photo.jpg?sz=128", "display_name": "Krister Torsvik", "link": "https://stackoverflow.com/users/6544028/krister-torsvik"}, "is_accepted": false, "score": 1, "last_activity_date": 1507663957, "creation_date": 1507663957, "answer_id": 46674549, "question_id": 46674188, "link": "https://stackoverflow.com/questions/46674188/refreshing-list-using-combinelatest-angular2-rxjs/46674549#46674549", "title": "Refreshing list using combineLatest: Angular2 + RxJS", "body": "<p>I am not able to comment yet, so I'll write here and correct me if I'm wrong or if this is out of the question. If you use <code>.splice()</code> on successful delete to update the DOM instead of sending another http request, wouldn't that be easier and less straining on the client?</p>\n"}], "owner": {"reputation": 91, "user_id": 4975676, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/503e77f60e53e608a396fc7b07c0f3ef?s=128&d=identicon&r=PG&f=1", "display_name": "natmegs", "link": "https://stackoverflow.com/users/4975676/natmegs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1151, "favorite_count": 1, "accepted_answer_id": 46674394, "answer_count": 2, "score": 0, "last_activity_date": 1507665756, "creation_date": 1507662524, "question_id": 46674188, "link": "https://stackoverflow.com/questions/46674188/refreshing-list-using-combinelatest-angular2-rxjs", "title": "Refreshing list using combineLatest: Angular2 + RxJS", "body": "<p>I have a component in which I am displaying a table of data (users) generated from an http request to an API. There are a variety of filters on the table so I generate the table data as follows: </p>\n\n<pre><code>this.displayUsers$ = Observable.combineLatest(\n            this.users$,\n            this.siteFilter$,\n            this.clientFilter$,\n            this.activeFilter$,\n            this.nameFilter$\n        )\n            .map(([users, siteFilter, clientFilter, activeFilter, nameFilter]) =&gt; {\n                console.log(\"Users changed? \", users);\n                if (siteFilter === null\n                    &amp;&amp; clientFilter === null\n                    &amp;&amp; activeFilter === null\n                    &amp;&amp; nameFilter.length &lt; 1) {\n                    return users;\n                }\n                return users\n                    .filter(user =&gt; {\n                        // manipulate users array based on filters\n                    })\n            });\n</code></pre>\n\n<p>The <code>xFilter$</code>s are BehaviorSubjects that emit new values in response to changes to their inputs in the template. <code>users$</code> is assigned as follows: </p>\n\n<pre><code>this.users$ = this.userService.getList();\n</code></pre>\n\n<p>Where <code>getList()</code> returns an http request to get a list of users.</p>\n\n<p>The list successfully updates whenever the filters are changed, but I have issues when I need to update the list with fresh users. For example, a user can perform CRUD operations on the table of users (ie delete a user). When the user is deleted, however, the table does not update to reflect this change. The method I am currently using to (try) to fresh the table is by calling a refresh function in the success callback of the delete operation:</p>\n\n<pre><code>refreshUserList() {\n        console.log(\"Refreshing user list\");\n        this.users$ = this.userService.getList();\n    }\n</code></pre>\n\n<p>Despite calling this after the operation is complete, the combineLatest observable does not get 'triggered' again and the list data remains stale. Is there a better way to refresh data generated by combineLatest with http requests?</p>\n"}, {"tags": ["node.js", "angular", "typescript", "datatable", "angular-material"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1507662038, "post_id": 46674028, "comment_id": 80296564, "body": "Which version of angular-material are you using?"}, {"owner": {"reputation": 503, "user_id": 7431147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/10100139308369617/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/7431147/david"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1507662111, "post_id": 46674028, "comment_id": 80296604, "body": "4.4.3  I can give the dependencies in my package.json if needed."}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1507662230, "post_id": 46674028, "comment_id": 80296678, "body": "Are you getting any errors?"}, {"owner": {"reputation": 503, "user_id": 7431147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/10100139308369617/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/7431147/david"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1507662501, "post_id": 46674028, "comment_id": 80296814, "body": "ERROR TypeError: Cannot set property &#39;pageIndex&#39; of undefined in my component file on the following line: this._filterChange.subscribe(() =&gt; this._paginator.pageIndex = 0);  And Cannot read property &#39;filteredData&#39; of undefined in my template file (which I can post) on the following line: &lt;md-row *cdkRowDef=&quot;let row; columns: displayedColumns;&quot;&gt;"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1507662552, "post_id": 46674028, "comment_id": 80296835, "body": "Add these errors to your post and yeah i would like to see your template"}, {"owner": {"reputation": 503, "user_id": 7431147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/10100139308369617/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/7431147/david"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1507662665, "post_id": 46674028, "comment_id": 80296898, "body": "Added, thank you so much for your time."}, {"owner": {"reputation": 503, "user_id": 7431147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/10100139308369617/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/7431147/david"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1507662815, "post_id": 46674028, "comment_id": 80296992, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/156388/discussion-between-david-and-yurzui\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 503, "user_id": 7431147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/10100139308369617/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/7431147/david"}, "edited": false, "score": 0, "creation_date": 1507665328, "post_id": 46674742, "comment_id": 80298160, "body": "I can&#39;t express how much I appreciate your time and effort.  I&#39;m going through everything now, and will be marking this as the answer as soon as I can confirm that everything works."}, {"owner": {"reputation": 735, "user_id": 2748659, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/29236d1f29ae6c82404fb68e52d99706?s=128&d=identicon&r=PG&f=1", "display_name": "Wallace Howery", "link": "https://stackoverflow.com/users/2748659/wallace-howery"}, "edited": false, "score": 0, "creation_date": 1510270990, "post_id": 46674742, "comment_id": 81376494, "body": "@yurzui thumbs up on the *ngIf part, that was causing me the same problem (undefined references). Thanks!"}], "tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 6, "last_activity_date": 1507665470, "last_edit_date": 1507665470, "creation_date": 1507664744, "answer_id": 46674742, "question_id": 46674028, "link": "https://stackoverflow.com/questions/46674028/implementing-material-table-with-api-call-angular/46674742#46674742", "title": "Implementing Material Table with api call Angular", "body": "<p>The reason why you are getting</p>\n\n<blockquote>\n  <p>Cannot set property <code>pageIndex</code> of undefined</p>\n</blockquote>\n\n<p>is that you wrap table in <code>*ngIf</code> and by the time you pass <code>@ViewChild</code>s to DataSource class they are not initialized yet.</p>\n\n<p>I solved it by calling initialization after getting data:</p>\n\n<pre><code>this.rcgservice.populateRCGQueue().subscribe(rcgitems =&gt; {\n  this.dataChange.next(rcgitems);\n  this.isDataAvailable = true;\n  this.cdRef.detectChanges(); // make sure that all ViewChilds were initialized\n  this.initSource();\n</code></pre>\n\n<p>Another mistake is that you assign data to <code>BehaviourSubject</code></p>\n\n<pre><code>this.rcgservice.populateRCGQueue().subscribe(rcgitems =&gt; {\n   this.dataChange = rcgitems;\n</code></pre>\n\n<p>it should be:</p>\n\n<pre><code>this.dataChange.next(rcgitems);\n</code></pre>\n\n<p>I also added some safe navigation operators to your template:</p>\n\n<pre><code>[length]=\"dataSource?.filteredData.length\"\n</code></pre>\n\n<p>and</p>\n\n<pre><code>[style.display]=\"dataSource?.renderedData.length == 0 ? '' : 'none'\"\n</code></pre>\n\n<p><strong><a href=\"https://plnkr.co/edit/Hu7D9PgElyJCBgnsTuVp?p=preview\" rel=\"noreferrer\">Plunker Example</a></strong></p>\n\n<p>If we don't use <code>ngIf</code> then we do not need <code>ChangeDetectorRef</code> anymore</p>\n\n<p><strong><a href=\"https://plnkr.co/edit/hrEfHdiog8G3flvrZ7TE?p=preview\" rel=\"noreferrer\">Plunker Example</a></strong></p>\n"}], "owner": {"reputation": 503, "user_id": 7431147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/10100139308369617/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/7431147/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1881, "favorite_count": 1, "accepted_answer_id": 46674742, "answer_count": 1, "score": 1, "last_activity_date": 1507665470, "creation_date": 1507661876, "last_edit_date": 1507662630, "question_id": 46674028, "link": "https://stackoverflow.com/questions/46674028/implementing-material-table-with-api-call-angular", "title": "Implementing Material Table with api call Angular", "body": "<p>I have been developing an application with Angular 2 and it has admittedly been a struggle doing so as a new developer.  I've managed quite a bit so far but I do need some assistance.  I'm including a plunkr that I'm using for reference to get a Material Table with pagination, filter and sort, but this example, as well as all of the other examples on material.angular.io show an example with a database that's essentially hardcoded/generated in the component class.  I have a service that calls the api for an SQL query and I'd like to populate the table in the example with that, however my attempts so far have been miserable failures and I think I've overwhelmed myself in the process.</p>\n\n<p>By request I can post my component code, but I fear that I've gutted/revised it beyond the point of any use.  But until then below is the plunkr with what I want to implement, and the service class I'd like to use to populate the data table in place of the plunkr's database and data source.</p>\n\n<p>Please let me know if you can help, you'd be saving me a huge headache.</p>\n\n<p><a href=\"https://plnkr.co/edit/EU3BBlViWpPf2NJW4PXx?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/EU3BBlViWpPf2NJW4PXx?p=preview</a></p>\n\n<p>My service</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n\n@Injectable()\nexport class RcgqueueService {\n\n  constructor(private http: Http) { }\n\n  populateRCGQueue() {\n    return this.http.get('/api/rcgqueue').map(res =&gt; res.json());\n  }\n}\n</code></pre>\n\n<p>And my current pathetic attempt at the component code</p>\n\n<pre><code>import { Component, ElementRef, ViewChild, OnInit, forwardRef } from '@angular/core';\nimport { DataSource, SelectionModel } from '@angular/cdk/collections';\nimport { MatPaginator, MatSort, MatTable } from '@angular/material';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/startWith';\nimport 'rxjs/add/observable/merge';\nimport 'rxjs/add/observable/fromEvent';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/distinctUntilChanged';\nimport 'rxjs/add/operator/debounceTime';\nimport { RcgqueueService } from './rcgqueue.service';\n\n@Component({\n  selector: 'app-rcgqueue',\n  templateUrl: './rcgqueue.component.html',\n  styleUrls: ['./rcgqueue.component.css']\n})\nexport class RcgqueueComponent implements OnInit {\n  isDataAvailable = false;\n  displayedColumns = ['changeId', 'changeTitle', 'dateSubmitted', 'changeSponsor', 'changeDescription'];\n  dataChange: BehaviorSubject&lt;ChangeData[]&gt; = new BehaviorSubject&lt;ChangeData[]&gt;([]);\n  get data(): ChangeData[] { return this.dataChange.value; }\n  dataSource: ExampleDataSource | null;\n\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n  @ViewChild(forwardRef(() =&gt; MatSort)) sort: MatSort;\n  @ViewChild('filter') filter: ElementRef;\n\n  constructor(private rcgservice: RcgqueueService) {\n  }\n  populateRCGQueue() {\n    this.rcgservice.populateRCGQueue().subscribe(rcgitems =&gt; {\n      this.dataChange = rcgitems;\n      this.isDataAvailable = true;\n    })\n  }\n\n  ngOnInit() {\n    this.populateRCGQueue();\n    this.dataSource = new ExampleDataSource(this, this.paginator, this.sort);\n    Observable.fromEvent(this.filter.nativeElement, 'keyup')\n      .debounceTime(150)\n      .distinctUntilChanged()\n      .subscribe(() =&gt; {\n        if (!this.dataSource) { return; }\n        this.dataSource.filter = this.filter.nativeElement.value;\n      });\n  }\n}\n\nexport interface ChangeData {\n  ChangeId: string;\n  ChangeTitle: string;\n  DateSubmitted: string;\n  ChangeSponsor: string;\n  ChangeDescription: string;\n}\n\n/**\n * Data source to provide what data should be rendered in the table. Note that the data source\n * can retrieve its data in any way. In this case, the data source is provided a reference\n * to a common data base, ExampleDatabase. It is not the data source's responsibility to manage\n * the underlying data. Instead, it only needs to take the data and send the table exactly what\n * should be rendered.\n */\nexport class ExampleDataSource extends DataSource&lt;any&gt; {\n  _filterChange = new BehaviorSubject('');\n  get filter(): string { return this._filterChange.value; }\n  set filter(filter: string) { this._filterChange.next(filter); }\n\n  dataChange: BehaviorSubject&lt;ChangeData[]&gt; = new BehaviorSubject&lt;ChangeData[]&gt;([]);\n  get data(): ChangeData[] { return this.dataChange.value; }\n\n  filteredData: ChangeData[] = [];\n  renderedData: ChangeData[] = [];\n\n  constructor(private rcgcomponent: RcgqueueComponent,\n    private _paginator: MatPaginator,\n    private _sort: MatSort) {\n    super();\n\n    this._filterChange.subscribe(() =&gt; this._paginator.pageIndex = 0);\n  }\n\n  /** Connect function called by the table to retrieve one stream containing the data to render. */\n  connect(): Observable&lt;ChangeData[]&gt; {\n    // Listen for any changes in the base data, sorting, filtering, or pagination\n    const displayDataChanges = [\n      this.rcgcomponent.dataChange,\n      this._sort.sortChange,\n      this._filterChange,\n      this._paginator.page,\n    ];\n\n    return Observable.merge(...displayDataChanges).map(() =&gt; {\n      // Filter data\n      this.filteredData = this.rcgcomponent.data.slice().filter((item: ChangeData) =&gt; {\n        const searchStr = (item.ChangeDescription + item.ChangeSponsor).toLowerCase();\n        return searchStr.indexOf(this.filter.toLowerCase()) !== -1;\n      });\n\n      // Sort filtered data\n      const sortedData = this.sortData(this.filteredData.slice());\n\n      // Grab the page's slice of the filtered sorted data.\n      const startIndex = this._paginator.pageIndex * this._paginator.pageSize;\n      this.renderedData = sortedData.splice(startIndex, this._paginator.pageSize);\n      return this.renderedData;\n    });\n  }\n\n  disconnect() { }\n\n  /** Returns a sorted copy of the database data. */\n  sortData(data: ChangeData[]): ChangeData[] {\n    if (!this._sort.active || this._sort.direction === '') { return data; }\n\n    return data.sort((a, b) =&gt; {\n      let propertyA: number | string = '';\n      let propertyB: number | string = '';\n\n      switch (this._sort.active) {\n        case 'changeId': [propertyA, propertyB] = [a.ChangeId, b.ChangeId]; break;\n        case 'changeTitle': [propertyA, propertyB] = [a.ChangeTitle, b.ChangeTitle]; break;\n        case 'dateSubmitted': [propertyA, propertyB] = [a.DateSubmitted, b.DateSubmitted]; break;\n        case 'changeSponsor': [propertyA, propertyB] = [a.ChangeSponsor, b.ChangeSponsor]; break;\n        case 'changeDescription': [propertyA, propertyB] = [a.ChangeDescription, b.ChangeDescription]; break;\n      }\n\n      const valueA = isNaN(+propertyA) ? propertyA : +propertyA;\n      const valueB = isNaN(+propertyB) ? propertyB : +propertyB;\n\n      return (valueA &lt; valueB ? -1 : 1) * (this._sort.direction === 'asc' ? 1 : -1);\n    });\n  }\n}\n</code></pre>\n\n<p>I've removed anything having to do with selection from the table from the plunkr code, what is left here is where I am currently.  I'm very sorry if this ends up more hindering than helpful.</p>\n\n<p>Oh and this may be helpful, my api.js on the server side with the query I'm using. (The only one so far)</p>\n\n<pre><code>const express = require('express');\nconst async = require('async');\nconst jwt = require('jsonwebtoken');\nconst shape = require('shape-json');\nconst router = express.Router();\n\nvar sql = require('mssql/msnodesqlv8');\nvar config = {\n    driver: 'msnodesqlv8',\n    connectionString: 'Driver=SQL Server Native Client 11.0;Server=localhost;Database=Change;Trusted_Connection=yes;',\n}\n\nvar conn = new sql.ConnectionPool(config);\nconn.connect().then(function() {\n     log(\"Change Governance Database Connection opened\");\n}).catch(function (err) {\n    console.error(new Date() + \" - Issue connecting to the MS SQL database.\", err);\n});\n\nrouter.get('/', (req, res) =&gt; {\n    res.send('api works');\n});\n\nrouter.get('/rcgqueue', (req, res) =&gt; {\n    new sql.Request(conn)\n    .query('SELECT ChangeId, ChangeTitle, DateSubmitted, ChangeSponsor, ChangeDescription FROM dbo.ChangeEvaluationForm;')\n    .then(function(recordset) {\n        log(\"Successful query request for RCG Records.\");\n        res.send(recordset.recordset);\n    }).catch(function(err) {\n        log(err);\n        res.send(\"Issue querying database!\");\n    });\n});\n\n/********************************/\n/*          Functions           */\n/********************************/\n// Log lines with date/time for server\nfunction log(msg) {\n    console.log(new Date() + \" - \" + msg);\n};\n\nmodule.exports = router;\n</code></pre>\n\n<p>EDIT: Adding template and errors.</p>\n\n<p>Template</p>\n\n<pre><code>&lt;!-- Issues\nhttps://github.com/angular/angular/issues/16614\nhttps://github.com/angular/angular/issues/17572 --&gt;\n&lt;div *ngIf=\"isDataAvailable\"&gt;\n  &lt;div class=\"example-container mat-elevation-z8\"&gt;\n    &lt;div class=\"example-header\"&gt;\n      &lt;md-input-container floatPlaceholder=\"never\"&gt;\n        &lt;input mdInput #filter placeholder=\"Filter\"&gt;\n      &lt;/md-input-container&gt;\n    &lt;/div&gt;\n\n    &lt;md-table #table [dataSource]=\"dataSource\" mdSort&gt;\n\n      &lt;!--- Note that these columns can be defined in any order.\n          The actual rendered columns are set as a property on the row definition\" --&gt;\n\n      &lt;!-- ChangeId Column --&gt;\n      &lt;ng-container cdkColumnDef=\"changeId\"&gt;\n        &lt;md-header-cell *cdkHeaderCellDef md-sort-header&gt; ChangeId &lt;/md-header-cell&gt;\n        &lt;md-cell *cdkCellDef=\"let row\"&gt; {{row.ChangeId}} &lt;/md-cell&gt;\n      &lt;/ng-container&gt;\n\n      &lt;!-- ChangeTitle Column --&gt;\n      &lt;ng-container cdkColumnDef=\"changeTitle\"&gt;\n        &lt;md-header-cell *cdkHeaderCellDef md-sort-header&gt; Change Title &lt;/md-header-cell&gt;\n        &lt;md-cell *cdkCellDef=\"let row\"&gt; {{row.ChangeTitle}}% &lt;/md-cell&gt;\n      &lt;/ng-container&gt;\n\n      &lt;!-- DateSubmitted --&gt;\n      &lt;ng-container cdkColumnDef=\"dateSubmitted\"&gt;\n        &lt;md-header-cell *cdkHeaderCellDef md-sort-header&gt; Date Submitted &lt;/md-header-cell&gt;\n        &lt;md-cell *cdkCellDef=\"let row\"&gt; {{row.DateSubmitted}} &lt;/md-cell&gt;\n      &lt;/ng-container&gt;\n\n      &lt;!-- ChangeSponsor --&gt;\n      &lt;ng-container cdkColumnDef=\"changeSponsor\"&gt;\n        &lt;md-header-cell *cdkHeaderCellDef md-sort-header&gt; Change Sponsor &lt;/md-header-cell&gt;\n        &lt;md-cell *cdkCellDef=\"let row\"&gt; {{row.ChangeSponsor}} &lt;/md-cell&gt;\n      &lt;/ng-container&gt;\n\n      &lt;!-- ChangeDescription --&gt;\n      &lt;ng-container cdkColumnDef=\"changeDescription\"&gt;\n        &lt;md-header-cell *cdkHeaderCellDef md-sort-header&gt; Change Description &lt;/md-header-cell&gt;\n        &lt;md-cell *cdkCellDef=\"let row\"&gt; {{row.ChangeDescription}} &lt;/md-cell&gt;\n      &lt;/ng-container&gt;\n\n      &lt;md-header-row *cdkHeaderRowDef=\"displayedColumns\"&gt;&lt;/md-header-row&gt;\n      &lt;md-row *cdkRowDef=\"let row; columns: displayedColumns;\"&gt;\n      &lt;/md-row&gt;\n    &lt;/md-table&gt;\n\n    &lt;div class=\"example-no-results\" [style.display]=\"dataSource.renderedData.length == 0 ? '' : 'none'\"&gt;\n      No changes found matching filter.\n    &lt;/div&gt;\n\n    &lt;md-paginator #paginator [length]=\"dataSource.filteredData.length\" [pageIndex]=\"0\" [pageSize]=\"25\" [pageSizeOptions]=\"[5, 10, 25, 100]\"&gt;\n    &lt;/md-paginator&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And finally a screenshot of my errors</p>\n\n<p><a href=\"https://i.stack.imgur.com/NwlS8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NwlS8.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "enums"], "answers": [{"tags": [], "owner": {"reputation": 1076, "user_id": 282956, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f983c270c821736abbd592c466f74ee6?s=128&d=identicon&r=PG", "display_name": "mavriksc", "link": "https://stackoverflow.com/users/282956/mavriksc"}, "is_accepted": false, "score": 0, "last_activity_date": 1507739625, "creation_date": 1507739625, "answer_id": 46693376, "question_id": 46674006, "link": "https://stackoverflow.com/questions/46674006/incorrect-runtime-deserialization-of-enum-in-angular4-typescript-with-spring-boo/46693376#46693376", "title": "Incorrect runtime deserialization of enum in angular4/typescript with spring boot server", "body": "<p>I was able to get around this issue by instead of using indexOf() iterating thru and comparing values my self.  </p>\n\n<pre><code>    canCancel(thing:IHaveStates):boolean{\n    for (let state of this.sublist) {\n      if (thing.state.toString() === States[state]) {\n        return false;\n      }\n    }\n    return true;\n  }\n</code></pre>\n"}], "owner": {"reputation": 1076, "user_id": 282956, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f983c270c821736abbd592c466f74ee6?s=128&d=identicon&r=PG", "display_name": "mavriksc", "link": "https://stackoverflow.com/users/282956/mavriksc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507739625, "creation_date": 1507661805, "question_id": 46674006, "link": "https://stackoverflow.com/questions/46674006/incorrect-runtime-deserialization-of-enum-in-angular4-typescript-with-spring-boo", "title": "Incorrect runtime deserialization of enum in angular4/typescript with spring boot server", "body": "<p><a href=\"https://github.com/mavriksc/enum-server\" rel=\"nofollow noreferrer\">server</a><br>\n<a href=\"https://github.com/mavriksc/enum-test\" rel=\"nofollow noreferrer\">client</a></p>\n\n<p>The issue is the server returns enum as string and the http client is allowed to set the member as a string at runtime. if i try in the code to set this.state = 'STATE_ONE' i get an error.it will also complain if i try to use the States[this.state]&lt;-this should be the string representation.</p>\n\n<p>relevant code:<br>\ntypescript</p>\n\n<pre><code>enum States  {\n    STATE_ONE,STATE_TWO,STATE_THREE\n}\n\nclass IHaveStates {\n   state: States;\n   constructor(){}\n}\n\nsublist: States[]=[States['STATE_TWO'], States['STATE_THREE'] ];\n\ngetState(): Promise&lt;IHaveStates&gt; {\nreturn this.http.get('http://localhost:8080')\n  .toPromise()\n  .then(response =&gt; response.json() as IHaveStates)\n  .catch();\n}\n\nthis.getState().then(thing =&gt; {\n  let index = this.sublist.indexOf(thing.state);\n  let statesICanCancel = index ===-1;\n\n  console.log('State of the thing: '+thing.state);\n  console.log('Enum value of State of the thing: '+States[thing.state]);     \n  console.log('Sub list of can\\'t cancel states: '+this.sublist);\n  console.log('location cant cancel list: '+index);\n  console.log('can i cancel: '+statesICanCancel);\n\n});\n</code></pre>\n\n<p>if you run the code you see that when i set the state in code, when logged it will display the int value. When set from the service and logged it will be the string representation. meaning that if i try to do States[returnValue] and set that to a var of type State the compiler will complain rightfully thinking that is a string but in the service example will actually be int. </p>\n\n<p>I'm able to resolve the issue by serializing the enum as integer server side. </p>\n"}, {"tags": ["typescript", "intersection", "any", "inference"], "comments": [{"owner": {"reputation": 2202, "user_id": 1399272, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/FoRYg.png?s=128&g=1", "display_name": "Bondolin", "link": "https://stackoverflow.com/users/1399272/bondolin"}, "edited": false, "score": 0, "creation_date": 1572881126, "post_id": 46673558, "comment_id": 103689247, "body": "Upvoting for the pun"}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 6, "last_activity_date": 1587515407, "last_edit_date": 1587515407, "creation_date": 1507660833, "answer_id": 46673732, "question_id": 46673558, "link": "https://stackoverflow.com/questions/46673558/type-intersections-using-any/46673732#46673732", "title": "Type intersections using any", "body": "<p>In TypeScript, <code>any</code> is an escape hatch from the type system.  Or maybe a black hole that eats up every other type it touches.  It is treated both as a top type (any value can be assigned to a variable of type <code>any</code>) and a bottom type (a value of type <code>any</code> can be assigned to a variable of any type). You might even say it is both a supertype of <code>string</code> <em>and</em> a subtype of <code>string</code>.  That's generally unsound; all types become assignable to all other types if you use <code>any</code>, but it's a useful way to opt out of the type system and make assignments that the compiler would otherwise prevent.</p>\n\n<p>If you want a real top type which isn't a black hole, use <code>unknown</code>.  You already know that <code>never</code> is the real bottom type.  For more interesting reading on this, see <a href=\"https://github.com/Microsoft/TypeScript/issues/9999\" rel=\"nofollow noreferrer\">Microsoft/TypeScript#9999</a>.</p>\n\n<p>For your code, try:</p>\n\n<pre><code>type PropertyMap = {\n    prop1: {\n        name: \"somename\";\n        required: unknown; // top type\n    };\n    prop2: {\n        name: \"someothername\";\n        required: never; // bottom type\n    }\n}\n\ntype RequiredOnly = {\n    [P in keyof PropertyMap]: PropertyMap[P] &amp; PropertyMap[P][\"required\"]\n}\n</code></pre>\n\n<p>Now <code>RequiredOnly[\"prop1\"]</code> should act like what you want.</p>\n\n<p>Hope that helps; good luck!</p>\n\n<p><br></p>\n\n<blockquote><sup><b>Any</b> help appreciated.</sup></blockquote>\n\n<p><sup>I see what you did there.</sup></p>\n"}], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 2, "accepted_answer_id": 46673732, "answer_count": 1, "score": 4, "last_activity_date": 1587515407, "creation_date": 1507660217, "question_id": 46673558, "link": "https://stackoverflow.com/questions/46673558/type-intersections-using-any", "title": "Type intersections using any", "body": "<p>From <a href=\"https://github.com/Microsoft/TypeScript/pull/3622\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/pull/3622</a>:</p>\n\n<blockquote>\n  <p>Supertype collapsing: A &amp; B is equivalent to A if B is a supertype of A.</p>\n</blockquote>\n\n<p>However:</p>\n\n<pre><code>type a = string &amp; any; // Resolves to any, not string!?\n</code></pre>\n\n<p>This intersection resolves to any. Isn't 'any' a supertype of string? So shouldn't this intersection be just string, due to supertype collapsing? What am I missing?</p>\n\n<p>The use case here is something like:</p>\n\n<pre><code>type PropertyMap = {\n    prop1: {\n        name: \"somename\";\n        required: any;\n    };\n    prop2: {\n        name: \"someothername\";\n        required: never;\n    }\n}\n\ntype RequiredOnly = {\n    [P in keyof PropertyMap]: PropertyMap[P] &amp; PropertyMap[P][\"required\"]\n}\n\n// RequiredOnly[\"prop2\"] correctly inferred to be never, but we've\n// lost the type info on prop1, since it is now an any (but should\n// have been narrowed to it's original type).\n</code></pre>\n\n<p>Any help appreciated.</p>\n"}, {"tags": ["angular", "typescript", "download", "blob", "arraybuffer"], "comments": [{"owner": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "edited": false, "score": 0, "creation_date": 1507668849, "post_id": 46672867, "comment_id": 80299972, "body": "You can try to use the <code>body</code> of the <code>data: Response</code> something like that <code>let blob: Blob = new Blob([data[&#39;_body&#39;]], {type: contentType});</code>?"}, {"owner": {"reputation": 41, "user_id": 6391539, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-XbEyEdz0T10/AAAAAAAAAAI/AAAAAAAAEzA/FoV_vVlsufQ/photo.jpg?sz=128", "display_name": "Oscar Rodriguez Arroyo", "link": "https://stackoverflow.com/users/6391539/oscar-rodriguez-arroyo"}, "reply_to_user": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "edited": false, "score": 0, "creation_date": 1507672595, "post_id": 46672867, "comment_id": 80301620, "body": "Nop. Same result."}, {"owner": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "edited": false, "score": 0, "creation_date": 1507704297, "post_id": 46672867, "comment_id": 80310665, "body": "What do you have on the line 204 of <code>backend.service.ts</code> ? It seems that your program is complaining about the syntax of the instruction on this line."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 6391539, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-XbEyEdz0T10/AAAAAAAAAAI/AAAAAAAAEzA/FoV_vVlsufQ/photo.jpg?sz=128", "display_name": "Oscar Rodriguez Arroyo", "link": "https://stackoverflow.com/users/6391539/oscar-rodriguez-arroyo"}, "edited": false, "score": 0, "creation_date": 1507729754, "post_id": 46681686, "comment_id": 80327617, "body": "I know the exception is not well handled but that is not the issue."}, {"owner": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "reply_to_user": {"reputation": 41, "user_id": 6391539, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-XbEyEdz0T10/AAAAAAAAAAI/AAAAAAAAEzA/FoV_vVlsufQ/photo.jpg?sz=128", "display_name": "Oscar Rodriguez Arroyo", "link": "https://stackoverflow.com/users/6391539/oscar-rodriguez-arroyo"}, "edited": false, "score": 0, "creation_date": 1507729916, "post_id": 46681686, "comment_id": 80327749, "body": "But could you please show the code of your service?"}], "tags": [], "owner": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "is_accepted": false, "score": 0, "last_activity_date": 1507704949, "creation_date": 1507704949, "answer_id": 46681686, "question_id": 46672867, "link": "https://stackoverflow.com/questions/46672867/error-after-download-file-angular/46681686#46681686", "title": "Error after download file - Angular", "body": "<p>The problem should be related not to the download itself but to the way you are handling the exception. I guess, it is related to this error <code>error.json is not a function</code>.</p>\n\n<p>I found this <a href=\"https://stackoverflow.com/questions/43008411/typeerror-error-json-is-not-a-function\">answer</a> that might be what you need.</p>\n"}], "owner": {"reputation": 41, "user_id": 6391539, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-XbEyEdz0T10/AAAAAAAAAAI/AAAAAAAAEzA/FoV_vVlsufQ/photo.jpg?sz=128", "display_name": "Oscar Rodriguez Arroyo", "link": "https://stackoverflow.com/users/6391539/oscar-rodriguez-arroyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 624, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1507704949, "creation_date": 1507657631, "question_id": 46672867, "link": "https://stackoverflow.com/questions/46672867/error-after-download-file-angular", "title": "Error after download file - Angular", "body": "<p>I have a function that performs a data download. It generates a .xlsx file. It works as expected. The function is </p>\n\n<pre><code>public downloadData(employeesFiltered: boolean){\n\nthis.DataService.getDataDownload(this.DataService.getDataObject(), employeesFiltered)\n.subscribe((data: Response) =&gt; {\n  let fileName = this.utility.getFileName(data.headers);\n  let contentType = this.utility.getContentType(data.headers);\n\n  let blob: Blob = new Blob([data.arrayBuffer()], {type: contentType});\n  console.log(blob);\n\n  let a = window.document.createElement(\"a\");\n  a.href = window.URL.createObjectURL(blob);\n  a.download = fileName;\n\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n\n}\n</code></pre>\n\n<p>The problem is that after this is completed, no matter what I do in the app, it throws an error saying </p>\n\n<blockquote>\n  <p>RangeError: byte length of Uint16Array should be a multiple of 2</p>\n</blockquote>\n\n<p>And also, </p>\n\n<blockquote>\n  <p>SyntaxError: Unexpected token \u7b5b in JSON at position 0</p>\n</blockquote>\n\n<p>Log below</p>\n\n<p><a href=\"https://i.stack.imgur.com/ksYmO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ksYmO.png\" alt=\"Error shown in console\"></a></p>\n\n<p>Somehow, looks like the following calls to the API get corrupted. </p>\n\n<p>Any help would be appreciated. </p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-cli", "angular2-aot"], "comments": [{"owner": {"reputation": 2496, "user_id": 1195188, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e34939fca34ba2f25ff4d783ac83fcc6?s=128&d=identicon&r=PG", "display_name": "sumeet kumar", "link": "https://stackoverflow.com/users/1195188/sumeet-kumar"}, "edited": false, "score": 0, "creation_date": 1507657380, "post_id": 46672752, "comment_id": 80294016, "body": "AOT compiles on build so it doesn&#39;t have to do JIT on browser also combined with tree shaking on compile time which can make code optimized and more efficient..."}, {"owner": {"reputation": 4080, "user_id": 3547482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f93615ed584db10b4cc59daa1437b7e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Leonov", "link": "https://stackoverflow.com/users/3547482/alexander-leonov"}, "edited": false, "score": 0, "creation_date": 1507657854, "post_id": 46672752, "comment_id": 80294277, "body": "@codepleb, that&#39;s the only reason but very strong one. AOT takes too much time to be viable option for development."}, {"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "edited": false, "score": 0, "creation_date": 1507658642, "post_id": 46672752, "comment_id": 80294709, "body": "It seems that &#39;The team is going to make the AOT compilation the default&#39; : <a href=\"https://hackernoon.com/what-to-expect-for-in-angular-v5-6e0fc9c4b13e\" rel=\"nofollow noreferrer\">hackernoon.com/what-to-expect-for-in-angular-v5-6e0fc9c4b13e</a>"}, {"owner": {"reputation": 756, "user_id": 3218168, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c54f389614ac9d3007b2b983f10691ff?s=128&d=identicon&r=PG", "display_name": "BenWurth", "link": "https://stackoverflow.com/users/3218168/benwurth"}, "edited": false, "score": 0, "creation_date": 1507659673, "post_id": 46672752, "comment_id": 80295268, "body": "If you&#39;re using token-based authentication, it can cause trouble with AOT because the token is not automatically passed with a GET request and the server can&#39;t authenticate or authorize the request. I&#39;m working with this problem right now and we&#39;re having to make a lot of less-than-desirable changes to our codebase."}], "answers": [{"comments": [{"owner": {"reputation": 8469, "user_id": 2311557, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KOoOQ.png?s=128&g=1", "display_name": "codepleb", "link": "https://stackoverflow.com/users/2311557/codepleb"}, "edited": false, "score": 0, "creation_date": 1507664013, "post_id": 46673806, "comment_id": 80297515, "body": "Yeah, but why is it possible to make a &quot;prod&quot;-deployment without AOT? I don&#39;t think that anyone is debugging on production."}, {"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "reply_to_user": {"reputation": 8469, "user_id": 2311557, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KOoOQ.png?s=128&g=1", "display_name": "codepleb", "link": "https://stackoverflow.com/users/2311557/codepleb"}, "edited": false, "score": 0, "creation_date": 1507665649, "post_id": 46673806, "comment_id": 80298335, "body": "if you are using system js loading, you cannot run aot build, you have to manually load dependencies like <code>@angular&#47;core</code> etc to execute. so when the application will run in the browser it will compile the execute code rather doing a tree shaking aot build"}], "tags": [], "owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "is_accepted": false, "score": 0, "last_activity_date": 1507661086, "last_edit_date": 1592644375, "creation_date": 1507661086, "answer_id": 46673806, "question_id": 46672752, "link": "https://stackoverflow.com/questions/46672752/what-reason-is-there-to-not-use-ahead-of-time-compilation/46673806#46673806", "title": "What reason is there to NOT use ahead of time compilation?", "body": "<p>Well, There are many difference and some of them are pointed out by you very well. It also dependent what kind of environment you are in and your requirement.</p>\n<p>I have been using angular since <code>angular-2.beta.17</code> when angular cli was not existed and we have to take the help of many build system and run environment to run the project in anywhere.</p>\n<h3><code>Systemjs</code> building and running:</h3>\n<p>In some situation where multiple project and frameworks run together, you can not make a AOT build and bootstrap your code into the SPA and run. In system js environement you have to load the scripts one by one and they bootstrap it.</p>\n<p>You must have seen this kind of build and loading script in many online tools like codepen, plunker, etc. I think they all uses systemjs loading</p>\n<p>There are many other like <code>commonjs</code> loader, <code>babel</code> build system, <code>webpack</code> build system. But now <code>angular cli</code> is a bullet proof tool with internally use web pack and amber cli to handle everything you want.</p>\n<h3>Ahead of Time compilation and JIT debugging</h3>\n<p>As the name suggest AOT do a tree shaking and include everything which is really used in your code and throw away unused codes and compact the code size which can be loaded very fast. But by doing that it looses debugging control and don't give you a nice error message if in case in production you want to see what is wrong.</p>\n<p>Same time JIT can point to the line number in typescript file which have the error and make your life super easy to debug while running in dev mode through angular cli.</p>\n<p>You can get lot more in angular compiler and there are many tools and games available as well.</p>\n<p>one of my favorite is <a href=\"https://github.com/mgechev/ngrev\" rel=\"nofollow noreferrer\">ngrev</a></p>\n"}], "owner": {"reputation": 8469, "user_id": 2311557, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KOoOQ.png?s=128&g=1", "display_name": "codepleb", "link": "https://stackoverflow.com/users/2311557/codepleb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 627, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507661086, "creation_date": 1507657163, "question_id": 46672752, "link": "https://stackoverflow.com/questions/46672752/what-reason-is-there-to-not-use-ahead-of-time-compilation", "title": "What reason is there to NOT use ahead of time compilation?", "body": "<p><a href=\"https://stackoverflow.com/questions/46670430/what-does-the-angular-compiler-compile\">Since I know now, what \"angular compiler\" actually means, this would be my next question.</a></p>\n\n<p>I read <a href=\"https://angular.io/guide/aot-compiler\" rel=\"nofollow noreferrer\">here</a> about the positive and negative points of ahead of time compiling. To me, it boils down to this:</p>\n\n<ul>\n<li>Use AOT for deployments</li>\n<li>Use JIT for development</li>\n</ul>\n\n<p>The only valid reason (imho) for JIT is, that it runs way faster (which is nice for the development process). Is there any other reason?</p>\n\n<p>AOT has so many HUGE advantages over JIT, that I wonder why JIT is even an option for for a deployment.</p>\n"}, {"tags": ["javascript", "typescript", "decorator"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1507656556, "post_id": 46672437, "comment_id": 80293565, "body": "It should not matter in which order methods are declared, and it should not matter which method is decorated first. What are you trying to do that you think you need to rely on the order of execution?"}, {"owner": {"reputation": 7411, "user_id": 2200659, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ImYIK.jpg?s=128&g=1", "display_name": "Anders", "link": "https://stackoverflow.com/users/2200659/anders"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1507657124, "post_id": 46672437, "comment_id": 80293884, "body": "Its for a router (as of now not yet written) where you would decorate methods with <code>@get(&quot;index.htm&quot;)</code> to map them to HTTP requests."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1507657950, "post_id": 46672437, "comment_id": 80294327, "body": "You mean you wouldn&#39;t map them to individual files (without duplicates, obviously), but rather to <i>rules</i> for which the order they&#39;re applied in does matter? TBH, I wouldn&#39;t do that using a <code>class</code> at all, and not even use methods - their names would be insignificant. It should be a list (array) of rule-function-tuples (objects) instead."}, {"owner": {"reputation": 7411, "user_id": 2200659, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ImYIK.jpg?s=128&g=1", "display_name": "Anders", "link": "https://stackoverflow.com/users/2200659/anders"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1507658782, "post_id": 46672437, "comment_id": 80294786, "body": "@Bergi I have reasons for the design that this comment is to narrow to contain. Suffice it to say that I am interested in the answer to this question even if all applications of it are quite stupid."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1507658848, "post_id": 46672437, "comment_id": 80294825, "body": "Then yes, class elements are evaluated in order of appearance: <a href=\"http://www.ecma-international.org/ecma-262/8.0/#sec-runtime-semantics-classdefinitionevaluation\" rel=\"nofollow noreferrer\">ecma-international.org/ecma-262/8.0/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1507706829, "last_edit_date": 1507706829, "creation_date": 1507678572, "answer_id": 46677529, "question_id": 46672437, "link": "https://stackoverflow.com/questions/46672437/what-is-the-order-of-execution-for-method-decorators/46677529#46677529", "title": "What is the order of execution for method decorators?", "body": "<blockquote>\n  <p>In what order will foo and bar be executed? </p>\n</blockquote>\n\n<p>In order of appearance. So <code>foo</code> then <code>bar</code>.</p>\n"}], "owner": {"reputation": 7411, "user_id": 2200659, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ImYIK.jpg?s=128&g=1", "display_name": "Anders", "link": "https://stackoverflow.com/users/2200659/anders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 323, "favorite_count": 0, "accepted_answer_id": 46677529, "answer_count": 1, "score": 1, "last_activity_date": 1507706829, "creation_date": 1507656014, "question_id": 46672437, "link": "https://stackoverflow.com/questions/46672437/what-is-the-order-of-execution-for-method-decorators", "title": "What is the order of execution for method decorators?", "body": "<p>Consider the following JavaScript code:</p>\n\n<pre><code>class Example {\n\n    @foo\n    public methodOne() {}\n\n    @bar\n    public methodTwo() {}\n\n}\n</code></pre>\n\n<p>In what order will <code>foo</code> and <code>bar</code> be executed? Do note that I am not interested in how variou JS engines implement it, but what is the correct way according to the spec. I need to know if I can rely on this behaviour being consistent across JS engines.</p>\n\n<p>It would also be interesting to know if TypeScript decorators behave the same way.</p>\n"}, {"tags": ["javascript", "typescript", "charts", "highcharts", "definitelytyped"], "answers": [{"tags": [], "owner": {"reputation": 5446, "user_id": 8091913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3BpjI.jpg?s=128&g=1", "display_name": "Kamil Kulig", "link": "https://stackoverflow.com/users/8091913/kamil-kulig"}, "is_accepted": false, "score": 0, "last_activity_date": 1507726191, "creation_date": 1507726191, "answer_id": 46688623, "question_id": 46672386, "link": "https://stackoverflow.com/questions/46672386/highcharts-gauge-chart-and-the-pane-option/46688623#46688623", "title": "highcharts gauge chart and the pane option", "body": "<p>Both options are correct. You can assign either a <strong>single JSON configuration</strong> to the <code>pane</code> property:</p>\n\n<pre><code>pane: {\n // configuration\n}\n</code></pre>\n\n<p>or an <strong>array of configuration options</strong> for any number of panes:</p>\n\n<pre><code>pane: [{\n   // first pane configuration\n }, {\n   // second pane configuration\n }\n]\n</code></pre>\n\n<p>If the above array contains only one element it behaves exactly the same as a single JSON configuration (first listing).</p>\n\n<p>The same rule applies to axes in Highcharts (<a href=\"http://api.highcharts.com/highcharts/xAxis\" rel=\"nofollow noreferrer\">http://api.highcharts.com/highcharts/xAxis</a>). </p>\n"}], "owner": {"reputation": 2048, "user_id": 1419386, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8771b7a7e1256241527e40a5b165abfb?s=128&d=identicon&r=PG&f=1", "display_name": "hansi", "link": "https://stackoverflow.com/users/1419386/hansi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507726191, "creation_date": 1507655840, "question_id": 46672386, "link": "https://stackoverflow.com/questions/46672386/highcharts-gauge-chart-and-the-pane-option", "title": "highcharts gauge chart and the pane option", "body": "<p>I want to create a gauge chart and was wondering about how to use the pane option.\n<a href=\"https://www.highcharts.com/demo/gauge-vu-meter\" rel=\"nofollow noreferrer\">This demo</a> supplies an array for the pane option, but the API documentation specifies that <a href=\"http://api.highcharts.com/highcharts/pane\" rel=\"nofollow noreferrer\">pane is not an array</a>. </p>\n\n<p>I actually want to use typescript to create the gauge chart and thus rely on the typings of DefinitelyTyped for highcharts. <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/highcharts/index.d.ts#L5993\" rel=\"nofollow noreferrer\">There</a>, the pane option also cannot take an array. </p>\n\n<p>I see the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/highcharts/index.d.ts#L1\" rel=\"nofollow noreferrer\">typings are for highcharts 5.0.10</a>, but the pane option does not seem to have changed to highcharts 6.</p>\n\n<p>Am I missing something?</p>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 58, "user_id": 2079367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vAbSn.png?s=128&g=1", "display_name": "dvalentine314", "link": "https://stackoverflow.com/users/2079367/dvalentine314"}, "is_accepted": false, "score": 1, "last_activity_date": 1507658428, "creation_date": 1507658428, "answer_id": 46673091, "question_id": 46672112, "link": "https://stackoverflow.com/questions/46672112/angular2-accessing-service-object-in-index-html/46673091#46673091", "title": "Angular2 accessing service object in index.html", "body": "<p>I think your issue is with the \"this\" scope. If you are allowed to use ES6 you can use the new <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">arrow functions</a> to get access to this.item. it might be as simple as. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>...\r\nsuccess: (response) =&gt;{\r\n  this.item.change(response.items[0].item); //This is what I am trying to do\r\n}\r\n...</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Although with all that said you might be better off using Angular's <a href=\"https://angular.io/guide/http\" rel=\"nofollow noreferrer\">HTTP client</a> rather than jQuery</p>\n"}], "owner": {"reputation": 147, "user_id": 3190665, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46307b17262bf878aa64ae2f2fadd17a?s=128&d=identicon&r=PG&f=1", "display_name": "TestNInja", "link": "https://stackoverflow.com/users/3190665/testninja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530012752, "creation_date": 1507654782, "last_edit_date": 1530012752, "question_id": 46672112, "link": "https://stackoverflow.com/questions/46672112/angular2-accessing-service-object-in-index-html", "title": "Angular2 accessing service object in index.html", "body": "<p>I have a DataService which is supposed to get the textbox value, and pass it into my components. I was wondering is there a way to access the service object in my index.html file when the textbox value has changed? This is what I have tried so far:</p>\n\n<p>DataService:</p>\n\n<pre><code>export interface Info{\n  itemNo:string;\n}\n\n@Injectable()\nexport class DataService {\n\nitem:Info={itemNo:\"Test\"};\n\nchange(newItem:string){\n  this.item.itemNo=newItem;\n}\nconstructor(private http: Http) { }\n}\n</code></pre>\n\n<p>I would like to access the change method from the service:</p>\n\n<pre><code>onSelect: function (request, response) {\n    console.log(urlApi);\n            $.ajax({\n                type: \"GET\",\n                url: urlApi,\n                dataType: 'json',\n                success: function(response) {\n                  this.item.change(response.items[0].item); //This is what I am trying to do\n                 },\n                error: function() { alert('Failed!'); },\n            });\n        }\n</code></pre>\n\n<p>Could someone point out how I can do this? </p>\n"}, {"tags": ["javascript", "jquery", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1507653388, "post_id": 46671649, "comment_id": 80291881, "body": "Shouldn&#39;t that be <code>[src]=&quot;currentphoto&quot;</code>?"}, {"owner": {"reputation": 7168, "user_id": 640053, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/96fc923031cbec3fe58b7535229a179b?s=128&d=identicon&r=PG", "display_name": "Christian Benseler", "link": "https://stackoverflow.com/users/640053/christian-benseler"}, "edited": false, "score": 1, "creation_date": 1507653598, "post_id": 46671649, "comment_id": 80291987, "body": "Does &#39;currentphoto&#39; have a new value? If the value is the same (in other words, the image changes but the url keeps the same) you will have to add a random number to the url, as query string. such like <a href=\"https://stackoverflow.com/questions/17394440/add-random-variable-after-image-url-with-javascript\" title=\"add random variable after image url with javascript\">stackoverflow.com/questions/17394440/&hellip;</a>"}, {"owner": {"reputation": 303, "user_id": 6513101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHfQQ.jpg?s=128&g=1", "display_name": "Vasilis Michail", "link": "https://stackoverflow.com/users/6513101/vasilis-michail"}, "edited": false, "score": 0, "creation_date": 1507653753, "post_id": 46671649, "comment_id": 80292051, "body": "Yes sorry if i havent make this clear.. currentphoto value contains standar images urls so when user changes profil image the currentphoto value changes"}], "answers": [{"comments": [{"owner": {"reputation": 6037, "user_id": 521554, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/595a13ad379874ee331b6693e959a005?s=128&d=identicon&r=PG", "display_name": "LosManos", "link": "https://stackoverflow.com/users/521554/losmanos"}, "edited": false, "score": 1, "creation_date": 1608134106, "post_id": 46671727, "comment_id": 115490852, "body": "It <i>should</i> work but does not. Don&#39;t know why. Angular 10."}], "tags": [], "owner": {"reputation": 4056, "user_id": 1576255, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/V5eQC.jpg?s=128&g=1", "display_name": "asmmahmud", "link": "https://stackoverflow.com/users/1576255/asmmahmud"}, "is_accepted": false, "score": 0, "last_activity_date": 1507653494, "creation_date": 1507653494, "answer_id": 46671727, "question_id": 46671649, "link": "https://stackoverflow.com/questions/46671649/angular-4-refresh-img-src-when-the-value-changes/46671727#46671727", "title": "Angular 4 refresh &lt;img src={{ ... }} &gt; when the value changes", "body": "<p>Have you tried this:</p>\n\n<pre><code>&lt;div class=\"profilphoto\"&gt;\n        &lt;img [src]=\"currentphoto\" &gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13367, "user_id": 795016, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/f4eceabd04689ba173a89c3384b05901?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/795016/ben"}, "edited": false, "score": 0, "creation_date": 1520466399, "post_id": 46671904, "comment_id": 85331900, "body": "I have had the same problem as OP and can confirm that this solution solves it. My question is will there be a fix in Angular at any point, or is this the desired behaviour?"}, {"owner": {"reputation": 13367, "user_id": 795016, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/f4eceabd04689ba173a89c3384b05901?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/795016/ben"}, "edited": false, "score": 0, "creation_date": 1520468451, "post_id": 46671904, "comment_id": 85332452, "body": "Actually, I also had to add a random number as mentioned by  Christian&#39;s comment above and explained in <a href=\"https://stackoverflow.com/questions/17394440/add-random-variable-after-image-url-with-javascript\" title=\"add random variable after image url with javascript\">stackoverflow.com/questions/17394440/&hellip;</a>. This brings up the issue of random number collisions, which leads to the question if there is a better solution?"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 9, "last_activity_date": 1507654549, "last_edit_date": 1507654549, "creation_date": 1507654047, "answer_id": 46671904, "question_id": 46671649, "link": "https://stackoverflow.com/questions/46671649/angular-4-refresh-img-src-when-the-value-changes/46671904#46671904", "title": "Angular 4 refresh &lt;img src={{ ... }} &gt; when the value changes", "body": "<p>Try calling the <strong><code>changedetection</code></strong> manually,</p>\n\n<pre><code>constructor(private cdRef: ChangeDetectorRef){\n\n}\n</code></pre>\n\n<p>Once you set the image</p>\n\n<pre><code> this.currentphoto = this.authService.photourl;\n this.cdRef.detectChanges();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7168, "user_id": 640053, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/96fc923031cbec3fe58b7535229a179b?s=128&d=identicon&r=PG", "display_name": "Christian Benseler", "link": "https://stackoverflow.com/users/640053/christian-benseler"}, "is_accepted": false, "score": 1, "last_activity_date": 1507654434, "creation_date": 1507654434, "answer_id": 46672014, "question_id": 46671649, "link": "https://stackoverflow.com/questions/46671649/angular-4-refresh-img-src-when-the-value-changes/46672014#46672014", "title": "Angular 4 refresh &lt;img src={{ ... }} &gt; when the value changes", "body": "<p>Without the entire code of your component/service is hard to know what is the problem, but the best shot is in this line:</p>\n\n<pre><code>onSubmit = function(form) {\n</code></pre>\n\n<p>probably it's a problem with the 'this' value.\nInsert a console.log(this) below this line (inside the function) and check if 'this' is a reference to the component instance or to the window.</p>\n\n<p>Try to use arrow function:</p>\n\n<pre><code>onSubmit = form =&gt; {\n //do what you need here, call the service, etc...\n //and then set the this.currentphoto\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 4139222, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/676162982/picture?type=large", "display_name": "Jean-Francois Bertrand", "link": "https://stackoverflow.com/users/4139222/jean-francois-bertrand"}, "is_accepted": false, "score": 1, "last_activity_date": 1532626650, "creation_date": 1532626650, "answer_id": 51544605, "question_id": 46671649, "link": "https://stackoverflow.com/questions/46671649/angular-4-refresh-img-src-when-the-value-changes/51544605#51544605", "title": "Angular 4 refresh &lt;img src={{ ... }} &gt; when the value changes", "body": "<p>This is probably not relevant anymore but in case it could help people get this solved faster, here it is.</p>\n\n<p>If you want to update the image after it has changed write your src like this:\n<br/>\nsrc='{{currentphoto}}?d={{clock_tick}}'</p>\n\n<p>Initialize your clock tick when you first load your component (I use Date.now()) and again after you update the image.  This will tell your browser that you updated the image and it will reload it for you.</p>\n\n<p>It worked for me.</p>\n"}], "owner": {"reputation": 303, "user_id": 6513101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHfQQ.jpg?s=128&g=1", "display_name": "Vasilis Michail", "link": "https://stackoverflow.com/users/6513101/vasilis-michail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10603, "favorite_count": 2, "accepted_answer_id": 46671904, "answer_count": 4, "score": 11, "last_activity_date": 1532626650, "creation_date": 1507653162, "question_id": 46671649, "link": "https://stackoverflow.com/questions/46671649/angular-4-refresh-img-src-when-the-value-changes", "title": "Angular 4 refresh &lt;img src={{ ... }} &gt; when the value changes", "body": "<p>I am using Angular 4 and I have a component where I want to change my user current photo.. so the html code that displays the current user photo is this.. </p>\n\n<pre><code>&lt;div class=\"profilphoto\"&gt;\n        &lt;img src= {{currentphoto}}&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong><em>currentphoto</em></strong> contains the current user photo url and I get it from firebase..\nAfter that I display a Gallery of photos so the user can select one and change his profil photo using a form.. the submit code is the following and works fine</p>\n\n<pre><code>    onSubmit = function(form) {\n    this.photoUrl = form.photoUrl;\n    firebase.database().ref(\"users/\"+this.authService.cusername+\"/photo\").update({\n      url: form.photoUrl\n    }).then(()=&gt;{\n      this.currentphoto = this.authService.photourl;\n      console.log(\"currentphoto:\"+this.currentphoto);\n    }\n    );\n  }\n</code></pre>\n\n<p>Everything works fine except that despite the <strong><em>currentphoto</em></strong> value has changed and database url upadated the html still displays the previous user's image and its annoying(if I refresh the page it shows the new profil image).. Is there any way I can make </p>\n\n<pre><code>&lt;div class=\"profilphoto\"&gt;\n        &lt;img src= {{currentphoto}}&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>detect when <strong>currentphoto</strong> changes value and Display the image with the new src value??</p>\n"}, {"tags": ["angular", "typescript", "ionic2", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": true, "score": 3, "last_activity_date": 1507663434, "last_edit_date": 1507663434, "creation_date": 1507654082, "answer_id": 46671917, "question_id": 46671622, "link": "https://stackoverflow.com/questions/46671622/new-to-ionic-typescript-error-in-app-component-ts/46671917#46671917", "title": "New to Ionic: Typescript Error in App.Component.Ts", "body": "<p>Use the instances that Angular injects in the constructor (<code>DI</code>) instead of the static methods of the <code>StatusBar</code> and the <code>SplashScreen</code> classes, as shown below:</p>\n\n<pre><code>initializeApp() {\n    this.platform.ready().then(() =&gt; {\n        this.statusBar.styleDefault();\n        this.splashScreen.hide();\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4937335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4759046f3ca53c94b35c9cf3dfdc0c1?s=128&d=identicon&r=PG&f=1", "display_name": "John P", "link": "https://stackoverflow.com/users/4937335/john-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 46671917, "answer_count": 1, "score": 2, "last_activity_date": 1507727740, "creation_date": 1507653092, "last_edit_date": 1507727740, "question_id": 46671622, "link": "https://stackoverflow.com/questions/46671622/new-to-ionic-typescript-error-in-app-component-ts", "title": "New to Ionic: Typescript Error in App.Component.Ts", "body": "<p>I am getting a TypeScript Error in my Ionic app. I have a sidemenu app, and was separating the menu into it's own component so that I could add a login page more easily. I have been following this guide to do so: <a href=\"http://roblouie.com/article/344/ionic-2-hide-menu-or-tabs-for-login-screen/\" rel=\"nofollow noreferrer\">http://roblouie.com/article/344/ionic-2-hide-menu-or-tabs-for-login-screen/</a></p>\n\n<p>In my new app.component.ts I have the following code:</p>\n\n<pre><code>import { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { MenuComponent } from \"./menu.component\";\n\n@Component({\n  template: '&lt;ion-nav #baseNav&gt;&lt;/ion-nav&gt;'\n})\nexport class MyApp {\n  @ViewChild('baseNav') nav: Nav;\n\n  constructor(public platform: Platform, public statusBar: StatusBar, public splashScreen: SplashScreen) {\n    this.initializeApp();\n  }\n\n  ngOnInit() {\n    this.nav.push(MenuComponent, { animate: false });\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() =&gt; {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      StatusBar.styleDefault();\n      SplashScreen.hide();\n    });\n  }\n}\n</code></pre>\n\n<p>I am fairly new with Ionic and I have been mostly following guides to get started. Any advice on the matter would be greatly appreciated. Here is the error message I am getting: </p>\n\n<p><a href=\"https://i.stack.imgur.com/0SV36.png\" rel=\"nofollow noreferrer\">Error Message</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/0SV36.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0SV36.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "typescript", "jsdoc"], "answers": [{"comments": [{"owner": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "edited": false, "score": 0, "creation_date": 1507654431, "post_id": 46671303, "comment_id": 80292443, "body": "question was about type <b>parameters</b>: <a href=\"https://www.google.com/search?q=type+parameters+typescript\" rel=\"nofollow noreferrer\">google.com/search?q=type+parameters+typescript</a>"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "edited": false, "score": 0, "creation_date": 1507654527, "post_id": 46671303, "comment_id": 80292487, "body": "As in generic type parameters?"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "edited": false, "score": 0, "creation_date": 1507654782, "post_id": 46671303, "comment_id": 80292629, "body": "Example added for that."}, {"owner": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "edited": false, "score": 0, "creation_date": 1507654852, "post_id": 46671303, "comment_id": 80292674, "body": "may i ask for the source of this <code>@template</code> syntax?"}, {"owner": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "edited": false, "score": 0, "creation_date": 1507655199, "post_id": 46671303, "comment_id": 80292860, "body": "more precisely <a href=\"https://github.com/Microsoft/TypeScript/issues/1178\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/1178</a>  thanks!"}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 1, "last_activity_date": 1507654758, "last_edit_date": 1507654758, "creation_date": 1507651956, "answer_id": 46671303, "question_id": 46670579, "link": "https://stackoverflow.com/questions/46670579/is-there-a-way-to-declare-a-type-parameter-via-jsdoc-syntax-in-javascript-for-ty/46671303#46671303", "title": "is there a way to declare a type parameter via JSDoc syntax in javascript for typescript to understand", "body": "<p>Yes, you can specify types with JSDoc in JavaScript for the TypeScript compiler to use...</p>\n\n<pre><code>/** @type {Window} */\nvar myWin;\n\n/** @type {Event} */\nvar myEvent;\n\n/**\n * @param myStr {string} my parameter\n * @return {string} returns a string\n */\nfunction myFunction(myStr){\n    return myStr;\n}\n</code></pre>\n\n<p>Available in TypeScript 2.3 and later.</p>\n\n<p>Using generic type parameters: </p>\n\n<pre><code>/**\n * @template T\n * @param {T} thing\n * @return {T}\n */\nfunction getThing(thing){\n    return thing;\n}\n</code></pre>\n"}], "owner": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 46671303, "answer_count": 1, "score": 0, "last_activity_date": 1507654758, "creation_date": 1507649422, "question_id": 46670579, "link": "https://stackoverflow.com/questions/46670579/is-there-a-way-to-declare-a-type-parameter-via-jsdoc-syntax-in-javascript-for-ty", "title": "is there a way to declare a type parameter via JSDoc syntax in javascript for typescript to understand", "body": "<p>this document:</p>\n\n<ul>\n<li><a href=\"https://github.com/Microsoft/TypeScript/wiki/JSDoc-support-in-JavaScript\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/wiki/JSDoc-support-in-JavaScript</a></li>\n</ul>\n\n<p>doesn't mention type parameters</p>\n\n<p>Questions:</p>\n\n<ul>\n<li>are type parameters supported via JSDoc type annotations?</li>\n<li>if so, how do i do it?</li>\n</ul>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 7895, "user_id": 3801947, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/MzYMo.jpg?s=128&g=1", "display_name": "Mohit Bhardwaj", "link": "https://stackoverflow.com/users/3801947/mohit-bhardwaj"}, "edited": false, "score": 0, "creation_date": 1507649510, "post_id": 46670522, "comment_id": 80289599, "body": "can you use <code>moment.js</code>?"}, {"owner": {"reputation": 1710, "user_id": 5741324, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Y8cJW.png?s=128&g=1", "display_name": "Miguel Frias", "link": "https://stackoverflow.com/users/5741324/miguel-frias"}, "reply_to_user": {"reputation": 7895, "user_id": 3801947, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/MzYMo.jpg?s=128&g=1", "display_name": "Mohit Bhardwaj", "link": "https://stackoverflow.com/users/3801947/mohit-bhardwaj"}, "edited": false, "score": 0, "creation_date": 1507649648, "post_id": 46670522, "comment_id": 80289690, "body": "yes i can use it."}], "owner": {"reputation": 1710, "user_id": 5741324, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Y8cJW.png?s=128&g=1", "display_name": "Miguel Frias", "link": "https://stackoverflow.com/users/5741324/miguel-frias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516074210, "creation_date": 1507649271, "last_edit_date": 1516074210, "question_id": 46670522, "link": "https://stackoverflow.com/questions/46670522/javascript-generate-date", "title": "Javascript Generate Date", "body": "<p>i need to generate and start, end and deadline date base on a user selection in  a select element, the element has 3 option 1, 2 and 3 month, the idea here is create a loop that is gonna generate and object with this 3 date start, end and deadline, but for each iteration these date most increase 1,2 or 3 months base on what the user select.</p>\n\n<p>Example:</p>\n\n<p>the user select 1 month and the iteration count is gonna be 3\nso the the objects most look:</p>\n\n<pre><code>Object 1:\nstart_date: 2017/10/31\nend_date: 2017/11/30\n\nObject 2:\nstart_date: 2017/11/30\nend_date: 2017/12/31\n\nObject 3:\nstart_date: 2017/12/31\nend_date: 2018/01/31\n</code></pre>\n\n<p>here is the function:</p>\n\n<pre><code>  public DatesGenerator(futercampaign: ICampaign, searchparam: any, i: number): ICampaign {\n    let num: number;\n    let month: number;\n    let tempDate: Date;\n    let deadline: Date = new Date(searchparam.start_date);\n    let periodicity: Date = new Date(searchparam.start_date);\n    if (searchparam.periodicity === 'onemonth') { num = (i * 1); month = 1; } else if (searchparam.periodicity === 'twomonth') { num = (i * 2); month = 2; } else if (searchparam.periodicity === 'threemonth') { num = (i * 3); month = 3; }\n\n      futercampaign.start_date = new Date(periodicity.setMonth(periodicity.getMonth() + num));\n\n      /* Storing the start_date temporarily */\n      tempDate = new Date(futercampaign.start_date);\n\n      /* Calculating the End Date */\n      futercampaign.end_date = new Date(tempDate.setMonth(tempDate.getMonth() + month));\n    /* Calculating the Deadline */\n    futercampaign.deadline = new Date(tempDate.setDate(tempDate.getDate() - searchparam.deadline));\n\n    return futercampaign;\n  }\n</code></pre>\n\n<p>the searchparam just and object to save the user selection that in this case storage the start_date and the periodicity(1,2 or 3 month).</p>\n\n<p>my problem is that when the user select the last day lets say oct 31 and the next month doesn\u00b4t have 31 day too jump that month in this case november and go to december 31.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-cli", "angular-compiler-cli"], "comments": [{"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 6, "creation_date": 1507649095, "post_id": 46670430, "comment_id": 80289328, "body": "I agree with the &quot;not really compiling&quot;. Essentially, it is a matter of definition of <i>compilation</i>. Some prefer use the word <b>transpilation</b> to mark the transformation from TypeScript to JavaScript. But yeah, in essence, the role of the Typescript compiler is <i>just</i> to generate Javascript from Typescript."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1507653018, "post_id": 46670430, "comment_id": 80291657, "body": "Have a look at <a href=\"https://stackoverflow.com/a/43969036/1048572\">Is Babel a compiler or transpiler?</a>"}, {"owner": {"reputation": 7070, "user_id": 1087848, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7c09991a02e7ffa559c69d159231b07a?s=128&d=identicon&r=PG", "display_name": "11684", "link": "https://stackoverflow.com/users/1087848/11684"}, "reply_to_user": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 6, "creation_date": 1507656806, "post_id": 46670430, "comment_id": 80293698, "body": "@Pac0 I might be misunderstanding something here, but if TypeScript to JavaScript is transpilation, wouldn\u2019t GCC be a C to machine code transpiler? How would you define the difference between a transpiler and a compiler?"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 24, "creation_date": 1507665697, "post_id": 46670430, "comment_id": 80298356, "body": "transpilers are compilers"}, {"owner": {"reputation": 35704, "user_id": 4958, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6ca82d17e7496d3c20b9c8038f87ae49?s=128&d=identicon&r=PG", "display_name": "ShreevatsaR", "link": "https://stackoverflow.com/users/4958/shreevatsar"}, "edited": false, "score": 5, "creation_date": 1507693741, "post_id": 46670430, "comment_id": 80306904, "body": "See <a href=\"http://composition.al/blog/2017/07/30/what-do-people-mean-when-they-say-transpiler/\" rel=\"nofollow noreferrer\">What do people mean when they say &quot;transpiler&quot;?</a> (and the followup <a href=\"http://composition.al/blog/2017/07/31/my-first-fifteen-compilers/\" rel=\"nofollow noreferrer\">\u201cMy first fifteen compilers\u201d</a>) (from someone who works on compiler), which argues that \u201ccompiler\u201d is a good word to use for things like this."}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 2, "creation_date": 1507696889, "post_id": 46670430, "comment_id": 80307737, "body": "<i>Javascript itself is still intepreted, right?</i> - not any more, it&#39;s compiled into machine code on the fly by V8 engine"}, {"owner": {"reputation": 8790, "user_id": 1261432, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c3cd64a8b152ef096abdd8d03925bf34?s=128&d=identicon&r=PG&f=1", "display_name": "Synxis", "link": "https://stackoverflow.com/users/1261432/synxis"}, "edited": false, "score": 2, "creation_date": 1507737865, "post_id": 46670430, "comment_id": 80333347, "body": "Also the horrible expression &quot;tree shaking&quot; just mean dead code elimination (or removal). Using the latter will fetch more results on google... and is also way way clearer."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 8790, "user_id": 1261432, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c3cd64a8b152ef096abdd8d03925bf34?s=128&d=identicon&r=PG&f=1", "display_name": "Synxis", "link": "https://stackoverflow.com/users/1261432/synxis"}, "edited": false, "score": 1, "creation_date": 1507743553, "post_id": 46670430, "comment_id": 80336491, "body": "@Synxis I&#39;d argue that tree shaking specifically targets the elimination of dead module imports - but you&#39;re right, the boundary is fuzzy as well and might lead to the same harm as the com/trans-piler distinction."}], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 12, "creation_date": 1507653287, "post_id": 46670631, "comment_id": 80291819, "body": "Isn&#39;t JavaScript strictly lower level than TypeScript?"}, {"owner": {"reputation": 2497, "user_id": 4135063, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e7ad6fb5dc2f10279b43129570737497?s=128&d=identicon&r=PG", "display_name": "Pedro A", "link": "https://stackoverflow.com/users/4135063/pedro-a"}, "edited": false, "score": 3, "creation_date": 1507674299, "post_id": 46670631, "comment_id": 80302261, "body": "Although everything in this answer is correct and helpful, especially since the definition of compiling is always a matter of confusion, it does not answer the question in title. This answer talks about TypeScript only, while the question is about Angular. The difference is huge. It&#39;s totally possible to use Angular without even knowing that TS is a thing. I&#39;m surprised this answer was accepted."}, {"owner": {"reputation": 68611, "user_id": 53897, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2e71c1745ebc5401c8c8dfbf7c9a5d30?s=128&d=identicon&r=PG", "display_name": "Thorbj&#248;rn Ravn Andersen", "link": "https://stackoverflow.com/users/53897/thorbj%c3%b8rn-ravn-andersen"}, "edited": false, "score": 3, "creation_date": 1507679289, "post_id": 46670631, "comment_id": 80303588, "body": "A compiler needs to essentially understand the whole program in order to generate another program (which usually does the same thing but in another language - this includes machine code)."}, {"owner": {"reputation": 16225, "user_id": 415078, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ABa1l.png?s=128&g=1", "display_name": "angularrocks.com", "link": "https://stackoverflow.com/users/415078/angularrocks-com"}, "edited": false, "score": 8, "creation_date": 1507680960, "post_id": 46670631, "comment_id": 80303962, "body": "I just read that twice and could not find the answer to the question here. The answer is just down below."}, {"owner": {"reputation": 35704, "user_id": 4958, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6ca82d17e7496d3c20b9c8038f87ae49?s=128&d=identicon&r=PG", "display_name": "ShreevatsaR", "link": "https://stackoverflow.com/users/4958/shreevatsar"}, "edited": false, "score": 5, "creation_date": 1507693967, "post_id": 46670631, "comment_id": 80306950, "body": "The implicit question that the OP was asking, which is why they accepted this, was \u201cis it correct to call the Angular compiler a compiler?\u201d \u2014 and that is what this answer answers. So +1 from me. See also <a href=\"http://composition.al/blog/2017/07/30/what-do-people-mean-when-they-say-transpiler/\" rel=\"nofollow noreferrer\">What do people mean when they say &quot;transpiler&quot;?</a> and the followup <a href=\"http://composition.al/blog/2017/07/31/my-first-fifteen-compilers/\" rel=\"nofollow noreferrer\">\u201cMy first fifteen compilers\u201d</a>."}, {"owner": {"reputation": 11533, "user_id": 1366431, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/YBopF.png?s=128&g=1", "display_name": "Leushenko", "link": "https://stackoverflow.com/users/1366431/leushenko"}, "edited": false, "score": 2, "creation_date": 1507725699, "post_id": 46670631, "comment_id": 80324422, "body": "&quot;Transpiling&quot; is never a useful word. The only thing it achieves is to lead to misconceptions like the one in the OP. Avoid at all costs and refer to these things properly: as <b>compilers</b>."}, {"owner": {"reputation": 8469, "user_id": 2311557, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KOoOQ.png?s=128&g=1", "display_name": "codepleb", "link": "https://stackoverflow.com/users/2311557/codepleb"}, "reply_to_user": {"reputation": 35704, "user_id": 4958, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6ca82d17e7496d3c20b9c8038f87ae49?s=128&d=identicon&r=PG", "display_name": "ShreevatsaR", "link": "https://stackoverflow.com/users/4958/shreevatsar"}, "edited": false, "score": 1, "creation_date": 1507732624, "post_id": 46670631, "comment_id": 80329773, "body": "@ShreevatsaR Exactly. I&#39;m not a native speaker, and what I think is not 100% what I can manifest into words, especially in another language. But the thing Liam explained here was exactly the root of what confused me. Sorry to the people do not agree. Looking at it now, I see how this is a bit confusing."}], "tags": [], "owner": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "is_accepted": true, "score": 92, "last_activity_date": 1559902860, "last_edit_date": 1559902860, "creation_date": 1507649598, "answer_id": 46670631, "question_id": 46670430, "link": "https://stackoverflow.com/questions/46670430/what-does-the-angular-compiler-compile/46670631#46670631", "title": "What does the angular compiler &quot;compile&quot;?", "body": "<p>You're presuming compiling means taking the source code and producing machine code, low-level codes, etc. But compiling actually just means taking one source code and turning it into another. So it seems reasonable to say that taking Typescript and producing JavaScript is a <em>form</em> of compiling. It's not dissimilar to what (for example) c# does when its compiled into IL language. </p>\n\n<p>That said, I'd say a better word for this is <strong>Transpiling</strong>. I'd suggest that the Typescript compiler is <em>better</em> described as a Transpiler. </p>\n\n<p>The difference is subtle and a transpiler can be thought of as a type of compiler; but a (pure)compiled language is (usually) turning a high-level language to a low(er) level language (nearer to machine code), like the C# example. A transpiler turns a high-level language into a similar level (of abstraction) language (also high level).<sup>*</sup></p>\n\n<p>The result of the compiled code is typically <strong>not a language that you would write yourself</strong>. The result of a transpiler is another high-level language. In theory, you could write IL (as an example) but it's really designed to be produced by a compiler and there are no tools or support for doing this, you produce IL by compiling C#/vb.net, only. Whereas Javascript is a usable (and used) programming language in its own right.</p>\n\n<p><sub>*Lots of caveats as the definitions of these words and their usage are pretty vague</sub></p>\n"}, {"tags": [], "owner": {"reputation": 5459, "user_id": 1734730, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/L8dDj.jpg?s=128&g=1", "display_name": "Nathan Cooper", "link": "https://stackoverflow.com/users/1734730/nathan-cooper"}, "is_accepted": false, "score": 18, "last_activity_date": 1507651119, "last_edit_date": 1507651119, "creation_date": 1507650793, "answer_id": 46670937, "question_id": 46670430, "link": "https://stackoverflow.com/questions/46670430/what-does-the-angular-compiler-compile/46670937#46670937", "title": "What does the angular compiler &quot;compile&quot;?", "body": "<p>Getting the code you've written to run on a browser involves two things:</p>\n\n<p>1) Transpiling the <strong>Typescript into JavaScript</strong>. This is kind of a solved problem. I think they just use webpack. </p>\n\n<p>2) <strong>Compiling the angular abstractions into JavaScript</strong>. I mean things like a components, pipes, directives, templates etc. This is what the angular core team work on.</p>\n\n<p>In case you're really interested in that second bit, the angular compiler, <a href=\"https://www.youtube.com/watch?v=kW9cJsvcsGo\" rel=\"noreferrer\">watch compiler author Tobias Bosch explain the Angular Compiler at AngularConnect 2016</a>.</p>\n\n<p>I think there's a bit of confusion going on here between transpiling and compilation. It sort of doesn't matter and is a matter of personal taste, they're both just transforms between representations of code. But the <a href=\"https://www.stevefenton.co.uk/2012/11/compiling-vs-transpiling/\" rel=\"noreferrer\">definition</a> I personally use is that <strong>transpilation</strong> is between two different languages at a similar abstraction level (eg typescript to javascript), whereas <strong>compilation</strong> requires a step down in level of abstraction. I think from templates, components, pipes, directives etc to just javascript is a step down the abstraction ladder, and that's why it's called a compiler.</p>\n"}, {"comments": [{"owner": {"reputation": 8469, "user_id": 2311557, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KOoOQ.png?s=128&g=1", "display_name": "codepleb", "link": "https://stackoverflow.com/users/2311557/codepleb"}, "edited": false, "score": 0, "creation_date": 1507655866, "post_id": 46671117, "comment_id": 80293197, "body": "Alright. In my understanding, a compiler turns &quot;human readable code&quot; into machine code. You say, this is not the case here, it&#39;s still interpreted and although all of that, the term &quot;compiler&quot; is correct? If yes, my interpretation of a compiler was wrong. Wikipedia proves you right, but I wonder why the term &quot;transpiler&quot; exists then. It sounds completely obsolete from this point of view. Thanks for your answer and the lecture! :)"}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "reply_to_user": {"reputation": 8469, "user_id": 2311557, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KOoOQ.png?s=128&g=1", "display_name": "codepleb", "link": "https://stackoverflow.com/users/2311557/codepleb"}, "edited": false, "score": 1, "creation_date": 1507664266, "post_id": 46671117, "comment_id": 80297638, "body": "@codepleb, see <a href=\"https://stackoverflow.com/questions/43968748/is-babel-a-compiler-or-transpiler/43969036#43969036\">this answer by Bergi</a>"}, {"owner": {"reputation": 1149, "user_id": 1346013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4656b7f2a3fcf11d248847915b0a4f3?s=128&d=identicon&r=PG", "display_name": "prosfilaes", "link": "https://stackoverflow.com/users/1346013/prosfilaes"}, "reply_to_user": {"reputation": 8469, "user_id": 2311557, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KOoOQ.png?s=128&g=1", "display_name": "codepleb", "link": "https://stackoverflow.com/users/2311557/codepleb"}, "edited": false, "score": 1, "creation_date": 1507668833, "post_id": 46671117, "comment_id": 80299963, "body": "@codepleb Note that GCC and many other compilers don&#39;t produce machine code at all. In practice, GCC automatically calls the systems to produce machine code, but the code it produces without external help is merely assembly, which is then handed to an external assembler."}, {"owner": {"reputation": 8265, "user_id": 2425396, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/32c3186cd3e9521009b79e70501057d8?s=128&d=identicon&r=PG", "display_name": "omeralper", "link": "https://stackoverflow.com/users/2425396/omeralper"}, "edited": false, "score": 0, "creation_date": 1507674279, "post_id": 46671117, "comment_id": 80302254, "body": "@AngularInDepth.com can you shorten the header bar in your web site pls :)"}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "reply_to_user": {"reputation": 8265, "user_id": 2425396, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/32c3186cd3e9521009b79e70501057d8?s=128&d=identicon&r=PG", "display_name": "omeralper", "link": "https://stackoverflow.com/users/2425396/omeralper"}, "edited": false, "score": 0, "creation_date": 1507696937, "post_id": 46671117, "comment_id": 80307746, "body": "@omeralper, what do you mean shorten? what exactly do you find inconvenient?"}, {"owner": {"reputation": 8265, "user_id": 2425396, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/32c3186cd3e9521009b79e70501057d8?s=128&d=identicon&r=PG", "display_name": "omeralper", "link": "https://stackoverflow.com/users/2425396/omeralper"}, "edited": false, "score": 0, "creation_date": 1507707398, "post_id": 46671117, "comment_id": 80312513, "body": "@AngularInDepth.com the header is huge, it makes web site hard to read. Make it single line and remove the footer."}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "reply_to_user": {"reputation": 8265, "user_id": 2425396, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/32c3186cd3e9521009b79e70501057d8?s=128&d=identicon&r=PG", "display_name": "omeralper", "link": "https://stackoverflow.com/users/2425396/omeralper"}, "edited": false, "score": 1, "creation_date": 1507707976, "post_id": 46671117, "comment_id": 80312831, "body": "@omeralper, angluarindepth.com blog is hosted on the <code>medium.com</code> platform. The customization options are very limited. I can&#39;t modify the layout of a header"}, {"owner": {"reputation": 1493, "user_id": 1991295, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/16ae031def7f1e2adc1b71daac74a28e?s=128&d=identicon&r=PG", "display_name": "async", "link": "https://stackoverflow.com/users/1991295/async"}, "reply_to_user": {"reputation": 8469, "user_id": 2311557, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KOoOQ.png?s=128&g=1", "display_name": "codepleb", "link": "https://stackoverflow.com/users/2311557/codepleb"}, "edited": false, "score": 7, "creation_date": 1507716842, "post_id": 46671117, "comment_id": 80318716, "body": "@codepleb This answer is far superior and actually answers your question. There&#39;s still time to reconsider your original judgement."}, {"owner": {"reputation": 11533, "user_id": 1366431, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/YBopF.png?s=128&g=1", "display_name": "Leushenko", "link": "https://stackoverflow.com/users/1366431/leushenko"}, "reply_to_user": {"reputation": 8469, "user_id": 2311557, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KOoOQ.png?s=128&g=1", "display_name": "codepleb", "link": "https://stackoverflow.com/users/2311557/codepleb"}, "edited": false, "score": 3, "creation_date": 1507725828, "post_id": 46671117, "comment_id": 80324508, "body": "@codepleb there&#39;s no good reason for the term &quot;transpiler&quot; to exist or ever to have existed, all it does is mislead."}, {"owner": {"reputation": 8469, "user_id": 2311557, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KOoOQ.png?s=128&g=1", "display_name": "codepleb", "link": "https://stackoverflow.com/users/2311557/codepleb"}, "reply_to_user": {"reputation": 1493, "user_id": 1991295, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/16ae031def7f1e2adc1b71daac74a28e?s=128&d=identicon&r=PG", "display_name": "async", "link": "https://stackoverflow.com/users/1991295/async"}, "edited": false, "score": 0, "creation_date": 1508498789, "post_id": 46671117, "comment_id": 80643505, "body": "@async The accepted answer answers my question 100% and is more compact than this. I like both of course, but when I search SO for a specific question, I like when the answers I find are short and spot on. I agree that here are very nice examples and everything, but the accepted answer was a direct hit to what I tried to ask. The first sentence was basically the answer I was looking for, and not explanation stuff around the issue, while the answer to the real issue is somewhere &quot;between to be found&quot;. I know that this sounds like a lazy excuse, but SO is all about compact/simple/straight imho."}, {"owner": {"reputation": 5190, "user_id": 2218697, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/tq4uR.jpg?s=128&g=1", "display_name": "Shaiju T", "link": "https://stackoverflow.com/users/2218697/shaiju-t"}, "edited": false, "score": 0, "creation_date": 1519627518, "post_id": 46671117, "comment_id": 84970500, "body": "Can you answer How Angular builds and runs in depth ? <a href=\"https://stackoverflow.com/questions/48942691/how-angular-builds-and-runs\">Here</a> is the question."}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "reply_to_user": {"reputation": 5190, "user_id": 2218697, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/tq4uR.jpg?s=128&g=1", "display_name": "Shaiju T", "link": "https://stackoverflow.com/users/2218697/shaiju-t"}, "edited": false, "score": 2, "creation_date": 1519644396, "post_id": 46671117, "comment_id": 84979260, "body": "@stom, sorry, that question is too broad. The most upvoted answer is pretty good though"}, {"owner": {"reputation": 5190, "user_id": 2218697, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/tq4uR.jpg?s=128&g=1", "display_name": "Shaiju T", "link": "https://stackoverflow.com/users/2218697/shaiju-t"}, "edited": false, "score": 0, "creation_date": 1519647380, "post_id": 46671117, "comment_id": 84981149, "body": "@AngularInDepth.com , Yes I see :) , if possible you can write your findings in your medium blog , may help others."}], "tags": [], "owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "is_accepted": false, "score": 71, "last_activity_date": 1508152150, "last_edit_date": 1508152150, "creation_date": 1507651323, "answer_id": 46671117, "question_id": 46670430, "link": "https://stackoverflow.com/questions/46670430/what-does-the-angular-compiler-compile/46671117#46671117", "title": "What does the angular compiler &quot;compile&quot;?", "body": "<p>You seem to be asking three questions in one:</p>\n\n<ul>\n<li>What is the difference between a compiler and a transpiler?</li>\n<li>Do Angular and TypeScript implement compilers or transpilers?</li>\n<li><strong>Is there a separate Angular compiler? What does it compile?</strong></li>\n</ul>\n\n<blockquote>\n  <p>What is the difference between a compiler and transpiler?</p>\n</blockquote>\n\n<p>@J\u00f6rgWMittag <a href=\"https://stackoverflow.com/a/46676038/2545680\">provided a very good answer</a> to this question.</p>\n\n<blockquote>\n  <p>Do Angular and TypeScript implement compilers or transpilers?</p>\n</blockquote>\n\n<p>Both TS and Angular implement <em>real</em> compilers. They follow the same stages of lexical analysis, parsing, semantic analysis, and code generation as C/C++ compilers that produce assembly code (except probably for optimization). You can see that the class/folder are named \"compiler\" in both <a href=\"https://github.com/angular/angular/blob/06e479ff66c4fd91208311334f57c7d21b36d554/packages/compiler/src/view_compiler/view_compiler.ts\" rel=\"noreferrer\">Angular</a> and <a href=\"https://github.com/Microsoft/TypeScript/tree/94b4f8b79e370020cb31995e8fb0b78f9ba94349/src/compiler\" rel=\"noreferrer\">TS</a>.</p>\n\n<p>The angular compiler is not really related to TypeScript compiler. These are very different compilers.</p>\n\n<blockquote>\n  <p>Is there a separate Angular compiler? What does it compile?</p>\n</blockquote>\n\n<p>Angular has two compilers:</p>\n\n<ul>\n<li>View Compiler</li>\n<li>Module Compiler</li>\n</ul>\n\n<p>The job of the view compiler is to transform the template you specify for the component template into the internal representation of a component which is a <strong>view factory</strong> that is then used to instantiate a <strong>view instance</strong>.</p>\n\n<p>Besides transforming the template, the view compiler also compiles various metadata information in the form of decorators like <code>@HostBinding</code>, <code>@ViewChild</code> etc.</p>\n\n<p>Suppose you define a component and its template like this:</p>\n\n<pre><code>@Component({\n  selector: 'a-comp',\n  template: '&lt;span&gt;A Component&lt;/span&gt;'\n})\nclass AComponent {}\n</code></pre>\n\n<p>Using this data the compiler generates the following slightly simplified component factory:</p>\n\n<pre><code>function View_AComponent {\n  return jit_viewDef1(0,[\n      elementDef2(0,null,null,1,'span',...),\n      jit_textDef3(null,['My name is ',...])\n    ]\n</code></pre>\n\n<p>It describes the structure of a component view and is used when instantiating the component. The first node is element definition and the second one is text definition. You can see that each node gets the information it needs when being instantiated through parameters list. It\u2019s a job of a compiler to resolve all the required dependencies and provide them at the runtime.</p>\n\n<p>I strongly recommend reading these articles:</p>\n\n<ul>\n<li><a href=\"https://blog.angularindepth.com/here-is-what-you-need-to-know-about-dynamic-components-in-angular-ac1e96167f9e#b1ae\" rel=\"noreferrer\">Here is what you need to know about dynamic components in Angular</a></li>\n<li><a href=\"https://blog.angularindepth.com/here-is-why-you-will-not-find-components-inside-angular-bdaf204d955c\" rel=\"noreferrer\">Here is why you will not find components inside Angular</a></li>\n</ul>\n\n<p>Also, see the answer to <a href=\"https://stackoverflow.com/a/45707383/2545680\">What is the difference between Angular AOT and JIT compiler.</a></p>\n\n<p>The job of the module compiler is to create a module factory which basically contains merged definitions of the providers. </p>\n\n<p>For more information, read:</p>\n\n<ul>\n<li><a href=\"https://blog.angularindepth.com/avoiding-common-confusions-with-modules-in-angular-ada070e6891f\" rel=\"noreferrer\">Avoiding common confusions with modules in Angular</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 2497, "user_id": 4135063, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e7ad6fb5dc2f10279b43129570737497?s=128&d=identicon&r=PG", "display_name": "Pedro A", "link": "https://stackoverflow.com/users/4135063/pedro-a"}, "edited": false, "score": 4, "creation_date": 1507676604, "post_id": 46676038, "comment_id": 80302874, "body": "+1 for the deep explanation of the concept of compilation, and if I could, another +1 for those bullet points. Very helpful."}, {"owner": {"reputation": 2497, "user_id": 4135063, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e7ad6fb5dc2f10279b43129570737497?s=128&d=identicon&r=PG", "display_name": "Pedro A", "link": "https://stackoverflow.com/users/4135063/pedro-a"}, "edited": false, "score": 1, "creation_date": 1507676670, "post_id": 46676038, "comment_id": 80302895, "body": "Although, I have to say, technically this does not answer the question in title... Still a deserved +1 from me, though!"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "reply_to_user": {"reputation": 2497, "user_id": 4135063, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e7ad6fb5dc2f10279b43129570737497?s=128&d=identicon&r=PG", "display_name": "Pedro A", "link": "https://stackoverflow.com/users/4135063/pedro-a"}, "edited": false, "score": 0, "creation_date": 1507706851, "post_id": 46676038, "comment_id": 80312195, "body": "I agree it&#39;s implicit, but the answer to the question in the title is &quot;everything the OP lists as <i>not compilation</i> is what angular compilation is&quot;."}, {"owner": {"reputation": 58970, "user_id": 71059, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RRmlf.png?s=128&g=1", "display_name": "AakashM", "link": "https://stackoverflow.com/users/71059/aakashm"}, "edited": false, "score": 0, "creation_date": 1507707364, "post_id": 46676038, "comment_id": 80312502, "body": "Really good explanation of how this is actually about naming conventions rather than substantive difference. Could perhaps be improved by mentioning microcode - to point out that even at the level of machine code, you&#39;re not &#39;at the metal&#39;..."}, {"owner": {"reputation": 8469, "user_id": 2311557, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KOoOQ.png?s=128&g=1", "display_name": "codepleb", "link": "https://stackoverflow.com/users/2311557/codepleb"}, "edited": false, "score": 1, "creation_date": 1507733014, "post_id": 46676038, "comment_id": 80330045, "body": "I somehow remember learning what a compiler is. If anyone would have told me back then, that &quot;compiler&quot; is a synonym for &quot;translator for code&quot;, it would have been so much easier to get what it&#39;s for or why we need it. Sure, this sounds ridiculous from nowadays standpoint, but this just tells me once again how much one can benefit just from having the right person to teach him something. Thank you. :)"}, {"owner": {"reputation": 14204, "user_id": 732016, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9d2eb40aff994d83e1d271a3543efb22?s=128&d=identicon&r=PG", "display_name": "wchargin", "link": "https://stackoverflow.com/users/732016/wchargin"}, "edited": false, "score": 0, "creation_date": 1507735029, "post_id": 46676038, "comment_id": 80331439, "body": "This is a fantastic answer. Also, I find the term &quot;JVM CPU&quot; quite amusing\u2026  <i>who&#39;s the virtual machine now?</i>"}], "tags": [], "owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "is_accepted": false, "score": 54, "last_activity_date": 1508156697, "last_edit_date": 1508156697, "creation_date": 1507669620, "answer_id": 46676038, "question_id": 46670430, "link": "https://stackoverflow.com/questions/46670430/what-does-the-angular-compiler-compile/46676038#46676038", "title": "What does the angular compiler &quot;compile&quot;?", "body": "<blockquote>\n  <p>Typescript transpires to JS. Then there is tree shaking, \"less\" (optional) and what else in the process of making a deployment. But nothing like that (afaik) has anything to do with \"compiling\". Everything gets bundled and heavily optimized, but it's not actually compiled, right?</p>\n</blockquote>\n\n<p><em>Compilation</em> means transforming a program written in a language <strong>A</strong> into a semantically equivalent program written in language <strong>B</strong> such that evaluating the compiled program according to the rules of language <strong>B</strong> (for example interpreting it with an interpreter for <strong>B</strong>) yields the same result and has the same side-effects as evaluating the original program according to the rules of language <strong>A</strong> (for example interpreting it with an interpreter for <strong>A</strong>).</p>\n\n<p>Compilation simply means translating a program from language <strong>A</strong> to language <strong>B</strong>. That's all it means. (Also note that it is perfectly possible for <strong>A</strong> and <strong>B</strong> to be the same language.)</p>\n\n<p>In some cases, we have more specialized names for certain kinds of compilers, depending on what <strong>A</strong> and <strong>B</strong> are, and what the compiler does:</p>\n\n<ul>\n<li>if <strong>A</strong> is perceived to be assembly language and <strong>B</strong> is perceived to be machine language, then we call it an <em>assembler</em>, </li>\n<li>if <strong>A</strong> is perceived to be machine language and <strong>B</strong> is perceived to be assembly language, then we call it a <em>disassembler</em>, </li>\n<li>if <strong>A</strong> is perceived to be lower-level than <strong>B</strong>, then we call it a <em>decompiler</em>, </li>\n<li>if <strong>A</strong> and <strong>B</strong> are the same language, and the resulting program is in some way faster or lighter, then we call it an <em>optimizer</em>, </li>\n<li>if <strong>A</strong> and <strong>B</strong> are the same languages, and the resulting program is smaller, then we call it a <em>minifier</em>, </li>\n<li>if <strong>A</strong> and <strong>B</strong> are the same languages, and the resulting program is less readable, then we call it an <em>obfuscator</em>, </li>\n<li>if <strong>A</strong> and <strong>B</strong> are perceived to be at roughly the same level of abstraction, then we call it a <em>transpiler</em>, and </li>\n<li>if <strong>A</strong> and <strong>B</strong> are perceived to be at roughly the same level of abstraction and the resulting program preserves formatting, comments, and programmer intent such that it is possible to maintain the resulting the program in the same fashion as the original program, then we call it a <em>re-engineering tool</em>.</li>\n</ul>\n\n<p>Also, note that older sources may use the terms \"translation\" and \"translator\" instead of \"compilation\" and \"compiler\". For example, C talks about \"translation units\". </p>\n\n<p>You may also stumble across the term \"language processor\". This can mean either a compiler, an interpreter, or both compilers and interpreters depending on the definition.</p>\n\n<blockquote>\n  <p>Javascript itself is still interpreted, right?</p>\n</blockquote>\n\n<p>JavaScript is a language. Languages are a set of logical rules and restrictions. Languages aren't interpreted or compiled. Languages just <em>are</em>.</p>\n\n<p>Compilation and interpretation are traits of a compiler or interpreter (duh!). Every language can be implemented with a compiler and every language can be implemented with an interpreter. Many languages have both compilers and interpreters. Many modern high-performance execution engines have both at least one compiler and at least one interpreter.</p>\n\n<p>These two terms belong on different layers of abstraction. If English were a typed language, \"interpreted-language\" would be a type error.</p>\n\n<p>Note also that some languages have neither an interpreter nor a compiler. There are languages which have no implementation at all. Still, they are languages, and you can write programs in them. You just can't run them.</p>\n\n<p>Also, note that everything is interpreted at <em>some point</em>: if you want to execute something, you <em>must</em> interpret it. Compilation just translates code from one language to another. It doesn't run it. <em>Interpretation</em> runs it. (Sometimes, when an interpreter is implemented in hardware, we call it a \"CPU\", but it's still an interpreter.)</p>\n\n<p>Case in point: every single currently existing mainstream JavaScript implementation has a compiler.</p>\n\n<p>V8 started out as a pure compiler: it compiled JavaScript straight to moderately optimized native machine code. Later, a second compiler was added. Now, there are two compilers: a lightweight compiler that produces moderately optimized code but the compiler itself is very fast and uses little RAM. This compiler also injects profiling code into the compiled code. The second compiler is a more heavyweight, slower, more expensive compiler, which, however, produces much tighter, much faster code. It also uses the results of the profiling code injected by the first compiler to make dynamic optimization decisions. Also, the decision which code to re-compile using the second compiler is made based on that profiling information. Note that at no time there is an interpreter involved. V8 never interprets, it always compiles. It doesn't even contain an interpreter. (Actually, I believe nowadays it does, I am describing the first two iterations.)</p>\n\n<p>SpiderMonkey compiles JavaScript to SpiderMonkey bytecode, which it then interprets. The interpreter also profiles the code, and then the code which gets executed most often is compiled by a compiler to native machine code. So, SpiderMonkey contains <em>two</em> compilers: one from JavaScript to SpiderMonkey bytecode, and another from SpiderMonkey bytecode to native machine code.</p>\n\n<p>Almost all JavaScript execution engines (with the exception of V8) follow this model of an AOT compiler that compiles JavaScript to bytecode, and a mixed-mode engine that switches between interpreting and compiling that bytecode.</p>\n\n<p>You wrote in a comment:</p>\n\n<blockquote>\n  <p>I really was thinking that machine code is somewhere involved.</p>\n</blockquote>\n\n<p>What does \"machine code\" even mean?</p>\n\n<p>What is one man's machine language is another man's intermediate language and vice versa? For example, there are CPUs which can natively execute JVM bytecode, on such a CPU, JVM bytecode <em>is</em> native machine code. And there are interpreters for x86 machine code, when you run of those x86 machine code <em>is</em> interpreted bytecode.</p>\n\n<p>There is an x86 interpreter called JPC written in Java. If I run x86 machine code on JPC running on a native JVM CPU \u2026\u00a0which is the bytecode and which is the native code? If I compile x86 machine code to JavaScript (yes, there are tools which can do that) and run it in a browser on my phone (which has an ARM CPU), which is the bytecode and which is the native machine code? What if the program I am compiling is a SPARC emulator, and I use it to run SPARC code?</p>\n\n<p>Note that <em>every</em> language induces an abstract machine, and is machine language for that machine. So, every language (including very high-level languages) is native machine code. Also, you can write an interpreter for every language. So, every language (including x86 machine code) is not-native.</p>\n"}, {"tags": [], "owner": {"reputation": 8946, "user_id": 5675325, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rM1RC.png?s=128&g=1", "display_name": "Tiago Martins Peres \u674e\u5927\u4ec1", "link": "https://stackoverflow.com/users/5675325/tiago-martins-peres-%e6%9d%8e%e5%a4%a7%e4%bb%81"}, "is_accepted": false, "score": 1, "last_activity_date": 1571995330, "creation_date": 1571995330, "answer_id": 58555691, "question_id": 46670430, "link": "https://stackoverflow.com/questions/46670430/what-does-the-angular-compiler-compile/58555691#58555691", "title": "What does the angular compiler &quot;compile&quot;?", "body": "<h2>Angular Compiler</h2>\n\n<p>One of the most important changes from Angular 4 to 5 is that the compiler has been rewritten be faster and more thorough. In the past, Angular applications used what we call Just-in-Time (JIT) compilation, where the application was compiled at runtime in the browser before running. The compiler updates in Angular 5 advanced the move to AOT, which made the app run faster as it performes less compilation when running the app. AOT become enabled by default in any production build since the 1.5 version of the Angular CLI.</p>\n\n<p>Let's say we want to build an application for deployment and run the following command:</p>\n\n<pre><code>ng build --prod\n</code></pre>\n\n<p>A few things happen: production version, minification, bunddles assets, filename hashing, tree shaking, AOT ... (we can enable/disable this using flags, ex. aot=false). In short, the prod flag creates an optimized bundle of the application by doing AOT compilation using the <strong>ngc</strong> (the Angular compiler) to create optimized code ready for the browser (<em>Yes, it pre-compiles templates</em>).</p>\n\n<h2>TypeScript Compiler</h2>\n\n<p>The TypeScript compiler, <strong>tsc</strong>, is responsible for compiling TypeScript files. It is the compiler that is responsible for implementing TypeScript features, such as static types, and the result is pure JavaScript from which the TypeScript keywords and expressions have been removed.</p>\n\n<p>The TypeScript compiler has two main features: it is a transpiler and a type checker. The compiler transpiles TypeScript to JavaScript. It does the following transformations on your source code:</p>\n\n<ul>\n<li>Remove all type annotations.</li>\n<li>Compile new JavaScript features for old versions of JavaScript.</li>\n<li>Compile TypeScript features that are not standard JavaScript.</li>\n</ul>\n\n<p>Invoking it, the compiler searches for configurations loaded in tsconfig.json (A detailed list of all the compiler options, along with default values, can be found <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>In most respects, the TypeScript compiler works like any compiler. But there is one difference that can catch out the unwary: by default, the compiler continues to emit JavaScript code even when it encounters an error. Fortunately, this behavior can be disabled by setting the <code>noEmitOnError</code> configuration setting to true in the tsconfig.json file.</p>\n\n<p><strong>To note</strong>: <em>tsc</em> and <em>ngc</em> have different purposes and it's not about selecting one over the other. <a href=\"https://stackoverflow.com/a/50111982/5675325\">This answer might be of interest</a>.</p>\n\n<p><em>This answer was crafted based on the content from the following books</em></p>\n\n<ul>\n<li><p>Cloe, M. (2018). \"Angular 5 Projects: Learn to Build Single Page Web Applications Using 70+ Projects\".</p></li>\n<li><p>Dewey, B., Grossnicklaus, K., Japikse, P. (2017). \"Building Web Applications with Visual Studio 2017: Using .NET Core and Modern JavaScript Frameworks\".</p></li>\n<li><p>Freeman, A. (2019). \"Essential TypeScript: From Beginner to Pro\".</p></li>\n<li><p>Ghiya, P. (2018). \"TypeScript Microservices\".</p></li>\n<li><p>Iskandar, A., Chivukulu, S. (2019). \"Web Development with Angular and Bootstrap - Third Edition\".</p></li>\n<li><p>Hennessy, K., Arora, C. (2018). \"Angular 6 by Example\".</p></li>\n<li><p>Jansen, R., Wolf, I., Vane, V. (2016). \"TypeScript: Modern JavaScript Development\".</p></li>\n<li><p>Mohammed, Z. (2019). \"Angular Projects\".</p></li>\n<li><p>Seshadri, S. (2018). \"Angular: Up and Running\".</p></li>\n<li><p>Wilken, J. (2018). \"Angular in Action\".</p></li>\n</ul>\n"}], "owner": {"reputation": 8469, "user_id": 2311557, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KOoOQ.png?s=128&g=1", "display_name": "codepleb", "link": "https://stackoverflow.com/users/2311557/codepleb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13372, "favorite_count": 25, "accepted_answer_id": 46670631, "answer_count": 5, "score": 88, "last_activity_date": 1590679659, "creation_date": 1507648964, "last_edit_date": 1590679659, "question_id": 46670430, "link": "https://stackoverflow.com/questions/46670430/what-does-the-angular-compiler-compile", "title": "What does the angular compiler &quot;compile&quot;?", "body": "<p>I was asked that today and was not able to give a proper answer.</p>\n\n<p>Typescript transpiles to JS. Then there is tree shaking, \"less\" (optional) and what else in the process of making a deployment. But nothing like that (afaik) has anything to do with \"compiling\". Everything gets bundled and heavily optimized, but it's not actually compiled, right?</p>\n\n<p>There is even an \"ahead of time\"-compiler, which really does a noticeable job. What do I miss?</p>\n\n<p>Javascript itself is still interpreted, right?</p>\n"}, {"tags": ["javascript", "php", "angular", "typescript", "post"], "comments": [{"owner": {"reputation": 3087, "user_id": 1746942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E5N8V.jpg?s=128&g=1", "display_name": "Farkie", "link": "https://stackoverflow.com/users/1746942/farkie"}, "edited": false, "score": 0, "creation_date": 1507649144, "post_id": 46670427, "comment_id": 80289369, "body": "Any JS errors...?"}, {"owner": {"reputation": 93, "user_id": 7232040, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1195747993819934/picture?type=large", "display_name": "Bernardo Peters", "link": "https://stackoverflow.com/users/7232040/bernardo-peters"}, "reply_to_user": {"reputation": 3087, "user_id": 1746942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E5N8V.jpg?s=128&g=1", "display_name": "Farkie", "link": "https://stackoverflow.com/users/1746942/farkie"}, "edited": false, "score": 0, "creation_date": 1507649216, "post_id": 46670427, "comment_id": 80289409, "body": "No, I get the &quot;not ok&quot; message"}, {"owner": {"reputation": 8554, "user_id": 6998123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VDwq0.gif?s=128&g=1", "display_name": "mega6382", "link": "https://stackoverflow.com/users/6998123/mega6382"}, "edited": false, "score": 0, "creation_date": 1507649245, "post_id": 46670427, "comment_id": 80289434, "body": "Try <code>var_dump(file_get_contents(&quot;php:&#47;&#47;input&quot;));</code> on PHP&#39;s side. See if you get any POST params in that."}], "answers": [{"tags": [], "owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 0, "last_activity_date": 1507649497, "creation_date": 1507649497, "answer_id": 46670602, "question_id": 46670427, "link": "https://stackoverflow.com/questions/46670427/how-to-make-a-post-request-with-angular-4/46670602#46670602", "title": "How to make a post request with Angular 4?", "body": "<p>See <a href=\"https://docs.angularjs.org/api/ng/service/$http\" rel=\"nofollow noreferrer\">the documentation</a></p>\n\n<blockquote>\n  <p>If the data property of the request configuration object contains an object, serialize it into JSON format.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>$httpProvider.defaults.headers.post: (header defaults for POST requests)\n  Content-Type: application/json</p>\n</blockquote>\n\n<hr>\n\n<p>Angular is encoding the data as JSON, and not one of the data formats which PHP will automatically parse into <code>$_POST</code>.</p>\n\n<p>You need to <a href=\"https://stackoverflow.com/a/19007851/19068\">parse JSON as described in this answer</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 8554, "user_id": 6998123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VDwq0.gif?s=128&g=1", "display_name": "mega6382", "link": "https://stackoverflow.com/users/6998123/mega6382"}, "is_accepted": true, "score": 0, "last_activity_date": 1507649504, "creation_date": 1507649504, "answer_id": 46670607, "question_id": 46670427, "link": "https://stackoverflow.com/questions/46670427/how-to-make-a-post-request-with-angular-4/46670607#46670607", "title": "How to make a post request with Angular 4?", "body": "<p>The PHP superglobal <code>$_POST</code>, only is supposed to wrap data that is either, <code>application/x-www-form-urlencoded</code> or <code>multipart/form-data-encoded</code>.</p>\n\n<p>But if the <code>Content-Type</code> for request is anything else. You need to use:</p>\n\n<pre><code>$post = file_get_contents('php://input');\n</code></pre>\n\n<p>For more info look at this answer: <a href=\"https://stackoverflow.com/a/8893792/2394254\">https://stackoverflow.com/a/8893792/2394254</a></p>\n"}], "owner": {"reputation": 93, "user_id": 7232040, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1195747993819934/picture?type=large", "display_name": "Bernardo Peters", "link": "https://stackoverflow.com/users/7232040/bernardo-peters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 1, "accepted_answer_id": 46670607, "answer_count": 2, "score": 0, "last_activity_date": 1507661208, "creation_date": 1507648960, "last_edit_date": 1507661208, "question_id": 46670427, "link": "https://stackoverflow.com/questions/46670427/how-to-make-a-post-request-with-angular-4", "title": "How to make a post request with Angular 4?", "body": "<p>I'm trying to make a post request with Angular 4 with this code to send lat and lng parameters:</p>\n\n<pre><code>let data = {lat: this.newLat, lng: this.newLng};\n\nthis.http.post(url, data)\n  .map(response =&gt; response.json())\n  .subscribe(getResponse =&gt; console.log(getResponse));\n</code></pre>\n\n<p>On the server side, I have the following php snippet:</p>\n\n<pre><code>header(\"Access-Control-Allow-Origin: *\");\nheader(\"Access-Control-Allow-Headers: Content-Type\");\n\nif ( isset($_POST['lat'], $_POST['lng']) ) {\n    $response['msg'] = 'ok';\n} else {\n    $response['msg'] = 'not ok';\n}\necho json_encode($response);\n</code></pre>\n\n<p>The response from the server is unfortunately always <code>'not ok'</code>. Any ideas how to solve this? The <code>$_POST</code> variable is always an empty array</p>\n"}, {"tags": ["angular", "typescript", "ionic2", "httpwebrequest"], "answers": [{"comments": [{"owner": {"reputation": 279, "user_id": 8270560, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8cad5f370d1c2de14c2ec285e9ea67f3?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet emre CETIN", "link": "https://stackoverflow.com/users/8270560/ahmet-emre-cetin"}, "edited": false, "score": 0, "creation_date": 1507654926, "post_id": 46670781, "comment_id": 80292716, "body": "I added this code still return &quot;{&quot;code&quot;:404,&quot;status&quot;:&quot;FAIL&quot;,&quot;message&quot;:&quot;File Load Error&quot;}&quot;"}, {"owner": {"reputation": 4056, "user_id": 1576255, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/V5eQC.jpg?s=128&g=1", "display_name": "asmmahmud", "link": "https://stackoverflow.com/users/1576255/asmmahmud"}, "reply_to_user": {"reputation": 279, "user_id": 8270560, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8cad5f370d1c2de14c2ec285e9ea67f3?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet emre CETIN", "link": "https://stackoverflow.com/users/8270560/ahmet-emre-cetin"}, "edited": false, "score": 0, "creation_date": 1507655001, "post_id": 46670781, "comment_id": 80292757, "body": "Most probably there is some problems in your api related endpoint because you&#39;re getting 404 http status."}, {"owner": {"reputation": 129, "user_id": 6579277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a594bffcfa3fd7f5808618969a86d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek Pandya", "link": "https://stackoverflow.com/users/6579277/abhishek-pandya"}, "edited": false, "score": 0, "creation_date": 1521730952, "post_id": 46670781, "comment_id": 85865631, "body": "you may send image as base64, so it might not accept base64 image data."}], "tags": [], "owner": {"reputation": 4056, "user_id": 1576255, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/V5eQC.jpg?s=128&g=1", "display_name": "asmmahmud", "link": "https://stackoverflow.com/users/1576255/asmmahmud"}, "is_accepted": false, "score": 4, "last_activity_date": 1507650230, "creation_date": 1507650230, "answer_id": 46670781, "question_id": 46670385, "link": "https://stackoverflow.com/questions/46670385/how-to-send-image-with-http-post/46670781#46670781", "title": "How to send image with http.post", "body": "<p>You should use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FormData\" rel=\"nofollow noreferrer\">FormData</a> for this purpose:</p>\n\n<pre><code>      let formData = new FormData();\n      formData.append('file', image);\n\n\n      this.http.post(\"http://.../api/profile/image/upload\", formData, options)\n        .subscribe(data =&gt; {\n          console.log( data['_body']);\n          veri=data['_body'];\n          veri = veri.replace(/\\\\/g, \"\");\n          veri = JSON.parse(veri);\n          console.log(veri);\n        });\n\n    });\n</code></pre>\n\n<p>Besides that as you're getting an 404 error, so you should double check your api endpoints and rest api methods.</p>\n"}], "owner": {"reputation": 279, "user_id": 8270560, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8cad5f370d1c2de14c2ec285e9ea67f3?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet emre CETIN", "link": "https://stackoverflow.com/users/8270560/ahmet-emre-cetin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8006, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1507650230, "creation_date": 1507648818, "question_id": 46670385, "link": "https://stackoverflow.com/questions/46670385/how-to-send-image-with-http-post", "title": "How to send image with http.post", "body": "<p>I would like to send image with http.post. I use that code block , but gives me 404 error. I tried api on postman , return success.</p>\n\n<p>Where is my wrong?</p>\n\n<p>Thanks.</p>\n\n<pre><code>changeprofileimg()\n  {\n    this.camera.getPicture({\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      quality: 100,\n      encodingType: this.camera.EncodingType.PNG,\n      targetHeight:500,\n      targetWidth:500,\n      correctOrientation:true\n    }).then(imageData =&gt; {\n\n      const image = 'data:image/jpeg;base64,'+imageData;   \n      var veri;   \n      var headers = new Headers();\n      headers.append('Accept', 'application/json');\n      headers.append('Authorization' , 'Bearer '+this.globalvars.getToken());\n      headers.append('Content-Type', 'multipart/form-data');\n      let options = new RequestOptions({ headers: headers });\n\n\n      let postParams = {\n        file:image\n      }\n\n      this.http.post(\"http://.../api/profile/image/upload\", postParams, options)\n        .subscribe(data =&gt; {\n          console.log( data['_body']);\n          veri=data['_body'];\n          veri = veri.replace(/\\\\/g, \"\");\n          veri = JSON.parse(veri);\n          console.log(veri);\n        });\n\n    });\n  } \n</code></pre>\n"}, {"tags": ["typescript", "react-native", "react-navigation"], "answers": [{"tags": [], "owner": {"reputation": 372, "user_id": 1161993, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9bc34c5ee12e5ce25002d3793187f38a?s=128&d=identicon&r=PG", "display_name": "Ritesh", "link": "https://stackoverflow.com/users/1161993/ritesh"}, "is_accepted": true, "score": 0, "last_activity_date": 1507797021, "creation_date": 1507797021, "answer_id": 46704901, "question_id": 46670201, "link": "https://stackoverflow.com/questions/46670201/react-navigation-fails-to-show-a-screen-added-in-stacknavigator/46704901#46704901", "title": "react-navigation fails to show a screen added in StackNavigator", "body": "<p>After few reads, I came to realize that <code>this.props.navigator</code> is exclusive to the Navigator in which it is being used. <code>navigator</code> in TabNavigator can be used to switch between tabs, and <code>navigator</code> in StackNavigator can push the screen in or pop it from screens' stack. Screens in navigator do inherit <code>navigator</code> object from parent, but they are not passed deep down in screens hierarchy. So there are two solutions:</p>\n\n<p>First solution is almost same as suggested by Guilherme, but in stead of passing <code>navigationOptions</code> in TabNavigator, I passed it in StackNavigator with associated screen.</p>\n\n<pre><code>const TabOptions = TabNavigator({\n    MyFirst: { screen : FirstScreen },\n    MySecond: { screen : SecondScreen }\n});\n// TabOptionsScreen class removed here. \n// TabOptions constant is directly passed in StackNavigator.\nexport const App = StackNavigator ({\n    Home : {  \n       screen: TabOptions,\n       navigationOptions : {\n            header: null\n        }\n    },\n    Pop: { screen: PopScreen }\n})\n</code></pre>\n\n<p>And now I can use <code>this.props.navigation.navigate(\"Pop\")</code> in FirstScreen component. It also allows us to navigate to other tabs available at same level - <code>this.props.navigation.navigate(\"MySecond\")</code>.</p>\n\n<p>In my original code, I wrote all screens in separate files, and I wanted to keep <code>navigationOptions</code> of screen in its own class definition. So second solution regards this modular approach. </p>\n\n<pre><code>export class FirstScreen extends React.Component&lt;any, any&gt; {\n    render() {\n        const { navigate } = this.props.screenProps.navigation;\n        return (\n            &lt;View&gt;\n                &lt;Text&gt;My First Tab Screen!!!&lt;/Text&gt;\n                &lt;Button \n                    title=\"Click Here !!!\"\n                    onPress={ () =&gt; navigate(\"Pop\") }/&gt;\n            &lt;/View&gt;\n        );\n    }\n}\n\nconst TabOptions = TabNavigator({\n    MyFirst: { screen : FirstScreen },\n    MySecond: { screen : SecondScreen }\n});\n\nexport class TabOptionsScreen extends React.Component&lt;any, any&gt;\n{\n    static navigationOptions : NavigationStackScreenOptions = {\n        header: null,\n    };\n\n    render() {\n        return ( &lt;TabOptions screenProps={{ navigation: this.props.navigation }} /&gt; )\n    }\n}\n\nexport const App = StackNavigator ({\n   Home : {  screen: TabOptionsScreen },\n   Pop: { screen: PopScreen }\n})\n</code></pre>\n\n<p>In this code, <code>TabOptionsScreen</code> is direct child of <code>StackNavigator</code>, so <code>navigation</code> object is also passed down to it, but now we have to manually pass <code>navigation</code> object in <code>TabOptions</code> navigator. <code>screenProps</code> can be used for passing props from parent component to child. In <code>FirstScreen</code>, use <code>this.props.screenProps.navigation</code> for stack navigation, and <code>this.props.navigation</code> for tab navigation.</p>\n"}], "owner": {"reputation": 372, "user_id": 1161993, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9bc34c5ee12e5ce25002d3793187f38a?s=128&d=identicon&r=PG", "display_name": "Ritesh", "link": "https://stackoverflow.com/users/1161993/ritesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1264, "favorite_count": 0, "accepted_answer_id": 46704901, "answer_count": 1, "score": 0, "last_activity_date": 1507797021, "creation_date": 1507648299, "question_id": 46670201, "link": "https://stackoverflow.com/questions/46670201/react-navigation-fails-to-show-a-screen-added-in-stacknavigator", "title": "react-navigation fails to show a screen added in StackNavigator", "body": "<p>React-Native beginner here. I am trying to make StackNavigation work with TabNavigation in React-Native with Typescript. There are three screens in my app. <code>FirstScreen</code> and <code>SecondScreen</code> are displayed as tabs where as <code>PopScreen</code> is shown when \"Click Here\" button in <code>FirstScreen</code> is clicked. <code>this.props.navigation.navigate(\"Pop\")</code> call on button click seems to have failed without any error, however it returns <code>false</code>.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import React from \"react\";\nimport { View, Text, Button } from \"react-native\";\nimport { StackNavigator } from 'react-navigation';\nimport { TabNavigator, NavigationStackScreenOptions } from 'react-navigation';\n\nclass FirstScreen extends React.Component&lt;any, any&gt; {\n    render() {\n        return (\n            &lt;View&gt;\n                &lt;Text&gt;My First Tab Screen!!!&lt;/Text&gt;\n                &lt;Button \n                    title=\"Click Here\"\n                    onPress={ () =&gt; this.props.navigation.navigate(\"Pop\"); } /&gt;\n            &lt;/View&gt;\n        );\n    }\n}\n\nclass SecondScreen extends React.Component&lt;any, any&gt; {\n    render() {\n        return (\n            &lt;Text&gt;My Second Tab Screen&lt;/Text&gt;\n        );\n    }\n}\n\nclass PopScreen extends React.Component&lt;any, any&gt; {\n    render() {\n        return (\n            &lt;View&gt;\n                &lt;Text&gt;Content in pop up.&lt;/Text&gt;\n            &lt;/View&gt;\n        );\n    }\n}\n\nconst TabOptions = TabNavigator({\n    MyFirst: { screen : FirstScreen },\n    MySecond: { screen : SecondScreen }\n});\n\nclass TabOptionsScreen extends React.Component&lt;any, any&gt;\n{\n    static navigationOptions : NavigationStackScreenOptions = {\n        header: null\n    };\n\n    render() {\n        return ( &lt;TabOptions /&gt; )\n    }\n}\n\nexport const App = StackNavigator ({\n   Home : {  screen: TabOptionsScreen },\n   Pop: { screen: PopScreen }\n})\n</code></pre>\n\n<p><code>this.props.navigation</code> object is not null or undefined in <code>FirstScreen</code> class but somehow it doesn't recognize the options passed in StackNavigator. Please help me how can I make <code>navigate</code> method work in any of children screens of TabNavigator?</p>\n"}, {"tags": ["typescript", "sharepoint", "microsoft-graph-api"], "comments": [{"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1507649220, "post_id": 46670130, "comment_id": 80289412, "body": "The idea behind this API is that you are sending chunks right? So it works expect the total file size to be larger than one chunk, i.e. <code>bytes 0-50&#47;100</code> followed by <code>bytes 50-100&#47;100</code>."}, {"owner": {"reputation": 391, "user_id": 6559330, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4CAmW.jpg?s=128&g=1", "display_name": "Brian Smith", "link": "https://stackoverflow.com/users/6559330/brian-smith"}, "reply_to_user": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1507657809, "post_id": 46670130, "comment_id": 80294242, "body": "That is correct that the API is designed to allow chucks to be sent, however, from my understanding you could also send the whole file as long as the size is less than 60 MiB. Have you seen documentation stating that you cannot send the whole file at once? I am trying to avoid using two different upload methods depending on the size, but if that is the only way then so be it."}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1507657909, "post_id": 46670130, "comment_id": 80294305, "body": "No - I couldn&#39;t find anything, but your code looks good so I was innovating potential problems that might occur"}], "answers": [{"comments": [{"owner": {"reputation": 391, "user_id": 6559330, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4CAmW.jpg?s=128&g=1", "display_name": "Brian Smith", "link": "https://stackoverflow.com/users/6559330/brian-smith"}, "edited": false, "score": 0, "creation_date": 1507675332, "post_id": 46673495, "comment_id": 80302576, "body": "Thank you, Brad. Should that value be a string?"}, {"owner": {"reputation": 182, "user_id": 2867240, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/0cd185a17bb29e6a1ab9b61aac91acb4?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/2867240/tom"}, "edited": false, "score": 0, "creation_date": 1550598241, "post_id": 46673495, "comment_id": 96324165, "body": "<code>content.Headers.ContentRange = new ContentRangeHeaderValue( 0, source.Length-1, source.Length);</code>"}], "tags": [], "owner": {"reputation": 3651, "user_id": 3570009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vrs7J.png?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/3570009/brad"}, "is_accepted": true, "score": 14, "last_activity_date": 1507659991, "creation_date": 1507659991, "answer_id": 46673495, "question_id": 46670130, "link": "https://stackoverflow.com/questions/46670130/how-do-i-format-content-range-header-for-upload-session-microsoft-graph-api/46673495#46673495", "title": "How do I format Content-Range header for Upload Session Microsoft Graph API", "body": "<p>The <code>Content-Range</code> header has the following format:</p>\n\n<pre><code>Content-Range: bytes &lt;startindex&gt;-&lt;endindex&gt;/&lt;totallength&gt;\n</code></pre>\n\n<p>Your issue appears to be a mixing of indexes (0-based) and lengths (1-based). For a 100-byte file your header would need to look like:</p>\n\n<pre><code>Content-Range: bytes 0-99/100\n</code></pre>\n"}], "owner": {"reputation": 391, "user_id": 6559330, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4CAmW.jpg?s=128&g=1", "display_name": "Brian Smith", "link": "https://stackoverflow.com/users/6559330/brian-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2321, "favorite_count": 0, "accepted_answer_id": 46673495, "answer_count": 1, "score": 4, "last_activity_date": 1531153157, "creation_date": 1507648107, "question_id": 46670130, "link": "https://stackoverflow.com/questions/46670130/how-do-i-format-content-range-header-for-upload-session-microsoft-graph-api", "title": "How do I format Content-Range header for Upload Session Microsoft Graph API", "body": "<p>I am running into an issue uploading files to an upload session using v1.0 Microsoft Graph API. \nMy steps: </p>\n\n<ol>\n<li>Get Access Token: Success</li>\n<li>Select File / Create Upload Session: Success (I get back an uploadUrl to upload the bytes)</li>\n<li>Upload Bytes to uploadUrl: Fail with below error.</li>\n</ol>\n\n<p>Here is the error I am receiving:</p>\n\n<pre><code>{\n   \"error\": \n   {\n      \"code\":\"invalidRequest\",\n      \"message\":\"The Content-Range header is missing or malformed.\"\n   }\n}\n</code></pre>\n\n<p>I have tried using the following formats and I still receive the same error. </p>\n\n<pre><code>\"bytes 0-100/100\"\n\"0-100/100\"\n\"0-100\"\n</code></pre>\n\n<p>I am following this article from Mircosoft <a href=\"https://developer.microsoft.com/en-us/graph/docs/api-reference/v1.0/api/item_createuploadsession\" rel=\"nofollow noreferrer\">https://developer.microsoft.com/en-us/graph/docs/api-reference/v1.0/api/item_createuploadsession</a></p>\n\n<p>Here is my function that uploads to the uploadUrl retreived from creating the upload session</p>\n\n<pre><code>public uploadToSession(file: HTMLInputElement, session: any, fileData: any) {\n    var headers = new Headers();\n    headers.append('Content-Length', fileData.length); //(ie: \"100\")\n    headers.append('Content-Range', fileData.range); //(ie: \"bytes 0-100/100\")\n    this.http.put(session.uploadUrl, { headers })\n        .subscribe(\n            (res: Response) =&gt; console.log(res),\n            error =&gt; console.log(error)\n        );\n}\n</code></pre>\n\n<p>Any help is much appreciated! Thanks in advance.</p>\n"}, {"tags": ["angular", "typescript", "ionic3"], "comments": [{"owner": {"reputation": 726, "user_id": 4075312, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/nQ18p.jpg?s=128&g=1", "display_name": "Thiha Zaw", "link": "https://stackoverflow.com/users/4075312/thiha-zaw"}, "edited": false, "score": 0, "creation_date": 1507658972, "post_id": 46670062, "comment_id": 80294889, "body": "Please edit your question to describe more detail. Please describe some code where error is occurred."}], "answers": [{"tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": false, "score": 0, "last_activity_date": 1507648058, "creation_date": 1507648058, "answer_id": 46670121, "question_id": 46670062, "link": "https://stackoverflow.com/questions/46670062/runtime-error-cordova-not-available-ionic-native-3-to-operate-crud-data-by-u/46670121#46670121", "title": "runtime error : cordova-not-available &#39;ionic native&#39; 3 to operate CRUD data by using SQLite", "body": "<p>You <strong>cannot</strong> run <code>Cordova plugins</code> on the <code>browser</code>. So you need to use the <code>device</code> for that.</p>\n\n<p>You can use below <code>CLI</code> to run on the <code>Android device</code></p>\n\n<pre><code>ionic cordova run android --prod --device\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8080799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3dd8c25b9b842e946089f918adf1a09?s=128&d=identicon&r=PG&f=1", "display_name": "Poe Ei", "link": "https://stackoverflow.com/users/8080799/poe-ei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 386, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507648401, "creation_date": 1507647893, "last_edit_date": 1507648401, "question_id": 46670062, "link": "https://stackoverflow.com/questions/46670062/runtime-error-cordova-not-available-ionic-native-3-to-operate-crud-data-by-u", "title": "runtime error : cordova-not-available &#39;ionic native&#39; 3 to operate CRUD data by using SQLite", "body": "<p><a href=\"https://i.stack.imgur.com/5m411.png\" rel=\"nofollow noreferrer\">I'm trying to operate CRUD data by using SQLite in ionic 3, but it is not work cordova to be available</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/5m411.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5m411.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "events"], "comments": [{"owner": {"reputation": 9290, "user_id": 5362646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SZ6fo.jpg?s=128&g=1", "display_name": "Chandru", "link": "https://stackoverflow.com/users/5362646/chandru"}, "edited": false, "score": 0, "creation_date": 1507647221, "post_id": 46669686, "comment_id": 80288086, "body": "use [(ngMode)l]=&quot;inputValue&quot; instead of [ngModel]=&quot;inputValue&quot;"}, {"owner": {"reputation": 6328, "user_id": 515774, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HEi63.jpg?s=128&g=1", "display_name": "Muthukumar", "link": "https://stackoverflow.com/users/515774/muthukumar"}, "edited": false, "score": 0, "creation_date": 1507647367, "post_id": 46669686, "comment_id": 80288191, "body": "I don&#39;t find any problem with ur code. It should work. Check the console for errors, which might be unrelated to this."}, {"owner": {"reputation": 147, "user_id": 3190665, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46307b17262bf878aa64ae2f2fadd17a?s=128&d=identicon&r=PG&f=1", "display_name": "TestNInja", "link": "https://stackoverflow.com/users/3190665/testninja"}, "edited": false, "score": 0, "creation_date": 1507647369, "post_id": 46669686, "comment_id": 80288193, "body": "That does not trigger the event either, however, you are right I should be using 2 way bindings, thanks"}, {"owner": {"reputation": 147, "user_id": 3190665, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46307b17262bf878aa64ae2f2fadd17a?s=128&d=identicon&r=PG&f=1", "display_name": "TestNInja", "link": "https://stackoverflow.com/users/3190665/testninja"}, "reply_to_user": {"reputation": 6328, "user_id": 515774, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HEi63.jpg?s=128&g=1", "display_name": "Muthukumar", "link": "https://stackoverflow.com/users/515774/muthukumar"}, "edited": false, "score": 0, "creation_date": 1507647453, "post_id": 46669686, "comment_id": 80288248, "body": "@Muthukumar the console does not show any errors either sadly, however when I type directly into the input field the event is triggered"}, {"owner": {"reputation": 6328, "user_id": 515774, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HEi63.jpg?s=128&g=1", "display_name": "Muthukumar", "link": "https://stackoverflow.com/users/515774/muthukumar"}, "edited": false, "score": 0, "creation_date": 1507647604, "post_id": 46669686, "comment_id": 80288356, "body": "@TestNInja &quot;however when I type directly into the input field the event is triggered&quot; - I thought you were complaining that the event was not firing. Am I missing something ?"}, {"owner": {"reputation": 147, "user_id": 3190665, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46307b17262bf878aa64ae2f2fadd17a?s=128&d=identicon&r=PG&f=1", "display_name": "TestNInja", "link": "https://stackoverflow.com/users/3190665/testninja"}, "reply_to_user": {"reputation": 6328, "user_id": 515774, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HEi63.jpg?s=128&g=1", "display_name": "Muthukumar", "link": "https://stackoverflow.com/users/515774/muthukumar"}, "edited": false, "score": 0, "creation_date": 1507647651, "post_id": 46669686, "comment_id": 80288395, "body": "@Muthukumar I would like the event to fire when the input is updated from the query, not when I directly type into it"}, {"owner": {"reputation": 6328, "user_id": 515774, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HEi63.jpg?s=128&g=1", "display_name": "Muthukumar", "link": "https://stackoverflow.com/users/515774/muthukumar"}, "edited": false, "score": 0, "creation_date": 1507649130, "post_id": 46669686, "comment_id": 80289356, "body": "@TestNInja I think what you are doing is against the best practices. Do not manipulate the DOM directly. Why would you want the onchange event to be triggered when you are setting the model value.  Set your model value from the component class and everything else should fall in place."}], "answers": [{"tags": [], "owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "is_accepted": false, "score": 0, "last_activity_date": 1507647641, "creation_date": 1507647641, "answer_id": 46669949, "question_id": 46669686, "link": "https://stackoverflow.com/questions/46669686/angular2-input-not-triggering-change-event/46669949#46669949", "title": "Angular2 input not triggering change event", "body": "<p>You shouldn't do this,</p>\n\n<pre><code>document.getElementById(\"itemText\").value = response.items[0].item;\n</code></pre>\n\n<p>instead try assigning the value directly to the binding property (should be done at the component level inorder to have access to the <code>inputValue</code>),</p>\n\n<pre><code> this.inputValue = response.items[0].item;\n</code></pre>\n\n<p>and use the 2-way binding syntax as well.</p>\n"}], "owner": {"reputation": 147, "user_id": 3190665, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46307b17262bf878aa64ae2f2fadd17a?s=128&d=identicon&r=PG&f=1", "display_name": "TestNInja", "link": "https://stackoverflow.com/users/3190665/testninja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 962, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1507647641, "creation_date": 1507646846, "question_id": 46669686, "link": "https://stackoverflow.com/questions/46669686/angular2-input-not-triggering-change-event", "title": "Angular2 input not triggering change event", "body": "<p>I have an input that is being updated from from a query, however, the (change) event is not triggered when the input field is updated. </p>\n\n<p>Html for input:</p>\n\n<pre><code>&lt;input type=\"text\" [ngModel]=\"inputValue\" id=\"itemText\" (ngModelChange)=\"setNewItem($event)\"&gt;\n</code></pre>\n\n<p>Function in component file for input:</p>\n\n<pre><code>setNewItem(item){\nconsole.log(\"Triggered\");\nreturn this.ds.setItem(item);  }\n</code></pre>\n\n<p>I'm updating the input field in my index html like so:</p>\n\n<pre><code> &lt;script&gt;\n ....\n onSelect: function (request, response) {\n        var urlApi = 'http://localhost:8088/Badges/Details/' + request.item;\n                   $.ajax({\n                    type: \"GET\",\n                    url: urlApi,\n                    dataType: 'json',\n                    success: function(response) {\n                      document.getElementById(\"itemText\").value = response.items[0].item; } \n     }); \n}\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1507646964, "post_id": 46669665, "comment_id": 80287892, "body": "<code>require</code> is a CommonJS spec stopgap (at least from the node.js perspective) since there was no &quot;real&quot; way to do modular loading in browser based JavaScript before ES6.  CommonJS, AMD, and jQueries plugin system (kind of) all tried to fill that role until ES6 came in and introduced <code>import</code>."}, {"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1507647916, "post_id": 46669665, "comment_id": 80288601, "body": "Can you give a little more detail on what you mean by &quot;Also, can import be used instead of embedding js file in a webpage using &lt;script&gt;?&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 31823, "user_id": 1960455, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d22bdc5c04b48a9054586eb64174ea99?s=128&d=identicon&r=PG", "display_name": "t.niese", "link": "https://stackoverflow.com/users/1960455/t-niese"}, "is_accepted": false, "score": 1, "last_activity_date": 1507647297, "creation_date": 1507647297, "answer_id": 46669857, "question_id": 46669665, "link": "https://stackoverflow.com/questions/46669665/using-javascript-require-and-import-on-browsers/46669857#46669857", "title": "Using Javascript require and import on browsers", "body": "<p>In nodejs <code>require</code> is implemented in a similar way as is done with <code>requirejs</code>. It is not a language feature but an ordinary function.</p>\n\n<p>If you switch into debugging mode in node.js you will see that each fill is wrapped into a function:</p>\n\n<pre><code> (function( exports, require, module, __filename, __dirname) {\n     // the original source of the file\n })\n</code></pre>\n\n<p><code>import</code>  on the other hand is part of the ES6 specs.</p>\n\n<p>Internally node.js would do that same for <code>import</code>  and <code>require</code>, just with another syntax. TypeScript or WebPack will transpile the <code>import</code>  to their own internal syntax that is similar to the one above.</p>\n\n<p>And the browser support of <code>import</code>  can be seen here:</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import\" rel=\"nofollow noreferrer\">MDN: import</a></p>\n"}, {"tags": [], "owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "is_accepted": false, "score": 1, "last_activity_date": 1507648765, "last_edit_date": 1507648765, "creation_date": 1507647890, "answer_id": 46670059, "question_id": 46669665, "link": "https://stackoverflow.com/questions/46669665/using-javascript-require-and-import-on-browsers/46670059#46670059", "title": "Using Javascript require and import on browsers", "body": "<blockquote>\n  <p>I know that <code>require</code> is not on browsers, but why, is it nodejs specific? Does <code>import { some-module } from 'some-module-location'</code> in typescript/ES6 actually do the same?</p>\n</blockquote>\n\n<p>You're right, <code>require</code> is not a <em>native</em> browser function.  However, it is a part of the CommonJS specification but not unique to node.js.  You see, before ES2015/ES6 there was  no native way to do modular organization/loading of JavaScript.  To address this, 2 main methodologies came about: CommonJS and Asynchronous Module Definition (AMD).</p>\n\n<p>Both have a <code>require</code> \"keyword\" that loads a specified module into a context.  However, each loads it in a different way.  You can read a lot about the differences in different questions like: <a href=\"https://stackoverflow.com/q/21021621/691711\">Difference between RequireJS and CommonJS</a>.  The main difference is that CommonJS is synchronous while AMD is asynchronous.</p>\n\n<p>Different frameworks and libraries used different loaders.  AMD is used by require.js, Dojo, and AngularJS (albeit not exactly to the spec).  The most noted implementation of CommonJS the one by node.js.</p>\n"}], "owner": {"reputation": 845, "user_id": 804376, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/085b7927e87b8721aaa4a8854ba7b104?s=128&d=identicon&r=PG", "display_name": "TuaimiAA", "link": "https://stackoverflow.com/users/804376/tuaimiaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507648765, "creation_date": 1507646793, "last_edit_date": 1507647887, "question_id": 46669665, "link": "https://stackoverflow.com/questions/46669665/using-javascript-require-and-import-on-browsers", "title": "Using Javascript require and import on browsers", "body": "<p>I know that <code>require</code> is not on browsers, but why, is it nodejs specific? Does <code>import { some-module } from 'some-module-location'</code> in typescript/ES6 actually do the same?</p>\n\n<p>Also, can <code>import</code> be used instead of embedding js file in a webpage using <code>&lt;script&gt;</code>?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": true, "score": 1, "last_activity_date": 1507646518, "creation_date": 1507646518, "answer_id": 46669569, "question_id": 46669147, "link": "https://stackoverflow.com/questions/46669147/method-with-parameter-of-method-reference-that-has-nested-method/46669569#46669569", "title": "Method with parameter of method reference that has nested method", "body": "<p>Anytime you pass a function reference like this <code>functionPop(this.mainFunc);</code>, the context (<code>this</code>) inside the function changes based on how it is called. In this case it is called without a context inside <code>functionPop</code> as <code>func()</code> -- so <code>this</code> will be <code>undefined</code>.</p>\n\n<p>To fix this you can wrap your functions with an <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">arrow function</a> when you are passing them -- this will preserve the context:</p>\n\n<pre><code>functionPop(() =&gt; this.mainFunc());\n</code></pre>\n\n<p>Or use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind\" rel=\"nofollow noreferrer\"><code>Function.bind</code></a> to set the context:</p>\n\n<pre><code>functionPop(this.mainFunc.bind(this));\n</code></pre>\n\n<p>Also see: <a href=\"https://github.com/Microsoft/TypeScript/wiki/&#39;this&#39;-in-TypeScript#red-flags-for-this\" rel=\"nofollow noreferrer\">Red Flags for <code>this</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 204, "user_id": 7605564, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hggdhJSWfgs/AAAAAAAAAAI/AAAAAAAABGo/hB22y-3VpFU/photo.jpg?sz=128", "display_name": "Orphy", "link": "https://stackoverflow.com/users/7605564/orphy"}, "is_accepted": false, "score": 1, "last_activity_date": 1507646848, "creation_date": 1507646848, "answer_id": 46669687, "question_id": 46669147, "link": "https://stackoverflow.com/questions/46669147/method-with-parameter-of-method-reference-that-has-nested-method/46669687#46669687", "title": "Method with parameter of method reference that has nested method", "body": "<p>In Javascript 'this' could be different according to the call context. In your case you're losing call context, that's why errors appear.</p>\n\n<p>There are several ways to fix this:</p>\n\n<ol>\n<li>Use arrow functions. In opposite to usual ones they don't create\nown context (ES6 feature).</li>\n<li>Use 'bind' for binding needed context.</li>\n</ol>\n\n<p>For more details with examples and pros/cons for possible options check this link:</p>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/wiki/%27this%27-in-TypeScript\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/wiki/%27this%27-in-TypeScript</a></p>\n"}], "owner": {"reputation": 356, "user_id": 6671654, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qITci.jpg?s=128&g=1", "display_name": "Micha\u0142 Lis", "link": "https://stackoverflow.com/users/6671654/micha%c5%82-lis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 46669569, "answer_count": 2, "score": 0, "last_activity_date": 1507646848, "creation_date": 1507645240, "question_id": 46669147, "link": "https://stackoverflow.com/questions/46669147/method-with-parameter-of-method-reference-that-has-nested-method", "title": "Method with parameter of method reference that has nested method", "body": "<p>I need to have method that takes reference to other method that might have nested one inside. All methods belongs to same object. Following code explains everything what I want to do:</p>\n\n<pre><code>class SomeClass {\n\n  functionPop(this.mainFunc);\n\n  functionPop(func) {\n    func();\n  }\n  mainFunc() {\n    console.log('This will be printed');\n    this.nestedFunc(); //Here is an error\n  }\n  nestedFunc() {\n    console.log('We didnt reach this point');\n  }\n\n}\n</code></pre>\n\n<p>The error says to me that there is a problem that this is undefined. I understand that word \"this\" in method mainFunc doesnt refer to object of SomeClass. I know I can fix it doing something like this:</p>\n\n<pre><code>class SomeClass {\n\n  functionPop(this.mainFunc);\n\n  functionPop(func,nestedFunction) {\n    func(nestedFunction);\n  }\n  mainFunc(nestFunc) {\n    console.log('This will be printed');\n    nestedFunction();\n  }\n  nestedFunc() {\n    console.log('Here we are successfully - this will be printed');\n  }\n\n}\n</code></pre>\n\n<p>I feel that it's so far from right solution, any ideas how to make this better - without these parameters?</p>\n"}, {"tags": ["angular", "http", "typescript", "rxjs", "observable"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 423649, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/c2fa0f46f91c91259bafff29c37019e1?s=128&d=identicon&r=PG", "display_name": "TomerMiz", "link": "https://stackoverflow.com/users/423649/tomermiz"}, "edited": false, "score": 0, "creation_date": 1507644898, "post_id": 46668914, "comment_id": 80286432, "body": "thanks but this didn&#39;t help, the issue is in the service not the component, when i manually create a Hero promise and return it from the service it works."}, {"owner": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "reply_to_user": {"reputation": 117, "user_id": 423649, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/c2fa0f46f91c91259bafff29c37019e1?s=128&d=identicon&r=PG", "display_name": "TomerMiz", "link": "https://stackoverflow.com/users/423649/tomermiz"}, "edited": false, "score": 0, "creation_date": 1507645278, "post_id": 46668914, "comment_id": 80286686, "body": "@TomerMiz See updated answer. It looks like your filter is wrong. The predicate that you pass to the filter method will be run once for each item in the array. It seems as though you were treating each item in the array as an array itself."}], "tags": [], "owner": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "is_accepted": false, "score": 0, "last_activity_date": 1507645211, "last_edit_date": 1507645211, "creation_date": 1507644530, "answer_id": 46668914, "question_id": 46668829, "link": "https://stackoverflow.com/questions/46668829/angular-observable-doesnt-filter-json-array-result/46668914#46668914", "title": "Angular observable doesn&#39;t filter json array result", "body": "<p>While <code>switchMap</code> returns a new observable, I assume the <code>getHero</code> method returns an observable as well. In that case you need to subscribe to the <code>getHero</code> observable and now the <code>switchMap</code> observable to assign to your hero property as follows:</p>\n\n<pre><code>ngOnInit(): void {\n        this.route.paramMap\n            .switchMap((params: ParamMap) =&gt; this.heroService.getHero(+params.get('id'))\n            .subscribe(hero =&gt; this.hero = hero));\n\n        console.log(this.hero)\n    }\n</code></pre>\n\n<p>Or if <code>getHero</code> is returning a promise, then it should look as follows:</p>\n\n<pre><code>ngOnInit(): void {\n        this.route.paramMap\n            .do((params: ParamMap) =&gt; this.heroService.getHero(+params.get('id'))\n            .then(hero =&gt; this.hero = hero)).subscribe();\n\n        console.log(this.hero)\n    }\n</code></pre>\n\n<p>It is hard to proscribe an answer to this question though as what you are doing is a little unclear and seems to indicate that you are mixing Observables and Promises when my guess is that you only need Observables.</p>\n\n<p>Update service to:</p>\n\n<pre><code> return this.http.get(\"http://demo8521374.mockable.io/titan\").map((response: Response) =&gt; {\n            var result = response.json().heroes as Hero[];\n            console.log(result);\n            return result;\n        }).filter(x =&gt; x.id === id).first().toPromise();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "edited": false, "score": 0, "creation_date": 1507664083, "post_id": 46669250, "comment_id": 80297543, "body": "This <i>is</i> a way to go. <code>Observable.filter()</code> is filtering _events_(!), not the data in the event. So, your use of <code>.filter()</code> within <code>.map()</code> is absolutely correct here."}], "tags": [], "owner": {"reputation": 117, "user_id": 423649, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/c2fa0f46f91c91259bafff29c37019e1?s=128&d=identicon&r=PG", "display_name": "TomerMiz", "link": "https://stackoverflow.com/users/423649/tomermiz"}, "is_accepted": true, "score": 1, "last_activity_date": 1507645572, "creation_date": 1507645572, "answer_id": 46669250, "question_id": 46668829, "link": "https://stackoverflow.com/questions/46668829/angular-observable-doesnt-filter-json-array-result/46669250#46669250", "title": "Angular observable doesn&#39;t filter json array result", "body": "<p>modified the code as follow and it worked, sure there is a better way:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    getHero(id: number): Promise&lt;Hero&gt; {\r\n\r\n        return  this.http.get(\"http://demo8521374.mockable.io/titan\").map((response: Response) =&gt; {\r\n            var result = response.json().heroes as Hero[];\r\n            console.log(result);\r\n            return result;\r\n        })\r\n\r\n            .map(heros =&gt; {\r\n                let y = heros.filter(x =&gt; x.id == id)[0]\r\n                console.log(y);\r\n                return y;\r\n            })\r\n            .toPromise();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 117, "user_id": 423649, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/c2fa0f46f91c91259bafff29c37019e1?s=128&d=identicon&r=PG", "display_name": "TomerMiz", "link": "https://stackoverflow.com/users/423649/tomermiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 1, "accepted_answer_id": 46669250, "answer_count": 2, "score": 1, "last_activity_date": 1507699466, "creation_date": 1507644289, "last_edit_date": 1507699466, "question_id": 46668829, "link": "https://stackoverflow.com/questions/46668829/angular-observable-doesnt-filter-json-array-result", "title": "Angular observable doesn&#39;t filter json array result", "body": "<p>i'm a beginner in TypeScript and Angular so this question might some strange.\ni have a simple JSON that returns a list of Heros:\n<a href=\"http://demo8521374.mockable.io/titan\" rel=\"nofollow noreferrer\">http://demo8521374.mockable.io/titan</a></p>\n\n<p>i need my service to perform GetById but why Hero always comes out undefined, can someone please point me to the right location, this is what i'm doing:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        return this.http.get(\"http://demo8521374.mockable.io/titan\").map((response: Response) =&gt; {\r\n            var result = response.json().heroes as Hero[];\r\n            console.log(result);\r\n            return result;\r\n        }).filter(x =&gt; x.filter(x =&gt; x.id == id)).first().toPromise();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>in my console i can see the array was printed but in my component is not getting the object:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    ngOnInit(): void {\r\n        this.route.paramMap\r\n            .switchMap((params: ParamMap) =&gt; this.heroService.getHero(+params.get('id')))\r\n            .subscribe(hero =&gt; this.hero = hero);\r\n\r\n        console.log(this.hero)\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["node.js", "angular", "typescript", "command-line-interface"], "answers": [{"tags": [], "owner": {"reputation": 4280, "user_id": 980153, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5Cj0n.jpg?s=128&g=1", "display_name": "qre0ct", "link": "https://stackoverflow.com/users/980153/qre0ct"}, "is_accepted": false, "score": 4, "last_activity_date": 1522425818, "creation_date": 1522425818, "answer_id": 49577553, "question_id": 46668197, "link": "https://stackoverflow.com/questions/46668197/ng-live-development-server-vs-traditional-web-server/49577553#49577553", "title": "NG Live Development Server vs Traditional web server", "body": "<p>You may want to take a look at this:</p>\n\n<p><a href=\"https://www.npmjs.com/package/live-server\" rel=\"nofollow noreferrer\">Node live server</a></p>\n\n<p>This clearly explains what exactly is a live server and also how it works:\nQuoted from the link:</p>\n\n<blockquote>\n  <p>The server is a simple node app that serves the working directory and\n  its subdirectories. It also watches the files for changes and when\n  that happens, it sends a message through a web socket connection to\n  the browser instructing it to reload. In order for the client side to\n  support this, the server injects a small piece of JavaScript code to\n  each requested html file. This script establishes the web socket\n  connection and listens to the reload requests. CSS files can be\n  refreshed without a full page reload by finding the referenced\n  stylesheets from the DOM and tricking the browser to fetch and parse\n  them again.</p>\n</blockquote>\n\n<p>If you go through the entire post, you would get the answer to almost all your questions. </p>\n"}, {"comments": [{"owner": {"reputation": 1959, "user_id": 3620833, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100001389810987/picture?type=large", "display_name": "Vino", "link": "https://stackoverflow.com/users/3620833/vino"}, "edited": false, "score": 0, "creation_date": 1522654026, "post_id": 49577731, "comment_id": 86220686, "body": "Very useful..Thanks"}, {"owner": {"reputation": 1969, "user_id": 2105006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de4835f574d1414e071d9f15cecbec6c?s=128&d=identicon&r=PG", "display_name": "Brian McAuliffe", "link": "https://stackoverflow.com/users/2105006/brian-mcauliffe"}, "edited": false, "score": 0, "creation_date": 1539692235, "post_id": 49577731, "comment_id": 92586571, "body": "Thanks - the link you provided for &#39;proxying&#39; is the answer I&#39;ve been looking for."}], "tags": [], "owner": {"reputation": 13755, "user_id": 207051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ktARb.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/207051/martin"}, "is_accepted": true, "score": 9, "last_activity_date": 1522664863, "last_edit_date": 1522664863, "creation_date": 1522426615, "answer_id": 49577731, "question_id": 46668197, "link": "https://stackoverflow.com/questions/46668197/ng-live-development-server-vs-traditional-web-server/49577731#49577731", "title": "NG Live Development Server vs Traditional web server", "body": "<p>Tl;Dr the cli live server is only for local development. Not for production or any environment other than local dev. </p>\n\n<p>To answer your specific questions:</p>\n\n<blockquote>\n  <p>Being a Client Side Framework why angular needs an development server.</p>\n</blockquote>\n\n<p>Angular is an SPA framework. The compiled application code needs to be loaded into the browser from a web server. </p>\n\n<blockquote>\n  <p>Where Live Server is physically Located in running machine</p>\n</blockquote>\n\n<p>The server is part of Webpack, which is a dependency of Angular-CLI. So it is in your node_modules folder. </p>\n\n<blockquote>\n  <p>The Live Server can serve only Javascript or any other language.</p>\n</blockquote>\n\n<p>The development server is only for running your Angular code on your local development machine. If you have a API backend, you should look at <a href=\"https://github.com/angular/angular-cli/blob/master/docs/documentation/stories/proxy.md\" rel=\"noreferrer\">proxying</a> requests through the dev server to your dev API. </p>\n\n<blockquote>\n  <p>What is the complexity in integrating Angular2 application with Server side frameworks like Spring-MVC.</p>\n</blockquote>\n\n<p>This is trivial. You will not host your Angular application in production on the live dev server. Instead you will run <code>ng build --prod --aot</code> to build the production bundles into the project <code>dist</code> folder. These are the build artefacts that will be deployed to your frontend webserver. Configure the frontend to run at the root contest i.e. <code>www.foo.com/</code> and the the Spring API to run at the /api context <code>www.foo.com/api/</code>.</p>\n"}], "owner": {"reputation": 1959, "user_id": 3620833, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100001389810987/picture?type=large", "display_name": "Vino", "link": "https://stackoverflow.com/users/3620833/vino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5472, "favorite_count": 3, "accepted_answer_id": 49577731, "answer_count": 2, "score": 6, "last_activity_date": 1522664863, "creation_date": 1507642588, "last_edit_date": 1507719072, "question_id": 46668197, "link": "https://stackoverflow.com/questions/46668197/ng-live-development-server-vs-traditional-web-server", "title": "NG Live Development Server vs Traditional web server", "body": "<p>I am new to Angular2. I have stated learning through resources in Internet.</p>\n\n<p>I am using Angular-Cli tools for building my test application.</p>\n\n<p>When I issue command <code>ng serve --open</code> I got my example project running on a default port 4200 and console shows,</p>\n\n<pre><code>** NG Live Development Server is listening on localhost:4200, open your browser on http://localhost:4200 **\n</code></pre>\n\n<p>Now I am very confused with <strong>NG Live Development Server</strong>. </p>\n\n<p>I have the following concerns,</p>\n\n<ul>\n<li><p>Being a Client Side Framework why angular needs an development server.</p></li>\n<li><p>Where Live Server is physically Located in running machine</p></li>\n<li>The Live Server\ncan serve only Javascript or any other language. </li>\n<li>What is the\ncomplexity in integrating Angular2 application with Server side\nframeworks like Spring-MVC.</li>\n</ul>\n\n<p>Could anyone please provide your thoughts on this? Please correct me if I have understood the concepts wrongly.</p>\n"}, {"tags": ["typescript", "webpack", "bundle", "systemjs"], "comments": [{"owner": {"reputation": 6257, "user_id": 639868, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/249a54b5a267717e77ce985983aa7e63?s=128&d=identicon&r=PG", "display_name": "Tucker", "link": "https://stackoverflow.com/users/639868/tucker"}, "edited": false, "score": 0, "creation_date": 1507654074, "post_id": 46668120, "comment_id": 80292251, "body": "i abandoned systemjs and now just do my dev work using webpack + awesome <code>awesome-typescript-loader</code> and <code>CommonsChunkPlugin</code> and the watch option and it works a million times better"}, {"owner": {"reputation": 4405, "user_id": 444469, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6473d6a6a5f3de7230d51f5cd3b57b52?s=128&d=identicon&r=PG", "display_name": "Matthieu", "link": "https://stackoverflow.com/users/444469/matthieu"}, "edited": false, "score": 0, "creation_date": 1530803941, "post_id": 46668120, "comment_id": 89371355, "body": "See <a href=\"https://stackoverflow.com/questions/37862457/how-to-bundle-angular-2-typescript-app-using-gulp-and-systemjs\" title=\"how to bundle angular 2 typescript app using gulp and systemjs\">stackoverflow.com/questions/37862457/&hellip;</a>"}], "owner": {"reputation": 6257, "user_id": 639868, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/249a54b5a267717e77ce985983aa7e63?s=128&d=identicon&r=PG", "display_name": "Tucker", "link": "https://stackoverflow.com/users/639868/tucker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 331, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507642349, "creation_date": 1507642349, "question_id": 46668120, "link": "https://stackoverflow.com/questions/46668120/vendor-bundle-systemjs", "title": "vendor bundle + systemjs", "body": "<p>I have a systemjs build for a typescript web project.  There are a lot of tiny files from 3rd party dependencies - i've bundled those up using webpack into a <code>vendor.bundle.js</code> file.  I just want to use systemjs to load up and transpile my project typescript files + angular2 and load the 3rd party deps with a single load of the vendor bundle.  That will minimize the number of rest calls and make page refreshing much quicker as i develop.  Currently, I load the bundle in my index.html with <code>&lt;script src=\"scripts/vendor.bundle.js\"&gt;&lt;/script&gt;</code>, but systemjs still tries to import 3rd party deps via individual rest calls.  any idea how to get systemjs to respect the vendor bundle?</p>\n\n<p>E.g. In my vendor bundle i have things like bootstrap.js, but systemjs will still try to load it when running <code>import 'bootstrap';</code> giving me a 404: <code>https://localhost:8081/bootstrap.js 404 ()</code></p>\n\n<p>Here's the Systemjs config:</p>\n\n<p><code>{\n    \"transpiler\": \"typescript\",\n    \"defaultJSExtension\": false,\n    \"map\": {\n        \"app\": \"./scripts\",\n        \"@angular\": \"node_modules/@angular\",\n        \"rxjs\": \"node_modules/rxjs\",<br>\n    },\n    \"packages\": {\n        \"app\": {\n            \"defaultExtension\": \"ts\",\n            \"main\": \"main\"\n        },\n        \"rxjs\": {\n            \"main\": \"Rx.js\",\n            \"defaultExtension\": \"js\"\n        },\n        \"@angular/common\": {\n            \"main\": \"/bundles/common.umd.js\",\n            \"defaultExtension\": \"js\"\n        },\n        \"@angular/compiler\": {\n            \"main\": \"/bundles/compiler.umd.js\",\n            \"defaultExtension\": \"js\"\n        },\n        \"@angular/core\": {\n            \"main\": \"/bundles/core.umd.js\",\n            \"defaultExtension\": \"js\"\n        },\n        \"@angular/forms\": {\n            \"main\": \"/bundles/forms.umd.js\",\n            \"defaultExtension\": \"js\"\n        },\n        \"@angular/http\": {\n            \"main\": \"/bundles/http.umd.js\",\n            \"defaultExtension\": \"js\"\n        },\n        \"@angular/platform-browser\": {\n            \"main\": \"/bundles/platform-browser.umd.js\",\n            \"defaultExtension\": \"js\"\n        },\n        \"@angular/platform-browser-dynamic\": {\n            \"main\": \"/bundles/platform-browser-dynamic.umd.js\",\n            \"defaultExtension\": \"js\"\n        },\n        \"@angular/router\": {\n            \"main\": \"/bundles/router.umd.js\",\n            \"defaultExtension\": \"js\"\n        }\n    },\n    \"typescriptOptions\": {\n        \"emitDecoratorMetadata\": true,\n        \"experimentalDecorators\": true,\n        \"module\": \"commonjs\",\n        \"tsconfig\": true\n    },\n    \"meta\": {\n        \"typescript\": {\n            \"exports\": \"ts\"\n        }\n    },\n    \"defaultJSExtensions\": true\n}</code></p>\n"}, {"tags": ["angular", "typescript", "asp.net-core", "character-encoding"], "comments": [{"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1507642342, "post_id": 46668077, "comment_id": 80284595, "body": "Read <a href=\"http://utf8everywhere.org/\" rel=\"nofollow noreferrer\">utf8everywhere.org</a>"}, {"owner": {"reputation": 1087, "user_id": 7145293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AoYt4.jpg?s=128&g=1", "display_name": "Andresson", "link": "https://stackoverflow.com/users/7145293/andresson"}, "edited": false, "score": 0, "creation_date": 1507644058, "post_id": 46668077, "comment_id": 80285847, "body": "Check <a href=\"https://stackoverflow.com/questions/3685859/javascript-processing-cyrillic-input\">this stackoverflow question</a>. They already posted answer to a similar problem."}, {"owner": {"reputation": 29, "user_id": 8752636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9e3996b437259152362f4c14831bb4e?s=128&d=identicon&r=PG&f=1", "display_name": "m.a.", "link": "https://stackoverflow.com/users/8752636/m-a"}, "edited": false, "score": 0, "creation_date": 1507646379, "post_id": 46668077, "comment_id": 80287434, "body": "I tried that it didn&#39;t solved my problem."}], "answers": [{"tags": [], "owner": {"reputation": 29, "user_id": 8752636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9e3996b437259152362f4c14831bb4e?s=128&d=identicon&r=PG&f=1", "display_name": "m.a.", "link": "https://stackoverflow.com/users/8752636/m-a"}, "is_accepted": true, "score": 0, "last_activity_date": 1511450591, "creation_date": 1511450591, "answer_id": 47458789, "question_id": 46668077, "link": "https://stackoverflow.com/questions/46668077/angular-4-with-net-core-2-cyrillic-encoding-is-not-working/47458789#47458789", "title": "Angular 4 with .Net Core 2 Cyrillic encoding is not working?", "body": "<p>I resolved this issue. The problem with the encoding only occurred in the files generated by Visual Studio so I just deleted and recreated them and the problem was gone.</p>\n"}], "owner": {"reputation": 29, "user_id": 8752636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9e3996b437259152362f4c14831bb4e?s=128&d=identicon&r=PG&f=1", "display_name": "m.a.", "link": "https://stackoverflow.com/users/8752636/m-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 548, "favorite_count": 0, "accepted_answer_id": 47458789, "answer_count": 1, "score": 1, "last_activity_date": 1511450591, "creation_date": 1507642223, "question_id": 46668077, "link": "https://stackoverflow.com/questions/46668077/angular-4-with-net-core-2-cyrillic-encoding-is-not-working", "title": "Angular 4 with .Net Core 2 Cyrillic encoding is not working?", "body": "<p>I am unable to work with Cyrillic strings in my project. I am using .Net Core 2 with Angular 4.2.5 When I try to display a string in my templates like <code>{{ someCyrillicString  }}</code> it works but when I try to pass a Cyrillic string to a  function or when I try to <code>console.log(\"\u0442\u0435\u0441\u0442\");</code> I get \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd I also created a .Net Core 2 project without Angular and there were no problems. I searched for a solution but I couldn't find anything helpful.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 2924, "user_id": 747768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nyu91.jpg?s=128&g=1", "display_name": "Kirill Dmitrenko", "link": "https://stackoverflow.com/users/747768/kirill-dmitrenko"}, "edited": false, "score": 0, "creation_date": 1507647903, "post_id": 46668584, "comment_id": 80288592, "body": "Restricting <code>V</code> to <code>[T, U]</code> introduces unnecessary limitation on the function interface, whereas casting no <code>any</code> \u2014 runtime hazards."}], "tags": [], "owner": {"reputation": 2071, "user_id": 6100785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Q9qz.jpg?s=128&g=1", "display_name": "Rodris", "link": "https://stackoverflow.com/users/6100785/rodris"}, "is_accepted": false, "score": -1, "last_activity_date": 1507643605, "creation_date": 1507643605, "answer_id": 46668584, "question_id": 46667927, "link": "https://stackoverflow.com/questions/46667927/default-argument-in-a-generic-function/46668584#46668584", "title": "Default argument in a generic function", "body": "<p>You may restrict your <code>V</code>.</p>\n\n<pre><code>function zip&lt;T, U, V extends [T, U]&gt;(\n    ts: T[],\n    us: U[],\n    zipper: (t: T, u: U) =&gt; V = (t, u) =&gt; (&lt;V&gt;[t, u])\n)\n</code></pre>\n\n<p>Or cast to <code>any</code>.</p>\n\n<pre><code>function zip&lt;T, U, V&gt;(\n    ts: T[],\n    us: U[],\n    zipper: (t: T, u: U) =&gt; V = (t, u) =&gt; (&lt;V&gt;&lt;any&gt;[t, u])\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 6, "last_activity_date": 1507648276, "last_edit_date": 1507648276, "creation_date": 1507643676, "answer_id": 46668610, "question_id": 46667927, "link": "https://stackoverflow.com/questions/46667927/default-argument-in-a-generic-function/46668610#46668610", "title": "Default argument in a generic function", "body": "<p>The error is a good one; generic type parameters are specified by the <em>caller</em> of a function, not the <em>implementer</em>.  TypeScript is happy to infer the parameters and relieve the developer from specifying them, but they are still inferred based on the needs of the caller, not the implementer. That means that whoever calls <code>zip()</code> will be allowed to choose whatever <code>T</code>, <code>U</code>, and <code>V</code> they want.  TypeScript is warning you, correctly, that the implementation of the function cannot assume that <code>V</code> is going to be compatible with <code>[T, U]</code>.  With the original signature and a default parameter, the caller is free to call <code>zip&lt;string, number, boolean&gt;([\"a\"],[1])</code>.  Yes, that's crazy, and no, you can't implement it.  So the compiler is helping you out with the warning.</p>\n\n<hr>\n\n<p>Overloading is a reasonable solution to this issue.  Your overload signatures are good.  As for the implementation signature, yes, you should make it the more general one, keeping in mind that the <code>zipper</code> parameter must be optional.  Note, however, that you must assert that the default <code>zipper</code> returns a <code>V</code>, since the compiler still can't guarantee that is true based on the implementation signature (even though <em>you</em> know that it is safe because the overloads restrict what calls can be made).  Here's an example:</p>\n\n<pre><code>export function zip&lt;T, U&gt;(ts: T[], us: U[]): [T, U][]\nexport function zip&lt;T, U, V&gt;(\n    ts: T[],\n    us: U[],\n    zipper: (t: T, u: U) =&gt; V\n): V[]\nexport function zip&lt;T, U, V&gt;(\n    ts: T[],\n    us: U[],\n    zipper?: (t: T, u: U) =&gt; V  // note the question mark\n): V[] {\n  if (!zipper) {\n    zipper = (t, u) =&gt; ([t, u] as any as V); // note the assertion\n  }\n  const ret: V[] = []\n  const len = Math.min(ts.length, us.length);\n  for (let i = 0; i &lt; len; i++) {\n    ret.push(zipper(ts[i], us[i]));\n  }\n  return ret;\n}\n</code></pre>\n\n<p>This is basically what happens with overloads in TypeScript.  The compiler doesn't really understand the overloaded signatures when it's checking the implementation. Once you use overloads you are telling the compiler that you will be responsible for making sure that the implementation is safe.</p>\n\n<p>Anyway, hope that helps; good luck!</p>\n"}], "owner": {"reputation": 2924, "user_id": 747768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nyu91.jpg?s=128&g=1", "display_name": "Kirill Dmitrenko", "link": "https://stackoverflow.com/users/747768/kirill-dmitrenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 1, "accepted_answer_id": 46668610, "answer_count": 2, "score": 0, "last_activity_date": 1507648276, "creation_date": 1507641814, "question_id": 46667927, "link": "https://stackoverflow.com/questions/46667927/default-argument-in-a-generic-function", "title": "Default argument in a generic function", "body": "<p>I have function <code>zip</code> that has signature:</p>\n\n<pre><code>function zip&lt;T, U, V&gt;(ts: T[], us: U[], zipper: (t: T, u: U) =&gt; V): V[]\n</code></pre>\n\n<p>I'm trying to assign the <code>zipper</code> argument a default value <code>(t, u) =&gt; [t, u]</code>:</p>\n\n<pre><code>function zip&lt;T, U, V&gt;(\n    ts: T[],\n    us: U[],\n    zipper: (t: T, u: U) =&gt; V = (t, u) =&gt; (&lt;[T, U]&gt;[t, u])\n)\n</code></pre>\n\n<p>That produces (somewhat expected) compile error about <code>(T, U) =&gt; [T, U]</code> being not assignable to <code>(T, U) =&gt; V</code>.</p>\n\n<p>In the end I've resolved the issue with somewhat ugly set of overloads:</p>\n\n<pre><code>export function zip&lt;T, U&gt;(ts: T[], us: U[]): [T, U][]\nexport function zip&lt;T, U, V&gt;(\n    ts: T[],\n    us: U[],\n    zipper: (t: T, u: U) =&gt; V\n): V[]\nexport function zip&lt;T, U&gt;(\n    ts: T[],\n    us: U[],\n    zipper: (t: T, u: U) =&gt; [T, U] = (t, u) =&gt; [t, u]\n): [T, U][] {\n    /* ... */\n}\n</code></pre>\n\n<p>This approach has two problems:</p>\n\n<ol>\n<li>basically, signature <code>zip(T[], U[]): [T, U][]</code> is presented twice (first overload and the implementation itself);</li>\n<li>implementation's signature isn't most general one, with (especially in more complex cases) may lead to errors.</li>\n</ol>\n\n<p>Is there a better way to do what I want here? Is error in the very first attempt a compiler bug (doesn't seem to be, but if it is it'd certainly make solution simpler)?</p>\n"}, {"tags": ["angular", "validation", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1275, "user_id": 4479510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1d7b848c7fca9ceb4840c999be0d756c?s=128&d=identicon&r=PG&f=1", "display_name": "RagnarLodbrok", "link": "https://stackoverflow.com/users/4479510/ragnarlodbrok"}, "edited": false, "score": 0, "creation_date": 1507707769, "post_id": 46667955, "comment_id": 80312696, "body": "I already have the initial value in <code>this.selectedUser.someValue</code>. My question was if there is a more explicit property of <code>dirty</code> which checks this out of the box. Sorry if this was not clear."}, {"owner": {"reputation": 8115, "user_id": 4749297, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/LXTZX.jpg?s=128&g=1", "display_name": "Lansana Camara", "link": "https://stackoverflow.com/users/4749297/lansana-camara"}, "reply_to_user": {"reputation": 1275, "user_id": 4479510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1d7b848c7fca9ceb4840c999be0d756c?s=128&d=identicon&r=PG&f=1", "display_name": "RagnarLodbrok", "link": "https://stackoverflow.com/users/4479510/ragnarlodbrok"}, "edited": false, "score": 0, "creation_date": 1507727830, "post_id": 46667955, "comment_id": 80326112, "body": "You can try to use <code>pristine</code>. <code>pristine</code> will be <code>true</code> if the user has not changed the value in the UI. Its opposite is <code>dirty</code>. So if you instantiate your form group with default values and that has not been modified yet in the UI, I believe it will then be <code>pristine</code> with those initial values. If the form changes form the UI, it should no longer be <code>pristine</code>."}, {"owner": {"reputation": 1275, "user_id": 4479510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1d7b848c7fca9ceb4840c999be0d756c?s=128&d=identicon&r=PG&f=1", "display_name": "RagnarLodbrok", "link": "https://stackoverflow.com/users/4479510/ragnarlodbrok"}, "edited": false, "score": 1, "creation_date": 1507795583, "post_id": 46667955, "comment_id": 80355714, "body": "with <code>pristine</code> goes the same problem as with <code>dirty</code>. If you, for instance, add a letter, and remove it again <code>dirty</code> is still true and <code>pristine</code> false, although the input value and the initial value are the same. I solved the problem with a custom validator."}], "tags": [], "owner": {"reputation": 8115, "user_id": 4749297, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/LXTZX.jpg?s=128&g=1", "display_name": "Lansana Camara", "link": "https://stackoverflow.com/users/4749297/lansana-camara"}, "is_accepted": false, "score": 0, "last_activity_date": 1507641874, "creation_date": 1507641874, "answer_id": 46667955, "question_id": 46667375, "link": "https://stackoverflow.com/questions/46667375/angular-form-validations-values-have-to-be-different-to-initial-values/46667955#46667955", "title": "Angular Form Validations - values have to be different to initial values", "body": "<p>You could cache the initial value as soon as you set the form object. Then change your <code>disableSaveButton</code> method to check the equality of the two values.</p>\n\n<p>For instance:</p>\n\n<pre><code>export class MyComponent {\n    initialValue: any;\n\n    constructor(private fb: FormBuilder) {\n        this.form = fb.group({...});\n        this.initialValue = this.form.value;\n    }\n\n    disableSaveButton() {\n        return JSON.stringify(this.initialValue) === JSON.stringify(this.form.value);\n    }\n}\n</code></pre>\n\n<p>The disable method will check if the current form value is the same as the initial value.</p>\n"}, {"tags": [], "owner": {"reputation": 1275, "user_id": 4479510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1d7b848c7fca9ceb4840c999be0d756c?s=128&d=identicon&r=PG&f=1", "display_name": "RagnarLodbrok", "link": "https://stackoverflow.com/users/4479510/ragnarlodbrok"}, "is_accepted": true, "score": 4, "last_activity_date": 1507795922, "creation_date": 1507795922, "answer_id": 46704607, "question_id": 46667375, "link": "https://stackoverflow.com/questions/46667375/angular-form-validations-values-have-to-be-different-to-initial-values/46704607#46704607", "title": "Angular Form Validations - values have to be different to initial values", "body": "<p>I created a custom validator to solve this issue.</p>\n\n<p>The validator:</p>\n\n<pre><code>export function oneValueHasToBeChangedValidator(values: { controlName: string, initialValue: string | number | boolean }[]): ValidatorFn {\n  return (form: FormControl): { [key: string]: any } =&gt; {\n    let sameValues = true;\n\n    for (let comparingValues of values) {\n      if (form.value[comparingValues.controlName] != comparingValues.initialValue) {\n        sameValues = false;\n        break;\n      }\n    }\n\n    return sameValues ? {'sameValues': {values: values}} : null;\n  };\n}\n</code></pre>\n\n<p>How I took use of it:</p>\n\n<pre><code>this.userForm = this.formBuilder.group({\n  status: this.selectedUser.status == 1,\n  username: [this.selectedUser.username, [Validators.required, Validators.minLength(LlqaConstants.USERNAME_MIN_LENGTH)]],\n  realname: [this.selectedUser.realname, [Validators.required, Validators.minLength(LlqaConstants.REALNAME_MIN_LENGTH)]],\n  password: ['', [Validators.minLength(LlqaConstants.PASSWORD_MIN_LENGTH)]],\n  usercomment: this.selectedUser.comment == null ? \"\" : this.selectedUser.comment\n});\n\nthis.userForm.setValidators(oneValueHasToBeChangedValidator([{\n  controlName: \"status\",\n  initialValue: this.selectedUser.status == 1\n}, {\n  controlName: \"username\",\n  initialValue: this.selectedUser.username\n}, {\n  controlName: \"realname\",\n  initialValue: this.selectedUser.realname\n}, {\n  controlName: \"password\",\n  initialValue: \"\"\n}, {\n  controlName: \"usercomment\",\n  initialValue: this.selectedUser.comment == null ? \"\" : this.selectedUser.comment\n}]));\nthis.userForm.updateValueAndValidity();\n</code></pre>\n"}], "owner": {"reputation": 1275, "user_id": 4479510, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1d7b848c7fca9ceb4840c999be0d756c?s=128&d=identicon&r=PG&f=1", "display_name": "RagnarLodbrok", "link": "https://stackoverflow.com/users/4479510/ragnarlodbrok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2935, "favorite_count": 2, "accepted_answer_id": 46704607, "answer_count": 2, "score": 1, "last_activity_date": 1507795995, "creation_date": 1507640200, "last_edit_date": 1507795995, "question_id": 46667375, "link": "https://stackoverflow.com/questions/46667375/angular-form-validations-values-have-to-be-different-to-initial-values", "title": "Angular Form Validations - values have to be different to initial values", "body": "<p>I have reactive form validations set up as follows:</p>\n\n<pre><code>  ngOnInit(): void {\n    this.userForm = this.formBuilder.group({\n      status: {checked: this.selectedUser.status == 1},\n      username: [this.selectedUser.username, [Validators.required, Validators.minLength(LlqaConstants.USERNAME_MIN_LENGTH)]],\n      realname: [this.selectedUser.realname, [Validators.required, Validators.minLength(LlqaConstants.REALNAME_MIN_LENGTH)]],\n      password: ['', this.selectedUser.passhash.length &gt; 0 ? [Validators.required, Validators.minLength(LlqaConstants.PASSWORD_MIN_LENGTH)] : null],\n      usercomment: [this.selectedUser.comment]\n    });\n  }\n</code></pre>\n\n<p>I'd like to enable the submit button, as soon as <strong>one</strong> input value is not equal to the initial value anymore. The simplest way I could find is:</p>\n\n<pre><code>disableSaveButton(): boolean {\n  return !this.userform.dirty || this.userForm.invalid;\n}\n</code></pre>\n\n<p>My problem with the <code>dirty</code> property ist, as soon as I enter something, <code>dirty</code> is true, also if I enter the same value as the initial value. I'd to have a property which tells me if <strong>one</strong> input value is not equal to the initial value. Is this possible out of the box or do I have to check each <code>userForm.value</code> equals to <code>this.selectedUser.someValue</code>?</p>\n"}]