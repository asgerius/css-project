[{"tags": ["angularjs", "validation", "drag-and-drop", "typescript"], "comments": [{"owner": {"reputation": 2176, "user_id": 1502563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9211f1f7ec5f8f4b40e189040d649bc?s=128&d=identicon&r=PG", "display_name": "OakNinja", "link": "https://stackoverflow.com/users/1502563/oakninja"}, "edited": false, "score": 0, "creation_date": 1422487041, "post_id": 28204184, "comment_id": 44774446, "body": "Are the drag and droppable items created on the fly or predefined?"}, {"owner": {"reputation": 2176, "user_id": 1502563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9211f1f7ec5f8f4b40e189040d649bc?s=128&d=identicon&r=PG", "display_name": "OakNinja", "link": "https://stackoverflow.com/users/1502563/oakninja"}, "edited": false, "score": 1, "creation_date": 1422487223, "post_id": 28204184, "comment_id": 44774516, "body": "If they are predefined you could just add an array of valid targets to each item when they are fetched initially, and in that way avoid unnecessary api calls."}, {"owner": {"reputation": 43594, "user_id": 968155, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/dnnKq.jpg?s=128&g=1", "display_name": "New Dev", "link": "https://stackoverflow.com/users/968155/new-dev"}, "edited": false, "score": 2, "creation_date": 1422488276, "post_id": 28204184, "comment_id": 44774847, "body": "You first need to consider the user experience that you are after. Imagine that $http call takes 10 seconds - what is the user experience? Does the drop happen, and then bounces back on error? Is there another experience? This most likely won&#39;t fit under normal scenarios envisioned for drop validation, and you may need to implement higher-level validation constructs to support what you are building. Blocking is never the valid case with UI"}], "answers": [{"tags": [], "owner": {"reputation": 1571, "user_id": 121983, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5e9dc8469eaa285f95f7175407a9f758?s=128&d=identicon&r=PG", "display_name": "Ross Scott", "link": "https://stackoverflow.com/users/121983/ross-scott"}, "is_accepted": false, "score": 0, "last_activity_date": 1422537694, "creation_date": 1422537694, "answer_id": 28215819, "question_id": 28204184, "link": "https://stackoverflow.com/questions/28204184/angular-js-block-in-method-calling-http-get-until-data-is-returned/28215819#28215819", "title": "Angular JS - block in method calling $http.get until data is returned", "body": "<p>You can't bind to promises so you need to work around the issue. Perhaps at drag-start create unique ID and store the drag information / lookup result in a hash. Then bind to that result which will be updated when the get promise is completed.</p>\n"}], "owner": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 527, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1422537694, "creation_date": 1422486609, "question_id": 28204184, "link": "https://stackoverflow.com/questions/28204184/angular-js-block-in-method-calling-http-get-until-data-is-returned", "title": "Angular JS - block in method calling $http.get until data is returned", "body": "<p>I understand that AngularJS forces you to be asynchronous everywhere, but I am running into an issue with drag and drop validation that:</p>\n\n<ul>\n<li>Requires a $scope method to return a boolean;</li>\n<li>That boolean value is the result of a call to a REST endpoint (ASP.NET WebAPI)</li>\n</ul>\n\n<p>The drag and drop implementation I'm using is <a href=\"http://www.directiv.es/Angular-DragDrop\" rel=\"nofollow\">this one</a>.</p>\n\n<p>In short, when the user starts to drag an item, a method is called to validate whether or not the drag is valid.</p>\n\n<p>Within this validation method, I need to make a call to a REST endpoint that will execute some logic to determine of the drag source is able to be dropped on the drag target.  </p>\n\n<p>That $http.get is asynchronous is stopping me from being able to return the result of the get.</p>\n\n<p>In my view I have the drag/drop configured as such:</p>\n\n<pre><code>&lt;table class=\"grid\" style=\"margin-left: 15px\" ui-on-drop=\"onDrop($event,$data,someId)\" drop-validate=\"validateDrop($data, someId)\"&gt;\n&lt;!-- rows in here --&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>In the controller, I have the method:</p>\n\n<pre><code>$scope.validateDrop = (data, someId) =&gt; {\n    var res = $http.get('/some/url/that/returns/bool');\n    //\n    // how to return the result of the GET, and NOT a promise?\n    //\n    return true; //should return value of the GET\n};\n</code></pre>\n\n<p>Things I have considered:</p>\n\n<ul>\n<li>There can be a significant number of draggable items that can have multiple drop targets.  I don't think it's viable to pull a \"validation matrix\" on load.</li>\n<li>I understand that blocking is not the done thing, but this may be a valid case</li>\n</ul>\n\n<p>Is there a way to either</p>\n\n<ul>\n<li>Restructure the validation so that it could support the async call (not sure on this, and I'd like to avoid modifying the drag and drop library)</li>\n<li>Force the get to be synchronous, or somehow block until the result is known.</li>\n</ul>\n"}, {"tags": ["angularjs", "visual-studio-2013", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 865, "user_id": 4279423, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/I72D6.png?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4279423/brandon"}, "is_accepted": true, "score": 3, "last_activity_date": 1422544269, "creation_date": 1422544269, "answer_id": 28217994, "question_id": 28200174, "link": "https://stackoverflow.com/questions/28200174/decorating-angular-exceptionhandler-service-in-typescript-using-vs-2013/28217994#28217994", "title": "Decorating angular exceptionHandler service in Typescript using VS 2013", "body": "<p>I think I've found my own answer.  In any case here is how I decorated the angular exception handler service in Typescript.</p>\n\n<pre><code>export class MyExceptionHandlerService { \n\n\n    private _defaultExceptionHandlerService: ng.IExceptionHandlerService;\n\n\n    constructor(paramDelegate: ng.IExceptionHandlerService) {\n\n        this._defaultExceptionHandlerService = paramDelegate;\n    }\n\n    public exception: ng.IExceptionHandlerService = (paramException: Error, paramCause?: string): void =&gt; {\n\n        console.error(\"MY ERROR HANDLER: \" + paramException.message)\n\n        this._defaultExceptionHandlerService(paramException, paramCause);\n\n    }\n\n\n\n}\n</code></pre>\n\n<p>And I use it from my angular config section like this:</p>\n\n<pre><code>$provide.decorator('$exceptionHandler', ['$delegate', function ($delegate: ng.IExceptionHandlerService) {\n\n\n                var localExceptionHandler: MyHandler.ExceptionHandlerService = new MyHandler.ExceptionHandlerService($delegate);\n\n                return localExceptionHandler.exception;\n            }]);\n</code></pre>\n\n<p>It's working as expected for me.</p>\n"}, {"tags": [], "owner": {"reputation": 725, "user_id": 527452, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9c843b1b68d2c22e1c2a9b7a0c889e97?s=128&d=identicon&r=PG", "display_name": "jsteve81", "link": "https://stackoverflow.com/users/527452/jsteve81"}, "is_accepted": false, "score": 3, "last_activity_date": 1432313325, "creation_date": 1432313325, "answer_id": 30401998, "question_id": 28200174, "link": "https://stackoverflow.com/questions/28200174/decorating-angular-exceptionhandler-service-in-typescript-using-vs-2013/30401998#30401998", "title": "Decorating angular exceptionHandler service in Typescript using VS 2013", "body": "<p>You could have also done something like this without using objects...not sure if this is good or not.  Feedback would be awesome!</p>\n\n<pre><code>((): void =&gt; {\n    'use strict';\n\n    angular\n        .module('app.blocks')\n        .config(config);\n\n    config.$inject = ['$provide'];\n\n    function config($provide: ng.auto.IProvideService): void {\n        $provide.decorator('$exceptionHandler', extendExceptionHandler);\n    }\n\n    extendExceptionHandler.$inject = ['$delegate', 'app.blocks.logger'];\n    function extendExceptionHandler(\n        $delegate: any,\n        logger: app.blocks.ILogFactory): Function {\n\n        return (exception: Error, cause?: string, source? : string) =&gt; {\n            $delegate(exception, cause);\n            logger.log(exception.message, { exception: exception, cause: cause }, source, 'error');\n        }\n    }\n})();\n</code></pre>\n"}], "owner": {"reputation": 865, "user_id": 4279423, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/I72D6.png?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4279423/brandon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3311, "favorite_count": 0, "accepted_answer_id": 28217994, "answer_count": 2, "score": 2, "last_activity_date": 1524007819, "creation_date": 1422471282, "last_edit_date": 1422543385, "question_id": 28200174, "link": "https://stackoverflow.com/questions/28200174/decorating-angular-exceptionhandler-service-in-typescript-using-vs-2013", "title": "Decorating angular exceptionHandler service in Typescript using VS 2013", "body": "<p>Using Typescript and Visual Studio 2013</p>\n\n<p>I want to decorate the angularjs $exceptionHandler and I'm not quite sure of the correct way to do it.  I have decorated $log and it works fine.</p>\n\n<p>My configuration:</p>\n\n<pre><code>MyAngularModule.config(['$provide',($provide) =&gt; {\n    $provide.decorator('$log', ['$delegate', function ($delegate) {\n        var myLog: MyLogService.LogService = new MyLogService.LogService();\n        return myLog;\n    }]);\n}]);\n</code></pre>\n\n<p>MyLogService.ts</p>\n\n<pre><code>export = Example;\nmodule Example {\n    export class LogService implements ng.ILogService{ \n        constructor() {}\n        public assertEmpty = () =&gt; { };\n        public reset = () =&gt; { };\n        public info: ng.ILogCall = ...all my code...\n    }\n}\n</code></pre>\n\n<p>Now when I try doing a similar thing with $exceptionHandler:</p>\n\n<pre><code>$provide.decorator('$log', ['$delegate', function ($delegate) {\n        var myExHandler: MyExHandler.ExHandlerService = new MyExHandler.ExHandlerService();\n        return myExHandler;\n    }]);\n</code></pre>\n\n<p>The interface definition for exceptionHandler in the type files is:</p>\n\n<pre><code>interface IExceptionHandlerService {\n    (exception: Error, cause?: string): void;\n}   \n</code></pre>\n\n<p>How do I code this similar to the way I did in decorating the log service?</p>\n\n<p>I tried:</p>\n\n<pre><code>export = Example;\nmodule Example {\n    export class ExHandlerService implements ng.IExceptionHandlerService{ \n        constructor(anException: Error, aCause?: string) {}\n\n    }\n}\n</code></pre>\n\n<p>And Visual Studio is complaining that the interface is implemented wrong.  I don't really understand what (exception: Error, cause?: string): void; means, is it the constructor?  The typings file does show a name, just this anonymous method definition.</p>\n\n<p>I don't understand how I even approach this in the decorate call (ie. where do the error and cause parameters come from and how do I keep the default implementation operating as well?)</p>\n\n<p>Thanks in advance.</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>Considering in angular.d.ts:</p>\n\n<pre><code>interface IExceptionHandlerService {\n    (exception: Error, cause?: string): void;\n}\n</code></pre>\n\n<p>I guess my root confusion is how this interface would be implemented in Typescript??</p>\n\n<p>Ok, I found that interfaces can define a function type in this case.  That created confusion with the way I have viewed interfaces typically.  It seems I can't use an \"implements\" in this case?</p>\n"}, {"tags": ["angularjs", "visual-studio-2013", "typescript", "build-error"], "comments": [{"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1422451487, "post_id": 28192880, "comment_id": 44753644, "body": "Are you using the latest version of TypeScript (1.4) <a href=\"https://visualstudiogallery.msdn.microsoft.com/2d42d8dc-e085-45eb-a30b-3f7d50d55304\" rel=\"nofollow noreferrer\">visualstudiogallery.msdn.microsoft.com/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 4502960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e8d70f197f7c7164ea7297e9f4381f7?s=128&d=identicon&r=PG&f=1", "display_name": "MortenJorgensen", "link": "https://stackoverflow.com/users/4502960/mortenjorgensen"}, "reply_to_user": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1422454965, "post_id": 28192880, "comment_id": 44756005, "body": "This solved the problem, thanks :) Apparently I was running an older version of Typescript."}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1422456549, "post_id": 28192880, "comment_id": 44757047, "body": "Glad it worked. I&#39;ll close this with reference to the first question that was related to this issue."}], "owner": {"reputation": 11, "user_id": 4502960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e8d70f197f7c7164ea7297e9f4381f7?s=128&d=identicon&r=PG&f=1", "display_name": "MortenJorgensen", "link": "https://stackoverflow.com/users/4502960/mortenjorgensen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "closed_date": 1422456528, "answer_count": 0, "score": 0, "last_activity_date": 1422449885, "creation_date": 1422449885, "question_id": 28192880, "link": "https://stackoverflow.com/questions/28192880/build-errors-in-vs13-in-angular-d-ts-and-jquery-d-ts-using-typescript", "closed_reason": "Duplicate", "title": "Build errors in VS13 in angular.d.ts and jquery.d.ts using TypeScript", "body": "<p>I'm trying to create an SPA application using AngularJS and Typescript in Visual Studio 2013.</p>\n\n<p>It won't build, <a href=\"http://i.stack.imgur.com/jvDSn.png\" rel=\"nofollow\">http://i.stack.imgur.com/jvDSn.png</a>, saying angular.d.ts, jquery.d.ts and angular-route.d.ts contains builderrors.</p>\n\n<p>VS gives me 249 errors, and TsLint 215 messages.</p>\n\n<p>Is it possible to configure TsLint to not validate these files? Or am I on a completely wrong track, and something else causing the problem.</p>\n\n<pre><code>/// &lt;reference path=\"../Scripts/typings/angularjs/angular.d.ts\" /&gt;\nmodule Application {\n    \"use strict\";\n\n    export class AngularApp {\n        public static Module: ng.IModule = angular.module(\"app\", []);\n    }\n}\n</code></pre>\n\n<p>Also, I'm getting an error saying that angular is not defined. I'm suspecting that this is caused by the build errors.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 266, "user_id": 3811714, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/JNm2U.jpg?s=128&g=1", "display_name": "user3811714", "link": "https://stackoverflow.com/users/3811714/user3811714"}, "edited": false, "score": 0, "creation_date": 1422443339, "post_id": 28190651, "comment_id": 44748953, "body": "$ is jquery symbol you need to add jquery reference if you need to use it"}, {"owner": {"reputation": 315, "user_id": 4492756, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-jFt5OiNorrk/AAAAAAAAAAI/AAAAAAAAABQ/IiqhnX3w0ec/photo.jpg?sz=128", "display_name": "Fabrizio Morello", "link": "https://stackoverflow.com/users/4492756/fabrizio-morello"}, "edited": false, "score": 0, "creation_date": 1422443352, "post_id": 28190651, "comment_id": 44748959, "body": "no, but neither in javascript, even though you can use it"}, {"owner": {"reputation": 315, "user_id": 4492756, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-jFt5OiNorrk/AAAAAAAAAAI/AAAAAAAAABQ/IiqhnX3w0ec/photo.jpg?sz=128", "display_name": "Fabrizio Morello", "link": "https://stackoverflow.com/users/4492756/fabrizio-morello"}, "reply_to_user": {"reputation": 266, "user_id": 3811714, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/JNm2U.jpg?s=128&g=1", "display_name": "user3811714", "link": "https://stackoverflow.com/users/3811714/user3811714"}, "edited": false, "score": 0, "creation_date": 1422443476, "post_id": 28190651, "comment_id": 44749022, "body": "@user3811714 how is possible to add jquery reference in typescript? And why in javascript it works although there is no reference (I guess)?"}], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 4492756, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-jFt5OiNorrk/AAAAAAAAAAI/AAAAAAAAABQ/IiqhnX3w0ec/photo.jpg?sz=128", "display_name": "Fabrizio Morello", "link": "https://stackoverflow.com/users/4492756/fabrizio-morello"}, "edited": false, "score": 0, "creation_date": 1422447804, "post_id": 28190713, "comment_id": 44751411, "body": "After taking a look many web pages, I found out that &#39;$&#39; symbol and document.getElementById() or document.createElement() have the same meaning for my purposes, thus I could not import anything. Thank you anyway."}], "tags": [], "owner": {"reputation": 70819, "user_id": 1624921, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/keNmm.jpg?s=128&g=1", "display_name": "Games Brainiac", "link": "https://stackoverflow.com/users/1624921/games-brainiac"}, "is_accepted": true, "score": 2, "last_activity_date": 1422443325, "creation_date": 1422443325, "answer_id": 28190713, "question_id": 28190651, "link": "https://stackoverflow.com/questions/28190651/symbol-in-typescript-class/28190713#28190713", "title": "&#39;$&#39; symbol in typescript class", "body": "<p>Likely because you have not added jquery. Since that is <em>usually</em> what the <code>$</code> sign refers too. If you have, then add the definition from typescript definitions <a href=\"https://github.com/borisyankov/DefinitelyTyped\" rel=\"nofollow\">here</a> at the top of the file.</p>\n"}, {"tags": [], "owner": {"reputation": 13572, "user_id": 657427, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dd071a6a7c97ba637c558c5e71137c7b?s=128&d=identicon&r=PG", "display_name": "Christophe Roussy", "link": "https://stackoverflow.com/users/657427/christophe-roussy"}, "is_accepted": false, "score": 1, "last_activity_date": 1422459841, "creation_date": 1422459841, "answer_id": 28196422, "question_id": 28190651, "link": "https://stackoverflow.com/questions/28190651/symbol-in-typescript-class/28196422#28196422", "title": "&#39;$&#39; symbol in typescript class", "body": "<p>TypeScript cannot 'know' that $ stands for jQuery as it is not running in your browser. If it is jQuery put a reference to the <a href=\"https://github.com/borisyankov/DefinitelyTyped/tree/master/jquery\" rel=\"nofollow\">definition file</a>:</p>\n\n<pre><code>/// &lt;reference path=\"jquery.d.ts\" /&gt;\n</code></pre>\n\n<p>As to your comment you indeed do not need jQuery for simple selectors.</p>\n"}], "owner": {"reputation": 315, "user_id": 4492756, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-jFt5OiNorrk/AAAAAAAAAAI/AAAAAAAAABQ/IiqhnX3w0ec/photo.jpg?sz=128", "display_name": "Fabrizio Morello", "link": "https://stackoverflow.com/users/4492756/fabrizio-morello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1023, "favorite_count": 0, "accepted_answer_id": 28190713, "answer_count": 2, "score": 0, "last_activity_date": 1422459841, "creation_date": 1422443165, "question_id": 28190651, "link": "https://stackoverflow.com/questions/28190651/symbol-in-typescript-class", "title": "&#39;$&#39; symbol in typescript class", "body": "<p>Why the '$' symbol is not recognized in typescript, since it is a super set of javascript? When I type for example <code>$('#example')</code> I have this error</p>\n\n<blockquote>\n  <p>Cannot find name '$'</p>\n</blockquote>\n\n<p>but in the javascript file everything is ok and it works. Otherwise I'd like to know whether the function <code>document.getElementById(\"something\")</code> has the same meaning, so I can replace easly the '$' symbol.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 0, "last_activity_date": 1422452774, "creation_date": 1422452774, "answer_id": 28193836, "question_id": 28188581, "link": "https://stackoverflow.com/questions/28188581/is-there-a-way-to-require-a-t-to-be-a-member-of-a-union-type/28193836#28193836", "title": "Is there a way to require a T to be a member of a union type?", "body": "<p>Here is a fully working example that accepts <code>Bar</code> or <code>Baz</code>, but rejects the other class I created as an example.</p>\n\n<p>The salient point is the generic type constraint: <code>T extends Foo</code>.</p>\n\n<p>TypeScript is awesome enough to accept the union types, but not other types... except of course if they are structurally identical (i.e. if I created another class that looked exactly like the <code>Bar</code> class or exactly like the <code>Baz</code> class, that would be allowable. This makes sense as it would also allow me to use that type in the <code>Array&lt;Foo&gt;</code>.</p>\n\n<pre><code>class Bar {\n    constructor(public num: number){}\n}\n\nclass Baz {\n    constructor(public num: number){}\n}\n\nclass Example {\n\n}\n\ntype Foo = Bar | Baz;\nvar a: Array&lt;Foo&gt; = [\n    new Bar(1),\n    new Baz(2),\n    new Bar(3),\n    new Bar(4)\n\n];\n\n\nfunction onlyFoosOfType&lt;T extends Foo&gt;(arr  : Array&lt;Foo&gt;, ctor : new(...args) =&gt; T): Array&lt;T&gt; {\n    return &lt;Array&lt;T&gt;&gt;&lt;any&gt; arr.filter(x =&gt; {\n        return x instanceof ctor;\n    });\n}\n\nvar example1 = onlyFoosOfType(a, Bar);\n// \"[{\"num\":1},{\"num\":3},{\"num\":4}]\"\nconsole.log(JSON.stringify(example1));\n\n\nvar example2 = onlyFoosOfType(a, Baz);\n// \"[{\"num\":2}\"\nconsole.log(JSON.stringify(example2));\n\n// Error: Example is not a Foo!\nvar example3 = onlyFoosOfType(a, Example);\n</code></pre>\n\n<p>Just to demonstrate the point, here is a version where the <code>Example</code> class could be used...</p>\n\n<pre><code>class Bar {\n    constructor(public num: number){}\n}\n\nclass Baz {\n    constructor(public num: number){}\n}\n\nclass Example {\n    constructor(public num: number){}\n}\n\ntype Foo = Bar | Baz;\nvar a: Array&lt;Foo&gt; = [\n    new Bar(1),\n    new Baz(2),\n    new Bar(3),\n    new Bar(4),\n    new Example(5)\n];\n\nvar example4 = onlyFoosOfType(a, Example);\n// \"[{\"num\":5}\"\nconsole.log(JSON.stringify(example4));\n</code></pre>\n"}], "owner": {"reputation": 447, "user_id": 1075783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7f02c799d087a8fa2cc3d4b25bf0d2e3?s=128&d=identicon&r=PG", "display_name": "wereHamster", "link": "https://stackoverflow.com/users/1075783/werehamster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 402, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1422452774, "creation_date": 1422437011, "question_id": 28188581, "link": "https://stackoverflow.com/questions/28188581/is-there-a-way-to-require-a-t-to-be-a-member-of-a-union-type", "title": "Is there a way to require a T to be a member of a union type?", "body": "<p>Let's say I have a union type <code>type Foo = Bar | Baz</code>, and an array of foos (<code>Array&lt;Foo&gt;</code>). Is there a way to write a filter function which extracts only a certain type from the array in a type safe way?</p>\n\n<p>Something like the following, but specify that <code>T</code> must be a member of <code>Foo</code>. So that for example <code>onlyFoosOfType(x, Number)</code> won't typecheck.</p>\n\n<pre><code>class Bar {}\nclass Baz {}\n\ntype Foo = Bar | Baz;\nvar a: Array&lt;Foo&gt; = [];\n\nfunction\nonlyFoosOfType&lt;T&gt;\n( arr  : Array&lt;Foo&gt;\n, ctor : new(...args) =&gt; T\n): Array&lt;T&gt; {\n    return &lt;Array&lt;T&gt;&gt; arr.filter(x =&gt; {\n        return x instanceof ctor;\n    });\n}\n</code></pre>\n"}, {"tags": ["angularjs", "checkbox", "typescript", "accordion", "angular-ui"], "comments": [{"owner": {"reputation": 1874, "user_id": 2917873, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qeYA1.jpg?s=128&g=1", "display_name": "Edd", "link": "https://stackoverflow.com/users/2917873/edd"}, "edited": false, "score": 0, "creation_date": 1422436897, "post_id": 28187126, "comment_id": 44745241, "body": "I&#39;m curious, what&#39;s the purpose of <code>ng-repeat=&quot;timesheet in timesheets&quot;</code>?"}, {"owner": {"reputation": 1035, "user_id": 1701454, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b0b664c3bcfd26183754f806e3ee4e4a?s=128&d=identicon&r=PG", "display_name": "Daniel Hakimi", "link": "https://stackoverflow.com/users/1701454/daniel-hakimi"}, "reply_to_user": {"reputation": 1874, "user_id": 2917873, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qeYA1.jpg?s=128&g=1", "display_name": "Edd", "link": "https://stackoverflow.com/users/2917873/edd"}, "edited": false, "score": 0, "creation_date": 1422438962, "post_id": 28187126, "comment_id": 44746395, "body": "Users of this system have a time sheet for each week they work. Every week, a user needs to put in the amount of hours they work on a job, so their manager can then approve what they have done."}, {"owner": {"reputation": 1874, "user_id": 2917873, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qeYA1.jpg?s=128&g=1", "display_name": "Edd", "link": "https://stackoverflow.com/users/2917873/edd"}, "edited": false, "score": 0, "creation_date": 1422439943, "post_id": 28187126, "comment_id": 44746999, "body": "My bad, let me rephrase, why do you call <code>ng-repeat=&quot;timesheet in timesheets&quot;</code> if you are never going to use <code>timesheet</code> as in <code>timesheet.something</code>? I&#39;m probably just missing something."}, {"owner": {"reputation": 1035, "user_id": 1701454, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b0b664c3bcfd26183754f806e3ee4e4a?s=128&d=identicon&r=PG", "display_name": "Daniel Hakimi", "link": "https://stackoverflow.com/users/1701454/daniel-hakimi"}, "reply_to_user": {"reputation": 1874, "user_id": 2917873, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qeYA1.jpg?s=128&g=1", "display_name": "Edd", "link": "https://stackoverflow.com/users/2917873/edd"}, "edited": false, "score": 0, "creation_date": 1422449607, "post_id": 28187126, "comment_id": 44752524, "body": "Whoops! Sorry, misunderstood there. I do use the timesheet object in actual code I&#39;m using, but I just kept the snippet minimal, because the other stuff is irrelevant."}], "answers": [{"comments": [{"owner": {"reputation": 1035, "user_id": 1701454, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b0b664c3bcfd26183754f806e3ee4e4a?s=128&d=identicon&r=PG", "display_name": "Daniel Hakimi", "link": "https://stackoverflow.com/users/1701454/daniel-hakimi"}, "edited": false, "score": 0, "creation_date": 1423179199, "post_id": 28352306, "comment_id": 45055576, "body": "Sounds good. I also tired adding a directive and creating the check boxes in the module, I could actually change the state of the check box this way, but I couldn&#39;t figure out how to link it to the model. Maybe try and implement it this way and see if you can hook up the model correctly."}, {"owner": {"reputation": 1035, "user_id": 1701454, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b0b664c3bcfd26183754f806e3ee4e4a?s=128&d=identicon&r=PG", "display_name": "Daniel Hakimi", "link": "https://stackoverflow.com/users/1701454/daniel-hakimi"}, "edited": false, "score": 1, "creation_date": 1423437438, "post_id": 28352306, "comment_id": 45136663, "body": "Your solution is still giving me the same results I had before. The check box actually works as expected, but after it has been clicked the page refreshes. <code>$event.preventDefault();</code> stops the refresh, but doesn&#39;t allow interaction with the check box."}], "tags": [], "owner": {"reputation": 71, "user_id": 3807872, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nhpx9.gif?s=128&g=1", "display_name": "naiJenn", "link": "https://stackoverflow.com/users/3807872/naijenn"}, "is_accepted": false, "score": 0, "last_activity_date": 1423239670, "last_edit_date": 1495542124, "creation_date": 1423164188, "answer_id": 28352306, "question_id": 28187126, "link": "https://stackoverflow.com/questions/28187126/angular-ui-bootstrap-accordion-heading-not-working-correctly-with-checkbox/28352306#28352306", "title": "Angular UI Bootstrap accordion heading not working correctly with checkbox", "body": "<p>I believe your code would work, but it only works with Angularjs 1.2.x and ui-bootstrap-tpls version 0.11 (earlier versions may work).</p>\n\n<p>Your code is similar to the following post...</p>\n\n<p><a href=\"https://stackoverflow.com/a/24502123/3807872\">https://stackoverflow.com/a/24502123/3807872</a></p>\n\n<p>If you are using Angular 1.3.x, then you will want to add the stop propagation inside of the ng-click...</p>\n\n<pre><code>&lt;input type=\"checkbox\" ng-model=\"approvals.rejected\" ng-click=\"approvals.timesheetChecked($event);$event.stopPropagation();\"/&gt;\n</code></pre>\n\n<p>This example was in thanks to the following post...</p>\n\n<p><a href=\"https://stackoverflow.com/a/14545010/3807872\">https://stackoverflow.com/a/14545010/3807872</a></p>\n\n<p>This really worked for my situation as well.</p>\n"}, {"tags": [], "owner": {"reputation": 716, "user_id": 3782567, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/d911615dcdce6d33d2328315e49cd9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Shilan", "link": "https://stackoverflow.com/users/3782567/shilan"}, "is_accepted": false, "score": 0, "last_activity_date": 1440685673, "creation_date": 1440685673, "answer_id": 32252127, "question_id": 28187126, "link": "https://stackoverflow.com/questions/28187126/angular-ui-bootstrap-accordion-heading-not-working-correctly-with-checkbox/32252127#32252127", "title": "Angular UI Bootstrap accordion heading not working correctly with checkbox", "body": "<p>By the way, I don't know if you have fixed this issue but I have the same problem, however for displaying the right checked checkbox I've added this:</p>\n\n<pre><code>ng-checked=\"approvals.rejected == 'true'\"\n</code></pre>\n\n<p>and I only stopPropagation method.\nBut actually it doesn't work for the first click!</p>\n"}], "owner": {"reputation": 1035, "user_id": 1701454, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b0b664c3bcfd26183754f806e3ee4e4a?s=128&d=identicon&r=PG", "display_name": "Daniel Hakimi", "link": "https://stackoverflow.com/users/1701454/daniel-hakimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1209, "favorite_count": 2, "answer_count": 2, "score": 1, "last_activity_date": 1440685673, "creation_date": 1422431354, "last_edit_date": 1422483583, "question_id": 28187126, "link": "https://stackoverflow.com/questions/28187126/angular-ui-bootstrap-accordion-heading-not-working-correctly-with-checkbox", "title": "Angular UI Bootstrap accordion heading not working correctly with checkbox", "body": "<p>I'm using a check box in the heading of the accordion control in bootstrap, but the model will only update the first time it's clicked. Here's the HTML for the accordion:</p>\n\n<pre><code> &lt;accordion ng-repeat=\"timesheet in timesheets\"&gt;\n            &lt;accordion-group&gt;\n                &lt;accordion-heading&gt;\n                    Title\n                    &lt;input type=\"checkbox\" ng-model=\"approvals.rejected\" ng-click=\"approvals.timesheetChecked($event)\"/&gt;\n                &lt;/accordion-heading&gt;\n            &lt;/accordion-group&gt;\n  &lt;/accordion&gt;   \n</code></pre>\n\n<p>the click method is in my typescript controller:</p>\n\n<pre><code>timesheetChecked($event: Event) {\n    $event.stopPropagation();\n    $event.preventDefault();\n}\n</code></pre>\n\n<p>If I just use the stopPropagation() method by itself it updates the model correctly and the check box is checked, however, it will then refresh the page. The preventDefault() method stops this from happening, but then it will then only update the model once and not check the check box.</p>\n\n<p>I have tried using ng-bind and that will actually update the model with correctly, but it will not change the check box to checked.</p>\n\n<p>If I use the check box outside of the accordion it works as expected and I have no problems with it. I'm not really sure what I am doing wrong here?</p>\n"}, {"tags": ["json", "angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1865, "user_id": 1507899, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TSPqo.jpg?s=128&g=1", "display_name": "RJB", "link": "https://stackoverflow.com/users/1507899/rjb"}, "edited": false, "score": 0, "creation_date": 1422398322, "post_id": 28181192, "comment_id": 44731951, "body": "That&#39;s what I suspected, but something about your solution / the way you said it made a lightbulb go off.  It&#39;s not necessary to manually reflect the injected object unto the constructed object.  I&#39;ll mark as the answer if you can edit from <code>vm.foo = new Foo(foo);</code> to <code>vm.foo = new Foo(); angular.extend(vm.foo, foo);</code>  :-)"}, {"owner": {"reputation": 1865, "user_id": 1507899, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TSPqo.jpg?s=128&g=1", "display_name": "RJB", "link": "https://stackoverflow.com/users/1507899/rjb"}, "edited": false, "score": 0, "creation_date": 1422398341, "post_id": 28181192, "comment_id": 44731963, "body": "Good synopsis of angular.extend and/or angular.copy: <a href=\"http://stackoverflow.com/questions/16797659/jquery-extend-vs-angular-extend\" title=\"jquery extend vs angular extend\">stackoverflow.com/questions/16797659/&hellip;</a>"}, {"owner": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "reply_to_user": {"reputation": 1865, "user_id": 1507899, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TSPqo.jpg?s=128&g=1", "display_name": "RJB", "link": "https://stackoverflow.com/users/1507899/rjb"}, "edited": false, "score": 1, "creation_date": 1422398519, "post_id": 28181192, "comment_id": 44732049, "body": "@RJB There may be some merit in the approach I originally posted, so I&#39;ve edited my answer to additionally include your suggestion."}], "tags": [], "owner": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "is_accepted": true, "score": 2, "last_activity_date": 1422398448, "last_edit_date": 1422398448, "creation_date": 1422397532, "answer_id": 28181192, "question_id": 28180950, "link": "https://stackoverflow.com/questions/28180950/inject-angularjs-object-as-typescript-class-methods-missing/28181192#28181192", "title": "Inject AngularJS object as TypeScript class (methods missing)", "body": "<p>Yes, as far as AngularJS is concerned, it's just passing any old object into your controller function. TypeScript provides the syntactical sugar for the <code>Foo</code> class within your code, but it's not going to give an object a <code>run()</code> method if it doesn't have one.</p>\n\n<p>You could create a copy constructor for your <code>Foo</code> type:</p>\n\n<pre><code>constructor(foo?: Foo) {\n    if(foo) {\n        this.typeName = foo.typeName;\n        this.displayName = foo.displayName;\n    }\n}\n</code></pre>\n\n<p>And then do this in your controller:</p>\n\n<pre><code>constructor(foo: Foo) {\n    var vm = this;\n    vm.foo = new Foo(foo);\n    vm.foo.run();\n}\n</code></pre>\n\n<p>Alternatively, you could skip the copy constructor approach and use <code>angular.extend()</code>:</p>\n\n<pre><code>constructor(foo: Foo) {\n    var vm = this;\n    vm.foo = new Foo();\n    angular.extend(vm.foo, foo);\n    vm.foo.run();\n}\n</code></pre>\n"}], "owner": {"reputation": 1865, "user_id": 1507899, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TSPqo.jpg?s=128&g=1", "display_name": "RJB", "link": "https://stackoverflow.com/users/1507899/rjb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 748, "favorite_count": 0, "accepted_answer_id": 28181192, "answer_count": 1, "score": 1, "last_activity_date": 1422398448, "creation_date": 1422396513, "question_id": 28180950, "link": "https://stackoverflow.com/questions/28180950/inject-angularjs-object-as-typescript-class-methods-missing", "title": "Inject AngularJS object as TypeScript class (methods missing)", "body": "<p>The Angular gets some JSON from a service as part of the route resolve.</p>\n\n<p>The JSON is injected into the controller as an Angular-ish deserialized object.</p>\n\n<p>The properties of the object line up with the provided TypeScript class, so <code>vm.foo.displayName</code> is successfully displayed on the html page for example.</p>\n\n<p>But I think the methods defined in the TypeScript class are nowhere to be found, so when I try to call <code>vm.foo.run()</code>, the console prints the error: <strong>TypeError: Object doesn't support property or method 'run'</strong> </p>\n\n<pre><code>module app.Samples {\n\n    export class Foo {\n        public typeName: string;\n        public displayName: string;\n\n        public run(): void {\n            alert(\"Running!\");\n        }\n    }\n}\n\nmodule app.Samples {\n\n     interface IFoobarScope {\n         foo: Foo;\n     }\n\n     class FoobarController implements IFoobarScope {\n         foo: Foo;\n\n         static $inject = ['foo'];\n         constructor(foo: Foo) {\n             var vm = this;\n             vm.foo = foo;\n             vm.foo.run();\n         }\n     }\n\n     angular\n         .module('app.Samples')\n         .controller('app.Samples.FoobarController', FoobarController);\n }\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 12982, "user_id": 234288, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/59527fa76c2b1cd0fc3ac48ff2e781fb?s=128&d=identicon&r=PG", "display_name": "Tim Lovell-Smith", "link": "https://stackoverflow.com/users/234288/tim-lovell-smith"}, "edited": false, "score": 0, "creation_date": 1422381110, "post_id": 28176653, "comment_id": 44722746, "body": "I notice the prop.forEach() comes up as a type error for me - I guesss because Html5.d.ts doesn&#39;t define a forEach operator on StringMap&lt;T&gt;."}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "reply_to_user": {"reputation": 12982, "user_id": 234288, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/59527fa76c2b1cd0fc3ac48ff2e781fb?s=128&d=identicon&r=PG", "display_name": "Tim Lovell-Smith", "link": "https://stackoverflow.com/users/234288/tim-lovell-smith"}, "edited": false, "score": 1, "creation_date": 1422381332, "post_id": 28176653, "comment_id": 44722858, "body": "<code>forEach</code> is a member of <code>Array</code>, not <code>Object</code>. A plain object <code>{}</code> does not have <code>forEach</code> in any standard runtime."}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 1, "last_activity_date": 1422380528, "creation_date": 1422380528, "answer_id": 28176653, "question_id": 28176454, "link": "https://stackoverflow.com/questions/28176454/idiomatic-typescript-to-iterate-foreach-key-of-a-stringmapt/28176653#28176653", "title": "Idiomatic typescript to iterate foreach key of a StringMap&lt;T&gt;?", "body": "<p>TypeScript doesn't have any special syntax for this. Use whichever method you would use in regular JavaScript.</p>\n"}], "owner": {"reputation": 12982, "user_id": 234288, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/59527fa76c2b1cd0fc3ac48ff2e781fb?s=128&d=identicon&r=PG", "display_name": "Tim Lovell-Smith", "link": "https://stackoverflow.com/users/234288/tim-lovell-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "accepted_answer_id": 28176653, "answer_count": 1, "score": 0, "last_activity_date": 1422380528, "creation_date": 1422379866, "question_id": 28176454, "link": "https://stackoverflow.com/questions/28176454/idiomatic-typescript-to-iterate-foreach-key-of-a-stringmapt", "title": "Idiomatic typescript to iterate foreach key of a StringMap&lt;T&gt;?", "body": "<p>I'm using typescript 1.4 and declared a property <code>prop: StringMap&lt;Foo&gt;</code>. Are you supposed to do the javascript way of iterating over the object keys, </p>\n\n<pre><code>for (var i in prop) {\n    if (prop.hasOwnProperty(i)) {\n    }\n}\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>prop.forEach(function(i) {\n});\n</code></pre>\n\n<p>(which doesn't work in some old browsers), or does typescript define any special syntax for doing this?</p>\n"}, {"tags": ["javascript", "unit-testing", "typescript", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 2, "creation_date": 1422382306, "post_id": 28176798, "comment_id": 44723423, "body": "I think the issue is actually that jest is calling the test function using <code>apply(null, args)</code>. The error message indicates that <code>this</code> is null (why jest would do that, I have no idea... <code>{}</code> seems like a better choice)"}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 1, "last_activity_date": 1422380987, "creation_date": 1422380987, "answer_id": 28176798, "question_id": 28174083, "link": "https://stackoverflow.com/questions/28174083/unit-testing-typescript-classes-with-jest-cannot-read-property-extends-of/28176798#28176798", "title": "Unit testing typescript classes with jest (&quot;Cannot read property &#39;__extends&#39; of null&quot;)", "body": "<p>This error is not that <code>__extends</code> is <code>null</code>, it describes one of two scenarios.</p>\n\n<p>Either you have forgotten to include the file that contains the base class, or you have included it after the file that contains the sub class.</p>\n\n<p>Practical example:</p>\n\n<pre><code>&lt;!-- Base class first --&gt;\n&lt;script src=\"b.js\"&gt;&lt;/script&gt;\n&lt;!-- Now the sub class --&gt;\n&lt;script src=\"a.js\"&gt;&lt;/script&gt;\n&lt;!-- Now things that depend on the sub class --&gt;\n&lt;script src=\"tests.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>If you did this in any other order, you'd get a problem.</p>\n\n<p>If you are compiling to a single file, you'll need to make sure your reference comments are in order to ensure the classes appear in the correct order in the combined file.</p>\n"}, {"comments": [{"owner": {"reputation": 819, "user_id": 1636718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e731d09a0c646c4864c436504c9caa55?s=128&d=identicon&r=PG", "display_name": "david", "link": "https://stackoverflow.com/users/1636718/david"}, "edited": false, "score": 0, "creation_date": 1422427430, "post_id": 28180334, "comment_id": 44740934, "body": "this is an issue with jest ... jest is setting up it&#39;s own require function"}, {"owner": {"reputation": 3872, "user_id": 3653785, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb5b117483b45173aadd5c231cead2a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Bellowe", "link": "https://stackoverflow.com/users/3653785/nathan-bellowe"}, "reply_to_user": {"reputation": 819, "user_id": 1636718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e731d09a0c646c4864c436504c9caa55?s=128&d=identicon&r=PG", "display_name": "david", "link": "https://stackoverflow.com/users/1636718/david"}, "edited": false, "score": 0, "creation_date": 1422477715, "post_id": 28180334, "comment_id": 44770166, "body": "Sorry, wasn&#39;t careful enough in my reading... thought I could help."}], "tags": [], "owner": {"reputation": 3872, "user_id": 3653785, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb5b117483b45173aadd5c231cead2a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Bellowe", "link": "https://stackoverflow.com/users/3653785/nathan-bellowe"}, "is_accepted": false, "score": 0, "last_activity_date": 1422394058, "creation_date": 1422394058, "answer_id": 28180334, "question_id": 28174083, "link": "https://stackoverflow.com/questions/28174083/unit-testing-typescript-classes-with-jest-cannot-read-property-extends-of/28180334#28180334", "title": "Unit testing typescript classes with jest (&quot;Cannot read property &#39;__extends&#39; of null&quot;)", "body": "<p>This error is the most common error I see when require.js isn't set up properly. Was requirejs properly loaded/configured? </p>\n\n<p>Nathan</p>\n"}], "owner": {"reputation": 819, "user_id": 1636718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e731d09a0c646c4864c436504c9caa55?s=128&d=identicon&r=PG", "display_name": "david", "link": "https://stackoverflow.com/users/1636718/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1374, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1422428109, "creation_date": 1422372666, "last_edit_date": 1422428109, "question_id": 28174083, "link": "https://stackoverflow.com/questions/28174083/unit-testing-typescript-classes-with-jest-cannot-read-property-extends-of", "title": "Unit testing typescript classes with jest (&quot;Cannot read property &#39;__extends&#39; of null&quot;)", "body": "<p>I am trying to test class \"a\" (which inherits from class \"b\") with jest. The typescript compiler prepends the file compiled javascript of \"a\" with</p>\n\n<pre><code>var __extends = this.__extends || function (d, b) { ... };\n</code></pre>\n\n<p>unfortunately <code>this</code> is null, when running the unit test, so I am getting</p>\n\n<pre><code>Cannot read property '__extends' of null\n</code></pre>\n\n<p>I am using jest-cli@0.2.1 to run the tests and typescript@1.4.1 to compile my typescript files.\nNormally <code>this</code> would point to window, when the files are run in a browser.</p>\n\n<p>Does someone know how to get around that issue?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 901, "user_id": 2026656, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-vwBWZ5dmZ3U/AAAAAAAAAAI/AAAAAAAAADI/fDfnyKfvdfk/photo.jpg?sz=128", "display_name": "Ivan Mjartan", "link": "https://stackoverflow.com/users/2026656/ivan-mjartan"}, "edited": false, "score": 0, "creation_date": 1422371666, "post_id": 28173555, "comment_id": 44716580, "body": "I am able get class name   GetType(): Type {             return new Type(this.constructor.toString().match(/function (\\w*)/)[1]);         }  like this but namespase ?"}], "answers": [{"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": false, "score": 1, "last_activity_date": 1422380136, "creation_date": 1422380136, "answer_id": 28176543, "question_id": 28173555, "link": "https://stackoverflow.com/questions/28173555/full-object-name/28176543#28176543", "title": "Full object name", "body": "<p>There isn't a way to do this. Classes in JavaScript are just values, and there's no mechanism to say \"where did I get this value from?\"</p>\n"}, {"comments": [{"owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 0, "creation_date": 1422407713, "post_id": 28179891, "comment_id": 44735248, "body": "I think this only works for exported properties though."}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 0, "creation_date": 1422460804, "post_id": 28179891, "comment_id": 44760067, "body": "@Thomas yeah, if the class or module isn&#39;t exported then it won&#39;t work."}], "tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 2, "last_activity_date": 1576248459, "last_edit_date": 1576248459, "creation_date": 1422392393, "answer_id": 28179891, "question_id": 28173555, "link": "https://stackoverflow.com/questions/28173555/full-object-name/28179891#28179891", "title": "Full object name", "body": "<p>No, it's not possible right out of the box. See <a href=\"https://stackoverflow.com/q/2980763/188246\">this answer</a> for more reference.</p>\n\n<p><strong>Possible Solutions</strong></p>\n\n<p>I'm not sure why you'd want or need to do this, but some possible solutions to your problem could be one of the following:</p>\n\n<ol>\n<li>Add a static property (ex. <code>fullyQualifiedName</code>) that contains a string with the fully qualified name in it. Write a unit test to run through your modules to ensure the name is correct on any class that has that static property.</li>\n<li>Add a static property again, but this time have your build script automatically fill in the name property.</li>\n<li>Have a method that runs at the start of your application that will fill in the static property of any classes in the module passed to it.</li>\n</ol>\n\n<p><strong>Example</strong></p>\n\n<p>An example of how to do this is the following:</p>\n\n<pre><code>module TestModule {\n    export class TestClass1 {\n        // initialize it to undefined or null to ensure the\n        // typescript compiler adds it as a property\n        static fullyQualifiedName: string = undefined as any;\n    }\n\n    export module OtherModule {\n        export class TestClass2 {\n            static fullyQualifiedName: string = undefined as any;\n        }\n\n        export class TestClass3 {\n        }\n    }\n}\n\nfunction fillFullyQualifiedName(m: any, name: string) {\n    // if it's a module\n    if (typeof m === \"object\") {\n        for (const propName of Object.keys(m)) {            \n            fillFullyQualifiedName(m[propName], name + \".\" + propName);\n        }\n    }\n    // else, if it's a class with the fullyQualifiedName property\n    else if (typeof m === \"function\" &amp;&amp; m.hasOwnProperty(\"fullyQualifiedName\")) {\n        m[\"fullyQualifiedName\"] = name;\n    }\n}\n\nfillFullyQualifiedName(TestModule, \"TestModule\");\n\n// some tests...\nTestModule.TestClass1.fullyQualifiedName === \"TestModule.TestClass1\";\nTestModule.OtherModule.TestClass2.fullyQualifiedName === \"TestModule.OtherModule.TestClass2\";\nTestModule.OtherModule.TestClass3[\"fullyQualifiedName\"] == null;\n</code></pre>\n\n<p>I didn't test that very much, but it should help you get the idea and apply it to any of the possible solutions I listed above.</p>\n"}, {"tags": [], "owner": {"reputation": 156, "user_id": 5221214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9616287f016218cad98bb5a84150f32d?s=128&d=identicon&r=PG&f=1", "display_name": "jbenker", "link": "https://stackoverflow.com/users/5221214/jbenker"}, "is_accepted": false, "score": 3, "last_activity_date": 1443208402, "last_edit_date": 1443208402, "creation_date": 1443207930, "answer_id": 32789022, "question_id": 28173555, "link": "https://stackoverflow.com/questions/28173555/full-object-name/32789022#32789022", "title": "Full object name", "body": "<p>You can use the TypeScript compiler API (requires Node.js), e.g.:</p>\n\n<pre><code>import ts = require(\"typescript\");    \n\nclass Sample\n    {\n        private program: ts.Program = null;\n\n        constructor(sourceFiles: string[])\n        {\n            var options: ts.CompilerOptions = { noLib: true };\n            var host = ts.createCompilerHost(options)\n            this.program = ts.createProgram(sourceFiles, options, host)\n            this.program.getSourceFiles().forEach(file =&gt; this.doSomethingWithTheFile(file));\n        }\n\n        ...\n\n        private getQualifiedName(node: ts.Node): string \n        {\n            var symbol = this.program.getTypeChecker().getSymbolAtLocation(node);\n            if (!symbol)\n                return null;\n            return this.program.getTypeChecker().getFullyQualifiedName(symbol);\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 901, "user_id": 2026656, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-vwBWZ5dmZ3U/AAAAAAAAAAI/AAAAAAAAADI/fDfnyKfvdfk/photo.jpg?sz=128", "display_name": "Ivan Mjartan", "link": "https://stackoverflow.com/users/2026656/ivan-mjartan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2053, "favorite_count": 0, "accepted_answer_id": 28179891, "answer_count": 3, "score": 1, "last_activity_date": 1576248751, "creation_date": 1422371028, "last_edit_date": 1576248751, "question_id": 28173555, "link": "https://stackoverflow.com/questions/28173555/full-object-name", "title": "Full object name", "body": "<p>Hi there I am new in typescript and i'd like to ask if it is possible get full name of class include module names </p>\n\n<p>I have module like this</p>\n\n<pre><code>module System {\n  export module Collections {\n    export class MyClass{\n    }\n  }\n}\n</code></pre>\n\n<p>than in another module i will create instance of MyClass</p>\n\n<pre><code>var inst = new System.Collections.MyClass();\ninst.AssemblyQualifiedName()\n</code></pre>\n\n<p>and result will be <code>System.Collections.MyClass</code></p>\n\n<p>I need this for unique identifying instance/types in collection and for creating instance from string ... </p>\n\n<p>Something like <code>AssemblyQualifiedName</code> in c# </p>\n"}, {"tags": ["node.js", "types", "module", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1571, "user_id": 121983, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5e9dc8469eaa285f95f7175407a9f758?s=128&d=identicon&r=PG", "display_name": "Ross Scott", "link": "https://stackoverflow.com/users/121983/ross-scott"}, "is_accepted": true, "score": 5, "last_activity_date": 1422369774, "creation_date": 1422369774, "answer_id": 28173132, "question_id": 28172976, "link": "https://stackoverflow.com/questions/28172976/how-to-access-a-typescript-definition-that-is-within-a-module/28173132#28173132", "title": "How to access a TypeScript definition that is within a module?", "body": "<p>In Typescript you need to use slightly different syntax to import modules:</p>\n\n<pre><code>import NodeURL = require('url');\n</code></pre>\n\n<p>You will now be able to access</p>\n\n<pre><code>NodeURL.Url\n</code></pre>\n"}], "owner": {"reputation": 1148, "user_id": 833910, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f17925cf81da78a1abf31b0d9dc86445?s=128&d=identicon&r=PG", "display_name": "moefinley", "link": "https://stackoverflow.com/users/833910/moefinley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1420, "favorite_count": 1, "accepted_answer_id": 28173132, "answer_count": 1, "score": 3, "last_activity_date": 1422369774, "creation_date": 1422369307, "question_id": 28172976, "link": "https://stackoverflow.com/questions/28172976/how-to-access-a-typescript-definition-that-is-within-a-module", "title": "How to access a TypeScript definition that is within a module?", "body": "<p>I'm trying to type something a the 'Url' object that is described within the <a href=\"https://github.com/borisyankov/DefinitelyTyped/tree/master/node\" rel=\"nofollow\">NodeJS definition</a>. But the 'Url' object is described under the 'url' module. Because it's under the module its not recognised by the compiler as a valid type.</p>\n\n<pre><code>///&lt;reference path='../../../Definitions/node.d.ts' /&gt;\n///&lt;reference path='../../../Definitions/node-webkit.d.ts' /&gt;\n///&lt;reference path='../../../Definitions/cheerio.d.ts' /&gt;\n\nvar NodeUrl = require('url');\n\nfunction findLinks($cheerio:Cheerio, internalOnly?:boolean, rootUrl?:url.Url):string[] {\n    //url.Url is not recognised, neither is Url or NodeUrl.Url\n}\n</code></pre>\n\n<p>The definition file is defining the following module (alongside the rest of NodeJS):</p>\n\n<pre><code>declare module \"url\" {\n    export interface Url {\n        href: string;\n        protocol: string;\n        auth: string;\n        hostname: string;\n        port: string;\n        host: string;\n        pathname: string;\n        search: string;\n        query: any; // string | Object\n        slashes: boolean;\n        hash?: string;\n        path?: string;\n    }\n\n    export interface UrlOptions {\n        protocol?: string;\n        auth?: string;\n        hostname?: string;\n        port?: string;\n        host?: string;\n        pathname?: string;\n        search?: string;\n        query?: any;\n        hash?: string;\n        path?: string;\n    }\n\n    export function parse(urlStr: string, parseQueryString?: boolean , slashesDenoteHost?: boolean ): Url;\n    export function format(url: UrlOptions): string;\n    export function resolve(from: string, to: string): string;\n}\n</code></pre>\n\n<p>How do I reference the Url type correctly?</p>\n\n<p>Thanks for any help.</p>\n"}, {"tags": ["javascript", "visual-studio-2013", "typescript", "resharper"], "comments": [{"owner": {"reputation": 8810, "user_id": 275751, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b867cc642d7cc9dc5696eeeb0ba946d2?s=128&d=identicon&r=PG", "display_name": "Piers Myers", "link": "https://stackoverflow.com/users/275751/piers-myers"}, "edited": false, "score": 0, "creation_date": 1422365384, "post_id": 28169882, "comment_id": 44712506, "body": "Not sure how Javascript/Typescript handles it but in C# the <code>!myObj.A</code> would be syntactically incorrect as it cannot implicitly convert type &#39;bool?&#39; to &#39;bool&#39;."}, {"owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "reply_to_user": {"reputation": 8810, "user_id": 275751, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b867cc642d7cc9dc5696eeeb0ba946d2?s=128&d=identicon&r=PG", "display_name": "Piers Myers", "link": "https://stackoverflow.com/users/275751/piers-myers"}, "edited": false, "score": 0, "creation_date": 1422366285, "post_id": 28169882, "comment_id": 44713036, "body": "@PiersMyers I know what you mean, but it&#39;s a completely different scenario."}, {"owner": {"reputation": 1571, "user_id": 121983, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5e9dc8469eaa285f95f7175407a9f758?s=128&d=identicon&r=PG", "display_name": "Ross Scott", "link": "https://stackoverflow.com/users/121983/ross-scott"}, "edited": false, "score": 1, "creation_date": 1422369933, "post_id": 28169882, "comment_id": 44715407, "body": "I think your analysis is right. !myObj.A will behave differently to myObj.A === false. I think ReSharper is wrong."}, {"owner": {"reputation": 10229, "user_id": 621316, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5203b24e171961e916d054b73d8b5b59?s=128&d=identicon&r=PG", "display_name": "Dave Cousineau", "link": "https://stackoverflow.com/users/621316/dave-cousineau"}, "edited": false, "score": 0, "creation_date": 1478108777, "post_id": 28169882, "comment_id": 68024649, "body": "This seems to still be an issue. I want to use a boolean field as a nullable boolean, but resharper keeps complaining if I exact compare to true and false. I guess I&#39;ll just turn that warning off."}], "answers": [{"comments": [{"owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 0, "creation_date": 1422373788, "post_id": 28173452, "comment_id": 44718018, "body": "Thanks, I just wasn&#39;t sure in myself at the end of the workday :)"}], "tags": [], "owner": {"reputation": 1571, "user_id": 121983, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5e9dc8469eaa285f95f7175407a9f758?s=128&d=identicon&r=PG", "display_name": "Ross Scott", "link": "https://stackoverflow.com/users/121983/ross-scott"}, "is_accepted": true, "score": 2, "last_activity_date": 1422370738, "creation_date": 1422370738, "answer_id": 28173452, "question_id": 28169882, "link": "https://stackoverflow.com/questions/28169882/comparison-to-false-is-equivalent-to-negating-value-is-it-a-resharper-bug/28173452#28173452", "title": "Comparison to FALSE is equivalent to negating value. Is it a ReSharper bug?", "body": "<p>As you said the two comparisons aren't equivalent:</p>\n\n<pre><code>var myObj = {A: false};\nmyObj.A === false //true;\nmyObj = {};\nmyObj.A === false //false;\n!myObj.A //true (not what you want)\n</code></pre>\n\n<p>So ReSharper is making an incorrect recommendation. </p>\n"}], "owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "accepted_answer_id": 28173452, "answer_count": 1, "score": 2, "last_activity_date": 1422370738, "creation_date": 1422359624, "question_id": 28169882, "link": "https://stackoverflow.com/questions/28169882/comparison-to-false-is-equivalent-to-negating-value-is-it-a-resharper-bug", "title": "Comparison to FALSE is equivalent to negating value. Is it a ReSharper bug?", "body": "<p>I'm using ReSharper 9, and its TypeScript features. I'm writing typescript code. I have an interface like this:</p>\n\n<pre><code>interface Test {\n  A?: boolean;\n  ...\n}\n</code></pre>\n\n<p>And then I write an <code>if</code> statement like this, to test if member <code>A</code> exists and exactly equals to <code>false</code>. (aka.: if it does not exist, I want to treat it as true.)</p>\n\n<pre><code>if (myObj.A === false) {\n  ...\n}\n</code></pre>\n\n<p>Then ReSharper gives me a hint about <strong>Comparison to False is equivalent to negating value</strong>, and if I accept the fix, it becomes</p>\n\n<pre><code>if (!myObj.A) {\n  ...\n}\n</code></pre>\n\n<p>which is clearly not equivalent, because will be true if A is not defined for example.</p>\n\n<p>What have I missed? Is it really equivalent at runtime?</p>\n"}, {"tags": ["jquery", "html", "html5-video", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2396, "user_id": 2147780, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/H4Kob.jpg?s=128&g=1", "display_name": "Yooz", "link": "https://stackoverflow.com/users/2147780/yooz"}, "edited": false, "score": 0, "creation_date": 1422335206, "post_id": 28163302, "comment_id": 44698060, "body": "Thanks for your answer, I just gave it a go, ketp only the &#39;$(&#39;.video-run&#39;).fadeIn(200);&#39; in &#39;oncanplaythrough&#39; and pasted the rest out of the event, also tried to remove the preload attribut and &#39;oncanplaythrough&#39; event , but no change. Also, I tried with IE 11 and Firefox 34,the video does not even start to play on &#39;.video-run&#39; click. I might try in a dummy page with only vanilla JS, see how it goes."}, {"owner": {"reputation": 6965, "user_id": 771724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g5CIQ.jpg?s=128&g=1", "display_name": "brianchirls", "link": "https://stackoverflow.com/users/771724/brianchirls"}, "reply_to_user": {"reputation": 2396, "user_id": 2147780, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/H4Kob.jpg?s=128&g=1", "display_name": "Yooz", "link": "https://stackoverflow.com/users/2147780/yooz"}, "edited": false, "score": 0, "creation_date": 1422375512, "post_id": 28163302, "comment_id": 44719139, "body": "What web server are you running?"}, {"owner": {"reputation": 2396, "user_id": 2147780, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/H4Kob.jpg?s=128&g=1", "display_name": "Yooz", "link": "https://stackoverflow.com/users/2147780/yooz"}, "edited": false, "score": 0, "creation_date": 1422396245, "post_id": 28163302, "comment_id": 44730884, "body": "IIS Express with VS 2012"}], "tags": [], "owner": {"reputation": 6965, "user_id": 771724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g5CIQ.jpg?s=128&g=1", "display_name": "brianchirls", "link": "https://stackoverflow.com/users/771724/brianchirls"}, "is_accepted": false, "score": 1, "last_activity_date": 1422375835, "last_edit_date": 1422375835, "creation_date": 1422333199, "answer_id": 28163302, "question_id": 28161573, "link": "https://stackoverflow.com/questions/28161573/html5-video-play-pause-issue/28163302#28163302", "title": "HTML5 Video Play/Pause issue", "body": "<p>What <em>may</em> be happening here is that you could be stacking up multiple click handlers that are all running and fighting with each other, because the \"canplaythrough\" event can run more than once.</p>\n\n<p>If the network is a little bit slow, then what could happen is that once the video starts playing, it catches up to the amount that's buffered until it pauses for a brief moment. When that happens, the <code>readyState</code> falls back down to a lower value. Then, once more video has buffered, the <code>readyState</code> comes back up to 4 and \"canplaythrough\" fires again.</p>\n\n<p>If that happens, then you will start running into problems. First, you'll expect to <code>'.video-run'</code> appear again. Then, you'll have a second click handler attached to it. If you click on it, you'll also have a second click handler attached to <code>'.video-play-pause'</code>. So every time you click on that button after that, the video will play and then immediately pause. This whole process could repeat itself, each time adding more and more click handlers.</p>\n\n<p>What I recommend is setting up all the click handlers one time right at the beginning. If you still want to use <code>oncanplaythrough</code> to fade the first button in and the click on the big button to fade in the small button in, that's fine. But you should remove those event handlers after the first time you run them.</p>\n\n<p><strong>Update:</strong>\nA note on the \"canplaythrough\" event. This event should not fire until there's enough data buffered that the browser estimates you can play straight through the entire video without running out of data. It doesn't mean you have ALL the data - just that it's coming in fast enough that you probably won't catch up to it. There's no guarantee that this event will fire before you actively start playing the video, if ever. And Chrome is known to be <a href=\"https://code.google.com/p/chromium/issues/detail?id=73609\" rel=\"nofollow\">aggressive with this event</a>, firing it almost immediately, where other browsers wait longer.</p>\n"}, {"comments": [{"owner": {"reputation": 1631, "user_id": 2824395, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/ysmi9.jpg?s=128&g=1", "display_name": "Tessa", "link": "https://stackoverflow.com/users/2824395/tessa"}, "edited": false, "score": 0, "creation_date": 1443713391, "post_id": 28181565, "comment_id": 53612415, "body": "Set preload=&quot;none&quot; and cleared chrome&#39;s browser cache and I still can&#39;t seem to get mine to work. Mine is just as simple, except I&#39;m using CSS3 transitions to fade it in rather than JS."}], "tags": [], "owner": {"reputation": 2396, "user_id": 2147780, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/H4Kob.jpg?s=128&g=1", "display_name": "Yooz", "link": "https://stackoverflow.com/users/2147780/yooz"}, "is_accepted": true, "score": 0, "last_activity_date": 1422399228, "last_edit_date": 1495542572, "creation_date": 1422399228, "answer_id": 28181565, "question_id": 28161573, "link": "https://stackoverflow.com/questions/28161573/html5-video-play-pause-issue/28181565#28181565", "title": "HTML5 Video Play/Pause issue", "body": "<p>So I manage to fixe the problem by setting up preload=\"none\" as suggested there:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/16464123/html5-video-controls-cannot-play-after-pause-in-chrome-only\">HTML5 video controls - Cannot play after pause in chrome only</a></p>\n\n<p>AND clear the cache of Google Chrome (which I did not try before I posted the question). </p>\n\n<p>Tried few times, it looks fine now.</p>\n"}], "owner": {"reputation": 2396, "user_id": 2147780, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/H4Kob.jpg?s=128&g=1", "display_name": "Yooz", "link": "https://stackoverflow.com/users/2147780/yooz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2931, "favorite_count": 1, "accepted_answer_id": 28181565, "answer_count": 2, "score": 0, "last_activity_date": 1422399228, "creation_date": 1422320598, "last_edit_date": 1495540265, "question_id": 28161573, "link": "https://stackoverflow.com/questions/28161573/html5-video-play-pause-issue", "title": "HTML5 Video Play/Pause issue", "body": "<p>I am trying to build a really simple HTML5 video player :</p>\n\n<p>HTML </p>\n\n<pre><code>&lt;div class=\"col-lg-12 video\"&gt;\n  &lt;video id=\"format-video\" width=\"100%\" height=\"100%\" loop=\"loop\" preload=\"auto\"&gt;\n    &lt;source src=\"Video-AOM.mp4\" type=\"video/mp4\" /&gt;\n    &lt;img src=\"images/fallback.jpg\"  /&gt;\n  &lt;/video&gt;\n  &lt;img class=\"background\" src=\"images/video-background.jpg\" /&gt;\n  &lt;div class=\"video-run\"&gt;&lt;/div&gt;\n  &lt;div class=\"video-play-pause\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>TYPESCRIPT</p>\n\n<pre><code>$(document).ready(function () {\n   if ($('#format-video').length &gt; 0) {\n    var video = &lt;HTMLVideoElement&gt; document.getElementById('format-video');\n    video.oncanplaythrough = function () {\n        $('.video-run').fadeIn(200);\n        $('.video-run').click(function () {\n            $(\".video .background\").fadeOut(200);\n            $('.video-run').fadeOut(200);\n            $('.video-play-pause').fadeIn(200);\n            $('.video-play-pause').on('click',function () {\n                if (video.paused) {\n                    video.play();\n                }\n                else {\n                    video.pause();\n                }\n            })\n            video.play();\n        });\n    }\n});\n</code></pre>\n\n<p>So when the video can \"playthrough\", a big \"play\" button fades in, when cliked in fades out and a small pause/play fades in. </p>\n\n<p>If I click the button play/pause, the pause works but then if I click it again it either plays only few seconds and freezes or nothing happens.</p>\n\n<p>I am testing on Chrome 40.0.2214.91 m.</p>\n\n<p>I tried to set-up preload=\"none\" as suggested there :<a href=\"https://stackoverflow.com/questions/16464123/html5-video-controls-cannot-play-after-pause-in-chrome-only\">HTML5 video controls - Cannot play after pause in chrome only</a>\nbut no success.</p>\n\n<p>Not sure if there is a solution.</p>\n"}, {"tags": ["angularjs", "typescript", "jasmine", "sinon", "httpbackend"], "owner": {"reputation": 11, "user_id": 4316561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a16e586ac76885571f3ba600f95a00a?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/4316561/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 500, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1422313160, "creation_date": 1422313160, "question_id": 28160319, "link": "https://stackoverflow.com/questions/28160319/how-do-you-catch-parameters-in-httpbackend-expectpost", "title": "How do you catch parameters in httpBackend.expectPOST?", "body": "<h2>AngularJS / Typescript/ AMD / RequireJS / Jasmine / Karma / Sinon</h2>\n\n<p>I have an AngularJS custom logging service that builds a private internal queue of log messages.  This internal queue only counts messages that are not of type debug in its queue.  At some point it will send this private queue to an API (handled by a message size limit and the count previously mentioned).  This logic is also private.  I need to catch that http.POST and examine the object passed to it to make sure that no debugs were sent in the object that contains all the messages.  </p>\n\n<p>This is unit testing, so I have access to httpBackEnd, but I've not clue how to get at the args.  I also have jasmine spy's, and even sinon, but none of the methods I've tried so far have yielded results.</p>\n\n<pre><code>module MyLogClass {\n  export class Logger implements ng.ILogService {\n     private _currentSize: number = 0;\n     private _currentBatch: myLoggingType[] = new Array&lt;myLoggingType&gt;();\n     public totalNumberOfMessages: number = 0;\n     public includeDebug: boolean = false;         \n     .\n     .\n     .\n     //Overriding all the Angular log functions (public functions)\n     //Logic for striping out debug messages if needed (private functions)\n     //Logic for handling when to send in here (private functions)\n     private SendLogs = () =&gt; {\n          this.http.post('someurl', (this._currentBatch))\n            .success( (data: any[], status, headers, config) =&gt; {\n               console.log('logs sent');\n            })\n            .error( (data: any[], status, headers, config) =&gt; {\n               //error handling call\n            });\n     }\n  }\n}\n</code></pre>\n\n<p>So that's a quick blurb that describes the gist of my logging replacement for Angulars.  And here's some sample code of what I'm trying to achieve with my Unit Test.</p>\n\n<pre><code>beforeEach(angular.mock.inject(function ($http: ng.IHttpService, $httpBackend: ng.IHttpBackendService) {                    \n        localService = new MyLogService();\n        localService.LogHttp = $http; \n        httpBackend = $httpBackend;            \n    }));\n it('should strip Debug messages, then send messages and reset size', () =&gt; {\n        localService.totalNumberOfMessages = 50;\n\n        // Fill the Queue, make sure to put in some debug messages.\n        var i = 0;\n        // Right here I need to figure out how to catch the data sent to that URL \n        // The code I'm showing here is for example, I don't know what this expectPOST should look like.  \n        httpBackend.expectPOST('someurl', data).respond('passed');\n        while (i &lt; 50) {\n            // generating fake calls to the log service\n            i++;\n        }\n\n        httpBackend.flush();\n        // Check the data sent to make sure there were no debug messages in it.  Only how?\n</code></pre>\n"}, {"tags": ["unit-testing", "typescript", "sinon"], "answers": [{"comments": [{"owner": {"reputation": 865, "user_id": 4279423, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/I72D6.png?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4279423/brandon"}, "edited": false, "score": 1, "creation_date": 1422541352, "post_id": 28156966, "comment_id": 44797253, "body": "Yeah, I did something similar to this.  I also learned I was using the sinon object incorrectly, I didn&#39;t realize all I needed to do is use the original MyService instance in calls and it uses the sinon mocks/stubs.  What you have put here seems correct for what I was asking in any case, thanks!"}, {"owner": {"reputation": 865, "user_id": 4279423, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/I72D6.png?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4279423/brandon"}, "edited": false, "score": 0, "creation_date": 1424379277, "post_id": 28156966, "comment_id": 45536440, "body": "I was back to this and it seems like it doesn&#39;t work.  myServiceMock doesn&#39;t appear like it has any methods.  Any ideas?"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 865, "user_id": 4279423, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/I72D6.png?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4279423/brandon"}, "edited": false, "score": 0, "creation_date": 1424459197, "post_id": 28156966, "comment_id": 45572447, "body": "Have you given it an expectation? <code>myServiceMock.expects(&quot;doSomething&quot;).returns(42);</code>"}, {"owner": {"reputation": 865, "user_id": 4279423, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/I72D6.png?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4279423/brandon"}, "edited": false, "score": 0, "creation_date": 1425060469, "post_id": 28156966, "comment_id": 45821595, "body": "I tried, but the issue seem to be that sinon can only mock and instance of the object and not the type based on the constructor.  I guess that makes sense really, since mocking a javascript type would be difficult.  But, that leaves me still have to construct an instance of this class ( with mocks passed into the ctor ), and then mocking the instance.  I can&#39;t think of anything to do, but just create the mocks by hand."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 19, "last_activity_date": 1425214006, "last_edit_date": 1425214006, "creation_date": 1422299290, "answer_id": 28156966, "question_id": 28156057, "link": "https://stackoverflow.com/questions/28156057/how-do-i-use-sinon-with-typescript/28156966#28156966", "title": "How do I use Sinon with Typescript?", "body": "<p>You may need to use an <code>&lt;any&gt;</code> type assertion to make the type wide before you narrow it to your specific type:</p>\n\n<pre><code>var myServiceMock: MyStuff.MyService = \n    &lt;MyStuff.MyService&gt; &lt;any&gt; (sinon.mock(MyStuff.MyService));\n</code></pre>\n\n<p>Just to clarify one behaviour of sinon - although you pass in <code>MyStuff.MyService</code>, whatever you pass to the <code>mock</code> method is only used to provide better error messages.</p>\n\n<p>If you want the mock to have methods and properties, <a href=\"http://sinonjs.org/docs/\" rel=\"noreferrer\">you need to add them</a>.</p>\n\n<p>If you want automatically created fakes, you can grab the <code>FakeFactory</code> from <a href=\"https://github.com/Steve-Fenton/tsUnit/blob/master/tsUnit/Scripts/tsUnit/tsUnit.ts\" rel=\"noreferrer\">tsUnit</a>, which creates a fake version with some default values that you can opt to override - in JavaScript this is pretty easy stuff (plus by not using too much mock functionality, you can ensure you are testing behaviour rather than implementation).</p>\n\n<p>Example use of <code>FakeFactory</code>:</p>\n\n<pre><code>var target = tsUnit.FakeFactory.getFake&lt;RealClass&gt;(RealClass);\nvar result = target.run();\nthis.areIdentical(undefined, result);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11259, "user_id": 453314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6462e33c285d4c2928523458bf3bb401?s=128&d=identicon&r=PG", "display_name": "Westy92", "link": "https://stackoverflow.com/users/453314/westy92"}, "edited": false, "score": 3, "creation_date": 1482256766, "post_id": 38152098, "comment_id": 69697106, "body": "You can also use <code>import * as sinonChai from &#39;sinon-chai&#39;;</code> assuming you have the types installed: <code>npm i --save-dev @types&#47;sinon-chai</code>."}], "tags": [], "owner": {"reputation": 3930, "user_id": 264502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nLTLo.png?s=128&g=1", "display_name": "Jan Molak", "link": "https://stackoverflow.com/users/264502/jan-molak"}, "is_accepted": false, "score": 26, "last_activity_date": 1539988704, "last_edit_date": 1539988704, "creation_date": 1467398592, "answer_id": 38152098, "question_id": 28156057, "link": "https://stackoverflow.com/questions/28156057/how-do-i-use-sinon-with-typescript/38152098#38152098", "title": "How do I use Sinon with Typescript?", "body": "<p>Sinon can create a stub based on a constructor quite easily if, instead of <code>mock</code>, you use the <code>createStubInstance</code> method.</p>\n\n<p>An example using <a href=\"https://github.com/mochajs/mocha\" rel=\"noreferrer\">mocha</a>, <a href=\"http://chaijs.com/\" rel=\"noreferrer\">chai</a>, <a href=\"http://sinonjs.org/\" rel=\"noreferrer\">sinon</a> and <a href=\"https://github.com/domenic/sinon-chai\" rel=\"noreferrer\">sinon-chai</a>, could look like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as sinon from 'sinon';\nimport * as chai from 'chai';\n\n// ... imports for the classes under test\n\nconst expect    = chai.expect;\nconst sinonChai = require(\"sinon-chai\");\n\nchai.use(sinonChai);\n\ndescribe('MyController', () =&gt; {\n    it('uses MyService', () =&gt; {\n\n        let myService  = sinon.createStubInstance(MyStuff.MyService),\n            controller = new MyStuff.MyController(myService as any, ...);\n\n        // ... perform an action on the controller \n        // that calls myService.aMethodWeAreInterestedIn\n\n        // verify if the method you're interested in has been called if you want to\n        expect(myService.aMethodWeAreInterestedIn).to.have.been.called;\n    });\n});\n</code></pre>\n\n<p>I've <a href=\"https://janmolak.com/mocking-javascript-a-little-26efb5f7f52a#.ulfyw64hq\" rel=\"noreferrer\">published an article</a>, which you might find useful if you'd like to learn more about the different test doubles and how to use them with Sinon.js.</p>\n\n<p>Hope this helps!</p>\n\n<p>Jan</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 6623864, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XsCFxIwt0zo/AAAAAAAAAAI/AAAAAAAACOM/hBHZWhoQ5hE/photo.jpg?sz=128", "display_name": "Milos Josic", "link": "https://stackoverflow.com/users/6623864/milos-josic"}, "is_accepted": false, "score": 2, "last_activity_date": 1575180790, "creation_date": 1575180790, "answer_id": 59123006, "question_id": 28156057, "link": "https://stackoverflow.com/questions/28156057/how-do-i-use-sinon-with-typescript/59123006#59123006", "title": "How do I use Sinon with Typescript?", "body": "<p>In Typescript this can be achieved by using sinon.createStubInstance and SinonStubbedInstance class.</p>\n\n<p>Example:</p>\n\n<pre><code>let documentRepository: SinonStubbedInstance&lt;DocumentRepository&gt;;\n\ndocumentRepository = sinon.createStubInstance(DocumentRepository);\n</code></pre>\n\n<p>Now you have a full intellisense for working with all stubbed methods of this class.</p>\n\n<p>Example Arrange:</p>\n\n<pre><code>documentRepository.delete.resolves({deletedCount: 1});\n\ndocumentRepository.update.throws(error);\n</code></pre>\n\n<p>Example Assert:</p>\n\n<pre><code>sinon.assert.calledOnce(documentRepository.update);\n</code></pre>\n\n<p>There is only one place where you would need to perform type casting and that is the initiallization of the class you want to unit test.</p>\n\n<p>Example: </p>\n\n<pre><code>documentsController =\n  new DocumentsController(\n    userContext,\n    documentRepository as unknown as DocumentRepository);\n</code></pre>\n\n<p>Hope this will help.\nMore on this <a href=\"https://medium.com/@milos.d.josic/mocking-with-sinon-in-typescript-7e6598a3975f\" rel=\"nofollow noreferrer\">article</a>.    </p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 12397979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/beeed603b806dba03a70c2a0ebc47c9f?s=128&d=identicon&r=PG", "display_name": "Matt Wynne", "link": "https://stackoverflow.com/users/12397979/matt-wynne"}, "is_accepted": false, "score": 0, "last_activity_date": 1587251866, "creation_date": 1587251866, "answer_id": 61297551, "question_id": 28156057, "link": "https://stackoverflow.com/questions/28156057/how-do-i-use-sinon-with-typescript/61297551#61297551", "title": "How do I use Sinon with Typescript?", "body": "<p>Use <a href=\"https://www.npmjs.com/package/ts-sinon\" rel=\"nofollow noreferrer\">ts-sinon</a>.</p>\n\n<p>It lets you:</p>\n\n<ul>\n<li>stub objects</li>\n<li>stub interfaces</li>\n</ul>\n"}], "owner": {"reputation": 865, "user_id": 4279423, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/I72D6.png?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4279423/brandon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35885, "favorite_count": 3, "accepted_answer_id": 28156966, "answer_count": 4, "score": 29, "last_activity_date": 1587251866, "creation_date": 1422295734, "last_edit_date": 1483618309, "question_id": 28156057, "link": "https://stackoverflow.com/questions/28156057/how-do-i-use-sinon-with-typescript", "title": "How do I use Sinon with Typescript?", "body": "<p>If I use sinon with typescript then how do I cast the sinon mock to an instance of my object?</p>\n\n<p>For instance a SinonMock would be returned but my controller under test may require a specific service passed in to its constructor.</p>\n\n<pre><code>var myServiceMock: MyStuff.MyService = &lt;MyStuff.MyService (sinon.mock(MyStuff.MyService));\n\ncontrollerUnderTest = new MyStuff.MyController(myServiceMock, $log);\n</code></pre>\n\n<p>Can sinon be used with Typescript?</p>\n"}, {"tags": ["typescript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 1027, "user_id": 1859442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/449e681a5995cf223e52e03750cebf4d?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1859442/benjamin"}, "is_accepted": false, "score": 1, "last_activity_date": 1422295158, "creation_date": 1422295158, "answer_id": 28155905, "question_id": 28152215, "link": "https://stackoverflow.com/questions/28152215/reference-external-modules-in-typescript/28155905#28155905", "title": "Reference External Modules in TypeScript", "body": "<p>Assuming you are using external modules (which means that the module ID depends on the file name)</p>\n\n<p>Instead of writing in ../../typings/NotYetConvertedModules.d.ts</p>\n\n<pre><code>declare module \"A\" {\n    export function foo();\n    export function bar();\n}\n</code></pre>\n\n<p>you should rather simply write in ../someFolder/A.d.ts</p>\n\n<pre><code>export function foo();\nexport function bar();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 9, "last_activity_date": 1422300301, "creation_date": 1422300301, "answer_id": 28157261, "question_id": 28152215, "link": "https://stackoverflow.com/questions/28152215/reference-external-modules-in-typescript/28157261#28157261", "title": "Reference External Modules in TypeScript", "body": "<p>When you declare a module name in quotes, the quoted name becomes the alias. So when you write...</p>\n\n<pre><code>declare module 'A' { //...\n</code></pre>\n\n<p>You import it using the following (no matter where you are importing it):</p>\n\n<pre><code>import a = require('A');\n</code></pre>\n\n<p>This is useful when creating definitions for node.js modules, for example.</p>\n\n<p>You cannot use a string alias with a relative path, so you can't have:</p>\n\n<pre><code>declare module '../SomeFolder/A' { //...\n</code></pre>\n\n<p>But you can place a definition file named <code>a.d.ts</code> in the appropriate location (SomeFolder).</p>\n\n<p>The file <code>./SomeFolder/a.d.ts</code> looks like this:</p>\n\n<pre><code>declare module A {\n    export function foo();\n    export function bar();\n}\n\nexport = A;\n</code></pre>\n\n<p>The file <code>./Scripts/AnotherFolder/example.ts</code> looks like this:</p>\n\n<pre><code>import A = require('../../SomeFolder/A'); \n</code></pre>\n\n<p>You will need to adjust the path based on your exact folder structure, but you can see the idea. Importantly, you don't need the <code>reference</code> comment when importing the module from the same folder as the definition file.</p>\n"}, {"tags": [], "owner": {"reputation": 3872, "user_id": 3653785, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb5b117483b45173aadd5c231cead2a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Bellowe", "link": "https://stackoverflow.com/users/3653785/nathan-bellowe"}, "is_accepted": false, "score": 0, "last_activity_date": 1422394515, "creation_date": 1422394515, "answer_id": 28180459, "question_id": 28152215, "link": "https://stackoverflow.com/questions/28152215/reference-external-modules-in-typescript/28180459#28180459", "title": "Reference External Modules in TypeScript", "body": "<p>I try to shy away from relative paths when using typescript for references. Maybe it is just me, but I find it buggy (for referencing). </p>\n\n<p>In your require.js configuration, you can map the request string to a predefined list of files, or some similar system. For example <code>require(\"document.text\")</code> could see <code>\"document\"</code> and map that to <code>src/net/unicorns/document/text.js</code></p>\n\n<p>This allows you to debug issues quickly too (typescript compiler errors are annoying). </p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 819, "user_id": 1636718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e731d09a0c646c4864c436504c9caa55?s=128&d=identicon&r=PG", "display_name": "david", "link": "https://stackoverflow.com/users/1636718/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6522, "favorite_count": 0, "accepted_answer_id": 28157261, "answer_count": 3, "score": 4, "last_activity_date": 1422394515, "creation_date": 1422283056, "question_id": 28152215, "link": "https://stackoverflow.com/questions/28152215/reference-external-modules-in-typescript", "title": "Reference External Modules in TypeScript", "body": "<p>I have an application which I want to convert step by step to TypeScript. Currently we are using browserify to generate a bundle.</p>\n\n<p>When converting to TypeScript I am having some modules which have not yet been converted. In the <a href=\"http://www.typescriptlang.org/Handbook#modules-working-with-other-javascript-libraries\" rel=\"nofollow\">TypeScript Handbook</a> it says that I can reference external modules, when specifying a type definition file for it.</p>\n\n<p>I have a module A.js which is not yet converted to TypeScript. I have a global type definition file which defines</p>\n\n<pre><code>declare module \"A\" {\n    export function foo();\n    export function bar();\n}\n</code></pre>\n\n<p>I am importing my module like this:</p>\n\n<pre><code>///&lt;reference path=\"../../typings/NotYetConvertedModules.d.ts\" /&gt;\nimport A = require('../someFolder/A');\n</code></pre>\n\n<p>when compiling this I get </p>\n\n<pre><code>error TS2307: Cannot find external module '../someFolder/A'\n</code></pre>\n\n<p>When requiring it with <code>require('A')</code> the compilation step works but the module loader cannot find the file, since I am not having a global alias for it.</p>\n\n<p>Is there any way to solve this?</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 12881, "user_id": 732497, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9a2b84253079164fd16cb4195ad468d3?s=128&d=identicon&r=PG", "display_name": "David Laberge", "link": "https://stackoverflow.com/users/732497/david-laberge"}, "edited": false, "score": 0, "creation_date": 1423160167, "post_id": 28152032, "comment_id": 45045986, "body": "Close, the transpile stopped complainning with typescript 1.3, but once in javascript it would throw error. Typescript 1.4.1, won&#39;t let it go."}, {"owner": {"reputation": 860, "user_id": 106376, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be03bae36cd8f68c4865f727fee1dce7?s=128&d=identicon&r=PG", "display_name": "robmcm", "link": "https://stackoverflow.com/users/106376/robmcm"}, "edited": false, "score": 0, "creation_date": 1480422965, "post_id": 28152032, "comment_id": 68947446, "body": "You could use generics to get back a result of the same type you are cloning."}, {"owner": {"reputation": 3955, "user_id": 4412414, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qUwFM.png?s=128&g=1", "display_name": "megalucio", "link": "https://stackoverflow.com/users/4412414/megalucio"}, "edited": false, "score": 1, "creation_date": 1493166932, "post_id": 28152032, "comment_id": 74295192, "body": "Would you be abel to clarify how do you exactly use this? I included as a method of my object and then got an error saying is not a function..."}, {"owner": {"reputation": 1900, "user_id": 2616923, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/nmvrn.jpg?s=128&g=1", "display_name": "michali", "link": "https://stackoverflow.com/users/2616923/michali"}, "edited": false, "score": 1, "creation_date": 1497166311, "post_id": 28152032, "comment_id": 75957336, "body": "I am getting the following error: &quot;ERROR TypeError: this.constructor(...) is not a constructor&quot;"}, {"owner": {"reputation": 554, "user_id": 1827960, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ABmWI.jpg?s=128&g=1", "display_name": "Blair Connolly", "link": "https://stackoverflow.com/users/1827960/blair-connolly"}, "edited": false, "score": 3, "creation_date": 1564509213, "post_id": 28152032, "comment_id": 101051598, "body": "Did you just make a public example out of that customer?"}, {"owner": {"reputation": 465, "user_id": 2726844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oAHwB.gif?s=128&g=1", "display_name": "Vince I", "link": "https://stackoverflow.com/users/2726844/vince-i"}, "edited": false, "score": 0, "creation_date": 1572463070, "post_id": 28152032, "comment_id": 103571609, "body": "For me, &quot;Option 3: Object.create&quot; was the trick to get properties to copy over to the new object."}, {"owner": {"reputation": 1800, "user_id": 1885442, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1aa1fb55aeb2c530e2d4f13b90abf2e1?s=128&d=identicon&r=PG", "display_name": "Szczepan Ho\u0142yszewski", "link": "https://stackoverflow.com/users/1885442/szczepan-ho%c5%82yszewski"}, "edited": false, "score": 1, "creation_date": 1579935152, "post_id": 28152032, "comment_id": 105940205, "body": "Can someone TL;DR for me which which of the solutions given in all the answers preserve the OO type of the clone, i.e. <code>cloned instanceof MyClass === true</code>?"}, {"owner": {"reputation": 3123, "user_id": 8910547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fEm51.png?s=128&g=1", "display_name": "Inigo", "link": "https://stackoverflow.com/users/8910547/inigo"}, "reply_to_user": {"reputation": 465, "user_id": 2726844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oAHwB.gif?s=128&g=1", "display_name": "Vince I", "link": "https://stackoverflow.com/users/2726844/vince-i"}, "edited": false, "score": 0, "creation_date": 1587916813, "post_id": 28152032, "comment_id": 108692014, "body": "@VinceI The info for <code>Option 3: Object.create</code> is <b>misleading. It does <i>not</i> produce a copy.</b> &quot;The Object.create() method creates a new object, using an existing object as the prototype of the newly created object.&quot; Sure, this <i>behaves</i> ALMOST as if it were a copy, but not truly: If you change the prototype afterwards, the &quot;copy&quot; will inherit this changes!  This is perfect if you want one object to serve as the source of default values for another object, but not if you want an independent copy."}, {"owner": {"reputation": 3123, "user_id": 8910547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fEm51.png?s=128&g=1", "display_name": "Inigo", "link": "https://stackoverflow.com/users/8910547/inigo"}, "edited": false, "score": 0, "creation_date": 1587916958, "post_id": 28152032, "comment_id": 108692078, "body": "@Fenton <a href=\"https://stackoverflow.com/review/suggested-edits/25491504\">I had proposed changes to this answer to reflect my comment above</a> but the reviewers misunderstood it (I think) and rejected it. Can you as the author of the answer approve it? If necessary I can resubmit. Let me know."}, {"owner": {"reputation": 117, "user_id": 1966439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X4XTb.jpg?s=128&g=1", "display_name": "Javier", "link": "https://stackoverflow.com/users/1966439/javier"}, "edited": false, "score": 0, "creation_date": 1588152650, "post_id": 28152032, "comment_id": 108787612, "body": "the option 4 gives me the error:  <code>Element implicitly has an &#39;any&#39; type because expression of type &#39;string&#39; can&#39;t be used to index type &#39;{}&#39;.   No index signature with a parameter of type &#39;string&#39; was found on type &#39;{}&#39;.ts(7053) </code> in here <code>if (obj.hasOwnProperty(attr)) copy[attr] = deepCopy(obj[attr]);</code> Any way to solve it? Thank you"}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 317, "last_activity_date": 1592046960, "last_edit_date": 1592046960, "creation_date": 1422282436, "answer_id": 28152032, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/28152032#28152032", "title": "typescript - cloning object", "body": "<h1>Solving The Specific Issue</h1>\n\n<p>You can use a type assertion to tell the compiler that you know better:</p>\n\n<pre><code>public clone(): any {\n    var cloneObj = new (this.constructor() as any);\n    for (var attribut in this) {\n        if (typeof this[attribut] === \"object\") {\n            cloneObj[attribut] = this[attribut].clone();\n        } else {\n            cloneObj[attribut] = this[attribut];\n        }\n    }\n    return cloneObj;\n}\n</code></pre>\n\n<h1>Cloning</h1>\n\n<p>Bear in mind that sometimes it is better to write your own mapping - rather than being totally dynamic. However, there are a few \"cloning\" tricks you can use that give you difference effects.</p>\n\n<p>I will use the following code for all the subsequent examples:</p>\n\n<pre><code>class Example {\n  constructor(public type: string) {\n\n  }\n}\n\nclass Customer {\n  constructor(public name: string, public example: Example) {\n\n  }\n\n  greet() {\n    return 'Hello ' + this.name;\n  }\n}\n\nvar customer = new Customer('David', new Example('DavidType'));\n</code></pre>\n\n<hr>\n\n<p>Option 1: Spread</p>\n\n<p>Properties: <strong>Yes</strong><br>\nMethods: No<br>\nDeep Copy: No  </p>\n\n<pre><code>var clone = { ...customer };\n\nalert(clone.name + ' ' + clone.example.type); // David DavidType\n//alert(clone.greet()); // Not OK\n\nclone.name = 'Steve';\nclone.example.type = 'SteveType';\n\nalert(customer.name + ' ' + customer.example.type); // David SteveType\n</code></pre>\n\n<hr>\n\n<p>Option 2: Object.assign</p>\n\n<p>Properties: <strong>Yes</strong><br>\nMethods: No<br>\nDeep Copy: No  </p>\n\n<pre><code>var clone = Object.assign({}, customer);\n\nalert(clone.name + ' ' + clone.example.type); // David DavidType\nalert(clone.greet()); // Not OK, although compiler won't spot it\n\nclone.name = 'Steve';\nclone.example.type = 'SteveType';\n\nalert(customer.name + ' ' + customer.example.type); // David SteveType\n</code></pre>\n\n<hr>\n\n<p>Option 3: Object.create</p>\n\n<p>Properties: <em>Inherited</em><br>\nMethods: <em>Inherited</em><br>\nDeep Copy: <em>Shallow Inherited</em> (deep changes affect both original and clone)</p>\n\n<pre><code>var clone = Object.create(customer);\n\nalert(clone.name + ' ' + clone.example.type); // David DavidType\nalert(clone.greet()); // OK\n\ncustomer.name = 'Misha';\ncustomer.example = new Example(\"MishaType\");\n\n// clone sees changes to original \nalert(clone.name + ' ' + clone.example.type); // Misha MishaType\n\nclone.name = 'Steve';\nclone.example.type = 'SteveType';\n\n// original sees changes to clone\nalert(customer.name + ' ' + customer.example.type); // Misha SteveType\n</code></pre>\n\n<hr>\n\n<p>Option 4: Deep Copy Function</p>\n\n<p>Properties: <strong>Yes</strong><br>\nMethods: No<br>\nDeep Copy: <strong>Yes</strong>  </p>\n\n<pre><code>function deepCopy(obj) {\n    var copy;\n\n    // Handle the 3 simple types, and null or undefined\n    if (null == obj || \"object\" != typeof obj) return obj;\n\n    // Handle Date\n    if (obj instanceof Date) {\n        copy = new Date();\n        copy.setTime(obj.getTime());\n        return copy;\n    }\n\n    // Handle Array\n    if (obj instanceof Array) {\n        copy = [];\n        for (var i = 0, len = obj.length; i &lt; len; i++) {\n            copy[i] = deepCopy(obj[i]);\n        }\n        return copy;\n    }\n\n    // Handle Object\n    if (obj instanceof Object) {\n        copy = {};\n        for (var attr in obj) {\n            if (obj.hasOwnProperty(attr)) copy[attr] = deepCopy(obj[attr]);\n        }\n        return copy;\n    }\n\n    throw new Error(\"Unable to copy obj! Its type isn't supported.\");\n}\n\nvar clone = deepCopy(customer) as Customer;\n\nalert(clone.name + ' ' + clone.example.type); // David DavidType\n// alert(clone.greet()); // Not OK - not really a customer\n\nclone.name = 'Steve';\nclone.example.type = 'SteveType';\n\nalert(customer.name + ' ' + customer.example.type); // David DavidType\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6133, "user_id": 3277581, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5782f76788b57a66b19a27b7e6ab42fe?s=128&d=identicon&r=PG", "display_name": "Serginho", "link": "https://stackoverflow.com/users/3277581/serginho"}, "edited": false, "score": 4, "creation_date": 1484582314, "post_id": 37029344, "comment_id": 70557834, "body": "Is correct<code>cloneObj[attribut] = this.clone();</code>? or you mean <code>cloneObj[attribut] = this[attribut].clone();</code>"}], "tags": [], "owner": {"reputation": 2350, "user_id": 860878, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4d8d13565d80cd3ba96b9f688b2a98c9?s=128&d=identicon&r=PG", "display_name": "pablorsk", "link": "https://stackoverflow.com/users/860878/pablorsk"}, "is_accepted": false, "score": 4, "last_activity_date": 1564126309, "last_edit_date": 1564126309, "creation_date": 1462368675, "answer_id": 37029344, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/37029344#37029344", "title": "typescript - cloning object", "body": "<p>If you get this error:</p>\n\n<pre><code>TypeError: this.constructor(...) is not a function\n</code></pre>\n\n<p>This is the correct script:</p>\n\n<pre><code>public clone(): any {\n    var cloneObj = new (&lt;any&gt;this.constructor)(); // line fixed\n    for (var attribut in this) {\n        if (typeof this[attribut] === \"object\") {\n            cloneObj[attribut] = this[attribut].clone();\n        } else {\n            cloneObj[attribut] = this[attribut];\n        }\n    }\n    return cloneObj;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26792, "user_id": 734040, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/p1dqF.jpg?s=128&g=1", "display_name": "Decade Moon", "link": "https://stackoverflow.com/users/734040/decade-moon"}, "is_accepted": false, "score": 6, "last_activity_date": 1470113057, "creation_date": 1470113057, "answer_id": 38711922, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/38711922#38711922", "title": "typescript - cloning object", "body": "<p>You can also have something like this:</p>\n\n<pre><code>class Entity {\n    id: number;\n\n    constructor(id: number) {\n        this.id = id;\n    }\n\n    clone(): this {\n        return new (this.constructor as typeof Entity)(this.id) as this;\n    }\n}\n\nclass Customer extends Entity {\n    name: string;\n\n    constructor(id: number, name: string) {\n        super(id);\n        this.name = name;\n    }\n\n    clone(): this {\n        return new (this.constructor as typeof Customer)(this.id, this.name) as this;\n    }\n}\n</code></pre>\n\n<p>Just make sure that you override the <code>clone</code> method in all <code>Entity</code> subclasses otherwise you'll end up with partial clones.</p>\n\n<p>The return type of <code>this</code> will always match the type of the instance.</p>\n"}, {"comments": [{"owner": {"reputation": 208, "user_id": 1504567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0209112a29890c1992ebd199678fb98f?s=128&d=identicon&r=PG", "display_name": "Ken Rimple", "link": "https://stackoverflow.com/users/1504567/ken-rimple"}, "edited": false, "score": 8, "creation_date": 1474052896, "post_id": 38874807, "comment_id": 66391043, "body": "I don&#39;t think that&#39;s completely correct. <code>Object.create(obj1)</code> creates a new object and assigns obj1 as the prototype. None of the fields in obj1 are copied or cloned. So changes on obj1 without modifying obj2 will be seen, since it essentially has no properties. If you modify obj2 first, the prototype will not be seen for the field you define since obj2&#39;s field with the name is closer in the hierarchy."}, {"owner": {"reputation": 208, "user_id": 1504567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0209112a29890c1992ebd199678fb98f?s=128&d=identicon&r=PG", "display_name": "Ken Rimple", "link": "https://stackoverflow.com/users/1504567/ken-rimple"}, "edited": false, "score": 3, "creation_date": 1474053146, "post_id": 38874807, "comment_id": 66391161, "body": "You&#39;ll also see ES2015 and typescript developers doing this instead, which creates an object from the 1st parameter (in my case an empty one) and copies the properties from the second and subsequent params):  <code>let b = Object.assign({}, a);</code>"}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "reply_to_user": {"reputation": 208, "user_id": 1504567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0209112a29890c1992ebd199678fb98f?s=128&d=identicon&r=PG", "display_name": "Ken Rimple", "link": "https://stackoverflow.com/users/1504567/ken-rimple"}, "edited": false, "score": 0, "creation_date": 1474285642, "post_id": 38874807, "comment_id": 66454373, "body": "@KenRimple You are in 100% right, I added some more information."}, {"owner": {"reputation": 7942, "user_id": 516188, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/934a553983eaca4c3f8f939daf6d2faa?s=128&d=identicon&r=PG", "display_name": "Emmanuel Touzery", "link": "https://stackoverflow.com/users/516188/emmanuel-touzery"}, "edited": false, "score": 0, "creation_date": 1479282158, "post_id": 38874807, "comment_id": 68486397, "body": "maybe be helpful =&gt; <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\">developer.mozilla.org/en/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 12752, "user_id": 242098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5b4fb15e127c1e4141239614bca7e7?s=128&d=identicon&r=PG", "display_name": "Meir", "link": "https://stackoverflow.com/users/242098/meir"}, "edited": false, "score": 5, "creation_date": 1481186546, "post_id": 38874807, "comment_id": 69277407, "body": "Object.assign will create issues for deep objects. For example {name: &#39;x&#39;, values: [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]}. After using Object.assign to clone, both objects share the values array so updating one affects the other. See: <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\">developer.mozilla.org/en/docs/Web/JavaScript/Reference/&hellip;</a> (&#39;Warning for Deep Clone&#39; section). It says: For deep cloning, we need to use other alternatives. This is because Object.assign() copies the property reference when the property being assigned is an object."}], "tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": false, "score": 213, "last_activity_date": 1511031071, "last_edit_date": 1511031071, "creation_date": 1470835644, "answer_id": 38874807, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/38874807#38874807", "title": "typescript - cloning object", "body": "<p>1.Use spread operator</p>\n\n<pre><code>const obj1 = { param: \"value\" };\nconst obj2 = { ...obj1 };\n</code></pre>\n\n<p>Spread operator takes all fields from obj1 and spread them over obj2. In the result you get new object with new reference and the same fields as original one. </p>\n\n<p>Remember that it is shallow copy, it means that if object is nested then its nested composite params will exists in the new object by the same reference.</p>\n\n<p>2.Object.assign()</p>\n\n<pre><code>const obj1={ param: \"value\" };\nconst obj2:any = Object.assign({}, obj1);\n</code></pre>\n\n<p><strong>Object.assign</strong> create real copy, but only own properties, so properties in prototype will not exist in copied object. It is also shallow copy.</p>\n\n<hr>\n\n<p>3.Object.create()</p>\n\n<pre><code>const obj1={ param: \"value\" };\nconst obj2:any = Object.create(obj1);\n</code></pre>\n\n<p><code>Object.create</code> <strong>is not doing real cloning</strong>, it is creating object from prototype. So use it if the object should clone primary type properties, because primary type properties assignment is not done by reference.</p>\n\n<p>Pluses of <strong>Object.create</strong> are that any functions declared in prototype will be available in our newly created object.</p>\n\n<hr>\n\n<p><strong>Few things about shallow copy</strong></p>\n\n<p>Shallow copy puts into new object all fields of the old one, but it also means that if original object has composite type fields (object, arrays etc.) then those fields are put in new object with the same references. Mutation such field in original object will be reflected in new object. </p>\n\n<p>It maybe looks like a pitfall, but really situation when the whole complex object needs to be copied is rare. Shallow copy will re-use most of memory which means that is very cheap in comparison to deep copy.</p>\n\n<hr>\n\n<p><strong>Deep copy</strong></p>\n\n<p>Spread operator can be handy for deep copy.</p>\n\n<pre><code>const obj1 = { param: \"value\", complex: { name: \"John\"}}\nconst obj2 = { ...obj1, complex: {...obj1.complex}};\n</code></pre>\n\n<p>Above code created deep copy of obj1. Composite field \"complex\" was also copied into obj2. Mutation field \"complex\" will not reflect the copy.</p>\n"}, {"comments": [{"owner": {"reputation": 13909, "user_id": 1857292, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/50eda10b9e16333f9e9cd3b8f1e0918a?s=128&d=identicon&r=PG", "display_name": "Jimmy Kane", "link": "https://stackoverflow.com/users/1857292/jimmy-kane"}, "edited": false, "score": 2, "creation_date": 1497036609, "post_id": 42567357, "comment_id": 75927629, "body": "Note: this will create a shallow copy"}], "tags": [], "owner": {"reputation": 7054, "user_id": 251614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/38692d14d2da39a90bc404b30c530b1e?s=128&d=identicon&r=PG", "display_name": "Homer", "link": "https://stackoverflow.com/users/251614/homer"}, "is_accepted": false, "score": 16, "last_activity_date": 1488494379, "creation_date": 1488494379, "answer_id": 42567357, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/42567357#42567357", "title": "typescript - cloning object", "body": "<p>It's easy to get a shallow copy with \"Object Spread\" introduced in TypeScript 2.1</p>\n\n<p>this TypeScript: <code>let copy = { ...original };</code></p>\n\n<p>produces this JavaScript:</p>\n\n<pre><code>var __assign = (this &amp;&amp; this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i &lt; n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar copy = __assign({}, original);\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html\" rel=\"noreferrer\">https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 131, "user_id": 5602042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2mOd.jpg?s=128&g=1", "display_name": "Stanislav E. Govorov", "link": "https://stackoverflow.com/users/5602042/stanislav-e-govorov"}, "edited": false, "score": 5, "creation_date": 1490605485, "post_id": 42758108, "comment_id": 73168657, "body": "This is ok, but you should keep in mind you&#39;ll lose prototype information and all types not supported in json when serialize/parse."}, {"owner": {"reputation": 1151, "user_id": 1730846, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/11585d7f67714354b5777495401bbd9b?s=128&d=identicon&r=PG", "display_name": "Mojtaba", "link": "https://stackoverflow.com/users/1730846/mojtaba"}, "edited": false, "score": 1, "creation_date": 1541677046, "post_id": 42758108, "comment_id": 93301921, "body": "Also this seems less efficient comparing to the deepCopy function provided <a href=\"https://stackoverflow.com/a/28152032/1730846\">above</a>."}, {"owner": {"reputation": 1254, "user_id": 6123422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10156720634995022/picture?type=large", "display_name": "Cedric Arnould", "link": "https://stackoverflow.com/users/6123422/cedric-arnould"}, "edited": false, "score": 0, "creation_date": 1551884546, "post_id": 42758108, "comment_id": 96805029, "body": "I have this error: &quot;Converting circular structure to JSON&quot; when I use &quot;(JSON.parse(JSON.stringify(objectToCopy)));&quot;"}, {"owner": {"reputation": 6868, "user_id": 2321594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee967a558f8d1199605924e1d51ce36?s=128&d=identicon&r=PG", "display_name": "Aidin", "link": "https://stackoverflow.com/users/2321594/aidin"}, "edited": false, "score": 0, "creation_date": 1581550192, "post_id": 42758108, "comment_id": 106476826, "body": "Only works in 98% of the cases.  Can lead to missing keys with <code>undefined</code> value, at least. if <code>objectToCopy = { x : undefined};</code> then after running your code <code>Object.keys(objectToCopy).length</code> is <code>1</code>, while <code>Object.keys(copy).length</code> is <code>0</code>."}], "tags": [], "owner": {"reputation": 1409, "user_id": 2284160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f7b8d5c90bd6e8381a73636ceeb087d?s=128&d=identicon&r=PG", "display_name": "Lars", "link": "https://stackoverflow.com/users/2284160/lars"}, "is_accepted": false, "score": 59, "last_activity_date": 1489388803, "creation_date": 1489388803, "answer_id": 42758108, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/42758108#42758108", "title": "typescript - cloning object", "body": "<p>Try this:</p>\n\n<pre><code>let copy = (JSON.parse(JSON.stringify(objectToCopy)));\n</code></pre>\n\n<p>It is a good solution until you are using very large objects or your object has unserializable properties.</p>\n\n<p>In order to preserve type safety you could use a copy function in the class you want to make copies from:</p>\n\n<pre><code>getCopy(): YourClassName{\n    return (JSON.parse(JSON.stringify(this)));\n}\n</code></pre>\n\n<p>or in a static way:</p>\n\n<pre><code>static createCopy(objectToCopy: YourClassName): YourClassName{\n    return (JSON.parse(JSON.stringify(objectToCopy)));\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6868, "user_id": 2321594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee967a558f8d1199605924e1d51ce36?s=128&d=identicon&r=PG", "display_name": "Aidin", "link": "https://stackoverflow.com/users/2321594/aidin"}, "edited": false, "score": 1, "creation_date": 1581550345, "post_id": 46872283, "comment_id": 106476856, "body": "Can miss keys with <code>undefined</code> value.  See my comment on the similar answer above: <a href=\"https://stackoverflow.com/questions/28150967/typescript-cloning-object/38874807#comment106476826_42758108\" title=\"typescript cloning object\">stackoverflow.com/questions/28150967/typescript-cloning-obje&zwnj;&#8203;ct/&hellip;</a>"}], "tags": [], "owner": {"reputation": 75, "user_id": 6385802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11YYS.png?s=128&g=1", "display_name": "Ferhatos", "link": "https://stackoverflow.com/users/6385802/ferhatos"}, "is_accepted": false, "score": 0, "last_activity_date": 1508662896, "creation_date": 1508662896, "answer_id": 46872283, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/46872283#46872283", "title": "typescript - cloning object", "body": "<p>For a simple clone of the hole object's content, I simply stringify and parse the instance :</p>\n\n<pre><code>let cloneObject = JSON.parse(JSON.stringify(objectToClone))\n</code></pre>\n\n<p>Whereas I change data in objectToClone tree, there is no change in cloneObject. That was my requierement.</p>\n\n<p>Hope it help</p>\n"}, {"tags": [], "owner": {"reputation": 3941, "user_id": 4619678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x4l0r.jpg?s=128&g=1", "display_name": "Timur Osadchiy", "link": "https://stackoverflow.com/users/4619678/timur-osadchiy"}, "is_accepted": false, "score": 2, "last_activity_date": 1515165164, "last_edit_date": 1515165164, "creation_date": 1508920502, "answer_id": 46927665, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/46927665#46927665", "title": "typescript - cloning object", "body": "<p>Came across this problem myself and in the end wrote a small library <a href=\"https://www.npmjs.com/package/cloneable-ts\" rel=\"nofollow noreferrer\">cloneable-ts</a> that provides an abstract class, which adds a clone method to any class extending it. The abstract class  borrows the Deep Copy Function described in the accepted answer by Fenton only replacing <code>copy = {};</code> with <code>copy = Object.create(originalObj)</code> to preserve the class of the original object. Here is an example of using the class.</p>\n\n<pre><code>import {Cloneable, CloneableArgs} from 'cloneable-ts';\n\n// Interface that will be used as named arguments to initialize and clone an object\ninterface PersonArgs {\n    readonly name: string;\n    readonly age: number;\n}\n\n// Cloneable abstract class initializes the object with super method and adds the clone method\n// CloneableArgs interface ensures that all properties defined in the argument interface are defined in class\nclass Person extends Cloneable&lt;TestArgs&gt;  implements CloneableArgs&lt;PersonArgs&gt; {\n    readonly name: string;\n    readonly age: number;\n\n    constructor(args: TestArgs) {\n        super(args);\n    }\n}\n\nconst a = new Person({name: 'Alice', age: 28});\nconst b = a.clone({name: 'Bob'})\na.name // Alice\nb.name // Bob\nb.age // 28\n</code></pre>\n\n<p>Or you could just use the <code>Cloneable.clone</code> helper method:</p>\n\n<pre><code>import {Cloneable} from 'cloneable-ts';\n\ninterface Person {\n    readonly name: string;\n    readonly age: number;\n}\n\nconst a: Person = {name: 'Alice', age: 28};\nconst b = Cloneable.clone(a, {name: 'Bob'})\na.name // Alice\nb.name // Bob\nb.age // 28    \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7720, "user_id": 571410, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Jld5i.png?s=128&g=1", "display_name": "Luca C.", "link": "https://stackoverflow.com/users/571410/luca-c"}, "is_accepted": false, "score": 43, "last_activity_date": 1593405654, "last_edit_date": 1593405654, "creation_date": 1519123514, "answer_id": 48883430, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/48883430#48883430", "title": "typescript - cloning object", "body": "<p>TypeScript/JavaScript has its own operator for shallow cloning:</p>\n<pre><code>let shallowClone = { ...original };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4239, "user_id": 468910, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/91bbd39970a633c0a32af35b3136ad5e?s=128&d=identicon&r=PG", "display_name": "Bernoulli IT", "link": "https://stackoverflow.com/users/468910/bernoulli-it"}, "is_accepted": false, "score": 0, "last_activity_date": 1523634607, "creation_date": 1523634607, "answer_id": 49820865, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/49820865#49820865", "title": "typescript - cloning object", "body": "<p>I ended up doing:</p>\n\n<pre><code>public clone(): any {\n  const result = new (&lt;any&gt;this.constructor);\n\n  // some deserialization code I hade in place already...\n  // which deep copies all serialized properties of the\n  // object graph\n  // result.deserialize(this)\n\n  // you could use any of the usggestions in the other answers to\n  // copy over all the desired fields / properties\n\n  return result;\n}\n</code></pre>\n\n<p>Because:</p>\n\n<pre><code>var cloneObj = new (&lt;any&gt;this.constructor());\n</code></pre>\n\n<p>from @Fenton gave runtime errors.</p>\n\n<p>Typescript version: <strong>2.4.2</strong></p>\n"}, {"comments": [{"owner": {"reputation": 4961, "user_id": 2098652, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZpUOc.jpg?s=128&g=1", "display_name": "MortenMoulder", "link": "https://stackoverflow.com/users/2098652/mortenmoulder"}, "edited": false, "score": 1, "creation_date": 1557391702, "post_id": 53025968, "comment_id": 98751842, "body": "Works pretty well as far as I can see. However, <code>typeof null</code> is also an object, so the query should be <code>if (source[P] !== null &amp;&amp; typeof source[P] === &#39;object&#39;)</code> instead. Otherwise your null values will get turned into an empty object."}], "tags": [], "owner": {"reputation": 1100, "user_id": 648789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqjd1.jpg?s=128&g=1", "display_name": "marckassay", "link": "https://stackoverflow.com/users/648789/marckassay"}, "is_accepted": false, "score": 3, "last_activity_date": 1540671783, "creation_date": 1540671783, "answer_id": 53025968, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/53025968#53025968", "title": "typescript - cloning object", "body": "<p>Here is my mash-up! And here is a <a href=\"https://stackblitz.com/edit/cloning-opus2no1\" rel=\"nofollow noreferrer\">StackBlitz link</a> to it. Its currently limited to only copying simple types and object types but could be modified easily I would think.</p>\n\n<pre><code>   let deepClone = &lt;T&gt;(source: T): { [k: string]: any } =&gt; {\n      let results: { [k: string]: any } = {};\n      for (let P in source) {\n        if (typeof source[P] === 'object') {\n          results[P] = deepClone(source[P]);\n        } else {\n          results[P] = source[P];\n        }\n      }\n      return results;\n    };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6868, "user_id": 2321594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee967a558f8d1199605924e1d51ce36?s=128&d=identicon&r=PG", "display_name": "Aidin", "link": "https://stackoverflow.com/users/2321594/aidin"}, "edited": false, "score": 0, "creation_date": 1581550998, "post_id": 53442750, "comment_id": 106477022, "body": "There is a very subtle thing going on here.  You are actually making <code>foo</code> be the prototypical parent of the <code>clonedFoo</code> (new object).  While this might sound ok, you should keep in mind that a missing property will be looked up in the prototype chain, so <code>const a = { x: 8 }; const c = Object.assign(Object.create(a), a);  delete c.x; console.log(c.x);</code> prints out 8, while should be <code>undefined</code>! (REPL link: <a href=\"https://repl.it/repls/CompetitivePreemptiveKeygen\" rel=\"nofollow noreferrer\">repl.it/repls/CompetitivePreemptiveKeygen</a>)"}, {"owner": {"reputation": 6868, "user_id": 2321594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee967a558f8d1199605924e1d51ce36?s=128&d=identicon&r=PG", "display_name": "Aidin", "link": "https://stackoverflow.com/users/2321594/aidin"}, "edited": false, "score": 0, "creation_date": 1581551510, "post_id": 53442750, "comment_id": 106477161, "body": "Additionally, if you later add a property to <code>foo</code>, it will automatically show up for <code>clonedFoo</code>!   e.g. <code>foo.y = 9; console.log(clonedFoo.y)</code> will print out <code>9</code> instead of <code>undefined</code>.  It&#39;s very likely that it&#39;s not what you are asking for!"}, {"owner": {"reputation": 580, "user_id": 4442322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/318fd0b0565227bb0b89a3fd11d4097f?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Ali", "link": "https://stackoverflow.com/users/4442322/muhammad-ali"}, "reply_to_user": {"reputation": 6868, "user_id": 2321594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee967a558f8d1199605924e1d51ce36?s=128&d=identicon&r=PG", "display_name": "Aidin", "link": "https://stackoverflow.com/users/2321594/aidin"}, "edited": false, "score": 0, "creation_date": 1594675289, "post_id": 53442750, "comment_id": 111203188, "body": "@Aidin So how to ensure a deep copy?"}, {"owner": {"reputation": 6868, "user_id": 2321594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee967a558f8d1199605924e1d51ce36?s=128&d=identicon&r=PG", "display_name": "Aidin", "link": "https://stackoverflow.com/users/2321594/aidin"}, "edited": false, "score": 0, "creation_date": 1594770702, "post_id": 53442750, "comment_id": 111241652, "body": "any other solution in this question, which is doing copy-by-value recursively (e.g. <a href=\"https://stackoverflow.com/a/53025968\">stackoverflow.com/a/53025968</a> by marckassay) ensure that, since there is no reference to the source object being maintained in the target object."}], "tags": [], "owner": {"reputation": 580, "user_id": 4442322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/318fd0b0565227bb0b89a3fd11d4097f?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Ali", "link": "https://stackoverflow.com/users/4442322/muhammad-ali"}, "is_accepted": false, "score": 8, "last_activity_date": 1546348105, "last_edit_date": 1546348105, "creation_date": 1542960334, "answer_id": 53442750, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/53442750#53442750", "title": "typescript - cloning object", "body": "<p>My take on it:</p>\n\n<p><code>Object.assign(...)</code> only copies properties and we lose the prototype and methods.</p>\n\n<p><code>Object.create(...)</code> is not copying properties for me and just creating a prototype.</p>\n\n<p>What worked for me is creating a prototype using <code>Object.create(...)</code> and copying properties to it using <code>Object.assign(...)</code>:</p>\n\n<p>So for an object <code>foo</code>, make clone like this:</p>\n\n<pre><code>Object.assign(Object.create(foo), foo)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 759, "user_id": 3297039, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RNuON.jpg?s=128&g=1", "display_name": "LewisM", "link": "https://stackoverflow.com/users/3297039/lewism"}, "edited": false, "score": 0, "creation_date": 1555263713, "post_id": 55356037, "comment_id": 98041273, "body": "This question wasn&#39;t tagged JQuery nor was JQuery mentioned in the question. It also would be massive overhead to include JQuery in a project just to do a deep clone."}, {"owner": {"reputation": 759, "user_id": 3297039, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RNuON.jpg?s=128&g=1", "display_name": "LewisM", "link": "https://stackoverflow.com/users/3297039/lewism"}, "edited": false, "score": 0, "creation_date": 1555403862, "post_id": 55356037, "comment_id": 98088790, "body": "That&#39;s fair enough, but the OP isn&#39;t about how to clone, it is about identifying an issue in the code he provided and you responded with the jQuery way of cloning without really answering the question. I&#39;m not the one who downvoted you, but I believe that may be why you were downvoted."}], "tags": [], "owner": {"reputation": 2131, "user_id": 585819, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/E2Md3.png?s=128&g=1", "display_name": "alehro", "link": "https://stackoverflow.com/users/585819/alehro"}, "is_accepted": false, "score": 0, "last_activity_date": 1553599701, "creation_date": 1553599701, "answer_id": 55356037, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/55356037#55356037", "title": "typescript - cloning object", "body": "<p>How about good old jQuery?! Here is deep clone:</p>\n\n<pre><code>var clone = $.extend(true, {}, sourceObject);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2127, "user_id": 1128742, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/54f5554929633e11201d4c2776ae58da?s=128&d=identicon&r=PG", "display_name": "patrickbadley", "link": "https://stackoverflow.com/users/1128742/patrickbadley"}, "is_accepted": false, "score": 0, "last_activity_date": 1557425691, "creation_date": 1557425691, "answer_id": 56065347, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/56065347#56065347", "title": "typescript - cloning object", "body": "<p>I took a stab at creating a generic copy/clone service that retains types for nested objects.  Would love feedback if i'm doing something wrong, but it seems to work so far...</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class CopyService {\n\n  public deepCopy&lt;T&gt;(objectToClone: T): T {\n    // If it's a simple type or null, just return it.\n    if (typeof objectToClone === 'string' ||\n      typeof objectToClone === 'number' ||\n      typeof objectToClone === 'undefined' ||\n      typeof objectToClone === 'symbol' ||\n      typeof objectToClone === 'function' ||\n      typeof objectToClone === 'boolean' ||\n      objectToClone === null\n    ) {\n      return objectToClone;\n    }\n\n    // Otherwise, check if it has a constructor we can use to properly instantiate it...\n    let ctor = Object.getPrototypeOf(objectToClone).constructor;\n    if (ctor) {\n      let clone = new ctor();\n\n      // Once we've instantiated the correct type, assign the child properties with deep copies of the values\n      Object.keys(objectToClone).forEach(key =&gt; {\n        if (Array.isArray(objectToClone[key]))\n          clone[key] = objectToClone[key].map(item =&gt; this.deepCopy(item));\n        else\n          clone[key] = this.deepCopy(objectToClone[key]);\n      });\n\n      if (JSON.stringify(objectToClone) !== JSON.stringify(clone))\n        console.warn('object cloned, but doesnt match exactly...\\nobject: ' + JSON.stringify(objectToClone) + \"\\nclone: \" + JSON.stringify(clone))\n\n      // return our cloned object...\n      return clone;\n    }\n    else {\n      //not sure this will ever get hit, but figured I'd have a catch call.\n      console.log('deep copy found something it didnt know: ' + JSON.stringify(objectToClone));\n      return objectToClone;\n    }\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1194, "user_id": 9023855, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bd191c69fcbab7943d35091f60d1c8ce?s=128&d=identicon&r=PG", "display_name": "Polv", "link": "https://stackoverflow.com/users/9023855/polv"}, "edited": false, "score": 0, "creation_date": 1596388140, "post_id": 56516320, "comment_id": 111789851, "body": "I just wonder if it is OK to use a library, if you don&#39;t really know / understand the implementations / implications? (The implementation for cloneDeep is <a href=\"https://github.com/lodash/lodash/blob/master/.internal/baseClone.js\" rel=\"nofollow noreferrer\">github.com/lodash/lodash/blob/master/.internal/baseClone.js</a>) I think recursive functions that touch non-enumerable properties are amongst the best solutions. (Somewhere in <a href=\"https://stackoverflow.com/questions/122102/what-is-the-most-efficient-way-to-deep-clone-an-object-in-javascript?answertab=votes#tab-top\">this QA</a>.)"}], "tags": [], "owner": {"reputation": 1908, "user_id": 2878850, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2d16997eedf7ec039e1f352b4e92eec2?s=128&d=identicon&r=PG&f=1", "display_name": "user2878850", "link": "https://stackoverflow.com/users/2878850/user2878850"}, "is_accepted": false, "score": 5, "last_activity_date": 1560097341, "creation_date": 1560097341, "answer_id": 56516320, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/56516320#56516320", "title": "typescript - cloning object", "body": "<p>Add <code>\"lodash.clonedeep\": \"^4.5.0\"</code> to your <code>package.json</code>. Then use like this:</p>\n\n<pre><code>import * as _ from 'lodash';\n\n...\n\nconst copy = _.cloneDeep(original)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 570, "user_id": 1582837, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1c4c74cb61e0451dbb16051967b4d5d1?s=128&d=identicon&r=PG", "display_name": "Pangamma", "link": "https://stackoverflow.com/users/1582837/pangamma"}, "edited": false, "score": 1, "creation_date": 1572477586, "post_id": 57392868, "comment_id": 103576656, "body": "This can change the order of the props. Just a warning for some people. Also it does not handle dates properly."}, {"owner": {"reputation": 1194, "user_id": 9023855, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bd191c69fcbab7943d35091f60d1c8ce?s=128&d=identicon&r=PG", "display_name": "Polv", "link": "https://stackoverflow.com/users/9023855/polv"}, "edited": false, "score": 0, "creation_date": 1572483151, "post_id": 57392868, "comment_id": 103577871, "body": "This can change the order of the props -- might try <a href=\"https://www.npmjs.com/package/es6-json-stable-stringify\" rel=\"nofollow noreferrer\">npmjs.com/package/es6-json-stable-stringify</a> instead of <code>JSON.stringify</code>"}, {"owner": {"reputation": 6868, "user_id": 2321594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee967a558f8d1199605924e1d51ce36?s=128&d=identicon&r=PG", "display_name": "Aidin", "link": "https://stackoverflow.com/users/2321594/aidin"}, "edited": false, "score": 0, "creation_date": 1581551164, "post_id": 57392868, "comment_id": 106477070, "body": "@Polv, if someone is relying on the order of the keys in an object, I think they have bigger problem than <code>clone</code>. :)"}, {"owner": {"reputation": 6868, "user_id": 2321594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee967a558f8d1199605924e1d51ce36?s=128&d=identicon&r=PG", "display_name": "Aidin", "link": "https://stackoverflow.com/users/2321594/aidin"}, "edited": false, "score": 0, "creation_date": 1581551176, "post_id": 57392868, "comment_id": 106477076, "body": "This solution can miss keys with <code>undefined</code> value.  See my comment on the similar answer above: <a href=\"https://stackoverflow.com/questions/28150967/typescript-cloning-object/38874807#comment106476826_42758108\" title=\"typescript cloning object\">stackoverflow.com/questions/28150967/typescript-cloning-obje&zwnj;&#8203;ct/&hellip;</a>"}, {"owner": {"reputation": 1194, "user_id": 9023855, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bd191c69fcbab7943d35091f60d1c8ce?s=128&d=identicon&r=PG", "display_name": "Polv", "link": "https://stackoverflow.com/users/9023855/polv"}, "edited": false, "score": 0, "creation_date": 1596387196, "post_id": 57392868, "comment_id": 111789571, "body": "I did explicitly say &quot;serializable&quot; though. Also, it does depend on the use case, but I would always happily throw away undefined (which I know, is impossible in Arrays). For Dates and RegExps, or more than that (e.g. most classes, most functions), I recommend recursive functions -- <a href=\"https://stackoverflow.com/questions/122102/what-is-the-most-efficient-way-to-deep-clone-an-object-in-javascript?answertab=votes#tab-top\" title=\"what is the most efficient way to deep clone an object in javascript\">stackoverflow.com/questions/122102/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1194, "user_id": 9023855, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bd191c69fcbab7943d35091f60d1c8ce?s=128&d=identicon&r=PG", "display_name": "Polv", "link": "https://stackoverflow.com/users/9023855/polv"}, "is_accepted": false, "score": 14, "last_activity_date": 1565175564, "creation_date": 1565175564, "answer_id": 57392868, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/57392868#57392868", "title": "typescript - cloning object", "body": "<p>For serializable deep clone, with Type Information is,</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export function clone&lt;T&gt;(a: T): T {\n  return JSON.parse(JSON.stringify(a));\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 570, "user_id": 1582837, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1c4c74cb61e0451dbb16051967b4d5d1?s=128&d=identicon&r=PG", "display_name": "Pangamma", "link": "https://stackoverflow.com/users/1582837/pangamma"}, "edited": false, "score": 0, "creation_date": 1572477540, "post_id": 57806952, "comment_id": 103576647, "body": "Functions? Arrays? Date objects? Preservation of types? And of course what about objects? If the above function encounters any of the above types it will fail to deep clone. You will have copied the references to the same data. When they go to edit the child properties of the cloned object they will end up editing the original object as well."}], "tags": [], "owner": {"reputation": 6037, "user_id": 521554, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/595a13ad379874ee331b6693e959a005?s=128&d=identicon&r=PG", "display_name": "LosManos", "link": "https://stackoverflow.com/users/521554/losmanos"}, "is_accepted": false, "score": -2, "last_activity_date": 1567691189, "creation_date": 1567691189, "answer_id": 57806952, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/57806952#57806952", "title": "typescript - cloning object", "body": "<p>If you already have the target object, so you don't want to create it anew (like if updating an array) you must copy the properties.<br>\nIf have done it this way:</p>\n\n<pre><code>Object.keys(source).forEach((key) =&gt; {\n    copy[key] = source[key]\n})\n</code></pre>\n\n<p><a href=\"https://blog.logrocket.com/4-different-techniques-for-copying-objects-in-javascript-511e422ceb1e/\" rel=\"nofollow noreferrer\">Praise is due. (look at headline \"version 2\")</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9756476, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "maty jimenez", "link": "https://stackoverflow.com/users/9756476/maty-jimenez"}, "is_accepted": false, "score": 0, "last_activity_date": 1571715433, "last_edit_date": 1571715433, "creation_date": 1571708855, "answer_id": 58496099, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/58496099#58496099", "title": "typescript - cloning object", "body": "<p>In typeScript I test with angular, and it's doing OK </p>\n\n<pre><code>deepCopy(obj) {\n\n\n        var copy;\n\n        // Handle the 3 simple types, and null or undefined\n        if (null == obj || \"object\" != typeof obj) return obj;\n\n        // Handle Date\n        if (obj instanceof Date) {\n            copy = new Date();\n            copy.setTime(obj.getTime());\n            return copy;\n        }\n\n        // Handle Array\n        if (obj instanceof Array) {\n            copy = [];\n            for (var i = 0, len = obj.length; i &lt; len; i++) {\n                copy[i] = this.deepCopy(obj[i]);\n            }\n            return copy;\n        }\n\n        // Handle Object\n        if (obj instanceof Object) {\n            copy = {};\n            for (var attr in obj) {\n                if (obj.hasOwnProperty(attr)) copy[attr] = this.deepCopy(obj[attr]);\n            }\n            return copy;\n        }\n\n        throw new Error(\"Unable to copy obj! Its type isn't supported.\");\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12180, "user_id": 10188661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W3suZ.png?s=128&g=1", "display_name": "ZiiMakc", "link": "https://stackoverflow.com/users/10188661/ziimakc"}, "is_accepted": false, "score": 1, "last_activity_date": 1574083713, "creation_date": 1574083713, "answer_id": 58915686, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/58915686#58915686", "title": "typescript - cloning object", "body": "<p>For deep cloning an object that can contain another objects, arrays and so on i use:</p>\n\n<pre><code>const clone = &lt;T&gt;(source: T): T =&gt; {\n  if (source === null) return source\n\n  if (source instanceof Date) return new Date(source.getTime()) as any\n\n  if (source instanceof Array) return source.map((item: any) =&gt; clone&lt;any&gt;(item)) as any\n\n  if (typeof source === 'object' &amp;&amp; source !== {}) {\n    const clonnedObj = { ...(source as { [key: string]: any }) } as { [key: string]: any }\n    Object.keys(clonnedObj).forEach(prop =&gt; {\n      clonnedObj[prop] = clone&lt;any&gt;(clonnedObj[prop])\n    })\n\n    return clonnedObj as T\n  }\n\n  return source\n}\n</code></pre>\n\n<p>Use:</p>\n\n<pre><code>const obj = {a: [1,2], b: 's', c: () =&gt; { return 'h'; }, d: null, e: {a:['x'] }}\nconst objClone = clone(obj)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3470, "user_id": 9381897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hiHf.jpg?s=128&g=1", "display_name": "leopal", "link": "https://stackoverflow.com/users/9381897/leopal"}, "edited": false, "score": 2, "creation_date": 1582034592, "post_id": 60280757, "comment_id": 106631620, "body": "While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value."}], "tags": [], "owner": {"reputation": 71, "user_id": 10877566, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LGElq1MhrXs/AAAAAAAAAAI/AAAAAAAAADU/8TorhWOKF4w/photo.jpg?sz=128", "display_name": "SOUVIK SAHA", "link": "https://stackoverflow.com/users/10877566/souvik-saha"}, "is_accepted": false, "score": 1, "last_activity_date": 1582037798, "last_edit_date": 1582037798, "creation_date": 1582028367, "answer_id": 60280757, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/60280757#60280757", "title": "typescript - cloning object", "body": "<p>You could use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">destructuring assignment</a> with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\">spread syntax</a> :</p>\n\n<pre><code>var obj = {id = 1, name = 'product1'};\nvar clonedObject = {...obj};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1194, "user_id": 9023855, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bd191c69fcbab7943d35091f60d1c8ce?s=128&d=identicon&r=PG", "display_name": "Polv", "link": "https://stackoverflow.com/users/9023855/polv"}, "edited": false, "score": 0, "creation_date": 1596387597, "post_id": 61815403, "comment_id": 111789692, "body": "<code>&#47;&#47; compile time error</code> for <code>UncopiableUser</code> is always nice, but how well does it apply to recursive function solutions?"}], "tags": [], "owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "is_accepted": false, "score": 3, "last_activity_date": 1589532869, "creation_date": 1589532869, "answer_id": 61815403, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/61815403#61815403", "title": "typescript - cloning object", "body": "<p>Since TypeScript 3.7 is released, <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html#more-recursive-type-aliases\" rel=\"nofollow noreferrer\">recursive type aliases</a> are now supported and it allows us to define a type safe <code>deepCopy()</code> function:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// DeepCopy type can be easily extended by other types,\n// like Set &amp; Map if the implementation supports them.\ntype DeepCopy&lt;T&gt; =\n    T extends undefined | null | boolean | string | number ? T :\n    T extends Function | Set&lt;any&gt; | Map&lt;any, any&gt; ? unknown :\n    T extends ReadonlyArray&lt;infer U&gt; ? Array&lt;DeepCopy&lt;U&gt;&gt; :\n    { [K in keyof T]: DeepCopy&lt;T[K]&gt; };\n\nfunction deepCopy&lt;T&gt;(obj: T): DeepCopy&lt;T&gt; {\n    // implementation doesn't matter, just use the simplest\n    return JSON.parse(JSON.stringify(obj));\n}\n\ninterface User {\n    name: string,\n    achievements: readonly string[],\n    extras?: {\n        city: string;\n    }\n}\n\ntype UncopiableUser = User &amp; {\n    delete: () =&gt; void\n};\n\ndeclare const user: User;\nconst userCopy: User = deepCopy(user); // no errors\n\ndeclare const uncopiableUser: UncopiableUser;\nconst uncopiableUserCopy: UncopiableUser = deepCopy(uncopiableUser); // compile time error\n\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=28&amp;ssc=1&amp;pln=1&amp;pc=1#code/C4TwDgpgBAIhFgMIHswgDwBUB8UC8AUFMVJlBAB7AQB2AJgM5QCu9EAZgJY0R1QA%20UGswA2IgVABGyZCIgBDGhIbAATtwDmE4QFtJEVVAD8pKAC4iJMpWr0mAMVYBjYJ2RLBAZQjB0ikLiCALLyYH40IAA0UP64JqwA1jTIAO5KFiSmNrSMUABKCnTuIiAAgqqq8hjc7AZQAKpxUOWVGHAIKGjojbgZJADeUADaANJQ3FAJECDI7KQAumaw8EioGJij87gAvgDcBATszq7uUHQrnevYABTIkgBWS5gAlEvtq104UP2WxKo%20zFUSgAUp4APIAOQAdGB5KoGBBrqDIVCVOoaBpOOwQLcHs9nvttgduNRVOx5E5oPUEYYfpkaPIdBAlmjNJFfjEnAALTgQABuECZNGADCW-3kRRoJSgrIxQ3m7MyNkqDCMSzpmRITk4oBZak0%200yRKJBFAkAaNCcqE48kkcmpdTwDRpUAAZN8Oec5NQltdnvhcHzkJw6AQ9gdzk4RHDoFaaCoWDSlg7VPs4wnmDTLsmXU7zh01tdMwYCRGIFGY1B08AWJbrbb7UmLVawDa7RAU2n3Bm662Gx2s2tk72243HWcLoXnPX2ymCVAAPQLqvIHStuRQVxM8gVZCqAhAA\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}, {"tags": [], "owner": {"reputation": 431, "user_id": 8134642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sq3k2.png?s=128&g=1", "display_name": "blid", "link": "https://stackoverflow.com/users/8134642/blid"}, "is_accepted": false, "score": 1, "last_activity_date": 1595317282, "last_edit_date": 1595317282, "creation_date": 1595252482, "answer_id": 62996692, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/62996692#62996692", "title": "typescript - cloning object", "body": "<p>Here is a modern implementation that accounts for <code>Set</code> and <code>Map</code> too:</p>\n<pre class=\"lang-typescript prettyprint-override\"><code>export function deepClone&lt;T extends object&gt;(value: T): T {\n  if (typeof value !== 'object' || value === null) {\n    return value;\n  }\n\n  if (value instanceof Set) {\n    return new Set(Array.from(value, deepClone)) as T;\n  }\n\n  if (value instanceof Map) {\n    return new Map(Array.from(value, ([k, v]) =&gt; [k, deepClone(v)])) as T;\n  }\n\n  if (value instanceof Date) {\n    return new Date(value) as T;\n  }\n\n  if (value instanceof RegExp) {\n    return new RegExp(value.source, value.flags) as T;\n  }\n\n  return Object.keys(value).reduce((acc, key) =&gt; {\n    return Object.assign(acc, { [key]: deepClone(value[key]) });\n  }, (Array.isArray(value) ? [] : {}) as T);\n}\n</code></pre>\n<p>Trying it out:</p>\n<pre><code>deepClone({\n  test1: { '1': 1, '2': {}, '3': [1, 2, 3] },\n  test2: [1, 2, 3],\n  test3: new Set([1, 2, [1, 2, 3]]),\n  test4: new Map([['1', 1], ['2', 2], ['3', 3]])\n});\n\ntest1:\n  1: 1\n  2: {}\n  3: [1, 2, 3]\n\ntest2: Array(3)\n  0: 1\n  1: 2\n  2: 3\n\ntest3: Set(3)\n  0: 1\n  1: 2\n  2: [1, 2, 3]\n\ntest4: Map(3)\n  0: {&quot;1&quot; =&gt; 1}\n  1: {&quot;2&quot; =&gt; 2}\n  2: {&quot;3&quot; =&gt; 3}\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2050, "user_id": 319066, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b9159532a572c80a3be9e85d75c9af1f?s=128&d=identicon&r=PG", "display_name": "phsource", "link": "https://stackoverflow.com/users/319066/phsource"}, "edited": false, "score": 0, "creation_date": 1597084833, "post_id": 63344202, "comment_id": 112012912, "body": "This answer in its current state isn&#39;t that useful. Can you add more details on how to use this to solve the original problem?"}], "tags": [], "owner": {"reputation": 17, "user_id": 4439390, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9bKyn9e3sSo/AAAAAAAAAAI/AAAAAAAAAD8/NDTc4P5ZKzg/photo.jpg?sz=128", "display_name": "Pradeet Swamy", "link": "https://stackoverflow.com/users/4439390/pradeet-swamy"}, "is_accepted": false, "score": -1, "last_activity_date": 1597077001, "creation_date": 1597077001, "answer_id": 63344202, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/63344202#63344202", "title": "typescript - cloning object", "body": "<pre><code>function instantiateEmptyObject(obj: object): object {\n    if (obj == null) { return {}; }\n\n    const prototype = Object.getPrototypeOf(obj);\n    if (!prototype) {\n        return {};\n    }\n\n    return Object.create(prototype);\n}\n\nfunction quickCopy(src: object, dest: object): object {\n    if (dest == null) { return dest; }\n\n    return { ...src, ...dest };\n}\n\nquickCopy(src, instantiateEmptyObject(new Customer()));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 8362644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5eb504a083adc8c23d4981e6f7fc23?s=128&d=identicon&r=PG&f=1", "display_name": "Cvassend", "link": "https://stackoverflow.com/users/8362644/cvassend"}, "is_accepted": false, "score": 0, "last_activity_date": 1605621192, "creation_date": 1605621192, "answer_id": 64876614, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object/64876614#64876614", "title": "typescript - cloning object", "body": "<p>Supplementary for option 4 by @fenton, using angularJS it is rather simple to do a deep copy of either an object or array using the following code:</p>\n<p><code>var deepCopy = angular.copy(objectOrArrayToBeCopied)</code></p>\n<p>More documentation can be found here: <a href=\"https://docs.angularjs.org/api/ng/function/angular.copy\" rel=\"nofollow noreferrer\">https://docs.angularjs.org/api/ng/function/angular.copy</a></p>\n"}], "owner": {"reputation": 12881, "user_id": 732497, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9a2b84253079164fd16cb4195ad468d3?s=128&d=identicon&r=PG", "display_name": "David Laberge", "link": "https://stackoverflow.com/users/732497/david-laberge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368625, "favorite_count": 71, "accepted_answer_id": 28152032, "answer_count": 24, "score": 237, "last_activity_date": 1605621192, "creation_date": 1422278723, "question_id": 28150967, "link": "https://stackoverflow.com/questions/28150967/typescript-cloning-object", "title": "typescript - cloning object", "body": "<p>I have a super class that is the parent (<code>Entity</code>) for many subclass (<code>Customer</code>, <code>Product</code>, <code>ProductCategory</code>...)</p>\n\n<p>I'm looking to clone dynamically an object that contains different sub objects in Typescript. </p>\n\n<p>In example : a <code>Customer</code> that has different <code>Product</code> who has a <code>ProductCategory</code></p>\n\n<pre><code>var cust:Customer  = new Customer ();\n\ncust.name = \"someName\";\ncust.products.push(new Product(someId1));\ncust.products.push(new Product(someId2));\n</code></pre>\n\n<p>In order to clone the whole tree of object I created a function in <code>Entity</code> </p>\n\n<pre><code>public clone():any {\n    var cloneObj = new this.constructor();\n    for (var attribut in this) {\n        if(typeof this[attribut] === \"object\"){\n           cloneObj[attribut] = this.clone();\n        } else {\n           cloneObj[attribut] = this[attribut];\n        }\n    }\n    return cloneObj;\n}\n</code></pre>\n\n<p>The <code>new</code> rises the following error when it is transpiled to javascript: <code>error TS2351: Cannot use 'new' with an expression whose type lacks a call or construct signature.</code></p>\n\n<p>Although the script works, <strong><em>I would like to get rid of the transpiled error</em></strong></p>\n"}, {"tags": ["enums", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 8304, "user_id": 80428, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/iYuEX.png?s=128&g=1", "display_name": "Jay Wick", "link": "https://stackoverflow.com/users/80428/jay-wick"}, "edited": false, "score": 4, "creation_date": 1442361947, "post_id": 28151986, "comment_id": 53048276, "body": "Is there a way to add a method to the enum member?"}, {"owner": {"reputation": 1468, "user_id": 6749790, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/93944777de707a574e941391cbd530e3?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6749790/daniel"}, "edited": false, "score": 0, "creation_date": 1519657871, "post_id": 28151986, "comment_id": 84987827, "body": "Any advantages to using module over class?"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 1468, "user_id": 6749790, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/93944777de707a574e941391cbd530e3?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6749790/daniel"}, "edited": false, "score": 2, "creation_date": 1519658605, "post_id": 28151986, "comment_id": 84988241, "body": "@Daniel - I have updated the answer as <code>module</code> is now <code>namespace</code>. I have also highlighted the key benefit of a namespace in this particular case, which is the methods appear under the enum, i.e. <code>Mode</code>."}, {"owner": {"reputation": 8290, "user_id": 769137, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/da5d3fac5f1c2cad03c914d0efdf8ed9?s=128&d=identicon&r=PG", "display_name": "Vedran", "link": "https://stackoverflow.com/users/769137/vedran"}, "edited": false, "score": 1, "creation_date": 1523368247, "post_id": 28151986, "comment_id": 86525741, "body": "@Fenton - I&#39;d like to <code>import { Mode } from &quot;.&#47;Mode.ts&quot;</code> and use it in the same way as in your usage example - is this possible with namespaces merged?"}, {"owner": {"reputation": 332, "user_id": 1562834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee64538820e420c329c5f164c550336b?s=128&d=identicon&r=PG", "display_name": "Cubelaster", "link": "https://stackoverflow.com/users/1562834/cubelaster"}, "edited": false, "score": 0, "creation_date": 1551693052, "post_id": 28151986, "comment_id": 96719182, "body": "if you wish to use the said enum somewhere else, you just need to export everything. The enum itself and the namespace/functions you added. Might not be obvious maybe..."}, {"owner": {"reputation": 10849, "user_id": 185840, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/25488a32eaf1bab37d2041ea861a7eaf?s=128&d=identicon&r=PG", "display_name": "virtualeyes", "link": "https://stackoverflow.com/users/185840/virtualeyes"}, "edited": false, "score": 2, "creation_date": 1554868784, "post_id": 28151986, "comment_id": 97904258, "body": "worth noting that the <code>namespace</code> approach will potentially cause problems in that functions that consume the &quot;enum&quot; (for example to iterate enum members to populate a select list) will produce unexpected results like &quot;myAddedMethod() {...}&quot;. You can filter out extraneous non-enum members at the iteration point, but just pointing out that this approach isn&#39;t without drawbacks."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 109, "last_activity_date": 1519658448, "last_edit_date": 1519658448, "creation_date": 1422282317, "answer_id": 28151986, "question_id": 28150739, "link": "https://stackoverflow.com/questions/28150739/add-functions-to-an-enum/28151986#28151986", "title": "Add functions to an Enum", "body": "<p>You can either have a class that is separate to the Enum and use it to get things you want, or you can merge a namespace into the Enum and get it all in what looks like the same place.</p>\n\n<h1>Mode Utility Class</h1>\n\n<p>So this isn't exactly what you are after, but this allows you to encapsulate the \"Mode to string\" behaviour using a static method.</p>\n\n<pre><code>class ModeUtil {\n    public static toString(mode: Mode) {\n        return Mode[mode];\n    }\n}\n</code></pre>\n\n<p>You can use it like this:</p>\n\n<pre><code>const mode = Mode.portrait;\nconst x = ModeUtil.toString(mode);\nconsole.log(x);\n</code></pre>\n\n<h1>Mode Enum/Namespace Merge</h1>\n\n<p>You can merge a namespace with the Enum in order to create what looks like an Enum with additional methods:</p>\n\n<pre><code>enum Mode {\n    X,\n    Y\n}\n\nnamespace Mode {\n    export function toString(mode: Mode): string {\n        return Mode[mode];\n    }\n\n    export function parse(mode: string): Mode {\n        return Mode[mode];\n    }\n}\n\nconst mode = Mode.X;\n\nconst str = Mode.toString(mode);\nalert(str);\n\nconst m = Mode.parse(str);\nalert(m);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 100, "user_id": 2829223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e10ef8929d9094ce318a973ba10084d?s=128&d=identicon&r=PG", "display_name": "pawciobiel", "link": "https://stackoverflow.com/users/2829223/pawciobiel"}, "edited": false, "score": 1, "creation_date": 1441806189, "post_id": 28156093, "comment_id": 52823260, "body": "<code>import Mode = require(&#39;Mode&#39;); ... &#47;*more code here...*&#47; &lt;Mode.landscape&gt; landScape = Mode.landscape;</code> and I got error:  <code>error TS2503: Cannot find namespace &#39;Mode&#39;</code>"}, {"owner": {"reputation": 1027, "user_id": 1859442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/449e681a5995cf223e52e03750cebf4d?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1859442/benjamin"}, "reply_to_user": {"reputation": 100, "user_id": 2829223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e10ef8929d9094ce318a973ba10084d?s=128&d=identicon&r=PG", "display_name": "pawciobiel", "link": "https://stackoverflow.com/users/2829223/pawciobiel"}, "edited": false, "score": 1, "creation_date": 1441873544, "post_id": 28156093, "comment_id": 52853232, "body": "@pawciobiel Well, I guess <code>Mode</code> is the type here you want to cast to and not <code>landscape</code>. Change your cast from <code>&lt;Mode.landscape&gt;</code> to just <code>&lt;Mode&gt;</code>"}, {"owner": {"reputation": 4075, "user_id": 542395, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a87359d53892f4fcfacc082a8877ed5d?s=128&d=identicon&r=PG", "display_name": "icfantv", "link": "https://stackoverflow.com/users/542395/icfantv"}, "edited": false, "score": 0, "creation_date": 1464908660, "post_id": 28156093, "comment_id": 62691615, "body": "just a note that this does not work in TS 1.8.10.  i had to add an <code>export</code> in front of the module definition."}, {"owner": {"reputation": 1027, "user_id": 1859442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/449e681a5995cf223e52e03750cebf4d?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1859442/benjamin"}, "reply_to_user": {"reputation": 4075, "user_id": 542395, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a87359d53892f4fcfacc082a8877ed5d?s=128&d=identicon&r=PG", "display_name": "icfantv", "link": "https://stackoverflow.com/users/542395/icfantv"}, "edited": false, "score": 0, "creation_date": 1464943474, "post_id": 28156093, "comment_id": 62703154, "body": "@icfantv It works unchanged on <a href=\"http://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">typescriptlang.org/play</a> (adding the line <code>Mode.doSomething(Mode.landscape);</code> at the end for testing)"}, {"owner": {"reputation": 4075, "user_id": 542395, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a87359d53892f4fcfacc082a8877ed5d?s=128&d=identicon&r=PG", "display_name": "icfantv", "link": "https://stackoverflow.com/users/542395/icfantv"}, "edited": false, "score": 1, "creation_date": 1464958932, "post_id": 28156093, "comment_id": 62712783, "body": "I think it was because my enum also had <code>export</code> and the issue is that in order for TS to merge the two objects, they must either both be exported or both not be.  Sorry for the confusion."}, {"owner": {"reputation": 477, "user_id": 5098386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VM58r.png?s=128&g=1", "display_name": "Koja", "link": "https://stackoverflow.com/users/5098386/koja"}, "edited": false, "score": 0, "creation_date": 1530082755, "post_id": 28156093, "comment_id": 89103275, "body": "Is it possible to implement <code>doSomething</code> in such a way that you can call it like <code>Mode.landscape.doSomething()</code>? (Like an extension method in C#)"}, {"owner": {"reputation": 1027, "user_id": 1859442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/449e681a5995cf223e52e03750cebf4d?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1859442/benjamin"}, "reply_to_user": {"reputation": 477, "user_id": 5098386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VM58r.png?s=128&g=1", "display_name": "Koja", "link": "https://stackoverflow.com/users/5098386/koja"}, "edited": false, "score": 0, "creation_date": 1530789197, "post_id": 28156093, "comment_id": 89361265, "body": "@Koja TypeScript enums are based on primitive values, not objects. So does not make sense with this approach. You could do this with the <a href=\"https://stackoverflow.com/a/47443987/1859442\">enum pattern approach</a> instead."}], "tags": [], "owner": {"reputation": 1027, "user_id": 1859442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/449e681a5995cf223e52e03750cebf4d?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1859442/benjamin"}, "is_accepted": false, "score": 31, "last_activity_date": 1483953863, "last_edit_date": 1483953863, "creation_date": 1422295872, "answer_id": 28156093, "question_id": 28150739, "link": "https://stackoverflow.com/questions/28150739/add-functions-to-an-enum/28156093#28156093", "title": "Add functions to an Enum", "body": "<p>You can get the string value of an non-const enum by using square brackets:</p>\n\n<pre><code>class Device {\n    constructor(public mode:Mode) {\n        console.log(Mode[this.mode]);\n    }\n}\n</code></pre>\n\n<p>You can also put some enum-specific util functions into the enum, but that's just like static class members:</p>\n\n<pre><code>enum Mode {\n    landscape,\n    portrait\n}\n\nnamespace Mode {\n    export function doSomething(mode:Mode) {\n        // your code here\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3281, "user_id": 1341535, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8nhAS.png?s=128&g=1", "display_name": "Vsevolod Golovanov", "link": "https://stackoverflow.com/users/1341535/vsevolod-golovanov"}, "edited": false, "score": 1, "creation_date": 1585643250, "post_id": 47443987, "comment_id": 107825539, "body": "Your own example can be seen as a counterargument to your point. Height/width often times vary based on other things, not only &quot;landscape vs portrait&quot; - they don&#39;t belong to this enum. This enum really expresses only a vague preference, its exact meaning depends on the context."}, {"owner": {"reputation": 10229, "user_id": 621316, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5203b24e171961e916d054b73d8b5b59?s=128&d=identicon&r=PG", "display_name": "Dave Cousineau", "link": "https://stackoverflow.com/users/621316/dave-cousineau"}, "reply_to_user": {"reputation": 3281, "user_id": 1341535, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8nhAS.png?s=128&g=1", "display_name": "Vsevolod Golovanov", "link": "https://stackoverflow.com/users/1341535/vsevolod-golovanov"}, "edited": false, "score": 2, "creation_date": 1585679588, "post_id": 47443987, "comment_id": 107845775, "body": "@VsevolodGolovanov sure, it&#39;s just an example demonstrating how to set it up. I&#39;m not suggesting to use a <code>Mode</code> enum with these values. use whatever values are relevant to your project."}, {"owner": {"reputation": 25665, "user_id": 314056, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/59faf3dfbc2932d2cc72780db1e48223?s=128&d=identicon&r=PG", "display_name": "Christian", "link": "https://stackoverflow.com/users/314056/christian"}, "reply_to_user": {"reputation": 3281, "user_id": 1341535, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/8nhAS.png?s=128&g=1", "display_name": "Vsevolod Golovanov", "link": "https://stackoverflow.com/users/1341535/vsevolod-golovanov"}, "edited": false, "score": 0, "creation_date": 1591280650, "post_id": 47443987, "comment_id": 110001485, "body": "What @VsevolodGolovanov is saying, I think, is that a value object (as you suggested), is not an enum and that regardless what values you use, they won&#39;t really belong to the enum."}, {"owner": {"reputation": 10229, "user_id": 621316, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5203b24e171961e916d054b73d8b5b59?s=128&d=identicon&r=PG", "display_name": "Dave Cousineau", "link": "https://stackoverflow.com/users/621316/dave-cousineau"}, "reply_to_user": {"reputation": 25665, "user_id": 314056, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/59faf3dfbc2932d2cc72780db1e48223?s=128&d=identicon&r=PG", "display_name": "Christian", "link": "https://stackoverflow.com/users/314056/christian"}, "edited": false, "score": 1, "creation_date": 1591289237, "post_id": 47443987, "comment_id": 110006437, "body": "@Christian he was saying that &quot;width&quot;, &quot;height&quot;, and &quot;aspect ratio&quot; are not really properties of &quot;landscape&quot; and &quot;portrait&quot;; ie: the concept of landscape is independent of size. this is true, but it&#39;s just an example."}], "tags": [], "owner": {"reputation": 10229, "user_id": 621316, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5203b24e171961e916d054b73d8b5b59?s=128&d=identicon&r=PG", "display_name": "Dave Cousineau", "link": "https://stackoverflow.com/users/621316/dave-cousineau"}, "is_accepted": false, "score": 17, "last_activity_date": 1511385322, "creation_date": 1511385322, "answer_id": 47443987, "question_id": 28150739, "link": "https://stackoverflow.com/questions/28150739/add-functions-to-an-enum/47443987#47443987", "title": "Add functions to an Enum", "body": "<p>Convert your <code>enum</code> to the enum pattern. I find this is a better practice in general for many languages, since otherwise you restrict encapsulation options for your type. The tendency is to <code>switch</code> on the enum value, when really any data or functionality that is dependent on the particular enum value should just go into each instance of the enum. I've added some more code to demonstrate.</p>\n\n<p>This might not work if you are particularly dependent on the underlying enum values. In that case you would need to add a member for the old values and convert places that need it to use the new property.</p>\n\n<pre><code>class Mode {\n   public static landscape = new Mode(1920, 1080);\n   public static portrait = new Mode(1080, 1920);\n\n   public get Width(): number { return this.mWidth; }\n   public get Height(): number { return this.mHeight; }\n\n   // private constructor if possible in a future version of TS\n   constructor(\n      private mWidth: number,\n      private mHeight: number\n   ) {\n   }\n\n   public GetAspectRatio() {\n      return this.mWidth / this.mHeight;\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 781, "user_id": 7972060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c5eecc78486682063535b44baa0f770?s=128&d=identicon&r=PG", "display_name": "david valentino", "link": "https://stackoverflow.com/users/7972060/david-valentino"}, "is_accepted": false, "score": 2, "last_activity_date": 1532495776, "last_edit_date": 1532495776, "creation_date": 1532495449, "answer_id": 51511190, "question_id": 28150739, "link": "https://stackoverflow.com/questions/28150739/add-functions-to-an-enum/51511190#51511190", "title": "Add functions to an Enum", "body": "<p>can make enum like by private constructor and static get return object</p>\n\n<pre><code>export class HomeSlideEnum{\n\n  public static get friendList(): HomeSlideEnum {\n\n    return new HomeSlideEnum(0, \"friendList\");\n\n  }\n  public static getByOrdinal(ordinal){\n    switch(ordinal){\n      case 0:\n\n        return HomeSlideEnum.friendList;\n    }\n  }\n\n  public ordinal:number;\n  public key:string;\n  private constructor(ordinal, key){\n\n    this.ordinal = ordinal;\n    this.key = key;\n  }\n\n\n  public getTitle(){\n    switch(this.ordinal){\n      case 0:\n\n        return \"Friend List\"\n      default :\n        return \"DChat\"\n    }\n  }\n\n}\n</code></pre>\n\n<p>then later can use like this</p>\n\n<pre><code>HomeSlideEnum.friendList.getTitle();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2758, "user_id": 1627479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3fb93ac753402c0c972b32a9c32adcc0?s=128&d=identicon&r=PG&f=1", "display_name": "Joren", "link": "https://stackoverflow.com/users/1627479/joren"}, "edited": false, "score": 1, "creation_date": 1607110617, "post_id": 61715544, "comment_id": 115179056, "body": "Thanks, I was looking for this."}], "tags": [], "owner": {"reputation": 8703, "user_id": 350061, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32ee5339d5e9273f4eab2b9f2ab9d1d1?s=128&d=identicon&r=PG", "display_name": "Stefanos Kargas", "link": "https://stackoverflow.com/users/350061/stefanos-kargas"}, "is_accepted": false, "score": 2, "last_activity_date": 1589129402, "creation_date": 1589129402, "answer_id": 61715544, "question_id": 28150739, "link": "https://stackoverflow.com/questions/28150739/add-functions-to-an-enum/61715544#61715544", "title": "Add functions to an Enum", "body": "<p>An addition to Fenton's solution.\nIf you want to use this enumerator in another class, you need to export both the enum and the namespace. It would look like this:</p>\n\n<pre><code>export enum Mode {\n    landscape,\n    portrait\n}\n\nexport namespace Mode {\n    export function toString(mode: Mode): string {\n        return Mode[mode];\n    }\n}\n</code></pre>\n\n<p>Then you just import the mode.enum.ts file in your class and use it.</p>\n"}], "owner": {"reputation": 1500, "user_id": 1654375, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/sl6tt.jpg?s=128&g=1", "display_name": "Mr. Baudin", "link": "https://stackoverflow.com/users/1654375/mr-baudin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51421, "favorite_count": 15, "accepted_answer_id": 28151986, "answer_count": 5, "score": 88, "last_activity_date": 1602137737, "creation_date": 1422277887, "last_edit_date": 1599123722, "question_id": 28150739, "link": "https://stackoverflow.com/questions/28150739/add-functions-to-an-enum", "title": "Add functions to an Enum", "body": "<p>Is it possible to add functions to an Enum type in TypeScript?</p>\n\n<p>for example: </p>\n\n<pre><code>enum Mode {\n    landscape,\n    portrait,\n\n    // the dream...\n    toString() { console.log(this); } \n}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>class ModeExtension {\n    public toString = () =&gt; console.log(this);\n}\n\nenum Mode extends ModeExtension {\n    landscape,\n    portrait,\n}\n</code></pre>\n\n<p>Of course the <code>toString()</code> function would contain something like a <code>switch</code> But a use-case would flow along the lines of:</p>\n\n<pre><code>class Device {\n    constructor(public mode:Mode) {\n        console.log(this.mode.toString());\n    }\n}\n</code></pre>\n\n<p>I understand why extending an <code>enum</code> might be a strange thing, just wondering if it is possible.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1422271047, "post_id": 28149029, "comment_id": 44669420, "body": "Can you share a more complete code example so I can see what you are trying to do?"}], "answers": [{"comments": [{"owner": {"reputation": 6523, "user_id": 499922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/168958e86210e7a60277634309705672?s=128&d=identicon&r=PG", "display_name": "billc.cn", "link": "https://stackoverflow.com/users/499922/billc-cn"}, "edited": false, "score": 0, "creation_date": 1422279197, "post_id": 28149117, "comment_id": 44673376, "body": "Hi, it seems the key is the constructor definition in the interface. However, The interface I want to use is one that can also be implemented by a normal instance, so this won&#39;t really do. The new error is <code>Cannot use &#39;new&#39; with an expression whose type lacks a call or construct signature.</code>"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 6523, "user_id": 499922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/168958e86210e7a60277634309705672?s=128&d=identicon&r=PG", "display_name": "billc.cn", "link": "https://stackoverflow.com/users/499922/billc-cn"}, "edited": false, "score": 0, "creation_date": 1422281657, "post_id": 28149117, "comment_id": 44674786, "body": "You probably want to separate out the instance interface and the static interface. For example, perhaps you want it to work like jQuery where the JQueryStatic interface returns an instance that implements the JQuery interface."}, {"owner": {"reputation": 6523, "user_id": 499922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/168958e86210e7a60277634309705672?s=128&d=identicon&r=PG", "display_name": "billc.cn", "link": "https://stackoverflow.com/users/499922/billc-cn"}, "edited": false, "score": 0, "creation_date": 1422285514, "post_id": 28149117, "comment_id": 44677323, "body": "Yes. That would do it. Thanks!"}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 2, "last_activity_date": 1422271259, "creation_date": 1422271259, "answer_id": 28149117, "question_id": 28149029, "link": "https://stackoverflow.com/questions/28149029/typescript-specify-the-interface-of-the-static-part-of-an-export-class/28149117#28149117", "title": "TypeScript: Specify the interface of the static part of an export class?", "body": "<p>Here is a working example based on the TypeScript Handbook:</p>\n\n<pre><code>module Example {\n    export interface ClockStatic {\n        new (hour: number, minute: number);\n    }\n\n    class Clock {\n        currentTime: Date;\n        constructor(h: number, m: number) { }\n    }\n\n    export var cs: ClockStatic = Clock;\n}\n\nvar newClock = new Example.cs(7, 30);\n</code></pre>\n\n<p>It is important that you export the interface, and that the class implements the interface correctly.</p>\n"}], "owner": {"reputation": 6523, "user_id": 499922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/168958e86210e7a60277634309705672?s=128&d=identicon&r=PG", "display_name": "billc.cn", "link": "https://stackoverflow.com/users/499922/billc-cn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 763, "favorite_count": 0, "accepted_answer_id": 28149117, "answer_count": 1, "score": 0, "last_activity_date": 1422279056, "creation_date": 1422270834, "last_edit_date": 1422279056, "question_id": 28149029, "link": "https://stackoverflow.com/questions/28149029/typescript-specify-the-interface-of-the-static-part-of-an-export-class", "title": "TypeScript: Specify the interface of the static part of an export class?", "body": "<p>I tried to use the trick under the \"<a href=\"http://www.typescriptlang.org/Handbook#interfaces-class-types\" rel=\"nofollow\">Difference between static/instance side of class</a>\"  section of the Handbook to specify a interface for the static side (i.e. the function) of a class:</p>\n\n<pre><code>export interface StaticInterface {\n    info: string;\n}\nclass _X {\n    static info = 'something';\n    ...\n}\nexport var X: StaticInterface = _X;\n</code></pre>\n\n<p>But when I tried to <code>extend theModule.X</code> in another file, the compiler says:</p>\n\n<pre><code>error TS2305: Module '\"...\"' has no exported member 'X'.\n</code></pre>\n"}, {"tags": ["jquery", "typescript"], "comments": [{"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1422270060, "post_id": 28148329, "comment_id": 44669012, "body": "I am using Visual Studio 2013, TypeScript 1.4 and jquery.TypeScript.DefinitelyTyped version 2.1.7 - and it works fine. If you are using the latest version of the type definition, it relies on features of TypeScript 1.4."}, {"owner": {"reputation": 1144, "user_id": 3421515, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b089b7ae0dc1bc936ad03138b530143c?s=128&d=identicon&r=PG&f=1", "display_name": "arnes", "link": "https://stackoverflow.com/users/3421515/arnes"}, "reply_to_user": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1422287234, "post_id": 28148329, "comment_id": 44678459, "body": "I also using typescript 1.4 and jquery. Typescript.DefinetelyTyped version is 2.1.7 but it gives compile error but it works fine in runtime :)"}], "answers": [{"comments": [{"owner": {"reputation": 945, "user_id": 3069792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56925fc45c3281e3358a1f8d6b5dbfab?s=128&d=identicon&r=PG", "display_name": "Dzoukr", "link": "https://stackoverflow.com/users/3069792/dzoukr"}, "edited": false, "score": 0, "creation_date": 1422624302, "post_id": 28232332, "comment_id": 44834991, "body": "That helped! Thanks Will!"}, {"owner": {"reputation": 244, "user_id": 498001, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6d08ba668502acf3a8e7716cd4aaffa5?s=128&d=identicon&r=PG", "display_name": "user498001", "link": "https://stackoverflow.com/users/498001/user498001"}, "edited": false, "score": 0, "creation_date": 1436680246, "post_id": 28232332, "comment_id": 50709880, "body": "I didn&#39;t know how to get to the NuGet Console.  In Visual Studio 2013 Tools -&gt; NuGet Package Manager -&gt; Package Manager Console."}], "tags": [], "owner": {"reputation": 37528, "user_id": 987, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8eab3888c782573d1bdcbd1616bc3ba?s=128&d=identicon&r=PG", "display_name": "Will Dean", "link": "https://stackoverflow.com/users/987/will-dean"}, "is_accepted": false, "score": 23, "last_activity_date": 1430139341, "last_edit_date": 1430139341, "creation_date": 1422608267, "answer_id": 28232332, "question_id": 28148329, "link": "https://stackoverflow.com/questions/28148329/value-of-type-jquerystatic-is-not-callable/28232332#28232332", "title": "Value of type &quot;JqueryStatic&quot; is not callable", "body": "<p>Resharper 9.0 does not support the new union types which have just arrived in TypeScript, and which have appeared in jquery.d.ts in the last few releases.</p>\n\n<p>Resharper 9.1 <a href=\"http://blog.jetbrains.com/dotnet/2015/04/21/typescript-and-ecmascript-6-in-resharper-9-1/\">supports Typescript unions</a>, so it fixes this.</p>\n\n<p>If you can't update, do this in your nuget console:</p>\n\n<pre><code>uninstall-package jquery.TypeScript.DefinitelyTyped -force\ninstall-package jquery.TypeScript.DefinitelyTyped -version 2.1.4\n</code></pre>\n"}], "owner": {"reputation": 1144, "user_id": 3421515, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b089b7ae0dc1bc936ad03138b530143c?s=128&d=identicon&r=PG&f=1", "display_name": "arnes", "link": "https://stackoverflow.com/users/3421515/arnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2924, "favorite_count": 2, "answer_count": 1, "score": 10, "last_activity_date": 1430139341, "creation_date": 1422267949, "question_id": 28148329, "link": "https://stackoverflow.com/questions/28148329/value-of-type-jquerystatic-is-not-callable", "title": "Value of type &quot;JqueryStatic&quot; is not callable", "body": "<p>I am developing a typescript project. When I call \"$\" editor says \"Value of type 'JqueryStatic' is not callable.\". I installed jquery.definetelyTyped package and I also referenced jquery.d.ts file.</p>\n\n<p><img src=\"https://i.stack.imgur.com/SmMbY.jpg\" alt=\"Image\"></p>\n"}, {"tags": ["javascript", "ember.js", "typescript", "ember-data", "typescript1.4"], "answers": [{"comments": [{"owner": {"reputation": 855, "user_id": 4494128, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1bf523e64abc4abeb6ec15c57ccc2e09?s=128&d=identicon&r=PG&f=1", "display_name": "Nefarious", "link": "https://stackoverflow.com/users/4494128/nefarious"}, "edited": false, "score": 0, "creation_date": 1422280098, "post_id": 28148926, "comment_id": 44673839, "body": "But this is still javascript. I was looking for a solution which uses pure typeScript."}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 855, "user_id": 4494128, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1bf523e64abc4abeb6ec15c57ccc2e09?s=128&d=identicon&r=PG&f=1", "display_name": "Nefarious", "link": "https://stackoverflow.com/users/4494128/nefarious"}, "edited": false, "score": 1, "creation_date": 1422281590, "post_id": 28148926, "comment_id": 44674749, "body": "When using some libraries, it is not possible to extend the objects in the library (if they haven&#39;t been written with this in mind). I believe Ember ObjectController objects are usable, so you can extend them using a TypeScript class. Example added."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 2, "last_activity_date": 1422281528, "last_edit_date": 1422281528, "creation_date": 1422270322, "answer_id": 28148926, "question_id": 28147145, "link": "https://stackoverflow.com/questions/28147145/ember-js-observers-and-computed-properties-in-typescript/28148926#28148926", "title": "Ember js observers and computed properties in typescript", "body": "<p>Here is a version of your code that will compile:</p>\n\n<pre><code>module App {\n\n    export var UserController = Ember.ObjectController.extend({\n        firstName: \"John\",\n        lastName: \"Doe\",\n        fullName: function () {\n            return this.get(\"firstName\") + \" \" + this.get(\"lastName\");\n        }.property('model.isCompleted')\n    });\n}\n\n// Example:\nvar x = App.UserController;\n</code></pre>\n\n<p>Update</p>\n\n<p>You can implement this with a class, here is an example that compiles:</p>\n\n<pre><code>class UserController extends Ember.ObjectController {\n    private firstName: string;\n    private lastName: string;\n\n    constructor() {\n        super();\n        this.firstName = \"John\";\n        this.lastName = \"Doe\";\n    }\n\n    get fullName(): string {\n        return this.firstName + \" \" + this.lastName;\n    }\n}\n\nvar x = new UserController();\n\nconsole.log(JSON.stringify(x));\n</code></pre>\n"}], "owner": {"reputation": 855, "user_id": 4494128, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1bf523e64abc4abeb6ec15c57ccc2e09?s=128&d=identicon&r=PG&f=1", "display_name": "Nefarious", "link": "https://stackoverflow.com/users/4494128/nefarious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 547, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1422281528, "creation_date": 1422263079, "last_edit_date": 1422280535, "question_id": 28147145, "link": "https://stackoverflow.com/questions/28147145/ember-js-observers-and-computed-properties-in-typescript", "title": "Ember js observers and computed properties in typescript", "body": "<p>How can I define emberjs observers and computed properties using typescript?</p>\n\n<p>I need to write the following code in typescript.</p>\n\n<pre><code>module App {\nApp.UserController = ember.ObjectController.extend({\n    firstName: \"John\",\n    lastName: \"Doe\",\n    fullName: function() {\n       return this.get(\"firstName\") + \" \" + this.get(\"lastName\");\n    }.property(\"firstName\", \"lastName\")\n});\n}\n</code></pre>\n\n<p>Something like:</p>\n\n<pre><code>class UserController extends ember.ObjectController {\n    firstName: string;\n    lastName: string;\n\n    constructor() {\n        super();\n        this.firstName = \"John\";\n        this.lastName = \"Doe\";\n    }\n\n    get fullName(): string {\n        return this.firstName + \" \" + this.lastName;\n    }.property(\"firstName\", \"lastName\")\n}\n</code></pre>\n\n<p>But this doesnt seem to work. Can someone tell me the correct way to do this without using javascript?</p>\n"}, {"tags": ["visual-studio", "typescript"], "comments": [{"owner": {"reputation": 12389, "user_id": 1233508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/93MDM.jpg?s=128&g=1", "display_name": "DCoder", "link": "https://stackoverflow.com/users/1233508/dcoder"}, "edited": false, "score": 0, "creation_date": 1422195704, "post_id": 28136738, "comment_id": 44646567, "body": "You want Visual Studio for <i>Web</i> , not <i>Desktop</i>."}, {"owner": {"reputation": 1, "user_id": 4491960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93fd4fbebea2ef0e4c76654a8472afa9?s=128&d=identicon&r=PG&f=1", "display_name": "UltraGamer", "link": "https://stackoverflow.com/users/4491960/ultragamer"}, "reply_to_user": {"reputation": 12389, "user_id": 1233508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/93MDM.jpg?s=128&g=1", "display_name": "DCoder", "link": "https://stackoverflow.com/users/1233508/dcoder"}, "edited": false, "score": 0, "creation_date": 1422199560, "post_id": 28136738, "comment_id": 44647594, "body": "Ok, I will install VS for Web"}, {"owner": {"reputation": 9151, "user_id": 783653, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4a35d104523ef520dd5d9f60c7e1eeb1?s=128&d=identicon&r=PG", "display_name": "vilicvane", "link": "https://stackoverflow.com/users/783653/vilicvane"}, "edited": false, "score": 1, "creation_date": 1422208123, "post_id": 28136738, "comment_id": 44650422, "body": "Why not just install Visual Studio 2013 Community?"}], "owner": {"reputation": 1, "user_id": 4491960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93fd4fbebea2ef0e4c76654a8472afa9?s=128&d=identicon&r=PG&f=1", "display_name": "UltraGamer", "link": "https://stackoverflow.com/users/4491960/ultragamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1422191240, "creation_date": 1422191240, "question_id": 28136738, "link": "https://stackoverflow.com/questions/28136738/how-to-get-typescript-with-vs-2013-for-windows-desktop", "title": "How to get TypeScript with VS 2013 for Windows Desktop", "body": "<p>I have Visual Studio 2013 for Windows Desktop and I tried to install TypeScript plugin. It installed successfully, then I opened Visual Studio, but I didn't see it anywhere, even under the Visual Basic or Visual C# Templates.</p>\n\n<p>What should I do to make it work ? </p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "typescript"], "comments": [{"owner": {"reputation": 1537, "user_id": 1569752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/343687f9de9712c0f1e4dce33ba92d1e?s=128&d=identicon&r=PG", "display_name": "Ma&#39;moon Al-Akash", "link": "https://stackoverflow.com/users/1569752/mamoon-al-akash"}, "edited": false, "score": 1, "creation_date": 1422195654, "post_id": 28136650, "comment_id": 44646556, "body": "Did you try to execute <code>npm update</code> before doing it?"}], "answers": [{"comments": [{"owner": {"reputation": 5561, "user_id": 977828, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f71676e5d2fe91ec93573b686a486604?s=128&d=identicon&r=PG", "display_name": "user977828", "link": "https://stackoverflow.com/users/977828/user977828"}, "edited": false, "score": 0, "creation_date": 1422228302, "post_id": 28140516, "comment_id": 44657161, "body": "Thank you, I removed <code>&gt;=</code>, but when I loaded <code>localhost:3000</code> this error appeared: <code>TypeError: Property &#39;engine&#39; of object #&lt;View&gt; is not a function     at View.render (&#47;home&#47;u&#47;tmp&#47;TypeScriptSamples&#47;imageboard&#47;node_modules&#47;expre&zwnj;&#8203;ss&#47;lib&#47;view.js:75:8) ...</code>"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1422214014, "creation_date": 1422214014, "answer_id": 28140516, "question_id": 28136650, "link": "https://stackoverflow.com/questions/28136650/mongodb-error-cannot-find-module-build-release-bson/28140516#28140516", "title": "MongoDB - Error: Cannot find module &#39;../build/Release/bson&#39;", "body": "<blockquote>\n  <p>looking at db.ts I think http and url are missing in package.json file, am I right?</p>\n</blockquote>\n\n<p>No. These modules are a part of core nodejs. </p>\n\n<p>The source of the error is the package.json specifying minimum numbers without backward in compatible version locks. <a href=\"https://github.com/Microsoft/TypeScriptSamples/blob/master/imageboard/package.json#L6\" rel=\"nofollow\">https://github.com/Microsoft/TypeScriptSamples/blob/master/imageboard/package.json#L6</a> I would change '>=' to be harder versions e.g. 3.x </p>\n"}, {"tags": [], "owner": {"reputation": 11571, "user_id": 1830228, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/8Yfo5.png?s=128&g=1", "display_name": "DolDurma", "link": "https://stackoverflow.com/users/1830228/doldurma"}, "is_accepted": false, "score": 7, "last_activity_date": 1425590292, "creation_date": 1425590292, "answer_id": 28887920, "question_id": 28136650, "link": "https://stackoverflow.com/questions/28136650/mongodb-error-cannot-find-module-build-release-bson/28887920#28887920", "title": "MongoDB - Error: Cannot find module &#39;../build/Release/bson&#39;", "body": "<p>in Linux operating system first remove bson folder from <code>node_modules</code> and run this command:</p>\n\n<pre><code>sudo apt-get install gcc make build-essential \n</code></pre>\n\n<p>and then restart nodejs file such as <code>index.js</code>. Hope its helpful </p>\n"}, {"tags": [], "owner": {"reputation": 909, "user_id": 3892821, "user_type": "registered", "profile_image": "https://graph.facebook.com/613027852/picture?type=large", "display_name": "Harry Martel", "link": "https://stackoverflow.com/users/3892821/harry-martel"}, "is_accepted": false, "score": 2, "last_activity_date": 1430341114, "creation_date": 1430341114, "answer_id": 29954415, "question_id": 28136650, "link": "https://stackoverflow.com/questions/28136650/mongodb-error-cannot-find-module-build-release-bson/29954415#29954415", "title": "MongoDB - Error: Cannot find module &#39;../build/Release/bson&#39;", "body": "<p>I am using connect-mongo for sessions. I had the same problem and was because the version of connect-mongo generated an error with the version 4.0.x of mongoose. You could check each version of the dependencies you are using.</p>\n"}], "owner": {"reputation": 5561, "user_id": 977828, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f71676e5d2fe91ec93573b686a486604?s=128&d=identicon&r=PG", "display_name": "user977828", "link": "https://stackoverflow.com/users/977828/user977828"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9671, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1430341114, "creation_date": 1422190680, "last_edit_date": 1422195109, "question_id": 28136650, "link": "https://stackoverflow.com/questions/28136650/mongodb-error-cannot-find-module-build-release-bson", "title": "MongoDB - Error: Cannot find module &#39;../build/Release/bson&#39;", "body": "<p>I tried to run a typescript <a href=\"https://github.com/Microsoft/TypeScriptSamples/tree/master/imageboard\" rel=\"nofollow\">example</a> in the following way which caused following error:</p>\n\n<pre><code>$ mongod --dbpath /home/u/databases\n$ npm install\n$ tsc --sourcemap --module commonjs app.ts\n$ node app.js                             \n{ [Error: Cannot find module '../build/Release/bson'] code: 'MODULE_NOT_FOUND' }\njs-bson: Failed to load c++ bson extension, using pure JS version\n========================================================================================\n=  Please ensure that you set the default write concern for the database by setting    =\n=   one of the options                                                                 =\n=                                                                                      =\n=     w: (value of &gt; -1 or the string 'majority'), where &lt; 1 means                     =\n=        no write acknowledgement                                                       =\n=     journal: true/false, wait for flush to journal before acknowledgement             =\n=     fsync: true/false, wait for flush to file system before acknowledgement           =\n=                                                                                      =\n=  For backward compatibility safe is still supported and                              =\n=   allows values of [true | false | {j:true} | {w:n, wtimeout:n} | {fsync:true}]      =\n=   the default value is false which means the driver receives does not                =\n=   return the information of the success/error of the insert/update/remove            =\n=                                                                                      =\n=   ex: new Db(new Server('localhost', 27017), {safe:false})                           =\n=                                                                                      =\n=   http://www.mongodb.org/display/DOCS/getLastError+Command                           =\n=                                                                                      =\n=  The default of no acknowledgement will change in the very near future                =\n=                                                                                      =\n=  This message will disappear when the default safe is set on the driver Db           =\n========================================================================================\n\n/home/u/tmp/TypeScriptSamples/imageboard/app.js:9\napp.configure(function () {\n    ^\nTypeError: Object function (req, res, next) {\n    app.handle(req, res, next);\n  } has no method 'configure'\n    at Object.&lt;anonymous&gt; (/home/u/tmp/TypeScriptSamples/imageboard/app.js:9:5)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Function.Module.runMain (module.js:497:10)\n    at startup (node.js:119:16)\n    at node.js:929:3\n</code></pre>\n\n<p>Furthermore, looking at db.ts I think <code>http</code> and <code>url</code> are missing in <code>package.json</code> file, am I right?</p>\n\n<p>How is it possible to fix the above error with mongodb?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 14131, "user_id": 2224996, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EDCvE.jpg?s=128&g=1", "display_name": "maja", "link": "https://stackoverflow.com/users/2224996/maja"}, "edited": false, "score": 0, "creation_date": 1422193788, "post_id": 28136150, "comment_id": 44646019, "body": "Could you explain the values of v1, v2,... more? They need to consist out of two different values - either <code>direction and speed</code> or <code>x and y</code>. Depending on how v is represented, the formulas are different."}, {"owner": {"reputation": 14131, "user_id": 2224996, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EDCvE.jpg?s=128&g=1", "display_name": "maja", "link": "https://stackoverflow.com/users/2224996/maja"}, "edited": false, "score": 0, "creation_date": 1422193896, "post_id": 28136150, "comment_id": 44646046, "body": "In addition, if v is represented as <code>direction and speed</code>, how is the direction (=angle) represented? Degrees (0 - 360)? Radiant (0 - 2*PI)? Percent (0 - 100)?"}, {"owner": {"reputation": 5500, "user_id": 1041515, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5c7ee10ab6a1f9314a4f9b915f1dc386?s=128&d=identicon&r=PG&f=1", "display_name": "Quolonel Questions", "link": "https://stackoverflow.com/users/1041515/quolonel-questions"}, "reply_to_user": {"reputation": 14131, "user_id": 2224996, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EDCvE.jpg?s=128&g=1", "display_name": "maja", "link": "https://stackoverflow.com/users/2224996/maja"}, "edited": false, "score": 0, "creation_date": 1422208857, "post_id": 28136150, "comment_id": 44650687, "body": "@maja My opening sentence explains that my vectors comprise speed and direction. You should be able to see from the image that angle <i>x</i> is specified in radians (<i>rad</i> for short)."}], "answers": [{"comments": [{"owner": {"reputation": 14131, "user_id": 2224996, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EDCvE.jpg?s=128&g=1", "display_name": "maja", "link": "https://stackoverflow.com/users/2224996/maja"}, "edited": false, "score": 0, "creation_date": 1422188195, "post_id": 28136189, "comment_id": 44644360, "body": "If the values of <code>v1</code> are represented as an angle (direction) and speed, your answer is better than mine."}, {"owner": {"reputation": 20729, "user_id": 1470607, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/6CA0X.png?s=128&g=1", "display_name": "Etheryte", "link": "https://stackoverflow.com/users/1470607/etheryte"}, "edited": false, "score": 0, "creation_date": 1422190419, "post_id": 28136189, "comment_id": 44644977, "body": "Or you could just solve the whole problem in polar coordinates since that would save you both the trouble of converting and the inaccuracy it creates. The same principles apply regarding the calculations."}, {"owner": {"reputation": 5500, "user_id": 1041515, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5c7ee10ab6a1f9314a4f9b915f1dc386?s=128&d=identicon&r=PG&f=1", "display_name": "Quolonel Questions", "link": "https://stackoverflow.com/users/1041515/quolonel-questions"}, "edited": false, "score": 0, "creation_date": 1422191056, "post_id": 28136189, "comment_id": 44645175, "body": "I don&#39;t understand this answer at all. I am dealing with two input velocities, <i>v</i> and <i>v2</i>, but I cannot see how they are plugged into this calculation because this answer makes no reference to either. I apologise but I am not very smart with numbers."}, {"owner": {"reputation": 3355, "user_id": 480529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4b7b7fbfc2e7e23b3856161ecea29a21?s=128&d=identicon&r=PG", "display_name": "R&#233;mi", "link": "https://stackoverflow.com/users/480529/r%c3%a9mi"}, "edited": false, "score": 0, "creation_date": 1422191536, "post_id": 28136189, "comment_id": 44645321, "body": "I edited my answer to explain more. I don&#39;t know typescript. Maybe the function names are a bit different there."}, {"owner": {"reputation": 5500, "user_id": 1041515, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5c7ee10ab6a1f9314a4f9b915f1dc386?s=128&d=identicon&r=PG&f=1", "display_name": "Quolonel Questions", "link": "https://stackoverflow.com/users/1041515/quolonel-questions"}, "edited": false, "score": 0, "creation_date": 1422191980, "post_id": 28136189, "comment_id": 44645431, "body": "TypeScript is a superset of JavaScript so the function names are exactly the same. Thanks R&#233;mi I will give it a try now!"}, {"owner": {"reputation": 5500, "user_id": 1041515, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5c7ee10ab6a1f9314a4f9b915f1dc386?s=128&d=identicon&r=PG&f=1", "display_name": "Quolonel Questions", "link": "https://stackoverflow.com/users/1041515/quolonel-questions"}, "reply_to_user": {"reputation": 20729, "user_id": 1470607, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/6CA0X.png?s=128&g=1", "display_name": "Etheryte", "link": "https://stackoverflow.com/users/1470607/etheryte"}, "edited": false, "score": 0, "creation_date": 1422197010, "post_id": 28136189, "comment_id": 44646953, "body": "@Nit How would one do that?"}, {"owner": {"reputation": 20729, "user_id": 1470607, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/6CA0X.png?s=128&g=1", "display_name": "Etheryte", "link": "https://stackoverflow.com/users/1470607/etheryte"}, "reply_to_user": {"reputation": 5500, "user_id": 1041515, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5c7ee10ab6a1f9314a4f9b915f1dc386?s=128&d=identicon&r=PG&f=1", "display_name": "Quolonel Questions", "link": "https://stackoverflow.com/users/1041515/quolonel-questions"}, "edited": false, "score": 0, "creation_date": 1422216423, "post_id": 28136189, "comment_id": 44653408, "body": "@QuolonelQuestions <a href=\"https://sites.google.com/site/algebraii4sage/home/resources/stars-lessons/lesson-35-vector-addition-and-polar-coordinates\" rel=\"nofollow noreferrer\">sites.google.com/site/algebraii4sage/home/resources/&hellip;</a>"}, {"owner": {"reputation": 5500, "user_id": 1041515, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5c7ee10ab6a1f9314a4f9b915f1dc386?s=128&d=identicon&r=PG&f=1", "display_name": "Quolonel Questions", "link": "https://stackoverflow.com/users/1041515/quolonel-questions"}, "reply_to_user": {"reputation": 20729, "user_id": 1470607, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/6CA0X.png?s=128&g=1", "display_name": "Etheryte", "link": "https://stackoverflow.com/users/1470607/etheryte"}, "edited": false, "score": 0, "creation_date": 1422229837, "post_id": 28136189, "comment_id": 44657585, "body": "@Nit Can you express the solution as a procedural program?"}, {"owner": {"reputation": 5500, "user_id": 1041515, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5c7ee10ab6a1f9314a4f9b915f1dc386?s=128&d=identicon&r=PG&f=1", "display_name": "Quolonel Questions", "link": "https://stackoverflow.com/users/1041515/quolonel-questions"}, "reply_to_user": {"reputation": 20729, "user_id": 1470607, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/6CA0X.png?s=128&g=1", "display_name": "Etheryte", "link": "https://stackoverflow.com/users/1470607/etheryte"}, "edited": false, "score": 0, "creation_date": 1422797714, "post_id": 28136189, "comment_id": 44883343, "body": "@Nit It seems you are incorrect as I have implemented the method described in the linked document to add two vectors together, but since the formula uses <code>asin</code> instead of <code>atan2</code>, information about the correct quadrant is lost and so my y-axis is inverted. At least that is my best explanation for what I am now observing."}, {"owner": {"reputation": 3355, "user_id": 480529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4b7b7fbfc2e7e23b3856161ecea29a21?s=128&d=identicon&r=PG", "display_name": "R&#233;mi", "link": "https://stackoverflow.com/users/480529/r%c3%a9mi"}, "edited": false, "score": 0, "creation_date": 1422821683, "post_id": 28136189, "comment_id": 44890780, "body": "I don&#39;t understand how it would be possible to &quot;solve the whole problem in polar coordinates&quot;. I don&#39;t believe there is a simpler and more accurate way to do (compared to my solution)."}], "tags": [], "owner": {"reputation": 3355, "user_id": 480529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4b7b7fbfc2e7e23b3856161ecea29a21?s=128&d=identicon&r=PG", "display_name": "R&#233;mi", "link": "https://stackoverflow.com/users/480529/r%c3%a9mi"}, "is_accepted": true, "score": 4, "last_activity_date": 1422191476, "last_edit_date": 1422191476, "creation_date": 1422187634, "answer_id": 28136189, "question_id": 28136150, "link": "https://stackoverflow.com/questions/28136150/calculating-the-result-of-adding-two-velocities/28136189#28136189", "title": "Calculating the result of adding two velocities", "body": "<p>The simplest solution consists in converting to cartesian coordinates, add the coordinates there, then convert back to polar coordinates.</p>\n\n<p>converting to cartesian:</p>\n\n<pre><code>x = speed * cos(direction)\ny = speed * sin(direction)\n</code></pre>\n\n<p>back to polar:</p>\n\n<pre><code>speed = sqrt(x * x + y * y)\ndirection = atan2(y, x)\n</code></pre>\n\n<p>It might be a better idea to store your velocities in cartesian coordinates.</p>\n\n<p>Edit: using your variable names: v, v2, v3, and angles a, a2, a3:</p>\n\n<pre><code>x = v * cos(a)\ny = v * sin(a)\n\nx2 = v2 * cos(a2)\ny2 = v2 * sin(a2)\n\nx3 = x + x2\ny3 = y + y2\n\nv3 = sqrt(x3 * x3 + y3 * y3)\na3 = atan2(y3, x3)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3355, "user_id": 480529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4b7b7fbfc2e7e23b3856161ecea29a21?s=128&d=identicon&r=PG", "display_name": "R&#233;mi", "link": "https://stackoverflow.com/users/480529/r%c3%a9mi"}, "edited": false, "score": 0, "creation_date": 1422187981, "post_id": 28136194, "comment_id": 44644303, "body": "arcsin won&#39;t get you the angle back. It will give you the same result if x is negated, for instance. Same for atan if you negate both. see <a href=\"http://en.wikipedia.org/wiki/Atan2\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Atan2</a>"}, {"owner": {"reputation": 14131, "user_id": 2224996, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EDCvE.jpg?s=128&g=1", "display_name": "maja", "link": "https://stackoverflow.com/users/2224996/maja"}, "reply_to_user": {"reputation": 3355, "user_id": 480529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4b7b7fbfc2e7e23b3856161ecea29a21?s=128&d=identicon&r=PG", "display_name": "R&#233;mi", "link": "https://stackoverflow.com/users/480529/r%c3%a9mi"}, "edited": false, "score": 0, "creation_date": 1422189989, "post_id": 28136194, "comment_id": 44644855, "body": "@R&#233;mi I used the mathemetical notation for &quot;arcus tangent&quot;, which is &quot;arctan&quot; or short &quot;atan&quot;. <code>atan2()</code> is the function name in JavaScript, which can vary depending on the programming language used. I wanted to provide a generic solution, nothing JavaScript-specific."}, {"owner": {"reputation": 3355, "user_id": 480529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4b7b7fbfc2e7e23b3856161ecea29a21?s=128&d=identicon&r=PG", "display_name": "R&#233;mi", "link": "https://stackoverflow.com/users/480529/r%c3%a9mi"}, "edited": false, "score": 0, "creation_date": 1422191589, "post_id": 28136194, "comment_id": 44645334, "body": "I mean that atan and atan2 are two very different functions. From the wikipedia page: &quot;The purpose of using two arguments instead of one is to gather information on the signs of the inputs in order to return the appropriate quadrant of the computed angle, which is not possible for the single-argument arctangent function&quot;."}], "tags": [], "owner": {"reputation": 14131, "user_id": 2224996, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EDCvE.jpg?s=128&g=1", "display_name": "maja", "link": "https://stackoverflow.com/users/2224996/maja"}, "is_accepted": false, "score": 1, "last_activity_date": 1422209292, "last_edit_date": 1422209292, "creation_date": 1422187649, "answer_id": 28136194, "question_id": 28136150, "link": "https://stackoverflow.com/questions/28136150/calculating-the-result-of-adding-two-velocities/28136194#28136194", "title": "Calculating the result of adding two velocities", "body": "<p>So you have an object flying in the direction <code>v1</code>.\nIn order to support velocities, you just have to add them to <code>v1</code> for each frame / simulation step:</p>\n\n<pre><code>var v2;\nwhile(simulation is running){\n    v1 = v1 + v2;\n}\n</code></pre>\n\n<p>You can represent <code>v1</code>, <code>v2</code> as vectors with the components <code>x</code> and <code>y</code>.</p>\n\n<p>In order to convert you values, you can use <code>x = speed * cos(direction)</code> and <code>y = speed * sin(direction)</code> as supposed by R\u00e9mi.</p>\n\n<p>Your addition will then look as follows:</p>\n\n<pre><code>v1.x = v1.x + v2.x;\nv1.y = v1.y + v2.y;\n</code></pre>\n\n<p>In order to get the angle of a vector, you can use the formula <code>tan(angle) = y / x</code>, resulting in </p>\n\n<pre><code>angle = atan(y/x)\n</code></pre>\n\n<p>The according JavaScript call is <code>var angle = atan2(v1.y, v1.x);</code>.</p>\n\n<p>The length of your vector (= speed of you object) can be calculated with </p>\n\n<pre><code>speed = sqrt(v1.x * v1.x + v1.y * v1.y)\n</code></pre>\n"}], "owner": {"reputation": 5500, "user_id": 1041515, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5c7ee10ab6a1f9314a4f9b915f1dc386?s=128&d=identicon&r=PG&f=1", "display_name": "Quolonel Questions", "link": "https://stackoverflow.com/users/1041515/quolonel-questions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 1, "accepted_answer_id": 28136189, "answer_count": 2, "score": 5, "last_activity_date": 1422209292, "creation_date": 1422187393, "question_id": 28136150, "link": "https://stackoverflow.com/questions/28136150/calculating-the-result-of-adding-two-velocities", "title": "Calculating the result of adding two velocities", "body": "<p>I have a simple 2D system in which a velocity is represented as a speed (some value) and direction (an angle). If I have an object travelling at a given velocity <em>v</em>, when another velocity <em>v<sub>2</sub></em> acts upon it I want to calculate the resultant velocity <em>v<sub>3</sub></em>.</p>\n\n<p>I have created the following illustration to explain the physics system I wish to implement. The speeds and angles may not be exactly correct because I do not know how to calculate them yet - that is the crux of this question - yet they serve as a fairly close guideline.</p>\n\n<p><img src=\"https://i.stack.imgur.com/OBcNO.png\" alt=\"\"></p>\n\n<p>Is there an elegant solution for calculating the resultant velocities <em>v<sub>3</sub></em>, when new velocity <em>v<sub>2</sub></em> acts upon an object travelling at <em>v</em>?</p>\n\n<p>Please note that I have a very limited understanding of mathematics but a good understanding of programming. I am coding in TypeScript but any answer in JavaScript, pseudo code, or very clear explanation (not riddled with cryptic mathematical symbols) is helpful.</p>\n"}, {"tags": ["typescript", "tsc"], "answers": [{"comments": [{"owner": {"reputation": 23308, "user_id": 4066, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/57334b81063ed880c736fe49b02c2273?s=128&d=identicon&r=PG", "display_name": "Adam Tegen", "link": "https://stackoverflow.com/users/4066/adam-tegen"}, "edited": false, "score": 1, "creation_date": 1422144729, "post_id": 28131699, "comment_id": 44636114, "body": "Turns out, I had an old copy of typescript laying around. I did a search for tsc.exe and found one from 0.8.x and 1.0.x  Once I removed these, everything was peachy"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 1, "last_activity_date": 1422144074, "creation_date": 1422144074, "answer_id": 28131699, "question_id": 28131596, "link": "https://stackoverflow.com/questions/28131596/typescript-tsc-error-on-array/28131699#28131699", "title": "typescript (tsc) error on Array&lt;&gt;", "body": "<p>Check your path (<code>where tsc</code>). This is the error issued by an old pre-generics version of TypeScript (0.8 maybe?).</p>\n"}], "owner": {"reputation": 23308, "user_id": 4066, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/57334b81063ed880c736fe49b02c2273?s=128&d=identicon&r=PG", "display_name": "Adam Tegen", "link": "https://stackoverflow.com/users/4066/adam-tegen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 28131699, "answer_count": 1, "score": 0, "last_activity_date": 1422144709, "creation_date": 1422143193, "question_id": 28131596, "link": "https://stackoverflow.com/questions/28131596/typescript-tsc-error-on-array", "title": "typescript (tsc) error on Array&lt;&gt;", "body": "<p>when I run tsc on the command line (version 1.4.1) on the following file I get an error:  test.ts (1,13): Expected ';'</p>\n\n<pre><code>var x: Array&lt;number&gt;;\nx = [2];\n</code></pre>\n\n<p>Any ideas what might be going on?</p>\n"}, {"tags": ["angularjs", "angularjs-scope", "typescript"], "comments": [{"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1422119124, "post_id": 28127884, "comment_id": 44628839, "body": "not familiar with Typescript . What does  <code>this</code> resolve to inside the callback? When coded in native js <code>this</code> would lose context inside callback and would also be <code>$scope.movie = ...</code> when no controllerAs or <code>thisStoredVariable.movie = ...</code>"}, {"owner": {"reputation": 22869, "user_id": 40676, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/08c50f7e5131844b8ad23aa0fa09c275?s=128&d=identicon&r=PG", "display_name": "Martijn", "link": "https://stackoverflow.com/users/40676/martijn"}, "reply_to_user": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1422119332, "post_id": 28127884, "comment_id": 44628901, "body": "I don&#39;t understand your last part &#39;when no controllerAs or thisStoredVariable.movie = ...&#39;. I have updated my post to show what TypeScript generates"}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1422123665, "post_id": 28127884, "comment_id": 44630315, "body": "Does <code>MovieService</code> invoke a digest cycle in its callbacks? You might need a <code>$scope.apply</code> in your <code>then</code> otherwise"}, {"owner": {"reputation": 120106, "user_id": 1009603, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/spzYW.jpg?s=128&g=1", "display_name": "PSL", "link": "https://stackoverflow.com/users/1009603/psl"}, "edited": false, "score": 1, "creation_date": 1422123922, "post_id": 28127884, "comment_id": 44630402, "body": "I think deleted answer pointed out the right mistace about <code>this.$scope.</code> to  <code>this.movie</code>. Question is did you check what is <code>response</code> ? If <code>getmovieByImdb</code>  does not do any manipulation of data and you are directly chaingin with <code>then</code>, you need to get data as <code>response.data</code>. Without seeing your service it will be difficult for us to help!!"}, {"owner": {"reputation": 22869, "user_id": 40676, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/08c50f7e5131844b8ad23aa0fa09c275?s=128&d=identicon&r=PG", "display_name": "Martijn", "link": "https://stackoverflow.com/users/40676/martijn"}, "reply_to_user": {"reputation": 120106, "user_id": 1009603, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/spzYW.jpg?s=128&g=1", "display_name": "PSL", "link": "https://stackoverflow.com/users/1009603/psl"}, "edited": false, "score": 0, "creation_date": 1422128212, "post_id": 28127884, "comment_id": 44631727, "body": "@PSL You pointed me in the right direction. The problem was I was using <code>response.data</code>. I needed to remove the <code>.data</code> part, because I am using Web Api 2 Controllers with MVC."}, {"owner": {"reputation": 120106, "user_id": 1009603, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/spzYW.jpg?s=128&g=1", "display_name": "PSL", "link": "https://stackoverflow.com/users/1009603/psl"}, "edited": false, "score": 0, "creation_date": 1422128399, "post_id": 28127884, "comment_id": 44631779, "body": "Always debug your own code before posting. Will save hell a lot of time. :)"}, {"owner": {"reputation": 22869, "user_id": 40676, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/08c50f7e5131844b8ad23aa0fa09c275?s=128&d=identicon&r=PG", "display_name": "Martijn", "link": "https://stackoverflow.com/users/40676/martijn"}, "reply_to_user": {"reputation": 120106, "user_id": 1009603, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/spzYW.jpg?s=128&g=1", "display_name": "PSL", "link": "https://stackoverflow.com/users/1009603/psl"}, "edited": false, "score": 0, "creation_date": 1422185209, "post_id": 28127884, "comment_id": 44643609, "body": "@PSL ! know and i usually always do, but I guessI was somewhere else with my mind. Could you create an answer so I can mark your suggestions as an answer?"}], "owner": {"reputation": 22869, "user_id": 40676, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/08c50f7e5131844b8ad23aa0fa09c275?s=128&d=identicon&r=PG", "display_name": "Martijn", "link": "https://stackoverflow.com/users/40676/martijn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1422121098, "creation_date": 1422118427, "last_edit_date": 1422119258, "question_id": 28127884, "link": "https://stackoverflow.com/questions/28127884/why-is-my-scope-property-not-visible-in-the-view", "title": "Why is my scope property not visible in the view?", "body": "<p>I use TypeScript to build my Angular application.</p>\n\n<p>Here's my routing:</p>\n\n<pre><code>app.config([\"$routeProvider\", ($routeProvider: ng.route.IRouteProvider) =&gt; {\n    $routeProvider.\n        when('/Movie/:imdb', {\n            templateUrl: '/Partials/Movie/Details.html',\n            controller: 'MovieController',\n            controllerAs: 'vm',\n        }).\n        otherwise({\n            redirectTo: '/Rent'\n        });\n}]);\n</code></pre>\n\n<p>Here is my controller:</p>\n\n<pre><code>module MovieApp {\n    export interface IMovieControllerScope extends ng.IScope {\n        movie: Movie;\n    }\n\n    export interface RouteParams extends ng.route.IRouteParamsService {\n        imdb: string;\n    }\n\n    export class MovieController {\n        public static $inject = ['$scope', '$routeParams', 'MovieService'];\n\n        constructor(\n            private $scope: IMovieControllerScope,\n            private $routeParams: RouteParams,\n            private MovieService: MovieService) {\n\n            var imdb = $routeParams.imdb;\n            MovieService.GetMovieByImdb(imdb).then(response =&gt; {\n                this.$scope.movie = response;\n            });\n\n        }\n\n    }\n\n    app.controller(\"MovieController\", MovieApp.MovieController);\n} \n</code></pre>\n\n<p>And this is my view</p>\n\n<pre><code>&lt;div&gt;\n    Movie title... {{vm.movie.Title}}\n&lt;/div&gt;\n</code></pre>\n\n<p>The only thing I see is 'Movie title... '. I just can't figure out how to get this work.</p>\n\n<p>I've tried to remove the <code>controllerAs</code> line in the routings and then remove <code>vm.</code> in my view, but still with no success.</p>\n\n<p>What am I doing wrong and how to fix this?</p>\n\n<p>EDIT:</p>\n\n<p>This is what TypeScript makes of my controller:</p>\n\n<pre><code>var MovieApp;\n(function (MovieApp) {\n    var MovieController = (function () {\n        function MovieController($scope, $routeParams, MovieService) {\n            var _this = this;\n            this.$scope = $scope;\n            this.$routeParams = $routeParams;\n            this.MovieService = MovieService;\n            var imdb = $routeParams.imdb;\n            MovieService.GetMovieByImdb(imdb).then(function (response) {\n                _this.$scope.movie = response;\n            });\n        }\n        MovieController.$inject = ['$scope', '$routeParams', 'MovieService'];\n        return MovieController;\n    })();\n    MovieApp.MovieController = MovieController;\n\n    app.controller(\"MovieController\", MovieApp.MovieController);\n})(MovieApp || (MovieApp = {}));\n</code></pre>\n"}, {"tags": ["node.js", "visual-studio-2013", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1681, "user_id": 2183236, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/282dfdb1a2040e8f76c209665948881b?s=128&d=identicon&r=PG", "display_name": "fharreau", "link": "https://stackoverflow.com/users/2183236/fharreau"}, "edited": false, "score": 0, "creation_date": 1422118046, "post_id": 28127579, "comment_id": 44628499, "body": "I thought I tested that, but it seemed I didn&#39;t -_-. It works for this simple case, the problem is we don&#39;t have only one module. We have some sub module (Module.SubModule1, Module.SubModuel2) and certain Modules are also written into several files. How can we achieve that simply ?"}, {"owner": {"reputation": 1852, "user_id": 3658508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAcRG.png?s=128&g=1", "display_name": "curpa", "link": "https://stackoverflow.com/users/3658508/curpa"}, "reply_to_user": {"reputation": 1681, "user_id": 2183236, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/282dfdb1a2040e8f76c209665948881b?s=128&d=identicon&r=PG", "display_name": "fharreau", "link": "https://stackoverflow.com/users/2183236/fharreau"}, "edited": false, "score": 0, "creation_date": 1422160389, "post_id": 28127579, "comment_id": 44639016, "body": "It sounds like you want to mix internal and external modules. TypeScript does not support this scenario directly, but you could use a bundling tool like webpack to convert your internal module into a commonjs-compatible module."}, {"owner": {"reputation": 1681, "user_id": 2183236, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/282dfdb1a2040e8f76c209665948881b?s=128&d=identicon&r=PG", "display_name": "fharreau", "link": "https://stackoverflow.com/users/2183236/fharreau"}, "edited": false, "score": 0, "creation_date": 1422263673, "post_id": 28127579, "comment_id": 44666136, "body": "All we wanted to do was to split our code and classes into several files. We just add a lot of import in each file :D. Thanks for Webpack, we will use it next time ;-)."}], "tags": [], "owner": {"reputation": 1852, "user_id": 3658508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAcRG.png?s=128&g=1", "display_name": "curpa", "link": "https://stackoverflow.com/users/3658508/curpa"}, "is_accepted": true, "score": 4, "last_activity_date": 1422116715, "creation_date": 1422116715, "answer_id": 28127579, "question_id": 28127017, "link": "https://stackoverflow.com/questions/28127017/typescript-and-nodejs-referenceerror-module-is-not-defined/28127579#28127579", "title": "Typescript and NodeJS : ReferenceError : Module is not defined", "body": "<p>You need to export <code>Module</code> in Module/Module.ts</p>\n\n<pre><code>export module Module { ...\n</code></pre>\n\n<p>In app.ts, you need to <code>require('./Module/Module')</code></p>\n\n<pre><code>import M = require('./Module/Module');\nvar foo = new M.Module.ModuleClass();\nfoo.foo();\n</code></pre>\n\n<p>You need to do this because this node.js uses the commonjs module system, which typescript supports via its \"external\" modules feature and a compiler arg <code>--module commonjs</code></p>\n"}], "owner": {"reputation": 1681, "user_id": 2183236, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/282dfdb1a2040e8f76c209665948881b?s=128&d=identicon&r=PG", "display_name": "fharreau", "link": "https://stackoverflow.com/users/2183236/fharreau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4782, "favorite_count": 0, "accepted_answer_id": 28127579, "answer_count": 1, "score": 2, "last_activity_date": 1422116715, "creation_date": 1422113136, "question_id": 28127017, "link": "https://stackoverflow.com/questions/28127017/typescript-and-nodejs-referenceerror-module-is-not-defined", "title": "Typescript and NodeJS : ReferenceError : Module is not defined", "body": "<p>I am making a NodeJs console application with NodeJS Tools for Visual Studio (<a href=\"http://nodejstools.codeplex.com/\" rel=\"nofollow\">http://nodejstools.codeplex.com/</a>) with the Typescript template.</p>\n\n<p>Here is basicaly my code :</p>\n\n<p>app.ts :</p>\n\n<pre><code>/// &lt;reference path=\"Module/Module.ts\" /&gt;\nvar foo = new Module.ModuleClass();\nfoo.foo();\n</code></pre>\n\n<p>Module/Module.ts :</p>\n\n<pre><code>module Module {\n    export class ModuleClass {\n       foo() {\n        console.log('Hello World');\n       }\n   }\n}\n</code></pre>\n\n<p>The compiler run without trouble but on runtime, NodeJS can't find the module. Here is the error :</p>\n\n<pre><code>var foo = new Module.ModuleClass();\n              ^\nReferenceError : Module is not defined\n</code></pre>\n\n<p>I tired a lot of thing about that problem (using or not the ///  but I can't find any solution.</p>\n\n<p>Excuse me for my English, I am not a native speaker.\nThanks in advance !</p>\n"}, {"tags": ["javascript", "arrays", "typescript"], "comments": [{"owner": {"reputation": 14720, "user_id": 2074608, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WzNwl.png?s=128&g=1", "display_name": "Qantas 94 Heavy", "link": "https://stackoverflow.com/users/2074608/qantas-94-heavy"}, "edited": false, "score": 2, "creation_date": 1422105964, "post_id": 28125758, "comment_id": 44625028, "body": "Take a look at your interface definition -- you&#39;re defining an array-like object, not an actual array."}], "answers": [{"comments": [{"owner": {"reputation": 2832, "user_id": 1508529, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/974a4e8de28274c71bf5e08a39ca1b86?s=128&d=identicon&r=PG", "display_name": "Mathias Bader", "link": "https://stackoverflow.com/users/1508529/mathias-bader"}, "edited": false, "score": 0, "creation_date": 1422106340, "post_id": 28125943, "comment_id": 44625129, "body": "Thanks al lot - it is working now. I&#39;m really wondering because I didn&#39;t see this information on <a href=\"http://www.typescriptlang.org/Handbook#interfaces-array-types\" rel=\"nofollow noreferrer\">typescriptlang.org/Handbook#interfaces-array-types</a>, there they do not put the [] after the interface definition ..."}, {"owner": {"reputation": 14720, "user_id": 2074608, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WzNwl.png?s=128&g=1", "display_name": "Qantas 94 Heavy", "link": "https://stackoverflow.com/users/2074608/qantas-94-heavy"}, "reply_to_user": {"reputation": 2832, "user_id": 1508529, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/974a4e8de28274c71bf5e08a39ca1b86?s=128&d=identicon&r=PG", "display_name": "Mathias Bader", "link": "https://stackoverflow.com/users/1508529/mathias-bader"}, "edited": false, "score": 1, "creation_date": 1422109710, "post_id": 28125943, "comment_id": 44626035, "body": "@mbader: it&#39;s actually under &quot;basic types&quot;: <a href=\"http://www.typescriptlang.org/Handbook#basic-types-array\" rel=\"nofollow noreferrer\">typescriptlang.org/Handbook#basic-types-array</a>"}], "tags": [], "owner": {"reputation": 10969, "user_id": 1523814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7263b6f605379925111266939ee054d4?s=128&d=identicon&r=PG", "display_name": "Dick van den Brink", "link": "https://stackoverflow.com/users/1523814/dick-van-den-brink"}, "is_accepted": true, "score": 3, "last_activity_date": 1422106025, "creation_date": 1422106025, "answer_id": 28125943, "question_id": 28125758, "link": "https://stackoverflow.com/questions/28125758/typescript-push-not-available-on-custom-typed-array/28125943#28125943", "title": "Typescript: push not available on custom typed array", "body": "<p>You are almost there. You did define it as an object with an indexer. Not as an array, see example below</p>\n\n<pre><code>possibleAnswers : {\n        id : number;\n        vocab : string;\n        comment : string;\n}[];\n</code></pre>\n"}], "owner": {"reputation": 2832, "user_id": 1508529, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/974a4e8de28274c71bf5e08a39ca1b86?s=128&d=identicon&r=PG", "display_name": "Mathias Bader", "link": "https://stackoverflow.com/users/1508529/mathias-bader"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4948, "favorite_count": 1, "accepted_answer_id": 28125943, "answer_count": 1, "score": 2, "last_activity_date": 1422106025, "creation_date": 1422104822, "question_id": 28125758, "link": "https://stackoverflow.com/questions/28125758/typescript-push-not-available-on-custom-typed-array", "title": "Typescript: push not available on custom typed array", "body": "<p>Using Javascript with Typescript (v1.4.1) I have a custom type as follows:</p>\n\n<pre><code>interface WordDataForQuestion {\n    question : {\n        id : number;\n        vocab : string;\n        comment : string;\n    };\n    possibleAnswers : {\n        [index : number] : {\n            id : number;\n            vocab : string;\n            comment : string;\n        }\n    };\n}\n</code></pre>\n\n<p>Now I want to push an element in the array <code>possibleAnswers</code></p>\n\n<pre><code>nextWordData.possibleAnswers.push(\n    {\n        id : vocabs[index].id,\n        vocab : vocabs[index].voc_t,\n        comment : vocabs[index].com_t\n    }\n);\n</code></pre>\n\n<p>but it gives me the following error:</p>\n\n<pre><code>exercise.ts(69,42): error TS2339: Property 'push' does not exist on type '{ [index: number]: { id: number; vocab: string; comment: string; }; }'.\n</code></pre>\n\n<p>I don't understand what is wrong - <code>possibleAnswers</code> should be a JavaScript array here which supports the push-operation. Am I not right?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 9151, "user_id": 783653, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4a35d104523ef520dd5d9f60c7e1eeb1?s=128&d=identicon&r=PG", "display_name": "vilicvane", "link": "https://stackoverflow.com/users/783653/vilicvane"}, "edited": false, "score": 0, "creation_date": 1422208626, "post_id": 28125260, "comment_id": 44650593, "body": "are the two references the same path (literally identical)?"}, {"owner": {"reputation": 9151, "user_id": 783653, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4a35d104523ef520dd5d9f60c7e1eeb1?s=128&d=identicon&r=PG", "display_name": "vilicvane", "link": "https://stackoverflow.com/users/783653/vilicvane"}, "edited": false, "score": 0, "creation_date": 1422208716, "post_id": 28125260, "comment_id": 44650626, "body": "and I think you should may try something with import."}, {"owner": {"reputation": 1741, "user_id": 138733, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6bb5fb8542300919ae3410c44519b37c?s=128&d=identicon&r=PG", "display_name": "Dave Taylor", "link": "https://stackoverflow.com/users/138733/dave-taylor"}, "reply_to_user": {"reputation": 9151, "user_id": 783653, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4a35d104523ef520dd5d9f60c7e1eeb1?s=128&d=identicon&r=PG", "display_name": "vilicvane", "link": "https://stackoverflow.com/users/783653/vilicvane"}, "edited": false, "score": 0, "creation_date": 1422265942, "post_id": 28125260, "comment_id": 44667092, "body": "all underscore.d.ts files are the same"}, {"owner": {"reputation": 54248, "user_id": 95190, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a58c0b44762885ca46ecee7f5b379f3d?s=128&d=identicon&r=PG", "display_name": "WiredPrairie", "link": "https://stackoverflow.com/users/95190/wiredprairie"}, "edited": false, "score": 0, "creation_date": 1422929376, "post_id": 28125260, "comment_id": 44934041, "body": "Unless they reference the same exact <code>d.ts</code> file, I&#39;d expect the error you&#39;re receiving. Both modules need to reference the same (physical) file."}, {"owner": {"reputation": 1741, "user_id": 138733, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6bb5fb8542300919ae3410c44519b37c?s=128&d=identicon&r=PG", "display_name": "Dave Taylor", "link": "https://stackoverflow.com/users/138733/dave-taylor"}, "edited": false, "score": 0, "creation_date": 1422977710, "post_id": 28125260, "comment_id": 44956711, "body": "thanks, that&#39;s what i&#39;m finding... I&#39;ve had to manually reference d.ts files in each project."}, {"owner": {"reputation": 5844, "user_id": 1075401, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b38e877fe17599d7eec56bfcc52eb63d?s=128&d=identicon&r=PG", "display_name": "gilamran", "link": "https://stackoverflow.com/users/1075401/gilamran"}, "edited": false, "score": 1, "creation_date": 1425821065, "post_id": 28125260, "comment_id": 46109837, "body": "That&#39;s a known problem with d.ts files (tsd) and bower, they don&#39;t have something like shared &quot;dependencies&quot;. I hope that some will solve this issue soon."}], "answers": [{"tags": [], "owner": {"reputation": 1741, "user_id": 138733, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6bb5fb8542300919ae3410c44519b37c?s=128&d=identicon&r=PG", "display_name": "Dave Taylor", "link": "https://stackoverflow.com/users/138733/dave-taylor"}, "is_accepted": false, "score": 0, "last_activity_date": 1429283172, "creation_date": 1429283172, "answer_id": 29702939, "question_id": 28125260, "link": "https://stackoverflow.com/questions/28125260/multiple-typescript-modules-without-duplicate-identifier-errors/29702939#29702939", "title": "Multiple Typescript modules without duplicate identifier errors", "body": "<p>I've solved this by using <a href=\"https://github.com/TypeStrong/grunt-dts-bundle\" rel=\"nofollow\">https://github.com/TypeStrong/grunt-dts-bundle</a> which will create a d.ts from all the internally required code but doesn't directly link to any external definitions.</p>\n\n<p>You can then reference the created bundle in the top level project and individually reference any other type dependencies manually.</p>\n"}, {"tags": [], "owner": {"reputation": 2121, "user_id": 1451296, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/jIpxd.jpg?s=128&g=1", "display_name": "httpete", "link": "https://stackoverflow.com/users/1451296/httpete"}, "is_accepted": false, "score": 0, "last_activity_date": 1438314364, "creation_date": 1438314364, "answer_id": 31737731, "question_id": 28125260, "link": "https://stackoverflow.com/questions/28125260/multiple-typescript-modules-without-duplicate-identifier-errors/31737731#31737731", "title": "Multiple Typescript modules without duplicate identifier errors", "body": "<p>The way I got around this was to use <code>///&lt;amd-dependency path=\"foo\" name=\"foo\"&gt;</code> and then <code>declare var foo;</code> \nto get the amd module in my project (which is what I want the most) and not have the Tsc jump the wire and get into duplicate identifier hell. They will fix that eventually, but what I want most is to check out my sub-project and compile it in the context of my parent project. Once I am safely in AMD, I am ok.</p>\n\n<p>It is also cool to chain your grunt ts tasks together, using grunt-exec. This way, I can do a watch on my parent project for ts, and kick off the ts task in the child project. </p>\n"}, {"tags": [], "owner": {"reputation": 2719, "user_id": 534514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n77PT.png?s=128&g=1", "display_name": "Mike S", "link": "https://stackoverflow.com/users/534514/mike-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1481148440, "creation_date": 1481148440, "answer_id": 41028254, "question_id": 28125260, "link": "https://stackoverflow.com/questions/28125260/multiple-typescript-modules-without-duplicate-identifier-errors/41028254#41028254", "title": "Multiple Typescript modules without duplicate identifier errors", "body": "<p>I hit this same problem. A real pain. \nHow I solved it was:</p>\n\n<ol>\n<li>don't include typings in module a &amp; b. Only include the top-level one. </li>\n<li>In your top-level source file ( externl-commonjs.ts), at the top, add the /// reference  to typings.   As that file include other .ts files, they'll pickup the /// reference </li>\n</ol>\n\n<p>Some great background articles:</p>\n\n<ol>\n<li><a href=\"http://blog.mgechev.com/2016/03/28/ambient-type-definitions-duplicate-identifier-typescript-fix/\" rel=\"nofollow noreferrer\">http://blog.mgechev.com/2016/03/28/ambient-type-definitions-duplicate-identifier-typescript-fix/</a></li>\n<li><a href=\"http://ivanz.com/2016/06/07/how-does-typescript-discover-type-declarations-definitions-javascript\" rel=\"nofollow noreferrer\">http://ivanz.com/2016/06/07/how-does-typescript-discover-type-declarations-definitions-javascript</a> </li>\n</ol>\n\n<p>It looks like TypeScript 2.0 added a \"typeroots\" section to tsconfig to help with this. See <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/tsconfig-json.html</a> </p>\n"}], "owner": {"reputation": 1741, "user_id": 138733, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6bb5fb8542300919ae3410c44519b37c?s=128&d=identicon&r=PG", "display_name": "Dave Taylor", "link": "https://stackoverflow.com/users/138733/dave-taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2778, "favorite_count": 1, "answer_count": 3, "score": 4, "last_activity_date": 1481148440, "creation_date": 1422100913, "question_id": 28125260, "link": "https://stackoverflow.com/questions/28125260/multiple-typescript-modules-without-duplicate-identifier-errors", "title": "Multiple Typescript modules without duplicate identifier errors", "body": "<p>I have split a project in to multiple bower modules all of which need to reference underscore.d.ts file</p>\n\n<pre><code>- bower_components\n |- module_a\n    |- src\n       |- externl-commonjs.ts\n |  |- typings\n |     |- underscore\n |- module_b\n    |- src\n       |- externl-commonjs.ts\n    |- typings\n       |- underscore\n- src\n  |- externl-commonjs.ts\n- typings\n  |- underscore\n</code></pre>\n\n<p>I can successfully compile module_a and module_b on their own... but when they are in a project like above I get Duplicate identifier errors because of the multiple <code>/// &lt;reference</code>s to underscore.d.ts within each external module file.</p>\n\n<p>How would you work around this and have a single source of truth for underscore.d.ts.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1600355721, "post_id": 28122837, "comment_id": 113068201, "body": "Updated this answer for <code>object</code> and weak type detection, hope that&#39;s okay with you."}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 4, "last_activity_date": 1600355688, "last_edit_date": 1600355688, "creation_date": 1422079581, "answer_id": 28122837, "question_id": 28122754, "link": "https://stackoverflow.com/questions/28122754/discriminate-between-empty-object-type-and-other-concrete-types/28122837#28122837", "title": "Discriminate between empty object type and other concrete types", "body": "<p>Update for TS2.4+, there is now <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-4.html#weak-type-detection\" rel=\"nofollow noreferrer\">weak type detection</a> which will prevent assigning to all-optional-property types like <code>MaybeEmpty</code> if there are no overlapping properties, so <code>var four: MaybeEmpty = 23</code> is now not permitted.</p>\n<hr />\n<p>Update for TS2.2+, there is now an <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html#object-type\" rel=\"nofollow noreferrer\"><code>object</code></a> type which specifically excludes primitives.  Object-like types using curly braces like <code>{}</code> or <code>{ a?: number }</code> are still compatible with primitives, as mentioned below.</p>\n<hr />\n<p>Original answer:</p>\n<p>No.</p>\n<p>The root problem is that JavaScript often treats primitive values as if they were their Object-typed equivalents (<code>String</code>/<code>Number</code>/etc) when used in a context where an object is required (e.g. property access).</p>\n<p>TypeScript models this using the <em>&quot;apparent type&quot;</em> whereby objects of a primitive type appear to have the members of their corresponding Object types. This is because, intuitively, code like this <em>should</em> compile without error:</p>\n<pre><code>function fn(x: { toString(): string }) { /* ... */ }\nfn(32); // Should be OK because (32).toString() is OK\nfn('foo'); // Should be OK because ('foo').toString() is OK\n</code></pre>\n<p>It's a small step to this code:</p>\n<pre><code>function fn(x: { toString(): string; other?: whatever; }) { /* ... */ }\nfn(32); // Should be OK\nfn('foo'); // Should be OK\n</code></pre>\n<p>And another small step to this code:</p>\n<pre><code>function fn(x: { other?: whatever; }) { /* ... */ }\nfn(32); // OK, I guess?\nfn('foo'); // OK, I guess?\n</code></pre>\n<p>There's an <a href=\"https://github.com/Microsoft/TypeScript/issues/391\" rel=\"nofollow noreferrer\">issue on GitHub</a> tracking the general problem that an interface with all optional properties is effectively never the source of an error when assigning <em>to</em> it. It's a very hard thing to spec.</p>\n"}, {"tags": [], "owner": {"reputation": 67712, "user_id": 155077, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MaCKR.jpg?s=128&g=1", "display_name": "Stefan Steiger", "link": "https://stackoverflow.com/users/155077/stefan-steiger"}, "is_accepted": false, "score": 1, "last_activity_date": 1498636318, "last_edit_date": 1498636318, "creation_date": 1498219872, "answer_id": 44721153, "question_id": 28122754, "link": "https://stackoverflow.com/questions/28122754/discriminate-between-empty-object-type-and-other-concrete-types/44721153#44721153", "title": "Discriminate between empty object type and other concrete types", "body": "<p>Necromancing.<br />\nHad this problem myselfs. <br />\nThis is actually possible in TypeScript 2.2+. </p>\n\n<p>You need to add &amp; object to your type-definition</p>\n\n<p>e.g. </p>\n\n<pre><code>var varname: YourInterface &amp; object = something;\n</code></pre>\n\n<p>in your case:</p>\n\n<pre><code>interface Empty { }\ninterface MaybeEmpty { a?: number; }\ninterface MaybeEmptyAndMore { a?: number; [x:string]: any; }\n\n\nvar one: Object = 20;\nvar two: Empty = 21;\nvar three: {} = 22;\nvar four: MaybeEmpty &amp; object = 23;\nvar foura: MaybeEmpty &amp; object = {};\nvar fourb: MaybeEmpty &amp; object = { a: \"23\"};\nvar fourc: MaybeEmpty &amp; object = { abc: \"23\"};\nvar fourd: MaybeEmptyAndMore &amp; object = { abc: \"123\", def: \"456\" };\n</code></pre>\n\n<p>By the way, if it could be a string or an interface (object), then:</p>\n\n<pre><code>obj: string | YourInterface &amp; object\n</code></pre>\n\n<p>e.g.</p>\n\n<pre><code>class Cookie\n{\n    constructor(nameOrSettings: string | ICookieSettings  &amp; object )\n    {\n        if(typeof(nameOrSettings)  === 'string')\n        { do_something();}\n        else if(typeof(nameOrSettings) === 'object')\n        {\n             var obj:ICookieSettings = &lt;ICookieSettings&gt;&lt;any&gt;nameOrSettings;\n        }\n        else throw TypeError(\"foo\");\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 813, "user_id": 1159309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/20ecc2648c30f3c3c5a37804709da79f?s=128&d=identicon&r=PG", "display_name": "Chris Colbert", "link": "https://stackoverflow.com/users/1159309/chris-colbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 882, "favorite_count": 0, "accepted_answer_id": 28122837, "answer_count": 2, "score": 3, "last_activity_date": 1600355688, "creation_date": 1422078864, "question_id": 28122754, "link": "https://stackoverflow.com/questions/28122754/discriminate-between-empty-object-type-and-other-concrete-types", "title": "Discriminate between empty object type and other concrete types", "body": "<p>All of this compiles without error:</p>\n\n<pre><code>interface Empty { }\ninterface MaybeEmpty { a?: number; }\n\nvar one: Object = 20;\nvar two: Empty = 21;\nvar three: {} = 22;\nvar four: MaybeEmpty = 23;\n</code></pre>\n\n<p>Is there a way to define a type with all optional properties, but which nevertheless discriminates against non-object types like <code>string</code>, <code>number</code>, and <code>boolean</code>?</p>\n"}, {"tags": ["javascript", "jquery", "typescript", "definitelytyped"], "answers": [{"tags": [], "owner": {"reputation": 1041, "user_id": 2577326, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a271c324eda7467ebd83e03b290eb671?s=128&d=identicon&r=PG", "display_name": "michaelAdam", "link": "https://stackoverflow.com/users/2577326/michaeladam"}, "is_accepted": true, "score": 2, "last_activity_date": 1422044404, "creation_date": 1422044404, "answer_id": 28118093, "question_id": 28117786, "link": "https://stackoverflow.com/questions/28117786/why-am-i-not-able-to-compile-a-file-that-references-jquery-d-ts/28118093#28118093", "title": "Why am I not able to compile a file that references jquery.d.ts?", "body": "<p>Version 1.3 is not compatible with this version of jquery.d.ts.  I first fixed it by using an old version of jquery.d.ts, then realized I needed to update npm before installing typescript.  Installed 1.4 and now it works.</p>\n"}], "owner": {"reputation": 1041, "user_id": 2577326, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a271c324eda7467ebd83e03b290eb671?s=128&d=identicon&r=PG", "display_name": "michaelAdam", "link": "https://stackoverflow.com/users/2577326/michaeladam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5520, "favorite_count": 0, "closed_date": 1422057472, "accepted_answer_id": 28118093, "answer_count": 1, "score": 7, "last_activity_date": 1422044404, "creation_date": 1422043218, "question_id": 28117786, "link": "https://stackoverflow.com/questions/28117786/why-am-i-not-able-to-compile-a-file-that-references-jquery-d-ts", "closed_reason": "Duplicate", "title": "Why am I not able to compile a file that references jquery.d.ts?", "body": "<p>The contents of my file, \"blah.ts\" are</p>\n\n<pre><code>///&lt;reference path=\"jquery.d.ts\"&gt;\n</code></pre>\n\n<p>and that's it.</p>\n\n<p>The file, \"jquery.d.ts\" is on the same level as \"blah.ts\".</p>\n\n<p>I copy and pasted jquery.d.ts from <a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/master/jquery/jquery.d.ts\" rel=\"noreferrer\">here</a></p>\n\n<p>I installed typescript using npm and it is version 1.3.0.0.</p>\n\n<p>When I run</p>\n\n<pre><code>tsc blah.ts\n</code></pre>\n\n<p>I get a page of errors</p>\n\n<pre><code>query.d.ts(279,40): error TS1005: ',' expected.\njquery.d.ts(279,61): error TS1005: '=' expected.\njquery.d.ts(279,64): error TS1109: Expression expected.\njquery.d.ts(279,97): error TS1005: ',' expected.\njquery.d.ts(279,118): error TS1005: '=' expected.\njquery.d.ts(279,121): error TS1109: Expression expected.\njquery.d.ts(342,40): error TS1005: ',' expected.\njquery.d.ts(342,61): error TS1005: '=' expected.\njquery.d.ts(342,64): error TS1109: Expression expected.\njquery.d.ts(342,103): error TS1005: ',' expected.\njquery.d.ts(342,124): error TS1005: '=' expected.\njquery.d.ts(342,127): error TS1109: Expression expected.\njquery.d.ts(352,48): error TS1005: ',' expected.\njquery.d.ts(352,69): error TS1005: '=' expected.\njquery.d.ts(352,72): error TS1109: Expression expected.\njquery.d.ts(352,111): error TS1005: ',' expected.\njquery.d.ts(352,132): error TS1005: '=' expected.\njquery.d.ts(352,135): error TS1109: Expression expected.\njquery.d.ts(677,35): error TS1005: ',' expected.\njquery.d.ts(677,36): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(692,39): error TS1005: ',' expected.\njquery.d.ts(692,40): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(722,36): error TS1005: ',' expected.\njquery.d.ts(722,37): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(744,41): error TS1005: ',' expected.\njquery.d.ts(744,42): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1214,36): error TS1005: ',' expected.\njquery.d.ts(1214,37): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1255,46): error TS1005: ',' expected.\njquery.d.ts(1311,45): error TS1005: ',' expected.\njquery.d.ts(1311,52): error TS1005: ',' expected.\njquery.d.ts(1383,22): error TS1005: ',' expected.\njquery.d.ts(1383,29): error TS1005: '=' expected.\njquery.d.ts(1404,44): error TS1005: ',' expected.\njquery.d.ts(1411,78): error TS1005: ',' expected.\njquery.d.ts(1428,25): error TS1005: ',' expected.\njquery.d.ts(1434,59): error TS1005: ',' expected.\njquery.d.ts(1446,31): error TS1005: ',' expected.\njquery.d.ts(1458,29): error TS1005: ',' expected.\njquery.d.ts(1489,30): error TS1005: ',' expected.\njquery.d.ts(1503,29): error TS1005: ',' expected.\njquery.d.ts(1541,24): error TS1005: ',' expected.\njquery.d.ts(1547,57): error TS1005: ',' expected.\njquery.d.ts(1615,50): error TS1005: ',' expected.\njquery.d.ts(1615,51): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1624,50): error TS1005: ',' expected.\njquery.d.ts(1624,51): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1647,29): error TS1005: ',' expected.\njquery.d.ts(1647,30): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1655,29): error TS1005: ',' expected.\njquery.d.ts(1655,30): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1669,30): error TS1005: ',' expected.\njquery.d.ts(1669,31): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1677,30): error TS1005: ',' expected.\njquery.d.ts(1677,31): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1692,28): error TS1005: ',' expected.\njquery.d.ts(1701,28): error TS1005: ',' expected.\njquery.d.ts(1709,33): error TS1005: ',' expected.\njquery.d.ts(1709,34): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1717,33): error TS1005: ',' expected.\njquery.d.ts(1717,34): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1738,27): error TS1005: ',' expected.\njquery.d.ts(1738,28): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1746,27): error TS1005: ',' expected.\njquery.d.ts(1746,28): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1760,27): error TS1005: ',' expected.\njquery.d.ts(1760,28): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1768,27): error TS1005: ',' expected.\njquery.d.ts(1768,28): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1782,32): error TS1005: ',' expected.\njquery.d.ts(1782,33): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1790,32): error TS1005: ',' expected.\njquery.d.ts(1790,33): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1804,34): error TS1005: ',' expected.\njquery.d.ts(1804,35): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1812,34): error TS1005: ',' expected.\njquery.d.ts(1812,35): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1826,30): error TS1005: ',' expected.\njquery.d.ts(1826,31): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1834,30): error TS1005: ',' expected.\njquery.d.ts(1834,31): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1864,29): error TS1005: ',' expected.\njquery.d.ts(1864,30): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(1872,29): error TS1005: ',' expected.\njquery.d.ts(1872,30): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(2464,55): error TS1005: ',' expected.\njquery.d.ts(2464,56): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(2471,62): error TS1005: ',' expected.\njquery.d.ts(2471,63): error TS1016: A required parameter cannot follow an optional parameter.\njquery.d.ts(2584,27): error TS1005: ',' expected.\njquery.d.ts(2584,31): error TS1005: '=' expected.\njquery.d.ts(2598,28): error TS1005: ',' expected.\njquery.d.ts(2598,32): error TS1005: '=' expected.\njquery.d.ts(2611,28): error TS1005: ',' expected.\njquery.d.ts(2611,32): error TS1005: '=' expected.\njquery.d.ts(2619,28): error TS1005: ',' expected.\njquery.d.ts(2619,32): error TS1005: '=' expected.\njquery.d.ts(2652,31): error TS1005: ',' expected.\njquery.d.ts(2652,35): error TS1005: '=' expected.\njquery.d.ts(2659,32): error TS1005: ',' expected.\njquery.d.ts(2659,36): error TS1005: '=' expected.\njquery.d.ts(2667,29): error TS1005: ',' expected.\njquery.d.ts(2667,33): error TS1005: '=' expected.\njquery.d.ts(2680,29): error TS1005: ',' expected.\njquery.d.ts(2680,33): error TS1005: '=' expected.\njquery.d.ts(2694,30): error TS1005: ',' expected.\njquery.d.ts(2694,34): error TS1005: '=' expected.\njquery.d.ts(2701,35): error TS1005: ',' expected.\njquery.d.ts(2701,39): error TS1005: '=' expected.\njquery.d.ts(2718,22): error TS1005: ',' expected.\njquery.d.ts(2718,29): error TS1005: ',' expected.\njquery.d.ts(2741,33): error TS1005: ',' expected.\njquery.d.ts(2741,41): error TS1005: ',' expected.\njquery.d.ts(2754,36): error TS1005: ',' expected.\njquery.d.ts(2754,44): error TS1005: ',' expected.\njquery.d.ts(2761,38): error TS1005: ',' expected.\njquery.d.ts(2761,46): error TS1005: ',' expected.\njquery.d.ts(2796,27): error TS1005: ',' expected.\njquery.d.ts(2796,34): error TS1005: ',' expected.\n</code></pre>\n\n<p>If I don't include jquery, it compiles fine (I did the tutorial and it worked).  What is going wrong here?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1422050092, "post_id": 28117602, "comment_id": 44612932, "body": "This seems a bit needlessly complicated <a href=\"https://gist.github.com/matt-major/32f53036643e3fc7c65e#file-app-ts-L17-L18\" rel=\"nofollow noreferrer\">gist.github.com/matt-major/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 3698668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/E9hXU.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/3698668/matt"}, "edited": false, "score": 0, "creation_date": 1422091284, "post_id": 28119372, "comment_id": 44621571, "body": "Thanks, I added <code>swordfish.app = new swordfish.app();</code> to the bottom of <code>app.ts</code> &amp; it worked. I had to change a few other bits around the controller registration but it&#39;s now working correctly. Appreciate the help."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1422050203, "creation_date": 1422050203, "answer_id": 28119372, "question_id": 28117602, "link": "https://stackoverflow.com/questions/28117602/angularjs-with-typescript-uncaught-error-injectormodulerr/28119372#28119372", "title": "AngularJS with TypeScript Uncaught Error: [$injector:modulerr]", "body": "<p>I see you have the module as a class</p>\n\n<pre><code>export class app {\n\n    private angularModule: ng.IModule;\n\n    /**\n     * The Class Constructor\n     */\n    constructor() {\n\n      swordfish.helpers.registerDependencies(['ngRoute']);\n      this.angularModule = angular.module('swordfish', swordfish.helpers.registeredDependencies);\n      this.moduleRegister('swordfish.controllers', swordfish.controllers);\n</code></pre>\n\n<p>What I don't see is someone <em>calling</em> it. You would need to get the line <code>angular.module('swordfish', swordfish.helpers.registeredDependencies);</code> executed for <code>angular</code> to detect this module. </p>\n"}], "owner": {"reputation": 191, "user_id": 3698668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/E9hXU.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/3698668/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "accepted_answer_id": 28119372, "answer_count": 1, "score": 0, "last_activity_date": 1422050203, "creation_date": 1422042484, "question_id": 28117602, "link": "https://stackoverflow.com/questions/28117602/angularjs-with-typescript-uncaught-error-injectormodulerr", "title": "AngularJS with TypeScript Uncaught Error: [$injector:modulerr]", "body": "<p>I'm trying to convert an AngularJS app I built a while ago to TypeScript. I've written what I think is correct for the initial app.ts file, but upon compiling &amp; trying to open my app in the browser, I get a <strong>Uncaught Error: [$injector:modulerr]</strong> error in the console.</p>\n\n<p>I've added all the code to the Gist below, I was wondering if someone could shed some light on why this error is occurring?</p>\n\n<p><a href=\"https://gist.github.com/matt-major/32f53036643e3fc7c65e\" rel=\"nofollow\">https://gist.github.com/matt-major/32f53036643e3fc7c65e</a></p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 3, "last_activity_date": 1422049992, "last_edit_date": 1422049992, "creation_date": 1422049430, "answer_id": 28119192, "question_id": 28115865, "link": "https://stackoverflow.com/questions/28115865/enfore-required-fields-in-typescript-and-work-with-var-arg-constructor/28119192#28119192", "title": "Enfore required fields in TypeScript (and work with var-arg constructor)?", "body": "<p>Sadly you need to trick the TypeScript compiler</p>\n\n<pre><code>class Parent {\n    constructor (required1, required2, ...rest) { //...\n        if(required1 == void 0) return;\n    }\n}\n\nclass Child extends Parent {\n    constructor (...args) {\n       super(undefined,undefined); // make the compiler happy\n       Parent.apply(this,[val1,val2].concat(args)) // the actual call  \n    }\n}\n</code></pre>\n\n<p>I've logged a suggestion to get the TS team input : <a href=\"https://github.com/Microsoft/TypeScript/issues/1790\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/issues/1790</a> </p>\n"}], "owner": {"reputation": 6523, "user_id": 499922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/168958e86210e7a60277634309705672?s=128&d=identicon&r=PG", "display_name": "billc.cn", "link": "https://stackoverflow.com/users/499922/billc-cn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 28119192, "answer_count": 1, "score": 1, "last_activity_date": 1560690279, "creation_date": 1422035801, "last_edit_date": 1560690279, "question_id": 28115865, "link": "https://stackoverflow.com/questions/28115865/enfore-required-fields-in-typescript-and-work-with-var-arg-constructor", "title": "Enfore required fields in TypeScript (and work with var-arg constructor)?", "body": "<p>Since TypeScript 1.3 doesn't yet have abstract fields, one of the ways to require a field to be set is to put it as a constructor argument.</p>\n\n<p>However, since this version also don't have spread operators, this does not work very well if the child also has to pass a var-arg to the parent. For example:</p>\n\n<pre><code>class Parent {\n    constructor (required1, required2, ...rest) { //...\n}\n\nclass Child extends Parent {\n    constructor (...args) {\n       super(val1, val2, ???);\n}\n</code></pre>\n\n<p>In plain-old JavaScript, this pattern is usually done through slicing and applying <code>arguments</code> to the super constructor. However, such workaround does not work as <code>super</code> can only be called and not <code>apply()</code> on.</p>\n\n<p>Have I missed something? Otherwise, is there any alternatives to achieve the same thing?</p>\n"}, {"tags": ["angularjs", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 10324, "user_id": 3265777, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/FS4L9.jpg?s=128&g=1", "display_name": "Ved", "link": "https://stackoverflow.com/users/3265777/ved"}, "edited": false, "score": 0, "creation_date": 1421998255, "post_id": 28104878, "comment_id": 44584631, "body": "you are missing callback function inside controller.."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1422018442, "post_id": 28104878, "comment_id": 44594890, "body": "Wink wink <a href=\"https://youtube.com/watch?v=WdtVn_8K17E&amp;hd=1\" rel=\"nofollow noreferrer\">youtube.com/watch?v=WdtVn_8K17E&amp;hd=1</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1231, "user_id": 3985687, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/02bdd6aa7cf9365b0e941c1f56a16b13?s=128&d=identicon&r=PG&f=1", "display_name": "Ced", "link": "https://stackoverflow.com/users/3985687/ced"}, "edited": false, "score": 0, "creation_date": 1421998545, "post_id": 28104901, "comment_id": 44584745, "body": "I want to have the Controller in an extra Class, without ionic this is working"}, {"owner": {"reputation": 1231, "user_id": 3985687, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/02bdd6aa7cf9365b0e941c1f56a16b13?s=128&d=identicon&r=PG&f=1", "display_name": "Ced", "link": "https://stackoverflow.com/users/3985687/ced"}, "edited": false, "score": 0, "creation_date": 1421999890, "post_id": 28104901, "comment_id": 44585277, "body": "My fault angular.module(&quot;app&quot;, [&quot;ionic&quot;])     .controller(&quot;MainViewModel&quot;, () =&gt; {return new MainViewModel()});  is woring"}], "tags": [], "owner": {"reputation": 10324, "user_id": 3265777, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/FS4L9.jpg?s=128&g=1", "display_name": "Ved", "link": "https://stackoverflow.com/users/3265777/ved"}, "is_accepted": true, "score": 1, "last_activity_date": 1421998151, "last_edit_date": 1421998151, "creation_date": 1421997834, "answer_id": 28104901, "question_id": 28104878, "link": "https://stackoverflow.com/questions/28104878/ionicframework-my-controller-is-not-a-function/28104901#28104901", "title": "ionicframework my Controller is not a function", "body": "<p>you are missing callback function inside controller.<br>\n<strong>Here is the mistake</strong></p>\n\n<pre><code>angular.module(\"app\", [\"ionic\"])\n    .controller(\"MainViewModel\", function ($scope){\n//yourcode\n\n});\n</code></pre>\n"}], "owner": {"reputation": 1231, "user_id": 3985687, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/02bdd6aa7cf9365b0e941c1f56a16b13?s=128&d=identicon&r=PG&f=1", "display_name": "Ced", "link": "https://stackoverflow.com/users/3985687/ced"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 695, "favorite_count": 0, "accepted_answer_id": 28104901, "answer_count": 1, "score": 0, "last_activity_date": 1421998151, "creation_date": 1421997699, "question_id": 28104878, "link": "https://stackoverflow.com/questions/28104878/ionicframework-my-controller-is-not-a-function", "title": "ionicframework my Controller is not a function", "body": "<p>I'm trying to develop an app with the ionic framework and typescript, but I'm receiving this error at ionic.bundle.js:</p>\n\n<blockquote>\n  <p>rrror: [ng:areq] Argument 'MainViewModel' is not a function, got undefined</p>\n</blockquote>\n\n<p>This is my html page:</p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;title&gt;TodoApp&lt;/title&gt;\n    &lt;script src=\"cordova.js\"&gt;&lt;/script&gt;\n    &lt;link rel=\"stylesheet\" href=\"css/index.css\" /&gt;\n\n    &lt;link href=\"Content/ionic.css\" rel=\"stylesheet\" /&gt;\n    &lt;script src=\"scripts/ionic.bundle.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"scripts/platformOverrides.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"scripts/app/ViewModels/MainViewModel.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"scripts/app/index.js\"&gt;&lt;/script&gt;\n\n\n&lt;/head&gt;\n&lt;body ng-app=\"app\" ng-controller=\"MainViewModel\"&gt;\n    &lt;div class=\"bar bar-header bar-light\"&gt;\n        &lt;h1 class=\"title\"&gt;Todo&lt;/h1&gt;\n    &lt;/div&gt;\n    &lt;ion-content class=\"has-header\"&gt;\n        &lt;div class=\"list\"&gt;\n            &lt;div class=\"item item-input-inset\"&gt;\n                &lt;label class=\"item-input-wrapper\"&gt;\n                    &lt;input type=\"text\" placeholder=\"New Todo\"/&gt;\n                &lt;/label&gt;\n                &lt;div class=\"button button-small\"&gt;Add&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/ion-content&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and here I'm setting up angular:</p>\n\n<pre><code>angular.module(\"app\", [\"ionic\"])\n    .controller(\"MainViewModel\", MainViewModel);\n</code></pre>\n\n<p>Does someone recognize the problem?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 54458, "user_id": 722762, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/TpESY.png?s=128&g=1", "display_name": "Halcyon", "link": "https://stackoverflow.com/users/722762/halcyon"}, "edited": false, "score": 0, "creation_date": 1421975424, "post_id": 28101466, "comment_id": 44578392, "body": "Try <code>this.htmlNode.addEventListener(&quot;mmousedown&quot;,f.bind(this));</code>. It might be that <code>this</code> gets assigned to the htmlNode again though."}, {"owner": {"reputation": 405, "user_id": 888340, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Lg19Q.png?s=128&g=1", "display_name": "Robbie Mckennie", "link": "https://stackoverflow.com/users/888340/robbie-mckennie"}, "reply_to_user": {"reputation": 54458, "user_id": 722762, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/TpESY.png?s=128&g=1", "display_name": "Halcyon", "link": "https://stackoverflow.com/users/722762/halcyon"}, "edited": false, "score": 0, "creation_date": 1421977011, "post_id": 28101466, "comment_id": 44578836, "body": "@Halcyon This works and is much prettier, but it also feels a little hackey to me, I&#39;ll use this until I find something better"}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1421977161, "post_id": 28101466, "comment_id": 44578867, "body": "So, by default <code>this</code> in the event callback will be set to the DOM node that handled the event.  YOU have to decide what you want <code>this</code> to be.  If that&#39;s what you want, then you can save <code>this</code> to a local variable in scope before assigning the event handler so you can access that value that way.  If you want <code>this</code> to be your own object, then use <code>.bind()</code> to set it yourself.  Those are two of the main options."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1421982920, "post_id": 28101466, "comment_id": 44580187, "body": "wink wink : <a href=\"https://www.youtube.com/watch?v=tvocUcbCupA\" rel=\"nofollow noreferrer\">youtube.com/watch?v=tvocUcbCupA</a>"}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 1, "creation_date": 1421985443, "post_id": 28101466, "comment_id": 44580767, "body": "See also <a href=\"http://stackoverflow.com/questions/20627138/typescript-this-scoping-issue-when-called-in-jquery-callback\" title=\"typescript this scoping issue when called in jquery callback\">stackoverflow.com/questions/20627138/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "is_accepted": false, "score": 0, "last_activity_date": 1421977027, "last_edit_date": 1421977027, "creation_date": 1421975952, "answer_id": 28101576, "question_id": 28101466, "link": "https://stackoverflow.com/questions/28101466/how-do-i-maintain-the-correct-scope-in-javascript-even-listeners/28101576#28101576", "title": "How do I maintain the &#39;correct&#39; scope in javascript even listeners?", "body": "<p>in pure js i would do it this way (of course without 'class'^^):</p>\n\n<pre><code>class point extends geometry {\nvar parent = this;\nvar htmlNode = null;\nthis.constructor = function() {\n    parent.htmlNode = makeTheThing();\n    parent.htmlNode.addEventListener(yourStuff);\n}\n\nthis.onClick = function() {\n    console.log(parent);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>maybe there is a better way in ts, but this should work</p>\n"}, {"comments": [{"owner": {"reputation": 405, "user_id": 888340, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Lg19Q.png?s=128&g=1", "display_name": "Robbie Mckennie", "link": "https://stackoverflow.com/users/888340/robbie-mckennie"}, "edited": false, "score": 0, "creation_date": 1422005087, "post_id": 28101772, "comment_id": 44587665, "body": "I&#39;ve hacked together a fairly terrible solution with this technique, and I&#39;m sure the only way to make this work well is a total restructuring of my program. I need to learn me some real OOP..."}], "tags": [], "owner": {"reputation": 5280, "user_id": 592792, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LSCC9.gif?s=128&g=1", "display_name": "Andr&#233; Werlang", "link": "https://stackoverflow.com/users/592792/andr%c3%a9-werlang"}, "is_accepted": true, "score": 3, "last_activity_date": 1421977521, "creation_date": 1421977521, "answer_id": 28101772, "question_id": 28101466, "link": "https://stackoverflow.com/questions/28101466/how-do-i-maintain-the-correct-scope-in-javascript-even-listeners/28101772#28101772", "title": "How do I maintain the &#39;correct&#39; scope in javascript even listeners?", "body": "<p>In pure JavaScript (ES5), you can use <code>bind</code> to create a new function that will have function context (<code>this</code>) forever bound:</p>\n\n<pre><code>this.htmlNode.addEventListener(\"mmousedown\",this.onClick.bind(this));\n</code></pre>\n\n<p>In TypeScript (and shortly in ES6) we have arrow functions:</p>\n\n<pre><code>this.htmlNode.addEventListener(\"mmousedown\", event =&gt; this.onClick(event));\n</code></pre>\n\n<p>Arrow functions maintain a lexical this, that is, the take <code>this</code> from surrounding context.</p>\n"}], "owner": {"reputation": 405, "user_id": 888340, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Lg19Q.png?s=128&g=1", "display_name": "Robbie Mckennie", "link": "https://stackoverflow.com/users/888340/robbie-mckennie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "accepted_answer_id": 28101772, "answer_count": 2, "score": 0, "last_activity_date": 1422350148, "creation_date": 1421975095, "last_edit_date": 1422350148, "question_id": 28101466, "link": "https://stackoverflow.com/questions/28101466/how-do-i-maintain-the-correct-scope-in-javascript-even-listeners", "title": "How do I maintain the &#39;correct&#39; scope in javascript even listeners?", "body": "<p>I'm writing a geometry engine in Typescript, and I'm trying to implement drag&amp;drop. I have a point object that inherets from a geometry object, and it has control of a <code>circle</code> element inside an <code>svg</code> element. I have a <code>mousedown</code> even listener attached to the circle element that calls a function belonging to the point object, a little like this:</p>\n\n<pre><code>class point extends geometry {\n    htmlNode:any;\n    constructor() {\n        this.htmlNode = makeTheThing();\n        addItToTheDom();\n        this.htmlNode.addEventListener(\"mmousedown\",this.onClick);\n        onClick();\n    }\n\n    onClick() {\n        console.log(this);\n    }\n}\n</code></pre>\n\n<p>When the page loads it outputs the point object to the console, but when I click it outputs the html element, rather than the javascript object. Previously I got around this like this:</p>\n\n<pre><code>class point extends geometry {\n    htmlNode:any;\n    constructor() {\n        this.htmlNode = makeTheThing();\n        addItToTheDom();\n        var blah = this;\n        var f = function() {\n            console.log(blah);\n        }\n        this.htmlNode.addEventListener(\"mmousedown\",f);\n        f();\n    }\n\n    onClick() {\n        console.log(this);\n    }\n}\n</code></pre>\n\n<p><em>That</em> will give the javascript object when it loads and when I click, but it's ugly and I'd like to do it more cleanly.</p>\n\n<p>UPDATE: For anyone who cares, I did end up just rewriting this, much prettier now.</p>\n"}, {"tags": ["javascript", "jquery", "typescript"], "comments": [{"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1421965001, "post_id": 28098966, "comment_id": 44575053, "body": "This comes across as more of a <i>how to get my homework done faster without doing any research</i> question ... read the manual"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1421966807, "creation_date": 1421966807, "answer_id": 28100066, "question_id": 28098966, "link": "https://stackoverflow.com/questions/28098966/can-someone-give-a-high-level-explanation-of-the-purpose-of-a-d-ts-file-and-ho/28100066#28100066", "title": "Can someone give a high level explanation of the purpose of a .d.ts file, and how to use the one for jQuery?", "body": "<blockquote>\n  <p>How would I use TypeScript to write a jQuery ajax resquest, and how does what I write come from the jquery.d.ts file</p>\n</blockquote>\n\n<p>A <code>.d.ts</code> files tell TypeScript about <em>JavaScript</em> that is available for consumption from your TypeScript. </p>\n\n<p>e.g. <code>window</code> is available for consumption in TypeScript because it is <em>declared</em> in <code>lib.d.ts</code>. So <code>jquery.d.ts</code> declares <code>$</code> (and other stuff) so that you can use JQuery (JavaScript) from TypeScript in a type safe manner. </p>\n"}], "owner": {"reputation": 1041, "user_id": 2577326, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a271c324eda7467ebd83e03b290eb671?s=128&d=identicon&r=PG", "display_name": "michaelAdam", "link": "https://stackoverflow.com/users/2577326/michaeladam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1421966807, "creation_date": 1421961844, "question_id": 28098966, "link": "https://stackoverflow.com/questions/28098966/can-someone-give-a-high-level-explanation-of-the-purpose-of-a-d-ts-file-and-ho", "title": "Can someone give a high level explanation of the purpose of a .d.ts file, and how to use the one for jQuery?", "body": "<p>I am required to use TypeScript for a University assignment.  Part of my project involves multiple ajax requests, so I figured jQuery would be a good way to go.  How would I use TypeScript to write a jQuery ajax resquest, and how does what I write come from the jquery.d.ts file?</p>\n"}, {"tags": ["visual-studio-2013", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 865, "user_id": 4279423, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/I72D6.png?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4279423/brandon"}, "edited": false, "score": 0, "creation_date": 1422021996, "post_id": 28100034, "comment_id": 44596929, "body": "Thanks, I have been using the Typescript language spec for reference.  I see in 2.3 &quot;Interfaces, enums, and internal modules are &quot;open ended,&quot; meaning that interface, enum, and internal module declarations with the same qualified name relative to a common root are automatically merged.&quot;, but I don&#39;t see anything saying external modules can&#39;t act the same.  Are external modules not open-ended?"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1421966676, "creation_date": 1421966676, "answer_id": 28100034, "question_id": 28098772, "link": "https://stackoverflow.com/questions/28098772/typescript-reference-comment-for-working/28100034#28100034", "title": "Typescript reference comment for working", "body": "<blockquote>\n  <p>VS2013 is not acknowledging the IMyClass reference in the MyClass file (no intellisense either), </p>\n</blockquote>\n\n<p>The modules <code>MyModule</code> between two TypeScript files that use <em>external modules</em> are distinct. And therefore you don't get <code>interface IMyClass</code> available in the second files <code>MyModule</code>. </p>\n\n<p>Tip: You might want to review <em>internal</em> vs. <em>external</em> modules in TypeScript (hint: don't use internal ones if you are using external modules). <a href=\"https://www.youtube.com/watch?v=KDrWLMUY0R0&amp;hd=1\" rel=\"nofollow\">https://www.youtube.com/watch?v=KDrWLMUY0R0&amp;hd=1</a></p>\n"}], "owner": {"reputation": 865, "user_id": 4279423, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/I72D6.png?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4279423/brandon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 470, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421966676, "creation_date": 1421961150, "last_edit_date": 1421961518, "question_id": 28098772, "link": "https://stackoverflow.com/questions/28098772/typescript-reference-comment-for-working", "title": "Typescript reference comment for working", "body": "<p>I am using Visual Studio 2013 Ultimate Update 4 and Typescript.</p>\n\n<p>I have a class like MyClass.ts:</p>\n\n<pre><code>/// &lt;reference path=\"interfaces/IMyClass\"/&gt;\nexport = MyModule;\n\nmodule MyModule {\nclass MyClass {\n    constructor(myObject: IMyClass){....}\n    ...\n}\n}\n</code></pre>\n\n<p>And another MyInterface.ts:</p>\n\n<pre><code>export = MyModule;\n\nmodule MyModule {\n\ninterface IMyClass {\n    ...\n}\n}\n</code></pre>\n\n<p>VS2013 is not acknowledging the IMyClass reference in the MyClass file (no intellisense either), but the reference is acting like VS can see it (no red underlines saying it can't find the file). </p>\n\n<p>If I change the interface filename to MyInterface.d.ts, it does the same thing.</p>\n\n<p>If I change the interface inside MyInterface.d.ts to this:</p>\n\n<pre><code>//export = MyModule ;\n\ndeclare module MyModule {\n\ninterface IMyClass {\n    ...\n}\n}\n</code></pre>\n\n<p>it fails as well.</p>\n\n<p>If I change the interface inside MyInterface.d.ts to this:</p>\n\n<pre><code>//export = MyInterfaces ;\n\ndeclare module MyInterfaces {\n\ninterface IMyClass {\n    ...\n}\n}\n</code></pre>\n\n<p>it works.</p>\n\n<p>Am I missing something?  So we can only use reference comments for .d.ts files and the exported module names can be the same??</p>\n\n<p>I'm finding a lot of the stuff around modules in typescript to be confusing.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 603, "user_id": 1048447, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7ac3d6c6b1642302a224de652c6fe1eb?s=128&d=identicon&r=PG", "display_name": "gravidThoughts", "link": "https://stackoverflow.com/users/1048447/gravidthoughts"}, "edited": false, "score": 0, "creation_date": 1422027405, "post_id": 28098536, "comment_id": 44600462, "body": "It was Resharper in my situation.Disabling it and it behaves as you are reporting."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 2, "last_activity_date": 1421960219, "creation_date": 1421960219, "answer_id": 28098536, "question_id": 28098372, "link": "https://stackoverflow.com/questions/28098372/why-was-the-global-angular-variable-removed-from-angularjs-typescript-definite/28098536#28098536", "title": "Why was the global &#39;angular&#39; variable removed from angularjs.TypeScript.DefinitelyTyped?", "body": "<p>I still see it in there. I suppose it's because the new version of the file uses syntax that is new to TypeScript 1.4. Either upgrade your compiler or downgrade to an earlier version of the .d.ts file. </p>\n"}, {"comments": [{"owner": {"reputation": 603, "user_id": 1048447, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7ac3d6c6b1642302a224de652c6fe1eb?s=128&d=identicon&r=PG", "display_name": "gravidThoughts", "link": "https://stackoverflow.com/users/1048447/gravidthoughts"}, "edited": false, "score": 1, "creation_date": 1422026858, "post_id": 28103362, "comment_id": 44600059, "body": "Thanks! Tools-&gt;Options-&gt;Resharper-&gt; Suspend also works and you don&#39;t have to restart VS. Now time to post an issue with JetBrains :)."}, {"owner": {"reputation": 603, "user_id": 1048447, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7ac3d6c6b1642302a224de652c6fe1eb?s=128&d=identicon&r=PG", "display_name": "gravidThoughts", "link": "https://stackoverflow.com/users/1048447/gravidthoughts"}, "edited": false, "score": 1, "creation_date": 1422029170, "post_id": 28103362, "comment_id": 44601712, "body": "<a href=\"https://youtrack.jetbrains.com/issue/RSRP-431238\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/RSRP-431238</a> Bug issue opened. Vote it up if this impacts you."}, {"owner": {"reputation": 1093, "user_id": 1243426, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/23d7b88241dfb918c2b482a11794bb43?s=128&d=identicon&r=PG", "display_name": "Didar_Uranov", "link": "https://stackoverflow.com/users/1243426/didar-uranov"}, "edited": false, "score": 3, "creation_date": 1427544863, "post_id": 28103362, "comment_id": 46826003, "body": "To turn off resharper inspections just for typescript: Resharper-&gt;Options-&gt;Code Inspection-&gt;Settings-&gt;Skipped elements-&gt;File masks to skip: *.ts."}], "tags": [], "owner": {"reputation": 1936, "user_id": 349596, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/975101533fd17644d025c48932180850?s=128&d=identicon&r=PG", "display_name": "Justin Schwartzenberger", "link": "https://stackoverflow.com/users/349596/justin-schwartzenberger"}, "is_accepted": true, "score": 13, "last_activity_date": 1425146375, "last_edit_date": 1425146375, "creation_date": 1421989539, "answer_id": 28103362, "question_id": 28098372, "link": "https://stackoverflow.com/questions/28098372/why-was-the-global-angular-variable-removed-from-angularjs-typescript-definite/28103362#28103362", "title": "Why was the global &#39;angular&#39; variable removed from angularjs.TypeScript.DefinitelyTyped?", "body": "<p>It's a bug with Resharper 9.0. The fix is scheduled for the 9.1 release. You can do one of two things to remedy it now:</p>\n\n<ol>\n<li>Disable Resharper by going to  Tools->Options->Resharper-> Suspend. Note that you'll lose all Resharper features and you'll probably want to re-enable VS's Intellisense.</li>\n<li>Get the latest <a href=\"https://confluence.jetbrains.com/display/ReSharper/ReSharper+9.1+EAP\">9.1 EAP release</a> if you're comfortable to pre-release versions.</li>\n</ol>\n"}], "owner": {"reputation": 603, "user_id": 1048447, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7ac3d6c6b1642302a224de652c6fe1eb?s=128&d=identicon&r=PG", "display_name": "gravidThoughts", "link": "https://stackoverflow.com/users/1048447/gravidthoughts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1560, "favorite_count": 0, "accepted_answer_id": 28103362, "answer_count": 2, "score": 7, "last_activity_date": 1429549949, "creation_date": 1421959545, "last_edit_date": 1429549949, "question_id": 28098372, "link": "https://stackoverflow.com/questions/28098372/why-was-the-global-angular-variable-removed-from-angularjs-typescript-definite", "title": "Why was the global &#39;angular&#39; variable removed from angularjs.TypeScript.DefinitelyTyped?", "body": "<p>Upgrading from <a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/master/angularjs/angular.d.ts\" rel=\"nofollow\">angularjs.TypeScript.DefinitelyTyped</a> 2.1.6 to 3.1.2 removed accessibility of the static <code>angular</code> variable I was using for module declaration files.</p>\n\n<p>The following now gets an error that the symbol <code>angular</code> cannot be properly resolved.</p>\n\n<pre><code>angular\n    .module(\"someModule\")....\n</code></pre>\n\n<p>Resharper provides an option to import the variable from an external module, but this does not work.</p>\n\n<p>Was the exposure of a global <code>angular</code> variable in earlier versions an error? Was it not intended to be used in the way my project has used it?</p>\n"}, {"tags": ["jquery", "gruntjs", "typescript", "grunt-ts"], "comments": [{"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1421958135, "post_id": 28093877, "comment_id": 44571768, "body": "This is clearly the hot topic of the day - a few people have had this problem."}], "answers": [{"comments": [{"owner": {"reputation": 5830, "user_id": 325661, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b124a0fee7cdaf49ada7ae73a5d94b30?s=128&d=identicon&r=PG", "display_name": "Freshblood", "link": "https://stackoverflow.com/users/325661/freshblood"}, "edited": false, "score": 0, "creation_date": 1430139385, "post_id": 28094646, "comment_id": 47915405, "body": "Upgrade to compiler ? 1.4 version isn&#39;t already latest one ?"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 8, "last_activity_date": 1421946504, "creation_date": 1421946504, "answer_id": 28094646, "question_id": 28093877, "link": "https://stackoverflow.com/questions/28093877/latest-version-of-jquery-for-typescript-is-throwing-syntax-errors/28094646#28094646", "title": "Latest version of jQuery for TypeScript is throwing syntax errors?", "body": "<p>The new version of the jquery.d.ts file uses syntax that is new to TypeScript 1.4. Either upgrade your compiler or downgrade to an earlier version of the .d.ts file[0]. There's a \"1.3\" branch on DefinitelyTyped specifically for pre-1.4-compatible .d.ts files.</p>\n\n<p>[0] <a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/1.3.0/jquery/jquery.d.ts\">https://github.com/borisyankov/DefinitelyTyped/blob/1.3.0/jquery/jquery.d.ts</a></p>\n"}], "owner": {"reputation": 7429, "user_id": 197302, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cb3f8a2021f4528c6e96896f6b217e82?s=128&d=identicon&r=PG", "display_name": "Toby", "link": "https://stackoverflow.com/users/197302/toby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3110, "favorite_count": 0, "closed_date": 1421958073, "accepted_answer_id": 28094646, "answer_count": 1, "score": 6, "last_activity_date": 1421946504, "creation_date": 1421944230, "last_edit_date": 1592644375, "question_id": 28093877, "link": "https://stackoverflow.com/questions/28093877/latest-version-of-jquery-for-typescript-is-throwing-syntax-errors", "closed_reason": "Duplicate", "title": "Latest version of jQuery for TypeScript is throwing syntax errors?", "body": "<p>I am almost 100% sure I am doing something wrong to cause this as I am incredibly new to TypeScript and have been updating an old codebase.</p>\n<p>When I update <a href=\"https://github.com/borisyankov/DefinitelyTyped/tree/master/jquery\" rel=\"noreferrer\">jQuery to the latest version</a> I get the following errors when I try and build my project using grunt.</p>\n<blockquote>\n<p>/jquery/jquery.d.ts(279,40):\nerror TS1005: ',' expected.</p>\n<p>/jquery/jquery.d.ts(279,61):\nerror TS1005: '=' expected.</p>\n<p>/jquery/jquery.d.ts(279,64):\nerror TS1003: Identifier expected.</p>\n<p>/jquery/jquery.d.ts(279,97):\nerror TS1005: ',' expected.</p>\n<p>/jquery/jquery.d.ts(279,118):\nerror TS1005: '=' expected.</p>\n</blockquote>\n<p>I have shortened the paths and not given every single line, but there are a lot of them.</p>\n<p>I am building this using grunt-ts and it seems to be using <code>tsc v1.0.1</code> \u2013 I am unsure where this would be set I am just going by the output when it attempts to build.</p>\n"}, {"tags": ["javascript", "angularjs", "mvvm", "angularjs-scope", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 3286, "user_id": 1978840, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3NIjN.jpg?s=128&g=1", "display_name": "John Pankowicz", "link": "https://stackoverflow.com/users/1978840/john-pankowicz"}, "is_accepted": false, "score": 1, "last_activity_date": 1422125105, "last_edit_date": 1422125105, "creation_date": 1422065950, "answer_id": 28121641, "question_id": 28088292, "link": "https://stackoverflow.com/questions/28088292/injecting-controllers-as-services-in-typescript-angular/28121641#28121641", "title": "Injecting controllers as services in typescript/angular?", "body": "<p>Services are global singletons. They can be injected into both controllers and each controller will access the same service and therefore the same variable within that service. This is not the same with controllers. Multiple instances of the same controller can be created. </p>\n\n<p>You can't use DI to inject a specific instance of a controller. You could inject the $controller service into controller1 and then create an instance of a controller2 within controller1. But that, of course is not what you want. It would not be the same instance of the controller that contains the variable that you want to access.</p>\n\n<p>The fact that creating a dependency between two controllers is not directly supported should be a hint that this may not be something you want to do. Controllers should only contain the business logic for a single view.  The documentation specifically states that they should not be used to share state across controllers. Doing so not only complicates your code but make testing difficult.</p>\n"}], "owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422125105, "creation_date": 1421928113, "question_id": 28088292, "link": "https://stackoverflow.com/questions/28088292/injecting-controllers-as-services-in-typescript-angular", "title": "Injecting controllers as services in typescript/angular?", "body": "<p>I need to share data between 2 controllers. For this, as I have learnt here on SO, a common contract between the 2 controllers is necessary - a service.</p>\n\n<pre><code>export interface IController1Service {\n    sharedItem : any;\n}\n\nclass Controller1Service implements IController1Service {\n    sharedItem : any;\n}\n\nexport class Controller1 {\n\n    constructor(contract : IController1Service) {\n        contract.sharedItem = \"Hi Controller2!\";\n    }\n\n}\n\nexport class Controller2 {\n\n    constructor(contract: IController1Service) {\n        alert(contract.sharedItem);\n    }\n\n}\n</code></pre>\n\n<p>Now this works all fine etc. But I wondered if it's really necessary to create a separate service class and inject it into both controllers just to share a simple variable? Isn't it possible to let 1 controller implement the service and then inject it into the other?</p>\n\n<pre><code>export interface IController1Service {\n    sharedItem: any;\n}\n\nexport class Controller1 implements IController1Service {\n    sharedItem: any;\n\n    constructor() {\n        this.sharedItem = \"Hi Controller2!\";\n    }\n}\n</code></pre>\n\n<p>I tried, however angular greets me with a</p>\n\n<pre><code>Can't resolve dependency for controller MyApp.Controller2 with name MyServices.IController1Service\n</code></pre>\n"}, {"tags": ["visual-studio-2013", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 777, "user_id": 60630, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/135e5fe2e94ad45bd1598db3ba33185f?s=128&d=identicon&r=PG", "display_name": "papadi", "link": "https://stackoverflow.com/users/60630/papadi"}, "edited": false, "score": 3, "creation_date": 1421935252, "post_id": 28087576, "comment_id": 44557777, "body": "You are absolutely right! That was it! I just assumed that since VS 2013 came with typescript, I would get notifications for typescript upgrades, just like I get for other things!"}, {"owner": {"reputation": 2825, "user_id": 67137, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/af0800495bf764ba4362a5cf79282bd2?s=128&d=identicon&r=PG", "display_name": "Bennett Dill", "link": "https://stackoverflow.com/users/67137/bennett-dill"}, "edited": false, "score": 1, "creation_date": 1421945392, "post_id": 28087576, "comment_id": 44564632, "body": "Thanks, this fixed my problem too, after opening the affected file, and being prompted to update the version of typescript used in my project..."}, {"owner": {"reputation": 1373, "user_id": 1478, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/39b7046cf5d3b5afb75fa9149c9722ce?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/1478/dan"}, "edited": false, "score": 0, "creation_date": 1435066599, "post_id": 28087576, "comment_id": 50036084, "body": "I installed the latest Typescript via NuGet which is v2 and i still get hundreds of errors on jquery. How do I check which version of the compiler VS is using and how do I specify the right one??"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 1373, "user_id": 1478, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/39b7046cf5d3b5afb75fa9149c9722ce?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/1478/dan"}, "edited": false, "score": 3, "creation_date": 1435066759, "post_id": 28087576, "comment_id": 50036215, "body": "@Dan open command prompt and run <code>tsc -v</code> if it doesn&#39;t show the latest version of TypeScript, check it is installed and check your PATH variable to make sure it points at the latest one. It installs to <code>c:\\Program Files (x86)\\Microsoft SDKs\\TypeScript</code>"}, {"owner": {"reputation": 1373, "user_id": 1478, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/39b7046cf5d3b5afb75fa9149c9722ce?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/1478/dan"}, "edited": false, "score": 0, "creation_date": 1435067148, "post_id": 28087576, "comment_id": 50036479, "body": "@Steve so my path shows 1.0.3.0 which is location you said, but the nuget is 1.0.0.0 which is installed in packages (waste of time), so I should download 1.4 and install over SDK version i guess? Shame its not all automated!"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 1373, "user_id": 1478, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/39b7046cf5d3b5afb75fa9149c9722ce?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/1478/dan"}, "edited": false, "score": 0, "creation_date": 1435068654, "post_id": 28087576, "comment_id": 50037735, "body": "@Dan 1.0.3 is an old version (that is TypeScript 1.1). You should update to 1.4 (stable) or 1.5 (beta). <a href=\"https://visualstudiogallery.msdn.microsoft.com/2d42d8dc-e085-45eb-a30b-3f7d50d55304\" rel=\"nofollow noreferrer\">visualstudiogallery.msdn.microsoft.com/&hellip;</a>"}, {"owner": {"reputation": 1111, "user_id": 129696, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/gTKP4.jpg?s=128&g=1", "display_name": "Brad Mathews", "link": "https://stackoverflow.com/users/129696/brad-mathews"}, "edited": false, "score": 0, "creation_date": 1437414194, "post_id": 28087576, "comment_id": 51006974, "body": "I was also getting these errors. if you install a different version of ts on an existing project, you also need to change the targeted version in your vs project file. see <a href=\"http://updatestage.com/fix-wrong-typescript-version-error/\" rel=\"nofollow noreferrer\">updatestage.com/fix-wrong-typescript-version-error</a> on how."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 30, "last_activity_date": 1421925912, "creation_date": 1421925912, "answer_id": 28087576, "question_id": 28086084, "link": "https://stackoverflow.com/questions/28086084/successful-build-with-many-errors-in-typescript-typing-files/28087576#28087576", "title": "Successful build with many errors in typescript typing files", "body": "<p>The most likely reason for this is that you are using an older version of TypeScript than the definition author.</p>\n\n<p>The language is moving swiftly and some of the features in version 1.4 are particularly useful in definition files, so it is likely that you will need to upgrade to 1.4 so that your machine can understand these new features.</p>\n\n<p><a href=\"https://visualstudiogallery.msdn.microsoft.com/2d42d8dc-e085-45eb-a30b-3f7d50d55304\">Download version 1.4 here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 777, "user_id": 60630, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/135e5fe2e94ad45bd1598db3ba33185f?s=128&d=identicon&r=PG", "display_name": "papadi", "link": "https://stackoverflow.com/users/60630/papadi"}, "edited": false, "score": 1, "creation_date": 1423730029, "post_id": 28466907, "comment_id": 45269388, "body": "Downgrading would work do, but why downgrade the type definitions to match the old typescript instead of upgrade typescript to match the new definitions?"}, {"owner": {"reputation": 2143, "user_id": 2677391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QGHSs.jpg?s=128&g=1", "display_name": "JayKan", "link": "https://stackoverflow.com/users/2677391/jaykan"}, "reply_to_user": {"reputation": 777, "user_id": 60630, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/135e5fe2e94ad45bd1598db3ba33185f?s=128&d=identicon&r=PG", "display_name": "papadi", "link": "https://stackoverflow.com/users/60630/papadi"}, "edited": false, "score": 0, "creation_date": 1423778161, "post_id": 28466907, "comment_id": 45298754, "body": "Not exactly sure why downgrading to 1.0.1 would solve this problem. Based from my understanding, the new version of the jquery.d.ts which pulls from the 1.4 DefinitelyTyped file uses syntax that is new to TypeScript 1.4, and there&#39;s a &quot;1.3&quot; branch on DefinitelyTyped specifically for pre-1.4-compatible files. If you happen to figure out the reasons whats causing this problem, please feel free to let me know. I was able resolve my issue based on this answer I got it from: <a href=\"http://quabr.com/28093877/latest-version-of-jquery-for-typescript-is-throwing-syntax-errors\" rel=\"nofollow noreferrer\">quabr.com/28093877/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2143, "user_id": 2677391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QGHSs.jpg?s=128&g=1", "display_name": "JayKan", "link": "https://stackoverflow.com/users/2677391/jaykan"}, "is_accepted": false, "score": 0, "last_activity_date": 1423698899, "creation_date": 1423698899, "answer_id": 28466907, "question_id": 28086084, "link": "https://stackoverflow.com/questions/28086084/successful-build-with-many-errors-in-typescript-typing-files/28466907#28466907", "title": "Successful build with many errors in typescript typing files", "body": "<p>I was having a similar issues like this but I was able to resolve the jQuery issues by downgrading my DefinitelyTyped version of \"1.0.1\" instead of \"1.4.1\". Also I'm currently running on Mac and hopefully this can help users who are experiencing issues on Mac.</p>\n"}], "owner": {"reputation": 777, "user_id": 60630, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/135e5fe2e94ad45bd1598db3ba33185f?s=128&d=identicon&r=PG", "display_name": "papadi", "link": "https://stackoverflow.com/users/60630/papadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13678, "favorite_count": 3, "accepted_answer_id": 28087576, "answer_count": 2, "score": 17, "last_activity_date": 1452624248, "creation_date": 1421921474, "question_id": 28086084, "link": "https://stackoverflow.com/questions/28086084/successful-build-with-many-errors-in-typescript-typing-files", "title": "Successful build with many errors in typescript typing files", "body": "<p>I have a problem with Visual Studio 2013 generating too many errors when building a web application with typescript definition files. For example consider the following scenario:</p>\n\n<ol>\n<li>Start a new Empty Web Application</li>\n<li>Right click on project and select Manage Nuget Packages</li>\n<li>Add jquery and jquery typings (the typings I downloaded are a couple of days old)</li>\n<li>Build the project</li>\n<li>Project builds successfully with more than 100 errors (errors, not warnings), all in jquery.d.ts, like the following:\n<ul>\n<li>',' expected.</li>\n<li>'=' expected.</li>\n<li>Identifier expected.</li>\n</ul></li>\n</ol>\n\n<p>I get similar results when I do the same with angularjs instead of jquery.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["javascript", "coffeescript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 5, "last_activity_date": 1421921466, "creation_date": 1421921466, "answer_id": 28086081, "question_id": 28085378, "link": "https://stackoverflow.com/questions/28085378/using-both-coffeescript-and-typescript-on-the-same-project/28086081#28086081", "title": "Using both coffeescript and typescript on the same project", "body": "<p>If you want to do this, you'll need to supply type information about the Coffeescript-generated JavaScript file.</p>\n\n<p>If you add a <code>Controller.d.ts</code> you can describe the types in your controller file so TypeScript can apply that type information during compilation.</p>\n\n<p>For example:</p>\n\n<pre><code>declare class Controller {\n    protected name: string;\n    //... more type information\n}\n\nexport = Controller;\n</code></pre>\n\n<p>Of course, you are essentially undertaking far more work writing JavaScript or Coffeescript and then also writing type information in another file - so you may want to make a decision on a per-unit basis about what you are going to write the program in. For example, if you write a tool-kit in Coffeescript, it is easy to write a single <code>.d.ts</code> file for it - whereas if you write a file here and there in Coffeescript you're going to have a bit of a maintenance nightmare (either creating lots of <code>.d.ts</code> files or managing a single merged one each time you change one of the parts).</p>\n\n<p>Definition files work best against a stable API.</p>\n"}], "owner": {"reputation": 7704, "user_id": 2968101, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kUEZQ.jpg?s=128&g=1", "display_name": "mfrachet", "link": "https://stackoverflow.com/users/2968101/mfrachet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 839, "favorite_count": 1, "accepted_answer_id": 28086081, "answer_count": 1, "score": 5, "last_activity_date": 1421921466, "creation_date": 1421919585, "question_id": 28085378, "link": "https://stackoverflow.com/questions/28085378/using-both-coffeescript-and-typescript-on-the-same-project", "title": "Using both coffeescript and typescript on the same project", "body": "<p>I m actually trying to work with both coffeescript and typescript in the same project. </p>\n\n<p>In fact, I want to be able to chose which one I prefer when coding.</p>\n\n<p>The fact is that the javascript generated by typescript doesn't seem to work as expected with the javascript generated with coffeescript </p>\n\n<p><strong>Explanation :</strong></p>\n\n<p>I wrote a Controller class with coffeescript which works perfectly when I extend it in a coffeescript file like below :</p>\n\n<pre><code>Controller = require('../node_modules/Controller/Controller')\n\nclass HelloController extends Controller\n\n  indexAction: (name) =&gt;\n     console.log 'hey '+ name\n\nmodule.exports = HelloController\n</code></pre>\n\n<p>But when I try to use it with typescript like below :</p>\n\n<pre><code>import Controller = require('../node_modules/Controller/Controller');\n\nexport class HelloController extends Controller {\n\n    constructor() {\n        super()\n    }\n\n    indexAction(name:String) {\n        console.log('hey '+name);\n    }\n}\n</code></pre>\n\n<p>I got an error telling me that the controller cant be find at the expected place (the .js file is well generated)</p>\n\n<p>Can you help me ?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 7686, "user_id": 2626313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613888ad5bbd9ddba4bd81bbbfeb7a05?s=128&d=identicon&r=PG", "display_name": "xmojmr", "link": "https://stackoverflow.com/users/2626313/xmojmr"}, "edited": false, "score": 0, "creation_date": 1421905897, "post_id": 28080519, "comment_id": 44542490, "body": "@Jimmyt1988 See also <a href=\"http://www.typescriptlang.org/Handbook#type-compatibility\" rel=\"nofollow noreferrer\">typescriptlang.org: Handbook \u2192 Type Compatibility</a>"}, {"owner": {"reputation": 18564, "user_id": 360822, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xx2e3.jpg?s=128&g=1", "display_name": "Jimmyt1988", "link": "https://stackoverflow.com/users/360822/jimmyt1988"}, "edited": false, "score": 0, "creation_date": 1421933622, "post_id": 28080519, "comment_id": 44556596, "body": "What is the benefit of this loose type structural nonsense... Or is it a compromise because of JavaScript&#39;s failings?"}, {"owner": {"reputation": 18564, "user_id": 360822, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xx2e3.jpg?s=128&g=1", "display_name": "Jimmyt1988", "link": "https://stackoverflow.com/users/360822/jimmyt1988"}, "edited": false, "score": 0, "creation_date": 1421933907, "post_id": 28080519, "comment_id": 44556784, "body": "Is there any built in way to keep this type check from failing compilation... I see many situations where this could cause issues... Other than manually adding a unique id as a property to each class thus showing error. If not... Is there another language I can use that does check this type and show errors? Is the typescript compiler open source so I can change it?"}, {"owner": {"reputation": 7686, "user_id": 2626313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613888ad5bbd9ddba4bd81bbbfeb7a05?s=128&d=identicon&r=PG", "display_name": "xmojmr", "link": "https://stackoverflow.com/users/2626313/xmojmr"}, "reply_to_user": {"reputation": 18564, "user_id": 360822, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xx2e3.jpg?s=128&g=1", "display_name": "Jimmyt1988", "link": "https://stackoverflow.com/users/360822/jimmyt1988"}, "edited": false, "score": 1, "creation_date": 1422003997, "post_id": 28080519, "comment_id": 44587116, "body": "@Jimmyt1988 yes to your last question (see <a href=\"https://github.com/Microsoft/TypeScript/issues/274\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/274</a>)"}, {"owner": {"reputation": 18564, "user_id": 360822, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xx2e3.jpg?s=128&g=1", "display_name": "Jimmyt1988", "link": "https://stackoverflow.com/users/360822/jimmyt1988"}, "reply_to_user": {"reputation": 7686, "user_id": 2626313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613888ad5bbd9ddba4bd81bbbfeb7a05?s=128&d=identicon&r=PG", "display_name": "xmojmr", "link": "https://stackoverflow.com/users/2626313/xmojmr"}, "edited": false, "score": 0, "creation_date": 1422011352, "post_id": 28080519, "comment_id": 44591147, "body": "@xmojmr - Mega helpful, I hope it comes into fruition"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 5, "last_activity_date": 1421894976, "creation_date": 1421894976, "answer_id": 28080519, "question_id": 28080106, "link": "https://stackoverflow.com/questions/28080106/typescript-type-confusion-variable-doesnt-mind-type/28080519#28080519", "title": "Typescript type confusion. Variable doesn&#39;t mind type", "body": "<p>TypeScript uses a structural type system. Even though you didn't say <code>Sausage extends Greeter</code>, <code>Sausage</code> is still a <em>subtype</em> of <code>Greeter</code> because it has at least all the same members that <code>Greeter</code> does. Notice that anything you can do with a <code>Greeter</code> (access its <code>greeting</code> property or invoke its <code>greet</code> method) is legal to do with a <code>Sausage</code>.</p>\n\n<p>If you were to add a method <code>foo</code> to <code>Greeter</code>, or remove the <code>greeting</code> property from <code>Sausage</code>, for example, that last line of code would become an error. Any <code>private</code> member is also enough to cause a structural mismatch (unless <code>Sausage</code> was explicitly derived from <code>Greeter</code>).</p>\n"}], "owner": {"reputation": 18564, "user_id": 360822, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xx2e3.jpg?s=128&g=1", "display_name": "Jimmyt1988", "link": "https://stackoverflow.com/users/360822/jimmyt1988"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 28080519, "answer_count": 1, "score": 2, "last_activity_date": 1421894976, "creation_date": 1421891658, "question_id": 28080106, "link": "https://stackoverflow.com/questions/28080106/typescript-type-confusion-variable-doesnt-mind-type", "title": "Typescript type confusion. Variable doesn&#39;t mind type", "body": "<p>If i have:</p>\n\n<pre><code>var greeter: Greeter = new Sausage();\n</code></pre>\n\n<p>And both the <code>Greeter</code> class and <code>Sausage</code> class have the same functions and properties in them, the variable greeter will quite happily be filled up with a <code>Sausage</code>... How can i stop this?</p>\n\n<p>For example, the following code compiles fine :(</p>\n\n<pre><code>class Greeter {\n    greeting: string;\n    constructor(message: string) {\n        this.greeting = message;\n    }\n    greet() {\n        return \"Hello, \" + this.greeting;\n    }\n}\n\nclass Sausage {\n    size: number;\n    name: string;\n    greeting: string;\n\n    constructor() {\n        this.size = this.SausageLogic(); \n    }\n\n    private SausageLogic(): number {\n        return this.size * 3;\n    }\n    greet() {\n        return \"Hello, \";\n    }\n}\n\nvar greeter: Greeter = new Sausage();\n</code></pre>\n"}]